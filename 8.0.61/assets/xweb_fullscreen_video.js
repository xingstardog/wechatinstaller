(function(){this.xwebVideoBridge||(this.xwebVideoBridge=function(d,f){function n(b){b=b.target;var c=p(b);try{d.xwebToNative.onVideoTimeUpdate(b.currentTime,b.duration,c)}catch(e){}c=b.videoWidth;b=b.videoHeight;try{if(0!=c&&0!=b)d.xwebToNative.onVideoSizeUpdate(c,b)}catch(e){}}function q(b){try{d.xwebToNative.onVideoPlay()}catch(c){}}function r(b){try{d.xwebToNative.onVideoPause()}catch(c){}}function t(b){try{d.xwebToNative.onVideoPlaying()}catch(c){}}function u(b){try{d.xwebToNative.onVideoWaiting()}catch(c){}}
function v(b){try{d.xwebToNative.onVideoSeeking()}catch(c){}}function w(b){try{d.xwebToNative.onVideoEnded()}catch(c){}}function x(b){try{var c=b.srcElement.error;try{d.xwebToNative.onVideoError(c.code,c.message)}catch(e){}}catch(e){try{d.xwebToNative.onVideoError(-1,"")}catch(h){}}}function y(b){try{d.xwebToNative.onVideoSeeked()}catch(c){}}function z(b){try{var c=d.xwebToNative.onVideoEmptied()}catch(h){c=!1}if(0==c)try{var e=b.target;e==a&&(e.src||f&&f.webkitFullscreenElement&&f.webkitExitFullscreen())}catch(h){}}
function A(b){try{var c=b.target;if(c==a)try{d.xwebToNative.onVideoVolumeChange(c.muted)}catch(e){}}catch(e){}}function B(b){try{var c=b.target;if(c==a)try{d.xwebToNative.onVideoRateChange(c.playbackRate)}catch(e){}}catch(e){}}function p(b){for(var c=[],e=0;e<b.buffered.length;e++)c.push(b.buffered.start(e)),c.push(b.buffered.end(e));return c}var k,l,a=null,g=!0,C=!1;xwebVideoBridge.xwebToJS_Video_ExitFullscreen=function(){f&&f.webkitExitFullscreen();return"1"};xwebVideoBridge.xwebToJS_Video_NewPlay=
function(){a&&a.play();return"1"};xwebVideoBridge.xwebToJS_Video_NewPause=function(){a&&a.pause();return"1"};xwebVideoBridge.xwebToJS_Video_Play=function(){a&&(a.paused?a.play():a.pause());return"1"};xwebVideoBridge.xwebToJS_Video_Seek=function(b){a&&(a.currentTime=b);return"1"};xwebVideoBridge.xwebToJS_Video_MuteChange=function(b){a&&(a.muted=b);return"1"};xwebVideoBridge.xwebToJS_Video_RateChange=function(b){a&&(a.playbackRate=b);return"1"};xwebVideoBridge.xwebToNative_Special_Video_EnterFullscreen=
function(b){try{if(d.xwebToNative.onSpecialVideoEnterFullscreen)d.xwebToNative.onSpecialVideoEnterFullscreen(b)}catch(c){}};xwebVideoBridge.xwebToNative_Special_Video_Hook=function(b){try{d.xwebToNative.onSpecialVideoHook&&!C&&(d.xwebToNative.onSpecialVideoHook(b),C=!0)}catch(c){}};xwebVideoBridge.hookFullscreen=function(){xwebVideoBridge.xweb_webkitfullscreenchange||(xwebVideoBridge.xweb_webkitfullscreenchange=function(b){b=f;if(f.webkitFullscreenElement){(a=f.webkitFullscreenElement)&&"IFRAME"==
a.tagName&&(b=a.contentDocument,a=a.contentDocument.webkitFullscreenElement);g=!0;if(a&&"VIDEO"!=a.tagName){g=!1;var c=a.querySelectorAll("video");c&&0<c.length&&(a=c[0])}if(a&&"VIDEO"==a.tagName){a.addEventListener("timeupdate",n,!0);a.addEventListener("play",q,!0);a.addEventListener("pause",r,!0);a.addEventListener("playing",t,!0);a.addEventListener("waiting",u,!0);a.addEventListener("seeking",v,!0);a.addEventListener("seeked",y,!0);a.addEventListener("emptied",z,!0);a.addEventListener("error",
x,!0);a.addEventListener("ended",w,!0);a.addEventListener("volumechange",A,!0);a.addEventListener("ratechange",B,!0);c=a.videoWidth;var e=a.videoHeight;l=(new Date).valueOf();var h=p(a);try{d.xwebToNative.onVideoEnterFullscreen(g,l,c,e,a.paused,a.seeking,a.currentTime,a.duration,h)}catch(m){}g&&(c=b.getElementById("styles_js"),c||(c=b.createElement("style"),c.type="text/css",c.id="styles_js",b.getElementsByTagName("head")[0].appendChild(c)),k=b.createTextNode("video::-webkit-media-controls {display: none!important;}"),
c.appendChild(k));try{d.xwebToNative.onVideoVolumeChange(a.muted)}catch(m){}try{d.xwebToNative.onVideoRateChange(a.playbackRate)}catch(m){}}}else if(a){a.removeEventListener("timeupdate",n);a.removeEventListener("play",q);a.removeEventListener("pause",r);a.removeEventListener("playing",t);a.removeEventListener("waiting",u);a.removeEventListener("seeking",v);a.removeEventListener("seeked",y);a.removeEventListener("emptied",z);a.removeEventListener("error",x);a.removeEventListener("ended",w);a.removeEventListener("volumechange",
A);a.removeEventListener("ratechange",B);a=null;l=0;try{d.xwebToNative.onVideoExitFullscreen()}catch(m){}g&&(b=b.getElementById("styles_js"))&&b.hasChildNodes(k)&&b.removeChild(k)}},f.addEventListener("webkitfullscreenchange",xwebVideoBridge.xweb_webkitfullscreenchange,!0),f.addEventListener("fullscreenchange",xwebVideoBridge.xweb_webkitfullscreenchange,!0))};return 1},this.xwebVideoBridge(this,document));this.xwebVideoBridge.hookFullscreen()})();