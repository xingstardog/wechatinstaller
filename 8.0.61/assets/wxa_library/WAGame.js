this.__wxLibrary={fileName:"WAGame.js",envType:"Service",contextType:"Game:MainContext",execStart:Date.now(),mayHaveSnapshot:!0};var __WAGameStartTime__=this.__wxLibrary.execStart;!function(e){var t={updateTime:"2024.11.24 21:13:21",version:"3.6.6",features:{pruneWxConfigByPage:!0,injectGameContextPlugin:!0,lazyCodeLoading2:!0,lazyCodeLoadingForDevTool:!0,injectAppSeparatedPlugin:!0,nativeTrans:!0,gameLive:!0,skyline:!0,supportInvokeWithAppId:!0,supportAudits:!0,wkFeatureVersion:5,delayedServiceCodeCache:!0,gameLiveInvite:!0,globalConsole:!0,earlyDispatchSubPkgReady:!0,glassEasel:1,supportListenTaskStateChange:!0,supportListenNewPerformanceMetric:!0,collectInvokeCost:!0,externalDebug:!0,expt:["clicfg_appbrand_ios_native_socket_wcwss_new","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_canvas_use_magic_brush","clicfg_appbrand_report_trace_event","clicfg_appbrand_skyline_text_style","clicfg_appbrand_ios_allow_worker_binding_message","clicfg_appbrand_ios_arkit2wevision_usevertialplane","clicfg_appbrand_ios_use_jsapi_args_binding","clicfg_appbrand_webview_slow_frame","clicfg_appbrand_webview_native_intersection_observer","clicfg_appbrand_ios_control_close_condom_white","clicfg_appbrand_android_control_close_condom_white","clicfg_appbrand_android_use_game_delay_codecache","clicfg_appbrand_ios_game_shangcheng_kefu","clicfg_appbrand_ios_force_enable_aiad","clicfg_appbrand_android_force_enable_aiad","clicfg_handle_reqresp_in_worker_android","clicfg_appbrand_enable_batch_load_sub_pkg","clicfg_appbrand_ios_enable_aiad_debug_button","clicfg_appbrand_android_enable_aiad_debug_button","clicfg_appbrand_ios_enable_aiad_tag","clicfg_appbrand_android_enable_aiad_tag","clicfg_appbrand_ios_force_use_audio_dynamic_new","clicfg_appbrand_android_force_use_audio_dynamic_new","clicfg_appbrand_ios_operatewxdata_quic_group_control","clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1","clicfg_appbrand_android_operatewxdata_quic_group_control","clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1","clicfg_wxa_report_ssid","clicfg_miniprogram_global_translate_android","clicfg_miniprogram_global_translate_ios","clicfg_appbrand_android_ad_operatewxdata_batch","clicfg_appbrand_ios_ad_operatewxdata_batch","clicfg_appbrand_ios_operatewxdata_batch","clicfg_appbrand_android_operatewxdata_batch","clicfg_appbrand_ios_enable_jsopdata_mock","clicfg_appbrand_ios_android_aiad_interstitial_cache_time","clicfg_appbrand_android_jsapi_nocallback","clicfg_appbrand_ios_operatewxdata_priority","clicfg_appbrand_android_operatewxdata_priority","clicfg_appbrand_ios_operatewxdata_priority_group_control","clicfg_appbrand_android_operatewxdata_priority_group_control"],exptNeedParams:["clicfg_miniprogram_adreport_use_kv","clicfg_miniprogram_open_admb_in_motivating_v3","clicfg_miniprogram_open_admb2_in_motivating"],snapshotConfig:{"game:main":["WAGame.js"],"game:sub":["WAGameSubContext.js"]},mayHaveSnapshot:["WAServiceMainContext.js","WASubContext.js","WARenderContext.js","WAGame.js","WAGameSubContext.js"],pcSnapshotConfig:{minigame:{iframeDomain:{mainContext:["WAGame.js"],gameContext:["WAGameSubContext.js"]},workerDomain:{}},miniprogram:{iframeDomain:{},workerDomain:{main_context:["WAServiceMainContext.js"],sub_context:["WASubContext.js"]}}},privacyApiVersion:3},debugOptions:{}},r=e.Function,a=r,n={};(()=>{var e={5803:(e,t,r)=>{var a={"./applyDecoratedDescriptor":7386,"./asyncToGenerator":8921,"./initializerDefineProperty":8704,"./initializerWarningHelper":9651,"./objectSpread2":8680};function n(e){var t=i(e);return r(t)}function i(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=i,e.exports=n,n.id=5803},7386:(e,t,r)=>{"use strict";function a(e,t,r,a,n){var i={};return Object.keys(a).forEach((function(e){i[e]=a[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,a){return a(e,t,r)||r}),i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}r.r(t),r.d(t,{default:()=>a})},8921:(e,t,r)=>{"use strict";function a(e,t,r,a,n,i,o){try{var s=e[i](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,l,"next",e)}function l(e){a(o,n,i,s,l,"throw",e)}s(void 0)}))}}r.r(t),r.d(t,{default:()=>n})},8704:(e,t,r)=>{"use strict";function a(e,t,r,a){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}r.r(t),r.d(t,{default:()=>a})},9651:(e,t,r)=>{"use strict";function a(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}r.r(t),r.d(t,{default:()=>a})},8680:(e,t,r)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function i(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:()=>s})},9762:(e,t,r)=>{"use strict";var a=r(1551),n=r(4288),i=r(6124),o=r(5517),s=i.data,l=i.normalize,c="USE_FUNCTION_CONSTRUCTOR",u="AsyncIteratorPrototype",d=function(e,t){if(n(e))for(var r=0;r<e.length;r++)s[l(e[r])]=t};e.exports=function(e){"object"==typeof e&&(d(e.useNative,i.NATIVE),d(e.usePolyfill,i.POLYFILL),d(e.useFeatureDetection,null),a(e,c)&&(o[c]=!!e[c]),a(e,u)&&(o[u]=e[u]))}},8117:(e,t,r)=>{"use strict";var a=r(8173),n=r(7420),i=TypeError;e.exports=function(e){if(a(e))return e;throw new i(n(e)+" is not a function")}},6270:(e,t,r)=>{"use strict";var a=r(4524),n=r(7420),i=TypeError;e.exports=function(e){if(a(e))return e;throw new i(n(e)+" is not a constructor")}},8924:(e,t,r)=>{"use strict";var a=r(4977),n=String,i=TypeError;e.exports=function(e){if(a(e))return e;throw new i("Can't set "+n(e)+" as a prototype")}},6016:(e,t,r)=>{"use strict";var a=r(3840).has;e.exports=function(e){return a(e),e}},7591:(e,t,r)=>{"use strict";var a=r(7609),n=r(3062),i=r(2038),o=r(6469),s=r(8117),l=r(1636),c=r(3743),u=r(6387),d=u("asyncDispose"),p=u("dispose"),h=n([].push),f=function(e,t,r){return arguments.length<3&&!l(e)&&(r=s(function(e,t){if("async-dispose"===t){var r=c(e,d);return void 0!==r||void 0===(r=c(e,p))?r:function(){a(r,this)}}return c(e,p)}(o(e),t))),void 0===r?function(){}:i(r,e)};e.exports=function(e,t,r,a){var n;if(arguments.length<4){if(l(t)&&"sync-dispose"===r)return;n=f(t,r)}else n=f(void 0,r,a);h(e.stack,n)}},2890:(e,t,r)=>{"use strict";var a=r(6387),n=r(9543),i=r(615).f,o=a("unscopables"),s=Array.prototype;void 0===s[o]&&i(s,o,{configurable:!0,value:n(null)}),e.exports=function(e){s[o][e]=!0}},1747:(e,t,r)=>{"use strict";var a=r(6730),n=TypeError;e.exports=function(e,t){if(a(t,e))return e;throw new n("Incorrect invocation")}},6469:(e,t,r)=>{"use strict";var a=r(9693),n=String,i=TypeError;e.exports=function(e){if(a(e))return e;throw new i(n(e)+" is not an object")}},5392:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},1759:(e,t,r)=>{"use strict";var n,i,o,s=r(5392),l=r(1923),c=r(1848),u=r(8173),d=r(9693),p=r(1551),h=r(1465),f=r(7420),g=r(1384),v=r(5953),m=r(6248),y=r(6730),_=r(4483),b=r(5273),w=r(6387),I=r(4229),S=r(2417),k=S.enforce,C=S.get,T=c.Int8Array,P=T&&T.prototype,A=c.Uint8ClampedArray,E=A&&A.prototype,M=T&&_(T),x=P&&_(P),D=Object.prototype,R=c.TypeError,L=w("toStringTag"),N=I("TYPED_ARRAY_TAG"),O="TypedArrayConstructor",B=s&&!!b&&"Opera"!==h(c.opera),j=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},W={BigInt64Array:8,BigUint64Array:8},U=function(e){var t=_(e);if(d(t)){var r=C(t);return r&&p(r,O)?r[O]:U(t)}},G=function(e){if(!d(e))return!1;var t=h(e);return p(F,t)||p(W,t)};for(n in F)(o=(i=c[n])&&i.prototype)?k(o)[O]=i:B=!1;for(n in W)(o=(i=c[n])&&i.prototype)&&(k(o)[O]=i);if((!B||!u(M)||M===a.prototype)&&(M=function(){throw new R("Incorrect invocation")},B))for(n in F)c[n]&&b(c[n],M);if((!B||!x||x===D)&&(x=M.prototype,B))for(n in F)c[n]&&b(c[n].prototype,x);if(B&&_(E)!==x&&b(E,x),l&&!p(x,L))for(n in j=!0,m(x,L,{configurable:!0,get:function(){return d(this)?this[N]:void 0}}),F)c[n]&&g(c[n],N,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:j&&N,aTypedArray:function(e){if(G(e))return e;throw new R("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!b||y(M,e)))return e;throw new R(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,a){if(l){if(r)for(var n in F){var i=c[n];if(i&&p(i.prototype,e))try{delete i.prototype[e]}catch(r){try{i.prototype[e]=t}catch(e){}}}x[e]&&!r||v(x,e,r?t:B&&P[e]||t,a)}},exportTypedArrayStaticMethod:function(e,t,r){var a,n;if(l){if(b){if(r)for(a in F)if((n=c[a])&&p(n,e))try{delete n[e]}catch(e){}if(M[e]&&!r)return;try{return v(M,e,r?t:B&&M[e]||t)}catch(e){}}for(a in F)!(n=c[a])||n[e]&&!r||v(n,e,t)}},getTypedArrayConstructor:U,isView:function(e){if(!d(e))return!1;var t=h(e);return"DataView"===t||p(F,t)||p(W,t)},isTypedArray:G,TypedArray:M,TypedArrayPrototype:x}},1180:(e,t,r)=>{"use strict";var a=r(3659),n=r(3663),i=r(9110);e.exports=function(e){for(var t=a(this),r=i(t),o=arguments.length,s=n(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,c=void 0===l?r:n(l,r);c>s;)t[s++]=e;return t}},4744:(e,t,r)=>{"use strict";var a=r(2038),n=r(3062),i=r(3659),o=r(4524),s=r(2330),l=r(9072),c=r(8986),u=r(2100),d=r(3743),p=r(9406),h=r(8168),f=r(6387),g=r(147),v=r(7163).toArray,m=f("asyncIterator"),y=n(h("Array","values")),_=n(y([]).next),b=function(){return new w(this)},w=function(e){this.iterator=y(e)};w.prototype.next=function(){return _(this.iterator)},e.exports=function(e){var t=this,r=arguments.length,n=r>1?arguments[1]:void 0,h=r>2?arguments[2]:void 0;return new(p("Promise"))((function(r){var p=i(e);void 0!==n&&(n=a(n,h));var f=d(p,m),y=f?void 0:u(p)||b,_=o(t)?new t:[],w=f?s(p,f):new g(c(l(p,y)));r(v(w,n,_))}))}},2239:(e,t,r)=>{"use strict";var a=r(9110);e.exports=function(e,t,r){for(var n=0,i=arguments.length>2?r:a(t),o=new e(i);i>n;)o[n]=t[n++];return o}},3077:(e,t,r)=>{"use strict";var a=r(2038),n=r(3062),i=r(2832),o=r(3659),s=r(9110),l=r(7741),c=l.Map,u=l.get,d=l.has,p=l.set,h=n([].push);e.exports=function(e){for(var t,r,n=o(this),l=i(n),f=a(e,arguments.length>1?arguments[1]:void 0),g=new c,v=s(l),m=0;v>m;m++)t=f(r=l[m],m,n),d(g,t)?h(u(g,t),r):p(g,t,[r]);return g}},6747:(e,t,r)=>{"use strict";var a=r(2038),n=r(3062),i=r(2832),o=r(3659),s=r(7445),l=r(9110),c=r(9543),u=r(2239),d=Array,p=n([].push);e.exports=function(e,t,r,n){for(var h,f,g,v=o(e),m=i(v),y=a(t,r),_=c(null),b=l(m),w=0;b>w;w++)g=m[w],(f=s(y(g,w,v)))in _?p(_[f],g):_[f]=[g];if(n&&(h=n(v))!==d)for(f in _)_[f]=u(h,_[f]);return _}},4158:(e,t,r)=>{"use strict";var a=r(8632),n=r(3663),i=r(9110),o=function(e){return function(t,r,o){var s=a(t),l=i(s);if(0===l)return!e&&-1;var c,u=n(o,l);if(e&&r!=r){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2008:(e,t,r)=>{"use strict";var a=r(2038),n=r(2832),i=r(3659),o=r(9110),s=function(e){var t=1===e;return function(r,s,l){for(var c,u=i(r),d=n(u),p=o(d),h=a(s,l);p-- >0;)if(h(c=d[p],p,u))switch(e){case 0:return c;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},7816:(e,t,r)=>{"use strict";var a=r(8462);e.exports=function(e,t){var r=[][e];return!!r&&a((function(){r.call(null,t||function(){return 1},1)}))}},7826:(e,t,r)=>{"use strict";var a=r(1923),n=r(4288),i=TypeError,o=Object.getOwnPropertyDescriptor,s=a&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(n(e)&&!o(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7706:(e,t,r)=>{"use strict";var a=r(3062);e.exports=a([].slice)},9070:(e,t,r)=>{"use strict";var a=r(7706),n=Math.floor,i=function(e,t){var r=e.length;if(r<8)for(var o,s,l=1;l<r;){for(s=l,o=e[l];s&&t(e[s-1],o)>0;)e[s]=e[--s];s!==l++&&(e[s]=o)}else for(var c=n(r/2),u=i(a(e,0,c),t),d=i(a(e,c),t),p=u.length,h=d.length,f=0,g=0;f<p||g<h;)e[f+g]=f<p&&g<h?t(u[f],d[g])<=0?u[f++]:d[g++]:f<p?u[f++]:d[g++];return e};e.exports=i},459:(e,t,r)=>{"use strict";var a=r(9110);e.exports=function(e,t){for(var r=a(e),n=new t(r),i=0;i<r;i++)n[i]=e[r-i-1];return n}},1403:(e,t,r)=>{"use strict";var a=r(9110),n=r(6521),i=RangeError;e.exports=function(e,t,r,o){var s=a(e),l=n(r),c=l<0?s+l:l;if(c>=s||c<0)throw new i("Incorrect index");for(var u=new t(s),d=0;d<s;d++)u[d]=d===c?o:e[d];return u}},147:(e,t,r)=>{"use strict";var a=r(7609),n=r(6469),i=r(9543),o=r(3743),s=r(8881),l=r(2417),c=r(9406),u=r(2179),d=r(9462),p=c("Promise"),h="AsyncFromSyncIterator",f=l.set,g=l.getterFor(h),v=function(e,t,r){var a=e.done;p.resolve(e.value).then((function(e){t(d(e,a))}),r)},m=function(e){e.type=h,f(this,e)};m.prototype=s(i(u),{next:function(){var e=g(this);return new p((function(t,r){var i=n(a(e.next,e.iterator));v(i,t,r)}))},return:function(){var e=g(this).iterator;return new p((function(t,r){var i=o(e,"return");if(void 0===i)return t(d(void 0,!0));var s=n(a(i,e));v(s,t,r)}))}}),e.exports=m},7897:(e,t,r)=>{"use strict";var a=r(7609),n=r(9406),i=r(3743);e.exports=function(e,t,r,o){try{var s=i(e,"return");if(s)return n("Promise").resolve(a(s,e)).then((function(){t(r)}),(function(e){o(e)}))}catch(e){return o(e)}t(r)}},9296:(e,t,r)=>{"use strict";var a=r(7609),n=r(1689),i=r(6469),o=r(9543),s=r(1384),l=r(8881),c=r(6387),u=r(2417),d=r(9406),p=r(3743),h=r(2179),f=r(9462),g=r(9273),v=d("Promise"),m=c("toStringTag"),y="AsyncIteratorHelper",_="WrapForValidAsyncIterator",b=u.set,w=function(e){var t=!e,r=u.getterFor(e?_:y),s=function(e){var a=n((function(){return r(e)})),i=a.error,o=a.value;return i||t&&o.done?{exit:!0,value:i?v.reject(o):v.resolve(f(void 0,!0))}:{exit:!1,value:o}};return l(o(h),{next:function(){var e=s(this),t=e.value;if(e.exit)return t;var r=n((function(){return i(t.nextHandler(v))})),a=r.error,o=r.value;return a&&(t.done=!0),a?v.reject(o):v.resolve(o)},return:function(){var t=s(this),r=t.value;if(t.exit)return r;r.done=!0;var o,l,c=r.iterator,u=n((function(){if(r.inner)try{g(r.inner.iterator,"normal")}catch(e){return g(c,"throw",e)}return p(c,"return")}));return o=l=u.value,u.error?v.reject(l):void 0===o?v.resolve(f(void 0,!0)):(l=(u=n((function(){return a(o,c)}))).value,u.error?v.reject(l):e?v.resolve(l):v.resolve(l).then((function(e){return i(e),f(void 0,!0)})))}})},I=w(!0),S=w(!1);s(S,m,"Async Iterator Helper"),e.exports=function(e,t){var r=function(r,a){a?(a.iterator=r.iterator,a.next=r.next):a=r,a.type=t?_:y,a.nextHandler=e,a.counter=0,a.done=!1,b(this,a)};return r.prototype=t?I:S,r}},7163:(e,t,r)=>{"use strict";var a=r(7609),n=r(8117),i=r(6469),o=r(9693),s=r(8475),l=r(9406),c=r(8986),u=r(7897),d=function(e){var t=0===e,r=1===e,d=2===e,p=3===e;return function(e,h,f){i(e);var g=void 0!==h;!g&&t||n(h);var v=c(e),m=l("Promise"),y=v.iterator,_=v.next,b=0;return new m((function(e,n){var l=function(e){u(y,n,e,n)},c=function(){try{if(g)try{s(b)}catch(e){l(e)}m.resolve(i(a(_,y))).then((function(a){try{if(i(a).done)t?(f.length=b,e(f)):e(!p&&(d||void 0));else{var s=a.value;try{if(g){var v=h(s,b),_=function(a){if(r)c();else if(d)a?c():u(y,e,!1,n);else if(t)try{f[b++]=a,c()}catch(e){l(e)}else a?u(y,e,p||s,n):c()};o(v)?m.resolve(v).then(_,l):_(v)}else f[b++]=s,c()}catch(e){l(e)}}}catch(e){n(e)}}),n)}catch(e){n(e)}};c()}))}};e.exports={toArray:d(0),forEach:d(1),every:d(2),some:d(3),find:d(4)}},7073:(e,t,r)=>{"use strict";var a=r(7609),n=r(8117),i=r(6469),o=r(9693),s=r(8986),l=r(9296),c=r(9462),u=r(7897),d=l((function(e){var t=this,r=t.iterator,n=t.mapper;return new e((function(s,l){var d=function(e){t.done=!0,l(e)},p=function(e){u(r,d,e,d)};e.resolve(i(a(t.next,r))).then((function(r){try{if(i(r).done)t.done=!0,s(c(void 0,!0));else{var a=r.value;try{var l=n(a,t.counter++),u=function(e){s(c(e,!1))};o(l)?e.resolve(l).then(u,p):u(l)}catch(e){p(e)}}}catch(e){d(e)}}),d)}))}));e.exports=function(e){return i(this),n(e),new d(s(this),{mapper:e})}},2179:(e,t,r)=>{"use strict";var n,i,o=r(1848),s=r(5517),l=r(8173),c=r(9543),u=r(4483),d=r(5953),p=r(6387),h=r(4151),f="USE_FUNCTION_CONSTRUCTOR",g=p("asyncIterator"),v=o.AsyncIterator,m=s.AsyncIteratorPrototype;if(m)n=m;else if(l(v))n=v.prototype;else if(s[f]||o[f])try{i=u(u(u(a("return async function*(){}()")()))),u(i)===Object.prototype&&(n=i)}catch(e){}n?h&&(n=c(n)):n={},l(n[g])||d(n,g,(function(){return this})),e.exports=n},3525:(e,t,r)=>{"use strict";var a=r(7609),n=r(9296);e.exports=n((function(){return a(this.next,this.iterator)}),!0)},9832:(e,t,r)=>{"use strict";var a=r(6469),n=r(9273);e.exports=function(e,t,r,i){try{return i?t(a(r)[0],r[1]):t(r)}catch(t){n(e,"throw",t)}}},4912:(e,t,r)=>{"use strict";var a=r(6387)("iterator"),n=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){n=!0}};o[a]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!n)return!1}catch(e){return!1}var r=!1;try{var i={};i[a]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},6892:(e,t,r)=>{"use strict";var a=r(3062),n=a({}.toString),i=a("".slice);e.exports=function(e){return i(n(e),8,-1)}},1465:(e,t,r)=>{"use strict";var a=r(1326),n=r(8173),i=r(6892),o=r(6387)("toStringTag"),s=Object,l="Arguments"===i(function(){return arguments}());e.exports=a?i:function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?r:l?i(t):"Object"===(a=i(t))&&n(t.callee)?"Arguments":a}},744:(e,t,r)=>{"use strict";var a=r(1551),n=r(3349),i=r(5983),o=r(615);e.exports=function(e,t,r){for(var s=n(t),l=o.f,c=i.f,u=0;u<s.length;u++){var d=s[u];a(e,d)||r&&a(r,d)||l(e,d,c(t,d))}}},7712:(e,t,r)=>{"use strict";var a=r(8462);e.exports=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},9462:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},1384:(e,t,r)=>{"use strict";var a=r(1923),n=r(615),i=r(4127);e.exports=a?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},4127:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4676:(e,t,r)=>{"use strict";var a=r(1923),n=r(615),i=r(4127);e.exports=function(e,t,r){a?n.f(e,t,i(0,r)):e[t]=r}},6248:(e,t,r)=>{"use strict";var a=r(1704),n=r(615);e.exports=function(e,t,r){return r.get&&a(r.get,t,{getter:!0}),r.set&&a(r.set,t,{setter:!0}),n.f(e,t,r)}},5953:(e,t,r)=>{"use strict";var a=r(8173),n=r(615),i=r(1704),o=r(3958);e.exports=function(e,t,r,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(a(r)&&i(r,c,s),s.global)l?e[t]=r:o(t,r);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=r:n.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},8881:(e,t,r)=>{"use strict";var a=r(5953);e.exports=function(e,t,r){for(var n in t)a(e,n,t[n],r);return e}},3958:(e,t,r)=>{"use strict";var a=r(1848),n=Object.defineProperty;e.exports=function(e,t){try{n(a,e,{value:t,configurable:!0,writable:!0})}catch(r){a[e]=t}return t}},5588:(e,t,r)=>{"use strict";var a=r(7420),n=TypeError;e.exports=function(e,t){if(!delete e[t])throw new n("Cannot delete property "+a(t)+" of "+a(e))}},1923:(e,t,r)=>{"use strict";var a=r(8462);e.exports=!a((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4446:(e,t,r)=>{"use strict";var a=r(1848),n=r(9693),i=a.document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},8475:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},7094:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9257:(e,t,r)=>{"use strict";var a=r(8722).match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},1466:(e,t,r)=>{"use strict";var a=r(8722);e.exports=/MSIE|Trident/.test(a)},9788:(e,t,r)=>{"use strict";var a=r(8722);e.exports=/ipad|iphone|ipod/i.test(a)&&"undefined"!=typeof Pebble},9823:(e,t,r)=>{"use strict";var a=r(8722);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},2409:(e,t,r)=>{"use strict";var a=r(1558);e.exports="NODE"===a},2027:(e,t,r)=>{"use strict";var a=r(8722);e.exports=/web0s(?!.*chrome)/i.test(a)},8722:(e,t,r)=>{"use strict";var a=r(1848).navigator,n=a&&a.userAgent;e.exports=n?String(n):""},9255:(e,t,r)=>{"use strict";var a,n,i=r(1848),o=r(8722),s=i.process,l=i.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(n=(a=u.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!n&&o&&(!(a=o.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=o.match(/Chrome\/(\d+)/))&&(n=+a[1]),e.exports=n},8560:(e,t,r)=>{"use strict";var a=r(8722).match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},1558:(e,t,r)=>{"use strict";var a=r(1848),n=r(8722),i=r(6892),o=function(e){return n.slice(0,e.length)===e};e.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":a.Bun&&"string"==typeof Bun.version?"BUN":a.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(a.process)?"NODE":a.window&&a.document?"BROWSER":"REST"},5290:(e,t,r)=>{"use strict";var a=r(3062),n=Error,i=a("".replace),o=String(new n("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!n.prepareStackTrace)for(;t--;)e=i(e,s,"");return e}},2519:(e,t,r)=>{"use strict";var a=r(1384),n=r(5290),i=r(692),o=Error.captureStackTrace;e.exports=function(e,t,r,s){i&&(o?o(e,t):a(e,"stack",n(r,s)))}},692:(e,t,r)=>{"use strict";var a=r(8462),n=r(4127);e.exports=!a((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},4395:(e,t,r)=>{"use strict";var a=r(1848),n=r(5983).f,i=r(1384),o=r(5953),s=r(3958),l=r(744),c=r(6124);e.exports=function(e,t){var r,u,d,p,h,f=e.target,g=e.global,v=e.stat;if(r=g?a:v?a[f]||s(f,{}):a[f]&&a[f].prototype)for(u in t){if(p=t[u],d=e.dontCallGetSet?(h=n(r,u))&&h.value:r[u],!c(g?u:f+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&i(p,"sham",!0),o(r,u,p,e)}}},8462:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},3178:(e,t,r)=>{"use strict";var n=r(5020),i=a.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(o):function(){return s.apply(o,arguments)})},2038:(e,t,r)=>{"use strict";var a=r(1992),n=r(8117),i=r(5020),o=a(a.bind);e.exports=function(e,t){return n(e),void 0===t?e:i?o(e,t):function(){return e.apply(t,arguments)}}},5020:(e,t,r)=>{"use strict";var a=r(8462);e.exports=!a((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7609:(e,t,r)=>{"use strict";var n=r(5020),i=a.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},63:(e,t,r)=>{"use strict";var n=r(1923),i=r(1551),o=a.prototype,s=n&&Object.getOwnPropertyDescriptor,l=i(o,"name"),c=l&&"something"===function(){}.name,u=l&&(!n||n&&s(o,"name").configurable);e.exports={EXISTS:l,PROPER:c,CONFIGURABLE:u}},252:(e,t,r)=>{"use strict";var a=r(3062),n=r(8117);e.exports=function(e,t,r){try{return a(n(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},1992:(e,t,r)=>{"use strict";var a=r(6892),n=r(3062);e.exports=function(e){if("Function"===a(e))return n(e)}},3062:(e,t,r)=>{"use strict";var n=r(5020),i=a.prototype,o=i.call,s=n&&i.bind.bind(o,o);e.exports=n?s:function(e){return function(){return o.apply(e,arguments)}}},1401:(e,t,r)=>{"use strict";var a=r(7609),n=r(8173),i=r(6469),o=r(8986),s=r(2100),l=r(3743),c=r(6387),u=r(147),d=c("asyncIterator");e.exports=function(e){var t,r=i(e),c=!0,p=l(r,d);return n(p)||(p=s(r),c=!1),void 0!==p?t=a(p,r):(t=r,c=!0),i(t),o(c?t:new u(o(t)))}},2330:(e,t,r)=>{"use strict";var a=r(7609),n=r(147),i=r(6469),o=r(9072),s=r(8986),l=r(3743),c=r(6387)("asyncIterator");e.exports=function(e,t){var r=arguments.length<2?l(e,c):t;return r?i(a(r,e)):new n(s(o(e)))}},8168:(e,t,r)=>{"use strict";var a=r(1848);e.exports=function(e,t){var r=a[e],n=r&&r.prototype;return n&&n[t]}},9406:(e,t,r)=>{"use strict";var a=r(1848),n=r(8173);e.exports=function(e,t){return arguments.length<2?(r=a[e],n(r)?r:void 0):a[e]&&a[e][t];var r}},8986:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},8304:(e,t,r)=>{"use strict";var a=r(7609),n=r(6469),i=r(8986),o=r(2100);e.exports=function(e,t){t&&"string"==typeof e||n(e);var r=o(e);return i(n(void 0!==r?a(r,e):e))}},2100:(e,t,r)=>{"use strict";var a=r(1465),n=r(3743),i=r(1636),o=r(7343),s=r(6387)("iterator");e.exports=function(e){if(!i(e))return n(e,s)||n(e,"@@iterator")||o[a(e)]}},9072:(e,t,r)=>{"use strict";var a=r(7609),n=r(8117),i=r(6469),o=r(7420),s=r(2100),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(n(r))return i(a(r,e));throw new l(o(e)+" is not iterable")}},3743:(e,t,r)=>{"use strict";var a=r(8117),n=r(1636);e.exports=function(e,t){var r=e[t];return n(r)?void 0:a(r)}},1998:(e,t,r)=>{"use strict";var a=r(8117),n=r(6469),i=r(7609),o=r(6521),s=r(8986),l="Invalid size",c=RangeError,u=TypeError,d=Math.max,p=function(e,t){this.set=e,this.size=d(t,0),this.has=a(e.has),this.keys=a(e.keys)};p.prototype={getIterator:function(){return s(n(i(this.keys,this.set)))},includes:function(e){return i(this.has,this.set,e)}},e.exports=function(e){n(e);var t=+e.size;if(t!=t)throw new u(l);var r=o(t);if(r<0)throw new c(l);return new p(e,r)}},1848:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||a("return this")()},1551:(e,t,r)=>{"use strict";var a=r(3062),n=r(3659),i=a({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(n(e),t)}},7051:e=>{"use strict";e.exports={}},2157:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2241:(e,t,r)=>{"use strict";var a=r(9406);e.exports=a("document","documentElement")},1881:(e,t,r)=>{"use strict";var a=r(1923),n=r(8462),i=r(4446);e.exports=!a&&!n((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},2832:(e,t,r)=>{"use strict";var a=r(3062),n=r(8462),i=r(6892),o=Object,s=a("".split);e.exports=n((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?s(e,""):o(e)}:o},6339:(e,t,r)=>{"use strict";var a=r(8173),n=r(9693),i=r(5273);e.exports=function(e,t,r){var o,s;return i&&a(o=t.constructor)&&o!==r&&n(s=o.prototype)&&s!==r.prototype&&i(e,s),e}},5239:(e,t,r)=>{"use strict";var n=r(3062),i=r(8173),o=r(5517),s=n(a.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},6001:(e,t,r)=>{"use strict";var a=r(9693),n=r(1384);e.exports=function(e,t){a(t)&&"cause"in t&&n(e,"cause",t.cause)}},2417:(e,t,r)=>{"use strict";var a,n,i,o=r(3721),s=r(1848),l=r(9693),c=r(1384),u=r(1551),d=r(5517),p=r(5612),h=r(7051),f="Object already initialized",g=s.TypeError,v=s.WeakMap;if(o||d.state){var m=d.state||(d.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,a=function(e,t){if(m.has(e))throw new g(f);return t.facade=e,m.set(e,t),t},n=function(e){return m.get(e)||{}},i=function(e){return m.has(e)}}else{var y=p("state");h[y]=!0,a=function(e,t){if(u(e,y))throw new g(f);return t.facade=e,c(e,y,t),t},n=function(e){return u(e,y)?e[y]:{}},i=function(e){return u(e,y)}}e.exports={set:a,get:n,has:i,enforce:function(e){return i(e)?n(e):a(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=n(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return r}}}},9345:(e,t,r)=>{"use strict";var a=r(6387),n=r(7343),i=a("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},4288:(e,t,r)=>{"use strict";var a=r(6892);e.exports=Array.isArray||function(e){return"Array"===a(e)}},4107:(e,t,r)=>{"use strict";var a=r(1465);e.exports=function(e){var t=a(e);return"BigInt64Array"===t||"BigUint64Array"===t}},8173:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4524:(e,t,r)=>{"use strict";var a=r(3062),n=r(8462),i=r(8173),o=r(1465),s=r(9406),l=r(5239),c=function(){},u=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=a(d.exec),h=!d.test(c),f=function(e){if(!i(e))return!1;try{return u(c,[],e),!0}catch(e){return!1}},g=function(e){if(!i(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(d,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!u||n((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?g:f},6124:(e,t,r)=>{"use strict";var a=r(8462),n=r(8173),i=/#|\.prototype\./,o=function(e,t){var r=l[s(e)];return r===u||r!==c&&(n(t)?a(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},1636:e=>{"use strict";e.exports=function(e){return null==e}},9693:(e,t,r)=>{"use strict";var a=r(8173);e.exports=function(e){return"object"==typeof e?null!==e:a(e)}},4977:(e,t,r)=>{"use strict";var a=r(9693);e.exports=function(e){return a(e)||null===e}},4151:e=>{"use strict";e.exports=!1},9525:(e,t,r)=>{"use strict";var a=r(9406),n=r(8173),i=r(6730),o=r(5363),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=a("Symbol");return n(t)&&i(t.prototype,s(e))}},9806:(e,t,r)=>{"use strict";var a=r(7609);e.exports=function(e,t,r){for(var n,i,o=r?e:e.iterator,s=e.next;!(n=a(s,o)).done;)if(void 0!==(i=t(n.value)))return i}},2201:(e,t,r)=>{"use strict";var a=r(2038),n=r(7609),i=r(6469),o=r(7420),s=r(9345),l=r(9110),c=r(6730),u=r(9072),d=r(2100),p=r(9273),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,r){var v,m,y,_,b,w,I,S=r&&r.that,k=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_RECORD),T=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),A=a(t,S),E=function(e){return v&&p(v,"normal",e),new f(!0,e)},M=function(e){return k?(i(e),P?A(e[0],e[1],E):A(e[0],e[1])):P?A(e,E):A(e)};if(C)v=e.iterator;else if(T)v=e;else{if(!(m=d(e)))throw new h(o(e)+" is not iterable");if(s(m)){for(y=0,_=l(e);_>y;y++)if((b=M(e[y]))&&c(g,b))return b;return new f(!1)}v=u(e,m)}for(w=C?e.next:v.next;!(I=n(w,v)).done;){try{b=M(I.value)}catch(e){p(v,"throw",e)}if("object"==typeof b&&b&&c(g,b))return b}return new f(!1)}},9273:(e,t,r)=>{"use strict";var a=r(7609),n=r(6469),i=r(3743);e.exports=function(e,t,r){var o,s;n(e);try{if(!(o=i(e,"return"))){if("throw"===t)throw r;return r}o=a(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw r;if(s)throw o;return n(o),r}},2160:(e,t,r)=>{"use strict";var a=r(7609),n=r(9543),i=r(1384),o=r(8881),s=r(6387),l=r(2417),c=r(3743),u=r(7092).IteratorPrototype,d=r(9462),p=r(9273),h=s("toStringTag"),f="IteratorHelper",g="WrapForValidIterator",v=l.set,m=function(e){var t=l.getterFor(e?g:f);return o(n(u),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var a=r.done?void 0:r.nextHandler();return d(a,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),n=r.iterator;if(r.done=!0,e){var i=c(n,"return");return i?a(i,n):d(void 0,!0)}if(r.inner)try{p(r.inner.iterator,"normal")}catch(e){return p(n,"throw",e)}return p(n,"normal"),d(void 0,!0)}})},y=m(!0),_=m(!1);i(_,h,"Iterator Helper"),e.exports=function(e,t){var r=function(r,a){a?(a.iterator=r.iterator,a.next=r.next):a=r,a.type=t?g:f,a.nextHandler=e,a.counter=0,a.done=!1,v(this,a)};return r.prototype=t?y:_,r}},2563:(e,t,r)=>{"use strict";var a=r(7609),n=r(8117),i=r(6469),o=r(8986),s=r(2160),l=r(9832),c=s((function(){var e=this.iterator,t=i(a(this.next,e));if(!(this.done=!!t.done))return l(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return i(this),n(e),new c(o(this),{mapper:e})}},7092:(e,t,r)=>{"use strict";var a,n,i,o=r(8462),s=r(8173),l=r(9693),c=r(9543),u=r(4483),d=r(5953),p=r(6387),h=r(4151),f=p("iterator"),g=!1;[].keys&&("next"in(i=[].keys())?(n=u(u(i)))!==Object.prototype&&(a=n):g=!0),!l(a)||o((function(){var e={};return a[f].call(e)!==e}))?a={}:h&&(a=c(a)),s(a[f])||d(a,f,(function(){return this})),e.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:g}},7343:e=>{"use strict";e.exports={}},9110:(e,t,r)=>{"use strict";var a=r(4233);e.exports=function(e){return a(e.length)}},1704:(e,t,r)=>{"use strict";var n=r(3062),i=r(8462),o=r(8173),s=r(1551),l=r(1923),c=r(63).CONFIGURABLE,u=r(5239),d=r(2417),p=d.enforce,h=d.get,f=String,g=Object.defineProperty,v=n("".slice),m=n("".replace),y=n([].join),_=l&&!i((function(){return 8!==g((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===v(f(t),0,7)&&(t="["+m(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(l?g(e,"name",{value:t,configurable:!0}):e.name=t),_&&r&&s(r,"arity")&&e.length!==r.arity&&g(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?l&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var a=p(e);return s(a,"source")||(a.source=y(b,"string"==typeof t?t:"")),e};a.prototype.toString=w((function(){return o(this)&&h(this).source||u(this)}),"toString")},7741:(e,t,r)=>{"use strict";var a=r(3062),n=Map.prototype;e.exports={Map:Map,set:a(n.set),get:a(n.get),has:a(n.has),remove:a(n.delete),proto:n}},9344:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var a=+e;return(a>0?r:t)(a)}},5684:(e,t,r)=>{"use strict";var a,n,i,o,s,l=r(1848),c=r(5512),u=r(2038),d=r(4320).set,p=r(5141),h=r(9823),f=r(9788),g=r(2027),v=r(2409),m=l.MutationObserver||l.WebKitMutationObserver,y=l.document,_=l.process,b=l.Promise,w=c("queueMicrotask");if(!w){var I=new p,S=function(){var e,t;for(v&&(e=_.domain)&&e.exit();t=I.get();)try{t()}catch(e){throw I.head&&a(),e}e&&e.enter()};h||v||g||!m||!y?!f&&b&&b.resolve?((o=b.resolve(void 0)).constructor=b,s=u(o.then,o),a=function(){s(S)}):v?a=function(){_.nextTick(S)}:(d=u(d,l),a=function(){d(S)}):(n=!0,i=y.createTextNode(""),new m(S).observe(i,{characterData:!0}),a=function(){i.data=n=!n}),w=function(e){I.head||a(),I.add(e)}}e.exports=w},8326:(e,t,r)=>{"use strict";var a=r(8117),n=TypeError,i=function(e){var t,r;this.promise=new e((function(e,a){if(void 0!==t||void 0!==r)throw new n("Bad Promise constructor");t=e,r=a})),this.resolve=a(t),this.reject=a(r)};e.exports.f=function(e){return new i(e)}},9766:(e,t,r)=>{"use strict";var a=r(5774);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:a(e)}},8428:e=>{"use strict";var t=RangeError;e.exports=function(e){if(e==e)return e;throw new t("NaN is not allowed")}},9543:(e,t,r)=>{"use strict";var a,n=r(6469),i=r(1981),o=r(7094),s=r(7051),l=r(2241),c=r(4446),u=r(5612),d="prototype",p="script",h=u("IE_PROTO"),f=function(){},g=function(e){return"<"+p+">"+e+"</"+p+">"},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{a=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;m="undefined"!=typeof document?document.domain&&a?v(a):(t=c("iframe"),r="java"+p+":",t.style.display="none",l.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):v(a);for(var n=o.length;n--;)delete m[d][o[n]];return m()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f[d]=n(e),r=new f,f[d]=null,r[h]=e):r=m(),void 0===t?r:i.f(r,t)}},1981:(e,t,r)=>{"use strict";var a=r(1923),n=r(2552),i=r(615),o=r(6469),s=r(8632),l=r(5923);t.f=a&&!n?Object.defineProperties:function(e,t){o(e);for(var r,a=s(t),n=l(t),c=n.length,u=0;c>u;)i.f(e,r=n[u++],a[r]);return e}},615:(e,t,r)=>{"use strict";var a=r(1923),n=r(1881),i=r(2552),o=r(6469),s=r(7445),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=a?i?function(e,t,r){if(o(e),t=s(t),o(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var a=u(e,t);a&&a[h]&&(e[t]=r.value,r={configurable:p in r?r[p]:a[p],enumerable:d in r?r[d]:a[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(o(e),t=s(t),o(r),n)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},5983:(e,t,r)=>{"use strict";var a=r(1923),n=r(7609),i=r(6146),o=r(4127),s=r(8632),l=r(7445),c=r(1551),u=r(1881),d=Object.getOwnPropertyDescriptor;t.f=a?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return o(!n(i.f,e,t),e[t])}},1010:(e,t,r)=>{"use strict";var a=r(6866),n=r(7094).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,n)}},436:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},4483:(e,t,r)=>{"use strict";var a=r(1551),n=r(8173),i=r(3659),o=r(5612),s=r(7712),l=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=i(e);if(a(t,l))return t[l];var r=t.constructor;return n(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},6730:(e,t,r)=>{"use strict";var a=r(3062);e.exports=a({}.isPrototypeOf)},6866:(e,t,r)=>{"use strict";var a=r(3062),n=r(1551),i=r(8632),o=r(4158).indexOf,s=r(7051),l=a([].push);e.exports=function(e,t){var r,a=i(e),c=0,u=[];for(r in a)!n(s,r)&&n(a,r)&&l(u,r);for(;t.length>c;)n(a,r=t[c++])&&(~o(u,r)||l(u,r));return u}},5923:(e,t,r)=>{"use strict";var a=r(6866),n=r(7094);e.exports=Object.keys||function(e){return a(e,n)}},6146:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,n=a&&!r.call({1:2},1);t.f=n?function(e){var t=a(this,e);return!!t&&t.enumerable}:r},5273:(e,t,r)=>{"use strict";var a=r(252),n=r(9693),i=r(170),o=r(8924);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=a(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,a){return i(r),o(a),n(r)?(t?e(r,a):r.__proto__=a,r):r}}():void 0)},3613:(e,t,r)=>{"use strict";var a=r(7609),n=r(8173),i=r(9693),o=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&n(r=e.toString)&&!i(s=a(r,e)))return s;if(n(r=e.valueOf)&&!i(s=a(r,e)))return s;if("string"!==t&&n(r=e.toString)&&!i(s=a(r,e)))return s;throw new o("Can't convert object to primitive value")}},3349:(e,t,r)=>{"use strict";var a=r(9406),n=r(3062),i=r(1010),o=r(436),s=r(6469),l=n([].concat);e.exports=a("Reflect","ownKeys")||function(e){var t=i.f(s(e)),r=o.f;return r?l(t,r(e)):t}},3448:(e,t,r)=>{"use strict";var a=r(1848);e.exports=a},1689:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},1495:(e,t,r)=>{"use strict";var a=r(1848),n=r(4243),i=r(8173),o=r(6124),s=r(5239),l=r(6387),c=r(1558),u=r(4151),d=r(9255),p=n&&n.prototype,h=l("species"),f=!1,g=i(a.PromiseRejectionEvent),v=o("Promise",(function(){var e=s(n),t=e!==String(n);if(!t&&66===d)return!0;if(u&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(e)){var r=new n((function(e){e(1)})),a=function(e){e((function(){}),(function(){}))};if((r.constructor={})[h]=a,!(f=r.then((function(){}))instanceof a))return!0}return!(t||"BROWSER"!==c&&"DENO"!==c||g)}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:f}},4243:(e,t,r)=>{"use strict";var a=r(1848);e.exports=a.Promise},1128:(e,t,r)=>{"use strict";var a=r(6469),n=r(9693),i=r(8326);e.exports=function(e,t){if(a(e),n(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},7019:(e,t,r)=>{"use strict";var a=r(4243),n=r(4912),i=r(1495).CONSTRUCTOR;e.exports=i||!n((function(e){a.all(e).then(void 0,(function(){}))}))},4279:(e,t,r)=>{"use strict";var a=r(615).f;e.exports=function(e,t,r){r in e||a(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},5141:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},7834:(e,t,r)=>{"use strict";var a=r(6469);e.exports=function(){var e=a(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},170:(e,t,r)=>{"use strict";var a=r(1636),n=TypeError;e.exports=function(e){if(a(e))throw new n("Can't call method on "+e);return e}},5512:(e,t,r)=>{"use strict";var a=r(1848),n=r(1923),i=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!n)return a[e];var t=i(a,e);return t&&t.value}},929:(e,t,r)=>{"use strict";var a=r(3840),n=r(2745),i=a.Set,o=a.add;e.exports=function(e){var t=new i;return n(e,(function(e){o(t,e)})),t}},9864:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840),i=r(929),o=r(5179),s=r(1998),l=r(2745),c=r(9806),u=n.has,d=n.remove;e.exports=function(e){var t=a(this),r=s(e),n=i(t);return o(t)<=r.size?l(t,(function(e){r.includes(e)&&d(n,e)})):c(r.getIterator(),(function(e){u(t,e)&&d(n,e)})),n}},3840:(e,t,r)=>{"use strict";var a=r(3062),n=Set.prototype;e.exports={Set:Set,add:a(n.add),has:a(n.has),remove:a(n.delete),proto:n}},374:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840),i=r(5179),o=r(1998),s=r(2745),l=r(9806),c=n.Set,u=n.add,d=n.has;e.exports=function(e){var t=a(this),r=o(e),n=new c;return i(t)>r.size?l(r.getIterator(),(function(e){d(t,e)&&u(n,e)})):s(t,(function(e){r.includes(e)&&u(n,e)})),n}},7735:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840).has,i=r(5179),o=r(1998),s=r(2745),l=r(9806),c=r(9273);e.exports=function(e){var t=a(this),r=o(e);if(i(t)<=r.size)return!1!==s(t,(function(e){if(r.includes(e))return!1}),!0);var u=r.getIterator();return!1!==l(u,(function(e){if(n(t,e))return c(u,"normal",!1)}))}},6274:(e,t,r)=>{"use strict";var a=r(6016),n=r(5179),i=r(2745),o=r(1998);e.exports=function(e){var t=a(this),r=o(e);return!(n(t)>r.size)&&!1!==i(t,(function(e){if(!r.includes(e))return!1}),!0)}},9749:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840).has,i=r(5179),o=r(1998),s=r(9806),l=r(9273);e.exports=function(e){var t=a(this),r=o(e);if(i(t)<r.size)return!1;var c=r.getIterator();return!1!==s(c,(function(e){if(!n(t,e))return l(c,"normal",!1)}))}},2745:(e,t,r)=>{"use strict";var a=r(3062),n=r(9806),i=r(3840),o=i.Set,s=i.proto,l=a(s.forEach),c=a(s.keys),u=c(new o).next;e.exports=function(e,t,r){return r?n({iterator:c(e),next:u},t):l(e,t)}},4435:(e,t,r)=>{"use strict";var a=r(9406),n=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=a("Set");try{(new t)[e](n(0));try{return(new t)[e](n(-1)),!1}catch(e){return!0}}catch(e){return!1}}},5179:(e,t,r)=>{"use strict";var a=r(252),n=r(3840);e.exports=a(n.proto,"size","get")||function(e){return e.size}},5539:(e,t,r)=>{"use strict";var a=r(9406),n=r(6248),i=r(6387),o=r(1923),s=i("species");e.exports=function(e){var t=a(e);o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},3285:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840),i=r(929),o=r(1998),s=r(9806),l=n.add,c=n.has,u=n.remove;e.exports=function(e){var t=a(this),r=o(e).getIterator(),n=i(t);return s(r,(function(e){c(t,e)?u(n,e):l(n,e)})),n}},6988:(e,t,r)=>{"use strict";var a=r(615).f,n=r(1551),i=r(6387)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!n(e,i)&&a(e,i,{configurable:!0,value:t})}},2394:(e,t,r)=>{"use strict";var a=r(6016),n=r(3840).add,i=r(929),o=r(1998),s=r(9806);e.exports=function(e){var t=a(this),r=o(e).getIterator(),l=i(t);return s(r,(function(e){n(l,e)})),l}},5612:(e,t,r)=>{"use strict";var a=r(6231),n=r(4229),i=a("keys");e.exports=function(e){return i[e]||(i[e]=n(e))}},5517:(e,t,r)=>{"use strict";var a=r(4151),n=r(1848),i=r(3958),o="__core-js_shared__",s=e.exports=n[o]||i(o,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:a?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6231:(e,t,r)=>{"use strict";var a=r(5517);e.exports=function(e,t){return a[e]||(a[e]=t||{})}},9675:(e,t,r)=>{"use strict";var a=r(6469),n=r(6270),i=r(1636),o=r(6387)("species");e.exports=function(e,t){var r,s=a(e).constructor;return void 0===s||i(r=a(s)[o])?t:n(r)}},444:(e,t,r)=>{"use strict";var a=r(9255),n=r(8462),i=r(1848).String;e.exports=!!Object.getOwnPropertySymbols&&!n((function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},4320:(e,t,r)=>{"use strict";var a,n,i,o,s=r(1848),l=r(3178),c=r(2038),u=r(8173),d=r(1551),p=r(8462),h=r(2241),f=r(7706),g=r(4446),v=r(4315),m=r(9823),y=r(2409),_=s.setImmediate,b=s.clearImmediate,w=s.process,I=s.Dispatch,S=s.Function,k=s.MessageChannel,C=s.String,T=0,P={},A="onreadystatechange";p((function(){a=s.location}));var E=function(e){if(d(P,e)){var t=P[e];delete P[e],t()}},M=function(e){return function(){E(e)}},x=function(e){E(e.data)},D=function(e){s.postMessage(C(e),a.protocol+"//"+a.host)};_&&b||(_=function(e){v(arguments.length,1);var t=u(e)?e:S(e),r=f(arguments,1);return P[++T]=function(){l(t,void 0,r)},n(T),T},b=function(e){delete P[e]},y?n=function(e){w.nextTick(M(e))}:I&&I.now?n=function(e){I.now(M(e))}:k&&!m?(o=(i=new k).port2,i.port1.onmessage=x,n=c(o.postMessage,o)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&a&&"file:"!==a.protocol&&!p(D)?(n=D,s.addEventListener("message",x,!1)):n=A in g("script")?function(e){h.appendChild(g("script"))[A]=function(){h.removeChild(this),E(e)}}:function(e){setTimeout(M(e),0)}),e.exports={set:_,clear:b}},3663:(e,t,r)=>{"use strict";var a=r(6521),n=Math.max,i=Math.min;e.exports=function(e,t){var r=a(e);return r<0?n(r+t,0):i(r,t)}},3442:(e,t,r)=>{"use strict";var a=r(5124),n=TypeError;e.exports=function(e){var t=a(e,"number");if("number"==typeof t)throw new n("Can't convert number to bigint");return BigInt(t)}},8632:(e,t,r)=>{"use strict";var a=r(2832),n=r(170);e.exports=function(e){return a(n(e))}},6521:(e,t,r)=>{"use strict";var a=r(9344);e.exports=function(e){var t=+e;return t!=t||0===t?0:a(t)}},4233:(e,t,r)=>{"use strict";var a=r(6521),n=Math.min;e.exports=function(e){var t=a(e);return t>0?n(t,9007199254740991):0}},3659:(e,t,r)=>{"use strict";var a=r(170),n=Object;e.exports=function(e){return n(a(e))}},815:(e,t,r)=>{"use strict";var a=r(3657),n=RangeError;e.exports=function(e,t){var r=a(e);if(r%t)throw new n("Wrong offset");return r}},3657:(e,t,r)=>{"use strict";var a=r(6521),n=RangeError;e.exports=function(e){var t=a(e);if(t<0)throw new n("The argument can't be less than 0");return t}},5124:(e,t,r)=>{"use strict";var a=r(7609),n=r(9693),i=r(9525),o=r(3743),s=r(3613),l=r(6387),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!n(e)||i(e))return e;var r,l=o(e,u);if(l){if(void 0===t&&(t="default"),r=a(l,e,t),!n(r)||i(r))return r;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},7445:(e,t,r)=>{"use strict";var a=r(5124),n=r(9525);e.exports=function(e){var t=a(e,"string");return n(t)?t:t+""}},1326:(e,t,r)=>{"use strict";var a={};a[r(6387)("toStringTag")]="z",e.exports="[object z]"===String(a)},5774:(e,t,r)=>{"use strict";var a=r(1465),n=String;e.exports=function(e){if("Symbol"===a(e))throw new TypeError("Cannot convert a Symbol value to a string");return n(e)}},7420:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4229:(e,t,r)=>{"use strict";var a=r(3062),n=0,i=Math.random(),o=a(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++n+i,36)}},5363:(e,t,r)=>{"use strict";var a=r(444);e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2552:(e,t,r)=>{"use strict";var a=r(1923),n=r(8462);e.exports=a&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4315:e=>{"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},3721:(e,t,r)=>{"use strict";var a=r(1848),n=r(8173),i=a.WeakMap;e.exports=n(i)&&/native code/.test(String(i))},6220:(e,t,r)=>{"use strict";var a=r(3448),n=r(1551),i=r(294),o=r(615).f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});n(t,e)||o(t,e,{value:i.f(e)})}},294:(e,t,r)=>{"use strict";var a=r(6387);t.f=a},6387:(e,t,r)=>{"use strict";var a=r(1848),n=r(6231),i=r(1551),o=r(4229),s=r(444),l=r(5363),c=a.Symbol,u=n("wks"),d=l?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return i(u,e)||(u[e]=s&&i(c,e)?c[e]:d("Symbol."+e)),u[e]}},3649:(e,t,r)=>{"use strict";var a=r(9406),n=r(1551),i=r(1384),o=r(6730),s=r(5273),l=r(744),c=r(4279),u=r(6339),d=r(9766),p=r(6001),h=r(2519),f=r(1923),g=r(4151);e.exports=function(e,t,r,v){var m="stackTraceLimit",y=v?2:1,_=e.split("."),b=_[_.length-1],w=a.apply(null,_);if(w){var I=w.prototype;if(!g&&n(I,"cause")&&delete I.cause,!r)return w;var S=a("Error"),k=t((function(e,t){var r=d(v?t:e,void 0),a=v?new w(e):new w;return void 0!==r&&i(a,"message",r),h(a,k,a.stack,2),this&&o(I,this)&&u(a,this,k),arguments.length>y&&p(a,arguments[y]),a}));if(k.prototype=I,"Error"!==b?s?s(k,S):l(k,S,{name:!0}):f&&m in w&&(c(k,w,m),c(k,w,"prepareStackTrace")),l(k,w),!g)try{I.name!==b&&i(I,"name",b),I.constructor=k}catch(e){}return k}}},7311:(e,t,r)=>{"use strict";var a=r(4395),n=r(9406),i=r(3178),o=r(8462),s=r(3649),l="AggregateError",c=n(l),u=!o((function(){return 1!==c([1]).errors[0]}))&&o((function(){return 7!==c([1],l,{cause:7}).cause}));a({global:!0,constructor:!0,arity:2,forced:u},{AggregateError:s(l,(function(e){return function(t,r){return i(e,this,arguments)}}),u,!0)})},4240:(e,t,r)=>{"use strict";var a=r(4395),n=r(3659),i=r(9110),o=r(6521),s=r(2890);a({target:"Array",proto:!0},{at:function(e){var t=n(this),r=i(t),a=o(e),s=a>=0?a:r+a;return s<0||s>=r?void 0:t[s]}}),s("at")},3509:(e,t,r)=>{"use strict";var a=r(4395),n=r(2008).findLastIndex,i=r(2890);a({target:"Array",proto:!0},{findLastIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findLastIndex")},7119:(e,t,r)=>{"use strict";var a=r(4395),n=r(2008).findLast,i=r(2890);a({target:"Array",proto:!0},{findLast:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findLast")},2004:(e,t,r)=>{"use strict";var a=r(4395),n=r(3659),i=r(9110),o=r(7826),s=r(8475);a({target:"Array",proto:!0,arity:1,forced:r(8462)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=n(this),r=i(t),a=arguments.length;s(r+a);for(var l=0;l<a;l++)t[r]=arguments[l],r++;return o(t,r),r}})},7855:(e,t,r)=>{"use strict";var a=r(4395),n=r(459),i=r(8632),o=r(2890),s=Array;a({target:"Array",proto:!0},{toReversed:function(){return n(i(this),s)}}),o("toReversed")},2665:(e,t,r)=>{"use strict";var a=r(4395),n=r(3062),i=r(8117),o=r(8632),s=r(2239),l=r(8168),c=r(2890),u=Array,d=n(l("Array","sort"));a({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&i(e);var t=o(this),r=s(u,t);return d(r,e)}}),c("toSorted")},9772:(e,t,r)=>{"use strict";var a=r(4395),n=r(2890),i=r(8475),o=r(9110),s=r(3663),l=r(8632),c=r(6521),u=Array,d=Math.max,p=Math.min;a({target:"Array",proto:!0},{toSpliced:function(e,t){var r,a,n,h,f=l(this),g=o(f),v=s(e,g),m=arguments.length,y=0;for(0===m?r=a=0:1===m?(r=0,a=g-v):(r=m-2,a=p(d(c(t),0),g-v)),n=i(g+r-a),h=u(n);y<v;y++)h[y]=f[y];for(;y<v+r;y++)h[y]=arguments[y-v+2];for(;y<n;y++)h[y]=f[y+a-r];return h}}),n("toSpliced")},8971:(e,t,r)=>{"use strict";var a=r(4395),n=r(3659),i=r(9110),o=r(7826),s=r(5588),l=r(8475);a({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=n(this),r=i(t),a=arguments.length;if(a){l(r+a);for(var c=r;c--;){var u=c+a;c in t?t[u]=t[c]:s(t,u)}for(var d=0;d<a;d++)t[d]=arguments[d]}return o(t,r+a)}})},8135:(e,t,r)=>{"use strict";var a=r(4395),n=r(1403),i=r(8632),o=Array;a({target:"Array",proto:!0},{with:function(e,t){return n(i(this),o,e,t)}})},1474:(e,t,r)=>{"use strict";var a=r(4395),n=r(1848),i=r(3178),o=r(3649),s="WebAssembly",l=n[s],c=7!==new Error("e",{cause:7}).cause,u=function(e,t){var r={};r[e]=o(e,t,c),a({global:!0,constructor:!0,arity:1,forced:c},r)},d=function(e,t){if(l&&l[e]){var r={};r[e]=o(s+"."+e,t,c),a({target:s,stat:!0,constructor:!0,arity:1,forced:c},r)}};u("Error",(function(e){return function(t){return i(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),u("URIError",(function(e){return function(t){return i(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},8140:(e,t,r)=>{"use strict";r(4395)({target:"Object",stat:!0},{hasOwn:r(1551)})},5164:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(8117),o=r(8326),s=r(1689),l=r(2201);a({target:"Promise",stat:!0,forced:r(7019)},{allSettled:function(e){var t=this,r=o.f(t),a=r.resolve,c=r.reject,u=s((function(){var r=i(t.resolve),o=[],s=0,c=1;l(e,(function(e){var i=s++,l=!1;c++,n(r,t,e).then((function(e){l||(l=!0,o[i]={status:"fulfilled",value:e},--c||a(o))}),(function(e){l||(l=!0,o[i]={status:"rejected",reason:e},--c||a(o))}))})),--c||a(o)}));return u.error&&c(u.value),r.promise}})},4125:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(8117),o=r(8326),s=r(1689),l=r(2201);a({target:"Promise",stat:!0,forced:r(7019)},{all:function(e){var t=this,r=o.f(t),a=r.resolve,c=r.reject,u=s((function(){var r=i(t.resolve),o=[],s=0,u=1;l(e,(function(e){var i=s++,l=!1;u++,n(r,t,e).then((function(e){l||(l=!0,o[i]=e,--u||a(o))}),c)})),--u||a(o)}));return u.error&&c(u.value),r.promise}})},6406:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(8117),o=r(9406),s=r(8326),l=r(1689),c=r(2201),u=r(7019),d="No one promise resolved";a({target:"Promise",stat:!0,forced:u},{any:function(e){var t=this,r=o("AggregateError"),a=s.f(t),u=a.resolve,p=a.reject,h=l((function(){var a=i(t.resolve),o=[],s=0,l=1,h=!1;c(e,(function(e){var i=s++,c=!1;l++,n(a,t,e).then((function(e){c||h||(h=!0,u(e))}),(function(e){c||h||(c=!0,o[i]=e,--l||p(new r(o,d)))}))})),--l||p(new r(o,d))}));return h.error&&p(h.value),a.promise}})},8525:(e,t,r)=>{"use strict";var a=r(4395),n=r(4151),i=r(1495).CONSTRUCTOR,o=r(4243),s=r(9406),l=r(8173),c=r(5953),u=o&&o.prototype;if(a({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!n&&l(o)){var d=s("Promise").prototype.catch;u.catch!==d&&c(u,"catch",d,{unsafe:!0})}},1382:(e,t,r)=>{"use strict";var a,n,i,o=r(4395),s=r(4151),l=r(2409),c=r(1848),u=r(7609),d=r(5953),p=r(5273),h=r(6988),f=r(5539),g=r(8117),v=r(8173),m=r(9693),y=r(1747),_=r(9675),b=r(4320).set,w=r(5684),I=r(2157),S=r(1689),k=r(5141),C=r(2417),T=r(4243),P=r(1495),A=r(8326),E="Promise",M=P.CONSTRUCTOR,x=P.REJECTION_EVENT,D=P.SUBCLASSING,R=C.getterFor(E),L=C.set,N=T&&T.prototype,O=T,B=N,j=c.TypeError,F=c.document,W=c.process,U=A.f,G=U,V=!!(F&&F.createEvent&&c.dispatchEvent),$="unhandledrejection",q=function(e){var t;return!(!m(e)||!v(t=e.then))&&t},z=function(e,t){var r,a,n,i=t.value,o=1===t.state,s=o?e.ok:e.fail,l=e.resolve,c=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&Y(t),t.rejection=1),!0===s?r=i:(d&&d.enter(),r=s(i),d&&(d.exit(),n=!0)),r===e.promise?c(new j("Promise-chain cycle")):(a=q(r))?u(a,r,l,c):l(r)):c(i)}catch(e){d&&!n&&d.exit(),c(e)}},H=function(e,t){e.notified||(e.notified=!0,w((function(){for(var r,a=e.reactions;r=a.get();)z(r,e);e.notified=!1,t&&!e.rejection&&J(e)})))},K=function(e,t,r){var a,n;V?((a=F.createEvent("Event")).promise=t,a.reason=r,a.initEvent(e,!1,!0),c.dispatchEvent(a)):a={promise:t,reason:r},!x&&(n=c["on"+e])?n(a):e===$&&I("Unhandled promise rejection",r)},J=function(e){u(b,c,(function(){var t,r=e.facade,a=e.value;if(Q(e)&&(t=S((function(){l?W.emit("unhandledRejection",a,r):K($,r,a)})),e.rejection=l||Q(e)?2:1,t.error))throw t.value}))},Q=function(e){return 1!==e.rejection&&!e.parent},Y=function(e){u(b,c,(function(){var t=e.facade;l?W.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},Z=function(e,t,r){return function(a){e(t,a,r)}},X=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,H(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new j("Promise can't be resolved itself");var a=q(t);a?w((function(){var r={done:!1};try{u(a,t,Z(ee,r,e),Z(X,r,e))}catch(t){X(r,t,e)}})):(e.value=t,e.state=1,H(e,!1))}catch(t){X({done:!1},t,e)}}};if(M&&(B=(O=function(e){y(this,B),g(e),u(a,this);var t=R(this);try{e(Z(ee,t),Z(X,t))}catch(e){X(t,e)}}).prototype,(a=function(e){L(this,{type:E,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:null})}).prototype=d(B,"then",(function(e,t){var r=R(this),a=U(_(this,O));return r.parent=!0,a.ok=!v(e)||e,a.fail=v(t)&&t,a.domain=l?W.domain:void 0,0===r.state?r.reactions.add(a):w((function(){z(a,r)})),a.promise})),n=function(){var e=new a,t=R(e);this.promise=e,this.resolve=Z(ee,t),this.reject=Z(X,t)},A.f=U=function(e){return e===O||undefined===e?new n(e):G(e)},!s&&v(T)&&N!==Object.prototype)){i=N.then,D||d(N,"then",(function(e,t){var r=this;return new O((function(e,t){u(i,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete N.constructor}catch(e){}p&&p(N,B)}o({global:!0,constructor:!0,wrap:!0,forced:M},{Promise:O}),h(O,E,!1,!0),f(E)},1410:(e,t,r)=>{"use strict";var a=r(4395),n=r(4151),i=r(4243),o=r(8462),s=r(9406),l=r(8173),c=r(9675),u=r(1128),d=r(5953),p=i&&i.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!i&&o((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r=l(e);return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!n&&l(i)){var h=s("Promise").prototype.finally;p.finally!==h&&d(p,"finally",h,{unsafe:!0})}},7788:(e,t,r)=>{"use strict";r(1382),r(4125),r(8525),r(4832),r(1050),r(2529)},4832:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(8117),o=r(8326),s=r(1689),l=r(2201);a({target:"Promise",stat:!0,forced:r(7019)},{race:function(e){var t=this,r=o.f(t),a=r.reject,c=s((function(){var o=i(t.resolve);l(e,(function(e){n(o,t,e).then(r.resolve,a)}))}));return c.error&&a(c.value),r.promise}})},1050:(e,t,r)=>{"use strict";var a=r(4395),n=r(8326);a({target:"Promise",stat:!0,forced:r(1495).CONSTRUCTOR},{reject:function(e){var t=n.f(this);return(0,t.reject)(e),t.promise}})},2529:(e,t,r)=>{"use strict";var a=r(4395),n=r(9406),i=r(4151),o=r(4243),s=r(1495).CONSTRUCTOR,l=r(1128),c=n("Promise"),u=i&&!s;a({target:"Promise",stat:!0,forced:i||s},{resolve:function(e){return l(u&&this===c?o:this,e)}})},7638:(e,t,r)=>{"use strict";var a=r(1848),n=r(1923),i=r(6248),o=r(7834),s=r(8462),l=a.RegExp,c=l.prototype;n&&s((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},r="",a=e?"dgimsy":"gimsy",n=function(e,a){Object.defineProperty(t,e,{get:function(){return r+=a,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(i.hasIndices="d"),i)n(o,i[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==a||r!==a}))&&i(c,"flags",{configurable:!0,get:o})},9983:(e,t,r)=>{"use strict";var a=r(4395),n=r(9864);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("difference")},{difference:n})},6276:(e,t,r)=>{"use strict";var a=r(4395),n=r(8462),i=r(374);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("intersection")||n((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:i})},9297:(e,t,r)=>{"use strict";var a=r(4395),n=r(7735);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("isDisjointFrom")},{isDisjointFrom:n})},6816:(e,t,r)=>{"use strict";var a=r(4395),n=r(6274);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSubsetOf")},{isSubsetOf:n})},6756:(e,t,r)=>{"use strict";var a=r(4395),n=r(9749);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSupersetOf")},{isSupersetOf:n})},960:(e,t,r)=>{"use strict";var a=r(4395),n=r(3285);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("symmetricDifference")},{symmetricDifference:n})},9301:(e,t,r)=>{"use strict";var a=r(4395),n=r(2394);a({target:"Set",proto:!0,real:!0,forced:!r(4435)("union")},{union:n})},6303:(e,t,r)=>{"use strict";var a=r(4395),n=r(3062),i=r(170),o=r(6521),s=r(5774),l=r(8462),c=n("".charAt);a({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(i(this)),r=t.length,a=o(e),n=a>=0?a:r+a;return n<0||n>=r?void 0:c(t,n)}})},1516:(e,t,r)=>{"use strict";var a=r(4395),n=r(3062),i=r(170),o=r(5774),s=n("".charCodeAt);a({target:"String",proto:!0},{isWellFormed:function(){for(var e=o(i(this)),t=e.length,r=0;r<t;r++){var a=s(e,r);if(55296==(63488&a)&&(a>=56320||++r>=t||56320!=(64512&s(e,r))))return!1}return!0}})},705:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(3062),o=r(170),s=r(5774),l=r(8462),c=Array,u=i("".charAt),d=i("".charCodeAt),p=i([].join),h="".toWellFormed,f=h&&l((function(){return"1"!==n(h,1)}));a({target:"String",proto:!0,forced:f},{toWellFormed:function(){var e=s(o(this));if(f)return n(h,e);for(var t=e.length,r=c(t),a=0;a<t;a++){var i=d(e,a);55296!=(63488&i)?r[a]=u(e,a):i>=56320||a+1>=t||56320!=(64512&d(e,a+1))?r[a]="�":(r[a]=u(e,a),r[++a]=u(e,a))}return p(r,"")}})},1825:(e,t,r)=>{"use strict";var a=r(1759),n=r(9110),i=r(6521),o=a.aTypedArray;(0,a.exportTypedArrayMethod)("at",(function(e){var t=o(this),r=n(t),a=i(e),s=a>=0?a:r+a;return s<0||s>=r?void 0:t[s]}))},2220:(e,t,r)=>{"use strict";var a=r(1759),n=r(1180),i=r(3442),o=r(1465),s=r(7609),l=r(3062),c=r(8462),u=a.aTypedArray,d=a.exportTypedArrayMethod,p=l("".slice);d("fill",(function(e){var t=arguments.length;u(this);var r="Big"===p(o(this),0,3)?i(e):+e;return s(n,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},4774:(e,t,r)=>{"use strict";var a=r(1759),n=r(2008).findLastIndex,i=a.aTypedArray;(0,a.exportTypedArrayMethod)("findLastIndex",(function(e){return n(i(this),e,arguments.length>1?arguments[1]:void 0)}))},1519:(e,t,r)=>{"use strict";var a=r(1759),n=r(2008).findLast,i=a.aTypedArray;(0,a.exportTypedArrayMethod)("findLast",(function(e){return n(i(this),e,arguments.length>1?arguments[1]:void 0)}))},1520:(e,t,r)=>{"use strict";var a=r(1848),n=r(7609),i=r(1759),o=r(9110),s=r(815),l=r(3659),c=r(8462),u=a.RangeError,d=a.Int8Array,p=d&&d.prototype,h=p&&p.set,f=i.aTypedArray,g=i.exportTypedArrayMethod,v=!c((function(){var e=new Uint8ClampedArray(2);return n(h,e,{length:1,0:3},1),3!==e[1]})),m=v&&i.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){f(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=l(e);if(v)return n(h,this,r,t);var a=this.length,i=o(r),c=0;if(i+t>a)throw new u("Wrong length");for(;c<i;)this[t+c]=r[c++]}),!v||m)},2663:(e,t,r)=>{"use strict";var a=r(1848),n=r(1992),i=r(8462),o=r(8117),s=r(9070),l=r(1759),c=r(9257),u=r(1466),d=r(9255),p=r(8560),h=l.aTypedArray,f=l.exportTypedArrayMethod,g=a.Uint16Array,v=g&&n(g.prototype.sort),m=!(!v||i((function(){v(new g(2),null)}))&&i((function(){v(new g(2),{})}))),y=!!v&&!i((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(p)return p<602;var e,t,r=new g(516),a=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,a[e]=e-2*t+3;for(v(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==a[e])return!0}));f("sort",(function(e){return void 0!==e&&o(e),y?v(this,e):s(h(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!y||m)},8348:(e,t,r)=>{"use strict";var a=r(459),n=r(1759),i=n.aTypedArray,o=n.exportTypedArrayMethod,s=n.getTypedArrayConstructor;o("toReversed",(function(){return a(i(this),s(this))}))},3457:(e,t,r)=>{"use strict";var a=r(1759),n=r(3062),i=r(8117),o=r(2239),s=a.aTypedArray,l=a.getTypedArrayConstructor,c=a.exportTypedArrayMethod,u=n(a.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&i(e);var t=s(this),r=o(l(t),t);return u(r,e)}))},6939:(e,t,r)=>{"use strict";var a=r(1403),n=r(1759),i=r(4107),o=r(6521),s=r(3442),l=n.aTypedArray,c=n.getTypedArrayConstructor,u=n.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=l(this),n=o(e),u=i(r)?s(t):+t;return a(r,c(r),n,u)}}.with,!d)},5388:(e,t,r)=>{"use strict";r(4240)},1034:(e,t,r)=>{"use strict";r(3509)},5601:(e,t,r)=>{"use strict";r(7119)},5794:(e,t,r)=>{"use strict";var a=r(4395),n=r(4744),i=r(8462),o=Array.fromAsync;a({target:"Array",stat:!0,forced:!o||i((function(){var e=0;return o.call((function(){return e++,[]}),{length:0}),1!==e}))},{fromAsync:n})},1772:(e,t,r)=>{"use strict";var a=r(4395),n=r(7816),i=r(2890),o=r(3077);a({target:"Array",proto:!0,name:"groupToMap",forced:r(4151)||!n("groupByToMap")},{groupByToMap:o}),i("groupByToMap")},6384:(e,t,r)=>{"use strict";var a=r(4395),n=r(6747),i=r(7816),o=r(2890);a({target:"Array",proto:!0,forced:!i("groupBy")},{groupBy:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),o("groupBy")},2802:(e,t,r)=>{"use strict";var a=r(4395),n=r(2890),i=r(3077);a({target:"Array",proto:!0,forced:r(4151)},{groupToMap:i}),n("groupToMap")},2985:(e,t,r)=>{"use strict";var a=r(4395),n=r(6747),i=r(2890);a({target:"Array",proto:!0},{group:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i("group")},69:(e,t,r)=>{"use strict";r(7855)},6750:(e,t,r)=>{"use strict";r(2665)},6062:(e,t,r)=>{"use strict";r(9772)},3131:(e,t,r)=>{"use strict";r(8135)},4752:(e,t,r)=>{"use strict";var a=r(4395),n=r(1747),i=r(4483),o=r(1384),s=r(1551),l=r(6387),c=r(2179),u=r(4151),d=l("toStringTag"),p=TypeError,h=function(){if(n(this,c),i(this)===c)throw new p("Abstract class AsyncIterator not directly constructable")};h.prototype=c,s(c,d)||o(c,d,"AsyncIterator"),!u&&s(c,"constructor")&&c.constructor!==Object||o(c,"constructor",h),a({global:!0,constructor:!0,forced:u},{AsyncIterator:h})},9435:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(9296),u=r(9462),d=r(4151),p=c((function(e){var t=this;return new e((function(r,a){var o=function(e){t.done=!0,a(e)},s=function(){try{e.resolve(i(n(t.next,t.iterator))).then((function(e){try{i(e).done?(t.done=!0,r(u(void 0,!0))):t.remaining?(t.remaining--,s()):r(u(e.value,!1))}catch(e){o(e)}}),o)}catch(e){o(e)}};s()}))}));a({target:"AsyncIterator",proto:!0,real:!0,forced:d},{drop:function(e){i(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},2886:(e,t,r)=>{"use strict";var a=r(4395),n=r(7163).every;a({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return n(this,e)}})},1139:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(8117),o=r(6469),s=r(9693),l=r(8986),c=r(9296),u=r(9462),d=r(7897),p=r(4151),h=c((function(e){var t=this,r=t.iterator,a=t.predicate;return new e((function(i,l){var c=function(e){t.done=!0,l(e)},p=function(e){d(r,c,e,c)},h=function(){try{e.resolve(o(n(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,i(u(void 0,!0));else{var n=r.value;try{var l=a(n,t.counter++),d=function(e){e?i(u(n,!1)):h()};s(l)?e.resolve(l).then(d,p):d(l)}catch(e){p(e)}}}catch(e){c(e)}}),c)}catch(e){c(e)}};h()}))}));a({target:"AsyncIterator",proto:!0,real:!0,forced:p},{filter:function(e){return o(this),i(e),new h(l(this),{predicate:e})}})},6108:(e,t,r)=>{"use strict";var a=r(4395),n=r(7163).find;a({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return n(this,e)}})},3115:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(8117),o=r(6469),s=r(9693),l=r(8986),c=r(9296),u=r(9462),d=r(1401),p=r(7897),h=r(4151),f=c((function(e){var t=this,r=t.iterator,a=t.mapper;return new e((function(i,l){var c=function(e){t.done=!0,l(e)},h=function(e){p(r,c,e,c)},f=function(){try{e.resolve(o(n(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,i(u(void 0,!0));else{var n=r.value;try{var l=a(n,t.counter++),p=function(e){try{t.inner=d(e),g()}catch(e){h(e)}};s(l)?e.resolve(l).then(p,h):p(l)}catch(e){h(e)}}}catch(e){c(e)}}),c)}catch(e){c(e)}},g=function(){var r=t.inner;if(r)try{e.resolve(o(n(r.next,r.iterator))).then((function(e){try{o(e).done?(t.inner=null,f()):i(u(e.value,!1))}catch(e){h(e)}}),h)}catch(e){h(e)}else f()};g()}))}));a({target:"AsyncIterator",proto:!0,real:!0,forced:h},{flatMap:function(e){return o(this),i(e),new f(l(this),{mapper:e,inner:null})}})},7389:(e,t,r)=>{"use strict";var a=r(4395),n=r(7163).forEach;a({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return n(this,e)}})},4085:(e,t,r)=>{"use strict";var a=r(4395),n=r(3659),i=r(6730),o=r(1401),s=r(2179),l=r(3525);a({target:"AsyncIterator",stat:!0,forced:r(4151)},{from:function(e){var t=o("string"==typeof e?n(e):e);return i(s,t.iterator)?t.iterator:new l(t)}})},2392:(e,t,r)=>{"use strict";var a=r(4395),n=r(7073);a({target:"AsyncIterator",proto:!0,real:!0,forced:r(4151)},{map:n})},2625:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(8117),o=r(6469),s=r(9693),l=r(9406),c=r(8986),u=r(7897),d=l("Promise"),p=TypeError;a({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){o(this),i(e);var t=c(this),r=t.iterator,a=t.next,l=arguments.length<2,h=l?void 0:arguments[1],f=0;return new d((function(t,i){var c=function(e){u(r,i,e,i)},g=function(){try{d.resolve(o(n(a,r))).then((function(r){try{if(o(r).done)l?i(new p("Reduce of empty iterator with no initial value")):t(h);else{var a=r.value;if(l)l=!1,h=a,g();else try{var n=e(h,a,f),u=function(e){h=e,g()};s(n)?d.resolve(n).then(u,c):u(n)}catch(e){c(e)}}f++}catch(e){i(e)}}),i)}catch(e){i(e)}};g()}))}})},7740:(e,t,r)=>{"use strict";var a=r(4395),n=r(7163).some;a({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return n(this,e)}})},4342:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(9296),u=r(9462),d=r(4151),p=c((function(e){var t,r=this,a=r.iterator;if(!r.remaining--){var o=u(void 0,!0);return r.done=!0,void 0!==(t=a.return)?e.resolve(n(t,a,void 0)).then((function(){return o})):o}return e.resolve(n(r.next,a)).then((function(e){return i(e).done?(r.done=!0,u(void 0,!0)):u(e.value,!1)})).then(null,(function(e){throw r.done=!0,e}))}));a({target:"AsyncIterator",proto:!0,real:!0,forced:d},{take:function(e){i(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},2767:(e,t,r)=>{"use strict";var a=r(4395),n=r(7163).toArray;a({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return n(this,void 0,[])}})},585:(e,t,r)=>{"use strict";var a=r(4395),n=r(1923),i=r(9406),o=r(8117),s=r(1747),l=r(5953),c=r(8881),u=r(6248),d=r(6387),p=r(2417),h=r(7591),f=i("SuppressedError"),g=ReferenceError,v=d("dispose"),m=d("toStringTag"),y="DisposableStack",_=p.set,b=p.getterFor(y),w="sync-dispose",I="disposed",S=function(e){var t=b(e);if(t.state===I)throw new g(y+" already disposed");return t},k=function(){_(s(this,C),{type:y,state:"pending",stack:[]}),n||(this.disposed=!1)},C=k.prototype;c(C,{dispose:function(){var e=b(this);if(e.state!==I){e.state=I,n||(this.disposed=!0);for(var t,r=e.stack,a=r.length,i=!1;a;){var o=r[--a];r[a]=null;try{o()}catch(e){i?t=new f(e,t):(i=!0,t=e)}}if(e.stack=null,i)throw t}},use:function(e){return h(S(this),e,w),e},adopt:function(e,t){var r=S(this);return o(t),h(r,void 0,w,(function(){t(e)})),e},defer:function(e){var t=S(this);o(e),h(t,void 0,w,e)},move:function(){var e=S(this),t=new k;return b(t).stack=e.stack,e.stack=[],e.state=I,n||(this.disposed=!0),t}}),n&&u(C,"disposed",{configurable:!0,get:function(){return b(this).state===I}}),l(C,v,C.dispose,{name:"dispose"}),l(C,m,y,{nonWritable:!0}),a({global:!0,constructor:!0},{DisposableStack:k})},6508:(e,t,r)=>{"use strict";var a=r(4395),n=r(1848),i=r(1747),o=r(6469),s=r(8173),l=r(4483),c=r(6248),u=r(4676),d=r(8462),p=r(1551),h=r(6387),f=r(7092).IteratorPrototype,g=r(1923),v=r(4151),m="constructor",y="Iterator",_=h("toStringTag"),b=TypeError,w=n[y],I=v||!s(w)||w.prototype!==f||!d((function(){w({})})),S=function(){if(i(this,f),l(this)===f)throw new b("Abstract class Iterator not directly constructable")},k=function(e,t){g?c(f,e,{configurable:!0,get:function(){return t},set:function(t){if(o(this),this===f)throw new b("You can't redefine this property");p(this,e)?this[e]=t:u(this,e,t)}}):f[e]=t};p(f,_)||k(_,y),!I&&p(f,m)&&f[m]!==Object||k(m,S),S.prototype=f,a({global:!0,constructor:!0,forced:I},{Iterator:S})},7255:(e,t,r)=>{"use strict";var a=r(7609),n=r(5953),i=r(3743),o=r(1551),s=r(6387),l=r(7092).IteratorPrototype,c=s("dispose");o(l,c)||n(l,c,(function(){var e=i(this,"return");e&&a(e,this)}))},3086:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(2160),u=r(4151),d=c((function(){for(var e,t=this.iterator,r=this.next;this.remaining;)if(this.remaining--,e=i(n(r,t)),this.done=!!e.done)return;if(e=i(n(r,t)),!(this.done=!!e.done))return e.value}));a({target:"Iterator",proto:!0,real:!0,forced:u},{drop:function(e){i(this);var t=l(s(+e));return new d(o(this),{remaining:t})}})},7439:(e,t,r)=>{"use strict";var a=r(4395),n=r(2201),i=r(8117),o=r(6469),s=r(8986);a({target:"Iterator",proto:!0,real:!0},{every:function(e){o(this),i(e);var t=s(this),r=0;return!n(t,(function(t,a){if(!e(t,r++))return a()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1408:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(8117),o=r(6469),s=r(8986),l=r(2160),c=r(9832),u=r(4151),d=l((function(){for(var e,t,r=this.iterator,a=this.predicate,i=this.next;;){if(e=o(n(i,r)),this.done=!!e.done)return;if(t=e.value,c(r,a,[t,this.counter++],!0))return t}}));a({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return o(this),i(e),new d(s(this),{predicate:e})}})},674:(e,t,r)=>{"use strict";var a=r(4395),n=r(2201),i=r(8117),o=r(6469),s=r(8986);a({target:"Iterator",proto:!0,real:!0},{find:function(e){o(this),i(e);var t=s(this),r=0;return n(t,(function(t,a){if(e(t,r++))return a(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7471:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(8117),o=r(6469),s=r(8986),l=r(8304),c=r(2160),u=r(9273),d=r(4151),p=c((function(){for(var e,t,r=this.iterator,a=this.mapper;;){if(t=this.inner)try{if(!(e=o(n(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){u(r,"throw",e)}if(e=o(n(this.next,r)),this.done=!!e.done)return;try{this.inner=l(a(e.value,this.counter++),!1)}catch(e){u(r,"throw",e)}}}));a({target:"Iterator",proto:!0,real:!0,forced:d},{flatMap:function(e){return o(this),i(e),new p(s(this),{mapper:e,inner:null})}})},9397:(e,t,r)=>{"use strict";var a=r(4395),n=r(2201),i=r(8117),o=r(6469),s=r(8986);a({target:"Iterator",proto:!0,real:!0},{forEach:function(e){o(this),i(e);var t=s(this),r=0;n(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},2426:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(3659),o=r(6730),s=r(7092).IteratorPrototype,l=r(2160),c=r(8304),u=r(4151),d=l((function(){return n(this.next,this.iterator)}),!0);a({target:"Iterator",stat:!0,forced:u},{from:function(e){var t=c("string"==typeof e?i(e):e,!0);return o(s,t.iterator)?t.iterator:new d(t)}})},6806:(e,t,r)=>{"use strict";var a=r(4395),n=r(2563);a({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{map:n})},1978:(e,t,r)=>{"use strict";var a=r(4395),n=r(2201),i=r(8117),o=r(6469),s=r(8986),l=TypeError;a({target:"Iterator",proto:!0,real:!0},{reduce:function(e){o(this),i(e);var t=s(this),r=arguments.length<2,a=r?void 0:arguments[1],c=0;if(n(t,(function(t){r?(r=!1,a=t):a=e(a,t,c),c++}),{IS_RECORD:!0}),r)throw new l("Reduce of empty iterator with no initial value");return a}})},8245:(e,t,r)=>{"use strict";var a=r(4395),n=r(2201),i=r(8117),o=r(6469),s=r(8986);a({target:"Iterator",proto:!0,real:!0},{some:function(e){o(this),i(e);var t=s(this),r=0;return n(t,(function(t,a){if(e(t,r++))return a()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7331:(e,t,r)=>{"use strict";var a=r(4395),n=r(7609),i=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(2160),u=r(9273),d=r(4151),p=c((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,u(e,"normal",void 0);var t=i(n(this.next,e));return(this.done=!!t.done)?void 0:t.value}));a({target:"Iterator",proto:!0,real:!0,forced:d},{take:function(e){i(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},6496:(e,t,r)=>{"use strict";var a=r(4395),n=r(6469),i=r(2201),o=r(8986),s=[].push;a({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return i(o(n(this)),s,{that:e,IS_RECORD:!0}),e}})},1166:(e,t,r)=>{"use strict";var a=r(4395),n=r(6469),i=r(147),o=r(3525),s=r(8986);a({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{toAsync:function(){return new o(s(new i(s(n(this)))))}})},2359:(e,t,r)=>{"use strict";r(8140)},7472:(e,t,r)=>{"use strict";r(9983)},7322:(e,t,r)=>{"use strict";r(6276)},6539:(e,t,r)=>{"use strict";r(9297)},8866:(e,t,r)=>{"use strict";r(6816)},9701:(e,t,r)=>{"use strict";r(6756)},5102:(e,t,r)=>{"use strict";r(960)},2373:(e,t,r)=>{"use strict";r(9301)},1853:(e,t,r)=>{"use strict";r(1516)},5030:(e,t,r)=>{"use strict";r(705)},8855:(e,t,r)=>{"use strict";var a=r(4395),n=r(1848),i=r(6730),o=r(4483),s=r(5273),l=r(744),c=r(9543),u=r(1384),d=r(4127),p=r(2519),h=r(9766),f=r(6387),g=r(8462),v=r(4151),m=n.SuppressedError,y=f("toStringTag"),_=Error,b=!!m&&3!==m.length,w=!!m&&g((function(){return 4===new m(1,2,3,{cause:4}).cause})),I=b||w,S=function(e,t,r){var a,n=i(k,this);return s?a=!I||n&&o(this)!==k?s(new _,n?o(this):k):new m:(a=n?this:c(k),u(a,y,"Error")),void 0!==r&&u(a,"message",h(r)),p(a,S,a.stack,1),u(a,"error",e),u(a,"suppressed",t),a};s?s(S,_):l(S,_,{name:!0});var k=S.prototype=I?m.prototype:c(_.prototype,{constructor:d(1,S),message:d(1,""),name:d(1,"SuppressedError")});I&&!v&&(k.constructor=S),a({global:!0,constructor:!0,arity:3,forced:I},{SuppressedError:S})},6845:(e,t,r)=>{"use strict";var a=r(1848),n=r(6220),i=r(615).f,o=r(5983).f,s=a.Symbol;if(n("dispose"),s){var l=o(s,"dispose");l.enumerable&&l.configurable&&l.writable&&i(s,"dispose",{value:l.value,enumerable:!1,configurable:!1,writable:!1})}},1085:(e,t,r)=>{"use strict";r(1825)},7594:(e,t,r)=>{"use strict";r(4774)},1374:(e,t,r)=>{"use strict";r(1519)},8471:(e,t,r)=>{"use strict";r(8348)},2539:(e,t,r)=>{"use strict";r(3457)},9235:(e,t,r)=>{"use strict";var a=r(1759),n=r(9110),i=r(4107),o=r(3663),s=r(3442),l=r(6521),c=r(8462),u=a.aTypedArray,d=a.getTypedArrayConstructor,p=a.exportTypedArrayMethod,h=Math.max,f=Math.min;p("toSpliced",(function(e,t){var r,a,c,p,g,v,m,y=u(this),_=d(y),b=n(y),w=o(e,b),I=arguments.length,S=0;if(0===I)r=a=0;else if(1===I)r=0,a=b-w;else if(a=f(h(l(t),0),b-w),r=I-2){p=new _(r),c=i(p);for(var k=2;k<I;k++)g=arguments[k],p[k-2]=c?s(g):+g}for(m=new _(v=b+r-a);S<w;S++)m[S]=y[S];for(;S<w+r;S++)m[S]=p[S-w];for(;S<v;S++)m[S]=y[S+a-r];return m}),!!c((function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return 2!==t[0]||3!==t[1]})))},7209:(e,t,r)=>{"use strict";r(6939)},4844:(e,t,r)=>{var a=r(5803);a.keys().forEach((e=>{n[e.substr(2)]=a(e)}))},8071:(e,t,r)=>{"use strict";r.r(t);r(1474),r(7311),r(4240),r(7119),r(3509),r(2004),r(8971),r(8140),r(7788),r(5164),r(6406),r(1410),r(7638),r(6303),r(1825),r(2220),r(1519),r(4774),r(1520),r(2663),r(5388),r(5601),r(1034),r(2359),r(1085),r(1374),r(7594),r(8855),r(5794),r(2985),r(6384),r(1772),r(2802),r(69),r(6750),r(6062),r(3131),r(4752),r(9435),r(2886),r(1139),r(6108),r(3115),r(7389),r(4085),r(2392),r(2625),r(7740),r(4342),r(2767),r(585),r(6508),r(7255),r(3086),r(7439),r(1408),r(674),r(7471),r(9397),r(2426),r(6806),r(1978),r(8245),r(7331),r(6496),r(1166),r(7472),r(7322),r(6539),r(8866),r(9701),r(5102),r(2373),r(1853),r(5030),r(6845),r(8471),r(2539),r(9235),r(7209);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r.g.__polyfill_injecting=!0;var e=!1,t=null;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform){if("ios"===r.g.__wxConfig.platform.toLowerCase()){e=!0;var a=r.g.__wxConfig.system||"";t=a.startsWith("iOS ")?a.substr(4):null}}else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var n=navigator.userAgent.toLowerCase();if(n.indexOf("iphone")>=0||n.indexOf("ipad")>=0){e=!0;var i=/iphone os ([\d_]+)/.exec(n);t=i?i[1].replace(/_/g,"."):null}}var o,s=[];e&&(null!==t&&(o=t.split(".")[0],parseInt(o,10)>=16)||(r.g.Promise=void 0),s.push("Promise")),r(9762)({usePolyfill:s,useNative:["WeakMap"]}),r(8071),r(4844),delete r.g.__polyfill_injecting})()})();var i,o,s=function(e){e()};(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{e.d(n,{default:()=>it});var o={};e.r(o),e.d(o,{convertToErrorObj:()=>Z,emitFrameworkError:()=>re,emitUnhandledError:()=>ae,emitUnhandledRejection:()=>X,onFrameworkError:()=>ie,onUnhandledError:()=>oe,onUnhandledRejection:()=>ne});var s=e.g.__wxLibrary,u=e.g.__wxConfig,d=s.envType,p=s.contextType,h="Service"===d,g="WebView"===d,v="Worker"===d,m=g||h&&0===p.indexOf("App:"),y=h&&0===p.indexOf("Game:"),_=0===p.indexOf("MagicBrush:"),b=!!u.isIsolateContext,w=b&&h&&p.indexOf("MainContext")>=0,I=b&&h&&p.indexOf("SubContext")>=0,k=I&&p.indexOf("Safe")>=0,C=w||I,T="wxlib"===u.workerContentType,P=g||w||k||T,A=function(e){var t=u.platform;if(!t&&"object"==typeof window&&"string"==typeof(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)){var r=window.navigator.userAgent.toLowerCase();r.indexOf("devtools")>=0?t="devtools":r.indexOf("miniprogramenv/windows")>=0?t="windows":r.indexOf("miniprogramenv/mac")>=0?t="mac":r.indexOf("miniprogramenv/mina")>=0?t="mina":r.indexOf("iphone")>=0||r.indexOf("ipad")>=0?t="ios":r.indexOf("android")>=0&&(t="android")}return(t||"unknown").toLowerCase()}(),E=void 0===t||"develop"===t.version?"9.9.9":t.version,M=!!s.mayHaveSnapshot,x=(()=>"object"==typeof e.g&&e.g&&e.g.__wkrenderer_h5)();const D={platform:A,SDKVersion:E,isIsolateContext:C,isGame:y,isApp:m,isMainContext:w,isSubContext:I,isSafeEnv:P,isService:h,isWebView:g,isWorker:v,isWidget:!1,typeStr:I?"SubContext":d,fileName:s.fileName,isWXLibWorker:T,workerType:"user",contextName:"",mayHaveSnapShot:M,isWKGame:!!x,isMagicBrushFrameEnv:_};var R=()=>{},L="devtools"===D.platform;"undefined"!=typeof performance&&performance.now;function N(e,t=(()=>R)){return e.reduce(((e,r)=>(e[r]=t(r),e)),{})}function O(){var t=i||e.g.__wxConfig;if(t&&"debug"in t&&void 0!==t.debug)return!!t.debug}var B=()=>{},j=["log","info","warn","error","debug"];const F=N(j);var W=["log","info","warn","error","profile","profileSync","traceBegin","traceEnd"],U=(()=>{var e=N(W);return e})();const G=U;var V=Symbol("error"),$=Symbol("slow");class q{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(V,e),this}onSlow(e){return this.onInternalEvent($,e),this}_privEmit(e,t,...r){var a=this.$[e];if(a&&a.length>0){var n,i=!1;for(var o of a){if(0!==o.count)try{var s=Date.now();n=o.cb(...r);var l=Date.now();l-s>q.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate($,e,s,l,o.cb)}catch(t){if(!this.emitPrivate(V,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(i=!0),!1===n&&t.cancelable)break}return i&&(this.$[e]=a.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,a={}){if(!t)return this;var n={count:r,cb:t},i=this.$[e];return i?a.prepend?i.unshift(n):i.push(n):this.$[e]=[n],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var a=r.findIndex((e=>e.cb===t));return!(a<0)&&(r.splice(a,1),!0)}}q.SLOW_CALLBACK_THRESHOLD=50;var z=new q,H="unhandlederror",K="unhandledrejection",J="frameworkerror",Q=new WeakMap;var Y=Object.prototype.hasOwnProperty;function Z(e){var t;if(e&&"Object"===(null===(t=e.constructor)||void 0===t?void 0:t.name)&&"string"==typeof e.message&&"string"==typeof e.stack){var r=new Error(e.message);return Object.assign(r,e),r}return e}function X(e,t){e=Z(e),Ue.onLoad((()=>{z.emit(K,{reason:e,promise:t})||console.error("Uncaught (in promise)",e)}))}var ee=!1,te=!1;function re(e,t){if(e instanceof Error&&t&&(e.message=`${t} fail: ${e.message}`),e=Z(e),i.isSnapshoting)throw e;Ue.onLoad((()=>{if(ee)console.error("[ErrorHandler] recursive framework error detected.",e);else{ee=!0;try{z.emit(J,e)||ae(e)}catch(e){console.error("Framework",e)}ee=!1}}))}function ae(e){if(e=Z(e),i.isSnapshoting)throw e;Ue.onLoad((()=>{if(te)console.error("[ErrorHandler] recursive uncaught error detected.",e);else{te=!0;try{z.emit(H,e)||("windows"!==i.platform&&"mac"!==i.platform||"undefined"==typeof WORKER_RUNTIME||!WORKER_RUNTIME||4!==i.appType)&&console.error("Uncaught",e)}catch(e){console.error("Uncaught",e)}te=!1}}))}function ne(e){z.on(K,e)}function ie(e){z.on(J,e)}function oe(e){z.on(H,e)}!function(e){"object"==typeof e&&"function"==typeof e.addEventListener&&"ios"!==D.platform?(e.addEventListener("unhandledrejection",(e=>{X(e.reason,e.promise),e.reason&&e.preventDefault()})),e.addEventListener("error",(t=>{var r,a;ae(t.error||{message:t.message,stack:`${t.message}\nEmpty stack, maybe muted error. (xweb=${(null===(r=e.navigator)||void 0===r||null===(a=r.userAgent)||void 0===a?void 0:a.toUpperCase().indexOf("XWEB"))>=0})`}),t.error&&t.preventDefault()}))):void 0===e.onunhandledrejection&&Object.defineProperty(e,"onunhandledrejection",{value(e={}){var t,r;Y.call(e,"type")?(t={type:e.type,reason:e.reason,promise:e.promise},(r=t.promise)&&(Q.has(r)||setTimeout((()=>{var e=Q.get(r);0===(null==e?void 0:e.type)&&X(e.reason,e.promise),Q.delete(r)}),0),Q.set(r,t))):X(e.reason,e.promise)}})}(e.g);var se,le=JSON.parse,ce=JSON.stringify,ue=9782784e5;function de(e){return le(ce(e))}function pe(e){e.platform=D.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),e.sdkVersion=e.SDKVersion=D.SDKVersion,e.isReady=!1,e.onReady=Ue.onStart}function he(e){var r;pe(e),D.isSubContext||(e.preload=!0===e.preload),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio);var a=null===(r=t.debugOptions)||void 0===r?void 0:r.overwriteExpt;e.expt=a?Object.assign(e.expt||{},a):e.expt||{}}function fe(e){if(he(e),e.isReady=!0,e.appLaunchInfo=e.appLaunchInfo||{},e.preloadType=e.preloadType||e.appLaunchInfo.preloadType||e.preload,"ios"===e.platform){var t=function(e){if(!e)return 0;var t=(new Date).getTimezoneOffset()/60;return e+ue-3600*t*1e3}(e.appLaunchInfo.clickTimestampInMs),r=Number.MAX_SAFE_INTEGER,a=e.instanceId;if(a)try{var n=a.split("&").filter((e=>0===e.indexOf("ts=")));n.length>0&&(r=parseInt(n[0].slice(3),10))}catch(e){re(e,"parseInstanceId")}e.coldLaunchTime=Math.min(t,r)}else e.coldLaunchTime=e.appLaunchInfo.clickTimestamp||0}var ge=!(null===(se=t.features)||void 0===se||!se.pruneWxConfigByPage),ve=Object.defineProperty,me=["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"];function ye(e,t,r,a){ve(e,r,{configurable:!0,enumerable:!0,get(){if(r in t)return t[r];try{return"function"!=typeof a?a:a()}catch(e){return void re(e,`read mock wxConfig.${r}`)}},set(e){t[r]=e}})}var _e=Array.isArray,be=Reflect.set,we=Reflect.get;var Ie=D.isSafeEnv,Se=Object.create(null),ke=D.isService?function(e){return new Proxy(e,{set(e,t,r,a){if("__siblings__"===t)return be(e,t,r,a);var n=we(e,"__siblings__",a);if(_e(n)){n.length>1&&F.log(`[WXConfig] write __wxConfig.${t.toString()}, sync to all contexts.`);for(var i=0;i<n.length;i++){var o=n[i];be(o,t,r)}return!0}return be(e,t,r,a)}})}(Se):Se,Ce=e=>{},Te="wxConfig:updatePage";function Pe(t,r=!1){return Ce(!1),Se.currentPhase="onStart",void 0===t||(r?(Object.assign(Se,t),Object.defineProperty(Se,"__siblings__",{value:t.__siblings__,enumerable:!1,writable:!1,configurable:!1})):(Object.assign(Se,Ie?t:de(t)),fe(Se),function(t,r){var a;Array.isArray(null==t||null===(a=t.tabBar)||void 0===a?void 0:a.list)&&t.tabBar.list.forEach((e=>{delete e.iconData,delete e.selectedIconData})),delete t.permission;var n=t.subPackages||t.subpackages;Array.isArray(n)&&n.length>0&&(n.forEach((e=>{delete e.pages})),t.subPackages=t.subpackages=n),"devtools"===t.platform&&(t.__globalComponentsCount=Object.keys(t.usingComponents||{}).length),ge&&(D.isSubContext||(delete t.usingComponents,Object.values(t.page||{}).forEach((e=>{null!=e&&e.window&&delete e.window.usingComponents})),t._preloadRule=t.preloadRule||{},t._page=t.page||{},delete t.preloadRule,delete t.page),t.updatePage=function(e,t){null!=t&&t.window&&delete t.window.usingComponents,r(e,t)},t.updatePreloadRule=function(e,r){t.preloadRule=t.preloadRule||{},t.preloadRule[e]=r}),e.g.__wxConfig.page=e.g.__wxConfig.page||{},t.page=t.page||{}}(Se,((e,t)=>{Ue.emit(Te,{key:e,value:t})})),Object.defineProperty(Se,"__siblings__",{value:[],enumerable:!1,writable:!1,configurable:!1})),Array.isArray(Se.__siblings__)&&Se.__siblings__.push(Se),Se.onPageUpdate((({key:e,value:t})=>{Se.page=Se.page||{},Se.page[e]=Se.page[e+".html"]=t,a&&(a[e+".html"]=de(t))})),Ie||(a=function(){var t=e.g.__wxConfig,r={},a={},n=ge?{}:t.page||{};try{ye(a,r,"deprecated",!0),me.forEach((e=>{if(e in t){var i=t[e];switch(e){case"page":ye(a,r,e,n);break;case"env":ye(a,r,e,(()=>(console.warn("[Deprecation] __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:i.USER_DATA_PATH})));break;case"accountInfo":ye(a,r,e,{appId:i.appId,icon:i.icon,nickname:i.nickname});break;case"appLaunchInfo":ye(a,r,e,(()=>(console.warn("[Deprecation] __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),S&&"function"==typeof S.getLaunchOptionsSync?S.getLaunchOptionsSync():{})));break;case"wxAppInfo":ye(a,r,e,{maxRequestConcurrent:i.maxRequestConcurrent,maxUploadConcurrent:i.maxUploadConcurrent,maxDownloadConcurrent:i.maxDownloadConcurrent,maxWorkerConcurrent:i.maxWorkerConcurrent,maxWebsocketConnect:i.maxWebsocketConnect});break;default:ye(a,r,e,i)}}})),e.g.__wxConfig=a}catch(r){re(r,"mockGloablWxConfig"),e.g.__wxConfig=t}return n}())),ke;var a}var Ae=new q,Ee=new q,Me={},xe="WeixinJSBridgeReady",De="libraryEnd",Re="load",Le="postLoad",Ne="start",Oe="postStart";function Be(e,t){var r=void 0!==l,a=()=>{try{r&&l.traceBegin("Framework",`LibLifeCycle.${e} @ ${D.fileName}`),t(Me[e])}catch(t){re(t,"LifeCycle."+e)}finally{r&&l.traceEnd()}};e in Me?a():Ee.once(e,a)}function je(e,t){var r,a;if(e in Me)return!1;Me[e]=t,null===(r=f)||void 0===r||r.info(`[LifeCycle] emit ${e} for ${D.fileName}`);var n=Ee.emit(e,t);return null===(a=f)||void 0===a||a.info(`[LifeCycle] finish ${e} for ${D.fileName}`),n}var Fe,We=e=>{D.mayHaveSnapShot?Be(Re,e):e()},Ue={EventEmitter:q,on:Ae.on.bind(Ae),emit:Ae.emit.bind(Ae),once:Ae.once.bind(Ae),off:Ae.off.bind(Ae),getIsLoaded:()=>Re in Me,getIsStarted:()=>Ne in Me,onBridgeReady(e){Be(xe,e)},setWeixinJSBridge(e){je(xe,e)},onLibraryEnd:Be.bind(null,De),onCreate(e){e()},onLoadInstant:We,onLoad:We,_onPostLoad:Be.bind(null,Le),onStart:Be.bind(null,Ne),onPostStart:Be.bind(null,Oe)};Ee.onError(((e,t)=>{F.error(`[LifeCycle/${D.typeStr}] ${e.toString()} failed: `,t),re(t,"LifeCycle."+e.toString())})).onSlow(((e,t,r,a)=>{G.warn(`[LifeCycle/${D.typeStr}] slow ${e.toString()} callback (${r-t}ms)\n${a+""}`)})),e.g.__wxLibrary.onEnd=function(){je(De),D.mayHaveSnapShot||$e()},Fe=e.g.__wxConfig,Se.currentPhase="onCreate",void 0===Fe||(Ce(!1),Object.assign(Se,Ie?Fe:de(Fe)),pe(Se),Ce(!0));var Ge=!1,Ve=!1;function $e(){Ge||Ve?re(new Error(`LifeCycle error: undesired onLoad(${Ge}/${Ve})`)):(Ge=!0,i=function(e){return Se.currentPhase="onLoad",void 0===e||(Ce(!1),Object.assign(Se,Ie?e:de(e)),Se.onPageUpdate=Ue.on.bind(null,Te),he(Se),Ce(!0)),ke}(e.g.__wxConfig),je(Re,i),D.isSubContext?i.__readyHandler=e=>{qe(e,!0)}:!0===i.preload?Ue.onBridgeReady((t=>{t.on("onWxConfigReady",(()=>{qe(e.g.__wxConfig)}))})):Ue.onLibraryEnd((()=>{qe(e.g.__wxConfig)})),je(Le,i))}function qe(e,t=!1){if(Ge&&!Ve){Ve=!0;var r=Date.now();"onReadyStart"in(i=Pe(e,t))||(i.onReadyStart=r),je(Ne,i),i.onReadyEnd=Date.now(),je(Oe,i)}else re(new Error(`LifeCycle error: undesired onStart(${Ge}/${Ve})`))}(i=ke).isSnapshoting?(D.mayHaveSnapShot,e.g.WeixinSnapshot={snapshotContextReady(){delete e.g.WeixinSnapshot,i.isSnapshoting=!1,$e()}}):D.mayHaveSnapShot&&Ue.onLibraryEnd($e);class ze{constructor(e,t,r){this.num=e,this.type=t,this.bindingFn=void 0,this.bindingFn="function"==typeof r?r:B}}var He={ALL:new ze(Number.MIN_VALUE,"ALL"),DEBUG:new ze(5e3,"DEBUG",console.debug),LOG:new ze(1e4,"LOG",console.log),INFO:new ze(2e4,"INFO",console.info),WARN:new ze(3e4,"WARN",console.warn),ERROR:new ze(4e4,"ERROR",console.error),OFF:new ze(Number.MAX_VALUE,"OFF")},Ke=(e,t)=>({debug:e(He.DEBUG,t),log:e(He.LOG,t),info:e(He.INFO,t),warn:e(He.WARN,t),error:e(He.ERROR,t)}),Je=He.INFO,Qe=(()=>{if(D.isWorker||D.isWidget||D.isMagicBrushFrameEnv){return Object.assign({createLogger:function(){return F}},F)}return D.isSubContext&&D.isIsolateContext?(e=[],t=(t,r)=>(...a)=>{e.push({level:t,logs:a,category:r})},r=()=>{setTimeout((()=>{var t=f.__isFromMainContext?f.__mergeSubContextLogs:null;t?(t(e),e=[]):r()}),1e3)},Ue.onStart(r),{...Ke(t),createLogger:e=>Ke(t,"string"==typeof e?e:"default"),__isFromMainContext:!1}):(()=>{var e=D.platform,t="android"!==e,r=[],a=function(t){"android"!==e?c.invoke("systemLog",{dataArray:t.map((t=>{return{message:`\n${r=t.date,a=("0"+(r.getMonth()+1)).slice(-2),n=("0"+r.getDate()).slice(-2),i=("0"+r.getHours()).slice(-2),o=("0"+r.getMinutes()).slice(-2),s=("0"+r.getSeconds()).slice(-2),l=("00"+r.getMilliseconds()).slice(-3),c=r.getFullYear()+"-"+a+"-"+n,u=i+":"+o+":"+s+"."+l,"ios"===e?c+" "+u+"000"+(r.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):c+" "+(r.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+u} [${t.level.type[0].toUpperCase()}][wxapplib]] ${t.content}`};var r,a,n,i,o,s,l,c,u})),noCallback:!0}):t.forEach((e=>{e.level.bindingFn("[wxapplib]] "+e.content)}))},n=e=>{if(e instanceof Error)return`${e.message}\n${e.stack}`;if(e&&"string"==typeof e.stack&&"string"==typeof e.message)return`${e.message}\n${e.stack}`;switch(typeof e){case"bigint":case"boolean":case"function":case"number":case"symbol":return e.toString();case"string":return e;case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}},i=function(e,i){return function(...o){var s;if(i&&Array.prototype.unshift.call(o,"["+i+"]"),(O()||e.num>=He.WARN.num)&&(null===(s=F[e.type.toLowerCase()])||void 0===s||s.call(F,...o)),e.num>=Je.num){var l=Array.prototype.slice.call(o).map(n).join(" ");if(t){var c=new Date;r&&r.length>1024&&r.shift(),r.push({date:c,level:e,content:l})}else a([{level:e,content:l}])}}};return Ue.onStart((()=>{setTimeout((function e(){setTimeout(e,4e3),0!==r.length&&(a(r),r=[])}),4e3)})),{...Ke(i),createLogger:function(e){return Ke(i,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:r,category:a}=e;i(t,a)(...r)}))},__isFromMainContext:!0}})();var e,t,r})();Ue.onLoad((()=>{Qe.info(`[BaseLibVersion] ${D.fileName}: ${t.version} (${t.updateTime})}`)}));const Ye=Qe;const Ze=N(["log","info","warn","error"],(e=>function(...t){(L||O())&&console[e]("[system]",...t)}));var Xe;function et(){return Xe||("undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?NativeGlobal.WebAssembly:void 0!==globalThis.WebAssembly?globalThis.WebAssembly:void 0)}Ue.onLoad((()=>{Xe=et()}));var tt=Object.create(null);Object.defineProperty(tt,"WebAssembly",{enumerable:!0,get:et});const rt=tt;var at=e.g,nt={env:D,global:at,get isConfigReady(){return Ue.getIsStarted()},get isStarted(){return Ue.getIsStarted()},get isLoaded(){return Ue.getIsLoaded()},...Ue,...o,wxConsole:F,wxPerfConsole:G,wxNativeConsole:Ye,libConsole:Ze,libGlobal:rt,globalShare:{},callbackReporter:{}};void 0!==r&&(a=function(){return"return this"===arguments[arguments.length-1]?function(){return at}:new r(...arguments)},a.prototype=r.prototype);const it=nt})(),o=n.default})();var l,c,u,d,p,h=o.wxConsole,f=(o.wxPerfConsole,o.wxNativeConsole);o.libConsole,o.libGlobal;(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};(()=>{e.d(t,{default:()=>a});var r={traceBegin(){},traceEnd(){},traceInstant(){}};o.onLoad((()=>{"undefined"!=typeof TraceGlobal?(r.traceBegin=TraceGlobal.traceBegin,r.traceEnd=TraceGlobal.traceEnd,r.traceInstant=TraceGlobal.traceInstant):f.warn("[Trace] TraceGlobal not found")}));const a=r})(),l=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>Z});class r{constructor(e=1){this.id=e,this.$={}}add(e){var t=this.id++;return this.$[t]="function"==typeof e?e:1,t}has(e){return"function"==typeof this.$[e]}callAndRemove(e,t){if(e in this.$){var r=this.$[e];delete this.$[e],"function"==typeof r&&r(t,e)}}}class n{constructor(){this.$={}}set(e,t){this.$[e]=t}emit(e,...t){var r=this.$[e];if("function"==typeof r)r(...t);else if(Math.random()<.01){var a="";try{a=JSON.stringify(t[0]||{}).replace(/,/g,";")}catch(e){a=e.message}c.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-3: "+e+" "+a,o.env.SDKVersion,i.appType].join(",")}],noCallback:!0})}}}var s=!1,l=!1,d=!1,p=!1,h=!1,f=!1,g=!1,v=.01,m=!1,y=!1,_=!1,b=new Map,w={},I={},S={};function k(e,t,r){var a;o.env.isService?a=1:o.env.isWebView?a=2:o.env.isWorker&&(a=3);var n=[o.env.SDKVersion,i.appType,1,a,0,e,t.replace(/,/g,";"),r,s?2:1].join(",");c.invoke("reportKeyValue",{dataArray:[{key:32334,value:n}],noCallback:!0})}function C(){if(!l&&(o.env.isService||o.env.isWebView||o.env.isWorker)&&(l=!0,m=Math.random()<v)){var e=e=>{var t=Object.values(w).map((t=>{var r=t.name,{count:a,totalJsHandleCost:n,totalClientToJsCost:i,syncReturn:o}=w[r],s=+(n/a).toFixed(2),l=+(i/a).toFixed(2);if(e){var c=e[r];return{n:r,c:a,t:l,j:s,s:o?1:0,i:null==c?void 0:c[0],a:null==c?void 0:c[1]}}return{n:r,c:a,t:l,j:s,s:o?1:0}}));return w={},JSON.stringify(t)};setTimeout((()=>{"android"===i.platform&&(o.env.isService||o.env.isWebView)?c.invoke("getInvokeCost",{},(t=>{var r=t.data||{};k(1,e(r),1e4)})):k(1,e(),1e4)}),1e4),setTimeout((()=>{(h=!0,b.clear(),"android"===i.platform)?(c.invoke("getInvokeCost",{},(t=>{var r=t.data||{};k(1,e(r),2e4)})),c.invoke("stopCollectInvokeCost",{noCallback:!0})):k(1,e(),2e4)}),2e4)}}function T(){if(!p&&(o.env.isService||o.env.isWebView||o.env.isWorker)&&(p=!0,y=Math.random()<v)){var e=()=>{var e=Object.values(S).map((e=>{var t=e.name,{count:r,totalJsHandleCost:a,totalClientToJsCost:n}=S[t],i=+(a/r).toFixed(2);return{n:t,c:r,t:+(n/r).toFixed(2),j:i}}));return S={},JSON.stringify(e)};setTimeout((()=>{k(2,e(),1e4)}),1e4),setTimeout((()=>{g=!0,k(2,e(),2e4)}),2e4)}}function P(e,t,r,a){if(m&&!h&&(o.env.isService||o.env.isWebView||o.env.isWorker)){var n=Date.now(),i=0;return null!=a&&a.nativeTime&&(i=n-a.nativeTime),r||(r=b.get(e),b.delete(e)),{jsapiName:r,jsHandleBegin:n,clientToJsCost:i}}}function A(e,t,r,a=!1,n){if(m&&!h&&(o.env.isService||o.env.isWebView||o.env.isWorker)){var s=Date.now()-t;if(w[e]?(w[e].count++,w[e].totalJsHandleCost+=s,w[e].totalClientToJsCost+=r):w[e]={count:1,totalJsHandleCost:s,totalClientToJsCost:r,syncReturn:a,name:e},!e&&Math.random()<.01){var l="";try{l=JSON.stringify(n).replace(/,/g,";")}catch(e){l=e.message}c.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-1: "+l,o.env.SDKVersion,i.appType].join(",")}],noCallback:!0})}}}function E(e,t){if(y){var r=0,a=0;return!g&&(o.env.isService||o.env.isWebView||o.env.isWorker)&&(r=Date.now(),null!=t&&t.nativeTime&&(a=r-t.nativeTime)),{jsHandleBegin:r,clientToJsCost:a}}}function M(e,t,r){if(y&&!g&&(o.env.isService||o.env.isWebView||o.env.isWorker)){var a=Date.now()-t.jsHandleBegin;if("onAppEnterBackground"===e&&(s=!0),S[e]?(S[e].count++,S[e].totalJsHandleCost+=a,S[e].totalClientToJsCost+=t.clientToJsCost):S[e]={count:1,totalJsHandleCost:a,totalClientToJsCost:t.clientToJsCost,syncReturn:void 0,name:e},!e&&Math.random()<.01){var n="";try{n=JSON.stringify(r).replace(/,/g,";")}catch(e){n=e.message}c.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-2: "+n,o.env.SDKVersion,i.appType].join(",")}],noCallback:!0})}}}var x=()=>h,D=()=>{var e,t=!1;"android"===i.platform?t="1"===(null===(e=i)||void 0===e?void 0:e.expt.clicfg_appbrand_android_jsapi_nocallback):"ios"===i.platform&&(t=!0);return t};o.callbackReporter={initJsapiCallbackReport:C,initEventCallbackReport:T,jsapiCallbackBegin:P,jsapiCallbackEnd:A,eventCallbackBegin:E,eventCallbackEnd:M};var R=()=>{},L=JSON.parse,N=JSON.stringify,O="custom_event_",B=0,j=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function F(t){var a=function(){var t=e.g.webkit;return delete e.g.webkit,t}(),s=function(){var t=e.g.WeixinJSCore;return"object"==typeof t&&"function"!=typeof t.publishHandler&&(t.publishHandler=R),o.env.isWorker&&"function"==typeof e.g.workerInvokeJsApi&&(t={invokeHandler:e.g.workerInvokeJsApi,publishHandler:R,invokeThirdHandler:R},B=1<<25),e.g.WeixinJSCore={invokeHandler:R,publishHandler:R,setTimerHandler:R,clearTimerHandler:R,readLibSync:R,readLibXWebScriptSync:R},t}(),l=new r(B),c=new n,p=new n;function h(e,t,r){if(void 0!==e&&l.has(t)&&""!==e&&null!==e){if(C(),"string"==typeof e)try{e=L(e),e=u.unpack(e)}catch(t){e={}}var a=P(t,0,void 0,r);l.callAndRemove(t,e),a&&A(a.jsapiName,a.jsHandleBegin,a.clientToJsCost,!0,e)}}var g={},m={},y=0;function w(e,t,r){var a,n=++y;g[n]=r;try{a=s.invokeThirdHandler(e,t,n)}catch(e){console.error("Third SDK Error: unexpected error:",e)}if(void 0!==a&&"function"==typeof g[n]&&""!==a&&null!==a){if("string"==typeof a)try{a=L(a)}catch(e){a={}}var i=g[n];delete g[n],"function"==typeof i&&i(a)}}var S=function(e,t){m[e]=t},F=(e,t)=>{var r=m[e];r&&r(t)},W=(e,t)=>{var r=g[e];delete g[e],"function"==typeof r&&r(t)};function U(e,r,n,l={}){if(s){var c,u,d;if("splashad"===o.env.workerType||i.supportInvokeWithAppId)c=null===(u=s.invokeHandler)||void 0===u?void 0:u.call(s,e,r,n,l);else c=null===(d=s.invokeHandler)||void 0===d?void 0:d.call(s,e,r,n);h(c,n,void 0)}else{var p={event:e,paramsString:r,callbackId:n,privateArgs:N(l)};if(t.isWebMiniGame){h(prompt("webgame_invoke",N(p)),n,void 0)}else{var f=null==a?void 0:a.messageHandlers.invokeHandler.postMessage(p);null!=f&&f.catch&&f.catch((t=>{var a=console.error.bind(console);a("webkit.messageHandlers.invokeHandler.postMessage fail"),a(`event=${e}`),a("params=",r),a("err=",t),a("err.code=",t.code),a("err.message=",t.message),a("err.name=",t.name)}))}}}return{invoke(e,r,a,n={}){var o,s,c=r;n.keepOriginalParams||t.directInvokeJS||(n.notPack?delete n.notPack:r=u.pack(r),("ios"!==i.platform||j||"1"!==(null===(s=i)||void 0===s?void 0:s.expt.clicfg_appbrand_ios_use_jsapi_args_binding))&&(c=N(r||{})));if(delete n.keepOriginalParams,null!==(o=r)&&void 0!==o&&o.noCallback&&D())return U(e,c,0,n),0;var d=l.add(a);return x()||b.set(d,e),n.highPerformance&&(n.highPerformance[d]=r,delete n.highPerformance),U(e,c,d,n),d},on(e,t){c.set(e,t)},subscribe(e,t){p.set(O+e,t)},publish(e,r,n){e=O+e;var i=n,o=r;t.directInvokeJS||(o=N(r),i=N(n)),function(e,t,r){if(s){var n;null===(n=s.publishHandler)||void 0===n||n.call(s,e,t,r)}else{var i=null==a?void 0:a.messageHandlers.publishHandler.postMessage({event:e,paramsString:t,webviewIds:r});null!=i&&i.catch&&i.catch((r=>{var a=console.error.bind(console);a("webkit.messageHandlers.publishHandler.postMessage fail"),a(`event=${e}`),a("params=",t),a("err=",r),a("err.code=",r.code),a("err.message=",r.message),a("err.name=",r.name)}))}}(e,o,i)},invokeCallbackHandler:function(e,t,r){C();var a=P(e,0,void 0,r);t=u.unpack(t),l.callAndRemove(e,t),a&&A(a.jsapiName,a.jsHandleBegin,a.clientToJsCost,!1,t)},subscribeHandler:function(e,t,r,a){if(-1!==e.indexOf(O)){!function(){if(!d&&(o.env.isService||o.env.isWebView||o.env.isWorker)&&(d=!0,_=Math.random()<v)){var e=()=>{var e=Object.values(I).map((e=>{var t=e.name,{count:r,totalJsHandleCost:a,totalClientToJsCost:n}=I[t],i=+(a/r).toFixed(2);return{n:t,c:r,t:+(n/r).toFixed(2),j:i}}));return I={},JSON.stringify(e)};setTimeout((()=>{k(3,e(),1e4)}),1e4),setTimeout((()=>{f=!0,k(3,e(),2e4)}),2e4)}}();var n=function(e,t){if(_){var r=0,a=0;return!f&&(o.env.isService||o.env.isWebView||o.env.isWorker)&&(r=Date.now(),null!=t&&t.nativeTime&&(a=r-t.nativeTime)),{jsHandleBegin:r,clientToJsCost:a}}}(0,a);t=u.unpack(t),p.emit(e,t,r,a||{}),(null==n?void 0:n.jsHandleBegin)&&function(e,t){if(_&&!f&&(o.env.isService||o.env.isWebView||o.env.isWorker)){var r=Date.now()-t.jsHandleBegin;I[e]?(I[e].count++,I[e].totalJsHandleCost+=r,I[e].totalClientToJsCost+=t.clientToJsCost):I[e]={count:1,totalJsHandleCost:r,totalClientToJsCost:t.clientToJsCost,syncReturn:void 0,name:e}}}(e,n)}else{T();var i=E(0,a);t=u.unpack(t),c.emit(e,t,r,a||{}),(null==i?void 0:i.jsHandleBegin)&&M(e,i,t)}},get invokeThird(){return w},get onThird(){return S},get subscribeThirdHandler(){return F},get invokeThirdCallbackHandler(){return W},readLibSync:e=>{if(s.readLibSync)return s.readLibSync(e);throw new Error("readLibSync not exist")},readLibXWebScriptSync:e=>s.readLibXWebScriptSync(e)}}var W=!0,U={},G={},V=new Set(["getSystemInfo","getNetworkType","isGameRecorderSupported","getDeviceInfo"]);o.onPostStart((()=>{W=!1,U={},G={}}));var $=new Set(["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll"]);"function"==typeof logxx&&logxx("jsbridge start");var q=null;var z=new class{constructor(){this.value=void 0,this.pending=[]}ready(e){"function"==typeof e&&(void 0===this.value?this.pending.push(e):e(this.value))}hasValue(){return void 0!==this.value}done(e){this.value=e,this.pending.forEach((t=>{t(e)})),this.pending=[]}},H=z.ready.bind(z),K=new class{constructor(e){this.onNewEvent=e,this.$={},this.$e=new o.EventEmitter,this.knownEvents=new Set}emitNewEvent(e){this.knownEvents.has(e)||(this.knownEvents.add(e),this.onNewEvent(e,this))}add(e,t,r){this.emitNewEvent(e),this.$e.on(e,t,r)}remove(e,t){this.$e.off(e,t)}setSingle(e,t){this.emitNewEvent(e),this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t),this.$e.emit(e,...t)}emitCancelable(e,...t){this.$e.emitCancelable(e,...t)}}(((e,t)=>{$.has(e)?H((r=>{r.on(e,t.emitCancelable.bind(t,e))})):H((r=>{r.on(e,t.emit.bind(t,e))}))})),J=()=>{},Q=[],Y={on(e,t){$.has(e)?K.add(e,t):K.setSingle(e,t)},addEventListener(e,t,r){K.add(e,t,r)},removeEventListener(e,t){K.remove(e,t)},invoke(e,t,r,a={}){var n=!0,i=!1,o=[],s=e=>{for(var t of(i||(n=!1),o))t(e,n);null==r||r(e)};if(q){var l=e=>{o.push(e)};for(var c of Q){var u=c(e,t,l);if(u)return u instanceof Promise?(u.then((e=>{s(e)})),!0):(s(u),!1)}q.invoke(e,t,s,a)}else console.error(`[jsbridge] invoke ${e} fail: jsbridge not ready.`,new Error("jsbridge not ready").stack),s({errMsg:`${e}:fail jsbridge not ready`,errno:4});return i=!0,n},pureInvoke:(e,t,r,a={})=>q.invoke(e,t,r,a),get invokeCallbackHandler(){var e;return null===(e=q)||void 0===e?void 0:e.invokeCallbackHandler},get subscribeHandler(){var e;return null===(e=q)||void 0===e?void 0:e.subscribeHandler},publish:J,subscribe:J,addSubscribeListener:J,removeSubscribeListener:J,addInvokeInterceptor(e){return Q.push(e),this},get invokeThird(){var e;return null===(e=q)||void 0===e?void 0:e.invokeThird},get onThird(){var e;return null===(e=q)||void 0===e?void 0:e.onThird},get invokeThirdCallbackHandler(){return null},get subscribeThirdHandler(){return null},get readLibSync(){var e;return null===(e=q)||void 0===e?void 0:e.readLibSync},get readLibXWebScriptSync(){return q.readLibXWebScriptSync}};o.onLoad((()=>{!function(t){if(!("devtools"===o.env.platform&&!o.env.isWorker||e.g.useGlobalJSBridge||e.g.OSUseGlobalJSBridge)){if(o.env.isMagicBrushFrameEnv){var r,a=(null===(r=e.g.mb)||void 0===r?void 0:r.JSBridge)||e.g.JSBridge,n=a.invoke,s=Object.assign({},a,{invoke:function(...e){var t=n.apply(a,e),r=e[1];if(t&&Object.prototype.hasOwnProperty.call(t,"errCode")&&r){var i=t.errno||t.errCode,{success:o,fail:s,complete:l}=r;i?("function"==typeof s&&s(t),"function"==typeof l&&l(t)):("function"==typeof o&&o(t),"function"==typeof l&&l(t))}return t}});return e.g.WeixinJSBridge=s,t(s,!1)}var l=F({directInvokeJS:!!i.wmpfDirectInvokeJs,isWebMiniGame:!!i.isWK}),c={get invokeCallbackHandler(){return l.invokeCallbackHandler},get subscribeHandler(){return l.subscribeHandler},get subscribeThirdHandler(){return l.subscribeThirdHandler},get invokeThirdCallbackHandler(){return l.invokeThirdCallbackHandler}};return i.clientDebug&&o.onLibraryEnd((()=>{Object.assign(c,{on:Y.on,publish:Y.publish,invoke:Y.invoke,subscribe:Y.subscribe}),e.g.WeixinJSBridge=c})),e.g.WeixinJSBridge=c,t(l,!1)}if(void 0!==e.g.WeixinJSBridge)return t(e.g.WeixinJSBridge,!0);document.addEventListener("WeixinJSBridgeReady",(()=>{t(e.g.WeixinJSBridge,!0)}),!1)}(((t,r)=>{q=t,r&&e.g.WeixinJSBridge===c&&Object.keys(t).forEach((e=>{e in Y||(Y[e]=(...r)=>t[e](...r))})),z.done(q)}))})),Y.addInvokeInterceptor((e=>{if(!o.isStarted&&"splashad"!==o.env.workerType)return console.error(`[jsbridge] invoke ${e} fail: too eayly.`,new Error("invoke too eayly").stack),{errMsg:`${e}:fail too early`,errno:4}})).addInvokeInterceptor(((e,t,r)=>{if(("getSystemInfo"!==e||"string"!=typeof(null==t?void 0:t.type))&&W&&V.has(e)){if(e in U)return U[e];if(e in G)return G[e];if(V.has(e)){var a=new Promise((t=>{r(((r,a)=>{a?t(r):(delete G[e],U[e]=r)}))}));G[e]=a}}}));new Map;o.setWeixinJSBridge(Y);const Z=Y;c=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>b});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a(e){for(var t="",a=new Uint8Array(e),n=a.byteLength,i=0;i<n;i++)t+=String.fromCharCode(a[i]);return function(e){if("function"==typeof btoa)return btoa(e);for(var t,a,n=String(e),i="",o=0,s=r;n.charAt(0|o)||(s="=",o%1);i+=s.charAt(63&t>>8-o%1*8)){if((a=n.charCodeAt(o+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|a}return i}(t)}function n(e){for(var t=function(e){if("function"==typeof atob)return atob(e);var t=String(e).replace(/=+$/,""),a="";if(t.length%4==1)throw new Error('"atob" failed');for(var n,i,o=0,s=0;i=t.charAt(s++);~i&&(n=o%4?64*n+i:i,o++%4)?a+=String.fromCharCode(255&n>>(-2*o&6)):0)i=r.indexOf(i);return a}(e),a=t.length,n=new Uint8Array(a),i=0;i<a;i++)n[i]=t.charCodeAt(i);return n.buffer}var s,l=i.platform,c="ios"===l,u="android"===l||"windows"===l||"mac"===l||"mina"===l;c&&(s=e.g.WeixinNativeBuffer);var d=null;function p(e,t=!1){var r={};if(d&&!t){var n=!1,i=Object.getPrototypeOf(e);i!==ArrayBuffer.prototype&&(n=!0,Object.setPrototypeOf(e,ArrayBuffer.prototype)),r.id=d.create(e),n&&Object.setPrototypeOf(e,i)}else r.base64=a(e);return r}function h(e){if(null!=e)return d&&void 0!==e.id?d.get(e.id):void 0!==e.base64?n(e.base64):void 0}o.onLoad((()=>{d=function(e){var t=s,r=e.getNativeBufferId,a=e.setNativeBuffer,n=e.getNativeBuffer;delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer;var o=null;return u&&"function"==typeof r&&"function"==typeof a&&"function"==typeof n&&i.nativeBufferEnabled?o={create(e){var t=r();return a(t,e),t},get:e=>n(e),useCompatibleMode(){}}:c&&t&&(o={create:e=>t.new(e),get:e=>t.get(e),useCompatibleMode(e){t.useCompatibleMode(e)}}),o}(e.g)}));var f=Object.prototype.toString;function g(e){return"[object Array]"===f.call(e)}function v(e){return"[object ArrayBuffer]"===f.call(e)}function m(e,t){if(!t)return null;var r=t.split(".");if(!r.length)return null;for(var a=r[r.length-1],n=e,i=0;i<r.length-1;i++){if(!n)return null;n=n[r[i]]}return[n,a]}function y(e,t=!1,r=!1){if(null==e)return e;var a;if(t)a=function(e,t=!1){var r=[],a=new WeakMap,n=function(e,r,i=[]){var o,s=a.get(e);if(s){if(s>50)throw console.error("[SDK ERROR] worker postMessage object occur circular reference. please check your postMessage argument:",e),new Error("worker postMessage object occur circular reference");a.set(e,s+1)}else a.set(e,1);for(var l in e){var c=e[l];if(o=c,"[object Object]"===f.call(o)||g(c)){var u=[...i];u.push(l),n(c,r,u)}else if(v(c)){if(e._sabId)continue;var d=p(c,t),h=Array.prototype.concat.call(i,l).join(".");d.key=h,delete e[l],r.push(d)}}};return n(e,r),r}(e,r);else{for(var n in a=[],e){var i=e[n];if(v(i)){var o=p(i,r);o.key=n,a.push(o)}}if(a.length>0)for(var s of a)delete e[s.key]}return a.length>0&&(e.__nativeBuffers__=a),e}function _(e,t=!1,r=!1){if(null==e||null==e.__nativeBuffers__)return e;var a=e.__nativeBuffers__;delete e.__nativeBuffers__;var n=[];for(var i of a)if(null!=i){var o=h(i);if(v(o)){if(t){var s=m(e,i.key);if(!s)return;var[l,c]=s;l[c]=o}else e[i.key]=o;n.push(i.key)}}return r&&(e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__=n),e}const b={new:p,get:h,useCompatibleMode:function(e){var t;null===(t=d)||void 0===t||t.useCompatibleMode(e)},pack:y,unpack:_,packPostMessage:(e,t=!1)=>y(e,!0,t),unpackPostMessage:e=>_(e,!0,!0)}})(),u=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>I});var r,n,s=["request","createSocketTask","operateSocketTask","onSocketTaskStateChange","createRequestTask","createRequestTaskAsync","operateRequestTask","onRequestTaskStateChange","createDownloadTask","createDownloadTaskAsync","operateDownloadTask","onDownloadTaskStateChange","createUploadTask","createUploadTaskAsync","operateUploadTask","onUploadTaskStateChange","getNetworkType","createAudioInstance","createAudioInstanceAsync","operateAudio","destroyAudioInstance","getAudioState","setAudioState","onAudioStateChange","uploadFile","downloadFile","saveFile","getFileInfo","getSavedFileInfo","getSavedFileList","removeSavedFile","readFile","readCompressedFile","writeFile","mkdir","readdir","rmdir","access","unlink","stat","copyFile","rename","fs_appendFile","fs_appendFileSync","fs_copyFile","fs_copyFileSync","fs_rename","fs_renameSync","getABTestConfig","reportKeyValue","reportIDKey","getPermissionBytes"],l=i.supportWorkerMultiContext||i.supoortWorkerMultiContext,c=[],p=[],h=[],f=function(e){return e?r:n},g=function(e){e=u.unpackPostMessage(e),p.forEach((t=>{"function"==typeof t&&t(e)}))},v=function(e,t){t=u.unpackPostMessage(t),c.forEach((r=>{"function"==typeof r&&r(e,t)}))},m=function(e,t){h.forEach((r=>{"function"==typeof r&&r(e,t)}))},y=(e,t)=>{n.sendMsgToAppService({__cmd__:"workerUncaughtError",__data__:e,__contextId__:t})},_=function(e,t){WORKER_RUNTIME&&l?y(e,t):o.emitUnhandledError(e)},b={get appServiceMsgHandler(){return g},get workerMsgHandler(){return v},get workerCreatedHandler(){return m},get errorHandler(){return _},get __workerId__(){return n.__workerId__}},w={create:function(e,t){var a,i,o=!(!(t=t||{}).useExperimentalWorker||!r);return o?(i=r,a=JSON.stringify(t)):(i=n,a={APIList:s,pluginId:t.PluginId}),"function"==typeof i.create?{workerId:i.create.call(i,e,a),useWKWorker:o}:{workerId:-1,useWKWorker:o}},createWXLibWorker:function(e,t){var r={APIList:s};t.APIList&&(r.APIList=s.concat(t.APIList)),t.type&&(r.type=t.type);var a=n;return"function"==typeof a.createWXLibWorker?{workerId:a.createWXLibWorker.call(a,e,JSON.stringify(r))}:{workerId:-1}},terminate:function(e,t){var r=f(t);if("function"==typeof(null==r?void 0:r.terminate)&&"number"==typeof e)return r.terminate.call(r,e)},postMsgToAppService:function(e,t){if(o.env.isWKGame)n.sendMsgToAppService(e);else if("ios"===o.env.platform&&1===Number(i.expt.clicfg_appbrand_ios_allow_worker_binding_message))e=u.packPostMessage(e,!1),n.sendMsgToAppService(e);else try{!1!==t&&(e=u.packPostMessage(e),e=JSON.stringify(e)),n.postMsgToAppService(e)}catch(e){console.error(e)}},postMsgToWorker:function(e,t,r,a){var n=f(a);if(o.env.isWKGame)null==n||n.sendMsgToWorker(e,t);else if("ios"!==o.env.platform||1!==Number(i.expt.clicfg_appbrand_ios_allow_worker_binding_message)||a)try{!1!==r&&(t=u.packPostMessage(t,a),t=JSON.stringify(t)),null==n||n.postMsgToWorker(e,t)}catch(e){console.error(e)}else t=u.packPostMessage(t,!1),null==n||n.sendMsgToWorker(e,t)},onWorkerMsg:function(e){c.push(e)},onWorkerCreated:function(e){h.push(e)},onAppServiceMsg:function(e){p.push(e)},get WebAssembly(){return n.WebAssembly},isSupportWXLibWorker:function(){return"function"==typeof n.createWXLibWorker}};o.onLoadInstant((()=>{r=e.g.WeAppWorker,n=e.g.WeixinWorker,e.g.WeixinWorker=b,e.g.WeAppWorker=b,("devtools"===i.platform||"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&l)&&(w.appServiceMsgHandler=b.appServiceMsgHandler,w.workerMsgHandler=b.workerMsgHandler,w.errorHandler=b.errorHandler,w.__workerId__=b.__workerId__)}));const I=w;d=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{define:()=>x,require:()=>A,requireOnce:()=>E,requirePlugin:()=>M});var r=["wx0354ba48aadc0ab2","wxfa43a4a7041a84de"],a=()=>"devtools"===i.platform,n=(e,t)=>{var n="__APP__"===e;n||"/"===e.slice(-1)||(e+="/"),a()?setTimeout((()=>{f.info(`[WxModule] injectSubPackages: ${e}`),c.invoke("injectSubPackages",{subPackages:[e]},t)})):(f.info(`[WxModule] loadSubpackage: ${e}`),w.loadSubpackage({name:e,success(){var a=i.subPackages.find((t=>t.root===e||t.root===e.slice(0,-1))),o=Object.assign({},null==a?void 0:a.plugins);n&&Object.assign(o,i.plugins);var s=Object.keys(o||{}).map((e=>{var t=o[e].provider,a="__plugin__/"+t;return{plugin_id:t,prefix_path:r.includes(t)?null:a}}));y.injectEntryFile(n?"":e,s);var l=__glassEaselAdapter__.getEnv();l.codeManager.setSubPackageLoaded([e]),l.afterPackageCommonEvaluation(),t({errMsg:"loadSubPackage:ok",loaded:!0})},fail(){f.error(`[WxModule] loadSubPackage fail ${e}`),t({errMsg:"loadSubPackage:false",loaded:!1})}}))},o=e=>{for(var t,r,a=null!==(t=null===(r=i)||void 0===r?void 0:r.subPackages)&&void 0!==t?t:[],n=0;n<a.length;++n){var o=a[n].root||"";if(o&&"/"!==o.slice(-1)&&(o+="/"),e.slice(0,o.length)===o)return{subPackage:o,independent:!!a[n].independent}}return{subPackage:"__APP__",independent:!1}},s=e=>{for(var t=[],r=e.split("/"),a=0,n=r.length;a<n;++a){var i=r[a];if(""!==i&&"."!==i)if(".."===i){if(0===t.length){t=[];break}t.pop()}else a+1<n&&".."===r[a+1]?a++:t.push(i)}return t},l={UNLOAD:1,LOADED:2},u={},d=(e,t)=>{u[e]=t},h=e=>u[e];var g=new class{constructor(e){this._$requireQueues=null,this._$blockingStatus=0,this._$scope=void 0,this._$err=e=>new Error(`Framework inner error: ${e} (scope: ${this._$scope}, status: ${this._$blockingStatus})`),this._$scope=e}isBlocking(){return 1===this._$blockingStatus}block(){if(!a())if(0===this._$blockingStatus)this._$requireQueues=[],this._$blockingStatus=1;else{if(2!==this._$blockingStatus)throw this._$err("trying to block require at wrong time");this._$blockingStatus=1}}queue(e,t){if(!this.isBlocking())throw this._$err("trying to queue an require when not blocking");this._$requireQueues.push([e,t])}unblock(){if(!a()){if(!this.isBlocking())throw this._$err("trying to unblock require queue when not blocking");this._$blockingStatus=2}}flushQueue(){if(!a()){if(2!==this._$blockingStatus)throw this._$err("require queue flushing must be unblocked");var e=this._$requireQueues;this._$blockingStatus=0,this._$requireQueues=null,e.forEach((e=>{try{e[0].apply(null,e[1])}catch(t){console.error(`Error during evaluating file "${e[1][0]}": `),console.error(t.message),console.error(t.stack)}}))}}}("/");if(globalThis.wxModuleVersion){var v=~~globalThis.wxModuleVersion;globalThis.enableWxModule=2>v}else globalThis.wxModuleVersion=2,globalThis.enableWxModule=!0;var m=!1,_=[],I=e=>{Object.keys(e).forEach((t=>{var r=t;t.endsWith("*")&&(r=r.slice(0,-1));var a=e[t];e[t].endsWith("*")&&(a=a.slice(0,-1)),_.push({key:r,value:a})}))};"function"==typeof i.onReady?i.onReady((()=>{"object"==typeof i.resolveAlias&&(m=!!Object.keys(i.resolveAlias).length)&&I(i.resolveAlias)})):"object"==typeof i.resolveAlias&&(m=!!Object.keys(i.resolveAlias).length)&&I(i.resolveAlias);var S={},k=e=>{if(e&&i.subPackages)for(var t=0,r=i.subPackages.length;t<r;t++)if(0===e.indexOf(i.subPackages[t].root))return i.subPackages[t]},C=e=>{var t=s(e+"/index.js").join("/");return h(t)?t:(t=s(e).join("/"),/\.js$/.test(t)||(t+=".js"),h(t)?t:"")},T=e=>{var t=(e=>{var t=e.match(/(.*)\/([^/]+)?$/);return null!=t&&t[1]?t[1]:"./"})(e),r=function(r,a,n){var o,l=t;if("string"!=typeof r)throw new Error("require args must be a string");if("/__wx__/private-api"===r?o=s(r).join("/"):(m&&(o=(e=>{var t={key:"",value:""},r=!1;if(_.forEach((a=>{e.startsWith(a.key)&&t.key.length<a.key.length&&(t=a,r=!0)})),r){var a=e.replace(t.key,t.value);return"/"===a[0]&&(a=a.slice(1)),a}})(r)),void 0!==o?(l="",o=s(o).join("/")):o=s(l+"/"+r).join("/")),!o)throw new Error(`can not find module : ${o}, require args is ${r}`);try{var c=((e,t,r)=>{var a=e;if(/\.js$/.test(a)||(a+=".js"),"string"==typeof a&&h(a))return a;var n=s(t);if(!n)throw new Error("can not find module : "+r);for(var i,o,l=e.substring(n.join("/").length);n.length&&(o=n.join("/")+"/miniprogram_npm"+l,!(i=C(o)));)n.pop();return i||(l="/"===l[0]?l:"/"+l,i=C(o="miniprogram_npm"+l)),i||e})(o,l,r),u=e=>"functional-pages"===s(e)[0];if(u(c)!==u(e)&&b.thirdErrorReport({error:new Error(`should not require across "functional-pages" folder, at require("${r}") in ${e}`)}),"devtools"===i.platform&&i.subPackages&&void 0===a){var d=k(c),p=k(e);d&&d!==p&&console.warn(`Requires "${r}" from "${e}" without a callback may fail in production, since they are in different subPackages`)}return A(c,void 0,a,r,t,n)}catch(e){throw e}};return r.async=e=>new Promise(((t,a)=>{try{r(e,t,a)}catch(e){a(e)}})),r},P=new class{constructor(e){this._$flags={},this._$global=void 0,this.fileStacks=[],this._$global=e}current(){return{__wxRoute:this._$global.__wxRoute,__wxAppCurrentFile__:this._$global.__wxAppCurrentFile__,__wxRouteBegin:this._$global.__wxRouteBegin}}restore(e){void 0!==e&&(this._$global.__wxRoute=e.__wxRoute,this._$global.__wxAppCurrentFile__=e.__wxAppCurrentFile__,this._$global.__wxRouteBegin=e.__wxRouteBegin)}saveAndClear(e){void 0===this._$flags[e]&&(this._$flags[e]=this.current(),this._$global.__wxRoute="",this._$global.__wxAppCurrentFile__="",this._$global.__wxRouteBegin="")}runWith(e,t){this.restore(this._$flags[e]),this.fileStacks.push(this._$flags[e]);var r,a=!1;try{t()}catch(e){a=!0,r=e}if(this.fileStacks.pop(),this.restore(this.fileStacks[this.fileStacks.length-1]),a)throw r}}(globalThis);function A(e,t,r,s="",c,u){if(!a()&&g.isBlocking())return P.saveAndClear(e),void g.queue(A,[e,t,r,s,c,u]);if(void 0===t&&(t=!0),"string"!=typeof e)throw new Error("require args must be a string");var d=h(e);if(!d){var p=-1===e.indexOf("/")?e+"/index.js":e;/\.js$/.test(p="miniprogram_npm/"+p)||(p+=".js"),d=h(p)}if(e.endsWith(".js")||(e+=".js"),!d&&"devtools"!==i.platform&&void 0!==y&&i.isLazyLoad){var f=e.slice(0,e.length-3),v=`${"undefined"!=typeof __LAZY_CODE_LOADING_CHUNK_MAP__&&"string"==typeof __LAZY_CODE_LOADING_CHUNK_MAP__[f]?__LAZY_CODE_LOADING_CHUNK_MAP__[f]:f}.appservice.js`,m=y.loadJsFiles([v],null,{waitResult:!0,reportKey:`webnode-require-${e.slice(0,e.length-3)}`});d=h(e),null==m||m(!!d)}if("function"!=typeof r){if(!d)throw new Error(`module '${e}' is not defined, require args is '${""===s?e:s}'`);var _={exports:{}},b=d.factory;if(!t||S[e])return delete d.exports,d.status=l.UNLOAD,S[e]=!0,a()&&P.saveAndClear(e),P.runWith(e,(()=>{null==b||b(T(e),_,_.exports)})),_.exports;if(d.status===l.UNLOAD){var w;d.exports=_.exports,d.status=l.LOADED,a()&&P.saveAndClear(e);try{P.runWith(e,(()=>{b&&(w=b(T(e),_,_.exports))}))}catch(e){throw d.status=l.UNLOAD,e}d.exports=void 0!==_.exports?_.exports:w}return d.exports}var I=t=>{var r="async require: fail";"object"==typeof t&&t&&t.message&&(r=t.message),null==u||u({errMsg:r,mod:e})},k=function(...e){try{var t=A(...e);r(t)}catch(e){I(e)}};if(d)setTimeout((()=>k(e)));else{var C="string"==typeof c&&o(c).independent,{subPackage:E,independent:M}=o(e);!M&&C?n("__APP__",(t=>{t&&!1===t.loaded?I(new Error("loadSubPackage: fail, subPackage: __APP__")):"__APP__"!==E?n(E,(t=>{t&&!1===t.loaded?I(new Error(`loadSubPackage: fail, subPackage: ${E}`)):k(e)})):r(k(e))})):n(E,(t=>{t&&!1===t.loaded?I(new Error(`loadSubPackage: fail, subPackage: ${E}`)):k(e)}))}}function E(e){return A(e,!1)}var M=e=>{(()=>{if(void 0===i||void 0===i.plugins&&void 0===i.gamePlugins)throw new Error("This application has not registered any plugins yet.")})(),(e=>{if("string"!=typeof e)throw new Error("requirePlugin args must be a string.")})(e);var t=(e=>{var t=e.match(/([^/]*)\/?(.*)/);if(!t||t.length<2)throw new Error(`Plugin "${e}" has not registered.`);var r=t[1],a=t[2],n=(i.plugins||i.gamePlugins)[r];if(void 0===n)throw new Error(`Plugin "${e}" has not registered.`);return{pluginId:n.provider,version:"0",path:a}})(e),r=(e=>{var t=`__plugin__/${e.pluginId}`;return e.path&&(t+=`/${e.path}`),t})(t),a=A(r);if(void 0===a)throw new Error(`Plugin "${r}" is not defined.`);return a};function x(e,t){if(h(e)&&!!h(e).factory){var r=h(e).factory;if(t.toString()===r.toString())return}d(e,{status:l.UNLOAD,factory:t})}p=t})();p.definePlugin;var g,v,m,y,_,b,w,I=p.requirePlugin;globalThis.define=p.define,globalThis.require=p.require;globalThis.requireOnce=p.requireOnce,(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>O});var r,n,s,l,c,u,d,p,h,v,m,y,_,b,w,I=Object.prototype.toString,S=(Object.getPrototypeOf,Object.getOwnPropertyNames,Object.getOwnPropertyDescriptor,Object.defineProperty,{}),k={},C=[],T=0,P=[],A=(e,t,a)=>{if(void 0!==t&&void 0!==e&&e===r){var n=void 0!==a?a:++T;return _=n,k[n]=t,C.push(n),P.forEach((e=>{"function"==typeof e&&e(n)})),n}},E=(e,t,a,n)=>{if(void 0!==e&&e===r){var i=(e=>{for(var t=C.length,r=0;r<t;r++){var a=C[r];if(k[a]===e)return a}})(t);if(void 0!==i){var o=S[a];return"function"==typeof o?o(n,i):void 0}}},M=(e,t)=>{S[e]=t},x=(e,t)=>{if(void 0===h||"function"!=typeof h)return"failed: loadLibFiles not supported";if("devtools"===i.platform&&"number"!=typeof v)return"failed: loadLibFiles not supported";try{if(0===h.call(r,e,JSON.stringify(t)))throw`WAFiles: ${t} is not exist.`;return"success"}catch(e){return"failed: "+e}},D=(e,t,r)=>{if("android"===i.platform||"ios"===i.platform||"devtools"===i.platform||"windows"===i.platform||"mac"===i.platform||"mina"===i.platform){var a=Date.now(),n=x(null!=r?r:1,[e]);f.info(`inject subPackage: ${e} coast: `,Date.now()-a),t(n)}else f.error("不支持loadJSFiles")},R={},L={__init__:e=>{void 0===r&&void 0!==e&&((r=e).register=A,r.subscribeHandler=E,n=r.alloc,s=r.create,l=r.destroy,c=r.evaluateScriptFile,u=r.loadJsFiles,h=r.loadLibFiles,d=r.allocEmpty,p=r.allocFromSnapshot,v=r.mainContextId,m=r.errorHandler,r.waitingChannel={},y=r.notifyGameEngineReady,delete r.alloc,delete r.create,delete r.destroy,delete r.evaluateScriptFile,delete r.loadJsFiles,delete r.loadLibFiles,delete r.allocEmpty,delete r.allocFromSnapshot,delete r.mainContextId,delete r.errorHandler,delete r.notifyGameEngineReady)},publish:(e,t={},a,n)=>{var i,o=(i=t,I.call(i).split(" ")[1].split("]")[0]);if("Object"!==o&&"Undefined"!==o)throw new Error("params should be an object.");return a.map((a=>{var i=k[a];if(i)return i.subscribeHandler(r,e,t);n&&void 0!==a&&(r.waitingChannel[a]||(r.waitingChannel[a]=[]),r.waitingChannel[a].push({event:e,params:t}))}))},subscribe:M,onRegister:e=>{P.push(e)},evaluateScriptFile:(e,t,r)=>c(e,t,r),batchLoadJsFiles:(e,t,a)=>{if(void 0===u||"function"!=typeof u)return"failed: loadJsFiles not supported";var n="devtools"===i.platform?void 0:JSON.stringify(a);try{var o=u.call(r,e,JSON.stringify(t),n);return(e=>"[object Promise]"===Object.prototype.toString.call(e))(o)?o.then((()=>"success")).catch((e=>"failed: "+e)):"success"}catch(e){return"failed: "+e}},alloc:(e,t)=>"function"==typeof n?n.call(r,e,t):-9999,create:(e,t)=>"function"==typeof s?s.call(r,e,t):-9999,destroy:(e,t)=>"function"==typeof l?l(e,t):-9999,isAsync:()=>r&&!0===r.async,supportAlloc:()=>"function"==typeof n,loadLibFiles:x,allocEmpty:(e,t)=>"function"==typeof d?d.call(r,e,t):-9999,supportAllocEmpty:()=>"function"==typeof d,allocFromSnapshot:(e,t)=>{if("function"==typeof p){var a=p.call(r,e,t);return a}return-9999},supportAllocFromSnapshot:()=>"function"==typeof p,loadMainContextLibFile:D,loadSubContextLibFile:(e,t,r)=>{if(r)return D(e,t,r);f.error("loadSubContextLibFile lose subContextId")},getMainContextId:()=>v,setAppSubContextId:e=>{w=e},getAppSubContextId:()=>w,convertRealId2SdkId:e=>R[e],associateRealId2SdkId:e=>{R[e]=_},errorHandler:(e,t)=>{m?m(e,t):b?b[e]=t:(b={[e]:t},M("subContextError",(({contextId:e,err:t})=>{b[e](t)})))},notifyGameEngineReady:()=>{"function"==typeof y&&y()}};var N=L;o.onLoad((()=>{"undefined"!=typeof WeixinJSContext&&(N.__init__(WeixinJSContext),delete N.__init__,delete e.g.WeixinJSContext)}));const O=N;g=t.default})(),(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}();var t=()=>{r!==i&&void 0!==r&&Object.assign(r,i)},r=(()=>(i.onReady(t),i))();const n=r;var s=(()=>n.platform)(),l=(()=>"android"===s)(),c=(()=>"ios"===s)(),u=(()=>"windows"===s)(),p=(()=>"mac"===s)(),h=(()=>u||p)();var f=["shouldShowSplashAd","onSplashAdShow","onSplashAdHide","onSplashAdClose","onSplashAdWillLayout","onSplashAdButtonClicked","showSplashAd","closeSplashAd","showSplashAdMenu","insertTextView","updateTextView","removeTextView","insertImageView","updateImageView","removeImageView","animateCoverView","onTextViewClick","onImageViewClick","insertVideoPlayer","removeVideoPlayer","updateVideoPlayer","operateVideoPlayer","onVideoProgress","onVideoTimeUpdate","onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoError","onVideoPreloadedMetaData","preDownloadVideoResource","splashAdFirstStepViewLayoutStateChange","splashAdAllViewLayoutStateChange","enableSplashAdHotStart","getInstallState","getDeviceInfo","getOAID","private_addContact","launchApplication","downloadAppInternal","navigateToMiniProgram","openADCanvas","private_openUrl","batchGetContact","preloadMiniProgramEnv","predownloadMiniProgramPackage","adOperateWXData","operateWXData","reportIDKey","reportKeyValue","adDataReport","getSystemInfo","accessSync","getPermissionBytes","readFileSync","statSync","reportRealtimeAction","measureText","openChannelsActivity","openChannelsLive","openChannelsUserProfile","openChannelsRewardedVideoAd","getAdPushMsg","clearAdPushMsg","openWeComUserProfileForAd"];try{(l||c||h)&&o.onLoadInstant((()=>{var e=d.createWXLibWorker("WASplashadWorker.js",{APIList:f,type:"ad"});-1!==e.workerId&&(o.globalShare.reusableWorkerId=e.workerId)}))}catch(e){o.emitFrameworkError(e,"LifeCycle.load")}})(),(()=>{var e={342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EnvPreloadType:()=>a,default:()=>s,updateConfig:()=>n});var a={None:0,BeforeLaunch:1,AfterLaunch:2},n=()=>{o!==i&&void 0!==o&&Object.assign(o,i)},o=(()=>(i.onReady(n),i))();const s=o},476:(e,r,a)=>{"use strict";a.r(r),a.d(r,{reportDeprecatedAPI:()=>s});var n=a(342),i=void 0!==t&&t?t.version:"unknown",o=void 0!==t&&t?t.updateTime:"unknown";"string"==typeof i&&(i=i.replace(" ","")),"string"==typeof o&&(o=o.replace(" ","-"));var s=(e="")=>{e=e.replace(/,/g,";");var t=i+" "+o,r=n.default.appType;b.reportKeyValue({key:"DeprecatedAPI",value:[e,t,r].join(",")})}},996:(e,t,r)=>{var{reportDeprecatedAPI:a}=r(476),{default:n}=r(342);function i(e=globalThis){function t(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e}}"function"==typeof globalThis.Function&&(t.prototype=globalThis.Function.prototype,t.prototype.constructor=t,globalThis.Function=t)}e.exports={hijack:function(e=!0,t=globalThis){i(t),"undefined"!=typeof eval&&("ios"===n.platform&&r.g.__isAppServiceRemoteDebugMode__||n.debug||(globalThis.eval=void 0)),e&&function(){if("undefined"!=typeof setTimeout){var e=setTimeout;globalThis.setTimeout=function(t,r=0){if("function"!=typeof t)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof t}.`);var a=_.surroundThirdByTryCatch(t,"at setTimeout callback function"),n=[].slice.call(arguments,2);return e((()=>{a.apply(globalThis,n)}),r)};var t=setInterval;globalThis.setInterval=function(e,r){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var a=_.surroundThirdByTryCatch(e,"at setInterval callback function"),n=[].slice.call(arguments,2);return t((()=>{a.apply(globalThis,n)}),r)}}}(),"undefined"!=typeof WebAssembly&&["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(a("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))},hijackFunction:i}},585:()=>{if("undefined"==typeof navigator){try{new a('var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});var FakeGeneratorFunction = function () {};FakeGeneratorFunction.prototype = GeneratorFunctionProto;Object.defineProperty(GeneratorFunctionProto, "constructor", { value: FakeGeneratorFunction });')()}catch(e){}try{new a('var AsyncFunctionProto = Object.getPrototypeOf(async function () {});var FakeAsyncFunction = function () {};FakeAsyncFunction.prototype = AsyncFunctionProto;Object.defineProperty(AsyncFunctionProto, "constructor", { value: FakeAsyncFunction });')()}catch(e){}try{new a('var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});var FakeAsyncGeneratorFunction = function () {};FakeAsyncGeneratorFunction.prototype = AsyncGeneratorFunctionProto;Object.defineProperty(AsyncGeneratorFunctionProto, "constructor", { value: FakeAsyncGeneratorFunction });')()}catch(e){}}}},r={};function n(t){var a=r[t];if(void 0!==a)return a.exports;var i=r[t]={exports:{}};return e[t](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";n.r(o),n.d(o,{bridgeGlobalInstanceOf:()=>ee,deepFreezeGlobalObjs:()=>z,deepFreezeObj:()=>D,deepFreezeObjProperty:()=>x,doNotWriteGlobalObjs:()=>q,doNotWriteObj:()=>O,doNotWriteObjProperty:()=>R,globalEsHiddenObjs:()=>t,globalEsObjs:()=>r,hijack:()=>H.hijack,hijackFunction:()=>H.hijackFunction,overwriteSetPrototypeOf:()=>$});n(585);var e=globalThis.Function,t=[()=>Object.getPrototypeOf(Uint8Array.prototype).constructor,()=>new e("return Object.getPrototypeOf((function* () {})()).constructor")(),()=>new e("return Object.getPrototypeOf(function* () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function* () {}).constructor")()].map((e=>{try{return e()}catch(e){}})).filter(Boolean),r=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","globalThis","Infinity","Int16Array","Int32Array","Int8Array","Intl","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],a=["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"],i=globalThis,s=n(342),l=(()=>s.default.platform)(),c=(()=>"ios"===l)();var u=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code\])?$/;function p(e,t=1/0){if("string"!=typeof e.stack)throw new Error("Cannot parse given Error object");var r=e.stack;return c?function(e,t){for(var r=[],a=e.split("\n"),n=0,i=0;n<a.length&&i<t;++n){var o=a[n];if(!d.test(o)){++i;var s=o.indexOf("@");if(-1===s){var l=h(o);r.push({fileName:l.URI,lineNumber:l.line,columnNumber:l.column,source:o})}else{var c=o.substring(0,s),u=h(o.substr(s+1));r.push({functionName:c,fileName:u.URI,lineNumber:u.line,columnNumber:u.column,source:o})}}}return r}(r,t):function(e,t){for(var r=[],a=e.split("\n"),n=0,i=0;n<a.length&&i<t;++n){var o=a[n];u.test(o)&&(r.push(o),++i)}return r.map((e=>{e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),a=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),n=h(r?r[1]:a.pop());return{functionName:a.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(n[0])>-1?void 0:n[0],lineNumber:n[1],columnNumber:n[2],source:e}}))}(r,t)}function h(e){var t=/(?::(\d+))?(?::(\d+))?$/.exec(e);return t?{URI:e.substring(0,e.length-t[0].length),line:t[1],column:t[2]}:{URI:e}}var f=Object.freeze,g=Object.setPrototypeOf,v=Object.defineProperty,m=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,_=Object.getOwnPropertySymbols,b=Object.getPrototypeOf,w=Object.preventExtensions;var I=[[e=>!/(WAServiceMainContext|WAGame)\.js/.test(e)]];function S(){var e,t,r=Date.now(),a=p(new Error,3),n=a[1],i=a[2],o=!(n.fileName&&i.fileName&&i.fileName!==n.fileName&&(e=i.fileName,t=n.fileName,!I.some((r=>r.some((t=>t(e)))&&r.some((e=>e(t)))))));return Date.now()-r,o}function k(e,t=!1){if("function"==typeof e||"object"==typeof e&&null!==e){var r=m(e,"__proto__");r&&!r.configurable||(r||Object.isExtensible(e))&&v(e,"__proto__",{get(){return b(this)},set(r){if(this===e)t&&S()&&g(e,r);else{if("function"!=typeof this&&("object"!=typeof this||null===e))return;g(this,r)}},enumerable:!1,configurable:!1})}}var C=new Map,T=(e,t,r)=>{C.has(e)||C.set(e,new Map);var a=C.get(e);a.has(t)?Object.assign(a.get(t),r):a.set(t,r)};function P(e,t,r=!1){if("function"!=typeof e&&("object"!=typeof e||null===e))return!1;try{var a=m(e,t);return!!a&&(a.configurable&&(v(e,t,{get:a.get||(()=>a.value),set(n){if(this===e)r&&S()&&(a.set?a.set.call(this,n):a.writable&&(a.value=n));else{if("function"!=typeof this&&"object"!=typeof this)return;!function(e,t,r){try{"__proto__"===t?g(e,r):v(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(e){}}(this,t,n)}},enumerable:a.enumerable,configurable:!1}),r&&T(e,t,a)),!a.get&&("function"==typeof a.value||"object"==typeof a.value&&null!==a.value))}catch(e){throw e.message,e}}var A=new WeakSet;function E(e){A.add(e)}function M(e){return A.has(e)}function x(e,t,r){P(e,t)&&D(e[t],r)}function D(e,t){if(e&&!M(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis)if(e!==Error){E(e);for(var r=y(e),a=_(e),n=0;n<r.length;++n)x(e,r[n],t);for(var i=0;i<a.length;++i)x(e,a[i],t);t?w(e):k(e,!1)}else if(t){var o=e=>{if(e&&!M(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){E(e),f(e);for(var t=y(e),r=_(e),a=0;a<t.length;++a)o(e[t[a]]);for(var n=0;n<r.length;++n)o(e[r[n]])}};o(Error)}}function R(e,t){P(e,t,!0)&&O(e[t])}var L=new WeakSet;function N(e){return L.has(e)}function O(e){if(e&&!N(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){!function(e){L.add(e)}(e);for(var t=y(e),r=_(e),a=0;a<t.length;++a)R(e,t[a]);for(var n=0;n<r.length;++n)R(e,r[n]);k(e,!0)}}var B=Object.prototype.hasOwnProperty,j=Object.defineProperty,F=Object.defineProperties,W=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,G=Object.getOwnPropertyDescriptor,V=!1,$=function(){V||(V=!0,j(i.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0}),j(i.Object,"defineProperty",{value(e,t,r){if(!N(e))return j(e,t,r);if(!S())return r;var a=G(e,t);if(!a||a.configurable){var n=j(e,t,r);return R(e,t),n}return T(e,t,r),r},configurable:!0}),j(i.Object,"defineProperties",{value(e,t){if(!N(e))return F(e,t);if(!S())return t;var r=r=>{var a=G(e,r);if(!a||a.configurable){var n=j(e,r,t[r]);return R(e,r),n}return T(e,r,t[r]),t[r]};return W(t).forEach(r),U(t).forEach(r),t},configurable:!0}))},q=function(e=[]){try{for(var n=[...r,...a,...t,...e],o=(Date.now(),0);o<n.length;++o){var s=n[o],l=typeof s;"string"===l?B.call(i,s)&&R(i,s):"function"!==l&&"object"!==l||O(s)}Date.now()}catch(e){}},z=function(e=[],n=!1){try{for(var o=[...r,...a,...t,...e],s=(Date.now(),0);s<o.length;++s){var l=o[s],c=typeof l;"string"===c?B.call(i,l)&&x(i,l,n):"function"!==c&&"object"!==c||D(l,n)}Date.now()}catch(e){}},H=n(996),K=Object.prototype.isPrototypeOf,J=Object.defineProperty,Q=Object.prototype.hasOwnProperty,Y=Symbol.hasInstance,Z=function(e){return!("function"!=typeof this||!X(e))&&((e,t)=>K.call(t.prototype,e))(e,this)},X=e=>"object"==typeof e?null!==e:"function"==typeof e;function ee(e,t,r={}){for(var a=function(a){var n=e[a],i=t[a];if(!n||!i)return"continue";if("function"!=typeof n)return"continue";var o=Q.call(n,Y)?n[Y]:Z,s=Q.call(i,Y)?i[Y]:Z;J(n,Y,{value(e){return o.call(this,e)||s.call(i,e)},writable:!0,enumerable:!1,configurable:!0}),J(i,Y,{value(e){return void 0!==r[a]&&"Object"===r[a]&&void 0!==(null==e?void 0:e._compressed)&&void 0!==(null==e?void 0:e._data)&&void 0!==(null==e?void 0:e.height)&&void 0!==(null==e?void 0:e.width)?s.call(this,e):s.call(this,e)||o.call(n,e)},writable:!0,enumerable:!1,configurable:!0})},n=0;n<e.length;++n)a(n)}})(),v=o})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{actionController:()=>o,allowReportLoadingTime:()=>le,clearAsyncCallApiRelatedEvent:()=>ee,clearCurrentEventApiList:()=>D,clearCurrentEventInfo:()=>B,closeTrackUserAction:()=>M,convert24247SchemaToSensitiveQueryJudgeSchema:()=>j,convertClassList:()=>$,convertReportInfo2Strategys:()=>c,endLoading:()=>se,endTraceHandler:()=>G,endTraceLastRouteStayTime:()=>k,filterApiReportReq:()=>l,getActionTime:()=>s,getAppServiceVariable:()=>ne,getAsyncCallApiRelatedEvent:()=>Z,getAsyncCallbackJoinEventInterval:()=>te,getCompatPathWithoutValue:()=>W,getCurrentEventApiList:()=>L,getCurrentEventInfo:()=>O,getCurrentRawRoutePath:()=>Q,getCurrentRoutePath:()=>P,getCurrentRoutePathWithoutQuery:()=>I,getCurrentRouteStartTime:()=>ce,getPageTitle:()=>de,getQualityConfig:()=>he,getReportEvent:()=>v,getSafeRoutePath:()=>F,getSamplePercent:()=>u,getSessionId:()=>g,getTextContentMaxLayer:()=>_,getTextContentMaxLength:()=>b,getTrackUserAction:()=>R,limitContent:()=>q,pushApiToEventApiList:()=>K,reportInteractionAPI:()=>H,setActionChainReportTypes:()=>V,setAppServiceVariable:()=>ie,setAsyncCallApiRelatedEvent:()=>X,setAsyncCallbackJoinEventInterval:()=>re,setCurrentEventApiList:()=>x,setCurrentEventInfo:()=>N,setCurrentRouteStartTime:()=>ue,setEventJoinInterval:()=>Y,setQualityConfig:()=>pe,setReportSetting:()=>ae,setSessionId:()=>w,shouldReportEvent:()=>d,shouldReportLifetime:()=>p,shouldStartReport:()=>h,shouldUpdateReportInfo:()=>f,startActionChainReport:()=>y,startLoading:()=>oe,startTraceHandler:()=>U,startTraceLastRouteStayTime:()=>S,startTrackUserAction:()=>E,traceApi:()=>r,traceBootRoutePath:()=>A,traceEvent:()=>n,traceLife:()=>i,traceNewRoute:()=>z,traceRawRoutePath:()=>J,traceRoute:()=>a,traceRoutePath:()=>T,traceRoutePathWithoutQuery:()=>C});var r=()=>{},a=()=>{},n=()=>{},i=()=>{};var o=new class{create(){}intervalSend(){}clearIntervalSend(){}getCurrentId(){}add(){}send(){}protect(){}},s=()=>{},l=()=>{},c=()=>{},u=()=>{},d=()=>{},p=()=>{},h=()=>{},f=()=>{},g=()=>{},v=()=>{},y=()=>{},_=()=>{},b=()=>{},w=()=>{},I=()=>{},S=()=>{},k=()=>{},C=()=>{},T=()=>{},P=()=>{},A=()=>{},E=()=>{},M=()=>{},x=()=>{},D=()=>{},R=()=>{},L=()=>{},N=()=>{},O=()=>{},B=()=>{},j=()=>{},F=()=>{},W=()=>{},U=()=>{},G=()=>{},V=()=>{},$=()=>{},q=()=>{},z=()=>{},H=()=>{},K=()=>{},J=()=>{},Q=()=>{},Y=()=>{},Z=()=>{},X=()=>{},ee=()=>{},te=()=>{},re=()=>{},ae=()=>{},ne=()=>{},ie=()=>{},oe=()=>{},se=()=>{},le=()=>{},ce=()=>{},ue=()=>{},de=()=>{},pe=()=>{},he=()=>{};m=t})(),(()=>{var e={227:(e,t,r)=>{r.d(t,{D:()=>n,m:()=>a});var a={APP:"app",APP_RENDER:"app_sub_render",APP_XRFRAME_RENDER:"app_xrframe_render",APP_SCL:"app_sub_scl",GAME:"game",GAME_OPEN_DATA:"gameOpenData"},n={GAME_PLUGIN_PRELOAD:"gamePlugin_preload_",GAME_PLUGIN:"gamePlugin_",APP_CARDS:"CARD_"}},752:(e,t,r)=>{var a=r(796),n=r(410);o.onBridgeReady((()=>{c.on("onError",(e=>{o.emitUnhandledError(e)})),c.on("unhandledRejection",(e=>{o.emitUnhandledRejection(null==e?void 0:e.reason,null==e?void 0:e.promise)}))})),o.onUnhandledRejection((function(e={}){(0,a.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e.reason=__wxSourceMapRetrace__(e.reason)),f.error("Uncaught (in promise) FrameworkError",e.reason)):(0,a.sK)(e.reason,"",e.promise||null)})),o.onUnhandledError((function(e){e=(0,n.Bs)(e),(0,a.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),f.error("Uncaught FrameworkError",e)):(0,a.sK)(e,"")})),o.onFrameworkError((function(e){"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),f.error("FrameworkError",e)}))},673:(e,t,r)=>{r.d(t,{OJ:()=>i,YZ:()=>n,yQ:()=>a});function a(){if(r.g.PerfDog)return r.g.PerfDog}function n(){if("undefined"!=typeof NativeGlobal&&NativeGlobal.Profiler)return NativeGlobal.Profiler}var i=new class{constructor(){this.callbacks=new Map}sendPackage(e,t){var r=this.callbacks.get(e);r&&Array.isArray(r)&&r.forEach((r=>{r(e,t)}))}registerCallback(e,t){if(this.callbacks.get(e)){this.callbacks.get(e).push(t)}else{var r=[t];this.callbacks.set(e,r)}}}},550:(e,t,r)=>{var a=r(18);i.onReady((()=>{"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=(0,a.M)(),r=0;r<t.length;r++){var n=t[r].contextGlobal.__wxSourceMap;if("object"==typeof n&&n[e]){var i=void 0;try{i=JSON.parse(JSON.stringify(n[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return i}}})}))},168:(e,t,r)=>{r.d(t,{Z:()=>E,i:()=>M});var a,n=r(888),s=r.n(n),l=r(796),c=r(410),u=r(227),d={},p={},h={},v={},m={},y={},_={},b=0;g.subscribe("subContextMessage",((e,t)=>{var r=h[t];return r&&r.__onMessageHandler(e)})),g.subscribe("injectGamePerformanceUtilsSDK",(e=>{var t=GamePerformanceUtilsSDK.getSDK();f.warn("gamePerformanceUtilsSdk: ",t),e.success({sdk:t})})),g.subscribe("subContextReady",((e,t)=>{var r;if(((0,l.G$)()||(0,l.oi)())&&(r=h[t]),o.env.isGame)if("game"===a.__name__||r&&"game"===r.__name__||"string"==typeof a.__name__&&a.__name__.includes("preload")||r&&"string"==typeof r.__name__&&r.__name__.includes("preload")){var n=a;if((r?a&&"game"===a.name?a:r:a).delaySubContextReadyCallback=()=>{(0,l.G$)()||(0,l.oi)()?h[t].__onReadyHandler(t,e):n&&n.__onReadyHandler(t,e)},(0,l.G$)()||(0,l.oi)())return void h[t].__onPreloadReadyHandler(t,e);if(!n)return;n.__onPreloadReadyHandler(t,e),a=void 0}else{if((0,l.G$)()||(0,l.oi)())return void h[t].__onReadyHandler(t,e);if(!a)return;a.__onReadyHandler(t,e),a=void 0}else{if((0,l.G$)()||g.isAsync())return void h[t].__onReadyHandler(t,e);if(!a)return;a.__onReadyHandler(t,e),a=void 0}})),g.subscribe("subContextLibVarReady",((e,t)=>{h[t].__onLibVarReadyHandler(e)}));var I=function(e){var t=g.create(e);return d[this.__guid__]=t,t},S=function(e,t,r){var a,n,i=(0,l.G$)()||g.isAsync(),s=!1;if("number"==typeof t&&g.supportAllocFromSnapshot()?(f.info(`[JSContext] alloc(fromSnapshot) name=${e}, snapshotCtxIdx=${t}`),a=g.allocFromSnapshot(e,t),e===u.m.APP&&g.setAppSubContextId(a),g.associateRealId2SdkId(a)):r&&g.supportAllocEmpty()?(f.info(`[JSContext] alloc(empty) name=${e}`),s=!0,i?n=new Promise((t=>{a=g.allocEmpty(e,(()=>{t(a)}))})):a=o.env.isMagicBrushFrameEnv?g.allocEmpty(e):g.allocEmpty()):(r&&f.warn("SubContext: allocEmpty is not supported"),f.info(`[JSContext] alloc name=${e}`),a=i?g.alloc(e):g.alloc(),e===u.m.APP&&g.setAppSubContextId(a),g.associateRealId2SdkId(a)),i&&(h[a]=this),d[this.__guid__]=a,s&&a>0)if(n)n=n.then((e=>{var t=this.loadLibFiles(r);return f.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${t}`),e}));else{var c=this.loadLibFiles(r);f.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${c}`)}return n||a},k=function(e,t,r){Object.defineProperty(this,e,{value:t,...r?{writable:!0,configurable:!1}:{writable:!1,configurable:!1}})},C=function(){void 0!==p[this.__guid__]&&(y[this.__guid__].forEach((e=>{this.postMessage(e)})),y[this.__guid__]=[])},T=function(){void 0!==p[this.__guid__]&&(0,c.YF)((()=>{_[this.__guid__].forEach((e=>{this.postMessage(e)})),_[this.__guid__]=[]}))},P=(e,t)=>(w.traceBeginEvent("Framework","evaluateScript",{moduleName:t,fileList:e}),e=>{w.traceEndEvent({isSuccess:e})}),A=new Set;const E=class{constructor({name:e,secure:t=!0,env:r={},entry:a=[],entryLibs:n=null,injectAfterAlloc:i=!0,snapshotContextName:o="",isPreload:s=!1}){k.call(this,"__name__",e,s),k.call(this,"__guid__",b++,s),k.call(this,"__secure__",t,s),k.call(this,"__entry__",a,s),k.call(this,"__entryLibs__",n,s),k.call(this,"__injectAfterAlloc__",i,s),k.call(this,"__snapshotContextName__",o,s),this.contextGlobal=globalThis,this.alreadyLoadedJsFiles=new Set,this.alreadyLoadedLibFiles=new Set,this.firstLoadJsFilesStartTime=null,this.initialScriptInjected=!1,this.setExportEnv(r),m[this.__guid__]=[],y[this.__guid__]=[],_[this.__guid__]=[]}static supportEntryLibs(){return g.supportAllocEmpty()}getInnerId(){return p[this.__guid__]}getSnapshotCtxIdx(){var e,t;if(!this.__snapshotContextName__)return null;var r=null===(e=i)||void 0===e||null===(t=e.snapshotMetaInfo)||void 0===t?void 0:t[this.__snapshotContextName__];return"number"==typeof r?r:null}init(){var e=this;if(a=this,!(g.supportAlloc()||this.__entryLibs__&&g.supportAllocEmpty()))return I.call(this,this.__entry__);var t=S.call(this,this.__name__,this.getSnapshotCtxIdx(),this.__entryLibs__);if(t instanceof Promise)return t.then((e=>(f.info(`[JSContext] alloc done, name=${this.__name__}, ret=${e}`),e)));if(f.info(`[JSContext] alloc done, name=${this.__name__}, ret=${t}`),this.__injectAfterAlloc__){if(((0,l.G$)()||g.isAsync())&&(0,l.N0)())return s()((function*(){for(var t=0,r=e.__entry__.length;t<r;t++)yield e.evaluateScriptFile(e.__entry__[t])}))();this.__entry__.forEach((e=>{this.evaluateScriptFile(e)}))}}preInit(e,t){var r=this;if(this.preHandleExportEnv=e,this.skipCondomList=t,a=this,!g.supportAlloc())return I.call(this,this.__entry__);S.call(this,this.__name__,this.getSnapshotCtxIdx()),this.__injectAfterAlloc__&&(this.delayExecuteJsFile=()=>{if(((0,l.G$)()||g.isAsync())&&(0,l.N0)())return s()((function*(){for(var e=0,t=r.__entry__.length;e<t;e++)yield r.evaluateScriptFile(r.__entry__[e])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))})}callDelayFn(){return new Promise(((e,t)=>{var r=Date.now(),n=()=>{if(this.delaySubContextReadyCallback){a=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var i=this.delayExecuteJsFile&&this.delayExecuteJsFile();a=void 0,e(i)}else{if(Date.now()-r>2e4)return o.env.platform,t();setTimeout(n)}};n()}))}callDelayFnSync(){a=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var e=this.delayExecuteJsFile&&this.delayExecuteJsFile();return a=void 0,e}unShiftEntries(e){this.__entry__.unshift(...e)}afterPreloadInit(){return("android"===o.env.platform||"ios"===o.env.platform)&&!g.isAsync()?this.callDelayFnSync():this.callDelayFn()}onMessage(e){(this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback)&&(m[this.__guid__].forEach((e=>{this.__onMsgCallback(e)})),m[this.__guid__]=[])}postMessage(e){var t=p[this.__guid__];return void 0!==t?g.publish("mainContextMessage",e,[t])[0]:void y[this.__guid__].push(e)}postMessageAsync(e){var t=p[this.__guid__];void 0!==t?(0,c.YF)((()=>{g.publish("mainContextMessage",e,[t])})):_[this.__guid__].push(e)}onInitReady(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}setExportEnv(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,v[this.__guid__]=e}setName(e){this.name=e,this.__name__=e}setEntry(e){this.__entry__&&this.__entry__.pop?(this.__entry__.splice(0,this.__entry__.length),this.__entry__.push(...e)):this.__entry__=[...e]}getEntry(){return this.__entry__}refreshExportEnv(e){return new Promise((t=>{if(!e)throw Error("refreshExportEnv: missing arguments.");this.setExportEnv(e);var r=v[this.__guid__],a=p[this.__guid__];g.publish("subContextEnvReady",r,[a],!0),g.subscribe("subContextRefreshEnvReady",((e,r)=>{a===r&&t()}))}))}refreshWxConfig(e,t){var r=p[this.__guid__];g.publish("subContextRefreshWxConfig",{key:e,value:t},[r])}dynamicExportGlobal(e={name:"",value:"",needCondom:!0},t){var r=()=>{var r=p[this.__guid__];g.publish("exportGlobalRequire",e,[r]),t&&t()};void 0!==d[this.__guid__]?r():this.onInitReady(r)}evaluateScriptFile(e,t){var r=d[this.__guid__];if(void 0!==r){"game.js"===e&&(g.notifyGameEngineReady(),w.recordGameJSInjectTimestamp(Date.now()));var a=P([e],t);if(((0,l.G$)()||g.isAsync())&&(0,l.N0)())return new Promise((t=>{var n=g.evaluateScriptFile(r,e,(()=>t(n)));if(1!==n)throw a(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${n}`)})).then((()=>{a(!0)}));var n=g.evaluateScriptFile(r,e);if(1!==n)throw a(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${n}`);a(!0),this.alreadyLoadedJsFiles.add(e)}}loadLibFiles(e){var t=d&&d[this.__guid__];if(void 0===t)return"fail: no clientId";if(!g||!g.loadLibFiles)return"fail: not support loadLibFiles";try{e=e.filter((e=>!this.alreadyLoadedLibFiles.has(e)));var r=g.loadLibFiles(t,e);return e.forEach((e=>this.alreadyLoadedLibFiles.add(e))),r}catch(t){throw new Error(`SubContext loadLibFiles "${e}" failed: error ${t}`)}}loadJsFiles(e,t,{waitResult:r=!1,reportKey:a,isPageInitialScript:n=!1}={}){var o=0,s=[];for(var l of e)"/"!==l[0]&&(l="/"+l),this.alreadyLoadedJsFiles.has(l)?++o:s.push(l);e=s;var c=d&&d[this.__guid__],p=null;if(o>0&&f.info(`[SubContext] loadJsFiles ignored loaded: [${o} files]`),0===e.length)return f.info("[SubContext] loadJsFiles have no files to load, return"),p;var h={};if(void 0!==c){var v="android"===i.platform?"key":"reportKey",m=a;if(void 0!==m){if(A.has(m)){var y=1;do{m=a+"-#"+y++}while(A.has(m))}A.add(m)}if(h[v]=m,null===this.firstLoadJsFilesStartTime&&(this.firstLoadJsFilesStartTime=Date.now()),n&&!this.initialScriptInjected&&this.__name__===u.m.APP&&(this.initialScriptInjected=!0,h.initialScript=!0,h.initialScriptStartTime=this.firstLoadJsFilesStartTime),g&&g.batchLoadJsFiles)try{var _=Date.now(),b=P(e,t);try{g.batchLoadJsFiles(c,e,h)}catch(e){throw b(!1),e}r?p=e=>{b(!!e)}:b(!0),f.info("[SubContext] loadJsFiles done, cost "+(Date.now()-_)),e.forEach((e=>this.alreadyLoadedJsFiles.add(e)))}catch(t){throw new Error(`SubContext loadJsFiles "${e}" failed: error ${t}`)}}return p}destroy(){var e=d[this.__guid__],t=p[this.__guid__];e>0&&(g.publish("subContextDestroy",{},[t]),g.destroy(e)),delete h[t],delete d[this.__guid__],delete p[this.__guid__],delete v[this.__guid__],delete m[this.__guid__],delete y[this.__guid__],delete _[this.__guid__];try{delete this.__guid__}catch(e){}delete this.contextGlobal}__onMessageHandler(e){return"function"==typeof this.__onMsgCallback?this.__onMsgCallback(e):void m[this.__guid__].push(e)}__onReadyHandler(e,t){h[e]=this,p[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=v[this.__guid__];r&&g.publish("subContextEnvReady",r,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach((e=>{e(t)})),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,C.call(this),T.call(this)}__onPreloadReadyHandler(e,t){h[e]=this,p[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=v[this.__guid__];r&&(r.preHandleEnv=this.preHandleExportEnv,r.skipCondomList=this.skipCondomList,r.expt=!1,g.publish("preloadSubContextEnvReady",r,[e],!0))}};var M=e=>d[e]},18:(e,t,r)=>{r.d(t,{M:()=>i,z:()=>n});var a=[],n=function(e){a.push(e)},i=function(){return a}},796:(e,t,r)=>{r.d(t,{Dt:()=>m,F:()=>l,G$:()=>h,Hw:()=>p,N0:()=>s,NG:()=>_,QT:()=>u,Qj:()=>w,c2:()=>S,c6:()=>I,cF:()=>y,gn:()=>f,oi:()=>k,sK:()=>d,xJ:()=>o});var a=r(888),n=r.n(a),o=globalThis;var s=function(){return void 0!==i&&i.isIsolateContext},l=function(){v.deepFreezeGlobalObjs(["console"],!0)},u=function(){var e=n()((function*(e,t){b.reportIDKey({key:t});try{yield e()}catch(e){b.reportIDKey({key:`${t}_fail`,force:!0});var r=t.indexOf("initGame")>=0?"gameSDKScriptError":"appServiceSDKScriptError";b.errorReport({key:r,error:e,extend:""})}}));return function(t,r){return e.apply(this,arguments)}}(),d=function(e,t,r){void 0!==r?b.thirdErrorReport({error:e,isUnhandledRejection:!0,promise:r,extend:t}):b.thirdErrorReport({error:e,isUnhandledRejection:!1,extend:t})},p=function(e,t){return function(){try{return t.apply(t,arguments)}catch(t){b.errorReport({key:e,error:t,extend:""})}}},h=function(){return"devtools"===i.platform},f=function(){return"ios"===i.platform},m=function(){return"android"===i.platform},y=e=>{var t;if(c.invoke("accessSync",{path:e},(e=>{/:fail/.test(e.errMsg)&&(t=e.errMsg)})),t)throw new Error(t)},_=e=>{var t,r;if(c.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t},w=(e="",t=[])=>{if(e&&"string"==typeof e&&!/^index/.test(e)){var r=e.replace(/(^\/+)|(\/+$)/g,"").split("/"),a=t.find((t=>{if(t.independent){var a=t.root||"",n=t.alias||"",i=a.replace(/(^\/+)|(\/+$)/g,"").split("/");if(r.length>=i.length){var o=i.every(((e,t)=>e===r[t]));if(o)return o}if(n&&0===e.indexOf(n))return!0}return!1}));if(a)return a}return!1},I=e=>[1001,1011,1007,1008,1074,1088,1044,1010,1096,1014,1043,1047,1107,1155].indexOf(e)>=0,S=({query:e,appType:t}={})=>!(null==e||!e.playable_outid)||20===t,k=()=>g.isAsync()},642:(e,a,n)=>{n.d(a,{E:()=>L,F:()=>N});var s=n(168),u=n(673),d=n(796),p=n(510),h=n(227);n.g.LanDebug=u.OJ,n.g.getPerfDog=u.yQ,n.g.getProfiler=u.YZ;var v,y="undefined"!=typeof __AppServiceRemoteDebugger__,_=null,I={};o.onLoad((()=>{_=y?__AppServiceRemoteDebugger__(i.platform,p.M,p.O,d.NG,n.g.WeixinJSBridge):null,y&&_&&((I=(0,d.gn)()?_.runtime.getSubContextGlobals():{}).BaseConsole&&_.runtime.setupConsole(console,I.BaseConsole),n.g.__remoteDebug__=_.__remoteDebug__,n.g.__isAppServiceRemoteDebugMode__=!0,n.g.__debuggerMessager__=p.O)}));var S=e=>v=e,k="app-service.js",C="appservice.app.js",T="common.app.js",P="appservice.js",A=new s.Z({name:h.m.APP,secure:!1,entry:[k],injectAfterAlloc:!1,snapshotContextName:"app:sub"}),E=new Set;i.onReady((()=>{"develop"!==i.envVersion&&"trial"!==i.envVersion||(E.add("wx0354ba48aadc0ab2"),E.add("wxfa43a4a7041a84de"))}));var M=e=>f.info("[injectEntryFile] "+e),x=new Set,D=(e,t,r)=>{if(!x.has(e)){w.traceBeginEvent("Framework",`injectEntryFile # [${e}]`),y&&_&&(0,d.gn)()&&_.runtime.registerScript(e);var a=-1,n=-1;x.add(e);var o="boolean"==typeof r?r:i.isLazyLoad;M(`isLazyLoad: ${o}`),M(`moduleName: ${e}`),M(`separatedPlugins: ${JSON.stringify(t)}`);var s=[];if(o){console.info("Lazy code loading is enabled. Only injecting required components."),t.forEach((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,E.add(t.plugin_id));try{M(`accessSync path: ${r+T}`),(0,d.cF)(r+T),s.push(r+T,r+C),t.prefix_path||((e,t)=>{f.info(`[loadPluginJson] try loading ${t} in module ${e}`);var r=(0,d.NG)(t);if(r){var a;try{a=JSON.parse(r)}catch(e){a={}}f.info(`[loadPluginJson] ${t} typeof result.allExtendedComponents=${typeof a.allExtendedComponents}`),(i.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&a.allExtendedComponents&&(t.allExtendedComponents=a.allExtendedComponents,f.info(`[loadPluginJson] updated subPackage ${t.root} allExtendedComponents`))})),A.refreshWxConfig("subPackages",i.subPackages)}})(e,r+"plugin.json")}catch(e){s.push(r+P)}})),s.push(e+T,e+C),M(`using separated plugins: ${JSON.stringify(s)}`);var l=e||"__APP__";a=Date.now(),A.loadJsFiles(s,l,{reportKey:`entry-${l}`}),n=Date.now()}else(s=t.map((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");return t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,E.add(t.plugin_id)),r+P}))).push(e+k),M(`using separated plugins: ${JSON.stringify(s)}`),a=Date.now(),s.forEach((t=>{if(t="/"===t[0]?t:"/"+t,!A.alreadyLoadedJsFiles.has(t)){try{A.evaluateScriptFile(t,e||"__APP__")}catch(e){M(`inject ${t} failed, reason: ${e.message}`)}A.alreadyLoadedJsFiles.add(t)}})),n=Date.now();A.refreshWxConfig("extendedLibList",Array.from(E)),a>0&&n>0&&M("time cost: "+(n-a)),w.traceEndEvent()}},R=(0,d.Hw)("appServiceSDKScriptError",(e=>{var t=e.moduleName,r="__APP__"===t,a=e.separatedPlugins||[],n=e.isLazyLoad;"string"!=typeof t&&console.error("SubContext onSubPackageReady error: moduleName is empty"),v.globalRequireBlocker.block(),t.endsWith("/")||(t=`${t}/`),(0,d.gn)()&&y?(t=r?"":t,_.runtime.isInitialInject()?(_.runtime.startBufferBridgeMessages(),_.runtime.runAfterAttached((()=>{D(t,a,n),_.runtime.dispatchBridgeMessages()}))):D(t,a,n)):D(r?"":t,a,n),v.globalRequireBlocker.unblock(),__glassEaselAdapter__.getEnv().codeManager.setSubPackageLoaded([t]),__glassEaselAdapter__.getEnv().afterPackageCommonEvaluation(),i.onReady((()=>{w.traceBeginEvent("Framework","ExecuteMiniProgram # "+t),v.globalRequireBlocker.flushQueue(),w.traceEndEvent()}))})),L=function(){var e,a={};y&&_&&(a={__isAppServiceRemoteDebugMode__:!0,__remoteDebug__:_.__remoteDebug__,...I});var o={wxLibVersion:(null===(e=t)||void 0===e?void 0:e.version)||"9.9.9",__Function__:r,console:Object.assign({group:()=>{},groupEnd:()=>{}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__sclEngine__:__sclEngine__,__wxConfig:i,Reporter:b,BaseConsole:__appServiceConsole__.BaseConsole,wxNativeConsole:f,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},__subContextEngineBridge__:__subContextEngineBridge__,__freezeLibContextGlobal__:()=>(0,d.F)(),originConsole:console,...a,debuggerMessager:p.O,__userActionTracer__:m,__appServiceSDK__:w,WeixinJSBridge:c,setWxModule:S,__glassEaselAdapter__:__glassEaselAdapter__};return o.Trace=l,w.beforeSubPackageReady((()=>{A.refreshWxConfig("exportBaseMethods",n.g.__wxConfig.exportBaseMethods)}),{once:!0}),w.onSubPackageReady(R),A.setExportEnv(o),A.init()},N=function(){return A};g&&g.subscribe&&g.subscribe("injectEntryFile",(e=>{D(e.moduleName,e.separatedPlugins)}))},612:(e,t,r)=>{r.d(t,{DW:()=>d,Tq:()=>h,vh:()=>p});var a=r(227),n=r(168),o=r(796),s=["WARenderContext.js"];"undefined"!=typeof __AppServiceRemoteDebugger__&&s.push("WARemoteDebug.js");var u=new n.Z({name:a.m.APP_RENDER,secure:!0,entry:[],entryLibs:s,snapshotContextName:"app:subRender"}),d=function(){var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:i,Reporter:b,BaseConsole:__appServiceConsole__.BaseConsole,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:f,WeixinJSBridge:c,__sclEngine__:__sclEngine__,__appServiceConsole__:__appServiceConsole__,SkylineGlobal:"undefined"==typeof SkylineGlobal?{}:SkylineGlobal,__glassEaselAdapter__:__glassEaselAdapter__,readFileSync:o.NG};return e.Trace=l,w.beforeSubPackageReady((()=>{u.refreshWxConfig("exportBaseMethods",r.g.__wxConfig.exportBaseMethods)}),{once:!0}),u.setExportEnv(e),u.__initPromise__=u.init(),u},p=function(){return u},h=(e,t)=>g.publish(e,t,[u.getInnerId()])},801:(e,t,r)=>{r.d(t,{Nz:()=>u,Pc:()=>s,dx:()=>o});var a=r(227),n=new(r(168).Z)({name:a.m.APP_SCL,secure:!1,entry:["common.app.js","webview.app.js"],entryLibs:["WASclContext.js"]}),o=function(){__sclEngine__.initScl((()=>{}),!0);var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:i,Reporter:b,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:f,WeixinJSBridge:c,__sclEngine__:__sclEngine__};return e.Trace=l,n.setExportEnv(e),n.__initPromise__=n.init(),n},s=function(){return n},u=(e,t)=>g.publish(e,t,[n.getInnerId()])},740:(e,t,r)=>{r.d(t,{$:()=>s,k:()=>u});var a,n=r(227),o=r(168),s=function(e){if(a)return console.error(new Error("createAppXRFrameRenderContext: exceed max concurrent XRFrameRenderContext limit.")),a;a=new o.Z({name:n.m.APP_XRFRAME_RENDER,secure:!1,entry:[],entryLibs:"devtools"===i.platform?["WAXRFrameRenderContextDevTools.js"]:["WAXRFrameRenderContext.js"]});var t={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:i,Reporter:b,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:f,WeixinJSBridge:c,Trace:l,console:console,subContextInitCallback:e,BaseConsole:__appServiceConsole__.BaseConsole};return a.setExportEnv(t),a.init(),a},u=()=>a},510:(e,t,r)=>{r.d(t,{M:()=>i,O:()=>n});var a=[],n="undefined"!=typeof DebuggerConnection?DebuggerConnection:{};n.registerCallback=e=>{"function"==typeof e&&a.push(e)},n.onCustomMessage=(e,t)=>{a.forEach((r=>{try{r(e,t)}catch(e){}}))};var i="undefined"!=typeof JSThread?JSThread:null},561:(e,t,r)=>{r.d(t,{M:()=>g,N7:()=>p,eC:()=>m,xC:()=>y});var a=r(168),n=r(673),s=r(510),l=r(227);r.g.LanDebug=n.OJ,r.g.getPerfDog=n.yQ,r.g.__debuggerMessager__=s.O;var c,u="object"==typeof window&&window&&window.__wkrenderer_h5,d={};o.onLoad((()=>{c=u?[...v.globalEsObjs.map(((e,t)=>(d[t]=e,globalThis[e]))),...v.globalEsHiddenObjs]:(c=(c=[...v.globalEsObjs.map((e=>({key:e,val:globalThis[e]}))),...v.globalEsHiddenObjs]).filter((e=>null!=e&&e.key?Boolean(e.val)&&e.val!==eval:Boolean(e)&&e!==eval))).map(((e,t)=>e.key?(d[t]=e.key,e.val):(d[t]=`globalEsHiddenObjs-${t}`,e)))}));var p=new class{constructor(){var e;this.__readyCondomFn=[],this.whiteExptName="android"===(null===(e=i)||void 0===e?void 0:e.platform)?"clicfg_appbrand_android_control_close_condom_white":"clicfg_appbrand_ios_control_close_condom_white"}condomPrototype(e){var t;return(null===(t=i)||void 0===t?void 0:t.expt[this.whiteExptName])?e.length!==c.length?(f.warn("Condom Unexpected Error: the subCtx globalEnv length not equal mainCtx"),this.__readyCondomFn.forEach((e=>e(!1))),!1):(v.bridgeGlobalInstanceOf(e,c,d),this.__readyCondomFn.forEach((e=>e())),!0):(this.__readyCondomFn.forEach((e=>e(!1))),!1)}getGlobals(){return c||(console.error("unexpected error: getGlobals in gameContext too early"),[])}onCondomBridgeFinshed(e){this.__readyCondomFn.push(e)}},h=new a.Z({name:l.m.GAME,secure:!1,entry:["game.js"],snapshotContextName:"game:sub"}),g=function(e){return e.__wxConfig=i,e.__ctx_bridge=p,e.__is_wk_game=u,h.setExportEnv(e),h.afterPreloadInit()},m=function(){return h},y=function(e,t){return h.preInit(e,t)}},681:(e,t,r)=>{r.d(t,{J:()=>l,r:()=>c});var a=r(227),n=r(168),o=r(796),s=new n.Z({name:a.m.GAME_OPEN_DATA,secure:!0,entry:["subContext.js"],snapshotContextName:"game:sub"});var l=e=>(e.__wxConfig=i,s.setExportEnv(e),(0,o.G$)()||g.isAsync()||function(){var e=i.plugins||i.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!!r&&r.some((e=>"openDataContext"===e.type))})).map((t=>e[t]));s.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}(),s.init()),c=function(){return s}},29:(e,t,r)=>{r.d(t,{K0:()=>S,dr:()=>b,hS:()=>k,qo:()=>I});var a=r(888),n=r.n(a),s=r(227),l=r(168),c=r(18),u=r(796),d=r(561),p=r(681),h={},f={isolatedContext:{},gameContext:{},gameOpenDataContext:{},unknown:{}},v=e=>`__plugin__/${e}/plugin.js`,m=null,y=!1,_=1;o.onLoad((()=>{o.env.isGame&&i.preload&&"android"===o.env.platform&&!g.isAsync()?(m=new l.Z({name:s.D.GAME_PLUGIN_PRELOAD+_,secure:!1,isPreload:!0,snapshotContextName:"game:sub"}),_++,m.preInit()):y=!0}));var b=(e={provider:"",secure:!0,env:null,subContext:!1,isPreload:!1})=>{var{env:t,secure:r,isPreload:a,subContext:o}=e,{provider:d}=e;if(!1===(0,u.N0)())throw new Error("isn't isolateContext mode!");var p,_=h[d=`${d}_${o?"_sub":"main"}`];if(_)return p=_.contextGlobal.__require,!0===_.__isCompleted||!1===_.__isCompleted&&(_.dynamicExportGlobal({name:"pluginEnv",value:t}),f.isolatedContext[d]=p),p;var b,I=s.D.GAME_PLUGIN+d,S=v(d.slice(0,-5));b=y?new l.Z({name:I,secure:r,entry:[S],snapshotContextName:"game:sub"}):m;var k=e=>{if(e.__wxConfig=i,b.setExportEnv({...e,pluginEnv:t}),y)return b.init();b.setName(I),b.setEntry([S]),b.afterPreloadInit(),y=!0};return((0,u.G$)()||g.isAsync())&&!0===a?n()((function*(){return yield(0,u.QT)(n()((function*(){(0,c.z)(b),yield k(w.getIsolatedGamePluginContextEnv(e)),p=b.contextGlobal.__require,b.__isCompleted=!1,h[d]=b})),"initGamePluginContext"),p}))():((0,u.QT)((()=>{(0,c.z)(b),k(w.getIsolatedGamePluginContextEnv(e)),p=b.contextGlobal.__require,b.__isCompleted=!0,h[d]=b}),"initGamePluginContext"),f.isolatedContext[d]=p,p)},I=(e,t,r)=>{var{__name__:a}=e,i=v(t),o="game"===a?"gameContext":"gameOpenData"===a?"gameOpenDataContext":"unknown";return((0,u.G$)()||g.isAsync())&&!0===r?n()((function*(){return yield e.evaluateScriptFile(i),f[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o}}))():(e.evaluateScriptFile(i),f[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o})},S=function(){var e=n()((function*(){var e,t,r=(e=i.gamePlugins||i.plugins||{},t=[],Object.keys(e).forEach((r=>{if(e[r].contexts)e[r].contexts.forEach((a=>{t.push({...e[r],context:a,contexts:null});var n=e[r].provider;"wx20afc706a711eefc"!==n&&"wx4d5893418b75cb20"!==n||t.push({...e[r],context:a,subContext:!0,contexts:null})}));else{t.push({...e[r],context:{type:"gameContext"},contexts:null});var a=e[r].provider;"wx20afc706a711eefc"!==a&&"wx4d5893418b75cb20"!==a||t.push({...e[r],context:{type:"gameContext"},subContext:!0,contexts:null})}})),t),a=(e,t)=>e.getEntry().unshift(t);return Promise.all(r.map((e=>{var{provider:t,context:r}=e;switch(r.type){case"isolatedContext":return b({...e,isPreload:!0});case"gameContext":return a((0,d.eC)(),v(t));case"openDataContext":return a((0,p.r)(),v(t));default:throw new Error(`pluginConf error: invalid context name: ${r.type}`)}})))}));return function(){return e.apply(this,arguments)}}(),k=()=>f},896:(e,t,a)=>{a.d(t,{ZJ:()=>M,ZT:()=>D,eh:()=>x});var n=a(168),o=a(796),s=a(18),l=a(227),u=a(975),d=a.n(u),p=!1,h=!1,m=!1,y=null,_=0,I=null,S=null,k={},C={},T=[],P={},A={},E={};g.subscribe("magicBrushFrameSubContextBridge",((e={})=>{S=e.__subContextEngineBridge__})),g.subscribe("magicBrushFrameSubContextReady",((e={},t)=>{console.info("[MagicBrushFrame] magicBrushFrameSubContextReady",e);var r=e.frameSetInfo,a=w.renderMagicBrushFrameError;if(r){var n=P[r.frameId];if(!n)return a(r.frameId);var i=(0,s.M)().find((e=>e.getInnerId()===t));if("app-card"===n.bizType){var{componentName:o}=n.data,{appPath:l,cardPath:c}=n.data;if("/"!==l[l.length-1]&&(l+="/"),"/"===l[0]&&(l=l.substr(1)),"/"===c[0]&&(c=c.substr(1)),console.info("[MagicBrushFrame] inject user code",o,l,c),i.loadJsFiles([`${l}common.app.js`,`${l}appservice.app.js`,`${l}${c}.appservice.js`]),!y.getComponentSpace().getComponentByUrlWithoutDefault(o,""))return console.error("[MagicBrushFrame] inject user code error",o,l,c),a(r.frameId)}w.createMagicBrushFrameSet(r.name,r.frameId)}}));var M=e=>{var t;p||(p=!0,mb.requirePlugin("sclRectPaletteLib"),"undefined"!=typeof __wxLib__?(y=__wxLib__.codeSpace,_=(null===(t=__wxLib__.versionInfo)||void 0===t?void 0:t.glassEaselVersion)||0,console.info("[MagicBrushFrame] glassEasel version",_),w.onMessageFromMiniprogram((({message:e})=>{e=JSON.parse(e||"{}");var{type:t,data:r={}}=e;if("event"===t){var{name:a,frameId:n,args:i={}}=r,o=E[n];o&&o.emit(a,i)}}))):console.error("mb.requirePlugin('sclRectPaletteLib') error!"));var a=e.extraData.bizType;a&&("app-card"===a&&function(e){if(!h){h=!0;var t=d()(_);Object.assign(k,t),y.addCompiledTemplate("index",{content:k.index}),y.addComponentStaticConfig("index",{frame:"wx://component/frame","frame-set":"wx://component/frame-set"}),y.globalComponentEnv(globalThis,"index",(()=>{globalThis.Component({data:{frameSetList:[]},lifetimes:{created(){console.info("[MagicBrushFrame] frameSetRoot created"),I=this,T.length&&this.setData({frameSetList:T})},attached(){console.info("[MagicBrushFrame] frameSetRoot attached")}},methods:{onFrameLoad(e){if(e.currentTarget){var t,r,a=null===(t=e.currentTarget.data)||void 0===t||null===(r=t.params)||void 0===r?void 0:r.frameId;E[a]=e.detail.eventChannel}}}})}));var{appCardDef:a}=e.extraData;if(a){var{template:n,template2:i,cards:o}=a;if(!n&&!i||!o||!o.length)return;var s=null;if(_>=1&&"string"==typeof i?s=i:"string"==typeof n&&(s=n),s){var l=new r("global","require","module","exports","window","document","frames","self","location","navigator","localStorage","history","Caches","screen","alert","confirm","prompt","XMLHttpRequest","WebSocket","Reporter","webkit","WeixinJSCore",`return ${s}`).call({});l&&Object.assign(k,l)}for(var c of o){var u=c.type;u&&(C[u]={path:`${u}/index`,...c})}}}}(e),w.createMagicBrushFrameSetRoot())},x=e=>{var t=w.renderMagicBrushFrameError,{frameId:a,extraData:u}=e,d=u.bizType;if(!d)return t(a);if(console.info("[MagicBrushFrame] createMagicBrushFrameContext",a,d),"app-card"===d){var{appId:p,type:h,pageId:g,params:_,appPath:E,cardPath:M}=u,{path:x,style:D,config:R,definitionFilter:L}=C[h]||{},N=`${g}-${p}-${h}`,O=function(e){return e};if(!x||!E||!M)return t(a);y.addCompiledTemplate(N,{content:k[x]}),D&&D.url&&y.addStyleSheet(N,D.url,D.scopeName),R&&"object"==typeof R&&y.addComponentStaticConfig(N,R||{usingComponents:{}}),L&&"string"==typeof L&&(O=new r("definition","Behavior",`${L}`));var B=_||{};B.frameId=a;var j={frameId:a,name:N,path:N,properties:B};if(I){var F=I.data.frameSetList;F.push(j),I.setData({frameSetList:F})}else T.push(j);m||(v.hijack(),m=!0);var W=new n.Z({name:`${l.D.APP_CARDS}${p}`,secure:!0,entry:[],entryLibs:["WAMagicBrushSubContext.js"],env:{}});P[a]={frameSetName:j.name,subContextGuid:W.__guid__,bizType:d,data:{componentName:N,appPath:E,cardPath:M}},(0,s.z)(W),y.globalComponentEnv(globalThis,N,(()=>{if("app-card"===d){var t=globalThis.Component,r=globalThis.Behavior;globalThis.Component=function(e){return e.behaviors=e.behaviors||[],e.behaviors.unshift(r({lifetimes:{created(){A[a]=this._$;var e=this._$,t=function(){},r={},n=function(t){Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:()=>e[t],set(e){this[t]=e}})},i=function(t){r[t]=e[t].bind(e)};n("is"),n("id"),n("dataset"),n("data"),i("setData"),i("updateData"),i("replaceDataOnPath"),i("spliceArrayDataOnPath"),i("applyDataUpdates"),i("groupUpdates"),i("hasBehavior"),i("traitBehavior"),i("triggerEvent"),this.createSelectorQuery=t,this.selectComponent=t,this.selectAllComponents=t,this.selectOwnerComponent=t,this.getRelationNodes=t,this.general=t,this.asInstanceOf=t,this._$=r,this._$onCardEvent=this._$onCardEvent.bind(this)},attached(){this.onEventFromMiniprogram("_$pageShow",this._$onPageShow),this.onEventFromMiniprogram("_$pageHide",this._$onPageHide),this.onEventFromMiniprogram("_$cardEvent",this._$onCardEvent),this.sendEventToMiniprogram("attached")},detached(){this.offEventFromMiniprogram("_$pageShow",this._$onPageShow),this.offEventFromMiniprogram("_$pageHide",this._$onPageHide),this.offEventFromMiniprogram("_$cardEvent",this._$onCardEvent),this.sendEventToMiniprogram("detached")}},methods:{sendEventToMiniprogram(e,t={}){w.sendEventToMiniprogram(a,e,{frameId:a,...t})},onEventFromMiniprogram(e,t){var r=this.getOpenerEventChannel();r&&r.on(e,t)},offEventFromMiniprogram(e,t){var r=this.getOpenerEventChannel();r&&r.off(e,t)},_$onPageShow(){var e=A[a];e&&e.triggerPageLifeTime("show")},_$onPageHide(){var e=A[a];e&&e.triggerPageLifeTime("hide")},_$onTapCard(){this.sendEventToMiniprogram("tap")},_$onCardEvent(e){this._$dealWithCardEvent&&this._$dealWithCardEvent(e)}}})),t(O.call({},e,r))}}var s={console:console,setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:i,Reporter:b,wxNativeConsole:f,__subContextEngineBridge__:S||__subContextEngineBridge__,__freezeLibContextGlobal__:S?()=>{}:()=>(0,o.F)(),WeixinJSBridge:c};W.setExportEnv(s),W.init(),W.refreshExportEnv({isRefresh:!0,Component:globalThis.Component,Behavior:globalThis.Behavior,frameSetInfo:{name:j.name,frameId:e.frameId},__appServiceSDK__:{wx:w.getWx((0,n.i)(W.__guid__),a),console:Object.assign({group:()=>{},groupEnd:()=>{}},w.getConsole(a))},...s})}))}},D=e=>{var t=(0,s.M)(),r=P[e];if(r){var a=t.findIndex((e=>e.__guid__===r.subContextGuid)),n=t[a];if(n)if(n.destroy(),t.splice(a,1),delete P[e],delete A[e],delete E[e],w.removeMagicBrushFrameSet(r.frameSetName),I){for(var i=I.data.frameSetList,o=i.length-1;o>=0;o--)i[o].frameId===e&&i.splice(o,1);I.setData({frameSetList:i})}else for(var l=T.length-1;l>=0;l--)T[l].frameId===e&&T.splice(l,1)}}},975:e=>{e.exports=e=>{return e>=1?(a=function(e){return null==e?Object.create(null):e},n=function(e,t){return!0===e||(e?e[t]:void 0)},(r={}).index=((t={})[""]={}[""]=(e,t,r,i)=>{e.c,e.m;var o=e.r,s=!0===i;return{C:(t,l,c,u,d)=>{d(r.frameSetList,"name",i?i.frameSetList:void 0,["frameSetList"],((t,r,i,l,c,u,d,p)=>{p("frame-set",{},((e,t)=>{(t||s||n(l,"name"))&&o(e,"name",a(r).name)}),((t,i,c)=>{c("frame",{},((t,i)=>{(i||s||n(l,"path"))&&o(t,"path",a(r).path),(i||s||n(l,"properties"))&&o(t,"params",a(r).properties),i&&o(t,"left","0px"),i&&o(t,"top","0px"),i&&o(t,"width","100%"),i&&o(t,"height","100%"),i&&e.r(t,"bindload","onFrameLoad")}),(e=>{}))}))}))},B:{}}},function(e){return t[e]}),r):(()=>{var e=function(e){return null==e?Object.create(null):e},t=function(e,t){return!0===e||(e?e[t]:void 0)},r={};return r.index=(()=>{var r={};return r[""]={}[""]=(r,a,n,i)=>{r.c,r.y,r.m;var o=r.r,s=!0===i;return{C:(r,a,l,c)=>{c(n.frameSetList,"name",i?i.frameSetList:void 0,["frameSetList"],((r,a,n,i,l,c,u,d)=>{d("frame-set",{},(n=>{(r||s||t(i,"name"))&&o(n,"name",e(a).name)}),((n,l)=>{l("frame",{},(n=>{(r||s||t(i,"path"))&&o(n,"path",e(a).path),(r||s||t(i,"properties"))&&o(n,"params",e(a).properties),r&&o(n,"left","0px"),r&&o(n,"top","0px"),r&&o(n,"width","100%"),r&&o(n,"height","100%"),r&&o(n,"bindload","onFrameLoad")}),(()=>{}))}))}))},B:{}}},function(e){return r[e]}})(),r})();var t,r,a,n}},144:(e,t,r)=>{var a=r(18);g&&g.subscribe&&(g.subscribe("loadJsFiles",(e=>{var t=(0,a.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadJsFiles(e.paths,e.moduleName,e.options);f.warn(`[MainContext] context name with ${e.contextName} not found, loadJsFiles fail`)})),g.subscribe("loadLibFiles",(e=>{var t=(0,a.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadLibFiles(e.paths);f.warn(`[MainContext] context name with ${e.contextName} not found, loadLibFiles fail`)})))},410:(e,t,r)=>{r.d(t,{Bs:()=>a,YF:()=>o});var a=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e.replace(/"/g,'\\"').replace(/'/g,'"').replace(/\n/g,"\\n"))}catch(t){return{message:e,stack:""}}},n=!1,i=[],o=e=>{i.push(e),n||(n=!0,Promise.resolve().then((()=>{for(var e=0;e<i.length;++e)if("function"==typeof i[e])try{i[e]()}catch(e){throw f.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),console.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),e}n=!1,i.length=0})))}},888:e=>{e.exports=n.asyncToGenerator}},s={};function u(t){var r=s[t];if(void 0!==r)return r.exports;var a=s[t]={exports:{}};return e[t](a,a.exports,u),a.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var d={};(()=>{u.r(d),u.d(d,{createAppRenderContext:()=>C,createAppSclContext:()=>P,createAppXRFrameRenderContext:()=>E,createGameOpenDataContext:()=>L,createIsolatedGamePlugin:()=>p.dr,createMagicBrushFrameContext:()=>h.eh,getAppContext:()=>r.F,getGameContext:()=>l.eC,getGameOpenDataContext:()=>c.r,getGamePlugins:()=>p.hS,getPool:()=>y.M,initAppRelatedContexts:()=>k,initFunctionalPage:()=>x,initGameJS:()=>D,initGameRelatedContexts:()=>M,initMagicBrushFrameContext:()=>h.ZJ,injectGamePlugin:()=>p.qo,isIsolateContext:()=>m.N0,isValidGameIndependentSubpackagePath:()=>m.Qj,loadJsFiles:()=>N,onSubContextMessage:()=>j,postMessageToSubContext:()=>O,postMessageToSubContextSync:()=>B,publishToRenderContext:()=>a.Tq,publishToSclContext:()=>s.Nz,removeMagicBrushFrameContext:()=>h.ZT,waitAppRenderContextInit:()=>T,waitAppSclContextInit:()=>A});var e=u(888),t=u.n(e),r=(u(752),u(642)),a=u(612),n=u(740),s=u(801),l=u(561),c=u(681),p=u(29),h=u(896),m=u(796),y=u(18),_=(u(144),u(550),u(227)),I=Object.keys,S=new o.EventEmitter,k=function(e){(0,m.N0)();for(var t=I(e),a=0;a<t.length;a++){var n=t[a];m.xJ[n]=e[n]}(0,m.N0)()&&(0,m.QT)((()=>{v.hijack(!0,null),(0,y.z)((0,r.F)());var e=(0,r.E)();1===i.envPreloadType&&(e instanceof Promise?e.then((e=>{w.loadPreloadSdkSubPackage(),f.info("load subpackage finish")})):(w.loadPreloadSdkSubPackage(),f.info("load subpackage finish")))}),"initAppIsolatedContext"),i.onReady((()=>{!(0,m.N0)()&&i.plugins&&(v.overwriteSetPrototypeOf(),v.deepFreezeGlobalObjs([],!1))}))},C=function(){var e;(0,m.N0)(),(0,m.QT)((()=>{e=(0,a.DW)(),(0,y.z)(e),e.onMessage((e=>{S.emit("subContextMessage",e)})),(0,m.F)()}),"createAppRenderContext")},T=function(){var e=t()((function*(){var e,t=(0,y.M)().find((e=>e.__name__===_.m.APP_RENDER));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("render context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),P=function(){var e;(0,m.N0)(),(0,m.QT)((()=>{e=(0,s.dx)(),(0,y.z)(e),e.onMessage((e=>{S.emit("subContextMessage",e)})),(0,m.F)()}),"createAppSclContext")},A=function(){var e=t()((function*(){var e,t=(0,y.M)().find((e=>e.__name__===_.m.APP_SCL));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("scl context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),E=function(e){(0,m.QT)((()=>{var t=(0,n.$)(e);(0,y.z)(t),t.onMessage((e=>{S.emit("subContextMessage",e)}))}),"createAppXRFrameRenderContext")},M=()=>{var e,t;if(1===i.envPreloadType){var r=w.getGameRelatedContextsExportsWx();e=r.game,t=r.gameSkipCondom}function a(){var e=w.getGameRelatedContextsExports(),t=e.game.FunctionalPage,r=i.appLaunchInfo;if(t.parseCompletePath(r.path).isFunctionalPage&&t.VALID_SCENE.includes(r.scene))x(e);else if((0,m.c6)(r.scene)){var a=(0,m.Qj)(r.path,i.subPackages);if(a){var n;if("playable"===(null==a||null===(n=a.meta)||void 0===n?void 0:n.type)&&(w.runPlayableGameJS(a.root,a.meta),(0,m.Dt)()||(0,m.gn)()))return;var o=(0,l.eC)(),s=a.root;s.endsWith(".js")||(s.endsWith("/")||(s=`${s}/`),s=`${s}game.js`),o.setEntry([s]),console.log("exportEnvs ==",e),R(e,(e=>{e&&(console.error("run game independent subpackage fail",e),f.error("run game independent subpackage fail",e),o.evaluateScriptFile("game.js"),b.reportIDKey({key:"loadGameIndependentSubPackageFail"}))}))}else{if((0,m.c2)({query:r.query,appType:i.appType})&&(0,m.G$)()&&(w.runPlayableGameJSNew({playableOutid:r.query.playable_outid}),(0,m.Dt)()||(0,m.gn)()))return;R(e)}}else R(e)}1===i.envPreloadType&&(w.loadPreloadSdkSubPackage(),f.info("load subpackage finish")),(0,l.xC)(e,t),i.onReady((()=>{((0,m.G$)()||g.isAsync())&&(0,m.N0)()?(0,p.K0)().then((()=>(a(),null))):a()}))};function x(e){(e=e||w.getGameRelatedContextsExports()).game.FunctionalPage.initFunctionalPage()}function D(e){e=e||w.getGameRelatedContextsExports(),(0,y.M)().length>0||R(e)}function R(e,t){e=e||w.getGameRelatedContextsExports(),(0,m.N0)()&&(0,m.QT)((()=>{l.N7.onCondomBridgeFinshed(m.F),(0,y.z)((0,l.eC)());var r=(0,l.M)(e.game);r&&r.catch&&r.catch((e=>{"function"==typeof t&&t(e)}))}),"initGameIsolatedContext")}function L(e){e=e||w.getGameRelatedContextsExports(),(0,m.QT)((()=>{(0,y.z)((0,c.r)());var t=(0,c.J)(e.gameOpenData);t&&t.catch&&t.catch((e=>{}))}),"initGameOpenDataContext")}var N=()=>{},O=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,n.k)().postMessageAsync(e):"string"==typeof t&&4294967298===t?(0,s.Pc)().postMessageAsync(e):(0,a.vh)().postMessageAsync(e)},B=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,n.k)().postMessage(e):4294967298===t?(0,s.Pc)().postMessage(e):(0,a.vh)().postMessage(e)},j=e=>{S.on("subContextMessage",e)}})(),y=d})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callMiniProgramOrPluginFunction:()=>p,callSystemFunction:()=>u,callThirdPartyFunction:()=>h,convertStack:()=>n,endSystemFunctionCall:()=>c,findCurrentSource:()=>s,startSystemFunctionCall:()=>l,surroundThirdByTryCatch:()=>v,wrapMiniProgramOrPluginFunction:()=>f,wrapSystemFunction:()=>d,wrapThirdPartyFunction:()=>g,wrapperStack:()=>a});var r=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,a=[];function n(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,n=a.length-1,o=0;o>=0&&n>=0;){var s=r.length,l=0;for(var c in i)if(i[c]){var u=r.indexOf(i[c],o);u<0||s<=u||(s=u,l=i[c].length)}if(s>=r.length)break;var d=`at <${a[n--].description}>`;r=r.slice(0,s)+d+r.slice(s+l),o=s+d.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var i={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function o(e){var t=((new Error).stack||"").match(/.+/gm),a="",n=0;t&&t.forEach((e=>{if(r.test(e)&&2===(n+=1)){var t=e.match(/^(\s*)at /),i=t?t[1].length:0;return a=e.slice(i),!1}return!0})),i[e]=a}function s(){for(var e="",t=a.length-1;t>=0;t--)a[t].pluginAppId&&(e=a[t].pluginAppId);return e}var l=e=>{null===i.wrapSystemFunction&&(i.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),a.push({description:e})},c=()=>{a.pop()};function u(e,t,r,l,c,u=!1){var p;null===i.wrapSystemFunction&&(i.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),a.push({description:t});try{p=r.apply(l,c)}catch(t){if(n(t)){if("AppServiceSdkKnownError"===t.type)throw a.pop(),t;if("ThirdScriptError"===t.type){var h=s();b.thirdErrorReport({error:t,source:h,triggerErrorCallback:!u})}else b.errorReport({key:e,error:t,triggerErrorCallback:!u})}if(u)throw a.pop(),t}return a.pop(),p}function d(e,t,r,a=!1){return function(...n){return u(e,t,r,this,n,a)}}function p(e,t,r,s,l,c=!1){var u;null===i.wrapMiniProgramOrPluginFunction&&(i.wrapMiniProgramOrPluginFunction="",f("","",o)("wrapMiniProgramOrPluginFunction")),a.push({description:t,pluginAppId:e});try{u=r.apply(s,l)}catch(t){if(n(t)&&b.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!c}),c)throw a.pop(),t}return a.pop(),u}function h(e,t,r,a,n=!1){return p(s(),e,t,r,a,n)}function f(e,t,r,a=!1){return function(...n){return p(e,t,r,this,n,a)}}function g(e,t,r=!1){return function(...a){return p(s(),e,t,this,a,r)}}function v(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),a=r?r[1]:"",n=e||function(){};return function(...e){return p(s(),a,n,n,e,!1)}}_=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{e.d(r,{default:()=>de});var n={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3,APP_SUBCONTEXT:4},s={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,AccelerateNetwork:30769,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,MiniprogramInnerComponentUse:30314,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,PrivacyPopup:29666,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,BLEDevices:29065,BLEMeshDevices:29512,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,MiniprogramLiveActivityButtonDoEvilCheck:28893,MiniprogramWebviewExportUrl:30247,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,getPhoneNumberReport:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458,Wxobs:28554,IntersectionObserverUsage:28808,MiniProgramWebviewSlowFrame:29061,MiniProgramCommercialMap:29170,AiadAnalyse:29503,VirtualPayment:30164,WeAppXNetInvoke:29870,ProductRecommand:30343,AIADPreview:31127,AiAdError:31167,Authorize:31228,ExitDramaEdu:31431,SystemComponentLazyLoad:29852,InnerDiskStatInfo:31439,operateWXDataProfile:31695,ClientCallbackProfile:32334,WxappBackInterception:32260,UserAction:32193,UserConfig:32198,WebVitalsINP:32217,WebVitalsStutter:32366,OpenOfficialAccountArticle:32359,MiniProgramJumpWxstore:32916,AIADLoad:33015,AIADVision:33042,UpdateManager:33259,Translate:33441},l={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},u={apiCallback:1,pageInvoke:2,widgetInvoke:3,appInvoke:4},d={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14,appSubContextThirdScriptError:15,appSubContextSDKScriptError:16},p={[n.APP]:"thirdScriptError",[n.APP_SUBCONTEXT]:"appSubContextThirdScriptError",[n.WIDGET]:"widgetThirdScriptError",[n.GAME]:"gameThirdScriptError",[n.GAME_SUBCONTEXT]:"gameSubContextThirdScriptError"};var h={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},f=0;function g(){var e=0;return{get(){if(e>0)return e;if(0===f)throw Error("initTime not ready");return e=f},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==o?o.onLoad((()=>{h.offset=Date.now(),f=Date.now()})):(h.offset=Date.now(),f=Date.now());class v{constructor(e,t,r,a){this.BATCH_KEYVALUE_INTERVAL=e,this.REPORT_DECREASE_RATE=t,this.PERIOD_TIME=a,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.periodStartTime=g(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this.currentMiniPeriodReportCount=0,this.currentPeriodReportQueue=[],this._currentMiniPeriodFlag=1,this._lastReportTime=g(),this._periods=parseInt(this.PERIOD_TIME/this.BATCH_KEYVALUE_INTERVAL,10)}get _currentMiniPeriod(){var e=this._evaluateCurrentMiniPeriodBatch();return this._currentMiniPeriodFlag!==e?(this._currentMiniPeriodFlag=e,this.currentPeriodSurplusReportCount-=this.currentMiniPeriodReportCount,this.currentMiniPeriodReportCount=0,this._currentMiniPeriod):e}_evaluateCurrentMiniPeriodBatch(){for(var e=this.periodStartTime.since(),t=1;t<=this._periods;t++)if(e<this.BATCH_KEYVALUE_INTERVAL*t)return t;return this._periods}get _currentMiniPeriodMaxReportCount(){return this.periodStartTime.since()>this.PERIOD_TIME?(this.periodStartTime.reset(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this._currentMiniPeriodMaxReportCount):this._currentMiniPeriod===this._periods?this.currentPeriodSurplusReportCount:parseInt(this.currentPeriodSurplusReportCount*this.REPORT_DECREASE_RATE,10)}pushReportQueue(e,t=!1){this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount?t&&(this.currentPeriodReportQueue.unshift(e),this.currentPeriodReportQueue.pop()):(this.currentPeriodReportQueue.push(e),this.currentMiniPeriodReportCount++)}attemptReportAndGetReportMsgs(e=!1){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){if(!this.currentPeriodReportQueue.length)return[];var r=this.currentPeriodReportQueue.splice(0,this.currentPeriodReportQueue.length);return this._lastReportTime.set(t),r}return[]}isLimit(){return this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount}}class m{constructor(e,t,r,a){this.BATCH_KEYVALUE_INTERVAL=t,this.PERIOD_TIME=a,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.keyStr=e,this._lastReportTime=g(),this._periodStartTime=g(),this._periodReportCountMP={},this.cacheMP={}}pushReportQueue(e,t=!1){var r=e[this.keyStr];this.cacheMP[r]||(this.cacheMP[r]=[]),this._periodReportCountMP[r]||(this._periodReportCountMP[r]=0),this._periodReportCountMP[r]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE?t&&(this.cacheMP[r].unshift(e),this.cacheMP[r].pop()):(this._periodReportCountMP[r]++,this.cacheMP[r].push(e))}isLimit(e){return this._periodReportCountMP[e]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE}attemptReportAndGetReportMsgs(e){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){var r=Array.prototype.concat.call([],...Object.values(this.cacheMP));return Object.keys(this.cacheMP).forEach((e=>{this.cacheMP[e].length=0})),this._lastReportTime.set(t),t-this._periodStartTime.get()>this.PERIOD_TIME&&(this._periodStartTime.set(t),this._periodReportCountMP={},this.cacheMP={}),r}return[]}}class y{constructor(e,t,r,a){this.reportTime=g(),this.continueDecreaseReportLimitStrategys={},this.reportLimitStrategy=new m(e,t,r,a),this.BATCH_KEYVALUE_INTERVAL=t,this.keyStr=e}shouldReport(){return this.reportTime.since()>=this.BATCH_KEYVALUE_INTERVAL}setContinueDecreaseReportLimitStrategyKey(e,t,r,a,n){this.continueDecreaseReportLimitStrategys[e]=new v(t,r,a,n)}pushReportQueue(e,t){var r=e[this.keyStr];r in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[r].pushReportQueue(e,t):this.reportLimitStrategy.pushReportQueue(e,t)}attemptReportAndGetReportMsgs(e){if(e||this.shouldReport()){var t=this.reportLimitStrategy.attemptReportAndGetReportMsgs(e),r=Object.values(this.continueDecreaseReportLimitStrategys).reduce(((e,t)=>(e.push(...t.attemptReportAndGetReportMsgs()),e)),[]);return this.reportTime.reset(),t.concat(r)}return[]}isLimit(e){return e in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[e].isLimit():this.reportLimitStrategy.isLimit(e)}}var b=()=>{I!==i&&void 0!==I&&Object.assign(I,i)},I=(()=>(i.onReady(b),i))();const S=I;var k=(()=>S.platform)(),C=(()=>"devtools"===k)(),T=(()=>"ios"===k)();function P(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),a=t.split("."),n=Math.max(r.length,a.length);r.length<n;)r.push("0");for(;a.length<n;)a.push("0");for(var i=0;i<n;i++){var o=parseInt(r[i],10),s=parseInt(a[i],10);if(o>s)return 1;if(o<s)return-1}return 0}var A=(()=>Object.prototype.toString)(),E=a.prototype.call.bind(A);function M(e){return E(e).slice(8,-1)}var x=6e4,D=15e3;function R(...e){c.invoke(...e)}var L={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,appSubContextThirdScriptError:191,appSubContextSDKScriptError:192,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,writeBLECharacteristicValue_fail:206,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,insertMapToWebLayer_fail:171,insertMapToWebLayer_succ:172,insertLiveToWebLayer_fail:178,insertLiveToWebLayer_succ:179,insertCanvas2dToWebLayer_fail:180,insertCanvas2dToWebLayer_succ:181,insertWebGLToWebLayer_fail:187,insertWebGLToWebLayer_succ:186,insertVideo2ToWebLayer_fail:182,insertVideo2ToWebLayer_succ:183,insertCameraToWebLayer_fail:184,insertCameraToWebLayer_succ:185,insertTextareaToWebLayer_fail:189,insertTextareaToWebLayer_succ:188,showImageOperateSheet_fail:190,audioInstancesCountReach1024:170,bindUDP:173,sendUDPMessage:174,receiveUDPMessage:175,UDPError:176,sendUDPMessageToInvalidAddress:177,clientLibVersionNotMatch:205,subContextLibVersionNotMatch:207,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203,webviewBizDomainFetch_fail:208,webviewBizDomainSkipReturn:209,demoEnterHomePage:210,demoConfigRepeat:211,getUserInteractiveStorage:212,modifyFriendInteractiveStorage:213,modifyFriendInteractiveStorageShowModal:214,modifyFriendInteractiveStorageConfirm:215,modifyFriendInteractiveStorageCancel:216,disableLivePlayer:220,disableLivePusher:221,disableVideo:222,asyncApiCost:226,asyncApiCount:227,requestSubscribeMessageWithNative:230,requestSubscribeMessageWithNativeSuccess:231,requestSubscribeMessageWithNativeFail:232,pageNotFound:234,tradeServiceGetPermissionBytesSuccess:235,tradeServiceGetPermissionBytesFail:236,tradeServiceCanUse:237,tradeServiceCanNotUse:238,tradeServiceTapCard:239,midasLaunchFeatureFail:240,createNormalWorker:241,createWKWorker:242,onWorkerWebViewTerminate:244,loadGameIndependentSubPackageFail:243,requestPaymentCheckTicketCount:245,requestPaymentCheckTicketFail:246,requestPaymentCheckTicketTimeout:247,useLaunchExptInfo:249,useOriginLaunchExptInfo:250,useContactExptInfo:251,reportEventInvoke:252,readdirTraverseRootDir:253,useWxProtobuf:254,useWxLanDebug:255},N={call:80,call_success:81,call_fail:82,insert_with_cache:83,insert_without_cache:84,try_insert_general_ad:118,try_insert_general_ad_success:119};Array(25).fill(0).forEach(((e,t)=>{N[`polyfill_${t+1}`]=t}));var O=new y("id",D,100,x);function B(e){S.onReady((()=>{R("reportIDKey",{dataArray:e,noCallback:!0})}))}function j(e,t,r,a=!1){if(Number.isInteger(e)&&!(!Number.isInteger(t)||t<0||t>255)){O.pushReportQueue({id:e,key:t,value:r});var n=O.attemptReportAndGetReportMsgs(a);n.length&&B(n)}}function F(){var e=O.attemptReportAndGetReportMsgs(!0);e.length&&B(e)}var W=[],U=0,G=0,V=0,$={},q={},z={},H=new y("key",D,100,x);function K(e){S.onReady((()=>{R("reportKeyValue",{dataArray:e,noCallback:!0})}))}function J(){S.onReady((()=>{!W||W.length<=0||(R("systemLog",{dataArray:W,noCallback:!0}),W=[])}))}function Q(e){var t=S&&S.appContactInfo&&S.appContactInfo.call_plugin_info;if(!t||!Array.isArray(t))return 0;var r=t.find((t=>t.plugin_id===e));return r&&void 0!==r.inner_version?r.inner_version:0}H.setContinueDecreaseReportLimitStrategyKey(18042,D,.5,100,x);var Y=()=>{},Z=()=>{},X=()=>{},ee=()=>{},te="",re={},ae=-1,ne=0,ie=n.APP,oe="",se=0;"function"==typeof S.onReady&&S.onReady((()=>{void 0!==S.appType&&(ae=S.appType),"object"==typeof S.appLaunchInfo&&(ne=S.appLaunchInfo.scene);var e=S.networkType;e?oe=e:c.invoke("getNetworkType",{},(e=>{e&&e.networkType&&(oe=e.networkType)})),T&&void 0!==S.version&&P(S.version,"8.0.51")>=0&&(se=1),"function"==typeof c.addEventListener&&(c.addEventListener("onNetworkStatusChange",(e=>{oe=e.networkType})),se>=1&&c.addEventListener("onGameRenderFirstScreen",(()=>{se=2})))}));var le={surroundThirdByTryCatch:_.surroundThirdByTryCatch,slowReport:({key:e,cost:t,extend:r,force:a})=>{var n=u[e],i=Date.now();if(n&&(a||!(i-V<500))&&!(Object.keys(z).length>50||(z[r]||(z[r]=0),z[r]++,z[r]>3))){V=i;var o=`${t},${encodeURIComponent(r)},${n},${le.getAppType()}`;le.reportKeyValue({key:"Slow",value:o})}},isLimitReport:e=>H.isLimit(e),speedReport:({key:e,data:t,timeMark:r,force:a})=>{var n=l[e],i=Date.now(),o=0,s=r.nativeTime;if(n&&(a||!(i-($[n]||0)<500))&&r.startTime&&r.endTime&&(1!==n&&2!==n||s)){t&&(o=JSON.stringify(t).length),$[n]=i;var c=`${n},${r.startTime},${s},${s},${r.endTime},${o},${le.getAppType()}`;le.reportKeyValue({key:"Speed",value:c})}},reportQualityData(e,t,r,a=[]){var n=r-t;n<0&&(n=0),R("reportKeyValue",{version:2,dataArray:[{key:s[e],value:[n,ne,t,r,...a].join(",")}],noCallback:!0})},reportQualityData2(e,t=[]){R("reportKeyValue",{version:2,dataArray:[{key:s[e],value:t.join(",")}],noCallback:!0})},flushReportKeyValueList:()=>{var e=H.attemptReportAndGetReportMsgs(!0);e.length&&K(e)},reportKeyValue:({key:e,value:t,immediately:r=!1,number:a=!1})=>{if(a||s[e]){H.pushReportQueue({key:a?e:s[e],value:t},r);var n=H.attemptReportAndGetReportMsgs(r);n.length&&K(n)}},flushReportIDKeyList:F,reportIDKey:function({id:e,key:t,value:r=1,force:a=!1,type:n}){var i;if("aiad"===n){if(!N[t])return;i=N[t]}else{if(!L[t])return;i=L[t]}e||"aiad"===n&&(e=2059),j(e||(T?356:358),i,r,a)},reportIDKeyDirectly:function({id:e,key:t,immediately:r=!1}){void 0!==t&&356!==e&&358!==e&&j(e,t=+t,1,r)},assertWithIDKey:function(e,t,r=1){e||j(1872,t,r,!0)},reportFrameworkIDKey:function(e,t=1){j(1874,e,t)},thirdErrorReport:({key:e=ie,error:t,triggerErrorCallback:r=!0,isUnhandledRejection:a=!1,promise:n,source:i="",isOpenDataContextError:o=!1})=>{le.errorReport({key:p[e],error:t,triggerErrorCallback:r,isThirdScriptError:!0,isUnhandledRejection:a,promise:n,source:i,isOpenDataContextError:o})},errorReport:({key:e,error:r,isThirdScriptError:a=!1,triggerErrorCallback:i=!0,isUnhandledRejection:o=!1,promise:s,source:l="",isOpenDataContextError:u=!1,extra:p=""})=>{if(d[e]&&r){var h,f;"function"==typeof __wxSourceMapRetrace__&&(r=__wxSourceMapRetrace__(r)),"object"==typeof r&&(r.message||r.stack)?(h=r.message,f=r.stack):(h=function(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}(r),f=M(r));var g=a?"MiniProgramError":`SystemError (${e})`,v=h,m="";r.name&&0!==(f||"").indexOf(r.name)&&(m="\n"+r.name+": "+v);var y=`${g}\n${v}${m}\n${f}`;if(C){var _=new Error(`${g}\n${v}`);"object"==typeof r&&void 0!==r.name&&Object.defineProperty(_,"name",{value:r.name}),"object"==typeof r&&void 0!==r.stack&&Object.defineProperty(_,"stack",{value:r.stack}),console.error(_)}else o?console.error("(in promise) "+y):console.error(y);if(!(u||y.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(...e){c.publish(...e)}("WEBVIEW_ERROR_MSG",{data:{msg:y},options:{timestamp:Date.now()}}):i&&(le.triggerErrorMessage(y,o,r,s),a&&le.triggerThirdErrorMessage(y,o,r,s)),Object.keys(q).length>50||o&&"Error"!==M(r)))){var b="",I="";ie!==n.APP&&ie!==n.GAME||(b=te,I=function(e){var t="";return Object.keys(e).forEach(((r,a)=>{0!==a&&(t+="&");try{t+=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}catch(e){}})),t}(re));var S=0;if(1004===le.getAppType()&&a)try{oe=w.getGameRelatedContextsExports().game._getCurrentNetworkType();var k=r.stackInfoArr;if(delete r.stackInfoArr,k){var T=k.find((e=>"usr"===e.type));if(T&&"__plugin__"===T.package&&"string"==typeof T.file){var P=T.file.split("/");S=Q(l=P&&P[0])}}}catch(_){}else S=l.match(/wx[0-9a-f]{16}/)?Q(l):0;var A=[d[e],r.name,...[v,f,void 0!==t&&t.version||"",le.getAppType(),b,I,void 0!==t&&t.updateTime||"","",o?1:0,l,S,oe,p,se].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t}))].join(",");if(q[A]||(q[A]=0),q[A]++,!(a&&q[A]>3||q[A]>3)){le.reportIDKey({key:e}),le.reportKeyValue({key:"Error",value:A});var E=H.attemptReportAndGetReportMsgs(!0);E.length&&K(E),F(),J()}}}},log:(e,t)=>{e&&"string"==typeof e&&(!t&&Date.now()-U<50||(U=Date.now(),W.push(e+""),W.length>=50&&J()))},submit:()=>{Date.now()-G<50||(G=Date.now(),F(),K(H.attemptReportAndGetReportMsgs(!0)),J())},registerErrorListener:e=>{"function"==typeof e&&(Y=e)},registerThirdErrorListener:e=>{"function"==typeof e&&(Z=e)},registerUnhandledRejectionListener:e=>{"function"==typeof e&&(X=e)},registerThirdUnhandledRejectionListener:e=>{"function"==typeof e&&(ee=e)},triggerErrorMessage:(e,t=!1,r,a)=>{setTimeout((()=>{try{t?X(r,a):Y(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},triggerThirdErrorMessage:(e,t=!1,r,a)=>{setTimeout((()=>{try{t?ee(r,a):Z(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},setAsWidget:()=>{ie=n.WIDGET},setAsGame:()=>{ie=n.GAME},setAsGameSubContext:()=>{ie=n.GAME_SUBCONTEXT},getAppType:()=>-1===ae?0:ae+1e3},ce={};function ue(e){Object.defineProperty(ce,e,{get(){return t=le[e],function(...e){try{return t.apply(t,e)}catch(e){return void console.error("reporter error:"+e.message,e.stack)}};var t},configurable:!0,enumerable:!0})}Object.keys(le).forEach((e=>{ue(e)})),Object.defineProperty(ce,"__route__",{set(e){te=e}}),Object.defineProperty(ce,"__method__",{set(){}}),Object.defineProperty(ce,"__query__",{set(e){re=e}}),ce.RunType=n,"undefined"!=typeof window&&Object.defineProperty(window,"onbeforeunload",{configurable:!0,enumerable:!0,writable:!0,value(){le.submit()}});const de=ce})(),b=r.default})(),(()=>{var e={7061:(e,t,r)=>{"use strict";var a,n;r.d(t,{C2:()=>n,Mi:()=>l,QD:()=>a,XN:()=>c,ZP:()=>o}),function(e){e.STRING="STRING",e.LONGLONG="LONGLONG",e.UINT="UINT",e.INT="INT"}(a||(a={})),function(e){e.SvrReport="SvrReport",e.KvStat="KvStat"}(n||(n={}));var i={[a.STRING]:e=>"string"==typeof e&&e.length<=1024,[a.LONGLONG]:e=>"number"==typeof e&&Math.floor(e)===e,[a.UINT]:e=>"number"==typeof e&&Math.floor(e)===e&&e>=0,[a.INT]:e=>"number"==typeof e&&Math.floor(e)===e};class o{constructor({logid:e,schemas:t={},base:r,debug:a=!1,namespace:n="",skipValidateInProdEnv:i=!0}){this.debug=!1,this.base={},this.namespace="",this.skipValidateInProdEnv=!0,this.asyncGetBase=()=>Promise.resolve({}),this.logid=e,this.schemas=t,r&&this.setBase(r),this.debug=a,this.skipValidateInProdEnv=i,this.namespace=n?` ${n} `:" "}setBase(e){this.validate(e),this.base=Object.assign(Object.assign({},this.base),e)}validate(e){if((this.debug||!this.skipValidateInProdEnv)&&Object.keys(this.schemas).length)for(var[t,r]of Object.entries(e))if(void 0!==r){var a=this.schemas[t];a?this.validateColumn(a,r)||console.error(`[minigamefe${this.namespace}SchemaValidator]: logid ${this.logid}: ${t} should be ${a}, but now ${r}`):console.warn(`[minigamefe${this.namespace}SchemaValidator]: logid${this.logid}: ${t} 缺少类型定义`)}}validateColumn(e,t){return i[e](t)}}var s="";function l(e,t,r){s?e&&e(s):(t({success:t=>{s=t.networkType,e&&e(s)}}),r((t=>{s=t.networkType,t.isConnected||(s="none"),e&&e(s)})))}var c={wifi:"0",unknown:"1",none:"1","2g":"2","3g":"3","4g":"4","5g":"5"}},3718:(e,t,r)=>{"use strict";function a(e=20,t){for(var r=(t?"":"!#%()*+,-./:;=?@[]^_`{|}~")+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=r.length,n=[],i=0;i<e;i++)n[i]=r.charAt(Math.random()*a);return n.join("")}function n(e="0.0.0",t){if("string"!=typeof e||"string"!=typeof t)return"string"!=typeof e&&"string"!=typeof t?0:"string"!=typeof e?1:-1;for(var r=e.split("."),a=t.split("."),n=Math.max(r.length,a.length);r.length<n;)r.push("0");for(;a.length<n;)a.push("0");for(var i=0;i<n;i++){var o=parseInt(r[i],10),s=parseInt(a[i],10);if(o>s)return 1;if(o<s)return-1}return 0}function i(e){return"number"==typeof e&&isFinite(e)}function o(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){var t=e;try{"object"==typeof e&&(t="string"==typeof e.errMsg?e.errMsg:"string"==typeof e.errmsg?e.errmsg:"string"==typeof e.message?e.message:JSON.stringify(e))}catch(e){console.error(e)}return t}function c(e,t,r){if(!r)return e;var a=e,n=new RegExp(`([?&])${t}=.*?(&|$)`,"i");if(a.match(n))return a.replace(n,`$1${t}=${r}$2`);var i=-1!==a.indexOf("?")?"&":"?",o=a.split("#");return a=`${o[0]+i+t}=${r}`,o[1]&&(a+=`#${o[1]}`),a}function u(e,t){var r=0;requestAnimationFrame((function a(n){r||(r=n),n-r<t?requestAnimationFrame(a):e()}))}r.d(t,{Kn:()=>s,bV:()=>l,gw:()=>u,hQ:()=>a,hj:()=>i,vr:()=>c,xb:()=>o,yC:()=>n})},872:(e,t,r)=>{"use strict";var a,n,i,o,s;r.d(t,{dg:()=>o,hc:()=>n,t4:()=>a,vm:()=>s}),function(e){e.devtools="devtools",e.android="android",e.ios="ios",e.windows="windows",e.mac="mac"}(a||(a={})),function(e){e.portrait="portrait",e.landscape="landscape",e.landscapeLeft="landscapeLeft",e.landscapeRight="landscapeRight"}(n||(n={})),function(e){e.DEVELOP="develop",e.TRIAL="trial",e.RELEASE="release"}(i||(i={})),function(e){e[e.release=1]="release",e[e.develop=2]="develop",e[e.trial=3]="trial"}(o||(o={})),function(e){e[e.Android=0]="Android",e[e.IOSJscore=1]="IOSJscore",e[e.IOSWK=2]="IOSWK",e[e.UnKnow=3]="UnKnow",e[e.PC=4]="PC",e[e.Devtools=5]="Devtools",e[e.IPadJscore=6]="IPadJscore",e[e.IPadWK=7]="IPadWK",e[e.IOSWKPlus=8]="IOSWKPlus",e[e.IPadWKPlus=9]="IPadWKPlus"}(s||(s={}))},2464:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(7061),n={19283:"GameComponent",19335:"GameWhatsNew",20285:"MidasFriendPayment",21494:"WXGameWASMLaunchClose",21493:"WXGameWASMLaunchException",21492:"WXGameWASMLaunchTime",21898:"GameLifeMiniGameCardAction",20267:"GameAdsSkipCard"};class i extends a.ZP{constructor({reportFunc:e,logid:t,protocolParams:r,schemas:a,base:i,asyncGetBase:o=(()=>Promise.resolve({})),debug:s,namespace:l="",skipValidateInProdEnv:c=!0}){var u=t;"number"==typeof t&&n[t]&&(u=n[t],s&&console.warn(`[minigamefe${l?` ${l} `:" "}KeyValueReporter]: logid ${t} auto map to ${u}!`)),super({logid:u,schemas:a,base:i,debug:s,namespace:l,skipValidateInProdEnv:c}),this.asyncGetBase=o,e||console.error(`[minigamefe${this.namespace}KeyValueReporter]: 未传入上报函数。`),this.reportFunc=e||function(){},this.protocolParams=r,this.sendCbk=null}setAppInfoBase(e){Object.assign(this.schemas,{AppId:a.QD.STRING,AppVersion:a.QD.UINT,AppState:a.QD.UINT}),this.protocolParams.unshift("AppId","AppVersion","AppState"),this.setBase(e)}send(e,t){var r;r=Array.isArray(e)?e:[e],this.asyncGetBase().then((e=>{this.setBase(e),r.forEach((e=>{var r=Object.assign(Object.assign({},this.base),e);this.validate(r);var a=[];this.protocolParams.forEach((e=>{var t=void 0!==r[e]?r[e]:"";a.push(t)})),this.reportFunc({key:this.logid,value:a.map(encodeURIComponent).join(","),immediately:!0});var n=t||this.sendCbk;(n&&n(this.logid,a.map(encodeURIComponent).join(",")),this.debug)&&(r.IsError?console.error:console.log)(`[minigamefe${this.namespace}keyValueReport]: ${this.logid}`,r)}))}))}}},7274:(e,t,r)=>{"use strict";r.d(t,{EM:()=>l,Xu:()=>a,jJ:()=>i,ql:()=>o});var a,n,i,o,s=r(3718);!function(e){e[e.Front=1]="Front",e[e.Background=2]="Background"}(a||(a={})),function(e){e[e.Default=0]="Default",e[e.GameTransfer=1]="GameTransfer",e[e.Request=2]="Request",e[e.DownloadFile=3]="DownloadFile",e[e.CgiSpeedMeasure=4]="CgiSpeedMeasure",e[e.BadJs=5]="BadJs",e[e.Init=6]="Init",e[e.CostTime=7]="CostTime",e[e.Error=8]="Error",e[e.UploadFile=9]="UploadFile",e[e.Login=10]="Login",e[e.WebTransfer=11]="WebTransfer"}(n||(n={})),function(e){e[e.Info=101]="Info",e[e.Warn=102]="Warn",e[e.Error=103]="Error"}(i||(i={})),function(e){e.GameTransferReport="GameTransferReport",e.KeyValueReport="KeyValueReport",e.WxRequestReport="WxRequestReport"}(o||(o={}));var l=Object.values(n).filter((e=>(0,s.hj)(e)))},670:(e,t,r)=>{"use strict";r.d(t,{$:()=>n,R:()=>o});var a=r(872);function n(e){var t,n,i,o,s,l=null===(t=e.platform)||void 0===t?void 0:t.toLocaleLowerCase();return l===a.t4.devtools?a.vm.Devtools:l===a.t4.ios?e.model&&e.model.indexOf("iPad")>-1?(null===(n=r.g)||void 0===n?void 0:n.isIOSHighPerformanceModePlus)?a.vm.IPadWKPlus:(null===(i=r.g)||void 0===i?void 0:i.isIOSHighPerformanceMode)?a.vm.IPadWK:a.vm.IPadJscore:(null===(o=r.g)||void 0===o?void 0:o.isIOSHighPerformanceModePlus)?a.vm.IOSWKPlus:(null===(s=r.g)||void 0===s?void 0:s.isIOSHighPerformanceMode)?a.vm.IOSWK:a.vm.IOSJscore:l===a.t4.android?a.vm.Android:l===a.t4.windows||l===a.t4.mac?a.vm.PC:a.vm.UnKnow}var i=null;function o(e=!1,t){if(e&&i)return i;var{safeArea:r}=t,{deviceOrientation:n,screenWidth:o,screenHeight:s}=t;r||(r={top:0,left:0,right:o||0,bottom:s||0,width:o||0,height:s||0});var{left:l,top:c,right:u,bottom:d,width:p,height:h}=r;return o&&s&&o>s&&(n===a.hc.portrait||p<h?(l=r.top,c=r.left,u=r.bottom,d=r.right,p=r.height,h=r.width):p===s&&p>h&&(c=0,l=0,u=o,d=s,p=o,h=s)),i={left:l,top:c,right:u,bottom:d,width:p,height:h}}},4081:(e,t,r)=>{"use strict";r.d(t,{I4j:()=>b,KPX:()=>s,NHl:()=>T,Nac:()=>o,OK:()=>a,Q1T:()=>c,Qyn:()=>w,RGX:()=>I,UoO:()=>g,WV4:()=>k,Wkc:()=>l,YEP:()=>i,Yd_:()=>y,Z9j:()=>d,b1W:()=>m,fUJ:()=>v,hXl:()=>h,jv5:()=>u,mUN:()=>S,rAn:()=>P,tHd:()=>p,wPB:()=>C,zF7:()=>f,zJY:()=>_,zMx:()=>n});var a=0,n=5,i=101,o=104,s=112,l=1001,c=1022,u=1026,d=600009,p=600010,h=602108,f=701002,g=1300014,v=2e6,m=2000001,y=2000003,_=2000004,b=2002e3,w=2002001,I=2002002,S=2002004,k=2002005,C=2003e3,T=2003001,P=2003002},2538:e=>{function t(e,t){for(var r=[],a=~~(t/8),n=t%8,i=0,o=e.length;i<o;i++)r[i]=(e[(i+a)%o]<<n&255)+(e[(i+a+1)%o]>>>8-n&255);return r}function r(e,t){for(var r=[],a=e.length-1;a>=0;a--)r[a]=255&(e[a]^t[a]);return r}function a(e,t){for(var r=[],a=e.length-1;a>=0;a--)r[a]=e[a]&t[a]&255;return r}function n(e,t){for(var r=[],a=e.length-1;a>=0;a--)r[a]=255&(e[a]|t[a]);return r}function i(e,t){for(var r=[],a=0,n=e.length-1;n>=0;n--){var i=e[n]+t[n]+a;i>255?(a=1,r[n]=255&i):(a=0,r[n]=255&i)}return r}function o(e){return r(r(e,t(e,9)),t(e,17))}function s(e,t,i,o){return o>=0&&o<=15?r(r(e,t),i):n(n(a(e,t),a(e,i)),a(t,i))}function l(e,t,i,o){return o>=0&&o<=15?r(r(e,t),i):n(a(e,t),a(function(e){for(var t=[],r=e.length-1;r>=0;r--)t[r]=255&~e[r];return t}(e),i))}function c(e,a){for(var n,c=[],u=[],d=0;d<16;d++){var p=4*d;c.push(a.slice(p,p+4))}for(var h=16;h<68;h++)c.push(r(r((n=r(r(c[h-16],c[h-9]),t(c[h-3],15)),r(r(n,t(n,15)),t(n,23))),t(c[h-13],7)),c[h-6]));for(var f=0;f<64;f++)u.push(r(c[f],c[f+4]));for(var g,v,m,y,_=[121,204,69,25],b=[122,135,157,138],w=e.slice(0,4),I=e.slice(4,8),S=e.slice(8,12),k=e.slice(12,16),C=e.slice(16,20),T=e.slice(20,24),P=e.slice(24,28),A=e.slice(28,32),E=0;E<64;E++){var M=E>=0&&E<=15?_:b;v=r(g=t(i(i(t(w,12),C),t(M,E)),7),t(w,12)),m=i(i(i(s(w,I,S,E),k),v),u[E]),y=i(i(i(l(C,T,P,E),A),g),c[E]),k=S,S=t(I,9),I=w,w=m,A=P,P=t(T,19),T=C,C=o(y)}return r([].concat(w,I,S,k,C,T,P,A),e)}e.exports=function(e){var t=8*e.length,r=t%512;r=r>=448?512-r%448-1:448-r-1;for(var a=new Array((r-7)/8),n=0,i=a.length;n<i;n++)a[n]=0;var o=[];t=t.toString(2);for(var s=7;s>=0;s--)if(t.length>8){var l=t.length-8;o[s]=parseInt(t.substr(l),2),t=t.substr(0,l)}else t.length>0?(o[s]=parseInt(t,2),t=""):o[s]=0;for(var u=[].concat(e,[128],a,o),d=u.length/64,p=[115,128,22,111,73,20,178,185,23,36,66,215,218,138,6,0,169,111,48,188,22,49,56,170,227,141,238,77,176,251,14,78],h=0;h<d;h++){var f=64*h;p=c(p,u.slice(f,f+64))}return p}},5405:(e,t,r)=>{var a=r(2538);e.exports=function(e){return e="string"==typeof e?function(e){for(var t=[],r=0,a=e.length;r<a;r++){var n=e.codePointAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>>6),t.push(128|63&n);else if(n<=55295||n>=57344&&n<=65535)t.push(224|n>>>12),t.push(128|n>>>6&63),t.push(128|63&n);else{if(!(n>=65536&&n<=1114111))throw t.push(n),new Error("input is not supported");r++,t.push(240|n>>>18&28),t.push(128|n>>>12&63),t.push(128|n>>>6&63),t.push(128|63&n)}}return t}(e):Array.prototype.slice.call(e),a(e).map((e=>1===(e=e.toString(16)).length?"0"+e:e)).join("")}},1977:(e,t,r)=>{var a;e=r.nmd(e),function(n){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r.g&&r.g;i.global!==i&&i.window!==i&&i.self;var o,s=2147483647,l=36,c=1,u=26,d=38,p=700,h=72,f=128,g="-",v=/^xn--/,m=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=l-c,w=Math.floor,I=String.fromCharCode;function S(e){throw RangeError(_[e])}function k(e,t){for(var r=e.length,a=[];r--;)a[r]=t(e[r]);return a}function C(e,t){var r=e.split("@"),a="";return r.length>1&&(a=r[0]+"@",e=r[1]),a+k((e=e.replace(y,".")).split("."),t).join(".")}function T(e){for(var t,r,a=[],n=0,i=e.length;n<i;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<i?56320==(64512&(r=e.charCodeAt(n++)))?a.push(((1023&t)<<10)+(1023&r)+65536):(a.push(t),n--):a.push(t);return a}function P(e){return k(e,(function(e){var t="";return e>65535&&(t+=I((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=I(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,r){var a=0;for(e=r?w(e/p):e>>1,e+=w(e/t);e>b*u>>1;a+=l)e=w(e/b);return w(a+(b+1)*e/(e+d))}function M(e){var t,r,a,n,i,o,d,p,v,m,y,_=[],b=e.length,I=0,k=f,C=h;for((r=e.lastIndexOf(g))<0&&(r=0),a=0;a<r;++a)e.charCodeAt(a)>=128&&S("not-basic"),_.push(e.charCodeAt(a));for(n=r>0?r+1:0;n<b;){for(i=I,o=1,d=l;n>=b&&S("invalid-input"),((p=(y=e.charCodeAt(n++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||p>w((s-I)/o))&&S("overflow"),I+=p*o,!(p<(v=d<=C?c:d>=C+u?u:d-C));d+=l)o>w(s/(m=l-v))&&S("overflow"),o*=m;C=E(I-i,t=_.length+1,0==i),w(I/t)>s-k&&S("overflow"),k+=w(I/t),I%=t,_.splice(I++,0,k)}return P(_)}function x(e){var t,r,a,n,i,o,d,p,v,m,y,_,b,k,C,P=[];for(_=(e=T(e)).length,t=f,r=0,i=h,o=0;o<_;++o)(y=e[o])<128&&P.push(I(y));for(a=n=P.length,n&&P.push(g);a<_;){for(d=s,o=0;o<_;++o)(y=e[o])>=t&&y<d&&(d=y);for(d-t>w((s-r)/(b=a+1))&&S("overflow"),r+=(d-t)*b,t=d,o=0;o<_;++o)if((y=e[o])<t&&++r>s&&S("overflow"),y==t){for(p=r,v=l;!(p<(m=v<=i?c:v>=i+u?u:v-i));v+=l)C=p-m,k=l-m,P.push(I(A(m+C%k,0))),p=w(C/k);P.push(I(A(p,0))),i=E(r,b,a==n),r=0,++a}++r,++t}return P.join("")}o={version:"1.3.2",ucs2:{decode:T,encode:P},decode:M,encode:x,toASCII:function(e){return C(e,(function(e){return m.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return C(e,(function(e){return v.test(e)?M(e.slice(4).toLowerCase()):e}))}},void 0===(a=function(){return o}.call(t,r,t,e))||(e.exports=a)}(globalThis)},8817:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,a,n){r=r||"&",a=a||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(r);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,d,p,h,f=e[c].replace(o,"%20"),g=f.indexOf(a);g>=0?(u=f.substr(0,g),d=f.substr(g+1)):(u=f,d=""),p=decodeURIComponent(u),h=decodeURIComponent(d),t(i,p)?Array.isArray(i[p])?i[p].push(h):i[p]=[i[p],h]:i[p]=h}return i}},8779:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,a,n){return r=r||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(n){var i=encodeURIComponent(t(n))+a;return Array.isArray(e[n])?e[n].map((function(e){return i+encodeURIComponent(t(e))})).join(r):i+encodeURIComponent(t(e[n]))})).join(r):n?encodeURIComponent(t(n))+a+encodeURIComponent(t(e)):""}},9935:(e,t,r)=>{"use strict";t.decode=t.parse=r(8817),t.encode=t.stringify=r(8779)},3006:e=>{function t(){}t.prototype={on:function(e,t,r){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var a=this;function n(){a.off(e,n),t.apply(r,arguments)}return n._=t,this.on(e,n,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),a=0,n=r.length;a<n;a++)r[a].fn.apply(r[a].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),a=r[e],n=[];if(a&&t)for(var i=0,o=a.length;i<o;i++)a[i].fn!==t&&a[i].fn._!==t&&n.push(a[i]);return n.length?r[e]=n:delete r[e],this}},e.exports=t,e.exports.TinyEmitter=t},2517:(e,t,r)=>{"use strict";var a=r(1977),n=r(7417);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=_;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(9935);function _(e,t,r){if(e&&n.isObject(e)&&e instanceof i)return e;var a=new i;return a.parse(e,t,r),a}i.prototype.parse=function(e,t,r){if(!n.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var _=e=c.join(s);if(_=_.trim(),!r&&1===e.split("#").length){var b=l.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(_);if(w){var I=(w=w[0]).toLowerCase();this.protocol=I,_=_.substr(w.length)}if(r||w||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===_.substr(0,2);!S||w&&v[w]||(_=_.substr(2),this.slashes=!0)}if(!v[w]&&(S||w&&!m[w])){for(var k,C,T=-1,P=0;P<p.length;P++){-1!==(A=_.indexOf(p[P]))&&(-1===T||A<T)&&(T=A)}-1!==(C=-1===T?_.lastIndexOf("@"):_.lastIndexOf("@",T))&&(k=_.slice(0,C),_=_.slice(C+1),this.auth=decodeURIComponent(k)),T=-1;for(P=0;P<d.length;P++){var A;-1!==(A=_.indexOf(d[P]))&&(-1===T||A<T)&&(T=A)}-1===T&&(T=_.length),this.host=_.slice(0,T),_=_.slice(T),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var M=this.hostname.split(/\./),x=(P=0,M.length);P<x;P++){var D=M[P];if(D&&!D.match(h)){for(var R="",L=0,N=D.length;L<N;L++)D.charCodeAt(L)>127?R+="x":R+=D[L];if(!R.match(h)){var O=M.slice(0,P),B=M.slice(P+1),j=D.match(f);j&&(O.push(j[1]),B.unshift(j[2])),B.length&&(_="/"+B.join(".")+_),this.hostname=O.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=a.toASCII(this.hostname));var F=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+F,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[I])for(P=0,x=u.length;P<x;P++){var U=u[P];if(-1!==_.indexOf(U)){var G=encodeURIComponent(U);G===U&&(G=escape(U)),_=_.split(U).join(G)}}var V=_.indexOf("#");-1!==V&&(this.hash=_.substr(V),_=_.slice(0,V));var $=_.indexOf("?");if(-1!==$?(this.search=_.substr($),this.query=_.substr($+1),t&&(this.query=y.parse(this.query)),_=_.slice(0,$)):t&&(this.search="",this.query={}),_&&(this.pathname=_),m[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var q=this.search||"";this.path=F+q}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",a=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),a&&"#"!==a.charAt(0)&&(a="#"+a),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+a},i.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(n.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,a=Object.keys(this),o=0;o<a.length;o++){var s=a[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(r[u]=e[u])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||_||r.host&&e.pathname,I=w,S=r.pathname&&r.pathname.split("/")||[],k=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===S[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),r.search=e.search,r.query=e.query;else if(!n.isNullOrUndefined(e.search)){if(k)r.hostname=r.host=S.shift(),(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.host=r.hostname=E.shift());return r.search=e.search,r.query=e.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=S.slice(-1)[0],T=(r.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,P=0,A=S.length;A>=0;A--)"."===(C=S[A])?S.splice(A,1):".."===C?(S.splice(A,1),P++):P&&(S.splice(A,1),P--);if(!w&&!I)for(;P--;P)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),T&&"/"!==S.join("/").substr(-1)&&S.push("");var E,M=""===S[0]||S[0]&&"/"===S[0].charAt(0);k&&(r.hostname=r.host=M?"":S.length?S.shift():"",(E=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=E.shift(),r.host=r.hostname=E.shift()));return(w=w||r.host&&S.length)&&!M&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},7417:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},5469:e=>{e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:r()}}();function t(){if(n(/^<\?xml\s*/)){for(var e={attributes:{}};!i()&&!o("?>");){var t=a();if(!t)return e;e.attributes[t.name]=t.value}return n(/\?>\s*/),e}}function r(){var e=n(/^<([\w-:.]+)\s*/);if(e){for(var t,s={name:e[1],attributes:{},children:[]};!(i()||o(">")||o("?>")||o("/>"));){var l=a();if(!l)return s;s.attributes[l.name]=l.value}if(n(/^\s*\/>\s*/))return s;for(n(/\??>\s*/),s.content=function(){var e=n(/^([^<]*)/);return e?e[1]:""}();t=r();)s.children.push(t);return n(/^<\/[\w-:.]+>\s*/),s}}function a(){var e,t=n(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function n(t){var r=e.match(t);if(r)return e=e.slice(r[0].length),r}function i(){return 0==e.length}function o(t){return 0==e.indexOf(t)}}},4500:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var a=r(6342),n=r(4536),i=(e={})=>{if("Expt"===e.experimentType&&"[object Object]"===Object.prototype.toString.call(a.default.expt)){var t=a.default.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}(0,n.IN)("getABTestConfig",e)}},5125:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(9370),n=null,i=void 0,o={lastRoute:"",lastOpenType:"",lastActiveWebviewId:null,pageRenderer:"",scene:-1,sceneNote:"",query:{},rawPath:"",runningStatus:"active",openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:0,navigationBarTitleMap:{},currentNetworkType:"",isWeakNetwork:!1,singlePageData:{},openingInnerPage:!1,get currentWebviewId(){return i},set currentWebviewId(e){i=e,n&&(n(null),n=null)},currentWebviewIdPromise:new Promise((e=>{n=e})),getWebviewIds:()=>a.hr.getGlobalWebviewIds(),get hasWebViewCompnent(){return Boolean(o.webViewComponentInfo[i])},webViewComponentInfo:{},get lastActiveRoute(){if("number"!=typeof o.lastActiveWebviewId)return o.lastRoute;var e=a.hr.getPageByWebviewId(o.lastActiveWebviewId);return(null==e?void 0:e.route)||o.lastRoute}};const s=o},9105:(e,t,r)=>{"use strict";r.d(t,{Em:()=>l.Em,Hw:()=>d,M8:()=>b,Nf:()=>y,RP:()=>g,iZ:()=>i.i,p9:()=>v,pD:()=>m,sd:()=>p});var a=r(6342),n=r(9370),i=r(1591),o=r(6347),s=r(7445),l=r(6142),c=/^[-+a-zA-Z0-9]+:\/\//,u=/(^|\/)__[-+a-zA-Z0-9]+__\//;function d(e,t){return _.wrapSystemFunction("appServiceSDKScriptError",t,e)}function p(e,t,r=!0){if(f.info(`[getRealRoute] lastRoute=${e}, relativeRoute=${t}, needTrans=${r}`),r&&(t=(0,o.Pp)(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return p(e,t.substr(2),!1);var a,n,i=t.split("/");for(a=0,n=i.length;a<n&&".."===i[a];a++);i.splice(0,a);var s=e.length>0?e.split("/"):[];s.splice(s.length-a-1,a+1);var l=s.concat(i).join("/");return f.info(`[getRealRoute] finalRoute=${l}`),l}function h(e){var t=e.match(c);if(!t)return e;var r=t[0];if("plugin://"===r){var o=r.length,s=e.indexOf("/",o);if(s>=0){var l=e.slice(o,s),u=a.default.plugins&&a.default.plugins[l]?a.default.plugins[l].provider:l;e=e.slice(0,o)+u+e.slice(s)}var d=e.indexOf("?");d<0&&(d=e.length);var p=e.slice(0,d),h=n.Ve.Component._list[p];if(!h)throw new i.l(`Page "${p}" is not found`);e=h.is+e.slice(d)}else if("plugin-private://"===r){var f=e.indexOf("?");f<0&&(f=e.length);var g=e.slice(0,f);e="/"+n.hr.convertComponentAliasToRoute(g)+e.slice(f)}else{if("wx://"!==r&&"wxpage://"!==r)throw new i.l(`Unknown URL protocol "${r}"`);e="/__wx__/"+e.slice(r.length)}return e}function g(e,t=""){return t=t.replace(/^\//,""),(0,s.aI)()?`__plugin__/${e}/${t}`:h(`plugin-private://${e}/${t}`)}function v(e){var t=e.match(c),r=e.match(u),n="";if(t){var i=t[0];if("plugin://"===i){var o=i.length,s=e.indexOf("/",o);if(s>=0){var l=e.slice(o,s);n=a.default.plugins&&a.default.plugins[l]?a.default.plugins[l].provider:l}}else if("plugin-private://"===i){var d=i.length,p=e.indexOf("/",d);if(p>=0)n=e.slice(d,p)}else"wx://"===i&&(n="//")}if(r){var h=r[0];if(h.endsWith("__plugin__/")){var f=e.indexOf(h)+h.length,g=e.indexOf("/",f);if(g>=0)n=e.slice(f,g)}else h.endsWith("__wx__/")&&(n="//")}return n}function m(e){var t=e.match(c);return t?t[0]:null}function y(e){return Object.keys(e).reduce(((t,r)=>("string"==typeof e[r]?t[r]=e[r]:"number"==typeof e[r]?t[r]=e[r]+"":t[r]=Object.prototype.toString.apply(e[r]),t)),{})}function b(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},5692:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var a=r(6342),n=function(){return{miniProgram:{appId:a.default.accountInfo&&a.default.accountInfo.appId||"",envVersion:a.default.envVersion||"release",version:a.default.appContactInfo&&a.default.appContactInfo.user_version||""}}}},6759:(e,t,r)=>{"use strict";r.d(t,{AS:()=>M,y$:()=>d,U7:()=>z,f5:()=>D});var a,n=r(7445),i=(r(4500),r(1399)),o=r(143),s=r(8007),l=(e={})=>{var{runCount:t,runCostAverage:r,runError:a,createError:n,isBinding:i,version:o,runErrorRate:l,createSessionParams:c,sessionId:u,resultType:d,createErrno:p,runErrno:h}=e;i=i?1:0,a||(a=""),n||(n="");var f=[t,r,encodeURIComponent(a),encodeURIComponent(n),i,o,l,u,encodeURIComponent(c),d,p,h].map((0,s.b)(1024)).join(",");b.reportKeyValue({key:"WeAppXNetInvoke",value:f})},c=r(4536),u=r(9806),d=(0,u.Iy)(((e,t)=>{if(t)try{e.success&&e.success({ver:t.GetInferenceEnvInfo().ver}),e.complete&&e.complete({ver:t.GetInferenceEnvInfo().ver})}catch(t){e.fail&&e.fail("getInferenceEnvInfo fail: ",t)}else(0,c.IN)("getInferenceEnvInfo",e)}),(e=>({ver:e.ver}))),p=r(6142),h=r(8929),g=new WeakMap;class v{constructor(e={model:""}){this.em=void 0,this.sessionId=void 0,this.reportInfo=void 0,this.getVersionTask=void 0;var t,r=this;try{t=JSON.stringify(e)}catch(e){t=""}this.reportInfo={runCostAverage:0,runErrorRate:0,runCount:0,runErrorCount:0,createSessionParams:t,sessionId:(0,h.M8)(),runErrno:0,createErrno:0};var n=!0;if(!1===e.asyncCreateSession&&(n=!1),this.em=(0,o.v)("XnetBinding",{noCache:!0}),a=i.Z.XInference,this.getVersionTask=new Promise((e=>{d({success(t){e(t.ver),r.getVersionTask=t.ver},fail(){e("-1"),r.getVersionTask="-1"}},a)})),f.warn("asyncCreateSession: ",n),n){a.CreateAsync((0,c.qB)(((e,t)=>{if(e){var r={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};return this.report(r),this.em.advancePublish("onError",e,!0),this.reportInfo.createErrorMsg=e.errMsg,void(this.reportInfo.createErrno=e.errno)}g.set(this,t),this.sessionId=t;var a={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(a),this.em.advancePublish("onLoad",void 0,!0)}),"XInference.CreateAsync"),e)}else{var s={...e};["success","fail","complate"].forEach((e=>{s[e]&&delete s[e]}));try{var l=a.CreateSession(s);l&&(g.set(this,l),this.sessionId=l,this.em.advancePublish("onLoad"));var u={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(u)}catch(e){var p={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};this.report(p),this.em.advancePublish("onError",e)}}}onLoad(e){this.em.on("onLoad",(()=>{e()}))}offLoad(){this.em.off("onLoad")}onError(e){this.em.on("onError",e)}offError(){this.em.off("onError")}run(e){var t=Date.now(),r=this;return new Promise(((n,i)=>{var o={session:this.sessionId,inTensors:e};try{a.RunAsync((0,c.qB)((function(e,a){r.reportInfo.runCount++;var o=Date.now()-t;if(r.reportInfo.runCostAverage=(r.reportInfo.runCostAverage*(r.reportInfo.runCount-1)+o)/r.reportInfo.runCount,e)return r.reportInfo.runErrorMsg=e.errMsg,r.reportInfo.runErrno=e.errno,void i({errMsg:"runInferenceSession:fail "+e});for(var s of Object.keys(a)){var l=a[s].data;l&&ArrayBuffer.isView(l)&&(a[s].data=l.buffer)}n(a)}),"XInference.RunAsync"),o)}catch(e){return void i(e)}}))}destroy(){var e=new Promise(((e,t)=>{var r={session:this.sessionId};try{a.ReleaseAsync((0,c.qB)((function(r,a){r?t(r):e(a)}),"XInference.ReleaseAsync"),r)}catch(e){return void t(e)}})),t={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};return this.report(t),e}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};this.report(e)}report(e){e.isBinding=!0,(0,p.tI)(this.getVersionTask)?this.getVersionTask.then((t=>{e.version=t,l(e)})):(e.version=this.getVersionTask,l(e))}get operator(){return{}}}var m,y,_=r(5436),w=r(4899),I=(r(1591),r(9105),r(3972),r(4237),r(9195)),S=new WeakMap,k=new WeakMap;class C{constructor(e={}){var t;try{t=JSON.stringify(e)}catch(e){t=""}if(y=new Promise((e=>{d({success(t){e(t.ver),y=t.ver},fail(){e("-1"),y="-1"}})})),this.reportInfo={runCount:0,runCostAverage:0,runErrorMsg:"",createErrorMsg:"",createSessionParams:t,sessionId:(0,h.M8)(),createErrno:0,runErrno:0,runErrorCount:0},k.set(this,new _.Q("AI",!0)),!m){var r=(0,I.getSystemInfoSync)();m=r.version}"8.0.37"===m&&n.wZ?setTimeout((()=>{this.notSupport=!0,k.get(this).emit("Error",{errMsg:"createInferenceSession fail: client not support"})})):(0,c.IN)("createInferenceSession",Object.assign({},e,{success:({sessionId:e})=>{S.set(this,e),k.get(this).emit("Load"),T({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams})},fail:e=>{this.reportInfo.createErrorMsg=e.errMsg,this.reportInfo.createErrno=e.errno,setTimeout((()=>{k.get(this).emit("Error",e)})),T({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,createError:e.errMsg,createErrno:e.errno})}}))}onLoad(e){k.get(this).on("Load",e)}offLoad(e){k.get(this).off("Load",e)}onError(e){k.get(this).on("Error",e)}offError(e){k.get(this).off("Error",e)}run(e={}){if(this.notSupport)return Promise.reject({errMsg:"runInferenceSession fail: client not support",errno:2004002});var t=(0,w.t)(),r={input:{},sessionId:S.get(this)};for(var a in e){var n,i;null!==(n=e[a])&&void 0!==n&&n.data&&null!==(i=e[a])&&void 0!==i&&i.shape&&(r.input[a]={type:e[a].type,shape:e[a].shape,data:t.trace(e[a].data,"rw")})}return new Promise(((e,a)=>{var n=Date.now(),i=this.reportInfo;i.runCount++,(0,c.IN)("runInferenceSession",Object.assign(r,{success({output:r}){var a=Date.now()-n;for(var o in i.runCostAverage=(i.runCostAverage*(i.runCount-1)+a)/i.runCount,r){var s;if("number"==typeof(null===(s=r[o])||void 0===s?void 0:s.data)){var l=r[o].data;r[o].data=t.getTraceBuffer(l),t.untrace(l)}}e(r)},fail:e=>{i.runErrorCount++,i.runErrorMsg=null==e?void 0:e.errMsg,i.runErrno=null==e?void 0:e.errno,a(e)}}))}))}destroy(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};T(e),(0,c.IN)("releaseInferenceSession",{sessionId:S.get(this)}),k.delete(this),S.delete(this)}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};T(e)}}var T=e=>{e.isBinding=!1,(0,p.tI)(y)?y.then((t=>{e.version=t,l(e)})):(e.version=y,l(e))};var P=!1;!r.g.__isAppServiceRemoteDebugMode__&&n.wZ&&(P=!0);var A,E,M=(e={})=>P?new v(e):new C(e);function x(e,t){return t instanceof ArrayBuffer||t.buffer&&t.buffer instanceof ArrayBuffer?{byteLength:t.byteLength}:t}function D(e,t,r,a,n={},o=1){var s,c={},u={func:t,args:n};c.createSessionParams=JSON.stringify(u,x),c.runError=r,c.runCount=o,c.version=(A=A||i.Z.XInference,E=E||(null===(s=A)||void 0===s?void 0:s.GetInferenceEnvInfo().ver)||"0.0.0"),c.resultType=4,c.isBinding=e,c.runCostAverage=a,l(c)}var R,L=r(3888),N=r.n(L),O=r(7412),B=r(4515),j=(0,O.t)(),F=(0,u.Fr)(j.readFile),W=(0,u.Fr)(j.writeFile),U=(0,u.Fr)(j.access),G=(0,u.Fr)(j.mkdir);function V(){return(V=N()((function*(e){try{var t=e.map((e=>function(e,...t){var r;R=R||i.Z.XInference;try{r=new Promise(((r,a)=>{R.InvokeMethod(e,(0,c.qB)((function(e,t){e?a(e):r(t)}),`XInference.InvokeMethod-${e}`),...t)}))}catch(t){f.warn(`[mnxnet]: AsyncInvoke ${e} err: ${t}`)}return r}("GetDeviceScore",e))),r=Promise.all(t).then((t=>{var r={};return e.forEach(((e,a)=>{r[e]=t[a]})),r})).catch((e=>(console.log(`[mnxnet]: benchmark: ${e}`),{})));return yield r}catch(e){return console.log(`[mnxnet]: benchmark err: ${e}`),{}}}))).apply(this,arguments)}var $=B.MV.MNXNET_ROOT_DIR.path,q=$+"/mnxnet_benchmark_v1.json";function z(e){return H.apply(this,arguments)}function H(){return H=N()((function*(e,t={}){if(!Array.isArray(e))return f.warn("[mnxnet]: benchmarkTypes should be array"),{};try{yield U({path:$})}catch(e){yield G({dirPath:$})}var r,a={},n=(null==t?void 0:t.forceRunKeys)||[];try{var{data:i}=yield F({filePath:q,encoding:"utf8"}),o=JSON.parse(i);e.forEach((e=>{o[e]?a[e]=o[e]:n.push(e)}))}catch(t){n=e,1300002===t.errno?f.warn(`[mnxnet]: access ${t} ${JSON.stringify(t)}`):f.warn(`[mnxnet]: access benchmark cache failed: ${JSON.stringify(t)}`)}return r=n,(n=Array.from(new Set(r))).length?function(e){return V.apply(this,arguments)}(n).then((e=>{var t=Object.assign({},e,a),r=JSON.stringify(t);f.warn(`[mnxnet]: rerun benchmark: ${r}`);try{W({filePath:q,data:r,encoding:"utf8"})}catch(e){f.warn(`[mnxnet]: write bench result to file failed: ${e}`)}return t})):a})),H.apply(this,arguments)}},4774:(e,t,r)=>{"use strict";var a=r(9661);r(1333),new a.Z},4571:(e,t,r)=>{"use strict";r.d(t,{kd:()=>l});var a=r(9766),n=r(4536),i=r(8246),o="default",s=(0,a.s)("apiCategoryChange");s.onMethod,s.offMethod;function l(){return o}(0,i.n)("sheetModeWindowStateChangedEvent",((e={})=>{(0,n.nY)("sheetModeWindowStateChangedEvent",e),"fullPage"===e.state&&"default"!==o&&(o="default",s.emit({apiCategory:o}))})),(0,n.Ld)("getApiCategory",(({callbackId:e},t)=>{(0,n.nY)("apiCategoryGot",{res:l(),callbackId:e},[t])}))},9196:(e,t,r)=>{"use strict";r.d(t,{r:()=>l});var a=r(6943),n=r(3972),i=r(4536),o=r(7849),s={};function l(){var e=(0,n.hI)(this)||"";return(0,a.rT)(s,e)}(0,i.Ld)("getEnterAppInfo",(({callbackId:e},t)=>{(0,i.nY)("appEnterInfoGot",{res:(0,o._)(),callbackId:e},[t])}))},7849:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var a={};function n(){return a}},4509:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var a=r(4536),n=r(8246),i=(0,r(9766).s)("AppEnterBackground"),o=i.internalOnMethod;(0,n.n)("onAppEnterBackground",((e={})=>{e&&"launchMiniProgram"===e.mode&&e.targetPagePath&&0===e.targetPagePath.indexOf("wx6bd2fb149a93a9c5:")||(i.emit(e),(0,a.nY)("onAppEnterBackground",e))}))},3473:(e,t,r)=>{"use strict";r.d(t,{T:()=>s});r(4536),r(4774),r(6943),r(9196);var a=r(9766),n=(r(8246),r(5125)),i=r(6342);r(9105);i.default.onReady((()=>{n.Z.scene=i.default.appLaunchInfo.scene,n.Z.sceneNote=i.default.appLaunchInfo.scene_note}));var o=(0,a.s)("AppEnterForeground"),s=o.internalOnMethod},9636:(e,t,r)=>{"use strict";r.d(t,{_w:()=>u,bm:()=>c,NT:()=>h});var a=r(4536),n=r(9766),i=r(3767),o=(0,r(143).v)("sclEngine"),s=!1,l=(0,n.s)("tapAnyWhere");(0,a.Ld)("tapAnyWhere",l.emitInternal);var c=l.internalOnMethod,u=l.internalOffMethod,d=(l.emitInternal,!1);c((()=>{s||(s=!0,(0,i.gQ)("sclengine")===i.Q_.injected?o.publish("initReady"):o.advancePublish("initReady")),d||(d=!0,p.forEach((e=>e())),p=[])}));var p=[],h=e=>{d?e():p.push(e)}},6943:(e,t,r)=>{"use strict";r.d(t,{rT:()=>c});r(4774),r(6347),r(5125);var a=r(4536),n=(r(88),r(9370),r(7445)),i=(r(3329),r(9105)),o=(r(4571),r(3888)),s=r.n(o),l=r(1868);r(8246);(0,l.NX)("postMessageToReferrerMiniProgram",function(){var e=s()((function*({extraData:e}){return(0,a.bb)("postMessageToReferrerMiniProgram",{extraData:e})}));return function(t){return e.apply(this,arguments)}}());function c(e,t=""){if((0,i.p9)(e.path||"")===t)return e;var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),e.apiCategory&&(r.apiCategory=e.apiCategory),(0,n.HI)()&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),e.isTransparentBackgroundSupport&&(r.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),r}},8267:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var a=r(6342).default.SDKVersion},8113:(e,t,r)=>{"use strict";r.d(t,{KL:()=>u,Zv:()=>d});r(3473),r(5933),r(1821);var a=r(6342),n=r(7351),i=r(4599),o=(r(88),r(2805),[]),s=["expires","domain","path","busid","indate","receivetime","spread","extra"],l={scene:-1,sceneNote:"",sessionId:""};(0,n.dN)(((e={})=>{l.scene=e.scene,l.sceneNote=e.scene_note,l.sessionId=e.sessionid||e.sessionId})),(0,i.vv)(((e={})=>{if(3===e.targetAction)for(var t=o.length-1;t>=0;t--){var r=o[t].extra;r&&"del_on_exit"===r&&o.splice(t,1)}}));function c(e){var t=[];for(var r in e)s.indexOf(r)>=0&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}var u=e=>{var t=Date.now(),r=[];o.forEach((e=>{var a=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!a||1e3*a>t)&&r.push(c(e))}));var a=r.join(";; ");return e&&e.success&&e.success({cookies:a}),a},d=e=>{var t=Date.now(),r=[];o.forEach((e=>{var a=e.expires||e.__wxprivate_calc_expires__;(!a||1e3*a>t)&&r.push(e)}));var n=a.default&&a.default.accountInfo&&a.default.accountInfo.appId||"",i=l.scene||"",s=l.sceneNote||"",u=l.sessionId||"";r.push({key:"appid",value:n,busid:"wxapp"},{key:"sessionid",value:u,busid:"wxapp"},{key:"scene",value:i,busid:"wxapp"},{key:"scene_note",value:s,busid:"wxapp"});var{hostAppId:d,pluginAppId:p}=e&&e.pluginInfo?e.pluginInfo:{};if(void 0!==d&&void 0!==p){var h=r.find((e=>"appid"===e.key));h&&(h.value=d),r.push({key:"plugin_appid",value:p,busid:"wxapp"})}var f=a.default.host||{};"SDK"===f.env&&r.push({key:"sdk_host_appid",value:f.appId,busid:"wxapp"});var g=r.map(c).join(";; ");return e&&e.success&&e.success({cookies:g}),g}},8535:(e,t,r)=>{"use strict";r.d(t,{$:()=>W,_:()=>G});var a=r(4509),n=r(8285),i=r(9133),o=r(6893),s=r(7172),l=r(9976),c=r(6614),u=r(4316),d=r(5340),p=r(6659),h=r(7445),g=function(e){"string"!=typeof e&&(e+="");var t,r,a=0;for(t=0;t<e.length;t++)(r=e.charCodeAt(t))<127?a+=1:r>=128&&r<=2047?a+=2:r>=2048&&r<=65535&&(a+=3);return a},v={lastLogNum:1,lastLogSize:0},m=r(9195),y=r(9105),_=r(5179),w="undefined"!=typeof __initHelper&&1===__initHelper,I=(h.gm?"http://usr":"wxfile://usr")+"/miniprogramLog/",S={},k=(0,y.Hw)(n.Bx);function C(e={}){if(!e.index||e.index>v.lastLogNum)e.complete&&e.complete();else{var t,r=h.cj?1:5,a=e.readFileResp||function(){try{return{data:_.N.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message||""}}}((t=e.index,`${I}log${t}`),"utf8");if(a.data&&a.errMsg.indexOf("readFileSync:ok")>=0){var n=a.data.length,i=Math.max(parseInt(n/r,10),1),o=(e.slice-1)*i,s=a.data.substr(o,i);if(!s)return k({webviewId:e.webviewId,data:{total:v.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:T()}}),e.index++,e.slice=1,e.readFileResp=null,void C(e);k({webviewId:e.webviewId,data:{type:"uploadUserLogContent",content:s,index:e.index,slice:e.slice||1,total:v.lastLogNum,info:1===e.index&&1===e.slice?T():null},success(){e.slice===r?(k({webviewId:e.webviewId,data:{total:v.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:T()}}),e.index++,e.slice=1,e.readFileResp=null,C(e)):(e.slice++,e.readFileResp=a,C(e))},fail(t){e.retry?k({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:t&&t.errMsg,index:e.index,info:T()}}):(e.retry=!0,C(e))}})}else k({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:a.errMsg,index:e.index,info:T()}})}}function T(){return{...S,...(0,m.getStaticSystemInfoSync)()}}w||(0,n.JB)((e=>{e.data&&"uploadUserLog"===e.data.type&&C({index:1,slice:1,webviewId:e.webviewId})}));var P,A="undefined"!=typeof __initHelper&&1===__initHelper,E=(h.gm?"http://usr":"wxfile://usr")+"/miniprogramLog/",M=102400,x=3e3,D=1,R=[],L=!1,N=!1,O={},B=e=>`${E}log${e}`,j=()=>{A||(P||(P=new Promise((e=>{(0,c.P)({path:E,success:()=>{var t=1,r=()=>{t<=5?(0,c.P)({path:B(t),success:()=>{O[t]=!0,v.lastLogNum=t,t++,r()},fail:()=>{a()}}):a()},a=()=>{(0,d.lz)({path:B(v.lastLogNum),success:t=>{var r=t.stats;v.lastLogSize=r.size,L=!0,e()},fail:()=>{L=!0,e()}})};r()},fail:()=>{(0,l.i)({dirPath:E,success:()=>{L=!0,e()},fail:()=>{e()}})}})}))),P).then((()=>{if(L&&R.length&&!N){for(var e=[],t=0,r=0;r<R.length;r++){var a=g(R[r]);if(a>M)console.warn("[wx.log warn] each log size exceed 100KB will be discard.");else{if(t+a>M)break;t+=a,e.push(R[r])}}if(e.length){if(v.lastLogSize+t>1048576){if(v.lastLogNum+1>=6)return N=!0,void setTimeout((()=>{(0,p.q)({filePath:B(1),complete:()=>{var e=2,t=()=>{e<=5?((0,u.P)({oldPath:B(e),newPath:B(e-1)}),e++,t()):r()},r=()=>{v.lastLogNum=5,O[v.lastLogNum]=!1,v.lastLogSize=0,N=!1};t()}})}),50);v.lastLogNum++,v.lastLogSize=0}r===R.length?R=[]:R.splice(0,r),O[v.lastLogNum]?(0,o.a)({filePath:B(v.lastLogNum),data:(v.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8"}):(0,c.P)({path:B(v.lastLogNum),success:()=>{(0,o.a)({filePath:B(v.lastLogNum),data:(v.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8"})},fail:()=>{(0,s.N)({filePath:B(v.lastLogNum),data:(v.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail(e){console.log("log writeFile err "+e.errMsg)}})}}),v.lastLogSize+=t}}}))};var F={logApiInvoke:!0};function W(e){var t={};return["info","debug","log","warn"].forEach((r=>{t[r]=function t(){F.modules&&F.modules.includes(e)&&F[r].apply(t,arguments)}})),t}["info","debug","log","warn"].forEach((e=>{F[e]=function(){if(!A&&arguments.length){for(var t,r=[],a=0;a<arguments.length;a++)"number"==typeof arguments[a]||"string"==typeof arguments[a]?r.push(arguments[a]):r.push(JSON.stringify(arguments[a]));r.splice(0,0,`${(t=new Date).getFullYear()}-${t.getMonth()+1}-${t.getDate()} ${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}`,`[${e}]`),R.push(r.join(" "))}}}));var U=!1;function G(e={}){return U||(setInterval((()=>{j()}),x),U=!0),"number"==typeof e.level&&(F.level=e.level),Array.isArray(e.modules)&&(F.modules=e.modules),F.level===D?F.logApiInvoke=!1:0===F.level&&(F.logApiInvoke=!0),F}F._getUserLog=function(){var e=function(){try{return{stat:d.dJ.apply(this,arguments),errMsg:"statSync:ok"}}catch(e){return{errMsg:e.message||""}}};(0,i.v)("getLogManager._getUserLog");for(var t={},r=1;r<=5;r++)t["log"+r]=e(B(r));return t},F.privateSystemLog=(...e)=>{(0,h.tK)()&&void 0!==b&&e&&e.length&&f.info(e)},(0,a.J)((()=>{j()}))},298:(e,t,r)=>{"use strict";r.d(t,{MI:()=>i,Qq:()=>l,tR:()=>c});var a=r(4536),n=r(8341),i=e=>{(0,a.IN)("setDeviceOrientation",e)},o="deviceOrientationChange",s=new n.v;(0,a.jQ)("onDeviceOrientationChange",(e=>{e.value=e.value.toLowerCase(),/reverse/.test(e.value)&&(e.value="landscapeReverse"),s.emit(o,e)}));var l=e=>{var t;null!==(t=s.listeners(o))&&void 0!==t&&t.length||(0,a.IN)("enableDeviceOrientationChangeListening",{enable:!0}),s.on(o,e)},c=e=>{var t;s.off(o,e),null!==(t=s.listeners(o))&&void 0!==t&&t.length||(0,a.IN)("enableDeviceOrientationChangeListening",{enable:!1})}},6385:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_checkHasSystemProxy:()=>w,_getCurrentNetworkType:()=>_,_getCurrentSignalStrength:()=>I,_getNetworkType:()=>h,_onNetworkTypeReady:()=>b,getNetworkType:()=>f,offNetworkStatusChange:()=>v,offNetworkWeakChange:()=>y,onNetworkStatusChange:()=>g,onNetworkWeakChange:()=>m});var a=r(4536),n=(r(9695),r(9766)),i=r(6342),o=r(5125),s="",l="",c=!1,u=(0,n.s)("networkstatusChange"),d=(0,n.s)("networkWeakChange"),p=(0,n.s)("networkTypeReady"),h=e=>{(0,a.IN)("getNetworkType",e,{beforeAll(e){e.weakNet=o.Z.isWeakNetwork}})},f=h,g=u.onMethod,v=u.offMethod,m=d.onMethod,y=d.offMethod,_=()=>s,b=p.onMethod,w=()=>c,I=()=>l;"undefined"!=typeof IS_SDK_PACKAGE||(0,a.jQ)("onNetworkStatusChange",((e={})=>{s=e.networkType,l=e.signalStrength,o.Z.currentNetworkType=s,u.emit(e),(0,a.nY)("onNetworkStatusChange",e)})),i.default.onReady((()=>{i.default.networkType&&(s=i.default.networkType),f({success(e){s=e.networkType,l=e.signalStrength,o.Z.currentNetworkType=s,c=e.hasSystemProxy,p.emit(s)}})}))},9195:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_getSystemInfoSyncFromCache:()=>$.mw,getAppAuthorizeSetting:()=>y,getAppBaseInfo:()=>U,getDeviceBenchmarkInfo:()=>O,getDeviceInfo:()=>_.d,getInitScreenSize:()=>$.Ew,getRendererUserAgent:()=>V,getStableSystemInfo:()=>$.Oo,getStaticSystemInfoSync:()=>u.m,getSystemInfo:()=>a.S,getSystemInfoAsync:()=>p,getSystemInfoAsyncNoCache:()=>d,getSystemInfoNoCache:()=>a.J,getSystemInfoSync:()=>n.x,getSystemInfoSyncNoCache:()=>n.i,getSystemSetting:()=>m,getWindowInfo:()=>j,openAppAuthorizeSetting:()=>f.n,openSystemBluetoothSetting:()=>h});var a=r(6166),n=r(9852),i=r(6342),o=r(4536),s=r(9695),l=r(3462),c=r(5765),u=r(4761),d=e=>{i.default.supportAsyncGetSystemInfo||(console.info('Current Wechat version do not support asynchronous getSystemInfo. "wx.getSystemInfoAsync" will be finished by synchronous implementation.'),(0,l.h)());var t=i.default.supportAsyncGetSystemInfo?"getSystemInfoAsync":"getSystemInfo";(0,o.IN)(t,e,{beforeSuccess:e=>{(0,c.I)(e),(0,u.F)(e)}})},p=(0,s.Q)("getSystemInfoAsync",d),h=e=>{(0,o.IN)("openSystemSetting",{...e,type:"systemBluetooth"})},f=r(885),g=Object.defineProperty,v=(e,t)=>{g(e,t,{get:()=>{var e;return(0,o.IN)("getSystemInfo",{type:t,success:r=>{e=r[t]}}),e},enumerable:!0})},m=()=>{var e={};return v(e,"bluetoothEnabled"),v(e,"deviceOrientation"),v(e,"locationEnabled"),v(e,"wifiEnabled"),e},y=()=>{var e={};return v(e,"albumAuthorized"),v(e,"bluetoothAuthorized"),v(e,"cameraAuthorized"),v(e,"locationAuthorized"),v(e,"locationReducedAccuracy"),v(e,"microphoneAuthorized"),v(e,"notificationAlertAuthorized"),v(e,"notificationAuthorized"),v(e,"notificationBadgeAuthorized"),v(e,"notificationSoundAuthorized"),v(e,"phoneCalendarAuthorized"),e},_=r(8118),b=r(3888),w=r.n(b),I=r(7412),S=r(4515),k=r(9806),C="getDeviceBenchmarkInfo",T=(0,I.t)(),P=(0,k.Fr)(T.readFile),A=(0,k.Fr)(T.writeFile),E=(0,k.Fr)(T.access),M=(0,k.Fr)(T.mkdir),x=S.MV.WX_DEIVCE_BENCHMARK_PATH.path,D=`${x}/wechat_benchmark_info.json`,R=(e,t,r)=>{(0,o.FE)({name:C,args:e,res:{benchmarkLevel:t,modelLevel:r}})},L=(e,t,r=!0)=>{(0,o.yD)({apiName:"webapi_game_transfer",sdkApiName:"gameTransfer",reqData:{req_path:"benchmark.getdevicebenchmark",device:e},timeout:1e4,success:a=>{var n,i,o,{benchmarklevel:s=-1,model_level:l=0}=null!==(n=null==a||null===(i=a.data)||void 0===i?void 0:i.device_info)&&void 0!==n?n:{};r&&R(t,s,l);try{var c=JSON.stringify({[e]:{benchmarkLevel:s,modelLevel:l,cacheTime:Date.now()}});o=()=>{A({filePath:D,data:c,encoding:"utf8"})},E({path:x}).then((()=>{o&&o()})).catch((()=>{M({dirPath:x,recursive:!1}).then((()=>{o&&o()}))}))}catch(e){}},fail:e=>{var a;r&&(0,o.YG)(C,t,null!==(a=e.errMsg)&&void 0!==a?a:"")}})},N=function(){var e=w()((function*(e){var t,r=null!==(t=(0,$.mw)(!0))&&void 0!==t?t:{},{brand:a,model:n,platform:i}=r,o=a,s=n;if("ios"===i){o="APPLE";var l=n.match(/<([^>]*)>$/),c=l&&l[1];s=null!=c?c:s}var u=`${o},${s}`.toUpperCase();try{var{data:d}=yield P({filePath:D,encoding:"utf8"}),p=JSON.parse(d);if(p[u]){var{benchmarkLevel:h,modelLevel:f,cacheTime:g}=p[u];R(e,h,f),Date.now()-g>864e5&&L(u,e,!1)}else L(u,e)}catch(t){L(u,e)}}));return function(t){return e.apply(this,arguments)}}(),O=(0,s.Q)(C,N),B=r(1843),j=(0,B.r)((()=>{var e;return(0,o.IN)("getSystemInfo",{type:"windowInfo",success(t){delete(e=t).errMsg}}),e})),F=r(7445),W=r(8267),U=(0,B.r)((()=>{var e;return(0,o.IN)("getSystemInfo",{type:"appBaseInfo",success(t){delete(e=t).errMsg}}),e.SDKVersion=W.c,e.enableDebug=Boolean(i.default.debug),i.default.theme&&(e.theme=i.default.theme),i.default.host&&(e.host=i.default.host),i.default.appLaunchInfo&&i.default.appLaunchInfo.mode&&(e.mode=i.default.appLaunchInfo.mode),F.wZ&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),e})),G=r(8540),V=(e={})=>new Promise((t=>(0,G.Y)((r=>{(0,o.F0)({userAgent:r},"getRendererUserAgent",e,{}),t(r)})))),$=r(2219)},9946:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var a=r(8118),n=!1,i=-1,o=()=>(n||(i=(0,a.d)().benchmarkLevel||-1,n=!0),i)},8118:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var a=r(4536),n=r(1843),i=r(7445),o={"iPhone14,2":"iPhone 13 Pro","iPhone14,3":"iPhone 13 Pro Max","iPhone14,4":"iPhone 13 Mini","iPhone14,5":"iPhone 13","iPhone15,4":"iPhone 15","iPhone15,5":"iPhone 15 Plus","iPhone16,1":"iPhone 15 Pro","iPhone16,2":"iPhone 15 Pro Max","iPad11,6":"iPad (8th generation) Wi-Fi","iPad11,7":"iPad (8th generation) Wi-Fi + Cellular","iPad12,1":"iPad (9th generation) Wi-Fi","iPad12,2":"iPad (9th generation) Wi-Fi + Cellular","iPad13,1":"iPad Air (4th generation) Wi-Fi","iPad13,2":"iPad Air (4th generation) Wi-Fi + Cellular","iPad13,4":"iPad Pro 11 inch (3rd generation) Wi-Fi","iPad13,5":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (US)","iPad13,6":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (Global)","iPad13,7":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (China)","iPad13,8":"iPad Pro 12.9 inch (5th generation) Wi-Fi","iPad13,9":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (US)","iPad13,10":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (Global)","iPad13,11":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (China)","iPad14,1":"iPad mini (6th generation) Wi-Fi","iPad14,2":"iPad mini (6th generation) Wi-Fi + Cellular"},s=(0,n.r)((()=>{var e;(0,a.IN)("getSystemInfo",{type:"deviceInfo",success(t){delete(e=t).errMsg}});var t,r,n,s=i.iw;return i.cj&&(e.brand="iPhone",e.model=(t=e.model,(n=null!==(r=t.match(/unknown<([^>]?)>/))&&void 0!==r?r:[])&&o[n[1]]||t)),i.gm&&"devtools"!==e.brand&&(s="iPhone"===e.brand?"ios":"android"),e.platform=s,e}))},2219:(e,t,r)=>{"use strict";r.d(t,{Ew:()=>p,Oo:()=>d,mw:()=>h});var a=r(6342),n=r(4761),i=r(9852),o=null,s=0,l=0,c=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];a.default.onReady((()=>{o={};for(var e=0;e<c.length;e++){if(!(c[e]in a.default)){o=(0,n.m)();break}o[c[e]]=a.default[c[e]]}if(a.default.screenHeight&&a.default.screenWidth)s=a.default.screenWidth,l=a.default.screenHeight;else{var t=(0,n.m)();s=t.screenWidth,l=t.screenHeight}}));var u,d=()=>a.default.isReady?Object.assign({},o):((new Error).stack,{}),p=()=>a.default.isReady?{screenWidth:s,screenHeight:l,deviceOrientation:s>l?"landscape":"portrait"}:((new Error).stack,{}),h=(...e)=>{if(u)return u;if(!0===e[0]){if(o)return o;u=(0,i.x)()}else u=(0,i.x)();return u}},4761:(e,t,r)=>{"use strict";r.d(t,{F:()=>o,m:()=>i});var a,n=r(9852),i=()=>a||(a=Object.assign({},(0,n.x)())),o=e=>{delete(a=Object.assign({},e)).errMsg}},6166:(e,t,r)=>{"use strict";r.d(t,{J:()=>p,S:()=>h});var a,n,i,o=r(4536),s=JSON.parse,l=JSON.stringify,c=r(5765),u=r(3462),d=r(4761),p=e=>{(0,u.h)();(0,o.IN)("getSystemInfo",e,{beforeSuccess:e=>{(0,c.I)(e),(0,d.F)(e)}})},h=(a="getSystemInfo",n=p,(e={})=>{var{success:t,fail:r}=(0,o.Rn)(e,a);if(i){var c={};try{c=s(i)}catch(e){f.error("constructCachedOptimizedSyncApi parse error",e.message)}t(c)}else n(Object.assign({},e,{success(e){try{i=l(e)}catch(e){f.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{i=void 0})),t(e)},fail(e){i=void 0,r(e)},complete:void 0}))})},9852:(e,t,r)=>{"use strict";r.d(t,{i:()=>s,x:()=>o});var a=r(7445),n=r(6166),i=r(9133),o=()=>{var e={};return(0,n.S)({success(t){delete t.errMsg,e=t}}),e},s=()=>{var e={},t=!1;return(0,n.J)({success(r){delete r.errMsg,e=r,t&&(0,i.v)(`getSystemInfoSync Async Callback; WK_RENDERER_H5=${!!a.jP}`)},fail(e){(0,i.v)(`getSystemInfoSync Fail Callback errMsg=${e.errMsg} errno=${e.errno} hasReturn=${t}`)}}),t=!0,e}},885:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var a=r(4536),n=e=>{(0,a.IN)("openSystemSetting",{...e,type:"appAuthorize"})}},8540:(e,t,r)=>{"use strict";var a;r.d(t,{Y:()=>s});var n,i=!!c.clientManager,o=new Set;null===(a=c.clientManager)||void 0===a||a.once("clientConnected",((e,{ua:t}={})=>{n=t,o.forEach((e=>{try{e(t)}catch(e){}})),o.clear()}));var s=e=>{i?n?e(n):o.add(e):e("")}},5765:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var a=r(9806),n=r(7445),i=r(8267),o=r(6342),s=e=>{var t=n.iw;if(n.cj&&(e.brand="iPhone"),n.gm&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=i.c,e.enableDebug=Boolean(o.default.debug),o.default.devicePixelRatio&&(e.devicePixelRatio=o.default.devicePixelRatio),o.default.theme&&(e.theme=o.default.theme),o.default.host&&(e.host=o.default.host),o.default.appLaunchInfo&&o.default.appLaunchInfo.mode&&(e.mode=o.default.appLaunchInfo.mode),n.wZ&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),(0,a.Av)()&&!(0,n.aI)()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),n.jP&&(e.renderer="h5"),n.cj&&e.model&&0===e.model.indexOf("unknown")){var r=e.model.match(/^unknown<([^>]*)>$/),s=r&&r[1];s&&("iPhone15,4"===s?e.model=`iPhone 15<${s}>`:"iPhone15,5"===s?e.model=`iPhone 15 plus<${s}>`:"iPhone16,1"===s?e.model=`iPhone 15 pro<${s}>`:"iPhone16,2"===s&&(e.model=`iPhone 15 pro max<${s}>`))}}},3462:(e,t,r)=>{"use strict";r.d(t,{h:()=>n});var a=r(6342),n=()=>{a.default.isReady||(new Error).stack}},9370:(e,t,r)=>{"use strict";r.d(t,{P3:()=>a,Ve:()=>i,hr:()=>n,uj:()=>o});var a,n,i,o,s=new(r(9661).Z);s.on.bind(s,"__virtualDOM__"),s.on.bind(s,"__subContextEngineSub__"),s.on.bind(s,"__wxModule__"),s.on.bind(s,"__cloudSDK__")},7412:(e,t,r)=>{"use strict";r.d(t,{t:()=>T});var a,n=r(3888),i=r.n(n),o=r(4515),s=r(1708),l=r(158),c=r(3628),u=r(9067),d=r(5340),p=r(6659),h=r(6142),f=(0,s.k)()+" "+(0,s.n)(),g=["appendFile","appendFileSync","copyFile","copyFileSync","saveFile","saveFileSync","unzip","write","writeFile","writeFileSync","writeSync"],v={appendFile:"filePath",appendFileSync:0,copyFile:"destPath",copyFileSync:1,saveFile:"filePath",saveFileSync:1,unzip:"targetPath",writeFileSync:0,writeFile:"filePath"},m=["http://__wxprivate__","wxfile://__wxprivate__","http://sdk","wxfile://sdk","wxfile://ad"],y=function(){var e=i()((function*(e,t,r,a,n){var i=(yield t)||0,s=(yield r)||0,l=a.includes("sdk")?104857600:209715200,c=(0,h.HD)(e)?(0,u.Ei)(e):null==e?void 0:e.byteLength,d=(0,o.WQ)(n),f=i+c;s+c<d.storageLimit&&f<l||(d.autoClearAfterExceeds&&(({subDirPath:e=""})=>{(0,p.q)({filePath:e})})({subDirPath:n}),k({rootPath:a,rootSize:i,path:n,dirSize:n,isExceedsReport:!0}))}));return function(t,r,a,n,i){return e.apply(this,arguments)}}(),_={},w=new Proxy({},{get:(e,t)=>(...e)=>{var r;if(a||(r={},Object.assign(r,l.v,c.W),a=r),g.includes(t)&&!_[t]){_[t]=!0;var n=I(a[t],t);return a[t]=n,n(...e)}return a[t](...e)}}),I=(e,t)=>{var r=t.endsWith("Sync"),a={};return(...n)=>{var i=v[t],s=r?n[i]:n[0][i];s=S(s);var l=a[s]?a[s]:m.find((e=>s.includes(e)));if(!l)return e(...n);if(a[s]=l,(0,o.nl)(s)){var c=C(l),u=C(s),d=l,p=s,h=n[0].data||n[1]||"";return y(h,c,u,d,p),Math.random()<.1&&k(d,c,p,u),e(...n)}}},S=e=>{var t="";try{var r=e.split("//"),a=r[1].split("/");if(t=`${r[0]}//${a[0]}`,a.length>2)t+=`/${a[1]}`}catch(e){}return t},k=function(){var e=i()((function*(e,t,r,a,n=!1){a=a?yield a:"",t=t?yield t:"";var i=[f,r,n?"exceeds disk size":"",a,e,t].join(",");b.reportKeyValue({key:"InnerDiskStatInfo",value:i,immediately:!0})}));return function(t,r,a,n){return e.apply(this,arguments)}}(),C=function(){var e=i()((function*(e){var t=null;return yield new Promise(((r,a)=>{(0,d.lz)({path:e,recursive:!1,success:e=>{t=e.stats.size,r()},fail:e=>{a(e)}})})).catch((e=>{})),t}));return function(t){return e.apply(this,arguments)}}(),T=()=>w},4515:(e,t,r)=>{"use strict";r.d(t,{MV:()=>a,WQ:()=>c,nl:()=>s});var a={WX_CACHE_DEBUG_PREFIX:{path:"wxfile://sdk/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},MNXNET_ROOT_DIR:{path:"wxfile://sdk/mnxnet",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_MODEL_CACHE_PATH_PREFIX:{path:"wxfile://sdk/we_model",storageLimit:31457280,autoClearAfterExceeds:!1},WX_COMPILE_PREFIX:{path:"wxfile://__wxprivate__/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},PRIVACY_DIR:{path:"wxfile://__wxprivate__/privacy",storageLimit:5242880,autoClearAfterExceeds:!1},OBS_DIRECTION_PATH:{path:"wxfile://__wxprivate__/obs",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_INFO_CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/app_info",storageLimit:5242880,autoClearAfterExceeds:!1},CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/pay",storageLimit:5242880,autoClearAfterExceeds:!1},WX_SHARE_APP_MESSAGE_CACHE_PATH:{path:"wxfile://__wxprivate__/share_app_message",storageLimit:5242880,autoClearAfterExceeds:!1},WX_DEIVCE_BENCHMARK_PATH:{path:"wxfile://__wxprivate__/wx_device_benchmark",storageLimit:5242880,autoClearAfterExceeds:!1},AD_PATH:{path:"wxfile://ad",storageLimit:104857600,autoClearAfterExceeds:!1},SHORT_TV_CACHE:{path:"wxfile://__wxprivate__/short_tv",storageLimit:1048576,autoClearAfterExceeds:!0}},n={},i=[],o=Object.entries(a);function s(e){i.length||o.forEach((e=>{i.push(e[1].path)}));var t=void 0!==n[e]?n[e]:i.some((t=>e.includes(t)));return n[e]=t,!!t}var l={};function c(e){var t;if(l[e])t=l[e];else{var r,a=null!==(r=o.find((t=>t[1].path===e)))&&void 0!==r?r:[],{storageLimit:n=5242880,autoClearAfterExceeds:i=!1}=a[1]||{};t={storageLimit:n,autoClearAfterExceeds:i},l[e]=t}return t}},1821:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var a=r(4536),n=r(5125),i=0,o=[],s=(e,t={},r,s)=>{var l=i++;o[l]=s,(0,a.nY)("invokeWebviewMethod",{name:e,args:t,callbackId:l},void 0===r?[n.Z.currentWebviewId]:r)};(0,a.Ld)("callbackWebviewMethod",(({res:e,callbackId:t})=>{var r=o[t];delete o[t],r&&r(e)}))},6589:(e,t,r)=>{"use strict";r.d(t,{hA:()=>i,p$:()=>n,u:()=>a});var a=(0,r(9766).s)("AudioInterruptionBegin"),n=a.onMethod,i=a.offMethod},1441:(e,t,r)=>{"use strict";r.d(t,{FY:()=>a,aS:()=>n,xJ:()=>i});var a=(0,r(9766).s)("AudioInterruptionEnd"),n=a.onMethod,i=a.offMethod;a.internalOnMethod,a.internalOffMethod},9112:(e,t,r)=>{"use strict";r.d(t,{o:()=>h,S:()=>f});var a=r(4536),n=r(6342),i=r(4816),o=r(220);(0,i.b)("Download",{maxTaskCount:10,functionName:"downloadFile"}),n.default.onReady((()=>{try{"number"==typeof n.default.wxAppInfo.maxDownloadConcurrent&&(0,i.b)("Download",{maxTaskCount:n.default.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));class s extends i.o{constructor(e){var{url:t,filePath:r,forVideoPlay:a=!0}=e;super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>{var{tempFilePath:n}=e;return e.profile&&(e.profile.usingHighPerformanceMode=!!e.profile.usingHighPerformanceMode),delete e.timeInterval,a&&(0,o.d)(n||r,t),e}})}}const l=s;var c=r(4237),u=r(88),d=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,a.r3)("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__,(0,u.J)("skipDomainCheck_downloadFile")&&(t.__skipDomainCheck__=!0);try{return new l(t)}catch(e){return void(0,a.YG)("downloadFile",t,e.message)}}}),p=d(),h=d({__skipDomainCheck__:!0}),f=(e={})=>{if("string"!=typeof e.filePath||!e.filePath.startsWith((0,c.WZ)()))return p(e);(0,a.YG)("downloadFile",e,"permission denied")}},8791:(e,t,r)=>{"use strict";r.d(t,{ot:()=>n.o,ac:()=>a.ac,as:()=>o.as,OZ:()=>i.O,aS:()=>c,Co:()=>u,Sv:()=>n.S,WY:()=>a.WY,pR:()=>a.pR,Wb:()=>o.Wb,cT:()=>i.c});var a=r(3778),n=r(9112),i=r(9883),o=r(6789),s=r(4536),l=r(7445),c=(e={})=>{l.cj?(0,s.YG)("addNativeDownloadTask",e,"iOS not supported"):(0,s.IN)("addNativeDownloadTask",e,{})},u=(e={})=>{(0,s.r3)("calRqt",e,{rqt:""})&&(0,s.IN)("calRqt",e)}},5900:(e,t,r)=>{"use strict";r.d(t,{BA:()=>d,Nq:()=>c,f7:()=>l,jO:()=>u});var a=r(4536),n=r(6385),i={},o={},s={},l=(e,t,r)=>{if(s[e])return s[e];var n,o=e&&e.indexOf(":");n=(n=-1!==o?e.slice(0,o):e).toLowerCase();var l=r?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:n}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:n,service_id:t}};return s[e]=(0,a.Qh)(l).then((t=>{delete s[e];var a,{wxa_state:n,ttl:o,hit_cache:l,ip_list:c=[],ip:u}=t.data;a=null!=c&&c.length?c[0]:u;var d=c.slice(1);if(0===n)return i[e]={ip:a,expireTime:1e3*o+Date.now(),candidateIps:d},r?{...i[e],hitCache:l}:i[e];throw new Error(n)})).catch((t=>{if(!r&&("602103"==(null==t?void 0:t.errno)||"602106"==(null==t?void 0:t.errno)||"602107"==(null==t?void 0:t.errno)||"602105"==(null==t?void 0:t.errno)||"602104"==(null==t?void 0:t.errno)))return{__break__:!0,__rawError__:[t]};throw delete s[e],t})),s[e]},c=e=>{var t=i[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null},u=(e,t)=>{var r=o[e];return t?(!r||r!==t)&&(delete o[e],!0):(delete o[e],!1)},d=(e,t)=>{o[e]=t};(0,n.onNetworkStatusChange)((()=>{i={},o={},s={}}))},3691:(e,t,r)=>{"use strict";r.d(t,{Nv:()=>_,gA:()=>m});var a,n=r(3888),i=r.n(n),o=r(9636),s=r(9195),l=r(2100),c=r(4536),u=r(7445),d=!1,p=void 0,h=void 0,f=void 0,g="group_forcecelluarnetwork",v=e=>p=e,m=()=>{!p||a||(0,u.tK)()||(a=!0,y())},y=()=>{var e,{language:t}=(0,s._getSystemInfoSyncFromCache)();switch(t){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}!d&&(d=!0,1)&&(0,o.NT)((()=>{__sclEngine__.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{(0,l.a)({success:e=>{!1===e.authSetting["scope.forceCellularNetwork"]&&v(!1)}})}))}))}))},_=function(){var e=i()((function*(){var e;if(void 0!==p)return p;try{h||(h=(0,c.Qh)({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[g]}})),e=yield h}catch(e){return!1}var t,{auth_item_list:r}=e.data;if(-1!==(t=r.findIndex((e=>e.scope===g)))){var a=r[t];if(0===a.state){yield(f||(f=(0,c.Qh)({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:g,state:1}]}})),f).then((e=>{v(!0)})).catch((e=>{}))}else 2===a.state?v(!1):1===a.state&&v(!0)}return p}));return function(){return e.apply(this,arguments)}}()},3778:(e,r,a)=>{"use strict";a.d(r,{Rg:()=>re,UF:()=>ee,ac:()=>X,jz:()=>te,WY:()=>Z,pR:()=>ae});var n,i,o,s=a(4536),l=a(6342),c=a(4816),u=({url:e,result:t,cost:r,pointCacheType:a,errMsg:n,errno:i,host:o,fullCost:s})=>{var l=[e,t,r,a,n?encodeURIComponent(n):n,i,o,s].join(",");b.reportKeyValue({key:"WeFreeHttpDns",value:l})},d=a(2422),p=a(5900),h=a(6385),g=a(88),v=new RegExp("name_not_resolved","i"),m=(e,t,r)=>!(0,h._checkHasSystemProxy)()&&(!(!(0,g.J)("useFreeHttpDns")||!(e=>v.test(e.errMsg))(e))&&(te(t,r),!0)),y=a(3691),_=a(7445),w=a(406),I=a(2030),S=a(7405),k=a(2417),C=a(6487),T=a(6551),P=!1;l.default.onReady((()=>{var e,t,r,a,s,c,u,d,p,h,f,g,v,m,y;(null!==(e=l.default.appContactInfo)&&void 0!==e&&null!==(t=e.stablePassThroughInfo)&&void 0!==t&&null!==(r=t.wxcloud_gateway_conf)&&void 0!==r&&r.enabled||null!==(a=l.default.appContactInfo)&&void 0!==a&&null!==(s=a.wxcloud_gateway_conf)&&void 0!==s&&s.enabled)&&(P=!0,n=null===(c=l.default.appContactInfo)||void 0===c||null===(u=c.stablePassThroughInfo)||void 0===u?void 0:u.wxcloud_gateway_conf,(i=null===(d=l.default.appContactInfo)||void 0===d||null===(p=d.passThroughInfo)||void 0===p?void 0:p.wxcloud_gateway)&&null!==(h=l.default.appContactInfo)&&void 0!==h&&null!==(f=h.stablePassThroughInfo)&&void 0!==f&&null!==(g=f.wxcloud_gateway_conf)&&void 0!==g&&g.lite_gateway_info&&(o=null===(v=l.default.appContactInfo)||void 0===v||null===(m=v.stablePassThroughInfo)||void 0===m||null===(y=m.wxcloud_gateway_conf)||void 0===y?void 0:y.lite_gateway_info))}));var A=!1;function E({options:e,res:t,task:r}){return A=!0,{args:Object.assign({},e.originArgs,{url:e.accelerateOptions.rawUrl,header:e.accelerateOptions.rawHeader,enableHttp3:e.accelerateOptions.rawEnableHttp3}),innerArgs:{__retryAccelFallback__:!0}}}function M(e){var r,a,s,c,u;try{if(o){var{host:d,args:p,options:h}=e,{accelerateOptions:f,...g}=function(e,{host:r,compatUrls:a,args:o,__retryAccelFallback__:s}){var c,u,d,p,{disableAccelerate:h,url:f,header:g}=o,v=~~(Date.now()/1e3),m=null===(c=i)||void 0===c?void 0:c.auth_info,y=null===(u=i)||void 0===u?void 0:u.user_selected,_=e.forward_info_list,b=null==_?void 0:_.find((e=>e.url_prefixes.find((e=>f.startsWith(e))))),w=t.version,I="any"===(null===(d=n)||void 0===d?void 0:d.env_version)||null===(p=n)||void 0===p?void 0:p.env_version;if(!y||!m||v>m.exp||v-m.iat>86400||I&&l.default.envVersion!==I||h||s||A||(0,T.yC)(w,e.min_lib_version)<0||!b)return s&&(A=!0),{accelerateOptions:{accelerateType:C.JL.none}};var S=n.domain,k=r,P=f.replace(k,S),E=g,M=Object.assign({},E,{"x-wx-lite-gw-token":String(m.token),"x-wx-port":String(b.port),"x-wx-route-tag":String(b.route_tag),"x-wx-rid":String(m.rid)});return{accelerateOptions:{accelerateType:C.JL.liteGatewayAcc},host:S,args:Object.assign({},o,{url:P,header:M,enableHttp3:!0}),compatUrls:Object.assign({},a,{host:S,url:P}),header:M}}(o,{host:d,args:p,compatUrls:e.compatUrls,__retryAccelFallback__:h.__retryAccelFallback__});if(f.accelerateType===C.JL.liteGatewayAcc)return Object.assign({},g,{accelerateOptions:Object.assign({},f,{rawHost:d,rawUrl:p.url,rawHeader:p.header,rawEnableHttp3:p.enableHttp3})})}}catch(e){return}if(P)if(e.host!==n.domain){if(!e.options.__skipDomainCheck__){var v=null===(r=(a=__cloudSDKMain__).getRequestMiddleware)||void 0===r?void 0:r.call(a,l.default)(e.args);return v?new Promise(((e,t)=>v(e,t))):void 0}}else if(null!==(s=e.args.useGatewayIp)&&void 0!==s&&s.enabled&&null!==(c=i)&&void 0!==c&&null!==(u=c.prefetch_ip)&&void 0!==u&&u.ip){var m,y;if(Number(i.prefetch_ip.exp)>~~(Date.now()/1e3))return e.args.useGatewayIp.state=2,{ip:null===(m=i)||void 0===m||null===(y=m.prefetch_ip)||void 0===y?void 0:y.ip,skipDNS:k.Q};e.args.useGatewayIp.state=3}else{var _;!1===(null===(_=e.args.useGatewayIp)||void 0===_?void 0:_.enabled)?e.args.useGatewayIp.state=4:e.args.useGatewayIp&&(e.args.useGatewayIp.state=1)}}var x=0,D=/custom ip is invalid/;(0,c.b)("Request",{maxTaskCount:10,functionName:"request"}),l.default.onReady((()=>{try{"number"==typeof l.default.wxAppInfo.maxRequestConcurrent&&(0,c.b)("Request",{maxTaskCount:l.default.wxAppInfo.maxRequestConcurrent})}catch(e){}}));var R=_.wZ?"clicfg_appbrand_android_control_close_condom_white":"clicfg_appbrand_ios_control_close_condom_white";class L extends c.o{constructor(e){var t=null==e?void 0:e.__wx_inner_uuid__,r=null==e?void 0:e.__wx_inner_invokeTime__,a=null==e?void 0:e.__wx_inner_request_network_type__,n=null==e?void 0:e.__wx_request_route_path__,i=null==e?void 0:e.rawHttpDnsError;null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var o={JSApiType:1,invokeTime:Date.now(),requestingCount:++x,jsApiVersion:0};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:s=>{if(s.profile&&(s.profile.usingHighPerformanceMode=!!s.profile.usingHighPerformanceMode),I.S[e.host]||(I.S[e.host]={needUpdateDns:!1,protocol:e.protocol}),i||e.exception){var c=i||e.exception;s.exception={reasons:c},(null==e?void 0:e.retryCount)>0&&(s.exception.retryCount=e.retryCount)}(0,y.gA)(),e.host&&e.ip&&(0,p.BA)(e.host,e.ip),o.isSuccess=!0,function(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}(s),function(e){e.statusCode=parseInt(e.statusCode,10)}(s),function(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,r)=>(Array.isArray(e.header[r])?t[r]=e.header[r].join(","):"string"==typeof e.header[r]&&(t[r]=e.header[r]),t)),{}))}(s),e.enableHttpDNS&&(s.useHttpDNS=!!e.ip);try{(0,d.Qe)(e,s,{uuid:t,invokeTime:r,dataType:e.dataType,networkType:a,routePath:n})}catch(e){f.error("checkAndReportError error:",e)}if("json"===e.dataType){var h,g=JSON.parse;2===(null===(h=l.default.expt[R])||void 0===h?void 0:h[0])&&(g=w.H),function(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}(s,g)}if(e.__retryHttpDNS__){void 0===s.profile&&(s.profile={});var v=s.profile.domainLookUpStart-s.profile.fetchStart;s.profile.domainLookUpStart=e.lastRequestStartTime,s.profile.fetchStart=e.lastRequestStartTime-v,u({url:e.lastUrl,result:0,fullCost:Date.now()-r,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}var m=e.accelerateOptions.accelerateType;if(s.accelerateType=S.TS[m],m===S.JL.accelerate){if(s.statusCode>=400){var{args:_,innerArgs:b}=(0,S.zp)({options:e,res:s,task:this});return re(_,b),{__retry__:!0}}var k=(0,S.hw)(s);s.accelerateRequestId=k}else if(m===S.JL.liteGatewayAcc&&s.header&&s.header["x-wx-system-error"]){var{args:C,innerArgs:T}=E({options:e,res:s,task:this});return re(C,T),{__retry__:!0}}return N(s,o,e),s},beforeFail(s){var l,c=!1;if(e.enableHttpDNS&&(s.useHttpDNS=!!e.ip),o.isSuccess=!1,N(s,o,e),s.errMsg&&D.test(s.errMsg)){var p=!0,h=Date.now()-e.startTimestamp,g="number"==typeof e.timeout?e.timeout:6e4;if(h>g&&(p=!1),p){var v,y=e.__retryHttpDNS__;if(null!==(v=e.candicateIps)&&void 0!==v&&v.length){var _=e.exception;_||(_=[]),_.push({errno:600001,errmsg:s.errMsg});var b=e.candicateIps[0],w=e.candicateIps.slice(1);return re(e.originArgs,{__innerRequestOptions__:{ip:b,candicateIps:w,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:g-h,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:_,__retryHttpDNS__:y,redirect:e.redirect},__skipParse__:!0}),{__retry__:!0,__httpdns_poll__:!0}}if(e.ip&&!e.__polyfill_ldns__){var I=e.exception;return I||(I=[]),I.push({errno:600001,errmsg:s.errMsg}),re(e.originArgs,{__innerRequestOptions__:{ip:null,candicateIps:null,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:g-h,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:I,__polyfill_ldns__:!0,__retryHttpDNS__:y,redirect:e.redirect}}),{__retry__:!0,__polyfill_ldns__:!0}}}}if(e.accelerateOptions.accelerateType===S.JL.accelerate){var{args:k,innerArgs:C}=(0,S.zp)({options:e,res:s,task:this});return re(k,C),{__retry__:!0}}if(e.accelerateOptions.accelerateType===S.JL.liteGatewayAcc){var{args:T,innerArgs:P}=E({options:e,res:s,task:this});return re(T,P),{__retry__:!0}}if(e.__retryHttpDNS__){var A;u({url:e.lastUrl,result:1,fullCost:Date.now()-r,pointCacheType:e.hitCache,errMsg:s.errMsg,errno:s.errno,host:e.lastHost,cost:null!==(A=e.weHttpDNSCoast)&&void 0!==A?A:-1}),c=e.lastErrorResponse}else{var M,x=e.exception;if(m(s,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:s,lastUrl:e.url,lastHost:e.host,__polyfill_ldns__:!0,retryCount:null!==(M=e.retryCount)&&void 0!==M?M:0,exception:x}))return{__retry__:!0,__freehttpdns__:!0}}try{(0,d.Qe)(e,s,{uuid:t,invokeTime:r,networkType:a,routePath:n})}catch(e){f.error("checkAndReportError error:",e)}(i||e.exception)&&(l={reasons:i||e.exception},(null==e?void 0:e.retryCount)>0&&(l.retryCount=e.retryCount));return c?{__changeError__:{...c,exception:l}}:s}}),this.taskInvoker&&this.taskInvoker.jsapiVersion&&(o.jsApiVersion=this.taskInvoker.jsapiVersion)}}function N(e,t,r){var a=Date.now();if(x--,t.costTime=a-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var n=e.clientInfo;t.wxdataQueueTimestamp=n.invokeTime,t.wxdataDequeueTimestamp=n.invokeTime,t.beginCGITimestamp=n.beginCGITimestamp,t.CGICallbackTimestamp=n.CGICallbackTimestamp,t.wxlibCallbackTimestamp=n.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=a-t.wxlibCallbackTimestamp,r&&r.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo}}const O=L;var B=new WeakMap;class j{constructor(){var e,t=new Promise((t=>{e=t}));B.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=B.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=B.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=B.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=B.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=B.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=B.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=B.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}var F=a(3972),W=a(2900),U=a(4081),G=(a(4500),{}),V=!1;function $({args:{url:e,__wx_inner_invokeTime__:t},host:r,needHttpdns:a=!1,options:{__retryHttpDNS__:n,lastErrorResponse:i,__refuseDns__:o=!1}}){var s,l;if((n||a)&&!o)if((null===(s=G[e])||void 0===s?void 0:s.count)>=4)u({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:r});else if(!(0,h._checkHasSystemProxy)()){if(V){var c=(0,p.Nq)(r);if(c&&!1===c.expired)return l=c.ip,{host:r,ip:l,hitCache:1}}var d=Date.now();return(0,p.f7)(r,void 0,!0).then((e=>{l=e.ip;var t=e.hitCache?2:0,a=Date.now()-d;return{host:r,ip:l,banHttpDNS:!0,weHttpDNSCoast:a,hitCache:t}})).catch((a=>{if(602107!=a.errno){G[e]?G[e].count++:G[e]={count:1};var n=setTimeout((()=>{delete G[e]}),3e4);G[e].cf&&clearTimeout(G[e].cf),G[e].cf=n}throw u({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:a.errMsg||a.message||a.msg,errno:a.errno,host:r}),i}))}}(_.cj||_.wZ)&&(V=!0);var q=({args:e})=>!0!==e.forceCellularNetwork?void(e.forceCellularNetwork&&delete e.forceCellularNetwork):(0,y.Nv)().then((t=>{if(t)return{forceCellularNetwork:!0};e.forceCellularNetwork&&delete e.forceCellularNetwork}));function z({host:e}){var t=(e=>{if(!e)return!1;if("."===e[0])return!0;for(var t,r,a=0;a<e.length;a++){if(r=e[a],"."===t&&"."===r)return!0;t=r}return!1})(e);if(t)throw new Error(`invalid host: ${e}`)}var H=!1;function K({host:e}){var t,r;return H?(null!==(t=I.S[e])&&void 0!==t&&t.needUpdateDns&&(I.S[e].doingDns||(I.S[e].doingDns=!0,re({url:`${I.S[e].protocol}//${e}`,timeout:5e3,complete(){I.S[e].doingDns=!1,I.S[e].needUpdateDns=!1}},{__refuseDns__:!0})),r=!0),{needHttpdns:r}):{needHttpdns:!1}}l.default.onReady((()=>{1===Number(l.default.expt.clicfg_appbrand_ios_dns_polyfill)&&(H=!0)}));class J{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){if(!this.catchFn)return this;var t;try{t=e(this.innerParams,this.asyncTasks)}catch(e){return this.catchFn&&this.catchFn(e),delete this.catchFn,this}if(t)if(t instanceof Promise){var r=t.then((e=>{e&&Object.assign(this.innerParams,e)}));this.asyncTasks.push(r)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.catchFn?(this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this):this}catch(e){return this.catchFn=e,this}execute(e){if(this.asyncTasks.length>0){var t=new j;return Promise.all(this.asyncTasks).then((()=>{var e=this.createRequestTask();((e,t)=>{var{resolve:r}=B.get(e);r(t)})(t,e)})).catch((t=>{this.catchFn&&this.catchFn(t),"frame"!==(null==t?void 0:t.type)?delete this.catchFn:(0,s.FE)({name:"request",args:e,errno:U.YEP,errMsg:t.data,success:!1})})),t}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:r,header:a,method:n,port:i,responseType:o,dataStr:s,options:l,forbidReuse:c,currentRequestStartTime:u,lastRequestStartTime:d,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m,candicateIps:y,startTimestamp:_,timeout:b,protocol:w,compatUrls:I,rawHttpDnsError:k,retryCount:C,exception:T,__polyfill_ldns__:P,accelerateOptions:A}=this.innerParams;try{return new O(Object.assign({},e,{header:a,method:n,responseType:o,data:s,ip:r,host:t,port:i,forbidReuse:c,currentRequestStartTime:u,lastRequestStartTime:d,originArgs:e,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m,__skipDomainCheck__:A.accelerateType===S.JL.accelerate||A.accelerateType===S.JL.liteGatewayAcc||l.__skipDomainCheck__,candicateIps:y,startTimestamp:_,timeout:b,protocol:w,compatUrls:I,rawHttpDnsError:k,retryCount:C,exception:T,__polyfill_ldns__:P,accelerateOptions:A}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var Q=(e={})=>(t={},r={})=>Y(Object.assign({},e,r))(t),Y=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1,__innerRequestOptions__:null,__skipParse__:!1,__refuseDns__:!1,__retryAccelFallback__:!1},e),function(t={}){var r;if(t.url){try{r=(0,S.en)(t.url)}catch(e){return void(0,s.FE)({name:"request",args:t,errno:U.Z9j,errMsg:`invalid url "${t.url}"`,success:!1})}if("http:"===r.protocol||"https:"===r.protocol)if("function"!=typeof t.data){(0,g.J)("skipDomainCheck")&&(e.__skipDomainCheck__=!0);var a=new J({args:t,options:e});if(a.catch((e=>{(0,s.YG)("request",t,e.message||e.errMsg,e.errno)})).use((0,S.JU)(r)).use((({options:e={}})=>e.__skipParse__?{host:e.__innerRequestOptions__.host,protocol:e.__innerRequestOptions__.protocol,compatUrls:e.__innerRequestOptions__.compatUrls}:{host:r.host,protocol:r.protocol,compatUrls:{port:r.port||("http:"===r.protocol?80:443),host:r.hostname,url:`${r.hostname||""}${r.pathname||""}${r.search||""}${r.hash||""}`}})).use(K).use(z).use(S.dG.bind(this)).use(S.S7).use($).use(S.Dk).use(q).use(M).useAfterAsyncTasks(S.rk),a.catchFn)return a.execute(t)}else(0,s.FE)({name:"request",args:t,errno:U.tHd,errMsg:"data should not be Function",success:!1});else(0,s.FE)({name:"request",args:t,errno:U.Z9j,errMsg:`invalid url "${t.url}"`,success:!1})}else(0,s.FE)({name:"request",args:t,errno:U.Wkc,errMsg:`invalid url "${t.url}"`,success:!1})}),Z=Y({__skipDomainCheck__:!1}),X=Y({__skipDomainCheck__:!0}),ee=Y({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),te=Q({__retryHttpDNS__:!0}),re=Q(),ae=function(e={}){var t=(0,F.hI)(this);if((0,W.uC)(t,"useRequest"))return X.call(this,e);(0,s.YG)("request",e,"no permission")}},6487:(e,t,r)=>{"use strict";r.d(t,{JL:()=>p,S7:()=>v,TS:()=>h,hw:()=>f,zp:()=>m});var a=r(9067),n=r(7445),i=r(6342),o=r(4536),s=r(6385),l=r(5310),c=r(5125),u={request_host_list:"requestHostMap",socket_host_list:"socketHostMap"},d={isHitRule:0,enableAcc:0,requestHostMap:{},socketHostMap:{},forceDisableAcc:0},p={none:0,accelerate:1,disable:2,retryAccelFallback:3,forceDisableAcc:4,liteGatewayAcc:5},h={[p.none]:"none",[p.accelerate]:"accelerate",[p.disable]:"disable",[p.retryAccelFallback]:"retryAccelFallback",[p.forceDisableAcc]:"forceDisableAcc",[p.liteGatewayAcc]:"liteGateway"};i.default.onReady((()=>{var e,t,r,a;Date.now();null===i.default||void 0===i.default||null===(e=i.default.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||t.enable_accelerate_network,((null===i.default||void 0===i.default||null===(r=i.default.appContactInfo)||void 0===r||null===(a=r.passThroughInfo)||void 0===a?void 0:a.enable_accelerate_network)||!1)&&(0,o.yD)({apiName:"webapi_get_oversea_accelerate_info",reqData:{},success:e=>{Date.now();var t=e.data.is_region_hit_rule,r=e.data.enable_acc;Object.assign(d,{isHitRule:t,enableAcc:r}),1===r&&Object.keys(u).forEach((t=>{(e.data[t]||[]).forEach((e=>{d[u[t]][e.host]=e.acc_host}))}))},fail:e=>{}})}));var f=e=>{var t;return(null==e||null===(t=e.header)||void 0===t?void 0:t["EO-LOG-UUID"])||""},g=({host:e,hostMap:t,compatUrls:r,args:a,__retryAccelFallback__:n,__AccelFailReqId__:i})=>{var{disableAccelerate:o,url:s}=a,l=t[e],{disable:c,accelerate:u,retryAccelFallback:h,none:f,forceDisableAcc:g}=p;if(o||n||0===d.enableAcc||1===d.forceDisableAcc||!l){var v=f;return l&&(o?v=c:n?(v=h,d.forceDisableAcc=1):1===d.forceDisableAcc&&(v=g)),{accelerateOptions:Object.assign({accelerateType:v},i?{__AccelFailReqId__:i}:{})}}var m=s,y=e,_=m.replace(y,l);return{accelerateOptions:{accelerateType:u},host:l,args:Object.assign({},a,{url:_}),compatUrls:Object.assign({},r,{host:l,url:_})}};function v(e){var{host:t,args:r,compatUrls:a,options:n}=e,{requestHostMap:i,isHitRule:o}=d,{accelerateOptions:s,...l}=g({host:t,compatUrls:a,hostMap:i,args:r,__retryAccelFallback__:n.__retryAccelFallback__,__AccelFailReqId__:n.__AccelFailReqId__});return Object.assign({},l,{accelerateOptions:Object.assign({},s,{isHitRule:o,rawHost:t,rawUrl:r.url})})}var m=({options:e,res:t,task:r})=>{var i=f(t)||r.uniqueId,{isHitRule:o,rawUrl:u,rawHost:d,accelerateType:p}=e.accelerateOptions,h=e.originArgs.url,g=e.host,{profile:v,statusCode:m,errno:y,errMsg:_}=t,{domainLookUpStart:w,domainLookUpEnd:I,connectStart:S,connectEnd:k,SSLconnectionStart:C,SSLconnectionEnd:T,requestStart:P,requestEnd:A,responseStart:E,responseEnd:M,socketReused:x,peerIP:D}=v||{};return b.reportKeyValue({key:"AccelerateNetwork",value:["request",encodeURIComponent(u.substring(0,1024)),encodeURIComponent(h.substring(0,1024)),d,g,2,Date.now()-e.currentRequestStartTime,_,b.getAppType(),m,0,(0,s._getCurrentNetworkType)(),0,(0,a.Xl)(v||{}),(0,n.aI)()?l.Z.scene:c.Z.scene,y,o,p,i,I-w,k-S,T-C,A-P,M-E,x,D].join(",")}),delete e.accelerateOptions,e.originArgs.url=u,{args:e.originArgs,innerArgs:{__retryAccelFallback__:!0,__AccelFailReqId__:i}}}},4683:(e,t,r)=>{"use strict";r.d(t,{r:()=>l,x:()=>s});var a=r(6142),n=r(6385),i=r(5900),o=r(2417);function s({args:e={},host:t,skipDNS:r,banHttpDNS:s,options:l={}}){var c,u;if(r!==o.Q&&!s){var d,p,{enableHttpDNS:h,httpDNSServiceId:f}=e;if(null!=l&&null!==(c=l.__innerRequestOptions__)&&void 0!==c&&c.ip)return{host:t,ip:l.__innerRequestOptions__.ip,candicateIps:null===(p=l.__innerRequestOptions__)||void 0===p?void 0:p.candicateIps};if(null===(null==l||null===(u=l.__innerRequestOptions__)||void 0===u?void 0:u.ip))return{};if(!(0,n._checkHasSystemProxy)()){if(!0===h&&(0,a.HD)(f)){var g=(0,i.Nq)(t);return g&&!1===g.expired?(d=g.ip,{host:t,ip:d}):(0,i.f7)(t,f).then((e=>{if(d=e.ip,e.__break__)return{rawHttpDnsError:e.__rawError__,retryCount:l.retryCount?l.retryCount+1:1};var r=e.candidateIps;return{host:t,ip:d,candicateIps:r}}))}return!0===h?Promise.reject(new Error("invalid httpDNSServiceId")):void 0}}}function l({host:e,ip:t,compatUrls:r}){var a=(0,i.jO)(e,t);return t?{port:r.port,host:r.host,url:r.url,forbidReuse:a}:{forbidReuse:a}}},7405:(e,t,r)=>{"use strict";r.d(t,{S7:()=>m.S7,JL:()=>m.JL,TS:()=>m.TS,rk:()=>y.r,zp:()=>m.zp,hw:()=>m.hw,en:()=>p,Dk:()=>y.x,dG:()=>v,JU:()=>i});var a=r(9105),n=r(6347);function i(e){return function({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:r,lastRequestStartTime:i,lastUrl:o,lastHost:s,lastErrorResponse:l,__innerRequestOptions__:c,__polyfill_ldns__:u,retryCount:d,exception:p}={}}){var h,f;!t&&null!=c&&c.__retryHttpDNS__&&(t=!0),e.header?(f=(0,a.Em)(e.header),e.header=(0,a.Nf)(e.header)):(h=!0,f="Undefined",e.header={}),"Undefined"!==f&&"Object"!==f&&(console.warn("wx.request: header must be an object"),e.header={}),h||(e.header=Object.keys(e.header).reduce(((t,r)=>{var a=r.toLowerCase();return"content-type"===a?t[a]=e.header[r]:t[r]=e.header[r],t}),{}));var g="text";e.responseType&&(g=e.responseType.toLowerCase());var v,m=e.header,y="GET";if("string"==typeof e.method&&(y=e.method.toUpperCase()),e.dataType=e.dataType||"json",r||(m["content-type"]=m["content-type"]||"application/json"),v=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==(0,a.Em)(e.data)?m["content-type"].indexOf("application/x-www-form-urlencoded")>-1?(0,n.HR)(e.data,!0):m["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):v.toString():e.data,"GET"===y&&e.data){var _=(0,n.cE)(e.url,e.data);e.url=_}var b=null!=c&&c.timeout?c.timeout:e.timeout,w=null!=c&&c.retryCount?c.retryCount:0;w||(w=null!=d?d:0);var I=null!=c&&c.exception?c.exception:null;I||(I=p);var S=(null==c?void 0:c.__polyfill_ldns__)||u;return{header:m,method:y,responseType:g,dataStr:v,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:i,lastHost:s,lastUrl:o,__retryHttpDNS__:t,lastErrorResponse:l,startTimestamp:Date.now(),timeout:b,retryCount:w,exception:I,__polyfill_ldns__:S}}}var o,s=r(2517),l=Symbol("pre"),c=Symbol("next"),u=Symbol("key");class d{constructor(e){if(!("number"==typeof e&&e>0))throw new Error("DoubleLinkedListLRUStore constructor params maxCacheLength must be number");this.cacheMap={},this.cacheHead=void 0,this.cacheTail=void 0,this.cacheLength=0,this.maxCacheLength=e}getCache(e){if(this.cacheMap[e])return this.cacheMap[e]}updateCache(e){var t=e[l],r=e[c];t&&r?(t[c]=r,r[l]=t,this.cacheTail[c]=e,e[l]=this.cacheTail,e[c]=null,this.cacheTail=e):t||r&&(r[l]=null,this.cacheHead=r,this.cacheTail[c]=e,e[l]=this.cacheTail,e[c]=null,this.cacheTail=e)}insertCache(e,t){if(t[u]=e,this.cacheTail?(t[c]=null,t[l]=this.cacheTail,this.cacheTail[c]=t,this.cacheTail=t):(this.cacheTail=t,t[c]=null,this.cacheHead=t,t[l]=null),this.cacheMap[e]=t,this.cacheLength>=this.maxCacheLength){delete this.cacheMap[this.cacheHead[u]];var r=this.cacheHead[c];r[l]=null,this.cacheHead[c]=null,this.cacheHead[l]=null,this.cacheHead=r}else this.cacheLength++}removeOldestCache(){if(this.cacheTail){var e=[this.cacheHead[u],this.cacheMap[this.cacheHead[u]]];delete this.cacheMap[this.cacheHead[u]];var t=this.cacheHead[c];return t[l]=null,this.cacheHead[l]=null,this.cacheHead[c]=null,this.cacheHead=t,this.cacheLength--,e}}removeCache(e){var t=this.getCache(e);t&&(t===this.cacheHead?(this.cacheHead=t[c],this.cacheHead&&(this.cacheHead[l]=null)):t===this.cacheTail?(this.cacheTail=t[l],this.cacheTail&&(this.cacheTail[c]=null)):(t[l][c]=t[c],t[c][l]=t[l],t[u][l]=null,t[u][c]=null),delete this.cacheMap[t[u]],this.cacheLength--)}}function p(e){o||(o=new d(50));var t,r=o.getCache(e);return r?(o.updateCache(r),r):((t="function"==typeof URL?new URL(e):(0,s.Qc)(e)).origin||(t.origin=(t.protocol||"")+"//"+(t.host||"")),o.insertCache(e,t),t)}var h=r(2900),f=r(3972),g=r(2417),v=function({args:e={}}){var{ip:t}=e;if(t){var r=(0,f.hI)(this);return r&&(0,h.uC)(r,"skipDNSRequest")?{skipDNS:g.Q,ip:e.ip}:{}}},m=r(6487),y=r(4683)},2417:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var a=Symbol("skipDNS")},6789:(e,t,r)=>{"use strict";r.d(t,{as:()=>Z,Wb:()=>Y});var a,n=r(1351),i=r.n(n),o=r(5436),s=r(3140),l=r(9806),c=r(6142),u=r(4536),d=r(8929),p=r(3691),h=0,g=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,b={},w=new o.Q;(0,u.jQ)("onSocketTaskStateChange",((e={})=>{var{state:t,socketTaskId:r}=e,a=b[r];if(a){var n=g.get(a);if(delete e.state,delete e.socketTaskId,a){if("open"===t){(0,p.gA)(),a.readyState=a.OPEN;var i=m.get(a).url,o=Date.now()-y.get(a),l=e.statusCode,c=m.get(a).__skipDomainCheck__,u=e.profile;(0,s.P5)({functionName:"connectSocket",keyParam:i,result:1,costTime:o,errorMsg:"",statusCode:l,__skipDomainCheck__:c,dataLength:0,responseDataLength:0,profile:u,queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0})}else"close"!==t&&"error"!==t||(a.readyState=a.CLOSED);w.emit(`${n}${t}`,e),w.emit(`onSocket${t[0].toUpperCase()+t.substr(1)}`,e,a),"close"===t&&(delete b[r],w.removeAllListeners(`${n}open`),w.removeAllListeners(`${n}close`),w.removeAllListeners(`${n}error`),w.removeAllListeners(`${n}message`))}}}));var I=function(e,t){w.on(`${g.get(this)}${e}`,_.surroundThirdByTryCatch(t,`at socketTask.on${e} callback function`))},S=(a=class{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0});var a,n=h++;g.set(this,n),m.set(this,t),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((e=>{"function"==typeof t[e]&&(t[e]=_.surroundThirdByTryCatch(t[e],`at api connectSocket ${e} callback function`))})),y.set(this,Date.now()),(0,c.hj)(t.timeout)||(t.timeout=0);var i=t.forceCellularNetwork,o=()=>{var e={...t,forceCellular:i};(0,u.IN)("createSocketTask",e,{beforeAll(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:e=>{v.set(this,e.socketTaskId),b[e.socketTaskId]=this},beforeFail:e=>{var r=t.url,n=Date.now()-y.get(this),i=t.__skipDomainCheck__;a=e.errMsg,(0,s.P5)({functionName:"connectSocket",keyParam:r,result:2,costTime:n,errorMsg:a,statusCode:"",__skipDomainCheck__:i,dataLength:0,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:e.errno,queueLength:0})}}),a&&(this.readyState=this.CLOSED,setTimeout((()=>{w.emit(`${n}error`,{errMsg:a})}),0))},l=()=>{(0,c.mf)(t.customCheck)?t.customCheck(t,(e=>{e?((0,u.YG)("connectSocket",t,e),this.readyState=this.CLOSED,setTimeout((()=>{w.emit(`${n}error`,{errMsg:e})}),0)):o()})):o()};i?"boolean"!=typeof i?(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof i),i=!1,l()):(0,p.Nv)().then((e=>{e||(i=!1),l()})):l()}send(e){if(this.readyState===this.OPEN){var t=Date.now();(0,u.IN)("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:v.get(this)}),{beforeAll:r=>{if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),Math.random()>.99){var a=m.get(this).url,n=r.errMsg.indexOf("ok")>-1?1:2,i=Date.now()-t,o=r.errMsg,c=m.get(this).__skipDomainCheck__,u=(0,l.Y6)(e.data);(0,s.P5)({functionName:"sendSocketMessage",keyParam:a,result:n,costTime:i,errorMsg:o,statusCode:"",__skipDomainCheck__:c,dataLength:u,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0})}}})}else(0,u.YG)("SocketTask.send",e,"SocketTask.readyState is not OPEN")}close(e={}){(0,u.IN)("operateSocketTask",Object.assign({code:1e3},e,{operationType:"close",socketTaskId:v.get(this)}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}onOpen(e){I.call(this,"open",e)}onClose(e){I.call(this,"close",e)}onMessage(e){I.call(this,"message",e)}onError(e){I.call(this,"error",e)}},i()(a.prototype,"send",[d.Qu],Object.getOwnPropertyDescriptor(a.prototype,"send"),a.prototype),i()(a.prototype,"close",[d.Qu],Object.getOwnPropertyDescriptor(a.prototype,"close"),a.prototype),a),k=r(1399),C=r(9619),T=r(6342),P=(e,t)=>(0,u.ZI)(e,`WSS.${t}`),A=5;T.default.onReady((()=>{T.default.wxAppInfo&&T.default.wxAppInfo.maxWebsocketConnect&&(A=T.default.wxAppInfo.maxWebsocketConnect)}));var E=new WeakMap,M=new WeakMap,x=new WeakMap,D={},R=new o.Q,L=0,N=0;function O(e,t,r){t.errMsg=t.errMsg||"ok";var a="ok"===t.errMsg;(0,u.FE)({name:e,args:r,success:a,errMsg:t.errMsg})}class B{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1});var a=k.Z.WSS,n=L++,i=t.workerId?new a(t.workerId):new a;delete t.workerId,E.set(this,t),M.set(this,i),x.set(this,n);var o=Date.now();i.onopen=P(((e,r)=>{this.readyState!==this.CLOSED&&((0,p.gA)(),N++,this.readyState=this.OPEN,R.emit(`${n}open`,{header:e,profile:r}),R.emit("onSocketOpen",{header:e,profile:r},this),(0,s.P5)({functionName:"connectSocket",keyParam:t.url,result:1,costTime:Date.now()-o,errorMsg:"",statusCode:"",__skipDomainCheck__:t.__skipDomainCheck__,dataLength:0,responseDataLength:0,profile:r,queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0}))}),"onopen"),i.onclose=P(((e,t)=>{N--,this.readyState=this.CLOSED,R.emit(`${n}close`,{code:e,reason:t}),R.emit("onSocketClose",{code:e,reason:t},this)}),"onclose"),i.onmessage=P((e=>{this.readyState!==this.CLOSED&&((0,c.eP)(e)&&(e.__proto__=ArrayBuffer.prototype),R.emit(`${n}message`,{data:e}),R.emit("onSocketMessage",{data:e},this))}),"onmessage"),i.onerror=P(((e,t)=>{N--,this.readyState=this.CLOSED,setTimeout((()=>{R.emit(`${n}error`,{errCode:e,errMsg:t}),R.emit("onSocketError",{errCode:e,errMsg:t},this)}),0)}),"onerror");var u=()=>{var e={errMsg:""};if(N>=A)this.readyState=this.CLOSED,e.errMsg=`fail reach max websocket connect count ${A}`;else{var r=(0,l.v7)(t,["url","header","timeout","protocols","tcpNoDelay","perMessageDeflate","enableProfile","forceCellularNetwork"]);r.forceCellularNetwork&&"boolean"==typeof r.forceCellularNetwork?(0,p.Nv)().then((a=>{a&&(r.forceCellular=!0),r.forceCellularNetwork=void 0,e.errMsg=i.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(D[n]=this),O("connectSocket",e,t)})):(r.forceCellularNetwork&&"boolean"!=typeof r.forceCellularNetwork&&(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=void 0),e.errMsg=i.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(D[n]=this),O("connectSocket",e,t))}};(0,c.mf)(t.customCheck)?t.customCheck(t,(e=>{e?O("connectSocket",{errMsg:e},t):u()})):(u(),(0,C.k)({api:"websocket",url:t.url}).then((e=>{if(t.url,!(t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost))throw new Error("fail:url not in domain list")})).catch((e=>{this.readyState=this.CLOSED;var t=e.message||e.errMsg;R.emit(`${n}error`,{errMsg:t}),R.emit("onSocketError",{errMsg:t},this)})))}send(e={}){var t={errMsg:M.get(this).send(e.data)};(e.success||e.fail||e.complete)&&O("sendSocketMessage",t,e)}close(e={}){this.readyState,O("closeSocket",{errMsg:M.get(this).close((0,c.hj)(e.code)?e.code:1e3,e.reason)},e)}onOpen(e){R.on(`${x.get(this)}open`,_.surroundThirdByTryCatch(e,"at socketTask.onOpen callback function"))}onClose(e){R.on(`${x.get(this)}close`,_.surroundThirdByTryCatch(e,"at socketTask.onClose callback function"))}onMessage(e){R.on(`${x.get(this)}message`,_.surroundThirdByTryCatch(e,"at socketTask.onMessage callback function"))}onError(e){R.on(`${x.get(this)}error`,_.surroundThirdByTryCatch(e,"at socketTask.onError callback function"))}}var j=r(7445),F=r(4500),W=r(88),U=r(5133),G=r(9105),V=r(6347),$=S,q=b;r.g.__isAppServiceRemoteDebugMode__||(0,k.a)((e=>{e.WSS&&T.default.onReady((()=>{var t=!1,r=j.cj?"clicfg_appbrand_ios_native_socket_wcwss_new":1;1===r?t=!0:(0,F.b)({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(t=!0)}});var a=(0,W.J)("bindingWebSocket");t||a||e.WSS.force?($=B,q=D,(0,U.Tk)(/^connectSocket/,2),f.info(`binding socket, abtest: ${t}, permission: ${a}`)):f.info(`jsapi socket, abtest: ${t}, permission: ${a}`)}))}));var z=new WeakMap,H={};function K(e,t){return H[t]||(H[t]=new WeakMap,w.on(`onSocket${t}`,J(t)),R.on(`onSocket${t}`,J(t))),function(r){(0,u.r3)(`onSocket${t}`,r,c.ZT)&&H[t].set(e,r)}}function J(e){return function(t,r){var a=r.__socketInstance__,n=H[e].get(a),i=z.get(a);n&&r===i&&_.surroundThirdByTryCatch(n,`at onSocket${e} callback function`)(t)}}var Q=(e={})=>{e=Object.assign({__skipDomainCheck__:!1},e);var t={};return{connectSocket(r){r=Object.assign({},r,{url:`${r.url}`});var{workerId:a}=r;if(delete r.workerId,(0,u.r3)("connectSocket",r,{url:""}))if(!1!==(0,V.mQ)(r.url,"websocket")){"object"!=typeof r.header&&void 0!==r.header&&delete r.header;var n={};r.header&&(n=(0,G.Nf)(r.header)),r.__skipDomainCheck__=e.__skipDomainCheck__,(0,W.J)("skipDomainCheck_socket")&&(r.__skipDomainCheck__=!0);try{var i=z.get(t),o=new $(t,Object.assign({},r,{header:n,...a?{workerId:a}:{}}));return i&&i.readyState!==i.CLOSED?i.readyState:z.set(t,o),o}catch(e){return e.message,void(0,u.YG)("connectSocket",r,e.message)}}else(0,u.YG)("connectSocket",r,`invalid url "${r.url}"`)},closeSocket(e){var r=z.get(t);for(var a in r&&r.readyState!==r.CLOSED?(r.readyState=r.CLOSED,r.close(e)):(0,u.YG)("closeSocket",e,"WebSocket is not connected"),q){var n=q[a];n.__socketInstance__===t&&(n.readyState=n.CLOSED,n!==r&&n.close())}},sendSocketMessage(e){var r=z.get(t);r&&r.readyState===r.OPEN?r.send(e):(0,u.YG)("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:K(t,"Open"),onSocketClose:K(t,"Close"),onSocketMessage:K(t,"Message"),onSocketError:K(t,"Error")}},Y=Q(),Z=()=>Q({__skipDomainCheck__:!0})},4816:(e,t,r)=>{"use strict";r.d(t,{o:()=>ve,b:()=>Ce});var a=r(4536),n=r(3140),i=r(5436),s=r(9806),l=r(6142),c=r(5340);var u=r(4317),d=r(2030),p=r(6335),h=r(7445),g=r(1399);class v{constructor(){}createTask(e){throw new Error("not impl")}onTaskStateChange(e){throw new Error("not impl")}operate(){throw new Error("not impl")}}var m=new i.Q("RequestTaskJsBindingInvoker"),y={},_=e=>"Binding"+e,b=(e,t)=>(0,a.ZI)(e,`RequestTask.${t}`);var w=e=>{delete y[_(e.id)]};function I(e){var t=this.responseInfo;Object.assign(t,e),m.emit("stateChange",{requestTaskId:_(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function S(e){this.responseInfo.data=e}function k(e){m.emit("stateChange",{requestTaskId:_(this.id),state:"chunked",data:e.data})}function C(e){m.emit("stateChange",{requestTaskId:_(this.id),state:"progressUpdate",type:e.type,totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function T(e={}){var t=this.responseInfo;t.header=e.header,t.statusCode=e.statusCode,m.emit("stateChange",{requestTaskId:_(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function P(e={}){var t=this.responseInfo,r={requestTaskId:_(this.id),state:"success",header:t.header,data:t.data,statusCode:t.statusCode,clientInfo:e.clientInfo};r.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),r.clientInfo=this.__mockClientInfo),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),void 0===r.data&&"text"===this.invokeArgs.responseType&&(r.data=""),m.emit("stateChange",r),w(this)}function A(e){e.errno;var t={requestTaskId:_(this.id),state:"fail",clientInfo:e.clientInfo,errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};t.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),t.clientInfo=this.__mockClientInfo),m.emit("stateChange",t),w(this)}var E=(e,t)=>(0,a.ZI)(e,`DownloadTask.${t}`),M=new i.Q("DownloadTaskJsBindingInvoker"),x={};var D=e=>{delete x[e.id]};function R(e){var t=this.responseInfo;Object.assign(t,e),M.emit("stateChange",{downloadTaskId:this.id,state:"headersReceived",header:e.header,cookies:e.cookies||{}})}function L(e){M.emit("stateChange",{downloadTaskId:this.id,state:"progressUpdate",totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,progress:e.progress})}function N(e={}){var t=this.responseInfo,r={downloadTaskId:this.id,state:"success",header:t.header,dataLength:e.dataLength,statusCode:t.statusCode};e.clientInfo&&(r.clientInfo=e.clientInfo),e.tempFilePath&&(r.tempFilePath=e.tempFilePath),e.filePath&&(r.filePath=e.filePath),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),M.emit("stateChange",r),D(this)}function O(e){e.errno;var t={downloadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),M.emit("stateChange",t),D(this)}var B=(e,t)=>(0,a.ZI)(e,`UploadTask.${t}`),j=new i.Q("UploadTaskJsBindingInvoker"),F={};var W=e=>{delete F[e.id]};function U(e){var t=this.responseInfo;Object.assign(t,e),j.emit("stateChange",{uploadTaskId:this.id,state:"headersReceived",header:e.header})}function G(e){j.emit("stateChange",{uploadTaskId:this.id,state:"progressUpdate",progress:e.progress,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function V(e={}){var t=this.responseInfo,r={uploadTaskId:this.id,state:"success",header:t.header,data:e.data,statusCode:t.statusCode};e.clientInfo&&(r.clientInfo=e.clientInfo),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),j.emit("stateChange",r),W(this)}function $(e){e.errno;var t={uploadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),j.emit("stateChange",t),W(this)}var q={Request:{jsBinding:new class extends v{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:a,enableHttp2:n,enableHttp3:i}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||i?e.protocol="h3":n&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,g.Z.RequestTask)(e);y[_(s.id)]=s;var l=Date.now();s.__mockClientInfo={invokeTime:l,beginCGITimestamp:l,CGICallbackTimestamp:l,wxlibCallbackTimestamp:l};s.responseInfo={},s.invokeArgs=e,s.onDataReceived=b(S,"onDataReceived"),s.onSucceeded=b(P,"onSucceeded"),s.onFailed=b(A,"onFailed"),s.onResponseStarted=b(I,"onResponseStarted"),s.onRedirectReceived=b(T,"onRedirectReceived"),s.operate({operationType:"request"});var c={requestTaskId:_(s.id),errMsg:"createRequestTask:ok"};r(c),a(c)}onTaskStateChange(e){m.off("stateChange"),m.on("stateChange",e)}operate(e){var{operationType:t}=e,r=y[e.requestTaskId];e.requestTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){var r=y[t];r&&("progressUpdate"===e?r.onProgressUpdate=b(C,"onProgressUpdate"):"headersReceived"===e||"chunked"===e&&(r.onChunkedDataReceived=b(k,"onChunkedDataReceived")))}stopListenTaskStateChange({stateName:e,taskId:t}){var r=y[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e?(r.onResponseStarted=null,r.onRedirectReceived=null):"chunked"===e&&(r.onChunkedDataReceived=null))}}},Download:{jsBinding:new class extends v{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:a,enableHttp2:n,enableHttp3:i}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||i?e.protocol="h3":n&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,g.Z.DownloadTask)(e);x[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=E(N,"onSucceeded"),s.onFailed=E(O,"onFailed"),s.onResponseStarted=E(R,"onResponseStarted"),s.operate({operationType:"download"});var l={downloadTaskId:s.id,errMsg:"createDownloadTask:ok"};r(l),a(l)}onTaskStateChange(e){M.off("stateChange"),M.on("stateChange",e)}operate(e){var{operationType:t}=e,r=x[e.downloadTaskId];e.downloadTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){var r=x[t];r&&"progressUpdate"===e&&(r.onProgressUpdate=E(L,"onProgressUpdate"))}stopListenTaskStateChange({stateName:e,taskId:t}){var r=x[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e&&(r.onResponseStarted=null))}}},Upload:{jsBinding:new class extends v{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:a,enableHttp2:n,enableHttp3:i}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||i?e.protocol="h3":n&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,g.Z.UploadTask)(e);F[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=B(V,"onSucceeded"),s.onFailed=B($,"onFailed"),s.onResponseStarted=B(U,"onResponseStarted"),s.operate({operationType:"upload"});var l={uploadTaskId:s.id,errMsg:"createUploadTask:ok"};r(l),a(l)}onTaskStateChange(e){j.off("stateChange"),j.on("stateChange",e)}operate(e){var{operationType:t}=e,r=F[e.uploadTaskId];e.uploadTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){var r=F[t];r&&"progressUpdate"===e&&(r.onProgressUpdate=B(G,"onProgressUpdate"))}stopListenTaskStateChange({stateName:e,taskId:t}){var r=F[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e&&(r.onResponseStarted=null))}}}},z=(e,t)=>"Request"===e&&g.Z.RequestTask&&(t.useHighPerformanceMode||(e=>!(!h.wZ||e.enableHttpDNS))(t))?q.Request.jsBinding:"Download"===e&&g.Z.DownloadTask&&(t.useHighPerformanceMode||(e=>!(!h.wZ||e.enableHttpDNS))(t))?q.Download.jsBinding:"Upload"===e&&g.Z.UploadTask&&(t.useHighPerformanceMode||(e=>!(!h.wZ||e.enableHttpDNS))(t))?q.Upload.jsBinding:void 0,H=(e,t)=>{if(q[e]){var r=q[e];Object.keys(r).forEach((e=>{r[e].onTaskStateChange((e=>{t(e)}))}))}},K=r(7405),J=!1,Q=(0,s.Fr)(c.lz),Y=0,Z=new WeakMap,X=new WeakMap,ee=new WeakMap,te=new WeakMap,re=new WeakMap,ae=new WeakMap,ne=new WeakMap,ie=new WeakMap,oe=new WeakMap,se=new WeakMap,le=new WeakMap,ce={},ue=new i.Q("Network",!0),de=f.createLogger("NetworkTask"),pe=new WeakMap,he={},fe=new WeakMap,ge=new WeakMap;class ve{constructor(e,{taskType:t,beforeSend:r,beforeSuccess:a,beforeFail:n}){var i,o,s=Y++;if(this.uniqueId=(0,p.M8)(),Z.set(this,s),ee.set(this,"waiting"),te.set(this,e),re.set(this,t),ie.set(this,r),oe.set(this,a),(0,l.mf)(n)&&se.set(this,n),this.taskInvoker=z(t,e),!this.taskInvoker){var c=!1;((0,d.N)(t)||(h.cj||h.wZ)&&e.forceCellularNetwork)&&(c=!0),le.set(this,c)}var f=new u.Q(((e,t)=>{i=e,o=t}));pe.set(this,{promise:f,resolve:i,reject:o});var g=()=>{Se.call(this)?(ne.set(this,[Date.now()]),ce[t].taskQueue.push({id:s,item:this})):ye.call(this)};(0,l.mf)(e.customCheck)?e.customCheck(e,(r=>{r?me(t,e,r):g()})):g()}abort(){if(de.info(`[${re.get(this)}][${Z.get(this)}]abort()`),"waiting"===ee.get(this)){de.info(`[${re.get(this)}][${Z.get(this)}] waiting=true`);var e=ce[re.get(this)].taskQueue.findIndex((e=>e.id===Z.get(this)));e>-1&&(ce[re.get(this)].taskQueue.splice(e,1),(0,a.YG)(ce[re.get(this)].functionName,te.get(this),"abort")),ee.set(this,"done")}else{var t=pe.get(this).promise,r=te.get(this);t.then((()=>{var e={[`${re.get(this).toLowerCase()}TaskId`]:X.get(this),operationType:"abort",contextId:r.contextId};this.taskInvoker?this.taskInvoker.operate(e):(0,a.IN)(`operate${re.get(this)}Task`,e)}))}}onProgressUpdate(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=re.get(this);ue.on(`${r}${t}progressUpdate`,e),1===ue.getListenersLength(`${r}${t}progressUpdate`)&&Te.call(this,r,"progressUpdate",t)}))}offProgressUpdate(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=re.get(this);ue.off(`${r}${t}progressUpdate`,e),ue.getListenersLength(`${r}${t}progressUpdate`)||Pe.call(this,r,"progressUpdate",t)}))}onHeadersReceived(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=re.get(this);ue.on(`${r}${t}headersReceived`,e),1===ue.getListenersLength(`${r}${t}headersReceived`)&&Te.call(this,r,"headersReceived",t)}))}offHeadersReceived(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=re.get(this);ue.off(`${r}${t}headersReceived`,e),ue.getListenersLength(`${r}${t}headersReceived`)||Pe.call(this,r,"headersReceived",t)}))}onChunkReceived(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=re.get(this);ue.on(`${r}${t}chunked`,e),"Request"===r&&1===ue.getListenersLength(`${r}${t}chunked`)&&Te.call(this,r,"chunked",t)}))}offChunkReceived(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=re.get(this);ue.off(`${r}${t}chunked`,e),"Request"!==r||ue.getListenersLength(`${r}${t}chunked`)||Pe.call(this,r,"chunked",t)}))}}function me(e,t,r,n){r=String(r).replace("createCellularNetworkRequestTaskAsync:fail ","");var i={name:ce[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:r};"number"==typeof n&&(i.errno=n),(0,a.FE)(i)}function ye(){var e=te.get(this),t=re.get(this),r=le.get(this);ee.set(this,"sending"),ae.set(this,Date.now());var{errMsg:a,errno:i}=_e.call(this);r?pe.get(this).promise.then((()=>{be.call(this)})).catch((({errMsg:r,errno:a})=>{me(t,e,r,a)})):a?me(t,e,a,i):X.get(this)?be.call(this):pe.get(this).promise.then((()=>{be.call(this)}));setTimeout((()=>{(0,n.P5)({functionName:ce[t].functionName,keyParam:e.url,result:null,costTime:0,errorMsg:"",statusCode:null,__skipDomainCheck__:e.__skipDomainCheck__,dataLength:null,responseDataLength:null,profile:{},queueTime:null,extraData:{},uniqueId:this.uniqueId,isAsync:!1,errno:null,queueLength:0,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0})}),0)}function _e(){var e,t,r=re.get(this),n=te.get(this);ce[r].currentTaskCount++;var i={data:n.data,url:n.url,header:n.header,method:n.method,timeout:"number"==typeof n.timeout?n.timeout:0,enableHttp2:!0===n.enableHttp2,enableHttp3:!0===n.enableHttp3,enableQuic:!0===n.enableQuic,enableCache:!0===n.enableCache,enableProfile:!1!==n.enableProfile,ip:n.ip,port:n.port,forbidReuse:!0===n.forbidReuse,host:n.host,enableChunked:n.enableChunked,__skipDomainCheck__:n.__skipDomainCheck__,forceCellular:n.forceCellularNetwork,contextId:n.contextId,redirect:n.redirect,success:e=>{var t=e[`${r.toLowerCase()}TaskId`];X.set(this,t),ce[r].taskIdMap[t]=this;var a=pe.get(this).resolve,n=pe.get(this).promise;a(),n.then((()=>{he[t]&&"wait"===he[t].status?he[t].handlers.forEach((e=>e())):he[t]={status:"normal"}}))},fail:a=>{ce[r].currentTaskCount--;var i=a[`${r.toLowerCase()}TaskId`];e=a.errMsg,t=a.errno,we.call(this,{taskType:r,options:n,errMsg:e,success:!1,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0}),(0,pe.get(this).reject)({errMsg:e,errno:t}),de.error(`[${r}][createTask][Fail] taskId=${i}`),he[i]&&"wait"===he[i].status&&delete he[i]},complete:()=>{ee.set(this,"done")}},s=le.get(this),l=`create${r}Task${s?"Async":""}`;(h.cj||h.wZ)&&n.forceCellularNetwork&&(l="createCellularNetworkRequestTaskAsync");var c={};"[object ArrayBuffer]"!==Object.prototype.toString.call(n.data)&&(c.notPack=!0);var u=ie.get(this)(i);return"createRequestTaskAsync"===l&&h.cj&&J&&(l="createRequestTaskRealAsync"),this.taskInvoker?this.taskInvoker.createTask(u,n):"Request"!==r||h.gm||h.DD||o.env.isMagicBrushFrameEnv?(0,a.IN)(l,u):(0,a.NJ)(l,u,c),{errMsg:e,errno:t}}function be(){var e=X.get(this),t=te.get(this),r=re.get(this),n=ce[r].functionName;ue.on(`${r}${e}success`,(e=>{var r=oe.get(this).call(this,e);null!=r&&r.__retry__||(0,a.FE)({name:n,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),ue.on(`${r}${e}fail`,(e=>{var r=se.get(this),i=r&&r.call(this,e);if(null!=i&&i.__retry__)f.info(`httpDns we retry url: ${t.url}`);else{i&&i.__changeError__&&(e=i.__changeError__);var o={name:n,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(o.errno=e.errno),e.exception&&(o.exception=e.exception),(0,a.FE)(o)}}))}function we({taskType:e,options:t,errMsg:r,success:a=!0,dataLength:i=0,statusCode:o="",responseDataLength:s=0,profile:l={},queueTime:c,uniqueId:u,errno:d,queueLength:p,accelerateId:h,jsapiVersion:f=0,response:g}){var v=t.url,m=a?1:2,y=Date.now(),_=ae.get(this),b=y-_,w=t.__skipDomainCheck__;b>=6e4&&de.error(`reportTask costTime too long: ${b}ms, taskId=${X.get(this)}`),(0,n.P5)({functionName:ce[e].functionName,keyParam:v,result:m,costTime:b,errorMsg:r,statusCode:o,__skipDomainCheck__:w,dataLength:i,responseDataLength:s,profile:l,queueTime:c,extraData:{},uniqueId:u,isAsync:!0,errno:d,queueLength:p,accelerateOptions:Object.assign({},t.accelerateOptions,{host:t.host,accelerateId:h}),jsapiVersion:f,requestData:t.data,response:g,beginTime:_,endTime:y,options:t})}function Ie(e,t){var r,a=`${t.toLowerCase()}TaskId`,n=e[a],{state:i,header:o}=e;delete e.state,delete e[a],"chunked"!==i&&(e.cookies=o&&(r=o["Set-Cookie"]||o["set-cookie"])?Array.isArray(r)?r:r.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]);var l=0;o&&(l=parseInt(o["Content-Length"]||o["content-length"]||"0",10));var c,u,d=()=>{if(ue.emit(`${t}${n}${i}`,e),"success"===i||"fail"===i){var r=ce[t].taskIdMap[n],a=te.get(r);if(!r)return;ce[t].currentTaskCount-=1;var o=ce[t].taskQueue.length;if(ce[t].taskQueue.length>0){var c=ce[t].taskQueue.shift().item,u=ne.get(c);if(u&&u[0]){var d=u[0];if(d>0){var p=Date.now()-d;ne.set(c,[d,p,o])}}ye.call(c)}var h=Promise.resolve((0,s.Y6)(a.data));if("Upload"===t){var f=0;"object"==typeof a.formData&&null!==a.formData&&(f=JSON.stringify(a.formData).length),h=Q({path:a.filePath}).then((e=>f+e.stats.size)).catch((()=>f))}var g=Promise.resolve((0,s.Y6)(e.data,l));if("Download"===t){var v=e.dataLength;g="number"==typeof v?Promise.resolve(v):Q({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([h,g]).then((([n,o])=>{var s=ne.get(r);we.call(r,{taskType:t,options:a,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===i,dataLength:n,responseDataLength:o,response:e,profile:e.profile,queueTime:s&&s[1],uniqueId:r.uniqueId,errno:e.errno,queueLength:s&&s[2],socketReused:e.socketReused,peerIP:e.peerIP,accelerateId:(0,K.hw)(e),jsapiVersion:r.taskInvoker?r.taskInvoker.jsapiVersion:0}),ne.delete(r)})),fe.set(ce[t].taskIdMap[n],!0),ke.call(r)}};J&&"Request"===t?"normal"===(null===(c=he[n])||void 0===c?void 0:c.status)?d():"wait"===(null===(u=he[n])||void 0===u?void 0:u.status)||(he[n]={status:"wait",handlers:[d]}):d()}function Se(){var e=re.get(this);return ce[e].currentTaskCount>=ce[e].maxTaskCount}function ke(){var e=re.get(this),t=X.get(this);delete ce[e].taskIdMap[t],delete he[t],ue.removeAllListeners(`${e}${t}success`),ue.removeAllListeners(`${e}${t}fail`),ue.removeAllListeners(`${e}${t}complete`),ue.removeAllListeners(`${e}${t}progressUpdate`),ue.removeAllListeners(`${e}${t}headersReceived`),ue.removeAllListeners(`${e}${t}chunked`)}function Ce(e,t){var r=ce[e]?ce[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};H(e,(t=>{Ie.call(this,t,e)})),(0,a.jQ)(`on${e}TaskStateChange`,(t=>{Ie.call(this,t,e)})),ce[e]=Object.assign(r,t)}function Te(e,t,r){if(this.taskInvoker)this.taskInvoker.startListenTaskStateChange({stateName:t,taskId:r});else{var n=ge.get(this);n?n.add(t):(n=new Set([t]),ge.set(this,n)),(0,a.IN)(`listen${e}TaskStateChange`,{taskId:r,states:Array.from(n),noCallback:!0})}}function Pe(e,t,r){if(this.taskInvoker)this.taskInvoker.stopListenTaskStateChange({stateName:t,taskId:r});else{var n=ge.get(this);n&&(n.delete(t),(0,a.IN)(`listen${e}TaskStateChange`,{taskId:r,states:Array.from(n),noCallback:!0}))}}},2030:(e,t,r)=>{"use strict";r.d(t,{N:()=>i,S:()=>o});var a=r(6385),n=r(7445),i=e=>{if(n.jP)return!0;if(n.wZ)switch(e){case"Download":case"Request":return!0;default:return!1}else{if(!n.cj)return!1}};(0,a.onNetworkStatusChange)((e=>{var t;t="wifi"===e.networkType?1:2,Object.keys(o).forEach((e=>{o[e].network!==t&&(o[e].needUpdateDns=!0,o[e].network=t,o[e].doingDns=!1)}))}));var o={}},9883:(e,t,r)=>{"use strict";r.d(t,{O:()=>p,c:()=>d});var a=r(88),n=r(4536),i=r(9105),o=r(4816),s=r(6342);(0,o.b)("Upload",{maxTaskCount:10,functionName:"uploadFile"}),s.default.onReady((()=>{try{"number"==typeof s.default.wxAppInfo.maxUploadConcurrent&&(0,o.b)("Upload",{maxTaskCount:s.default.wxAppInfo.maxUploadConcurrent})}catch(e){}}));class l extends o.o{constructor(e){super(e,{taskType:"Upload",beforeSend:t=>(t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t),beforeSuccess:e=>(e.profile&&(e.profile.usingHighPerformanceMode=!!e.profile.usingHighPerformanceMode),e)})}}const c=l;var u=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,n.r3)("uploadFile",t,{url:"",filePath:"",name:""})){"object"!=typeof t.header&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!=typeof t.formData&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var r={},o={};t.header&&(r=(0,i.Nf)(t.header)),t.formData&&(o=(0,i.Nf)(t.formData)),t.__skipDomainCheck__=e.__skipDomainCheck__,(0,a.J)("skipDomainCheck_uploadFile")&&(t.__skipDomainCheck__=!0);try{return new c(Object.assign({},t,{header:r,formData:o}))}catch(e){return void(0,n.YG)("uploadFile",t,e.message)}}}),d=u(),p=u({__skipDomainCheck__:!0})},2100:(e,t,r)=>{"use strict";r.d(t,{a:()=>i,s:()=>n});var a=r(4536),n=(e={})=>{(0,a.IN)("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var r={};if(r.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var a=e.subscriptionsSetting.templatesInfo;r.itemSettings=a.reduce(((e,t)=>{var r={2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[t.tid],a={"-1":"ban",0:"reject",1:"accept"};return r?e[r]=a[t.status]:(e[t.templateId]=a[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=r}}})},i=(e={})=>{n(e)}},1333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(9105),n={};const i={lastShareTicket:null,get:e=>n[e],set(e,t){var r=(0,a.M8)();return n[r]={shareKey:e,shareName:t},r}}},8386:(e,t,r)=>{"use strict";r.d(t,{B7:()=>l,Hk:()=>o,ZB:()=>s});r(9636);var a=r(4509),n=!1,i=0;(0,a.J)((()=>{i=0,n=!1}));var o=()=>{i=Date.now(),n=!0},s=()=>n,l=()=>i},8285:(e,t,r)=>{"use strict";r.d(t,{JB:()=>d,Lu:()=>m,n8:()=>a.n,AM:()=>g,uA:()=>v,Bx:()=>s});var a=r(3131),n=r(4536),i=!1,o=[],s=(e={})=>{if(!e.webviewId||!e.data){console.error("invalid arguments");var t={errMsg:"sendDataToH5: arguments data or webviewId cannot be null"};return"function"==typeof e.fail&&e.fail(t),void("function"==typeof e.complete&&e.complete(t))}"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),i?o.push(e):(i=!0,(0,n.IN)("sendDataToH5",e,{afterAll(){if(i=!1,o.length){var e=o.shift();s(e)}}}))},l=!1,c=[];function u(e){for(var t=0;t<c.length;t++)c[t](e)}var d=e=>{if("function"==typeof e){c.push(((t={})=>{t.webviewId&&t.data?("string"==typeof t.data&&(t.data=JSON.parse(t.data)),e(t)):console.error("invalid arguments in onH5Data callback")})),l||((0,n.jQ)("onH5Data",u),l=!0)}},p=r(88),h=r(5125),f=(e,t,r=!1)=>(a={})=>{t||(t=e),(0,p.J)(e)||r?!0!==h.Z.openUrlExtBrowserLock&&(a.url=a.url||"",h.Z.openUrlExtBrowserLock=!0,(0,n.IN)(t,a,{afterAll(){h.Z.openUrlExtBrowserLock=!1}})):(0,n.YG)(e,a,"no permission")},g=f("openUrlByExtBrowser"),v=f("openUrlByExtBrowser2","openUrlByExtBrowser"),m=f("openUrlByExtBrowser3","openUrlByExtBrowser",!0)},3131:(e,t,r)=>{"use strict";r.d(t,{Y:()=>c,n:()=>u});var a=r(4536),n=r(6347),i=r(7445),o=r(6342),s=r(5125);var l=e=>(t={})=>{if(!0!==s.Z.openUrlLock){var r=`${t.url}`,l=Object.assign({},t,{url:r});if(l.url=l.url||"",!(0,n.mQ)(l.url)){console.error("invalid url",l.url);var c={errMsg:`${e}: invalid url "${l.url}"`};return"function"==typeof l.fail&&l.fail(c),void("function"==typeof l.complete&&l.complete(c))}"openUrl"!==e||function(e){var t,r,a=(0,n.en)(e),s=null===o.default||void 0===o.default||null===(t=o.default.appContactInfo)||void 0===t||null===(r=t.stablePassThroughInfo)||void 0===r?void 0:r.wxa_open_url_domain_list;return!!(s&&a&&a.host&&s.includes(a.host)||(0,i.tK)())}(r)?("openUrl"===e&&void 0!==m&&m.traceEvent("onH5Open",!1,{id:r},r,null,null),s.Z.openUrlLock=!0,(0,a.IN)(e,l,{afterAll(){s.Z.openUrlLock=!1}})):(0,a.FE)({name:e,args:l,errMsg:r+" is not in allowed domains",success:!1})}},c=l("openUrl"),u=l("private_openUrl")},9074:(e,t,r)=>{"use strict";r.d(t,{GF:()=>a,sg:()=>n,vz:()=>i,yZ:()=>o});var a={customUrl:null,urlTitle:null,useCustomPrivacyAuthorization:!1,popUpTime:0,externInfo:{},regExp:"(.*)<a.*?href=['|\"](.*?)['|\"].*?>(.*?)</a>(.*)",standardInfo:{},isCache:!1,protoRes:{},hasAgree:!1,needScopeCache:[],unauthScopeCache:{},actionCache:0,banReasonCache:null,officialPrivacyAuthorizationShowingGap:60,minGap:60,popUpInterval:{},forceOffcial:0,safeAreaHeight:0,isShowing:!1,requireAuthJSApiList:[],requireAuthJSApiListMap:{},requireAuthPipelineList:[],requireAuthPipelineListMap:{},requireAuthOuterScopeList:[],requireAuthOuterScopeListMap:{},useCheckBoxOnClientPopup:!1,didReportForPrivacyCheckBox:!1},n={jsapi_location:!0,jsapi_location_background:!0,jsapi_gameclubdata:!0,group_jumpfinderlive:!0,jsapi_fuzzy_location:!0,webapi_userinfo:!0,webapi_getuserwxphone_group:!0,webapi_werun:!0,jsapi_licenseplate:!0,jsapi_record:!0,jsapi_camera:!0,webapi_bluetooth:!0,jsapi_photos_album:!0,jsapi_phonecontact:!0,jsapi_photocalendar:!0,jsapi_choose_location:!0,jsapi_address:!0,jsapi_invoice:!0,jsapi_media:!0,jsapi_messagefile:!0,jsapi_accelerometer:!0,jsapi_wxfriend_interaction:!0,jsapi_compass:!0,jsapi_devicemotion:!0,jsapi_gyroscope:!0,jsapi_clipboard:!0},i={getLocation:[["jsapi_location"],"getLocation",""],startLocationUpdate:[["jsapi_location"],"enableLocationUpdate",""],onLocationChange:[["jsapi_location"],"",""],"scope.userLocation":[["jsapi_location"],"getLocation",""],getWifiList:[["jsapi_location"],"getLocation",""],moveToLocation:[["jsapi_location"],"moveToMapLocation",""],startLocationUpdateBackground:[["jsapi_location_background"],"enableLocationUpdateBackground",""],"scope.userLocationBackground":[["jsapi_location_background"],"enableLocationUpdateBackground",""],getGameClubData:[["jsapi_gameclubdata"],"","webapi_getgameclubdata"],"scope.gameClubData":[["jsapi_gameclubdata"],"","webapi_getgameclubdata"],getChannelsLiveInfo:[["group_jumpfinderlive"],"","webapi_getfinderviewlastlive"],getFuzzyLocation:[["jsapi_fuzzy_location"],"getFuzzyLocation",""],"scope.userFuzzyLocation":[["jsapi_fuzzy_location"],"getFuzzyLocation",""],getUserProfile:[["webapi_userinfo"],"","webapi_getuserprofile"],getUserInfo:[["webapi_userinfo"],"","webapi_getuserinfo"],"UserInfoButton.onTap":[["webapi_userinfo"],"","webapi_getuserinfo"],"button.chooseAvatar":[["webapi_userinfo"],"","webapi_getuseravatarpopupinfo"],"input.nickname":[["webapi_userinfo"],"","webapi_getuseravatarpopupinfo"],"scope.userInfo":[["webapi_userinfo"],"","webapi_getuserinfo"],"button.getPhoneNumber":[["webapi_getuserwxphone_group"],"",""],getWeRunData:[["webapi_werun"],"","webapi_getwerunstep_history"],"scope.werun":[["webapi_werun"],"","webapi_getwerunstep_history"],chooseLicensePlate:[["jsapi_licenseplate"],"",""],startRecord:[["jsapi_record"],"startRecord",""],"RecorderManager.start":[["jsapi_record"],"startRecord",""],"RecorderManager.stop":[["jsapi_record"],"operateRecorder",""],joinVoIPChat:[["jsapi_record"],"startRecord",""],join1v1Chat:[["jsapi_record"],"startRecord",""],"scope.record":[["jsapi_record"],"startRecord",""],"wx-live-pusher.attached":[["jsapi_record","jsapi_camera"],"startRecord",""],"VKSession.start":[["jsapi_camera"],"insertCamera",""],"CameraContext.onCameraFrame":[["jsapi_camera"],"insertCamera",""],"scope.camera":[["jsapi_camera"],"insertCamera",""],"wx-camera.attached":[["jsapi_camera"],"insertCamera",""],createCamera:[["jsapi_camera"],"insertCamera",""],openBluetoothAdapter:[["webapi_bluetooth"],"openBluetoothAdapter",""],createBLEPeripheralServer:[["webapi_bluetooth"],"createBLEPeripheralServer",""],"scope.bluetooth":[["webapi_bluetooth"],"openBluetoothAdapter",""],saveImageToPhotosAlbum:[["jsapi_photos_album"],"saveImageToPhotosAlbum",""],saveVideoToPhotosAlbum:[["jsapi_photos_album"],"saveVideoToPhotosAlbum",""],"scope.writePhotosAlbum":[["jsapi_photos_album"],"saveImageToPhotosAlbum",""],addPhoneContact:[["jsapi_phonecontact"],"addPhoneContact",""],"scope.addPhoneContact":[["jsapi_phonecontact"],"addPhoneContact",""],addPhoneRepeatCalendar:[["jsapi_photocalendar"],"addPhoneRepeatCalendar",""],addPhoneCalendar:[["jsapi_photocalendar"],"addPhoneCalendar",""],"scope.addPhoneCalendar":[["jsapi_photocalendar"],"addPhoneCalendar",""],chooseLocation:[["jsapi_choose_location"],"",""],choosePoi:[["jsapi_choose_location"],"",""],chooseAddress:[["jsapi_address"],"openAddress",""],"scope.address":[["jsapi_address"],"openAddress",""],chooseInvoiceTitle:[["jsapi_invoice"],"chooseInvoiceTitle",""],chooseInvoice:[["jsapi_invoice"],"chooseInvoice",""],"scope.invoiceTitle":[["jsapi_invoice"],"chooseInvoiceTitle",""],"scope.invoice":[["jsapi_invoice"],"chooseInvoice",""],chooseVideo:[["jsapi_media"],"",""],chooseImage:[["jsapi_media"],"",""],chooseMedia:[["jsapi_media"],"",""],chooseMessageFile:[["jsapi_messagefile"],"",""],startAccelerometer:[["jsapi_accelerometer"],"",""],stopAccelerometer:[["jsapi_accelerometer"],"",""],onAccelerometerChange:[["jsapi_accelerometer"],"",""],offAccelerometerChange:[["jsapi_accelerometer"],"",""],getFriendCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_getfrienduserstorage"],getGroupCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_getgroupuserstorage"],getGroupInfo:[["jsapi_wxfriend_interaction"],"","webapi_getshareinfo_byopengid"],getPotentialFriendList:[["jsapi_wxfriend_interaction"],"","webapi_game_potential_friends"],getUserCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_getselfuserstorage"],setUserCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_setselfuserstorage"],removeUserCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_removeselfuserstorage"],getUserCloudStorageKeys:[["jsapi_wxfriend_interaction"],"","webapi_getuserstorageallappkey"],"GameServerManager.getFriendsStateData":[["jsapi_wxfriend_interaction"],"","webapi_opengameinfo_getfriendsuserdata"],getUserInteractiveStorage:[["jsapi_wxfriend_interaction"],"","webapi_getuserinteractivedata"],"scope.WxFriendInteraction":[["jsapi_wxfriend_interaction"],"","webapi_getuserinteractivedata"],"openDataContext.getUserInfo":[["jsapi_wxfriend_interaction"],"","webapi_getuserinfo_byopenid"],"scope.cloudGameFriend":[["app_snsapi_friend"],"",""],startCompass:[["jsapi_compass"],"",""],stopCompass:[["jsapi_compass"],"",""],onCompassChange:[["jsapi_compass"],"",""],offCompassChange:[["jsapi_compass"],"",""],startDeviceMotionListening:[["jsapi_devicemotion"],"",""],stopDeviceMotionListening:[["jsapi_devicemotion"],"",""],onDeviceMotionChange:[["jsapi_devicemotion"],"",""],offDeviceMotionChange:[["jsapi_devicemotion"],"",""],startGyroscope:[["jsapi_gyroscope"],"",""],stopGyroscope:[["jsapi_gyroscope"],"",""],onGyroscopeChange:[["jsapi_gyroscope"],"",""],offGyroscopeChange:[["jsapi_gyroscope"],"",""],setClipboardData:[["jsapi_clipboard"],"",""],getClipboardData:[["jsapi_clipboard"],"",""]},o=(e,t={})=>{if(a.didReportForPrivacyCheckBox)return!1;if("operateWXData"===e){var r;if(null!=t&&null!==(r=t.data)&&void 0!==r&&r.api_name)return a.requireAuthPipelineListMap[t.data.api_name]}else{if("authorize"!==e)return a.requireAuthJSApiListMap[e];if(t.scope&&t.scope[0])return a.requireAuthOuterScopeListMap[t.scope[0]]}}},3140:(e,t,r)=>{"use strict";r.d(t,{P5:()=>y});var a,n=r(6385),i=r(4536),o=r(7445),s=r(9067),l=r(5310),c=r(5125),u=r(9370),d=r(6342),p=r(1708),h=0,f=[],g=Math.random,v=new Set;d.default.onReady((()=>{a=Date.now()}));var m=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:f,appType:b.getAppType()},null,2);(0,i.IN)("reportRealtimeAction",{actionData:e,noCallback:!0}),f=[]},y=({functionName:e,keyParam:t,result:r,costTime:i,errorMsg:y,statusCode:w,__skipDomainCheck__:I,dataLength:S=0,responseDataLength:k=0,profile:C={},queueTime:T=0,extraData:P={},uniqueId:A,isAsync:E=!0,errno:M,queueLength:x=0,accelerateOptions:D={},jsapiVersion:R=0,requestData:L="",response:N="",beginTime:O=0,endTime:B=0,options:j={}}={})=>{var F;t.length>1024&&(t=t.substring(0,1024));var W="",U="",G=0,V="";if((0,o.aI)()?(U=(0,s.Xl)(l.Z.query),G=l.Z.scene,V=l.Z.sceneNote):(G=c.Z.scene,V=c.Z.sceneNote),void 0!==u.hr){var $=u.hr.getCurrentPages();if($&&$.length>0){var q=$[$.length-1];if(q&&(W=q.route,u.hr.getDisplayReporter)){var z,H=u.hr.getDisplayReporter(q);U=(null==H||null===(z=H.showOptions)||void 0===z?void 0:z.query)||""}}}!M&&y&&/超时|timeout/.test(y)&&(M=5);var K=JSON.stringify(P),J=[e,t,r,i,y,b.getAppType(),w,S,(0,n._getCurrentNetworkType)(),W,U,k,(0,s.Xl)(C),G,V,A,M,T,K,null===(F=d.default.wxAppInfo)||void 0===F?void 0:F.maxRequestConcurrent,B-a,x,R,0,c.Z.isWeakNetwork?1:0].map(encodeURIComponent).join(","),Q=!1;if(E&&(1==r?g()<.01&&(Q=!0):Q=!0),Q){var Y,Z="",X="",ee="",te="",re="",ae="",ne="",ie="",oe="",se="",le=C.protocol||"",ce=0;!0===C.socketReused?ce=1:!1===C.socketReused&&(ce=2);var ue=!0===j.enableCache?1:2,de=!0===j.enableHttpDNS?1:2,pe=j.enableChunked?1:2,he="",fe="",ge=(0,p.k)()+" "+(0,p.n)(),ve=_(),me=j.method,ye=!0===j.enableHttp2?1:2,_e=!0===j.enableQuic?1:2,be=!0===j.enableHttp3?1:2;C&&C.fetchStart&&O&&("request"===e||"downloadFile"===e||"uploadFile"===e)&&(Z=C.fetchStart-O,X=C.domainLookUpEnd-C.domainLookUpStart,ee=C.connectEnd-C.connectStart,te=C.SSLconnectionStart-C.connectStart,re=C.SSLconnectionEnd-C.SSLconnectionStart,ae=(C.connectEnd||C.requestStart)-C.requestStart,ne=C.responseStart-(C.connectEnd||C.requestStart),ie=C.responseEnd-C.responseStart,oe=C.responseEnd-C.fetchStart,se=B-C.responseEnd,he=C.redirectEnd-C.redirectStart,fe=(C.domainLookUpStart||C.requestStart)-C.fetchStart);var we=[e,encodeURIComponent(t),r,i,encodeURIComponent(y),b.getAppType(),w,S,(0,n._getCurrentNetworkType)(),W,"",k,"",G,encodeURIComponent(V),M,T,encodeURIComponent(K),null===(Y=d.default.wxAppInfo)||void 0===Y?void 0:Y.maxRequestConcurrent,B-a,x,R,Z,X,ee,te,re,ae,ne,ie,oe,se,le,ce,ue,de,pe,he,fe,ge,ve,me,ye,_e,be].join(",");b.reportKeyValue({key:"NetworkAPI2",value:we})}b.reportKeyValue({key:"NetworkAPI",value:J}),b.reportIDKey({key:`${e}_${1===r?"ok":"fail"}`});var{isHitRule:Ie,rawUrl:Se,rawHost:ke,accelerateType:Ce,host:Te,accelerateId:Pe,__AccelFailReqId__:Ae}=D,{domainLookUpStart:Ee,domainLookUpEnd:Me,connectStart:xe,connectEnd:De,SSLconnectionStart:Re,SSLconnectionEnd:Le,requestStart:Ne,requestEnd:Oe,responseStart:Be,responseEnd:je,socketReused:Fe,peerIP:We}=C;1===Ie&&[1,2].includes(r)&&b.reportKeyValue({key:"AccelerateNetwork",value:[e,encodeURIComponent(Se.substring(0,1024)),t,ke,Te,r,i,y,b.getAppType(),w,S,(0,n._getCurrentNetworkType)(),k,(0,s.Xl)(C),G,M,Ie,Ce,Pe,Me-Ee,De-xe,Le-Re,Oe-Ne,je-Be,Fe?1:0,We,Ae].join(",")}),f.push([e,t,r,w||"",i,y,(0,n._getCurrentNetworkType)(),I?"1":"0",b.getAppType(),S].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",")),function(e){if(0===v.size)return;try{v.forEach((t=>t(e)))}catch(e){}}({functionName:e,keyParam:t,result:r,costTime:i,errorMsg:y,statusCode:w,dataLength:S,responseDataLength:k,requestData:L,response:N,profile:C,errno:M,__skipDomainCheck__:I}),Date.now()-h>=6e4&&(h=Date.now(),setTimeout(m,6e4))};var _=()=>{var e=o.wZ?1:0,t=o.wZ?10:0;return(o.wZ?100:0)+t+e}},220:(e,t,r)=>{"use strict";r.d(t,{H:()=>f,d:()=>p});var a=r(6345),n=r(5090),i=r(7412),o=r(4515).MV.SHORT_TV_CACHE.path,s=`${o}/localUrlMap.json`,l=!1,c=[],u=()=>{l=!1,c.forEach((e=>e())),c=[]},d=e=>0===e.indexOf("wxfile://tmp")||0===e.indexOf("http://tmp/")?216e5:1728e6,p=(e,t)=>{l=!0,(0,n.Vm)().then((({isShortTVMiniprogram:r})=>{r?(0,n.Jz)(t).then((r=>{r?u():(0,a.h)({filePath:e,digestAlgorithm:"md5",success:r=>{var a=r.digest;(0,i.t)().readFile({filePath:s,encoding:"utf8",success:r=>{var n;try{n=JSON.parse(r.data)}catch(e){}if(n&&Array.isArray(n)){var i=Date.now(),o=[],s=!0;n.forEach((r=>{e===r.localUrl&&(r.expireTime=Date.now()+d(e),r.md5=a,r.remoteUrl=t,s=!1),i>r.expireTime||o.push(r)})),h(s?{md5:a,localUrl:e,remoteUrl:t}:null,o)}else h({md5:a,localUrl:e,remoteUrl:t})},fail:r=>{h({md5:a,localUrl:e,remoteUrl:t})}})},fail:e=>{u()}})})).catch((()=>{u()})):u()})).catch((()=>{u()}))},h=(e,t=[])=>{function r(){(0,i.t)().writeFile({filePath:s,encoding:"utf8",data:JSON.stringify(t),success:e=>{u()},fail:e=>{u()}})}e&&(e.expireTime=Date.now()+d(e.localUrl),t.push(e)),(0,i.t)().access({path:s,success:e=>{r()},fail:e=>{(0,i.t)().mkdir({dirPath:o,success:e=>{r()},fail:e=>{u()}})}})},f=e=>new Promise((t=>{function r(){(0,i.t)().readFile({filePath:s,encoding:"utf8",success:r=>{var n,i;try{n=JSON.parse(r.data)}catch(e){}return n&&Array.isArray(n)&&n.some((t=>e===t.localUrl&&(i=t.md5,!0)))&&i?void(0,a.h)({filePath:e,digestAlgorithm:"md5",success:e=>{var r=e.digest;return t(r===i)},fail:e=>t(!1)}):t(!1)},fail:e=>t(!1)})}l?c.push(r):r()}))},5090:(e,t,r)=>{"use strict";r.d(t,{Jz:()=>c,Vm:()=>h});var a,n=r(1197),i=r(2517),o=(r(4536),r(220)),s=r(7445),l=r(6142),c=e=>h().then((({domainList:t,isShortTVMiniprogram:r})=>{if(r&&t&&t.length){var a=u(e);return!!t.every((e=>!d(e,a)))&&(0!==e.indexOf("wxfile://")&&(!s.gm||0!==e.indexOf("http://tmp/")&&0!==e.indexOf("http://usr/"))||(0,o.H)(e).then((e=>!e)))}return!1})),u=e=>{try{return(0,i.Qc)(e).host}catch(e){return""}},d=(e,t)=>{var r=e.split("."),a=t.split(".");if(r.length>a.length)return!1;for(var n=1;n<=r.length;n++)if(r[r.length-n]!==a[a.length-n])return!1;return!0},p=void 0,h=()=>(a||(a=(0,n.o)().then((e=>{var t,r,a;f.info("game video getSecInfo res",e);var n=null!==(t=null==e||null===(r=e.data)||void 0===r||null===(a=r.opinfo_async)||void 0===a?void 0:a.video_domain_limit)&&void 0!==t?t:[],i=new Set;return n.forEach((e=>{Array.isArray(e.domain_list)&&e.domain_list.forEach((e=>i.add(e)))})),{videoDomainLimit:n,domainList:Array.from(i)}})).catch((e=>(f.error("game video getSecInfo error",e),{})))),a).then((({domainList:e,videoDomainLimit:t})=>((0,l.o8)(p)&&(p=!!t.length&&t.some((e=>"mmbizsecvod"===e.biz_flag))),{domainList:e,isShortTVMiniprogram:p})))},175:(e,t,r)=>{"use strict";r.d(t,{j:()=>g,w:()=>f});var a,n,i,o=r(6385),s=r(6342),l=r(1708),c=r(5125),u=r(4536),d=r(7849),p=r(9195),h={},f=(e={})=>{var{eventid:t,src:r,ended:f,reason:g=""}=e;if(!a){var v,m,y,_=null===s.default||void 0===s.default||null===(v=s.default.appContactInfo)||void 0===v||null===(m=v.operationInfo)||void 0===m||null===(y=m.jsonInfo)||void 0===y?void 0:y.vod_config;null!=_&&_.domain_pattern&&null!=_&&_.trace_secret&&(a=new RegExp(null==_?void 0:_.domain_pattern))}if(a&&a.test(r)){var b,w=parseInt(Date.now()/1e3,10);if(1===n&&1===t&&r===i)return;n=t,i=r;var I=c.Z.rawPath.indexOf("?"),S=0;h[r]&&(S=w-h[r]),f?delete h[r]:h[r]=w;var k=(0,p.getStableSystemInfo)(),C={eventid:t,src:r,play_time:S,appversion:null===s.default||void 0===s.default||null===(b=s.default.appContactInfo)||void 0===b?void 0:b.user_version,app_timestamp:w,scene_note:c.Z.sceneNote,page_path:c.Z.lastRoute,query:I>=0?c.Z.rawPath.slice(I):"",networktype:(0,o._getCurrentNetworkType)(),publiclib_version:(0,l.k)(),session_id:(0,d._)().sessionId||(0,d._)().sessionid,reason:g,osname:k.platform||"",osversion:k.system||"",devicemodel:k.model||"",devicebrand:k.brand||""};(0,u.yD)({apiName:"webapi_wxa_dramaplayreport",sdkApiName:"shortTVReport",reqData:C,success:e=>{},fail:e=>{}})}},g=(e={})=>{var t,r=c.Z.rawPath.indexOf("?"),a=(0,p.getStableSystemInfo)(),n={eventid:4,src:e.src,play_time:0,appversion:null===s.default||void 0===s.default||null===(t=s.default.appContactInfo)||void 0===t?void 0:t.user_version,app_timestamp:parseInt(Date.now()/1e3,10),scene_note:c.Z.sceneNote,page_path:c.Z.lastRoute,query:r>=0?c.Z.rawPath.slice(r):"",networktype:(0,o._getCurrentNetworkType)(),publiclib_version:(0,l.k)(),session_id:(0,d._)().sessionId||(0,d._)().sessionid,reason:"",osname:a.platform||"",osversion:a.system||"",devicemodel:a.model||"",devicebrand:a.brand||""};(0,u.yD)({apiName:"webapi_wxa_dramaplayreport",sdkApiName:"shortTVReport",reqData:n,fail:e=>{}})}},9845:(e,t,r)=>{"use strict";r.d(t,{Bt:()=>l,pP:()=>s,zC:()=>c});var a=r(4536),n=r(1843),i=r(1591),o=(0,r(9766).s)("menuButtonBoundingClientRectWeightChange");(0,a.jQ)("onMenuButtonBoundingClientRectWeightChange",((e={})=>{o.emit(e)}));var s=o.onMethod,l=o.offMethod,c=(0,n.r)((()=>{var e,t={};if((0,a.IN)("getMenuButtonBoundingClientRect",{success(e){Object.assign(t,e),delete t.errMsg},fail(t){e=t.errMsg}}),e)throw new i.i(e);return t}))},9464:(e,t,r)=>{"use strict";r.d(t,{KN:()=>a.KN,zC:()=>n.zC});var a=r(9768),n=r(9845)},5049:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_checkIsInteracting:()=>oe,_hideToast:()=>Y,_showModal:()=>W,_showToast:()=>z,_updateActionSheet:()=>ne,_updateModal:()=>G,_updateToast:()=>Q,hideLoading:()=>re,hideToast:()=>Z,offNativeUi:()=>j,onNativeUi:()=>B,showActionSheet:()=>ae,showInnerToast:()=>J,showLoading:()=>te,showModal:()=>U,showShareActionSheet:()=>ie,showToast:()=>H});var a=r(4536),n=r(9105),o=r(2805),s=r(5125),l=r(8386),c=r(7445),u=r(2248),d=r(2422),p=r(6385),h=r(4567),g=r(1731),v=r(9766),y=(r(3888),r(9370),function(e){return e[e.Untranslate=0]="Untranslate",e[e.Translating=1]="Translating",e[e.Translated=2]="Translated",e[e.Reset=3]="Reset",e}(y||{})),_=y.Untranslate,b="en",w=(new Map,{tabBarList:[],navigationBarTitleText:"",toastMap:new Map,modalMap:new Map,actionSheetMap:new Map,mapMarkersIOS:new Map,mapMarkersAndroid:new Map}),I=function(e){return e.tabBar="tabBarList",e.navigationBar="navigationBarTitleText",e.toast="toastMap",e.modal="modalMap",e.actionSheet="actionSheetMap",e.mapMarkersIOS="mapMarkersIOS",e.mapMarkersAndroid="mapMarkersAndroid",e}(I||{});function S(e,t,r){if(_!==y.Untranslate){var a={};r.forEach((e=>{Object.prototype.hasOwnProperty.call(t,e)&&""!==t[e]&&(a[e]=t[e])})),e in w&&Array.isArray(w[e])&&w[e].push(a),e in w&&w[e]instanceof Map&&w[e].set(t.id,a)}}function k(e,t){_!==y.Untranslate&&(e in w&&Array.isArray(w[e])&&w[e].pop(),void 0!==t&&e in w&&w[e]instanceof Map&&w[e].delete(t))}var C=(0,v.s)("NavigationBarTitleUpdate"),T=(C.internalOnMethod,r(5933)),P=r(6342),A="#000000",E="#ffffff";function M(e){var t=(P.default.appContactInfo||{}).operationInfo||{};if(t.jsonInfo&&t.jsonInfo.op_info&&1===Number(t.jsonInfo.op_info.gray_flag)&&!(0,c.aI)()&&!(0,c.tK)()){var r=/^#([0-9|A-F|a-f]{6})$/.exec(e);if(null!=r){var n=parseInt(r[1].slice(0,2),16),i=parseInt(r[1].slice(2,4),16),o=parseInt(r[1].slice(4),16),s=Math.round(.299*n+.587*i+.114*o).toString(16).toUpperCase();(0,a.IN)("setNavigationBarColor",{frontColor:E,backgroundColor:`#${s}${s}${s}`})}}}P.default.onReady((()=>{(0,T.HM)((()=>{if(void 0!==P.default&&P.default.global&&P.default.global.window){var e=P.default.global.window;A=e.navigationBarBackgroundColor||A,E="black"===e.navigationBarTextStyle?"#000000":"#ffffff"}var t=s.Z.lastRoute+".html";if(void 0!==P.default&&P.default.page&&P.default.page[t]&&P.default.page[t].window){var r=P.default.page[t].window;A=r.navigationBarBackgroundColor||A,E="black"===r.navigationBarTextStyle?"#000000":"#ffffff"}M(A)}))}));(0,T.HM)((e=>{setTimeout((()=>{try{P.default.tabBar.list.some((({pagePath:t})=>t.startsWith(e.path)))}catch(e){}}),100)}));P.default.onReady((()=>{P.default.tabBar&&P.default.tabBar.list||[]}));var x=(e,t,r)=>{if(_!==y.Untranslate){var n={};switch(e){case I.modal:case I.toast:n=JSON.parse(JSON.stringify(w[e].get(t)));break;case I.actionSheet:var i=w[e].get(t);i.itemList&&i.itemList.length&&i.itemList.forEach(((e,t)=>{n[`item${t}`]=e})),Object.prototype.hasOwnProperty.call(i,"alertText")&&(n.alertText=null==i?void 0:i.alertText),Object.prototype.hasOwnProperty.call(i,"id")&&(n.id=i.id)}var o=Object.keys(n).filter((e=>"id"!==e));if(o.length){var s=[],l=[],c=0;if(o.forEach((e=>{var t=n[e].replaceAll("\\n","").replaceAll("\n","");(10===l.length||c+t.length>2e3&&c>0)&&(s.push({text:l.join("\n")}),l=[],c=0),l.push(t),c+=t.length})),l.length&&s.push({text:l.join("\n")}),s.length)try{(0,a.yD)({apiName:"webapi_getwxatranslatedmsg",reqData:{item_list:s,to_lang:b,path:""},success:t=>{var a=t.data.item_list.map((e=>e.text.replace(/\n$/,"").split("\n"))).flat();if(a.length===o.length&&o.forEach(((e,t)=>{""!==a[t]&&(n[e]=a[t])})),r)switch(e){case I.modal:case I.toast:r(n);break;case I.actionSheet:var i=Object.assign({},n),s=/^item\d+$/,l=[];Object.keys(i).forEach((e=>{Object.prototype.hasOwnProperty.call(i,e)&&s.test(e)&&(l.push(i[e]),delete i[e])})),i.itemList=l,r(i)}},fail:e=>{(0,a.IN)("showToast",{icon:"error",title:"translation meets frequency limit, please slow down and try again",duration:1e3}),f.error("[operateWXData] webapi_getwxatranslatedmsg failed: ",e)}})}catch(e){f.error("invoke webapi_getwxatranslatedmsg error: ",e)}}}},D=0,R=0,L=0,N=!1,O=(0,v.s)("onNativeUi"),B=O.internalOnMethod,j=O.internalOffMethod;function F(e,t){try{O.emit({type:e,payload:t})}catch(e){}}var W=(e={},t=!1)=>{var r={id:R,title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==i.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==i.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:"",upper:!1};if(R++,r=(0,o.l7)(r,e),(0,a.r3)("showModal",r,{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})){var n=!1;if(e.__sdk_inner_allowShowMoreLength__&&(n=!0),!n&&r.confirmText.replace(/[^\x00-\xff]/g,"##").length>8)(0,a.YG)("showModal",e,"confirmText length should not larger than 4 Chinese characters");else if(!n&&r.cancelText.replace(/[^\x00-\xff]/g,"##").length>8)(0,a.YG)("showModal",e,"cancelText length should not larger than 4 Chinese characters");else{var s=m.getCurrentRoutePath(),u=(0,p._getCurrentNetworkType)();S("modalMap",r,["id","title","content","confirmText","cancelText","placeholderText"]),x("modalMap",r.id,G),F("showModal",r),(0,a.IN)("showModal",r,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),c.cj?e.cancel=!e.confirm:e.cancel=!e.confirm&&Boolean(e.cancel),F("closeModal",{...e,...r}),(0,l.Hk)()},beforeAll(){N=!0},afterAll(){if(N=!1,k("modalMap",r.id),r.title){var e=(0,h.hF)();e?setTimeout((()=>{e("modal",{content:r.content,title:r.title,networkType:(0,p._getCurrentNetworkType)()})})):!1===e&&(0,g.r)((e=>{e("modal",{content:r.content,title:r.title,networkType:(0,p._getCurrentNetworkType)()})}))}(0,d.yY)({apiName:"showModal",content:r.content,title:r.title,routePath:s,networkType:u})}})}}},U=(e={})=>{(e=Object.assign({},e)).__sdk_inner_allowShowMoreLength__&&delete e.__sdk_inner_allowShowMoreLength__,void 0!==e.upper&&delete e.upper,W(e),(0,c.aI)()&&(0,u.y4)(u.F0.EVENT_CANVAS_AFTER_MODAL)},G=(e={})=>{(0,a.IN)("updateModal",e)},V=1,$=!1,q=!1,z=(e={},t=!1)=>{if(!q||t){var r={id:D,duration:1500,title:"",icon:"success",mask:!1};if(D++,r=(0,o.l7)(r,e),e.image&&(r.image=(0,n.sd)(s.Z.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(r.icon)<0&&(r.icon="success"),"none"===r.icon&&(r.icon=""),(0,a.r3)("showToast",r,{duration:1,title:"",icon:""})){if($=V++,t&&(q=!0),setTimeout((()=>{$=!1,t&&(q=!1)}),r.duration),r.maskAll=!1,S("toastMap",r,["id","title"]),x("toastMap",r.id,Q),F("showToast",r),(0,a.IN)("showToast",r,{afterAll(){k("toastMap",r.id)}}),f.warn("defaultArgs.icon: ",r.icon,r.title),"success"!==r.icon&&r.title){var i=(0,h.hF)();i?setTimeout((()=>{i("toast",{title:r.title,networkType:(0,p._getCurrentNetworkType)()})})):!1===i&&(f.warn("registerInterenceTask"),(0,g.r)((e=>{e("toast",{title:r.title,networkType:(0,p._getCurrentNetworkType)()})})))}"success"!==r.icon&&setTimeout((()=>{(0,d.yY)({apiName:"showToast",title:r.title,networkType:(0,p._getCurrentNetworkType)(),routePath:m.getCurrentRoutePath()})}))}}},H=(e={})=>z(e),K=0,J=(e={})=>{var t=null;if("none"===e.icon&&(e.icon=""),""===e.icon){var r={duration:1500,title:"",mask:!1};r=(0,o.l7)(r,e),__sclEngine__.initScl((e=>{K+=1,(t=e.mainRoot.append("officialToast-pop",{title:r.title,duration:r.duration,paddingTop:1===K?100:20})).addListener("destroy",(()=>{try{K-=1,e.mainRoot.remove(t)}catch(e){f.error("remove error:",e)}t=null}))}),!0)}else z(e)},Q=(e={})=>{(0,a.IN)("updateToast",e)},Y=(e={},t=!1)=>{if(!q||t){if((c.gm||e.noConflict)&&X&&(!$||$<X))return $=!1,q=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideToast:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideToast:ok"})})),void console.warn("请注意 showToast 与 hideToast 必须配对使用");$=!1,q=!1,F("hideToast",e),(0,a.IN)("hideToast",e)}},Z=(e={})=>Y(e),X=!1,ee=0,te=(e={})=>{if(!q){var t={id:D,title:"",icon:"loading",mask:!1,duration:1e8};ee=D,D++,(t=(0,o.l7)(t,e)).icon="loading",delete t.image,(0,a.r3)("showLoading",t,{duration:1,title:""})&&(X=V++,t.maskAll=!1,S("toastMap",t,["id","title"]),x("toastMap",t.id,Q),m.startLoading(),F("showToast",t),(0,a.IN)("showToast",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("showToast","showLoading")}}))}},re=(e={})=>{if(!q){if((c.gm||e.noConflict)&&$&&(!X||X<$))return X=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideLoading:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideLoading:ok"})})),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");k("toastMap",ee),X=!1,m.endLoading((0,p._getCurrentNetworkType)()),F("hideToast",e),(0,a.IN)("hideToast",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})}},ae=(e={})=>{var t={id:L,itemList:[],itemColor:"#000000",itemColorDark:void 0!==i.theme&&e.itemColor?e.itemColor:"#FFFFFFCC"};L++,delete(t=(0,o.l7)(t,e)).cancelText,delete t.cancelColor,(0,a.r3)("showActionSheet",t,{itemList:["1"],itemColor:""})&&(e.itemList.length>6?(0,a.YG)("showActionSheet",e,"parameter error: itemList should not be large than 6"):(S("actionSheetMap",t,["id","itemList","alertText"]),x("actionSheetMap",t.id,ne),F("showActionSheet",t),(0,a.IN)("showActionSheet",t,{beforeAll:e=>{(e.errMsg.indexOf(":ok")>-1||e.errMsg.indexOf(":cancel")>-1)&&(0,l.Hk)(),F("closeActionSheet",{...e,...t}),N=!0},afterAll:()=>{N=!1,k("actionSheetMap",t.id)}})))},ne=(e={})=>{(0,a.IN)("updateActionSheet",e)},ie=(e={})=>{(0,a.IN)("showShareActionSheet",e)},oe=()=>N},4545:(e,t,r)=>{"use strict";r.d(t,{RM:()=>i,d8:()=>o});var a=r(9845),n=new Map;function i({component:e,getVisibleAera:t}){n.has(e)||n.set(e,t)}function o(e){n.delete(e)}n.set({},(()=>(0,a.zC)()))},9768:(e,t,r)=>{"use strict";r.d(t,{KN:()=>g});var a=r(8246),n=r(9370),i=[],o=null,s=null,l=!1,c=[],u=!1,d="",p=0,h=0,f=e=>{o=e;var t=!1,r=!0;e.deviceOrientation!==d&&(t=!0),e.size.windowWidth!==p&&(t=!0),e.size.windowHeight!==h&&(t=!0),(e=>{e.deviceOrientation&&(d=e.deviceOrientation),p=e.size.windowWidth,h=e.size.windowHeight})(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(u=!0),"auto"===e.pageOrientation.originalPageOrientation||u||(t=!1,r=!1)),void 0!==n.hr&&n.hr.isFramesetMode()&&(r=!1),t&&(l=!0);var a=e.changedWebviewIds;r&&a&&a.forEach((e=>{c.indexOf(e)<0&&c.push(e)})),s||(s=setTimeout((()=>{s=null;var e=l;l=!1;var t=c;c=[];var r={deviceOrientation:o.deviceOrientation,size:o.size};e&&i.forEach((e=>{_.surroundThirdByTryCatch(e,"at onWindowResize callback function")(r)})),t.forEach((e=>{var t=void 0!==n.hr?n.hr.getPageByWebviewId(e):null;t&&_.surroundThirdByTryCatch((()=>{t.__callPageLifeTime__("onResize",r)}),"at Resize callback function")()}))}),16))};(0,a.n)("onViewDidResize",(e=>{f(e)}));var g=e=>{i.push(e)}},1399:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s,a:()=>i});var a=null,n=new Proxy({},{get(e,t,r){if(!a)throw new Error("NativeGlobal not ready");return Reflect.get(a,t,r)},set(e,t,r,n){if(!a)throw new Error("NativeGlobal not ready");return Reflect.set(a,t,r,n)}});function i(e){o.onLoad((()=>{e(n)}))}o.onLoad((()=>{a="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));const s=n},6342:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var a=()=>{n!==i&&void 0!==n&&Object.assign(n,i)},n=(()=>(i.onReady(a),i))();const o=n},4899:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var a=null,n=!1;function i(){if(!n)throw new Error("WeixinArrayBuffer not ready");return a}o.onLoad((()=>{a=r.g.WeixinArrayBuffer,n=!0}))},2900:(e,t,r)=>{"use strict";r.d(t,{jC:()=>i,uC:()=>s,vC:()=>o});var a=r(4536),n={},i={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,preloadWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188,createWKVideo:1293,uploadFile:1308,gameRecorderOperateVideo:1310,gameRecorderGetVideoPath:1310,openCustomerServiceConversationDirectly:1316,plugin_shareAppMessage:1345,createLiteApp:1346,gameTransferForLiteGame:1359},o=e=>{if(n[e])return n[e];var t={},r=Object.values(i);return(0,a.IN)("getPluginPermissionBytes",{pluginList:[{indexes:r,pluginId:e}],success(a){var i=a.pluginPermissionMap;if(i&&i[e]){for(var o=0;o<i[e].length;o++){var s=r[o];t[s]=1===i[e][o]}n[e]=t}},fail(e){}}),t},s=(e,t)=>{var r=i[t];return void 0===r?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):n[e]?n[e][r]:(o(e),n[e]&&n[e][r])}},88:(e,t,r)=>{"use strict";r.d(t,{J:()=>y});var a,n=r(4536),i=r(6142),o=r(6342),s=r(9822),l=r(4509),c=r(3473),u=r(8246),d={},p={},h={},g=0;o.default.onReady((()=>{(0,l.J)((()=>{g=1})),(0,c.T)((()=>{g=0}))}));var v=Object.keys(s.Z).map((e=>s.Z[e])),m=(e,t)=>{for(var r=0;r<v.length;r++){var a=v[r],n=1===e[a]||4===e[a];t[a]=n}};(0,u.n)("onPermissionUpdate",(e=>{m(e.bg,d),m(e.fg,p)})),(0,u.n)("onPluginPermissionUpdate",(()=>{})),o.default.onReady((()=>{(0,n.IN)("getPermissionBytes",{indexes:v,success(e){e.permissionBytes&&e.permissionBytesForRunningStatus||e.permissionBytesForRunningStatus?((e=>{for(var t=0;t<e.length;t++){var r=v[t];d[r]=1===e[t].bg||4===e[t].bg,p[r]=1===e[t].fg||4===e[t].fg}})(e.permissionBytesForRunningStatus),a=1):e.permissionBytes&&(a=0,((e,t)=>{for(var r=0;r<e.length;r++)t[v[r]]=1===e[r]||4===e[r]})(e.permissionBytes,h))},fail(e){f.error("getPermissionBytes failed",e)}})}));var y=e=>{var t,r=s.Z[e];if("number"!=typeof r)return!1;if(t=0===a?h:0===g?p:d,!(0,i.o8)(t[r]))return t[r];var o=!1;return(0,n.IN)("getPermissionBytes",{indexes:[r],success(e){e.permissionBytes&&(0===a?(o=1===e.permissionBytes[0]||4===e.permissionBytes[0],h[r]=o):(d[r]=1===e.permissionBytes[0].bg||4===e.permissionBytes[0].bg,p[r]=1===e.permissionBytes[0].fg||4===e.permissionBytes[0].fg))}}),o}},526:(e,t,r)=>{"use strict";r.d(t,{t:()=>I});var a=r(3888),n=r.n(a),i=r(9112),o=r(9806),s=r(7412),l=r(4515).MV.WX_WE_MODEL_CACHE_PATH_PREFIX.path,c=`${l}/meta.json`,u=`${l}/vocab_meta.json`,d=e=>l+"/"+e+".onnx",p=(0,s.t)(),h=(0,o.Fr)(p.readFile),g=(0,o.Fr)(p.saveFile),v=(0,o.Fr)(p.writeFile),m=(0,o.Fr)(p.access),y=(0,o.Fr)(p.unlink),_=(0,o.Fr)(p.mkdir),b=(0,o.Fr)(i.o),w=function(){var e=n()((function*(e=1){try{yield m({path:l})}catch(e){yield _({recursive:!0,dirPath:`${l}`})}try{var{data:t}=yield h({filePath:1===e?c:u,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=n()((function*(e,t,r=1,a=!1){var n={};if(!a)if(n=yield w(r)){if(n[t]&&n[t].src===e)try{return d(t)}catch(e){console.error("exception: get cacheinfo but not found cache file.")}}else n={};var i=yield b({url:e,timeout:1e4}),o=yield g({tempFilePath:i.tempFilePath,filePath:d(t)});n[t]={src:e,update:Date.now()};var s=Date.now(),l=-1;if(Object.keys(n).length>(1===r?3:10))for(var p of Object.keys(n)){var h=n[p];h.update<s&&(s=h.update,l=p)}if(-1!==l)try{yield y({filePath:d(l)}),delete n[l]}catch(e){f.error("contentCheck LRU unlink model error: ",e)}return yield v({filePath:1===r?c:u,data:JSON.stringify(n),encoding:"utf8"}),o.savedFilePath}));return function(t,r){return e.apply(this,arguments)}}()},6252:(e,t,r)=>{"use strict";r.d(t,{Zv:()=>_,BF:()=>I});var a,n=r(3888),i=r.n(n),o=r(6759),s=r(7695),l=r(9138),c=r(3945),u=r(8316),d=(r(9112),r(526)),p=function(){var e=i()((function*(e,t){return(0,d.t)(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),h=(r(9370),r(1821)),g=r(1190),v=(r(8791),r(6342),(0,r(143).v)("MultiModalCheck",{noCache:!0})),y=(e,t)=>{void 0===e&&(e=[]);try{var r,a=Date.now();return e.length&&(n=t,r=e.map((e=>{var t=n[(0,u.Ht)(e.preset_data)],r=new RegExp(e.reg_exp);return{id:e.id,match:r.test(t)}}))),{regRes:r,errMsg:null,cost:Date.now()-a}}catch(e){return{errMsg:e.message,cost:-1}}var n},_=function(){var e=i()((function*(e,t,r,n,i,u,{customShape:d,isMultiModal:h,screenshotCheck:g,debug:m,preMultiDomContent:y=!1}={}){void 0===i&&(i={});var _,b=[];if(!t)return{xnetRes:null,errMsg:null,logicCost:b};try{var w=Date.now();(0,c.vZ)(2,{sessionId:e}),_=yield((e,t,r={})=>new Promise(((n,i)=>{if(a)return n(a);p(e,t).then((e=>{var t={...r};t.typicalShape||delete t.typicalShape;var s=(0,o.AS)({model:e,...t});s.onLoad((()=>{a=s,n(s)})),s.onError((e=>{a||i(e)}))})).catch((e=>{i(e)}))})))(t,r,n),(0,c.vZ)(3,{sessionId:e});var I=Date.now()-w;b.push({logic_type:2,time_cost:I})}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:b}}try{var S=Date.now();if((0,c.vZ)(4,{sessionId:e}),h&&g)return v.advancePublish("requestScreenshotData",{shape:d,data:u},!0),{isMultiModal:!0};if(h){var k,C=Object.entries(n).filter((([e,t])=>"text"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{}),T=(0,l.Ds)(),P=(0,c.W6)(T,e);yield(0,s.Nc)(C,i,u,{customShape:d,debugCustomReport:P});var A=new Promise((e=>{k=e}));v.on("requestScreenshotData",(e=>{k(e)}));var E=yield A,M=Object.entries(n).filter((([e,t])=>"image"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{});yield(0,s.Nc)(M,i,E.data,{customShape:E.shape})}else y||(yield(0,s.Nc)(n,i,u,{customShape:d}));(0,c.vZ)(5,{sessionId:e});var x,D={},R=function*(){if("allowNPU"===L||"allowQuantize"===L||"typicalShape"===L)return"continue";var e,t=n[L];if(t&&t.param_ctrl&&t.param_ctrl.remove_from_model_input)return"continue";if(D[L]=n[L],m&&"image"===n[L].modalType)try{x=yield(n[L].data,n[L].shape[2],n[L].shape[3],e||Promise.resolve(""))}catch(e){}};for(var L in n)yield*R();var N=Date.now()-S;b.push({logic_type:3,time_cost:N});var O=Date.now(),B=yield _.run(D);for(var j of(_.reportCurrentResult(),Object.keys(n))){var F=n[j];F&&F.param_ctrl&&F.param_ctrl.do_report&&(B[j]=F)}var W=Date.now()-O;return b.push({logic_type:4,time_cost:W}),(0,c.vZ)(6,{sessionId:e}),{xnetRes:B,logicCost:b,multimodalScreenshotId:x}}catch(e){return f.warn("xnet inference error: ",e),{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:b}}}));return function(t,r,a,n,i,o){return e.apply(this,arguments)}}(),b=1,w=!0,I=function(){var e=i()((function*(e,t,r){var a=yield(0,l.A6)(void 0,!0);if(a&&a.length){var n=b++;w&&(w=!1,(0,c.vZ)(1,{sessionId:n}));var o,s,u,d=[],{domTextPreset:p,regCheckCfg:f,taskId:I,debug:S}=a[0],k=S?m.getCurrentFullyRoutePath():m.getCurrentRoutePath(),C=Date.now();t||r?s=!0:t=yield((e={})=>{var t=Date.now();return new Promise(((r,a)=>{(0,h.L)("getMultiDOMContent",{types:e.types},void 0,(e=>{null!=e&&e.errMsg?a(e.errMsg):r({res:e,cost:Date.now()-t})}))}))})({types:p}),u=t;var T,P,{res:A,cost:E}=u;s&&(A=t,E=0),A.htmlId&&(T=A,A=A.domData),r?P={regRes:void 0,errMsg:void 0,cost:0}:(P=y(f,A)).errMsg&&(o=P.errMsg),d.push({logic_type:1,time_cost:P.cost});var M=!1,x=[],D=a.map(function(){var e=i()((function*(e){if(!e.asPreposition&&!e.unionMember&&(!e.isScreenshot||e.isMultiModal)){e.isMultiModal&&(M=!0);var{modelUrl:t,cfg:a,modelName:i,key:l,isMultiModal:c,runTiming:u=[]}=e;if(("modal"!==r||u.includes("at_modal"))&&("toast"!==r||u.includes("at_toast"))&&("clipboard"!==r||u.includes("at_clipboard"))){var{xnetRes:d,errMsg:p,logicCost:h,multimodalScreenshotId:f}=yield _(n,t,i,a,A,r?A:void 0,{isMultiModal:c,debug:S,preMultiDomContent:s}),v={conf_name:l,xnet_res:d,errmsg:p,logic_cost_time_list:h,multimodalScreenshotId:f};if(S){var m=[];for(var y of Object.keys(a)){var b,w=a[y],I=(0,g.sM)(w.data);(null===(b=I)||void 0===b?void 0:b.length)>2e4&&(I=I.slice(0,2e4)+":size over max"),m.push({key:y,type:w.type,shape_list:w.shape,base64_data:I})}v.debug_data={xnet_param:m}}x.push(v),p&&(o=p)}}}));return function(t){return e.apply(this,arguments)}}());if(yield Promise.all(D),x.length||P.regRes||o){var R,L=Date.now()-C;if(d.push({logic_type:5,time_cost:E}),M&&S){var N,O=new Promise((e=>{N=e}));v.on("screenshotUpload",(e=>{R=e,N()})),yield O}var B=e;"toast"===r?B=21:"modal"===r?B=22:"clipboard"===r?B=23:"loading"===r&&(B=24),(0,c.Eh)({taskId:I,xnetResList:x,regResList:P.regRes,curPath:k,runScene:B,runTime:Date.now(),costTime:L,errMsg:o,debug:S,domTextPresetData:A,blockTime:-1,logicCostList:d,contentId:M?3:1,screenShotId:R,webviewCfg:T,sessionid:n,interactionType:r})}}}));return function(t,r,a){return e.apply(this,arguments)}}()},1731:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var a=[],n=e=>{a.push(e)}},7695:(e,t,r)=>{"use strict";r.d(t,{Nc:()=>J,P6:()=>z});var a,n,i,s,l=r(3888),c=r.n(l),u=r(5179),d=r(9806),p=r(526),h=e=>{a=e},g=function(){var e=c()((function*(e){var t;if(!Array.isArray(a)||-1===(t=a.findIndex((t=>t.word_vocab_name===e))))throw new Error(`can't get vocab which named '${e}'`);var{url:r,word_vocab_name:n,update:i}=a[t];return yield(0,p.t)(r,n,2,i)}));return function(t){return e.apply(this,arguments)}}(),v=(0,d.Fr)(u.p),m=function(){var e=c()((function*(e){if(n)return n;var t=yield g(e),r=yield v({filePath:t,encoding:"utf-8"});return n=(n=r.data).split("\n").reduce(((e,t,r)=>(e[t]=r,e)),{})}));return function(t){return e.apply(this,arguments)}}(),y=r(8791);o.onLoad((()=>{s=(0,d.Fr)(y.WY)}));var _=function(){var e=c()((function*(e,t){if(!e)throw new Error("unexpected: get null ab");if(!t){t=[2.074*i,i]}var r=e;"string"==typeof e&&(r=(yield s({url:e,responseType:"arraybuffer"})).data);for(var a=Array.prototype.slice.call(new Uint8Array(r)),n=t[0],o=t[1],l=Array(n).fill(0).map((e=>[])),c=function*(e){for(var t=function*(t){var[r,n,i]=Array(3).fill(0).map(((r,n)=>a[e*o*3+3*t+n]));l[e].push([r,n,i])},r=0;r<o;r++)yield*t(r)},u=0;u<n;u++)yield*c(u);return l}));return function(t,r){return e.apply(this,arguments)}}();function b(){return(b=c()((function*(e,t,r){try{var a=e,n="";t.forEach((e=>{"dictName"===e.key&&(n=e.value),"testRet"===e.key&&(a=e.value.replaceAll("'",'"'))}));var i=yield m(n),o=r[r.length-1],s=[],l=JSON.parse(a),c=(e,t=null)=>{if("[object Object]"===Object.prototype.toString.call(e))Object.keys(e).forEach((t=>{c(e[t],t)}));else if(Array.isArray(e))e.forEach((e=>{c(e,t)}));else if(s.length<o){var r=e;""!==r&&" "!==r||(r="empty");var a=(t+":"+r).toLowerCase();if(i[a]>=0)s.push(i[a]);else{var n=0;if((a=(r+="").toLowerCase()).length<=20)for(var l=0;l<a.length;l++)for(var u=1;u<5;u++)if(i[a.substr(l,u)]>=0){s.push(i[a.substr(l,u)]),n=1;break}0==n&&(a=(t+":other").toLowerCase(),i[a]>=0&&s.push(i[a]))}}};for(c(l);s.length<o;)s.push(0);return new Int32Array(s).buffer}catch(e){throw e}}))).apply(this,arguments)}function w(){return w=c()((function*(e,t,r){class a{constructor(){this.children={},this.idx=null}}class n{constructor(e,t){this.root=new a,this.simple=e,this.dict=t}insert(e,t){var r=this.root;for(var n of e)r.children[n]||(r.children[n]=new a),r=r.children[n];r.idx=t}segment(e){var t,r,a=[],n=[],i="",o=null,s=this.root;for(var l of e)if(s.children[l])i+=l,o=(s=s.children[l]).idx;else{var c,u,d;if(i)a.push(i),n.push(null!==(c=null!==(u=o)&&void 0!==u?u:this.dict[i])&&void 0!==c?c:this.simple?1:100);if(i="",o=null,(s=this.root).children[l])i+=l,o=(s=s.children[l]).idx;else a.push(l),n.push(null!==(d=this.dict[l])&&void 0!==d?d:this.simple?1:100)}i&&(a.push(i),n.push(null!==(t=null!==(r=o)&&void 0!==r?r:this.dict[i])&&void 0!==t?t:this.simple?1:100));return[a,n]}}try{var i,o;t.forEach((e=>{"simple"===e.key&&(i=e.value),"dictName"===e.key&&(o=e.value)})),i="true"===i,o="null"===o?null:o;var s=e;try{s=s.toLowerCase(),s=function(e){var t=["head","form","li","movable-view","navigator","br","h4","swiper","option","channel-video","rich-text","p","pre","checkbox","picker","keyboard-accessory","movable-area","h2","switch","live-pusher","em","picker-view-column","i","slider","cover-view","camera","view","label","h3","scroll-view","input","title","radio","cover-image","tr","icon","map","live-player","match-media","canvas","native-component","img","sticky-section","voip-room","text","list-view","checkbox-group","body","select","textarea","page-meta","sticky-header","ol","h1","strong","td","source","progress","page-container","a","functional-page-navigator","video","th","radio-group","div","channel-live","grid-view","ad","u","editor","navigation-bar","ul","h6","table","official-account","button","open-data","span","html","ad-custom","audio","image","swiper-item","root-portal","web-view","share-element","picker-view","h5","code"],r=new RegExp("<(\\/)?(.*?)>","g");return(e=e.replace(r,((e,r,a)=>t.includes(a)?e:" "))).replace(/\s\s+/g," ")}((e=>e.replace(/<wx-/g,"<").replace(/<\/wx-/g,"</"))(function(e){return"<html>"+(e=e.replace(/<([\w-]+)(?:\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[\w-]+))?)*\s*(\/?)>/g,"<$1$2>"))+"</html>"}(s)))}catch(e){throw e}var l,c,u={};o=i?"minivocab_html":o;try{u=yield m(o)}catch(e){throw e}try{[l,c]=function(e,t,r){var a=new n(r,t);for(var[i,o]of Object.entries(t))o<3209||a.insert(i,o);return a.segment(e)}(s,u,i)}catch(e){throw e}try{var d=r[1]-(i?0:2);if(c.length>d&&(c=c.slice(0,d)),i||(c.unshift(101),c.push(102)),c.length<d)for(;c.length<d;)c.push(0)}catch(e){throw e}return new Int32Array(c).buffer}catch(e){throw e}})),w.apply(this,arguments)}function I(){return(I=c()((function*(e,t,r){try{var a,n,i=e,o=!0;t.forEach((e=>{"startPct"===e.key&&(a=e.value),"minSeqLength"===e.key&&(n=e.value),"dictType"===e.key&&"bert"===e.value&&(o=!1)}));var s=r.reduce(((e,t)=>e*t),1);i=i.slice(i.length*a,i.length*a+s);for(var l=yield m(o?"minivocab":"alberttiny489kvocab"),c=r[0],u=r[r.length-1],d=[],p=[],h=0;h<i.length+1;h++)if("\n"===i[h]||h===i.length){if(p.length>=n){var g=u-(o?0:2);if(p.length>g&&(p=p.slice(0,g)),o||(p.unshift(101),p.push(102)),p.length<u)for(;p.length<u;)p.push(0);d.push(p)}if(p=[],d.length>=c)break}else p.push(l[i[h]]||(o?1:100));for(;d.length<c;)d.push(new Array(u).fill(0));return new Int32Array(...d).buffer}catch(e){f.warn("reshape occur error:",e)}}))).apply(this,arguments)}var S,k=r(1399),C=r(6759),T="FusedResize";function P(e,t){return function(e,t){try{return{res:t(),errMsg:null}}catch(t){return f.warn(`[mnxnet]: ${e} err: ${JSON.stringify(t)}`),{res:null,errMsg:(null==t?void 0:t.errMsg)||"errMsg not defined"}}}(e,(()=>S.InvokeMethod(e,null,t)))}function A(){return(new Date).getTime()}function E(){return(E=c()((function*(e,t,r){f.warn("[mnxnet] resizeScreenshotRect use native impl");var a,n=.5,i=.5,o="NCHW",s=Math.min(r[0],r[1]);t.forEach((e=>{"mean"===e.key&&(n=e.value),"std"===e.key&&(i=e.value),"inputType"===e.key&&(o=e.value),"resizeType"===e.key&&e.value,"shortEdge"===e.key&&(s=e.value)}));try{S=k.Z.XInference;var l={type:"uint8",shape:[r[0],r[1],3]};f.warn(`[mnxnet]: preprocess dataIn: ${JSON.stringify(l)}`),l.data=e;var c=1/(255*i),u=n/i,d=A(),p=!1;"NCHW"===o&&(p=!0),a={image:l,dstHW:[s,s],bias:[u,u,u],scale:[c,c,c],toNCHW:p};var{res:h,errMsg:g}=P("FuseProcess",a),v=A()-d;return(0,C.f5)(1,T,g,v,a,1),f.warn(`[mnxnet] preprocess cost ${v} ms`),h.data.buffer}catch(e){(0,C.f5)(1,T,JSON.stringify(e),0,a,1),f.warn(`[mnxnet] preprocess err: ${e}`)}}))).apply(this,arguments)}r(4500);var M="";function x(){return x=c()((function*(e,t,r){f.warn("[mnxnet]: resizeScreenshotRect called");try{var a=M.includes(T);if(t.disableDipFuncList&&t.disableDipFuncList.includes(T)&&(a=!1,f.warn("[mnxnet]: disable native fused resize by svr")),a&&((S=S||k.Z.XInference)||(f.warn("[mnxnet]: NativeGlobal.XInference not available"),0)))return f.warn("[mnxnet]: enableNativeFusedResize"),function(e,t,r){return E.apply(this,arguments)}(e,t,r);var n=(new Date).getTime(),i=.5,o=.5,s="NCHW",l=e;t.forEach((e=>{"mean"===e.key&&(i=e.value),"std"===e.key&&(o=e.value),"inputType"===e.key&&(s=e.value),"resizeType"===e.key&&e.value}));var c=yield _(l,r),u=0,d=c.length/c[0].length,p=c[0].length,h=c.length;c.length<c[0].length&&(u=1,d=c[0].length/c.length,p=c.length,h=c[0].length);var g={image:{type:"uint8",shape:[r[0],r[1],3]},dstHW:[p,p],toNCHW:"NCHW"===s},v=Math.ceil(d),m=Math.floor(v/2),y=[];if("NCHW"===s)for(var b=0;b<3;b++)for(var w=0;w<p;w++)for(var I=0;I<p;I++){var P=0,A=0,x=0;x=0===u?Math.floor(w*d):Math.floor(I*d);for(var D=0;D<v;D++){var R=x-m+D;R>=0&&R<h&&(P+=1,A+=0===u?c[R][I][b]:c[w][R][b])}P>0?y.push((A/P/255-i)/o):y.push(0)}else for(var L=0;L<p;L++)for(var N=0;N<p;N++){var O=0;O=0===u?Math.floor(L*d):Math.floor(N*d);for(var B=0;B<3;B++){for(var j=0,F=0,W=0;W<v;W++){var U=O-m+W;U>=0&&U<h&&(j+=1,F+=0===u?c[U][N][B]:c[L][U][B])}j>0?y.push((F/j/255-i)/o):y.push(0)}}var G=(new Date).getTime()-n;return(0,C.f5)(0,T,null,G,g,1),new Float32Array(y).buffer}catch(e){throw e}})),x.apply(this,arguments)}function D(){return(D=c()((function*(e,t,r){try{var a=[],n=[];t.forEach((e=>{var t=e.key,r=e.value;a.push(t),r&&r.forceReRun&&n.push(t)}));for(var i=a.length,o=yield(0,C.U7)(a,{forceRunKeys:n}),s=new Float32Array(i),l=0;l<i;++l)s[l]=o[a[l]];return s.buffer}catch(e){return f.warn(`[mnxnet]: mnxnetBenchmark err: ${e}`),new ArrayBuffer(1)}}))).apply(this,arguments)}var R=function(){var e=c()((function*(e,t,r){var a,n,i,o,s=!0;if(t.forEach((e=>{"simple"===t.key&&(s="1"===t.value),"startPct"===e.key&&(a=e.value),"maxSize"===e.key&&(n=e.value-(s?0:2)),"dictName"===e.key&&(i=e.value)})),e=e.replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g,"").toLowerCase(),n<0){var l=e.length*a+n;l<0&&(l=0),e=e.slice(l,e.length*a)}else e=e.slice(e.length*a,e.length*a+n);i||(i=s?"minivocab":"alberttiny489kvocab");try{o=yield m(i)}catch(e){}for(var c=r[r.length-1]-(s?0:2),u=[],d=0;d<e.length&&d<c;d++)u.push(o[e[d]]||(s?1:o["[UNK]"]));if(s||(u.unshift(o["[CLS]"]),u.push(o["[SEP]"])),u.length<c)for(;u.length<c;)u.push(0);return new Int32Array(u).buffer}));return function(t,r,a){return e.apply(this,arguments)}}();function L(){return(L=c()((function*(e,t,r){try{var a=0,n=512,i=!0;t.forEach((e=>{"startPct"===e.key&&(a=e.value),"maxSeqLength"===e.key&&(n=e.value),"dictType"===e.key&&"bert"===e.value&&(i=!1)}));var o,s=e.slice(Math.floor(e.length*a),e.length);try{o=yield r.readWordDict(i?"minivocab":"alberttiny489kvocab")}catch(e){throw e}for(var l=[],c=0;c<s.length;c++){var u=s[c];o[u]&&o[u]>60&&o[u]<2900&&l.push(o[u])}var d=[],p=n-(i?0:2);if(l.length>p){for(var h=0;h<l.length;h++){var f=l[h];f>270&&f<570||f>580&&f<660||f>790&&f<990||f>1100&&f<1200||f>1300&&f<1900||f>2e3&&f<2800||d.push(f)}d.length>p&&(d=d.slice(0,p))}else d=l;for(i||(d.unshift(101),d.push(102));d.length<n;)d.push(0);return new Int32Array(d).buffer}catch(e){throw e}}))).apply(this,arguments)}var N=r.g.eval,O={mnxnetBenchmark:function(e,t,r){return D.apply(this,arguments)},GetTextIdsVec:R,GetTextIdsSimple:(e,t,r)=>R(e,t,r,!0),GetTextIdsMultiDimension:function(e,t,r){return I.apply(this,arguments)},GetTrimTextProcrss:function(e,t,r){return L.apply(this,arguments)},exceptionRetProcess:function(e,t,r){return b.apply(this,arguments)},resizeScreenshotRect:function(e,t,r){return x.apply(this,arguments)},html2WordEmbedding:function(e,t,r){return w.apply(this,arguments)}},B=function(){var e=c()((function*(e,t,r,a,n,i){var o=void 0!==i?i:e[t],s=O[r];if(s)try{return yield s(o,a,n)}catch(e){throw e}return o}));return function(t,r,a,n,i,o){return e.apply(this,arguments)}}(),j=function(){var e=c()((function*(e,t,r,a,n){return new Promise(((i,o)=>{var s=i,l=o;try{F(`(${e})(input, svrData, env, safeEvalExecCallbackResolve, safeEvalExecCallbackReject)`,{input:t,svrData:r,safeEvalExecCallbackResolve:s,safeEvalExecCallbackReject:l,env:{readWordDict:m,shape:a,transformRGB:_,sdkUtils:n}})}catch(e){o(e)}}))}));return function(t,r,a,n,i){return e.apply(this,arguments)}}(),F=(e,t)=>{var r=Object.entries(t).reduce(((e,[t,r])=>(globalThis[t]=r,e+=`let ${t} = globalThis.${t};globalThis.${t} = undefined;`)),"");N(`(function safe_execute() {\n    'use strict';\n    ${r};\n    ${e};\n  })()`)},W=r(1190);JSON.parse('{"wxa_client_check":{"task_id":126,"check_logic":{"xnet":{"model_url":"https://776c-wlc-25xh9-1301415383.tcb.qcloud.la/shorttext_0616.onnx?sign=f4bf7692cacae8ed258bd9cd5ae85f38&t=1655374931","model_name":"shorttext_0616","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,32],"preset_data":"dom_text","pre_proc":{"proc_name":"test_eval","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"}]}}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1L6xm7977OadcHI9SjWEFyyPBR5eYKJkcbhrgswImDYC3YKlIRRM73EO0VwRpkEqgQ"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}]},"xnet_list":[{"conf_name":"exception_ret_rf","model_url":"https://res.wx.qq.com/op_res/Su68tAlYHulBHYkTrgR7F-F2k70xZL3UdYx-9AAeC1Shp4HU-eom-1HEYkzm711WNoy36-alAUFYDwzR9JsGmQ","model_name":"wxapp_exception_detect","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,8],"preset_data":"dom_text","pre_proc":{"proc_name":"exceptionRetProcess","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"},{"key":"dictName","value":"exceptionVocab"}]}}]}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/82EQolnzIWQb3DHsw2nz9AfRqg08CX80ydEXWONUDHQAKP9suHH1OGBZi8c6_DT9j8phbuwFWn385JL2Tz4nZw"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}],"reg_list":[]},"timing":{"after_load_interval":4000,"after_load_maxcnt":4,"most_cnt":1},"filter":{"black_path_list":["packageAPI/pages/api/get-user-info/get-user-info"],"white_path_list":["packageAPI/pages/api/get-user-info*"]},"debug_mode":1,"debug_data":["dom_text","dom_html"],"debug_code":[{"func_name":"test_eval","code":"async function batchProcess(d,a,e,m,f){const dict = await env.readWordDict(\'exceptionVocab\'); console.log(\'dict:\', dict)}"}],"gray_pub_mode":true}}');var U=r(8316),G=r(6342),V=r(1197),$=r(3945),q=["dom_text","dom_html","dom_content","dom","screenshot"],z=()=>new Promise(((e,t)=>{var r,a,n,i;if(null!==(r=G.default.appContactInfo)&&void 0!==r&&null!==(a=r.operationInfo)&&void 0!==a&&null!==(n=a.jsonInfo)&&void 0!==n&&null!==(i=n.op_info)&&void 0!==i&&i.skip_async_secinfo)return e({close:!0});(0,V.o)().then(function(){var r=c()((function*(r){try{var a,n;if(null===(a=r.data)||void 0===a||null===(n=a.wxa_client_check)||void 0===n||!n.check_logic)return e({close:!0});r.data.wxa_client_check.check_logic&&r.data.wxa_client_check.check_logic.xnet&&h(r.data.wxa_client_check.check_logic.vocab_list),r.data.wxa_client_check.gray_pub_mode&&(0,$.sU)();var i=[];for(var o of r.data.wxa_client_check.check_logic.xnet_list){var s,l=yield K({xnet:o,reg_list:r.data.wxa_client_check.check_logic.reg_list},r.data.wxa_client_check.debug_data,r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_code:null);l.taskId=r.data.wxa_client_check.task_id,l.checkConfig=r.data.wxa_client_check.timing,l.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,l.debug_codes=l.debug?r.data.wxa_client_check.debug_code:null,l.runTiming=null===(s=o.sub_timing)||void 0===s?void 0:s.event_list,i.push(l)}if(!i.length&&r.data.wxa_client_check.check_logic.reg_list){var c=[];if(r.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{c.push((0,U.Ht)(e))})),c.length){var u={regCheckCfg:r.data.wxa_client_check.check_logic.reg_list,domTextPreset:c};u.taskId=r.data.wxa_client_check.task_id,u.checkConfig=r.data.wxa_client_check.timing,u.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,i.push(u)}}1===r.data.wxa_client_check.timing.at_redirect&&1,e(i)}catch(e){t(e)}}));return function(e){return r.apply(this,arguments)}}()).catch(t)})),H=[],K=function(){var e=c()((function*(e,t,r){var a,n={},{model_url:i,model_name:o,cli_param_list:s=[],svr_param_list:l=[],conf_name:u,allowNPU:d,allowQuantize:p,typicalShape:h}=e.xnet||{},f=null!==(a=e.reg_list)&&void 0!==a?a:[],g=[],v=!1,m=!1;if([...f,...s].forEach((e=>{var{preset_data:t}=e;"screenshot"===t&&(m=!0),!g.includes(t)&&t&&q.includes(t)&&g.push((0,U.Ht)(t))})),i){var y={};s.forEach(((e,t)=>{var r;if(null!==(r=e.union)&&void 0!==r&&r.length){y[e.key]=e.union;var a="screenshot"!==e.preset_data,n="screenshot"===e.preset_data;e.union.forEach((t=>{"screenshot"!==s[t].preset_data?a=!0:n=!0,a&&n&&(e.isMultiModal=!0)}))}if(e.preposition){if(!s[t])throw new Error(`unexpect config: ${e.key} exist an illegal preposition`);s[t].asPreposition=!0}}));for(var _=function*(e){var t,a,i,o=s[e],{preset_data:l,pre_proc:u}=null!=o?o:{},{proc_name:d,param:p}=null!=u?u:{};n[o.key]={type:o.type||"int32",shape:o.shape_list,getData:(i=c()((function*(e,t,{customShape:a,sdkUtils:i={}}={}){var s;if(r&&-1!==(s=r.findIndex((e=>e.func_name===d)))){var c,u=r[s].code;try{c=yield j(u,void 0!==t?t:e[(0,U.Ht)(l)],p,null!=a?a:o.shape_list,i)}catch(e){console.error("contentCheck debug safeEval occur error:",e)}return c}if(n[o.key].prepositionPreHandler){var h=n[n[o.key].prepositionPreHandler];if(h){var f=yield h.getData(e,t,{customShape:a});return yield B(f,(0,U.Ht)(l),d,p,null!=a?a:o.shape_list,t)}}return yield B(e,(0,U.Ht)(l),d,p,null!=a?a:o.shape_list,t)})),function(e,t){return i.apply(this,arguments)}),prepositionPreHandler:null===(t=s[o.preposition])||void 0===t?void 0:t.key,isMultiModal:!!o.isMultiModal,modalType:"screenshot"===o.preset_data?"image":"text",param_ctrl:o.param_ctrl||{}},n[o.key].isMultiModal&&(v=!0),Object.keys(y).forEach((t=>{if(-1!==y[t].indexOf(e)){var r;if(null!==(r=o.union)&&void 0!==r&&r.length)throw new Error(`unexpect config: unionsponsor: ${o.key} is also the unionmember`);n[o.key].unionMember=!0}})),null!==(a=o.union)&&void 0!==a&&a.length&&(n[o.key].unionMembers=o.union.map((e=>({key:s[e].key,ready:!1}))))},b=0;b<s.length;b++)yield*_(b);l.forEach((e=>{n[e.key]={type:e.type,shape:e.shape_list,data:(0,W.RG)(e.base64_data)}}))}H.push(...g),H=Array.from(new Set(H));var w=[];m||H.forEach((e=>{6!==e&&7!==e&&8!==e||w.push(e)}));var I=!1;return(H=H.filter((e=>!(6===e||7===e||8===e)))).length||(I=!0),{onlyInteractionCheck:I&&!m,modelName:o,model:i,config:n,domTextPreset:H,interactionPreset:w,regCheckCfg:f,key:u,cliParamList:s,isScreenshot:m,isMultiModal:v,allowNPU:!!d,allowQuantize:!!p,typicalShape:h}}));return function(t,r,a){return e.apply(this,arguments)}}(),J=function(){var e=c()((function*(e,t,r,{customShape:a,debugCustomReport:n}={}){for(var i of Object.values(e))"function"==typeof i.getData&&(i.data=yield i.getData(t,r,{customShape:a,sdkUtils:{debugCustomReport:n}}));return e}));return function(t,r,a){return e.apply(this,arguments)}}()},1197:(e,r,a)=>{"use strict";a.d(r,{o:()=>f});var n=a(3888),i=a.n(n),o=a(4536),s=a(9946),l=a(6342),c=a(6227),u=a(7445),d=a(9031),p=null,h=void 0!==t&&t?t.version:"unknown";var f=function(){var e=i()((function*(){return yield c.v8,p||(p=(0,u.tK)()?Promise.resolve({data:{}}):new Promise(((e,t)=>{var r=(0,c.Q1)();if((0,d._F)())(0,d.CP)({id:d.GY.getSecInfo,success:t=>{e(t)},fail:t});else{var a=(0,s.$)();(0,o.yD)({sdkApiName:"webapi_getwxaasyncsecinfo",apiName:"webapi_getwxaasyncsecinfo",reqData:{client_version:l.default.clientVersion,pub_version:h,performance:a,instance_id:l.default.appLaunchInfo.sessionid||l.default.appLaunchInfo.sessionId,...r?{xnet_conf_list:[r]}:{}},success:t=>{e(t)},fail:t})}})))}));return function(){return e.apply(this,arguments)}}()},9138:(e,t,r)=>{"use strict";r.d(t,{A6:()=>h,Ds:()=>c});var a,n,i,o=r(3888),s=r.n(o),l=r(7695),c=()=>a,u=!1,d=new Promise((e=>i=e)),p=function(){var e=s()((function*(){if(!n&&!u){u=!0;try{var e=yield(0,l.P6)();if(!Array.isArray(e))return i(!1);e=e.map((e=>{var{model:t,config:r,checkConfig:i,domTextPreset:o,regCheckCfg:s,modelName:l,taskId:c,debug:u,key:d,cliParamList:p,isScreenshot:h,isMultiModal:f,typicalShape:g,allowQuantize:v,allowNPU:m,onlyInteractionCheck:y,interactionPreset:_,runTiming:b}=e,{after_load_interval:w,after_load_maxcnt:I,at_redirect:S,most_cnt:k}=null!=i?i:{};return r.allowQuantize=v,r.allowNPU=m,r.typicalShape=g,(n={}).mostCnt=k,n.currentCnt=0,n.afterLoadInterval=w,n.afterLoadMaxCnt=I,n.atRedirect=S,n.modelUrl=t,n.cfg=r,n.domTextPreset=o,n.regCheckCfg=s,n.modelName=l,n.taskId=c,n.debug=u,n.key=d,n.cliParamList=p,n.isScreenshot=h,n.isMultiModal=f,n.typicalShape=g,n.allowNPU=m,n.allowQuantize=v,n.interactionPreset=_,n.onlyInteractionCheck=y,n.runTiming=b,a=c,n})),i(e)}catch(e){i(null)}}}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=s()((function*(e,t=!1){p();var r=yield d;return r?t?r:e?r.find((t=>t.key===e)):r[0]:null}));return function(t){return e.apply(this,arguments)}}()},3945:(e,t,r)=>{"use strict";r.d(t,{Eh:()=>u,W6:()=>p,sU:()=>l,vZ:()=>d});var a=r(4536),n=r(1190),i=r(8316),o=r(9138),s=!1,l=()=>s=!0,c=1,u=({taskId:e,xnetResList:t,regResList:r,curPath:o,runScene:s,runTime:l,costTime:u,errMsg:d,debug:p,domTextPresetData:h,blockTime:f,logicCostList:g,specialCase:v,contentId:m,screenShotId:y,webviewCfg:_,sessionid:b,interactionType:w})=>{var I=[],S=[];Array.isArray(t)&&t.forEach((e=>{var t=e.multimodalScreenshotId;t&&S.push(t);var r=e.xnet_res;if(r){var a=[];for(var i of Object.keys(r)){var o=r[i];a.push({key:i,type:o.type,shape_list:o.shape,base64_data:(0,n.sM)(o.data)})}e.xnet_res=a,I.push(e)}else I.push(e)}));var k={task_id:e,xnet_res_list:I,reg_res_list:r,cur_path:o,run_scene:s,run_time:l,cost_time:u,errmsg:d,block_time:f,logic_cost_time_list:g,special_case:v,content_type:m,webview_url:null==_?void 0:_.webviewUrl,report_id:c++,sessionid:b,report_time:Date.now()};if(2===m)k.debug_data={preset_data_list:[{key:"screenshot",value:p}]};else if(Array.isArray(p)){var C=[];h&&p.forEach((e=>{if("modal"===e||"toast"===e||"clipboard"===e){if(e!==w)return;C.push({key:e,value:h})}else"screenshot"===e?C.push({key:e,value:y}):C.push({key:e,value:h[(0,i.Ht)(e)]})})),S.length&&S.forEach((e=>{C.push({key:"screenshot_preprocessor",value:e})})),k.debug_data={preset_data_list:C}}(0,a.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:k})},d=(e,t={})=>{if(s){var r=(0,o.Ds)(),n=t.sessionId;n&&delete t.sessionId;var i={task_id:r,xnet_moment:e,...t,sessionid:n,report_id:c++,report_time:Date.now()};(0,a.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:i})}},p=(e,t)=>r=>{(0,a.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:{task_id:e,sessionid:t,pre_proc_log:r,report_id:c++}})}},4567:(e,t,r)=>{"use strict";r.d(t,{hF:()=>s});r(3888);var a=r(6252),n=(r(9138),r(4536)),i=r(8246),o=(r(8791),!1),s=()=>o,l=(e,t,r)=>{t&&((0,a.BF)(11,{res:e,cost:-1}),setTimeout((()=>l(e,t-1,r)),r))},c=0,u=0;new Set;(0,i.n)("onDumpWebviewDom",(e=>{(e=JSON.parse(e)).domData={1:e.innerText,2:e.innerHTML,3:e.textContent},(0,n.IN)("setAcquireWebviewDom",{enableAcquireWebviewDom:!1}),l(e,c,u)}))},8316:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>n});var a={dom_text:1,dom_html:2,dom_content:3,dom:4,screenshot:5,modal:6,toast:7,loading:8},n=e=>a[e]},5436:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var a=r(6142);class n{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){(0,a.mf)(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var r=this.eventMap.get(e);"function"!=typeof t?null==r||r.clear():null==r||r.delete(t)}emit(e,...t){var r=[...this.eventMap.get(e)||[]],a=`at ${this.type}${e} callback function`;r.forEach((e=>this.surround?((e,t,...r)=>{if(void 0!==_)_.surroundThirdByTryCatch(e,t)(...r);else if(void 0!==y)y.surroundThirdByTryCatch(e,t)(...r);else try{e(...r)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}})(e,a,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}},7445:(e,t,r)=>{"use strict";r.d(t,{Ae:()=>u,DD:()=>d,Dq:()=>p,HI:()=>k,KU:()=>_,LU:()=>I,Mq:()=>c,RF:()=>b,aI:()=>y,cj:()=>s,er:()=>v,fs:()=>g,gm:()=>i,iw:()=>n,jP:()=>h,oS:()=>m,qB:()=>l,tK:()=>S,tg:()=>f,wZ:()=>o});var a=r(6342),n=(()=>a.default.platform)(),i=(()=>"devtools"===n)(),o=(()=>"android"===n)(),s=(()=>"ios"===n)(),l=(()=>"windows"===n)(),c=(()=>"mac"===n)(),u=(()=>"mina"===n)(),d=(()=>l||c)();function p(){if(a.default&&"debug"in a.default&&void 0!==a.default.debug)return!!a.default.debug}var h=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function f(){return"object"==typeof window&&window&&window.__wkrenderer_h5&&(2&window.__featBit)>0}function g(){return r.g.__isAppServiceRemoteDebugMode__||"undefined"!=typeof __initHelper&&1===__initHelper}function v(){var e=a.default.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function m(){var e=!0;return e}function y(){return!0}var _=(()=>!1)();function b(){return 0===a.default.appType}var w=[0,1,2,3,5,6,8,9,10,11,12,13];function I(){return w.includes(a.default.appType)}function S(){return 7===a.default.appType}function k(){return 10===a.default.appType}},1591:(e,t,r)=>{"use strict";r.d(t,{i:()=>n,l:()=>a});class a extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class n extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}Object.freeze(n),Object.freeze(n.prototype)},9766:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var a=r(9661),n=(()=>new a.Z({maxListeners:20,newListener:!1}))(),i=(()=>new a.Z({maxListeners:30,newListener:!1}))();var o={};function s(e){if(e=e[0].toUpperCase()+e.slice(1),!o[e]){var t=new WeakMap;o[e]={getGlobalListeners:()=>n.listeners(e),getInternalListeners:()=>i.listeners(e),emit:(...t)=>{i.emit(e,...t),n.emit(e,...t)},emitGlobal:(...t)=>{n.emit(e,...t)},emitInternal:(...t)=>{i.emit(e,...t)},internalOnMethod:(t,r={})=>{"function"==typeof t&&(r.prepend?r.once?i.prependOnceListener(e,t):i.prependListener(e,t):r.once?i.once(e,t):i.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&i.off(e,t)},onMethod:r=>{var a=function(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):_.surroundThirdByTryCatch(t,`at api on${e} callback function`)}(e,r);if(a){if(t.has(r)){var i=t.get(r);i.push(a),t.set(r,i)}else t.set(r,[a]);n.on(e,a)}},offMethod:r=>{if(function(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}(e,r))if(r){if(t.has(r)){t.get(r).forEach((t=>n.off(e,t))),t.delete(r)}}else t=new WeakMap,n.removeAllListeners(e)}}}return o[e]}},9661:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u,y:()=>c});var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=20;function o(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:i,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=i}function l(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function c(e){this._events={},this._newListener=!1,this._removeListener=!1,s.call(this,e)}c.prototype.delimiter=".",c.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},c.prototype.event="",c.prototype.once=function(e,t){return this._once(e,t,!1)},c.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},c.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},c.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},c.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},c.prototype._many=function(e,t,r,a){var n=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function i(){return 0==--t&&n.off(e,i),r.apply(this,arguments)}return i._origin=r,this._on(e,i,a),n},c.prototype.emit=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,a,n,i,s=arguments.length;if(this._all&&this._all.length){if(i=this._all.slice(),s>3)for(t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];for(a=0,r=i.length;a<r;a++)switch(this.event=e,s){case 1:i[a].call(this,e);break;case 2:i[a].call(this,e,arguments[1]);break;case 3:i[a].call(this,e,arguments[1],arguments[2]);break;default:i[a].apply(this,t)}}if("function"==typeof(i=this._events[e])){switch(this.event=e,s){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];i.apply(this,t)}return!0}if(i&&(i=i.slice()),i&&i.length){if(s>3)for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];for(a=0,r=i.length;a<r;a++)switch(this.event=e,s){case 1:i[a].call(this);break;case 2:i[a].call(this,arguments[1]);break;case 3:i[a].call(this,arguments[1],arguments[2]);break;default:i[a].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},c.prototype.emitAsync=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,a,n,i,s=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),n=1;n<l;n++)t[n]=arguments[n];for(a=0,r=this._all.length;a<r;a++)switch(this.event=e,l){case 1:s.push(this._all[a].call(this,e));break;case 2:s.push(this._all[a].call(this,e,arguments[1]));break;case 3:s.push(this._all[a].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[a].apply(this,t))}}if("function"==typeof(i=this._events[e]))switch(this.event=e,l){case 1:s.push(i.call(this));break;case 2:s.push(i.call(this,arguments[1]));break;case 3:s.push(i.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),n=1;n<l;n++)t[n-1]=arguments[n];s.push(i.apply(this,t))}else if(i&&i.length){if(i=i.slice(),l>3)for(t=new Array(l-1),n=1;n<l;n++)t[n-1]=arguments[n];for(a=0,r=i.length;a<r;a++)switch(this.event=e,l){case 1:s.push(i[a].call(this));break;case 2:s.push(i[a].call(this,arguments[1]));break;case 3:s.push(i[a].call(this,arguments[1],arguments[2]));break;default:s.push(i[a].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},c.prototype.on=function(e,t){return this._on(e,t,!1)},c.prototype.prependListener=function(e,t){return this._on(e,t,!0)},c.prototype.onAny=function(e){return this._onAny(e,!1)},c.prototype.prependAny=function(e){return this._onAny(e,!0)},c.prototype.addListener=c.prototype.on,c.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},c.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this},c.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,i=[];if(!this._events[e])return this;r=this._events[e],i.push({_listeners:r});for(var o=0;o<i.length;o++){if(r=i[o]._listeners,n(r)){for(var s=-1,l=0,c=r.length;l<c;l++)if(r[l]===t||r[l].listener&&r[l].listener===t||r[l]._origin&&r[l]._origin===t){s=l;break}if(s<0)continue;return this._events[e].splice(s,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var n in r){var i=r[n],o=t[i];o instanceof a||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[i]),0===Object.keys(o).length&&delete t[i])}}}(this.listenerTree),this},c.prototype.offAny=function(e){var t,r=0,a=0;if(e&&this._all&&this._all.length>0){for(r=0,a=(t=this._all).length;r<a;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,a=t.length;r<a;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},c.prototype.removeListener=c.prototype.off,c.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||o.call(this),this):(this._events&&delete this._events[e],this)},c.prototype.listeners=function(e){return this._events||o.call(this),this._events[e]||(this._events[e]=[]),n(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},c.prototype.eventNames=function(){return Object.keys(this._events)},c.prototype.listenerCount=function(e){return this.listeners(e).length},c.prototype.listenersAny=function(){return this._all?this._all:[]};const u=c},1708:(e,r,a)=>{"use strict";a.d(r,{k:()=>o,n:()=>s});var n=void 0!==t&&t?t.version:"unknown",i=void 0!==t&&t?t.updateTime:"unknown";"string"==typeof n&&(n=n.replace(" ","")),"string"==typeof i&&(i=i.replace(" ","-"));var o=()=>n,s=()=>i},5933:(e,t,r)=>{"use strict";r.d(t,{HM:()=>i,bq:()=>o});var a=r(9766),n=(r(9105),(0,a.s)("lifeCycle:AppRoute")),i=n.internalOnMethod,o=n.internalOffMethod;n.offMethod},9822:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});const a={requestPayment:57,setNavigationBarRightButton:238,requestVirtualPayment:285,setCookies:502,getCookies:503,openBizProfile:560,UDP:606,launchApplicationDirectly:620,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,launchApp:692,sendBizRedPacketForOpen:694,openWxappLimit5:720,shareCallback:740,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,requestSubscribeWhatsNew:782,shareImageMessage:801,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,handoff:931,private_chooseInvoiceTitleDirectly:932,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,openChannelsPostPage:984,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,plugin_launchApplicationDirectly_operateDirectly:1009,publishWeChatState:1014,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,userObRecording:1187,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,gameWelfareView:1250,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217,markRelievedBuyFlag:1232,enableAIAD:1233,gameCouponHangings:1235,skipDomainCheck:1266,previewImageLocal:1257,useGameCoverCodeCache:1272,private_createVestUser:1279,openMedicalInsuranceService:1288,openBusinessView:1295,choosePhoneNumberAreaCode:1273,useMagicBrushFrame:1299,returnWebviewUrlNotInBizDomainList:1298,disablePrivacyOfficialPopup:1305,operateTingAudio:1319,startQuotaControl:1329,skipDomainCheck_downloadFile:1335,skipDomainCheck_uploadFile:1336,skipDomainCheck_socket:1337,aiadBanCache:1343,aiadOnlyUsePreviewCache:1344,skipCheckCommercialWxaEncryptLicense:1364,canOpenEmbeddedMiniProgramAfterPayment:1365,useAiAdPreviewAdForm:1369,forceUsePreloadVersion:1376,isLiteGame:1375,getSCLAdapterForPlugin:1380,getElementPickerForPlugin:1381,startScreenShotForPlugin:1382,enableAiAdMultiAd:1387,aiadEnablePreviewVisionOptimize:1388,operateWXDataQuic:1390,aiadUsePreviewAdType:1392,skipWorkerProtect:1396,aiadEnableVisionShelterIdentify:1397,aiadUseDynamicUsrCache:1404,aiadUseSingleVersionConfiguration:1405,aiadEnablePreviewInterstitialAd:1419,aiadUseIncrementalWrite:1420,aiadDisableQuickLoad:1421,getPlayableViewAPI:1422,aiadBanner2CustomFeedback:1423,aiadExceptAlgoVersionFallback:1424,openUrlByExtBrowser3:1425,requestCommonPaymentForPlugin:1429,aiadDelayRuntimeComputed:1428,enableCacheAiadMetaInfos:1434,enableCacheAiadInterstitial:1435,openGameDetail:1438,aiadVisionUseGrayInput:1440}},4317:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});class a{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new a((t=>t(e)))}static reject(e){return new a((()=>{throw e}))}}},143:(e,t,r)=>{"use strict";r.d(t,{h:()=>i,v:()=>n});var a={},n=(e,t={})=>{if(!a[e]||t.noCache){var r={},n={},o={},s={on:(t,a)=>{r[t]&&f.warn(`基础库分包 ${e} on event: ${t} has subscribe listener`),r[t]=a,o[t]&&(o[t].forEach((e=>{a(e)})),delete o[t])},subscribe:(t,a)=>{r[t]&&f.warn(`基础库分包 ${e} subscribe event: ${t} has on listener`),n[t]||(n[t]=[]),n[t].push(a),o[t]&&(o[t].forEach((e=>{a(e)})),delete o[t])},publish:(e,t)=>{var a,i;return(a=r[e])?(a(t),!0):!!(i=n[e])&&(i.forEach((e=>e(t))),!0)},advancePublish:(e,t,r=!1)=>{(r?s.publish(e,t):i(e,t))||(o[e]||(o[e]=[]),o[e].push(t))},off:e=>{r[e]=null}};return a[e]=s,s}f.warn(`已经存在分包EM ${e}`)},i=(e,t,r,n)=>{var i=a[e];i&&(n?i.advancePublish(t,r):i.publish(t,r))}},1709:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Component:()=>b.wA,KeyValueReport20267:()=>M.v,Quality:()=>x.n,_offKeyboardHeightChange:()=>I.M2,_onBaseFrameShow:()=>d.OQ,_onGameLiveStateChange:()=>i.DT,_onHide:()=>u.vv,_onKeyboardHeightChange:()=>I.LK,_onShow:()=>c.dN,acceptSyncMainPackageNativeEventFromSubPackage:()=>w.ry,beforeInvokeCallback:()=>A.FE,beforeInvokeFail:()=>A.YG,createFeedbackLogger:()=>k.$,createScreenCanvas:()=>a.U,design:()=>f,designStyle:()=>m,getAccountInfoSync:()=>S.E,getPrivateThis:()=>b.Wj,getSystemInfo:()=>n.getSystemInfo,getSystemInfoSync:()=>n.getSystemInfoSync,hideKeyboard:()=>T.Sn,init:()=>b.S1,innerShareInvitationToLiveRoom:()=>y.rc,invokeOperateWXDataPromise:()=>P.Qh,offKeyboardComplete:()=>I.r,onAudioInterruptionBegin:()=>o.p$,onAudioInterruptionEnd:()=>s.aS,onDeviceOrientationChange:()=>L.Qq,onKeyboardComplete:()=>I.ri,onShow:()=>c.Ke,onWindowResize:()=>R.KN,packageChannel:()=>N,privateOpenUrl:()=>E.n,registerComponent:()=>C.RM,removePrivateThis:()=>b.bn,showKeyboard:()=>T.ez,showToast:()=>l.showToast,unregisterComponent:()=>C.d8,webviewLayout:()=>_.u});var a=r(2238),n=r(9195),i=r(273),o=r(6589),s=r(1441),l=r(5049),c=r(7351),u=r(4599),d=r(6906);r(1709);const p=252,h=300;var f={ready:!1,position:{x:0,y:0},IS_DEVTOOLS:!1,designSize:{width:h,height:p},lockSize:{width:h,height:112},device:{width:h,height:p},screenWidth:0,screenHeight:0,toolWidth:32,headerHeight:48,initPosition:{x:16,y:16},safeArea:{left:0,top:0,right:0,bottom:0,width:0,height:0}},g={fill:16777215,fontSize:12,whiteSpace:"normal",textBaseline:"middle",lineHeight:16,dropShadow:!0,dropShadowColor:"rgba(0, 0, 0, 0.8)",dropShadowDistance:1},v=Object.assign({},g,{fill:14737632,breakWords:!0,wordWrap:!0,wordWrapWidth:h-72}),m={commonStyle:g,dataStyle:v,listStyle:Object.assign({},g,{fill:14737632,breakWords:!0,wordWrap:!0,wordWrapWidth:h-72}),tipsStyle:Object.assign({},v,{fill:10592673}),linkStyle:Object.assign({},v,{fill:8425639}),userNameStyle:Object.assign({},g,{fill:14737632}),contextStyle:Object.assign({},g,{breakWords:!0,wordWrap:!0,wordWrapWidth:h-48}),joinStyle:Object.assign({},g,{lineHeight:20,breakWords:!0,wordWrap:!0,wordWrapWidth:h-56}),giftStyle:Object.assign({},g,{fill:9621832}),titleStyle:Object.assign({},g,{breakWords:!0,wordWrap:!0,wordWrapWidth:h-184,dropShadow:!1}),shareTitleStyle:Object.assign({},g,{dropShadow:!1}),timeStyle:Object.assign({},g,{lineHeight:14,fontSize:10,dropShadow:!1}),tipStyle:Object.assign({},g,{fill:10592673,lineHeight:14,dropShadow:!1,wordWrapWidth:h,wordWrap:!1}),newMessageStyle:Object.assign({},g,{fill:0,lineHeight:12,dropShadow:!1}),toastStyle:Object.assign({},g,{fill:16777215,lineHeight:20,dropShadow:!1}),musicNameStyle:Object.assign({},g,{fill:"rgba(255, 255, 255, 0.5)",fontSize:10,wordWrapWidth:60,breakWords:!0,wordWrap:!0,dropShadow:!1}),systemTipsStyle:Object.assign({},g,{fill:"rgba(0, 0, 0, 0.9)",breakWords:!0,lineHeight:17,dropShadow:!1,wordWrap:!0,wordWrapWidth:h-(f.toolWidth+48)})};var y=r(6910),_=r(8911),b=r(902),w=r(8246),I=r(9437),S=r(5692),k=r(8535),C=r(4545),T=r(2083),P=r(8190),A=r(4536),E=r(3131),M=r(9499),x=r(8927),D=r(143),R=r(9464),L=r(298),N=(0,D.v)("minigamelive")},3767:(e,t,r)=>{"use strict";r.d(t,{KF:()=>i,Q_:()=>a,gQ:()=>o});var a={uninjected:0,injected:1},n={minigamelive:a.uninjected,ad:a.uninjected,cloud:a.uninjected,protobuf:a.uninjected,ga:a.uninjected,kanata:a.uninjected,midas:a.uninjected,pixi:a.uninjected,sclengine:a.uninjected,minigamePlatform:a.uninjected},i=(e,t)=>{n[e]=t},o=e=>n[e]},6142:(e,t,r)=>{"use strict";r.d(t,{AT:()=>f,DM:()=>b,Em:()=>o,Ft:()=>d,HD:()=>s,Kn:()=>v,Qr:()=>I,U:()=>g,ZT:()=>P,e6:()=>T,eP:()=>S,fU:()=>k,hj:()=>l,i2:()=>p,jn:()=>c,kJ:()=>y,mf:()=>_,o8:()=>u,s$:()=>m,tI:()=>w,x7:()=>C});var n=(()=>Object.prototype.toString)(),i=a.prototype.call.bind(n);function o(e){return i(e).slice(8,-1)}var s=e=>"String"===o(e),l=e=>"Number"===o(e),c=e=>!0===e||!1===e||"Boolean"===o(e),u=e=>void 0===e,d=e=>null===e,p=(()=>Number.isNaN||(e=>e!=e))(),h=(()=>Number.isFinite||(e=>l(e)&&r.g.isFinite(e)))(),f=e=>l(e)&&Math.abs(e)===1/0,g=e=>h(e)&&Math.floor(e)===e,v=e=>"Object"===o(e),m=e=>v(e)&&!d(e),y=(()=>Array.isArray||(e=>"Array"===o(e)))(),_=e=>"function"==typeof e,b=e=>"Set"===o(e),w=e=>"Promise"===o(e),I=e=>{for(var t in e)return!1;return!0},S=e=>"ArrayBuffer"===o(e),k=e=>ArrayBuffer.isView(e)&&!(e=>"DataView"===o(e))(e);function C(e,t,r="parameter"){var a=o(t),n=o(e);if(n!==a)return`${r} should be ${a} instead of ${n};`;var i="";switch(a){case"Object":Object.keys(t).forEach((a=>{i+=C(e[a],t[a],`${r}.${a}`)}));break;case"Array":if(e.length<t.length)return`${r} should have at least ${t.length} item;`;for(var s=0;s<t.length;++s)i+=C(e[s],t[s],`${r}[${s}]`);break;case"String":if(t.length>0&&0===e.length)return`${r} should be not empty string`}return i}function T(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}function P(){}},1868:(e,t,r)=>{"use strict";r.d(t,{NX:()=>s,Vl:()=>o});var a=r(8138),n=(()=>Object.assign)();var i=Symbol("ErrorInfosSymbol"),o=e=>(t={},...r)=>new Promise(((a,o)=>e(n({},t,{success:a,fail:e=>{var{errMsg:t}=e,r=n({},e);delete r.errMsg;var a=new Error(t.replace(/^\w+:fail ?/,""));n(a,r),a[i]=r,o(a)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var r=new Error(e.errMsg.replace(/^\w+:/,"")),a=n({},e);delete a.errMsg,n(r,a),r[i]=a,r._complete_hook=!0,o(r)}}}),...r)));function s(e,t){return(r={},...o)=>{var s={success:r.success,fail:r.fail,complete:r.complete};delete(r=n({},r)).success,delete r.fail,delete r.complete,t(r,...o).then((t=>(0,a.FE)({name:e,args:s,success:!0,res:t})),(t=>{t._complete_hook?(0,a.S3)({name:e,args:s,errMsg:t.message,res:t[i]||{}}):(0,a.FE)({name:e,args:s,success:!1,errMsg:t.message,res:t[i]||{}})}))}}},1190:(e,t,r)=>{"use strict";r.d(t,{RG:()=>l,rS:()=>c,sM:()=>s});var a=r(1591),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,r,i=String(e),o="",s=0,l=n;i.charAt(0|s)||(l="=",s%1);o+=l.charAt(63&t>>8-s%1*8)){if((r=i.charCodeAt(s+=3/4))>255)throw new a.l("btoa failed");t=t<<8|r}return o}function o(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new a.l(`atob failed: invalid string length ${t.length}`);for(var i,o,s=0,l=0;o=t.charAt(l++);~o&&(i=s%4?64*i+o:o,s++%4)?r+=String.fromCharCode(255&i>>(-2*s&6)):0)o=n.indexOf(o);return r}function s(e){for(var t,r="",a=(t=ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name?e:new Uint8Array(e)).byteLength,n=0;n<a;n++)r+=String.fromCharCode(t[n]);return i(r)}function l(e){for(var t=o(e),r=t.length,a=new Uint8Array(r),n=0;n<r;n++)a[n]=t.charCodeAt(n);return a.buffer}var c=e=>(e=>i(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode("0x"+t)))))(e).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_")},8007:(e,t,r)=>{"use strict";r.d(t,{b:()=>n,c:()=>i});var a=r(6142);function n(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}function i(e,t=!0){var r=(0,a.Em)(e);switch(r){case"Number":case"Boolean":return e;case"String":return n(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${i(e.message)}|${i(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${i(t)}=${i(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${r}]`;case"Array":var o=[];return t?(e.forEach((e=>o.push(i(e,"Array"!==(0,a.Em)(e))))),o.join(";")):`[${r}]`;default:return`[${r}]`}}},8929:(e,t,r)=>{"use strict";r.d(t,{Hw:()=>s,M8:()=>i,Qu:()=>o,Yt:()=>d,gA:()=>p,op:()=>c});var a=r(6142),n=(()=>Object.assign)();function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function o(e,t,r){var a=p(r.value);return r.value=function(){return a.apply(this,arguments)},r}function s(e,t){return function(...r){try{return e(...r)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?b.thirdErrorReport({error:e,extend:t}):b.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function l(e){var t=(0,a.Em)(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}var c=s(l,"anyTypeToString");function u(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}var d=s(u,"stringToAnyType");function p(e){return function(t={},...r){t=t||{};var{success:a,fail:i,complete:o}=t;return a||i||o?e.apply(this,[t].concat(r)):new Promise(((a,i)=>{var o=n({success:a,fail:i},t);e.apply(this,[o].concat(r))}))}}},2805:(e,t,r)=>{"use strict";function a(...e){return e.reduce(((e,t)=>{for(var r in t)e[r]=t[r];return e}),{})}function n(e,t){for(var r in t)e[r]=t[r];return e}r.d(t,{f0:()=>a,l7:()=>n,nr:()=>o});var i=Object.prototype.hasOwnProperty;function o(e,t){return i.call(e,t)}},5133:(e,t,r)=>{"use strict";r.d(t,{Mw:()=>n,Tk:()=>s,d7:()=>i,ic:()=>l});var a=r(7445),n=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","getBox2D","createSharedArrayBuffer","nv_constructor","nv_toString","createSelectorQuery"],i=[/^(get|set)Storage(Info)?(Sync)?$/,/^getFileSystemManager/,/^(get|set)ClipboardData$/,/^request$/,/^connectSocket/,/^connectWifi$/],o=[{match:/^connectSocket/,version:1},{match:/^request/,version:a.wZ?3:1},{match:/^downloadFile/,version:a.wZ?3:1}];function s(e,t){o.push({match:e,version:t})}var l=e=>{var t=0;return o.forEach((({match:r,version:a})=>("string"==typeof r?e===r&&(t=a):r instanceof RegExp&&r.test(e)&&(t=a),!1))),t}},6335:(e,t,r)=>{"use strict";r.d(t,{FZ:()=>i,M8:()=>o,bv:()=>n.b,cv:()=>n.c});var a=r(9370),n=r(8007);function i(){if(void 0===a.hr)return"";var e=a.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function o(){return 1e4*Date.now()+Math.round(9999*Math.random())}},6347:(e,t,r)=>{"use strict";r.d(t,{HR:()=>l,Pp:()=>i,Uj:()=>d,cE:()=>c,en:()=>o,mQ:()=>u,wK:()=>s});var a=r(7445),n=r(2805);function i(e,t=!0){if("string"!=typeof e)return e;var r=e.split("?")[0],a=e.split("?")[1];return(t||0!==r.length)&&(r+=".html"),void 0!==a?`${r}?${a}`:r}function o(e){var t={protocol:/^(.+):\/\//,host:/:\/\/(.+?)[?#\s/]/,path:/\w(\/.*?)[?#\s]/,query:/\?(.+?)[#/\s]/,hash:/#(\w+)\s$/};return e+=" ",Object.keys(t).forEach((r=>{var a=t[r];t[r]="query"===r?a.exec(e)&&a.exec(e)[1].split("&").reduce(((e,t)=>{var r=t.split("=");return e[r[0]]=r[1],e}),{}):a.exec(e)&&a.exec(e)[1]})),t}var s=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function l(e,t=!1){if("object"!=typeof e)return e;var r="";for(var a in e)if((0,n.nr)(e,a))if(t)try{r+=`${encodeURIComponent(a)}=${encodeURIComponent(e[a])}&`}catch(t){r+=`${a}=${e[a]}&`}else r+=`${a}=${e[a]}&`;return r&&(r=r.slice(0,-1)),r}function c(e,t){var r=Object.keys(t);if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){var a=e.split("?"),i=a[0],o=(a[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),a=r[0],n=r[1];e[a]=n}return e}),{}),s=r.reduce(((e,r)=>("object"==typeof t[r]?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e)),{});return i+"?"+l((0,n.f0)(o,s))}return e}function u(e,t="http"){return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function d(e){if(!a.gm||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),r=t[1]||"",n=r.length>0?"&":"";e=`${t[0]}?${r}${n}devtools_ignore=true`}return e}},6551:(e,r,a)=>{"use strict";a.d(r,{cv:()=>l,sb:()=>i,yC:()=>o});var n=void 0===t?{version:"9.9.9",updateTime:"unknown"}:t,i=()=>({updateTime:n.updateTime,version:n.version});function o(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),a=t.split("."),n=Math.max(r.length,a.length);r.length<n;)r.push("0");for(;a.length<n;)a.push("0");for(var i=0;i<n;i++){var o=parseInt(r[i],10),s=parseInt(a[i],10);if(o>s)return 1;if(o<s)return-1}return 0}function s(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,r=0;r<e.length;r++)if(!Number.isNaN(parseInt(e[r],10))){t=r;break}return e.slice(t)}function l(e,t){return e||t?e?t?o(s(e),s(t)):1:-1:0}},3329:(e,t,r)=>{"use strict";r.d(t,{k:()=>p});var a=r(9661),n=null;o.onLoad((()=>{o.globalShare.reusableWorkerId&&s(o.globalShare.reusableWorkerId)}));var i,s=e=>{n=e},l=()=>n;function c(){d.onWorkerMsg(((e,t)=>{if(e===this.workerId){if(t.workerId)return;if(t.data){var{cmd:r,callbackId:a,data:n}=t.data;if("callback"===r){var{result:i,errMsg:o}=n;this.emitter.emit(a,i,o)}}}}))}class u{init(e){this.workerId=e,this.callbackId=0,this.generateCallbackId=()=>++this.callbackId,this.emitter=new a.Z,c.call(this)}constructor(){if(l())this.init(l());else{var{workerId:e}=d.createWXLibWorker("WAAccelerateWorker.js",{APIList:[]});-1!==e?this.init(e):this.unsupport=!0}}runTask(e,t){return this.unsupport?Promise.reject(new Error("unsupport")):new Promise(((r,a)=>{var n=String(this.generateCallbackId());this.emitter.once(n,((e,t)=>{t?a(new Error(t)):r(e)}));var i={cmd:e,callbackId:n,data:t};i={data:i},d.postMsgToWorker(this.workerId,i,void 0,!1)}))}}var p=()=>i||(i=new u)},5019:(e,t,r)=>{"use strict";r.d(t,{I:()=>d,l:()=>p});var a,n=r(8246),i=r(6342),o=r(1385),s=r(7118),l="",c="",u=(e={},t)=>{var r=e.sessionid||e.sessionId,n=e.scene;e.transitExtraData?(l=e.transitExtraData.adUxInfo,c=e.transitExtraData.commonUxInfo):(t||r!==a&&1038!==n)&&(l="",c=""),a=r};i.default.onReady((()=>{u(i.default.appLaunchInfo,!0)})),(0,n.n)("onAppEnterForeground",(e=>{u(e,!1)})),(0,n.n)("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(l="",c="")})),(0,s.L)("getAdUxInfo",((e,t)=>{(0,o.nY)("adUxInfoGot",{adUxInfo:l,callbackId:e.callbackId,commonUxInfo:c},[t])}));var d=()=>l,p=()=>c},8605:(e,t,r)=>{"use strict";r.d(t,{Wg:()=>_,dw:()=>b,Ns:()=>w});var a=r(6342),n=r(9822),s=null,l=[],u=e=>{null!==s?e():l.push(e)},d=e=>{s=e.data.pluginPermissionBytes,l.forEach((e=>e())),l=[]};c.subscribe("batchGetPluginPermissionBytes",d),o.onLibraryEnd((()=>{void 0!==y&&"function"==typeof y.onSubContextMessage&&y.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&d(e)}))})),c.subscribe("getPluginPermissionBytesByJsApi",(e=>{f(e.data.pluginId,e.data.apiName,(t=>{c.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var p=e=>e.split("/",1)[0],h=(e,t)=>{var r,a,n=null===(r=s)||void 0===r||null===(a=r[e])||void 0===a?void 0:a[t];return null==n?n=[0,0,0]:"object"!=typeof n&&(n=[n,n,n]),n};function f(e,t,r){e=p(e),i.supportInvokeWithAppId?c.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[n.Z[t]]}]},(t=>{var a,n,i=(null===(a=t.pluginPermissionMap)||void 0===a||null===(n=a[e])||void 0===n?void 0:n[0])||0;r([i,i,i])})):u((()=>{var a=h(e,t);r(a)}))}var g=r(7445),v=r(5019),m=r(9074);var _=new(r(9661).Z);function b(e,t,r,n={}){var i=r;r=r=>{(0,m.yZ)(e,t)&&(0===(r.errMsg||`${e}:ok`).indexOf(`${e}:ok`)&&_.emit("success",e));"function"==typeof i&&i(r)},"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||(0,v.I)(),t.commonUxInfo=t.commonUxInfo||(0,v.l)());n.appId;return"splashad"===o.env.workerType||a.default.supportInvokeWithAppId,c.invoke(e,t,r,n)}function w(e,t,r,a={}){if(g.wZ)try{t=JSON.stringify(t)}catch(e){console.error("invokeThird unexpected arguments:",t)}return c.invokeThird(e,t,r,a)}},7132:(e,t,r)=>{"use strict";r.d(t,{n:()=>o,on:()=>n,p:()=>i});var a=Object.create(null);function n(e,t){return a[e]instanceof Array?(a[e].push(t),null):(a[e]=null,c.on(e,((e,r,a)=>{"number"!=typeof(null==a?void 0:a.__subscribe_webviewId)&&t(e,r,a)})))}function i(e){return null===a[e]?(console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null):(a[e]=[],c.on(e,((...t)=>{var r=a[e];for(var n of r){if(!1===n(...t))break}})),t=>{a[e].unshift(t)})}function o(e){if(null===a[e])return console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null;a[e]=[];var t=!1,r=10086;return c.on(e,((...n)=>{t||(r=n);var i=a[e];for(var o of i){if(!1===o(...n))break}})),n=>{a[e].unshift(n),10086!==r&&(a[e].forEach((e=>{e(...r)})),r=10086),t=!0}}},2352:(e,t,r)=>{"use strict";var a;r.d(t,{be:()=>i.be,aT:()=>i.aT,F0:()=>i.F0,NJ:()=>i.NJ,IN:()=>i.IN,bb:()=>i.bb,qu:()=>i.qu,oQ:()=>i.oQ,jQ:()=>l.j,nY:()=>o.nY,Ld:()=>s.L,yt:()=>i.yt});const n={get invoke(){return a},set invoke(e){a=e}};var i=r(8550),o=r(1385),s=r(7118),l=r(9533);r(2235);n.invoke=i.IN},8550:(e,t,r)=>{"use strict";r.d(t,{be:()=>we,aT:()=>Ie,F0:()=>ne,NJ:()=>_e,IN:()=>ge,bb:()=>ve,qu:()=>me,oQ:()=>fe,ei:()=>re,yt:()=>ie});var n=r(8605),s=r(4536),l={},u={},d={},p=0,h=(e,t)=>Object.keys(t).map((r=>Object.keys(t[r]).map((a=>({func:r,result:e,errMsg:a,count:t[r][a]}))))),g=()=>{var e=h(1,l),t=h(2,u),r=h(3,d),a=[].concat(e,t,r);0!==a.length&&(0,s.IN)("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:a,appType:b.getAppType()}),noCallback:!0}),l={},u={},d={}},v=(e,t,r,a,n)=>{var i;(i=t?l:r?u:d)[e]=i[e]||{},i[e][n]=(i[e][n]||0)+1,Date.now()-p>=6e4&&(p=Date.now(),setTimeout(g,6e4))},m=r(8929),y=r(1868),w=r(6342),I=r(6142),S=r(5125),k=r(7445),C={OK:0,BLOCK:1,BLOCK_WITH_TOAST:2},T={OK:1,BLOCK:2,NO_BLOCK:3},P={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},A="该功能暂时无法使用",E=f.createLogger("BanForPage"),M=!1,x=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),D=[];function R(e,t,r){var a=function(e,t,r){for(var a=-1,n=0;n<D.length;n++){var i=D[n];if((!(0,I.HD)(i.path_rule)||!i.path_rule||new RegExp(i.path_rule).test(t))&&(!(0,I.HD)(i.title_rule)||!i.title_rule||new RegExp(i.title_rule).test(r))){a=n;break}}return E.log(`[getBanRuleIndexForPage] banRuleIndex=${a}`),a}(0,t,r);return-1===a?(L(e,T.OK,P.API,e),!0):function(e,t){var r,a,n=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!n)return E.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(E.log("[checkAPIAvailableForPageByRule], found APIItem:",n),n.state===C.OK)r=!1;else if(n.state===C.BLOCK)r=!0;else if(n.state===C.BLOCK_WITH_TOAST&&(r=!0,1===e.is_valid)){var i=n.toast_wording||A;(0,s.be)("showToast",{title:i,icon:"none"})}return a=r?e.is_valid?T.BLOCK:T.NO_BLOCK:T.OK,L(t,a,P.API,t),1!==e.is_valid||!r}(D[a],e)}function L(e,t,r,a="",n=""){if(E.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${r}, extraInfo=${a}, needReport=${M}`),M){var{appLaunchInfo:i}=w.default,o=Object.keys(S.Z.query).map((e=>`${e}=${S.Z.query[e]}`)).join("&"),l={session_id:i.sessionid||i.sessionId,cur_path:S.Z.lastRoute+(o?`?${o}`:""),title:S.Z.navigationBarTitleMap[S.Z.lastRoute],check_scene:r,block_status:t,extra_info:a,launch_scene:i.scene,launch_path:i.path,target_path:n};E.log("[reportAPIBanForPage], reqData:",l),(0,s.yD)({reqData:l,apiName:"webapi_reportnvgcheckinfo",complete(e){E.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}w.default.onReady((()=>{if(!k.gm)try{var{do_report:e,navigate_ban_rule_list:t}=w.default.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;D=t,M=1===e&&(0,k.LU)(),x=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),x))}catch(e){E.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var N=a.prototype.call.bind(Array.prototype.push),O=(a.prototype.call.bind(Array.prototype.forEach),["startPullDownRefresh"]),B=[],j={appRoute:!1,appRouteDone:!1},F=r(9370),W=r(1708),U=r(8007),G=r(3385);function V(){if(void 0===F.hr)return"";var e=F.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}var $=(()=>Array.prototype.map)(),q=a.prototype.call.bind($),z=(()=>Array.prototype.join)(),H=a.prototype.call.bind(z);var K,J=(()=>Object.create)(),Q=(()=>Object.assign)(),Y=(()=>Object.keys)(),Z=(()=>Array.prototype.reduce)(),X=Array.prototype.includes.bind(O),ee=a.prototype.call.bind(Z),te=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"];function re(e){void 0===K&&(K=e)}function ae(e,t){return ee(Y(e),((r,a)=>("function"==typeof e[a]&&(r[a]=_.surroundThirdByTryCatch(e[a],`at api ${t} ${a} callback function`),delete e[a]),r)),{})}function ne(e,t,r,a,n){e.errMsg=e.errMsg||`${t}:ok`;var i=0===e.errMsg.indexOf(`${t}:ok`),o=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof a.beforeAll&&a.beforeAll(e),i?function(e,t,r,a,n){var i=function(){"function"==typeof e.success&&e.success(r),"function"==typeof a.afterSuccess&&a.afterSuccess(r)};"function"==typeof a.beforeSuccess?2===a.beforeSuccess._argumentsLength?a.beforeSuccess(r,i):(a.beforeSuccess(r),i()):i(),"function"==typeof K&&K(t,n)}(r,t,e,a,n):o?function(e,t,r,a){var n=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(n,`${t}:fail cancel`),"function"==typeof r.fail&&r.fail(e),"function"==typeof a.beforeCancel&&a.beforeCancel(e),"function"==typeof r.cancel&&r.cancel(e),"function"==typeof a.afterCancel&&a.afterCancel(e)}(e,t,r,a):s&&(de(e,n),function(e,t,r,a){"function"==typeof e.beforeFail&&e.beforeFail(r),"function"==typeof a.fail&&a.fail(r),"function"==typeof e.afterFail&&e.afterFail(r),(0,I.mf)(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(r)||b.reportIDKey({key:`${t}_fail`})}(a,t,e,r)),"function"==typeof r.complete&&r.complete(e),"function"==typeof a.afterAll&&a.afterAll(e),v(t,i,s,o,e.errMsg)}function ie(e,t,r,a){var n;return n=r.isThird?ae(r,t):ae(e,t),function(e){ne(e,t,n,r,a)}}var oe=(()=>String.prototype.split)(),se=(()=>String.prototype.startsWith)(),le=a.prototype.call.bind(oe),ce=e=>le(e,"/",1)[0],ue=a.prototype.call.bind(se),de=(e,t)=>{if("string"==typeof e.errMsg&&i&&i.accountInfo){var r=i.accountInfo.appId;"string"==typeof t&&ue(t,"wx")&&(r=ce(t));var a=e.errMsg.split(":");102!==e.errno&&"fail no permission"!==a[a.length-1]||(e.errMsg=`${e.errMsg}, appId=${r}`)}};function pe(e){return function(t,r={},a={},i="/"){var s,l,c,u,d,p=a.notPack;(0,I.Kn)(r)||(r={}),"operateWXData"===t&&(r._isFromBaseOperateWXData,delete r._isFromBaseOperateWXData),"openUrl"!==t&&"private_openUrl"!==t||(s=t,l=r,c=Date.now(),u=l.url||"",d=H(q([w.default.appType+1e3,s,V(),(0,G.Y)().scene,encodeURIComponent((0,G.Y)().scene_note||(0,G.Y)().sceneNote),(0,U.c)(l),c,0,(0,W.k)(),(0,W.n)(),(0,G.Y)().sessionid||(0,G.Y)().sessionId,u],(0,U.b)(1024)),","),b.reportKeyValue({key:"OpenUrl",value:d})),a=function(e,t){return ee(Y(e),((r,a)=>("function"==typeof e[a]&&(r[a]=(0,m.Hw)(e[a],`at api ${t} ${a} callback function`),r[a]._argumentsLength=e[a].length),r)),{})}(a,t);var h=ie(r=Q(J(null),r),t,a,i);b.reportIDKey({key:t});var f,g,v,y={keepOriginalParams:(f=t,k.jP||k.wZ&&te.includes(f))};if(o.env.isMagicBrushFrameEnv&&r.contextId&&(y.contextId=r.contextId,delete r.contextId),!e&&"splashad"!==o.env.workerType){if((0,k.LU)()&&x.has(t)&&(g=t,v=Object.keys(S.Z.query).reduce(((e,t)=>[...e,`${t}=${S.Z.query[t]}`]),[]).join("&"),!R(g,S.Z.lastRoute+(v?`?${v}`:""),S.Z.navigationBarTitleMap[S.Z.lastRoute]||"")))return void h({errMsg:`${t}:fail API has been banned`});if(delete r.pluginId,delete r.permissionBytes,"string"==typeof i&&ue(i,"wx")){var _=ce(i);y.appId=_}}p&&(y.notPack=!0),(0,n.dw)(t,r,h,y)}}var he,fe=pe(!1),ge=(e,t,r)=>{X(e)?((e,t,r)=>{var{appRoute:a,appRouteDone:n}=j;!a&&n?(0,s.oQ)(e,t,r):N(B,{name:e,args:t,option:r})})(e,t,r):fe(e,t,r)},ve=(e,t,r)=>(0,y.Vl)((t=>ge(e,t,r)))(t),me=e=>e?(t,r,a)=>{fe(t,r,a,e)}:ge,ye={},_e=(e,t,r)=>{var a,n=r.notPack,i={pureInvoke:!0,highPerformance:ye,keepOriginalParams:k.jP};a=he||(()=>{if(he)return he;var e=(e,t)=>{var r=ye[t];if(r){e.errMsg=e.errMsg||`${r.__jsapi_name__}:ok`;var a=0===e.errMsg.indexOf(`${r.__jsapi_name__}:ok`),n=new RegExp(`${r.__jsapi_name__}:(fail |fail:)?cancel`).test(e.errMsg),i=0===e.errMsg.indexOf(`${r.__jsapi_name__}:fail`);try{a&&r.success?r.success(e):n&&r.cancel?r.cancel():i&&r.fail(e),r.complete&&r.complete(e)}catch(e){}v(r.__jsapi_name__,a,i,n,e.errMsg),delete ye[t]}};return he=e,e})(),o.env.isMagicBrushFrameEnv&&t.contextId&&(i.contextId=t.contextId,delete t.contextId),n&&(i.notPack=!0),t.__jsapi_name__=e,c.pureInvoke(e,t,a,i)},be=pe(!0),we=(e,t,r)=>{be(e,t,r)},Ie=e=>e?(t,r,a)=>{be(t,r,a,e)}:we},9533:(e,t,r)=>{"use strict";r.d(t,{S:()=>o,j:()=>i});var a=r(7132),n=r(8929);function i(e,t){if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onMethod:r}=SDK;return r(e,t)}(0,a.on)(e,(0,n.Hw)(t,`at api ${e} callback function`))}function o(e,t){c.onThird(e,(0,n.Hw)(t,`at api ${e} callback function`))}},2235:(e,t,r)=>{"use strict";r.d(t,{$T:()=>l,C2:()=>u,Mj:()=>d,ig:()=>h});var a,n=r(9370),i={},o=!1,s=null,l=(new Promise((e=>s=e)),()=>o),u=e=>i[e]||n.hr.getPageTypeById(e),d=(e,t)=>{"context"===t?i[e]=t:n.hr.setPageTypeById(e,t),(o=o||"webview"!==t)&&s&&(s(0),s=null)},p=e=>"webview"===e?e:"context",h=e=>{if(void 0===e||0===e.length)return{};var t=p(u(e[0]));if(1===e.length)return{[t]:e};var r={};return e.forEach((e=>{var t=p(u(e));void 0!==r[t]?r[t].push(e):r[t]=[e]})),r};null===(a=c.clientManager)||void 0===a||a.on("clientConnected",(e=>{d(e,"webview")}))},1385:(e,t,r)=>{"use strict";r.d(t,{nY:()=>s});var a=r(7445),n=r(2235),i=(e,t={},r)=>{(0,n.$T)()&&(Array.isArray(r)?r.forEach((r=>{y.postMessageToSubContext({event:e,params:{params:t,pageId:r}},r)})):y.postMessageToSubContext({event:e,params:{params:t}},r))};function o(e,t,r){}var s=a.KU?(e,t,r)=>{if(null==r)i(e,t,r);else{var a=(0,n.ig)(r);void 0!==a.webview&&a.webview,void 0!==a.context&&i(e,t,a.context)}}:o},7118:(e,t,r)=>{"use strict";r.d(t,{L:()=>l});var a=r(7445),n=r(2235);function i(e,t){}var s=a.KU?new o.EventEmitter:null;a.KU&&o.onLibraryEnd((()=>{y.onSubContextMessage((e=>{s.emit(e.event,e.params)}))}));var l=a.KU?(e,t)=>{((e,t)=>{s.on(e,(e=>{void 0===(0,n.C2)(e.pageId)&&(0,n.Mj)(e.pageId,"context"),t(e.params,e.pageId)}))})(e,t)}:i},4536:(e,t,r)=>{"use strict";r.d(t,{be:()=>a.be,aT:()=>a.aT,Rn:()=>n.Rn,r3:()=>n.r3,FE:()=>n.FE,YG:()=>n.YG,zy:()=>n.zy,F0:()=>a.F0,NJ:()=>a.NJ,IN:()=>a.IN,bb:()=>a.bb,qu:()=>a.qu,yD:()=>i.yD,t4:()=>i.t4,Qh:()=>i.Qh,oQ:()=>a.oQ,jQ:()=>a.jQ,TG:()=>l,nY:()=>a.nY,Ld:()=>a.Ld,yt:()=>a.yt,ZI:()=>c,qB:()=>u});var a=r(2352),n=r(8138),i=r(8190),s=(()=>Object.assign)();function l(e,t,r=(()=>{}),a=(()=>{})){return(o={})=>{var{success:l,fail:c}=(0,n.Rn)(o,e);(0,i.yD)({apiName:t,reqData:r(o)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,s(e,e.rawDataObject),a(e),delete e.rawDataObject,l(e)},fail:c,complete:void 0})}}function c(e,t){var{initEventCallbackReport:r,eventCallbackBegin:a,eventCallbackEnd:n}=o.callbackReporter;return function(){r();var i=a(),o=e.apply(this,arguments);return i&&n(t,i,o),o}}function u(e,t){var{initJsapiCallbackReport:r,jsapiCallbackBegin:a,jsapiCallbackEnd:n}=o.callbackReporter;return function(){r();var i=a(0,t),o=e.apply(this,arguments);return i&&n(t,i.jsHandleBegin,!1,o),o}}},9031:(e,r,a)=>{"use strict";a.d(r,{AL:()=>k,CP:()=>C,GY:()=>w,_F:()=>m._F});var n,i,s,l,c=a(8190),u=a(6342),d=a(7445),p=a(6227),h=a(9946),g=a(88),v=a(8113),m=a(7994),y=a(6135),_=new Promise(((e,t)=>{n=e,i=t})),b=new Promise(((e,t)=>{s=e,l=t})),w={RequestBizaccount:"RequestBizaccount",getSubjectalterInfo:"getSubjectalterInfo",getgamepotentialfriends:"getgamepotentialfriends",getadcardbalance:"getadcardbalance",getUserGrantInfo:"getUserGrantInfo",getSecInfo:"getSecInfo",reportUserBehavior:"reportUserBehavior",getShareConfig:"getShareConfig",CheckUserOrderAuthStatus:"CheckUserOrderAuthStatus"},I={RequestBizaccount:()=>({id:w.RequestBizaccount,api_name:"webapi_openproduct_bizaccount",data:{path:u.default.appLaunchInfo.path,query:JSON.stringify(u.default.appLaunchInfo.query||{}),cookie:(0,v.Zv)()}}),getSecInfo:()=>{var e=(0,p.Q1)();return{id:w.getSecInfo,api_name:"webapi_getwxaasyncsecinfo",data:{client_version:u.default.clientVersion,pub_version:void 0!==t&&t?t.version:"unknown",performance:(0,h.$)(),instance_id:u.default.appLaunchInfo.sessionid||u.default.appLaunchInfo.sessionId,...e?{xnet_conf_list:[e]}:{}}}},reportUserBehavior:()=>{var e,t,r,a;return{id:w.reportUserBehavior,api_name:"jsapi_reportuserbehav",data:{version:8,type:1,duration:0,scene_note:u.default.appLaunchInfo.scene_note,scene:u.default.appLaunchInfo.scene,realnameInfo:void 0,referrerInfo:{appId:(null===(e=u.default.appLaunchInfo)||void 0===e||null===(t=e.referrerInfo)||void 0===t?void 0:t.appId)||"",extraData:(null===(r=u.default.appLaunchInfo)||void 0===r||null===(a=r.referrerInfo)||void 0===a?void 0:a.extraData)||{}},appServiceType:u.default.appType,isColdStart:!0,isWxaAdultOnly:1===Number(u.default.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),uiState:(0,d.aI)()?0:1}}},getgamepotentialfriends:()=>({id:w.getgamepotentialfriends,api_name:"webapi_game_transfer",data:{req_path:"friend.getgamepotentialfriends",appid:u.default.accountInfo.appId,fetch_mode:1,version:2}}),getadcardbalance:()=>({id:w.getadcardbalance,api_name:"webapi_getadcardbalance",data:{}}),getUserGrantInfo:()=>{var e,t;return{id:w.getUserGrantInfo,api_name:"webapi_game_transfer",data:{req_path:"gamewxagcdatawap_getusergrantinfo",json_data:JSON.stringify({appid:null!==(e=null===u.default||void 0===u.default||null===(t=u.default.accountInfo)||void 0===t?void 0:t.appId)&&void 0!==e?e:"",user_action:[0]})}}},getSubjectalterInfo:()=>({id:w.getSubjectalterInfo,api_name:"getSubjectalterInfo",data:{}}),getShareConfig:()=>({id:w.getShareConfig,api_name:"webapi_getshareconf",data:{}}),CheckUserOrderAuthStatus:()=>({id:w.CheckUserOrderAuthStatus,api_name:"webapi_mmec_wxa_auth",data:{method:"CheckUserOrderAuthStatus",msg:{}}})};u.default.onReady((()=>{var e=(0,m._F)();if(f.info("是否开启数据管道batch请求=",e,o.env),e){var t,r,a,p,h,v,_=[I.getSecInfo()],b=1===Number(null===u.default||void 0===u.default||null===(t=u.default.appContactInfo)||void 0===t||null===(r=t.operationInfo)||void 0===r||null===(a=r.jsonInfo.op_info)||void 0===a?void 0:a.adult_only)||1===Number(null===u.default||void 0===u.default||null===(p=u.default.appContactInfo)||void 0===p||null===(h=p.operationInfo)||void 0===h||null===(v=h.jsonInfo.op_info)||void 0===v?void 0:v.grow_protect);!d.gm&&((0,d.aI)()||(0,d.LU)()&&b)&&_.push(I.reportUserBehavior()),(0,d.aI)()&&_.push(I.getShareConfig()),(0,c.BB)({apiName:"LaunchImmediateBatch",sdkApiName:"getImmediateBatchOperateWXData",reqDataList:_,batchType:y.LN,success:e=>{f.info("immediate batch 请求成功",e),s({reqList:_,res:e})},fail:e=>{f.error("immediate batch 请求失败",e),l({reqList:_,res:e})}}),setTimeout((()=>{var e,t,r,a,o=[];(0,d.aI)()?o=[I.getgamepotentialfriends(),I.getadcardbalance(),I.getUserGrantInfo(),I.getSubjectalterInfo()]:(0,d.LU)()&&((0,g.J)("requestPayment")&&o.push(I.RequestBizaccount()),o.push(I.getSubjectalterInfo()),(null===(e=u.default.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||null===(r=t.wxa_mgr)||void 0===r||null===(a=r.mgr_list)||void 0===a?void 0:a.some((e=>1053===e.id&&1===e.value)))&&o.push(I.CheckUserOrderAuthStatus()));o.length>0&&(0,c.BB)({apiName:"LaunchDelayBatch",sdkApiName:"getDelayBatchOperateWXData",reqDataList:o,batchType:y.nH,success:e=>{f.info("delay batch 请求成功",e),n({reqList:o,res:e})},fail:e=>{f.error("delay batch 请求失败",e),i({reqList:o,res:e})}})}),3500)}}));var S=e=>({id:t,success:r=(e=>{}),fail:a=(e=>{})})=>{e.then((({reqList:e,res:n})=>{var i=n.item_list||[],o=e.findIndex((e=>e.id===t));if(o>=0){var s=i[o],l={};s&&s.resp&&0===s.errcode?0!==s.resp.err_no?(l={errMsg:`${t}:fail `+(s.resp.errmsg?` ${s.resp.errmsg}`:""),errno:s.resp.err_no},a(l)):(l={errMsg:`${t}:ok`,data:s.resp.data||{},errno:0},r(l)):(l={errMsg:`${t}:fail `+(s.errmsg?` ${s.errmsg}`:""),errno:s.errcode},a(l))}else a({errMsg:`${t}:fail can not find data`})})).catch((e=>{f.error(t," 数据管道 batch 请求失败 ",e);var n=I[t]();(0,c.yD)({apiName:n.api_name,reqData:n.data,sdkApiName:t,success:e=>{var a={errMsg:`${t}:ok`,data:e.data,errno:0};f.info("数据管道重试单独请求成功",a),r(a)},fail:e=>{f.error("数据管道重试单独请求失败",e),a(e)}})}))},k=S(_),C=S(b)},6135:(e,t,r)=>{"use strict";r.d(t,{LN:()=>a,nH:()=>n,x2:()=>i,zV:()=>o});var a=1,n=2,i=3,o=4},7994:(e,t,r)=>{"use strict";r.d(t,{Ge:()=>p,WQ:()=>s,_F:()=>l,aQ:()=>c,g5:()=>h,sJ:()=>d});var a,n=r(6342),i=r(7445),o=r(88),s=()=>{var e,t,r=!1;if(i.cj)r=!("1"!==(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_group_control)||"1"!==(null===n.default||void 0===n.default||null===(t=n.default.expt)||void 0===t?void 0:t.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1));else if(i.wZ){var a,s;r=!("1"!==(null===n.default||void 0===n.default||null===(a=n.default.expt)||void 0===a?void 0:a.clicfg_appbrand_android_operatewxdata_quic_group_control)||"1"!==(null===n.default||void 0===n.default||null===(s=n.default.expt)||void 0===s?void 0:s.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1))}return r=r&&(0,o.J)("operateWXDataQuic")},l=()=>{var e,t=!1;if(i.cj)t="1"===(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_batch);else if(i.wZ){var r;t="1"===(null===n.default||void 0===n.default||null===(r=n.default.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_batch)}return t},c=()=>{if(void 0===a){var e;if(i.cj)a=Number(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_ad_operatewxdata_batch)>=1;else if(i.wZ){var t;a=Number(null===n.default||void 0===n.default||null===(t=n.default.expt)||void 0===t?void 0:t.clicfg_appbrand_android_ad_operatewxdata_batch)>=1}else a=!1;f.info("是否开启广告上报batch:",a)}return a},u=()=>{var e,t=!1;if(i.cj)t="1"===(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority);else if(i.wZ){var r;t="1"===(null===n.default||void 0===n.default||null===(r=n.default.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_priority)}return t},d=()=>u()&&(()=>{var e,t=!1;if(i.cj)t="1"===(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority_group_control);else if(i.wZ){var r;t="1"===(null===n.default||void 0===n.default||null===(r=n.default.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_priority_group_control)}return t})(),p=e=>{var t,r,a,o;o=e?e.useQuic?1:0:s()?1:0;var u,p,h=i.wZ&&"1"===(null===n.default||void 0===n.default||null===(t=n.default.expt)||void 0===t?void 0:t.clicfg_handle_reqresp_in_worker_android)?10:0,f=l()?1e4:0,g=c()?1e5:0,v=(u=!1,i.wZ?u="1"===(null===n.default||void 0===n.default?void 0:n.default.expt.clicfg_appbrand_android_jsapi_nocallback):i.cj&&(u=!0),u?1e6:0);p=e?e.usePriority?1e7:0:d()?1e7:0;var m=i.wZ?1e8:0,y=i.wZ?1e9:0;return(1===Number(null===n.default||void 0===n.default||null===(r=n.default.expt)||void 0===r||null===(a=r.clicfg_miniprogram_adreport_use_kv)||void 0===a?void 0:a.value)?1e10:0)+y+m+p+v+g+f+1e3+100+h+o},h=()=>{var e,t=0,r=u()?10:0;if(i.cj)t="1"===(null===n.default||void 0===n.default||null===(e=n.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1)?1:0;else if(i.wZ){var a;t="1"===(null===n.default||void 0===n.default||null===(a=n.default.expt)||void 0===a?void 0:a.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1)?1:0}return r+t}},8832:(e,t,r)=>{"use strict";r.d(t,{ip:()=>o,xq:()=>s,zo:()=>i});var a=r(4536),n=e=>(t={})=>{(e?a.yD:a.t4)({apiName:e?"webapi_game_transfer":"gameTransfer",sdkApiName:"gameTransfer",reqData:t.reqData?t.reqData:JSON.parse(JSON.stringify(t)),timeout:t.timeout,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},i=n(!1),o=n(!0),s=(e={})=>{(0,a.yD)({apiName:"webapi_litegametransfer",sdkApiName:"gameTransfer",reqData:e.reqData?e.reqData:JSON.parse(JSON.stringify(e)),timeout:e.timeout,success(t){"function"==typeof e.success&&e.success(t)},fail(t){"function"==typeof e.fail&&e.fail(t)},complete(t){"function"==typeof e.complete&&e.complete(t)}})}},8190:(e,t,r)=>{"use strict";r.d(t,{yD:()=>L,BB:()=>O,t4:()=>F,cm:()=>B,XT:()=>j,Qh:()=>N});var a=r(4536),n=r(6342),i=r(5125),o=r(1708),s=r(8007),l=r(8246),c=r(7994),u=0;(0,l.n)("onAppEnterBackground",(()=>{u++}));var d=new Set(["webapi_getwxauserallphone","webapi_wxa_createmidasorder","webapi_wxa_getiapinfocreateitemorder","webapi_wxa_getiapinfocreatecoinorder","webapi_getiapinfocreatecoinorder","webapi_getiapinfocreateitemorder","webapi_createiapbuygamecoinorder","webapi_createiapbuygameitemorder","webapi_getwxauserprivacyauthinfo","webapi_getuserallappauth","webapi_swapopengid","webapi_getshareinfo","ProductLogic","webapi_getadvert","gameTransfer","webapi_openproductaddorder","DiscoveryGetUsageApp","WxaDiscoveryChannel","qbase_commapi","webapi_finder_ec","webapi_game_transfer"]);function p(e){!function(e){var{WXDataApiName:t,argument:r,isSuccess:a,invokeTime:l,TotalCost:d,result:p="",errMsg:h,isConfirm:f,queueLength:g,wxdataQueueTimestamp:v,wxdataDequeueTimestamp:m,beginCGITimestamp:y,CGICallbackTimestamp:_,beginCGITimestampAfterConfirm:w,CGICallbackTimestampAfterConfirm:I,wxlibCallbackTimestamp:S,requestInQueue:k,requestingCount:C,JsToClientCost:T,QueueCost:P,ChildToMainProcessCost:A,MMNetCost:E,MainToChildProcessCost:M,ClientToJsCost:x,fromWebview:D,doReportDetails:R,BatchType:L=0,sdkApiName:N,adExtra:O}=e;R&&setTimeout((()=>{var R=i.Z.currentNetworkType,B=n.default.appType+1e3,j=n.default.appLaunchInfo&&void 0!==n.default.appLaunchInfo.scene?n.default.appLaunchInfo.scene:0,F=D?2:1,W=O&&O.adReportAction,U=O&&O.adLogid,G=(0,c.Ge)(e),V=e.ProtocolType,$=e.QuicBytes,q=e.thisEnterBackgroundCount===u?1:2,z=[t,JSON.stringify(r).replace(/,/g,";"),a?1:0,l,d,R,p.replace(/,/g,";"),B,j,(0,o.k)(),(0,o.n)(),encodeURIComponent(h||""),f?1:0,g,T,P,A,E,M,x,0,k?1:0,C,l,v,m,y,_,w,I,S,0,G,F,L,N,W,U,V,$,q].map((0,s.b)(1024)).join(",");b.reportKeyValue({key:"WeAppOperateWXData",value:z})}),0)}(e),function(e){if(e.doReportProfile&&d.has(e.WXDataApiName)){var t,r=e.networkType||i.Z.currentNetworkType,a=n.default.appType+1e3,s=(0,o.k)()+" "+(0,o.n)(),l=e.argument,p=e.WXDataApiName;if("ProductLogic"===p)p=`ProductLogic-${null===(t=l.data.data)||void 0===t?void 0:t.method}`;else if("gameTransfer"===p){var h;p=`gameTransfer-${null===(h=l.data.data)||void 0===h?void 0:h.req_path}`}else if("webapi_game_transfer"===p){var f;p=`webapi_game_transfer-${null===(f=l.data.data)||void 0===f?void 0:f.req_path}`}var g=(0,c.Ge)(e),v=e.isSuccess?0:1,m=e.invokeTime,y=e.TotalCost,_=e.TimeStampId,w=encodeURIComponent(e.errMsg||""),I=e.isConfirm?1:0,S=e.queueLength,k=e.JsToClientCost,C=e.QueueCost,T=e.ChildToMainProcessCost,P=e.MMNetCost,A=e.MainToChildProcessCost,E=e.ClientToJsCost,M=e.PopupCost,x=e.MMNetCost2rd,D=e.requestInQueue?1:0,R=e.requestingCount,L=e.ClientSequenceId,N=e.BeginTs,O=e.EndTs,B=e.thisEnterBackgroundCount===u?1:2,j=e.RequestCount,F=e.LaunchDistance,W=e.TimeSinceLastRequest,U=e.MarsPackCost,G=e.MarsConnCost,V=e.MarsTLSCost,$=e.MarsNetCost,q=e.MarsUnPackCost,z=e.ChannelType,H=e.ProtocolType,K=e.fromWebview?2:1,J=e.QuicBytes,Q=e.LibParseCost,Y=(0,c.g5)(),Z=e.MarsTotalCost,X=e.MainToPushProcessCost,ee=e.MMNetStartTaskCost,te=e.MMNetReq2BufCost,re=e.MMNetBuf2RespCost,ae=e.MMNetOnTaskEndCost,ne=e.PushToMainProcessCost,ie=[r,s,a,g,p,v,m,y,_,w,I,S,k,C,T,P,A,E,M,x,D,R,L,N,O,encodeURIComponent(JSON.stringify(l)),B,j,F,W,Z,"",U,"",G,V,$,q,z,H,J,K,Q,Y,X,ee,te,re,ae,ne].join(",");b.reportKeyValue({key:"operateWXDataProfile",value:ie})}}(e)}var h,g,v=0,m=0,y=0,_=new Set(["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"]),w=new Set(["advert_report","webapi_advideo_report","webapi_wxa_dramaplayreport","webapi_reportpayrecord","webapi_reportnvgcheckinfo","webapi_reportwxacityservicescreenshot","webapi_reportclicheckresult","webapi_openproductreportorder","webapi_wxaseceventreport","webapi_game_ad_report","webapi_wxaasyncinputreport","webapi_adfollow_report"]),I=new Set(["qbase_commapi","webapi_botdemo"]),S=!1,k=!1;n.default.onReady((()=>{h=Date.now(),S=(0,c.WQ)(),k=(0,c.sJ)()}));var C=(e={},t={},{fromWebview:r,showApiVersion:n,showProfile:i,batchType:o,sdkApiName:s,adExtra:l})=>{var d=o>=1,p=Object.assign({},e);p._isFromBaseOperateWXData=!0;var C,T=t.beforeAll,P=p.data.api_name,A=Date.now();C=g?A-g:-1,g=A;var E,M=A,x=u,D=A-h;A<=y&&(A=y+1),y=A,_.has(P)?(p.requestInQueue=!0,delete p.timeout):p.requestInQueue=!1,p.isImportant=!!d,I.has(P)&&(p.keepAlive=!0),p.useQuic=S&&!d,p.data.tid=A,E=r?2:1,p.data.env=E,p.priority||k&&(w.has(P)?(p.priority=2,p.timeout=(p.timeout||6e4)+6e4):p.priority=3);var R={isSuccess:void 0,WXDataApiName:P,argument:p,invokeTime:M,requestInQueue:p.requestInQueue,requestingCount:++v,TimeStampId:A,RequestCount:++m,LaunchDistance:D,TimeSinceLastRequest:C,fromWebview:r,thisEnterBackgroundCount:x,BatchType:o,sdkApiName:s,adExtra:l,useQuic:S,usePriority:k};b.reportFrameworkIDKey(25),f.info(`baseOperateWXData invoke apiName=${P}, TimeStampId=${A}, useQuic=${S}, usePriority=${k}, batchType=${o}`),(0,a.IN)("operateWXData",p,{beforeAll(e){var r=Date.now();R.onJsCallbackTimestamp=r,v--;var a=Math.random(),n=a<.01,o=a<.1,s=n||o;if(R.doReportDetails=n,R.doReportProfile=o,s&&("object"==typeof e.data&&e.data?R.result=JSON.stringify(e.data):R.result=e.data),e.clientInfo&&"object"==typeof e.clientInfo){var l=e.clientInfo;delete e.clientInfo,(s||i)&&(Object.assign(R,l),R.JsToClientCost=l.wxdataQueueTimestamp-R.invokeTime,R.QueueCost=l.wxdataDequeueTimestamp-l.wxdataQueueTimestamp,R.ChildToMainProcessCost=l.beginCGITimestamp-l.wxdataDequeueTimestamp,R.MMNetCost=l.CGICallbackTimestamp-l.beginCGITimestamp,R.MainToChildProcessCost=l.wxlibCallbackTimestamp-l.CGICallbackTimestamp,R.ClientToJsCost=r-l.wxlibCallbackTimestamp,l.beginCGITimestampAfterConfirm>0&&l.beginCGITimestampAfterConfirm<0x9bc39d22b2c4&&(R.PopupCost=l.beginCGITimestampAfterConfirm-l.CGICallbackTimestamp,R.MMNetCost2rd=l.CGICallbackTimestampAfterConfirm-l.beginCGITimestampAfterConfirm),l.startConnectTime&&(R.MarsConnCost=l.connectSuccessfulTime-l.startConnectTime,R.MarsTLSCost=l.handshakeSuccessfulTime-l.startHandshakeTime,R.MarsPackCost=l.startSendPacketTime-l.connectSuccessfulTime,R.MarsNetCost=l.startReadPacketTime-l.startSendPacketTime,R.MarsUnPackCost=l.readPacketFinishedTime-l.startReadPacketTime,R.MarsTotalCost=l.readPacketFinishedTime-l.taskStartTime),l.MMNetStartTaskBegin&&l.MMNetStartTaskEnd&&l.MMNetReq2BufBegin&&l.MMNetReq2BufEnd&&l.MMNetBuf2RespBegin&&l.MMNetBuf2RespEnd&&l.MMNetOnTaskEndBegin&&l.MMNetOnTaskEndEnd&&(R.MainToPushProcessCost=l.MMNetStartTaskBegin-l.beginCGITimestamp,R.MMNetStartTaskCost=l.MMNetStartTaskEnd-l.MMNetStartTaskBegin,R.MMNetReq2BufCost=l.MMNetReq2BufEnd-l.MMNetReq2BufBegin,R.MMNetBuf2RespCost=l.MMNetBuf2RespEnd-l.MMNetBuf2RespBegin,R.MMNetOnTaskEndCost=l.MMNetOnTaskEndEnd-l.MMNetOnTaskEndBegin,R.PushToMainProcessCost=l.CGICallbackTimestamp-l.MMNetOnTaskEndEnd),R.networkType=l.netType,R.ChannelType=l.channelType,R.ProtocolType=l.protocolType)}"function"==typeof T&&T.call(t,e)},beforeSuccess(e){f.info(`baseOperateWXData success apiName=${P}, TimeStampId=${A}, useQuic=${S}, usePriority=${k}, batchType=${o}`),b.reportFrameworkIDKey(26),R.isSuccess=!0,p.data.data&&p.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=R),n&&(e.apiVersion=(0,c.Ge)(R)),e.reportObj=R},beforeFail(e={}){b.reportFrameworkIDKey(27),R.isSuccess=!1,R.errMsg=JSON.stringify(e),R.err_code=e.err_code,R.errno=e.errno,f.info(`baseOperateWXData fail apiName=${P}, TimeStampId=${A}, useQuic=${S}, usePriority=${k}, batchType=${o}, errMsg=${R.errMsg}`),"1030"!==e.err_code&&"1031"!==e.err_code||(R.QuicBytes=e.errMsg.slice(e.errMsg.length-1),R.ProtocolType=2),p.data.data&&p.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=R),e.reportObj=R}})},T=r(9806),P=r(4081),A=r(4500),E=r(3778),M=void 0,x=void 0;n.default.onReady((()=>{var e="clicfg_appbrand_ios_enable_jsopdata_mock";(0,A.b)({experimentId:e,experimentType:"Expt",success:e=>{var t;e&&((null===(t=e.testConfig)||void 0===t?void 0:t.length)>10&&(M=e.testConfig))},fail(t){f.error(e,"failed",t)}})}));new Set(["webapi_getadvert","advert_report","webapi_advideo_report","webapi_adfollow_report","webapi_wxahttpdns_getfreehostip"]);var D=(()=>JSON.parse)(),R=(e,t=!1,r=!1)=>({keepAlive:i,apiName:o="",reqData:s,sdkApiName:l="operateWXData",pluginId:c,success:u,fail:d,complete:h,fromComponent:g=!1,withCredentials:v=!1,showConfirm:m=!1,timeout:y=6e4,contextId:_,reserveDataString:b=!1,showApiVersion:w=!1,showProfile:I=!1,priority:S,reqDataList:k=[],batchType:T=0,adExtra:A}={})=>{var R={success:u,fail:d,complete:h},L={api_name:o,data:s||{},operate_directly:e};"string"==typeof c&&(L.plugin_appid=c),!0===g&&(L.from_component=!0),!0===v&&(L.with_credentials=!0),!0===m&&(L.show_confirm=!0);var N=0;r&&(L.batch_type=1001,L.data_list=k,N=T);var O=()=>{C({keepAlive:i,data:L,timeout:y,contextId:_,priority:e?S:void 0,success(t){if("string"==typeof t.data)try{t.data=D(t.data)}catch(e){var n=Date.now();return t.reportObj.LibParseCost=n-t.reportObj.onJsCallbackTimestamp,t.reportObj.TotalCost=n-t.reportObj.invokeTime,t.reportObj.isSuccess=!1,t.reportObj.errMsg=`json parse error, json="${t.data}"`,t.reportObj.errno=P.Q1T,p(t.reportObj),void(0,a.FE)({name:l,args:R,errno:P.Q1T,errMsg:`json parse error, json="${t.data}"`,success:!1})}var{data:i={},reportObj:o}=t;delete t.data,delete t.reportObj;var{data:s,encryptedData:c,iv:d,cloud_id:g,err_no:v,signature:m,errmsg:y,quic_bytes:_,item_list:w}=i;if(delete i.quic_bytes,delete i.item_list,o.QuicBytes="number"==typeof _?_:0,e)void 0!==s&&(t.rawData=s),t.respData=i;else if("string"==typeof s)if(b)t.data={data:s};else try{t.data=D(s)}catch(e){var S=Date.now();return o.LibParseCost=S-o.onJsCallbackTimestamp,o.TotalCost=S-o.invokeTime,o.isSuccess=!1,o.errMsg=`json parse error, json="${s}"`,o.errno=P.Q1T,p(o),void(0,a.FE)({name:l,args:R,errno:P.Q1T,errMsg:`json parse error, json="${s}"`,success:!1})}else t.data={};m&&(t.signature=m),c&&(t.encryptedData=c,t.iv=d,g&&(t.cloudID=g)),r&&w&&(w.forEach((e=>{try{"string"==typeof e.resp&&e.resp?(e.resp=D(e.resp),"string"==typeof e.resp.data&&e.resp.data&&(e.resp.data=D(e.resp.data))):e.resp={}}catch(t){f.error("batch operatewxdata parse item error",t.message),e.resp={}}})),t.item_list=w);var k=Date.now();o.LibParseCost=k-o.onJsCallbackTimestamp,o.TotalCost=k-o.invokeTime,o.errno=v,p(o),"number"==typeof v&&0!==v?(0,a.FE)({name:l,args:R,errno:v,errMsg:y,success:!1}):(I&&(t.profile={TotalCost:o.TotalCost,JsToClientCost:o.JsToClientCost,QueueCost:o.QueueCost,ChildToMainProcessCost:o.ChildToMainProcessCost,MMNetCost:o.MMNetCost,MainToChildProcessCost:o.MainToChildProcessCost,ClientToJsCost:o.ClientToJsCost,MarsPackCost:o.MarsPackCost,MarsConnCost:o.MarsConnCost,MarsTLSCost:o.MarsTLSCost,MarsNetCost:o.MarsNetCost,MarsUnPackCost:o.MarsUnPackCost,LibParseCost:o.LibParseCost,ProtocolType:o.ProtocolType}),"function"==typeof u&&u(t),"function"==typeof h&&h(t))},fail(e){var t=Date.now();e.reportObj.LibParseCost=t-e.reportObj.onJsCallbackTimestamp,e.reportObj.TotalCost=t-e.reportObj.invokeTime,p(e.reportObj),delete e.reportObj,"function"==typeof d&&d(e),"function"==typeof h&&h(e)}},{beforeAll(e){"operateWXData"!==l&&(e.errMsg=e.errMsg.replace("operateWXData",l))}},{showApiVersion:w,showProfile:I,fromWebview:t,batchType:N,sdkApiName:l,adExtra:A})};!!M?new Promise(((e,t)=>{if(x)return e(x);var r;"string"==typeof M&&M.endsWith("?openid=")&&(r=`${M}${n.default.appLaunchInfo.openId}`),r?(0,E.ac)({url:r,success(r){try{var a=JSON.parse(r.data.data);x=a,e(a)}catch(e){console.error("get operateWXData mock config error: ",e),t(e)}},fail(e){t(e)}}):t("empty request url")})).then((t=>{var r=t[o];if(r){var n=!1,i={},c=!1;try{if(i.data=JSON.parse(r),Array.isArray(i.data))e:for(var d of i.data){var p=d.__mock_inner_args__;if(!p){i.data=d.data,c=!0;break e}var f=!0;for(var g in p)if(s[g]!==p[g]){f=!1;break}if(f){i.data=d.data,c=!0;break e}}else i.data=i.data.data,c=!0}catch(e){console.error(`你使用了 ${o} 这个数据管道的mock，在parse出现错误`,e),n=!0}if(c||(n=!0),!n){console.error(`你使用了 ${o} 这个数据管道的mock，res为`,i);var{data:v,encryptedData:m,iv:y,cloud_id:_,err_no:b,signature:w,errmsg:I}=i.data;return e&&(void 0!==v&&(i.rawData=JSON.stringify(v)),i.respData=v),w&&(i.signature=w),m&&(i.encryptedData=m,i.iv=y,_&&(i.cloudID=_)),void("number"==typeof b&&0!==b?(0,a.FE)({name:l,args:R,errno:b,errMsg:I,success:!1}):("function"==typeof u&&u(i),"function"==typeof h&&h(i)))}}O()})):O()},L=R(!1),N=(0,T.Fr)(L),O=R(!1,!1,!0),B=R(!1,!0),j=R(!1,!0,!0),F=R(!0)},8138:(e,t,r)=>{"use strict";r.d(t,{FE:()=>c,Rn:()=>u,S3:()=>l,YG:()=>s,r3:()=>i,zy:()=>o});var a=r(4081),n=r(6142);function i(e,t,r){var i=(0,n.x7)(t,r);return!i||(c({name:e,args:t,errno:a.Wkc,errMsg:`parameter error: ${i}`,success:!1}),!1)}function o(e,t){var r=(0,n.x7)(e,t);if(r)throw new Error(`parameter error: ${r}`)}function s(e,t={},r,a){var i=(0,n.hj)(r);c({name:e,args:t,errno:i?r:void 0,errMsg:i?void 0:r,errCode:i?void 0:a,success:!1})}function l({name:e,args:t={},errMsg:r="",res:a={}}){t=t||{};var i=`${e}:${r}`,o=_.surroundThirdByTryCatch(t.complete||n.ZT,`at api ${e} complete callback function`);a.errMsg=i,o(a)}function c({name:e,args:t={},success:r=!0,errno:a,errMsg:i="",errCode:o,res:s={},exception:l}){t=t||{};var c=_.surroundThirdByTryCatch((r?t.success:t.fail)||n.ZT,`at api ${e} ${r?"success":"fail"} callback function`),u=_.surroundThirdByTryCatch(t.complete||n.ZT,`at api ${e} complete callback function`);(0,n.hj)(a)?(s.errno=a,s.errMsg=`${e}:fail${i&&":"!==i[0]?" ":""}${i||""}`):(s.errMsg=r?`${e}:ok`:`${e}:fail ${i}`,(0,n.hj)(o)&&(s.errCode=o)),l&&(s.exception=l),c(s),u(s)}var u=({success:e,fail:t,complete:r}={},a)=>{var n=e=>{"function"==typeof t&&(a?_.surroundThirdByTryCatch(t,`at api ${a} fail callback function`)(e):t(e)),"function"==typeof r&&(a?_.surroundThirdByTryCatch(r,`at api ${a} complete callback function`)(e):r(e))};return{success:t=>{void 0===t.errMsg&&a&&(t.errMsg=`${a}:ok`),"function"==typeof e&&(a?_.surroundThirdByTryCatch(e,`at api ${a} success callback function`)(t):e(t)),"function"==typeof r&&(a?_.surroundThirdByTryCatch(r,`at api ${a} complete callback function`)(t):r(t))},fail:n,failWithMsg:({code:e,msg:t,errno:r,name:i}={})=>{var o={};"number"==typeof r&&r>0?(o.errno=r,o.errMsg=`${i||a}:fail`):(o.errMsg=`${i||a}:fail ${t||""}`,"number"==typeof e&&(o.errCode=e)),n(o)}}}},9695:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var a=r(4536),n=r(4081),i=JSON.parse,o=JSON.stringify,s=(e,t,{timeout:r}={timeout:1e4})=>{var s,l=null;return(c={})=>{var u,{success:d,fail:p}=(0,a.Rn)(c,e);null===l?(u=!1,l=new Promise(((a,i)=>{t(Object.assign({},c,{success:a,fail:i,complete:void 0})),setTimeout((()=>{i({errMsg:`${e}:fail time out`,errno:n.zMx})}),r)}))):u=!0,l.then((e=>{if(l=null,u){var t={};try{t=i(s)}catch(e){f.error("constructCachedOptimizedApi parse error",e)}d(t)}else{try{s=o(e)}catch(e){f.error("constructCachedOptimizedApi stringify error",e)}d(e)}})).catch((e=>{l=null,p(e)}))}}},1843:(e,t,r)=>{"use strict";r.d(t,{r:()=>i});var a=JSON.parse,n=JSON.stringify,i=e=>{var t;return(r={})=>{if(t){var i={};try{i=a(t)}catch(e){f.error("constructCachedOptimizedSyncReturnApi parse error",e.message)}return i}var o=e(r);try{t=n(o)}catch(e){f.error("constructCachedOptimizedSyncReturnApi stringify error",e.message)}return Promise.resolve().then((()=>{t=void 0})),o}}},8602:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});class a{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}const n=(()=>new a)()},902:(e,t,r)=>{"use strict";r.d(t,{wA:()=>S,Ue:()=>w,Wj:()=>b,S1:()=>k,bn:()=>I});var n=r(5656),i=r(6172),o=r(8599),s=r(8078),l=r(6087),c=r(4536),u=r(8246),d=r(5436),p={};class h extends l.W{constructor({style:e={},name:t,x:r=0,y:a=0,width:n=300,height:i=200,url:o="",urls:s=[],scale:l=1,autoInsert:c=!0,hide:u=!1,zIndex:h=0}={}){if(super({style:e,name:t}),this.x=r,this.y=a,this.width=n,this.height=i,this.scale=+l,this.hide=u,this.autoInsert=c,this.url=o,this.zIndex=h,this.emitter=new d.Q("ImagePreviewer",!0),p[this.id]=this,"string"==typeof s)try{this.urls=JSON.parse(s)}catch(e){this.urls=[]}else this.urls=s;this._insertPromise=new Promise(((e,t)=>{this._insertPromiseResolve=e,this._insertPromiseReject=t}))}insert(){return(0,c.IN)("insertImagePreviewer",Object.assign(this.toNativeData(),{success:e=>{this._insertPromiseResolve(e)},fail:e=>{this._insertPromiseReject(e)}})),this._insertPromise}update(){return new Promise(((e,t)=>{this._insertPromise.then((()=>{(0,c.IN)("updateImagePreviewer",Object.assign(this.toNativeData(),{success:t=>{e(t)},fail:e=>{t(e)}}))})).catch(t)}))}destroy(){return new Promise(((e,t)=>{setTimeout((()=>{(0,c.IN)("removeImagePreviewer",{viewId:this.id,success:e,fail:t}),this.offImageLoadFail(),delete p[this.id]}),0)}))}toNativeData(){return{position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId}}onImageLoadFail(e){this.emitter.on("onImageLoadFail",e)}offImageLoadFail(e){this.emitter.off("onImageLoadFail",e)}}(0,u.n)("onImagePreviewerLoadFail",(e=>{p[e.viewId].emitter.emit("onImageLoadFail",e)}));var g=r(9137),v=new WeakMap,m=a.prototype.call.bind(WeakMap.prototype.get),y=a.prototype.call.bind(WeakMap.prototype.set),_=a.prototype.call.bind(WeakMap.prototype.delete),b=e=>m(v,e),w=function(e){var t=b(this),r={view:n.G,text:i.x,image:o.E,video:s.n,"image-previewer":h}[e.name],a="";e.attributes.id?a=(0,g.um)(e.attributes.id):f.error(`${e.name} 缺少id`);var l=Object.keys(e.attributes).reduce(((r,n)=>{var i=e.attributes[n],o=(0,g.um)(n);return"id"===n?(r.style=Object.assign(r.style||{},t.style[a]),r):"class"===n?(r.style=i.split(/\s+/).reduce(((e,r)=>Object.assign(e,t.style[r])),r.style||{}),r):(/\{\{.+\}\}/.test(i)||(r[o]=""===i||"true"===i||"false"!==i&&i),r)}),{});l.name=a;var c=new r(l);return t[a]=c,e.children.forEach((e=>{var t=w.call(this,e);c.add(t)})),c},I=e=>{_(v,e)};class S{constructor(){y(v,this,{})}}var k=function(e,t,r){var a=b(this);a.xom=e,a.style=t,a.state=r,w.call(this,e)}},1141:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(9661);class n{constructor(){this.emitter=new a.Z({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=_.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);"function"==typeof r&&(this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}},6087:(e,t,r)=>{"use strict";r.d(t,{W:()=>g});var a=r(9661),n=r(2219),i=r(8239),o=r(9137),s=r(6342),l=r(8246),c=(e,t)=>{((e,t,r)=>{r&&(0,l.n)(e,t)})(e,t,"undefined"==typeof IS_SDK_PACKAGE)},u=r(6442),d=new a.Z({maxListeners:2e5}),p="portrait",h="";s.default.onReady((()=>{p=s.default.deviceOrientation||p,h=(0,n.Oo)().model||""}));var f=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;class g{constructor({parentId:e=0,id:t=u.r.increase(),style:r={},props:a={},name:n=""}={}){var l=s.default.platform;this.parentId=e,this.dest=0,this.id=t,this.name=n,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.autoLayout=!0,this.readyResult=new Promise((e=>{this.on("ready",e)})),r=Object.assign((0,i.ph)(),r),Object.assign(r,r[p]);var c=/iphone x/.test(h.toLowerCase())?"iphone x":l;Object.assign(r,r[c]),Object.assign(r,r[`${c}-${p}`]),this.style={},this.computedStyle=Object.assign({},r),this.lastComputedStyle=Object.assign({},r),this.layoutBox=null,Object.keys(r).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>r[e],set:t=>{if(t!==r[e]&&void 0!==t){if(r[e]=t,this.computedStyle[e]=t,this.lastComputedStyle[e]=t,-1!==i.fc.indexOf(e)&&this.style.scale){var a=t*this.style.scale;this.computedStyle[e]=a,this.lastComputedStyle[e]=a}"scale"===e&&i.fc.forEach((e=>{r[e]&&(this.computedStyle[e]=r[e]*t,this.lastComputedStyle[e]=r[e]*t)})),this.shouldUpdate=!0,"hidden"===e&&(t?((0,o.cM)(this.id,this.name,"隐藏, 保存宽高",this.computedStyle.width,this.computedStyle.height),i.MY.forEach((e=>{this.computedStyle[e]=0}))):((0,o.cM)(this.id,this.name,"显示, 设置回来",this.lastComputedStyle.width,this.lastComputedStyle.height),i.MY.forEach((e=>{this.computedStyle[e]=this.lastComputedStyle[e]})))),this.requestLayout()}}})})),i.fc.forEach((e=>{if(this.style[e]&&this.style.scale){var t=this.style[e]*this.style.scale;this.computedStyle[e]=t,this.lastComputedStyle[e]=t}})),r.hidden&&i.MY.forEach((e=>{this.computedStyle[e]=0})),Object.keys(a).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>a[e],set:t=>{t!==a[e]&&(a[e]=t,this.shouldUpdate=!0,this.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((e=>{this.on(e,(t=>{if(this.bubbleEvent&&this.parent){var r=0,a=0;try{r=this.layoutBox.left,a=this.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var n=Object.assign({},t);n.x+=r,n.y+=a,this.parent.emit(e,n)}else{var i=t.map((e=>({x:e.x+r,y:e.y+a})));this.parent.emit(e,i)}}}))}))}getChildren(){return Object.keys(this.children).map((e=>{var t=this.children[e];return t.dest=this.dest,{id:t.id,name:t.name,style:t.computedStyle,children:t.getChildren()}}))}getAbsolutePosition(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var{left:t,top:r}=this.getAbsolutePosition(e.parent);return{left:t+e.layoutBox.left,top:r+e.layoutBox.top}}add(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}remove(e){e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((e=>{this.children[e].remove(),delete this.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}emit(e,t){d.emit(f(e,this.id),t)}on(e,t){d.on(f(e,this.id),t)}once(e,t){d.once(f(e,this.id),t)}off(e,t){d.off(f(e,this.id),t)}nextLayout(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextLayout(e)));setTimeout(e,250)}nextUpdate(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextUpdate(e)));this.once("update-done",e)}ready(){var e=Object.keys(this.children).map((e=>this.children[e].ready()));return Promise.all(e.concat(this.readyResult))}requestLayout(){this.autoLayout&&this.emit("layout")}forceUpdate(){var e=this.isInserted?this.update():this.insert(),t=Object.keys(this.children).map((e=>this.children[e].forceUpdate()));return e.then((()=>Promise.all(t)))}insert(){return Promise.resolve()}update(){return Promise.resolve()}destroy(){["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((e=>{var t=f(e,this.id);d.removeAllListeners(t)}))}}var v=e=>{var{id:t}=JSON.parse(e.data);d.emit(f("click",t))};c("onTextViewClick",v),c("onImageViewClick",v),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{var t=e.replace(/^on/,"").toLowerCase();c(e,(e=>{try{if(e.data){var{id:r}=JSON.parse(e.data);d.emit(f(t,r),e.touch||e.touches)}else d.emit(f(t,e.viewId),e.touch||e.touches)}catch(e){}}))}))},8599:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var a=r(5656),n=r(6347);class i extends a.G{constructor({id:e,style:t,src:r="",name:a="",autoInsert:n=!1,eventType:i,bubbleEvent:o,clickState:s,independent:l=!1,dest:c=0}={}){super({id:e,style:t,props:{src:r},type:"image",name:a,autoInsert:n,eventType:i,bubbleEvent:o,clickState:s,independent:l,dest:c})}toNativeData(){return Object.assign(super.toNativeData(),{iconPath:(0,n.Uj)(this.src)})}}},8911:(e,t,r)=>{"use strict";r.d(t,{_:()=>u,u:()=>c});var a=r(6087),n=function(){var e,t="inherit",r="ltr",a="rtl",n="row",i="row-reverse",o="column",s="column-reverse",l="flex-start",c="center",u="flex-end",d="space-between",p="space-around",h="flex-start",f="center",g="flex-end",v="stretch",m="relative",y="absolute",_={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},b={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},w={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},I={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function S(e){return void 0===e}function k(e){return e===n||e===i}function C(e,t){if(void 0!==e.style.marginStart&&k(t))return e.style.marginStart;var r=null;switch(t){case"row":r=e.style.marginLeft;break;case"row-reverse":r=e.style.marginRight;break;case"column":r=e.style.marginTop;break;case"column-reverse":r=e.style.marginBottom}return void 0!==r?r:void 0!==e.style.margin?e.style.margin:0}function T(e,t){if(void 0!==e.style.marginEnd&&k(t))return e.style.marginEnd;var r=null;switch(t){case"row":r=e.style.marginRight;break;case"row-reverse":r=e.style.marginLeft;break;case"column":r=e.style.marginBottom;break;case"column-reverse":r=e.style.marginTop}return null!=r?r:void 0!==e.style.margin?e.style.margin:0}function P(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&k(t))return e.style.borderStartWidth;var r=null;switch(t){case"row":r=e.style.borderLeftWidth;break;case"row-reverse":r=e.style.borderRightWidth;break;case"column":r=e.style.borderTopWidth;break;case"column-reverse":r=e.style.borderBottomWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function A(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&k(t))return e.style.borderEndWidth;var r=null;switch(t){case"row":r=e.style.borderRightWidth;break;case"row-reverse":r=e.style.borderLeftWidth;break;case"column":r=e.style.borderBottomWidth;break;case"column-reverse":r=e.style.borderTopWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function E(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&k(t))return e.style.paddingStart;var r=null;switch(t){case"row":r=e.style.paddingLeft;break;case"row-reverse":r=e.style.paddingRight;break;case"column":r=e.style.paddingTop;break;case"column-reverse":r=e.style.paddingBottom}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+P(e,t)}function M(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&k(t))return e.style.paddingEnd;var r=null;switch(t){case"row":r=e.style.paddingRight;break;case"row-reverse":r=e.style.paddingLeft;break;case"column":r=e.style.paddingBottom;break;case"column-reverse":r=e.style.paddingTop}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+A(e,t)}function x(e,t){return P(e,t)+A(e,t)}function D(e,t){return C(e,t)+T(e,t)}function R(e,t){return E(e,t)+M(e,t)}function L(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function N(e,t){if(t===a){if(e===n)return i;if(e===i)return n}return e}function O(e,t){return function(e){return e===o||e===s}(e)?N(n,t):o}function B(e){return e.style.position?e.style.position:"relative"}function j(e){return B(e)===m&&e.style.flex>0}function F(e,t){return e.layout[I[t]]+D(e,t)}function W(e,t){return void 0!==e.style[I[t]]&&e.style[I[t]]>=0}function U(e,t){return void 0!==e.style[t]}function G(e,t){return void 0!==e.style[t]?e.style[t]:0}function V(e,t,r){var a={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],n={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],i=r;return void 0!==n&&n>=0&&i>n&&(i=n),void 0!==a&&a>=0&&i<a&&(i=a),i}function $(e,t){return e>t?e:t}function q(e,t){void 0===e.layout[I[t]]&&W(e,t)&&(e.layout[I[t]]=$(V(e,t,e.style[I[t]]),R(e,t)))}function z(e,t,r){t.layout[b[r]]=e.layout[I[r]]-t.layout[I[r]]-t.layout[w[r]]}function H(e,t){return void 0!==e.style[_[t]]?G(e,_[t]):-G(e,b[t])}function K(a,A,K){var Q=function(e,a){var n;return(n=e.style.direction?e.style.direction:t)===t&&(n=void 0===a?r:a),n}(a,K),Y=N(function(e){return e.style.flexDirection?e.style.flexDirection:o}(a),Q),Z=O(Y,Q),X=N(n,Q);q(a,Y),q(a,Z),a.layout.direction=Q,a.layout[_[Y]]+=C(a,Y)+H(a,Y),a.layout[b[Y]]+=T(a,Y)+H(a,Y),a.layout[_[Z]]+=C(a,Z)+H(a,Z),a.layout[b[Z]]+=T(a,Z)+H(a,Z);var ee=a.children.length,te=R(a,X);if(function(e){return void 0!==e.style.measure}(a)){var re=!S(a.layout[I[X]]),ae=e;ae=W(a,X)?a.style.width:re?a.layout[I[X]]:A-D(a,X),ae-=te;var ne=!W(a,X)&&!re,ie=!W(a,o)&&S(a.layout[I[o]]);if(ne||ie){var oe=a.style.measure(ae);ne&&(a.layout.width=oe.width+te),ie&&(a.layout.height=oe.height+R(a,o))}if(0===ee)return}var se,le,ce,ue,de=function(e){return"wrap"===e.style.flexWrap}(a),pe=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(a),he=E(a,Y),fe=E(a,Z),ge=R(a,Y),ve=R(a,Z),me=!S(a.layout[I[Y]]),ye=!S(a.layout[I[Z]]),_e=k(Y),be=null,we=null,Ie=e;me&&(Ie=a.layout[I[Y]]-ge);for(var Se=0,ke=0,Ce=0,Te=0,Pe=0,Ae=0;ke<ee;){var Ee,Me=0,xe=0,De=0,Re=0,Le=me&&pe===l||!me&&pe!==c,Ne=Le?ee:Se,Oe=!0,Be=ee,je=null,Fe=null,We=he,Ue=0;for(se=Se;se<ee;++se){if((ce=a.children[se]).lineIndex=Ae,ce.nextAbsoluteChild=null,ce.nextFlexChild=null,(Qe=L(a,ce))===v&&B(ce)===m&&ye&&!W(ce,Z))ce.layout[I[Z]]=$(V(ce,Z,a.layout[I[Z]]-ve-D(ce,Z)),R(ce,Z));else if(B(ce)===y)for(null===be&&(be=ce),null!==we&&(we.nextAbsoluteChild=ce),we=ce,le=0;le<2;le++)ue=0!==le?n:o,!S(a.layout[I[ue]])&&!W(ce,ue)&&U(ce,_[ue])&&U(ce,b[ue])&&(ce.layout[I[ue]]=$(V(ce,ue,a.layout[I[ue]]-R(a,ue)-D(ce,ue)-G(ce,_[ue])-G(ce,b[ue])),R(ce,ue)));var Ge=0;if(me&&j(ce)?(xe++,De+=ce.style.flex,null===je&&(je=ce),null!==Fe&&(Fe.nextFlexChild=ce),Fe=ce,Ge=R(ce,Y)+D(ce,Y)):(Ee=e,_e||(Ee=W(a,X)?a.layout[I[X]]-te:A-D(a,X)-te),0===Ce&&J(ce,Ee,Q),B(ce)===m&&(Re++,Ge=F(ce,Y))),de&&me&&Me+Ge>Ie&&se!==Se){Re--,Ce=1;break}Le&&(B(ce)!==m||j(ce))&&(Le=!1,Ne=se),Oe&&(B(ce)!==m||Qe!==v&&Qe!==h||S(ce.layout[I[Z]]))&&(Oe=!1,Be=se),Le&&(ce.layout[w[Y]]+=We,me&&z(a,ce,Y),We+=F(ce,Y),Ue=$(Ue,V(ce,Z,F(ce,Z)))),Oe&&(ce.layout[w[Z]]+=Te+fe,ye&&z(a,ce,Z)),Ce=0,Me+=Ge,ke=se+1}var Ve=0,$e=0,qe=0;if(qe=me?Ie-Me:$(Me,0)-Me,0!==xe){var ze,He,Ke=qe/De;for(Fe=je;null!==Fe;)(ze=Ke*Fe.style.flex+R(Fe,Y))!==(He=V(Fe,Y,ze))&&(qe-=He,De-=Fe.style.flex),Fe=Fe.nextFlexChild;for((Ke=qe/De)<0&&(Ke=0),Fe=je;null!==Fe;)Fe.layout[I[Y]]=V(Fe,Y,Ke*Fe.style.flex+R(Fe,Y)),Ee=e,W(a,X)?Ee=a.layout[I[X]]-te:_e||(Ee=A-D(a,X)-te),J(Fe,Ee,Q),ce=Fe,Fe=Fe.nextFlexChild,ce.nextFlexChild=null}else pe!==l&&(pe===c?Ve=qe/2:pe===u?Ve=qe:pe===d?(qe=$(qe,0),$e=xe+Re-1!=0?qe/(xe+Re-1):0):pe===p&&(Ve=($e=qe/(xe+Re))/2));for(We+=Ve,se=Ne;se<ke;++se)B(ce=a.children[se])===y&&U(ce,_[Y])?ce.layout[w[Y]]=G(ce,_[Y])+P(a,Y)+C(ce,Y):(ce.layout[w[Y]]+=We,me&&z(a,ce,Y),B(ce)===m&&(We+=$e+F(ce,Y),Ue=$(Ue,V(ce,Z,F(ce,Z)))));var Je=a.layout[I[Z]];for(ye||(Je=$(V(a,Z,Ue+ve),ve)),se=Be;se<ke;++se)if(B(ce=a.children[se])===y&&U(ce,_[Z]))ce.layout[w[Z]]=G(ce,_[Z])+P(a,Z)+C(ce,Z);else{var Qe,Ye=fe;if(B(ce)===m)if((Qe=L(a,ce))===v)S(ce.layout[I[Z]])&&(ce.layout[I[Z]]=$(V(ce,Z,Je-ve-D(ce,Z)),R(ce,Z)));else if(Qe!==h){var Ze=Je-ve-F(ce,Z);Ye+=Qe===f?Ze/2:Ze}ce.layout[w[Z]]+=Te+Ye,ye&&z(a,ce,Z)}Te+=Ue,Pe=$(Pe,We),Ae+=1,Se=ke}if(Ae>1&&ye){var Xe=a.layout[I[Z]]-ve,et=Xe-Te,tt=0,rt=fe,at=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(a);at===g?rt+=et:at===f?rt+=et/2:at===v&&Xe>Te&&(tt=et/Ae);var nt=0;for(se=0;se<Ae;++se){var it=nt,ot=0;for(le=it;le<ee;++le)if(B(ce=a.children[le])===m){if(ce.lineIndex!==se)break;S(ce.layout[I[Z]])||(ot=$(ot,ce.layout[I[Z]]+D(ce,Z)))}for(nt=le,ot+=tt,le=it;le<nt;++le)if(B(ce=a.children[le])===m){var st=L(a,ce);if(st===h)ce.layout[w[Z]]=rt+C(ce,Z);else if(st===g)ce.layout[w[Z]]=rt+ot-T(ce,Z)-ce.layout[I[Z]];else if(st===f){var lt=ce.layout[I[Z]];ce.layout[w[Z]]=rt+(ot-lt)/2}else st===v&&(ce.layout[w[Z]]=rt+C(ce,Z))}rt+=ot}}var ct=!1,ut=!1;if(me||(a.layout[I[Y]]=$(V(a,Y,Pe+M(a,Y)),ge),Y!==i&&Y!==s||(ct=!0)),ye||(a.layout[I[Z]]=$(V(a,Z,Te+ve),ve),Z!==i&&Z!==s||(ut=!0)),ct||ut)for(se=0;se<ee;++se)ce=a.children[se],ct&&z(a,ce,Y),ut&&z(a,ce,Z);for(we=be;null!==we;){for(le=0;le<2;le++)ue=0!==le?n:o,!S(a.layout[I[ue]])&&!W(we,ue)&&U(we,_[ue])&&U(we,b[ue])&&(we.layout[I[ue]]=$(V(we,ue,a.layout[I[ue]]-x(a,ue)-D(we,ue)-G(we,_[ue])-G(we,b[ue])),R(we,ue))),U(we,b[ue])&&!U(we,_[ue])&&(we.layout[_[ue]]=a.layout[I[ue]]-we.layout[I[ue]]-G(we,b[ue]));ce=we,we=we.nextAbsoluteChild,ce.nextAbsoluteChild=null}}function J(e,t,a){e.shouldUpdate=!0;var n=e.style.direction||r;!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===n?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=n,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),K(e,t,a),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:K,computeLayout:J,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();var i=(e,t)=>{var r=!1;t.layoutBox=t.layoutBox||{},["left","top","width","height"].forEach((a=>{r=r||t.layoutBox[a]!==e.layout[a],t.layoutBox[a]=e.layout[a]})),t.shouldUpdate=t.shouldUpdate||r,e.children.forEach((e=>{var r=t.children[e.id];r&&i(e,r)}))},o=e=>{var t=Promise.resolve();return e.isInserted?e.shouldUpdate&&(t=e.update()):t=e.insert(),t.then((()=>Promise.all(Object.keys(e.children).map((t=>{var r=e.children[t];return o(r)})))))},s=e=>{e.isInserted?e.shouldUpdate&&e.update():e.insert(),Object.keys(e.children).map((t=>{var r=e.children[t];return s(r)}))};class l extends a.W{constructor({style:e,name:t,auto:r=!0}={}){super({style:e,id:0,name:t});var a=null;this.auto=r,this.on("layout",(()=>{this.auto&&(clearTimeout(a),a=setTimeout((()=>this.layout()),0))})),this.onebyone=!0}layout(e){void 0===e&&(e=this.onebyone);var t,r={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return t=r,n.fillNodes(t),n.computeLayout(t),i(r,this),e?o(this).then((()=>this.emit("update-done"))):(s(this),Promise.resolve().then((()=>this.emit("update-done"))))}}var c=new l({name:"webview-layout"});c.dest=0;var u=new l({name:"nativeview-layout",auto:!1});u.onebyone=!1,u.dest=1},8239:(e,t,r)=>{"use strict";r.d(t,{MY:()=>n,fc:()=>a,ph:()=>i});var a=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],n=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],i=()=>({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0})},6172:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});var a=r(5656);class n extends a.G{constructor({id:e,style:t,value:r="",name:a="",autoInsert:n=!1,eventType:i,bubbleEvent:o,clickState:s,independent:l=!1,dest:c=0}={}){super({id:e,style:t,props:{value:r},type:"text",name:a,autoInsert:n,eventType:i,bubbleEvent:o,clickState:s,independent:l,dest:c})}toNativeData(){var e=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(((e,t)=>(e[t]=this.computedStyle[t],e)),{});return Object.assign(super.toNativeData(),{label:Object.assign(e,{content:this.value})})}}},6442:(e,t,r)=>{"use strict";r.d(t,{r:()=>a});var a={uuid:32768,increase(){return this.uuid++}}},8078:(e,t,r)=>{"use strict";r.d(t,{n:()=>_});var a=r(1141),n=r(6087),i=r(4536),o=r(8246),s=r(7445),l=r(6342),c=r(6385),u={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},d=0,p={};l.default.onReady((()=>{d=l.default.appType+1e3,p=l.default.appLaunchInfo}));var h={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},f=r(6347),g=r(175),v={},m=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress","onVideoPreloadedMetaData"];s.wZ&&m.push("onVideoFullScreenChange");var y=(e,t,r)=>{if("ad"!==e.scene){(({component:e,eventName:t,eventData:r,src:a=""}={})=>{var n=(0,c._getCurrentNetworkType)(),i=l.default.SDKVersion||"",o=Object.keys(p.query||{}).map((e=>`${e}=${p.query[e]}`)).join(",");o=encodeURIComponent(o);var s="";switch(t){case"onLoad":s=[r.duration,r.controls?2:1].join(";");break;case"onWaiting":case"onTimeUpdate":s=[r.position,r.buffered].join(";");break;case"onError":s=r.errMsg.replace(","," ");break;case"onFullScreenChange":s=r.fullScreen?2:1;break;case"onImageLoad":s=[r.isLazyLoad?2:1,r.size,r.loadTime,r.width,r.height,r.originalWidth,r.originalHeight].join(";");break;case"onImageError":s=[r.isLazyLoad?2:1].join(";")}var f=[Math.round(Date.now()/1e3),p.scene,"",p.sessionid||p.sessionId,p.path,o,n,i,u[e],h[t],s,encodeURIComponent(a.substring(0,1024)).substring(0,1024),d].join(",");b.reportKeyValue({key:"MediaCompStatus",value:f})})({component:"video",eventName:t,eventData:r,src:e.src});var a={onPlay:1,onPause:2,onEnded:2,onError:3};a[t]&&(0,g.w)({eventid:a[t],src:e.src,ended:"onEnded"===t,reason:"onError"===t?r.errMsg:void 0})}};class _ extends n.W{constructor({style:e={},name:t,x:r=0,y:n=0,width:i=300,height:o=200,hide:s=!1,src:l,poster:c,referrerPolicy:u="no-referrer",initialTime:d=0,playbackRate:p=1,live:h=!1,showPoster:f=!1,objectFit:g="contain",controls:y=!0,showProgress:_=!0,showProgressInControlMode:b=_,autoplay:w=!1,muted:I=!1,loop:S=!1,customCache:k=!1,enableProgressGesture:C=!0,enablePlayGesture:T=!1,showCenterPlayBtn:P=!0,autoInsert:A=!0,scene:E="default",preLoad:M=!1,obeyMuteSwitch:x=!1,underGameView:D=!1,backgroundColor:R="#000000",playerHint:L="",zIndex:N,autoPauseIfNavigate:O=!0,autoPauseIfOpenNative:B=!0,independent:j=!1,dest:F=0,bufferDuration:W}={}){super({style:e,name:t}),this.isSrcChanged=!1,this.autoInsert=A,this.playerHint=L,this.scene=E,this.preLoad=M,this.underGameView=D,this.zIndex=N,this.autoPauseIfOpenNative=B,this.autoPauseIfNavigate=O,this.customCache=k,this.independent=j,this.dest=F,this.bufferDuration=W,this.showPoster=f,v[this.id]=this;var U=null;this.emitter=new a.Z,this.deferred=[],this._buffered=0,this._position=0;var G={x:r,y:n,width:i,height:o,hide:s,src:l,poster:c,initialTime:d,playbackRate:p,live:h,objectFit:g,controls:y,showProgress:_,showProgressInControlMode:b,backgroundColor:R,autoplay:w,muted:I,loop:S,enableProgressGesture:C,enablePlayGesture:T,showCenterPlayBtn:P,obeyMuteSwitch:x,referrerPolicy:u};Object.keys(G).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>G[e],set:t=>{"src"!==e&&G[e]===t||(G[e]=t,this.isInserted?("src"===e&&(this.isSrcChanged=!0),"poster"===e&&(this.isPosterChanged=!0),"playbackRate"===e?this.operate("playbackRate",[t]):(clearTimeout(U),U=setTimeout((()=>this.update()),0))):this.deferred.push({type:"property",property:e,value:t}))}})})),m.forEach((e=>{var t=e.toLowerCase().replace("video","");this[t]=()=>{},this.emitter.on(e,(e=>{this[t](e)}))})),this.autoInsert&&this.insert().then((()=>{this.playbackRate&&1!==this.playbackRate&&this.operate("playbackRate",[this.playbackRate])})).then((()=>{this.deferred.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}))}insert(){if(!this.isInserted)return this.isInserted=!0,y(this,"onSrcSet",{}),new Promise(((e,t)=>{(0,i.IN)("insertVideoPlayer",Object.assign(this.toNativeData(),{data:JSON.stringify({id:this.id}),filePath:(0,f.Uj)(this.src),scene:this.scene,preLoad:this.preLoad,underGameView:this.underGameView,referrerPolicy:this.referrerPolicy,playerHint:this.playerHint,zIndex:this.zIndex,poster:(0,f.Uj)(this.poster),success:t=>{this.emit("ready"),e(t)},fail:t}))}))}destroy(){return(0,g.w)({eventid:2,src:this.src,ended:!0}),new Promise(((e,t)=>{s.cj?setTimeout((()=>{(0,i.IN)("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t})}),0):(0,i.IN)("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t}),m.forEach((e=>{var t=e.replace("Video","").replace("on","off");"function"==typeof this[t]&&this[t]()})),delete v[this.id]}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,dest:this.dest,customCache:this.customCache,bufferDuration:this.bufferDuration,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,independent:this.independent,showPoster:this.showPoster};return this.isSrcChanged&&(t.filePath=(0,f.Uj)(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=(0,f.Uj)(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}update(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&y(this,"onSrcSet",{}),new Promise(((t,r)=>{(0,i.IN)("updateVideoPlayer",Object.assign({},e,{success:t,fail:r}))}))}operate(e,t=[]){if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(`${e} can't be invoked when video is hidden`)):new Promise(((r,a)=>{(0,i.IN)("operateVideoPlayer",{videoPlayerId:this.id,type:e,data:t,independent:this.independent,dest:this.dest,success:r,fail:a})}));this.deferred.push({type:"method",method:e,args:t})}play(){return this.operate("play")}pause(){return this.operate("pause")}stop(){return this.operate("stop")}seek(e){return this.operate("seek",[e])}requestFullScreen(e){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}}m.forEach((e=>{var t=e.replace("Video","");_.prototype[t]=function(t){this.emitter.on(e,t)};var r=t.replace("on","off");_.prototype[r]=function(t){this.emitter.off(e,t)}})),m.forEach((e=>{(0,o.n)(e,(t=>{var r=t.videoPlayerId||JSON.parse(t.data||"{}").id,a=v[r];if(a)if(a.emitter.emit(e,t),"onVideoProgress"!==e){var n=t;"onVideoTimeUpdate"===e?(a._position=t.position,n={position:t.position,buffered:a._buffered}):"onVideoWaiting"===e&&(n={position:a._position,buffered:a._buffered}),y(a,e.replace("Video",""),n)}else a._buffered=t.buffered}))}))},5656:(e,t,r)=>{"use strict";r.d(t,{G:()=>o});var a=r(4536),n=r(6087),i=r(9137);class o extends n.W{constructor({id:e,parentId:t,style:r,props:a={},type:n="text",name:i="",autoInsert:s=!1,eventType:l="touch",clickState:c=!1,bubbleEvent:u=!1,independent:d=!1,dest:p=0}={}){super({id:e,style:r,props:Object.assign(a,{fullscreen:!1}),name:i,parentId:t}),this.type="text"===n?"TextView":"ImageView",this.eventType=l,this.autoInsert=s,this.bubbleEvent=u,this.clickState=c,this.independent=d,this.dest=p,"touch"===this.eventType&&c&&this.ready().then((()=>{this.mask=new o({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click",independent:this.independent}),this.mask.name="mask",this.add(this.mask)})).catch((()=>{}));var h=Date.now(),f={x:0,y:0};this.on("touchstart",(e=>{this.clickState&&this.mask&&(this.mask.style.hidden=!1),h=Date.now(),f=e}));var g=e=>{this.clickState&&this.mask&&(this.mask.style.hidden=!0);var t={x:0,y:0};try{t=this.getAbsolutePosition()}catch(e){}var r={x:0,y:0};Array.isArray(e)?r=e.pop():e.x&&e.y&&(r=e);var a={absoluteX:t.left+f.x,absoluteY:t.top+f.y,relativeX:f.x,relativeY:f.y,absoluteEndX:t.left+r.x,absoluteEndY:t.top+r.y,relativeEndX:r.x,relativeEndY:r.y,pressInterval:Date.now()-h};this.emit("click",a)};this.on("touchend",g),this.on("touchcancel",g),this.autoInsert&&this.insert()}toNativeData(){var e=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&e.push("objectFit");var t=e.reduce(((e,t)=>(e[t]=this.computedStyle[t],"borderColor"===t&&(e[t]=(0,i.$v)(this.computedStyle[t])),e)),{});t.bgColor=(0,i.$v)(this.computedStyle.backgroundColor),t.scaleX=this.computedStyle.scaleWidth,t.scaleY=this.computedStyle.scaleHeight;var r={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(r={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(r.width=0,r.height=0),this.mask&&(this.mask.style.width=r.width,this.mask.style.height=r.height),t.padding=[0,0,0,0],void 0!==t.borderRadius&&t.borderRadius||(t.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:r,hide:this.computedStyle.hidden,style:t,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:t.fixed,independent:this.independent}}insert(){var e=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(((t,r)=>{(0,a.IN)(`insert${this.type}`,Object.assign(e,{success:e=>{(0,i.cM)(this.name,this.id,"ready"),this.emit("ready"),t(e)},fail:r}))}))}update(){this.shouldUpdate=!1;var e=this.toNativeData();return new Promise(((t,r)=>{(0,a.IN)(`update${this.type}`,Object.assign(e,{success:t,fail:r}))}))}destroy(){super.destroy();var e={dest:this.dest,viewId:this.id,independent:this.independent};return new Promise(((t,r)=>{(0,a.IN)(`remove${this.type}`,Object.assign(e,{success:t,fail:r}))}))}animate({left:e,top:t,opacity:r,scaleWidth:n,scaleHeight:i,rotate:o=0,duration:s=500,easing:l,emitError:c=!1}={}){var u={dest:this.dest,viewId:this.id,easing:l||"ease-in",duration:s,finalStyle:{left:e,top:t,opacity:r,rotate:o,scaleX:n,scaleY:i},independent:this.independent};return new Promise(((e,t)=>{(0,a.IN)("animateCoverView",Object.assign(u,{success:e,fail:t}))})).then((a=>(void 0!==e&&(this.style.left=e),void 0!==t&&(this.style.top=t),void 0!==n&&(this.style.scaleWidth=n),void 0!==i&&(this.style.scaleHeight=i),void 0!==r&&(this.style.opacity=r),void 0!==o&&(this.style.rotate=o),a))).catch((e=>{if(f.error("animateCoverView fail",e),c)throw e}))}}},3286:(e,t,r)=>{"use strict";r.d(t,{KG:()=>I,Zp:()=>m,kh:()=>v});var a=r(6087),n=r(4536),i=r(8246),o=r(6342),s=r(7445),l=r(6347),c=["game.weixin.qq.com"],u=new Map,d=new WeakMap,p=e=>e?"updateGameHTMLWebView":"updateHTMLWebView",h=(e,t)=>e&&t?(0,n.qu)(t):n.IN;function g(){return new Promise(((e,t)=>{var r=d.get(this),{style:a,__skipDomainCheck__:n,src:i,zIndex:o,isGameWebview:s,pluginId:l,fullscreen:c,adjustResizeOnKeyboardStateChanged:u}=r,p=(e=>e?"insertGameHTMLWebView":"insertHTMLWebView")(s);h(s,l)(p,{htmlId:this.id,position:a,src:i,zIndex:o,backgroundColor:a.backgroundColor,__skipDomainCheck__:n,adjustResizeOnKeyboardStateChanged:u,fullscreen:c,success:e,fail:t})}))}class v extends a.W{constructor({src:e,zIndex:t,style:r={},__skipDomainCheck__:a=!1,isGameWebview:n=!1,fullscreen:i,adjustResizeOnKeyboardStateChanged:o=!0},s){super({style:r}),u.set(this.id,this);var c={};try{c=(0,l.en)(e)}catch(e){console.error(e)}d.set(this,{src:e,zIndex:t,style:r,urlObj:c,isGameWebview:n,__skipDomainCheck__:a,adjustResizeOnKeyboardStateChanged:o,fullscreen:i,pluginId:s}),g.call(this),this.isInserted=!0}get src(){var e;return null===(e=d.get(this))||void 0===e?void 0:e.src}set src(e){var t=d.get(this);if(t){t.src=e;var r=p(t.isGameWebview);try{var a=(0,l.en)(e);t.urlObj=a}catch(e){console.error(e)}h(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,src:e})}}get style(){var e;return null===(e=d.get(this))||void 0===e?void 0:e.style}set style(e){var t=d.get(this);if(t&&t.style){var r=t.style;Object.assign(r,e);var a=p(t.isGameWebview),n=h(t.isGameWebview,t.pluginId);this.isInserted&&n(a,{htmlId:this.id,position:r,backgroundColor:r.backgroundColor})}else t?t.style=e:d.set(this,{style:e})}get zIndex(){var e;return null===(e=d.get(this))||void 0===e?void 0:e.zIndex}set zIndex(e){var t=d.get(this);if(t){t.zIndex=e;var r=p(t.isGameWebview);h(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,zIndex:e})}}postMessage(e){var t=d.get(this);return this.isInserted?t&&t.isGameWebview?new Promise(((r,a)=>{var n=p(t.isGameWebview);h(t.isGameWebview,t.pluginId)(n,{htmlId:this.id,evaluateJavascript:"window.onMessage("+JSON.stringify(e)+")",success:r,fail:a})})):t&&!t.isGameWebview?Promise.reject({errMsg:"not support"}):Promise.reject({errMsg:"webview has been destroyed"}):Promise.reject({errMsg:"not inserted"})}destroy(){var e=d.get(this);if(e){var t=e.isGameWebview?"removeGameHTMLWebView":"removeHTMLWebView";u.delete(this.id),d.delete(this),h(e.isGameWebview,e.pluginId)(t,{htmlId:this.id})}}}function m(){return[...u.keys()]}function y({htmlId:e}){var t=u.get(e);t&&t.onload&&setTimeout(t.onload)}function _({htmlId:e,errcodeCode:t,description:r,src:a}){var n=u.get(e);n&&n.onerror&&setTimeout(n.onerror({errcodeCode:t,description:r,src:a}))}function w({name:e,arg:t,htmlId:r}){"postMessage"===e?u.forEach((({onmessage:e},a)=>{r&&r!==a||e&&setTimeout((()=>e(t)))})):0!==e.indexOf("XLogManager.")&&"reportKeyValue"!==e&&"getSDKVersion"!==e||u.forEach(((a,n)=>{var i;if(!r||r===n){var o=u.get(n),s=null===(i=d.get(o))||void 0===i?void 0:i.urlObj;if(s&&c.includes(s.host))if(0===e.indexOf("XLogManager.")){var l=e.split(".")[1];f[l](t)}else"reportKeyValue"===e&&b.reportKeyValue(t)}}))}o.default.onReady((()=>{(0,s.aI)()&&((0,i.n)("onWebViewError",_),(0,i.n)("onWebviewFinishLoad",y),(0,i.n)("onWebInvokeAppService",w),(0,i.n)("WEB_INVOKE_APPSERVICE",w))}));var I=({urlList:e,success:t,fail:r,complete:a})=>{(0,n.IN)("private_onWebPageUrlExposed",{urlList:e,success:t,fail:r,complete:a})}},9137:(e,t,r)=>{"use strict";r.d(t,{$v:()=>i,cM:()=>a,um:()=>n});var a=()=>{},n=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),i=e=>{var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e))).join(""):"#00000000":e}},8246:(e,t,r)=>{"use strict";r.d(t,{n:()=>c,ri:()=>d,ry:()=>l,vu:()=>u});var a=r(9533),n=r(9766),i={},o=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE","onGameAuditsStateChange"],s={},l=(e,...t)=>{(0,n.s)(`WeixinJSBridge-${e}`).emitInternal(...t)},c=(e,t)=>{if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onNativeEvent:r}=SDK;return r(e,t)}var s=(0,n.s)(`WeixinJSBridge-${e}`);i[e]||((0,a.j)(e,((...t)=>{s.emit(...t),((e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!o.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:r}=w;r(e,...t)}})(e,...t)})),i[e]=!0),s.internalOnMethod(t)},u=(e,t)=>{var r=(0,n.s)(`WeixinJSBridge-Third-${e}`);s[e]||((0,a.S)(e,((...e)=>{r.emit(...e)})),s[e]=!0),r.internalOnMethod(t)},d=(e,t)=>{(0,n.s)(`WeixinJSBridge-${e}`).internalOffMethod(t)}},9437:(e,t,r)=>{"use strict";r.d(t,{$b:()=>y,Ej:()=>T,Gr:()=>I,HX:()=>f,L6:()=>C,LK:()=>b,LU:()=>g,M2:()=>w,O6:()=>k,S1:()=>d,WB:()=>_,_g:()=>h,g7:()=>S,lj:()=>P,r:()=>m,ri:()=>v,s2:()=>u,xN:()=>p});var a=r(5436),n=r(8246),i=new a.Q("Keyboard"),o=new a.Q("",!0),s=new Set;["onKeyboardInput","onKeyboardConfirm","onKeyboardComplete","onStoreEmoticonSelect","onKeyboardHeightChange"].forEach((e=>{(0,n.n)(e,(t=>{!function(e,t){i.emit(e,t),o.emit(e,t),s.forEach((r=>{o.emit(`${r}-${e}`,t)}))}(e,t)}))}));var l=(e,t,r)=>{s.add(e),o.on(`${e}-${t}`,r)},c=(e,t,r)=>{o.off(`${e}-${t}`,r)},u=e=>o.on("onKeyboardInput",e),d=e=>o.off("onKeyboardInput",e),p=e=>o.on("onKeyboardConfirm",e),h=e=>o.off("onKeyboardConfirm",e),f=e=>t=>l(e,"onKeyboardConfirm",t),g=e=>t=>c(e,"onKeyboardConfirm",t),v=e=>o.on("onKeyboardComplete",e),m=e=>o.off("onKeyboardComplete",e),y=e=>t=>l(e,"onKeyboardComplete",t),_=e=>t=>c(e,"onKeyboardComplete",t),b=e=>i.on("onKeyboardHeightChange",e),w=e=>i.off("onKeyboardHeightChange",e),I=e=>o.on("onKeyboardHeightChange",e),S=e=>o.off("onKeyboardHeightChange",e),k=e=>t=>l(e,"onKeyboardHeightChange",t),C=e=>t=>c(e,"onKeyboardHeightChange",t),T=e=>i.on("onStoreEmoticonSelect",e),P=e=>i.off("onStoreEmoticonSelect",e)},6614:(e,t,r)=>{"use strict";r.d(t,{P:()=>n,c:()=>i});var a=r(4536),n=(e={})=>{(0,a.r3)("access",e,{path:""})&&(0,a.IN)("access",e)},i=e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,r;if((0,a.IN)("accessSync",{path:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}}},6893:(e,t,r)=>{"use strict";r.d(t,{H:()=>o,a:()=>i});var a=r(4536),n=r(1869),i=(e={})=>{(0,a.r3)("appendFile",e,{filePath:""})&&(e.encoding&&-1===n.a.indexOf(e.encoding)?(0,a.YG)("appendFile",e,`invalid encoding "${e.encoding}"`):(0,a.IN)("fs_appendFile",e,{}))},o=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===n.a.indexOf(r))throw new Error(`invalid encoding "${r}"`);var i,o;if((0,a.IN)("fs_appendFileSync",{filePath:e,data:t,encoding:r,fail(e){i=e.errMsg,o=e.errno}}),i){var s=new Error(i);throw s.errno=o,s}}},5709:(e,t,r)=>{"use strict";r.d(t,{Do:()=>i,KK:()=>o,bh:()=>c,rW:()=>s,vL:()=>l,yH:()=>n});var a=r(4536),n=e=>{(0,a.r3)("saveFile",e,{tempFilePath:""})&&(0,a.IN)("saveFile",e)},i=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var r,n;if((0,a.IN)("saveFileSync",{tempFilePath:e,filePath:t,success(e){n=e.savedFilePath},fail(e){r=e.errMsg}}),r)throw new Error(r);return n},o=e=>{(0,a.r3)("openDocument",e,{filePath:""})&&(e.showMenu=e.showMenu||!1,(0,a.IN)("openDocument",e))},s=(e={})=>{(0,a.IN)("getSavedFileList",e)},l=(e={})=>{(0,a.r3)("getSavedFileInfo",e,{filePath:""})&&(0,a.IN)("getSavedFileInfo",e)},c=(e={})=>{(0,a.r3)("removeSavedFile",e,{filePath:""})&&(0,a.IN)("removeSavedFile",e)}},1636:(e,t,r)=>{"use strict";r.d(t,{Q:()=>i,c:()=>n});var a=r(4536),n=(e={})=>{(0,a.r3)("copyFile",e,{srcPath:"",destPath:""})&&(0,a.IN)("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},i=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var r,n;if((0,a.IN)("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){r=e.errMsg.replace("fs_copyFileSync:","copyFileSync:"),n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}}},1869:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var a=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"]},158:(e,t,r)=>{"use strict";r.d(t,{v:()=>u});var a=r(4536),n=r(5340),i=r(1869),o=r(6142),s=r(9105),l=r(7445),c=r(4899),u={close:(e={})=>{(0,a.r3)("close",e,{fd:""})&&(0,a.IN)("close",e)},closeSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r;if((0,a.IN)("closeSync",{fd:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},fstat:(e={})=>{(0,a.r3)("fstat",e,{fd:""})&&(0,a.IN)("fstat",e,{beforeSuccess(e){var{mode:t,size:r}=e,{lastAccessedTime:a,lastModifiedTime:i}=e;a>1617e9&&(a=Math.floor(a/1e3)),i>1617e9&&(i=Math.floor(i/1e3)),e.stats=new n.jk({mode:t,size:r,lastAccessedTime:a,lastModifiedTime:i}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},fstatSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r,i;if((0,a.IN)("fstatSync",{fd:e,fail(e){r=e.errMsg,i=e.errno},success(e){var{mode:r,size:a}=e,{lastAccessedTime:i,lastModifiedTime:o}=e;i>1617e9&&(i=Math.floor(i/1e3)),o>1617e9&&(o=Math.floor(o/1e3)),t=new n.jk({mode:r,size:a,lastAccessedTime:i,lastModifiedTime:o})}}),r){var o=new Error(r);throw o.errno=i,o}return t},write:(e={})=>{var t=Object.assign({},e);if((0,a.r3)("write",t,{fd:""}))if(t.encoding&&-1===i.a.indexOf(t.encoding))(0,a.YG)("write",t,`invalid encoding "${t.encoding}"`);else{if((0,o.eP)(t.data)){if(t.data.byteLength>10485760)return void(0,a.YG)("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!(0,o.HD)(t.data))return void(0,a.YG)("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),(0,a.IN)("write",t)}},writeSync:({fd:e,data:t,offset:r,length:n,encoding:l,position:c}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(l&&-1===i.a.indexOf(l))throw new s.iZ(`invalid encoding "${l}"`);if((0,o.eP)(t)){if(t.byteLength>10485760)throw new s.iZ("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n<0)&&(n=t.byteLength-r)}else if(!(0,o.HD)(t))throw new TypeError("data must be a string or ArrayBuffer");var u,d,p;if("number"!=typeof c&&(c=void 0),(0,a.IN)("writeSync",{fd:e,data:t,offset:r,length:n,encoding:l,position:c,fail(e){u=e.errMsg,p=e.errno},success(e){d={bytesWritten:e.bytesWritten}}}),u){var h=new Error(u);throw h.errno=p,h}return d},read:(e={})=>{if((0,a.r3)("read",e,{fd:""}))if((0,o.eP)(e.arrayBuffer)){var t=Object.assign({},e),r=(0,c.t)();l.cj&&r&&r.trace&&(t.arrayBufferId=r.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),(0,o.hj)(t.position)&&t.position<0?t.position=0:(0,o.o8)(t.position)||(0,o.Ft)(t.position)?t.position=null:(0,o.hj)(t.position)||(t.position=0);var n=Number(t.length);Number.isNaN(n)?t.length=0:t.length=n;var i=Number(t.offset);Number.isNaN(i)?t.offset=0:t.offset=i,l.jP&&delete t.arrayBuffer,(0,a.IN)("read",t,{beforeSuccess(r){if(l.jP){var a=new Uint8Array(e.arrayBuffer),n=new Uint8Array(r.arrayBuffer);a.set(n,t.offset),r.bytesRead=r.arrayBuffer.byteLength}r.arrayBuffer=e.arrayBuffer},afterAll(){l.cj&&r&&r.untrace&&r.untrace(t.arrayBufferId)}})}else(0,a.YG)("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},readSync:(e={})=>{var{fd:t,arrayBuffer:r}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!(0,o.eP)(r))throw new TypeError("arrayBuffer must be an ArrayBuffer");var n=Object.assign({},e),i=(0,c.t)();l.cj&&i&&i.trace&&(n.arrayBufferId=i.trace(n.arrayBuffer,"rw"),delete n.arrayBuffer),(0,o.hj)(n.position)&&n.position<0?n.position=0:(0,o.o8)(n.position)||(0,o.Ft)(n.position)?n.position=null:(0,o.hj)(n.position)||(n.position=0);var s=Number(n.length);Number.isNaN(s)?n.length=0:n.length=s;var u,d,p,h=Number(n.offset);if(Number.isNaN(h)?n.offset=0:n.offset=h,l.jP&&delete n.arrayBuffer,(0,a.IN)("readSync",{...n,fail(e){d=e.errMsg,p=e.errno},success(e){if(l.jP){var t=new Uint8Array(r),a=new Uint8Array(e.arrayBuffer);t.set(a,n.offset),e.bytesRead=e.arrayBuffer.byteLength}u={bytesRead:e.bytesRead,arrayBuffer:r}}}),l.cj&&i&&i.untrace&&i.untrace(n.arrayBufferId),d){var f=new Error(d);throw f.errno=p,f}return u},ftruncate:(e={})=>{(0,a.r3)("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,a.IN)("ftruncate",e))},ftruncateSync:({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,a.IN)("ftruncateSync",{fd:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}}}},6345:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var a=r(4536),n=r(6142),i=(e={})=>{if((0,a.r3)("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=(0,n.x7)(e,{digestAlgorithm:""});if(t)return void(0,a.YG)("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1","sha256"].indexOf(e.digestAlgorithm))return void(0,a.YG)("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}(0,a.IN)("getFileInfo",e,{})}}},4237:(e,t,r)=>{"use strict";r.d(t,{Jo:()=>w,Dc:()=>T,y9:()=>P,PZ:()=>A,WZ:()=>y,EH:()=>b});var a=r(158),n=r(3628),i=r(6142),o=r(4536),s=r(9105),l={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null,readCompressedFile:["filePath"],readCompressedFileSync:[0]},c={openSync:!0,truncateSync:!0},u=r(9806),d=r(7445),p=r(6342),h="",f="",g="",v="";p.default.onReady((()=>{try{h=p.default.env.USER_DATA_PATH,f=p.default.env.OPEN_DATA_PATH,delete p.default.env.OPEN_DATA_PATH,g=h+"/__plugins__",d.gm?(v="http://__wxprivate__","http://sdk","http://ad"):(v="wxfile://__wxprivate__","wxfile://sdk","wxfile://ad")}catch(e){}}));var m=()=>h,y=()=>f,_=()=>g,b=e=>`${g}/${e}`,w=e=>`${v}/${e}`,I=new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]),S=r(4081),k=function(e,t,r,a){return(...n)=>{var i,d=t.endsWith("Sync"),p=!d||c[t]?n[0]:n,h=l[t].every((e=>{var n=JSON.parse(JSON.stringify({[e]:p[e]}));p[e]=n[e];var o=((e,t,r,a)=>{var n=m(),i=y(),o=_();return"private-space-for-inner-plugin"===t?!!(e.startsWith(`wxfile://__wxprivate__/${r}/`)||e.startsWith("wxfile://__wxprivate__/__PATCH_DIR")||e.startsWith(`http://__wxprivate__/${r}/`)||e.startsWith("http://__wxprivate__/__PATCH_DIR"))||e:"string"!=typeof e||(e.startsWith("wxfile://ad")||e.startsWith("wxfile://sdk")||e.startsWith("wxfile://__wxprivate__")||e.startsWith("http://ad")||e.startsWith("http://sdk")||e.startsWith("http://__wxprivate__")||(0,u.Av)()&&(e.startsWith("wxfile://usr")||e.startsWith("http://usr"))?e:"opendata"===t?!!I.has(a)||!e.startsWith(n)||e:"game"===t||"app"===t?!(e.startsWith(i)||e.startsWith(o)||e.match(/__plugin__\/wx[a-z0-9]{16}/))||e:"app-plugin"===t||"game-plugin"===t?e.startsWith(i)?e:!e.startsWith(n)||!!e.startsWith(`${o}/${r}`)||e:e)})(p[e],r,a,t);return!0===o||(i=o,!1)}));if("app-plugin"!==r&&"game-plugin"!==r||l[t].forEach((e=>{"string"!=typeof p[e]||p[e].match(/^[a-zA-Z0-9]+:\/\//)||(p[e]=(0,s.RP)(a,p[e]))})),h)return e(...n);if(d){var f=new Error(`${t}:fail permission denied with path "${i}"`);throw f.errno=S.UoO,f}(0,o.FE)({success:!1,name:t,args:p,errno:S.UoO,errMsg:`permission denied with path "${i}"`})}},C=(e,t="")=>{var r={},s=new Set;return function(e,t,r,a){Object.keys(e).forEach((n=>{(0,i.o8)(l[n])||((0,i.Ft)(l[n])?t[n]=(...t)=>e[n](...t):t[n]=k(e[n],n,r,a))}))}(n.W,r,e,t),function(e,t,r){Object.keys(e).forEach((a=>{var n=e[a];t[a]=(e={})=>{var{fd:t}=e;if(r.has(t))return n(Object.assign({},e,{fd:t}));if(a.endsWith("Sync"))throw new Error(`${a}:fail invalid fd`);(0,o.YG)(a,e,"invalid fd")}}))}(a.v,r,s),function(e,t){var r=e.open,a=e.openSync,n=e.close,i=e.closeSync;e.open=(e={})=>{var{success:a}=e;r(Object.assign({},e,{success:e=>{t.add(e.fd),"function"==typeof a&&a(e)}}))},e.openSync=(e={})=>{var r=a(e);return t.add(r),r},e.close=(e={})=>{var{fd:r,success:a}=e;n(Object.assign({},e,{fd:r,success:e=>{t.delete(r),"function"==typeof a&&a(e)}}))},e.closeSync=(e={})=>{var{fd:r}=e;i({fd:r}),t.delete(r)}}(r,s),r},T=()=>C("game"),P=e=>C("game-plugin",e),A=e=>C("private-space-for-inner-plugin",e)},9976:(e,t,r)=>{"use strict";r.d(t,{h:()=>i,i:()=>n});var a=r(4536),n=(e={})=>{(0,a.r3)("mkdir",e,{dirPath:""})&&(0,a.IN)("mkdir",e)},i=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var r,n;if((0,a.IN)("mkdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}}},3628:(e,t,r)=>{"use strict";r.d(t,{W:()=>I});var a=r(5709),n=r(6345),i=r(5179),o=r(7172),s=r(9976),l=r(4536),c=r(3165),u=r(6614),d=r(6659),p=r(5340),h=r(1636),f=r(4316),g=r(6893),v=r(6142),m=r(1869),y="readZipEntry",_=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],b=r(9105),w=r(714),I={saveFile:a.yH,saveFileSync:a.Do,getSavedFileList:a.rW,getSavedFileInfo:a.vL,removeSavedFile:a.bh,getFileInfo:n.h,readFile:i.p,readFileSync:i.N,writeFile:o.N,writeFileSync:o.y,mkdir:s.i,mkdirSync:s.h,rmdir:(e={})=>{(0,l.r3)("rmdir",e,{dirPath:""})&&(0,l.IN)("rmdir",e)},rmdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var r,a;if((0,l.IN)("rmdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,a=e.errno}}),r){var n=new Error(r);throw n.errno=a,n}},readdir:c.e,readdirSync:c.T,access:u.P,accessSync:u.c,unlink:d.q,unlinkSync:d.y,stat:p.lz,statSync:p.dJ,unzip:(e={})=>{var{zipFilePath:t}=e;t=""+t,(0,l.r3)("unzip",e,{zipFilePath:""})&&(0,l.IN)("unzip",Object.assign({},e,{targetDirectory:e.targetPath,zipFilePath:t}))},copyFile:h.c,copyFileSync:h.Q,rename:f.P,renameSync:f.g,appendFile:g.a,appendFileSync:g.H,readZipEntry:(e={})=>{(0,l.r3)(y,e,{filePath:""})&&((0,v.o8)(e.encoding)||-1!==m.a.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?(0,l.IN)(y,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg=`${y}:ok`:e.entries[t].errMsg=`${y}:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var r=t.replace("file:","");e.entries[r]=e.entries[t],delete e.entries[t]}})),e)}):(0,l.YG)(y,e,"invalid entries"):(0,l.YG)(y,e,`invalid encoding "${e.encoding}"`))},open:(e={})=>{var t=Object.assign({},e);(0,l.r3)("open",e,{filePath:""})&&(void 0===e.flag||_.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),(0,l.IN)("open",t)):(0,l.YG)("open",e,`invalid flag "${e.flag}"`))},openSync:(e={})=>{var t,r,a,{filePath:n}=e,{flag:i}=e;if(!n||"string"!=typeof n)throw new TypeError("filePath must be a string");if(void 0!==i&&!_.includes(i))throw new b.iZ(`invalid flag: ${i}`);if(void 0===i&&(i="r"),(0,l.IN)("openSync",{filePath:n,flag:i,fail(e){r=e.errMsg,a=e.errno},success(e){t=e.fd}}),r){var o=new Error(r);throw o.errno=a,o}return t},truncate:(e={})=>{(0,l.r3)("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,l.IN)("truncate",e,{}))},truncateSync:({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var r,a;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,l.IN)("truncateSync",{filePath:e,length:t,fail(e){r=e.errMsg,a=e.errno}}),r){var n=new Error(r);throw n.errno=a,n}},readCompressedFile:w.$,readCompressedFileSync:w.T}},714:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,T:()=>s});var a=r(4536),n=r(6142),i=r(9105),o=(e={})=>{(0,a.r3)("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&(0,a.IN)("readCompressedFile",e)},s=({filePath:e,compressionAlgorithm:t}={})=>{if(!(0,n.HD)(e))throw new i.iZ(`invalid filePath: ${e}`);if(!(0,n.HD)(t))throw new i.iZ(`invalid compressionAlgorithm: ${t}`);var r,o,s;if((0,a.IN)("readCompressedFileSync",{filePath:e,compressionAlgorithm:t,success(e){r=e.data},fail(e){o=e.errMsg,s=e.errno}}),o){var l=new Error(o);throw l.errno=s,l}return r}},5179:(e,t,r)=>{"use strict";r.d(t,{N:()=>g,p:()=>h});var a=r(4536),n=r(88),i=r(1399),o=r(7445),s=r(6342),l=r(4500),c=r(5133),u=r(6142),d=r(1591),p=!1;s.default.onReady((()=>{var e=i.Z.fs;if(e&&e.FileReader){var t=!1,r=o.cj?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";(0,l.b)({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&((0,c.Tk)(/readFile(?:Sync)?$/,1),t=!0)},fail(e){}});var a=(0,n.J)("bindingReadFile");p=t||a,f.info(`${p?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${a}`)}}));var h=(e={})=>{if((0,a.r3)("readFile",e,{filePath:""}))if((0,u.o8)(e.encoding)||(0,u.HD)(e.encoding))if((0,u.o8)(e.position)||(0,u.hj)(e.position))if((0,u.o8)(e.length)||(0,u.hj)(e.length))if(p){var t,r=i.Z.fs;e.workerId,(t=new r.FileReader).onerror=t=>(0,a.YG)("readFile",e,t),t.onread=t=>(0,a.FE)({name:"readFile",args:e,res:{data:t}});var n={};Object.keys(e).forEach((t=>{var r=e[t];["success","fail","complete"].includes(t)||(n[t]=r)})),t.read(n)}else(0,a.IN)("readFile",e);else(0,a.YG)("readFile",e,`invalid length: ${e.length}`);else(0,a.YG)("readFile",e,`invalid position: ${e.position}`);else(0,a.YG)("readFile",e,`invalid encoding: ${e.encoding}`)},g=(e,t,r,n,o)=>{if(!e||!(0,u.HD)(e))throw new d.i(`invalid filePath: ${e}`);if(!(0,u.o8)(t)&&!(0,u.HD)(t))throw new d.i(`invalid encoding: ${t}`);if(!(0,u.o8)(r)&&!(0,u.hj)(r))throw new d.i(`invalid position: ${r}`);if(!(0,u.o8)(n)&&!(0,u.hj)(n))throw new d.i(`invalid length: ${n}`);if(p){var s=i.Z.fs;try{return s.readFileSync(e,t)}catch(c){throw new Error(c)}}var l,c,h;if((0,a.IN)("readFileSync",{filePath:e,encoding:t,position:r,length:n,success(e){l=e.data},fail(e){c=e.errMsg,h=e.errno}}),c){var f=new Error(c);throw f.errno=h,f}return l}},3165:(e,t,r)=>{"use strict";r.d(t,{T:()=>o,e:()=>i});var a=r(4536),n=r(7445),i=(e={})=>{(n.DD||"wxfile://"!==e.dirPath)&&(!n.DD||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?(0,a.r3)("readdir",e,{dirPath:""})&&(0,a.IN)("readdir",e):(0,a.YG)("readdir",e,"path permission denied")},o=e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,r,n;if((0,a.IN)("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}return t}},4316:(e,t,r)=>{"use strict";r.d(t,{P:()=>n,g:()=>i});var a=r(4536),n=(e={})=>{(0,a.r3)("rename",e,{oldPath:"",newPath:""})&&(0,a.IN)("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},i=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var r,n;if((0,a.IN)("fs_renameSync",{oldPath:e,newPath:t,fail(e){r=e.errMsg.replace(/^fs_/,""),n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}}},5340:(e,t,r)=>{"use strict";r.d(t,{dJ:()=>l,jk:()=>i,lz:()=>s});var a=r(4536),n=r(7445);class i{constructor({mode:e,size:t,lastAccessedTime:r,lastModifiedTime:a}){this.mode=e,this.size=t,this.lastAccessedTime=r,this.lastModifiedTime=a}_checkModeProperty(e){return(61440&this.mode)===e}isDirectory(){return this._checkModeProperty(16384)}isFile(){return this._checkModeProperty(32768)}}var o=(e,t)=>{var r=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{r=r&&void 0!==e[t]})),r)e.stats=new i(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new i(e.stats[""]);else{var a=[],o=e.stats;n.wZ&&(o=e,a.push({path:"/",stats:l(t)})),Object.keys(o).forEach((e=>{if("errMsg"!==e){var t=o[e];""===e&&(e="/"),a.push({path:e,stats:new i(t)}),delete o[e]}})),e.stats=a}},s=(e={})=>{(0,a.r3)("stat",e,{path:""})&&(0,a.IN)("stat",e,{beforeSuccess:t=>{o(t,e.path)}})},l=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var r,n,i;if((0,a.IN)("statSync",{path:e,recursive:t,success(t){o(t,e),r=t.stats},fail(e){n=e.errMsg,i=e.errno}}),n){var s=new Error(n);throw s.errno=i,s}return r}},6659:(e,t,r)=>{"use strict";r.d(t,{q:()=>n,y:()=>i});var a=r(4536),n=(e={})=>{(0,a.r3)("unlink",e,{filePath:""})&&(0,a.IN)("unlink",e)},i=e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t,r;if((0,a.IN)("unlinkSync",{filePath:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}}},7172:(e,t,r)=>{"use strict";r.d(t,{N:()=>i,y:()=>o});var a=r(4536),n=r(1869),i=(e={})=>{(0,a.r3)("writeFile",e,{filePath:""})&&(e.encoding&&-1===n.a.indexOf(e.encoding)?(0,a.YG)("writeFile",e,`invalid encoding "${e.encoding}"`):(0,a.IN)("writeFile",e,{}))},o=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===n.a.indexOf(r))throw new Error(`invalid encoding "${r}"`);var i,o;if((0,a.IN)("writeFileSync",{filePath:e,data:t,encoding:r,fail(e){i=e.errMsg,o=e.errno}}),i){var s=new Error(i);throw s.errno=o,s}}},3385:(e,t,r)=>{"use strict";r.d(t,{Y:()=>o});var a=r(6342),n=r(8246),i={};a.default.onReady((()=>{Object.assign(i,a.default.appLaunchInfo),(0,n.n)("onAppEnterForeground",(e=>{Object.assign(i,e)}))}));var o=()=>i},8314:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a,s:()=>n});var a="game:verifystate",n="game_live_default_condition"},4599:(e,t,r)=>{"use strict";r.d(t,{Jv:()=>d,NB:()=>u,Or:()=>p,UR:()=>y,VT:()=>h,b$:()=>v,bI:()=>l,nm:()=>c,qC:()=>s,rc:()=>m,vv:()=>g,yN:()=>f});var a=r(9766),n=(0,a.s)("LifeCycle:beforeHide"),i=(0,a.s)("LifeCycle:Hide"),o=(0,a.s)("LifeCycle:afterHide"),s=i.emitInternal.bind(i),l=i.emitGlobal.bind(i),c=n.emitInternal.bind(n),u=o.emitInternal.bind(o),d=i.onMethod,p=i.offMethod,h=n.internalOnMethod,f=n.internalOffMethod,g=i.internalOnMethod,v=i.internalOffMethod,m=o.internalOnMethod,y=o.internalOffMethod},7351:(e,t,r)=>{"use strict";r.d(t,{Ke:()=>o,LJ:()=>n,Tb:()=>c,dN:()=>l,e4:()=>i,il:()=>s});var a=(0,r(9766).s)("LifeCycle:Show"),n=a.emitInternal.bind(a),i=a.emitGlobal.bind(a),o=a.onMethod,s=a.offMethod,l=a.internalOnMethod,c=a.internalOffMethod},9133:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var a=r(6342),n=r(1708),i=(e="")=>{e=e.replace(/,/g,";");var t=(0,n.k)()+" "+(0,n.n)(),r=a.default.appType;b.reportKeyValue({key:"DeprecatedAPI",value:[e,t,r].join(",")})}},6227:(e,t,r)=>{"use strict";r.d(t,{GJ:()=>g,Q1:()=>f,gd:()=>h,v8:()=>p});var a,n,i,o=r(3888),s=r.n(o),l=r(88),c=r(6252),u=r(9138),d=r(6342),p=new Promise((e=>{n=e}));d.default.onReady((()=>{i=(0,l.J)("reportRequestErrorByAI")}));var h=e=>{a=e,n(e)},f=()=>a,g=function(){var e=s()((function*(e){if(a&&i){var t=yield(0,u.A6)(a);if(t){var{modelUrl:r,modelName:n,cfg:o}=t,s=(yield(0,c.Zv)(void 0,r,n,o,void 0,e)).xnetRes;return s=(e=>{var t=e[Object.keys(e)[0]];return"float32"===t.type?Array.prototype.slice.call(new Float32Array(t.data)):null})(s),!!s&&s[0]-s[1]}}}));return function(t){return e.apply(this,arguments)}}()},2422:(e,r,a)=>{"use strict";a.d(r,{Qe:()=>P,_C:()=>T,ap:()=>k,yY:()=>A});var n=a(3888),i=a.n(n),o=a(6342),s=a(88),l=(a(6385),a(3329)),c=a(6142),u=a(6347),d=a(6227),p=a(3385),h=(e,t={})=>{if(Array.isArray(e))return e.reduce(((e,t,r)=>(e[r]=h(t),e)),[]);if(!(0,c.Kn)(e))return e;for(var r of Object.getOwnPropertyNames(e)){var a=e[r];t[r]=h(a)}return t};function g(e){var t="";if("string"==typeof e)t=e;else try{t=JSON.stringify(e)||""}catch(r){t=(0,c.Em)(e)}return t.replace(/,/g,";").substr(0,1024)}var v={pay:"WePayVIPAppRequestError",goverment:"WeAppRequestError",interactiveApiPay:"WePayVIPAppInteractiveApiError",interactiveApiGoverment:"WeAppInteractiveApiError"};var y=Math.random,_=void 0!==t&&t?t.version:"unknown",w=!1,I=!1,S=0,k=e=>{var t=o.default.appLaunchInfo&&o.default.appLaunchInfo.scene;if(e&&"object"==typeof e){var r,a=e[t]||e.all,n=e.nlpKey;if(a)if(I=(0,s.J)("reportPayVIPQuality"),w=I||(0,s.J)("reportRequestError2"),S=null!==(r=a.ratio)&&void 0!==r?r:1,m.allowReportLoadingTime(),w)return(0,d.gd)(n),!0;return(0,s.J)("reportRequestError3")?(w=!0,S=1,m.allowReportLoadingTime(),(0,d.gd)(n),!0):void 0}},C=!1,T=()=>C=!0;function P(e,t,{uuid:r,invokeTime:a,dataType:n,networkType:o,routePath:s}={}){var c=m.shouldStartReport();if(w&&y()<S||c||C){var k=m.getCurrentRoutePath(),T=Date.now()-a;e=h(e);var P=(t=h(t)).data,A=Promise.resolve().then(i()((function*(){if("string"!=typeof P)return-3;try{JSON.parse(P)}catch(e){return-3}return yield(0,d.GJ)(P)}))).catch((()=>-3));(0,l.k)().runTask("checkRequest",{response:t,requestData:e,checkResponse:!0,delay:!0}).then((e=>A.then((t=>(e.nlpRet=t,e))))).then((a=>{try{"json"===n&&function(e){try{e.data=JSON.parse(e.data)}catch(e){}}(t);var{isImportantRequest:i,nlpRet:l}=a;if((a.hasError||l>0)&&w){var{point:d,reportBody:h,reportArgs:y,schemaVersion:S,key:P,kvResult:A}=a;e.data&&(e.data=y),t.data&&(t.data=h),function(e,t,{point:r,schemaVersion:a,key:n,kvResult:i,routePath:o,networkType:s,nlpRet:l,aiConsistent:c,reportType:u}={}){var d=t.errno,h=v[u];b.reportKeyValue({key:h,value:[s,e.url,t.errMsg,t.statusCode,g(e.header),g(e.data),g(t.header),g(t.data),e.method,(0,p.Y)().scene,encodeURIComponent((0,p.Y)().scene_note||(0,p.Y)().sceneNote),_,d,a,encodeURIComponent(n),encodeURIComponent(r),encodeURIComponent(i),o,void 0===l?-2:l,c].join(",")})}(e,t,{point:d,schemaVersion:S,key:P,kvResult:A,networkType:o,routePath:s,nlpRet:l,aiConsistent:l>0&&a.hasError?1:2,reportType:I?"pay":"goverment"})}if(c){var E={isimportant:i,errMsg:t.errMsg,errno:t.errno},M=a.hasError;M&&(E.errinfo=t.errMsg||a.point,E.noFilterRes=!0),m.traceApi("request",e,t,M,r,T,!0,E)}if(C&&i){var{sensitiveRequestPoint:x,sensitveResponsePoint:D}=a;[x,D].forEach(((t,r)=>{null!=t&&t.length&&b.reportKeyValue({key:"WeAppSensitiveRequest",value:[0===r?0:1,(0,u.wK)(e.url),e.method,null,k,t.join(",")].map(encodeURIComponent).join(",")})}))}}catch(e){f.error("resolve 24247 worker error:",e)}})).catch((e=>{f.error("report 24247 error:",e)}))}}var A=(e={})=>{if(w){var{apiName:t,content:r="",routePath:a,networkType:n,title:i=""}=e,o=I?"interactiveApiPay":"interactiveApiGoverment";o=v[o];var s=i+","+r;"showModal"!==t&&"showToast"!==t||(0,l.k)().runTask("resolveInteractiveApiContent",{apiName:t,content:s}).then((e=>{if(e.result){var r;r="showModal"===t?1:"showToast"===t?2:3;var i=(0,p.Y)().instanceId||(0,p.Y)().sessionid,l=[t,encodeURIComponent(s),a,i,r,n,encodeURIComponent((c=e.hitUserLowPriortyCustom,u=e.hitUserHighPriorityCustom,`0,0,${c?2:u?3:0}, ${c||u?2:0}`))].join(",");b.reportKeyValue({key:o,value:l})}var c,u})).catch((e=>{f.error("resolveInteractiveApiContent:",e)}))}}},9619:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var a=r(4536),n=r(9806),i=({api:e,url:t})=>(0,n.vB)()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}):new Promise(((r,n)=>{(0,a.IN)("checkNetworkAPIURL",{api:e,url:t,success:r,fail:n})}))},3784:(e,t,r)=>{"use strict";r.d(t,{No:()=>s,TS:()=>n,g9:()=>i,yr:()=>o});var a=0,n=new WeakMap,i=()=>++a,o=e=>{var{canvasId:t}=n.get(e);return t},s=e=>{if(null!==e)return n.get(e)}},2238:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var a=r(1399),n=r(3784),i=({isSharedCanvas:e=!1}={})=>{var t=new a.Z.ScreenCanvas({keepOrigin:e});return void 0===t.__id&&(t.__id=(0,n.g9)()),n.TS.set(t,{canvasId:t.__id,secure:!!e,isSharedCanvas:e,isScreenCanvas:!0}),t}},8165:(e,t,r)=>{"use strict";r.d(t,{Br:()=>h,Ir:()=>d,x9:()=>p});var a,n,i=r(1333),o=r(6342),s=r(88),l=r(7445);o.default.onReady((()=>{var e=h(o.default.appLaunchInfo||{});a=e.appLaunchInfo,n=e.publicLaunchInfo}));var c="",u=e=>{var t=c===e;return c=e,t},d=()=>n,p=()=>a;function h(e={}){var t=e.shareInfo,r=e.scene,a=e.query||{};if("object"==typeof t&&null!==t&&(e.shareTicket=i.Z.set(t.shareKey,t.shareName),i.Z.lastShareTicket=e.shareTicket),e.query=e.query||{},e.scene=e.scene?parseInt(e.scene,10):e.scene,e.referrerInfo=e.referrerInfo||{},"string"==typeof e.referrerInfo.gameLiveInfo)try{e.referrerInfo.gameLiveInfo=JSON.parse(e.referrerInfo.gameLiveInfo)}catch(e){console.error("parse appLaunchInfo.referrerInfo.gameLiveInfo error",e)}1022===e.scene&&(a=e.query={}),l.cj||l.wZ?(u(e.sessionid||e.sessionId)&&(a={}),1089===e.scene&&!1===e.reLaunch&&(a={})):!1===e.reLaunch&&(a={}),1158!==e.scene&&1159!==e.scene&&1160!==e.scene||!(0,s.J)("getGroupToolbarInfo")&&(r=1008),1044!==e.scene||e.chatroomUsername||(e.scene=1007,r=1007);var n={scene:r,query:a,shareTicket:e.shareTicket,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}};return e.referrerInfo.gameLiveInfo&&(n.referrerInfo.gameLiveInfo=e.referrerInfo.gameLiveInfo),o.default.debugLaunchInfo&&o.default.debugLaunchInfo.lanDebugInfo&&!1!==o.default.debugLaunchInfo.lanDebugInfo.useStaticServer&&(n.lanDebugInfo=o.default.debugLaunchInfo.lanDebugInfo),e.chatType&&(n.chatType=e.chatType),n.referrerInfo&&"wxb6d22f922f37b35a"===n.referrerInfo.appId&&(n.referrerInfo={}),{publicLaunchInfo:n,appLaunchInfo:e}}},2083:(e,t,r)=>{"use strict";r.d(t,{Sn:()=>i,ez:()=>n,vv:()=>o});var a=r(4536),n=(e={})=>{if(e.defaultValue&&e.maxLength){var t=parseInt(e.maxLength,10);Number.isNaN(t)||(t=Math.max(0,t),e.defaultValue=e.defaultValue.toString().slice(0,t))}(0,a.IN)("showKeyboard",e)},i=(e={})=>{(0,a.IN)("hideKeyboard",e)},o=(e={})=>{(0,a.IN)("updateKeyboard",e)}},9939:(e,t,r)=>{"use strict";r.d(t,{G:()=>n});var a={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,AccelerateNetwork:30769,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,MiniprogramInnerComponentUse:30314,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,PrivacyPopup:29666,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,BLEDevices:29065,BLEMeshDevices:29512,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,MiniprogramLiveActivityButtonDoEvilCheck:28893,MiniprogramWebviewExportUrl:30247,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,getPhoneNumberReport:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458,Wxobs:28554,IntersectionObserverUsage:28808,MiniProgramWebviewSlowFrame:29061,MiniProgramCommercialMap:29170,AiadAnalyse:29503,VirtualPayment:30164,WeAppXNetInvoke:29870,ProductRecommand:30343,AIADPreview:31127,AiAdError:31167,Authorize:31228,ExitDramaEdu:31431,SystemComponentLazyLoad:29852,InnerDiskStatInfo:31439,operateWXDataProfile:31695,ClientCallbackProfile:32334,WxappBackInterception:32260,UserAction:32193,UserConfig:32198,WebVitalsINP:32217,WebVitalsStutter:32366,OpenOfficialAccountArticle:32359,MiniProgramJumpWxstore:32916,AIADLoad:33015,AIADVision:33042,UpdateManager:33259,Translate:33441};function n({key:e,value:t,immediately:r}){return"number"!=typeof e||Object.values(a).includes(e)?b.reportKeyValue({key:e,value:t,immediately:r}):b.reportKeyValue({key:e,value:t,immediately:r,number:!0})}},9967:(e,t,r)=>{"use strict";r.d(t,{vC:()=>d,Q8:()=>h});var a=r(4536),n=r(6342),i=r(7445),o=r(7351),s=r(5049);i.cj&&(0,o.dN)((()=>{setTimeout((()=>{var e;new Promise(((e,t)=>{(0,a.IN)("getDisposableUserState",{keys:["GAME_LIVE_INVITE"],success(r){if(r.GAME_LIVE_INVITE){var a={};try{a=JSON.parse(r.GAME_LIVE_INVITE)}catch(e){t(e)}e(a)}else t()},fail:t})})).then((t=>(e=t.sceneNote,function(e){return(0,a.Qh)({apiName:"webapi_game_transfer",reqData:{reqPath:"gamelive.checkminigamelivesession",liveSession:e.liveSession}})}(t)))).then((t=>{!function(e,t){var r=e.data,{canJoin:n,joinParams:i}=r;if(n){var{path:o,gameLiveInfo:l,joinMsg:c}=i;(0,s._showModal)({content:c,success(e){e.confirm&&(0,a.IN)("restart",{url:o,scene:1219,referrerInfo:{gameLiveInfo:JSON.stringify(l)},sceneNote:t})}})}}(t,e)})).catch((e=>{e&&f.error("checkGameLiveInvite fail",e)}))}),1e3)}));var l=r(8314),c=r(5087),u=r(6142);function d(e={}){(0,c.Vt)()?h(e):(0,a.YG)("shareInvitationToLiveRoom",e,"require user interaction (only in touchend event)")}var p=!1;function h(e={},t=!1){var r="shareInvitationToLiveRoom";if(p)return(0,a.YG)(r,e,"please invoke after last invoke ended"),void(t&&console.error("onShareInvitationToLiveRoom fail: please invoke after last invoke ended"));if((0,a.r3)(r,e,{activityId:""})){p=!0;var{success:i,fail:o,failWithMsg:s}=(0,a.Rn)(e,r),c=function(e={},t={title:n.default.accountInfo.nickname}){var r={},a="string"==typeof e.query?e.query:"";return a.length>2e3&&(console.warn(`shreTimeline: query exceed max length limit 2000: "${a.length}"`),a=a.substr(0,2e3)),r.path=`?${a}`,Object.assign({userPath:"string"==typeof e.path?e.path:"",userQuery:a},t,e,r)}(e),d=parseInt(function(e={}){var t;return Array.isArray(e.parameterList)&&e.parameterList.some((e=>{if(e&&"room_limit"===e.name)return t=e.value,!0})),t}(c.templateInfo)),h=parseInt(function(e={}){var t;return Array.isArray(e.parameterList)&&e.parameterList.some((e=>{if(e&&"member_count"===e.name)return t=e.value,!0})),t}(c.templateInfo));Promise.all([(0,a.Qh)({apiName:"webapi_game_transfer",reqData:{reqPath:"gamelive.getminigameteamupconfig"}}),new Promise((e=>{(0,a.IN)("getGlobalStorage",{key:l.s,success(t){t.data?e(t.data):e(null)},fail(t){f.error("getGlobalStorage GAME_LIVE_DEFAULT_CONDITION fail=",t),e(null)}})}))]).then((([e,s])=>{s=parseInt(s);var u=e.data,g=function(e=[]){return e.map((e=>({wording:e.mode_desc,conditionId:e.join_team_mode})))}(u.mode_list);(0,a.IN)(r,{path:c.path,title:c.title,teamupExtraData:JSON.stringify({activity_id:c.activityId,parameter_list:c.templateInfo&&c.templateInfo.parameterList,room_limit:d,member_count:h>=1?h:1,appid:n.default.accountInfo.appId}),subTitle:c.subTitle||"",statusWording:d>=1?`成员正在加入中，当前 ${h>=1?h:1} / ${d}`:"",condition:g,canJoin:u.enable_teamup,defaultConditionIndex:s>=0?s:void 0,sourceType:t?2:1,success(e){p=!1;var{selectedIndex:t}=e;void 0!==t&&function(e){(0,a.IN)("setGlobalStorage",{key:l.s,data:""+e,fail(e){f.error("setGlobalStorage fail",e)}})}(t),i(e)},fail(e){f.error("invoke shareInvitationToLiveRoom fail",e),p=!1,o(e)}})})).catch((e=>{f.error(`${r} fail`,e.message||e),p=!1,(0,a.IN)(r,{canJoin:!1,sourceType:t?2:1,complete(){s({msg:e.message||e.errMsg})}})}))}else t&&console.error(`onShareInvitationToLiveRoom parameter error: 'activityId' should be string instead of ${(0,u.Em)(e.activityId)};`)}},5310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});const a={query:{},scene:0,sceneNote:""}},6910:(e,t,r)=>{"use strict";r.d(t,{a2:()=>o,pp:()=>s,rc:()=>c});var a=r(9967),n=r(6142),i=null,o=e=>{i=_.surroundThirdByTryCatch(e,"at onShareInvitationToLiveRoom callback function")},s=()=>{i=null},l=(e=3e3)=>new Promise((t=>{setTimeout((()=>{t("time out")}),e)})),c=()=>{var e={};"function"==typeof i&&(e=i(),(0,n.Kn)(e)||(e={}));var{promise:t,onError:r}=e;(0,n.tI)(t)?Promise.race([t,l(3e3)]).then((t=>{if("time out"===t)return _.surroundThirdByTryCatch(r,"at api onShareInvitationToLiveRoom")({errMsg:"promise time out"}),void console.error("onShareInvitationToLiveRoom error: promise time out (3000ms)");e=t,(0,n.Kn)(e)||(e={}),(0,a.Q8)(e,true)})):(0,a.Q8)(e,true)}},273:(e,t,r)=>{"use strict";r.d(t,{DT:()=>n,JE:()=>o,KR:()=>i});var a=(0,r(9766).s)("GameLiveStateChange"),n=a.internalOnMethod,i=a.internalOffMethod,o=a.emitInternal.bind(a)},6906:(e,t,r)=>{"use strict";r.d(t,{OQ:()=>v,Vh:()=>_,m$:()=>y});var a=r(8165),n=r(9766),i=r(6342),s=r(7445),l=r(8246),c=r(5310),u=r(7803),d=r(6142),p=r(8602),h=r(7351),f=(0,n.s)("BaseFrameShow"),v=f.internalOnMethod,m=(f.internalOffMethod,(0,n.s)("BaseFrameWindowStateChange")),y=m.internalOnMethod;m.internalOffMethod;function _(e,t){e=e||(0,a.Ir)(),t=t||(0,a.x9)(),b.__query__=e.query,c.Z.query=e.query,c.Z.scene=e.scene,(0,h.LJ)(t),(0,h.e4)(e)}function w(e){c.Z.sceneNote=e.scene_note,f.emitInternal(e)}function I(e=""){var t=e.indexOf("?"),r={};if(t>=0){var a=e.slice(t+1);if(a)try{r=a.split("&").reduce(((e,t)=>{var r=t.split("="),a=r[0],n=r.slice(1).join("=");return e[a]=n,e}),{})}catch(e){r={}}}return r}o.onLoad((()=>{var e,t;(s.gm||s.DD||void 0!==g&&null!==(e=g)&&void 0!==e&&null!==(t=e.isAsync)&&void 0!==t&&t.call(e))&&p.Z.once("onhide",!0)})),(0,l.n)("onAppEnterForeground",((e={})=>{var t=e.path;s.wZ&&(0,d.Kn)(e.query)&&Object.keys(e.query).length>0||t&&(e.query=I(t));var{publicLaunchInfo:r,appLaunchInfo:n}=(0,a.Br)(e);w(n),setTimeout((()=>{!(0,u.b$)()&&p.Z.get("onhide")&&_(r,n)}),0)})),i.default.onReady((()=>{var e=(0,a.Ir)(),t=(0,a.x9)();b.__query__=e.query,c.Z.query=e.query,c.Z.scene=e.scene,s.gm||(w(t),s.jP||s.DD?(0,l.n)("onGamejsInjected",(()=>{(0,u.b$)()||_(e,t)})):setTimeout((()=>{(0,u.b$)()||_(e,t)}),0)),(0,l.n)("onWindowStateChange",((e={})=>{m.emitInternal(e)}))}))},5087:(e,t,r)=>{"use strict";r.d(t,{KK:()=>c,UP:()=>l,Vt:()=>s});var a=r(5049),n=r(7298),i=r(4599),o=!1;function s(){return!(!o&&!(0,a._checkIsInteracting)())}function l(e){return e===c||s()||(0,a._checkIsInteracting)()?Promise.resolve():Promise.reject(new Error("require user interaction (only in touchend event)"))}n.U.on("beforeTouchEnd",(()=>{o=!0})),n.U.on("afterTouchEnd",(()=>{o=!1})),(0,i.vv)((()=>{o=!1}));var c=Symbol("skipTouchEventCheckFlag")},406:(e,t,r)=>{"use strict";var a;r.d(t,{H:()=>a,r:()=>n});var n=e=>a=e},2576:(e,t,r)=>{"use strict";r.d(t,{Bq:()=>a,Gy:()=>n,W0:()=>i});var a="__wx__/functional-page",n={PLAY_PAGE_IMAGE:"play_page_image",PLAY_PAGE_VIDEO:"play_page_video"},i=[1154,1007,1008,1074,1088,1044,1045,1046,1010,1096]},6435:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var a={},n={get:(e="default")=>a[e],set(e,t="default"){a[t]=e},clear(){a={}}}},7803:(e,t,r)=>{"use strict";r.d(t,{CV:()=>l,Vc:()=>o,b$:()=>d,hk:()=>c,oq:()=>u,uy:()=>h,xF:()=>i});var a=r(6435),n=r(2576);function i({pageType:e="",query:t}={}){var r="";return"string"==typeof t?r=t:t&&"object"==typeof t&&(r=p(t)),`${n.Bq}/${e}?${r.replace(/^\?/,"")}`}function o(e=""){return new RegExp(`^${n.Bq}/(${s()})`).test(e)}function s(){return Object.keys(n.Gy).map((e=>n.Gy[e])).join("|")}function l(e=""){var t=e.indexOf("?"),r="",a="";t>=0?(r=e.slice(0,t),a=e.slice(t+1)):r=e;var i=new RegExp(`^${n.Bq}/(${s()})`),o=e.match(i),l="";return o&&(l=o[1]),{path:r,query:a,functionalPageType:l,isFunctionalPage:!!l}}function c(e){var t={},r=a.n.get();if(r.pageType===n.Gy.PLAY_PAGE_IMAGE){var o=i({pageType:n.Gy.PLAY_PAGE_IMAGE,query:r.query});t={title:r.params.title||e.title,path:o,imageUrl:r.params.imageUrl||r.params.fileUrl,messageExtraData:Object.assign({},r.params,{pageType:n.Gy.PLAY_PAGE_IMAGE}),cardSubType:u(n.Gy.PLAY_PAGE_IMAGE)}}else if(r.pageType===n.Gy.PLAY_PAGE_VIDEO){var s=i({pageType:n.Gy.PLAY_PAGE_VIDEO,query:r.query});t={title:r.params.title||e.title,path:s,imageUrl:r.params.thumbUrl,messageExtraData:Object.assign({},r.params,{pageType:n.Gy.PLAY_PAGE_VIDEO}),cardSubType:u(n.Gy.PLAY_PAGE_VIDEO)}}return t}function u(e){return{[n.Gy.PLAY_PAGE_IMAGE]:0,[n.Gy.PLAY_PAGE_VIDEO]:1}[e]}function d(){return!!a.n.get()}function p(e={}){var t=Object.keys(e).reduce(((t,r)=>`${t}${r}=${e[r]}&`),"");return t=t.replace(/&$/,"")}function h(e,t="index.html"){var r="";return"string"==typeof e?r=e:e&&"object"==typeof e&&(r=p(e)),t+"?"+r}},8927:(e,t,r)=>{"use strict";r.d(t,{n:()=>k});var a=r(6342),n=r(2464),i=r(3718),o=r(7061),s=r(872);class l extends o.ZP{constructor({reportFunc:e,logid:t,schemas:r={},base:a,reportType:n,asyncGetBase:i=(()=>Promise.resolve({})),debug:s,namespace:l="",skipValidateInProdEnv:c=!0}){super({logid:t,schemas:r,base:a,debug:s,namespace:l,skipValidateInProdEnv:c}),this.reportType=o.C2.SvrReport,this.asyncGetBase=i,e||console.error(`[minigamefe${this.namespace}GameTransferReport]: 未传入上报函数。`),this.reportFunc=e,void 0!==n&&(this.reportType=n)}setKvStatBase(e,t){if(this.reportType===o.C2.KvStat){var r=(e.system||"").split(" ");Object.assign(this.schemas,{DeviceModel:o.QD.STRING,DeviceBrand:o.QD.STRING,OsName:o.QD.STRING,OsVersion:o.QD.STRING,LanguageVersion:o.QD.STRING,Count:o.QD.UINT,AppId:o.QD.STRING,AppVersion:o.QD.UINT,AppState:o.QD.UINT}),this.setBase({DeviceModel:e.model||"",DeviceBrand:e.brand||"",OsName:r[0]||"",OsVersion:r[1]||"",LanguageVersion:e.language||"",Count:1}),(null==t?void 0:t.miniProgram)&&this.setBase({AppState:s.dg[t.miniProgram.envVersion]||s.dg.release,AppId:t.miniProgram.appId,AppVersion:0})}}send(e,t){if(this.reportFunc&&"function"==typeof this.reportFunc){var r,a=[],n=this.logid;r=Array.isArray(e)?e:[e],this.asyncGetBase().then((e=>{this.setBase(e),r.forEach((e=>{var t=Object.assign(Object.assign({},this.base),e);if(t.ExternInfo&&"object"==typeof t.ExternInfo&&this.schemas.ExternInfo===o.QD.STRING&&(t.ExternInfo=encodeURIComponent(JSON.stringify(t.ExternInfo))),this.validate(t),this.reportType===o.C2.KvStat){var r=Math.floor(Date.now()/1e3);Object.assign(t,{StartTime:r,EndTime:r})}var i={log_id:this.logid,custom_data:t};a.push(i),this.debug&&console.log(`[minigamefe${this.namespace}GameTransferReport]: ${n},`,t)}));var s={report_list:a};this.reportFunc({req_path:"comm_datareport",json_data:JSON.stringify(s),success(){t&&t(n,JSON.stringify(s))},fail(e){console.error(e),t&&t(n,(0,i.bV)(e))}})}))}else console.error("[minigamefe GameTransferReport]: 未传入上报函数!!!")}}class c extends o.ZP{constructor({reportFunc:e,logid:t,schemas:r={},base:a,debug:n,namespace:i,asyncGetBase:s=(()=>Promise.resolve({})),reportType:l,skipValidateInProdEnv:c=!0}){super({logid:t,schemas:r,base:a,debug:n,namespace:i,skipValidateInProdEnv:c}),this.reportType=o.C2.SvrReport,this.reportFunc=e,e||console.error(`[minigamefe${this.namespace}RequestReport]: 未传入上报函数。`),this.asyncGetBase=s,void 0!==l&&(this.reportType=l)}setKvStatBase(e,t){if(this.reportType===o.C2.KvStat){var r=(e.system||"").split(" ");Object.assign(this.schemas,{DeviceModel:o.QD.STRING,DeviceBrand:o.QD.STRING,OsName:o.QD.STRING,OsVersion:o.QD.STRING,LanguageVersion:o.QD.STRING,Count:o.QD.UINT,AppId:o.QD.STRING,AppVersion:o.QD.UINT,AppState:o.QD.UINT}),this.setBase({DeviceModel:e.model||"",DeviceBrand:e.brand||"",OsName:r[0]||"",OsVersion:r[1]||"",LanguageVersion:e.language||"",Count:1}),(null==t?void 0:t.miniProgram)&&this.setBase({AppState:s.dg[t.miniProgram.envVersion]||s.dg.release,AppId:t.miniProgram.appId,AppVersion:0})}}send(e,t){if(this.reportFunc&&"function"==typeof this.reportFunc){var r,a=[],n=this.logid;r=Array.isArray(e)?e:[e],this.asyncGetBase().then((e=>{this.setBase(e),r.forEach((e=>{var t=Object.assign(Object.assign({},this.base),e);this.validate(t);var r={log_id:n,custom_data:t};a.push(r)}));var o=JSON.stringify({report_list:a});this.debug&&console.log(`[minigamefe${this.namespace}RequestReport]: ${n}`,...a),this.reportFunc({url:"https://game.weixin.qq.com/cgi-bin/comm/datareport",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:o,success(){t&&t(n,JSON.stringify(o))},fail(e){console.error(e),t&&t(n,(0,i.bV)(e))}})}))}else console.error("[minigamefe RequestReport]: 未传入上报函数!!!")}}var u=["BenchmarkLevel","NetworkType","RuntimeType","PluginAppId","PluginVersion","Scene","SDKVersion","IsVisible","Type","Target","Params","Result","CostTime","ExternInfo","CustomKey1","CustomKey2","CustomKey3","IsError","FELibVersion","Query"],d={BenchmarkLevel:o.QD.UINT,NetworkType:o.QD.STRING,RuntimeType:o.QD.UINT,PluginAppId:o.QD.STRING,PluginVersion:o.QD.STRING,Scene:o.QD.UINT,SDKVersion:o.QD.STRING,IsVisible:o.QD.UINT,Type:o.QD.UINT,Target:o.QD.STRING,Params:o.QD.STRING,Result:o.QD.STRING,CostTime:o.QD.UINT,ExternInfo:o.QD.STRING,CustomKey1:o.QD.STRING,CustomKey2:o.QD.STRING,CustomKey3:o.QD.STRING,IsError:o.QD.UINT,FELibVersion:o.QD.STRING,Query:o.QD.STRING},p=r(7274);var h=r(670);function f(e,t){var r=e||"";if((0,i.Kn)(r))try{r=JSON.stringify(r)}catch(e){console.error(`[minigamefe stringify error]: ${e}`),r=""}else r=String(r);return r.length&&r.length>=1024&&(r=r.substr(0,1024),console.warn(`[minigamefe stringify warning]: ${t} 上报长度超过1024, 已裁剪`)),r}class g{constructor(e){var t,r,a;this.benchmarkLevel=0,this.network="",this.runtimeType=s.vm.UnKnow,this.sdkVersion="0.0.0",this.isVisible=p.Xu.Front,this.scene=0,this.query="",this.pluginAppId="",this.pluginVersion="",this.inited=!1;var{systemInfo:f,launchInfo:g,onShow:v,onHide:m,pluginAppId:y="",pluginVersion:_=""}=e;if(!v||!m)return console.error("[minigamefe stringify warning]: please inject QualityConfig correctly"),void(this.inited=!1);this.inited=!0,this.onShow=v,this.onHide=m,this.benchmarkLevel=(f.benchmarkLevel||1)+100,this.sdkVersion=f.SDKVersion||"0.0.0",this.launchInfo=g,this.scene=(null===(t=this.launchInfo)||void 0===t?void 0:t.scene)||0,(0,i.xb)(null===(r=this.launchInfo)||void 0===r?void 0:r.query)||(this.query=encodeURIComponent(JSON.stringify(null===(a=this.launchInfo)||void 0===a?void 0:a.query))),this.runtimeType=(0,h.$)(f),this.pluginAppId=y,this.pluginVersion=_,this.bindNativeEvent(),this.reporter=function(e){var t,{type:r=p.ql.KeyValueReport,reportKeyValue:a,debug:i,gameTransfer:s,systemInfo:h,accountInfo:f,getNetworkType:g,onNetworkStatusChange:v,request:m,namespace:y}=e,_="";function b(){return new Promise((e=>{_?e({NetworkType:_}):g({success:t=>{_=t.networkType,e({NetworkType:_})},fail:()=>{e({NetworkType:_="unknown"})}})}))}return r===p.ql.KeyValueReport?t=new n.Z({reportFunc:a,logid:26340,schemas:d,protocolParams:u,debug:i,namespace:y,asyncGetBase:b}):r===p.ql.GameTransferReport?(t=new l({reportFunc:s,logid:26340,schemas:d,reportType:o.C2.KvStat,debug:i,namespace:y,asyncGetBase:b})).setKvStatBase(h,f):(console.warn("[minigamefe]: 当前选择 reqeust 进行质量上报, 请自行确保兼容性"),(t=new c({reportFunc:m,logid:26340,schemas:d,debug:i,namespace:y,asyncGetBase:b,reportType:o.C2.KvStat})).setKvStatBase(h,f)),r!==p.ql.GameTransferReport&&r!==p.ql.WxRequestReport||(0,o.Mi)((e=>{_=e,t.setBase({NetworkType:e})}),g,v),t}(e),this.reporter.setBase({BenchmarkLevel:this.benchmarkLevel,RuntimeType:this.runtimeType,Scene:+this.scene,SDKVersion:this.sdkVersion,IsVisible:this.isVisible,PluginAppId:y,PluginVersion:_,FELibVersion:"1.1.67",Query:this.query})}bindNativeEvent(){this.onHide((()=>{this.isVisible=p.Xu.Background,this.reporter.setBase({IsVisible:this.isVisible})})),this.onShow((e=>{(0,i.xb)(null==e?void 0:e.query)||(this.query=encodeURIComponent(JSON.stringify(e.query))),this.isVisible=p.Xu.Front,this.reporter.setBase({IsVisible:this.isVisible,Query:this.query})}))}innerReport(e){this.reporter.send(Object.assign(e,{CostTime:(0,i.hj)(e.CostTime)?e.CostTime:0,Params:f(e.Params,"Params"),Result:f(e.Result,"Result"),ExternInfo:f(e.ExternInfo,"ExternInfo")}))}report(e){p.EM.indexOf(e.Type)>-1&&console.error(`[minigamefe quality report]: 若为自定义上报, Type 请不要使用内置枚举值 ${e.Type}, 内置枚举可见 mgp.consts.ReportType`),this.inited&&this.innerReport(e)}setCustomKey(e){this.inited&&this.reporter.setBase({CustomKey1:e.CustomKey1&&f(e.CustomKey1,"CustomKey1")||"",CustomKey2:e.CustomKey2&&f(e.CustomKey2,"CustomKey2")||"",CustomKey3:e.CustomKey3&&f(e.CustomKey3,"CustomKey3")||""})}clearCustomKey(){this.inited&&this.reporter.setBase({CustomKey1:"",CustomKey2:"",CustomKey3:""})}}var v=r(6385),m=r(8165),y=r(9195),_=r(5692),b=r(7351),w=r(4599),I=r(8832),S=r(9939);class k{constructor(e){this.quality=void 0,this.inited=!1,this.initPromise=void 0,this.initPromise=this.initQuality(e)}initQuality(e){return new Promise((t=>{a.default.onReady((()=>{this.inited=!0,(0,y.getSystemInfo)({complete:t=>{this.quality=new g({debug:!1,type:p.ql.KeyValueReport,pluginAppId:e.pluginAppId||"wxapplib",pluginVersion:e.pluginVersion||"1.0.0",launchInfo:(0,m.Ir)(),accountInfo:(0,_.E)(),systemInfo:t||{},onShow:b.dN,onHide:w.vv,getNetworkType:v.getNetworkType,onNetworkStatusChange:v.onNetworkStatusChange,gameTransfer:I.ip,reportKeyValue:S.G})}}),t(this.quality)}))}))}report(e){this.inited&&this.quality?this.quality.report(e):this.initPromise.then((()=>{this.quality&&this.quality.report(e)})).catch((e=>{}))}setCustomKey(e){var t;null===(t=this.quality)||void 0===t||t.setCustomKey(e)}}new k({})},9499:(e,t,r)=>{"use strict";r.d(t,{v:()=>l});var a=r(6342),n=r(7061),i=r(2464),o=r(6385),s=1;class l extends i.Z{constructor(){super({reportFunc:b.reportKeyValue,logid:"GameAdsSkipCard",debug:!1,protocolParams:["NetworkType","SSID","ToUin","SceneID","UIArea","PositionID","ActionID","ActionStatus","OpType","Object","Status","SourceID","Allpath","ExpID","LogType","ErrType","Time","FuncType","FuncID","ContentType","ContentID","ReasonID","ExternInfo","ClassID"],schemas:{AppId:n.QD.STRING,NetworkType:n.QD.STRING,SSID:n.QD.UINT,ToUin:n.QD.STRING,SceneID:n.QD.LONGLONG,UIArea:n.QD.LONGLONG,PositionID:n.QD.LONGLONG,ActionID:n.QD.LONGLONG,ActionStatus:n.QD.STRING,OpType:n.QD.LONGLONG,Object:n.QD.STRING,Status:n.QD.STRING,SourceID:n.QD.LONGLONG,Allpath:n.QD.STRING,ExpID:n.QD.LONGLONG,Time:n.QD.LONGLONG,FuncType:n.QD.LONGLONG,FuncID:n.QD.STRING,ReasonID:n.QD.LONGLONG,ExternInfo:n.QD.STRING,ErrType:n.QD.STRING,ClassID:n.QD.INT},base:{SceneID:36}}),1!==s?this.setBase({NetworkType:s}):a.default.onReady((()=>{(0,n.Mi)((e=>{n.XN[e]&&(s=n.XN[e]),this.setBase({NetworkType:s})}),o.getNetworkType,o.onNetworkStatusChange)}))}}},2248:(e,t,r)=>{"use strict";r.d(t,{F0:()=>s,az:()=>u,y4:()=>d});var a=r(4536),n=r(6142),i=r(3286),o=r(7445),s={EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18},l={sampleEventList:[]},c=new Map;function u(){(0,a.jQ)("onCanvasReportEventSampleConfigReceived",(e=>{var t=JSON.parse(e.keyEventSampleConfig);Array.isArray(t.sample_event_list)&&(l.sampleEventList=t.sample_event_list,l.sampleEventList.forEach((e=>{c.set(e,0)})),function(){var e=l.sampleEventList.find((e=>e.event===s.EVENT_CANVAS_SAMPLE_BY_TIME));if(e){var t=6e3,r=6,a=0;(0,n.hj)(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),(0,n.hj)(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{d(s.EVENT_CANVAS_SAMPLE_BY_TIME),a++}),1e3);var i=setInterval((()=>{a>r?clearInterval(i):setTimeout((()=>{d(s.EVENT_CANVAS_SAMPLE_BY_TIME),a++}),500)}),t)}}(),function(){var e=l.sampleEventList.find((e=>e.event===s.EVENT_CANVAS_WEBVIEW_TIMING));if(e){var t=6e3,r=6,a=0;(0,n.hj)(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),(0,n.hj)(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{(0,i.Zp)().forEach((e=>{d(s.EVENT_CANVAS_WEBVIEW_TIMING,e)})),a++}),1e3);var o=setInterval((()=>{a>r?clearInterval(o):setTimeout((()=>{(0,i.Zp)().forEach((e=>{d(s.EVENT_CANVAS_WEBVIEW_TIMING,e)})),a++}),500)}),t)}}())})),(0,a.jQ)("onStartReportCanvasData",(({event:e})=>{e===s.EVENT_CANVAS_WEBVIEW_BEFORE_JUMP?(0,i.Zp)().forEach((t=>{d(e,t)})):d(e)}))}function d(e,t){if((0,o.aI)()){var r=function(e){return l.sampleEventList.find((t=>e===t.event))}(e);if(r){var n=Date.now(),i=c.get(r);if(r.sample_interval_seconds,(n-i)/1e3<r.sample_interval_seconds)return;(0,a.IN)("reportCanvasData",{eventInfo:JSON.stringify(r),viewId:t>0?t:0,noCallback:!0,success(){c.set(r,n)},fail({errMsg:e}){}})}}}},7298:(e,t,r)=>{"use strict";r.d(t,{LC:()=>o,U:()=>i,d4:()=>s});var a=r(9661),n=r(8929),i=new a.Z,o={map:{},set(e){var t=(0,n.M8)();return this.map[t]=e,t},get(e){return e?this.map[e]:Object.keys(this.map).map((e=>this.map[e]))}},s=e=>/wxfile:\/\//.test(e)||/http:\/\//.test(e)?e:o.get(e)},3972:(e,t,r)=>{"use strict";r.d(t,{hb:()=>l,hI:()=>s});const a={emitter:new(r(9661).Z),puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:{}};var n=r(7445),i=r(4161),o=e=>{for(var t in a.puidToPluginWX)if(a.puidToPluginWX[t]===e)return t},s=e=>{if((0,n.aI)()){var t=(0,i.y)(e);return t&&t.provider?t.provider:void 0}return a.pluginIDs[o(e)]},l=(Object.keys,e=>{var t=Number(e);return[Math.floor(t/1e6),Math.floor(t/1e3)%1e3,t%1e3].join(".")})},4161:(e,t,r)=>{"use strict";r.d(t,{oq:()=>n,y:()=>i});var a=new WeakMap,n=(e,t)=>a.set(e,t),i=e=>a.get(e)},8341:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var a=r(9661);class n{constructor(e={maxListeners:2e3}){this.emitter=new a.Z(e),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=_.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r)}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}listeners(e){return this.emitter.listeners(e)}}},9806:(e,t,r)=>{"use strict";r.d(t,{Av:()=>g,Fr:()=>u,Hw:()=>o,Iy:()=>m,KU:()=>l,M7:()=>h,N0:()=>v,P2:()=>y,Y6:()=>s,fm:()=>d,v7:()=>f,vB:()=>p});var a=r(6342),n=r(7445),i=r(6142);function o(e,t,r){return function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?b.thirdErrorReport({error:e,extend:t}):b.errorReport({key:r,error:e,extend:t})}}}}function s(e,t=0){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:t}function l(e){var t="unknown";if(a.default.appContactInfo&&a.default.appContactInfo.operationInfo&&a.default.appContactInfo.operationInfo.jsonInfo&&a.default.appContactInfo.operationInfo.jsonInfo.apiAvailable){var{apiAvailable:r}=a.default.appContactInfo.operationInfo.jsonInfo;"number"==typeof r[e]&&(t=1===r[e])}return t}var c=(()=>Object.assign)();function u(e){return(t={})=>new Promise(((r,a)=>{e(c(t,{success:r,fail:a}))}))}function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p(){return n.gm?"boolean"==typeof a.default.urlCheck?!a.default.urlCheck:!__devtoolsConfig.urlCheck:!0===a.default.debug}function h(e,t){var r,a=String(e).split(".").map((e=>parseInt(e,10))),n=String(t).split(".").map((e=>parseInt(e,10))),i=Math.max(a.length,n.length);if(null!=e&&null!=t){if(0===e.length&&0===t.length)return 0;if(0===e.length)return-1;if(0===t.length)return 1;for(var o=0;o<i&&0===(r=s(a[o],n[o]));o++);return r}function s(e,t){return"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0),e>t?1:e<t?-1:0}console.error("versionCompare()参数格式错误")}function f(e,t){return t.reduce(((t,r)=>((0,i.o8)(e[r])||(t[r]=e[r]),t)),{})}function g(){return a.default.appLaunchInfo&&"singlePage"===a.default.appLaunchInfo.mode}var v=function(){return a.default.isIsolateContext};var m=(e,t)=>{var r;return function(a,...n){if(r)a.success&&a.success(r),a.complete&&a.complete(r);else{var i=a.success,o=a.complete;a.success=e=>{r=t(e),i&&i(e),o&&o(e)},e(a,...n)}}},y=function(e,t,r){var a,n,i,o=null,s=0;r||(r={});var l=function(){s=!1===r.leading?0:Date.now(),o=null,i=e.apply(a,n),o||(a=n=null)};return function(){var c=Date.now();s||!1!==r.leading||(s=c);var u=t-(c-s);return a=this,n=arguments,u<=0||u>t?(clearTimeout(o),o=null,s=c,i=e.apply(a,n),o||(a=n=null)):o||!1===r.trailing||(o=setTimeout(l,u)),i}}},9067:(e,t,r)=>{"use strict";r.d(t,{Ei:()=>a,Xl:()=>i,zA:()=>n});var a=function(e,t){if("string"!=typeof e)return 0;var r,a,n,i=0;if("utf-16"===(t=t?t.toLowerCase():"utf8")||"utf16"===t)for(a=0,n=e.length;a<n;a++)i+=(r=e.charCodeAt(a))<=65535?2:4;else for(a=0,n=e.length;a<n;a++)i+=(r=e.charCodeAt(a))<=127?1:r<=2047?2:r<=65535?3:4;return i};function n(e,t,r){if(!("number"==typeof t&&t>0))return console.error("sliceBySize缺少length参数"),e;if("string"!=typeof e)return 0;var a,n,i,o=0;if("utf-16"===(r=r?r.toLowerCase():"utf8")||"utf16"===r){for(n=0,i=e.length;n<i;n++)if((o+=(a=e.charCodeAt(n))<=65535?2:4)>t)return e.slice(0,n)}else for(n=0,i=e.length;n<i;n++)if((o+=(a=e.charCodeAt(n))<=127?1:a<=2047?2:a<=65535?3:4)>t)return e.slice(0,n);return e}var i=e=>{var t="";return Object.keys(e).forEach(((r,a)=>{try{var n=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`;0!==a&&(t+="&"),t+=n}catch(e){}})),t}},2818:e=>{var t,r,a,n,i,o,s,l=l||function(e,t){var r={},a=r.lib={},n=function(){},i=a.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=a.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,a=this.sigBytes;if(e=e.sigBytes,this.clamp(),a%4)for(var n=0;n<e;n++)t[a+n>>>2]|=(r[n>>>2]>>>24-n%4*8&255)<<24-(a+n)%4*8;else if(65535<r.length)for(n=0;n<e;n+=4)t[a+n>>>2]=r[n>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],a=0;a<t;a+=4)r.push(4294967296*e.random()|0);return new o.init(r,t)}}),s=r.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],a=0;a<e;a++){var n=t[a>>>2]>>>24-a%4*8&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],a=0;a<t;a+=2)r[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new o.init(r,t/2)}},c=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],a=0;a<e;a++)r.push(String.fromCharCode(t[a>>>2]>>>24-a%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],a=0;a<t;a++)r[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new o.init(r,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=a.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,a=r.words,n=r.sigBytes,i=this.blockSize,s=n/(4*i);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*i,n=e.min(4*t,n),t){for(var l=0;l<t;l+=i)this._doProcessBlock(a,l);l=a.splice(0,t),r.sigBytes-=n}return new o.init(l,n)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=d.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}});var p=r.algo={};return r}(Math);r=(i=(t=l).lib).WordArray,a=i.Hasher,n=[],i=t.algo.SHA1=a.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,a=r[0],i=r[1],o=r[2],s=r[3],l=r[4],c=0;80>c;c++){if(16>c)n[c]=0|e[t+c];else{var u=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=u<<1|u>>>31}u=(a<<5|a>>>27)+l+n[c],u=20>c?u+(1518500249+(i&o|~i&s)):40>c?u+(1859775393+(i^o^s)):60>c?u+((i&o|i&s|o&s)-1894007588):u+((i^o^s)-899497514),l=s,s=o,o=i<<30|i>>>2,i=a,a=u}r[0]=r[0]+a|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,a=8*e.sigBytes;return t[a>>>5]|=128<<24-a%32,t[14+(a+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(a+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=a._createHelper(i),t.HmacSHA1=a._createHmacHelper(i),function(){var e=l,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,r){e=this._hasher=new e.init,"string"==typeof r&&(r=t.parse(r));var a=e.blockSize,n=4*a;r.sigBytes>n&&(r=e.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),o=this._iKey=r.clone(),s=i.words,l=o.words,c=0;c<a;c++)s[c]^=1549556828,l[c]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),s=(o=l).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,a=this._map;e.clamp();for(var n=[],i=0;i<r;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<r;s++)n.push(a.charAt(o>>>6*(3-s)&63));var l=a.charAt(64);if(l)for(;n.length%4;)n.push(l);return n.join("")},parse:function(e){var t=e.length,r=this._map,a=r.charAt(64);if(a){var n=e.indexOf(a);-1!=n&&(t=n)}for(var i=[],o=0,l=0;l<t;l++)if(l%4){var c=r.indexOf(e.charAt(l-1))<<l%4*2,u=r.indexOf(e.charAt(l))>>>6-l%4*2;i[o>>>2]|=(c|u)<<24-o%4*8,o++}return s.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=l},1351:e=>{"use strict";e.exports=n.applyDecoratedDescriptor},3888:e=>{"use strict";e.exports=n.asyncToGenerator}},u={};function p(t){var r=u[t];if(void 0!==r)return r.exports;var a=u[t]={id:t,loaded:!1,exports:{}};return e[t](a,a.exports,p),a.loaded=!0,a.exports}p.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return p.d(t,{a:t}),t},p.d=(e,t)=>{for(var r in t)p.o(t,r)&&!p.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},p.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new a("return this")()}catch(e){if("object"==typeof window)return window}}(),p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var I={};(()=>{"use strict";p.d(I,{default:()=>hse});var e={};p.r(e),p.d(e,{_WebAssembly:()=>Qy,_downloadFileSkipCheckDomain:()=>re.ot,_getSystemInfoSyncFromCache:()=>un._getSystemInfoSyncFromCache,_onHide:()=>ar.vv,_requestSkipCheckDomain:()=>re.ac,_socketSkipCheckDomainFactory:()=>re.as,_uploadFileSkipCheckDomain:()=>re.OZ,cacheManager:()=>nO,checkPermissionSync:()=>Qe.J,invokeOperateWXData:()=>Q.yD,isUsedCache:()=>wO,privateCacheManager:()=>iO,private_getBackgroundFetchData:()=>za,private_getUserAgent:()=>RN.Y,reportCallContainer:()=>ri,request:()=>re.WY,uploadToCommonCDN:()=>DN});var u={};p.r(u),p.d(u,{IS_IOS:()=>z.cj,PLATFORM:()=>z.iw,_createCanvas:()=>Kb,_requestSkipCheckDomain:()=>re.ac,createImage:()=>sS,getPerformance:()=>bS,getShouldMakeCanvasSecure:()=>av});var w={};p.r(w),p.d(w,{Component:()=>Lm.wA,CutieType:()=>HF,IS_DEVTOOLS:()=>z.gm,IS_PC:()=>z.DD,KeyValueReport20267:()=>SF.v,Quality:()=>kF.n,ReportType:()=>KF,TWEEN:()=>fw,WXConfig:()=>x.default,_offKeyboardHeightChange:()=>gw.M2,_onBaseFrameShow:()=>Cv.OQ,_onHide:()=>ar.vv,_onKeyboardHeightChange:()=>gw.LK,_onShow:()=>Ac.dN,acceptSyncMainPackageNativeEventFromSubPackage:()=>je.ry,beforeInvokeCallback:()=>Q.FE,beforeInvokeFail:()=>Q.YG,checkPermissionSync:()=>Qe.J,createFeedbackLogger:()=>mg.$,createScreenCanvas:()=>Z_.U,createWebView:()=>nW,gameTransfer:()=>Mo.ip,getAccountInfoSync:()=>sN.E,getCutieInfo:()=>rW,getPrivateThis:()=>Lm.Wj,getSystemInfo:()=>un.getSystemInfo,getSystemInfoSync:()=>un.getSystemInfoSync,hideKeyboard:()=>bk.Sn,hideLoading:()=>Ze.hideLoading,init:()=>Lm.S1,innerShareInvitationToLiveRoom:()=>YS.rc,invokeOperateWXDataPromise:()=>WO.Qh,offKeyboardComplete:()=>gw.r,onDeviceOrientationChange:()=>hn.Qq,onKeyboardComplete:()=>gw.ri,onShow:()=>Ac.Ke,onWindowResize:()=>FO.KN,privateOpenUrl:()=>f_.n,registerComponent:()=>IF.RM,removePrivateThis:()=>Lm.bn,reportCutie:()=>aW,showKeyboard:()=>bk.ez,showLoading:()=>Ze.showLoading,showToast:()=>Ze.showToast,touch:()=>DS,unregisterComponent:()=>IF.d8,webviewLayout:()=>Rm.u});var k={};p.r(k),p.d(k,{getGameRelatedContextsExports:()=>GW,getGameRelatedContextsExportsWx:()=>$W,getIsolatedGamePluginContextEnv:()=>zW,loadPreloadSdkSubPackage:()=>qW,onSubPackageReady:()=>lW,recordGameJSInjectTimestamp:()=>JW,runPlayableGameJS:()=>HW,runPlayableGameJSNew:()=>KW});const C=n.initializerDefineProperty;var T=p.n(C),P=p(1351),A=p.n(P);n.initializerWarningHelper;var E,M=p(7132),x=p(6342);"undefined"!=typeof __initHelper&&1===__initHelper&&(globalThis.getCloudSDKGlobalVar=()=>({WeixinJSBridge:c,wxConsole:h,Reporter:b,console:console,__appServiceSDK__:E,__wxConfig:x.default,Foundation:o,IS_APP:!1}));var D={};["onViewDidResize","onDeviceOrientationChange","onAppRouteResized","onDeviceOrientationChange","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll","onThemeChange","onKeyboardHeightChange"].forEach((e=>{D[e]=(0,M.n)(e)}));var R=p(6142);var L={String:0,NaN:"<NaN>",Infinity:e=>e>0?"<Infinity>":"<-Infinity>",Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:e=>""===e.name?"<Function>":`<Function: ${e.name}>`,Date:e=>`<Date: ${e.toJSON()}>`,RegExp:e=>`<RegExp: ${e.toString()}>`,Error:e=>`<${e.name}: ${e.message}>${e.stack?"\n"+e.stack:""}`,Symbol:e=>`<Symbol: ${e.toString()}>`,Promise:"<Promise>",Map:e=>`<Map: size=${e.size}>`,WeakMap:"<WeakMap>",Set:e=>`<Set: size=${e.size}>`,WeakSet:"<WeakSet>",ArrayBuffer:e=>`<ArrayBuffer: byteLength=${e.byteLength}>`,DataView:e=>`<DataView: byteLength=${e.byteLength}, byteOffset=${e.byteOffset}>`,TypedArray:e=>`<${e.constructor&&e.constructor.name?e.constructor.name:"TypedArray"}: byteLength=${e.byteLength}, length=${e.length}>`,BigInt:e=>`<BigInt: ${e.toString()}>`};function N(e){var t=function(e){var t=(0,R.Em)(e);if("Number"===t){if((0,R.i2)(e))return"NaN";if((0,R.AT)(e))return"Infinity"}else if("Object"===t){if((0,R.Ft)(e))return"Null"}else if(t.endsWith("Array")&&"Array"!==t&&(0,R.fU)(e))return"TypedArray";return t}(e);return t in L?L[t]?(0,R.mf)(L[t])?[L[t](e),!0]:[L[t],!0]:[e,!0]:[null,!1]}function O(e){var t=new WeakMap,r=0;return function e(a,n){var i,[o,s]=N(a);return s?o:r>3e3?"<Hidden>":t.has(a)?`<Circular: ${t.get(a)}>`:(t.set(a,n),r++,(0,R.kJ)(a)?a.map(((t,r)=>e(t,`${n}[${r}]`))):(i={},Object.keys(a).forEach((t=>{i[t]=e(a[t],`${n}.${t}`)})),i))}(e,"@")}function B(e,t){try{return(e=Array.prototype.slice.call(e)).map(O)}catch(e){return void("undefined"!=typeof inSnapshotCheck&&inSnapshotCheck&&"function"==typeof t&&t("[snapshot check] transformLogArgs error: ",e))}}var j=0,F=1,W=2,U=3,G=4,V=5,$=5;var q=p(1399),z=p(7445),H="undefined"!=typeof console?console.log:(...e)=>{(0,q.a)((t=>{t.log(...e)}))};if((0,q.a)((e=>{H=e.log})),!z.gm&&!z.Ae){var K=function(e,t){var r=function(e,t,r=!0){if(r||e===W||e===U)try{var a=B(t);if(void 0===a)return;var n=JSON.stringify({level:e,logs:a});return n.length>1048576&&!r||n.length>2097152&&r?JSON.stringify({level:e,logs:["<LOG_EXCEED_MAX_LENGTH>"]}):n}catch(e){return void console.warn("[console] This object can not be logged")}}(e,t,(0,z.Dq)());r&&H(r)};globalThis.console={log(){K(j,arguments)},info(){K(F,arguments)},warn(){K(W,arguments)},error(){K(U,arguments)},debug(){K(G,arguments)},time(){K(V,arguments)},timeEnd(){K($,arguments)},group(){},groupEnd(){}}}var J=()=>z.cj||z.wZ||z.DD?{log(...e){(0,z.Dq)()&&globalThis.console.log(...e)},info(...e){(0,z.Dq)()&&globalThis.console.info(...e)},warn(...e){(0,z.Dq)()&&globalThis.console.warn(...e)},error(...e){(0,z.Dq)()&&globalThis.console.error(...e)},debug(...e){(0,z.Dq)()&&globalThis.console.debug(...e)},time(...e){(0,z.Dq)()&&globalThis.console.time(...e)},timeEnd(...e){(0,z.Dq)()&&globalThis.console.timeEnd(...e)},group(){},groupEnd(){}}:Object.assign({},console),Q=p(4536),Y=p(9766),Z=(0,Y.s)("UpdateWXConfig"),X=Z.onMethod;Z.offMethod;(0,Q.jQ)("onUpdateWXConfig",(e=>{f.info("onUpdateWXConfig",e),Object.keys(e).forEach((t=>{x.default[t]=e[t]})),Z.emit(e)}));var ee,te,re=p(8791),ae=p(5709),ne=p(4237),ie=p(9976),oe=()=>(ee||(ee=(0,ne.Dc)()),ee),se={},le={},ce=e=>{if(!le[e]){try{(0,ie.h)((0,ne.Jo)(e),!0)}catch(e){f.error("插件私有目录创建失败",e)}le[e]=(0,ne.PZ)(e)}return le[e]},ue=e=>(console.warn("wx.saveFile 即将废弃，请使用 wx.getFileSystemManager().saveFile"),oe().saveFile(e)),de=e=>(console.warn("wx.getFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),oe().getFileInfo(e)),pe=e=>(console.warn("wx.getSavedFileList 即将废弃，请使用 wx.getFileSystemManager().getSavedFileList"),oe().getSavedFileList(e)),he=e=>(console.warn("wx.getSavedFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),oe().getSavedFileInfo(e)),fe=e=>(console.warn("wx.removeSavedFile 即将废弃，请使用 wx.getFileSystemManager().removeSavedFile"),oe().removeSavedFile(e)),ge=new Map,ve=p(8929),me=p(1591),ye=p(3888),_e=p.n(ye),be=p(3329),we=p(1190),Ie=null;function Se(){return te?Promise.resolve(te):Ie||(Ie=(0,Q.Qh)({sdkApiName:"getEncryptKey",apiName:"wxaapi_getwxastoragekey",reqData:{type:1}}).then((e=>{e=e.data;var{key:t,iv:r}=e,a=new Uint8Array((0,we.RG)(t)),n=new Uint8Array((0,we.RG)(r));return Ie=null,te={encryptKeyBytes:a,ivBytes:n}})).catch((e=>{throw Ie=null,e})))}var ke=!1;function Ce(){ke||((0,be.k)().runTask("initAesWasm",{}),ke=!0)}function Te(){return Te=_e()((function*(e={},t,r){var{encryptEnv:a="wasm"}=e;"wasm"===a&&Ce();var n=yield r,i=yield function(e,t,r){return(0,be.k)().runTask("aesDecrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}(t,a,n);return i})),Te.apply(this,arguments)}function Pe(e={},t){var{key:r,data:a,dataType:n,storageId:i,encryptEnv:o="wasm"}=e,{failWithMsg:s}=(0,Q.Rn)(e,"setStorage"),l=[Se()];"wasm"===o&&Ce(),Promise.all(l).then((([e])=>function(e,t,r){return(0,be.k)().runTask("aesEncrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}(a,o,e))).then((a=>{var o=z.cj?"setStorageAsync":"setStorage";(0,Q.IN)(o,{key:r,data:a,dataType:n,storageId:i,success:t=>{ge.get(i).set(r,{data:a,dataType:n}),(0,R.mf)(e.success)&&e.success(t)},fail:e.fail,complete:e.complete},t)})).catch((e=>{s({msg:e.message}),f.error("encryptThenSetStorage error",e)}))}var Ae=p(1868),Ee=(0,Ae.NX)("getStorage",_e()((function*(e={},t){var{encrypt:r,key:a}=e,n=r&&d.isSupportWXLibWorker(),i=z.cj?"getStorageAsync":"getStorage";(0,Q.zy)(e,{key:""});var s,l={checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found"),beforeAll:e=>{e.errMsg=e.errMsg.replace("getStorageAsync","getStorage")}},c=Object.assign({},e,{storageId:t}),u=ge.get(t),p=n?Se():null;return!o.env.isMagicBrushFrameEnv&&u.has(a)?s={...u.get(a)}:(s=yield(0,Q.bb)(i,c,l),u.set(a,{data:s.data,dataType:s.dataType})),n&&(s.data=yield function(){return Te.apply(this,arguments)}(e,s.data,p)),s.data=(e._stringToAnyType||ve.Yt)(s.data,s.dataType),delete s.dataType,s})));var Me=(0,Ae.NX)("batchGetStorage",_e()((function*(e={},t){(0,Q.zy)(e,{keyList:["1"]});var r=Object.assign({},e,{storageId:t}),a=ge.get(t),n=yield(0,Q.bb)("batchGetStorage",r);return Array.isArray(n.dataList)&&(n.dataList=n.dataList.map(((e,t)=>{var{data:n,dataType:i}=e;return n&&a.set(r.keyList[t],e),(0,ve.Yt)(n,i)}))),n}))),xe=(0,Ae.NX)("batchSetStorage",function(){var e=_e()((function*(e,t){(0,Q.zy)(e,{kvList:[{key:"1"}]});var r=ge.get(t),a=e.kvList.map((e=>{r.delete(e.key);var{data:t,dataType:a}=(0,ve.op)(e.value);return{key:e.key,data:t,dataType:a}})),n={kvList:a,storageId:t,success:e.success,fail:e.fail,complete:e.complete,contextId:e.contextId};return yield(0,Q.bb)("batchSetStorage",n)}));return function(t,r){return e.apply(this,arguments)}}()),De=function(e){return Array.isArray(e)?e.filter((e=>"string"==typeof e&&!e.startsWith("__plugins__"))):[]},Re={setStorage:(e,t={})=>{var{encrypt:r}=t;if((0,Q.r3)("setStorage",t,{key:""}))try{var{data:a,dataType:n}=(0,ve.op)(t.data),i=t.key,s={key:i,data:a,dataType:n,storageId:e,success:t.success,fail:t.fail,complete:t.complete,encryptEnv:t.encryptEnv,contextId:t.contextId},l={beforeAll:e=>{e.errMsg=e.errMsg.replace("setStorageAsync","setStorage")}};if(r&&d.isSupportWXLibWorker())Pe(s,l);else{var c=ge.get(e),u=c.get(i);if(!o.env.isMagicBrushFrameEnv&&u&&u.dataType===n&&u.data===a)(0,Q.FE)({name:"setStorage",args:t});else{var p=z.cj?"setStorageAsync":"setStorage";(0,Q.IN)(p,s,{...l,beforeSuccess:()=>{c.set(i,{data:a,dataType:n})}})}}}catch(e){"function"==typeof t.fail&&t.fail({errMsg:`setStorage:fail ${e.message}`}),"function"==typeof t.complete&&t.complete({errMsg:`setStorage:fail ${e.message}`})}},batchSetStorage:(e,t={})=>xe(t,e),setStorageSync:(e,t,r="")=>{if("string"==typeof t){var a=z.cj?"setStorage":"setStorageSync",{data:n,dataType:i}=(0,ve.op)(r),o=!1,s="",l=ge.get(e),c=l.get(t);if(!c||c.dataType!==i||c.data!==n){if((0,Q.IN)(a,{key:t,data:n,dataType:i,storageId:e,fail(e={}){o=!0,s=e.errMsg.replace("setStorage:","setStorageSync:")}}),o)throw new me.l(s);l.set(t,{data:n,dataType:i})}}else console.error(`setStorageSync:fail the first parameter should be a string instead of ${(0,R.Em)(t)}`)},batchSetStorageSync:(e,t)=>{(0,Q.zy)(t,[{key:"1"}]);var r,a=ge.get(e),n=t.map((e=>{var{data:t,dataType:r}=(0,ve.op)(e.value);return a.delete(e.key),{key:e.key,data:t,dataType:r}}));return(0,Q.IN)("batchSetStorageSync",{storageId:e,kvList:n,beforeAll(e){r=e}}),r},getStorage:(e,t={})=>Ee(t,e),batchGetStorage:(e,t={})=>Me(t,e),getStorageSync:function(e,t){var r=arguments[arguments.length-1]||{};if((0,R.HD)(t)){var a=ge.get(e);if(a.has(t)){var{data:n,dataType:i}=a.get(t);return(r._stringToAnyType||ve.Yt)(n,i)}var o,s=z.cj?"getStorage":"getStorageSync";return(0,Q.IN)(s,{key:t,storageId:e},{beforeSuccess:(e={})=>{a.set(t,{data:e.data,dataType:e.dataType}),o=(r._stringToAnyType||ve.Yt)(e.data,e.dataType)},beforeFail:()=>{o=""},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")}),o}},batchGetStorageSync:(e,t)=>{var r;(0,Q.zy)(t,["1"]);var a=ge.get(e);return(0,Q.IN)("batchGetStorageSync",{keyList:t,storageId:e},{beforeSuccess:(e={})=>{(r=e).dataList=e.dataList.map(((e,r)=>{var{data:n,dataType:i}=e||{};return n&&a.set(t[r],e),(0,ve.Yt)(n,i)}))}}),r.dataList},getStorageInfo:(e,t)=>{(0,Q.IN)("getStorageInfo",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.keys=De(e.keys)}})},getStorageInfoSync:e=>{var t;return(0,Q.IN)("getStorageInfoSync",{storageId:e},{beforeAll:e=>{t=e,e.keys=De(e.keys),delete e.errMsg}}),t},removeStorage:(e,t)=>{(0,Q.r3)("removeStorage",t,{key:""})&&(ge.get(e).delete(t.key),(0,Q.IN)("removeStorage",Object.assign({},t,{storageId:e})))},removeStorageSync:(e,t)=>{(0,Q.r3)("removeStorageSync",t,"")&&(ge.get(e).delete(t),(0,Q.IN)("removeStorageSync",{key:t,storageId:e}))},clearStorage:(e,t)=>{ge.get(e).clear();var r=z.cj?"clearStorageAsync":"clearStorage";(0,Q.IN)(r,Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("clearStorageAsync","clearStorage")}})},clearStorageSync:e=>{ge.get(e).clear();var t=z.cj?"clearStorage":"clearStorageSync";(0,Q.IN)(t,{storageId:e})}},Le={app:0,game:0,opendata:1,singlePage:2,cache:3},Ne=e=>{var t=Le[e];return ge.has(t)||ge.set(t,(()=>{var e=new Map;return z.gm||(0,z.fs)()?new Proxy(e,{get:()=>()=>{}}):e})()),Object.keys(Re).reduce(((e,r)=>(e[r]=(...e)=>Re[r](t,...e),e)),{})};const Oe={app:Ne("app"),game:Ne("game"),opendata:Ne("opendata"),singlePage:Ne("singlePage"),cache:Ne("cache")};var Be=p(1333),je=p(8246),Fe="";x.default.onReady((()=>{var e,t;!(Fe=x.default.appLaunchInfo.chatroomUsername)&&1008===x.default.appLaunchInfo.scene&&null!==(e=x.default.appLaunchInfo.shareInfo)&&void 0!==e&&e.shareName&&(Fe=null===(t=x.default.appLaunchInfo.shareInfo)||void 0===t?void 0:t.shareName)})),(0,je.n)("onAppEnterForeground",((e={})=>{var t,r;!(Fe=e.chatroomUsername)&&1008===e.scene&&null!==(t=e.shareInfo)&&void 0!==t&&t.shareName&&(Fe=null===(r=e.shareInfo)||void 0===r?void 0:r.shareName)}));var We=()=>Fe,Ue="getShareInfo",Ge={showShareAppMessageMenu:!1,showShareTimelineMenu:!1,withShareTicket:!1,isPrivateMessage:!1},Ve=p(5125),$e=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage"],r=[];if(t.includes("shareAppMessage")){Ge.showShareAppMessageMenu=!0;var a=new Promise(((t,r)=>{!0===e.withShareTicket?(Ge.withShareTicket=!0,(0,Q.IN)("showShareMenuWithShareTicket",{withShareTicket:!0,success:t,fail:r,beforeAll(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail(e){e.errMsg+=", with arg withShareTicket: true"}})):(Ge.withShareTicket=!1,(0,Q.IN)("showShareMenu",{success:t,fail:r}))}));r.push(a)}if(t.includes("shareAppMessage")&&t.includes("shareTimeline")&&!Ve.Z.hasWebViewCompnent){Ge.showShareTimelineMenu=!0;var n=new Promise(((e,t)=>{(0,Q.IN)("showShareTimelineMenu",{success:e,fail:t})}));r.push(n)}Promise.all(r).then((()=>{(0,Q.FE)({name:"showShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("showShareMenu:fail","").replace("showShareTimelineMenu:fail","");(0,Q.YG)("showShareMenu",e,r,t.errCode)}))},qe=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage","shareTimeline"],r=[];function a(){return new Promise(((e,t)=>{(0,Q.IN)("hideShareTimelineMenu",{success:e,fail:t})}))}if(t.includes("shareTimeline")&&(Ge.showShareTimelineMenu=!1,r.push(a())),t.includes("shareAppMessage")){Ge.showShareAppMessageMenu=!1,0===r.length&&r.push(a());var n=new Promise(((e,t)=>{(0,Q.IN)("hideShareMenu",{success:e,fail:t})}));r.push(n)}Promise.all(r).then((()=>{(0,Q.FE)({name:"hideShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("hideShareMenu:fail","").replace("hideShareTimelineMenu:fail","");(0,Q.YG)("hideShareMenu",e,r,t.errCode)}))};function ze(e){return new Promise(((t,r)=>{"boolean"==typeof e.withShareTicket?(0,Q.IN)("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:r},{beforeAll(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})}))}function He(e){return new Promise(((t,r)=>{if("boolean"==typeof e.isUpdatableMessage||"boolean"==typeof e.isPrivateMessage){var a=JSON.stringify({activity_id:e.activityId,template_id:e.templateInfo&&e.templateInfo.templateId,parameter_list:e.templateInfo&&e.templateInfo.parameterList});(0,Q.IN)("updateShareMenuUpdatable",{isPrivateMessage:e.isPrivateMessage,updatable:e.isUpdatableMessage,templateId:a,success:t,fail:r}),!0===e.isPrivateMessage?Ge.isPrivateMessage=!0:!1===e.isPrivateMessage&&(Ge.isPrivateMessage=!1)}else t({errMsg:"updateShareMenu:ok"})}))}function Ke(e){return new Promise(((t,r)=>{"string"==typeof e.toDoActivityId?((0,Q.IN)("updateShareMenuUpdatable",{updatable:!0}),(0,Q.IN)("updateShareMenuShareTicket",{withShareTicket:!0}),(0,Q.IN)("updateShareMenuToDo",{toDoActivityId:e.toDoActivityId,isToDoMessage:"boolean"!=typeof e.isToDoMessage||e.isToDoMessage,success:e=>{t(e)},fail:e=>{r(e)}})):t({errMsg:"updateShareMenu:ok"})}))}var Je=(e={})=>{Promise.all([ze(e),He(e),Ke(e)]).then((t=>{"function"==typeof e.success&&_.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&_.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])})).catch((t=>{void 0===t.errMsg&&(t.errMsg="updateShareMenu:fail "+t.message),"function"==typeof e.fail&&_.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&_.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)}))},Qe=p(88),Ye="authPrivateMessage";var Ze=p(5049),Xe=p(9105),et=p(5933),tt=p(9661),rt=p(6347),at=new tt.Z;(0,Q.jQ)("onPageReload",((e={},t=0)=>{e.webviewId=t,at.emit("onPageReload",e)}));var nt,it={},ot=0,st=function(e,t,r){var a=r;a||(a=ot++),((e,t)=>(it[e]=it[e]||{},!!it[e][t]||(it[e][t]=!0,!1)))(e,a)||at.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))},lt=(0,Y.s)("navigateBackIntercept"),ct={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},ut=[ct.SlideBack,ct.BottomBackButton,ct.NavigationBarBack,ct.NavigateBackCall],dt=[],pt=0;(0,Q.jQ)("onNavigateBackIntercept",((e={})=>{var{id:t}=nt||{};lt.emit({...e,id:t}),(0,Q.nY)("onNavigateBackIntercept",{...e,id:t},[Ve.Z.currentWebviewId])}));var ht=Object.create(null);(0,et.HM)((e=>{var t=e.webviewId;ht[t]||(st(t,(()=>{if(delete ht[t],dt.length)for(var e,r=0;r<dt.length;)(e=dt[r]).options.webviewId&&e.options.webviewId===t?dt.splice(r,1):r+=1}),"setNavigateBackInterception"),ht[t]=!0),dt.length&&ft()}));var ft=function(){var e=_e()((function*(){var e;nt=void 0;for(var t=dt.length-1;t>=0;--t)if(void 0===(e=dt[t]).options.webviewId||e.options.webviewId===Ve.Z.currentWebviewId){nt=e;break}var r=nt?nt.options.scopes:[],a=new Set(r||[]);return(0,Q.bb)("setNavigateBackInterception",{scopes:ut.map((e=>({type:e,interception:a.has(e)})))})}));return function(){return e.apply(this,arguments)}}(),gt=function(){var e=_e()((function*(e={}){var t;e={...e,scopes:null!==(t=e.scopes)&&void 0!==t?t:ut};var r=++pt;return dt.push({id:r,options:e}),yield ft(),{id:r}}));return function(){return e.apply(this,arguments)}}(),vt=((0,Ae.NX)("setNavigateBackInterceptionById",gt),function(){var e=_e()((function*({id:e}={}){var t=dt.findIndex((t=>t.id===e));t<0||(dt.splice(t,1),yield ft())}));return function(){return e.apply(this,arguments)}}()),mt=((0,Ae.NX)("stopNavigateBackInterceptionById",vt),lt.internalOnMethod),yt=lt.internalOffMethod,_t=function(){var e=_e()((function*(e,t=ut){var{id:r}=yield gt({scopes:t}),a=t=>{t.id===r&&e(t)};return mt(a),{id:r,handler:a}}));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=_e()((function*(e){var{id:t,handler:r}=(yield e)||{};yield vt({id:t}),yt(r)}));return function(t){return e.apply(this,arguments)}}(),wt=p(7298),It=p(2805),St=p(3972),kt=p(1197),Ct=function(e){return e[e.DisableAsyncReport=0]="DisableAsyncReport",e[e.ReportAction=1]="ReportAction",e[e.ReportContent=2]="ReportContent",e[e.ReportContentWithImg=3]="ReportContentWithImg",e}({}),Tt=function(e){return e[e.DisableSyncCheck=4]="DisableSyncCheck",e[e.EasyMode=5]="EasyMode",e[e.StrictMode=6]="StrictMode",e}({}),Pt=function(e){return e[e.Blur=0]="Blur",e[e.Upload=1]="Upload",e}({}),At=function(e){return e[e.NO=0]="NO",e[e.YES=1]="YES",e}({}),Et={textInput:0,input_text:0,nicknameInput:1,input_nickname:1,textarea:2,editor:3,chooseImage:4,chooseMedia:5,chooseAvatar:6},Mt=e=>t=>null!=t&&e.includes(t),xt=Mt([Ct.DisableAsyncReport,Ct.ReportAction,Ct.ReportContent,Ct.ReportContentWithImg]),Dt=Mt([Tt.DisableSyncCheck,Tt.EasyMode,Tt.StrictMode]),Rt=p(6335),Lt=p(3778),Nt=p(5179),Ot=null,Bt=(0,Ae.Vl)(Lt.ac),jt=(0,Ae.Vl)(Nt.p),Ft=(e,t)=>new Promise(((r,a)=>setTimeout((()=>a(new Error(t))),e))),Wt=null,Ut=function(){var e=_e()((function*(e,t){for(var r,a=0;a<=t;)try{return yield e()}catch(e){r=e,a+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}();function Gt(e){return Vt.apply(this,arguments)}function Vt(){return(Vt=_e()((function*(e){Ot||(Ot=(0,Ae.Vl)(Kt));var{tempFilePath:t}=yield Ot({src:e,quality:60,compressedWidth:224,compressHeight:224}),{data:r}=yield jt({filePath:t});return yield Ut(_e()((function*(){var e,t=null===(e=x.default.appLaunchInfo)||void 0===e?void 0:e.openId,a=yield Promise.race([Ft(4e3,"upload timeout"),Bt({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&sn=${Wt.uploadimg_sn||""}&openid=${t||""}`,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:r})]);if(200!==a.statusCode)throw new Error(`upload fail, ${a.data.retcode}`);return a.data.media_id_str})),2)}))).apply(this,arguments)}function $t(e,t){return qt.apply(this,arguments)}function qt(){return qt=_e()((function*(e,t,r=""){if(Wt&&Array.isArray(t)){var a=Wt.async_report_mode,n=Wt.sync_check_mode;if((!Dt(n)||n===Tt.DisableSyncCheck)&&xt(a)&&a!==Ct.DisableAsyncReport&&"number"==typeof Et[e]){var i={async_report_mode:a,query_path:(0,Rt.FZ)(),component_type:Et[e],report_time:Date.now(),content_length:t.length,action_type:Pt.Upload,plugin_app_id:r};if(a===Ct.ReportContentWithImg){var o=[];for(var s of t)o.push(yield Gt(s));i.content=o.join(",")}(0,Q.yD)({apiName:"webapi_wxaasyncinputreport",reqData:i,pluginId:r,success:e=>{},fail:e=>{}})}}})),qt.apply(this,arguments)}function zt(e){if(Wt){var t=Wt[`${e}_auth`]===At.YES;return t&&(0,Ze.showToast)({icon:"none",title:"小程序涉嫌违规该功能暂不可用"}),t}}var Ht=function(e={}){if(zt("choose_image"))(0,Q.YG)("chooseImage",e,"This api is temporarily unavailable");else{var t=(0,St.hI)(this);(0,Q.qu)(t)("chooseImage",(0,It.f0)({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},e),{beforeSuccess(e){var r;e.tempFileSizes?e.tempFiles=(e.tempFilePaths||[]).filter((e=>e)).map(((t,r)=>({path:t,size:e.tempFileSizes[r]}))):e.tempFiles=(e.tempFiles||[]).filter((e=>e.path&&"number"==typeof e.size)),delete e.tempFileSizes,null!==(r=e.tempFiles)&&void 0!==r&&r.length&&$t("chooseImage",e.tempFiles.map((e=>e.path)),t)}})}},Kt=(e={})=>{var t={src:"",quality:80};t=(0,It.l7)(t,e),(0,Q.r3)("compressImage",t,{src:" ",quality:80})&&((0,z.aI)()||/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)?(z.cj&&0===t.src.indexOf("/")&&t.src&&(t.src=t.src.slice(1)),(0,Q.IN)("compressImage",t)):(t.src=(0,Xe.sd)(Ve.Z.lastRoute,t.src,!1),(0,Q.IN)("compressImage",t)))},Jt=p(9112),Qt=function(e,t){return(0,Q.TG)(e,t,(function(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}),(function(e){return e}))}("getCloudFileUrl","qbase_commapi");var Yt=function(e,t,r){Xt({fileIds:e,type:t,success:r})},Zt=new Map,Xt=function(e){var{fileIds:t,type:r,success:a}=e,n=new Map,i=[],o=!1;if(t.forEach((e=>{var t=Zt.get(e);if(t){if(Date.now()<t.expireTime)return void(n.has(e)||(n.set(e,t.data),o||(o=!0)));Zt.delete(e)}/^(cloud):\/\//.test(e)&&i.push(e)})),0!==i.length){var s=0,l=function(e,t){for(var r=[],a=Math.ceil(e.length/t),n=0;n<a;n++)r.push(e.slice(n*t,(n+1)*t));return r}(t,50);Promise.all(l.map((e=>new Promise((t=>{Qt({data:{fileid_list:e,type:r},success(r){var a=r;if(a.baseresponse&&0===a.baseresponse.errcode?a.download_list.forEach((e=>{n.set(e.fileid,e),!Zt.has(e.fileid)&&e.max_age&&Zt.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):a.baseresponse?e.forEach((e=>{n.set(e,{download_url:e,service_errcode:a.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+a.baseresponse.errcode}),Zt.has(e)&&Zt.delete(e)})):e.forEach((e=>{n.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),Zt.has(e)&&Zt.delete(e)})),a.baseresponse&&a.baseresponse.stat&&a.baseresponse.stat.qbase_cost_time){var i=a.baseresponse.stat.qbase_cost_time;i>s&&(s=i)}t()},fail(){t()},complete(e){}})}))))).then((()=>{er(t,n,s,a)})).catch((e=>{"function"==typeof a&&a({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else o?er(t,n,0,a):"function"==typeof a&&a({data:t.map((e=>({url:e})))})};function er(e,t,r,a){var n=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var r=t.get(e);r?0===r.service_errcode?n.push({url:r.download_url}):n.push({url:e,code:r.service_errcode,msg:r.errmsg}):n.push({url:e,code:-1,msg:"NO_RESULT"})}else n.push({url:e})})),"function"==typeof a&&a({data:n,cost:r})}var tr=(e,t)=>{(0,Q.r3)("getImageInfo",e,{src:""})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)?(0,Q.IN)("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}}):/^(http|https):\/\//.test(e.src)?t({url:e.src,success(t){404!==t.statusCode?(e.src=t.tempFilePath,(0,Q.IN)("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})):(0,Q.YG)("getImageInfo",e,"image not found (404)")},fail(t){(0,Q.YG)("getImageInfo",e,"download image fail. reason: "+t.errMsg)}}):(e.src=(0,Xe.sd)(Ve.Z.lastRoute,e.src,!1),(0,Q.IN)("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})))},rr=p(6385),ar=p(4599),nr=p(9370),ir=!1,or=null;function sr(e,t){"tap"===e&&(ir=!0,or=t)}function lr(){setTimeout((()=>{ir=!1,or=null}),0)}function cr(){return(0,z.aI)()?ir:ir||nr.P3.checkTapMark()||__glassEaselAdapter__.checkTapMark()}function ur(){return(0,z.aI)()?or:or||nr.P3.checkTapSource()||__glassEaselAdapter__.checkTapSource()}var dr=0,pr={};x.default.onReady((()=>{dr=x.default.appType,pr=x.default.appLaunchInfo}));var hr=(e,t)=>{var r=[];return t.forEach((t=>{var a=e[t];"boolean"==typeof a&&(a=a?1:0),r.push(`${t}:${a}`)})),r.join("|")},fr=({name:e,data:t})=>{var r=void 0!==nr.hr?nr.hr.getCurrentPagesByDomain(""):[],a=r.length>0&&r[r.length-1].__route__||"",n=(0,rr._getCurrentNetworkType)(),i=x.default.SDKVersion||"",o="";switch(e){case"loadFontFace":o=hr(t,["family","source","global","scopes"]);break;case"requestSubscribeMessage":o=hr(t,["templateCount","templateType","operationType"]);break;case"openCustomerServiceChat":o=hr(t,["extInfo","corpId"]);break;case"Intl":o=hr(t,["callPath"]);break;case"translateSwitch":o=hr(t,["action","openType","show"])}var s=[Math.round(Date.now()/1e3),pr.scene,pr.sessionid||pr.sessionId,a,n,i,e,o,dr,1,""].join(",");b.reportKeyValue({key:"APIUse",value:s})},gr={};function vr(e,t={},r=!1,a=!1){r=r||cr(),b.reportKeyValue({key:"MiniprogramDoEvilIdentification",value:[e,encodeURIComponent(JSON.stringify(t)),r?1:0,Date.now(),a?1:0,b.getAppType()].join(",")})}(0,ar.vv)((()=>{var e=!1;Object.keys(gr).forEach((t=>{var r=gr[t];r.cameraFrame&&r.webgl&&(e=!0)})),e&&fr({name:"suspectAR",data:{}}),gr={}}));var mr=p(8386),yr=31,_r=788,br=new Map,wr=new Map;x.default.onReady(_e()((function*(){yield new Promise((e=>setTimeout(e,2e3)));var{data:e={}}=yield(0,kt.o)(),{api_cooltime_list:t=[]}=e;for(var{api:r,cooltime:a}of t)wr.set(r,a)})));var Ir=e=>{var t;return null!==(t=wr.get(e))&&void 0!==t?t:0},Sr=e=>{var t=Ir(e);if(t<=0)return!1;br.has(e)||br.set(e,0);var r=br.get(e),a=Date.now(),n=!0;if(a-r>=t)n=!1;else{var i=(0,mr.B7)();n=i<r||i>a}return n||br.set(e,a),n},kr=(e,t,r)=>{var a=Ir(e);(0,Q.YG)(t,r,`can't be invoked in ${a}ms until user taps`)},Cr={BlockFuncBits:0};function Tr(e){var t={openCustomerServiceConversation:1,openPage:2,setClipboardData:4,previewImage:8,previewMedia:16,navigateToMiniProgram:32,openUrlByExtBrowser:64,getPhoneNumber:128};if(!(e&&(0,R.HD)(e)&&(0,z.aI)()&&Object.keys(t).includes(e)))return!1;var r=t[e],a=!1;try{a=Boolean((null==Cr?void 0:Cr.BlockFuncBits)&r)}catch(e){}return a}var Pr="previewImage",Ar=(e={})=>{if(Tr(Pr))(0,Q.YG)(Pr,e,"no permission");else if((0,Q.r3)(Pr,e,{urls:[""]})){var t=!1;e.urls=e.urls.filter((e=>!(!/^https?:\/\//.test(e)&&!(0,Qe.J)("previewImageLocal"))||(t=!0,!1))),t&&console.error("local image url is rejected due to no permission");var r=Sr(yr),a=x.default.version,n=x.default.system,i="7.0.12"===a&&n.indexOf("iOS 13.4")>=0;for(var o of e.urls)if(/^\s*data:image\//.test(o)&&i)return void(0,Q.YG)(Pr,e,"url can not be base64 on iOS 13.4");var s=Object.assign({},e);s.urls=s.urls.slice(),s.referrerPolicy=s.referrerPolicy||"origin",Yt(s.urls,"image",(t=>{var a=s.urls;if(s.urls=[...t.data.map((e=>e.url))],s.current){var n=a.indexOf(s.current);n>=0&&(s.current=s.urls[n])}s.urls&&(s.urls=s.urls.map((e=>wt.LC.get(e)||e))),r?kr(yr,Pr,e):(0,Q.IN)(Pr,s),vr(Pr,{urls:s.urls||[]},!1,r)}))}},Er=function(e={}){e.filePath=wt.LC.get(e.filePath)||e.filePath,(0,Q.qu)((0,St.hI)(this))("saveImageToPhotosAlbum",e,{})};function Mr(){return"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function xr({UIArea:e,PositionID:t,ActionID:r,ExpID:a="",ContentType:n=0,ContentID:i=0,ExternInfo:o,ClassID:s=0,SceneID:l=108100}){if((0,z.aI)()){var c="portrait"===x.default.deviceOrientation?1:2;b.reportKeyValue({key:"GameAdsSkipCard",value:[(0,rr._getCurrentNetworkType)(),x.default.appLaunchInfo.scene,0,l,e,t,r,"",0,/landscape/.test(x.default.deviceOrientation)?2:1,c,0,"",a,0,"",Date.now(),0,"",n,i,0,o?encodeURIComponent(JSON.stringify(o)):"",s].join(",")})}}var Dr,Rr=(0,Ae.Vl)((e=>{var t=Object.assign({},e),r=[t.src];Yt(r,"image",(e=>(t.src=e.data[0].url,tr(t,Jt.S))))})),Lr=(0,Ae.Vl)(Kt),Nr=(0,Ae.Vl)(Nt.p),Or=(0,Ae.Vl)(Lt.ac),Br=1,jr=3,Fr=4,Wr=5,Ur=6,Gr=7,Vr=8,$r=9,qr=({action:e})=>{var t=x.default.appLaunchInfo||{},r=[x.default.appType+1e3,e,t.sessionid||t.sessionId||""].join(",");b.reportKeyValue({key:"ShareImageMenu",value:r})},zr=function(){var e=_e()((function*(e){var t=z.cj||(null==e?void 0:e.imgPath)&&0!==(null==e?void 0:e.imgPath.indexOf("/")),r=(0,Qe.J)("publishWeChatState")&&(0,z.aI)()&&t,a=yield new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),n=a.append("share-image",{imgPath:e.imgPath,height:e.height,width:e.width,style:e.style,actions:JSON.stringify("v2"===e.style?[{action:"cancel",text:"取消",imageSrc:"https://res.wx.qq.com/op_res/I78lneZf9jQBd0zqhgo1zWelcg-yn8SApFxCI6KX-35eBc7NuPJe6cxpl1qOZS-0CNdZKk5kyqVufCtOhxl15w"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/I78lneZf9jQBd0zqhgo1zUt7rZ_1QFq0P8vmPXK3GlTCdCSQQvc6ExvS4qiSAazFv7hP-R19EYcq-06GODx-zQ"},e.canShareToFriend&&(0,Qe.J)("shareImageMessage")?{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/I78lneZf9jQBd0zqhgo1zSnBsdfWBp_VHbQ4Ii2j_lSKUWY9yFIsixFCZdft5DlJ-wUz-4znIwq-LMcZR9LcKA"}:null].filter(Boolean):[e.canShareToFriend&&(0,Qe.J)("shareImageMessage")?{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg",imageDarkSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg"}:null,{action:r?"setWxState":"addToFavorites",text:r?"设为状态":"收藏",imageSrc:r?"https://res.wx.qq.com/op_res/fFpOsAWm683UVWQsw9J9UYpBqpOxsoE_Ueun95gpkPMi3oppYmfVprxvWxVib_R6phyqnXrC4JaTTgtVxW0jxg":"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng",imageDarkSrc:r?"https://res.wx.qq.com/op_res/fFpOsAWm683UVWQsw9J9UYpBqpOxsoE_Ueun95gpkPMi3oppYmfVprxvWxVib_R6phyqnXrC4JaTTgtVxW0jxg":"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/BgIIq_VgA_b30mPKYKb4CmnQemMBJMujsqfe6REw4MSf3i_ql8KU-FywDJLSRGRnxQOWW5VphGdXW0Yr2-Z-0g",imageDarkSrc:"https://res.wx.qq.com/op_res/G0_niEOxSlL24rHxfWQRrYEhHlR548A2lETw0Se_jFtJt3ZpHTIaPZPeINUGM3--cFoO5adG9q8jjhNfUzKUxA"}].filter(Boolean))}),i=_t((e=>{[ct.BottomBackButton,ct.NavigationBackInterceptionType,ct.NavigateBackCall].includes(e.type)&&n.handleClose()})),{action:o}=yield new Promise((e=>{["shareToFriend","addToFavorites","setWxState","saveToAlbum","cancel"].forEach((t=>{n.addListener(t,(()=>e({action:t})))}))}));return bt(i),{action:o}}));return function(t){return e.apply(this,arguments)}}(),Hr=function(){var e=_e()((function*(e,t){for(var r,a=0;a<=t;)try{return yield e()}catch(e){r=e,a+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}(),Kr=(e,t)=>new Promise(((r,a)=>setTimeout((()=>a(new Error(t))),e))),Jr=function(){var e=_e()((function*({url:e,width:t,height:r,pluginId:a}){var n=_e()((function*(){var a=t>r&&t>640?640:void 0,n=r>t&&r>640?640:void 0,{tempFilePath:i}=yield Lr({src:e,quality:60,compressedWidth:a,compressedHeight:n}),{data:o}=yield Nr({filePath:i});return o}))(),i=_e()((function*(){var{data:e}=yield(0,Q.Qh)({apiName:"webapi_getc2cauthkey",reqData:{},pluginId:a});return f.info("[requestImageReview] c2cAuthInfo",e),e}))(),[o,s]=yield Promise.all([n,i]),l=yield Hr(_e()((function*(){var e=yield Promise.race([Kr(4e3,"upload timeout"),Or({url:"https://finder-assistant.mp.video.tencent-cloud.com/snsuploadsimple",method:"POST",header:{"X-Arguments":[`apptype=${s.apptype}`,"filetype=20304",`openid=${x.default.appLaunchInfo.openId||""}`,"filekey=image",`timestamp=${s.timestamp}`,`authkey=${s.authkey}`].join("&"),"Content-Type":"application/x-www-form-urlencoded"},data:o})]);if(f.info("[requestImageReview] uploadc2c",e.data),200!==e.statusCode)throw new Error(`upload fail, ${e.data.retcode}`);return e.data.fileurl})),1),c=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).padStart(14,0);f.info("[requestImageReview] requestId",c),f.info("[requestImageReview] c2cUrl",l);var{data:u}=yield(0,Q.Qh)({apiName:"webapi_checkwxaposterurl",reqData:{url:l,request_id:c},pluginId:a});return f.info("[requestImageReview] checkResult",u),u}));return function(t){return e.apply(this,arguments)}}(),Qr=(0,Ae.NX)("showShareImageMenu",_e()((function*(e={},{pluginId:t}={}){var r=Date.now(),a=Date.now()+Mr();if(!(0,Qe.J)("showShareImageMenu"))throw new Error("no permission");(0,Q.zy)(e,{path:"1"});var{path:n,style:i,needShowEntrance:o,entrancePath:s="",desc:l}=e,c=wt.LC.get(n)||n;if(/^\w+:\/\//.test(c)){if(!/^wxfile:\/\//.test(c)&&!/^http:\/\/(tmp|store|usr)\//.test(c))throw new Error("invalid path")}else c="/"+((e,t=!0)=>(0,Xe.sd)(Ve.Z.lastRoute,e,t))(c,!1);var u,d=!0,{height:p,width:h,type:f}=yield Rr({src:c});o&&(u=Jr({url:c,width:h,height:p,pluginId:t}),d="gif"!==f);var g,{action:v}=yield zr({imgPath:c,height:p,width:h,style:(0,z.aI)()?"default":i,canShareToFriend:d}),m="";(0,R.HD)(s)&&(m=null!==(g=s.split("?")[1])&&void 0!==g?g:"");switch((0,z.aI)()&&xr({SceneID:108101,UIArea:10810100,PositionID:0,ActionID:1,ExternInfo:{image_url:c,query:m}}),qr({action:Br}),v){case"shareToFriend":(0,z.aI)()&&xr({SceneID:108101,UIArea:10810101,PositionID:0,ActionID:2});try{if(o){var y=!1,_=!1;try{(0,Ze.showLoading)({title:"正在生成海报"});var{errcode:b,hit_category:w}=yield Promise.race([Kr(1e4,"upload image timeout"),u]);y=0===b,_=!!w}catch(e){throw setTimeout((()=>{(0,Ze.showToast)({title:"当前网络状态不佳，请稍后再试"})})),qr({action:$r}),e}finally{(0,Ze.hideLoading)()}if(!y||!_)throw setTimeout((()=>{(0,Ze.showToast)({title:y?"无法生成海报":"海报内容违规，无法打开"})}),0),qr({action:Vr}),new Error("forbidden");yield(0,Q.bb)("shareImageMessage",{imagePath:c,needShowEntrance:o,entrancePath:"string"==typeof s&&s?(0,rt.Pp)(s):void 0}).then((()=>{(0,z.aI)()&&xr({SceneID:108101,UIArea:10810101,PositionID:1,ActionID:3,ExternInfo:{share_id:a}})}))}else yield(0,Q.bb)("shareImageMessage",{imagePath:c}).then((()=>{(0,z.aI)()&&xr({SceneID:108101,UIArea:10810101,PositionID:1,ActionID:3,ExternInfo:{share_id:a}})}));qr({action:jr})}catch(e){if("cancel"===e.message)return void qr({action:Fr});throw e}return;case"addToFavorites":return qr({action:Wr}),void(yield(0,Q.bb)("addImageToFavorites",{url:c}));case"setWxState":return(0,z.aI)()&&xr({SceneID:108101,UIArea:10810101,PositionID:2,ActionID:2}),void(yield new Promise((e=>{var t=Date.now(),r=c;(0,R.HD)(r)&&0===r.indexOf("/")&&z.cj&&(r=r.slice(1)),(0,Q.IN)("publishWeChatState",{state:"1019",imgUrl:r,desc:l,url:"string"==typeof s&&s?(0,rt.Pp)(s):void 0,success:()=>{(0,z.aI)()&&xr({SceneID:108101,UIArea:10810101,PositionID:3,ActionID:3,ExternInfo:{status_type:1,share_id:a,status_id:"1019",time:Date.now()-t,desc:l}})},complete:()=>{e()}})})));case"saveToAlbum":return(0,z.aI)()&&xr({SceneID:108101,UIArea:10810101,PositionID:4,ActionID:2}),qr({action:Ur}),yield(0,Q.bb)("saveImageToPhotosAlbum",{filePath:c}),void(z.cj&&(0,Ze.showToast)({icon:"success",title:"已保存"}));default:throw(0,z.aI)()&&xr({SceneID:108101,UIArea:10810101,PositionID:5,ActionID:2,ExternInfo:{stay_time:Date.now()-r}}),qr({action:Gr}),new Error("cancel")}}))),Yr=p(9196),Zr=(e={})=>{if((0,Qe.J)("sendBizRedPacketForOpen")){var t=(0,Yr.r)().scene;if(1047!==t&&1124!==t&&1011!==t&&1025!==t){var r=`sendBizRedPacket:fail scene ${t} not support.`;return e.fail&&e.fail({errMsg:r}),void(e.complete&&e.complete({errMsg:r}))}}(0,Q.IN)("sendBizRedPacket",e,{})},Xr=(e={})=>{(0,Q.IN)("sendRedPacket",e,{})},ea=(e={})=>{(0,Q.IN)("openRedPacket",e,{})},ta=Object.assign,ra=Object.create,aa=a.prototype.call.bind(String.prototype.toString),na=a.prototype.call.bind(String.prototype.indexOf),ia=(e={})=>{if((0,Q.r3)("showRedPackage",e,{url:""}))if((0,Qe.J)("showRedPackage")){var t=ra(null);ta(t,e),t.url=aa(t.url),t.isNativeStyle=!0,0===na(t.url,"https://support.weixin.qq.com/cgi-bin/mmsupport-bin/showredpacket")?(0,Q.IN)("private_openUrl",t,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","showRedPackage")}}):(0,Q.YG)("showRedPackage",t,"url is invalid")}else(0,Q.YG)("showRedPackage",e,"no permission")},oa=p(2900),sa=e=>{(0,Q.IN)("login",(0,It.f0)(e,{requestInQueue:!1}),{beforeAll(e){delete e.clientInfo}})},la=e=>{Dr&&clearTimeout(Dr),(0,Q.IN)("refreshSession",e,{beforeSuccess:e=>{Dr=setTimeout((()=>{(0,Q.IN)("refreshSession")}),1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:e=>{e.errMsg=e.errMsg.replace("refreshSession","checkSession")}})},ca=function(e={}){var t="setPluginLoginAuth",r=(0,St.hI)(this),a=Object.assign({},e,{miniprogram_appid:x.default.accountInfo.appId,auth_status:1}),{success:n,fail:i}=(0,Q.Rn)(e,t);(0,Q.yD)({sdkApiName:t,apiName:"webapi_plugin_setauth",reqData:a,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,n(e)},fail:i})},ua=p(9806),da={cancel:0,accept:1},pa={scopes:{"scope.devicePanel":{api:"authorize",tmpl:"device-panel",checkArgs:()=>({}),checkApi:{name:"webapi_wx_authorize",request:({scope:e})=>({scope:e}),confirm:e=>e.data.need_confirm},opApi:{name:"webapi_wx_authorize_confirm",request:({scope:e,opType:t})=>({scope:e,opt:t?1:2}),success:()=>{}},genData:()=>({wording1:"自动同步所有设备到「发现 - 小程序 - 设备」中",wording2:"同步后，可直接控制使用设备。"})}}},ha=["scope.userLocation","scope.userFuzzyLocation"],fa=(e="gcj02")=>{var t,r=null===x.default||void 0===x.default?void 0:x.default.appLaunchInfo,a=null!==(t=Ve.Z.scene)&&void 0!==t?t:null==r?void 0:r.scene;if(1242===a||1245===a){var n,i,o=null==r||null===(n=r.referrerInfo)||void 0===n||null===(i=n.privateExtraData)||void 0===i?void 0:i.location;if(o)return"gcj02"===e?{...o}:_a(o)}return null},ga=(e,{type:t}={},r=!0)=>r?{...e,type:t,speed:0,altitude:0,accuracy:10,verticalAccuracy:10,horizontalAccuracy:10}:{...e,type:t},va=Math.PI,ma=6378245,ya=.006693421622965943,_a=e=>{if(Ia(e.longitude,e.latitude))return{...e};var{latitude:t,longitude:r}=e,a=t/180*va,n=ba(r-105,t-35),i=wa(r-105,t-35),o=Math.sin(a);o=1-ya*o*o;var s=Math.sqrt(o);return n=180*n/(ma*(1-ya)/(o*s)*va),{longitude:2*r-(r+(i=180*i/(ma/s*Math.cos(a)*va))),latitude:2*t-(t+n)}},ba=(e,t)=>{var r=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*va)+20*Math.sin(2*e*va))/3,r+=2*(20*Math.sin(t*va)+40*Math.sin(t/3*va))/3,r+=2*(160*Math.sin(t/12*va)+320*Math.sin(t*va/30))/3},wa=(e,t)=>{var r=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*va)+20*Math.sin(2*e*va))/3,r+=2*(20*Math.sin(e*va)+40*Math.sin(e/3*va))/3,r+=2*(150*Math.sin(e/12*va)+300*Math.sin(e/30*va))/3},Ia=(e,t)=>!(e>73.66&&e<135.05&&t>3.86&&t<53.55),Sa=p(9074);function ka({UIArea:e=0,PositionID:t=0,ActionID:r,SourceID:a="",Time:n,ExternInfo:i,AppType:o}){var s={key:"PrivacyPopup",value:[(0,rr._getCurrentNetworkType)(),x.default.appLaunchInfo.scene,0,101100,e,t,r,"",0,0,"",a,"","",0,"",n,0,"",0,1,0,i?encodeURIComponent(JSON.stringify(i)):"",o,101].join(",")};b.reportKeyValue(s)}var Ca=p(9133),Ta=p(7412),Pa=p(4515),Aa=(0,Ta.t)(),Ea=Aa.readFile,Ma=Aa.writeFile,xa=Aa.access,Da=Aa.mkdir,Ra={},La=null,Na=Pa.MV.PRIVACY_DIR.path,Oa=Na+"/scopeState.txt";function Ba(e){var{apiName:t,state:r}=e,a=JSON.stringify(r);if("{}"!==a){var n=()=>{Ma({filePath:Oa,data:a,encoding:"utf8",success(e){},fail(e){}})};xa({path:Na,success(){n()},fail(e){1300002===e.errno&&Da({dirPath:Na,recursive:!1,success(){n()},fail(e){}})}})}}function ja(){return ja=_e()((function*(e){e.apiName;return null===La&&(La=new Promise((e=>{Ea({filePath:Oa,encoding:"utf8",position:0,success(t){var r;t.data;try{r=JSON.parse(t.data)}catch(e){(0,Ca.v)(`getPrivacyState res data parse error: ${t.data}`),r={}}e({rawData:t.data,objData:r})},fail(t){e({rawData:"{}",objData:{}})}})}))),La})),ja.apply(this,arguments)}var Fa,Wa=(e={})=>{var t=e.success,r=e.complete,a={data:""+(z.gm?0:"number"==typeof x.default.appLaunchInfo.appversion?x.default.appLaunchInfo.appversion:"number"==typeof x.default.accountInfo.appVersion?x.default.accountInfo.appVersion:0),errMsg:"getAppContact:ok"};t&&t(a),r&&r(a)},Ua=e=>{if((0,Q.r3)("getBackgroundFetchData",e,{fetchType:""}))if("pre"===e.fetchType||"periodic"===e.fetchType)try{(0,Q.IN)("getBackgroundFetchData",{fetchType:e.fetchType,cleanCache:e.cleanCache,success(t){(0,Q.FE)({name:"getBackgroundFetchData",args:e,res:t})},fail(t){(0,Q.FE)({name:"getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`getBackgroundFetchData:fail ${t.message}`})}else(0,Q.YG)("getBackgroundFetchData",e,"invalid fetchType")},Ga=e=>{Fa=e};(0,Q.jQ)("onBackgroundFetchData",(e=>{e.errMsg="onBackgroundFetchData:ok","function"==typeof Fa&&_.surroundThirdByTryCatch(Fa,"at onBackgroundFetchData callback function")(e)}));var Va,$a=(e={})=>{(0,Q.r3)("setBackgroundFetchToken",e,{token:""})&&(0,Q.IN)("setBackgroundFetchToken",e)},qa=(e={})=>{(0,Q.IN)("getBackgroundFetchToken",e)},za=e=>{try{(0,Q.IN)("private_getBackgroundFetchData",{fetchType:e.fetchType,success(t){(0,Q.FE)({name:"private_getBackgroundFetchData",args:e,res:t})},fail(t){(0,Q.FE)({name:"private_getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`private_getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`private_getBackgroundFetchData:fail ${t.message}`})}},Ha=e=>{e&&Sa.GF.requireAuthJSApiList,e&&Sa.GF.requireAuthPipelineList,e&&Sa.GF.requireAuthOuterScopeList,(0,Q.IN)("setNeedsAcceptPrivacy",{needPrivacyJsApis:e?Sa.GF.requireAuthJSApiList:[],needPrivacyPipes:e?Sa.GF.requireAuthPipelineList:[],needPrivacyAuths:e?Sa.GF.requireAuthOuterScopeList:[],success:e=>{},fail:e=>{}})},Ka=(0,ua.Fr)(Wa),Ja=!1,Qa=()=>(Ja||(Ja=!0,Va=Promise.any([Ya(),Za()]).then((e=>{var t,r,a,n,i,o,s,l,c,u;e.isFetchedData,Sa.GF.isCache=!0,Sa.GF.protoRes=e;var d=Sa.GF.protoRes.data,p=d.unauth_scope_list||[],h=d.need_popup_scope_list||[],f=d.min_popup_interval;Sa.GF.minGap=f,Sa.GF.forceOffcial=d.force_official,null!=d&&null!==(t=d.api_info)&&void 0!==t&&t.jsapi_list&&(Sa.GF.requireAuthJSApiList=d.api_info.jsapi_list,Sa.GF.requireAuthJSApiListMap=Sa.GF.requireAuthJSApiList.reduce(((e,t)=>(e[t]=1,e)),{})),null!=d&&null!==(r=d.api_info)&&void 0!==r&&r.pipe_list&&(Sa.GF.requireAuthPipelineList=d.api_info.pipe_list,Sa.GF.requireAuthPipelineListMap=Sa.GF.requireAuthPipelineList.reduce(((e,t)=>(e[t]=1,e)),{})),null!=d&&null!==(a=d.api_info)&&void 0!==a&&a.outer_scope_list&&(Sa.GF.requireAuthOuterScopeList=d.api_info.outer_scope_list,Sa.GF.requireAuthOuterScopeListMap=Sa.GF.requireAuthOuterScopeList.reduce(((e,t)=>(e[t]=1,e)),{})),1===Sa.GF.forceOffcial&&(Sa.GF.useCustomPrivacyAuthorization=!1),(d.popup_interval_item_list||[]).forEach((e=>{Sa.GF.popUpInterval[e.scope]=e.min_popup_interval}));var g=d.wording,v=Sa.GF.regExp,m=null==g?void 0:g.privacy_protocol_desc,y=null===(n=m)||void 0===n?void 0:n.match(v);Sa.GF.customUrl=null===(i=y)||void 0===i?void 0:i[2],Sa.GF.urlTitle=null===(o=y)||void 0===o?void 0:o[3],Sa.GF.standardInfo.title=g.title_wording,y=null===(s=m=null==g?void 0:g.desc)||void 0===s?void 0:s.match(v),Sa.GF.standardInfo.desc1=null===(l=y)||void 0===l?void 0:l[1],Sa.GF.standardInfo.urlTitle=null===(c=y)||void 0===c?void 0:c[3],Sa.GF.standardInfo.desc2=null===(u=y)||void 0===u?void 0:u[4],Sa.GF.standardInfo.allow=g.allow_wording,Sa.GF.standardInfo.cancel=g.cancel_wording,Sa.GF.standardInfo;var _=d.action_code;Sa.GF.actionCache=_,Sa.GF.banReasonCache=d.ban_reason,Object.assign(Ra,Sa.sg),p.forEach((e=>{Sa.GF.unauthScopeCache[e]=!1,Ra[e]=!1})),Sa.GF.unauthScopeCache,Sa.GF.hasAgree||(Sa.GF.needScopeCache=h),Sa.GF.needScopeCache,Sa.GF.needScopeCache.forEach((e=>{Ra[e]=!1})),Ba({apiName:"getPrivacyAuthinfoPromise",state:Ra}),1!==Sa.GF.actionCache||Sa.GF.useCustomPrivacyAuthorization||Ha(!0)}))),Va),Ya=()=>new Promise(((e,t)=>{z.gm?t({errMsg:"devtools not support private_getBackgroundFetchData"}):za({fetchType:"1",success:r=>{if(r.fetchedData)try{var a=JSON.parse(r.fetchedData);e({isFetchedData:!0,data:a})}catch(e){f.error("parse private_getBackgroundFetchData fail",e),t(e)}else t({errMsg:"empty fetchedData"})},fail:e=>{f.error("backgroundfetch privacy fail",e),t(e)}})})),Za=()=>Ka().catch((()=>({}))).then((e=>e.data?JSON.parse(e.data):0)).then((e=>{var t,r={popup_type:Sa.GF.useCustomPrivacyAuthorization?1:0,version:3,libVersion:x.default.SDKVersion,use_privacy_check:null!==(t=x.default.__usePrivacyCheck__)&&void 0!==t&&t,app_version:e};return(0,Q.Qh)({apiName:"webapi_getwxauserprivacyauthinfo",sdkApiName:"getwxauserprivacyauthinfo",reqData:r}).then((e=>e))})),Xa=p(8605);function en(e,t,r){return c.publish(e,t,r)}var tn=p(2352),rn=function(){var e=_e()((function*(e){var{event:t,env_check:r}=e,a="reportPrivacyAuthorization";switch(t){case"exposureAuthorization":break;case"agree":var n,i;if(Sa.GF.needScopeCache.forEach((e=>{Ra[e]=!0})),Sa.GF.needScopeCache=[],Sa.GF.hasAgree=!0,Ha(!1),Ba({apiName:a,state:Ra}),ka({UIArea:Sa.GF.useCustomPrivacyAuthorization?10110003:10110002,PositionID:1,ActionID:6,AppType:1004,Time:Date.now()-Sa.GF.popUpTime,ExternInfo:Sa.GF.externInfo}),!1===Sa.GF.isCache)try{yield Qa()}catch(e){return void e.errors}var o=null===(n=Sa.GF.protoRes)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.need_popup_scope_list;if(o&&0!==o.length){var s={opt:1,auth_scope_list:o,env_check:r};(0,Q.Qh)({apiName:"webapi_setwxauserprivacyauthinfo",sdkApiName:"setwxauserprivacyauthinfo",reqData:s}).then((e=>{})).catch((e=>{}))}break;case"disagree":ka({UIArea:Sa.GF.useCustomPrivacyAuthorization?10110003:10110002,PositionID:2,ActionID:7,AppType:1004,Time:Date.now()-Sa.GF.popUpTime,ExternInfo:Sa.GF.externInfo})}}));return function(t){return e.apply(this,arguments)}}(),an=e=>{!Sa.GF.didReportForPrivacyCheckBox&&1===Sa.GF.actionCache&&Sa.GF.useCheckBoxOnClientPopup&&(Sa.GF.didReportForPrivacyCheckBox=!0,rn({event:"agree"}))};Xa.Wg.on("success",an),(0,tn.Ld)("authPopUpSuccess",an);new Set;var nn,on,sn=p(4081),ln=p(5087),cn=e=>(Sa.GF.popUpTime=Date.now(),ka({UIArea:10110003,PositionID:0,ActionID:1,AppType:1004,Time:0,ExternInfo:Sa.GF.externInfo}),new Promise((t=>{nn(t,e)}))),un=p(9195),dn=function(){var e=_e()((function*(e={}){pn(e)}));return function(){return e.apply(this,arguments)}}(),pn=function(){var e=_e()((function*(e={}){if(!1===Sa.GF.isCache)try{yield Qa()}catch(e){e.errors}ka({UIArea:Sa.GF.useCustomPrivacyAuthorization?10110003:10110002,PositionID:3,ActionID:2,AppType:1004,Time:Date.now()-Sa.GF.popUpTime,ExternInfo:Sa.GF.externInfo}),null!==Sa.GF.customUrl?(0,Q.IN)("private_openUrl",{url:Sa.GF.customUrl,isNativeStyle:!0,success:e.success,fail:t=>{t.errMsg+=" invalid url: "+Sa.GF.customUrl,e.fail(t)},complete:e.complete},{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openPrivacyContract")}}):(0,Q.YG)("openPrivacyContract",e,"url is null")}));return function(){return e.apply(this,arguments)}}(),hn=p(298),fn=null,gn=[],vn=(0,ua.Fr)((({title:e,desc1:t,urlTitle:r,desc2:a,allow:n,cancel:i,success:o})=>{Sa.GF.popUpTime=Date.now(),ka({UIArea:10110002,PositionID:0,ActionID:1,AppType:1004,Time:0,ExternInfo:Sa.GF.externInfo});if(Sa.GF.isShowing)gn.push(o);else{Sa.GF.isShowing=!0;var s=e=>{};(0,hn.Qq)(s),__sclEngine__.initScl((l=>{on=_t((()=>{}),[1,2,3]),(fn=l.mainRoot.append("privacy-pop",{title:e,desc1:t,urlTitle:r,desc2:a,confirmText:n,cancelText:i,safeAreaHeight:Sa.GF.safeAreaHeight},{underMenuButton:!0})).addListener("jump",(({detail:e})=>{"jump"===e.reason&&pn({success:()=>{},fail:e=>{}})})),fn.addListener("destroy",(({detail:e})=>{if(bt(on),(0,hn.tR)(s),"cancel"===e.reason){rn({event:"disagree"});var t={success:!1,errMsg:"privacy permission is not authorized",errno:sn.Nac};o(t),gn.forEach((e=>{e(t)})),Sa.GF.isShowing=!1,gn=[];try{l.mainRoot.remove(fn)}catch(e){f.error("remove error:",e)}fn=null}else{rn({event:"agree"});var r={success:!0};o(r),gn.forEach((e=>{e(r)})),Sa.GF.isShowing=!1,gn=[];try{l.mainRoot.remove(fn)}catch(e){}fn=null}}))}),!0)}})),mn=0,yn=e=>{var t=Date.now();return Sa.GF.isShowing||(t-mn)/1e3>Sa.GF.officialPrivacyAuthorizationShowingGap?(mn=t,vn(e)):(Sa.GF.officialPrivacyAuthorizationShowingGap,{success:!1,errMsg:"privacy permission is not authorized in gap",errno:sn.Nac})},_n=(Symbol("Cache"),0),bn=1,wn=2,In="weakNetwork",Sn="always",kn="none",Cn=["ALL","GET","POST","PATCH","PUT","DELETE"],Tn=6048e5,Pn=2592e6,An=1157,En=1158,Mn=1133,xn={ENTER_WEAK_NETWORK:1,EXIT_WEAK_NETWORK:2,REQUEST:3,EXIT_MINIPROGRAM:4,USE_CACHE_MANAGER:5,CACHE_MATCH:6,ENTER_WEAK_NETWORK_4_OLD:7,EXIT_WEAK_NETWORK_4_OLD:8,REQUEST_4_OLD:9,EXIT_MINIPROGRAM_4_OLD:10,PROXY_AUTHORIZE:11,PROXY_OPERATE_WX_DATA:12,PROXY_AUTHORIZE_SUCCESS:13,CALL_CONTAINER:20},Dn=null;x.default.onReady((()=>{setTimeout((()=>{!function(e){var t;null===(t=Dn)||void 0===t||t(e)}({duration:0,startTime:0})}))}));var Rn,Ln,Nn=new Promise((e=>{Dn=e})),On=function(e){return e[e.AS_Config_Ready_Begin=0]="AS_Config_Ready_Begin",e[e.AS_Config_Ready_End=1]="AS_Config_Ready_End",e[e.App_onLaunch=2]="App_onLaunch",e[e.App_onLaunch_End=3]="App_onLaunch_End",e[e.App_onShow=4]="App_onShow",e[e.App_onShow_End=5]="App_onShow_End",e[e.Evaluate_Script_Begin=6]="Evaluate_Script_Begin",e[e.Evaluate_Script_End=7]="Evaluate_Script_End",e[e.Evaluate_Script_Before_InitReady=8]="Evaluate_Script_Before_InitReady",e[e.Evaluate_Entry_Script=9]="Evaluate_Entry_Script",e[e.SubPackage_Ready_Begin=10]="SubPackage_Ready_Begin",e[e.SubPackage_Ready_End=11]="SubPackage_Ready_End",e[e.AppRoute_Begin=12]="AppRoute_Begin",e[e.AppRoute_End=13]="AppRoute_End",e[e.AppRoute_Callback_Begin=14]="AppRoute_Callback_Begin",e[e.AppRoute_Callback_End=15]="AppRoute_Callback_End",e[e.AppRoute_AppServiceEngine=16]="AppRoute_AppServiceEngine",e[e.Open_New_Page=17]="Open_New_Page",e[e.Publish_Init_Data=18]="Publish_Init_Data",e[e.Send_Init_Data=19]="Send_Init_Data",e[e.Recv_Init_Ready=20]="Recv_Init_Ready",e[e.AppRoute_Done_Begin=21]="AppRoute_Done_Begin",e[e.AppRoute_Done_End=22]="AppRoute_Done_End",e[e.TriggerAppRoute=23]="TriggerAppRoute",e[e.Page_onLoad=24]="Page_onLoad",e[e.Page_onLoad_End=25]="Page_onLoad_End",e[e.Page_onShow=26]="Page_onShow",e[e.Page_onShow_End=27]="Page_onShow_End",e[e.Evaluate_WAWebview_Begin=28]="Evaluate_WAWebview_Begin",e[e.Evaluate_WAWebview_End=29]="Evaluate_WAWebview_End",e[e.WV_Config_Ready_Begin=30]="WV_Config_Ready_Begin",e[e.WV_Config_Ready_End=31]="WV_Config_Ready_End",e[e.Evaluate_PageFrame_Begin=32]="Evaluate_PageFrame_Begin",e[e.Evaluate_PageFrame_End=33]="Evaluate_PageFrame_End",e[e.Evaluate_Subpackage_PageFrame_Begin=34]="Evaluate_Subpackage_PageFrame_Begin",e[e.Evaluate_Subpackage_PageFrame_End=35]="Evaluate_Subpackage_PageFrame_End",e[e.Set_CSS_Begin=36]="Set_CSS_Begin",e[e.Set_CSS_End=37]="Set_CSS_End",e[e.Generate_Func_Ready=38]="Generate_Func_Ready",e[e.Recv_Init_Data=39]="Recv_Init_Data",e[e.Init_Render_Begin=40]="Init_Render_Begin",e[e.Init_Render_End=41]="Init_Render_End",e[e.VD_Init_Render_Begin=42]="VD_Init_Render_Begin",e[e.VD_Init_Render_End=43]="VD_Init_Render_End",e[e.Send_Init_Ready=44]="Send_Init_Ready",e[e.Init_Ready_Rendering_Cache=45]="Init_Ready_Rendering_Cache",e[e.Init_Ready_Prerender=46]="Init_Ready_Prerender",e[e.Init_Ready_After_Rendering_Cache=47]="Init_Ready_After_Rendering_Cache",e[e.Init_Ready_Client=48]="Init_Ready_Client",e[e.Real_Init_Ready=49]="Real_Init_Ready",e[e.First_User_Interaction=50]="First_User_Interaction",e[e.FP=51]="FP",e[e.FCP=52]="FCP",e[e.LCP=53]="LCP",e[e.First_Start_Render=54]="First_Start_Render",e[e.Raster_Finish=55]="Raster_Finish",e}({}),Bn=[],jn={};var Fn=(null===(Rn=o)||void 0===Rn||null===(Ln=Rn.env)||void 0===Ln?void 0:Ln.typeStr)||"UNKNOWN";function Wn(e,t,r={}){r.noRecord||Bn.push([e,t]),jn[e]=t,r.noLog||f.info(`[CheckPoint][${Fn}][${function(e){return 0===e?"N/A":Math.round(e-(x.default.coldLaunchTime||0))}(t)}] ${On[e]} @ ${t}`)}new Set;function Un(e){return jn[e]||0}var Gn=!1,Vn=!1,$n=0,qn=!1,zn="",Hn=0,Kn=0,Jn=0,Qn=[xn.ENTER_WEAK_NETWORK_4_OLD,xn.EXIT_WEAK_NETWORK_4_OLD,xn.REQUEST_4_OLD,xn.EXIT_MINIPROGRAM_4_OLD],Yn=[xn.ENTER_WEAK_NETWORK,xn.EXIT_WEAK_NETWORK,xn.EXIT_MINIPROGRAM,xn.ENTER_WEAK_NETWORK_4_OLD,xn.EXIT_WEAK_NETWORK_4_OLD,xn.EXIT_MINIPROGRAM_4_OLD],Zn=!1,Xn=0,ei=!1;(0,et.HM)(((e={})=>{Hn=Date.now(),qn=Vn,ei=Zn,zn=e.path||e.rawPath||""})),(0,ar.vv)(((e={})=>{3===e.targetAction&&function(){Vn&&ti(xn.EXIT_MINIPROGRAM,null,{duration:Date.now()-$n});Zn&&ti(xn.EXIT_MINIPROGRAM_4_OLD,null,{duration:Date.now()-Xn})}(),Gn&&(ti(xn.CACHE_MATCH,null,{matchCount:Kn,matchSuccessCount:Jn}),Kn=0,Jn=0)}));var ti=function(){var e=_e()((function*(e,t,{isSuccess:r=!1,costTime:a=0,duration:n=0,matchCount:i=0,matchSuccessCount:o=0,extra1:s}={}){t=t||(0,rr._getCurrentNetworkType)()||"";var l,c={},u=yield Nn;-1!==Yn.indexOf(e)&&(l=Un(On.AppRoute_Begin),c={fr:Un(On.Real_Init_Ready)-l,fp:Un(On.FP)-l,fcp:Un(On.FCP)-l});var d=-1!==Qn.indexOf(e),p=d?ei:qn,h=[t,0,(d?Zn:Vn)?1:0,e,encodeURIComponent(zn),n,r?1:0,a,p?1:0,c.fr||0,c.fp||0,c.fcp||0,(null==u?void 0:u.duration)||0,i,o,s||""].join(",");b.reportKeyValue({key:"MiniprogramOnWeakNetwork",value:h})}));return function(t,r){return e.apply(this,arguments)}}();function ri(e){Vn&&ti(xn.CALL_CONTAINER,null,e)}function ai(e){Kn++,e&&Jn++}function ni(e,t){ti(e,null,{extra1:t})}function ii(e){Zn||(Xn=Date.now(),Zn=!0,!ei&&Xn-Hn<5e3&&(ei=!0),ti(xn.ENTER_WEAK_NETWORK_4_OLD,e))}function oi(e){Zn&&(Zn=!1,ti(xn.EXIT_WEAK_NETWORK_4_OLD,e,{duration:Date.now()-Xn}))}(0,rr._onNetworkTypeReady)((e=>{"offline"!==e&&"none"!==e||ii(e)})),(0,rr.onNetworkStatusChange)((e=>{var{networkType:t=""}=e;"offline"===t||"none"===t?ii(t):oi(t)})),(0,rr.onNetworkWeakChange)((e=>{e.weakNet?ii():oi()}));try{x.default.onReady((()=>{(0,un.getSystemInfoAsync)({success(e){var t,r,a=e;Sa.GF.externInfo.deviceOrientation="portrait"===a.deviceOrientation?1:2,Sa.GF.externInfo.screenWidth=a.screenWidth,Sa.GF.externInfo.screenHeight=a.screenHeight,Sa.GF.safeAreaHeight=a.windowHeight-(null!==(t=null===(r=a.safeArea)||void 0===r?void 0:r.height)&&void 0!==t?t:0)}})}))}catch(e){}var si,li=function(){var e=_e()((function*(e,t){if((0,z.tK)()||Vn)return Promise.resolve({success:!0});var r;if(!Sa.GF.isCache){var{rawData:a,objData:n}=yield function(e){return ja.apply(this,arguments)}({apiName:"checkPrivacy"});if(Object.assign(Ra,n),"{}"!==a)if(Sa.vz,function(e,t){return e.every((e=>t[e]))}(Sa.vz[e][0],Ra))return Qa(),Promise.resolve({success:!0});try{yield Qa()}catch(e){e.errors}}switch(Sa.GF.needScopeCache,Sa.GF.unauthScopeCache,Sa.GF.actionCache,Sa.GF.actionCache){case 0:return Promise.resolve({success:!0});case 1:var i=Sa.vz[e][0];if(!Sa.GF.useCustomPrivacyAuthorization){var o,s,l=i[0];i.some((e=>!!Sa.GF.needScopeCache.includes(e)&&(l=e,!0))),Sa.GF.officialPrivacyAuthorizationShowingGap=null!==(o=null!==(s=Sa.GF.popUpInterval[l])&&void 0!==s?s:Sa.GF.minGap)&&void 0!==o?o:Sa.GF.officialPrivacyAuthorizationShowingGap}if(Sa.GF.officialPrivacyAuthorizationShowingGap,function(e,t){return e.some((e=>!1===t[e]))}(i,Sa.GF.unauthScopeCache))return Promise.resolve({success:!1,errMsg:"api scope is not declared in the privacy agreement",errno:sn.KPX});var c=function(e,t){return e.some((e=>t.includes(e)))}(i,Sa.GF.needScopeCache);return c?"input.nickname"===e?{success:!1,errMsg:"input nickname component will degrade as input component when privacy permission is unauthorized ",errno:sn.Nac}:Sa.GF.useCustomPrivacyAuthorization?cn(e):(0,Qe.J)("disablePrivacyOfficialPopup")?{success:!1,errMsg:"privacy permission is not authorized (disablePrivacyOfficialPopup)",errno:sn.Nac}:((e,t)=>{if(z.cj||z.wZ){if("authorize"===t)return Sa.GF.requireAuthOuterScopeListMap[e],Sa.GF.requireAuthOuterScopeListMap[e];var r=Sa.vz[e],[a,n,i]=r;return n?(Sa.GF.requireAuthJSApiListMap[n],Sa.GF.requireAuthJSApiListMap[n]):!!i&&(Sa.GF.requireAuthPipelineListMap[i],Sa.GF.requireAuthPipelineListMap[i])}return!1})(e,t)?(Sa.GF.useCheckBoxOnClientPopup=!0,Promise.resolve({success:!0})):yn({title:Sa.GF.standardInfo.title,desc1:Sa.GF.standardInfo.desc1,urlTitle:Sa.GF.standardInfo.urlTitle,desc2:Sa.GF.standardInfo.desc2,allow:Sa.GF.standardInfo.allow,cancel:Sa.GF.standardInfo.cancel}):Promise.resolve({success:!0});case 2:return r=sn.jv5,Sa.GF.banReasonCache&&null!==Sa.GF.banReasonCache?Promise.resolve({success:!1,errMsg:Sa.GF.banReasonCache,errno:r}):Promise.resolve({success:!1,errMsg:"privacy interface is banned",errno:r})}}));return function(t,r){return e.apply(this,arguments)}}(),ci=function(){var e=_e()((function*(e={}){var t="getPrivacySetting";if(!1===Sa.GF.isCache)try{yield Qa()}catch(e){e.errors}var r=1===Sa.GF.actionCache;Sa.GF.actionCache,r&&Sa.GF.needScopeCache.length>0?(0,Q.FE)({name:t,args:e,res:{needAuthorization:!0,privacyContractName:Sa.GF.urlTitle}}):(0,Q.FE)({name:t,args:e,res:{needAuthorization:!1,privacyContractName:Sa.GF.urlTitle}})}));return function(){return e.apply(this,arguments)}}(),ui=function(){var e=_e()((function*(e){if(!Sa.GF.isCache)try{yield Qa()}catch(e){e.errors}var t=1===Sa.GF.actionCache;return t&&Sa.GF.needScopeCache.length>0?Sa.GF.useCustomPrivacyAuthorization?cn(e):(Sa.GF.officialPrivacyAuthorizationShowingGap=0,yn({title:Sa.GF.standardInfo.title,desc1:Sa.GF.standardInfo.desc1,urlTitle:Sa.GF.standardInfo.urlTitle,desc2:Sa.GF.standardInfo.desc2,allow:Sa.GF.standardInfo.allow,cancel:Sa.GF.standardInfo.cancel})):(Sa.GF.needScopeCache.length,Promise.resolve({success:!0}))}));return function(t){return e.apply(this,arguments)}}(),di=e=>{ui("requirePrivacyAuthorize").then((({success:t,errMsg:r,errno:a})=>{!0===t?(0,Q.FE)({name:"requirePrivacyAuthorize",args:e,success:!0,errno:a,errMsg:r}):(0,Q.FE)({name:"requirePrivacyAuthorize",args:e,success:!1,errno:a,errMsg:r})}))},pi=p(1708),hi=p(3385),fi="",gi=(e,t,r,a)=>{var n,i,o=[(0,pi.k)()+" "+(0,pi.n)(),1,(null===nr.hr||void 0===nr.hr?void 0:nr.hr.getCurrentRoute())||"",(n=(0,hi.Y)().sessionid||(0,hi.Y)().sessionId,i=fi===n,fi=n,!i)?1:0,e,t?1:0,a?1:2,r].join(",");b.reportKeyValue({key:"Authorize",value:o})},vi=(e={})=>{var t=Object.assign({},e);t.style=t.type,(0,Q.IN)("vibrateShort",t,{})},mi=(e={})=>{(0,Q.IN)("vibrateLong",e,{})},yi=null;x.default.onReady((()=>{var e,t,r;Ei(null===x.default||void 0===x.default||null===(e=x.default.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.skip_auth_item_list),null!==(r=wi)&&void 0!==r&&r.length&&(Ii=Pi())}));var _i=!1,bi=!1,wi=[],Ii=[],Si={},ki={"scope.userLocation":1,"scope.userLocationBackground":2,"scope.userFuzzyLocation":3,"scope.record":8,"scope.camera":9},Ci={1:"scope.userLocation",2:"scope.userLocationBackground",3:"scope.userFuzzyLocation",8:"scope.record",9:"scope.camera"},Ti={getLocation:"scope.userLocation",getFuzzyLocation:"scope.userFuzzyLocation",startLocationUpdate:"scope.userLocation",startLocationUpdateBackground:"scope.userLocationBackground"},Pi=()=>{var e=[];return 0===wi.length?e:(wi.forEach((t=>{e.push(...t.scope_id_list),Si[t.path]=t.scope_id_list.map((e=>Ci[e]))})),Array.from(new Set(e)))},Ai=e=>ki[e],Ei=e=>{null!=e&&e.length&&(wi=e)},Mi=()=>_i,xi=(e=!1,t="")=>{bi=!0;var r=Pi();return new Promise((a=>{__sclEngine__.initScl((n=>{var i,o;si=_t((()=>{yi.closed(),bi=!1,bt(si)}),[1,2,3]),(yi=n.mainRoot.append("emergency-popup",{title:"获取以下信息用于急救通话",icon:(null===(i=x.default.accountInfo)||void 0===i?void 0:i.icon)||"",nickname:(null===(o=x.default.accountInfo)||void 0===o?void 0:o.nickname)||"",showPrivacy:e,useLocation:r.includes(1)||r.includes(2)||r.includes(3),useRecord:r.includes(8),useCamera:r.includes(9),privacyGuide:t})).addListener("vibrateShort",(()=>{vi({type:"medium"})})),["confirm","cancel","openPrivacyUrl"].forEach((e=>{yi.addListener(e,(()=>{bt(si),a({event:e})}))}))}))}))};(0,tn.Ld)("agreePrivacyEmergency",((e,t)=>{bi?_i?(0,tn.nY)("userTapPrivacyEmergencyConfirm",{isConfirm:!0},[t]):(0,tn.nY)("userTapPrivacyEmergencyConfirm",{isConfirm:!1},[t]):xi().then((r=>{var{event:a}=r;"confirm"===a?((0,tn.nY)("userTapPrivacyEmergencyConfirm",{isConfirm:!0},[t]),_i=!0,(e=>{ka({UIArea:10110004,PositionID:1,ActionID:6,AppType:1e3,Time:Date.now()-e.tapTime,ExternInfo:e.innerText})})(e)):(0,tn.nY)("userTapPrivacyEmergencyConfirm",{isConfirm:!1},[t])}))}));var Di=(e,t=!1)=>{if((0,z.aI)())return!1;if(!e.length)return _i;var r=m.getCurrentRoutePathWithoutQuery(),a=0;return e.forEach((e=>{var n=t?Ti[e]:e;wi.some((e=>r.includes(e.path)&&e.scope_id_list.includes(Ai(n))))&&a++})),a===e.length&&_i},Ri=(()=>{var e=new tt.Z,t="",r=null,a=[];function n(e){r&&!a.length?(a.push(e),r.des()):e()}function i(a,n,i,s){var{tmpl:l,opApi:c}=n;r||(r=s.mainRoot.append(l,{})),r.addListener("ready",(()=>{if(r)if(r.isReady){var e=o(n,a,r.extra);r.setData({...e,enter:!0})}else r.isReady=!0})),r.addListener("destroy",(n=>{r=null,bt(i);var{type:o}=n.detail;o?function(e,r,a){(0,Q.yD)({sdkApiName:t,apiName:r.name,reqData:r.request({opType:a,...e}),success(n){a===da.accept?((0,Q.FE)({name:t,args:e,res:n}),r.success()):(0,Q.YG)(t,e,"user cancel operation")},fail(r){var a=r.errMsg.replace(`${t}:fail`,"").trim();(0,Q.YG)(t,e,a,+r.err_code)}})}(a,c,da[o]):e.emit("desComp")}))}function o(e,t,r={}){var a=e.genData(t,r);return Object.assign(a,{appIcon:x.default.accountInfo.icon||"https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",appName:x.default.accountInfo.nickname}),a}return e.on("desComp",(()=>{a.forEach((e=>e())),a=[]})),(e,a={})=>{t=a.api,(0,Q.r3)(t,e,a.checkArgs(e))&&__sclEngine__.initScl((s=>{var l=function(e){return _t((r=>{[ct.BottomBackButton,ct.NavigationBackInterceptionType,ct.NavigateBackCall].includes(r.type)&&n((()=>{(0,Q.YG)(t,e,"user navigate back operation")}))}))}(e);i(e,a,l,s),(0,Q.yD)({sdkApiName:t,apiName:a.checkApi.name,reqData:a.checkApi.request(e),success(i){if(!a.checkApi.confirm(i))return delete i.data,void n((()=>{(0,Q.FE)({name:t,args:e,res:i})}));if(r)if(r.isReady){var s=o(a,e,i);r.setData({...s,enter:!0})}else r.isReady=!0,r.extra=i},fail(r){var a=r.errMsg.replace(`${t}:fail`,"").trim();n((()=>{(0,Q.YG)(t,e,a,+r.err_code)}))}})}))}})(),Li=Sa.vz;var Ni=(e,t=!1)=>{var r="authorize",a=(0,Q.qu)(e),n=Ii,i=Mi();return _e()((function*(e={}){if(i&&n.includes(Ai(`${e.scope}`)))(0,Q.FE)({name:"authorize",args:e,success:!0});else if((0,Q.r3)("authorize",e,{scope:""})){var o=cr();if(!t&&Li[e.scope]){var s=yield li(e.scope,"authorize").catch((e=>({success:!0})));if(!s.success)return gi(e.scope,o,1,!1),void(0,Q.FE)({name:"authorize",args:e,success:!1,errMsg:s.errMsg,errno:s.errno,errCode:s.errno,exception:void 0})}if("scope.userInfo"===e.scope&&!(0,ua.KU)("getUserInfo")&&!(0,ua.KU)("authorize"))return gi(e.scope,o,1,!1),void(0,Q.YG)("authorize",e,"scope unauthorized");if(!function(e){return Object.keys(pa.scopes).includes(e)}(e.scope))return e.scope&&fa()&&ha.includes(e.scope)?(gi(e.scope,o,2,!1),void setTimeout((()=>(0,Q.F0)({},r,e,{})),100)):void a(r,(0,It.f0)(e,{scope:[e.scope],requestInQueue:!0}),{beforeAll(e){delete e.body,delete e.clientInfo,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)},beforeSuccess(t){var r=!!t.showedModal;delete t.showedModal,gi(e.scope,o,2,r)},beforeFail(t){var r=!!t.showedModal;delete t.showedModal,gi(e.scope,o,1,r)}});Object.entries(pa.scopes).forEach((([t,r])=>{t===e.scope&&Ri(e,r)}))}}))},Oi=Ni(void 0,!1),Bi={SYS_MSG_TYPE_INTERACTIVE:1,SYS_MSG_TYPE_RANK:2,SYS_MSG_TYPE_PRIVATE_CHAT:3,SYS_MSG_TYPE_WHATS_NEW:4},ji=function(e){var t={};for(var r in e)t[e[r]]=r;return t}(Bi);function Fi(e){return ji[e]}function Wi(e){var t,r,a=x.default.SDKVersion,n=(null!==x.default&&void 0!==x.default&&null!==(t=x.default.requiredPrivateInfos)&&void 0!==t&&t.includes("getFuzzyLocation")?1:0)+((null===x.default||void 0===x.default||null===(r=x.default.requiredPrivateInfos)||void 0===r?void 0:r.length)>0?2:0),i=Object.assign({with_sub_msg:"boolean"==typeof e.withSubscriptions&&e.withSubscriptions,version:a,ext_flag:n},e);return delete i.withSubscriptions,i}function Ui(e){if(f.info("webapi_getuserallappauth res=",e),e.auth_item?e.authSetting=e.auth_item.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}):e.authSetting={},void 0!==e.sub_msg_switch){var t={mainSwitch:1===e.sub_msg_switch};if(e.sub_msg_list){var r=e.sub_msg_list.reduce(((e,t)=>{var r=t.template_id;return t.sys_msg_type>0&&(r=Fi(t.sys_msg_type)),t.ban_flag?e[r]="ban":(e[r]=t.setting_status?"accept":"reject",t.is_accept_with_audio?e[r]="acceptWithAudio":t.is_accept_with_force_push&&(e[r]="acceptWithForcePush")),e}),{});t.itemSettings=r,Object.assign(t,r)}e.subscriptionsSetting=t}return delete e.signature,delete e.auth_item,delete e.sub_msg_list,delete e.sub_msg_switch,e}var Gi=(e={})=>{if(Mi()){var t=(()=>{var e;if((0,z.aI)())return{};var t,r=m.getCurrentRoutePathWithoutQuery().split(".")[0],a={};return null!==(e=Si[r])&&void 0!==e&&e.length&&(null===(t=Si[r])||void 0===t||t.forEach((e=>{a[e]=!0}))),a})(),r=null,{withSubscriptions:a=!1}=e,n=(a="")=>{if(r){var n,i=(null===(n=r)||void 0===n?void 0:n.authSetting)||{};r.authSetting=Object.assign(i,t),(0,Q.FE)({name:"getSetting",args:e,success:!0,res:r})}else{try{a=a.split(":")[1]}catch(e){}(0,Q.YG)("getSetting",e,a)}};(0,Q.TG)("getSetting","webapi_getuserallappauth",Wi,Ui)({withSubscriptions:a,success:e=>{r=e,n()},fail:e=>{n(null==e?void 0:e.errMsg),f.error(e)}})}else(0,Q.TG)("getSetting","webapi_getuserallappauth",Wi,Ui)(e)},Vi=p(2100),$i=p(8550),qi=/^wx[0-9a-f]{16}(\/.*)?$/,zi="webapi_reportwxauseuserinfo",Hi={addPhoneCalendar:["jsapi_photocalendar"],addPhoneContact:["jsapi_phonecontact"],chooseImage:["jsapi_media"],chooseInvoice:["jsapi_invoice"],chooseInvoiceTitle:["jsapi_invoice"],chooseLicensePlate:["jsapi_licenseplate"],chooseLocation:["jsapi_choose_location"],chooseMedia:["jsapi_media"],chooseMessageFile:["jsapi_messagefile"],choosePoi:["jsapi_choose_location"],chooseVideo:["jsapi_media"],createBLEPeripheralServer:["webapi_bluetooth"],enableLocationUpdate:["jsapi_location"],enableLocationUpdateBackground:["jsapi_location"],getClipboardData:["jsapi_clipboard"],getFuzzyLocation:["jsapi_fuzzy_location"],getLocation:["jsapi_location"],getPhoneNumber:["webapi_getuserwxphone_group"],insertCamera:["jsapi_camera"],insertLivePusher:["jsapi_camera","jsapi_record"],insertVoIPView:["jsapi_camera"],insertXWebCamera:["jsapi_camera"],insertXWebLivePusher:["jsapi_camera","jsapi_record"],insertXWebVoIPView:["jsapi_camera"],joinVoIPChat:["jsapi_record"],openAddress:["jsapi_address"],openBluetoothAdapter:["webapi_bluetooth"],saveImageToPhotosAlbum:["jsapi_photos_album"],saveVideoToPhotosAlbum:["jsapi_photos_album"],setClipboardData:["jsapi_clipboard"],startRecord:["jsapi_record"]},Ki={jsapi_accelerometer:2,jsapi_address:0,jsapi_camera:1,jsapi_choose_location:0,jsapi_clipboard:2,jsapi_compass:2,jsapi_devicemotion:2,jsapi_fuzzy_location:1,jsapi_gyroscope:2,jsapi_invoice:0,jsapi_licenseplate:0,jsapi_location:1,jsapi_media:0,jsapi_messagefile:0,jsapi_phonecontact:1,jsapi_photocalendar:1,jsapi_photos_album:1,jsapi_record:1,jsapi_useravatar:0,jsapi_username:0,webapi_bluetooth:1,webapi_getuserwxphone_group:0,webapi_userinfo:0,webapi_werun:1},Ji=a.prototype.call.bind(String.prototype.split),Qi=a.prototype.call.bind(String.prototype.match),Yi=a.prototype.call.bind(Object.prototype.hasOwnProperty),Zi=(e,t)=>{var r="string"==typeof t&&Qi(t,qi)?(e=>Ji(e,"/",1)[0])(t):null,a=e.map((e=>({apiName:zi,reqData:{scope:e,report_type:Ki[e],state:1},pluginId:r,fail({errMsg:t}){f.warn(`[reportUserPrivacyStat] failed, scope=${e}, pluginId=${r}, errMsg=${t}`)}})));return a};const Xi={getArgsByJsApi:(e,t)=>Yi(Hi,e)?Zi(Hi[e],t):null,getArgsByScope:Zi,WxDataName:zi};(0,$i.ei)(((e,t)=>{if(!(0,z.tK)()){var r=Xi.getArgsByJsApi(e,t);null!==r&&setTimeout((()=>{f.info(`[reportUserPrivacyStat] reason: invoke service jsApi [${e}] success by [${t}]`),r.forEach((e=>{(0,Q.yD)(e)}))}),200)}}));var eo=e=>function(t,r){(0,z.tK)()||setTimeout((()=>{f.info(`[reportUserPrivacyStat] reason: service ${r} by [${t}]`),Xi.getArgsByScope(e,t).forEach((e=>{(0,Q.yD)(e)}))}),200)},to=eo(["webapi_userinfo"]),ro=eo(["webapi_werun"]),ao=eo(["jsapi_record"]),no=eo(["jsapi_accelerometer"]),io=eo(["jsapi_compass"]),oo=eo(["jsapi_devicemotion"]),so=eo(["jsapi_gyroscope"]),lo=eo(["jsapi_camera"]),co=(eo(["jsapi_username"]),eo(["jsapi_useravatar"]),eo(["webapi_getuserwxphone_group"])),uo=function(e={}){var t=(0,St.hI)(this);(0,Q.qu)(t)("openWeRunSetting",{checkSupport:!0,success(){var{success:r,fail:a}=(0,Q.Rn)(e);(0,Q.yD)({apiName:"webapi_getwerunstep_history",sdkApiName:"getWeRunData",reqData:{},success(e){r(e),ro(t,"wx.getWeRunData")},fail:a})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&_.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&_.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})},po=(e={})=>{"number"!=typeof e.step||e.step<0?(0,Q.YG)("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0"):(0,Q.IN)("openWeRunSetting",{checkSupport:!1,success(){(0,Q.IN)("uploadWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&_.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&_.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},ho=(e={})=>{"number"!=typeof e.step||e.step<0?(0,Q.YG)("addWeRunData",e,"parameter error: step should be number and greater or equal to 0"):(0,Q.IN)("openWeRunSetting",{checkSupport:!1,success(){(0,Q.IN)("addWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&_.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&_.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},fo=e=>(t={})=>{(0,Q.r3)("operateWXData",t,{apiName:""})&&(0,Q.t4)({keepAlive:t.keepAlive,apiName:t.apiName,reqData:t.reqData||{},pluginId:e?t.pluginId:void 0,timeout:t.timeout,showApiVersion:t.showApiVersion,showProfile:t.showProfile,priority:2===t.priority||3===t.priority?t.priority:void 0,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},go=fo(!1),vo=(fo(!0),(0,Q.TG)("getUserGameLabel","webapi_getgameplayerlabel",(()=>{}),(e=>e))),mo=(0,Q.TG)("reportUserBehaviorBranchAnalytics","webapi_reportbranchanalytics",(({branchId:e,branchDim:t,eventType:r})=>({itemList:[{branchId:e,branchDim:t,eventType:r}]}))),yo=(0,Q.TG)("reportUserBehaviorBranchAnalyticsForDebug","webapi_reportbranchanalyticsfordebugtool",(({branchId:e,branchDim:t,reportType:r,query:a})=>({itemList:[{branchId:e,branchDim:t,reportType:r,query:a}]})));function _o(e={}){"release"!==x.default.envVersion&&yo(e)}function bo(e={}){"string"!=typeof e.branchId?(0,Q.YG)("reportUserBehaviorBranchAnalytics",e,"branchId must be a string"):e.branchDim&&"string"!=typeof e.branchDim?(0,Q.YG)("reportUserBehaviorBranchAnalytics",e,"branchDim is an optional string"):1!==e.eventType&&2!==e.eventType?(0,Q.YG)("reportUserBehaviorBranchAnalytics",e,"eventType must be 1 or 2"):(mo(e),_o({branchId:e.branchId,branchDim:e.branchDim,reportType:e.eventType}))}var wo=(0,Q.TG)("checkIsUserAdvisedToRest ","webapi_getplaytimelimit",(({todayPlayedTime:e=0})=>({today_played_seconds:e})),(e=>{e.result=!e.is_healthy,delete e.is_healthy})),Io=e=>{(0,Q.r3)("checkIsUserAdvisedToRest",e,{todayPlayedTime:0})&&wo(e)},So="getGroupEnterInfo",ko=(e={})=>{var{success:t,fail:r,failWithMsg:a}=(0,Q.Rn)(e,So),n=We();n?(0,Qe.J)("getGroupToolbarInfo")?(0,Q.yD)({sdkApiName:So,apiName:"webapi_swapopengid",reqData:{chatroom_name:n},success:t,fail:r}):a({msg:"no permission"}):a({msg:"invalid scene"})},Co=(e={})=>{var t=x.default.SDKVersion,r=!0===(0,ua.KU)("getUserInfo")||"unknown"===(0,ua.KU)("getUserInfo"),{success:a,fail:n}=(0,Q.Rn)(e,"getUserInfo");(0,Q.yD)({sdkApiName:"getUserInfo",apiName:"webapi_getuserinfo",reqData:{lang:e.lang||"en",version:t},withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:r,success:e=>{var{cloudID:t,encryptedData:r,iv:n,signature:i,data:o}=e;a({cloudID:t,encryptedData:r,iv:n,signature:i,userInfo:o,rawData:JSON.stringify(e.data)}),(0,z.aI)()&&setTimeout((()=>to("","wx.getUserInfo")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),n(e)}})},To=(e={})=>{var t=(0,Q.TG)("confirmAvatarInfo","webapi_confirmuseravatarinfo",(e=>e),(e=>{try{e.userInfo=e.rawDataObject,Object.keys(e.userInfo).forEach((t=>{delete e[t]})),e.rawData=JSON.stringify(e.userInfo)}catch(e){}}));t(e)},Po=null,Ao=!1,Eo=(e={})=>{if(Ao)return console.error("invoke wx.getUserProfile too frequently");if((0,Q.r3)("getUserProfile",e,{desc:""})){var t=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(t>30||t<2)(0,Q.YG)("getUserProfile",e,"desc length does not meet the requirements");else{var r=x.default.accountInfo.nickname,a=x.default.accountInfo.icon||"https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ";Ao=!0,((e={})=>{(0,Q.TG)("getUserAvatarInfo","webapi_getuseravatarpopupinfo")(e)})({success(t){if(t&&t.avatar_info){var n="number"==typeof e.showType?e.showType:t.show_type,i="string"==typeof e.wording?e.wording:"",o=t.avatar_info.is_ban_modify_avatar,s=t.avatar_info.default_headimg_url,l=t.avatar_info.default_headimg_fileid,c=t.avatar_info.default_avatar_id,u=(t.avatar_info.avatar_list||[]).map((e=>({id:e.id,avatar:e.avatarurl,nickname:e.nickname,desc:e.desc||""}))),d=t.avatar_info.avatar_limit;if(0!==n){if(Ao=!1,1===n){d+=1;var p={id:-100,avatar:s,nickname:"微信用户",desc:"临时头像昵称"};u.splice(1,0,p)}var h=JSON.stringify({appName:r,appIcon:a,infoList:u,showType:n,selected:c,limit:d,isBanModifyAvatar:o,wording:i}),f=_t((e=>{[ct.BottomBackButton,ct.NavigationBackInterceptionType,ct.NavigateBackCall].includes(e.type)&&Po&&Po.handleCancel()}));__sclEngine__.initScl((t=>{(Po=t.mainRoot.append("user-profile",{input:h})).addListener("confirm",(t=>{bt(f),To({avatar_id:t.detail.selected,opt:1,lang:e.lang||"en",success(r){e.__requireId__&&(r.avatarId=t.detail.selected),(0,Q.FE)({name:"getUserProfile",args:e,res:r})},fail(){(0,Q.YG)("getUserProfile",e,"confirmAvatarInfo fail")},complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),Po=null})),Po.addListener("cancel",(()=>{bt(f),(0,Q.YG)("getUserProfile",e,"cancel"),To({avatar_id:-100,opt:2,lang:e.lang||"en",complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),Po=null})),Po.addListener("create",(()=>{((e={})=>{(0,Q.IN)("createVestUser",e,{beforeSuccess(e){e.userInfo&&(e.userInfo.avatar=e.userInfo.headImg,e.userInfo.desc=e.userInfo.desc||"",delete e.userInfo.headImg)}})})({sessionId:Math.floor(Date.now()/1e3),defaultAvatarUrl:s,defaultAvatarFileId:l,complete(e){e.userInfo&&(u.push(e.userInfo),console.log("[user-profile] createVestUser: ",e,u),Po.setData({infoList:u})),Po.setData({hide:!1})}})}))}))}else((e={},t={})=>{if((0,Q.r3)("getUserProfile",e,{desc:""})){var r=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(r>30||r<2)(0,Q.YG)("getUserProfile",e,"desc length does not meet the requirements");else{var a=!0===(0,ua.KU)("getUserProfile")||"unknown"===(0,ua.KU)("getUserProfile"),{success:n,fail:i}=(0,Q.Rn)(e,"getUserProfile"),o={lang:e.lang||"en",desc:e.desc};2===e.mode&&(o.get_profile_mode=2),o.version=x.default.SDKVersion,Wa({success(e){var t=JSON.parse(e.data);o.app_version=t},complete(){(0,Q.yD)({sdkApiName:"getUserProfile",apiName:"webapi_getuserprofile",withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:a,reqData:o,pluginId:void 0,success:e=>{var{cloudID:t,encryptedData:r,iv:a,signature:i,data:o}=e;n({cloudID:t,encryptedData:r,iv:a,signature:i,userInfo:o,rawData:JSON.stringify(e.data)}),null!=o&&o.is_demote||setTimeout((()=>to("","wx.getUserProfile")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),i(e)},complete:()=>{"function"==typeof t.afterAll&&t.afterAll()}})}})}}})(e,{afterAll:()=>Ao=!1})}else(0,Q.YG)("getUserProfile",e,"getUserAvatarInfo fail")},fail(){Ao=!1,(0,Q.YG)("getUserProfile",e,"getUserAvatarInfo fail")}})}}},Mo=p(8832),xo=p(9031),Do=function(e){return e[e.USER_ACTION_LOGIN=0]="USER_ACTION_LOGIN",e[e.USER_ACTION_APPLY_HEADIMG_NICKNAME=1]="USER_ACTION_APPLY_HEADIMG_NICKNAME",e[e.USER_ACTION_CLICK_CHAT_RANK_TAB=2]="USER_ACTION_CLICK_CHAT_RANK_TAB",e[e.USER_ACTION_APPLY_CHAT_SELF_RANK=3]="USER_ACTION_APPLY_CHAT_SELF_RANK",e}({}),Ro=function(e){return e[e.GAME_GRANT_SUBMIT_APPROVE=1]="GAME_GRANT_SUBMIT_APPROVE",e[e.GAME_GRANT_SUBMIT_DENY=2]="GAME_GRANT_SUBMIT_DENY",e}({}),Lo=function(e){return e[e.GAME_INTERFACE_ITEM_ID_RELATION=1]="GAME_INTERFACE_ITEM_ID_RELATION",e[e.GAME_INTERFACE_ITEM_ID_ACCOUNT=2]="GAME_INTERFACE_ITEM_ID_ACCOUNT",e}({}),No=null;function Oo(e,t,r=!1){if(null===No){var a=r?1:2,n=e.body.item_list.flatMap((({status_list:e})=>e)),i=Object.fromEntries(n.map((({item_status_name:e,item_status_value:t})=>[t,e]))),o=Object.fromEntries(t.map((({item_id:e,item_status_value:t})=>[e,t])));__sclEngine__.initScl((t=>{Go({UIArea:0,PositionID:0,ActionID:1,ExternInfo:{source:a}}),(No=t.mainRoot.append("game-grant-info",{config:e,infoMap:o,statusMap:i})).addListener("back",(()=>{No&&(Go({UIArea:4502,PositionID:2,ActionID:2,FuncID:No.data.selectItemId,ExternInfo:{source:a}}),No.setData({show:!1}),setTimeout((()=>{var e;null===(e=No)||void 0===e||e.setData({show:!0,page:"index",buttons:[{type:"default",text:"取消"},{type:"primary",text:"确定"}]})}),200))})),No.addListener("select",(e=>{if(No){var t=e.detail.index,r=No.data.selectItemId,n=No.data.selections;No.data.infoMap[r]=n[t].item_status_value,r===Lo.GAME_INTERFACE_ITEM_ID_RELATION&&(No.data.infoMap[Lo.GAME_INTERFACE_ITEM_ID_ACCOUNT]=n[t].item_status_value),Go({UIArea:4502,PositionID:1,ActionID:2,ExternInfo:{menu:n[t].item_status_value,source:a},FuncID:r}),No.setData({show:!1}),setTimeout((()=>{var e;null===(e=No)||void 0===e||e.setData({show:!0,page:"index",infoMap:No.data.infoMap,buttons:[{type:"default",text:"取消"},{type:"primary",text:"确定"}]})}),200)}})),No.addListener("showAction",(t=>{var r,n,i;if(No){var o=t.detail.id,s=null===(r=e.body.item_list.find((({item_id:e})=>o===e)))||void 0===r||null===(n=r.status_list)||void 0===n?void 0:n.filter((e=>!e.item_status_hide_if_list.some((({item_id:e,item_status_value:t})=>{var r;return(null===(r=No)||void 0===r?void 0:r.data.infoMap[e])===t}))));Go({UIArea:4501,PositionID:o,ActionID:2,ExternInfo:{source:a}});var l=null!==(i=null==s?void 0:s.findIndex((({item_status_value:e})=>{var t;return e===(null===(t=No)||void 0===t?void 0:t.data.infoMap[o])})))&&void 0!==i?i:0;No.setData({show:!1}),setTimeout((()=>{var e;null===(e=No)||void 0===e||e.setData({show:!0,page:"action",selections:s,selected:l,selectItemId:o,buttons:[]}),Go({UIArea:4502,PositionID:0,ActionID:1,FuncID:o,ExternInfo:{source:a}})}),200)}})),No.addListener("destroy",(()=>{No=null})),No.addListener("submit",(()=>{No&&(Go({UIArea:4501,ActionID:2,PositionID:20,ExternInfo:{logGrant:No.data.infoMap[Lo.GAME_INTERFACE_ITEM_ID_RELATION],roleGrant:No.data.infoMap[Lo.GAME_INTERFACE_ITEM_ID_ACCOUNT],source:a}}),Wo({submit_value:Ro.GAME_GRANT_SUBMIT_APPROVE,user_grant_info_list:Object.entries(No.data.infoMap).map((([e,t])=>({item_id:+e,item_status_value:t})))}))})),No.addListener("deny",(()=>{Go({UIArea:4501,ActionID:2,PositionID:21,ExternInfo:{source:a}}),Wo({submit_value:Ro.GAME_GRANT_SUBMIT_DENY,user_grant_info_list:[]})}))}))}}x.default.onReady((()=>{(0,xo._F)()?(0,xo.AL)({id:xo.GY.getUserGrantInfo,success:e=>{var t,{need_pop_up_grant_window:r,interface_config:a,user_grant_info_list:n}=(null==e||null===(t=e.data)||void 0===t?void 0:t.data)||{};r&&Oo(a,n,!0)},fail:e=>{f.error("batch getUserGrantInfo fail",e)}}):setTimeout((()=>{jo({user_action:[Do.USER_ACTION_LOGIN]}).then((({need_pop_up_grant_window:e,interface_config:t,user_grant_info_list:r})=>{e&&Oo(t,r,!0)})).catch((e=>{f.error("getUserGrantInfo fail",e)}))}),3e3)}));var Bo=(0,ua.Fr)(Mo.ip);function jo(e){return Fo.apply(this,arguments)}function Fo(){return Fo=_e()((function*({user_action:e}){var t,r,a=null!==(t=null===x.default||void 0===x.default||null===(r=x.default.accountInfo)||void 0===r?void 0:r.appId)&&void 0!==t?t:"",{data:n}=yield Bo({reqData:{req_path:"gamewxagcdatawap_getusergrantinfo",json_data:JSON.stringify({appid:a,user_action:e})}});return n.data})),Fo.apply(this,arguments)}function Wo(e){return Uo.apply(this,arguments)}function Uo(){return Uo=_e()((function*({submit_value:e,user_grant_info_list:t}){try{var r,a,n={appid:null!==(r=null===x.default||void 0===x.default||null===(a=x.default.accountInfo)||void 0===a?void 0:a.appId)&&void 0!==r?r:"",submit_value:e,user_grant_info_list:t};yield Bo({reqData:{req_path:"gamewxagcdatawap_setusergrantinfo",json_data:JSON.stringify(n)}})}catch(e){f.error(e)}})),Uo.apply(this,arguments)}function Go({UIArea:e,PositionID:t,ActionID:r,ExternInfo:a,FuncID:n}){b.reportKeyValue({key:"GameAdsSkipCard",value:[(0,rr._getCurrentNetworkType)(),x.default.appLaunchInfo.scene,0,45,e,t,r,"",0,/landscape/.test(x.default.deviceOrientation)?2:1,0,0,"","",0,"",0,0,n,0,0,0,a?encodeURIComponent(JSON.stringify(a)):""].join(",")})}var Vo=function(e={}){((e={})=>{Eo(Object.assign({},e,{__requireId__:!1}))})(Object.assign({},e,{complete(t){jo({user_action:[Do.USER_ACTION_APPLY_HEADIMG_NICKNAME]}).then((({need_pop_up_grant_window:e,interface_config:t,user_grant_info_list:r})=>{e&&Oo(t,r,!0)})).catch((e=>{f.error("getUserGrantInfo fail",e)})),"function"==typeof e.complete&&e.complete(t)}}))},$o=(0,Y.s)("batteryInfoChange"),qo=(e={})=>{setTimeout((()=>{(0,Q.IN)("getBatteryInfo",e)}),0)},zo=()=>{var e={level:100,isCharging:!0};if((0,Q.IN)("getBatteryInfo",{complete:t=>e=t}),e.errMsg=e.errMsg?e.errMsg.replace("getBatteryInfo","getBatteryInfoSync"):"getBatteryInfoSync:ok",/fail/.test(e.errMsg))throw new Error(e.errMsg);return e};$o.onMethod,$o.offMethod;(0,Q.jQ)("onBatteryInfoChange",((e={})=>{$o.emit(e)}));var Ho=!1,Ko=(0,Y.s)("accelerometerChange"),Jo=function(e={}){var t={fast:0,game:20,ui:60,normal:200},r=(0,St.hI)(this),a=void 0!==t[e.interval]?t[e.interval]:t.normal,n=(0,It.f0)(e,{interval:a,enable:!0});(0,Q.IN)("enableAccelerometer",n,{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")},afterSuccess(){no(r,"wx.startAccelerometer")}}),Ho=!0},Qo=(e={})=>{(0,Q.IN)("enableAccelerometer",(0,It.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),Ho=!1},Yo=Ko.onMethod,Zo=e=>{var t;Ko.offMethod(e),null!==(t=Ko.getGlobalListeners())&&void 0!==t&&t.length||Qo()},Xo=e=>{Ho||((0,Q.IN)("enableAccelerometer",{enable:!0}),Ho=!0),Yo(e)};(0,Q.jQ)("onAccelerometerChange",((e={})=>{Ko.emit(e)}));var es=!1,ts=(0,Y.s)("compassChange"),rs=function(e={}){var t=(0,St.hI)(this);(0,Q.IN)("enableCompass",(0,It.f0)(e,{enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","startCompass")},afterSuccess(){io(t,"wx.startCompass")}}),es=!0},as=(e={})=>{!0===es?(0,Q.IN)("enableCompass",(0,It.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","stopCompass")},afterSuccess(){es=!1}}):(0,Q.FE)({name:"stopCompass",args:e})},ns=ts.onMethod,is=e=>{var t;ts.offMethod(e),null!==(t=ts.getGlobalListeners())&&void 0!==t&&t.length||as()},os=e=>{es||((0,Q.IN)("enableCompass",{enable:!0}),es=!0),ns(e)};(0,Q.jQ)("onCompassChange",((e={})=>{ts.emit(e)}));var ss=p(4567),ls=p(1731),cs=(e={})=>{(0,Q.IN)("getClipboardData",e,{beforeSuccess(e){var t;if(!(0,z.tK)()){var r=(null===(t=x.default.accountInfo)||void 0===t?void 0:t.nickname)||"小程序",a=(0,ss.hF)();a?setTimeout((()=>{a("clipboard",{content:e.data})}),100):!1===a&&(0,ls.r)((t=>{t("clipboard",{content:e.data})})),(0,Ze.showInnerToast)({icon:"",title:`“${r}”读取了你的剪切板内容`})}}})},us=(e={})=>{Tr("setClipboardData")?(0,Q.YG)("setClipboardData",e,"no permission"):(0,Q.r3)("setClipboardData",e,{data:""})&&(0,Q.IN)("setClipboardData",e,{beforeSuccess(e){(0,Q.be)("showToast",{icon:"",title:"内容已复制"})}})},ds=(e={})=>{if(e.uuids)if(Array.isArray(e.uuids)){if(0!==e.uuids.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.uuids.some((e=>"string"==typeof e&&t.test(e))))return void(0,Q.YG)("startBeaconDiscovery",e,"invalid service uuid")}(0,Q.IN)("startBeaconDiscovery",e)}else(0,Q.YG)("startBeaconDiscovery",e,"uuid must be an Array");else(0,Q.YG)("startBeaconDiscovery",e,"must have uuid")},ps=(e={})=>{(0,Q.IN)("stopBeaconDiscovery",e)},hs=(e={})=>{(0,Q.IN)("getBeacons",e)},fs=e=>{(0,Q.r3)("onBeaconUpdate",e,R.ZT)&&(0,Q.jQ)("onBeaconUpdated",_.surroundThirdByTryCatch(e,"at onBeaconUpdate callback function"))},gs=()=>{(0,Q.jQ)("onBeaconUpdated",(()=>{}))},vs=e=>{(0,Q.r3)("onBeaconServiceChange",e,R.ZT)&&(0,Q.jQ)("onBeaconServiceChanged",_.surroundThirdByTryCatch(e,"at onBeaconServiceChange callback function"))},ms=()=>{(0,Q.jQ)("onBeaconServiceChanged",(()=>{}))},ys=(e={})=>{(0,Q.IN)("captureScreen",e,{})},_s=p(5310),bs=(0,Y.s)("userCaptureScreen"),ws=bs.onMethod,Is=(bs.offMethod,null),Ss=null,ks=[],Cs=[],Ts=_s.Z,Ps=()=>{var e;return null===(e=Ts.lastRoute)||void 0===e?void 0:e.match(/__plugin__\/wx[a-z0-9]{16}/)};(0,je.n)("onUserCaptureScreen",(e=>{Ps()?As(Ss,Cs):As(Is,ks),bs.emit(e)}));var As=(e,t)=>{if("function"==typeof e){var r={},a=Ts.query;"object"==typeof a&&(a=Object.keys(a).map((e=>`${e}=${a[e]}`)).join("&")),r.takeScreenShotQuery=a,r.callBackHasPromise=!1,Ts.query,r.takeScreenShotQuery,t.push(r);(e=>{setTimeout((()=>{var r=t.indexOf(e);r>-1&&t.splice(r,1)}),3e3)})(r);var n=e();n&&("string"==typeof n.query&&(r.takeScreenShotQuery=n.query),(0,R.tI)(n.promise)&&(r.callBackHasPromise=!0,n.promise.then((e=>{e&&"string"==typeof e.query&&(r.takeScreenShotQuery=e.query)}))))}},Es=e=>e.length>0?e.shift():null;(0,je.n)("onTakeScreenshot",_e()((function*(){var e,t=0,r=e=>{var r=Ts.lastRoute||"";if(e)if(e.callBackHasPromise)setTimeout((()=>{var t="/"+r+".html";e.takeScreenShotQuery&&(t+="?"+e.takeScreenShotQuery),(0,Q.IN)("returnTakeScreenshot",{url:t})}),1500-t);else{var a="/"+r+".html";e.takeScreenShotQuery&&(a+="?"+e.takeScreenShotQuery),(0,Q.IN)("returnTakeScreenshot",{url:a})}else{var n=Ts.query;"object"==typeof n&&(n=Object.keys(n).map((e=>`${e}=${n[e]}`)).join("&"));var i="/"+r+".html"+(n?"?"+n:"");Ts.query,(0,Q.IN)("returnTakeScreenshot",{url:i})}};e=Es(ks);var a;a=Es(Cs),"android"===x.default.platform?(t=500,Ps()?setTimeout(r,t,a):setTimeout(r,t,e)):Ps()?r(a):r(e)})));var Ms=e=>{Is=e},xs=()=>{Is=null};x.default.onReady((()=>{var e,t,r,a=1092===(null===(e=x.default.appLaunchInfo)||void 0===e?void 0:e.scene),n=null===(t=x.default.appLaunchInfo)||void 0===t||null===(r=t.referrerInfo)||void 0===r?void 0:r.extraData;(0,je.n)("onAppEnterForeground",(e=>{var t;a=1092===e.scene,n=null===(t=e.referrerInfo)||void 0===t?void 0:t.extraData})),(0,je.n)("onUserCaptureScreen",(()=>{var e,t,r=Ts.lastRoute||"",i=Ts.query||{};"object"==typeof i&&(i=Object.keys(i).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`)).join("&")),b.reportKeyValue({key:"MiniprogramOnUserCaptureScreen",value:[r,i].join(",")}),a&&(null===(e=n)||void 0===e?void 0:e.csSessionId)&&(0,Q.yD)({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:1,cs_session_id:null===(t=n)||void 0===t?void 0:t.csSessionId}})}))}));var Ds=(e={})=>{(0,Q.IN)("getScreenBrightness",e,{})},Rs=(e={})=>{(0,Q.IN)("setScreenBrightness",e,{})},Ls=(e={})=>{(0,Q.r3)("setKeepScreenOn",e,{keepScreenOn:!0})&&(0,Q.IN)("setKeepScreenOn",e,{})},Ns=(e={})=>{e.visualEffect=e.visualEffect||"none",(0,Q.IN)("setVisualEffectOnCapture",e,{})};(0,je.n)("onScreenRecordingStateChanged",((e={})=>{var t=(0,Xe.p9)(Ve.Z.lastRoute);"//"!==t&&(0,Y.s)(`${t}onScreenRecordingStateChanged`).emit(e)}));var Os=(e={})=>{(0,Q.IN)("getScreenRecordingState",e,{})},Bs=function(e={}){(0,Q.qu)((0,St.hI)(this))("openBluetoothAdapter",e,{})},js=(e={})=>{(0,Q.IN)("closeBluetoothAdapter",e,{})},Fs=(e={})=>{(0,Q.IN)("getBluetoothAdapterState",e,{})},Ws=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void(0,Q.YG)("startBluetoothDevicesDiscovery",{},"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void(0,Q.YG)("startBluetoothDevicesDiscovery",{},"invalid service uuid");e.services=e.services.map((e=>(z.wZ&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}(0,Q.IN)("startBluetoothDevicesDiscovery",e,{})},Us=(e={})=>{(0,Q.IN)("stopBluetoothDevicesDiscovery",e,{})},Gs=(e={})=>{(0,Q.IN)("getBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices.map((e=>{if(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=(0,we.RG)(e.advertisData)),e.serviceData){var t=e.serviceData;Object.keys(t).forEach((e=>{t[e]&&(t[e]=(0,we.RG)(t[e]))}))}return e}))}})},Vs=(e={})=>{(0,Q.r3)("getBLEDeviceRSSI",e,{deviceId:""})&&(0,Q.IN)("getBLEDeviceRSSI",e)},$s=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void(0,Q.YG)("getConnectedBluetoothDevices",e,"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void(0,Q.YG)("getConnectedBluetoothDevices",{},"invalid service uuid");e.services=e.services.map((e=>(z.wZ&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}(0,Q.IN)("getConnectedBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices=e.devices.map((e=>(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=(0,we.RG)(e.advertisData)),e)))}})},qs=(e={})=>{e.type="getAll",(0,Q.IN)("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg},beforeSuccess(e){e.devices.forEach((e=>{e.appId&&(e.appid=e.appId,delete e.appId),e.sn=e.deviceId,delete e.deviceId}))}})},zs=[];(new tt.Z).on("_updateMonitorDevices",(function(e={}){((e={})=>{qs({success(t){var r=t.devices.filter((e=>e.appid===x.default.accountInfo.appId));r.forEach((e=>{e.deviceId=e.bluetoothDeviceId,delete e.bluetoothDeviceId,delete e.appid})),(0,Q.F0)({devices:r},"getMonitoredBluetoothDevices",e,{})},fail(t){(0,Q.YG)("getMonitoredBluetoothDevices",e,t.errMsg)}})})({success(t){if(t.devices){var r={},a=zs.filter((t=>t.sn===e.sn))[0];a&&(r[a.deviceId]=a),t.devices.forEach((e=>{r[e.deviceId]=e})),zs=Object.values(r),(0,R.mf)(e.success)&&e.success()}}})}));new tt.Z;var Hs=()=>x.default&&Array.isArray(x.default.requiredBackgroundModes)&&x.default.requiredBackgroundModes.includes("bluetooth"),Ks=(0,Y.s)("onBLEConnectionStateChanged"),Js=Ks.onMethod,Qs=Ks.offMethod,Ys=Ks.internalOnMethod;(0,Q.jQ)("onBLEConnectionStateChanged",(e=>{Ks.emit(e)}));var Zs=(0,Y.s)("onBluetoothAdapterStateChange"),Xs=Zs.onMethod,el=Zs.offMethod,tl=Zs.internalOnMethod,rl={};(0,Q.jQ)("onBluetoothAdapterStateChange",(e=>{Object.entries(e).every((([e,t])=>rl[e]===t))||(rl=e,Zs.emit(e))}));var al=p(4509),nl=Object.create(null);(0,al.J)((()=>{nl=sl.get()}));var il,ol=a.prototype.call.bind(Object.prototype.hasOwnProperty),sl=(il=Object.create(null),{add(e){il[e]=e},remove(e){delete il[e]},has:e=>ol(il,e),get(){var e=Object.create(null);return Object.assign(e,il)},clear(){il=Object.create(null)}});Ys((e=>{e&&(e.connected?sl.add(e.deviceId):sl.remove(e.deviceId))})),tl((e=>{e&&!e.available&&sl.clear()}));var ll=p(3473),cl=null;var ul=!1;(0,ll.T)((()=>{ul=!1})),(0,al.J)((()=>{ul=!0}));var dl=()=>{return ul||(null===cl?!(null===(e=x.default.appLaunchInfo)||void 0===e||!e.inBackground):cl);var e},pl=new tt.Z;Object.create(null);var hl=!1,fl=[];pl.on("_setBluetoothBackgroundMode",(e=>{hl=e.enable,fl=e.devices.map((e=>e.deviceId))}));var gl,vl=(e,t)=>{!function(e){return zs.some((t=>t.deviceId===e))}(e)&&dl()&&hl?t(!((e=>ol(nl,e))(e)&&fl.includes(e))):t(!1)},ml=e=>{var t=e.map(encodeURIComponent).join(",");b.reportKeyValue({key:"BLEDevices",value:t})},yl=(e={})=>{(0,Q.r3)("createBLEConnection",e,{deviceId:""})&&(Hs()?vl(e.deviceId,(t=>{t?(0,Q.YG)("createBLEConnection",e,"connect unknown devices is not allowed in bluetooth background mode",10015):(ml([e.deviceId]),(0,Q.IN)("createBLEConnection",e,{}))})):(ml([e.deviceId]),(0,Q.IN)("createBLEConnection",e,{})))},_l=(e={})=>{(0,Q.r3)("closeBLEConnection",e,{deviceId:""})&&(0,Q.IN)("closeBLEConnection",e,{})},bl=(e={})=>{(0,Q.r3)("getBLEDeviceServices",e,{deviceId:""})&&(0,Q.IN)("getBLEDeviceServices",e,{beforeSuccess(e){Array.isArray(e.services)||(e.services=[]),void 0===e.errCode&&(e.errCode=0)}})},wl=(e={})=>{(0,Q.r3)("getBLEDeviceCharacteristics",e,{deviceId:"",serviceId:""})&&(0,Q.IN)("getBLEDeviceCharacteristics",Object.assign({},e,{serviceId:z.wZ?e.serviceId.toUpperCase():e.serviceId}),{beforeSuccess(e){Array.isArray(e.characteristics)||(e.characteristics=[])}})},Il=(e={})=>{(0,Q.r3)("notifyBLECharacteristicValueChanged",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&(0,Q.IN)("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:z.wZ?e.serviceId.toUpperCase():e.serviceId,characteristicId:z.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{})},Sl=(e={})=>{(0,Q.r3)("notifyBLECharacteristicValueChange",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&(0,Q.IN)("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:z.wZ?e.serviceId.toUpperCase():e.serviceId,characteristicId:z.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{beforeAll(e){void 0!==e.errCode&&(e.errCode=Number(e.errCode)),e.errMsg=e.errMsg.replace("notifyBLECharacteristicValueChanged","notifyBLECharacteristicValueChange")}})},kl=(e={})=>{(0,Q.r3)("readBLECharacteristicValue",e,{deviceId:"",serviceId:"",characteristicId:""})&&(0,Q.IN)("readBLECharacteristicValue",Object.assign({},e,{serviceId:z.wZ?e.serviceId.toUpperCase():e.serviceId,characteristicId:z.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{})},Cl=(e={})=>{(0,Q.r3)("writeBLECharacteristicValue",e,{value:new ArrayBuffer(0),deviceId:"",serviceId:"",characteristicId:""})&&(!e.writeType||Tl(e.writeType)?(0,Q.IN)("writeBLECharacteristicValue",Object.assign({},e,{value:(0,we.sM)(e.value),serviceId:e.serviceId.toUpperCase(),characteristicId:z.wZ?e.characteristicId.toUpperCase():e.characteristicId}),{}):(0,Q.YG)("writeBLECharacteristicValue",e,"invalid writeType"))},Tl=e=>["write","writeNoResponse"].includes(e),Pl=e=>{(0,Q.jQ)("onBLEConnectionStateChanged",_.surroundThirdByTryCatch(e,"at onBLEConnectionStateChanged callback function"))},Al=()=>{(0,Q.jQ)("onBLEConnectionStateChanged",(()=>{}))},El=e=>{(0,Q.jQ)("onBLECharacteristicValueChange",((t={})=>{"string"==typeof t.value&&(t.value=(0,we.RG)(t.value)),_.surroundThirdByTryCatch(e,"at onBLECharacteristicValueChange callback function")(t)}))},Ml=()=>{(0,Q.jQ)("onBLECharacteristicValueChange",(()=>{}))},xl=e=>{(0,Q.jQ)("onBluetoothDeviceFound",((t={})=>{var r=[];Array.isArray(t.devices)?r=t.devices:r.push(t),r=r.map((e=>{try{e.advertisData=(0,we.RG)(e.advertisData)}catch(e){}try{var t=e.serviceData||{};Object.keys(t).forEach((e=>{t[e]&&(t[e]=(0,we.RG)(t[e]))}))}catch(e){}return e})),_.surroundThirdByTryCatch(e,"at onBluetoothDeviceFound callback function")({devices:r})}))},Dl=()=>{(0,Q.jQ)("onBluetoothDeviceFound",(()=>{}))},Rl=(e,t)=>Object.assign({},e,{[t]:(0,we.sM)(e[t])}),Ll=e=>!(e>=0&&e<65536),Nl=new tt.Z,Ol=new WeakMap,Bl=new WeakMap,jl=function(e,t){var r=`${Ol.get(this)}_on${e}`,a=r=>{_.surroundThirdByTryCatch(t,`at BLEPeripheralServer.on${e} callback function`)(r)};Bl.get(this).set(t,a),Nl.on(r,a)},Fl=function(e,t){var r=`${Ol.get(this)}_on${e}`,a=Bl.get(this);if((0,R.mf)(t)){var n=a.get(t);(0,R.mf)(n)&&(a.delete(t),Nl.off(r,n))}else Bl.set(this,new WeakMap),Nl.removeAllListeners(r)},Wl=(0,Y.s)("CharacteristicReadRequest");Wl.onMethod,Wl.offMethod;(0,Q.jQ)("onCharacteristicReadRequest",((e={})=>{Nl.emit(`${e.serverId}_onCharacteristicReadRequest`,e),Wl.emit(e)}));var Ul=(0,Y.s)("CharacteristicWriteRequest");Ul.onMethod,Ul.offMethod;(0,Q.jQ)("onCharacteristicWriteRequest",((e={})=>{"string"==typeof e.value&&(e.value=(0,we.RG)(e.value)),Nl.emit(`${e.serverId}_onCharacteristicWriteRequest`,e),Ul.emit(e)}));var Gl=(0,Y.s)("CharacteristicSubscribed");Gl.onMethod,Gl.offMethod;(0,Q.jQ)("onCharacteristicSubscribed",((e={})=>{Nl.emit(`${e.serverId}_onCharacteristicSubscribed`,e),Gl.emit(e)}));var Vl=(0,Y.s)("CharacteristicUnsubscribed");Vl.onMethod,Vl.offMethod;(0,Q.jQ)("onCharacteristicUnsubscribed",((e={})=>{Nl.emit(`${e.serverId}_onCharacteristicUnsubscribed`,e),Vl.emit(e)}));var $l=(gl=class{constructor(e){this.serverId=e,this.services=[],Ol.set(this,e),Bl.set(this,new WeakMap);["CharacteristicReadRequest","CharacteristicWriteRequest","CharacteristicSubscribed","CharacteristicUnsubscribed"].forEach((e=>{this[`on${e}`]=t=>{jl.call(this,e,t)},this[`off${e}`]=t=>{Fl.call(this,e,t)}}))}close(e={}){var t=this,r=Object.assign({},e,{serverId:this.serverId});(0,Q.IN)("closeBLEPeripheralServer",r,{beforeSuccess(){t.serverId="",Ol.delete(t)}})}addService(e={}){if((0,Q.r3)("BLEPeripheralServer.addService",e,{service:{}})){var t=e.service.characteristics||[];t=t.map((e=>{var t=e.descriptors||[];return t=t.map((e=>Rl(e,"value"))),Object.assign({},e,{value:(0,we.sM)(e.value),descriptors:t})}));var r=Object.assign({},e,{serverId:this.serverId,service:{uuid:e.service.uuid,characteristics:t}}),a=this;(0,Q.IN)("addBLEPeripheralService",r,{beforeSuccess(){a.services.push(e.service.uuid)}})}}removeService(e={}){if((0,Q.r3)("BLEPeripheralServer.removeService",e,{serviceId:""})){var t=this,r=Object.assign({},e,{serverId:this.serverId});(0,Q.IN)("removeBLEPeripheralService",r,{beforeSuccess(){var r=t.services.indexOf(e.serviceId);r>=0&&t.services.splice(r,1)}})}}startAdvertising(e={}){if((0,Q.r3)("BLEPeripheralServer.startAdvertising",e,{advertiseRequest:{}})){var t=e.advertiseRequest||{},r={connectable:!0};if(t.beacon){if(t.deviceName||t.serviceUuids||t.manufacturerData)throw new Error("iBeacon mode only accept connectable and beacon properties");if(!(0,Q.r3)("BLEPeripheralServer.startAdvertising",t,{beacon:{uuid:"",major:0,minor:0}}))throw new Error("iBeacon mode must include [uuid、major、minor] properties");if(Ll(t.beacon.major)||Ll(t.beacon.minor))throw new Error("major or minor must be between 0 and 65536");r=Object.assign(r,t)}else{var a=t.manufacturerData||[];a=a.map((e=>Rl(e,"manufacturerSpecificData"))),r=Object.assign(r,t,{manufacturerData:a})}var n=Object.assign({},e,{serverId:this.serverId,advertiseRequest:r,powerLevel:e.powerLevel||"medium"});(0,Q.IN)("startBLEPeripheralAdvertising",n,{})}}stopAdvertising(e={}){var t=Object.assign({},e,{serverId:this.serverId});(0,Q.IN)("stopBLEPeripheralAdvertising",t,{})}writeCharacteristicValue(e={}){var t=Object.assign({},e,{serverId:this.serverId,value:(0,we.sM)(e.value)});(0,Q.IN)("writeBLEPeripheralCharacteristicValue",t,{})}},A()(gl.prototype,"close",[ve.Qu],Object.getOwnPropertyDescriptor(gl.prototype,"close"),gl.prototype),A()(gl.prototype,"addService",[ve.Qu],Object.getOwnPropertyDescriptor(gl.prototype,"addService"),gl.prototype),A()(gl.prototype,"removeService",[ve.Qu],Object.getOwnPropertyDescriptor(gl.prototype,"removeService"),gl.prototype),A()(gl.prototype,"startAdvertising",[ve.Qu],Object.getOwnPropertyDescriptor(gl.prototype,"startAdvertising"),gl.prototype),A()(gl.prototype,"stopAdvertising",[ve.Qu],Object.getOwnPropertyDescriptor(gl.prototype,"stopAdvertising"),gl.prototype),A()(gl.prototype,"writeCharacteristicValue",[ve.Qu],Object.getOwnPropertyDescriptor(gl.prototype,"writeCharacteristicValue"),gl.prototype),gl),ql=function(e={}){(0,Q.qu)((0,St.hI)(this))("createBLEPeripheralServer",e,{beforeSuccess(e){var t=e.serverId,r=new $l(t);delete e.serverId,e.server=r}})},zl=(0,Y.s)("BLEPeripheralConnectionStateChanged"),Hl=zl.onMethod,Kl=zl.offMethod;(0,Q.jQ)("onBLEPeripheralConnectionStateChanged",((e={})=>{zl.emit(e)}));var Jl=(e={})=>{if((0,Q.r3)("makeBluetoothPair",e,{deviceId:""})){var t=Object.assign({},e);(0,R.eP)(e.pin||null)&&(t.pin=(0,we.sM)(e.pin)),(0,Q.IN)("makeBluetoothPair",t)}},Ql=(e={})=>{(0,Q.r3)("isBluetoothDevicePaired",e,{deviceId:""})&&(0,Q.IN)("isBluetoothDevicePaired",e)},Yl=(e={})=>{z.wZ?(0,Q.r3)("setBLEMTU",e,{deviceId:"",mtu:0})&&(0,Q.IN)("setBLEMTU",e,{}):(0,Q.YG)("setBLEMTU",e,"can only be invoked on android")},Zl=(0,Y.s)("onBLEMTUChange"),Xl={},ec=Zl.onMethod,tc=Zl.offMethod;z.wZ&&(0,Q.jQ)("onBLEMTUChange",(e=>{e.deviceId&&e.mtu&&(Object.keys(Xl).forEach((e=>{delete Xl[e]})),Xl[e.deviceId]={mtu:e.mtu}),Zl.emit(e)}));var rc=(e={})=>{if((0,Q.r3)("getBLEMTU",e,{deviceId:""}))if(z.wZ){var t=Xl[e.deviceId],r={mtu:t?t.mtu:23};(0,Q.F0)(r,"getBLEMTU",e,{})}else{if(e.writeType)if(!["write","writeNoResponse"].includes(e.writeType))return void(0,Q.YG)("getBLEMTU",e,"invalid write type");(0,Q.IN)("getBLEMTU",e,{})}},ac=(0,Y.s)("local-service-found"),nc=(0,Y.s)("local-service-lost"),ic=(0,Y.s)("local-service-discovery"),oc=(0,Y.s)("local-service-resolve-fail"),sc=(e={})=>{(0,Q.IN)("operateLocalServicesScan",Object.assign({},e,{action:"start"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery")})},lc=(e={})=>{(0,Q.IN)("operateLocalServicesScan",Object.assign({},e,{action:"stop"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery")})};(0,Q.jQ)("onLocalServiceEvent",(e=>{var t=Object.assign({},e);switch("object"==typeof t.attributes&&null!==t.attributes&&Object.keys(t.attributes).forEach((e=>{var r=t.attributes[e];t.attributes[e]=(0,we.RG)(r)})),delete t.event,e.event){case"found":ac.emit(t);break;case"lost":nc.emit(t);break;case"stopScan":delete t.serviceType,delete t.serviceName,delete t.ip,delete t.port,ic.emit(t);break;case"resolveFail":delete t.ip,delete t.port,oc.emit(t)}}));var cc=ac.onMethod,uc=ac.offMethod,dc=nc.onMethod,pc=nc.offMethod,hc=ic.onMethod,fc=ic.offMethod,gc=oc.onMethod,vc=oc.offMethod,mc=(0,Y.s)("gyroscopeChange"),yc=function(e={}){var t={fast:0,game:20,ui:60,normal:200},r=(0,St.hI)(this),a=t[e.interval]||t.normal;(0,Q.IN)("enableGyroscope",(0,It.f0)(e,{interval:a,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","startGyroscope")},afterSuccess(){so(r,"wx.startGyroscope")}})},_c=(e={})=>{(0,Q.IN)("enableGyroscope",(0,It.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","stopGyroscope")}})},bc=mc.onMethod,wc=e=>{var t;mc.offMethod(e),null!==(t=mc.getGlobalListeners())&&void 0!==t&&t.length||_c()};(0,Q.jQ)("onGyroscopeChange",(e=>{mc.emit(e)}));var Ic=(0,Y.s)("deviceMotionChange"),Sc=function(e={}){var t={fast:0,game:20,ui:60,normal:200},r=(0,St.hI)(this),a=t[e.interval]||t.normal;(0,Q.IN)("enableDeviceMotionChangeListening",(0,It.f0)(e,{interval:a,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","startDeviceMotionListening")},afterSuccess(){oo(r,"wx.startDeviceMotionListening")}})},kc=(e={})=>{(0,Q.IN)("enableDeviceMotionChangeListening",(0,It.f0)(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","stopDeviceMotionListening")}})},Cc=Ic.onMethod,Tc=Ic.offMethod;(0,Q.jQ)("onDeviceMotionChange",(e=>{Ic.emit(e)}));var Pc=e=>{z.cj||z.wZ?(0,Q.IN)("getIPAddress",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getIPAddress","getLocalIPAddress")}}):(0,Q.IN)("getLocalIPAddress",e)},Ac=p(7351),Ec={SUCCESS:0,INVALID_ARGUMENT:sn.b1W,SESSION_UNAVAILABLE:sn.wPB,SYSTEM_ERROR:sn.fUJ,DEVICE_NOT_SUPPORTED:sn.zJY,OS_NOT_SUPPORTED:sn.Yd_,NO_SYSTEM_CAMERA_ACCESS:sn.NHl,NO_MINIPROGRAM_CAMERA_ACCESS:sn.rAn},Mc={[-1]:Ec.INVALID_ARGUMENT,[-2]:Ec.SESSION_UNAVAILABLE,[-3]:Ec.SYSTEM_ERROR,[-4]:Ec.DEVICE_NOT_SUPPORTED,[-5]:Ec.OS_NOT_SUPPORTED,[-6]:Ec.NO_SYSTEM_CAMERA_ACCESS,[-7]:Ec.NO_MINIPROGRAM_CAMERA_ACCESS},xc=0,Dc=1,Rc=2,Lc=0,Nc=1,Oc=2,Bc=3,jc=5,Fc=6,Wc=7,Uc=8,Gc=9,Vc=10,$c=1,qc=2,zc=3,Hc=4,Kc={VKSession:Symbol("VKSession"),VKAnchor:Symbol("VKAnchor"),VKCamera:Symbol("VKCamera"),VKFrame:Symbol("VKFrame"),VKLightEstimate:Symbol("VKLightEstimate"),VKMesh:Symbol("VKMesh"),VKReference:Symbol("VKReference")},Jc=1,Qc=2,Yc=4,Zc=5,Xc=6,eu=7,tu=8,ru=9,au=10,nu=11,iu=12,ou=13,su=14,lu=15,cu="v1",uu="v2",du=Kc.VKReference,pu={};class hu{constructor(e=0,t){this[du]={webviewId:e,native:t}}destroy(){this[du].native=null}}class fu extends hu{}class gu extends hu{}function vu(e=0,t){if(!t)return null;pu[e]||(pu[e]=new WeakMap);var r=pu[e];if(r.has(t))return r.get(t);var a=null;return t instanceof q.Z.ARImageReference?a=new fu(e,t):t instanceof q.Z.ARObjectReference&&(a=new gu(e,t)),r.set(t,a),a}function mu(e=0){pu[e]={}}var yu=Kc.VKMesh;class _u{constructor(e=0,t){this[yu]={webviewId:e,native:t}}get vertices(){return this[yu].native?this[yu].native.getVertices():null}get uvs(){return this[yu].native?this[yu].native.getUVs():null}get triangles(){return this[yu].native?this[yu].native.getTriangles():null}destroy(){this[yu].native=null}}var bu=Kc.VKAnchor,wu={},Iu={},Su=1e4;class ku{constructor(e=0,t){this[bu]={webviewId:e,native:t,reference:null,mesh:null}}get id(){return this[bu].native?this[bu].native.id:null}get type(){return this[bu].native?this[bu].native.type:null}get transform(){return this[bu].native?this[bu].native.transform:null}get reference(){if(!this[bu].native)return null;if(!this[bu].reference){var e=this[bu].native.reference;this[bu].reference=vu(this[bu].webviewId,e)}return this[bu].reference}get mesh(){if(!this[bu].native)return null;if(!this[bu].mesh){var e=this[bu].native.mesh;this[bu].mesh=new _u(this[bu].webviewId,e)}return this[bu].mesh}get size(){if(!this[bu].native||!this[bu].native.size)return null;var e=Array.from(this[bu].native.size);return{width:e[0],height:e[1]}}destroy(){this[bu].native=null,this[bu].reference&&(this[bu].reference.destroy(),this[bu].reference=null),this[bu].mesh&&(this[bu].mesh.destroy(),this[bu].mesh=null)}}class Cu extends ku{get alignment(){return this[bu].native?this[bu].native.alignment:null}}class Tu extends ku{get markerId(){return this[bu].native?this[bu].native.markerID:null}get path(){return this[bu].native?Iu[this[bu].native.markerID]||"":null}}class Pu extends ku{get markerId(){return this[bu].native?this[bu].native.markerID:null}get path(){return this[bu].native?Iu[this[bu].native.markerID]||"":null}get origin(){if(!this[bu].native||!this[bu].native.origin)return null;var e=Array.from(this[bu].native.origin);return{x:e[0],y:e[1]}}}class Au extends ku{get size(){return this[bu].native?this[bu].native.size:null}get depthArray(){return this[bu].native?this[bu].native.depthArray:null}}class Eu extends ku{get text(){return this[bu].native?this[bu].native.text:null}get box(){return this[bu].native?this[bu].native.box:null}get subtext(){return this[bu].native?this[bu].native.subtext:null}get score(){return this[bu].native?this[bu].native.score:null}}class Mu extends ku{get isComplete(){return this[bu].native?this[bu].native.isComplete:null}get label(){return this[bu].native?this[bu].native.label:null}get orientation(){return this[bu].native?this[bu].native.orientation:null}get box(){return this[bu].native?this[bu].native.box:null}get affineImgWidth(){return this[bu].native?this[bu].native.affineImgWidth:null}get affineImgHeight(){return this[bu].native?this[bu].native.affineImgHeight:null}get affineMat(){return this[bu].native?this[bu].native.affineMat:null}}class xu extends ku{get detectId(){return this[bu].native?this[bu].native.detectId:null}get origin(){if(!this[bu].native||!this[bu].native.origin)return null;var e=Array.from(this[bu].native.origin);return{x:e[0],y:e[1]}}get confidence(){return this[bu].native?this[bu].native.confArray:null}get points3d(){return this[bu].native?this[bu].native.joints3d:null}get camExtArray(){return this[bu].native?this[bu].native.cameraExtrinsicArray:null}get camIntArray(){return this[bu].native?this[bu].native.cameraIntrinsicArray:null}}class Du extends xu{get points(){return this[bu].native?this[bu].native.points106:null}get angle(){return this[bu].native?this[bu].native.angleArray:null}}class Ru extends xu{get points(){return this[bu].native?this[bu].native.pointsArray:null}get score(){return this[bu].native?this[bu].native.score:null}}class Lu extends xu{get points(){return this[bu].native?this[bu].native.pointsArray:null}get score(){return this[bu].native?this[bu].native.score:null}get gesture(){return this[bu].native?this[bu].native.gesture:null}}class Nu extends xu{get points(){return this[bu].native?this[bu].native.pointsArray:null}get score(){return this[bu].native?this[bu].native.score:null}get shoedirec(){return this[bu].native?this[bu].native.shoedirec:null}}function Ou(e=0,t){if(!t)return null;if(wu[e]||(wu[e]={}),void 0===t.id)return console.error("[getAnchor] Declare native.id can not be undefined"),null;var r=wu[e];if(r[t.id])return r[t.id];var a=null;return t.type===Lc?a=new Cu(e,t):t.type===Nc?a=new Tu(e,t):t.type===Oc?a=new Pu(e,t):t.type===Bc?a=new Du(e,t):t.type===jc?a=new Ru(e,t):t.type===Fc?a=new Eu(e,t):t.type===Wc?a=new Lu(e,t):t.type===Uc?a=new Au(e,t):t.type===Gc?a=new Nu(e,t):t.type===Vc&&(a=new Mu(e,t)),r[t.id]=a,a}function Bu(e=0,t){Iu[e]||(Iu[e]={});var r=++Su;return Iu[e][r]=t,r}function ju(e=0){wu[e]&&Object.keys(wu[e]).forEach((t=>{var r=wu[e][t];r&&r.destroy()}));wu[e]={},Iu[e]={}}var Fu=Kc.VKCamera;class Wu{constructor(e){this[Fu]={native:e}}get transform(){return this[Fu].native?this[Fu].native.transform:null}get _transform(){return this[Fu].native?this[Fu].native.transform:null}get viewMatrix(){return this[Fu].native?this[Fu].native.viewMatrix:null}get intrinsics(){return this[Fu].native?this[Fu].native.intrinsics:null}destroy(){this[Fu].native=null}getProjectionMatrix(e,t){return this[Fu].native?this[Fu].native.getProjectionMatrix(e,t):null}}var Uu=Kc.VKLightEstimate;class Gu{constructor(e){this[Uu]={native:e}}get ambientIndensity(){return this[Uu].native?this[Uu].native.ambient_indensity:null}destroy(){this[Uu].native=null}}var Vu=Kc.VKFrame,$u=Kc.VKSession,qu=!1;class zu{constructor(e=0,t,r){this[Vu]={webviewId:e,native:t,session:r,camera:null,lightEstimate:null},z.cj&&!qu&&(qu=!0)}get timestamp(){return this[Vu].native?this[Vu].native.timestamp:null}get camera(){if(!this[Vu].native)return null;if(!this[Vu].camera){var e=this[Vu].native.camera;this[Vu].camera=new Wu(e)}return this[Vu].camera}get lightEstimate(){if(!this[Vu].native)return null;if(!this[Vu].lightEstimate){var e=this[Vu].native.lightEstimate;this[Vu].lightEstimate=new Gu(e)}return this[Vu].lightEstimate}destroy(){this[Vu].native=null,this[Vu].camera&&(this[Vu].camera.destroy(),this[Vu].camera=null),this[Vu].lightEstimate&&(this[Vu].lightEstimate.destroy(),this[Vu].lightEstimate=null),this[Vu].session=null}getCameraRawTextureData(e="yuv"){if("yuv"===e)return this[Vu].native.getCameraYUVBuffer()}getCameraBuffer(e,t){if(!e||!t||!this[Vu].native)return null;if(e%16==0){if(this[Vu].session[$u].options.gl)return this[Vu].native.getCameraBuffer(e,t)}else console.error("getCameraBuffer fail: invalid parameter, the width needs to be an integer multiple of 16. width 需要是 16 的整数倍")}getCameraJpgBuffer(e,t,r){return this[Vu].native&&this[Vu].session?this[Vu].native.getCamerajpgBuffer(e,t,r):null}getDepthBuffer(){return this[Vu].native&&this[Vu].session?this[Vu].native.getDepthBuffer():null}getDepthTexture(e){if(!this[Vu].native||!this[Vu].session)return null;var t=this[Vu].session;if(!(e=e||t[$u].options.gl))return null;var r=t[$u].depthTexture;r||(r=e.createTexture());var a=this[Vu].native.getDepthBuffer();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),a&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a.width,a.height,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(a.DepthAddress)),t[$u].depthTexture=r,r._gl=e,e.bindTexture(e.TEXTURE_2D,null),r}getLegSegmentBuffer(){return this[Vu].native&&this[Vu].session?this[Vu].native.getLegSegmentBuffer():null}getCameraTexture(e,t="yuv"){if(!this[Vu].native||!this[Vu].session)return null;"string"==typeof e&&(t=e,e=null);var r=this[Vu].session;if(!(e=e||r[$u].options.gl))return null;if("yuv"===t){var a,n=r[$u].yTexture,i=r[$u].uvTexture,o=!1,s=e.getExtension("WECHAT_ext_texture");if(z.cj&&s){var l=s.createYUVTexture("magicar",0);l&&(o=!0,n&&e.deleteTexture(n),i&&e.deleteTexture(i),n=l.yTexture,i=l.uvTexture)}return n||(n=e.createTexture()),i||(i=e.createTexture()),z.cj&&!s&&(o=this[Vu].native.updateCameraYUVTextureIOS(n,i,e)),o||(a=this[Vu].native.getCameraYUVBuffer()),e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),a&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,a.width,a.height,0,e.LUMINANCE,e.UNSIGNED_BYTE,new Uint8Array(a.yAddress)),r[$u].yTexture=n,n._gl=e,e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),a&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE_ALPHA,a.width/2,a.height/2,0,e.LUMINANCE_ALPHA,e.UNSIGNED_BYTE,new Uint8Array(a.uvAddress)),r[$u].uvTexture=i,i._gl=e,e.bindTexture(e.TEXTURE_2D,null),{yTexture:n,uvTexture:i}}return null}getDisplayTransform(){return this[Vu].native?this[Vu].native.getDisplayTransform():null}getAllAnchors(){}}var Hu={},Ku=[],Ju=null;function Qu(e=0){return Hu[e]}function Yu(e=0){if(Ju){var t=Qu(Ju);t&&t.stop()}Ju=e}function Zu(e=0){Ju===e&&(Ju=null),function(e=0){Hu[e]=null}(e)}function Xu(){return Ju}function ed(e=0){return-1!==Ku.indexOf(e)}var td=p(885);var rd={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},ad=0;void 0!==o?o.onLoad((()=>{rd.offset=Date.now(),ad=Date.now()})):(rd.offset=Date.now(),ad=Date.now());var nd,id=(nd=0,{get(){if(nd>0)return nd;if(0===ad)throw Error("initTime not ready");return nd=ad},since(){return Date.now()-this.get()},set(e){nd=e},reset(){nd=Date.now()}}),od=e=>setTimeout(e,0,1e3*id.since()),sd=e=>clearTimeout(e),ld=null;z.cj&&!(0,z.aI)()?(ld||(ld=p.g.WeixinCanvas),od=e=>ld.requestAnimationFrame(e),sd=e=>ld.cancelAnimationFrame(e)):z.wZ||(0,z.aI)()?(od=e=>q.Z.requestAnimationFrame(e),sd=e=>q.Z.cancelAnimationFrame(e)):z.gm&&(od=e=>window.requestAnimationFrame((()=>e(1e3*id.since()))),sd=e=>window.cancelAnimationFrame(e));var cd=Kc.VKSession,ud=function(){};class dd{constructor(e=0,t={},r=""){this[cd]={webviewId:e,pluginId:r,native:null,options:t,version:t.version||cu,implType:Jc,lastFrame:null,eventMap:{},trigger:(e,t=[])=>{var r=this[cd].eventMap[e];r&&r.length&&r.forEach((r=>{_.surroundThirdByTryCatch(r,`at VKSession's ${e} handler`)(...t)}))},commonCmd:(e,...t)=>{this[cd].native.commonCmd(JSON.stringify(e),...t)},yTexture:null,uvTexture:null,rgbaTexture:null}}get state(){return this[cd].native?this[cd].native.state:xc}get cameraSize(){return this[cd].native?this[cd].native.getCameraSize():null}get config(){return this[cd].native?this[cd].native.config:null}set config(e){this[cd].native.config=e}get version(){return this[cd].version}get requestAnimationFrame(){return this[cd].native?od:ud}get cancelAnimationFrame(){return this[cd].native?sd:ud}static isSupport(e){return!z.gm&&(e===uu?(t=(z.cj,Zc),q.Z.ARSession.isSupportARImplType(t)):e===cu||void 0);var t}start(e){var t=this;return _e()((function*(){if("function"!=typeof e&&(e=ud),t.state===Dc)return e(null);var r=yield li("VKSession.start").catch((e=>({success:!0})));if(r.success){var a=t[cd].options,n=a.track||{},i=t[cd].version;if(!(dd.isSupport(i)||n.plane&&n.plane.force))return console.error(`VKSession.start:fail The current device does not support version "${i}"`),void e(Ec.DEVICE_NOT_SUPPORTED);if(t[cd].native){Yu(t[cd].webviewId);var o=t[cd].native.start();e(o===Ec.SUCCESS?null:Mc[o])}else{if(n.plane?n.plane&&"number"==typeof n.plane.mode&&(n.plane.mode=n.plane.mode<<1):n.plane={mode:2},a.track=n,t[cd].version===uu)if(n.depth)a.arImplType=ou;else if(z.cj){2===n.plane.mode||1===Number(x.default.expt&&x.default.expt.clicfg_appbrand_ios_arkit2wevision_usevertialplane)?a.arImplType=Zc:a.arImplType=Qc}else n.plane.force?a.arImplType=lu:a.arImplType=Zc;if(a.forbidCamera=!1,n.threeDof)a.arImplType=Yc;else if(n.OSD)a.arImplType=eu;else if(n.face&&n.face.mode>0){a.arImplType=tu;var s="object"==typeof n.face?n.face:{};a.forbidCamera=2===s.mode}else if(n.body&&n.body.mode>0){a.arImplType=ru;var l="object"==typeof n.body?n.body:{};a.forbidCamera=2===l.mode}else if(n.hand&&n.hand.mode>0){a.arImplType=nu;var c="object"==typeof n.hand?n.hand:{};a.forbidCamera=2===c.mode}else if(n.OCR){var u="object"==typeof n.OCR?n.OCR:{};a.arImplType=au,a.forbidCamera=2===u.mode}else if(n.IDCard){var d="object"==typeof n.IDCard?n.IDCard:{};a.arImplType=au,a.forbidCamera=2===d.mode}else if(n.shoe){var p="object"==typeof n.shoe?n.shoe:{};a.arImplType=su,a.forbidCamera=2===p.mode}else t[cd].version===cu&&(n.marker?a.arImplType=Xc:n.depth&&(a.arImplType=iu));if(n.depth){var h="object"==typeof n.depth?n.depth:{};a.forbidCamera=2===h.mode}t[cd].implType=a.arImplType;var f=e=>e.map((e=>Ou(t[cd].webviewId,e))).filter((e=>!!e)),g=()=>{if(!q.Z.ARSession)return e(Ec.DEVICE_NOT_SUPPORTED);q.Z.ARSession.create(a,(0,Q.qB)((r=>{if("number"==typeof r){var a=Mc[r]||Ec.SYSTEM_ERROR;return z.wZ&&a===Ec.NO_SYSTEM_CAMERA_ACCESS?void(0,Ze._showModal)({title:"相机权限未开启",content:"请前往“设置>应用>微信>权限”中允许微信访问你的摄像头和麦克风。",confirmText:"前往设置",cancelText:"我知道了",success:t=>{t.confirm&&(0,td.n)(),e(a)}}):e(a)}r.onEvent($c,(e=>t[cd].trigger("addAnchors",[f(e)]))),r.onEvent(qc,(e=>{t[cd].trigger("updateAnchors",[f(e)])})),r.onEvent(zc,(e=>t[cd].trigger("removeAnchors",[f(e)]))),r.onEvent(Hc,(()=>t[cd].trigger("resize"))),t[cd].native=r,Yu(t[cd].webviewId);var n=r.start();return n===Ec.SUCCESS?(e(null),(0,Q.IN)("notifyCameraMessage",{open:!0}),lo(t[cd].pluginId,"VKSession.start")):e(Mc[n]),null}),"ARSession.create.1"),(0,Q.qB)((e=>{"string"==typeof e&&(e=JSON.parse(e));var r=e.event,a=e.params;switch(r){case"onAddFaceAnchor":case"onAddBodyAnchor":case"onAddOCRAnchor":case"onAddIDcardAnchor":case"onAddHandAnchor":case"onAddDepthAnchor":case"onAddShoeAnchor":var n=a.anchors;t[cd].trigger("addAnchors",[f(n)]);break;case"onUpdateFaceAnchor":case"onUpdateBodyAnchor":case"onUpdateOCRAnchor":case"onUpdateIDcardAnchor":case"onUpdateHandAnchor":case"onUpdateDepthAnchor":case"onUpdateShoeAnchor":var i=a.anchors;t[cd].trigger("updateAnchors",[f(i)]);break;case"onRemoveFaceAnchor":case"onRemoveBodyAnchor":case"onRemoveHandAnchor":case"onRemoveOCRAnchor":case"onRemoveIDcardAnchor":case"onRemoveDepthAnchor":case"onRemoveShoeAnchor":var o=a.anchors;t[cd].trigger("removeAnchors",[f(o)])}}),"ARSession.create.2"))};if(a.forbidCamera||Di(["scope.camera"]))g();else Ni(t[cd].pluginId,!0)({scope:"scope.camera",success:g,fail:()=>{e(Ec.NO_MINIPROGRAM_CAMERA_ACCESS)}})}return null}e(r.errno)}))()}stop(){this[cd].native&&this.state!==Rc&&(this[cd].native.stop(),(0,Q.IN)("notifyCameraMessage",{open:!1}),function(e=0){Ju===e&&(Ju=null)}(this[cd].webviewId))}destroy(){this[cd].native&&(this[cd].native.destroy(),(0,Q.IN)("notifyCameraMessage",{open:!1}),ju(this[cd].webviewId),mu(this[cd].webviewId),Zu(this[cd].webviewId),this[cd].native=null,this[cd].lastFrame&&(this[cd].lastFrame.destroy(),this[cd].lastFrame=null),this[cd].eventMap=null,["yTexture","uvTexture","rgbaTexture"].forEach((e=>{var t=this[cd][e];if(t&&t._gl){var r=t._gl;t._gl=null,r.bindTexture(r.TEXTURE_2D,null),r.deleteTexture(t)}this[cd][e]=null})))}getVKFrame(e,t){if(!this[cd].native)return null;ju(this[cd].webviewId);var r=this[cd].native.getARFrame(e,t);if(r){var a=new zu(this[cd].webviewId,r,this);return this[cd].lastFrame&&(this[cd].lastFrame.destroy(),this[cd].lastFrame=null),this[cd].lastFrame=a,a}return null}removeAnchor(e){if(this[cd].native){var t=function(e){return e[bu].native}(e);this[cd].native.removeAnchor(t)}}hitTest(e,t,r=!0){if(!this[cd].native)return null;var a=this[cd].native.hitTest(e,t,r);return a?a.map((e=>({anchor:Ou(this[cd].webviewId,e.anchor),transform:e.transform}))):[]}addMarker(e){var t,r;if(!0!==(null===(t=this[cd].options)||void 0===t||null===(r=t.track)||void 0===r?void 0:r.marker))return console.error("[VKSession.addMarker] Declare track.marker as true when invoke createVKSession and then call addMarker"),null;if(!this[cd].native||this[cd].implType!==Xc&&this[cd].implType!==Zc)return console.error("native is null, implType is not wevision marker or wevision vio"),null;if(!e||"string"!=typeof e)return console.error("[VKSession.addMarker] invalid path"),null;var a=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|usr|store)\//.test(e)||(e=(0,Xe.sd)(Ve.Z.lastRoute,e,!1));var n=Bu(this[cd].webviewId,a);return this[cd].native.addARMarker(n,e),n}removeMarker(e){if(!this[cd].native||this[cd].implType!==Xc&&this[cd].implType!==Zc)return null;this[cd].native.removeARMarker(e)}getAllMarker(){if(!this[cd].native||this[cd].implType!==Xc&&this[cd].implType!==Zc)return null;var e=this[cd].native.getAllARMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}addOSDMarker(e){if(!this[cd].native||this[cd].implType!==eu)return null;if(!e||"string"!=typeof e)return console.error("[VKSession.addOSDMarker] invalid path"),null;var t=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|usr|store)\//.test(e)||(e=(0,Xe.sd)(Ve.Z.lastRoute,e,!1));var r=Bu(this[cd].webviewId,t);return this[cd].native.addOSDMarker(r,e),r}removeOSDMarker(e){if(!this[cd].native||this[cd].implType!==eu)return null;this[cd].native.removeOSDMarker(e)}getAllOSDMarker(){if(!this[cd].native||this[cd].implType!==eu)return null;var e=this[cd].native.getAllOSDMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}update3DMode({open3d:e=!1}={}){if(!this[cd].native||this[cd].implType!==tu&&this[cd].implType!==ru&&this[cd].implType!==nu)return null;this[cd].native.update3DMode(e)}updateMaskMode({useMask:e=!1}={}){if(!this[cd].native||this[cd].implType!==su)return null;this[cd].native.updateMaskMode(e)}updateOSDThreshold(e){if(!this[cd].native||this[cd].implType!==eu)return null;this[cd].native.updateOSDThreshold(e)}setDepthSwitch(e){if(!this[cd].native||this[cd].implType!==Zc)return null;this[cd].native.setDepthSwitch(e)}setDepthOccRange(e=.01,t=10){if(!this[cd].native)return null;this[cd].native.setDepthOccRange(e,t)}detectDepth({frameBuffer:e,width:t,height:r}={}){if(!this[cd].native||this[cd].implType!==iu)return null;var a="number"==typeof t&&!Number.isInteger(t),n="number"==typeof r&&!Number.isInteger(r);(a||n)&&(console.error("[VKSession.detectDepth] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[cd].commonCmd({action:"runDepth",params:{imagePath:0,imageWidth:t,imageHeight:r}},e)}runOCR({frameBuffer:e,width:t,height:r}={}){if(!this[cd].native||this[cd].implType!==au)return null;var a="number"==typeof t&&!Number.isInteger(t),n="number"==typeof r&&!Number.isInteger(r);(a||n)&&(console.error("[VKSession.runOCR] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[cd].commonCmd({action:"runOCR",params:{imagePath:0,imageWidth:t,imageHeight:r}},e)}detectIDCard({frameBuffer:e,width:t,height:r,getAffineImg:a}={}){if(!this[cd].native||this[cd].implType!==au)return null;var n="number"==typeof t&&!Number.isInteger(t),i="number"==typeof r&&!Number.isInteger(r);(n||i)&&(console.error("[VKSession.detectIDCard] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[cd].commonCmd({action:"IDcardDetection",params:{imagePath:0,imageWidth:t,imageHeight:r,getAffineImg:a}},e)}detectFace({frameBuffer:e,width:t,height:r,scoreThreshold:a,sourceType:n,modelMode:i=1,open3d:o=!1}={}){if(!this[cd].native||this[cd].implType!==tu)return null;var s="number"==typeof t&&!Number.isInteger(t),l="number"==typeof r&&!Number.isInteger(r);(s||l)&&(console.error("[VKSession.detectFace] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[cd].commonCmd({action:"detectFace",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:a,sourceType:n,modelMode:i,open3d:o}},e)}detectBody({frameBuffer:e,width:t,height:r,scoreThreshold:a,sourceType:n,open3d:i=!1}={}){if(!this[cd].native||this[cd].implType!==ru)return null;var o="number"==typeof t&&!Number.isInteger(t),s="number"==typeof r&&!Number.isInteger(r);(o||s)&&(console.error("[VKSession.detectBody] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[cd].commonCmd({action:"detectBody",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:a,sourceType:n,open3d:i}},e)}detectHand({frameBuffer:e,width:t,height:r,scoreThreshold:a,algoMode:n,open3d:i=!1}={}){if(!this[cd].native||this[cd].implType!==nu)return null;var o="number"==typeof t&&!Number.isInteger(t),s="number"==typeof r&&!Number.isInteger(r);(o||s)&&(console.error("[VKSession.detectHand] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[cd].commonCmd({action:"runHand",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:a,algoMode:n,open3d:i}},e)}on(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[cd].eventMap;if(r){var a=r[e]=r[e]||[];-1===a.indexOf(t)&&a.push(t)}}}off(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[cd].eventMap;if(r){var a=r[e]=r[e]||[],n=a.indexOf(t);n>=0&&a.splice(n,1)}}}}function pd(e){var t=Xu();t!==e&&function(e=0){var t=Qu(e);t&&(t.stop(),ed(e)||Ku.push(e))}(t)}function hd(e){ed(e)&&function(e=0){var t=Qu(e);if(t&&(t.start(),ed(e))){var r=Ku.indexOf(e);Ku.splice(r,1)}}(e)}function fd(e={}){var t=(0,St.hI)(this),r=Ve.Z.currentWebviewId,a=Qu(r),n=e.version||cu,i=e.track||{};return dd.isSupport(n)||i.plane&&i.plane.force||console.error(`createVKSession:fail The current device does not support version "${n}"`),(0,z.aI)()?a=new dd(r,e,t):a||function(e=0,t){Hu[e]=t}(r,a=new dd(r,e,t)),a}function gd(e={}){var t=Ve.Z.currentWebviewId,{type:r,config:a={}}=e,n=null;return"image"===r?n=new q.Z.ARImageReference(a):"object"===r&&(n=new q.Z.ARObjectReference(a)),vu(t,n)}function vd(e){return dd.isSupport(e)}(0,Ac.Ke)((()=>{hd(Ve.Z.currentWebviewId)})),(0,ar.Jv)((()=>pd())),(0,et.HM)((e=>{var t=e.webviewId;pd(t),hd(t),st(t,(()=>{var e=Qu(t);e&&e.destroy(),ju(t),mu(t)}),"AR")}));var md=p(2219),yd=p(6589),_d=p(1441),bd=void 0,wd=!1;function Id(){return new bd}o.onLoad((()=>{bd=q.Z&&q.Z.WXAUDIO?q.Z.WXAUDIO:q.Z&&q.Z.AudioContext?q.Z.AudioContext:"undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,wd=!0}));var Sd=p(4317),kd=p(8602),Cd=p(8007),Td=!1,Pd=()=>{Td=!0},Ad={"jsapi-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"useWebAudioImplement-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0}},Ed={},Md=(e,t)=>t+"-"+e,xd=(e,t,r)=>{if(t){Ad[e].playCount++;var a=Md(t,r);Ed[a]?(Ed[a].playCount++,Ed[a].playBeginTime=Date.now()):Ed[a]={playCount:1,playBeginTime:Date.now()}}},Dd=(e,t,r,a,n,i)=>{Ad[e].realPlayCount++;var o=Md(t,r);if(t&&Ed[o]){var s=a-Ed[o].playBeginTime,l=1===Ed[o].playCount?"firstPlay":"notFirstPlay";if(Ad[e].duringPlayToRealPlay[l].push(s),n){var c={key:"MediaApi",value:[(0,rr._getCurrentNetworkType)(),(0,pi.k)()+" "+(0,pi.n)(),"createInnerAudioContext",e,r,`playSuccess(${l})`,s,s,encodeURIComponent(JSON.stringify({size:i,src:t}))].join(",")};Math.random()<.005&&b.reportKeyValue(c)}}},Rd=({mediaType:e,implementType:t,mediaInstanceId:r,actionType:a,actionStatus:n,costTime:i,src:o,errmsg:s})=>{Ad[t].playErrorCount++,Ad[t].playErrorCount>1||b.reportKeyValue({key:"MediaApi",value:[(0,rr._getCurrentNetworkType)(),(0,pi.k)()+" "+(0,pi.n)(),e,t,r,a,n,i,(0,Cd.c)(`"${o}" fail: ${s}`)].join(",")})};(0,ar.vv)((()=>{(0,z.aI)()&&Math.random()<.005&&!Td&&Object.keys(Ad).forEach((e=>{var t=Ad[e],r=t.playCount,a=t.realPlayCount;if(r>0){var n=t.playErrorCount,i={key:"MediaApi",value:[(0,rr._getCurrentNetworkType)(),(0,pi.k)()+" "+(0,pi.n)(),"createInnerAudioContext",e,"","successRate",a/r,a/r,(0,Cd.c)(JSON.stringify({playCount:r,realPlayCount:a,playErrorCount:n}))].join(",")};b.reportKeyValue(i)}})),Ad={"jsapi-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"useWebAudioImplement-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0}}}));var Ld=()=>{},Nd=()=>{},Od=()=>{},Bd="useWebAudioImplement-1.0";Ld=(e,t)=>{xd(Bd,e,t)},Nd=(e,t)=>{Rd({mediaType:"createInnerAudioContext",implementType:Bd,mediaInstanceId:"",actionType:"playError",actionStatus:"",costTime:0,src:e,errmsg:t})},Od=(e,t,r)=>{Dd(Bd,e,t,r)};var jd,Fd=0,Wd=0,Ud=0,Gd=new WeakMap,Vd=new WeakMap,$d=new WeakMap,qd=new WeakMap,zd=new WeakMap,Hd=new WeakMap,Kd=new WeakMap,Jd=new WeakMap,Qd=new WeakMap,Yd=new WeakMap,Zd=new WeakMap,Xd=new WeakMap,ep=new Map,tp={},rp=52428800,ap=0,np=0,ip=e=>{var t=Object.keys(tp).sort(((e,t)=>tp[e].index-tp[t].index));t.some((t=>{var r=tp[t];if(r.audioBuffer&&e!==t){var a=r.audioBufferSize;if(delete r.audioBuffer,delete r.audioBufferSize,delete tp[t],(ap-=a)<=rp)return!0}return!1}))},op=e=>{e.index=++np},sp=(e,t,r)=>{var a=tp[e];if(a&&a.audioBuffer)op(a),t(a.audioBuffer,{sync:!0});else if(a&&a.loading)op(a),a.successCallbacks.push(t),a.failCallbacks.push(r);else{tp[e]={loading:!0,successCallbacks:[t],failCallbacks:[r]},(/^(http|https):\/\//.test(e)?cp(e):/^(cloud):\/\//.test(e)?up(e):/^(wxblob:\/\/)/.test(e)?dp(e):/^data:audio\//.test(e)?pp(e):lp(e)).then((t=>{jd.decodeAudioData(t,(0,Q.qB)((t=>{var r,a=tp[e];op(a),r=a.audioBuffer?a.audioBuffer:((e,t,r)=>(e.audioBuffer=t,e.audioBufferSize=t.sampleRate*t.duration*4*t.numberOfChannels,(ap+=e.audioBufferSize)>rp&&ip(r),e.audioBuffer))(a,t,e);try{a.successCallbacks&&a.successCallbacks.forEach((e=>{e(r,{sync:!1})}))}catch(e){console.error(e),f.error("loadAudio invoke successCallback fail",e.message),a.failCallbacks&&a.failCallbacks.forEach((t=>{t(e)}))}delete a.successCallbacks,delete a.failCallbacks,delete a.loading}),"WebAudioAdapter-decodeAudioData-success"),(0,Q.qB)((t=>{try{var r=tp[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),f.error("loadAudio invoke failCallback fail",t.message)}delete a.successCallbacks,delete a.failCallbacks,delete a.loading}),"WebAudioAdapter-decodeAudioData-fail"))})).catch((t=>{try{var r=tp[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),f.error("loadAudio invoke failCallback fail",t.message)}delete a.successCallbacks,delete a.failCallbacks,delete a.loading}))}},lp=e=>{return(t={filePath:e},new Sd.Q(((e,r)=>{(0,Nt.p)({...t,success:e,fail:r})}))).then((e=>e.data));var t},cp=e=>{return(t={url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0},new Sd.Q(((e,r)=>{(0,Lt.UF)({...t,success:e,fail:r})}))).then((e=>e.data));var t},up=e=>new Sd.Q(((t,r)=>{Yt([e],"audio",(e=>{cp(e.data[0].url).then((e=>t(e))).catch((e=>{r(e)}))}))})),dp=e=>new Sd.Q((t=>{t(kd.Z.get(e))})),pp=e=>{var t=e.indexOf("base64,")+7;return e=e.slice(t),new Sd.Q(((t,r)=>{try{t((0,we.RG)(e))}catch(e){e.errMsg=e.message,r(e)}}))},hp=function(e){Gd.set(this,Object.assign(Gd.get(this),e))},fp=function(e){return Gd.get(this)[e]},gp=function(){return Gd.get(this)},vp=function(){this.stop(!0),hp.call(this,{_source:null});var e=$d.get(this);e&&e()},mp=function(e){var t=++Ud,r=jd.createBufferSource(t),{currentPlayBackTime:a,state:n}=yp.call(this,e),{loop:i,playbackRate:o,_buffer:s,_gainNode:l,_instanceId:c,src:u,withReport:d}=n,p=vp.bind(this);r.onended=(0,Q.ZI)(p,"WebAudioAdapter-BufferSource.onended"),r.buffer=s,r.loop=i,r.playbackRate.value=o,l&&r.connect(l),r.start(0,a),jd.resume(),hp.call(this,{_isPlaying:!0,paused:!1,_source:r,_played:!0,_playbackTime:0,_lastCurrentTime:a,_startedAt:jd.currentTime,_endedHandler:p,_bufferSourceId:t}),this._startTimeupdateInterval(),(z.cj||z.wZ)&&d&&ep.set(t,{_instanceId:c,src:u})},yp=function(e){e=e||gp.call(this);var t,{_startedAt:r,_playbackTime:a,_isPlaying:n,playbackRate:i,_lastCurrentTime:o,duration:s}=e;return(t=n?o+(jd.currentTime-r)*i:a)>s&&(t%=s),{currentPlayBackTime:t,state:e}},_p=function(){this.stop(!0);var{_gainNode:e,_audioLoadPromiseResolve:t}=gp.call(this);e&&e.disconnect(),hp.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null,_playPendingIdMap:null}),t(!0),e=null,t=null,Vd.delete(this),$d.delete(this),qd.delete(this),zd.delete(this),Kd.delete(this),Hd.delete(this),Jd.delete(this),Qd.delete(this),Xd.delete(this),clearInterval(Zd.get(this)),Zd.delete(this)},bp=function(){this.stop(!0),hp.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null})},wp=function(e){var t,r;bp.call(this);var a=new Sd.Q(((e,a)=>{t=e,r=a}));hp.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:a,_audioLoadPromiseResolve:t,_audioLoadPromiseReject:r})},Ip={},Sp=(e,t)=>e+"-"+t,kp=function(e,t){var r=Sp(t,e);Ip[r]?Ip[r]++:Ip[r]=1};class Cp{constructor({withReport:e}={}){jd||("function"==typeof(jd=Id()).create&&jd.create(-1,!0),(z.cj||z.wZ)&&(jd.onmessage=(0,Q.ZI)((e=>{var{message:t,node_id:r}=e;if("real_play"===t){var a=ep.get(r);if(ep.delete(r),a){var{_instanceId:n,src:i}=a,o=Sp(n,i);Ip[o]&&(Ip[o]--,this.ignoreReport||Od(i,n,Date.now()))}}}),"WebAudioAdapter-AudioContext.onmessage")));var t=jd.createGain();t&&t.connect&&t.connect(jd.destination);var r={withReport:e},a=new Sd.Q(((e,t)=>{r._audioLoadPromiseResolve=e,r._audioLoadPromiseReject=t}));Gd.set(this,Object.assign(r,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!0,duration:NaN,_loadPromise:a,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:"",_playPendingIdMap:{},_instanceId:++Wd}))}get src(){return fp.call(this,"src")}set src(e){var{src:t,_gainNode:r}=gp.call(this);r&&"string"==typeof e&&e.length>0&&t!==e&&(t&&wp.call(this,e),hp.call(this,{src:e}),sp(e,((t,{sync:r})=>{var{src:a,_gainNode:n,_isPlaying:i,autoplay:o,_audioLoadPromiseResolve:s}=gp.call(this);if(n){if(a===e){if(hp.call(this,{_ready:!0,_buffer:t,duration:t.duration}),r)setTimeout((()=>{var e=Vd.get(this);e&&e()}),0);else{var l=Vd.get(this);l&&l()}return!o||i||fh()||this.play(),s(!1),null}s(!0)}}),(t=>{var r=`set audio src "${e}" fail: ${t.message||t.errMsg}`;console.error(t),f.error("loadAudioFail ",t);var a=gp.call(this),{_audioLoadPromiseReject:n}=a,i=qd.get(this);i&&i({type:"error",errMsg:r,errno:t.errno}),n(t)})))}get startTime(){return fp.call(this,"startTime")}set startTime(e){var{_played:t,startTime:r,_gainNode:a}=gp.call(this);a&&e!==r&&"number"==typeof e&&e>=0&&(hp.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return fp.call(this,"autoplay")}set autoplay(e){var{autoplay:t,_gainNode:r}=gp.call(this);r&&!!e!==t&&(e&&(this.ignoreReport=!0,Pd()),hp.call(this,{autoplay:!!e}))}get loop(){return fp.call(this,"loop")}set loop(e){var{_source:t,_gainNode:r}=gp.call(this);r&&(hp.call(this,{loop:e=!!e}),e&&(this.ignoreReport=!0,Pd()),t&&(t.loop=e))}get volume(){return fp.call(this,"volume")}set volume(e){var{volume:t,_gainNode:r}=gp.call(this);r&&"number"==typeof e&&e>=0&&e<=1&&e!==t&&(hp.call(this,{volume:e}),r&&r.gain&&(r.gain.value=e))}get playbackRate(){return fp.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:r,_gainNode:a}=gp.call(this);a&&"number"==typeof e&&t!==e&&e>=.5&&e<=2&&(hp.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:jd.currentTime}),r&&(r.playbackRate.value=e))}get duration(){return fp.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=yp.call(this);return e}set currentTime(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=gp.call(this);if(!r)return;var a=Jd.get(this),n=Qd.get(this),i=Vd.get(this);n&&n(),this.ignoreReport=!0,Pd(),t?(this.stop(!0),hp.call(this,{_playbackTime:e}),this.play(!0)):hp.call(this,{_playbackTime:e}),a&&a(),i&&i()}}get paused(){return fp.call(this,"paused")}get buffered(){var{duration:e}=gp.call(this);return e>0?e:0}play(e=!1){var t=gp.call(this),{_isPlaying:r,_ready:a,_loadPromise:n,_gainNode:i,_playPendingIdMap:o,withReport:s,src:l,_instanceId:c}=t;if(i){var u=this.lastPlayTime,d=Date.now();if(this.lastPlayTime=d,u&&d-u<1e3&&(this.ignoreReport=!0,Pd()),r&&!e&&s&&!this.ignoreReport)return Ld(l,c),void Od(l,c,Date.now());e||!s||this.ignoreReport||Ld(l,c);var p=()=>{if(!e){var t=zd.get(this);t&&t()}};if(a){var h;try{mp.call(this,t)}catch(t){h=t;var f=qd.get(this);f&&f({type:"error",errMsg:t.message}),!e&&s&&Nd(l,t.message),console.error(t)}h||(!e&&s&&kp(l,c),p())}else{var g=++Fd;o[g]=!0,n.then((u=>{var d=!1===o[g];if(delete o[g],u)return r=null,a=null,n=null,i=null,t=null,void(p=null);if(!d){var h,f=gp.call(this),{_isPlaying:v}=f;if(!v){try{mp.call(this,f)}catch(t){h=t;var m=qd.get(this);m&&m({type:"error",errMsg:t.message}),!e&&s&&Nd(l,t.message),console.error(t)}return h||(!e&&s&&kp(l,c),p()),null}}})).catch((e=>{s&&Nd(l,e.errMsg||e.message)}))}}}pause(){var e=gp.call(this),{_isPlaying:t,_source:r,_gainNode:a,_playPendingIdMap:n}=e;if(a)if(r&&t){var i=Hd.get(this);r.stop(0),r.onended=null,hp.call(this,{_source:null,_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),i&&i()}else Object.keys(n).forEach((e=>{n[e]=!1}))}stop(e=!1){var{_source:t,_gainNode:r,_isPlaying:a,_playPendingIdMap:n}=gp.call(this);if(r){if(t)try{var i=Kd.get(this);t.stop(0),t.onended=null,hp.call(this,{_source:null,_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&i&&i(),this._finishTimeupdateInterval()}catch(e){f.error("stop时出错",e)}a||Object.keys(n).forEach((e=>{n[e]=!1}))}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=gp.call(this);if(!r)return;var a=Jd.get(this),n=Qd.get(this),i=Vd.get(this);n&&n(),this.ignoreReport=!0,Pd(),t?(this.stop(!0),hp.call(this,{_playbackTime:e}),this.play(!0)):hp.call(this,{_playbackTime:e}),a&&a(),i&&i()}}destroy(){var{_gainNode:e}=gp.call(this);e&&_p.call(this)}set oncanplay(e){if("function"==typeof e){var{_gainNode:t}=gp.call(this);if(!t)return;Vd.set(this,e)}else Vd.delete(this)}set onended(e){if("function"==typeof e){var{_gainNode:t}=gp.call(this);if(!t)return;$d.set(this,e)}else $d.delete(this)}set onerror(e){if("function"==typeof e){var{_gainNode:t}=gp.call(this);if(!t)return;qd.set(this,e)}else qd.delete(this)}set onplay(e){if("function"==typeof e){var{_gainNode:t}=gp.call(this);if(!t)return;zd.set(this,e)}else zd.delete(this)}set onpause(e){if("function"==typeof e){var{_gainNode:t}=gp.call(this);if(!t)return;Hd.set(this,e)}else Hd.delete(this)}set onstop(e){if("function"==typeof e){var{_gainNode:t}=gp.call(this);if(!t)return;Kd.set(this,e)}else Kd.delete(this)}set onseeked(e){if("function"==typeof e){var{_gainNode:t}=gp.call(this);if(!t)return;Jd.set(this,e)}else Jd.delete(this)}set onseeking(e){if("function"==typeof e){var{_gainNode:t}=gp.call(this);if(!t)return;Qd.set(this,e)}else Qd.delete(this)}set ontimeupdate(e){if("function"==typeof e){var{_gainNode:t}=gp.call(this);if(!t)return;Yd.set(this,e)}else Yd.delete(this)}set onwaiting(e){if("function"==typeof e){var{_gainNode:t}=gp.call(this);if(!t)return;Xd.set(this,e)}else Xd.delete(this)}_startTimeupdateInterval(){var{_gainNode:e,_instanceId:t,_isPlaying:r}=gp.call(this);if(e){var a=Zd.get(this),n=Yd.get(this);clearInterval(a),r&&setTimeout((()=>{n&&n()}),0);var i=setInterval((()=>{var e=Yd.get(this),{_isPlaying:t}=gp.call(this);t&&e&&e()}),350);Zd.set(this,i)}}_finishTimeupdateInterval(){var e=Zd.get(this);clearInterval(e)}}var Tp,Pp=()=>function(){if(!wd)throw new Error("detect WebAudioContext too early");return!!bd}()&&!0,Ap=(e,t)=>(0,Q.ZI)(e,`AudioElement.${t}`),Ep=new WeakMap,Mp=new WeakMap,xp=function(){return Mp.get(this)},Dp={},Rp=(e,t)=>e+"-"+t,Lp=()=>(Tp||"function"==typeof(Tp=Id()).create&&Tp.create(),Tp),Np=0,Op=0,Bp=new Map,jp=new WeakMap;class Fp{constructor({size:e,type:t}){this.reportBeginPlay=()=>{},this.reportFailPlay=()=>{},this.reportSuccessPlay=()=>{};var r=0===e?"WebAudioHTMLAudioElementRemote-1.0":"WebAudioHTMLAudioElementLocal-1.0";this.reportBeginPlay=(e,t)=>{this.ignoreReport||xd(r,e,t)},this.reportFailPlay=(e,t)=>{Rd({mediaType:"createInnerAudioContext",implementType:r,mediaInstanceId:"",actionType:"playError",actionStatus:"",costTime:0,src:e,errmsg:t})},this.reportSuccessPlay=(e,t,a,n)=>{this.ignoreReport||Dd(r,e,t,a,!0,n)};var a=Lp(),n=a.createHTMLAudioElement();(Op+=1)>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (>200) InnerAudioContext instances have been created, please destroy the existing instances first !");var i=a.createMediaElementSource(n),o=a.createGain();i.connect(o),o&&o.connect&&o.connect(a.destination),Ep.set(this,n);var s=(0,ve.M8)();Mp.set(this,{startTime:0,source:i,gain:o,_instanceId:s,size:e,type:t,_isStop:!1}),n.addEventListener("error",Ap((e=>{var t,r=(null===(t=Ep.get(this))||void 0===t?void 0:t.src)||"";this.reportFailPlay(r,e.message)}),"error-1")),n.addEventListener("inner",Ap((e=>{if("real_play"===e.type){var{play_id:t}=e;if(t){t=+t;var r=Bp.get(t);if(Bp.delete(t),r){var{_instanceId:a,src:n,size:i}=r,o=Rp(a,n);Dp[o]&&(Dp[o]--,this.reportSuccessPlay(n,a,Date.now(),i))}}}}),"inner"))}get src(){var e;return this.cloudId?this.cloudId:null===(e=Ep.get(this))||void 0===e?void 0:e.src}set src(e){Ep.get(this)&&Yt([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,Ep.get(this).src=e}))}get startTime(){var e;return null===(e=Mp.get(this))||void 0===e?void 0:e.startTime}set startTime(e){var{_played:t,startTime:r}=xp.call(this);e!==r&&"number"==typeof e&&e>=0&&Mp.get(this)&&(Mp.get(this).startTime=e,t||this.seek(e))}get autoplay(){var e;return null===(e=Ep.get(this))||void 0===e?void 0:e.autoplay}set autoplay(e){Ep.get(this)&&(e?(this.ignoreReport=!0,Pd(),setTimeout((()=>{Ep.get(this)&&(Ep.get(this).autoplay=e)}),0)):Ep.get(this).autoplay=e)}get loop(){var e;return null===(e=Ep.get(this))||void 0===e?void 0:e.loop}set loop(e){Ep.get(this)&&(e&&(this.ignoreReport=!0,Pd()),Ep.get(this).loop=e)}get volume(){var e;return null===(e=Ep.get(this))||void 0===e?void 0:e.volume}set volume(e){Ep.get(this)&&(Ep.get(this).volume=e)}get playbackRate(){var e;return null===(e=Ep.get(this))||void 0===e?void 0:e.playbackRate}set playbackRate(e){Ep.get(this)&&(Ep.get(this).playbackRate=e)}get duration(){var e;return null===(e=Ep.get(this))||void 0===e?void 0:e.duration}get currentTime(){var e;return null===(e=Ep.get(this))||void 0===e?void 0:e.currentTime}set currentTime(e){if(Ep.get(this)){this.ignoreReport=!0,Pd();var t=Mp.get(this);t&&(t._isStop=!1),Ep.get(this).currentTime=e}}get paused(){var e;return null===(e=Ep.get(this))||void 0===e?void 0:e.paused}get buffered(){var e;return null===(e=Ep.get(this))||void 0===e?void 0:e.duration}play(){var e,t,r,a,n=null===(e=Ep.get(this))||void 0===e?void 0:e.src,i=null===(t=Mp.get(this))||void 0===t?void 0:t._instanceId,o=null===(r=Mp.get(this))||void 0===r?void 0:r.size,s=this.lastPlayTime,l=Date.now();this.lastPlayTime=l,s&&l-s<1e3&&(this.ignoreReport=!0,Pd()),i&&this.reportBeginPlay(n,i);var c=++Np;(z.cj||z.wZ)&&Bp.set(c,{_instanceId:i,src:n,size:o}),function(e,t){var r=Rp(t,e);Dp[r]?Dp[r]++:Dp[r]=1}(n,i);var u=Mp.get(this);u&&(u._isStop=!1),null===(a=Ep.get(this))||void 0===a||a.play(c)}pause(){var e;null===(e=Ep.get(this))||void 0===e||e.pause()}stop(){var e=Ep.get(this);if(e){e.pause();var t=Mp.get(this);t&&(t._isStop=!0),e.currentTime=0,setTimeout((()=>{var e=jp.get(this);"function"==typeof e&&e()}),0)}}seek(e){if(Ep.get(this)){this.ignoreReport=!0,Pd();var t=Mp.get(this);t&&(t._isStop=!1),Ep.get(this).currentTime=e}}destroy(){var e,t=Mp.get(this);t&&(t.gain&&t.gain.disconnect&&t.gain.disconnect(),null===(e=t.source)||void 0===e||e.disconnect());Ep.delete(this),Mp.delete(this),jp.delete(this),Op-=1}set oncanplay(e){var t;null===(t=Ep.get(this))||void 0===t||t.addEventListener("canplay",Ap(((...t)=>{Mp.get(this)._isStop||e(...t)}),"canplay"))}set onended(e){var t;null===(t=Ep.get(this))||void 0===t||t.addEventListener("ended",Ap(e,"ended"))}set onerror(e){var t;null===(t=Ep.get(this))||void 0===t||t.addEventListener("error",Ap(e,"error-2"))}set onplay(e){var t;null===(t=Ep.get(this))||void 0===t||t.addEventListener("play",Ap(e,"play"))}set onpause(e){var t;null===(t=Ep.get(this))||void 0===t||t.addEventListener("pause",Ap(e,"pause"))}set onstop(e){"function"==typeof e?jp.set(this,e):jp.delete(this)}set onseeked(e){var t;null===(t=Ep.get(this))||void 0===t||t.addEventListener("seeked",Ap(e,"seeked"))}set onseeking(e){var t;null===(t=Ep.get(this))||void 0===t||t.addEventListener("seeking",Ap(e,"seeking"))}set ontimeupdate(e){var t;null===(t=Ep.get(this))||void 0===t||t.addEventListener("timeupdate",Ap(e,"timeupdate"))}set onwaiting(e){var t;null===(t=Ep.get(this))||void 0===t||t.addEventListener("waiting",Ap(e,"waiting"))}}var Wp=p(7849),Up=p(4571),Gp=new Set([1177,1184,1200,1228]),Vp=new Set([0,1,2,7]),$p=()=>{var{scene:e}=(0,Wp._)();return Gp.has(e)&&Vp.has(x.default.appType)&&"default"!==(0,Up.kd)()},qp=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],zp=["startTime","duration","currentTime"],Hp=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],Kp=new Set,Jp=new WeakMap,Qp=new WeakMap,Yp=new WeakMap,Zp=new WeakMap;class Xp{constructor(e,t=1e3,r){var a=new tt.Z;Jp.set(this,e),Zp.set(this,{conversion:t,type:r}),qp.forEach((r=>Object.defineProperty(this,r,{get:()=>zp.includes(r)?e[r]/t:e[r],set(a){$p()||(zp.includes(r)?e[r]=t*a:e[r]=a)}}))),Hp.forEach((t=>{this["on"+t]=e=>{var r=_.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);Qp.set(e,r),Yp.set(r,e),a.on(t,r)},this["off"+t]=e=>{if((0,R.mf)(e)){var r=Qp.get(e);(0,R.mf)(r)&&(a.off(t,r),Qp.delete(e),Yp.delete(r))}else a.listeners(t).forEach((e=>{var t=Yp.get(e);Qp.delete(t),Yp.delete(e)})),a.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,r)=>{e?(0,R.Kn)(e)?a.emit(t,e):a.emit(t,{errCode:e,errMsg:r}):a.emit(t),"Play"===t?Kp.add(this):"Ended"!==t&&"Error"!==t&&"Pause"!==t&&"Stop"!==t||Kp.delete(this)}}))}play(){var e;$p()||fh()&&"inner"!==Zp.get(this).type||null===(e=Jp.get(this))||void 0===e||e.play()}stop(){var e;null===(e=Jp.get(this))||void 0===e||e.stop()}pause(){var e;null===(e=Jp.get(this))||void 0===e||e.pause()}seek(e){var t,r;if(!$p()){var{conversion:a}=null!==(t=Zp.get(this))&&void 0!==t?t:{};null===(r=Jp.get(this))||void 0===r||r.seek(a*e)}}destroy(){var e=Jp.get(this);e.destroy&&e.destroy(),Hp.forEach((e=>{this["off"+e]()})),Kp.delete(this),Jp.delete(this)}static pauseAllAudio(){Kp.forEach((e=>{if("inner"!==Zp.get(e).type){var t=Jp.get(e);t&&t.pause()}}))}}class eh extends Xp{constructor({type:e}){super(new q.Z.Audio,1e3,e)}}class th extends Xp{constructor({withReport:e,type:t}={}){super(new Cp({withReport:e}),1,t)}}class rh extends Xp{constructor({size:e,type:t}={}){super(new Fp({size:e}),1,t)}}var ah=p(6551),nh=new Set,ih=()=>{var{system:e}=(0,un.getStableSystemInfo)();z.wZ&&-1===(0,ah.cv)(e,"6.0.0")&&console.error("Error: WebAudio don't support android system under 6!");var t=Id();q.Z&&q.Z.WXAUDIO&&t&&"function"==typeof t.create&&t.create(),nh.add(t);var r=[];if(["close","resume","suspend"].forEach((e=>{var a=t[e];Object.defineProperty(t,e,{configurable:!1,get:()=>function(){return"close"===e&&nh.delete(t),new Promise((e=>{r.push(e);var n=t.onstatechange;t.onstatechange=(0,Q.ZI)((()=>{"function"==typeof n&&n();var e=r.pop();e&&e(),t.onstatechange=n}),"WebAudioContext-onstatechange"),a.call(t)}))}.bind(t)})})),z.wZ||z.cj&&q.Z&&q.Z.WXAUDIO){var a=new Set,n=t.createBufferSource;t.createBufferSource=()=>{var e,r=n.call(t),i=null;r.onended=(0,Q.ZI)(((...t)=>{a.delete(r),"function"==typeof i&&i(...t),i=null,r&&(r.onended=null),r=null,clearTimeout(e)}),"BufferSource-onended");var o=new Proxy(r,{get(t,n){var o=Reflect.get(t,n);return"function"==typeof o&&(o=o.bind(t)),"start"===n?function(...t){if($p()||fh())console.warn("AudioBufferSourceNode.start() operation was canceled because the ad was playing");else{if(r&&r.buffer&&(a.add(r),r.buffer.duration)){var n=Math.floor(1e3*(r.buffer.duration/r.playbackRate.value+5));n>0&&(e=setTimeout((()=>{r&&(a.delete(r),i=null,r&&(r.onended=null),r=null)}),n))}o(...t)}}:"stop"===n?function(...t){return a.delete(r),r&&(r.onended=null),r=null,clearTimeout(e),"function"==typeof i?setTimeout((()=>{"function"==typeof i?(i(),i=null):i=null}),0):i=null,o(...t)}:o},set:(e,t,r)=>"onended"===t?(i=r,!0):Reflect.set(e,t,r)});return o};var i=t.createPeriodicWave;t.createPeriodicWave=(e,r,a)=>{if(e.length===r.length)return i.call(t,e,r,a);console.error(`Length of real array (${e.length}) and length of imaginary array (${r.length}) must match.`)}}return t};class oh{static pauseAllAudio(){nh.forEach((e=>{e.suspend()}))}}var sh,lh=()=>{Vh.pauseAllAudio(),Xp.pauseAllAudio(),oh.pauseAllAudio()},ch=e=>{try{sh=JSON.stringify(e)}catch(e){console.error(e)}(0,Q.IN)("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))},uh=!1,dh=!1;"undefined"!=typeof IS_SDK_PACKAGE||(0,Q.jQ)("onAudioInterruptionBegin",(e=>{uh=!0,!1===dh&&yd.u.emit(e)})),"undefined"!=typeof IS_SDK_PACKAGE||(0,Q.jQ)("onAudioInterruptionEnd",(e=>{uh=!1,!1===dh&&_d.FY.emit(e)}));var ph=()=>{!1===uh&&!1===dh&&(dh=!0,yd.u.emit({}),lh())},hh=()=>{!1===uh&&!0===dh&&(dh=!1,_d.FY.emit({})),(()=>{if(sh){var e=JSON.parse(sh);(0,Q.IN)("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))}})()},fh=()=>dh,gh=()=>{},vh=()=>{},mh=()=>{};gh=(e,t,r)=>{xd(r,e,t)},vh=(e,t,r)=>{Rd({mediaType:"createInnerAudioContext",implementType:r,mediaInstanceId:"",actionType:"playError",actionStatus:"",costTime:0,src:e,errmsg:t})},mh=(e,t,r,a,n)=>{Dd(a,e,t,r,!0,n)};var yh=new WeakMap,_h=new WeakMap,bh=new WeakMap,wh=new WeakMap,Ih=new WeakMap,Sh=new WeakMap,kh=new WeakMap,Ch=new WeakMap,Th=new Map,Ph=new Map,Ah=new Map,Eh=f.createLogger("InnerAudio"),Mh=function(e,t){_h.set(this,Object.assign(_h.get(this),{[e]:t})),"src"===e&&_h.set(this,Object.assign(_h.get(this),{paused:!0})),wh.get(this)&&(setTimeout((()=>{var r=Object.assign({},_h.get(this),Ih.get(this),{timestamp:Date.now(),audioId:yh.get(this),success:()=>{_h.set(this,Object.assign(_h.get(this),{[e]:t}))},fail:()=>{Dh.call(this)}});fh()&&(r.autoplay=!1),(0,Q.IN)("setAudioState",r),wh.set(this,!0)}),0),wh.set(this,!1)),Ih.set(this,Object.assign(Ih.get(this),{[e]:t}))},xh=function(e,t){kh.get(this).then((()=>{Mh.call(this,e,t)}))},Dh=function(e,t){var r=_h.get(this)[e];return(0,Q.IN)("getAudioState",{audioId:yh.get(this),success:a=>{delete a.errMsg,_h.set(this,Object.assign(_h.get(this),a)),r=a[e],"function"==typeof t&&t(r)}}),r},Rh=function(e){var t=yh.get(this);(0,Q.IN)("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:r})=>{Eh.error(`operateAudio fail: errMsg="${r}"`,e.operationType,t),Wh.call(this,"error",{errMsg:r,errCode:-1});var a=_h.get(this);null!=a&&a.withReport&&vh("",r,null==a?void 0:a.implementType)}},e))},Lh=function(e){return kh.get(this).then((()=>{if("play"===e.operationType){var t=_h.get(this);if(null!=t&&t.withReport&&!t.ignoreReport){var r=yh.get(this);gh(null==t?void 0:t.src,r,null==t?void 0:t.implementType)}}setTimeout((()=>{Rh.call(this,e)}),0)}))},Nh=new tt.Z;"undefined"!=typeof IS_SDK_PACKAGE||(0,Q.jQ)("onAudioStateChange",((e={})=>{if("real_play"===e.state){var t=Th.get(e.audioId);null!=t&&t.withReport&&!t.ignoreReport&&mh(null==t?void 0:t.src,e.audioId,Date.now(),null==t?void 0:t.implementType,null==t?void 0:t.size)}else{e.state=e.state.toLowerCase();var{state:r,audioId:a,errMsg:n}=e;delete e.audioId,delete e.state;var i="play"!==r,o=Th.get(a);o&&(o.paused=i),"error"===r&&null!=o&&o.withReport&&vh(null==o?void 0:o.src,n,null==o?void 0:o.implementType);var s=Ah.get(a);if(!s||!(r in s))return;Nh.emit(`${a}_onAudioStateChange_${r}`,e)}}));var Oh=function(e,t){var r=`${yh.get(this)}_onAudioStateChange_${e}`,a=r=>{_.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(r)};Sh.set(t,a),Nh.on(r,a)},Bh=function(e,t){kh.get(this).then((()=>{Oh.call(this,e,t)}))},jh=function(e,t){var r=`${yh.get(this)}_onAudioStateChange_${e}`;if((0,R.mf)(t)){var a=Sh.get(t);(0,R.mf)(a)&&Nh.off(r,a)}else Nh.removeAllListeners(r)},Fh=function(e,t){kh.get(this).then((()=>{jh.call(this,e,t)}))},Wh=function(e,t){Nh.emit(`${yh.get(this)}_onAudioStateChange_${e}`,t)},Uh=0,Gh=!1;const Vh=class{constructor({pluginId:e,withReport:t,type:r,size:a}={}){var n,i;_h.set(this,{}),Ih.set(this,{}),bh.set(this,void 0),wh.set(this,!0),"string"==typeof e&&Ch.set(this,e.split("/",1)[0]),kh.set(this,new Sd.Q(((e,t)=>{n=e,i=t})));var o={},s=0===a?"jsapiRemote-1.0":"jsapiLocal-1.0";(0,Q.IN)(z.wZ||z.jP||z.Ae?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:e=>{var i={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:"",withReport:t,type:r,size:a,implementType:s};if(Ah.set(e.audioId,o),Th.set(e.audioId,i),yh.set(this,e.audioId),_h.set(this,i),q.Z.BindingObject){var l=new q.Z.BindingObject;this.__bindingObject=l,Ph[l.__id]=e.audioId}(Uh+=1)>=1024&&!Gh&&z.cj&&(Gh=!0,b.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),Uh>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (200) InnerAudioContext instances have been created, please destroy the existing instances first !"),setTimeout(n,0)},fail:e=>{t&&vh("",e.errMsg,s),i(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var r=e.toLowerCase();o[r]=1,Bh.call(this,r,t)},this[`off${e}`]=t=>{var r=e.toLowerCase();delete o[r],Fh.call(this,r,t)}}))}get src(){return this.cloudId?this.cloudId:Dh.call(this,"src")}set src(e){if("string"==typeof e&&0!==e.length){var t=Ch.get(this);"string"==typeof t&&null===(0,Xe.pD)(e)&&(e=(0,Xe.RP)(t,e)),Yt([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,xh.call(this,"src",e)}))}else Wh.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return Dh.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?xh.call(this,"startTime",1e3*e):Wh("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){if("boolean"==typeof e&&!$p()){if(!0===e){var t=yh.get(this),r=Th.get(t);r&&(r.ignoreReport=!0,Pd())}xh.call(this,"autoplay",e)}}get autoplay(){return Dh.call(this,"autoplay")}set loop(e){if("boolean"==typeof e){if(!0===e){var t=yh.get(this),r=Th.get(t);r&&(r.ignoreReport=!0,Pd())}xh.call(this,"loop",e)}}get loop(){return Dh.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&xh.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return Dh.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||xh.call(this,"volume",e)}get volume(){return Dh.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||xh.call(this,"playbackRate",e)}get playbackRate(){return Dh.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&xh.call(this,"referrerPolicy",e)}get referrerPolicy(){return Dh.call(this,"referrerPolicy")}get paused(){return Dh.call(this,"paused")}get duration(){return Dh.call(this,"duration")/1e3}set currentTime(e){if("number"!=typeof e||e<0)Wh("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=yh.get(this),r=Th.get(t);r&&(r.ignoreReport=!0,Pd()),Lh.call(this,{operationType:"seek",currentTime:1e3*e})}}get currentTime(){return Dh.call(this,"currentTime")/1e3}get buffered(){return Dh.call(this,"buffered")/1e3}play(){if(!($p()||fh()&&"inner"!==_h.get(this).type)){var e=this.lastPlayTime,t=Date.now();if(this.lastPlayTime=t,e&&t-e<1e3){var r=yh.get(this),a=Th.get(r);a&&(a.ignoreReport=!0,Pd())}Lh.call(this,{operationType:"play"}).catch((e=>{console.error(e)}))}}pause(){Lh.call(this,{operationType:"pause"})}stop(){Lh.call(this,{operationType:"stop"})}seek(e){if(!$p())if("number"!=typeof e||e<0)Wh("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=yh.get(this),r=Th.get(t);r&&(r.ignoreReport=!0,Pd()),Lh.call(this,{operationType:"seek",currentTime:1e3*e})}}destroy(){kh.get(this).then((()=>{var e=yh.get(this);Th.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var r=`${e}_onAudioStateChange_${t}`;Nh.removeAllListeners(r)})),Ah.delete(e),Th.delete(e),Uh-=1,setTimeout((()=>{(0,Q.IN)("destroyAudioInstance",{audioId:e})}),0))}))}onTimeUpdate(e){kh.get(this).then((()=>{var t=`${yh.get(this)}_onAudioStateChange_timeupdate`;void 0===bh.get(this)&&bh.set(this,setInterval((()=>{if("active"===Ve.Z.runningStatus&&!0!==_h.get(this).paused&&1!==_h.get(this).paused){var e=_h.get(this).currentTime;Dh.call(this,"currentTime",(r=>{r!==e&&Nh.emit(t)}))}}),250)),Nh.removeAllListeners(t);var r=t=>{_.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};Sh.set(e,r),Nh.on(t,r)}))}offTimeUpdate(e){kh.get(this).then((()=>{Fh.call(this,"timeupdate",e)}))}static pauseAllAudio(){Th.forEach(((e,t)=>{"inner"!==e.type&&(0,Q.IN)("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}};var $h=p(5340),qh=new WeakMap,zh=function(e){return qh.get(e)||{}},Hh=function(e,t){var r;return null===(r=qh.get(e))||void 0===r?void 0:r[t]},Kh=new Map,Jh=(0,ua.Fr)($h.lz),Qh=function(e,t){var{bufferedOperations:r,staticOperations:a}=e;e.audioInstance=t,Object.keys(a).forEach((e=>{var r=a[e];(0,R.DM)(r)?r.forEach((r=>{t["on"+e](r)})):t[e]=r})),r.forEach((e=>{"set"===e.type?t[e.key]=e.value:"method"===e.type&&t[e.key](e.value)})),e.bufferedOperations=[]},Yh=function(e,t,r){var a;e.staticOperations&&t in e.staticOperations?(e.staticOperations[t]=r,e.audioInstance&&(e.audioInstance[t]=r)):e.audioInstance?e.audioInstance[t]=r:null==e||null===(a=e.bufferedOperations)||void 0===a||a.push({type:"set",value:r,key:t})},Zh=function(e,t,r,a){var n;a?("on"===a?e.staticOperations&&e.staticOperations[t].add(r):"off"===a&&e.staticOperations&&e.staticOperations[t].delete(r),e.audioInstance&&e.audioInstance[a+t]&&e.audioInstance[a+t](r)):e.audioInstance?e.audioInstance[t]&&e.audioInstance[t](r):null==e||null===(n=e.bufferedOperations)||void 0===n||n.push({type:"method",value:r,key:t})},Xh=(e,t)=>{var r=!1,a=Lp();a&&"function"==typeof a.createHTMLAudioElement&&(r=!0);var n=e=>{var{stats:a}=e;a.size<102400?t("NativeWebAudio",!1):t(r?"HTMLAudioElement":"AudioJsApi",!0,a.size)};if(/^(http|https):\/\//.test(e)||/^(cloud):\/\//.test(e)||/^(wxblob:\/\/)/.test(e))t(r?"HTMLAudioElement":"AudioJsApi",!0,0);else if(/^(data:audio\/)/.test(e))t("NativeWebAudio",!1);else{var i=(e=>Kh.has(e)?Kh.get(e):Jh({path:e}).then((t=>(Kh.set(e,t),t))))(e);(0,R.tI)(i)?i.then((e=>{n(e)})).catch((e=>{console.error(e),f.error("statLocalAudio fail",e),t("AudioJsApi",!0,0)})):n(i)}},ef=function(e,t){var r;this.stop(!0),t._statPromise=null,t._statPromiseResolve=null;var a=new Sd.Q((e=>{r=e}));t.src=e,t._ready=!1,t._statPromise=a,t._statPromiseResolve=r};class tf{constructor({pluginId:e,type:t}={}){var r={pluginId:e,bufferedOperations:[],staticOperations:{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,referrerPolicy:"",TimeUpdate:new Set,Canplay:new Set,Play:new Set,Pause:new Set,Stop:new Set,Ended:new Set,Error:new Set,Waiting:new Set,Seeking:new Set,Seeked:new Set},_ready:!1,type:t};r._statPromise=new Sd.Q((e=>{r._statPromiseResolve=e})),qh.set(this,r)}get src(){return Hh(this,"src")}set src(e){var t=zh(this),{src:r,audioInstance:a,audioInstanceType:n,pluginId:i}=t;"string"==typeof e&&e.length>0&&r!==e&&(r&&ef.call(this,e,t),t.src=e,Xh(e,a?(r,o,s)=>{var l=zh(this);if(l.src===e){var{_statPromiseResolve:c}=l;t._ready=!0,t.audioInstanceType=r,r===n?a.src=e:(a.destroy(),t.audioInstance=null,"AudioJsApi"===r?(Yh(t,"src",e),Qh(t,new Vh({pluginId:i,withReport:o,type:qh.get(this).type,size:s}))):"NativeWebAudio"===r?(Yh(t,"src",e),Qh(t,new th({withReport:o,type:qh.get(this).type}))):"HTMLAudioElement"===r&&(Yh(t,"src",e),Qh(t,new rh({withReport:o,type:qh.get(this).type,size:s})))),c&&c()}}:(r,a,n)=>{var o=zh(this);if(o.src===e){var{_statPromiseResolve:s}=o;t._ready=!0,t.audioInstanceType=r,"AudioJsApi"===r?(Yh(t,"src",e),Qh(t,new Vh({pluginId:i,withReport:a,type:qh.get(this).type,size:n}))):"NativeWebAudio"===r?(Yh(t,"src",e),Qh(t,new th({withReport:a,type:qh.get(this).type}))):"HTMLAudioElement"===r&&(Yh(t,"src",e),Qh(t,new rh({withReport:a,size:n}))),s&&s()}}))}get startTime(){var e=Hh(this,"startTime");return void 0!==e?e:0}set startTime(e){var t=zh(this),{startTime:r}=t;e!==r&&"number"==typeof e&&e>=0&&(t.startTime=e,Yh(t,"startTime",e))}get autoplay(){var e=Hh(this,"autoplay");return void 0!==e&&e}set autoplay(e){var t=zh(this),{autoplay:r,_statPromise:a}=t;(e=!!e)!==r&&(t.autoplay=e,e?a&&a.then((()=>{Yh(t,"autoplay",e)})):Yh(t,"autoplay",e))}get loop(){var e=Hh(this,"loop");return void 0!==e&&e}set loop(e){var t=zh(this),{loop:r}=t;(e=!!e)!==r&&(t.loop=e,Yh(t,"loop",e))}get volume(){var e=Hh(this,"volume");return void 0!==e?e:1}set volume(e){var t=zh(this),{volume:r}=t;"number"==typeof e&&e>=0&&e<=1&&e!==r&&(t.volume=e,Yh(t,"volume",e))}get playbackRate(){var e=Hh(this,"playbackRate");return void 0!==e?e:1}set playbackRate(e){var t=zh(this),{playbackRate:r}=t;"number"==typeof e&&r!==e&&e>=.5&&e<=2&&(t.playbackRate=e,Yh(t,"playbackRate",e))}get duration(){var{audioInstance:e}=zh(this);return e?e.duration:0}get currentTime(){var{audioInstance:e}=zh(this);return e?e.currentTime:0}set currentTime(e){if("number"==typeof e&&e>=0){var t=zh(this);t.currentTime=e,Yh(t,"currentTime",e)}}get paused(){var{audioInstance:e}=zh(this);return!e||e.paused}get buffered(){var{audioInstance:e}=zh(this);return e?e.buffered:0}set obeyMuteSwitch(e){}get obeyMuteSwitch(){return!0}get referrerPolicy(){return Hh(this,"referrerPolicy")||""}set referrerPolicy(e){var t=zh(this),{referrerPolicy:r}=t;"string"==typeof e&&e.length>0&&r!==e&&(t.referrerPolicy=e,Yh(t,"referrerPolicy",e))}play(){var e=zh(this),{_statPromise:t,_ready:r}=e;r?Zh(e,"play"):t&&t.then((()=>{Zh(e,"play")}))}pause(){var e=zh(this);Zh(e,"pause")}stop(){var e=zh(this);Zh(e,"stop")}seek(e){var t=zh(this);Zh(t,"seek",e)}destroy(){var e=zh(this);Zh(e,"destroy"),qh.delete(this)}onTimeUpdate(e){var t=zh(this);Zh(t,"TimeUpdate",e,"on")}offTimeUpdate(e){var t=zh(this);Zh(t,"TimeUpdate",e,"off")}onCanplay(e){var t=zh(this);Zh(t,"Canplay",e,"on")}offCanplay(e){var t=zh(this);Zh(t,"Canplay",e,"off")}onPlay(e){var t=zh(this);Zh(t,"Play",e,"on")}offPlay(e){var t=zh(this);Zh(t,"Play",e,"off")}onPause(e){var t=zh(this);Zh(t,"Pause",e,"on")}offPause(e){var t=zh(this);Zh(t,"Pause",e,"off")}onStop(e){var t=zh(this);Zh(t,"Stop",e,"on")}offStop(e){var t=zh(this);Zh(t,"Stop",e,"off")}onEnded(e){var t=zh(this);Zh(t,"Ended",e,"on")}offEnded(e){var t=zh(this);Zh(t,"Ended",e,"off")}onError(e){var t=zh(this);Zh(t,"Error",e,"on")}offError(e){var t=zh(this);Zh(t,"Error",e,"off")}onWaiting(e){var t=zh(this);Zh(t,"Waiting",e,"on")}offWaiting(e){var t=zh(this);Zh(t,"Waiting",e,"off")}onSeeking(e){var t=zh(this);Zh(t,"Seeking",e,"on")}offSeeking(e){var t=zh(this);Zh(t,"Seeking",e,"off")}onSeeked(e){var t=zh(this);Zh(t,"Seeked",e,"on")}offSeeked(e){var t=zh(this);Zh(t,"Seeked",e,"off")}}var rf=!1;(z.cj||z.wZ)&&x.default.onReady((()=>{if((0,z.aI)())rf=!0,f.info("小游戏开启 forceUseAudioDynamic");else if((0,Qe.J)("forceUseAudioDynamic")){var e=z.cj?"clicfg_appbrand_ios_force_use_audio_dynamic_new":"clicfg_appbrand_android_force_use_audio_dynamic_new";rf="1"===(null===x.default||void 0===x.default?void 0:x.default.expt[e]),f.info(`小程序${rf?"开启":"关闭"} forceUseAudioDynamic`)}else f.info("关闭 forceUseAudioDynamic")}));var af=f.createLogger("InnerAudioContext"),nf=function(e={},t="outer"){var r=!0;if(z.wZ){var{system:a}=(0,md.Oo)();-1===(0,ah.cv)(a,"6.0.0")&&(r=!1)}z.jP&&(r=!1);var n=(0,St.hI)(this),{useWebAudioImplement:i}=e;return(z.DD||z.gm)&&(i=!0),z.Ae&&q.Z.Audio?(af.info("using NativeAudio"),new eh({type:t})):i&&Pp()&&r?(af.info("using WebAudio"),new th({type:t})):Pp()&&r&&rf?(af.info("using AudioDynamic"),new tf({pluginId:n,type:t})):(af.info("using AudioJsApi"),new Vh({pluginId:n,type:t}))},of=function(e={}){return nf.call(this,e)},sf="getLocation",lf={wgs84:0,gcj02:0},cf={wgs84:null,gcj02:null},uf=!1,df=0,pf=[],hf=function(e={}){"gcj02"!==e.type&&(e.type="wgs84");var t=fa(e.type);if(t)setTimeout((()=>(0,Q.F0)(ga(t,e),sf,e,{})),100);else{var r=Date.now(),a=cf[e.type],n=lf[e.type];if(uf&&r-df<1e4)pf.push(e);else{if(r-n>=1e4||!a){var i=(0,St.hI)(this);return uf=!0,df=Date.now(),void((e={},t={},r)=>{var a=(0,Q.qu)(r);Di(["scope.userLocation"])&&(a=(0,Q.aT)(r),e.permissionBytes=[1,1,1]),a(sf,e,Object.assign({beforeSuccess(t){e.altitude||delete t.altitude}},t))})(e,{afterSuccess(t){lf[e.type]=r,cf[e.type]=t},afterAll(){uf=!1;var e=pf;pf=[],e.forEach((e=>hf(e)))}},i)}var o=a.errMsg&&0===a.errMsg.indexOf("getLocation:ok");(0,Q.FE)({name:"getLocation",success:o,args:e,errMsg:a.errMsg,res:a})}}},ff={wgs84:null,gcj02:null},gf=null,vf="getFuzzyLocation",mf=function(e={}){"gcj02"!==e.type&&(e.type="wgs84"),gf&&Date.now()-gf>18e5&&(ff[e.type]=null);var t=ff[e.type];if(t){var r=t.errMsg&&0===t.errMsg.indexOf(`${vf}:ok`);(0,Q.FE)({name:vf,success:r,args:e,errMsg:t.errMsg,res:t})}else{var a={afterSuccess(t){ff[e.type]=t,gf=Date.now()}},n=fa(e.type);if(n)setTimeout((()=>(0,Q.F0)(ga(n,e),vf,e,{})),100);else{var i=(0,St.hI)(this),o=(0,Q.qu)(i);Di(["scope.userFuzzyLocation"])&&(o=(0,Q.aT)(i),e.permissionBytes=[1,1,1]),o(vf,e,a)}}},yf=new tt.Z,_f={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]};(0,Q.jQ)("onRecorderStateChange",((e={})=>{var{state:t}=e;delete e.state,yf.emit(`onRecorderStateChange_${t}`,e)}));var bf=(e,t)=>{Di(["scope.record"])?(e.permissionBytes=[1,1,1],(0,Q.be)("operateRecorder",Object.assign({},e),t)):(0,Q.IN)("operateRecorder",Object.assign({},e),t)},wf={start(e={}){var t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,audioSource:"auto"},e);if(-1===Object.keys(_f).map((e=>parseInt(e,10))).indexOf(t.sampleRate))throw new Error(`invalid sampleRate "${t.sampleRate}", sampleRate should be one of ${JSON.stringify(Object.keys(_f))}`);if(t.encodeBitRate>_f[t.sampleRate][1]||t.encodeBitRate<_f[t.sampleRate][0])throw new Error(`invalid encodeBitRate "${t.encodeBitRate}", encodeBitRate should be greater than ${_f[t.sampleRate][0]} and less than ${_f[t.sampleRate][1]}`);t.operationType="start",t.fail=e=>{yf.emit("onRecorderStateChange_error",e)};var r=()=>{ao(void 0,"RecorderManager.start")};Di(["scope.record"])?bf(t,{afterSuccess:r}):li("RecorderManager.start").catch((e=>{bf(t,{afterSuccess:r})})).then((({success:e,errMsg:a,errno:n})=>{e?bf(t,{afterSuccess:r}):(console.error("start:fail "+a),yf.emit("onRecorderStateChange_error",{errMsg:"start:fail "+a,errno:n}))}))},pause(){bf({operationType:"pause",fail(e){yf.emit("onRecorderStateChange_error",e)}})},resume(){bf({operationType:"resume",success(){yf.emit("onRecorderStateChange_resume")},fail(e){yf.emit("onRecorderStateChange_error",e)}})},stop(){var e=()=>bf({operationType:"stop",fail(e){yf.emit("onRecorderStateChange_error",e)}});Di(["scope.record"])?e():li("RecorderManager.stop").catch((t=>{e()})).then((({success:t,errMsg:r,errno:a})=>{t?e():(console.error("stop:fail "+r),yf.emit("onRecorderStateChange_error",{errMsg:"stop:fail "+r,errno:a}))}))},onStart(e){yf.removeAllListeners("onRecorderStateChange_start"),yf.on("onRecorderStateChange_start",(()=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onResume(e){yf.removeAllListeners("onRecorderStateChange_resume"),yf.on("onRecorderStateChange_resume",(()=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onResume callback function")()}))},onPause(e){yf.removeAllListeners("onRecorderStateChange_pause"),yf.on("onRecorderStateChange_pause",(()=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onStop(e){yf.removeAllListeners("onRecorderStateChange_stop"),yf.on("onRecorderStateChange_stop",(t=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded(e){yf.removeAllListeners("onRecorderStateChange_frameRecorded"),yf.on("onRecorderStateChange_frameRecorded",(t=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onFrameRecorded callback function")(t)}))},onError(e){yf.removeAllListeners("onRecorderStateChange_error"),yf.on("onRecorderStateChange_error",(t=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onError callback function")(t)}))},onInterruptionBegin(e){yf.removeAllListeners("onRecorderStateChange_interruptionBegin"),yf.on("onRecorderStateChange_interruptionBegin",(t=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionBegin callback function")(t)}))},onInterruptionEnd(e){yf.removeAllListeners("onRecorderStateChange_interruptionEnd"),yf.on("onRecorderStateChange_interruptionEnd",(t=>{"function"==typeof e&&_.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionEnd callback function")(t)}))}};var If=()=>wf,Sf=e=>{(0,Q.IN)("getAvailableAudioSources",e)},kf=new WeakMap;function Cf(e,t){kf.set(this,Object.assign(kf.get(this),{[e]:t})),this.promise.then((()=>{(0,Q.IN)("operateAudioPlayer",{operationType:"update",containerId:kf.get(this).containerId,[e]:t,success:e=>{},fail:e=>{}})})).catch((e=>{}))}class Tf{constructor(){kf.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),(0,Q.IN)("operateAudioPlayer",{operationType:"create",success:e=>{kf.set(this,Object.assign(kf.get(this),{containerId:e.containerId})),this.resolve(e)},fail:e=>{this.reject(e)}}),$p()&&Cf.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{(0,Q.IN)("operateAudioPlayer",{operationType:"start",containerId:kf.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{(0,Q.IN)("operateAudioPlayer",{operationType:"addTask",containerId:kf.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{(0,Q.IN)("operateAudioPlayer",{operationType:"delTask",containerId:kf.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{(0,Q.IN)("operateAudioPlayer",{operationType:"stop",containerId:kf.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{(0,Q.IN)("operateAudioPlayer",{operationType:"remove",containerId:kf.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}}),kf.delete(this)}))))}set volume(e){$p()||Cf.call(this,"audioVolume",e)}get volume(){return kf.get(this).audioVolume}}var Pf=()=>q.Z.MediaToolKit,Af=(e,t)=>(0,Q.qB)(e,`MediaToolKit.${t}`),Ef=(e,t)=>(0,Q.ZI)(e,`MediaToolKit.${t}`),Mf=new WeakMap;function xf(e,t){Mf.set(this,Object.assign(Mf.get(this),{[e]:t})),this.promise.then((()=>{Pf().audioUpdate({containerId:Mf.get(this).containerId,[e]:t},Af((e=>{e.errCode}),"audioUpdate"))})).catch((e=>{}))}class Df{constructor(){Mf.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),Pf().audioCreate({},Af((e=>{0===e.errCode?(Mf.set(this,Object.assign(Mf.get(this),{containerId:e.containerId})),this.resolve(e)):this.reject(e)}),"audioCreate")),$p()&&xf.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{Pf().audioStart({containerId:Mf.get(this).containerId},Af((r=>{0===r.errCode?e(r):t(r)}),"audioStart"))}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{Pf().audioAddTask({containerId:Mf.get(this).containerId,taskId:e.videoDecoderId},Af((e=>{0===e.errCode?t(e):r(e)}),"audioAddTask"))}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{Pf().audioDelTask({containerId:Mf.get(this).containerId,taskId:e.videoDecoderId},Af((e=>{0===e.errCode?t(e):r(e)}),"audioDelTask"))}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{Pf().audioStop({containerId:Mf.get(this).containerId},Af((r=>{0===r.errCode?e(r):t(r)}),"audioStop"))}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{Pf().audioRemove({containerId:Mf.get(this).containerId},Af((r=>{0===r.errCode?e(r):t(r)}),"audioRemove")),Mf.delete(this)}))))}set volume(e){$p()||xf.call(this,"audioVolume",e)}get volume(){return Mf.get(this).audioVolume}}var Rf=()=>Pf()&&Pf().audioCreate?new Df:new Tf,Lf=(0,Y.s)("lifeCycle:BeforeAppRoute"),Nf=(Lf.internalOnMethod,Lf.internalOffMethod,Lf.offMethod,(0,Y.s)("lifeCycle:BeforePageLoad")),Of=(Nf.offMethod,(0,Y.s)("lifeCycle:AfterPageLoad")),Bf=(Of.offMethod,(0,Y.s)("lifeCycle:BeforePageUnload")),jf=(Bf.offMethod,(0,Y.s)("lifeCycle:AfterPageUnload")),Ff=(jf.offMethod,new Map,(0,Y.s)("lifeCycle:AppRouteDone")),Wf=Ff.internalOnMethod,Uf=(Ff.internalOffMethod,Ff.offMethod,null),Gf=!1;(0,et.HM)((()=>{Gf=!0})),Wf((()=>{Gf=!1,Uf&&(Vf(Uf),Uf=null)}));var Vf=function(e={}){var t=(0,Q.qu)((0,St.hI)(this));e.type||(e.type="all"),void 0===e.count&&(e.count=100),(0,Q.r3)("chooseMessageFile",e,{type:"",count:0})&&(e.count<=0?(0,Q.YG)("chooseMessageFile",e,"param count should be larger than 0."):void 0===e.extension||"[object Array]"===Object.prototype.toString.call(e.extension)?!e.extension||e.extension.length?(e.count>100&&(e.count=100),Gf?Uf=e:t("chooseMessageFile",e)):(0,Q.YG)("chooseMessageFile",e,"param extension should not be empty."):(0,Q.YG)("chooseMessageFile",e,"param extension should be Array."))},$f=function(e={}){if(zt("choose_media"))(0,Q.YG)("chooseMedia",e,"This api is temporarily unavailable");else if(void 0===e.count&&(e.count=20),(0,Q.r3)("chooseMedia",e,{count:1})){e.count<1&&(e.count=1),e.count>20&&(e.count=20);var t=(0,St.hI)(this);(0,Q.qu)(t)("chooseMedia",e,{beforeSuccess(e){var r;null!==(r=e.tempFiles)&&void 0!==r&&r.length&&$t("chooseMedia",e.tempFiles.map((e=>e.tempFilePath)),t)}})}},qf="previewMedia",zf=function(e={}){if(Tr(qf))(0,Q.YG)(qf,e,"no permission");else if((0,Q.r3)(qf,e,{sources:[]})){var t=!1;if(e.sources=e.sources.filter((e=>!(!/^https?:\/\//.test(e.url)&&!(0,Qe.J)("previewImageLocal"))||(t=!0,!1))),t&&console.error("local media source is filtered due to no permission"),e.sources.length>50)(0,Q.YG)(qf,e,"maximum length of sources is 50");else if(0!==e.sources.length){var r=Sr(_r),a=(0,St.hI)(this),n=e=>"string"!=typeof a||"/"!==e[0]?e:(0,Xe.RP)(a,e),i=JSON.parse(JSON.stringify(e.sources)),o=[],s=[];i.forEach(((e,t)=>{e.type=e.type||"image",e.index=t,e.url=e.url?wt.LC.get(e.url)||e.url:"","image"===e.type?o.push(e):"video"===e.type&&s.push(e)}));var l=o.map((e=>e.url||"")).map((e=>n(e))),c=s.map((e=>e.url||"")).map((e=>n(e)));Yt(l,"image",(t=>{var a=t.data.map((e=>e.url));Yt(c,"video",(t=>{var n=t.data.map((e=>e.url));a.forEach(((e,t)=>{var r=o[t].index;i[r].url=e})),n.forEach(((e,t)=>{var r=s[t].index;i[r].url=e}));var l=Object.assign({current:0},e,{sources:i});r?kr(_r,qf,l):(0,Q.IN)(qf,l),vr(qf,{sources:l.sources||[]},!1,r)}))}))}else(0,Q.YG)(qf,e,"length of sources is 0")}},Hf=p(4899),Kf=new tt.y,Jf=new WeakMap,Qf=new WeakMap;(0,Q.jQ)("onCanvasPlayerStateChange",(e=>{var t=e.state;"playEnd"===t?Kf.emit(e.containerId,{event:"ended",data:{}}):"buffSize"===t?Kf.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}}):"error"===t&&Kf.emit(e.containerId,{event:"error",data:{message:e.errMsg,code:e.errCode}})}));var Yf=!1;function Zf(e){return Xf.apply(this,arguments)}function Xf(){return(Xf=_e()((function*(e){var t=Qf.get(e);yield t}))).apply(this,arguments)}function eg(e,t,r={}){return(0,Q.bb)("operateCanvasPlayer",{...r,containerId:e.id||0,operationType:t})}function tg(e,t,r={}){return new Promise(((a,n)=>{Pf()[t]({...r,containerId:e.id||0},Af((e=>{if(0!==e.errCode){var r=new Error(e.errMsg||`${t} failed`);return Object.assign(r,e),void n(r)}a(e)}),t))}))}function rg(e,t,r){var a=Jf.get(e);a&&a.emit(t,r)}class ag{constructor(){var e=this;this.id=void 0,this.width=void 0,this.height=void 0,this.buffer=void 0,this.buffId=void 0;var t=new tt.y;Jf.set(this,t);var r=_e()((function*(){if(z.wZ){z.wZ&&(Yf||(Yf=!0,Pf().addEventListener("onPlayerBuffSize",Ef((e=>{Kf.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}})}),"onPlayerBuffSize")),Pf().addEventListener("onPlayerPlayEnd",Ef((e=>{Kf.emit(e.containerId,{event:"ended",data:{}})}),"onPlayerPlayEnd"))));var r=yield new Promise(((e,t)=>{Pf().playerCreate({},Af((r=>{if(0!==r.errCode){var a=new Error(r.errMsg||"create failed");return Object.assign(a,r),void t(a)}e(r)}),"playerCreate"))}));e.id=r.containerId}else{var a=yield(0,Q.bb)("operateCanvasPlayer",{operationType:"create"});e.id=a.containerId}e.id&&Kf.on(e.id,(({event:e,data:r})=>t.emit(e,r)))}))();Qf.set(this,r)}start(e={}){var t=this;return _e()((function*(){var r;if(yield Zf(t),z.wZ){var a=e.source;if(!e.source||!/^(http|https):\/\/.*/i.test(e.source))a=(yield(0,Q.bb)("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath;var n=yield tg(t,"playerStart",{filePath:a,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},n.video),t.width=r.width||0,t.height=r.height||0,t.buffer=new ArrayBuffer(t.width*t.height*4),r.video=n.video,r.audio=n.audio}else{var i=yield eg(t,"start",{source:e.source,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},i.video),t.buffId=i.buffId,t.width=r.width||0,t.height=r.height||0,r.video=i.video,r.audio=i.audio}return rg(t,"start",r),r}))()}seek(e,t="inaccurate"){var r=this;return _e()((function*(){yield Zf(r);var a="accurate"===t;return z.wZ?yield tg(r,"playerSeek",{seekStamp:e,seekByStamp:a}):yield eg(r,"seek",{seekStamp:e,seekByStamp:a}),rg(r,"seek",{position:e}),e}))()}wait(e=!1){var t=this;return _e()((function*(){yield Zf(t),z.wZ?yield tg(t,"playerWait",{wait:e}):yield eg(t,"wait",{wait:e}),rg(t,"wait",{})}))()}stop(){var e=this;return _e()((function*(){yield Zf(e),z.wZ?yield tg(e,"playerStop",{}):yield eg(e,"stop",{}),rg(e,"stop",{})}))()}remove(){var e=this;return _e()((function*(){if(yield Zf(e),e.id){Kf.removeAllListeners(e.id);var t=Jf.get(e);null==t||t.eventNames().forEach((e=>t.removeAllListeners(e)))}z.wZ?yield tg(e,"playerRemove",{}):yield eg(e,"remove",{})}))()}getFrameData(){var e,t,r,a,n,i;if(z.wZ?Pf().playerGetFrame({containerId:this.id,buffer:this.buffer},Af((i=>{i.got&&(e=this.buffer),t=i.pts,r=i.pk_pts,a=i.dts,n=i.pk_dts}),"playerGetFrame")):(0,Q.IN)("operateCanvasPlayer",{operationType:"getFrame",containerId:this.id,success:i=>{i.got&&(e=(0,Hf.t)().get(this.buffId))&&(e.__proto__=ArrayBuffer.prototype),t=i.pts,r=i.pk_pts,a=i.dts,n=i.pk_dts},fail(e){var t;i=new Error(null===(t=e.errMsg)||void 0===t?void 0:t.replace(/operateCanvasPlayer/g,"getFrameData")),Object.assign(i,e)}}),i)throw i;return e?{width:this.width,height:this.height,data:e,pts:t,pkPts:r,dts:a,pkDts:n}:null}on(e,t){var r=Jf.get(this);null==r||r.on(e,t)}off(e,t){var r=Jf.get(this);null==r||r.off(e,t)}get videoDecoderId(){return this.id}}var ng=function(){var e=_e()((function*(e,t,r){var a=yield e[t](r),{code:n,desc:i,...o}=a;if(n)throw new Error(i);return o}));return function(t,r,a){return e.apply(this,arguments)}}(),ig=["onbufferchange","firstaudioplayed","onaudioplayback"];class og{constructor(){this.id=void 0,this.width=void 0,this.height=void 0,this.currentFrame=null,this.context=new q.Z.WeMedia.Context,this.player=void 0,this.reader=void 0,this.avSync=void 0,this.emitter=new tt.y,this.reader=this.context.createReader(),this.avSync=this.context.createAvSync(),this.avSync.reader=this.reader,this.player=this.context.createPlayer(),this.player.avSync=this.avSync,this.player.onvideorenderer=e=>{this.currentFrame=e,e.frame&&this.emitter.emit("frame",e.frame)},this.player.onerror=e=>this.emitter.emit("error",e),this.player.onend=e=>this.emitter.emit("ended",e),this.player.onfirstvideorendered=e=>this.emitter.emit("firstvideorendered",e)}start(e){var t=this;return _e()((function*(){var r,a,n,i,o,s=e.source;z.wZ&&(e.source&&/^(http|https):\/\/.*/i.test(e.source)||(s=(yield(0,Q.bb)("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath));var l={abort:null!==(r=e.abortAudio)&&void 0!==r&&r},c={abort:null!==(a=e.abortVideo)&&void 0!==a&&a,expectFormat:null!==(n=e.videoFormat)&&void 0!==n?n:q.Z.WeMedia.MediaFormat.kMMMediaFormatVideoRgba32};t.avSync.reader=t.reader;var{mediainfo:u}=yield ng(t.reader,"start",{uri:s,enableHardwareAccelerated:!0,audioSetting:l,videoSetting:c}),d=Object.assign({},u.video);d.width=null===(i=u.video)||void 0===i?void 0:i.width,d.height=null===(o=u.video)||void 0===o?void 0:o.height,d.video=u.video,d.audio=u.audio,t.width=d.width||0,t.height=d.height||0;var p={};return void 0!==e.videoDataType&&(p.dataType=e.videoDataType),yield ng(t.player,"start",{audioSetting:l,videoSetting:p}),t.emitter.emit("start",d),e.startTime&&(yield t.seek(e.startTime)),d}))()}seek(e){var t=this;return _e()((function*(){e&&(yield ng(t.reader,"seek",{stamp:e})),t.emitter.emit("seek",{})}))()}wait(e){var t=this;return _e()((function*(){yield ng(t.player,e?"pause":"resume")}))()}stop(){var e=this;return _e()((function*(){yield ng(e.reader,"stop"),yield ng(e.player,"stop"),e.emitter.emit("stop",{})}))()}mute(e=!0){var t=this;return _e()((function*(){yield ng(t.player,"mute",e)}))()}remove(){var e=this;return _e()((function*(){e.emitter.eventNames().forEach((t=>e.emitter.removeAllListeners(t)))}))()}getFrameData(){if(this.currentFrame){var{code:e,desc:t,frame:r}=this.currentFrame;if(this.currentFrame=null,e)throw new Error(t);return r}return null}on(e,t){ig.includes(e)&&!this.emitter.hasListeners(e)&&(this.player[e]=t=>this.emitter.emit(e,t)),this.emitter.addListener(e,t)}off(e,t){this.emitter.removeListener(e,t),ig.includes(e)&&!this.emitter.hasListeners(e)&&(this.player[e]=void 0)}}function sg(e={}){return"wemedia"===e.type?new og:new ag}var lg=0,cg=(e={})=>{e.text?Date.now()-lg<5e3?(0,Q.YG)("setTopBarText",e,"invoke too frequently"):(0,Q.IN)("setTopBarText",e,{beforeSuccess(){lg=Date.now()}}):(0,Q.YG)("setTopBarText",e,"invalid text")},ug=(e={})=>{(0,Q.YG)("setWindowSize",e,"deprecated")},dg=(e={})=>{(0,Q.IN)("saveFileToDisk",e,{})},pg=p(9845),hg=(0,Y.s)("exitMiniProgram"),fg=(hg.internalOnMethod,(e={})=>{(0,Q.IN)("exitMiniProgram",e,{beforeSuccess(){hg.emit()}})}),gg=(e={})=>{(0,Q.IN)("restart",Object.assign({},e,{force:!0,mode:"default",url:e.path||"?",scene:void 0}))},vg=(e={})=>{(0,Q.r3)("setEnableDebug",e,{enableDebug:!0})&&((0,Q.IN)("setEnableDebug",e,{}),e.enableDebug&&console.warn("已通过 wx.setEnableDebug 打开调试"))},mg=p(8535),yg=[],_g=[],bg=~~(Date.now()/1e3),wg=0;function Ig(e,t,r,a){var n,i;null!==(n=x.default.userConfig)&&void 0!==n&&n.isWechatUser||(i="string"==typeof a?a:a?"high":"low",(0,Q.IN)("operateRealtimeData",{type:t,content:r,priority:i,id:e},{beforeSuccess(){},beforeFail(e){_g.forEach((t=>t(e)))}}))}function Sg(){var e=yg.shift();"function"==typeof e&&(e(),wg=+new Date),yg.length&&setTimeout(Sg,200)}o.onLoad((()=>{bg=~~(Date.now()/1e3)}));var kg=(e,t,r)=>{if(1005===e||!z.gm){var a=+new Date,n=bg++;return a-wg>=200&&!yg.length?(Ig(n,e,t,r),wg=a):(yg.push((()=>{Ig(n,e,t,r)})),setTimeout(Sg,200)),n}};(0,Q.jQ)("onRealtimeDataResponse",(e=>{_g.forEach((t=>t(e)))}));var Cg,Tg="GetUploadSetting",Pg={};function Ag(e){return e?(Pg[e]||(Pg[e]=(0,Q.Qh)({sdkApiName:Tg,apiName:"GetUploadSetting",reqData:{},pluginId:e})),Pg[e]):Cg||(Cg=(0,Q.Qh)({sdkApiName:Tg,apiName:"GetUploadSetting",reqData:{}}))}var Eg=p(7172),Mg=p(6614),xg=p(9067),Dg=function(){var e=null;return{next:()=>(null===e&&(e=Date.now()),e++)}}(),Rg=(0,Y.s)("onRealtimeLog");Rg.internalOnMethod,Rg.internalOffMethod;function Lg(e,t,r,...a){try{Rg.emit({pluginId:e,mode:t,level:r,args:a})}catch(e){}}var Ng=(0,Xe.Hw)((e=>Og(e).errMsg.indexOf("accessSync:ok")>=0)),Og=function(){try{return Mg.c.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return{errMsg:e.message||""}}},Bg={DEBUG:1,INFO:2,WARN:4,ERROR:8},jg=1,Fg=2,Wg=1,Ug="",Gg=!1;function Vg(e){Gg?e&&e():(Gg=!0,x.default.onReady((()=>{Ug=x.default.accountInfo.appId,e&&e()})))}function $g(){if(void 0!==nr.hr){var e=nr.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}if((0,z.aI)())return"index"}var qg;function zg(){qg&&(qg=clearTimeout(qg))}var Hg=!1;class Kg{constructor(e={}){var t;this.systemInfo=(0,un.getStableSystemInfo)(),this.opt={},this.opt.level=Bg.INFO,this.mode=e.mode||"normal",this.pluginId=e.pluginId,this.pluginVersion=e.pluginVersion,this.timerId=null,this.isExceedTodayUploadLogCount=!1,this.opt.isClientReport=!!e.isClientReport,this.msgList={},this.filterList={},this.kvFilterList={},this.sizeList={},this.levelList={},this._uploadList=[],this._logInfo={},this._logInfo.level=0,this._logInfo.version=2,this._logInfo.source=Wg,this._logInfo.platform="ios"===this.systemInfo.platform?Fg:jg,this._logInfo.libraryVersion=this.systemInfo.SDKVersion,this._logInfo.clientVersion=this.systemInfo.version,this._logInfo.appState="develop"===x.default.envVersion?2:"trial"===x.default.envVersion?3:1,this.exceedSizeList={},this.structSizeList={},this.historyLog={},this.retryLogList={},this.MaxSize=10240,this.MaxLogCount=500,this._logCacheBeforeLogConfig=[],setTimeout((()=>{z.gm||this._getLogConfig()}),300),Vg((()=>{(0,z.aI)()&&this.cyclelyUploadInGame()})),this.uploadCount=0,this.failCount=0,this.opt.isClientReport&&(this.MaxSize=5120,this.MaxLogCount=200,t=e=>{this.onRealtimeDataResponse(e)},z.gm||"function"==typeof t&&_g.push((0,ve.Hw)(t)))}cyclelyUploadInGame(){setTimeout((()=>{tv(),this.cyclelyUploadInGame()}),6e5)}onRealtimeDataResponse(e){if(this.uploadCount++,0!==e.errcode){var t=(0,rr._getCurrentNetworkType)();if("wifi"!==t&&"4g"!==t&&"5g"!==t||(this.failCount++,this.uploadCount>=5&&this.failCount/this.uploadCount>=.6&&(Hg=!0,this.failCount=0,this.uploadCount=0,setTimeout((()=>{Hg=!1}),6e4))),e.idList&&e.idList.length){var r=!1,a={},n=!1,i={};e.idList.forEach((o=>{var s=this.historyLog[o];s&&(s.id,s.url,b.reportKeyValue({key:"UserLogFail",value:`,${t},${e.errcode},${parseInt(Date.now()/1e3,10)},${s.url},${s.libraryVersion},${Ug}`}),r=!0,delete this.historyLog[o],a[o]=s);var l=this.retryLogList[o];l&&(l.id,l.url,i[o]=l,delete this.retryLogList[o],n=!0)})),r&&(this.retryLogList=a,this.failRetry(a)),n&&this.saveToFile(i)}}}_getLogConfig(e,t){return Ag(this.pluginId).then((r=>{if(r.data){try{var a=r.data;this.MaxSize=1024*a.MaxLogSize,a.MaxLogCount&&(this.MaxLogCount=a.MaxLogCount),this._logInfo.id=a.UserUin,a.OpenId&&(this.traceid=`${a.OpenId}_${parseInt(Date.now()/1e3,10)}`),a.Debug&&a.Debug.MaxSize&&a.Debug.ExpireTime>Date.now()/1e3&&(this.isDebugMode=!0,this.MaxSize=1024*a.Debug.MaxSize,this.opt.level=Bg.DEBUG,a.Debug.MaxLogCount&&(this.MaxLogCount=a.Debug.MaxLogCount));var n=this._logCacheBeforeLogConfig||[];this._logCacheBeforeLogConfig=[],n.forEach((e=>{this._baseLog(e.key,e.path,...e.args)})),this._getConfigFail=!1,e&&this.upload(t),(0,z.aI)()||function(e){if(zg(),e="number"!=typeof e?3e5:e,(e=Math.max(e,5e3))>0){var t=()=>{zg(),qg=setTimeout((()=>{tv(),t()}),e)};t()}}(a.ReportInterval)}catch(e){this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]}setTimeout((()=>{this.tryUploadFailLog()}),100)}else this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]})).catch((e=>{e.errMsg&&e.errMsg.indexOf("fail invalid scope")>=0&&(this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]),this._getConfigFail=!0}))}_config(e={}){e.mode&&(this.mode=e.mode)}_checkSize(e,t){var r=0;if(!t||!t.length)return!0;if(!(e=this.pluginId||e||$g()))return!0;t.forEach((e=>{r+=(0,xg.Ei)(e)})),this.sizeList[e]=this.sizeList[e]||0;var a=this.sizeList[e];return a+r>this.MaxSize?r:(this.sizeList[e]=a+r,!0)}_getLogValue(e){var t,r=typeof e,a="";if("function"===r&&(t="function(){}"),"undefined"===r)t="<Undefined>";else if("object"===r){a=(a=Object.prototype.toString.call(e)).replace(/^\[object |\]$/g,"");try{t="Error"===a?e.stack:JSON.stringify(e)}catch(e){a="Error",t=e.message}}else e+="";return t||e}_baseLog(e,t,...r){if(r.length&&!this._hasNoPermission)if(this._logInfo.id){var a,n,i,o;"object"==typeof e?(a=e.id,n=e.name,i=e.level,o=e.time):(a="__DEFAULT__",n="__DEFAULT__",i=e,o=+new Date);var s=Bg[i.toUpperCase()]||0;if(!(s<this.opt.level)){var l,c;if(t=this.pluginId||t||$g(),this.structSizeList[t]=this.structSizeList[t]||0,"kv"===this.mode){var[u,d]=r;if(!u||"string"!=typeof u)return;var p=this._getLogValue(d);c=this._checkSize(t,[u,p]),l=[a,o,n,u,p],Lg(this.pluginId,this.mode,i.toLowerCase(),d)}else l=r.map(this._getLogValue),c=this._checkSize(t,l),this.structSizeList[t]+=6+(l.length?3*l.length-1:0),Lg(this.pluginId,this.mode,i.toLowerCase(),...r);if(!0===c)this._addLogMsg(l,t,s);else{if(this.exceedSizeList[t]=this.exceedSizeList[t]||0,!this.exceedSizeList[t]){var h=[`UserLog:fail Log Size ${c} Exceed.`];"kv"===this.mode&&h.unshift("warning"),this._addLogMsg(h,t,Bg.WARN)}this.exceedSizeList[t]+=c}}}else this._logCacheBeforeLogConfig.push({key:e,path:t,args:r})}_addLogMsg(e,t,r){if(!this.isExceedTodayUploadLogCount&&r&&(!this._getConfigFail||!this._getConfigRetry)){var a=this.pluginId||t||$g();if(a)if(this.msgList[a]=this.msgList[a]||[],this.msgList[a].length>=this.MaxLogCount)this.MaxLogCount;else{var n=this.msgList[a][0];if("kv"===this.mode){var[i,o,s,l,c]=e,u=[r,i,o,s,l,c];this.msgList[a].push(u)}else{var d=new Date,p=Math.ceil(+d/1e3),h=[n?p-n[0]:p,e,r,d.getMilliseconds()];if(!this.msgList[a].length){var f=(new Date).getTimezoneOffset();h.push(f)}this.msgList[a].push(h)}this.levelList[a]=this.levelList[a]||0,this.levelList[a]|=r}}}OperateWxUploadLog(e,t){if(!this.isExceedTodayUploadLogCount){var r=e.structSize||0;delete e.structSize;var a,n=e.rawSize||0;if(delete e.rawSize,this.opt.isClientReport){var i=this.pluginId?1004:1001;e.url;var o=kg(i,JSON.stringify({interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0,pluginId:this.pluginId||"",pluginVersion:this.pluginVersion||"",appId:Ug}));return this.historyLog[o]=e,b.reportKeyValue({key:"UserLog",value:`,${r+n},${n}${e.timestamp},${e.url},${e.filter1},${Ug}`}),void(t&&t(!0))}return(a={sdkApiName:"UploadByApi",apiName:"UploadByApi",pluginId:this.pluginId,reqData:{interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0}},(0,Q.Qh)(a)).then((()=>{t&&t(!0)})).catch((e=>{e&&1e4==+e.err_code&&(this.isExceedTodayUploadLogCount=!0),t&&t(!1),this.failCount++}))}}failRetry(e){this.uploadFailRetryTimerId||(this.uploadFailRetryTimerId=setTimeout((()=>{if(e)for(var t in e)this.historyLog.hasOwnProperty(t)&&this.OperateWxUploadLog(this.historyLog[t])}),3e3))}stat(e){return(e=this.pluginId||e||$g())&&this.sizeList[e]||0}getCurrentState(e){return{size:(e=this.pluginId||e||$g())&&this.sizeList[e]||0,maxSize:this.MaxSize,logCount:e&&this.msgList[e]&&this.msgList[e].length||0,maxLogCount:this.MaxLogCount}}_hasUploadInterval(){return!!this.opt.isClientReport||!(this._isUploading||Date.now()-this._lastUploadTime<1e3)}upload(e){var t=e||$g();if(e=this.pluginId||t){var r=this.msgList[e]||[];if(r&&r.length)if(this._hasUploadInterval()){if(this._getConfigFail||!this._logInfo.id){if(this._getConfigRetry)return;return this._getConfigRetry=!0,void this._getLogConfig(!0,t)}if(Gg){if(!Hg){this.msgList[e]=[];var a=this.levelList[e]||Bg.DEBUG;this.levelList[e]=0;var n=this.sizeList[e];this.sizeList[e]=0;var i=this.exceedSizeList[e];this.exceedSizeList[e]=0;var o=this._logInfo;o.level=a,o.rawSize=i+n;var s=this.structSizeList[e]||0;if(o.structSize=s,this.structSizeList[e]=0,this._logInfo.timestamp=Math.ceil(Date.now()/1e3),this._logInfo=Object.assign({},this._logInfo),"kv"===this.mode){var l={},c={};r.forEach((e=>{var[t,r,a,n,i,o]=e,s=t||Bg.DEBUG;c[r]=c[r]||[a,{},s],c[r][1][i]=o,c[r][2]=Math.max(c[r][2],s),l[n]=l[n]||[],-1===l[n].indexOf(c[r])&&l[n].push(c[r])}));var u=this.kvFilterList,d=[];u&&u[e]&&Object.keys(u[e]).forEach((t=>{var r=u[e][t];r&&r.length&&r.forEach((e=>{var[r,a=""]=e;if(c[r]){var n=c[r][1];n.__REALTIME_LOG_TAG__=n.__REALTIME_LOG_TAG__||[],-1===n.__REALTIME_LOG_TAG__.indexOf(a)&&n.__REALTIME_LOG_TAG__.push(a),-1===d.indexOf(a)&&(d.push(a),d.push(`${t}_${a}`))}}))})),o.msg=JSON.stringify(l),o.filter1=[].concat(Object.keys(l),d).join(" "),this.kvFilterList[e]=[]}else o.msg=JSON.stringify(r),o.filter1=this.filterList[e]||"",this.filterList[e]="";(0,xg.Ei)(o.msg),o.appid=Ug,this.pluginId&&(o.pluginid=this.pluginId),this.pluginVersion&&(o.pluginVersion=this.pluginVersion),"kv"===this.mode&&(o.mode=this.mode),o.url=t,this.traceid&&(o.traceid=this.traceid),o.device=this.systemInfo.model+" "+this.systemInfo.system,this._isUploading=!0,this.OperateWxUploadLog(o,(e=>{this._isUploading=!1,this._lastUploadTime=Date.now(),e&&this._uploadList.length&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((()=>{this.timerId=null,this.upload(this._uploadList.shift())}),1e3))}))}}else Vg((()=>{Ug&&this.upload(t)}))}else this._uploadList.indexOf(t)<0&&this._uploadList.push(t)}}setFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),(0,xg.Ei)(t)>2048)return!1;if(e=this.pluginId||e||$g(),"kv"===this.mode&&"object"==typeof r){var a=this.kvFilterList;return a[e]=a[e]||{},a[e][r.name]=[[r.id,t]],!0}return this.filterList[e]=t,!0}addFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),e=this.pluginId||e||$g(),"kv"===this.mode&&"object"==typeof r){var a=this.kvFilterList;return a[e]=a[e]||{},a[e][r.name]=a[e][r.name]||[],void a[e][r.name].push([r.id,t])}var n=this.filterList[e]||"";this.setFilterMsg(e,n+(n?" ":"")+t)}getTraceId(){return this.traceid||""}getFilePath(){var e=(x.default&&x.default.env.USER_DATA_PATH||(z.gm?"http://usr":"wxfile://usr"))+"/miniprogramLog/",t=e+"realtime.log";return Ng(e)||function(){try{return ie.h.apply(this,arguments)}catch(e){return{errMsg:e.message}}}(e),t}getFileContent(e){var t=function(){try{return{data:Nt.N.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message}}}(e,"utf8");try{if(t&&t.data)return t=JSON.parse(t.data)}catch(e){}return null}saveToFile(e){if(e){var t=this.getFilePath();if(Ng(t)){var r=this.getFileContent(t);r&&Object.keys(r).forEach((t=>{e[t]||(e[t]=r[t])}))}(0,Eg.N)({filePath:t,data:JSON.stringify(e),encoding:"utf8",fail(e){e.errMsg},success(e){}})}}tryUploadFailLog(){var e=this.getFilePath();if(Ng(e)){var t=this.getFileContent(e);if(!t)return;Object.keys(t).forEach((e=>{this.OperateWxUploadLog(t[e])})),(0,Eg.N)({filePath:e,data:"{}",encoding:"utf8",fail(e){e.errMsg},success(e){}})}}}var Jg,Qg=null,Yg={},Zg=e=>e?Yg[e]:Qg,Xg=(e={},t,r)=>{var a="",n={stat(){if(!z.gm){var e=Zg(t);if(e)return e.stat(a)}},getCurrentState(){if(z.gm)return{};var e=Zg(t);return e?e.getCurrentState(a):{}},setFilterMsg(e){if(!z.gm){var r=Zg(t);if(r)return r.setFilterMsg(a,e)}},addFilterMsg(e){if(!z.gm){var r=Zg(t);if(r)return r.addFilterMsg(a,e)}},in(e){(0,z.aI)()?a="index":e&&e.route&&(a=e.route)},tag(e){var r=Dg.next(),n=+new Date;return{debug(i,o){if(!z.gm){var s=Zg(t);if(s)return s._baseLog({id:r,name:e,time:n,level:"debug"},a,i,o)}},info(i,o){if(!z.gm){var s=Zg(t);if(s)return s._baseLog({id:r,name:e,time:n,level:"info"},a,i,o)}},warn(i,o){if(!z.gm){var s=Zg(t);if(s)return s._baseLog({id:r,name:e,time:n,level:"warn"},a,i,o)}},error(i,o){if(!z.gm){var s=Zg(t);if(s)return s._baseLog({id:r,name:e,time:n,level:"error"},a,i,o)}},setFilterMsg(n){if(!z.gm){var i=Zg(t);if(i)return i.setFilterMsg(a,n,{name:e,id:r})}},addFilterMsg(n){if(!z.gm){var i=Zg(t);if(i)return i.addFilterMsg(a,n,{name:e,id:r})}}}}};return n=t?Object.assign(n,{config(){},debug(){},info(){},warn(){},error(){}}):Object.assign(n,{config(e){if(!z.gm&&"object"==typeof e){var r=Zg(t);r&&r._config(e)}},debug(...e){if(!z.gm){var r=Zg(t);if(r)return r._baseLog("debug",a,...e)}},info(...e){if(!z.gm){var r=Zg(t);if(r)return r._baseLog("info",a,...e)}},warn(...e){if(!z.gm){var r=Zg(t);if(r)return r._baseLog("warn",a,...e)}},error(...e){if(!z.gm){var r=Zg(t);if(r)return r._baseLog("error",a,...e)}}}),Zg(t)||((e,t)=>{e?Yg[e]=t:Qg=t})(t,new Kg({isClientReport:e.isClientReport,pluginId:t,pluginVersion:r,mode:t?"kv":"normal"})),n},ev=e=>{e=e||{};var t="develop"===x.default.envVersion||"trial"===x.default.envVersion;return e.isClientReport=!t,Xg(e)},tv=e=>{if(!z.gm){var t,r=(t=[],Qg&&t.push(Qg),Object.keys(Yg).forEach((e=>t.push(Yg[e]))),t);r.length&&r.forEach((t=>{try{t.upload(e)}catch(e){}}))}};(0,al.J)((e=>{z.gm||e&&8===e.targetAction||Gg&&(Jg&&clearTimeout(Jg),Jg=setTimeout((()=>{void 0!==nr.hr?nr.hr.getCurrentPagesByDomain("").forEach((e=>{tv(e.route)})):(0,z.aI)()&&tv();Jg=null}),10))}));var rv=!1,av=()=>rv,nv=e=>{rv=e},iv=p(5469),ov=p.n(iv),sv=p(9939);function lv(e){if(!Array.isArray(e)||e.some((e=>"string"!=typeof e||0===e.length)))return"invalid keyList"}var cv=(0,Q.TG)("getUserCloudStorage","webapi_getselfuserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),uv=e=>{var t=lv(e.keyList);t?(0,Q.YG)("getUserCloudStorage",e,t):cv(e)},dv=(0,Q.TG)("getFriendCloudStorage","webapi_getfrienduserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),pv=(e={})=>{var t=lv(e.keyList);t?(0,Q.YG)("getFriendCloudStorage",e,t):dv(e)},hv=(0,Q.TG)("getGroupCloudStorage","webapi_getgroupuserstorage",(({keyList:e=[],shareTicket:t})=>{var r=Be.Z.get(t),{shareKey:a,shareName:n}=r;return{key:e,share_key:a,share_name:n}}),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),fv=e=>{var t=lv(e.keyList);t?(0,Q.YG)("getGroupCloudStorage",e,t):setTimeout((()=>{e.shareTicket?Be.Z.get(e.shareTicket)?hv(e):(0,Q.YG)("getGroupCloudStorage",e,"参数 shareTicket 不正确"):Be.Z.lastShareTicket&&Be.Z.get(Be.Z.lastShareTicket)?hv(Object.assign({shareTicket:Be.Z.lastShareTicket},e)):(0,Q.YG)("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")}),1e3/60)},gv=(0,Q.TG)("getPotentialFriendList","webapi_game_potential_friends",(()=>{}),(e=>(e.list=e.friend_list,delete e.friend_list,e))),vv=(0,Q.TG)("getGroupInfo","webapi_getshareinfo_byopengid",(({openGId:e})=>({opengid_list:[e]})),(e=>(e.name=e.info_list[0].room_topic,delete e.info_list,e)));function mv(e){setTimeout((()=>{vv(Object.assign({},e,{success:t=>(0,Q.FE)({args:e,res:t,name:"getGroupInfo",success:!!t.name,errMsg:t.name?"":"invalid openGId"})}))}))}var yv,_v=e=>{var{success:t,fail:r,failWithMsg:a}=(0,Q.Rn)(e,"getGroupMsgTicket");(0,Q.yD)({sdkApiName:"getGroupMsgTicket",apiName:"webapi_reportgroupshare",reqData:{path:e.path,share_key:e.shareKey},success:e=>{var{data:r}=e;0===r.errcode?t({expiresIn:r.expires_in,groupMsgTicket:r.group_msg_ticket}):a({code:r.errcode,msg:r.errmsg})},fail:e=>{e.errCode=-1,r(e)}})},bv=e=>{_v(e)},wv=(0,Q.TG)("getIAPInfo","webapi_getiapinfo");function Iv(){return new Promise(((e,t)=>{if(yv)e(yv);else{var r=x.default.appLaunchInfo.openId;r?(yv={openId:r,appId:x.default.accountInfo.appId},e(yv)):wv({success(t){yv={openId:t.openID,appId:t.appId},e(yv)},fail(e){t(e.errMsg)}})}}))}var Sv={};var kv=p(2248),Cv=p(6906),Tv=p(8165),Pv={},Av=null;function Ev(){return Pv}function Mv(){return Av||(0,Tv.Ir)()}function xv({filePath:e,thumbFilePath:t,fileType:r,appType:a}={}){return new Promise(((n,i)=>{if(!/wxfile:\/\//.test(e)&&!/http:\/\//.test(e)){var o=wt.LC.get(e);e=o}(0,Q.IN)("uploadToCommonCDN",{filePath:e,thumbFilePath:t,fileType:r,appType:a,isStorageMode:!0,snsUploadVersion:0,directReturnInDevtools:!0,success:n,fail:i})}))}x.default.onReady((()=>{Pv=x.default.appLaunchInfo,(0,z.aI)()&&((0,Cv.OQ)(((e={})=>{var t=Object.assign({},e);Pv.referrerInfo=Object.assign({},Pv.referrerInfo,t.referrerInfo),delete t.referrerInfo,Pv=Object.assign({},Pv,t)})),(0,Ac.Ke)((e=>{Av=e})))}));var Dv,Rv=p(7803),Lv=p(2576),Nv=p(6345),Ov=(0,Ta.t)(),Bv=Ov.writeFile,jv=Ov.access,Fv=Ov.mkdir,Wv=Pa.MV.WX_SHARE_APP_MESSAGE_CACHE_PATH.path,Uv="__$$wechat_game_image$$__",Gv=0,Vv=!0,$v={};x.default.onReady((()=>{(0,xo._F)()?(0,xo.CP)({id:xo.GY.getShareConfig,success:({data:e})=>{Array.isArray(e.share_link_list)&&($v=e.share_link_list.reduce(((e,t)=>(e[t.id]=t.url,e)),{}))}}):setTimeout((()=>{(0,Q.TG)("getShareConfig","webapi_getshareconf")({success(e){Array.isArray(e.share_link_list)&&($v=e.share_link_list.reduce(((e,t)=>(e[t.id]=t.url,e)),{}))},fail(e){}})}),500),(0,ua.KU)("shareCustomImageUrl")||(Vv=!1)}));var qv=()=>$v,zv=()=>Vv,Hv=(e,t,r)=>`${e}?size=${t}x${r}`,Kv=e=>new Promise(((t,r)=>{(0,Q.IN)("getImageInfo",{src:e,success:t,fail:r})}));function Jv(e){return xv({filePath:e,fileType:20301,appType:215})}function Qv(e,t=1048576){return new Promise(((r,a)=>{(0,Nv.h)({filePath:e,success:e=>{e.size<=t?r(e):a(e)},fail:a})}))}var Yv=e=>!(!e||"string"!=typeof e||!e.length)&&e.indexOf(`${Wv}/${Uv}`)>-1,Zv=function(){var e=_e()((function*(e){if(!e||"string"!=typeof e||!e.length)return e;var t=e.match(/^data:image\/(jpeg|png|gif);base64,(.*)$/);if(!t)return e;yield new Promise(((e,t)=>{jv({path:Wv,success:()=>{e()},fail:()=>{t()}})})).catch((()=>new Promise(((e,t)=>{Fv({dirPath:Wv,recursive:!1,success:e,fail:t})}))));var r=t[1],a=t[2],n=`${Wv}/${Uv}${Gv}.${r}`;Gv+=1;var i=!1;return yield new Promise((e=>{Bv({filePath:n,data:a,encoding:"base64",success:()=>{e(),i=!0},fail:()=>{e()}})})),i?n:e}));return function(t){return e.apply(this,arguments)}}(),Xv=(e,t,r)=>{__sclEngine__.initScl((a=>{var n=a.mainRoot.append("share-app-message-popup",{friendList:e});Dv=Date.now(),xr({UIArea:2,PositionID:0,ActionID:1,ExternInfo:{potential_friend_list:e}}),n.addListener("shareByMessageList",(()=>{Date.now(),xr({UIArea:2,PositionID:11,ActionID:2}),vm(r,{shareFromHalfPopup:!0})})),n.addListener("shareDirectly",(e=>{var a=e.detail.openId,n=e.detail.positionId,i={share_type:1,stay_time:Date.now()-Dv,to_uin:a,share_id:t};xr({UIArea:2,PositionID:n,ActionID:2,ExternInfo:i}),vm(r,{shareFromHalfPopup:!0,openId:a,fail:e=>{f.error(e)},success:()=>{xr({UIArea:2,PositionID:13,ActionID:3,ExternInfo:i})}},"shareAppMessageToSpecificContactDirectly")}));var i=e=>{xr({UIArea:2,PositionID:14,ActionID:4,ExternInfo:{type:e,stay_time:Date.now()-Dv}})};n.addListener("closeByshareByMessageList",(()=>{i(4)})),n.addListener("closeByButton",(()=>{i(1)})),n.addListener("closeByEmpty",(()=>{i(2)}))}))},em=null,tm=(e={})=>{if((0,Q.r3)("showAuthorize",e,{apply:""})){var t=x.default.accountInfo.nickname,r=x.default.accountInfo.icon,a=JSON.stringify({nickname:t,icon:r,apply:e.apply,overlay:e.overlay}),n=_t((e=>{[ct.BottomBackButton,ct.NavigationBackInterceptionType,ct.NavigateBackCall].includes(e.type)&&em&&(em.handleCancel(),em=null)}));__sclEngine__.initScl((t=>{(em=t.mainRoot.append("authorize",{input:a})).addListener("confirm",(()=>{bt(n),(0,Q.FE)({name:"showAuthorize",args:e})})),em.addListener("cancel",(()=>{bt(n),(0,Q.YG)("showAuthorize",e,"cancel")}))}))}};var rm=[];function am(){return new Promise(((e,t)=>{var r=QI();r.toTempFilePath({x:0,y:0,width:r.width,height:r.height,destWidth:r.width,destHeight:r.height,success(t){t.width=r.width,t.height=r.height,e(t)},fail(e){t(e)}})}))}var nm,im=(0,Ta.t)().unlinkSync,om=new tt.Z,sm=null,lm=null,cm=null,um="",dm={shareAppMessage:1,shareAppMessageDirectly:2,shareAppMessageToSpecificContactDirectly:3,shareAppMessageDirectlyFromHalfPopup:5,shareAppMessageToSpecificContactDirectlyFromHalfPopup:4};x.default.onReady((()=>{(0,z.aI)()&&((0,Ac.dN)((e=>{if(lm={},e.referrerInfo&&e.referrerInfo.messageExtraData){lm=e.referrerInfo.messageExtraData;var t=x.default.appLaunchInfo.scene_note,r=x.default.appLaunchInfo.scene,{userInfo:a,shareType:n,shareActionId:i}=lm;if(n&&a){var o=[b.getAppType(),n,a.openId,e.path||"",(0,rr._getCurrentNetworkType)(),r||"",t||"",i].join(",");b.reportKeyValue({key:"ShareCardClick",value:o})}}})),(0,xo._F)()?(0,xo.AL)({id:xo.GY.getgamepotentialfriends,success:e=>{var t,r,a=null==e||null===(t=e.data)||void 0===t||null===(r=t.potential_friends)||void 0===r?void 0:r.friend_list;null!=a&&a.length&&(cm=a,xr({UIArea:0,PositionID:1,ActionID:3}))}}):setTimeout((()=>{(0,Mo.ip)({reqData:{req_path:"friend.getgamepotentialfriends",appid:x.default.accountInfo.appId,fetch_mode:1,version:4},timeout:3e4,success:e=>{var t,r,a=null===(t=e.data)||void 0===t||null===(r=t.potential_friends)||void 0===r?void 0:r.friend_list;null!=a&&a.length&&(cm=a,xr({UIArea:0,PositionID:1,ActionID:3}))}})}),3e3))}));var pm=e=>{(0,Q.IN)("showUpdatableMessageSubscribeButton",{shareKey:e})};(0,Cv.OQ)((e=>{var t=e.shareInfo;"object"==typeof t&&null!==t&&setTimeout((()=>{pm(t.shareKey)}),500)}));var hm=e=>(t,r)=>{var{shareInfos:a}=t;if(delete t.shareInfos,void 0!==a&&a.length>0)if(a=a.filter((e=>e.shareKey&&e.shareName)),t.shareTickets=a.map((e=>(pm(e.shareKey),Be.Z.set(e.shareKey,e.shareName)))),z.gm)delete t.shareTickets,delete t.shareInfos,r();else{if(e.getGroupMsgTicket)return void Promise.all(a.map((e=>new Promise((t=>{var{shareKey:r}=e;bv({shareKey:r,success(e){t({groupMsgTicket:e.groupMsgTicket,expiresIn:e.expiresIn})},fail(){t({groupMsgTicket:""})}})}))))).then((e=>(t.groupMsgInfos=e,r()))).catch((()=>{}));r()}else r()},fm=(e={},t,r={},a=!1)=>{var n,i=Ev().apiCategory||x.default.appLaunchInfo.appearance;if("nativeFunctionalized"===i)return(0,Q.YG)(t,e,`not supported in ${i} apiCategory.`),void(0,Ze.showToast)({icon:"none",title:"暂不支持当前功能"});var o=zv(),s=qv(),l="string"==typeof e.path?e.path:"",c="string"==typeof e.query?e.query:"",u="",{shareFromHalfPopup:d=!1}=e;delete e.shareFromHalfPopup;var p=null!==(n=dm[d?t+"FromHalfPopup":t])&&void 0!==n?n:0;if(c&&(c.length>2e3&&(console.warn(`shareAppMessage: query exceed max length limit 2000: "${c.length}"`),c=c.substr(0,2e3)),l=`${l}?${c}`),e.imageUrl=wt.LC.get(e.imageUrl)||e.imageUrl,Array.isArray(e.imageUrl)&&(e.imageUrl=""),!o||!e.imageUrl&&e.imageUrlId){if(!s[e.imageUrlId])return e.imageUrlId,(0,Ze.showToast)({icon:"none",title:"由于小程序违规，分享功能暂时无法使用"}),void h(2);u=e.imageUrl=s[e.imageUrlId]}function h(t){!function({result:e,shareType:t,canUseCustomImageUrl:r,imageUrlId:a="",transformedImageUrl:n=""}){var i=Sv.query,o=[],s=x.default.accountInfo&&x.default.accountInfo.nickname||"";if(i&&"object"==typeof i)for(var l in i)o.push(`${encodeURIComponent(l)}=${encodeURIComponent(i[l])}`);var c=[Sv.scene,Sv.scene_note,Sv.sessionid,"",s,b.getAppType(),e,0,o.join("&"),t,r?1:2,a,n,x.default.host?x.default.host.appId:""].map(encodeURIComponent).join(",");b.reportKeyValue({key:"Share",value:c}),b.submit()}({result:t,shareType:p,canUseCustomImageUrl:o,imageUrlId:e.imageUrlId,transformedImageUrl:u})}(0,Q.IN)(t,Object.assign(r,e,{path:l,useDefaultSnapshot:!0,messageExtraData:Object.assign({shareType:p,userInfo:sm,shareActionId:um},e.extra),success(r){!function(e,t){rm.forEach((r=>{try{r(e,t)}catch(e){console.error(e)}}))}("shareAppMessage",r),(a||!z.gm&&(0,ua.KU)("share"))&&(0,Q.FE)({name:"shareAppMessage",args:e,res:r}),h(1),"shareAppMessageDirectly"===t&&xr({UIArea:2,PositionID:13,ActionID:3,ExternInfo:{share_type:d?2:3,stay_time:Date.now()-nm,share_id:um}}),"shareAppMessageToSpecificContactDirectly"===t&&d&&e.success(),setTimeout((()=>{(0,kv.y4)(kv.F0.EVENT_CANVAS_AFTER_SHARE_SUCCESS)}),500),e.requireAdsSkipCard&&(0,Q.yD)({apiName:"webapi_recvadcardsharepresent",reqData:{outTradeNo:(Date.now()+Math.random()).toString(36)},success(e){var t=e.data;!t.errCode&&t.amount&&function(e={}){__sclEngine__.initScl((t=>{t.mainRoot.append("ad-skip-card",e)}))}(t)}})},fail(t){var r=t.errMsg.replace("shareAppMessage:fail","");(a||!z.gm&&(0,ua.KU)("share"))&&(0,Q.YG)("shareAppMessage",e,r),h(-1!==r.indexOf("cancel")?3:2)},cancel(){setTimeout((()=>{(0,kv.y4)(kv.F0.EVENT_CANVAS_AFTER_SHARE_CANCEL)}),500)},complete:t=>{var r=(t.errMsg||"").replace(/^[^:]+/,"shareMessageToFriend"),a=!r||"shareMessageToFriend:ok"===r;!(0,Qe.J)("shareCallback")||3!==p&&4!==p||(om.emit("callback",{errMsg:r,success:a}),(0,Q.FE)({name:"shareMessageToFriend",errMsg:r,success:a,args:e})),Yv(e.imageUrl)&&setTimeout((()=>{im(e.imageUrl)}),1e3)}}),{beforeSuccess:hm(e),beforeAll(e){e.errMsg=e.errMsg.replace("shareAppMessageDirectly","shareAppMessage"),e.errMsg=e.errMsg.replace("shareAppMessageToSpecificContactDirectly","shareAppMessage")}}),(0,kv.y4)(kv.F0.EVENT_CANVAS_BEFORE_SHARE)},gm=(...e)=>{var t=e[0];function r(){var t=()=>{var t=e[0].imageUrl;Yt([t],"image",(r=>{/^(cloud):\/\//.test(t)&&(t=r.data[0].url),e[0].imageUrl=t,fm(...e)}))};sm?t():Iv().then((e=>{e.openID=e.openId,sm=e,t()}))}!z.jP||t.imageUrl||t.imageUrlId?r():function(e={},t){am().then((r=>{var{tempFilePath:a}=r;e.imageUrl=a,t()}))}(t,r)},vm=(e={},t={},r="shareAppMessageDirectly")=>{var a=Object.assign({title:e.title||x.default.accountInfo.nickname,imageUrl:e.imageUrl,query:e.query,imageUrlId:e.imageUrlId,path:e.path,requireAdsSkipCard:e.requireAdsSkipCard},t),n=Ev(),i=n.scene,o=n.chatroomUsername,s=e.toCurrentGroup;(s=1158===i?"boolean"!=typeof s||s:"boolean"==typeof s&&s)&&1158===i&&(a.chatroomUsername=o,r="shareAppMessageToSpecificContactDirectly"),gm(a,r),_o({reportType:8,query:e.query})},mm=(e={})=>{var t,r=null!==(t=e.useForType)&&void 0!==t?t:1;um=JSON.stringify(Date.now()+"-"+Mr()),cm?(nm=Date.now(),Xv(cm,um,e)):((0,Ze.showLoading)({title:"请稍后"}),(0,Mo.ip)({reqData:{req_path:"friend.getgamepotentialfriends",appid:x.default.accountInfo.appId,fetch_mode:2,use_for_type:r,version:4},timeout:3e4,success:t=>{var r,a,n=null==t||null===(r=t.data)||void 0===r||null===(a=r.potential_friends)||void 0===a?void 0:a.friend_list;(0,Ze.hideLoading)(),null!=n&&n.length?(cm=n,nm=Date.now(),Xv(n,um,e),xr({UIArea:0,PositionID:1,ActionID:3})):vm(e)},fail:t=>{f.error(t),(0,Ze.hideLoading)(),vm(e),xr({UIArea:2,PositionID:13,ActionID:3,ExternInfo:{share_type:2,stay_time:0,to_uin:0,share_id:um}})}}))},ym=function(){var e=_e()((function*(e={},t={}){fm(Object.assign(e,t,{imageUrl:yield Zv(e.imageUrl)}),"shareAppMessageDirectly",{},!0)}));return function(){return e.apply(this,arguments)}}(),_m=e=>{om.on("callback",e)},bm=e=>{om.off("callback",e)};function wm(e){return(0,Ze.showLoading)({title:"请稍等"}),xv({filePath:e.filePath,thumbFilePath:e.thumbFilePath,fileType:20302,appType:213}).then((e=>((0,Ze.hideLoading)(),e))).then((t=>{var r=(0,Rv.xF)({pageType:Lv.Gy.PLAY_PAGE_VIDEO,query:e.query});return function(e,t={},r,a={}){return new Promise(((n,i)=>{var o={title:t.title,path:t.path,imageUrl:e.thumbUrl,cardSubType:(0,Rv.oq)(r),messageExtraData:{title:t.title,imageUrl:e.fileUrl,pageType:r,thumbUrl:e.thumbUrl,fileUrl:e.fileUrl,...a}};(0,Q.IN)("shareAppMessageDirectly",{...o,success:n,fail:i})}))}(t,{title:e.title,path:r,imageUrl:t.thumbUrl},Lv.Gy.PLAY_PAGE_VIDEO,e)})).catch((e=>{(0,Ze.hideLoading)(),f.error("shareVideoAppMessage fail",e)}))}var Im={};function Sm(e={}){var t=e.shareMessageToFriendScene,r=e.query;if("number"!=typeof t&&"string"!=typeof r)return!1;var a={},n=!1;return t>=0&&t<=50&&(a.shareMessageToFriendScene=t,n=!0),"string"==typeof r&&r.length<=128&&(a.query=r,n=!0),n&&(Im=a),n}function km(){return Object.keys(Im).map((e=>`${e}=${Im[e]}`)).join("&")}var Cm=String.prototype.startsWith,Tm=String.prototype.indexOf;function Pm(e={}){var{imageUrl:t}=e;t=(e=>{if(e){e=""+e;var t=q.Z.URL||p.g.URL||p.g.webkitURL,r=q.Z.location;if(!(Tm.call(e,"@")>=0)){var a="[OpenDataContext] can not use remote http/https image in opendata context. ";if(t){var n={};try{if(n=r?new t(e,r.origin):new t(e),["http:","https:"].includes(n.protocol)){var i=r?n.href:e;return Cm.call(i,null==r?void 0:r.origin)?e:void console.error(a+e)}}catch(e){console.error(e)}}else if(Cm.call(e,"http")||Cm.call(e,"https"))return void console.error(a+e);return e}console.error("invalid imageUrl: "+e)}})(t);var r={openId:e.openId,title:e.title||x.default.accountInfo.nickname,imageUrl:t,imageUrlId:e.imageUrlId,disableForward:e.disableForward,success:e.success,fail:e.fail,complete:e.complete};(0,Qe.J)("isLiteGame")?Zv(t).then((t=>{(r=Object.assign(r,e,{imageUrl:t})).query=km(),gm(r,"shareAppMessageToSpecificContactDirectly")})):(r.query=km(),gm(r,"shareAppMessageToSpecificContactDirectly"))}function Am(e={}){var t={openId:e.openId,title:e.title||x.default.accountInfo.nickname,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId,disableForward:e.disableForward,success:e.success,fail:e.fail,complete:e.complete};t.query=km(),gm(t,"shareAppMessageToSpecificContactDirectly")}var Em="getUserInfo",Mm=({openIdList:e=[],lang:t="en",success:r,fail:a,complete:n}={})=>{var{success:i,fail:o}=(0,Q.Rn)({success:r,fail:a,complete:n},Em);(0,Q.yD)({sdkApiName:Em,apiName:"webapi_getuserinfo_byopenid",reqData:{openIdList:e,lang:t},success:e=>{i({data:e.data.userInfoList||[]})},fail:o})},xm=(0,Q.TG)("getUserCloudStorageKeys","webapi_getuserstorageallappkey",(()=>{}),(e=>(e.keys=e.data_key,delete e.data_key,e))),Dm=p(5436),Rm=p(8911),Lm=p(902),Nm=p(9768),Om=0,Bm=0;x.default.onReady((()=>{var e=(0,md.Ew)();Om=e.screenWidth,Bm=e.screenHeight,(0,Nm.KN)(((e={})=>{var{size:t}=e;t&&t.windowWidth&&(Om=t.windowWidth,Bm=t.windowHeight)}))}));class jm extends Lm.wA{constructor({title:e,content:t,icon:r,confirmText:a,cancelText:n,confirm:i,cancel:o,style:s={}}={}){super();var l=(0,Lm.Wj)(this),c=`<view id="container">\n      <view id="mask" />\n      <view id="tail" />\n      <view id="popup">\n        <view id="header">\n          <image id="close" src="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht1JxkNuzGdYKKtQ5NiadIeFXjxMBvdzv8ib9nThJgX9M7z3Dq59jIUkGnTENr7AibOJMQ/0?wx_fmt=png" />\n          <text id="title" value="${e}" />\n          <text id="close2" />\n        </view>\n        <view id="main">\n          ${r?`<image id="icon" src="${!0===r?"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht3OjibpgsQSWKlYHJ8u8AiacNQgu4ianBYzC5gEXmxS74iaGkZUzEbFjwp6n7d8rJV7JSA/0?wx_fmt=png":r}" />`:""}\n          <text id="content" value="${t}" />\n        </view>\n        <view id="footer">\n          ${n?`<text id="cancel" value="${n}" />`:""}\n          ${a?`<text id="confirm" value="${a}" />`:""}\n        </view>\n      </view>\n    </view>`,{root:u}=ov()(c),d=(({cancelText:e,confirmText:t,icon:r})=>{var a=Om>Bm;return{mask:{width:Om,height:Bm,zIndex:1000007,opacity:.5,backgroundColor:"#000000"},tail:{bottom:0,height:12,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",left:a?(Om-Bm)/2:0,width:a?Bm:Om},popup:{bottom:0,zIndex:1000008,position:"absolute",backgroundColor:"#ffffff",borderRadius:12,left:a?(Om-Bm)/2:0,width:a?Bm:Om},header:{height:64,flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:a?Bm:Om},close:{width:14,height:14,marginLeft:20},title:{width:150,height:40,fontSize:15,lineHeight:40,textAlign:"center",color:"#000000"},close2:{width:14,height:14,marginRight:20},main:{flexDirection:"column",alignItems:"center",width:a?Bm:Om},icon:{height:64,width:64,marginTop:12,marginBottom:8},content:{height:60,fontSize:17,color:"#000000",textAlign:"center",lineBreak:"break-all",marginTop:r?0:64,marginBottom:r?0:15,width:a?.9*Bm:.9*Om},footer:{heihgt:40,marginBottom:32,flexDirection:"row",justifyContent:"center",width:a?Bm:Om},cancel:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#07c160",backgroundColor:"rgba(0, 0, 0, 0.05)",width:t?120:184},confirm:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#ffffff",backgroundColor:"#04c160",width:e?120:184}}})(arguments[0]);Object.keys(s).forEach((e=>{d[e]&&Object.assign(d[e],s[e])})),Lm.S1.call(this,u,d),Rm.u.add(l.container),l.close&&l.close.on("click",(()=>{"function"==typeof o&&o()})),l.cancel&&l.cancel.on("click",(()=>{"function"==typeof o&&o()})),l.confirm&&l.confirm.on("click",(()=>{"function"==typeof i&&i()}))}destroy(){var e=(0,Lm.Wj)(this);Rm.u.remove(e.container),(0,Lm.bn)(this)}}function Fm(e={}){return z.DD?((0,Ze._showModal)(Object.assign({},e,{showCancel:!!e.cancelText,success({confirm:t,cancel:r}){t?e.confirm&&e.confirm():r&&e.cancel&&e.cancel()}})),{destroy:()=>{}}):new jm(e)}var Wm=new Dm.Q("InteractiveStorageModified",!0),Um={add:1},Gm=(0,ua.Fr)(Mm);var Vm=({actionId:e,actId:t=0,receiverOpenId:r,detail:a,opNum:n=0,operationType:i=0})=>{var o=[e,t,0,a,n,i,r].join(",");b.reportKeyValue({key:"GameInteractiveData",value:o})},$m=e=>{b.reportIDKey({key:e})},qm=(0,Q.TG)("modifyFriendInteractiveStorage","webapi_modifyfriendinteractivedata",(({key:e,operation:t,opNum:r,toUser:a,debug:n,action:i,object:o,ratio:s,quiet:l})=>({key:e,operation:t,debug:n,opNum:r,toUser:a,action:i,object:o,ratio:s,quiet:!!l,op_num:r,to_user:a,random_number:Date.now(),randomNumber:Date.now()})),(e=>{var t,r,{json_resp:a,inner_errcode:n,inner_errmsg:i}=e,o="modifyFriendInteractiveStorage:fail ";e.errMsg,delete e.json_resp,delete e.inner_errcode,delete e.inner_errmsg;try{t=JSON.parse(a)}catch(e){t={},e.message}if((r=t.log)&&r.split("\n").map(decodeURIComponent).forEach((e=>{var t=parseInt(e.substr(0,1),10),r=`[JSServer]${e.substr(1)}`;switch(t){case j:console.log(r);break;case W:console.warn(r);break;case U:console.error(r)}})),!(0,R.o8)(n)&&0!==n)return e.errMsg=`${o}${i}`,void(e.errCode=n);try{var s=JSON.parse(t.base_resp);if(0!==s.errcode)return e.errCode=s.errmsg,void(e.errMsg=`${o}${s.errmsg}`);e.errCode=0}catch(t){e.errCode=-1,e.errMsg=`${o}${t.message}`,t.message}})),zm=new Set,Hm=e=>{var t=(0,Tv.x9)(),r=lm;!r&&t&&t.referrerInfo&&(r=t.referrerInfo.messageExtraData),r&&3===r.shareType&&r.userInfo?zm.has(r.userInfo.openID)?(0,Q.YG)("modifyFriendInteractiveStorage",e,"quiet modify can only be use once"):(zm.add(r.userInfo.openID),qm(Object.assign(e,{toUser:r.userInfo.openID}))):(0,Q.YG)("modifyFriendInteractiveStorage",e,"game is not launch by click share card")},Km=e=>{$m("modifyFriendInteractiveStorage");var t=Object.assign({},e,{success:t=>{(0,Q.FE)({res:t,args:e,name:"modifyFriendInteractiveStorage",success:0===t.errCode,errCode:t.errCode,errMsg:t.errMsg}),t.errCode||Wm.emit("modified",`${e.key}`)}});t.quiet?Hm(t):t.toUser?x.default.modifyFriendInteractiveStorageTemplates?(e=>{Gm({openIdList:[e.toUser]}).then((t=>{var r,a,n,{nickName:i}=t.data[0],o=parseInt(e.key,10),s=e.toUser,l=e.opNum,c=Um[e.operation];for(n of x.default.modifyFriendInteractiveStorageTemplates)if(n.key===e.key){var u=n.ratio?` x${l*n.ratio} ？`:"？";r=`确认${n.action} ${i} ${n.object}${u}`,a=encodeURIComponent(r);break}if(!r)throw new Error("invalid key");var d={actId:o,receiverOpenId:s,detail:a,opNum:l,operationType:c};Vm(Object.assign({actionId:1},d)),$m("modifyFriendInteractiveStorageShowModal");var p=Fm({content:r,title:`${n.action}${n.object}`,confirmText:`确认${n.action}`,confirm(){p.destroy(),qm(Object.assign({action:n.action,object:n.object,ratio:n.ratio},e,{success:t=>{if(e.success&&e.success(t),!t.errCode)var r="string"==typeof e.title,a=Fm({title:`${n.action}${n.object}`,icon:!0,content:r?`已${n.action}，马上告诉微信好友？`:`已${n.action}`,cancelText:r?"下次吧":"我知道了",confirmText:!!r&&"告诉他",cancel(){a.destroy()},confirm(){a.destroy(),Pm({openId:s,title:e.title,imageUrl:e.imageUrl,imageUrlId:e.imageUrlId})}})}})),Vm(Object.assign({actionId:2},d)),$m("modifyFriendInteractiveStorageConfirm")},cancel(){p.destroy(),(0,Q.YG)("modifyFriendInteractiveStorage",e,"cancel"),Vm(Object.assign({actionId:3},d)),$m("modifyFriendInteractiveStorageCancel")}})})).catch((({errMsg:t,message:r})=>{(0,Q.YG)("modifyFriendInteractiveStorage",e,t||r)}))})(t):x.default.modifyFriendInteractiveStorageConfirmWording?(e=>{Gm({openIdList:[e.toUser]}).then((t=>{var{nickName:r}=t.data[0],a=x.default.modifyFriendInteractiveStorageConfirmWording.replace("${nickname}",r),n={actId:parseInt(e.key,10),receiverOpenId:e.toUser,detail:encodeURIComponent(a),opNum:e.opNum,operationType:Um[e.operation]};Vm(Object.assign({actionId:1},n)),$m("modifyFriendInteractiveStorageShowModal"),(0,Ze._showModal)({content:a,confirmText:"确定",cancelText:"取消",success(t){t.confirm?(qm(e),Vm(Object.assign({actionId:2},n)),$m("modifyFriendInteractiveStorageConfirm")):((0,Q.YG)("modifyFriendInteractiveStorage",e,"cancel"),Vm(Object.assign({actionId:3},n)),$m("modifyFriendInteractiveStorageCancel"))}})})).catch((({errMsg:t})=>{(0,Q.YG)("modifyFriendInteractiveStorage",e,t)}))})(t):(0,Q.YG)("modifyFriendInteractiveStorage",e,"invalid modifyFriendInteractiveStorage config in game.json"):(0,Q.YG)("modifyFriendInteractiveStorage",e,"toUser is required without quiet")},Jm=e=>{Wm.on("modified",e)},Qm=e=>{Wm.off("modified",e)},Ym=(e,t)=>{var r;return"string"!=typeof e?r=new Error(`${t}: first argument must be a string`):/^(wxfile|https?):/.test(e)?r=new Error(`${t}: not support wxfile: or http: path`):/\.wasm(\.br)?$/.test(e)||(r=new Error(`${t}: only support file type .wasm or .wasm.br`)),r},Zm=e=>(0,Qe.J)("allowBufferWASM")&&(0,oa.uC)(e,"allowBufferWASM"),Xm=(e,t,r)=>{var a;return e.startsWith("wxfile://")?Zm(t)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(a=new Error(`${r}: not support wxfile: or http: path`)):-1!==e.indexOf(`__plugin__/${t}/`)||(e=(0,Xe.RP)(t,e)),{error:a,finalFile:e}};const ey={};var ty,ry,ay,ny,iy=p(5133),oy=p(2422),sy=(e={})=>[e.req,e.res].map(((e,t)=>e?((e,t)=>({type:"If",if:{compare:"eq",right:0===t?"req":"res"},withRely:[e],thisDeep:!0}))(e,t):null)).filter((e=>null!==e)),ly={},cy=(e,t)=>{if(!ly[e])return Promise.resolve(!1);var r=(0,be.k)().runTask("resolveApiFullRule",{rules:ry?null:ty,data:{[e]:t},appid:x.default.accountInfo.appId});return ry||(ry=!0),r.then((e=>e.result))},uy=e=>{var t=[];Object.entries(e).forEach((([e,r])=>{r.rule&&(t.push({api:e,rule:r.rule}),ly[e]=!0)})),(e=>{if(!Array.isArray(e))return null;var t=1,r=e.map((e=>{var{api:r,rule:a}=e;return a.thisDeep=!0,{key:t++,type:"If",if:{compare:"eq",right:r},withRely:[...sy(a)]}}));ty={schemaVersion:"1.0.0",object:{conditions:r},string:{conditions:null}}})(t)},dy=new Promise(((e,t)=>{ay=e,ny=t})).catch((e=>{})),py=()=>{(0,Q.Qh)({apiName:"webapi_getwxaqualityossrule",reqData:{type_list:[1]}}).then((e=>{var t,r,a=null===(t=e.data)||void 0===t||null===(r=t.quality_oss_rule)||void 0===r?void 0:r.public_lib_rule;a,ay(a)})).catch((e=>{ny()}))};x.default.onReady((()=>{(0,Qe.J)("WxaQualityOssRuleConfig")?py():ny()}));var hy=p(6227),fy=(0,Ta.t)(),gy="wxfile://ad/sdk_dynamic_item.json",vy=6048e5,my=864e5,yy={},_y=Math.random,by=()=>{try{var e=void 0!==t&&t?t.version:"unknown";return(0,ah.yC)(e,"2.22.1")?"2230_":(0,ah.yC)(e,"2.21.4")?"2215_":""}catch(e){return""}},wy=(0,ua.Fr)(fy.readFile),Iy=(0,ua.Fr)(fy.writeFile);x.default.onReady((()=>{if(!o.env.isMagicBrushFrameEnv){var e=by()+"WeAppRequestError",t=by()+"ApiReportStrategy",r="weAppRequestErrorOpenStrategy",a="weQualityConfig",n={[t]:vy,[e]:my,[r]:vy,[a]:my},i={[t]:null,[e]:null,[r]:null,[a]:null};wy({filePath:gy,encoding:"utf-8"}).then((e=>{(0,Qe.J)("disableBusinessConfigCache")||(e=JSON.parse(e.data),Object.keys(e).forEach((t=>{Date.now()-e[t].cache_time>=n[t]||(i[t]=e[t])})))})).catch((()=>{})).finally((()=>{if(void 0!==o){var n=[];(s=[e,r,t,a].filter((e=>(i[e]&&n.push(e),!i[e]))),s.length?(0,Q.Qh)({apiName:"webapi_getwxabusinessconfig",reqData:{get_type:2,business_name:"WxaServiceQualityOss",item_name_list:s}}):Promise.resolve({data:{conf_item_list:[]}})).then((o=>{try{var s,l=o.data.conf_item_list;n.forEach((e=>{l.push({item_name:e,item_info:i[e].cache_info})}));try{l&&(l.forEach((e=>{switch(e.item_name){case t:try{var n=JSON.parse(e.item_info);yy=n,uy(n)}catch(e){}break;case r:try{var i=JSON.parse(e.item_info);s=(0,oy.ap)(i),(0,hy.gd)()}catch(e){}break;case a:try{var o=JSON.parse(e.item_info);m.setQualityConfig(o)}catch(e){}}})),Object.values(i).filter((e=>null===e)).length&&Iy({filePath:gy,data:JSON.stringify({...l.reduce(((e,t)=>(null===i[t.item_name]?e[t.item_name]={cache_info:t.item_info,cache_time:Date.now()}:i[t.item_name]&&(e[t.item_name]=i[t.item_name]),e)),{})})}).catch((e=>{})));var c=_y()<=.05;if(c&&(0,oy._C)(),!s&&!c)return;var u=l.find((t=>t.item_name===e));if(u){var d;dy.then((e=>{d=e})).catch((()=>{})).finally((()=>{var e;(0,be.k)().runTask("createWeAppRequestInterpreter",{rules:u.item_info,appid:null===x.default||void 0===x.default||null===(e=x.default.accountInfo)||void 0===e?void 0:e.appId,userRules:d||""}).catch((e=>{f.error("createWeAppRequestInterpreter occer error:",e)}))}));var p=JSON.parse(u.item_info);m.convert24247SchemaToSensitiveQueryJudgeSchema(p)}}catch(e){}}catch(e){}})).catch((e=>{(0,hy.gd)()}))}var s}))}}));var Sy=e=>yy[e],ky=(e,t,r=!1)=>{var a;if(!(0,R.Kn)(t)&&!Array.isArray(t))return t;var n=Sy(e);if(!n)return t;if(Array.isArray(null==n||null===(a=n[r?"res":"req"])||void 0===a?void 0:a.filter)){var i={};for(var o of Object.getOwnPropertyNames(t))n[r?"res":"req"].filter.includes(o)||(i[o]=t[o]);return Array.isArray(t)&&(i=Array.from(i)),i}return t},Cy=p(7994),Ty=0,Py="",Ay=Date.now(),Ey=Ay,My=Ay;o.onLoad((()=>{var e=Date.now();Ey=e,My=e}));var xy={};kd.Z.set("appLaunchInfo",xy),x.default.onReady((()=>{var e=Date.now();Ey=e,My=e,Ty=x.default.appLaunchInfo.scene,Py=x.default.appLaunchInfo.sessionid||x.default.appLaunchInfo.sessionId,Object.assign(xy,x.default.appLaunchInfo),(0,je.n)("onAppEnterForeground",(e=>{Object.assign(xy,e),My=Date.now(),e&&e.scene&&(Ty=e.scene),e&&(e.sessionid||e.sessionId)&&(Py=e.sessionid||e.sessionId)}))}));var Dy="";function Ry(e,t,r,a,n,i,o,s,l,c,u,d=!1,p){var h,f;for(var g of iy.d7)if(g.test(e)){r="";var v=o;a&&(o=""),"request"===e&&a&&!l&&1===i&&(0,Qe.J)("reportRresult")&&(o=null==v?void 0:v.data);break}var m,y=kd.Z.get("api_call_from_hot_boot_time",My);m=void 0===c?-1:c?1:0;var _=Date.now(),w=(0,z.tg)()?2:z.jP?1:0,I=(0,Cy.Ge)(),S=(0,Cy.g5)(),k=[e,t,(0,Rt.cv)(ky(e,r)),a,n,0===i?u:_-n,(0,rr._getCurrentNetworkType)(),i,(0,Rt.cv)(ky(e,o,!0)),x.default.appType+1e3,Ty,(0,pi.k)(),(0,pi.n)(),(0,iy.ic)(e),s,(0,Rt.FZ)(),Py,_-Ey,_-y,encodeURIComponent(xy.scene_note||xy.sceneNote),null===(h=o)||void 0===h?void 0:h.errno,m,null===(f=o)||void 0===f?void 0:f.errCode,encodeURIComponent(Dy),p,w,I,S].map((0,Rt.bv)(1024)).join(",");l||1!==i||(b.reportIDKey({key:"asyncApiCount"}),b.reportIDKey({key:"asyncApiCost",value:_-n})),l&&b.reportKeyValue({key:"WeAppInvoke2",value:k,immediately:d}),b.reportKeyValue({key:"WeAppInvoke",value:k,immediately:d})}(0,Ac.dN)((e=>{Dy=e.sessionId}));var Ly=new WeakSet,Ny=["showModal","showToast","showLoading"];function Oy(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!r&&(!!r.configurable&&(!(!t||"_"===t[0])&&(!iy.Mw.includes(t)&&r)))}function By(e,...t){(0,R.mf)(e)&&e(...t)}function jy(e,t,r,a=!1){var n=(0,Rt.M8)(),i=Date.now();return(o,s,l=!1)=>{Ry(e,n,t,null===s?0:1,i,0,s,r,a),!l&&Ry(e,n,t,o?1:0,i,1,s,r,a,!0)}}var Fy=Map,Wy=Math.random,Uy=(e,t)=>!!(e=>{var t;return!1===(null===(t=yy[e])||void 0===t?void 0:t.hook)})(e)||!(e=>{var t;return!0===(null===(t=yy[e])||void 0===t?void 0:t.hook)})(e)&&(!ey[e]&&(!(0,R.Kn)(t)||!("success"in t||"fail"in t||"complete"in t)||void 0));function Gy(e){var t;return function(){return t=t||e.apply(this)}}function Vy(e,t,r,a,n,i,o){var s=function(l,...c){var u,d,p=!1,h=Sy(e),g=null!==(u=null==h?void 0:h.ratio)&&void 0!==u?u:n,v=1===(null==h?void 0:h.ratio)||o,y=Wy()<g,_=(0,Rt.M8)(),w=m.getAsyncCallApiRelatedEvent();(d=m.getTrackUserAction())&&m.pushApiToEventApiList(e,_);var I=Date.now(),S=c.length?[l,...c]:l,k=!0;Promise.resolve().then((()=>{k=!1}));var C=()=>!k;try{var T,P=arguments.length?[Uy(e,l)?l:Object.assign({},l,{..."request"===e?{__wx_inner_uuid__:_,__wx_inner_invokeTime__:I,__wx_inner_request_network_type__:(0,rr._getCurrentNetworkType)(),__wx_request_route_path__:m.getCurrentRoutePath()}:{},success:t=>{var r;cy(e,{res:t}).then((r=>{v=v||r||p,(r||y||p)&&(!v||!b.isLimitReport(21688))&&Ry(e,_,S,1,I,1,t,i,v,C())})).catch((e=>{f.warn("checkPointFullReportRule err:",e)})),Ny.includes(e)&&m.reportInteractionAPI({api:e,result:0,res:t}),"request"!==e&&m.traceApi(e,l,t,null,_,Date.now()-I,!0),d&&(r=m.setAsyncCallApiRelatedEvent(d)),By(l&&l.success,t),d&&!1!==r&&setTimeout((()=>m.clearAsyncCallApiRelatedEvent(d)),m.getAsyncCallbackJoinEventInterval())},fail:t=>{var r;cy(e,{res:t}).then((r=>{v=v||r||p,(r||y||p)&&(!v||!b.isLimitReport(21688))&&Ry(e,_,S,0,I,1,t,i,v,C())})).catch((e=>{f.warn("checkPointFullReportRule err:",e)})),Ny.includes(e)&&m.reportInteractionAPI({api:e,result:1,res:t}),"request"!==e&&m.traceApi(e,l,t,!0,_,Date.now()-I,!0,{errMsg:t.errMsg,errno:t.errno}),t.errno&&b.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[e,t.errno].join(",")}),(0,R.mf)(l&&l.fail)?(d&&(r=m.setAsyncCallApiRelatedEvent(d)),By(l&&l.fail,t),d&&!1!==r&&setTimeout((()=>m.clearAsyncCallApiRelatedEvent(d)),m.getAsyncCallbackJoinEventInterval())):console.warn("call failed:,",t)}}),...c]:[];T=this instanceof s?Reflect.construct(t,P,t):Reflect.apply(t,r,P),m.traceApi(e,l,T,null,_,Date.now()-I,!1,{relatedEvent:w});var A=null===T?0:1;return cy(e,{req:S,res:T}).then((t=>{t&&(p=!0),v=v||t,(t||y)&&(!v||!b.isLimitReport(21688))&&Ry(e,_,S,A,I,0,T,i,v)})).catch((e=>{f.warn("checkPointFullReportRule err:",e)})),a&&(0,R.Kn)(T)&&!Ly.has(T)&&($y(e,T,!1,n,i,v,!1),Ly.add(T)),T}catch(t){throw m.traceApi(e,l,null,!0,_,Date.now()-I,!1,{errMsg:t,relatedEvent:w}),cy(e,{req:S}).then((r=>{r&&(p=!0),v=v||r,(r||y)&&(!v||!b.isLimitReport(21688))&&Ry(e,_,S,0,I,0,t,i,v)})).catch((e=>{f.warn("checkPointFullReportRule err:",e)})),t}};return s}function $y(e,t,r,a,n,i,o){if(!(0,R.Kn)(t))return t;var s,l=new Fy;for(var c of Object.getOwnPropertyNames(t))(s=Oy(t,c))&&l.set(c,s);var u=Object.getPrototypeOf(t);for(var d of Object.getOwnPropertyNames(u))(s=Oy(u,d))&&!s.get&&l.set(d,s);return l.forEach(((s,l)=>{if(o&&s.get)Object.defineProperty(t,l,{get:Gy((function(){var c=s.get.apply(this);return(0,R.mf)(c)?Vy(`${e}${e?".":""}${l}`,c,t,r&&"Sync"!==l.slice(-4),a,n,i):(0,R.Kn)(c)&&o?$y(`${e}${e?".":""}${l}`,c,r,a,n,i,o):void 0})),set:s.set,enumerable:s.enumerable,configurable:s.configurable});else{var c=s.value;if(!s.writable)return;(0,R.mf)(c)?t[l]=Vy(`${e}${e?".":""}${l}`,c,t,r&&"Sync"!==l.slice(-4),a,n,i):(0,R.Kn)(c)&&o&&(t[l]=$y(`${e}${e?".":""}${l}`,c,r,a,n,i,o))}})),t}var qy=!1;var zy=p(714),Hy={},Ky=!1;function Jy(){if(!Ky)throw new Error("WebAssembly not ready")}var Qy=new Proxy({},{get:(e,t,r)=>(Jy(),Reflect.get(e,t,r))});o.onLoad((()=>{Ky=!0;var e=globalThis;void 0!==q.Z.WebAssembly?Hy=q.Z.WebAssembly:void 0!==e.WebAssembly&&(Hy=e.WebAssembly);try{e.WebAssembly&&delete e.WebAssembly}catch(e){}var t={Table:Hy.Table,Memory:Hy.Memory,Global:Hy.Global,Instance:Hy.Instance,compile:Hy.compile,compileStreaming:Hy.compileStreaming,instantiateStreaming:Hy.instantiateStreaming,validate:Hy.validate,CompileError:Hy.CompileError,LinkError:Hy.LinkError,Module:Hy.Module,RuntimeError:Hy.RuntimeError,instantiate:(e,t,r)=>Promise.resolve(Hy.instantiate(e,t,r))};Object.assign(Qy,t)}));var Yy=()=>(Jy(),Hy),Zy="weapp://wechat-game-runtime";var Xy=new WeakMap,e_={},t_=e=>Xy.get(e),r_=e=>{if(e_[e])return e_[e];class t{constructor(t){if(void 0===t)return this;var r,a=Yy();if(e)if(Zm(e)){if((0,R.eP)(t)||(0,R.fU)(t)){var n=new a.Module(t);return n&&Xy.set(this,n),this}}else{t=`${t}`;var{error:i,finalFile:o}=Xm(t,e,"WXWebAssembly.Module");if(i)throw i;t=o}else r=Ym(t=`${t}`,"WXWebAssembly.Module");if(r)throw r;if(z.jP){var s=function({filePath:e,encoding:t}){var r=new XMLHttpRequest;return r.open("POST",`${Zy}/wxfs/${btoa(e)}`,!1),r.setRequestHeader("content-type","application/json"),r.responseType="string"==typeof t?"text":"arraybuffer",r.send(JSON.stringify({})),"string"==typeof t?r.responseText:r.response}({filePath:t}),l=new a.Module(s);l&&Xy.set(this,l)}else{var c,u;/\.br$/.test(t)?(c=zy.T,u={filePath:t,compressionAlgorithm:"br"}):(c=Nt.N,u=t);var d=c(u),p=new a.Module(d);p&&Xy.set(this,p)}return this}static customSections(e,t){return Yy().Module.customSections(t_(e),t)}static exports(e){return Yy().Module.exports(t_(e))}static imports(e){return Yy().Module.imports(t_(e))}}return e_[e]=t,t},a_=(e,t)=>{var r=new(r_(t));return Xy.set(r,e),r},n_=(e,t,r,a)=>{var n=Yy(),i=/\.br$/.test(e)?zy.$:Nt.p;return new Promise(((o,s)=>{i({compressionAlgorithm:"br",filePath:e,success(e){n.instantiate(e.data,t).then((0,Q.qB)((e=>{r(!0,e);var t=Object.assign({},e);t.module&&(t.module=a_(e.module,a)),o(t)}),"wasm.instantiate.then"),(0,Q.qB)((e=>{r(!1,e),s(e)}),"wasm.instantiate.catch"))},fail({errMsg:e}){var t=new Error(e.replace(/^\w+:fail\s*/,""));r(!1,t,!z.jP),s(t)}})}))},i_=(e,t,r)=>{var a=Yy();if(t_(e))return a.instantiate(t_(e),t);var n,i=jy("instantiate",{file:e=`${e}`,imports:t},!1,!1);if(r&&Zm(r)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(n=Ym(e,"WXWebAssembly.instantiate")),n)return i(!1,n,!0),Promise.reject(n);if(z.jP||"string"==typeof e&&e.startsWith("wxfile://"))return n_(e,t,i,r);if(z.cj||z.wZ){var o=a.instantiate(e,t);return i(!0,o,!0),Promise.resolve(o).then((0,Q.qB)((e=>{var t=Object.assign({},e);return t.module&&(t.module=a_(e.module,r)),t}),"wasm.instantiate.then.2"))}return n_(e,t,i,r)},o_=(e,t)=>{var r,a,n=Yy();/\.br$/.test(e)?(r=zy.T,a={filePath:e,compressionAlgorithm:"br"}):(r=Nt.N,a=e);var i=r(a);return new n.Instance(new n.Module(i),t)},s_=(e,t,r)=>{var a=Yy();if(t_(e))return new a.Instance(t_(e),t);var n,i=jy("Instance",{file:e=`${e}`,imports:t},!1,!1);if(r&&Zm(r)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(n=Ym(e,"WXWebAssembly.Instance")),n)throw i(!1,n,!0),n;return z.jP||"string"==typeof e&&e.startsWith("wxfile://")?o_(e,t):z.cj||z.wZ?new a.Instance(e,t):o_(e,t)};function l_(e,t){var r,a=Yy();if(t&&Zm(t)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(r=Ym(e,"WXWebAssembly.compile")),r)return Promise.reject(r);if(z.jP)return new Promise(((r,n)=>{!function(e={}){var{filePath:t,encoding:r,success:a,fail:n,complete:i}=e;fetch(`${Zy}/wxfs/${btoa(t)}`,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({filePath:t})}).then((e=>"string"==typeof r?e.text():e.arrayBuffer())).then((e=>{"function"==typeof a&&a({data:e,errMsg:"readFileXhr:ok"}),"function"==typeof i&&i({data:e,errMsg:"readFileXhr:ok"})})).catch((e=>{e.errMsg=`readFileXhr:fail ${e.message}`,"function"==typeof n&&n(e),"function"==typeof i&&i(e)}))}({filePath:e,success(e){a.compile(e.data).then((0,Q.qB)((e=>{e=a_(e,t),r(e)}),"wasm.compile.then.1")).catch((e=>n(e)))},fail({errMsg:e}){n(new Error(e.replace(/^\w+:fail\s*/,"")))}})}));var n=/\.br$/.test(e)?zy.$:Nt.p;return new Promise(((r,i)=>{n({compressionAlgorithm:"br",filePath:e,success(e){a.compile(e.data).then((0,Q.qB)((e=>{e=a_(e,t),r(e)}),"wasm.compile.then.2")).catch((e=>i(e)))},fail({errMsg:e}){i(new Error(e.replace(/^\w+:fail\s*/,"")))}})}))}var c_=null,u_=({provider:e}={})=>e?(e=>{var t=Yy(),r={Table:t.Table,Memory:t.Memory,Global:t.Global,Instance:function(t,r={}){if(t_(t))return s_(t,r,e);t=`${t}`;var{error:a,finalFile:n}=Xm(t,e,"WXWebAssembly.Instance");if(a)throw a;return s_(n,r,e)},instantiate(t,r={}){if(t_(t))return i_(t,r,e);t=`${t}`;var{error:a,finalFile:n}=Xm(t,e,"WXWebAssembly.instantiate");return a?Promise.reject(a):i_(n,r,e)}};return t.compile&&(r.compile=t=>{t=`${t}`;var{error:r,finalFile:a}=Xm(t,e,"WXWebAssembly.compile");if(r)throw Promise.reject(r);return l_(a,e)}),t.Module&&(r.Module=r_(e)),r})(e):(c_||(c_=(()=>{var e=Yy(),t={Table:e.Table,Memory:e.Memory,Global:e.Global,Instance:function(e,t={}){return s_(e,t,void 0)},instantiate:(e,t={})=>i_(e,t,void 0)};return e.compile&&(t.compile=e=>l_(e)),e.Module&&(t.Module=r_()),t})()),c_),d_=(0,Q.TG)("getGameLifeProfile","webapi_getgamelifeprofile",(e=>JSON.parse(JSON.stringify(e)))),p_=(0,Q.TG)("getGreetingControlInfo","webapi_getgreetingcontrolinfo",(e=>JSON.parse(JSON.stringify(e)))),h_=(0,Q.TG)("interactGameLifeTag","webapi_interactgamelifetag",(e=>JSON.parse(JSON.stringify(e)))),f_=p(3131),g_=p(3286),v_=e=>{if((0,Qe.J)("createWebView"))return new g_.kh(Object.assign({},e,{__skipDomainCheck__:!1,isGameWebview:!1}));throw new Error("createWebView:fail no permission")},m_=({url:e,success:t,fail:r,complete:a})=>{(0,Q.IN)("private_openUrl",{url:e,isNativeStyle:!0,success:t,fail:r,complete:a})},y_=({success:e,fail:t,complete:r}={})=>{m_({url:"http://game.qq.com/contract.shtml",success:e,fail:t,complete:r})},__=({success:e,fail:t,complete:r}={})=>{m_({url:"https://game.qq.com/privacy_guide.shtml",success:e,fail:t,complete:r})},b_=({success:e,fail:t,complete:r}={})=>{m_({url:"http://huanle.qq.com/cp/a20170209notice/",success:e,fail:t,complete:r})},w_=({success:e,fail:t,complete:r}={})=>{m_({url:"https://game.qq.com/privacy_guide_children.shtml",success:e,fail:t,complete:r})},I_=({success:e,fail:t,complete:r}={})=>{m_({url:"https://game.qq.com/game_account_cancellation_agreement.shtml",success:e,fail:t,complete:r})},S_=p(8113),k_=({name:e,scene:t,strategy:r,timeDiffToLastTap:a=0})=>{var n;void 0!==nr.hr&&(n=nr.hr.getCurrentPagesByDomain("").find((e=>e.__wxWebviewId__===Ve.Z.currentWebviewId))||{});var i=[e,t,b.getAppType(),n?n.route:"",r||0,a].map(encodeURIComponent).join(",");b.reportKeyValue({key:"RecycledAPI",value:i})},C_=p(4500),T_={constant:{modalCancel:"取消"}};T_.attemptSkipMaxThreshold=5,T_.currentAttemptSkipCount=0,T_.currentUserFirstUseThisGame=!1,T_.currentUserUseThisGameTime=0,T_.currentUserUseThisGameTimer=null,T_.isPause=null,T_.limitStrategy=null;var P_=e=>1===e?3303:3304,A_={count:0,uuid:null,navigateCount:0,bannedCount:0},E_=(e,t,r)=>{A_.uuid||(A_.uuid=(0,ve.M8)()),A_.count,A_.uuid,A_.bannedCount,A_.navigateCount,parseInt(Date.now()/100,10),b.reportKeyValue({key:"WeAppNavBan",value:[x.default.appType+1e3,x.default.appLaunchInfo.scene,33,P_(e),0,1,"","",(0,rr._getCurrentNetworkType)(),encodeURIComponent(JSON.stringify({content:t,expid:r,uuid:A_.uuid,bannedCount:A_.bannedCount,navigateCount:A_.navigateCount,count:A_.count,timestamp:parseInt(Date.now()/100,10)}))].join(",")})};Object.defineProperties(T_,{allowSkip:{get(){return this.shouldExecuteSkipMaxLimitStrategy&&(this.startLimitCount&&this.currentAttemptSkipCount++,this.currentAttemptSkipCount>this.attemptSkipMaxThreshold)?(this.limitStrategy=1,E_(1,this.modalMessage,this.expId1),1):this.shouldExecuteFirstSkipLimitStrategy&&this.currentUserUseThisGameTime<=this.attemptSkipMinTime?(this.limitStrategy=2,E_(2,this.modalMessage,this.expId2),2):3},configurable:!1},needLimit:{get(){return this.shouldExecuteFirstSkipLimitStrategy||this.shouldExecuteSkipMaxLimitStrategy},configurable:!1},...["modalConfirm1","modalMessage1","modalSkipLink1","modalConfirm2","modalMessage2","modalSkipLink2","attemptSkipMaxThreshold","attemptSkipMinTime","currentAttemptSkipCount","shouldExecuteFirstSkipLimitStrategy","shouldExecuteSkipMaxLimitStrategy","expId1","expId2","startLimitCount","uneffectFirstSkipLimit"].reduce(((e,t)=>(e["set"+t.slice(0,1).toUpperCase()+t.slice(1)]={get:()=>e=>{T_[t]=e},configurable:!1},e)),{}),modalMessage:{get(){return this["modalMessage"+this.limitStrategy]},configurable:!1},modalConfirm:{get(){return this["modalConfirm"+this.limitStrategy]},configurable:!1},modalSkipLink:{get(){return this["modalSkipLink"+this.limitStrategy]},configurable:!1},reportModalConfirm:{get(){return()=>{var e,t,r;e=this.limitStrategy,t=this.modalMessage,r=this["expId"+this.limitStrategy],b.reportKeyValue({key:"WeAppNavBan",value:[x.default.appType+1e3,x.default.appLaunchInfo.scene,33,P_(e),1,2,"","",(0,rr._getCurrentNetworkType)(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})}},configurable:!1},reportModalCancel:{get(){return()=>{var e,t,r;e=this.limitStrategy,t=this.modalMessage,r=this["expId"+this.limitStrategy],b.reportKeyValue({key:"WeAppNavBan",value:[x.default.appType+1e3,x.default.appLaunchInfo.scene,33,P_(e),2,2,"","",(0,rr._getCurrentNetworkType)(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})}},configurable:!1}}),T_.resumeLimitTimer=function(e){this.isPause=!1,e&&clearTimeout(this.currentUserUseThisGameTimer),this.currentUserUseThisGameTimer=setTimeout((()=>{this.currentUserUseThisGameTime++,this.isPause||(this.currentUserUseThisGameTime<=this.attemptSkipMinTime?this.resumeLimitTimer():this.uneffectFirstSkipLimit||(this.setUneffectFirstSkipLimit(!0),this.setCurrentAttemptSkipCount(0)))}),1e3)},T_.pauseLimitTimer=function(){this.isPause=!0},T_.allowStartLimitCount=function(){this.setStartLimitCount(!0)};var M_,x_={confirm:{zh_cn:"允许",zh_tw:"允許",zh_hk:"允許",en:"Allow"},cancel:{zh_cn:"取消",zh_tw:"取消",zh_hk:"取消",en:"Cancel"}},D_=(0,Ae.Vl)(Q.yD),R_=function(){var e=_e()((function*(e={},t={},r={}){f.info(`[__doNavigateToMiniProgram], args=${JSON.stringify(e)}, privateArgs=${JSON.stringify(t)}, ext=${JSON.stringify(r)}`);var a=Object.assign({},e);delete a.sourcetype,delete a.preScene,delete a.preSceneNote,delete a.mode,(0,z.tK)()||(delete a.scene,delete a.sceneNote);var n=(0,S_.KL)();n?(a.privateExtraData=a.privateExtraData||{},a.privateExtraData.cookies=n):a.privateExtraData&&delete a.privateExtraData.cookies;var i=Object.assign({},a,t);return"string"==typeof i.path&&i.path.trim().length>0?i.path=(0,rt.Pp)(i.path,!1).trim():i.path=void 0,i.halfPage=Object.assign({},i.halfPage||{}),i.halfPage.hideCapsuleMenu=!1,i.halfPage.capsuleMenuType="singleClose",f.info(`[__doNavigateToMiniProgram], finalArgs=${JSON.stringify(i)}`),i.needTransferToWeChat&&(0,z.er)()?(yield(0,Q.bb)("sdk_navigateToMiniProgram",i,r),{}):(0,Q.bb)("navigateToMiniProgram",i,r)}));return function(){return e.apply(this,arguments)}}(),L_=(0,Ae.NX)("doNavigateToMiniProgram",R_),N_=(e,t,r,a,n)=>{var i=[e,t,x.default.appType+1e3,r+1e3,a,(0,Rt.cv)(n)].join(",");b.reportKeyValue({key:"NavigateToMiniProgramAlert",value:i})},O_=(()=>{var e;return()=>(e||(e=new Promise((e=>{__sclEngine__.initScl((t=>e(t.mainRoot)))}))),e)})(),B_=function(){var e=_e()((function*(e){var t,r=yield O_();switch(F_){case j_.HALF_SCREEN_DIALOG_WITHOUT_LOGO:t=r.append("navigateToMp",{title:e.oldWording,logo:"",name:"",type:j_.HALF_SCREEN_DIALOG});break;case j_.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:j_.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({used_friend_cnt_sub_desc:e})=>{t.setData({desc:e||""})}));break;case j_.HALF_SCREEN_DIALOG_WITH_SCORE:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:j_.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({score_sub_desc:e})=>{t.setData({desc:e||""})}));break;default:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:F_})}var a=_t((e=>{[ct.BottomBackButton,ct.NavigationBackInterceptionType,ct.NavigateBackCall].includes(e.type)&&t.handleCancel()})),n=yield new Promise((e=>{t.addListener("confirm",(()=>{e({confirm:!0})})),t.addListener("cancel",(()=>{e({confirm:!1})}))}));return bt(a),n}));return function(t){return e.apply(this,arguments)}}(),j_={DEFAULT:0,DIALOG:1,HALF_SCREEN_DIALOG:2,HALF_SCREEN_DIALOG_WITHOUT_LOGO:3,HALF_SCREEN_DIALOG_WITH_SCORE:4,HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:5},F_=j_.DEFAULT,W_=function(){var e=_e()((function*(e,t,r,a,n,i,o){var s,l=F_!==j_.DEFAULT&&"undefined"!=typeof __sclEngine__&&(z.gm||z.cj||z.wZ)&&n,c=l?F_:j_.DEFAULT,u=(0,Wp._)(),d=(0,Up.kd)()||x.default.appLaunchInfo.appearance;if(1!==t&&["nativeFunctionalized"].includes(d)){if(7!==a)throw(0,Ze.showToast)({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${d} apiCategory.`);N_(4,r,a,c,o)}if(1!==t){var p=u.scene,h=null===(s=u.referrerInfo)||void 0===s?void 0:s.appId;if(1037!==p||h!==r){var f;try{var g;if(l)f=yield B_({...n,oldWording:e,expensiveWording:i});else try{var v="允许",m="取消";if("wx243bf61757446caa"===x.default.accountInfo.appId){var y,_=null===(y=(0,un.getSystemInfoSync)())||void 0===y?void 0:y.language;"string"==typeof _&&(_.toLowerCase().startsWith("zh")?(v=x_.confirm[_.toLowerCase()],m=x_.cancel[_.toLowerCase()]):(v=x_.confirm.en,m=x_.cancel.en))}f=yield Promise.race([new Promise((e=>{var t=()=>e({confirm:!1});(0,et.HM)(t),g=()=>(0,et.bq)(t)})),(0,Q.bb)("showModal",{title:e,content:"",confirmText:v,cancelText:m,showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA"})])}finally{g()}}catch(e){throw N_(3,r,a,c,o),e}var{confirm:b}=f;if(!b)throw N_(2,r,a,c,o),new Error("cancel");T_.shouldExecuteSkipMaxLimitStrategy&&T_.setCurrentAttemptSkipCount(0),N_(1,r,a,c,o)}else N_(5,r,a,c,o)}else N_(4,r,a,c,o)}));return function(t,r,a,n,i,o,s){return e.apply(this,arguments)}}(),U_=function(){var e=_e()((function*({appId:e,path:t,shortLink:r,verifyUnionProduct:a}){var n;f.info(`[_getNavigateWxAppInfo] appId=${e} shortLink=${r} verifyUnionProduct=${a}`);var i=new Promise((e=>{n=e}));e&&!r&&n(e);var o=i.then((e=>$_({appId:e}))),s=0,l=1;try{var c=yield D_({apiName:a?"webapi_getembeddedunionproductinfo":"webapi_getnavigatewxaappinfo",reqData:{req_type:r?l:s,target_appid:e,target_short_link:r,target_path:t}});f.info(`[operateWXData][webapi_getnavigatewxaappinfo][success] data=${JSON.stringify(c.data)}`);var u=c.data,d=u.action_code,p=u.skip_local_check,h=Boolean(u.runtime_sdk_whitelist),g=u.target_short_link_info,v=u.allow_embedded_mode;return g&&(e=g.wxa_appid,t=(g.wxa_path||"").replace(/\.html(\?|$)/,"$1"),n(e)),{appId:e,path:t,actionCode:d,skipLocalCheck:p,reason:u.reason,wording:u.wording,appType:u.apptype,newWording:u.new_wording,popupInfo:u.pop_up_info,needTransferToWeChat:h,shortLinkInfo:g,allowEmbeddedMode:v,expensiveInfo:o}}catch(e){throw f.error(`[operateWXData][webapi_getnavigatewxaappinfo][fail], errMsg=${e.message||e.errMsg}`),e}}));return function(t){return e.apply(this,arguments)}}(),G_=1,V_=2,$_=function(){var e=_e()((function*(e){var t=[];switch(F_){case j_.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t.push(V_);break;case j_.HALF_SCREEN_DIALOG_WITH_SCORE:t.push(G_)}if(!t.length)return{};f.info(`[_getNavigateWxAppDescInfo] appId=${e.appId}`);try{var{data:r}=yield D_({apiName:"webapi_getnavigatewxaappdesc",reqData:{target_appid:e.appId,desc_type_list:t}});return r}catch(e){return e.message,{}}}));return function(t){return e.apply(this,arguments)}}(),q_=(M_=[],x.default.onReady((()=>{Array.isArray(x.default.navigateToMiniProgramAppIdList)&&(M_=x.default.navigateToMiniProgramAppIdList,(0,Qe.J)("openWxappLimit5")&&M_.splice(5))})),(e,t)=>new Promise(((r,a)=>{var n=(0,ua.KU)("navigateToMiniProgramConfig");!1===n||z.gm?t?r():M_.indexOf(e)>-1?r({sourcetype:4}):a({errMsg:`appId "${e}" is not in navigateToMiniProgramAppIdList`}):!0===n?r():"unknown"===n?r({sourcetype:4}):a({errMsg:"unknown available"})}))),z_=!1,H_=function(){var e=_e()((function*({appId:e,path:t,shortLink:r,extraData:a},n){if(f.info(`[__checkBeforeNavigateToMiniProgram] appId=${e} path=${t} shortLink=${r} isNavigating=${z_}`),z_)throw new Error("another navigation is in progress");z_=!0;try{F_!==j_.DEFAULT&&O_();try{n||(n=yield Promise.race([U_({appId:e,path:t,shortLink:r}),new Promise(((e,t)=>setTimeout((()=>t(new Error("getNavigateWxAppInfo timeout"))),1e4)))]))}catch(r){if(f.error(`[_getNavigateWxAppInfo][reject] errMsg=${r.errMsg||r.message}`),"data exceed max size"===r.errMsg)throw r;return{appId:e,path:t}}var{actionCode:i,skipLocalCheck:o,reason:s,wording:l,appType:c,newWording:u,popupInfo:d,needTransferToWeChat:p,expensiveInfo:h}=n;if(e=n.appId,t=n.path,f.info(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${i}, skipLocalCheck=${o}, reason=${s}, wording=${l}, appType=${c}, needTransferToWeChat=${p}`),1!==i&&2!==i)throw d?(b.reportKeyValue({key:"WeAppNavBan",value:[x.default.appType+1e3,x.default.appLaunchInfo.scene,33,3302,0,1,s,"跳转跳出",(0,rr._getCurrentNetworkType)()].join(",")}),(0,Q.IN)("showModal",{showCancel:!0,content:d.desc,confirmText:d.confirm_wording,cancelText:d.cancel_wording,success({confirm:e}){var t=d.confirm_url;e&&(0,f_.n)({url:t}),b.reportKeyValue({key:"WeAppNavBan",value:[x.default.appType+1e3,x.default.appLaunchInfo.scene,33,3302,e?1:2,2,s,"跳转跳出",(0,rr._getCurrentNetworkType)()].join(",")})}})):l&&(0,Q.IN)("showModal",{content:l,showCancel:!1}),new Error(s);try{var g=yield q_(e,o);return((e={})=>{if(z.cj||z.wZ){var{type:t}=e,r="app";r="game",r=t||r,Promise.all([new Promise(((e,t)=>{(0,Q.IN)("preloadMiniProgramEnv",{type:r,fail:e=>{t(e),f.warn("navigateToMiniprogram create preload env fail:",e)},success(t){e(t)}})})),new Promise(((t,r)=>{(0,Q.IN)("predownloadMiniProgramPackage",{appId:e.appId,path:e.path,scene:1,success:e=>{t(e)},fail:e=>{f.warn("navigateToMiniprogram load miniProgramPackage fail:",e),r(e)}})}))]).then((t=>{e.success&&e.success(t)})).catch((t=>{e.fail&&e.fail(t)}))}})({appId:e,path:t}),yield W_(l,i,e,c,u,h,a),{...g,appId:e,path:t,needTransferToWeChat:p}}catch(e){var v=e.errMsg||e.message;throw new Error(v)}}finally{z_=!1}}));return function(t,r){return e.apply(this,arguments)}}(),K_=((0,Ae.NX)("checkBeforeNavigateToMiniProgram",H_),function(){var e=_e()((function*(e={}){if(!e.appId&&!e.shortLink)throw new Error("should have appId or shortLink");e.appId&&(0,Q.zy)(e,{appId:""}),e.path&&(0,Q.zy)(e,{path:""}),e.shortLink&&(0,Q.zy)(e,{shortLink:""});var t=void 0!==e.appId?String(e.appId):void 0,r=void 0!==e.path?String(e.path):void 0,a=void 0!==e.shortLink?String(e.shortLink):void 0;if(r&&r.length>=65536)throw new Error("path length should be less than 65536");if(a&&a.length>=1024)throw new Error("shortLink length should be less than 1024");f.info(`[_navigateToMiniProgram] appId=${t} path=${r} shortLink=${a}`);try{var n=yield H_({appId:t,path:r,shortLink:a,extraData:e.extraData});return f.info(`[__checkBeforeNavigateToMiniProgram][resolve], res=${JSON.stringify(n)}`),yield R_(e,{appId:n.appId,path:n.path,sourcetype:n.sourcetype,needTransferToWeChat:n.needTransferToWeChat})}catch(e){var i=e.errMsg||e.message;throw f.error(`[__checkBeforeNavigateToMiniProgram][reject], errMsg=${i}`),["cancel","another navigation is in progress"].includes(i)||b.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(i)}}));return function(){return e.apply(this,arguments)}}()),J_=(0,Ae.NX)("navigateToMiniProgramWithoutTapCheck",K_),Q_=function(){var e=_e()((function*(e){var t=x.default.accountInfo.appId;if(!(0,z.RF)()||"wx308bd2aeb83d3345"===t||"wxc98889eca359c1e5"===t)return K_(e);if(!(0,mr.ZB)())throw new Error("can only be invoked by user TAP gesture.");var r=(0,mr.B7)();return k_({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===r?-2:Date.now()-r}),K_(e)}));return function(t){return e.apply(this,arguments)}}(),Y_=((0,Ae.NX)("navigateToMiniProgram",Q_),function(){var e=_e()((function*(e){if(!(0,Qe.J)("navigateToMiniProgramDirectly"))throw new Error("no permission");return R_(e,e)}));return function(t){return e.apply(this,arguments)}}()),Z_=((0,Ae.NX)("navigateToMiniProgramDirectly",Y_),p(2238)),X_=p(3784),eb=e=>"object"==typeof e&&null!==e,tb=function(){var e=arguments[arguments.length-1],t=(0,X_.No)(e),{textures:r,currentTextureIndex:a,dirtyTextureMap:n}=(0,X_.No)(this.canvas).flag,i=r[a];eb(i)&&(t&&t.isSharedCanvas?n.set(i,!0):n.has(i)&&n.delete(i))},rb=function(){var{textures:e,currentFramebuffer:t,dirtyFramebufferMap:r,framebufferTextureMap:a,dirtyTextureMap:n,framebufferRenderbufferMap:i,dirtyRenderbufferMap:o}=(0,X_.No)(this.canvas).flag;if(e.some((e=>n.has(e)))){r.set(t,!0);var s=a.get(t);eb(s)&&n.set(s,!0);var l=i.get(t);eb(l)&&o.set(l,!0)}},ab={activeTexture(e){var t=e-this.TEXTURE0;(0,X_.No)(this.canvas).flag.currentTextureIndex=t},bindTexture(e,t){var{textures:r,currentTextureIndex:a}=(0,X_.No)(this.canvas).flag;r[a]=t},wxBindCanvasTexture(e,t){var{textures:r,currentTextureIndex:a,dirtyTextureMap:n}=(0,X_.No)(this.canvas).flag;if(eb(t)){var i=(0,X_.No)(t),o={type:"WeixinCanvasTexture"};r[a]=o,i&&i.isSharedCanvas?n.set(o,!0):n.has(o)&&n.delete(o)}else r[a]=null},texImage2D:tb,texSubImage2D:tb,bindFramebuffer(e,t){var r=(0,X_.No)(this.canvas).flag;r.currentFramebuffer=t||r.screenFramebuffer},framebufferTexture2D(e,t,r,a){var{framebufferTextureMap:n,currentFramebuffer:i}=(0,X_.No)(this.canvas).flag;n.set(i,a)},framebufferRenderbuffer(e,t,r,a){var{dirtyRenderbufferMap:n,dirtyFramebufferMap:i,framebufferRenderbufferMap:o,currentFramebuffer:s}=(0,X_.No)(this.canvas).flag;n.has(a)&&i.set(s,!0),o.set(s,a)},copyTexImage2D(){var{dirtyFramebufferMap:e,currentFramebuffer:t,textures:r,currentTextureIndex:a,dirtyTextureMap:n}=(0,X_.No)(this.canvas).flag;if(e.has(t)){var i=r[a];eb(i)&&n.set(i,!0)}},drawArrays:rb,drawElements:rb};function nb(e){var t,r=!1;return function(){return r||(t=e(),r=!0),t}}var ib=nb((()=>{var e=!1;return z.cj&&x.default.clientVersion>=385877248&&(e=!0),e})),ob=nb((()=>{var e=!1;return(z.cj&&x.default.clientVersion>=385878314||z.gm)&&(e=!0),e})),sb=nb((()=>{var e=!1;return z.cj&&x.default.clientVersion>=402655232&&x.default.clientVersion<=402655487&&(e=!0),e}));function lb(e){ib()&&(0,Q.IN)("insertImageView",{parentId:0,viewId:e,position:{width:0,height:0,top:0,left:0},clickable:!1,data:"{}",complete({errMsg:e}){}})}var cb,ub=(e,t,r,a=!1)=>{if(a||t&&gb()){var n=wt.LC.set(e.tempFilePath);e.tempFilePath=n}!function(e){ib()&&(0,Q.IN)("removeImageView",{viewId:e,complete({errMsg:e}){}})}(r)},db=null,pb=(e=!1)=>cb?db||cb:"string"==typeof(z.gm?x.default.appConfig.subContext:x.default.subContext)?e?((cb=(0,Z_.U)({isSharedCanvas:!0})).style.zIndex="1",db=hb(cb)):((cb=Kb({secure:!0,isSharedCanvas:!0})).width=x.default.screenWidth,cb.height=x.default.screenHeight,cb):(cb={width:0,height:0,__proto__:{}},e&&(db=cb),cb),hb=e=>{var t,r,a,n,i,o,s=z.gm?e:e.__id;return{get width(){return t},set width(r){e.width=t=r},get height(){return r},set height(t){e.height=r=t},style:{get width(){return a},set width(t){e.style.width=a=t},get height(){return n},set height(t){e.style.height=n=t},get left(){return i},set left(t){e.style.left=i=t},get top(){return o},set top(t){e.style.top=o=t}},toTempFilePathSync(t){var r,a;if(lb(s),(0,Q.IN)("canvasToTempFilePathSync",Object.assign({},t,{canvasId:s},z.jP?{canvasInstance:e}:{},{success:e=>{r=e.tempFilePath},fail:e=>{a=e.errMsg}}),{beforeSuccess:e=>{ub(e,!0,s,!0)}}),a)throw new Error(a);return r},toTempFilePath:(0,ve.gA)(((t={})=>{(0,Q.IN)("canvasToTempFilePath",Object.assign({},t,z.jP?{canvasInstance:e}:{},{canvasId:s}),{beforeSuccess:e=>{ub(e,!0,s,!0)}})}))}},fb=()=>cb,gb=()=>cb&&null===db,vb=e=>!(0,X_.No)(e).secure||!gb(),mb=function(e){return function(){if(/texImage2D|texSubImage2D/.test(e)){var{flag:t}=(0,X_.No)(this.canvas),{textures:r,currentTextureIndex:a}=t,n=r[a];if(n&&"WeixinCanvasTexture"===n.type)return void console.warn(`在调用 wxBindCanvasTexture() 向 ${a} 号纹理单元提交纹理后，不能再调用 ${e}() 向该纹理单元提交纹理`)}if(((e,t)=>{var r=(0,X_.No)(t);return!r||!(!(0,X_.No)(e).secure&&r.secure&&gb())})(this.canvas,/createPattern|drawImage/.test(e)?arguments[0]:arguments[arguments.length-1]))return!0;console.warn(`使用 OpenDataContext 后，非安全 Canvas 的 WebGL 上下文的 ${e} 不能传入安全 Canvas`)}},yb=!1,_b="unknown";x.default.onReady((()=>{yb=(0,Qe.J)("screenCanvasReadPixels"),_b=(0,ua.KU)("screenCanvasReadPixelsFreely")}));var bb={toDataURL:function(){return!!vb(this)||(console.warn("使用 OpenDataContext 后，安全 Canvas 不能调用 toDataURL"),"")},getImageData:function(){return!!vb(this.canvas)||(console.warn("使用 OpenDataContext 后，安全 Canvas 的 2d 上下文不能调用 getImageData"),{width:0,height:0,data:new Uint8ClampedArray(0)})},createPattern:mb("createPattern"),drawImage:mb("drawImage"),texImage2D:mb("texImage2D"),texSubImage2D:mb("texSubImage2D"),wxBindCanvasTexture:mb("wxBindCanvasTexture"),readPixels:function(){var{secure:e}=(0,X_.No)(this.canvas);if(e&&gb()){if((0,Ca.v)("WebGLRenderingContext.readPixels"),!yb)return(0,Ca.v)("screenCanvasReadPixelsNoPermission"),void console.warn("使用 OpenDataContext 后，安全 Canvas 的 gl 上下文不能调用 readPixels");var{dirtyFramebufferMap:t,currentFramebuffer:r}=(0,X_.No)(this.canvas).flag;return!t.has(r)||((0,Ca.v)("unsafeScreenCanvasReadPixelsUsedBefore"),!1!==_b)||void console.warn("绘制了 sharedCanvas 的画布不能 readPixels")}return!0}},wb=Object.prototype.hasOwnProperty,Ib=Object.getOwnPropertyDescriptor;var Sb,kb,Cb,Tb=["width","height"],Pb=["offsetTop","offsetLeft","offsetWidth","offsetHeight"],Ab=Object.prototype.hasOwnProperty,Eb=Object.defineProperty,Mb=Object.getOwnPropertyDescriptor;(0,q.a)((()=>{Sb=q.Z.Canvas,kb=q.Z.Image}));var xb,Db,Rb={"2d":null,webgl:null},Lb={Image:null,Canvas:null,CanvasRenderingContext2D:null,CanvasPattern:null,CanvasGradient:null,ImageData:null,TextMetrics:null},Nb=function(e){Eb(Lb,e,{get(){xb||(xb=jb()),Db||(Db=xb.getContext("2d"));var t=e+"_cache";if(Lb[t])return Lb[t];if("Canvas"===e)Lb[t]=Object.getPrototypeOf(xb);else if("Image"===e)Lb[t]=Object.getPrototypeOf(new kb);else if("CanvasRenderingContext2D"===e)Lb[t]=Object.getPrototypeOf(Db);else if("CanvasPattern"===e){var r=Db.createPattern(xb,"repeat");Lb[t]=Object.getPrototypeOf(r)}else if("CanvasGradient"===e){var a=Db.createLinearGradient(0,0,100,100);Lb[t]=Object.getPrototypeOf(a)}else if("ImageData"===e){var n=Db.getImageData(0,0,10,10);Lb[t]=Object.getPrototypeOf(n)}else if("TextMetrics"===e){var i=Db.measureText("123");try{Lb[t]=Object.getPrototypeOf(i)}catch(e){f.error("createTextMetrics Error: ",e)}}return Lb[t]}})};for(var Ob of Object.keys(Lb))Nb(Ob);var Bb=new WeakMap;function jb(){var e=new Sb;return e.width=1,e.height=1,e}function Fb(e){function t(){}var r={};return"undefined"!=typeof __jitMode&&__jitMode&&(r=Object.create(null),t.prototype=r,r.constructor=t,Object.defineProperty(r,"__proto__",{get(){return Object.getPrototypeOf(this)},set(e){Object.setPrototypeOf(this,e)}})),Object.keys(e).forEach((t=>{var a=Mb(e,t);if("function"!=typeof a.value)a.get||a.set?Eb(r,t,{get(){if(a.get)return a.get.call(this)},set(e){a.set&&a.set.call(this,e)}}):Eb(r,t,a);else{var n=e[t];r[t]=function(){if("function"==typeof bb[t]){var e=bb[t].apply(this,arguments);if(!0!==e)return e}return"function"==typeof ab[t]&&ab[t].apply(this,arguments),n.apply(this,arguments)}}})),r}function Wb(){return Lb}var Ub,Gb=function(){if(Cb)return Cb;var e,t,r=jb(),a=!Ab.call(r,"width"),n=Object.getPrototypeOf(r),i=Fb(n),o=i.getContext;return i.getContext=function(e,t){var{isSharedCanvas:r,isScreenCanvas:a}=(0,X_.No)(this);if(r)return{};var n=o.call(this,e,t);return null==n||(z.jP&&a&&q.Z.setLiveContext&&q.Z.setLiveContext(n,e,t),/2d|webgl|webgl2/.test(e)&&Object.setPrototypeOf(n,function(e){if(Rb[e])return Rb[e];var t=jb().getContext(e),r=Fb(Object.getPrototypeOf(t));return Rb[e]=r,Rb[e]}(e)),Bb.set(n,this),Eb(n,"canvas",{value:this,configurable:!1,writeable:!1})),n},a&&(e=i,t=n,Pb.forEach((r=>{for(var a=function(){if(wb.call(n,r)){var t=Ib(n,r);return Object.defineProperty(e,r,{get(){if(t.get)return t.get.call(this)},set(e){t.set&&t.set.call(this,e)},configurable:!1}),{v:void 0}}},n=t;n;n=n.__proto__){var i=a();if("object"==typeof i)return i.v}}))),Cb=i,i},Vb=function(e){z.wZ&&(void 0===e.offsetTop&&(e.offsetTop=0),void 0===e.offsetLeft&&(e.offsetLeft=0),void 0===e.offsetWidth&&(e.offsetWidth=0),void 0===e.offsetHeight&&(e.offsetHeight=0)),function(e){z.wZ&&Tb.concat(Pb).forEach((t=>{Eb(e,t,{configurable:!1})}))}(e),Object.setPrototypeOf(e,Gb()),"Object"===(0,R.Em)(e)&&Object.defineProperty(Gb(),Symbol.toStringTag,{get:()=>"HTMLCanvasElement"})},$b=!1,qb=Object.defineProperty,zb=Object.getOwnPropertyDescriptor,Hb=Object.prototype.hasOwnProperty,Kb=({secure:e=!1,isSharedCanvas:t=!1}={},r=!0)=>{function a(){}var n=new q.Z.Canvas,i=!!("string"==typeof(z.gm?x.default.appConfig.subContext:x.default.subContext))&&r;if(function(e){if(sb()){var t=e.getContext;e.getContext=(...r)=>{var a=t.call(e,...r),n=a.getSupportedExtensions,i=a.getExtension;return n&&(a.getSupportedExtensions=(...e)=>{var t=n.call(a,...e);if(Array.isArray(t)){var r=new Set(t);return r.delete("WEBGL_compressed_texture_etc1"),r.delete("WEBGL_compressed_texture_etc"),Array.from(r)}return t}),i&&(a.getExtension=e=>"WEBGL_compressed_texture_etc1"===e||"WEBGL_compressed_texture_etc"===e?null:i.call(a,e)),a}}}(n),z.gm){var o=n.__proto__.__proto__;n.__proto__=new Proxy(n.__proto__,{get:(e,t,r)=>Reflect.has(o,t)?Reflect.get(o,t,r):Reflect.get(e,t,r),setPrototypeOf:(e,t)=>(o=t,!0),getPrototypeOf:()=>o})}if(z.gm||Hb.call(n,"width")||(["width","height","tagName","nodeName"].forEach((e=>{for(var t=n;t;t=t.__proto__)if(Hb.call(t,e)){qb(n,e,zb(t,e)),qb(n,e,{configurable:!1});break}})),qb(n,"style",{value:{},writable:!0}),Ub||(Ub={},a.prototype=Ub,Ub.constructor=a,Ub[Symbol.toStringTag]="HTMLCanvasElement",["getContext","toDataURL","__proto__","__uid"].forEach((e=>{for(var t=n;t;t=Object.getPrototypeOf(t))if(Hb.call(t,e)){qb(Ub,e,zb(t,e));break}}))),Object.setPrototypeOf(n,Ub)),i)Vb(n);else if(!$b){var s=n.getContext;n.getContext=(e,t)=>{var r=s.call(n,e,t);return q.Z.setLiveContext&&q.Z.setLiveContext(r,e,t),r}}void 0===n.__id&&(n.__id=(0,X_.g9)());var l,c=!1;$b||($b=!0,c=!0),X_.TS.set(n,{canvasId:n.__id,secure:e,isSharedCanvas:t,isScreenCanvas:c,flag:(l={},{dirtyTextureMap:new WeakMap,dirtyRenderbufferMap:new WeakMap,dirtyFramebufferMap:new WeakMap,framebufferTextureMap:new WeakMap,framebufferRenderbufferMap:new WeakMap,textures:[],currentTextureIndex:0,screenFramebuffer:l,currentFramebuffer:l})});try{delete n.__id}catch(e){}var u=z.gm?n:(0,X_.yr)(n);return n.toTempFilePathSync=function(t={}){var r,a,i=X_.TS.get(this),o=!!i&&i.isScreenCanvas;if(lb(u),(0,Q.IN)("canvasToTempFilePathSync",Object.assign({},t,{canvasId:u},z.jP?{canvasInstance:n}:{},{isScreenCanvas:o,success:e=>{r=e.tempFilePath},fail:e=>{a=e.errMsg}}),{beforeSuccess:t=>{ub(t,e,u)}}),a)throw new Error(a);return r},n.toTempFilePath=(0,ve.gA)(((t={})=>{var r=X_.TS.get(n),a=!!r&&r.isScreenCanvas;(0,Q.IN)("canvasToTempFilePath",Object.assign({},t,z.jP?{canvasInstance:n}:{},{canvasId:u,isScreenCanvas:a}),{beforeSuccess:t=>{ub(t,e,u)}})})),n},Jb=p(8285),Qb=(e={})=>{(0,Q.IN)("navigateBackApplication",e,{})},Yb=(e={})=>{var{launchAppid:t}=e;t&&"string"==typeof t?(0,Q.yD)({apiName:"wxaapi_verify_jump",reqData:{appid:t},success:r=>{if("ok"===r.data.res){(0,Q.IN)("launchApplication",Object.assign(e,{appId:t,operateDirectly:!0}));var a=[(0,hi.Y)().scene,encodeURIComponent((0,hi.Y)().scene_note||(0,hi.Y)().sceneNote),m&&m.getCurrentRoutePath(),e.alertType,e.parameter,x.default.appType+1e3,e.appId].map(encodeURIComponent).join(",");b.reportKeyValue({key:"LaunchApplicationInfo",value:a,force:!0})}else(0,Q.YG)("launchApplication",e,"no permission")},fail:()=>{(0,Q.YG)("launchApplication",e,"no permission")}}):(delete e.operateDirectly,(0,Q.IN)("launchApplication",e,{}))},Zb=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf8","utf8"===t.format&&z.wZ&&(t.format="utf-8"),z.gm){var r=null;return(0,Q.IN)("encodeArrayBufferSync",Object.assign(t,{success(e){r=e.buffer},fail(){}})),r}return q.Z.encodeArrayBuffer(t.data,t.format)},Xb=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf-8","utf8"===t.format&&z.wZ&&(t.format="utf-8"),ArrayBuffer.isView(t.data)&&console.warn("data must be ArrayBuffer not ArrayBufferView"),z.gm){var r="";return(0,Q.IN)("decodeArrayBufferSync",Object.assign(t,{success(e){r=e.result},fail(){}})),r}return q.Z.decodeArrayBuffer(t.data,t.format)},ew={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}},tw="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},rw=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=tw()),void 0===t&&(t=!1);var r=Object.keys(this._tweens);if(0===r.length)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<r.length;a++){var n=this._tweens[r[a]],i=!t;n&&!1===n.update(e,i)&&!t&&delete this._tweens[r[a]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),aw={Linear:function(e,t){var r=e.length-1,a=r*t,n=Math.floor(a),i=aw.Utils.Linear;return t<0?i(e[0],e[1],a):t>1?i(e[r],e[r-1],r-a):i(e[n],e[n+1>r?r:n+1],a-n)},Bezier:function(e,t){for(var r=0,a=e.length-1,n=Math.pow,i=aw.Utils.Bernstein,o=0;o<=a;o++)r+=n(1-t,a-o)*n(t,o)*e[o]*i(a,o);return r},CatmullRom:function(e,t){var r=e.length-1,a=r*t,n=Math.floor(a),i=aw.Utils.CatmullRom;return e[0]===e[r]?(t<0&&(n=Math.floor(a=r*(1+t))),i(e[(n-1+r)%r],e[n],e[(n+1)%r],e[(n+2)%r],a-n)):t<0?e[0]-(i(e[0],e[0],e[1],e[1],-a)-e[0]):t>1?e[r]-(i(e[r],e[r],e[r-1],e[r-1],a-r)-e[r]):i(e[n?n-1:0],e[n],e[r<n+1?r:n+1],e[r<n+2?r:n+2],a-n)},Utils:{Linear:function(e,t,r){return(t-e)*r+e},Bernstein:function(e,t){var r=aw.Utils.Factorial;return r(e)/r(t)/r(e-t)},Factorial:function(){var e=[1];return function(t){var r=1;if(e[t])return e[t];for(var a=t;a>1;a--)r*=a;return e[t]=r,r}}(),CatmullRom:function(e,t,r,a,n){var i=.5*(r-e),o=.5*(a-t),s=n*n;return(2*t-2*r+i+o)*(n*s)+(-3*t+3*r-2*i-o)*s+i*n+t}}},nw=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),iw=new rw,ow=function(){function e(e,t){void 0===t&&(t=iw),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ew.Linear.None,this._interpolationFunction=aw.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=nw.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?tw()+parseFloat(e):e:tw(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,r,a){for(var n in r){var i=e[n],o=Array.isArray(i),s=o?"array":typeof i,l=!o&&Array.isArray(r[n]);if("undefined"!==s&&"function"!==s){if(l){var c=r[n];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,i)),r[n]=[i].concat(c)}if("object"!==s&&!o||!i||l)void 0===t[n]&&(t[n]=i),o||(t[n]*=1),a[n]=l?r[n].slice().reverse():t[n]||0;else{for(var u in t[n]=o?[]:{},i)t[n][u]=i[u];a[n]=o?[]:{},this._setupProperties(i,t[n],r[n],a[n])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=tw()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=tw()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=tw()),void 0===t&&(t=!0),this._isPaused)return!0;var r,a,n=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>n)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),a=(e-this._startTime)/this._duration,a=0===this._duration||a>1?1:a;var i=this._easingFunction(a);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,i),this._onUpdateCallback&&this._onUpdateCallback(this._object,a),1===a){if(this._repeat>0){for(r in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[r]||(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,s=this._chainedTweens.length;o<s;o++)this._chainedTweens[o].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,r,a){for(var n in r)if(void 0!==t[n]){var i=t[n]||0,o=r[n],s=Array.isArray(e[n]),l=Array.isArray(o);!s&&l?e[n]=this._interpolationFunction(o,a):"object"==typeof o&&o?this._updateProperties(e[n],i,o,a):"number"==typeof(o=this._handleRelativeValue(i,o))&&(e[n]=i+(o-i)*a)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],r=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof r?this._valuesStartRepeat[e]+parseFloat(r):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),sw=nw.nextId,lw=iw,cw=lw.getAll.bind(lw),uw=lw.removeAll.bind(lw),dw=lw.add.bind(lw),pw=lw.remove.bind(lw),hw=lw.update.bind(lw);const fw={Easing:ew,Group:rw,Interpolation:aw,now:tw,Sequence:nw,nextId:sw,Tween:ow,VERSION:"18.6.4",getAll:cw,removeAll:uw,add:dw,remove:pw,update:hw};var gw=p(9437);var vw=new Dm.Q("Gamelife");(0,je.n)("onGameLifeMsg",(e=>{vw.emit("onGameLifeMsg",e)}));var mw=new Dm.Q("WebRTC");(0,je.n)("onWebRTCLoadedMetaData",(e=>{mw.emit("onWebRTCLoadedMetaData",e)}));var yw="requestSubscribeSystemMessage",_w=!1;function bw(e){var t=e.msgTypeList;return new Promise(((e,r)=>{if(Array.isArray(t)&&t.length>0){var a=t.reduce(((e,t)=>{var r=function(e){return Bi[e]}(t);return r&&e.push(r),e}),[]);a.length>0?e(a):r({errMsg:"invalid arguments:msgTypeList"})}else r({errMsg:"invalid arguments:msgTypeList"})}))}function ww(e){return new Promise(((t,r)=>{(0,Q.yD)({sdkApiName:yw,apiName:"webapi_getsyssubscribemsgtemplateinfo",reqData:{msg_type_list:e},success(e){t(e)},fail(e){r({errMsg:e.errMsg,errCode:e.err_code||e.errCode})}})}))}function Iw(e){return new Promise(((t,r)=>{var a=e.data;a&&a.msg_info_list?t(a.msg_info_list):r({errMsg:"data error"})}))}function Sw(e){return new Promise(((t,r)=>{!function(e){var t=Object.assign({},e);t.tmplIds=Array.from(new Set(e.tmplIds)),(0,Q.IN)("requestSubscribeMessage",t)}({tmplIds:e.map((e=>e.template_id)),success(r){var a={};e.forEach((e=>{var t=Fi(e.msg_type);a[t]=r[e.template_id]})),t(a)},fail(e){r({errMsg:e.errMsg,errCode:e.err_code||e.errCode})}})}))}function kw(e={}){var t=e.skipTouchCheck;delete e.skipTouchCheck,_w?(0,Q.YG)(yw,e,"please invoke after last subscription ended"):(_w=!0,(0,ln.UP)(t).then((()=>bw(e))).then(ww).then(Iw).then(Sw).then((t=>{(0,Q.FE)({name:yw,args:e,res:t}),_w=!1})).catch((t=>{(0,Q.YG)(yw,e,t.errMsg||t.message,t.errCode||t.err_code),_w=!1})))}var Cw=e=>(t={})=>((0,oa.uC)(e,"requestSubscribeSystemMessageSkipTouchCheck")&&(t.skipTouchCheck=ln.KK),kw(t)),Tw=e=>{var t=e.match(/([^/]*)\/?(.*)/);if(!t||t.length<2)throw new Error(`Plugin "${e}" has not registered.`);var r=t[1],a=t[2],n=x.default.plugins||x.default.gamePlugins,i=n&&n[r];if(void 0===i)throw new Error(`Plugin "${e}" has not registered.`);return{pluginId:i.provider,contexts:i.contexts,alias:r,path:a}},Pw=(e=[])=>e.some((e=>"isolatedContext"===e.type)),Aw=e=>!e||e.some((e=>"gameContext"===e.type)),Ew=e=>e.some((e=>"openDataContext"===e.type));function Mw(e,t={},r=!1){var a,{pluginId:n,contexts:i,path:o}=Tw(e),s=`__plugin__/${n}`+(o?`/${o}`:"");if(Pw(i)){var l=HI(n,{...t,subContext:r});l.subContext=r,l.host=x.default.accountInfo.appId,a=y.createIsolatedGamePlugin({provider:n,secure:!0,env:l,subContext:r,isPreload:!1})}else if(!r&&Aw(i))a=y.getGameContext().contextGlobal.__require;else{if(!r||!Ew(i))throw new Error(`invalid context type: ${(0,R.e6)(i)}`);a=y.getGameOpenDataContext().contextGlobal.__require}return a(s)}function xw(e,t){return Mw(e,t)}var Dw,Rw=(e={})=>{(0,Q.IN)("setFileSpaceStatistics",e)},Lw=e=>{if(z.jP){var t,r="";if((0,Q.IN)("createBufferURL",{buffer:e,success(e){r=e.bufferURL},fail(e){t=e.errMsg}}),t)throw new Error(t);return r}var a=q.Z.createBufferURL(e)||(()=>"");return kd.Z.add(a,e),a},Nw=(e={})=>{(0,Q.IN)("createBufferURLAsync",{buffer:e.buffer,success:e.success,fail:e.fail,complete:e.complete})},Ow=e=>{if(!z.jP)return kd.Z.off(e),q.Z.revokeBufferURL(e)||(()=>!1);var t;if((0,Q.IN)("revokeBufferURL",{blobUrl:e,fail(e){t=e.errMsg}}),t)throw new Error(t)},Bw=e=>{var t=Object.assign({},e);(0,Q.IN)("getWxCommFont",t)},jw=p(6172),Fw=p(8599),Ww=p(1141),Uw=p(8239),Gw={File_NotExist:16013,GameRecorder_AbortWhileNotStartRecording:22403,GameRecorder_BGMNotFound:22613,GameRecorder_EditDurationOutOfLimit:22633,GameRecorder_InternalFailed:22012,GameRecorder_NoVideo:22603,GameRecorder_NotSupported:22022,GameRecorder_PauseWhileAlreadyPaused:22213,GameRecorder_PauseWhileNotStartRecording:22203,GameRecorder_ResumeWhileNotStartRecording:22303,GameRecorder_ResumeWhileRecording:22313,GameRecorder_StartBitRateInvalid:22113,GameRecorder_StartDurationInvalid:22103,GameRecorder_StartFPSInvalid:22123,GameRecorder_StartGOPInvalid:22133,GameRecorder_StartWhileAlreadyStartRecording:22143,GameRecorder_StartWhilePaused:22153,GameRecorder_StopWhileNotStartRecording:22503,GameRecorder_TimeRangeInvalid:22623,GameRecorder_TimeRangeTooShort:22643,GameRecorder_UnknownError:22002,Global_APINoAuthorization:10022,Global_APINoPermission:10012,Global_FileStorageNotEnough:10031,MediaRecorder_AbortWhileNotStartRecording:23403,MediaRecorder_BGMNotFound:23613,MediaRecorder_EditDurationOutOfLimit:23633,MediaRecorder_InternalFailed:23012,MediaRecorder_NoVideo:23603,MediaRecorder_NotSupported:23022,MediaRecorder_PauseWhileAlreadyPaused:23213,MediaRecorder_PauseWhileNotStartRecording:23203,MediaRecorder_ResumeWhileNotStartRecording:23303,MediaRecorder_ResumeWhileRecording:23313,MediaRecorder_StartBitRateInvalid:23113,MediaRecorder_StartDurationInvalid:23103,MediaRecorder_StartFPSInvalid:23123,MediaRecorder_StartGOPInvalid:23133,MediaRecorder_StartWhileAlreadyStartRecording:23143,MediaRecorder_StartWhilePaused:23153,MediaRecorder_StopWhileNotStartRecording:23503,MediaRecorder_TimeRangeInvalid:23623,MediaRecorder_TimeRangeTooShort:23643,MediaRecorder_UnknownError:23002,Network_RequestTimeout:14012,OK:0,Render_CanvasIllegalInvocation:13013,Render_FontFileInvalid:13023,Render_ImageLoadFailed:13033,Storage_NotFound:15013},Vw=e=>e.toString().endsWith(1),$w=e=>e.toString().endsWith(2),qw=e=>e.toString().endsWith(3),zw=(e,t)=>{var r={};return e&&(0,R.HD)(e.template)&&(0,R.s$)(e.data)&&(r.desc_template_data={name:e.template,data_list:Object.keys(e.data).map((t=>({key:t,value:e.data[t]})))}),t&&(0,R.HD)(t.template)&&(r.launch_desc_template=t.template),(0,Q.Qh)({sdkApiName:"getplaybackinfo",apiName:"webapi_getplaybackinfo",reqData:r}).then((e=>({shareTitle:(e=e.data).title,shareDesc:e.desc,buttonText:e.launch_desc,videoDesc:e.playback_desc})))},Hw=null,Kw=(e,{shareTitle:t="",sharePath:r="",useBgm:a=!1,useTimeRange:n=!1,useAtempo:i=!1,atempo:o=1,hookBgm:s=!0}={})=>(Hw||(Hw=(0,Q.Qh)({sdkApiName:"getplaybackconfig",apiName:"webapi_getplaybackconfig"}).then((e=>(e=e.data).enable_share_to_haowan)).catch((()=>!1)))).then((l=>{var c=l?2:1,u=Ev(),d=[u.scene||"",u.scene_note||"",u.sessionid||u.sessionId||"",e,c,t,r,x.default.appType+1e3,a,n,i,o,s].join(",");b.reportKeyValue({key:"GameRecorder",value:d})})),Jw=["start","stop","pause","resume","abort","timeUpdate","error"].reduce(((e,t)=>(e[t]={internal:(0,Y.s)(`GameRecorder-internal-${t}`),external:(0,Y.s)(`GameRecorder-external-${t}`)},e)),{}),Qw=!1,Yw=!1,Zw=!1,Xw=!1,eI=()=>{if(!Dw){var{version:e,system:t}=(0,un.getStableSystemInfo)(),r=t.split(" ")[1],a=z.wZ&&-1===(0,ua.M7)(r,"5.0"),n=z.cj&&-1===(0,ua.M7)(e,"7.0.8");"7.0.5"===e||a||n||(0,Q.IN)("isGameRecorderSupported",{success(e){Qw=e.isFrameSupported,Yw=e.isSoundSupported,Zw=e.isVolumeSupported,Xw=e.isAtempoSupported}}),Dw=!0}},tI=e=>{var t={101:{code:Gw.GameRecorder_StartDurationInvalid,message:"GameRecorder.start:fail duration invalid"},103:{code:Gw.GameRecorder_StartWhileAlreadyStartRecording,message:"GameRecorder.start:fail start while already start recording"},104:{code:Gw.GameRecorder_StartWhilePaused,message:"GameRecorder.start:fail start while paused"},106:{code:Gw.GameRecorder_StartBitRateInvalid,message:"GameRecorder.start:fail bitrate invalid"},107:{code:Gw.GameRecorder_StartFPSInvalid,message:"GameRecorder.start:fail fps invalid"},108:{code:Gw.GameRecorder_StartGOPInvalid,message:"GameRecorder.start:fail gop invalid"},112:{code:Gw.GameRecorder_UnknownError,message:"GameRecorder.start:fail 小游戏直播中，暂不支持录制"},201:{code:Gw.GameRecorder_PauseWhileNotStartRecording,message:"GameRecorder.pause:fail pause while not start recording"},202:{code:Gw.GameRecorder_PauseWhileAlreadyPaused,message:"GameRecorder.pause:fail pause while already paused"},301:{code:Gw.GameRecorder_ResumeWhileNotStartRecording,message:"GameRecorder.resume:fail resume while not start recording"},302:{code:Gw.GameRecorder_ResumeWhileRecording,message:"GameRecorder.resume:fail resume while recording"},401:{code:Gw.GameRecorder_AbortWhileNotStartRecording,message:"GameRecorder.abort:fail abort while not start recording"},501:{code:Gw.GameRecorder_StopWhileNotStartRecording,message:"GameRecorder.stop:fail stop while not start recording"},503:{code:Gw.Global_FileStorageNotEnough,message:"GameRecorder.stop:fail file storage not enough"}};return t[e]?t[e]:[102,110,111,502,710,810].includes(e)?{code:Gw.GameRecorder_InternalFailed,message:"GameRecorder:fail internal failed"}:{code:Gw.GameRecorder_UnknownError,message:"GameRecorder:fail unknown error"}};x.default.onReady((()=>{(0,Q.jQ)("onGameRecorderStateChange",(e=>{var t=e.state;if(delete e.state,"stop"===t)Jw[t].internal.emit(e),Jw[t].external.emit({duration:Math.floor(e.duration/1e3)});else if("timeUpdate"===t)Jw[t].internal.emit(e),Jw[t].external.emit({currentTime:e.currentTime});else if("error"===t){var r=tI(e.errCode);Jw[t].external.emit({error:r})}else Jw[t].external.emit()}))}));var rI=null;class aI{constructor(){this.isRecording=!1,Jw.stop.internal.onMethod((e=>{rI=e.tempFilePath,this.isRecording=!1})),this._operatePromise=Promise.resolve()}isFrameSupported(){return eI(),Qw}isSoundSupported(){return eI(),Yw}isVolumeSupported(){return eI(),Zw}isAtempoSupported(){return eI(),Xw}_operate(e,t){return this._operatePromise=this._operatePromise.then((()=>this.__operate(e,t))).catch((()=>this.__operate(e,t))),this._operatePromise}__operate(e="start",t={}){if(!this.isFrameSupported()){var r=`GameRecorder.${e}:fail frame not supported`;return Promise.reject({errMsg:r,error:{message:r,code:Gw.GameRecorder_NotSupported}})}var a=!0;return new Promise(((r,n)=>{(0,Q.IN)("operateGameRecorder",Object.assign({operationType:e,success:()=>{"start"===e?Kw(1,{hookBgm:t.hookBgm}):"stop"===e&&Kw(2),r({errMsg:`GameRecorder.${e}:ok`,error:{code:Gw.OK,message:`GameRecorder.${e}:ok`}}),a=!1},fail:t=>{var r=tI(t.errCode);n({errMsg:r.message,error:r}),a=!1,"start"===e&&(this.isRecording=!1)},complete:t=>{if(a)if(0!==t.errCode){var i=tI(t.errCode);i?n({errMsg:i.message,error:i}):(n({errMsg:`GameRecorder: ${e} unknow error`}),console.error(t))}else r()}},t))}))}start({fps:e=24,bitrate:t=1e3,gop:r=12,duration:a=7200,hookBgm:n=!0}={}){if(this.isRecording){var i="GameRecorder.start:fail start while already start recording";return Promise.reject({errMsg:i,error:{message:i,code:Gw.GameRecorder_NotSupported}})}return this.isRecording=!0,a="number"==typeof a?Math.min(7200,Math.max(5,a)):7200,t="number"==typeof t?Math.min(3e3,Math.max(600,t)):1e3,"boolean"!=typeof n&&(n=!0),this._operate("start",{fps:e,bitrate:t,gop:r,duration:a,hookBgm:n,audioBitrate:128,width:x.default.screenWidth+4-x.default.screenWidth%4,height:x.default.screenHeight+4-x.default.screenHeight%4,cumulativeStamp:!0,notifyVideoKeyFrame:!0,timeUpdateInterval:30})}stop(){return this.isRecording=!1,this._operate("stop")}pause(){return this._operate("pause")}resume(){return this._operate("resume")}abort(){return this.isRecording=!1,this._operate("abort")}on(e,t){Jw[e].external.onMethod(t)}off(e,t){Jw[e].external.offMethod(t)}}var nI=null,iI=()=>nI||(nI=new aI),oI=()=>rI,sI=p(1636),lI=p(6659),cI=f.createLogger("shareTimeline");function uI(e={},t={title:x.default.accountInfo.nickname}){var r={},a="string"==typeof e.query?e.query:"";a.length>2e3&&(console.warn(`shreTimeline: query exceed max length limit 2000: "${a.length}"`),a=a.substr(0,2e3)),r.path=(0,Rv.xF)({pageType:Lv.Gy.PLAY_PAGE_IMAGE,query:a});var n=zv(),i=qv();if(!n||!e.imageUrl&&e.imageUrlId){if(!i[e.imageUrlId])return(0,Ze.showToast)({icon:"none",title:"由于小程序违规，分享功能暂时无法使用"}),null;r.imageUrl=i[e.imageUrlId]}else{var o=wt.LC.get(e.imageUrl);r.imageUrl="string"==typeof o?o:e.imageUrl}return Object.assign({userPath:"string"==typeof e.path?e.path:"",userQuery:a},t,e,r)}function dI(e,t={},r,a={}){return new Promise(((n,i)=>{var o={title:t.title,path:t.path,imageUrl:t.imageUrl?t.imageUrl:"",cardSubType:(0,Rv.oq)(r),messageExtraData:{userPath:t.userPath,userQuery:t.userQuery,title:t.title,imageUrl:t.imageUrl||"",pageType:r,thumbUrl:e.thumbUrl,fileUrl:e.fileUrl,isCustomPreviewImg:e.isSnapshot?0:1,...a}};r===Lv.Gy.PLAY_PAGE_IMAGE&&(o.preloadResources=[e.fileUrl]),(0,Qe.J)("isLiteGame")?(o.liteGameInfo=t.liteGameInfo,o.appBrandPriority=t.appBrandPriority,Zv(o.imageUrl).then((e=>{o.imageUrl=e,(0,Q.IN)("shareTimeline",{...o,success:n,fail:i,complete:()=>{Yv(o.imageUrl)&&setTimeout((()=>{(0,lI.q)({filePath:o.imageUrl})}),1e3)}})}))):(0,Q.IN)("shareTimeline",{...o,success:n,fail:i})}))}function pI(e){(0,Ze.showLoading)({title:"请稍等"}),function(e={}){var{imagePreviewUrlId:t,imagePreviewUrl:r}=e,a=zv(),n=qv();if(a){if(/^(http|https):\/\//.test(r))return new Promise((e=>{(0,Jt.o)({url:r,success:t=>{e(hI(t.tempFilePath).catch((e=>{cI.error(e),fI()})))},fail:t=>{cI.error(t),e(fI())}})}));if(/^wxfile:\/\//.test(r))return hI(r).catch((e=>(cI.error("getFinalUrlWithImageInfoAndCDNUrl fail",e,r),fI())));if((0,R.HD)(r)){var i=r.split(".").pop();i=i?i.toLowerCase():"jpg";var o=`__wx_temp_timeline_img_${(0,Xe.M8)()}.${i}`,s=`${x.default.env.USER_DATA_PATH}/${o}`;return(0,ua.Fr)(sI.c)({srcPath:r,destPath:s}).then((()=>hI(s))).then((e=>((0,lI.q)({filePath:s,success:e=>{cI.log("unlink success",e)},fail:e=>{cI.error("unlink fail",e)}}),e))).catch((e=>(cI.error("getFinalUrlWithImageInfoAndCDNUrl fail",e,s),fI())))}return fI()}var l=n[t];return t&&l?new Promise((e=>{tr({src:l,success:t=>{var{width:r,height:a}=t,n=Hv(l,r,a);e({fileUrl:n,thumbUrl:n})},fail:()=>e(fI())},Jt.o)})):fI()}(e).then((e=>((0,Ze.hideLoading)(),e))).then((t=>dI(t,e,Lv.Gy.PLAY_PAGE_IMAGE))).catch((e=>{(0,Ze.hideLoading)(),cI.error("invokeShareTimeline fail",e)}))}function hI(e){return Promise.all([Kv(e),Qv(e,1048576).then((()=>Jv(e)))]).then((([e,t])=>{var{width:r,height:a}=e;return{fileUrl:Hv(t.fileUrl,r,a),thumbUrl:Hv(t.thumbUrl,r,a)}}))}function fI(){return am().then((e=>{var{width:t,height:r,tempFilePath:a}=e;return Jv(a).then((e=>({fileUrl:Hv(e.fileUrl,t,r),thumbUrl:Hv(e.thumbUrl,t,r),isSnapshot:!0})))}))}var gI=null;var vI=2e3,mI=null,yI=null;(0,Cv.OQ)((()=>{yI&&yI()}));var _I=(e,t,r)=>{var a,n=6e4*t,i=0;return Array.isArray(e)||(a=[[0,n]],r&&(r.isEdit=0),console.warn(`GameRecorder:time range invalid ${JSON.stringify(e)}.It has been corrected to [[0, ${n}]] under x${t} atempo`)),a=e.reduce(((e,t,r)=>{if(Array.isArray(t)&&2===t.length){var[a,o]=t,s=(0,R.U)(a)&&(0,R.U)(o),l=a<o&&(!e[r-1]||a>=e[r-1][1]);s&&l&&i+o-a<=n&&(e.push([a,o]),i+=o-a)}return e}),[]),0===a.length&&(a=[[0,n]],r&&(r.isEdit=0),console.warn(`GameRecorder:time range invalid ${JSON.stringify(e)}.It has been corrected to [[0, ${n}]] under x${t} atempo`)),a},bI=e=>"number"==typeof e&&e>=0&&e<=1?Number(e.toFixed(2)):(console.warn(`GameRecorder:volume invalid ${JSON.stringify(e)}.It has been corrected to 1`),1),wI=e=>"number"==typeof e&&[.3,.5,1,1.5,2,2.5,3].includes(e)?e:(console.warn(`GameRecorder:atempo invalid ${JSON.stringify(e)}.It has been corrected to 1`),1),II=function({query:e="",path:t="",title:r,button:a,bgm:n="",timeRange:i=[],volume:o=1,atempo:s=1,audioMix:l=!1}={}){var c=oI();if(!c){var u="GamaRecorder.share:fail no recorded video";return Promise.reject({errMsg:u,error:{code:Gw.GameRecorder_NoVideo,message:u}})}var d=bI(o),p=wI(s),h=_I(i,p);if(h.reduce(((e,t)=>e+t[1]-t[0]),0)<vI*p){var g=`GamaRecorder.share:fail time range too short.It should be longer than ${vI*p}ms under x${p} atempo.`;return Promise.reject({errMsg:g,error:{code:Gw.GameRecorder_TimeRangeTooShort,message:g}})}return Promise.all([zw(r,a),gI||(gI=(0,Q.Qh)({sdkApiName:"getplaybackconfig",apiName:"webapi_getplaybackconfig",reqData:{appServiceType:x.default.appType}}).then((e=>e.data)))]).then((([t,r])=>{var a={videoSrc:c,timeRange:h,bgmSrc:n,volume:d,atempo:p,shareOptions:[{id:1,name:"发送给好友",needExtUrl:!1}],audioMix:!!l};return r.enable_share_to_haowan,r.enable_share_to_timeline&&a.shareOptions.push({id:3,name:"分享到朋友圈"}),new Promise(((r,o)=>{mI=new Promise((e=>{yI=e})),(0,Q.IN)("editGameRecorderVideo",Object.assign(a,{success:a=>{Kw(5,{shareTitle:t.shareTitle,sharePath:`?${e}`,useBgm:!!n,useTimeRange:Array.isArray(i)&&i.length>0,useAtempo:[.3,.5,1.5,2,2.5,3].includes(s),atempo:s,audioMix:!!l}),r(Object.assign(a,t))},fail:e=>{if(804===e.errCode||803===e.errCode)return r();var t={0:{code:Gw.OK,message:"GamaRecorder.share:ok"},801:{code:Gw.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"},802:{code:Gw.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"}};o({errMsg:e.errMsg.replace("editGameRecorderVideo","shareGameVideo"),error:t[e.errCode]||{code:Gw.GameRecorder_UnknownError,message:`GamaRecorder.share:fail unknow error code ${e.errCode}`}})}}))}))})).then((e=>mI.then((()=>e)))).then((r=>{mI=null,yI=null;var a=t;if(void 0!==r){if(2===r.chosenId&&"string"==typeof r.extUrl)Kw(7),(0,Q.IN)("private_openUrl",{url:r.extUrl});else if(1===r.chosenId||0===r.chosenId){var n=(0,Rv.xF)({pageType:Lv.Gy.PLAY_PAGE_VIDEO,query:e});Kw(6,{shareTitle:r.shareTitle,sharePath:n}),wm({filePath:r.videoPath,thumbFilePath:r.thumbPath,title:r.shareTitle,query:e,path:n,userPath:a}).then((()=>{Kw(8,{shareTitle:r.shareTitle,sharePath:r.path})}))}else if(3===r.chosenId){var i=(0,Rv.xF)({pageType:Lv.Gy.PLAY_PAGE_VIDEO,query:e});Kw(9,{shareTitle:r.shareTitle,sharePath:i}),(o={filePath:r.videoPath,thumbFilePath:r.thumbPath,title:r.shareTitle,query:e,userPath:a},(0,Ze.showLoading)({title:"请稍等"}),xv({filePath:o.filePath,thumbFilePath:o.thumbFilePath,fileType:20302,appType:213}).then((e=>((0,Ze.hideLoading)(),e))).then((e=>{var t=(0,Rv.xF)({pageType:Lv.Gy.PLAY_PAGE_VIDEO,query:o.query});return dI(e,{title:o.title,path:t,imageUrl:e.thumbUrl},Lv.Gy.PLAY_PAGE_VIDEO,o)})).catch((e=>{(0,Ze.hideLoading)(),cI.error("fail",e)}))).then((()=>{Kw(10,{shareTitle:r.shareTitle,sharePath:i})}))}var o;return{errMsg:"GamaRecorder.share:ok",error:{code:Gw.OK,message:"GamaRecorder.share:ok"}}}})).catch((e=>{f.error(e)}))},SI=null,kI=(e="",t)=>{var r=(()=>{if(SI)return SI;var e=new q.Z.Canvas;return e.width=1,e.height=1,SI=e.getContext("2d")})();return t&&(r.font=`${t}px sans-serif`),r.measureText(e).width},CI=["left","top","height","paddingLeft","paddingRight","backgroundColor","borderColor","borderWidth","borderRadius"],TI=["fontSize","color"],PI=new WeakMap;class AI{constructor({style:e={},image:t="",icon:r="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNSByZLicUmsht7bQQ8PW9rXljICmxVsZbEwrJgsCiaWWGm6YibFoxibLwX5UvINt8owvFnBibrv2uDgqvw/0?wx_fmt=png",text:a="分享游戏时刻",share:n={}}){var i={};PI.set(this,i),i.emitter=new Ww.Z,e=Object.assign((0,Uw.ph)(),e);var o=Object.keys(e).filter((e=>CI.includes(e))).reduce(((t,r)=>(t[r]=e[r],t)),{});o.paddingLeft=o.paddingLeft||16,o.paddingLeft=Math.max(o.paddingLeft,16),o.paddingRight=o.paddingRight||16,o.paddingRight=Math.max(o.paddingRight,16),o.position="absolute",o.flexDirection="row",o.justifyContent="center",o.alignItems="center",o.backgroundColor=o.backgroundColor||"#09bb07",o.borderRadius=o.borderRadius||3;var s=Object.keys(e).filter((e=>TI.includes(e))).reduce(((t,r)=>(t[r]=e[r],t)),{});s.color=s.color||"#ffffff",s.fontSize=s.fontSize||17,s.lineHeight=24*s.fontSize/17,s.width=kI(a,s.fontSize),s.height=s.lineHeight,i.button=new Fw.E({style:o,src:t,clickState:!0}),i.icon=new Fw.E({style:{width:24,height:16,marginRight:e.iconMarginRight||8},src:r}),i.text=new jw.x({style:s,value:a,bubbleEvent:!0}),i.button.add(i.icon),i.button.add(i.text),Rm.u.add(i.button),Object.defineProperty(this,"text",{configurable:!0,enumerable:!0,get:()=>a,set:e=>{a=e,i.text.value=e,i.text.style.width=kI(a,i.text.style.fontSize)}}),Object.defineProperty(this,"image",{configurable:!0,enumerable:!0,get:()=>t,set:e=>{t=e,i.button.src=e}}),this.style={};var l={};CI.forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>l[e],set:t=>{"height"===e?t=Math.max(t,40):"paddingLeft"!==e&&"paddingRight"!==e||(t=Math.max(t,16)),l[e]=t,i.button.style[e]=t}})})),TI.forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>l[e],set:t=>{"fontSize"===e&&(t=Math.min(Math.max(t,17),22),i.text.style.width=kI(a,t),i.text.style.height=24*t/17,i.text.style.lineHeight=24*t/17),l[e]=t,i.text.style[e]=t}})})),Object.defineProperty(this.style,"iconMarginRight",{configurable:!0,enumerable:!0,get:()=>l.iconMarginRight,set:e=>{l.iconMarginRight=e,i.icon.style.marginRight=e}}),this.share=n,i.button.on("click",(()=>{Kw(3),II(this.share).catch((e=>{i.emitter.emit("tap",e),Jw.error.external.emit(e)}))})),Kw(4)}onTap(e){PI.get(this).emitter.on("tap",e)}offTap(e){PI.get(this).emitter.off("tap",e)}show(){var e=PI.get(this);e.button.style.hidden&&(e.button.style.hidden=!1,Kw(4))}hide(){PI.get(this).button.style.hidden=!0}}var EI=null,MI=(e={})=>EI||(EI=new AI(e)),xI=(e={})=>{if((0,ln.Vt)()){var t={};try{"string"==typeof e.configJson&&(t=JSON.parse(e.configJson))}catch(e){console.error(e)}(function({title:e="",desc:t="",bgm:r="",timeRange:a=[],volume:n=1,atempo:i=1,audioMix:o=!1,configJson:s=""}={}){var l=oI();if(!l){var c="GamaRecorder.share:fail no recorded video";return Promise.reject({errMsg:c,error:{code:Gw.GameRecorder_NoVideo,message:c}})}var u=bI(n),d=wI(i),p={isEdit:1},h=_I(a,d,p);if(h.reduce(((e,t)=>e+t[1]-t[0]),0)<vI*d){var g=`GamaRecorder.share:fail time range too short.It should be longer than ${vI*d}ms under x${d} atempo.`;return Promise.reject({errMsg:g,error:{code:Gw.GameRecorder_TimeRangeTooShort,message:g}})}return Promise.all([zw()]).then((([a])=>{e||(e=a.shareTitle),t||(t=a.videoDesc);var n={title:e,desc:t,videoSrc:l,timeRange:h,bgmSrc:r,volume:u,atempo:d,shareOptions:[0,1,2,3],audioMix:!!o,configJson:s,isDevRequestEdit:p.isEdit},i="shareGameRecorderVideo";return new Promise(((e,t)=>{(0,Q.IN)(i,Object.assign(n,{success:t=>{e(t)},fail:e=>{var r={0:{code:Gw.OK,message:"GamaRecorder.share:ok"},801:{code:Gw.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"},802:{code:Gw.GameRecorder_InternalFailed,message:"GamaRecorder.share:fail internal failed"}};t({errMsg:e.errMsg.replace(i,"operateGameRecorderVideo"),error:r[e.errCode]||{code:Gw.GameRecorder_UnknownError,message:`GamaRecorder.share:fail unknow error code ${e.errCode}`}})}}))}))})).catch((e=>{throw f.error(e),e}))})({title:e.title,desc:e.desc,bgm:e.bgm,timeRange:e.timeRange,volume:e.volume,atempo:e.atempo,audioMix:e.audioMix,configJson:JSON.stringify(Object.assign({},t,{path:e.path,query:e.query})),version:1}).then((t=>{var r,a={};null==t||null===(r=t.shareResult)||void 0===r||r.forEach((e=>{switch(e.optionKey){case 0:a.shareGameCenter={errCode:e.errCode,errMsg:e.errMsg};break;case 1:(0,Qe.J)("gameRecorderShareAppMessageCallback")&&(a.shareAppMessage={errCode:e.errCode,errMsg:e.errMsg});break;case 2:(0,Qe.J)("gameRecorderShareTimelineCallback")&&(a.shareTimeline={errCode:e.errCode,errMsg:e.errMsg});break;case 3:a.shareStash={errCode:e.errCode,errMsg:e.errMsg}}})),(0,Q.FE)({res:a,args:e,name:"operateGameRecorderVideo"})})).catch((t=>{(0,Q.YG)("operateGameRecorderVideo",e,t.errMsg)}))}else{(0,Q.YG)("operateGameRecorderVideo",e,"require user interaction (only in touchend event)")}},DI=!1,RI=1e3;wt.U.once("beforeTouchStart",(()=>{DI=!0}));var LI=(e={})=>{var t,{sessionFrom:r}=e;(Tr("openCustomerServiceConversation")&&e.showMessageCard&&(e.showMessageCard=!1),DI)?((0,kv.y4)(kv.F0.EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE),(0,Ze._showModal)({content:`即将进入“${null===(t=x.default.accountInfo)||void 0===t?void 0:t.nickname}”客服会话`,confirmText:"确认",cancelText:"取消",success(t){var a;t.confirm?("1"===(null===x.default||void 0===x.default||null===(a=x.default.expt)||void 0===a?void 0:a.clicfg_appbrand_ios_game_shangcheng_kefu)&&("string"==typeof r&&(0,xg.Ei)(r,"utf8")>RI&&(r=(0,xg.zA)(r,RI,"utf8"),(0,Ca.v)("tooLongSessionFrom")),e.sessionFrom=JSON.stringify({_source:1,_data:r||""})),(0,Q.IN)("enterContact",e,{})):(0,Q.YG)("openCustomerServiceConversation",e,"cancel")},fail(){(0,Q.YG)("openCustomerServiceConversation",e,"showModal fail")}})):(0,Q.YG)("openCustomerServiceConversation",e,"require user interaction")},NI=(0,p(9695).Q)("getLiteGameCapsuleWidgetRectAsync",(e=>{(0,Q.IN)("getLiteGameCapsuleWidgetRect",e)})),OI=(0,Y.s)("onMenuClick"),BI=OI.internalOnMethod,jI=OI.internalOffMethod;(0,je.n)("onMenuClick",(e=>{OI.emitInternal(e)}));var FI={Component:Lm.wA,getPrivateThis:Lm.Wj,removePrivateThis:Lm.bn,create:Lm.Ue,init:Lm.S1,webviewLayout:Rm.u,nativeviewLayout:Rm._,xmlParser:ov()},WI={getUserCloudStorage:uv,getFriendCloudStorage:pv,getGroupCloudStorage:fv,getPotentialFriendList:gv,getGroupInfo:mv,shareMessageToFriend:Pm,getUserCloudStorageKeys:xm,modifyFriendInteractiveStorage:Km},UI=["openChannelsLive","insertWebRTCRendererView","updateWebRTCRendererView","removeWebRTCRendererview","isOpenSR","isSupportSR","requestSRFile","operateWebRTCVoiceRecord"],GI={Kanata:null,wxGA:null,get __wxSourceMapRetrace__(){return"function"==typeof __wxSourceMapRetrace__?__wxSourceMapRetrace__:void 0},reportIDKey:({id:e,key:t,value:r})=>b.reportIDKey({id:e,key:t,value:r}),reportKeyValue:sv.G,getXLogManager:()=>f,getUserInfo:Mm,WebAssembly:Qy,getGameLifeProfile:d_,getGreetingControlInfo:p_,interactGameLifeTag:h_,openGameLifeAccountInfo:({success:e,fail:t,complete:r,query:a}={})=>{m_({url:(0,rt.cE)("https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/accountinfo.html",a),success:e,fail:t,complete:r})},openGameLifeMiniGameTransfer:({success:e,fail:t,complete:r,query:a}={})=>{m_({url:(0,rt.cE)("https://game.weixin.qq.com/cgi-bin/h5/static/gamelife/minigametransfer.html",a),success:e,fail:t,complete:r})},Function:a.prototype.constructor,createCanvas:(...e)=>Kb(...e),createScreenCanvas:(...e)=>(0,Z_.U)(...e),createWebView:e=>t=>new g_.kh(t,e),preloadWebView:g_.KG,navigateToMiniProgramDirectly:e=>L_(e,e),privateOpenUrl:Jb.n8,gamelifeManager:function(e={}){(0,Q.IN)("gamelifeManager",e)},getGameLifeRedCount:function(e={}){(0,Q.IN)("getGameLifeRedCount",e)},onGameLifeMsg:function(e){vw.on("onGameLifeMsg",e)},offGameLifeMsg:function(e){vw.off("onGameLifeMsg",e)},getABTestConfig:function(e={}){(0,Q.IN)("getABTestConfig",e)},gameTransfer:Mo.zo,coverview:FI,launchApplicationDirectly:(e={})=>{(0,Qe.J)("plugin_launchApplicationDirectly_operateDirectly")||delete e.operateDirectly,z.cj?(0,Qe.J)("launchApplicationDirectly")?(0,Q.IN)("launchApplication",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("launchApplication","launchApplicationDirectly")}}):setTimeout((()=>(0,Q.YG)("launchApplicationDirectly",e,"no permission"))):(0,Q.IN)("launchApplicationDirectly",e,{})},encode:Zb,decode:Xb,PIXI:null,TWEEN:fw,onStoreEmoticonSelect:gw.Ej,offStoreEmoticonSelect:gw.lj,onKeyboardHeightChange:gw.LK,offKeyboardHeightChange:gw.M2,showUserGrantInfoModal:Oo,createScreenCanvas2:null,clearCreateCanvas:!0,getSelfUserInfo:Eo,onWebRTCLoadedMetaData:function(e){mw.on("onWebRTCLoadedMetaData",e)},offWebRTCLoadedMetaData:function(e){mw.off("onWebRTCLoadedMetaData",e)},requestSubscribeSystemMessage:Cw,requirePlugin:xw,transformFakePath2RealPath:wt.d4,getPrivateFileSystemManager:ce,createWKVideo:()=>{if(q.Z)return q.Z.createVideoElement()},uploadFile:xv,gameRecorderOperateVideo:(e={})=>function({bgm:e="",timeRange:t=[],volume:r=1,atempo:a=1,audioMix:n=!1}={}){var i=oI();if(!i){var o="GamaRecorder.share:fail no recorded video";return Promise.reject({errMsg:o,error:{code:Gw.GameRecorder_NoVideo,message:o}})}var s={editType:1,sdkParmas:{videoSrc:i,timeRange:t,bgmSrc:e,volume:bI(r),atempo:wI(a),audioMix:!!n}};return new Promise(((e,t)=>{(0,Q.IN)("openVideoEditor",Object.assign(s,{success:t=>{e(t)},fail:e=>{t({errMsg:e.errMsg,error:{code:Gw.GameRecorder_UnknownError,message:`GamaRecorder.share:fail unknow error code ${e.errCode}`}})}}))}))}({bgm:e.bgm,timeRange:e.timeRange,volume:e.volume,atempo:e.atempo,audioMix:e.audioMix}),gameRecorderGetVideoPath:oI,openCustomerServiceConversationDirectly:(e={})=>{var t,{sessionFrom:r}=e;(0,kv.y4)(kv.F0.EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE),"1"===(null===x.default||void 0===x.default||null===(t=x.default.expt)||void 0===t?void 0:t.clicfg_appbrand_ios_game_shangcheng_kefu)&&("string"==typeof r&&(0,xg.Ei)(r,"utf8")>RI&&(r=(0,xg.zA)(r,RI,"utf8"),(0,Ca.v)("tooLongSessionFrom")),e.sessionFrom=JSON.stringify({_source:2,_data:r||""})),(0,Q.IN)("enterContact",e,{})},plugin_shareAppMessage:ym,gameTransferForLiteGame:Mo.xq},VI={createWebView:e=>t=>new g_.kh(t,e),requestSubscribeSystemMessage:Cw,getPrivateFileSystemManager:e=>()=>ce(e)},$I={};x.default.onReady((()=>{var e=(0,Qe.J)("engineOpenData");Object.assign(GI,e?WI:{})}));var qI,zI=e=>{if($I[e])return $I[e];var t=(0,oa.vC)(e),r={platform:x.default.platform},a=!1,n=function(n){var i=oa.jC[n],o=t[i];if("wx20afc706a711eefc"===e||"wx4d5893418b75cb20"===e||o){if("createCanvas"===n&&nv(!0),"createScreenCanvas2"===n&&(n="createScreenCanvas"),n in VI&&(GI[n]=VI[n](e)),n in WI&&(nv(!0),a=!0),["PIXI","wxGA","Kanata"].includes(n))return Object.defineProperty(r,n,{get:()=>({PIXI:PIXI,wxGA:wxGA,Kanata:_Kanata}[n])}),"continue";r[n]=GI[n]}};for(var i in GI)n(i);return r.clearCreateCanvas&&(delete r.clearCreateCanvas,delete r.createCanvas,!a&&av()&&nv(!1)),"wx2ea687f4258401a9"!==e&&"wxfc466bb0d1a16d17"!==e||(r.NativeGlobal=q.Z,r.__wxConfig={...x.default}),"wxe5a48f1ed5f544b7"===e&&(r.setFileSpaceStatistics=Rw,r.instanceId=x.default.instanceId,r.createBufferURLAsync=Nw,r.getWxCommonFont=Bw),"wxc954aec3c98f03e5"===e&&(r.onMenuClick=BI,r.offMenueClick=jI,r.getLiteGameCapsuleWidgetRectAsync=NI),$I[e]=r,$I[e]},HI=(e,{enableRequireHostModule:t,customEnv:r,subContext:a})=>{var n=zI(e);return UI.forEach((t=>{n[t]=r=>{(0,Q.qu)(e)(t,r)}})),n.customEnv=r,t&&(n.requireHostModule=a?y.getGameOpenDataContext().contextGlobal.__require:y.getGameContext().contextGlobal.__require),n};x.default.onReady((()=>{if((0,z.aI)()){(t=x.default.plugins||x.default.gamePlugins)&&Object.keys(t).forEach((e=>{var r=t[e].provider;zI(r)}));var e="string"==typeof(z.gm?x.default.appConfig.subContext:x.default.subContext)||av();(e=>{if(ob()){var t=e.getContext;e.getContext=(r,a,...n)=>{if("webgl"===r||"2d"===r||"webgl2"===r){var i=Object.assign({},a);return i.preserveDrawingBuffer=!0,t.call(e,r,i,...n)}return t.call(e,r,a,...n)}}})(qI=Kb({secure:e}))}var t}));var KI,JI,QI=()=>qI,YI=!1,ZI=()=>YI?Kb({secure:av()}):(YI=!0,QI()),XI=()=>Kb({secure:av()}),eS={src:null,width:null,height:null,naturalWidth:null,naturalHeight:null,complete:null,tagName:null,nodeName:null,onerror:null,onload:null},tS=new WeakMap;function rS(e){return e?tS.set(e,(t=>e({type:t.type,target:t.target,timestamp:t.timeStamp,currentTarget:t.target}))).get(e):null}(0,q.a)((e=>{var{Image:t}=e;if("src"in t.prototype){var r=t.prototype.addEventListener,a=t.prototype.removeEventListener;KI={addEventListener(e,t){r.call(this,e,rS(t))},removeEventListener(e,t){a.call(this,e,tS.get(t)||t)}};for(var n=function(e){Object.keys(e).forEach((t=>{t in eS&&(eS[t]=Object.getOwnPropertyDescriptor(e,t))}))},i=t.prototype;i;i=i.__proto__)n(i)}}));var aS=Object.defineProperty,nS=Object.getOwnPropertyDescriptor,iS=Object.prototype.hasOwnProperty,oS=["src","width","height","naturalWidth","naturalHeight","complete","tagName","nodeName","onerror","onload"];function sS(){return new q.Z.Image}function lS(...e){if(z.gm||z.jP){var t,r=document.createElement("canvas").getContext("2d");if(e.length>1){if("number"!=typeof e[0]||"number"!=typeof e[1])return console.error("parameter width or height is not of type 'number'"),t;t=r.createImageData(e[0],e[1])}else{if("[object ImageData]"!==Object.prototype.toString.call(e[0]))return console.error("parameter imageData is not of type 'ImageData'"),t;t=r.createImageData(e[0].width,e[0].height)}return t}return new q.Z.ImageData(...e)}function cS(...e){return new q.Z.Path2D(...e)}var uS=e=>{"function"==typeof q.Z.setPreferredFramesPerSecond?q.Z.setPreferredFramesPerSecond(e):console.warn("当前版本暂不支持设置帧率")},dS=new Map,pS=e=>{if("function"==typeof q.Z.loadFont){if(z.cj&&"string"==typeof e&&"/"===e[0]&&(e=e.slice(1)),dS.has(e))return dS.get(e);var t=q.Z.loadFont(e);return dS.set(e,t),t}return console.warn("当前版本暂不支持此加载自定义字体"),null},hS=(e,t,r)=>"function"==typeof q.Z.setCursor?q.Z.setCursor(e,t,r):(console.warn("当前版本暂不支持加载自定义光标"),!1),fS=function(...e){return q.Z.requestPointerLock(...e)},gS=function(...e){return q.Z.exitPointerLock(...e)},vS=function(...e){return q.Z.isPointerLocked(...e)},mS=!1;x.default.onReady((()=>{mS="release"!==x.default.envVersion&&!z.jP&&q.Z.performanceNowUs}));var yS,_S={now:()=>mS?q.Z.performanceNowUs():q.Z.performanceNow()},bS=()=>_S,wS=(0,Y.s)("memoryWarning"),IS=(e,t=!1)=>{t?yS=e:wS.onMethod(e)},SS=(e,t=!1)=>{t?yS=null:wS.offMethod(e)};(0,Q.jQ)("onMemoryWarningReceive",((e={})=>{z.wZ&&e.level<10||(wS.getGlobalListeners().length?wS.emitGlobal(e):"function"==typeof yS&&yS(e),wS.emitInternal(e))}));var kS=0,CS=function(){q.Z.gc?q.Z.gc():function(){for(var e={},t=0;t<1e5;t++)e[t]=[];e=null}()};IS((()=>{Date.now()-kS>1e3&&CS(),kS=Date.now()}),!0);var TS=p(9967),PS=new Dm.Q("touch",!0),AS=new Dm.Q("innerTouch",!0),ES=new Dm.Q("touch",!0),MS={},xS={};["start","move","end","cancel"].forEach((e=>{(0,q.a)((t=>{if("start"===e){t.EventHandler.ontouchstart=(0,Q.ZI)((t=>{wt.U.emit("beforeTouchStart",t),wt.U.emit("setLastTapTime",Date.now()),sr("tap"),AS.emit(e,t),PS.emit(e,t),ES.emit(e,t)}),"EventHandler.ontouchstart")}else if("end"===e){t.EventHandler.ontouchend=(0,Q.ZI)((t=>{wt.U.emit("beforeTouchEnd"),AS.emit(e,t),PS.emit(e,t),ES.emit(e,t),wt.U.emit("afterTouchEnd")}),"EventHandler.ontouchend")}else t.EventHandler[`ontouch${e}`]=(0,Q.ZI)((t=>{AS.emit(e,t),PS.emit(e,t),ES.emit(e,t)}),`EventHandler.ontouch${e}`)})),MS[`onTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=(t,r)=>{(0,R.Kn)(r)&&(q.Z.EventHandler[`ontouch${e}Dst`]=r),PS.on(e,t)},MS[`offTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=t=>{PS.off(e,t)},xS[`onTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=t=>{AS.on(e,t)},xS[`offTouch${e.charAt(0).toUpperCase()+e.slice(1)}`]=t=>{AS.off(e,t)}}));const DS=MS;var RS=new Dm.Q("Mouse",!0),LS={};["Down","Move","Up"].forEach((e=>{LS[`onMouse${e}`]=t=>RS.on(e,t),LS[`offMouse${e}`]=t=>RS.off(e,t),(0,q.a)((t=>{t.EventHandler[`onmouse${e.toLowerCase()}`]=(0,Q.ZI)((t=>{"Up"===e&&wt.U.emit("beforeTouchEnd"),RS.emit(e,t),"Up"===e&&wt.U.emit("afterTouchEnd")}),`EventHandler.onmouse${e.toLowerCase()}`)}))}));const NS=LS;var OS=new Dm.Q("PointerLock",!0),BS={};["Change","Error"].forEach((e=>{BS[`onPointerLock${e}`]=t=>OS.on(e,t),BS[`offPointerLock${e}`]=t=>OS.off(e,t),(0,q.a)((t=>{t.EventHandler[`onpointerlock${e.toLowerCase()}`]=(0,Q.ZI)((()=>OS.emit(e)),`EventHandler.onpointerlock${e.toLowerCase()}`)}))}));const jS=BS;var FS=new Dm.Q("Mouse",!0);(0,q.a)((e=>{var{EventHandler:t}=e;t.onwheel=(0,Q.ZI)((e=>FS.emit("Wheel",e)),"EventHandler.onwheel")}));var WS=(0,Y.s)("AppService-Error"),US=(0,Y.s)("AppService-UnhandledRejection"),GS=WS.onMethod,VS=WS.offMethod,$S=US.onMethod,qS=US.offMethod;b.registerThirdErrorListener((e=>{WS.emit({message:e,stack:""})})),b.registerThirdUnhandledRejectionListener(((e,t)=>{US.emit({reason:e,promise:t})}));var zS=null;function HS(e,t){"object"!=typeof e&&(e={});var r=Ev(),a=r.scene,n=r.chatroomUsername,i="shareAppMessage",o=e.toCurrentGroup;o=1158===a?"boolean"!=typeof o||o:"boolean"==typeof o&&o;var s={title:e.title||x.default.accountInfo.nickname,imageUrl:e.imageUrl,query:e.query,imageUrlId:e.imageUrlId,path:e.path};o&&1158===a&&(s.chatroomUsername=n,i="shareAppMessageToSpecificContactDirectly"),gm(s,i,t)}(0,Q.jQ)("onShareAppMessage",(e=>{if((0,Rv.b$)()){var t=(0,Rv.hk)(e);(0,Q.IN)("shareAppMessageDirectly",{...t})}else{var r={};if("function"==typeof zS&&"object"!=typeof(r=zS({}))&&(r={}),"Promise"===(0,R.Em)(r.promise)){var a=!1;setTimeout((()=>{a||(a=!0,(0,Qe.J)("isLiteGame")?ym(Object.assign(e,r)):HS(r,e))}),3e3),r.promise.then((t=>{a||(a=!0,(0,Qe.J)("isLiteGame")?ym(Object.assign(e,t)):HS(t,e))}))}else(0,Qe.J)("isLiteGame")?ym(Object.assign(e,r)):HS(r,e)}}));var KS=p(6435),JS=null;function QS(e,t){var r=function(e){var t={};return"function"==typeof JS&&"object"!=typeof(t=JS())&&(t={}),uI(t,e)}(t);if(r)if((0,Qe.J)("isLiteGame"))if("Promise"===(0,R.Em)(r.promise)){var a=!1;setTimeout((()=>{a||(a=!0,pI(r))}),3e3),r.promise.then((e=>{a||(a=!0,pI(uI(e,t)))}))}else pI(r);else pI(r)}(0,Q.jQ)("onShareTimeline",(e=>{var t=KS.n.get();t?function(e,t){var r="",a="";e.pageType===Lv.Gy.PLAY_PAGE_IMAGE?(r=(0,Rv.xF)({pageType:Lv.Gy.PLAY_PAGE_IMAGE,query:e.query}),a=e.params.imageUrl||""):e.pageType===Lv.Gy.PLAY_PAGE_VIDEO&&(r=(0,Rv.xF)({pageType:Lv.Gy.PLAY_PAGE_VIDEO,query:e.query}),a=e.params.thumbUrl||""),dI({thumbUrl:e.params.thumbUrl,fileUrl:e.params.fileUrl},{title:e.params.title||t.title,imageUrl:a,path:r,userPath:e.params.userPath,userQuery:e.params.userQuery},e.pageType,e.params).catch((e=>{f.error("onShareTimeline fail",e)}))}(t,e):QS(0,e)}));var YS=p(6910),ZS="startGameLive",XS=!1,ek=e=>{var t="";if(e&&"object"==typeof e){var{query:r}=e;(r="string"==typeof r?r:"").length>2e3&&(console.warn(`onGameLiveStateChange: query exceed max length limit 2000: "${r.length}"`),r=r.substr(0,2e3)),r.length>0&&(t=`?${r.replace(/^\?/,"")}`)}return t},tk=(e={})=>{XS?(0,Q.YG)(ZS,e,"please invoke after last invoke ended"):(XS=!0,(0,ln.UP)().then((()=>new Promise(((e,t)=>{(0,Q.IN)("getGameLivePermission",{success(r){1===r.status&&(0,Qe.J)("startGameLiveDirectly")?e():t({errMsg:"not support",errCode:r.errCode})},fail:t})})))).then((()=>((e={})=>{var t=ek(e);return new Promise(((e,r)=>{(0,Q.IN)("startGameLive",{path:t,reportInfo:JSON.stringify({scene:5}),success:e,fail:r})}))})(e))).then((t=>((0,Q.FE)({name:ZS,args:e,res:t}),XS=!1,rk({actionStatus:1}),null))).catch((t=>{rk({actionStatus:0,errType:t.errCode}),(0,Q.YG)(ZS,e,t.errMsg||t.message,t.errCode||t.err_code),XS=!1})))},rk=({actionStatus:e,errType:t})=>{b.reportKeyValue({key:"MidasFriendPayment",value:["","",37,2,"",e,"","","",(0,rr._getCurrentNetworkType)(),"","",t,"","","",""].join(",")})},ak=p(273),nk=null,ik=e=>({0:"end",1:"start",4:"menuClick"}[e]);(0,je.n)("onGameLiveStateChange",((e={})=>{(0,ak.JE)(e)}));(0,ak.DT)((e=>{var{event:t,extra:r}=e;if(4===t){var{path:a}=(e=>{var t="";if("function"==typeof nk){var r={state:ik(e.event)},a=nk(r);t=ek(a)}return{path:t}})(e);(0,Q.IN)("startGameLive",{path:a,reportInfo:JSON.stringify({scene:4})})}else if((0===t||1===t)&&"function"==typeof nk){var n={state:ik(e.event)};r&&r.wxaGameExportId&&(n.feedId=r.wxaGameExportId),nk(n)}}));var ok=(0,Y.s)("GamePerformanceUtils"),sk=ok.internalOnMethod,lk=(ok.internalOffMethod,ok.onMethod),ck=ok.offMethod,uk=ok.emitInternal.bind(ok),dk=ok.emitGlobal.bind(ok);(0,je.n)("onGameAuditsStateChange",(e=>{uk(e)}));var pk,hk,fk=new Dm.Q("key",!0);(0,q.a)((e=>{e.EventHandler.onkeydown=(0,Q.ZI)((e=>{fk.emit("down",e)}),"EventHandler.onkeydown"),e.EventHandler.onkeyup=(0,Q.ZI)((e=>{fk.emit("up",e)}),"EventHandler.onkeyup")})),(0,Q.jQ)("onWindowResize",(()=>{var e={},t=(0,un.getSystemInfoSync)();pk===t.windowWidth&&hk===t.windowHeight||(pk=e.windowWidth=t.windowWidth,hk=e.windowHeight=t.windowHeight,wt.U.emit("onWindowResize",e))}));var gk=null;(0,Q.jQ)("onAddToFavorites",(e=>{var t={};if((0,Rv.b$)()){var r=(0,Rv.hk)(e);(0,Q.IN)("addToFavorites",{...r})}else{"function"==typeof gk&&("object"!=typeof(t=gk({}))&&(t={}),t.path="string"==typeof t.path?t.path:"","string"==typeof t.query&&(t.path=t.path+"?"+t.query));var a=t.imageUrl;Yt([a],"image",(r=>{/^(cloud):\/\//.test(a)&&(a=r.data[0].url),t.imageUrl=a,(0,Q.IN)("addToFavorites",Object.assign(e,t))}))}}));var vk=!1,mk=Yb,yk="";function _k(e={}){if((0,Qe.J)("launchApp"))if((0,ln.Vt)())if(vk){var t=Object.assign({},e,{appId:yk});mk===Qb?t.extraData=e.appParameter:(t.messageExt=e.appParameter,t.extInfo=e.appParameter),mk(t)}else(0,Q.YG)("launchApp",e,"invalid scene");else(0,Q.YG)("launchApp",e,"not in touchEnd");else(0,Q.YG)("launchApp",e,"no permission")}(0,Ac.dN)(((e={})=>{var{scene:t}=e,{referrerInfo:r}=e;void 0!==t&&("string"==typeof t&&(t=parseInt(t,10)),r&&r.appId&&(yk=r.appId),1036===t?(vk=!0,mk=Yb):1069===t?(vk=!0,mk=Qb):1089!==t&&1090!==t&&1038!==t&&(vk=!1))}));var bk=p(2083),wk=p(8078),Ik=p(5090),Sk=p(175),kk=new WeakMap;class Ck{constructor(e={}){var{src:t}=e;t="string"==typeof t?`${t}`:void 0;var r=new wk.n(Object.assign({},e,{src:void 0}));kk.set(this,r),t&&(0,Ik.Jz)(t).then((e=>{e?(f.info("createVideo 检查不通过，禁止播放",t),r.emitter.emit("onVideoError",{errMsg:`invalid shortTV video src "${t}"`}),(0,Ze._showToast)({title:"当前视频暂无法播放",duration:1500,icon:"error"}),(0,Sk.j)({src:t})):(f.info("CreateVideo 检查通过, 可以播放",t),r.src=t)}))}get x(){return kk.get(this).x}set x(e){kk.get(this).x=e}get y(){return kk.get(this).y}set y(e){kk.get(this).y=e}get width(){return kk.get(this).width}set width(e){kk.get(this).width=e}get height(){return kk.get(this).height}set height(e){kk.get(this).height=e}get src(){return kk.get(this).src}set src(e){(e="string"==typeof e?`${e}`:void 0)&&(0,Ik.Jz)(e).then((t=>{t?(f.info("set Src 检查不通过，禁止播放",e),kk.get(this).emitter.emit("onVideoError",{errMsg:`invalid shortTV video src "${e}"`}),(0,Ze._showToast)({title:"当前视频暂无法播放",duration:1500}),(0,Sk.j)({src:e})):(f.info("set Src 检查通过, 可以播放",e),kk.get(this).src=e)}))}get poster(){return kk.get(this).poster}set poster(e){kk.get(this).poster=e}get initialTime(){return kk.get(this).initialTime}set initialTime(e){kk.get(this).initialTime=e}get playbackRate(){return kk.get(this).playbackRate}set playbackRate(e){kk.get(this).playbackRate=e}get live(){return kk.get(this).live}set live(e){kk.get(this).live=e}get objectFit(){return kk.get(this).objectFit}set objectFit(e){kk.get(this).objectFit=e}get controls(){return kk.get(this).controls}set controls(e){kk.get(this).controls=e}get showProgress(){return kk.get(this).showProgress}set showProgress(e){kk.get(this).showProgress=e}get showProgressInControlMode(){return kk.get(this).showProgressInControlMode}set showProgressInControlMode(e){kk.get(this).showProgressInControlMode=e}get backgroundColor(){return kk.get(this).backgroundColor}set backgroundColor(e){kk.get(this).backgroundColor=e}get autoplay(){return kk.get(this).autoplay}set autoplay(e){kk.get(this).autoplay=e}get loop(){return kk.get(this).loop}set loop(e){kk.get(this).loop=e}get muted(){return kk.get(this).muted}set muted(e){kk.get(this).muted=e}get obeyMuteSwitch(){return kk.get(this).obeyMuteSwitch}set obeyMuteSwitch(e){kk.get(this).obeyMuteSwitch=e}get enableProgressGesture(){return kk.get(this).enableProgressGesture}set enableProgressGesture(e){kk.get(this).enableProgressGesture=e}get enablePlayGesture(){return kk.get(this).enablePlayGesture}set enablePlayGesture(e){kk.get(this).enablePlayGesture=e}get showCenterPlayBtn(){return kk.get(this).showCenterPlayBtn}set showCenterPlayBtn(e){kk.get(this).showCenterPlayBtn=e}get onwaiting(){return kk.get(this).onwaiting}set onwaiting(e){kk.get(this).onwaiting=e}get onprogress(){return kk.get(this).onprogress}set onprogress(e){kk.get(this).onprogress=e}get onplay(){return kk.get(this).onplay}set onplay(e){kk.get(this).onplay=e}get onpause(){return kk.get(this).onpause}set onpause(e){kk.get(this).onpause=e}get onended(){return kk.get(this).onended}set onended(e){kk.get(this).onended=e}get ontimeupdate(){return kk.get(this).ontimeupdate}set ontimeupdate(e){kk.get(this).ontimeupdate=e}get onerror(){return kk.get(this).onerror}set onerror(e){kk.get(this).onerror=e}destroy(){return kk.get(this).destroy()}play(){return kk.get(this).play()}pause(){return kk.get(this).pause()}stop(){return kk.get(this).stop()}seek(e){return kk.get(this).seek(e)}requestFullScreen(e){return kk.get(this).requestFullScreen(e)}exitFullScreen(){return kk.get(this).exitFullScreen()}onWaiting(e){return kk.get(this).onWaiting(e)}offWaiting(e){kk.get(this).offWaiting(e)}onProgress(e){kk.get(this).onProgress(e)}offProgress(e){kk.get(this).offProgress(e)}onPlay(e){kk.get(this).onPlay(e)}offPlay(e){kk.get(this).offPlay(e)}onPause(e){kk.get(this).onPause(e)}offPause(e){kk.get(this).offPause(e)}onEnded(e){kk.get(this).onEnded(e)}offEnded(e){kk.get(this).offEnded(e)}onTimeUpdate(e){kk.get(this).onTimeUpdate(e)}offTimeUpdate(e){kk.get(this).offTimeUpdate(e)}onError(e){kk.get(this).onError(e)}offError(e){kk.get(this).offError(e)}}var Tk=(e={})=>{var t=Object.assign({},e);return(0,R.hj)(t.zIndex)?t.zIndex=Math.min(0,t.zIndex):(0,R.o8)(t.zIndex)||(t.zIndex=0),new Ck(t)},Pk=p(6087),Ak=new Set,Ek=new WeakMap,Mk="service",xk="plugin",Dk={[Mk]:0,[xk]:0};const Rk={add(e,t){Ak.add(e),Ek.set(e,t),Dk[t]++},remove(e){var t=Ek.get(e);Ak.delete(e)&&(Ek.delete(e),Dk[t]--)},get size(){return Ak.size},getSizeByType:e=>Dk[e]};var Lk,Nk=0,Ok=1,Bk=2,jk=new WeakMap,Fk=new Map,Wk=ArrayBuffer;o.onLoad((()=>{Lk="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer,"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?Wk=__global.SharedArrayBuffer:p.g.SharedArrayBuffer&&(Wk=p.g.SharedArrayBuffer))}));class Uk{constructor(e,t){if(!(0,R.hj)(e)||e<0)throw new me.i(`Invalid array buffer length ${e}`);if((0,R.hj)(t)){var r;try{r=Lk.get(t)}catch(e){throw new Error(`WeixinSharedBuffer.get${t} fail: ${e.message}`)}Object.defineProperty(this,"buffer",{value:r,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:t,enumerable:!0,writable:!1})}else{Object.defineProperty(this,"buffer",{value:new Wk(e),writable:!1,enumerable:!0});var a=Lk.new(this.buffer);Object.defineProperty(this,"_sabId",{value:a,enumerable:!0,writable:!1})}var n={writeStatus:Nk,readStatus:Nk,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};jk.set(this,n),Fk.set(this._sabId,this)}destroy(){var e=jk.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],Fk.delete(this._sabId),jk.get(this).destroyed=!0,this.unlock(),Lk.destroy(this._sabId)}lock(e,t=!1){var r=jk.get(this),{destroyed:a,writeStatus:n,readStatus:i,writeLockCallbacks:o,readLockCallbacks:s}=r;if(a)throw new me.i("SharedArrayBuffer has been destroyed");if(!(0,R.mf)(e))throw new me.i("callback must be a function");n!==Bk?(o.push(e),n===Ok||(r.writeStatus=Ok,r.writeLockId=Lk.Lock(this._sabId,(()=>{o.forEach((e=>e())),s.forEach((e=>e())),r.writeStatus=Bk,r.writeLockCallbacks=[],r.readLockCallbacks=[]})))):e()}unlock(){var e=jk.get(this),{writeLockId:t,readLockId:r,writeStatus:a,readStatus:n,destroyed:i}=e;i?console.warn("unlock: SharedArrayBuffer has been destroyed"):(a!==Ok&&a!==Bk||(Lk.Unlock(this._sabId,t),e.writeStatus=Nk,e.writeLockId=void 0,e.writeLockCallbacks=[]),n!==Ok&&n!==Bk||(Lk.Unlock(this._sabId,r),e.readStatus=Nk,e.readLockId=void 0,e.readLockCallbacks=[]))}}var Gk,Vk=e=>z.jP?{buffer:new ArrayBuffer(e)}:new Uk(e),$k=e=>{return z.jP?e:(0,R.Kn)(e)?(0,R.hj)(e._sabId)?(t=e._sabId,Fk.has(t)?Fk.get(t):new Uk(0,t)):Object.keys(e).reduce(((t,r)=>{var a=e[r];return t[r]=$k(a),t}),{}):(0,R.kJ)(e)?e.map($k):e;var t};"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME?z.jP||(Gk=i.supportWorkerMultiContext||i.supoortWorkerMultiContext):z.jP||x.default.onReady((()=>{Gk=x.default.supportWorkerMultiContext||x.default.supoortWorkerMultiContext})),o.onLoad((()=>{(function(e,t,r,a,n){this.message=e,this.line=t,this.column=r,this.stack=a,this.error=n}).prototype=Error}));var qk,zk=()=>Gk,Hk=new WeakMap,Kk=new WeakMap,Jk=new WeakMap,Qk={},Yk={},Zk={},Xk={},eC=new WeakMap,tC=new WeakMap,rC=e=>e.workerId,aC=0,nC={};function iC(e,t,r=++aC){return Xk[e]?(nC[e]||(nC[e]=[]),nC[e].push({id:r,callback:t})):(Xk[e]=r,t()),r}function oC(e,t){if(Xk[e]===t&&(delete Xk[e],nC[e]&&nC[e].length)){var{id:r,callback:a}=nC[e].shift();iC(e,a,r)}}qk=e=>{var t=0;Object.assign(e,{new(e){var r=++t;return Zk[r]=e,Object.keys(Qk).forEach((t=>{var a=Hk.get(Qk[t]);d.postMsgToWorker(a,{__cmd__:"setSharedBuffer",__buffer__:e,__id__:r},!1,!1)})),r},get:e=>Zk[e],destroy(e){delete Zk[e]},Lock:iC,Unlock:oC})},o.onLoad((()=>{z.jP||Lk.new||qk(Lk)})),d.onWorkerMsg(((e,t)=>{var r,a=rC(t);r=a?Yk[e]:Qk[e];var n=Kk.get(r),i=tC.get(r);if("log"!==t.__cmd__){if("setSharedBuffer"===t.__cmd__)return Zk[t.__id__]=t.__buffer__,void Object.keys(Qk).forEach((r=>{var a=Hk.get(Qk[r]);a!==e&&d.postMsgToWorker(a,t,!1,!1)}));if("lockSharedBuffer"!==t.__cmd__)if("unlockSharedBuffer"!==t.__cmd__){if("workerUncaughtError"===t.__cmd__){var s=t.__data__;if("string"==typeof s)try{s=JSON.parse(s)}catch(e){console.warn("warning: occur illegal error: ",s)}return s=o.convertToErrorObj(s),void(Qk[e]&&"function"==typeof Qk[e].errorHandler?Qk[e].errorHandler(s):(console.error("Worker Uncaught: ",s),b.errorReport({key:"appServiceSDKScriptError",error:s,extend:"at Splash Ad Worker"})))}if("readCompressedFile"!==t.__cmd__){if(r)if(i&&i.useWKWorker){if(!rC(t))return;if("requireScriptSuccess"===t.__cmd__){var l=eC.get(r);return void(l&&l.evaluateWorkerScriptPromiseResolve&&l.evaluateWorkerScriptPromiseResolve())}if("readFile"===t.__cmd__)return void(0,Nt.p)({filePath:t.filePath,success:({data:r})=>d.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:String.fromCharCode(...new Uint16Array(r))},void 0,!0),fail:({errMsg:r})=>d.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,errMsg:r},void 0,!0)});"function"==typeof n&&n(t.data)}else"function"==typeof n&&n($k(t.data))}else(0,zy.$)({filePath:t.filePath,compressionAlgorithm:t.compressionAlgorithm,complete:r=>{d.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:r},!1,!1)}})}else oC(t.__sid__,t.__lid__);else iC(t.__sid__,(()=>{r.postMessage(t)}),t.__lid__)}else(e=>{e.__isNativeConsole__?f[e.level](...e.logs):console[e.level](...e.logs)})(t.logData)}));var sC=function(e,t){(0,Qe.J)("skipWorkerProtect")&&(t||(t={}),t.__sdk_skip_protect=!0);var r=Hk.get(this);d.postMsgToWorker(r,{__cmd__:"requireScript",__script__:e,__id__:r,__options__:t},void 0,!1)},lC=function(){var e,t=new Promise((t=>{e=t}));eC.set(this,{evaluateWorkerScriptPromise:t,evaluateWorkerScriptPromiseResolve:e})};class cC{constructor(e,t,r={useWKWorker:!1,contextType:"",pluginId:"",injectFilePath:""}){this.errorHandler=void 0,this.allowPostMessage=!1,Hk.set(this,e),tC.set(this,r),this._id=e,r.useWKWorker?(Yk[e]=this,lC.call(this)):(Qk[e]=this,zk()?sC.call(this,t,{pluginId:r.pluginId,workerId:e,injectFilePath:r.injectFilePath},!0):sC.call(this,t,{pluginId:r.pluginId,workerId:e})),Rk.add(this,r.contextType)}postMessage(e){var t=Hk.get(this),r=eC.get(this),a=tC.get(this);a&&a.useWKWorker&&r?r.evaluateWorkerScriptPromise.then((()=>{d.postMsgToWorker(t,{data:e,appid:x.default.accountInfo.appId},void 0,!0)})):(e={data:e},d.postMsgToWorker(t,e,void 0,!1))}onMessage(e){Kk.set(this,e)}onError(e){this.errorHandler=e}terminate(){if(Hk.has(this)){var e=Hk.get(this),t=tC.get(this);t&&t.useWKWorker?d.postMsgToWorker(e,{__cmd__:"terminate",appid:x.default.accountInfo.appId},void 0,!0):d.terminate(e,!1),Rk.remove(this),Hk.delete(this),Kk.delete(this),eC.delete(this),Jk.delete(this),tC.delete(this),t&&t.useWKWorker?delete Yk[e]:delete Qk[e]}}onProcessKilled(e){Jk.set(this,e)}}(0,Q.jQ)("onWorkerWebViewTerminate",(()=>{Object.keys(Yk).forEach((e=>{var t=Yk[e],r=tC.get(t);if(r&&r.useWKWorker){var a=Jk.get(t);Rk.remove(t),Hk.delete(t),Kk.delete(t),eC.delete(t),Jk.delete(t),tC.delete(t),delete Yk[e],"function"==typeof a&&_.surroundThirdByTryCatch(a,"at Worker.onProcessKilled callback function")(),b.reportIDKey({key:"onWorkerWebViewTerminate"}),f.error("onWorkerWebViewTerminate",e)}}))}));var uC=new tt.Z,dC={};class pC extends Pk.W{constructor({style:e,name:t,x:r=0,y:a=0,width:n=300,height:i=200,devicePosition:o="back",flash:s="auto",size:l="small",autoInsert:c=!0,success:u,fail:d,complete:p}={}){super({style:e,name:t}),this.size=l,dC[this.id]=this;var h=null;this.deferred=[];var f={x:r,y:a,width:n,height:i,devicePosition:o,flash:s};Object.keys(f).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>f[e],set:t=>{f[e]!==t&&(f[e]=t,this.isInserted?(clearTimeout(h),h=setTimeout((()=>this.update()),0)):this.deferred.push({type:"property",property:e,value:t}))}})})),uC.on("onInit",(()=>{var e=this.deferred;this.isInserted=!0,this.deferred=[],e.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}));var g={success:u,fail:d,complete:p};c&&this.insert().then((e=>{this.frameWidth=e.width,this.frameHeight=e.height,(0,Q.FE)({name:"createCamera",args:g})})).catch((e=>{e.errMsg&&(e.errMsg=e.errMsg.replace("insertCamera:fail","")),103===e.errno&&uC.emit("onAuthCancel"),(0,Q.FE)({name:"createCamera",args:g,success:!1,errno:e.errno,errMsg:e.errMsg})}))}insert(){if(!this.isInserted)return new Promise(((e,t)=>{li("createCamera").then((({success:r,errMsg:a,errno:n})=>{r?(0,Q.IN)("insertCamera",Object.assign(this.toNativeData(),{success:e,fail:t})):t({errMsg:"createCamera:fail "+a,errno:n})})).catch((r=>{(0,Q.IN)("insertCamera",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}))}update(){return new Promise(((e,t)=>{(0,Q.IN)("updateCamera",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}operate(e,t={}){return this.isInserted?new Promise(((r,a)=>{(0,Q.IN)("operateCamera",Object.assign(t,{cameraId:this.id,type:e,fail:a,success:t=>{if(r(t),"listenFrameChange"===e){var a=(0,Hf.t)();if(!a)throw new Error("device not supported");t.data=a.get(t.bufferId),t.data.__proto__=ArrayBuffer.prototype,this._frame=t}}}))})):(this.deferred.push({type:"method",method:e,args:t}),Promise.resolve({}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={cameraId:this.id,position:e,devicePosition:this.devicePosition,flash:this.flash,size:this.size};return this.autoInsert||(t.parentId=this.parentId),t}takePhoto(e="normal"){return this.operate("takePhoto",{quality:e})}startRecord(){return this.operate("startRecord")}stopRecord(e=!1){return this.operate("stopRecord",{compressed:e})}onAuthCancel(e){uC.on("onAuthCancel",e)}onStop(e){uC.on("onStop",e)}onCameraFrame(e){"function"==typeof e&&uC.on("onCameraFrame",(()=>{this._frame&&e({data:this._frame.data,width:this._frame.width,height:this._frame.height})}))}listenFrameChange(e){var t=e?(e=>{if(e._id>=0&&Yk[e._id])return e._id})(e):void 0,r={size:this.size};return void 0!==t&&(0,Qe.J)("listenFrameChangeInWorker")?(r.workerId=t,this.operate("listenFrameChange",r)):this.operate("listenFrameChange",r)}closeFrameChange(){return this._frame=null,this.operate("closeFrameChange")}destroy(){return new Promise(((e,t)=>{delete dC[this.id],uC.removeAllListeners("onInit"),uC.removeAllListeners("onAuthCancel"),uC.removeAllListeners("onStop"),uC.removeAllListeners("onCameraFrame"),(0,Q.IN)("removeCamera",{cameraId:this.id,success:e,fail:t})}))}}(0,je.n)("onCameraInitDone",(()=>uC.emit("onInit"))),(0,je.n)("onCameraNeedAuthCancel",(()=>uC.emit("onAuthCancel"))),(0,je.n)("onCameraStop",(()=>uC.emit("onStop"))),(0,je.n)("onCameraFrame",(()=>uC.emit("onCameraFrame")));var hC=e=>new pC(e),fC={},gC=new Dm.Q("LivePlayer",!0);class vC extends Pk.W{constructor({style:e,name:t,x:r=0,y:a=0,width:n=300,height:i=200,src:o,mode:s="live",autoplay:l=!1,muted:c=!1,orientation:u="vertical",objectFit:d="contain",minCache:p=1,maxCache:h=3,soundMode:f="speaker",autoPauseIfOpenNative:g=!0,autoInsert:v=!0,success:m,fail:y,complete:_}={}){super({style:e,name:t}),fC[this.id]=this;var b=null;this.deferred=[];var w={x:r,y:a,width:n,height:i,src:o,mode:s,autoplay:l,muted:c,orientation:u,objectFit:d,minCache:p,maxCache:h,soundMode:f,autoPauseIfOpenNative:g};Object.keys(w).forEach((e=>{Object.defineProperty(this,e,{enumerable:!0,get:()=>w[e],set:t=>{w[e]!==t&&(w[e]=t,this.isInserted?(clearTimeout(b),b=setTimeout((()=>this.update()),0)):this.deferred.push({type:"property",property:e,value:t}))}})}));var I={success:m,fail:y,complete:_};v&&this.insert().then((()=>{var e=this.deferred;this.isInserted=!0,this.deferred=[],e.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)})),(0,Q.FE)({name:"createLivePlayer",args:I})})).catch((({errMsg:e})=>{var t=(e||"").replace(/^\w+:fail\s*/,"");(0,Q.YG)("createLivePlayer",I,t)}))}insert(){if(!this.isInserted)return new Promise(((e,t)=>{(0,Q.IN)("insertLivePlayer",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}update(){return new Promise(((e,t)=>{(0,Q.IN)("updateLivePlayer",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}operate(e,t=[]){return this.isInserted?new Promise(((r,a)=>{(0,Q.IN)("operateLivePlayer",{livePlayerId:this.id,type:e,data:t,quality:t.quality,fail:a,success:r})})):(this.deferred.push({type:"method",method:e,args:t}),Promise.resolve({}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={livePlayerId:this.id,position:e,playUrl:this.src,mode:"live"===this.mode?1:2,autoplay:this.autoplay,muted:this.muted,orientation:this.orientation,objectFit:this.objectFit,minCache:this.minCache,maxCache:this.maxCache,soundMode:this.soundMode,autoPauseIfOpenNative:this.autoPauseIfOpenNative,needEvent:!0,needNetStatus:!0,needAudioVolume:!0};return this.autoInsert||(t.parentId=this.parentId),t}play(){return this.operate("play")}stop(){return this.operate("stop")}pause(){return this.operate("pause")}resume(){return this.operate("resume")}mute(){return this.operate("mute")}requestFullScreen(e=0){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}snapshot(e="raw"){return this.operate("snapshot",{quality:e})}destroy(){return new Promise(((e,t)=>{delete fC[this.id],gC.off(`state-${this.id}`),gC.off(`fs-${this.id}`),gC.off(`net-${this.id}`),gC.off(`audio-${this.id}`),(0,Q.IN)("removeLivePlayer",{livePlayerId:this.id,success:e,fail:t})}))}onStateChange(e){gC.on(`state-${this.id}`,e)}offStateChange(e){gC.off(`state-${this.id}`,e)}onFullScreenChange(e){gC.on(`fs-${this.id}`,e)}offFullScreenChange(e){gC.off(`fs-${this.id}`,e)}onNetStatus(e){gC.on(`net-${this.id}`,e)}offNetStatus(e){gC.off(`net-${this.id}`,e)}onAudioVolumeNotify(e){gC.on(`audio-${this.id}`,e)}offAudioVolumeNotify(e){gC.off(`audio-${this.id}`,e)}}var mC=(e,t)=>(0,je.n)(e,(e=>t(e||{})));mC("onLivePlayerEvent",(({livePlayerId:e,errCode:t,errMsg:r})=>{gC.emit(`state-${e}`,{code:t,message:r})})),mC("onLivePlayerFullScreenChange",(({livePlayerId:e,fullScreen:t,direction:r})=>{gC.emit(`fs-${e}`,{fullScreen:t,direction:r})})),mC("onLivePlayerNetStatus",(({livePlayerId:e,info:t})=>{t&&gC.emit(`net-${e}`,{videoBitrate:t.VIDEO_BITRATE,audioBitrate:t.AUDIO_BITRATE,videoFPS:t.VIDEO_FPS,videoGOP:t.VIDEO_GOP,netSpeed:t.NET_SPEED,netQualityLevel:t.NET_QUALITY_LEVEL,netJitter:t.NET_JITTER,videoWidth:t.VIDEO_WIDTH,videoHeight:t.VIDEO_HEIGHT})})),mC("onLivePlayerAudioVolume",(({livePlayerId:e,volume:t})=>{gC.emit(`audio-${e}`,{volume:t})}));var yC=e=>new vC(e),_C=(0,ua.Fr)(Ni(void 0,!0)),bC={},wC=new Dm.Q("LivePusher",!0);function IC(e){switch(e){case"SD":return 1;case"HD":return 2;case"FHD":return 3;default:return 6}}class SC extends Pk.W{constructor({style:e,name:t,x:r=0,y:a=0,width:n=300,height:i=200,url:o,mode:s="RTC",autopush:l=!1,muted:c=!1,enableCamera:u=!0,autoFocus:d=!0,orientation:p="vertical",beauty:h=0,whiteness:f=0,aspect:g="9:16",minBitrate:v=200,maxBitrate:m=1e3,audioQuality:y="high",waitingImage:_,waitingImageHash:b,zoom:w=!1,devicePosition:I="front",remoteMirror:S=!1,localMirror:k="auto",audioReverbType:C=0,enableMic:T=!0,enableAgc:P=!1,enableAns:A=!1,audioVolumeType:E="voicecall",videoWidth:M=360,videoHeight:x=640,autoInsert:D=!0,success:R,fail:L,complete:N}={}){super({style:e,name:t}),bC[this.id]=this;var O=null;this.deferred=[];var B={x:r,y:a,width:n,height:i,url:o,mode:s,autopush:l,muted:c,enableCamera:u,autoFocus:d,orientation:p,beauty:h,whiteness:f,aspect:g,minBitrate:v,maxBitrate:m,audioQuality:y,waitingImage:_,waitingImageHash:b,zoom:w,devicePosition:I,remoteMirror:S,localMirror:k,audioReverbType:C,enableMic:T,enableAgc:P,enableAns:A,audioVolumeType:E,videoWidth:M,videoHeight:x};Object.keys(B).forEach((e=>{Object.defineProperty(this,e,{enumerable:!0,get:()=>B[e],set:t=>{if(B[e]!==t){if(B[e]=t,!this.isInserted)return this.deferred.push({type:"property",property:e,value:t}),t;clearTimeout(O),O=setTimeout((()=>this.update()),0)}}})}));var j={success:R,fail:L,complete:N};D&&this.insert().then((()=>{var e=this.deferred;this.isInserted=!0,this.deferred=[],e.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)})),(0,Q.FE)({name:"createLivePusher",args:j})})).catch((({errMsg:e,errno:t})=>{var r=(e||"").replace(/^\w+:fail\s*/,"");(0,Q.FE)({name:"createLivePusher",args:j,errno:t,errMsg:r,success:!1})}))}insert(){if(!this.isInserted)return li("LivePusherContext.start").catch((e=>({success:!0}))).then((({success:e,errMsg:t,errno:r})=>e?_C({scope:"scope.record"}).then((()=>_C({scope:"scope.camera"}).then((()=>new Promise(((e,t)=>{(0,Q.IN)("insertLivePusher",Object.assign(this.toNativeData(),{success:e,fail:t}))}))),(()=>Promise.reject({errMsg:"scope.camera authorize is reject",errno:sn.Nac})))),(()=>Promise.reject({errMsg:"scope.record authorize is reject",errno:sn.Nac}))):Promise.reject({errno:r,errMsg:t})))}update(){return new Promise(((e,t)=>{(0,Q.IN)("updateLivePusher",Object.assign(this.toNativeData(),{success:e,fail:t}))}))}operate(e,t={}){return this.isInserted?new Promise(((r,a)=>{(0,Q.IN)("operateLivePusher",{livePusherId:this.id,type:e,url:t.url,volume:t.volume,quality:t.quality,fail:a,success:r})})):(this.deferred.push({type:"method",method:e,args:t}),Promise.resolve({}))}toNativeData(){var e,t=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},r={livePusherId:this.id,position:t,pushUrl:this.url,mode:IC(this.mode),autopush:this.autopush,muted:this.muted,enableCamera:this.enableCamera,focusMode:this.autoFocus?0:1,orientation:this.orientation,beauty:this.beauty,whiteness:this.whiteness,aspect:(e=this.aspect,"3:14"===e?1:2),minBitrate:this.minBitrate,maxBitrate:this.maxBitrate,backgroundImage:this.waitingImage,backgroundMD5:this.waitingImageHash,zoom:this.zoom,devicePosition:this.devicePosition,remoteMirror:this.remoteMirror,localMirror:this.localMirror,enableMic:this.enableMic,enableAGC:this.enableAgc,enableANS:this.enableAns,audioVolumeType:this.audioVolumeType,audioReverbType:this.audioReverbType,videoWidth:this.videoWidth,videoHeight:this.videoHeight,needEvent:!0,needNetStatus:!0};return this.autoInsert||(r.parentId=this.parentId),r}start(){return this.operate("start")}stop(){return this.operate("stop")}pause(){return console.log("暂停推流"),this.operate("pause")}resume(){return this.operate("resume")}playBGM(e){return this.operate("playBGM",{url:e})}stopBGM(){return this.operate("stopBGM")}pauseBGM(){return this.operate("pauseBGM")}resumeBGM(){return this.operate("resumeBGM")}setBGMVolume(e=1){return this.operate("setBGMVolume",{volume:e})}setMICVolume(e=1){return this.operate("setMICVolume",{volume:e})}startPreview(){return this.operate("startPreview")}stopPreview(){return this.operate("stopPreview")}snapshot(e){return this.operate("snapshot",{quality:e})}switchCamera(){return this.operate("switchCamera")}toggleTorch(){return this.operate("toggleTorch")}destroy(){return new Promise(((e,t)=>{delete bC[this.id],wC.off(`state-${this.id}`),wC.off(`net-${this.id}`),wC.off(`start-${this.id}`),wC.off(`progress-${this.id}`),wC.off(`complete-${this.id}`),wC.off(`error-${this.id}`),(0,Q.IN)("removeLivePusher",{livePusherId:this.id,success:e,fail:t})}))}onStateChange(e){wC.on(`state-${this.id}`,e)}offStateChange(e){wC.off(`state-${this.id}`,e)}onNetStatus(e){wC.on(`net-${this.id}`,e)}offNetStatus(e){wC.off(`net-${this.id}`,e)}onBGMStart(e){wC.on(`start-${this.id}`,e)}offBGMStart(e){wC.off(`start-${this.id}`,e)}onBGMProgress(e){wC.on(`progress-${this.id}`,e)}offBGMProgress(e){wC.off(`progress-${this.id}`,e)}onBGMComplete(e){wC.on(`complete-${this.id}`,e)}offBGMComplete(e){wC.off(`complete-${this.id}`,e)}onError(e){wC.on(`error-${this.id}`,e)}offError(e){wC.off(`error-${this.id}`,e)}}var kC=(e,t)=>(0,je.n)(e,(e=>t(e||{})));kC("onLivePusherEvent",(({livePusherId:e,errCode:t,errMsg:r})=>{wC.emit(`state-${e}`,{code:t,message:r})})),kC("onLivePusherNetStatus",(({livePusherId:e,info:t})=>{t&&wC.emit(`net-${e}`,{videoBitrate:t.VIDEO_BITRATE,audioBitrate:t.AUDIO_BITRATE,videoFPS:t.VIDEO_FPS,videoGOP:t.VIDEO_GOP,netSpeed:t.NET_SPEED,netQualityLevel:t.NET_QUALITY_LEVEL,netJitter:t.NET_JITTER,videoWidth:t.VIDEO_WIDTH,videoHeight:t.VIDEO_HEIGHT})})),kC("onLivePusherBGMStart",(({livePusherId:e})=>{wC.emit(`start-${e}`)})),kC("onLivePusherBGMProgress",(({livePusherId:e,progress:t,duration:r})=>{wC.emit(`progress-${e}`,{progress:t,duration:r})})),kC("onLivePusherBGMComplete",(({livePusherId:e,errCode:t})=>{wC.emit(`complete-${e}`,{errCode:t})})),kC("onLivePusherError",(({livePusherId:e,errCode:t,errMsg:r,data:a})=>{wC.emit(`error-${e}`,{errCode:t,errMsg:r,data:a})}));var CC,TC=e=>new SC(e),PC=(e=>{var t;return()=>(t||(t=e()),t)})((()=>y.getGameOpenDataContext())),AC=JSON.stringify,EC=(e,t=!1)=>{OC(t);try{PC().postMessage({data:AC(e)})}catch(e){throw new Xe.iZ(e.message)}},MC=e=>{EC(e)},xC=(e,t=!1)=>{OC(t),PC().onMessage(e)},DC=e=>{xC(e)},RC=!1,LC=()=>{var e=z.gm?x.default.appConfig.subContext:x.default.subContext;return e&&"string"==typeof e},NC=void 0,OC=e=>{!RC&&LC()&&(NC=pb(e),y.createGameOpenDataContext(),RC=!0)},BC=({sharedCanvasMode:e="offscreenCanvas"}={})=>{if(CC)return CC;LC()||console.warn("getOpenDataContext:fail no openDataContext target file");var t="screenCanvas"===e;return CC={postMessage(e){EC(e,t)},onMessage(e){xC(e,t)},get canvas(){return(e=>(OC(e),NC))(t)}},CC},jC=e=>{"dark"===e.style||"light"===e.style?(0,Q.IN)("setMenuStyle",e):(0,Q.YG)("setMenuStyle",e,`invalid style "${e.style}"`)},FC=(e={})=>{(0,Q.YG)("createUserGameData",e,"createUserGameData 接口已废弃")},WC=(e={})=>{(0,Q.YG)("updateUserGameData",e,"updateUserGameData 接口已废弃")},UC={};[[Mm,"getUserInfo"],[uv,"getUserCloudStorage"],[pv,"getFriendCloudStorage"],[fv,"getGroupCloudStorage"],[mv,"getGroupInfo"],[gv,"getPotentialFriendList"],[xm,"getUserCloudStorageKeys"]].forEach((([e,t])=>{UC[t]=r=>{var a;li(a="getUserInfo"===t?"openDataContext.getUserInfo":t).then((({success:t,errMsg:n,errno:i})=>{t?e(r):(0,Q.FE)({name:a,args:r,errno:i,errMsg:n,success:!1})})).catch((t=>{e(r)}))}}));var GC,VC,$C,qC=e=>{(0,Q.r3)("setStatusBarStyle",e,{style:""})&&("white"===e.style||"black"===e.style?(0,Q.IN)("setStatusBarStyle",Object.assign({},e,{color:e.style})):(0,Q.YG)("setStatusBarStyle",e,`invalid style "${e.style}"`))};try{(z.gm||z.jP)&&(GC=document.createElement.bind(document),VC=document.body.appendChild.bind(document.body),$C=null)}catch(e){}var zC=({fontStyle:e="normal",fontWeight:t="normal",fontSize:r=16,fontFamily:a,text:n=""}={})=>{if(z.gm||z.jP)return $C||(($C=GC("div")).style.opacity=0,VC($C)),$C.style.fontStyle=e,$C.style.fontWeight=t,$C.style.fontSize=r+"px",$C.style.fontFamily=a,$C.innerHTML=n||"ajghl~!",$C.clientHeight;var i=`${e} ${t} ${r}px ${a}`;return q.Z.getTextLineHeight(i,n)},HC=e=>{var t=Be.Z.get(e.shareTicket);t&&t.shareKey?bv(Object.assign({},e,{shareKey:t.shareKey})):(0,Q.YG)("getGroupMsgTicket",e,"invalid shareTicket")},KC=(e={})=>{(0,Q.IN)("bindGroup",e)},JC=(e={})=>{z.cj?(0,Q.yD)({apiName:"wxaapi_wxajoinchatroom",reqData:{groupid:e.groupId,nonce_str:e.nonceStr,signature:e.signature},success(e){var t=e.data;(0,Q.IN)("private_openUrl",{url:t.join_chatroom_url,isNativeStyle:!0})},fail({errMsg:e}){(0,Ze.showToast)({title:e.replace(/^\w+:fail\s+/,""),icon:"none"})},complete(){(0,Q.FE)({name:"joinGroup",args:e})}}):(0,Q.IN)("joinGroup",e)},QC=1;x.default.onReady((()=>{try{"number"==typeof x.default.wxAppInfo.maxWorkerConcurrent&&(QC=x.default.wxAppInfo.maxWorkerConcurrent)}catch(e){}}));var YC=function(e,t={}){var{useExperimentalWorker:r}=t,a={workerUrl:e,appid:x.default.accountInfo.appId,useExperimentalWorker:r&&(0,Qe.J)("WeAppWorker")},n="workers.js",i=Mk,o=(0,St.hI)(this);if(o&&(n=(0,Xe.RP)(o,"workers.js"),i=xk,a.pluginId=o),Rk.getSizeByType(i)>=QC)throw new Error("createWorker: exceed max concurrent workers limit.");var s=n;r||(n=zk()&&!z.DD?void 0:n);var{workerId:l,useWKWorker:c}=d.create(n,a);if(setTimeout((()=>{b.reportIDKey({key:c?"createWKWorker":"createNormalWorker"})}),0),l>0)return new cC(l,e,{useWKWorker:c,contextType:i,pluginId:a.pluginId,injectFilePath:s});throw-1===l?new Error(`createWorker: Worker "${e}" does not exists.`):new Error("createWorker: unknown error.")},ZC=1,XC=60,eT=300,tT=864e5,rT=null,aT=null,nT=null,iT=new Promise((e=>{nT=e}));x.default.onReady((()=>{aT=x.default,rT=(0,un.getStableSystemInfo)(),nT()}));var oT,sT=e=>{aT?e():iT.then(e)},lT={enabled:!0,sampleRate:ZC,batchTime:eT,legacyReportEnabled:!0,bufferCapacity:1e3,userUin:0},cT=!1;function uT(e,t){if(0===t)return!1;var r=Math.ceil(1/t);return e%r===parseInt(Date.now()/tT,10)%r}function dT(){var e=void 0!==nr.hr?nr.hr.getCurrentPagesByDomain(""):[],t=rT&&rT.brand,r=rT&&rT.model,a=rT&&rT.platform,n=rT&&rT.system,i=aT&&aT.appLaunchInfo&&aT.appLaunchInfo.scene,o=aT&&x.default.envVersion,s=rT&&rT.version,l=rT&&rT.SDKVersion,c=e.length>0&&e[e.length-1].__route__||"";return{platform:a,system:n,path:c=function(e){if(!e)return"";var t=e.indexOf("?");return t>-1?e.substring(0,t):e}(c),scene:i,brand:t,model:r,networkType:(0,rr._getCurrentNetworkType)(),envType:o,clientVersion:s,sdkVersion:l}}function pT(e,t,r=[],a){var n=Object.create(null);n.key=e,n.value=t;var i=dT(),o="";a?(o=a.pluginId,i.pluginCustomVersion=a.customVersion,i.path=nr.P3.convertRouteToComponentAlias(i.path),i.path.indexOf("plugin")<0&&(i.path="")):o=aT.accountInfo&&aT.accountInfo.appId,function({appId:e,metrics:t={},dimensions:r=[]}={}){var a="";r.length>0&&(a="_"+r.join("_"));var n=dT(),i=`${t.key}_${n.networkType}_${n.scene}${a}`;if(Object.keys(hT).length>lT.bufferCapacity)return;hT[i]||(hT[i]={appId:e,key:t.key,valueSum:0,count:0,baseInfo:n,dimensions:r});var o=hT[i];o&&(o.valueSum+=t.value,o.count++)}({appId:o,metrics:n,dimensions:r}),oT&&oT.then((()=>{"release"===x.default.envVersion&&lT.sampleRate!==ZC&&lT.userUin&&!uT(lT.userUin,lT.sampleRate)||lT.enabled&&lT.legacyReportEnabled&&_T({appId:o,metrics:n,baseInfo:i,interfaces:"log_20000_userdefine",busid:"b_wxg_wxa_miniprogram_performance"})}))}var hT={};function fT(){var e=Object.keys(hT);if(!(e.length<=0)&&lT.enabled&&("release"!==x.default.envVersion||lT.sampleRate===ZC||!lT.userUin||uT(lT.userUin,lT.sampleRate))){var t="develop"===x.default.envVersion||"trial"===x.default.envVersion;for(var r of e){var a=hT[r],n={key:a.key,value:a.valueSum/a.count,num:a.count},i=a.baseInfo,o=a.dimensions;t?o.length>0?bT({appId:a.appId,metrics:n,baseInfo:i,interfaces:"log_20004",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):bT({appId:a.appId,metrics:n,baseInfo:i,interfaces:"log_20002",busid:"b_wxg_wxa_miniprogram_performance"}):o.length>0?_T({appId:a.appId,metrics:n,baseInfo:i,interfaces:"log_20003",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):_T({appId:a.appId,metrics:n,baseInfo:i,interfaces:"log_20001",busid:"b_wxg_wxa_miniprogram_performance"}),delete hT[r],b.reportKeyValue({key:"PerfReport",value:[a.appId,i.platform,i.scene,i.brand,i.model,i.networkType,i.envType,n.key,n.value,n.num,parseInt(Date.now()/1e3,10)].join(",")})}}}var gT=null;function vT(){var e="develop"===x.default.envVersion||"trial"===x.default.envVersion?XC:lT.batchTime;gT&&clearInterval(gT),gT=setInterval(fT,1e3*e)}var mT=!1;function yT(){mT=!0,sT((()=>{setTimeout(fT,3e4),vT(),(0,al.J)((()=>{fT()})),(0,ll.T)((()=>{vT()}))}))}function _T({appId:e,metrics:t={},baseInfo:r={},interfaces:a="",busid:n="",dimensions:i}={}){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:i,time:parseInt(Date.now()/1e3,10)}),s=JSON.stringify({interface:a,busid:n,data:o});kg(1002,s,!0)}function bT({appId:e,metrics:t={},baseInfo:r={},interfaces:a="",busid:n="",dimensions:i}={}){if(lT.enabled){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:i,time:parseInt(Date.now()/1e3,10)});(0,Q.Qh)({sdkApiName:"UploadByApi",apiName:"UploadByApi",reqData:{interface:a,busid:n,data:o}}).catch((()=>{}))}}var wT=0,IT=4294967295;function ST(e,t,r,a){lT.enabled&&(e||"number"==typeof e||console.warn("[reportPerformance] id can not be empty"),t||"number"==typeof t||console.warn("[reportPerformance] value can not be empty"),e=parseFloat(e),t=parseFloat(t),(Number.isNaN(e)||"number"!=typeof e)&&console.warn("[reportPerformance] id should always be type of Number"),e>=wT&&e<=IT||console.warn("[reportPerformance] id is out of range, will probably cause report failure"),(Number.isNaN(t)||"number"!=typeof t)&&console.warn("[reportPerformance] id should always be type of Number"),t>=wT&&t<=IT?(void 0===r||Array.isArray(r)||(r=[String(r)]),Array.isArray(r)&&(r.length>2&&console.warn("[reportPerformance] expected dimensions length to be less than or equals to 2, but got",r.length),0===(r=r.slice(0,2)).length&&(r[0]="",r[1]=""),1===r.length&&(r[1]=""),r=r.map((e=>e?String(e):"")).map((e=>e.substring(0,256)))),r&&Array.isArray(r)||(r=[]),cT||(cT=!0,oT=Ag().then((e=>{var t=e.data;if(t){var r=t.PerformaceGlobalConf,a=t.PerformacePersonalConf;r&&(void 0!==r.PerformanceOldReportOff&&(lT.legacyReportEnabled=!(1===r.PerformanceOldReportOff)),void 0!==r.PerformanceReportMaxNum&&(lT.bufferCapacity=parseInt(r.PerformanceReportMaxNum,10)),void 0!==r.PerformanceMiniprogramlibGatherTime&&(lT.batchTime=60*parseInt(r.PerformanceMiniprogramlibGatherTime,10))),a&&(void 0!==a.PerformanceMiniprogramlibOff&&(lT.enabled=!(1===a.PerformanceMiniprogramlibOff)),void 0!==a.PerformanceMiniprogramlibGatherTime&&(lT.batchTime=60*parseInt(a.PerformanceMiniprogramlibGatherTime,10)),void 0!==a.PerformanceMiniprogramlibSamplingRatio&&(lT.sampleRate=parseInt(a.PerformanceMiniprogramlibSamplingRatio,10)/100)),lT.userUin=t.UserUin,lT.batchTime!==eT&&vT()}})).catch((e=>{}))),mT||yT(),sT((()=>{"release"===x.default.envVersion&&lT.sampleRate!==ZC&&lT.userUin&&!uT(lT.userUin,lT.sampleRate)||pT(e,t,r,a)}))):console.warn("[reportPerformance] value should be in range of",wT," to",IT))}function kT(e,t,r){ST(e,t,r)}var CT=p(1821),TT=(e={})=>{var t=e.type;if(1===t)(0,Q.IN)("testApiCallTime",e);else if(2===t)(0,CT.L)("testWebviewApiCallTime",e,void 0,(t=>{(0,Q.F0)(t,"testApiCallTime",e,{})}));else{if(3!==t)return{directInvokeJs:x.default.directInvokeJs};(0,CT.L)("testApiCallTime",e,void 0,(t=>{(0,Q.F0)(t,"testApiCallTime",e,{})}))}};function PT(e={}){console.warn("wx.initFaceDetect 即将废弃，请使用 wx.createVKSession"),(0,Q.IN)("faceProcessInit",e,{beforeFail:e=>{var t=MT(e.errCode),r=xT(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"initFaceDetect:$2")}})}function AT(e={}){console.warn("wx.faceDetect 即将废弃，请使用 wx.createVKSession"),(0,Q.IN)("faceDetect",e,{beforeFail(e){var t=MT(e.errCode),r=xT(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"faceDetect:$2")}})}function ET(e={}){console.warn("wx.stopFaceDetect 即将废弃，请使用 wx.createVKSession"),(0,Q.IN)("faceProcessStop",e,{beforeFail:e=>{var t=MT(e.errCode),r=xT(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"stopFaceDetect:$2")}})}function MT(e){switch(e){case 0:return sn.OK;case 1:case 3:return sn.Qyn;case 2:return sn.RGX;case 5:return sn.mUN;case 6:return sn.WV4;case 4:case 7:return sn.I4j}}function xT(e){switch(e){case 1:case 3:return"faceDetect:fail face detection does not initialize";case 2:return"faceDetect:fail face detection has duplicated initialization";case 5:return"faceDetect:fail face not detected or detection failed";case 6:return"faceDetect:fail stop face detection failed";default:return"faceDetect:fail unknown error"}}var DT=(...e)=>q.Z.createSignal?q.Z.createSignal(...e):null,RT=null,LT=e=>{RT=e},NT=()=>{RT=null},OT=(0,ua.Fr)(((e={})=>{var t=["release","develop","trial"],r=(0,Q.TG)("CreateWxaShortLink","webapi_createwxashortlink",(e=>({wxa_appid:e.appid,wxa_path:e.path,page_title:e.title,version:e.version,version_type:t.indexOf(e.envVersion)})),(e=>{e.shortLink=e.short_link,delete e.short_link}));r(e)})),BT=(0,ua.Fr)(((e={})=>{((e={})=>{e.keyPath="WxaAppVersionInfo.AppVersion",(0,Q.IN)("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data)}})})({success(t){(0,Q.FE)({name:"getAppContact",args:e,res:t})},fail(t){((e={})=>{e.keyPath="WxaAppVersionInfo.VersionState",(0,Q.IN)("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data),1===e.data&&(e.data=0)}})})({success(t){(0,Q.FE)({name:"getAppContact",args:e,res:t})},fail(t){(0,Q.FE)({name:"getAppContact",args:e,res:t,success:!1})}})}})})),jT=e=>(0,Ze.showToast)({icon:"none",title:e}),FT=new Map,WT="请检查网络后重试",UT=0;(0,Q.jQ)("onCopyUrl",(e=>{var t;t=e.webviewId,at.emit(`onBeforeCopyUrl_${t}`,t);var r=e.shortLinkEnable||!1,a=Ve.Z.lastRoute,n=Ve.Z.lastOpenType,i=JSON.parse(JSON.stringify(Ve.Z.lastRawQuery||{}));if("appLaunch"!==n&&"autoReLaunch"!==n)try{Object.keys(i).forEach((e=>{i[e]=decodeURIComponent(i[e])}))}catch(e){return void jT(WT)}var o=(0,z.aI)()?r?"":"index.html":`${a}.html`,s=Object.entries(i).map((e=>e.join("="))).join("&");if(r&&"function"==typeof RT)try{s=(RT()||{}).query||""}catch(e){console.warn("[onCopyUrl] error",e)}var l=s?`${o}?${s}`:o;if(r){FT.has(UT)&&FT.set(UT,!1);var c=++UT,u=!1;FT.set(c,!0);var d=e=>{!!FT.get(c)&&(jT(e),e===WT&&(0,Q.IN)("returnCopyUrl",{url:"",shortLinkEnable:r}),FT.set(c,!1))};setTimeout((()=>{u=!0,d(WT)}),1500);var p=x.default.page[`${a}.html`],h=p&&p.window||{},f=x.default.global&&x.default.global.window||{},g=h.navigationBarTitleText||f.navigationBarTitleText||"";BT().then((e=>{var t=e.data;return OT({appid:x.default.accountInfo.appId,envVersion:x.default.envVersion,path:l,title:(0,z.aI)()?"":g,version:t}).then((e=>(console.log("createWxaShortLinkAsync, ",e),!!FT.get(c)&&!u&&((0,Q.IN)("returnCopyUrl",{url:e.shortLink,shortLinkEnable:r,success(){jT("已复制")},fail(){jT(WT)}}),FT.set(c,!1)),null))).catch((e=>{d(WT),console.log("[onCopyUrl]:",e)})),null})).catch((e=>{d(WT),console.log("[onCopyUrl]: ",e)}))}else(0,Q.IN)("returnCopyUrl",{url:l,shortLinkEnable:r,success(){jT("已复制")},fail(){jT(WT)}})}));var GT=(0,Y.s)("WindowStateChange"),VT=GT.onMethod,$T=GT.offMethod;(0,Q.jQ)("onWindowStateChange",(e=>{f.info("onWindowStateChange",e),GT.emit(e)}));var qT=(0,Y.s)("GamepadConnected"),zT=(0,Y.s)("GamepadDisconnected"),HT=qT.onMethod,KT=qT.offMethod,JT=zT.onMethod,QT=zT.offMethod;(0,Q.jQ)("onGamepadConnected",(e=>{f.info("onGamepadConnected",e),qT.emit(e)})),(0,Q.jQ)("onGamepadDisconnected",(e=>{f.info("onGamepadDisconnected",e),zT.emit(e)}));var YT,ZT,XT=(e={})=>{var t=[null,null,null,null];return(0,Q.IN)("getGamepads",{...e,success(e){t=e.gamepads}},{}),t},eP={offer_id:"offerId",currency_type:"currencyType",session_id:"sessionId",session_type:"sessionType",pf:"platform",login_wx_appid:"loginWXAppId",change_wx_openid:"changeWXOpenId",extend:"extend",product_id:"productId",service_code:"serviceCode",service_name:"serviceName",buy_quantity:"buyQuantity",aid:"aid",provide_uin:"provideUin",zoneid:"zoneId",goodstokenurl:"goodsTokenUrl"},tP=["offer_id","currency_type","session_id","session_type","pf","login_wx_appid","change_wx_openid","extend"];function rP(e){var t=[];return"subscribe"===e.mode?t=["product_id","service_code","service_name","buy_quantity","aid","provide_uin"]:"game"===e.mode||"pcGame"===e.mode?t=["buy_quantity","zoneid","provide_uin"]:"goods"===e.mode?t=["buy_quantity","zoneid","goodstokenurl"]:"enterprise"===e.mode&&(t=["zoneid","goodstokenurl"]),[...tP,...t].reduce(((t,r)=>(t[r]=e[eP[r]],"pf"===r&&"windows"===t.pf&&(t.pf="android",t.pf_header="wxgame_windows-2001"),t)),{})}var aP=!1;function nP(e){var t=[(0,pi.k)(),(0,pi.n)(),e];b.reportQualityData2("ExitDramaEdu",t)}(0,Q.Ld)("hoverMenuButton",((e,t)=>{YT||ZT||__sclEngine__.initScl((({mainRoot:t})=>{(YT=t.append("menuButton",{})).addListener("handleTap",(()=>{nP(1),(ZT=t.append("shortTVHalfScreen",{dramaName:e.dramaName,dramaCoverUrl:e.dramaCoverUrl})).addListener("exit",(()=>{nP(3),t.remove(YT),t.remove(ZT),YT=null,ZT=null,sP({fail(){(0,Q.be)("navigateBackNative",{permissionBytes:[1,1,1]})}})})),ZT.addListener("navigate",(()=>{nP(2),t.remove(YT),t.remove(ZT),YT=null,ZT=null;aP=!0,K_({appId:"wxb6d22f922f37b35a",path:"pages/index/index?from_drama_weapp=1",__noCheckBeforeNavigateToMiniProgram:!0})}))}))}))}));var iP=!1,oP=[1037,1227,1263];x.default.onReady((()=>{var e,t=null===(e=x.default.appLaunchInfo)||void 0===e?void 0:e.scene;iP=iP||oP.includes(t)})),(0,ll.T)((e=>{iP=iP||oP.includes(e.scene),1038===e.scene&&"wxb6d22f922f37b35a"===e.referrerInfo.appId&&aP&&sP({fail(){(0,Q.be)("navigateBackNative",{permissionBytes:[1,1,1]})}})}));var sP=(e={})=>{iP?(0,Q.IN)("navigateBackMiniProgram",e,{}):(0,Q.YG)("navigateBackMiniProgram",e,"not MiniProgram can navigate back.")},lP=p(8314),cP=f.createLogger("common reportUserBehavior"),uP=(0,Ta.t)(),dP=(0,ua.Fr)(Ze._showModal),pP=(0,ua.Fr)(uP.readFile),hP=(0,ua.Fr)(uP.writeFile),fP="wxfile://ad/verifystate.json",gP=lP.Y,vP=null;function mP(){return mP=_e()((function*(e){try{if(vP=e,Cr.BlockFuncBits=(null==e?void 0:e.blockFuncBits)||0,function(e={}){if(!(x.default.clientVersion<402666272)&&0!==Object.keys(e).length&&z.cj){var t={rewriteCtrl:e};(0,Q.be)("rewriteQRCodeIdentifyCtrl",Object.assign(t,{success:e=>{},fail:e=>{f.error("rewriteQRCodeIdentifyCtrl fail",e)}}))}}(null==e?void 0:e.qrCodeCtrl),cP.log("set verifydata",JSON.stringify(vP)),z.gm)return;z.DD||z.wZ||z.Ae?yield(0,Q.bb)("setGlobalStorage",{key:gP,data:JSON.stringify(e)}):z.cj&&(yield hP({filePath:fP,data:JSON.stringify(e),encoding:"utf8"}))}catch(e){cP.log("set cache fail",e.message)}})),mP.apply(this,arguments)}function yP(){return _P.apply(this,arguments)}function _P(){return _P=_e()((function*(){try{if(z.gm)return;if(z.DD||z.wZ||z.Ae){var{data:e}=yield(0,Q.bb)("getGlobalStorage",{key:gP});cP.log("get verifydata",e),vP=JSON.parse(e)}else if(z.cj){var{data:t}=yield pP({filePath:fP,encoding:"utf8"});cP.log("get verifydata",t),vP=JSON.parse(t)}}catch(e){cP.log("get cache fail",e.message,e)}})),_P.apply(this,arguments)}var bP=!1,wP=0,IP=0,SP=new Dm.Q("Verify",!0);function kP(e=!0){e&&(vP=null)}var CP=null;function TP(e){if(vP){var t=null;"function"==typeof e?t=e:CP=e;var{url:r,weapp:a}=vP.urlInfo||{};a?L_({appId:a.appid,path:a.path,extraData:a.extraData,success:t}):r&&(0,f_.n)({url:r,isNativeStyle:!0,success:t}),kP()}}function PP(){return!1}function AP({UIArea:e,PositionID:t,ActionID:r,Status:a,ExpID:n="",ContentType:i=0,ContentID:o=0,ExternInfo:s,SourceID:l=wP}){b.reportKeyValue({key:"GameAdsSkipCard",value:[(0,rr._getCurrentNetworkType)(),x.default.appLaunchInfo.scene,0,15,e,t,r,"",0,/landscape/.test(x.default.deviceOrientation)?2:1,a,l,"",n,0,"",IP,0,"",i,o,0,s?encodeURIComponent(JSON.stringify(s)):""].join(",")}),2===r&&(wP=e)}var EP,MP=0,xP="",DP="",RP={},LP=!1,NP=0,OP=null,BP=!1,jP=null,FP=0,WP=3e5,UP=null,GP={isSupportWebview:!z.Ae,isSupportOnLoad:!1,loaded:!1},VP={UI_STATE_NONE:0,UI_STATE_BLOCK_BY_WEBVIEW:1,UI_STATE_BLOCK_BY_MODAL_DIALOG:2};function $P(e,t,{coldBoot:r=!1}={}){var{appType:a,deviceOrientation:n}=x.default;FP=Date.now();var i={onShow:1,heartbeat:2,onHide:3,retryLogin:4};return bP?yP().then(o).then(s).catch((e=>{cP.error("report fail",e)})):YP.then(yP).then(o).then(s).catch((e=>{cP.error("report fail",e)}));function o(){var n={version:9,callbackData:EP,type:i[e],duration:t/1e3,scene_note:DP,scene:MP,realnameInfo:void 0,referrerInfo:{appId:xP,extraData:RP},appServiceType:a,isColdStart:r,uiState:jP?VP.UI_STATE_BLOCK_BY_WEBVIEW:LP?VP.UI_STATE_BLOCK_BY_MODAL_DIALOG:VP.UI_STATE_NONE};return(r&&(0,xo._F)()?new Promise(((e,t)=>{(0,xo.CP)({id:xo.GY.reportUserBehavior,success:t=>{e(t)},fail:e=>{t(e)}})})):(0,Q.Qh)({sdkApiName:"reportUserBehavior",apiName:"jsapi_reportuserbehav",reqData:n})).catch((e=>{var t;if(1!==(null===(t=vP)||void 0===t?void 0:t.action))return{data:{action:3,alertMsg:"网络已断开，请检查网络状态后重试"}};throw e}))}function s(e){var t=e.data;!function(e){mP.apply(this,arguments)}(t);var{action:r,alertMsg:a,heartbeatInterval:i,realnameResult:o}=t;if(EP=t.callbackData,i!==WP&&i>=1e4&&(WP=i,HP()),o){var l,{code:c,certRemainTimes:u}=o;0===c?kP():AP({ExpID:null==t||null===(l=t.urlInfo)||void 0===l?void 0:l.expId,UIArea:1508,PositionID:4,ActionID:4,Status:1,ExternInfo:{number:u}})}else{var d;switch(d=1===r,(0,Q.FE)({args:CP,name:"getRealNameVerifyMethod",success:d}),CP=null,GP.isSupportOnLoad=z.wZ||z.cj,r){case 2:setTimeout((()=>{AP({UIArea:1518,PositionID:0,ActionID:1}),dP({title:"提示",content:a,showCancel:!1}).then((()=>{AP({UIArea:1518,PositionID:1,ActionID:2})}))}),/landscape/.test(n)?500:0);break;case 3:var{inlineUrl:p,needAdapterZk:h,expId:f}=t.urlInfo||{};if(p&&GP.isSupportWebview&&GP.isSupportOnLoad){zP({url:p,ExpId:f,DeviceModel:UP.model,DeviceBrand:UP.brand,OsName:UP.platform,needAdapterZk:h,action:3}).catch((()=>{s(e)}));break}if(LP)break;LP=!0;var g=setTimeout(fg,15e3);AP({UIArea:1517,PositionID:0,ActionID:1}),dP({title:"提示",content:a,showCancel:!1}).then((()=>{clearTimeout(g),LP=!1,AP({UIArea:1517,PositionID:1,ActionID:2}),fg()}));break;case 4:var{url:v,name:m,inlineUrl:y,expId:_}=t.urlInfo||{};if(y&&GP.isSupportWebview){zP({url:y,ExpId:_,DeviceModel:UP.model,DeviceBrand:UP.brand,OsName:UP.platform,action:4}).catch((()=>{s(e)}));break}var b=setTimeout(fg,15e3);!LP&&a&&v&&m&&(LP=!0,AP({ExpID:_,UIArea:1504,PositionID:0,ActionID:1,Status:1,ExternInfo:{url:v}}),(0,Ze._showModal)({title:"提示",content:a,confirmText:m,cancelText:"退出游戏",upper:!0,success(e){clearTimeout(b),e.confirm?(AP({ExpID:_,UIArea:1504,PositionID:1,ActionID:2,Status:1,ExternInfo:{url:v}}),TP((()=>{BP=!0}))):e.cancel&&(AP({ExpID:_,UIArea:1504,PositionID:2,ActionID:2,Status:1,ExternInfo:{url:v}}),fg()),LP=!1},fail(e){cP.error("show modal fail=",e),clearTimeout(b),fg(),LP=!1}}));break;case 5:var w,{name:I}=t.urlInfo||{};AP({ExpID:null==t||null===(w=t.urlInfo)||void 0===w?void 0:w.expId,UIArea:1505,PositionID:0,ActionID:0,Status:1}),setTimeout((()=>{LP||(0,Ze._showModal)({title:"提示",content:a,confirmText:I,cancelText:"继续游戏",upper:!0,success({confirm:e}){var r,a;e&&AP({ExpID:null==t||null===(r=t.urlInfo)||void 0===r?void 0:r.expId,UIArea:1505,PositionID:1,ActionID:2,Status:1}),e||AP({ExpID:null==t||null===(a=t.urlInfo)||void 0===a?void 0:a.expId,UIArea:1505,PositionID:2,ActionID:2,Status:1}),e&&TP((()=>{BP=!0}))},complete(){LP=!1}}),LP=!0}),/landscape/.test(n)?1e3:0)}}}}var qP=()=>z.jP&&"landscape"===x.default.deviceOrientation&&x.default.screenHeight>x.default.screenWidth?{width:x.default.screenHeight,height:x.default.screenWidth}:{width:x.default.screenWidth,height:x.default.screenHeight};function zP({url:e,ExpId:t,DeviceModel:r,DeviceBrand:a,OsName:n,needAdapterZk:i,action:o}){var s,l;if(null!==jP)return Promise.resolve();e=e.replace("#wechat_redirect","");var c={ExpId:t,DeviceModel:r,DeviceBrand:a,OsName:n,appid:x.default.accountInfo.appId,AppServiceType:null!==(s=x.default.appType)&&void 0!==s?s:4,versionType:null!==(l=x.default.versionType)&&void 0!==l?l:0,SDKVersion:x.default.SDKVersion,menuButtonBoundingClientRect:(0,pg.zC)()};ph();var u=qP(),d=i,p=0===e.indexOf("https://jiazhang.qq.com/healthy/");jP=new g_.kh({src:(0,rt.cE)(e,c)+"#wechat_redirect",style:{left:0,top:0,width:u.width,height:u.height},zIndex:2000010,fullscreen:!0,__skipDomainCheck__:!0,isGameWebview:d}),GP.isSupportOnLoad&&(jP.onload=()=>{GP.loaded=!0,d&&jP&&(0,Q.IN)("updateGameHTMLWebView",{htmlId:jP.id,evaluateJavascript:'function addScript() {\n            var childJs = document.createElement("script")\n            childJs.src = "https://game.weixin.qq.com/cgi-bin/minigame/static/minigame_minority/index.js"\n            document.body.appendChild(childJs);\n          }\n          addScript();'}),p&&AP({UIArea:1522,PositionID:0,ActionID:1})});var h,f=()=>{setTimeout((()=>{(0,un.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,UP=e,jP.style={left:0,top:0,width:UP.screenWidth,height:UP.screenHeight}}})}),0)},g=()=>{jP&&(jP.destroy(),jP=null),(0,hn.tR)(f)};return(0,hn.Qq)(f),jP.onmessage=function(e){cP.log("webview onMessage",e),GP.loaded=!0;var{type:t,appId:r,path:a,style:n}=e;"success"===t?(AP({UIArea:1530,PositionID:13,ActionID:3}),g(),hh(),(0,un.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,"portrait"===(UP=e).deviceOrientation&&"landscape"===h&&(0,Q.IN)("setDeviceOrientation",{value:"landscape",success(e){(0,un.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,UP=e}})}})}}),NP=Date.now()-FP,setTimeout((()=>{$P("retryLogin",NP)}),500),jP=null):"exit"===t?(g(),p?(AP({UIArea:1522,PositionID:1,ActionID:2}),setTimeout((()=>{fg()}),200)):(AP({UIArea:1530,PositionID:13,ActionID:4}),fg())):"showModal"===t?dP(e):"openWeapp"===t?L_({appId:r,path:a}):"updateStyle"===t?jP&&(jP.style=n):"setDeviceOrientation"===t?(0,un.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,"landscape"===(UP=e).deviceOrientation&&(h=UP.deviceOrientation,(0,Q.IN)("setDeviceOrientation",{value:"portrait",success(e){(0,un.getSystemInfoAsyncNoCache)({success(e){delete e.errMsg,UP=e,jP&&(jP.style={left:0,top:0,width:UP.screenWidth,height:UP.screenHeight})}})}}))}}):"openUrl"===t&&(p&&0===a.indexOf("https://support.qq.com/product/")?(AP({UIArea:1522,PositionID:2,ActionID:2}),setTimeout((()=>{(0,f_.n)({url:a,isNativeStyle:!0})}),200)):(0,f_.n)({url:a,isNativeStyle:!0}))},new Promise(((t,r)=>{GP.isSupportOnLoad?setTimeout((()=>{GP.loaded?t():(AP({UIArea:1500,PositionID:o,ActionID:4,ExternInfo:{url:e}}),GP.isSupportWebview=!1,g(),r())}),5e3):t()}))}var HP=()=>{null!==OP&&(clearInterval(OP),KP())},KP=()=>{OP=setInterval((()=>{$P("heartbeat",NP=Date.now()-FP)}),WP)},JP=(e,{coldBoot:t=!1}={})=>{T_.resumeLimitTimer(),DP=e.scene_note||"",NP=0,MP=e.scene,e.referrerInfo&&(xP=e.referrerInfo.appId,RP=e.referrerInfo.extraData),KP(),BP?($P("retryLogin",NP),BP=!1):$P("onShow",NP,{coldBoot:t})};x.default.onReady((()=>{if(!z.gm){var e=x.default.appLaunchInfo;UP=(0,un._getSystemInfoSyncFromCache)(!0),JP(e,{coldBoot:!0}),(0,je.n)("onAppEnterForeground",(t=>{JP(e=t)})),(0,je.n)("onAppEnterBackground",(()=>{T_.pauseLimitTimer(),NP=Date.now()-FP,clearInterval(OP),OP=null,$P("onHide",NP)}))}}));var QP=()=>{},YP=new Promise((e=>{QP=e})),ZP=()=>{z.gm||(bP=!0,QP())};function XP(e){SP.on("notify",e)}function eA(e){SP.off("notify",e)}var tA={invokeId:"",sceneId:0,has_coupon:!1,sdkVersion:6,funcType:"",funcId:"",requestId:"",report_data:""},rA=0;function aA({UIArea:e=0,SCeneID:t,PositionID:r=0,ActionID:a,Object:n=0,Status:i,ExpID:o="",ContentType:s=0,ContentID:l=0,ExternInfo:c,reportTime:u=0,SourceID:d=rA}){b.reportKeyValue({key:"GameAdsSkipCard",value:[(0,rr._getCurrentNetworkType)(),x.default.appLaunchInfo.scene,0,t,e,r,a,"",0,n,i,d,"",o,0,"",u,0,"",s,l,0,c?encodeURIComponent(JSON.stringify(c)):""].join(",")}),2===a&&(rA=e)}function nA({subactionID:e,actionStatus:t,invokeId:r,errCode:a,errMsg:n,argsJSON:i,sceneId:o,midasArgsJSON:s="",costTime:l,status:c,time:u,innerCode:d,funcType:p="",funcId:h="",requestPkg:f,responsePkg:g,switch_to_success:v,actionID:m,batchID:y}={}){m=m||184,34===o&&(m=322),(0,rr._getCurrentNetworkType)(),(0,rr._getCurrentSignalStrength)(),tA.sdkVersion,null==g||g.err_code,null==g||g.http_status;var _=[0,3301,o,m,e,t,c,0,"",(0,rr._getCurrentNetworkType)()+"-"+(0,rr._getCurrentSignalStrength)(),0,0,a,l,p,h,encodeURIComponent(JSON.stringify({invoke_id:r,err_code:a,err_msg:n,args:i,midas_args:s,run_time:u,pay_sdk_version:tA.sdkVersion,innercode:d,requestPkg:f,response_err_code:null==g?void 0:g.err_code,response_http_status:null==g?void 0:g.http_status,switch_to_success:v,batch_id:y})),tA.report_data].join(",");b.reportKeyValue({key:"MidasFriendPayment",value:_})}function iA(e){return e&&e.errno?e.errno:void 0!==e.errCode?e.errCode:e.err_code}function oA(e){return void 0!==e.errMsg?e.errMsg:e.message}function sA(e){var t=new Date(1e3*+e);return`${t.getFullYear()}.${t.getMonth()+1}.${t.getDate()}`}function lA(e,t=0){return 0===e?(0).toFixed(t):(e<10?t=Math.max(t,2):e<100&&(t=Math.max(t,1)),(e/100).toFixed(t))}function cA(e,t=0){return(e/100).toFixed(t)}var uA=null,dA=f.createLogger("requestMidasPayment");function pA(e){return null!==uA?Promise.resolve({status:"fail"}):new Promise((t=>{try{(e=>{var r,a,n;if(dA.info("获取米大师优惠券成功",e),null!=e&&null!==(r=e.mp_info)&&void 0!==r&&null!==(a=r.unicoupon_mpinfo)&&void 0!==a&&null!==(n=a.coupons)&&void 0!==n&&n.length){var i,o=e.mp_info.unicoupon_mpinfo.coupons.flatMap((e=>{var t,r;return null!==(t=null===(r=e.card_info)||void 0===r?void 0:r.map((t=>{var r,a;return null!==(r=null==t||null===(a=t.batch_info)||void 0===a?void 0:a.map((r=>({...e,...t,...r}))))&&void 0!==r?r:[]})))&&void 0!==t?t:[]})).filter(Boolean).flat().map((({begintime:t,endtime:r,amt:a,least_price:n,pay_amt:i,...o})=>({disabled:+e.pay_ori_amt==+i,begintime:sA(t),endtime:sA(r),amt:cA(a,2),least_price:cA(n,2),pay_amt:cA(i,2),...o}))).sort(((e,t)=>e.disabled||t.disabled?e.disabled&&t.disabled?+t.amt-+e.amt:e.disabled?1:-1:+e.pay_amt-+t.pay_amt)),s={accountInfo:x.default.accountInfo,pay_ori_amt:lA(e.pay_ori_amt,2),amount:o.reduce(((e,{amt:t})=>e+ +t),0),selectedCoupon:0===o.length||null!==(i=o[0])&&void 0!==i&&i.disabled?{}:o[0],coupons:o,IS_ANDROID:z.wZ,IS_PC:z.DD};__sclEngine__.initScl((e=>{dA.info("优惠券弹窗弹出"),uA=e.mainRoot.append("use-coupon-modal",{data:JSON.stringify(s)}),aA({SCeneID:43,UIArea:0,PositionID:0,ActionID:1}),aA({SCeneID:43,UIArea:4301,PositionID:1,ActionID:1}),uA.addListener("click",(()=>{aA({UIArea:4301,PositionID:1,ActionID:2}),aA({SCeneID:32,UIArea:0,PositionID:0,ActionID:1,Object:3}),aA({SCeneID:32,UIArea:0,PositionID:0,ActionID:1})})),uA.addListener("destroy",(({detail:e})=>{var r,a,n,i,o,s,l,c,u,d,p,h,f,g,v,m,y,_,b,w,I,S,k;if("cancel"===e.reason)return t({status:"cancel"}),void(uA=null);aA({SCeneID:43,UIAera:4302,PositionID:1,ActionID:2,ExternInfo:{pay:null!==(r=null!==(a=null===(n=uA)||void 0===n||null===(i=n.data)||void 0===i||null===(o=i.selectedCoupon)||void 0===o?void 0:o.pay_amt)&&void 0!==a?a:null===(s=uA)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.pay_ori_amt)&&void 0!==r?r:0,coupon:null!==(c=null===(u=uA)||void 0===u||null===(d=u.data)||void 0===d||null===(p=d.selectedCoupon)||void 0===p?void 0:p.amt)&&void 0!==c?c:0,coupon_use:null!==(h=uA)&&void 0!==h&&null!==(f=h.data)&&void 0!==f&&null!==(g=f.selectedCoupon)&&void 0!==g&&g.amt?1:2}}),t({status:"success",code_id:null===(v=uA)||void 0===v||null===(m=v.data)||void 0===m||null===(y=m.selectedCoupon)||void 0===y?void 0:y.code_id,batch_id:null===(_=uA)||void 0===_||null===(b=_.data)||void 0===b||null===(w=b.selectedCoupon)||void 0===w?void 0:w.batch_id,billno_while_using:null===(I=uA)||void 0===I||null===(S=I.data)||void 0===S||null===(k=S.selectedCoupon)||void 0===k?void 0:k.billno_while_using,actionStatus:e.chooseNumber}),uA=null}))}))}})(e)}catch(e){dA.error("获取米大师优惠券失败",e),t({status:"success"})}}))}var hA,fA,gA,vA,mA,yA,_A,bA,wA,IA,SA,kA,CA,TA,PA,AA,EA,MA=({env:e})=>t=>{var r,a,n,i,o=null==t||null===(r=t.channel_info)||void 0===r?void 0:r.coin_info,s=null==t||null===(a=t.channel_info)||void 0===a?void 0:a.wechat_pay_info,l=(null==t||null===(n=t.channel_info)||void 0===n?void 0:n.channel_title)||"兑换详情",c=(null==t||null===(i=t.channel_info)||void 0===i?void 0:i.confirm_button_wording)||"确认";return null!=t&&t.need_choose_channel&&o&&o.coin_remain_num>0?new Promise(((r,a)=>{__sclEngine__.initScl((n=>{var i=n.mainRoot.append("platform-coin-pay-modal",{coin_name:o.coin_name,coin_name_width:kI(o.coin_name,13),coin_pay_wording:o.coin_pay_wording,coin_pay_wording_width:kI(o.coin_pay_wording,18),coin_remain_num:o.coin_remain_num,wechat_pay_wording:null==s?void 0:s.wechat_pay_wording,wechat_pay_wording_width:kI(null==s?void 0:s.wechat_pay_wording,18),coin_rule_button:o.coin_rule_button,coin_rule_title:o.coin_rule_title,recharge_url:o.recharge_url,coin_need_num:o.coin_need_num,coin_recharge_button:o.coin_recharge_button||"充值",coin_rule_list:o.coin_rule_list,channel_title:l,confirm_button_wording:c,remain_num_wording:o.remain_num_wording});i.addListener("gotoCharge",(()=>{(0,f_.n)({url:o.recharge_url,isNativeStyle:!0,success:e=>{u()},fail:e=>{}})})),i.addListener("destroy",(e=>{i=null,"cancel"===e.detail.reason?a({errMsg:"用户取消支付",errCode:1}):"submit"===e.detail.reason&&r({iapInfoOrResponse:t,selectedType:e.detail.selectedType})})),i.addListener("insufficient",(()=>{!function(e={},t){__sclEngine__.initScl((r=>{var a=r.mainRoot.append("toast",e);"function"==typeof t&&t(a)}))}({title:o.coin_name+" 余额不足"},(e=>{setTimeout((()=>{e.close(),e=null}),3e3)}))}));var u=()=>{var t=()=>{(0,Ac.Tb)(t);Date.now();(0,Q.yD)({apiName:"webapi_getchannelinfo",sdkApiName:"webapi_getchannelinfo",reqData:{pay_sdk_version:tA.sdkVersion,env:e,__wxdataUseProfile__:!0},success:e=>{var t;Date.now();0===(null==e||null===(t=e.data)||void 0===t?void 0:t.err_code)?i&&i.update({coin_remain_num:e.data.coin_info.coin_remain_num}):f.error("刷新金币失败",e)},fail:e=>{f.error("刷新金币失败",e)}})};(0,Ac.dN)(t)}}))})):{iapInfoOrResponse:t}},xA=["subscribe","game","pcGame","goods","enterprise"],DA=f.createLogger("requestMidasPayment"),RA=!1,LA=e=>Object.fromEntries(Object.entries(e).filter((([e])=>"success"!==e&&"fail"!==e&&"complete"!==e))),NA=({outTradeNo:e,env:t,zoneId:r,buyQuantity:a,currencyType:n,platform:i,code_id:o,batch_id:s,appId:l,sceneId:c,extraData:u,extraInfo:d,pay_channel:p,prepay_id:h},{invokeId:f,argsJSON:g})=>{var v={out_trade_no:e,env:t,zoneid:r,buy_quantity:a,currency_type:n,platform:i,code_id:o,batch_id:s,referrer_info:{appid:l,extra_data:u},scene_note:Ev().scene_note||"",extra_info:JSON.stringify(d),pay_sdk_version:tA.sdkVersion,pay_channel:p,prepay_id:h};return(0,Q.Qh)({apiName:"webapi_createiapbuygamecoinorder",sdkApiName:"createIapBuyGameCoinOrder",reqData:v}).catch((e=>{throw DA.info("createIapBuyGameCoinOrder fail"),mA=String(Date.now()),nA({subactionID:2,actionStatus:0,invokeId:hA,errCode:iA(e),errMsg:oA(e),sceneId:c,argsJSON:g,costTime:mA-yA,status:RA?1:2,time:mA-f,funcType:PA,funcId:TA,batchID:EA}),e}))},OA=(e,{invokeId:t,argsJSON:r,appId:a,pay_channel:n,prepay_id:i})=>{var o=Ev(),s={user_args:LA(e),referrer_info:{appid:a,extra_data:e.extraData},scene_note:o.scene_note||"",pay_sdk_version:tA.sdkVersion,pay_channel:n,prepay_id:i};return(0,Q.Qh)({apiName:"webapi_createiapbuygameitemorder",sdkApiName:"createIapBuyGameItemOrder",reqData:s}).catch((e=>{throw DA.info("createIapBuyGameItemOrder fail"),mA=String(Date.now()),nA({subactionID:2,actionStatus:0,invokeId:hA,errCode:iA(e),errMsg:oA(e),argsJSON:r,sceneId:CA,costTime:mA-yA,status:RA?1:2,time:mA-t,funcType:PA,funcId:TA,batchID:EA}),e}))},BA=(e={})=>{FA(e,"requestMidasPaymentGameItem",!0)},jA=(e={})=>{FA(e)},FA=(e={},t="requestMidasPayment",r=!1)=>{tA.invokeId=fA=String(Date.now()),tA.requestId=hA=(0,ve.M8)();var a="",n="";if((0,kv.y4)(kv.F0.EVENT_CANVAS_BEFORE_PAY),!vP||vP.action<=3||(AP({UIArea:1503,PositionID:0,ActionID:1,Status:1}),(0,Ze._showModal)({title:"提示",cancelText:"返回",content:"当前账号尚未实名，完成实名认证后才可进行充值",confirmText:vP.urlInfo.name,upper:!0,success({confirm:e}){var t,r,a,n;e&&TP(),e&&AP({ExpID:null===(t=vP)||void 0===t||null===(r=t.urlInfo)||void 0===r?void 0:r.expId,UIArea:1503,PositionID:1,ActionID:2,Status:1}),e||AP({ExpID:null===(a=vP)||void 0===a||null===(n=a.urlInfo)||void 0===n?void 0:n.expId,UIArea:1503,PositionID:2,ActionID:2,Status:1})}}),0)){if(r);else{if(-1===xA.indexOf(e.mode))return void(0,Q.YG)(t,e,"mode错误",1e3);e=Object.assign({zoneId:"1"},e)}try{a=JSON.stringify(e)}catch{}DA.info("requestMidasPayment 开发者入参",a);var{outTradeNo:i,currencyType:o,platform:s,extraData:l,extraInfo:c}=r?{}:e,{mode:u,zoneId:d,buyQuantity:p,env:h}=r?{}:e;d=""+d,p=+p,h=+h,tA.sceneId=CA=r?34:33;var f,g,v,m,y=x.default.accountInfo.appId,_=function(){var t=_e()((function*(t,a){var n=t.iap_info;if(DA.info("getiapinfocreateorder success",n),f=n.open_id,v=n.offer_id,u="goods",AA={},n.use_wx_proxy&&(AA.use_wx_proxy=1),n.direct_channel&&(AA.direct_channel="wechat"),RA)return pA(t.coupon_info).then(b);if(a)return b({status:"success",actionStatus:1});h=t.order_info.env;var i=t.order_info;return g=i.order_no,n.use_save_result&&i&&i.save_result&&(AA.save_result=i.save_result),AA.openid=f,AA.login_wx_appid=y||e.loginWXAppId,AA.pf="android",AA.buy_quantity=r?i.buy_quantity:e.buyQuantity,AA.zoneid=r?i.zoneid:e.zoneId,AA.openkey=i.iap_access_token,AA.goodstokenurl=i.url_params,AA}));return function(e,r){return t.apply(this,arguments)}}(),b=function(){var t=_e()((function*(t){DA.log("useCouponModal success",t);var{status:n,batch_id:u,code_id:v,actionStatus:m}=t;if(EA=u,"success"===n){var _;tA.funcType=PA=1,tA.funcId=TA=v,yA=String(Date.now());try{r?(_=yield OA(e,{invokeId:fA,argsJSON:a,appId:y}),DA.info("createIapBuyGameItemOrder success",_)):(_=yield NA({outTradeNo:i,env:h,zoneId:d,buyQuantity:p,currencyType:o,platform:s,code_id:v,batch_id:u,appId:y,sceneId:CA,extraData:l,extraInfo:JSON.stringify(c)},{invokeId:fA,argsJSON:a}),DA.info("createIapBuyGameCoinOrder success",_)),AA.openid=f,AA.login_wx_appid=y||e.loginWXAppId,AA.pf="android",r?(AA.buy_quantity=_.data.buy_quantity,AA.zoneid=_.data.zoneid):AA=Object.assign(AA,rP(e)),mA=String(Date.now());var{err_code:b,err_msg:w,order_no:I,url_params:S,iap_access_token:k,use_save_result:C,save_result:T}=_.data;if(0!==b)throw nA({subactionID:2,actionStatus:0,invokeId:hA,errCode:b,errMsg:w,argsJSON:a,sceneId:CA,costTime:mA-yA,status:1,time:mA-fA,funcType:PA,funcId:TA,batchID:EA}),{errMsg:w,errCode:b};g=I,AA.goodstokenurl=S,AA.openkey=k,delete AA.buy_quantity,C&&T&&(AA.save_result=T),nA({subactionID:2,actionStatus:m,invokeId:hA,errCode:b,errMsg:"",argsJSON:a,sceneId:CA,costTime:mA-yA,status:1,time:mA-fA,funcType:PA,funcId:TA,batchID:EA})}catch(e){throw r?DA.error("createIapBuyGameItemOrder fail",e):DA.error("createIapBuyGameCoinOrder fail",e),{errMsg:e.errMsg||e.message,errCode:e.errCode||e.err_code}}return AA}if("cancel"===n)throw nA({subactionID:5,actionStatus:1,invokeId:hA,errCode:1,errMsg:"用户取消支付",argsJSON:a,sceneId:CA,status:1,funcType:PA,funcId:TA,batchID:EA}),{errMsg:"用户取消支付",errCode:1};if("fail"===n)throw{errMsg:"支付中",errCode:1}}));return function(e){return t.apply(this,arguments)}}(),w=e=>{e.offer_id=v,e.session_type="wc_actoken",e.session_id="wechatid";var t,r=x.default.clientVersion>=671090432?"1.2":"1.1";e.additional?e.additional.wechatapp_p_version=r:e.additional={wechatapp_p_version:r},DA.info("米大师入参",e,u);try{n=JSON.stringify(e)}catch{}bA=String(Date.now());try{MidasSDK.getMidasPayApi()[u].destroy(),t=MidasSDK.getMidasPayApi()[u].init({env:h}),_A=String(Date.now()),nA({subactionID:3,actionStatus:1,invokeId:hA,errCode:0,errMsg:"",argsJSON:a,sceneId:CA,costTime:_A-bA,status:RA?1:2,time:_A-fA,funcType:PA,funcId:TA,batchID:EA})}catch(e){DA.error(e),_A=String(Date.now());var i=e.errMsg||e.message,o=e.errCode||e.err_code;nA({subactionID:3,actionStatus:0,invokeId:hA,errCode:o,errMsg:i,argsJSON:a,sceneId:CA,costTime:_A-bA,status:RA?1:2,time:_A-fA,funcType:PA,funcId:TA,batchID:EA})}return IA=String(Date.now()),function(e,t){return new Promise((r=>{e.launchPay(t,(e=>{r(e)}))}))}(t,e)},I=function(){var i=_e()((function*(i){var{resultCode:o,resultMsg:s,spInfo:l,innerCode:c}=i;if(DA.log("[launchPayRes]",i),wA=String(Date.now()),0!==o){var u="requestVirtualPayment:fail PAY_LIMIT";DA.error("[MidasPaymentError]",o,s,l),s=s.replace("requestVirtualPayment:fail",""),nA({subactionID:4,actionStatus:0,invokeId:hA,errCode:o,errMsg:s,argsJSON:a,sceneId:CA,midasArgsJSON:n,costTime:wA-IA,status:RA?1:2,time:wA-fA,innerCode:c,funcType:PA,funcId:TA,batchID:EA}),-15009!==o&&1138!==o||(0,Ze._showModal)({title:"提示",content:s,showCancel:!1,success(){(0,Q.YG)(t,e,u,o)},fail(){(0,Q.YG)(t,e,u,o)}}),kA=String(Date.now());var d={env:h,order_no:g,mode:r?"goods":"game",ret_code:o,inner_code:c};DA.info("关单入参",d);var p=!1;yield(0,Q.Qh)({apiName:"webapi_closeiapbuyorder",sdkApiName:"requestMidasPayment",reqData:d}).then((e=>{if(p=e.data.switch_to_success,0!==e.data.err_code)throw{errMsg:e.data.err_msg,errCode:e.data.err_code};SA=String(Date.now()),nA({subactionID:6,actionStatus:1,invokeId:hA,errCode:0,errMsg:"",argsJSON:a,sceneId:CA,midasArgsJSON:n,costTime:SA-kA,status:RA?1:2,time:SA-fA,funcType:PA,funcId:TA,batchID:EA,switch_to_success:p})})).catch((e=>{SA=String(Date.now()),nA({subactionID:6,actionStatus:0,invokeId:hA,errCode:e.errCode,errMsg:e.errMsg,argsJSON:a,sceneId:CA,midasArgsJSON:n,costTime:SA-kA,status:RA?1:2,time:SA-fA,funcType:PA,funcId:TA,batchID:EA});var t=e.errMsg||e.message,r=e.errCode||e.err_code;if(t&&(s=t),r&&(o=r),DA.error("closeiapbuyorder fail",e),!p)throw{errMsg:s,errCode:o}})),p?(DA.info("支付成功",t,e),(0,Q.FE)({name:t,args:e})):-2===o?(DA.error("取消支付",t,e,s,o),(0,Q.YG)(t,e,s,o)):(DA.error("支付失败",t,e,s,o),(0,Q.YG)(t,e,s,o))}else DA.info("支付成功",t,e),nA({subactionID:4,actionStatus:1,invokeId:hA,errCode:0,errMsg:"",argsJSON:a,sceneId:CA,midasArgsJSON:n,costTime:wA-IA||0,status:RA?1:2,time:wA-fA,innerCode:c,funcType:PA,funcId:TA,batchID:EA}),(0,Q.FE)({name:t,args:e})}));return function(e){return i.apply(this,arguments)}}();tA.report_data="",m=r?((e,{invokeId:t,argsJSON:r,appId:a})=>{var n=Ev(),i={pay_sdk_version:tA.sdkVersion,user_args:LA(e),referrer_info:{appid:a,extra_data:e.extraData},scene_note:n.scene_note||""};return vA=String(Date.now()),(0,Q.Qh)({apiName:"webapi_getiapinfocreateitemorder",sdkApiName:"getiapinfocreateitemorder",reqData:i}).then((e=>{if(gA=String(Date.now()),e.data&&0===e.data.err_code)return tA.report_data=e.data.report_data,tA.has_coupon=RA=e.data.has_coupon,nA({subactionID:1,actionStatus:1,invokeId:hA,errCode:0,errMsg:"",argsJSON:r,sceneId:CA,costTime:gA-vA,status:RA?1:2,time:gA-t,funcType:PA,funcId:TA,batchID:EA}),DA.info("getIapOrCreateGameItemOrder success",e),e.data;throw DA.info("getIapOrCreateGameItemOrder fail"),{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw DA.info("getIapOrCreateGameItemOrder get iap fail"),gA=String(Date.now()),nA({subactionID:1,actionStatus:0,invokeId:hA,errCode:iA(e),errMsg:oA(e),argsJSON:r,sceneId:CA,costTime:gA-vA,status:RA?1:2,time:gA-t,funcType:PA,funcId:TA,batchID:EA}),e}))})(e,{invokeId:fA,argsJSON:a,appId:y}):((e,{argsJSON:t,outTradeNo:r,env:a,zoneId:n,buyQuantity:i,currencyType:o,platform:s,appId:l,extraData:c})=>{var u=Ev(),d={pay_sdk_version:tA.sdkVersion,out_trade_no:r,env:a,zoneid:n,buy_quantity:i,currency_type:o,platform:s,referrer_info:{appid:l,extra_data:c},scene_note:u.scene_note||"",extra_info:JSON.stringify(e.extraInfo)};return vA=String(Date.now()),(0,Q.Qh)({apiName:"webapi_getiapinfocreatecoinorder",sdkApiName:"getiapinfocreatecoinorder",reqData:d}).then((e=>{if(gA=String(Date.now()),e.data&&0===e.data.err_code)return tA.report_data=e.data.report_data,tA.has_coupon=RA=e.data.has_coupon,nA({subactionID:1,actionStatus:1,invokeId:hA,errCode:0,errMsg:"",argsJSON:t,sceneId:CA,costTime:gA-vA,status:RA?1:2,time:gA-fA,funcType:PA,funcId:TA,batchID:EA}),DA.info("getIapOrCreateCoinOrder success",e),e.data;throw DA.info("getIapOrCreateCoinOrder fail"),{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw DA.info("getIapOrCreateCoinOrder get iap fail"),gA=String(Date.now()),nA({subactionID:1,actionStatus:0,invokeId:hA,errCode:iA(e),errMsg:oA(e),argsJSON:t,sceneId:CA,costTime:gA-vA,status:RA?1:2,time:gA-fA,funcType:PA,funcId:TA,batchID:EA}),e}))})(e,{argsJSON:a,outTradeNo:i,env:h,zoneId:d,buyQuantity:p,currencyType:o,platform:s,appId:y,extraData:l}),m.then(MA({env:h})).catch((e=>{var t=Date.now();throw nA({actionID:2,subactionID:3,invokeId:hA,argsJSON:a,sceneId:CA,time:t-fA,costTime:t-fA,batchID:EA}),e})).then((({selectedType:t,iapInfoOrResponse:n})=>{var u,f=Date.now();return"coinpay"===t?(nA({actionID:2,subactionID:1,invokeId:hA,argsJSON:a,sceneId:CA,time:f-fA,costTime:f-fA,batchID:EA}),(u=n,tA.funcType=PA=1,yA=Date.now(),(r?OA(e,{invokeId:fA,argsJSON:a,appId:y,pay_channel:1,prepay_id:u.prepay_id}):NA({outTradeNo:i,env:h,zoneId:d,buyQuantity:p,currencyType:o,platform:s,appId:y,sceneId:CA,extraData:l,extraInfo:JSON.stringify(c),pay_channel:1,prepay_id:u.prepay_id},{invokeId:fA,argsJSON:a})).then((e=>{DA.info(`小游戏币支付 ${r?"createIapBuyGameItemOrder":"createIapBuyGameCoinOrder"} success`,e),mA=String(Date.now());var{err_code:t,err_msg:n}=e.data;if(0===t)return nA({actionID:391,subactionID:1,invokeId:hA,argsJSON:a,sceneId:CA,status:3,time:mA-fA,costTime:mA-yA,batchID:EA}),{resultCode:0};throw nA({actionID:391,subactionID:2,actionStatus:0,invokeId:hA,errCode:t,errMsg:n,argsJSON:a,sceneId:CA,status:3,time:mA-fA,costTime:mA-yA,batchID:EA}),{errMsg:n,errCode:t}}))).then(I)):"wechatpay"===t?(nA({actionID:2,subactionID:2,invokeId:hA,argsJSON:a,sceneId:CA,time:f-fA,costTime:f-fA,batchID:EA}),_(n,!0).then(w).then(I)):(nA({actionID:2,subactionID:2,invokeId:hA,argsJSON:a,sceneId:CA,time:f-fA,costTime:f-fA,batchID:EA}),_(n,!1).then(w).then(I))})).catch((r=>{DA.error("[MidasPaymentError] catch",r),"object"==typeof r?(0,Q.YG)(t,e,(null==r?void 0:r.errMsg)||(null==r?void 0:r.message),null==r?void 0:r.errCode):(0,Q.YG)(t,e,r,-1)}))}else(0,Q.YG)(t,e,sn.zF7)};var WA=(0,Q.TG)("querySettlementMark","jsapi_querysettlementmark",(()=>({isWxHost:!x.default.host||"WeChat"===x.default.host.env,sdkAppId:x.default.host&&x.default.host.appId,scene:(0,hi.Y)().scene,sceneNote:(0,hi.Y)().scene_note||(0,hi.Y)().sceneNote,sessionId:(0,hi.Y)().sessionId||(0,hi.Y)().sessionid})));const UA=()=>new Promise((e=>{WA({complete:({mark:t})=>e(t)})}));var GA=["game"],VA="requestMidasFriendPayment",$A=f.createLogger("requestMidasFriendPayment");function qA({actionStatus:e,errType:t=0,orderNo:r="",orderNoForUrl:a=""}={}){var n=[0,3001,30,10,1,e,"",0,a,(0,rr._getCurrentNetworkType)(),0,0,t,0,"",r,""].join(",");$A.log("[MidasFriendPayment reportValue]",n),b.reportKeyValue({key:"MidasFriendPayment",value:n})}function zA(){return(0,Qe.J)("requestMidasFriendPayment")?Promise.resolve():(qA({actionStatus:0,errType:1}),Promise.reject({errCode:-15005,errMsg:"No MidasFriendPayment Permission"}))}function HA(){return(0,Qe.J)("requestVirtualPayment")?Promise.resolve():(qA({actionStatus:0,errType:2}),Promise.reject({errCode:-15005,errMsg:"No VirtualPayment Permission"}))}function KA(e={}){(0,Q.r3)(VA,e,{mode:"",offerId:"",currencyType:"",buyQuantity:0,outTradeNo:"",nonceStr:"",timeStamp:0,signature:""})?((0,Ze.showLoading)({title:"加载中"}),function(e={}){return new Promise(((t,r)=>{-1===GA.indexOf(e.mode)?r({errCode:1e3,errMsg:"mode错误"}):t()}))}(e).then(zA).then(HA).then((()=>function(e={}){return Iv().then((({openId:t,appId:r})=>new Promise(((a,n)=>{var{mode:i,env:o,offerId:s,currencyType:l,zoneId:c,outTradeNo:u,platform:d,buyQuantity:p,nonceStr:h,timeStamp:f,signature:g}=e;MidasSDK.getMidasPayApi()[i].destroy();var v=MidasSDK.getMidasPayApi()[i].init({env:o,hide_loading:!0}),m=rP(e);m.openid=t,m.login_wx_appid=r||e.loginWXAppId,m.type="friends_pay_order",m.pf=d||"android",$A.info("[transedArgs]",m),v.launchFeature(m,function(){var t=_e()((function*({resultCode:t,resultMsg:r,extendInfo:d}){if($A.info("[instance.launchFeature success]",{resultCode:t,resultMsg:r,extendInfo:d}),0===t){var v=d.token,y=d.priceLevel,_={offerId:s,currencyType:l,priceLevel:y,token:v,env:o,zoneId:c,busiOrderNo:u,mode:i,buyQuantity:p,nonceStr:h,timeStamp:f,signature:g,platform:m.pf};["session_id","session_type","login_wx_appid","change_wx_openid","extend","product_id","service_code","service_name","aid","provide_uin","goodstokenurl"].forEach((t=>{void 0!==e[eP[t]]&&(_[eP[t]]=m[t])})),_.settlementMark=yield UA(),$A.info("reqData",_),(0,Q.yD)({apiName:"webapi_addpayfororder",reqData:_,success(e){$A.info("[operateWXData success]",e);var t=e.data;Number.isInteger(t.errCode)&&0!==t.errCode?($A.error("[operateWXData fail]",t),n({errCode:t.errCode,errMsg:t.errMsg}),qA({actionStatus:0,errType:5})):a(e)},fail(e){$A.error("[operateWXData fail]",e),n(e),qA({actionStatus:0,errType:4})}})}else n({errMsg:r,errCode:t}),b.reportIDKey({key:"midasLaunchFeatureFail"}),qA({actionStatus:0,errType:3})}));return function(e){return t.apply(this,arguments)}}())}))))}(e))).then((e=>((0,Ze.hideLoading)(),function(e={}){var t=e.data;return new Promise((r=>{var a=(0,ua.KU)("h5PayDisableForward");(0,Q.IN)("shareAppMessageDirectly",{type:"h5",title:t.title,desc:t.desc,imageUrl:t.imageUrl,useDefaultSnapshot:!1,disableForward:a,link:t.link,success(){r({cloudID:e.cloudID,iv:e.iv,encryptedData:e.encryptedData}),qA({actionStatus:1,orderNo:t.orderNo,orderNoForUrl:t.orderNoForUrl})},fail(){r({cloudID:e.cloudID,iv:e.iv,encryptedData:e.encryptedData}),qA({actionStatus:0,errType:6,orderNo:t.orderNo,orderNoForUrl:t.orderNoForUrl})}})}))}(e)))).then((t=>{(0,Q.FE)({name:VA,args:e,res:t})})).catch((t=>{(0,Ze.hideLoading)(),$A.error("fail:",t),(0,Q.YG)(VA,e,t.errMsg,+(t.errCode||t.err_code))}))):qA({actionStatus:0,errType:7})}var JA=(0,Q.TG)("checkIsSupportMidasFriendPayment","webapi_isaddpayfororderblocked",(()=>({})),(e=>(e.blocked=e.is_blocked,delete e.is_blocked,e)));function QA(e={}){Promise.resolve().then(zA).then(HA).then((()=>JA(e))).catch((({errMsg:t,errCode:r,err_code:a})=>{(0,Q.YG)("checkIsSupportMidasFriendPayment",e,t,+(r||a))}))}function YA(){(0,Ca.v)("gameLoginReport"),console.warn("wx.gameLoginReport 已经废弃")}function ZA(){(0,Ca.v)("gameLogoutReport"),console.warn("wx.gameLogoutReport 已经废弃")}var XA=function(e){return e.Updating="updating",e.NoUpdate="noUpdate",e.UpdateReady="updateReady",e.UpdateFailed="updateFailed",e}({}),eE=e=>{rE({updateReady:!0,pluginId:e})},tE=e=>{rE({updateFailed:!0,pluginId:e})},rE=e=>{var t="string"==typeof e.pluginId&&0!==e.pluginId.length,r=[(0,pi.k)(),(0,pi.n)(),e.updateReady?1:0,e.updateFailed?1:0,e.applyUpdate?1:0,t?1:0,e.pluginId||"",e.forceUpdate?1:0];b.reportQualityData2("UpdateManager",r)},aE=()=>["nativeFunctionalized"].includes((0,Wp._)().apiCategory)?"服务需要重启以使用最新功能":(0,z.tK)()?"功能已更新，需重新加载后使用":"小程序需要重启以使用最新功能",nE=new tt.Z;(0,Q.jQ)("onUpdateStatusChange",(e=>{var t,r,a,n=e.state;null===(t=e.appContactInfo)||void 0===t||null===(r=t.passThroughInfo)||void 0===r||!r.forceUpdate?(delete e.state,n===XA.UpdateReady?eE():n===XA.UpdateFailed&&tE(),nE.emit(n,e)):n===XA.UpdateReady&&(console.info("[apply update before]"),rE({forceUpdate:!0}),(0,Ze._showModal)({content:aE(),confirmText:"知道了",showCancel:!1,complete(){(0,Q.IN)("updateApp",a)}}))}));var iE,oE=[];nE.on(XA.Updating,(e=>{iE={hasUpdate:!0,version:e.customVersion},sE()})),nE.on(XA.NoUpdate,(()=>{iE={hasUpdate:!1},sE()}));var sE=()=>{oE.forEach((e=>{"function"==typeof e&&e(iE)})),oE.length=0},lE=new tt.Z;(0,Q.jQ)("onPluginUpdateStatusChange",(e=>{var{pluginAppid:t,state:r,appVersion:a,customVersion:n}=e;r===XA.UpdateReady?eE(t):r===XA.UpdateFailed&&tE(t),lE.emit(r,{pluginAppid:t,appVersion:a,customVersion:n})}));var cE={},uE={};lE.on(XA.UpdateReady,(({pluginAppid:e,customVersion:t})=>{uE[e]={pluginVersion:t},dE(e,t)}));var dE=(e,t)=>{var r=cE[e];r&&(delete cE[e],r.forEach((e=>{e({pluginVersion:t})})))},pE=[],hE=!1,fE=!1,gE={};nE.on(XA.UpdateReady,(e=>{hE=!0,gE={version:e.customVersion},mE()}));var vE,mE=()=>{pE.forEach((e=>{"function"==typeof e&&e(gE)})),pE.length=0},yE=[];nE.on(XA.UpdateFailed,(e=>{vE={version:e.customVersion},_E()}));var _E=()=>{yE.forEach((e=>{"function"==typeof e&&e(vE)})),yE.length=0},bE={onCheckForUpdate:e=>{e=_.surroundThirdByTryCatch(e,"at onCheckForUpdate callback function"),iE?"function"==typeof e&&e(iE):oE.push(e)},onUpdateReady:e=>{e=_.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),hE?"function"==typeof e&&e(gE):pE.push(e)},onUpdateFailed:e=>{e=_.surroundThirdByTryCatch(e,"at onUpdateFailed callback function"),vE?"function"==typeof e&&e(vE):yE.push(e)},applyUpdate:e=>{var t;hE&&fE?(0,Q.YG)("applyUpdate",e,"applyUpdate has been called"):hE||Object.keys(uE).length>0?(fE=!0,rE({applyUpdate:!0,pluginId:t}),(0,Ze._showModal)({content:aE(),confirmText:"知道了",showCancel:!1,complete(){(0,Q.IN)("updateApp",e)}})):(0,Q.YG)("applyUpdate",e,"update is not ready")}},wE=()=>bE,IE=Object.assign,SE=Object.create,kE=(e={})=>{var t=SE(null);IE(t,e),t.url="https://support.weixin.qq.com/update/",(0,f_.n)(t)},CE={USER_DATA_PATH:null,CLIENT_DATA_PATH:null};x.default.onReady((()=>{"object"==typeof x.default.env&&Object.assign(CE,x.default.env)}));const TE=CE;var PE,AE=()=>{var e=void 0;return function(t){return void 0===e&&(e=(()=>{var e=null;return"function"==typeof WeakRef?e=function(e){return new WeakRef(e)}:"function"==typeof q.Z.GameAccelerator&&(e=function(e){return void 0===PE&&(PE=new q.Z.GameAccelerator),PE.createWeakRef(e)}),e})()),e(t)}};AE();class EE extends Lm.wA{constructor({template:e,style:t,event:r}={}){if(super(),e){var a=(0,Lm.Wj)(this),{root:n}=ov()(e);Lm.S1.call(this,n,t),Rm.u.add(a.container),this.initEvent(r)}ph(),(0,Q.IN)("showShareMenu"),(0,Q.IN)("showShareTimelineMenu")}initEvent(e){if(e){var t=(0,Lm.Wj)(this);this.event=e,Object.keys(e).forEach((r=>{var a=e[r];Object.keys(a).forEach((e=>{var n=a[e];t[r]&&t[r].on(e,n)}))}))}}unbundEvent(){if(this.event){var e=(0,Lm.Wj)(this);Object.keys(this.event).forEach((t=>{var r=this.event[t];Object.keys(r).forEach((a=>{var n=r[a];e[t]&&e[t].off(a,n)}))}))}}destroy(){this.unbundEvent();var e=(0,Lm.Wj)(this);Rm.u.remove(e.container),(0,Lm.bn)(this),Ge.showShareAppMessageMenu&&(Ge.withShareTicket?(0,Q.IN)("showShareMenuWithShareTicket",{withShareTicket:!0}):(0,Q.IN)("showShareMenu")),Ge.showShareTimelineMenu&&(0,Q.IN)("showShareTimelineMenu"),hh()}}class ME extends EE{constructor({template:e,style:t}={}){super({template:e,style:t})}}var xE=!1,DE=0,RE=0,LE=0;function NE(e,t){var r=Math.max(DE,RE),a=Math.min(DE,RE);return t/e-(r-LE-44-8-44-8)/a>.1?(r-2*(LE+44))/r:(RE-20)/RE}x.default.onReady((()=>{xE="devtools"===x.default.platform,DE=x.default.screenHeight,RE=x.default.screenWidth,LE=x.default.statusBarHeight}));class OE extends ME{constructor({imageUrl:e}={}){var t=1,r=0,a=0,n=e.match(/size=(\d+)x(\d+)$/);n&&(t=NE(r=+n[1],a=+n[2]));var i=`<view id="container">\n      <view id="imgWrp">\n        ${xE?`<image id="mainImage" src="${e}" />`:`<image-previewer id="mainImage" scale="${t}"></image-previewer>`}\n      </view>\n    </view>`,o=function(){var e=RE>DE?"landscape":"portrait";return{container:{backgroundColor:"#191919",flexDirection:"column",width:"portrait"===e?RE:DE,height:"portrait"===e?DE:RE},imgWrp:{flexDirection:"row",justifyContent:"center"},mainImage:{left:0,top:xE?LE+44+8:0,width:"portrait"===e?RE:DE,height:"portrait"===e?DE:RE,objectFit:"contain"}}}();super({template:i,style:o}),this.imageUrl=e,this.scale=t,this.width=r,this.height=a,this.sizeMatch=n,this.retried=[];var s=(0,Lm.Wj)(this);xE||s.mainImage.onImageLoadFail((e=>{this.handleOnImageLoadFail(e)})),this.initImageInfo()}handleOnImageLoadFail(e){var t=this.retried;t.includes(e.url)?(0,Ze._showModal)({content:"图片加载失败",showCancel:!1}):(t.push(e.url),this.initImageInfo()),setTimeout((()=>{(0,Ze.hideLoading)()}),500)}initImageInfo(){setTimeout((()=>{(0,Ze.showLoading)({title:"加载中",maskAll:!0})}),500),this.sizeMatch?this.downloadImage().then((e=>{this.showImage({width:this.width,height:this.height,url:e.tempFilePath,scale:this.scale})})):this.downloadImage().then((e=>{(0,Q.IN)("getImageInfo",{src:e.tempFilePath,success:t=>{var{width:r,height:a}=t,n=NE(r,a);this.showImage({width:r,height:a,url:e.tempFilePath,scale:n})},fail:()=>{this.handleOnImageLoadFail({url:e.tempFilePath})}})}))}downloadImage(){return new Promise((e=>{(0,Jt.o)({url:this.imageUrl,success:t=>{e(t)},fail:()=>{this.handleOnImageLoadFail({url:this.imageUrl})}})}))}showImage(e){var{width:t,height:r,url:a,scale:n}=e,i=(0,Lm.Wj)(this);"portrait"===(t>r?"landscape":"portrait")?xE?i.mainImage.style.scale=n:i.mainImage.scale=n:(xE&&(i.mainImage.style.top=0),xE?(i.mainImage.style.scale=1,i.mainImage.style.top=0):i.mainImage.scale=1),i.mainImage.urls=[a],i.mainImage.update(),setTimeout((()=>{(0,Ze.hideLoading)()}),500)}}var BE=0,jE=0,FE=0,WE=0,UE={};x.default.onReady((()=>{jE=x.default.screenHeight,FE=x.default.screenWidth,WE=x.default.statusBarHeight,UE=x.default.safeArea;var e=Math.max(jE,FE),t=e;UE&&UE.bottom&&(t=Math.max(UE.bottom,UE.right)),BE=e-t}));class GE extends ME{constructor({videoUrl:e,thumbUrl:t}={}){var r=`\n    <view id="container">\n      <view id="imgWrp">\n        <video id="mainVideo" src="${e}" poster="${t}" controls="true" object-fit="contain" autoplay="false" z-index="2" showProgress="false" showProgressInControlMode="true" backgroundColor="transparent"></video>\n      </view>\n    </view>`,a=function(){var e=FE>jE?"landscape":"portrait",t=WE+44+8,r=BE+44+8;return{container:{backgroundColor:"#191919",flexDirection:"column",width:"portrait"===e?FE:jE,height:"portrait"===e?jE:FE},imgWrp:{flexDirection:"row",justifyContent:"center"},mainVideo:{position:"absolute",top:t,left:0,width:"portrait"===e?FE:jE,height:"portrait"===e?jE-t-r:FE-t-r}}}();super({template:r,style:a}),this._handleVideoError(),this._playAtWIFI()}_handleVideoError(){(0,Lm.Wj)(this).mainVideo.onError((()=>{(0,Ze._showModal)({title:"视频加载失败，请稍后再试",confirmText:"确定",showCancel:!1})}))}_playAtWIFI(){if("wifi"===(0,rr._getCurrentNetworkType)()){var e=(0,Lm.Wj)(this);e.mainVideo.showCenterPlayBtn=!1,e.mainVideo.play()}}}var VE=new tt.Z,$E={},qE={},zE=e=>{Object.keys(qE).forEach((t=>{qE[t]===e&&delete qE[t]}))},HE=(e,t,r,a)=>{void 0===qE[t]?!0!==$E[t]?($E[t]=!0,(0,Q.IN)(e,{moduleName:t,success:e=>{delete $E[t],qE[t]=e.loadTaskId,r(e.loadTaskId),VE.emit(t,e)},fail:e=>{delete $E[t],a(e)}})):VE.once(t,(e=>{r(e.loadTaskId)})):r(qE[t])},KE=new tt.Z,JE=new tt.Z;(0,Q.jQ)("onLoadSubPackageTaskStateChange",(e=>{"success"===e.state&&JE.emit(e.state,e.taskId,e),KE.emit(e.state,e.taskId,e)}));var QE=e=>KE.on("success",e),YE=e=>KE.on("fail",e),ZE=e=>KE.on("progressUpdate",e),XE="__APP__",eM=e=>(e.startsWith("./")&&(e=e.slice(1)),e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,-1)),e),tM=(e,t)=>e===XE||"__GAME__"===e?XE:(t.forEach((t=>{e!==t.alias&&e!==t.name||(e=t.root)})),e=eM(e),void 0===t.find((t=>eM(t.root)===e))?null:e.endsWith(".js")?`/${e}`:`/${e}/`);function rM(e){return"workers.js"===e||"/workers.js"===e}function aM(e,t=[]){return t.some((t=>{var r;return t.root===e&&"playable"===(null==t||null===(r=t.meta)||void 0===r?void 0:r.type)}))}var nM=new WeakMap,iM=new WeakMap,oM={},sM=[],lM=new Set,cM={},uM=new tt.Z,dM=e=>oM[e],pM=(e,t)=>{void 0===oM[e]?oM[e]=[t]:oM[e].push(t)},hM=e=>{var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t},fM=(e,t)=>{["success","fail","complete"].forEach((r=>{var a=r;"function"==typeof e[a]&&(e[a]=_.surroundThirdByTryCatch(e[a],`at api ${t} ${r} callback function`))}))},gM=(e,t=!1)=>{if(!rM(e)){"string"!=typeof e&&console.error("SubContext onSubPackageReady error: moduleName is empty"),e.endsWith(".js")||(e.endsWith("/")||(e=`${e}/`),e=`${e}game.js`);var r=KS.n.get();return(0,ua.N0)()&&(0,z.aI)()&&!t&&!r?"__APP__"===e?y.getGameContext().evaluateScriptFile("game.js"):y.getGameContext().evaluateScriptFile(e):void 0}},vM=(e,t,r,a)=>{a.errMsg=e,t&&"function"==typeof r.success?(r.success(a),delete r.success):t||"function"!=typeof r.fail||(r.fail(a),delete r.fail),"function"==typeof r.complete&&(r.complete(a),delete r.complete)},mM=(e,t)=>{var r=dM(e);(e=>{delete oM[e]})(e),zE(e),Array.isArray(r)?r.forEach(t):(nM.delete(r),iM.delete(r))},yM=(e,t)=>{mM(e,(r=>{var a=r.options,n=hM(t);sM.push(t.moduleName);var i=gM(t.moduleName,t.isMonkeyTest),o=()=>{r.loaded=!0,vM("loadSubPackage:ok",!0,a,n),lM.forEach((r=>{r.updateTaskStatus(e,!0,t)}))};(0,R.tI)(i)?i.then(o):o()}))},_M=(e,t)=>{mM(e,(r=>{var a=r.options,n=hM(t);vM("loadSubpackage:fail module not found",!1,a,n),lM.forEach((r=>{r.updateTaskStatus(e,!1,t)}))}))};QE(((e,t)=>{dM(e)?yM(e,t):(z.jP&&(cM[e]=t),uM.once("getBatchNativeTaskIdFinished",(()=>{yM(e,t)})))})),YE(((e,t)=>{dM(e)?_M(e,t):uM.once("getBatchNativeTaskIdFinished",(()=>{_M(e,t)}))})),ZE(((e,t)=>{var r=dM(e);Array.isArray(r)&&r.forEach((e=>{var r=hM(t);e.triggerProgressCallback(r)}))}));class bM{constructor(e,t){this.options=void 0,this.taskId=void 0,this.name=void 0,this.loaded=!1,this.progressCallback=void 0,this.name=e,this.options=t;var r=new Promise((e=>{iM.set(this,e)}));nM.set(this,r)}triggerProgressCallback(e){"function"==typeof this.progressCallback&&this.progressCallback(e)}onProgressUpdate(e){var t;"function"==typeof e&&(this.progressCallback=t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&_.surroundThirdByTryCatch(e,"at LoadTask.onProgressUpdate callback function")(t)},null===(t=nM.get(this))||void 0===t||t.then((()=>{this.taskId&&(0,Q.IN)("listenLoadSubPackageTaskStateChange",{taskId:this.taskId,states:["progressUpdate"],noCallback:!0})})))}await({timeout:e=1e4}={}){var{waiterMode:t,name:r}=this.options,a={errMsg:"LoadTask.await:fail not support"};if(t){var n=this.taskId;(0,Q.IN)("awaitLoadSubPackageTask",{timeout:e,loadTaskId:n,success(e){console.log("awaitLoadSubPackageTask success",e),yM(n,{moduleName:r}),a={errno:0,errMsg:"LoadTask.await:ok"}},fail(e){console.error("awaitLoadSubPackageTask fail",e),a={errMsg:"LoadTask.await:fail"+e.errMsg}}})}else a={errMsg:"LoadTask.await:fail not waiterMode"};return a}}var wM=e=>{fM(e,"loadSubPackage");var t=new bM(e.name,e);return sM.indexOf(e.name)>=0?vM("loadSubpackage:ok",!0,e,{moduleName:e.name}):"__APP__"===e.name&&z.gm&&(0,ua.N0)()&&(0,z.aI)()?(sM.push(e.name),gM(e.name),vM("loadSubpackage:ok",!0,e,{})):(e=>{var t=e.options;HE(t.waiterMode?"createLoadSubPackageTaskForWaiter":"createLoadSubPackageTask",t.name,(t=>{e.taskId=t,pM(t,e),z.jP&&cM[t]&&(yM(t,cM[t]),delete cM[t]),iM.get(e)(null)}),(r=>{r.errMsg?r.errMsg=r.errMsg.replace("createLoadSubPackageTask","loadSubpackage"):r.errMsg="loadSubpackage:fail module not found (no errMsg)",iM.get(e)(null),_.surroundThirdByTryCatch(t.fail)(r),_.surroundThirdByTryCatch(t.complete)(r)}))})(t),t},IM=(0,Y.s)("BaseFrameHide"),SM=IM.internalOnMethod;IM.internalOffMethod;(0,je.n)("onAppEnterBackground",((e={})=>{(0,Rv.b$)()?IM.emit(e):(kd.Z.once("onhide",!0),IM.emit(e),(0,ar.nm)(e),(0,ar.qC)(e),(0,ar.bI)(e),(0,ar.NB)(e))}));var kM=p(8267),CM=(e={})=>{(0,Q.IN)("startWifi",e,{})};var TM=(e={})=>{"boolean"==typeof e.partialInfo&&(e.acceptIncompleteWiFiInfo=e.partialInfo,z.cj&&(e.useCN=e.partialInfo)),(0,Q.IN)("getConnectedWifi",e,{beforeSuccess(t){var r;e.partialInfo&&t.wifi&&(z.cj?t.wifi={SSID:t.wifi.SSID,BSSID:t.wifi.BSSID}:t.wifi={SSID:t.wifi.SSID}),t.wifi&&(t.wifi.SSID=("string"==typeof(r=t.wifi.SSID)&&('"'===r[0]&&(r=r.substring(1)),'"'===r[r.length-1]&&(r=r.substring(0,r.length-1))),r))}})},PM=null,AM=["none","low","high"];(0,Q.jQ)("onEvaluateWifi",_.surroundThirdByTryCatch((function(e){var t,r={SSID:e.wifi.SSID,BSSID:e.wifi.BSSID,confidence:"none"};if("function"==typeof PM)try{t=PM(e)||{}}finally{AM.find((e=>e===t.confidence))&&(r.confidence=t.confidence),(0,Q.IN)("evaluateWifi",r,{})}}),"at onEvaluateWifi callback function"));var EM,MM,xM,DM=p(2818),RM=p.n(DM),LM=(e="")=>RM().SHA1(e).toString(),NM="GameReportKV",OM={default:0,singlePage:1,halfPage:2,embedded:3},BM=!1,jM=0,FM=0,WM=-1,UM={},GM=0,VM=0,$M={},qM="",zM="",HM="",KM=!0,JM=0,QM=0,YM="focus",ZM=0,XM=!0;(0,je.n)("onAppEnterBackground",(()=>{XM=!0}));var ex=(e={})=>{e=Object.assign({},UM,$M,e),$M=e;var t=e.query||x.default.appLaunchInfo.query,r=[];t&&"object"==typeof t&&Object.keys(t).forEach((e=>{r.push(`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)}));var a,n=e.eventTime,i=e.clickTimestamp,o=n-(i=i<=9999999999?1e3*i:i),s=e.sessionid||e.sessionId;a="boolean"==typeof e.isEntrance?e.isEntrance?1:0:MM&&MM===s?0:1,MM=s,1===e.eventId&&(GM=Date.now()-i,VM=KM?1:2,KM=!1),e.sceneNote=e.scene_note||e.sceneNote||"",e.sessionId=s||"",e.usedState=e.usedstate||e.usedState,e.costTime=o,e.SDKVersion=kM.c,e.presceneNote=e.prescene_note||e.presceneNote||"",e.isEntrance=a,e.queryArray=r,e.startCostTime=GM,e.startType=VM,zM=e.pagepath=e.path||x.default.appLaunchInfo.path;var l=[e.eventId,e.scene,e.sceneNote,e.sessionId,e.usedState,e.pagepath,e.networktype||"",e.costTime,e.stayTime||0,encodeURIComponent(e.referpagepath||""),e.targetAction||0,e.targetPagePath||"",e.clickTimestamp,e.SDKVersion,e.prescene,e.presceneNote,e.isEntrance,e.queryArray.join("&"),b.getAppType(),0,"",0,e.clickTimestamp,"",0,e.startCostTime,e.startType,Date.now(),"number"==typeof e.staytimeFuncpageStart?e.staytimeFuncpageStart:0,x.default.host?x.default.host.appId:"",e.shortLink,OM[e.mode]||0,x.default.displayMode||"",e.focusTime||0,e.notMinimizedTime||0,x.default.isLaptop||0,e.SSID||"",e.BSSID||""].map(encodeURIComponent).map(((e,t)=>-1!==[2,9,11,17].indexOf(t)?(e||"").substr(0,1024):e)).join(",");b.reportKeyValue({key:"Display",value:l}),b.submit(),((e={})=>{var t="",r=2;if(x.default){var a=x.default.accountInfo,n=x.default.envVersion;a&&(t=a.appId||""),"release"===n?r=1:"trial"===n&&(r=3)}qM||(qM=kM.c||"");var i={DeviceModel:xM.model||"",DeviceBrand:xM.brand||"",OsName:xM.platform||"",OsVersion:xM.system||"",LanguageVersion:xM.language||"",appid:t,appversion:qM,appstate:r,event_id:e.eventId,scene:e.scene,scene_note:e.sceneNote.substr(0,1024),sessionid:e.sessionId,usedstate:e.usedState,pagepath:(e.pagepath||"").substr(0,1024),networktype:e.networktype||"",costtime:e.costTime,staytime:e.stayTime||0,referpagepath:(e.referpagepath||"").substr(0,1024),targetAction:e.targetAction||0,targetPagePath:(e.targetPagePath||"").substr(0,1024),clickTimestamp:0,publicLibVersion:e.SDKVersion,prescene:e.prescene,prescene_note:e.presceneNote,isentrance:e.isEntrance,query:e.queryArray.join("&").substr(0,1024),apptype:b.getAppType(),pagetype:0,anchorTargetText:"",clickTime:e.clickTimestamp,anchorTargetRelatedText:"",orientationChangeCount:0,startCostTime:e.startCostTime,startType:e.startType,reportTime:Date.now(),hostAppId:x.default.host?x.default.host.appId:""};try{kg(1e3,JSON.stringify(i),"immediate")}catch(e){}})(e)},tx=function(){var e=_e()((function*(e={},t={}){1===(e=e.isLaunch?Object.assign(t,e,UM):Object.assign(t,e)).eventId?(e.scene_note=e.scene_note||e.sceneNote||"",e.sessionid=e.sessionid||e.sessionId||"",e.prescene_note=e.prescene_note||e.presceneNote||"",e.targetPagePath=e.targetPagePath||"",e.referpagepath=e.referpagepath||"",e.clickTimestamp=e.clickTimestamp||Date.now(),e.stayTime=e.stayTime||0):2===e.eventId&&(e.targetAction=e.targetAction||0);var r=(0,rr._getCurrentNetworkType)();"none"===r&&(r="offline"),e.networktype=r;var a="wifi"===r,n=yield new Promise((e=>{var t,r,n=Number(null!==(t=null===(r=x.default.expt)||void 0===r?void 0:r.clicfg_wxa_report_ssid)&&void 0!==t?t:0)>0;if(XM&&n&&a){XM=!1;var i={BSSID:"empty wifi info",SSID:"empty wifi info"};CM({success:()=>{TM({success:t=>{var r,a;i.BSSID=null!=t&&null!==(r=t.wifi)&&void 0!==r&&r.BSSID?LM(t.wifi.BSSID):"",i.SSID=null!=t&&null!==(a=t.wifi)&&void 0!==a&&a.BSSID?LM(t.wifi.SSID):"",e(i)},fail:()=>{e(i)}})},fail:()=>{e(i)}})}else e({})}));(n.BSSID||n.SSID)&&(e=Object.assign(n,e)),ex(e)}));return function(){return e.apply(this,arguments)}}(),rx=e=>{var t=parseInt((e.eventTime||0)/1e3,10);return[e.eventId,e.scene,t,e.stayTime||0,e.sessionId,x.default.host?x.default.host.appId:"",EM,e.instanceId].map(encodeURIComponent).join(",")},ax=(0,ua.Hw)((e=>{EM=(0,Xe.M8)(),WM=e.scene,jM=Date.now(),HM=e.sessionid||e.sessionId||"",ix({state:"focus"});var t=e.scene,r=rx({eventId:1,scene:t,eventTime:jM,sessionId:EM,instanceId:HM});b.reportKeyValue({key:NM,value:r}),tx(e,{eventId:1,eventTime:jM,staytimeFuncpageStart:0})}),"at private.reportEnterForeground","gameSDKScriptError"),nx=(0,ua.Hw)((e=>{var t=Date.now(),r=t-jM;ox({state:YM});var a=0;0===FM?a=0:FM>0&&(0,Rv.Vc)(zM)?a=t-FM:FM>0&&/^index/.test(zM)&&(a=r);var n=WM,i=rx({eventId:2,scene:n,eventTime:t,stayTime:r,sessionId:EM,instanceId:HM});b.reportKeyValue({key:NM,value:i}),tx(e,{eventId:2,scene:n,eventTime:t,stayTime:r,staytimeFuncpageStart:a,focusTime:JM,notMinimizedTime:QM})}),"at private.reportEnterBackground","gameSDKScriptError"),ix=e=>{JM=0,QM=0,ZM=Date.now(),YM=e.state||"focus"},ox=e=>{var t=e.state;if("normalize"!==t&&"maximize"!==t){var r=Date.now(),a=r-ZM;"focus"===YM&&(JM+=a),"minimize"!==YM&&(QM+=a),ZM=r,"minimize"===YM&&"blur"===t||(YM=e.state)}};function sx(e){FM="number"==typeof e?e:Date.now()}var lx=0,cx=0,ux=0,dx={};function px(){return y.getPool().length>0}x.default.onReady((()=>{cx=x.default.screenHeight,ux=x.default.screenWidth,dx=x.default.safeArea;var e=Math.max(cx,ux),t=e;dx&&dx.bottom&&(t=Math.max(dx.bottom,dx.right)),lx=e-t}));class hx extends EE{constructor({slotTemplate:e,slotStyle:t}={}){super({template:`\n    <view id="container">\n      <view id="wrp">\n        ${e}\n      </view>\n      <view id="footer">\n        <text id="playBtn" value="开始游戏" />\n      </view>\n    </view>`,style:Object.assign({container:{backgroundColor:"#000000",flexDirection:"column",width:ux,height:cx,zIndex:1000010},wrp:{flexDirection:"row",justifyContent:"center"},footer:{flexDirection:"row",justifyContent:"center",position:"absolute",paddingBottom:16+lx,paddingTop:12,bottom:0,left:0,width:ux,backgroundColor:"#000000"},playBtn:{height:40,fontSize:17,borderRadius:4,lineHeight:40,textAlign:"center",marginLeft:8,marginRight:8,color:"#ffffff",backgroundColor:"#FA9D3B",width:184}},t),event:{playBtn:{click:()=>{this._handlePlayBtnClick()}}}}),px()||setTimeout((()=>{this.preloadPackage()}),0),sx(0)}preloadPackage(){var e=KS.n.get().params,t="__APP__";if(e.userPath){var r=y.isValidGameIndependentSubpackagePath(e.userPath,x.default.subPackages);if(r){var a=t=r.root;a.endsWith(".js")||(a.endsWith("/")||(a=`${a}/`),a=`${a}game.js`),y.getGameContext().setEntry([a])}}this.loadTaskPromise=new Promise(((e,r)=>{wM({name:t,success:e,fail:e=>{f.error("createLoadSubPackageTask fail",e),r(),(0,Ze._showModal)({title:"提示",content:"加载游戏失败，请尝试重新打开游戏",showCancel:!1})}})}))}_handlePlayBtnClick(){this.runGame(1e3)}runGame(e=0){var t=KS.n.get().query,r=(0,Rv.uy)(t,"functionalpage-index.html");0===e&&(this.destroy(),KS.n.clear()),(0,Ze.showLoading)({title:"加载中",maskAll:!0});var a=new Promise((t=>{setTimeout((()=>{t()}),e)})),n=null,i=[a];px()||(n=this.loadTaskPromise,i.push(n)),Promise.all(i).then((()=>{(0,Q.IN)("functionalPageStartGame",{url:r,fail(e){f.error("functionalPageStartGame fail",e)}}),n&&y.initGameJS(),(0,Ze.hideLoading)(),e>0&&(this.destroy(),KS.n.clear()),(0,Cv.Vh)(),sx(Date.now())}))}}var fx=0,gx=0,vx=0,mx={};function yx(e,t){var r=1;if("portrait"===(vx>gx?"landscape":"portrait")){r=(gx-2*(fx+16+40+12-16))/gx}else r=.95;if("portrait"===(e>t?"landscape":"portrait")){t/e-gx/vx>=0||(r=(vx-20)/vx)}return r}x.default.onReady((()=>{gx=x.default.screenHeight,vx=x.default.screenWidth,mx=x.default.safeArea;var e=Math.max(gx,vx),t=e;mx&&mx.bottom&&(t=Math.max(mx.bottom,mx.right)),fx=e-t}));class _x extends hx{constructor({imageUrl:e}={}){var t=1,r=0,a=0,n=e.match(/size=(\d+)x(\d+)$/);n&&(t=yx(r=+n[1],a=+n[2])),super({slotTemplate:`\n      <image-previewer id="mainImage" scale="${t}"></image-previewer>\n    `,slotStyle:{mainImage:{left:0,top:0,width:vx,height:"portrait"==(vx>gx?"landscape":"portrait")?gx:gx-(fx+16+40+12)}}}),this.imageUrl=e,this.scale=t,this.width=r,this.height=a,this.sizeMatch=n,this.retried=[],(0,Lm.Wj)(this).mainImage.onImageLoadFail((e=>{this.handleOnImageLoadFail(e)})),this.initImageInfo()}handleOnImageLoadFail(e){var t=this.retried;t.includes(e.url)?(0,Ze._showModal)({content:"图片加载失败",showCancel:!1}):(t.push(e.url),this.initImageInfo()),setTimeout((()=>{(0,Ze.hideLoading)()}),500)}initImageInfo(){(0,Ze.showLoading)({title:"加载中",maskAll:!0}),this.sizeMatch?this.downloadImage().then((e=>{this.showImage({width:this.width,height:this.height,url:e.tempFilePath,scale:this.scale})})):this.downloadImage().then((e=>{(0,Q.IN)("getImageInfo",{src:e.tempFilePath,success:t=>{var{width:r,height:a}=t,n=yx(r,a);this.showImage({width:r,height:a,url:e.tempFilePath,scale:n})},fail:()=>{this.handleOnImageLoadFail({url:e.tempFilePath})}})}))}downloadImage(){return new Promise((e=>{(0,Jt.o)({url:this.imageUrl,success:t=>{e(t)},fail:()=>{this.handleOnImageLoadFail({url:this.imageUrl})}})}))}showImage(e){var{width:t,height:r,url:a,scale:n}=e,i=(0,Lm.Wj)(this);"portrait"===(t>r?"landscape":"portrait")&&(i.mainImage.scale=n),i.mainImage.urls=[a],i.mainImage.update(),setTimeout((()=>{(0,Ze.hideLoading)()}),500)}}var bx=0,wx=0,Ix=0,Sx=0,kx={};x.default.onReady((()=>{wx=x.default.screenHeight,Ix=x.default.screenWidth,Sx=x.default.statusBarHeight,kx=x.default.safeArea;var e=Math.max(wx,Ix),t=e;kx&&kx.bottom&&(t=Math.max(kx.bottom,kx.right)),bx=e-t}));class Cx extends hx{constructor({videoUrl:e,thumbUrl:t}={}){var r=`\n      <video id="mainVideo" src="${e}" poster="${t}" controls="true" object-fit="contain" autoplay="false" z-index="1000011" showProgress="false" showProgressInControlMode="true" backgroundColor="transparent"></video>\n    `,a=function(){var e=Ix>wx?"landscape":"portrait",t=bx+16+12+40;return{mainVideo:{position:"absolute",top:"portrait"===e?Sx+36:20,left:"portrait"===e?0:bx,width:"portrait"===e?Ix:Ix-2*bx,height:"portrait"===e?wx-(Sx+36)-t:wx-20-t}}}();super({slotTemplate:r,slotStyle:a}),this._handleVideoError(),this._playAtWIFI()}_handleVideoError(){(0,Lm.Wj)(this).mainVideo.onError((()=>{(0,Ze._showModal)({title:"视频加载失败，请稍后再试",confirmText:"确定",showCancel:!1})}))}_playAtWIFI(){if("wifi"===(0,rr._getCurrentNetworkType)()){var e=(0,Lm.Wj)(this);e.mainVideo.showCenterPlayBtn=!1,e.mainVideo.play()}}}var Tx=(0,Y.s)("BottomBannerButtonClicked"),Px=Tx.internalOnMethod;Tx.internalOffMethod;function Ax(){var e=function(){var e=Ev().referrerInfo,t=e&&e.messageExtraData,r={};return"object"==typeof t&&null!==t&&(r=t),r}(),t=Ev(),r=(0,Rv.CV)(t.path),a=KS.n.get();a&&a.page.destroy();var n=function(e){var{path:t,query:r,pageType:a,params:n,paramsString:i,mode:o}=e,s=null;switch(a){case Lv.Gy.PLAY_PAGE_IMAGE:s="singlePage"===o?new OE({imageUrl:e.params.fileUrl}):new _x({imageUrl:e.params.fileUrl});break;case Lv.Gy.PLAY_PAGE_VIDEO:s="singlePage"===o?new GE({videoUrl:e.params.fileUrl,thumbUrl:e.params.thumbUrl}):new Cx({videoUrl:e.params.fileUrl,thumbUrl:e.params.thumbUrl});break;default:s=new OE({imageUrl:e.params.fileUrl}),f.error("PAGE_TYPE invalid",e)}return{path:t,query:r,pageType:a,params:n,paramsString:i,page:s}}({path:r.path,query:t.query,pageType:r.functionalPageType,params:e,paramsString:JSON.stringify(e),mode:t.mode});KS.n.set(n)}(0,je.n)("onBottomBannerButtonClicked",((e={})=>{Tx.emit(e)})),x.default.onReady((()=>{(0,Cv.OQ)(((e={})=>{if(!e.isLaunch)try{var t=(0,Rv.CV)(e.path),r=KS.n.get();if(r){var a=function(){var e=Ev().referrerInfo,t=e&&e.messageExtraData,r="";return"object"==typeof t&&null!==t&&(r=JSON.stringify(t)),r}();t.isFunctionalPage?Lv.W0.includes(e.scene)&&a!==r.paramsString&&(r.page.destroy(),KS.n.clear(),Ax()):r.page.runGame(0)}else t.isFunctionalPage&&Ax()}catch(e){f.error("_onBaseFrameShow error",e)}})),Px((()=>{var e=KS.n.get().params,t=(0,Rv.uy)(e.userQuery,e.userPath);(0,Q.IN)("restart",{url:t,scene:1155,fail(e){f.error("restart fail",e)}})}))}));var Ex={parseCompletePath:Rv.CV,initFunctionalPage:Ax,VALID_SCENE:Lv.W0};function Mx(e,t,r,a=0){b.reportKeyValue({key:"Handoff",value:[x.default.appType+1e3,x.default.appLaunchInfo.scene,e,t,r,a,(0,rr._getCurrentNetworkType)(),""].join(",")})}var xx="";function Dx(e){return"string"==typeof e&&(xx="?"===e[0]?e:"?"+e,!0)}var Rx=null;function Lx(e){Rx=e}function Nx(){Rx=null}(0,Q.jQ)("onStartHandoff",(()=>{var e={};"function"==typeof Rx&&("object"!=typeof(e=Rx({}))&&(e={}),e.path="string"==typeof e.path?e.path:"","string"==typeof e.query&&(e.path=e.path+"?"+e.query)),(0,Q.IN)("startHandoff",Object.assign({},e,{actionId:1}),{beforeSuccess:()=>Mx(1,1,1),beforeFail:({errCode:e})=>Mx(1,1,0,e)})}));var Ox=[],Bx=[],jx=(0,Q.TG)("setUserCloudStorage","webapi_setselfuserstorage",(({KVDataList:e=[]})=>{var t={kv_list:e};return(0,R.jn)(x.default.disableSetUserStorageFromMiniProgram)&&(t.disable_set_user_storage_from_miniprogram=x.default.disableSetUserStorageFromMiniProgram),t})),Fx=(e={})=>{Array.isArray(e.KVDataList)?0!==e.KVDataList.length?e.KVDataList.some((e=>{if("object"!=typeof e||"string"!=typeof e.key||"string"!=typeof e.value)return!0}))?(0,Q.YG)("setUserCloudStorage",e,"invalid KVData item"):jx(e):(0,Q.YG)("setUserCloudStorage",e,"KVDataList.length must greater than 0"):(0,Q.YG)("setUserCloudStorage",e,"KVDataList must be an Array")},Wx=(0,Q.TG)("removeUserCloudStorage","webapi_removeselfuserstorage",(({keyList:e})=>({key:e}))),Ux=e=>{var t=lv(e.keyList);t?(0,Q.YG)("removeUserCloudStorage",e,t):Wx(e)},Gx=p(6789),Vx={active:102,heartBeat:103,sync:104,room:105,reconnect:106,state:108,match:111,team:112},$x=1,qx=2,zx=4,Hx=5,Kx=6,Jx=7,Qx=8,Yx=9,Zx=10,Xx=11,eD=12,tD=13,rD=14,aD=15,nD=21,iD=22,oD=23,sD=1001,lD=1004,cD=1005,uD=1006,dD=1007,pD=1e5,hD=100001,fD={broadcast:2018,roomInfoChange:2019,syncFrame:2020,receiveMessage:2021,gameStartEnd:2023,beKickedOut:2024,syncInfo:3001,friendExit:3002,friendOut:3003,friendMessage:3004,gameMatched:4001};function gD(e){try{var t=JSON.parse(e);return!0===t.is_notify?function(e,t){var r;switch(t){case fD.broadcast:r="broadcast";break;case fD.roomInfoChange:r="roomInfoChange";break;case fD.syncFrame:r="syncFrame";break;case fD.gameStartEnd:r="gameStartEnd";break;case fD.receiveMessage:r="receiveMessage";break;case fD.beKickedOut:r="beKickedOut";break;case fD.syncInfo:case fD.friendExit:case fD.friendOut:r="syncInfo";break;case fD.friendMessage:r="friendMessage";break;case fD.gameMatched:r="gameMatched";break;default:r=""}return{type:r,data:e.data}}(t,t.notify_cmd):function(e){var t,{businessid:r,ts:a,data:n,ret:i}=e;switch(r){case Vx.active:return{type:"active",ts:a,errCode:i};case Vx.heartBeat:return{type:"heartBeat",ts:a,errCode:i};case Vx.sync:case Vx.room:if(0!==i)return{type:`resp-${a}`,ts:a,errCode:i};var o=JSON.parse(n);return t={type:`resp-${a}`,ts:a,errCode:o.errcode,errMsg:o.errmsg},o.resp_data&&(t.data=JSON.parse(o.resp_data)),t;case Vx.state:case Vx.match:case Vx.team:if(0!==i)return{type:`resp-${a}`,ts:a,errCode:i};var s=JSON.parse(n);return t={type:`resp-${a}`,ts:a,errCode:s.errcode,errMsg:s.errmsg},s.resp_data&&(t.data=JSON.parse(s.resp_data)),t;case Vx.reconnect:return 0!==i?{type:`resp-${a}`,ts:a,errCode:i}:t={type:`resp-${a}`,ts:a,errCode:0,data:{clientId:n}};default:f.error("Unknown WebSocket Message:",e)}}(t)}catch(e){return{type:"error",data:e.message}}}const vD={webSocketState:0,roomAccessInfo:"",gameAccessInfo:"",clientId:0,sessionId:"",socketTask:null,lockStep:null,connectedToRoom:!1,connectedToGame:!1,hasGameStarted:!1,roomInfo:null,hasLoggedIn:!1,loginPromise:null};var mD,yD={getCredentialsFail:217,startLockStepFail:218,getLostFramesFail:219},_D=e=>{var t=yD[e];t?b.reportIDKey({key:t}):f.error(`invalid name "${e}"`)},bD="wss://long.wxagame.weixin.qq.com",wD=new tt.Z;class ID{constructor(e,t={}){return this.options=Object.assign({heartBeat:!0,heartBeatInterval:15e3,heartBeatTimeout:3e4},t),this._emitter=new tt.Z,this._setSocket(e),this._bindHandlers(),this}_setSocket(e){this._socketTask=e,this._socketTask.onOpen(this._emitter.emit.bind(this._emitter,"ws-open")),this._socketTask.onClose(this._emitter.emit.bind(this._emitter,"ws-close")),this._socketTask.onError(this._emitter.emit.bind(this._emitter,"ws-error")),this._socketTask.onMessage(this._emitter.emit.bind(this._emitter,"ws-message"))}_bindHandlers(){this._emitter.on("ws-open",(()=>{this._emitter.once("recv-active",(e=>{0===e.errCode?this._emitter.emit("open",e):this._emitter.emit("error",e)})),this._sendRawPacket(Vx.active).catch((e=>{this._emitter.off("recv-active"),this._emitter.emit("error",e)}))})).on("ws-message",(e=>{var t=gD(e.data);"error"===t.type&&f.error("响应数据异常",t.data),this._emitter.emit(`recv-${t.type}`,t),wD.emit(`recv-${t.type}`,t)})).on("open",(()=>{this._sendHeartBeat()})).on("error",(()=>{this._heartBeatTimer&&clearTimeout(this._heartBeatTimer)})).on("ws-error",(e=>{f.error("socket error:",e),this._heartBeatTimer&&clearTimeout(this._heartBeatTimer)})).on("ws-close",(e=>{this._heartBeatTimer&&clearTimeout(this._heartBeatTimer),mD=void 0,vD.hasLoggedIn=!1,vD.loginPromise=null,this._emitter.emit("logout",e)})).on("heartBeat-error",(e=>{})).on("logout",(e=>{wD.emit("logout",e)}))}_sendHeartBeat(){this.options.heartBeat&&(this._heartBeatTimer=setTimeout((()=>{this._sendRawPacket(Vx.heartBeat).catch((e=>{this._emitter.emit("heartBeat-error",e)})),this._emitter.once("recv-heartBeat",(e=>{0===e.errCode?(this._emitter.emit("heartBeat-ok",e),this._heartBeatTimeout&&clearTimeout(this._heartBeatTimeout),this._sendHeartBeat()):this._emitter.emit("heartBeat-error",e)})),this._heartBeatTimeout=setTimeout((()=>{this._emitter.emit("logout")}),this.options.heartBeatTimeout)}),this.options.heartBeatInterval))}_sendRawPacket(e,t=void 0,r=void 0,a=void 0){return new Promise((e=>{mD?e(mD):(0,Q.yD)({apiName:"webapi_getlockstepticket",success:t=>{var r=t.data;mD=r.socket_key,e(mD),vD.sessionId=mD},fail:e=>{_D(yD.getCredentialsFail),f.error("getCredentials",e.errMsg)}})})).then((n=>new Promise(((i,o)=>{var s={session_id:n,fast:1,businessid:e,data:t,access_info:r,ts:(a||Date.now())+""};e===Vx.sync&&delete s.session_id,this._socketTask.send({data:JSON.stringify(s),success:i,fail:o})}))))}_listenForResponse(e,t,r,a){this._emitter.once(`recv-resp-${e}`,(e=>{delete e.type,delete e.ts,a.beforeAll&&a.beforeAll(e),0===e.errCode?(a.beforeSuccess&&a.beforeSuccess(e),t(e),a.afterSuccess&&a.afterSuccess(e)):(a.beforeFail&&a.beforeFail(e),r(e),a.afterFail&&a.afterFail(e)),a.afterAll&&a.afterAll(e)}))}sendCommand(e,t,r){var a;switch(e){case qx:case Hx:case zx:a=Vx.sync;break;case Zx:a=Vx.reconnect;break;case sD:case lD:case cD:case uD:case dD:a=Vx.state;break;case pD:case hD:a=Vx.match;break;default:a=Vx.room}return new Promise(((n,i)=>{var{content:o,accessInfo:s}=t,l=Date.now();this._listenForResponse(l,n,i,r),this._sendRawPacket(a,JSON.stringify({cmd:e,content:JSON.stringify(o)}),s,l).then((()=>{})).catch((e=>{i(e)}))}))}close(e){return this._socketTask.close(e)}onOpen(e){this._emitter.on("open",e)}onClose(e){this._emitter.on("close",e)}onError(e){this._emitter.on("error",e)}onMessage(e){this._emitter.on("recv-message",e)}}function SD(e={}){return new ID(function(e={}){var t=Object.assign({},e,{url:bD});return(0,Gx.as)().connectSocket(t)}(e),e)}function kD(e){return"Object"===(0,R.Em)(e)?Object.keys(e).reduce(((t,r)=>{var a,n;return e[r]=kD(e[r]),t[(a=r,n=a.replace(/_+(\w)/g,(function(){return arguments[2]?arguments[1].toUpperCase():arguments[0]})),n)]=e[r],t}),{}):Array.isArray(e)?e.map(kD):e}function CD(e){return"Object"===(0,R.Em)(e)?Object.keys(e).reduce(((t,r)=>{var a;return e[r]=CD(e[r]),t[(a=r,a.split(/(?=[A-Z])/).join("_").toLowerCase())]=e[r],t}),{}):Array.isArray(e)?e.map(CD):e}function TD(){var e={gameTick:33,UDPReliabilityStrategy:3,heartBeatTick:2e3,offlineTimeLength:15e3,dataType:"String"};return(0,R.Kn)(x.default.lockStepOptions)?(["gameTick","UDPReliabilityStrategy","heartBeatTick","offlineTimeLength"].forEach((t=>{(0,R.hj)(x.default.lockStepOptions[t])?e[t]=x.default.lockStepOptions[t]:console.warn(`game.json: lockStepOptions.${t} is not a Number, using default value ${e[t]}`)})),["String","ArrayBuffer"].indexOf(x.default.lockStepOptions.dataType)&&console.warn('game.json: lockStepOptions.dataType "WXConfig.lockStepOptions.dataType" is invalid, using default value "String"'),e):(console.warn("game.json: lockStepOptions is not an Object, using default options.",e),e)}var PD=new tt.Z;var AD=1,ED=0,MD=1,xD=2,DD=3,RD=4,LD=5,ND=6,OD=6;const BD=class{constructor(){if(q.Z.LockStep){this.emitter=new tt.y;try{this.nativeInstance=new q.Z.LockStep}catch(e){f.warn(`[LockStep] new 失败 ${e.message}`)}f.warn("[LockStep] new 成功",this.nativeInstance);var{heartBeatTick:e,offlineTimeLength:t,gameTick:r,UDPReliabilityStrategy:a,dataType:n}=TD(),i={heartBeatTick:e,offlineTimeLength:t,UDPReliabilityStrategy:a,gameTick:r,dataType:n,address:"long.wxagame.weixin.qq.com",port:10010};f.warn(`[LockStep.initialize]gameTick=${i.gameTick}, hearBeatTick=${i.heartBeatTick}, offlineTimeLength=${i.offlineTimeLength}, UDPReliabilityStrategy=${i.UDPReliabilityStrategy}, gameTick=${i.gameTick}, dataType=${n}, address=${i.address}, port=${i.port}`),this.nativeInstance.initialize(i),this.nativeInstance.onStatusChange=e=>{var{status:t}=e,{requestId:r}=e;if(delete e.status,r)this.emitter.emit(`${t}_${r}`,e);else{switch(t){case ED:this.emitter.emit("onDisconnect");break;case LD:this.emitter.emit("onError"),PD.emit("error",e)}this.emitter.emit(t,e)}},this.nativeInstance.onSyncFrame=e=>{this.emitter.emit("onSyncFrame",e)}}else f.error("当前环境不支持 LockStep")}uploadFrame({actionList:e}){return new Promise(((t,r)=>{try{this.nativeInstance.uploadFrame({actionList:e}),t()}catch(e){f.error(`[LockStep.uploadFrame][fail] errMsg=${e.message}`),r({errMsg:e.message})}}))}getLostFrames({beginFrameId:e,endFrameId:t}){var r=AD++;return new Promise(((a,n)=>{this.nativeInstance.getLostFrames({beginFrameId:e,endFrameId:t,requestId:r}),this.emitter.once(`${ND}_${r}`,a),this.emitter.once(`${OD}_${r}`,(e=>{_D(yD.getLostFramesFail),f.error(`[LockStep.getLostFrames][fail], errMsg=${e.errMsg}, errCode=${e.errCode}`),n(e)}))}))}reconnect({accessInfo:e,clientId:t,sessionId:r}){var a=AD++;return new Promise(((n,i)=>{this.nativeInstance.reconnect({accessInfo:e,clientId:t,sessionId:r,requestId:a}),this.emitter.once(`${DD}_${a}`,n),this.emitter.once(`${RD}_${a}`,i)}))}onSyncFrame(e){this.emitter.on("onSyncFrame",e)}offSyncFrame(e){this.emitter.off("onSyncFrame",e)}startLockStep({accessInfo:e,clientId:t,sessionId:r}){var a=AD++;return new Promise(((n,i)=>{this.nativeInstance.startLockStep({accessInfo:e,clientId:t,sessionId:r,requestId:a}),this.emitter.once(`${MD}_${a}`,n),this.emitter.once(`${xD}_${a}`,i)}))}stopLockStep(){var e=AD++;this.nativeInstance.stopLockStep({requestId:e})}onError(e){this.emitter.on("onError",e)}offError(e){this.emitter.off("onError",e)}onDisconnect(e){this.emitter.on("onDisconnect",e)}offDisconnect(e){this.emitter.off("onDisconnect",e)}};var jD=new tt.y;(0,Q.jQ)("onLockStepTaskEvent",(({id:e,event:t,...r})=>{jD.emit(`${e}_${t}`,r),PD.emit(t,r)}));const FD=class{constructor(){this._createLockStep(),this._initialize(),this._registerMethod(),this._registerEvent()}_createLockStep(){var e="createLockStep 没有同步回调";if((0,Q.IN)("createLockStep",{success:({id:e})=>{this.id=e},fail(t){f.error(`[createLockStep][fail]errMsg=${t.errMsg}`),e=t.errMsg}}),(0,R.o8)(this.id))throw new Error(e)}_initialize(){var{heartBeatTick:e,offlineTimeLength:t,gameTick:r,UDPReliabilityStrategy:a,dataType:n}=TD(),i={heartBeatTick:e,offlineTimeLength:t,UDPReliabilityStrategy:a,gameTick:r,dataType:n,address:"long.wxagame.weixin.qq.com",port:10010};f.warn(`[LockStep.initialize]gameTick=${i.gameTick}, hearBeatTick=${i.heartBeatTick}, offlineTimeLength=${i.offlineTimeLength}, UDPReliabilityStrategy=${i.UDPReliabilityStrategy}, gameTick=${i.gameTick}, dataType=${i.dataType}, address=${i.address}, port=${i.port}`),this._invokeLockStepMethod("initialize",i)}_invokeLockStepMethod(e,t){(0,Q.IN)("invokeLockStepMethod",Object.assign({},t,{method:e,id:this.id}),{beforeAll(t){t.errMsg=t.errMsg.replace("invokeLockStepMethod",`GameServerManager.${e}`),delete t.id,delete t.cmdId}})}_registerMethod(){["uploadFrame","getLostFrames","reconnect","startLockStep","stopLockStep"].forEach((e=>{this[e]=t=>new Promise(((r,a)=>{this._invokeLockStepMethod(e,Object.assign({},t,{success:r,fail:a}))}))}))}_registerEvent(){["syncFrame","disconnect","error"].forEach((e=>{var t=(0,Y.s)(`LockStep_${this.id}_${e}`);this[`on${(0,ua.fm)(e)}`]=t.onMethod,this[`off${(0,ua.fm)(e)}`]=t.offMethod,jD.on(`${this.id}_${e}`,((e={})=>{t.emit(e)}))}))}};const WD=class{constructor(){return z.gm?new FD:new BD}};function UD(){}const GD=class{constructor({wsEventName:e,nativeEventName:t,needJSONParse:r=!1,beforeEvent:a=UD}){if(Object.assign(this,{wsEventName:e,nativeEventName:t,needJSONParse:r,beforeEvent:a}),this.hasListenedNativeEvent=!1,e)this.internalEventManager=(0,Y.s)(`GSM-${this.wsEventName}`),this.initWSEvent();else{if(!t)throw new Error(`invalid wsEventName "${e}" and nativeEventName "${t}"`);this.internalEventManager=(0,Y.s)(`GSM-${this.nativeEventName}`)}}initWSEvent(){wD.on(this.wsEventName,(e=>{this.needJSONParse?e=kD(JSON.parse(e.data)):e.data=kD(e.data),this.beforeEvent(e),this.internalEventManager.emit(e)})),this.onMethod=this.internalEventManager.onMethod,this.offMethod=this.internalEventManager.offMethod}onMethod(e){this.hasListenedNativeEvent||(this.hasListenedNativeEvent=!0,vD.lockStep||(vD.lockStep=new WD),vD.lockStep[this.nativeEventName](((e={})=>{this.beforeEvent(e),this.internalEventManager.emit(e)}))),this.internalEventManager.onMethod(e)}offMethod(e){this.internalEventManager.offMethod(e)}};var VD=new GD({nativeEventName:"onDisconnect",beforeEvent(e){e.type="game",vD.connectedToGame=!1}}),$D=VD.onMethod.bind(VD),qD=VD.offMethod.bind(VD),zD=VD.internalEventManager.emit,HD={errCode:1001,errMsg:"has not logged in to server"};function KD(){}const JD=class{constructor({command:e,nativeMethodName:t,expectedArgs:r={},beforeInvoke:a=KD,beforeSend:n=KD,beforeSuccess:i=KD,autoFillAccessInfo:o=!0,functionType:s=1}){this.command=e,this.nativeMethodName=t,this.expectedArgs=r,this.beforeInvoke=a,this.beforeSend=n,this.beforeSuccess=i,this.autoFillAccessInfo=o,this.functionType=s}checkType(e,t,r){var a=(0,R.Em)(r);if(a!==t)throw new Error(`${e} should be ${t} instead of ${a}`)}assertType(e){if("Object"!==(0,R.Em)(e))throw new Error(`args should be object instead of ${(0,R.Em)(e)}`);for(var t in this.expectedArgs)this.checkType(t.type,e[this.expectedArg.name])}checkIsCallbackStyle(e={}){return"Function"===(0,R.Em)(e.success)||"Function"===(0,R.Em)(e.fail)||"Function"===(0,R.Em)(e.complete)}sendCommand({rawArgs:e}){return vD.hasLoggedIn?new Promise(((t,r)=>{var a={accessInfo:this.autoFillAccessInfo?vD.roomAccessInfo:e.accessInfo,content:CD(e)};delete a.content.access_info,this.beforeSend(a,e),vD.socketTask.sendCommand(this.command,a,{}).then((e=>{e=kD(e);var a=this.beforeSuccess(e);a instanceof Promise?a.then((()=>{t(e)})).catch((e=>{r(e)})):t(e)})).catch((e=>{r(e)}))})):Promise.reject(HD)}callNative({rawArgs:e}){var t=Object.assign({},e);return delete t.success,delete t.fail,delete t.complete,["login","reconnect"].includes(this.nativeMethodName)&&(t.sessionId=vD.sessionId,t.clientId=vD.clientId),vD.lockStep||(vD.lockStep=new WD),vD.lockStep[this.nativeMethodName](t)}invokeMethod(e={}){this.assertType(e),this.beforeInvoke(e);var t,r=this.checkIsCallbackStyle(e);switch(this.functionType){case 1:t=this.sendCommand({rawArgs:e});break;case 2:t=this.callNative({rawArgs:e});break;default:throw new Error(`invalid function type: ${this.functionType}`)}return r?void t.then((t=>{e.success&&e.success(t),e.complete&&e.complete(t)})).catch((t=>{e.fail&&e.fail(t),e.complete&&e.complete(t)})):t}};var QD=new JD({command:Qx,beforeSend(e){var{gameTick:t,UDPReliabilityStrategy:r}=TD();e.content.udp_reliability_strategy=r,e.content.game_tick=t},beforeSuccess(e){vD.gameAccessInfo&&vD.lockStep.stopLockStep();var{accessInfo:t,clientId:r}=e.data;vD.roomAccessInfo=t,vD.gameAccessInfo="",vD.connectedToRoom=!0,vD.clientId=r}}),YD=QD.invokeMethod.bind(QD),ZD=new JD({command:Yx,autoFillAccessInfo:!1,beforeSend(e){this.tempAccessInfo=e.accessInfo},beforeSuccess(e){var{clientId:t}=e.data;vD.roomAccessInfo=this.tempAccessInfo,vD.gameAccessInfo="",vD.connectedToRoom=!0,vD.clientId=t}}),XD=ZD.invokeMethod.bind(ZD),eR=new JD({command:Xx}),tR=eR.invokeMethod.bind(eR),rR=new JD({command:eD}),aR=rR.invokeMethod.bind(rR),nR=new JD({command:aD}),iR=nR.invokeMethod.bind(nR),oR=new JD({command:Kx}),sR=oR.invokeMethod.bind(oR),lR=new JD({command:rD,beforeSend(e){e.content.quit=!0},beforeSuccess(){vD.gameAccessInfo&&vD.lockStep.stopLockStep(),vD.roomAccessInfo="",vD.gameAccessInfo=""}}),cR=lR.invokeMethod.bind(lR),uR=new JD({command:tD,beforeSuccess(){vD.gameAccessInfo&&vD.lockStep.stopLockStep(),vD.roomAccessInfo="",vD.gameAccessInfo=""}}),dR=uR.invokeMethod.bind(uR),pR=new JD({command:$x,beforeSend(e){e.content.use_udp_to_lockstep=!0}}),hR=pR.invokeMethod.bind(pR),fR=new JD({command:Jx,beforeInvoke(){if(!vD.gameAccessInfo)throw new Error("game has not started")},beforeSend(e){e.content.use_udp_to_lockstep=!0}}),gR=fR.invokeMethod.bind(fR),vR=new JD({functionType:2,nativeMethodName:"uploadFrame"}),mR=vR.invokeMethod.bind(vR),yR=new JD({functionType:2,nativeMethodName:"getLostFrames"}),_R=yR.invokeMethod.bind(yR),bR=new GD({wsEventName:"recv-broadcast",needJSONParse:!0}),wR=bR.onMethod,IR=bR.offMethod,SR=new GD({wsEventName:"recv-roomInfoChange",needJSONParse:!0,beforeEvent(e){vD.roomInfo=e}}),kR=SR.onMethod,CR=SR.offMethod;new GD({wsEventName:"recv-gameStartEnd",needJSONParse:!0}).onMethod((({state:e,accessInfo:t})=>{switch(e){case 2:f.warn(`[onGameStart] accessInfo=${t}`),vD.gameAccessInfo=t,vD.lockStep||(vD.lockStep=new WD),vD.lockStep.startLockStep({accessInfo:t,clientId:vD.clientId,sessionId:vD.sessionId}).then((()=>{vD.connectedToGame=!0,vD.hasGameStarted=!0,TR.emit({}),f.warn("[onGameStart][LockStep.start][success]")})).catch((e=>{_D(yD.startLockStepFail),f.error("[onGameStart][LockStep.start][fail]",e)}));break;case 3:f.warn("[onGameEnd]"),vD.lockStep.stopLockStep(),vD.hasGameStarted=!0,ER.emit({gameAccessInfo:vD.gameAccessInfo}),vD.gameAccessInfo=""}}));var TR=(0,Y.s)("LockStepGameStart"),PR=TR.onMethod,AR=TR.offMethod,ER=(0,Y.s)("LockStepGameEnd"),MR=ER.onMethod,xR=ER.offMethod,DR=new GD({nativeEventName:"onSyncFrame",beforeEvent(){vD.hasGameStarted||(vD.hasGameStarted=!0,vD.connectedToGame=!0,TR.emit({}))}}),RR=DR.onMethod.bind(DR),LR=DR.offMethod.bind(DR),NR=(()=>{var e=new JD({command:Zx,autoFillAccessInfo:!1});return e.invokeMethod.bind(e)})(),OR=(()=>{var e=new JD({functionType:2,nativeMethodName:"reconnect",beforeSuccess(){vD.connectedToGame=!0}});return e.invokeMethod.bind(e)})();function BR(e){if(vD.connectedToGame)return Promise.resolve({});switch(e.roomState){case 1:return Promise.resolve({});case 2:case 5:var{gameAccessInfo:t}=e;return vD.gameAccessInfo=t,OR({accessInfo:t,clientId:vD.clientId,sessionId:vD.sessionId});case 3:return Promise.reject({errMsg:"the room state is ended."});case 4:return Promise.reject({errMsg:"the room state is destroyed"});default:return Promise.reject({errMsg:`invalid room state: ${e.roomState}`})}}var jR=new JD({command:nD}),FR=jR.invokeMethod.bind(jR),WR=new JD({command:iD}),UR=WR.invokeMethod.bind(WR),GR=new GD({wsEventName:"recv-beKickedOut",needJSONParse:!1,beforeEvent(e){vD.gameAccessInfo&&vD.lockStep.stopLockStep(),vD.roomAccessInfo="",vD.gameAccessInfo="",f.warn("[onBeKickedOut]",e)}}),VR=GR.onMethod.bind(GR),$R=GR.offMethod.bind(GR),qR=new JD({command:oD}),zR=qR.invokeMethod.bind(qR),HR=new JD({command:sD}),KR=HR.invokeMethod.bind(HR),JR=new JD({command:cD}),QR=JR.invokeMethod.bind(JR),YR="";var ZR=new JD({command:uD}),XR=ZR.invokeMethod.bind(ZR);var eL=new JD({command:dD}),tL=eL.invokeMethod.bind(eL),rL=new GD({wsEventName:"recv-syncInfo",needJSONParse:!0}),aL=rL.onMethod,nL=rL.offMethod,iL=new tt.Z;new GD({wsEventName:"recv-friendMessage",needJSONParse:!0}).onMethod((e=>{e.msg=JSON.parse(e.msg),iL.emit(e.msg.type,e)}));var oL=new WeakMap;var sL=new JD({command:pD}),lL=sL.invokeMethod.bind(sL),cL=new JD({command:hD}),uL=cL.invokeMethod.bind(cL),dL=new GD({wsEventName:"recv-gameMatched",needJSONParse:!0}),pL=dL.onMethod,hL=dL.offMethod,fL={login:()=>(vD.loginPromise||(vD.loginPromise=new Promise(((e,t)=>{var r=e=>{f.error("connectSocketError",e),t(e.errMsg)};vD.socketTask=SD(),vD.socketTask._emitter.once("recv-active",(()=>{vD.hasLoggedIn=!0,e(),vD.socketTask._emitter.off("ws-error",r)})),vD.socketTask._emitter.once("ws-error",r)}))),vD.loginPromise),logout:()=>new Promise(((e,t)=>{if(!vD.socketTask)return e();try{vD.socketTask.close(),vD.socketTask._emitter.once("ws-close",e),delete vD.socketTask}catch(e){f.error("GameServerManager.logout() fail",e.message),t(e.message)}})),onLogout:e=>{wD.on("logout",(()=>{e(),vD.roomAccessInfo&&zD({type:"room"})}))},offLogout:e=>{wD.off("logout",e)},createRoom:YD,joinRoom:XD,updateReadyStatus:tR,changeSeat:aR,getRoomInfo:iR,broadcastInRoom:sR,ownerLeaveRoom:dR,memberLeaveRoom:cR,startGame:hR,endGame:gR,uploadFrame:mR,getLostFrames:_R,reconnect:e=>{return f.warn("[reconnect][invoke]",e),(t=e.accessInfo,NR({accessInfo:t}).then((e=>(f.warn(`[roomReconnect][success]accessInfo=${t}, clientId=${e.data.clientId}`),vD.roomAccessInfo=t,vD.connectedToRoom=!0,vD.clientId=Number(e.data.clientId),iR()))).then((e=>(f.warn("[getRoomInfo][success]",e),vD.roomInfo=e.data.roomInfo,vD.roomInfo.gameAccessInfo&&(vD.gameAccessInfo=vD.roomInfo.gameAccessInfo),Promise.resolve(vD.roomInfo))))).then(BR);var t},getLastRoomInfo:FR,kickoutMember:UR,restart:zR,onBroadcast:wR,offBroadcast:IR,onRoomInfoChange:kR,offRoomInfoChange:CR,onSyncFrame:RR,offSyncFrame:LR,onGameStart:PR,offGameStart:AR,onGameEnd:MR,offGameEnd:xR,onDisconnect:$D,offDisconnect:qD,onBeKickedOut:VR,offBeKickedOut:$R,onLockStepError:function(e){"function"==typeof e&&PD.on("error",e)},offLockStepError:function(e){"function"==typeof e?PD.off("error",e):PD.removeAllListeners("error")},startStateService:KR,endStateService:QR,setState:tL,setInviteData:function(e){return"string"==typeof e&&(YR=e,!0)},onInvite:function(e){var t=({srcProfile:t,msg:r})=>{var{data:a}=r,{nickName:n,openId:i}=t,o=i+"_"+Date.now(),s=[i,"",1,o].join(",");b.reportKeyValue({key:"GameServerInvite",value:s}),(0,Ze._showModal)({confirmText:"加入",cancelText:"取消",content:`${n} 邀请你一起玩游戏，是否加入？`,success:t=>{t.confirm&&e({openId:i,data:a});var r=[i,"",t.confirm?2:3,o].join(",");b.reportKeyValue({key:"GameServerInvite",value:r})}})};oL.set(e,t),iL.on("invite",t)},offInvite:function(e){iL.off("invite",oL.get(e)),oL.delete(e)},startMatch:lL,cancelMatch:uL,onMatch:pL,offMatch:hL},gL={inviteFriend:function({openId:e}){XR({target_openid_list:[e],msg:JSON.stringify({type:"invite",data:YR})})},onStateUpdate:aL,offStateUpdate:nL,getFriendsStateData:(e={})=>{li("GameServerManager.getFriendsStateData").catch((e=>({success:!0}))).then((({success:t,errMsg:r,errno:a})=>{t?(0,Q.TG)("getFriendsStateData","webapi_opengameinfo_getfriendsuserdata",(()=>{}),(e=>{var{friend_data_list:t}=e;return e.list=t?t.map((({game_info:e,profile:t})=>({userState:e.user_state,sysState:e.sys_state,openId:e.open_id,nickName:t.nick_name,avatarUrl:t.avatar_url,gender:t.gender}))):[],delete e.friend_data_list,e}))(e):(0,Q.FE)({name:"getFriendsStateData",args:e,errno:a,errMsg:r,success:!1})}))}},vL=()=>fL,mL=new WeakMap;class yL extends Number{}Object.freeze(yL),Object.freeze(yL.prototype);var _L=()=>new yL(9999);class bL{constructor(){mL.set(this,new WeakMap)}setTimeout(){var e=mL.get(this),t=q.Z.setTimeout.apply(void 0,arguments),r=_L();return e.set(r,t),r}clearTimeout(e){var t=mL.get(this).get(e);void 0!==t&&q.Z.clearTimeout(t)}setInterval(){var e=mL.get(this),t=q.Z.setInterval.apply(void 0,arguments),r=_L();return e.set(r,t),r}clearInterval(e){var t=mL.get(this).get(e);void 0!==t&&q.Z.clearInterval(t)}requestAnimationFrame(){var e=mL.get(this),t=q.Z.requestAnimationFrame.apply(void 0,arguments),r=_L();return e.set(r,t),r}cancelAnimationFrame(e){var t=mL.get(this).get(e);void 0!==t&&q.Z.cancelAnimationFrame(t)}}var wL,IL=()=>{var e=new bL;return{setTimeout:e.setTimeout.bind(e),clearTimeout:e.clearTimeout.bind(e),setInterval:e.setInterval.bind(e),clearInterval:e.clearInterval.bind(e),requestAnimationFrame:e.requestAnimationFrame.bind(e),cancelAnimationFrame:e.cancelAnimationFrame.bind(e)}},SL=(0,Q.TG)("routeJSServer","routeJsSvr",(({name:e="",arg:t=""})=>({json_args:JSON.stringify({data:JSON.stringify({arg:t,name:e})})})),(e=>{if(!e.rawDataObject)return e.errMsg,e;var{data:t,log:r}=e.rawDataObject;return e.data=JSON.parse(t),e.log=r,e.baseResp=JSON.parse(e.base_resp),e.baseResp.errCode=e.baseResp.errcode,e.baseResp.errMsg=e.baseResp.errmsg,delete e.base_resp,delete e.baseResp.errcode,delete e.baseResp.errmsg,e})),kL=p(4161),CL={muteMicrophone:!1,muteEarphone:!1};function TL(e){return(0,R.Kn)(e)?$p()?{muteMicrophone:!0,muteEarphone:!0}:((0,R.jn)(e.muteMicrophone)&&(CL.muteMicrophone=e.muteMicrophone),(0,R.jn)(e.muteEarphone)&&(CL.muteEarphone=e.muteEarphone),CL):CL}var PL=()=>{(0,Ze._showModal)({content:"账号已被禁言，暂时不能发送消息",confirmText:"知道了",showCancel:!1})},AL=e=>{"boolean"==typeof wL?(wL&&PL(),e(wL)):(0,z.aI)()?(0,Q.yD)({apiName:"webapi_getvoiceroompunishstatusforwxag",sdkApiName:"checkMicrophoneBanned",reqData:{},success(t){var{is_punished:r}=t.data;!0===r?(PL(),e(wL=!0)):e(!1===r&&(wL=!1))},fail(){e(!1)}}):e(wL=!1)},EL=p(3691),ML=function(e){if((0,Q.r3)("joinVoIPChat",e,{signature:"",nonceStr:"",timeStamp:0,groupId:""})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:TL(e.muteConfig),handsFree:!(0,R.jn)(e.handsFree)||e.handsFree,roomType:t}),a=()=>{var e=(0,St.hI)(this);r.privateData=JSON.stringify({pluginId:e});var a=()=>{var a=(0,Q.qu)(e);Di([1===t?"scope.camera":"scope.voice"])&&(r.permissionBytes=[1,1,1],a=(0,Q.aT)(e)),a("joinVoIPChat",r,{beforeSuccess(e){(0,EL.gA)(),(0,Q.nY)("joinVoIPChat",{}),e.errCode=0,e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))},beforeFail(e){void 0===e.errCode&&(e.errCode=(e=>{var t=new RegExp(/^joinVoIPChat:(?:fail )?fail: (-?[0-9]+?), (-?[0-9]+?), .*/).exec(e);if(!t)return-1e3;var r=parseInt(t[1],10),a=parseInt(t[2],10);if(-10086!==r&&-10087!==r)return-1e3;switch(a){case 0:return 0;case-1:return-1;case-7:return-2;default:return-1e3}})(e.errMsg))}})};r.muteConfig.muteMicrophone?a():AL((e=>{e&&(r.muteConfig.muteMicrophone=!0),a()}))};r.forceCellularNetwork?"boolean"!=typeof r.forceCellularNetwork?(console.warn("joinVoIPChat argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=!1,a()):(0,EL.Nv)().then((e=>{e||(r.forceCellularNetwork=!1),a()})):a()}},xL=function(e){try{var t=(0,St.hI)(this);(0,Q.qu)(t)("exitVoIPChat",Object.assign({},e,{success(t){var r=t.errMsg||"ok";(0,Q.nY)("exitVoIPChat",{}),(0,Q.FE)({name:"exitVoIPChat",args:e,errMsg:r,errCode:0,res:t})},fail(t){var r=t.errCode||-1,a=t.errMsg||"unknown error";(0,Q.FE)({name:"exitVoIPChat",args:e,success:!1,errMsg:a,errCode:r,res:t})},complete(){}}))}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:`exitVoIPChat:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:`exitVoIPChat:complete ${t.message}`})}},DL=function(e){if((0,Q.r3)("updateVoIPChatMuteConfig",e,{muteConfig:{}})){var t=(0,St.hI)(this),r=Object.assign({},e,{muteConfig:TL(e.muteConfig),handsFree:!(0,R.jn)(e.handsFree)||e.handsFree}),a=()=>{(0,Q.qu)(t)("updateVoIPChatMuteConfig",r,{beforeSuccess(e){e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))}})};r.muteConfig.muteMicrophone?a():AL((e=>{e&&(r.muteConfig.muteMicrophone=!0),a()}))}},RL=(0,Y.s)("voIPChatMembersChanged"),LL=RL.onMethod,NL=RL.offMethod;(0,Q.jQ)("onVoIPChatMembersChanged",(e=>{e.errCode=0,e.errMsg=e.errMsg||"ok",RL.emit(e)}));var OL=e=>{try{(0,Q.jQ)("onVoIPChatSpeakersChanged",(t=>{t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&_.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}))}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&_.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}},BL=()=>{(0,Q.jQ)("onVoIPChatSpeakersChanged",(()=>{}))},jL=(0,Y.s)("VoIPChatInterrupted"),FL=e=>{e.errCode||(e.errCode=((e="")=>e.includes("current mini app entered background")?-1:e.includes("in comming call")?-2:-1e3)(e.reason)),jL.emit(e)};(0,Q.jQ)("onVoIPChatInterrupted",(e=>{FL(e)})),(0,Q.jQ)("onVoIPChatInterruptedJsEvent",(e=>{FL(e)}));var WL=jL.onMethod,UL=jL.offMethod,GL=(0,Y.s)("VoIPVideoMembersChanged"),VL=GL.onMethod,$L=GL.offMethod;(0,Q.jQ)("onVoIPVideoMembersChanged",((e={})=>{GL.emit(e)}));var qL=(0,Y.s)("voIPChatStateChanged"),zL=qL.onMethod,HL=qL.offMethod;(0,Q.jQ)("onVoIPChatStateChanged",(e=>{e.errCode=e.errCode||0,e.errMsg=e.errMsg||"ok",qL.emit(e)}));var KL,JL=h.log,QL=({version:e,customVersion:t})=>({customVersion:t,version:e,domains:{},hostSign:{}}),YL=()=>{if(KL)return KL;if(KL={},x.default.appContactInfo&&x.default.appContactInfo.call_plugin_info)for(var e=x.default.appContactInfo.call_plugin_info,t=0;t<e.length;t++){var r=e[t],a=r.plugin_id;KL[a]=QL({version:r.inner_version,customVersion:r.plugin_version||""})}else x.default.plugins&&Object.keys(x.default.plugins).forEach((e=>{var t=x.default.plugins[e],r=t.provider;KL[r]=QL({version:0,customVersion:t.version||""})}));return KL};var ZL=()=>{JL("start to invokeGetContact");var e=[],t={};if(Object.keys(KL).forEach((r=>{e.push(r),t[r]=KL[r].customVersion})),0!==e.length)return new Promise((t=>(0,Q.IN)("batchGetContact",{appIds:e,success({contactList:e}){JL("batchGetContact result -> ",e),function(e){if(e)for(var t=0;t<e.length;t++){var r=e[t],a=r.appId;if(void 0!==r.appId&&void 0!==r.plugin_list&&r.plugin_list[0]&&KL[a]){var n=r.plugin_list[0].PluginNetWork||{};KL[a].domains={request:n.RequestDomain||[],uploadFile:n.UploadDomain||[],downloadFile:n.DownloadDomain||[],connectSocket:n.WsRequestDomain||[],tcp:n.TCPDomain||[]}}}}(e),t()}})));JL("appids are empty, skip invokeGetContact.")},XL=p(9883),eN={request:re.pR,uploadFile:XL.O,downloadFile:Jt.o,connectSocket:(0,Gx.as)().connectSocket},tN=p(2517),rN=!1;x.default.onReady((()=>{if(z.gm)rN=!1===x.default.urlCheck;else{var e=x.default.envVersion&&"release"!==x.default.envVersion,t=!0===x.default.debug;rN=e&&t}}));var aN=function(e,t,r){return new Promise(((a,n)=>{(0,Q.IN)("checkNetworkAPIURL",{api:e,url:t,success(e){var i=((e,t)=>{if(f.info(`[Plugin] checkDomains url: ${e}, domains: ${JSON.stringify(t)}`),void 0===t||void 0===e)return!1;for(var r=(0,tN.Qc)(e||""),a=0;a<t.length;a++){var n=t[a]||"",i=(0,tN.Qc)(n);if(i.protocol===r.protocol&&i.hostname===r.hostname&&i.port===r.port)return!0}return!1})(t,r),o=i||e.isInLAN&&!e.isLocalHost,s="";o||(s=`Url "${t}" not in plugin's domain list.`,rN&&console.warn(s+" This network request will be blocked in release version.")),rN||o?a():n(s)},fail(e){n(e.errMsg||"check url failed.")}})}))},nN=null,iN={};Object.keys(eN).forEach((e=>{iN[e]=function(t={}){var r=(0,St.hI)(this),a=Object.assign({},t);return a.customCheck=(t,a)=>{(nN||(YL(),nN=ZL()),nN).then((()=>{((t,a)=>{var n=YL()[r];f.info(`[Plugin] pluginInfo ${r}, ${JSON.stringify(n)}`);var i=e,o=n.domains[i];"connectSocket"===e&&(i="websocket"),aN(i,t.url,o).then((()=>{a(null)})).catch((e=>{var t=(0,R.HD)(e)?e:"check url failed.";a(t)}))})(t,a)}))},eN[e].call(this,a)}}));const oN=iN;var sN=p(5692);var lN={createWorker:YC,updateVoIPChatMuteConfig:DL,onVoIPChatStateChanged:zL,onVoIPChatSpeakersChanged:OL,onVoIPChatMembersChanged:LL,onVoIPChatInterrupted:WL,offVoIPChatStateChanged:HL,offVoIPChatSpeakersChanged:BL,offVoIPChatMembersChanged:NL,offVoIPChatInterrupted:UL,joinVoIPChat:ML,exitVoIPChat:xL,onVoIPVideoMembersChanged:VL,offVoIPVideoMembersChanged:$L,request:oN.request,uploadFile:oN.uploadFile,downloadFile:oN.downloadFile,connectSocket:oN.connectSocket,getAccountInfoSync:function(){var e=YL(),t=(0,sN.E)(),r=(0,St.hI)(this);return t.plugin={appId:r||"",version:(0,St.hb)(e[r].customVersion)},t},login:function(e={}){var t="login",r=(0,St.hI)(this),a=Object.assign({},e,{miniprogram_appid:x.default.accountInfo.appId}),{success:n,fail:i,failWithMsg:o}=(0,Q.Rn)(e,t);(0,oa.uC)(r,"setPluginLoginAuth")?ca.call(this,{success(){(0,Q.yD)({sdkApiName:t,apiName:"webapi_plugin_login",reqData:a,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,n(e)},fail:i})},fail(e){o({msg:e.errMsg})}}):o({msg:"no permission"})},getRealtimeLogManager:function(e){var t=(0,St.hI)(this),r=YL()[t];return((e,t,r)=>{r=r||{};var a="develop"===x.default.envVersion||"trial"===x.default.envVersion;return r.isClientReport=!a,Xg(r,e,t)})(t,null==r?void 0:r.version,e)}},cN=({provider:e})=>{var t={env:{USER_DATA_PATH:(0,ne.EH)(e)},getFileSystemManager:()=>(e=>{if(!se[e]){try{(0,ie.h)((0,ne.EH)(e),!0)}catch(e){}se[e]=(0,ne.y9)(e)}return se[e]})(e),onKeyboardConfirm:(0,gw.HX)(e),offKeyboardConfirm:(0,gw.LU)(e),onKeyboardComplete:(0,gw.$b)(e),offKeyboardComplete:(0,gw.WB)(e),onKeyboardHeightChange:(0,gw.O6)(e),offKeyboardHeightChange:(0,gw.L6)(e)};return(0,kL.oq)(t,{provider:e}),Object.keys(lN).forEach((e=>{t[e]=lN[e].bind(t)})),t},uN={},dN=(e,t)=>{uN[e]=t},pN=Symbol("IS_SUB_PACKAGE_INJECT_API"),hN=Symbol("EXIT_EXECUTE_SYMBOL"),fN=({packageName:e,cost:t,isAsync:r,isSuccess:a,appType:n,injectContext:i=0,errMsg:o}={})=>{var s=[e,t,r,a,n,i,o].map(encodeURIComponent).join(",");b.reportKeyValue({key:"WeAppSDKSubpackageInject",value:s,force:!0})},gN="undefined"!=typeof __initHelper&&1===__initHelper,vN=["cloud","cloudSDK","ad"],mN={},yN=(e,t,r)=>{var a;return z.gm,a=null!=e?e:globalThis[t],r||delete globalThis[t],a},_N=!1,bN=(e,t)=>{var r=t.globalName;if(mN[r])return mN[r];if(2===g.isEmptyContext){if(!gN)throw new Error("Fatal: unexpected loadSdkSubPackage case");return _N||(_N=!0,(0,Ze.showModal)({title:"请切换至真机调试2.0",content:"很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。"})),void console.warn("很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")}var a,n=`get${((e,...t)=>e.toUpperCase()+t.join(""))(...e)}GlobalVar`;t.globalGetter&&((e,t)=>{z.gm,globalThis[e]=()=>t()})(n,t.globalGetter);var i,o=!1;try{var s,l=Date.now(),c=g.loadMainContextLibFile;t.injectSub&&(s="function"==typeof t.injectSub?t.injectSub():t.injectSub),t.injectHandle&&(c=(e,r)=>t.injectHandle(r)),s&&(o=!0,c=g.loadSubContextLibFile,g.publish("readyLoadSDKSubPackage",{getCloudSDKGlobalVar:t.globalGetter},[g.convertRealId2SdkId(s)]));var u;if(t.sideInjectHandle){var d=c;u=()=>(d.call(g,t.waLibName,(e=>{t.resultGetter&&(a=t.resultGetter()),delete globalThis[n];var r=Date.now()-l;"success"===e?t.init=!0:"string"==typeof e&&e.includes("not supported")?z.gm?((0,Ze.showModal)({title:"请升级工具版本",content:"很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本"}),console.warn("很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")):console.warn("很抱歉，当前客户端版本不支持该基础库，请升级至最新版本"):console.error(`loadSubPackage: ${t.waLibName}:`,e),x.default.onReady((()=>{fN({packageName:t.waLibName,cost:r,isAsync:1,isSuccess:"success"===e,appType:x.default.appType+1e3,errMsg:"success"===e?"":e})}))}),s),yN(a,t.globalName,t.reserveGlobal)),c=(e,r,a,n)=>t.sideInjectHandle(r,a,n)}i=c.call(g,t.waLibName,(e=>{t.resultGetter&&(a=t.resultGetter()),delete globalThis[n];var r=Date.now()-l;"success"===e?t.init=!0:"string"==typeof e&&e.includes("not supported")?z.gm?((0,Ze.showModal)({title:"请升级工具版本",content:"很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本"}),console.warn("很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")):console.warn("很抱歉，当前客户端版本不支持该基础库，请升级至最新版本"):console.error(`loadSubPackage: ${t.waLibName}:`,e),x.default.onReady((()=>{fN({packageName:t.waLibName,cost:r,isAsync:1,isSuccess:"success"===e,appType:x.default.appType+1e3,errMsg:"success"===e?"":e})}))}),s,u)}catch(e){console.error(`${o?"loadSubContextLibFile":"loadMainContextLibFile"}: ${t.waLibName} err:`,e)}if("kanata"===e){var p=globalThis.Kanata;Object.defineProperty(globalThis,"_Kanata",{value:p})}t.loadedSubPackage=t.injectHandle||t.sideInjectHandle?i:yN(a,t.globalName,t.reserveGlobal),mN[t.globalName]=t.loadedSubPackage,(0,R.mf)(t.onInjectCallback)&&t.onInjectCallback(t.loadedSubPackage)},wN=e=>{for(var t in e)if(vN.includes(t)){var r=e[t];bN(t,r)}},IN={},SN=(e,t,r)=>{var{apiKey:a,call:n,cache:i}=t;if(i)return i;var o=((e,t)=>IN[e].loadedSubPackage[t])(e,a);if((0,R.mf)(o)){if(n){var s=o.call(r);return(0,R.Kn)(s)&&(t.cache=s),s}return o.bind(r)}return o},kN=(e,t)=>function(){var r=IN[e];return r.init||bN(e,r),SN(e,t,this)},CN=({name:e,waLibName:t,exportApis:r,globalName:a,globalGetter:n,onInjectCallback:i,provideInGlobal:o,reserveGlobal:s,fakeProvider:l,injectSub:c,resultGetter:u,emptyInjectKey:d,injectHandle:p,sideInjectHandle:h}={})=>{IN[e]={waLibName:t,exportApis:r,globalGetter:n,init:!1,onInjectCallback:i,globalName:a,provideInGlobal:o,reserveGlobal:s,fakeProvider:l,injectSub:c,resultGetter:u,emptyInjectKey:d,injectHandle:p,sideInjectHandle:h}},TN=()=>Object.entries(IN).reduce(((e,[t,r])=>(r.provideInGlobal&&(e[t]={api:()=>bN(t,r),subPackageInfo:r,replaceGlobal:!0,...r.fakeProvider?{fakeProvider:r.fakeProvider}:{},emptyInjectKey:r.emptyInjectKey},!(0,R.Kn)(r.exportApis))||Object.entries(r.exportApis).forEach((([a,n])=>{a===t&&console.warn(`sdk warn: sdk subpackage: ${a} has same name with one item of exportApis`);var i={...r};delete i.provideInGlobal,e[a]={api:kN(t,n),apiInfo:n,subPackageInfo:i,emptyInjectKey:r.emptyInjectKey}})),e)),{}),PN=e=>`_sdk_subPackage_load_${e}`,AN=e=>{globalThis[PN(e)]=!0},EN=e=>{globalThis[PN(e)]=!1},MN=e=>globalThis[PN(e)],xN=(e,t=!1)=>{var r=TN();Object.entries(r).forEach((([r,a])=>{var n=e,{api:i,subPackageInfo:o,replaceGlobal:s,fakeProvider:l,emptyInjectKey:c}=a;if(o.provideInGlobal){if(s){var u=o.provideInGlobal;return void Object.defineProperty(globalThis,u,{get(){if(l){if(!o.__fakeProviderCache){var e=()=>{if(!MN(u))return AN(u),i(),EN(u),o.loadedSubPackage};o.__fakeProviderCache=((e,t)=>{var r={},a=function(a){var n=e[a];Object.defineProperty(r,a,{get(){if(n.call)return(...e)=>{var r=t();return null==r?void 0:r[n.key||a].call(r,...e)};var e=t();return null==e?void 0:e[n.key||a]}})};for(var n in e)a(n);return r})(l,e),c&&(o.__fakeProviderCache[c]=()=>{e()})}return o.__fakeProviderCache}if(!MN(u)){AN(u),i(),EN(u);var t=o.loadedSubPackage;return c&&(t[c]=()=>{}),t}},configurable:!0,enumerable:!1})}n=o.provideInGlobal}if(t){if(!!a.subPackageInfo.exportApis[r].noExportWx)return;var d=n[r];Object.defineProperty(n,r,{get(){if((0,R.Kn)(d)){var t=i.call(e),a=(e=>uN[e])(r);return a&&a(t),t}return(0,R.mf)(d)?(...t)=>{var r=i.call(e),a=[...t,pN,r];return r.call(n,...a)}:d},configurable:!0})}else Object.defineProperty(n,r,{get:()=>i.call(e),configurable:!0})}))},DN=(e={})=>{(0,Q.IN)("uploadToCommonCDN",e,{})},RN=p(8540),LN=p(5405),NN=p.n(LN),ON=Object.prototype.hasOwnProperty;function BN(e,t){Object.keys(e).forEach((r=>{var a=e[r];a instanceof RegExp?t[r]=a.toString():"object"==typeof a&&null!==a?(t[r]={},BN(a,t[r])):t[r]=a}))}function jN(e){var t={};return BN(e,t),NN()(JSON.stringify(t))}function FN({url:e,method:t,data:r=""}){return r&&(r=JSON.stringify(r)),`${t}-${e}-${r}`}function WN(e,t){return NN()(`${e}|${t}`)}function UN(e){if(e){var t=e.split("/"),r=[],a=t.map((e=>":"===e[0]?(r.push(e),"(\\w+)"):e)).join("/");return{params:r,regExp:new RegExp(`^${a}$`,"ig")}}}function GN(e){if(e)return Object.keys(e).map((t=>({key:t,value:e[t]})))}function VN(e,t,r,a){if(void 0!==t){if("function"==typeof t)return t(r);if(t instanceof RegExp)return r=null==r?"":r.toString(),t.test(r);if("object"===e)return zN(t,r,a);if(r!==t)return!1}return!0}function $N(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===e?e:"object"===t?{}:void 0}function qN({type:e="any",value:t},r,a,n){var i,o=-1!==e.indexOf("[]"),s=Array.isArray(a);if(e=e.replace("[]",""),o&&!s)return!1;if(o&&"any"!==e){i=typeof a[0];for(var l=1,c=a.length;l<c;l++)if(typeof a[l]!==i)return!1}else i=typeof a;var u=o?a[0]:a;if("any"!==e)switch(e){case"string":case"number":case"boolean":if(i!==e)return!1;break;case"null":if(null!==u)return!1;break;case"object":if(i!==e||Array.isArray(u)||null===u)return!1}if(o){n[r]=[];for(var d=0,p=a.length;d<p;d++){var h=$N(a[d]);if(!VN(e,t,a[d],h))return!1;n[r].push(h)}}else{var f=$N(a);if(!VN(e,t,a,f))return!1;n[r]=f}return!0}function zN(e,t,r){if(!Array.isArray(e))return!1;for(var a=0,n=e.length;a<n;a++){var{name:i,schema:o}=e[a];if(i&&o){if(!ON.call(t,i))return!1;var s=t[i];if(Array.isArray(o)){for(var l=!1,c=0,u=o.length;c<u;c++){if(l=qN(o[c],i,s,r))break}if(!l)return!1}else if("object"==typeof o&&!qN(o,i,s,r))return!1}}return!0}var HN=Oe.cache,KN=function(){var e=null,t=null,r=r=>{if(e){for(var a=e;a.next&&a.time<r.time;)a=a.next;a.next?a.time>=r.time&&(r.next=a,r.prev=a.prev,a.prev&&(a.prev.next=r),a.prev=r,a===e&&(e=r)):(a.next=r,r.prev=a,r.next=null,t=r)}else e=r,t=r},a=r=>{var a=(t=>{if(e)for(var r=e;r;){if(r.key===t)return r;r=r.next}})(r);if(a){var{prev:n,next:i}=a;return n&&(n.next=i),i&&(i.prev=n),a===e&&(e=i),a===t&&(t=n),a.prev=a.next=null,a}};return{addMap:e=>{for(var t=Object.keys(e),a=0,n=t.length;a<n;a++){var i=t[a];r({key:i,time:e[i][1]})}},add:(r,n)=>{var i=a(r)||{key:r};i.time=n,e?(t.next=i,i.prev=t,t=i):(e=i,t=i)},del:a,each:t=>{if(e)for(var r=e;r;)t(r.key),r=r.next},eliminate:r=>{for(var a=[];e&&r;)a.push(e.key),e=e.next,r--;return e?e.prev=null:t=null,a}}}(),JN={};function QN(e,t,r){KN.add(t,r),JN[t]=[e,r],HN.setStorage({key:"cache|meta",data:JN})}function YN(e,t){var r=WN(e,t);HN.removeStorage({key:r,success(){KN.del(r),delete JN[r],HN.setStorage({key:"cache|meta",data:JN})}})}function ZN(e,t){var r=e.length,a=0,n=()=>{++a>=r&&(HN.setStorage({key:"cache|meta",data:JN}),t&&t())};e.forEach((e=>{HN.removeStorage({key:e,success(){KN.del(e),delete JN[e],n()},fail:n})}))}function XN(e){var t=[];KN.each((r=>{JN[r][0]===e&&t.push(r)})),t&&t.length&&ZN(t)}function eO(e){HN.getStorageInfo({success(t){var{keys:r,currentSize:a,limitSize:n}=t;if(r.length>100||a>.66*n){var i=KN.eliminate(5);i.length?ZN(i,e):e()}else e()}})}function tO(e,t){var r=Date.now(),a=e.rule.id,n=FN(e),i=WN(a,n);eO((()=>function(e,t,r,a){HN.setStorage({key:t,data:r,success:()=>QN(e,t,a)})}(a,i,t,r)))}x.default.onReady((()=>{HN.getStorage({key:"cache|meta",success:e=>{e&&(JN=e.data,KN.addMap(JN)),HN.getStorageInfo({success(e){e.keys.forEach((e=>{0!==e.indexOf("cache|")&&(JN[e]||HN.removeStorage({key:e}))}))}})}})}));var rO=Object.prototype.hasOwnProperty,aO=new WeakMap;var nO=function(){var e=new Map,t={},r=In,a=wn,n="",i=Tn,o=t=>{if("string"==typeof t){var r=t.split(/\s+/gi);if(1===r.length)return o({url:r[0]});if(2===r.length)return o({url:r[1],method:r[0]})}else{if(t instanceof RegExp)return o({url:t});if("object"==typeof t){var{id:a,method:s,url:l}=t,c=l instanceof RegExp;if(a="string"==typeof a?a.trim():null,s="string"==typeof s&&s.trim().toUpperCase()||"ALL",l=c?l:"string"==typeof l?l.trim():null,a&&e.has(a))return;if(-1===Cn.indexOf(s))return;if(!l)return;var u={};if(c)u={isRegExp:c,regExp:l};else{if(-1===l.indexOf("://")&&("/"!==l[0]&&(l=`/${l}`),l=n+l),-1===l.indexOf("://"))return;var{protocol:d,host:p,path:h,query:f}=(0,rt.en)(l);u={isRegExp:c,protocol:d,host:p,path:UN(h),query:GN(f)}}if(u.method=s,u.dataSchema=t.dataSchema,u.maxAge=Math.min(t.maxAge||i,Pn),!a&&(a=jN(u),e.has(a)))return;return u.id=a,u}}},s=(t,r,a="GET")=>{var i,o=e.values();a=a.toUpperCase();var{protocol:s,host:l,path:c,query:u}=(0,rt.en)(t),d=`${s}://${l}`,p=[],h={};for(var f of o)if("ALL"===f.method||f.method===a){if(f.isRegExp){f.regExp.lastIndex=0;var g=f.regExp.exec(t);if(!g){if(n!==d)continue;if(f.regExp.lastIndex=0,!(g=f.regExp.exec(t.replace(`${s}://${l}`))))continue}}else{if(s!==f.protocol)continue;if(l!==f.host)continue;if(f.path.regExp.lastIndex=0,!f.path.regExp.exec(c))continue;if(f.query){var v=!0;for(var m of(p.length=0,f.query)){var{key:y,value:_}=m;if(!u||!rO.call(u,y)||_&&u[y]!==_){v=!1;break}var b=_||u[y];p.push(`${y}${b?"="+encodeURIComponent(b):""}`)}if(!v)continue}}if(f.dataSchema){if(!r||"object"!=typeof r)continue;if(!zN(f.dataSchema,r,h))continue}i=f;break}if(i)return{rule:i,url:`${d}${c}${p.length?"?"+p.join("&"):""}`,data:h,method:a}},l={start:()=>{a=bn},stop:()=>{a=_n},config:(e={})=>{n=e.origin||"",r=e.mode||In,i=Math.min(e.maxAge||Tn,Pn),r===Sn&&l.start()},emit:(e,r)=>{var a=t[e],n=[];if(a&&a.length)for(var i=a.length-1;i>=0;i--){var o=a[i];o=_.surroundThirdByTryCatch(o,`at cache's ${e} event callback function`),n.push(o(r))}return n},checkNeedStore:(e,t,r,a)=>{try{a=JSON.stringify(a)}catch(e){}Promise.resolve().then((()=>{var n=s(e,t,r);n&&tO(n,{ts:Date.now(),res:a})}))}},c=t=>{if(Array.isArray(t)){var r=[];return t.forEach((t=>{var a=o(t);if(a){var n=a.id;e.set(n,a),r.push(n)}else r.push(null)})),r}},u=t=>{Array.isArray(t)&&t.forEach((t=>{e.has(t)&&(e.delete(t),XN(t))}))},d=()=>{var t=e.keys();for(var r of t)XN(r)},p={set mode(e){r=e||In},get mode(){return r},set origin(e){n=e||""},get origin(){return n},set maxAge(e){i=e||Tn},get maxAge(){return i},get state(){return a},addRules:c,addRule:e=>c([e])[0],deleteRules:u,deleteRule:e=>{u([e])},clearRules:()=>{d(),e.clear()},on:(e,r)=>{"string"==typeof e&&"function"==typeof r&&(e=e.trim())&&(t[e]=t[e]||[],t[e].push(r))},off:(e,r)=>{if("string"==typeof e&&"function"==typeof r&&(e=e.trim())){var a=t[e];if(a&&a.length){var n=a.indexOf(r);-1!==n&&a.splice(n,1)}}},start:()=>{r===kn&&l.start()},stop:()=>{r===kn&&l.stop()},match:e=>{var{url:t,data:r,method:a}=e,n=s(t,r,a);if(n){var i={};i.ruleId=n.rule.id,i.maxAge=n.rule.maxAge;var o=function(e){var t=e.rule.id,r=FN(e),a=WN(t,r);try{var n=HN.getStorageSync(a);if(n){var i=Date.now(),o=e.rule.maxAge;if(i-n.ts<o)return QN(t,a,i),{cacheId:r,...n};HN.removeStorage({key:a,success:()=>YN(t,r)})}else HN.removeStorage({key:a})}catch(e){}return null}(n);if(o){var{cacheId:l,ts:c,res:u}=o;i.cacheId=l,i.createTime=c,i.data=u;try{i.data=JSON.parse(i.data)}catch(e){}"object"==typeof u&&(u.fromCache=!0)}return ai(!!o),i}ai(!1)},deleteCaches:t=>{if(Array.isArray(t)){var r=e.keys(),a=function(e){t.forEach((t=>YN(e,t)))};for(var n of r)a(n)}},deleteCache:t=>{var r=e.keys();for(var a of r)YN(a,t)},clearCaches:d};return aO.set(p,l),p}(),iO=aO.get(nO),oO="\n\nmessage SKBuiltinString_t {\n  optional string String = 1;\n}\n\nmessage BaseRequest {\n  required bytes SessionKey = 1;\n  required uint32 Uin = 2;\n  required bytes DeviceID = 3;\n  required int32 ClientVersion = 4;\n  required bytes DeviceType = 5;\n  optional uint32 Scene = 6;\n}\n\nmessage BaseResponse {\n  required int32 Ret = 1;\n  required SKBuiltinString_t ErrMsg = 2;\n}\n\nmessage JSAPIBaseResponse {\n\toptional int32 errcode = 1;\n\toptional string errmsg = 2;\n}\n\nmessage ScopeInfo\n{\n\toptional string scope = 1;\n\toptional string desc = 2;\n\toptional uint32 auth_state = 3;\n  optional string ext_desc = 4;\n  optional string auth_desc = 5;\n\toptional string sub_desc = 6;\n\toptional string auth_wording = 7;\n}\n\nmessage WxaExternalInfo\n{\n\toptional string host_appid = 1;\n\toptional uint32 scene = 2;\n\toptional uint32 source_env = 3;\n}\n\nmessage WxaPluginAppInfo\n{\n\toptional string plugin_appid = 1;\n\toptional string custom_version = 2;\n\toptional uint32 inner_version = 3;\n}\n\nmessage JSAuthorizeRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 version_type = 4;\n\toptional WxaExternalInfo ext_info = 5;\n\toptional string jsapi_name = 6;\n\toptional WxaPluginAppInfo plugin_info = 7;\n}\n\nmessage JSAuthorizeResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeInfo scope_list = 3;\n\toptional string appname = 4;\n\toptional string appicon_url = 5;\n\toptional string cancel_wording = 6;\n\toptional string allow_wording = 7;\n\toptional string apply_wording = 8;\n\toptional AlertPrivacyInfo privacy_info = 9;\n\toptional string jsapi_scope = 11;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 12;\n}\n\nmessage ScopeRiskWxaAppInfo\n{\n\toptional string username = 1;\n\toptional string path = 2;\n\toptional uint32 version = 3;\n\toptional uint32 scene = 4;\n\toptional uint32 type = 5;\n}\n\nmessage ScopeRiskPopUpInfo\n{\n\toptional int32 route_type = 1;\n\toptional bytes wording = 2;\n\toptional bytes left_button_wording = 3;\n\toptional bytes right_button_wording = 4;\n\toptional bytes right_button_h5_url = 5;\n\toptional ScopeRiskWxaAppInfo wxa_app_info = 6;\n\toptional int32 native_route_type = 7;\n}\n\nmessage ScopeRiskInfo\n{\n\toptional string scope = 1;\n\toptional ScopeRiskPopUpInfo risk_popup_info = 2;\n}\n\nmessage UserPrivacyProtectInfo\n{\n\toptional bool need_show = 1;\n\toptional string wording = 2;\n}\n\nmessage JSAuthorizeConfirmRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 opt = 4;\n\toptional uint32 version_type = 5;\n\toptional WxaExternalInfo ext_info = 6;\n\toptional bool privacy_protect_info_checked = 7;\n}\n\nmessage JSAuthorizeConfirmResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeRiskInfo risk_info_list = 3;\n}\n\nmessage JSOperateWxDataRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\toptional bytes data = 3;\n\toptional string grant_scope = 4;\n\toptional uint32 opt = 5;\n\toptional uint32 version_type = 6;\n\toptional WxaExternalInfo ext_info = 7;\n\toptional uint32 avatar_id = 8;\n\n\toptional string session_id = 9;\n\toptional uint32 avatar_opt = 10;\n\toptional bool privacy_protect_info_checked = 11;\n}\n\nmessage UserAvatarItem\n{\n    optional uint32 id = 1;\n    optional string nickname = 2;\n    optional string avatarurl = 3;\n    optional string desc = 4;\n}\n\nmessage UserAvatarInfo\n{\n\trepeated UserAvatarItem avatar_list = 1;\n\toptional bool is_ban_modify_avatar = 2;\n\toptional uint32 avatar_limit = 3;\n\toptional uint32 default_avatar_id = 4;\n\toptional string default_headimg_url = 5;\n\toptional string default_headimg_fileid = 6;\n\toptional string avatar_wording = 7;\n\toptional string limit_wording = 8;\n}\n\nmessage AlertPrivacyInfo\n{\n\toptional bool need_show_privacy = 1;\n\toptional string privacy_wording = 2;\n}\n\nmessage JSOperateWxDataResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\toptional bytes data = 3;\n\toptional ScopeInfo scope = 4;\n\toptional string appname = 5;\n\toptional string appicon_url = 6;\n\n\tmessage DebugInfo\n\t{\n\t\toptional string data = 1;\n\t\toptional string session_key = 2;\n\t}\n\toptional DebugInfo debug_info = 7;\n  optional bool need_hold_longconn = 8;\n\toptional string cancel_wording = 9;\n\toptional string allow_wording = 10;\n\toptional string apply_wording = 11;\n\toptional UserAvatarInfo avatar_info = 12;\n\toptional AlertPrivacyInfo privacy_info = 13;\n\toptional uint32 long_polling_timeout = 14;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 15;\n}\n";var sO={},lO={},cO={getLocation:"userLocation",chooseLocation:"userLocation",enableLocationUpdate:"userLocation",startRecord:"record",joinVoIPChat:"record",operateRecorder:"record",insertCamera:"camera",insertXWebCamera:"camera",openBluetoothAdapter:"bluetooth",createBLEPeripheralServer:"bluetooth",saveImageToPhotosAlbum:"writePhotosAlbum",saveVideoToPhotosAlbum:"writePhotosAlbum"},uO={userLocation:"地理位置",record:"麦克风",camera:"摄像头",bluetooth:"蓝牙",writePhotosAlbum:"添加到相册"},dO={userLocation:"获取你的位置信息",record:"使用你的麦克风",camera:"使用你的摄像头",bluetooth:"使用你的蓝牙",writePhotosAlbum:"保存图片或视频到你的相册"},pO={},hO={jsapi_camera:"camera",jsapi_location:"userLocation",jsapi_photos_album:"writePhotosAlbum",jsapi_record:"record",webapi_bluetooth:"bluetooth"},fO={[An]:{req:"JSAuthorizeRequest",resp:"JSAuthorizeResponse",process:function(){var e=_e()((function*(e){ni(xn.PROXY_AUTHORIZE);var t=e.jsapi_name,r=cO[t];"authorize"!==t&&t||!e.scope||!e.scope.length||(r=(e.scope[0]||"").replace("scope.",""));var a={errcode:-12e3,errmsg:"need confirm"},n={sub_desc:pO[r]||" "};if(r&&dO[r]){n.scope=`scope.${r}`,n.desc=dO[r];var i=sO[n.scope]||0;if(1===i||7===x.default.appType)a={errcode:0,errmsg:"has authorized"};else if(2===i){if(lO[r])a={errcode:-12006,errmsg:"user deny"};else(yield new Promise(((e,t)=>{(0,Ze.hideToast)(),(0,Ze._showModal)({title:"",content:`小程序尝试再次申请${dO[r]}，此前你已拒绝过该申请。`,confirmText:"前往确认",cancelText:"再次拒绝",showCancel:!0,upper:!0,success({confirm:t}){e(!!t)},fail:t})})))||(a={errcode:-12006,errmsg:"user deny"}),lO[r]=!0}ni(xn.PROXY_AUTHORIZE_SUCCESS,r);var{nickname:o,icon:s}=x.default.accountInfo||{};return{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:a,scope_list:[n],appname:o,appicon_url:s,cancel_wording:"拒绝",allow_wording:"允许",apply_wording:"申请",privacy_info:{need_show_privacy:!0,privacy_wording:`你授权后，小程序引用的插件开发者将收集你的${uO[r]}信息，为你提供相关服务。开发者严格按照《${o}小程序隐私保护指引》处理你的个人信息，但由于当前处于弱网环境，无法在线展示该隐私保护指引，你可在正常网络条件下通过点击小程序右上角“…”->点击小程序名称->“更多资料”中进行查询。如你发现开发者不当处理你的个人信息，可在“更多资料”页面进行投诉。`},risk_info:[],jsapi_scope:""}}}));return function(t){return e.apply(this,arguments)}}(),content:oO},[En]:{req:"JSAuthorizeConfirmRequest",resp:"JSAuthorizeConfirmResponse",process(e){var t=e.scope,r=e.opt;return t&&t.length&&t.forEach((e=>sO[e]=r)),{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:{errcode:0,errmsg:""},risk_info_list:[]}},content:oO},[Mn]:{req:"JSOperateWxDataRequest",resp:"JSOperateWxDataResponse",process(e){ni(xn.PROXY_OPERATE_WX_DATA);try{var t=JSON.parse(function(e){for(var t=[],r=0,a=e.length;r<a;r++)e[r]>=240&&e[r]<=247?(t.push(String.fromCodePoint(((7&e[r])<<18)+((63&e[r+1])<<12)+((63&e[r+2])<<6)+(63&e[r+3]))),r+=3):e[r]>=224&&e[r]<=239?(t.push(String.fromCodePoint(((15&e[r])<<12)+((63&e[r+1])<<6)+(63&e[r+2]))),r+=2):e[r]>=192&&e[r]<=223?(t.push(String.fromCodePoint(((31&e[r])<<6)+(63&e[r+1]))),r++):t.push(String.fromCodePoint(e[r]));return t.join("")}(new Uint8Array(e.data))),r=t.api_name;if("webapi_reportwxauseuserinfo"===r||"webapi_reportclicheckresult"===r){var{nickname:a,icon:n}=x.default.accountInfo||{};return{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:{errcode:0,errmsg:""},data:Uint8Array.from(["{".codePointAt(0),"{".codePointAt(1)]).buffer,appname:a,appicon_url:n}}}catch(e){console.error(e)}},content:oO}};var gO={};function vO(e){var t,r=(t=e,NN()("string"==typeof t?t:JSON.stringify(t)));return gO[r]||(gO[r]=__protobufSDK__.getProtobuf()(e)),gO[r]}function mO(){var e,t,r=null===x.default||void 0===x.default||null===(e=x.default.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.wxa_privacy_list;r&&r.length&&r.forEach((e=>{var t=hO[e.scope];t&&(pO[t]=e.sub_desc||"")})),(0,Q.jQ)("onClientRequest",function(){var e=_e()((function*(e){var t=function(e){if(fO[e])return fO[e].proto||(fO[e].proto=vO(fO[e].content)),fO[e]}(e.api),r=!1,a=!1,n=null;if(t){r=!0;var i=null;try{i=t.proto[t.req].decode(new Uint8Array(e.data)),a=!0}catch(e){return}try{var o=yield t.process(i);o&&(n=t.proto[t.resp].encode(o))}catch(e){return}}(0,Q.IN)("responseClientRequest",{id:e.id,support:r&&a&&!!n,data:n&&n.buffer})}));return function(t){return e.apply(this,arguments)}}())}function yO(){sO={},lO={}}var _O=!1,bO=(["login","checkSession","getSetting"].reduce(((e,t)=>(e[t]=!0,e)),{}),(0,Y.s)("networkWeakChange"));function wO(){return _O&&(z.cj||z.wZ||z.gm)}function IO(e,t){var r;e&&!e.reason&&(nO.mode===In&&(e.switch?iO.start():iO.stop()),e.switch?(!0,Ve.Z.isWeakNetwork=!0,yO(),iO.emit("enterWeakNetwork"),Vn||($n=Date.now(),Vn=!0,!qn&&$n-Hn<5e3&&(qn=!0),ti(xn.ENTER_WEAK_NETWORK,r))):t&&(!1,Ve.Z.isWeakNetwork=!1,yO(),iO.emit("exitWeakNetwork"),function(e){Vn&&(Vn=!1,ti(xn.EXIT_WEAK_NETWORK,e,{duration:Date.now()-$n}))}()))}(0,Q.jQ)("onToggleWxappLibServerMode",function(){var e=_e()((function*(e){IO(e,!0);var t=yield(0,Q.bb)("getNetworkType",{});t&&t.networkType&&(Ve.Z.currentNetworkType=t.networkType),bO.emit({weakNet:Ve.Z.isWeakNetwork,networkType:Ve.Z.currentNetworkType})}));return function(t){return e.apply(this,arguments)}}()),x.default.onReady((()=>{IO(x.default.serverMode),mO()}));var SO,kO=p(3767),CO={...e,wx:{}};SO=y,CN({name:"cloudSDK",waLibName:"WACloud.js",exportApis:{serviceMarket:{apiKey:"getServiceMarketAPI",call:!0},cloud:{apiKey:"getCloudAPI",call:!0}},globalName:"__cloudSDK__",globalGetter:()=>({WeixinJSBridge:c,wxConsole:h,Reporter:b,console:console,__appServiceSDK__:CO,__wxConfig:x.default,Foundation:o,IS_APP:!1,__subContextEngine__:SO}),onInjectCallback:()=>{(0,kO.KF)("cloudSDK",kO.Q_.injected)},resultGetter:()=>nr.uj,provideInGlobal:"__cloudSDKMain__",injectSub:void 0,src:"./src/cloud/dist/cloud-sdk-subpackage.js",emptyInjectKey:"inject"});D.onAppRoute=et.HM;var TO={bridgeOn:D},PO="undefined"!=typeof __initHelper?__initHelper:void 0;CN({name:"sclEngine",waLibName:"WASubGameSclEngine.js",compileType:"game",fakeProvider:{initScl:{call:!0}},globalName:"__sclEngine__",globalGetter:()=>({forSubLibEnv:TO,WeixinJSBridge:c,wxConsole:h,Reporter:b,__wxConfig:x.default,WebAssembly:Qy,wxNativeConsole:f,__initHelper:PO}),onInjectCallback:()=>{(0,kO.KF)("sclengine",kO.Q_.injected)},provideInGlobal:"__sclEngine__",reserveGlobal:!0,src:"./src/scl-engine/dist/game-scl-engine.js",emptyInjectKey:"inject"});var AO={...u};CN({name:"pixi",waLibName:"WAPixi.js",compileType:"game",globalName:"PIXI",globalGetter:()=>({console:console,wxConsole:h,wxNativeConsole:f,__wxConfig:x.default,__errorTracer__:_,wxGA:()=>wxGA,Reporter:b,Foundation:o,__appServiceSDK__:AO}),onInjectCallback:()=>{(0,kO.KF)("pixi",kO.Q_.injected)},provideInGlobal:"PIXI",reserveGlobal:!0,src:"./src/sdk/dist/pixi.js",emptyInjectKey:"inject"});var EO=p(1709);CN({name:"minigameLive",waLibName:"WAMinigameLive.js",compileType:"game",globalName:"__minigameLiveSDK__",globalGetter:()=>({console:console,wxNativeConsole:f,__wxConfig:x.default,__errorTracer__:_,wxConsole:h,wxGA:()=>wxGA,Reporter:b,Foundation:o,WeixinJSBridge:c,__appServiceSDK__:EO,__IS_MINIGAME_LIVE_SUB_PACKAGE__:!0,wxRunOnDebug:s}),exportApis:{dumpGameLivePanelUI:{apiKey:"dumpGameLivePanelUI"},updateGameLivePanelMenu:{apiKey:"innerUpdateMorePanel"}},onInjectCallback:()=>{(0,kO.KF)("minigamgelive",kO.Q_.injected)},reserveGlobal:!0,provideInGlobal:"__minigameLiveSDK__",src:"./src/sdk/dist/minigame-live-sdk.js",emptyInjectKey:"inject"}),CN({name:"wxGA",waLibName:"WAWxGa.js",globalName:"wxGA",compileType:"game",globalGetter:()=>({wxConsole:h,wxNativeConsole:f}),provideInGlobal:"wxGA",reserveGlobal:!0,onInjectCallback:()=>{(0,kO.KF)("wxga",kO.Q_.injected)},src:"./src/game-accelerator/ga/dist/WAGA.js",emptyInjectKey:"inject"}),CN({name:"kanata",waLibName:"WAKanata.js",compileType:"game",globalName:"_Kanata",globalGetter:()=>({wxConsole:h}),provideInGlobal:"_Kanata",reserveGlobal:!0,onInjectCallback:()=>{(0,kO.KF)("kanata",kO.Q_.injected)},src:"./src/kanata/lib/kanata.js",emptyInjectKey:"inject"}),CN({name:"protobuf",waLibName:"WAProtobuf.js",globalGetter:()=>({wxConsole:h,console:console,NativeGlobal:q.Z,__Function__:r,__SDK_SUB_PACKAGE__:!0}),onInjectCallback:()=>{(0,kO.KF)("protobuf",kO.Q_.injected)},provideInGlobal:"__protobufSDK__",reserveGlobal:!0,globalName:"__protobufSDKGetter__",src:"./src/sdk/src/appservice/protobuf/index.js",emptyInjectKey:"inject"});var MO=f.createLogger("requestMidasPayment"),xO={getNetworkType:rr.getNetworkType,_requestSkipCheckDomain:re.ac,interaction:Ze,systemInfo:un,requestVirtualPayment:e=>{(0,Q.IN)("requestVirtualPayment",e)},invokeMidasOperateWXDataPromise:e=>{MO.info("调用invokeMidasOperateWXDataPromise，参数：",e);var t,r=String(Date.now());return(0,Q.Qh)({apiName:e.apiName,sdkApiName:e.sdkApiName,reqData:e.reqData}).then((a=>{if(MO.info("调用invokeMidasOperateWXDataPromise成功，结果为：:",a),0!==a.data.err_code)throw{errMsg:a.data.err_msg,errCode:a.data.err_code};try{var n,i,o,s,l;t=String(Date.now());var c={subactionID:7,actionStatus:1,invokeId:tA.requestId,errCode:0,errMsg:"",sceneId:tA.sceneId,costTime:t-r,status:tA.has_coupon?1:2,time:t-tA.invokeId,sdkVersion:tA.sdkVersion,funcType:tA.funcType,funcId:tA.funcId,requestPkg:{env:e.reqData.env,path:e.reqData.path},responsePkg:{err_code:null===(n=a.data)||void 0===n||null===(i=n.midas_response)||void 0===i||null===(o=i.response_body)||void 0===o?void 0:o.err_code,http_status:null===(s=a.data)||void 0===s||null===(l=s.midas_response)||void 0===l?void 0:l.http_status}};return nA(c),MO.info("上报完成，上报参数为:",c),a}catch(e){MO.info("发生错误:",e)}})).catch((a=>{throw MO.info("调用invokeMidasOperateWXDataPromise失败，结果为：:",a),t=String(Date.now()),nA({subactionID:7,actionStatus:0,invokeId:tA.requestId,errCode:iA(a),errMsg:oA(a),sceneId:tA.sceneId,costTime:t-r,status:tA.has_coupon?1:2,time:t-tA.invokeId,sdkVersion:tA.sdkVersion,funcType:tA.funcType,funcId:tA.funcId,requestPkg:{env:e.env,path:e.path}}),a}))},invokeMethod:Q.IN,requestPayment:e=>{var t=(0,S_.Zv)();return e.passCookies&&"string"==typeof e.passCookies?e.cookie=t?e.passCookies+";; "+t:e.passCookies:t?e.cookie=t:delete e.cookie,delete e.passCookies,(0,Q.IN)("requestPayment",Object.assign({},e,{grantMessageQuota:!0}))}};CN({name:"midasSDK",waLibName:"WAMidasSDK.js",provideInGlobal:"MidasSDK",globalGetter:()=>({__appServiceSDK__:xO,console:console,wxConsole:h,wxNativeConsole:f}),globalName:"__MidasSDK__",onInjectCallback:()=>{(0,kO.KF)("midas",kO.Q_.injected)},src:"./src/sdk/dist/midas.js"});var DO=!1,RO=null;x.default.onReady((()=>{(0,z.aI)()&&((0,xo._F)()?(0,xo.AL)({id:xo.GY.getadcardbalance,success:e=>{null!=e&&e.data&&(DO=!e.data.errCode)}}):setTimeout((()=>{(0,Q.yD)({apiName:"webapi_getadcardbalance",success({data:e}){DO=!e.errCode}})}),3e3))}));var LO=e=>({feedId:e.export_id,nonceId:e.nonce_id,description:e.description,playbackState:e.playback_state,status:e.status,headUrl:e.head_url,nickname:e.nickname,replayStatus:e.replay_status}),NO=e=>{if("number"!=typeof e)return 1;var t=Math.floor(e/1e3);return t>0?t:1},OO=(0,Q.TG)("getChannelsLiveInfo","webapi_getfinderviewlastlive",(({feedId:e,finderUserName:t,jsapi:r,startTime:a,endTime:n})=>{var i={jsapi:r,export_id:e,finder_username:t};return"number"==typeof a&&"number"==typeof n&&(i.start_time=a,i.end_time=n),i}),(e=>{var t;if(null!==(t=e.live_info)&&void 0!==t&&t.length){var[r,...a]=e.live_info;Object.assign(e,LO(r)),e.otherInfos=a.map(LO)}delete e.live_info})),BO="getChannelsLiveInfo";function jO(e){var t,r,a={...e,jsapi:BO};if(("number"==typeof e.startTime||"number"==typeof e.endTime)&&(a.startTime=NO(null!==(t=e.startTime)&&void 0!==t?t:0),a.endTime=NO(null!==(r=e.endTime)&&void 0!==r?r:Date.now()),a.startTime>=a.endTime))return void(0,Q.YG)(BO,e,"invalid time range");OO(a)}var FO=p(9464),WO=p(8190),UO=p(6135),GO=[],VO=[],$O=(e=!1)=>({sdkApiName:t="adReportOperateWXData",reqData:r,success:a,fail:n,complete:i}={})=>{var o=r.report_action||"",s=0;r.report_data_json&&"object"==typeof r.report_data_json&&(s=r.report_data_json.logid||0,r.report_data_json=JSON.stringify(r.report_data_json));var l={apiName:"advert_report",reqData:r,sdkApiName:t,success:a,fail:n,complete:i,adExtra:{adReportAction:o,adLogid:s}};(0,Cy.aQ)()&&"reportAdExposure"!==t?zO(l,e):e?(0,WO.yD)(l):(0,WO.cm)(l)},qO=!1,zO=(e,t)=>{if(qO)t?(VO.push(e),10===VO.length&&(HO(VO,!0,UO.zV),VO=[])):(GO.push(e),10===GO.length&&(HO(GO,!1,UO.zV),GO=[]));else{qO=!0;var r=z.cj?Number(x.default.expt.clicfg_appbrand_ios_ad_operatewxdata_batch):Number(x.default.expt.clicfg_appbrand_android_ad_operatewxdata_batch);setInterval((()=>{VO.length&&(HO(VO,!0,UO.x2),VO=[]),GO.length&&(HO(GO,!1,UO.x2),GO=[])}),r)}},HO=(e,t,r)=>{(t?WO.XT:WO.BB)({apiName:"adReportBatch",sdkApiName:"adReportBatch",reqDataList:e.map((e=>({api_name:e.apiName,data:e.reqData}))),batchType:r,success:t=>{(t.item_list||[]).forEach(((t,r)=>{var a={};t&&t.resp&&0===t.errcode?0!==t.resp.err_no?(a={errMsg:`${e[r].sdkApiName}:fail `+(t.resp.errmsg?` ${t.resp.errmsg}`:""),errno:t.resp.err_no},e[r].fail&&e[r].fail(a),e[r].complete&&e[r].complete(a)):(a={errMsg:`${e[r].sdkApiName}:ok`,data:t.resp.data||{},errno:0},e[r].success&&e[r].success(a),e[r].complete&&e[r].complete(a)):(a={errMsg:`${e[r].sdkApiName}:fail `+(t.errmsg?` ${t.errmsg}`:""),errno:t.errcode},e[r].fail&&e[r].fail(a),e[r].complete&&e[r].complete(a))}))},fail:r=>{f.error(`fromWebview=${t}`,"batch 广告上报失败",r),e.forEach((e=>{e.fail&&e.fail(r),e.complete&&e.complete(r)}))}})},KO=$O(!1),JO=(0,ua.Fr)(KO),QO=($O(!0),924),YO=2009,ZO=(e,t,r=1)=>({idKey:e,idKeyGroup:t,sample:r}),XO=(e,t=1)=>ZO(e,QO,t),eB=(e,t=1)=>ZO(e,YO,t),tB=(XO(5),XO(10),XO(11),XO(12),XO(13),XO(14),XO(21),XO(22),XO(23),XO(24),XO(25),XO(26),XO(28),XO(32),XO(33),XO(34),XO(35),XO(36),XO(37),XO(38),XO(39,.01),XO(40),XO(41),XO(42),XO(43),XO(44),XO(45),XO(46,.01),XO(49),XO(50),XO(86,.01),XO(87),XO(88),XO(89),XO(90),XO(96,.01),XO(97,.05),XO(98),XO(99),XO(100),XO(101),XO(102),XO(103),XO(104),XO(106),XO(105),XO(107),XO(108),XO(109),XO(110),XO(112),XO(113),XO(114),XO(115),XO(116),XO(119),XO(120),XO(121),XO(123),XO(124),XO(125),XO(126),XO(127),XO(128),XO(129)),rB=(XO(130),XO(131,.01)),aB=(XO(132,.01),XO(133),XO(134),XO(135),XO(136),XO(137,.01),XO(138),XO(139),XO(140),XO(141),XO(142,.01),XO(143),XO(144),XO(145),XO(146),XO(147),XO(148),XO(149),XO(150,.01),XO(151),XO(152),XO(153),XO(154),XO(156),XO(157),XO(158),XO(159),XO(160),XO(161),XO(162),XO(163),XO(164),XO(165),XO(166),XO(167),XO(168),XO(169),XO(170),XO(171),XO(173),XO(178,.01),XO(179),XO(180),XO(181),XO(182),XO(183),XO(188),XO(189),XO(190),XO(191),XO(192),XO(193),XO(194),XO(195),XO(196,.01),XO(197),XO(198),XO(199),XO(202),XO(203),XO(204),XO(205),XO(206),XO(207),XO(208),XO(209),XO(210),XO(211),XO(212),XO(213),XO(214),XO(215),XO(216),XO(217),XO(218),XO(219),XO(220),XO(221),XO(223),XO(224),XO(225),XO(226),XO(227),XO(228),XO(229),XO(230),XO(234),XO(235),XO(236),XO(237),XO(238),XO(239),XO(240),XO(241),XO(242),XO(243),XO(244),XO(246),XO(247),XO(250),XO(251),XO(252,.01),XO(253),XO(254),eB(1,.01),eB(2),eB(3,.01),eB(4),eB(5,.01),eB(6),eB(7),eB(8),eB(9),eB(10,.01),eB(11),eB(12),eB(13),eB(14),eB(15),eB(16),eB(17),eB(18),eB(19),eB(20),eB(21,.01),eB(22),eB(27),eB(28),eB(29),eB(30),eB(23),eB(24),eB(25),eB(26),eB(31),eB(32),eB(33),eB(34),eB(35),eB(36),eB(37),eB(38),eB(39),eB(40),eB(41),eB(42),eB(43),eB(44),eB(45),eB(46),eB(47),eB(48),eB(51),eB(52),eB(53),eB(54),""),nB="",iB="{}",oB="",sB="",lB="{}";var cB=()=>{var e=(0,un.getInitScreenSize)();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":x.default.deviceOrientation&&/^landscape/.test(x.default.deviceOrientation)?"landscape":x.default.deviceOrientation||"portrait"},uB={25576:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"slotid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint32",key:"crt_size",value:"0"},{type:"uint32",key:"product_type",value:"0"},{type:"uint64",key:"crt_exp_tid",value:"0"},{type:"uint64",key:"ad_tmpl_id",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint64",key:"exp_time",value:"0"},{type:"uint64",key:"imp_time",value:"0"},{type:"string",key:"user_agent",value:""},{type:"uint64",key:"ad_w",value:"0"},{type:"uint64",key:"ad_h",value:"0"},{type:"uint64",key:"pos_x",value:"0"},{type:"uint64",key:"pos_y",value:"0"},{type:"string",key:"pos_name",value:""},{type:"uint32",key:"item_show_type",value:"0"},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""}],20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"is_predownload_video",value:"0"},{type:"uint64",key:"video_start_load_time",value:"0"},{type:"uint64",key:"video_start_play_time",value:"0"},{type:"string",key:"expand_feild",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"diaphaneity_list",value:""},{type:"string",key:"element_distance_list",value:""},{type:"string",key:"machine_type",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"logtype",value:"0"},{type:"uint32",key:"hitable_percentage",value:"0"},{type:"uint32",key:"visible_percentage",value:"0"},{type:"uint32",key:"opacity",value:"0"},{type:"string",key:"around_text",value:""},{type:"uint32",key:"cycle_play",value:"0"},{type:"string",key:"ad_position",value:""},{type:"string",key:"ad_screen_position",value:""},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"},{type:"string",key:"ext_feedback_comm",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_playlet_autoplay",value:"0"},{type:"uint64",key:"video_start_play_ts_client",value:"0"},{type:"uint64",key:"video_end_play_ts_client",value:"0"},{type:"uint64",key:"video_play_duration",value:"0"},{type:"uint64",key:"rewarded_condition",value:"0"},{type:"uint32",key:"is_rewarded",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"clk_timems",value:"0"},{type:"uint64",key:"play_timems",value:"0"},{type:"uint32",key:"is_shield",value:"0"}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"uint64",key:"p24",value:"0"},{type:"uint64",key:"p25",value:"0"},{type:"uint64",key:"p26",value:"0"},{type:"uint64",key:"p27",value:"0"},{type:"uint64",key:"p28",value:"0"},{type:"uint64",key:"p29",value:"0"},{type:"uint64",key:"p30",value:"0"},{type:"uint64",key:"p31",value:"0"},{type:"uint64",key:"p32",value:"0"},{type:"uint64",key:"p33",value:"0"},{type:"uint64",key:"p34",value:"0"},{type:"uint64",key:"p35",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],25534:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"weapp_path",value:""},{type:"uint64",key:"type",value:"0"},{type:"uint32",key:"time_ms",value:"0"},{type:"uint32",key:"pagex",value:"0"},{type:"uint64",key:"pagey",value:"0"},{type:"uint64",key:"screenx",value:"0"},{type:"uint32",key:"screeny",value:"0"},{type:"uint32",key:"adwidth",value:"0"},{type:"uint32",key:"adheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],26227:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"operation",value:"0"},{type:"uint32",key:"cur_show",value:"0"},{type:"string",key:"invite_user_openid",value:""},{type:"string",key:"invite_user_adunit",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"strategy",value:"0"},{type:"string",key:"expand_field",value:""}],26640:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint64",key:"destroy_timems",value:"0"},{type:"uint64",key:"play_start_timems",value:"0"},{type:"uint64",key:"play_duration_ms",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_ad_clk",value:"0"},{type:"uint64",key:"ad_clk_timems",value:"0"},{type:"uint32",key:"is_ad_landpage",value:"0"},{type:"uint64",key:"ad_landpage_timems",value:"0"},{type:"uint32",key:"is_show_status",value:"0"},{type:"uint32",key:"is_visible",value:"0"},{type:"uint32",key:"is_on_landpage",value:"0"}],20267:[{type:"string",key:"NetworkType",value:""},{type:"uint32",key:"SSID",value:""},{type:"uint32",key:"ToUin",value:""},{type:"uint64",key:"SceneID",value:"0"},{type:"uint64",key:"UIArea",value:"0"},{type:"uint64",key:"PositionID",value:"0"},{type:"uint64",key:"ActionID",value:"0"},{type:"string",key:"ActionStatus",value:""},{type:"uint64",key:"OpType",value:"0"},{type:"string",key:"Object",value:""},{type:"string",key:"Status",value:""},{type:"uint64",key:"SourceID",value:"0"},{type:"string",key:"Allpath",value:""},{type:"uint64",key:"ExpID",value:""},{type:"uint32",key:"LogType",value:"0"},{type:"string",key:"ErrType",value:"0"},{type:"uint64",key:"Time",value:"0"},{type:"uint64",key:"FuncType",value:"0"},{type:"string",key:"FuncID",value:""},{type:"uint64",key:"ContentType",value:"0"},{type:"uint64",key:"ContentID",value:"0"},{type:"uint64",key:"ReasonID",value:""},{type:"string",key:"ExternInfo",value:""},{type:"uint64",key:"ClassID",value:""}],31596:[{type:"uint64",key:"report_time",value:"0"},{type:"string",key:"instance_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"mb_service_version",value:""},{type:"string",key:"mb_lib_version",value:""},{type:"string",key:"mb_bussiness_version",value:""},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"pos_type",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"crt_exp_tid",value:"0"},{type:"uint64",key:"template_id",value:"0"},{type:"string",key:"expt_id_list",value:""},{type:"string",key:"x_expt_id",value:""},{type:"string",key:"x_expt_group_id",value:""},{type:"uint32",key:"crt_size",value:"0"},{type:"uint64",key:"ad_data_sizes",value:"0"},{type:"uint64",key:"template_sizes",value:"0"},{type:"uint64",key:"material_sizes",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint32",key:"action",value:""},{type:"string",key:"value",value:""}],31840:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:""},{type:"uint64",key:"report_time",value:0},{type:"string",key:"instance_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"mb_service_version",value:""},{type:"string",key:"mb_lib_version",value:""},{type:"string",key:"mb_bussiness_version",value:""},{type:"string",key:"mb_bussiness_time",value:""},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:0},{type:"uint32",key:"screen_height",value:0},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"scene",value:0},{type:"uint64",key:"slotid",value:0},{type:"uint32",key:"pos_type",value:0},{type:"uint64",key:"aid",value:0},{type:"string",key:"traceid",value:""},{type:"uint32",key:"costtype",value:0},{type:"uint64",key:"crt_exp_tid",value:0},{type:"uint64",key:"template_id",value:0},{type:"string",key:"expt_id_list",value:""},{type:"string",key:"x_expt_id",value:""},{type:"string",key:"x_expt_group_id",value:""},{type:"uint32",key:"crt_size",value:0},{type:"uint64",key:"ad_data_sizes",value:0},{type:"uint64",key:"template_sizes",value:0},{type:"uint64",key:"material_sizes",value:0},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"action",value:0},{type:"string",key:"value",value:""}],33455:[{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"string",key:"instance_id",value:""}]},dB="",pB=z.iw,hB="",fB="",gB="",vB="",mB="",yB="",_B=!0,bB="";x.default.onReady((()=>{dB=cB()||"";var e=(0,un.getStableSystemInfo)();hB=e.system,fB=e.version,gB=e.SDKVersion,mB=e.model,yB=e.brand,_B=(0,z.aI)();try{bB=x.default.accountInfo.appId,vB=t.updateTime}catch(e){}}));var wB=(e,t)=>{var r=(e=>{var t=uB[e.toString()];return t?t.concat([]):[]})(e);if(r&&0!==r.length)return t=Object.assign({publisher_appid:bB,appid:bB,orig_weapp_id:"",network_type:"",wechat_version:fB,platform:pB,system_version:hB,device_orientation:dB,wxapp_lib_version:gB,wxapp_lib_time:vB,machine_type:mB,ad_platform:_B?1:0},t),t=Object.assign({DeviceModel:mB,DeviceBrand:yB,OsName:pB,OsVersion:hB},t),r=r.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()}))),JO({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:r}}}).catch((e=>{}))},IB=(e,t,r)=>{(({key:e,id:t})=>{"object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),b.reportIDKeyDirectly({id:t||924,key:e,force:!0})})({key:e}),(({key:e,id:t,extInfo:r,reportData:a})=>{if("object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),a=a||{},r&&"string"!=typeof r)try{r=JSON.stringify(r)}catch(e){r=r.toString()}wB(16295,{id_key:e,id_key_group:t||924,report_time:+new Date,ad_pos_type:a.ad_pos_type||0,source_url:a.source_url||"",expand_feild:a.reportAdData||"",expand_feild2:r,aid:a.aid||0,traceid:a.traceid||"",ad_unit_id:a.ad_unit_id})})({key:e,extInfo:t,reportData:r})},SB=(e,t)=>t.reduce(((t,r)=>(t[r]=e[r],t)),{});var kB={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:z.iw,isWaGame:!0,isApp:!1,isIOS:z.cj,isAndroid:z.wZ,isWindows:z.qB,isMac:z.Mq,isPC:z.DD,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:"",safeArea:{}},CB={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""},TB=()=>{},PB=()=>new Promise((e=>{TB=e})),AB=()=>new Promise((e=>{var t;t=t=>{kB.oaid=t,e()},aB?t&&t(aB):z.wZ&&x.default.clientVersion<654315827?(0,Q.IN)("getOAID",{success(e){/:ok/.test(e.errMsg)?(aB=e.result||"",t&&t(aB)):t&&t("")},fail(){t&&t("")}}):t&&t("")})),EB=()=>new Promise((e=>{(function(e=""){return new Promise(((t,r)=>{z.wZ&&x.default.clientVersion>=654315827||z.cj&&x.default.clientVersion>=385879808?(0,Q.IN)("getDeviceInfo",{waidPkg:e,success(e){aB=e.oaid||"",nB=e.imei||"",sB=e.waid||"",oB=e.ua||"",lB=e.devIdInfo||"{}";try{iB=JSON.stringify({...JSON.parse(lB),...oB?{ua:oB}:{}})}catch(e){r(e)}t({oaid:aB,imei:nB,commonid:iB,waid:sB})},fail(e){r(e)}}):t({oaid:aB,imei:nB,commonid:iB,waid:sB})}))})().then((({imei:t,oaid:r,commonid:a})=>{z.cj?kB.idfa=t:z.wZ&&(kB.oaid=r,kB.imei=t),kB.common_device_id=a||"{}",e(),PB().then((()=>{IB(rB)}))})).catch((t=>{e(),PB().then((()=>{IB(tB,t)}))}))})),MB=new Promise((e=>{x.default.onReady((()=>{var r;kB.startTime=new Date,kB.deviceOrientation=cB()||"",kB.envVersion=x.default.envVersion;var a=(0,un.getStableSystemInfo)(),n=(0,un.getInitScreenSize)(),i=(0,un.getSystemInfoSync)();kB.safeArea=i.safeArea||x.default.safeArea||{},kB.screenWidth=n.screenWidth||0,kB.screenHeight=n.screenHeight||0,kB.systemVersion=a.system,kB.wechatVersion=a.version,kB.SDKVersion=a.SDKVersion,kB.brand=a.brand,kB.model=a.model,kB.isIPad=null===(r=a.model)||void 0===r?void 0:r.includes("iPad"),kB.isWaGame=(0,z.aI)(),kB.isApp=(0,z.RF)();try{kB.gameAppId=x.default.accountInfo.appId,kB.SDKVersionTime=t.updateTime}catch(e){}Promise.all([AB(),EB()]).then((()=>e(kB)))}))}));o.onLoad((()=>{kB.startTime=new Date,CB.enterForegroundTime=new Date}));(0,Ac.dN)((({scene:e})=>{CB.enterForegroundTime=new Date,CB.currentScene=e})),(0,ar.vv)((()=>{CB.gameDuration+=Date.now()-CB.enterForegroundTime.getTime()}));var xB=p(8341),DB="gameTouchEnd",RB=new xB.v,LB={},NB=e=>{null!=e&&e.changedTouches&&e.changedTouches.length>0&&((LB={}).touchStartPosX=Math.round(e.changedTouches[0].clientX),LB.touchStartPosY=Math.round(e.changedTouches[0].clientY),LB.touchEndPosX=0,LB.touchEndPosY=0,LB.touchInterval=0,LB.touchStartTime=Date.now())},OB=e=>{if(null!=e&&e.changedTouches&&e.changedTouches.length>0){LB.touchEndPosX=Math.round(e.changedTouches[0].clientX),LB.touchEndPosY=Math.round(e.changedTouches[0].clientY);var t=Date.now();LB.touchInterval=t-(LB.touchStartTime||0),LB.touchEndTime=t,RB.emit(DB,LB)}};x.default.onReady((()=>{xS.onTouchStart(NB),xS.onTouchEnd(OB)}));var BB,jB,FB=p(5656),WB=!1,UB={},GB=JSON.parse,VB=(0,Y.s)("onReportEvent");VB.internalOnMethod,VB.internalOffMethod;function $B(){if("string"==typeof x.default.opConfig){var e;try{e=GB(x.default.opConfig)}catch(e){}return e&&e.expt_info}return x.default.opConfig&&x.default.opConfig.expt_info}function qB(){var e,t=$B();return t&&WB?(e=1,BB=t,b.reportIDKey({key:"useLaunchExptInfo"})):t?(e=2,BB=t,b.reportIDKey({key:"useLaunchExptInfo"}),b.reportIDKey({key:"useOriginLaunchExptInfo"})):(e=0,b.reportIDKey({key:"useContactExptInfo"})),{exptInfo:BB,jsDataType:e}}function zB(){if(void 0===nr.hr)return"";var e=nr.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}(0,je.n)("onAppEnterForeground",(e=>{Object.assign(UB,e),jB=UB.sessionid||UB.sessionId})),X((e=>{$B()&&(WB=!0)})),x.default.onReady((()=>{Object.assign(UB,x.default.appLaunchInfo);var e=$B();e?BB=e:x.default.appContactInfo&&x.default.appContactInfo.passThroughInfo&&(BB=x.default.appContactInfo.passThroughInfo.expt_info)}));var HB=(0,Q.TG)("getExptInfo","webapi_wxaexpt_hit",(({keyList:e})=>({param_name_list:e})),(e=>(e.list={},Array.isArray(e.hit_list)&&e.hit_list.forEach((t=>{e.list[t.param_name]=t.param_value})),delete e.base_resp,delete e.hit_list,e)));function KB(e){var t={},{exptInfo:r,jsDataType:a}=qB();return r&&Array.isArray(r.expt_param_list)&&(Array.isArray(e)||(e=r.expt_param_list.map((e=>e.param_name))),r.expt_param_list.forEach((r=>{-1!==e.indexOf(r.param_name)&&(t[r.param_name]=r.param_value,r.expt_id&&function(e,t,r){b.reportKeyValue({key:"ExptHit",value:[(0,pi.k)(),(0,pi.n)(),e,encodeURIComponent(JSON.stringify(t)),0,"",r].join(",")})}(r.expt_group_id,r,a))}))),t}function JB(e,t,r="immediate"){var a=2,{accountInfo:n,envVersion:i}=x.default||{},o=n?n.appId:"";"release"===i?a=1:"trial"===i&&(a=3);var s=(0,un._getSystemInfoSyncFromCache)(!0),l=UB.sessionid||UB.sessionId,c=UB.usedstate||UB.usedState;!function(e,t){try{VB.emit({reportId:e,data:t})}catch(e){}}(e,t),kg(1005,JSON.stringify({appid:o,app_state:a,appversion:(0,sN.E)().miniProgram.version,enter_scene:UB.scene,scene_note:UB.scene_note||UB.sceneNote,prescene:UB.prescene,prescene_note:UB.prescene_note||UB.presceneNote,sessionid:l,add_state:c,page_path:zB()||UB.path,page_query:JSON.stringify(UB.query||{}),referpagepath:UB.referpagepath,isentrance:jB||jB===l?0:1,event_time:Date.now(),sdk_version:kM.c,devicemodel:s.model,devicebrand:s.brand,os_name:s.platform,os_version:s.system,language_version:s.language,networktype:(0,rr._getCurrentNetworkType)(),event_name:e,event_value:JSON.stringify(t),unique_id:String(Date.now()+Math.random()),screen_width:x.default.screenWidth,screen_height:x.default.screenHeight,open_source:x.default.host&&x.default.host.appId?2:1,host_appid:x.default.host?x.default.host.appId:""}),r)}function QB(e,t={}){setTimeout((()=>JB(e,t))),b.reportIDKey({key:"reportEventInvoke"})}var YB=null,ZB=!1;function XB(e,t){var r,a={};return(0,Q.IN)("measureText",{text:e,fontSize:null!==(r=null==t?void 0:t.fontSize)&&void 0!==r?r:10,fontFamily:(null==t?void 0:t.fontFamily)||"sans-serif",fontWeight:"normal",fontStyle:"normal",complete(e){a={width:e.width||0}}}),a}function ej(e,t){var r={};if(ZB)r=XB(e,t);else if(YB||(YB=function(){var e=new q.Z.Canvas;return e.width=1,e.height=1,e.getContext("2d")}()),YB){var a=t?`${t.fontSize||10}px ${t.fontFamily||"sans-serif"}`:null;a&&(YB.font=a),r=YB.measureText(e)}else ZB=!0,r=XB(e,t);return r.width||0}var tj={0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625};const rj=new class{constructor(){}getCharWidth(e,t){return(tj[e]?tj[e]:10)*t/10}limitString(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}getTextWidth(e,t){return z.wZ?this.getTextWidthInAndroid(e,t):Math.ceil(ej(e,t?{fontSize:t,fontFamily:"PingFangSC-Regular, SF Pro Display, SF Pro Text"}:void 0)||0)+1}getTextWidthInAndroid(e,t){e=(e=String(e)).split("");var r=0;return e.forEach((e=>{var a=this.getCharWidth(e,t);r+=a})),r}getMaxWordLength(e,t,r,a=!0){e=(e=String(e)).split("");var n=0,i=0;a&&(r-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],l=this.getCharWidth(s,t);if(n+l>r)break;i++,n+=l}return i}textMetrics(e,t){for(var{fontSize:r,maxWidth:a,maxLines:n=1}=t,i=[],o=0,s=e.substring(0,e.length);o<n;){var l=this.getMaxWordLength(s,r,a,!(o!==n-1)),c=o===n-1?this.limitString(s,l):s.substring(0,l);c&&i.push({text:c,width:this.getTextWidth(c,r)}),o++,s=s.substring(l,s.length)}return i}};var aj=p(3165),nj=p(5019),ij=p(143),oj=new Dm.Q("playableads",!1);function sj(e){oj.on("playableStatusChange",e)}function lj(e){oj.off("playableStatusChange",e)}(0,Q.jQ)("onPlayableStatusChange",(e=>{oj.emit("playableStatusChange",e)}));var cj=function(e){return e[e.End=0]="End",e[e.FirstFrame=1]="FirstFrame",e[e.Error=2]="Error",e[e.CustomEvent=3]="CustomEvent",e}({}),uj=function(e){return e.PlayableLibInit="playableLibInit",e.DownloadPlayablePackage="downloadPlayablePackage",e.InjectJsFiles="injectJsFiles",e.PlayableLibError="playableLibError",e}({}),dj=function(e){return e[e.Fail=0]="Fail",e[e.Success=1]="Success",e}({}),pj=new Dm.Q("playableadsNew",!1);function hj(e){pj.on("playableStatusChangeNew",e)}function fj(e){pj.off("playableStatusChangeNew",e)}(0,Q.jQ)("onPlayableStatusChangeNew",(e=>{pj.emit("playableStatusChangeNew",e)}));var gj={16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],33455:[{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"string",key:"instance_id",value:""}]},vj=e=>e.map((e=>String(e.value).replace(/,/g,";"))).join(","),mj="",yj=z.iw,_j="",bj="",wj="",Ij="",Sj="",kj="",Cj=!0,Tj="";x.default.onReady((()=>{var e;e=(0,un.getInitScreenSize)(),mj=(e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":x.default.deviceOrientation&&/^landscape/.test(x.default.deviceOrientation)?"landscape":x.default.deviceOrientation||"portrait")||"";var r=(0,un.getStableSystemInfo)();_j=r.system,bj=r.version,wj=r.SDKVersion,Sj=r.model,kj=r.brand,Cj=(0,z.aI)();try{Tj=x.default.accountInfo.appId,Ij=t.updateTime}catch(e){}}));var Pj=(e,t)=>{var r=t,a=(e=>{var t=gj[e.toString()];return t?t.concat([]):[]})(e);if(a&&0!==a.length)return r=Object.assign({publisher_appid:Tj,appid:Tj,orig_weapp_id:"",network_type:"",wechat_version:bj,platform:yj,system_version:_j,device_orientation:mj,wxapp_lib_version:wj,wxapp_lib_time:Ij,machine_type:Sj,ad_platform:Cj?1:0},r),r=Object.assign({DeviceModel:Sj,DeviceBrand:kj,OsName:yj,OsVersion:_j},r),a=a.map((e=>({type:e.type,value:(r[e.key]||e.value).toString()}))),(e=>[33455].includes(Number(e)))(e)?b.reportKeyValue({key:e,value:vj(a),number:!0,immediately:!0}):JO({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:a}}}).catch((e=>{}))},Aj=(e,t,r)=>{(({key:e,id:t})=>{var r=t,a=e;"object"==typeof a&&(!r&&(r=a.idKeyGroup),a=a.idKey),0===a&&(a="0"),b.reportIDKeyDirectly({id:r||924,key:a,force:!0})})({key:e}),(({key:e,id:t,extInfo:r,reportData:a})=>{var n=e,i=t,o=r,s=a;if("object"==typeof n&&(!i&&(i=n.idKeyGroup),n=n.idKey),0===n&&(n="0"),s=s||{},o&&"string"!=typeof o)try{o=JSON.stringify(o)}catch(e){o=o.toString()}var l=16295;try{var c,u;1===Number(null===x.default||void 0===x.default||null===(c=x.default.expt)||void 0===c||null===(u=c.clicfg_miniprogram_adreport_use_kv)||void 0===u?void 0:u.value)&&(l=33455)}catch(e){}Pj(l,{id_key:n,id_key_group:i||924,report_time:+new Date,ad_pos_type:s.ad_pos_type||0,source_url:s.source_url||"",expand_feild:s.reportAdData||"",expand_feild2:o,aid:s.aid||0,traceid:s.traceid||"",ad_unit_id:s.ad_unit_id,slotid:s.slotid||0,publisher_appid:s.publisher_appid||""})})({key:e,extInfo:t,reportData:r})},Ej=p(7118),Mj=null,xj=[];(0,Ej.L)("videoAdPreloadInfoGet",(e=>{Mj=e,xj.forEach((e=>{null==e||e(Mj)})),xj=[]}));var Dj,Rj=()=>Mj,Lj=(0,Ta.t)(),Nj=924,Oj=2,Bj=4,jj=e=>({idKey:e,idKeyGroup:Nj}),Fj=jj(142),Wj=jj(141),Uj=jj(140),Gj=jj(145),Vj=jj(146),$j=(jj(144),jj(143),{}),qj=1,zj=1,Hj="aiad",Kj={banner:"8040321819858439",rewardedVideoAd:"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885",cpsShopAd:"4021337766924141",wxpayBottom:"1024740886829562",wxpayCard:"8054749846134397",aiadCustom:"4071202390577885",aiadBanner:"8040321819858439"},Jj={},Qj=[],Yj={},Zj="pages/index/index",Xj="/homeIntersitialCache.txt",eF="wxfile://ad",tF=(e,t,r=!1)=>{if(r)if("banner"===e){for(var a in oF)if(a.startsWith("banner-aiad"))return a;for(var n of iF)if(n.startsWith("banner-aiad"))return n}else if("custom"===e){for(var i in oF)if(i.startsWith(`custom-aiad-${t}`))return i;for(var o of iF)if(o.startsWith(`custom-aiad-${t}`))return o}return e+"-"+Hj+(t?`-${t}`:"")},rF=e=>t=>nF(t,e),aF=(rF(null),rF({ignoreCheck:!0})),nF=(rF({pathSlotIndex:1,ignoreCheck:!0}),(e,t)=>{var r;null!=t&&t.ignoreCheck&&(r=t.ignoreCheck);var a,n="";if(null!=t&&t.pluginId&&(n=t.pluginId),null!=t&&t.pathSlotIndex&&(a=t.pathSlotIndex),Array.isArray(e)||r||a){for(var i of e)["banner","video"].includes(i.type)&&(i.subType=i.type,i.type="custom",i.migrateCustom=!0);for(var o=0,s=e.length;o<s;o++){var l=e[o],{unitId:c,type:u}=l;if(r||-1!==["banner","custom","videoPatch","video"].indexOf(u)){if(c){if(-1!==Qj.indexOf(c)){console.warn(`preloadAd已预加载过${c}这个广告单元,请勿重复调用`);continue}Qj.push(c),Yj[c]={...l,pluginId:n}}else if(!c&&!r&&!a){console.warn(`preloadAd item:${o} lose unitId`);continue}var d=void 0,p=void 0;r?("custom"===l.type?(p=l.adTemplId,l.realTemplId&&(d=l.realTemplId),l.migrateCustom&&(p=l.migrateBannerAdTemplId)):p=l.adTemplId,"interstitial"===l.type&&"aiad"===l.mode?cF(l,{saveKey:"interstitial"===l.type&&"aiad"===l.mode?`${Hj}-${l.pullPath}`:zj++,type:l.type,mode:l.mode,pathSlotIndex:100,preloadPath:l.pullPath}):cF(l,Object.assign({},t,{saveKey:a?Hj:zj++,type:l.type,mode:l.mode,adTemplId:p,realTemplId:d}))):cF(Yj[c])}else console.warn("wx.preloadAd参数有误，请检查type类型")}}else console.warn("preloadAd参数应为数组")}),iF=new Set,oF={},sF=["interstitial"],lF=function(){var e=_e()((function*(e,t,r,a){var n,i;try{var{data:o}=t;if(!(o.advertisement_num>=1&&o.advertisement_info.length))return void Aj(Wj,r===Hj?{errCode:o.ret,errMsg:"no advertisement",type:r}:{errCode:o.ret,errMsg:"no advertisement",type:e.type},{ad_unit_id:e.unitId});var s,l,c=o.advertisement_info[0];if(n=c.aid,i=c.traceid,null!==(s=c.video_info)&&void 0!==s&&s.videoUrl&&""===e.pluginId){var u=yield((e,t)=>new Promise((r=>{var a=Date.now();(0,re.ot)({url:t.video_info.videoUrl,success(n){r(n.tempFilePath),Aj(Gj,{type:e.type,url:t.video_info.videoUrl,costtime:Date.now()-a},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})},fail(){r(""),Aj(Vj,{type:e.type,url:t.video_info.videoUrl},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})}})})))(e,c);u&&(c.video_info.preloadUrl=u)}Aj(Fj,r===Hj?{type:r}:{type:e.type},{ad_unit_id:e.unitId,aid:c.aid,traceid:c.traceid}),"aiad"!==(null==a?void 0:a.mode)&&"interstitial"===(null==a?void 0:a.type)?l="interstitial-"+r:(l=r?tF(e.type,a.adTemplId):e.unitId,"aiad"===(null==a?void 0:a.mode)&&"interstitial"===(null==a?void 0:a.type)&&(l+="-"+qj++)),"aiad"===(null==a?void 0:a.mode)&&"interstitial"===(null==a?void 0:a.type)&&($j[l]={use:!1,path:null==a?void 0:a.preloadPath}),oF[l]={data:JSON.stringify(o),_preloadTime:+new Date,_aid:n,_traceid:i,adTemplId:null==a?void 0:a.adTemplId,preloadPath:null==a?void 0:a.preloadPath}}catch(t){Aj(Wj,{errMsg:"advertisement error",error:t instanceof Error?null==t?void 0:t.stack:t,type:e.type},{ad_unit_id:e.unitId})}}));return function(t,r,a,n){return e.apply(this,arguments)}}(),cF=(e,t)=>{var r,a=!!t;if(r="interstitial"===(null==t?void 0:t.type)&&"aiad"===(null==t?void 0:t.mode)?t.saveKey:a?tF(t.type,t.adTemplId):e.unitId,!iF.has(r)){var n=!1;if("interstitial"===(null==t?void 0:t.type)&&"aiad"===(null==t?void 0:t.mode)&&(n=!0),iF.add(r),n){var i=t.preloadPath;vF[i]={status:1}}return Jj[r]=new Promise(((i,o)=>{gF(e,a,t).then((o=>{lF(e,o,a?t.saveKey:void 0,t).then((()=>{iF.delete(r),delete Jj[r],i(),n&&(vF[t.preloadPath].status=0),e.pullPath===Zj&&(0,Qe.J)("enableCacheAiadInterstitial")&&((e={})=>{e.lastModifyTime=Date.now();var t=()=>{Lj.writeFile({filePath:eF+Xj,encoding:"utf8",data:JSON.stringify(e)})};Lj.access({path:eF,success:()=>{t()},fail:()=>{Lj.mkdir({dirPath:eF,success:()=>{t()}})}})})(oF["interstitial-aiad-1"])}))})).catch((e=>{f.warn("preloadAdData fetch error: ",e),iF.delete(r),delete Jj[r],o(e),n&&(vF[t.preloadPath].status=0)}))})),Jj[r]}},uF=!1,dF=[];try{var pF=e=>{uF=!0,dF.forEach((t=>t(e))),dF=[],(0,et.bq)(pF)};(0,et.HM)(pF)}catch{}var hF=null,fF=e=>{var t=Rj();t?null==e||e(t):(uF?(hF&&clearTimeout(hF),hF=setTimeout((()=>{en("videoAdPreloadInfo",{},[CB.currentWebviewId])}),0)):dF.push((({webviewId:e})=>{en("videoAdPreloadInfo",{},[e||0])})),(e=>{xj.push(e)})(e))},gF=(e,t=!1,r=void 0)=>new Promise(((a,n)=>{var i;(i=null!=r&&r.pathSlotIndex?(null==r?void 0:r.preloadPath)||m.getCurrentRoutePathWithoutQuery():(null==r?void 0:r.preloadPath)||CB.weappPath).endsWith(".html")&&(i=i.slice(0,-5)),fF((o=>{var s,l,c,u,d={pos_id:"",ad_unit_id:e.unitId,scene_type:o.scene_type,weapp_path:i,user_agent:o.ua,sdk_version:kB.SDKVersion,weapp_extra_data:JSON.stringify({wxa_start_ts:kB.startTime.valueOf(),wxa_enter_ts:CB.enterForegroundTime.valueOf(),start_ts:kB.startTime.valueOf(),enter_ts:CB.enterForegroundTime.valueOf(),user_duration:CB.gameDuration+(Date.now()-CB.enterForegroundTime.getTime()),machine_type:kB.model,is_ad_interval:!1,wxa_ext:"",env:null===(s=x.default.host)||void 0===s?void 0:s.env,app_appid:null===(l=x.default.host)||void 0===l?void 0:l.appId,host_version:null===(c=x.default.host)||void 0===c?void 0:c.version,local_wechat_version:null===(u=x.default.host)||void 0===u?void 0:u.localWeChatVersion,wxa_fetch_ads_ts:Date.now()}),ext_slot_custom_comm:""};e.pluginId?(d.appid=e.pluginId,d.orig_weapp_id=kB.gameAppId):(d.appid=kB.gameAppId,d.orig_weapp_id="");var p={is_ad_preload:1};if("custom"===e.type?(d.pos_id=Kj.customAd,p.is_adunit_tmpl=!0):"banner"===e.type?(d.pos_id=Kj.banner,Number(e.adIntervals)>0&&(p.refresh_time=String(e.adIntervals))):"videoPatch"===e.type?d.pos_id=Kj.wxAppPreVideoAd:"video"===e.type?d.pos_id=Kj.wxAppVideo:"wxpay"===e.type&&(e.hasWxPayCustomCard?d.pos_id=`${Kj.wxpayBottom}`:d.pos_id=`${Kj.wxpayBottom}|${Kj.wxpayCard}`,d.ad_unit_id=""),e.subType)if("skitBottom"===e.subType)p.is_skit=1,p.skit_ad_type=1002;else if("skitFeeds"===e.subType)p.is_skit=1,p.skit_ad_type=1001;else if(["banner","video"].includes(e.subType)){var h;"banner"===e.subType?h=Oj:"video"===e.subType&&(h=Bj),p.ad_raw_type=h}if((0,z.er)()&&(p.in_3rd_app=1),p.machine_brand=kB.brand||(null===x.default||void 0===x.default?void 0:x.default.brand),t&&(d.ad_unit_id=void 0,d.pos_id=Kj.interstitialAd,p.request_type=1),null!=r&&r.pathSlotIndex){if(d.ad_unit_id="ffffffff3x","interstitial"===e.type);else if("custom"===e.type){d.pos_id=Kj.aiadCustom;var g=r.adTemplId;r.realTemplId&&(g=r.realTemplId),p.ad_templ_id=g}else d.pos_id=Kj.aiadBanner;p.path_slot_index=r.pathSlotIndex}var v=(()=>{var e,t,r,a,n=[];if((null===x.default||void 0===x.default||null===(e=x.default.expt)||void 0===e||null===(t=e.clicfg_miniprogram_operatewxdata_use_quic)||void 0===t?void 0:t.groupid)>0){var i,o=null===x.default||void 0===x.default||null===(i=x.default.expt)||void 0===i?void 0:i.clicfg_miniprogram_operatewxdata_use_quic;n.push({exptid:o.exptid,groupid:o.groupid,name:o.name,value:o.value})}if((null===x.default||void 0===x.default||null===(r=x.default.expt)||void 0===r||null===(a=r.clicfg_miniprogram_adreport_use_kv)||void 0===a?void 0:a.groupid)>0){var s,l=null===x.default||void 0===x.default||null===(s=x.default.expt)||void 0===s?void 0:s.clicfg_miniprogram_adreport_use_kv;n.push({exptid:l.exptid,groupid:l.groupid,name:l.name,value:l.value})}return n})();v&&v.length&&(p.weapp_expt_ctx=v),d.ext_slot_custom_comm=JSON.stringify(p),(0,Q.yD)({sdkApiName:"webapi_getadvert",apiName:"webapi_getadvert",reqData:d,success:e=>{a(e)},fail:t=>{f.warn("webapi_getadvert err: ",t),Aj(Uj,{error:t,type:e.type},{ad_unit_id:e.unitId,slotid:d.pos_id}),n(t)},complete:()=>{}})}))})),vF={},mF=(e=!1)=>{var t=m.getCurrentRoutePathWithoutQuery();return t.endsWith(".html")&&(t=t.slice(0,-5)),vF[t]?vF[t].status:e?void 0:0},yF=()=>{var e=m.getCurrentRoutePathWithoutQuery();return e.endsWith(".html")&&(e=e.slice(0,-5)),Jj[`${Hj}-${e}`]},_F=(0,ij.v)("ad"),bF={GameGlobal:_s.Z,_onShow:Ac.dN,_onHide:ar.vv,_offShow:Ac.Tb,_offHide:ar.b$,onBeforeHide:ar.VT,onAfterHide:ar.rc,offBeforeHide:ar.yN,offAfterHide:ar.UR,getMenuButtonBoundingClientRect:FO.zC,_downloadFileSkipCheckDomain:Jt.o,touch:xS,reportCanvasData:kv.y4,ReportCanvasDataEventType:kv.F0,checkAndUseAdSkipCard:function(){return new Promise(((e,t)=>{DO||t(),DO&&(RO=setTimeout(t,3e3)),DO&&(0,Q.yD)({apiName:"webapi_getadcardbalance",success({data:r}){var{errCode:a,balance:n}=r;!a&&n?(RO&&clearTimeout(RO),(0,Ze._showModal)({title:"是否使用广告跳过卡",content:`当前还有${n}张`,confirmText:"使用",cancelText:"继续看",success({confirm:r}){r?(0,Q.yD)({apiName:"webapi_payadcardskiprewardedad",reqData:{outTradeNo:`${Date.now()+Math.random()}`},success({data:r}){var{errCode:a}=r;a?((0,Ze.showToast)({title:"使用广告卡失败",icon:"error"}),t()):((0,Ze.showToast)({title:"消耗一张广告卡"}),e({isUseAdSkipCard:!0}))},fail:t}):t()},fail:t})):t()},fail:t})}))},_requestSkipCheckDomain:Lt.ac,onAppRoute:et.HM,showToast:Ze.showToast,_getNetworkType:rr.getNetworkType,getChannelsLiveInfo:jO,_showModal:Ze._showModal,getInitScreenSize:un.getInitScreenSize,getSystemInfoSync:un.getSystemInfoSync,onAppRouteDone:()=>{},onWindowResize:FO.KN,beginAudioInterruption:ph,endAudioInterruption:hh,__wxConfig:x.default,onNativeEvent:je.n,offNativeEvent:je.ri,onNetworkWeakChange:rr.onNetworkWeakChange,getExptInfoSync:KB,addInnerShareCallbacks:function(e){rm.push(e)},onBeforeUnloadPage:st,_onUserCaptureScreen:ws,getAdUxInfo:nj.I,getStableSystemInfo:md.Oo,vibrateShort:vi,vibrateLong:mi,setNavigateBackInterception:_t,stopNavigateBackInterception:bt,NavigationBackTypes:ct,_gameTransfer:Mo.ip,deviceInfoLoaded:MB,getGameTouchStatus:()=>LB,onGameTouchEnd:e=>{RB.on(DB,e)},offGameTouchEnd:e=>{RB.off(DB,e)},loadDeviceInfoByManual:e=>{var t=Object.keys(e);for(var r of t)kB[r]=e[r]},appRouteInfo:CB,getIndentityInfo:()=>SB(kB,["oaid","imei","idfa","common_device_id"]),deviceInfo:kB,proxyReady:()=>TB(),getDeviceOrientation:()=>{var e=(0,un.getSystemInfoSync)();return kB.screenWidth=e.screenWidth,kB.screenHeight=e.screenHeight,kB.deviceOrientation=kB.screenWidth>kB.screenHeight?"landscape":"portrait",kB.deviceOrientation},webviewLayout:Rm.u,nativeviewLayout:Rm._,View:FB.G,Text:jw.x,Image:Fw.E,Video:wk.n,Component:Lm.wA,initComponent:Lm.S1,createComponent:Lm.Ue,getPrivateThis:Lm.Wj,removePrivateThis:Lm.bn,invoke:Xa.dw,invokeMethod:Q.IN,beforeInvoke:Q.r3,onMethod:Q.jQ,publish:Q.nY,subscribe:Q.Ld,invokeOperateWXDataPromise:Q.Qh,adReportOperateWXDataPromise:JO,_invokeMethod:Q.be,gametext:rj,packageChannel:_F,onPlayableStatusChange:sj,offPlayableStatusChange:lj,onPlayableStatusChangeNew:hj,offPlayableStatusChangeNew:fj,_getABTestConfig:C_.b,getInternalFileSystemManager:Ta.t,readdir:aj.e,stat:$h.lz,unlink:lI.q,writeFile:Eg.N,readFile:Nt.p,readFileSync:Nt.N,access:Mg.P,accessSync:Mg.c,wxNativeConsole:f,wxConsole:h,console:console,_createInnerAudioContext:nf,invokeOperateWXData:Q.yD,getHasPreloadAdMap:()=>{var e={};return Object.keys(oF).forEach((t=>{"string"!=typeof t||sF.includes(t)||(e[t]=oF[t])})),Object.keys(e).forEach((e=>{delete oF[e]})),e},getPreloadIntersititialAd:(e=!1)=>{var t=[];if(e){var r=(()=>{var e,t,r=null,a=Number(null!==(e=null===(t=x.default.expt)||void 0===t?void 0:t.clicfg_appbrand_ios_android_aiad_interstitial_cache_time)&&void 0!==e?e:0);try{var n=Lj.readFileSync(eF+Xj,"utf8"),i=JSON.parse(n);Date.now()-i.lastModifyTime<a&&(delete i.lastModifyTime,r=i)}catch(e){}return r})(),a=m.getCurrentRoutePathWithoutQuery();if(r&&a===Zj&&(0,Qe.J)("enableCacheAiadInterstitial"))t.push(r);else{var n=Object.keys($j),i=!1;for(var o of n){var s=$j[o],l=m.getCurrentRoutePathWithoutQuery();if(l.endsWith(".html")&&(l=l.slice(0,-5)),s.path===l&&!s.use){i=o;break}}if(i)delete $j[i];else{var c=Object.keys($j),u=!1;for(var d of c){var p=$j[d],h=m.getCurrentRoutePathWithoutQuery();if(p.path===h&&!p.use){u=d;break}}u?delete $j[u]:u=c[0],oF[u]&&(t.push(oF[u]),delete oF[u])}}}else for(var f=1;f<=zj;f++){var g="interstitial-"+f;t.push(oF[g]),delete oF[g]}return t},getPreloadIntersititialAdStatus:mF,getPreloadingPromise:yF,AIAD_INTERSTITIAL_ADUNITID:"ffffffff3x",preloadAiInterstitialAiAd:e=>{if(!0===e&&(e=m.getCurrentRoutePathWithoutQuery()),e||Dj){if(e.endsWith(".html")&&(e=e.slice(0,-5)),!yF())return void 0!==mF(!0)&&f.info(`[aiad info] ad is preloaded path: ${m.getCurrentRoutePathWithoutQuery()}`),aF([{type:"interstitial",mode:"aiad",pullPath:e}]);f.info(`[aiad info] ad is preloading... path: ${m.getCurrentRoutePathWithoutQuery()}`)}else console.error("error: preload aiad interstitial no exist correct path")},getCurrentShowAdPath:()=>{try{if((0,z.aI)())return"";var e=(0,Qe.J)("aiadEnablePreviewInterstitialAd"),t="";return(t=m.getCurrentRoutePathWithoutQuery()).endsWith(".html")&&e&&(t=t.slice(0,-5)),t}catch(e){}}};const wF=bF;CN({name:"ad",waLibName:"WAGameAd.js",compileType:"game",globalName:"AD",globalGetter:()=>({console:console,wxConsole:h,wxNativeConsole:f,__wxConfig:x.default,__errorTracer__:_,Reporter:b,Foundation:o,WeixinJSBridge:c,IS_APP:!1,IS_APPSERVICE_SDK:!0,IS_WAGAME:!0,IS_WORKER:!1,wxRunOnDebug:s,__appServiceSDKAD__:wF,readFile:Nt.p}),exportApis:{createRewardedVideoAd:{apiKey:"createRewardedVideoAd"},createIncentiveVideoAd:{apiKey:"createRewardedVideoAd"},createBannerAd:{apiKey:"createBannerAd"},createInterstitialAd:{apiKey:"createInterstitialAd"},createCustomAd:{apiKey:"createCustomAd"},createGridAd:{apiKey:"createGridAd"},createCpsAd:{apiKey:"createCpsAd"},preloadAd:{apiKey:"preloadAd"}},provideInGlobal:"ADSDK",src:"./src/sdk/dist/game-ad.js",onInjectCallback:()=>{(0,kO.KF)("ad",kO.Q_.injected)},emptyInjectKey:"inject"});var IF=p(4545),SF=p(9499),kF=p(8927),CF=p(7274),TF=new kF.n({pluginAppId:"wxapplib_common_apis",pluginVersion:"1.1.0"});function PF(e,t){TF.report({Type:CF.jJ.Error,Target:`gameTransfer_${e}`,Result:t,IsError:1})}var AF=p(3718);var EF=new class{constructor(){this.cuties=[]}pushCutie(e){this.cuties.push(e)}hideCutie(){var e=this;return _e()((function*(){for(var t of e.cuties)"function"==typeof t.hide&&(yield t.hide());return!0}))()}destory(){this.cuties=[],EF=void 0}reshowAll(e){this.cuties.forEach((t=>{"function"==typeof t.reShow&&t.reShow(e)}))}};const MF=EF;var xF=new SF.v,DF={};var RF,LF={};function NF(e){xF.setBase(e)}function OF(e){!function(){if(!RF){RF=!0;var e=(0,Tv.Ir)();xF.setBase({ClassID:110,SSID:e.scene,Count:0})}}(),e.ExternInfo=encodeURIComponent(JSON.stringify(Object.assign({},DF,e.ExternInfo))),xF.send(e)}var BF=function(e){return e[e.Gift=110101]="Gift",e[e.LaunchScreen=110102]="LaunchScreen",e[e.LoopQuert=110103]="LoopQuert",e}({}),jF=function(e){return e[e.pv=1]="pv",e[e.click=2]="click",e[e.success=3]="success",e[e.fail=4]="fail",e[e.autoClose=253]="autoClose",e}({});function FF(e,t,r,a){var n={};if(LF[e]){var i=LF[e];n={ContentType:i.content_type,ContentID:i.content_sub_type,FuncID:i.content_target_id,SourceID:i.from_source_type,Object:i.from_object}}OF(Object.assign({SceneID:e,UIArea:t,PositionID:r,ActionID:a},n))}var WF=-1;function UF(e){e===jF.pv?WF=(new Date).getTime():e===jF.click&&(WF>0&&NF({Time:(new Date).getTime()-WF}),WF=-1)}var GF=function(e){return e[e.Change=2]="Change",e[e.Same=3]="Same",e}({});function VF(e){OF({SceneID:110103,UIArea:11010301,PositionID:1,ActionID:e?jF.success:jF.fail})}var $F,qF,zF,HF=function(e){return e[e.CUTIE_TYPE_BUBBLE=1]="CUTIE_TYPE_BUBBLE",e[e.CUTIE_TYPE_POPUP_AD=2]="CUTIE_TYPE_POPUP_AD",e[e.CUTIE_TYPE_PC_COUPON=3]="CUTIE_TYPE_PC_COUPON",e[e.CUTIE_TYPE_PC_TIPS=4]="CUTIE_TYPE_PC_TIPS",e[e.CUTIE_TYPE_PC_THREE_DOTS=5]="CUTIE_TYPE_PC_THREE_DOTS",e[e.CUTIE_TYPE_H5=6]="CUTIE_TYPE_H5",e}(HF||{}),KF=function(e){return e[e.REPORT_TYPE_EXPOSURE=1]="REPORT_TYPE_EXPOSURE",e[e.REPORT_TYPE_CLICK=2]="REPORT_TYPE_CLICK",e[e.REPORT_TYPE_CLOSE=3]="REPORT_TYPE_CLOSE",e}(KF||{});function JF(e,t){if(e===t)return!0;if("object"!=typeof e||"object"!=typeof t)return!1;var r=Object.keys(e),a=Object.keys(t);return r.length===a.length&&r.every((r=>a.includes(r)&&JF(e[r],t[r])))}var QF,YF,ZF=0,XF=function(e){var t;null===(t=e.cutie_list)||void 0===t||t.forEach((e=>{e.report_info&&function(e,t){var r=null;switch(null==e?void 0:e.cutie_type){case HF.CUTIE_TYPE_H5:case HF.CUTIE_TYPE_POPUP_AD:r=110102;break;case HF.CUTIE_TYPE_BUBBLE:r=110101}r&&t&&(LF[r]=t)}(e.cutie,e.report_info)})),$F&&(clearTimeout($F),$F=void 0);var r=e.polling_info,a=null==r?void 0:r.next_polling_ms;a&&a>0?(NF({FuncType:++ZF}),setTimeout((()=>{zF=null==r?void 0:r.next_bypass}),5e3),a=Math.min(Math.max(5010,a),18e5),eW(e,qF),qF=e,$F=setTimeout((()=>{rW([],{bypass:zF},!0)}),a)):(eW(e,qF,!1),qF=void 0,zF=void 0,$F=void 0)},eW=function(e,t,r=!0){var a,n,i,o=!0;if(t)try{var s=JSON.stringify(((null==t?void 0:t.cutie_list)||[])[0]);o=JSON.stringify((e.cutie_list||[])[0])!==s}catch(e){o=!0}else o=!0;t&&r&&function(e,t="",r="",a=-1){OF({SceneID:110103,UIArea:11010301,PositionID:2,ActionID:jF.success,ExternInfo:{poll_type:null!=e?e:-1,former:t,successor:r,successor_time:a}})}(o?GF.Change:GF.Same,null===(a=t.polling_info)||void 0===a?void 0:a.from_act_id,null===(n=e.polling_info)||void 0===n?void 0:n.from_act_id,null===(i=e.polling_info)||void 0===i?void 0:i.next_polling_ms);o&&(null==MF||MF.hideCutie().then((()=>{null==MF||MF.reshowAll(e)})))},tW=(QF=function(e){return new Promise(((t,r)=>{var a="ad.getcutieinfo";(0,Mo.ip)({reqData:{req_path:a,json_data:e,version:3},timeout:3e4,success(e){var{data:r}=e;qF&&VF(!0),XF(r),t(r)},fail(e){PF(a,(0,AF.bV)(e)),qF&&VF(!1),r(e)}})}))},YF=new Map,function(e){var t,r,a,n=Ev(),i=null!==(t=null===(r=n.referrerInfo.privateExtraData)||void 0===r?void 0:r.gift_bypass)&&void 0!==t?t:n.query.gift_bypass,o={appid:x.default.accountInfo.appId,scene:n.scene,...e};if(i?(NF({Status:i===zF?3:1}),Object.assign(o,{bypass:i})):NF({Status:2}),YF.forEach(((e,t)=>{JF(t,o)&&(a=[t,e])})),a)return a[1];var s=QF(o);return YF.set(o,s),setTimeout((()=>{YF.delete(o)}),5e3),s}),rW=function(){var e=_e()((function*(e,t,r=!1){try{var a;t=t||{},!r&&zF&&(t.bypass=zF);var n=yield tW(t);if(!n)return[];Array.isArray(e)||(e=[e]);var i=null===(a=n.cutie_list)||void 0===a?void 0:a.filter((t=>{var r,a;return e.includes(null!==(r=null===(a=t.cutie)||void 0===a?void 0:a.cutie_type)&&void 0!==r?r:-1)}));return i||[]}catch(e){return[]}}));return function(t,r){return e.apply(this,arguments)}}();function aW(e,t){return new Promise(((r,a)=>{var n="ad.reportcutie";(0,Mo.ip)({reqData:{req_path:n,json_data:{report_type:e,appid:x.default.accountInfo.appId,cutie_id:t||""}},timeout:3e4,success(e){var{data:t}=e;r(t)},fail(e){PF(n,(0,AF.bV)(e)),a(e)}})}))}var nW=e=>new g_.kh(e);CN({name:"minigamePlatform",waLibName:"WAMinigamePlatform.js",globalName:"__minigamePlatformSDK__",globalGetter:()=>({console:console,wxNativeConsole:f,__wxConfig:x.default,__errorTracer__:_,wxConsole:h,wxGA:()=>wxGA,Reporter:b,Foundation:o,WeixinJSBridge:c,__appServiceSDK__:w,__IS_MINIGAME_LIVE_SUB_PACKAGE__:!0,wxRunOnDebug:s}),onInjectCallback:()=>{(0,kO.KF)("minigamePlatform",kO.Q_.injected)},reserveGlobal:!0,provideInGlobal:"__minigamePlatformSDK__",src:"./src/sdk/dist/minigame-platform-sdk.js",emptyInjectKey:"inject"}),CN({name:"gamePerformanceUtilsSDK",waLibName:"WAGamePerformanceUtilsSDK.js",compileType:"game",globalName:"__GamePerformanceUtilsSDK",globalGetter:()=>({wxConsole:h}),provideInGlobal:"GamePerformanceUtilsSDK",reserveGlobal:!0,onInjectCallback:()=>{(0,kO.KF)("gamePerformanceUtilsSDK",kO.Q_.injected)},injectSub:void 0,src:"./src/sdk/dist/game_performance_audit.js",emptyInjectKey:"inject"});var iW=p(9533),oW=(0,Y.s)("subpackage:beforeSubPackageReady"),sW=(0,Y.s)("subpackage:onSubPackageReady"),lW=(oW.internalOnMethod,sW.internalOnMethod);(0,iW.j)("onSubPackageReady",(e=>{f.info("[onSubPackageReady]",e),Wn(On.SubPackage_Ready_Begin,Date.now()),oW.emit(e),sW.emit(e),Wn(On.SubPackage_Ready_End,Date.now())}));var cW=[],uW=e=>cW.push(e),dW=()=>cW,pW={},hW=[],fW=new WeakMap,gW=new WeakMap,vW=function(e){return pW[e]},mW=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t};QE(((e,t)=>{var r=vW(e);delete pW[e],zE(e),Array.isArray(r)&&r.forEach(function(){var e=_e()((function*(e){var r=t.moduleName,a=fW.get(e),n=mW(t);hW.push(r),n.errMsg="preDownloadSubpackage:ok","function"==typeof a.success&&a.success(n),"function"==typeof a.complete&&a.complete(n)}));return function(t){return e.apply(this,arguments)}}())})),YE(((e,t)=>{var r=vW(e);delete pW[e],zE(e),Array.isArray(r)&&r.forEach((e=>{var r=fW.get(e),a=mW(t);a.errMsg="preDownloadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(a),"function"==typeof r.complete&&r.complete(a)}))})),ZE(((e,t)=>{var r=vW(e);Array.isArray(r)&&r.forEach((e=>{var r=gW.get(e),a=mW(t);"function"==typeof r&&r(a)}))}));var yW=function(){var e=fW.get(this),{name:t}=e;if(hW.indexOf(t)>=0){var r={errMsg:"preDownloadSubpackage:ok",moduleName:t};return"function"==typeof e.success&&e.success(r),void("function"==typeof e.complete&&e.complete(r))}if("__APP__"===t&&z.gm&&(0,ua.N0)()&&(0,z.aI)()){hW.push(t);var a={errMsg:"preDownloadSubpackage:ok"};return"function"==typeof e.success&&e.success(a),void("function"==typeof e.complete&&e.complete(a))}HE("createLoadSubPackageTask",t,(e=>{void 0===pW[e]?pW[e]=[this]:pW[e].push(this)}),(t=>{t.errMsg?t.errMsg=t.errMsg.replace("createLoadSubPackageTask","preDownloadSubpackage"):t.errMsg="preDownloadSubpackage:fail module not found",_.surroundThirdByTryCatch(e.fail)(t),_.surroundThirdByTryCatch(e.complete)(t)}))};class _W{constructor(e){fW.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=_.surroundThirdByTryCatch(e[t],`at api preDownloadSubpackage ${t} callback function`))})),yW.call(this)}onProgressUpdate(e){gW.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&_.surroundThirdByTryCatch(e,"at PreDownloadSubpackageTask.onProgressUpdate callback function")(t)}))}}var bW=p(6442),wW=(e={})=>{"develop"===x.default.envVersion||"trial"===x.default.envVersion?IW(e):(0,Q.YG)("previewPlayableView",e,"this api can only be used in the development environment")},IW=(e={})=>{var t,r,a={end:0,firstFrame:1,error:2},{envVersion:n,playableModuleName:i}=e,o=e.playableOrientation||"portrait",s=x.default.deviceOrientation||"portrait",l=bW.r.increase(),c=i||"/playableDemo/",u=[x.default.envVersion,"release"];if(u.includes(n)){var d={release:0,develop:1,trial:2},p=[];o!==s?p.push(new Promise((e=>{(0,hn.MI)({value:o,complete(){e()}})}))):p.push(Promise.resolve()),"release"===n?p.push(new Promise(((e,t)=>{(0,Q.IN)("predownloadMiniProgramPackage",{appId:x.default.accountInfo.appId,moduleName:c,scene:15,success:()=>{e()},fail:e=>{t(e),lj(f)}})}))):p.push(new Promise(((e,t)=>{new _W({name:c,success:()=>{e()},fail:e=>{lj(f),t(e)}})}))),Promise.all(p).then((()=>{(0,un.getSystemInfoAsync)({complete(a){r=a.screenHeight||x.default.screenHeight,t=a.screenWidth||x.default.screenWidth,sj(f),(0,Q.IN)("insertMiniProgramPlayableView",Object.assign(h(),{fail:t=>{(0,Q.YG)("previewPlayableView",e,t.errMsg),lj(f)}}))}})})).catch((t=>{(0,Q.YG)("previewPlayableView",e,t.errMsg)}))}else(0,Q.YG)("previewPlayableView",e,`parameter "envVersion" can only be one of ${u.join(", ")}`);function h(){return{appId:x.default.accountInfo.appId,moduleName:c,versionType:d[n],dest:0,parentId:0,viewId:l,zIndex:1e6,position:{left:0,top:0,width:t,height:r}}}function f(t){if(t&&t.action===a.firstFrame)(0,Q.IN)("updateMiniProgramPlayableView",Object.assign(h(),{customEvent:JSON.stringify({appid:x.default.accountInfo.appId}),resume:!0,success:e.success,fail:e.fail,complete:e.complete}),{beforeAll(e){e.errMsg=e.errMsg.replace("updateMiniProgramPlayableView","previewPlayableView"),lj(f)}});else if(t&&t.action===a.error){var r="some error occurs when displaying playable view",n=t.status?r+": "+t.status:r;(0,Q.YG)("previewPlayableView",e,n)}}};var SW,kW,CW=function(e){return e[e.RewardedVideoAd=1]="RewardedVideoAd",e[e.HostApp=2]="HostApp",e}(CW||{}),TW=new Map,PW=(e={})=>{if((0,Qe.J)("getPlayableViewAPI")){var t=0,r=0,{playableOutid:a,sourceType:n=CW.HostApp}=e;if(!a)return(0,Q.YG)("previewPlayableViewNew",e,"no outid");try{a=decodeURIComponent(a)}catch(t){return void(0,Q.YG)("previewPlayableViewNew",e,`invalid outid ${a}`)}var i={viewId:bW.r.increase(),width:x.default.screenWidth,height:x.default.screenHeight,sourceType:n,handleStatusChange:()=>{}},o=[];o.push(new Promise(((e,t)=>{var r;(0,Q.IN)("predownloadPlayablePackage",{extra:JSON.stringify({id:a,referAppId:null===(r=x.default.accountInfo)||void 0===r?void 0:r.appId,sourceType:n}),success:()=>{e()},fail:e=>{t(e)}},(e=>{}))}))),Promise.all(o).then((()=>{TW.set(a,i),hj(s)})).catch((t=>{(0,Q.YG)("previewPlayableViewNew",e,t.errMsg)})),i.handleStatusChange=s}else(0,Q.YG)("previewPlayableViewNew",e,"has no permission to invoke");function s(o){if(o.action,o&&o.action===cj.FirstFrame)EW(a),(0,Q.IN)("updateMiniProgramPlayableViewNew",Object.assign(EW(a),{extra:JSON.stringify({id:a,referAppId:null===(u=x.default.accountInfo)||void 0===u?void 0:u.appId,sourceType:n}),resume:!0,success:e.success,fail:e.fail,complete:e.complete}),{beforeAll(e){e.errMsg=e.errMsg.replace("updateMiniProgramPlayableViewNew","previewPlayableViewNew")}});else if(o&&o.action===cj.Error){var s="some error occurs when displaying playable view",c=o.status?s+": "+o.status:s;(0,Q.YG)("previewPlayableViewNew",e,c)}var u;(null==o?void 0:o.action)===cj.End&&(0,Ze._showModal)({title:"试玩结束",content:"试玩包内容已结束，线上实际将直接展示试玩结束页",showCancel:!1}),(null==o?void 0:o.action)===cj.CustomEvent&&function(a){var{extra:n}=a;if(!n)return;try{var o=JSON.parse(n),{name:s,status:c}=o;if(s===uj.DownloadPlayablePackage)!function(a){var{status:n,data:o}=a,s=n===dj.Success;if(s)(function(e){return new Promise(((t,r)=>{if(e)try{var{playableOrientation:a}=e,n=SW||x.default.deviceOrientation||"portrait";console.warn("[playable] playableOrientation=",a),console.warn("[playable] gameOrientation=",n),a!==n?(0,hn.MI)({value:a,success(){SW=a},complete:t}):t()}catch(e){r(e)}}))})(o.extra).then((()=>new Promise(((e,a)=>{var n=(0,un.getWindowInfo)({success(a){t=a.screenWidth||x.default.screenWidth,r=a.screenHeight||x.default.screenHeight,e({screenWidth:t,screenHeight:r})},fail:e=>{a(e)}});t=n.screenWidth||x.default.screenWidth,r=n.screenHeight||x.default.screenHeight,e({screenWidth:t,screenHeight:r})})))).then((e=>{i.height=e.screenHeight,i.width=e.screenWidth,l()})).catch((t=>{l(),(0,Q.YG)("previewPlayableViewNew",e,(null==t?void 0:t.message)||"handle download package event fail")}));else{var c,u;o.extra,(0,Q.YG)("previewPlayableViewNew",e,null!==(c=null==o||null===(u=o.extra)||void 0===u?void 0:u.errMsg)&&void 0!==c?c:"download package error")}}(o)}catch(e){}}(o)}function l(){(0,Q.IN)("insertMiniProgramPlayableViewNew",Object.assign(EW(a),{fail:t=>{(0,Q.YG)("insertMiniProgramPlayableViewNew",e,t.errMsg)},success:e=>{}}))}};function AW(e){var t,{playableOutid:r,referAppId:a,sourceType:n=CW.HostApp}=e;try{r=decodeURIComponent(r)}catch(t){return(0,Q.YG)("removePlayableView",e,`invalid outid ${r}`)}var i=TW.get(r);if((0,Qe.J)("getPlayableViewAPI"))return r?i?void(0,Q.IN)("removeMiniProgramPlayableViewNew",Object.assign(EW(r),{extra:JSON.stringify({id:r,referAppId:a||(null===(t=x.default.accountInfo)||void 0===t?void 0:t.appId),sourceType:n}),success:e.success,fail:e.fail,complete:e.complete}),{beforeAll(e){fj(i.handleStatusChange)}}):(0,Q.YG)("removeMiniProgramPlayableView",e,"miss playable info"):(0,Q.YG)("removeMiniProgramPlayableView",e,"playableOutid required");(0,Q.YG)("removePlayableView",e,"has no permission to invoke")}function EW(e){var t,r=TW.get(e);return r?{extra:JSON.stringify({id:e,referAppId:null===(t=x.default.accountInfo)||void 0===t?void 0:t.appId}),dest:0,parentId:0,viewId:r.viewId,zIndex:1e6,position:{left:0,top:0,width:r.width,height:r.height}}:{}}var MW=(e={})=>{(0,Q.IN)("getGamePerformance",{success:e.success,fail:e.fail})};function xW(e){(0,Q.IN)("getAuditsTraceInfo",e)}function DW(e){(0,Q.IN)("setAuditsTraceInfo",e)}function RW(e){var{wx:t}=e,r=new Map;return function(e){e.onHide||(e.onHide=function(){console.warn("onHide() is not implemented on wx, manually adapt")});e.onShow||(e.onShow=function(e){console.warn("onShow() is not implemented on wx, manually adapt"),e&&e()});e.getOpenDataContext||(e.getOpenDataContext=function(){console.warn("getOpenDataContext() is not implemented on wx, manually adapt")})}(t),function(e){var t=new Map,r=e.getFileSystemManager();r.access||(r.access=function(e){var r="access";t.has(r)||(t.set(r,!0),console.warn(`${String(r)}() is not implemented on FileSystem, manually adapt`)),e.success&&"function"==typeof e.success&&e.success({errMsg:"access:ok",errCode:0})});var a=new Proxy(r,{get:(e,r)=>r in e?e[r]:function(){return t.has(r)||(t.set(r,!0),console.warn(`${String(r)}() is not implemented on FileSystem`)),{}}});e.getFileSystemManager=function(){return a}}(t),function(e){(function(e){var t=new Map,r=0;e.time||(e.time=function(e){e&&t.set(e,Date.now()),r=Date.now()});e.timeEnd||(e.timeEnd=function(a){var n=Date.now(),i=n-r;return a&&(i=n-t.get(a),t.delete(a)),e.log(`${a}: ${i} ms`),`${a}: ${i} ms`})})(e.console),function(e){var t=e.WXWebAssembly.instantiate;e.WXWebAssembly.instantiate=function(e,r){var a=function(e,t){var r;"string"!=typeof e?r=new Error(`${t}: first argument must be a string`):/\.wasm$/.test(e)||(r=new Error(`${t}: only support file type .wasm`));return r}(e,"WXWebAssembly.instantiate");return a?Promise.reject(a):t(e,r)},e.WebAssembly=e.WXWebAssembly}(e),delete e.requirePlugin,delete e.WXWeakRef}(e),new Proxy(t,{get:(e,t)=>t in e?e[t]:function(){return r.has(t)||(r.set(t,!0),console.warn(`${String(t)}() is not implemented on wx`)),{}}})}var LW=Object.assign,NW=null,OW=null,BW=IL(),jW={console:J(),Reporter:b,setTimeout:BW.setTimeout,clearTimeout:BW.clearTimeout,setInterval:BW.setInterval,clearInterval:BW.clearInterval,requestAnimationFrame:BW.requestAnimationFrame,cancelAnimationFrame:BW.cancelAnimationFrame,wxNativeConsole:f,FunctionalPage:Ex,requirePlugin:xw,get WXWebAssembly(){return u_()},getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},_getCurrentNetworkType:rr._getCurrentNetworkType,WXWeakRef:AE()},FW=IL(),WW={WXConfig:x.default,get log(){return q.Z.log},setTimeout:FW.setTimeout,clearTimeout:FW.clearTimeout,setInterval:FW.setInterval,clearInterval:FW.clearInterval,requestAnimationFrame:FW.requestAnimationFrame,cancelAnimationFrame:FW.cancelAnimationFrame,Canvas:function(){return Kb()},Image:function(){var e=new q.Z.Image;return function(e){if(z.DD){if(z.gm||z.jP)return;if(iS.call(e,"src"))return;var t=e.__proto__;JI||(JI={addEventListener(e,r){t.addEventListener.call(this,e,rS(r))},removeEventListener(e,r){t.removeEventListener.call(this,e,tS.get(r)||r)}}),e.__proto__=JI,oS.forEach((r=>{for(var a=function(){if(iS.call(n,r)){var t=nS(n,r);if(/^on/.test(r)){var a=null;aS(e,r,{get:()=>a,set(r){a=r,t.set.call(e,rS(r))}})}else aS(e,r,t);return"break"}},n=t;n&&"break"!==a();n=n.__proto__);}))}else{if(z.gm||!eS.src||(0,z.tg)())return;Reflect.setPrototypeOf(e,KI);var r=function(){var t=eS[a];if(/^on/.test(a)){var r=null;Reflect.defineProperty(e,a,{get:()=>r,set:a=>{t.set.call(e,rS(r=a))}})}else Reflect.defineProperty(e,a,t)};for(var a in eS)r()}}(e),e},Touch:ES,Audio:of,APIs:{getGroupUserGameData:({shareTicket:e,success:t,fail:r,complete:a}={})=>{setTimeout((()=>{var n=e||Be.Z.lastShareTicket;if(n&&Be.Z.get(n)){var i=Be.Z.get(n),{shareKey:o,shareName:s}=i;(0,Q.yD)({sdkApiName:"getGroupUserGameData",apiName:"webapi_getgroupsnsdata",reqData:{share_key:o,share_name:s},success:e=>{var r=e.data,a=r.member_list||r.memberList||[];Ox=a,"function"==typeof t&&t({errMsg:e.errMsg,data:a})},fail:r,complete:a})}else{var l={errMsg:"getGroupUserGameData:fail 当前小程序不是从群分享卡片打开"};"function"==typeof r&&r(l),"function"==typeof a&&a(l)}}),0)},getFriendUserGameData:({success:e,fail:t,complete:r}={})=>{setTimeout((()=>{(0,Q.yD)({sdkApiName:"getFriendUserGameData",apiName:"webapi_getfriendsnsdata",reqData:{},success:t=>{var r=t.data.friendList||[];Bx=r,"function"==typeof e&&e({errMsg:t.errMsg,data:r})},fail:t,complete:r})}),0)},getUserInfo:UC.getUserInfo,getFriendCloudStorage:UC.getFriendCloudStorage,getGroupInfo:UC.getGroupInfo,getGroupCloudStorage:UC.getGroupCloudStorage,getUserCloudStorage:UC.getUserCloudStorage,setUserCloudStorage:Fx,getUserCloudStorageKeys:UC.getUserCloudStorageKeys,removeUserCloudStorage:Ux,getGroupDataCache:()=>Ox,getFriendDataCache:()=>Bx,getSystemInfo:un.getSystemInfo,getSystemInfoSync:un.getSystemInfoSync,showModal:Ze.showModal,modifyFriendInteractiveStorage:Km,shareMessageToFriend:Pm,getPotentialFriendList:UC.getPotentialFriendList,getGameServerManager:()=>gL,routeJSServer:SL,getCloudFileInfo:Xt,checkHandoffEnabled:function(e={}){(0,Q.IN)("checkHandoffEnabled",Object.assign({},e,{showToast:!1}),{beforeSuccess:({isEnabled:e,errCode:t})=>Mx(2,3,e?1:0,t)})},startHandoff:function(e={}){(0,Qe.J)("handoff")?(0,ln.Vt)()?(0,Q.IN)("checkHandoffEnabled",{showToast:!0,success({isEnabled:t,errCode:r}){t?function(e={}){Mx(2,2,2),tm({apply:"在电脑端微信打开小游戏",success(){Mx(2,2,1),(0,Q.IN)("startHandoff",Object.assign({},e,{actionId:2}),{beforeSuccess:()=>Mx(2,1,1),beforeFail:({errCode:e})=>Mx(2,1,0,e)})},fail(){Mx(2,2,0),(0,Q.YG)("startHandoff",e,"cancel")}})}(Object.assign({},e,{path:xx})):(Mx(2,1,0,r),(0,Q.YG)("startHandoff",e,"low pc version or not login"))},fail({errMsg:t}){(0,Q.YG)("startHandoff",e,t)}}):(0,Q.YG)("startHandoff",e,"not in touchEnd"):(0,Q.YG)("startHandoff",e,"no permission")}},checkPermissionSync:Qe.J,apiReport:function(e,t=0){$y("",e,!0,.05,t,!1,!0),function(e){if(e.createCanvas){var t=e.createCanvas;e.createCanvas=()=>{var r=t.call(e);if(r&&r.getContext){var a=r.getContext;r.getContext=(...e)=>{var t=a.call(r,...e);if(t&&t.compressedTexImage2D){var n=t.compressedTexImage2D;t.compressedTexImage2D=(...e)=>{qy||(qy=!0,Ry("WebGLRenderingContext.compressedTexImage2D",(0,Rt.M8)(),{},1,Date.now(),(0,rr._getCurrentNetworkType)(),0,void 0)),n.call(t,...e)}}return t}}return r}}}(e)},Reporter:LW({},b,{thirdErrorReport:e=>{b.thirdErrorReport(LW({},e,{isOpenDataContextError:!0}))}}),wxNativeConsole:f,requirePlugin:Mw,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},get URL(){return q.Z.URL||p.g.URL||p.g.webkitURL},get location(){return q.Z.location},reportDeprecatedAPI:Ca.v};z.gm&&(WW.console=console),z.jP&&(WW.WXConfig.__wkrenderer_h5=!0);var UW,GW=function(){if(NW)return NW;VW();var{wx:e}=hse;return jW.createOrGetSharedCanvas=pb,WW.getOriginalProto=Wb,WW.WXConfig=x.default,WW.openDataContextGetSharedCanvas=fb,WW.isUsedOffscreenSharedCanvas=gb,jW.wx=e,jW.skipCondom=dW(),NW={game:jW,gameOpenData:WW}},VW=function(){var e,t,r,a="develop"===x.default.envVersion||"trial"===x.default.envVersion,n=(null===(e=x.default.audits)||void 0===e?void 0:e.enable)&&a,i="undefined"!=typeof window;z.gm&&(i&&!window.gameAuditModule&&!(null===x.default||void 0===x.default||null===(t=x.default.audits)||void 0===t||!t.systemDescription)&&(n=!1));(z.wZ||z.cj)&&(null!==(r=x.default.audits)&&void 0!==r&&r.systemDescription||(n=!1));jW._innerAPI={gameTransfer:Mo.ip,getGamePerformance:MW,weRequest:re.ac,weUploadFile:re.OZ,weWriteFile:Eg.N,WXConfig:x.default,coverview:{Component:Lm.wA,getPrivateThis:Lm.Wj,removePrivateThis:Lm.bn,create:Lm.Ue,init:Lm.S1,webviewLayout:Rm.u,nativeviewLayout:Rm._,xmlParser:ov()},onShow:Ac.dN,onHide:ar.vv,offShow:Ac.Tb,offHide:ar.b$,getSystemInfoSync:un.getSystemInfoSync,getNetworkType:rr._getNetworkType,onNetworkStatusChange:rr.onNetworkStatusChange,reportKeyValue:sv.G,setTraceInfo:DW,getTraceInfo:xW,gameAuditModule:i?window.gameAuditModule:void 0,emitGameAuditStateChange:dk},jW.onGamePerformanceStateChange=sk,n&&(jW.enableGameAudits=!0),jW.envVersion=x.default.envVersion,x.default.openAuditsOnStart&&(jW.openAuditsOnStart=!0),(n||x.default.openAuditsOnStart)&&(x.default.enableAuditsLogic=!0),jW.doAuditsInjectLogic=XW},$W=function(){if(OW)return OW;var{wx:e}=hse;return OW={game:{wx:e},gameSkipCondom:dW()}},qW=()=>{wN(IN)},zW=e=>{var{provider:t}=e;return{console:J(),Reporter:b,setTimeout:q.Z.setTimeout,clearTimeout:q.Z.clearTimeout,setInterval:q.Z.setInterval,clearInterval:q.Z.clearInterval,requestAnimationFrame:q.Z.requestAnimationFrame,cancelAnimationFrame:q.Z.cancelAnimationFrame,WXWebAssembly:u_({provider:t}),wx:cN({provider:t})}},HW=(e,t={})=>{if(z.wZ||z.cj)!function(e,t={}){setTimeout((()=>{IW({envVersion:x.default.envVersion,playableModuleName:e,playableOrientation:t.playableOrientation,success:()=>{QI().getContext("2d").clearRect(0,0,1,1)},fail:e=>{console.error("试玩广告启动失败",e)}})}),10)}(e,t);else{var{mockPlayableEnvWX:r}=hse;jW.wx=r;var a=t.playableOrientation||"portrait";a!==(x.default.deviceOrientation||"portrait")&&(0,hn.MI)({value:a})}},KW=(e={})=>{if(z.wZ||z.cj)!function(e={}){setTimeout((()=>{PW({playableOutid:e.playableOutid,success:()=>{QI().getContext("2d").clearRect(0,0,1,1)},fail:e=>{}})}),10)}(e);else{var{mockPlayableEnvWX:t}=hse;jW.wx=t,jW.isPlayableEnv=!0,jW.mockPlayableEnv=RW}},JW=e=>{(e=>{kW=e})(e)};function QW(e){if(UW)return e(UW);var t=GamePerformanceUtilsSDK.getSDK();e(UW=t.controller)}function YW(e,t,r){e.inited||(t.enableByClient=!0,t.WXConfig.audits={enable:!0,autoStart:!0},ZW(e,t,r)),e.showUI(),e.start()}function ZW(e,t,r){e.init({request:t.weRequest,uploadFile:t.weUploadFile,writeFile:t.weWriteFile,globalWx:r,gameTransfer:t.gameTransfer,getGamePerformance:t.getGamePerformance,coverview:t.coverview,WXConfig:t.WXConfig,onShow:t.onShow,onHide:t.onHide,offShow:t.offShow,offHide:t.offHide,getSystemInfoSync:t.getSystemInfoSync,getNetworkType:t.getNetworkType,onNetworkStatusChange:t.onNetworkStatusChange,reportKeyValue:t.reportKeyValue,gameAuditModule:t.gameAuditModule,setTraceInfo:t.setTraceInfo,getTraceInfo:t.getTraceInfo,enableByClient:t.enableByClient,emitGameAuditStateChange:t.emitGameAuditStateChange})}function XW({globalWx:e}){if(NW){var t=NW.game,r=t._innerAPI;t.enableGameAudits?function(e,t){QW((r=>{ZW(r,e,t)}))}(r,e):(t.openAuditsOnStart&&QW((t=>{YW(t,r,e)})),t.onGamePerformanceStateChange((t=>{!function(e,t,r){QW((t=>{0!==e.state||t.isRunning||r(t),1===e.state&&(t.showConfirm(),t.hideUI())}))}(t,0,(t=>{YW(t,r,e)}))})))}}var eU=function(e,t,r){for(var a in t){if("exportToAppServiceSDK"===a)return;e[a]=t[a]}["onPageReload"].forEach((a=>{t[a]&&(e[a]=e=>{t[a].call(r,e)})}))},tU=new WeakMap;class rU{constructor({buttonName:e="button",type:t="text",style:r={},text:a="",image:n="",onTapCallback:i=(()=>Promise.resolve()),reportGameButtonkv:o=(()=>Promise.resolve()),openlink:s,hasRedDot:l}){var c={},u={};if(tU.set(this,u),u.emitter=new Ww.Z,u.onTapCallback=i,r=Object.assign((0,Uw.ph)(),r,{position:"absolute"}),this.style={},"gameClubButton"===e){if("image"===t){var d,p;u.button=new FB.G({style:r,clickState:!0});var h=new Fw.E({style:{width:null!==(d=r.width)&&void 0!==d?d:0,height:null!==(p=r.height)&&void 0!==p?p:0,top:0,left:0},src:n,bubbleEvent:!0});u.buttonImage=h,u.button.add(h)}else u.button=new jw.x({style:r,value:a});var f;if("string"==typeof s&&""!==s)if(l){var g=.4*(r.width<r.height?r.width:r.height),v=new Fw.E({style:{position:"absolute",top:0,left:r.width-g,width:g,height:g,borderRadius:g/2,backgroundColor:"#FA5151"},bubbleEvent:!0}),m=new Fw.E({style:{width:g,height:g,borderRadius:g/2,borderWidth:1,borderColor:"#FFFFFF"},bubbleEvent:!0});v.add(m),u.button.add(v),o({externInfo:{reddot:1},url:s}),c.redInfo={reddot:1},c.callback=()=>{u.button.remove(v),c.redInfo.reddot=0}}else o({externInfo:{reddot:0},url:s}),c.redInfo={reddot:0};else(0,Q.yD)({sdkApiName:"getgameclubbuttoninfo",apiName:"webapi_game_transfer",reqData:{req_path:"mmgamewxagapi.getgameclubbuttoninfo",appid:null===x.default||void 0===x.default||null===(f=x.default.accountInfo)||void 0===f?void 0:f.appId},success:e=>{if(e.data.red_dot&&"{}"!==JSON.stringify(e.data.red_dot)){var t,a=e.data.red_dot.reddot_num;t=a>0?.4*(r.width<r.height?r.width:r.height):.3*(r.width<r.height?r.width:r.height);var n=new Fw.E({style:{position:"absolute",top:0,left:r.width-t,width:t,height:t,borderRadius:t/2,backgroundColor:"#FA5151"},bubbleEvent:!0}),i=new Fw.E({style:{width:t,height:t,borderRadius:t/2,borderWidth:1,borderColor:"#FFFFFF"},bubbleEvent:!0});if(n.add(i),a>0){var s=new jw.x({style:{position:"absolute",top:0,left:0,width:t,height:t,lineHeight:t,textAlign:"center",fontSize:.5*t,color:"#ffffff"},value:a.toString(),bubbleEvent:!0});n.add(s)}u.button.add(n);var l=e.data.red_dot.reddot_id;c.redInfo={reddot:1,reddotid:l},c.url=e.data.red_dot.reddot_h5_jump_url,o({externInfo:{reddot:1,reddotid:l},url:c.url}),c.callback=()=>{(0,Q.yD)({sdkApiName:"reportgameclubbuttoninfo",apiName:"webapi_game_transfer",reqData:{req_path:"mmgamewxagapi.reportgameclubbuttoninfo",reddot_id:l},success:e=>{u.button.remove(n),c.url=void 0,c.redInfo.reddot=0,c.redInfo.reddotid=void 0},fail:e=>{u.button.remove(n),c.url=void 0,c.redInfo.reddot=0,c.redInfo.reddotid=void 0}})}}else o({exterInfo:{reddot:0}}),c.redInfo={reddot:0}},fail:e=>{}})}else u.button="image"===t?new Fw.E({style:r,src:n,eventType:"click"}):new jw.x({style:r,value:a,eventType:"click"});Object.defineProperty(this,"text",{configurable:!0,enumerable:!0,get:()=>a,set:e=>{a=e,u.button.value=e}}),Object.defineProperty(this,"image",{configurable:!0,enumerable:!0,get:()=>n,set:t=>{n=t,"gameClubButton"===e?u.buttonImage.src=t:u.button.src=t}}),Object.keys(r).forEach((e=>{"position"!==e&&Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>r[e],set:t=>{r[e]=t,u.button.style[e]=t}})})),u.button.on("click",(()=>{u.onTapCallback(c).then((e=>u.emitter.emit("tap",e))).catch((e=>u.emitter.emit("tap",e)))})),Rm.u.add(u.button)}onTap(e){tU.get(this).emitter.on("tap",e)}offTap(e){tU.get(this).emitter.off("tap",e)}show(){tU.get(this).button.style.hidden=!1}hide(){tU.get(this).button.style.hidden=!0}destroy(){var e=tU.get(this);Rm.u.remove(e.button)}}var aU=(0,ua.Fr)((({withCredentials:e=!0,lang:t="en",success:r,fail:a}={})=>{var n=x.default.SDKVersion;li("UserInfoButton.onTap").catch((e=>({success:!0}))).then((({success:i,errMsg:o,errno:s})=>{i?(0,Q.yD)({apiName:"webapi_getuserinfo",sdkApiName:"getUserInfo",fromComponent:!0,withCredentials:e,reqData:{lang:t,version:n},complete(){jo({user_action:[Do.USER_ACTION_APPLY_HEADIMG_NICKNAME]}).then((({need_pop_up_grant_window:e,interface_config:t,user_grant_info_list:r})=>{e&&Oo(t,r,!0)})).catch((e=>f.error(e)))},success:e=>{e.userInfo=e.data,e.rawData=JSON.stringify(e.data),delete e.data,setTimeout((()=>to("","wx.createUserInfoButton"))),r(e)},fail:a}):a({errMsg:"getUserInfo:fail "+o,errno:s})}))}));class nU extends rU{constructor({type:e="text",style:t,image:r,text:a="获取用户信息",withCredentials:n,lang:i}={}){super({type:e,style:t,image:r,text:a,onTapCallback:()=>aU({withCredentials:n,lang:i})})}}var iU={green:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMHroMcjTH0DGy1sGwV95nfxnBialPaFEXZG5B1iarolFC6Uic4BRlTlsR0Q/0?wx_fmt=png",white:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMH8hmRP9YkP3WHQ9gKcXR4oKD0rwZxFojibQDMfjgwa3foAtjZH7Ce9Xg/0?wx_fmt=png",light:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMHlGKmb23Js82NJ4dH3b3BoUNe74Tvk2Q4ZVfzD8ibwJicgs1czbYd6Qtw/0?wx_fmt=png",dark:"http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJF4M4rgy8wMH6RhR996JZgib3RG3AtyO1OgnR6FibX7DPsBKQAJd5miaYcwyslLR7F6KQ/0?wx_fmt=png"},oU={appid:"",ssid:1037},sU={appid:"",ssid:30,wechat_pkgid:"circlecenter_mixed_circle",s_prot:20267,s_uia:1001,s_pid:1};x.default.onReady((()=>{oU.appid=x.default.accountInfo.appId,sU.appid=x.default.accountInfo.appId,sU.s_cid=x.default.accountInfo.appId}));function lU({UIArea:e=0,SCeneID:t,PositionID:r=0,ActionID:a,Object:n=0,Status:i,ExpID:o="",ErrType:s="",ContentType:l=0,ContentID:c=0,ExternInfo:u,reportTime:d=0,SourceID:p=0,Touin:h=0}){b.reportKeyValue({key:"GameAdsSkipCard",value:[(0,rr._getCurrentNetworkType)(),x.default.appLaunchInfo.scene,h,t,e,r,a,"",0,n,i,p,"",o,0,s,d,0,"",l,c,0,u?encodeURIComponent(JSON.stringify(u)):""].join(",")})}var cU=(0,ua.Fr)((({success:e,fail:t,extra:r,buttonInfo:a,openlink:n,hasRedDot:i})=>{if((0,kv.y4)(kv.F0.EVENT_CANVAS_BEFORE_GAME_ClUB),(0,Qe.J)("openH5GameClub")){var o=!1;if("ios"===x.default.platform&&setTimeout((()=>{o||(o=!0,e())}),2e3),"string"==typeof n&&""!==n){(0,Q.yD)({apiName:"webapi_game_transfer",sdkApiName:"openPage",reqData:{req_path:"api.translateopenpagelink",openlink:n},success(r){var n,s,l=null==r||null===(n=r.data)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.url;l&&(l=(z.cj||z.wZ)&&l.indexOf("wechat_pkgid")>=0?l.replace("#wechat_redirect",""):l,(0,f_.n)({useGameWePkgIfExist:!0,url:l,success(){lU({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"0",ExternInfo:Object.assign({jump:"h5"},a.redInfo),Touin:l}),lU({SCeneID:59,UIArea:5901,PositionID:1,ActionID:3,ExternInfo:Object.assign({jump:"h5"},a.redInfo),Touin:l}),i&&a.callback(),o||(o=!0,e(r))},fail(e){lU({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"1",Touin:l}),t(e)}}))},fail(e){console.error(e),f.error(e)}})}else{var s;s=a.url?a.url:function(e){return`https://game.weixin.qq.com/cgi-bin/h5/static/circlecenter/mixed_circle.html?${Object.keys(e).map((t=>{try{return`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`}catch(e){return""}})).join("&")}`}(Object.assign({},r,sU)),(0,Q.IN)("private_openUrl",{useGameWePkgIfExist:!0,url:s,isNativeStyle:!0,success:t=>{lU({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"0",ExternInfo:Object.assign({jump:"h5"},a.redInfo),Touin:s}),lU({SCeneID:59,UIArea:5901,PositionID:1,ActionID:3,ExternInfo:Object.assign({jump:"h5"},a.redInfo),Touin:s}),a.url&&a.callback(),o||(o=!0,e(t))},fail:e=>{lU({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"1",Touin:s}),t(e)}})}}else{var l=function(e,t){return`${e}?${Object.keys(t).map((e=>{try{return`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`}catch(e){return""}})).join("&")}`}("pages/club_index/club_index.html",Object.assign({},r,oU));lU({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2}),(0,Q.IN)("navigateToMiniProgram",{appId:"wxff3bb5c177303374",path:l,scene:37,sourcetype:3,success:t=>{lU({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"0",ExternInfo:{jump:"progm"}}),e(t)},fail:e=>{lU({SCeneID:59,UIArea:5901,PositionID:1,ActionID:2,ErrType:"1"}),t(e)}})}}));class uU extends rU{constructor({style:e,icon:t="green",type:r="image",image:a,text:n="打开游戏圈",openlink:i,extra:o,hasRedDot:s=!0}={}){"bindGroup"===r?(r="text",n="关联群聊",o=Object.assign({},o,{action:"bindGroup"})):"joinGroup"===r&&(r="text",n="进入群聊",o=Object.assign({},o,{action:"joinGroup"})),super({buttonName:"gameClubButton",type:r,style:e,image:a||iU[t],text:n,onTapCallback:e=>cU({extra:o,buttonInfo:e,openlink:i,hasRedDot:s}),reportGameButtonkv:({externInfo:e,url:t=""})=>lU({SCeneID:59,UIArea:5901,PositionID:1,ActionID:1,ExternInfo:e,Touin:t}),openlink:i,hasRedDot:s}),"image"===r&&Object.defineProperty(this,"icon",{configurable:!0,enumerable:!0,get:()=>t,set:e=>{t=e,_private.button.src=iU[t]}})}}var dU=(0,ua.Fr)(Vi.s);class pU extends rU{constructor({type:e="text",style:t,image:r,text:a="打开设置"}){super({type:e,style:t,image:r,text:a,onTapCallback:()=>dU().then((()=>{k_({name:"openSetting",scene:1})}))})}}var hU="";try{x.default.onReady((()=>{hU=x.default.accountInfo.appId}))}catch(e){}var fU=(0,ua.Fr)((({success:e,fail:t})=>{(0,Q.IN)("private_openUrl",{url:`https://mp.weixin.qq.com/mp/wapreportwxadevlog?action=get_page&appid=${hU}#wechat_redirect`,isNativeStyle:!0,success:e,fail:t})}));class gU extends rU{constructor({type:e="text",style:t,image:r,text:a="打开意见反馈页面"}){super({type:e,style:t,image:r,text:a,onTapCallback:()=>fU()})}}var vU=(e={})=>new nU(e),mU=(e={})=>new uU(e),yU=(e={})=>(console.warn("【接口已废弃】wx.createOpenSettingButton is deprecated, please use wx.openSetting instead"),(0,Ca.v)("createOpenSettingButton"),new pU(e)),_U=(e={})=>new gU(e);function bU(e,t){if(function(e,t){var{toString:r}=Object.prototype;return"Null"===t&&null===e||"Undefined"===t&&void 0===e||r.call(e).slice(8,-1)===t}(t,"String")){var r=t.split(".");return r.reduce(((e,t,a)=>a===r.length-1?e[t]:e[t]||{}),e)}}function wU(){var e=(0,Lm.Wj)(this),t=new Date;return(0,Q.Qh)({sdkApiName:"compload",apiName:"webapi_compload",reqData:{act_id:e.act_id,comp_id:e.comp_id}}).catch((r=>{throw e.reporter.reportKeyValue({action:EU.actionMap.getJSON,execTime:new Date-t,externInfo:JSON.stringify(r),isSuccess:0}),e.config={flows:[]},e.emitter.emit("error",r),new Error(CU(r))})).then((r=>{e.reporter.reportKeyValue({action:EU.actionMap.getJSON,execTime:new Date-t,isSuccess:1}),r||(r={});var a=r.data||{},{sign:n,config:i}=a;e.sign=n,e.config=i,e.config}))}function IU(){var e=(0,Lm.Wj)(this);this.isDestroyed=!0,this.ready=!1,e.emitter.off("_error"),e.emitter.off("load"),e.pages.forEach((e=>{Rm.u.remove(e)}))}function SU(){var e=(0,Lm.Wj)(this);return e.destroyPromise||(e.destroyPromise=new Promise((t=>{e.fetchPromise?e.fetchPromise.then((()=>{IU.call(this),t()})).catch((()=>{IU.call(this),t()})):(IU.call(this),t())}))),e.destroyPromise}function kU(){var e=(0,Lm.Wj)(this);return e.fetchPromise=wU.call(this).then((()=>{if(this.isDestroyed)throw new Error("组件已经被销毁");return e.uiEngine.init()})),e.fetchPromise}function CU(e){var t;try{t=JSON.stringify(e)}catch(e){t="{}"}return t}function TU(e){return JSON.parse(JSON.stringify(e))}function PU(e,t){var r;e=e||"{}";try{r=JSON.parse(e)}catch(e){r=t||{}}return r}var AU={appid:"",scene:0};x.default.onReady((()=>{var e=x.default.appLaunchInfo||{},t=x.default.accountInfo||{};AU.scene=e.scene||0,AU.appid=t.appId||"",AU.SDKVersion=x.default.SDKVersion}));class EU{constructor(e){this._private=e}reportKeyValue({action:e,execTime:t=0,externInfo:r="",isSuccess:a=1,flowid:n=""}){var i=[AU.scene,this._private.act_id,this._private.comp_id,AU.SDKVersion,(0,rr._getCurrentNetworkType)(),e,a,t,r,n].map(encodeURIComponent).join(",");b.reportKeyValue({key:"GameComponent",value:i,force:!0,immediately:!0})}}EU.actionMap={getJSON:1,execFlow:2,execModelAction:3,shareAppMessage:4,launchGameWithShare:5,broadcastEvent:6,closeComponent:7,exposure:8,createRewardedVideoAd:9,createAndShowRewardedVideoAdSuccess:10,createAndShowRewardedVideoAdFail:11,confirmRewardVideo:12,cancelRewardVideo:13,destroyRewardedVideoAd:14,videoOnError:15,showModal:16,confirmModal:17};var MU=/\$(.+)\$/,xU={},DU={},RU={launchInfo:{query:DU.query||{}}};Object.defineProperty(RU,"network_type",{configurable:!0,enumerable:!0,get:()=>(0,rr._getCurrentNetworkType)()}),x.default.onReady((()=>{DU=x.default.appLaunchInfo,Object.assign(RU.launchInfo.query,DU.query||{}),S.onShow((e=>{Object.assign(RU.launchInfo.query,e.query||{})}))}));var LU={String:"",Unit32:"0",Boolean:"true"},NU={String:String,Uint32:String,Boolean:Boolean};var OU=/\$\((.+)\)/;function BU(e,t,r,a){return"Variable"===t?bU(RU,r):"datasetValue"===t?function(e,t,r){var a=t.split("."),n=a[0];if(OU.test(n)){var i=OU.exec(n)[1],o="this"===i?r:e.uiEngine.getElementById(i);return o&&bU(o.dataset,a.slice(1).join("."))}}(e,r,a):r}function jU(e,t,r=null){return Object.keys(t&&t.inputs||{}).reduce(((a,n)=>{var i,o,s=t.inputs[n];return a[n]=(i={value:BU(e,s.parse,s.value,r),format:s.format},void 0===(o=TU(i)).value&&(o.value=LU[o.format]),"Boolean"!==o.format?o.value=NU[o.format]&&NU[o.format](o.value)||o.value:o.value="true"===o.value,o),a}),{})}const FU=new class{getCgi(e,t={},r){var{channel:a,id:n}=t,i={act_id:e.act_id,flow_id:n,sign:e.sign,inputs:jU(e,a,r)};return function(e,{act_id:t,flow_id:r,inputs:a,sign:n}){var i=new Date;return(0,Q.Qh)({sdkApiName:"compflowinvoke",apiName:"webapi_compflowinvoke",reqData:{act_id:t,flow_id:r,inputs:a,sign:n}}).catch((t=>{throw e.reporter.reportKeyValue({action:EU.actionMap.execFlow,execTime:new Date-i,externInfo:CU(t),isSuccess:0,flowid:r}),new Error(t.errMsg||"")})).then((t=>(e.reporter.reportKeyValue({action:EU.actionMap.execFlow,execTime:new Date-i,isSuccess:1,flowid:r}),t)))}(e,i).then((t=>{t||(t={});var{data:r}=t;r.models;var{models:a=[]}=r,n="minigame_component_post";e.uiEngine.modelsHandler(r.models.filter((e=>e.id!==n)));var i=a.find((e=>e.id===n));if(i&&i.extra&&i.extra.action)return PU(i.extra.action)}))}closeComponent(e){var t=e.pages.map((e=>(e.style.hidden=!0,e.nextLayout())));return e.reporter.reportKeyValue({action:EU.actionMap.closeComponent,isSuccess:1}),Promise.all(t).then((()=>{e.emitter.emit("close")}))}shareAppMessage(e,t,r){var a=r&&r.dataset||{},n=a.share_params||{},i="";Object.keys(n).forEach(((e,t)=>{i+=`${e}=${n[e]}`,t<Object.keys(n).length-1&&(i+="&")})),e.reporter.reportKeyValue({action:EU.actionMap.shareAppMessage,isSuccess:1,externInfo:CU({title:a.title||"",query:i,imageUrl:a.image_url||""})}),mm({title:a.title||"",query:i,imageUrl:a.image_url||""})}broadcastEvent(e,t){var{channel:r}=t,a=jU(e,r);a.eventName&&a.eventName.value&&(e.emitter.emit(a.eventName.value,{errcode:Number(a.errcode&&a.errcode.value||0),errMsg:a.errMsg&&a.errMsg.value||""}),e.reporter.reportKeyValue({action:EU.actionMap.broadcastEvent,isSuccess:1,externInfo:CU(a)}))}showModal(e,t){var{channel:r}=t,a=jU(e,r),n=a.title&&a.title.value||"提示",i=a.content&&a.content.value||"温馨提示",o=a.cancelText&&a.cancelText.value||"取消",s=a.cancelColor&&a.cancelColor.value||"#000000",l=a.confirmText&&a.confirmText.value||"确定",c=a.confirmColor&&a.confirmColor.value||"#576B95",u=a.showCancel&&a.showCancel.value;return u=void 0===u||u,e.reporter.reportKeyValue({action:EU.actionMap.showModal,isSuccess:1,externInfo:CU(a)}),new Promise((t=>{(0,Ze.showModal)({title:n,content:i,showCancel:u,cancelText:o,cancelColor:s,confirmText:l,confirmColor:c,success(r){r.confirm?(e.reporter.reportKeyValue({action:EU.actionMap.confirmModal,isSuccess:1,externInfo:CU(a)}),t()):r.cancel}})}))}showLoading(e,t){var{channel:r}=t,a=jU(e,r),n=a.title&&a.title.value||"加载中...",i=a.mask&&a.mask.value||!1;return new Promise((e=>{(0,Ze.showLoading)({title:n,mask:i,complete:e})}))}showToast(e,t){var{channel:r}=t,a=jU(e,r),n=a.duration&&a.duration.value||2e3;return new Promise((e=>{(0,Ze.showToast)({title:a.title&&a.title.value||"",icon:a.type&&a.type.value||"none",duration:n,complete:e})}))}actionFlow(e,t,r){t.id;var{channel:a={},conditions:n={}}=t,i=jU(e,a,r),{models:o=[]}=a;return new Promise((t=>{var a=i.cond_key&&void 0!==i.cond_key.value?i.cond_key.value:void 0;if(void 0!==a&&Object.keys(n).find((e=>e===`${a}`))){var s=n[a],{channel:l={}}=s,{models:c=[]}=l;e.uiEngine.modelsHandler(c)}var u=o.map((e=>{var t=TU(e);t.attributes||(t.attributes={});var{attributes:a={}}=t,n=PU(a.dataset);for(var i in n){var o=MU.test(n[i]),s=MU.exec(n[i]);if(o){var l=s[1],c=bU(r,l);n[i]=n[i].replace(MU,c)}}return t.attributes.dataset=CU(n),t}));u.length&&e.uiEngine.modelsHandler(u),t()}))}createRewardedVideoAd(e,t,r){var{dataset:a}=r,{adUnitId:n}=a;return e.reporter.reportKeyValue({action:EU.actionMap.createRewardedVideoAd,externInfo:n}),new Promise(((t,r)=>{if(n||((0,Ze.hideLoading)(),r(new Error("广告id参数必填"))),xU[n])t(xU[n]);else{var a=ADSDK.createRewardedVideoAd({adUnitId:n,multiton:!0});xU[n]=a,a.onError((t=>{t.adUnitId=n,e.reporter.reportKeyValue({action:EU.actionMap.videoOnError,externInfo:CU(t),isSuccess:0})})),t(a)}}))}createAndShowRewardedVideoAd(e,t,r){return(0,Ze.showLoading)({title:"加载视频中..."}),new Promise(((a,n)=>{this.createRewardedVideoAd(e,t,r).then((t=>(t.load().then((r=>{t.show().then((()=>{e.reporter.reportKeyValue({action:EU.actionMap.createAndShowRewardedVideoAdSuccess,externInfo:t.adUnitId}),(0,Ze.hideLoading)()}))})).catch((r=>{(0,Ze.hideLoading)(),(0,Ze.showToast)({title:"无可观看视频",icon:"none"}),e.reporter.reportKeyValue({action:EU.actionMap.createAndShowRewardedVideoAdFail,externInfo:t.adUnitId}),n(r)})),t.closeCbk&&t.offClose(t.closeCbk),t.closeCbk=r=>{r&&r.isEnded||void 0===r?(e.reporter.reportKeyValue({action:EU.actionMap.confirmRewardVideo,externInfo:t.adUnitId}),a()):(e.reporter.reportKeyValue({action:EU.actionMap.cancelRewardVideo,externInfo:t.adUnitId}),(0,Ze.showToast)({title:"领取失败",icon:"none"}))},t.onClose(t.closeCbk),t.load())))}))}destroyRewardedVideoAd(e,t){var{channel:r}=t,a=jU(e,r),n=a.id&&a.id.value,i=xU.get(n);return new Promise(((t,r)=>{n&&i?(e.reporter.reportKeyValue({action:EU.actionMap.destroyRewardedVideoAd,externInfo:n,isSuccess:1}),i.destroy(),xU.delete(n),t()):(e.reporter.reportKeyValue({action:EU.actionMap.destroyRewardedVideoAd,externInfo:n,isSuccess:0}),r(new Error("组件不存在")))}))}flowParser(e,t={},r){var a,n=t.type||t.flow_type;return a=this[n]?this[n](e,t,r):Promise.reject(),t.next?a.then((()=>this.flowParser(e,t.next,r))):a}};function WU(e={},t){var r;return e.id===t&&(r=e),(e.items||[]).forEach((e=>{r=WU(e,t)||r})),r}function UU(e={},t,r){return r||(r=[]),(function(e){var{attributes:t={}}=e,{dataset:r="{}"}=t;return PU(r)}(e).className||"").split(/\s+/).find((e=>e===t))&&r.push(e),(e.items||[]).forEach((e=>UU(e,t,r))),r}function GU(e,t){if(e.value&&(t.value=e.value),e.attributes){if(t.attributes||(t.attributes={}),e.attributes.dataset){var r=Object.assign(PU(t.attributes.dataset||""),PU(e.attributes.dataset));t.attributes.dataset=CU(r)}if(e.attributes.style){var a=Object.assign(PU(t.attributes.style||""),PU(e.attributes.style));t.attributes.style=CU(a)}}}function VU(e={}){var{flows:t=[]}=e,r=t.find((e=>"init"===e.id));if(r){var{channel:a={}}=r,{models:n=[]}=a,{model:i={}}=e;n.forEach((e=>{var{extra:t={}}=e;if(t.action){var r=PU(t.action);if("execModelAction"===r.actionType){var a=r.model_actions||[];if("string"==typeof a)try{a=JSON.parse(a)}catch(e){a=[]}a.forEach((e=>{if(e.id){var t=WU(i,e.id);t&&GU(e,t)}else if(e.class){UU(i,e.class).forEach((t=>{GU(e,t)}))}}))}}}))}}var $U,qU,zU=/(.+)\((.+)\)/,HU=/\$(.+)\$/,KU=/\$\((.+)\)/,JU={view:FB.G,text:jw.x,image:Fw.E};function QU(e,t){Object.keys(t.query||{}).find((e=>e.indexOf("minigame_component")>-1))&&(t.query,e.reporter.reportKeyValue({action:EU.actionMap.launchGameWithShare,isSuccess:1,externInfo:CU(t.query)}))}function YU(e,t){for(var r in e.style.scale=t,e.children)YU(e.children[r],t)}class ZU{constructor(e,t){this._private=e,this.componentInstance=t,this.id=1}oneFlowExec(e,t){var{_private:r}=this,a=r.config&&r.config.flows.find((t=>t.id===e));return a&&FU.flowParser(r,a,t)}oneModelActionExec(e,t,r){var{_private:a}=this,n=a.config.model_actions.find((t=>t.name===e));if("$this"===t)this.updateOneElement(n,r);else{var i=t.split(":");if("$class"===i[0])this.getElementsByClassName(i[1]).forEach((e=>{this.updateOneElement(n,e)}));else if("$id"===i[0]){var o=this.getElementById(i[1]);o&&this.updateOneElement(n,o)}}}eventReigster(e,t){var{dataset:r}=t.attributes;r.click&&e.on("click",(t=>{(e.id,!e.disabled&&function(e){var t=e.absoluteX,r=e.absoluteY,a=e.absoluteEndX,n=e.absoluteEndY,i=e.pressInterval,o=!1;return Math.abs(n-r)<30&&Math.abs(a-t)<30&&i<300&&(o=!0),o}(t))&&r.click.split(";").forEach((t=>{if("execFlow"===t&&r.flowid)r.flowid.split(";").forEach((t=>{this.oneFlowExec(t,e)}));else if("execModelAction"===t&&r.action){r.action.split(";").filter((e=>e&&e.match(zU))).forEach((t=>{var r=zU.exec(t),a=r[1],n=r[2];this.oneModelActionExec(a,n,e)}))}}))}))}create(e,t){var{_private:r}=this,{attributes:a,component:n,value:i}=e;a.style=PU(a.style);var o=PU(a.dataset);a.dataset=o,a.value=i,a.src=i,a.bubbleEvent=!0;var s=new(0,JU[n])(a);if("list"===o.type&&o.listlength&&e.items.length){var l=e.items[0];e.items=[];for(var c=0;c<o.listlength;c++){var u=TU(l);o.defaultvalue&&(u.value=o.defaultvalue,u.src=o.defaultvalue);var d=PU(u.attributes.dataset);d.idprefix&&(d.idName=d.idprefix+c,u.attributes.dataset=CU(d)),e.items.push(u)}}s.dataset=o,o.if&&(s.style.hidden=!0,setTimeout((()=>{if(o.if&&KU.test(o.if)){var e=o.if.split("."),t=KU.exec(o.if)[1],r=this.getElementById(t),a=e.slice(1).join("."),n=`${a}__bridge`;r.dataset[n]=r.dataset[a],void 0!==r.dataset[a]&&(s.style.hidden=!r.dataset[a]),Object.defineProperty(r.dataset,a,{configurable:!0,enumerable:!0,get:()=>r.dataset[n],set:e=>{void 0!==e&&(s.style.hidden=!e),r.dataset[n]=e}})}}),0)),e.items.forEach((e=>{var r=this.create(e,t);s.add(r)})),this.eventReigster.call(this,s,e);var p=o.idName||this.id++;return r[`${t}Container`][p]=s,s}init(){var{_private:e}=this;VU(e.config);var t=(0,un.getSystemInfoSync)();e.pages=[],e.pageContainers={},e.root=new FB.G({}),e.root.dataset={};var r=e.config.model;r.items.forEach((a=>{var{id:n}=a,i=`${n}Container`;e[i]={},e.pageContainers[i]=e[i];var{attributes:o={}}=a,s=PU(o.style);s.hidden=!0,"singlePage"!==r.label&&(s.width=t.windowWidth,s.height=t.windowHeight),o.style=CU(s),this.create(a,n);var l=e[i][n];if(e[n]=l,e[n].isPage=!0,e.pages.push(l),Rm.u.add(l),"singlePage"===r.label){var{style:c}=l;this.componentInstance.style={width:c.width||0,height:c.height||0,left:0,top:0};["width","height","left","top"].forEach((e=>{Object.defineProperty(this.componentInstance.style,e,{configurable:!0,enumerable:!0,get:()=>l.computedStyle[e],set:t=>{if("width"===e||"height"===e)throw new Error("can not set width and height");t!==c[e]&&(c[e]=t)}})})),Object.keys(e.style).forEach((t=>{"left"!==t&&"top"!==t||(this.componentInstance.style[t]=e.style[t])}))}})),this.componentInstance.ready=!0,e.emitter.emit("load"),QU(e,(0,Tv.x9)()),(0,Ac.dN)((t=>{QU(e,t)}))}updateListTreeChild(e,t){var{dataset:r}=e;if(r.origin&&HU.test(r.origin)){var a=bU({item:t},HU.exec(r.origin)[1]);r.origin_source=a}if(r.render&&HU.test(r.render)){var n=bU({item:t},HU.exec(r.render)[1]);n&&(e.value=n,e.src=n)}if(r.if&&HU.test(r.if)){var i=bU({item:t},HU.exec(r.if)[1]);void 0!==i&&(e.style.hidden=!i)}for(var o in e.children)this.updateListTreeChild(e.children[o],t)}updateListTree(e,t){var r=PU(t.value,[]),a=Object.keys(e.children).map((t=>e.children[t]));r.forEach(((e,t)=>{this.updateListTreeChild(a[t],e)}))}updateList(e,t){var{dataset:r}=e,a=PU(t.value);if(e&&"list"===e.dataset.type&&t.value_filter_name){var n=Object.keys(e.children).map((t=>e.children[t])),i=t.value_filter_name.split(".");if(i[0].indexOf("[]")>-1){var o=a[i[0].replace("[]","")];if(o){var s=i[1];n.forEach(((e,t)=>{if(o[t]&&o[t][s]){var a=o[t][s];"avatar_url"===s&&(a+="/0"),e.src=a,e.value=a}else r.defaultvalue&&(e.src=r.defaultvalue,e.value=r.defaultvalue)}))}}}}getElementsByClassName(e){var{_private:t}=this,r=[];return Object.keys(t.pageContainers).forEach((a=>{var n=t.pageContainers[a],i=Object.keys(n);r=r.concat(i.map((t=>!!(n[t].dataset.className||"").split(/\s+/).find((t=>t===e))&&n[t])).filter((e=>e)))})),r}getElementById(e){var t,{_private:r}=this;return"root"===e?r.root:(Object.keys(r.pageContainers).forEach((a=>{var n=r.pageContainers[a],i=Object.keys(n).find((t=>n[t].dataset.idName===e));i&&n[i]&&(t=n[i])})),t)}updateOneElement(e,t){var{_private:r}=this,a=t||this.getElementById(e.id),{attributes:n={},value:i}=e;if(a){if(void 0!==n.hide&&(a.style.hidden=n.hide,!1===a.style.hidden&&a.isPage&&r.reporter.reportKeyValue({action:EU.actionMap.exposure,isSuccess:1,externInfo:CU(a.dataset)})),i&&a.value&&(a.value=i),i&&a.src&&(a.src=i),n.dataset&&(a.dataset=Object.assign(a.dataset,PU(n.dataset))),n.style)try{var o=PU(n.style);Object.assign(a.style,o),void 0!==o.scale&&YU(a,o.scale)}catch(e){}void 0!==n.disabled&&(a.disabled=n.disabled),this.updateList(a,e),"list"!==a.dataset.type||e.value_filter_name||this.updateListTree(a,e)}e.items&&e.items.length&&e.items.forEach((e=>{this.updateOneElement(e)}))}modelsHandler(e){e.forEach((e=>{this.updateOneElement(e)})),e.filter((e=>"root"===e.id)).forEach(this.rootHandler.bind(this))}rootHandler(e){var{_private:t}=this,{extra:r={}}=e,a=PU(r.action);if("execFlow"===a.actionType)FU.flowParser(t,a);else if("execConfigFlow"===a.actionType){var{type:n,channel:i}=a,o=t.config.flows.find((e=>e.id===n));if(o){var s=TU(o);s.channel=i||s.channel,FU.actionFlow(t,s)}}else if("execModelAction"===a.actionType){var l=a.model_actions||[];"string"==typeof l&&(l=PU(l,[])),l.forEach((e=>{if(!e.name&&e.id)this.updateOneElement(e);else if(!e.name&&e.class)this.getElementsByClassName(e.class).forEach((t=>{this.updateOneElement(e,t)}));else{var r=TU(t.config.model_actions.find((t=>t.name===e.name)));r.id=e.id,this.updateOneElement(r)}}))}}}x.default.onReady((()=>{var e=t=>{(0,kO.gQ)("minigamelive")!==kO.Q_.injected?($U||($U=new __minigameLiveSDK__),(0,ij.h)("minigamelive","transferGameLiveStateChange",t)):(0,ak.KR)(e)};(0,ak.DT)(e)})),x.default.onReady((()=>{z.DD&&(0,Qe.J)("gameCouponHangings")&&(0,Ac.dN)((()=>{qU||(qU=new __minigamePlatformSDK__)}))}));var XU="_private_@@launch_screen@@",eG=function(e){return e[e.Image=0]="Image",e[e.Video=1]="Video",e[e.Live=2]="Live",e}({}),tG="LaunchScreen",rG=0,aG=new kF.n({pluginAppId:"wxapplib_launchScreen",pluginVersion:"1.1.0"});var nG=new SF.v,iG={};function oG(e){e.ExternInfo=encodeURIComponent(JSON.stringify(Object.assign({},iG,e.ExternInfo))),nG.send(e)}function sG(e){nG.setBase({SceneID:63,UIArea:6301,AppId:x.default.accountInfo.appId}),oG({PositionID:1,ActionID:1,ExternInfo:{url:e,jumpType:0===e.indexOf("https://game.weixin.qq.com/")?1:2}})}function lG(e,t){oG({PositionID:1,ActionID:4,ExternInfo:{popup:e?1:0,url:t,jumpType:0===t.indexOf("https://game.weixin.qq.com/")?1:2}})}function cG(e){oG({PositionID:1,ActionID:5,ExternInfo:{url:e}})}var uG,dG=p(3006),pG=new WeakMap,hG=e=>pG.get(e),fG=p(670);class gG{constructor(e,t){this.name="",this.initTime=0,this.quality=e,this.name=t}webviewInit(){this.initTime=Date.now(),this.quality.report({Type:CF.jJ.Info,Target:"WebviewInit",CustomKey2:this.name})}webviewCreate(){this.quality.report({Type:CF.jJ.Info,Target:"WebviewCreate",CustomKey2:this.name,CostTime:Date.now()-this.initTime})}webviewCreateSuccess(e){this.quality.report({Type:CF.jJ.Info,Target:"WebviewCreateSuccess",CostTime:Date.now()-this.initTime,CustomKey1:`${e}`,CustomKey2:this.name})}webviewLoaded(){this.quality.report({Type:CF.jJ.Info,Target:"WebviewLoaded",CostTime:Date.now()-this.initTime,CustomKey2:this.name})}webviewReady(){this.quality.report({Type:CF.jJ.Info,Target:"WebviewReady",CostTime:Date.now()-this.initTime,CustomKey2:this.name})}webviewError(e){this.quality.report({Type:CF.jJ.Info,Target:"WebviewError",CostTime:Date.now()-this.initTime,Result:e,IsError:1,CustomKey2:this.name})}webviewWarn(e){this.quality.report({Type:CF.jJ.Warn,Target:"WebviewWarn",CostTime:Date.now()-this.initTime,Result:e,IsError:0,CustomKey2:this.name})}}!function(e){e.Init="init",e.Info="info",e.Show="show",e.Hide="hide",e.Ready="ready",e.WxInvokeCallback="wxInvokeCallback",e.ShowToast="showToast",e.HideToast="hideToast",e.HashChanged="hashChanged",e.Close="close",e.Destroy="destroy"}(uG||(uG={}));var vG=p(872),mG=globalThis&&globalThis.__decorate||function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o};function yG(e,t,r){var a=r.value;return r.value=function(...e){if(this.webview)return a.apply(this,e);console.warn("[minigamefe mgp WebView] please create webview first!")},r}class _G extends dG.TinyEmitter{constructor(e,t){var r,a,n,i,o,s;super(),this.debug=!1,this.isGameWebview=!1,this.visible=!1,this.ready=!1,this.webview=null,this.hashChanging=!1,this.hashTicker=null,this.onMessageList={},this.cacheHashQueue=[],this.cacheMessage={},this.postMessageTicker=null,this.loading=!1,this.loadingTicker=null,this.timeoutData={timeout:6e3,title:"加载失败，请稍后重试"},this.deviceOrientationChangeFn=()=>{setTimeout((()=>{this.sendInfo(),this.emit("deviceOrientationChange")}),500)},t.createWebView?this.createWebView=t.createWebView:this.createWebView=pluginEnv.createWebView,t.gameWx?this.gameWx=t.gameWx:this.gameWx=pluginEnv.customEnv&&pluginEnv.customEnv.wx?pluginEnv.customEnv.wx:S,this.gameWx&&(this.gameWx.getSystemInfo({success:e=>{var t;this.systemInfo=e,this.platform=null===(t=this.systemInfo.platform)||void 0===t?void 0:t.toLocaleLowerCase(),this.isGameWebview=this.platform===vG.t4.windows||this.platform===vG.t4.mac||(0,AF.yC)(this.systemInfo.version,"8.0.30")>=0}}),this.accountInfo=this.gameWx.getAccountInfoSync(),null===(r=this.gameWx)||void 0===r||r.onDeviceOrientationChange(this.deviceOrientationChangeFn));var l,c,{name:u,src:d,quality:p,timeoutData:h,debug:f=!1,style:g={left:0,top:9999,width:null!==(n=null===(a=this.systemInfo)||void 0===a?void 0:a.screenWidth)&&void 0!==n?n:0,height:null!==(o=null===(i=this.systemInfo)||void 0===i?void 0:i.screenHeight)&&void 0!==o?o:0}}=e;l=this,c={src:d,style:g},pG.set(l,c),this.createWebView?(p&&(this.quality=new gG(p,u)),"object"==typeof h&&(h.timeout&&(this.timeoutData.timeout=h.timeout),h.title&&(this.timeoutData.title=h.title)),this.debug=!!f,null===(s=this.quality)||void 0===s||s.webviewInit()):console.error("[minigamefe mgp WebView] current plugin does not have permission")}get src(){return hG(this).src}set src(e){var t=hG(this);t.src!==e&&(this.webview?(t.src=e,this.webview.src=e):console.warn("[minigamefe mgp WebView] please create webview first!"))}get style(){return hG(this).style}set style(e){this.webview?this.webview.style=Object.assign(hG(this).style,e):console.warn("[minigamefe mgp WebView] please create webview first!")}postMessage(e,t){this.cacheMessage[e]=void 0===t?Date.now():t,this.postMessageTicker&&clearTimeout(this.postMessageTicker),this.postMessageTicker=setTimeout((()=>{this.innerPostMessage(this.cacheMessage),this.cacheMessage={}}),10)}onMessage(e,t){this.onMessageList[e]||(this.onMessageList[e]=[]),this.onMessageList[e].push(t)}offMessage(e,t){if(this.onMessageList[e]){if(void 0===t)return void(this.onMessageList[e]=[]);var r=this.onMessageList[e].indexOf(t);r>-1&&this.onMessageList[e].splice(r,1)}}destroySelf(){}destroy(e){var t,r,a,n;this.destroySelf(),e?(null===(t=this.gameWx)||void 0===t||t.showToast({icon:"none",title:this.timeoutData.title}),setTimeout((()=>{var e;null===(e=this.gameWx)||void 0===e||e.hideLoading()}),2e3)):null===(r=this.gameWx)||void 0===r||r.hideLoading();try{null===(a=this.gameWx)||void 0===a||a.offDeviceOrientationChange(this.deviceOrientationChangeFn)}catch(e){}null===(n=this.webview)||void 0===n||n.destroy(),this.webview=null,this.visible=!1,this.ready=!1,this.hashChanging=!1,this.cacheHashQueue=[],this.cacheMessage={},this.loading=!1,this.clearHash(),this.postMessageTicker&&clearTimeout(this.postMessageTicker),this.loadingTicker&&clearTimeout(this.loadingTicker),this.emit("destroyed")}preload(e=!1){var t,r,a;if(!this.createWebView)return this.debug&&console.error("[minigamefe mgp WebView] current plugin does not have permission"),null;if(this.webview&&this.ready)return this.debug&&console.warn("[minigamefe mgp WebView] webview has been created!"),this.webview;if(this.loading)return this.debug&&console.warn("[minigamefe mgp WebView] webview is loading now!"),this.webview;null===(t=this.quality)||void 0===t||t.webviewCreate(),hG(this).initTime=Date.now();try{var n={src:this.src,style:this.style,__skipDomainCheck__:!0,zIndex:999999,isGameWebview:this.isGameWebview};this.debug&&console.info("[minigamefe mgp WebView] create "+(this.isGameWebview?"GameWebview":"regular Webview")),this.webview=this.createWebView(n),this.loading=!0,this.bindMessage(),this.addDefaultMessage(),null===(r=this.quality)||void 0===r||r.webviewCreateSuccess(this.isGameWebview),this.platform===vG.t4.devtools&&this.debug?console.warn("[minigamefe mgp WebView] webview is not support on devtools"):e&&this.showLoading()}catch(e){this.debug&&console.error("[minigamefe mgp WebView] create error:",e),null===(a=this.quality)||void 0===a||a.webviewWarn(`createWebView error:${(0,AF.bV)(e)}`)}return this.webview}addCallback(e,t,r){return Object.assign(e||{},{success:e=>{this.debug&&console.warn(`[minigamefe mgp WebView] ${t} success:`,e),this.innerPostMessage({[uG.WxInvokeCallback]:JSON.stringify({event:t,callbackId:r,state:"success",result:e})})},fail:e=>{this.debug&&console.warn(`[minigamefe mgp WebView] ${t} fail:`,e),this.innerPostMessage({[uG.WxInvokeCallback]:JSON.stringify({event:t,callbackId:r,state:"fail",result:e})})},complete:e=>{this.debug&&console.warn(`[minigamefe mgp WebView] ${t} fail:`,e),this.innerPostMessage({[uG.WxInvokeCallback]:JSON.stringify({event:t,callbackId:r,state:"complete",result:e})})}}),e}sendInfo(){this.webview&&this.gameWx&&this.gameWx.getSystemInfo({success:e=>{var t,r;this.systemInfo=e,this.postMessage(uG.Info,JSON.stringify({menuButtonBoundingClientRect:null!==(r=null===(t=this.gameWx)||void 0===t?void 0:t.getMenuButtonBoundingClientRect())&&void 0!==r?r:{},systemInfo:{safeArea:(0,fG.R)(!0,this.systemInfo),screenWidth:this.systemInfo.screenWidth,screenHeight:this.systemInfo.screenHeight,windowWidth:this.systemInfo.windowWidth,windowHeight:this.systemInfo.windowHeight,statusBarHeight:this.systemInfo.statusBarHeight,platform:this.systemInfo.platform,version:this.systemInfo.version,SDKVersion:this.systemInfo.SDKVersion,deviceOrientation:this.systemInfo.screenWidth&&this.systemInfo.screenHeight&&this.systemInfo.screenWidth>this.systemInfo.screenHeight?"landscape":"portrait"}}))}})}showLoading(){var e;null===(e=this.gameWx)||void 0===e||e.showLoading({title:"加载中..."}),this.loadingTicker=setTimeout((()=>{var e,t;null===(e=this.gameWx)||void 0===e||e.hideLoading(),this.ready||(this.destroy(!0),null===(t=this.quality)||void 0===t||t.webviewWarn("webview_timeout"))}),this.timeoutData.timeout)}addDefaultMessage(){this.onMessage(uG.Destroy,(()=>{this.destroy()})),this.onMessage(uG.Ready,(()=>{var e,t,r;this.loading=!1,this.debug&&console.log(`[minigamefe mgp WebView] ready cost: ${Date.now()-hG(this).initTime}ms`),this.postMessage(uG.Init,JSON.stringify({initTime:hG(this).initTime,accountInfo:null!==(e=this.accountInfo)&&void 0!==e?e:{}})),this.sendInfo(),null===(t=this.gameWx)||void 0===t||t.hideLoading(),this.ready=!0,null===(r=this.quality)||void 0===r||r.webviewReady()})),this.onMessage(uG.HashChanged,(()=>{this.nextHash()})),this.onMessage(uG.ShowToast,(e=>{var t;e&&e.params&&e.params.title&&(null===(t=this.gameWx)||void 0===t||t.showToast({icon:e.params.icon||"none",title:e.params.title}))})),this.onMessage(uG.HideToast,(()=>{var e;null===(e=this.gameWx)||void 0===e||e.hideToast()}))}bindMessage(){this.webview.onmessage=e=>{this.debug&&console.info("[minigamefe mgp WebView] onmessage",e);var{event:t}=e,r=this.onMessageList[t];null==r||r.forEach((t=>{t(e)}))},this.webview.onload=()=>{var e;this.debug&&console.info(`[minigamefe mgp WebView] onload cost ${Date.now()-hG(this).initTime}ms`),null===(e=this.quality)||void 0===e||e.webviewLoaded()},this.webview.onerror=e=>{var t,r;this.debug&&console.warn("[minigamefe mgp WebView] onerror",e),null===(t=this.gameWx)||void 0===t||t.hideLoading(),null===(r=this.quality)||void 0===r||r.webviewError((0,AF.bV)(e.errMsg))}}innerPostMessage(e,t=2){if(!this.hashChanging&&this.ready){this.debug&&console.info("[minigamefe mgp WebView] postMessage to webview",e),this.hashChanging=!0,e=Object.assign(e,{[`postTime_${(0,AF.hQ)(10,!0)}`]:Date.now()});var r=JSON.stringify(e);if(this.isGameWebview)this.ready||e.info||!this.debug||console.warn("[minigamefe mgp WebView] 如果不是初始化post，在ready前post，有可能出问题，需要排查",e),this.webview.postMessage(r).then((()=>{this.nextHash()})).catch((r=>{this.debug&&console.warn("[minigamefe mgp WebView] postMessage error",r),this.clearHash(),t>0&&(this.debug&&console.warn("[minigamefe mgp WebView] try to postMessage again",r),setTimeout((()=>{this.innerPostMessage(e,t-1)}),20))}));else{var a=this.src.indexOf("#");this.src=-1===a?`${this.src}#${r}`:`${this.src.substring(0,a+1)}${r}`}this.hashTicker=setTimeout((()=>{this.hashChanging&&(this.hashChanging=!1)}),1e3)}else this.cacheHashQueue.push(e)}clearHash(){this.hashTicker&&clearTimeout(this.hashTicker),this.hashChanging=!1}nextHash(){if(this.clearHash(),this.cacheHashQueue.length>0){var e=this.cacheHashQueue.shift();e&&this.innerPostMessage(e)}}}mG([yG],_G.prototype,"postMessage",null),mG([yG],_G.prototype,"bindMessage",null),mG([yG],_G.prototype,"innerPostMessage",null);class bG extends _G{constructor(e,t){super(e,t||{}),this.animateTime=500,this.hideTicker=null,this.setWebviewVisiable=()=>{this.visible=!0,this.postMessage(uG.Show),this.style={top:0}};var{animateTime:r}=e;"number"==typeof r&&(this.animateTime=r),this.init()}init(){this.onMessage(uG.Close,(()=>{this.hide()})),this.on("deviceOrientationChange",(()=>{this.systemInfo&&(this.style={width:this.systemInfo.screenWidth,height:this.systemInfo.screenHeight})}))}show(){this.debug&&console.info("[minigamefe mgp WebView] show"),this.webview||this.preload(!0),this.webview&&(this.ready?this.setWebviewVisiable():(this.offMessage(uG.Ready,this.setWebviewVisiable),this.onMessage(uG.Ready,this.setWebviewVisiable)))}hide(e){if(this.debug&&console.info("[minigamefe mgp WebView] hide"),e&&e.needAnimation)return this.postMessage(uG.Hide),void(this.hideTicker=setTimeout((()=>{this.style={top:9999},this.visible=!1}),this.animateTime));this.hideTicker&&(clearTimeout(this.hideTicker),this.hideTicker=null),this.visible&&(this.style={top:9999},this.visible=!1)}}function wG(e,t){"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}function IG(e,t){"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}class SG{constructor(){this.videoHandlers=new Map,this.closeMap=new Map}createRewardedVideoAd(e,t){var r,a=null===(r=function(e){var t;return(null==hse||null===(t=hse.wx)||void 0===t?void 0:t.createRewardedVideoAd)||(e&&IG(e,{errCode:-1,errMsg:"The basic library instance does not exist. Please try again later."}),null)}(e))||void 0===r?void 0:r.apply(null,t.args);if(a){var n=++SG.ID;return a.onError((e=>{})),a.onClose((e=>{var t=this.closeMap.get(a);t&&(e&&e.isEnded?wG(t,{errCode:0,isEnded:!0}):wG(t,{errCode:0,isEnded:!1}))})),this.videoHandlers.set(n,a),void wG(e,{errCode:0,rewardedVideoAdId:n})}}load(e,t){this.helperPromise(e,t)}show(e,t){this.helperPromise(e,t)}destroy(e,t){var r=this.getAdHandler(e,t);r&&(r.destroy(),wG(e,{errCode:0}))}getAdHandler(e,t){var r={errCode:-2,errMsg:`激励视频广告句柄不存在，请检查 rewardedVideoAdId [${t.rewardedVideoAdId}] 是否正确.`};if(t.rewardedVideoAdId){var a=this.videoHandlers.get(t.rewardedVideoAdId);return a?"function"!=typeof a[t.method]?(r.errCode=-4,void IG(e,r)):a:(r.errCode=-3,void IG(e,r))}IG(e,r)}helperPromise(e,t){var r=this.getAdHandler(e,t);r&&r[t.method]().then((a=>{"show"===t.method?this.closeMap.set(r,e):wG(e,{errCode:0})})).catch((r=>{IG(e,{errCode:-4,errMsg:`激励视频操作失败，rewardedVideoAdId [${t.rewardedVideoAdId}]。`,errInfo:r})}))}destoryAll(){this.videoHandlers.forEach(((e,t)=>{try{null==e||e.destroy()}catch(e){}})),this.videoHandlers.clear()}onMessage(e){var t=e.data;if(t)switch(t.method){case"createRewardedVideoAd":this.createRewardedVideoAd(e,t);break;case"load":case"show":case"destroy":this[t.method](e,t);break;case"onLoad":case"offLoad":case"onError":case"offError":case"onClose":case"offClose":break;default:t.method}}}SG.ID=0;const kG=SG;var CG,TG,PG=new kF.n({pluginAppId:"wxapplib_inner_webview",pluginVersion:"1.1.0"}),AG=function(e){return e[e.SCENE_UNKONOW=0]="SCENE_UNKONOW",e[e.SCENE_SHARE_IN_WEBVIEW=1]="SCENE_SHARE_IN_WEBVIEW",e[e.SCENE_SHARE_IN_LITEAPP=2]="SCENE_SHARE_IN_LITEAPP",e}(AG||{}),EG={AppServiceType:4,customNavigation:1},MG=new Set,xG=({url:e,cutieId:t,name:r,extraInfo:a})=>{try{CG&&(CG.destroy(),CG=null)}catch(e){}try{var n=e;if(a)try{var i=JSON.parse(a);Object.keys(i).forEach((e=>{var t=i[e];n=(0,AF.vr)(n,e,t)}))}catch(e){}TG=new kG,CG=new bG({src:LG(n),quality:PG,name:r||"",debug:!1,timeoutData:{timeout:8e3,title:"加载超时"}},{gameWx:{onDeviceOrientationChange:hn.Qq,offDeviceOrientationChange:hn.tR,hideLoading:Ze.hideLoading,showLoading:Ze.showLoading,showToast:Ze.showToast,hideToast:Ze.hideToast,getAccountInfoSync:sN.E,getSystemInfo:un.getSystemInfo,getMenuButtonBoundingClientRect:pg.zC},createWebView:e=>new g_.kh(e)}),CG&&a&&CG.onMessage("ready",(()=>{CG.postMessage("extraInfo",a)}))}catch(e){}if(CG)return CG.show(),RG(CG,t),CG};function DG(){MG.size>0&&$e({withShareTicket:Ge.withShareTicket,menus:Array.from(MG)})}var RG=(e,t)=>{function r(r,a,n){var i,o={req_path:"ad.getcutiebypass",scene:AG.SCENE_SHARE_IN_WEBVIEW,appid:x.default.accountInfo.appId,from_cutie_id:t||"",extra_info:"string"==typeof r.extendInfo?r.extendInfo:JSON.stringify(null!==(i=r.extendInfo)&&void 0!==i?i:{}),custom_data_map:r.customData};PG.report({Type:CF.jJ.Info,Target:"getcutiebypass_init",Result:JSON.stringify(o)}),(0,Mo.ip)({reqData:o,timeout:3e4,success(t){PG.report({Type:CF.jJ.Info,Target:"getcutiebypass_success",Result:JSON.stringify(t)});var i={...r.params};t.data.bypass&&Object.assign(i,{query:`gift_bypass=${t.data.bypass}`}),a(e.addCallback(i,n,r.callbackId))},fail(t){PG.report({Type:CF.jJ.Error,Target:"getcutiebypass_fail",Result:(0,AF.bV)(t)}),a(e.addCallback(r.params,n,r.callbackId))}})}e.onMessage("shareAppMessage",(e=>{e&&e.params&&r(e,ym,"shareAppMessage")})),e.onMessage("hide",(t=>{var r,a,n=null!==(r=null==t||null===(a=t.params)||void 0===a?void 0:a.value)&&void 0!==r?r:"destroy";e.hide(),"activeBackend"!==n&&e.destroy(),e.emit("hide",t)})),e.onMessage("shareMessageToFriend",(e=>{e&&e.params&&r(e,Am,"shareMessageToFriend")})),e.onMessage("updateShareMenu",(t=>{t&&t.params&&Je(e.addCallback(t.params,"updateShareMenu",t.callbackId))})),e.onMessage("setDeviceOrientation",(t=>{t&&t.params&&(0,un.getSystemInfo)({success:r=>{var{screenWidth:a,screenHeight:n}=r;(a>n&&"portrait"===t.params.value||a<n&&"landscape"===t.params.value)&&(e.style={width:n,height:a})},complete:()=>{(0,hn.MI)(e.addCallback(t.params,"setDeviceOrientation",t.callbackId))}})})),e.onMessage("hideShareMenu",(()=>{Ge.showShareAppMessageMenu&&(MG.add("shareAppMessage"),qe({menus:["shareAppMessage"]})),Ge.showShareTimelineMenu&&(MG.add("shareTimeline"),qe({menus:["shareTimeline"]}))})),e.onMessage("showShareMenu",(()=>{DG()})),e.onMessage("gameTransfer",(t=>{null!=t&&t.params&&"string"==typeof t.params.req_path&&0===t.params.req_path.indexOf("ad.report")&&(0,Mo.ip)(e.addCallback({reqData:t.params,timeout:3e4},"gameTransfer",t.callbackId))})),e.onMessage("rewardedVideoAd",(t=>{var r;if(null!=t&&t.params){var{rewardedVideoAdId:a,method:n,args:i}=t.params;null===(r=TG)||void 0===r||r.onMessage(e.addCallback({data:{rewardedVideoAdId:a,method:n,args:i}},"rewardedVideoAd",t.callbackId))}})),e.onMessage("close",(()=>{e.hide(),e.destroy(),e.emit("close")})),e.on("destroyed",(()=>{var e;null===(e=TG)||void 0===e||e.destoryAll(),TG=void 0,DG()}))};function LG(e){var t=e;return Object.keys(EG).forEach((e=>{var r=EG[e];t=(0,AF.vr)(t,e,r)})),t}var NG,OG=e=>{(0,g_.KG)({urlList:[{url:LG(e),bizScene:30001}],success:e=>{PG.setCustomKey({CustomKey3:"isPreload"})},fail:e=>{}})},BG=function(e){return e[e.OPEN_WAY_DEFAULT_H5=0]="OPEN_WAY_DEFAULT_H5",e[e.OPEN_WAY_DEFAULT_WEBVIEW=1]="OPEN_WAY_DEFAULT_WEBVIEW",e[e.OPEN_WAY_DEFAULT_LITEAPP=2]="OPEN_WAY_DEFAULT_LITEAPP",e}({}),{setStorage:jG,getStorage:FG}=Oe.game;class WG{constructor(){this.layerDatas=[],this.canRenderNext=!0,this.onShowListener=void 0,this.webview=void 0,this.visible=!1,this.sclComp=void 0,this.inited=!1,this.cacheByPass="",this.renderByPass="",aG.report({Type:CF.jJ.Info,Target:`${tG}Init`}),this.onShowListener=e=>{var t,r,a,n=null!==(t=null==e||null===(r=e.referrerInfo)||void 0===r||null===(a=r.privateExtraData)||void 0===a?void 0:a.gift_bypass)&&void 0!==t?t:null==e?void 0:e.query.gift_bypass;if(n){if(this.cacheByPass&&0===n.indexOf(this.cacheByPass))return void(this.cacheByPass="");this.renderByPass=n,this.loadData(!1)}else this.canRenderNext||null!==this.webview?this.inited||this.loadData(!0):(this.canRenderNext=!0,this.renderNext())},(0,Ac.dN)(this.onShowListener)}loadData(e=!0){this.inited=!0,rG=Date.now(),aG.report({Type:CF.jJ.Info,Target:`${tG}LoadData`}),rW(HF.CUTIE_TYPE_POPUP_AD).then((t=>{if(0!==t.length){var r=!e&&this.visible&&this.sclComp;r&&this.layerDatas.shift(),this.parseData(t,e).then((e=>{this.layerDatas.unshift(...e),r&&this.layerDatas.length>0&&this.sclComp.setData({...this.layerDatas[0]}),aG.report({Type:CF.jJ.Info,CostTime:Date.now()-rG,Target:`${tG}LoadSuccess`}),this.renderNext()}))}})).catch((e=>{!function(e,t){aG.report({Type:CF.jJ.Error,CostTime:Date.now()-rG,Target:`${tG}LoadError`,Result:e,IsError:t?1:0})}((0,AF.bV)(e),!0)}))}parseData(e,t=!0){var r=this;return _e()((function*(){var a=[];return yield Promise.all(e.map((e=>new Promise((n=>{var i,o,s=null===(i=e.extra_info)||void 0===i?void 0:i.slot_meta,l=null===(o=e.extra_info)||void 0===o?void 0:o.slot_info_list;if(s&&l&&"number"==typeof s.slot_width&&s.slot_width>0&&"number"==typeof s.slot_heigth&&s.slot_heigth>0){var c,u,d,p,h,f,g,v,m,y,_,b,w,I,S=(null===(c=e.cutie)||void 0===c?void 0:c.cutie_id)||"";if(r.layerDatas.find((e=>e.id===S)))return;var k={id:S,type:eG.Image,width:s.slot_width,height:s.slot_heigth,banners:[],videos:[],openWay:null!==(u=null===(d=e.cutie)||void 0===d?void 0:d.open_way)&&void 0!==u?u:BG.OPEN_WAY_DEFAULT_H5,extraInfo:null!==(p=null===(h=e.extra_info)||void 0===h||null===(f=h.direct_apply_bypass_info)||void 0===f?void 0:f.extra_info)&&void 0!==p?p:"",preload:null!==(g=null===(v=e.cutie)||void 0===v?void 0:v.preload)&&void 0!==g&&g,informType:null!==(m=null===(y=e.extra_info)||void 0===y||null===(_=y.bubble_info)||void 0===_?void 0:_.bubble_type)&&void 0!==m?m:0,informSource:null!==(b=null===(w=e.extra_info)||void 0===w||null===(I=w.bubble_info)||void 0===I?void 0:I.bubble_source)&&void 0!==b?b:0,needCache:t};k.type===eG.Image?(l.forEach((e=>{var t=e.img_data;t&&t.img_url&&t.jump_url&&k.banners.push({imageUrl:t.img_url,jumpUrl:t.jump_url})})),k.banners.length>0?r.checkCacheToday(S).then((e=>{t&&!e||a.push(k),n()})):n()):n()}}))))),a}))()}renderNext(){if(!this.visible&&0!==this.layerDatas.length){var e=this.layerDatas[0];e&&this.render(e)}}render(e){var t=this;return _e()((function*(){var r;t.visible=!0;var a=yield new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot)))));t.sclComp=a.append("launch-screen",{...e});var n=null===(r=e.banners[0])||void 0===r?void 0:r.jumpUrl;n&&e.openWay===BG.OPEN_WAY_DEFAULT_WEBVIEW&&e.preload&&OG(n),function(e){Object.assign(iG,e)}({aid:e.id,informType:e.informType,informSource:e.informSource}),t.sclComp.addListener("ready",(()=>{aG.report({Type:CF.jJ.Info,CostTime:Date.now()-rG,Target:`${tG}CreateSuccess`}),sG(n||""),aW(KF.REPORT_TYPE_EXPOSURE,e.id),FF(BF.LaunchScreen,11010202,1,jF.pv)})),t.sclComp.addListener("close",(r=>{var a,n;a=r.detail.isCacheToday,n=r.detail.isButton,oG({PositionID:1,ActionID:3,ExternInfo:{popup:a?1:0,off_position:n?1:2}}),!0===r.detail.isCacheToday&&t.setCacheToday(e.id),aW(KF.REPORT_TYPE_CLOSE,e.id),FF(BF.LaunchScreen,11010202,1,jF.autoClose)})),t.sclComp.addListener("destroy",(()=>{t.sclComp=null,t.visible=!1,t.layerDatas.shift(),setTimeout((()=>{t.canRenderNext&&t.renderNext()}),50)})),t.sclComp.addListener("openUrl",(r=>{var{url:a}=r.detail;a?(aG.report({Type:CF.jJ.Info,CostTime:Date.now()-rG,Target:`${tG}OpenUrl`}),function(e,t){oG({PositionID:1,ActionID:2,ExternInfo:{popup:e?1:0,url:t,jumpType:0===t.indexOf("https://game.weixin.qq.com/")?1:2}})}(r.detail.isCacheToday,a),aW(KF.REPORT_TYPE_CLICK,e.id),FF(BF.LaunchScreen,11010202,1,jF.click),!0===r.detail.isCacheToday&&t.setCacheToday(e.id),e.openWay===BG.OPEN_WAY_DEFAULT_WEBVIEW?(t.webview=xG({url:a,cutieId:e.id,name:tG,extraInfo:e.extraInfo}),lG(r.detail.isCacheToday,a),t.webview&&t.webview.on("destroyed",(()=>{var e;t.webview=null,null===(e=t.onShowListener)||void 0===e||e.call(t)}))):(t.cacheByPass=t.renderByPass,(0,Jb.n8)({url:a,success:()=>{lG(r.detail.isCacheToday,a)},fail:()=>{cG(a)}})),t.canRenderNext=!1):cG(e.id)}))}))()}checkCacheToday(e){var t=this;return _e()((function*(){var r=yield t.getCacheToday();return!(r[e]&&r[e]>new Date((new Date).setHours(0,0,0,0)).getTime())}))()}getCacheToday(){return _e()((function*(){var e=yield new Promise((e=>{FG({key:XU,success:({data:t})=>{e(t)},fail:t=>{f.error("getCacheToday fail:",null==t?void 0:t.errMsg),e("")}})})),t={};try{e&&(t=JSON.parse(e),Object.keys(t).forEach((e=>{Date.now()-t[e]>864e5&&delete t[e]})))}catch(e){}return t}))()}setCacheToday(e){var t=this;return _e()((function*(){var r=yield t.getCacheToday();jG({key:XU,data:JSON.stringify(Object.assign(r,{[e]:Date.now()}))})}))()}}const UG=function(){return NG||(NG=new WG)};x.default.onReady((()=>{(0,Qe.J)("gameLaunchPopupView")&&UG()}));var GG="MiniGameGift",VG=new SF.v,$G={};function qG(e){e.ExternInfo=encodeURIComponent(JSON.stringify(Object.assign({},$G,e.ExternInfo))),VG.send(e)}function zG(e){VG.setBase({SceneID:67,UIArea:6701,AppId:x.default.accountInfo.appId}),qG({PositionID:1,ActionID:1,ExternInfo:{url:e,jumpType:0===e.indexOf("https://game.weixin.qq.com/")?1:2}})}function HG(e){qG({PositionID:1,ActionID:4,ExternInfo:{url:e,jumpType:0===e.indexOf("https://game.weixin.qq.com/")?1:2}})}var KG=0,JG=new kF.n({pluginAppId:`wxapplib_${GG}`,pluginVersion:"1.1.0"}),QG={};function YG(e,t){JG.report({Type:CF.jJ.Error,CostTime:Date.now()-KG,Target:`${GG}LoadError`,Result:e,IsError:t?1:0,...QG})}const ZG={presetChars:{0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625},font:{iOSFont:"PingFangSC-Regular, SF Pro Display, SF Pro Text"}};var XG=(e,t)=>{var r=e.split(""),a=0;return r.forEach((e=>{var r=((e,t)=>(ZG.presetChars[e]>0?ZG.presetChars[e]:10)*t/10)(e,t);a+=r})),a},eV=(e,t,r=!0)=>{var a=e;r&&(a.on("touchstart",(()=>{a.style.opacity=.5})),a.on("touchend",(()=>{a.style.opacity=1}))),a.on("click",(e=>{(e=>{var t=e.absoluteX,r=e.absoluteY,a=e.absoluteEndX,n=e.absoluteEndY,i=e.pressInterval,o=!1;return Math.abs(n-r)<30&&Math.abs(a-t)<30&&i<300&&(o=!0),o})(e)&&t()}))};var tV=new fw.Group,rV=0;function aV(){null==tV||tV.update(),rV=requestAnimationFrame(aV)}var nV,iV="ease-out";class oV extends Lm.wA{constructor(){super(),this.isDestroyed=!1,this.renderBodyTop=0,this.renderBodyLeft=0,this.renderSmallLeft=0,this.renderSmallWidth=0,this.deviceOrientationChangeFn=void 0,this.isAnimating=!0;var e=(0,Lm.Wj)(this);e.xom="",e.style=""}init(e){var t=(0,Lm.Wj)(this),{template:r,style:a,renderBodyTop:n,renderSmallLeft:i,renderBodyLeft:o,renderSmallWidth:s}=function(e){var t=(0,un.getSystemInfoSync)(),r=(0,pg.zC)(),{screenWidth:a=0,screenHeight:n=0,deviceOrientation:i}=t;z.DD&&(r.left=a,r.top=10);var o=a;a<n&&"landscape"===i&&(o=n);var s=o-(r.left-20),l=r.top,c=r.height||32,u=o-s-24;u>280&&(u=280);var d=u-72,p=o-u-s,h=XG(e.title||"",13)+2,f=h+44,g=u-f,v=o-s-f;o<375&&(d=96);var m={body:{position:"absolute",top:-68,left:p,width:u,height:64,zIndex:999999},background:{position:"absolute",left:0,top:0,width:u,height:64,backgroundColor:"#404040E6",borderColor:"rgba(255, 255, 255, 0.25)",borderRadius:c/2,borderWidth:.5},big:{position:"absolute",left:0,top:0,width:u,height:64},icon:{position:"absolute",top:8,left:8,width:48,height:48},info:{position:"absolute",top:11,left:64,width:d,height:53},title:{fontSize:16,color:"#ffffff",lineHeight:22,width:d,height:22},desc:{fontSize:14,lineHeight:20,width:d,height:20,color:"#ffffff",opacity:.5,lineBreak:"ellipsis",overflow:"hidden"},small:{position:"absolute",left:g,top:0,width:f,height:c},iconSmall:{position:"absolute",left:8,top:(c-20)/2,width:20,height:20,opacity:0},titleSmall:{position:"absolute",left:32,top:(c-20)/2,color:"#ffffff",fontSize:13,lineHeight:20,height:20,width:h,opacity:0}};return{template:`\n    <view id="body">\n      <view id="background" bubble-event="true"></view>\n      <view id="big" bubble-event="true">\n        <image id="icon" bubble-event="true" src="${e.icon}"></image>\n        <view id="info" bubble-event="true">\n          <text id="title" bubble-event="true" value="${e.title}"></text>\n          <text id="desc" bubble-event="true" value="${e.desc}"></text>\n        </view>\n      </view>\n      <view id="small" bubble-event="true">\n        <image id="iconSmall" bubble-event="true" src="${e.icon}"></image>\n        <text id="titleSmall" bubble-event="true" value="${e.title}"></text>\n      </view>\n    </view>\n  `,style:m,renderBodyTop:l,renderSmallLeft:g,renderBodyLeft:v,renderSmallWidth:f}}(e),{root:l}=ov()(r);return this.renderBodyTop=n,this.renderSmallLeft=i,this.renderBodyLeft=o,this.renderSmallWidth=s,Lm.S1.call(this,l,a),Rm.u.add(t.body),this.deviceOrientationChangeFn=()=>{this.deviceOrientationChange()},(0,hn.Qq)(this.deviceOrientationChangeFn),(0,Nm.KN)(this.deviceOrientationChangeFn),(0,pg.pP)(this.deviceOrientationChangeFn),t.body.ready()}show(e){if(!this.isDestroyed){var t=(0,Lm.Wj)(this),{body:r}=t;r.style.hidden=!1,e?(0,AF.gw)((()=>{this.isDestroyed||(r.animate({top:this.renderBodyTop,duration:500,easing:iV}),(0,AF.gw)((()=>{this.scale()}),e))}),100):r.style.top=this.renderBodyTop}}hide(){var{body:e}=(0,Lm.Wj)(this);e.style.hidden=!0}hideWithAnimation(){return new Promise((e=>{var t=(0,Lm.Wj)(this),{body:r}=t;r.style.hidden?e(!0):(0,AF.gw)((()=>{this.isDestroyed||(r.animate({top:-10-r.style.height,duration:500,easing:iV}),(0,AF.gw)((()=>{this.hide(),e(!0)}),100))}),100)}))}bindEvent(e){if(!this.isDestroyed){var t=(0,Lm.Wj)(this),{big:r,small:a,icon:n,info:i,iconSmall:o,background:s,title:l,titleSmall:c,desc:u}=t;[r,a,n,i,o,s,l,c,u].forEach((t=>{eV(t,e,!1)}))}}destroy(){this.isDestroyed=!0;var e=(0,Lm.Wj)(this);e.body.style.hidden=!0,Rm.u.remove(e.body),(0,Lm.bn)(this),(0,hn.tR)(this.deviceOrientationChangeFn),(0,pg.Bt)(this.deviceOrientationChangeFn)}deviceOrientationChange(){(0,un.getSystemInfo)({success:e=>{var t=(0,pg.zC)(),{screenWidth:r,screenHeight:a,deviceOrientation:n}=e;z.DD&&(t.left=r,t.top=10);var i=r;r<a&&"landscape"===n&&(i=a);var o=i-(t.left-20);this.renderBodyTop=t.top,this.renderBodyLeft=i-o-this.renderSmallWidth,this.resetPos()}})}resetPos(){if(!this.isDestroyed){var e=(0,Lm.Wj)(this);if(e){var{body:t}=e;!this.isAnimating&&t&&(t.style.left!==this.renderBodyLeft&&(t.style.left=this.renderBodyLeft),t.style.top!==this.renderBodyTop&&(t.style.top=this.renderBodyTop))}}}scale(){if(!this.isDestroyed){var e=(0,Lm.Wj)(this);if(e){var{body:t,big:r,small:a,desc:n,title:i,icon:o,background:s,titleSmall:l,iconSmall:c}=e,u=r.style.width,d=r.style.height,p=a.style.width,h=a.style.height,f=400;rV=requestAnimationFrame(aV),function(e,t,r,a){new fw.Tween(e,tV).to(t,r).easing(fw.Easing.Quadratic.Out).onComplete((()=>{null==a||a()})).start()}(s.style,{width:p,height:h,left:this.renderSmallLeft},f,(()=>{setTimeout((()=>{rV&&(cancelAnimationFrame(rV),rV=0)}),100)})),r.animate({opacity:0,scaleWidth:p/u,scaleHeight:h/d,left:(p-u)/2+this.renderSmallLeft,top:(h-d)/2,duration:f,easing:iV}),o.animate({opacity:0,duration:f,easing:iV}),n.animate({opacity:0,duration:f,easing:iV}),i.animate({opacity:0,duration:f,easing:iV}),(0,AF.gw)((()=>{this.isDestroyed||(l.animate({opacity:.8,duration:f/3,easing:iV}),c.animate({opacity:1,duration:f/3,easing:iV}),c.nextLayout().then((()=>{setTimeout((()=>{t.autoLayout=!1,s.autoLayout=!1,a.autoLayout=!1,s.style.left=0,s.style.width=p,s.style.height=h,a.style.left=0,t.style.width=p,t.style.height=h,this.isAnimating=!1,this.resetPos(),setTimeout((()=>{Rm.u.layout(!1),this.active(3)}),0)}),0)})))}),f/3*2)}}}active(e){if(!this.isDestroyed){var t=(0,Lm.Wj)(this),{iconSmall:r}=t;r.animate({top:4,duration:150,easing:iV}),r.nextLayout().then((()=>{this.isDestroyed||(r.animate({top:6,duration:150,easing:"ease-in"}),r.nextLayout().then((()=>{if(e>1)this.active(e-1);else{var{body:r,small:a,background:n}=t;r.autoLayout=!0,n.autoLayout=!0,a.autoLayout=!0,this.deviceOrientationChange()}})))}))}}}class sV{constructor(){this.giftView=void 0,this.firstShow=!0,this.cutieType=void 0,this.webview=void 0,this.cacheByPass="",this.response=void 0,this.byPass=void 0,null==MF||MF.pushCutie(this),KG=Date.now(),JG.report({Type:CF.jJ.Info,Target:`${GG}Init`,...QG})}reShow(e){this.loadData({})}show(e,t,r=!1){null==e||e.scene,this.byPass=t,this.response=e;var a={appid:x.default.accountInfo.appId,scene:e.scene};if(t)a.bypass=t,1095===e.scene&&(a.ad_scene_data={wx_aid:e.query.wx_aid,wx_traceid:e.query.wx_traceid});else if(!this.firstShow)return;if(function(e,t){Object.assign(QG,{CustomKey1:e,CustomKey2:t})}(`${e.scene}`,t||""),this.giftView)YG("已存在礼包广告",!1);else{if(!r&&t&&this.cacheByPass&&0===t.indexOf(this.cacheByPass))return this.cacheByPass="",void YG("已显示过该广告",!1);this.firstShow=!1,JG.report({Type:CF.jJ.Info,CostTime:Date.now()-KG,Target:`${GG}LoadData`,...QG}),this.loadData(a)}}loadData(e){rW([HF.CUTIE_TYPE_BUBBLE,HF.CUTIE_TYPE_H5],e).then((e=>{var t,r,a,n,i,o,s,l,c,u,d,p,h,f,g,v,m,y;if(e&&e.length>0&&([y]=e),this.cutieType=null===(t=y)||void 0===t||null===(r=t.cutie)||void 0===r?void 0:r.cutie_type,this.cutieType===HF.CUTIE_TYPE_BUBBLE){if(!(y&&y.cutie&&y.extra_info&&y.cutie.jump_url&&y.cutie.title&&y.extra_info.bubble_info))return}else{if(this.cutieType!==HF.CUTIE_TYPE_H5)return;if(!(y&&y.cutie&&y.cutie.jump_url&&y.cutie.title))return}JG.report({Type:CF.jJ.Info,CostTime:Date.now()-KG,Target:`${GG}LoadSuccess`,...QG});var _=this.cutieType===HF.CUTIE_TYPE_H5&&!(null!==(a=y)&&void 0!==a&&null!==(n=a.cutie)&&void 0!==n&&n.interact_pop_up_open_style),b={id:y.cutie.cutie_id,url:y.cutie.jump_url,icon:y.cutie.icon||"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20230327/145748/gift_icon_big.png",title:y.cutie.title,desc:y.cutie.desc||"",stayTime:_?-1:y.duration_ms||1500,byPass:this.byPass,openWay:null!==(i=y.cutie.open_way)&&void 0!==i?i:BG.OPEN_WAY_DEFAULT_H5,extraInfo:null!==(o=null===(s=y.extra_info)||void 0===s||null===(l=s.direct_apply_bypass_info)||void 0===l?void 0:l.extra_info)&&void 0!==o?o:"",preload:null!==(c=y.cutie.preload)&&void 0!==c&&c};this.render(b,{giftId:null===(u=y.extra_info)||void 0===u||null===(d=u.bubble_info)||void 0===d?void 0:d.gift_id,scene:this.response.scene,informType:null===(p=y.extra_info)||void 0===p||null===(h=p.bubble_info)||void 0===h?void 0:h.bubble_type,informSource:null===(f=y.extra_info)||void 0===f||null===(g=f.bubble_info)||void 0===g?void 0:g.bubble_source,advertiseType:null!==(v=null===(m=this.response.referrerInfo.privateExtraData)||void 0===m?void 0:m.advertiseType)&&void 0!==v?v:this.response.query.advertiseType}).then((()=>{_?this.onGiftButtonClick(b):UF(jF.pv)}))})).catch((e=>{YG((0,AF.bV)(e),!0)}))}hide(){return new Promise((e=>{this.giftView?this.giftView.hideWithAnimation().then((()=>{this.destroy(),this.cutieType===HF.CUTIE_TYPE_H5?FF(BF.LaunchScreen,11010201,1,jF.autoClose):FF(BF.Gift,11010101,1,jF.autoClose),e(!0)})):e(!0)}))}render(e,t){return new Promise((r=>{this.giftView=new oV,this.giftView.init(e).then((()=>{this.giftView&&(!function(e){Object.assign($G,e)}({aid:e.id,giftid:t.giftId,scene:t.scene,advertisetype:t.advertiseType,informtype:t.informType,informsource:t.informSource,openway:e.openWay}),aW(KF.REPORT_TYPE_EXPOSURE,e.id),zG(e.url||""),JG.report({Type:CF.jJ.Info,CostTime:Date.now()-KG,Target:`${GG}CreateSuccess`,...QG}),e.url&&e.openWay===BG.OPEN_WAY_DEFAULT_WEBVIEW&&e.preload&&OG(e.url),this.giftView.bindEvent((()=>{this.onGiftButtonClick(e)})),this.cutieType===HF.CUTIE_TYPE_H5?FF(BF.LaunchScreen,11010201,1,jF.pv):FF(BF.Gift,11010101,1,jF.pv),this.giftView.show(e.stayTime||1500),r(!0))})).catch((e=>{YG((0,AF.bV)(e),!0),this.destroy()}))}))}onGiftButtonClick(e){if(aW(KF.REPORT_TYPE_CLICK,e.id),this.cutieType===HF.CUTIE_TYPE_H5?FF(BF.LaunchScreen,11010201,1,jF.click):FF(BF.Gift,11010101,1,jF.click),function(e){qG({PositionID:1,ActionID:2,ExternInfo:{url:e,jumpType:0===e.indexOf("https://game.weixin.qq.com/")?1:2}})}(e.url||""),this.cutieType===HF.CUTIE_TYPE_BUBBLE?(UF(jF.click),this.destroy()):this.cutieType===HF.CUTIE_TYPE_H5&&this.setVisible(!1),e.url)if(this.cutieType===HF.CUTIE_TYPE_H5?FF(BF.LaunchScreen,11010201,1,jF.success):FF(BF.Gift,11010101,1,jF.success),e.openWay===BG.OPEN_WAY_DEFAULT_WEBVIEW){if(this.webview)return void this.webview.show();var t=xG({url:e.url,cutieId:e.id||"",name:GG,extraInfo:e.extraInfo});null==t||t.on("close",(()=>{this.destroy()})),null==t||t.on("hide",(e=>{var r;"destroy"!==((null===(r=e.params)||void 0===r?void 0:r.value)||"destroy")?this.webview=t:this.webview&&delete this.webview,this.setVisible(!0)})),HG(e.url||"")}else this.cacheByPass=e.byPass,(0,Jb.n8)({url:e.url,success:()=>{HG(e.url||"")},fail:()=>{!function(e){qG({PositionID:1,ActionID:5,ExternInfo:{url:e}})}(e.url||"")}})}destroy(){this.giftView&&(JG.report({Type:CF.jJ.Info,CostTime:Date.now()-KG,Target:`${GG}ViewDestroy`,...QG}),this.giftView.destroy(),delete this.giftView,this.webview&&delete this.webview)}setVisible(e=!0){this.giftView&&(e?this.giftView.show():this.giftView.hide())}}const lV=function(){return nV||(nV=new sV)};var cV,uV=!1;x.default.onReady((e=>{var t=(e,t=!1)=>{var r,a;cV||(cV=lV());var n=null!==(r=null===(a=e.referrerInfo.privateExtraData)||void 0===a?void 0:a.gift_bypass)&&void 0!==r?r:e.query.gift_bypass;n?cV.show(e,n,t):(0,Qe.J)("gameWelfareView")&&cV.show(e)};if("portrait"!==e.deviceOrientation){var r=function(){uV||(uV=!0,setTimeout((()=>{(0,Ac.dN)(t),t(Ev(),!0)}),1e3),(0,hn.tR)(r))};(0,hn.Qq)(r),setTimeout((()=>{r()}),2e3)}else setTimeout((()=>{(0,Ac.dN)(t),t(Ev(),!0)}),1e3)}));var dV=new SF.v;var pV="MiniGameTip",hV=0,fV=new kF.n({pluginAppId:`wxapplib_${pV}`,pluginVersion:"1.1.0"});function gV(e){fV.report({Type:CF.jJ.Error,CostTime:Date.now()-hV,Target:`${pV}TipLoadError`,Result:e,IsError:1})}function vV(e){fV.report({Type:CF.jJ.Error,CostTime:Date.now()-hV,Target:`${pV}ThreeLoadError`,Result:e,IsError:1})}var mV,yV=function(e){return e[e.PC_TIPS_GUIDE=1]="PC_TIPS_GUIDE",e[e.PC_TIPS_WELFARE=2]="PC_TIPS_WELFARE",e}(yV||{});class _V{constructor(){hV=Date.now(),fV.report({Type:CF.jJ.Info,Target:`${pV}Init`}),rW(HF.CUTIE_TYPE_PC_TIPS).then((e=>{var t;e&&e.length>0&&([t]=e),t&&t.cutie&&t.extra_info&&(fV.report({Type:CF.jJ.Info,CostTime:Date.now()-hV,Target:`${pV}TipLoadSuccess`}),(0,Q.IN)("showMenuTips",{content:t.cutie.title,duration:t.duration_ms||5e3,success:()=>{var e,r,a,n,i,o,s=(null===(e=t)||void 0===e||null===(r=e.extra_info)||void 0===r||null===(a=r.tips_info)||void 0===a?void 0:a.tips_type)||0;o=s,dV.send({SceneID:61,UIArea:6101,PositionID:o,ActionID:1}),aW(KF.REPORT_TYPE_EXPOSURE,null===(n=t)||void 0===n||null===(i=n.cutie)||void 0===i?void 0:i.cutie_id),fV.report({Type:CF.jJ.Info,CostTime:Date.now()-hV,Target:`${pV}TipRenderSuccess`}),s===yV.PC_TIPS_GUIDE&&new Promise(((e,t)=>{(0,Mo.ip)({req_path:"wxaguserbehavdata.pushwxaguserdata",data_type:1,data:JSON.stringify({appid:x.default.accountInfo.appId,is_pc_close_desktop_guide:!0}),success(t){var{data:r}=t;e(r)},fail(e){t(e)}})}))},fail:e=>{gV((0,AF.bV)(e))}}))})).catch((e=>{gV((0,AF.bV)(e))})),rW(HF.CUTIE_TYPE_PC_THREE_DOTS).then((e=>{var t;if(e&&e.length>0&&([t]=e),t&&t.cutie&&t){fV.report({Type:CF.jJ.Info,CostTime:Date.now()-hV,Target:`${pV}ThreeLoadSuccess`});var r=t.cutie.jump_url;r?((0,Q.IN)("showGameWelfareButton",{success:()=>{!function(e,t){dV.send({SceneID:61,UIArea:6102,PositionID:e,ActionID:1,ExternInfo:encodeURIComponent(JSON.stringify({url:t}))})}(2,r),fV.report({Type:CF.jJ.Info,CostTime:Date.now()-hV,Target:`${pV}ThreeRenderSuccess`})},fail:e=>{vV((0,AF.bV)(e))}}),(0,Q.jQ)("onGameWelfareButtonPressed",(()=>{!function(e,t){dV.send({SceneID:61,UIArea:6102,PositionID:e,ActionID:2,ExternInfo:encodeURIComponent(JSON.stringify({url:t}))})}(2,r),(0,Jb.n8)({url:`${r}#wechat_redirect`,success:()=>{fV.report({Type:CF.jJ.Info,CostTime:Date.now()-hV,Target:`${pV}OpenUrlSuccess`})},fail:e=>{!function(e){fV.report({Type:CF.jJ.Info,CostTime:Date.now()-hV,Target:`${pV}OpenUrlFail`,Result:e,IsError:1})}((0,AF.bV)(e))}})}))):vV("getCutieInfo jump_url error")}})).catch((e=>{vV((0,AF.bV)(e))}))}}const bV=function(){return mV||(mV=new _V)};var wV;z.DD&&x.default.onReady((()=>{var e=()=>{new Promise((e=>{wV?e(wV):(0,un.getSystemInfo)({success:t=>{e(wV=t)}})})).then((()=>{bV()})),(0,Ac.Tb)(e)};(0,Ac.dN)(e)}));class IV extends Lm.wA{constructor({id:e,name:t,style:r={}}={}){super();var a=(0,Lm.Wj)(this);a.style=r,a.uiEngine=new ZU(a,this),a.act_id=e,a.comp_id=t,a.emitter=new Ww.Z,a.destroyPromise=null,a.reporter=new EU(a),this.isDestroyed=!1,this.ready=!1,this.id=e,this.name=t,kU.call(this).catch((()=>{}))}offClose(e){this.isDestroyed||(0,Lm.Wj)(this).emitter.off("close",e)}onClose(e){this.isDestroyed||(0,Lm.Wj)(this).emitter.on("close",e)}destroy(){return SU.call(this)}onLoad(e){this.isDestroyed||(0,Lm.Wj)(this).emitter.on("load",e)}onError(e){this.isDestroyed||(0,Lm.Wj)(this).emitter.on("error",e)}offLoad(e){this.isDestroyed||(0,Lm.Wj)(this).emitter.off("load",e)}onMessage(e,t){(0,Lm.Wj)(this).emitter.on(e,t)}offMessage(e,t){(0,Lm.Wj)(this).emitter.off(e,t)}invoke(e={}){if(this.isDestroyed)return Promise.reject(new Error("组件已经被销毁"));var t=(0,Lm.Wj)(this),{action:r}=e;return t.config&&t.config.flows&&t.config.flows.find((e=>e.id===r))?r&&t.uiEngine.oneFlowExec(r):Promise.reject(new Error(`action ${r} is not exist`))}}var SV=e=>new IV(e);(0,q.a)((e=>{globalThis.setTimeout=e.setTimeout,globalThis.clearTimeout=e.clearTimeout,globalThis.setInterval=e.setInterval,globalThis.clearInterval=e.clearInterval,globalThis.requestAnimationFrame=e.requestAnimationFrame,globalThis.cancelAnimationFrame=e.cancelAnimationFrame})),globalThis.GameGlobal=globalThis,GameGlobal.__isAdapterInjected=!1;var kV=()=>{},CV=(e,t)=>{if(e)if(void 0===t&&(t=1),"number"==typeof t){var r=JSON.stringify({business:"mmbizwxamonitor",name:e,value:t,timeStamp:Date.now()});(0,Q.IN)("reportRealtimeAction",{actionData:r,noCallback:!0})}else console.error("wx.reportMonitor: 'value' argument must be a Number.");else console.error("wx.reportMonitor: require 'name' argument.")},TV=(e={})=>{var t=Object.assign({},e),{name:r,packageType:a}=t;if("workers"===a)t.name="/workers.js";else{if(!(0,Q.r3)("loadSubPackage",t,{name:""}))return;if(rM(r))return void(0,Q.YG)("loadSubpackage",t,'argument "name" cannot be "workers.js"');var n=x.default.subPackages||x.default.subpackages;if(!n)return void(0,Q.YG)("loadSubpackage",t,"Your subpackages configuration is invalid.");var i=tM(r,n);if(null===i)return void(0,Q.YG)("loadSubpackage",t,`SubPackage with root "${t.name}" does not exist.`);if(t.name=i,aM(t.name,n))return void(0,Q.YG)("loadSubpackage",t,"cannot load playable ad package.")}try{return wM(t)}catch(e){return void(0,Q.YG)("loadSubpackage",t,e.message)}},PV={};function AV(){return AV=_e()((function*(e={}){if(!Array.isArray(e.packages))throw new Error("packages must be an array.");"all"!==e.network&&(e.network="wifi"),console.info("preloadSubpackages: "+e.packages.join(", "));var t=e.packages.filter((e=>!(e in PV)));if("all"!==e.network){var r=yield new Promise(((e,t)=>{var r=(0,rr._getCurrentNetworkType)();r?e(r):(0,rr.getNetworkType)({success(r){r.networkType?e(r.networkType):t(new Error("get network type failed."))},fail:t})}));if("wifi"!==r.toLowerCase())throw new Error(`network type does not match, '${r}' !== 'wifi'`)}var a=yield Promise.all(t.map((e=>new Promise((r=>{TV({name:e,success(){PV[e]=!0,r(t)},fail(t){var a=new Error(t.errMsg.replace("loadSubpackage:fail",""));a.packageName=e,r(a)}})})))));if(a=a.filter((e=>e instanceof Error)),a.length>0){var n=new Error("preload subpackages failed.");throw n._detail=a,n}})),AV.apply(this,arguments)}function EV(){return EV=_e()((function*(e){try{yield function(){return AV.apply(this,arguments)}(e),console.info("preloadSubpackages: success")}catch(e){e._detail?(console.group(`preloadSubpackages fail: ${e.message}`),e._detail.forEach((e=>{console.warn(`${e.packageName}: ${e.message}`)})),console.groupEnd()):console.warn(`preloadSubpackages fail: ${e.message}`)}})),EV.apply(this,arguments)}x.default.onReady((()=>{Wf((({path:e})=>{if(x.default.preloadRule&&x.default.preloadRule[e])return function(e){return EV.apply(this,arguments)}(x.default.preloadRule[e])}))}));var MV=(e={})=>{var t=Object.assign({},e),{packageType:r,name:a}=t;if("workers"===r)t.name="/workers.js";else{if(!(0,z.aI)())return void(0,Q.YG)("preDownloadSubpackage",t,"invalid packageType");if(!(0,Q.r3)("preDownloadSubpackage",t,{name:""}))return;if(rM(a))return void(0,Q.YG)("preDownloadSubpackage",t,'argument "name" cannot be "workers.js"');var n=x.default.subPackages||x.default.subpackages;if(!n)return void(0,Q.YG)("preDownloadSubpackage",t,"Your subpackages configuration is invalid.");var i=tM(a,n);if(null===i)return void(0,Q.YG)("preDownloadSubpackage",t,`SubPackage with root "${t.name}" does not exist.`);if(t.name=i,aM(t.name,n))return void(0,Q.YG)("preDownloadSubpackage",t,"cannot load playable ad package.");t.packageType="normal"}try{return new _W(t)}catch(e){return void(0,Q.YG)("preDownloadSubpackage",t,e.message)}},xV=(0,ua.Fr)(Ze._showModal),DV=p(9636),RV="RefreshRuntimeSession",LV=e=>{var t=0,r=0,a=()=>{++t>=e&&(0,Q.Qh)({apiName:RV,sdkApiName:RV,reqData:{}}).then((e=>{var{errMsg:t,respData:r}=e;if(0!==r.err_no)throw t;(0,DV._w)(a)})).catch((e=>{++r>=2&&(0,DV._w)(a)}))};(0,DV.bm)(a)},NV=e=>new Promise((t=>setTimeout(t,e)));class OV{constructor(e,t=!1){var r=286;this.orientation=e,this.animating=!1;var{screenWidth:a}=(0,un.getSystemInfoSync)(),n=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=t;var i=new FB.G({id:n,style:{position:"absolute",left:(a-r)/2,top:this.getTop(),width:r,height:38,backgroundColor:"#000000",opacity:0,zIndex:1000001,borderRadius:5,fixed:!(0,z.aI)()}}),o=new jw.x({id:n+1,style:{left:0,top:0,width:r,height:38,textAlign:"center",lineHeight:38,fontSize:15,color:"#ffffff"},value:`该${(0,z.aI)()?"小游戏":"小程序"}业务及数据已由新开发者承接`});i.add(o),Rm.u.add(i),this.banner=i,this.bannerWidth=r}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.7,duration:300})))).then((()=>(this.animating=!1,NV(5e3)))).then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>NV(3e3))).then((()=>Rm.u.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=(0,un.getSystemInfoSync)();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=(0,un.getSystemInfoSync)();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var BV=!1;(0,z.aI)()&&x.default.onReady((()=>{try{BV=x.default.appContactInfo.operationInfo.jsonInfo.misc_ban_info.minigame_freeze_status}catch(e){}BV?(0,Q.Qh)({sdkApiName:"informFreezed",apiName:"webapi_wxacloseinfo",reqData:{}}).then((e=>{var t=e.data;if(t.need_show&&t.svr_stoptimestamp){t.svr_stoptimestamp;var r=t.svr_stoptimestamp,a=new Date(1e3*r),n=a.getFullYear(),i=a.getMonth()+1,o=a.getDate();return xV({title:"提示",content:`本小游戏计划于 ${n}-${i}-${o} 下架，请及时处理充值所得道具，注意保护自身合法权益`,showCancel:!1})}})).catch((e=>{e.errMsg})).then((()=>ZP())):ZP(),setTimeout((()=>{((e,t)=>{var r=r=>{var a=r.data,{need_show:n,runtime_refresh_clicks:i}=a;if(i&&(0,z.er)()&&LV(i),n){var o=new OV(e,t);return o.show(),o}};(0,xo._F)()?new Promise((e=>{(0,xo.AL)({id:xo.GY.getSubjectalterInfo,success:t=>{e(r(t))},fail:()=>{e({})}})})):(0,Q.Qh)({sdkApiName:"getSubjectalterInfo",apiName:"getSubjectalterInfo",reqData:{}}).then((e=>r(e))).catch((e=>{f.error("informSubjectChange error",e)}))})(x.default.deviceOrientation,!0)}),3e3)}));var jV=!1,FV=0;wt.U.on("setLastTapTime",(e=>{FV=e})),wt.U.on("beforeTouchStart",(()=>{jV=!0,T_.startLimitCount||T_.allowStartLimitCount(),FV=Date.now()})),(0,ar.vv)((()=>{jV=!1,FV=0}));var WV=!0,UV=e=>{if(Tr("navigateToMiniProgram"))(0,Q.YG)("navigateToMiniProgram",e,"no permission");else if(WV){A_.navigateCount++;var t=T_.allowSkip;if(k_({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===FV?-2:Date.now()-FV}),3===t)jV?((0,kv.y4)(kv.F0.EVENT_CANVAS_BEFORE_JUMP_TO_APP),J_(e)):(0,Q.YG)("navigateToMiniProgram",e,"require user interaction");else{WV=!1,A_.bannedCount++;var{modalMessage:r,modalConfirm:a,constant:{modalCancel:n}}=T_;(0,Ze._showModal)({__sdk_inner_allowShowMoreLength__:!0,content:r,confirmText:a,cancelText:n,success(t){WV=!0,t.confirm?(T_.reportModalConfirm(),(0,f_.n)({url:T_.modalSkipLink}),(0,Q.YG)("navigateToMiniProgram",e,"navigate ability banned!")):(T_.reportModalCancel(),(0,Q.YG)("navigateToMiniProgram",e,"navigate ability banned!"))},fail(e){WV=!0,e.errMsg}})}}},GV=e=>{(0,Q.IN)("hideSplashScreen",e)},VV=1;x.default.onReady((()=>{["close","error","listening","message"].forEach((e=>{(0,Q.jQ)(`onUDPSocket${(0,ua.fm)(e)}`,(t=>{var{socketId:r}=t;delete t.socketId,(0,ua.fm)(e),(0,Y.s)(`jsapi-udp-${r}-${e}`).emit(t)}))}))}));class $V{constructor(e){var t;if(this._id=VV++,(0,Q.IN)("createUDPSocket",{socketId:this._id,type:"udp6"===e?"IPv6":"IPv4",fail(e){e.errMsg,t=e.errMsg}}),t)throw new Error(t);["close","error","listening","message"].forEach((e=>{var t=(0,Y.s)(`jsapi-udp-${this._id}-${e}`);this[`on${(0,ua.fm)(e)}`]=t.onMethod,this[`off${(0,ua.fm)(e)}`]=t.offMethod}))}bind(e){var t,r;if((0,Q.IN)("bindUDPSocket",{port:e,socketId:this._id,success(e){t=e.port},fail(e){r=e.errMsg}}),r)throw new Error(r);return t}setTTL(e){var t;if((0,Q.IN)("setUDPSocketTTL",{ttl:e,socketId:this._id,fail(e){t=e.errMsg}}),t)throw new Error(t)}send(e={}){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,(0,Q.IN)("sendUDPSocketMessage",Object.assign({},e,{socketId:this._id,message:t,success(e){},fail:({errMsg:e})=>{(0,Y.s)(`jsapi-udp-${this._id}-error`).emit({errMsg:`send: fail ${e}`})}}))}connect(){}write(e){this.send(e)}close(){var e;if((0,Q.IN)("closeUDPSocket",{socketId:this._id,fail(t){e=t.errMsg}}),e)throw new Error(e)}}var qV=p(3140),zV=(e,t)=>(0,Q.ZI)(e,`UDP.${t}`),HV=new WeakMap,KV=new WeakMap,JV=new WeakMap,QV=1;class YV{constructor(e){var t=q.Z.UDP;if(!t)return null;var r=new t;if(null===r)return null;var a=QV++;["close","error","listening","message"].forEach((e=>{var t=(0,Y.s)(`jsbinding-udp-${a}-${e}`);r[`on${e}`]=zV(((...r)=>{"message"===e&&r[0].remoteInfo&&(r[0].localInfo={address:r[0].remoteInfo.localaddress,family:r[0].remoteInfo.localfamily,port:r[0].remoteInfo.localport},delete r[0].remoteInfo.localaddress,delete r[0].remoteInfo.localfamily,delete r[0].remoteInfo.localport),t.emit(...r),"error"===e?(Ry("createUDPSocket.onError.callback",(0,Rt.M8)(),void 0,!1,Date.now(),0,r[0],0,!0,0),b.reportIDKey({key:"UDPError"})):"message"===e&&b.reportIDKey({key:"receiveUDPMessage"})}),`on${e}`),this[`on${(0,ua.fm)(e)}`]=t.onMethod,this[`off${(0,ua.fm)(e)}`]=t.offMethod})),HV.set(this,r),KV.set(this,a),JV.set(this,"udp6"===e?"IPv6":"IPv4")}bind(e){return(0,qV.P5)({functionName:"bindUDP",keyParam:"",result:1,costTime:0,errorMsg:"",statusCode:"",__skipDomainCheck__:!1,dataLength:0,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0}),b.reportIDKey({key:"bindUDP"}),HV.get(this).bind({port:e,type:JV.get(this)})}setTTL(e){if(Number.isNaN(Number(e))){(0,Y.s)(`jsbinding-udp-${KV.get(this)}-error`).emit({errMsg:"set ttl fail: ttl must be a number.",errCode:-4})}else{var t=HV.get(this);"IPv6"===JV.get(this)?(t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_UNICAST_HOPS"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVHOPLIMIT"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVPKTINFO"),optionval:1})):(t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_TTL"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_PKTINFO"),optionval:1}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_RECVTTL"),optionval:Number(e)}))}}send(e={}){if((0,Qe.J)("UDP")){var t,r=`udp://${e.address}`;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var a=HV.get(this);if(e.setBroadcast){var n=a.getMacro("SOL_SOCKET"),i=a.getMacro("SO_BROADCAST");n>=0&&i>=0&&a.setopt({level:n,option:i,optionval:1})}if(a.send(Object.assign({},e,{message:t})),Math.random()>.99){var o={setBroadcast:e.setBroadcast?1:0};(0,qV.P5)({functionName:"sendUDP",keyParam:r,result:1,costTime:0,errorMsg:"",statusCode:"",__skipDomainCheck__:!1,dataLength:(0,ua.Y6)(e.message),responseDataLength:0,profile:{},queueTime:0,extraData:o,uniqueId:"",isAsync:!0,errno:0,queueLength:0})}b.reportIDKey({key:"sendUDPMessage"})}else{(0,Y.s)(`jsbinding-udp-${KV.get(this)}-error`).emit({errMsg:"send socket fail: no permission",errCode:-3})}}connect(e={}){var t=HV.get(this);"function"==typeof t.connect&&t.connect(e)}write(e={}){if((0,Qe.J)("UDP")){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var r=HV.get(this);"function"==typeof r.write?r.write(Object.assign({},e,{message:t})):this.send(e)}else{(0,Y.s)(`jsbinding-udp-${KV.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}onConnect(e){HV.get(this).onconnect=zV(e,"onconnect")}close(){return HV.get(this).close()}}var ZV=(e="udp4")=>q.Z.UDP?new YV(e):new $V(e),XV=!1,e$=null,t$=null;(0,et.HM)((()=>{XV=!0})),Wf((()=>{XV=!1,e$&&(r$(e$),e$=null),t$&&(a$(t$),t$=null)}));var r$=e=>{(0,Q.r3)("addCard",e,{cardList:[]})&&(XV?e$=e:(0,Q.IN)("addCard",e))},a$=e=>{(0,Q.r3)("openCard",e,{cardList:[]})&&(XV?t$=e:(0,Q.IN)("openCard",e))},n$=(e={})=>{(0,Q.IN)("markScene",e)},i$=!1;(0,et.HM)((()=>{i$=!1})),(0,al.J)((()=>{i$=!1}));var o$=e=>{b.reportIDKey({key:"requestSubscribeMessageWithNative",force:!0});var t=Object.assign({},e);t.tmplIds=Array.from(new Set(e.tmplIds)),(0,Q.IN)("requestSubscribeMessage",t,{beforeAll(){i$=!1},beforeSuccess(){b.reportIDKey({key:"requestSubscribeMessageWithNativeSuccess",force:!0}),i$=!1},beforeFail(){b.reportIDKey({key:"requestSubscribeMessageWithNativeFail",force:!0})}})},s$=e=>{var t,r,a=e.tmplIds||[];if(0===a.length?(t="TmplIds can't be empty",r=10001):a.length>=4?(t="Templates count out of max bounds",r=20003):""===a[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof a[0]&&(t="Invalid template id",r=10004),t)return i$=!1,void(0,Q.YG)("requestSubscribeMessage",e,t,r);var n=a.map((e=>({TemplateId:e})));(0,Q.yD)({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:x.default.accountInfo.appId,ActionType:1,ItemList:n},success(t){var r=(t.data.InfoList||[])[0]||{};if(r.TemplateId!==a[0])return i$=!1,void(0,Q.FE)({name:"requestSubscribeMessage",args:e,res:{[a[0]]:"ban"}});var n="订阅一次以下消息通知";3===r.TemplateType&&(n="长期订阅以下消息通知"),(0,Ze.showModal)({title:n,content:r.Title||"",confirmText:"允许",cancelText:"取消",success(t){i$=!1,l$(e,t)},fail(t){i$=!1,(0,Q.YG)("requestSubscribeMessage",e,t.errMsg)}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();(0,Q.YG)("requestSubscribeMessage",e,r,+t.err_code),i$=!1}})},l$=(e,t)=>{var r=e.tmplIds[0];(0,Q.yD)({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:x.default.accountInfo.appId,ActionType:2,UIData:{OpType:t.confirm?1:2,UIItem:[{TemplateId:r,ChooseStatus:1}]}},success(){var a={};a[`${r}`]=""+(t.confirm?"accept":"reject"),(0,Q.FE)({name:"requestSubscribeMessage",args:e,res:a}),fr({name:"requestSubscribeMessage",data:{templateCount:1,templateType:0,operationType:t.confirm?1:2}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();(0,Q.YG)("requestSubscribeMessage",e,r,+t.err_code)}})},c$=(0,ua.P2)((e=>{if(i$)(0,Q.YG)("requestSubscribeMessage",e,"last call has not ended");else{if(!(0,Q.r3)("requestSubscribeMessage",e,{tmplIds:[]}))return;i$=!0,z.gm?s$(e):o$(e)}}),1e3),u$=e=>{(0,ln.Vt)()?c$(e):(0,Q.YG)("requestSubscribeMessage",e,"require user interaction (only in touchend event)")},d$="getWhatsNewSubscriptionsSetting",p$=(e={})=>{var{success:t,fail:r,failWithMsg:a}=(0,Q.Rn)(e,d$);(0,Qe.J)("requestSubscribeWhatsNew")?(0,Q.yD)({sdkApiName:d$,apiName:"webapi_game_query_subscribe_whats_new",reqData:{msg_type:e.msgType||1},success(e){t({status:e.data.status})},fail:r}):a({code:4,msg:""})},h$=({action:e})=>{var t=Ev(),r=[t.scene||"",t.scene_note||"",t.sessionid||t.sessionId||"",e].join(",");b.reportKeyValue({key:"GameWhatsNew",value:r})},f$="requestSubscribeWhatsNew",g$=!1;function v$(){return new Promise((e=>{h$({action:2});var t=Fm({title:"接收游戏更新提醒",content:`${x.default.accountInfo.nickname}更新时，你将收到微信小游戏的提醒`,confirmText:"接收",cancelText:"取消",confirm(){t.destroy(),e({confirm:!0}),h$({action:4})},cancel(){t.destroy(),e({confirm:!1}),h$({action:3})},style:{title:{fontSize:17,color:"#1b1b1b"},content:{fontSize:14,color:"#d4d4d4",lineHeight:19.6,marginTop:16,marginBottom:0},confirm:{backgroundColor:"#FA9D3B"},cancel:{color:"#FA9D3B"}}})}))}function m$(e={}){g$?(0,Q.YG)(f$,e,"please invoke after last subscription ended"):(g$=!0,(0,ln.UP)().then((()=>function(e={}){return new Promise(((t,r)=>{h$({action:1}),(0,Qe.J)("requestSubscribeWhatsNew")?p$({msgType:e.msgType,success(e){1===e.status?t():r({errCode:e.status})},fail(e){r(e)}}):r({errCode:4})}))}(e))).then(v$).then((t=>t.confirm?function(e={}){return new Promise(((t,r)=>{(0,Q.yD)({apiName:"webapi_game_subscribe_whats_new",reqData:{msg_type:e.msgType||1},success(e){var a=e.data,{errcode:n}=a;0===n?t({confirm:!0}):r({errCode:n})},fail(e){r({errCode:e.errcode||e.errCode,errMsg:e.errMsg})}})}))}(e):t)).then((t=>{(0,Q.FE)({name:f$,args:e,res:t}),g$=!1})).catch((t=>{(0,Q.YG)(f$,e,t.errMsg||t.message,+(t.errCode||t.err_code)),g$=!1})))}var y$="互推组件已经废弃";class _${constructor(){console.warn(y$)}load(){return Promise.reject({errMsg:y$})}offResize(){}offClose(){}offError(){}offLoad(){}onClose(){}onError(){}onLoad(){}show(){return Promise.reject({errMsg:y$})}hide(){return Promise.reject({errMsg:y$})}destroy(){return Promise.reject({errMsg:y$})}onResize(){}}var b$=e=>new _$(e),w$=e=>new _$(e),I$=e=>new _$(e),S$=(0,Q.TG)("getUserInteractiveStorage","webapi_getuserinteractivedata",(({keyList:e=[]})=>({key:e}))),k$=e=>{var t=lv(e.keyList);t?(0,Q.YG)("getUserInteractiveStorage",e,t):(b.reportIDKey({key:"getUserInteractiveStorage"}),S$(e))},C$=(e={})=>{(0,Q.r3)("scanCode",e,{})&&(0,Q.IN)("scanCode",e,{beforeSuccess(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},T$=((0,Q.TG)("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=(e.products||[]).map((e=>({info:{title:e.info.title,category:e.info.category.map((e=>({name:e.name})))}})))})),(0,Q.TG)("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=e.products||[]})),()=>{if(!x.default.ext)return{};try{return JSON.parse(JSON.stringify(x.default.ext))}catch(e){return{}}}),P$=(e={})=>{setTimeout((()=>{var t={errMsg:"getExtConfig: ok",extConfig:T$()};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}),0)},A$=null,E$=!1,M$=()=>!0===E$||("function"!=typeof getProfiler?(void 0!==q.Z.Profiler&&(A$=q.Z.Profiler,E$=!0),!0):((A$=getProfiler())&&(E$=!0),!0)),x$=!1,D$=()=>(M$(),A$?(x$||(x$=!0,A$.startCpuProfiling()),!0):null),R$=()=>{if(M$(),!A$)return null;if(x$){x$=!1;var e=A$.stopCpuProfiling();return e}return null},L$=()=>(M$(),A$?A$.takeHeapSnapshot():null);function N$(e){for(var t="",r=0;r<e.length;){var a=e[r],n=0;a>>>7==0?(t+=String.fromCharCode(e[r]),r+=1):252==(252&a)?(n=(3&e[r])<<30,n|=(63&e[r+1])<<24,n|=(63&e[r+2])<<18,n|=(63&e[r+3])<<12,n|=(63&e[r+4])<<6,n|=63&e[r+5],t+=String.fromCharCode(n),r+=6):248==(248&a)?(n=(7&e[r])<<24,n|=(63&e[r+1])<<18,n|=(63&e[r+2])<<12,n|=(63&e[r+3])<<6,n|=63&e[r+4],t+=String.fromCharCode(n),r+=5):240==(240&a)?(n=(15&e[r])<<18,n|=(63&e[r+1])<<12,n|=(63&e[r+2])<<6,n|=63&e[r+3],t+=String.fromCharCode(n),r+=4):224==(224&a)?(n=(31&e[r])<<12,n|=(63&e[r+1])<<6,n|=63&e[r+2],t+=String.fromCharCode(n),r+=3):192==(192&a)?(n=(63&e[r])<<6,n|=63&e[r+1],t+=String.fromCharCode(n),r+=2):(t+=String.fromCharCode(e[r]),r+=1)}return t}var O$="START_CPU_PROFILE",B$="STOP_CPU_PROFILE",j$="TAKE_HEAP_SNAPSHOT",F$="PERFDOG_METHOD",W$="PERFDOG_METHOD_CALLBACK",U$="LAN_DEBUG_GET_DEVICE_INFO",G$="LAN_DEBUG_PLUGIN_GET_DEVICE_INFO",V$="OPEN",$$="CLOSED",q$="ERROR",z$="CONNECTING",H$="LAN_DEBUG_STATUS_CHANGE",K$=!1;function J$(e,t){var{model:r,version:a,system:n,SDKVersion:i}=(0,un.getStableSystemInfo)(),{accountInfo:o,isDevEdition:s}=x.default,{appId:l,nickname:c}=o,u={model:r,wechatVersion:a,system:n,SDKVersion:i,appId:l,nickname:c,isDevEdition:!!s};t(e,JSON.stringify(u))}function Q$(e,t,r){K$||(K$=!0,function(e){var t=p.g.LanDebug;t&&(z.aI||delete p.g.LanDebug,t.registerCallback?t.registerCallback(F$,((t,r)=>{e(W$,r)})):t.registerCallback)}(t),e(U$,(()=>{J$(U$,t)})),e(G$,(()=>{J$(G$,t)})),e(F$,(e=>{var r="undefined"!=typeof getPerfDog?getPerfDog():void 0,a="PerfDog not found";r&&r.handle&&(a=r.handle(F$,e)),t(W$,a)})),e(O$,(()=>{D$()})),e(B$,(()=>{var e=R$();z.wZ&&e&&(e.constructor.toString().includes("ArrayBuffer")?e=N$(new Uint8Array(e)):"object"==typeof e&&(e=JSON.stringify(e))),t(B$,e||"")})),e(j$,(()=>{setTimeout((()=>{var e=L$();if(t(`${j$}:PROGRESS`,JSON.stringify({data:"start"})),!e)return t(j$,""),t(`${j$}:PROGRESS`,JSON.stringify({data:"error"})),!1;if(e.on){var a=r(j$),n=!1;e.on("data",(e=>{n||(t(`${j$}:PROGRESS`,JSON.stringify({data:"data"})),n=!0),a.send(e.slice())})),e.on("end",(()=>{t(`${j$}:PROGRESS`,JSON.stringify({data:"end"})),a.end(new ArrayBuffer(0))})),e.on("error",(e=>{t(`${j$}:PROGRESS`,JSON.stringify({data:"error"})),a.end(new ArrayBuffer(0))})),e.flush()}return!0}),100)})))}var Y$,Z$=0,X$=(0,Gx.as)(),eq=null,tq=()=>eq||(eq=__protobufSDK__.getProtobuf()("\n  message LanDebugHeader {\n    required int32 version = 0;         // 版本，用于升级时兼容用\n    required string method = 1;         // 命令字，代表该包行为\n    required int32 id = 2;              // 命令序号，client端每次给server发命令可以弄一个自增序号，这样方便server处理isEnd。\n    required bool isString = 3;         // 若开发者传输的原始数据是string，需要标识，用于服务端处理\n    required string clientId = 4;       // 客户端会唯一生成一个ID\n    optional bool notEnd = 5;           // 若isEnd为true，代表这次命令已经发送完毕\n    optional string options = 6;        // 预留字段，后续可能会有一些用\n  }\n")),rq=()=>{Y$||(Y$=((e=6)=>{(e>=13||e<0)&&(e=13);for(var t=`${Date.now()}`.slice(-e).split(""),r=0;r<Math.floor(e/2);r++){var a=Math.floor(10*Math.random());t[r]="abcdefghij"[a]}return t.join("")})())},aq=new tt.Z,nq=null,iq=$$,oq="",sq=-1,lq=!1,cq=null,uq=null,dq=[],pq=[],hq=[];function fq(e){var t;try{if("object"!=typeof e)return Promise.resolve(!1);if("string"!=typeof e.ip||"string"!=typeof e.token)return Promise.resolve(!1);t=e}catch(e){return Promise.resolve(!1)}if(iq===V$&&uq)return Promise.resolve(uq);if(iq===z$)return nq;var{ip:r,port:a,token:n,useStaticServer:i=!1,mode:o}=t;lq=i,oq=r,sq=a,iq=z$;var s="mpHelper"===o?"MPHELPER":"LANDEBUG",l=(0,un.getStableSystemInfo)();return Q$(_q,mq,yq),nq=new Promise((e=>{rq(),(uq=X$.connectSocket({url:`ws://${r}:${a}`,protocols:[`${encodeURI(`${s}#${l.system}_v${l.version}_${Y$}`)}||${n}`]})).onOpen((()=>{uq.send({data:"ping",success(){dq.forEach((e=>{bq(e)}))},fail(e){}}),iq=V$,aq.emit(H$,iq),e(uq)})),uq.onMessage((e=>{if(!(e.data&&"pong"===e.data||e.data.length<4||"string"==typeof e.data)){var t,r=new Uint8Array(e.data),a=r.slice(0,4),n=new Uint32Array(a)[0],i=r.slice(4,4+n);try{t=tq().LanDebugHeader.decode(i)}catch(e){return e.message,void e.stack}var o,{isString:s,method:l}=t;if(s)o=N$(r.slice(4+n));else o=r.slice(4+n).buffer;aq.emit(l,o)}})),uq.onClose((()=>{gq($$),hq.forEach((e=>{Iq(e)}))})),uq.onError((e=>{gq(q$),cq=e,pq.forEach((e=>{wq(e)}))}))})),nq}function gq(e){iq=e,aq.emit(H$,iq),oq="",sq=-1,lq=!1,uq=null}function vq(e,t,r="",a){if(void 0===r||"string"!=typeof r&&!r.constructor.toString().includes("ArrayBuffer"))return!1;var n=!1;return nq?("string"==typeof r&&(n=!0,r=function(e){for(var t,r=[],a=e.length,n=0;n<a;n++)(t=e.charCodeAt(n))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);for(var i=new Int8Array(r.length),o=0;o<r.length;o++)i[o]=r[o];return i.buffer}(r)),nq.then((i=>new Promise((o=>{if(!i)return o({errMsg:"sendSocketMessage:fail no client"});rq();var s=tq().LanDebugHeader.encode(Object.assign({version:2,method:t,id:e,isString:n,clientId:Y$,options:JSON.stringify({isDevEdition:x.default.isDevEdition})},a?{notEnd:!0}:{})),l=new Uint32Array([s.length]);i.send({data:new Uint8Array([...new Uint8Array(l.buffer),...new Uint8Array(s.buffer),...new Uint8Array(r)]).buffer,success(e){o(e)},fail(e){o(e)}})}))))):Promise.resolve({errMsg:"sendSocketMessage:failed"})}var mq=function(e,t){return vq(Z$++,e,t)},yq=function(e){var t=Z$++;return{send:r=>vq(t,e,r,!0),end:(r=new ArrayBuffer(0))=>vq(t,e,r)}},_q=function(e,t){aq.on(e,t)},bq=function(e){try{e()}catch(e){e.message,e.stack}},wq=function(e){try{e(cq)}catch(e){e.message,e.stack}},Iq=function(e){try{e(cq)}catch(e){e.message,e.stack}},Sq={sendPackage:mq,sendStream:yq,onMessage:_q,offMessage:function(e,t){aq.off(e,t)},onReady:function(e){"function"==typeof e&&(iq===V$?bq(e):dq.push(e))},onError:function(e){"function"==typeof e&&(iq===q$?wq(e):pq.push(e))},onClose:function(e){"function"==typeof e&&(iq===q$?Iq(e):hq.push(e))},get status(){return iq},get ip(){return oq},get port(){return sq},get useStaticServer(){return lq}};Object.defineProperty(Sq,"_start",{get:()=>(...e)=>fq(...e)});(0,Ac.dN)((()=>{(e=>{setTimeout((()=>{var{ip:t,port:r,token:a,useStaticServer:n,useLanDebug:i}=(e.debugLaunchInfo||{}).lanDebugInfo||{};if((e.isDevEdition||i)&&(e.debugLaunchInfo,e.isDevEdition,t&&r&&a))return fq({ip:t,port:r,token:a,useStaticServer:n})}),500)})(x.default)}));var kq=(0,Q.TG)("getChannelsLiveState","webapi_getfinderviewlivestate",(({feedId:e,finderUserName:t,finderNickName:r})=>({finder_username:t,finder_nickname:r,export_id:e})),(e=>{e.liveInfoList=(e.live_info_list||[]).map((e=>({feedId:e.export_id,coverUrl:e.cover_url,thumbUrl:e.thumb_url,description:e.description,nickname:e.nickname,headUrl:e.head_url,status:e.status,nonceId:e.nonce_id}))),delete e.live_info_list})),Cq=(0,Q.TG)("getChannelsLiveReservation","webapi_getfinderviewlivereservation",(({noticeId:e})=>({notice_id:e}))),Tq=(0,Q.TG)("getChannelsLiveNoticeInfo","webapi_getfinerviewnoticeinfo",(({noticeId:e,finderUserName:t})=>({finder_username:t,notice_id:e})),(e=>{var[t,...r]=e.record_list||[];t&&(e.noticeId=t.notice_id,e.status=t.status,e.startTime=t.start_time,e.headUrl=t.head_url,e.nickname=t.nickname,e.reservable=t.can_reserve),e.otherInfos=r.map((e=>({noticeId:e.notice_id,status:e.status,startTime:e.start_time,headUrl:e.head_url,nickname:e.nickname,reservable:e.can_reserve}))),delete e.record_list}));function Pq(){if(void 0===nr.hr)return"";var e=nr.hr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function Aq(e,t,r,a="",n=0,i="",o="",s=0){var l=[e||"",Pq(),t,r,a,n,x.default.appType+1e3,i,o,s].map(encodeURIComponent).join(",");b.reportKeyValue({key:"WeAppToChannels",value:l})}(0,je.n)("onNavigateBackFromChannelsActivity",(e=>{(0,Q.nY)("onNavigateBackFromChannelsActivity",e)}));var Eq=(e,t)=>r=>{(0,ln.Vt)()?t(r):(0,Q.YG)(e,r,"require user interaction (only in touchend event)")},Mq=Eq("openChannelsLive",(function(e={}){(0,z.tK)()?function(e={}){(0,Q.IN)("openChannelsLive",e)}(e):OO(Object.assign({},e,{jsapi:"openChannelsLive",success({nickname:t,feedId:r,nonceId:a}){var n=t?`“${t}”`:"";(0,Ze._showModal)({title:`即将打开${n}视频号直播`,confirmText:"允许",cancelText:"取消",success({confirm:t}){if(t){var n=2;"release"===x.default.envVersion&&(n=1),"trial"===x.default.envVersion&&(n=3),(0,Q.IN)("openChannelsLive",Object.assign({},e,{feedId:r,nonceId:a,sceneNote:{scene:7,appid:x.default.accountInfo.appId,version_type:n}}),{beforeAll({errMsg:t}){Aq(e.finderUserName,1,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}})}else Aq(e.finderUserName,1,0,"cancel",5,e.feedId),(0,Q.YG)("openChannelsLive",e,"cancel")}})},fail({errMsg:t,errCode:r}){Aq(e.finderUserName,1,0,t,4,e.feedId),(0,Q.YG)("openChannelsLive",e,t,r)},complete:null}))})),xq=Eq("openChannelsActivity",(function(e={}){(0,z.tK)()?function(e={}){(0,Q.IN)("openChannelsActivity",e)}(e):OO(Object.assign({},e,{jsapi:"openChannelsActivity",success({nickname:t,nonceId:r}){var a=t?`“${t}”`:"";(0,Ze._showModal)({title:`即将打开${a}视频号视频`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?(0,Q.IN)("openChannelsActivity",Object.assign({},e,{nonceId:r}),{beforeAll({errMsg:t}){Aq(e.finderUserName,3,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}}):(Aq(e.finderUserName,3,0,"cancel"),(0,Q.YG)("openChannelsActivity",e,"cancel",5,e.feedId))}})},fail({errMsg:t,errCode:r}){Aq(e.finderUserName,3,0,t,4,e.feedId),(0,Q.YG)("openChannelsActivity",e,t,r)},complete:null}))})),Dq=Eq("openChannelsUserProfile",(function(e={}){(0,z.tK)()?function(e={}){(0,Q.IN)("openChannelsUserProfile",e)}(e):(0,Q.Qh)({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}).then((({data:t})=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";(0,Ze._showModal)({title:`即将打开${r}视频号`,confirmText:"允许",cancelText:"取消",success({confirm:r}){r?(0,Q.IN)("openChannelsUserProfile",Object.assign({},e,{finderUserName:null==t?void 0:t.encrpyt_finder_username}),{beforeAll({errMsg:t}){Aq(e.finderUserName,2,/^\w+:ok/.test(t)?1:0,t,4)}}):(Aq(e.finderUserName,2,0,"cancel",5),(0,Q.YG)("openChannelsUserProfile",e,"cancel"))}})})).catch((({errMsg:t,errno:r})=>{Aq(e.finderUserName,2,0,r||t,4),(0,Q.YG)("openChannelsUserProfile",e,r||t)}))})),Rq=Eq("openChannelsLiveCollection",(function(e={}){var t={appId:x.default.accountInfo.appId,openIds:e.openIds},r=encodeURIComponent(JSON.stringify(t));(0,Q.IN)("navigateToMiniProgram",{success:e.success,fail:e.fail,complete:e.complete,appId:"wx4bfd324d7e80de2e",path:"/pages/livecollection/index.html?bypass="+r+"&game_type=1&ssid=201",extraData:{entryScene:15,requestScene:(0,z.aI)()?5:4,pageTitle:(0,z.aI)()?"小游戏直播":void 0},privateExtraData:{sourceApi:"openChannelsLiveCollection"}},{beforeAll(e){e.errMsg=e.errMsg.replace(/^\w+/,"openChannelsLiveCollection"),Aq("",5,/^\w+:ok/.test(e.errMsg)?1:0,e.errMsg,4)}})})),Lq=Eq("openChannelsEvent",(function(e={}){Promise.all([(0,Q.Qh)({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}),(0,Q.Qh)({sdkApiName:"checkChannelsEvent",apiName:"webapi_checkfinderevent",reqData:{finder_username:e.finderUserName,event_id:e.eventId}})]).then((([{data:t}])=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";(0,Ze._showModal)({title:`即将打开${r}视频号活动`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?(0,Q.IN)("openChannelsTopic",Object.assign({},e,{topicType:7,eventEncryptedTopicId:e.eventId}),{beforeAll(t){t.errMsg=t.errMsg.replace("openChannelsTopic","openChannelsEvent"),Aq(e.finderUserName,6,/^\w+:ok/.test(t.errMsg)?1:0,t.errMsg,4)}}):(0,Q.YG)("openChannelsEvent",e,"cancel")}})})).catch((({errMsg:t,errno:r})=>{(0,Q.YG)("openChannelsEvent",e,r||t),Aq(e.finderUserName,6,0,r||t,4)}))})),Nq=Eq("reserveChannelsLive",(function(e={}){(0,Q.IN)("reserveChannelsLive",Object.assign({},e,{wxData:{appid:x.default.accountInfo.appId,apptype:x.default.appType,notice_id:e.noticeId}}),{beforeAll({state:t,errMsg:r}){Aq("",4,/^\w+:ok/.test(r)?1:0,r,2,"",e.noticeId,t)}})})),Oq="navigateToUserCenter",Bq=(0,ua.Fr)(f_.n),jq=null,Fq=!1,Wq=()=>(jq?Promise.resolve(jq):new Promise(((e,t)=>{(0,Q.yD)({sdkApiName:Oq,apiName:"webapi_getadcardrechargeinfo",reqData:{},success(r){var a=r.data;a.rechargeUrl?e(jq=a):t(a)},fail:t})}))).then((e=>{var t=e.rechargeUrl;return Bq({url:t,isNativeStyle:!0})})),Uq=(e={})=>{Fq?(0,Q.YG)(Oq,e,"please invoke after last navigate ended"):(Fq=!0,(0,ln.UP)().then((()=>((e={})=>{var{type:t}=e;return"adsSkipCard"===t?Wq():Promise.reject(new Error("invalid type"))})(e))).then((()=>((0,Q.FE)({name:Oq,args:e,res:{}}),Fq=!1,null))).catch((t=>{(0,Q.YG)(Oq,e,t.errMsg||t.message,t.errCode||t.err_code),Fq=!1})))},Gq="requestConsumeAdsSkipCard",Vq=(0,ua.Fr)(Ze._showModal),$q=!1;function qq({amount:e,subactionID:t}){b.reportKeyValue({key:"MidasFriendPayment",value:["",1,10,18,t,"","","","",(0,rr._getCurrentNetworkType)(),"","","","","","",encodeURIComponent(JSON.stringify({num:e}))].join(",")})}function zq(e){var{amount:t}=e;return qq({subactionID:1}),Vq({content:`使用 ${t} 张广告跳过卡`,confirmText:"确认",cancelText:"取消"}).then((r=>{if(r.confirm)return e;throw qq({amount:t,subactionID:7}),{errMsg:"cancel"}}))}function Hq({token:e,amount:t}){return(0,Q.Qh)({sdkApiName:"consume",apiName:"webapi_payadcardcostorder",reqData:{token:e}}).then((e=>{var r=e.data,{errMsg:a,errCode:n}=r;if(0===n)return qq({amount:t,subactionID:3}),(0,Ze.showToast)({icon:"none",title:`已消耗${t}张广告跳过卡`,duration:1e3}),r;throw qq({amount:t,subactionID:4}),(0,Ze.showToast)({icon:"none",title:"广告跳过卡使用失败，请重试",duration:2500}),{errMsg:a,errCode:n}})).catch((e=>{throw qq({amount:t,subactionID:4}),e}))}function Kq(e={}){$q?(0,Q.YG)(Gq,e,"please invoke after last request ended"):(0,Q.r3)(Gq,e,{orderNo:""})&&($q=!0,function(e={}){return(0,Q.Qh)({sdkApiName:"check",apiName:"webapi_getadcardcostorderpaypackage",reqData:{orderNo:e.orderNo}}).then((e=>{var{token:t,errCode:r,errMsg:a,amount:n}=e.data;if(t)return{token:t,amount:n};throw{errCode:r,errMsg:a}}))}(e).then(zq).then(Hq).then((()=>{$q=!1,(0,Q.FE)({name:Gq,args:e,res:{}})})).catch((t=>{$q=!1,void 0!==t.errCode||void 0!==t.err_code?(0,Q.YG)(Gq,e,t.errMsg||t.message,+(t.errCode||t.err_code||0)):(0,Q.YG)(Gq,e,t.errMsg||t.message)})))}var Jq=(0,Q.TG)("getAdsSkipCardSharePresentQuota","webapi_getadcardsharepresentquota",(()=>({})),(e=>{delete e.clientInfo})),Qq=(e={})=>{var{success:t,failWithMsg:r,fail:a}=(0,Q.Rn)(e,"getAdsSkipCardQuestInfo");(0,Q.yD)({reqData:{},apiName:"webapi_getadcardquestinfo",sdkApiName:"getAdsSkipCardQuestInfo",success(e){var{data:a}=e,{errCode:n,errMsg:i,balance:o,questInfoList:s}=a;0===n?t({balance:o,questInfoList:s}):r({msg:i,code:n})},fail:a})},Yq="getLatestUserKey";var Zq={getLatestUserKey:function(e){(function({contextId:e}={}){return(0,Q.Qh)({apiName:"webapi_getuserencryptkey",reqData:{},contextId:e}).then((e=>{var{encrypt_key:t,version:r,expire_in:a,iv:n}=e.data;return{encryptKey:t,version:r,expireTime:Date.now()+1e3*a,iv:n}}))})({contextId:e.contextId}).then((t=>((0,Q.FE)({name:Yq,args:e,res:t}),null))).catch((t=>{(0,Q.YG)(Yq,e,t.message||t.errMsg)}))},getRandomValues:(e={})=>{(0,Q.r3)("getRandomValues",e,{length:0})&&((!Number.isInteger(e.length)||e.length<=0||e.length>1048576)&&(0,Q.YG)("getRandomValues",e,"invalid length"),(0,Q.IN)("getRandomValues",e))}},Xq=()=>Zq,ez=()=>p.g.__debuggerMessager__?p.g.__debuggerMessager__:{};function tz(e={}){(0,Q.IN)("getGameLivePermission",Object.assign({},e),{beforeSuccess(e){e.isEnabled=1!==e.errCode,delete e.status,delete e.errCode},beforeAll(e){e.errMsg=e.errMsg.replace("getGameLivePermission","checkGameLiveEnabled")}})}var rz=!1;(0,ak.DT)((e=>{var{event:t}=e;1===t?rz=!0:0===t&&(rz=!1)}));var az=()=>({isLive:rz}),nz="getUserRecentGameLiveInfo",iz=(e={})=>{var{success:t,fail:r,failWithMsg:a}=(0,Q.Rn)(e,nz);(0,Qe.J)(nz)?(0,Q.yD)({sdkApiName:nz,apiName:"webapi_getuserrecentgameliveinfolist",reqData:{},success(e){var{feedIdList:r,errCode:n,errMsg:i}=e.data;Number.isInteger(n)&&0!==n?a({msg:i,code:n}):t({feedIdList:r||[]})},fail:r}):a({msg:"no permission"})},oz="getUserCurrentGameliveInfo",sz=(e={})=>{var{success:t,fail:r,failWithMsg:a}=(0,Q.Rn)(e,oz);az().isLive?(0,Qe.J)("getUserRecentGameLiveInfo")?(0,Q.yD)({sdkApiName:oz,apiName:"webapi_getusercurrentgameliveinfo",reqData:{},success(e){var{errCode:r,errMsg:n,feedId:i}=e.data;Number.isInteger(r)&&0!==r?a({msg:n,code:r}):t({feedId:i})},fail:r}):a({msg:"no permission"}):a({msg:"no live"})},lz="getUserGameLiveDetails",cz=(e={})=>{var{success:t,fail:r,failWithMsg:a}=(0,Q.Rn)(e,lz);(0,Qe.J)("getUserRecentGameLiveInfo")?(0,Q.yD)({sdkApiName:lz,apiName:"webapi_getusergamelivedetailinfo",reqData:{feedIdList:Array.isArray(e.feedIdList)?e.feedIdList:[]},success(e){var{data:r,iv:n,encryptedData:i,cloudID:o}=e,{errCode:s,errMsg:l}=r;Number.isInteger(s)&&0!==s?a({msg:l,code:s}):t({iv:n,encryptedData:i,cloudID:o})},fail:r}):a({msg:"no permission"})},uz=p(2464),dz=p(7061),pz=!1,hz=!1;function fz(e=!1,r=0,a=[]){var n,i,o=q.Z.saveV8CodeCacheWithTier;"function"==typeof o&&null!==(n=t)&&void 0!==n&&null!==(i=n.features)&&void 0!==i&&i.delayedServiceCodeCache&&(hz||(hz=e,pz||(pz=!0,setTimeout((()=>{Date.now();o(!1,hz,r,a),Date.now(),pz=!1}),0))))}o.onLoad((()=>{1===x.default.envPreloadType?setTimeout((()=>{fz(!1,1)}),0):x.default.onReady((()=>{fz(!1,2,["game.js"])}))}));var gz=p(9946),vz=!1,mz=1,yz=2,_z=0,bz=1,wz=2,Iz=3,Sz=4,kz=5,Cz=6,Tz="reportScene",Pz="dimension",Az="metric",Ez="release",Mz=[],xz=new uz.Z({reportFunc:b.reportKeyValue,logid:"WXGameSceneLaunchReport",protocolParams:["InstanceId","AppType","Scene","Path","IsDownloadCode","IsPatch","IsPreload","InitProcess","RunningState","BenchmarkLevel","NetworkType","SDKVersion","RuntimeType","SceneId","CostTime","RunTime","CustomInfo","CustomData","MaxConcurrentCount"],schemas:{InstanceId:dz.QD.STRING,AppType:dz.QD.UINT,Scene:dz.QD.UINT,Path:dz.QD.STRING,IsDownloadCode:dz.QD.UINT,IsPatch:dz.QD.UINT,IsPreload:dz.QD.UINT,InitProcess:dz.QD.UINT,RunningState:dz.QD.UINT,BenchmarkLevel:dz.QD.INT,NetworkType:dz.QD.STRING,SDKVersion:dz.QD.STRING,RuntimeType:dz.QD.UINT,SceneId:dz.QD.UINT,CostTime:dz.QD.UINT,RunTime:dz.QD.UINT,CustomInfo:dz.QD.STRING,CustomData:dz.QD.STRING,MaxConcurrentCount:dz.QD.UINT}}),Dz=()=>{vz=!0,(()=>{try{var e={InstanceId:x.default.instanceId||"",AppType:x.default.appType+1e3,Scene:x.default.appLaunchInfo.scene,Path:x.default.appLaunchInfo.path||"",IsDownloadCode:x.default.appLaunchInfo.downloadCode||0,IsPatch:x.default.appLaunchInfo.isPkgPatch||0,IsPreload:x.default.preloadType||x.default.appLaunchInfo.preloadType,InitProcess:x.default.appLaunchInfo.initProcess||0,RunningState:mz,BenchmarkLevel:(0,gz.$)()||-1,NetworkType:x.default.networkType||"unknown",SDKVersion:x.default.SDKVersion,RuntimeType:z.wZ?bz:z.cj?z.jP?Iz:wz:z.qB?Sz:z.Mq?kz:z.gm?Cz:_z,MaxConcurrentCount:x.default.wxAppInfo.maxRequestConcurrent||0};xz.setBase(e)}catch(e){console.error("[minigamefe reportScene]: ",e)}})(),(0,Ac.dN)((()=>{xz.setBase({RunningState:mz})})),(0,ar.vv)((()=>{xz.setBase({RunningState:yz})})),rr.onNetworkStatusChange((e=>{xz.setBase({NetworkType:e.networkType})}))},Rz=(e,t)=>{var r="";if(Object.keys(e).forEach((a=>{var n=e[a];(0,R.HD)(n)&&""!==n?t===Az&&(r+=(0,R.i2)(Number(n))?`parameter.${t}.${a} needs to be a numeric value of type string;`:""):r+=`parameter.${t}.${a} needs to be a string type and a non-empty string;`})),""===r){var a=(0,R.e6)(e);""===a?r+=`failed to serialize parameter.${t} by JSON.stringify;`:a.length>1024&&(r+=`parameter.${t} cannot exceed 1024 characters;`)}return r},Lz=e=>{var t="",{sceneId:r,costTime:a=0,dimension:n={},metric:i={}}=e,o={sceneId:r,costTime:a,dimension:n,metric:i};return""===(t+=(0,R.x7)(o,{sceneId:0,costTime:0,dimension:{},metric:{}}))&&(t+=(e=>{for(var t=Object.keys(e),r="",a=0;a<t.length;a++){var n=t[a],i=e[n];(0,R.i2)(i)?r+=`parameter.${n} should not be NaN;`:i<0&&(r+=`parameter.${n} should greater than or equal to zero;`)}return r})({sceneId:r,costTime:a})),""!==t||(0,R.Qr)(n)||(t+=Rz(n,Pz)),""!==t||(0,R.Qr)(i)||(t+=Rz(i,Az)),t},Nz=e=>{var{success:t,fail:r,complete:a,...n}=e;return n},Oz=(e,t="")=>{(0,Q.FE)({name:Tz,args:e,res:{data:Nz(e)},errMsg:t,success:!t})},Bz=(0,Q.TG)("reportUserBehaviorBranchAnalyticsForDebug","webapi_reportbranchanalyticsfordebugtool",(e=>({source:1,custom_scene_info:{msg:JSON.stringify(e)}})));function jz(e){vz||Dz();var t=Lz(e);if(t)Oz(e,t);else{var r=!1;if(7===e.sceneId)if((0,Qe.J)("useGameCoverCodeCache")){var a=!1;z.cj?a=!1:z.wZ&&(a=1===Number(x.default.expt.clicfg_appbrand_android_use_game_delay_codecache)),a&&(r=!0)}var{sceneId:n,costTime:i=0,dimension:o,metric:s}=e;if(Mz.includes(n))Oz(e,`report sceneId:${n} repeatedly;`);else{Mz.push(n);var l=x.default.coldLaunchTime||0,c=l?Number(Date.now()-l):0;r&&(o||(o={}),o.__wx_platform_useCoverCodeCache="1",o.__wx_platform_distance_gamejs_inject=String(Date.now()-kW));var u={SceneId:n,CostTime:i,RunTime:c,CustomInfo:o?(0,R.e6)(o):"",CustomData:s?(0,R.e6)(s):""};r&&(delete o.__wx_platform_useCoverCodeCache,delete o.__wx_platform_distance_gamejs_inject),xz.send(u,(()=>{Oz(e)})),x.default.envVersion!==Ez&&Bz(u),r&&fz(!0,2)}}}var Fz=(e,...t)=>{(0,R.mf)(e)&&e(...t)},Wz=234234669135,Uz=234231453256,Gz=234532352353;var Vz=e=>"function"==typeof e,$z=e=>"object"==typeof e&&e,qz="break_callback_execute",zz=Symbol("defineGeneralSymbol"),Hz=new WeakSet;function Kz(e,t){return function(r,a,n){if("noCondom"===e&&uW(a),n.value){n.value.extraInfos[e]=t}else{var i=n.initializer();if("noHook"===e)return void(n.initializer=()=>i);if("noExpose"===e)return void(n.initializer=()=>{});n.value={extraInfos:{[e]:t}},n.initializer=()=>{var e,t=null===(e=n.value)||void 0===e?void 0:e.extraInfos;return delete n.value.extraInfos,t.api=a,t.prefix="",Object.assign(t,r[zz]),Jz(t,i,this)}}return n}}function Jz(e,t,r,a=1){if(!$z(e))return t;var{api:n,prefix:i=""}=e;if((e.handleObject||e.handleSdkSubPackageObject||e.lazy)&&$z(t)){var o=t=>{Object.keys(t).forEach((r=>{var o=Object.assign({},e,{api:r,prefix:i||n+"."});o.handleObject=!1;var s,l,{get:c,configurable:u}=Object.getOwnPropertyDescriptor(t,r);c||(c=null===(s=e.lazy)||void 0===s||null===(l=s.hookHandlers)||void 0===l?void 0:l.getter);if(c)u&&Object.defineProperty(t,r,{get(){var e=c();return Jz(o,e,t,a)},configurable:!0});else{if("CDN"===r&&"serviceMarket"===n)return;t[r]=Jz(o,t[r],t,a)}}))};return null!=e&&e.handleObject?o(t):dN(n,o),t}if(!Vz(t))return t;var s,l=!0,c=[],u=[],d={},p=function(...r){var o,p,h;r[r.length-2]===pN&&(t=r[r.length-1],r=r.slice(0,-2));var f=!1,g=r[0],v=g,m=i+n,y={};if(l){l=!1,s=new Map;var _={};Object.keys(e).forEach((function(t){var r=e[t];if("object"==typeof r&&r){var{hookHandlers:o,getState:l,otherDecoratorStates:p}=r;if(o&&Object.keys(o).forEach((e=>{var r=s.get(e);r?r.push({fn:o[e],metaKey:t}):s.set(e,[{fn:o[e],metaKey:t}])})),l){c.push(t);var h=l(),f=Date.now(),v=Math.random(),m=1e4*f+Math.round(9999*v);h.prefix=i,h.api=n,h.originArgs=g,h.invokeTime=f,h.random=v,h.uuid=m,y[t]=h,_[t]&&(_[t].forEach((e=>{e[t]=h})),delete _[t]),h.deep>a&&(d[t]=h.deep)}p&&(u.push(t),y[t]=y[t]||{},y[t].otherDecoratorStates={},p.forEach((e=>{y[e]?y[t].otherDecoratorStates[e]=y[e]:_[e]?_[e].push(y[t].otherDecoratorStates):_[e]=[y[t].otherDecoratorStates]})))}}))}else{var b=Date.now(),w=Math.random(),I=1e4*b+Math.round(9999*w);c.forEach((function(t){var r=e[t],{getState:a}=r,o=a();o.prefix=i,o.api=n,o.originArgs=g,o.invokeTime=b,o.random=w,o.uuid=I,y[t]=o})),u.forEach((function(t){var r=e[t],{otherDecoratorStates:a}=r;y[t]=y[t]||{},y[t].otherDecoratorStates={},a.forEach((e=>{y[t].otherDecoratorStates[e]=y[e]}))}))}var S,k,C=()=>{if((0,R.Kn)(g)){var o={},l=e.allowArgsGetter;l&&Object.entries(Object.getOwnPropertyDescriptors(v)).forEach((([e,t])=>{t.get&&(o[e]=t)})),v=Object.assign({},v),l&&Object.defineProperties(v,o),r[0]=v,f=!0}var c,u,p,h,_;try{var b,w=!1,I=s.get("beforeExecute");if(I&&I.forEach((function({fn:e,metaKey:t}){var r=e.call(y[t]);Array.isArray(r)&&r[0]===hN&&(w=r)})),!1!==w)return r[0]&&"object"==typeof r[0]?void setTimeout((()=>{(0,Q.YG)(m,r[0],w[1])})):Vz(w[2])?w[2]():void 0;var S=s.get("paramHandler");S&&S.forEach((function({fn:e,metaKey:t}){y[t].modifyArgs?e.call(y[t],r):e.call(y[t],...r)})),(!(null==y||null===(b=y.promised)||void 0===b||!b.promise)||!Uy(m,r[0]))&&(f||(v=Object.assign({},v),y.timeout&&(y.timeout.afterCopyArgs=v)),["complete","success","fail"].forEach((function(e){var t=s.get(e),r=v[e];v[`__origin_${e}__`]=r,t&&(v[e]=function(a){"fail"===e&&(c=a),"success"===e&&(h=a);try{t.forEach((({fn:e,metaKey:t})=>e.call(y[t],a)))}catch(e){if(e===qz)return}Vz(r)&&r.call(g,a);var n="after"+e[0].toUpperCase()+e.slice(1),i=s.get(n);i&&i.forEach((({fn:e,metaKey:t})=>e.call(y[t],a)))})})),f||(r[0]=v,f=!0));var k=s.get("hookArgs");k&&k.forEach((({fn:e,metaKey:t})=>e.call(y[t],v)));var C=!1,T=s.get("breakDirectly");if(T)for(var P=0;P<T.length;P++){var A=T[P].fn.call(y[T[P].metaKey],...r);if(A!==Uz){C=!0,p=A;break}}if(!C)try{p=t.call(this,...r)}catch(e){var E=!1,M=s.get("errorHandler");M&&M.forEach((({fn:t,metaKey:r})=>{t.call(y[r],e)===Gz&&(E=!0)})),E||(u=e)}var x={};for(var D in d)if((0,R.Kn)(p)){var L=Object.getPrototypeOf(p);for(var N of Object.getOwnPropertyNames(p).concat(Object.getOwnPropertyNames(L))){var O=N in L?L:p,B=(i||"")+n,j=Oy(O,N);if(j&&(!j.get&&j.writable&&Vz(O[N]))){var F={prefix:B+".",api:N};x[N]||(x[N]=F),x[N][D]=e[D]}}}var W=s.get("resultHandler");if(W&&W.forEach((({fn:e,metaKey:t})=>{var a=e.call(y[t],p,r,{syncError:u,callbackError:c});a!==Wz&&(p=a)})),!Hz.has(p)&&(0,R.Kn)(p)){for(var U of Object.getOwnPropertyNames(x))p[U]=Jz(x[U],p[U],p,a+1);Hz.add(p)}}catch(e){_=e;var G=s.get("uncaughtErrorHandler");G&&G.forEach((({fn:t,metaKey:r})=>{t.call(y[r],e)===Gz&&(_=null)}))}var V=!0,$=s.get("afterCallback");if($&&$.forEach((function({fn:e,metaKey:t}){e.call(y[t],r,h||p,{syncError:u,callbackError:c})===Gz&&(V=!1)})),_)throw _;if(!u)return p;if(V)throw u},T=!0,P=s.get("asyncPrepositive"),A=s.get("syncPrepositive"),E=(null==y?void 0:y.promised)&&!(null!==(o=v)&&void 0!==o&&o.success||null!==(p=v)&&void 0!==p&&p.fail||null!==(h=v)&&void 0!==h&&h.complete);if(A)for(var M of A){var{fn:x,metaKey:D}=M,L=x.call(y[D],v);if(L[0]){if(L[3])return;var N,O,B=void 0;return B=L[4]?`${i+n}:fail${L[1]?" ":""}${L[1]}`:{errMsg:`${i+n}:fail${L[1]?" ":""}${L[1]}`,...L[2]?{errno:L[2]}:{}},E?Promise.reject(B):(null!==(N=v)&&void 0!==N&&N.fail&&v.fail(B),void(null!==(O=v)&&void 0!==O&&O.complete&&v.complete(B)))}}if(P){var j=[];P.forEach((({fn:e,metaKey:t})=>{j.push(e.call(y[t],v))})),j.find((e=>(0,R.tI)(e)))&&(k=Promise.all(j))}return k?E?new Promise(((e,t)=>{k.then((r=>{for(var a of r)if(a[0]){T=!1,S=a[4]?`${i+n}:fail${a[1]?" ":""}${a[1]}`:{errMsg:`${i+n}:fail${a[1]?" ":""}${a[1]}`,...a[2]?{errno:a[2]}:{}};break}return T?void e(C()):void t(S)}))})):void k.then((e=>{for(var t of e)if(t[0]){T=!1,S=t[4]?`${i+n}:fail${t[1]?" ":""}${t[1]}`:{errMsg:`${i+n}:fail${t[1]?" ":""}${t[1]}`,...t[2]?{errno:t[2]}:{}};break}if(T)return C();var r,a;null!==(r=v)&&void 0!==r&&r.fail&&v.fail(S),null!==(a=v)&&void 0!==a&&a.complete&&v.complete(S)})):C()};return a>1?p.bind(r):p}function Qz(e,t){return function(r){r.prototype[zz]?r.prototype[zz][e]=t:r.prototype[zz]={[e]:t}}}(0,Y.s)("AppEnterBackground").internalOffMethod,(0,Y.s)("AppEnterForeground").internalOffMethod;var Yz=()=>{},Zz=[],Xz=!1,eH=0,tH=()=>{if(eH){var e=Date.now();Zz.push([e,Number.MAX_SAFE_INTEGER])}},rH=()=>{if(eH){var e=Date.now();Zz.length?Zz[Zz.length-1][1]=e:Zz.push([0,e])}},aH=function(e,t,r,a,n){var i,o=this.prefix+this.api,s=this.uuid,l=this.params,[c,...u]=l,d=this.invokeTime,p=this.subContext,h=((e,t,r)=>{var a=0;for(var[n,i]of r)a+=Math.max(0,Math.min(t,i)-Math.max(e,n));return a})(d,this.completeTime,Zz);(0,R.Kn)(c)?(i={...c},["complete","success","fail"].forEach((e=>{var t;null===(t=i)||void 0===t||delete t[`__origin_${e}__`]}))):i=c,Ry(o,s,u.length?[i,...u]:i,t?1:0,d,a?0:1,e,p,r,nH.call(this),this.syncCost,n,isNaN(h)?0:h)};function nH(){return!this.shouldBelieveAsync}function iH(e,t=!1,r=0,a=!1){return Kz("report",{hookHandlers:{paramHandler(...e){this.params=e},success(e){var r=this.prefix+this.api;cy(r,{res:e}).then((r=>{var n=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,n&&(!t||!b.isLimitReport(21688))&&aH.call(this,e,!0,t,void 0,a)})).catch((e=>{f.warn("checkPointFullReportRule err:",e)})),setTimeout(Yz,16)},fail(e){var r=this.prefix+this.api;cy(r,{res:e}).then((r=>{var n=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,n&&(!t||!b.isLimitReport(21688))&&aH.call(this,e,!1,t,void 0,a)})).catch((e=>{f.warn("checkPointFullReportRule err:",e)})),e.errno&&b.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[this.prefix+this.api,e.errno].join(",")}),setTimeout(Yz,16)},complete(){var e=this.prefix+this.api,t=Sy(e);this.completeTime=Date.now(),t&&(--eH||setTimeout((()=>{Zz=[]}),0)),setTimeout(Yz,16)},afterCallback(e,r,n){var i=Date.now()-this.invokeTime;this.syncCost=i;var o=this.prefix+this.api,{callbackError:s,syncError:l}=n;cy(o,{req:null==e?void 0:e[0],res:r}).then((e=>{this.hasCheckReq=e;var n=e||this.hasCheckReq||this.report;t=t||e||this.hasCheckReq,n&&(!t||!b.isLimitReport(21688))&&aH.call(this,r,!(l||s),t,!0,a)})).catch((e=>{f.warn("checkPointFullReportRule err:",e)}))},beforeExecute(){var r,a=this.prefix+this.api,n=Sy(a);n&&(eH++,Xz||(Xz=!0,(0,al.J)(tH),(0,ll.T)(rH)));var i=null!==(r=null==n?void 0:n.ratio)&&void 0!==r?r:e;t=1===(null==n?void 0:n.ratio)||t,this.report=this.random<i,this.shouldBelieveAsync=!0,Promise.resolve().then((()=>{this.shouldBelieveAsync=!1}))},reportAsync:nH},getState:()=>({api:void 0,prefix:void 0,uuid:void 0,params:void 0,invokeTime:void 0,report:void 0,shouldBelieveAsync:void 0,hasCheckReq:void 0,subContext:r,deep:2})})}function oH(e=0){return iH(1,!0,e)}var sH={cache:null,ret:null,rawResult:null},lH={isReleaseQueue:null,cacheList:null,doubleCacheList:null};function cH(){return Kz("apiCache",{hookHandlers:{breakDirectly:()=>sH.cache?sH.ret:Uz,afterCallback(e,t,r){var{syncError:a,callbackError:n}=r,i=e[0];a||n||(sH.cache?(Fz(null==i?void 0:i.__origin_success__,sH.rawResult||t),Fz(null==i?void 0:i.__origin_complete__,sH.rawResult||t)):(sH.cache=!0,sH.ret=t,setTimeout((()=>{sH.cache=!1,sH.ret=null,sH.rawResult=null}))))}},getState:()=>({cacheInfo:sH})})}function uH(){return Kz("apiCache",{hookHandlers:{breakDirectly(...e){var t,r,a,n,i=e[0];return lH.isReleaseQueue?lH.doubleCacheList?void lH.doubleCacheList.push([(null===(t=this.otherDecoratorStates.promised)||void 0===t?void 0:t.resolve)||(null==i?void 0:i.__origin_success__),(null===(r=this.otherDecoratorStates.promised)||void 0===r?void 0:r.reject)||(null==i?void 0:i.__origin_fail__),null==i?void 0:i.__origin_complete__]):(lH.doubleCacheList=[],Uz):lH.cacheList?void lH.cacheList.push([(null===(a=this.otherDecoratorStates.promised)||void 0===a?void 0:a.resolve)||(null==i?void 0:i.__origin_success__),(null===(n=this.otherDecoratorStates.promised)||void 0===n?void 0:n.reject)||(null==i?void 0:i.__origin_fail__),null==i?void 0:i.__origin_complete__]):(lH.cacheList=[],Uz)},success(e){lH.isReleaseQueue=!0,lH.cacheList&&lH.cacheList.forEach((t=>{Fz(t[0],e)}))},fail(e){lH.isReleaseQueue=!0,lH.cacheList&&lH.cacheList.forEach((t=>{Fz(t[1],e)}))},complete(){lH.cacheList&&(lH.cacheList.forEach((e=>{Fz(e[2])})),lH.cacheList=null),lH.isReleaseQueue=!1,lH.cacheList=lH.doubleCacheList,lH.doubleCacheList=null}},getState:()=>({cacheInfo:lH}),otherDecoratorStates:["promised"]})}var dH={promise:null};function pH(){return Kz("promised",{hookHandlers:{paramHandler(...e){var t=e[0]||{},{success:r,fail:a,complete:n}=t;if(!(r||a||n)){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}));var i=this.promise.then.bind(this.promise),o=this.promise.catch.bind(this.promise),s=!1,l=!1;o((e=>{s&&!l&&b.thirdErrorReport({error:e})})),this.promise.then=(...e)=>("function"==typeof e[0]&&(s=!0),"function"==typeof e[1]&&(l=!0),i(...e)),this.promise.catch=e=>(l=!0,o(e)),dH.promise=this.promise}},resultHandler(e){var t,r;if(null!==(t=this.otherDecoratorStates.checkTapPermission)&&void 0!==t&&t.refuseExec)return Wz;if(null!==(r=this.otherDecoratorStates.apiCache)&&void 0!==r&&r.cacheInfo.cache){if(this.promise)return(0,R.tI)(this.otherDecoratorStates.apiCache.cacheInfo.ret)?this.otherDecoratorStates.apiCache.cacheInfo.ret:(this.resolve(this.otherDecoratorStates.apiCache.cacheInfo.ret),this.promise)}else if(this.promise){var a;return null!==(a=this.otherDecoratorStates)&&void 0!==a&&a.apiCache&&(this.otherDecoratorStates.apiCache.cacheInfo.rawResult=e),this.promise}return Wz},success(e){var t,r,a=null===(t=this.otherDecoratorStates)||void 0===t||null===(r=t.apiCache)||void 0===r?void 0:r.cacheInfo.ret;this.resolve&&this.resolve(a||e)},fail(e){this.reject&&this.reject(e)}},getState:()=>({promise:void 0,resolve:void 0,reject:void 0}),otherDecoratorStates:["checkTapPermission","apiCache"]})}const hH={invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,startFacialEncryptionVerify:null,startFacialEncryptionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,showRedPackage:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,shareToWeRun:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,makeBluetoothPair:null,isBluetoothDevicePaired:null,openBluetoothAdapter:null,openBluetoothAdapterBackground:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,startMonitoringBluetoothDevice:null,stopMonitoringBluetoothDevice:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,getMonitoredBluetoothDevices:null,createBLEConnection:null,setBLEMTU:null,setBluetoothBackgroundMode:null,getBLEMTU:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onMonitoredBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,onBluetoothAdapterStateChange:null,onBLEMTUChange:null,offBLEMTUChange:null,offBluetoothAdapterStateChange:null,offBluetoothDeviceFound:null,offMonitoredBluetoothDeviceFound:null,offBLEConnectionStateChanged:null,offBLEConnectionStateChange:null,offBLECharacteristicValueChange:null,createBLEPeripheralServer:null,onBLEPeripheralConnectionStateChanged:null,offBLEPeripheralConnectionStateChanged:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,onWifiConnectedWithPartialInfo:null,offGetWifiList:null,offWifiConnected:null,offWifiConnectedWithPartialInfo:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,navigateBackNative:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,getBackgroundFetchData:null,onBackgroundFetchData:null,request:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,previewMedia:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getVideoInfo:null,compressVideo:null,getLocation:null,openLocation:null,chooseLocation:null,choosePoi:null,onLocationChange:null,offLocationChange:null,onLocationChangeError:null,offLocationChangeError:null,startLocationUpdateBackground:null,startLocationUpdate:null,stopLocationUpdate:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,join1v1Chat:null,setEnable1v1Chat:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,offVoIPChatMembersChanged:null,offVoIPChatSpeakersChanged:null,offVoIPChatInterrupted:null,onVoIPVideoMembersChanged:null,offVoIPVideoMembersChanged:null,onVoIPChatStateChanged:null,offVoIPChatStateChanged:null,subscribeVoIPVideoMembers:null,login:null,checkSession:null,authorize:null,getUserInfo:null,getUserProfile:null,requestFacetoFacePayment:null,requestPayment:null,requestPersonalPay:null,requestJointPayment:null,getWCPayOverseaPrepayRequest:null,requestH5Transaction:null,openWCPayOverseaPaymentReceive:null,handleWCPayOverseaWalletBuffer:null,requestVerifyUserIdentity:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,requestOrderPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,scanItem:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onThemeChange:null,offThemeChange:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,onUnhandledRejection:null,offUnhandledRejection:null,getLaunchOptionsSync:null,getEnterOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,onKeyboardHeightChange:null,offKeyboardHeightChange:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,reportAnalytics:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,offMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,getRealtimeLogManager:null,onWindowResize:null,offWindowResize:null,setPageOrientation:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null,shareAppMessageForFakeNative:null,downloadApp:null,installDownloadApp:null,getAppInstallState:null,queryDownloadAppTask:null,cancelDownloadAppTask:null,resumeDownloadAppTask:null,pauseDownloadAppTask:null,onDownloadAppStateChange:null,downloadAppForIOS:null,offGyroscopeChange:null,offDeviceMotionChange:null,offCompassChange:null,offAccelerometerChange:null,offUserCaptureScreen:null,offNetworkStatusChange:null,offHCEMessage:null,offBeaconUpdate:null,offBeaconServiceChange:null,requestSubscribeMessage:null,requestSubscribeDeviceMessage:null,hideHomeButton:null,getBLEDeviceRSSI:null,checkIsOpenAccessibility:null,addPhoneCalendar:null,addPhoneRepeatCalendar:null,updateWeChatApp:null,getRandomValues:null,shareFileMessage:null,shareVideoMessage:null,addFileToFavorites:null,addVideoToFavorites:null,showShareImageMenu:null,searchContacts:null,publishWeChatState:null,chooseLicensePlate:null,openSystemBluetoothSetting:null,openAppAuthorizeSetting:null,getSystemSetting:null,getAppAuthorizeSetting:null,getDeviceInfo:null,getWindowInfo:null,getAppBaseInfo:null,openEmbeddedMiniProgram:null};const fH={invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:20,openSettingForPlugin:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,hideHomeButton:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,startFacialEncryptionVerify:20,startFacialEncryptionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,showRedPackage:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,shareToWeRun:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,openChannelsUserProfile:30,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:10,setNavigationBarRightButton:20,onTapNavigationBarRightButton:20,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,offUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,navigateBackNative:0,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,previewMedia:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:20,openLocation:20,chooseLocation:20,choosePoi:20,onLocationChange:20,offLocationChange:20,onLocationChangeError:20,offLocationChangeError:20,startLocationUpdateBackground:20,startLocationUpdate:20,stopLocationUpdate:20,getNetworkType:0,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,onKeyboardHeightChange:20,offKeyboardHeightChange:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,reportAnalytics:10,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:20,offWindowResize:20,setPageOrientation:30,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,join1v1Chat:10,setEnable1v1Chat:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,offVoIPChatMembersChanged:10,offVoIPChatSpeakersChanged:10,offVoIPChatInterrupted:10,onVoIPVideoMembersChanged:10,offVoIPVideoMembersChanged:10,onVoIPChatStateChanged:10,offVoIPChatStateChanged:10,subscribeVoIPVideoMembers:10,login:10,checkSession:10,authorize:20,getUserInfo:20,getUserProfile:20,requestFacetoFacePayment:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPersonalPay:20,requestPaymentToBank:20,requestJointPayment:20,getWCPayOverseaPrepayRequest:20,requestH5Transaction:20,openWCPayOverseaPaymentReceive:20,handleWCPayOverseaWalletBuffer:20,requestVerifyUserIdentity:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,requestOrderPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,scanItem:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0,enterContact:20,shareAppMessageForFakeNative:20,checkIsOpenAccessibility:10,addPhoneCalendar:20,addPhoneRepeatCalendar:20,updateWeChatApp:10,getRandomValues:0,shareFileMessage:20,shareVideoMessage:20,addFileToFavorites:20,addVideoToFavorites:20,showShareImageMenu:20,searchContacts:10,publishWeChatState:20,chooseLicensePlate:20,openSystemBluetoothSetting:30,openAppAuthorizeSetting:30,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,openEmbeddedMiniProgram:30};const gH={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,requestSubscribeMessage:1,requestSubscribeDeviceMessage:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,hideHomeButton:1,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:1,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,shareToWeRun:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:1,isBluetoothDevicePaired:1,openBluetoothAdapter:1,openBluetoothAdapterBackground:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,startMonitoringBluetoothDevice:1,stopMonitoringBluetoothDevice:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,getMonitoredBluetoothDevices:1,createBLEConnection:1,setBLEMTU:1,setBluetoothBackgroundMode:1,getBLEMTU:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceRSSI:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothAdapterStateChange:3,onBluetoothDeviceFound:3,onMonitoredBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,onBLEMTUChange:3,offBLEMTUChange:3,offBluetoothAdapterStateChange:3,offBluetoothDeviceFound:3,offMonitoredBluetoothDeviceFound:3,offBLEConnectionStateChanged:3,offBLEConnectionStateChange:3,offBLECharacteristicValueChange:3,createBLEPeripheralServer:2,onBLEPeripheralConnectionStateChanged:3,offBLEPeripheralConnectionStateChanged:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,onWifiConnectedWithPartialInfo:3,offGetWifiList:3,offWifiConnected:3,offWifiConnectedWithPartialInfo:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,onLocalServiceFound:3,offLocalServiceFound:3,onLocalServiceLost:3,offLocalServiceLost:3,onLocalServiceDiscoveryStop:3,offLocalServiceDiscoveryStop:3,onLocalServiceResolveFail:3,offLocalServiceResolveFail:3,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,navigateBackNative:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,getBackgroundFetchData:1,onBackgroundFetchData:3,request:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,previewMedia:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:1,compressVideo:1,getLocation:1,openLocation:1,chooseLocation:1,choosePoi:1,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,join1v1Chat:1,setEnable1v1Chat:1,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,offVoIPChatMembersChanged:3,offVoIPChatSpeakersChanged:3,offVoIPChatInterrupted:3,onVoIPVideoMembersChanged:3,offVoIPVideoMembersChanged:3,onVoIPChatStateChanged:3,offVoIPChatStateChanged:3,subscribeVoIPVideoMembers:1,login:1,checkSession:1,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:1,requestPersonalPay:1,requestFacetoFacePayment:1,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:1,addCard:1,openCard:1,scanCode:1,openQRCode:1,scanItem:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,onThemeChange:1,offThemeChange:1,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,reportAnalytics:0,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:3,offWindowResize:3,setPageOrientation:1,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:3,onAppHide:3,offAppHide:3,onError:3,offError:3,onUnhandledRejection:3,offUnhandledRejection:3,getLaunchOptionsSync:2,getEnterOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionLisstening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1,enterContact:1,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:3,downloadAppForIOS:0,offGyroscopeChange:3,offDeviceMotionChange:3,offCompassChange:3,offAccelerometerChange:3,offUserCaptureScreen:3,offNetworkStatusChange:3,offHCEMessage:3,offBeaconUpdate:3,offBeaconServiceChange:3,checkIsOpenAccessibility:1,addPhoneCalendar:1,addPhoneRepeatCalendar:1,updateWeChatApp:1,getRandomValues:1,shareFileMessage:1,shareVideoMessage:1,addFileToFavorites:1,addVideoToFavorites:1,showShareImageMenu:1,searchContacts:1,publishWeChatState:1,chooseLicensePlate:1,openSystemBluetoothSetting:1,openAppAuthorizeSetting:1,getSystemSetting:1,getAppAuthorizeSetting:1,getDeviceInfo:1,getWindowInfo:1,getAppBaseInfo:1,openEmbeddedMiniProgram:1};const vH={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,addToDesktop:50,openSettingForPlugin:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,shareToWeRun:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,navigateBackNative:0,exitMiniProgram:40,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:0,isBluetoothDevicePaired:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceRSSI:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,request:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:20,addNativeDownloadTask:0,chooseImage:0,previewImage:0,previewMedia:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getVideoInfo:0,compressVideo:0,getLocation:0,openLocation:0,chooseLocation:0,choosePoi:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestFacetoFacePayment:0,requestPayment:30,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:30,addCard:0,openCard:0,scanCode:0,openQRCode:0,scanItem:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onThemeChange:0,offThemeChange:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,onUnhandledRejection:0,offUnhandledRejection:0,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,reportAnalytics:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:0,offWindowResize:0,setPageOrientation:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,join1v1Chat:0,setEnable1v1Chat:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,onVoIPVideoMembersChanged:0,offVoIPVideoMembersChanged:0,onVoIPChatStateChanged:0,offVoIPChatStateChanged:0,subscribeVoIPVideoMembers:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,offGyroscopeChange:0,offDeviceMotionChange:0,offCompassChange:0,offAccelerometerChange:0,offUserCaptureScreen:0,offNetworkStatusChange:0,offHCEMessage:0,offBeaconUpdate:0,offBeaconServiceChange:0,requestSubscribeMessage:40,requestSubscribeDeviceMessage:10,hideHomeButton:0,checkIsOpenAccessibility:0,updateWeChatApp:0,openChannelsLive:0,openChannelsActivity:0,openChannelsUserProfile:0,openChannelsLiveCollection:0,openChannelsEvent:0,addPhoneCalendar:40,addPhoneRepeatCalendar:40,getRandomValues:0,showShareImageMenu:0,shareFileMessage:40,shareVideoMessage:40,addFileToFavorites:40,addVideoToFavorites:40,getUserProfile:40,searchContacts:40,publishWeChatState:40,openCustomerServiceChat:40,chooseLicensePlate:40,openSystemBluetoothSetting:40,openAppAuthorizeSetting:40,getSystemSetting:0,getAppAuthorizeSetting:0,getDeviceInfo:0,getWindowInfo:0,getAppBaseInfo:0,openEmbeddedMiniProgram:0,addAccountCard:20,openHKOfflinePayView:20,openOfficialAccountArticle:40};const mH={invokeWebviewMethod:0,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:0,pageScrollTo:10,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,openSettingForPlugin:1,getExtConfig:10,chooseMedia:1,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,hideHomeButton:0,_getRealRoute:0,vibrateShort:10,vibrateLong:10,getSetting:0,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:1,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:0,uploadWeRunData:0,addWeRunData:0,canIUse:10,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:0,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,offBeaconUpdate:0,onBeaconServiceChange:0,offBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,offHCEMessage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,redirectTo:2,reLaunch:1,navigateTo:2,switchTab:2,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:0,onBackgroundFetchData:0,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:1,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:1,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:0,compressVideo:0,getLocation:10,openLocation:1,chooseLocation:1,choosePoi:1,enableLocationUpdateBackground:0,enableLocationUpdate:0,disableLocationUpdate:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:10,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:0,createVideoContext:10,createMapContext:10,createCameraContext:0,createLivePlayerContext:10,createLivePusherContext:0,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:0,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:0,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:0,setClipboardData:0,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:0,traceEvent:0,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:0,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:0,hanged:0,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:0,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:0,checkSession:0,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:0,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestMidasPayment:0,requestOrderPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:0,scanItem:1,chooseAddress:1,saveFile:10,openDocument:1,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:1,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:0,getABTestConfig:0,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:0,chooseMultiMedia:0,getLabInfo:0,setLabInfo:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:0,createRewardedVideoAd:0,error:10,serviceMarket:10,getNativeUserInfo:10,getPerformance:10,reportPerformance:10,createUDPSocket:0,createBufferURL:10,revokeBufferURL:10};const yH={invokeWebviewMethod:10,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:10,pageScrollTo:10,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:10,openSettingForPlugin:10,getExtConfig:10,chooseMedia:10,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:10,hideShareMenu:10,updateShareMenu:10,openUrl:0,setNavigationBarColor:10,setNavigationBarAlpha:10,hideHomeButton:10,_getRealRoute:10,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:10,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:10,setPageStyle:10,triggerGettingWidgetData:0,navigateToMiniProgram:10,navigateToDevMiniProgram:10,navigateBackMiniProgram:10,exitMiniProgram:10,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:10,removeTabBarBadge:10,showTabBarRedDot:10,hideTabBarRedDot:10,showTabBar:10,hideTabBar:10,setTabBarStyle:10,setTabBarItem:10,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:10,reportKeyValue:10,setNavigationBarTitle:10,showNavigationBarLoading:10,hideNavigationBarLoading:10,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:10,reLaunch:10,navigateTo:10,switchTab:10,navigateBack:10,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:10,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:10,stopRecord:10,playVoice:10,pauseVoice:10,stopVoice:10,onVoicePlayEnd:10,chooseVideo:10,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:10,openLocation:10,chooseLocation:10,choosePoi:10,enableLocationUpdateBackground:10,enableLocationUpdate:10,disableLocationUpdate:10,onLocationChange:10,offLocationChange:10,onLocationChangeError:10,offLocationChangeError:10,startLocationUpdateBackground:10,startLocationUpdate:10,stopLocationUpdate:10,getNetworkType:10,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:10,createVideoContext:10,createMapContext:10,createCameraContext:10,createLivePlayerContext:10,createLivePusherContext:10,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:10,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:10,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:10,setClipboardData:10,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:10,hanged:10,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:10,checkSession:10,authorize:10,getUserInfo:10,getUserProfile:10,requestPayment:10,verifyPaymentPassword:0,bindPaymentCard:0,requestPersonalPay:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:10,addCard:10,openCard:10,scanCode:10,openQRCode:0,chooseAddress:10,saveFile:10,openDocument:10,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:10,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:10,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:10,getABTestConfig:10,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:10,chooseMultiMedia:10,getLabInfo:0,setLabInfo:0,enterContact:10,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:10,createRewardedVideoAd:10,error:10,serviceMarket:10,openBusinessView:10,requestMidasPayment:10,modifyFriendInteractiveStorage:0,getUserInteractiveStorage:0,getUserCloudStorage:0,getPotentialFriendList:0,getGroupInfo:0,getGroupCloudStorage:0,getFriendCloudStorage:0,createGridAd:10,createBannerAd:10,quicklyAddBrandContact:1};var _H=Object.create(null);Object.assign(_H,{openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,onBluetoothDeviceFound:10,onBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBluetoothAdapterStateChange:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,getConnectedBluetoothDevices:10,getBluetoothDevices:10,getBluetoothAdapterState:10,writeBLECharacteristicValue:10,setBLEMTU:10,readBLECharacteristicValue:10,onBLEMTUChange:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,offBLEMTUChange:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,notifyBLECharacteristicValueChange:10,getBLEMTU:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,createBLEConnection:10,closeBLEConnection:10,setBluetoothBackgroundMode:10,getMonitoredBluetoothDevices:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,onMonitoredBluetoothDeviceFound:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,createBLEPeripheralServer:10,setStorageSync:10,setStorage:10,removeStorageSync:10,removeStorage:10,getStorageSync:10,getStorage:10,getStorageInfoSync:10,getStorageInfo:10,clearStorageSync:10,clearStorage:10,request:10,login:10,getSystemInfo:10,getSystemInfoSync:10,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,getAccountInfoSync:10,onAppShow:10,onAppHide:10,base64ToArrayBuffer:10,arrayBufferToBase64:10,version:10,cloud:10});const bH=_H;var wH=Object.create(null);Object.assign(wH,{sample:hH,ui:fH,log:gH,tap:vH,singlePage:mH,thirdApp:yH,background:bH});var IH=(e,t)=>wH[t][e],SH=[10,30,40,50];function kH(e,t,r,a){if((0,z.aI)())return sr("tap",a),r.apply(e,t),void lr();nr.P3.wrapTapMark((()=>{r.apply(e,t)}),a)}var CH=(e,t,r)=>(...a)=>kH(e,a,t,r);var TH=function(){if(!this.emitFail){if(this.isTimeout)throw qz;clearTimeout(this.timer)}};function PH(){return Kz("timeout",{hookHandlers:{paramHandler(...e){var t=e[0],r=null==t?void 0:t.timeout;"number"==typeof r&&(this.isTimeout=!1,this.timer=setTimeout((()=>{var e={errMsg:"request timeout"};this.isTimeout=!0,this.emitFail=!0,Fz(t.fail,e),Fz(t.complete,e),this.emitFail=!1}),r))},success(){TH.call(this)},fail(){TH.call(this)},complete(){TH.call(this)}},getState:()=>({isTimeout:void 0,timer:void 0,afterCopyArgs:void 0,emitFail:!1})})}function AH(){return Kz("noCondom",{})}function EH(){return Kz("privacy",{hookHandlers:{paramHandler(...e){this.params=e},asyncPrepositive(){return Di([this.api],!0)?Promise.resolve([!1]):li(this.api).then((({success:e,errMsg:t,errno:r})=>e?[!1]:[!0,t,r])).catch((e=>[!1]))}},getState:()=>({modifyArgs:!0})})}var MH=function(){return Kz("handleSdkSubPackageObject",{})},xH=!1;var DH=p(6759);var RH=Kz("onlyNeedHookGeneral",{}),LH=Symbol("specialAdd");(0,je.n)("onAddToDesktop",(()=>{(0,Ze.showToast)({icon:"loading",title:"加载中",duration:5e3}),NH({timeout:5e3,special:LH,fail(e){(0,Ze.showToast)({icon:"error",title:"链接生成失败，请重试"}),f.info("onAddToDesktop addToDesktop occur error: ",e)},success(){(0,Q.IN)("hideToast",null)}})}));var NH=(e={})=>{var{special:t,timeout:r}=e;if(void 0===e.path||(0,R.HD)(e.path))if(z.gm||z.wZ)(0,Q.YG)("addToDesktop",e,"not supported");else{var{path:a="",fail:n,success:i}=e;if((0,Qe.J)("openUrlByExtBrowser2")||(0,Qe.J)("openUrlByExtBrowser")&&t===LH){var o,s=!1;r&&(o=setTimeout((()=>{s=!0,(0,R.mf)(n)&&n({errMsg:"timeout"})}),r)),(0,Q.Qh)({apiName:"webapi_adduserurllink",reqData:{query:a}}).then((e=>{if(!s){if(o&&clearTimeout(o),0!==(e=e.data).base_resp.errcode)throw e.base_resp;var r=e.url_link;(t===LH?Jb.AM:Jb.uA)({url:r,success(){(0,R.mf)(i)&&i()},fail(e){(0,R.mf)(n)&&n(e)}})}})).catch((e=>{s||(o&&clearTimeout(o),e.err_code&&(e.errno=e.err_code,delete e.err_code),(0,R.mf)(n)&&n(e))}))}else(0,Q.YG)("addToDesktop",e,"no permission","-12001")}else(0,Q.YG)("addToDesktop",e,"invalid request data")},OH=(e={})=>{var t="openPage";if(Tr(t))(0,Q.YG)(t,e,"no permission");else if((0,Q.r3)(t,e,{openlink:""})){var{openlink:r}=e,{success:a,failWithMsg:n}=(0,Q.Rn)(e,t);(0,Q.yD)({apiName:"webapi_game_transfer",sdkApiName:t,reqData:{req_path:"api.translateopenpagelink",openlink:r},success(e){var t,r,i,o=null==e||null===(t=e.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.url;o?(o=(z.cj||z.wZ)&&o.indexOf("wechat_pkgid")>=0?o.replace("#wechat_redirect",""):o,(0,f_.n)({useGameWePkgIfExist:!0,url:o,success(){a({})},fail(e){n({msg:e.errMsg})}})):n({msg:null==e||null===(i=e.data)||void 0===i?void 0:i.errmsg})},fail(e){console.error(e),f.error(e),n({msg:e.errMsg})}})}},BH=(e={})=>{var t="getGameClubData";(0,Q.r3)(t,e,{dataTypeList:[]})&&(0,Q.yD)({apiName:"webapi_getgameclubdata",sdkApiName:t,reqData:{dataTypeList:e.dataTypeList},success:e.success,fail:e.fail,complete:e.complete})};function jH(){return b}function FH(e){return"string"!=typeof e?JSON.stringify(e||{}):e}var WH=1e3,UH=null,GH=[],VH=!1,$H=!1,qH=z.gm||!(0,z.oS)(),zH=[];function HH(){UH=null,0!==GH.length&&(c.invoke("reportKeyValue",{noCallback:!0,version:2,dataArray:GH.map((e=>({key:26308,value:[e.category,e.name,Math.round(1e3*e.timeStamp),e.phase,encodeURIComponent(FH(e.args))].join(",")})))}),GH=[])}function KH(e,t){z.gm&&function(e,t){var r={...t,phase:e};r.args=FH(r.args),c.invoke("traceEvent",{events:[r]})}(e,t),VH&&function(e,t){($H||"API"!==t.category)&&(UH||(UH=setTimeout(HH,WH)),GH.push({...t,phase:e}))}(e,t)}function JH(){return qH}x.default.onReady((e=>{var t,r,a=null===(t=e.expt)||void 0===t?void 0:t.clicfg_appbrand_report_trace_event;("1"===a?VH=!0:"2"===a&&(VH=!0,$H=!0),qH=qH||$H||!!(0,z.Dq)())&&(null===(r=zH)||void 0===r||r.forEach((e=>e())));zH=null}));var QH=!1;function YH(){var e;return QH?performance.now()+(performance.timeOrigin||(null===(e=performance.timing)||void 0===e?void 0:e.navigationStart)||0):Date.now()}var ZH={},XH={};const eK=function(e){var t=[];function r(r,a,n,i=!1){var o;if(l.traceBegin(r,a),!i){var s={category:r,name:a,timeStamp:YH(),args:n||{}};t.push(s),"Framework"===r&&f.info(`[Trace][B] ${a} @ ${s.timeStamp} ${s.args.path||""}`),null===(o=ZH[s.category])||void 0===o||o.forEach((t=>t(s,e))),KH("B",s)}}function a(r,a=!1){var n,i;if(l.traceEnd(),!a){var o=YH(),s=t.pop();if(!s)return f.error("[Trace] Must call traceBeginEvent before traceEndEvent."),jH().assertWithIDKey(!1,6),void jH().errorReport({key:"appServiceSDKScriptError",error:new Error(`traceEndEvent mismatch, args=${JSON.stringify(r||{})}`)});var c=s.args,u=s.timeStamp;s.timeStamp=o,s.args=r||s.args,"Framework"===s.category&&f.info(`[Trace][E] ${s.name} @ ${s.timeStamp} ${(null===(n=s.args)||void 0===n?void 0:n.path)||""}`),null===(i=XH[s.category])||void 0===i||i.forEach((t=>t(s,u,c,e))),KH("E",s)}}function n(e,t){r("API",e,t,JH())}function i(){a(void 0,JH())}return{traceBeginEvent:r,traceEndEvent:a,traceBeginAPI:n,traceEndAPI:i,useTraced:function(e,t,n,i){return function(...o){try{return r(e,t,i),n.apply(this,o)}finally{a()}}},useTracedEnd:function(e){return function(...t){try{return e(...t)}finally{a()}}},traceFlag:function(t,r,a){var n,i,o=YH(),s={category:t,name:r,timeStamp:o,args:a||{}};l.traceInstant(t,r),"Framework"===t&&f.info(`[Trace][I] ${r} @ ${o}`),null===(n=ZH[t])||void 0===n||n.forEach((t=>t(s,e))),KH("B",s),KH("E",s),null===(i=XH[t])||void 0===i||i.forEach((t=>t(s,o,a,e)))},useTracedApi:function(e,t,r){return function(...a){try{return n(e,r),t.apply(this,a)}finally{i()}}},useTracedApiEnd:function(e){return function(...t){try{return e.apply(this,t)}finally{i()}}}}}(Infinity);var tK,rK={},aK=!1,nK=e=>{rK=e;try{rK="string"==typeof e?JSON.parse(e).jsapi_list:e.jsapi_list,aK=!0}catch(e){rK={}}},iK=null===(tK=x.default.host)||void 0===tK?void 0:tK.env;aK||(aK="SDK"===iK||"WMPF"===iK);var oK,sK=e=>rK&&rK[e];(0,je.n)("onThirdPlatformApiPermissionBytesUpdate",(e=>{nK(z.wZ?e:null==e?void 0:e.thirdPlatformApiPermissionBytes),void 0!==oK&&oK()}));x.default.onReady((()=>{nK(x.default.thirdPlatformApiPermissionBytes)}));var lK=(0,Q.TG)("checkIsAddedToMyMiniProgram","webapi_checkwxauserstarwxa",(()=>{}),(e=>{e.added=e.is_star_wxa,delete e.is_star_wxa}));function cK(e){lK(Object.assign({},e))}var uK="requestSubscribeLiveActivity",dK=!1,pK=(e={})=>{if((0,Q.r3)(uK,e,{activityType:0}))if((0,ln.Vt)())if(dK)(0,Q.YG)(uK,e,"please invoke after last navigate ended");else{var{success:t,fail:r}=(0,Q.Rn)(e,uK);dK=!0,(0,Q.yD)({sdkApiName:uK,apiName:"webapi_getwxanotifycode",reqData:{type:e.activityType,env_check:"{}"},success(e){dK=!1,t({code:e.data.init_code||""})},fail(e){dK=!1,r(e)}})}else(0,Q.YG)(uK,e,"require user interaction (only in touchend event)")},hK=(e={})=>{e=Object.assign({},e);var t=()=>{try{fr({name:"openCustomerServiceChat",data:{extInfo:"object"==typeof e.extInfo?JSON.stringify(e.extInfo):e.extInfo,corpId:e.corpId}})}catch(e){}};(0,z.aI)()?(0,Q.yD)({apiName:"webapi_getgamewxkfinfo",sdkApiName:"openCustomerServiceChat",reqData:{raw_kf_args:{extinfo:e.extInfo,corpid:e.corpId,show_message_card:e.showMessageCard,send_message_title:e.sendMessageTitle,send_message_path:e.sendMessagePath,send_message_img:e.sendMessageImg}},success:r=>{var a=r.data;if(0===(null==a?void 0:a.err_code)){var{processed_kf_args:n,need_ban_kf:i}=a;if(i)(0,Q.YG)("openCustomerServiceChat",e,"customer service ability is banned");else{var{extinfo:o,corpid:s,show_message_card:l,send_message_title:c,send_message_path:u,send_message_img:d}=n||{};o.scene=20,(0,Q.IN)("openCustomerServiceChat",{extInfo:o,corpId:s,showMessageCard:l,sendMessageTitle:c,sendMessagePath:u,sendMessageImg:d,scene:+x.default.appLaunchInfo.scene,success:e.success,fail:e.fail,complete:e.complete},{beforeSuccess:t})}}else{var{err_code:p,err_msg:h}=a;f.error("openCustomerServiceChat err_code",p),(0,Q.YG)("openCustomerServiceChat",e,h,p)}},fail:t=>{f.error("openCustomerServiceChat operateWXData Fail",t),console.error("openCustomerServiceChat operateWXData Fail",t),(0,Q.YG)("openCustomerServiceChat",e,t.errMsg)}}):(e.extInfo=Object.assign({},e.extInfo,{scene:8}),(0,Q.IN)("openCustomerServiceChat",Object.assign({},e,{scene:+x.default.appLaunchInfo.scene}),{beforeSuccess:t}))},fK=p(406);xS.onTouchStart((e=>{var t=e;Sa.GF.externInfo.touchPoint={clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY}}));var gK=e=>{var t,r;t=e,r=Sa.GF.useCustomPrivacyAuthorization,"function"==typeof t&&1!==Sa.GF.forceOffcial?Sa.GF.useCustomPrivacyAuthorization=!0:Sa.GF.useCustomPrivacyAuthorization=!1,r!==Sa.GF.useCustomPrivacyAuthorization&&1===Sa.GF.actionCache&&(Sa.GF.useCustomPrivacyAuthorization?Ha(!1):Ha(!0)),nn=(e,r)=>{_.surroundThirdByTryCatch(t,"at wx.onNeedPrivacyAuthorization callback function")((({buttonId:t,event:r})=>{"agree"!==r&&rn({event:r}),"agree"===r?(0,ln.Vt)()?(e({success:!0}),rn({event:r})):e({success:!1,errMsg:"click action before resolve is needed",errno:sn.Nac}):"disagree"===r&&e({success:!1,errMsg:"privacy permission is not authorized",errno:sn.Nac})}),{referrer:r})}};class vK{constructor(e){this.innerParams=e,this.promise=Promise.resolve()}catch(e){return this.catchFn=e,this}then(e,t){if(this.promise)return this.promise=this.promise.then((()=>{if(!this.catchFn)return this;var r=e(this.innerParams,t);return r?r instanceof Promise?r.then((e=>{e&&Object.assign(this.innerParams,e)})).catch((e=>{this.catchFn&&this.catchFn(e),delete this.catchFn,delete this.innerParams,delete this.promise})):Object.assign(this.innerParams,r):void 0})).catch((e=>{this.catchFn&&this.catchFn(e),delete this.catchFn,delete this.innerParams,delete this.promise})),this}finally(e){this.promise&&this.promise.then((()=>{if(!this.catchFn)return this;e(this.innerParams),delete this.catchFn,delete this.innerParams,delete this.promise}))}}var mK=[1,7,9,11,13,15,17,19,20,21,22,23,25,37,42,43,53,69,77,79,87,95,101,102,103,104,109,110,111,113,115,117,119,123,135,137,139,143,161,179,389,427,465,512,513,514,515,526,530,531,532,540,548,554,556,563,587,601,636,993,995,1719,1720,1723,2049,3659,4045,5060,5061,6e3,6566,10080,1099,1433,1521,2375,3128,3306,3389,5432,5984,6379,7001,7002,8443,8888,9200,9300,10051,11211,27017,27018,27019];function yK(e){return!Number.isInteger(e)||(e<=1024||(e>=8e3&&e<=8100||mK.indexOf(e)>-1))}function _K(e){return e.remoteInfo&&(e={message:e.message,size:e.size,remoteInfo:{address:e.remoteInfo.address,family:e.remoteInfo.family,port:e.remoteInfo.port},localInfo:{address:e.remoteInfo.localaddress,family:e.remoteInfo.localfamily,port:e.remoteInfo.localport}}),e}function bK(e){return e.remoteInfo&&(e={remoteInfo:{address:e.remoteInfo.address,family:e.remoteInfo.family,port:e.remoteInfo.port},localInfo:{address:e.remoteInfo.localaddress,family:e.remoteInfo.localfamily,port:e.remoteInfo.localport}}),e}var wK=p(9619);function IK(e){var{address:t,port:r}=e;if(yK(Number(r)))throw{errMsg:`connect fail: invalid port '${r}' `,errCode:-4,errno:sn.Wkc};return new Promise(((e,a)=>{(0,wK.k)({api:"tcp",url:`tcp://${t}`}).then((n=>{n.isInLAN&&!n.isLocalHost||n.isInDomainList?e():a({errMsg:`connect fail: invalid address ${t}:${r}`,errCode:-4,errno:-4})})).catch((e=>{a({errMsg:`connect fail: ${e.message||e.errMsg}`,errCode:-4})}))}))}var SK=p(4683),kK=e=>{var{enableHttpDNS:t,httpDNSServiceId:r}=e.args,{address:a}=e;if(t&&"string"==typeof r){if(!/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(a)){var n=(0,SK.x)({args:{enableHttpDNS:t,httpDNSServiceId:r},host:a});return n&&n.then?n.then((e=>e.rawHttpDnsError?{exception:{reasons:e.rawHttpDnsError},useHttpDNS:!1}:{address:e.ip,useHttpDNS:!0})).catch((e=>(f.error("TCP.connect httpdns fail",e),{exception:{reasons:[{errMsg:e.errMsg||e.message,errno:e.errno}]},useHttpDNS:!1}))):n&&n.ip?{address:n.ip,useHttpDNS:!0}:{address:a,useHttpDNS:!1}}}else if(t)return{exception:{reasons:[{errMsg:"getDNSInfo:fail not valid service id",errno:sn.hXl}]},useHttpDNS:!1}},CK=(e,t)=>new Promise(((r,a)=>{var{address:n,port:i}=e;t({url:`tcp://${n}`},(e=>{e?a({errMsg:`connect fail: ${e=e||`invalid address ${n}:${i}`}`,errCode:-4}):yK(Number(i))?a({errMsg:`connect fail: invalid port '${i}' `,errCode:-4}):r()}))})),TK=new WeakMap,PK=new WeakMap,AK=new Map,EK=1,MK=[];class xK{constructor(e,t){TK.set(this,e),PK.set(this,t||{}),["close","connect","error","message"].forEach((t=>{var r=(0,Y.s)(`jsapi-tcp-${e}-${t}`);this[`on${(0,ua.fm)(t)}`]=r.onMethod,this[`off${(0,ua.fm)(t)}`]=r.offMethod}))}connect(e){var t,r=(0,Y.s)(`jsapi-tcp-${TK.get(this)}-error`),a=e=>{if(e.address,(0,Q.IN)("connectTCPSocket",{id:TK.get(this),address:e.address,port:e.port,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Xe.iZ(t)},n=new vK({args:e,address:`${e.address}`,port:+e.port,timeout:e.timeout});n.catch((e=>{r.emit({errMsg:e.message||e.errMsg,errCode:e.errCode,errno:e.errno})})),(0,R.mf)(PK.get(this).customCheck)?n.then(CK,PK.get(this).customCheck):n.then(IK).then(kK).then((e=>{var{useHttpDNS:t,exception:r}=e,a={useHttpDNS:!!t};r&&(a.exception=r),AK.set(TK.get(this),a)})),n.finally((e=>{a(e)}))}write(e){ArrayBuffer.isView(e)&&(e=e.buffer);var t,r={message:e};if((0,Q.IN)("writeTCPSocket",{id:TK.get(this),message:r.message,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Xe.iZ(t)}close(){var e;if((0,Q.IN)("closeTCP",{id:TK.get(this),fail(t){e=t.errMsg}}),e)throw new Xe.iZ(e)}}class DK extends xK{constructor(e,t){var r=MK[MK.length-20];if(r&&Date.now()-r<3e5)throw new Xe.iZ("[TCPSocket] created too much.");MK.push(Date.now()),MK.length>20&&MK.shift();var a,n=EK++;if((0,Q.IN)("createTCPSocket",{id:n,type:"ipv6"===t?"IPv6":"IPv4",fail(e){e.errMsg,a=e.errMsg}}),a)throw new Xe.iZ(a);super(n,e)}}x.default.onReady((()=>{["close","connect","connection","error","listening","message"].forEach((e=>{(0,Q.jQ)(`onTCP${(0,ua.fm)(e)}`,(t=>{var{id:r}=t;delete t.id,(0,ua.fm)(e);var a=(0,Y.s)(`jsapi-tcp-${r}-${e}`);"connection"===e?a.emit(new xK(t.socketId)):("connect"===e&&(Object.assign(t,AK.get(r)),AK.delete(r)),a.emit(t))}))}))}));var RK=(e,t)=>(0,Q.ZI)(e,`TCP.${t}`),LK=new WeakMap,NK=new WeakMap,OK=new WeakMap,BK=new WeakMap,jK=new WeakMap,FK=new WeakMap,WK=new Map,UK=1,GK=[];class VK{constructor(e,t,r,a){var n=UK++;if(["close","error","connect","message","bindWifi"].forEach((r=>{var a=(0,Y.s)(`jsbinding-tcp-${n}-${r}`);this[`on${(0,ua.fm)(r)}`]=a.onMethod,this[`off${(0,ua.fm)(r)}`]=a.offMethod,t||(e[`on${r}`]=RK(((...e)=>{"message"===r&&(e[0]=_K(e[0])),"connect"===r&&(e[0]=bK(e[0])),"connect"===r&&("number"==typeof e[0]&&(e[0]={id:e[0]}),Object.assign(e[0],WK.get(n)),WK.delete(n)),a.emit(...e)}),`on${r}`))})),LK.set(this,e),OK.set(this,t),NK.set(this,n),jK.set(this,r||{}),FK.set(this,"ipv6"===a?"IPv6":"IPv4"),z.wZ&&"function"==typeof e.create){var i=e.create({type:FK.get(this)});BK.set(this,i)}}bindWifi(e){var t,r=(0,Y.s)(`jsbinding-tcp-${NK.get(this)}-error`);z.wZ?(t=t=>{if(t.wifi&&t.wifi.BSSID===e.BSSID&&!t.wifi.SSID.includes("unknown ssid")&&LK.has(this)){var a=LK.get(this),n=BK.get(this);if(n<0)return;(0,Q.IN)("bindSocketToNetwork",{networkType:"wifi",socketFd:n,success(){a.onbindWifi({})},fail(e){r.emit({...e,errCode:4})}},{})}else r.emit({errMsg:"bindWifi fail: Invalid BSSID",errCode:3})},CM({success(){TM({success(e){t(e)}})}})):r.emit({errMsg:"bindWifi fail: unsupport method on this platform",errCode:5})}connect(e){var t=(0,Y.s)(`jsbinding-tcp-${NK.get(this)}-error`);if((0,Qe.J)("TCP")){var r=e=>{e.address,LK.get(this).connect({address:e.address,port:e.port,type:FK.get(this),timeout:e.timeout})},a=new vK({args:e,address:`${e.address}`,port:+e.port,timeout:e.timeout});a.catch((e=>{t.emit({errMsg:e.message||e.errMsg,errCode:e.errCode,errno:e.errno})})),(0,R.mf)(jK.get(this).customCheck)?a.then(CK,jK.get(this).customCheck):a.then(IK).then(kK).then((e=>{var{useHttpDNS:t,exception:r}=e,a={useHttpDNS:!!t};r&&(a.exception=r),WK.set(NK.get(this),a)})),a.finally((e=>{r(e)}))}else t.emit({errMsg:"connect fail: no permission",errCode:-3})}write(e){if((0,Qe.J)("TCP")){ArrayBuffer.isView(e)&&(e=e.buffer);var t={message:e};OK.get(this)&&(t.socketfd=OK.get(this)),LK.get(this).send(t)}else{(0,Y.s)(`jsbinding-tcp-${NK.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}close(){OK.get(this)?LK.get(this).close(OK.get(this)):LK.get(this).close()}}class $K extends VK{constructor(e,t){var r=q.Z.TCP;if(!r)return null;var a=GK[GK.length-20];if(a&&Date.now()-a<3e5)throw new Xe.iZ("[TCPSocket] created too much.");GK.push(Date.now()),GK.length>20&&GK.shift();var n=new r;if(null===n)return null;super(n,0,e,t)}}var qK=new WeakMap,zK=new WeakMap,HK=new Map,KK=1,JK=[],QK=new WeakMap,YK={};class ZK{constructor(e,t,r){qK.set(this,e),QK.set(this,t),zK.set(this,r||{}),["close","connect","error","message","bindWifi"].forEach((t=>{var r=(0,Y.s)(`jsapi-tcp-${e}-${t}`);this[`on${(0,ua.fm)(t)}`]=r.onMethod,this[`off${(0,ua.fm)(t)}`]=r.offMethod}))}bindWifi(){(0,Y.s)(`jsapi-tcp-${qK.get(this)}-error`).emit({errMsg:"bindWifi fail: unsupport method on this platform",errCode:5})}connect(e){var t,r=(0,Y.s)(`jsapi-tcp-${qK.get(this)}-error`),a=e=>{if(e.address,(0,Q.IN)("connectTCPSocket",{id:qK.get(this),address:e.address,port:e.port,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Xe.iZ(t)},n=new vK({args:e,address:`${e.address}`,port:+e.port,timeout:e.timeout});n.catch((e=>{r.emit({errMsg:e.message||e.errMsg,errCode:e.errCode,errno:e.errno})})),(0,R.mf)(zK.get(this).customCheck)?n.then(CK,zK.get(this).customCheck):n.then(IK).then(kK).then((e=>{var{useHttpDNS:t,exception:r}=e,a={useHttpDNS:!!t};r&&(a.exception=r),HK.set(qK.get(this),a)})),n.finally((e=>{a(e)}))}write(e){var t;ArrayBuffer.isView(e)&&(e=e.buffer);var r={id:qK.get(this),message:e};if(QK.get(this)&&(r.socketfd=QK.get(this)),(0,Q.IN)("sendTCPSocketMessage",{...r,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Xe.iZ(t)}close(){var e,t={id:qK.get(this)};if(QK.get(this)&&(t.socketfd=QK.get(this)),(0,Q.IN)("closeTCPSocket",{...t,fail(t){e=t.errMsg,t.errMsg}}),e)throw new Xe.iZ(e)}}class XK extends ZK{constructor(e,t){var r=JK[JK.length-20];if(r&&Date.now()-r<3e5)throw new Xe.iZ("[TCPSocket] created too much.");JK.push(Date.now()),JK.length>20&&JK.shift();var a,n=KK++;if((0,Q.IN)("createTCPSocket",{id:n,type:"ipv6"===t?"IPv6":"IPv4",fail(e){e.errMsg,a=e.errMsg}}),a)throw new Xe.iZ(a);super(n,0,e)}}x.default.onReady((()=>{["bind","accept","close","connect","listening","error","message"].forEach((e=>{(0,Q.jQ)(`onTCPSocket${(0,ua.fm)(e)}`,(t=>{var{id:r,sockfd:a}=t;delete t.id,delete t.sockfd,(0,ua.fm)(e);var n=(0,Y.s)(`jsapi-tcp-${r}-${e}`);if("accept"===e){var i=KK++,o=new ZK(i,a);return YK[a]=o,n.emit(o),void(0,Q.IN)("recvTCPSocket",{id:i,sockfd:a,fail(e){e.errMsg}})}if(("close"===e||"error"===e||"message"===e)&&a&&YK[a]){var s=qK.get(YK[a]);return(0,Y.s)(`jsapi-tcp-${s}-${e}`).emit(t),void("close"===e&&delete YK[a])}"message"===e&&(t=_K(t)),"connect"===e&&(t=bK(t)),"connect"===e&&(Object.assign(t,HK.get(r)),HK.delete(r)),n.emit(t),"listening"===e&&(0,Q.IN)("acceptTCPSocket",{id:r,fail(e){e.errMsg}})}))}))}));var eJ,tJ,rJ,aJ,nJ,iJ,oJ,sJ,lJ,cJ,uJ,dJ,pJ,hJ,fJ,gJ,vJ,mJ,yJ,_J,bJ,wJ,IJ,SJ,kJ,CJ,TJ,PJ,AJ,EJ,MJ,xJ,DJ,RJ,LJ,NJ,OJ,BJ,jJ,FJ,WJ,UJ,GJ,VJ,$J,qJ,zJ,HJ,KJ,JJ,QJ,YJ,ZJ,XJ,eQ,tQ,rQ,aQ,nQ,iQ,oQ,sQ,lQ,cQ,uQ,dQ,pQ,hQ,fQ,gQ,vQ,mQ,yQ,_Q,bQ,wQ,IQ,SQ,kQ,CQ,TQ,PQ,AQ,EQ,MQ,xQ,DQ,RQ,LQ,NQ,OQ,BQ,jQ,FQ,WQ,UQ,GQ,VQ,$Q,qQ,zQ,HQ,KQ,JQ,QQ,YQ,ZQ,XQ,eY,tY,rY,aY,nY,iY,oY,sY,lY,cY,uY,dY,pY,hY,fY,gY,vY,mY,yY,_Y,bY,wY,IY,SY,kY,CY,TY,PY,AY,EY,MY,xY,DY,RY,LY,NY,OY,BY,jY,FY,WY,UY,GY,VY,$Y,qY,zY,HY,KY,JY,QY,YY,ZY,XY,eZ,tZ,rZ,aZ,nZ,iZ,oZ,sZ,lZ,cZ,uZ,dZ,pZ,hZ,fZ,gZ,vZ,mZ,yZ,_Z,bZ,wZ,IZ,SZ,kZ,CZ,TZ,PZ,AZ,EZ,MZ,xZ,DZ,RZ,LZ,NZ,OZ,BZ,jZ,FZ,WZ,UZ,GZ,VZ,$Z,qZ,zZ,HZ,KZ,JZ,QZ,YZ,ZZ,XZ,eX,tX,rX,aX,nX,iX,oX,sX,lX,cX,uX,dX,pX,hX,fX,gX,vX,mX,yX,_X,bX,wX,IX,SX,kX,CX,TX,PX,AX,EX,MX,xX,DX,RX,LX,NX,OX,BX,jX,FX,WX,UX,GX,VX,$X,qX,zX,HX,KX,JX,QX,YX,ZX,XX,e0,t0,r0,a0,n0,i0,o0,s0,l0,c0,u0,d0,p0,h0,f0,g0,v0,m0,y0,_0,b0,w0,I0,S0,k0,C0,T0,P0,A0,E0,M0,x0,D0,R0,L0,N0,O0,B0,j0,F0,W0,U0,G0,V0,$0,q0,z0,H0,K0,J0,Q0,Y0,Z0,X0,e1,t1,r1,a1,n1,i1,o1,s1,l1,c1,u1,d1,p1,h1,f1,g1,v1,m1,y1,_1,b1,w1,I1,S1,k1,C1,T1,P1,A1,E1,M1,x1,D1,R1,L1,N1,O1,B1,j1,F1,W1,U1,G1,V1,$1,q1,z1,H1,K1,J1,Q1,Y1,Z1,X1,e2,t2,r2,a2,n2,i2,o2,s2,l2,c2,u2,d2,p2,h2,f2,g2,v2,m2,y2,_2,b2,w2,I2,S2,k2,C2,T2,P2,A2,E2,M2,x2,D2,R2,L2,N2,O2,B2,j2,F2,W2,U2,G2,V2,$2,q2,z2,H2,K2,J2,Q2,Y2,Z2,X2,e3,t3,r3,a3,n3,i3,o3,s3,l3,c3,u3,d3,p3,h3,f3,g3,v3,m3,y3,_3,b3,w3,I3,S3,k3,C3,T3,P3,A3,E3,M3,x3,D3,R3,L3,N3,O3,B3,j3,F3,W3,U3,G3,V3,$3,q3,z3,H3,K3,J3,Q3,Y3,Z3,X3,e5,t5,r5,a5,n5,i5,o5,s5,l5,c5,u5,d5,p5,h5,f5,g5,v5,m5,y5,_5,b5,w5,I5,S5,k5,C5,T5,P5,A5,E5,M5,x5,D5,R5,L5,N5,O5,B5,j5,F5,W5,U5,G5,V5,$5,q5,z5,H5,K5,J5,Q5,Y5,Z5,X5,e4,t4,r4,a4,n4,i4,o4,s4,l4,c4,u4,d4,p4,h4,f4,g4,v4,m4,y4,_4,b4,w4,I4,S4,k4,C4,T4,P4,A4,E4,M4,x4,D4,R4,L4,N4,O4,B4,j4,F4,W4,U4,G4,V4,$4,q4,z4,H4,K4,J4,Q4,Y4,Z4,X4,e6,t6,r6,a6,n6,i6,o6,s6,l6,c6,u6,d6,p6,h6,f6,g6,v6,m6,y6,_6,b6,w6,I6,S6,k6,C6,T6,P6,A6,E6,M6,x6,D6,R6,L6,N6,O6,B6,j6,F6,W6,U6,G6,V6,$6,q6,z6,H6,K6,J6,Q6,Y6,Z6,X6,e8,t8,r8,a8,n8,i8,o8,s8,l8,c8,u8,d8,p8,h8,f8,g8,v8,m8,y8,_8,b8,w8,I8,S8,k8,C8,T8,P8,A8,E8,M8,x8,D8,R8,L8,N8,O8,B8,j8,F8,W8,U8,G8,V8,$8,q8,z8,H8,K8,J8,Q8,Y8,Z8,X8,e9,t9,r9,a9,n9,i9,o9,s9,l9,c9,u9,d9,p9,h9,f9,g9,v9,m9,y9,_9,b9,w9,I9,S9,k9,C9,T9,P9,A9,E9,M9,x9,D9,R9,L9,N9,O9,B9,j9,F9,W9,U9,G9,V9,$9,q9,z9,H9,K9,J9,Q9,Y9,Z9,X9,e7,t7,r7,a7,n7,i7,o7,s7,l7,c7,u7,d7,p7,h7,f7,g7,v7,m7,y7,_7,b7,w7,I7,S7,k7,C7,T7,P7,A7,E7,M7,x7,D7,R7,L7,N7,O7,B7,j7,F7,W7,U7,G7,V7,$7,q7,z7,H7,K7,J7,Q7,Y7,Z7,X7,eee,tee,ree,aee,nee,iee,oee,see,lee,cee,uee,dee,pee,hee,fee,gee,vee,mee,yee,_ee,bee,wee,Iee,See,kee,Cee,Tee,Pee,Aee,Eee,Mee,xee,Dee,Ree,Lee,Nee,Oee,Bee,jee,Fee,Wee,Uee,Gee,Vee,$ee,qee,zee,Hee,Kee,Jee,Qee,Yee,Zee,Xee,ete,tte,rte,ate,nte,ite,ote,ste,lte,cte,ute,dte,pte,hte,fte,gte,vte,mte,yte,_te,bte,wte,Ite,Ste,kte,Cte,Tte,Pte,Ate,Ete,Mte,xte,Dte,Rte,Lte,Nte,Ote,Bte,jte,Fte,Wte,Ute,Gte,Vte,$te,qte,zte,Hte,Kte,Jte,Qte,Yte,Zte,Xte,ere,tre,rre,are,nre,ire,ore,sre,lre,cre,ure,dre,pre,hre,fre,gre,vre,mre,yre,_re,bre,wre,Ire,Sre,kre,Cre,Tre,Pre,Are,Ere,Mre,xre,Dre,Rre,Lre,Nre,Ore,Bre,jre,Fre,Wre,Ure,Gre,Vre,$re,qre,zre,Hre,Kre,Jre,Qre,Yre,Zre,Xre,eae,tae,rae,aae,nae,iae,oae,sae,lae,cae,uae,dae,pae,hae,fae,gae,vae,mae,yae,_ae,bae,wae,Iae,Sae,kae,Cae,Tae,Pae,Aae,Eae,Mae,xae,Dae,Rae,Lae,Nae,Oae,Bae,jae,Fae,Wae,Uae,Gae,Vae,$ae,qae,zae,Hae,Kae,Jae,Qae,Yae,Zae,Xae,ene,tne,rne,ane,nne,ine,one,sne,lne,cne,une,dne,pne,hne,fne,gne,vne,mne,yne,_ne,bne,wne,Ine,Sne,kne,Cne,Tne,Pne,Ane,Ene,Mne,xne,Dne,Rne,Lne,Nne,One,Bne,jne,Fne,Wne,Une,Gne,Vne,$ne=({type:e="ipv4"}={})=>z.gm?new DK({},e.toLowerCase()):z.jP?new XK({},e.toLowerCase()):new $K({},e.toLowerCase()),qne=!1,zne=null,Hne=e=>(0,Ae.NX)("openBusinessView",function(){var t=_e()((function*(t){if(qne)throw new Error("another navigation is in progress");qne=!0,t.timeout&&(zne=setTimeout((()=>qne=!1),t.timeout));try{if((0,Q.zy)(t,{businessType:""}),e&&!(0,Qe.J)("openBusinessView"))throw new Error("no permission");var r=Object.assign({},t);return e&&(delete r.sourcetype,delete r.preScene,delete r.preSceneNote,delete r.agentId,delete r.privateExtraData,delete r.scene,delete r.sceneNote),yield(0,Q.bb)("openBusinessView",r)}finally{qne=!1,zne&&clearTimeout(zne)}}));return function(e){return t.apply(this,arguments)}}()),Kne=Hne(!0),Jne=Hne(!1),Qne={channelApiname:"",invokeId:"",time4:void 0,time6:void 0},Yne=({invokeId:e,actionType:t,actionValue:r=0,actionStatus:a="",actionTimestamp:n,actionCost:i=0})=>{var o=(0,Cy.Ge)(),s=(0,Cy.g5)(),l=[(0,rr._getCurrentNetworkType)(),(0,pi.k)()+" "+(0,pi.n)(),e,t,r,encodeURIComponent(a),n,i,1,o,s];b.reportKeyValue({key:"VirtualPayment",value:l.join(",")})},Zne=["short_series_goods","short_series_coin"],Xne="requestVirtualPayment",eie=e=>Object.fromEntries(Object.entries(e).filter((([e])=>"success"!==e&&"fail"!==e&&"complete"!==e))),tie=(e={})=>{if((0,Q.r3)(Xne,e,{signature:"",signData:"",paySig:"",mode:""})){var t,{success:r,fail:a}=(0,Q.Rn)(e,"requestVirtualPayment"),n=Date.now(),i=(0,ve.M8)(),o=JSON.stringify(e);if(Yne({invokeId:i,actionType:"invokeRequestVirtualPayment",actionStatus:o,actionTimestamp:n}),-1!==Zne.indexOf(e.mode)){(0,Ze.showLoading)({title:"支付中...",mask:!0});var s=!0;if("string"==typeof e.signData){var l,c,u,d,p=x.default.accountInfo.appId,h=function(){var t=_e()((function*(t){var{resultCode:n,resultMsg:o,innerCode:s}=t;if(0!==n){o=o.replace("requestVirtualPayment:fail",""),-15009!==n&&1138!==n||((0,Ze._showModal)({title:"提示",content:o,showCancel:!1}),o="PAY_LIMIT"),a({errMsg:`${Xne}:fail ${o}`,errno:n,errCode:n});var l=Date.now();Yne({invokeId:i,actionType:"beforeCloseOrder",actionTimestamp:l}),(0,Q.Qh)({apiName:"webapi_wxa_closeiapbuyorder",sdkApiName:"wxa_closeiapbuyorder",reqData:{env:d,order_no:c,mode:e.mode,ret_code:n,inner_code:s}}).then((e=>{var t=Date.now();0===e.data.err_code?Yne({invokeId:i,actionType:"afterCloseOrder",actionStatus:JSON.stringify(e),actionCost:t-l,actionTimestamp:t}):Yne({invokeId:i,actionType:"afterCloseOrder",actionValue:e.data.err_code||-1,actionStatus:JSON.stringify(e),actionCost:t-l,actionTimestamp:t})})).catch((e=>{var t=Date.now();Yne({invokeId:i,actionType:"afterCloseOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:t-l,actionTimestamp:t})}))}else r({})}));return function(e){return t.apply(this,arguments)}}();(-1!==e.mode.indexOf("goods")?(e=>{var r=eie(e),a={pay_sdk_version:1,user_args:{sign_data:r.signData,mode:r.mode,signature:r.signature,pay_sig:r.paySig},scene_note:Ve.Z.sceneNote},o=Date.now();return Yne({invokeId:i,actionType:"beforeCreateItemOrder",actionStatus:JSON.stringify(a),actionCost:o-n,actionTimestamp:o}),(0,Q.Qh)({apiName:"webapi_wxa_getiapinfocreateitemorder",sdkApiName:"wxa_getiapinfocreateitemorder",reqData:a}).then((e=>{if(t=Date.now(),e.data&&0===e.data.err_code)return Yne({invokeId:i,actionType:"afterCreateItemOrder",actionStatus:JSON.stringify(e.data),actionCost:t-o,actionTimestamp:t}),e.data;throw{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw t=Date.now(),Yne({invokeId:i,actionType:"afterCreateItemOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:t-o,actionTimestamp:t}),e}))})(e):(e=>{var r=eie(e),a={pay_sdk_version:1,user_args:{sign_data:r.signData,mode:r.mode,signature:r.signature,pay_sig:r.paySig},scene_note:Ve.Z.sceneNote},o=Date.now();return Yne({invokeId:i,actionType:"beforeCreateCoinOrder",actionStatus:JSON.stringify(a),actionCost:o-n,actionTimestamp:o}),(0,Q.Qh)({apiName:"webapi_wxa_getiapinfocreatecoinorder",sdkApiName:"wxa_getiapinfocreatecoinorder",reqData:a}).then((e=>{if(t=Date.now(),e.data&&0===e.data.err_code)return Yne({invokeId:i,actionType:"afterCreateCoinOrder",actionStatus:JSON.stringify(e.data),actionCost:t-o,actionTimestamp:t}),e.data;throw{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw t=Date.now(),Yne({invokeId:i,actionType:"afterCreateCoinOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:t-o,actionTimestamp:t}),e}))})(e)).then((t=>{var r=t.iap_info,a=r.use_save_result;l=r.open_id,u=r.offer_id;var n=t.order_info,i={};return a&&n&&n.save_result&&(i.save_result=n.save_result),r.use_wx_proxy&&(i.use_wx_proxy=1),r.direct_channel&&(i.direct_channel="wechat"),Qne.channelApiname=r.channel_apiname,i.openid=l,i.login_wx_appid=p||e.loginWXAppId,i.pf="android",i.goodstokenurl=n.url_params,c=n.order_no,i.openkey=n.iap_access_token,d=n.env,i.buy_quantity=n.buy_quantity,i.zoneid=n.zoneid,i})).then((e=>{e.offer_id=u,e.session_type="wc_actoken",e.session_id="hy_gameid";var r,a=Date.now();try{Yne({invokeId:i,actionType:"invokeMidas",actionCost:a-t,actionTimestamp:a}),Qne.time4=a,Qne.invokeId=i;var n="goods";(e=>{e})("requestVirtualPayment"),MidasSDK.getMidasPayApi()[n].destroy(),r=MidasSDK.getMidasPayApi()[n].init({env:d})}catch(e){s&&((0,Ze.hideLoading)(),s=!1),Yne({invokeId:i,actionType:"invokeMidasFail",actionStatus:e.message,actionCost:a-t,actionTimestamp:a})}setTimeout((()=>{s&&((0,Ze.hideLoading)(),s=!1)}),10);var o=function(e,t){return new Promise((r=>{e.launchPay(t,(e=>{r(e)}))}))}(r,e);return o})).then(h).catch(((e={})=>{s&&((0,Ze.hideLoading)(),s=!1),void 0===e.errCode&&"string"==typeof e.err_code&&("0"===e.err_code?e.errCode=5:e.errCode=parseInt(e.err_code,10)),a({errMsg:`${Xne}:fail ${e.errMsg||e.message}`,errno:e.errCode,errCode:e.errCode})}))}else a({errMsg:`${Xne}:fail signData参数类型必须是string`,errno:1001,errCode:1001})}else a({errMsg:`${Xne}:fail mode错误`,errno:1e3,errCode:1e3})}},rie=(e,t)=>{var r=(0,pi.k)()+" "+(0,pi.n)(),a=["","","getPhoneNumber",Ve.Z.lastRoute,t?20:10,e,r,(null===x.default||void 0===x.default?void 0:x.default.appType)||0].map(encodeURIComponent).join(",");b.reportKeyValue({key:"getPhoneNumberReport",value:a})},aie=f.createLogger("getPhoneNumber|service"),nie=(0,Q.TG)("commercialPhoneNumber","webapi_consume_commercialphonenumber",(e=>e)),iie=(e,t,r)=>{rie("invokeConsumerGetPhoneNumber",t),aie.info("invokeConsumerGetPhoneNumber",t,r),(0,un.getSystemInfo)({complete:a=>{nie({code:e.code,encrypted_data:e.encryptedData,iv:e.iv,device_brand:z.iw,device_model:a.model,os_version:a.system,is_realtime:t,request_id:r,success:()=>{aie.info("consumerGetPhoneNumberSuccess",t),rie("consumerGetPhoneNumberSuccess",t)},fail:e=>{aie.info("consumerGetPhoneNumberFail",e),rie("consumerGetPhoneNumberFail_"+(e.errno||e.err_code||e.errCode)+"_"+e.errMsg,t)}})}})},oie=f.createLogger("getPhoneNumber|service"),sie=f.createLogger("getPhoneNumber|service"),lie=e=>{var{phoneNumberNoQuotaToast:t,isrealtime:r,time1:a,success:n}=e;rie("invokeWxGetPhoneNumber",r),sie.info("invokeWxGetPhoneNumber",r);var i=!1,o=!0;if(z.wZ){x.default.clientVersion>=671096373&&(i=!0);var s=x.default.brand&&x.default.brand.toUpperCase();"HUAWEI"!==s&&"HONOR"!==s||x.default.systemApiLevel&&x.default.systemApiLevel>27||(o=!1)}else z.cj?x.default.clientVersion>=402660916&&(i=!0):o=!1;sie.info("是否开启仿原生获取手机号",o),sie.info("是否支持打开透明背景仿原生",i),(z.DD||z.gm)&&r?(rie(`NativeGetPhone_Fail_100_getrealtimephonenumber not supported on ${z.iw}`,r),(0,Ze._showModal)({content:"该手机号需要验证，请在移动端进行操作",showCancel:!1,complete:()=>{n({invokeType:"complete",data:{public:{errMsg:`getPhoneNumber:fail getrealtimephonenumber not supported on ${z.iw}`,errno:100}}})}})):i?o?(rie("FakeNativeGetPhone",r),sie.info("FakeNativeGetPhone",r),(e=>{var t=Date.now();(0,Ze._showToast)({title:"正在加载",icon:"loading",mask:!1,duration:12e4});var{phoneNumberNoQuotaToast:r,isrealtime:a,time1:n,success:i}=e;Jne({businessType:"weappGetPhoneNumber",scene:1263,queryString:`data=${(0,we.rS)(JSON.stringify({appid:x.default.accountInfo.appId,is_realtime:a}))}`,envVersion:"release",privateExtraData:{appid:x.default.accountInfo.appId,isrealtime:a,path:Ve.Z.lastRoute,time1:n,time2:t,icon:x.default.accountInfo.icon,nickname:x.default.accountInfo.nickname,phoneNumberNoQuotaToast:r},sticky:!0,disableVisibilityEvent:!0,success(e){if(oie.info("weappGetPhoneNumber success",e),(0,Ze.hideToast)(),e.extraData&&e.extraData.isSuccess){var{cloud_id:t,encryptedData:r,iv:n,request_id:o}=e.extraData,s={encryptedData:r,iv:n,cloudID:t,errMsg:"getPhoneNumber:ok"},{data:l}=e.extraData;if(l)try{(l=JSON.parse(l))&&l.code&&(s.code=l.code,iie(s,a,o),co("","getPhoneNumberByBusinessView"))}catch(e){console.error(e),oie.error("parse code fail",e.message)}rie("FakeNativeGetPhone_Success",a),i({invokeType:"complete",data:{public:s}})}else rie("FakeNativeGetPhone_Fail_BusinessViewSuccess_"+(e.extraData.errno||e.extraData.err_code||e.extraData.errCode)+e.extraData.errMsg,a),-12001===e.extraData.errno?i({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail no permission",errno:e.extraData.errno,err_code:e.extraData.err_code,errCode:e.extraData.errCode}}}):-13e3===e.extraData.errno?((0,Ze.showInnerToast)({icon:"",title:"操作太频繁，请稍后再试"}),i({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail operating too frequently",errno:e.extraData.errno,err_code:e.extraData.err_code,errCode:e.extraData.errCode}}})):i({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail "+e.extraData.errMsg,errno:e.extraData.errno,err_code:e.extraData.err_code,errCode:e.extraData.errCode}}})},fail(e){(0,Ze.hideToast)(),console.error("openBusinessView fail",e),oie.info("openBusinessView fail",e),"openBusinessView:fail cancel"===e.errMsg?(rie("FakeNativeGetPhone_Fail_BusinessViewFail_Cancel",a),i({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail user deny"}}})):(rie("FakeNativeGetPhone_Fail_BusinessViewFail_"+(e.errno||e.err_code||e.errCode)+e.errMsg,a),i({invokeType:"nativeGetPhone"}))}})})({phoneNumberNoQuotaToast:t,isrealtime:r,time1:a,success:n})):(rie("NativeGetPhone_YesTransparent_NoExpt",r),sie.info("NativeGetPhone_YesTransparent_NoExpt",r),n({invokeType:"nativeGetPhone"})):(rie("NativeGetPhone_NoTransparent",r),sie.info("NativeGetPhone_NoTransparent",r),n({invokeType:"nativeGetPhone"}))},cie=!1,uie=f.createLogger("getPhoneNumber|service"),die=function(){var e=_e()((function*(e={}){if(Tr("getPhoneNumber"))(0,Q.YG)("getPhoneNumber",e,"no permission");else if(cie)(0,Q.YG)("getPhoneNumber",e,"invoke getPhoneNumber too frequently");else if((0,ln.Vt)()){uie.info("checkPrivacy");var t=yield li("button.getPhoneNumber").catch((e=>(f.error("getPhoneNumber fail",e),{success:!0})));if(uie.info("checkPrivacyResult",t),!t.success){rie("getPhoneNumber:fail "+t.errMsg+",errno:"+t.errno,e.isrealtime),f.error("getPhoneNumber:fail "+t.errMsg+",errno:"+t.errno);var r={};return r.errno=t.errno,r.errMsg=t.errMsg,void(0,Q.FE)({name:"getPhoneNumber",args:e,errMsg:r.errMsg,errno:r.errno,success:!1})}var a=Date.now(),{isRealtime:n=!1,phoneNumberNoQuotaToast:i=!0}=e;lie({isrealtime:n,phoneNumberNoQuotaToast:i,time1:a,success:t=>{if(cie=!1,"complete"===t.invokeType){uie.info("getPhoneNumberComplete",t);var{errno:r=0,errMsg:a="",cloudID:n="",code:i=""}=t.data.public;r?(0,Q.FE)({name:"getPhoneNumber",args:e,errno:r,errMsg:a,success:!1}):(0,Q.FE)({name:"getPhoneNumber",args:e,res:{cloudID:n,code:i,errMsg:a}})}"nativeGetPhone"===t.invokeType&&(uie.info("getPhoneNumberNativeGetPhone",t),(0,Q.YG)("getPhoneNumber",e,"getPhoneNumber not support on current system version"))}})}else(0,Q.YG)("getPhoneNumber",e,"require user interaction (only in touchend event)")}));return function(){return e.apply(this,arguments)}}(),pie="openUrlByExtBrowser";function hie(e={}){Tr(pie)?(0,Q.YG)(pie,e,"[apiBlockState] no permission"):(0,Qe.J)("openUrlByExtBrowser3")?(0,Q.r3)(pie,e,{url:""})&&(x.default.clientVersion<402666240||!z.cj?(0,Q.YG)(pie,e,"not support on current system"):(0,Jb.Lu)({url:e.url,success:t=>{(0,Q.FE)({name:pie,args:e,errMsg:t.errMsg})},fail:t=>{(0,Q.YG)(pie,e,t.errMsg)}})):(0,Q.YG)(pie,e,"[checkPermission] no permission")}(0,Q.jQ)("onContactUpdate",(()=>{})),x.default.onReady((()=>{(0,al.J)((()=>{b.flushReportKeyValueList(),b.flushReportIDKeyList()}))})),BM||(BM=!0,x.default.onReady((()=>{(0,z.aI)()&&(setTimeout((()=>{var e=UM=Object.assign({},x.default.appLaunchInfo||{},(0,Tv.x9)()||{});ax({scene:e.scene||-1,isLaunch:!0,sessionId:e.sessionid||e.sessionId||""}),(0,Cv.OQ)(ax),SM(nx)}),0),(0,Cv.m$)(ox),xM=(0,un._getSystemInfoSyncFromCache)(!0))}))),(0,kv.az)();var fie=DS,gie=NS,vie=jS,mie=GS,yie=VS,_ie=$S,bie=qS,wie=e=>{zS=_.surroundThirdByTryCatch(e,"at onShareAppMessage callback function")},Iie=()=>{zS=null},Sie=e=>{JS=_.surroundThirdByTryCatch(e,"at onShareTimeline callback function")},kie=()=>{JS=null},Cie=YS.a2,Tie=YS.pp,Pie=()=>{(0,Ca.v)("onLaunch"),console.warn("onLaunch 已废弃，请使用 wx.getLaunchOptionsSync()。")},Aie=()=>{(0,Ca.v)("offLaunch"),console.warn("offLaunch 已废弃")},Eie=e=>{gk=e},Mie=()=>{gk=null},xie=function(e){fk.on("down",e)},Die=function(e){fk.off("down",e)},Rie=function(e){fk.on("up",e)},Lie=function(e){fk.off("up",e)},Nie=gw.s2,Oie=gw.S1,Bie=gw.xN,jie=gw._g,Fie=gw.ri,Wie=gw.r,Uie=gw.Gr,Gie=gw.g7,Vie=e=>FS.on("Wheel",e),$ie=e=>FS.off("Wheel",e),qie=e=>{wt.U.on("onWindowResize",e)},zie=e=>{wt.U.off("onWindowResize",e)},Hie=e=>{nk=_.surroundThirdByTryCatch(e,"at onGameLiveStateChange callback function")},Kie=()=>{nk=null},Jie=lk,Qie=ck,{onTouchStart:Yie,offTouchStart:Zie,onTouchMove:Xie,offTouchMove:eoe,onTouchEnd:toe,offTouchEnd:roe,onTouchCancel:aoe,offTouchCancel:noe}=fie,{onMouseDown:ioe,offMouseDown:ooe,onMouseMove:soe,offMouseMove:loe,onMouseUp:coe,offMouseUp:uoe}=gie,{onPointerLockChange:doe,offPointerLockChange:poe,onPointerLockError:hoe,offPointerLockError:foe}=vie,{setStorage:goe,setStorageSync:voe,getStorage:moe,getStorageSync:yoe,getStorageInfo:_oe,getStorageInfoSync:boe,removeStorage:woe,removeStorageSync:Ioe,clearStorage:Soe,clearStorageSync:koe}=Oe.game;o.onLoad((()=>{v.hijack(!0,null)}));var Coe,Toe=re.Wb.connectSocket,Poe=re.Wb.closeSocket,Aoe=re.Wb.sendSocketMessage,Eoe=re.Wb.onSocketOpen,Moe=re.Wb.onSocketClose,xoe=re.Wb.onSocketMessage,Doe=re.Wb.onSocketError,Roe=(e={})=>{var t=Be.Z.get(e.shareTicket),{success:r,fail:a,failWithMsg:n}=(0,Q.Rn)(e,Ue);We()?t?(0,Q.yD)({sdkApiName:Ue,apiName:"webapi_getshareinfo",reqData:{share_key:t.shareKey,share_name:t.shareName},success(e){var{data:t}=e;t.roomTopic&&(e.roomTopic=t.roomTopic),delete e.data,r(e)},fail:a}):n({msg:"invalid shareTicket"}):n({msg:"invalid scene"})},Loe=$e,Noe=qe,Ooe=Je,Boe=function(e={}){var{success:t,fail:r,failWithMsg:a}=(0,Q.Rn)(e,Ye),n=Be.Z.get(e.shareTicket);n&&n.shareKey?(0,Qe.J)("authShareRelationship")?(0,Q.yD)({sdkApiName:Ye,apiName:"webapi_authmgr",reqData:{share_key:n.shareKey},success(e){var{iv:r,encrypt_activity_id:a,res:n}=e.data;t({iv:r,encryptedData:a,valid:1===n})},fail:r}):a({msg:"no permission"}):a({msg:"invalid shareTicket"})},joe=Qr,Foe=Ze.showToast,Woe=Ze.hideToast,Uoe=Ze.showLoading,Goe=Ze.hideLoading,Voe=Ze.showModal,$oe=Ze.showActionSheet,qoe=vi,zoe=mi,Hoe=ML,Koe=xL,Joe=DL,Qoe=LL,Yoe=OL,Zoe=WL,Xoe=NL,ese=BL,tse=UL,rse=(e={})=>{(0,Q.r3)("subscribeVoIPVideoMembers",e,{openIdList:[]})&&(0,Q.IN)("subscribeVoIPMembers",e,{beforeAll(e){e.errMsg=e.errMsg.replace("subscribeVoIPMembers","subscribeVoIPVideoMembers")}})},ase=VL,nse=$L,ise=zL,ose=HL,sse=(eJ=Qz("protect",{hookHandlers:{beforeExecute(){!function(e){var t=IH(e,"thirdApp");0!==t&&1!==t||!(0,z.er)()||1===t&&cr()&&(0,Q.IN)("showToast",{icon:"",title:"暂不支持当前功能",duration:2500})}(this.api)}},getState:()=>({api:void 0})}),Coe="gameSDKScriptError",tJ=Qz("catchErr",{hookHandlers:{afterCallback(e,t,r){var{syncError:a}=r;if(void 0!==a){var n=`wx.${this.api}`;if("[object Error]"===Object.prototype.toString.apply(a)&&"AppServiceSdkKnownError"!==a.type)return"ThirdScriptError"===a.type?(b.thirdErrorReport({error:a,extend:n}),Gz):(b.errorReport({key:Coe,error:a,extend:n}),Gz)}}},getState:()=>({api:void 0})}),rJ=Qz("checkTapPermission",{hookHandlers:{syncPrepositive(e){var t=this.api,r=IH(t,"tap"),a=cr();return 10===r&&!a&&(k_({name:t,scene:0,strategy:1}),z.gm||!(0,ua.KU)(t))||40===r&&4!==x.default.appType&&!a?e&&(e.fail||e.complete)?(setTimeout((()=>{(0,Q.YG)(t,e,"can only be invoked by user TAP gesture.")}),0),[!0,null,null,!0]):[!0,"can only be invoked by user TAP gesture."]:50!==r||a?[!1]:e&&(e.fail||e.complete)?(setTimeout((()=>{(0,Q.YG)(t,e,"can only be invoked by user TAP gesture.")}),0),[!0,!1,!1,!0]):[!0,"can only be invoked by user TAP gesture."]},paramHandler(...e){var t=this.api,r=IH(t,"tap"),a=cr(),n=ur();this.status=r;var i=e[0];if(20===r&&a)"function"==typeof i?i=CH(this,i,n):"object"==typeof i&&null!==i&&["success","fail","complete"].forEach((e=>{"function"==typeof i[e]&&(i[e]=CH(this,i[e],n))}));else if(30===r)if("function"==typeof i)i=CH(this,i,t);else if("object"==typeof i&&null!==i&&("function"==typeof i.success&&(i.success=CH(this,i.success,t)),"function"==typeof i.complete)){var o=i.complete;i.complete=(...e)=>{"object"==typeof e[0]&&"string"==typeof e[0].errMsg&&/^\w+:fail/.test(e[0].errMsg)?o.apply(this,e):kH(this,e,o,t)}}},afterCallback(){(0,z.aI)()&&SH.includes(this.status)&&lr()}},getState:()=>({api:void 0,status:void 0,refuseExec:void 0,refuseExecReason:void 0})}),aJ=iH(.05),nJ=iH(.05),iJ=iH(.05),oJ=iH(.05),sJ=iH(.05),lJ=iH(.05),cJ=iH(.05),uJ=iH(.05),dJ=iH(.05),pJ=iH(.05),hJ=iH(.05),fJ=pH(),gJ=iH(.05),vJ=pH(),mJ=iH(.05),yJ=iH(.05),_J=iH(.05),bJ=iH(.05),wJ=uH(),IJ=iH(.05),SJ=pH(),kJ=iH(.05),CJ=iH(.05),TJ=iH(.05),PJ=iH(.05),AJ=iH(.05),EJ=pH(),MJ=iH(.05),xJ=pH(),DJ=iH(.05),RJ=iH(.05),LJ=pH(),NJ=iH(.05),OJ=iH(.05),BJ=pH(),jJ=iH(.05),FJ=iH(.05),WJ=pH(),UJ=iH(.05),GJ=iH(.05),VJ=pH(),$J=iH(.05),qJ=iH(.05),zJ=iH(.05),HJ=iH(.05),KJ=iH(.05),JJ=iH(.05),QJ=pH(),YJ=iH(.05),ZJ=pH(),XJ=EH(),eQ=oH(),tQ=pH(),rQ=PH(),aQ=EH(),nQ=oH(),iQ=pH(),oQ=PH(),sQ=oH(),lQ=pH(),cQ=PH(),uQ=iH(.05),dQ=pH(),pQ=oH(),hQ=pH(),fQ=iH(.05),gQ=EH(),vQ=iH(.05),mQ=pH(),yQ=PH(),_Q=iH(.05),bQ=iH(.05),wQ=iH(.05),IQ=iH(.05),SQ=pH(),kQ=iH(.05),CQ=pH(),TQ=iH(.05),PQ=pH(),AQ=iH(.05),EQ=iH(.05),MQ=iH(.05),xQ=iH(.05),DQ=pH(),RQ=iH(.05),LQ=iH(.05),NQ=iH(.05),OQ=pH(),BQ=iH(.05),jQ=pH(),FQ=iH(.05),WQ=iH(.05),UQ=iH(.05),GQ=pH(),VQ=iH(.05),$Q=iH(.05),qQ=pH(),zQ=iH(.05),HQ=pH(),KQ=iH(.05),JQ=pH(),QQ=iH(.05),YQ=pH(),ZQ=iH(.05),XQ=pH(),eY=iH(.05),tY=pH(),rY=iH(.05),aY=pH(),nY=iH(.05),iY=iH(.05),oY=iH(.05),sY=iH(.05),lY=iH(.05),cY=iH(.05),uY=iH(.05),dY=iH(.05),pY=iH(.05),hY=iH(.05),fY=EH(),gY=iH(.05),vY=pH(),mY=iH(.05),yY=pH(),_Y=iH(.05),bY=iH(.05),wY=iH(.05),IY=iH(.05),SY=iH(.05),kY=iH(.05),CY=iH(.05),TY=iH(.05),PY=iH(.05),AY=iH(.05),EY=pH(),MY=EH(),xY=iH(.05),DY=pH(),RY=iH(.05),LY=pH(),NY=iH(.05),OY=iH(.05),BY=EH(),jY=iH(.05),FY=pH(),WY=iH(.05),UY=pH(),GY=iH(.05),VY=iH(.05),$Y=EH(),qY=iH(.05),zY=pH(),HY=iH(.05),KY=pH(),JY=iH(.05),QY=iH(.05),YY=iH(.05),ZY=pH(),XY=iH(.05),eZ=pH(),tZ=iH(.05),rZ=pH(),aZ=iH(.05),nZ=iH(.05),iZ=iH(.05),oZ=iH(.05),sZ=iH(.05),lZ=iH(.05),cZ=pH(),uZ=iH(.05),dZ=pH(),pZ=EH(),hZ=iH(.05),fZ=pH(),gZ=EH(),vZ=iH(.05),mZ=pH(),yZ=iH(.05),_Z=pH(),bZ=iH(.05),wZ=pH(),IZ=EH(),SZ=iH(.05),kZ=pH(),CZ=iH(.05),TZ=pH(),PZ=iH(.05),AZ=pH(),EZ=iH(.05),MZ=iH(.05),xZ=iH(.05),DZ=pH(),RZ=iH(.05),LZ=pH(),NZ=iH(.05),OZ=pH(),BZ=iH(.05),jZ=pH(),FZ=iH(.05),WZ=pH(),UZ=iH(.05),GZ=pH(),VZ=iH(.05),$Z=pH(),qZ=iH(.05),zZ=pH(),HZ=iH(.05),KZ=pH(),JZ=iH(.05),QZ=pH(),YZ=iH(.05),ZZ=pH(),XZ=EH(),eX=iH(.05),tX=pH(),rX=iH(.05),aX=iH(.05),nX=iH(.05),iX=iH(.05),oX=pH(),sX=iH(.05),lX=pH(),cX=iH(.05),uX=pH(),dX=iH(.05),pX=iH(.05),hX=iH(.05),fX=iH(.05),gX=iH(.05),vX=iH(.05),mX=iH(.05),yX=iH(.05),_X=iH(.05),bX=iH(.05),wX=iH(.05),IX=pH(),SX=iH(.05),kX=pH(),CX=iH(.05),TX=pH(),PX=iH(.05),AX=iH(.05),EX=iH(.05),MX=iH(.05),xX=EH(),DX=iH(.05),RX=pH(),LX=EH(),NX=iH(.05),OX=pH(),BX=EH(),jX=iH(.05),FX=EH(),WX=iH(.05),UX=iH(.05),GX=iH(.05),VX=pH(),$X=iH(.05),qX=pH(),zX=iH(.05),HX=AH(),KX=function(e=1){return Kz("allowArgsGetter",{getState:()=>({deep:e})})}(2),JX=iH(.05),QX=iH(.05),YX=iH(.05),ZX=EH(),XX=iH(.05),e0=pH(),t0=iH(.05),r0=pH(),a0=iH(.05),n0=pH(),i0=EH(),o0=iH(.05),s0=pH(),l0=iH(.05),c0=pH(),u0=EH(),d0=iH(.05),p0=pH(),h0=iH(.05),f0=pH(),g0=iH(.05),v0=pH(),m0=iH(.05),y0=iH(.05),_0=iH(.05),b0=iH(.05),w0=iH(.05),I0=iH(.05),S0=iH(.05),k0=pH(),C0=iH(.05),T0=iH(.05),P0=iH(.05),A0=iH(.05),E0=Kz("reportCompressedTexImage2D",{hookHandlers:{resultHandler(e){if(xH)return e;if(null!=e&&e.getContext){var t=e.getContext;e.getContext=(...r)=>{var a=t.call(e,...r);if(a&&a.compressedTexImage2D){var n=a.compressedTexImage2D;a.compressedTexImage2D=(...e)=>{xH=!0,Ry("WebGLRenderingContext.compressedTexImage2D",(0,Rt.M8)(),{},1,Date.now(),(0,rr._getCurrentNetworkType)(),0,void 0),n.call(a,...e)}}return a}}return e}}}),M0=iH(.05),x0=iH(.05),D0=iH(.05),R0=iH(.05),L0=iH(.05),N0=iH(.05),O0=iH(.05),B0=iH(.05),j0=iH(.05),F0=iH(.05),W0=iH(.05),U0=iH(.05),G0=iH(.05),V0=iH(.05),$0=iH(.05),q0=iH(.05),z0=iH(.05),H0=iH(.05),K0=iH(.05),J0=iH(.05),Q0=iH(.05),Y0=iH(.05),Z0=iH(.05),X0=iH(.05),e1=iH(.05),t1=iH(.05),r1=iH(.05),a1=iH(.05),n1=iH(.05),i1=iH(.05),o1=iH(.05),s1=iH(.05),l1=iH(.05),c1=iH(.05),u1=iH(.05),d1=iH(.05),p1=iH(.05),h1=iH(.05),f1=iH(.05),g1=iH(.05),v1=iH(.05),m1=iH(.05),y1=iH(.05),_1=iH(.05),b1=iH(.05),w1=iH(.05),I1=iH(.05),S1=iH(.05),k1=iH(.05),C1=iH(.05),T1=pH(),P1=PH(),A1=iH(.05),E1=iH(.05),M1=iH(.05),x1=pH(),D1=iH(.05),R1=iH(.05),L1=iH(.05),N1=iH(.05),O1=iH(.05),B1=iH(.05),j1=iH(.05),F1=iH(.05),W1=iH(.05),U1=iH(.05),G1=iH(.05),V1=iH(.05),$1=iH(.05),q1=pH(),z1=iH(.05),H1=iH(.05),K1=iH(.05),J1=iH(.05),Q1=pH(),Y1=iH(.05),Z1=pH(),X1=iH(.05),e2=pH(),t2=iH(.05),r2=pH(),a2=iH(.05),n2=pH(),i2=iH(.05),o2=pH(),s2=iH(.05),l2=pH(),c2=iH(.05),u2=pH(),d2=iH(.05),p2=pH(),h2=iH(.05),f2=iH(.05),g2=iH(.05),v2=iH(.05),m2=iH(.05),y2=iH(.05),_2=iH(.05),b2=iH(.05),w2=iH(.05),I2=iH(.05),S2=iH(.05),k2=iH(.05),C2=iH(.05),T2=iH(.05),P2=iH(.05),A2=iH(.05),E2=iH(.05),M2=iH(.05),x2=cH(),D2=iH(.05),R2=pH(),L2=cH(),N2=iH(.05),O2=uH(),B2=iH(.05),j2=pH(),F2=iH(.05),W2=pH(),U2=iH(.05),G2=iH(.05),V2=iH(.05),$2=iH(.05),q2=iH(.05),z2=iH(.05),H2=iH(.05),K2=iH(.05),J2=iH(.05),Q2=iH(.05),Y2=oH(),Z2=pH(),X2=oH(),e3=oH(),t3=iH(.05),r3=oH(),a3=iH(.05),n3=iH(.05),i3=iH(.05),o3=pH(),s3=iH(.05),l3=iH(.05),c3=iH(.05),u3=pH(),d3=iH(.05),p3=pH(),h3=iH(.05),f3=pH(),g3=iH(.05),v3=pH(),m3=iH(.05),y3=iH(.05),_3=iH(.05),b3=iH(.05),w3=iH(.05),I3=iH(.05),S3=iH(.05),k3=iH(.05),C3=iH(.05),T3=iH(.05),P3=iH(.05),A3=iH(.05),E3=iH(.05),M3=iH(.05),x3=iH(.05),D3=iH(.05),R3=iH(.05),L3=iH(.05),N3=iH(.05),O3=iH(.05),B3=iH(.05),j3=iH(.05),F3=AH(),W3=Kz("noHook",{}),U3=iH(.05),G3=pH(),V3=iH(.05),$3=iH(.05),q3=iH(.05),z3=iH(.05),H3=iH(.05),K3=iH(.05),J3=iH(.05),Q3=pH(),Y3=iH(.05),Z3=iH(.05),X3=pH(),e5=iH(.05),t5=iH(.05),r5=iH(.05),a5=iH(.05),n5=iH(.05),i5=iH(.05),o5=iH(.05),s5=iH(.05),l5=iH(.05),c5=iH(.05),u5=iH(.05),d5=iH(.05),p5=iH(.05),h5=iH(.05),f5=iH(.05),g5=iH(.05),v5=iH(.05),m5=iH(.05),y5=iH(.05),_5=iH(.05),b5=iH(.05),w5=pH(),I5=iH(.05),S5=pH(),k5=iH(.05),C5=iH(.05),T5=iH(.05),P5=iH(.05),A5=iH(.05),E5=iH(.05),M5=EH(),x5=iH(.05),D5=pH(),R5=iH(.05),L5=iH(.05),N5=iH(.05),O5=iH(.05),B5=iH(.05),j5=iH(.05),F5=iH(.05),W5=iH(.05),U5=iH(.05),G5=iH(.05),V5=AH(),$5=iH(.05,"cloud"),q5=MH(),z5=iH(.05,"cloud"),H5=MH(),K5=iH(.05),J5=AH(),Q5=AH(),Y5=iH(.05),Z5=iH(.05),X5=iH(.05),e4=iH(.05),t4=iH(.05),r4=iH(.05),a4=iH(.05),n4=iH(.05),i4=iH(.05),o4=iH(.05),s4=iH(.05),l4=iH(.05),c4=iH(.05),u4=pH(),d4=iH(.05),p4=pH(),h4=iH(.05),f4=iH(.05),g4=iH(.05),v4=iH(.05),m4=iH(.05),y4=iH(.05),_4=iH(.05),b4=iH(.05),w4=iH(.05),I4=iH(.05),S4=iH(.05),k4=iH(.05),C4=iH(.05),T4=iH(.05),P4=EH(),A4=iH(.05),E4=iH(.05),M4=iH(.05),x4=iH(.05),D4=iH(.05),R4=iH(.05),L4=iH(.05),N4=iH(.05),O4=iH(.05),B4=iH(.05),j4=iH(.05),F4=Kz("handleObject",{}),W4=iH(.05),U4=iH(.05),G4=iH(.05),V4=iH(.05),$4=iH(.05),q4=iH(.05),z4=iH(.05),H4=iH(.05),K4=iH(.05),J4=iH(.05),Q4=iH(.05),Y4=iH(.05),Z4=iH(.05),X4=iH(.05),e6=iH(.05),t6=iH(.05),r6=iH(.05),a6=iH(.05),n6=iH(.05),i6=EH(),o6=iH(.05),s6=iH(.05),l6=iH(.05),c6=iH(.05),u6=iH(.05),d6=iH(.05),p6=iH(.05),h6=iH(.05),f6=iH(.05),g6=iH(.05),v6=iH(.05),eJ(m6=tJ(m6=rJ((y6=class{constructor(){T()(this,"requirePrivacyAuthorize",_6,this),T()(this,"onNeedPrivacyAuthorization",b6,this),T()(this,"getPrivacySetting",w6,this),T()(this,"openPrivacyContract",I6,this),T()(this,"request",S6,this),T()(this,"downloadFile",k6,this),T()(this,"uploadFile",C6,this),T()(this,"addNativeDownloadTask",T6,this),T()(this,"calRqt",P6,this),T()(this,"connectSocket",A6,this),T()(this,"closeSocket",E6,this),T()(this,"sendSocketMessage",M6,this),T()(this,"onSocketOpen",x6,this),T()(this,"onSocketClose",D6,this),T()(this,"onSocketMessage",R6,this),T()(this,"onSocketError",L6,this),T()(this,"getNetworkType",N6,this),T()(this,"onNetworkStatusChange",O6,this),T()(this,"offNetworkStatusChange",B6,this),T()(this,"onNetworkWeakChange",j6,this),T()(this,"offNetworkWeakChange",F6,this),T()(this,"openDocument",W6,this),T()(this,"setStorage",U6,this),T()(this,"setStorageSync",G6,this),T()(this,"getStorage",V6,this),T()(this,"getStorageSync",$6,this),T()(this,"getStorageInfo",q6,this),T()(this,"getStorageInfoSync",z6,this),T()(this,"removeStorage",H6,this),T()(this,"removeStorageSync",K6,this),T()(this,"clearStorage",J6,this),T()(this,"clearStorageSync",Q6,this),T()(this,"getBackgroundFetchData",Y6,this),T()(this,"onBackgroundFetchData",Z6,this),T()(this,"setBackgroundFetchToken",X6,this),T()(this,"getBackgroundFetchToken",e8,this),T()(this,"authorize",t8,this),T()(this,"checkSession",r8,this),T()(this,"getUserInfo",a8,this),T()(this,"getUserProfile",n8,this),T()(this,"login",i8,this),T()(this,"openSetting",o8,this),T()(this,"getSetting",s8,this),T()(this,"operateWXData",l8,this),T()(this,"getWeRunData",c8,this),T()(this,"uploadWeRunData",u8,this),T()(this,"addWeRunData",d8,this),T()(this,"getGroupMsgTicket",p8,this),T()(this,"removeUserCloudStorage",h8,this),T()(this,"setUserCloudStorage",f8,this),T()(this,"openCustomerServiceConversation",g8,this),T()(this,"sendRedPacket",v8,this),T()(this,"openRedPacket",m8,this),T()(this,"sendBizRedPacket",y8,this),T()(this,"showRedPackage",_8,this),T()(this,"reportAnalytics",b8,this),T()(this,"reportMonitor",w8,this),T()(this,"requestSubscribeMessage",I8,this),T()(this,"requestSubscribeSystemMessage",S8,this),T()(this,"requestSubscribeWhatsNew",k8,this),T()(this,"getWhatsNewSubscriptionsSetting",C8,this),T()(this,"getUserGameLabel",T8,this),T()(this,"reportUserBehaviorBranchAnalytics",P8,this),T()(this,"addCard",A8,this),T()(this,"openCard",E8,this),T()(this,"saveFile",M8,this),T()(this,"getFileInfo",x8,this),T()(this,"getSavedFileList",D8,this),T()(this,"getSavedFileInfo",R8,this),T()(this,"removeSavedFile",L8,this),T()(this,"getFileSystemManager",N8,this),T()(this,"saveFileToDisk",O8,this),T()(this,"getDeviceInfo",B8,this),T()(this,"getDeviceBenchmarkInfo",j8,this),T()(this,"getWindowInfo",F8,this),T()(this,"getAppBaseInfo",W8,this),T()(this,"getSystemSetting",U8,this),T()(this,"getAppAuthorizeSetting",G8,this),T()(this,"openSystemBluetoothSetting",V8,this),T()(this,"openAppAuthorizeSetting",$8,this),T()(this,"startAccelerometer",q8,this),T()(this,"stopAccelerometer",z8,this),T()(this,"onAccelerometerChange",H8,this),T()(this,"offAccelerometerChange",K8,this),T()(this,"onWindowStateChange",J8,this),T()(this,"offWindowStateChange",Q8,this),T()(this,"onGamepadConnected",Y8,this),T()(this,"offGamepadConnected",Z8,this),T()(this,"onGamepadDisconnected",X8,this),T()(this,"getGamepads",e9,this),T()(this,"offGamepadDisconnected",t9,this),T()(this,"scanCode",r9,this),T()(this,"startCompass",a9,this),T()(this,"stopCompass",n9,this),T()(this,"onCompassChange",i9,this),T()(this,"offCompassChange",o9,this),T()(this,"startDeviceMotionListening",s9,this),T()(this,"stopDeviceMotionListening",l9,this),T()(this,"onDeviceMotionChange",c9,this),T()(this,"offDeviceMotionChange",u9,this),T()(this,"startGyroscope",d9,this),T()(this,"stopGyroscope",p9,this),T()(this,"onGyroscopeChange",h9,this),T()(this,"offGyroscopeChange",f9,this),T()(this,"setScreenBrightness",g9,this),T()(this,"getScreenBrightness",v9,this),T()(this,"setKeepScreenOn",m9,this),T()(this,"captureScreen",y9,this),T()(this,"setVisualEffectOnCapture",_9,this),T()(this,"getScreenRecordingState",b9,this),T()(this,"onScreenRecordingStateChanged",w9,this),T()(this,"offScreenRecordingStateChanged",I9,this),T()(this,"vibrateShort",S9,this),T()(this,"vibrateLong",k9,this),T()(this,"getClipboardData",C9,this),T()(this,"setClipboardData",T9,this),T()(this,"makeBluetoothPair",P9,this),T()(this,"isBluetoothDevicePaired",A9,this),T()(this,"openBluetoothAdapter",E9,this),T()(this,"closeBluetoothAdapter",M9,this),T()(this,"getBluetoothAdapterState",x9,this),T()(this,"onBluetoothAdapterStateChange",D9,this),T()(this,"offBluetoothAdapterStateChange",R9,this),T()(this,"startBluetoothDevicesDiscovery",L9,this),T()(this,"stopBluetoothDevicesDiscovery",N9,this),T()(this,"getBluetoothDevices",O9,this),T()(this,"getConnectedBluetoothDevices",B9,this),T()(this,"createBLEConnection",j9,this),T()(this,"closeBLEConnection",F9,this),T()(this,"getBLEDeviceServices",W9,this),T()(this,"getBLEDeviceRSSI",U9,this),T()(this,"setBLEMTU",G9,this),T()(this,"getBLEMTU",V9,this),T()(this,"getBLEDeviceCharacteristics",$9,this),T()(this,"createBLEPeripheralServer",q9,this),T()(this,"onBLEPeripheralConnectionStateChanged",z9,this),T()(this,"offBLEPeripheralConnectionStateChanged",H9,this),T()(this,"notifyBLECharacteristicValueChanged",K9,this),T()(this,"notifyBLECharacteristicValueChange",J9,this),T()(this,"readBLECharacteristicValue",Q9,this),T()(this,"writeBLECharacteristicValue",Y9,this),T()(this,"onBluetoothDeviceFound",Z9,this),T()(this,"offBluetoothDeviceFound",X9,this),T()(this,"onBLEMTUChange",e7,this),T()(this,"offBLEMTUChange",t7,this),T()(this,"onBLEConnectionStateChanged",r7,this),T()(this,"onBLEConnectionStateChange",a7,this),T()(this,"onBLECharacteristicValueChange",n7,this),T()(this,"offBLEConnectionStateChanged",i7,this),T()(this,"offBLEConnectionStateChange",o7,this),T()(this,"offBLECharacteristicValueChange",s7,this),T()(this,"startBeaconDiscovery",l7,this),T()(this,"stopBeaconDiscovery",c7,this),T()(this,"getBeacons",u7,this),T()(this,"onBeaconUpdate",d7,this),T()(this,"offBeaconUpdate",p7,this),T()(this,"onBeaconServiceChange",h7,this),T()(this,"offBeaconServiceChange",f7,this),T()(this,"getLocation",g7,this),T()(this,"getFuzzyLocation",v7,this),T()(this,"chooseMedia",m7,this),T()(this,"chooseMessageFile",y7,this),T()(this,"createInnerAudioContext",_7,this),T()(this,"getAvailableAudioSources",b7,this),T()(this,"setInnerAudioOption",w7,this),T()(this,"createVideoDecoder",I7,this),T()(this,"createMediaAudioPlayer",S7,this),T()(this,"createWebAudioContext",k7,this),T()(this,"getRecorderManager",C7,this),T()(this,"chooseImage",T7,this),T()(this,"previewImage",P7,this),T()(this,"previewMedia",A7,this),T()(this,"saveImageToPhotosAlbum",E7,this),T()(this,"compressImage",M7,this),T()(this,"joinVoIPChat",x7,this),T()(this,"exitVoIPChat",D7,this),T()(this,"updateVoIPChatMuteConfig",R7,this),T()(this,"onVoIPChatMembersChanged",L7,this),T()(this,"onVoIPChatSpeakersChanged",N7,this),T()(this,"onVoIPChatInterrupted",O7,this),T()(this,"offVoIPChatMembersChanged",B7,this),T()(this,"offVoIPChatSpeakersChanged",j7,this),T()(this,"offVoIPChatInterrupted",F7,this),T()(this,"subscribeVoIPVideoMembers",W7,this),T()(this,"onVoIPVideoMembersChanged",U7,this),T()(this,"offVoIPVideoMembersChanged",G7,this),T()(this,"onVoIPChatStateChanged",V7,this),T()(this,"offVoIPChatStateChanged",$7,this),T()(this,"createCanvas",q7,this),T()(this,"createOffScreenCanvas",z7,this),T()(this,"createImage",H7,this),T()(this,"createImageData",K7,this),T()(this,"createPath2D",J7,this),T()(this,"onTouchStart",Q7,this),T()(this,"offTouchStart",Y7,this),T()(this,"onTouchMove",Z7,this),T()(this,"offTouchMove",X7,this),T()(this,"onTouchEnd",eee,this),T()(this,"offTouchEnd",tee,this),T()(this,"onTouchCancel",ree,this),T()(this,"offTouchCancel",aee,this),T()(this,"onWheel",nee,this),T()(this,"offWheel",iee,this),T()(this,"onMouseDown",oee,this),T()(this,"offMouseDown",see,this),T()(this,"onMouseMove",lee,this),T()(this,"offMouseMove",cee,this),T()(this,"onMouseUp",uee,this),T()(this,"offMouseUp",dee,this),T()(this,"onKeyDown",pee,this),T()(this,"offKeyDown",hee,this),T()(this,"onKeyUp",fee,this),T()(this,"offKeyUp",gee,this),T()(this,"onPointerLockChange",vee,this),T()(this,"offPointerLockChange",mee,this),T()(this,"onPointerLockError",yee,this),T()(this,"offPointerLockError",_ee,this),T()(this,"onKeyboardInput",bee,this),T()(this,"offKeyboardInput",wee,this),T()(this,"onKeyboardConfirm",Iee,this),T()(this,"offKeyboardConfirm",See,this),T()(this,"onKeyboardComplete",kee,this),T()(this,"offKeyboardComplete",Cee,this),T()(this,"onKeyboardHeightChange",Tee,this),T()(this,"offKeyboardHeightChange",Pee,this),T()(this,"onWindowResize",Aee,this),T()(this,"offWindowResize",Eee,this),T()(this,"onGameLiveStateChange",Mee,this),T()(this,"offGameLiveStateChange",xee,this),T()(this,"startGameLive",Dee,this),T()(this,"checkGameLiveEnabled",Ree,this),T()(this,"getGameLiveState",Lee,this),T()(this,"getUserRecentGameLiveInfo",Nee,this),T()(this,"getUserCurrentGameliveInfo",Oee,this),T()(this,"getUserGameLiveDetails",Bee,this),T()(this,"onGameAuditStateChange",jee,this),T()(this,"offGameAuditStateChange",Fee,this),T()(this,"getShareInfo",Wee,this),T()(this,"authPrivateMessage",Uee,this),T()(this,"showShareMenu",Gee,this),T()(this,"hideShareMenu",Vee,this),T()(this,"updateShareMenu",$ee,this),T()(this,"onShareAppMessage",qee,this),T()(this,"offShareAppMessage",zee,this),T()(this,"onShareTimeline",Hee,this),T()(this,"offShareTimeline",Kee,this),T()(this,"shareAppMessage",Jee,this),T()(this,"shareInvitationToLiveRoom",Qee,this),T()(this,"setMessageToFriendQuery",Yee,this),T()(this,"onShareMessageToFriend",Zee,this),T()(this,"offShareMessageToFriend",Xee,this),T()(this,"onAddToFavorites",ete,this),T()(this,"offAddToFavorites",tte,this),T()(this,"showShareImageMenu",rte,this),T()(this,"onCopyUrl",ate,this),T()(this,"offCopyUrl",nte,this),T()(this,"setWindowSize",ite,this),T()(this,"setTopBarText",ote,this),T()(this,"showToast",ste,this),T()(this,"hideToast",lte,this),T()(this,"showLoading",cte,this),T()(this,"hideLoading",ute,this),T()(this,"showModal",dte,this),T()(this,"showActionSheet",pte,this),T()(this,"setMenuStyle",hte,this),T()(this,"setStatusBarStyle",fte,this),T()(this,"getMenuButtonBoundingClientRect",gte,this),T()(this,"hideSplashScreen",vte,this),T()(this,"onError",mte,this),T()(this,"offError",yte,this),T()(this,"onUnhandledRejection",_te,this),T()(this,"offUnhandledRejection",bte,this),T()(this,"onLaunch",wte,this),T()(this,"offLaunch",Ite,this),T()(this,"onShow",Ste,this),T()(this,"offShow",kte,this),T()(this,"onHide",Cte,this),T()(this,"offHide",Tte,this),T()(this,"onAudioInterruptionBegin",Pte,this),T()(this,"offAudioInterruptionBegin",Ate,this),T()(this,"onAudioInterruptionEnd",Ete,this),T()(this,"offAudioInterruptionEnd",Mte,this),T()(this,"onShareInvitationToLiveRoom",xte,this),T()(this,"offShareInvitationToLiveRoom",Dte,this),T()(this,"getSystemInfo",Rte,this),T()(this,"getSystemInfoSync",Lte,this),T()(this,"getSystemInfoAsync",Nte,this),T()(this,"getBatteryInfo",Ote,this),T()(this,"getBatteryInfoSync",Bte,this),T()(this,"getLaunchOptionsSync",jte,this),T()(this,"getEnterOptionsSync",Fte,this),T()(this,"setPreferredFramesPerSecond",Wte,this),T()(this,"loadFont",Ute,this),T()(this,"setCursor",Gte,this),T()(this,"requestPointerLock",Vte,this),T()(this,"exitPointerLock",$te,this),T()(this,"isPointerLocked",qte,this),T()(this,"getTextLineHeight",zte,this),T()(this,"requestMidasPayment",Hte,this),T()(this,"requestMidasPaymentGameItem",Kte,this),T()(this,"requestMidasFriendPayment",Jte,this),T()(this,"checkIsSupportMidasFriendPayment",Qte,this),T()(this,"requestVirtualPayment",Yte,this),T()(this,"gameLoginReport",Zte,this),T()(this,"gameLogoutReport",Xte,this),T()(this,"exitMiniProgram",ere,this),T()(this,"restartMiniProgram",tre,this),T()(this,"launchApp",rre,this),T()(this,"showKeyboard",are,this),T()(this,"hideKeyboard",nre,this),T()(this,"updateKeyboard",ire,this),T()(this,"getExtConfig",ore,this),T()(this,"getExtConfigSync",sre,this),T()(this,"bindGroup",lre,this),T()(this,"joinGroup",cre,this),T()(this,"getAccountInfoSync",ure,this),T()(this,"encode",dre,this),T()(this,"decode",pre,this),T()(this,"createVideo",hre,this),T()(this,"createCamera",fre,this),T()(this,"createLivePlayer",gre,this),T()(this,"createLivePusher",vre,this),T()(this,"createWebView",mre,this),T()(this,"setDeviceOrientation",yre,this),T()(this,"onDeviceOrientationChange",_re,this),T()(this,"offDeviceOrientationChange",bre,this),T()(this,"onUserCaptureScreen",wre,this),T()(this,"offUserCaptureScreen",Ire,this),T()(this,"postMessage",Sre,this),T()(this,"onMessage",kre,this),T()(this,"getOpenDataContext",Cre,this),T()(this,"createUserGameData",Tre,this),T()(this,"updateUserGameData",Pre,this),T()(this,"getPerformance",Are,this),T()(this,"setEnableDebug",Ere,this),T()(this,"triggerGC",Mre,this),T()(this,"onMemoryWarning",xre,this),T()(this,"offMemoryWarning",Dre,this),T()(this,"reportPerformance",Rre,this),T()(this,"testApiCallTime",Lre,this),T()(this,"createWorker",Nre,this),T()(this,"createSharedArrayBuffer",Ore,this),T()(this,"checkIsUserAdvisedToRest",Bre,this),T()(this,"getUpdateManager",jre,this),T()(this,"updateWeChatApp",Fre,this),T()(this,"getAd",Wre,this),T()(this,"openTencentGameContract",Ure,this),T()(this,"openTencentPrivacyContract",Gre,this),T()(this,"openUrl",Vre,this),T()(this,"openTencentBoardGameContract",$re,this),T()(this,"openTencentChildrenGuideContract",qre,this),T()(this,"openTencentAccountCancelContract",zre,this),T()(this,"createRewardedVideoAd",Hre,this),T()(this,"createIncentiveVideoAd",Kre,this),T()(this,"createBannerAd",Jre,this),T()(this,"createInterstitialAd",Qre,this),T()(this,"createCustomAd",Yre,this),T()(this,"createGridAd",Zre,this),T()(this,"createCpsAd",Xre,this),T()(this,"createUserInfoButton",eae,this),T()(this,"createGameClubButton",tae,this),T()(this,"createOpenSettingButton",rae,this),T()(this,"createFeedbackButton",aae,this),T()(this,"loadSubpackage",nae,this),T()(this,"preDownloadSubpackage",iae,this),T()(this,"navigateToMiniProgram",oae,this),T()(this,"navigateBackMiniProgram",sae,this),T()(this,"createUDPSocket",lae,this),T()(this,"markScene",cae,this),T()(this,"reportScene",uae,this),T()(this,"createGamePortal",dae,this),T()(this,"createGameBanner",pae,this),T()(this,"createGameIcon",hae,this),T()(this,"getUserInteractiveStorage",fae,this),T()(this,"onInteractiveStorageModified",gae,this),T()(this,"offInteractiveStorageModified",vae,this),this.env=TE,T()(this,"getLogManager",mae,this),T()(this,"getRealtimeLogManager",yae,this),this.error=Gw,T()(this,"isSystemError",_ae,this),T()(this,"isSDKError",bae,this),T()(this,"isThirdError",wae,this),T()(this,"getGameRecorder",Iae,this),T()(this,"createGameRecorderShareButton",Sae,this),T()(this,"operateGameRecorderVideo",kae,this),T()(this,"cloud",Cae,this),T()(this,"serviceMarket",Tae,this),this.version=(0,ah.sb)(),T()(this,"getGameServerManager",Pae,this),T()(this,"getBox2D",Aae,this),T()(this,"protobuf",Eae,this),T()(this,"createGameComponent",Mae,this),T()(this,"getGroupEnterInfo",xae,this),T()(this,"onHandoff",Dae,this),T()(this,"offHandoff",Rae,this),T()(this,"setHandoffQuery",Lae,this),T()(this,"faceDetect",Nae,this),T()(this,"initFaceDetect",Oae,this),T()(this,"stopFaceDetect",Bae,this),T()(this,"createBufferURL",jae,this),T()(this,"revokeBufferURL",Fae,this),T()(this,"createSignal",Wae,this),T()(this,"startLocalServiceDiscovery",Uae,this),T()(this,"stopLocalServiceDiscovery",Gae,this),T()(this,"onLocalServiceFound",Vae,this),T()(this,"offLocalServiceFound",$ae,this),T()(this,"onLocalServiceLost",qae,this),T()(this,"offLocalServiceLost",zae,this),T()(this,"onLocalServiceDiscoveryStop",Hae,this),T()(this,"offLocalServiceDiscoveryStop",Kae,this),T()(this,"onLocalServiceResolveFail",Jae,this),T()(this,"offLocalServiceResolveFail",Qae,this),T()(this,"getLocalIPAddress",Yae,this),T()(this,"startCPUProfiling",Zae,this),T()(this,"stopCPUProfiling",Xae,this),T()(this,"getExptInfo",ene,this),T()(this,"getExptInfoSync",tne,this),T()(this,"reportEvent",rne,this),T()(this,"getChannelsLiveInfo",ane,this),T()(this,"getChannelsLiveState",nne,this),T()(this,"getChannelsLiveReservation",ine,this),T()(this,"getChannelsLiveNoticeInfo",one,this),T()(this,"openChannelsLive",sne,this),T()(this,"openChannelsActivity",lne,this),T()(this,"openChannelsUserProfile",cne,this),T()(this,"openChannelsLiveCollection",une,this),T()(this,"openChannelsEvent",dne,this),T()(this,"reserveChannelsLive",pne,this),T()(this,"lanDebug",hne,this),T()(this,"createVKSession",fne,this),T()(this,"createVKReference",gne,this),T()(this,"isVKSupport",vne,this),T()(this,"onVerifyNotify",mne,this),T()(this,"offVerifyNotify",yne,this),T()(this,"navigateToUserCenter",_ne,this),T()(this,"requestConsumeAdsSkipCard",bne,this),T()(this,"dumpGameLivePanelUI",wne,this),T()(this,"updateGameLivePanelMenu",Ine,this),T()(this,"createInferenceSession",Sne,this),T()(this,"getInferenceEnvInfo",kne,this),T()(this,"getDebuggerMessager",Cne,this),T()(this,"getAdsSkipCardSharePresentQuota",Tne,this),T()(this,"getAdsSkipCardQuestInfo",Pne,this),T()(this,"getUserCryptoManager",Ane,this),T()(this,"getDebuggerMessager",Ene,this),T()(this,"getRealNameVerifyMethod",Mne,this),T()(this,"addToDesktop",xne,this),T()(this,"openPage",Dne,this),T()(this,"getGameClubData",Rne,this),T()(this,"previewPlayableView",Lne,this),T()(this,"checkIsAddedToMyMiniProgram",Nne,this),T()(this,"requestSubscribeLiveActivity",One,this),T()(this,"openCustomerServiceChat",Bne,this),T()(this,"createTCPSocket",jne,this),T()(this,"openBusinessView",Fne,this),T()(this,"previewPlayableViewNew",Wne,this),T()(this,"removePlayableView",Une,this),T()(this,"getPhoneNumber",Gne,this),T()(this,"openUrlByExtBrowser",Vne,this)}},_6=A()(y6.prototype,"requirePrivacyAuthorize",[aJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return di}}),b6=A()(y6.prototype,"onNeedPrivacyAuthorization",[nJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gK}}),w6=A()(y6.prototype,"getPrivacySetting",[iJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ci}}),I6=A()(y6.prototype,"openPrivacyContract",[oJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dn}}),S6=A()(y6.prototype,"request",[sJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.WY}}),k6=A()(y6.prototype,"downloadFile",[lJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.Sv}}),C6=A()(y6.prototype,"uploadFile",[cJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.cT}}),T6=A()(y6.prototype,"addNativeDownloadTask",[uJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.aS}}),P6=A()(y6.prototype,"calRqt",[dJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return re.Co}}),A6=A()(y6.prototype,"connectSocket",[pJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Toe}}),E6=A()(y6.prototype,"closeSocket",[hJ,fJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Poe}}),M6=A()(y6.prototype,"sendSocketMessage",[gJ,vJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Aoe}}),x6=A()(y6.prototype,"onSocketOpen",[mJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Eoe}}),D6=A()(y6.prototype,"onSocketClose",[yJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Moe}}),R6=A()(y6.prototype,"onSocketMessage",[_J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xoe}}),L6=A()(y6.prototype,"onSocketError",[bJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Doe}}),N6=A()(y6.prototype,"getNetworkType",[wJ,IJ,SJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rr._getNetworkType}}),O6=A()(y6.prototype,"onNetworkStatusChange",[kJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rr.onNetworkStatusChange}}),B6=A()(y6.prototype,"offNetworkStatusChange",[CJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rr.offNetworkStatusChange}}),j6=A()(y6.prototype,"onNetworkWeakChange",[TJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rr.onNetworkWeakChange}}),F6=A()(y6.prototype,"offNetworkWeakChange",[PJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rr.offNetworkWeakChange}}),W6=A()(y6.prototype,"openDocument",[AJ,EJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.KK}}),U6=A()(y6.prototype,"setStorage",[MJ,xJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return goe}}),G6=A()(y6.prototype,"setStorageSync",[DJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return voe}}),V6=A()(y6.prototype,"getStorage",[RJ,LJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return moe}}),$6=A()(y6.prototype,"getStorageSync",[NJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yoe}}),q6=A()(y6.prototype,"getStorageInfo",[OJ,BJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _oe}}),z6=A()(y6.prototype,"getStorageInfoSync",[jJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return boe}}),H6=A()(y6.prototype,"removeStorage",[FJ,WJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return woe}}),K6=A()(y6.prototype,"removeStorageSync",[UJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ioe}}),J6=A()(y6.prototype,"clearStorage",[GJ,VJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Soe}}),Q6=A()(y6.prototype,"clearStorageSync",[$J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return koe}}),Y6=A()(y6.prototype,"getBackgroundFetchData",[qJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ua}}),Z6=A()(y6.prototype,"onBackgroundFetchData",[zJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ga}}),X6=A()(y6.prototype,"setBackgroundFetchToken",[HJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $a}}),e8=A()(y6.prototype,"getBackgroundFetchToken",[KJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qa}}),t8=A()(y6.prototype,"authorize",[JJ,QJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oi}}),r8=A()(y6.prototype,"checkSession",[YJ,ZJ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return la}}),a8=A()(y6.prototype,"getUserInfo",[XJ,eQ,tQ,rQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Co}}),n8=A()(y6.prototype,"getUserProfile",[aQ,nQ,iQ,oQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vo}}),i8=A()(y6.prototype,"login",[sQ,lQ,cQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sa}}),o8=A()(y6.prototype,"openSetting",[uQ,dQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vi.a}}),s8=A()(y6.prototype,"getSetting",[pQ,hQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gi}}),l8=A()(y6.prototype,"operateWXData",[fQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return go}}),c8=A()(y6.prototype,"getWeRunData",[gQ,vQ,mQ,yQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uo}}),u8=A()(y6.prototype,"uploadWeRunData",[_Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return po}}),d8=A()(y6.prototype,"addWeRunData",[bQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ho}}),p8=A()(y6.prototype,"getGroupMsgTicket",[wQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HC}}),h8=A()(y6.prototype,"removeUserCloudStorage",[IQ,SQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ux}}),f8=A()(y6.prototype,"setUserCloudStorage",[kQ,CQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fx}}),g8=A()(y6.prototype,"openCustomerServiceConversation",[TQ,PQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LI}}),v8=A()(y6.prototype,"sendRedPacket",[AQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xr}}),m8=A()(y6.prototype,"openRedPacket",[EQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ea}}),y8=A()(y6.prototype,"sendBizRedPacket",[MQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zr}}),_8=A()(y6.prototype,"showRedPackage",[xQ,DQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ia}}),b8=A()(y6.prototype,"reportAnalytics",[RQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kV}}),w8=A()(y6.prototype,"reportMonitor",[LQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CV}}),I8=A()(y6.prototype,"requestSubscribeMessage",[NQ,OQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u$}}),S8=A()(y6.prototype,"requestSubscribeSystemMessage",[BQ,jQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kw}}),k8=A()(y6.prototype,"requestSubscribeWhatsNew",[FQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m$}}),C8=A()(y6.prototype,"getWhatsNewSubscriptionsSetting",[WQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p$}}),T8=A()(y6.prototype,"getUserGameLabel",[UQ,GQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vo}}),P8=A()(y6.prototype,"reportUserBehaviorBranchAnalytics",[VQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bo}}),A8=A()(y6.prototype,"addCard",[$Q,qQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r$}}),E8=A()(y6.prototype,"openCard",[zQ,HQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a$}}),M8=A()(y6.prototype,"saveFile",[KQ,JQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ue}}),x8=A()(y6.prototype,"getFileInfo",[QQ,YQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return de}}),D8=A()(y6.prototype,"getSavedFileList",[ZQ,XQ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pe}}),R8=A()(y6.prototype,"getSavedFileInfo",[eY,tY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return he}}),L8=A()(y6.prototype,"removeSavedFile",[rY,aY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fe}}),N8=A()(y6.prototype,"getFileSystemManager",[nY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oe}}),O8=A()(y6.prototype,"saveFileToDisk",[iY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dg}}),B8=A()(y6.prototype,"getDeviceInfo",[oY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.getDeviceInfo}}),j8=A()(y6.prototype,"getDeviceBenchmarkInfo",[sY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.getDeviceBenchmarkInfo}}),F8=A()(y6.prototype,"getWindowInfo",[lY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.getWindowInfo}}),W8=A()(y6.prototype,"getAppBaseInfo",[cY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.getAppBaseInfo}}),U8=A()(y6.prototype,"getSystemSetting",[uY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.getSystemSetting}}),G8=A()(y6.prototype,"getAppAuthorizeSetting",[dY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.getAppAuthorizeSetting}}),V8=A()(y6.prototype,"openSystemBluetoothSetting",[pY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.openSystemBluetoothSetting}}),$8=A()(y6.prototype,"openAppAuthorizeSetting",[hY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.openAppAuthorizeSetting}}),q8=A()(y6.prototype,"startAccelerometer",[fY,gY,vY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jo}}),z8=A()(y6.prototype,"stopAccelerometer",[mY,yY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qo}}),H8=A()(y6.prototype,"onAccelerometerChange",[_Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xo}}),K8=A()(y6.prototype,"offAccelerometerChange",[bY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zo}}),J8=A()(y6.prototype,"onWindowStateChange",[wY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VT}}),Q8=A()(y6.prototype,"offWindowStateChange",[IY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $T}}),Y8=A()(y6.prototype,"onGamepadConnected",[SY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HT}}),Z8=A()(y6.prototype,"offGamepadConnected",[kY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KT}}),X8=A()(y6.prototype,"onGamepadDisconnected",[CY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JT}}),e9=A()(y6.prototype,"getGamepads",[TY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XT}}),t9=A()(y6.prototype,"offGamepadDisconnected",[PY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QT}}),r9=A()(y6.prototype,"scanCode",[AY,EY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C$}}),a9=A()(y6.prototype,"startCompass",[MY,xY,DY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rs}}),n9=A()(y6.prototype,"stopCompass",[RY,LY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return as}}),i9=A()(y6.prototype,"onCompassChange",[NY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return os}}),o9=A()(y6.prototype,"offCompassChange",[OY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return is}}),s9=A()(y6.prototype,"startDeviceMotionListening",[BY,jY,FY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sc}}),l9=A()(y6.prototype,"stopDeviceMotionListening",[WY,UY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kc}}),c9=A()(y6.prototype,"onDeviceMotionChange",[GY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cc}}),u9=A()(y6.prototype,"offDeviceMotionChange",[VY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tc}}),d9=A()(y6.prototype,"startGyroscope",[$Y,qY,zY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yc}}),p9=A()(y6.prototype,"stopGyroscope",[HY,KY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _c}}),h9=A()(y6.prototype,"onGyroscopeChange",[JY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bc}}),f9=A()(y6.prototype,"offGyroscopeChange",[QY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wc}}),g9=A()(y6.prototype,"setScreenBrightness",[YY,ZY],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rs}}),v9=A()(y6.prototype,"getScreenBrightness",[XY,eZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ds}}),m9=A()(y6.prototype,"setKeepScreenOn",[tZ,rZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ls}}),y9=A()(y6.prototype,"captureScreen",[aZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ys}}),_9=A()(y6.prototype,"setVisualEffectOnCapture",[nZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ns}}),b9=A()(y6.prototype,"getScreenRecordingState",[iZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Os}}),w9=A()(y6.prototype,"onScreenRecordingStateChanged",[oZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e="",t=>{(0,Y.s)(`${e}onScreenRecordingStateChanged`).onMethod(t)};var e}}),I9=A()(y6.prototype,"offScreenRecordingStateChanged",[sZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e="",t=>{(0,Y.s)(`${e}onScreenRecordingStateChanged`).offMethod(t)};var e}}),S9=A()(y6.prototype,"vibrateShort",[lZ,cZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qoe}}),k9=A()(y6.prototype,"vibrateLong",[uZ,dZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zoe}}),C9=A()(y6.prototype,"getClipboardData",[pZ,hZ,fZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cs}}),T9=A()(y6.prototype,"setClipboardData",[gZ,vZ,mZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return us}}),P9=A()(y6.prototype,"makeBluetoothPair",[yZ,_Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jl}}),A9=A()(y6.prototype,"isBluetoothDevicePaired",[bZ,wZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ql}}),E9=A()(y6.prototype,"openBluetoothAdapter",[IZ,SZ,kZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bs}}),M9=A()(y6.prototype,"closeBluetoothAdapter",[CZ,TZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return js}}),x9=A()(y6.prototype,"getBluetoothAdapterState",[PZ,AZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fs}}),D9=A()(y6.prototype,"onBluetoothAdapterStateChange",[EZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xs}}),R9=A()(y6.prototype,"offBluetoothAdapterStateChange",[MZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return el}}),L9=A()(y6.prototype,"startBluetoothDevicesDiscovery",[xZ,DZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ws}}),N9=A()(y6.prototype,"stopBluetoothDevicesDiscovery",[RZ,LZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Us}}),O9=A()(y6.prototype,"getBluetoothDevices",[NZ,OZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gs}}),B9=A()(y6.prototype,"getConnectedBluetoothDevices",[BZ,jZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $s}}),j9=A()(y6.prototype,"createBLEConnection",[FZ,WZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yl}}),F9=A()(y6.prototype,"closeBLEConnection",[UZ,GZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _l}}),W9=A()(y6.prototype,"getBLEDeviceServices",[VZ,$Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bl}}),U9=A()(y6.prototype,"getBLEDeviceRSSI",[qZ,zZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vs}}),G9=A()(y6.prototype,"setBLEMTU",[HZ,KZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yl}}),V9=A()(y6.prototype,"getBLEMTU",[JZ,QZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rc}}),$9=A()(y6.prototype,"getBLEDeviceCharacteristics",[YZ,ZZ],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wl}}),q9=A()(y6.prototype,"createBLEPeripheralServer",[XZ,eX,tX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ql}}),z9=A()(y6.prototype,"onBLEPeripheralConnectionStateChanged",[rX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hl}}),H9=A()(y6.prototype,"offBLEPeripheralConnectionStateChanged",[aX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kl}}),K9=A()(y6.prototype,"notifyBLECharacteristicValueChanged",[nX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Il}}),J9=A()(y6.prototype,"notifyBLECharacteristicValueChange",[iX,oX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sl}}),Q9=A()(y6.prototype,"readBLECharacteristicValue",[sX,lX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kl}}),Y9=A()(y6.prototype,"writeBLECharacteristicValue",[cX,uX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cl}}),Z9=A()(y6.prototype,"onBluetoothDeviceFound",[dX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xl}}),X9=A()(y6.prototype,"offBluetoothDeviceFound",[pX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dl}}),e7=A()(y6.prototype,"onBLEMTUChange",[hX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ec}}),t7=A()(y6.prototype,"offBLEMTUChange",[fX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tc}}),r7=A()(y6.prototype,"onBLEConnectionStateChanged",[gX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pl}}),a7=A()(y6.prototype,"onBLEConnectionStateChange",[vX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Js}}),n7=A()(y6.prototype,"onBLECharacteristicValueChange",[mX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return El}}),i7=A()(y6.prototype,"offBLEConnectionStateChanged",[yX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Al}}),o7=A()(y6.prototype,"offBLEConnectionStateChange",[_X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qs}}),s7=A()(y6.prototype,"offBLECharacteristicValueChange",[bX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ml}}),l7=A()(y6.prototype,"startBeaconDiscovery",[wX,IX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ds}}),c7=A()(y6.prototype,"stopBeaconDiscovery",[SX,kX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ps}}),u7=A()(y6.prototype,"getBeacons",[CX,TX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hs}}),d7=A()(y6.prototype,"onBeaconUpdate",[PX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fs}}),p7=A()(y6.prototype,"offBeaconUpdate",[AX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gs}}),h7=A()(y6.prototype,"onBeaconServiceChange",[EX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vs}}),f7=A()(y6.prototype,"offBeaconServiceChange",[MX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ms}}),g7=A()(y6.prototype,"getLocation",[xX,DX,RX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hf}}),v7=A()(y6.prototype,"getFuzzyLocation",[LX,NX,OX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mf}}),m7=A()(y6.prototype,"chooseMedia",[BX,jX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $f}}),y7=A()(y6.prototype,"chooseMessageFile",[FX,WX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vf}}),_7=A()(y6.prototype,"createInnerAudioContext",[UX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return of}}),b7=A()(y6.prototype,"getAvailableAudioSources",[GX,VX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sf}}),w7=A()(y6.prototype,"setInnerAudioOption",[$X,qX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ch}}),I7=A()(y6.prototype,"createVideoDecoder",[zX,HX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sg}}),S7=A()(y6.prototype,"createMediaAudioPlayer",[KX,JX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rf}}),k7=A()(y6.prototype,"createWebAudioContext",[QX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ih}}),C7=A()(y6.prototype,"getRecorderManager",[YX],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return If}}),T7=A()(y6.prototype,"chooseImage",[ZX,XX,e0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ht}}),P7=A()(y6.prototype,"previewImage",[t0,r0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ar}}),A7=A()(y6.prototype,"previewMedia",[a0,n0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zf}}),E7=A()(y6.prototype,"saveImageToPhotosAlbum",[i0,o0,s0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Er}}),M7=A()(y6.prototype,"compressImage",[l0,c0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kt}}),x7=A()(y6.prototype,"joinVoIPChat",[u0,d0,p0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hoe}}),D7=A()(y6.prototype,"exitVoIPChat",[h0,f0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Koe}}),R7=A()(y6.prototype,"updateVoIPChatMuteConfig",[g0,v0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Joe}}),L7=A()(y6.prototype,"onVoIPChatMembersChanged",[m0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qoe}}),N7=A()(y6.prototype,"onVoIPChatSpeakersChanged",[y0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yoe}}),O7=A()(y6.prototype,"onVoIPChatInterrupted",[_0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zoe}}),B7=A()(y6.prototype,"offVoIPChatMembersChanged",[b0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xoe}}),j7=A()(y6.prototype,"offVoIPChatSpeakersChanged",[w0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ese}}),F7=A()(y6.prototype,"offVoIPChatInterrupted",[I0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tse}}),W7=A()(y6.prototype,"subscribeVoIPVideoMembers",[S0,k0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rse}}),U7=A()(y6.prototype,"onVoIPVideoMembersChanged",[C0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ase}}),G7=A()(y6.prototype,"offVoIPVideoMembersChanged",[T0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nse}}),V7=A()(y6.prototype,"onVoIPChatStateChanged",[P0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ise}}),$7=A()(y6.prototype,"offVoIPChatStateChanged",[A0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ose}}),q7=A()(y6.prototype,"createCanvas",[E0,M0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZI}}),z7=A()(y6.prototype,"createOffScreenCanvas",[x0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XI}}),H7=A()(y6.prototype,"createImage",[D0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sS}}),K7=A()(y6.prototype,"createImageData",[R0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lS}}),J7=A()(y6.prototype,"createPath2D",[L0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cS}}),Q7=A()(y6.prototype,"onTouchStart",[N0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yie}}),Y7=A()(y6.prototype,"offTouchStart",[O0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zie}}),Z7=A()(y6.prototype,"onTouchMove",[B0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xie}}),X7=A()(y6.prototype,"offTouchMove",[j0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eoe}}),eee=A()(y6.prototype,"onTouchEnd",[F0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return toe}}),tee=A()(y6.prototype,"offTouchEnd",[W0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return roe}}),ree=A()(y6.prototype,"onTouchCancel",[U0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aoe}}),aee=A()(y6.prototype,"offTouchCancel",[G0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return noe}}),nee=A()(y6.prototype,"onWheel",[V0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vie}}),iee=A()(y6.prototype,"offWheel",[$0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $ie}}),oee=A()(y6.prototype,"onMouseDown",[q0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ioe}}),see=A()(y6.prototype,"offMouseDown",[z0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ooe}}),lee=A()(y6.prototype,"onMouseMove",[H0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return soe}}),cee=A()(y6.prototype,"offMouseMove",[K0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return loe}}),uee=A()(y6.prototype,"onMouseUp",[J0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return coe}}),dee=A()(y6.prototype,"offMouseUp",[Q0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uoe}}),pee=A()(y6.prototype,"onKeyDown",[Y0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xie}}),hee=A()(y6.prototype,"offKeyDown",[Z0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Die}}),fee=A()(y6.prototype,"onKeyUp",[X0],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rie}}),gee=A()(y6.prototype,"offKeyUp",[e1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lie}}),vee=A()(y6.prototype,"onPointerLockChange",[t1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return doe}}),mee=A()(y6.prototype,"offPointerLockChange",[r1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return poe}}),yee=A()(y6.prototype,"onPointerLockError",[a1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hoe}}),_ee=A()(y6.prototype,"offPointerLockError",[n1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return foe}}),bee=A()(y6.prototype,"onKeyboardInput",[i1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nie}}),wee=A()(y6.prototype,"offKeyboardInput",[o1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Oie}}),Iee=A()(y6.prototype,"onKeyboardConfirm",[s1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bie}}),See=A()(y6.prototype,"offKeyboardConfirm",[l1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jie}}),kee=A()(y6.prototype,"onKeyboardComplete",[c1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fie}}),Cee=A()(y6.prototype,"offKeyboardComplete",[u1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wie}}),Tee=A()(y6.prototype,"onKeyboardHeightChange",[d1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uie}}),Pee=A()(y6.prototype,"offKeyboardHeightChange",[p1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gie}}),Aee=A()(y6.prototype,"onWindowResize",[h1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qie}}),Eee=A()(y6.prototype,"offWindowResize",[f1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zie}}),Mee=A()(y6.prototype,"onGameLiveStateChange",[g1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hie}}),xee=A()(y6.prototype,"offGameLiveStateChange",[v1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kie}}),Dee=A()(y6.prototype,"startGameLive",[m1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tk}}),Ree=A()(y6.prototype,"checkGameLiveEnabled",[y1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tz}}),Lee=A()(y6.prototype,"getGameLiveState",[_1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return az}}),Nee=A()(y6.prototype,"getUserRecentGameLiveInfo",[b1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iz}}),Oee=A()(y6.prototype,"getUserCurrentGameliveInfo",[w1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sz}}),Bee=A()(y6.prototype,"getUserGameLiveDetails",[I1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cz}}),jee=A()(y6.prototype,"onGameAuditStateChange",[S1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jie}}),Fee=A()(y6.prototype,"offGameAuditStateChange",[k1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qie}}),Wee=A()(y6.prototype,"getShareInfo",[C1,T1,P1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Roe}}),Uee=A()(y6.prototype,"authPrivateMessage",[A1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Boe}}),Gee=A()(y6.prototype,"showShareMenu",[E1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){setTimeout(Loe.bind(this,e))}}}),Vee=A()(y6.prototype,"hideShareMenu",[M1,x1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Noe}}),$ee=A()(y6.prototype,"updateShareMenu",[D1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){setTimeout(Ooe.bind(this,e))}}}),qee=A()(y6.prototype,"onShareAppMessage",[R1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wie}}),zee=A()(y6.prototype,"offShareAppMessage",[L1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Iie}}),Hee=A()(y6.prototype,"onShareTimeline",[N1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sie}}),Kee=A()(y6.prototype,"offShareTimeline",[O1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kie}}),Jee=A()(y6.prototype,"shareAppMessage",[B1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mm}}),Qee=A()(y6.prototype,"shareInvitationToLiveRoom",[j1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TS.vC}}),Yee=A()(y6.prototype,"setMessageToFriendQuery",[F1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sm}}),Zee=A()(y6.prototype,"onShareMessageToFriend",[W1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _m}}),Xee=A()(y6.prototype,"offShareMessageToFriend",[U1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bm}}),ete=A()(y6.prototype,"onAddToFavorites",[G1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Eie}}),tte=A()(y6.prototype,"offAddToFavorites",[V1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mie}}),rte=A()(y6.prototype,"showShareImageMenu",[$1,q1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return joe}}),ate=A()(y6.prototype,"onCopyUrl",[z1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LT}}),nte=A()(y6.prototype,"offCopyUrl",[H1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NT}}),ite=A()(y6.prototype,"setWindowSize",[K1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ug}}),ote=A()(y6.prototype,"setTopBarText",[J1,Q1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cg}}),ste=A()(y6.prototype,"showToast",[Y1,Z1],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Foe}}),lte=A()(y6.prototype,"hideToast",[X1,e2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Woe}}),cte=A()(y6.prototype,"showLoading",[t2,r2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uoe}}),ute=A()(y6.prototype,"hideLoading",[a2,n2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Goe}}),dte=A()(y6.prototype,"showModal",[i2,o2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Voe}}),pte=A()(y6.prototype,"showActionSheet",[s2,l2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $oe}}),hte=A()(y6.prototype,"setMenuStyle",[c2,u2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jC}}),fte=A()(y6.prototype,"setStatusBarStyle",[d2,p2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qC}}),gte=A()(y6.prototype,"getMenuButtonBoundingClientRect",[h2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pg.zC}}),vte=A()(y6.prototype,"hideSplashScreen",[f2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GV}}),mte=A()(y6.prototype,"onError",[g2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mie}}),yte=A()(y6.prototype,"offError",[v2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yie}}),_te=A()(y6.prototype,"onUnhandledRejection",[m2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _ie}}),bte=A()(y6.prototype,"offUnhandledRejection",[y2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bie}}),wte=A()(y6.prototype,"onLaunch",[_2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pie}}),Ite=A()(y6.prototype,"offLaunch",[b2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Aie}}),Ste=A()(y6.prototype,"onShow",[w2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ac.Ke}}),kte=A()(y6.prototype,"offShow",[I2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ac.il}}),Cte=A()(y6.prototype,"onHide",[S2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ar.Jv}}),Tte=A()(y6.prototype,"offHide",[k2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ar.Or}}),Pte=A()(y6.prototype,"onAudioInterruptionBegin",[C2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yd.p$}}),Ate=A()(y6.prototype,"offAudioInterruptionBegin",[T2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yd.hA}}),Ete=A()(y6.prototype,"onAudioInterruptionEnd",[P2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _d.aS}}),Mte=A()(y6.prototype,"offAudioInterruptionEnd",[A2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _d.xJ}}),xte=A()(y6.prototype,"onShareInvitationToLiveRoom",[E2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cie}}),Dte=A()(y6.prototype,"offShareInvitationToLiveRoom",[M2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tie}}),Rte=A()(y6.prototype,"getSystemInfo",[x2,D2,R2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.getSystemInfoNoCache}}),Lte=A()(y6.prototype,"getSystemInfoSync",[L2,N2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.getSystemInfoSyncNoCache}}),Nte=A()(y6.prototype,"getSystemInfoAsync",[O2,B2,j2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return un.getSystemInfoAsyncNoCache}}),Ote=A()(y6.prototype,"getBatteryInfo",[F2,W2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qo}}),Bte=A()(y6.prototype,"getBatteryInfoSync",[U2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zo}}),jte=A()(y6.prototype,"getLaunchOptionsSync",[G2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tv.Ir}}),Fte=A()(y6.prototype,"getEnterOptionsSync",[V2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mv}}),Wte=A()(y6.prototype,"setPreferredFramesPerSecond",[$2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uS}}),Ute=A()(y6.prototype,"loadFont",[q2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pS}}),Gte=A()(y6.prototype,"setCursor",[z2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hS}}),Vte=A()(y6.prototype,"requestPointerLock",[H2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fS}}),$te=A()(y6.prototype,"exitPointerLock",[K2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gS}}),qte=A()(y6.prototype,"isPointerLocked",[J2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vS}}),zte=A()(y6.prototype,"getTextLineHeight",[Q2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zC}}),Hte=A()(y6.prototype,"requestMidasPayment",[Y2,Z2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jA}}),Kte=A()(y6.prototype,"requestMidasPaymentGameItem",[X2],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BA}}),Jte=A()(y6.prototype,"requestMidasFriendPayment",[e3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KA}}),Qte=A()(y6.prototype,"checkIsSupportMidasFriendPayment",[t3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QA}}),Yte=A()(y6.prototype,"requestVirtualPayment",[r3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tie}}),Zte=A()(y6.prototype,"gameLoginReport",[a3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YA}}),Xte=A()(y6.prototype,"gameLogoutReport",[n3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZA}}),ere=A()(y6.prototype,"exitMiniProgram",[i3,o3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fg}}),tre=A()(y6.prototype,"restartMiniProgram",[s3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gg}}),rre=A()(y6.prototype,"launchApp",[l3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _k}}),are=A()(y6.prototype,"showKeyboard",[c3,u3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bk.ez}}),nre=A()(y6.prototype,"hideKeyboard",[d3,p3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bk.Sn}}),ire=A()(y6.prototype,"updateKeyboard",[h3,f3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bk.vv}}),ore=A()(y6.prototype,"getExtConfig",[g3,v3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P$}}),sre=A()(y6.prototype,"getExtConfigSync",[m3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T$}}),lre=A()(y6.prototype,"bindGroup",[y3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KC}}),cre=A()(y6.prototype,"joinGroup",[_3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JC}}),ure=A()(y6.prototype,"getAccountInfoSync",[b3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sN.E}}),dre=A()(y6.prototype,"encode",[w3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zb}}),pre=A()(y6.prototype,"decode",[I3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xb}}),hre=A()(y6.prototype,"createVideo",[S3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tk}}),fre=A()(y6.prototype,"createCamera",[k3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hC}}),gre=A()(y6.prototype,"createLivePlayer",[C3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yC}}),vre=A()(y6.prototype,"createLivePusher",[T3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TC}}),mre=A()(y6.prototype,"createWebView",[P3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v_}}),yre=A()(y6.prototype,"setDeviceOrientation",[A3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hn.MI}}),_re=A()(y6.prototype,"onDeviceOrientationChange",[E3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hn.Qq}}),bre=A()(y6.prototype,"offDeviceOrientationChange",[M3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hn.tR}}),wre=A()(y6.prototype,"onUserCaptureScreen",[x3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ms}}),Ire=A()(y6.prototype,"offUserCaptureScreen",[D3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xs}}),Sre=A()(y6.prototype,"postMessage",[R3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MC}}),kre=A()(y6.prototype,"onMessage",[L3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DC}}),Cre=A()(y6.prototype,"getOpenDataContext",[N3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BC}}),Tre=A()(y6.prototype,"createUserGameData",[O3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FC}}),Pre=A()(y6.prototype,"updateUserGameData",[B3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WC}}),Are=A()(y6.prototype,"getPerformance",[j3,F3,W3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bS}}),Ere=A()(y6.prototype,"setEnableDebug",[U3,G3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vg}}),Mre=A()(y6.prototype,"triggerGC",[V3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CS}}),xre=A()(y6.prototype,"onMemoryWarning",[$3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IS}}),Dre=A()(y6.prototype,"offMemoryWarning",[q3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SS}}),Rre=A()(y6.prototype,"reportPerformance",[z3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kT}}),Lre=A()(y6.prototype,"testApiCallTime",[H3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TT}}),Nre=A()(y6.prototype,"createWorker",[K3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YC}}),Ore=A()(y6.prototype,"createSharedArrayBuffer",[RH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vk}}),Bre=A()(y6.prototype,"checkIsUserAdvisedToRest",[J3,Q3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Io}}),jre=A()(y6.prototype,"getUpdateManager",[Y3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wE}}),Fre=A()(y6.prototype,"updateWeChatApp",[Z3,X3],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kE}}),Wre=A()(y6.prototype,"getAd",[e5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),Ure=A()(y6.prototype,"openTencentGameContract",[t5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y_}}),Gre=A()(y6.prototype,"openTencentPrivacyContract",[r5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return __}}),Vre=A()(y6.prototype,"openUrl",[a5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f_.Y}}),$re=A()(y6.prototype,"openTencentBoardGameContract",[n5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b_}}),qre=A()(y6.prototype,"openTencentChildrenGuideContract",[i5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w_}}),zre=A()(y6.prototype,"openTencentAccountCancelContract",[o5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I_}}),Hre=A()(y6.prototype,"createRewardedVideoAd",[s5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),Kre=A()(y6.prototype,"createIncentiveVideoAd",[l5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),Jre=A()(y6.prototype,"createBannerAd",[c5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),Qre=A()(y6.prototype,"createInterstitialAd",[u5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),Yre=A()(y6.prototype,"createCustomAd",[d5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),Zre=A()(y6.prototype,"createGridAd",[p5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),Xre=A()(y6.prototype,"createCpsAd",[h5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),eae=A()(y6.prototype,"createUserInfoButton",[f5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vU}}),tae=A()(y6.prototype,"createGameClubButton",[g5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mU}}),rae=A()(y6.prototype,"createOpenSettingButton",[v5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yU}}),aae=A()(y6.prototype,"createFeedbackButton",[m5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _U}}),nae=A()(y6.prototype,"loadSubpackage",[y5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TV}}),iae=A()(y6.prototype,"preDownloadSubpackage",[_5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MV}}),oae=A()(y6.prototype,"navigateToMiniProgram",[b5,w5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UV}}),sae=A()(y6.prototype,"navigateBackMiniProgram",[I5,S5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sP}}),lae=A()(y6.prototype,"createUDPSocket",[k5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZV}}),cae=A()(y6.prototype,"markScene",[C5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n$}}),uae=A()(y6.prototype,"reportScene",[T5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jz}}),dae=A()(y6.prototype,"createGamePortal",[P5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b$}}),pae=A()(y6.prototype,"createGameBanner",[A5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w$}}),hae=A()(y6.prototype,"createGameIcon",[E5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I$}}),fae=A()(y6.prototype,"getUserInteractiveStorage",[M5,x5,D5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k$}}),gae=A()(y6.prototype,"onInteractiveStorageModified",[R5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jm}}),vae=A()(y6.prototype,"offInteractiveStorageModified",[L5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qm}}),mae=A()(y6.prototype,"getLogManager",[N5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mg._}}),yae=A()(y6.prototype,"getRealtimeLogManager",[O5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ev}}),_ae=A()(y6.prototype,"isSystemError",[B5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vw}}),bae=A()(y6.prototype,"isSDKError",[j5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $w}}),wae=A()(y6.prototype,"isThirdError",[F5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qw}}),Iae=A()(y6.prototype,"getGameRecorder",[W5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iI}}),Sae=A()(y6.prototype,"createGameRecorderShareButton",[U5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MI}}),kae=A()(y6.prototype,"operateGameRecorderVideo",[G5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xI}}),Cae=A()(y6.prototype,"cloud",[V5,$5,q5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Tae=A()(y6.prototype,"serviceMarket",[z5,H5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Pae=A()(y6.prototype,"getGameServerManager",[K5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vL}}),Aae=A()(y6.prototype,"getBox2D",[J5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>q.Z.Box2D}}),Eae=A()(y6.prototype,"protobuf",[Q5,Y5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(...e)=>__protobufSDK__.getProtobuf()(...e)}}),Mae=A()(y6.prototype,"createGameComponent",[Z5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SV}}),xae=A()(y6.prototype,"getGroupEnterInfo",[X5],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ko}}),Dae=A()(y6.prototype,"onHandoff",[e4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lx}}),Rae=A()(y6.prototype,"offHandoff",[t4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nx}}),Lae=A()(y6.prototype,"setHandoffQuery",[r4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dx}}),Nae=A()(y6.prototype,"faceDetect",[a4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AT}}),Oae=A()(y6.prototype,"initFaceDetect",[n4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PT}}),Bae=A()(y6.prototype,"stopFaceDetect",[i4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ET}}),jae=A()(y6.prototype,"createBufferURL",[o4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lw}}),Fae=A()(y6.prototype,"revokeBufferURL",[s4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ow}}),Wae=A()(y6.prototype,"createSignal",[l4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DT}}),Uae=A()(y6.prototype,"startLocalServiceDiscovery",[c4,u4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sc}}),Gae=A()(y6.prototype,"stopLocalServiceDiscovery",[d4,p4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lc}}),Vae=A()(y6.prototype,"onLocalServiceFound",[h4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cc}}),$ae=A()(y6.prototype,"offLocalServiceFound",[f4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uc}}),qae=A()(y6.prototype,"onLocalServiceLost",[g4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dc}}),zae=A()(y6.prototype,"offLocalServiceLost",[v4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pc}}),Hae=A()(y6.prototype,"onLocalServiceDiscoveryStop",[m4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hc}}),Kae=A()(y6.prototype,"offLocalServiceDiscoveryStop",[y4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fc}}),Jae=A()(y6.prototype,"onLocalServiceResolveFail",[_4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gc}}),Qae=A()(y6.prototype,"offLocalServiceResolveFail",[b4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vc}}),Yae=A()(y6.prototype,"getLocalIPAddress",[w4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pc}}),Zae=A()(y6.prototype,"startCPUProfiling",[I4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D$}}),Xae=A()(y6.prototype,"stopCPUProfiling",[S4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R$}}),ene=A()(y6.prototype,"getExptInfo",[k4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HB}}),tne=A()(y6.prototype,"getExptInfoSync",[C4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KB}}),rne=A()(y6.prototype,"reportEvent",[T4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QB}}),ane=A()(y6.prototype,"getChannelsLiveInfo",[P4,A4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jO}}),nne=A()(y6.prototype,"getChannelsLiveState",[E4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kq}}),ine=A()(y6.prototype,"getChannelsLiveReservation",[M4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cq}}),one=A()(y6.prototype,"getChannelsLiveNoticeInfo",[x4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tq}}),sne=A()(y6.prototype,"openChannelsLive",[D4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mq}}),lne=A()(y6.prototype,"openChannelsActivity",[R4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xq}}),cne=A()(y6.prototype,"openChannelsUserProfile",[L4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dq}}),une=A()(y6.prototype,"openChannelsLiveCollection",[N4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rq}}),dne=A()(y6.prototype,"openChannelsEvent",[O4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lq}}),pne=A()(y6.prototype,"reserveChannelsLive",[B4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nq}}),hne=A()(y6.prototype,"lanDebug",[j4,F4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sq}}),fne=A()(y6.prototype,"createVKSession",[W4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fd}}),gne=A()(y6.prototype,"createVKReference",[U4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gd}}),vne=A()(y6.prototype,"isVKSupport",[G4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vd}}),mne=A()(y6.prototype,"onVerifyNotify",[V4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XP}}),yne=A()(y6.prototype,"offVerifyNotify",[$4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eA}}),_ne=A()(y6.prototype,"navigateToUserCenter",[q4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uq}}),bne=A()(y6.prototype,"requestConsumeAdsSkipCard",[z4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kq}}),wne=A()(y6.prototype,"dumpGameLivePanelUI",[H4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),Ine=A()(y6.prototype,"updateGameLivePanelMenu",[K4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{}}}),Sne=A()(y6.prototype,"createInferenceSession",[J4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DH.AS}}),kne=A()(y6.prototype,"getInferenceEnvInfo",[Q4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DH.y$}}),Cne=A()(y6.prototype,"getDebuggerMessager",[Y4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ez}}),Tne=A()(y6.prototype,"getAdsSkipCardSharePresentQuota",[Z4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jq}}),Pne=A()(y6.prototype,"getAdsSkipCardQuestInfo",[X4],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qq}}),Ane=A()(y6.prototype,"getUserCryptoManager",[e6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xq}}),Ene=A()(y6.prototype,"getDebuggerMessager",[t6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ez}}),Mne=A()(y6.prototype,"getRealNameVerifyMethod",[r6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PP}}),xne=A()(y6.prototype,"addToDesktop",[a6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NH}}),Dne=A()(y6.prototype,"openPage",[n6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OH}}),Rne=A()(y6.prototype,"getGameClubData",[i6,o6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BH}}),Lne=A()(y6.prototype,"previewPlayableView",[s6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wW}}),Nne=A()(y6.prototype,"checkIsAddedToMyMiniProgram",[l6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cK}}),One=A()(y6.prototype,"requestSubscribeLiveActivity",[c6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pK}}),Bne=A()(y6.prototype,"openCustomerServiceChat",[u6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hK}}),jne=A()(y6.prototype,"createTCPSocket",[d6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $ne}}),Fne=A()(y6.prototype,"openBusinessView",[p6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kne}}),Wne=A()(y6.prototype,"previewPlayableViewNew",[h6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PW}}),Une=A()(y6.prototype,"removePlayableView",[f6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AW}}),Gne=A()(y6.prototype,"getPhoneNumber",[g6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return die}}),Vne=A()(y6.prototype,"openUrlByExtBrowser",[v6],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hie}}),m6=y6))||m6)||m6)||m6);b.setAsGame();var lse=new sse,cse=Object.getOwnPropertyNames(Object.getPrototypeOf(lse)),use=Object.getOwnPropertyNames(lse),dse=cse.concat(use).reduce(((e,t)=>(e[t]=lse[t],e)),{});[{name:"getPerformance",val:bS}].forEach((e=>{dse[e.name]=e.val})),delete dse.constructor,aK&&(dse.invokeThird=(e,t={},r={},a={})=>{var n,i=r.fail;"function"==typeof i&&(i=i.bind(r));var o={...r};o.isThird=!0;try{n=(0,Q.yt)(t,e,o,a)}catch(e){return void("function"==typeof i&&i(`SDK error: ${e}`))}sK(e)?(0,Xa.Ns)(e,t,(e=>{try{n(e)}catch(e){console.error("invokeThird callback error:",e)}})):(console.warn(`没有权限调用JSAPI: ${e}`),"function"==typeof i&&i(`没有权限调用JSAPI: ${e}`))},dse.onThird=(e,t)=>{sK(e)?(0,je.vu)(e,t):console.warn(`没有权限监听Event: ${e}`)});var pse={wx:dse,mockPlayableEnvWX:function(e){return{createCanvas:e.createCanvas,createInnerAudioContext:e.createInnerAudioContext,getSystemInfoSync:e.getSystemInfoSync,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd,onTouchCancel:e.onTouchCancel,createImage:e.createImage,setEnableDebug:e.setEnableDebug,loadFont:e.loadFont,getTextLineHeight:e.getTextLineHeight,createVideoDecoder:e.createVideoDecoder,getFileSystemManager:()=>({readFile:(...e)=>oe().readFile(...e),readFileSync:(...e)=>oe().readFileSync(...e)}),env:{USER_DATA_PATH:"/"},notifyMiniProgramPlayableStatus(e){"boolean"==typeof(e=e||{}).isEnd&&!0===e.isEnd?(console.warn("[开发提示]试玩包内容已结束，线上实际将直接展示试玩结束页"),(0,Ze._showModal)({title:"试玩结束",content:"试玩包内容已结束，线上实际将直接展示试玩结束页",showCancel:!1})):"function"==typeof e.fail?e.fail({errMsg:"notifyMiniProgramPlayableStatusNew:fail parameter.isEnd must be true"}):console.warn("notifyMiniProgramPlayableStatusNew:fail parameter.isEnd must be true")}}}(dse),traceBeginEvent:eK.traceBeginEvent,traceEndEvent:eK.traceEndEvent,useTraced:eK.useTraced,useTracedEnd:eK.useTracedEnd,traceFlag:eK.traceFlag,splitOnBridgeListener:M.p,setGameContextJsonParse:fK.r};eU(pse,e,dse),eU(pse,k,dse),o.onLoad((()=>{xN(dse,!0)})),(e=>{var t;t=e,Object.assign(CO,t)})(pse);const hse=pse})(),w=I.default})();var S=w.wx;"undefined"!=typeof __exportGlobal__&&(__exportGlobal__.wx=S);S=w.wx;if(w.setGameContextJsonParse(JSON.parse),"function"==typeof __passWAGameGlobal__){var k={};k.JSContext=g,k.Protect=v,k.__cloudSDK__=__cloudSDK__,k.__subContextEngine__=y,k.Safeway=Safeway,k.Reporter=b,k.__appServiceSDK__=w,k.WeixinJSBridge=c,k.WeixinWorker=d,k.wxNativeConsole=f,__passWAGameGlobal__(k)}e.wx=S,e.requirePlugin=I,o.onLoad((function(){console.info("Wechat Lib:"+S.version.version+", "+S.version.updateTime),f.info("Wechat Lib:"+S.version.version+", "+S.version.updateTime),y.initGameRelatedContexts()}))}(this);var __WAGameEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;