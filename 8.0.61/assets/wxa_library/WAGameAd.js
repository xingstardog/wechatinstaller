try{!function(){let e,t="getAdGlobalVar";globalThis[t]?e=globalThis[t]:void 0!==globalThis.WeixinJSBridge&&globalThis.WeixinJSBridge[t]&&(e=globalThis.WeixinJSBridge[t]);var{console:i,wxConsole:a,wxNativeConsole:n,__wxConfig:o,__errorTracer__:r,Reporter:s,Foundation:l,WeixinJSBridge:d,IS_APP:c,IS_APPSERVICE_SDK:p,IS_WAGAME:u,IS_WORKER:h,wxRunOnDebug:g,__appServiceSDKAD__:f,readFile:m}=e();(()=>{var e={405:e=>{e.exports=function(e,t,i,a,n){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=i.slice().reverse().reduce((function(i,a){return a(e,t,i)||i}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o},e.exports.__esModule=!0,e.exports.default=e.exports},715:e=>{function t(e,t,i,a,n,o,r){try{var s=e[o](r),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(a,n)}e.exports=function(e){return function(){var i=this,a=arguments;return new Promise((function(n,o){var r=e.apply(i,a);function s(e){t(r,n,o,s,l,"next",e)}function l(e){t(r,n,o,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},662:e=>{e.exports=function(e,t,i,a){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0})},e.exports.__esModule=!0,e.exports.default=e.exports},669:e=>{e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")},e.exports.__esModule=!0,e.exports.default=e.exports},469:e=>{e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:i()}}();function t(){if(n(/^<\?xml\s*/)){for(var e={attributes:{}};!o()&&!r("?>");){var t=a();if(!t)return e;e.attributes[t.name]=t.value}return n(/\?>\s*/),e}}function i(){var e=n(/^<([\w-:.]+)\s*/);if(e){for(var t,s={name:e[1],attributes:{},children:[]};!(o()||r(">")||r("?>")||r("/>"));){var l=a();if(!l)return s;s.attributes[l.name]=l.value}if(n(/^\s*\/>\s*/))return s;for(n(/\??>\s*/),s.content=function(){var e=n(/^([^<]*)/);return e?e[1]:""}();t=i();)s.children.push(t);return n(/^<\/[\w-:.]+>\s*/),s}}function a(){var e,t=n(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function n(t){var i=e.match(t);if(i)return e=e.slice(i[0].length),i}function o(){return 0==e.length}function r(t){return 0==e.indexOf(t)}}},527:(e,t)=>{"use strict";var i,a,n,o,r,s,l,d,c,p,u,h,g,f,m,y,v=Math.log,_=(Math.pow,Math.floor),E=(Math.random,Math.exp),x=Math.abs,b=Math.round,w=(Math.E,Math.LN10,Math.LN2,Math.LOG10E,Math.PI,Math.SQRT1_2,Math.SQRT2,92),T=96,C=86,A=82,P=21,I=(_(28),_(E((v(45)+v(22)+v(17))/3)),_(50),_(E((v(50)+v(14)+v(C))/3)),b(2*v(x(1192))),b(v(6184)+v(296)),b(2*v(x(4526))),b(v(8884)+v(2314)),b(2*v(x(4849))),b(v(5729)+v(4225)),b(2*v(x(2874))),b(v(2594)+v(3218)),b(2*v(x(1156))),b(v(866)+v(4810)),_(176/3),_(E((v(10)+v(T)+v(70))/3)),b(2*v(x(4910))),b(v(3821)+v(8996)),_(154/3),_(E((v(50)+v(83)+v(P))/3)),b(2*v(x(1147))),b(v(373)+v(3770)),_(33.25),_(E((v(39)+v(39)+v(37)+v(18))/4)),_(45.25),_(E((v(10)+v(61)+v(w)+v(18))/4)),b(2*v(x(7803))),b(v(5281)+v(11538)),_(127/3),_(E((v(10)+v(39)+v(78))/3)),_(36.5),_(E((v(14)+v(61)+v(60)+v(11))/4)),_(69.75),_(E((v(76)+v(91)+v(87)+v(25))/4)),_(38),_(E((v(41)+v(P)+v(52))/3)),_(224/3),_(E((v(91)+v(78)+v(55))/3)),b(2*v(x(6399))),b(v(13653)+v(3917)),b(2*v(x(9386))),b(v(9316)+v(9505)),b(2*v(x(4182))),b(v(8905)+v(2029)),_(54),_(E((v(93)+v(22)+v(19)+v(A))/4)),_(55),_(E((v(39)+v(P)+v(64)+v(96))/4)),_(47.75),_(E((v(35)+v(14)+v(A)+v(60))/4)),b(2*v(x(6726))),b(v(5906)+v(7946)),1);function S(e,t){for(var i=[],a=0;a<e.length;a+=t)i.push(e.slice(a,a+t));return i}String.prototype.substr=String.prototype.substr;var k=function(e,t){for(var i=e.length,a=[],n=0;n<i;++n){var o=-1;3===t&&(o=8*(n-17)%9)<0&&(o+=i),5===t&&(o=8*(n-20)%15)<0&&(o+=i),6===t&&(o=7*(n-88)%12)<0&&(o+=i),7===t&&(o=1*(n-50)%7)<0&&(o+=i),8===t&&(o=3*(n-58)%8)<0&&(o+=i),9===t&&(o=2*(n-44)%9)<0&&(o+=i),10===t&&(o=11*(n-67)%20)<0&&(o+=i),14===t&&(o=9*(n-81)%28)<0&&(o+=i),o>=0&&(a[o]=e[n])}return a.join("")},D=S(k("testeglav",3),3),R=S(k("rloyuvnadlaupep",5),5),O=S(k("nbornamdemru",6),6),M=S(k("tnumSal",7),7),N=S(k("mecpsors",8),8),L=S(k("ooyerttpp",9),9),W=S(k("oMpdelsd_csmoruse_ee",10),10),B=S(k("ytitofrreePdperouorltPaceVen",14),14);var V,H=function(e){for(var t='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#$%&()*+./:;<=>?@[]^_`{|}~"',i={},a=0;a<90;++a)i[t[a]]=a;function n(e){for(var t=0,a=1,n=e.length-1;n>=0;n--){t+=i[e[n]]*a,a*=90}return t}for(var o=e.split(","),r=Number(o[0]),s=[],l=1;l<o.length;++l){var d=n(o[l]);s.push(d+r)}return s}("10000,A");I&&(i=W[1]),I&&(a=B[0]),I&&(n=M[0]),I&&(o=R[1]),I&&(r=H[0]),I&&(s=O[1]),I&&(l=B[1]),I&&(d=D[0]),I&&(c=D[1]),I&&(p=D[2]),I&&(u=W[0]),I&&(h=R[0]),I&&(g=N[0]),I&&(f=R[2]),I&&(m=L[0]),I&&(y=O[0]),I=0,t[i]=!0,t[a]=void 0,V=function(){var e;return 0,e=function(e){var t;0,t=this,this[n]=Math[o](r*(Math[s]()+1)),Object[l](this,d,function(){var e;return(e={[c]:0,[p]:0})[c]=function(){return t[u](t[h])},e[p]=function(e){t[h]=t[g](e)},e}[f]()),this[d]=e},e[m][g]=function(e){return y==typeof e?e+this[n]:e},e[m][u]=function(e){return y==typeof e?e-this[n]:e},e}(),t[a]=V}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};a.r(e),a.d(e,{canUseMb:()=>RO,deleteFeatureFlag:()=>HO,getCategoryInfos:()=>qR,getDanmuInfo:()=>aO,getEndpageCountDown:()=>OO,getFeatureFlag:()=>VO,getIdentify:()=>AO,getLandpageCountdownConfig:()=>zO,getMbExptName:()=>GO,getRankingInfo:()=>ZR,getRankingInfoV2:()=>XR,getRankingType:()=>KR,getRewardPageCountDown:()=>kO,getScoreInfo:()=>nO,getTemplateCondition:()=>SO,getVideo:()=>dO,getWegameActInfo:()=>iO,hideRankAndScore:()=>oO,isAdAdaptMb:()=>DO,isDevtools:()=>$R,isDisableBottomCardClickBeforeShow:()=>LO,isEnded:()=>wO,isExpandStyle:()=>lO,isGaussBlur:()=>sO,isLandscape:()=>zR,isLogoEnhanced:()=>xO,isMbExp:()=>UO,isMobile:()=>jR,isPC:()=>YR,isPause:()=>TO,isPlaying:()=>bO,isPortrait:()=>UR,isPreventFrequentLand:()=>WO,isRewardedCanvas:()=>hO,isRewardedChannels:()=>gO,isRewardedChannelsFeed:()=>fO,isRewardedChannelsLive:()=>mO,isRewardedGift:()=>EO,isRewardedImage:()=>pO,isRewardedLandPage:()=>uO,isRewardedPlayable:()=>yO,isRewardedVideo:()=>cO,isShowEndpageInstantly:()=>MO,isShowed:()=>CO,isTYTMode:()=>_O,isTemplateCondition:()=>IO,isUseCategoryActInfo:()=>NO,isUseNavigateBackIntercept:()=>FO,isUseStraightOutMode:()=>vO,judgeTriggerClick:()=>GR,setFeatureFlag:()=>BO,showRankAndScore:()=>rO,validateIdentify:()=>PO});var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=20;function d(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:l,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=l}function p(e,t){i.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function h(e){this._events={},this._newListener=!1,this._removeListener=!1,c.call(this,e)}h.prototype.delimiter=".",h.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},h.prototype.event="",h.prototype.once=function(e,t){return this._once(e,t,!1)},h.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},h.prototype._once=function(e,t,i){return this._many(e,1,t,i),this},h.prototype.many=function(e,t,i){return this._many(e,t,i,!1)},h.prototype.prependMany=function(e,t,i){return this._many(e,t,i,!0)},h.prototype._many=function(e,t,i,a){var n=this;if("function"!=typeof i)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&n.off(e,o),i.apply(this,arguments)}return o._origin=i,this._on(e,o,a),n},h.prototype.emit=function(){this._events||d.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,i,a,n,o,r=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),r>3)for(t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];for(a=0,i=o.length;a<i;a++)switch(this.event=e,r){case 1:o[a].call(this,e);break;case 2:o[a].call(this,e,arguments[1]);break;case 3:o[a].call(this,e,arguments[1],arguments[2]);break;default:o[a].apply(this,t)}}if("function"==typeof(o=this._events[e])){switch(this.event=e,r){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(r-1),n=1;n<r;n++)t[n-1]=arguments[n];o.apply(this,t)}return!0}if(o&&(o=o.slice()),o&&o.length){if(r>3)for(t=new Array(r-1),n=1;n<r;n++)t[n-1]=arguments[n];for(a=0,i=o.length;a<i;a++)switch(this.event=e,r){case 1:o[a].call(this);break;case 2:o[a].call(this,arguments[1]);break;case 3:o[a].call(this,arguments[1],arguments[2]);break;default:o[a].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},h.prototype.emitAsync=function(){this._events||d.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,i,a,n,o,r=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),n=1;n<s;n++)t[n]=arguments[n];for(a=0,i=this._all.length;a<i;a++)switch(this.event=e,s){case 1:r.push(this._all[a].call(this,e));break;case 2:r.push(this._all[a].call(this,e,arguments[1]));break;case 3:r.push(this._all[a].call(this,e,arguments[1],arguments[2]));break;default:r.push(this._all[a].apply(this,t))}}if("function"==typeof(o=this._events[e]))switch(this.event=e,s){case 1:r.push(o.call(this));break;case 2:r.push(o.call(this,arguments[1]));break;case 3:r.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];r.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),s>3)for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];for(a=0,i=o.length;a<i;a++)switch(this.event=e,s){case 1:r.push(o[a].call(this));break;case 2:r.push(o[a].call(this,arguments[1]));break;case 3:r.push(o[a].call(this,arguments[1],arguments[2]));break;default:r.push(o[a].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(r)},h.prototype.on=function(e,t){return this._on(e,t,!1)},h.prototype.prependListener=function(e,t){return this._on(e,t,!0)},h.prototype.onAny=function(e){return this._onAny(e,!1)},h.prototype.prependAny=function(e){return this._onAny(e,!0)},h.prototype.addListener=h.prototype.on,h.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},h.prototype._on=function(e,t,i){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||d.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),i?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,p.call(this,this._events[e].length,e))):this._events[e]=t,this},h.prototype.off=function(e,i){if("function"!=typeof i)throw new Error("removeListener only takes instances of Function");var a,n=[];if(!this._events[e])return this;a=this._events[e],n.push({_listeners:a});for(var o=0;o<n.length;o++){if(a=n[o]._listeners,t(a)){for(var r=-1,s=0,l=a.length;s<l;s++)if(a[s]===i||a[s].listener&&a[s].listener===i||a[s]._origin&&a[s]._origin===i){r=s;break}if(r<0)continue;return this._events[e].splice(r,1),0===a.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,i),this}(a===i||a.listener&&a.listener===i||a._origin&&a._origin===i)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,i))}return function e(t){if(void 0!==t){var i=Object.keys(t);for(var a in i){var n=i[a],o=t[n];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[n]),0===Object.keys(o).length&&delete t[n])}}}(this.listenerTree),this},h.prototype.offAny=function(e){var t,i=0,a=0;if(e&&this._all&&this._all.length>0){for(i=0,a=(t=this._all).length;i<a;i++)if(e===t[i])return t.splice(i,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(i=0,a=t.length;i<a;i++)this.emit("removeListenerAny",t[i]);this._all=[]}return this},h.prototype.removeListener=h.prototype.off,h.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||d.call(this),this):(this._events&&delete this._events[e],this)},h.prototype.listeners=function(e){return this._events||d.call(this),this._events[e]||(this._events[e]=[]),t(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},h.prototype.eventNames=function(){return Object.keys(this._events)},h.prototype.listenerCount=function(e){return this.listeners(e).length},h.prototype.listenersAny=function(){return this._all?this._all:[]};const g=h;class m{constructor(e={maxListeners:2e3}){this.emitter=new g(e),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var i=r.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,i),this.originalCallbackMap.set(i,t),this.emitter.on(e,i)}}off(e,t){if(t&&"function"==typeof t){var i=this.callbackMap.get(t);this.emitter.off(e,i),this.callbackMap.delete(t),this.originalCallbackMap.delete(i)}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}listeners(e){return this.emitter.listeners(e)}}const y=f;var{onMethod:v}=y,_=new m,E=()=>{_.emit("_onEmitSplashAdFetch")};var x=a(715),b=a.n(x),w=a(469),T=a.n(w),C=a(405),A=a.n(C),P=()=>{I!==o&&void 0!==I&&Object.assign(I,o)},I=(()=>(o.onReady(P),o))();const S=I;var k=(()=>S.platform)(),D=(()=>"devtools"===k)(),R=(()=>"android"===k)(),O=(()=>"ios"===k)(),M=(()=>"windows"===k)(),N=(()=>"mac"===k)(),L=(()=>M||N)();function W(){var e=S.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function B(){return"boolean"==typeof u?u:4===S.appType||19===S.appType}function V(e=""){return new Promise(((t,i)=>{var a="",n="";R&&S.clientVersion>=654316032?y.invokeMethod("getDeviceInfo",{waidPkg:e,success(e){a=e.waid||"",n=e.imei||"",t({waid:a,imei:n})},fail(e){i(e)}}):t({waid:a,imei:n})}))}var H=(()=>Object.assign)();function F(e){return(t={})=>new Promise(((i,a)=>{e(H(t,{success:i,fail:a}))}))}var{invokeMethod:G,deviceInfo:U}=y,z=e=>e&&"object"==typeof e&&!Array.isArray(e),j=(e,...t)=>{if(!t.length)return e;var i=t.shift();if(z(e)&&z(i))for(var a in i)z(i[a])?(e[a]||Object.assign(e,{[a]:{}}),j(e[a],i[a])):Object.assign(e,{[a]:i[a]});return j(e,...t)},$=()=>{var e=new Date,t=e.getMonth()+1,i=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(i>9?"":"0")+i].join("")},Y=e=>{var t;if(e)return null!==(t=e.wx_game_video)&&void 0!==t&&t.short_video?e.wx_game_video.short_video.viewid:void 0},q=(e,t)=>t.reduce(((t,i)=>(t[i]=e[i],t)),{}),K=(e,t,i)=>{"string"==typeof t&&(t=t.split("."));for(var a=e,n=0;a&&n<t.length;)a=a[t[n]],n+=1;return a||i},Z=e=>{var t=0,i=Object.assign({},{fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},e);try{G("measureText",Object.assign({},i,{complete(e){t=e.width||0}}))}catch(e){}return t},X=(e,t=0)=>new Array(e).fill(void 0).map(((e,i)=>i+t));var J=(e=0)=>new Promise((t=>{setTimeout(t,e)}));Object.prototype.hasOwnProperty;function Q(e,t=!0){if("string"!=typeof e)return e;var i=e.split("?")[0],a=e.split("?")[1];return(t||0!==i.length)&&(i+=".html"),void 0!==a?`${i}?${a}`:i}function ee(e){if(!D||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),i=t[1]||"",a=i.length>0?"&":"";e=`${t[0]}?${i}${a}devtools_ignore=true`}return e}var{invokeMethod:te,beforeInvoke:ie}=y,{invokeMethod:ae,invokeOperateWXDataPromise:ne,_invokeMethod:oe,_gameTransfer:re}=y,se=F((({url:e,adInfo:t,adUxInfo:i,success:a,fail:n,complete:o})=>{var r={url:e,adInfo:t,scene:85,success:a,fail:n,complete:o};i&&(r.adUxInfo=i),ae("private_openUrl",r)})),le=F((({canvasInfo:e,posType:t,success:i,fail:a,complete:n})=>{var o,r,s,l;ae("openADCanvas",{canvasId:e.canvas_id,preLoad:0,noStore:0,extraData:JSON.stringify({pos_type:t,env:null==S||null===(o=S.host)||void 0===o?void 0:o.env,app_appid:null==S||null===(r=S.host)||void 0===r?void 0:r.appId,host_version:null==S||null===(s=S.host)||void 0===s?void 0:s.version}),...e.canvas_dynamic_info&&{canvasDynamicInfo:e.canvas_dynamic_info},adInfoXml:(l=e.ad_info_xml,0===(l=l||"").length?"":l.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g,"    ").replace(/&#039;|&#39;/g,"'").replace(/&#047;|&#47;/g,"/").replace(/&#092;|&#92;/g,"\\").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/<br>/g,"\n").replace(/<br\/>/g,"\n").replace(/<br \/>/g,"\n")),openFirstSightVoice:1,success:i,fail:a,complete:n})})),de=F((({appId:e,path:t,traceid:i,aid:a,adInfo:n,adUxInfo:o,privateExtraData:r,success:s,fail:l,complete:d})=>{var c=`${i}:${a}`,p={appId:e,path:Q(t).trim(),scene:1095,sourcetype:1,sceneNote:c,adInfo:n,privateExtraData:r,success:s,fail:l,complete:d};o&&(p.adUxInfo=o),ae("navigateToMiniProgram",p)})),ce=F(((e=!0,t,i=!1)=>(a={})=>{if(ie("adOperateWXData",a,{apiName:""})){var n={data:{api_name:a.apiName,data:a.reqData||{},operate_directly:e},isImportant:!0===i,requestInQueue:!a.hasOwnProperty("requestInQueue")||Boolean(a.requestInQueue)};te("adOperateWXData",Object.assign({},n,a),{beforeAll(e){void 0!==t&&(e.errMsg=e.errMsg.replace("adOperateWXData",t))},beforeSuccess(e){R&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),void 0!==e.data.data?e.data=JSON.parse(e.data.data):e.data={}}})}})(!1,"adOperateWXDataForAd")),pe=(e={})=>ne(Object.assign({},e,{sdkApiName:"operateWXDataForAd"})),ue=F(re);function he(e){oe("showSplashAd",e)}function ge(e){oe("splashAdFirstStepViewLayoutStateChange",e)}function fe(e){oe("splashAdAllViewLayoutStateChange",e)}var{readdir:me,stat:ye,unlink:ve,writeFile:_e,readFileSync:Ee,access:xe,accessSync:be,getInternalFileSystemManager:we}=y,Te=e=>Number(e).toString()===e,Ce=(e,t)=>t.reduce(((t,i)=>(t[i]=e[i],t)),{}),Ae=e=>e&&"object"==typeof e&&!Array.isArray(e);function Pe(e,...t){if(!t.length)return e;var i=t.shift();if(Ae(e)&&Ae(i))for(var a of Object.keys(i))Ae(i[a])?(e[a]||Object.assign(e,{[a]:{}}),Pe(e[a],i[a])):Object.assign(e,{[a]:i[a]});return Pe(e,...t)}var Ie=(e,t,i)=>{for(var a="string"==typeof t?t.split("."):t,n=e,o=0;n&&o<a.length;)n=n[a[o]],o+=1;return n||i},Se=e=>e.reduce(((e,t)=>(Array.isArray(t)?e.push(...Se(t)):e.push(t),e)),[]),ke=e=>JSON.parse(JSON.stringify(e)),De=e=>Object.keys(e),Re=e=>{Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{var i;try{i=e[t]}catch(e){}"object"!=typeof i&&"function"!=typeof i||Object.isFrozen(i)||Re(i)}))},Oe="TIMEOUT_REJECT",Me=(e,t)=>Promise.race([e,new Promise(((e,i)=>{setTimeout((()=>{i(Oe)}),t)}))]),Ne=e=>Object.keys(e).reduce(((t,i)=>({...t,...null==e[i]?{}:{[i]:e[i]}})),{}),Le=924,We=1288,Be=1390,Ve=1764,He=1963,Fe=2009,Ge=(e,t,i=1)=>({idKey:e,idKeyGroup:t,sample:i}),Ue=(e,t=1)=>Ge(e,Be,t),ze=Ue(1),je=(Ue(2),Ue(3),Ue(4),Ue(5,.01)),$e=Ue(6),Ye=Ue(7),qe=Ue(8),Ke=Ue(9),Ze=Ue(10),Xe=(Ue(11),Ue(12),Ue(13)),Je=Ue(14),Qe=(Ue(15),Ue(16,.01)),et=Ue(17),tt=Ue(18),it=Ue(19),at=Ue(20,.01),nt=Ue(21),ot=Ue(22),rt=Ue(23),st=Ue(24),lt=Ue(25),dt=Ue(26),ct=2001,pt=2002,ut=2003,ht=0,gt=4,ft="hideAd",mt="setStyle",yt="reportIdKey",vt="triggerEvent",_t="setExprVar",Et="videoToggleMuted",xt="videoPlay",bt="videoPause",wt="videoStop",Tt="buttonSetText",Ct="reloadAd",At="reportMMData",Pt="endPageHide",It="imageSetSrc",St="textSetText",kt="animate",Dt="triggerBtnClick",Rt="changeMultiShow",Ot="landAd",Mt="splashSkipAd",Nt="addChildren",Lt="reportAdMonitorData",Wt="rewardedVideoDynamic",Bt="evaluateExpr",Vt="checkLiveStatus",Ht="slide",Ft="animationend",Gt="appEnterForeground",Ut="appEnterBackground",zt="containerTap",jt="adButtonTap",$t="viewableExposure",Yt="exposure",qt="showhalf",Kt="hidehalf",Zt="splashAdFirstRender",Xt="splashAdMenuView",Jt="liveStatusChange",Qt="buttonTap",ei="relationFetched",ti="videoEnded",ii="videoPause",ai="videoPlay",ni="videoTimeUpdate",oi="mutedChange",ri="feedbackBtnTap",si="tagTap",li="dislikeTap",di="dislikeReasonTap",ci="replay",pi="show",ui="hide",hi="videodislike",gi="showChange",fi="unitTap",mi="rewardedVideoPlay",yi="rewardedVideoEnd",vi="rewardedVideoReWarded",_i="rewardedVideoTimeUpdate",Ei="rewardedVideoShowFlooringPage",xi="rewardedVideoHandleDynamicDone",bi="rewardedVideoWindowResize",wi="rewardedVideoShow",Ti="rewardedVideoHide",Ci="rewardedVideoResetStatus",Ai="rewardedVideoUpdateGiftInfo",Pi="rewardedVideoChangeRelationText",Ii="rewardedVideoTemplateDynamicMessage",Si="rewardedVideoEventTriggered",ki="rewardedVideoResponseGameCenter",Di={SHOWFEEDBACK:"showFeedback",ADSHOWHALF:"adShowHalf",ADHIDEHALF:"adHideHalf",TRIGGEREVENT:"triggerEvent",REPORTVIDEOPLAY:"reportVideoPlay",APPENTERBACKGROUND:"appEnterBackground",ADVIDEOPAUSE:"adVideoPause",ADVIDEOPLAY:"adVideoPlay",FEEDBACKBTNTAP:"feedbackBtnTap",FEEDBACKREPORT:"feedbackReport",BTNTAP:"btnTap",CHANGEADBTNTEXT:"changedAdBtnText",ENDPAGEINIT:"endPageInit",SHOWENDPAGE:"showEndPage",REPORTENDPAGE:"reportEndPage",APPENTERFOREGROUND:"appEnterForeground",ENDPAGEHIDE:"endPageHide",ENDPAGESHOW:"endPageShow",REPORTMMDATA:"reportMMData",HIDEAD:"hideAd",REPORTTIMEPOINT:"reportTimePoint",CHANGEMULTISHOW:"changeMultiShow",CHECKEXPOSURE:"checkExposure",LANDAD:"landAd",CHANGECOUNTDOWN:"changeCountdown",SPLASHSKIPAD:"splashSkipAd",REPORTADMONITORDATA:"reportAdMonitorData",REWARDEDVIDEODYNAMIC:"rewardedVideoDynamic",ADVIDEOLOADFAILED:"adVideoLoadFailed"},Ri=1,Oi=2,Mi=3,Ni=1,Li=2,Wi=3,Bi=1,Vi=2,Hi=3,Fi=4,Gi=1,Ui=2,zi=1,ji=2,$i=1,Yi=2,qi=0,Ki=1,Zi=2,Xi=1,Ji=2,Qi=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"],ea={banner:"8040321819858439",rewardedVideoAd:"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885",cpsShopAd:"4021337766924141",wxpayBottom:"1024740886829562",wxpayCard:"8054749846134397"},ta={banner:3,rewardedVideoAd:1,interstitialAd:4,grid:7,splashAd:8,customAd:9},ia={banner:"showed",rewardedVideoAd:"viewable",interstitialAd:"viewable",grid:"viewable",splashAd:"viewable",customAd:"viewable"},aa={rewardedVideoAd:3,banner:4,interstitialAd:5,grid:6,customAd:7},na={94794:"widget_gray_batchload_app",94801:"widget_gray_vb_check",94804:"widget_gray_time_limit",94805:"widget_gray_video_download_v2",95489:"widget_gray_unlimit_fetch_tag",95767:"widget_gray_rewardedpage_exposure",100036:"widget_gray_report_install_follow",100332:"widget_gray_rewardedpage_exposure_v2",101246:"widget_gray_reward_new_endpage",104502:"widget_gray_reward_use_gauss_blur",104504:"widget_gray_reward_use_expand_style",105786:"widget_gray_banner_limit_click",105818:"widget_gray_splash_data_channel_parallel",107048:"widget_gray_splash_click_area_switch",110380:"widget_gray_webstore",109764:"widget_gray_reward_use_gauss_blur_android_system_version",109766:"widget_gray_reward_use_gauss_blur_android_wechat_version",110106:"widget_gray_splash_check_and_fetch",110108:"widget_gray_splashad_show_duration",110422:"widget_gray_interstitialAd_insurance_tips",110562:"widget_gray_interstitial_template",112296:"widget_gray_banner_exposure_toggle",113524:"widget_gray_rewarded_video_effect_guide",116004:"widget_gray_rewarded_video_effect_guide_level2",116070:"widget_gray_land_after_addContact",118004:"widget_gray_splash_wait_fetch",118010:"widget_gray_wxapp_code_preload",118518:"widget_gray_splash_outed_date_setting",119760:"widget_gray_splash_local_outed_date_setting",119762:"widget_gray_splash_use_local",120808:"widget_gray_check_fetch_catch",121264:"widget_gray_splash_local_black",121318:"widget_gray_splash_timeout",121377:"widget_gray_splash_offline_ad",121449:"widget_gray_splash_new_timeout",121750:"widget_gray_splash_new_checkad",122280:"widget_gray_splash_optimizationV1",122314:"widget_gray_splash_optimizationV1_timeout",122633:"widget_gray_splash_optimizationV1_jsapi",122657:"widget_gray_splash_optimizationV1_ios_timeout",123883:"widget_gray_splash_online_optimization",122157:"widget_gray_rewarded_video_feed_time",118408:"widget_gray_rewarded_video_slide_duration",118476:"widget_gray_rewarded_video_feed_max_fail_count",118478:"widget_gray_rewarded_video_feed_request_count",118504:"widget_gray_rewarded_video_feed_min_count",118914:"widget_gray_rewarded_video_feed_end_immediately",119186:"widget_gray_rewarded_video_feed_min_duration",119298:"widget_gray_rewarded_video_feed_probability",120834:"widget_gray_rewarded_video_feed_new_style",120138:"widget_gray_rewarded_video_feed_animate_start_time",118796:"widget_gray_custom_exposure_area_detect",119904:"widget_gray_ranking_score",120410:"widget_gray_interstitial_video_disable_preload",120409:"widget_gray_rewarded_video_disable_preload",121145:"widget_gray_rewarded_video_animation_page",121146:"widget_gray_rewarded_video_animation_page_video_duration",121147:"widget_gray_rewarded_video_animation_page_show_time",121148:"widget_gray_rewarded_video_animation_page_video_loop",121614:"widget_gray_interstitial_cross_page_android",122177:"widget_gray_rewarded_video_ios_use_wxplayer",122178:"widget_gray_rewarded_video_android_use_wxplayer",122305:"widget_gray_interstitial_cross_page_ios",122306:"widget_gray_interstitial_wxplayer_ios",122348:"widget_gray_weapp_feedback_close",122763:"widget_gray_rewarded_video_faster_play",122764:"widget_gray_rewarded_video_play_fail_refetch",123060:"widget_gray_rewarded_video_show_loading_duration",123077:"widget_gray_video_exposure_new_strategy",124613:"widget_gray_interstitial_preload",122446:"widget_gray_interstitial_new_ui",124998:"widget_gray_rewarded_video_disable_card_click",125180:"widget_gray_splashad_miniprogram_preload",125182:"widget_gray_ios_game_preload",151533:"widget_gray_interstitial_content_clik",151531:"widget_gray_interstitial_template_clik_limit",152980:"widget_gray_rewarded_video_bottom_card",153950:"widget_gray_rewarded_video_bottom_card_v2",154625:"widget_gray_splashad_jump_optimization",154805:"widget_gray_rewarded_video_endpage_countdown",154806:"widget_gray_rewarded_video_endpage_instantly",154768:"widget_gray_splashad_extend_show",155526:"widget_gray_rewarded_video_landpage_countdown",156480:"widget_gray_rewarded_video_category_act",156215:"widget_gray_rewarded_video_disable_bottom_card_early_click",156295:"widget_gray_rewarded_video_show_refetch",157899:"widget_gray_rewarded_video_refetch_time",156334:"widget_gray_rewarded_video_delay_show",156509:"widget_gray_splashad_video_report",156990:"widget_gray_rewarded_video_recache",157196:"widget_gray_reward_page_channels_feed_countdown",157197:"widget_gray_reward_page_channels_live_countdown",157278:"widget_gray_splashad_extend_material_click",157343:"widget_gray_rewarded_video_drama_retention_times",157356:"widget_gray_rewarded_video_navigate_back_intercept",157484:"widget_gray_splashad_video_preload",157621:"widget_gray_splashad_video_buffer_duration",157785:"widget_gray_splashad_video_preload_duration",157736:"widget_gray_rewarded_video_landpage_countdown_config"},oa={1:"widget_gray_wx_listen_appid",2:"widget_gray_reward_page_customer_acquisition_countdown",3:"widget_gray_reward_page_canvas_countdown",4:"widget_gray_reward_page_channels_feed_countdown",5:"widget_gray_reward_page_channels_live_countdown",6:"widget_gray_reward_page_playable_countdown",7:"widget_gray_reward_multi_image_countdown",8:"widget_gray_rewarded_video_playable_predownload_timeout",9:"widget_gray_rewarded_video_playable_insert_timeout",10:"widget_gray_rewarded_video_playable_first_frame_timeout",11:"widget_gray_rewarded_video_disable_template",12:"widget_gray_rewarded_video_disable_frequent_land",13:"widget_gray_rewarded_video_ranking_info_transfer",14:"widget_gray_rewarded_video_mb_switch"},ra={WECHAT:23,OPEN_PLATFORM_APP_MOB:12,APPLE_APP_STORE:19,MINI_GAME:46,JD_URL:25,WE_CHAT_SHOP:30,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31},sa="wxfile://ad",la=`${sa}/adinfos.txt`,da={splashAd:1288,customAd:1390},ca={release:1,develop:2,trail:3},pa=2,ua=3,ha=4,ga={dataLoadSuccess:0,dataLoadFail:1,dataPreloadSuccess:2,dataPreloadFail:3,handleDataFail:4,launchAcceptShouldShow:5,menuAcceptShouldShow:6,readFileFail:7,launchShowSplashAdSuccess:8,menuShowSplashAdSuccess:9,showSplashAdFail:10,firstRenderFail:11,firstInsertFail:12,secondRenderFail:13,secondInsertFail:14,iosThirdInsertFail:15,checkAdStateFail:16,adOfflineClose:17,readFileDataFail:18,firstShowSuccess:19,showSplashAdMenuSuccess:20,showSplashAdMenuFail:21,secondShowSuccess:22,removeFileDataFail:23,landingPageFail:24,frequencyControlFail:25,frequencyControlReturn:26,bulkCopyFileFail:27,getAdInfosFail:28,getAidFail:29,setExposureTagFail:30,NO_ADINFOS:31,NO_AID:32,MATERIAL_NOT_READY:33,CHECK_AD_STATUS_ERROR:34,CRT_ORIENTATION_NOT_SURE:35,EXPOSURE_TIMES_LIMIT:36,START_CHECK_AD_STATUS:37,CHECK_AD_STATUS_SUCCESS:38,OTHER_ADS_EMIT_FETCH:39,WRITE_ADINFOS_SUCCESS:40,WRITE_ADINFOS_FAIL:41,LANDING_COUNTDOWN_FAIL:44,EXPOSURE_SHOWAD_SUCCESS:45,EXPOSURE_SHOWAD_FAIL:46,EXPOSURE_SHOWAD_UNKNOWN:47,CLOSE_SHOWAD_SUCCESS:48,CLOSE_SHOWAD_FAIL:49,CLOSE_SHOWAD_UNKNOWN:50,CLOSE_COUNTDOWN_FAIL:51,LOCAL_SELECT_BEGIN:54,LOCAL_SELECT_OUTDATE:55,LOCAL_SELECT_NO_AID:56,LOCAL_SELECT_NO_FILE:57,LOCAL_SELECT_SUCCESS:58,EXP_NOT_SHOW:59,EXP_SHOW:60,SHOW_SPLASH_FAIL:10,SHOW_AD_BY_ONLINE:61,SHOW_AD_BY_CHECK_AD:62,SHOW_AD_BY_LOCAL_SELECT:63,NOT_SHOW_ONLINE_NO_FILE:64,CHECK_AD_BEGIN:65,ONLINE_AD_BEGIN:66,CHECK_AD_SUCCESS:67,CHECK_AD_RESULT_SUCCESS:68,ONLINE_AD_SUCCESS:69,ONLINE_AD_RESULT_SUCCESS:70,LOCAL_AD_SUCCESS:71,CHECK_AD_FAIL:72,ONLINE_AD_FAIL:73,USE_ONLINE:74,USE_CHECK_AD:75,NO_MATERIAL_BEFORE_SHOW:76,GET_ADMSG_SUCCESS:77,GET_ADMSG_FAIL:78,OFFLINE_AD:79,CHECK_AD_TIMEOUT:80,ONLINE_AD_TIMEOUT:81,GET_WETEST_CONFIG_SUCCESS:82,GET_WETEST_CONFIG_FAIL:83,FETCH_BEGIN:84,FETCH_SUCCESS:85,LOCAL_SELECT_BLACK_LIST:86,LOCAL_SELECT_TIME_OUT:87,SHOW_AD_BY_PRELOAD:88,SHOW_AD_BY_PRELOAD_FAIL:89,NEW_TIMEOUT_CLOSE_AD:90,HOT_START_START:91,HOT_START_SUCCESS:92,HOT_START_FAIL:93,PATH_NOT_SHOW:94,VIDEO_LOAD_ERROR:95,SCENE_CACHE_PRELOAD_READ_SUCCESS:96,SCENE_CACHE_PRELOAD_READ_FAIL:97,SCENE_CACHE_WRITE_SUCCESS:98,SCENE_CACHE_WRITE_FAIL:99,SCENE_CACHE_NOT_SHOW:100,SCENE_CACHE_READ_SUCCESS:101,SCENE_CACHE_READ_FAIL:102,OTHER_GET_ADMSG_BEGIN:103,OTHER_GET_ADMSG_SUCCESS:104,OTHER_GET_ADMSG_SUCCESS_HAS_MESSAGE:105,MINIPROGRAM_PRELOAD_SUCCESS:106,MINIPROGRAM_PRELOAD_FAIL:107,INIT_MATERIAL_ERROR:108,INIT_MATERIAL_BG_ERROR:109,WORKER_CALL_EXTEND_CREATE:110,SERVICE_CREATE_EXTEND_DONE:111,WORKER_CALL_EXTEND_SHOW:112,SERVICE_SHOW_EXTEND_DONE:113,SERVICE_SHOW_EXTEND_FAIL:114,SERVICE_EXTEND_CLICK:115,SERVICE_GETFLOATBALLS_FAIL:116,SERVICE_INTERCEPT:117,PRELOAD_VIDEO_BEGIN:121,PRELOAD_VIDEO_SUCCESS:122,PRELOAD_VIDEO_FAIL:123,PRELOAD_VIDEO_RESOURCE_SUCCESS:124,PRELOAD_VIDEO_RESOURCE_LOCAL_EXIST:125,PRELOAD_VIDEO_RESOURCE_PLAY_INTERRUPT:126,PRELOADED_VIDEO_RESOURCE_STATUS:127},fa={banner:5,rewardedVideoAd:6,interstitialAd:8,customAd:9,cpsShopAd:11,grid:13,splashAd:14},ma={click:1,exposure:0},ya={showed:0,viewable:1,incentiveVideoCard:2},va={NO_ADINFOS:2001,NO_AID:2002,MATERIAL_NOT_READY:2003,CHECK_AD_STATUS_ERROR:2004,CRT_ORIENTATION_NOT_SURE:2005,EXPOSURE_TIMES_LIMIT:2006,SHOW_SPLASH_FAIL:2007,MATERIAL_RETRY_FAIL:2008,LOCAL_SELECT_NO_FILE:2009,LOCAL_SELECT_OUTDATE:2010,EXP_NOT_SHOW:2011,PATH_NOT_SHOW:2012},_a=2001,Ea=2002,xa=2004,ba=2013,wa=2014,Ta={12:"应用",19:"应用",23:"公众号",25:"商品",29:"活动",30:"商品",31:"活动",36:"优惠",39:"店铺",43:"活动",46:"小游戏",47:"优惠"},Ca="clicfg_miniprogram_open_admb_in_motivating_v3",Aa="clicfg_miniprogram_open_admb2_in_motivating",Pa="clicfg_miniprogram_open_admb_in_motivating_test",Ia="clicfg_miniprogram_open_admb2_in_motivating_test",Sa=[Ca,Aa,Pa,Ia],ka=e=>{var t=e,i={},a=JSON.parse(t);for(var n of a)Object.hasOwnProperty.call(n,"exp_para")&&n.exp_para.forEach((e=>{Te(e.value)?i[e.name]=Number(e.value):i[e.name]=e.value}));for(var o of Object.keys(i))na[o]&&(i[na[o]]=i[o]);return i},Da=({aid:e,buttonText:t="",uxinfo:i=""})=>pe({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_ad_metric",aid:e.toString(),button_text:t,uxinfo:i})}}).then((e=>{if(!e.data)throw new Error("get_ad_metric no result");try{var{data:t}=e,i=JSON.parse(t.result),{ad_metric_count:a,desc_text:n}=i||{};return null==a||null==n||a<50?null:{count:(o=a,o<1e4?o.toString():`${(o/1e4).toFixed(1)}万`),descText:n}}catch(e){throw new Error("get_ad_metric invalid result")}var o})).catch((()=>{throw new Error("get_ad_metric request failed")})),Ra={25576:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"slotid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint32",key:"crt_size",value:"0"},{type:"uint32",key:"product_type",value:"0"},{type:"uint64",key:"crt_exp_tid",value:"0"},{type:"uint64",key:"ad_tmpl_id",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint64",key:"exp_time",value:"0"},{type:"uint64",key:"imp_time",value:"0"},{type:"string",key:"user_agent",value:""},{type:"uint64",key:"ad_w",value:"0"},{type:"uint64",key:"ad_h",value:"0"},{type:"uint64",key:"pos_x",value:"0"},{type:"uint64",key:"pos_y",value:"0"},{type:"string",key:"pos_name",value:""},{type:"uint32",key:"item_show_type",value:"0"},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""}],20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"is_predownload_video",value:"0"},{type:"uint64",key:"video_start_load_time",value:"0"},{type:"uint64",key:"video_start_play_time",value:"0"},{type:"string",key:"expand_feild",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"diaphaneity_list",value:""},{type:"string",key:"element_distance_list",value:""},{type:"string",key:"machine_type",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"logtype",value:"0"},{type:"uint32",key:"hitable_percentage",value:"0"},{type:"uint32",key:"visible_percentage",value:"0"},{type:"uint32",key:"opacity",value:"0"},{type:"string",key:"around_text",value:""},{type:"uint32",key:"cycle_play",value:"0"},{type:"string",key:"ad_position",value:""},{type:"string",key:"ad_screen_position",value:""},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"},{type:"string",key:"ext_feedback_comm",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_playlet_autoplay",value:"0"},{type:"uint64",key:"video_start_play_ts_client",value:"0"},{type:"uint64",key:"video_end_play_ts_client",value:"0"},{type:"uint64",key:"video_play_duration",value:"0"},{type:"uint64",key:"rewarded_condition",value:"0"},{type:"uint32",key:"is_rewarded",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"clk_timems",value:"0"},{type:"uint64",key:"play_timems",value:"0"},{type:"uint32",key:"is_shield",value:"0"}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"uint64",key:"p24",value:"0"},{type:"uint64",key:"p25",value:"0"},{type:"uint64",key:"p26",value:"0"},{type:"uint64",key:"p27",value:"0"},{type:"uint64",key:"p28",value:"0"},{type:"uint64",key:"p29",value:"0"},{type:"uint64",key:"p30",value:"0"},{type:"uint64",key:"p31",value:"0"},{type:"uint64",key:"p32",value:"0"},{type:"uint64",key:"p33",value:"0"},{type:"uint64",key:"p34",value:"0"},{type:"uint64",key:"p35",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],25534:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"weapp_path",value:""},{type:"uint64",key:"type",value:"0"},{type:"uint32",key:"time_ms",value:"0"},{type:"uint32",key:"pagex",value:"0"},{type:"uint64",key:"pagey",value:"0"},{type:"uint64",key:"screenx",value:"0"},{type:"uint32",key:"screeny",value:"0"},{type:"uint32",key:"adwidth",value:"0"},{type:"uint32",key:"adheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],26227:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"operation",value:"0"},{type:"uint32",key:"cur_show",value:"0"},{type:"string",key:"invite_user_openid",value:""},{type:"string",key:"invite_user_adunit",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"strategy",value:"0"},{type:"string",key:"expand_field",value:""}],26640:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint64",key:"destroy_timems",value:"0"},{type:"uint64",key:"play_start_timems",value:"0"},{type:"uint64",key:"play_duration_ms",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_ad_clk",value:"0"},{type:"uint64",key:"ad_clk_timems",value:"0"},{type:"uint32",key:"is_ad_landpage",value:"0"},{type:"uint64",key:"ad_landpage_timems",value:"0"},{type:"uint32",key:"is_show_status",value:"0"},{type:"uint32",key:"is_visible",value:"0"},{type:"uint32",key:"is_on_landpage",value:"0"}],20267:[{type:"string",key:"NetworkType",value:""},{type:"uint32",key:"SSID",value:""},{type:"uint32",key:"ToUin",value:""},{type:"uint64",key:"SceneID",value:"0"},{type:"uint64",key:"UIArea",value:"0"},{type:"uint64",key:"PositionID",value:"0"},{type:"uint64",key:"ActionID",value:"0"},{type:"string",key:"ActionStatus",value:""},{type:"uint64",key:"OpType",value:"0"},{type:"string",key:"Object",value:""},{type:"string",key:"Status",value:""},{type:"uint64",key:"SourceID",value:"0"},{type:"string",key:"Allpath",value:""},{type:"uint64",key:"ExpID",value:""},{type:"uint32",key:"LogType",value:"0"},{type:"string",key:"ErrType",value:"0"},{type:"uint64",key:"Time",value:"0"},{type:"uint64",key:"FuncType",value:"0"},{type:"string",key:"FuncID",value:""},{type:"uint64",key:"ContentType",value:"0"},{type:"uint64",key:"ContentID",value:"0"},{type:"uint64",key:"ReasonID",value:""},{type:"string",key:"ExternInfo",value:""},{type:"uint64",key:"ClassID",value:""}],31596:[{type:"uint64",key:"report_time",value:"0"},{type:"string",key:"instance_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"mb_service_version",value:""},{type:"string",key:"mb_lib_version",value:""},{type:"string",key:"mb_bussiness_version",value:""},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"pos_type",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"crt_exp_tid",value:"0"},{type:"uint64",key:"template_id",value:"0"},{type:"string",key:"expt_id_list",value:""},{type:"string",key:"x_expt_id",value:""},{type:"string",key:"x_expt_group_id",value:""},{type:"uint32",key:"crt_size",value:"0"},{type:"uint64",key:"ad_data_sizes",value:"0"},{type:"uint64",key:"template_sizes",value:"0"},{type:"uint64",key:"material_sizes",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint32",key:"action",value:""},{type:"string",key:"value",value:""}],31840:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:""},{type:"uint64",key:"report_time",value:0},{type:"string",key:"instance_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"mb_service_version",value:""},{type:"string",key:"mb_lib_version",value:""},{type:"string",key:"mb_bussiness_version",value:""},{type:"string",key:"mb_bussiness_time",value:""},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:0},{type:"uint32",key:"screen_height",value:0},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"scene",value:0},{type:"uint64",key:"slotid",value:0},{type:"uint32",key:"pos_type",value:0},{type:"uint64",key:"aid",value:0},{type:"string",key:"traceid",value:""},{type:"uint32",key:"costtype",value:0},{type:"uint64",key:"crt_exp_tid",value:0},{type:"uint64",key:"template_id",value:0},{type:"string",key:"expt_id_list",value:""},{type:"string",key:"x_expt_id",value:""},{type:"string",key:"x_expt_group_id",value:""},{type:"uint32",key:"crt_size",value:0},{type:"uint64",key:"ad_data_sizes",value:0},{type:"uint64",key:"template_sizes",value:0},{type:"uint64",key:"material_sizes",value:0},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"action",value:0},{type:"string",key:"value",value:""}],33455:[{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"string",key:"instance_id",value:""}]},Oa=e=>{var t=Ra[e.toString()];return t?t.concat([]):[]},Ma=()=>{var e=y.getInitScreenSize();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":S.deviceOrientation&&/^landscape/.test(S.deviceOrientation)?"landscape":S.deviceOrientation||"portrait"},Na="",La=k,Wa="",Ba="",Va="",Ha="",Fa="",Ga="",Ua=!0,za="";S.onReady((()=>{Na=Ma()||"";var e=y.getStableSystemInfo();Wa=e.system,Ba=e.version,Va=e.SDKVersion,Fa=e.model,Ga=e.brand,Ua=B();try{za=S.accountInfo.appId,Ha=__libVersionInfo__.updateTime}catch(e){}}));var ja,$a,Ya,qa,Ka,Za,Xa,Ja,Qa,en,tn,an,nn,on,rn,sn,ln,dn,cn,pn,un,hn,gn,fn,mn,yn,vn,_n,En,xn,bn,wn,Tn,Cn,An,Pn,In,Sn,kn,Dn,Rn,On,Mn,Nn,Ln,Wn,Bn,Vn,Hn,Fn,Gn,Un,zn,jn,$n,Yn,qn,Kn,Zn,Xn,Jn,Qn,eo,to,io,ao,no,oo,ro,so,lo,co,po,uo,ho,go,fo,mo,yo,vo,_o,Eo,xo,bo,wo,To,Co,Ao,Po,Io,So,ko=(e,t)=>{var i=t,a=Oa(e);if(a&&0!==a.length)return i=Object.assign({publisher_appid:za,appid:za,orig_weapp_id:"",network_type:"",wechat_version:Ba,platform:La,system_version:Wa,device_orientation:Na,wxapp_lib_version:Va,wxapp_lib_time:Ha,machine_type:Fa,ad_platform:Ua?1:0},i),i=Object.assign({DeviceModel:Fa,DeviceBrand:Ga,OsName:La,OsVersion:Wa},i),a=a.map((e=>({type:e.type,value:(i[e.key]||e.value).toString()}))),y.adReportOperateWXDataPromise({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:a}}}).catch((e=>{}))},Do=(e,t,i)=>{(({key:e,id:t})=>{var i=t,a=e;"object"==typeof a&&(!i&&(i=a.idKeyGroup),a=a.idKey),0===a&&(a="0"),s.reportIDKeyDirectly({id:i||924,key:a,force:!0})})({key:e}),(({key:e,id:t,extInfo:i,reportData:a})=>{var n=e,o=t,r=i,s=a;if("object"==typeof n&&(!o&&(o=n.idKeyGroup),n=n.idKey),0===n&&(n="0"),s=s||{},r&&"string"!=typeof r)try{r=JSON.stringify(r)}catch(e){r=r.toString()}ko(16295,{id_key:n,id_key_group:o||924,report_time:+new Date,ad_pos_type:s.ad_pos_type||0,source_url:s.source_url||"",expand_feild:s.reportAdData||"",expand_feild2:r,aid:s.aid||0,traceid:s.traceid||"",ad_unit_id:s.ad_unit_id,slotid:s.slotid||0,publisher_appid:s.publisher_appid||""})})({key:e,extInfo:t,reportData:i})},Ro=e=>ko(19213,e),Oo=(e,t=!1)=>{var i=t?"<?xml version='1.0' encoding='utf-8' ?>":"";return i+=`<${e.name}>`,e.children.length>0?i+=(e=>e.children&&e.children.length>0?e.children.map((e=>Oo(e))).join(""):"")(e):i+=`<![CDATA[${e.content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}]]>`,i+=`</${e.name}>`},Mo=e=>Oo(e,!0),No=a(662),Lo=a.n(No),Wo=(a(669),(e,t)=>{var i=Array.isArray(t)?t:[t];for(var a of i)if(!(a in e)||"function"!=typeof e[a])throw new Error(`${a} is not the function method of the class`);return i.map((t=>e[t]))}),Bo=(e,t=!1)=>(i,a,n)=>{var o=n.value,r=Wo(i,e);n.value=t?b()((function*(...e){for(var t of r)yield t.call(this,...e);return o.call(this,...e)})):function(...e){for(var t of r)t.call(this,...e);return o.call(this,...e)}},Vo=(e,t=!1)=>(i,a,n)=>{var o=n.value,r=Wo(i,e);n.value=t?b()((function*(...e){var t=yield o.call(this,...e);for(var i of r)yield i.call(this,t);return t})):function(...e){var t=o.call(this,...e);if(t instanceof Promise)return t.then((e=>{for(var t of r)t.call(this,e);return e}));for(var i of r)i.call(this,t);return t}},Ho=(e,t=!1)=>(i,a,n)=>{var o=n.value,r=Wo(i,e);n.value=t?b()((function*(...e){try{return yield o.call(this,...e)}catch(e){for(var t of r)yield t.call(this,e);throw e}})):function(...e){try{var t=o.call(this,...e);return t instanceof Promise&&t.catch((e=>{for(var t of r)t.call(this,e)})),t}catch(e){for(var i of r)i.call(this,e);throw e}}},Fo=Symbol("signExport"),Go=()=>(e,t)=>{e[Fo]=e[Fo]||new Set,e[Fo].add(t)},Uo=({outer:e={width:0,height:0},inner:t={width:0,height:0},maxScale:i=1e3,minScale:a=0,side:n})=>{var o,r,s,l=e.width/e.height,d=t.width/t.height,c=e.width/t.width,p=e.height/t.height,u=l>d?p:c;return"width"===n?u=c:"height"===n&&(u=p),o=u,r=a,s=i,u=Math.min(Math.max(r,o),s),t.width*=u,t.height*=u,e.width=Math.max(e.width,t.width),e.height=Math.max(e.height,t.height),{scale:u,outer:e,inner:t}},zo=(e=0)=>new Promise((t=>{setTimeout(t,e)})),jo=(e,t)=>{for(var i="",a=0,n=0;n<e.length;n++){if((a+=/[\u4e00-\u9fa5]/.test(e[n])?2:1)>t){i+="...";break}i+=e[n]}return i},$o=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),{getChannelsLiveInfo:Yo,_getNetworkType:qo,invokeMethod:Ko,invoke:Zo,vibrateShort:Xo,vibrateLong:Jo}=y,Qo=["private_openUrl","navigateToMiniProgram","openADCanvas","openChannelsRewardedVideoAd","openChannelsUserProfile","openChannelsLive","launchApplication","openWeComUserProfileForAd"],er=e=>t=>new Promise(((i,a)=>{e(Object.assign({},t,{success:i,fail:a}))})),tr=(e,t,i)=>{var a;e.errMsg=e.errMsg||`${t}:ok`;var n,o=0===e.errMsg.indexOf(`${t}:ok`),r=0===e.errMsg.indexOf(`${t}:fail`);if(o)null==i||null===(n=i.success)||void 0===n||n.call(i,e);else if(r){var s;null==i||null===(s=i.fail)||void 0===s||s.call(i,e)}null==i||null===(a=i.complete)||void 0===a||a.call(i,e)},ir=({username:e,success:t,fail:i,complete:a})=>{Ko("profile",{username:e,scene:75,success:t,fail:i,complete:a})},ar=({username:e,isWaGame:t,success:i,fail:a,complete:n})=>{Ko("private_addContact",{username:e,scene:t?146:139,webtype:1,success:i,fail:a,complete:n})},nr=({schemeUrl:e,isIosDirect:t,appInfo:i,extraData:a,skAdItem:n,bizInfo:o,sourceInfo:r,success:s,fail:l,complete:d})=>{var c={};t&&(c.appId=i.app_id,c.installSchemeUrl=i.appinfo_url,null!==n?(c.installAction=1,c.skAdItem=n):c.installAction=0),a&&(c.extraData=a),o&&(c.bizInfo=o),r&&(c.sourceInfo=r),Ko("launchApplication",Object.assign(c,{schemeUrl:e,operateDirectly:1,success:s,fail:l,complete:d}))},or=({schemeUrl:e,messageExt:t,bizInfo:i,sourceInfo:a,success:n,fail:o,complete:r})=>{var s={};t&&(s.messageExt=t),i&&(s.bizInfo=i),a&&(s.sourceInfo=a),Ko("launchApplication",Object.assign(s,{schemeUrl:e,operateDirectly:1,success:n,fail:o,complete:r}))},rr=({appUrl:e,extraData:t,skAdItem:i,bizInfo:a,sourceInfo:n,success:o,fail:r,complete:s})=>{Ko("downloadAppInternal",{appUrl:e,extraData:t,skAdItem:i,bizInfo:a,sourceInfo:n,operateDirectly:1,success:o,fail:r,complete:s})},sr=({packageName:e,success:t,fail:i,complete:a})=>{Ko("getInstallState",{packageName:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},lr=({downloadId:e,success:t,fail:i,complete:a})=>{Ko("queryDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},dr=({downloadId:e,success:t,fail:i,complete:a})=>{Ko("pauseDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},cr=({downloadId:e,success:t,fail:i,complete:a})=>{Ko("resumeDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},pr=({downloadId:e,success:t,fail:i,complete:a})=>{Ko("installDownloadTask",{downloadId:e,permissionBytes:[1,1,1],success:t,fail:i,complete:a})},ur=({isHide:e,success:t,fail:i,complete:a})=>{Ko("setNavigationBarRightButton",{hide:e,success:t,fail:i,complete:a})},hr=({isHide:e,success:t,fail:i,complete:a})=>{Ko("private_setNavigationBarRightButton",{hide:e,success:t,fail:i,complete:a})},gr=({resources:e,success:t,fail:i,complete:a})=>{Ko("loadVideoResource",{resources:e,success:t,fail:i,complete:a})},fr=({videoUrl:e,downloadRatio:t,success:i,fail:a,complete:n})=>{Ko("preDownloadVideoResource",{videoUrl:e,downloadRatio:t,success:i,fail:a,complete:n})},mr=({orientation:e,success:t,fail:i,complete:a})=>{Ko("private_setPageOrientation",{orientation:e,success:t,fail:i,complete:a})},yr=({value:e,success:t,fail:i,complete:a})=>{Ko("setDeviceOrientation",{value:e,success:t,fail:i,complete:a})},vr=({success:e,fail:t,complete:i}={})=>{Ko("hideVirtualBottomNavigationBar",{success:e,fail:t,complete:i})},_r=({success:e,fail:t,complete:i}={})=>{Ko("showVirtualBottomNavigationBar",{success:e,fail:t,complete:i})},Er=({success:e,fail:t,complete:i}={})=>{Ko("showStatusBar",{success:e,fail:t,complete:i})},xr=({success:e,fail:t,complete:i}={})=>{Ko("hideStatusBar",{success:e,fail:t,complete:i})},br=({success:e,fail:t,complete:i,feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r})=>{Zo("openChannelsActivity",{feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r,permissionBytes:[1,1,1]},(a=>{tr(a,"openChannelsActivity",{success:e,fail:t,complete:i})}))},wr=({success:e,fail:t,complete:i,feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:c,feedbackUrl:p,rewardTime:u})=>{Zo("private_openChannelsLive",{feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r,permissionBytes:[1,1,1],bizId:332,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:c,feedbackUrl:p,rewardTime:u},(a=>{tr(a,"private_openChannelsLive",{success:e,fail:t,complete:i})}))},Tr=({success:e,fail:t,complete:i,finderUserName:a,reportExtraInfo:n})=>{Zo("openChannelsUserProfile",{finderUserName:a,reportExtraInfo:n,permissionBytes:[1,1,1]},(a=>{tr(a,"openChannelsUserProfile",{success:e,fail:t,complete:i})}))},Cr=({success:e,fail:t,complete:i,feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:c,clickPosMap:p,feedbackUrl:u,marketingWord:h,rewardTime:g})=>{Ko("openChannelsRewardedVideoAd",{feedId:a,nonceId:n,finderUserName:o,reportExtraInfo:r,adJSAPIType:s,expReportLink:l,clkReportLink:d,reportInfo:c,clickPosMap:p,feedbackUrl:u,marketingWord:h,rewardTime:g,success:e,fail:t,complete:i})},Ar=({mixWithOther:e=!0,obeyMuteSwitch:t=!0,success:i,fail:a,complete:n})=>{Ko("setInnerAudioOption",{mixWithOther:e,obeyMuteSwitch:t,success:i,fail:a,complete:n})},Pr=({urlList:e,success:t,fail:i,complete:a})=>{Ko("private_onWebPageUrlExposed",{urlList:e,success:t,fail:i,complete:a})},Ir=({data:e,success:t,fail:i,complete:a})=>{Ko("setClipboardData",{data:e,success:t,fail:i,complete:a})},Sr=({appid:e,path:t,moduleName:i,preloadCodeScene:a=5,success:n,fail:o,complete:r})=>{Ko("predownloadMiniProgramPackage",{appId:e,path:t,moduleName:i,scene:a,success:n,fail:o,complete:r})},kr=({extra:e,success:t,fail:i,complete:a})=>{Ko("predownloadPlayablePackage",{extra:e,success:t,fail:i,complete:a})},Dr=({slotid:e,success:t,fail:i,complete:a})=>{Ko("getAdPushMsg",{slotid:e,success:t,fail:i,complete:a})},Rr=({appid:e,moduleName:t,versionType:i,parentId:a,viewId:n,position:o,style:r,zIndex:s,fixed:l,success:d,fail:c,complete:p})=>{Ko("insertMiniProgramPlayableView",{appId:e,moduleName:t,versionType:i,dest:0,parentId:a,viewId:n,zIndex:s,position:o,style:r,fixed:l,success:d,fail:c,complete:p})},Or=({mute:e,extra:t,parentId:i,viewId:a,position:n,style:o,zIndex:r,fixed:s,success:l,fail:d,complete:c})=>{Ko("insertMiniProgramPlayableViewNew",{mute:e,extra:t,dest:0,parentId:i,viewId:a,zIndex:r,position:n,style:o,fixed:s,success:l,fail:d,complete:c})},Mr=({appid:e,moduleName:t,versionType:i,resume:a,mute:n,customEvent:o,parentId:r,viewId:s,position:l,style:d,zIndex:c,fixed:p,forceEnd:u,success:h,fail:g,complete:f})=>{Ko("updateMiniProgramPlayableView",{appId:e,moduleName:t,resume:a,mute:n,customEvent:o,versionType:i,dest:0,parentId:r,viewId:s,zIndex:c,position:l,style:d,fixed:p,forceEnd:u,success:h,fail:g,complete:f})},Nr=({mute:e,extra:t,resume:i,parentId:a,viewId:n,position:o,style:r,zIndex:s,fixed:l,success:d,fail:c,complete:p})=>{Ko("updateMiniProgramPlayableViewNew",{mute:e,extra:t,resume:i,dest:0,parentId:a,viewId:n,zIndex:s,position:o,style:r,fixed:l,success:d,fail:c,complete:p})},Lr=({appid:e,moduleName:t,versionType:i,parentId:a,viewId:n,position:o,style:r,zIndex:s,fixed:l,success:d,fail:c,complete:p})=>{Ko("removeMiniProgramPlayableView",{appId:e,moduleName:t,versionType:i,dest:0,parentId:a,viewId:n,zIndex:s,position:o,style:r,fixed:l,success:d,fail:c,complete:p})},Wr=({extra:e,parentId:t,viewId:i,position:a,style:n,zIndex:o,fixed:r,success:s,fail:l,complete:d})=>{Ko("removeMiniProgramPlayableViewNew",{extra:e,dest:0,parentId:t,viewId:i,zIndex:o,position:a,style:n,fixed:r,success:s,fail:l,complete:d})},Br=({slotid:e,success:t,fail:i,complete:a})=>{Ko("clearAdPushMsg",{slotid:e,success:t,fail:i,complete:a})},Vr=({dataUrl:e,bizInfo:t,success:i,fail:a,complete:n})=>{Ko("openWeComUserProfileForAd",{dataUrl:e,scene:7,bizInfo:t,success:i,fail:a,complete:n})},Hr=({success:e,fail:t,complete:i})=>{Ko("getFloatBallStatus",{success:e,fail:t,complete:i})},Fr=er((({taskName:e,taskUrl:t,fileMd5:i,extInfo:a,success:n,fail:o,complete:r})=>{Ko("addDownloadTaskStraight",{taskName:e,taskUrl:t,fileMd5:i,extInfo:a,permissionBytes:[1,1,1],success:n,fail:o,complete:r})})),Gr=new(ja=Go(),$a=Go(),Ya=Go(),qa=Go(),Ka=Go(),Za=Go(),Xa=Go(),Ja=Go(),Qa=Go(),en=Go(),tn=Go(),an=Go(),nn=Go(),on=Go(),rn=Go(),sn=Go(),ln=Go(),dn=Go(),cn=Go(),pn=Go(),un=Go(),hn=Go(),gn=Go(),fn=Go(),mn=Go(),yn=Go(),vn=Go(),_n=Go(),En=Go(),xn=Go(),bn=Go(),wn=Go(),Tn=Go(),Cn=Go(),An=Go(),Pn=Go(),In=Go(),Sn=Go(),kn=Go(),Dn=Go(),Rn=Go(),On=Go(),Mn=Go(),Nn=Go(),Ln=Go(),Wn=class{constructor(){Lo()(this,"setNavigationBarRightButton",Bn,this),Lo()(this,"setMiniProgramNavigationBarRightButton",Vn,this),Lo()(this,"hideVirtualBottomNavigationBar",Hn,this),Lo()(this,"showVirtualBottomNavigationBar",Fn,this),Lo()(this,"showStatusBar",Gn,this),Lo()(this,"hideStatusBar",Un,this),Lo()(this,"openProfile",zn,this),Lo()(this,"openWeComUserProfile",jn,this),Lo()(this,"addContact",$n,this),Lo()(this,"downloadAppInternal",Yn,this),Lo()(this,"openChannelsActivity",qn,this),Lo()(this,"openChannelsRewardedVideoAd",Kn,this),Lo()(this,"openChannelsLive",Zn,this),Lo()(this,"openChannelsUserProfile",Xn,this),Lo()(this,"setClipboardData",Jn,this),Lo()(this,"getChannelsLiveInfo",Qn,this),Lo()(this,"getAdPushMsg",eo,this),Lo()(this,"clearAdPushMsg",to,this),Lo()(this,"getNetworkType",io,this),Lo()(this,"preloadH5Page",ao,this),this.innerPreloadVideo=er(gr),Lo()(this,"preloadVideo",no,this),this.innerPreDownloadVideo=er(fr),Lo()(this,"preDownloadVideo",oo,this),Lo()(this,"launchApplicationOrigin",ro,this),this.innerLaunchApplication=er(nr),Lo()(this,"isLandingPageApi",so,this),Lo()(this,"launchApplication",lo,this),this.innerGetInstallState=er(sr),Lo()(this,"getInstallState",co,this),this.innerQueryDownloadTask=er(lr),Lo()(this,"queryDownloadTask",po,this),this.innerPauseDownloadTask=er(dr),Lo()(this,"pauseDownloadTask",uo,this),this.innerResumeDownloadTask=er(cr),Lo()(this,"resumeDownloadTask",ho,this),this.innerInstallDownloadTask=er(pr),Lo()(this,"installDownloadTask",go,this),this.innerSetPageOrientation=er(mr),Lo()(this,"setPageOrientation",fo,this),this.innerSetDeviceOrientation=er(yr),Lo()(this,"setDeviceOrientation",mo,this),this.innerSetInnerAudioOption=er(Ar),Lo()(this,"setInnerAudioOption",yo,this),Lo()(this,"vibrateShort",vo,this),this.innerVibrateShort=er(Xo),Lo()(this,"vibrateLong",_o,this),this.innerVibrateLong=er(Jo),Lo()(this,"vibrate",Eo,this),Lo()(this,"predownloadMiniProgramPackage",xo,this),Lo()(this,"predownloadPlayablePackage",bo,this),Lo()(this,"insertPlayableView",wo,this),Lo()(this,"insertPlayableViewNew",To,this),Lo()(this,"updatePlayableView",Co,this),Lo()(this,"updatePlayableViewNew",Ao,this),Lo()(this,"removePlayableView",Po,this),Lo()(this,"removePlayableViewNew",Io,this),Lo()(this,"getFloatBallStatus",So,this)}},Bn=A()(Wn.prototype,"setNavigationBarRightButton",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(ur)}}),Vn=A()(Wn.prototype,"setMiniProgramNavigationBarRightButton",[$a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(hr)}}),Hn=A()(Wn.prototype,"hideVirtualBottomNavigationBar",[Ya],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(vr)}}),Fn=A()(Wn.prototype,"showVirtualBottomNavigationBar",[qa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(_r)}}),Gn=A()(Wn.prototype,"showStatusBar",[Ka],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Er)}}),Un=A()(Wn.prototype,"hideStatusBar",[Za],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(xr)}}),zn=A()(Wn.prototype,"openProfile",[Xa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(ir)}}),jn=A()(Wn.prototype,"openWeComUserProfile",[Ja],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Vr)}}),$n=A()(Wn.prototype,"addContact",[Qa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(ar)}}),Yn=A()(Wn.prototype,"downloadAppInternal",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(rr)}}),qn=A()(Wn.prototype,"openChannelsActivity",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(br)}}),Kn=A()(Wn.prototype,"openChannelsRewardedVideoAd",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Cr)}}),Zn=A()(Wn.prototype,"openChannelsLive",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(wr)}}),Xn=A()(Wn.prototype,"openChannelsUserProfile",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Tr)}}),Jn=A()(Wn.prototype,"setClipboardData",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Ir)}}),Qn=A()(Wn.prototype,"getChannelsLiveInfo",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Yo)}}),eo=A()(Wn.prototype,"getAdPushMsg",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Dr)}}),to=A()(Wn.prototype,"clearAdPushMsg",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Br)}}),io=A()(Wn.prototype,"getNetworkType",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(qo)}}),ao=A()(Wn.prototype,"preloadH5Page",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Pr)}}),no=A()(Wn.prototype,"preloadVideo",[un],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPreloadVideo({resources:e})}}),oo=A()(Wn.prototype,"preDownloadVideo",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>this.innerPreDownloadVideo({videoUrl:e,downloadRatio:t})}}),ro=A()(Wn.prototype,"launchApplicationOrigin",[gn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(or)}}),so=A()(Wn.prototype,"isLandingPageApi",[fn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>Qo.indexOf(e)>-1}}),lo=A()(Wn.prototype,"launchApplication",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var i="string"==typeof e?{schemeUrl:e}:e;try{null!=t&&t.uxinfo&&(i.bizInfo=t.uxinfo,i.sourceInfo=JSON.stringify({wxad:{source:1}}))}catch(e){}return!O||null!=i&&i.isIosDirect||null===(null==i?void 0:i.skAdItem)?this.innerLaunchApplication(i):this.downloadAppInternal({appUrl:i.schemeUrl,extraData:null==i?void 0:i.extraData,skAdItem:null==i?void 0:i.skAdItem,bizInfo:(null==i?void 0:i.bizInfo)||"",sourceInfo:(null==i?void 0:i.sourceInfo)||""})}}}),co=A()(Wn.prototype,"getInstallState",[yn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerGetInstallState({packageName:e})}}),po=A()(Wn.prototype,"queryDownloadTask",[vn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerQueryDownloadTask({downloadId:e})}}),uo=A()(Wn.prototype,"pauseDownloadTask",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerPauseDownloadTask({downloadId:e})}}),ho=A()(Wn.prototype,"resumeDownloadTask",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerResumeDownloadTask({downloadId:e})}}),go=A()(Wn.prototype,"installDownloadTask",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerInstallDownloadTask({downloadId:e})}}),fo=A()(Wn.prototype,"setPageOrientation",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerSetPageOrientation({orientation:e})}}),mo=A()(Wn.prototype,"setDeviceOrientation",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerSetDeviceOrientation({value:e})}}),yo=A()(Wn.prototype,"setInnerAudioOption",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>this.innerSetInnerAudioOption({mixWithOther:e,obeyMuteSwitch:t})}}),vo=A()(Wn.prototype,"vibrateShort",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.innerVibrateShort({type:e})}}),_o=A()(Wn.prototype,"vibrateLong",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>this.innerVibrateLong()}}),Eo=A()(Wn.prototype,"vibrate",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return b()((function*(t=1,i=200){for(var a=0;a<t;a+=1)yield e.vibrateLong(),a<t-1&&(yield zo(400+i))}))}}),xo=A()(Wn.prototype,"predownloadMiniProgramPackage",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Sr)}}),bo=A()(Wn.prototype,"predownloadPlayablePackage",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(kr)}}),wo=A()(Wn.prototype,"insertPlayableView",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Rr)}}),To=A()(Wn.prototype,"insertPlayableViewNew",[Dn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Or)}}),Co=A()(Wn.prototype,"updatePlayableView",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Mr)}}),Ao=A()(Wn.prototype,"updatePlayableViewNew",[On],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Nr)}}),Po=A()(Wn.prototype,"removePlayableView",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Lr)}}),Io=A()(Wn.prototype,"removePlayableViewNew",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Wr)}}),So=A()(Wn.prototype,"getFloatBallStatus",[Ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return er(Hr)}}),Wn),{_downloadFileSkipCheckDomain:Ur}=y,zr=we(),jr=zr.writeFile,$r=zr.unlink,Yr=zr.stat,qr=zr.readdir,Kr=["interstitialAdExtInfo.txt","/interstitialAdExtInfo.txt","adinfos.txt","/adinfos.txt","/"],Zr=0,Xr=(e="")=>{if(e)return new Promise(((t,i)=>{$r({filePath:e,success:t,fail:e=>{e&&e.errMsg&&e.errMsg.indexOf("no such file or directory")>-1||i(e)}})}))},Jr=(e="")=>e?((e="")=>{if(e)return new Promise(((t,i)=>{Yr({path:e,recursive:!0,success:t,fail:i})}))})(e).then((e=>{var t=0,i=[],a=[],n=e.stats||[],o=+new Date;for(var r of n){t+=r.stats.size||0,Kr.includes(r.path)||i.push(r.path),o-1e3*r.stats.lastAccessedTime>=6048e5&&!Kr.includes(r.path)&&a.push(r.path)}return{totalSize:t,fileList:i,outedDateFileList:a}})):{totalSize:0,fileList:[],outedDateFileList:[]},Qr=(e={},t="")=>t?W()?Promise.resolve():R||O?new Promise(((i,a)=>{jr({filePath:t,data:JSON.stringify(e),encoding:"utf-8",success:i,fail:a})})):Promise.resolve():Promise.resolve(),es=e=>e&&0!==e.length?((e="")=>{if(e)return new Promise(((t,i)=>{qr({dirPath:e,success:t,fail:i})}))})(sa).then((t=>{var i=t.files;e&&e.map((e=>{var{url:t,filePath:a,fileName:n}=e;return i.includes(n)?Promise.resolve():((e="",t="")=>{if(e&&t)return new Promise(((i,a)=>{Ur({url:e,filePath:t,success:i,fail:a})}))})(t,a)}))})):Promise.reject({errMsg:"无数据"}),ts=e=>{if(e&&"object"==typeof e&&!(Zr>0)&&(Zr+=1,!W()&&(R||O)&&e&&e.widget_gray_unlimit_fetch_tag)){var t=3600*e.widget_gray_unlimit_fetch_tag*1e3;try{Yr({path:la,success:e=>{var i;Date.now()-1e3*(null==e||null===(i=e.stats)||void 0===i?void 0:i.lastModifiedTime)>=t?E():(Do({idKey:ga.OTHER_GET_ADMSG_BEGIN,idKeyGroup:1288}),Gr.getAdPushMsg({slotid:ea.splashAd}).then((e=>{Do({idKey:ga.OTHER_GET_ADMSG_SUCCESS,idKeyGroup:1288}),Array.isArray(e.msgData)&&e.msgData.length>0&&(E(),Gr.clearAdPushMsg({slotid:ea.splashAd}),Do({idKey:ga.OTHER_GET_ADMSG_SUCCESS_HAS_MESSAGE,idKeyGroup:1288}))})))},fail:e=>{e.errMsg&&e.errMsg.indexOf("no such file")>-1&&Qr({},la)}})}catch(e){}}},{publish:is,subscribe:as,invokeOperateWXDataPromise:ns,_onUserCaptureScreen:os,onAppRoute:rs,onBeforeUnloadPage:ss,addInnerShareCallbacks:ls,getAdUxInfo:ds,adReportOperateWXDataPromise:cs}=y,ps="",us=0,hs="index.html",gs=new m,fs="_onWxAdUserCaptureScreen",ms={shareAppMessage:0,shareTimeline:3};S.onReady((()=>{ps=ds()}));var ys={};try{rs((e=>{us=e.webviewId,ys[us]||(ys[us]=!0,hs=e.path,ss(us,(e=>{_s(e)})))}))}catch(e){}os((()=>{var e=+new Date;ps&&Ro({eventTimeStamp:e,scene:7,uxinfo:ps,url:hs}),us&&is(fs,{eventTimeStamp:e,path:hs},[us]),gs.emit(fs,{eventTimeStamp:e,webviewId:us,path:hs})}));ls(((e,t)=>{if(ps){var i="",a=ms[e]?ms[e]:0;"shareAppMessage"===e&&t.shareInfos&&(a=t.shareInfos.length>0?2:1,i=t.shareInfos.length>0&&t.shareInfos[0].shareName||""),0===a&&"shareAppMessage"===e&&t.shareTickets&&(a=t.shareTickets.length>0?2:1),n={eventTimeStamp:+new Date,shareType:a,tousername:i,uxinfo:ps,url:hs},ko(19214,n)}var n}));var vs={};as("wxAdDelayReport",((e,t)=>{vs[t]||(vs[t]={}),e.key&&e.value&&(vs[t][e.key]=e.value)}));var _s=e=>{if(vs[e]){for(var t in vs[e]){var i=vs[e][t];cs({reqData:{report_action:"comm_mmdata_report",report_data_json:i}}).catch((e=>{}))}delete vs[e]}};as("checkWxAdFetchLog",(e=>{ts(e)})),as("weappTouchEvent",(e=>{gs.emit("_onWeappTouchEvent",e)}));var Es=e=>{gs.off("_onWeappTouchEvent",e)},xs=(e,t,i=!1)=>{var a=!1;if("function"==typeof e){var n=n=>{!a&&e(n,t),a=!0,i&&Es("_onWeappTouchEvent")};return gs.on("_onWeappTouchEvent",n),n}return null};as("wxAdTakeWelfare",((e={})=>{var{id:t}=e;is("onWxAdTakeWelfareEvent",{id:t},Object.keys(ys))}));var bs=(e,t=1)=>Ge(e,Le,t),ws=(e,t=1)=>Ge(e,Fe,t),Ts=bs(5),Cs=bs(10),As=bs(11),Ps=bs(12),Is=bs(13),Ss=bs(14),ks=bs(21),Ds=bs(22),Rs=bs(23),Os=bs(24),Ms=(bs(25),bs(26),bs(28)),Ns=bs(32),Ls=bs(33),Ws=bs(34),Bs=bs(35),Vs=bs(36),Hs=bs(37),Fs=bs(38),Gs=bs(39,.01),Us=bs(40),zs=(bs(41),bs(42)),js=bs(43),$s=bs(44),Ys=bs(45),qs=bs(46,.01),Ks=bs(49),Zs=bs(50),Xs=bs(86,.01),Js=bs(87),Qs=(bs(88),bs(89),bs(90),bs(96,.01)),el=bs(97,.05),tl=bs(98),il=bs(99),al=bs(100),nl=bs(101),ol=(bs(102),bs(103)),rl=bs(104),sl=bs(106),ll=bs(105),dl=bs(107),cl=bs(108),pl=bs(109),ul=bs(110),hl=(bs(112),bs(113),bs(114),bs(115)),gl=bs(116),fl=bs(119),ml=bs(120),yl=bs(121),vl=bs(123),_l=bs(124),El=bs(125),xl=bs(126),bl=bs(127),wl=bs(128),Tl=(bs(129),bs(130)),Cl=(bs(131,.01),bs(132,.01)),Al=bs(133),Pl=bs(134),Il=bs(135),Sl=bs(136),kl=bs(137,.01),Dl=bs(138),Rl=bs(139),Ol=bs(140),Ml=bs(141),Nl=bs(142,.01),Ll=(bs(143),bs(144),bs(145)),Wl=bs(146),Bl=(bs(147),bs(148)),Vl=bs(149),Hl=bs(150,.01),Fl=bs(151),Gl=bs(152),Ul=bs(153),zl=bs(154),jl=bs(156),$l=bs(157),Yl=bs(158),ql=bs(159),Kl=bs(160),Zl=bs(161),Xl=bs(162),Jl=bs(163),Ql=bs(164),ed=bs(165),td=bs(166),id=bs(167),ad=(bs(168),bs(169)),nd=bs(170),od=bs(171),rd=bs(173),sd=bs(178,.01),ld=bs(179),dd=bs(180),cd=bs(181),pd=bs(182),ud=bs(183),hd=bs(188),gd=bs(189),fd=bs(190),md=bs(191),yd=bs(192),vd=bs(193),_d=bs(194),Ed=bs(195),xd=bs(196,.01),bd=bs(197),wd=bs(198),Td=bs(199),Cd=bs(202),Ad=bs(203),Pd=(bs(204),bs(205),bs(206)),Id=bs(207),Sd=bs(208),kd=bs(209),Dd=bs(210),Rd=bs(211),Od=(bs(212),bs(213),bs(214),bs(215),bs(216),bs(217)),Md=bs(218),Nd=bs(219),Ld=bs(220),Wd=bs(221),Bd=bs(223),Vd=bs(224),Hd=bs(225),Fd=bs(226),Gd=bs(227),Ud=bs(228),zd=bs(229),jd=bs(230),$d=(bs(234),bs(235)),Yd=bs(236),qd=bs(237),Kd=bs(238),Zd=bs(239),Xd=bs(240),Jd=bs(241),Qd=bs(242),ec=bs(243),tc=bs(244),ic=bs(246),ac=bs(247),nc=(bs(250),bs(251),bs(252,.01),bs(253)),oc=bs(254),rc=ws(1,.01),sc=ws(2),lc=ws(3,.01),dc=ws(4),cc=ws(5,.01),pc=ws(6),uc=(ws(7),ws(8),ws(9),ws(10,.01)),hc=ws(11),gc=ws(12),fc=ws(13),mc=ws(14),yc=ws(15),vc=(ws(16),ws(17)),_c=ws(18),Ec=ws(19),xc=ws(20),bc=ws(21,.01),wc=ws(22),Tc=(ws(27),ws(28),ws(29),ws(30),ws(23)),Cc=ws(24),Ac=ws(25),Pc=ws(26),Ic=ws(31),Sc=ws(32),kc=(ws(33),ws(34),ws(35),ws(36),ws(37),ws(38),ws(39)),Dc=ws(40),Rc=(ws(41),ws(42)),Oc=ws(43),Mc=ws(44),Nc=ws(45),Lc=ws(46),Wc=ws(47),Bc=ws(48),Vc=ws(51),Hc=ws(52),Fc=ws(53),Gc=ws(54),Uc=(e,t=1)=>Ge(e,We,t),zc=Uc(0,.01),jc=Uc(1),$c=Uc(2,.01),Yc=Uc(3),qc=Uc(4),Kc=(Uc(5),Uc(6),Uc(7),Uc(8),Uc(9),Uc(10),Uc(11),Uc(12),Uc(13),Uc(14),Uc(15),Uc(16),Uc(17),Uc(18),Uc(19),Uc(20),Uc(21,.01),Uc(22),Uc(23)),Zc=(Uc(24),Uc(25),Uc(26),Uc(27),Uc(28),Uc(29),Uc(30),Uc(31),Uc(32),Uc(33),Uc(34),Uc(35),Uc(36),Uc(37),Uc(38),Uc(39),Uc(40)),Xc=Uc(41),Jc=(Uc(52),Uc(53),Uc(54),Uc(55),Uc(56),Uc(57),Uc(58),Uc(96,.01)),Qc=Uc(97,.01),ep=Uc(98,.01),tp=(Uc(106),Uc(107),Uc(121)),ip=Uc(122),ap=Uc(123),np=Uc(124),op=Uc(125),rp=Uc(126),sp=(Uc(127),e=>Ge(e,Ve)),lp=sp(1),dp=sp(2),cp=sp(3),pp=sp(4),up=sp(5),hp=sp(6),gp=sp(7),fp=sp(8),mp=sp(9),yp=sp(10),vp=(e,t=1)=>Ge(e,He,t),_p=vp(0),Ep=vp(1),xp=vp(2),bp=vp(3),wp=vp(4,.01),Tp=vp(5,.01),Cp=vp(6),Ap=vp(7),Pp=vp(8),Ip=vp(9),Sp=vp(10),kp=vp(11),Dp=vp(12),Rp=vp(13),Op=vp(14),Mp=vp(15),Np=(vp(16),vp(17),vp(18),vp(19),vp(20)),Lp=vp(21),Wp=vp(22),Bp=vp(23),Vp=vp(24),Hp=vp(25),Fp=vp(26),Gp=vp(27),Up=vp(28),zp=vp(29),jp=vp(30),$p=vp(31),Yp=vp(32),qp=(vp(33),vp(34)),Kp=vp(35),Zp=vp(36),Xp=vp(37),Jp=(vp(38),vp(39),vp(40),vp(41),vp(42),vp(43),vp(44)),Qp=vp(45),eu=vp(46),tu=vp(47),iu=vp(48),au=(vp(49),vp(50),vp(51)),nu=(vp(52),vp(53),vp(54),vp(55),vp(56),vp(57),vp(58)),ou=vp(59),ru=vp(60),su=vp(61),lu=vp(62),du=vp(63),cu=vp(64),pu=vp(65),uu=(vp(66),vp(67)),{_downloadFileSkipCheckDomain:hu,deviceInfo:gu,appRouteInfo:fu,publish:mu,invokeOperateWXData:yu,getServicePreloadInfo:vu,addPreloadInfoCbList:_u,getIndentityInfo:Eu}=y,xu=[],bu={},wu=null,Tu={},Cu=null,Au=0,Pu=0,Iu=!0,Su=[],ku=()=>(Ru(),Su.shift()),Du=e=>{e&&null!=e&&e.data&&null!=e&&e.ecpm&&null!=e&&e.cacheTime&&(Ru(),Su.push(e),Su.sort(((e,t)=>t.ecpm-e.ecpm)))},Ru=()=>{!Su||Su.length<1||(Su=Su.filter((e=>e.cacheTime&&Date.now()-e.cacheTime<18e5)))},Ou=function(){var e=b()((function*(e,t,i){if(e&&t&&i&&!(i<1)){Iu=!1;try{yield Mu(e,t),Pu=0,Iu=!0}catch(e){[0,1004].includes(e.errCode)&&(Iu=!0,Pu+=1)}if(!Iu||Pu>=3)return clearTimeout(Cu),void(Cu=null);clearTimeout(Cu),Cu=setTimeout((()=>{Ou(e,t,i)}),i)}}));return function(t,i,a){return e.apply(this,arguments)}}(),Mu=function(){var e=b()((function*(e,t){try{var i=yield Hu({type:e,unitId:t}),{data:a}=i;if(0!==a.ret||!a.advertisement_num||a.advertisement_num<=0||!a.advertisement_info)throw{errMsg:"no advertisement to cache",errCode:a.ret};if(1!==a.advertisement_num)throw{errMsg:"advertisement too many to cache ",errCode:a.ret};var n=a.advertisement_info[0];if("910"===n.crt_size&&102===n.dest_type)throw{errMsg:"advertisement type not match",errCode:a.ret};var o=0;if(n.ext_back_comm&&"string"==typeof n.ext_back_comm){var r=JSON.parse(n.ext_back_comm);o=null==r?void 0:r.basic_ecpm}o&&Du({data:a,cacheTime:Date.now(),ecpm:o}),Do(Fc)}catch(e){throw Do(Gc,e),e}}));return function(t,i){return e.apply(this,arguments)}}(),Nu=function(){var e=b()((function*(e,t){var i,a;try{var{data:n}=t;if(!(n.advertisement_num>=1&&n.advertisement_info.length))return void Do(Ml,{errCode:n.ret,errMsg:"no advertisement",type:e.type},{ad_unit_id:e.unitId});var o,r=n.advertisement_info[0];if(i=r.aid,a=r.traceid,null!==(o=r.video_info)&&void 0!==o&&o.videoUrl){var s=yield((e,t)=>new Promise((i=>{var a=Date.now();hu({url:t.video_info.videoUrl,success(n){i(n.tempFilePath),Do(Ll,{type:e.type,url:t.video_info.videoUrl,costtime:Date.now()-a},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})},fail(){i(""),Do(Wl,{type:e.type,url:t.video_info.videoUrl},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})}})})))(e,r);s&&(r.video_info.preloadUrl=s)}Do(Nl,{type:e.type},{ad_unit_id:e.unitId,aid:r.aid,traceid:r.traceid}),Tu[e.unitId]={data:JSON.stringify(n),_preloadTime:+new Date,_aid:i,_traceid:a}}catch(t){Do(Ml,{errMsg:"advertisement error",error:t instanceof Error?null==t?void 0:t.stack:t,type:e.type},{ad_unit_id:e.unitId})}}));return function(t,i){return e.apply(this,arguments)}}(),Lu=new Set,Wu=(e,t=!1)=>{Lu.has(e.unitId)||(Lu.add(e.unitId),Hu(e,t).then((t=>{Nu(e,t),Lu.delete(e.unitId)})).catch((()=>{Lu.delete(e.unitId)})))},Bu=e=>t=>Vu(t,e),Vu=(Bu(null),(e,t)=>{var a;if(null!=t&&t.ignoreCheck&&(a=t.ignoreCheck),Array.isArray(e))for(var n=0,o=e.length;n<o;n++){var r=e[n],{unitId:s,type:l}=r;-1!==["banner","custom","videoPatch","video"].indexOf(l)?-1===xu.indexOf(s)?(xu.push(s),bu[s]=r,Wu(r,a)):i.warn(`preloadAd已预加载过${s}这个广告单元,请勿重复调用`):i.warn("wx.preloadAd参数有误，请检查type类型")}else i.warn("preloadAd参数应为数组")}),Hu=(e,t=!1)=>new Promise(((i,a)=>{var n,o;n=n=>{var o,r,s,l,d,c,p,u,h={pos_id:"",ad_unit_id:e.unitId,scene_type:n.scene_type,weapp_path:fu.weappPath,user_agent:n.ua,sdk_version:gu.SDKVersion,appid:gu.gameAppId,orig_weapp_id:"",weapp_extra_data:JSON.stringify({wxa_start_ts:gu.startTime.valueOf(),wxa_enter_ts:fu.enterForegroundTime.valueOf(),start_ts:gu.startTime.valueOf(),enter_ts:fu.enterForegroundTime.valueOf(),user_duration:fu.gameDuration+(Date.now()-fu.enterForegroundTime.getTime()),machine_type:gu.model,is_ad_interval:!1,wxa_ext:"",env:null===(o=S.host)||void 0===o?void 0:o.env,app_appid:null===(r=S.host)||void 0===r?void 0:r.appId,host_version:null===(s=S.host)||void 0===s?void 0:s.version,local_wechat_version:null===(l=S.host)||void 0===l?void 0:l.localWeChatVersion,wxa_fetch_ads_ts:Date.now()}),ext_slot_custom_comm:""},g={is_ad_preload:1};"custom"===e.type?(h.pos_id=ea.customAd,g.is_adunit_tmpl=!0):"banner"===e.type?(h.pos_id=ea.banner,Number(e.adIntervals)>0&&(g.refresh_time=String(e.adIntervals))):"videoPatch"===e.type?h.pos_id=ea.wxAppPreVideoAd:"video"===e.type?h.pos_id=ea.wxAppVideo:"wxpay"===e.type?(e.hasWxPayCustomCard?h.pos_id=`${ea.wxpayBottom}`:h.pos_id=`${ea.wxpayBottom}|${ea.wxpayCard}`,h.ad_unit_id="",e.mchExtId&&(g.mch_ext_id=e.mchExtId)):"rewardedVideoAd"===e.type&&(h.pos_id=ea.rewardedVideoAd,Object.assign(g,Eu())),W()&&(g.in_3rd_app=1),g.machine_brand=gu.brand||(null==S?void 0:S.brand),null!==(d=S.host)&&void 0!==d&&null!==(c=d.passThroughInfo)&&void 0!==c&&c.ad_type&&(g.wmpf_ad_request_rule=null===(p=S.host)||void 0===p||null===(u=p.passThroughInfo)||void 0===u?void 0:u.ad_type),h.ext_slot_custom_comm=JSON.stringify(g),t&&(h.ad_unit_id=void 0,h.request_type=1,h.pos_id=ea.interstitialAd),yu({sdkApiName:"webapi_getadvert",apiName:"webapi_getadvert",reqData:h,success:e=>{i(e)},fail:t=>{Do(Ol,{error:t,type:e.type},{ad_unit_id:e.unitId,slotid:h.pos_id}),a(t)},complete:()=>{}})},(o=vu())?null==n||n(o):(wu&&clearTimeout(wu),wu=setTimeout((()=>{mu("videoAdPreloadInfo",null,[fu.currentWebviewId])}),0),_u(n))})),Fu=["click","ready","touchstart","touchmove","touchend","touchcancel","waiting","play","pause","ended","timeUpdate","error","progress","preloadedMetaData","fullScreenChange"],Gu=e=>{for(var t=Array.isArray(e)?e[0]:e;t.parent&&t.parent!==ig&&t.parent.referComponent;)t=t.parent;return t};class Uu{constructor(e){this.state={},this.style={},this.isComponent=!0,this._hasUnmount=!1,this._eventHandler={},this._stateQueue={},this._setStateTimer=null,this._setStyleTimer=null,this._manualStyle={},this._subComponents=[],this._rootElement=void 0,this._elementMap={},this.props=void 0,this.parent=null,this.props=e}setState(e,t){var i=this;this._stateQueue=this._stateQueue||{};var a=!1;for(var n of Object.keys(e)){e[n]!==this.state[n]&&(a=!0)}a?(Object.assign(this._stateQueue,e),this._setStateTimer&&clearTimeout(this._setStateTimer),this._setStateTimer=setTimeout(b()((function*(){i._setStateTimer=null;var e=!1;for(var a of Object.keys(i._stateQueue)){var n=i._stateQueue[a];i.state[a]!==n&&(e=!0)}e&&(vh(i,"updateState",{...i.state,...i._stateQueue}),Object.assign(i.state,i._stateQueue),mh(i),Gh(Gu(i._rootElement)),yield ig.nextLayout(),null==t||t(i.state,i.props))})),0)):null==t||t(this.state,this.props)}ready(e){}updatedProps(){}render(){return""}_unmountComponent(){if(!this._hasUnmount){if(this._hasUnmount=!0,Array.isArray(this._subComponents))for(var e of this._subComponents)e._unmountComponent();vh(this,"destroy")}}getRootElement(){if(!Array.isArray(this._rootElement))return this._rootElement;throw new Error("You should'nt try getRootElement() in component with virtual root")}getRootElements(){return this._rootElement}getRootComponent(){for(var e=this;e.parent;)e=e.parent;return e}getSubComponents(){return this._subComponents}getElementById(e){return this._elementMap[e]?this._elementMap[e]:null}getEventHandler(e){return this._eventHandler[e]}setStyle(e,t){var i=this;return b()((function*(){var a=i.getElementById(e),n=i._manualStyle;e&&t&&(a&&Object.assign(a.style,t),n[e]=n[e]||{},Object.assign(n[e],t)),yield Promise.resolve();var o=i.getRootComponent();yield o.requestLayout()}))()}requestLayout(){var e=Array.isArray(this._rootElement)?this._rootElement[0]:this._rootElement;return new Promise((t=>{this._setStyleTimer&&clearTimeout(this._setStyleTimer),this._setStyleTimer=setTimeout((()=>{this._setStyleTimer=null,Gh(Gu(this._rootElement)),Promise.race([null==e?void 0:e.nextUpdate(),zo(200)].filter((e=>e))).then((()=>t()))}),0)}))}_bindEvent(e,t,i){return this._eventHandler[e]=this._eventHandler[e]||{},this._eventHandler[e][t]=this._eventHandler[e][t]||new Set,this._eventHandler[e][t].add(i),i}_unbindEvent(e,t,i){var a,n;return!(null===(a=this._eventHandler[e])||void 0===a||null===(n=a[t])||void 0===n||!n.has(i))&&(this._eventHandler[e][t].delete(i),0===this._eventHandler[e][t].size&&delete this._eventHandler[e][t],0===Object.keys(this._eventHandler[e]).length&&delete this._eventHandler[e],!0)}onClick(e,t){return this._bindEvent(e,"click",t)}offClick(e,t){return this._unbindEvent(e,"click",t)}onReady(e,t){return this._bindEvent(e,"ready",t)}offReady(e,t){return this._unbindEvent(e,"ready",t)}onTouchstart(e,t){return this._bindEvent(e,"touchstart",t)}offTouchstart(e,t){return this._unbindEvent(e,"touchstart",t)}onTouchmove(e,t){return this._bindEvent(e,"touchmove",t)}offTouchmove(e,t){return this._unbindEvent(e,"touchmove",t)}onTouchend(e,t){return this._bindEvent(e,"touchend",t)}offTouchend(e,t){return this._unbindEvent(e,"touchend",t)}onTouchcancel(e,t){return this._bindEvent(e,"touchcancel",t)}offTouchcancel(e,t){return this._unbindEvent(e,"touchcancel",t)}onWaiting(e,t){return this._bindEvent(e,"waiting",t)}offWaiting(e,t){return this._unbindEvent(e,"waiting",t)}onPlay(e,t){return this._bindEvent(e,"play",t)}offPlay(e,t){return this._unbindEvent(e,"play",t)}onPause(e,t){return this._bindEvent(e,"pause",t)}offPause(e,t){return this._unbindEvent(e,"pause",t)}onEnded(e,t){return this._bindEvent(e,"ended",t)}offEnded(e,t){return this._unbindEvent(e,"ended",t)}onTimeUpdate(e,t){return this._bindEvent(e,"timeUpdate",t)}offTimeUpdate(e,t){return this._unbindEvent(e,"timeUpdate",t)}onError(e,t){return this._bindEvent(e,"error",t)}offError(e,t){return this._unbindEvent(e,"error",t)}onProgress(e,t){return this._bindEvent(e,"progress",t)}offProgress(e,t){return this._unbindEvent(e,"progress",t)}onPreloadedMetaData(e,t){return this._bindEvent(e,"preloadedMetaData",t)}offPreloadedMetaData(e,t){return this._unbindEvent(e,"preloadedMetaData",t)}onFullScreenChange(e,t){return this._bindEvent(e,"fullScreenChange",t)}offFullScreenChange(e,t){return this._unbindEvent(e,"fullScreenChange",t)}}Uu.isComponent=!0,Uu.subComponents={};var zu=function(e){return e.waiting="waiting",e.play="play",e.pause="pause",e.ended="ended",e.timeUpdate="timeUpdate",e.error="error",e.progress="progress",e.fullscreenChange="fullscreenChange",e.loadedMetaData="loadedMetaData",e.preloadedMetaData="preloadedMetaData",e}({});class ju extends Uu{render(){var{props:{children:e}}=this;return e}}ju.isFragment=!0;var{View:$u,Text:Yu,Image:qu,Video:Ku}=y,Zu="Fragment",Xu={view:$u,text:Yu,image:qu,video:Ku},Ju=e=>e.name[0]>="A"&&e.name[0]<="Z",Qu=e=>Object.keys(e.children).map((t=>e.children[t])),eh=new WeakMap,th=(e,t)=>{var{referComponent:i}=t,a={children:t.children},n="getSubComponentProps",o=[];if(e.getProps){var[r,...s]=e.getProps.split(":");n=r,o=s}for(var l of(Object.assign(a,vh(i,n,t.name,...o)||{}),Object.keys(e))){var d=e[l];["getProps","children"].includes(l)||(a[l]=d)}return a.children=t.children,a},ih=(e,t,i)=>{if(!i.isComponent)throw new Error(`class ${e.name} is not a component, please ensure extend BaseComponent`);return fh(i,th(t,e),!1,e.referComponent)},ah=(e,t=nh(e))=>{var{referComponent:i}=e,{id:a}=t,n=(("string"==typeof t.class?t.class:"")||"").split(/\s+/).filter(Boolean),o={...t};a&&(o.name=a),delete o.id,o.style=Jh({classList:n,name:a,referComponent:i});var r=null!=o.bubbleEvent,s=new(0,Xu[e.name])(o);if(s.isBubbleEventSet=r,Object.assign(s,{classList:n,referComponent:i,key:t.key||null}),a&&i&&i.getEventHandler(a))for(var l of Object.keys(i.getEventHandler(a))){var d=i.getEventHandler(a)[l];if(l in zu){if("video"===e.name)for(var c of d){var p=s[`on${l[0].toUpperCase()}${l.slice(1)}`];null==p||p.call(s,c)}}else for(var u of d)s.on(l,u)}return null!=a&&(i._elementMap[a]=s),s},nh=e=>{var t={};for(var i of Object.keys(e.attributes)){var a=e.attributes[i],n=$o(i);t[n]=a,/\{\{.+\}\}/.test(a)||("true"===a?t[n]=!0:"false"===a?t[n]=!1:"id"===n?t.id=$o(a):t[n]=a)}return t},oh=e=>{var t=e.constructor.subComponents||[];return{..."function"==typeof t?t():t,[Zu]:ju}},rh=e=>{if(Array.isArray(e)){var t=e.map((e=>rh(e))),i={element:null,subComponents:[]};for(var{element:a,subComponents:n}of t)for(var o of(a&&(null===i.element&&(i.element=[]),Array.isArray(a)?i.element.push(...Se(a)):i.element.push(a)),n))i.subComponents.includes(o)||i.subComponents.push(o);return i}if(!e)return{element:null,subComponents:[]};var r,s=oh(e.referComponent),l=[],d=nh(e);if(Ju(e)){if(!s[e.name])throw new Error(`component name ${e.name} does not exists`);var c=ih(e,d,s[e.name]);if(!(r=c.getRootElements()))return{element:null,subComponents:[]};l.push(c)}else{var p=ah(e,d);e.children.forEach((e=>{var{element:t,subComponents:i}=rh(e);if(t)if(l.push(...i),Array.isArray(t))for(var a of t)p.add(a);else p.add(t)})),r=p}return{element:r,subComponents:l}},sh=(e,t)=>{var i=["autoInsert","autoplay","bubbleEvent","clickState","controls","enablePlayGesture","enableProgressGesture","eventType","height","hide","initialTime","live","loop","muted","obeyMuteSwitch","objectFit","parentId","playbackRate","poster","preLoad","scene","showCenterPlayBtn","src","underGameView","width","x","y","value"],a=!1;for(var n of i)void 0===t[n]&&(t[n]=void 0);for(var o of Object.keys(t)){var r=t[o];i.includes(o)&&e[o]!==r&&(e[o]=r,a=!0)}return a},lh=(e,t,i=null)=>{var a=i;if(e!==t){if(!a){if(null==e||!e.parent)throw new Error("can not find element tree without parent");a=e.parent}if(e&&a.remove(e),t)if(Array.isArray(t))for(var n of t)a.add(n);else a.add(t)}},dh=(e,t)=>Xu[t.name]&&e?e.constructor===Xu[t.name]:!(null==e||!e.isRootElementOfComponent||!e.referComponent)&&e.referComponent.constructor.name===t.name,ch=(e,t)=>{var i=nh(t),a=t.referComponent,n=oh(a),o=e&&dh(e,t);if(!Ju(t)){if(!t.children||0===t.children.length)return e&&o?(sh(e,i),e):ah(t,i);if(e&&o)return sh(e,i),uh(Qu(e),t.children),e;var{element:r,subComponents:s}=rh(t);return a.getSubComponents().push(...s),r}var l=null==e?void 0:e.referComponent,d=null==l?void 0:l.constructor;if(l&&d===n[t.name])return Object.assign(l.props,th(i,t)),mh(l);var c=a.getSubComponents().indexOf(l);return c>-1&&a.getSubComponents().splice(c,1),l&&vh(l,"destroy"),null==e||e.remove(),ih(t,i,n[t.name]).getRootElements()},ph=e=>e.reduce(((e,t)=>(t.name===Zu?e.push(...ph(t.children)):e.push(t),e)),[]),uh=(e,t)=>{var i=[],a={};for(var n of e)n.key?a[n.key]=n:i.push(n);for(var o of ph(t)){var{key:r}=o,s=null;if(r)a[r]&&(s=a[r],delete a[r]);else for(var l of Object.keys(i)){var d=i[+l];if(d&&dh(d,o)){s=d,i.splice(Number(l),1);break}}s||(s=i.shift()||null),e.length&&e[0].parent&&lh(s,ch(s,o),e[0].parent)}var c=Object.keys(a).reduce(((e,t)=>(e.push(a[t]),e)),[]);for(var p of[...i,...c])null==p||p.remove()},hh=(e,t)=>{Array.isArray(e)?e.forEach((e=>hh(e,t))):(t(e),e.children.forEach((e=>hh(e,t))))},gh=(e,t)=>{hh(e,(e=>{e.referComponent||(e.referComponent=t)}))},fh=(e,t,i=!0,a=null)=>{var n=new e(t);n.parent=a;var o=n.render(),r="string"==typeof o?T()(o).root:o;gh(r,n);var{element:s,subComponents:l}=rh(r);return n._subComponents=l,s&&(n._rootElement=s,Array.isArray(s)?s.forEach((e=>{e.isRootElementOfComponent=!0})):s.isRootElementOfComponent=!0),vh(n,"ready",s,l),i&&(s&&(Array.isArray(s)?s.forEach((e=>{ig.add(e),Gh(e)})):(ig.add(s),Gh(s))),eh.set(e,n)),n},mh=(e,t)=>{t&&Object.assign(e.props,t);var i=e.getRootElements(),a=e.render(),n="string"==typeof a?T()(a).root:a;return gh(n,e),Array.isArray(i)&&Array.isArray(n)?uh(i,n):Array.isArray(i)&&!Array.isArray(n)?uh(i,[n]):!Array.isArray(i)&&Array.isArray(n)?uh([i],n):Array.isArray(i)||Array.isArray(n)||lh(i,ch(i,n)),vh(e,"updatedProps"),i},yh=e=>{if(!e.isComponent)throw new Error("variable is not a component instance");var t=e.getRootElements();Array.isArray(t)?t.forEach((e=>ig.remove(e))):ig.remove(t),e._unmountComponent(),eh.delete(e.constructor)},vh=(e,t,...i)=>"function"==typeof e[t]?e[t](...i):null,{getInitScreenSize:_h,getGameTouchStatus:Eh,onGameTouchEnd:xh}=y,bh=!1,wh={},Th=()=>Eh(),Ch=e=>{xh(e)},{gametext:Ah,Text:Ph}=y,Ih=["width","height"],Sh=(e="column",t)=>["row","column"].indexOf(e)===["width","height"].indexOf(t),kh=(e,t)=>Math.max(e,t),Dh=(e,t)=>e+t,Rh=e=>({width:(e.style.marginLeft||0)+(e.style.marginRight||0),height:(e.style.marginTop||0)+(e.style.marginBottom||0)}),Oh=e=>({width:(e.style.paddingLeft||0)+(e.style.paddingRight||0),height:(e.style.paddingTop||0)+(e.style.paddingBottom||0)}),Mh=(e,t,i)=>e&&"px"===e.slice(-2)?parseFloat(e.slice(0,-2))+i:parseFloat(e.slice(0,-1))/100*t+i,Nh=(e,t,i,a,n,o)=>{var r,s=e.parent,l=a[i],d=Oh(e)[i],c=t,p=null,u=!1;if(!n&&o>0&&(null==c||o>c)&&(c=o),a.position&&"absolute"===a.position[1]&&null!=c&&(c+=o),l||null==c)l&&"percent"===l[0]&&null!=c?(p=c*l[1]-d,u=!0):l&&"digit"===l[0]&&(p=l[1]-d,u=!0);else if("auto"!==e.style[i])if("absolute"===(null===(r=a.position)||void 0===r?void 0:r[1])){var h=0,g=!1;for(var f of"width"===i?["left","right"]:["top","bottom"])null!=a[f]?"digit"===a[f][0]?h+=Number(a[f][1])||0:"percent"===a[f][0]&&(h+=(Number(a[f][1])||0)*c):g=!0;p=g?null:c-h}else if(n&&Sh(s.style.flexDirection,i)&&e.style.flex>0)p=null;else{var m=Sh(e.style.flexDirection,i);(e=>og(e).some((e=>null!=e.style.flex&&e.style.flex>0)))(e)&&m&&(u=!0),p=c-d}return null!=p&&(e.autoFitSize[i].size=p),u},Lh=(e,t)=>e.parent&&e.parent!==ig?e.parent.style[t]:"width"===t?wh.screenWidth:wh.screenHeight,Wh=e=>{var t=ag(e),i=Oh(e);e.autoFitSize={width:{size:null,margin:0,padding:i.width},height:{size:null,margin:0,padding:i.height}};var a=e.parent;if(t||a.autoFitSize){var n=eg(Jh(e)),o={width:!1,height:!1},r={width:null,height:null};for(var s of Ih){var l=n[s],d=t?Lh(e,s):a.autoFitSize[s].size,c=t?0:a.autoFitSize[s].padding;!l&&t&&"height"===s&&(d=null),o[s]=Nh(e,d,s,n,!0,c)}Hh(e,n);var p=Oh(e),u="wrap"===e.style.flexWrap,h=[];for(var g of og(e)){Wh(g);var f=Rh(g);if("absolute"!==g.style.position)for(var m of Ih){var y=Sh(e.style.flexDirection,m);if(u){if(y){var v="width"===m?"height":"width";h.push([(g.autoFitSize[m].size||0)+g.autoFitSize[m].padding+f[m],(g.autoFitSize[v].size||0)+g.autoFitSize[v].padding+f[v]])}}else{var _=y?Dh:kh;null==g.autoFitSize[m].size&&g.autoFitSize[m].padding<=0&&_===Dh&&(o[m]=!0),r[m]=_((g.autoFitSize[m].size||0)+g.autoFitSize[m].padding+f[m],r[m]||0)}}}if(u){var E=0,x=0,b=0,w=0,T=Sh(e.style.flexDirection,"width")?"width":"height",C="width"===T?"height":"width";for(var[A,P]of(w=o[T]&&null!=e.style[T]?e.style[T]:h.reduce(((e,[t])=>e+t),0),h))b=Math.max(b,P),A+E>w?(x+=b,b=P,E=A):E+=A;x+=b,r[T]=E,r[C]=x}if(e instanceof Ph){var I=!1;if("ellipsis"===e.style.textOverflow&&Number(e.style.lineClamp)>=1){var S=Bh(e);null!=!e.autoFitSize.height.size&&o.height||(I=!0,S>1&&e.style.textAlignMultiline&&(e.style.textAlign=e.style.textAlignMultiline),Object.assign(e.autoFitSize.height,{size:(e.style.lineHeight||e.style.fontSize||0)*S,padding:p.height}))}null!=e.autoFitSize.height.size&&(o.height||I)||Object.assign(e.autoFitSize.height,{size:e.style.lineHeight||e.style.fontSize||0,padding:p.height}),null!=e.autoFitSize.width.size&&o.width||Object.assign(e.autoFitSize.width,{size:Ah.getTextWidth(e.value,e.style.fontSize||14)+3,padding:p.width})}for(var k of Ih)o[k]||null===r[k]?p[k]>0&&(e.autoFitSize[k].padding=p[k]):Object.assign(e.autoFitSize[k],{size:null!=r[k]?r[k]:null,padding:p[k]})}},Bh=(e,t)=>{var i,a,n=t||(null==e||null===(i=e.style)||void 0===i?void 0:i.width)||(null==e||null===(a=e.layoutBox)||void 0===a?void 0:a.width)||0;if(!n)return 1;for(var o=Number(e.style.lineClamp),r=Number(e.style.fontSize),s=e.value||"",l=Ah.getTextWidth("...",r),d=[""],c=0,p=0;c<o&&p<s.length;){var u=c+1===o,h=u?n-l:n;Ah.getTextWidth(d[c]+s[p],r)+r<=h?d[c]+=s[p]:u?(d[c]+="...",c+=1):(c+=1,d.push(s[p])),p+=1}return e._hasEllipsis||(e._hasEllipsis=!0,e.value=d.join("")),d.length},Vh=e=>{var t=og(e);for(var i of Ih){var a=Sh(e.style.flexDirection,i),{size:n}=e.autoFitSize[i],{padding:o}=e.autoFitSize[i];if(null!=n||o){n=n||0;var r=0,s=0;for(var l of t){var{size:d,margin:c,padding:p}=l.autoFitSize[i];"absolute"!==l.style.position&&(null!=d?r+=d+p+c:l.style.flex&&l.style.flex>0&&(s+=Number(l.style.flex)))}for(var u of t){var h,g=eg(Jh(u)),f=null;a?f=u.style.flex?(n-r)/kh(s,1)*u.style.flex:null:e.style.alignItems&&"stretch"!==e.style.alignItems||(f=n),null==u.autoFitSize[i].size&&f?Nh(u,f,i,g,!1,o):"absolute"===(null===(h=g.position)||void 0===h?void 0:h[1])&&Nh(u,n,i,g,!1,o)}}}for(var m of t)Vh(m);for(var y of Ih){var{size:v,padding:_}=e.autoFitSize[y];null!=v&&e.style[y]!==v+_&&(e.style[y]=v+_)}e instanceof Ph&&null==e.style.lineHeight&&(e.style.lineHeight=e.style.height)},Hh=(e,t)=>{var i=e.autoFitSize.width.size,a=e.autoFitSize.height.size;for(var n of Object.keys(t)){var o=t[n];"percent"===o[0]?"horizontal"===Uh[n]&&null!=i?e.style[n]=o[1]*i:"vertical"===Uh[n]&&null!=a&&(e.style[n]=o[1]*a):"normal"===o[0]&&(e.style[n]=o[1])}t.transform&&"transform"===t.transform[0]&&(e.style.left=Mh(t.transform[1][0],i||0,e.style.left||0),e.style.top=Mh(t.transform[1][1],a||0,e.style.top||0)),!e.style.lineHeight&&e.parent&&e.parent.style.lineHeight&&(e.style.lineHeight=e.parent.style.lineHeight)},Fh=e=>{var t=[["width","left"],["height","top"]];for(var i of og(e))for(var[a,n]of(Fh(i),t)){var o;if((i.style.position||null!==(o=i.expandAbsoluteSize)&&void 0!==o&&o.has(a))&&"hidden"!==e.style.overflow){var r=(i.style[a]||0)+(i.style[n]||0);r>(e.style[a]||0)&&(e.style[a]=r,e.expandAbsoluteSize||(e.expandAbsoluteSize=new Set),e.expandAbsoluteSize.add(a))}}},Gh=e=>{var t=ag(e),i=e.parent;(t||null!=i&&i.autoFitSize)&&(Wh(e),Vh(e),Fh(e),(e=>{for(var t=[["width","left"],["height","top"]],i=e;i&&i!==ig&&i.parent!==ig;){var a=i.parent;if(i.style.hidden)break;for(var[n,o]of t){var r;if((i.style.position||null!==(r=i.expandAbsoluteSize)&&void 0!==r&&r.has(n))&&"hidden"!==e.style.overflow){var s=(i.style[n]||0)+(i.style[o]||0);s>(a.style[n]||0)&&(a.style[n]=s,a.expandAbsoluteSize||(a.expandAbsoluteSize=new Set),a.expandAbsoluteSize.add(n))}}i=a}})(e))},Uh={left:"horizontal",right:"horizontal",marginLeft:"horizontal",marginRight:"horizontal",paddingLeft:"horizontal",paddingRight:"horizontal",marginTop:"horizontal",marginBottom:"horizontal",paddingTop:"horizontal",paddingBottom:"horizontal",borderRadius:"horizontal",top:"vertical",bottom:"vertical"},zh=/^\s*#[0-9a-fA-F]{3}\s*$/,jh=/^\s*#[0-9a-fA-F]{3,6}\s*$/,$h=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,Yh=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,qh=/px$/,Kh=e=>"number"==typeof e?e:qh.test(e)?Number(e.replace(qh,""))||0:Te(e)?parseInt(e,10):e,Zh=e=>{if("string"==typeof e&&zh.test(e)){var[t,i,a]=e.slice(1);return`#${t}${t}${i}${i}${a}${a}`}return e},Xh=(e={})=>{var t={};for(var i of Object.keys(e)){var a=e[i];if(["padding","margin"].includes(i)){var n=Array.isArray(a)?a:(null==a?"":a).toString().split(/\s+/),o=null,r=null,s=null,l=null;switch(n.length){case 0:default:continue;case 1:[o]=n,[r]=n,[s]=n,[l]=n;break;case 2:[o,r]=n,[s,l]=n;break;case 3:[o,r,s]=n,l=r;break;case 4:[o,l,s,r]=n}Object.assign(t,{[`${i}Top`]:Kh(o),[`${i}Left`]:Kh(r),[`${i}Bottom`]:Kh(s),[`${i}Right`]:Kh(l)})}else if("border"===i){var d=(a||"").toString().split(/\s+/);switch(d.length){case 0:default:continue;case 1:t.borderColor=Zh(d[0]);continue;case 2:t.borderWidth=Kh(d[0]),t.borderColor=Zh(d[1]);continue;case 3:t.borderWidth=Kh(d[0]),t.borderColor=Zh(d[2]);continue}}else if("background"===i&&jh.test(e[i]))t.backgroundColor=Zh(e[i]);else if("background"===i&&($h.test(e[i])||Yh.test(e[i])))t.backgroundColor=e[i];else if("background"===i&&e[i].includes("linear-gradient"))t.backgroundColor=e[i];else if("color"===i&&"string"==typeof a&&Yh.test(a)){var[c,p,u,h]=Yh.exec(a).slice(1,5).map((e=>Number(e))),g=e=>e.toString(16);t.color=`#${g(c)}${g(p)}${g(u)}`,null==e.opacity&&(t.opacity=Number(h))}else if("display"===i)t.hidden="none"===e[i];else if("rotate"===i){var f=e[i];t.rotate="string"==typeof f?Number(f.replace("deg",""))||0:f}else t[i]=Zh(Kh(e[i]))}return t},Jh=e=>{if(e._isTemplate)return e._manualStyle||e.style;var t=e.referComponent;if(!t)return Object.assign({},e.style||{});var i={},a=t.style||{};for(var n of e.classList||[])Object.assign(i,Xh(a[n])),Object.assign(i,Xh(a[`.${n}`]));return a[e.name]&&Object.assign(i,Xh(a[e.name])),e.name&&t._manualStyle[e.name]&&Object.assign(i,Xh(t._manualStyle[e.name])),i},Qh={percent:/^-?[1-9]\d*(\.\d+)?%$/,translate:/translate\(\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*,\s*(-?\d+(?:\.\d+)?(?:%|px)?)\s*\)/},eg=e=>{var t={};for(var i of Object.keys(e)){var a=e[i];if(null!=a){var n=a.toString().trim();if((Uh[i]||["width","height"].includes(i))&&Qh.percent.test(n)){var o=parseFloat(n.slice(0,-1))/100;t[i]=["percent",o]}else if(Te(n))t[i]=["digit",Number(n)];else if("transform"===i&&n.includes("translate")){var r=Qh.translate.exec(n);r&&(t[i]=["transform",r.slice(1,3)])}else t[i]="string"==typeof a?["normal",n]:["normal",a]}}return t},{webviewLayout:tg}=y,ig=tg,ag=e=>{var t,i;return e.parent===ig||!(null!==(t=e.parent)&&void 0!==t&&t.referComponent)&&!(null!==(i=e.parent)&&void 0!==i&&i._isTemplate)||e._isTemplateRoot},ng=e=>Object.keys(e.children).map((t=>e.children[t])),og=e=>ng(e).filter((e=>!0!==(null==e?void 0:e.style.hidden))),rg=(e,t,i="downward")=>{for(var a of("downward"===i&&t(e),ng(e)))rg(a,t,i);"upward"===i&&t(e)},sg=(e,t)=>{for(var{path:i,value:a,condition:n=!0}of t)if(n){var o=a||(i?Ie(e,i):"");if(o)return o}return null},lg=63,dg=e=>{var t=e.toString(16).toUpperCase();return t.length<2?`%0${t}`:`%${t}`},cg=e=>{if(!e)return"";var t=String(e),i=[],a=/[ \r\n!*"'();:@&=+$,/?%#[\]<>{}|`^\\\u0080-\uffff]/;for(var n of t)if(n.match(a)){var o=n.codePointAt?n.codePointAt(0):n.charCodeAt(0);o<128?i.push(dg(o)):o<2048?i.push([dg(192+(o>>6)),dg(128+(o&lg))].join("")):o<65536?i.push([dg(224+(o>>12)),dg(128+(o>>6&lg)),dg(128+(o&lg))].join("")):o<2097152&&i.push([dg(240+(o>>18)),dg(128+(o>>12&lg)),dg(128+(o>>6&lg)),dg(128+(o&lg))].join(""))}else i.push(n);return i.join("")},pg=e=>{if(!e)return"";for(var t=e=>{if(!e)throw new Error("invalid text")},i=e=>String.fromCodePoint?String.fromCodePoint(e):String.fromCharCode(e),a=e.replace(/%[a-fA-F0-9]{2}/gi,(e=>String.fromCharCode(parseInt(e.replace("%",""),16)))),n=0,o="";n<a.length;){var r=a.charCodeAt(n);if(r<128)o+=i(r),n+=1;else if(r>=192&&r<224){t(n+1<a.length),o+=i((31&r)<<6|a.charCodeAt(n+1)&lg),n+=2}else if(r<240){t(n+2<a.length);var s=a.charCodeAt(n+1),l=a.charCodeAt(n+2);o+=i((15&r)<<12|(s&lg)<<6|l&lg),n+=3}else{t(n+3<a.length);var d=a.charCodeAt(n+1),c=a.charCodeAt(n+2),p=a.charCodeAt(n+3);o+=i([(7&r)<<18,(d&lg)<<12,(c&lg)<<6,p&lg].reduce(((e,t)=>e|t),0)),n+=4}}return o},ug=e=>{var t={};if(e.indexOf("?")>-1){var i=e.indexOf("?")+1,a=e.substring(i);a.indexOf("#")>-1&&(a=a.substring(0,a.indexOf("#")));var n=a.split("&");for(var o of n){var[r,s]=o.split("=");t[r]=pg(s)}}return t},hg=Object.keys,gg=Function.prototype.call.bind(String.prototype.split),fg=Function.prototype.call.bind(String.prototype.indexOf),mg=Function.prototype.call.bind(String.prototype.concat),yg=Function.prototype.call.bind(String.prototype.substring),vg=(e,t)=>{if(!e)return"";if(!t)return e;var i=gg(e,"#"),a=fg(i[0],"?")>-1?"&":"?",n="",o=hg(t);if(o.length>0){for(var r of o)n=mg(n,`${r}=${cg(t[r])}&`);return n.length>0&&(n=yg(n,0,n.length-1)),i[0]+a+n+(i[1]?`#${i[1]}`:"")}return e},_g=e=>e===Wg.LIVE,Eg=(e,t)=>_g(e)&&t===Bg.ROOM,xg=(e,t)=>_g(e)&&t===Bg.RESERVATION,bg={1e3:"后端错误调用失败",1001:"参数错误",1002:"广告单元无效",1003:"内部错误",1004:"无适合的广告",1005:"广告组件审核中",1006:"广告组件被驳回",1007:"广告组件被封禁",1008:"广告单元已关闭",5047:"非原生模板广告单元 id (unit-id)",5045:"原生模板信息获取失败",5063:"内部错误",5048:"原生模板配置错误"},wg={DEST_TYPE_AD:0,DEST_TYPE_OUTER:1,DEST_TYPE_APPDETAIL:2,DEST_TYPE_BIZ:3,DEST_TYPE_APPINFO_PAGE:4,DEST_TYPE_WECHAT_SHOP:5,DEST_TYPE_WECHAT_APPLET:6,DEST_TYPE_CANVAS:9,DEST_TYPE_CHANNELS:101,DEST_TYPE_CHANNELS_LIVE:102,DEST_TYPE_CHANNELS_USER_PROFILE:103,DEST_TYPE_CHANNELS_HALF_CARD:104,DEST_TYPE_ONEKEY_ATTENTION:40024,DEST_TYPE_WECOM_USER_PROFILE:60013},Tg={CRT_SIZE_WX_APPLICATION:532,APP_VIDEO:538,PIC_TIME5:555,CRT_SIZE_WX_APPLICATION_CARD:556,CRT_SIZE_WX_APPLICATION_X:567,CRT_SIZE_REWARD_VEDIO169:559,CRT_SIZE_REWARD_VEDIO916:560,CRT_SIZE_WX_APPLICATION_NEW:608,CRT_SIZE_PIC_MOMENT:666,CRT_SIZE_TABLE_SCREEN_IMAGE:701,CRT_SIZE_AMS_PIC_169:711,CRT_SIZE_AMS_PIC_916:712,CRT_SIZE_AMS_VIDEO_169:720,CRT_SIZE_VERTICAL_VIDEO_NEW_916:721,CRT_SIZE_IN_TEXT_DESC_CARD:841,CRT_SIZE_VIDEO_TIME6:888,CRT_SIZE_REWARD_LANDINGPAGE:910,CRT_SIZE_INSERT_VIDEO:913,CRT_SIZE_MULTI_POS_BANNER:925,CRT_SIZE_MULTI_POS_NEW_PIC:927,CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT:928,CRT_SIZE_MULTI_POS_VEDIO:929,CRT_SIZE_MULTI_POS_GRID:972,CRT_SIZE_BIG_PIC:998,CRT_SIZE_SPLASH_AD:1003,CRT_SIZE_VERTICAL_VIDEO:1064,CRT_SIZE_VERTICAL_VIDEO_916:1480,VIDEO_TIME15:1515,CRT_SIZE_CARD_COMPT_IMAGE:1707,CRT_SIZE_CARD_COMPT_VIDEO:1708},Cg={ANDROID:12,IOS:19,WE_CHAT:23,MINI_GAME:46,WE_CHAT_CARD:36,WE_CHAT_SHOP:30,PRODUCTTYPE_WECHAT_PAY_COUPON:47,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31,WE_CHAT_APP:38,LBS:37,LEAD_AD:43,JD_URL:25},Ag=60021,Pg=8,Ig={123:["image","brand"],124:["image","store"],127:["image","download"],128:["image","follow"],134:["image","wxgame"],138:["image","brand"],126:["card","follow","normal"],129:["card","follow","large"],132:["card","download","large"],130:["video","download"],131:["video","brand"],133:["video","wxgame"],135:["video","brand"],136:["video","follow"],137:["video","brand"]},Sg={1:"store",2:"brand",3:"download",6:"follow",7:"wxgame"},kg=[Tg.CRT_SIZE_WX_APPLICATION,Tg.CRT_SIZE_WX_APPLICATION_NEW,Tg.CRT_SIZE_WX_APPLICATION_X,Tg.CRT_SIZE_WX_APPLICATION_CARD,Tg.CRT_SIZE_REWARD_VEDIO169,Tg.CRT_SIZE_REWARD_VEDIO916,Tg.CRT_SIZE_TABLE_SCREEN_IMAGE,Tg.CRT_SIZE_AMS_PIC_169,Tg.CRT_SIZE_AMS_PIC_916,Tg.CRT_SIZE_AMS_VIDEO_169,Tg.CRT_SIZE_REWARD_LANDINGPAGE,Tg.CRT_SIZE_INSERT_VIDEO,Tg.CRT_SIZE_MULTI_POS_NEW_PIC,Tg.CRT_SIZE_MULTI_POS_VEDIO,Tg.CRT_SIZE_MULTI_POS_GRID,Tg.CRT_SIZE_BIG_PIC,Tg.CRT_SIZE_SPLASH_AD,Tg.CRT_SIZE_MULTI_POS_NEW_PIC_WE_CHAT,Tg.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Tg.APP_VIDEO,Tg.CRT_SIZE_PIC_MOMENT,Tg.CRT_SIZE_VIDEO_TIME6,Tg.CRT_SIZE_VERTICAL_VIDEO,Tg.CRT_SIZE_VERTICAL_VIDEO_916,Tg.CRT_SIZE_CARD_COMPT_IMAGE,Tg.CRT_SIZE_CARD_COMPT_VIDEO],Dg=2008,Rg=2009,Og=2010,Mg=2011,Ng=2012,Lg=2013,Wg={DEFAULT:0,VIDEO:1,LIVE:2},Bg={DEFAULT:0,ROOM:1,RESERVATION:2},Vg={NONE:1,ON_AIR:2,ENDED:3,IN_PREPARE:4},Hg=3,Fg=4,Gg={interstitialAd:1003,rewardedVideoAd:1004},Ug=e=>!!e&&[Tg.CRT_SIZE_WX_APPLICATION,Tg.APP_VIDEO,Tg.PIC_TIME5,Tg.CRT_SIZE_REWARD_VEDIO169,Tg.CRT_SIZE_REWARD_VEDIO916,Tg.CRT_SIZE_AMS_VIDEO_169,Tg.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Tg.CRT_SIZE_VIDEO_TIME6,Tg.CRT_SIZE_INSERT_VIDEO,Tg.CRT_SIZE_MULTI_POS_VEDIO,Tg.CRT_SIZE_VERTICAL_VIDEO,Tg.CRT_SIZE_VERTICAL_VIDEO_916,Tg.VIDEO_TIME15,Tg.CRT_SIZE_CARD_COMPT_VIDEO].includes(Number(e)),zg=e=>!!e&&e===Tg.CRT_SIZE_MULTI_POS_GRID,jg=2,$g=3,Yg=1,qg=2,Kg=4,Zg=5,Xg=10,Jg=11,Qg=12,ef=13,tf=14,af=16,nf=17,of={REWARD_MATERIAL:"REWARD_MATERIAL",REWARD_CARD:"REWARD_CARD",REWARD_CARD_BUTTON:"REWARD_CARD_BUTTON",REWARD_CARD_RANKING:"REWARD_CARD_RANKING",REWARD_CARD_SCORE:"REWARD_CARD_SCORE",REWARD_DANMU_EXTRA_INFO:"REWARD_DANMU_EXTRA_INFO",REWARD_EXPAND_CARD_HEAD_IMG:"REWARD_EXPAND_CARD_HEAD_IMG",REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED:"REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED",REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED:"REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED",REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED:"REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED",REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED:"REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED",REWARD_EXPAND_CARD_RANKING:"REWARD_EXPAND_CARD_RANKING",REWARD_EXPAND_CARD_SCORE:"REWARD_EXPAND_CARD_SCORE",REWARD_BOTTOM_CARD_BUTTON:"REWARD_BOTTOM_CARD_BUTTON",REWARD_BOTTOM_CARD:"REWARD_BOTTOM_CARD",REWARD_BOTTOM_CARD_ICON:"REWARD_BOTTOM_CARD_ICON",REWARD_BOTTOM_CARD_APP_NAME:"REWARD_BOTTOM_CARD_APP_NAME",REWARD_BOTTOM_CARD_APP_WORDING:"REWARD_BOTTOM_CARD_APP_WORDING",REWARD_BOTTOM_CARD_CONVERSION:"REWARD_BOTTOM_CARD_CONVERSION",REWARD_BOTTOM_CARD_RANKING:"REWARD_BOTTOM_CARD_RANKING",REWARD_BOTTOM_CARD_SCORE:"REWARD_BOTTOM_CARD_SCORE",REWARD_BOTTOM_CARD_CATEGORY:"REWARD_BOTTOM_CARD_CATEGORY",REWARD_ENDPAGE_HEAD_IMG:"REWARD_ENDPAGE_HEAD_IMG",REWARD_ENDPAGE_WORDING_LOGO_ENHANCED:"REWARD_ENDPAGE_WORDING_LOGO_ENHANCED",REWARD_ENDPAGE_WORDING_TEXT_ENHANCED:"REWARD_ENDPAGE_WORDING_TEXT_ENHANCED",REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED:"REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED",REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED:"REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED",REWARD_ENDPAGE_RANKING:"REWARD_ENDPAGE_RANKING",REWARD_ENDPAGE_SCORE:"REWARD_ENDPAGE_SCORE",REWARD_ENDPAGE_GUIDE:"REWARD_ENDPAGE_GUIDE",REWARD_WEGAME_ENDPAGE_HEAD_IMG:"REWARD_WEGAME_ENDPAGE_HEAD_IMG",REWARD_WEGAME_ENDPAGE_WORDING:"REWARD_WEGAME_ENDPAGE_WORDING",REWARD_WEGAME_ENDPAGE_BUTTON:"REWARD_WEGAME_ENDPAGE_BUTTON",REWARD_WEGAME_ENDPAGE_ACT_INFO:"REWARD_WEGAME_ENDPAGE_ACT_INFO",REWARD_WEGAME_ENDPAGE_BLANK:"REWARD_WEGAME_ENDPAGE_BLANK",REWARD_WEGAME_ENDPAGE_PROMOTIONPIC:"REWARD_WEGAME_ENDPAGE_PROMOTIONPIC",REWARD_DYNAMIC_CONTENT:"REWARD_DYNAMIC_CONTENT",REWARD_DYNAMIC_BUTTON:"REWARD_DYNAMIC_BUTTON",REWARD_BONUS_BUTTON:"REWARD_BONUS_BUTTON",REWARD_PLAYABLE_PENDANT:"REWARD_PLAYABLE_PENDANT",REWARD_PLAYABLE_ENDPAGE_CARD:"REWARD_PLAYABLE_ENDPAGE_CARD",REWARD_PLAYABLE_ENDPAGE_BUTTON:"REWARD_PLAYABLE_ENDPAGE_BUTTON",REWARD_FEED_CARD_SCORE:"REWARD_FEED_CARD_SCORE",REWARD_FEED_CARD_CONVERSION:"REWARD_FEED_CARD_CONVERSION",REWARD_FEED_CARD_HEAD_IMG:"REWARD_FEED_CARD_HEAD_IMG",REWARD_FEED_CARD_WORDING:"REWARD_FEED_CARD_WORDING",REWARD_FEED_CARD_BUTTON:"REWARD_FEED_CARD_BUTTON",REWARD_FEED_CARD_RANKING:"REWARD_FEED_CARD_RANKING",REWARD_SLIDESHOW_CARD_HEAD_IMG:"REWARD_SLIDESHOW_CARD_HEAD_IMG",REWARD_SLIDESHOW_CARD_WORDING:"REWARD_SLIDESHOW_CARD_WORDING",REWARD_SLIDESHOW_CARD_BUTTON:"REWARD_SLIDESHOW_CARD_BUTTON",REWARD_SLIDESHOW_CARD_CONVERSION:"REWARD_SLIDESHOW_CARD_CONVERSION",REWARD_SLIDESHOW_CARD_RANKING:"REWARD_SLIDESHOW_CARD_RANKING",REWARD_SLIDESHOW_CARD_SCORE:"REWARD_SLIDESHOW_CARD_SCORE",REWARD_ANIMATION_CARD_SCORE:"REWARD_ANIMATION_CARD_SCORE",REWARD_ANIMATION_CARD_CONVERSION:"REWARD_ANIMATION_CARD_CONVERSION",REWARD_ANIMATION_CARD_HEAD_IMG:"REWARD_ANIMATION_CARD_HEAD_IMG",REWARD_ANIMATION_CARD_WORDING:"REWARD_ANIMATION_CARD_WORDING",REWARD_ANIMATION_CARD_BUTTON:"REWARD_ANIMATION_CARD_BUTTON",REWARD_ANIMATION_CARD_RANKING:"REWARD_ANIMATION_CARD_RANKING",REWARD_ANIMATION_VIDEO:"REWARD_ANIMATION_VIDEO",REWARD_PAGE_BUTTON:"REWARD_PAGE_BUTTON",REWARD_PAGE_CARD:"REWARD_PAGE_CARD",REWARD_PAGE_IMAGE:"REWARD_PAGE_IMAGE",REWARD_OLD_ENDPAGE_BUTTON:"REWARD_OLD_ENDPAGE_BUTTON",REWARD_TEMPLATE_AREA:"REWARD_TEMPLATE_AREA",REWARD_DOWNLOAD:"REWARD_DOWNLOAD",REWARD_HALFCARD_CLOSE:"REWARD_HALFCARD_CLOSE",REWARD_HALFCARD_BUTTON:"REWARD_HALFCARD_BUTTON",REWARD_HALFCARD_HEAD_IMG:"REWARD_HALFCARD_HEAD_IMG",REWARD_HALFCARD_TITLE:"REWARD_HALFCARD_TITLE",REWARD_HALFCARD_PROMOTIONPIC:"REWARD_HALFCARD_PROMOTIONPIC"},rf=1e6,sf=1001e3,lf=1002e3,df=1003e3,cf=1004e3,pf={SlideshowImgWindow:1,SlideshowImgMask:2,SlideshowImgDotContainer:2e3,PlayablePendantPhoneImage:sf,PlayablePendantTouchMask:sf,PlayablePendant:sf,PlayablePendantHidden:sf-1,PlayablePendantVisible:sf+3,PlayablePendantTouchMaskHidden:sf-2,PlayablePendantTouchMaskVisible:sf+4,Container:rf+2,BottomCardMask:rf+3,PlayableBackboard:999999,PlayableView:sf,PlayableEndpage:sf+1,PlayableEndpageAppWording:sf+1,PlayableEndpageAppConversion:sf+1,PlayableEndpageAppRanking:sf+1,PlayableLoadingProgressBarInner:sf+1,PageHandler:sf+3,PageImgTips:sf+4,PlayableLoadingLogo:sf+5,PlayableLoading:sf+5,FastForwardMask:lf,CardContainer:lf+1,BottomCardContainer:lf+1,FastForwardGuide:lf+1,HalfCard:lf+2,FlipCardAdRoot:lf+2,Endpage:lf+3,TopBar:df,AdFeedbackMenu:df+1,AdFeedbackList:df+1,PlayablePendantAbbrTips:cf,LandscapeSlideTipsContainer:cf,DialogContainer:cf},uf=2264,hf="p1",gf="p2",ff="p3",mf="p4",yf="p5",vf="p8",_f="p9",Ef="p11",xf="p14",bf="p15",wf="p16",Tf="p17",Cf="p18",Af="p19",Pf="p20",If="p21",Sf="p22",kf="p23",Df="p24",Rf="p25",Of="p26",Mf="p27",Nf="p28",Lf="p29",Wf="p30",Bf="p31",Vf="p37",Hf="p38",Ff="p39",Gf="p40",Uf="p41",zf="p42",jf="p43",$f="p44",Yf="p45",qf="b0",Kf="b1",Zf="b2",Xf="b3",Jf="b4",Qf="b5",em="b6",tm="b7",im="b8",am="b9",nm="b10",om="b11",rm="b12",sm="b13",lm={[hf]:{desc:"广告初始化",funnelAction:1001},[gf]:{desc:"开始拉取",funnelAction:1002},[ff]:{desc:"拉取完成",funnelAction:1003},[mf]:{desc:"开始预渲染",funnelAction:1004},[yf]:{desc:"完成预渲染",funnelAction:1010},["p6"]:{desc:"原始曝光上报",funnelAction:2007},["p7"]:{desc:"可视曝光上报",funnelAction:2011},[vf]:{desc:"开始素材预加载",funnelAction:1008},[_f]:{desc:"完成素材预加载",funnelAction:1009},["p10"]:{desc:"点击上报",funnelAction:3002},[Ef]:{desc:"返回前台",funnelAction:3003},["p12"]:{desc:"开始从缓存读取",funnelAction:1011},["p13"]:{desc:"从缓存读取完成",funnelAction:1012},[Vf]:{desc:"触发 onload",funnelAction:1013},[Hf]:{desc:"触发 onerror",funnelAction:1014},[xf]:{desc:"调用 show",funnelAction:2001},[bf]:{desc:"完成 show",funnelAction:2006},[wf]:{desc:"结束页展示",funnelAction:2014},[Tf]:{desc:"点击生效",funnelAction:3001},[Cf]:{desc:"开始跳转",funnelAction:3005},[Af]:{desc:"执行 show 流程",funnelAction:2002},[Pf]:{desc:"视频执行播放",funnelAction:2008},[If]:{desc:"视频开始播放",funnelAction:2010},[Sf]:{desc:"离开前台",funnelAction:3004},[kf]:{desc:"跳转回调",funnelAction:3006},[Df]:{desc:"完成展示前渲染",funnelAction:2004},[Rf]:{desc:"展示挽留弹窗",funnelAction:2015},[Of]:{desc:"挽留弹窗确认关闭",funnelAction:2016},[Mf]:{desc:"挽留弹窗挽留成功",funnelAction:2017},[Nf]:{desc:"获得奖励关闭",funnelAction:2018},[Gf]:{desc:"展示失败",funnelAction:2019},[Uf]:{desc:"退出时无首帧回调",funnelAction:2021},[zf]:{desc:"退出时无可视曝光",funnelAction:2022},[jf]:{desc:"短剧展示挽留弹窗",funnelAction:2023},[$f]:{desc:"短剧挽留弹窗-立即观看(挽留成功)",funnelAction:2024},[Yf]:{desc:"短剧挽留弹窗-直接关闭",funnelAction:2025},[Ff]:{desc:"触发 onclose",funnelAction:2020},[Lf]:{desc:"视频播放完成",funnelAction:2012},[Wf]:{desc:"视频播放错误",funnelAction:2013},[Bf]:{desc:"视频播放成功",funnelAction:2009},[qf]:{desc:"[小游戏] env start",funnelAction:4001},[Kf]:{desc:"[小游戏] start connect",funnelAction:4002},[Zf]:{desc:"[小游戏] start show",funnelAction:4003},[Xf]:{desc:"[小游戏] start show with data",funnelAction:4004},[Jf]:{desc:"[小游戏] finish show",funnelAction:4005},[Qf]:{desc:"[小游戏] setAdData",funnelAction:4006},[em]:{desc:"[小游戏] setAdData done",funnelAction:4007},[tm]:{desc:"[小游戏] connect done",funnelAction:4008},[im]:{desc:"[小游戏] construct",funnelAction:4009},[am]:{desc:"[小游戏] start fetch",funnelAction:4010},[nm]:{desc:"[小游戏] finish fetch",funnelAction:4011},[om]:{desc:"[小游戏] start render",funnelAction:4012},[rm]:{desc:"[小游戏] render done",funnelAction:4013},[sm]:{desc:"[小游戏] start show precheck",funnelAction:4014}},dm="GLOBAL_COUNT_DOWN_START",cm="GLOBAL_COUNT_DOWN_UPDATE",pm="GLOBAL_COUNT_DOWN_END",um="GLOBAL_COUNT_DOWN_STOP",hm="PLAYABLE_FIRST_FRAME_READY",gm="operateRewardedVideo",fm="reduceRewardedTime",mm="setClipboardData",ym="setCondition",vm="fetchGiftTitle",_m="fetchConversionInfo",Em="landAdForGift",xm="reportGiftAction",bm="setPlaybackRate",wm="vibrateShort",Tm="vibrateLong",Cm="consoleLog",Am="emitDynamicComponentEvent",Pm="bindNativeEvent",Im="requestGameCenter",Sm="widget_gray_rewarded_video_use_default_page_guide",km="widget_gray_rewarded_video_playable_insert_timeout",Dm="widget_gray_rewarded_video_playable_predownload_timeout",Rm="widget_gray_rewarded_video_playable_first_frame_timeout",Om="widget_gray_disable_channels_live_status_end_replace_ad",Mm="widget_gray_disable_playable_predownload_fail_replace_ad",Nm="widget_gray_rewarded_video_use_global_timer",Lm="widget_gray_rewarded_video_rewarded_time",Wm="widget_gray_reward_page_channels_feed_countdown",Bm="widget_gray_reward_page_channels_live_countdown",Vm="widget_gray_reward_page_customer_acquisition_countdown",Hm="widget_gray_reward_page_canvas_countdown",Fm="REWARDED_DYNAMIC",Gm=(e,t)=>!!t&&(e=>{var t={multiImage:[Tg.CRT_SIZE_PIC_MOMENT],gauss:[Tg.CRT_SIZE_REWARD_VEDIO169,Tg.CRT_SIZE_REWARD_VEDIO916],native:[Tg.CRT_SIZE_REWARD_VEDIO169,Tg.CRT_SIZE_REWARD_VEDIO916,Tg.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Tg.CRT_SIZE_AMS_VIDEO_169],landpage:[Tg.CRT_SIZE_REWARD_LANDINGPAGE],sns:[Tg.APP_VIDEO,Tg.CRT_SIZE_VIDEO_TIME6,Tg.CRT_SIZE_VERTICAL_VIDEO,Tg.CRT_SIZE_VERTICAL_VIDEO_916,Tg.CRT_SIZE_CARD_COMPT_VIDEO],portrait:[Tg.APP_VIDEO,Tg.CRT_SIZE_REWARD_VEDIO916,Tg.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Tg.CRT_SIZE_VERTICAL_VIDEO,Tg.CRT_SIZE_VERTICAL_VIDEO_916],landscape:[Tg.CRT_SIZE_REWARD_VEDIO169,Tg.CRT_SIZE_VIDEO_TIME6,Tg.CRT_SIZE_CARD_COMPT_VIDEO,Tg.CRT_SIZE_AMS_VIDEO_169]};switch(e){case"multiImage":case"gauss":case"native":case"landpage":case"portrait":case"landscape":case"sns":return t[e];case"video":return[...t.native,...t.sns];default:return[...t.native,...t.landpage,...t.sns]}})(e).includes(Number(t));"undefined"==typeof __libVersionInfo__||__libVersionInfo__;function Um(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var i=e.split("."),a=t.split("."),n=Math.max(i.length,a.length);i.length<n;)i.push("0");for(;a.length<n;)a.push("0");for(var o=0;o<n;o++){var r=parseInt(i[o],10),s=parseInt(a[o],10);if(r>s)return 1;if(r<s)return-1}return 0}var{deviceInfo:zm}=y,jm=e=>{var t=/(\d+)(?:\.(\d+))?(?:\.(\d+))?(?:\.(\d+))?/.exec(e);return t?t.slice(1).filter((e=>null!=e)).join("."):null},$m=function(e){var t,i,a=Ym(e),n="portrait"===zm.deviceOrientation,o=Gm("portrait",e.crt_size);if(zm.isAndroid){var r,s,l=jm((null===(r=e.condition)||void 0===r?void 0:r.widget_gray_reward_use_gauss_blur_android_system_version)||""),d=jm((null===(s=e.condition)||void 0===s?void 0:s.widget_gray_reward_use_gauss_blur_android_wechat_version)||""),c=jm(zm.systemVersion),p=jm(zm.wechatVersion);if(l&&c&&Um(c,l)<0)return!1;if(d&&p&&Um(p,d)<0)return!1}return Boolean((null==e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_reward_use_gauss_blur)&&(null==e||null===(i=e.gaussVideo)||void 0===i?void 0:i.src)&&n!==o&&Gm("gauss",e.crt_size)&&(a||n))},Ym=function(e){var{flooringPage:t}=e,i="portrait"===zm.deviceOrientation,a=Gm("portrait",e.crt_size);return Boolean(i!==a&&Gm("video",e.crt_size)&&!(Gm("sns",e.crt_size)&&Gm("landscape",e.crt_size))&&!zm.isIPad&&![2,3,4].includes((null==t?void 0:t.landpage_type)||0))};var qm,Km,Zm,Xm,Jm,Qm,ey,ty,iy,ay,ny,oy,ry,sy,ly,dy,cy,py,uy,hy,gy,fy,my,yy,vy,_y,Ey,xy,by,wy,Ty,Cy,Ay,Py,Iy,Sy,ky,Dy,Ry,Oy,My,Ny,Ly,Wy,By,Vy,Hy,Fy,Gy,Uy,zy,jy,$y,Yy,qy,Ky,Zy,Xy,Jy,Qy,ev,tv,iv,av,nv,ov,rv,sv,lv,dv,cv,pv,uv=new class{constructor(){this.path=`${sa}/timePointCache.txt`,this.cacheMap={},this.needUpdate=!1,this.cacheTimeout=null,this.cachePromise=null,this.loadCache()}loadCache(){try{var e;null===(e=y.deviceInfoLoaded)||void 0===e||e.then((()=>{y.readFile({filePath:this.path,encoding:"utf8",success:e=>{try{this.cacheMap=JSON.parse(e.data)}catch{}}})}))}catch{this.cacheMap={}}}writeCache(){var e=this;this.needUpdate&&(this.cacheTimeout&&(clearTimeout(this.cacheTimeout),this.cacheTimeout=null),this.cacheTimeout=setTimeout(b()((function*(){e.cacheTimeout=null,e.cachePromise&&(yield e.cachePromise,e.cachePromise=null),e.cachePromise=new Promise(((t,i)=>{try{var a=JSON.stringify(e.cacheMap);y.writeFile({filePath:e.path,data:a,encoding:"utf8",success:()=>{e.needUpdate=!1,t()},fail:e=>{i(e)}})}catch{i(new Error("write cache failed"))}}))})),100))}setCache(e,t){try{this.cacheMap[e]=JSON.stringify(t),this.needUpdate=!0,this.writeCache()}catch{}}getCache(e){if(!this.cacheMap[e])return null;try{return JSON.parse(this.cacheMap[e])}catch{return null}}getAllCaches(){return Object.keys(this.cacheMap).map((e=>[e,this.getCache(e)]))}clearCache(e){try{delete this.cacheMap[e],this.needUpdate=!0,this.writeCache()}catch{}}},{deviceInfo:hv,appRouteInfo:gv,adReportOperateWXDataPromise:fv}=y,mv=(qm=Go(),Km=Go(),Zm=Go(),Xm=Go(),Jm=Go(),Qm=Go(),ey=Go(),ty=Go(),iy=Go(),ay=Go(),ny=Go(),oy=Go(),ry=Go(),sy=Go(),ly=Go(),dy=Go(),cy=Go(),py=Go(),uy=Go(),hy=Go(),gy=Go(),fy=Go(),my=Go(),yy=Go(),vy=Go(),_y=Go(),Ey=Go(),xy=Go(),by=Go(),wy=Go(),Ty=Go(),Cy=Go(),Ay=Go(),Py=Go(),Iy=Go(),Sy=Go(),ky=Go(),Dy=Go(),Ry=Go(),Oy=class{constructor(e){this.adProxy=e,this.timePoints={},this.nextTimePoints={},this.analyseBranchInfo=null,this.timePointCallback=new Set,this.detectCacheTimePoints()}get adType(){return this.adProxy.getAdType()}get data(){return this.adProxy.data}get convertedAdData(){return this.adProxy.convertedAdData}get datas(){return this.adProxy.datas}get adUnitId(){return this.adProxy.getAdUnitId()}get pluginAppid(){return this.adProxy.getPluginAppid()}get lastClickTime(){return this.adProxy.getLastClickTime()}getTimePoint(e){return this.timePoints[e]?this.timePoints[e]:0}getTimePoints(){return this.timePoints}onSetTimePoint(e){this.timePointCallback.add(e)}setTimePoint(e,t={}){if("splashAd"!==this.adType){var i=t.prefetch?this.nextTimePoints:this.timePoints;if(["p2","p12"].includes(e)){var a=i.p1||0;for(var n of Object.keys(i))delete i[n];i.p1=a}var{time:o}=t;for(var r of(i[e]=o||Date.now(),this.timePointCallback))r(e,i[e])}else this.timePoints[e]=Date.now()}detectCacheTimePoints(){var e=this,t=uv.getAllCaches(),i=function(t){uv.clearCache(a);var i=Oa(19837);if(t&&Array.isArray(t)&&t.length===i.length)try{var n=i.map(((e,i)=>({type:e.type,value:(t[i]||e.value).toString()})));e.operateReportMMData(19837,n)}catch{}};for(var[a,n]of t)i(n)}cacheTimePoints(e){if(this.data){e.extInfo={...e.extInfo,fromCache:!0};var t=this.getTimePointsData(e);t&&uv.setCache(this.data.traceid,t.map((e=>e.value)))}}clearTimePoints(){if(this.data){var e=this.timePoints.p1||0;this.timePoints=this.nextTimePoints,this.timePoints.p1=e,this.nextTimePoints={},uv.clearCache(this.data.traceid)}}getTimePointsData({splash_instance_id:e="",scene:t=0,errCode:i=0,extInfo:a={}}){var n,o,r,s,l,d;if(!["customAd","rewardedVideoAd","splashAd","interstitialAd"].includes(this.adType))return null;return this.formatMMData(19837,{slotid:this.adProxy.getPosId(),costtype:null!==(n=this.data)&&void 0!==n&&n.is_cpm?1:2,ext_info:JSON.stringify(Object.assign({},a,{template_compress_type:(null===(o=this.data)||void 0===o||null===(r=o.extBackComm)||void 0===r?void 0:r.template_compress_type)||0,adUnitId:this.adUnitId,is_game:!0})),instance_id:e,scene:t,crt_size:(null===(s=this.data)||void 0===s?void 0:s.crt_size)||0,error_code:i,crt_exp_tid:(null===(l=this.data)||void 0===l?void 0:l.crt_exp_tid)||0,template_id:(null===(d=this.data)||void 0===d?void 0:d.templId)||0,...this.timePoints})}reportTimePoints({splash_instance_id:e="",scene:t=0,errCode:i=0,extInfo:a={}}){var n,o,r,s;null!==(n=this.datas)&&void 0!==n&&null!==(o=n[0])&&void 0!==o&&o.condition&&(a.exp_tids=this.adProxy.getExpTidForReport(null===(r=this.datas)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.condition));var l=this.getTimePointsData({splash_instance_id:e,scene:t,errCode:i,extInfo:a});if(l){this.operateReportMMData(19837,l)}}reportCloseAction(e){return this.reportMMData(16743,e)}reportAdEntranceExposure(e){return this.reportMMData(18988,e)}reportTouchClick(e){var t,i,a,n,o={parent_templ_id:null!==(t=null===(i=this.data)||void 0===i||null===(a=i.extBackComm)||void 0===a?void 0:a.parent_templ_id)&&void 0!==t?t:"0",crt_size:null===(n=this.data)||void 0===n?void 0:n.crt_size};if(Object.assign(e,o),"object"==typeof e)return this.reportMMData(16487,e)}reportCancelRewardPlayablePage(e){return this.reportMMData(20299,e)}formatMMData(e,t){var i,a,n=Oa(e);if(!n||0===n.length)return null;var o=this.data||{aid:0,traceid:"",crt_size:0};return Object.assign(t,{aid:o.aid,traceid:o.traceid,crt_size:o.crt_size,slotid:ea[this.adType],report_time:Date.now(),ad_pos_type:null!==(i=ta[this.adType])&&void 0!==i?i:0,pos_type:null!==(a=ta[this.adType])&&void 0!==a?a:0,publisher_appid:this.pluginAppid?this.pluginAppid:hv.gameAppId,appid:this.pluginAppid?this.pluginAppid:hv.gameAppId,orig_weapp_id:this.pluginAppid?hv.gameAppId:"",network_type:hv.adNetworkType,wechat_version:hv.wechatVersion,platform:hv.platform,system_version:hv.systemVersion,device_orientation:hv.deviceOrientation,wxapp_lib_version:hv.SDKVersion,wxapp_lib_time:hv.SDKVersionTime,machine_type:hv.model,machine_brand:hv.brand,screen_width:hv.screenWidth,screen_height:hv.screenHeight,ad_platform:hv.isWaGame?1:0,ad_unit_id:this.adUnitId,DeviceModel:hv.model,DeviceBrand:hv.brand,OsName:hv.platform,OsVersion:hv.systemVersion,...t}),n.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()})))}reportMMData(e,t){var i=this.formatMMData(e,t);i&&this.operateReportMMData(e,i)}operateReportMMData(e,t){return(e=>[20267,31596,33455].includes(Number(e)))(e)?s.reportKeyValue({key:e,value:this.formatMMDataStr(t),number:!0,immediately:!0}):fv({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:t}}})}formatMMDataStr(e){return e.map((e=>String(e.value).replace(/,/g,";"))).join(",")}reportAbnormalDetect(e){var t,i,a,n,o={adunit_id:this.adUnitId,appid:hv.gameAppId,parent_templ_id:null!==(t=null===(i=this.data)||void 0===i||null===(a=i.extBackComm)||void 0===a?void 0:a.parent_templ_id)&&void 0!==t?t:"0",crt_size:null===(n=this.data)||void 0===n?void 0:n.crt_size};if(Object.assign(e,o),"object"==typeof e)return e.slotid||(e.slotid=ea[this.adType]),this.reportMMData(16139,e)}reportAdIDKey({key:e,id:t}){var i,a=t,n=e;"object"==typeof n&&(!a&&(a=n.idKeyGroup),n=n.idKey),a||(a=null!==(i=da[this.adType])&&void 0!==i?i:924),0===n&&(n="0"),s.reportIDKeyDirectly({id:a,key:n})}processStackMsg(e){var t=(e.stack||"").replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),i=e.toString();return t.indexOf(i)<0&&(t=`${i}@${t}`),t}reportAdIDKeyErrorData({key:e,id:t,extInfo:i=""}){var a,o,r,s,l=e,d=t,c=i,p=1;"object"==typeof l&&(p=l.sample||1,!d&&(d=l.idKeyGroup),l=l.idKey),0===l&&(l="0");var u="",h="";try{var g,f;if(this.data){var m,y,v,_,E,x,b,w,T,C,A,P,I,k,D;h=(null===(m=this.data.crtInfo)||void 0===m||null===(y=m[0])||void 0===y||null===(v=y.short_video)||void 0===v?void 0:v.video_url)||(null===(_=this.data.crtInfo)||void 0===_||null===(E=_[0])||void 0===E?void 0:E.image_url)||"";var R=(null===(x=this.data.crtInfo)||void 0===x||null===(b=x[0])||void 0===b||null===(w=b.short_video)||void 0===w?void 0:w.video_duration_ms)||1e3*((null===(T=this.data.crtInfo)||void 0===T||null===(C=T[0])||void 0===C||null===(A=C.short_video)||void 0===A?void 0:A.video_duration)||0),O=Ne({crt_size:this.data.crt_size,product_type:this.data.product_type,dest_type:this.data.dest_type,exp_tids:this.adProxy.getExpTidForReport(null===(P=this.datas)||void 0===P||null===(I=P[0])||void 0===I?void 0:I.condition),uid:null===(k=this.data.extBackComm)||void 0===k?void 0:k.uid,spec_id:null===(D=this.data.extBackComm)||void 0===D?void 0:D.spec_id,video_duration:R||null,is_skit:this.adProxy.isSkitMode(),...this.adProxy.getLandPageInfo(),...this.adProxy.getMonitorDataExtraInfo()});if(this.adProxy.adDataIndex>0&&(O.data_index=this.adProxy.adDataIndex),this.adProxy.datas.length>1&&(O.data_count=this.adProxy.datas.length),Gm("native",this.data.crt_size)){var M,N=this.convertedAdData;if(N)O.is_gauss_blur=$m(N),O.is_expand_style=Ym(N),h=O.is_gauss_blur?N.gaussVideo.src:(null==N||null===(M=N.shortVideo)||void 0===M?void 0:M.src)||""}else this.adProxy.isBannerAd()&&(h=this.data.image_url);if(this.adProxy.isSplashAd()){var L;if(!O.exp_tids)O.exp_tids=this.adProxy.getExpTidForReport(null===(L=this.adProxy)||void 0===L?void 0:L.splashExpCondition);O.showInfo=this.adProxy.showInfo}u=JSON.stringify(O)}if("cpsShopAd"===this.adType&&null!==(g=this.data)&&void 0!==g&&null!==(f=g.extBackComm)&&void 0!==f&&f.cpsProduct&&(u=JSON.stringify({trace_id:this.data.extBackComm.cpsProduct.trace_id,product_id:this.data.extBackComm.cpsProduct.product_id})),c&&"string"!=typeof c)try{c instanceof Error&&(c=this.processStackMsg(c)),c=JSON.stringify(c)}catch(e){c=c.toString()}}catch(e){var W;e instanceof Error&&(c=this.processStackMsg(e)),h="",u=null===(W=this.data)||void 0===W?void 0:W.crt_size}var B=!0,V={id_key:l,id_key_group:null!==(a=null!==(o=d)&&void 0!==o?o:da[this.adType])&&void 0!==a?a:924,report_time:+new Date,source_url:this.limitFieldSize(h),expand_feild:this.limitFieldSize(u),expand_feild2:this.limitFieldSize(c),scene:this.adProxy.scene||0,crt_exp_tid:(null===(r=this.data)||void 0===r?void 0:r.crt_exp_tid)||0,template_id:(null===(s=this.data)||void 0===s?void 0:s.templId)||0};1!==p&&(B=Math.random()<=p);var H=16295;try{var F,G;1===Number(null==S||null===(F=S.expt)||void 0===F||null===(G=F.clicfg_miniprogram_adreport_use_kv)||void 0===G?void 0:G.value)&&(H=33455)}catch(e){}return B?this.reportMMData(H,V):n.info(`[ad][report][${H}][${d}-${l}]`,V)}limitFieldSize(e){return"string"!=typeof e?e:e.slice(0,1023)}reportAdMonitorData(e,t){this.reportAdIDKey({key:e}),this.reportAdIDKeyErrorData({key:e,extInfo:t})}reportEndPage({slotid:e,costtype:t,isGame:i=0,posType:a,ace_type:n,exposure_duration:o=0}){return this.reportMMData(19002,{slotid:e,costtype:t,is_game:i,pos_type:a,ace_type:n,exposure_duration:o})}reportAdFeedbackData(e){var t,i,a,n,o,r;return this.reportMMData(17045,{appid:hv.gameAppId,weapp_path:gv.weappPath,ad_unit_id:this.adUnitId,device_type:hv.model||"",ad_height:e.adHeight,ad_width:e.adWidth,screen_height:hv.screenHeight,screen_width:hv.screenWidth,ad_pos_x:e.adPosX,ad_pos_y:e.adPosY,exp_time:e.expTime,clk_complaint_button:1,slotid:ea[this.adType],service_type:hv.isWaGame?1:0,first_grade_id:e.firstGradeId,first_grade_desc:e.firstGradeDesc,first_grade_time:e.firstGradeTime,second_grade_id:e.secondGradeId,second_grade_desc:e.secondGradeDesc,second_grade_time:e.secondGradeTime,is_finish_complaint:0,is_click_ad:null!==(t=e.isClickAd)&&void 0!==t?t:0!==this.lastClickTime?1:0,click_ad_time_ms:null!==(i=e.clickAdTimeMs)&&void 0!==i?i:this.lastClickTime,feedback_reason:e.feedbackReason,ext_feedback_comm:JSON.stringify({}),parent_templ_id:null!==(a=null===(n=this.data)||void 0===n||null===(o=n.extBackComm)||void 0===o?void 0:o.parent_templ_id)&&void 0!==a?a:"0",crt_size:null===(r=this.data)||void 0===r?void 0:r.crt_size})}reportBehaviorButton({button:e,playDuration:t,preloadVideo:i,preloadVideoSuccess:a,videoFirstPlay:n,cardFirstShow:o,clickCard:r,pressInterval:s,currentPlayUrl:l,lastFetchUrl:d,isEnded:c,videoDuration:p,isPlayletAutoplay:u,videoStartPlayTsClient:h,videoEndPlayTsClient:g,videoPlayDuration:f,rewardedCondition:m,isRewarded:y}){return this.reportMMData(16e3,{click_button:e,play_duration:t,click_close_ts:+new Date,preload_video:i,preload_video_success:a,video_first_play_ts:n,card_first_show_ts:o,click_card_ts:r,press_interval:s,current_play_url:l,last_fetch_url:d,is_ended:c?1:0,video_duration:p,is_playlet_autoplay:u?1:0,video_start_play_ts_client:h,video_end_play_ts_client:g,video_play_duration:f,rewarded_condition:m,is_rewarded:y?1:0})}reportVideoLoadTime({beginTime:e=0,endTime:t=0,departureTime:i=0,preloadVideo:a=0,preloadVideoSuccess:n=0,reportType:o=0}){var r=t-i-e;return r>0?this.reportMMData(15730,{load_begin_time:e,load_end_time:t,load_departure_time:i,load_cost_time:r,preload_video:a,preload_video_success:n,report_type:o}):Promise.resolve()}reportRepeatClick({slotId:e,costType:t,clkCnt:i,lastClkPeriod:a,retCode:n,costTime:o,pageStayTime:r,jsapiName:s}){return this.reportMMData(15979,{slotid:e,costtype:t,clkcnt:i,currenttime:+new Date,lastclkperiod:a,retcode:n,costtime:o,pagestaytime:r,jsapiname:s})}reportLandingTime({slotId:e,costType:t,openTime:i,closeTime:a,stayTime:n,jsapiName:o,clickTime:r,clkCnt:s,retCode:l,costTime:d,actTypeInt:c,actTypeStr:p}){return this.reportMMData(15980,{slotid:e,costtype:t,currenttime:r,opentime:i,closetime:a,staytime:n,jsapiname:o,clkcnt:s,retcode:l,costtime:d,act_type_int:c,act_type_str:p})}reportVideoLastClick({touchStartX:e,touchStartY:t,touchEndX:i,touchEndY:a,touchDuration:n,screenWidth:o,screenHeight:r,clkTime:s,playTime:l,isShield:d}){return this.reportMMData(17035,{touch_start_x:e,touch_start_y:t,touch_end_x:i,touch_end_y:a,touch_duration:n,screenwidth:o,screenheight:r,clk_timems:s,play_timems:l,is_shield:d})}reportBannerLastClick({lastClickArr:e,top:t,left:i,width:a,height:n,expMs:o,clickMs:r,bannerClkScreenX:s,bannerClkScreenY:l,lastShowTime:d}){var c,p;return this.reportMMData(18072,{last_clicks:e,banner_x:t,banner_y:i,banner_width:a,banner_height:n,exp_ms:o,clk_ms:r,banner_clk_screen_x:s,banner_clk_screen_y:l,last_show_time:d,slotid:ea[this.adType],parent_templ_id:null!==(c=null===(p=this.data.extBackComm)||void 0===p?void 0:p.parent_templ_id)&&void 0!==c?c:"0",crt_size:this.data.crt_size})}reportRelationFetchDuration({startTime:e,showTime:t,endTime:i}){return this.reportMMData(19429,{start_time:e,show_time:t,end_time:i,show_delay_duration:0===t?0:i-t,fetch_duration:i-e})}reportMMClickPos({clickPos:e}){var t;return this.reportMMData(20480,{slotid:ea[this.adType],costtype:null!==(t=this.data)&&void 0!==t&&t.is_cpm?1:2,currenttime:Date.now(),click_pos:e})}reportADFunnelModel({adtype:e,stage:t}){var i=[e,t].map(encodeURIComponent).join(",");s.reportKeyValue({key:"GameADFunnelModel",value:i,force:!0,immediately:!0})}recordAnalyseBranchInfo({branchId:e,branchDim:t}){this.analyseBranchInfo={branchId:e,branchDim:t}}resetAnalyseBranchInfo(){this.analyseBranchInfo=null}reportAnalyseInfo(e){var t=ia[this.adType]||"viewable";if(hv.isWaGame&&e===t){var i=this.analyseBranchInfo;i&&("release"!==hv.envVersion&&this.adProxy.reportAnalyseDebugInfo(i),this.reportMMData(20317,{branch_id:i.branchId,branch_dim:i.branchDim}))}}reportRewardGaussVideo({useGaussVideo:e,useExpandStyle:t,videoUrl:i,gaussVideoUrl:a,expUseGaussVideo:n,expUseExpandStyle:o}){this.reportMMData(21644,{use_gauss_video:e?1:0,video_url:i,gauss_video_url:a,use_expand_style:t?1:0,exp_use_gauss_video:n,exp_use_expand_style:o})}reportPopupClickAction({buttonType:e,buttonTime:t,adClkTime:i,adExpTime:a,adClkX:n,adClkY:o,adWidth:r,adHeight:s,isGame:l,costtype:d}){var c,p,u,h;this.reportMMData(23415,{adunitid:this.adUnitId,button_type:e,button_time:t,ad_clk_time:i,ad_exp_time:a,ad_clk_x:n,ad_clk_y:o,ad_width:r,ad_height:s,is_game:l,costtype:d,parent_templ_id:null!==(c=null===(p=this.data)||void 0===p||null===(u=p.extBackComm)||void 0===u?void 0:u.parent_templ_id)&&void 0!==c?c:"0",crt_size:null===(h=this.data)||void 0===h?void 0:h.crt_size})}reportBannerShowAction({slotid:e,costtype:t,isGame:i,type:a,TimeMs:n,PageX:o,PageY:r,screenX:s,screenY:l,adWidth:d,adHeight:c,ScreenWidth:p,ScreenHeight:u}){var h,g,f,m;this.reportMMData(25534,{slotid:e||ea[this.adType],costtype:t,is_game:i,adunitid:this.adUnitId,weapp_path:gv.weappPath,type:a,time_ms:n,pagex:o,pagey:r,screenx:s,screeny:l,adwidth:d,adheight:c,screenwidth:p,screenheight:u,parent_templ_id:null!==(h=null===(g=this.data)||void 0===g||null===(f=g.extBackComm)||void 0===f?void 0:f.parent_templ_id)&&void 0!==h?h:"0",crt_size:null===(m=this.data)||void 0===m?void 0:m.crt_size})}reportShareBehavior({operation:e,currentShow:t,inviteUser:i,inviteUserAdunit:a,strategy:n,shareValue:o,rewardValue:r,depositAmount:s}){this.reportMMData(26227,{adunitid:this.adUnitId,operation:e,cur_show:t,strategy:n,invite_user_openid:i,invite_user_adunit:a,expand_field:JSON.stringify({shareValue:o,rewardValue:r,depositAmount:s})})}reportDestroyBehavior({costType:e,isGame:t,videoDuration:i,destroyTime:a,playStartTime:n,playDuration:o,isEnded:r,isAdClk:s,adClkTime:l,isAdLandPage:d,adLandpageTime:c,isShowStatus:p,isVisible:u,isOnLandpage:h}){this.reportMMData(26640,{adunitid:this.adUnitId,weapppath:gv.weappPath,costtype:e,is_game:t,video_duration:i,destroy_timems:a,play_start_timems:n,play_duration_ms:o,is_ended:r,is_ad_clk:s,ad_clk_timems:l,is_ad_landpage:d,ad_landpage_timems:c,is_show_status:p,is_visible:u,is_on_landpage:h})}reportGameCenterGift({actionId:e,giftId:t}){this.reportMMData(20267,{SceneID:67,UIArea:6702,PositionID:1,SSID:30,ActionID:e,ExternInfo:JSON.stringify({gifttype:1,giftid:t,advertisetype:1,game_name:this.data.weapp_info.appid})})}reportClickPosition({clickTime:e,expTime:t,impTime:i,adWidth:a,adHeight:n,endPosx:o,endPosy:r,posName:s}){var l,d,c;this.reportMMData(25576,{crt_exp_tid:(null===(l=this.data)||void 0===l?void 0:l.crt_exp_tid)||0,ad_tmpl_id:(null===(d=this.data)||void 0===d?void 0:d.templId)||0,click_time:e,exp_time:t,imp_time:i,ad_w:a,ad_h:n,pos_x:o,pos_y:r,pos_name:s,product_type:(null===(c=this.data)||void 0===c?void 0:c.product_type)||0})}reportFunnelAction(e){var t,i,a,n,o,r,s=Sa.map((e=>S.expt[e])).filter(Boolean);return this.reportMMData(31840,{scene:S.appLaunchInfo.scene,crt_exp_tid:this.data.crt_exp_tid,template_id:this.data.templId,expt_id_list:this.adProxy.getExpTidForReport(null===(t=this.datas)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.condition),ext_info:JSON.stringify({adunit:this.adProxy.getAdUnitId(),destType:null===(a=this.adProxy.data)||void 0===a?void 0:a.dest_type,productType:null===(n=this.adProxy.data)||void 0===n?void 0:n.product_type,...e.ext_info||{}}),x_expt_id:s.map((e=>e.exptid)).join(","),x_expt_group_id:s.map((e=>e.groupid)).join(","),...(o=e,r=["ext_info"],Ce(o,Object.keys(o).filter((e=>!r.includes(e)))))})}},A()(Oy.prototype,"getTimePoint",[qm],Object.getOwnPropertyDescriptor(Oy.prototype,"getTimePoint"),Oy.prototype),A()(Oy.prototype,"getTimePoints",[Km],Object.getOwnPropertyDescriptor(Oy.prototype,"getTimePoints"),Oy.prototype),A()(Oy.prototype,"onSetTimePoint",[Zm],Object.getOwnPropertyDescriptor(Oy.prototype,"onSetTimePoint"),Oy.prototype),A()(Oy.prototype,"setTimePoint",[Xm],Object.getOwnPropertyDescriptor(Oy.prototype,"setTimePoint"),Oy.prototype),A()(Oy.prototype,"cacheTimePoints",[Jm],Object.getOwnPropertyDescriptor(Oy.prototype,"cacheTimePoints"),Oy.prototype),A()(Oy.prototype,"clearTimePoints",[Qm],Object.getOwnPropertyDescriptor(Oy.prototype,"clearTimePoints"),Oy.prototype),A()(Oy.prototype,"reportTimePoints",[ey],Object.getOwnPropertyDescriptor(Oy.prototype,"reportTimePoints"),Oy.prototype),A()(Oy.prototype,"reportCloseAction",[ty],Object.getOwnPropertyDescriptor(Oy.prototype,"reportCloseAction"),Oy.prototype),A()(Oy.prototype,"reportAdEntranceExposure",[iy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportAdEntranceExposure"),Oy.prototype),A()(Oy.prototype,"reportTouchClick",[ay],Object.getOwnPropertyDescriptor(Oy.prototype,"reportTouchClick"),Oy.prototype),A()(Oy.prototype,"reportCancelRewardPlayablePage",[ny],Object.getOwnPropertyDescriptor(Oy.prototype,"reportCancelRewardPlayablePage"),Oy.prototype),A()(Oy.prototype,"reportMMData",[oy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportMMData"),Oy.prototype),A()(Oy.prototype,"reportAbnormalDetect",[ry],Object.getOwnPropertyDescriptor(Oy.prototype,"reportAbnormalDetect"),Oy.prototype),A()(Oy.prototype,"reportAdIDKey",[sy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportAdIDKey"),Oy.prototype),A()(Oy.prototype,"processStackMsg",[ly],Object.getOwnPropertyDescriptor(Oy.prototype,"processStackMsg"),Oy.prototype),A()(Oy.prototype,"reportAdIDKeyErrorData",[dy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportAdIDKeyErrorData"),Oy.prototype),A()(Oy.prototype,"reportAdMonitorData",[cy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportAdMonitorData"),Oy.prototype),A()(Oy.prototype,"reportEndPage",[py],Object.getOwnPropertyDescriptor(Oy.prototype,"reportEndPage"),Oy.prototype),A()(Oy.prototype,"reportAdFeedbackData",[uy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportAdFeedbackData"),Oy.prototype),A()(Oy.prototype,"reportBehaviorButton",[hy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportBehaviorButton"),Oy.prototype),A()(Oy.prototype,"reportVideoLoadTime",[gy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportVideoLoadTime"),Oy.prototype),A()(Oy.prototype,"reportRepeatClick",[fy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportRepeatClick"),Oy.prototype),A()(Oy.prototype,"reportLandingTime",[my],Object.getOwnPropertyDescriptor(Oy.prototype,"reportLandingTime"),Oy.prototype),A()(Oy.prototype,"reportVideoLastClick",[yy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportVideoLastClick"),Oy.prototype),A()(Oy.prototype,"reportBannerLastClick",[vy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportBannerLastClick"),Oy.prototype),A()(Oy.prototype,"reportRelationFetchDuration",[_y],Object.getOwnPropertyDescriptor(Oy.prototype,"reportRelationFetchDuration"),Oy.prototype),A()(Oy.prototype,"reportMMClickPos",[Ey],Object.getOwnPropertyDescriptor(Oy.prototype,"reportMMClickPos"),Oy.prototype),A()(Oy.prototype,"reportADFunnelModel",[xy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportADFunnelModel"),Oy.prototype),A()(Oy.prototype,"recordAnalyseBranchInfo",[by],Object.getOwnPropertyDescriptor(Oy.prototype,"recordAnalyseBranchInfo"),Oy.prototype),A()(Oy.prototype,"resetAnalyseBranchInfo",[wy],Object.getOwnPropertyDescriptor(Oy.prototype,"resetAnalyseBranchInfo"),Oy.prototype),A()(Oy.prototype,"reportAnalyseInfo",[Ty],Object.getOwnPropertyDescriptor(Oy.prototype,"reportAnalyseInfo"),Oy.prototype),A()(Oy.prototype,"reportRewardGaussVideo",[Cy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportRewardGaussVideo"),Oy.prototype),A()(Oy.prototype,"reportPopupClickAction",[Ay],Object.getOwnPropertyDescriptor(Oy.prototype,"reportPopupClickAction"),Oy.prototype),A()(Oy.prototype,"reportBannerShowAction",[Py],Object.getOwnPropertyDescriptor(Oy.prototype,"reportBannerShowAction"),Oy.prototype),A()(Oy.prototype,"reportShareBehavior",[Iy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportShareBehavior"),Oy.prototype),A()(Oy.prototype,"reportDestroyBehavior",[Sy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportDestroyBehavior"),Oy.prototype),A()(Oy.prototype,"reportGameCenterGift",[ky],Object.getOwnPropertyDescriptor(Oy.prototype,"reportGameCenterGift"),Oy.prototype),A()(Oy.prototype,"reportClickPosition",[Dy],Object.getOwnPropertyDescriptor(Oy.prototype,"reportClickPosition"),Oy.prototype),A()(Oy.prototype,"reportFunnelAction",[Ry],Object.getOwnPropertyDescriptor(Oy.prototype,"reportFunnelAction"),Oy.prototype),Oy),{_requestSkipCheckDomain:yv,deviceInfo:vv,appRouteInfo:_v,getIndentityInfo:Ev,invokeMethod:xv,adReportOperateWXDataPromise:bv}=y,wv=1,Tv=new Set,Cv=(My=Go(),Ny=Go(),Ly=Go(),Wy=Go(),By=Go(),Vy=Go(),Hy=Go(),Fy=Go(),Gy=Go(),Uy=Go(),zy=Go(),jy=Go(),$y=Go(),Yy=Go(),qy=Go(),Ky=Go(),Zy=Go(),Xy=class{constructor(e){this.adProxy=e,this.lastVideoReportTime=0,this.lastExposureTime=0,this.lastClickTime=0,this.lastAdReqTs=0,this.index=void 0,this.index=wv,wv+=1,Tv.add(this.adUnitId)}get adType(){return this.adProxy.getAdType()}get adUnitId(){return this.adProxy.getAdUnitId()}get pluginAppid(){return this.adProxy.getPluginAppid()}get data(){return this.adProxy.data}get datas(){return this.adProxy.datas}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}reset(){this.lastVideoReportTime=0}getLastClickTime(){return this.lastClickTime}getLastAdReqTs(){return this.lastAdReqTs}setLastExposureTime(e){this.lastExposureTime=e}setLastClickTime(e){this.lastClickTime=e}setLastAdReqTs(e){this.lastAdReqTs=e}reportFollow({result:e}){var t=5;return this.adProxy.isRewardedVideoAd()?t=6:[Tg.CRT_SIZE_TABLE_SCREEN_IMAGE,Tg.CRT_SIZE_INSERT_VIDEO].includes(this.data.crt_size)&&(t=8),pe({apiName:"webapi_adfollow_report",reqData:{type:{success:140,fail:141,already:142,cancel:143}[e],source:5,scene:75,traceid:this.data.traceid,trace_id:this.data.traceid,aid:this.data.aid,pos_type:t}}).catch((e=>{throw this.reportAdMonitorData(Ws,e),e}))}getExtraExpOrClkData(e){var t,i=[];"exposure"===e.reportType&&e.isMulti&&e.multiList?i=e.multiList.map(((e,t)=>({idx:t,waid:this.datas[e].waid||""}))):this.data.waid&&(i=[{idx:0,waid:this.data.waid}]);var a,n,o,r,s={weapp_path:y.getCurrentShowAdPath()||"",...Ev(),weapp_enter_scene:(null==S||null===(t=S.appLaunchInfo)||void 0===t?void 0:t.scene)||0,extra:JSON.stringify(i)},l={...s},d={...s};if("customAd"===this.adType&&e.isMulti)if("exposure"===e.reportType){var c,p={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(c=e.multiList)||void 0===c||c.forEach((e=>{var t=this.datas[e];t.extBackComm&&p.viewid.push(t.extBackComm.viewid),p.s_pt.push(t.pt),p.s_aid.push(t.aid),p.s_trace_id.push(t.traceid)})),l.box_ad_exposure={report_mode:1,box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:JSON.stringify({viewid:p.viewid}),s_trace_id:JSON.stringify(p.s_trace_id),s_aid:JSON.stringify(p.s_aid),s_pt:JSON.stringify(p.s_pt),s_index:JSON.stringify(e.multiList||[])}}else if("click"===e.reportType){var u,h=this.adProxy.adDataIndex;d.box_ad_click={box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:null===(u=this.data.extBackComm)||void 0===u?void 0:u.viewid,box_index:h}}if("customAd"===this.adType){var g,f=null===(g=this.data.extBackComm)||void 0===g?void 0:g.sub_templ_id;f&&(l.sub_templ_id=f,d.sub_templ_id=f)}if(("rewardedVideoAd"===this.adType&&this.data.isPlayable&&(l.is_playable=1,d.is_playable=1),"splashAd"===this.adType)&&(d.weapp_display_mode=null===(a=this.adProxy.showInfo)||void 0===a?void 0:a.displayMode,l.weapp_display_mode=null===(n=this.adProxy.showInfo)||void 0===n?void 0:n.displayMode,d.client_request_source=null===(o=this.adProxy)||void 0===o?void 0:o.fetchSource,l.client_request_source=null===(r=this.adProxy)||void 0===r?void 0:r.fetchSource,e.isMulti))if("exposure"===e.reportType){var m,v={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null===(m=e.multiList)||void 0===m||m.forEach((e=>{var t=this.datas[e];t.extBackComm&&v.viewid.push(t.extBackComm.viewid),v.s_pt.push(t.pt),v.s_aid.push(t.aid),v.s_trace_id.push(t.traceid)})),l.box_ad_exposure={report_mode:1,box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:JSON.stringify({viewid:v.viewid}),s_trace_id:JSON.stringify(v.s_trace_id),s_aid:JSON.stringify(v.s_aid),s_pt:JSON.stringify(v.s_pt),s_index:JSON.stringify(e.multiList||[])}}else if("click"===e.reportType){var _,E=this.adProxy.adDataIndex;d.box_ad_click={box_size:this.datas.length,box_used_cnt:this.datas.length,viewid:null===(_=this.data.extBackComm)||void 0===_?void 0:_.viewid,box_index:E}}if(["interstitialAd","rewardedVideoAd","customAd"].includes(this.adType)&&e.videoData){var{currentTime:x,duration:b}=e.videoData;(x||b)&&(d.video_play_time=x,d.video_duration=b)}return"exposure"===e.reportType&&e.extExposureComm&&(l={...l,...e.extExposureComm}),"click"===e.reportType&&e.extClickComm&&(d={...d,...e.extClickComm}),{extExposureComm:l,extClickComm:d}}reportExpOrClk(e){var t=3;if("exposure"===e.reportType?(t={showed:2,viewable:5,incentiveVideoCard:14}[e.exposureType],"showed"===e.exposureType?this.adProxy.setTimePoint("p6"):"viewable"===e.exposureType&&this.adProxy.setTimePoint("p7"),this.adProxy.reportAnalyseInfo(e.exposureType)):"click"===e.reportType&&this.adProxy.setTimePoint("p10"),"exposure"===e.reportType&&e.multiList&&e.isMulti){var i=this.adProxy.adDataIndex;e.multiList.forEach((e=>{this.adProxy.setCurrentData(e),xv("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t}),noCallback:!0})})),this.adProxy.setCurrentData(i)}else xv("adDataReport",{adInfo:this.adProxy.getTransmissionChainData({logtype:t}),noCallback:!0});var{extExposureComm:a,extClickComm:n}=this.getExtraExpOrClkData(e),o=this.getExpOrClkCommonArgs(e),r="click"===(null==e?void 0:e.reportType)&&null!=e&&e.isInteractiveClick?e.clickPos:0,s="click"===e.reportType?{click_point:JSON.stringify({x:e.clickAbsoluteLeft,y:e.clickAbsoluteTop}),press_interval:e.pressInterval,pos_x:e.clickRelativeLeft,pos_y:e.clickRelativeTop,click_pos:r,ext_click_comm:JSON.stringify(n)}:{exposure_type:ya[e.exposureType],ext_exposure_comm:JSON.stringify(a)},l=ma[e.reportType];return"click"===e.reportType&&null!=e&&e.isInteractiveClick&&(l=4),bv({reqData:{...o,...s,report_type:l,weapp_extra_data:JSON.stringify(o.weapp_extra_data),ad_group_id:o.advert_group_id,apurl:this.data.apurl,rl:this.data.rl,weapp_ghid:o.weapp_gh_id}})}getExpOrClkCommonArgs(e){var t;return{advert_group_id:this.data.group_id,trace_id:this.data.traceid,pos_id:ea[this.adType],pos_type:fa[this.adType],sdk_version:vv.SDKVersion,ad_w:e.width,ad_h:e.height,aid:this.data.aid,weapp_gh_id:(null===(t=this.data.weapp_info)||void 0===t?void 0:t.original_id)||"",pt:this.data.pt,screen_cnt:1,from_h5:0,from_game:1,wegame_start_ts:vv.startTime.valueOf(),wegame_enter_ts:_v.enterForegroundTime.valueOf(),wegame_user_duration:_v.gameDuration+(Date.now()-_v.enterForegroundTime.getTime()),wxa_report_detail:this.getWxaReportDetail({left:e.left,top:e.top}),weapp_extra_data:{...this.getWeappExtraData(),...e.weappExtraData||{}}}}reportClick(e){return this.lastClickTime=+new Date,this.reportExpOrClk({reportType:"click",...e}).catch((e=>{throw this.reportAdMonitorData(Ns,e),e}))}reportExposure(e){return"showed"===e.exposureType&&this.adProxy.checkPreloadH5Page(),this.lastExposureTime=+new Date,this.reportExpOrClk({reportType:"exposure",...e}).catch((e=>{throw this.reportAdMonitorData(Ls,e),e}))}reportFlooringPage(e,t){var i={aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:vv.gameAppId,orig_weapp_id:this.pluginAppid?vv.gameAppId:""},a=null==t?void 0:t.map((e=>({...i,...e}))),n={};return 1===e?n.rewared_video_ending_page_a=a:2===e&&(n.rewared_video_ending_page_b=a),bv({reqData:{report_action:"comm_real_report",report_data_json:n}})}reportAntifraud(e){var t={...e,aid:parseInt(this.data.aid,10),traceid:this.data.traceid,publisher_appid:this.pluginAppid?this.pluginAppid:vv.gameAppId,orig_weapp_id:this.pluginAppid?vv.gameAppId:"",network_type:vv.adNetworkType,wechat_version:vv.wechatVersion,platform:vv.platform,system_version:vv.systemVersion,device_orientation:vv.deviceOrientation,wxapp_lib_version:vv.SDKVersion,crt_size:this.data.crt_size,product_type:this.data.product_type,adunitid:this.adUnitId,machine_brand:vv.brand||"",machine_type:vv.model||"",clientimptime:this.lastAdReqTs},i={};return i.antifraud_table_screen_report=[t],bv({reqData:{report_action:"comm_real_report",report_data_json:i}})}reportVideo({playType:e,conditionType:t,muted:i,playDuration:a,videoDuration:n,rewardedTime:o,isRewarded:r,index:s=0,isExtend:l=!1,videoStartLoadTime:d,videoStartPlayTime:c,videoStopTime:p,firstFramePlayCnt:u,lastFramePlayCnt:h,startProgressBarPosition:g,stopProgressBarPosition:f,playMode:m,stopType:y}){var v;if(null===(v=this.datas)||void 0===v||!v[s])return Promise.resolve();var _="0",E=decodeURIComponent(this.datas[s].apurl);/viewid=([^&]+)/.test(E)&&(_=/viewid=([^&]+)/.exec(E)[1]);var x={play_type:{unknown:0,complete:1,partial:2,error:3}[e],play_duration:a,video_duration:n,auto_play:!0,muted:i,rewarded_time:o&&Math.min(o,n),is_rewarded:r};l&&Object.assign(x,{video_start_load_time:d,video_start_play_time:c,video_stop_time:p,first_frame_play_cnt:u,last_frame_play_cnt:h,start_progress_bar_position:g,stop_progress_bar_position:f,play_mode:null!=m?m:1,stop_type:null!=y?y:1});var b=pe({apiName:"webapi_advideo_report",reqData:{aid:parseInt(this.datas[s].aid,10),traceid:this.datas[s].traceid,trace_id:this.datas[s].traceid,viewid:_,video_play_info:x,report_type:{unknown:0,land:1,end:2,start:3,exit:4,close:5,stop:6}[t]}});return this.lastVideoReportTime=a,b}getWxaReportDetail({top:e=0,left:t=0}){return{page_x:t||0,page_y:e||0,screen_x:t||0,screen_y:e||0,ad_number:wv-1,ad_unit_number:Tv.size,ad_index:this.index,page_enter_time:_v.enterForegroundTime.valueOf(),phone_screen_width:vv.screenWidth,phone_screen_height:vv.screenHeight}}getWeappExtraData(){var e,t,i,a,n;return{weixin_version:vv.wechatVersion,os_version:vv.systemVersion,machine_brand:vv.brand||"",machine_type:vv.model,network_type:vv.adNetworkType,start_ts:vv.startTime.valueOf(),enter_ts:_v.enterForegroundTime.valueOf(),user_duration:_v.gameDuration+(Date.now()-_v.enterForegroundTime.getTime()),imp_time:this.lastAdReqTs,exp_time:this.lastExposureTime,clk_time:this.lastClickTime,env:null===(e=S.host)||void 0===e?void 0:e.env,app_appid:null===(t=S.host)||void 0===t?void 0:t.appId,host_version:null===(i=S.host)||void 0===i?void 0:i.version,local_wechat_version:null===(a=S.host)||void 0===a?void 0:a.localWeChatVersion,data_index:this.adProxy.adDataIndex,data_count:this.adProxy.datas.length,...this.adProxy.inputWeappExtraData||{},...(null===(n=this.adProxy.slotContext)||void 0===n?void 0:n.getCgiReportExtraData)&&this.adProxy.slotContext.getCgiReportExtraData()}}composeExposureCommonInfo({top:e=0,left:t=0,width:i=0,height:a=0,adType:n="rewardedVideoAd",inputWeappExtraData:o={}}){var r;try{r=this.data.weapp_info.original_id}catch(e){}var s={...Ev()},l={...this.getWeappExtraData(),...o||{}},d=this.getWxaReportDetail({top:e,left:t}),c={report_type:0,pos_id:ea[this.adType],sdk_version:vv.SDKVersion,aid:this.data.aid,traceid:this.data.traceid,trace_id:this.data.traceid,ad_group_id:this.data.group_id,weapp_ghid:r,rl:this.data.rl,pt:this.data.pt,screen_cnt:1,ad_w:i,ad_h:a,from_game:1,from_h5:0,wegame_start_ts:vv.startTime.valueOf(),wegame_enter_ts:_v.enterForegroundTime.valueOf(),wegame_user_duration:_v.gameDuration+(Date.now()-_v.enterForegroundTime.getTime()),pos_type:fa[n],wxa_report_detail:d,weapp_extra_data:JSON.stringify(l),ext_exposure_comm:JSON.stringify(s)};return JSON.stringify(c)}reportInstallFollow(e){var{condition:t}=this.data;t&&1===t.widget_gray_report_install_follow&&bv({reqData:{report_action:"comm_real_report",report_data_json:e}})}reportAnalyseDebugInfo(e){var t=aa[this.adType];return t||this.reportAdMonitorData(Rl,new Error(`invalid reportType ${this.adType}`)),pe({apiName:"webapi_reportbranchanalyticsfordebugtool",reqData:{itemList:[{branchId:e.branchId,branchDim:e.branchDim,reportType:t}]}}).catch((e=>{this.reportAdMonitorData(Rl,e)}))}reportIPV4(){setTimeout((()=>{try{var e,t=this.datas&&this.datas.length>0?this.datas[0]:this.data;null!=t&&null!==(e=t.extBackComm)&&void 0!==e&&e.ip_ping_url&&yv({url:ee(t.extBackComm.ip_ping_url)})}catch(e){}}),2e3)}},A()(Xy.prototype,"getLastClickTime",[My],Object.getOwnPropertyDescriptor(Xy.prototype,"getLastClickTime"),Xy.prototype),A()(Xy.prototype,"getLastAdReqTs",[Ny],Object.getOwnPropertyDescriptor(Xy.prototype,"getLastAdReqTs"),Xy.prototype),A()(Xy.prototype,"setLastExposureTime",[Ly],Object.getOwnPropertyDescriptor(Xy.prototype,"setLastExposureTime"),Xy.prototype),A()(Xy.prototype,"setLastClickTime",[Wy],Object.getOwnPropertyDescriptor(Xy.prototype,"setLastClickTime"),Xy.prototype),A()(Xy.prototype,"setLastAdReqTs",[By],Object.getOwnPropertyDescriptor(Xy.prototype,"setLastAdReqTs"),Xy.prototype),A()(Xy.prototype,"reportFollow",[Vy],Object.getOwnPropertyDescriptor(Xy.prototype,"reportFollow"),Xy.prototype),A()(Xy.prototype,"getExpOrClkCommonArgs",[Hy],Object.getOwnPropertyDescriptor(Xy.prototype,"getExpOrClkCommonArgs"),Xy.prototype),A()(Xy.prototype,"reportClick",[Fy],Object.getOwnPropertyDescriptor(Xy.prototype,"reportClick"),Xy.prototype),A()(Xy.prototype,"reportExposure",[Gy],Object.getOwnPropertyDescriptor(Xy.prototype,"reportExposure"),Xy.prototype),A()(Xy.prototype,"reportFlooringPage",[Uy],Object.getOwnPropertyDescriptor(Xy.prototype,"reportFlooringPage"),Xy.prototype),A()(Xy.prototype,"reportAntifraud",[zy],Object.getOwnPropertyDescriptor(Xy.prototype,"reportAntifraud"),Xy.prototype),A()(Xy.prototype,"reportVideo",[jy],Object.getOwnPropertyDescriptor(Xy.prototype,"reportVideo"),Xy.prototype),A()(Xy.prototype,"getWxaReportDetail",[$y],Object.getOwnPropertyDescriptor(Xy.prototype,"getWxaReportDetail"),Xy.prototype),A()(Xy.prototype,"composeExposureCommonInfo",[Yy],Object.getOwnPropertyDescriptor(Xy.prototype,"composeExposureCommonInfo"),Xy.prototype),A()(Xy.prototype,"reportInstallFollow",[qy],Object.getOwnPropertyDescriptor(Xy.prototype,"reportInstallFollow"),Xy.prototype),A()(Xy.prototype,"reportAnalyseDebugInfo",[Ky],Object.getOwnPropertyDescriptor(Xy.prototype,"reportAnalyseDebugInfo"),Xy.prototype),A()(Xy.prototype,"reportIPV4",[Zy],Object.getOwnPropertyDescriptor(Xy.prototype,"reportIPV4"),Xy.prototype),Xy);var{showToast:Av,deviceInfo:Pv,invokeMethod:Iv}=y,Sv=(Jy=Go(),Qy=Go(),ev=Go(),tv=Go(),iv=Go(),av=Go(),nv=Go(),ov=Go(),rv=Go(),sv=Go(),lv=Go(),dv=Go(),cv=Go(),pv=class{constructor(e){this.adProxy=e,this.isAppInstalled=!1}get data(){return this.adProxy.data}get reportAdMonitorData(){return this.adProxy.reportAdMonitorData}getFullRl(){var{rl:e}=this.data;try{/viewid=([^&]+)/.test(e)||(-1===e.indexOf("?")?e+=`?viewid=${this.data.extBackComm.viewid}`:e+=`&viewid=${this.data.extBackComm.viewid}`)}catch(e){}return e}getFollowPageUrl(e,t){var i={source:4,tid:e.traceid,pt:e.pt,aid:e.aid,ad_engine:e.is_cpm?1:0,pos_type:e.pos_type,jsapi_scene:Pv.isWaGame?147:140};return vg(t,i)}getSkAdItem(){var e,t=null,i=this.data;if(null!=i&&null!==(e=i.extBackComm)&&void 0!==e&&e.sk_ad_items)try{[t]=JSON.parse(i.extBackComm.sk_ad_items)}catch(e){}return t}isPrefetch(e){var t,i,a,n,o,r,s,l,d={url:this.data.url,jump_url:this.data.button_action.jump_url,playable_url:null===(t=this.data.crtInfo)||void 0===t||null===(i=t[0])||void 0===i||null===(a=i.wxgame_video_card)||void 0===a||null===(n=a.flooring_page)||void 0===n?void 0:n.page_url}[e],c={url:this.data.dest_type===wg.DEST_TYPE_OUTER,jump_url:(null===(o=this.data.button_action)||void 0===o?void 0:o.jump_type)===wg.DEST_TYPE_OUTER,playable_url:!0}[e];return d&&c&&Boolean(null===(r=this.data)||void 0===r||null===(s=r.extBackComm)||void 0===s||null===(l=s.material_handler_info)||void 0===l?void 0:l.h5_preload_info[e])}getTransmissionChainData({logtype:e=3}){var t={traceid:this.data.traceid,trace_id:this.data.traceid,product_type:this.data.pt,jump_url:encodeURIComponent(this.data.url),rl:encodeURIComponent(this.getFullRl()),logtype:e};return Object.keys(t).map((e=>`${e}=${t[e]}`)).join("&")}setAppInstallState(e){this.isAppInstalled=e}land({isButton:e=!1,isAddContact:t=!1,extraUrlParam:i,copyGiftCode:a=!0}={}){var n=this;return b()((function*(){var{dest_type:o,product_type:r,url:s,extInfo:l}=n.data,d={isButton:e,extraUrlParam:i},c=[Cg.GDT_WE_CHAT_ARTICLE,Cg.LEAD_AD,Cg.WE_CHAT_SHOP].includes(r);if(a)try{var p;null!=l&&null!==(p=l.app_gift_pack_code)&&void 0!==p&&p.code&&(yield n.adProxy.setClipboardData({data:l.app_gift_pack_code.code}),Av({duration:1500,title:"礼包码复制成功",icon:"success",mask:!1}),n.adProxy.reportAdMonitorData(gd))}catch(e){n.adProxy.reportAdMonitorData(fd)}if(!e){if(n.isPrefetch("url")&&n.adProxy.reportAdMonitorData(Ql),[12,19].indexOf(r)>-1){var u,h,{app_info:{url_scheme:g}}=n.data;if(Pv.isIOS)u=JSON.stringify({aid:n.data.aid,ad_uid:null===(h=n.data.extBackComm)||void 0===h?void 0:h.uid,scene_id:4001});var f=n.getSkAdItem();if(g&&g.trim().length>0){if(Pv.isAndroid&&!n.isAppInstalled){try{return yield n.openMachineMarket()}catch(e){}return n.landPage(o,s,d)}return n.adProxy.launchApplication({schemeUrl:g,isIosDirect:Pv.isIOS,appInfo:n.data.app_info,extraData:u,skAdItem:f},n.data).catch((e=>(null!==f&&n.reportAdMonitorData(cd,e),n.landPage(o,s,d))))}try{return yield n.openMachineMarket()}catch(e){}return n.landPage(o,s,d)}if(c){try{return yield n.openShopScheme()}catch(e){}return n.landPage(o,s,d)}return n.landPage(o,s,d)}n.isPrefetch("jump_url")&&n.adProxy.reportAdMonitorData(ed);var{button_action:{jump_type:m,jump_url:y}}=n.data;if(r===Cg.IOS)return n.openAppStore(m,y,d);if(r!==Cg.WE_CHAT||!t){if(c){try{return yield n.openShopScheme()}catch(e){}return n.landPage(m,y,d)}try{return yield n.openMachineMarket()}catch(e){}return n.landPage(m,y,d)}var v,{biz_info:{user_name:_,is_subscribed:E}}=n.data;if(E)return 10===m?n.landPage(m,s,d):se({url:n.getFollowPageUrl(n.data,y),adInfo:n.getTransmissionChainData({logtype:3}),adUxInfo:null===(v=n.data)||void 0===v?void 0:v.uxinfo});try{var x,b=yield n.adProxy.addContact({username:_,isWaGame:Pv.isWaGame}),{ext_info:w,uxinfo:T}=n.data;try{x=JSON.parse(w)}catch(e){}if(/ok|added/.test(b.errMsg)&&x&&x.guide_group_id&&T)try{yield(({guide_group_id:e,uxinfo:t})=>pe({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"BindAdFansToGuideGroup",guide_group_id:e,uxinfo:t})}}).then((e=>{if("ok"===e.msg)return e;throw e})))({guide_group_id:x.guide_group_id,uxinfo:T}),n.adProxy.reportAdIDKey({key:fl})}catch(e){n.reportAdMonitorData(ml,e)}return b}catch(e){if(/cancel/.test(e.errMsg))return e;throw n.reportAdMonitorData(Os,e),e}}))()}landPage(e,t,i){var a={},n={};if(i.extraUrlParam)for(var o of Object.keys(i.extraUrlParam)){var r=i.extraUrlParam[o];Array.isArray(r)&&"private"===r[1]&&null!=r[0]?[a[o]]=r:Array.isArray(r)?[n[o]]=r:n[o]=r}var s,l=vg(t,i.extraUrlParam);if(e===wg.DEST_TYPE_APPDETAIL&&Pv.isIOS){var d,{app_info:{appinfo_url:c}}=this.data,p=JSON.stringify({aid:this.data.aid,ad_uid:null===(d=this.data.extBackComm)||void 0===d?void 0:d.uid,scene_id:4001}),u=this.getSkAdItem();return this.adProxy.launchApplication({schemeUrl:c,extraData:p,skAdItem:u},this.data).catch((e=>{var t;return null!==u&&this.reportAdMonitorData(cd,e),se({url:c,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(t=this.data)||void 0===t?void 0:t.uxinfo}).catch((e=>{throw this.reportAdMonitorData(ks,e),e}))}))}if(e===wg.DEST_TYPE_BIZ)return se({url:this.getFollowPageUrl(this.data,l),adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(s=this.data)||void 0===s?void 0:s.uxinfo}).catch((e=>{throw this.reportAdMonitorData(ks,e),e}));if(e===wg.DEST_TYPE_WECHAT_APPLET){var{weapp_info:{appid:h},traceid:g,aid:f,uxinfo:m}=this.data;return de({appId:h,path:l,privateExtraData:a,traceid:g,aid:f,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:m}).catch((e=>{throw this.reportAdMonitorData(Ds,e),e}))}if(e===wg.DEST_TYPE_CANVAS){var{canvas_info:y,pos_type:v}=this.data;return le({canvasInfo:y,posType:v}).catch((e=>{throw this.reportAdMonitorData(Rs,e),e}))}if(10===e){var{biz_info:{user_name:_}}=this.data;return this.adProxy.openProfile({username:_}).catch((e=>{throw e}))}return e===wg.DEST_TYPE_CHANNELS?this.jumpChannels("activity",i):e===wg.DEST_TYPE_CHANNELS_LIVE?this.jumpChannels("live",i):e===wg.DEST_TYPE_CHANNELS_USER_PROFILE?this.jumpChannels("userProfile",i):e===wg.DEST_TYPE_WECOM_USER_PROFILE?this.adProxy.openWeComUserProfile({dataUrl:l,bizInfo:JSON.stringify({aid:this.data.aid})}):se({url:l,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:this.data.uxinfo}).catch((e=>{throw this.reportAdMonitorData(ks,e),e}))}getChannelsExtraInfo(e){return JSON.stringify({sns_ad:{uxinfo:this.data.uxinfo||"",snsid:"",scene:e}}).replace(/,/g,";")}validateChannelsInfo(e,t){return t?["live","activity"].includes(e)&&!t.id||!t.nonce_id?"channelsInfo.id 或 channelsInfo.nonce_id 不可为空":t.username?null:"channelsInfo.username 不可为空":"channelsInfo 不可为空"}getChannelsRewardTime(e){return this.adProxy.slotContext.getChannelsRewardTime?this.adProxy.slotContext.getChannelsRewardTime(e):15}jumpChannels(e,{isButton:t}){var i=this;return b()((function*(){var a,n,o,r,s={activity:jl,live:Yl,userProfile:Kl}[e],l={activity:$l,live:ql,userProfile:Zl}[e],d=null===(a=i.data)||void 0===a?void 0:a.extBackComm.channels_info,c=i.validateChannelsInfo(e,d);if(c)i.reportAdMonitorData(l,{message:c,channelsInfo:d});else{var{crt_size:p,apurl:u,rl:h,crtInfo:g}=i.data,f=null==g||null===(n=g[0])||void 0===n||null===(o=n.card_info)||void 0===o||null===(r=o.tag_button_info)||void 0===r?void 0:r.tag_desc,m={feedId:d.id,nonceId:d.nonce_id,finderUserName:d.username,reportExtraInfo:i.getChannelsExtraInfo(t?Fg:Hg)};if("live"===e&&p===Tg.CRT_SIZE_REWARD_LANDINGPAGE&&i.adProxy.getChannelsLiveStatusWithRpc().then((e=>{"onlive"!==e&&i.reportAdMonitorData(ec,{status:e})})),d){if("activity"===e&&p===Tg.CRT_SIZE_REWARD_LANDINGPAGE)try{var y=yield i.adProxy.openChannelsRewardedVideoAd({...m,expReportLink:u,clkReportLink:h,reportInfo:i.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:Pv.screenWidth,height:Pv.screenHeight}),clickPosMap:{follow:Dg,like:Rg,comment:Og,headimage:Mg,nickname:Ng,forward:Lg},marketingWord:f,feedbackUrl:i.getFeedbackUrl(Pv.isWaGame?1003:1005),rewardTime:i.getChannelsRewardTime(e)});return i.reportAdMonitorData(s),y}catch(y){i.reportAdMonitorData(l,y)}else if("live"===e&&p===Tg.CRT_SIZE_REWARD_LANDINGPAGE)try{var v=yield i.adProxy.openChannelsLive({...m,expReportLink:u,clkReportLink:h,reportInfo:i.adProxy.getExpOrClkCommonArgs({top:0,left:0,width:Pv.screenWidth,height:Pv.screenHeight}),feedbackUrl:i.getFeedbackUrl(Pv.isWaGame?1003:1005),adJSAPIType:1,rewardTime:i.getChannelsRewardTime(e)});return i.reportAdMonitorData(s,{closeType:(null==v?void 0:v.closeType)||0}),v}catch(y){i.reportAdMonitorData(l,y)}try{var _;switch(e){case"activity":_=yield i.adProxy.openChannelsRewardedVideoAd({...m,adJSAPIType:1});break;case"live":_=yield i.adProxy.openChannelsLive(m);break;case"userProfile":_=yield i.adProxy.openChannelsUserProfile(m)}return i.reportAdMonitorData(s),_}catch(e){i.reportAdMonitorData(l,e)}}i.reportAdMonitorData(l,new Error("channelsInfo is empty"))}}))()}openAppStore(e,t,i){var a,{app_info:{appinfo_url:n,url_scheme:o},extBackComm:r}=this.data,s=JSON.stringify({aid:this.data.aid,ad_uid:null===(a=this.data.extBackComm)||void 0===a?void 0:a.uid,scene_id:4001}),l=this.getSkAdItem();return o&&o.trim().length>0?this.adProxy.launchApplication({schemeUrl:o,isIosDirect:!0,appInfo:this.data.app_info,extraData:s,skAdItem:l},this.data).catch((()=>this.adProxy.launchApplication({schemeUrl:n,extraData:s,skAdItem:l},this.data).catch((e=>{var t;return null!==l&&this.reportAdMonitorData(cd,e),se({url:n,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(t=this.data)||void 0===t?void 0:t.uxinfo}).catch((e=>{throw this.reportAdMonitorData(ks,e),e}))})))):r.is_from_snsadinfo?this.landPage(e,t,i):this.adProxy.launchApplication({schemeUrl:n,extraData:s,skAdItem:l},this.data).catch((()=>{var e;return se({url:n,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(e=this.data)||void 0===e?void 0:e.uxinfo}).catch((e=>{throw this.reportAdMonitorData(ks,e),e}))}))}preloadLanding(){try{if(6===this.data.dest_type){var e;e=[this.data.weapp_info.appid],[].push({appId:(i=this.data).weapp_info&&i.weapp_info.appid,appType:46==i.product_type?1004:1e3,path:i.url,openRate:i.extBackComm&&i.extBackComm.pctr||0}),Iv("batchGetContact",{appIds:e});var t="app";this.data.product_type===Cg.MINI_GAME&&(t="game"),Iv("preloadMiniProgramEnv",{type:t,success:e=>{this.reportAdMonitorData(Xs,e)},fail:e=>{this.reportAdMonitorData(Js,e)}});Iv("predownloadMiniProgramPackage",{username:`${this.data.weapp_info.original_id}@app`,path:this.data.url,scene:5,success:e=>{this.reportAdMonitorData(Qs,e)},fail:e=>{this.reportAdMonitorData(el,e)}})}}catch(e){}var i}checkFollow(e){return b()((function*(){var{data:t}=yield pe({apiName:"webapi_checkcontact",reqData:{biz_uin:e}});return 1===t.is_subscribed}))()}getFeedbackUrl(e){var t=this.data.material_id_list||[],i=encodeURIComponent(`[${t.toString()}]`)||"";return vg("https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html#wechat_redirect",{aid:this.data.aid,traceid:this.data.traceid,source:e,material_id:i||"",machine_type:Pv.model,publisher_appid:Pv.gameAppId})}openFeedbackUrl(e){var t=this.getFeedbackUrl(e);return se({url:t})}checkPreloadH5Page(){var e=this;return b()((function*(){var t,i,a,n,o,r=new Set,{url:s}=e.data,l=null===(t=e.data.button_action)||void 0===t?void 0:t.jump_url,d=null===(i=e.data.crtInfo)||void 0===i||null===(a=i[0])||void 0===a||null===(n=a.wxgame_video_card)||void 0===n||null===(o=n.flooring_page)||void 0===o?void 0:o.page_url;e.isPrefetch("url")&&("1"!==ug(s).prefetch&&(s=vg(s,{prefetch:1}),e.data.url=s),r.add(s)),e.isPrefetch("jump_url")&&("1"!==ug(l).prefetch&&(l=vg(l,{prefetch:1}),e.data.button_action.jump_url=l),r.add(l)),e.isPrefetch("playable_url")&&("1"!==ug(d).prefetch&&(d=vg(d,{prefetch:1}),e.data.crtInfo[0].wxgame_video_card.flooring_page.page_url=d),r.add(d));var c=[...r].map((e=>({url:e,bizScene:20002})));if(c.length)try{yield e.adProxy.preloadH5Page({urlList:c}),e.reportAdMonitorData(td)}catch(t){e.reportAdMonitorData(id,t)}}))()}openShopScheme(){var e=this;return b()((function*(){var{app_info:{url_scheme:t}}=e.data;if(!t||!Pv.isIOS&&!Pv.isAndroid)throw"openShopScheme: fail no need";try{var i={schemeUrl:t};Pv.isIOS&&(i.messageExt=t),e.data.uxinfo&&(i.bizInfo=e.data.uxinfo,i.sourceInfo=JSON.stringify({wxad:{source:3}}));var a=yield e.adProxy.launchApplicationOrigin(i);return e.reportAdMonitorData(vd),a}catch(t){throw e.reportAdMonitorData(_d,t),t}}))()}shouldOpenMachineMarket(){var e,{product_type:t,extBackComm:i}=this.data;return!this.adProxy.isSplashAd()&&Pv.isAndroid&&t===Cg.ANDROID&&!this.isAppInstalled&&(null==i?void 0:i.market_scheme)&&!Gm("landpage",null===(e=this.adProxy.data)||void 0===e?void 0:e.crt_size)}openMachineMarket(){var e=this;return b()((function*(){var{extBackComm:t}=e.data;if(!e.shouldOpenMachineMarket())throw"openMachineMarket: fail no need";try{var i={schemeUrl:t.market_scheme};e.data.uxinfo&&(i.bizInfo=e.data.uxinfo,i.sourceInfo=JSON.stringify({wxad:{source:4}}));var a=yield e.adProxy.launchApplicationOrigin(i);return e.reportAdMonitorData(md),a}catch(t){throw e.reportAdMonitorData(yd,t),t}}))()}getLandPageInfo(){var e,t,i,a,n,o,r,s,l,d,c,p,u,h,g,f,m,y,v,_,E,x,b,w,T={};if(this.data.product_type===Cg.ANDROID)Object.assign(T,{apk_name:null===(_=this.data.app_info)||void 0===_?void 0:_.apk_name,app_name:null===(E=this.data.app_info)||void 0===E?void 0:E.app_name,app_rating:null===(x=this.data.app_info)||void 0===x?void 0:x.app_rating,url_scheme:Boolean(null===(b=this.data.app_info)||void 0===b?void 0:b.url_scheme),market_scheme:Boolean(null===(w=this.data.extBackComm)||void 0===w?void 0:w.market_scheme)});else if(this.data.product_type===Cg.IOS){var C,A,P,I,S;Object.assign(T,{appid:null===(C=this.data.app_info)||void 0===C?void 0:C.app_id,app_name:null===(A=this.data.app_info)||void 0===A?void 0:A.app_name,app_rating:null===(P=this.data.app_info)||void 0===P?void 0:P.app_rating,appinfo_url:null===(I=this.data.app_info)||void 0===I?void 0:I.appinfo_url,url_scheme:Boolean(null===(S=this.data.app_info)||void 0===S?void 0:S.url_scheme)})}switch(this.data.dest_type){case wg.DEST_TYPE_CANVAS:Object.assign(T,{canvas_id:null===(e=this.data.canvas_info)||void 0===e?void 0:e.canvas_id});break;case wg.DEST_TYPE_WECHAT_APPLET:Object.assign(T,{appid:null===(t=this.data.weapp_info)||void 0===t?void 0:t.appid,original_id:null===(i=this.data.weapp_info)||void 0===i?void 0:i.original_id,playable_appid:null===(a=this.data.crtInfo)||void 0===a||null===(n=a[0])||void 0===n||null===(o=n.wxgame_video_card)||void 0===o?void 0:o.playable_appid,playable_path:null===(r=this.data.crtInfo)||void 0===r||null===(s=r[0])||void 0===s||null===(l=s.wxgame_video_card)||void 0===l?void 0:l.playable_path,ranking_type:null===(d=this.data)||void 0===d||null===(c=d.extBackComm)||void 0===c?void 0:c.wegame_ranking_type,ranking_no:null===(p=this.data)||void 0===p||null===(u=p.extBackComm)||void 0===u?void 0:u.wegame_ranking_no});break;case wg.DEST_TYPE_CHANNELS:case wg.DEST_TYPE_CHANNELS_LIVE:Object.assign(T,{id:null===(h=this.data.extBackComm)||void 0===h||null===(g=h.channels_info)||void 0===g?void 0:g.id,username:null===(f=this.data.extBackComm)||void 0===f||null===(m=f.channels_info)||void 0===m?void 0:m.username});break;case wg.DEST_TYPE_CHANNELS_USER_PROFILE:Object.assign(T,{username:null===(y=this.data.extBackComm)||void 0===y||null===(v=y.channels_info)||void 0===v?void 0:v.username})}return Ne(T)}},A()(pv.prototype,"isPrefetch",[Jy],Object.getOwnPropertyDescriptor(pv.prototype,"isPrefetch"),pv.prototype),A()(pv.prototype,"getTransmissionChainData",[Qy],Object.getOwnPropertyDescriptor(pv.prototype,"getTransmissionChainData"),pv.prototype),A()(pv.prototype,"setAppInstallState",[ev],Object.getOwnPropertyDescriptor(pv.prototype,"setAppInstallState"),pv.prototype),A()(pv.prototype,"land",[tv],Object.getOwnPropertyDescriptor(pv.prototype,"land"),pv.prototype),A()(pv.prototype,"landPage",[iv],Object.getOwnPropertyDescriptor(pv.prototype,"landPage"),pv.prototype),A()(pv.prototype,"getChannelsExtraInfo",[av],Object.getOwnPropertyDescriptor(pv.prototype,"getChannelsExtraInfo"),pv.prototype),A()(pv.prototype,"openAppStore",[nv],Object.getOwnPropertyDescriptor(pv.prototype,"openAppStore"),pv.prototype),A()(pv.prototype,"preloadLanding",[ov],Object.getOwnPropertyDescriptor(pv.prototype,"preloadLanding"),pv.prototype),A()(pv.prototype,"checkFollow",[rv],Object.getOwnPropertyDescriptor(pv.prototype,"checkFollow"),pv.prototype),A()(pv.prototype,"getFeedbackUrl",[sv],Object.getOwnPropertyDescriptor(pv.prototype,"getFeedbackUrl"),pv.prototype),A()(pv.prototype,"openFeedbackUrl",[lv],Object.getOwnPropertyDescriptor(pv.prototype,"openFeedbackUrl"),pv.prototype),A()(pv.prototype,"checkPreloadH5Page",[dv],Object.getOwnPropertyDescriptor(pv.prototype,"checkPreloadH5Page"),pv.prototype),A()(pv.prototype,"getLandPageInfo",[cv],Object.getOwnPropertyDescriptor(pv.prototype,"getLandPageInfo"),pv.prototype),pv),kv=327,Dv=249,Rv=184,Ov=140,Mv=388,Nv=308,Lv=(e,t)=>!!t&&(e=>{var t={native:[Tg.CRT_SIZE_TABLE_SCREEN_IMAGE,Tg.CRT_SIZE_INSERT_VIDEO],sns:[Tg.APP_VIDEO,Tg.CRT_SIZE_PIC_MOMENT,Tg.CRT_SIZE_VIDEO_TIME6,Tg.CRT_SIZE_CARD_COMPT_IMAGE,Tg.CRT_SIZE_CARD_COMPT_VIDEO],image:[Tg.CRT_SIZE_TABLE_SCREEN_IMAGE,Tg.CRT_SIZE_PIC_MOMENT,Tg.CRT_SIZE_CARD_COMPT_IMAGE,Tg.CRT_SIZE_AMS_PIC_169,Tg.CRT_SIZE_AMS_PIC_916],video:[Tg.CRT_SIZE_INSERT_VIDEO,Tg.APP_VIDEO,Tg.CRT_SIZE_VIDEO_TIME6,Tg.CRT_SIZE_CARD_COMPT_VIDEO,Tg.CRT_SIZE_AMS_VIDEO_169,Tg.CRT_SIZE_VERTICAL_VIDEO_NEW_916]};switch(e){case"native":case"sns":case"video":case"image":return t[e];default:return[...t.image,...t.video]}})(e).includes(Number(t)),Wv=Object.create,Bv=Object.defineProperty,Vv=Object.defineProperties,Hv=Object.getOwnPropertyDescriptor,Fv=Object.getOwnPropertyDescriptors,Gv=Object.getOwnPropertyNames,Uv=Object.getOwnPropertySymbols,zv=Object.getPrototypeOf,jv=Object.prototype.hasOwnProperty,$v=Object.prototype.propertyIsEnumerable,Yv=(e,t,i)=>t in e?Bv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,qv=(e,t)=>{for(var i in t||(t={}))jv.call(t,i)&&Yv(e,i,t[i]);if(Uv)for(var i of Uv(t))$v.call(t,i)&&Yv(e,i,t[i]);return e},Kv=(e,t)=>Vv(e,Fv(t)),Zv=(e,t)=>function(){return t||(0,e[Gv(e)[0]])((t={exports:{}}).exports,t),t.exports},Xv=(e,t,i)=>(i=null!=e?Wv(zv(e)):{},((e,t,i,a)=>{if(t&&"object"==typeof t||"function"==typeof t){var n=function(n){jv.call(e,n)||n===i||Bv(e,n,{get:()=>t[n],enumerable:!(a=Hv(t,n))||a.enumerable})};for(var o of Gv(t))n(o)}return e})(!t&&e&&e.__esModule?i:Bv(i,"default",{value:e,enumerable:!0}),e)),Jv=(e,t,i,a)=>{for(var n,o=a>1?void 0:a?Hv(t,i):t,r=e.length-1;r>=0;r--)(n=e[r])&&(o=(a?n(t,i,o):n(o))||o);return a&&o&&Bv(t,i,o),o},Qv=(e,t,i)=>new Promise(((a,n)=>{var o=e=>{try{s(i.next(e))}catch(e){n(e)}},r=e=>{try{s(i.throw(e))}catch(e){n(e)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,r);s((i=i.apply(e,t)).next())})),e_=Zv({"../../node_modules/.pnpm/object-assign@4.1.1/node_modules/object-assign/index.js"(e,t){var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,r,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var d in o=Object(arguments[l]))a.call(o,d)&&(s[d]=o[d]);if(i){r=i(o);for(var c=0;c<r.length;c++)n.call(o,r[c])&&(s[r[c]]=o[r[c]])}}return s}}}),t_=Zv({"../../node_modules/.pnpm/react@17.0.2/node_modules/react/cjs/react.production.min.js"(e){var t=e_(),i=60103,a=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var n=60109,o=60110,r=60112;e.Suspense=60113;var s,l=60115,d=60116;"function"==typeof Symbol&&Symbol.for&&(s=Symbol.for,i=s("react.element"),a=s("react.portal"),e.Fragment=s("react.fragment"),e.StrictMode=s("react.strict_mode"),e.Profiler=s("react.profiler"),n=s("react.provider"),o=s("react.context"),r=s("react.forward_ref"),e.Suspense=s("react.suspense"),l=s("react.memo"),d=s("react.lazy"));var c="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function g(e,t,i){this.props=e,this.context=t,this.refs=h,this.updater=i||u}function f(){}function m(e,t,i){this.props=e,this.context=t,this.refs=h,this.updater=i||u}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},f.prototype=g.prototype;var y=m.prototype=new f;y.constructor=m,t(y,g.prototype),y.isPureReactComponent=!0;var v={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,a){var n,o={},r=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(r=""+t.key),t)_.call(t,n)&&!E.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(1===l)o.children=a;else if(1<l){for(var d=Array(l),c=0;c<l;c++)d[c]=arguments[c+2];o.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===o[n]&&(o[n]=l[n]);return{$$typeof:i,type:e,key:r,ref:s,props:o,_owner:v.current}}function b(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var w=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,o,r){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case a:l=!0}}if(l)return r=r(l=e),e=""===o?"."+T(l,0):o,Array.isArray(r)?(n="",null!=e&&(n=e.replace(w,"$&/")+"/"),C(r,t,n,"",(function(e){return e}))):null!=r&&(b(r)&&(r=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(w,"$&/")+"/")+e)),t.push(r)),1;if(l=0,o=""===o?".":o+":",Array.isArray(e))for(var d=0;d<e.length;d++){var u=o+T(s=e[d],d);l+=C(s,t,n,u,r)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=c&&e[c]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),d=0;!(s=e.next()).done;)l+=C(s=s.value,t,n,u=o+T(s,d++),r);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function A(e,t,i){if(null==e)return e;var a=[],n=0;return C(e,a,"","",(function(e){return t.call(i,e,n++)})),a}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function S(){var e=I.current;if(null===e)throw Error(p(321));return e}var k={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:v,IsSomeRendererActing:{current:!1},assign:t};e.Children={map:A,forEach:function(e,t,i){A(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!b(e))throw Error(p(143));return e}},e.Component=g,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,e.cloneElement=function(e,a,n){if(null==e)throw Error(p(267,e));var o=t({},e.props),r=e.key,s=e.ref,l=e._owner;if(null!=a){if(void 0!==a.ref&&(s=a.ref,l=v.current),void 0!==a.key&&(r=""+a.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(c in a)_.call(a,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===a[c]&&void 0!==d?d[c]:a[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){d=Array(c);for(var u=0;u<c;u++)d[u]=arguments[u+2];o.children=d}return{$$typeof:i,type:e.type,key:r,ref:s,props:o,_owner:l}},e.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:n,_context:e},e.Consumer=e},e.createElement=x,e.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:r,render:e}},e.isValidElement=b,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},e.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},e.useCallback=function(e,t){return S().useCallback(e,t)},e.useContext=function(e,t){return S().useContext(e,t)},e.useDebugValue=function(){},e.useEffect=function(e,t){return S().useEffect(e,t)},e.useImperativeHandle=function(e,t,i){return S().useImperativeHandle(e,t,i)},e.useLayoutEffect=function(e,t){return S().useLayoutEffect(e,t)},e.useMemo=function(e,t){return S().useMemo(e,t)},e.useReducer=function(e,t,i){return S().useReducer(e,t,i)},e.useRef=function(e){return S().useRef(e)},e.useState=function(e){return S().useState(e)},e.version="17.0.2"}}),i_=Zv({"../../node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"(e,t){t.exports=t_()}}),a_=Zv({"../../node_modules/.pnpm/scheduler@0.20.2/node_modules/scheduler/cjs/scheduler.production.min.js"(e){var t,a,n,o,r,s,l,d,c,p,u,h,g,f,m,y,v,_,E,x;function b(e,t){var i=e.length;e.push(t);e:for(;;){var a=i-1>>>1,n=e[a];if(!(void 0!==n&&0<C(n,t)))break e;e[a]=t,e[i]=n,i=a}}function w(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var i=e.pop();if(i!==t){e[0]=i;e:for(var a=0,n=e.length;a<n;){var o=2*(a+1)-1,r=e[o],s=o+1,l=e[s];if(void 0!==r&&0>C(r,i))void 0!==l&&0>C(l,r)?(e[a]=l,e[s]=i,a=s):(e[a]=r,e[o]=i,a=o);else{if(!(void 0!==l&&0>C(l,i)))break e;e[a]=l,e[s]=i,a=s}}}return t}return null}function C(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(r=performance,e.unstable_now=function(){return r.now()}):(s=Date,l=s.now(),e.unstable_now=function(){return s.now()-l}),"undefined"==typeof window||"function"!=typeof MessageChannel?(d=null,c=null,p=function(){if(null!==d)try{var t=e.unstable_now();d(!0,t),d=null}catch(e){throw setTimeout(p,0),e}},t=function(e){null!==d?setTimeout(t,0,e):(d=e,setTimeout(p,0))},a=function(e,t){c=setTimeout(e,t)},n=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}):(u=window.setTimeout,h=window.clearTimeout,void 0!==i&&(g=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&i.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof g&&i.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),f=!1,m=null,y=-1,v=5,_=0,e.unstable_shouldYield=function(){return e.unstable_now()>=_},o=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?i.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5},E=new MessageChannel,x=E.port2,E.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();_=t+v;try{m(!0,t)?x.postMessage(null):(f=!1,m=null)}catch(e){throw x.postMessage(null),e}}else f=!1},t=function(e){m=e,f||(f=!0,x.postMessage(null))},a=function(t,i){y=u((function(){t(e.unstable_now())}),i)},n=function(){h(y),y=-1});var A=[],P=[],I=1,S=null,k=3,D=!1,R=!1,O=!1;function M(e){for(var t=w(P);null!==t;){if(null===t.callback)T(P);else{if(!(t.startTime<=e))break;T(P),t.sortIndex=t.expirationTime,b(A,t)}t=w(P)}}function N(e){if(O=!1,M(e),!R)if(null!==w(A))R=!0,t(L);else{var i=w(P);null!==i&&a(N,i.startTime-e)}}function L(t,i){R=!1,O&&(O=!1,n()),D=!0;var o=k;try{for(M(i),S=w(A);null!==S&&(!(S.expirationTime>i)||t&&!e.unstable_shouldYield());){var r=S.callback;if("function"==typeof r){S.callback=null,k=S.priorityLevel;var s=r(S.expirationTime<=i);i=e.unstable_now(),"function"==typeof s?S.callback=s:S===w(A)&&T(A),M(i)}else T(A);S=w(A)}if(null!==S)var l=!0;else{var d=w(P);null!==d&&a(N,d.startTime-i),l=!1}return l}finally{S=null,k=o,D=!1}}var W=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){R||D||(R=!0,t(L))},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return w(A)},e.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var i=k;k=t;try{return e()}finally{k=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=W,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=k;k=e;try{return t()}finally{k=i}},e.unstable_scheduleCallback=function(i,o,r){var s=e.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?s+r:s:r=s,i){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return i={id:I++,callback:o,priorityLevel:i,startTime:r,expirationTime:l=r+l,sortIndex:-1},r>s?(i.sortIndex=r,b(P,i),null===w(A)&&i===w(P)&&(O?n():O=!0,a(N,r-s))):(i.sortIndex=l,b(A,i),R||D||(R=!0,t(L))),i},e.unstable_wrapCallback=function(e){var t=k;return function(){var i=k;k=t;try{return e.apply(this,arguments)}finally{k=i}}}}}),n_=Zv({"../../node_modules/.pnpm/scheduler@0.20.2/node_modules/scheduler/index.js"(e,t){t.exports=a_()}}),o_=Zv({"../../node_modules/.pnpm/react-reconciler@0.26.2_react@17.0.2/node_modules/react-reconciler/cjs/react-reconciler.production.min.js"(e,t){t.exports=function(e){var a={},n=e_(),o=i_(),r=n_();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=60103,c=60106,p=60107,u=60108,h=60114,g=60109,f=60110,m=60112,y=60113,v=60120,_=60115,E=60116,x=60121,b=60129,w=60130,T=60131;if("function"==typeof Symbol&&Symbol.for){var C=Symbol.for;d=C("react.element"),c=C("react.portal"),p=C("react.fragment"),u=C("react.strict_mode"),h=C("react.profiler"),g=C("react.provider"),f=C("react.context"),m=C("react.forward_ref"),y=C("react.suspense"),v=C("react.suspense_list"),_=C("react.memo"),E=C("react.lazy"),x=C("react.block"),C("react.scope"),b=C("react.debug_trace_mode"),w=C("react.offscreen"),T=C("react.legacy_hidden")}var A="function"==typeof Symbol&&Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}function I(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case c:return"Portal";case h:return"Profiler";case u:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case g:return(e._context.displayName||"Context")+".Provider";case m:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case _:return I(e.type);case x:return I(e._render);case E:t=e._payload,e=e._init;try{return I(e(t))}catch(e){}}return null}function S(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function k(e){if(S(e)!==e)throw Error(s(188))}function D(e){var t=e.alternate;if(!t){if(null===(t=S(e)))throw Error(s(188));return t!==e?null:e}for(var i=e,a=t;;){var n=i.return;if(null===n)break;var o=n.alternate;if(null===o){if(null!==(a=n.return)){i=a;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===i)return k(n),e;if(o===a)return k(n),t;o=o.sibling}throw Error(s(188))}if(i.return!==a.return)i=n,a=o;else{for(var r=!1,l=n.child;l;){if(l===i){r=!0,i=n,a=o;break}if(l===a){r=!0,a=n,i=o;break}l=l.sibling}if(!r){for(l=o.child;l;){if(l===i){r=!0,i=o,a=n;break}if(l===a){r=!0,a=o,i=n;break}l=l.sibling}if(!r)throw Error(s(189))}}if(i.alternate!==a)throw Error(s(190))}if(3!==i.tag)throw Error(s(188));return i.stateNode.current===i?e:t}function R(e){if(!(e=D(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function O(e,t){for(var i=e.alternate;null!==t;){if(t===e||t===i)return!0;t=t.return}return!1}var M,N=e.getPublicInstance,L=e.getRootHostContext,W=e.getChildHostContext,B=e.prepareForCommit,V=e.resetAfterCommit,H=e.createInstance,F=e.appendInitialChild,G=e.finalizeInitialChildren,U=e.prepareUpdate,z=e.shouldSetTextContent,j=e.createTextInstance,$=e.scheduleTimeout,Y=e.cancelTimeout,q=e.noTimeout,K=e.isPrimaryRenderer,Z=e.supportsMutation,X=e.supportsPersistence,J=e.supportsHydration,Q=e.getInstanceFromNode,ee=e.makeOpaqueHydratingObject,te=e.makeClientId,ie=e.beforeActiveInstanceBlur,ae=e.afterActiveInstanceBlur,ne=e.preparePortalMount,oe=e.supportsTestSelectors,re=e.findFiberRoot,se=e.getBoundingRect,le=e.getTextContent,de=e.isHiddenSubtree,ce=e.matchAccessibilityRole,pe=e.setFocusIfFocusable,ue=e.setupIntersectionObserver,he=e.appendChild,ge=e.appendChildToContainer,fe=e.commitTextUpdate,me=e.commitMount,ye=e.commitUpdate,ve=e.insertBefore,_e=e.insertInContainerBefore,Ee=e.removeChild,xe=e.removeChildFromContainer,be=e.resetTextContent,we=e.hideInstance,Te=e.hideTextInstance,Ce=e.unhideInstance,Ae=e.unhideTextInstance,Pe=e.clearContainer,Ie=e.cloneInstance,Se=e.createContainerChildSet,ke=e.appendChildToContainerChildSet,De=e.finalizeContainerChildren,Re=e.replaceContainerChildren,Oe=e.cloneHiddenInstance,Me=e.cloneHiddenTextInstance,Ne=e.canHydrateInstance,Le=e.canHydrateTextInstance,We=e.isSuspenseInstancePending,Be=e.isSuspenseInstanceFallback,Ve=e.getNextHydratableSibling,He=e.getFirstHydratableChild,Fe=e.hydrateInstance,Ge=e.hydrateTextInstance,Ue=e.getNextHydratableInstanceAfterSuspenseInstance,ze=e.commitHydratedContainer,je=e.commitHydratedSuspenseInstance;function $e(e){if(void 0===M)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var Ye=!1;function qe(e,t){if(!e||Ye)return"";Ye=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var a=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){a=e}e.call(t.prototype)}else{try{throw Error()}catch(e){a=e}e()}}catch(e){if(e&&a&&"string"==typeof e.stack){for(var n=e.stack.split("\n"),o=a.stack.split("\n"),r=n.length-1,s=o.length-1;1<=r&&0<=s&&n[r]!==o[s];)s--;for(;1<=r&&0<=s;r--,s--)if(n[r]!==o[s]){if(1!==r||1!==s)do{if(r--,0>--s||n[r]!==o[s])return"\n"+n[r].replace(" at new "," at ")}while(1<=r&&0<=s);break}}}finally{Ye=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?$e(e):""}var Ke=[],Ze=-1;function Xe(e){return{current:e}}function Je(e){0>Ze||(e.current=Ke[Ze],Ke[Ze]=null,Ze--)}function Qe(e,t){Ze++,Ke[Ze]=e.current,e.current=t}var et={},tt=Xe(et),it=Xe(!1),at=et;function nt(e,t){var i=e.type.contextTypes;if(!i)return et;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,o={};for(n in i)o[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ot(e){return null!=(e=e.childContextTypes)}function rt(){Je(it),Je(tt)}function st(e,t,i){if(tt.current!==et)throw Error(s(168));Qe(tt,t),Qe(it,i)}function lt(e,t,i){var a=e.stateNode;if(e=t.childContextTypes,"function"!=typeof a.getChildContext)return i;for(var o in a=a.getChildContext())if(!(o in e))throw Error(s(108,I(t)||"Unknown",o));return n({},i,a)}function dt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||et,at=tt.current,Qe(tt,e),Qe(it,it.current),!0}function ct(e,t,i){var a=e.stateNode;if(!a)throw Error(s(169));i?(e=lt(e,t,at),a.__reactInternalMemoizedMergedChildContext=e,Je(it),Je(tt),Qe(tt,e)):Je(it),Qe(it,i)}var pt=null,ut=null;(0,r.unstable_now)();var ht=0,gt=8;function ft(e){if(0!=(1&e))return gt=15,1;if(0!=(2&e))return gt=14,2;if(0!=(4&e))return gt=13,4;var t=24&e;return 0!==t?(gt=12,t):0!=(32&e)?(gt=11,32):0!==(t=192&e)?(gt=10,t):0!=(256&e)?(gt=9,256):0!==(t=3584&e)?(gt=8,t):0!=(4096&e)?(gt=7,4096):0!==(t=4186112&e)?(gt=6,t):0!==(t=62914560&e)?(gt=5,t):67108864&e?(gt=4,67108864):0!=(134217728&e)?(gt=3,134217728):0!==(t=805306368&e)?(gt=2,t):0!=(1073741824&e)?(gt=1,1073741824):(gt=8,e)}function mt(e,t){var i=e.pendingLanes;if(0===i)return gt=0;var a=0,n=0,o=e.expiredLanes,r=e.suspendedLanes,s=e.pingedLanes;if(0!==o)a=o,n=gt=15;else if(0!==(o=134217727&i)){var l=o&~r;0!==l?(a=ft(l),n=gt):0!==(s&=o)&&(a=ft(s),n=gt)}else 0!==(o=i&~r)?(a=ft(o),n=gt):0!==s&&(a=ft(s),n=gt);if(0===a)return 0;if(a=i&((0>(a=31-bt(a))?0:1<<a)<<1)-1,0!==t&&t!==a&&0==(t&r)){if(ft(t),n<=gt)return t;gt=n}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(i=31-bt(t)),a|=e[i],t&=~n;return a}function yt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=_t(24&~t))?vt(10,t):e;case 10:return 0===(e=_t(192&~t))?vt(8,t):e;case 8:return 0===(e=_t(3584&~t))&&(0===(e=_t(4186112&~t))&&(e=512)),e;case 2:return 0===(t=_t(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function _t(e){return e&-e}function Et(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function xt(e,t,i){e.pendingLanes|=t;var a=t-1;e.suspendedLanes&=a,e.pingedLanes&=a,(e=e.eventTimes)[t=31-bt(t)]=i}var bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(wt(e)/Tt|0)|0},wt=Math.log,Tt=Math.LN2;var Ct=r.unstable_runWithPriority,At=r.unstable_scheduleCallback,Pt=r.unstable_cancelCallback,It=r.unstable_shouldYield,St=r.unstable_requestPaint,kt=r.unstable_now,Dt=r.unstable_getCurrentPriorityLevel,Rt=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,Mt=r.unstable_NormalPriority,Nt=r.unstable_LowPriority,Lt=r.unstable_IdlePriority,Wt={},Bt=void 0!==St?St:function(){},Vt=null,Ht=null,Ft=!1,Gt=kt(),Ut=1e4>Gt?kt:function(){return kt()-Gt};function zt(){switch(Dt()){case Rt:return 99;case Ot:return 98;case Mt:return 97;case Nt:return 96;case Lt:return 95;default:throw Error(s(332))}}function jt(e){switch(e){case 99:return Rt;case 98:return Ot;case 97:return Mt;case 96:return Nt;case 95:return Lt;default:throw Error(s(332))}}function $t(e,t){return e=jt(e),Ct(e,t)}function Yt(e,t,i){return e=jt(e),At(e,t,i)}function qt(){if(null!==Ht){var e=Ht;Ht=null,Pt(e)}Kt()}function Kt(){if(!Ft&&null!==Vt){Ft=!0;var e=0;try{var t=Vt;$t(99,(function(){for(;e<t.length;e++){var i=t[e];do{i=i(!0)}while(null!==i)}})),Vt=null}catch(t){throw null!==Vt&&(Vt=Vt.slice(e+1)),At(Rt,qt),t}finally{Ft=!1}}}var Zt=l.ReactCurrentBatchConfig;var Xt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Jt=Object.prototype.hasOwnProperty;function Qt(e,t){if(Xt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++)if(!Jt.call(t,i[a])||!Xt(e[i[a]],t[i[a]]))return!1;return!0}function ei(e){switch(e.tag){case 5:return $e(e.type);case 16:return $e("Lazy");case 13:return $e("Suspense");case 19:return $e("SuspenseList");case 0:case 2:case 15:return e=qe(e.type,!1);case 11:return e=qe(e.type.render,!1);case 22:return e=qe(e.type._render,!1);case 1:return e=qe(e.type,!0);default:return""}}function ti(e,t){if(e&&e.defaultProps){for(var i in t=n({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var ii=Xe(null),ai=null,ni=null,oi=null;function ri(){oi=ni=ai=null}function si(e,t){e=e.type._context,K?(Qe(ii,e._currentValue),e._currentValue=t):(Qe(ii,e._currentValue2),e._currentValue2=t)}function li(e){var t=ii.current;Je(ii),e=e.type._context,K?e._currentValue=t:e._currentValue2=t}function di(e,t){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)===t){if(null===i||(i.childLanes&t)===t)break;i.childLanes|=t}else e.childLanes|=t,null!==i&&(i.childLanes|=t);e=e.return}}function ci(e,t){ai=e,oi=ni=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Fa=!0),e.firstContext=null)}function pi(e,t){if(oi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(oi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ni){if(null===ai)throw Error(s(308));ni=t,ai.dependencies={lanes:0,firstContext:t,responders:null}}else ni=ni.next=t;return K?e._currentValue:e._currentValue2}var ui=!1;function hi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function gi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mi(e,t){if(null!==(e=e.updateQueue)){var i=(e=e.shared).pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}}function yi(e,t){var i=e.updateQueue,a=e.alternate;if(null!==a&&i===(a=a.updateQueue)){var n=null,o=null;if(null!==(i=i.firstBaseUpdate)){do{var r={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===o?n=o=r:o=o.next=r,i=i.next}while(null!==i);null===o?n=o=t:o=o.next=t}else n=o=t;return i={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:a.shared,effects:a.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function vi(e,t,i,a){var o=e.updateQueue;ui=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var d=l,c=d.next;d.next=null,null===s?r=c:s.next=c,s=d;var p=e.alternate;if(null!==p){var u=(p=p.updateQueue).lastBaseUpdate;u!==s&&(null===u?p.firstBaseUpdate=c:u.next=c,p.lastBaseUpdate=d)}}if(null!==r){for(u=o.baseState,s=0,p=c=d=null;;){l=r.lane;var h=r.eventTime;if((a&l)===l){null!==p&&(p=p.next={eventTime:h,lane:0,tag:r.tag,payload:r.payload,callback:r.callback,next:null});e:{var g=e,f=r;switch(l=t,h=i,f.tag){case 1:if("function"==typeof(g=f.payload)){u=g.call(h,u,l);break e}u=g;break e;case 3:g.flags=-4097&g.flags|64;case 0:if(null==(l="function"==typeof(g=f.payload)?g.call(h,u,l):g))break e;u=n({},u,l);break e;case 2:ui=!0}}null!==r.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[r]:l.push(r))}else h={eventTime:h,lane:l,tag:r.tag,payload:r.payload,callback:r.callback,next:null},null===p?(c=p=h,d=u):p=p.next=h,s|=l;if(null===(r=r.next)){if(null===(l=o.shared.pending))break;r=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===p&&(d=u),o.baseState=d,o.firstBaseUpdate=c,o.lastBaseUpdate=p,uo|=s,e.lanes=s,e.memoizedState=u}}function _i(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(null!==n){if(a.callback=null,a=i,"function"!=typeof n)throw Error(s(191,n));n.call(a)}}}var Ei=(new o.Component).refs;function xi(e,t,i,a){i=null==(i=i(a,t=e.memoizedState))?t:n({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var bi={isMounted:function(e){return!!(e=e._reactInternals)&&S(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Wo(),n=Bo(e),o=fi(a,n);o.payload=t,null!=i&&(o.callback=i),mi(e,o),Vo(e,n,a)},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Wo(),n=Bo(e),o=fi(a,n);o.tag=1,o.payload=t,null!=i&&(o.callback=i),mi(e,o),Vo(e,n,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Wo(),a=Bo(e),n=fi(i,a);n.tag=2,null!=t&&(n.callback=t),mi(e,n),Vo(e,a,i)}};function wi(e,t,i,a,n,o,r){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,o,r):!t.prototype||!t.prototype.isPureReactComponent||(!Qt(i,a)||!Qt(n,o))}function Ti(e,t,i){var a=!1,n=et,o=t.contextType;return"object"==typeof o&&null!==o?o=pi(o):(n=ot(t)?at:tt.current,o=(a=null!=(a=t.contextTypes))?nt(e,n):et),t=new t(i,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=bi,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ci(e,t,i,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&bi.enqueueReplaceState(t,t.state,null)}function Ai(e,t,i,a){var n=e.stateNode;n.props=i,n.state=e.memoizedState,n.refs=Ei,hi(e);var o=t.contextType;"object"==typeof o&&null!==o?n.context=pi(o):(o=ot(t)?at:tt.current,n.context=nt(e,o)),vi(e,i,n,a),n.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(xi(e,t,o,i),n.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof n.getSnapshotBeforeUpdate||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||(t=n.state,"function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&bi.enqueueReplaceState(n,n.state,null),vi(e,i,n,a),n.state=e.memoizedState),"function"==typeof n.componentDidMount&&(e.flags|=4)}var Pi=Array.isArray;function Ii(e,t,i){if(null!==(e=i.ref)&&"function"!=typeof e&&"object"!=typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(s(309));var a=i.stateNode}if(!a)throw Error(s(147,e));var n=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===n?t.ref:((t=function(e){var t=a.refs;t===Ei&&(t=a.refs={}),null===e?delete t[n]:t[n]=e})._stringRef=n,t)}if("string"!=typeof e)throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Si(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ki(e){function t(t,i){if(e){var a=t.lastEffect;null!==a?(a.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i,i.nextEffect=null,i.flags=8}}function i(i,a){if(!e)return null;for(;null!==a;)t(i,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Tr(e,t)).index=0,e.sibling=null,e}function o(t,i,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<i?(t.flags=2,i):a:(t.flags=2,i):i}function r(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,i,a){return null===t||6!==t.tag?((t=Ir(i,e.mode,a)).return=e,t):((t=n(t,i)).return=e,t)}function u(e,t,i,a){return null!==t&&t.elementType===i.type?((a=n(t,i.props)).ref=Ii(e,t,i),a.return=e,a):((a=Cr(i.type,i.key,i.props,null,e.mode,a)).ref=Ii(e,t,i),a.return=e,a)}function h(e,t,i,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Sr(i,e.mode,a)).return=e,t):((t=n(t,i.children||[])).return=e,t)}function g(e,t,i,a,o){return null===t||7!==t.tag?((t=Ar(i,e.mode,a,o)).return=e,t):((t=n(t,i)).return=e,t)}function f(e,t,i){if("string"==typeof t||"number"==typeof t)return(t=Ir(""+t,e.mode,i)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return(i=Cr(t.type,t.key,t.props,null,e.mode,i)).ref=Ii(e,null,t),i.return=e,i;case c:return(t=Sr(t,e.mode,i)).return=e,t}if(Pi(t)||P(t))return(t=Ar(t,e.mode,i,null)).return=e,t;Si(e,t)}return null}function m(e,t,i,a){var n=null!==t?t.key:null;if("string"==typeof i||"number"==typeof i)return null!==n?null:l(e,t,""+i,a);if("object"==typeof i&&null!==i){switch(i.$$typeof){case d:return i.key===n?i.type===p?g(e,t,i.props.children,a,n):u(e,t,i,a):null;case c:return i.key===n?h(e,t,i,a):null}if(Pi(i)||P(i))return null!==n?null:g(e,t,i,a,null);Si(e,i)}return null}function y(e,t,i,a,n){if("string"==typeof a||"number"==typeof a)return l(t,e=e.get(i)||null,""+a,n);if("object"==typeof a&&null!==a){switch(a.$$typeof){case d:return e=e.get(null===a.key?i:a.key)||null,a.type===p?g(t,e,a.props.children,n,a.key):u(t,e,a,n);case c:return h(t,e=e.get(null===a.key?i:a.key)||null,a,n)}if(Pi(a)||P(a))return g(t,e=e.get(i)||null,a,n,null);Si(t,a)}return null}return function(l,u,h,g){var v="object"==typeof h&&null!==h&&h.type===p&&null===h.key;v&&(h=h.props.children);var _="object"==typeof h&&null!==h;if(_)switch(h.$$typeof){case d:e:{for(_=h.key,v=u;null!==v;){if(v.key===_){if(7===v.tag){if(h.type===p){i(l,v.sibling),(u=n(v,h.props.children)).return=l,l=u;break e}}else if(v.elementType===h.type){i(l,v.sibling),(u=n(v,h.props)).ref=Ii(l,v,h),u.return=l,l=u;break e}i(l,v);break}t(l,v),v=v.sibling}h.type===p?((u=Ar(h.props.children,l.mode,g,h.key)).return=l,l=u):((g=Cr(h.type,h.key,h.props,null,l.mode,g)).ref=Ii(l,u,h),g.return=l,l=g)}return r(l);case c:e:{for(v=h.key;null!==u;){if(u.key===v){if(4===u.tag&&u.stateNode.containerInfo===h.containerInfo&&u.stateNode.implementation===h.implementation){i(l,u.sibling),(u=n(u,h.children||[])).return=l,l=u;break e}i(l,u);break}t(l,u),u=u.sibling}(u=Sr(h,l.mode,g)).return=l,l=u}return r(l)}if("string"==typeof h||"number"==typeof h)return h=""+h,null!==u&&6===u.tag?(i(l,u.sibling),(u=n(u,h)).return=l,l=u):(i(l,u),(u=Ir(h,l.mode,g)).return=l,l=u),r(l);if(Pi(h))return function(n,r,s,l){for(var d=null,c=null,p=r,u=r=0,h=null;null!==p&&u<s.length;u++){p.index>u?(h=p,p=null):h=p.sibling;var g=m(n,p,s[u],l);if(null===g){null===p&&(p=h);break}e&&p&&null===g.alternate&&t(n,p),r=o(g,r,u),null===c?d=g:c.sibling=g,c=g,p=h}if(u===s.length)return i(n,p),d;if(null===p){for(;u<s.length;u++)null!==(p=f(n,s[u],l))&&(r=o(p,r,u),null===c?d=p:c.sibling=p,c=p);return d}for(p=a(n,p);u<s.length;u++)null!==(h=y(p,n,u,s[u],l))&&(e&&null!==h.alternate&&p.delete(null===h.key?u:h.key),r=o(h,r,u),null===c?d=h:c.sibling=h,c=h);return e&&p.forEach((function(e){return t(n,e)})),d}(l,u,h,g);if(P(h))return function(n,r,l,d){var c=P(l);if("function"!=typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var p=c=null,u=r,h=r=0,g=null,v=l.next();null!==u&&!v.done;h++,v=l.next()){u.index>h?(g=u,u=null):g=u.sibling;var _=m(n,u,v.value,d);if(null===_){null===u&&(u=g);break}e&&u&&null===_.alternate&&t(n,u),r=o(_,r,h),null===p?c=_:p.sibling=_,p=_,u=g}if(v.done)return i(n,u),c;if(null===u){for(;!v.done;h++,v=l.next())null!==(v=f(n,v.value,d))&&(r=o(v,r,h),null===p?c=v:p.sibling=v,p=v);return c}for(u=a(n,u);!v.done;h++,v=l.next())null!==(v=y(u,n,h,v.value,d))&&(e&&null!==v.alternate&&u.delete(null===v.key?h:v.key),r=o(v,r,h),null===p?c=v:p.sibling=v,p=v);return e&&u.forEach((function(e){return t(n,e)})),c}(l,u,h,g);if(_&&Si(l,h),void 0===h&&!v)switch(l.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,I(l.type)||"Component"))}return i(l,u)}}var Di=ki(!0),Ri=ki(!1),Oi={},Mi=Xe(Oi),Ni=Xe(Oi),Li=Xe(Oi);function Wi(e){if(e===Oi)throw Error(s(174));return e}function Bi(e,t){Qe(Li,t),Qe(Ni,e),Qe(Mi,Oi),e=L(t),Je(Mi),Qe(Mi,e)}function Vi(){Je(Mi),Je(Ni),Je(Li)}function Hi(e){var t=Wi(Li.current),i=Wi(Mi.current);i!==(t=W(i,e.type,t))&&(Qe(Ni,e),Qe(Mi,t))}function Fi(e){Ni.current===e&&(Je(Mi),Je(Ni))}var Gi=Xe(0);function Ui(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||We(i)||Be(i)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zi=null,ji=null,$i=!1;function Yi(e,t){var i=br(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=t,i.return=e,i.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i}function qi(e,t){switch(e.tag){case 5:return null!==(t=Ne(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Le(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function Ki(e){if($i){var t=ji;if(t){var i=t;if(!qi(e,t)){if(!(t=Ve(i))||!qi(e,t))return e.flags=-1025&e.flags|2,$i=!1,void(zi=e);Yi(zi,i)}zi=e,ji=He(t)}else e.flags=-1025&e.flags|2,$i=!1,zi=e}}function Zi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zi=e}function Xi(e){if(!J||e!==zi)return!1;if(!$i)return Zi(e),$i=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!z(t,e.memoizedProps))for(t=ji;t;)Yi(e,t),t=Ve(t);if(Zi(e),13===e.tag){if(!J)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ji=Ue(e)}else ji=zi?Ve(e.stateNode):null;return!0}function Ji(){J&&(ji=zi=null,$i=!1)}var Qi=[];function ea(){for(var e=0;e<Qi.length;e++){var t=Qi[e];K?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Qi.length=0}var ta=l.ReactCurrentDispatcher,ia=l.ReactCurrentBatchConfig,aa=0,na=null,oa=null,ra=null,sa=!1,la=!1;function da(){throw Error(s(321))}function ca(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Xt(e[i],t[i]))return!1;return!0}function pa(e,t,i,a,n,o){if(aa=o,na=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ta.current=null===e||null===e.memoizedState?Wa:Ba,e=i(a,n),la){o=0;do{if(la=!1,!(25>o))throw Error(s(301));o+=1,ra=oa=null,t.updateQueue=null,ta.current=Va,e=i(a,n)}while(la)}if(ta.current=La,t=null!==oa&&null!==oa.next,aa=0,ra=oa=na=null,sa=!1,t)throw Error(s(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ra?na.memoizedState=ra=e:ra=ra.next=e,ra}function ha(){if(null===oa){var e=na.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===ra?na.memoizedState:ra.next;if(null!==t)ra=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===ra?na.memoizedState=ra=e:ra=ra.next=e}return ra}function ga(e,t){return"function"==typeof t?t(e):t}function fa(e){var t=ha(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var a=oa,n=a.baseQueue,o=i.pending;if(null!==o){if(null!==n){var r=n.next;n.next=o.next,o.next=r}a.baseQueue=n=o,i.pending=null}if(null!==n){n=n.next,a=a.baseState;var l=r=o=null,d=n;do{var c=d.lane;if((aa&c)===c)null!==l&&(l=l.next={lane:0,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null}),a=d.eagerReducer===e?d.eagerState:e(a,d.action);else{var p={lane:c,action:d.action,eagerReducer:d.eagerReducer,eagerState:d.eagerState,next:null};null===l?(r=l=p,o=a):l=l.next=p,na.lanes|=c,uo|=c}d=d.next}while(null!==d&&d!==n);null===l?o=a:l.next=r,Xt(a,t.memoizedState)||(Fa=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=l,i.lastRenderedState=a}return[t.memoizedState,i.dispatch]}function ma(e){var t=ha(),i=t.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=e;var a=i.dispatch,n=i.pending,o=t.memoizedState;if(null!==n){i.pending=null;var r=n=n.next;do{o=e(o,r.action),r=r.next}while(r!==n);Xt(o,t.memoizedState)||(Fa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),i.lastRenderedState=o}return[o,a]}function ya(e,t,i){var a=t._getVersion;a=a(t._source);var n=K?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==n?e=n===a:(e=e.mutableReadLanes,(e=(aa&e)===e)&&(K?t._workInProgressVersionPrimary=a:t._workInProgressVersionSecondary=a,Qi.push(t))),e)return i(t._source);throw Qi.push(t),Error(s(350))}function va(e,t,i,a){var n=ao;if(null===n)throw Error(s(349));var o=t._getVersion,r=o(t._source),l=ta.current,d=l.useState((function(){return ya(n,t,i)})),c=d[1],p=d[0];d=ra;var u=e.memoizedState,h=u.refs,g=h.getSnapshot,f=u.source;u=u.subscribe;var m=na;return e.memoizedState={refs:h,source:t,subscribe:a},l.useEffect((function(){h.getSnapshot=i,h.setSnapshot=c;var e=o(t._source);if(!Xt(r,e)){e=i(t._source),Xt(p,e)||(c(e),e=Bo(m),n.mutableReadLanes|=e&n.pendingLanes),e=n.mutableReadLanes,n.entangledLanes|=e;for(var a=n.entanglements,s=e;0<s;){var l=31-bt(s),d=1<<l;a[l]|=e,s&=~d}}}),[i,t,a]),l.useEffect((function(){return a(t._source,(function(){var e=h.getSnapshot,i=h.setSnapshot;try{i(e(t._source));var a=Bo(m);n.mutableReadLanes|=a&n.pendingLanes}catch(e){i((function(){throw e}))}}))}),[t,a]),Xt(g,i)&&Xt(f,t)&&Xt(u,a)||((e={pending:null,dispatch:null,lastRenderedReducer:ga,lastRenderedState:p}).dispatch=c=Na.bind(null,na,e),d.queue=e,d.baseQueue=null,p=ya(n,t,i),d.memoizedState=d.baseState=p),p}function _a(e,t,i){return va(ha(),e,t,i)}function Ea(e){var t=ua();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e}).dispatch=Na.bind(null,na,e),[t.memoizedState,e]}function xa(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},null===(t=na.updateQueue)?(t={lastEffect:null},na.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function ba(e){return e={current:e},ua().memoizedState=e}function wa(){return ha().memoizedState}function Ta(e,t,i,a){var n=ua();na.flags|=e,n.memoizedState=xa(1|t,i,void 0,void 0===a?null:a)}function Ca(e,t,i,a){var n=ha();a=void 0===a?null:a;var o=void 0;if(null!==oa){var r=oa.memoizedState;if(o=r.destroy,null!==a&&ca(a,r.deps))return void xa(t,i,o,a)}na.flags|=e,n.memoizedState=xa(1|t,i,o,a)}function Aa(e,t){return Ta(516,4,e,t)}function Pa(e,t){return Ca(516,4,e,t)}function Ia(e,t){return Ca(4,2,e,t)}function Sa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,i){return i=null!=i?i.concat([e]):null,Ca(4,2,Sa.bind(null,t,e),i)}function Da(){}function Ra(e,t){var i=ha();t=void 0===t?null:t;var a=i.memoizedState;return null!==a&&null!==t&&ca(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Oa(e,t){var i=ha();t=void 0===t?null:t;var a=i.memoizedState;return null!==a&&null!==t&&ca(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Ma(e,t){var i=zt();$t(98>i?98:i,(function(){e(!0)})),$t(97<i?97:i,(function(){var i=ia.transition;ia.transition=1;try{e(!1),t()}finally{ia.transition=i}}))}function Na(e,t,i){var a=Wo(),n=Bo(e),o={lane:n,action:i,eagerReducer:null,eagerState:null,next:null},r=t.pending;if(null===r?o.next=o:(o.next=r.next,r.next=o),t.pending=o,r=e.alternate,e===na||null!==r&&r===na)la=sa=!0;else{if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=r(s,i);if(o.eagerReducer=r,o.eagerState=l,Xt(l,s))return}catch(e){}Vo(e,n,a)}}var La={readContext:pi,useCallback:da,useContext:da,useEffect:da,useImperativeHandle:da,useLayoutEffect:da,useMemo:da,useReducer:da,useRef:da,useState:da,useDebugValue:da,useDeferredValue:da,useTransition:da,useMutableSource:da,useOpaqueIdentifier:da,unstable_isNewReconciler:!1},Wa={readContext:pi,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:pi,useEffect:Aa,useImperativeHandle:function(e,t,i){return i=null!=i?i.concat([e]):null,Ta(4,2,Sa.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ta(4,2,e,t)},useMemo:function(e,t){var i=ua();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=ua();return t=void 0!==i?i(t):t,a.memoizedState=a.baseState=t,e=(e=a.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Na.bind(null,na,e),[a.memoizedState,e]},useRef:ba,useState:Ea,useDebugValue:Da,useDeferredValue:function(e){var t=Ea(e),i=t[0],a=t[1];return Aa((function(){var t=ia.transition;ia.transition=1;try{a(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){var e=Ea(!1),t=e[0];return ba(e=Ma.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,i){var a=ua();return a.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:i},va(a,e,t,i)},useOpaqueIdentifier:function(){if($i){var e=!1,t=ee((function(){throw e||(e=!0,i(te())),Error(s(355))})),i=Ea(t)[1];return 0==(2&na.mode)&&(na.flags|=516,xa(5,(function(){i(te())}),void 0,null)),t}return Ea(t=te()),t},unstable_isNewReconciler:!1},Ba={readContext:pi,useCallback:Ra,useContext:pi,useEffect:Pa,useImperativeHandle:ka,useLayoutEffect:Ia,useMemo:Oa,useReducer:fa,useRef:wa,useState:function(){return fa(ga)},useDebugValue:Da,useDeferredValue:function(e){var t=fa(ga),i=t[0],a=t[1];return Pa((function(){var t=ia.transition;ia.transition=1;try{a(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){var e=fa(ga)[0];return[wa().current,e]},useMutableSource:_a,useOpaqueIdentifier:function(){return fa(ga)[0]},unstable_isNewReconciler:!1},Va={readContext:pi,useCallback:Ra,useContext:pi,useEffect:Pa,useImperativeHandle:ka,useLayoutEffect:Ia,useMemo:Oa,useReducer:ma,useRef:wa,useState:function(){return ma(ga)},useDebugValue:Da,useDeferredValue:function(e){var t=ma(ga),i=t[0],a=t[1];return Pa((function(){var t=ia.transition;ia.transition=1;try{a(e)}finally{ia.transition=t}}),[e]),i},useTransition:function(){var e=ma(ga)[0];return[wa().current,e]},useMutableSource:_a,useOpaqueIdentifier:function(){return ma(ga)[0]},unstable_isNewReconciler:!1},Ha=l.ReactCurrentOwner,Fa=!1;function Ga(e,t,i,a){t.child=null===e?Ri(t,null,i,a):Di(t,e.child,i,a)}function Ua(e,t,i,a,n){i=i.render;var o=t.ref;return ci(t,n),a=pa(e,t,i,a,o,n),null===e||Fa?(t.flags|=1,Ga(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~n,pn(e,t,n))}function za(e,t,i,a,n,o){if(null===e){var r=i.type;return"function"!=typeof r||wr(r)||void 0!==r.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Cr(i.type,null,a,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,ja(e,t,r,a,n,o))}return r=e.child,0==(n&o)&&(n=r.memoizedProps,(i=null!==(i=i.compare)?i:Qt)(n,a)&&e.ref===t.ref)?pn(e,t,o):(t.flags|=1,(e=Tr(r,a)).ref=t.ref,e.return=t,t.child=e)}function ja(e,t,i,a,n,o){if(null!==e&&Qt(e.memoizedProps,a)&&e.ref===t.ref){if(Fa=!1,0==(o&n))return t.lanes=e.lanes,pn(e,t,o);0!=(16384&e.flags)&&(Fa=!0)}return qa(e,t,i,a,o)}function $a(e,t,i){var a=t.pendingProps,n=a.children,o=null!==e?e.memoizedState:null;if("hidden"===a.mode||"unstable-defer-without-hiding"===a.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Yo(t,i);else{if(0==(1073741824&i))return e=null!==o?o.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Yo(t,e),null;t.memoizedState={baseLanes:0},Yo(t,null!==o?o.baseLanes:i)}else null!==o?(a=o.baseLanes|i,t.memoizedState=null):a=i,Yo(t,a);return Ga(e,t,n,i),t.child}function Ya(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=128)}function qa(e,t,i,a,n){var o=ot(i)?at:tt.current;return o=nt(t,o),ci(t,n),i=pa(e,t,i,a,o,n),null===e||Fa?(t.flags|=1,Ga(e,t,i,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~n,pn(e,t,n))}function Ka(e,t,i,a,n){if(ot(i)){var o=!0;dt(t)}else o=!1;if(ci(t,n),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ti(t,i,a),Ai(t,i,a,n),a=!0;else if(null===e){var r=t.stateNode,s=t.memoizedProps;r.props=s;var l=r.context,d=i.contextType;"object"==typeof d&&null!==d?d=pi(d):d=nt(t,d=ot(i)?at:tt.current);var c=i.getDerivedStateFromProps,p="function"==typeof c||"function"==typeof r.getSnapshotBeforeUpdate;p||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(s!==a||l!==d)&&Ci(t,r,a,d),ui=!1;var u=t.memoizedState;r.state=u,vi(t,a,r,n),l=t.memoizedState,s!==a||u!==l||it.current||ui?("function"==typeof c&&(xi(t,i,c,a),l=t.memoizedState),(s=ui||wi(t,i,s,a,u,l,d))?(p||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||("function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"==typeof r.componentDidMount&&(t.flags|=4)):("function"==typeof r.componentDidMount&&(t.flags|=4),t.memoizedProps=a,t.memoizedState=l),r.props=a,r.state=l,r.context=d,a=s):("function"==typeof r.componentDidMount&&(t.flags|=4),a=!1)}else{r=t.stateNode,gi(e,t),s=t.memoizedProps,d=t.type===t.elementType?s:ti(t.type,s),r.props=d,p=t.pendingProps,u=r.context,"object"==typeof(l=i.contextType)&&null!==l?l=pi(l):l=nt(t,l=ot(i)?at:tt.current);var h=i.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(s!==p||u!==l)&&Ci(t,r,a,l),ui=!1,u=t.memoizedState,r.state=u,vi(t,a,r,n);var g=t.memoizedState;s!==p||u!==g||it.current||ui?("function"==typeof h&&(xi(t,i,h,a),g=t.memoizedState),(d=ui||wi(t,i,d,a,u,g,l))?(c||"function"!=typeof r.UNSAFE_componentWillUpdate&&"function"!=typeof r.componentWillUpdate||("function"==typeof r.componentWillUpdate&&r.componentWillUpdate(a,g,l),"function"==typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,g,l)),"function"==typeof r.componentDidUpdate&&(t.flags|=4),"function"==typeof r.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof r.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!=typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.flags|=256),t.memoizedProps=a,t.memoizedState=g),r.props=a,r.state=g,r.context=l,a=d):("function"!=typeof r.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!=typeof r.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.flags|=256),a=!1)}return Za(e,t,i,a,o,n)}function Za(e,t,i,a,n,o){Ya(e,t);var r=0!=(64&t.flags);if(!a&&!r)return n&&ct(t,i,!1),pn(e,t,o);a=t.stateNode,Ha.current=t;var s=r&&"function"!=typeof i.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&r?(t.child=Di(t,e.child,null,o),t.child=Di(t,null,s,o)):Ga(e,t,s,o),t.memoizedState=a.state,n&&ct(t,i,!0),t.child}function Xa(e){var t=e.stateNode;t.pendingContext?st(0,t.pendingContext,t.pendingContext!==t.context):t.context&&st(0,t.context,!1),Bi(e,t.containerInfo)}var Ja,Qa,en,tn,an={dehydrated:null,retryLane:0};function nn(e,t,i){var a,n=t.pendingProps,o=Gi.current,r=!1;return(a=0!=(64&t.flags))||(a=(null===e||null!==e.memoizedState)&&0!=(2&o)),a?(r=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===n.fallback||!0===n.unstable_avoidThisFallback||(o|=1),Qe(Gi,1&o),null===e?(void 0!==n.fallback&&Ki(t),e=n.children,o=n.fallback,r?(e=on(t,e,o,i),t.child.memoizedState={baseLanes:i},t.memoizedState=an,e):"number"==typeof n.unstable_expectedLoadTime?(e=on(t,e,o,i),t.child.memoizedState={baseLanes:i},t.memoizedState=an,t.lanes=33554432,e):((i=Pr({mode:"visible",children:e},t.mode,i,null)).return=t,t.child=i)):(e.memoizedState,r?(n=sn(e,t,n.children,n.fallback,i),r=t.child,o=e.child.memoizedState,r.memoizedState=null===o?{baseLanes:i}:{baseLanes:o.baseLanes|i},r.childLanes=e.childLanes&~i,t.memoizedState=an,n):(i=rn(e,t,n.children,i),t.memoizedState=null,i))}function on(e,t,i,a){var n=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&n)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Pr(t,n,0,null),i=Ar(i,n,a,null),o.return=e,i.return=e,o.sibling=i,e.child=o,i}function rn(e,t,i,a){var n=e.child;return e=n.sibling,i=Tr(n,{mode:"visible",children:i}),0==(2&t.mode)&&(i.lanes=a),i.return=t,i.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=i}function sn(e,t,i,a,n){var o=t.mode,r=e.child;e=r.sibling;var s={mode:"hidden",children:i};return 0==(2&o)&&t.child!==r?((i=t.child).childLanes=0,i.pendingProps=s,null!==(r=i.lastEffect)?(t.firstEffect=i.firstEffect,t.lastEffect=r,r.nextEffect=null):t.firstEffect=t.lastEffect=null):i=Tr(r,s),null!==e?a=Tr(e,a):(a=Ar(a,o,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,a}function ln(e,t){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),di(e.return,t)}function dn(e,t,i,a,n,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:n,lastEffect:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=i,r.tailMode=n,r.lastEffect=o)}function cn(e,t,i){var a=t.pendingProps,n=a.revealOrder,o=a.tail;if(Ga(e,t,a.children,i),0!=(2&(a=Gi.current)))a=1&a|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ln(e,i);else if(19===e.tag)ln(e,i);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Qe(Gi,a),0==(2&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(i=t.child,n=null;null!==i;)null!==(e=i.alternate)&&null===Ui(e)&&(n=i),i=i.sibling;null===(i=n)?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),dn(t,!1,n,i,o,t.lastEffect);break;case"backwards":for(i=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===Ui(e)){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}dn(t,!0,i,null,o,t.lastEffect);break;case"together":dn(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function pn(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),uo|=t.lanes,0!=(i&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(i=Tr(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Tr(e,e.pendingProps)).return=t;i.sibling=null}return t.child}return null}function un(e){e.flags|=4}if(Z)Ja=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)F(e,i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Qa=function(){},en=function(e,t,i,a,n){if((e=e.memoizedProps)!==a){var o=t.stateNode,r=Wi(Mi.current);i=U(o,i,e,a,n,r),(t.updateQueue=i)&&un(t)}},tn=function(e,t,i,a){i!==a&&un(t)};else if(X){Ja=function(e,t,i,a){for(var n=t.child;null!==n;){if(5===n.tag){var o=n.stateNode;i&&a&&(o=Oe(o,n.type,n.memoizedProps,n)),F(e,o)}else if(6===n.tag)o=n.stateNode,i&&a&&(o=Me(o,n.memoizedProps,n)),F(e,o);else if(4!==n.tag){if(13===n.tag&&0!=(4&n.flags)&&(o=null!==n.memoizedState)){var r=n.child;if(null!==r&&(null!==r.child&&(r.child.return=r,Ja(e,r,!0,o)),null!==(o=r.sibling))){o.return=n,n=o;continue}}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};var hn=function(e,t,i,a){for(var n=t.child;null!==n;){if(5===n.tag){var o=n.stateNode;i&&a&&(o=Oe(o,n.type,n.memoizedProps,n)),ke(e,o)}else if(6===n.tag)o=n.stateNode,i&&a&&(o=Me(o,n.memoizedProps,n)),ke(e,o);else if(4!==n.tag){if(13===n.tag&&0!=(4&n.flags)&&(o=null!==n.memoizedState)){var r=n.child;if(null!==r&&(null!==r.child&&(r.child.return=r,hn(e,r,!0,o)),null!==(o=r.sibling))){o.return=n,n=o;continue}}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qa=function(e){var t=e.stateNode;if(null!==e.firstEffect){var i=t.containerInfo,a=Se(i);hn(a,e,!1,!1),t.pendingChildren=a,un(e),De(i,a)}},en=function(e,t,i,a,n){var o=e.stateNode,r=e.memoizedProps;if((e=null===t.firstEffect)&&r===a)t.stateNode=o;else{var s=t.stateNode,l=Wi(Mi.current),d=null;r!==a&&(d=U(s,i,r,a,n,l)),e&&null===d?t.stateNode=o:(o=Ie(o,d,i,r,a,t,e,s),G(o,i,a,n,l)&&un(t),t.stateNode=o,e?un(t):Ja(o,t,!1,!1))}},tn=function(e,t,i,a){i!==a?(e=Wi(Li.current),i=Wi(Mi.current),t.stateNode=j(a,e,i,t),un(t)):t.stateNode=e.stateNode}}else Qa=function(){},en=function(){},tn=function(){};function gn(e,t){if(!$i)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;null!==i;)null!==i.alternate&&(a=i),i=i.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function fn(e,t,i){var a=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return ot(t.type)&&rt(),null;case 3:return Vi(),Je(it),Je(tt),ea(),(a=t.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(Xi(t)?un(t):a.hydrate||(t.flags|=256)),Qa(t),null;case 5:Fi(t);var n=Wi(Li.current);if(i=t.type,null!==e&&null!=t.stateNode)en(e,t,i,a,n),e.ref!==t.ref&&(t.flags|=128);else{if(!a){if(null===t.stateNode)throw Error(s(166));return null}if(e=Wi(Mi.current),Xi(t)){if(!J)throw Error(s(175));e=Fe(t.stateNode,t.type,t.memoizedProps,n,e,t),t.updateQueue=e,null!==e&&un(t)}else{var o=H(i,a,n,e,t);Ja(o,t,!1,!1),t.stateNode=o,G(o,i,a,n,e)&&un(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)tn(e,t,e.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(s(166));if(e=Wi(Li.current),n=Wi(Mi.current),Xi(t)){if(!J)throw Error(s(176));Ge(t.stateNode,t.memoizedProps,t)&&un(t)}else t.stateNode=j(a,e,n,t)}return null;case 13:return Je(Gi),a=t.memoizedState,0!=(64&t.flags)?(t.lanes=i,t):(a=null!==a,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Xi(t):n=null!==e.memoizedState,a&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Gi.current)?0===lo&&(lo=3):(0!==lo&&3!==lo||(lo=4),null===ao||0==(134217727&uo)&&0==(134217727&ho)||Uo(ao,oo))),X&&a&&(t.flags|=4),Z&&(a||n)&&(t.flags|=4),null);case 4:return Vi(),Qa(t),null===e&&ne(t.stateNode.containerInfo),null;case 10:return li(t),null;case 19:if(Je(Gi),null===(a=t.memoizedState))return null;if(n=0!=(64&t.flags),null===(o=a.rendering))if(n)gn(a,!1);else{if(0!==lo||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(o=Ui(e))){for(t.flags|=64,gn(a,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===a.lastEffect&&(t.firstEffect=null),t.lastEffect=a.lastEffect,e=i,a=t.child;null!==a;)i=e,(n=a).flags&=2,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,null===(o=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),a=a.sibling;return Qe(Gi,1&Gi.current|2),t.child}e=e.sibling}null!==a.tail&&Ut()>yo&&(t.flags|=64,n=!0,gn(a,!1),t.lanes=33554432)}else{if(!n)if(null!==(e=Ui(o))){if(t.flags|=64,n=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),gn(a,!0),null===a.tail&&"hidden"===a.tailMode&&!o.alternate&&!$i)return null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null),null}else 2*Ut()-a.renderingStartTime>yo&&1073741824!==i&&(t.flags|=64,n=!0,gn(a,!1),t.lanes=33554432);a.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=a.last)?e.sibling=o:t.child=o,a.last=o)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.lastEffect=t.lastEffect,a.renderingStartTime=Ut(),e.sibling=null,t=Gi.current,Qe(Gi,n?1&t|2:1&t),e):null;case 23:case 24:return qo(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==a.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function mn(e){switch(e.tag){case 1:ot(e.type)&&rt();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Vi(),Je(it),Je(tt),ea(),0!=(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Fi(e),null;case 13:return Je(Gi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Je(Gi),null;case 4:return Vi(),null;case 10:return li(e),null;case 23:case 24:return qo(),null;default:return null}}function yn(e,t){try{var i="",a=t;do{i+=ei(a),a=a.return}while(a);var n=i}catch(e){n="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:n}}function vn(e,t){try{i.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var _n="function"==typeof WeakMap?WeakMap:Map;function En(e,t,i){(i=fi(-1,i)).tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){xo||(xo=!0,bo=a),vn(0,t)},i}function xn(e,t,i){(i=fi(-1,i)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var n=t.value;i.payload=function(){return vn(0,t),a(n)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(i.callback=function(){"function"!=typeof a&&(null===wo?wo=new Set([this]):wo.add(this),vn(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}var bn="function"==typeof WeakSet?WeakSet:Set;function wn(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){pr(e,t)}else t.current=null}function Tn(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var i=e.memoizedProps,a=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?i:ti(t.type,i),a),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(Z&&256&t.flags&&Pe(t.stateNode.containerInfo))}throw Error(s(163))}function Cn(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&a()}i=i.next}while(i!==t)}}function An(e,t,i){switch(i.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=i.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var a=e.create;e.destroy=a()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=i.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var n=e;a=n.next,0!=(4&(n=n.tag))&&0!=(1&n)&&(lr(i,e),sr(i,e)),e=a}while(e!==t)}return;case 1:return e=i.stateNode,4&i.flags&&(null===t?e.componentDidMount():(a=i.elementType===i.type?t.memoizedProps:ti(i.type,t.memoizedProps),e.componentDidUpdate(a,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=i.updateQueue)&&_i(i,t,e));case 3:if(null!==(t=i.updateQueue)){if(e=null,null!==i.child)switch(i.child.tag){case 5:e=N(i.child.stateNode);break;case 1:e=i.child.stateNode}_i(i,t,e)}return;case 5:return e=i.stateNode,void(null===t&&4&i.flags&&me(e,i.type,i.memoizedProps,i));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(J&&null===i.memoizedState&&(i=i.alternate,null!==i&&(i=i.memoizedState,null!==i&&(i=i.dehydrated,null!==i&&je(i)))))}throw Error(s(163))}function Pn(e,t){if(Z)for(var i=e;;){if(5===i.tag){var a=i.stateNode;t?we(a):Ce(i.stateNode,i.memoizedProps)}else if(6===i.tag)a=i.stateNode,t?Te(a):Ae(a,i.memoizedProps);else if((23!==i.tag&&24!==i.tag||null===i.memoizedState||i===e)&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function In(e,t){if(ut&&"function"==typeof ut.onCommitFiberUnmount)try{ut.onCommitFiberUnmount(pt,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e=e.next;do{var a=i,n=a.destroy;if(a=a.tag,void 0!==n)if(0!=(4&a))lr(t,i);else{a=t;try{n()}catch(e){pr(a,e)}}i=i.next}while(i!==e)}break;case 1:if(wn(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){pr(t,e)}break;case 5:wn(t);break;case 4:Z?Nn(e,t):X&&X&&(t=t.stateNode.containerInfo,e=Se(t),Re(t,e))}}function Sn(e,t){for(var i=t;;)if(In(e,i),null===i.child||Z&&4===i.tag){if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}else i.child.return=i,i=i.child}function kn(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Dn(e){return 5===e.tag||3===e.tag||4===e.tag}function Rn(e){if(Z){e:{for(var t=e.return;null!==t;){if(Dn(t))break e;t=t.return}throw Error(s(160))}var i=t;switch(t=i.stateNode,i.tag){case 5:var a=!1;break;case 3:case 4:t=t.containerInfo,a=!0;break;default:throw Error(s(161))}16&i.flags&&(be(t),i.flags&=-17);e:t:for(i=e;;){for(;null===i.sibling;){if(null===i.return||Dn(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.flags)continue t;if(null===i.child||4===i.tag)continue t;i.child.return=i,i=i.child}if(!(2&i.flags)){i=i.stateNode;break e}}a?On(e,i,t):Mn(e,i,t)}}function On(e,t,i){var a=e.tag,n=5===a||6===a;if(n)e=n?e.stateNode:e.stateNode.instance,t?_e(i,e,t):ge(i,e);else if(4!==a&&null!==(e=e.child))for(On(e,t,i),e=e.sibling;null!==e;)On(e,t,i),e=e.sibling}function Mn(e,t,i){var a=e.tag,n=5===a||6===a;if(n)e=n?e.stateNode:e.stateNode.instance,t?ve(i,e,t):he(i,e);else if(4!==a&&null!==(e=e.child))for(Mn(e,t,i),e=e.sibling;null!==e;)Mn(e,t,i),e=e.sibling}function Nn(e,t){for(var i,a,n=t,o=!1;;){if(!o){o=n.return;e:for(;;){if(null===o)throw Error(s(160));switch(i=o.stateNode,o.tag){case 5:a=!1;break e;case 3:case 4:i=i.containerInfo,a=!0;break e}o=o.return}o=!0}if(5===n.tag||6===n.tag)Sn(e,n),a?xe(i,n.stateNode):Ee(i,n.stateNode);else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,a=!0,n.child.return=n,n=n.child;continue}}else if(In(e,n),null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;4===(n=n.return).tag&&(o=!1)}n.sibling.return=n.return,n=n.sibling}}function Ln(e,t){if(Z){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Cn(3,t);case 1:case 12:case 17:return;case 5:var i=t.stateNode;if(null!=i){var a=t.memoizedProps;e=null!==e?e.memoizedProps:a;var n=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&ye(i,o,n,e,a,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return i=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:i,i);case 3:return void(J&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,ze(t.containerInfo))));case 13:return Wn(t),void Bn(t);case 19:return void Bn(t);case 23:case 24:return void Pn(t,null!==t.memoizedState)}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Cn(3,t);case 12:case 23:case 24:return;case 13:return Wn(t),void Bn(t);case 19:return void Bn(t);case 3:J&&((i=t.stateNode).hydrate&&(i.hydrate=!1,ze(i.containerInfo)))}e:if(X){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,Re(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function Wn(e){null!==e.memoizedState&&(mo=Ut(),Z&&Pn(e.child,!0))}function Bn(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new bn),t.forEach((function(t){var a=hr.bind(null,e,t);i.has(t)||(i.add(t),t.then(a,a))}))}}function Vn(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Hn=0,Fn=1,Gn=2,Un=3,zn=4;if("function"==typeof Symbol&&Symbol.for){var jn=Symbol.for;Hn=jn("selector.component"),Fn=jn("selector.has_pseudo_class"),Gn=jn("selector.role"),Un=jn("selector.test_id"),zn=jn("selector.text")}function $n(e){var t=Q(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(s(364));return t}if(null===(e=re(e)))throw Error(s(362));return e.stateNode.current}function Yn(e,t){switch(t.$$typeof){case Hn:if(e.type===t.value)return!0;break;case Fn:e:{t=t.value,e=[e,0];for(var i=0;i<e.length;){var a=e[i++],n=e[i++],o=t[n];if(5!==a.tag||!de(a)){for(;null!=o&&Yn(a,o);)o=t[++n];if(n===t.length){t=!0;break e}for(a=a.child;null!==a;)e.push(a,n),a=a.sibling}}t=!1}return t;case Gn:if(5===e.tag&&ce(e.stateNode,t.value))return!0;break;case zn:if((5===e.tag||6===e.tag)&&null!==(e=le(e))&&0<=e.indexOf(t.value))return!0;break;case Un:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365,t))}return!1}function qn(e){switch(e.$$typeof){case Hn:return"<"+(I(e.value)||"Unknown")+">";case Fn:return":has("+(qn(e)||"")+")";case Gn:return'[role="'+e.value+'"]';case zn:return'"'+e.value+'"';case Un:return'[data-testname="'+e.value+'"]';default:throw Error(s(365,e))}}function Kn(e,t){var i=[];e=[e,0];for(var a=0;a<e.length;){var n=e[a++],o=e[a++],r=t[o];if(5!==n.tag||!de(n)){for(;null!=r&&Yn(n,r);)r=t[++o];if(o===t.length)i.push(n);else for(n=n.child;null!==n;)e.push(n,o),n=n.sibling}}return i}function Zn(e,t){if(!oe)throw Error(s(363));e=Kn(e=$n(e),t),t=[],e=Array.from(e);for(var i=0;i<e.length;){var a=e[i++];if(5===a.tag)de(a)||t.push(a.stateNode);else for(a=a.child;null!==a;)e.push(a),a=a.sibling}return t}var Xn=null;var Jn=Math.ceil,Qn=l.ReactCurrentDispatcher,eo=l.ReactCurrentOwner,to=l.IsSomeRendererActing,io=0,ao=null,no=null,oo=0,ro=0,so=Xe(0),lo=0,co=null,po=0,uo=0,ho=0,go=0,fo=null,mo=0,yo=1/0;function vo(){yo=Ut()+500}var _o,Eo=null,xo=!1,bo=null,wo=null,To=!1,Co=null,Ao=90,Po=[],Io=[],So=null,ko=0,Do=null,Ro=-1,Oo=0,Mo=0,No=null,Lo=!1;function Wo(){return 0!=(48&io)?Ut():-1!==Ro?Ro:Ro=Ut()}function Bo(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===zt()?1:2;if(0===Oo&&(Oo=po),0!==Zt.transition){0!==Mo&&(Mo=null!==fo?fo.pendingLanes:0),e=Oo;var t=4186112&~Mo;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zt(),0!=(4&io)&&98===e?e=vt(12,Oo):e=vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Oo),e}function Vo(e,t,i){if(50<ko)throw ko=0,Do=null,Error(s(185));if(null===(e=Ho(e,t)))return null;xt(e,t,i),e===ao&&(ho|=t,4===lo&&Uo(e,oo));var a=zt();1===t?0!=(8&io)&&0==(48&io)?zo(e):(Fo(e,i),0===io&&(vo(),qt())):(0==(4&io)||98!==a&&99!==a||(null===So?So=new Set([e]):So.add(e)),Fo(e,i)),fo=e}function Ho(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}function Fo(e,t){for(var i=e.callbackNode,a=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,r=e.pendingLanes;0<r;){var l=31-bt(r),d=1<<l,c=o[l];if(-1===c){if(0==(d&a)||0!=(d&n)){c=t,ft(d);var p=gt;o[l]=10<=p?c+250:6<=p?c+5e3:-1}}else c<=t&&(e.expiredLanes|=d);r&=~d}if(a=mt(e,e===ao?oo:0),t=gt,0===a)null!==i&&(i!==Wt&&Pt(i),e.callbackNode=null,e.callbackPriority=0);else{if(null!==i){if(e.callbackPriority===t)return;i!==Wt&&Pt(i)}15===t?(i=zo.bind(null,e),null===Vt?(Vt=[i],Ht=At(Rt,Kt)):Vt.push(i),i=Wt):14===t?i=Yt(99,zo.bind(null,e)):(i=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),i=Yt(i,Go.bind(null,e))),e.callbackPriority=t,e.callbackNode=i}}function Go(e){if(Ro=-1,Mo=Oo=0,0!=(48&io))throw Error(s(327));var t=e.callbackNode;if(rr()&&e.callbackNode!==t)return null;var i=mt(e,e===ao?oo:0);if(0===i)return null;var a=i,n=io;io|=16;var o=Xo();for(ao===e&&oo===a||(vo(),Ko(e,a));;)try{er();break}catch(t){Zo(e,t)}if(ri(),Qn.current=o,io=n,null!==no?a=0:(ao=null,oo=0,a=lo),0!=(po&ho))Ko(e,0);else if(0!==a){if(2===a&&(io|=64,e.hydrate&&(e.hydrate=!1,Pe(e.containerInfo)),0!==(i=yt(e))&&(a=Jo(e,i))),1===a)throw t=co,Ko(e,0),Uo(e,i),Fo(e,Ut()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=i,a){case 0:case 1:throw Error(s(345));case 2:case 5:ar(e);break;case 3:if(Uo(e,i),(62914560&i)===i&&10<(a=mo+500-Ut())){if(0!==mt(e,0))break;if(((n=e.suspendedLanes)&i)!==i){Wo(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=$(ar.bind(null,e),a);break}ar(e);break;case 4:if(Uo(e,i),(4186112&i)===i)break;for(a=e.eventTimes,n=-1;0<i;){var r=31-bt(i);o=1<<r,(r=a[r])>n&&(n=r),i&=~o}if(i=n,10<(i=(120>(i=Ut()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Jn(i/1960))-i)){e.timeoutHandle=$(ar.bind(null,e),i);break}ar(e);break;default:throw Error(s(329))}}return Fo(e,Ut()),e.callbackNode===t?Go.bind(null,e):null}function Uo(e,t){for(t&=~go,t&=~ho,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-bt(t),a=1<<i;e[i]=-1,t&=~a}}function zo(e){if(0!=(48&io))throw Error(s(327));if(rr(),e===ao&&0!=(e.expiredLanes&oo)){var t=oo,i=Jo(e,t);0!=(po&ho)&&(i=Jo(e,t=mt(e,t)))}else i=Jo(e,t=mt(e,0));if(0!==e.tag&&2===i&&(io|=64,e.hydrate&&(e.hydrate=!1,Pe(e.containerInfo)),0!==(t=yt(e))&&(i=Jo(e,t))),1===i)throw i=co,Ko(e,0),Uo(e,t),Fo(e,Ut()),i;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ar(e),Fo(e,Ut()),null}function jo(e,t){var i=io;io|=1;try{return e(t)}finally{0===(io=i)&&(vo(),qt())}}function $o(e,t){var i=io;if(0!=(48&i))return e(t);io|=1;try{if(e)return $t(99,e.bind(null,t))}finally{io=i,qt()}}function Yo(e,t){Qe(so,ro),ro|=t,po|=t}function qo(){ro=so.current,Je(so)}function Ko(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==q&&(e.timeoutHandle=q,Y(i)),null!==no)for(i=no.return;null!==i;){var a=i;switch(a.tag){case 1:null!=(a=a.type.childContextTypes)&&rt();break;case 3:Vi(),Je(it),Je(tt),ea();break;case 5:Fi(a);break;case 4:Vi();break;case 13:case 19:Je(Gi);break;case 10:li(a);break;case 23:case 24:qo()}i=i.return}ao=e,no=Tr(e.current,null),oo=ro=po=t,lo=0,co=null,go=ho=uo=0}function Zo(e,t){for(;;){var i=no;try{if(ri(),ta.current=La,sa){for(var a=na.memoizedState;null!==a;){var n=a.queue;null!==n&&(n.pending=null),a=a.next}sa=!1}if(aa=0,ra=oa=na=null,la=!1,eo.current=null,null===i||null===i.return){lo=1,co=t,no=null;break}e:{var o=e,r=i.return,s=i,l=t;if(t=oo,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var d=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var p=0!=(1&Gi.current),u=r;do{var h;if(h=13===u.tag){var g=u.memoizedState;if(null!==g)h=null!==g.dehydrated;else{var f=u.memoizedProps;h=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!p)}}if(h){var m=u.updateQueue;if(null===m){var y=new Set;y.add(d),u.updateQueue=y}else m.add(d);if(0==(2&u.mode)){if(u.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=fi(-1,1);v.tag=2,mi(s,v)}s.lanes|=1;break e}l=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new _n,l=new Set,_.set(d,l)):void 0===(l=_.get(d))&&(l=new Set,_.set(d,l)),!l.has(s)){l.add(s);var E=ur.bind(null,o,d,s);d.then(E,E)}u.flags|=4096,u.lanes=t;break e}u=u.return}while(null!==u);l=Error((I(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==lo&&(lo=2),l=yn(l,s),u=r;do{switch(u.tag){case 3:o=l,u.flags|=4096,t&=-t,u.lanes|=t,yi(u,En(0,o,t));break e;case 1:o=l;var x=u.type,b=u.stateNode;if(0==(64&u.flags)&&("function"==typeof x.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===wo||!wo.has(b)))){u.flags|=4096,t&=-t,u.lanes|=t,yi(u,xn(u,o,t));break e}}u=u.return}while(null!==u)}ir(i)}catch(e){t=e,no===i&&null!==i&&(no=i=i.return);continue}break}}function Xo(){var e=Qn.current;return Qn.current=La,null===e?La:e}function Jo(e,t){var i=io;io|=16;var a=Xo();for(ao===e&&oo===t||Ko(e,t);;)try{Qo();break}catch(t){Zo(e,t)}if(ri(),io=i,Qn.current=a,null!==no)throw Error(s(261));return ao=null,oo=0,lo}function Qo(){for(;null!==no;)tr(no)}function er(){for(;null!==no&&!It();)tr(no)}function tr(e){var t=_o(e.alternate,e,ro);e.memoizedProps=e.pendingProps,null===t?ir(e):no=t,eo.current=null}function ir(e){var t=e;do{var i=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(i=fn(i,t,ro)))return void(no=i);if(24!==(i=t).tag&&23!==i.tag||null===i.memoizedState||0!=(1073741824&ro)||0==(4&i.mode)){for(var a=0,n=i.child;null!==n;)a|=n.lanes|n.childLanes,n=n.sibling;i.childLanes=a}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(i=mn(t)))return i.flags&=2047,void(no=i);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(no=t);no=t=e}while(null!==t);0===lo&&(lo=5)}function ar(e){var t=zt();return $t(99,nr.bind(null,e,t)),null}function nr(e,t){do{rr()}while(null!==Co);if(0!=(48&io))throw Error(s(327));var i=e.finishedWork;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null;var a=i.lanes|i.childLanes,n=a,o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;for(var r=e.eventTimes,l=e.expirationTimes;0<o;){var d=31-bt(o),c=1<<d;n[d]=0,r[d]=-1,l[d]=-1,o&=~c}if(null!==So&&0==(24&a)&&So.has(e)&&So.delete(e),e===ao&&(no=ao=null,oo=0),1<i.flags?null!==i.lastEffect?(i.lastEffect.nextEffect=i,a=i.firstEffect):a=i:a=i.firstEffect,null!==a){n=io,io|=32,eo.current=null,No=B(e.containerInfo),Lo=!1,Eo=a;do{try{or()}catch(e){if(null===Eo)throw Error(s(330));pr(Eo,e),Eo=Eo.nextEffect}}while(null!==Eo);No=null,Eo=a;do{try{for(r=e;null!==Eo;){var p=Eo.flags;if(16&p&&Z&&be(Eo.stateNode),128&p){var u=Eo.alternate;if(null!==u){var h=u.ref;null!==h&&("function"==typeof h?h(null):h.current=null)}}switch(1038&p){case 2:Rn(Eo),Eo.flags&=-3;break;case 6:Rn(Eo),Eo.flags&=-3,Ln(Eo.alternate,Eo);break;case 1024:Eo.flags&=-1025;break;case 1028:Eo.flags&=-1025,Ln(Eo.alternate,Eo);break;case 4:Ln(Eo.alternate,Eo);break;case 8:l=r,o=Eo,Z?Nn(l,o):Sn(l,o);var g=o.alternate;kn(o),null!==g&&kn(g)}Eo=Eo.nextEffect}}catch(e){if(null===Eo)throw Error(s(330));pr(Eo,e),Eo=Eo.nextEffect}}while(null!==Eo);Lo&&ae(),V(e.containerInfo),e.current=i,Eo=a;do{try{for(p=e;null!==Eo;){var f=Eo.flags;if(36&f&&An(p,Eo.alternate,Eo),128&f){u=void 0;var m=Eo.ref;if(null!==m){var y=Eo.stateNode;if(5===Eo.tag)u=N(y);else u=y;"function"==typeof m?m(u):m.current=u}}Eo=Eo.nextEffect}}catch(e){if(null===Eo)throw Error(s(330));pr(Eo,e),Eo=Eo.nextEffect}}while(null!==Eo);Eo=null,Bt(),io=n}else e.current=i;if(To)To=!1,Co=e,Ao=t;else for(Eo=a;null!==Eo;)t=Eo.nextEffect,Eo.nextEffect=null,8&Eo.flags&&((f=Eo).sibling=null,f.stateNode=null),Eo=t;if(0===(a=e.pendingLanes)&&(wo=null),1===a?e===Do?ko++:(ko=0,Do=e):ko=0,i=i.stateNode,ut&&"function"==typeof ut.onCommitFiberRoot)try{ut.onCommitFiberRoot(pt,i,void 0,64==(64&i.current.flags))}catch(e){}if(Fo(e,Ut()),xo)throw xo=!1,e=bo,bo=null,e;return 0!=(8&io)||qt(),null}function or(){for(;null!==Eo;){var e=Eo.alternate;Lo||null===No||(0!=(8&Eo.flags)?O(Eo,No)&&(Lo=!0,ie()):13===Eo.tag&&Vn(e,Eo)&&O(Eo,No)&&(Lo=!0,ie()));var t=Eo.flags;0!=(256&t)&&Tn(e,Eo),0==(512&t)||To||(To=!0,Yt(97,(function(){return rr(),null}))),Eo=Eo.nextEffect}}function rr(){if(90!==Ao){var e=97<Ao?97:Ao;return Ao=90,$t(e,dr)}return!1}function sr(e,t){Po.push(t,e),To||(To=!0,Yt(97,(function(){return rr(),null})))}function lr(e,t){Io.push(t,e),To||(To=!0,Yt(97,(function(){return rr(),null})))}function dr(){if(null===Co)return!1;var e=Co;if(Co=null,0!=(48&io))throw Error(s(331));var t=io;io|=32;var i=Io;Io=[];for(var a=0;a<i.length;a+=2){var n=i[a],o=i[a+1],r=n.destroy;if(n.destroy=void 0,"function"==typeof r)try{r()}catch(e){if(null===o)throw Error(s(330));pr(o,e)}}for(i=Po,Po=[],a=0;a<i.length;a+=2){n=i[a],o=i[a+1];try{var l=n.create;n.destroy=l()}catch(e){if(null===o)throw Error(s(330));pr(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return io=t,qt(),!0}function cr(e,t,i){mi(e,t=En(0,t=yn(i,t),1)),t=Wo(),null!==(e=Ho(e,1))&&(xt(e,1,t),Fo(e,t))}function pr(e,t){if(3===e.tag)cr(e,e,t);else for(var i=e.return;null!==i;){if(3===i.tag){cr(i,e,t);break}if(1===i.tag){var a=i.stateNode;if("function"==typeof i.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===wo||!wo.has(a))){var n=xn(i,e=yn(t,e),1);if(mi(i,n),n=Wo(),null!==(i=Ho(i,1)))xt(i,1,n),Fo(i,n);else if("function"==typeof a.componentDidCatch&&(null===wo||!wo.has(a)))try{a.componentDidCatch(t,e)}catch(e){}break}}i=i.return}}function ur(e,t,i){var a=e.pingCache;null!==a&&a.delete(t),t=Wo(),e.pingedLanes|=e.suspendedLanes&i,ao===e&&(oo&i)===i&&(4===lo||3===lo&&(62914560&oo)===oo&&500>Ut()-mo?Ko(e,0):go|=i),Fo(e,t)}function hr(e,t){var i=e.stateNode;null!==i&&i.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===zt()?1:2:(0===Oo&&(Oo=po),0===(t=_t(62914560&~Oo))&&(t=4194304))),i=Wo(),null!==(e=Ho(e,t))&&(xt(e,t,i),Fo(e,i))}_o=function(e,t,i){var a=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||it.current)Fa=!0;else{if(0==(i&a)){switch(Fa=!1,t.tag){case 3:Xa(t),Ji();break;case 5:Hi(t);break;case 1:ot(t.type)&&dt(t);break;case 4:Bi(t,t.stateNode.containerInfo);break;case 10:si(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!=(i&t.child.childLanes)?nn(e,t,i):(Qe(Gi,1&Gi.current),null!==(t=pn(e,t,i))?t.sibling:null);Qe(Gi,1&Gi.current);break;case 19:if(a=0!=(i&t.childLanes),0!=(64&e.flags)){if(a)return cn(e,t,i);t.flags|=64}var n=t.memoizedState;if(null!==n&&(n.rendering=null,n.tail=null,n.lastEffect=null),Qe(Gi,Gi.current),a)break;return null;case 23:case 24:return t.lanes=0,$a(e,t,i)}return pn(e,t,i)}Fa=0!=(16384&e.flags)}else Fa=!1;switch(t.lanes=0,t.tag){case 2:if(a=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=nt(t,tt.current),ci(t,i),n=pa(null,t,a,e,n,i),t.flags|=1,"object"==typeof n&&null!==n&&"function"==typeof n.render&&void 0===n.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(a)){var o=!0;dt(t)}else o=!1;t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,hi(t);var r=a.getDerivedStateFromProps;"function"==typeof r&&xi(t,a,r,e),n.updater=bi,t.stateNode=n,n._reactInternals=t,Ai(t,a,e,i),t=Za(null,t,a,!0,o,i)}else t.tag=0,Ga(null,t,n,i),t=t.child;return t;case 16:n=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"==typeof e)return wr(e)?1:0;if(null!=e){if((e=e.$$typeof)===m)return 11;if(e===_)return 14}return 2}(n),e=ti(n,e),o){case 0:t=qa(null,t,n,e,i);break e;case 1:t=Ka(null,t,n,e,i);break e;case 11:t=Ua(null,t,n,e,i);break e;case 14:t=za(null,t,n,ti(n.type,e),a,i);break e}throw Error(s(306,n,""))}return t;case 0:return a=t.type,n=t.pendingProps,qa(e,t,a,n=t.elementType===a?n:ti(a,n),i);case 1:return a=t.type,n=t.pendingProps,Ka(e,t,a,n=t.elementType===a?n:ti(a,n),i);case 3:if(Xa(t),a=t.updateQueue,null===e||null===a)throw Error(s(282));if(a=t.pendingProps,n=null!==(n=t.memoizedState)?n.element:null,gi(e,t),vi(t,a,null,i),(a=t.memoizedState.element)===n)Ji(),t=pn(e,t,i);else{if((o=(n=t.stateNode).hydrate)&&(J?(ji=He(t.stateNode.containerInfo),zi=t,o=$i=!0):o=!1),o){if(J&&null!=(e=n.mutableSourceEagerHydrationData))for(n=0;n<e.length;n+=2)o=e[n],r=e[n+1],K?o._workInProgressVersionPrimary=r:o._workInProgressVersionSecondary=r,Qi.push(o);for(i=Ri(t,null,a,i),t.child=i;i;)i.flags=-3&i.flags|1024,i=i.sibling}else Ga(e,t,a,i),Ji();t=t.child}return t;case 5:return Hi(t),null===e&&Ki(t),a=t.type,n=t.pendingProps,o=null!==e?e.memoizedProps:null,r=n.children,z(a,n)?r=null:null!==o&&z(a,o)&&(t.flags|=16),Ya(e,t),Ga(e,t,r,i),t.child;case 6:return null===e&&Ki(t),null;case 13:return nn(e,t,i);case 4:return Bi(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Di(t,null,a,i):Ga(e,t,a,i),t.child;case 11:return a=t.type,n=t.pendingProps,Ua(e,t,a,n=t.elementType===a?n:ti(a,n),i);case 7:return Ga(e,t,t.pendingProps,i),t.child;case 8:case 12:return Ga(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,r=t.memoizedProps,si(t,o=n.value),null!==r){var l=r.value;if(0===(o=Xt(l,o)?0:0|("function"==typeof a._calculateChangedBits?a._calculateChangedBits(l,o):1073741823))){if(r.children===n.children&&!it.current){t=pn(e,t,i);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var d=l.dependencies;if(null!==d){r=l.child;for(var c=d.firstContext;null!==c;){if(c.context===a&&0!=(c.observedBits&o)){1===l.tag&&((c=fi(-1,i&-i)).tag=2,mi(l,c)),l.lanes|=i,null!==(c=l.alternate)&&(c.lanes|=i),di(l.return,i),d.lanes|=i;break}c=c.next}}else r=10===l.tag&&l.type===t.type?null:l.child;if(null!==r)r.return=l;else for(r=l;null!==r;){if(r===t){r=null;break}if(null!==(l=r.sibling)){l.return=r.return,r=l;break}r=r.return}l=r}}Ga(e,t,n.children,i),t=t.child}return t;case 9:return n=t.type,a=(o=t.pendingProps).children,ci(t,i),a=a(n=pi(n,o.unstable_observedBits)),t.flags|=1,Ga(e,t,a,i),t.child;case 14:return o=ti(n=t.type,t.pendingProps),za(e,t,n,o=ti(n.type,o),a,i);case 15:return ja(e,t,t.type,t.pendingProps,a,i);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:ti(a,n),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ot(a)?(e=!0,dt(t)):e=!1,ci(t,i),Ti(t,a,n),Ai(t,a,n,i),Za(null,t,a,!0,e,i);case 19:return cn(e,t,i);case 23:case 24:return $a(e,t,i)}throw Error(s(156,t.tag))};var gr={current:!1},fr=r.unstable_flushAllWithoutAsserting,mr="function"==typeof fr;function yr(){if(void 0!==fr)return fr();for(var e=!1;rr();)e=!0;return e}function vr(e){try{yr(),function(e){if(null===Xn)try{var i=("require"+Math.random()).slice(0,7);Xn=(t&&t[i]).call(t,"timers").setImmediate}catch(e){Xn=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Xn(e)}((function(){yr()?vr(e):e()}))}catch(t){e(t)}}var _r=0,Er=!1;function xr(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function br(e,t,i,a){return new xr(e,t,i,a)}function wr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tr(e,t){var i=e.alternate;return null===i?((i=br(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Cr(e,t,i,a,n,o){var r=2;if(a=e,"function"==typeof e)wr(e)&&(r=1);else if("string"==typeof e)r=5;else e:switch(e){case p:return Ar(i.children,n,o,t);case b:r=8,n|=16;break;case u:r=8,n|=1;break;case h:return(e=br(12,i,t,8|n)).elementType=h,e.type=h,e.lanes=o,e;case y:return(e=br(13,i,t,n)).type=y,e.elementType=y,e.lanes=o,e;case v:return(e=br(19,i,t,n)).elementType=v,e.lanes=o,e;case w:return Pr(i,n,o,t);case T:return(e=br(24,i,t,n)).elementType=T,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:r=10;break e;case f:r=9;break e;case m:r=11;break e;case _:r=14;break e;case E:r=16,a=null;break e;case x:r=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=br(r,i,t,n)).elementType=e,t.type=a,t.lanes=o,t}function Ar(e,t,i,a){return(e=br(7,e,a,t)).lanes=i,e}function Pr(e,t,i,a){return(e=br(23,e,a,t)).elementType=w,e.lanes=i,e}function Ir(e,t,i){return(e=br(6,e,null,t)).lanes=i,e}function Sr(e,t,i){return(t=br(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kr(e,t,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=q,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Et(0),this.expirationTimes=Et(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),J&&(this.mutableSourceEagerHydrationData=null)}function Dr(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=R(t))?null:e.stateNode}function Rr(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Or(e,t){Rr(e,t),(e=e.alternate)&&Rr(e,t)}function Mr(e){return null===(e=R(e))?null:e.stateNode}function Nr(){return null}return a.IsThisRendererActing=gr,a.act=function(e){function t(){_r--,to.current=a,gr.current=n}!1===Er&&(Er=!0,i.error("act(...) is not supported in production builds of React, and might not behave as expected.")),_r++;var a=to.current,n=gr.current;to.current=!0,gr.current=!0;try{var o=jo(e)}catch(e){throw t(),e}if(null!==o&&"object"==typeof o&&"function"==typeof o.then)return{then:function(e,i){o.then((function(){1<_r||!0===mr&&!0===a?(t(),e()):vr((function(a){t(),a?i(a):e()}))}),(function(e){t(),i(e)}))}};try{1!==_r||!1!==mr&&!1!==a||yr(),t()}catch(e){throw t(),e}return{then:function(e){e()}}},a.attemptContinuousHydration=function(e){13===e.tag&&(Vo(e,67108864,Wo()),Or(e,67108864))},a.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Wo(),i=Bo(e);Vo(e,i,t),Or(e,i)}},a.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var i=ft(t.pendingLanes);t.expiredLanes|=i&t.pendingLanes,Fo(t,Ut()),0==(48&io)&&(vo(),qt())}break;case 13:var a=Wo();$o((function(){return Vo(e,1,a)})),Or(e,4)}},a.attemptUserBlockingHydration=function(e){13===e.tag&&(Vo(e,4,Wo()),Or(e,4))},a.batchedEventUpdates=function(e,t){var i=io;io|=2;try{return e(t)}finally{0===(io=i)&&(vo(),qt())}},a.batchedUpdates=jo,a.createComponentSelector=function(e){return{$$typeof:Hn,value:e}},a.createContainer=function(e,t,i){return e=new kr(e,t,i),t=br(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,hi(t),e},a.createHasPsuedoClassSelector=function(e){return{$$typeof:Fn,value:e}},a.createPortal=function(e,t,i){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==a?null:""+a,children:e,containerInfo:t,implementation:i}},a.createRoleSelector=function(e){return{$$typeof:Gn,value:e}},a.createTestNameSelector=function(e){return{$$typeof:Un,value:e}},a.createTextSelector=function(e){return{$$typeof:zn,value:e}},a.deferredUpdates=function(e){return $t(97,e)},a.discreteUpdates=function(e,t,i,a,n){var o=io;io|=4;try{return $t(98,e.bind(null,t,i,a,n))}finally{0===(io=o)&&(vo(),qt())}},a.findAllNodes=Zn,a.findBoundingRects=function(e,t){if(!oe)throw Error(s(363));t=Zn(e,t),e=[];for(var i=0;i<t.length;i++)e.push(se(t[i]));for(t=e.length-1;0<t;t--)for(var a=(i=e[t]).x,n=a+i.width,o=i.y,r=o+i.height,l=t-1;0<=l;l--)if(t!==l){var d=e[l],c=d.x,p=c+d.width,u=d.y,h=u+d.height;if(a>=c&&o>=u&&n<=p&&r<=h){e.splice(t,1);break}if(!(a!==c||i.width!==d.width||h<o||u>r)){u>o&&(d.height+=u-o,d.y=o),h<r&&(d.height=r-u),e.splice(t,1);break}if(!(o!==u||i.height!==d.height||p<a||c>n)){c>a&&(d.width+=c-a,d.x=a),p<n&&(d.width=n-c),e.splice(t,1);break}}return e},a.findHostInstance=Dr,a.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=D(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},a.findHostInstanceWithWarning=function(e){return Dr(e)},a.flushControlled=function(e){var t=io;io|=1;try{$t(99,e)}finally{0===(io=t)&&(vo(),qt())}},a.flushDiscreteUpdates=function(){0==(49&io)&&(function(){if(null!==So){var e=So;So=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Fo(e,Ut())}))}qt()}(),rr())},a.flushPassiveEffects=rr,a.flushSync=$o,a.focusWithin=function(e,t){if(!oe)throw Error(s(363));for(t=Kn(e=$n(e),t),t=Array.from(t),e=0;e<t.length;){var i=t[e++];if(!de(i)){if(5===i.tag&&pe(i.stateNode))return!0;for(i=i.child;null!==i;)t.push(i),i=i.sibling}}return!1},a.getCurrentUpdateLanePriority=function(){return ht},a.getFindAllNodesFailureDescription=function(e,t){if(!oe)throw Error(s(363));var i=0,a=[];e=[$n(e),0];for(var n=0;n<e.length;){var o=e[n++],r=e[n++],l=t[r];if((5!==o.tag||!de(o))&&(Yn(o,l)&&(a.push(qn(l)),++r>i&&(i=r)),r<t.length))for(o=o.child;null!==o;)e.push(o,r),o=o.sibling}if(i<t.length){for(e=[];i<t.length;i++)e.push(qn(t[i]));return"findAllNodes was able to match part of the selector:\n  "+a.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},a.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?N(e.child.stateNode):e.child.stateNode:null},a.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Mr,findFiberByHostInstance:e.findFiberByHostInstance||Nr,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{pt=t.inject(e),ut=t}catch(e){}e=!0}return e},a.observeVisibleRects=function(e,t,i,a){if(!oe)throw Error(s(363));e=Zn(e,t);var n=ue(e,i,a).disconnect;return{disconnect:function(){n()}}},a.registerMutableSourceForHydration=function(e,t){var i=t._getVersion;i=i(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i)},a.runWithPriority=function(e,t){var i=ht;try{return ht=e,t()}finally{ht=i}},a.shouldSuspend=function(){return!1},a.unbatchedUpdates=function(e,t){var i=io;io&=-2,io|=8;try{return e(t)}finally{0===(io=i)&&(vo(),qt())}},a.updateContainer=function(e,t,i,a){var n=t.current,o=Wo(),r=Bo(n);e:if(i){t:{if(S(i=i._reactInternals)!==i||1!==i.tag)throw Error(s(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(ot(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===i.tag){var d=i.type;if(ot(d)){i=lt(i,d,l);break e}}i=l}else i=et;return null===t.context?t.context=i:t.pendingContext=i,(t=fi(o,r)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),mi(n,t),Vo(n,r,o),r},a}}}),r_=Zv({"../../node_modules/.pnpm/react-reconciler@0.26.2_react@17.0.2/node_modules/react-reconciler/index.js"(e,t){t.exports=o_()}}),s_=Xv(i_()),l_=Xv(r_()),d_=/([+-]?\d+(?:\.\d+)?)apx/g,c_=/^\s*#[0-9a-fA-F]{3}\s*$/,p_=/^\s*#[0-9a-fA-F]{3,6}\s*$/,u_=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,h_=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,g_=/px$/,f_=(e,t)=>{return!1===t||"number"==typeof e?e:g_.test(e)?Number(e.replace(g_,""))||0:(i=e,Number(i).toString()===i?parseInt(e,10):e);var i},m_=e=>{if("string"==typeof e&&c_.test(e)){var[t,i,a]=e.slice(1);return`#${t}${t}${i}${i}${a}${a}`}return e},y_=(e,t,i,a)=>{if("string"!=typeof i||!h_.test(i))return!1;var[n,o,r,s]=h_.exec(i).slice(1,5).map((e=>Number(e))),l=e=>e.toString(16);return e.color=`#${l(n)}${l(o)}${l(r)}`,null==a.opacity&&(e.opacity=Number(s)),!0},v_=(e,t,i,a,n)=>["padding","margin"].includes(t)?((e,t,i,a)=>{var n=Array.isArray(i)?i:(null==i?"":i).toString().split(/\s+/),o=null,r=null,s=null,l=null;switch(n.length){case 1:[o]=n,[r]=n,[s]=n,[l]=n;break;case 2:[o,r]=n,[s,l]=n;break;case 3:[o,r,s]=n,l=r;break;case 4:[o,l,s,r]=n;break;default:return!0}return Object.assign(e,{[`${t}Top`]:f_(o,a),[`${t}Left`]:f_(r,a),[`${t}Bottom`]:f_(s,a),[`${t}Right`]:f_(l,a)}),!0})(e,t,i,a):"border"===t?((e,t,i,a)=>{var n=(i||"").toString().split(/\s+/);switch(n.length){case 1:return e.borderColor=m_(n[0]),!0;case 2:return e.borderWidth=f_(n[0],a),e.borderColor=m_(n[1]),!0;case 3:return e.borderWidth=f_(n[0],a),e.borderColor=m_(n[2]),!0;default:return!0}})(e,0,i,a):"background"===t&&(p_.test(n[t])?e.backgroundColor=m_(n[t]):(u_.test(n[t])||h_.test(n[t])||n[t].includes("linear-gradient"))&&(e.backgroundColor=n[t]),!0),__=(e={},{removePx:t,splitShorthand:i=!1,convertRgbaColor:a=!1,convertDisplayName:n=!1,convertRotate:o=!0,ignorePositionStatic:r=!1}={})=>{var s={};for(var l of Object.keys(e)){var d=e[l],c=!1;if(a&&"color"===l?c=y_(s,0,d,e):i&&(c=v_(s,l,d,t,e)),n&&"display"===l)s.hidden="none"===e[l];else if(o&&"rotate"===l){var p=e[l];s.rotate="string"==typeof p?Number(p.replace("deg",""))||0:p}else r&&"position"===l&&"static"===e[l]||c||(s[l]=m_(f_(e[l],t)))}return s};((e,t)=>{for(var i in t)Bv(e,i,{get:t[i],enumerable:!0})})({},{ADELEMENTTYPE:()=>Ix,APN:()=>Fx,AccountStatus:()=>cx,AccountType:()=>Ax,ActionType:()=>Cx,AdFreeType:()=>Mx,AdRawType:()=>Lx,AdStrategyType:()=>FE,AdUnitStatus:()=>xx,AddrType:()=>ib,AppServiceType:()=>Wx,BackgroundColor:()=>XE,Carrier:()=>Yx,CarrierType:()=>Hx,CompressJsonEntry:()=>Rx,ConnectionType:()=>$x,ContentTagType:()=>QE,ContentWordColor:()=>ex,CouponTag:()=>tx,CrtSize:()=>zE,DestType:()=>UE,DeviceType:()=>kx,DymamicAdType:()=>Dx,EffectStateType:()=>Ex,EntityVersion:()=>Jx,FeedJumpVisibleOption:()=>qx,FinderRedPacketCoverStatus:()=>Zx,Format:()=>Ux,GRAYTYPE:()=>Sx,ItemType:()=>Tx,MMFinderJumpConfigPrefix:()=>Kx,MaterialContentType:()=>KE,MonetizeMethod:()=>nx,MonetizeMethodOp:()=>ox,MonetizeMethodStatus:()=>rx,MonetizeOperationSrc:()=>sx,NameType:()=>tb,NetType:()=>jx,NetworkType:()=>Vx,NoAdReason:()=>ax,OpenMode:()=>YE,OperateType:()=>Px,OperatorSystem:()=>zx,OsType:()=>Bx,PlayableOrientation:()=>qE,PosType:()=>GE,ProductType:()=>$E,PublisherAdSlot:()=>lx,PublisherAdSlotStatus:()=>dx,QueryType:()=>eb,QuestSettProgress:()=>hx,QuestSettStatus:()=>px,QuestSettStatusInner:()=>ux,RequestSource:()=>HE,RequestType:()=>Ox,ResourceType:()=>gx,RewriteSenGradeType:()=>Qx,SegVersion:()=>Xx,ShowType:()=>ix,SlotOpenStateType:()=>_x,SnsMsgType:()=>wx,Source:()=>Gx,TemplateCompressType:()=>Nx,TitleTagType:()=>ZE,TitleWordColor:()=>JE,VideoPlayMode:()=>mx,VideoPlayReportType:()=>vx,VideoPlayType:()=>fx,VideoStopType:()=>yx,WeappType:()=>bx,enPageType:()=>jE});var E_,x_,b_,w_,T_,C_,A_,P_,I_,S_,k_,D_,R_,O_,M_,N_,L_,W_,B_,V_,H_,F_,G_,U_,z_,j_,$_,Y_,q_,K_,Z_,X_,J_,Q_,eE,tE,iE,aE,nE,oE,rE,sE,lE,dE,cE,pE,uE,hE,gE,fE,mE,yE,vE,_E,EE,xE,bE,wE,TE,CE,AE,PE,IE,SE,kE,DE,RE,OE,ME,NE,LE,WE,BE,VE,HE=((E_=HE||{})[E_.SOURCE_UNKNOW=0]="SOURCE_UNKNOW",E_[E_.SOURCE_MP=1]="SOURCE_MP",E_[E_.SOURCE_OSS=2]="SOURCE_OSS",E_[E_.SOURCE_MP_OSS=3]="SOURCE_MP_OSS",E_[E_.SOURCE_OPEN_API=4]="SOURCE_OPEN_API",E_[E_.SOURCE_MARKETING_API=5]="SOURCE_MARKETING_API",E_[E_.SOURCE_WEPAY=6]="SOURCE_WEPAY",E_[E_.SOURCE_PRODUCT_API=7]="SOURCE_PRODUCT_API",E_[E_.SOURCE_WEAPP=8]="SOURCE_WEAPP",E_[E_.SOURCE_LOCAL_BUSINESS=9]="SOURCE_LOCAL_BUSINESS",E_),FE=((x_=FE||{})[x_.NORMAL_AD=0]="NORMAL_AD",x_[x_.LOCAL_BUSINESS_AD=1]="LOCAL_BUSINESS_AD",x_),GE=((b_=GE||{})[b_.POS_TYPE_APPMSG_BOTTOM=0]="POS_TYPE_APPMSG_BOTTOM",b_[b_.POS_TYPE_APPMSG_TOP=1]="POS_TYPE_APPMSG_TOP",b_[b_.POS_TYPE_NEWS=2]="POS_TYPE_NEWS",b_[b_.POS_TYPE_APPMSG_VIDEO=3]="POS_TYPE_APPMSG_VIDEO",b_[b_.POS_TYPE_FREE_TRADE=4]="POS_TYPE_FREE_TRADE",b_[b_.POS_TYPE_APPMSG_MIDDLE=5]="POS_TYPE_APPMSG_MIDDLE",b_[b_.POS_TYPE_MAIL=6]="POS_TYPE_MAIL",b_[b_.POS_TYPE_WX_APPLICATION=7]="POS_TYPE_WX_APPLICATION",b_[b_.POS_TYPE_WX_GAME_VIDEO=8]="POS_TYPE_WX_GAME_VIDEO",b_[b_.POS_TYPE_MP_PRODUCT=9]="POS_TYPE_MP_PRODUCT",b_[b_.POS_TYPE_WEAPP_INTERSTITIAL=10]="POS_TYPE_WEAPP_INTERSTITIAL",b_[b_.POS_TYPE_BOX=11]="POS_TYPE_BOX",b_[b_.POS_TYPE_WEAPP_COVER=12]="POS_TYPE_WEAPP_COVER",b_[b_.POS_TYPE_WEAPP_TEMPLATE=13]="POS_TYPE_WEAPP_TEMPLATE",b_[b_.POS_TYPE_WX_PAY=14]="POS_TYPE_WX_PAY",b_[b_.POS_TYPE_BIZ_TIME_LINE=15]="POS_TYPE_BIZ_TIME_LINE",b_[b_.POS_TYPE_FINDER_FREE_TRADE=16]="POS_TYPE_FINDER_FREE_TRADE",b_[b_.POS_TYPE_MP_MAX=100]="POS_TYPE_MP_MAX",b_[b_.POS_TYPE_MULTI_SLOT=101]="POS_TYPE_MULTI_SLOT",b_[b_.POS_TYPE_CHANNELS=113]="POS_TYPE_CHANNELS",b_[b_.POS_TYPE_SEARCH=115]="POS_TYPE_SEARCH",b_[b_.POS_TYPE_WX_APPLET=997]="POS_TYPE_WX_APPLET",b_[b_.POS_TYPE_MP_ALL=998]="POS_TYPE_MP_ALL",b_[b_.POS_TYPE_SNS_FEED=999]="POS_TYPE_SNS_FEED",b_),UE=((w_=UE||{})[w_.DEST_TYPE_AD=0]="DEST_TYPE_AD",w_[w_.DEST_TYPE_OUTER=1]="DEST_TYPE_OUTER",w_[w_.DEST_TYPE_APPDETAIL=2]="DEST_TYPE_APPDETAIL",w_[w_.DEST_TYPE_BIZ=3]="DEST_TYPE_BIZ",w_[w_.DEST_TYPE_APPINFO_PAGE=4]="DEST_TYPE_APPINFO_PAGE",w_[w_.DEST_TYPE_WECHAT_SHOP=5]="DEST_TYPE_WECHAT_SHOP",w_[w_.DEST_TYPE_WECHAT_APPLET=6]="DEST_TYPE_WECHAT_APPLET",w_[w_.DEST_TYPE_CANVAS=9]="DEST_TYPE_CANVAS",w_[w_.DEST_TYPE_CHANNELS=101]="DEST_TYPE_CHANNELS",w_[w_.DEST_TYPE_CHANNELS_LIVE=102]="DEST_TYPE_CHANNELS_LIVE",w_[w_.DEST_TYPE_CHANNELS_USER_PROFILE=103]="DEST_TYPE_CHANNELS_USER_PROFILE",w_[w_.DEST_TYPE_CHANNELS_HALF_CARD=104]="DEST_TYPE_CHANNELS_HALF_CARD",w_[w_.DEST_TYPE_ONEKEY_ATTENTION=40024]="DEST_TYPE_ONEKEY_ATTENTION",w_[w_.DEST_TYPE_WECOM_CONSULT=60013]="DEST_TYPE_WECOM_CONSULT",w_),zE=((T_=zE||{})[T_.RT_SIZE_WORD=91]="RT_SIZE_WORD",T_[T_.CRT_SIZE_PIC=133]="CRT_SIZE_PIC",T_[T_.CRT_SIZE_APPMSG=134]="CRT_SIZE_APPMSG",T_[T_.CRT_SIZE_CARD=135]="CRT_SIZE_CARD",T_[T_.CRT_SIZE_TOP_PIC=166]="CRT_SIZE_TOP_PIC",T_[T_.CRT_SIZE_APPDETAIL=167]="CRT_SIZE_APPDETAIL",T_[T_.CRT_SIZE_WECHAT_SHOP=267]="CRT_SIZE_WECHAT_SHOP",T_[T_.CRT_SIZE_COPY_CARD=354]="CRT_SIZE_COPY_CARD",T_[T_.CRT_SIZE_PIC_CARD=355]="CRT_SIZE_PIC_CARD",T_[T_.CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC=998]="CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC",T_[T_.CRT_SIZE_OFF_ACCOUNT_PIC=117]="CRT_SIZE_OFF_ACCOUNT_PIC",T_[T_.CRT_SIZE_WECHAT_APPLET_GRAND_PIC=484]="CRT_SIZE_WECHAT_APPLET_GRAND_PIC",T_[T_.CRT_SIZE_WECHAT_VIDEO=538]="CRT_SIZE_WECHAT_VIDEO",T_[T_.CRT_SIZE_H5VIDEO_PIC_6S=555]="CRT_SIZE_H5VIDEO_PIC_6S",T_[T_.CRT_SIZE_H5VIDEO_VIDEO_15S=1515]="CRT_SIZE_H5VIDEO_VIDEO_15S",T_[T_.CRT_SIZE_MUTUAL_VIDEO_169=996]="CRT_SIZE_MUTUAL_VIDEO_169",T_[T_.CRT_SIZE_MUTUAL_VIDEO_43=997]="CRT_SIZE_MUTUAL_VIDEO_43",T_[T_.CRT_SIZE_IMAGE=666]="CRT_SIZE_IMAGE",T_[T_.CRT_SIZE_NORMAL_IMAGE=2106]="CRT_SIZE_NORMAL_IMAGE",T_[T_.CRT_SIZE_VIDEO=888]="CRT_SIZE_VIDEO",T_[T_.CRT_SIZE_CARD_IMAGE=450]="CRT_SIZE_CARD_IMAGE",T_[T_.CRT_SIZE_CARD_VIDEO=452]="CRT_SIZE_CARD_VIDEO",T_[T_.CRT_SIZE_LINK=454]="CRT_SIZE_LINK",T_[T_.CRT_SIZE_CARD_SELECT_IMAGE=480]="CRT_SIZE_CARD_SELECT_IMAGE",T_[T_.CRT_SIZE_CARD_SELECT_VIDEO=482]="CRT_SIZE_CARD_SELECT_VIDEO",T_[T_.CRT_SIZE_CARD_VOTE_IMAGE=516]="CRT_SIZE_CARD_VOTE_IMAGE",T_[T_.CRT_SIZE_CARD_VOTE_VIDEO=519]="CRT_SIZE_CARD_VOTE_VIDEO",T_[T_.CRT_SIZE_WXAPP_PIC=532]="CRT_SIZE_WXAPP_PIC",T_[T_.CRT_SIZE_CARD_TURN_IMAGE=539]="CRT_SIZE_CARD_TURN_IMAGE",T_[T_.CRT_SIZE_CARD_TURN_VIDEO=540]="CRT_SIZE_CARD_TURN_VIDEO",T_[T_.CRT_SIZE_WXAPP_CARD_PIC=556]="CRT_SIZE_WXAPP_CARD_PIC",T_[T_.CRT_SIZE_WXGAME_VIDEO_0=559]="CRT_SIZE_WXGAME_VIDEO_0",T_[T_.CRT_SIZE_WXGAME_VIDEO_1=560]="CRT_SIZE_WXGAME_VIDEO_1",T_[T_.CRT_SIZE_WXAPP_BANNER_608=608]="CRT_SIZE_WXAPP_BANNER_608",T_[T_.CRT_SIZE_MULTI_POS_960_334=567]="CRT_SIZE_MULTI_POS_960_334",T_[T_.CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC=568]="CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC",T_[T_.CRT_SIZE_MULTI_POS_CARD=569]="CRT_SIZE_MULTI_POS_CARD",T_[T_.CRT_SIZE_MULTI_POS_COPY_CARD=570]="CRT_SIZE_MULTI_POS_COPY_CARD",T_[T_.CRT_SIZE_CARD_RATING_IMAGE=588]="CRT_SIZE_CARD_RATING_IMAGE",T_[T_.CRT_SIZE_CARD_RATING_VIDEO=589]="CRT_SIZE_CARD_RATING_VIDEO",T_[T_.CRT_SIZE_CARD_FULL_IMAGE=598]="CRT_SIZE_CARD_FULL_IMAGE",T_[T_.CRT_SIZE_CARD_FULL_VIDEO=599]="CRT_SIZE_CARD_FULL_VIDEO",T_[T_.CRT_SIZE_MP_TAGS=677]="CRT_SIZE_MP_TAGS",T_[T_.CRT_SIZE_SCREEN_701=701]="CRT_SIZE_SCREEN_701",T_[T_.CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO=913]="CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO",T_[T_.CRT_SIZE_CARD_FULL_GESTURE_VIDEO=698]="CRT_SIZE_CARD_FULL_GESTURE_VIDEO",T_[T_.CRT_SIZE_BOTTOM_708=708]="CRT_SIZE_BOTTOM_708",T_[T_.CRT_SIZE_IN_TEXT_841=841]="CRT_SIZE_IN_TEXT_841",T_[T_.CRT_SIZE_CARD_COMPONENT_IMAGE=1707]="CRT_SIZE_CARD_COMPONENT_IMAGE",T_[T_.CRT_SIZE_CARD_COMPONENT_VIDEO=1708]="CRT_SIZE_CARD_COMPONENT_VIDEO",T_[T_.CRT_SIZE_PRODUCT=1501]="CRT_SIZE_PRODUCT",T_[T_.CRT_SIZE_CARD_SPHERE_IMAGE=699]="CRT_SIZE_CARD_SPHERE_IMAGE",T_[T_.CRT_SIZE_IMAGE_TEXT_CARD=904]="CRT_SIZE_IMAGE_TEXT_CARD",T_[T_.CRT_SIZE_MULTI_SLOT_BANNER=925]="CRT_SIZE_MULTI_SLOT_BANNER",T_[T_.CRT_SIZE_MULTI_SLOT_BANNER_MP=926]="CRT_SIZE_MULTI_SLOT_BANNER_MP",T_[T_.CRT_SIZE_MULTI_SLOT_IMAGE=927]="CRT_SIZE_MULTI_SLOT_IMAGE",T_[T_.CRT_SIZE_MULTI_SLOT_IMAGE_MP=928]="CRT_SIZE_MULTI_SLOT_IMAGE_MP",T_[T_.CRT_SIZE_MULTI_SLOT_VIDEO=929]="CRT_SIZE_MULTI_SLOT_VIDEO",T_[T_.CRT_SIZE_MULTI_SLOT_BOX=972]="CRT_SIZE_MULTI_SLOT_BOX",T_[T_.CRT_SIZE_BUTTON_CARD_IMAGE=955]="CRT_SIZE_BUTTON_CARD_IMAGE",T_[T_.CRT_SIZE_BUTTON_CARD_VIDEO=957]="CRT_SIZE_BUTTON_CARD_VIDEO",T_[T_.CRT_SIZE_WXGAME_LAND_PAGE=910]="CRT_SIZE_WXGAME_LAND_PAGE",T_[T_.CRT_SIZE_WEAPP_COVER=1003]="CRT_SIZE_WEAPP_COVER",T_[T_.CRT_SIZE_SNS_PORTRAIL_VIDEO=1064]="CRT_SIZE_SNS_PORTRAIL_VIDEO",T_[T_.CRT_SIZE_CARD_FULL_PRESS_VIDEO=1065]="CRT_SIZE_CARD_FULL_PRESS_VIDEO",T_[T_.CRT_SIZE_SNS_PORTRAIL_VIDEO_1=1479]="CRT_SIZE_SNS_PORTRAIL_VIDEO_1",T_[T_.CRT_SIZE_SNS_PORTRAIL_VIDEO_2=1480]="CRT_SIZE_SNS_PORTRAIL_VIDEO_2",T_[T_.CRT_SIZE_CHANNELS_IMAGE=1530]="CRT_SIZE_CHANNELS_IMAGE",T_[T_.CRT_SIZE_CHANNELS_PORTRAIL_IMAGE=1531]="CRT_SIZE_CHANNELS_PORTRAIL_IMAGE",T_[T_.CRT_SIZE_CARD_FULL_TWIST_VIDEO=1733]="CRT_SIZE_CARD_FULL_TWIST_VIDEO",T_[T_.CRT_SIZE_CARD_FULL_SHAKE_VIDEO=1814]="CRT_SIZE_CARD_FULL_SHAKE_VIDEO",T_[T_.CRT_SIZE_CARD_FULL_BREAK_FRAME=1885]="CRT_SIZE_CARD_FULL_BREAK_FRAME",T_[T_.CRT_SIZE_CARD_FULL_OUT_BREAK_FRAME=1945]="CRT_SIZE_CARD_FULL_OUT_BREAK_FRAME",T_[T_.CRT_SIZE_IMAGE_711_1280_720=711]="CRT_SIZE_IMAGE_711_1280_720",T_[T_.CRT_SIZE_IMAGE_712_720_1280=712]="CRT_SIZE_IMAGE_712_720_1280",T_[T_.CRT_SIZE_SNS_VIDEO_1280_720=720]="CRT_SIZE_SNS_VIDEO_1280_720",T_[T_.CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280=721]="CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280",T_[T_.CRT_SIZE_CARD_FINDER_EVENT_VIDEO=1748]="CRT_SIZE_CARD_FINDER_EVENT_VIDEO",T_[T_.CRT_SIZE_SLIDER_CARD_VIDEO=1765]="CRT_SIZE_SLIDER_CARD_VIDEO",T_[T_.CRT_SIZE_SLIDER_CARD_IMAGE=1766]="CRT_SIZE_SLIDER_CARD_IMAGE",T_[T_.CRT_SIZE_WINDOWS_IMAGE_1_IMAGE_3=2107]="CRT_SIZE_WINDOWS_IMAGE_1_IMAGE_3",T_[T_.CRT_SIZE_WINDOWS_VIDEO_1_IMAGE_3=2109]="CRT_SIZE_WINDOWS_VIDEO_1_IMAGE_3",T_[T_.CRT_SIZE_FINDER_FREE_TRADE_EMPTY=1009]="CRT_SIZE_FINDER_FREE_TRADE_EMPTY",T_[T_.CRT_SIZE_PC_MOUSE_INTERACTION_VIDEO=1846]="CRT_SIZE_PC_MOUSE_INTERACTION_VIDEO",T_[T_.CRT_SIZE_SEARCH_BRAND_VIDEO=2013]="CRT_SIZE_SEARCH_BRAND_VIDEO",T_[T_.CRT_SIZE_FINDER_IMAGE=2014]="CRT_SIZE_FINDER_IMAGE",T_[T_.CRT_SIZE_LOOKBOOK_IMAGE=2174]="CRT_SIZE_LOOKBOOK_IMAGE",T_[T_.CRT_SIZE_LOOKBOOK_VIDEO=2177]="CRT_SIZE_LOOKBOOK_VIDEO",T_),jE=((C_=jE||{})[C_.PAGE_TYPE_NONE=0]="PAGE_TYPE_NONE",C_[C_.PAGE_TYPE_OUTLINK=1]="PAGE_TYPE_OUTLINK",C_[C_.PAGE_TYPE_ARTICLE=2]="PAGE_TYPE_ARTICLE",C_[C_.PAGE_TYPE_H5CANVAS=3]="PAGE_TYPE_H5CANVAS",C_[C_.PAGE_TYPE_CANVAS=4]="PAGE_TYPE_CANVAS",C_[C_.PAGE_TYPE_CARD=5]="PAGE_TYPE_CARD",C_[C_.PAGE_TYPE_ACCOUNT=6]="PAGE_TYPE_ACCOUNT",C_[C_.PAGE_TYPE_APPSTORE=7]="PAGE_TYPE_APPSTORE",C_[C_.PAGE_TYPE_TMPL=8]="PAGE_TYPE_TMPL",C_[C_.PAGE_TYPE_SIMPLE_CANVAS=9]="PAGE_TYPE_SIMPLE_CANVAS",C_[C_.PAGE_TYPE_AD=10]="PAGE_TYPE_AD",C_[C_.PAGE_TYPE_DIRECT=11]="PAGE_TYPE_DIRECT",C_[C_.PAGE_TYPE_APPDETAIL=12]="PAGE_TYPE_APPDETAIL",C_[C_.PAGE_TYPE_APPINFO_PAGE=13]="PAGE_TYPE_APPINFO_PAGE",C_[C_.PAGE_TYPE_WECHAT_SHOP=14]="PAGE_TYPE_WECHAT_SHOP",C_[C_.PAGE_TYPE_WEAPP=15]="PAGE_TYPE_WEAPP",C_[C_.PAGE_TYPE_ACTIVE=16]="PAGE_TYPE_ACTIVE",C_[C_.PAGE_TYPE_FORM_IMAGE=17]="PAGE_TYPE_FORM_IMAGE",C_[C_.PAGE_TYPE_FORM_VIDEO=18]="PAGE_TYPE_FORM_VIDEO",C_[C_.PAGE_TYPE_APP_IMAGE=19]="PAGE_TYPE_APP_IMAGE",C_[C_.PAGE_TYPE_APP_VIDEO=20]="PAGE_TYPE_APP_VIDEO",C_[C_.PAGE_TYPE_CANVAS_QUES=21]="PAGE_TYPE_CANVAS_QUES",C_[C_.PAGE_TYPE_CANVAS_VOTE=22]="PAGE_TYPE_CANVAS_VOTE",C_[C_.PAGE_TYPE_WEPAY_CARD=23]="PAGE_TYPE_WEPAY_CARD",C_[C_.PAGE_TYPE_WXGAME=24]="PAGE_TYPE_WXGAME",C_[C_.PAGE_TYPE_FY_EGOODS=25]="PAGE_TYPE_FY_EGOODS",C_[C_.PAGE_TYPE_ALITA=26]="PAGE_TYPE_ALITA",C_[C_.PAGE_TYPE_PHONE_CALL=27]="PAGE_TYPE_PHONE_CALL",C_[C_.PAGE_TYPE_SUBSCRIPTION=40027]="PAGE_TYPE_SUBSCRIPTION",C_[C_.PAGE_TYPE_YOUZAN=20003]="PAGE_TYPE_YOUZAN",C_[C_.PAGE_TYPE_WEIMENG=20305]="PAGE_TYPE_WEIMENG",C_[C_.PAGE_TYPE_FENGYE_EC_SINGLE=10001]="PAGE_TYPE_FENGYE_EC_SINGLE",C_[C_.PAGE_TYPE_FENGYE_EC_TOGETHER=10002]="PAGE_TYPE_FENGYE_EC_TOGETHER",C_[C_.PAGE_TYPE_FENGYE_EC_FOCUS=10003]="PAGE_TYPE_FENGYE_EC_FOCUS",C_[C_.PAGE_TYPE_PLAY_H5=18001]="PAGE_TYPE_PLAY_H5",C_[C_.PAGE_TYPE_SCAN=40026]="PAGE_TYPE_SCAN",C_[C_.PAGE_TYPE_CHANNELS=60003]="PAGE_TYPE_CHANNELS",C_[C_.PAGE_TYPE_CHANNELS_WATCH_LIVE=60005]="PAGE_TYPE_CHANNELS_WATCH_LIVE",C_[C_.PAGE_TYPE_CHANNELS_RESERVE_LIVE=60006]="PAGE_TYPE_CHANNELS_RESERVE_LIVE",C_[C_.PAGE_TYPE_CHANNELS_USER_PROFILE=60007]="PAGE_TYPE_CHANNELS_USER_PROFILE",C_[C_.PAGE_TYPE_CHANNELS_FOLLOW_CARD=60008]="PAGE_TYPE_CHANNELS_FOLLOW_CARD",C_[C_.PAGE_TYPE_AD_APPOINTMENT=60009]="PAGE_TYPE_AD_APPOINTMENT",C_[C_.PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5=40028]="PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5",C_[C_.PAGE_TYPE_WECHAT_XJ_IOS_APP_H5=40029]="PAGE_TYPE_WECHAT_XJ_IOS_APP_H5",C_[C_.PAGE_TYPE_WECHAT_XJ_WEBSITE_H5=40030]="PAGE_TYPE_WECHAT_XJ_WEBSITE_H5",C_[C_.PAGE_TYPE_WECHAT_RED_PACKET_COVER=40031]="PAGE_TYPE_WECHAT_RED_PACKET_COVER",C_[C_.PAGE_TYPE_WECHAT_VIDEO_TOPIC=40032]="PAGE_TYPE_WECHAT_VIDEO_TOPIC",C_[C_.PAGE_TYPE_CHANNELS_HALF_CARD=40033]="PAGE_TYPE_CHANNELS_HALF_CARD",C_[C_.PAGE_TYPE_QYWX_WECHAT_KEFU=60011]="PAGE_TYPE_QYWX_WECHAT_KEFU",C_[C_.PAGE_TYPE_WECHAT_STATUS_FOOTER=60012]="PAGE_TYPE_WECHAT_STATUS_FOOTER",C_[C_.PAGE_TYPE_WECOM_CONSULT=60013]="PAGE_TYPE_WECOM_CONSULT",C_[C_.PAGE_TYPE_ANDORID_DOWNLOAD=60015]="PAGE_TYPE_ANDORID_DOWNLOAD",C_[C_.PAGE_TYPE_VANGOGH=70001]="PAGE_TYPE_VANGOGH",C_[C_.PAGE_TYPE_LINGQUE_MINI_PROGRAM=70002]="PAGE_TYPE_LINGQUE_MINI_PROGRAM",C_[C_.PAGE_TYPE_NOT_USED=99999]="PAGE_TYPE_NOT_USED",C_[C_.PAGE_TYPE_MAX=1e8]="PAGE_TYPE_MAX",C_),$E=((A_=$E||{})[A_.PRODUCTTYPE_UNKNOWN=0]="PRODUCTTYPE_UNKNOWN",A_[A_.PRODUCTTYPE_OPEN_PLATFORM_APP_MOB=12]="PRODUCTTYPE_OPEN_PLATFORM_APP_MOB",A_[A_.PRODUCTTYPE_APPLE_APP_STORE=19]="PRODUCTTYPE_APPLE_APP_STORE",A_[A_.PRODUCTTYPE_WECHAT=23]="PRODUCTTYPE_WECHAT",A_[A_.PRODUCTTYPE_JD_URL=25]="PRODUCTTYPE_JD_URL",A_[A_.PRODUCTTYPE_DP_SHOP=26]="PRODUCTTYPE_DP_SHOP",A_[A_.PRODUCTTYPE_WECHAT_ARTICLE=29]="PRODUCTTYPE_WECHAT_ARTICLE",A_[A_.PRODUCTTYPE_WECHAT_SHOP=30]="PRODUCTTYPE_WECHAT_SHOP",A_[A_.PRODUCTTYPE_WECHAT_URL=31]="PRODUCTTYPE_WECHAT_URL",A_[A_.PRODUCTTYPE_WECHAT_CARD=36]="PRODUCTTYPE_WECHAT_CARD",A_[A_.PRODUCTTYPE_WECHAT_LBS=37]="PRODUCTTYPE_WECHAT_LBS",A_[A_.PRODUCTTYPE_WECHAT_APP=38]="PRODUCTTYPE_WECHAT_APP",A_[A_.GDT_PRODUCTTYPE_WECHAT_LBS=39]="GDT_PRODUCTTYPE_WECHAT_LBS",A_[A_.PRODUCTTYPE_LEAD_AD=43]="PRODUCTTYPE_LEAD_AD",A_[A_.PRODUCTTYPE_WECHAT_MINI_GAME=46]="PRODUCTTYPE_WECHAT_MINI_GAME",A_[A_.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",A_[A_.PRODUCTTYPE_APP_PROMOTION=50]="PRODUCTTYPE_APP_PROMOTION",A_[A_.PRODUCTTYPE_WECHAT_CHANNELS=51]="PRODUCTTYPE_WECHAT_CHANNELS",A_[A_.PRODUCTTYPE_MINI_PROGRAM_WECHAT=52]="PRODUCTTYPE_MINI_PROGRAM_WECHAT",A_),YE=((P_=YE||{})[P_.OPEN_MODE_HALF=1]="OPEN_MODE_HALF",P_[P_.OPEN_MODE_FULL=2]="OPEN_MODE_FULL",P_),qE=((I_=qE||{})[I_.PORTRAIT=1]="PORTRAIT",I_[I_.LANDSCAPE=2]="LANDSCAPE",I_),KE=((S_=KE||{})[S_.ContentTypeImage=2]="ContentTypeImage",S_[S_.ContentTypeVideo=3]="ContentTypeVideo",S_),ZE=((k_=ZE||{})[k_.TITLE_TAG_TYPE_DEFAULT=0]="TITLE_TAG_TYPE_DEFAULT",k_[k_.PLATFORM=1]="PLATFORM",k_[k_.ACTIVITY=2]="ACTIVITY",k_[k_.SOURCE_FROM=3]="SOURCE_FROM",k_),XE=((D_=XE||{})[D_.BACK_DEFAULT=0]="BACK_DEFAULT",D_[D_.BACK_PRIMARY_15=1]="BACK_PRIMARY_15",D_[D_.BACK_PRIMARY_80=2]="BACK_PRIMARY_80",D_[D_.BACK_SUCCESS_80=3]="BACK_SUCCESS_80",D_[D_.BACK_ALERT_80=4]="BACK_ALERT_80",D_[D_.BACK_INFORMATION_80=5]="BACK_INFORMATION_80",D_[D_.BACK_MINI_PROGRAM_80=6]="BACK_MINI_PROGRAM_80",D_[D_.BACK_BLACK_10=7]="BACK_BLACK_10",D_[D_.BACK_BLACK_30=8]="BACK_BLACK_30",D_[D_.BACK_BLACK_50=9]="BACK_BLACK_50",D_[D_.BACK_BLACK_90=10]="BACK_BLACK_90",D_[D_.BACK_WHITE_10=11]="BACK_WHITE_10",D_[D_.BACK_WHITE_30=12]="BACK_WHITE_30",D_[D_.BACK_WHITE_50=13]="BACK_WHITE_50",D_[D_.BACK_WHITE=14]="BACK_WHITE",D_),JE=((R_=JE||{})[R_.TITLE_WORD_DEFAULT=0]="TITLE_WORD_DEFAULT",R_[R_.TITLE_WORD_BLACK_10=1]="TITLE_WORD_BLACK_10",R_[R_.TITLE_WORD_BLACK_30=2]="TITLE_WORD_BLACK_30",R_[R_.TITLE_WORD_BLACK_50=3]="TITLE_WORD_BLACK_50",R_[R_.TITLE_WORD_BLACK_90=4]="TITLE_WORD_BLACK_90",R_[R_.TITLE_WORD_WHITE_10=5]="TITLE_WORD_WHITE_10",R_[R_.TITLE_WORD_WHITE_30=6]="TITLE_WORD_WHITE_30",R_[R_.TITLE_WORD_WHITE_50=7]="TITLE_WORD_WHITE_50",R_[R_.TITLE_WORD_WHITE=8]="TITLE_WORD_WHITE",R_[R_.TITLE_WORD_PRIMARY=9]="TITLE_WORD_PRIMARY",R_),QE=((O_=QE||{})[O_.CONTENT_TAG_TYPE_DEFAULT=0]="CONTENT_TAG_TYPE_DEFAULT",O_[O_.DISCOUNT=1]="DISCOUNT",O_[O_.SERVICE=2]="SERVICE",O_),ex=((M_=ex||{})[M_.CONTENT_WORD_DEFAULT=0]="CONTENT_WORD_DEFAULT",M_[M_.BLACK_10=1]="BLACK_10",M_[M_.BLACK_30=2]="BLACK_30",M_[M_.BLACK_50=3]="BLACK_50",M_[M_.BLACK_90=4]="BLACK_90",M_[M_.WHITE_10=5]="WHITE_10",M_[M_.WHITE_30=6]="WHITE_30",M_[M_.WHITE_50=7]="WHITE_50",M_[M_.WHITE=8]="WHITE",M_[M_.RED=9]="RED",M_),tx=((N_=tx||{})[N_.COUPON_DEFAULT=0]="COUPON_DEFAULT",N_[N_.COUPON_NORMAL=1]="COUPON_NORMAL",N_[N_.COUPON_HIGH=10]="COUPON_HIGH",N_),ix=((L_=ix||{})[L_.HIGH_VALUE=1]="HIGH_VALUE",L_[L_.LOW_VALUE=2]="LOW_VALUE",L_),ax=((W_=ax||{})[W_.kRankingResponseAdNotMatch=201012]="kRankingResponseAdNotMatch",W_[W_.kWechatOpenlistMaxError=500999]="kWechatOpenlistMaxError",W_[W_.kWechatRankingMaxError=501999]="kWechatRankingMaxError",W_),nx=((B_=nx||{})[B_.MONETIZE_METHOD_INVALID=0]="MONETIZE_METHOD_INVALID",B_[B_.MONETIZE_METHOD_ADS=1]="MONETIZE_METHOD_ADS",B_[B_.MONETIZE_METHOD_BIZ_ORIGINAL=2]="MONETIZE_METHOD_BIZ_ORIGINAL",B_[B_.MONETIZE_METHOD_BIZ_REPRODUCTION=3]="MONETIZE_METHOD_BIZ_REPRODUCTION",B_[B_.MONETIZE_METHOD_BIZ_CPS=4]="MONETIZE_METHOD_BIZ_CPS",B_[B_.MONETIZE_METHOD_BIZ_KANYIKANPLUS=5]="MONETIZE_METHOD_BIZ_KANYIKANPLUS",B_[B_.MONETIZE_METHOD_BIZ_FINDER=6]="MONETIZE_METHOD_BIZ_FINDER",B_[B_.MONETIZE_METHOD_BIZ_WENYIWEN=7]="MONETIZE_METHOD_BIZ_WENYIWEN",B_),ox=((V_=ox||{})[V_.OP_UNKNOWN=0]="OP_UNKNOWN",V_[V_.OP_OPEN=1]="OP_OPEN",V_[V_.OP_CLOSE=2]="OP_CLOSE",V_),rx=((H_=rx||{})[H_.MONETIZE_METHOD_STATUS_NOT_APPLY=0]="MONETIZE_METHOD_STATUS_NOT_APPLY",H_[H_.MONETIZE_METHOD_STATUS_OPEN=1]="MONETIZE_METHOD_STATUS_OPEN",H_[H_.MONETIZE_METHOD_STATUS_CLOSED=2]="MONETIZE_METHOD_STATUS_CLOSED",H_),sx=((F_=sx||{})[F_.MONETIZE_METHOD_OPERATION_UNKNOWN=0]="MONETIZE_METHOD_OPERATION_UNKNOWN",F_[F_.MONETIZE_METHOD_OPERATION_SRC_EDITOR=1]="MONETIZE_METHOD_OPERATION_SRC_EDITOR",F_[F_.MONETIZE_METHOD_OPERATION_SRC_QUICK_OPEN=2]="MONETIZE_METHOD_OPERATION_SRC_QUICK_OPEN",F_[F_.MONETIZE_METHOD_OPERATION_SRC_SLOT_SET=3]="MONETIZE_METHOD_OPERATION_SRC_SLOT_SET",F_[F_.MONETIZE_METHOD_OPERATION_BAN=4]="MONETIZE_METHOD_OPERATION_BAN",F_[F_.MONETIZE_METHOD_OPERATION_UNBAN=5]="MONETIZE_METHOD_OPERATION_UNBAN",F_[F_.MONETIZE_METHOD_OPERATION_AUDIT=6]="MONETIZE_METHOD_OPERATION_AUDIT",F_[F_.MONETIZE_METHOD_OPERATION_OPERATOR=7]="MONETIZE_METHOD_OPERATION_OPERATOR",F_[F_.MONETIZE_METHOD_OPERATION_SRC_AGENCY_QUICK_OPEN=8]="MONETIZE_METHOD_OPERATION_SRC_AGENCY_QUICK_OPEN",F_[F_.MONETIZE_METHOD_OPERATION_SRC_AGENCY_SLOT_SET=9]="MONETIZE_METHOD_OPERATION_SRC_AGENCY_SLOT_SET",F_),lx=((G_=lx||{})[G_.ADSLOT_BIZ_UNKNOWN=0]="ADSLOT_BIZ_UNKNOWN",G_[G_.ADSLOT_BIZ_BOTTOM=1]="ADSLOT_BIZ_BOTTOM",G_[G_.ADSLOT_BIZ_SPONSOR=2]="ADSLOT_BIZ_SPONSOR",G_[G_.ADSLOT_BIZ_MIDDLE=3]="ADSLOT_BIZ_MIDDLE",G_[G_.ADSLOT_BIZ_WEAPP=4]="ADSLOT_BIZ_WEAPP",G_[G_.ADSLOT_BIZ_WEAPP_REWARDED_VIDEO=5]="ADSLOT_BIZ_WEAPP_REWARDED_VIDEO",G_[G_.ADSLOT_BIZ_ORIG_VIDEO=6]="ADSLOT_BIZ_ORIG_VIDEO",G_[G_.ADSLOT_BIZ_VIDEO_END=7]="ADSLOT_BIZ_VIDEO_END",G_[G_.ADSLOT_BIZ_CPS=8]="ADSLOT_BIZ_CPS",G_[G_.ADSLOT_BIZ_WEAPP_INTERSTITIAL=9]="ADSLOT_BIZ_WEAPP_INTERSTITIAL",G_[G_.ADSLOT_WEAPP_VIDEO=10]="ADSLOT_WEAPP_VIDEO",G_[G_.ADSLOT_WEAPP_VIDEO_BEGIN=11]="ADSLOT_WEAPP_VIDEO_BEGIN",G_[G_.ADSLOT_WEAPP_COVER=12]="ADSLOT_WEAPP_COVER",G_[G_.ADSLOT_WEAPP_TEMPLATE=13]="ADSLOT_WEAPP_TEMPLATE",G_[G_.ADSLOT_WEAPP_CPS=14]="ADSLOT_WEAPP_CPS",G_[G_.ADSLOT_BIZ_KYK=15]="ADSLOT_BIZ_KYK",G_[G_.ADSLOT_BIZ_VIDEO_MID=16]="ADSLOT_BIZ_VIDEO_MID",G_[G_.ADSLOT_WEAPP_WEPAY_BOTTOM=20]="ADSLOT_WEAPP_WEPAY_BOTTOM",G_[G_.ADSLOT_WEAPP_WEPAY_COUPON=21]="ADSLOT_WEAPP_WEPAY_COUPON",G_[G_.ADSLOT_FINDER_COMMENT_AREA=22]="ADSLOT_FINDER_COMMENT_AREA",G_[G_.ADSLOT_WEAPP_FREE_TRADE_BANNER=23]="ADSLOT_WEAPP_FREE_TRADE_BANNER",G_[G_.ADSLOT_BIZ_FINDER_WENYIWEN_COMMENT=24]="ADSLOT_BIZ_FINDER_WENYIWEN_COMMENT",G_),dx=((U_=dx||{})[U_.ADSLOT_STATUS_NOT_APPLY=0]="ADSLOT_STATUS_NOT_APPLY",U_[U_.ADSLOT_STATUS_OPEN=1]="ADSLOT_STATUS_OPEN",U_[U_.ADSLOT_STATUS_REVIEWING=2]="ADSLOT_STATUS_REVIEWING",U_[U_.ADSLOT_STATUS_UNPASS=3]="ADSLOT_STATUS_UNPASS",U_[U_.ADSLOT_STATUS_CLOSED=4]="ADSLOT_STATUS_CLOSED",U_),cx=((z_=cx||{})[z_.ACCOUNT_STATUS_NOT_APPLY=0]="ACCOUNT_STATUS_NOT_APPLY",z_[z_.ACCOUNT_STATUS_OPEN=1]="ACCOUNT_STATUS_OPEN",z_),px=((j_=px||{})[j_.QUEST_SETT_STATUS_UNKNOWN=0]="QUEST_SETT_STATUS_UNKNOWN",j_[j_.QUEST_SETT_STATUS_ONLINE=1]="QUEST_SETT_STATUS_ONLINE",j_[j_.QUEST_SETT_STATUS_ENDED=2]="QUEST_SETT_STATUS_ENDED",j_[j_.QUEST_SETT_STATUS_SETTLED=3]="QUEST_SETT_STATUS_SETTLED",j_),ux=(($_=ux||{})[$_.QUEST_SETT_STATUS_INNER_UNKNOWN=0]="QUEST_SETT_STATUS_INNER_UNKNOWN",$_[$_.QUEST_SETT_STATUS_INNER_ONLINE=1]="QUEST_SETT_STATUS_INNER_ONLINE",$_[$_.QUEST_SETT_STATUS_INNER_UNSETTABLE=2]="QUEST_SETT_STATUS_INNER_UNSETTABLE",$_[$_.QUEST_SETT_STATUS_INNER_COMPARABLE=3]="QUEST_SETT_STATUS_INNER_COMPARABLE",$_[$_.QUEST_SETT_STATUS_INNER_SETTABLE=4]="QUEST_SETT_STATUS_INNER_SETTABLE",$_[$_.QUEST_SETT_STATUS_INNER_SETTABLE_NOTIFIED=5]="QUEST_SETT_STATUS_INNER_SETTABLE_NOTIFIED",$_[$_.QUEST_SETT_STATUS_INNER_SETTLED=6]="QUEST_SETT_STATUS_INNER_SETTLED",$_),hx=((Y_=hx||{})[Y_.QUEST_SETT_PROGRESS_UNKNOWN=0]="QUEST_SETT_PROGRESS_UNKNOWN",Y_[Y_.QUEST_SETT_PROGRESS_BEGIN=1]="QUEST_SETT_PROGRESS_BEGIN",Y_[Y_.QUEST_SETT_PROGRESS_SETTLED=2]="QUEST_SETT_PROGRESS_SETTLED",Y_[Y_.QUEST_SETT_PROGRESS_FAILED=3]="QUEST_SETT_PROGRESS_FAILED",Y_),gx=((q_=gx||{})[q_.Unknown_type=0]="Unknown_type",q_[q_.Video=1]="Video",q_[q_.Live=2]="Live",q_),fx=((K_=fx||{})[K_.VIDEO_PLAY_UNKNOWN=0]="VIDEO_PLAY_UNKNOWN",K_[K_.VIDEO_PLAY_COMPLETE=1]="VIDEO_PLAY_COMPLETE",K_[K_.VIDEO_PLAY_PARTIAL=2]="VIDEO_PLAY_PARTIAL",K_[K_.VIDEO_PLAY_ERROR=3]="VIDEO_PLAY_ERROR",K_[K_.VIDEO_PLAY_VIEWABLE=4]="VIDEO_PLAY_VIEWABLE",K_),mx=((Z_=mx||{})[Z_.START_TYPE_UNKNOWN=1]="START_TYPE_UNKNOWN",Z_[Z_.START_TYPE_AUTO=2]="START_TYPE_AUTO",Z_[Z_.START_TYPE_USER=3]="START_TYPE_USER",Z_),yx=((X_=yx||{})[X_.END_TYPE_UNKNOWN=1]="END_TYPE_UNKNOWN",X_[X_.END_TYPE_USER_CLOSE_AD=2]="END_TYPE_USER_CLOSE_AD",X_[X_.END_TYPE_CLOSE_WEAPP=3]="END_TYPE_CLOSE_WEAPP",X_[X_.END_TYPE_AUTO_CLOSE_AD=4]="END_TYPE_AUTO_CLOSE_AD",X_[X_.END_TYPE_ON_EXIT=5]="END_TYPE_ON_EXIT",X_[X_.END_TYPE_ON_WEAPP_EXIT=6]="END_TYPE_ON_WEAPP_EXIT",X_),vx=((J_=vx||{})[J_.REPORT_TYPE_UNKNOWN=0]="REPORT_TYPE_UNKNOWN",J_[J_.REPORT_TYPE_ON_EXIT=1]="REPORT_TYPE_ON_EXIT",J_[J_.REPORT_TYPE_ON_FINISH_PLAY=2]="REPORT_TYPE_ON_FINISH_PLAY",J_[J_.REPORT_TYPE_ON_START_PLAY=3]="REPORT_TYPE_ON_START_PLAY",J_[J_.REPORT_TYPE_ON_WEAPP_EXIT=4]="REPORT_TYPE_ON_WEAPP_EXIT",J_[J_.REPORT_TYPE_ON_CLOSE_AD=5]="REPORT_TYPE_ON_CLOSE_AD",J_[J_.REPORT_TYPE_ON_STOP=6]="REPORT_TYPE_ON_STOP",J_),_x=((Q_=_x||{})[Q_.SLOT_OPEN_STATE_NOT_FIRST=0]="SLOT_OPEN_STATE_NOT_FIRST",Q_[Q_.SLOT_OPEN_STATE_IS_FIRST=1]="SLOT_OPEN_STATE_IS_FIRST",Q_),Ex=((eE=Ex||{})[eE.NOT_EFFECT=0]="NOT_EFFECT",eE[eE.ALREADY_EFFECT=1]="ALREADY_EFFECT",eE),xx=((tE=xx||{})[tE.AD_UNIT_STATUS_ON=1]="AD_UNIT_STATUS_ON",tE[tE.AD_UNIT_STATUS_OFF=2]="AD_UNIT_STATUS_OFF",tE),bx=((iE=bx||{})[iE.UNKNOWN=0]="UNKNOWN",iE[iE.SHORT_DRAMA=1]="SHORT_DRAMA",iE),wx=((aE=wx||{})[aE.EXPOSURE_MSG_TYPE=0]="EXPOSURE_MSG_TYPE",aE[aE.CLICK_MSG_TYPE=1]="CLICK_MSG_TYPE",aE),Tx=((nE=Tx||{})[nE.kUnknown=0]="kUnknown",nE[nE.kVideo=1]="kVideo",nE[nE.kArticle=2]="kArticle",nE),Cx=((oE=Cx||{})[oE.EXPOSE=1]="EXPOSE",oE[oE.CLICK=2]="CLICK",oE),Ax=((rE=Ax||{})[rE.kUnknown=0]="kUnknown",rE[rE.kBiz=1]="kBiz",rE[rE.kWxa=2]="kWxa",rE[rE.kFinder=3]="kFinder",rE[rE.kWxgame=4]="kWxgame",rE),Px=((sE=Px||{})[sE.replace=1]="replace",sE[sE.add=2]="add",sE),Ix=((lE=Ix||{})[lE.TITLE=1]="TITLE",lE[lE.DESC=2]="DESC",lE[lE.TEXT=3]="TEXT",lE[lE.BUTTON=4]="BUTTON",lE[lE.CARDBACKGROUD=5]="CARDBACKGROUD",lE[lE.CONTRACTPAG=6]="CONTRACTPAG",lE),Sx=((dE=Sx||{})[dE.IS_ALL=1]="IS_ALL",dE[dE.EXP_GRAY_TYPE=2]="EXP_GRAY_TYPE",dE),kx=((cE=kx||{})[cE.kDeviceUnknow=0]="kDeviceUnknow",cE[cE.kDeviceAndroid=1]="kDeviceAndroid",cE[cE.kDeviceIphone=2]="kDeviceIphone",cE[cE.kDeviceIpad=3]="kDeviceIpad",cE[cE.kDeviceTv=4]="kDeviceTv",cE),Dx=((pE=Dx||{})[pE.NormalAd=0]="NormalAd",pE[pE.MdpaAd=1]="MdpaAd",pE[pE.AdxAd=2]="AdxAd",pE),Rx=((uE=Rx||{})[uE.EXT_BACK_COMM=1]="EXT_BACK_COMM",uE[uE.TMPL_CONTENT=2]="TMPL_CONTENT",uE[uE.TMPL_INFO=3]="TMPL_INFO",uE[uE.AD_TEMPLATE_INFO=4]="AD_TEMPLATE_INFO",uE),Ox=((hE=Ox||{})[hE.WXCOVER_NORMARL_REQUEST=1]="WXCOVER_NORMARL_REQUEST",hE[hE.WXCOVER_CHECK_FETCH_TOGETHER=2]="WXCOVER_CHECK_FETCH_TOGETHER",hE[hE.WXAVIDEO_WELfARE_REQUEST=3]="WXAVIDEO_WELfARE_REQUEST",hE[hE.WELFARE_MYLIST_REQUEST=4]="WELFARE_MYLIST_REQUEST",hE[hE.WELFARE_CHANGE_BATCH=5]="WELFARE_CHANGE_BATCH",hE[hE.WXCOVER_CHECK_AD_IS_ONLINE_REQUEST=6]="WXCOVER_CHECK_AD_IS_ONLINE_REQUEST",hE),Mx=((gE=Mx||{})[gE.AD_FREE_TYPE_UNKNOWN=0]="AD_FREE_TYPE_UNKNOWN",gE[gE.AD_FREE_TYPE_ALL_EXCEPT_REWARD=1]="AD_FREE_TYPE_ALL_EXCEPT_REWARD",gE),Nx=((fE=Nx||{})[fE.TEMPLATE_COMPRESS_RAW=0]="TEMPLATE_COMPRESS_RAW",fE[fE.TEMPLATE_COMPRESS_JSONPACK=1]="TEMPLATE_COMPRESS_JSONPACK",fE),Lx=((mE=Lx||{})[mE.WEGAME_WEAPP_ADSLOT_ID=1]="WEGAME_WEAPP_ADSLOT_ID",mE[mE.WEAPP_WEAPP_ADSLOT_ID=2]="WEAPP_WEAPP_ADSLOT_ID",mE[mE.WEGAME_WEAPP_VIDEO_ADSLOT_ID=3]="WEGAME_WEAPP_VIDEO_ADSLOT_ID",mE[mE.WEAPP_WEAPP_VIDEO_ADSLOT_ID=4]="WEAPP_WEAPP_VIDEO_ADSLOT_ID",mE),Wx=((yE=Wx||{})[yE.AppServiceType_NORMAL=1]="AppServiceType_NORMAL",yE[yE.AppServiceType_GAME=2]="AppServiceType_GAME",yE),Bx=((vE=Bx||{})[vE.AllOS=0]="AllOS",vE[vE.Ios=1]="Ios",vE[vE.Android=2]="Android",vE[vE.Winphone=3]="Winphone",vE[vE.JAVA=4]="JAVA",vE[vE.OS_UNKNOWN=5]="OS_UNKNOWN",vE[vE.SYMBIAN=6]="SYMBIAN",vE[vE.S40asha=7]="S40asha",vE[vE.Webwx=8]="Webwx",vE[vE.Blackberry=9]="Blackberry",vE[vE.Windows=10]="Windows",vE[vE.Ipad=11]="Ipad",vE[vE.Mac=12]="Mac",vE[vE.Linux=13]="Linux",vE),Vx=((_E=Vx||{})[_E.kUnknownNetwork=0]="kUnknownNetwork",_E[_E.kWIFI=1]="kWIFI",_E[_E.k2G=2]="k2G",_E[_E.k3G=3]="k3G",_E[_E.k4G=4]="k4G",_E[_E.k5G=5]="k5G",_E[_E.kAll=10]="kAll",_E),Hx=((EE=Hx||{})[EE.kUnknownCarrier=0]="kUnknownCarrier",EE[EE.kCMCC=1]="kCMCC",EE[EE.kCUCC=2]="kCUCC",EE[EE.kCTCC=3]="kCTCC",EE),Fx=((xE=Fx||{})[xE.UNKNOWN=0]="UNKNOWN",xE[xE.CMNET=1]="CMNET",xE[xE.CMWAP=2]="CMWAP",xE[xE.THREEGNET=3]="THREEGNET",xE[xE.THREEGWAP=4]="THREEGWAP",xE[xE.UNINET=5]="UNINET",xE[xE.UNIWAP=6]="UNIWAP",xE[xE.WIFI=7]="WIFI",xE[xE.CTWAP=8]="CTWAP",xE[xE.CTNET=9]="CTNET",xE[xE.THREEGNET_UNINET=10]="THREEGNET_UNINET",xE[xE.THREEGWAP_UNIWAP=11]="THREEGWAP_UNIWAP",xE[xE.CTNET_CTWAP=12]="CTNET_CTWAP",xE[xE.THREEGNET_THREEGWAP_UNINET_UNIWAP=13]="THREEGNET_THREEGWAP_UNINET_UNIWAP",xE[xE.WIMAX=14]="WIMAX",xE),Gx=((bE=Gx||{})[bE.Default_Source=0]="Default_Source",bE[bE.MediaPlatform=1]="MediaPlatform",bE[bE.WeApp=2]="WeApp",bE[bE.Moments=3]="Moments",bE[bE.BizTimeLine=4]="BizTimeLine",bE[bE.SearchAd=5]="SearchAd",bE[bE.BizTopStory=6]="BizTopStory",bE),Ux=((wE=Ux||{})[wE.JSON=0]="JSON",wE[wE.XML=1]="XML",wE),zx=((TE=zx||{})[TE.Unknown_sys=-1]="Unknown_sys",TE[TE.Windows=0]="Windows",TE[TE.Ios=1]="Ios",TE[TE.Android=2]="Android",TE),jx=((CE=jx||{})[CE.Unknown_type=0]="Unknown_type",CE[CE.Wifi=1]="Wifi",CE[CE.TwoG=2]="TwoG",CE[CE.TreeG=3]="TreeG",CE[CE.FourG=4]="FourG",CE[CE.FiveG=5]="FiveG",CE[CE.Ethernet=6]="Ethernet",CE),$x=void 0,Yx=void 0,qx=((AE=qx||{})[AE.FeedJumpVisibleOption_DefaultPublic=0]="FeedJumpVisibleOption_DefaultPublic",AE),Kx=((PE=Kx||{})[PE.kMMFinderJumpConfigPrefix_Feed=1]="kMMFinderJumpConfigPrefix_Feed",PE[PE.kMMFinderJumpConfigPrefix_HotWord=2]="kMMFinderJumpConfigPrefix_HotWord",PE[PE.kMMFinderJumpConfigPrefix_Anchor=3]="kMMFinderJumpConfigPrefix_Anchor",PE[PE.kMMFinderJumpConfigPrefix_Tag=4]="kMMFinderJumpConfigPrefix_Tag",PE[PE.kMMFinderJumpConfigPrefix_Activity=5]="kMMFinderJumpConfigPrefix_Activity",PE[PE.kMMFinderJumpConfigPrefix_Finder=6]="kMMFinderJumpConfigPrefix_Finder",PE),Zx=((IE=Zx||{})[IE.FinderRedPacketCoverStatus_Enable=1]="FinderRedPacketCoverStatus_Enable",IE[IE.FinderRedPacketCoverStatus_Unable=2]="FinderRedPacketCoverStatus_Unable",IE),Xx=((SE=Xx||{})[SE.SEG_VERSION_DEFAULT=0]="SEG_VERSION_DEFAULT",SE[SE.SEG_VERSION_119368=1]="SEG_VERSION_119368",SE[SE.SEG_VERSION_NEISOU=2]="SEG_VERSION_NEISOU",SE[SE.SEG_VERSION_1141=3]="SEG_VERSION_1141",SE[SE.SEG_VERSION_BIG=4]="SEG_VERSION_BIG",SE[SE.SEG_VERSION_MINOR_LANGUAGE=5]="SEG_VERSION_MINOR_LANGUAGE",SE[SE.SEG_VERSION_WSEG_V1=6]="SEG_VERSION_WSEG_V1",SE),Jx=((kE=Jx||{})[kE.ENTITY_VERSION_DEFAULT=0]="ENTITY_VERSION_DEFAULT",kE[kE.ENTITY_VERSION_20=1]="ENTITY_VERSION_20",kE),Qx=((DE=Qx||{})[DE.REWRITE_SEN_TYPE_ONE=1]="REWRITE_SEN_TYPE_ONE",DE[DE.REWRITE_SEN_TYPE_RETRY=2]="REWRITE_SEN_TYPE_RETRY",DE[DE.REWRITE_SEN_TYPE_BIG_SEG=101]="REWRITE_SEN_TYPE_BIG_SEG",DE[DE.REWRITE_SEN_TYPE_BIG_SEG_RETRY=102]="REWRITE_SEN_TYPE_BIG_SEG_RETRY",DE[DE.REWRITE_SEN_TYPE_MULTI_WAY_OPT1=200]="REWRITE_SEN_TYPE_MULTI_WAY_OPT1",DE[DE.REWRITE_SEN_TYPE_MULTI_WAY_OPT2=201]="REWRITE_SEN_TYPE_MULTI_WAY_OPT2",DE[DE.REWRITE_SEN_TYPE_MULTI_WAY_OPT3=202]="REWRITE_SEN_TYPE_MULTI_WAY_OPT3",DE[DE.REWRITE_SEN_TYPE_MULTI_WAY_OPT4=203]="REWRITE_SEN_TYPE_MULTI_WAY_OPT4",DE[DE.REWRITE_SEN_TYPE_MULTI_WAY_OPT5=204]="REWRITE_SEN_TYPE_MULTI_WAY_OPT5",DE[DE.REWRITE_SEN_TYPE_VOB_OPT1=300]="REWRITE_SEN_TYPE_VOB_OPT1",DE[DE.REWRITE_SEN_TYPE_VOB_OPT2=301]="REWRITE_SEN_TYPE_VOB_OPT2",DE),eb=((RE=eb||{})[RE.RAW_QUERY=0]="RAW_QUERY",RE[RE.QC_QUERY=1]="QC_QUERY",RE[RE.QR_QUERY=2]="QR_QUERY",RE[RE.QR_QUERY_FROM_QC=3]="QR_QUERY_FROM_QC",RE[RE.QR_QUERY_FROM_NS=4]="QR_QUERY_FROM_NS",RE[RE.REPLACED_RAW_QUERY=5]="REPLACED_RAW_QUERY",RE[RE.QR_QUERY_FROM_BOXQRW=6]="QR_QUERY_FROM_BOXQRW",RE[RE.QR_QUERY_FROM_BOXQRW_END2END=7]="QR_QUERY_FROM_BOXQRW_END2END",RE),tb=((OE=tb||{})[OE.INVALID=0]="INVALID",OE[OE.NAME=1]="NAME",OE[OE.NICK_NAME=2]="NICK_NAME",OE[OE.AREA_NAME=3]="AREA_NAME",OE[OE.HOTEL_NAME=4]="HOTEL_NAME",OE[OE.SCENIC_NAME=5]="SCENIC_NAME",OE[OE.CINEMA_NAME=6]="CINEMA_NAME",OE),ib=((ME=ib||{})[ME.ROOT=0]="ROOT",ME[ME.PROVINCE=1]="PROVINCE",ME[ME.CITY=2]="CITY",ME[ME.DISTRICT=3]="DISTRICT",ME[ME.SUBDISTRICT=4]="SUBDISTRICT",ME[ME.SUBDISTRICT_NO=5]="SUBDISTRICT_NO",ME),ab=((NE=ab||{})[NE.PIC_DIRECTION_VERTICAL=1]="PIC_DIRECTION_VERTICAL",NE[NE.PIC_DIRECTION_HORIZONTAL=2]="PIC_DIRECTION_HORIZONTAL",NE),nb=(e=>(e[e.ANDROID=12]="ANDROID",e[e.IOS=19]="IOS",e[e.WE_CHAT=23]="WE_CHAT",e[e.MINI_GAME=46]="MINI_GAME",e[e.WE_CHAT_CARD=36]="WE_CHAT_CARD",e[e.WE_CHAT_SHOP=30]="WE_CHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.WE_CHAT_ARTICLE=29]="WE_CHAT_ARTICLE",e[e.GDT_WE_CHAT_ARTICLE=31]="GDT_WE_CHAT_ARTICLE",e[e.WE_CHAT_APP=38]="WE_CHAT_APP",e[e.LBS=37]="LBS",e[e.LEAD_AD=43]="LEAD_AD",e[e.JD_URL=25]="JD_URL",e[e.CHANNELS=51]="CHANNELS",e))(nb||{}),ob=((LE=ob||{})[LE.MP_TAG_TYPE_NONE=0]="MP_TAG_TYPE_NONE",LE[LE.MP_TAG_TYPE_PLAY=1]="MP_TAG_TYPE_PLAY",LE[LE.MP_TAG_TYPE_DOWNLOAD=3]="MP_TAG_TYPE_DOWNLOAD",LE[LE.MP_TAG_TYPE_FOLLOW=4]="MP_TAG_TYPE_FOLLOW",LE[LE.MP_TAG_TYPE_FORM=5]="MP_TAG_TYPE_FORM",LE[LE.MP_TAG_TYPE_CATEGORY=2]="MP_TAG_TYPE_CATEGORY",LE[LE.MP_TAG_TYPE_ORDER=6]="MP_TAG_TYPE_ORDER",LE[LE.MP_TAG_TYPE_POI=7]="MP_TAG_TYPE_POI",LE[LE.MP_TAG_TYPE_CONVERTION=8]="MP_TAG_TYPE_CONVERTION",LE[LE.MP_TAG_TYPE_APP_CATEGORY=9]="MP_TAG_TYPE_APP_CATEGORY",LE),rb=((WE=rb||{})[WE.DEFAULT=0]="DEFAULT",WE[WE.VIDEO=1]="VIDEO",WE[WE.LIVE=2]="LIVE",WE),sb=((BE=sb||{})[BE.DEFAULT=0]="DEFAULT",BE[BE.ROOM=1]="ROOM",BE[BE.RESERVATION=2]="RESERVATION",BE),lb=((VE=lb||{})[VE.NONE=1]="NONE",VE[VE.ON_AIR=2]="ON_AIR",VE[VE.ENDED=3]="ENDED",VE[VE.IN_PREPARE=4]="IN_PREPARE",VE),db=(e=>(e[e.NONE=0]="NONE",e[e.JSONPACK=1]="JSONPACK",e))(db||{}),cb=(...e)=>e.filter(Boolean).join(" "),pb=(e,t)=>t.reduce(((t,i)=>(i in e&&(t[i]=e[i]),t)),{}),ub=e=>e&&"object"==typeof e&&!Array.isArray(e);function hb(e,...t){if(!t.length)return e;var i=t.shift();if(ub(e)&&ub(i))for(var a of Object.keys(i))ub(i[a])?(e[a]||Object.assign(e,{[a]:{}}),hb(e[a],i[a])):Object.assign(e,{[a]:i[a]});return hb(e,...t)}var gb=(e,t,i)=>{for(var a="string"==typeof t?t.split("."):t,n=e,o=0;n&&o<a.length;)n=n[a[o]],o+=1;return o<a.length?null:null!=n?n:i};var fb=(e,t)=>{for(var{path:i,value:a,condition:n=!0}of t)if(n){var o=a||(i?gb(e,i):"");if(o)return o}return null},mb=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),yb=(e,t)=>{for(var i=0,a=0,n=0;n<e.length;n++)(i+=/[\u4e00-\u9fa5]/.test(e[n])?2:1)<t-1&&(a=n);return i>t?`${e.substring(0,a+1)}...`:e},vb=(Object.keys,Function.prototype.call.bind(String.prototype.split),Function.prototype.call.bind(String.prototype.indexOf),Function.prototype.call.bind(String.prototype.concat),Function.prototype.call.bind(String.prototype.substring),(e,t)=>{if(!(null==e?void 0:e.dataset))return{templateId:"",id:"",preventMask:!1};return["templateId","id","preventMask"].reduce(((i,a)=>{var n=t?mb(t(a)):a;return e.dataset[n]&&(i[a]=e.dataset[n]),i}),{})});function _b(e){for(var t,i,a=(t=[],i=[],Eb.forEach((e=>{t.push(e.img),i.push(e.text)})),{nameList:i,imgList:t}),n=/\[.*?\]/g,o=n.exec(e),r=0,s=[];o;){var l=o[0],d=o.index,c=a.nameList.indexOf(l);if(d>r)e.substring(r,d).split("").forEach((e=>{s.push({type:"text",props:{value:e}})}));if(c>-1&&a.imgList[c])s.push({type:"img",props:{src:`https://wxa.wxs.qq.com/wxad-design/emojis/${a.imgList[c]}.png`}});else l.split("").forEach((e=>{s.push({type:"text",props:{value:e}})}));r=d+l.length,o=n.exec(e)}return e.substring(r).split("").forEach((e=>{s.push({type:"text",props:{value:e}})})),s}var Eb=[{img:"smiley_0",text:"[微笑]"},{img:"smiley_1",text:"[撇嘴]"},{img:"smiley_2",text:"[色]"},{img:"smiley_3",text:"[发呆]"},{img:"smiley_5",text:"[流泪]"},{img:"smiley_6",text:"[害羞]"},{img:"smiley_8",text:"[睡]"},{img:"smiley_9",text:"[大哭]"},{img:"smiley_10",text:"[尴尬]"},{img:"smiley_11",text:"[发怒]"},{img:"smiley_12",text:"[调皮]"},{img:"smiley_13",text:"[呲牙]"},{img:"smiley_14",text:"[惊讶]"},{img:"smiley_15",text:"[难过]"},{img:"smiley_17",text:"[冷汗]"},{img:"smiley_18",text:"[抓狂]"},{img:"smiley_20",text:"[偷笑]"},{img:"smiley_21",text:"[愉快]"},{img:"smiley_22",text:"[白眼]"},{img:"smiley_23",text:"[傲慢]"},{img:"smiley_26",text:"[惊恐]"},{img:"smiley_27",text:"[流汗]"},{img:"smiley_28",text:"[憨笑]"},{img:"smiley_30",text:"[奋斗]"},{img:"smiley_32",text:"[疑问]"},{img:"smiley_34",text:"[晕]"},{img:"smiley_36",text:"[衰]"},{img:"smiley_38",text:"[敲打]"},{img:"smiley_39",text:"[再见]"},{img:"smiley_40",text:"[擦汗]"},{img:"smiley_42",text:"[鼓掌]"},{img:"smiley_44",text:"[坏笑]"},{img:"smiley_45",text:"[左哼哼]"},{img:"smiley_46",text:"[右哼哼]"},{img:"smiley_47",text:"[哈欠]"},{img:"smiley_49",text:"[委屈]"},{img:"smiley_50",text:"[快哭了]"},{img:"smiley_51",text:"[阴险]"},{img:"smiley_52",text:"[亲亲]"},{img:"smiley_54",text:"[可怜]"},{img:"smiley_56",text:"[西瓜]"},{img:"smiley_60",text:"[咖啡]"},{img:"smiley_62",text:"[猪头]"},{img:"smiley_63",text:"[玫瑰]"},{img:"smiley_65",text:"[嘴唇]"},{img:"smiley_66",text:"[爱心]"},{img:"smiley_68",text:"[蛋糕]"},{img:"smiley_75",text:"[月亮]"},{img:"smiley_76",text:"[太阳]"},{img:"smiley_78",text:"[拥抱]"},{img:"smiley_79",text:"[强]"},{img:"smiley_81",text:"[握手]"},{img:"smiley_82",text:"[胜利]"},{img:"smiley_83",text:"[抱拳]"},{img:"smiley_84",text:"[勾引]"},{img:"smiley_85",text:"[拳头]"},{img:"smiley_89",text:"[OK]"},{img:"smiley_92",text:"[跳跳]"},{img:"smiley_93",text:"[发抖]"},{img:"smiley_94",text:"[怄火]"},{img:"smiley_95",text:"[转圈]"},{img:"2_04",text:"[嘿哈]"},{img:"2_05",text:"[捂脸]"},{img:"2_02",text:"[奸笑]"},{img:"2_06",text:"[机智]"},{img:"2_12",text:"[皱眉]"},{img:"2_11",text:"[耶]"},{img:"2_20",text:"[加油]"},{img:"2_21",text:"[汗]"},{img:"2_22",text:"[天啊]"},{img:"2_23",text:"[社会社会]"},{img:"2_24",text:"[旺柴]"},{img:"2_25",text:"[好的]"},{img:"2_26",text:"[加油加油]"},{img:"2_27",text:"[哇]"},{img:"2_09",text:"[红包]"},{img:"2_16",text:"[發]"},{img:"2_15",text:"[福]"}],xb=function(e,t=!1){var i,a,n,o,r,s,l=null==(a=null==(i=null==e?void 0:e.extBackComm)?void 0:i.wegameInfo)?void 0:a.rank;if(!l)return null;var d=[{title:"人气榜",value:null!=(n=l.popularity_rank)?n:0},{title:"畅销榜",value:null!=(o=l.best_selling_rank)?o:0},{title:"畅玩榜",value:null!=(r=l.best_play_rank)?r:0},{title:"新游榜",value:null!=(s=l.new_game_rank)?s:0}].filter((e=>0!==e.value));if(!d.length)return null;t&&d.sort(((e,t)=>e.value-t.value));var c,p=d[0];if(p.value<=20)return c=p.value,`${p.title}第${c}名`;if(p.value>20&&p.value<=50)c=50;else{if(!(p.value>50&&p.value<=100))return null;c=100}return`${p.title}Top${c}`},bb={1:"最近多人在玩",2:"超过10万人在玩",3:"超过100万人在玩"},wb={1:"多个玩家分享",2:"超过10万人分享",3:"超过30万人分享"},Tb={1:"多个玩家收藏",2:"超过5000人收藏",3:"超过1万人收藏",4:"超过2万人收藏"},Cb=function(e,t=!1){var i,a=null==(i=null==e?void 0:e.extBackComm)?void 0:i.wegameInfo;if(!a)return null;var n=[{type:"act",text:bb[a.act_info||1],val:a.act_info},{type:"collect",text:Tb[a.collect_info||1],val:a.collect_info},{type:"share",text:wb[a.share_info||1],val:a.share_info}];return t&&n.sort(((e,t)=>(t.val&&t.val>1?1:0)-(e.val&&e.val>1?1:0))),n},Ab=function(e){var t,i,a,n,o;if(null==(t=null==e?void 0:e.extBackComm)?void 0:t.wegameInfo){var r=[];return 0!==(null==(i=e.extBackComm.wegameInfo)?void 0:i.category_2_id)&&e.extBackComm.wegameInfo.category_2_name&&r.push(null==(a=e.extBackComm.wegameInfo)?void 0:a.category_2_name),0!==(null==(n=e.extBackComm.wegameInfo)?void 0:n.category_3_id)&&e.extBackComm.wegameInfo.category_3_name&&r.push(null==(o=e.extBackComm.wegameInfo)?void 0:o.category_3_name),r.length?r:null}return null},Pb=function(e,t=!0){var i=Ab(e);return i&&i.find((e=>!t||"其他"!==e))||""},Ib={type:"EOF"},Sb=e=>{for(var t=new class{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",Ib),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&(()=>{for(var e=0,t=0,i=0,a=this.token.length;i<a;i++){var n=this.token[i];"("===n?e+=1:")"===n&&(t+=1)}return e===t})()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(Ib)}},i=0,a=e.length;i<a;){var n=e[i];i+=1,t.push(n)}return t.end(),t.tokens},kb=e=>"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null,Db=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren),Rb=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren),Ob=e=>{var t;t="string"==typeof e?Sb(e):e;for(var i=[kb({type:"ROOT"})],a=e=>{for(var t=e.priority;Db(i[i.length-1])&&Rb(i[i.length-2])&&t<=i[i.length-1].priority&&t<=i[i.length-2].priority;){var{children:a}=i[i.length-2];null==a||a.push(i.pop())}},n=e=>{var t=kb(e),n=i[i.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(Db(n))return;Rb(n)?n.children.push(t):i.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?Db(n)&&(t.priority>n.priority?((e,t)=>{var a=t.children.pop();a&&e.children.push(a),i.push(e)})(t,n):(a(t),(e=>{var t=i.pop();t&&e.children.push(t),i.push(e)})(t))):"ROOT_END"===t.type&&(a(t),i.push(t))},o=0,r=t.length;o<r;o++)n(t[o]);return i},Mb=({type:e,children:t,operator:i},a,n={})=>{var o=e=>Mb(t[e],a,n);if("COMPARE"===e){var r=i&&{">":()=>o(0)>o(1),"<":()=>o(0)<o(1),">=":()=>o(0)>=o(1),"<=":()=>o(0)<=o(1),"==":()=>o(0)==o(1),"!=":()=>o(0)!=o(1),"===":()=>o(0)===o(1)}[i];return r?r():null}if("LOGIC"===e){var s=i&&{"&&":()=>o(0)&&o(1),"||":()=>o(0)||o(1)}[i];return s?s():null}var l={NUMBER:()=>Number(t[0]),STR:()=>t[0],TPLSTR:()=>((e,t)=>{var i=e.split("."),a="";return i.forEach((e=>{""===a?a=t[e]:("string"==typeof a&&(a=JSON.parse(a)),a=a[e])})),a})(t[0],a),QUESTION:()=>o(0)?o(1):o(2),TPLFUNC:()=>((e,t,i)=>{var a=e.indexOf("("),n=e.substring(0,a),o=e.substring(a+1,e.length-1);if(!i[n])return null;for(var r=Sb(o),s=[],l=[],d=0,c=r.length;d<c;d++){var p=r[d];"COMMA"===p.type||"EOF"===p.type?(s.push(l),l=[]):l.push(p)}var u=[];return s.forEach((e=>{u.push(Lb(e,t,i))})),i[n].apply(null,u)})(t[0],a,n)},d=l[e]||null;return d?d():null},Nb=e=>({"#scope":e=>e,"#no":e=>!e,"#bool":e=>!!e,"#add":(e,t)=>e+t,"#sub":(e,t)=>e-t,"#multi":(e,t)=>e*t,"#division":(e,t)=>e/t,"#negative":e=>-e,"#mod":(e,t)=>e%t,"#toNumber":e=>Number(e),"#toArray":(...e)=>e,"#toString":e=>String(e),"#toRegExp":e=>new RegExp(e),"#test":(e,t)=>new RegExp(e).test(t),"#ceil":e=>Math.ceil(e),"#floor":e=>Math.floor(e),"#round":e=>Math.round(e),"#substring":(e,t,i)=>e.substring(t,i),"#like":(e,t)=>-1!==e.indexOf(t),"#toFixed":(e,t)=>parseFloat(e).toFixed(t),"#replace":(e,t,i)=>e.replace(t,i),"#replaceAll":(e,t,i)=>e.replaceAll(t,i),"#toLowerCase":e=>e.toLowerCase(),"#len":e=>e.length,"#hansLen":e=>{var t=0;for(var i of e)t+=/[\u4e00-\u9fa5]/.test(i)?2:1;return t/2},"#parse":e=>{try{return JSON.parse(e)}catch(e){return{}}},"#value":(e,t)=>e[t]||{},"#truncate":(e,t)=>{var i="",a=0;for(var n of e){if((a+=/[\u4e00-\u9fa5]/.test(n)?2:1)>t){i+="...";break}i+=n}return i},"#concat":(...e)=>e.join(""),"#split":(e,t,i)=>null==e?void 0:e.split(t,i),"#join":(e,t)=>null==e?void 0:e.join(t),"#abbrNum":e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,"#trimDigit":e=>{var t=e.toString().split(".");if(t.length<2)return e;for(var i=t.slice(-1)[0];"0"===i[i.length-1];)i=i.slice(0,-1);return t.slice(0,-1).concat(i?[i]:[]).join(".")},"#append":(e,t,i=!1)=>(i&&e.indexOf(t)>-1||e.push(t),e),"#remove":(e,t)=>e.filter((e=>e!==t)),"#include":(e,t)=>e.indexOf(t)>-1,"#indexedArray":e=>{if(e<=0)return[];for(var t=[],i=0;i<e;i+=1)t.push(i);return t},"#get":gb,"#slice":(e,t,i)=>e.slice(t,i),"#map":(t,i)=>t.map((t=>e.run(i,{$item:t}))),"#reduce":(t,i,a)=>t.reduce(((t,a)=>e.run(i,{$item1:t,$item2:a})),a),"#rand":()=>Math.random(),"#compareVersion":(e,t)=>function(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var i=e.split("."),a=t.split("."),n=Math.max(i.length,a.length);i.length<n;)i.push("0");for(;a.length<n;)a.push("0");for(var o=0;o<n;o++){var r=parseInt(i[o],10),s=parseInt(a[o],10);if(r>s)return 1;if(r<s)return-1}return 0}(e,t),"#fn":(e,...t)=>e(...t),"#hexToRgb":(e,t)=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,i,a)=>`${t}${t}${i}${i}${a}${a}`));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?Number.isNaN(t)?`rgb(${parseInt(i[1],16)}, ${parseInt(i[2],16)}, ${parseInt(i[3],16)})`:`rgba(${parseInt(i[1],16)}, ${parseInt(i[2],16)}, ${parseInt(i[3],16)}, ${t})`:""},"#parseInt":(e,t=10)=>parseInt(e,t),"#min":(...e)=>Math.min(...e),"#max":(...e)=>Math.max(...e),"#splice":(e,t,i,...a)=>(e.splice(t,i,...a),e),"#arrConcat":(e,t)=>e.concat(t),"#case":(...e)=>{for(;e.length;){var t=e.shift(),i=e.shift();if(t)return i}},"#getWegameRankingInfo":xb,"#getWegameActInfo":Cb,"#getWegameCategoryInfos":Ab,"#getWegameCategoryName":Pb}),Lb=(e,t,i)=>{try{var a=Ob(e);return Mb(a[1],t,qv(qv({},Nb({run:(e,a={})=>Lb(e,qv(qv({},t),a),i)})),i))}catch(e){}return null},Wb=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},Bb=10;function Vb(){this._events={},this._conf&&Hb.call(this,this._conf)}function Hb(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._events.maxListeners=void 0!==e.maxListeners?e.maxListeners:Bb,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._events.maxListeners=Bb}function Fb(e,t){var a="(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak?(a+=" Event name: %s.",i.error(a,e,t)):i.error(a,e),i.trace&&i.trace()}function Gb(e,t,i,a){if(!i)return[];var n,o,r,s,l,d,c,p=[],u=t.length,h=t[a],g=t[a+1];if(a===u&&i._listeners){if("function"==typeof i._listeners)return null==e||e.push(i._listeners),[i];for(n=0,o=i._listeners.length;n<o;n++)null==e||e.push(i._listeners[n]);return[i]}if("*"===h||"**"===h||i[h]){if("*"===h){for(r in i)"_listeners"!==r&&i.hasOwnProperty(r)&&(p=p.concat(Gb(e,t,i[r],a+1)));return p}if("**"===h){for(r in(c=a+1===u||a+2===u&&"*"===g)&&i._listeners&&(p=p.concat(Gb(e,t,i,u))),i)"_listeners"!==r&&i.hasOwnProperty(r)&&("*"===r||"**"===r?(i[r]._listeners&&!c&&(p=p.concat(Gb(e,t,i[r],u))),p=p.concat(Gb(e,t,i[r],a))):p=r===g?p.concat(Gb(e,t,i[r],a+2)):p.concat(Gb(e,t,i[r],a)));return p}p=p.concat(Gb(e,t,i[h],a+1))}if((s=i["*"])&&Gb(e,t,s,a+1),l=i["**"])if(a<u)for(r in l._listeners&&Gb(e,t,l,u),l)"_listeners"!==r&&l.hasOwnProperty(r)&&(r===g?Gb(e,t,l[r],a+2):r===h?Gb(e,t,l[r],a+1):((d={})[r]=l[r],Gb(e,t,{"**":d},a+1)));else l._listeners?Gb(e,t,l,u):l["*"]&&l["*"]._listeners&&Gb(e,t,l["*"],u);return p}function Ub(e,t){for(var i=0,a=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;i+1<a;i++)if("**"===e[i]&&"**"===e[i+1])return;for(var n=this.listenerTree,o=e.shift();void 0!==o;){if(n[o]||(n[o]={}),n=n[o],0===e.length)return n._listeners?("function"==typeof n._listeners&&(n._listeners=[n._listeners]),n._listeners.push(t),!n._listeners.warned&&this._events.maxListeners>0&&n._listeners.length>this._events.maxListeners&&(n._listeners.warned=!0,Fb.call(this,n._listeners.length,o))):n._listeners=t,!0;o=e.shift()}return!0}function zb(e){var t=[19,12].includes(e.product_type),i=[51].includes(e.product_type),a=972===e.crt_size,n=[30,25].includes(e.product_type),o=[46].includes(e.product_type),r=[559,560,721].includes(e.crt_size);return fb(e,[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:a},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:r},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["app_info","icon_url"],condition:t},{path:["crtInfo","0","card_info","thumb"],condition:i},{path:["crtInfo","card_info","thumb"],condition:i},{path:["game_info","head_img"],condition:o},{path:["biz_info","head_img"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{path:["crtInfo","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:n},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}])}function jb(e){var t=[19,12].includes(null==e?void 0:e.product_type),i=[51].includes(null==e?void 0:e.product_type),a=972===e.crt_size,n=[29,31].includes(null==e?void 0:e.product_type),o=[30,25].includes(null==e?void 0:e.product_type),r=[46].includes(null==e?void 0:e.product_type),s=[559,560,721,929].includes(null==e?void 0:e.crt_size);return fb(e,[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:a},{path:["crtInfo","0","wxgame_video_card","title"],condition:s},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["game_info","nick_name"],condition:r},{path:["app_info","app_name"],condition:t},{path:["crtInfo","0","card_info","title"],condition:i},{path:["crtInfo","card_info","title"],condition:i},{path:["biz_info","nick_name"]},{path:["crtInfo","0","card_info","title"]},{path:["crtInfo","card_info","title"]},{value:"品牌推广",condition:n},{value:"电商推广",condition:o},{value:"活动推广"}])}var $b,Yb,qb,Kb,Zb,Xb,Jb,Qb,ew,tw,iw,aw,nw,ow,rw,sw,lw,dw,cw,pw,uw,hw,gw,fw,mw,yw,vw,_w,Ew,xw,bw,ww,Tw,Cw,Aw,Pw,Iw,Sw,kw,Dw=Xv(i_()),Rw=Xv(i_()),Ow=Xv(i_()),Mw=(Xv(i_()),($b=Mw||{}).opacity="opacity",$b.left="left",$b.top="top",$b),Nw=((Yb=Nw||{}).rotate="rotate",Yb.scaleX="scaleX",Yb.scaleY="scaleY",Yb),Lw=((qb=Lw||{}).HIDEAD="hideAd",qb.SETSTYLE="setStyle",qb.REPORTIDKEY="reportIdKey",qb.TRIGGEREVENT="triggerEvent",qb.SETEXPRVARS="setExprVar",qb.BATCHSETEXPRVARS="batchSetExprVar",qb.VIDEOTOGGLEMUTED="videoToggleMuted",qb.VIDEOPLAY="videoPlay",qb.VIDEOPAUSE="videoPause",qb.VIDEOSTOP="videoStop",qb.BUTTONSETTEXT="buttonSetText",qb.RELOADAD="reloadAd",qb.REPORTMMDATA="reportMMData",qb.ENDPAGEHIDE="endPageHide",qb.IMAGESETSRC="imageSetSrc",qb.TEXTSETTEXT="textSetText",qb.ANIMATE="animate",qb.TRIGGERBTNCLICK="triggerBtnClick",qb.CHANGEMULTISHOW="changeMultiShow",qb.LANDAD="landAd",qb.EMITCUSTOMMESSAGE="emitCustomMessage",qb.SPLASHSKIPAD="splashSkipAd",qb.ADDCHILDREN="addChildren",qb.REPORTADMONITORDATA="reportAdMonitorData",qb.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",qb.REPORTENDPAGE="reportEndPage",qb.SHOWANIMATEDONE="showAnimateDone",qb.HIDEANIMATEDONE="hideAnimateDone",qb.FORCEREBUILD="forceRebuild",qb.CHANGEIFRAMESIZE="changeIframeSize",qb.CHANGEADAREASTYLE="changeAdAreaStyle",qb.TRIGGERCOMPONENTEVENT="triggerComponentEvent",qb.ADDCLASS="addClass",qb.REMOVECLASS="removeClass",qb.SHOWPOPUP="showPopup",qb.HIDEPOPUP="hidePopup",qb.GETBOUNDINGCLIENTRECT="getBoundingClientRect",qb.CHANGECOUNTDOWNVALUE="changeCountdownValue",qb),Ww=((Kb=Ww||{}).TAP="tap",Kb.TOUCHSTART="touchstart",Kb.TOUCHEND="touchend",Kb.TOUCHCANCEL="touchcancel",Kb.SLIDE="slide",Kb.LONGTAP="longTap",Kb.ANIMATIONEND="animationend",Kb.HOSTMESSAGE="hostMessage",Kb.TEMPLATEWILLUPDATE="templateWillUpdate",Kb),Bw=((Zb=Bw||{}).APPENTERFOREGROUND="appEnterForeground",Zb.APPENTERBACKGROUND="appEnterBackground",Zb.CONTAINERTAP="containerTap",Zb.ADBUTTONTAP="adButtonTap",Zb.VIEWABLEEXPOSURE="viewableExposure",Zb.EXPOSURE="exposure",Zb.SHOWEDGE="showEdge",Zb.HIDEEDGE="hideEdge",Zb.SHOWHALF="showhalf",Zb.HIDEHALF="hidehalf",Zb.SHOWENTIRE="showEntire",Zb.HIDEENTIRE="hideEntire",Zb.SHOWANIMATE="showAnimate",Zb.HIDEANIMATE="hideAnimate",Zb.SPLASHADFIRSTRENDER="splashAdFirstRender",Zb.SPLASHADMENUVIEW="splashAdMenuView",Zb.INITIALTEMPLATE="initialTemplate",Zb),Vw=((Xb=Vw||{}).BUTTONTAP="buttonTap",Xb),Hw=((Jb=Hw||{}).RELATIONFETCHED="relationFetched",Jb.RELATIONTEXTCHANGED="relationTextChanged",Jb),Fw=((Qb=Fw||{}).VIDEOLOADSTART="videoLoadStart",Qb.VIDEOENDED="videoEnded",Qb.VIDEOPAUSE="videoPause",Qb.VIDEOPLAY="videoPlay",Qb.VIDEOTIMEUPDATE="videoTimeUpdate",Qb.MUTEDCHANGE="mutedChange",Qb.VIDEOLOADEDMETADATA="videoLoadedMetaData",Qb),Gw=((ew=Gw||{}).FEEDBACKBTNTAP="feedbackBtnTap",ew.TAGTAP="tagTap",ew.DISLIKETAP="dislikeTap",ew.DISLIKEREASONTAP="dislikeReasonTap",ew),Uw=((tw=Uw||{}).REPLAY="replay",tw.SHOW="show",tw.HIDE="hide",tw.VIDEODISLIKE="videodislike",tw),zw=((iw=zw||{}).SHOWCHANGE="showChange",iw.UNITTAP="unitTap",iw),jw=((aw=jw||{}).REWARDEDVIDEOPLAY="rewardedVideoPlay",aw.REWARDEDVIDEOEND="rewardedVideoEnd",aw.REWARDEDVIDEOTIMEUPDATE="rewardedVideoTimeUpdate",aw.REWARDEDVIDEOSHOWFLOORINGPAGE="rewardedVideoShowFlooringPage",aw.REWARDEDVIDEOHANDLEDYNAMICDONE="rewardedVideoHandleDynamicDone",aw),$w=((nw=$w||{}).IMGERROR="imgError",nw.IMGLOAD="imgLoad",nw),Yw=((ow=Yw||{}).IMGERROR="imgError",ow.IMGLOAD="imgLoad",ow),qw=((rw=qw||{}).FEEDBACKBTNTAP="feedbackBtnTap",rw.FEEDBACKREPORT="feedbackReport",rw.FEEDBACKSINGLETAGTAP="feedbackSingleTagTap",rw.SHOWFEEDBACK="showFeedback",rw.FEEDBACKFAVTAP="feedbackFavTap",rw.CONTAINERTAP="containerTap",rw.CHECKEXPOSURE="checkExposure",rw.HIDEANIMATIONDONE="hideAnimationDone",rw.APPENTERBACKGROUND="appEnterBackground",rw.APPENTERFOREGROUND="appEnterForeground",rw.CHANGEIFRAMESIZE="changeIframeSize",rw.CHANGEADAREASTYLE="changeAdAreaStyle",rw.ALLMATERIALLOADED="allMaterialLoaded",rw.MATERIALLOADERROR="materialLoadError",rw.STOPPROPAGATIONTAP="stopPropagationTap",rw.BTNTAP="btnTap",rw.REPORTVIDEOPLAY="reportVideoPlay",rw.ADVIDEOPAUSE="adVideoPause",rw.ADVIDEOPLAY="adVideoPlay",rw.ADVIDEOMUTECHANGE="adVideoMuteChange",rw.ADVIDEOLOADFAILED="adVideoLoadFailed",rw.ADVIDEOLOADEDMETADATA="adVideoLoadedMetaData",rw.ADVIDEORESUMEBTNCLICK="adVideoResumeBtnClick",rw.ADVIDEOTIMEUPDATE="adVideoTimeUpdate",rw.ADVIDEOENDED="adVideoEnded",rw.ADVIDEOLOADSTART="adVideoLoadStart",rw.ALLOWADVIDEOLOAD="allowAdVideoLoad",rw.FETCHRELATIONTEXT="fetchRelationText",rw.RELATIONTEXTCHANGED="relationTextChanged",rw.FETCHHOSTTEXT="fetchHostText",rw.ENDPAGEINIT="endPageInit",rw.ENDPAGEHIDE="endPageHide",rw.ENDPAGESHOW="endPageShow",rw.SHOWENDPAGE="showEndPage",rw.REPORTENDPAGE="reportEndPage",rw.IMGSTARTLOAD="imgStartLoad",rw.IMGLOAD="imgLoad",rw.MULTIMGLOAD="multImgLoad",rw.IMGERROR="imgError",rw.HOSTTAGMOUNTED="hostTagMounted",rw.POITAP="poiTap",rw.ITEMTAP="itemTap",rw.HIDEAD="hideAd",rw.REPORTTIMEPOINT="reportTimePoint",rw.FEEDBACKHIDE="feedbackHide",rw.PREDOWNLOADMATERIAL="predownloadMaterial",rw.TRIGGEREVENT="triggerEvent",rw.LANDAD="landAd",rw.CHANGEMULTISHOW="changeMultiShow",rw.REPORTMMDATA="reportMMData",rw.REPORTADMONITORDATA="reportAdMonitorData",rw.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",rw.TEMPLATEMESSAGE="templateMessage",rw.REPORTIDKEY="reportIdKey",rw.SHOWPOPUP="showPopup",rw.HIDEPOPUP="hidePopup",rw.CHANGEADBTNTEXT="changedAdBtnText",rw.CHANGERELATIONTEXT="changeRelationText",rw.CHANGEHOSTTEXT="changeHostText",rw.ADSHOWEDGE="adShowEdge",rw.ADHIDEEDGE="adHideEdge",rw.ADSHOWHALF="adShowHalf",rw.ADHIDEHALF="adHideHalf",rw.ADSHOWENTIRE="adShowEntire",rw.ADHIDEENTIRE="adHideEntire",rw.SETSTYLE="setStyle",rw.ORIENTATIONCHANGE="orientationChange",rw.SETDARKMODE="setDarkMode",rw.OPERATEADVIDEO="operateAdVideo",rw.CHANGECOUNTDOWN="changeCountdown",rw.SPLASHSKIPAD="splashSkipAd",rw.EXPOSURE="exposure",rw.VIEWABLEEXPOSURE="viewableExposure",rw.HOSTMESSAGE="hostMessage",rw.UPDATECHANNELSTATUS="updateChannelStatus",rw.PREDOWNLOADMATERIALDONE="predownloadMaterialDone",rw.CHANGEVIDEOMUTE="changeVideoMute",rw),Kw=((sw=Kw||{})[sw.COMMON=1]="COMMON",sw[sw.FULLSCREEN=2]="FULLSCREEN",sw),Zw=((lw=Zw||{})[lw.COMMON=1]="COMMON",lw[lw.ROW=2]="ROW",lw[lw.COLUMN=3]="COLUMN",lw[lw.PROPORTION=4]="PROPORTION",lw),Xw=((dw=Xw||{})[dw.COMMON=1]="COMMON",dw[dw.ICON=2]="ICON",dw[dw.AD=3]="AD",dw),Jw=((cw=Jw||{})[cw.DEFAULT=0]="DEFAULT",cw[cw.AVIF=1]="AVIF",cw[cw.WEBP=2]="WEBP",cw),Qw=((pw=Qw||{})[pw.COMMON=1]="COMMON",pw[pw.AD=2]="AD",pw),eT=((uw=eT||{})[uw.COMMON=1]="COMMON",uw[uw.NICKNAME=2]="NICKNAME",uw[uw.DESC=3]="DESC",uw[uw.RELATION=4]="RELATION",uw[uw.HOST=5]="HOST",uw),tT=((hw=tT||{})[hw.COMMON=1]="COMMON",hw[hw.LOGICCOMMON=2]="LOGICCOMMON",hw),iT=((gw=iT||{})[gw.COMMON=1]="COMMON",gw[gw.AD=2]="AD",gw),aT=((fw=aT||{})[fw.COMMON=1]="COMMON",fw[fw.SIMPLE=2]="SIMPLE",fw[fw.SINGLETAG=3]="SINGLETAG",fw),nT=((mw=nT||{})[mw.COMMON=1]="COMMON",mw),oT=((yw=oT||{})[yw.COMMON=1]="COMMON",yw),rT=((vw=rT||{})[vw.NONE=0]="NONE",vw[vw.COMMON=1]="COMMON",vw[vw.ADS=2]="ADS",vw),sT=((_w=sT||{})[_w.NONE=0]="NONE",_w[_w.ROWLOOP=1]="ROWLOOP",_w[_w.COLUMNLOOP=2]="COLUMNLOOP",_w),lT=((Ew=lT||{})[Ew.NONE=0]="NONE",Ew[Ew.COMMOM=1]="COMMOM",Ew),dT=((xw=dT||{})[xw.NONE=0]="NONE",xw[xw.COMMON=1]="COMMON",xw),cT=((bw=cT||{})[bw.NONE=0]="NONE",bw[bw.COMMON=1]="COMMON",bw),pT=((ww=pT||{})[ww.NONE=0]="NONE",ww[ww.COMMOM=1]="COMMOM",ww),uT=((Tw=uT||{})[Tw.NONE=0]="NONE",Tw[Tw.COMMOM=1]="COMMOM",Tw),hT=((Cw=hT||{})[Cw.NONE=0]="NONE",Cw[Cw.COMMON=1]="COMMON",Cw),gT=((Aw=gT||{})[Aw.NONE=0]="NONE",Aw[Aw.COMMON=1]="COMMON",Aw[Aw.AD=2]="AD",Aw),fT=((Pw=fT||{}).BASE="base",Pw.COMPONENT="component",Pw.HOC="hoc",Pw),mT=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"],yT=((Iw=yT||{}).INNERSTYLE="innerStyle",Iw.STYLE="style",Iw),vT={},_T=(e,t,i)=>`${e?`${e}-`:""}${i?`${i}_`:""}${t}`,ET=class extends Ow.Component{constructor(e,t){super(e),this.style={},this.darkModeStyle={},this.templateStyle={},this.dynamicStyle={},this.adCustomListeners=new Set,this.mounted=!1,this.classListMap={},this.handleStyleType=["innerStyle"],this.componentBehavior="component",this.state={},this.handleAdCustomAction=e=>{var t,i;e.targetidReg?(null==(i=(t=e.targetidReg).test)?void 0:i.call(t,this.id))&&this.doCommonAction(e):e.targetid&&e.targetid===this.id&&this.doCommonAction(e)},this.registeMaterialLoadPromise=()=>{var{resolve:e,reject:t}=this.props.materialLoader.registeMaterialLoadPromise();this.materialLoadResolve=e,this.materialLoadReject=t},this.bindStyle=e=>{[this.templateStyle,this.dynamicStyle].forEach((t=>{e.forEach((({originId:e,originKey:i,destRules:a})=>{t[e]||(t[e]={}),Object.defineProperty(t[e],i,{configurable:!0,enumerable:!0,get:()=>t[e][`_${i}`],set(n){n!==t[e][`_${i}`]&&(t[e][`_${i}`]=n,a.forEach((a=>{var o,{destClassName:r,handleFn:s}=a,{destKey:l}=a;l||(l=i);var d=s?s(n,t[e]):n;t[o=`.bind-${r}`]||(t[o]={}),t[`.bind-${r}`][l]=d})))}})}))}))},this.adCustomId=e.adCustomId,this.adData=e.adData,this.adDatas=e.adDatas,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||0,this.forItem=e.forItem,this.forIndex=e.forIndex,this.hostContext=e.hostContext,this.renderContext=e.renderContext,(null==t?void 0:t.componentBehavior)&&(this.componentBehavior=t.componentBehavior);var i=e.template||{};this.template=i,this.id=_T(this.adCustomId,this.template.id,this.idPrefix);var a=i.options||{};this.options=a,this.data=a.data||{},this.events=a.events||{},this.lifecycle=a.lifecycle||{},this.innerStyles=a.innerStyles||{},this.innerClassStyles=a.innerClassStyles||{},this.animations=a.animations||{},this.bubbleEvent=void 0===a.bubbleEvent||a.bubbleEvent,this.classStyles=e.classStyles||{},this.classListMap=this.getClassList(a.classList||{}),this.classNames=this.getDataValue("_classNames")||{};var n=this.getDataValue("_bubbleEvent");void 0!==n&&(this.bubbleEvent=n),this.bindCommonEvents()}componentDidMount(){this.mounted=!0,["component"].includes(this.componentBehavior)&&this.emitComponentLifeCycle("onInit")}componentWillUnmount(){["component"].includes(this.componentBehavior)&&this.emitComponentLifeCycle("onDestroy"),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){["component","base"].includes(this.componentBehavior)&&this.emitter.on("adCustomAction",this.handleAdCustomAction),"component"===this.componentBehavior&&this.addAdCustomListener((e=>{if("setStyle"===e.action){var{id:t,targetid:i,style:a}=e.value||{};i===this.id&&this.setStyle(t,a,{isDynamic:!0,force:!0})}else"hostMessage"===e.action&&this.emitComponentEvent("hostMessage",e.value)}))}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adData:this.adData,adDatas:this.adDatas,systemInfo:this.props.systemInfo,isMulti:this.props.isMulti,darkMode:this.props.darkMode,hostContext:this.props.hostContext,renderContext:this.renderContext,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,extraScope:this.props.extraScope,innerFunctions:this.props.innerFunctions,classStyles:this.classStyles,materialLoader:this.props.materialLoader}}getDataValue(e,t,i){var a=t||this.data,n=a[`${e}Expr`];return n?this.run(n,null==i?void 0:i.args):a[e]}getDataValueWithDefault(e,t,i,a){var n=i?this.getDataValue(e,i,a):this.getDataValue(e);return void 0===n?t:n}getAdData(){return 2===this.forType&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){var t=t=>{t.adCustomId===this.adCustomId&&(null==e||e(t))};this.adCustomListeners.add(t),this.emitter.on("adCustomEvent",t)}removeAdCustomListener(){for(var e of this.adCustomListeners)this.emitter.off("adCustomEvent",e),this.adCustomListeners.delete(e)}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){var i=this.events[e];(null==i?void 0:i.length)&&this.doActions(i,t||{})}emitComponentLifeCycle(e,t){var i=this.lifecycle[e];(null==i?void 0:i.length)&&this.doActions(i,t)}doActions(e=[],t={}){for(var i of e)if(i.force&&!i.targetid)this.doCommonAction({args:t,payload:i});else{var a=this.getDataValue("targetid",i),n=this.getDataValue("targetidReg",i),o=null;try{n&&(o=new RegExp(n))}catch(e){o=null}this.emitter.emit("adCustomAction",{fromid:this.id,targetid:a?`${this.adCustomId}-${a}`:this.id,targetidReg:o,args:t,payload:i})}}doCommonAction(e){var{payload:t,args:i}=e,{delay:a=null,expr:n}=t,o=()=>{var a,o,r,s;if(!n||this.run(n,i))if("base"!==this.componentBehavior)switch(t.action){case"setStyle":var{value:l}=t;if(l.style||(l.style={}),l.styleExpr)for(var d of Object.keys(l.styleExpr))l.style[d]=this.run(l.styleExpr[d],i);var c=null==(a=l.force)||a;l.forceExpr&&(c=null==(o=this.run(l.forceExpr,i))||o),this.setStyle(l.id,l.style,{isDynamic:!0,force:c});break;case"setExprVar":var{key:p}=t.value,u=this.getDataValue("value",t.value,{args:i});this.getExprInnerVars()[p]=u;break;case"reportIdKey":var{id:h,key:g}=t.value;this.emitAdCustomEvent("reportIdKey",{id:h,key:g});break;case"batchSetExprVar":var{list:f}=t.value;for(var m of f){var{key:y}=m,v=this.getDataValue("value",m);this.getExprInnerVars()[y]=v}break;case"triggerEvent":var{detail:_={},eventName:E}=t.value;try{if((null==i?void 0:i.event)&&(_.rawDetail=JSON.stringify(i.event)),t.value.detailExpr)for(var x of Object.keys(t.value.detailExpr)){var b=t.value.detailExpr[x];_[x]=this.run(b,i)}}catch(e){}this.emitAdCustomEvent("triggerEvent",{eventName:E,detail:_});break;case"reportMMData":var{data:w,dataExpr:T,id:C}=t.value;if(T)for(var A of Object.keys(T)){var P=T[A];w[A]=this.run(P,i)}this.emitAdCustomEvent("reportMMData",{id:C,data:w});break;case"animate":var I=this.getDataValue("id",t.value,{args:i}),S=this.getDataValue("animation",t.value,{args:i});this.doAnimation({id:I,animationName:S});break;case"triggerBtnClick":var k=null==i?void 0:i.event;k&&this.emitAdCustomEvent("btnTap",{event:k});break;case"landAd":var D=null==i?void 0:i.event;D&&this.emitAdCustomEvent("landAd",{index:this.getDataValueWithDefault("index",0,t.value,{args:i}),event:D,extInfo:this.getObjExpr(null==(r=t.value)?void 0:r.extInfo,{args:i})});break;case"splashSkipAd":var R=null==i?void 0:i.event;R&&this.emitAdCustomEvent("splashSkipAd",{event:R});break;case"reportAdMonitorData":var{id:O,key:M,extInfo:N}=t.value;this.emitAdCustomEvent("reportAdMonitorData",{id:O,key:M,extInfo:this.getObjExpr(N,{args:i})});break;case"rewardedVideoDynamic":var{list:L}=t.value;this.emitAdCustomEvent("rewardedVideoDynamic",{list:L});break;case"emitCustomMessage":var{message:W,args:B}=t.value;W&&this.emitAdCustomEvent("templateMessage",{message:W,args:this.getObjExpr(B,{args:i}),actionArgs:i});break;case"reportEndPage":var{data:V}=t.value;this.emitAdCustomEvent("reportEndPage",{data:V});break;case"changeIframeSize":"value"in t?this.emitAdCustomEvent("changeIframeSize",{data:null==(s=t.value)?void 0:s.data}):this.emitAdCustomEvent("changeIframeSize");break;case"changeAdAreaStyle":var{data:H}=t.value;if(t.value.dataExpr)for(var F of Object.keys(t.value.dataExpr)){var G=t.value.dataExpr[F];H[F]=this.run(G,i)}this.emitAdCustomEvent("changeAdAreaStyle",{data:H});break;case"triggerComponentEvent":var{eventName:U,args:z}=t.value;this.emitComponentEvent(U,qv(qv({},i),z));break;case"addClass":var{id:j,className:$}=t.value;if(Object.keys(this.classListMap).includes(j))this.classListMap[j].includes($)||(this.classListMap[j]=this.classListMap[j].concat($),this.forceUpdate());else this.classListMap[j]=[$],this.forceUpdate();break;case"removeClass":var{id:Y,className:q}=t.value;if(Object.keys(this.classListMap).includes(Y)){var K=this.classListMap[Y];if(K.includes(q)){var Z=K.indexOf(q);K.splice(Z,1),this.classListMap[Y]=K,this.forceUpdate()}}break;case"getBoundingClientRect":var{id:X,eventName:J}=t.value,{getBoundingClientRect:Q}=this.hostContext,ee=this.getElementById(X),te=e=>{this.emitComponentEvent(J,Kv(qv({},i),{rect:e}))};if(ee){var ie=Q(ee);ie instanceof Promise?ie.then(te):te(ie)}break;default:"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)}else"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)};null!=a?setTimeout(o,a):o()}getObjExpr(e,t){if(!e||"object"!=typeof e)return e;var i={};for(var a of Object.keys(e)){var n="Expr";if(a.indexOf(n)>-1&&a.indexOf(n)===a.length-4){var o=a.slice(0,-4);i[o]=this.getDataValue(o,e,t)}else ub(e[a])?i[a]=this.getObjExpr(e[a],t):i[a]=e[a]}return i}run(e,t){var i=qv(qv({},this.getInnerFunction()),this.props.innerFunctions||{}),a=qv(qv({},this.getScope()),i);return Lb(e,t?qv({$args:t},a):a,i)}getElementById(e){var t,{renderContext:{hostContainer:i,getRootElement:a,isFlattenLayer:n},hostContext:{getPropertyOfElement:o}}=this,r=a(this);if(!r)return null;if("$$"===e||!e&&n())return r;if(!e){var s=null!=(t=o(r,"parent"))?t:null;return s===i?r:s}return this.travelAndFindElementById(e,r)}isTextNode(e){return!1}travelAndFindElementById(e,t){var{getPropertyOfElement:i,getDatasetPrefix:a}=this.hostContext;if(this.isTextNode(t))return null;var n=vb(t,a);if(n.templateId!==this.id)return null;if(n.id===e)return t;var o=i(t,"children");for(var r of o){var s=this.travelAndFindElementById(e,r);if(s)return s}return null}travelAndFindElementByIdDeeply(e,t,i){if(!i||this.isTextNode(i))return null;var{getPropertyOfElement:a,getDatasetPrefix:n}=this.hostContext,o=vb(i,n);if(_T(this.adCustomId,e,this.idPrefix)===o.templateId&&(!t||o.id===t))return i;var r=a(i,"children");for(var s of r){var l=this.travelAndFindElementByIdDeeply(e,t,s);if(l)return l}return null}doAnimation(e){return Qv(this,arguments,(function*({id:e,emitEvent:t=!0,animationName:i,animation:a}){var{animate:n}=this.hostContext,o=!a&&i?this.animations[i]:a,r=this.getElementById(e);if(o&&r){var{keys:s,duration:l,easing:d}=o;if(!(((null==s?void 0:s.length)||0)<2)){var c=0;for(var p of Object.keys(s)){var u=s[+p],h=this.getDataValue("offset",u),g=this.getDataValue("opacity",u),f=this.getDataValue("left",u),m=this.getDataValue("top",u),y=this.getDataValue("rotate",u),v=this.getDataValue("scaleX",u),_=this.getDataValue("scaleY",u),E=this.getDataValue("translateX",u),x=this.getDataValue("translateY",u),b=this.getDataValue("background",u),w=this.getDataValue("color",u),T=this.getDataValue("width",u),C=this.getDataValue("height",u),A=l*h,P=this.convertAnimationTransform({opacity:g,left:f,top:m,rotate:y,scaleWidth:v,scaleHeight:_,background:b,color:w,width:T,height:C,translateX:E,translateY:x});if(A<=0)this.setStyle(e,P,{isDynamic:!0,force:!0});else{var I=Kv(qv({},P),{easing:d,duration:A-c});I.left=P.left,I.top=P.top,yield null==n?void 0:n(r,I),c=A,this.setStyle(e,P,{isDynamic:!0,force:!0})}}i&&t&&(yield this.emitComponentEvent("animationend",{animation:i,id:_T(void 0,this.template.id,this.idPrefix)}))}}}))}convertAnimationTransform(e){var t=[null!=e.rotate?`rotate(${e.rotate}deg)`:"",null!=e.scaleWidth?`scaleX(${e.scaleWidth})`:"",null!=e.scaleHeight?`scaleY(${e.scaleHeight})`:"",null!=e.translateX?`translateX(${e.translateX})`:"",null!=e.translateY?`translateY(${e.translateY})`:""].filter(Boolean).join(" ");return t&&(e.transform=t),e}isDarkMode(){var e;return null!=(e=this.state.darkMode)?e:this.props.darkMode}updateInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];if(!t.expr||this.run(t.expr)){var i=qv({},t.style||{});this.isDarkMode()&&Object.assign(i,t.darkModeStyle||{}),this.updateStyle(i,e)}}}updateInnerClassStyle(){var e;if(this.innerClassStyles)for(var t of Object.keys(this.innerClassStyles)){var i=this.innerClassStyles[t];if(!i.expr||this.run(i.expr)){var a=qv({},i.style||{});(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(a,i.darkModeStyle||{}),this.updateStyle(a,`.${t}`)}}}updateOuterStyle(){var e=qv({},this.template.style||{});this.isDarkMode()&&Object.assign(e,this.template.darkModeStyle||{}),this.updateStyle(e,"container")}updateClassStyle(){var{classStyles:e}=this;if(e)for(var t of Object.keys(e)){var i=e[t];if(!i.expr||this.run(i.expr)){var a=qv({},i.style||{});this.isDarkMode()&&Object.assign(a,i.darkModeStyle||{}),this.updateStyle(a,`.${t}`)}}}getClassList(e){var t={};return Object.keys(e).forEach((i=>{var a=e[i];Object.keys(a).forEach((e=>{t[i]=e.includes("Expr")?this.run(a.listExpr):a.list}))})),t}setStyle(e,t,{isDynamic:i,force:a}={isDynamic:!1,force:!1}){var n=i?this.dynamicStyle:this.templateStyle,o=this.getDataValue("_useApx")?this.convertToApxRatio(t):t,{getRootElement:r}=this.renderContext,s=e,l=!1;if("$$"===s){var d=r(this);if(!d)return;s=vb(d,this.hostContext.getDatasetPrefix).id}if(o){for(var c of Object.keys(o))o[c]=this.convertApxStyle(o[c]);if(s)for(var p of(n[s]||(n[s]={}),Object.keys(o)))null!=o[p]?(o[p]!==n[s][p]&&(l=!0),n[s][p]=o[p]):delete n[s][p]}this.mounted&&l&&i&&a&&this.forceUpdate()}convertApxStyle(e){var{renderContext:{ratio:t}}=this;return((e,t)=>(null==e?void 0:e.replace)?e.replace(d_,((e,i)=>`${Number(i*t)}px`)):e)(e,t)}updateStyle(e,t){if(e)for(var i of Object.keys(e)){var a=i,n=e[i];if(i.includes("Expr")){var o=i.split("Expr");2===o.length&&([a]=o,n=this.run(n))}this.setStyle(t,{[a]:n})}}getScope(){var e,t,{ratio:i}=this.renderContext;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$id:this.id,$customId:this.adCustomId,$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null==(e=this.props)?void 0:e.systemInfo)||{},darkMode:(null==(t=this.props)?void 0:t.darkMode)||!1,ua:"",ratio:i,time:Date.now(),undefined:void 0},$for:{index:this.forIndex,item:this.forItem},$scope:this.props.extraScope||{}}}getExprInnerVars(){return void 0===vT[this.adCustomId]&&(vT[this.adCustomId]={}),vT[this.adCustomId]}getInnerFunction(){var e=this.getExprInnerVars(),{hostContext:t}=this;return{"#getVar":t=>e[t],"#measureText":(e,i)=>"function"==typeof t.getTextWidth?t.getTextWidth(e,i):0,"#getIconSrc":zb,"#getNickName":jb}}checkUseApx(){if(this.getDataValue("_useApx"))for(var e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){var t,{ratio:i}=this.renderContext,a=/(\d+)px/g,n={};for(var o of Object.keys(e))if(null==(t=mT)?void 0:t.includes(o)){var r=e[o],s=r;"number"==typeof r?s=r*i:"string"==typeof r?s=r.replace(a,((e,t)=>{var a=Number(t);return Number.isNaN(a)?e:a*i+"px"})):Array.isArray(r)&&(null==r?void 0:r.every((e=>"number"==typeof e)))&&(s=r.map((e=>e*i))),n[o]=s}else n[o]=e[o];return n}predownloadMaterial(e,t,i){this.emitAdCustomEvent("predownloadMaterial",{targetid:this.id,url:e,md5:t,key:i})}getTemplateStyle(e){return this.templateStyle[e]}},xT=Xv(i_()),bT=(e,t,i)=>{var a,n,o,r,s,l,d,c;if(!t)return t;var p={},u=null;if(null==(a=null==t?void 0:t.props)?void 0:a.className){var h=t.props.className.split(/\s+/).filter(Boolean);for(var g of h)e[`.bind-${g}`]&&Object.assign(p,e[`.bind-${g}`]),e[`.${g}`]&&Object.assign(p,e[`.${g}`])}if(Object.keys(i.classListMap).forEach((a=>{var n,o;a===((null==(n=null==t?void 0:t.props)?void 0:n.id)&&mb(null==(o=null==t?void 0:t.props)?void 0:o.id))&&i.classListMap[a].forEach((t=>{Object.assign(p,e[`.${t}`])}))})),null==(n=null==t?void 0:t.props)?void 0:n.className){var f=t.props.className.split(/\s+/).filter(Boolean);for(var m of f){var y=mb(m);e[`.${y}`]&&Object.assign(p,e[`.${y}`])}}if((null==(o=null==t?void 0:t.props)?void 0:o.style)&&Object.assign(p,t.props.style),null==(r=null==t?void 0:t.props)?void 0:r.id){var v=mb(t.props.id);u=v,e[v]&&Object.assign(p,e[v])}var _=null!=(l=null==(s=t.props)?void 0:s.children)?l:null;null!=_&&"string"!=typeof _&&(_=xT.default.Children.map(_,(t=>bT(e,t,i))));var E,x=qv({style:__(p,i.styleOptions)},u?{id:u,uniqueId:`${i.templateInfo.templateId}${i.isItem?"__item":""}-${u}`}:{}),b=Kv(qv({},i.templateInfo),{preventMask:String(null!=(c=null==(d=t.props)?void 0:d.preventMask)&&c),id:u||""});for(var w of Object.keys(b)){var T=(null==i?void 0:i.getDatasetPrefix)?null==i?void 0:i.getDatasetPrefix(w):w;x[`data-${E=T,E.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}`]=b[w]}i.useTextTag||"text"!==t.type||null==t.props.value||null!==_||(_=t.props.value),!1===i.useAttrId&&(x.id=null),!1===i.useAttrClass&&(x.className=null),i.classNames&&Object.keys(i.classNames).forEach((e=>{var a,n;e===((null==(a=null==t?void 0:t.props)?void 0:a.id)&&mb(null==(n=null==t?void 0:t.props)?void 0:n.id))&&(x.className=i.classNames[e])}));var C=Array.isArray(_)?_:[_];return null==_?xT.default.cloneElement(t,x):xT.default.cloneElement(t,x,C)},wT=()=>e=>{if(e.prototype.render){var t=e.prototype.render;e.prototype.render=function(){this.emitComponentEvent("templateWillUpdate");var e=t.call(this);this.updateClassStyle(),this.updateInnerClassStyle(),this.handleStyleType.includes("style")&&this.updateOuterStyle(),this.handleStyleType.includes("innerStyle")&&this.updateInnerStyle();var{style:i,darkModeStyle:a,templateStyle:n,dynamicStyle:o,classNames:r,renderContext:{styleOptions:s,useTextTag:l,useAttrId:d,useAttrClass:c},hostContext:{getDatasetPrefix:p}}=this,u=bT((e=>{var t={};for(var i of e)for(var a of Object.keys(i))t[a]||(t[a]={}),Object.assign(t[a],i[a]||{});return t})([i,this.isDarkMode()?a:{},n,o]),e,{styleOptions:s,isItem:"base"===this.componentBehavior,useTextTag:l,useAttrId:d,useAttrClass:c,templateInfo:{templateId:this.id},classListMap:this.classListMap,classNames:r,getDatasetPrefix:p});return u}}return e},TT=Xv(i_()),CT=(e,t)=>(...i)=>{null==e||e(...i),null==t||t(...i)},AT=()=>e=>{if(e.prototype.render){var t=e.prototype.render;e.prototype.render=function(){var e,i,a,n;this.emitComponentEvent("templateWillUpdate");var o=t.call(this);if(null==o)return null;var r,{props:{handleCommonClick:s,handleCommonTouchStart:l,handleCommonTouchEnd:d,handleCommonTouchCancel:c}}=this;return TT.default.cloneElement(o,(r={onClick:CT(null==(e=o.props)?void 0:e.onClick,s),onTouchStart:CT(null==(i=o.props)?void 0:i.onTouchStart,l),onTouchEnd:CT(null==(a=o.props)?void 0:a.onTouchEnd,d),onTouchCancel:CT(null==(n=o.props)?void 0:n.onTouchCancel,c)},Object.keys(r).reduce(((e,t)=>qv(qv({},e),null==r[t]?{}:{[t]:r[t]})),{})))}}return e},PT=class extends ET{constructor(e){var t;if(super(e,{componentBehavior:"base"}),this.style={blank:{width:0,height:0},container:{position:"relative",WebkitTapHighlightColor:"transparent"},mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.handleStyleType=["style"],this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.longTapThreshold=null,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.state={showMask:!1,randomKey:"",darkMode:null!=(Sw=this.props.darkMode)&&Sw,prePropsDarkMode:null!=(kw=this.props.darkMode)&&kw},this.handleCommonClick=e=>{!1===this.bubbleEvent&&(this.emitAdCustomEvent("stopPropagationTap",{event:e}),null==e||e.stopPropagation()),this.doActions(this.events.tap,{event:e}),this.clickInfo&&this.emitAdCustomEvent("itemTap",{clickInfo:this.clickInfo})},this.isTouching=!1,this.longTapTimer=null,this.touchPos=null,this.handleCommonTouchStart=e=>{var t,i,a,n,o,r;if(this.isTouching=!0,!1===this.bubbleEvent&&(null==e||e.stopPropagation()),this.slideProperty.direction.length>0){var s=null!=(a=null==(i=(t=this.hostContext).toWebEvent)?void 0:i.call(t,e,"touchstart"))?a:e;(null==(n=null==s?void 0:s.touches)?void 0:n[0])&&(this.touchPos={x:null!=(o=s.touches[0].clientX)?o:0,y:null!=(r=s.touches[0].clientY)?r:0})}this.longTapThreshold&&(this.longTapTimer=setTimeout((()=>{this.isTouching&&this.doActions(this.events.longTap,{event:e})}),this.longTapThreshold)),this.doActions(this.events.touchstart,{event:e})},this.handleCommonTouchEnd=e=>{var t,i,a,n,o,r;if(this.isTouching=!1,!1===this.bubbleEvent&&(null==e||e.stopPropagation()),this.touchPos){var s=null!=(a=null==(i=(t=this.hostContext).toWebEvent)?void 0:i.call(t,e,"touchend"))?a:e;if(null==(n=null==s?void 0:s.touches)?void 0:n[0]){var l={x:null!=(o=s.touches[0].clientX)?o:0,y:null!=(r=s.touches[0].clientY)?r:0};this.handleSlide(this.touchPos,l)}}this.clearLongTapTimer(),this.doActions(this.events.touchend,{event:e})},this.handleCommonTouchCancel=e=>{this.isTouching=!1,!1===this.bubbleEvent&&(null==e||e.stopPropagation()),this.clearLongTapTimer(),this.doActions(this.events.touchcancel,{event:e})},this.clickInfo=this.getDataValueWithDefault("_clickInfo",null),this.isShow=this.getDataValueWithDefault("_isShow",!0),this.longTapThreshold=this.getDataValueWithDefault("_longTapThreshold",null),this.slideProperty=this.getDataValueWithDefault("_slideProperty",{direction:[],offset:0}),this.state.randomKey=Math.random().toString(16).slice(2,10),this.isShow&&(null==(t=this.template.style)?void 0:t.background)){var i=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(i){var[a,n]=i.slice(1);this.isLinearGradient=!0,Number(a)>Number(n)&&(this.isLinearGradientReverse=!0)}}this.bindEvents()}static getDerivedStateFromProps(e,t){return e.darkMode!==t.prePropsDarkMode?{darkMode:e.darkMode,prePropsDarkMode:e.darkMode}:null}bindEvents(){this.addAdCustomListener((e=>{if("setStyle"===e.action){var{id:t,targetid:i,style:a}=e.value||{};i!==this.id||t||this.setStyle("container",a,{isDynamic:!0,force:!0})}else if("setDarkMode"===e.action&&this.props.isRootItem){var{darkMode:n}=e.value;this.state.darkMode!==n&&this.setState({darkMode:n})}}))}getRandomKey(){return Math.random().toString(16).slice(2,10)}doAction(e){"forceRebuild"===e.payload.action&&this.setState({randomKey:this.getRandomKey()})}handleSlide(e,t){var i;if(this.slideProperty){var a={x:t.x-e.x,y:t.y-e.y},n=Math.abs(a.x)>=Math.abs(a.y),o=!1!==this.slideProperty.useStrictDirection,r=null!=(i=this.slideProperty.offset)?i:0,s={left:a.x<=-r&&(!o||n),right:a.x>=r&&(!o||n),up:a.y<=-r&&(!o||!n),down:a.y>=r&&(!o||!n)};for(var l of this.slideProperty.direction)s[l]&&this.doActions(this.events.slide,{direction:l})}}clearLongTapTimer(){this.longTapTimer&&(clearTimeout(this.longTapTimer),this.longTapTimer=null)}render(){var{renderContext:{isFlattenLayer:e}}=this,{template:t}=this.props,{randomKey:i,darkMode:a}=this.state,n=Kv(qv({},this.getCommonSubComponentProps()),{darkMode:a});if(n.randomKey=i,"for"===t.type)return Rw.default.createElement(dC,qv({},n));var o={layout:Rw.default.createElement(MT,qv({},n)),image:Rw.default.createElement($T,qv({},n)),text:Rw.default.createElement(WT,qv({},n)),feedback:Rw.default.createElement(tC,qv({},n)),button:Rw.default.createElement(KT,qv({},n)),video:Rw.default.createElement(JT,qv({},n)),end:Rw.default.createElement(sC,qv({},n)),carousel:Rw.default.createElement(MC,qv({},n)),countdown:Rw.default.createElement(oC,qv({},n)),livetag:Rw.default.createElement(UC,qv({},n)),popup:Rw.default.createElement(jC,qv({},n)),feedbackDialog:Rw.default.createElement(KC,qv({},n)),multimage:Rw.default.createElement(JC,qv({},n)),score:Rw.default.createElement(nA,qv({},n)),rank:Rw.default.createElement(lA,qv({},n)),hosttag:Rw.default.createElement(pA,qv({},n)),poi:Rw.default.createElement(fA,qv({},n))}[t.type]||null;if(!this.isShow||null===o)return Rw.default.createElement("div",{id:"blank"});var r=this.isLinearGradient?Rw.default.createElement("img",{id:"linear-gradient",className:this.isLinearGradientReverse?"reverse":"",src:this.linearGradientSrc}):null;if(o&&e()){var s=Array.isArray(o.props.children)?o.props.children:[o.props.children];return(0,Rw.cloneElement)(o,{handleCommonClick:this.handleCommonClick,handleCommonTouchStart:this.handleCommonTouchStart,handleCommonTouchEnd:this.handleCommonTouchEnd,handleCommonTouchCancel:this.handleCommonTouchCancel},...s)}return Rw.default.createElement("div",{id:"container",onClick:this.handleCommonClick,onTouchStart:this.handleCommonTouchStart,onTouchEnd:this.handleCommonTouchEnd,onTouchCancel:this.handleCommonTouchCancel},r,o)}};PT=Jv([wT()],PT);var IT=Xv(i_());function ST(e){class t extends ET{constructor(e){var t,i;super(e,{componentBehavior:"hoc"}),this.style={mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},this.state={showMask:!1},this.handleStyleType=[],this.containerRef=(0,IT.createRef)(),this.handleTouchStart=e=>{var{getPropertyOfElement:t,getDatasetPrefix:i}=this.hostContext;if(!e._isHandleMaskClick&&this.useMask&&this.containerRef.current){this.hideMaskOnSlide&&e.touches&&(this.isTouching=!0,this.touchStartX=e.touches[0].pageX||e.touches[0].clientX,this.touchStartY=e.touches[0].pageY||e.touches[0].clientY);for(var a=e.target,n=this.containerRef.current;a&&a!==n;){var{preventMask:o}=vb(a,i);if("true"===o)return;a=t(a,"parent")}this.setState({showMask:!0}),e._isHandleMaskClick=!0}},this.handleTouchMove=e=>{if(this.isTouching&&this.useMask&&this.containerRef.current){var t=Math.abs(e.touches[0].pageX||e.touches[0].clientX-this.touchStartX),i=Math.abs(e.touches[0].pageY||e.touches[0].clientY-this.touchStartY);(t>this.minSlideDistance||i>this.minSlideDistance)&&this.setState({showMask:!1})}},this.handleTouchEnd=()=>{this.useMask&&this.containerRef.current&&(this.setState({showMask:!1}),this.isTouching=!1)},this.eventDelegator=this.renderContext.globalEventDelegator,this.hideMaskOnSlide=null!=(t=this.renderContext.hideMaskOnSlide)&&t,this.minSlideDistance=null!=(i=this.renderContext.minSlideDistance)?i:1,this.touchStartX=0,this.touchStartY=0,this.isTouching=!1,this.useMask=this.getDataValueWithDefault("_useMask",!1),this.bindEvents()}componentWillUnmount(){this.unbindEvents(),super.componentWillUnmount()}bindEvents(){this.addAdCustomListener((e=>{if("setStyle"===e.action){var{id:t,targetid:i,style:a}=e.value||{};i!==this.id||t||this.setStyle("container",a,{isDynamic:!0,force:!0})}})),this.eventDelegator.on("touchstart",`${this.id}-container`,this.handleTouchStart),this.hideMaskOnSlide&&this.useMask&&this.eventDelegator.on("touchmove",`${this.id}-container`,this.handleTouchMove),this.eventDelegator.onGlobal("touchend",this.handleTouchEnd),this.eventDelegator.onGlobal("touchcancel",this.handleTouchEnd)}unbindEvents(){this.eventDelegator.off("touchstart",`${this.id}-container`,this.handleTouchStart),this.eventDelegator.off("touchmove",`${this.id}-container`,this.handleTouchMove),this.eventDelegator.offGlobal("touchend",this.handleTouchEnd),this.eventDelegator.offGlobal("touchcancel",this.handleTouchEnd)}getMaskStyle(){var{showMask:e}=this.state,{darkMode:t}=this.props,{getMaskStyle:i}=this.hostContext,{maskStyle:a,darkModeMaskStyle:n}=(null==i?void 0:i())||{},o=qv({},this.getDataValueWithDefault("_maskStyle",{})),r=a||{};return t&&(o=Object.assign(o,this.getDataValueWithDefault("_darkModeMaskStyle",{})),r=Object.assign(r,n)),Object.assign(Object.keys(r).length?r:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.05)"},o,{display:this.useMask&&e?"":"none"})}render(){var{props:t}=this,{forwardedRef:i}=t,a={};return this.useMask&&Object.assign(a,{maskContainerRef:this.containerRef,renderMask:()=>IT.default.createElement("div",{id:"mask",style:this.getMaskStyle()})}),IT.default.createElement(e,Kv(qv(qv({},t),a),{ref:i}))}}return(0,IT.forwardRef)(((e,i)=>IT.default.createElement(t,Kv(qv({},e),{forwardedRef:i}))))}var kT=class extends ET{constructor(e){var t,i,a,n,o;super(e),this.style={body:{zIndex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:"48px",width:"122px",lineHeight:"48px",backgroundColor:"#4C4C4C",borderRadius:"12px",fontSize:"17px",color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:"12px",minHeight:"50px"},".full-card-container":{zIndex:1000100,display:"flex",background:"#ffffff",borderRadius:"7px"},".full-card-container-row":{flexDirection:"row"},".full-card-container-column":{flexDirection:"column"},".no-interest-logo":{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='96' height='91' xmlns='http://www.w3.org/2000/svg'%3E %3Cg fill='none' fill-rule='evenodd'%3E %3Cpath d='M-327-540h750V666h-750z'/%3E %3Cpath d='M0-2h96v96H0z'/%3E %3Cpath d='M20 59v5l-8.89 5.927A2 2 0 0 1 8 68.263V18a6 6 0 0 1 6-6h56a6 6 0 0 1 6 6v2h-4v-2a2 2 0 0 0-2-2H14a2 2 0 0 0-2 2v46l8-5zm4 0h2.298v5H24v-5zm48-35h4v2.62h-4V24z' fill='%2307C160'/%3E %3Cpath d='M30 24h54a6 6 0 0 1 6 6v48.263a2 2 0 0 1-3.11 1.664L78 74H30a6 6 0 0 1-6-6V30a6 6 0 0 1 6-6zm0 4a2 2 0 0 0-2 2v38a2 2 0 0 0 2 2h50l6 4V30a2 2 0 0 0-2-2H30z' fill='%2307C160'/%3E %3Cpath d='M53.172 54.485l14.142-14.142 2.828 2.829L56 57.314l-2.828 2.828-11.314-11.314L44.686 46l8.486 8.485z' fill='%2307C160' fill-rule='nonzero'/%3E %3C/g%3E %3C/svg%3E\")",backgroundSize:"cover",width:"48px",height:"45.5px"},".no-interest-logo-row":{marginRight:"8px"},".no-interest-logo-column":{marginBottom:"24px"},".full-card-feedback-container-column":{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},".full-card-feedback-title":{fontSize:"17px",lineHeight:"17px",color:"#2e2e2e"},".full-card-feedback-title-row":{marginBottom:"5px"},".full-card-feedback-title-column":{marginBottom:"14px"},".full-card-feedback-tips":{color:"#acacac",lineHeight:"12px",fontSize:"12px"}},this.state={hidden:!1,showFeedback:!1,darkMode:!1},this.handleStyleType=["style","innerStyle"],this.handleAdCustomEvent=e=>{switch(e.action){case"setDarkMode":var{darkMode:t}=e.value;this.state.darkMode!==t&&this.setState({darkMode:t});break;case"hideAd":this.hide();break;case"adShowHalf":this.emitComponentEvent("showhalf");break;case"adHideHalf":this.emitComponentEvent("hidehalf");break;case"adShowEntire":this.emitComponentEvent("showEntire");break;case"adHideEntire":this.emitComponentEvent("hideEntire");break;case"adShowEdge":this.emitComponentEvent("showEdge");break;case"adHideEdge":this.emitComponentEvent("hideEdge");break;case"btnTap":this.emitComponentEvent("adButtonTap");break;case"exposure":"value"in e?this.emitComponentEvent("exposure",e.value):this.emitComponentEvent("exposure");break;case"viewableExposure":"value"in e?this.emitComponentEvent("viewableExposure",e.value):this.emitComponentEvent("viewableExposure");break;case"showFeedback":this.showFeedback()}},this.show=e=>new Promise((t=>{this.useAnimate&&!e?this.setState({hidden:!1},(()=>{this.emitComponentEvent("showAnimate"),t()})):this.useAnimate&&e?(this.emitAdCustomEvent("checkExposure"),t()):this.setState({hidden:!1},(()=>{this.emitAdCustomEvent("checkExposure"),t()}))})),this.hide=e=>new Promise((t=>{this.useAnimate&&!e?(this.emitComponentEvent("hideAnimate"),t()):this.setState({hidden:!0},(()=>{this.emitAdCustomEvent("checkExposure"),t()}))})),this.showFeedback=()=>{var{useDefaultFeedback:e,useFullAreaFeedBack:t}=this;e&&(this.setState({showFeedback:!0}),setTimeout((()=>{this.setState({showFeedback:!1})}),3e3)),t&&this.setState({showFeedback:!0})},this.handleEnterForeground=()=>{this.emitComponentEvent("appEnterForeground"),this.emitAdCustomEvent("appEnterForeground")},this.handleEnterBackground=()=>{this.emitComponentEvent("appEnterBackground"),this.emitAdCustomEvent("appEnterBackground")},this.handleContainerClick=e=>{this.props.isMulti||this.disableContainerTap||(null==e||e.stopPropagation(),this.emitAdCustomEvent("stopPropagationTap",{event:e}),this.emitComponentEvent("containerTap"),this.emitAdCustomEvent("containerTap",{event:e,clickInfo:this.clickInfo}))},this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.isMulti=null!=(i=null==(t=this.template.tplConfig)?void 0:t.isMulti)&&i,this.useAnimate=this.getDataValueWithDefault("useAnimate",!1),this.disableContainerTap=this.getDataValueWithDefault("disableContainerTap",!1),this.state.hidden=!this.getDataValueWithDefault("_isShow",!0),this.state.darkMode=null!=(a=this.props.darkMode)&&a,this.useFullAreaFeedBack=this.getDataValueWithDefault("useFullAreaFeedBack",!1),this.fullAreaFeedBackType=this.getDataValueWithDefault("fullAreaFeedBackType","column"),this.classStyles=(null==(o=null==(n=this.template)?void 0:n.options)?void 0:o.classStyles)||{},this.bindEvents(),this.emitComponentEvent("initialTemplate"),this.clickInfo=this.getDataValueWithDefault("_clickInfo",null)}componentWillUnmount(){super.componentWillUnmount(),this.unbindEvents()}bindEvents(){var{hostContext:e}=this.props;e.onAppEnterForeground(this.handleEnterForeground),e.onAppEnterBackground(this.handleEnterBackground),this.addAdCustomListener(this.handleAdCustomEvent)}unbindEvents(){var{hostContext:e}=this.props;e.offAppEnterForeground(this.handleEnterForeground),e.offAppEnterBackground(this.handleEnterBackground)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1);case"flattenLayer":return this.getDataValueWithDefault("flattenLayer",!1);case"exportAid":return this.getDataValueWithDefault("exportAid",!1);case"enableTimer":return this.getDataValueWithDefault("enableTimer",!0);case"exposureUntilVideoPlay":return this.getDataValueWithDefault("exposureUntilVideoPlay",!1);case"hideAfterLanding":return this.getDataValueWithDefault("hideAfterLanding",!1);case"multiShowList":return this.getDataValueWithDefault("multiShowList",[]);case"hasVideoElement":return this.getDataValueWithDefault("hasVideoElement",!1)}return null}doAction({payload:e,args:t}){var i,a;"hideAd"===e.action?(this.hide(),"value"in e&&e.value.preventClose):"changeMultiShow"===e.action?(null==(i=e.value)?void 0:i.listExpr)?this.emitAdCustomEvent("changeMultiShow",{list:this.run(e.value.listExpr,t)}):(null==(a=e.value)?void 0:a.list)?this.emitAdCustomEvent("changeMultiShow",{list:e.value.list}):(null==t?void 0:t.list)&&this.emitAdCustomEvent("changeMultiShow",{list:t.list}):"showAnimateDone"===e.action?this.show(!0):"hideAnimateDone"===e.action&&this.hide(!0)}isShow(){return!this.state.hidden}render(){var{props:{template:e,adPosition:t,systemInfo:i,renderMask:a,maskContainerRef:n},state:{hidden:o,showFeedback:r,darkMode:s}}=this,l={display:o?"none":""},d=["left","top"];return"miniprogram"===this.props.systemInfo.hostEnv&&d.push("fixed"),this.isWidthRequired&&d.push("width"),this.isFullScreen?Object.assign(l,{width:i.screenWidth,height:i.screenHeight}):Object.assign(l,pb(t||{},d)),o&&!this.useStyleHidden?Dw.default.createElement("div",null):Dw.default.createElement("div",{id:"body",style:l,className:this.isFullScreen?"full-size":""},e&&Dw.default.createElement("div",{id:"container",className:"wx-ad-custom "+(this.isFullScreen?"full full-size":""),onClick:this.handleContainerClick,ref:n},e.children.map((e=>Dw.default.createElement(PT,Kv(qv({key:e.id},this.getCommonSubComponentProps()),{template:e,darkMode:s}))))),this.useFullAreaFeedBack&&r&&Dw.default.createElement("div",{id:"full-card-container",className:"tip-container full-card-container "+("row"===this.fullAreaFeedBackType?"full-card-container-row":"full-card-container-column")},Dw.default.createElement("div",{className:"no-interest-logo "+("row"===this.fullAreaFeedBackType?"no-interest-logo-row":"no-interest-logo-column")}),Dw.default.createElement("div",{id:"full-card-feedback-container",className:""+("row"===this.fullAreaFeedBackType?"":"full-card-feedback-container-column")},Dw.default.createElement("div",{id:"full-card-feedback-title",className:"full-card-feedback-title "+("row"===this.fullAreaFeedBackType?"full-card-feedback-title-row":"full-card-feedback-title-column")},"感谢你的反馈"),Dw.default.createElement("div",{id:"full-card-feedback-tips",className:"full-card-feedback-tips"},"我们会努力为你推荐更优质的广告"))),this.useDefaultFeedback&&r&&Dw.default.createElement("div",{id:"tip-container",className:"tip-container"},Dw.default.createElement("text",{id:"close-tip",className:"video-close-tip",value:"感谢反馈"})),null==a?void 0:a())}},DT=ST(kT=Jv([wT()],kT)),RT=Xv(i_()),OT=class extends ET{constructor(e){super(e),this.style={".layout-row":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{display:"flex",position:"absolute",width:"100%",height:"100%"}},this.state={children:[]},this.classRow=!1,this.classColumn=!1,this.containerStyle={},this.baseType=this.options.baseType||1,2===this.baseType?this.classRow=!0:3===this.baseType?this.classColumn=!0:this.baseType,this.state.children=this.template.children||[]}doAction({payload:e}){if("addChildren"===e.action){var{value:t}=e,i=Array.isArray(t)?t:[t],a=[...this.state.children,...i];this.setState({children:a})}}render(){var{children:e}=this.state,{renderMask:t,maskContainerRef:i,randomKey:a}=this.props,n=["layout"];return this.classRow&&n.push("layout-row"),this.classColumn&&n.push("layout-column"),RT.default.createElement("div",{id:"container",className:n.join(" "),ref:i,style:this.containerStyle,key:a||""},e.map((e=>RT.default.createElement(PT,Kv(qv({key:e.id},this.getCommonSubComponentProps()),{template:e})))),null==t?void 0:t())}},MT=ST(OT=Jv([wT(),AT()],OT)),NT=Xv(i_()),LT=class extends ET{constructor(e){var t;super(e),this.style={".text":{color:"#000",fontSize:"14px",wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"},".emoji-container":{position:"relative",width:"100%",overflow:"hidden",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start"},".emoji-text":{display:"flex"}},this.state={text:"",renderType:"text",renderText:""},this.classEllipsis=!1,this.emojiContainerRef=NT.default.createRef(),this.emojiStyleStatus=!1,this.useTextAriaLabel=!1,this.searchReplaceNode=()=>Qv(this,null,(function*(){var e,t=this.emojiContainerRef.current,i=t.childNodes,a=yield this.getBoundingClientRect(t),n=parseInt(null==(e=this.getTemplateStyle("text"))?void 0:e.fontSize,10),o=yield this.upperBound(i,a);if(o<i.length-1)for(var r=o;r>0;r--){var s=yield this.getBoundingClientRect(i[o]);if(!(a.width-(s.left-a.left)<n))break;o-=1}else o=-1;return o})),this.upperBound=(e,t)=>Qv(this,null,(function*(){for(var i=0,a=e.length;i<a;){var n=i+Math.floor((a-i)/2);(yield this.isHidden(e[n],t))?a=n:i=n+1}return i-1})),this.isHidden=(e,t)=>Qv(this,null,(function*(){var i=yield this.getBoundingClientRect(e),{top:a,left:n,width:o}=i,{top:r,height:s,left:l,width:d}=t;return!(!(Math.round(a-r)>=Math.round(s))&&!(n-l+o>=d+.1))}));var i=this.options.baseType||2;1===i?this.initCommonComponent():2===i?this.initNickNameComponent():3===i?this.initDescComponent():4===i?this.initRelationComponent():5===i&&this.initHostComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null),this.useTextAriaLabel=(null==(t=this.hostContext)?void 0:t.useTextAriaLabel)||!1,this.setText(this.state.text)}componentDidMount(){super.componentDidMount(),4===this.options.baseType?this.emitAdCustomEvent("fetchRelationText",{targetid:this.id}):5===this.options.baseType&&this.emitAdCustomEvent("fetchHostText",{targetid:this.id,args:this.getDataValueWithDefault("hostArgs",{})}),this.calcEmojiOverflow()}componentDidUpdate(e,t){super.componentDidUpdate&&super.componentDidUpdate(e,t),"emoji"===this.state.renderType&&t.text!==this.state.text&&this.calcEmojiOverflow()}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initRelationComponent(){this.state.text="",this.addAdCustomListener((e=>{if("changeRelationText"===e.action){var{targetid:t,text:i}=e.value;t===this.id&&(this.setText(i),this.emitComponentEvent("relationTextChanged",{text:i}),this.emitAdCustomEvent("relationTextChanged",{text:i}))}}))}initHostComponent(){this.state.text=this.getDataValueWithDefault("text",""),this.addAdCustomListener((e=>{if("changeHostText"===e.action){var{targetid:t,text:i}=e.value;t===this.id&&this.setText(i)}}))}initNickNameComponent(){var e=this.getAdData();this.state.text=jb(e)}initDescComponent(){var e=this.getAdData(),t=[19,12].includes(e.product_type),i=[559,560,721,929].includes(e.crt_size),a=46===e.product_type,n=23===e.product_type,o=[29,31].includes(e.product_type),r=[30,25].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:i},{path:["wording"],condition:[927,841].includes(e.crt_size)},{path:["crtInfo","0","card_info","description"]}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:o},{value:"今日商品推荐",condition:r},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:n},{value:"今日小游戏推荐",condition:a},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=fb(e,s)}doAction({payload:e,args:t}){if("textSetText"===e.action){var i=this.getDataValue("text",e.value,{args:t});this.setText(i)}}setText(e){var{text:t,renderText:i,renderType:a}=this.prepareRenderText(e);this.mounted?this.setState({text:t,renderText:i,renderType:a}):(this.state.text=t,this.state.renderType=a,this.state.renderText=i)}hasEmoji(e){return/\[.*?\]/g.test(e)}prepareRenderText(e){var{renderContext:{transformLinefeed:t}}=this,i=this.hasEmoji(e),a=e,n=i?"emoji":"text";return t&&(a=this.transformLinefeed(e)),i&&(!this.emojiStyleStatus&&this.initEmojiTextStyle(),a=this.getEmojiTextJsx(a)),{text:e,renderType:n,renderText:a}}transformLinefeed(e){return null==e?void 0:e.replace("\n"," ")}getEmojiTextJsx(e){var t=_b(e)||[];return t.length?NT.default.createElement(NT.default.Fragment,null,t.map(((e,t)=>{var i,a,n;return!e.props&&(e.props={}),"img"===e.type?((null==(i=e.props)?void 0:i.className)?e.props.className+=" emoji-img":e.props.className="emoji-img",n={type:"div",props:{className:"emoji-img-wrap",key:`img_${t}`},children:NT.default.createElement(e.type,e.props,null)}):((null==(a=(n=Object.assign({},e)).props)?void 0:a.className)?n.props.className+=" emoji-text":n.props.className="emoji-text",n.props.key=`text_${t}`),NT.default.createElement(n.type,n.props,n.children)}))):""}initEmojiTextStyle(){var e,t,i;(null==(i=null==(t=null==(e=this.template)?void 0:e.options)?void 0:t.innerStyles)?void 0:i.text)&&(this.bindStyle([{originId:"text",originKey:"maxHeight",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"maxWidth",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"width",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"textAlign",destRules:[{destClassName:"emoji-container",handleFn:e=>"left"===e?"flex-start":"right"===e?"flex-end":e,destKey:"justifyContent"}]},{originId:"text",originKey:"height",destRules:[{destClassName:"emoji-container"},{destClassName:"emoji-text",handleFn:(e,t)=>t.lineHeight||e}]},{originId:"text",originKey:"WebkitBoxOrient",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"marginTop",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"color",destRules:[{destClassName:"emoji-text"}]},{originId:"text",originKey:"fontSize",destRules:[{destClassName:"emoji-text"},{destClassName:"emoji-img",destKey:"width"},{destClassName:"emoji-img",destKey:"height"},{destClassName:"emoji-img-wrap",destKey:"width"},{destClassName:"emoji-img-wrap",destKey:"height"},{destClassName:"emoji-overflow",destKey:"width"}]},{originId:"text",originKey:"lineHeight",destRules:[{destClassName:"emoji-text"},{destClassName:"emoji-img"},{destClassName:"emoji-text",destKey:"height",handleFn:(e,t)=>e||t.height}]},{originId:"text",originKey:"fontWeight",destRules:[{destClassName:"emoji-text"}]},{originId:"text",originKey:"fontFamily",destRules:[{destClassName:"emoji-text"}]}]),this.emojiStyleStatus=!0)}getBoundingClientRect(e){var{getBoundingClientRect:t}=this.hostContext;return t?t(e):{}}calcEmojiOverflow(){return Qv(this,null,(function*(){var{renderType:e,renderText:t}=this.state;if("text"!==e&&t){var i=t,a=[...i.props.children],n=yield this.searchReplaceNode();-1!==n&&("div"===a[n].type?a.splice(n,1,NT.default.createElement("text",{className:"emoji-text emoji-overflow",value:"..."})):(a[n].props.className+=" emoji-overflow",a[n].props.value="..."),a=a.slice(0,n+1),i.props.children=a,this.setState({renderText:Object.assign({},i)}))}}))}render(){var{classEllipsis:e,emojiContainerRef:t,useTextAriaLabel:i}=this,{renderMask:a,maskContainerRef:n,randomKey:o}=this.props,{text:r,renderType:s}=this.state,{renderText:l}=this.state;return"text"===s&&this.classEllipsis&&null!==this.maxLen&&l&&(l=yb(l,2*this.maxLen)),NT.default.createElement("div",{id:"container",ref:n,key:o||""},"emoji"===s?NT.default.createElement("div",Kv(qv({ref:t},i?{role:"option","aria-label":r}:{}),{id:"emoji-container",className:"emoji-container"}),l):NT.default.createElement("text",{id:"text",className:"text "+(e?"text-ellipsis":""),value:l}),null==a?void 0:a())}},WT=ST(LT=Jv([wT(),AT()],LT)),BT=Xv(i_()),VT=(e,t)=>{if(!e)return"";if(!t)return e;var i=e.split("#"),a=i[0].indexOf("?")>-1?"&":"?",n="",o=Object.keys(t);if(o.length>0){for(var r of o)n=n.concat(`${r}=${t[r]}&`);return n.length>0&&(n=n.substring(0,n.length-1)),i[0]+a+n+(i[1]?`#${i[1]}`:"")}return e},HT="svp_use_avif_flag=1",FT="imageView2/format/webp",GT=e=>/^(https?:\/\/wxsnsdythumb\.wxs\.qq\.com)/.test(e)||/^(https?:\/\/wximg\.wxs\.qq\.com)/.test(e),UT=(e,t)=>{if(!t)return!1;var i=GT(t);return!(1!==e||!i||!t.includes(HT))},zT=(e,t)=>{if(!t)return!1;var i=GT(t);return!(2!==e||!i||!t.includes(FT))},jT=class extends ET{constructor(e){super(e),this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:"5px"},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:"",localImgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.usePredownload=!1,this.retry=0,this.exposureLoadRetry=0,this.loadError=!1,this.orginImgUrl="",this.currentImgUrl="",this.handleAdCustomEvent=e=>{if("adShowEdge"===e.action){if(this.loadError){var t=Number(this.getDataValueWithDefault("attachRetryTimes",5));if(this.exposureLoadRetry<t){this.exposureLoadRetry+=1;var i=VT(this.state.imgUrl,{exposureLoadRetry:this.exposureLoadRetry});this.usePredownload?this.setState({localImgUrl:i}):this.setState({imgUrl:i})}}}else"predownloadMaterialDone"===e.action&&e.value.targetid===this.id&&this.usePredownload&&e.value.url===this.currentImgUrl&&this.setState({localImgUrl:e.value.cachedUrl})},this.handleImgLoad=()=>{var e;this.loadError=!1;var t=this.getRenderUrl();this.emitComponentEvent("imgLoad"),this.emitAdCustomEvent("imgLoad",{baseType:this.baseType,src:t,extInfo:{timeStamp:+new Date,imageFormat:this.getImageFormat(t)}}),null==(e=this.materialLoadResolve)||e.call(this,{id:this.template.id,type:this.template.type,src:this.getRenderUrl()})},this.handleImgError=e=>{var t,i,a,n=this.getAdData(),o=null==(t=null==n?void 0:n.extBackComm)?void 0:t.upgrade_type,r=this.getRenderUrl(),s=UT(o,r),l=zT(o,r);if(s||l){var d=((e,t)=>{if("string"!=typeof t)return t;var i=t.split("#")[0].indexOf("&")>-1?"&":"?",a=t;return 1===e&&(a=a.replace(`${i}${HT}`,"")),2===e&&(a=a.replace(`${i}${FT}`,"")),a})(o,r);return this.emitAdCustomEvent("imgError",{baseType:this.baseType,src:r,extInfo:{innerErrorType:"imageTypeError",upgradeType:o,imageFormat:this.getImageFormat(r)},error:e}),void this.setState({imgUrl:d})}this.loadError=!0;var c=Number(this.getDataValue("retryTimes"));if(c)if(this.orginImgUrl||(this.orginImgUrl=this.state.imgUrl),this.retry<c){this.retry+=1;var p=VT(this.orginImgUrl,{retry:this.retry});this.setState({imgUrl:p})}else null==(i=this.materialLoadReject)||i.call(this,{id:this.template.id,type:this.template.type,src:this.getRenderUrl()}),this.emitComponentEvent("imgError"),this.emitAdCustomEvent("imgError",{baseType:this.baseType,src:this.getRenderUrl(),error:e});else null==(a=this.materialLoadReject)||a.call(this,{id:this.template.id,type:this.template.type,src:this.getRenderUrl()}),this.emitComponentEvent("imgError"),this.emitAdCustomEvent("imgError",{baseType:this.baseType,src:this.getRenderUrl(),error:e})},this.useBgMode=this.getDataValueWithDefault("useBgMode",!1),this.usePredownload=this.getDataValueWithDefault("usePredownload",!1);var t=this.options.baseType||2;switch(this.registeMaterialLoadPromise(),this.baseType=t,t){case 1:this.initCommonComponent();break;case 3:this.initADComponent();break;case 2:this.initIconComponent()}this.addAdCustomListener(this.handleAdCustomEvent),this.useBgMode}initCommonComponent(){this.setImageUrl(this.getDataValueWithDefault("imgUrl",""))}initIconComponent(){var e=this.getAdData();[19,12].includes(e.product_type)?this.classAppIcon=!0:this.classIcon=!0,this.setImageUrl(zb(e))}initADComponent(){var e=this.getAdData(),t=e.image_url;t.startsWith("http")||(t=fb(e,[{path:["crtInfo","0","image_url"]},{path:["crtInfo","image_url"]}])||t);var i=fb(e,[{path:["crtInfo","0","card_info","image_md5"]},{path:["crtInfo","card_info","image_md5"]}]),a=this.getDataValue("imgUrl")||t;this.setImageUrl(a,i),this.emitAdCustomEvent("imgStartLoad",{baseType:this.baseType,src:a,extInfo:{timeStamp:+new Date,imageFormat:this.getImageFormat(a)}})}setImageUrl(e,t){this.currentImgUrl=e,this.mounted?this.setState({imgUrl:e}):this.state.imgUrl=e,this.usePredownload&&this.predownloadMaterial(e,t)}doAction({payload:e}){"imageSetSrc"===e.action&&this.setImageUrl(this.getDataValue("imgUrl",e.value))}getRenderUrl(){var{imgUrl:e,localImgUrl:t=""}=this.state;return this.usePredownload?t:e}getImageFormat(e){var t,i=this.getAdData(),a=null==(t=null==i?void 0:i.extBackComm)?void 0:t.upgrade_type,n=0;return UT(a,e)&&(n=1),zT(a,e)&&(n=2),n}render(){var{classAppIcon:e,classIcon:t}=this,{renderMask:i,maskContainerRef:a,randomKey:n}=this.props,o=3===this.baseType,r=["image-img"];return e&&r.push("image-img-appicon"),t&&r.push("image-img-icon"),BT.default.createElement("div",{id:"container",className:"image",ref:a,key:n||""},BT.default.createElement("img",Kv(qv({id:"img"},o?{"bubble-event":!1}:{}),{className:r.join(" "),src:this.getRenderUrl(),onLoad:this.handleImgLoad,onError:this.handleImgError})),null==i?void 0:i())}},$T=ST(jT=Jv([wT(),AT()],jT)),YT=Xv(i_()),qT=class extends ET{constructor(e){super(e),this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:"3px",overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:"16px"},".button-icon":{width:"12px",height:"11px",marginRight:6,backgroundSize:"100% 100%",backgroundPosition:"0 0"}},this.state={buttonText:""},this.isShowIcon=!1,this.handleAdCustomEvent=e=>{"changedAdBtnText"===e.action&&e.value.text&&this.setState({buttonText:e.value.text})},this.handleButtonClick=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent("stopPropagationTap",{event:e}),this.emitAdCustomEvent("btnTap",{event:e}),this.emitComponentEvent("buttonTap",{event:e})};var t=this.options.baseType||2;this.isShowIcon=this.getDataValueWithDefault("isShowIcon",!1),1===t?this.initCommonComponent():2===t&&this.initLogicCommonComponent()}componentWillUnmount(){super.componentWillUnmount()}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){var e,t,i,a=this.getAdData(),n=this.getDataValue("buttonText"),o=(null==(e=a.buttonAction)?void 0:e.button_text)||(null==(t=a.button_action)?void 0:t.button_text)||"查看";n?this.state.buttonText=n:23===a.product_type?this.state.buttonText=(null==(i=null==a?void 0:a.biz_info)?void 0:i.is_subscribed)?"查看":o:this.state.buttonText=o,this.addAdCustomListener(this.handleAdCustomEvent)}doAction({payload:e}){var t=this.getDataValue("value",e);"buttonSetText"===e.action&&this.setText(t)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){var{renderMask:e,maskContainerRef:t,randomKey:i}=this.props;return YT.default.createElement("div",{id:"container",className:"button",ref:t,onClick:this.handleButtonClick,key:i||""},this.isShowIcon&&YT.default.createElement("div",{id:"button-icon",className:"button-icon"}),YT.default.createElement("text",{id:"button-text",className:"button-text",value:this.state.buttonText}),null==e?void 0:e())}},KT=ST(qT=Jv([wT()],qT)),ZT=Xv(i_()),XT=class extends ET{constructor(e){super(e),this.style={".video-context":{zIndex:1000008},".video-block":{display:"block",width:"100%",height:"100%"},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:"6px",width:"100%",height:"100%"},".video-poster":{display:"flex",position:"absolute",zIndex:1000008,width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:"24px",height:"24px"},".video-voice-box-topleft":{top:"10px",left:"10px"},".video-voice-box-topright":{top:"10px",right:"10px"},".video-voice-box-bottomleft":{bottom:"10px",left:"10px"},".video-voice-box-bottomright":{bottom:"10px",right:"10px"},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:"12px",width:"32px",height:"16px",lineHeight:"16px"},".video-count-down-topleft":{top:"10px",left:"10px"},".video-count-down-topright":{top:"10px",right:"10px"},".video-count-down-bottomleft":{bottom:"10px",left:"10px"},".video-count-down-bottomright":{bottom:"10px",right:"10px"},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:"3px",backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:"3px",backgroundColor:"#07c160"},".video-resume-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",alignItems:"center",background:"rgba(0,0,0,0.5)",borderRadius:"8px 8px 0px 0px"},".video-resume-btn":{position:"absolute",left:"50%",top:"50%",zIndex:10,MsTransform:"translate(-50%, -50%)",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",textAlign:"center",borderRadius:0,MozBorderRadius:0,WebkitBorderRadius:0,color:"#fff",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",zoom:"0.8"},".video-resume-icon":{display:"inline-block",fontSize:0,width:0,height:0,marginTop:"25px",marginLeft:"25px",marginBottom:"25px",borderWidth:"14px 25px",overflow:"hidden",borderColor:"transparent transparent transparent #fff",borderStyle:" dotted dotted dotted solid"},".hidden":{display:"none"}},this.state={src:"",poster:"",muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1,isShowResumeBtn:!1,isPosterShow:!0,videoCanLoad:!0},this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.lastPositionTime=0,this.videoRef=ZT.default.createRef(),this.videoDuration=0,this.objectFit="contain",this.playsInline=!1,this.useResumeBtn=!1,this.preload="auto",this.usePredownload=!1,this.useImagePoster=!1,this.videoStartLoadTime=Date.now(),this.videoStartPlayTime=0,this.videoStopTime=0,this.firstFramePlayCnt=0,this.lastFramePlayCnt=0,this.isFirstFrame=!1,this.toggleMuted=e=>{null==e||e.stopPropagation();var t=!this.state.muted;this.setState({muted:t}),e&&this.emitAdCustomEvent("stopPropagationTap",{event:e}),this.emitComponentEvent("mutedChange",{muted:t}),this.emitAdCustomEvent("adVideoMuteChange",{muted:t})},this.handleAdCustomEvent=e=>{var t;switch(e.action){case"appEnterBackground":var i=Math.min(this.currentTime,this.videoDuration);"value"in e&&(null==(t=e.value)?void 0:t.inAdDetail)?this.reportVideoPlay("partial","app_exit",i):this.reportVideoPlay("partial","exit",i);break;case"endPageInit":this.isShowEndPage=this.getDataValueWithDefault("isShowEndPage",!1),this.isShowEndPage&&this.setState({loop:!1});break;case"endPageHide":this.isShowEndPage&&(this.setState({isEndPageShowing:!1}),this.operateVideoPlay("play"));break;case"endPageShow":this.isShowEndPage&&this.setState({isEndPageShowing:!0});break;case"btnTap":this.reportVideoPlay(this.currentTime<this.videoDuration?"partial":"complete","land",this.videoDuration);break;case"operateAdVideo":var{type:a}=e.value;["play","pause","stop"].includes(a)&&this.operateVideoPlay(a);break;case"allowAdVideoLoad":this.setState({videoCanLoad:!0});break;case"predownloadMaterialDone":if(e.value.targetid===this.id&&this.usePredownload){for(var n of["src","poster"])e.value.url===this.state[n]&&this.setState({[n]:e.value.cachedUrl});e.value.url===this.state.src?this.setState({src:e.value.cachedUrl}):e.value.url===this.state.poster&&this.setState({poster:e.value.cachedUrl})}break;case"changeVideoMute":var{muted:o}=e.value;this.setState({muted:o}),this.emitComponentEvent("mutedChange",{muted:o})}},this.handleError=e=>{this.useResumeBtn&&this.setState({isShowResumeBtn:!0}),this.emitAdCustomEvent("adVideoLoadFailed",e)},this.handleTimeUpdate=e=>{var t,i,{loop:a}=this.state,n=e.duration||(null==(t=e.currentTarget)?void 0:t.duration),o=e.position||(null==(i=e.currentTarget)?void 0:i.currentTime);if(this.setState({isPosterShow:!1}),null!=n&&null!=o){var r=Math.min(1,o/n);this.setStyle("videoProgressPlayed",{width:100*r+"%"}),this.isShowCountDown&&this.setState({countDownNumber:`${Math.ceil(n-o)}s`}),this.emitComponentEvent("videoTimeUpdate",{event:e,rate:r}),this.emitAdCustomEvent("adVideoTimeUpdate",{duration:n,position:o}),this.isFirstFrame||(this.isFirstFrame=!0,this.firstFramePlayCnt+=1),a&&this.currentTime>1e3*o&&(this.firstFramePlayCnt+=1,this.reportVideoPlay("complete","end",this.videoDuration),this.reportVideoPlay("partial","start",0)),this.currentTime=1e3*o,this.videoDuration=1e3*n}},this.handleEnded=e=>{this.emitComponentEvent("videoEnded",{event:e}),this.emitAdCustomEvent("triggerEvent",{eventName:"videoended",detail:{baseType:this.baseType}}),this.emitAdCustomEvent("adVideoEnded"),this.videoStopTime=Date.now(),this.lastFramePlayCnt+=1,this.reportVideoPlay("complete","end",this.videoDuration),this.lastPositionTime=this.currentTime,this.currentTime=0,this.isFirstFrame=!1,this.isShowEndPage&&this.emitAdCustomEvent("showEndPage",{videoId:this.id}),this.setState({countDownNumber:null})},this.handlePlay=e=>{this.emitComponentEvent("videoPlay",{event:e}),this.emitAdCustomEvent("adVideoPlay",{currentTime:this.currentTime,videoDuration:this.videoDuration}),this.videoStartPlayTime=Date.now(),this.reportVideoPlay("partial","start",Math.min(this.currentTime,this.videoDuration))},this.handlePause=e=>{this.emitComponentEvent("videoPause",{event:e}),this.emitAdCustomEvent("adVideoPause",{currentTime:this.currentTime,videoDuration:this.videoDuration}),this.videoStopTime=Date.now(),this.reportVideoPlay("partial","close",Math.min(this.currentTime,this.videoDuration)),this.lastPositionTime=this.currentTime},this.handleLoadedMetaData=e=>{this.emitAdCustomEvent("adVideoLoadedMetaData",{event:e,src:this.state.src,time:Date.now()}),this.emitComponentEvent("videoLoadedMetaData",{event:e,time:Date.now()})},this.handleResume=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent("stopPropagationTap",{event:e}),this.emitAdCustomEvent("adVideoResumeBtnClick")},this.handleImagePosterLoad=()=>{var e;null==(e=this.materialLoadResolve)||e.call(this,{id:this.template.id,type:this.template.type,subType:"poster",src:this.state.poster})},this.handleImagePosterError=()=>{var e;null==(e=this.materialLoadReject)||e.call(this,{id:this.template.id,type:this.template.type,subType:"poster",src:this.state.poster})},this.baseType=this.options.baseType||2,1===this.baseType?this.initCommonComponent():2===this.baseType&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.state.autoplay=this.getDataValueWithDefault("autoplay",!1),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.playsInline=this.getDataValueWithDefault("playsInline",!1),this.useResumeBtn=this.getDataValueWithDefault("useResumeBtn",!1),this.useClickMask=this.getDataValueWithDefault("useClickMask",!1),this.preload=this.getDataValueWithDefault("preload","auto"),this.usePredownload=this.getDataValueWithDefault("usePredownload",!1),this.useImagePoster=this.getDataValueWithDefault("useImagePoster",!1),this.useImagePoster&&this.state.poster&&this.registeMaterialLoadPromise(),setTimeout((()=>{this.emitComponentEvent("mutedChange",{muted:this.state.muted})}),0)}initCommonComponent(){this.state.src=this.getDataValueWithDefault("src",""),this.state.poster=this.getDataValueWithDefault("poster",""),this.usePredownload&&this.predownloadMaterial(this.state.src),this.usePredownload&&this.predownloadMaterial(this.state.poster),this.emitAdCustomEvent("adVideoLoadStart",{src:this.state.src,time:Date.now()})}initADComponent(){var e,t=this.getAdData();this.state.videoCanLoad=!(null!=(e=this.hostContext.useVideoLazyLoad)&&e),this.state.src=this.getDataValue("src")||fb(t,[{path:["video_info","videoUrl"]},{path:["video_info","video_url"]}]),this.state.poster=this.getDataValue("poster")||fb(t,[{path:["video_info","thumbUrl"]},{path:["video_info","thumb_url"]}]),this.videoDuration=1e3*fb(t,[{path:["wx_game_video","short_video","video_duration"]},{path:["crtInfo","short_video","video_duration"]},{path:["crtInfo","0","short_video","video_duration"]}]);var i=this.getDataValue("src")?void 0:fb(t,[{path:["video_info","video_md5"]},{path:["wx_game_video","short_video","video_md5"]},{path:["crtInfo","short_video","video_md5"]},{path:["crtInfo","0","short_video","video_md5"]}]),a=this.getDataValue("poster")?void 0:fb(t,[{path:["video_info","thumb_md5"]},{path:["wx_game_video","short_video","thumb_md5"]},{path:["crtInfo","short_video","thumb_md5"]},{path:["crtInfo","0","short_video","thumb_md5"]}]);this.addAdCustomListener(this.handleAdCustomEvent),this.usePredownload&&this.predownloadMaterial(this.state.src,i),this.usePredownload&&this.predownloadMaterial(this.state.poster,a),this.emitAdCustomEvent("reportTimePoint",{key:"p8"}),this.emitAdCustomEvent("adVideoLoadStart",{src:this.state.src,time:Date.now()})}doAction({payload:e}){switch(e.action){case"videoToggleMuted":this.toggleMuted();break;case"videoPlay":this.operateVideoPlay("play");break;case"videoPause":this.operateVideoPlay("pause");break;case"videoStop":this.operateVideoPlay("stop")}}operateVideoPlay(e){var{hostContext:{operateVideo:t}}=this;["play","pause","stop","seek"].includes(e)&&(this.setState({isShowResumeBtn:"pause"===e}),this.videoRef.current&&(null==t||t(this.videoRef.current,e)))}reportVideoPlay(e,t,i=0){2===this.baseType&&this.emitAdCustomEvent("reportVideoPlay",{playType:e,conditionType:t,videoInfo:{playDuration:i,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay,videoStartLoadTime:this.videoStartLoadTime,videoStartPlayTime:this.videoStartPlayTime,videoStopTime:this.videoStopTime,firstFramePlayCnt:this.firstFramePlayCnt,lastFramePlayCnt:this.lastFramePlayCnt,startProgressBarPosition:this.lastPositionTime,stopProgressBarPosition:this.currentTime}})}render(){var{isShowVoice:e,mutedIconSrc:t,voiceIconSrc:i,voicePlacement:a,countDownPlacement:n,isShowProgress:o,isShowCountDown:r,objectFit:s,playsInline:l,useResumeBtn:d,useClickMask:c,useImagePoster:p,preload:u}=this,{muted:h,loop:g,autoplay:f,countDownNumber:m,isEndPageShowing:y,isShowResumeBtn:v,src:_,poster:E,isPosterShow:x,videoCanLoad:b}=this.state,{renderMask:w,maskContainerRef:T,randomKey:C}=this.props,{renderContext:{videoUseBlock:A}}=this,P=["video-voice-box"],I=["video-count-down"];return P.push(`video-voice-box-${a}`),I.push(`video-count-down-${n}`),ZT.default.createElement("div",{id:"container",className:"video",ref:T,key:C||""},ZT.default.createElement("video",Kv(qv({id:"video",className:cb("video-context",A&&"video-block"),ref:this.videoRef},b?{src:_}:{}),{poster:this.useImagePoster?void 0:E,controls:!1,muted:h,loop:g,autoPlay:f,autoplay:f,autoInsert:!1,playsInline:l,underGameView:!1,showProgress:!1,showPlayBtn:!1,showCenterPlayBtn:!1,showFullscreenBtn:!1,enableProgressGesture:!1,objectFit:s,preload:u,onTimeUpdate:this.handleTimeUpdate,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetaData}),c&&ZT.default.createElement("div",{className:"video-click-mask",id:"video-click-mask"})),p&&E&&ZT.default.createElement("img",{id:"video-poster",className:cb("video-poster",!x&&"hidden"),src:E,onLoad:this.handleImagePosterLoad,onError:this.handleImagePosterError}),d&&v&&ZT.default.createElement("div",{className:"video-resume-container",id:"video-resume-container"},ZT.default.createElement("a",{className:"video-resume-btn",id:"video-resume-btn",onClick:this.handleResume},ZT.default.createElement("i",{id:"video-resume-icon",className:"video-resume-icon"}," "))),!y&&e&&ZT.default.createElement("div",{id:"videovoicebox",className:P.join(" "),onClick:this.toggleMuted,preventMask:!0},ZT.default.createElement("img",{src:t,id:"video-muted-img",className:cb("video-voice-icon",!h&&"hidden")}),ZT.default.createElement("img",{src:i,id:"video-voice-img",className:cb("video-voice-icon",h&&"hidden")})),o&&ZT.default.createElement("div",{id:"video-progress",className:"video-progress"},ZT.default.createElement("div",{id:"video-progress-played",className:"video-progress-played"})),!y&&r&&m&&ZT.default.createElement("text",{id:"video-count-down",className:I.join(" "),value:m}),null==w?void 0:w())}},JT=ST(XT=Jv([wT(),AT()],XT)),QT=Xv(i_()),eC=class extends ET{constructor(e){super(e),this.style={".feedback-icon":{width:"6px",height:"4px",marginLeft:"2px",position:"relative"},".close-icon":{width:"6px",height:"6px",marginLeft:"2px",position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".show":{display:""},".hide":{display:"none"},".feedback-hot-click":{display:"none"},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"2px"},".feedback-tag-text":{fontSize:"10px",height:"12px",lineHeight:"12px",color:"#fff"},".feedback-list":{position:"absolute",width:"134px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:"1px",borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:"4px",zIndex:1000011},".feedback-list-bottomleft":{top:"26px",left:"6px"},".feedback-list-bottomright":{top:"26px",right:"6px"},".feedback-list-topleft":{bottom:"26px",left:"6px"},".feedback-list-topright":{bottom:"26px",right:"6px"},".feedback-btn":{position:"relative",width:"132px",height:"32px",lineHeight:"32px",color:"#566a97",fontSize:"12px",opacity:.9,textAlign:"center",zIndex:1000012},".feedback-title":{color:"#000",zIndex:1000012},".feedback-line":{width:"100px",height:"1px",opacity:.03,backgroundColor:"#000",zIndex:1000012}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.handleCloseClick=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6,event:e}),this.emitComponentEvent("tagTap",{event:e}),this.emitAdCustomEvent("hideAd",{animation:this.getDataValueWithDefault("hideWithAnimation",!1)})},this.handleTagClick=e=>{if(2===this.baseType)return this.handleSimpleTagClick(e);if(3===this.baseType)return this.handleSingleTagClick(e);null==e||e.stopPropagation();var{isShowFeedback:t,isShowFeedbackMenu:i}=this.state;t||i?(this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitAdCustomEvent("feedbackHide")):(this.setState({isShowFeedback:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"广告角标",event:e}),this.emitComponentEvent("tagTap",{event:e}))},this.handleDislikeClick=e=>{null==e||e.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitComponentEvent("dislikeTap",{event:e}),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"不感兴趣",event:e})},this.handleFeedbackBtnClick=e=>{null==e||e.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent("feedbackBtnTap",{event:e}),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"投诉",event:e}),this.emitAdCustomEvent("feedbackBtnTap")},this.handleAdCustomEvent=e=>{"feedbackHide"===e.action&&this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1})},this.handleIconLoad=()=>{var e,t=this.getDataValue("feedbackIcon")||(2===this.baseType?this.closeIconSrc:this.feedbackIconSrc);null==(e=this.materialLoadResolve)||e.call(this,{id:this.template.id,type:this.template.type,subType:"feedbackIcon",src:t})},this.handleIconError=()=>{var e,t=this.getDataValue("feedbackIcon")||(2===this.baseType?this.closeIconSrc:this.feedbackIconSrc);null==(e=this.materialLoadReject)||e.call(this,{id:this.template.id,type:this.template.type,subType:"feedbackIcon",src:t})},this.checkUseApx(),this.baseType=this.options.baseType||1,this.isShowFeedbackTitle=this.getDataValueWithDefault("isShowFeedbackTitle",!0),this.isShowCloseTag=this.getDataValueWithDefault("isShowCloseTag",!1),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.tagContainerPreventMask=this.getDataValueWithDefault("tagContainerPreventMask",!0),this.addAdCustomListener(this.handleAdCustomEvent),this.registeMaterialLoadPromise()}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){null==e||e.stopPropagation(),this.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6,event:e}),this.getDataValue("preventHide")||this.emitAdCustomEvent("hideAd",{animation:this.getDataValueWithDefault("hideWithAnimation",!1)}),this.emitComponentEvent("tagTap",{event:e})}handleSingleTagClick(e){null==e||e.stopPropagation(),this.emitAdCustomEvent("stopPropagationTap",{event:e}),this.emitAdCustomEvent("feedbackSingleTagTap",{event:e,tagElement:this.getElementById("feedbackTagContainer"),feedbackMenuStyle:this.options.feedbackMenuStyle}),this.emitComponentEvent("tagTap",{event:e})}handleDislikeReasonClick(e,t){null==t||t.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent("dislikeReasonTap",{event:t}),this.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e,event:t});var i=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===i?this.emitAdCustomEvent("showFeedback"):"hide"===i&&this.emitAdCustomEvent("hideAd",{animation:this.getDataValueWithDefault("hideWithAnimation",!1)})}render(){var{isShowFeedback:e,isShowFeedbackMenu:t,position:i}=this.state,{useStyleHidden:a,tagContainerPreventMask:n}=this,{renderMask:o,maskContainerRef:r,randomKey:s}=this.props,l=["feedback-list"],d=["feedback-list"];i&&(l.push(`feedback-list-${i.toLowerCase()}`),d.push(`feedback-list-${i.toLowerCase()}`)),a&&(l.push(e?"show":"hide"),d.push(t?"show":"hide"));var c=this.getDataValue("feedbackIcon")||(2===this.baseType?this.closeIconSrc:this.feedbackIconSrc),p=2===this.baseType?"close-icon":"feedback-icon",u=this.getDataValueWithDefault("feedbackTagText","广告");return QT.default.createElement("div",{id:"container",className:"feedback","bubble-event":"false",ref:r,key:s||""},QT.default.createElement("div",{id:"feedback-tag-container",className:"feedback-tag-container",onClick:this.handleTagClick,preventMask:n},QT.default.createElement("div",{id:"feedback-hot-click",className:"feedback-hot-click"}),QT.default.createElement("text",{id:"feedback-tag",className:"feedback-tag-text",value:u}),QT.default.createElement("img",{id:"feedback-icon",className:p,src:c,onLoad:this.handleIconLoad,onError:this.handleIconError})),(e||a)&&QT.default.createElement("div",{id:"menu1",key:"menu1",className:l.join(" ")},this.isShowFeedbackTitle&&QT.default.createElement("text",{className:"feedback-btn feedback-title",value:"由赞助商提供的内容"}),this.isShowCloseTag&&QT.default.createElement(QT.default.Fragment,null,QT.default.createElement("div",{className:"feedback-line"}),QT.default.createElement("text",{id:"close-btn",className:"feedback-btn",onClick:this.handleCloseClick,value:"关闭此广告",preventMask:!0})),QT.default.createElement("div",{className:"feedback-line"}),QT.default.createElement("text",{id:"dislike",className:"feedback-btn",onClick:this.handleDislikeClick,value:"不感兴趣",preventMask:!0}),QT.default.createElement("div",{className:"feedback-line"}),QT.default.createElement("text",{id:"feedback-btn",className:"feedback-btn",onClick:this.handleFeedbackBtnClick,value:"投诉",preventMask:!0})),(t||a)&&QT.default.createElement("div",{id:"menu2",key:"menu2",className:d.join(" ")},QT.default.createElement("text",{id:"isdismatch",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,1),value:"与我无关",preventMask:!0}),QT.default.createElement("div",{className:"feedback-line"}),QT.default.createElement("text",{id:"isduplicate",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,5),value:"重复收到多次",preventMask:!0}),QT.default.createElement("div",{className:"feedback-line"}),QT.default.createElement("text",{id:"isbadad",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,4),value:"内容太差",preventMask:!0})),null==o?void 0:o())}},tC=ST(eC=Jv([wT(),AT()],eC)),iC=Xv(i_()),aC=["SPLITLINE","COUNTDOWN"],nC=class extends ET{constructor(e){super(e),this.style={".countdown":{position:"relative"},".backgroundContainer":{display:"flex",position:"relative",flexDirection:"row",height:"32px",alignItems:"center",paddingLeft:"12px",paddingRight:"12px",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:"0.5px",borderRadius:"16px"},".countdown-container":{height:"20px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:"14px",height:"20px",lineHeight:"20px",width:"14px",color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:"14px",height:"20px",lineHeight:"20px",width:"11px",color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:"0.5px",height:"18.5px",marginRight:"9px",position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)",marginLeft:"50px"}},this.state={countdownValue:"5"},this.children=[],this.useCountdownText=!0,this.useFeedback=!0,this.useCountdownEvent=!0,this.startNumber=5,this.componentOrders=aC,this.feedback={type:"feedback",id:"Countdown-Feedback",options:{innerStyles:{container:{style:{position:"absolute",height:"32px",display:"flex",zIndex:1111999,left:"12px",padding:"0px"}},feedbackTag:{style:{fontSize:"14px",width:"28px",height:"20px",lineHeight:"20px"}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:"0px",padding:"0px",height:"32px",top:"0px",left:"0px",display:"flex"}},feedbackIcon:{style:{marginLeft:"4.5px",width:"9px",height:"6px",marginTop:"4px"}},menu1:{style:{top:"40px",left:"0px"}},menu2:{style:{top:"40px",left:"0px"}}},data:{}}},this.defaultChildren={},this.handleAdCustomEvent=e=>{if("changeCountdown"===e.action&&this.useCountdownEvent){var t=2===e.value.value.toString().length?18:11;this.setStyle("countdownvalue",{width:t}),this.setState({countdownValue:e.value.value})}},this.defaultChildren.feedback=this.feedback,this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent),this.startNumber=this.getDataValueWithDefault("startNumber",5),this.state.countdownValue=String(this.startNumber),this.useCountdownText=this.getDataValueWithDefault("useCountdownText",!0),this.useCountdownEvent=this.getDataValueWithDefault("useCountdownEvent",!0),this.useFeedback=this.getDataValueWithDefault("useFeedback",!0),this.componentOrders=this.getDataValueWithDefault("componentOrders",aC)}doAction({payload:e,args:t}){if("changeCountdownValue"===e.action){var i=this.getDataValue("text",e.value,{args:t});this.setState({countdownValue:i})}}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getDataValue("childrenConf");if(t)for(var i of Object.keys(t))this.defaultChildren[i]&&hb(this.defaultChildren[i],t[i]);var a=[];return a=[this.defaultChildren.feedBack],3===e?a.concat(this.template.children||[]):a}render(){var{children:e,state:{countdownValue:t},useCountdownText:i,componentOrders:a,useFeedback:n}=this,{renderMask:o,maskContainerRef:r,randomKey:s}=this.props,l=e=>iC.default.createElement("div",{id:"countdown-container",className:"countdown-container",key:e},iC.default.createElement("text",{className:"countdown-value",id:"countdownvalue",value:t}),i&&iC.default.createElement("text",{className:"countdown-text",value:"秒"})),d=e=>iC.default.createElement("div",{id:"split-line",className:"split-line",key:e}),c=t=>e.map((e=>iC.default.createElement(PT,Kv(qv({},this.getCommonSubComponentProps()),{template:e,key:t}))));return iC.default.createElement("div",{id:"container",className:"countdown",ref:r,key:s||""},n&&(()=>iC.default.createElement(PT,Kv(qv({},this.getCommonSubComponentProps()),{template:this.feedback})))(),iC.default.createElement("div",{className:"backgroundContainer"},a.map((e=>{return{CHILDREN:c(t=e),SPLITLINE:d(t),COUNTDOWN:l(t)}[t];var t}))),null==o?void 0:o())}},oC=ST(nC=Jv([wT(),AT()],nC)),rC=Xv(i_()),sC=class extends ET{constructor(e){super(e),this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5},".refresh-play":{fontSize:"14px",height:"18px",lineHeight:"18px",display:"none",color:"#d8d8d8"}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.useEndDefaultFeedback=!0,this.handleAdCustomListener=e=>Qv(this,[e],(function*({action:e}){switch(e){case"showEndPage":yield this.setState({isShowEndPage:!0}),this.emitAdCustomEvent("endPageShow"),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent("show");break;case"appEnterBackground":this.state.isShowEndPage&&this.reportEndPageDuration();break;case"appEnterForeground":this.state.isShowEndPage&&(this.showTime=Date.now());break;case"adShowHalf":this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)));break;case"adHideHalf":this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}})),this.handleReplay=e=>{null==e||e.stopPropagation(),this.setState({isShowEndPage:!1}),this.emitAdCustomEvent("endPageHide"),this.emitComponentEvent("hide"),this.reportEndPage({act_type:1003}),this.emitComponentEvent("replay")},this.handleContainerClick=()=>{this.reportEndPage({act_type:1002})};var t=this.getAdData();this.cardInfo=gb(t,["crtInfo",0,"card_info"],"")||gb(t,["crtInfo","card_info"],"")||{},this.showFreshIcon=this.getDataValueWithDefault("showFreshIcon",!0);var{end_page_type:i}=this.cardInfo;(i||this.getDataValueWithDefault("forceEnabled",!1))&&(this.backgroundImage=this.cardInfo.head_bg_img,this.refreshIconSrc=this.getDataValueWithDefault("refreshIconSrc","https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png"),this.useEndDefaultFeedback=this.getDataValueWithDefault("useEndDefaultFeedback",!0),this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),setTimeout((()=>{this.emitAdCustomEvent("endPageInit")}),0))}bindEvent(){this.addAdCustomListener(this.handleAdCustomListener)}componentWillUnmount(){super.componentWillUnmount(),this.removeAdCustomListener()}reportEndPageDuration(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){var t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent("reportEndPage",{data:e})}doAction({payload:e}){"endPageHide"===e.action&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent("endPageHide"),this.emitComponentEvent("hide"))}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},a={},n=this.template.id,{renderContext:{isFlattenLayer:o}}=this;a.feedBack={type:"feedback",id:`${n}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:"reportMMData",value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:"triggerEvent",value:{eventName:"videodislike"}}]}}},a.iconBig={type:"image",id:`${n}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},a.nickBig={type:"text",id:`${n}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},a.descSmall={type:"text",id:`${n}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},a.button={type:"button",id:`${n}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:'#like($const.systemInfo.osVersion, "Android") ? "1px" : "0"'}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:"reportEndPage",value:{data:{act_type:1001}}}]}}},a.iconSmall={type:"image",id:`${n}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},a.nickSmall={type:"text",id:`${n}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},a.layoutSmall={type:"layout",id:`${n}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},a.layoutSmall.children.push(a.iconSmall),a.layoutSmall.children.push(a.nickSmall),a.descBig={type:"text",id:`${n}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var r=this.getDataValue("childrenConf");if(r)for(var s of Object.keys(r))a[s]&&hb(a[s],r[s]);var l=[];if(this.useEndDefaultFeedback&&l.push(a.feedBack),l=2===this.cardInfo.end_page_type?l.concat([a.layoutSmall,a.descBig,a.button]):l.concat([a.iconBig,a.nickBig,a.descSmall,a.button]),3===e)return l.concat(this.template.children||[]);if(o()&&l){var d=e=>{e.forEach((e=>{var t;e.style&&((e,t,i)=>{for(var a="string"==typeof t?t.split("."):t,n=e,o=0;n&&o<a.length-1;)n[a[o]]||(n[a[o]]={}),n=n[a[o]],o+=1;n[a[o]]=i})(e,"options.innerStyles.container.style",hb({},e.style,gb(e,"options.innerStyles.container.style",{}))),(null==(t=null==e?void 0:e.children)?void 0:t.length)&&d(e.children)}))};d(l)}return l}render(){var{backgroundImage:e,children:t,refreshIconSrc:i,showFreshIcon:a,state:{isShowEndPage:n}}=this,{renderMask:o,maskContainerRef:r,randomKey:s}=this.props;return rC.default.createElement("div",{id:"container",className:"end",onClick:this.handleContainerClick,ref:r,key:s||"",style:{display:n?"flex":"none"}},e&&rC.default.createElement("img",{id:"backgroundImage",src:e}),t.map((e=>rC.default.createElement(PT,Kv(qv({key:e.id},this.getCommonSubComponentProps()),{template:e})))),a&&rC.default.createElement("div",{id:"refresh",className:"end-refresh",onClick:this.handleReplay},rC.default.createElement("img",{id:"refresh-icon",className:"end-refresh-icon",src:i}),rC.default.createElement("div",{id:"refresh-play",className:"refresh-play"},"重播")),null==o?void 0:o())}};sC=Jv([wT(),AT()],sC);var lC=Xv(i_()),dC=class extends ET{constructor(e){super(e),this.forType=this.options.baseType||1,this.forArr=this.getDataValueWithDefault("forArr",[]),2===this.forType&&(this.forArr=this.getAdDatas())}render(){var{template:e}=this.props,t=this.forArr.map(((t,i)=>e.children.map((a=>lC.default.createElement(PT,Kv(qv({},this.getCommonSubComponentProps()),{key:`${a.id}-${i}`,idPrefix:_T(void 0,e.id,this.idPrefix)+i.toString(),forType:this.forType,forItem:t,template:a,forIndex:i})))))).reduce(((e,t)=>[...e,...t]),[]);return lC.default.createElement(lC.default.Fragment,null,t)}};dC=Jv([wT()],dC);var cC,pC,uC,hC,gC,fC,mC,yC,vC,_C,EC,xC,bC,wC,TC,CC,AC,PC,IC,SC,kC,DC,RC=Xv(i_()),OC=class extends ET{constructor(e){super(e),this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.handleMaskClick=e=>{null==e||e.stopPropagation();var t,i=null!=this.moveTime?(Date.now()-this.moveTime)/this.duration*this.size:0;t=this.animated?-this.animateCount*this.size+i:-i;var a=(this.isCol?e.pageY:e.pageX)-t,n=Math.floor(a/this.size);this.emitComponentEvent("unitTap",{index:n,event:e})},this.handleAdCustomEvent=({action:e})=>{["adShowHalf"].includes(e)?(this.isViewable=!0,this.autoplay()):["adHideHalf"].includes(e)&&(this.isViewable=!1,this.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||1,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=Number(this.convertApxStyle(this.getDataValueWithDefault("size","0px")).replace("px",""))||0,this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map(((e,t)=>t)),this.isCol=2===this.baseType,1===this.baseType?this.initCarousel("width"):2===this.baseType&&this.initCarousel("height")}componentWillUnmount(){super.componentWillUnmount(),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(var e of this.timerSet)clearTimeout(e)}autoplay(){return Qv(this,null,(function*(){var e=this;if(this.isViewable&&!this.isPlaying){var t=1===this.baseType?"left":"top";if(this.disabled)this.emitComponentEvent("showChange",{list:this.allIndexList.slice(0,this.showCount)||[]}),this.isPlaying=!1;else if(this.animateCount<=0)this.emitComponentEvent("showChange",{list:this.allIndexList||[]}),this.isPlaying=!1;else{this.isPlaying=!0;for(var i=function*(t){var{animated:i}=e,a=setTimeout((()=>{e.timerSet.delete(a);var n=i?e.allIndexList.slice(e.allCount-t-e.showCount,e.allCount-t):e.allIndexList.slice(t,t+e.showCount);e.emitComponentEvent("showChange",{list:n})}),t*e.duration);e.timerSet.add(a)},a=0;a<this.animateCount;a+=1)yield*i(a);this.moveTime=Date.now();try{yield this.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[t]:this.animated?-1*this.animateCount*this.size:0},{offset:1,[t]:this.animated?0:-1*this.animateCount*this.size}],duration:this.duration*this.animateCount,easing:"linear"}})}catch(e){}this.animated=!this.animated,this.isPlaying=!1,this.moveTime=null;var n=setTimeout((()=>{this.timerSet.delete(n),this.autoplay()}),this.duration/4);this.timerSet.add(n)}}}))}render(){var{template:{children:e}}=this.props,{renderMask:t,maskContainerRef:i,randomKey:a}=this.props,{baseType:n,allCount:o,showCount:r}=this;if(!(e&&e.length&&o&&r))return RC.default.createElement("div",{id:"blank"});var s=["carousel-list",1===n?"carousel-row":"carousel-col"];return RC.default.createElement("div",{id:"container",className:"carousel",ref:i,key:a||""},RC.default.createElement("div",{id:"mask",className:"carousel-mask",onClick:this.handleMaskClick}),RC.default.createElement("div",{id:"list",className:s.join(" ")},e.map((e=>RC.default.createElement(PT,Kv(qv({key:e.id},this.getCommonSubComponentProps()),{template:e}))))),null==t?void 0:t())}},MC=ST(OC=Jv([wT(),AT()],OC)),NC=Xv(i_()),LC=()=>NC.default.createElement("div",null),WC=Xv(i_()),BC="none",VC="onlive",HC="end",FC="reserve",GC=class extends ET{constructor(e){super(e),this.style={".livetag":{position:"relative",zIndex:1000010},".livetag-hidden":{display:"none"},".ad-channels-live":{display:"flex",backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",borderRadius:"9px",padding:"2px 6px 2px 5px"},".ad-channels-live-icon":{width:"10px",height:"10px",marginRight:"3px"},".ad-channels-live-text":{height:"14px",color:"#ffffff",fontSize:"10px",lineHeight:"15px"},".ad-channels-end":{display:"flex",backgroundColor:"#959FC1",flexDirection:"row",alignItems:"center",borderRadius:"9px",padding:"2px 6px 2px 5px"},".ad-channels-reserve":{display:"flex",backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",borderRadius:"9px",padding:"2px 6px 2px 6px"}},this.state={status:BC},this.handleAdCustomEvent=e=>{"updateChannelStatus"===e.action&&this.setState({status:e.value.status},(()=>{this.updateInnerStyle()}))},this.addAdCustomListener(this.handleAdCustomEvent)}render(){var{renderMask:e,maskContainerRef:t,randomKey:i}=this.props,{status:a}=this.state;return a===BC&&["livetag"].push("livetag-hidden"),WC.default.createElement("div",{id:"container",className:"livetag",ref:t,key:i||""},a===VC&&WC.default.createElement("div",{id:"ad-channels-live",className:"ad-channels-live"},WC.default.createElement("img",{id:"ad-channels-live-icon",className:"ad-channels-live-icon",src:"https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"}),WC.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播中"})),a===HC&&WC.default.createElement("div",{id:"ad-channels-end",className:"ad-channels-end"},WC.default.createElement("img",{id:"ad-channels-live-icon",className:"ad-channels-live-icon",src:"https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"}),WC.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播结束"})),a===FC&&WC.default.createElement("div",{id:"ad-channels-reserve",className:"ad-channels-reserve"},WC.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播预约"})),null==e?void 0:e())}},UC=ST(GC=Jv([wT(),AT()],GC)),zC=class extends ET{constructor(e){super(e),this.style={".popup-blank":{display:"none"}},this.hidePopupFn=null,this.handleAdCustomEvent=e=>{var t=this.options.data;if("showPopup"===e.action&&e.value.popupName===t.popupName?this.showPopup():"hidePopup"===e.action&&e.value.popupName===t.popupName&&this.hidePopup(),"orientationChange"===e.action){var{hideOnOrientationChange:i}=this.getPopupData();i&&this.hidePopup()}},this.addAdCustomListener(this.handleAdCustomEvent)}componentWillUnmount(){super.componentWillUnmount(),this.hidePopup()}doAction(e){"showPopup"===e.payload.action?this.showPopup():"hidePopup"===e.payload.action&&this.hidePopup()}getPopupData(){return{hideOnOrientationChange:this.getDataValueWithDefault("hideOnOrientationChange",!1),mask:this.getDataValue("mask"),maskColor:this.getDataValue("maskColor"),maskOpacity:this.getDataValue("maskOpacity"),popupName:this.getDataValue("popupName"),popupWidth:this.getDataValue("popupWidth"),popupHeight:this.getDataValue("popupHeight"),popupLeft:this.getDataValue("popupLeft"),popupTop:this.getDataValue("popupTop")}}showPopup(){return Qv(this,null,(function*(){var{hostContext:e,template:t,systemInfo:i,adData:a,adDatas:n,renderContext:o,adCustomId:r,extraScope:s,darkMode:l,isMulti:d,emitter:c}=this.props;if(e.showPopup){var p=Kv(qv({},this.getPopupData()),{template:t.children[0]}),u=yield e.showPopup({popupOptions:p,renderOptions:{systemInfo:i,adData:a,adDatas:n,darkMode:l,adCustomId:r,isMulti:d,styleOptions:o.styleOptions,flattenLayer:o.isFlattenLayer(),extraScope:s},hostContext:{hidePopupInner:()=>this.hidePopup()},renderContext:o,emitter:c});this.hidePopupFn=u.hidePopup}}))}hidePopup(){return Qv(this,null,(function*(){this.hidePopupFn&&(yield this.hidePopupFn(),this.hidePopupFn=null)}))}render(){return null}},jC=zC=Jv([wT()],zC),$C=Xv(i_()),YC={1:"与我无关",5:"重复收到多次",4:"内容太差"},qC=class extends ET{constructor(e){super(e),this.style={".feedback-container":{display:"block",width:"100%",height:"100%"},".feedback-content-warp":{display:"block",width:"100%",paddingTop:5},".feedback":{display:"flex",width:"300px",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",paddingTop:"4px",backgroundColor:"#fff",borderRadius:"8px"},".feedback-spot":{display:"block",position:"absolute",left:18,top:0,width:14,height:7,backgroundImage:"url(resources/angle.png)",backgroundSize:"100% 100%",backgroundPosition:"0 0"},".submit-button":{display:"flex",position:"absolute",top:0,right:16,height:32,backgroundColor:"#07C160",boxSizing:"border-box",borderRadius:3,alignItems:"center",paddingTop:6,paddingBottom:6,paddingLeft:12,paddingRight:12},".submit-button-text":{display:"block",color:"#fff",height:20,lineHeight:20,fontSize:14,fontWeight:600},".disable-btn":{display:"block",backgroundColor:"#f2f2f2"},".disable-btn-text":{display:"block",color:"#c6c6c6"},".feedback-content":{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",paddingLeft:16,paddingRight:16,paddingBottom:12,marginTop:12},".feedback-split-line":{height:1,backgroundColor:"rgba(0, 0, 0, 0.05)",marginLeft:16,marginRight:16,alignSelf:"stretch"},".feedback-bottom":{display:"flex",flexDirection:"row",alignSelf:"stretch",height:52,boxSizing:"border-box",paddingTop:16,paddingBottom:16,paddingLeft:16,paddingRight:16,alignItems:"center",justifyContent:"space-between"},".feedback-bottom:active":{display:"block",backgroundColor:"rgba(0, 0, 0, 0.05)",borderLeftBottomRadius:8,borderRightBottomRadius:8},".feedback-bottom-text":{display:"block",color:"rgba(0, 0, 0, 0.5)",fontSize:14,height:20,lineHeight:20},".feedback-bottom-entry-icon":{display:"block",width:5,height:10,backgroundImage:"url(resources/arrow_right.png)",backgroundSize:"100% 100%",backgroundPosition:"0 0",backgroundRepeat:"no-repeat"},".sponsor-text":{display:"block",color:"rgba(0, 0, 0, 0.5)",fontSize:14,height:20},".question-text":{display:"block",color:"rgba(0, 0, 0, 0.9)",fontSize:14,marginTop:8,height:20,lineHeight:20},".feedback-reason":{display:"flex",flexDirection:"row",marginTop:16},".feedback-option":{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,marginRight:8,backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:4},".feedback-option:active":{display:"block",backgroundColor:"rgba(0, 0, 0, 0.1)"},".feedback-option-icon":{display:"block",width:15,height:15,marginRight:4,flex:"0 0 auto",backgroundSize:"100% 100%",backgroundPosition:"0 0"},".feedback-option-icon-like":{display:"block",backgroundImage:"url(resources/like.png)"},".feedback-option-icon-dontlike":{display:"block",backgroundImage:"url(resources/dontlike.png)"},".feedback-option-text":{display:"block",fontSize:14,height:20,lineHeight:20},".feedback-option-text:active":{},".no-interest-reason":{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:4,flexWrap:"wrap"},".no-interest-option":{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,marginRight:8,marginTop:12,backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:4},".no-interest-option:active":{display:"block",backgroundColor:"rgba(0, 0, 0, 0.1)"},".chosen-option":{backgroundColor:"rgba(7, 193, 96, 0.1)"},".chosen-option-text":{color:"#07C160"},".no-interest-option-icon":{display:"block",width:15,height:15,marginRight:4,flex:"0 0 auto",backgroundSize:"100% 100%",backgroundPosition:"0 0"},".no-interest-option-text":{display:"block",fontSize:14,height:20,lineHeight:20},".hidden":{display:"none"}},this.darkModeStyle={".feedback":{backgroundColor:"#232323"},".feedback-spot":{backgroundImage:"url(resources/angle_dark.png)"},".feedback-split-line":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".feedback-bottom:active":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".feedback-bottom-text":{color:"rgba(255, 255, 255, 0.6)"},".feedback-bottom-entry-icon":{backgroundImage:"url(resources/arrow_right_dark.png)"},".sponsor-text":{color:"rgba(255, 255, 255, 0.5)"},".question-text":{color:"rgba(255, 255, 255, 0.8)"},".feedback-option":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".feedback-option:active":{backgroundColor:"rgba(255, 255, 255, 0.1)"},".feedback-option-icon-like":{backgroundImage:"url(resources/like_dark.png)"},".feedback-option-icon-dontlike":{backgroundImage:"url(resources/dontlike_dark.png)"},".feedback-option-text":{color:"rgba(255, 255, 255, 0.8)"},".disable-btn":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".disable-btn-text":{color:"rgba(255, 255, 255, 0.3)"},".no-interest-option":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".no-interest-option:active":{backgroundColor:"rgba(255, 255, 255, 0.1)"},".no-interest-option-text":{color:"rgba(255, 255, 255, 0.8)"},".chosen-option":{backgroundColor:"rgba(7, 193, 96, 0.1)"},".chosen-option-text":{color:"#07C160"}},this.state={chosenNoInterestOptions:[],isShowFeedbackMenu:!1,dislikeReason:null},this.containerRef=$C.default.createRef(),this.dislikeOrders=[1,5,4],this.handleFavClick=e=>{var t;null==(t=e.stopPropagation)||t.call(e),this.closePopup(),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"还不错",event:e}),this.emitAdCustomEvent("feedbackFavTap")},this.handleDislikeClick=e=>{var t;null==(t=e.stopPropagation)||t.call(e),this.setState({isShowFeedbackMenu:!0}),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"不感兴趣",event:e})},this.handleFeedbackBtnClick=e=>{var t;null==(t=e.stopPropagation)||t.call(e),this.setState({isShowFeedbackMenu:!1}),this.emitComponentEvent("feedbackBtnTap",{event:e}),this.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"投诉",event:e}),this.closePopup().then((()=>{this.emitAdCustomEvent("feedbackBtnTap")}))},this.handleFeedbackContainerClick=e=>{e.target===this.containerRef.current&&this.closePopup()},this.handleSubmit=e=>{this.state.dislikeReason&&(this.emitComponentEvent("dislikeReasonTap",{event:e}),this.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:this.state.dislikeReason,event:e}),this.closePopup())},this.baseType=this.options.baseType||1,this.avoidAdText=this.getDataValueWithDefault("avoidAdText",!1)}closePopup(){return Qv(this,null,(function*(){var e,t;yield null==(t=(e=this.props.hostContext).hidePopupInner)?void 0:t.call(e)}))}handleDislikeReasonClick(e,t){var i;null==(i=t.stopPropagation)||i.call(t),this.setState({dislikeReason:e})}render(){var{avoidAdText:e,dislikeOrders:t}=this,{isShowFeedbackMenu:i,dislikeReason:a}=this.state,n=e=>cb("no-interest-option",e===a&&"chosen-option"),o=e=>cb("no-interest-option-text",e===a&&"chosen-option-text");return $C.default.createElement("div",{id:"container",className:"feedback-container",ref:this.containerRef,onClick:this.handleFeedbackContainerClick},$C.default.createElement("div",{id:"contentWarp",className:"feedback-content-warp"},$C.default.createElement("div",{id:"feedbackSpot",className:"feedback-spot"}),$C.default.createElement("div",{id:"feedback",className:"feedback"},$C.default.createElement("div",{id:"feedbackContent",className:"feedback-content"},$C.default.createElement("div",{id:"submitButton",className:cb("submit-button",!a&&"disable-btn",!i&&"hidden")},$C.default.createElement("text",{id:"submitText",className:cb("submit-button-text",!a&&"disable-btn-text"),value:"确定",onClick:this.handleSubmit})),$C.default.createElement("text",{id:"sponsorText",className:"sponsor-text",value:"由赞助商提供的内容"}),$C.default.createElement("text",{id:"questionText",className:"question-text",value:e?"你觉得这条内容":"你觉得这条广告怎么样"}),$C.default.createElement("div",{id:"feedbackReason",className:cb("feedback-reason",i&&"hidden")},$C.default.createElement("div",{id:"feedbackFav",className:"feedback-option",onClick:this.handleFavClick},$C.default.createElement("div",{id:"feedbackFavIcon",className:"feedback-option-icon feedback-option-icon-like"}),$C.default.createElement("text",{id:"feedbackFavText",className:"feedback-option-text",value:"还不错"})),$C.default.createElement("div",{id:"feedbackDislike",className:"feedback-option",onClick:this.handleDislikeClick},$C.default.createElement("div",{id:"feedbackDislikeIcon",className:"feedback-option-icon feedback-option-icon-dontlike"}),$C.default.createElement("text",{id:"feedbackDislikeText",className:"feedback-option-text",value:"不感兴趣"}))),$C.default.createElement("div",{className:cb("no-interest-reason",!i&&"hidden")},t.map((e=>$C.default.createElement("div",{key:e,className:n(e),onClick:this.handleDislikeReasonClick.bind(this,e)},$C.default.createElement("text",{className:o(e),value:YC[e]})))))),$C.default.createElement("div",{className:"feedback-split-line"}),$C.default.createElement("div",{className:"feedback-bottom",onClick:this.handleFeedbackBtnClick},$C.default.createElement("text",{className:"feedback-bottom-text",value:e?"投诉":"投诉广告"}),$C.default.createElement("div",{className:"feedback-bottom-entry-icon"})))))}},KC=qC=Jv([wT(),AT()],qC),ZC=Xv(i_()),XC=class extends ET{constructor(e){super(e),this.style={".mult-image":{display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"},".img-row-container":{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",overflow:"hidden",flex:"1 1 auto",alignItems:"stretch"},".img-container":{display:"flex",flex:"1",overflow:"hidden"},".img-item":{width:"100%",height:"100%",borderRadius:"4px"},".img-container-column-space-right":{marginRight:"2px"},".img-container-column-space-left":{marginLeft:"2px"},".img-container-row-space-bottom":{marginBottom:"2px"},".img-container-row-space-top":{marginTop:"2px"}},this.state={imgUrlArr:[],imgUrlPlacement:[],row:0,column:0},this.retry=[],this.exposureLoadRetry=[],this.loadError=[],this.initADComponent=()=>{var e=this.getAdData(),t=[];Array.isArray(e.crtInfo)&&e.crtInfo.length>1?t=e.crtInfo:Array.isArray(e.crtInfos)&&e.crtInfos.length>1&&(t=e.crtInfos),t=null==t?void 0:t.map((e=>e.image_url)),this.setImgUrlPlacement(t)},this.initCommonComponent=()=>{var e=this.getDataValueWithDefault("imgUrlArr",[]);this.setImgUrlPlacement(e)},this.setImgUrlPlacement=e=>{this.state.imgUrlArr=e,this.state.imgUrlPlacement=this.getImgUrlPlacement(e)},this.getImgUrlPlacement=e=>{for(var{row:t,column:i}=this.state,a=[],n=0;n<e.length;n++){var o=Math.floor(n/i),r=e[n];a[o]?a[o].push(r):a[o]=[r]}return a.splice(t,a.length-t),a},this.handleAdCustomEvent=e=>{if("adShowEdge"===e.action&&-1!==this.loadError.indexOf(!0)){var{imgUrlArr:t}=this.state,i=Number(this.getDataValueWithDefault("attachRetryTimes",5));this.loadError.forEach(((e,a)=>{var n;if((n=this.exposureLoadRetry)[a]||(n[a]=0),e&&this.exposureLoadRetry[a]<i){this.exposureLoadRetry[a]+=1;var o=t[a],r=VT(o,{exposureLoadRetry:this.exposureLoadRetry[a]});t.splice(a,1,r)}})),this.setState({imgUrlArr:t,imgUrlPlacement:this.getImgUrlPlacement(t)})}},this.handleImgLoad=e=>()=>{this.loadError[e]=!1,this.emitComponentEvent("imgLoad",{index:e}),this.emitAdCustomEvent("multImgLoad",{index:e})},this.handleImgError=e=>()=>{var t;this.loadError[e]=!0;var i=Number(this.getDataValue("retryTimes"));if(i)if((t=this.retry)[e]||(t[e]=0),this.retry[e]<=i){var{imgUrlArr:a}=this.state,n=a[e];this.retry[e]+=1;var o=VT(n,{retry:this.retry[e]});a.splice(e,1,o),this.setState({imgUrlArr:a,imgUrlPlacement:this.getImgUrlPlacement(a)})}else this.emitComponentEvent("imgError",{index:e})};var t=this.options.baseType||2,i=this.getDataValueWithDefault("row",0),a=this.getDataValueWithDefault("column",0);switch(this.baseType=t,this.state.row=+i,this.state.column=+a,t){case 1:this.initCommonComponent();break;case 2:this.initADComponent()}this.addAdCustomListener(this.handleAdCustomEvent)}doAction({payload:e}){if("imageSetSrc"===e.action){var t=this.getDataValue("imgUrlArr",e.value);this.setState({imgUrlArr:t,imgUrlPlacement:this.getImgUrlPlacement(t)})}}render(){var{renderMask:e,randomKey:t,maskContainerRef:i}=this.props,a=2===this.baseType,{row:n,column:o,imgUrlPlacement:r}=this.state;return ZC.default.createElement("div",{id:"container",className:"mult-image",ref:i,key:t||""},r.map(((e,t)=>ZC.default.createElement("div",{className:cb("img-row-container",`img-row-container-${t}`,t<n-1&&"img-container-row-space-bottom",t>0&&"img-container-row-space-top"),key:`row_${t}`},null==e?void 0:e.map(((e,i)=>ZC.default.createElement("div",{className:cb("img-container",i<o-1&&"img-container-column-space-right",i>0&&"img-container-column-space-left"),id:`img-container-${t}-${i}`,key:`column_${i}`},this.loadError[t*o+i]?ZC.default.createElement("div",{className:"img-item img-item-placeholder"}):ZC.default.createElement("img",Kv(qv({},a?{"bubble-event":!1}:{}),{className:"img-item",src:e,onLoad:this.handleImgLoad(t*n+i),onError:this.handleImgError(t*n+i)})))))))),null==e?void 0:e())}},JC=ST(XC=Jv([wT(),AT()],XC)),QC=Xv(i_()),eA=["https://wxa.wxs.qq.com/images/factory/star_full_lm.png","https://wxa.wxs.qq.com/images/factory/star_half_lm.png","https://wxa.wxs.qq.com/images/factory/star_empty_lm.png"],tA=["https://wxa.wxs.qq.com/images/factory/star_full_dm.png","https://wxa.wxs.qq.com/images/factory/star_half_dm.png","https://wxa.wxs.qq.com/images/factory/star_empty_dm.png"],iA=["TEXT","STARS","SCORE"],aA=class extends ET{constructor(e){super(e),this.isNormal=!1,this.textStyle={fontWeight:600,fontSize:"14px",lineHeight:"24px",height:"24px"},this.style={".score":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},".score-title":qv({color:"#10AEFF"},this.textStyle),".score-img-wrapper":{marginLeft:"12px",display:"flex",flexDirection:"row",alignItems:"center",height:this.textStyle.height},".score-img":{height:"13px",width:"13px",marginLeft:"1px"},".score-num":qv({marginLeft:"8px",color:"#10AEFF"},this.textStyle),".split-line":{width:"1px",height:"10px",background:"rgba(0, 0, 0, 0.1)"},".split-line-left":{marginRight:"8px"},".split-line-right":{marginLeft:"8px"}},this.state={buttonText:""},this.useScoreText=!0,this.componentOrders=iA,this.starIcons=eA,this.starIconsDark=tA,this.useLeftSplitLine=!1,this.useRightSplitLine=!1,this.getScoreInfo=()=>{var e,t=this.getAdData();return[19,12].includes(t.product_type)&&(null==(e=null==t?void 0:t.app_info)?void 0:e.app_rating)&&!isNaN(t.app_info.app_rating)&&t.app_info.app_rating>=3?Number(t.app_info.app_rating.toFixed(1)):0},this.scoreInfo=()=>{var e=this.getAdData(),[t,i,a]=this.props.darkMode?this.starIconsDark:this.starIcons,n=this.getScoreInfo.call(this),o=`${n}`,r=e.product_type;if(n){var s,l=new Array(5).fill(null).map((()=>t));return 19===r?s="App Store评分":12===r&&(s="应用宝评分"),3===n?(l[3]=a,l[4]=a):n<=3.5?(l[3]=i,l[4]=a):n<=4?l[4]=a:n<=4.5&&(l[4]=i),/\./.test(o)||(o=`${n}.0`),{scoreTitle:s,scoreImage:l,score:`${o}${this.useScoreText?"分":""}`}}return null},this.useScoreText=!!this.getDataValueWithDefault("useScoreText",!0),this.componentOrders=this.getDataValueWithDefault("componentOrders",iA),this.starIcons=this.getDataValueWithDefault("starIcons",eA),this.starIconsDark=this.getDataValueWithDefault("starIconsDark",tA)||this.starIcons,this.useLeftSplitLine=this.getDataValueWithDefault("useLeftSplitLine",!1),this.useRightSplitLine=this.getDataValueWithDefault("useRightSplitLine",!1)}render(){var e=this.scoreInfo();if(!e)return null;var{scoreTitle:t,scoreImage:i,score:a}=e,{renderMask:n,maskContainerRef:o,randomKey:r}=this.props,{componentOrders:s,useLeftSplitLine:l,useRightSplitLine:d}=this,c=e=>QC.default.createElement("text",{key:e,id:"scoreTitle",className:"score-title score-text",value:t}),p=e=>QC.default.createElement("text",{key:e,id:"scoreNum",className:"score-num score-text",value:a}),u=e=>QC.default.createElement("div",{id:"scoreImgWrapper",className:"score-img-wrapper",key:e},i.map(((e,t)=>QC.default.createElement("img",{key:t,id:`scoreImg${t+1}`,className:"score-img",src:e}))));return QC.default.createElement("div",{id:"container",className:"score",ref:o,key:r||""},l&&QC.default.createElement("div",{className:"split-line split-line-left"}),s.map((e=>{return{TEXT:c(t=e),SCORE:p(t),STARS:u(t)}[t];var t})),d&&QC.default.createElement("div",{className:"split-line split-line-right"}),null==n?void 0:n())}},nA=ST(aA=Jv([wT(),AT()],aA)),oA=Xv(i_()),rA="https://wxa.wxs.qq.com/images/factory/rankIcon.png",sA=class extends ET{constructor(e){super(e),this.style={".ranking":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},".ranking-img":{width:"16px",height:"16px"},".ranking-info":{marginLeft:"8px",color:"#FA9D3B",fontWeight:600,fontSize:"12px",lineHeight:"16px",height:"16px"},".split-line":{width:"1px",height:"10px",background:"rgba(0, 0, 0, 0.1)"},".split-line-left":{marginRight:"8px"},".split-line-right":{marginLeft:"8px"}},this.state={buttonText:""},this.iconUrl=rA,this.useIcon=!1,this.useLeftSplitLine=!1,this.useRightSplitLine=!1,this.useRankSpace=!1,this.getRankingType=()=>{var e,t=this.getAdData();switch(null==(e=null==t?void 0:t.extBackComm)?void 0:e.wegame_ranking_type){case 2:return"人气榜";case 3:return"畅销榜";case 4:return"新游榜"}return""},this.getRankingInfo=()=>{var e,t=this.getAdData(),i=null==(e=null==t?void 0:t.extBackComm)?void 0:e.wegame_ranking_no;if(!isNaN(i)){var a=+i+1;return a<=5?a:a<=30?a-a%5+5:50}return 0},this.getValue=()=>{var e=this.getRankingType.call(this);if(e){var t=this.getRankingInfo.call(this);return`小游戏${e} TOP${this.useRankSpace?" ":""}${t}`}return null},this.iconUrl=this.getDataValueWithDefault("iconUrl",rA),this.useIcon=this.getDataValueWithDefault("useIcon",!0),this.useLeftSplitLine=this.getDataValueWithDefault("useLeftSplitLine",!1),this.useRightSplitLine=this.getDataValueWithDefault("useRightSplitLine",!1),this.useRankSpace=this.getDataValueWithDefault("useRankSpace",!1)}render(){var{renderMask:e,maskContainerRef:t,randomKey:i}=this.props,a=this.getValue();if(!a)return null;var{useIcon:n,iconUrl:o,useLeftSplitLine:r,useRightSplitLine:s}=this;return oA.default.createElement("div",{id:"container",className:"ranking",ref:t,key:i||""},r&&oA.default.createElement("div",{className:"split-line split-line-left"}),n&&oA.default.createElement("img",{id:"rankingImg",className:"ranking-img",src:o}),oA.default.createElement("text",{id:"rankingInfo",className:"ranking-info",value:a}),s&&oA.default.createElement("div",{className:"split-line split-line-right"}),null==e?void 0:e())}},lA=ST(sA=Jv([wT(),AT()],sA)),dA=Xv(i_()),cA=class extends ET{constructor(e){super(e),this.state={children:[]},this.tag="",this.tagOptions={};var{tag:t,options:i}=this.getComputedData();this.tag=t,this.tagOptions=i,this.state.children=this.template.children||[]}getComputedData(){var e=this.getDataValue("hostStyles"),t={};if(e)for(var i of Object.keys(e)){var a=e[i];if(t[i]={},!a.expr||this.run(a.expr)){var n=qv({},a.style||{});for(var o of(this.props.darkMode&&Object.assign(n,a.darkModeStyle||{}),Object.keys(n))){var r=o,s=n[o];if(o.includes("Expr")){var l=o.split("Expr");2===l.length&&([r]=l,s=this.run(s))}t[i][r]=s}}}var d=this.getDataValue("tagConf"),c={};if(d)for(var p of Object.keys(d)){var u=p,h=d[p];if(p.includes("Expr")){var g=p.split("Expr");2===g.length&&([u]=g,h=this.run(h))}c[u]=h}return{tag:this.getDataValueWithDefault("tag",null),options:{computedStyles:t,computedConf:c,computedClassName:this.getDataValueWithDefault("tagClassName",null)}}}componentDidMount(){super.componentDidMount()}render(){var{children:e}=this.state,{randomKey:t,renderMask:i,maskContainerRef:a}=this.props;return dA.default.createElement("div",{id:"container",className:"hosttag",key:t||"",ref:a},dA.default.createElement("hostTag",{tagName:this.tag,tagOptions:this.tagOptions},e.map((e=>dA.default.createElement(PT,Kv(qv({key:e.id},this.getCommonSubComponentProps()),{template:e}))))),null==i?void 0:i())}},pA=ST(cA=Jv([wT(),AT()],cA)),uA=Xv(i_()),hA="https://wxa.wxs.qq.com/images/factory/poi_blue.png",gA=class extends ET{constructor(e){super(e),this.baseType=2,this.style={".poi":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},".poi-icon":{width:"16px",height:"16px",marginRight:"4px"},".poi-text":{fontSize:"12px",lineHeight:"17px",lineBreak:"ellipsis",overflow:"hidden",wordBreak:"break-all",color:"#576B95"}},this.state={hasPoi:!1,icon:hA,text:""},this.initCommonComponent=()=>{var e=this.getDataValueWithDefault("icon",hA),t=this.getDataValueWithDefault("text","");this.state.hasPoi=!(!e||!t),this.state.icon=e,this.state.text=t},this.initAdComponent=()=>{var e=this.getAdData().poi||{};this.state.hasPoi=!(!e.poi_name||!e.poi_link),this.state.icon=this.getDataValueWithDefault("icon",hA),this.state.text=this.getDataValueWithDefault("text",e.poi_name)},this.handlePoiClick=e=>{null==e||e.stopPropagation(),this.emitAdCustomEvent("poiTap",{event:e,baseType:this.baseType})},this.baseType=this.options.baseType||2,1===this.baseType?this.initCommonComponent():2===this.baseType&&this.initAdComponent()}render(){var{renderMask:e,maskContainerRef:t,randomKey:i}=this.props,{hasPoi:a,text:n,icon:o}=this.state;if(!a)return uA.default.createElement(uA.default.Fragment,null);var r=this.getDataValueWithDefault("maxTextLen",null),s=n;return r&&(s=yb(n,2*r)),uA.default.createElement("div",{id:"container",className:"poi",ref:t,key:i||"",onClick:this.handlePoiClick},uA.default.createElement("img",{id:"poi-icon",className:"poi-icon",src:o}),uA.default.createElement("text",{id:"poi-text",className:"poi-text",value:s}),null==e?void 0:e())}},fA=ST(gA=Jv([wT(),AT()],gA)),mA=class{constructor(e){var t,i,a,n,o;this.adCustomIdInc=0,this.containerMap=new WeakMap,"renderer"in e?(((e,t)=>{if(!e)throw new Error(t)})(((e,t)=>{for(var i of t)if(null==(null==e?void 0:e[i]))return!1;return!0})(e.renderer,["render","unmount","findDOMNode"]),"options.renderer achieved uncompletely"),this.renderer=e.renderer):this.renderer=new class{constructor(e){this.presetHostConfig={shouldSetTextContent:()=>!1,getRootHostContext:()=>null,getChildHostContext:e=>e,getPublicInstance:e=>e,prepareForCommit:()=>null,resetAfterCommit:()=>{},preparePortalMount:()=>{},supportsMutation:!0,now:Date.now,scheduleTimeout:(e,t)=>setTimeout(e,t),cancelTimeout:e=>clearTimeout(e),noTimeout:-1,isPrimaryRenderer:!1,commitMount:()=>{}},this.renderer=(0,l_.default)(qv(qv({},this.presetHostConfig),e))}render(e,t){return new Promise(((i,a)=>{try{t._rootContainer||(t._rootContainer=this.renderer.createContainer(t,!1,!1)),this.renderer.updateContainer(e,t._rootContainer,null,(()=>i()))}catch(e){a(e)}}))}unmount(e){return new Promise(((t,i)=>{if(e._rootContainer){try{this.renderer.updateContainer(null,e._rootContainer,null,(()=>t()))}catch(e){i(e)}delete e._rootContainer}}))}findDOMNode(e){return null==e?null:this.renderer.findHostInstance(e)}}(e.hostConfig),this.hostContext=e.hostContext,this.useTextTag=null==(t=e.useTextTag)||t,this.useAttrId=null==(i=e.useAttrId)||i,this.useAttrClass=null==(a=e.useAttrClass)||a,this.hideMaskOnSlide=null!=(n=e.hideMaskOnSlide)&&n,this.minSlideDistance=null!=(o=e.minSlideDistance)?o:1,this.globalEventDelegator=new class{constructor(e){this.options=e,this.handlers={},this.sep="<^.^>",this.handleEvent=e=>t=>{if(t.target&&this.options.getPropertyOfElement){for(var i=!1,a=!1,n=Kv(qv({},t),{touches:null==t?void 0:t.touches,stopPropagation:()=>{i=!0},stopImmediatePropagation:()=>{a=!0}}),o=t.target;o&&!i;){var{templateId:r,id:s}=vb(o,this.options.getDatasetPrefix),l=`${e}${this.sep}${r}-${s}`;if(this.handlers[l])for(var d of this.handlers[l])a||d(n);o=this.options.getPropertyOfElement(o,"parent")}var c=`${e}${this.sep}__global`;if(this.handlers[c]&&!i)for(var p of this.handlers[c])a||p(n)}},this.handleTouchStart=this.handleEvent("touchstart"),this.handleTouchMove=this.handleEvent("touchmove"),this.handleTouchEnd=this.handleEvent("touchend"),this.handleTouchCancel=this.handleEvent("touchcancel"),this.handleClick=this.handleEvent("click"),e.onGlobalEvent&&e.getPropertyOfElement&&(e.onGlobalEvent("touchstart",this.handleTouchStart),e.onGlobalEvent("touchmove",this.handleTouchMove),e.onGlobalEvent("touchend",this.handleTouchEnd),e.onGlobalEvent("touchcancel",this.handleTouchCancel),e.onGlobalEvent("click",this.handleClick))}on(e,t,i){var a,n=`${e}${this.sep}${t}`;(a=this.handlers)[n]||(a[n]=new Set),this.handlers[n].add(i)}onGlobal(e,t){var i,a=`${e}${this.sep}__global`;(i=this.handlers)[a]||(i[a]=new Set),this.handlers[a].add(t)}off(e,t,i){var a=`${e}${this.sep}${t}`;this.handlers[a]&&this.handlers[a].delete(i)}offGlobal(e,t){var i=`${e}${this.sep}__global`;this.handlers[i]&&this.handlers[i].delete(t)}destroy(){this.options.offGlobalEvent&&(this.options.offGlobalEvent("touchstart",this.handleTouchStart),this.options.offGlobalEvent("touchmove",this.handleTouchMove),this.options.offGlobalEvent("touchend",this.handleTouchEnd),this.options.offGlobalEvent("touchcancel",this.handleTouchCancel),this.options.offGlobalEvent("click",this.handleClick)),this.handlers={}}}({onGlobalEvent:e.hostContext.onGlobalEvent,offGlobalEvent:e.hostContext.offGlobalEvent,getPropertyOfElement:e.hostContext.getPropertyOfElement,getDatasetPrefix:e.hostContext.getDatasetPrefix})}generateCustomId(){return this.adCustomIdInc+=1,`AD_CUSTOM_${this.adCustomIdInc}`}getConvertRatio(e,t=0,i){var{width:a}=i||{};null==a&&(a=t),a=Number(a);var n=e.minWidth||0,o=e.maxWidth||0,r=e.baseWidth||375,s=Math.min(t,Math.max(n,a));return o&&(s=Math.min(s,o)),0===s?{ratio:1,width:null}:{ratio:s/r,width:s}}createTemplateRef(e,{emitter:t,adCustomId:i,rootRef:a,itemRef:n}){var{hostContainer:o}=e,r=t=>!e.isPartial;return{emitEvent:(e,a)=>{t.emit("adCustomEvent",qv({adCustomId:i,action:e},a?{value:a}:{}))},onEvent:e=>(t.on("adCustomEvent",e),e),offEvent:e=>{t.off("adCustomEvent",e)},getCustomId:()=>i,getElementById:(e,t)=>a.current&&a.current.travelAndFindElementByIdDeeply(e,t,this.renderer.findDOMNode(a.current))||null,getRelativeTemplateInfo:(e,t)=>{if(!e||!t||!this.hostContext.getPropertyOfElement)return null;for(var i=e;i;){var a=vb(i,this.hostContext.getDatasetPrefix);if(t(a))return a;i=this.hostContext.getPropertyOfElement(i,"parent")}return null},update:e=>Qv(this,null,(function*(){var t,i=(t=e,["adData","adDatas","position","systemInfo","isMulti","darkMode","extraScope"].reduce(((e,i)=>(null!=t[i]&&(e[i]=t[i]),e)),{}));n.current&&e.isPartial?yield this.renderer.render(s_.default.createElement(PT,qv({},qv(qv(Kv(qv({},n.current.props),{ref:n}),i),e.template?{template:e.template}:{}))),o):a.current&&!e.isPartial&&(yield this.renderer.render(s_.default.createElement(DT,qv({},qv(qv(Kv(qv({},a.current.props),{ref:a}),i),e.template?{template:e.template}:{}))),o))})),getRootElement:()=>a.current?this.renderer.findDOMNode(a.current):n.current?this.renderer.findDOMNode(n.current):null,getRootData:e=>{var t;return r()&&(null==(t=a.current)?void 0:t.getRootData(e))},show:()=>Qv(this,null,(function*(){var e;r()&&(yield null==(e=a.current)?void 0:e.show())})),hide:()=>Qv(this,null,(function*(){var e;r()&&(yield null==(e=a.current)?void 0:e.hide())})),isShow:()=>{var e;return r()&&(null==(e=a.current)?void 0:e.isShow())||!1}}}render(e){return Qv(this,null,(function*(){var t;if("isEmpty"in e&&e.isEmpty)return this.renderer.render(s_.default.createElement(LC,null),e.hostContainer);var{hostContainer:i,adData:a,template:n,position:o,systemInfo:r,isMulti:s,darkMode:l,adCustomId:d,styleOptions:c,flattenLayer:p,videoUseBlock:u,transformLinefeed:h,ref:g,extraScope:f,innerFunctions:m}=e,{adDatas:y}=e,{hostContext:v}=this,_=d||this.generateCustomId(),E=null!=(t=e.emitter)?t:new class{constructor(){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,this.delimiter=".",this.event=""}setMaxListeners(e){void 0!==e&&(this._events||Vb.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)}once(e,t){return this.many(e,1,t),this}many(e,t,i){var a=this;if("function"!=typeof i)throw new Error("many only accepts instances of Function");function n(){0==--t&&a.off(e,n),i.apply(this,arguments)}return n._origin=i,this.on(e,n),a}emit(...e){this._events||Vb.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;var i,a,n,o,r,s=arguments.length;if(this._all&&this._all.length){if(r=this._all.slice(),s>3)for(i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];for(n=0,a=r.length;n<a;n++)switch(this.event=t,s){case 1:r[n].call(this,t);break;case 2:r[n].call(this,t,arguments[1]);break;case 3:r[n].call(this,t,arguments[1],arguments[2]);break;default:r[n].apply(this,i)}}if(this.wildcard){r=[];var l="string"==typeof t?t.split(this.delimiter):t.slice();Gb.call(this,r,l,this.listenerTree,0)}else{if("function"==typeof(r=this._events[t])){switch(this.event=t,s){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(i=new Array(s-1),o=1;o<s;o++)i[o-1]=arguments[o];r.apply(this,i)}return!0}r&&(r=r.slice())}if(r&&r.length){if(s>3)for(i=new Array(s-1),o=1;o<s;o++)i[o-1]=arguments[o];for(n=0,a=r.length;n<a;n++)switch(this.event=t,s){case 1:r[n].call(this);break;case 2:r[n].call(this,arguments[1]);break;case 3:r[n].call(this,arguments[1],arguments[2]);break;default:r[n].apply(this,i)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all}emitAsync(){this._events||Vb.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,i,a,n,o,r=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),n=1;n<s;n++)t[n]=arguments[n];for(a=0,i=this._all.length;a<i;a++)switch(this.event=e,s){case 1:r.push(this._all[a].call(this,e));break;case 2:r.push(this._all[a].call(this,e,arguments[1]));break;case 3:r.push(this._all[a].call(this,e,arguments[1],arguments[2]));break;default:r.push(this._all[a].apply(this,t))}}if(this.wildcard){o=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();Gb.call(this,o,l,this.listenerTree,0)}else o=this._events[e];if("function"==typeof o)switch(this.event=e,s){case 1:r.push(o.call(this));break;case 2:r.push(o.call(this,arguments[1]));break;case 3:r.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];r.push(o.apply(this,t))}else if(o&&o.length){if(s>3)for(t=new Array(s-1),n=1;n<s;n++)t[n-1]=arguments[n];for(a=0,i=o.length;a<i;a++)switch(this.event=e,s){case 1:r.push(o[a].call(this));break;case 2:r.push(o[a].call(this,arguments[1]));break;case 3:r.push(o[a].call(this,arguments[1],arguments[2]));break;default:r.push(o[a].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(r)}on(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||Vb.call(this),this.emit("newListener",e,t),this.wildcard?(Ub.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),this._events[e].push(t),!this._events[e].warned&&this._events.maxListeners>0&&this._events[e].length>this._events.maxListeners&&(this._events[e].warned=!0,Fb.call(this,this._events[e].length,e))):this._events[e]=t,this)}onAny(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this}off(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var i,a=[];if(this.wildcard){var n="string"==typeof e?e.split(this.delimiter):e.slice();a=Gb.call(this,null,n,this.listenerTree,0)}else{if(!this._events[e])return this;i=this._events[e],a.push({_listeners:i})}for(var o=0;o<a.length;o++){var r=a[o];if(i=r._listeners,Wb(i)){for(var s=-1,l=0,d=i.length;l<d;l++)if(i[l]===t||i[l].listener&&i[l].listener===t||i[l]._origin&&i[l]._origin===t){s=l;break}if(s<0)continue;return this.wildcard?r._listeners.splice(s,1):this._events[e].splice(s,1),0===i.length&&(this.wildcard?delete r._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(i===t||i.listener&&i.listener===t||i._origin&&i._origin===t)&&(this.wildcard?delete r._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var i=Object.keys(t);for(var a in i){var n=i[a],o=t[n];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[n]),0===Object.keys(o).length&&delete t[n])}}}(this.listenerTree),this}offAny(e){var t,i=0,a=0;if(e&&this._all&&this._all.length>0){for(i=0,a=(t=this._all).length;i<a;i++)if(e===t[i])return t.splice(i,1),this.emit("removeListenerAny",e),this}else{for(i=0,a=(t=this._all).length;i<a;i++)this.emit("removeListenerAny",t[i]);this._all=[]}return this}removeAllListeners(e){if(0===arguments.length)return!this._events||Vb.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),i=Gb.call(this,null,t,this.listenerTree,0),a=0;a<i.length;a++)i[a]._listeners=null;else this._events&&(this._events[e]=null);return this}listeners(e){if(this.wildcard){var t=[],i="string"==typeof e?e.split(this.delimiter):e.slice();return Gb.call(this,t,i,this.listenerTree,0),t}return this._events||Vb.call(this),this._events[e]||(this._events[e]=[]),Wb(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}listenerCount(e){return this.listeners(e).length}listenersAny(){return this._all?this._all:[]}}({maxListeners:1e3}),x=s_.default.createRef(),b=s_.default.createRef(),w=this.getConvertRatio(e.isPartial?{}:e.template.tplConfig||{},r.screenWidth,o),{width:T}=w,{ratio:C}=w;y||(y=[a]),(null==c?void 0:c.ratio)&&(C=c.ratio),null!=T&&null!=(null==o?void 0:o.width)&&(o.width=T);var A=this.createTemplateRef(e,{emitter:E,adCustomId:_,rootRef:x,itemRef:b});null==g||g(A),this.containerMap.set(i,{emitter:E,options:e});var P={hostContainer:i,ratio:C,useTextTag:this.useTextTag,useAttrId:this.useAttrId,useAttrClass:this.useAttrClass,hideMaskOnSlide:this.hideMaskOnSlide,minSlideDistance:this.minSlideDistance,isFlattenLayer:()=>{var e,t;return null!=p?p:"root"===n.type&&null!=(null==(t=null==(e=null==n?void 0:n.options)?void 0:e.data)?void 0:t.flattenLayer)&&n.options.data.flattenLayer},videoUseBlock:u,transformLinefeed:h,styleOptions:c||{},getRootElement:e=>this.renderer.findDOMNode(e),globalEventDelegator:this.globalEventDelegator},I=new class{constructor(){this.loadPromiseList=[],this.registeMaterialLoadPromise=()=>{var e,t,i=new Promise(((i,a)=>{e=i,t=a}));return this.loadPromiseList.push(i),{resolve:e,reject:t}}}statAllMaterialLoad(){return Promise.all(this.loadPromiseList)}},S={adData:a,adDatas:y,isMulti:s||!1,systemInfo:r,adCustomId:_,darkMode:l,emitter:E,hostContext:v,extraScope:f,innerFunctions:m,renderContext:P,materialLoader:I};e.isPartial?yield this.renderer.render(s_.default.createElement(PT,qv({},Kv(qv({},S),{ref:b,isRootItem:!0,template:e.template}))),i):yield this.renderer.render(s_.default.createElement(DT,qv({},Kv(qv({},S),{ref:x,template:e.template}))),i),this.statAllMaterialLoad(A,I)}))}statAllMaterialLoad(e,t){t.statAllMaterialLoad().then((t=>{e.emitEvent("allMaterialLoaded",{materialList:t})})).catch((t=>{e.emitEvent("materialLoadError",{material:t})}))}unmount(e){var{hostContainer:t}=e;if(this.containerMap.has(t)){var{emitter:i,options:a}=this.containerMap.get(t);return!a.isEmpty&&a.emitter||i.removeAllListeners(),this.containerMap.delete(t),this.renderer.unmount(t)}}destroy(){this.globalEventDelegator.destroy()}},yA=(cC=function(e){return"string"!=typeof e?e:e.replace(/[+ |^%]/g,(e=>({" ":"+","+":"%2B","|":"%7C","^":"%5E","%":"%25"}[e])))},pC=function(e){return"string"!=typeof e?e:e.replace(/\+|%2B|%7C|%5E|%25/g,(e=>({"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%"}[e])))},uC=function(e){return Number.prototype.toString.call(e,36).toUpperCase()},hC=function(e){return parseInt(e,36)},gC=Array.prototype.indexOf||function(e,t){for(var i=t||0,a=this.length;i<a;i++)if(this[i]===e)return i;return-1},{JSON:JSON,pack:function(e,t={}){var a=t.verbose||!1;a&&i.log("Normalize the JSON Object"),e="string"==typeof e?JSON.parse(e):e,a&&i.log("Creating a empty dictionary");var n={strings:[],integers:[],floats:[]};a&&i.log("Creating the AST");var o=function e(t){if(a&&i.log(`Calling recursiveAstBuilder with ${JSON.stringify(t)}`),null===t)return{type:"null",index:-3};if(void 0===t)return{type:"undefined",index:-5};if(t instanceof Array){var o=["@"];for(var r of t)o.push(e(r));return o}if("object"==typeof t){var s=["$"];for(var l of Object.keys(t))s.push(e(l)),s.push(e(t[l]));return s}if(""===t)return{type:"empty",index:-4};if("string"==typeof t){var d=gC.call(n.strings,t);return-1===d&&(n.strings.push(cC(t)),d=n.strings.length-1),{type:"strings",index:d}}if("number"==typeof t&&t%1==0){var c=gC.call(n.integers,t);return-1===c&&(n.integers.push(uC(t)),c=n.integers.length-1),{type:"integers",index:c}}if("number"==typeof t){var p=gC.call(n.floats,t);return-1===p&&(n.floats.push(t),p=n.floats.length-1),{type:"floats",index:p}}if("boolean"==typeof t)return{type:"boolean",index:t?-1:-2};throw new Error("Unexpected argument of type "+typeof t)}(e),r=n.strings.length,s=n.integers.length;a&&i.log("Parsing the dictionary");var l=n.strings.join("|");return l+=`^${n.integers.join("|")}`,l+=`^${n.floats.join("|")}`,a&&i.log("Parsing the structure"),l+=`^${function e(t){if(a&&i.log(`Calling a recursiveParser with ${JSON.stringify(t)}`),t instanceof Array){var n=t.shift();for(var o of t)n+=`${e(o)}|`;return`${"|"===n[n.length-1]?n.slice(0,-1):n}]`}var{type:l}=t,{index:d}=t;if("strings"===l)return uC(d);if("integers"===l)return uC(r+d);if("floats"===l)return uC(r+s+d);if("boolean"===l)return t.index;if("null"===l)return-3;if("undefined"===l)return-5;if("empty"===l)return-4;throw new TypeError("The item is alien!")}(o)}`,a&&i.log("Ending parser"),t.debug?{dictionary:n,ast:o,packed:l}:l},unpack:function(e,t={}){t=t||{};var a=e.split("^");t.verbose&&i.log("Building dictionary");var n=[],o=a[0];if(""!==o){o=o.split("|"),t.verbose&&i.log("Parse the strings dictionary");for(var r=0,s=o.length;r<s;r++)n.push(pC(o[r]))}if(""!==(o=a[1])){o=o.split("|"),t.verbose&&i.log("Parse the integers dictionary");for(var l=0,d=o.length;l<d;l++)n.push(hC(o[l]))}if(""!==(o=a[2])){o=o.split("|"),t.verbose&&i.log("Parse the floats dictionary");for(var c=0,p=o.length;c<p;c++)n.push(parseFloat(o[c]))}o=null,t.verbose&&i.log("Tokenizing the structure");for(var u="",h=[],g=a[3].length,f=0;f<g;f++){var m=a[3].charAt(f);"|"===m||"$"===m||"@"===m||"]"===m?(u&&(h.push(hC(u)),u=""),"|"!==m&&h.push(m)):u+=m}var y=h.length,v=0;return t.verbose&&i.log("Starting recursive parser"),function e(){var a=h[v];if(v+=1,t.verbose&&i.log("Reading collection type "+("$"===a?"object":"Array")),"@"===a){for(var o=[];v<y;v++){var r=h[v];if(t.verbose&&i.log(`Read ${r} symbol`),"]"===r)return o;if("@"===r||"$"===r)o.push(e());else switch(r){case-1:o.push(!0);break;case-2:o.push(!1);break;case-3:o.push(null);break;case-5:o.push(void 0);break;case-4:o.push("");break;default:o.push(n[r])}}return t.verbose&&i.log(`Parsed ${JSON.stringify(o)}`),o}if("$"===a){for(var s={};v<y;v++){var l=h[v];if("]"===l)return s;l=-4===l?"":n[l];var d=h[v+=1];if("@"===d||"$"===d)s[l]=e();else switch(d){case-1:s[l]=!0;break;case-2:s[l]=!1;break;case-3:s[l]=null;break;case-5:s[l]=void 0;break;case-4:s[l]="";break;default:s[l]=n[d]}}return t.verbose&&i.log(`Parsed ${JSON.stringify(s)}`),s}throw new TypeError(`Bad token ${a} isn't a type`)}()}}),{unpack:vA,pack:_A}=yA,EA=a(527),xA=[],bA=[],wA=()=>(0===bA.length&&(()=>{var e,t;if(null!=S&&null!==(e=S.expt)&&void 0!==e&&e.clicfg_miniprogram_operatewxdata_use_quic){var i=S.expt.clicfg_miniprogram_operatewxdata_use_quic;-1!==i.groupid&&bA.push({exptid:i.exptid,groupid:i.groupid,name:i.name,value:i.value})}if(null!=S&&null!==(t=S.expt)&&void 0!==t&&t.clicfg_miniprogram_adreport_use_kv){var a=S.expt.clicfg_miniprogram_adreport_use_kv;-1!==a.groupid&&bA.push({exptid:a.exptid,groupid:a.groupid,name:a.name,value:a.value})}})(),bA),TA=()=>xA,CA=1,{GameGlobal:AA,deviceInfo:PA,deviceInfoLoaded:IA,appRouteInfo:SA,getDeviceOrientation:kA,proxyReady:DA,getIndentityInfo:RA,loadDeviceInfoByManual:OA,getPreloadIntersititialAd:MA,getPreloadIntersititialAdStatus:NA,getPreloadingPromise:LA,preloadAiInterstitialAiAd:WA}=y,BA=!1,VA=function(e){return e[e.NONE=0]="NONE",e[e.JSONPACK=1]="JSONPACK",e}({}),HA=(fC=Vo("handleAdDataDone"),mC=Ho("handleAdDataError"),yC=Vo("handleAdDataDone"),vC=Ho("handleAdDataError"),_C=Vo("handleAdDataDone"),EC=Ho("handleAdDataError"),xC=Vo("handleAdDataDone"),bC=Ho("handleAdDataError"),wC=Vo("handleAdDataDone"),TC=Ho("handleAdDataError"),CC=Vo("handleAdDataDone"),AC=Ho("handleAdDataError"),PC=Vo("handleAdDataDone"),IC=Ho("handleAdDataError"),SC=(e,t,i)=>{var a=i.value;i.value=function(...e){var t=e=>{DC&&DC in this&&"function"==typeof this[DC]&&this[DC](e)};try{var i=a.call(this,...e);return i instanceof Promise?i.catch((e=>t(e))):i}catch(e){t(e)}}},kC=class{constructor({adUnitId:e,adType:t,pluginAppid:i="",aiadPlatformId:a,isSkitAd:n=!1,slotContext:o={},eventChannel:r}){var s;this.adUnitId=void 0,this.adType=void 0,this.pluginAppid=void 0,this.isSkitAd=void 0,this.cacheCount=0,this.cacheRawDatas=[],this.cacheRawDatasMap={},this.isUsedCacheData=!1,this.cacheConditionInfo={},this.lastAdRetCode=0,this.lastAdRespone="fetch",this.limitAdReqTime=3e4,this.fetchPromise=null,this.checkStatusPromise=null,this.additionFetchPromise=null,this.webviewId=SA.currentWebviewId,this.fetchRetryCount=0,this.additionFetchRetryCount=0,this.isCanvasXmlHook=!1,this.rawAdInfoXml="",this.inputWeappExtraData={},this.handledInNewFetch=!1,this.nativeMethodInvoker=Gr,this.mmReporter=void 0,this.cgiReporter=void 0,this.lander=void 0,this.isCustomerAcquisition=null,this.rawAdDatas=[],this.datas=[],this.data={},this.convertedAdData=null,this.convertedAdDatas=[],this.isMulti=!1,this.isViewable=!1,this.adDataIndex=0,this.scene=0,this.isDuplicateRecommendedAds=!1,this.instanceId="",this.splashExpCondition={},this.showInfo={},this.fetchSource=0,this.isEmitPreDownloadVideo=!1,this.isPreDownloadVideoSuccess=!1,this.isPreDownloadVideoStatus=-1,this.preDownloadVideoStartTime=0,this.preDownloadVideoStopTime=0,this.aiadPlatformId=0,this.slotContext={},"splashAd"!==t&&DA(),this.adUnitId=e,this.adType=t,this.isSkitAd=n,this.slotContext=o,a&&(this.aiadPlatformId=a),this.pluginAppid=PA.isWaGame?"":i,this.mmReporter=new mv(this),this.cgiReporter=new Cv(this),this.lander=new Sv(this),this.bindProxyMethods(),this.setTimePoint("p1"),"function"==typeof(s=e=>{if(e.webviewId===SA.currentWebviewId&&this.data&&this.isViewable){var{uxinfo:t}=this.data;Ro({eventTimeStamp:e.eventTimeStamp?e.eventTimeStamp:+new Date,scene:4,uxinfo:t,url:e.path?e.path:"index.html"})}})&&gs.on("_onWxAdUserCaptureScreen",s)}bindProxyMethods(){var e=this,t=[this.nativeMethodInvoker,this.mmReporter,this.cgiReporter,this.lander],i=function(t){var i=(e=>{for(var t=new Set,i=e;i;){for(var a of Object.getOwnPropertyNames(i))t.add(a);i=Object.getPrototypeOf(i)}return[...t]})(t),a=function(i){var a,n,o;n=i,(null===(o=(a=t)&&a[Fo])||void 0===o?void 0:o.has(n))&&(e[i]=(...e)=>t[i](...e))};for(var n of i)a(n)};for(var a of t)i(a)}isLimitRequest(){return!this.isSplashAd()&&(0!==this.lastAdRetCode&&+new Date-this.getLastAdReqTs()<this.limitAdReqTime)}convertTestAdData(e){try{var t,i=ke(e),a=JSON.parse(i.crt_exp_info);if(i.crtExpInfo=a,1002===a.exp_type){if(null!==(t=i.wx_game_video)&&void 0!==t&&t.wxgame_video_card){var n=JSON.parse(a.exp_data);i.wx_game_video.wxgame_video_card.flooring_page=n}}else if(1001===a.exp_type){i.profile_exp=!0;var o=a.exp_data&&"string"==typeof a.exp_data?JSON.parse(a.exp_data):a.exp_data;i.dest_type=o.dest_type;var r={};if(i.button_action)try{r=JSON.parse(e.button_action)}catch(e){}r.jump_type=o.jump_type,i.button_action=JSON.stringify(r)}else if(105===a.exp_type)i.ad_style_data=a.exp_data;else if(106===a.exp_type){Pe(i,a.exp_data&&"string"==typeof a.exp_data?JSON.parse(a.exp_data):a.exp_data),i.common_exp=!0}else if(a.exp_type&&[108,109,2001].includes(a.exp_type))i.ad_dynamic_list=a.exp_data;else if(a.crt_size&&[Tg.CRT_SIZE_WX_APPLICATION_NEW,Tg.CRT_SIZE_WX_APPLICATION_X].includes(a.crt_size)){if(i.crt_size=a.crt_size,i.ad_width=a.width,i.material_width=a.width,i.ad_height=a.height,i.material_height=a.height,i.image_url=a.image_url,a.dest_url&&i.url&&[1,3,6].includes(i.dest_type)){var s=ug(i.url),l={};s.weixinadkey&&(l.weixinadkey=s.weixinadkey),s.ticket&&(l.ticket=s.ticket),s.gdt_vid&&(l.gdt_vid=s.gdt_vid),s.weixinadinfo&&(l.weixinadinfo=s.weixinadinfo),i.url=vg(a.dest_url,l)}i.watermark_text=a.watermark||""}else if(a.landpage_type){var d;null!==(d=i.wx_game_video)&&void 0!==d&&d.wxgame_video_card&&(i.wx_game_video.wxgame_video_card.flooring_page=a)}return i}catch(t){return e}}getPosId(){return ea[this.adType]}getFetchArgs({isAdInterval:e},t){var i,a,n,o,r,s,l,d={scene_type:SA.currentScene,ad_unit_id:this.aiadPlatformId?"ffffffff3x":this.adUnitId,appid:this.pluginAppid?this.pluginAppid:PA.gameAppId,orig_weapp_id:this.pluginAppid?PA.gameAppId:"",weapp_path:SA.weappPath,pos_id:"",network_type:PA.adNetworkType,orientation:{landscape:1,portrait:2}[PA.deviceOrientation],sdk_version:PA.SDKVersion,ext_slot_custom_comm:"",weapp_extra_data:JSON.stringify({wxa_start_ts:PA.startTime.valueOf(),wxa_enter_ts:SA.enterForegroundTime.valueOf(),weixin_version:PA.wechatVersion,os_version:PA.systemVersion,machine_type:PA.model,is_ad_interval:!!e,env:null===(i=S.host)||void 0===i?void 0:i.env,app_appid:null===(a=S.host)||void 0===a?void 0:a.appId,host_version:null===(n=S.host)||void 0===n?void 0:n.version,local_wechat_version:null===(o=S.host)||void 0===o?void 0:o.localWeChatVersion,wxa_fetch_ads_ts:Date.now()})};d.pos_id=this.getPosId();var c={};if("splashAd"===this.adType){c.weapp_enter_scene=(null==t?void 0:t.weappEnterScene)||0,c.request_type=(null==t?void 0:t.requestType)||1,c.check_ad_is_online_ads=(null==t?void 0:t.preloadAds)||[],c.support_template_compress_type=[VA.NONE,VA.JSONPACK];var p=2===(null==t?void 0:t.requestType)?1:5;c.splash_ad={count:String(p)},delete d.appid}else"customAd"===this.adType?c={is_adunit_tmpl:!0}:"rewardedVideoAd"===this.adType?null!=t&&t.requestType&&(c.request_type=t.requestType):"cpsShopAd"===this.adType?(c.cps_shop_req_info=t.cpsShopReqInfo||{},c.is_adunit_tmpl=t.isAdunitTmpl||!1):"interstitialAd"===this.adType&&null!=t&&t.requestType&&(c.request_type=t.requestType,c.check_ad_is_online_ads=(null==t?void 0:t.preloadAds)||[]);var u,h,g=wA()||[];(null!=g&&g.length&&(c.weapp_expt_ctx=[...g]),null!=t&&t.weappExptCtx&&null!=t&&null!==(r=t.weappExptCtx)&&void 0!==r&&r.length&&(c.weapp_expt_ctx=[...t.weappExptCtx,...g]),W()&&(c.in_3rd_app=1),null!=t&&t.adRawType&&(c.ad_raw_type=t.adRawType),this.aiadPlatformId&&(c.path_slot_index=this.aiadPlatformId),this.isSkitAd&&Gg[this.adType]&&(c.is_skit=1,c.skit_ad_type=Gg[this.adType]),c.machine_brand=PA.brand||(null==S?void 0:S.brand),null!==(s=S.host)&&void 0!==s&&null!==(l=s.passThroughInfo)&&void 0!==l&&l.ad_type)&&(c.wmpf_ad_request_rule=null===(u=S.host)||void 0===u||null===(h=u.passThroughInfo)||void 0===h?void 0:h.ad_type);if(Object.assign(c,RA()),PA.isWaGame)try{var{query:f}=AA;f.ad_free_param&&(c.ad_free_param=pg(f.ad_free_param))}catch(e){}return d.ext_slot_custom_comm=JSON.stringify(c),d}validateFetchEnv(){if(W()&&this.reportAdMonitorData(Tl),"splashAd"!==this.adType&&!this.adUnitId&&!this.aiadPlatformId)throw{errMsg:"no ad unit id"};if(this.isLimitRequest())throw{errMsg:"no advertisement",errCode:this.lastAdRetCode}}validateFetchRes(e){if("-12001"===e.err_code)throw this.lastAdRetCode=e.err_code,{errMsg:"no permission",errCode:-12001};if(this.lastAdRetCode=e.ret,this.lastAdRespone="fetch",!this.isCheckAdIsOnlineRequest(e)){if(!e.advertisement_num||e.advertisement_num<=0)throw{errMsg:"no advertisement",errDetail:((e,t,i)=>{if(e&&"string"==typeof e){if(/\s/.test(e))return"广告单元（unit-id）不正确，存在空格，请检查对应广告组件。";if(23!==e.length)return"广告单元（unit-id）不正确，广告单元长度异常，请检查对应广告组件。";if(!/^adunit-[0-9a-fA-F]{16}$/.test(e))return"广告单元（unit-id）不正确，请检查对应的广告单元id（unit-id）是否与流量主后台中一致。"}return bg[t]?`${bg[t]}，${i||"解决方案参考'https://developers.weixin.qq.com/miniprogram/dev/component/ad.html'"}`:""})(this.getAdUnitId(),e.ret),errCode:e.ret};if(!e.advertisement_info)throw e}}validateCrtSize(e){var{crt_size:t}=e;if(!kg.includes(t)&&!this.isCpsShopAd()&&!this.isCustomAd())throw this.reportAdMonitorData(Bc),{errMsg:`unexpected advertisement crt_size ${t}`}}handleAdDataDone(){this.reportAdMonitorData(Il),this.reportIPV4()}handleAdDataError(e){this.reportAdMonitorData(pd,e)}handleWaidForList(e=[]){var t={};if(e.length<1)return Promise.resolve(t);var i=[];return null==e||e.forEach((e=>{i.push(V(e.apkName).then((t=>({...t,aid:e.aid}))))})),Promise.race([Promise.all(i).then((e=>(e.forEach((({waid:e,aid:i=""})=>{e&&i&&(t[i]=e)})),t))).catch((e=>(this.reportAdMonitorData(Pl,e),t))),J(2e3).then((()=>t))])}handleBulkSaveMaterials(e){var t=[];return this.isSplashAd()&&this.data&&(t=this.getSplashAdMaterialList(e)),t.length>0?es(t):Promise.resolve()}getSplashAdMaterialList(e){var t,i,a,n,o=[],r=(null==e?void 0:e.crtInfo[0])||{},s=e.rerankingExtInfo.material_hash||"",l=(null==r?void 0:r.image_url)||"",d=(null==r||null===(t=r.card_info)||void 0===t?void 0:t.pure_color_url)||"",c=(null==r||null===(i=r.card_info)||void 0===i?void 0:i.material_blur_url)||"",p=`${sa}/${e.aid}_${s}.png`;s&&l&&o.push({url:l,fileName:`${e.aid}_${s}.png`,filePath:p});var u=(null==r||null===(a=r.short_video)||void 0===a?void 0:a.video_url)||"",h=(null==r||null===(n=r.short_video)||void 0===n?void 0:n.thumb_url)||"";if(u){var g=`${sa}/${e.aid}_${s}.mp4`;o.push({url:u,fileName:`${e.aid}_${s}.mp4`,filePath:g})}if(h){var f=`${sa}/${e.aid}_${s}_thumb.png`;o.push({url:h,fileName:`${e.aid}_${s}_thumb.png`,filePath:f})}if(Array.isArray(null==e?void 0:e.crtInfo)&&(null==e?void 0:e.crtInfo.length)>1&&e.crtInfo.forEach(((t,i)=>{var a=(null==t?void 0:t.image_url)||"",n=`${e.aid}_${s}_${i}.png`,r=`${sa}/${n}`;s&&o.push({url:a,fileName:n,filePath:r})})),d){var m=`${sa}/${e.aid}_${s}_pure_color.png`;s&&o.push({url:d,fileName:`${e.aid}_${s}_pure_color.png`,filePath:m})}if(c){var y=`${sa}/${e.aid}_${s}_blur.png`;s&&o.push({url:c,fileName:`${e.aid}_${s}_blur.png`,filePath:y})}if(null!=e&&e.adDynamicList||null!=e&&e.template)try{var v=null==e?void 0:e.adDynamicList;null!=e&&e.template&&(v=e.template);var{tplConfig:_}=v,E=null==_?void 0:_.cacheFile;if(E&&Object.keys(E).length>0)for(var x of Object.keys(E)){var b=`${sa}/${e.aid}_${s}_${x}.png`;o.push({url:E[x],fileName:`${e.aid}_${s}_${x}.png`,filePath:b})}}catch(e){this.reportAdMonitorData({idKey:34,idKeyGroup:1646},e)}return o}handleAdInfosIndexCache(e,t,i){var a=this;return b()((function*(){var n;try{n=yield a.handleWaidForList(e)}catch{}t.deviceInfo=RA(),t.waidMap=n,a.reportAdMonitorData(Dl,{adInfos:t}),t.lastSaveTime=Date.now();try{return yield Qr(t,i),a.reportAdMonitorData(Zc,{adInfos:t})}catch(e){var o=e instanceof Error?a.processStackMsg(e):e;return a.reportAdMonitorData(Xc,{adInfos:t,errMsg:o})}}))()}handleAppidCoverSceneCache(e,t){var i=this;return b()((function*(){var a={},n=`${sa}/adSceneCache.txt`;try{var o=Ee(n,"utf-8");a=JSON.parse(o),i.reportAdMonitorData(Jc,{adScene:a})}catch(e){i.reportAdMonitorData(Qc,{error:e})}a[e]={scene:t,lastSaveTime:Date.now()},Object.keys(a).length>20&&function(e){var t="",i=1/0;for(var a of Object.keys(e)){var n=e[a];n.lastSaveTime<i&&(t=a,i=n.lastSaveTime)}delete e[t]}(a);try{return yield Qr(a,n),i.reportAdMonitorData(ep,{adScene:a})}catch(e){var r=e instanceof Error?i.processStackMsg(e):e;return i.reportAdMonitorData(ga.SCENE_CACHE_WRITE_FAIL,{errMsg:r})}}))()}isCheckAdIsOnlineRequest(e){return this.isSplashAd()&&1010===e.ret&&e.advertisement_extra_info}isCheckAdIsOnlineResp(e){return!("traceid"in e)}handleCheckAdIsOnlineResp(e){var t,i=null===(t=JSON.parse(e.advertisement_extra_info))||void 0===t?void 0:t.check_ad_resp;return this.lastAdRespone=this.isCheckAdIsOnlineResp(i)?"checkAd":"fetch",i}handleSplashAd(e,t){var i=this;return b()((function*(){if(i.isCheckAdIsOnlineRequest(e))return i.handleCheckAdIsOnlineResp(e);var a=2===t.requestType;i.reportAdMonitorData(zc);var n=0,o=[],r=[],s=[],l=`${$()}_exposure_times`,d=`${sa}/adinfos.txt`,c={slot_id:ea[i.adType],ads:[],crtSizeMap:{},crtSize:{},materialHashMap:{},total_exposure_times:0,[l]:0,requestInQueue:"true",totalSizeUsed:0,localBlacklistExtBackComm:[],expCondition:{},appidCoverScene:{}},p=yield Jr(sa);c.totalSizeUsed=p.totalSize;var u=p.outedDateFileList||[];u=u.length<21&&p.totalSize>20971520?p.fileList:u;try{yield((e="",t=[])=>{if(!e||0===t.length)return Promise.resolve();var i=[];for(var a of t){var n=`${e}/${a}`;i.push(Xr(n))}return Promise.all(i)})(sa,u)}catch(e){i.reportAdMonitorData(Kc,e)}var h=!1;try{var g,f,m,y,v,_=e.advertisement_info.length>0&&e.advertisement_info.map(((e,t)=>{var d,p,u,g,f,m,y,v,_,E,x,b,w,T,C,A,P,I=i.handleAdData(e);try{h||(h=zg(I.crt_size))}catch(e){}var S=I.rerankingExtInfo.material_hash||"",k={material_hash:I.rerankingExtInfo.material_hash||"",tid:I.rerankingExtInfo.tid.toString()||"",aid:I.aid,trace_id:I.traceid};c.ads.push(k),c.total_exposure_times=I.rerankingExtInfo.total_exposure_times||0,c[l]=I.rerankingExtInfo[l]||0;var D=null===(d=I.condition)||void 0===d?void 0:d.widget_gray_splash_data_channel_parallel;c.requestInQueue=D?"false":"true",c.isCheckAndFetch=(null===(p=I.condition)||void 0===p?void 0:p.widget_gray_splash_check_and_fetch)||0,c.outedDateIntervals=(null===(u=I.condition)||void 0===u?void 0:u.widget_gray_splash_outed_date_setting)||7,c.useLocalSelect=(null===(g=I.condition)||void 0===g?void 0:g.widget_gray_splash_use_local)||0,c.localBlackList=(null===(f=I.condition)||void 0===f?void 0:f.widget_gray_splash_local_black)||"",c.localSelectExpire=null!==(m=null===(y=I.condition)||void 0===y?void 0:y.widget_gray_splash_local_outed_date_setting)&&void 0!==m?m:1,c.isWaittingFetch=(null===(v=I.condition)||void 0===v?void 0:v.widget_gray_splash_wait_fetch)||0,c.materialHashMap[I.aid]=S,c.checkAndFetchUseCatch=(null==I||null===(_=I.condition)||void 0===_?void 0:_.widget_gray_check_fetch_catch)||0,c.onlineFetchTimeout=(null==I||null===(E=I.condition)||void 0===E?void 0:E.widget_gray_splash_timeout)||0,c.newTimeout=(null==I||null===(x=I.condition)||void 0===x?void 0:x.widget_gray_splash_new_timeout)||0,c.newCheckAd=(null==I||null===(b=I.condition)||void 0===b?void 0:b.widget_gray_splash_new_checkad)||0,c.expCondition=null==I?void 0:I.condition,c.optimizationV1=(null==I||null===(w=I.condition)||void 0===w?void 0:w.widget_gray_splash_optimizationV1)||0,c.optimizationV1Timeout=(null==I||null===(T=I.condition)||void 0===T?void 0:T.widget_gray_splash_optimizationV1_timeout)||0,c.optimizationV1JSAPI=(null==I||null===(C=I.condition)||void 0===C?void 0:C.widget_gray_splash_optimizationV1_jsapi)||0,c.optimizationV1IOSTimeout=(null==I||null===(A=I.condition)||void 0===A?void 0:A.widget_gray_splash_optimizationV1_ios_timeout)||850;var R=I.crtInfo[0]||{};if(I.crtInfo){c.crtSizeMap[I.aid]=R.width>=R.height?"landscape":"portrait",c.crtSize[I.aid]=I.crt_size;var{extBackComm:O}=I,{card_info:M}=R;O.is_from_snsadinfo&&I.ad_desc&&!M.description&&(M.description=I.ad_desc),c.localBlacklistExtBackComm=null==O?void 0:O.splash_localselect_blacklist,i.handleAppidCoverSceneCache(PA.gameAppId,(null==O?void 0:O.appid_cover_scene_list)||[])}var N=i.getSplashAdMaterialList(I);r=r.concat(N),n+=0===t?N.length:0;var L=!(null==I||null===(P=I.condition)||void 0===P||!P.widget_gray_splash_online_optimization)&&a,W=`${sa}/${I.aid}.txt`;if(!L&&o.push(Qr(I,W)),I.product_type===Cg.ANDROID){var B,V=null===(B=I.appInfo)||void 0===B?void 0:B.apkName;s.push({apkName:V,aid:I.aid})}return I}));if(i.datas=_,a&&PA.isAndroid&&null!==(g=i.datas)&&void 0!==g&&null!==(f=g[0])&&void 0!==f&&null!==(m=f.condition)&&void 0!==m&&m.widget_gray_splashad_video_preload&&Ug(null===(y=i.datas)||void 0===y||null===(v=y[0])||void 0===v?void 0:v.crt_size))try{var E;i.handleVideoPreload(i.datas[0],(null===(E=i.datas[0].condition)||void 0===E?void 0:E.widget_gray_splashad_video_preload_duration)||6e3)}catch(e){i.reportAdMonitorData(ap,e)}}catch(e){throw i.reportAdMonitorData(qc,e),e}if(a||h)return i.datas[0];var x=r.slice(0,n);return yield es(x),o.push(es(r)),o.push(i.handleAdInfosIndexCache(s,c,d)),Promise.all(o).then((()=>i.reportAdMonitorData($c))).catch((e=>{throw i.reportAdMonitorData(Yc,e),e})),i.datas[0]}))()}handleVideoPreload(e,t){var i,a,n,o,r=null==e||null===(i=e.crtInfo)||void 0===i||null===(a=i[0].short_video)||void 0===a?void 0:a.video_url,s=null==e||null===(n=e.crtInfo)||void 0===n||null===(o=n[0].short_video)||void 0===o?void 0:o.video_duration_ms;if(r&&s){var l=s>t?Math.ceil(t/s*100):100;this.reportAdMonitorData(tp,l),this.isEmitPreDownloadVideo=!0,this.preDownloadVideoStartTime=Date.now(),this.preDownloadVideo(r,l).then((e=>{this.preDownloadVideoStopTime=Date.now(),this.isPreDownloadVideoStatus=e.result,this.reportAdMonitorData(ip,e),0===e.result?(this.isPreDownloadVideoSuccess=!0,this.reportAdMonitorData(np,e)):1===e.result?this.reportAdMonitorData(op,e):2===e.result&&this.reportAdMonitorData(rp,e)})).catch((e=>{this.reportAdMonitorData(ap,e)}))}}handleCustomAd(e){var t=e.advertisement_info.map(((e,t)=>{var i,a,n,o,r=e=>{if(0===t)throw e},s=null,l=this.handleAdData(e),{crtInfo:d,button_action:c,product_type:p,dest_type:u,crt_size:h}=l;if(l.reranking_ext_info&&l.reranking_ext_info.refresh_time)o=l.reranking_ext_info.refresh_time;else if(l.reranking_ext_info&&"string"==typeof l.reranking_ext_info)try{var g=JSON.parse(l.reranking_ext_info);g.refresh_time&&(o=g.refresh_time)}catch{}if(null!=l&&null!==(i=l.extBackComm)&&void 0!==i&&i.tmpl_info)try{var f,m=JSON.parse(l.extBackComm.tmpl_info);s=JSON.parse(m.tmpl_content),a=Number(l.extBackComm.sub_templ_id),n=Number(null===(f=l.extBackComm)||void 0===f?void 0:f.templ_id)||0}catch{this.reportAdMonitorData($e),r({errMsg:"custom template error",errCode:ut})}else 0===t&&this.reportAdMonitorData(Ye),r({errMsg:"no custom template",errCode:pt});var{antifraud_popup:y}=(null==l?void 0:l.extBackComm)||{};return void 0===y&&(y=!1),{...e,crtInfo:d,button_action:c,product_type:p,dest_type:u,crt_size:h,condition:l.condition,template:s,subTemplId:a,templId:n,refreshTime:o,aid:l.aid,app:l.app,appInfo:l.appInfo,extBackComm:l.extBackComm,wording:l.hint_txt,card_info:l.card_info,video_info:l.video_info,image_url:l.image_url,weapp_info:l.weapp_info,wx_game_video:l.wx_game_video,antifraudPopup:y}}));return this.reportAdMonitorData(at),t.length>1?this.isMulti=!0:this.isMulti=!1,this.datas=t,this.setCurrentData(0),t[0]}handleCpsShopAd(e){var t=e.advertisement_info.map((e=>{var t=this.handleAdData(e);return{...t,extBackComm:{...t.extBackComm,cpsProduct:t.extBackComm.cps_weapp_shop_ad_info}}}));return this.datas||(this.datas=[]),this.datas=this.datas.concat(t),this.setCurrentData(0),t}handleInterstitialAd(e){var t,i,{crtInfo:a,extBackComm:n}=e;if(!a[0])throw{errMsg:"unexpected addata"};(t=a[0]).card_info||(t.card_info={});var o={...a[0],...Ce(e,["crtInfo","product_type","dest_type","crt_size","button_action","condition","app","appInfo","extBackComm","template","poi","rerankingExtInfo"]),useTemplate:!!e.template},r=a[0].card_info;if(n.is_from_snsadinfo){if(!r)throw this.reportAdMonitorData(dd),{errMsg:"unexpected adData"};r.head_bg_img&&(r.bg_img=r.head_bg_img)}e.ad_desc&&!r.description&&(r.description=e.ad_desc),null!=r&&r.desc&&null!=r&&r.description&&(r.description="");var s=`${sa}/interstitialAdExtInfo.txt`,l=(null==e||null===(i=e.condition)||void 0===i?void 0:i.widget_gray_interstitial_preload)||0;return l&&this.reportAdMonitorData(dc),Qr({isPreloadAd:l},s).then((e=>this.reportAdMonitorData(cc,e))).catch((e=>this.reportAdMonitorData(pc,e))),o}getCacheConditionInfo(){var e,t;if("interstitialAd"===this.adType&&(t=`${sa}/interstitialAdExtInfo.txt`),t&&(null===(e=Object.keys(this.cacheConditionInfo))||void 0===e||!e.length))try{var i=Ee(t,"utf-8");this.cacheConditionInfo=JSON.parse(i),this.reportAdMonitorData(uc)}catch(e){this.reportAdMonitorData(hc),this.cacheConditionInfo={}}return this.cacheConditionInfo}handleMultiRewardedVideoAd(e){return this.datas=[],this.convertedAdDatas=[],e.advertisement_info.forEach((e=>{var t=this.handleAdData(e);this.data=t,this.datas.push(t);var i=this.handleRewardedVideoAd(t);this.convertedAdDatas.push(i)})),this.setCurrentData(0),this.convertedAdDatas}getRewardedSnsCardInfo(e,t){var i,a,{ad_desc:n}=e,o=null==t||null===(i=t[0])||void 0===i?void 0:i.card_info,r=null==t||null===(a=t[0])||void 0===a?void 0:a.short_video;if(r&&r.video_duration<1e3&&(r.video_duration*=1e3),!o)return this.reportAdMonitorData(rd),{};var{head_bg_img:s,thumb:l="",title:d=""}=o||{};return Ne({headBgImg:s,mpTagType:0,gaussVideo:null,shortVideo:r,showTime:0,icon:l,name:d,wording:n.replace(/\n/g," "),flooringPage:null})}getRewardedMpCardInfo(e,t){var[{short_video:i,wxgame_video_card:{head_bg_img:a,mp_tag_type:n,show_time:o,thumb:r,title:s,desc:l,flooring_page:d},wxgame_gauss_video:c}]=t;return{headBgImg:a,mpTagType:n,gaussVideo:c,shortVideo:i,showTime:o,icon:r,name:s,wording:l,flooringPage:d}}getRewardedVideoData(e){var t,i=e.crtInfo&&Array.isArray(e.crtInfo)?e.crtInfo:[];0===i.length?i.push({wxgame_video_card:{}}):null!==(t=i[0])&&void 0!==t&&t.wxgame_video_card||(i[0].wxgame_video_card={});var{extBackComm:a,canvas_info:n}=e,{antifraud_popup:o}=a,r=this.getRewardedMpCardInfo(e,i);a.is_from_snsadinfo&&Object.assign(r,this.getRewardedSnsCardInfo(e,i));var[{wxgame_video_card:{playable_appid:s,playable_path:l,endpage_cover:d}}]=i;return{...r,crtInfo:i,canvasInfo:n,playableAppid:s,playablePath:l,endpageCover:d,playableInfo:{appid:s,moduleName:l,orientation:"portrait",coverUrl:null==d?void 0:d.image_url},antifraudPopup:o||!1}}handleRewardedVideoAd(e){var t,i,a,n;e.crt_size===Tg.CRT_SIZE_REWARD_LANDINGPAGE&&this.handleRewardedLandingPage(e);var{crtInfo:o,headBgImg:r,mpTagType:s,gaussVideo:l,canvasInfo:d,shortVideo:c,showTime:p,icon:u,name:h,wording:g,playableInfo:f,flooringPage:m,antifraudPopup:y}=this.getRewardedVideoData(e),v=30;if(e.reranking_ext_info&&e.reranking_ext_info.rewarded_time)v=e.reranking_ext_info.rewarded_time;else if(e.reranking_ext_info&&"string"==typeof e.reranking_ext_info)try{var _=JSON.parse(e.reranking_ext_info);_.rewarded_time&&(v=_.rewarded_time)}catch{}v=Math.floor(1e3*v),m&&[3,4].indexOf(m.landpage_type)>-1&&(e.isPlayable=!0);var E={crtInfo:o[0],crtInfos:o,canvas_info:d,type:Ig[e.pt],shortVideo:c?this.mapRewardVideoFields(c):null,gaussVideo:l?this.mapRewardVideoFields({...l,video_duration:l.video_duration_ms}):null,rewardedTime:1e9,card:{icon:u,name:h,wording:g,headBgImg:r,mpTagType:s,showTime:p},playableInfo:f,flooringPage:m,...Ce(e,["crt_size","product_type","dest_type","button_action","condition","styleParams","app","appInfo","extBackComm","template"]),useTemplate:!!e.template&&!e.styleParams.widget_gray_rewarded_video_disable_template,antifraudPopup:y},x=new EA.ValueProtector(v);Object.defineProperty(E,"rewardedTime",{set:e=>{x.val=e},get:()=>x.val}),E.rewardedTime=v;var b=$m(E),w=Ym(E);return this.reportRewardGaussVideo({useGaussVideo:b,useExpandStyle:w,expUseGaussVideo:null!==(t=null===(i=e.condition)||void 0===i?void 0:i.widget_gray_reward_use_gauss_blur)&&void 0!==t?t:0,expUseExpandStyle:1,videoUrl:null!==(a=null==c?void 0:c.video_url)&&void 0!==a?a:"",gaussVideoUrl:null!==(n=null==l?void 0:l.video_url)&&void 0!==n?n:""}),null!=l&&l.video_url&&this.reportAdMonitorData(Bl),b&&w?this.reportAdMonitorData(Fl):b?this.reportAdMonitorData(Vl):w&&this.reportAdMonitorData(Hl),E}mapRewardVideoFields(e){var{thumb_url:t,video_url:i,video_duration:a,video_duration_ms:n,thumb_width:o,thumb_height:r}=e;return{poster:t,src:i,duration:n||1e3*a,width:o,height:r}}handleRewardedLandingPage(e){var t,i=PA.isAndroid&&S.clientVersion>=654315008||PA.isIOS&&S.clientVersion>=385879552;if((null===(t=e.condition)||void 0===t?void 0:t.widget_gray_rewardedpage_exposure_v2)&&i)try{var{canvas_info:a}=e,{root:n}=T()(a.ad_info_xml),o=Y(e),r=this.composeExposureCommonInfo({top:0,left:0,width:PA.screenWidth,height:PA.screenHeight});n.children.push({name:"viewid",children:[],attributes:{},content:o},{name:"commInfo",children:[],attributes:{},content:r});var s=Mo(n);this.rawAdInfoXml=e.canvas_info.ad_info_xml,e.canvas_info.ad_info_xml=s,this.isCanvasXmlHook=!0}catch(e){this.isCanvasXmlHook=!1}}UpdateRewardedLandingPageData(e){try{if(this.checkCanvasXmlState()&&this.rawAdInfoXml){var{root:t}=T()(this.rawAdInfoXml),i=Y(this.data),a=this.composeExposureCommonInfo({top:0,left:0,width:PA.screenWidth,height:PA.screenHeight,inputWeappExtraData:e.weappExtraData||{}});t.children.push({name:"viewid",children:[],attributes:{},content:i},{name:"commInfo",children:[],attributes:{},content:a});var n=Mo(t);this.data.canvas_info.ad_info_xml=n}this.inputWeappExtraData=e.weappExtraData||{}}catch(e){this.reportAdMonitorData(Ed,e)}}handleBannerAd(e){var t,{extBackComm:i,crtInfo:a,pt:n,crt_size:o,image_url:r,material_width:s,material_height:l,ad_width:d,ad_height:c,use_style_data:p,hint_txt:u,watermark_type:h}=e,{antifraud_popup:g}=i;void 0===g&&(g=!1);var f,m,y=Ig[n];p?(f=d,m=c):[Tg.CRT_SIZE_WX_APPLICATION,Tg.CRT_SIZE_WX_APPLICATION_NEW,Tg.CRT_SIZE_WX_APPLICATION_X].includes(o)?(f=(d||s)/2,m=(c||l)/2):o===Tg.CRT_SIZE_WX_APPLICATION_CARD&&(f=d,m=c);var v={antifraudPopup:g,type:y,crt_size:o,useStyleData:p,watermark:Sg[h],width:f,height:m,image:{src:r,width:s,height:l},wording:u,...Ce(e,["ad_style_data","product_type","dest_type","button_action","watermark_text","condition","app","appInfo","crtInfo","template"]),useTemplate:!!e.template||e.crt_size===Tg.CRT_SIZE_CARD_COMPT_IMAGE},_=(null==a||null===(t=a[0])||void 0===t?void 0:t.card_info)||{};if(i.is_from_snsadinfo&&!_)throw{errMsg:"unexpected adData"};return i.is_from_snsadinfo&&e.ad_desc&&!_.description&&(_.description=e.ad_desc),null!=_&&_.desc&&null!=_&&_.description&&(_.description=""),this.convertedAdData=v,v}extractJson(e,t,i,a){var n=null!=i?i:t;if(e[n]&&"string"==typeof e[n])try{e[t]=JSON.parse(e[n])}catch{e[t]=null!=a?a:{}}else null!=a&&(e[t]=a)}buildWechatInfo(e){if(e.product_type===Cg.WE_CHAT){var{biz_appid:t,biz_info:{nick_name:i,is_subscribed:a,head_img:n,biz_uin:o}}=e;return{icon:n,nickname:i,uin:o,isFollowed:a,biz_appid:t}}return{}}buildAppInfo(e){var t=e.product_type;if([Cg.ANDROID,Cg.IOS].includes(t)){var{app_info:{app_name:i,apk_name:a,apk_url:n,app_md5:o,app_rating:r,icon_url:s,url_scheme:l,version_code:d,channel_id:c,desc:p}}=e;return{appName:i,apkName:a,apkUrl:n,appMd5:o,appRating:r,iconUrl:s,urlScheme:l,versionCode:d,channelId:c,desc:p}}return{}}handleAdData(e){var t,i,a,n,o,r,s,l;if(0===Object.keys(e).length)throw{errMsg:"unexpected adData"};var d,c,p,u=e.crt_exp_tid&&e.crt_exp_info?this.convertTestAdData(e):ke(e),h=u;(u.crt_size&&(h.crt_size=Number(u.crt_size)),this.extractJson(h,"crtInfo","crt_info"),this.extractJson(h,"extBackComm","ext_back_comm"),this.extractJson(h,"button_action","button_action",{}),this.extractJson(h,"adStyleData","ad_style_data",""),this.extractJson(h,"rerankingExtInfo","reranking_ext_info",""),this.extractJson(h,"extInfo","ext_info"),this.extractJson(h,"adDynamicList","ad_dynamic_list"),null!==(t=h.crtInfo)&&void 0!==t&&null!==(i=t[0])&&void 0!==i&&null!==(a=i.card_info)&&void 0!==a&&a.sns_to_mp_supplementary)&&Object.assign(h.crtInfo[0].card_info,null===(d=h.crtInfo)||void 0===d||null===(c=d[0])||void 0===c||null===(p=c.card_info)||void 0===p?void 0:p.sns_to_mp_supplementary);if(u.flow_exp_info){try{h.condition=ka(u.flow_exp_info)}catch(e){h.condition={},this.reportAdMonitorData(kc,e)}this.isSplashAd()||this.handleSplashAdFetchLog(h.condition)}if(null!==(n=h.extBackComm)&&void 0!==n&&n.style_params)try{h.styleParams=(e=>{var t={},i=JSON.parse(e);for(var{key_enum:a,value:n}of i)a&&oa[a]&&(t[oa[a]]=n);return t})(h.extBackComm.style_params)}catch(e){h.styleParams={},this.reportAdMonitorData(Dc,e)}else h.styleParams={};if(null!==(o=h.extBackComm)&&void 0!==o&&o.we_game_info)try{var g;h.extBackComm.wegameInfo=JSON.parse(null===(g=h.extBackComm)||void 0===g?void 0:g.we_game_info)}catch(e){h.extBackComm.wegameInfo={},this.reportAdMonitorData(Lc,e)}else h.extBackComm.wegameInfo={};if(h.adStyleData&&Gm("native",h.crt_size)){h.use_style_data=!0;var{adStyleData:f}=h;u.ad_width=f.width,u.ad_height=f.height,f.widgets.forEach((e=>{var t=u.button_action;4===e.type&&(t.button_text=e.title,t.jump_type=e.dest_type||t.jump_type,t.jump_url=e.dest_url||t.jump_url)}))}else this.validateCrtSize(h);var m,y=u.button_action;if(y.button_text=y.button_text||"查看",u.watermark_text=u.watermark_text||"去逛逛",18001===(null==h||null===(r=h.extInfo)||void 0===r?void 0:r.page_type)){var v={gdt_vid:u.traceid||"",uxinfo:u.uxinfo||"",ad_token:u.ad_token||"",rl:u.rl||""};u.url=vg(u.url,v)}if(null!=h&&null!==(s=h.extBackComm)&&void 0!==s&&s.ad_template_info)if(this.isSplashAd()&&(null==h||null===(m=h.extBackComm)||void 0===m?void 0:m.template_compress_type)===VA.JSONPACK)try{var _,E=Date.now();h.template=vA(null==h||null===(_=h.extBackComm)||void 0===_?void 0:_.ad_template_info);var x=Date.now()-E;this.reportAdMonitorData(bc,x)}catch(e){h.template=null,this.reportAdMonitorData(wc,e)}else try{h.template=JSON.parse(h.extBackComm.ad_template_info)}catch{h.template=null}null!=h&&null!==(l=h.extBackComm)&&void 0!==l&&l.templ_id&&(h.templId=Number(h.extBackComm.templ_id)||0);var b=this.buildWechatInfo(h),w=this.buildAppInfo(h);return u.product_type===Cg.ANDROID&&V(w.apkName).then((({waid:e})=>{h.waid=e,this.reportAdMonitorData(Cl)})).catch((e=>{this.reportAdMonitorData(Al,e)})),{...h,app:b,appInfo:w}}handleSplashAdFetchLog(e){this.handledInNewFetch||(this.handledInNewFetch=!0,ts(e))}handleOperateWXData(e){var t={apiName:"webapi_getadvert",reqData:e};return this.isSplashAd()?ce(t):pe(t)}handleFetch(e,t,i,a={}){var n=this;return b()((function*(){if(n.validateFetchEnv(),Object.keys(t).length>0)OA(t);else{PA.deviceOrientation=kA();try{var{networkType:o}=yield n.getNetworkType();PA.adNetworkType=o}catch(e){if(!n.isSplashAd()||!PA.adNetworkType)throw e}}if(!n.isSplashAd()){n.setTimePoint("p34",{prefetch:a.prefetch});var r=n.isRewardedVideoAd()?200:100;yield Promise.race([J(r),IA,J(r)]),n.setTimePoint("p35",{prefetch:a.prefetch})}var s=n.getFetchArgs({isAdInterval:e},i);n.setLastAdReqTs(+new Date),n.setLastExposureTime(0),n.setLastClickTime(0),n.setTimePoint("p2",{prefetch:a.prefetch});var l=yield n.handleOperateWXData(s);return n.fetchRetryCount=0,n.handledInNewFetch=!1,n.setTimePoint("p3",{prefetch:a.prefetch}),l}))()}handleFetchWithCache(e,t,i){var a=this;return b()((function*(){return a.isRewardedVideoAd()&&a.cacheCount>0&&a.cacheRawDatas.length>0?(a.reportAdMonitorData(lc),a.cacheRawDatas.shift()):yield a.handleFetch(e,t,i)}))()}prefetchAdData(e=!1,t={},i={}){var a=this;return b()((function*(){if(a.cacheRawDatas.length<a.cacheCount)try{var n=yield a.handleFetch(e,t,i,{prefetch:!0});a.cacheRawDatas.length<a.cacheCount?(a.cacheRawDatas.push(n),a.reportAdMonitorData(rc)):a.reportAdMonitorData(sc,"cache data limit exceed")}catch(e){a.reportAdMonitorData(sc,e)}}))()}getPreloadAdsForCheckStatus(){try{var e=this.cacheRawDatas.length>0?this.cacheRawDatas:[],t=MA(!1)||[];(null==t?void 0:t.length)>0&&(e=e.concat(t));var i=[];for(var a of e)if("object"==typeof a){var{data:n}=a,o="string"==typeof n?JSON.parse(n):n,r=o.advertisement_info[0],s=JSON.parse(null==r?void 0:r.reranking_ext_info);i.push({material_hash:"",aid:r.aid,trace_id:r.traceid,tid:(null==s?void 0:s.tid)||0}),this.cacheRawDatasMap[r.aid]={data:o,errMsg:null==a?void 0:a.errMsg}}return this.reportAdMonitorData(fc),i}catch(e){return this.reportAdMonitorData(mc,e),[]}}getAiAdPreloadData(){var e=this;return b()((function*(){var t=NA();if(1===t){var i=LA();i&&(yield i)}var a=MA(!0)||[];if(!a||!a.length)throw{errCode:_a,errMsg:"checkStatus no preload ads return"};for(var o of a)if("object"==typeof o){var{data:r}=o,s="string"==typeof r?JSON.parse(r):r;e.cacheRawDatasMap[10086]={data:s,errMsg:null==o?void 0:o.errMsg}}var{data:l}=e.cacheRawDatasMap[10086],d=e.handleAdData(l.advertisement_info[0]);return e.data=d,e.datas=[d],e.setCurrentData(0),delete e.cacheRawDatasMap[10086],e.isInterstitialAd(d)&&(e.convertedAdData=e.handleInterstitialAd(d)),e.convertedAdDatas=[e.convertedAdData],e.isUsedCacheData=!0,e.reportAdMonitorData(_c),WA(!0),n.warn("[aiad intersitital info] get intersitial aiad from preload"),e.convertedAdData&&a.length&&(e.convertedAdData.from_preload=1===t?2:1),e.convertedAdData}))()}processCheckCacheDataStatus(e){var t=this;return b()((function*(){try{var i,a=t.getPreloadAdsForCheckStatus();if(!a||(null==a?void 0:a.length)<=0)throw{errCode:_a,errMsg:"checkStatus no preload ads return"};var n=Object.assign({},e,{preloadAds:a,requestType:6}),o=t.getFetchArgs({isAdInterval:!1},n);t.reportAdMonitorData(yc);var{data:r}=yield t.handleOperateWXData(o),s=(null==r?void 0:r.advertisement_extra_info)||null;if(null!=r&&r.advertisement_extra_info&&"string"==typeof r.advertisement_extra_info)try{s=JSON.parse(r.advertisement_extra_info)}catch(e){throw{errCode:xa,errMsg:"Parse advertisement_extra_info fail",preloadAds:a}}if(null===(i=s)||void 0===i||!i.check_ad_resp)throw{errCode:ba,errMsg:"checkStatus no result return",preloadAds:a};var l=s.check_ad_resp;if(null==l||!l.aid||!Number(null==l?void 0:l.aid))throw{errCode:Ea,errMsg:"checkStatus no aid return",preloadAds:a};if(!Object.keys(t.cacheRawDatasMap).includes(null==l?void 0:l.aid))throw{errCode:wa,errMsg:"checkStatus no local data return",preloadAds:a};var{data:d}=t.cacheRawDatasMap[l.aid],c=t.handleAdData(d.advertisement_info[0]);return t.data=c,t.datas=[c],t.setCurrentData(0),delete t.cacheRawDatasMap[l.aid],t.checkDuplicateRecommendedAds(c.product_type,c.app,c.appInfo),t.isInterstitialAd(c)&&(t.convertedAdData=t.handleInterstitialAd(c)),t.convertedAdDatas=[t.convertedAdData],t.isUsedCacheData=!0,t.reportAdMonitorData(_c),t.convertedAdData}catch(e){throw t.reportAdMonitorData(vc,e),e}}))()}processFetch(e,t,i){var a=this;return b()((function*(){try{var{data:n,errMsg:o}=yield a.handleFetchWithCache(e,t,i),r=!1,s={};if(a.isRewardedVideoAd())try{a.validateFetchRes(n)}catch(e){if(1004!==e.errCode)throw e;r=!0,s=e}else a.validateFetchRes(n);if(a.isInterstitialAd()&&a.isUsedCacheData&&a.convertedAdData)return a.isUsedCacheData=!1,a.cacheRawDatas.push({data:n,errMsg:o}),a.reportAdMonitorData(Ec),a.convertedAdData;if(a.isSplashAd())return a.handleSplashAd(n,i);if(a.isCustomAd())return a.handleCustomAd(n);if(a.isCpsShopAd())return a.handleCpsShopAd(n);if(a.isRewardedVideoAd()){var l=n,d=!1,c=a.canUsePreLoadCache(i),p=ku();if(r&&(!p||!c))throw s;if(p&&c){var{data:u,ecpm:h}=p;if(r&&!u)throw s;if(r&&u)l=u,a.lastAdRetCode=0,d=!0;else if(1===n.advertisement_num&&u){var g=n.advertisement_info[0],f=0;if("string"==typeof(null==g?void 0:g.ext_back_comm))try{var m=JSON.parse(g.ext_back_comm);f=null==m?void 0:m.basic_ecpm}catch(e){}Du((d=!!(f&&h&&f<h))?{data:n,ecpm:f,cacheTime:Date.now()}:p)}l=d?u:n}return a.rawAdDatas=l.advertisement_info,a.handleMultiRewardedVideoAd(l)}var y=a.handleAdData(n.advertisement_info[0]);return a.data=y,a.datas=[y],a.setCurrentData(0),a.checkDuplicateRecommendedAds(y.product_type,y.app,y.appInfo),a.isInterstitialAd(y)?a.convertedAdData=a.handleInterstitialAd(y):a.isBannerAd(y)&&(a.convertedAdData=a.handleBannerAd(y)),a.convertedAdDatas=[a.convertedAdData],a.convertedAdData}catch(t){var v="";try{"string"==typeof t&&(v=JSON.parse(t).errMsg)}catch(e){}if(0===v.indexOf("getAdData:fail")&&a.fetchRetryCount<1)return a.fetchRetryCount+=1,a.fetch(e);throw a.isBannerAd()?a.reportAdMonitorData(Ts,t):a.isRewardedVideoAd()?a.reportAdMonitorData(Cs,t):a.isInterstitialAd()?a.reportAdMonitorData(Gs,t):a.isCustomAd()?a.reportAdMonitorData(ze,t):a.isSplashAd()&&a.reportAdMonitorData(jc,t),a.isUsedCacheData&&(a.isUsedCacheData=!1),t}}))()}processAdditionFetch(e,t,i){var a=this;return b()((function*(){if(a.validateFetchEnv(),Object.keys(t).length>0)OA(t);else{PA.deviceOrientation=kA();var{networkType:n}=yield a.getNetworkType();PA.adNetworkType=n}var o=a.getFetchArgs({isAdInterval:e},i);a.setLastAdReqTs(+new Date);try{var r=yield a.handleOperateWXData(o);a.additionFetchRetryCount=0,a.handledInNewFetch=!1,r=r.data,a.validateFetchRes(r);var s=a.handleAdData(r.advertisement_info[0]);a.checkDuplicateRecommendedAds(s.product_type,s.app,s.appInfo),a.datas.push(s);var l=null;return a.isInterstitialAd(s)?l=a.handleInterstitialAd(s):a.isBannerAd(s)&&(l=a.handleBannerAd(s)),l&&a.convertedAdDatas.push(l),l}catch(t){var d="";try{"string"==typeof t&&(d=JSON.parse(t).errMsg)}catch(e){}if(0===d.indexOf("getAdData:fail")&&a.additionFetchRetryCount<1)return a.additionFetchRetryCount+=1,a.additionFetch(e);throw a.isBannerAd()?a.reportAdMonitorData(Ts,t):a.isRewardedVideoAd()?a.reportAdMonitorData(Cs,t):a.isInterstitialAd()?a.reportAdMonitorData(Gs,t):a.isCustomAd()?a.reportAdMonitorData(ze,t):a.isSplashAd()&&a.reportAdMonitorData(jc,t),t}}))()}checkDuplicateRecommendedAds(e,t,i){var a=this;return b()((function*(){var n=[],o="0",r=decodeURIComponent(a.data.apurl);/viewid=([^&]+)/.test(r)&&(o=RegExp.$1);var l={conv_status:n},d={},{imei:c,idfa:p}=yield IA,u={viewid:o,app_status:0,follow_status:0,imei:c,idfa:p};if(a.isDuplicateRecommendedAds=!1,e===Cg.WE_CHAT){if(d.ad_type=1,d.ad_id=t.biz_appid,u.follow_status=t.isFollowed?2:1,t.isFollowed)return a.isDuplicateRecommendedAds=!0,a.reportAdMonitorData(Hs,{adInfo:d})}else if(e===Cg.ANDROID){var{apkName:h,versionCode:g}=i;try{var f=yield a.getInstallState(h),m=f.isInstalled&&(void 0===f.versionCode||f.versionCode>=g);d.ad_type=2,d.ad_id=h,u.app_status=m?2:1,a.isDuplicateRecommendedAds=Boolean(m),m&&a.reportAdMonitorData(Fs,{adInfo:d})}catch{u.app_status=0,s.reportIDKey({key:"adGetInstallState_fail",force:!0})}}n.push(u),a.reportInstallFollow(l)}))()}getAdType(){return this.adType}getAdUnitId(){return this.adUnitId}getPluginAppid(){return this.pluginAppid}getDeviceInfo(){return PA}isBannerAd(e){return"banner"===this.adType}isRewardedVideoAd(e){return"rewardedVideoAd"===this.adType&&(!e||Gm("all",e.crt_size))}isInterstitialAd(e){return"interstitialAd"===this.adType&&(!e||Lv("all",e.crt_size))}isCustomAd(){return"customAd"===this.adType}isSplashAd(){return"splashAd"===this.adType}isCpsShopAd(){return"cpsShopAd"===this.adType}isSkitMode(){return!!this.isSkitAd}isRewardedCustomerAcquisition(){var e,t,i;if(!this.data)return!1;if(null!=this.isCustomerAcquisition)return this.isCustomerAcquisition;if((null===(e=this.data)||void 0===e?void 0:e.dest_type)===wg.DEST_TYPE_CANVAS&&null!==(t=this.data)&&void 0!==t&&null!==(i=t.canvas_info)&&void 0!==i&&i.canvas_dynamic_info)try{var a,n,o=JSON.parse(null===(a=this.data)||void 0===a||null===(n=a.canvas_info)||void 0===n?void 0:n.canvas_dynamic_info);if((null==o?void 0:o.vangogh_id)>0)return this.isCustomerAcquisition=!0,!0}catch{}return this.isCustomerAcquisition=!1,!1}getProgramStartTime(){return PA.startTime}getWebviewInfo(){return{createWebviewId:this.webviewId,lastWebviewId:SA.lastWebviewId,currentWebviewId:SA.currentWebviewId,openType:SA.currentOpenType}}getExpTidForReport(e){if(!e)return"";var t=[];for(var i of Object.keys(e))na[Number(i)]&&t.push(`${i}:${e[i]}`);return t.join(";").slice(0,500)}reset(){this.adDataIndex=0,this.datas=[],this.convertedAdDatas=[],this.cgiReporter.reset(),this.rawAdInfoXml="",this.isCustomerAcquisition=null,this.inputWeappExtraData={}}fetch(e=!1,t={},i={}){if(!this.fetchPromise||this.isSplashAd()){this.fetchPromise=this.processFetch(e,t,i);var a=()=>{this.fetchPromise=null};this.fetchPromise.then(a,a)}return this.fetchPromise}checkCacheDataStatus(e={}){return this.checkStatusPromise||(this.checkStatusPromise=this.processCheckCacheDataStatus(e)),this.checkStatusPromise}checkAndFetch(e=!1,t={},i={},a=!1){return a?this.getAiAdPreloadData().catch((a=>(n.warn(`[aiad intersitital error] getAiAdPreloadData error: ${null==a?void 0:a.errMsg}`),this.fetch(e,t,i)))):(this.reportAdMonitorData(gc),this.handleFetchPromiseQueueWithCache([this.checkCacheDataStatus(i),this.fetch(e,t,i)]).catch((e=>{throw this.reportAdMonitorData(xc),e})))}handleFetchPromiseQueueWithCache(e){return b()((function*(){e=e.map((e=>e.then((e=>[null,e])).catch((e=>[e]))));var t=[];for(var i of e)try{var[a,n]=yield i;if(a)throw a;return n}catch(e){t.push(e)}if(2===t.length)throw t[1]}))()}additionFetch(e=!1,t={},i={}){if(!this.additionFetchPromise){this.additionFetchPromise=this.processAdditionFetch(e,t,i);var a=()=>{this.additionFetchPromise=null};this.additionFetchPromise.then(a,a)}return this.additionFetchPromise}setRightButtonHide(e){var t=()=>PA.isWaGame?this.setNavigationBarRightButton({isHide:e}):this.setMiniProgramNavigationBarRightButton({isHide:e});return t().catch((i=>(this.reportAdMonitorData(bl,{retryCount:0,isHide:e,message:this.processStackMsg(i)}),t().catch((t=>{throw this.reportAdMonitorData(bl,{retryCount:1,isHide:e,message:this.processStackMsg(t)}),t})))))}addDownloadTaskStraight(e,t,i,a){return Fr({taskName:e,taskUrl:t,fileMd5:i,extInfo:a}).catch((e=>(this.reportAdMonitorData(Ms,e),Promise.reject(e))))}operateFullscreen(e){if(!e)return Promise.reject();var t=[this.setRightButtonHide("hide"===e)];return PA.isWaGame||t.push("hide"===e?this.hideStatusBar():this.showStatusBar()),!PA.isWaGame&&PA.isAndroid&&t.push("hide"===e?this.hideVirtualBottomNavigationBar():this.showVirtualBottomNavigationBar()),Promise.all(t)}isTriggerClick(e){var t=e.absoluteX,i=e.absoluteY,a=e.absoluteEndX,n=e.absoluteEndY,o=e.pressInterval,r=!1;return Math.abs(n-i)<30&&Math.abs(a-t)<30&&o<300&&(r=!0),r}isValidCondition(e){return!!(e&&this.data&&this.data.condition)&&(this.data.condition[e]||void 0===this.data.condition[e])}setCurrentData(e){var t,i;this.adDataIndex=e,null!==(t=this.datas)&&void 0!==t&&t[e]&&(this.data=this.datas[e]),null!==(i=this.convertedAdDatas)&&void 0!==i&&i[e]&&(this.convertedAdData=this.convertedAdDatas[e])}checkCanvasXmlState(){return this.isCanvasXmlHook}handleRewardedVideoPlayableLand(e,t){var i,a,n,o=null==this||null===(i=this.data)||void 0===i||null===(a=i.extBackComm)||void 0===a?void 0:a.uid,r={};4===t?r.xj_scene=6:(r.gdt_vid=this.data.traceid||"",r.uxinfo=this.data.uxinfo||"",r.reward=1),r.rl=this.data.rl||"",r.ad_token=this.data.ad_token||"",PA.isIOS&&(r.uid=o||"");var s=vg(e,r);return this.isPrefetch("playable_url")&&this.reportAdMonitorData(ed),se({url:s,adInfo:this.getTransmissionChainData({logtype:3}),adUxInfo:null===(n=this.data)||void 0===n?void 0:n.uxinfo})}setDeviceInfo(e){Object.assign(PA,e)}setSplashAdShowStatus(){BA=!0}getSplashAdShowStatus(){return BA}getChannelsLiveStatusWithRpc(){var e=this;return b()((function*(){var{dest_type:t,extBackComm:{channels_info:i,live_video_mode:a,live_video_sub_mode:n}}=e.data;if(!i||null==a||null==n)return"none";if(Eg(a,n)&&t===wg.DEST_TYPE_CHANNELS_LIVE){var{id:o,username:r}=i;if(!o||!r)return"none";try{var{data:s}=yield pe({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_finder_live_info",live_id:o})}}),{result:l}=s||"",{live_status:d}=JSON.parse(l);if([Vg.NONE,Vg.IN_PREPARE].includes(d))return"none";if(d===Vg.ON_AIR)return"onlive";if(d===Vg.ENDED)return"end";e.reportAdIDKey({key:ad})}catch(t){e.reportAdMonitorData(nd,{id:o,username:r,errMsg:t})}}else if(xg(a,n)&&t===wg.DEST_TYPE_CANVAS)return"reserve";return"none"}))()}getChannelsLiveStatus(){var e=this;return b()((function*(){var{dest_type:t,extBackComm:{channels_info:i,live_video_mode:a,live_video_sub_mode:n}}=e.data;if(!i||null==a||null==n)return"none";if(Eg(a,n)&&t===wg.DEST_TYPE_CHANNELS_LIVE){var{id:o,username:r}=i;if(!o||!r)return"none";try{var{status:s}=yield e.getChannelsLiveInfo({feedId:o,finderUserName:r});if([Vg.NONE,Vg.IN_PREPARE].includes(s))return"none";if(s===Vg.ON_AIR)return"onlive";if(s===Vg.ENDED)return"end";e.reportAdIDKey({key:ad})}catch(t){e.reportAdMonitorData(nd,{id:o,username:r,errMsg:t})}}else if(xg(a,n)&&t===wg.DEST_TYPE_CANVAS)return"reserve";return"none"}))()}handleAdTemplateEvent(e){switch(e.action){case qw.FEEDBACKBTNTAP:return this.openFeedbackUrl(PA.isWaGame?1003:1005),!0;case qw.REPORTTIMEPOINT:return e.value.key&&this.setTimePoint(e.value.key),!0;case qw.REPORTMMDATA:return e.value.id&&e.value.data&&this.reportMMData(parseInt(e.value.id,10),e.value.data),!0;case qw.REPORTADMONITORDATA:var{id:t,key:i,extInfo:a}=e.value,n=t?{idKeyGroup:t,idKey:i}:i;return this.reportAdMonitorData(n,a),!0}return!1}isOriginExposureArea(e){if(!e)return!1;var{left:t,top:i,width:a,height:n}=e;return i+n>=1&&i<=PA.screenHeight-1&&t+a>=1&&t<=PA.screenWidth-1}isViewableExposureArea(e){if(!e)return!1;var{left:t,top:i,width:a,height:n}=e,o=t+a<=PA.screenWidth?t+a:PA.screenWidth-t,r=i+n<=PA.screenHeight?i+n:PA.screenHeight-i;return(o=o>a?a:o)*(r=r>n?n:r)/(a*n)>=.5}getMonitorDataExtraInfo(){return this.slotContext.getMonitorDataExtraInfo?this.slotContext.getMonitorDataExtraInfo():{}}getCgiReportExtraData(){return this.slotContext.getCgiReportExtraData?this.slotContext.getCgiReportExtraData():{}}canUsePreLoadCache(e){return!this.isSkitAd&&Object.keys(e).length<1}},A()(kC.prototype,"handleCheckAdIsOnlineResp",[fC,mC],Object.getOwnPropertyDescriptor(kC.prototype,"handleCheckAdIsOnlineResp"),kC.prototype),A()(kC.prototype,"handleSplashAd",[yC,vC],Object.getOwnPropertyDescriptor(kC.prototype,"handleSplashAd"),kC.prototype),A()(kC.prototype,"handleCustomAd",[_C,EC],Object.getOwnPropertyDescriptor(kC.prototype,"handleCustomAd"),kC.prototype),A()(kC.prototype,"handleCpsShopAd",[xC,bC],Object.getOwnPropertyDescriptor(kC.prototype,"handleCpsShopAd"),kC.prototype),A()(kC.prototype,"handleInterstitialAd",[wC,TC],Object.getOwnPropertyDescriptor(kC.prototype,"handleInterstitialAd"),kC.prototype),A()(kC.prototype,"handleMultiRewardedVideoAd",[CC,AC],Object.getOwnPropertyDescriptor(kC.prototype,"handleMultiRewardedVideoAd"),kC.prototype),A()(kC.prototype,"handleBannerAd",[PC,IC],Object.getOwnPropertyDescriptor(kC.prototype,"handleBannerAd"),kC.prototype),A()(kC.prototype,"checkDuplicateRecommendedAds",[SC],Object.getOwnPropertyDescriptor(kC.prototype,"checkDuplicateRecommendedAds"),kC.prototype),kC),{initComponent:FA}=y,GA=function(e,t,i){return FA.call(this,e,(e=>{var t={};for(var i of Object.keys(e||{}))e[i]&&(t[i]=Object.assign({},e[i]),e[i].landscape&&!e[i].landscapeLeft&&(t[i].landscapeLeft=Object.assign({},e[i].landscape)),e[i].landscape&&!e[i].landscapeRight&&(t[i].landscapeRight=Object.assign({},e[i].landscape)));return t})(t),i)},UA={type:"EOF"};class zA{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",UA),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&(()=>{for(var e=0,t=0,i=0,a=this.token.length;i<a;i++){var n=this.token[i];"("===n?e+=1:")"===n&&(t+=1)}return e===t})()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(UA)}}var jA=e=>{for(var t=new zA,i=0,a=e.length;i<a;){var n=e[i];i+=1,t.push(n)}return t.end(),t.tokens},$A=e=>"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null,YA=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren),qA=e=>0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren),KA=e=>{var t;t="string"==typeof e?jA(e):e;for(var i=[$A({type:"ROOT"})],a=e=>{for(var t=e.priority;YA(i[i.length-1])&&qA(i[i.length-2])&&t<=i[i.length-1].priority&&t<=i[i.length-2].priority;){var{children:a}=i[i.length-2];null==a||a.push(i.pop())}},n=e=>{var t=$A(e),n=i[i.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(YA(n))return;qA(n)?n.children.push(t):i.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?YA(n)&&(t.priority>n.priority?((e,t)=>{var a=t.children.pop();a&&e.children.push(a),i.push(e)})(t,n):(a(t),(e=>{var t=i.pop();t&&e.children.push(t),i.push(e)})(t))):"ROOT_END"===t.type&&(a(t),i.push(t))},o=0,r=t.length;o<r;o++)n(t[o]);return i},ZA=({type:e,children:t,operator:i},a,n={})=>{var o=e=>ZA(t[e],a,n);if("COMPARE"===e){var r=i&&{">":()=>o(0)>o(1),"<":()=>o(0)<o(1),">=":()=>o(0)>=o(1),"<=":()=>o(0)<=o(1),"==":()=>o(0)==o(1),"!=":()=>o(0)!=o(1),"===":()=>o(0)===o(1)}[i];return r?r():null}if("LOGIC"===e){var s=i&&{"&&":()=>o(0)&&o(1),"||":()=>o(0)||o(1)}[i];return s?s():null}var l={NUMBER:()=>Number(t[0]),STR:()=>t[0],TPLSTR:()=>((e,t)=>{var i=e.split("."),a="";return i.forEach((e=>{""===a?a=t[e]:("string"==typeof a&&(a=JSON.parse(a)),a=a[e])})),a})(t[0],a),QUESTION:()=>o(0)?o(1):o(2),TPLFUNC:()=>((e,t,i)=>{var a=e.indexOf("("),n=e.substring(0,a),o=e.substring(a+1,e.length-1);if(!i[n])return null;for(var r=jA(o),s=[],l=[],d=0,c=r.length;d<c;d++){var p=r[d];"COMMA"===p.type||"EOF"===p.type?(s.push(l),l=[]):l.push(p)}var u=[];return s.forEach((e=>{u.push(JA(e,t,i))})),i[n].apply(null,u)})(t[0],a,n)},d=l[e]||null;return d?d():null},XA={"#scope":e=>e,"#no":e=>!e,"#bool":e=>!!e,"#add":(e,t)=>e+t,"#sub":(e,t)=>e-t,"#multi":(e,t)=>e*t,"#division":(e,t)=>e/t,"#negative":e=>-e,"#mod":(e,t)=>e%t,"#toNumber":e=>Number(e),"#toString":e=>String(e),"#toArray":(...e)=>e,"#ceil":e=>Math.ceil(e),"#floor":e=>Math.floor(e),"#round":e=>Math.round(e),"#substring":(e,t,i)=>e.substring(t,i),"#like":(e,t)=>-1!==e.indexOf(t),"#toFixed":(e,t)=>parseFloat(e).toFixed(t),"#replace":(e,t,i)=>e.replace(t,i),"#replaceAll":(e,t,i)=>e.replaceAll(t,i),"#toLowerCase":e=>e.toLowerCase(),"#toUpperCase":e=>e.toUpperCase(),"#len":e=>e.length,"#hansLen":e=>{var t=0;for(var i of e)t+=/[\u4e00-\u9fa5]/.test(i)?2:1;return t/2},"#parse":e=>{try{return JSON.parse(e)}catch(e){return{}}},"#value":(e,t)=>e[t]||{},"#truncate":(e,t)=>{var i="",a=0;for(var n of e){if((a+=/[\u4e00-\u9fa5]/.test(n)?2:1)>t){i+="...";break}i+=n}return i},"#concat":(...e)=>e.join(""),"#split":(e,t,i)=>null==e?void 0:e.split(t,i),"#abbrNum":e=>e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`,"#trimDigit":e=>{var t=e.toString().split(".");if(t.length<2)return e;for(var i=t.slice(-1)[0];"0"===i[i.length-1];)i=i.slice(0,-1);return t.slice(0,-1).concat(i?[i]:[]).join(".")},"#append":(e,t,i=!1)=>(i&&e.indexOf(t)>-1||e.push(t),e),"#remove":(e,t)=>e.filter((e=>e!==t)),"#include":(e,t)=>e.indexOf(t)>-1,"#indexedArray":e=>{if(e<=0)return[];for(var t=[],i=0;i<e;i+=1)t.push(i);return t},"#get":Ie,"#slice":(e,t,i)=>e.slice(t,i),"#compareVersion":(e,t)=>Um(e,t)},JA=(e,t,i)=>{try{var a=KA(e);return ZA(a[1],t,Object.assign({},XA,i))}catch(e){}return null},{deviceInfo:QA,invokeMethod:eP,gametext:tP}=y,iP={},aP=k;class nP extends Uu{constructor(e,{autoRegister:t=!0}={}){super(e),this.adCustomId=void 0,this.adProxy=void 0,this.adData=void 0,this.adDatas=void 0,this.template=void 0,this.manager=void 0,this.reporter=void 0,this.emitter=void 0,this.id=void 0,this.options=void 0,this.data=void 0,this.events=void 0,this.lifecycle=void 0,this.innerStyles=void 0,this.animations=void 0,this.idPrefix=void 0,this.forType=void 0,this.forItem=void 0,this.forIndex=void 0,this.ratio=1,this.tplConfig=null,this.bubbleEvent=void 0,this.adCustomListener=null,this.clickCallbackMap=new WeakMap,this.handleCommonClick=e=>{this.doActions(this.events.tap,{event:e})},this.touchInfo=null,this.handleCommonTouchStart=e=>{this.touchInfo=e},this.handleCommonTouchEnd=e=>{if(this.touchInfo){var t=Math.abs(e.x-this.touchInfo.x),i=Math.abs(e.y-this.touchInfo.y),a="none";(t>=20||i>=20)&&(t>=i&&e.x>this.touchInfo.x?a="right":t>=i&&e.x<this.touchInfo.x?a="left":i>=t&&e.y>this.touchInfo.y?a="bottom":i>=t&&e.y<this.touchInfo.y&&(a="top")),this.emitComponentEvent(Ht,{direction:a,startEvent:this.touchInfo,endEvent:e})}this.touchInfo=null},this.handleAdCustomAction=e=>{e.targetid===this.id&&this.doCommonAction(e)},this.adCustomId=e.adCustomId,this.adProxy=e.adProxy,this.adData=e.adData,this.adDatas=e.adDatas,this.manager=e.manager,this.reporter=e.reporter,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||qi,this.forItem=e.forItem,this.forIndex=e.forIndex,this.checkSize(),e.ratio&&(this.ratio=e.ratio);var i=e.template||{};this.template=i,this.id=`${this.adCustomId}-${this.idPrefix}${this.template.id}`;var a=i.options||{};this.options=a,this.data=a.data||{},this.events=a.events||{},this.lifecycle=a.lifecycle||{},this.innerStyles=a.innerStyles||{},this.animations=a.animations||{},this.bubbleEvent=void 0===a.bubbleEvent||a.bubbleEvent;var n=this.getDataValue("_bubbleEvent");void 0!==n&&(this.bubbleEvent=n),t&&this.bindCommonEvents()}ready(e){this.emitComponentLifeCycle("onInit"),e&&(e.adId=this.id)}updatedProps(){this.updateBubbleEvent()}destroy(){this.emitComponentLifeCycle("onDestroy"),this.offClick("container",this.handleCommonClick),this.offTouchstart("container",this.handleCommonTouchStart),this.offTouchend("container",this.handleCommonTouchEnd),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){this.onClick("container",this.handleCommonClick),this.onTouchstart("container",this.handleCommonTouchStart),this.onTouchend("container",this.handleCommonTouchEnd),this.emitter.on("adCustomAction",this.handleAdCustomAction)}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adProxy:this.adProxy,reporter:this.reporter,adData:this.adData,adDatas:this.adDatas,adPosition:this.props.adPosition,systemInfo:this.props.systemInfo,manager:this.manager,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,ratio:this.ratio,scope:this.props.scope,innerFunctions:this.props.innerFunctions}}getDataValue(e,t,i){var a=t||this.data,n=a[`${e}Expr`];return n?this.run(n,null==i?void 0:i.args):a[e]}getDataValueWithDefault(e,t,i,a){var n=i?this.getDataValue(e,i,a):this.getDataValue(e);return void 0===n?t:n}getAdData(){return this.forType===Zi&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){this.removeAdCustomListener(),this.adCustomListener=t=>{t.adCustomId===this.adCustomId&&(null==e||e(t))},this.emitter.on("adCustomEvent",this.adCustomListener)}removeAdCustomListener(){this.adCustomListener&&this.emitter.off("adCustomEvent",this.adCustomListener)}setRatio(e){this.ratio=e}checkSize(){var e,t,{template:i}=this;if(!i||"root"===i.type){this.tplConfig=(null==i?void 0:i.tplConfig)||{};var a=this.props.adPosition||{};if(this.tplConfig){var n,o,{tplConfig:r}=this,{width:s}=this.props.adPosition||{};if(null==s)s=(null===(n=this.props)||void 0===n||null===(o=n.systemInfo)||void 0===o?void 0:o.screenWidth)||QA.screenWidth;s=Number(s);var l=r.minWidth||0,d=r.maxWidth||0,c=r.baseWidth||375,p=Math.min((null===(e=this.props)||void 0===e||null===(t=e.systemInfo)||void 0===t?void 0:t.screenWidth)||QA.screenWidth,Math.max(l,s));d&&(p=Math.min(p,d)),0===p&&this.setRatio(c/c),a.width=p,this.setRatio(p/c)}}}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){var i=this.events[e];null!=i&&i.length&&this.doActions(i,t||{})}emitComponentLifeCycle(e,t){var i=this.lifecycle[e];null!=i&&i.length&&this.doActions(i,t)}doActions(e=[],t={}){for(var i of e)i.force&&!i.targetid?this.doCommonAction({args:t,payload:i}):this.emitter.emit("adCustomAction",{fromid:this.id,targetid:i.targetid?`${this.adCustomId}-${i.targetid}`:this.id,args:t,payload:i})}doCommonAction(e){var{payload:t,args:i}=e,{delay:a=0,expr:n}=t,o=()=>{if(!n||this.run(n,i))switch(t.action){case mt:var{value:a}=t;if(a.styleExpr)for(var o of Object.keys(a.styleExpr))a.style[o]=this.run(a.styleExpr[o],i);this.setStyle(a.id,a.style);break;case _t:var{key:r}=t.value,s=this.getDataValue("value",t.value);this.getExprInnerVars()[r]=s;break;case yt:break;case vt:var{detail:l={},eventName:d}=t.value;try{if(null!=i&&i.event&&(l.rawDetail=JSON.stringify(i.event)),t.value.detailExpr)for(var c of Object.keys(t.value.detailExpr)){var p=t.value.detailExpr[c];l[c]=this.run(p,i)}}catch(e){}this.emitAdCustomEvent(Di.TRIGGEREVENT,{eventName:d,detail:l});break;case At:var{data:u,dataExpr:h,id:g}=t.value;if(h)for(var f of Object.keys(h)){var m=h[f];u[f]=this.run(m,i)}this.emitAdCustomEvent(Di.REPORTMMDATA,{id:g,data:u});break;case kt:var{id:y,animation:v}=t.value;this.doAnimation({id:y,animationName:v});break;case Dt:var _,E=null==i?void 0:i.event;if(E)this.emitAdCustomEvent(Di.BTNTAP,{event:E,isHandleDownload:(null===(_=t.value)||void 0===_?void 0:_.isHandleDownload)||!1});break;case Ot:var x=null==i?void 0:i.event,{isButton:b}=(null==t?void 0:t.value)||{};"value"in t&&(x=this.getDataValue("event",t.value,{args:i||{}})||x),this.emitAdCustomEvent(Di.LANDAD,{index:"value"in t?this.getDataValueWithDefault("index",0,t.value,{args:i}):0,event:x,isButton:b});break;case Mt:var w=null==i?void 0:i.event;w&&this.emitAdCustomEvent(Di.SPLASHSKIPAD,{event:w});break;case Lt:var{id:T,key:C}=t.value,A=this.getDataValue("extInfo",t.value,{args:i});this.emitAdCustomEvent(Di.REPORTADMONITORDATA,{id:T,key:C,extInfo:A});break;case Wt:var{list:P}=t.value;this.emitAdCustomEvent(Di.REWARDEDVIDEODYNAMIC,{list:P});break;case Bt:var{expr:I}=t.value;I&&this.run(I);break;default:"doAction"in this&&"function"==typeof this.doAction&&this.doAction(e)}};a?setTimeout(o,a):o()}run(e,t){var i=this.getInnerFunction(),a={...this.getScope(),...i};return JA(e,t?{$args:t,...a}:a,i)}getElementById(e){if(!e){var t,i,a=null!==(t=null===(i=this.getRootElement())||void 0===i?void 0:i.parent)&&void 0!==t?t:null;return a===ig?this.getRootElement():a}return"$$"===e?this.getRootElement():super.getElementById(e)}static animate(e,t){var{left:i,top:a,scaleWidth:n,scaleHeight:o,opacity:r,rotate:s=0,easing:l="ease-in",duration:d=500}=t,c=new Promise(((t,c)=>{eP("animateCoverView",{dest:e.dest,viewId:e.id,easing:l,duration:d,finalStyle:{left:i,top:a,opacity:r,rotate:s,scaleX:n,scaleY:o},success:t,fail:c})}));return"devtools"===aP&&(c=Promise.all([c,zo(d)])),c}doAnimation({id:e,emitEvent:t=!0,animationName:i,animation:a}){var n=this;return b()((function*(){var o=!a&&i?n.animations[i]:a,r=n.getElementById(e);if(o&&r){var{keys:s,duration:l,easing:d,setInitialStyle:c=!0}=o;if(!(((null==s?void 0:s.length)||0)<2)){var p=0;for(var u of Object.keys(s)){var h=s[+u],g=n.getDataValue("offset",h),f=n.getDataValue("opacity",h),m=n.getDataValue("left",h),y=n.getDataValue("top",h),v=n.getDataValue("rotate",h),_=n.getDataValue("scaleX",h),E=n.getDataValue("scaleY",h),x=l*g,b=Xh({opacity:f,left:m,top:y,rotate:v,scaleWidth:_,scaleHeight:E});if(x<=0)c&&(yield n.setStyle(e,b));else{var w={...b,easing:d,duration:x-p};w.left=b.left,w.top=b.top,yield nP.animate(r,w),p=x}}i&&t&&(yield n.emitComponentEvent(Ft,{animation:i}))}}}))()}updateInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];t.expr&&!this.run(t.expr)||this.updateStyle(t.style,e)}}setStyle(e,t){var i=()=>super.setStyle,a=this;return b()((function*(){var n,o=a.getDataValue("_useApx")?a.convertToApxRatio(t):t,r=e;"$$"===r&&(r=null===(n=a.getRootElement())||void 0===n?void 0:n.name);if(o){for(var s of Object.keys(o))o[s]=a.convertApxStyle(o[s]);var l;if(r)yield i().call(a,r,o);else null===(l=a.parent)||void 0===l||l.setStyle("container",o)}}))()}convertApxStyle(e){return e&&"string"==typeof e?e.replace(/([+-]?\d+(?:\.\d+)?)apx/g,((e,t)=>`${Number(t*this.ratio)}px`)):e}updateStyle(e,t){if(e)for(var i of Object.keys(e)){var a=i,n=e[i];if(i.includes("Expr")){var o=i.split("Expr");2===o.length&&([a]=o,n=this.run(n))}this.setStyle(t,{[a]:n})}}removeInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];this.removeStyle(t.style,e)}}removeStyle(e,t){if(e)for(var i of Object.keys(e))this.setStyle(t,{[i]:null})}getScope(){var e,t;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null===(e=this.props)||void 0===e?void 0:e.systemInfo)||{},ua:"",ratio:this.ratio,time:Date.now()},$for:{index:this.forIndex,item:this.forItem},$scope:(null===(t=this.props)||void 0===t?void 0:t.scope)||{}}}getExprInnerVars(){return void 0===iP[this.adCustomId]&&(iP[this.adCustomId]={}),iP[this.adCustomId]}getInnerFunction(){var e=this.getExprInnerVars();return{"#getVar":t=>e[t],"#measureText":(e,t)=>tP.getTextWidth(e,t),...this.props.innerFunctions||{}}}updateBubbleEvent(){var e=this.getRootElement();e&&rg(e,(e=>{if(!e.isBubbleEventSet)if(e.isRootElementOfComponent){var t=e.referComponent;e.bubbleEvent=!t||t.bubbleEvent}else e.bubbleEvent=!0}))}onClick(e,t,{handleTriggerClick:i=!0,handleClickLimit:a=!0,isReport:n=!1,clickType:o=0}={}){var r=e=>{null!==this.reporter&&(i&&!this.reporter.judgeTriggerClick(e,n)||a&&this.reporter.isClickLimit(e,o))||t(e)};return this.clickCallbackMap.set(t,r),super.onClick(e,r)}offClick(e,t){return this.clickCallbackMap.has(t)?super.offClick(e,this.clickCallbackMap.get(t)):super.offClick(e,t)}checkUseApx(){if(this.getDataValue("_useApx"))for(var e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){var{ratio:t}=this,i=/(\d+)px/g,a={};for(var n of Object.keys(e))if(null!=Qi&&Qi.includes(n)){var o=e[n],r=o;"number"==typeof o?r=o*t:"string"==typeof o?r=o.replace(i,((e,i)=>{var a=Number(i);return Number.isNaN(a)?e:a*t+"px"})):Array.isArray(o)&&null!=o&&o.every((e=>"number"==typeof e))&&(r=o.map((e=>e*t))),a[n]=r}else a[n]=e[n];return a}}class oP extends nP{getSubComponentProps(){return this.getCommonSubComponentProps()}constructor(e){var t;if((super(e,{autoRegister:!1}),this.style={blank:{width:0,height:0},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.isShow=void 0,this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.isShow=this.getDataValueWithDefault("_isShow",!0),this.isShow)&&("feedback"===this.template.type?this.setStyle("container",{display:"inline-block"}):"end"===this.template.type&&this.setStyle("container",{display:"none"}),this.updateStyle(this.template.style||{},"container"),null!==(t=this.template.style)&&void 0!==t&&t.background)){var i=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(i){var[a,n]=i.slice(1);this.isLinearGradient=!0,Number(a)>Number(n)&&(this.isLinearGradientReverse=!0)}}}render(){var{template:e}=this.props,t=null;return"for"===e.type?"<CustomFor></CustomFor>":(["layout","image","text","button","video","feedback","end","carousel","countdown"].includes(e.type)&&(t=`Custom${e.type[0].toUpperCase()}${e.type.slice(1)}`),this.isShow&&t?`\n      <view id="container">\n        ${this.isLinearGradient?`\n          <image id="linear-gradient" class="${this.isLinearGradientReverse?"reverse":""}" src="${this.linearGradientSrc}"></image>\n        `:""}\n        <${t}></${t}>\n      </view>\n    `:'<view id="blank"></view>')}}oP.subComponents=()=>({CustomLayout:uP,CustomText:hP,CustomImage:gP,CustomButton:fP,CustomVideo:vP,CustomFeedback:_P,CustomEnd:EP,CustomFor:xP,CustomCarousel:PP,CustomCountdown:IP});var{_onShow:rP,_onHide:sP,_offShow:lP,_offHide:dP,deviceInfo:cP}=y;class pP extends nP{constructor(e){var t,i,a;super(e),this.style={body:{zIndex:1,position:"absolute",hidden:!0,opacity:0,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:48,width:122,lineHeight:48,backgroundColor:"#4C4C4C",borderRadius:12,fontSize:17,color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:12,minHeight:50}},this.state={hidden:!0},this.isFullScreen=void 0,this.useDefaultFeedback=void 0,this.exposureUntilVideoPlay=void 0,this.exportAid=void 0,this.enableTimer=void 0,this.enableResize=void 0,this.hideAfterLanding=void 0,this.isMulti=void 0,this.isWidthRequired=void 0,this.multiShowList=void 0,this.show=()=>{this.showBody(),this.emitAdCustomEvent(Di.CHECKEXPOSURE)},this.showBody=()=>{this.setStyle("body",{hidden:!1,opacity:1})},this.hide=()=>{this.hideBody(),this.emitAdCustomEvent(Di.CHECKEXPOSURE)},this.hideBody=()=>{this.setStyle("body",{hidden:!0,opacity:0})},this.showFeedback=()=>{var{useDefaultFeedback:e}=this;e&&(this.setStyle("tipContainer",{hidden:!1}),setTimeout((()=>{this.setStyle("tipContainer",{hidden:!0})}),3e3))},this.handleEnterForeground=()=>{this.emitComponentEvent(Gt),this.emitAdCustomEvent(Di.APPENTERFOREGROUND)},this.handleEnterBackground=()=>{this.emitComponentEvent(Ut),this.emitAdCustomEvent(Di.APPENTERBACKGROUND)},this.handleContainerClick=e=>{var t,i;null!==(t=this.manager)&&void 0!==t&&t.isMulti||(this.emitComponentEvent(zt),null===(i=this.reporter)||void 0===i||i.handleClick(e,2))},this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.enableTimer=this.getDataValueWithDefault("enableTimer",!0),this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.exposureUntilVideoPlay=this.getDataValueWithDefault("exposureUntilVideoPlay",!1),this.hideAfterLanding=this.getDataValueWithDefault("hideAfterLanding",!1),this.exportAid=this.getDataValueWithDefault("exportAid",!1),this.isMulti=null!==(t=null===(i=this.template)||void 0===i||null===(a=i.tplConfig)||void 0===a?void 0:a.isMulti)&&void 0!==t&&t,this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.multiShowList=this.getDataValue("multiShowList"),this.enableResize=this.getDataValueWithDefault("enableResize",!1),this.bindEvent(),this.updateInnerStyle(),this.updateStyle(this.template.style||{},"container");var n=["left","top"];!cP.isWaGame&&n.push("fixed"),this.isWidthRequired&&n.push("width"),!this.isFullScreen&&e.adPosition&&this.setStyle("body",q(e.adPosition,n))}updatePosition(e){!this.isFullScreen&&e&&this.setStyle("body",q(e,["top","left"]))}destroy(){super.destroy(),this.unbindEvent()}ready(e){super.ready(e),this.isFullScreen&&(e.fullscreen=!0),this.updateBubbleEvent()}getCustomItemProps(e,t){return{...this.getCommonSubComponentProps(),template:this.props.template.children[parseInt(t,10)]}}bindEvent(){rP(this.handleEnterForeground),sP(this.handleEnterBackground),this.onClick("container",this.handleContainerClick)}unbindEvent(){lP(this.handleEnterForeground),dP(this.handleEnterBackground),this.offClick("container",this.handleContainerClick)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1)}}doAction({payload:e,args:t}){var i,a;if(e.action===ft)"value"in e&&e.value.preventClose?null===(i=this.manager)||void 0===i||i.hide(!0):null===(a=this.manager)||void 0===a||a.hide();else if(e.action===Ct){var n;null===(n=this.manager)||void 0===n||n.reload()}else if(e.action===Rt)e.value.listExpr?this.emitAdCustomEvent(Di.CHANGEMULTISHOW,{list:this.run(e.value.listExpr,t)}):e.value.list?this.emitAdCustomEvent(Di.CHANGEMULTISHOW,{list:e.value.list}):null!=t&&t.list&&this.emitAdCustomEvent(Di.CHANGEMULTISHOW,{list:t.list});else if(e.action===Vt){var o=this.getDataValue("reload",e.value,{args:t});this.checkLiveStatus(o)}}isShow(){var e,t=this.getElementById("body");return null!==(e=!(null!=t&&t.style.hidden))&&void 0!==e&&e}checkLiveStatus(e){var t=this;return b()((function*(){var i;if(t.isShow()){var a,n=yield null===(i=t.manager)||void 0===i?void 0:i.adProxy.getChannelsLiveStatusWithRpc();if(t.emitComponentEvent(Jt,{status:n||""}),"end"===n&&e)null===(a=t.manager)||void 0===a||a.refetch()}}))()}render(){if(this.props.isEmpty)return'\n        <view id="body">\n          <view id="empty-container" class="empty">\n            <text id="empty-container-text" class="empty-info" value="暂无广告，具体指引查看小程序流量主功能"></text>\n          </view>\n        </view>\n      ';var{template:e}=this.props,{isFullScreen:t}=this,{useDefaultFeedback:i}=this;return`\n      <view id="body" class="${t?"full-size":""}">\n        ${e?`\n          <view id="container" class="wx-ad-custom ${t?"full full-size":""}">\n            ${e.children.map(((e,t)=>`\n              <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n            `)).join("\n")}\n          </view>\n          ${i?'\n            <view id="tip-container" class="tip-container">\n              <text id="close-tip" class="video-close-tip" value="感谢反馈"></text>\n            </view>\n          ':""}\n        `:""}\n      </view>\n    `}}pP.subComponents={CustomItem:oP};class uP extends nP{constructor(e){super(e),this.state={children:[]},this.style={".layout-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{position:"absolute",width:"100%",height:"100%"}},this.baseType=void 0,this.classRow=!1,this.classColumn=!1,this.baseType=this.options.baseType||Ri,this.baseType===Oi?this.classRow=!0:this.baseType===Mi?this.classColumn=!0:this.baseType,this.state.children=this.template.children||[],this.updateInnerStyle()}doAction({payload:e}){if(e.action===Nt){var{value:t}=e,i=Array.isArray(t)?t:[t],a=[...this.state.children,...i];this.setState({children:a})}}ready(e){super.ready(e),this.initProportionComponent()}initProportionComponent(){var e=this.getDataValue("mProportion");if(e){var t=this.getRootElement().layoutBox;if(t.width/t.height>e){var i=Math.round(t.height*e);this.setStyle("container",{width:i,left:(t.width-i)/2,top:0})}else{var a=Math.round(t.width/e);this.setStyle("container",{height:a,top:(t.height-a)/2,left:0})}}}getSubComponentProps(e,t){return{...this.getCommonSubComponentProps(),template:this.state.children[parseInt(t,10)]}}render(){var{children:e}=this.state,t=["layout"];return this.classRow&&t.push("layout-row"),this.classColumn&&t.push("layout-column"),`\n      <view\n        id="container"\n        class="${t.join(" ")}"\n      >\n      ${e.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n      `)).join("\n")}\n      </view>\n    `}}uP.subComponents=()=>({CustomItem:oP});class hP extends nP{constructor(e){super(e),this.style={".text":{color:"#000",fontSize:14,wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"}},this.state={text:""},this.baseType=void 0,this.classEllipsis=!1,this.maxLen=void 0;var t=this.options.baseType||Vi;this.baseType=t,t===Bi?this.initCommonComponent():t===Vi?this.initNickNameComponent():t===Hi&&this.initDescComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null),this.updateInnerStyle()}ready(e){super.ready(e),this.baseType===Fi&&this.initRelationComponent()}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initNickNameComponent(){var e=this.getAdData(),t=[ra.APPLE_APP_STORE,ra.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=Gm("video",e.crt_size),a=[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:e.crt_size===Tg.CRT_SIZE_MULTI_POS_GRID},{path:["crtInfo","0","wxgame_video_card","title"],condition:i},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["crtInfo","0","card_info","title"]},{value:"品牌推广",condition:[ra.WE_CHAT_ARTICLE,ra.GDT_WE_CHAT_ARTICLE].includes(e.product_type)},{value:"电商推广",condition:[ra.WE_CHAT_SHOP,ra.JD_URL].includes(e.product_type)},{value:"活动推广"}];this.state.text=sg(e,a)}initDescComponent(){var e=this.getAdData(),t=[ra.APPLE_APP_STORE,ra.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=Gm("video",e.crt_size),a=e.product_type===ra.MINI_GAME,n=e.product_type===ra.WECHAT,o=[ra.WE_CHAT_ARTICLE,ra.GDT_WE_CHAT_ARTICLE].includes(e.product_type),r=[ra.WE_CHAT_SHOP,ra.JD_URL].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:i},{path:["wording"],condition:[Tg.CRT_SIZE_MULTI_POS_NEW_PIC,Tg.CRT_SIZE_IN_TEXT_DESC_CARD].includes(e.crt_size)},{path:["crtInfo","0","card_info","description"]}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:o},{value:"今日商品推荐",condition:r},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:n},{value:"今日小游戏推荐",condition:a},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=sg(e,s)}initRelationComponent(){var e=this;return b()((function*(){var t=e.getAdData();if(8===Ie(t,["crtInfo","0","card_info","mp_tag_type"])){var{aid:i,uxinfo:a}=t,n=Date.now(),o=Ie(t,["button_action","button_text"],"");try{var r,s=yield Da({aid:i,buttonText:o,uxinfo:a}),l=Date.now();e.adProxy.reportRelationFetchDuration({startTime:n,endTime:l,showTime:(null===(r=e.manager)||void 0===r?void 0:r.showDetailTime)||0});var d="";if(s){var{count:c,descText:p}=s;d=e.getDataValueWithDefault("text","",void 0,{args:{count:c,descText:p}}),e.emitComponentEvent(ei,{count:c,descText:p})}e.setState({text:d})}catch(t){e.setState({text:""}),e.adProxy.reportAdMonitorData(Ze,t)}}}))()}doAction({payload:e}){e.action===St&&this.setState({text:this.getDataValue("text",e.value)})}render(){var{classEllipsis:e}=this,{text:t}=this.state;return this.classEllipsis&&null!==this.maxLen&&t&&(t=((e,t)=>{for(var i=0,a=0,n=0;n<e.length;n++)(i+=/[\u4e00-\u9fa5]/.test(e[n])?2:1)<t-1&&(a=n);return i>t?`${e.substring(0,a+1)}...`:e})(t,2*this.maxLen)),`\n      <view id="container">\n        <text\n          id="text"\n          class="text ${e?"text-ellipsis":""}"\n          value="${t}"\n        ></text>\n      </view>\n    `}}class gP extends nP{constructor(e){super(e),this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:5},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.baseType=void 0,this.useBgMode=this.getDataValueWithDefault("useBgMode",!1);var t=this.options.baseType||Li;switch(this.baseType=t,t){case Ni:this.initCommonComponent();break;case Wi:this.initADComponent();break;case Li:this.initIconComponent()}this.useBgMode,this.updateInnerStyle()}initCommonComponent(){this.state.imgUrl=this.getDataValueWithDefault("imgUrl","")}initIconComponent(){var e=this.getAdData(),t=[ra.APPLE_APP_STORE,ra.OPEN_PLATFORM_APP_MOB].includes(e.product_type),i=e.crt_size===Tg.CRT_SIZE_MULTI_POS_GRID,a=[ra.WE_CHAT_SHOP,ra.JD_URL].includes(e.product_type),n=Gm("video",e.crt_size);t?this.classAppIcon=!0:this.classIcon=!0;var o=[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:i},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:n},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:a},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}];this.state.imgUrl=sg(e,o)}initADComponent(){var e=this.getAdData(),t=e.image_url;if(!t.startsWith("http"))try{t=e.crtInfo[0].image_url||t}catch(e){}this.state.imgUrl=this.getDataValue("imgUrl")||t}doAction({payload:e}){e.action===It&&this.setState({imgUrl:this.getDataValue("imgUrl",e.value)})}render(){var{classAppIcon:e,classIcon:t}=this,{imgUrl:i}=this.state,a=["image-img"];return e&&a.push("image-img-appicon"),t&&a.push("image-img-icon"),`\n      <view id="container" class="image">\n        <image\n          id="img"\n          class="${a.join(" ")}"\n          src="${i}"\n        >\n      </view>\n    `}}class fP extends nP{constructor(e){super(e),this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:3,overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:16},".button-download-progress":{position:"absolute",left:0,top:0,width:0,height:"100%",overflow:"hidden"},".download-text-container":{position:"absolute",top:0,left:0,width:0,height:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center"}},this.state={buttonText:""},this.downloadProgress=0,this.isHandleDownload=!1,this.handleAdCustomEvent=({action:e,value:t={}})=>{e===Di.CHANGEADBTNTEXT&&t.text&&(this.setState({buttonText:t.text}),t.progress&&(this.downloadProgress=t.progress))},this.handleButtonClick=e=>{this.emitAdCustomEvent(Di.BTNTAP,{event:e,isHandleDownload:this.isHandleDownload}),this.emitComponentEvent(Qt,{event:e})};var t=this.options.baseType||Ui;t===Gi?this.initCommonComponent():t===Ui&&this.initLogicCommonComponent(),this.updateInnerStyle(),this.setStyle("downloadProgressBar",{width:`${this.downloadProgress}%`}),this.setStyle("downloadTextContainer",{width:1e4/this.downloadProgress+"%"}),this.onClick("container",this.handleButtonClick,{isReport:!0,clickType:1})}destroy(){super.destroy(),this.offClick("container",this.handleButtonClick)}getButtonText(){return this.state.buttonText}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){var e=this.getAdData(),t=this.getDataValue("buttonText");t?this.state.buttonText=t:e.product_type===Cg.WE_CHAT?this.state.buttonText=e.app.isFollowed?"查看":e.button_action.button_text:this.state.buttonText=e.button_action.button_text,this.addAdCustomListener(this.handleAdCustomEvent),this.isHandleDownload=this.getDataValueWithDefault("isHandleDownload",!1)}doAction({payload:e}){e.action===Tt&&this.setText(e.value)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){var{isHandleDownload:e}=this,{buttonText:t}=this.state;return`\n      <view id="container" class="button" bubbleEvent="false">\n        <text id="button-text" class="button-text" value="${t}"></text>\n        ${e?`\n          <view\n            id="download-progress-bar"\n            class="button-download-progress"\n          >\n            <view id="download-text-container" class="download-text-container"\n              <text id="download-text" class="button-text" value="${t}"></text>\n            </view>\n          </view>\n        `:""}\n      </view>\n    `}}var mP={videoDataMap:{}},yP=(e,t={})=>{e&&(mP.videoDataMap[e]=t)};class vP extends nP{constructor(e){super(e),this.style={".video-context":{zIndex:1000008},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:6,width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:24,height:24},".video-voice-box-topleft":{top:10,left:10},".video-voice-box-topright":{top:10,right:10},".video-voice-box-bottomleft":{bottom:10,left:10},".video-voice-box-bottomright":{bottom:10,right:10},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:12,width:32,height:16,lineHeight:16},".video-count-down-topleft":{top:10,left:10},".video-count-down-topright":{top:10,right:10},".video-count-down-bottomleft":{bottom:10,left:10},".video-count-down-bottomright":{bottom:10,right:10},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:3,backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:3,backgroundColor:"#07c160"},".video-click-mask":{}},this.state={muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1},this.src="",this.poster="",this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.useClickMask=!1,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.videoDuration=0,this.objectFit="contain",this.baseType=void 0,this.toggleMuted=()=>{this.setState({muted:!this.state.muted}),this.emitComponentEvent(oi,{muted:this.state.muted})},this.handleCustomEvent=({action:e,value:t={}})=>{switch(e){case Di.ADSHOWHALF:this.state.isEndPageShowing||this.operateVideoPlay("play");break;case Di.ADHIDEHALF:this.state.isEndPageShowing||this.operateVideoPlay("pause");break;case Di.APPENTERBACKGROUND:var i=Math.min(this.currentTime,this.videoDuration);t.inAdDetail?this.reportVideoPlay("partial","exit",i):this.reportVideoPlay("partial","app_exit",i);break;case Di.ENDPAGEINIT:this.isShowEndPage=this.getDataValueWithDefault("isShowEndPage",!1),this.isShowEndPage&&this.setState({loop:!1});break;case Di.ENDPAGEHIDE:this.isShowEndPage&&(this.setState({isEndPageShowing:!1}),this.operateVideoPlay("play"));break;case Di.ENDPAGESHOW:this.isShowEndPage&&this.setState({isEndPageShowing:!0});break;case Di.BTNTAP:this.reportVideoPlay(this.currentTime<this.videoDuration?"partial":"complete","land",this.videoDuration)}},this.handleError=e=>{this.adProxy.reportAdMonitorData(Xe,e)},this.handleTimeUpdate=e=>{var t,{duration:i,position:a}=e;if(null!=i&&null!=a){var n=Math.min(1,a/i);this.setStyle("videoProgressPlayed",{width:100*n+"%"}),this.isShowCountDown&&this.setState({countDownNumber:`${Math.ceil(i-a)}s`}),this.emitComponentEvent(ni,{event:e,rate:n}),this.currentTime=1e3*a,this.videoDuration||(this.videoDuration=1e3*i);var o={currentTime:this.currentTime,duration:this.videoDuration},r=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;yP(r,o)}},this.handleEnded=e=>{var t;this.emitComponentEvent(ti,{event:e}),this.emitAdCustomEvent(Di.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:this.baseType}}),this.reportVideoPlay("viewable","end",this.videoDuration),O&&this.reportVideoPlay("partial","start");var i={currentTime:this.videoDuration,duration:this.videoDuration},a=(null===(t=this.manager)||void 0===t?void 0:t.adCustomId)||this.adCustomId;yP(a,i),this.currentTime=0,this.isShowEndPage&&this.emitAdCustomEvent(Di.SHOWENDPAGE,{videoId:this.id}),this.setState({countDownNumber:null})},this.handlePlay=e=>{this.emitComponentEvent(ai,{event:e}),this.emitAdCustomEvent(Di.ADVIDEOPLAY),this.reportVideoPlay("partial","start",Math.min(this.currentTime,this.videoDuration))},this.handlePause=e=>{this.emitComponentEvent(ii,{event:e}),this.emitAdCustomEvent(Di.ADVIDEOPAUSE),this.reportVideoPlay("partial","close",Math.min(this.currentTime,this.videoDuration))},this.baseType=this.options.baseType||ji,this.baseType===zi?this.initCommonComponent():this.baseType===ji&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.useClickMask=this.getDataValueWithDefault("useClickMask",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.updateInnerStyle(),this.bindEvent(),setTimeout((()=>{this.emitComponentEvent(oi,{muted:this.state.muted})}),0)}destroy(){super.destroy(),this.unbindEvent(),this.removeAdCustomListener()}bindEvent(){this.onTimeUpdate("video",this.handleTimeUpdate),this.onEnded("video",this.handleEnded),this.onPlay("video",this.handlePlay),this.onPause("video",this.handlePause),this.onError("video",this.handleError),this.onClick("videovoicebox",this.toggleMuted,{clickType:1})}unbindEvent(){this.offTimeUpdate("video",this.handleTimeUpdate),this.offEnded("video",this.handleEnded),this.offPlay("video",this.handlePlay),this.offPause("video",this.handlePause),this.offError("video",this.handleError),this.offClick("videovoicebox",this.toggleMuted)}initCommonComponent(){this.src=this.getDataValueWithDefault("src",""),this.poster=this.getDataValueWithDefault("poster","")}initADComponent(){var e,t=this.getAdData();this.src=this.getDataValue("src")||Ie(t,["video_info","videoUrl"])||Ie(t,["short_video","video_url"]),this.poster=this.getDataValue("poster")||Ie(t,["video_info","thumbUrl"])||Ie(t,["short_video","trumb_url"]),this.addAdCustomListener(this.handleCustomEvent),this.videoDuration=Ie(t,["wx_game_video","short_video","video_duration"])||Ie(t,["crtInfo","0","short_video","video_duration"],0),this.videoDuration=1e3*this.videoDuration;var i={currentTime:0,duration:this.videoDuration},a=(null===(e=this.manager)||void 0===e?void 0:e.adCustomId)||this.adCustomId;yP(a,i),this.emitAdCustomEvent(Di.REPORTTIMEPOINT,{key:"p8"})}doAction({payload:e}){switch(e.action){case Et:this.toggleMuted();break;case xt:this.operateVideoPlay("play");break;case bt:this.operateVideoPlay("pause");break;case wt:this.operateVideoPlay("stop")}}operateVideoPlay(e){if(["play","pause","stop","seek"].includes(e)){this.setState({autoplay:"play"===e});var t=this.getElementById("video");null!=t&&t[e]&&t[e]()}}reportVideoPlay(e,t,i=0){this.baseType===ji&&this.emitAdCustomEvent(Di.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:i,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}render(){var{src:e,poster:t,isShowVoice:i,mutedIconSrc:a,voiceIconSrc:n,voicePlacement:o,countDownPlacement:r,isShowProgress:s,isShowCountDown:l,objectFit:d,useClickMask:c}=this,{muted:p,loop:u,autoplay:h,countDownNumber:g,isEndPageShowing:f}=this.state,m=["video-voice-box"],y=["video-count-down"];return m.push(`video-voice-box-${o}`),y.push(`video-count-down-${r}`),`\n      <view id="container" class="video">\n        <video\n          id="video"\n          class="video-context"\n          src="${e}"\n          poster="${t}"\n          controls="false"\n          muted="${p}"\n          loop="${u}"\n          autoplay="${h}"\n          auto-insert="false"\n          under-game-view="false"\n          show-progress="false"\n          show-play-btn="false"\n          show-center-play-btn="false"\n          show-fullscreen-btn="false"\n          enable-progress-gesture="false"\n          object-fit="${d}"\n        >\n        ${c&&'<view className="video-click-mask" id="video-click-mask"></view>'}\n          ${!f&&i?`\n            <view id="videovoicebox" bubble-event="false" class="${m.join(" ")}">\n              <image\n                src="${p?a:n}"\n                id="videovoiceimg"\n                class="video-voice-icon"\n              ></image>\n            </view>\n          `:""}\n          ${s?'\n            <view id="video-progress" class="video-progress">\n              <view id="video-progress-played" class="video-progress-played"></view>\n            </view>\n          ':""}\n          ${!f&&l&&g?`\n            <text id="video-count-down" class="${y.join(" ")}" value="${g}"></text>\n          `:""}\n        </video>\n      </view>\n    `}}class _P extends nP{constructor(e){super(e),this.style={".feedback-icon":{width:6,height:4,marginLeft:2,position:"relative"},".close-icon":{width:6,height:6,marginLeft:2,position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2},".feedback-hot-click":{position:"absolute",top:-10,left:-10,right:-10,bottom:-10},".feedback-tag-text":{fontSize:10,height:12,lineHeight:12,color:"#fff"},".feedback-list":{position:"absolute",width:134,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:1,borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:4,zIndex:1000011},".feedback-list-bottomleft":{top:26,left:6},".feedback-list-bottomright":{top:26,right:6},".feedback-list-topleft":{bottom:26,left:6},".feedback-list-topright":{bottom:26,right:6},".feedback-btn":{position:"relative",width:132,height:32,lineHeight:32,color:"#566a97",fontSize:12,opacity:.9,textAlign:"center",zIndex:1000011},".feedback-title":{color:"#000",zIndex:1000011},".feedback-line":{width:100,height:1,opacity:.03,backgroundColor:"#000",zIndex:1000011}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.dislikeReasonHandlers={},this.baseType=void 0,this.handleTagClick=e=>{if(this.baseType===Yi)return this.handleSimpleTagClick(e);var{isShowFeedback:t,isShowFeedbackMenu:i}=this.state;t||i?this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}):(this.setState({isShowFeedback:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitAdCustomEvent(Di.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标"}),this.emitComponentEvent(si,{event:e}))},this.handleDislikeClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),this.updateMenuPosition(),this.updateInnerStyle(),this.emitComponentEvent(li,{event:e})},this.handleFeedbackBtnClick=e=>{this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(ri,{event:e}),this.emitAdCustomEvent(Di.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"投诉"}),this.emitAdCustomEvent(Di.FEEDBACKBTNTAP)},this.checkUseApx(),this.baseType=this.options.baseType||$i,this.bindEvent(),this.updateInnerStyle()}destroy(){super.destroy(),this.unbindEvent()}bindEvent(){this.onClick("feedbackTagContainer",this.handleTagClick),this.onClick("feedbackBtn",this.handleFeedbackBtnClick),this.onClick("dislike",this.handleDislikeClick),this.dislikeReasonHandlers={isdismatch:this.onClick("isdismatch",this.handleDislikeReasonClick.bind(this,1)),isduplicate:this.onClick("isduplicate",this.handleDislikeReasonClick.bind(this,5)),isbadad:this.onClick("isbadad",this.handleDislikeReasonClick.bind(this,4))}}unbindEvent(){for(var e of(this.offClick("feedbackTagContainer",this.handleTagClick),this.offClick("feedbackBtn",this.handleFeedbackBtnClick),this.offClick("dislike",this.handleDislikeClick),Object.keys(this.dislikeReasonHandlers))){var t=this.dislikeReasonHandlers[e];this.offClick(e,t)}}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){this.emitAdCustomEvent(Di.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6}),this.emitAdCustomEvent(Di.HIDEAD),this.emitComponentEvent(si,{event:e})}handleDislikeReasonClick(e,t){this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent(di,{event:t}),this.emitAdCustomEvent(Di.FEEDBACKREPORT,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e});var i=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===i?this.emitAdCustomEvent(Di.SHOWFEEDBACK):"hide"===i&&this.emitAdCustomEvent(Di.HIDEAD)}render(){var{isShowFeedback:e,isShowFeedbackMenu:t,position:i}=this.state,a=["feedback-list"],n=["feedback-list"];i&&(a.push(`feedback-list-${i.toLowerCase()}`),n.push(`feedback-list-${i.toLowerCase()}`));var o=this.baseType===Yi?this.closeIconSrc:this.feedbackIconSrc;return`\n      <view id="container" class="feedback" bubble-event="false">\n        <view id="feedback-tag-container" class="feedback-tag-container">\n          <text id="feedback-tag" class="feedback-tag-text" value="广告"></text>\n          <image id="feedback-icon" class="${this.baseType===Yi?"close-icon":"feedback-icon"}" src="${o}"></image>\n        </view>\n        ${e?`\n          <view id="menu1" key="menu1" class="${a.join(" ")}">\n            <text class="feedback-btn feedback-title" value="由赞助商提供的内容"></text>\n            <view class="feedback-line"></view>\n            <text id="dislike" class="feedback-btn" value="不感兴趣"></text>\n            <view class="feedback-line"></view>\n            <text id="feedback-btn" class="feedback-btn" value="投诉"></text>\n          </view>\n        `:""}\n        ${t?`\n          <view id="menu2" key="menu2" class="${n.join(" ")}">\n            <text id="isdismatch" class="feedback-btn" value="与我无关"></text>\n            <view class="feedback-line"></view>\n            <text id="isduplicate" class="feedback-btn" value="重复收到多次"></text>\n            <view class="feedback-line"></view>\n            <text id="isbadad" class="feedback-btn" value="内容太差"></text>\n          </view>\n        `:""}\n      </view>\n    `}}class EP extends nP{constructor(e){super(e),this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.cardInfo=void 0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.handleAdCustomListener=({action:e})=>{switch(e){case Di.SHOWENDPAGE:this.setState({isShowEndPage:!0}),this.emitAdCustomEvent(Di.ENDPAGESHOW),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent(pi);break;case Di.APPENTERBACKGROUND:this.state.isShowEndPage&&this.reportEndPageDuration();break;case Di.APPENTERFOREGROUND:this.state.isShowEndPage&&(this.showTime=Date.now());break;case Di.ADSHOWHALF:this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((()=>{!this.viewableExposured&&this.reportEndPageExposure(!0)}),1e3)));break;case Di.ADHIDEHALF:this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}},this.handleReplay=()=>{this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(Di.ENDPAGEHIDE),this.emitComponentEvent(ui),this.reportEndPage({act_type:1003}),this.emitComponentEvent(ci)},this.handleContainerClick=e=>{var t;this.reportEndPage({act_type:1002}),null===(t=this.reporter)||void 0===t||t.handleClick(e,2)};var t=this.getAdData();this.cardInfo=K(t,["crtInfo",0,"card_info"],{});var{end_page_type:i}=this.cardInfo;i&&(this.backgroundImage=this.cardInfo.head_bg_img,this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),this.updateInnerStyle(),setTimeout((()=>{this.emitAdCustomEvent(Di.ENDPAGEINIT)}),0))}updateState(e){this.state.isShowEndPage!==e.isShowEndPage&&this.setStyle("container",{hidden:!e.isShowEndPage})}getSubComponentProps(e,t){return{...this.getCommonSubComponentProps(),template:this.children[parseInt(t,10)]}}bindEvent(){this.onClick("contiainer",this.handleContainerClick),this.onClick("refresh",this.handleReplay),this.addAdCustomListener(this.handleAdCustomListener)}destroy(){super.destroy(),this.offClick("contiainer",this.handleContainerClick),this.offClick("refresh",this.handleReplay),this.removeAdCustomListener()}reportEndPageDuration(){this.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){var t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent(Di.REPORTENDPAGE,{data:e})}doAction({payload:e}){e.action===Pt&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent(Di.ENDPAGEHIDE),this.emitComponentEvent(ui))}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},a={},n=this.template.id;a.feedBack={type:"feedback",id:`${n}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:At,value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:vt,value:{eventName:hi}}]}}},a.iconBig={type:"image",id:`${n}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},a.nickBig={type:"text",id:`${n}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},a.descSmall={type:"text",id:`${n}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},a.button={type:"button",id:`${n}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:"#like($const.systemInfo.osVersion, 'Android') ? '1px' : '0'"}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:At,value:{id:"19002",data:Object.assign({act_type:1001},i)}}]}}},a.iconSmall={type:"image",id:`${n}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},a.nickSmall={type:"text",id:`${n}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},a.layoutSmall={type:"layout",id:`${n}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},a.layoutSmall.children.push(a.iconSmall),a.layoutSmall.children.push(a.nickSmall),a.descBig={type:"text",id:`${n}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var o=this.getDataValue("childrenConf");if(o)for(var r of Object.keys(o))a[r]&&j(a[r],o[r]);var s=[];return s=2===this.cardInfo.end_page_type?[a.feedBack,a.layoutSmall,a.descBig,a.button]:[a.feedBack,a.iconBig,a.nickBig,a.descSmall,a.button],3===e?s.concat(this.template.children||[]):s}render(){var{backgroundImage:e,children:t,refreshIconSrc:i}=this;return`\n      <view\n        id="container"\n        class="end"\n        bubble-event="false"\n      >\n        ${e?`<image src="${e}"></image>`:""}\n        ${t.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view id="refresh" class="end-refresh">\n          <image id="refresh-icon" class="end-refresh-icon" src=${i}></image>\n        </view>\n      </view>\n    `}}EP.subComponents=()=>({CustomItem:oP});class xP extends nP{constructor(e){super(e,{autoRegister:!1}),this.forArr=void 0,this.forType=this.options.baseType||Ki,this.forArr=this.getDataValueWithDefault("forArr",[]),this.forType===Ki?this.forArr=this.getDataValueWithDefault("forArr",[]):this.forType===Zi&&(this.forArr=this.getAdDatas())}getSubComponentProps(e,t,i){var{template:a,forArr:n}=this;return{...this.getCommonSubComponentProps(),idPrefix:this.idPrefix+(a.id||"")+t,forType:this.forType,forItem:n[Number(t)],template:a.children[Number(i)],forIndex:Number(t)}}render(){var{template:e}=this.props;return`<Fragment>${this.forArr.map(((t,i)=>e.children.map(((e,t)=>`\n        <CustomItem get-props="getSubComponentProps:${i}:${t}"></CustomItem>\n      `)).join("\n"))).join("\n")}</Fragment>`}}xP.subComponents=()=>({CustomItem:oP});var bP=1,wP=(e,t)=>{bP=e/t},TP=/([+-]?\d+(?:\.\d+)?)apx/g,CP=/([+-]?\d+(?:\.\d+)?)rpx/g,AP=e=>null!=e&&e.replace?e.replace(CP,((e,t)=>`${(e=>{if(0===e)return 0;var{screenWidth:t}=wh,i=e/750*t;return i<0&&(i=-i),i=Math.floor(i+1e-4),e<0?-i:i})(Number(t))}px`)):e;class PP extends nP{constructor(e){super(e),this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.baseType=void 0,this.showCount=void 0,this.allCount=void 0,this.animateCount=void 0,this.allIndexList=void 0,this.size=void 0,this.duration=void 0,this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.disabled=void 0,this.isCol=void 0,this.handleMaskClick=e=>{var t,i=null!=this.moveTime?(Date.now()-this.moveTime)/this.duration*this.size:0;t=this.animated?-this.animateCount*this.size+i:-i;var a,n=(this.isCol?e.relativeY:e.relativeX)-t,o=Math.floor(n/this.size);(o<0||o>=20)&&(null===(a=this.manager)||void 0===a||a.adProxy.reportAdMonitorData(Fd,{currentTime:Date.now(),moveTime:this.moveTime,duration:this.duration,size:this.size,animated:this.animated,animateCount:this.animateCount,posX:e.relativeX,posY:e.relativeY,offset:i,relativeOffset:n}),o=0);this.emitComponentEvent(fi,{index:o,event:e})},this.handleAdCustomEvent=({action:e})=>{[Di.ADSHOWHALF].includes(e)?(this.isViewable=!0,this.autoplay()):[Di.ADHIDEHALF].includes(e)&&(this.isViewable=!1,this.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||Xi,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=((e,t=!0)=>{var i=t?AP(e):e;return i&&"string"==typeof i?i.replace(TP,((e,t)=>`${Number(t*bP)}px`)):i})(this.getDataValueWithDefault("size","0px")).replace("px",""),this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map(((e,t)=>t)),this.isCol=this.baseType===Ji,this.onClick("mask",this.handleMaskClick),this.baseType===Xi?this.initCarousel("width"):this.baseType===Ji&&this.initCarousel("height"),this.updateInnerStyle()}destroy(){super.destroy(),this.offClick("mask",this.handleMaskClick),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(var e of this.timerSet)clearTimeout(e)}autoplay(){var e=this;return b()((function*(){if(e.isViewable&&!e.isPlaying){var t=e.baseType===Xi?"left":"top";if(e.disabled)e.emitComponentEvent(gi,{list:e.allIndexList.slice(0,e.showCount)||[]}),e.isPlaying=!1;else if(e.animateCount<=0)e.emitComponentEvent(gi,{list:e.allIndexList||[]}),e.isPlaying=!1;else{e.isPlaying=!0;for(var i=function*(t){var{animated:i}=e,a=setTimeout((()=>{e.timerSet.delete(a);var n=i?e.allIndexList.slice(e.allCount-t-e.showCount,e.allCount-t):e.allIndexList.slice(t,t+e.showCount);e.emitComponentEvent(gi,{list:n})}),t*e.duration);e.timerSet.add(a)},a=0;a<e.animateCount;a+=1)yield*i(a);e.moveTime=Date.now();try{yield e.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[t]:e.animated?-1*e.animateCount*e.size:0},{offset:1,[t]:e.animated?0:-1*e.animateCount*e.size}],duration:e.duration*e.animateCount,easing:"linear"}})}catch(e){}e.animated=!e.animated,e.isPlaying=!1,e.moveTime=null;var n=setTimeout((()=>{e.timerSet.delete(n),e.autoplay()}),e.duration/4);e.timerSet.add(n)}}}))()}getCustomItemProps(e,t){return{...this.getCommonSubComponentProps(),template:this.props.template.children[parseInt(t,10)]}}render(){var{template:{children:e}}=this.props,{baseType:t,allCount:i,showCount:a}=this;return null!=e&&e.length&&i&&a?`\n      <view id="container" class="carousel">\n        <view id="mask" class="carousel-mask"></view>\n        <view id="list" class="${["carousel-list",t===Xi?"carousel-row":"carousel-col"].join(" ")}">\n          ${e.map(((e,t)=>`\n            <CustomItem get-props="getCustomItemProps:${t}"></CustomItem>\n          `)).join("\n")}\n        </view>\n      </view>\n    `:"<view></view>"}}PP.subComponents=()=>({CustomItem:oP});class IP extends nP{constructor(e){super(e),this.style={".countdown":{position:"relative",flexDirection:"row",height:32,alignItems:"center"},".countdown-background":{position:"absolute",top:0,bottom:0,left:0,right:0,height:32,background:"rgba(0, 0, 0, 0.15)",border:"0.5px solid rgba(255, 255, 255, 0.254048)",borderRadius:16},".countdown-right":{position:"relative",height:32,flexDirection:"row",alignItems:"center",alignSelf:"flex-start",paddingLeft:63,paddingRight:12,justifyContent:"center",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,borderRadius:16},".countdown-container":{height:32,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:14,height:20,lineHeight:20,width:14,color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:14,height:20,lineHeight:20,width:11,color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:.5,height:18.5,marginRight:8.5,position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)"}},this.state={countdownValue:""},this.children=[],this.handleAdCustomEvent=({action:e,value:t={}})=>{if(e===Di.CHANGECOUNTDOWN){var i=this.getElementById("countdownvalue"),a=2===t.value.toString().length?18:11;this.setStyle("countdownvalue",{width:a}),i&&(i.value=t.value)}},this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent)}destroy(){super.destroy()}getSubComponentProps(e,t){return{...this.getCommonSubComponentProps(),template:this.children[parseInt(t,10)]}}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),i={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},a={};a.feedBack={type:"feedback",id:"Countdown-Feedback",style:{position:"absolute",height:32,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1111999,left:12},options:{innerStyles:{container:{style:{height:32,padding:0}},feedbackTag:{style:{fontSize:14,width:28,height:20,lineHeight:20}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:0,padding:0,height:32,top:0,left:0}},feedbackIcon:{style:{marginLeft:4.5,width:9,height:6,marginTop:4}},menu1:{style:{top:40,left:0}},menu2:{style:{top:40,left:0}}},events:{tagTap:[{action:At,value:{id:"19002",data:Object.assign({act_type:1004},i)}}],dislikeReasonTap:[{action:vt,value:{eventName:hi}}]},data:{}}};var n=this.getDataValue("childrenConf");if(n)for(var o of Object.keys(n))a[o]&&j(a[o],n[o]);var r=[];return r=[a.feedBack],3===e?r.concat(this.template.children||[]):r}render(){var{children:e}=this;return`\n      <view id="container" class="countdown" bubble-event="false">\n        ${e.map(((e,t)=>`\n          <CustomItem get-props="getSubComponentProps:${t}"></CustomItem>\n        `))}\n        <view class="countdown-right">\n          <view id="split-line" class="split-line"></view>\n          <view id="countdown-container" class="countdown-container">\n            <text class="countdown-value" id="countdownvalue" value="5"></text>\n            <text class="countdown-text" value="秒"></text>\n          </view>\n        </view>\n      </view>\n    `}}IP.subComponents=()=>({CustomItem:oP});const SP=pP;var kP=(e,t)=>{var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var n of i)if("render"!==n){if("children"!==n&&e[n]!==t[n]){if("object"==typeof e[n]&&"object"==typeof t[n]&&kP(e[n],t[n]))continue;return!1}if("children"===n&&("string"==typeof e[n]||"string"==typeof t[n]))return e[n]===t[n]}else if(!e[n]!=!t[n])return!1;return!0};var{View:DP,Text:RP,Image:OP,Video:MP}=y,NP={view:"view",div:"view",span:"view",text:"text",image:"image",img:"image",video:"video"},LP={view:DP,text:RP,image:OP,video:MP},WP={text:["value"],image:["src"],view:[],video:["src","poster","referrerPolicy","referrer","initialTime","playbackRate","live","objectFit","controls","showProgress","showProgressInControlMode","autoplay","muted","loop","enableProgressGesture","enablePlayGesture","showCenterPlayBtn","autoInsert","scene","preLoad","obeyMuteSwitch","underGameView","playerHint","autoPauseIfOpenNative","autoPauseIfNavigate","customCache","showPoster","bufferDuration"],common:["autoInsert","eventType","bubbleEvent","clickState","independent"]},BP={eventType:"touch",clickState:!1,bubbleEvent:!1,autoInsert:!1},VP=["click","touchstart","touchmove","touchend"],HP=e=>[...WP[e]||[],...WP.common],FP=e=>({touchStart:"touchstart",touchEnd:"touchend",touchMove:"touchmove",touchCancel:"touchcancel"}[e]||e),GP=e=>{var t=[];for(var i of Object.keys(e))e[i]&&0===i.indexOf("on")&&t.push(i);return t},UP=(e,t,i)=>{var a=NP[e]||"view",n=LP[a],o=Ce({...BP,...t},HP(a));t.id&&(o.name=t.id),t.style&&(o.style=t.style);var r=new n(o);for(var s of(r._sourceHandlers=new Map,r._handlers=new Map,r._type=a,r._isTemplate=!0,r.dataset={},GP(t))){var l,d=s[2].toLowerCase()+s.slice(3);if(d in zu){if("video"===a)null===(l=r[s])||void 0===l||l.call(r,t[s])}else r._handlers.set(FP(d),t[s])}for(var c of VP){var p=zP(r,c,i.eventCallback);r._sourceHandlers.has(c)||(r._sourceHandlers.set(c,p),r.on(c,p))}for(var u of(t.uniqueId&&(r.adId=t.uniqueId),r._manualStyle=t.style,Object.keys(t)))if(0===u.indexOf("data-")){var h=$o(u.slice(5));r.dataset[h]=t[u]}return r},zP=function(e,t,i){return a=>{var n=!1,o={...a,target:e,currentTarget:e,stopPropagation:()=>{n=!0}};i&&"function"==typeof i&&i(e,o,t);for(var r=e;!n&&r&&r!==ig;){var s,l=null===(s=r._handlers)||void 0===s?void 0:s.get(t);null==l||l.call(e,o),r=r.parent}}},jP=(e,t)=>{var i=!1;for(var a of Object.keys(t))t[a]!==e[a]&&(e[a]=t[a],i=!0);return i},$P=e=>{for(var[t,i]of(e._handlers.clear(),e._sourceHandlers))e.off(t,i);e._sourceHandlers.clear()},YP=({getExtraProps:e,eventCallback:t}={})=>({createInstance:(i,a)=>UP(i,{...a,...null==e?void 0:e(i)},{eventCallback:t}),createTextInstance:e=>UP("text",{value:e},{eventCallback:t}),appendInitialChild(e,t){e.add(t)},finalizeInitialChildren:(e,t,i,a)=>(e._rootContainer=a,!0),prepareUpdate:(t,i,a,n)=>!kP({...a,...null==e?void 0:e(i)},{...n,...null==e?void 0:e(i)}),appendChild(e,t){e.add(t),qP(e)},appendChildToContainer(e,t){e.add(t),qP(e)},insertBefore(e,t,i){e.add(t),qP(e)},insertInContainerBefore(e,t,i){e.add(t),qP(e)},removeChild(e,t){e.remove(t),$P(t),qP(e)},removeChildFromContainer(e,t){e.remove(t),$P(t),qP(e)},resetTextContent(e){e.value=""},commitTextUpdate(e,t,i){e.value=i},commitMount(e){},commitUpdate(t,i,a,n,o){((e,t,i)=>{var a=Ce({...BP,...i},HP(e._type)),n=Ce({...BP,...t},HP(e._type)),o=i.style,r=t.style,s=GP(i),l=GP(t),d=!1;for(var c of Object.keys(r))c in o||(o[c]=null);var p=jP(e.style,o);for(var u of(d||(d=p),e._manualStyle=o,Object.keys(n)))u in a||(e[u]=null);for(var h of(p=jP(e,a),d||(d=p),l)){var g;h[2].toLowerCase()+h.slice(3)in zu?"video"===e._type&&(null===(g=e[h.replace(/^on/,"off")])||void 0===g||g.call(e,t[h])):e._handlers.delete(h)}for(var f of s){var m;f[2].toLowerCase()+f.slice(3)in zu?"video"===e._type&&(null===(m=e[f])||void 0===m||m.call(e,i[f]),d=!0):(e._handlers.has(f)&&e._handlers.delete(f),e._handlers.set(FP(f),i[f]),d=!0)}o.fontSize===r.fontSize&&a.value===n.value||(e._hasEllipsis=!1),d&&qP(e)})(t,{...n,...null==e?void 0:e(a)},{...o,...null==e?void 0:e(a)})},hideInstance(e){e.style.hidden=!0},hideTextInstance(e){e.style.hidden=!0},unhideInstance(e){e.style.hidden=!1},unhideTextInstance(e){e.style.hidden=!1},clearContainer(e){Object.keys(e.children).forEach((t=>{var i=e.children[t];e.remove(i)}))}}),qP=(()=>{var e=new Set,t=null;return i=>{e.add(i),t&&clearTimeout(t),t=setTimeout((()=>{var t=[];for(var i of e){for(var a=i.parent,n=!0;a;)e.has(a)&&(n=!1),a=a.parent;n&&t.push(i)}for(var o of t)Gh(o);e.clear()}),0)}})();class KP{constructor(){this.emitter=new g({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var i=r.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,i),this.originalCallbackMap.set(i,t),this.emitter.on(e,i)}}off(e,t){if(t&&"function"==typeof t){var i=this.callbackMap.get(t);"function"==typeof i&&(this.emitter.off(e,i),this.callbackMap.delete(t),this.originalCallbackMap.delete(i))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}class ZP extends KP{}var XP,JP={container:{zIndex:1000005,top:0,left:0,overflow:"hidden"}},QP={container:{zIndex:1000005,top:0,left:0,overflow:"hidden",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column"},adMaterialBg:{position:"absolute",hidden:!1,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"}},eI=Object.assign({},{container:{zIndex:1000005,top:0,left:0,position:"absolute",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",overflow:"hidden",backgroundColor:"#ffffff"},navigator:{hidden:!0,height:72,width:"100%",backgroundColor:"#ffffff"},adMedia:{left:0,width:"100%",flexDirection:"column",overflow:"hidden"},adMaterialBg:{position:"absolute",hidden:!0,top:0,left:0},adMaterial:{position:"absolute",top:0,left:0,width:"100%"},adMaterialContainer:{hidden:!0,position:"absolute",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0,width:"100%"},adMaterialLandscape:{width:311,height:175,marginLeft:32,marginRight:32,borderRadius:8},adCardInfo:{flexDirection:"column",marginTop:32,width:311,height:150},adHeadInfo:{width:311,height:28,flexDirection:"row",alignItems:"center"},adHeadIcon:{width:16,height:16,marginRight:6,borderRadius:8},adversName:{width:88,height:28,lineHeight:28,fontSize:14,lineBreak:"ellipsis",color:"#ffffff",opacity:.6},adTitle:{marginTop:18,height:28,width:216,fontSize:24,color:"#ffffff"},appInfo:{flexDirection:"column",alignItems:"center",width:"100%",height:160,backgroundColor:"#ffffff"},appIcon:{borderRadius:24,marginTop:16,marginBottom:8,width:48,height:48},appName:{width:"100%",height:24,textAlign:"center",lineHeight:24,fontSize:17,color:"#000000"}},{adFeedbackList:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:74,left:11,width:134,height:98,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}},{topBar:{position:"absolute",justifyContent:"flex-start",flexDirection:"row",alignItems:"flex-start",left:0,top:40},adFeedback:{hidden:!1,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,color:"#ffffff",textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:8.4,height:4.9,marginTop:2,marginLeft:2.5},splitLineLeft:{width:1,height:18.5,marginLeft:8.5,marginRight:8.5,backgroundColor:"rgba(255, 255, 255, 0.25)"},count:{marginLeft:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.35)",flex:1,flexDirection:"row",alignItems:"center"},countDown:{width:9,height:32,lineHeight:32,color:"#ffffff",fontSize:14},countDownAppend:{width:15,height:32,lineHeight:32,color:"#ffffff",fontSize:14}},{card:{backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",height:84,width:"100%"},adIcon:{borderRadius:20,opacity:.95,width:40,height:40,marginRight:8,marginBottom:12,marginLeft:16},adInformation:{marginBottom:12,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},adName:{height:24,lineHeight:24,fontSize:17,lineBreak:"ellipsis",color:"#000000",marginBottom:2},adWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:14},buttonContainer:{marginBottom:12,flex:1,flexDirection:"row",justifyContent:"flex-end",marginRight:16,marginLeft:12,overflow:"hidden"},button:{height:32,lineHeight:32,width:88,textAlign:"center",lineBreak:"ellipsis",fontSize:16,color:"#ffffff",backgroundColor:"#07c160",borderWidth:1,borderColor:"#07c160",borderRadius:3,marginRight:10,marginLeft:10}},{closeContainer:{flexDirection:"column",justifyContent:"flex-end",alignSelf:"flex-end",marginBottom:16,height:54},close:{height:32,lineHeight:32,width:60,marginLeft:12,marginRight:12,textAlign:"center",lineBreak:"ellipsis",fontSize:14,color:"#ffffff",borderRadius:16,borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:.5,alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.35)"}},{tipsContainer:{marginTop:12,flex:1,height:32,width:"100%",flexDirection:"column",justifyContent:"center",overflow:"hidden"},tipsLineOne:{height:16,textAlign:"center",lineHeight:16,lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11},tipsLineTwo:{height:16,lineHeight:16,textAlign:"center",lineBreak:"ellipsis",color:"#000000",opacity:.3,fontSize:11}},{adCloseTips:{hidden:!0,position:"absolute",overflow:"hidden",flexDirection:"column",justifyContent:"center",alignItems:"center",top:0,left:0},adCloseTipsWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipsContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"}},{mediaBottom:{backgroundColor:"#ffffff",borderRadius:8,height:24,width:"100%",alignSelf:"flex-end"}},{adButtonContainer:{width:375,height:64,overflow:"hidden",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.15)",borderRadius:2},adButton:{marginLeft:32,flex:1,height:28,lineHeight:28,lineBreak:"ellipsis",fontSize:17,color:"#ffffff",opacity:.9,borderRadius:3},actionIconContainer:{marginRight:32,flexDirection:"row",justifyContent:"center",alignItems:"center",width:12,height:14},actionIconWrap1:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},actionIconWrap2:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",height:14},iconArrow1:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow2:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5},iconArrow3:{top:3,width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-45,borderRadius:.5},iconArrow4:{width:2,height:7,backgroundColor:"#ffffff",opacity:.9,rotate:-135,borderRadius:.5}}),tI=new Proxy({card:()=>'\n  <view id="card">\n    <image id="ad-icon" bubble-event="true" src="https://wxa.wxs.qq.com/images/raphael/icon.png"></image>\n    <view id="ad-information" bubble-event="true">\n      <text id="ad-name" bubble-event="true" value="微信广告"></text>\n      <text id="ad-wording" bubble-event="true" value="本次封面广告赞助"></text>\n    </view>\n    <view id="button-container">\n      <text id="button" click-state="true" bubble-event="true" value="查看详情"></text>\n    </view>\n  </view>\n',appInfo:()=>'\n  <view id="app-info">\n    <image id="app-icon"></image>\n    <text id="app-name"></text>\n  </view>\n',feedbackContent:()=>'\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n',feedbackMenu:()=>'\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n',topBar:()=>'\n  <view id="top-bar">\n    <view id="count">\n      <view id="ad-feedback">\n        <text id="ad-text" value="广告" bubble-event="true"></text>\n        <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" bubble-event="true"></image>\n        <view id="split-line-left" bubble-event="true"></view>\n      </view>\n      <text id="count-down" value="5"></text>\n      <text id="count-down-append" value="秒"></text>\n    </view>\n  </view>\n',close:()=>'\n  <view id="close-container">\n    <text id="close" click-state="true" bubble-event="true" value="跳过"></text>\n  </view>\n',gameTips:()=>'\n  <view id="tips-container">\n    <text id="tips-line-one" value="抵制不良游戏，拒绝盗版游戏。 注意自我保护，谨慎受骗上当。"></text>\n    <text id="tips-line-two" value="适度游戏益脑，沉迷游戏伤身。 合理安排时间，享受健康生活。"></text>\n  </view>\n',closeTips:()=>'\n  <view id="ad-close-tips">\n    <view id="ad-close-tips-wrap">\n      <text id="ad-close-tips-content" bubble-event="true" value="感谢你的反馈"></text>\n    </view>\n  </view>\n',mediaBottom:()=>'\n  <view id="media-bottom">\n  </view>\n',adHeadInfo:()=>'\n  <view id="ad-head-info" bubble-event="true">\n    <image id="ad-head-icon" bubble-event="true" src=""></image>\n    <text id="advers-name" value="" bubble-event="true"></text>\n  </view>\n',adTitle:()=>'\n  <text id="ad-title" value="" bubble-event="true"></text>\n',adButtonContainer:()=>'\n  <view id="ad-button-container">\n    <text id="ad-button" bubble-event="true" value=""></text>\n    <view id="action-icon-container">\n      <view id="action-icon-wrap-1">\n        <view id="icon-arrow-1"></view>\n        <view id="icon-arrow-2"></view>\n      </view>\n      <view id="action-icon-wrap-2">\n        <view id="icon-arrow-3"></view>\n        <view id="icon-arrow-4"></view>\n      </view>\n    </view>\n  </view>\n'},{get:(e,t)=>e[t]()}),{SDKVersion:iI}=S,{getSystemInfoSync:aI,Component:nI,getPrivateThis:oI,createComponent:rI,getExptInfoSync:sI,nativeviewLayout:lI,webviewLayout:dI,_getABTestConfig:cI,gametext:pI,_onShow:uI,_onHide:hI,_offShow:gI,_offHide:fI}=y,mI=0,yI=0,vI=0,_I=0,EI=0,xI=0,bI=0,wI=0,TI=!1,CI=!1,AI=!1,PI="",II="",SI="",kI="",DI="",RI="",OI={},MI=[],NI=!0,LI="wx_wxapp_expt_launad",WI=`${sa}/adinfos.txt`,BI=R?200:400,VI=2e3,HI="CHECK_AD",FI="ONLINE",GI="LOCAL_SELECT",UI=[GI],zI={[HI]:ga.SHOW_AD_BY_CHECK_AD,[FI]:ga.SHOW_AD_BY_ONLINE,[GI]:ga.SHOW_AD_BY_LOCAL_SELECT},jI={[HI]:7e4,[FI]:8e4,[GI]:9e4},$I={[HI]:2,[FI]:1,[GI]:3},YI=2027,qI=2028,KI=2029,ZI=[720,721],XI="NO_ADINFOS",JI="ADINFOS",QI=function(e,t=!0){var i=oI(this).adProxy.isTriggerClick(e),a=i?0:1;return t&&tS.call(this,e,a),i},eS=function(){var e=oI(this);return O&&S.clientVersion<402660384||R&&S.clientVersion<671095808?[]:e.adProxy.getAdPushMsg({slotid:ea.splashAd}).then((t=>(S.onReady((()=>{e.adProxy.reportAdMonitorData(ga.GET_ADMSG_SUCCESS,t)})),Array.isArray(t.msgData)?t.msgData.map((e=>e.aid)):[]))).catch((t=>{throw S.onReady((()=>{e.adProxy.reportAdMonitorData(ga.GET_ADMSG_FAIL,t)})),t}))},tS=function(e,t=0){var i,a,n=oI(this);if(null!==(i=n.container)&&void 0!==i&&i.layoutBox){var{width:o,height:r}=n.container.layoutBox,s=0;[0,2,3].includes(t)&&(n.clickCount+=1,s=n.clickCount);var l={slotid:ea[n.adType],costtype:null!==(a=n.adProxy.data)&&void 0!==a&&a.is_cpm?1:2,click_time:Date.now(),click_cnt:s,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:parseInt(o,10)||0,ad_height:parseInt(r,10)||0,press_interval:e.pressInterval,block_click:t};return n.adProxy.reportTouchClick(l)}},iS=function(){var e=oI(this),t=!1;return(0===e.startExposureTime||+new Date-e.startExposureTime<1e3)&&(t=!0),t},aS=function(e,t){var i,a=oI(this),{width:n,height:o}=a.container.style,r={click_button:e,cost_type:null!==(i=a.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,slotid:ea[a.adType],is_game:TI?1:0,pageentertime:+new Date(a.adProxy.getProgramStartTime()),ad_width:parseInt(n,10)||0,ad_height:parseInt(o,10)||0,clientexptime:a.startExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:parseInt(t.absoluteX,10)||0,pos_y:parseInt(t.absoluteY,10)||0,screen_width:mI,screen_height:yI};return a.adProxy.reportAntifraud(r)},nS=function(e){var t,i,a,n,o,r,s,l=oI(this),d=+new Date;l.closeType=e;var c={videoBufferDuration:null===(t=l.data)||void 0===t||null===(i=t.condition)||void 0===i?void 0:i.widget_gray_splashad_video_buffer_duration,isVideoPreDownload:null===(a=l.data)||void 0===a||null===(n=a.condition)||void 0===n?void 0:n.widget_gray_splashad_video_preload,videoPreDownloadDuration:null===(o=l.data)||void 0===o||null===(r=o.condition)||void 0===r?void 0:r.widget_gray_splashad_video_preload_duration},p={slotid:ea[l.adType],is_game:TI?1:0,costtype:null!==(s=l.adProxy.data)&&void 0!==s&&s.is_cpm?1:2,close_type:e,exposure_duration:d-l.startExposureTime-l.hideDuration,start_time:l.startExposureTime,close_time:d,is_predownload_video:l.adProxy.isEmitPreDownloadVideo?1:0,video_start_load_time:l.videoStartLoadTime||0,video_start_play_time:l.videoStartPlayTime||0,expand_feild:JSON.stringify(c)};return l.adProxy.reportCloseAction(p)},oS=function(e){var t,i=oI(this),a={slotid:ea[i.adType],is_game:TI?1:0,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,button_type:e};return i.adProxy.reportAdEntranceExposure(a)},rS=function(e,t,i){var a;if("click"===i){var n=null==e||null===(a=e.dataset)||void 0===a?void 0:a.templateId;return sS.call(this,n,t)}},sS=function(e="",t={}){var i=oI(this),a=aI(),n=a.screenWidth,o=a.screenHeight;return i.adProxy.reportClickPosition({impTime:0,adWidth:Math.round(n)||0,adHeight:Math.round(o)||0,expTime:i.startExposureTime,clickTime:+new Date,endPosx:Math.round(t.absoluteX)||0,endPosy:Math.round(t.absoluteY)||0,posName:e})},lS=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){var o=oI(this);e&&!i&&(o.clickFirstGradeTime=+new Date),o.adProxy.reportAdFeedbackData({adWidth:mI,adHeight:yI,adPosX:0,adPosY:0,expTime:o.startExposureTime,slotId:ea[o.adType],firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?o.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?+new Date:0,feedbackReason:n})},dS=function(e=!1){var t,i,a,n=oI(this);if(!n.isShowed)return Promise.resolve();if(!n.data||!n.container.layoutBox)return zo(100).then((()=>dS.call(this,e)));var{left:o,top:r,width:s,height:l}=n.container.layoutBox,d=(null===(t=n.adProxy)||void 0===t||null===(i=t.datas)||void 0===i?void 0:i.length)>1&&zg(null===(a=n.data)||void 0===a?void 0:a.crt_size);if(n.isMulti=d,!n.isShowedExposureReported){if(n.isShowedExposureReported=!0,n.startExposureTime=+new Date,n.adProxy.setTimePoint("p6"),R&&S.clientVersion>=671092224&&S.clientVersion<=671092533){n.adProxy.reportExposure({left:o,top:r,width:s,height:l,exposureType:"showed",source:n.source,displayMode:n.showInfo.displayMode});var c="launch"===n.source?ga.firstShowSuccess:ga.secondShowSuccess;n.adProxy.reportAdMonitorData(c,{fetchSource:n.fetchSource,fetchType:n.fetchType,newTimeout:n.adInfos.newTimeout,localSelect:n.localSelectSuccess}),n.adProxy.setSplashAdShowStatus()}else S.onReady((()=>{d?n.adProxy.reportExposure({left:o,top:r,width:s,height:l,exposureType:"showed",isMulti:d,multiList:Object.keys(n.adProxy.datas).map((e=>+e)),source:n.source,displayMode:n.showInfo.displayMode}):n.adProxy.reportExposure({left:o,top:r,width:s,height:l,exposureType:"showed",source:n.source,displayMode:n.showInfo.displayMode});var e="launch"===n.source?ga.firstShowSuccess:ga.secondShowSuccess;n.adProxy.reportAdMonitorData(e,{fetchSource:n.fetchSource,fetchType:n.fetchType,newTimeout:n.adInfos.newTimeout,localSelect:n.localSelectSuccess}),n.adProxy.setSplashAdShowStatus()}));try{var p=ga.EXPOSURE_SHOWAD_UNKNOWN;"success"===n.showSplashAdStatus?p=ga.EXPOSURE_SHOWAD_SUCCESS:"fail"===n.showSplashAdStatus&&(p=ga.EXPOSURE_SHOWAD_FAIL),"launch"===n.source&&n.adProxy.reportAdMonitorData(p)}catch(e){}}if(!n.isViewableExposureReported){if(!e)return zo(1e3).then((()=>dS.call(this,!0)));n.adProxy.setTimePoint("p7"),n.isViewableExposureReported=!0,n.adProxy.isViewable=!0,d?n.adProxy.reportExposure({left:o,top:r,width:s,height:l,exposureType:"viewable",source:n.source,displayMode:n.showInfo.displayMode,multiList:Object.keys(n.adProxy.datas).map((e=>+e)),isMulti:d}):n.adProxy.reportExposure({left:o,top:r,width:s,height:l,exposureType:"viewable",source:n.source,displayMode:n.showInfo.displayMode}),"launch"!==n.source||n.countTimer||bS.call(this)}return Promise.resolve()},cS=function(e,t=!1,i=0){var a,n=oI(this);if(null!==(a=n.container)&&void 0!==a&&a.layoutBox){var{left:o,top:r,width:s,height:l}=n.container.layoutBox,d=n.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-o,clickRelativeTop:e.absoluteY-r,pressInterval:e.pressInterval,isMulti:n.isMulti,left:o,top:r,width:s,height:l,source:n.source,displayMode:n.showInfo.displayMode,isInteractiveClick:t,clickPos:i});return d}},pS=function(e,t,i=!1){var a=oI(this),{appInfo:{apkName:n,channelId:o,urlScheme:r},product_type:s,dest_type:l}=a.data;if(12===s&&R&&4===a.androidAppState&&r&&r.trim().length>0)cS.call(this,e),aS.call(this,t,e),a.adProxy.launchApplication(r,a.adProxy.data).catch((()=>{})),a.lastJsapiName="launchApplication",a.isLandingPage=!0;else if(12===s&&R&&a.isYYBInstalled){cS.call(this,e),aS.call(this,t,e);var{aid:d,traceid:c,apurl:p}=a.adProxy.data,u=["ANDROIDWX.YYB.WX.ADVERTISE",c,d,n.replace(/\./g,"_"),"0",15,p.indexOf("ad.wx.com")>-1?1:0].join("."),h=`tmast://download?oplist=1,2&pname=${n}&channelid=${o}&via=${u}`;a.adProxy.launchApplication(h).catch((()=>{uS.call(this,{isButton:i})})),a.lastJsapiName="launchApplication",a.isLandingPage=!0}else O&&46===s&&6===l?Promise.race([cS.call(this,e),zo(500)]).then((()=>{aS.call(this,t,e),uS.call(this,{isButton:i})})).catch((()=>{aS.call(this,t,e),uS.call(this,{isButton:i})})):(cS.call(this,e),aS.call(this,t,e),uS.call(this,{isButton:i}))},uS=function(e={}){var t=oI(this),i=t.adProxy.land(e);try{t.countTimer||t.adProxy.reportAdMonitorData(ga.LANDING_COUNTDOWN_FAIL)}catch(e){}return i.then((e=>{e.errMsg&&(t.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===t.lastJsapiName||"navigateToMiniProgram"===t.lastJsapiName||"openADCanvas"===t.lastJsapiName||"launchApplication"===t.lastJsapiName?t.isLandingPage=!0:t.lastJsapiStatus=0,t.lastJsapiCostTime=+new Date-t.lastLandingTime})).catch((e=>{t.lastJsapiStatus=1,t.adProxy.reportAdMonitorData(ga.landingPageFail,{source:t.source,msg:e})})),i},hS=function(e){var t=oI(this);for(var i of e)t[i]&&clearTimeout(t[i])},gS=function(){var e=!1;return O&&S.clientVersion>=402666021&&(e=!0),R&&S.clientVersion>=671101488&&(e=!0),e},fS=function(){var e,t=oI(this);t.eventsMap={},null!==(e=t.appInfo)&&void 0!==e&&e.style&&(t.appInfo.style.top=16),t.componentsRenderred=!1,t.firstInserted=!1,t.adFeedbackInserted=!1,t.isDynamic=!1,t.isShowedExposureReported=!1,t.startExposureTime=0,t.isViewableExposureReported=!1,t.isShowed=!1,t.adProxy.isViewable=!1,t.clickCount=0,t.lastLandingTime=0,t.lastJsapiName="",t.lastJsapiStatus=0,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.landingPageCostTime=0,t.hideTime=0,t.hideDuration=0,t.showSplashAdStatus="unknown",t.localSelectSuccess=!1,t.fetchType="",t.isClosing=!1,t.isClosed=!1,t.isShowCloseTip=!1,t.clickFirstGradeTime=0,t.videoStopType=Yg,t.source="",t.fetchSource="",t.adFileCheckResult={},hS.call(this,["countTimer"]),t.countTimer=null,S.onReady((()=>{var e,i,a;t.adProxy.reportTimePoints({slotid:ea[t.adType],costtype:null!==(e=t.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,splash_instance_id:null===(i=t.showInfo)||void 0===i?void 0:i.instanceId,scene:null===(a=t.showInfo)||void 0===a?void 0:a.scene,extInfo:{}})}))},mS=function(e){var t=oI(this);switch(e){case Xg:case Jg:case tf:case nf:t.videoStopType=qg;break;case Qg:t.videoStopType=Kg;break;case ef:case af:t.videoStopType=Zg;break;default:t.videoStopType=Yg}},yS=function(e={},t){var i;t&&(nS.call(this,t),mS.call(this,t));var a,n,o,r,s=oI(this);try{if(R&&s.fetchSource===FI&&s.videoPlayerId){var l=Math.min(s.adProxy.preDownloadVideoStopTime,s.onPreloadedMetaDataTime)-s.adProxy.preDownloadVideoStartTime,d={videoPlayerId:s.videoPlayerId,preloadSize:s.preloadSize,isEmitPreDownloadVideo:s.adProxy.isEmitPreDownloadVideo,isPreDownloadVideoSuccess:s.adProxy.isPreDownloadVideoSuccess,isPreDownloadVideoStatus:s.adProxy.isPreDownloadVideoStatus,preDownloadVideoDuration:l};s.adProxy.reportAdMonitorData(ga.PRELOADED_VIDEO_RESOURCE_STATUS,d)}}catch(e){}if(s.container&&s.showExtend&&s.adTemplateRef)return null==s||null===(a=s.adTemplateRef)||void 0===a||a.offEvent(RS.bind(this)),null==s||null===(n=s.adTemplateRef)||void 0===n||n.hide(),null==s||null===(o=s.adTemplate)||void 0===o||o.unmount({hostContainer:s.container}),s.adTemplate=null,void dI.remove(s.container);s.container&&s.adTemplateRef&&Ug(null===(i=s.data)||void 0===i?void 0:i.crt_size)&&(null===(r=s.adTemplateRef)||void 0===r||r.emitEvent(qw.OPERATEADVIDEO,{type:"pause"}));s.isClosed=!0,function(e){oe("closeSplashAd",e)}(e)},vS=function(){var e=oI(this);if(e.container){if(e.isDynamic)if(e.tplComponent)yh(e.tplComponent),e.dynamicElems={},e.dynamicEmitter=null,e.tplComponent=null;else if(e.adTemplateRef){var t,i,a;null==e||null===(t=e.adTemplateRef)||void 0===t||t.offEvent(RS.bind(this)),null==e||null===(i=e.adTemplateRef)||void 0===i||i.hide(),null==e||null===(a=e.adTemplate)||void 0===a||a.unmount({hostContainer:e.container}),e.adTemplate=null}lI.remove(e.container)}fS.call(this)},_S=function(e={},t={}){return oI(this).adProxy.fetch(!1,e,t)},ES=function(){var e=oI(this);if((R||O)&&!AI)try{e.adFetchResult=_S.call(this).catch((()=>{})),e.adProxy.reportAdMonitorData(ga.OTHER_ADS_EMIT_FETCH)}catch(e){}},xS=function(){var e,t=oI(this).data||{},i={};if(null!==(e=t.crtInfo)&&void 0!==e&&e.card_info)i=t.crtInfo.card_info;else if(t.crtInfo&&t.crtInfo.length>0){var a=t.crtInfo?t.crtInfo[0]:{};i=null!=a&&a.card_info?a.card_info:{}}return i},bS=function(){var e,t,i,a,n,o,r,s,l,d,c=oI(this),p=+new Date-c.startExposureTime-c.hideDuration,u=6e3,h=null==c||null===(e=c.data)||void 0===e?void 0:e.adDynamicList;(null!=c&&null!==(t=c.data)&&void 0!==t&&t.template&&(h=c.data.template),null!==(i=h)&&void 0!==i&&null!==(a=i.options)&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.countdown)&&(u=Number(null===(s=h)||void 0===s||null===(l=s.options)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.countdown)||6e3);(null==c||null===(o=c.data)||void 0===o||null===(r=o.condition)||void 0===r?void 0:r.widget_gray_splashad_show_duration)>=u&&(u=c.data.condition.widget_gray_splashad_show_duration);var g,f=Math.min(u-p,u);if(f>=0){var m,y,v=Math.ceil(f/1e3).toString();if(c.countDown&&(c.countDown.value=v),c.adTemplateRef)c.adTemplateRef.emitEvent(qw.CHANGECOUNTDOWN,{value:v}),null===(m=c.adTemplateRef)||void 0===m||null===(y=m.emitEvent)||void 0===y||y.call(m,qw.HOSTMESSAGE,{message:"updateCountdownValue",args:{value:v}});c.tplComponent&&c.tplComponent.emitAdCustomEvent(qw.CHANGECOUNTDOWN,{value:v}),c.countTimer&&clearTimeout(c.countTimer),c.countTimer=setTimeout((()=>{bS.call(this)}),1e3)}else if("launch"===c.source&&c.isShowedExposureReported&&!c.isClosed){var _,E;if(c.isDynamic)if(c.tplComponent)null===(E=c.tplComponent)||void 0===E||E.hide();else if(c.adTemplateRef){var x;null===(x=c.adTemplateRef)||void 0===x||x.hide()}var b=gS.call(this),w=zg(null===(_=c.data)||void 0===_?void 0:_.crt_size);if(c.isSplashadExtendShow&&b&&!w){var T=(g=c.data.crt_size)&&[Tg.CRT_SIZE_REWARD_VEDIO916,Tg.CRT_SIZE_AMS_PIC_916,Tg.CRT_SIZE_VERTICAL_VIDEO_NEW_916,Tg.CRT_SIZE_SPLASH_AD,Tg.CRT_SIZE_VERTICAL_VIDEO,Tg.CRT_SIZE_VERTICAL_VIDEO_916].includes(Number(g))?"portrait":"landscape",C="portrait"===T?88:88/.5625,A="portrait"===T?88/.5625:88,{screenWidth:P,screenHeight:I,screenTop:S}=aI(),k=I/2-S-A,D=P-C-10;worker.postMessage({type:"splashAdShowExtend"}),yS.call(this,{source:c.source,animated:!0,animConfig:{animEndX:D,animEndY:k,animEndHeight:A}},12)}else yS.call(this,{source:c.source,animated:!0},12)}},wS=function(){var e=oI(this);if("launch"===e.source)e.topBar&&_I&&(e.topBar.style.top=_I,e.adFeedbackMenu.style.top=_I+34,e.adFeedbackList.style.top=_I+34),e.closeContainer&&(e.closeContainer.style.marginTop=EI-68),e.appInfo&&(e.appInfo.style.height=xI,e.appInfo.style.width=mI,e.isDarkMode&&(e.appInfo.style.backgroundColor="#191919",e.container.style.backgroundColor="#191919")),e.appIcon&&(e.appIcon.src=e.showInfo.appIcon,e.appIcon.style.marginTop=TI?16:28),e.appName&&(e.appName.value=e.showInfo.appName,e.appName.style.width=mI,e.appName.style.color=e.isDarkMode?"#ffffff":"#000000"),e.tipsContainer&&(e.tipsContainer.style.height=32,e.tipsContainer.style.width=mI,e.tipsLineOne.style.width=mI,e.tipsLineOne.style.color=e.isDarkMode?"#ffffff":"#000000",e.tipsLineTwo.style.color=e.isDarkMode?"#ffffff":"#000000"),e.adCloseTips&&(e.adCloseTips.style.height=yI-xI,e.adCloseTips.style.width=mI);else if("menu"===e.source){var t;if(!e.data)return;var{data:i}=e,a=xS.call(this),n=aI();e.adIcon.src=a.thumb,e.adName.value=a.title,null!==(t=i.button_action)&&void 0!==t&&t.button_text&&(e.button.value=i.button_action.button_text),n.screenTop&&n.screenTop>0?vI=n.screenTop:vI&&0!==vI||(vI=88*yI/812),e.navigator.style.height=vI,e.navigator.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff",e.card.style.width=mI,e.card.style.height=xI-vI,e.adName.style.color=e.isDarkMode?"#ffffff":"#000000",e.adWording.style.color=e.isDarkMode?"#ffffff":"#000000",e.mediaBottom&&(e.mediaBottom.style.marginTop=EI-12,e.mediaBottom.style.width=mI,e.mediaBottom.style.backgroundColor=e.isDarkMode?"#191919":"#ffffff")}if("landscape"===e.crtOrientation){var o=e.data||{},r=xS.call(this);if(r&&e.adHeadInfo&&(e.adHeadIcon.src=r.thumb||"",e.adversName.value=r.title||"",e.adHeadInfo.style.width=mI/375*311,e.adversName.style.width=mI/375*311),o.hint_txt&&e.adTitle&&o.crt_size!==Tg.CRT_SIZE_BIG_PIC?(e.adTitle.value=o.hint_txt,e.adTitle.style.width=mI/375*311):r.description&&e.adTitle?(e.adTitle.value=r.description,e.adTitle.style.width=mI/375*311):e.adTitle&&o.product_type&&Ta[o.product_type]&&(e.adTitle.value=`今日${Ta[o.product_type]}推荐`,e.adTitle.style.width=mI/375*311),o.button_action&&e.adButtonContainer){e.adButton.value=o.button_action.button_text,e.adButtonContainer.style.width=mI,e.closeContainer&&(e.closeContainer.style.marginTop=EI-132);var s={text:o.button_action.button_text,fontSize:17},l=Z(s)||80;e.adButton.style.width=l+8,e.adButton.style.width+12>100&&(e.adButton.style.width=e.adButton.style.width+12)}}},TS=function(){var e=oI(this);e.adTemplate||(e.adTemplate=new mA({hostConfig:YP({getExtraProps:XS.bind(this),eventCallback:rS.bind(this)}),hostContext:{onAppEnterForeground:uI,offAppEnterForeground:gI,onAppEnterBackground:hI,offAppEnterBackground:fI,getPropertyOfElement:(e,t)=>"parent"===t?e.parent:Qu(e),getBoundingClientRect:e=>e.layoutBox,operateVideo:(e,t)=>{["play","pause","stop"].includes(t)&&e[t]()},animate:(e,t)=>Promise.all([e.animate(t),zo(t.duration)]),getTextWidth:(e,t)=>pI.getTextWidth(e,t),onGlobalEvent:()=>{},offGlobalEvent:()=>{}}}))},CS=function(e){var t,i,a,n,o,r,s,l=oI(this),d=null==l||null===(t=l.data)||void 0===t?void 0:t.adDynamicList;if(null!=l&&null!==(i=l.data)&&void 0!==i&&i.template&&(d=l.data.template),null!==(a=d)&&void 0!==a&&null!==(n=a.options)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.flattenLayer)IS.call(this,e,d);else if(l.dynamicElems||(l.dynamicElems={}),l.dynamicEmitter||OS.call(this),!l.dynamicElems.root){OI=null===(r=d)||void 0===r||null===(s=r.tplConfig)||void 0===s?void 0:s.cacheFile;var c={};if(OI&&Object.keys(OI).length>0){var p,u,h,g=(null==l||null===(p=l.data)||void 0===p||null===(u=p.rerankingExtInfo)||void 0===u?void 0:u.material_hash)||"",f=(null===(h=l.data)||void 0===h?void 0:h.aid)||"";Object.keys(OI).forEach((e=>{try{var t=`${sa}/${f}_${g}_${e}.png`;be(t),c={...c,[e]:t}}catch(e){l.adProxy.reportAdMonitorData({idKey:33,idKeyGroup:1646},e)}}))}var m=SS.call(this,{tpl:d,source:e,cacheLocalFile:c}),y=m.getRootElement();l.dynamicElems.root=y,l.container.add(l.dynamicElems.root),m.show(),l.tplComponent=m,l.tplComponent.emitComponentEvent(Zt)}},AS=function(){var e="",t=oI(this).adProxy.data,i=xS.call(this);return t.hint_txt&&t.crt_size!==Tg.CRT_SIZE_BIG_PIC?e=t.hint_txt:i.description?e=i.description:t.product_type&&Ta[t.product_type]&&(e=`今日${Ta[t.product_type]}推荐`),e},PS=function(){var e="",t=oI(this).adProxy.data;return t.product_type&&Ta[t.product_type]&&(e=`今日${Ta[t.product_type]}推荐`),e},IS=function(e,t){var i=oI(this),a=AS.call(this),n=xS.call(this),o=PS.call(this);i.adTemplate.render({isEmpty:void 0,systemInfo:{screenWidth:mI,screenHeight:yI},hostContainer:i.container,template:t,adData:i.adProxy.data,adDatas:i.adProxy.datas,adCustomId:"SPLASHAD",styleOptions:{removePx:!0,splitShorthand:!0,convertRgbaColor:!0,convertDisplayName:!0,convertRotate:!0,ratio:yI>mI?mI/375:yI/375},extraScope:{private:i,rightButtonTop:_I||40,source:e,screenTop:vI||88*yI/812,isDarkMode:i.isDarkMode,adTitle:a||"",adSubTitle:o||"",cardInfo:n,materialFile:PI,materialVideo:II,materialVideoThumb:SI,materialList:MI,materialBgFile:DI,materialBlurFile:RI,appIcon:i.showInfo.appIcon,appName:i.showInfo.appName,showExtend:Boolean(i.showExtend)},ref:e=>{i.adTemplateRef=e,e.onEvent(RS.bind(this))}}).then((()=>{var e;null===(e=i.adTemplateRef)||void 0===e||e.show()}))},SS=function({tpl:e,source:t,cacheLocalFile:i}){var a=oI(this),n=a.adProxy.data,o=AS.call(this),r=xS.call(this),s=PS.call(this);return fh(pP,{manager:null,reporter:null,emitter:a.dynamicEmitter,adProxy:a.adProxy,template:e,systemInfo:{screenWidth:mI,screenHeight:yI},adData:n,adCustomId:"dynamic",isEmpty:!1,scope:{rightButtonTop:_I||40,source:t,screenTop:vI||88*yI/812,isDarkMode:a.isDarkMode,adTitle:o||"",adSubTitle:s||"",cardInfo:r,materialFile:PI,materialBgFile:DI,materialBlurFile:RI,private:a,appIcon:a.showInfo.appIcon,appName:a.showInfo.appName,cacheLocalFile:i}},!1)},kS=function(){var e=b()((function*(e){e=e.map((e=>e.then((e=>[null,e])).catch((e=>[e]))));var t=[];for(var i of e)try{var[a,n]=yield i;if(a)throw a;if(UI.includes(null==n?void 0:n.source)&&(2!==t.length||!t.every((e=>e===Oe))))throw"NOT_USE_LOCAL";if(null==n||!n.aid)throw`${null==n?void 0:n.source}_NO_AID`;return n}catch(e){t.push(e)}throw t}));return function(t){return e.apply(this,arguments)}}(),DS=function(e){var t=oI(this);QI.call(this,e,!1)&&(t.showExtend?yS.call(this,{source:t.source,animated:!0},15):iS.call(this)||"launch"!==t.source||t.isClosed||(yS.call(this,{source:t.source,animated:!0},11),cS.call(this,e,!0,qI)))},RS=function(e){var t=oI(this);switch(e.action){case qw.LANDAD:var i,a,n,o,{event:r,index:s,isButton:l}=e.value,d=s,c=(null===(i=t.adProxy)||void 0===i||null===(a=i.datas)||void 0===a?void 0:a.length)>1&&zg(null===(n=t.data)||void 0===n?void 0:n.crt_size);if(t.isMulti=c,c&&(t.adProxy.setCurrentData(s),t.data=t.adProxy.data,d=16),!QI.call(this,r,13===d))return;if(13===d&&pS.call(this,r,d,l),yS.call(this,{source:t.source,animated:!1},d),16===d)t.isLandingPage=!0,(null===(o=t.data.condition)||void 0===o?void 0:o.widget_gray_splashad_jump_optimization)?pS.call(this,r,d,l):zo(BI).then((()=>pS.call(this,r,d,l)));break;case qw.CHECKEXPOSURE:if(t.dynamicRendered=!0,t.isShowed=!0,t.showExtend)return;t.isShowedExposureReported||dS.call(this),"launch"!==t.source||t.countTimer||t.isClosed||bS.call(this);break;case qw.FEEDBACKREPORT:lS.call(this,e.value);break;case qw.FEEDBACKBTNTAP:"launch"===t.source&&yS.call(this,{source:t.source,animated:!0},17),t.data&&t.adProxy.openFeedbackUrl(1014),cS.call(this,{},!0,KI);break;case qw.REPORTMMDATA:e.value.id&&e.value.data&&t.adProxy.reportMMData(parseInt(e.value.id,10),e.value.data);break;case qw.SPLASHSKIPAD:var{event:p}=e.value;DS.call(this,p);break;case qw.REPORTADMONITORDATA:var u=null==e?void 0:e.value,{id:h,key:g,extInfo:f}=u,m=h?{idKeyGroup:h,idKey:g}:g;t.adProxy.reportAdMonitorData(m,f);break;case qw.ADVIDEOLOADFAILED:t.adProxy.reportAdMonitorData(ga.VIDEO_LOAD_ERROR,e.value);break;case qw.ADVIDEOPRELOADEDMETADATA:var y,v,_,E,x,b;t.preloadSize=(null==e||null===(y=e.value)||void 0===y||null===(v=y.event)||void 0===v?void 0:v.preloadSize)||0,t.videoPlayerId=(null===(_=JSON.parse(null==e||null===(E=e.value)||void 0===E||null===(x=E.event)||void 0===x?void 0:x.data))||void 0===_?void 0:_.id)||0,t.onPreloadedMetaDataTime=null==e||null===(b=e.value)||void 0===b?void 0:b.time;break;case qw.REPORTVIDEOPLAY:var w,T,{playType:C,conditionType:A,videoInfo:{isAutoPlay:P,playDuration:I,videoDuration:S,isMuted:k,videoStartLoadTime:D,videoStartPlayTime:R,videoStopTime:O,firstFramePlayCnt:M,lastFramePlayCnt:N,startProgressBarPosition:L,stopProgressBarPosition:W}}=e.value;t.videoStartLoadTime=D,t.videoStartPlayTime=R;var B=P?jg:$g,V={playType:C,conditionType:A,playDuration:I,videoDuration:S,muted:k};null!==(w=t.data)&&void 0!==w&&null!==(T=w.condition)&&void 0!==T&&T.widget_gray_splashad_video_report&&(Object.assign(V,{isExtend:!0,videoStartLoadTime:D,videoStartPlayTime:R,videoStopTime:O,firstFramePlayCnt:M,lastFramePlayCnt:N,startProgressBarPosition:L,stopProgressBarPosition:W,playMode:B,stopType:t.videoStopType}),V.playDuration=O&&R?O-R:0,["start","unknown"].includes(A)||(V.conditionType="stop")),t.adProxy.reportVideo(V);break;case qw.TEMPLATEMESSAGE:var H,F;if("getElementPosition"===e.value.message)if(null!=e&&null!==(H=e.value)&&void 0!==H&&null!==(F=H.args)&&void 0!==F&&F.id){var G,U,z,j,$,Y,q=t.adTemplateRef.getElementById(null==e||null===(G=e.value)||void 0===G||null===(U=G.args)||void 0===U?void 0:U.id,"container"),{height:K,width:Z}=q.layoutBox,{top:X,left:J}=q.getAbsolutePosition();null===(z=t.adTemplateRef)||void 0===z||null===(j=z.emitEvent)||void 0===j||j.call(z,qw.HOSTMESSAGE,{message:"updateElementPosition",args:{id:null==e||null===($=e.value)||void 0===$||null===(Y=$.args)||void 0===Y?void 0:Y.id,position:{top:X,left:J},size:{height:K,width:Z}}})}if("stopCountdown"===e.value.message&&hS.call(this,["countTimer"]),"setContainer"===e.value.message){var Q,{height:ee,fixed:te,top:ie}=null==e||null===(Q=e.value)||void 0===Q?void 0:Q.args;t.container.style.height=ee,t.container.style.fixed=te,t.container.style.top=ie}}},OS=function(){var e=oI(this);e.dynamicEmitter=new ZP,e.dynamicEmitter.on("adCustomEvent",(e=>{RS.call(this,e)}))},MS=function(e,t=!1){var i=oI(this);e.forEach((e=>{var{root:t}=T()(tI[e.name]),a=rI.call(this,t);i[e.parent].add(a)})),i.componentsRenderred=!0,wS.call(this),t&&NS.call(this)},NS=function(){var e=oI(this);e.adFeedback&&!e.eventsMap.adFeedback&&e.adFeedback.on("click",(t=>{QI.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!e.adFeedbackMenu.style.hidden||!e.adFeedbackList.style.hidden,e.adFeedbackMenu.style.hidden=!0,e.adFeedbackList.style.hidden||lS.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"}))})),e.adFeedbackBtn&&!e.eventsMap.adFeedbackBtn&&e.adFeedbackBtn.on("click",(t=>{QI.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,lS.call(this,{secondGradeId:1,secondGradeDesc:"投诉"}),"launch"===e.source&&yS.call(this,{source:e.source,animated:!0},17),e.data&&e.adProxy.openFeedbackUrl(1014),cS.call(this,t,!0,2029))})),e.adDislikeBtn&&!e.eventsMap.adDislikeBtn&&e.adDislikeBtn.on("click",(t=>{QI.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!1,lS.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"}))})),e.adQualityBtn&&!e.eventsMap.adQualityBtn&&e.adQualityBtn.on("click",(t=>{QI.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,lS.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),"launch"===e.source&&yS.call(this,{source:e.source,animated:!0},17))})),e.adDuplicateBtn&&!e.eventsMap.adDuplicateBtn&&e.adDuplicateBtn.on("click",(t=>{QI.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,lS.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),"launch"===e.source&&yS.call(this,{source:e.source,animated:!0},17))})),e.adDismatchBtn&&!e.eventsMap.adDismatchBtn&&e.adDismatchBtn.on("click",(t=>{QI.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,lS.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),"launch"===e.source&&yS.call(this,{source:e.source,animated:!0},17))})),e.closeContainer&&!e.eventsMap.closeContainer&&e.closeContainer.on("click",(t=>{QI.call(this,t,!1)&&(iS.call(this)||"launch"===e.source&&yS.call(this,{source:e.source,animated:!0},11))})),e.adMedia&&!e.eventsMap.adMedia&&e.adMedia.on("click",(e=>{LS.call(this,e,"adMedia")})),e.adButtonContainer&&!e.eventsMap.adButtonContainer&&e.adButtonContainer.on("click",(e=>{LS.call(this,e,"button")})),e.buttonContainer&&!e.eventsMap.buttonContainer&&e.buttonContainer.on("click",(t=>{var i;if(QI.call(this,t,!1)&&e.data)return yS.call(this,{source:e.source,animated:!1},16),e.isLandingPage=!0,(null===(i=e.data.condition)||void 0===i?void 0:i.widget_gray_splashad_jump_optimization)?pS.call(this,t,clickType,isButton):zo(BI).then((()=>pS.call(this,t,clickType,isButton)))}));for(var t of["adFeedback","adFeedbackBtn","adDislikeBtn","adQualityBtn","adDuplicateBtn","adDismatchBtn","closeContainer","adMedia","buttonContainer","adButtonContainer"])e[t]&&!e.eventsMap[t]&&(e.eventsMap[t]=!0)},LS=function(e,t=""){var i,a,n=oI(this);if((!((null==n||null===(i=n.data)||void 0===i||null===(a=i.condition)||void 0===a?void 0:a.widget_gray_splash_click_area_switch)||0)||"button"===t)&&QI.call(this,e,!1))return n.data&&"launch"===n.source?!TI||R?(pS.call(this,e,13),zo(200).then((()=>yS.call(this,{source:n.source,animated:!1},13)))):(yS.call(this,{source:n.source,animated:!1},13),pS.call(this,e,13)):void 0},WS=function(){var e,t=oI(this);if(t.data){var i=xS.call(this);i&&"launch"===t.source&&(e={showMenu:!0,title:i.title,icon:i.thumb,success:()=>{t.adProxy.reportAdMonitorData(ga.showSplashAdMenuSuccess)},fail:e=>{t.adProxy.reportAdMonitorData(ga.showSplashAdMenuFail,{msg:e})}},oe("showSplashAdMenu",e))}},BS=function(){var e,t,i,a,n,o,r,s=oI(this);if(null!==(e=s.showInfo)&&void 0!==e&&e.hotStartABTestInfo&&0!==(null===(t=s.showInfo)||void 0===t||null===(i=t.hotStartABTestInfo)||void 0===i?void 0:i.value)){var l=(null===(a=s.showInfo)||void 0===a||null===(n=a.hotStartABTestInfo)||void 0===n?void 0:n.value)||3e4;null!==(o=s.data)&&void 0!==o&&null!==(r=o.extBackComm)&&void 0!==r&&r.dynamic_hot_start_duration&&(l=1e3*s.data.extBackComm.dynamic_hot_start_duration),s.adProxy.reportAdMonitorData(ga.HOT_START_START,l),oe("enableSplashAdHotStart",{isShow:!0,intervalThreshold:l,success:e=>{s.adProxy.reportAdMonitorData(ga.HOT_START_SUCCESS,e)},fail:e=>{s.adProxy.reportAdMonitorData(ga.HOT_START_FAIL,e)}})}},VS=function(){var e=oI(this);try{var t,i=(null===(t=e.data)||void 0===t?void 0:t.aid)||"";e.adProxy.data&&e.adInfos&&e.adInfos.waidMap&&(e.adProxy.data.waid=e.adInfos.waidMap[i])}catch(e){}},HS=function(){var e=oI(this);if(!e.data||""===e.data||"object"!=typeof e.data){var t=Ee(kI,"utf-8");try{var i=JSON.parse(t);e.data=i,e.adProxy.data=i}catch(t){S.onReady((()=>{e.adProxy.reportAdMonitorData(ga.readFileDataFail,{source:e.source,msg:t})}))}}},FS=function(){var e=oI(this);if("launch"===e.source){MS.call(this,[{parent:"adMedia",name:"topBar"}],!0),e.adFeedbackInserted=!0}},GS=function(){var e=oI(this);if("launch"===e.source){var t=[{parent:"container",name:"appInfo"},{parent:"adMedia",name:"feedbackContent"},{parent:"adMedia",name:"feedbackMenu"},{parent:"adMedia",name:"close"},{parent:"container",name:"closeTips"}];"landscape"===e.crtOrientation&&(t=t.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"},{parent:"adMedia",name:"adButtonContainer"}])),(R||_I>0)&&(t.push({parent:"adMedia",name:"topBar"}),e.adFeedbackInserted=!0),e.showInfo.isGame&&t.push({parent:"appInfo",name:"gameTips"}),MS.call(this,t,!0),fe({state:0}),lI.layout().then((()=>{fe({state:1}),lI.auto=!0})).catch((t=>{S.onReady((()=>{e.adProxy.reportAdMonitorData(ga.secondInsertFail,{source:e.source,msg:t})}))}))}},US=function(){var e=oI(this);xI=Math.max(160,160*yI/812),EI=yI-xI,e.adMaterial||e.adProxy.reportAdMonitorData(ga.INIT_MATERIAL_ERROR),e.adMaterialBg||e.adProxy.reportAdMonitorData(ga.INIT_MATERIAL_BG_ERROR),e.adMedia.style.width=mI,e.adMedia.style.height=EI;var t=9*yI/16;e.adMaterial.style.width=t,e.adMaterial.style.height=yI,e.adMaterial.style.left=t>mI?(mI-t)/2:0,"portrait"===e.crtOrientation?e.adMaterial.src=PI:"landscape"===e.crtOrientation&&(e.adMaterialBg.style.hidden=!1,e.adMaterialContainer.style.hidden=!1,e.adMaterial.style.width=mI,e.adMaterial.style.height=EI,e.adMaterial.style.left=0,e.adMaterialContainer.style.width=mI,e.adMaterialContainer.style.height=EI,e.adMaterialBg.style.width=.45*yI*16/9,e.adMaterialBg.style.height=.45*yI,e.adMaterialBg.style.left=-(.45*yI*16/9-mI)/2,e.adMaterialLandscape.style.width=mI/375*311,e.adMaterialLandscape.style.height=mI/375*175,e.adMaterialBg.src=PI,e.adMaterialLandscape.src=PI,e.adCardInfo.style.width=mI/375*311,e.adCardInfo.style.marginLeft=8),e.adMaterial.scale=yI/1920},zS=function(e){var t,i,a=oI(this);a.showInfo=e,a.source=e.source,a.isDarkMode=e.isDarkMode||!1,e.isGame&&(TI=e.isGame),R&&(_I=(null==e?void 0:e.rightButtonTop)||0);var n=aI();mI=e.screenWidth,yI=L?e.screenHeight:Math.max(n.screenHeight,e.screenHeight),HS.call(this);try{a.adProxy.preloadLanding(),a.adProxy.reportAdMonitorData(ga.MINIPROGRAM_PRELOAD_SUCCESS)}catch(e){a.adProxy.reportAdMonitorData(ga.MINIPROGRAM_PRELOAD_FAIL,{source:a.source,msg:e})}try{var o,r,s;a.isMulti=(null===(o=a.adProxy)||void 0===o||null===(r=o.datas)||void 0===r?void 0:r.length)>1&&zg(null===(s=a.data)||void 0===s?void 0:s.crt_size)}catch(e){}if(null!=a&&null!==(t=a.data)&&void 0!==t&&t.adDynamicList||null!=a&&null!==(i=a.data)&&void 0!==i&&i.template){var{root:l}=T()(a.showExtend?'\n  <view id="container" independent="true">\n  </view>\n':'\n  <view id="container">\n  </view>\n');GA.call(this,l,a.showExtend?JP:QP),a.isDynamic=!0,lI.auto=!0,CS.call(this,e.source)}else GA.call(this,(()=>{if(!XP){var{root:e}=T()('\n  <view id="container">\n    <view id="navigator"></view>\n    <view id="ad-media">\n      <image id="ad-material-bg"></image>\n      <image id="ad-material" bubble-event="true"></image>\n      <view id="ad-material-container" bubble-event="true">\n        <image id="ad-material-landscape" bubble-event="true"></image>\n        <view id="ad-card-info" bubble-event="true"></view>\n      </view>\n    </view>\n  </view>\n');XP=e}return XP})(),eI),US.call(this);if(a.container.style.width=mI,a.container.style.height=yI,a.showExtend||(a.container.style.backgroundColor=a.isDarkMode?"#191919":"#ffffff"),a.showExtend?dI.add(a.container):lI.add(a.container),!a.isDynamic)try{xe({path:RI,success:()=>{a.adMaterialBg.src=RI}}),xe({path:DI,success:()=>{a.adMaterial.src=DI},fail:()=>{a.adMaterial.style.backgroundColor="#333333"}})}catch(e){}var d=[];"menu"!==a.source||a.isDynamic||(HS.call(this),d=[{parent:"container",name:"card"},{parent:"adMedia",name:"mediaBottom"}],"landscape"===a.crtOrientation&&(d=d.concat([{parent:"adCardInfo",name:"adHeadInfo"},{parent:"adCardInfo",name:"adTitle"}])),a.navigator.style.hidden=!1,MS.call(this,d,!0)),ge({state:0}),lI.layout().then((()=>{if(a.firstInserted=!0,a.isShowed=!0,ge({state:1}),"launch"!==a.source||a.isDynamic)lI.auto=!0,a.container.requestLayout();else try{GS.call(this)}catch(e){S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.secondRenderFail,{source:a.source,msg:e})}))}})).catch((e=>{S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.firstInsertFail,{source:a.source,msg:e})}))}))},jS=function(e,t={},i,a){var n=oI(this),o=wI+va[a],r=ga[a];return S.onReady((()=>{var i;n.adProxy.reportAdMonitorData(r,t),n.adProxy.reportTimePoints({slotid:ea[n.adType],costtype:null!==(i=n.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,splash_instance_id:e.instanceId,errCode:o,scene:e.scene,extInfo:t})})),n.adInfos.newTimeout&&(S.onReady((()=>{n.adProxy.reportAdMonitorData(ga.NEW_TIMEOUT_CLOSE_AD,a)})),yS.call(this,{source:e.source,animated:!1},50)),he({adCallTime:Date.now(),errCode:o,show:!1,eventReceivedTime:i.startInit,cgiFetchStart:i.startFetchTime||0,cgiFetchCallBack:i.fetchCallbackTime||0})},$S=function(e){var t,i,a=oI(this),n={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:iI,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:O,isAndroid:R,adNetworkType:e.networkType},o={weappEnterScene:e.scene,requestType:6,preloadAds:a.adInfos.ads||[]};null!==(t=a.showInfo)&&void 0!==t&&t.hotStartABTestInfo&&(o.weappExptCtx=[null===(i=a.showInfo)||void 0===i?void 0:i.hotStartABTestInfo]);return a.adProxy.setTimePoint("p15"),a.adProxy.setTimePoint("p20"),S.onReady((()=>{setTimeout((()=>{a.adProxy.reportAdMonitorData(ga.CHECK_AD_BEGIN,{requestType:6,fetchType:a.fetchType,localSelect:a.localSelectSuccess})}),VI)})),_S.call(this,n,o).then((e=>(S.onReady((()=>{setTimeout((()=>{a.adProxy.reportAdMonitorData(ga.CHECK_AD_SUCCESS,{requestType:6,fetchType:a.fetchType,localSelect:a.localSelectSuccess,...e}),null!=e&&e.aid&&a.adProxy.reportAdMonitorData(ga.CHECK_AD_STATUS_SUCCESS,{requestType:6,fetchType:a.fetchType,localSelect:a.localSelectSuccess})}),VI)})),a.adProxy.setTimePoint("p16"),a.adProxy.setTimePoint("p21"),null!=e&&e.aid?{aid:e.aid,source:HI}:{aid:0,isRealtime:!1,source:HI}))).catch((e=>{throw a.adProxy.reportAdMonitorData(ga.CHECK_AD_FAIL,{...e,requestType:6}),a.adProxy.setTimePoint("p16"),a.adProxy.setTimePoint("p21"),e}))},YS=function(e,t,i=[]){var a,n,o=oI(this),r={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:iI,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:O,isAndroid:R,adNetworkType:e.networkType},s={weappEnterScene:e.scene,requestType:2,preloadAds:i};null!==(a=o.showInfo)&&void 0!==a&&a.hotStartABTestInfo&&(s.weappExptCtx=[null===(n=o.showInfo)||void 0===n?void 0:n.hotStartABTestInfo]);return o.adProxy.setTimePoint("p15"),o.adProxy.setTimePoint("p22"),S.onReady((()=>{setTimeout((()=>{o.adProxy.reportAdMonitorData(ga.ONLINE_AD_BEGIN,{fetchType:o.fetchType,localSelect:o.localSelectSuccess}),o.adProxy.reportAdMonitorData(ga.START_CHECK_AD_STATUS)}),VI)})),_S.call(this,r,s).then((e=>{if(S.onReady((()=>{setTimeout((()=>{o.adProxy.reportAdMonitorData(ga.ONLINE_AD_SUCCESS,{fetchType:o.fetchType,localSelect:o.localSelectSuccess}),o.adProxy.reportAdMonitorData(ga.CHECK_AD_STATUS_SUCCESS),null!=e&&e.aid&&o.adProxy.reportAdMonitorData(ga.ONLINE_AD_RESULT_SUCCESS,{fetchType:o.fetchType,localSelect:o.localSelectSuccess})}),VI)})),o.adProxy.setTimePoint("p23"),o.adProxy.setTimePoint("p16"),"fetch"!==o.adProxy.lastAdRespone||null==e||!e.aid)return{aid:0,isRealtime:!1,source:FI};return o.fetchSource||(o.data=e,o.adProxy.data=e),{aid:e.aid,isRealtime:!0,source:FI}})).catch((e=>{throw o.adProxy.reportAdMonitorData(ga.ONLINE_AD_FAIL,e),o.adProxy.setTimePoint("p23"),o.adProxy.setTimePoint("p16"),e}))},qS=function(){var e=b()((function*(e){var t,i,a,n,o=oI(this);S.onReady((()=>{o.adProxy.reportAdMonitorData(ga.LOCAL_SELECT_BEGIN)}));var r=null===(t=o.adInfos)||void 0===t?void 0:t.localBlacklistExtBackComm,s=`${sa}/adSceneCache.txt`,l={};try{var d=Ee(s,"utf-8");l=JSON.parse(d),S.onReady((()=>{o.adProxy.reportAdMonitorData(ga.SCENE_CACHE_READ_SUCCESS,l)}))}catch(e){S.onReady((()=>{o.adProxy.reportAdMonitorData(ga.SCENE_CACHE_READ_FAIL,e)}))}var c=l[o.showInfo.appId];if(c&&Date.now()-c.lastSaveTime<6048e5&&!c.scene.includes(o.showInfo.scene))throw S.onReady((()=>{o.adProxy.reportAdMonitorData(ga.SCENE_CACHE_NOT_SHOW)})),"SCENE_NOT_ALLOW";if(Array.isArray(r)&&r.includes(o.showInfo.appId))throw S.onReady((()=>{o.adProxy.reportAdMonitorData(ga.LOCAL_SELECT_BLACK_LIST)})),"BLACK_LIST";var p=null===(i=o.adInfos)||void 0===i?void 0:i.localBlackList;if(""!==p&&p.includes(o.showInfo.appId))throw S.onReady((()=>{o.adProxy.reportAdMonitorData(ga.LOCAL_SELECT_BLACK_LIST)})),"BLACK_LIST";var u=yield eS.call(this);u.length>0&&o.adInfos.ads.some((e=>u.includes(Number(null==e?void 0:e.aid))))&&(o.adInfos.ads=o.adInfos.ads.filter((e=>!u.includes(Number(e.aid)))),S.onReady((()=>{o.adProxy.reportAdMonitorData(ga.OFFLINE_AD)})));var h=this.getLocalSelectAid.call(this),g=null!==(a=null===(n=o.adInfos)||void 0===n?void 0:n.localSelectExpire)&&void 0!==a?a:1;if(h&&!ZS.call(this,g)){try{this.checkLocalAdFile(h)}catch(e){throw S.onReady((()=>{o.adProxy.reportAdMonitorData(ga.LOCAL_SELECT_NO_FILE,e)})),e}if(S.onReady((()=>{o.adProxy.reportAdMonitorData(ga.LOCAL_SELECT_SUCCESS)})),o.adInfos.newTimeout){wI=6e4;var f={startInit:o.adProxy.getTimePoint("p14")};o.adProxy.setTimePoint("p17"),he({showMenu:!0,show:!0,errCode:bI+wI,adCallTime:o.adProxy.getTimePoint("p17"),eventReceivedTime:f.startInit,success:()=>{o.showSplashAdStatus="success",S.onReady((()=>{o.adProxy.reportAdMonitorData(ga.launchShowSplashAdSuccess),o.adProxy.reportAdMonitorData(ga.SHOW_AD_BY_PRELOAD)}))},fail:e=>{o.showSplashAdStatus="fail",S.onReady((()=>{o.adProxy.reportAdMonitorData(ga.SHOW_AD_BY_PRELOAD_FAIL,{adInfos:o.adInfos,msg:e})}))}})}return o.localSelectSuccess=!0,{aid:h,source:GI}}throw S.onReady((()=>{o.adProxy.reportAdMonitorData(h?ga.LOCAL_SELECT_NO_AID:ga.LOCAL_SELECT_OUTDATE)})),"NO_AID"}));return function(t){return e.apply(this,arguments)}}(),KS=function(e){var t=oI(this);for(var i of(t.adDatas={},e))try{var a=`${sa}/${i.aid}.txt`,n=Ee(a,"utf-8"),o=JSON.parse(n);t.adDatas[i.aid]=o}catch{}},ZS=function(e){var t,i=24*e*3600*1e3,a=(null===(t=oI(this).adInfos)||void 0===t?void 0:t.lastSaveTime)||0;return!!a&&Date.now()-a>=i},XS=function(e){var t,i,a,n,o=oI(this),r={dest:1};("video"===e&&(r.showPoster=!0),o.showExtend&&(r.independent=!0),"video"===e&&null!==(t=o.data)&&void 0!==t&&null!==(i=t.condition)&&void 0!==i&&i.widget_gray_splashad_video_buffer_duration)&&(r.bufferDuration=null===(a=o.data)||void 0===a||null===(n=a.condition)||void 0===n?void 0:n.widget_gray_splashad_video_buffer_duration);return r};class JS extends nI{constructor(){super(),this.twoTimeoutRejectPromise=(e,t,i)=>{var a=oI(this);return Promise.race([e,new Promise(((e,n)=>{setTimeout((()=>{a.localSelectSuccess||n(Oe)}),t),setTimeout((()=>{a.localSelectSuccess&&n(Oe)}),i)}))])};var e=oI(this);e.canShowed=!1,e.today=$(),e.countTimer=null,e.componentsRenderred=!1,e.isShowed=!1,e.firstInserted=!1,e.adFeedbackInserted=!1,e.isDynamic=!1,e.isShowedExposureReported=!1,e.startExposureTime=0,e.isViewableExposureReported=!1,e.clickCount=0,e.lastLandingTime=0,e.lastJsapiName="",e.lastJsapiStatus=0,e.lastJsapiCostTime=0,e.isLandingPage=!1,e.landingPageCostTime=0,e.hideTime=0,e.hideDuration=0,e.showSplashAdStatus="unknown",e.localSelectSuccess=!1,e.fetchType="",e.isClosing=!1,e.isClosed=!1,e.isShowCloseTip=!1,e.clickFirstGradeTime=0,e.videoStopType=Yg,e.eventsMap={},e.source="",e.fetchSource="",e.crtOrientation="portrait",e.adType="splashAd",e.adProxy=new HA({adUnitId:"",adType:e.adType}),e.dynamicElems={},e.dynamicEmitter=null,e.tplComponent=null,e.adFileCheckResult={},e.isSplashadExtendShow=!1,e.isMulti=!1,v("onSplashAdButtonClicked",(t=>{"close"===t.buttonType&&"launch"===t.source?(nS.call(this,10),hS.call(this,["countTimer"]),cS.call(this,{},!0,YI)):"close"===t.buttonType&&"menu"===t.source?nS.call(this,14):"back"!==t.buttonType||"menu"!==t.source||e.isLandingPage?"menu"===t.buttonType&&oS.call(this,1):nS.call(this,15)})),function(e){v("onSplashAdWillLayout",e)}((t=>{if(t.menuViewFrame&&("launch"===t.source?(_I=t.menuViewFrame.y||0,e.dynamicEmitter&&e.isDynamic&&e.tplComponent&&_I&&e.tplComponent.emitComponentEvent(Xt,{countdownTop:_I})):"menu"===t.source&&(vI=t.menuViewFrame.height||0,e.dynamicEmitter&&e.isDynamic&&e.tplComponent&&vI&&e.tplComponent.emitComponentEvent(Xt,{navHeight:vI,menuHeight:172-vI})),O&&e.firstInserted&&!e.adFeedbackInserted))try{FS.call(this)}catch(t){S.onReady((()=>{e.adProxy.reportAdMonitorData(ga.iosThirdInsertFail,{source:e.source,msg:t})}))}})),function(e){v("onSplashAdShow",e)}((()=>{e.adProxy.setTimePoint("p5"),"launch"!==e.source||e.isDynamic||(HS.call(this),wS.call(this)),WS.call(this),VS.call(this),e.hideTime>0&&(e.hideDuration=+new Date-e.hideTime),e.isShowedExposureReported||dS.call(this),"launch"!==e.source||e.countTimer||e.showExtend||bS.call(this),e.isLandingPage&&(e.isLandingPage=!1)})),function(e){v("onSplashAdHide",e)}((()=>{e.hideTime=+new Date,hS.call(this,["countTimer"]),e.countTimer=null})),function(e){v("onSplashAdClose",e)}((()=>{var t,i,a,n,o;CI||(CI=!0),O&&e.startExposureTime>0&&+new Date-e.startExposureTime>1e3&&dS.call(this,!0);try{e.countTimer||e.adProxy.reportAdMonitorData(ga.CLOSE_COUNTDOWN_FAIL);var r=ga.CLOSE_SHOWAD_UNKNOWN;"success"===e.showSplashAdStatus?r=ga.CLOSE_SHOWAD_SUCCESS:"fail"===e.showSplashAdStatus&&(r=ga.CLOSE_SHOWAD_FAIL),"launch"===e.source&&e.adProxy.reportAdMonitorData(r)}catch(e){}vS.call(this);var{showInfo:s}=e,l=null==e||null===(t=e.data)||void 0===t?void 0:t.adDynamicList;null!=e&&null!==(i=e.data)&&void 0!==i&&i.template&&(l=e.data.template);var d=null===(a=l)||void 0===a||null===(n=a.options)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.useExtendShow;if(!e.showExtend&&12===e.closeType&&d&&O)return e.showExtend=!0,TS.call(this),this.showDetailV2(s)}))}otherAdsEmitFetch(){ES.call(this)}show(e){var t=this;return b()((function*(){var i;AI=!0;var a=oI(t);if("false"===(null==e?void 0:e.isShowSplashAd))return S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.PATH_NOT_SHOW,null==e?void 0:e.isShowSplashAd)})),jS.call(t,e,{},{},"PATH_NOT_SHOW");if(a.adProxy.instanceId=e.instanceId,a.adProxy.showInfo=e,a.showInfo=e,!L&&(R&&(S.clientVersion>=671095864&&S.clientVersion<=671095903||S.clientVersion>=671096064)||O&&S.clientVersion>=402660898))try{cI({experimentType:"opConfig",success:e=>{var t,i,n;null==e||null===(t=e.opConfig)||void 0===t||null===(i=t.expt_info)||void 0===i||null===(n=i.expt_param_list)||void 0===n||n.forEach((e=>{var t,i;((null==e?void 0:e.param_name)===LI||null!=e&&null!==(t=e.param_name)&&void 0!==t&&t.startsWith("wx_wxapp_expt")||null!=e&&null!==(i=e.param_name)&&void 0!==i&&i.startsWith("wx_wxapp_expt_ad"))&&(S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.GET_WETEST_CONFIG_SUCCESS,{key:null==e?void 0:e.param_name,value:null==e?void 0:e.param_value})})),"1"===(null==e?void 0:e.param_value)&&(NI=!0),"0"===(null==e?void 0:e.param_value)&&(NI=!1))}))},fail:e=>{a.adProxy.reportAdMonitorData(ga.GET_WETEST_CONFIG_FAIL,e)}})}catch(e){a.adProxy.reportAdMonitorData(ga.GET_WETEST_CONFIG_FAIL,e)}a.adProxy.scene=e.scene,a.adProxy.setTimePoint("p14");var n=a.adProxy.getTimePoint("p14");if(S.onReady((()=>{setTimeout((()=>{var t="launch"===e.source?ga.launchAcceptShouldShow:ga.menuAcceptShouldShow;a.adProxy.reportAdMonitorData(t)}),VI);var t=sI([LI]);"0"===t[LI]&&(NI=!1),"1"===t[LI]&&a.adProxy.reportAdMonitorData(ga.EXP_SHOW)})),"launch"!==e.source)return TS.call(t),t.showDetailV2(e);if(R&&S.clientVersion>=671092224&&S.clientVersion<=671092533)setTimeout((()=>{a.adFetchResult=_S.call(t).catch((()=>{}))}),3e3);else{var o,r,s={weappEnterScene:e.scene},l={};if(null!==(o=a.showInfo)&&void 0!==o&&o.hotStartABTestInfo)s.weappExptCtx=[null===(r=a.showInfo)||void 0===r?void 0:r.hotStartABTestInfo];S.onReady((()=>{setTimeout((()=>{a.adFetchResult=_S.call(t,l,s).then((()=>BS.call(t))).catch((()=>{}))}),3e3)}))}var d={};try{if(L)throw new Error("not support");var c=Ee(WI,"utf-8");d.adInfos=c||{},a.adInfos=JSON.parse(c)}catch(e){a.adInfos={},d.errMsg=a.adProxy.processStackMsg(e),d.fileName=WI}var p=()=>{var e;if(O)return a.adInfos.optimizationV1IOSTimeout||850;var{envPreloadType:t}=S,i=1500;0===t&&R&&(i=3e3);var{instanceId:n}=a.showInfo,o=null==n||null===(e=n.split("_"))||void 0===e?void 0:e[1];return o?i-(Date.now()-o)-120:i-300},u=(null===(i=a.adInfos)||void 0===i?void 0:i.outedDateIntervals)||7;if(0===Object.keys(a.adInfos).length||ZS.call(t,u)||L)wI=1e4,bI=va.NO_ADINFOS,a.fetchType=XI,a.fetchSource=FI,a.adProxy.fetchSource=$I[FI],S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.FETCH_BEGIN,{fetchType:a.fetchType})})),t.showAdByRealtimeFetch(e,n),TS.call(t);else{a.adProxy.splashExpCondition=a.adInfos.expCondition,a.fetchType=JI;var h=a.adInfos.ads||[];2===a.showInfo.displayMode?KS.call(t,h):setTimeout((()=>KS.call(t,h)),50),wI=5e4;var g=R?1500:1e3,f=R?1200:900,m=g-(Date.now()-n)-150;a.adInfos.onlineFetchTimeout&&(f=m=g-(Date.now()-n)-a.adInfos.onlineFetchTimeout);var y,v,_=!1,E=p.call(t);m=E,f=E,E<400&&(_=!0),2===a.showInfo.displayMode&&(_=!0),_||(y=YS.call(t,e,n)),_||(v=$S.call(t,e)),S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.FETCH_BEGIN,{fetchType:a.fetchType})}));var x=Me(v,m).catch((e=>{throw e===Oe&&S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.CHECK_AD_TIMEOUT,{localSelect:a.localSelectSuccess})})),e})),b=Me(y,f).catch((e=>{throw e===Oe&&S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.ONLINE_AD_TIMEOUT,{localSelect:a.localSelectSuccess})})),e}));if(a.adInfos.newTimeout){var w=p.call(t);x=t.twoTimeoutRejectPromise(v,m,w).catch((e=>{throw e===Oe&&S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.CHECK_AD_TIMEOUT)})),e})),b=t.twoTimeoutRejectPromise(y,m,w).catch((e=>{throw e===Oe&&S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.ONLINE_AD_TIMEOUT)})),e}))}var T=[];T.push(b),T.push(x);var C,A="none"!==e.networkType;(A||_)&&(C=qS.call(t,n),T.push(C));var P=kS(T);A&&_&&(P=C),TS.call(t),a.adInfos.ads.forEach((e=>{var{aid:i}=e;try{t.checkLocalAdFile(i,!1),a.adFileCheckResult[i]=!0}catch(e){a.adFileCheckResult[i]=!1}})),yield P.then((i=>{S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.FETCH_SUCCESS,{...i,localSelect:a.localSelectSuccess})})),a.fetchSource=i.source,a.adProxy.fetchSource=$I[i.source],wI=jI[i.source],t.showDetailV2(e,i,i.source)})).catch((i=>{var n={startInit:a.adProxy.getTimePoint("p14"),startFetchTime:a.adProxy.getTimePoint("p15"),fetchCallbackTime:a.adProxy.getTimePoint("p16")};return jS.call(t,e,{adInfos:a.adInfos,checkAdStatus:i},n,"NO_AID")}))}try{var I,k=(null===(I=a.adInfos)||void 0===I?void 0:I.deviceInfo)||{};a.adProxy.setDeviceInfo(k)}catch(e){}}))()}showAdByRealtimeFetch(e,t,i=[]){var a,n,o=oI(this),r={gameAppId:e.appId,deviceOrientation:e.screenHeight>e.screenWidth?"portrait":"landscape",screenWidth:e.screenWidth,screenHeight:e.screenHeight,systemVersion:e.osVersion,wechatVersion:e.weixinVersion,SDKVersion:iI,envVersion:e.osVersion,model:e.model,platform:e.osType,isWaGame:e.isGame,isIOS:O,isAndroid:R,adNetworkType:e.networkType},s={weappEnterScene:e.scene,requestType:2,preloadAds:i};null!==(a=o.showInfo)&&void 0!==a&&a.hotStartABTestInfo&&(s.weappExptCtx=[null===(n=o.showInfo)||void 0===n?void 0:n.hotStartABTestInfo]);return o.adProxy.setTimePoint("p15"),S.onReady((()=>{setTimeout((()=>{o.adProxy.reportAdMonitorData(ga.ONLINE_AD_BEGIN,{fetchType:o.fetchType}),o.adProxy.reportAdMonitorData(ga.START_CHECK_AD_STATUS)}),VI)})),_S.call(this,r,s).then((t=>{S.onReady((()=>{setTimeout((()=>{o.adProxy.reportAdMonitorData(ga.ONLINE_AD_SUCCESS,{fetchType:o.fetchType}),o.adProxy.reportAdMonitorData(ga.CHECK_AD_STATUS_SUCCESS),null!=t&&t.aid&&o.adProxy.reportAdMonitorData(ga.ONLINE_AD_RESULT_SUCCESS,{fetchType:o.fetchType})}),VI)})),o.adProxy.setTimePoint("p16"),"fetch"===o.adProxy.lastAdRespone&&(o.isCheckAdRequest=!1,o.data=t,o.adProxy.data=t,wI=1e4===wI?1e4:3e4),S.onReady((()=>{var e=Number(t.aid);0!==e&&o.adProxy.reportAdMonitorData(ga.FETCH_SUCCESS,{aid:e,source:FI})})),this.showDetailV2(e,{aid:Number(t.aid)},FI)})).catch((i=>(o.adProxy.setTimePoint("p16"),o.adProxy.reportAdMonitorData(ga.ONLINE_AD_FAIL),jS.call(this,e,{msg:i},{startInit:t},"CHECK_AD_STATUS_ERROR"))))}getLocalSelectAid(){var e,t,i,a=null===(e=oI(this).adInfos)||void 0===e||null===(t=e.ads)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.aid;return!(!a||0===Number(a))&&Number(a)}checkLocalAdFile(e,t=!0){var i,a,n,o=oI(this),r=[],s=e?null==o||null===(i=o.adInfos)||void 0===i?void 0:i.materialHashMap[e]:"",l=`${sa}/${e}.txt`;if(r.push(l),t)if(ZI.includes(null==o||null===(a=o.adInfos)||void 0===a||null===(n=a.crtSize)||void 0===n?void 0:n[e]))II=`${sa}/${e}_${s}.mp4`,SI=`${sa}/${e}_${s}_thumb.png`,r.push(II),r.push(SI);else{var d=`${sa}/${e}_${s}.png`;r.push(d)}r.forEach((e=>{be(e)}))}callShowSplashAd({aid:e,reportTimer:t,source:i}){var a=oI(this);"pending"!==a.showSplashAdStatus&&(a.showSplashAdStatus="pending",he({showMenu:!0,show:!0,errCode:bI+wI,adCallTime:a.adProxy.getTimePoint("p17"),eventReceivedTime:t.startInit,cgiFetchStart:t.startFetchTime,cgiFetchCallBack:t.fetchCallbackTime,success:()=>{a.showSplashAdStatus="success",a.adProxy.setTimePoint("p18"),S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.launchShowSplashAdSuccess),a.adProxy.reportAdMonitorData(zI[i],{fetchType:a.fetchType})}))},fail:t=>{a.showSplashAdStatus="fail",a.adProxy.setTimePoint("p18"),S.onReady((()=>{a.adProxy.reportAdMonitorData(ga.showSplashAdFail,{adInfos:a.adInfos,checkAdStatus:e,msg:t})})),vS.call(this)}}))}setMaterialSouce({source:e,aid:t}){var i,a,n,o,r,s,l,d,c,p,u,h,g,f,m=oI(this),y=t?null==m||null===(i=m.adInfos)||void 0===i||null===(a=i.materialHashMap)||void 0===a?void 0:a[t]:"",v=xS.call(this),_=(null===(n=m.data.crtInfo)||void 0===n?void 0:n.length)||1;switch(e){case HI:case GI:kI=`${sa}/${t}.txt`,PI=`${sa}/${t}_${y}.png`,MI=Array.from({length:_},((e,i)=>`${sa}/${t}_${y}_${i}.png`)),II=`${sa}/${t}_${y}.mp4`,SI=`${sa}/${t}_${y}_thumb.png`,DI=`${sa}/${t}_${y}_pure_color.png`,RI=`${sa}/${t}_${y}_blur.png`;break;case FI:PI=null===(o=m.data)||void 0===o||null===(r=o.crtInfo)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.image_url,MI=Array.from({length:_},((e,t)=>{var i,a,n;return null===(i=m.data)||void 0===i||null===(a=i.crtInfo)||void 0===a||null===(n=a[t])||void 0===n?void 0:n.image_url})),DI=v.pure_color_url,II=null===(l=m.data)||void 0===l||null===(d=l.crtInfo)||void 0===d||null===(c=d[0])||void 0===c||null===(p=c.short_video)||void 0===p?void 0:p.video_url,SI=null===(u=m.data)||void 0===u||null===(h=u.crtInfo)||void 0===h||null===(g=h[0])||void 0===g||null===(f=g.short_video)||void 0===f?void 0:f.thumb_url,RI=v.material_blur_url;break;default:kI=`${sa}/${t}.txt`,PI=`${sa}/${t}_${y}.png`,MI=Array.from({length:_},((e,i)=>`${sa}/${t}_${y}_${i}.png`)),DI=`${sa}/${t}_${y}_pure_color.png`,RI=`${sa}/${t}_${y}_blur.png`}}showDetailV2(e,t={aid:0},i){var a,n,o,r=oI(this),s={startInit:r.adProxy.getTimePoint("p14"),startFetchTime:r.adProxy.getTimePoint("p15"),fetchCallbackTime:r.adProxy.getTimePoint("p16")};if(!NI)return jS.call(this,e,{adInfos:r.adInfos,checkAdStatus:t},s,"EXP_NOT_SHOW");var{aid:l}=t;if(!("launch"!==e.source||l&&0!==Number(l)||r.showExtend))return jS.call(this,e,{adInfos:r.adInfos,checkAdStatus:t},s,"NO_AID");switch("success"===r.showSplashAdStatus||"menu"===e.source||r.showExtend||this.callShowSplashAd({aid:null==t?void 0:t.aid,reportTimer:s,source:i}),"menu"===e.source&&oS.call(this,2),i){case GI:if(!l||null==r||null===(a=r.adDatas)||void 0===a||!a[l])return jS.call(this,e,{adInfos:r.adInfos,checkAdStatus:t},s,"MATERIAL_NOT_READY");r.data=r.adDatas[l],r.adProxy.data=r.adDatas[l],this.setMaterialSouce({source:i,aid:l});break;case HI:if(!(l&&null!=r&&null!==(n=r.adDatas)&&void 0!==n&&n[l]&&null!==(o=r.adFileCheckResult)&&void 0!==o&&o[l]))return jS.call(this,e,{adInfos:r.adInfos,checkAdStatus:t},s,"MATERIAL_NOT_READY");r.data=r.adDatas[l],r.adProxy.data=r.adDatas[l],this.setMaterialSouce({source:i,aid:l});break;case FI:this.setMaterialSouce({source:i,aid:l})}r.adProxy.setTimePoint("p17");try{var d,c,p;r.adProxy.setTimePoint("p4"),zS.call(this,e),1===(null==r||null===(d=r.data)||void 0===d||null===(c=d.condition)||void 0===c?void 0:c.widget_gray_splashad_extend_show)&&(r.isSplashadExtendShow=!0);var u=gS.call(this),h=zg(null===(p=r.data)||void 0===p?void 0:p.crt_size);r.isSplashadExtendShow&&u&&!h&&(worker.postMessage({type:"splashAdCreateExtend",adData:r.data}),r.adProxy.reportAdMonitorData(ga.WORKER_CALL_EXTEND_CREATE))}catch(t){yS.call(this,{source:e.source,animated:!1},19),fS.call(this),S.onReady((()=>{r.adProxy.reportAdMonitorData(ga.firstRenderFail,{adInfos:r.adInfos,source:e.source,msg:t})}))}}}var QS=new KP,ek="SHOW_REWARD",tk="HIDE_REWARD",ik={banner:"SHOW_BANNER",rewardedVideoAd:ek,grid:"SHOW_GRID",customAd:"SHOW_CUSTOMAD"},ak={banner:"HIDE_BANNER",rewardedVideoAd:tk,grid:"HIDE_GRID",customAd:"HIDE_CUSTOMAD"};class nk{constructor({adUnitId:e,adType:t="banner"}){this.adUnitId=e,this.adType=t}show(){var e=ik[this.adType];e&&QS.emit(e,{adUnitId:this.adUnitId})}hide(){var e=ak[this.adType];e&&QS.emit(e,{adUnitId:this.adUnitId})}on(e,t){QS.on(e,(e=>{e.adUnitId!==this.adUnitId&&t(e)}))}}var ok={},rk=function(e,t,i){ok.hasOwnProperty(e)||(ok[e]={}),ok[e][t]=i},sk=function(e,t){if(ok.hasOwnProperty(e))return ok[e][t]},lk={expandCardHeadline:{flexDirection:"row"},expandCardAppIcon:{borderRadius:3,marginTop:2,width:24,height:24,position:"absolute"},expandCardWordingWrapper:{marginBottom:48,height:72},expandCardAppName:{fontSize:17,fontWeight:300,position:"relative",left:16,marginTop:0,opacity:.8},expandCardAppWording:{marginTop:16,fontSize:20,fontWeight:500,opacity:1},expandCardAppRankImg:{width:20,height:20},expandCardAppRankText:{marginLeft:8,color:"#FA9D3B",fontSize:12,lineHeight:24}},dk={expandCardHeadline:{flexDirection:"column"},expandCardAppIcon:{borderRadius:8,width:64,height:64,marginTop:0,position:null},expandCardWordingWrapper:{height:144,marginBottom:24},expandCardAppName:{fontSize:20,marginTop:20,fontWeight:500,opacity:1,left:0,position:null},expandCardAppWording:{marginTop:4,fontWeight:300,opacity:.8,fontSize:17}},ck={defaultPageHeadline:{flexDirection:"row"},defaultPageAppIcon:{borderRadius:3,marginTop:2,width:24,height:24,position:"absolute"},defaultPageWordingWrapper:{marginBottom:48,height:72},defaultPageAppName:{fontSize:17,fontWeight:300,position:"relative",left:16,marginTop:0,opacity:.8},defaultPageAppWording:{marginTop:16,fontSize:20,fontWeight:500,opacity:1}},pk={defaultPageHeadline:{flexDirection:"column"},defaultPageAppIcon:{borderRadius:8,width:64,height:64,marginTop:0,position:null},defaultPageWordingWrapper:{height:144,marginBottom:24},defaultPageAppName:{fontSize:20,marginTop:20,fontWeight:500,opacity:1,left:0,position:null},defaultPageAppWording:{marginTop:4,opacity:.8,fontSize:17,fontWeight:300}},uk={defaultPageContainer:{hidden:!0,top:0,position:"absolute",backgroundColor:"#000000"},defaultPageBackgroundContainer:{position:"absolute"},defaultPageBackgroundMask:{position:"absolute",left:0,top:0,backgroundColor:"#000000",opacity:.6},defaultPageBackgroundImage:{position:"absolute",left:0,top:0},defaultPageInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},defaultPageHeadline:{flexDirection:"column",alignItems:"center",justifyContent:"center"},defaultPageWordingWrapper:{flexDirection:"column",alignItems:"center",justifyContent:"center",width:300,height:144,marginBottom:24},defaultPageAppIcon:{borderRadius:8,width:64,height:64,left:0,marginTop:0},defaultPageAppName:{width:300,textAlign:"center",height:28,lineHeight:28,fontSize:20,marginTop:20,fontWeight:500,color:"#ffffff",opacity:1,left:0},defaultPageAppWording:{marginTop:4,width:300,height:28,textAlign:"center",lineBreak:"ellipsis",lineHeight:28,opacity:.8,color:"#ffffff",fontSize:17,fontWeight:300},defaultPageAppConversion:{hidden:!0,width:300,height:24,textAlign:"center",lineHeight:24,color:"#ffffff",opacity:.5,fontSize:14},defaultPageButtonIcon:{hidden:!0,height:16,width:16,marginRight:2},defaultPageButton:{fontSize:17,height:40,lineHeight:40,textAlign:"center",fontWeight:500,color:"#ffffff"},defaultPageButtonContainer:{flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:16,width:184,height:40,lineHeight:40,textAlign:"center",fontSize:17,fontWeight:500,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:8},defaultPageGuide:{position:"absolute",justifyContent:"flex-start",alignItems:"center",left:-2e4,top:-2e4,width:96,height:96},defaultPageEllipse:{position:"absolute",width:28,height:28,scaleWidth:.8,scaleHeight:.8,left:28,top:0},defaultPageFinger:{marginTop:3.5,marginBottom:8.69,width:44,height:57.73},defaultPageGuideText:{color:"#ffffff",alignSelf:"stretch",opacity:.8,fontSize:16,lineHeight:24,height:24,fontWeight:500},defaultPageSlideTipsContainer:{hidden:!0,position:"absolute",bottom:44,alignItems:"center",justifyContent:"center"},defaultPageSlideTipsClickArea:{width:100,height:44,alignItems:"center"},defaultPageSlideTips:{width:100,textAlign:"center",color:"#ffffff",fontSize:12,height:16,lineHeight:16},defaultPageSlideIcon:{marginTop:8,width:20,height:20,rotate:180},defaultPageRanking:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:164,height:24,marginTop:14},defaultPageRankingImg:{height:20,width:20},defaultPageRankingInfo:{marginLeft:8,color:"#FA9D3B",fontSize:14,lineHeight:24,width:136,height:24},defaultPageScore:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:222,marginTop:16,height:24},defaultPageScoreTitle:{color:"#10AEFF",fontSize:14,lineHeight:24,width:70,height:24},defaultPageScoreImg1:{height:13,marginLeft:12,width:13},defaultPageScoreImg2:{height:13,width:13,marginLeft:1},defaultPageScoreImg3:{height:13,width:13,marginLeft:1},defaultPageScoreImg4:{height:13,width:13,marginLeft:1},defaultPageScoreImg5:{height:13,width:13,marginLeft:1},defaultPageScoreNum:{marginLeft:8,color:"#10AEFF",fontSize:14,lineHeight:24,width:35,height:24}},hk={animationCardContainer:{hidden:!0,top:0,position:"absolute"},animationCardInfoContainer:{top:0,flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},animationCardHeadline:{flexDirection:"column",alignItems:"center",justifyContent:"center"},animationCardWordingWrapper:{flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:300,height:206},animationCardAppIcon:{backgroundColor:"#fffffff",borderWidth:.5,borderColor:"#ffffff",borderRadius:8,width:48,height:48,left:0,marginTop:0},animationCardAppName:{width:300,textAlign:"center",height:24,lineHeight:24,fontSize:18,marginTop:16,fontWeight:500,color:"#ffffff",opacity:1,left:0},animationCardAppWording:{marginTop:6,marginBottom:28,width:300,height:28,textAlign:"center",lineBreak:"ellipsis",lineHeight:28,opacity:.8,color:"#ffffff",fontSize:16,fontWeight:400},animationCardAppConversion:{hidden:!0,marginTop:8,width:300,height:24,textAlign:"center",lineHeight:24,color:"#ffffff",opacity:.5,fontSize:14},animationCardButton:{width:184,height:40,lineHeight:40,textAlign:"center",fontSize:17,fontWeight:500,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:8},animationCardRanking:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:164,height:24,marginBottom:20},animationCardRankingImg:{height:20,width:20},animationCardRankingInfo:{marginLeft:8,color:"#FA9D3B",fontSize:14,lineHeight:24,width:136,height:24},animationCardScore:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:222,marginBottom:20,height:24},animationCardScoreTitle:{color:"#10AEFF",fontSize:14,lineHeight:24,width:70,height:24},animationCardScoreImg1:{height:13,marginLeft:12,width:13},animationCardScoreImg2:{height:13,width:13,marginLeft:1},animationCardScoreImg3:{height:13,width:13,marginLeft:1},animationCardScoreImg4:{height:13,width:13,marginLeft:1},animationCardScoreImg5:{height:13,width:13,marginLeft:1},animationCardScoreNum:{marginLeft:8,color:"#10AEFF",fontSize:14,lineHeight:24,width:35,height:24}},gk={width:375,height:375},fk={hidden:!0,backgroundColor:"rgba(255, 255, 255, 0.3)",width:6,height:6,borderRadius:3,borderWidth:1,marginLeft:2,marginRight:2},mk={slideshowContainer:{hidden:!0,width:375,height:375,position:"absolute",flexDirection:"column",alignItems:"center",justifyContent:"center"},slideshowImgMask:{position:"absolute",top:0,left:0,right:0,width:375,height:375,overflow:"hidden",backgroundColor:"rgba(0,0,0,0)",zIndex:2},slideshowImgWindow:{position:"absolute",top:0,left:0,right:0,width:375,height:375,backgroundColor:"rgba(0,0,0,0)",overflow:"hidden",zIndex:1},slideshowImgContainer:{position:"absolute",left:0,right:0,width:375,height:375,flexDirection:"row"},slideshowImg0:{...gk},slideshowImg1:{...gk},slideshowImg2:{...gk},slideshowImg3:{...gk},slideshowImg4:{...gk},slideshowImg5:{...gk},slideshowImg6:{...gk},slideshowImg7:{...gk},slideshowImgDotContainer:{position:"absolute",display:"flex",left:0,right:0,width:375,height:6,alignItems:"center",justifyContent:"center",flexDirection:"row",zIndex:2e3},slideshowImgDot0:{...fk,backgroundColor:"#ffffff"},slideshowImgDot1:{...fk},slideshowImgDot2:{...fk},slideshowImgDot3:{...fk},slideshowImgDot4:{...fk},slideshowImgDot5:{...fk}},yk={topBar:{zIndex:pf.TopBar,position:"absolute",justifyContent:"space-between",flexDirection:"row",alignItems:"flex-start",left:0,top:16,"ios-portrait":{top:12},"ios-landscape":{top:10},"iphone x-portrait":{top:44},"iphone x-landscape":{top:10}},barLeft:{flexWrap:"nowrap"},count:{marginLeft:10,paddingLeft:12.5,paddingRight:12.5,height:32,borderRadius:16,borderWidth:.5,justifyContent:"center",flex:1,flexDirection:"row",alignItems:"center"},leftTimeIcon:{width:16,height:16,marginRight:6,hidden:!0},countDownPrepend:{height:32,lineHeight:32,fontSize:14,textAlign:"left",width:29},countDown:{width:33.5,height:32,lineHeight:32,fontSize:14,textAlign:"center"},countDownAppend:{height:32,lineHeight:32,fontSize:14},barCenter:{position:"absolute",top:0,left:0,height:32,flexDirection:"row",alignItems:"center",width:186,justifyContent:"space-between",hidden:!0},timeIcon:{width:16,height:16},centerCountDown:{flexDirection:"row"},centerCountDownLeftText:{width:70,fontSize:14,lineHeight:20,height:20,color:"#FFFFFF"},centerCountDownNumber:{width:24,fontSize:14,lineHeight:20,height:20,textAlign:"center",color:"#FFFFFF"},centerCountDownRightText:{width:70,fontSize:14,lineHeight:20,height:20,color:"#FFFFFF"},centerCountDownFinish:{hidden:!0,width:70,fontSize:14,lineHeight:20,height:20,color:"#FFFFFF"},barRight:{marginRight:10,paddingLeft:12,paddingRight:12,height:32,borderRadius:16,borderWidth:.5,flexDirection:"row",alignItems:"center"},close:{width:29,height:32,lineHeight:32,fontSize:14},splitLine:{width:1,height:18.5,marginLeft:8,marginRight:8},sound:{width:20,height:20},adFeedback:{hidden:!0,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",height:32,lineHeight:32},adText:{width:28,height:32,lineHeight:32,textAlign:"center",fontSize:14,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5}},rectangle:{width:12,height:12,marginLeft:2},rectangleLight:{width:12,height:12,marginLeft:2},splitLineLeft:{width:1,height:18.5,marginLeft:10,marginRight:10},adFeedbackList:{hidden:!0,top:50,left:11,width:134,height:98,position:"absolute",zIndex:pf.AdFeedbackList,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff","ios-portrait":{top:46},"ios-landscape":{top:44},"iphone x-portrait":{top:78},"iphone x-landscape":{top:44}},adFeedbackTitle:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:50,left:11,width:134,height:98,position:"absolute",zIndex:pf.AdFeedbackMenu,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff","ios-portrait":{top:46},"ios-landscape":{top:44},"iphone x-portrait":{top:78},"iphone x-landscape":{top:44}},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,height:1,backgroundColor:"#E0E0E0"}},vk={slideTipsContainer:{hidden:!0,position:"absolute",opacity:0,bottom:40,alignItems:"center",justifyContent:"center"},slideTipsMask:{height:136,position:"absolute",bottom:0},slideTipsClickArea:{width:100,height:44,alignItems:"center"},slideTips:{width:100,textAlign:"center",color:"#ffffff",fontSize:12,height:16,lineHeight:16},slideIcon:{marginTop:8,width:20,height:20,rotate:180},landscapeSlideTipsContainer:{hidden:!0,opacity:0,alignSelf:"flex-end",marginRight:40,width:90,height:36,zIndex:pf.LandscapeSlideTipsContainer,flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},landscapeSlideTipsMask:{hidden:!0,width:220,position:"absolute",top:0,right:40},landscapeSlideTipsGroup:{width:60,height:36,flexDirection:"column",justifyContent:"center"},landscapeSlideTips1:{width:60,textAlign:"center",color:"#ffffff",fontSize:12,height:18,lineHeight:18},landscapeSlideTips2:{width:60,textAlign:"center",color:"#ffffff",fontSize:12,height:18,lineHeight:18},landscapeSlideIcon:{marginLeft:10,width:20,height:20,rotate:90}},_k={hidden:!0,textAlign:"left",fontSize:10,fontWeight:500,height:16,lineHeight:16,overflow:"hidden",lineBreak:"ellipsis"},Ek={...{playablePendantExpand:{hidden:!0,zIndex:pf.PlayablePendant,opacity:0,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:256,height:64,position:"absolute",right:0,bottom:80},playablePendantExpandBackground:{position:"absolute",right:0,bottom:0,width:256,height:64,backgroundColor:"#ffffff",borderRadius:12},playablePendantBorderFixExpand:{position:"absolute",right:0,bottom:0,height:64,width:12,backgroundColor:"#ffffff"},playablePendantArrowFoldGroup:{paddingLeft:12,paddingRight:8,width:28,height:64,flexDirection:"row",justifyContent:"center",alignItems:"center"},playablePendantArrowFold:{width:8,height:16},playablePendantAppIcon:{width:40,height:40,borderRadius:20,marginRight:8},playablePendantInfoGroup:{flexDirection:"column",flex:1,justifyContent:"flex-start",alignItems:"stretch",height:36},playablePendantAppName:{textAlign:"left",fontSize:14,fontWeight:700,flex:1,height:20,lineHeight:20,color:"#000000",opacity:.8,overflow:"hidden",lineBreak:"ellipsis"},playablePendantAppWording:{..._k,color:"#000000",opacity:.3},playablePendantAppConversion:{..._k,color:"#000000",opacity:.3},playablePendantAppRanking:{..._k,color:"#fa9d3b"},playablePendantButton:{marginLeft:12,marginRight:12,paddingTop:4,paddingBottom:4,paddingLeft:8,paddingRight:8,borderRadius:6,backgroundColor:"#fa9d3b",fontSize:14,lineHeight:28,height:28,width:44,color:"#ffffff",textAlign:"center"}},...{playablePendantFold:{hidden:!0,zIndex:pf.PlayablePendant,opacity:0,position:"absolute",right:0,bottom:80,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:80,height:80},playablePendantTouchMask:{hidden:!0,zIndex:pf.PlayablePendantTouchMask,backgroundColor:"rgba(0,0,0,0)",position:"absolute",right:0,bottom:80,width:56,height:64},playablePendantBorderFixFold:{position:"absolute",right:0,bottom:0,height:64,width:12,backgroundColor:"#ffffff"},playablePendantFoldBackground:{position:"absolute",right:0,bottom:0,backgroundColor:"#ffffff",width:80,height:64,borderRadius:12},playablePendantArrowExpandGroup:{paddingLeft:12,marginTop:21,width:20,height:64,flexDirection:"row",justifyContent:"center",alignItems:"center"},playablePendantArrowExpand:{width:8,height:16},playablePendantAbbrGroup:{flexDirection:"column",alignItems:"center",alignSelf:"flex-start",width:56,height:72},playablePendantPhoneImage:{width:56,height:56,zIndex:pf.PlayablePendantPhoneImage},playablePendantPhoneAppIcon:{position:"absolute",left:16.9,top:9.5,width:25,height:25,rotate:12,borderRadius:4},playablePendantAbbrTips:{marginTop:2,width:40,fontSize:10,fontWeight:700,color:"#000000",opacity:.8,height:14,zIndex:pf.PlayablePendantAbbrTips,lineHeight:14,textAlign:"center"}}},xk={fontSize:12,marginTop:2,marginBottom:2,lineHeight:16,height:16,fontWeight:700,color:"#ffffff",opacity:.8,overflow:"hidden",lineBreak:"ellipsis",zIndex:pf.PlayableEndpageAppWording},bk={playableEndpage:{hidden:!0,opacity:0,position:"absolute",left:0,top:0,width:0,height:0,justifyContent:"center",alignItems:"center",zIndex:pf.PlayableEndpage},playableEndpageBackgroundContainer:{position:"absolute",left:0,top:0,width:0,height:0},playableEndpageBackground:{position:"absolute",left:0,top:0,width:0,height:0},playableEndpageBackgroundLandscape:{position:"absolute",left:0,top:0,width:0,height:0},playableEndpageBackgroundAdorn:{position:"absolute",left:0,bottom:0,width:0,height:0,portrait:{hidden:!1},landscape:{hidden:!0}},playableEndpageMainWrapper:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",portrait:{position:"relative",width:327,height:464,marginLeft:0},landscape:{position:"relative",width:569,height:256}},playableEndpagePlaceholder:{flexDirection:"row",justifyContent:"flex-start",portrait:{hidden:!0,height:0,flex:0},landscape:{hidden:!1,height:256,flex:1}},playableEndpagePlaceholderCard:{width:327,height:256},playableEndpageMainGroup:{position:"relative",top:0,left:0,flexDirection:"column",justifyContent:"center",portrait:{width:327,height:464,alignItems:"center"},landscape:{width:569,height:256,alignItems:"flex-end"}},playableEndpageText:{color:"#ffffff",fontWeight:700,fontSize:22,lineHeight:40,height:40,width:186,textAlign:"center"},playableEndpageText2:{color:"#ffffff",fontWeight:700,fontSize:22,lineHeight:40,height:40,width:186,textAlign:"center",marginBottom:32},playableEndpageInfoGroup:{width:327,height:256,backgroundColor:"#fe9944",borderRadius:16,flexDirection:"column",justifyContent:"flex-start",alignItems:"center",portrait:{marginBottom:38,position:"",left:0,top:0},landscape:{marginBottom:0,position:"absolute",left:0,top:0}},playableEndpageInfoAppCover:{marginTop:12,marginBottom:12,borderRadius:12,width:303,height:170},playableEndpageInfoBar:{width:295,height:44,flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},playableEndpageAppIcon:{width:40,height:40,borderRadius:20,marginRight:12},playableEndpageInfoWordingGroup:{flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",flex:1},playableEndpageAppTitle:{fontSize:16,lineHeight:24,height:24,fontWeight:500,color:"#ffffff",overflow:"hidden",lineBreak:"ellipsis"},playableEndpageAppWording:xk,playableEndpageAppConversion:xk,playableEndpageAppRanking:xk,playableEndpageButton:{marginTop:10,width:186,height:48,fontSize:17,fontWeight:700,lineHeight:48,color:"#fa9d38",textAlign:"center",backgroundColor:"#ffffff",borderRadius:8}},wk={dramaAdDialogContainer:{zIndex:pf.DialogContainer,position:"absolute",overflow:"hidden",top:0,left:0,hidden:!0},dramaAdDialogMask:{position:"absolute",overflow:"hidden",backgroundColor:"#000000",opacity:.7,top:0,left:0},dramaAdDialog:{position:"absolute",width:280,height:336,borderRadius:10,backgroundColor:"rgba(255, 255, 255, 1)"},dramaAdDialogTitleContainer:{flexDirection:"column",justifyContent:"center",alignItems:"center"},dramaAdDialogToptitle:{flexDirection:"row",justifyContent:"center",alignItems:"center",marginTop:24},dramaAdDialogToptitleLeftline:{width:6,height:1,backgroundColor:"rgba(0, 0, 0, 0.55)",opacity:.55,marginRight:2},dramaAdDialogToptitleRightline:{width:6,height:1,backgroundColor:"rgba(0, 0, 0, 0.55)",opacity:.55,marginLeft:2},dramaAdDialogToptitleText:{fontWeight:400,width:52,height:17,lineheight:16.8,fontSize:12,color:"#000000",textAlign:"center",opacity:.55},dramaAdDialogTitle:{width:260,height:24,lineHeight:24,textAlign:"center",color:"#000000",fontSize:17,fontWeight:"bold",lineBreak:"break-all",maringTop:4},dramaAdDialogImageContainer:{marginTop:24,justifyContent:"center",alignItems:"center"},dramaAdDialogImage:{width:232,height:104},dramaAdDialogButtonContainer:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center"},dramaAdDialogButtonConfirm:{width:184,height:40,marginTop:24,justifyContent:"center",alignItems:"center",backgroundColor:"#07C160",borderRadius:6},dramaAdDialogButtonConfirmText:{width:152,height:24,lineHeight:23.8,textAlign:"center",fontWeight:500,color:"#ffffff",fontSize:17},dramaAdDialogButtonCancel:{width:184,height:40,marginTop:8,marginBottom:32,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:6},dramaAdDialogButtonCancelText:{width:152,height:24,textAlign:"center",lineHeight:23.8,fontWeight:500,color:"#000000",opacity:.9,fontSize:17}},Tk={container:{rotate:0,position:"absolute",justifyContent:"center",alignItems:"center",overflow:"hidden",zIndex:pf.Container,hidden:!0},videoBackgroundContainer:{top:0,left:0,position:"absolute",hidden:!0},videoBackgroundMask:{position:"absolute",left:0,top:0,backgroundColor:"#000000",opacity:.7},videoBackgroundImage:{position:"absolute",left:0,top:0},video:{padding:8,paddingBottom:16,flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start",backgroundColor:"#ff0000",position:"absolute",bottom:0},videoContainer:{hidden:!1,position:"absolute",justifyContent:"center",alignItems:"center",overflow:"hidden",top:0,left:0},videoTouchMask:{position:"absolute",top:0,left:0},videoMask:{position:"absolute",top:0,left:0,opacity:0,backgroundColor:"#000000"},animationCardClickMask:{position:"absolute",top:0,left:0,hidden:!0},blank:{width:1,height:1},cardContainer:{hidden:!0,position:"absolute",left:8,flexDirection:"column",alignSelf:"stretch",overflow:"hidden",borderRadius:12,zIndex:pf.CardContainer},cardInnerContainer:{borderRadius:12},cardLine:{hidden:!0,paddingLeft:16,paddingRight:16,backgroundColor:"rgba(247, 247, 247, 0.95)"},cardLineInner:{height:1,backgroundColor:"rgba(0, 0, 0, 0.06)"},cardRanking:{hidden:!0,flexDirection:"row",alignItems:"column",justifyContent:"flex-start",backgroundColor:"rgba(247, 247, 247, 0.95)",portrait:{height:48,padding:16},landscape:{width:348,height:60,padding:10}},cardRankingImg:{height:16,width:16},cardRankingInfo:{marginLeft:8,color:"#FA9D3B",fontSize:12,lineHeight:16,width:120,height:16},cardScore:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",backgroundColor:"rgba(247, 247, 247, 0.95)",portrait:{height:48,padding:16},landscape:{width:348,height:60,padding:10}},cardScoreTitle:{color:"#10AEFF",fontSize:12,lineHeight:16,width:60,height:16},cardScoreImg1:{height:13,marginLeft:12,width:13},cardScoreImg2:{height:13,width:13,marginLeft:1},cardScoreImg3:{height:13,width:13,marginLeft:1},cardScoreImg4:{height:13,width:13,marginLeft:1},cardScoreImg5:{height:13,width:13,marginLeft:1},cardScoreNum:{marginLeft:8,color:"#10AEFF",fontSize:12,lineHeight:16,width:30,height:16},card:{hidden:!0,flexDirection:"row",alignItems:"center",backgroundColor:"rgba(247, 247, 247, 0.95)",borderColor:"rgba(0, 0, 0, 0.08)",portrait:{height:90,padding:16},landscape:{width:348,height:72,padding:10}},appIcon:{borderRadius:8,opacity:.95,portrait:{width:48,height:48,marginRight:10},landscape:{width:45,height:45,marginRight:6}},appInformation:{flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},appName:{height:22.5,lineHeight:22.5,marginBottom:5,fontSize:17,lineBreak:"ellipsis",color:"#000000",portrait:{marginBottom:5},landscape:{marginBottom:2}},appWording:{height:20,lineHeight:20,lineBreak:"ellipsis",color:"#888888",fontSize:14},buttonIconContainer:{width:84,height:36,lineHeight:36,flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:16,color:"#ffffff",borderWidth:1,borderColor:"#07C160",borderRadius:6,marginLeft:8,backgroundColor:"#07C160"},buttonIconImg:{height:16,width:16,marginRight:2,hidden:!0},button:{height:36,lineHeight:36,textAlign:"center",fontSize:16,color:"#ffffff"},downloadButton:{width:62,height:32,hidden:!0,marginLeft:10},downloadButtonText:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:13,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#ffffff"},downloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},downloadProgressText:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:13,color:"#ffffff",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#04be02"},toastContainer:{hidden:!0,opacity:0,position:"absolute",top:0,left:0,justifyContent:"center",alignItems:"center"},toast:{justifyContent:"center",alignItems:"stretch",width:136,height:56,backgroundColor:"#4c4c4c",borderRadius:12},toastText:{color:"#ffffff",opacity:.9,fontSize:14,lineHeight:20,height:20,textAlign:"center"},loadingContainer:{hidden:!0,opacity:0,position:"absolute",top:0,left:0,justifyContent:"center",alignItems:"center"},loading:{justifyContent:"center",alignItems:"center",width:131,height:131,backgroundColor:"#4c4c4c",borderRadius:12},loadingImage:{width:40,height:40,marginBottom:16},loadingText:{color:"#ffffff",width:100,opacity:.9,fontSize:17,lineHeight:24,height:24,textAlign:"center"},dialogContainer:{zIndex:pf.DialogContainer,position:"absolute",overflow:"hidden",top:0,left:0,hidden:!0},dialogMask:{position:"absolute",overflow:"hidden",backgroundColor:"#000000",opacity:.7,top:0,left:0},dialog:{position:"absolute",width:300,height:168,borderRadius:10,backgroundColor:"rgba(255, 255, 255, 1)"},dialogTitleContainer:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",width:300},dialogTitle:{width:300,height:48,lineHeight:24,textAlign:"center",color:"#000000",fontSize:17,fontWeight:"bold",lineBreak:"break-all"},dialogSplit:{width:300,height:1,backgroundColor:"rgba(0, 0, 0, 0.1)"},dialogButton:{width:300,justifyContent:"center",flexDirection:"row",alignItems:"center"},buttonSplit:{width:1,height:63.5,backgroundColor:"rgba(0, 0, 0, 0.1)"},dialogClose:{marginTop:19,marginBottom:19,width:149.5,height:25,lineHeight:25,textAlign:"center",color:"#000000",fontWeight:"bold",fontSize:18},dialogCancel:{marginTop:19,marginBottom:19,width:150,height:25,lineHeight:25,textAlign:"center",color:"#576A94",fontWeight:"bold",fontSize:18},pageCardBody:{position:"absolute",hidden:!0,flexDirection:"column",alignItems:"center",height:340},pageCardHotArea:{flexDiretion:"cloumn",alignItems:"center",height:70},pageCardTipIcon:{hidden:!0,marginTop:33,width:20,height:6.5},pageCardTip:{marginTop:2,hidden:!0,width:52,height:20,lineHeight:20,fontSize:13,color:"#ffffff"},pageCardContainer:{borderRadius:10,flexDirection:"column",height:270},pageCard:{paddingLeft:15,paddingRight:15,flexDirection:"row",alignItems:"center",borderRadius:5,height:80},pageCardAppIcon:{borderRadius:10,opacity:.95,width:48,height:48},pageCardAppInformation:{paddingLeft:5,marginTop:3,flex:1,flexDirection:"column",justifyContent:"center",overflow:"hidden"},pageCardAppName:{height:22.5,fontSize:16,color:"#ffffff"},pageCardAppWording:{height:20,marginTop:1,color:"#888888",fontSize:14},pageCardButton:{width:60,height:30,lineHeight:30,textAlign:"center",fontSize:14,color:"#ffffff",borderWidth:1,backgroundColor:"#07C160",borderColor:"#07C160",borderRadius:4},pageCardSplitLine:{marginLeft:15,marginRight:15,height:1,backgroundColor:"rgba(255, 255, 255, 0.10)"},pageCardImgContainer:{marginTop:15,marginLeft:15,marginRight:15,marginBottom:25,height:150,overflow:"hidden"},pageCardImgBox:{height:150,left:0,flexDirection:"row",justifyContent:"center"},pageCardImg0:{order:0,borderRadius:3},pageCardImg1:{marginLeft:10,order:1,borderRadius:3},pageCardImg2:{marginLeft:10,order:2,borderRadius:3},pageCardImg3:{marginLeft:10,order:3,borderRadius:3},pageHandler:{top:0,position:"absolute",hidden:!0},pageMask:{top:0,position:"absolute",backgroundColor:"#000000",hidden:!0},dialogCloseTip:{hidden:!0,position:"absolute",overflow:"hidden",top:0,left:0},adCloseTipWrap:{width:124,height:36,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5},adCloseTipContent:{width:124,height:36,lineHeight:36,fontSize:14,color:"#ffffff",textAlign:"center"},playableTipsWrap:{left:0,hidden:!0,marginBottom:10,width:132,height:32,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:4},playableTipsContent:{width:100,height:16,lineHeight:16,fontSize:12,color:"#ffffff",textAlign:"center"},playableGiveUp:{hidden:!0,marginLeft:8,width:24,height:32,lineHeight:32,fontSize:12,color:"#07C160"},playableCancelBox:{hidden:!0,width:44,height:32,left:72,position:"absolute"},pageContainer:{top:0,hidden:!0,position:"absolute",backgroundColor:"#ffffff"},pageImgContainer:{position:"absolute",overflow:"hidden",backgroundColor:"#000000"},pageImgBox:{flexDirection:"row",justifyContent:"center",position:"absolute",backgroundColor:"#000000"},pageImg0:{flex:1,order:0},pageImg1:{flex:1,order:1},pageImg2:{flex:1,order:2},pageImgTips:{flexDirection:"row",justifyContent:"center",height:10,width:35},pageImgIcon0:{height:7,width:7,borderRadius:16,backgroundColor:"#ffffff"},pageImgIcon1:{height:7,width:7,marginLeft:7,borderRadius:16,backgroundColor:"rgba(255, 255, 255, 0.55)"},pageImgIcon2:{height:7,width:7,marginLeft:7,borderRadius:16,backgroundColor:"rgba(255, 255, 255, 0.55)"},pageInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},pageInfoWrapper:{flexDirection:"column",alignItems:"center",height:242},pageAppIcon:{borderRadius:8,width:64,height:64},pageAppName:{marginTop:20,width:180,textAlign:"center",height:28,lineHeight:28,fontSize:20,color:"#000000",opacity:.99},pageAppWording:{marginTop:4,marginBottom:20,width:220,height:28,textAlign:"center",lineHeight:28,color:"#888888",fontSize:17,opacity:.99},pageAppConversion:{hidden:!0,width:220,height:24,textAlign:"center",lineHeight:24,color:"#000000",opacity:.3,fontSize:14},pageButton:{marginTop:14,width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#ffffff",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:4},pageDownloadButton:{marginTop:14,width:166,height:42,hidden:!0},pageDownloadButtonText:{width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:4,backgroundColor:"#ffffff"},pageDownloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},pageDownloadProgressText:{width:164,height:40,lineHeight:40,textAlign:"center",fontSize:17,color:"#ffffff",borderWidth:1,borderColor:"#04be02",borderRadius:4,backgroundColor:"#04be02"},...uk,...hk,...yk,expandCardContainer:{hidden:!0,top:0,position:"absolute",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0)"},expandCardInfoContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center"},expandCardHeadline:{flexDirection:"column",alignItems:"center",justifyContent:"center"},expandCardWordingWrapper:{flexDirection:"column",alignItems:"center",justifyContent:"center",width:300,height:144,marginBottom:24},expandCardAppIcon:{borderRadius:8,width:64,height:64,left:0,marginTop:0},expandCardAppName:{width:300,textAlign:"center",height:28,lineHeight:28,fontSize:20,marginTop:20,fontWeight:500,color:"#ffffff",opacity:1,left:0},expandCardAppWording:{marginTop:4,width:300,height:28,textAlign:"center",lineHeight:28,fontWeight:300,opacity:.8,color:"#ffffff",lineBreak:"ellipsis",fontSize:17},expandCardAppConversion:{hidden:!0,width:300,height:24,textAlign:"center",lineHeight:24,color:"#ffffff",opacity:.5,fontSize:14},expandCardButtonContainer:{marginTop:16,width:184,height:40,lineHeight:40,flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundColor:"#07C160",borderWidth:1,borderColor:"#07C160",borderRadius:6},expandCardButtonIcon:{hidden:!0,height:16,width:16,marginRight:2},expandCardButton:{fontSize:17,lineHeight:40,height:40,textAlign:"center",fontWeight:500,color:"#ffffff"},expandCardSlideTipsContainer:{opacity:0,hidden:!0,position:"absolute",bottom:44,alignItems:"center",justifyContent:"center"},expandCardSlideTipsClickArea:{width:100,height:44,alignItems:"center"},expandCardSlideTips:{width:100,textAlign:"center",color:"#ffffff",fontSize:12,height:16,lineHeight:16},expandCardSlideIcon:{marginTop:8,width:20,height:20,rotate:180},expandPageRanking:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:164,height:24,marginTop:14},expandPageRankingImg:{height:20,width:20},expandPageRankingInfo:{marginLeft:8,color:"#FA9D3B",fontSize:14,lineHeight:24,width:136,height:24},expandPageScore:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:222,marginTop:16,height:24},expandPageScoreTitle:{color:"#10AEFF",fontSize:14,lineHeight:24,width:70,height:24},expandPageScoreImg1:{height:13,marginLeft:12,width:13},expandPageScoreImg2:{height:13,width:13,marginLeft:1},expandPageScoreImg3:{height:13,width:13,marginLeft:1},expandPageScoreImg4:{height:13,width:13,marginLeft:1},expandPageScoreImg5:{height:13,width:13,marginLeft:1},expandPageScoreNum:{marginLeft:8,color:"#10AEFF",fontSize:14,lineHeight:24,width:35,height:24},...mk,slideshowCardContainer:{hidden:!0,position:"absolute",bottom:73,width:375,height:148},slideshowCardMask:{position:"absolute",top:0,left:0,width:375,height:148},slideshowCardInfoContainer:{flexDirection:"column",justifyContent:"flex-end",alignItems:"stretch",flex:1,paddingLeft:16,paddingRight:16},slideshowCardMainInfo:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:44,marginBottom:12},slideshowCardAppIcon:{borderRadius:8,width:40,height:40,marginRight:12},slideshowCardWordingGroup:{flexDirection:"column",justifyContent:"space-between",alignItems:"stretch",height:44,flex:1},slideshowCardAppName:{textAlign:"left",height:20,lineHeight:20,fontSize:17,fontWeight:500,color:"#ffffff"},slideshowCardAppWording:{textAlign:"left",height:18,lineHeight:18,fontSize:14,fontWeight:400,opacity:.8,color:"#ffffff",overflow:"hidden",lineBreak:"ellipsis"},slideshowCardExtraInfo:{hidden:!0,flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch"},slideshowCardSplitLine:{marginBottom:12,height:1,backgroundColor:"rgba(255,255,255,0.12)"},slideshowCardRanking:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:164,height:24},slideshowCardRankingImg:{height:20,width:20},slideshowCardRankingInfo:{marginLeft:8,color:"#FA9D3B",fontSize:14,lineHeight:24,width:136,height:24},slideshowCardScore:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"center",width:222,height:24},slideshowCardScoreTitle:{color:"#10AEFF",fontSize:14,lineHeight:24,width:70,height:24},slideshowCardScoreImg1:{height:13,marginLeft:12,width:13},slideshowCardScoreImg2:{height:13,width:13,marginLeft:1},slideshowCardScoreImg3:{height:13,width:13,marginLeft:1},slideshowCardScoreImg4:{height:13,width:13,marginLeft:1},slideshowCardScoreImg5:{height:13,width:13,marginLeft:1},slideshowCardScoreNum:{marginLeft:8,color:"#10AEFF",fontSize:14,lineHeight:24,width:35,height:24},slideshowCardAppConversion:{hidden:!0,textAlign:"left",height:24,lineHeight:24,fontSize:12,fontWeight:600,color:"#ffffff",opacity:.6},slideshowCardButton:{textAlign:"center",height:40,lineHeight:40,fontSize:16,fontWeight:500,marginTop:16,color:"#ffffff",borderRadius:6,backgroundColor:"#07c160"},dynamicContainer:{hidden:!0,position:"absolute",top:0,left:0},pendantContainer:{hidden:!0,position:"absolute"},...vk,feedCardContainer:{hidden:!0,position:"absolute",bottom:73,width:375,height:196},feedCardMask:{position:"absolute",top:0,left:0,width:375,height:196},feedCardInfoContainer:{flexDirection:"column",justifyContent:"flex-end",alignItems:"stretch",flex:1,paddingTop:30,paddingLeft:16,paddingRight:16,paddingBottom:12},feedCardMainInfo:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:44,marginBottom:12},feedCardAppIcon:{borderRadius:8,width:40,height:40,marginRight:12},feedCardWordingGroup:{flexDirection:"column",justifyContent:"space-between",alignItems:"stretch",height:44,flex:1},feedCardAppName:{textAlign:"left",height:20,lineHeight:20,fontSize:17,fontWeight:500,color:"#ffffff"},feedCardAppWording:{textAlign:"left",height:18,lineHeight:18,fontSize:14,fontWeight:400,opacity:.8,color:"#ffffff",overflow:"hidden",lineBreak:"ellipsis"},feedCardExtraInfo:{hidden:!0,flexDirection:"column",justifyContent:"flex-start",alignItems:"stretch",paddingBottom:20},feedCardSplitLine:{marginBottom:12,height:1,backgroundColor:"rgba(255,255,255,0.12)"},feedCardAppConversion:{hidden:!0,textAlign:"left",height:24,lineHeight:24,fontSize:12,fontWeight:600,color:"#ffffff",opacity:.6},feedCardButton:{textAlign:"center",height:40,lineHeight:40,fontSize:16,fontWeight:500,paddingTop:8,paddingBottom:8,marginTop:4,color:"#ffffff",borderRadius:6,backgroundColor:"#07c160"},...{bottomCardContainer:{hidden:!0,position:"absolute",left:8,flexDirection:"column",alignSelf:"stretch",overflow:"hidden",zIndex:pf.BottomCardContainer},bottomCardInnerContainer:{borderRadius:12,flexDirection:"column",alignItems:"stretch",backgroundColor:"rgba(255, 255, 255, 0.95)",paddingTop:16,paddingLeft:16,paddingRight:16,paddingBottom:16},bottomCard:{flexDirection:"row",alignItems:"center",marginBottom:12},bottomCardAppIcon:{hidden:!0,borderRadius:8,width:48,height:48,marginRight:8},bottomCardAppIconLarge:{hidden:!0,borderRadius:12,width:68,height:68,marginRight:12},bottomCardAppInformation:{flex:1,flexDirection:"column",justifyContent:"center",alignItems:"stretch",overflow:"hidden"},bottomCardAppName:{height:24,lineHeight:24,marginBottom:4,fontSize:17,fontWeight:500,opacity:.9,lineBreak:"ellipsis",color:"#000000"},bottomCardAppWording:{height:20,lineHeight:20,fontSize:14,opacity:.6,lineBreak:"break-all",overflow:"hidden",color:"#000000"},bottomCardConversion:{hidden:!0,marginTop:6,height:17,lineHeight:17,fontSize:12,opacity:.3,color:"#000000",lineBreak:"ellipsis"},bottomCardRanking:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",marginTop:6},bottomCardRankingImg:{height:16,width:16},bottomCardRankingInfo:{marginLeft:8,color:"#FA9D3B",fontSize:12,lineHeight:17,flex:1,height:17},bottomCardCategory:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",marginTop:6},bottomCardCategoryName1:{marginRight:6,backgroundColor:"rgba(7, 193, 96, 0.1)",width:60,height:23,lineHeight:23,borderRadius:5,textAlign:"center",fontSize:12,fontWeight:400,color:"#07C160"},bottomCardCategoryName2:{marginRight:6,backgroundColor:"rgba(7, 193, 96, 0.1)",width:60,height:23,lineHeight:23,borderRadius:5,textAlign:"center",fontSize:12,fontWeight:400,color:"#07C160"},bottomCardActInfo:{marginRight:6,backgroundColor:"rgba(7, 193, 96, 0.1)",width:60,height:23,lineHeight:23,borderRadius:5,textAlign:"center",fontSize:12,fontWeight:400,color:"#07C160"},bottomCardScore:{hidden:!0,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",marginTop:6},bottomCardScoreTitle:{color:"#10AEFF",fontSize:12,lineHeight:17,width:60,height:17},bottomCardScoreImg1:{height:13,marginLeft:8,width:13},bottomCardScoreImg2:{height:13,width:13,marginLeft:1},bottomCardScoreImg3:{height:13,width:13,marginLeft:1},bottomCardScoreImg4:{height:13,width:13,marginLeft:1},bottomCardScoreImg5:{height:13,width:13,marginLeft:1},bottomCardScoreNum:{marginLeft:4,color:"#10AEFF",fontSize:12,lineHeight:17,width:40,height:17},bottomCardButtonContainer:{flex:1,fontSize:14,color:"#ffffff",fontWeight:500,borderRadius:6,backgroundColor:"#07C160",flexDirection:"row",alignItems:"center",justifyContent:"center"},bottomCardButtonIcon:{hidden:!0,height:16,width:16,marginRight:2},bottomCardButton:{height:40,lineHeight:40,fontWeight:500,alignItems:"stretch",color:"#ffffff",textAlign:"center"},bottomCardHoverLandpageTips:{hidden:!0,position:"absolute",flexDirection:"column",left:16,bottom:54,alignItems:"center"},bottomCardHoverLandpageTipsCapsule:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",borderRadius:9,backgroundColor:"#059a4c",paddingTop:2,paddingBottom:2,paddingLeft:8,paddingRight:6},bottomCardHoverLandpageTipsCapsuleIcon:{width:10,height:10},bottomCardHoverLandpageTipsCapsuleText:{color:"#ffffff",opacity:.8,height:14,lineHeight:14,fontSize:10,fontWeight:400,textAlign:"center"},bottomCardHoverLandpageTipsTriangleWrap:{position:"absolute",bottom:-5,flexDirection:"column",alignItems:"center"},bottomCardHoverLandpageTipsTriangle:{width:7,height:5},bottomCardBottomLandpageTips:{hidden:!0,marginTop:4,height:14,lineHeight:14,textAlign:"center",fontSize:10,fontWeight:400,color:"#000000",opacity:.55}},feedGuideContainer:{hidden:!0,opacity:0,position:"absolute",left:0,top:0,backgroundColor:"rgba(0,0,0,0.1)",alignItems:"center",justifyContent:"center",flexDiretion:"column"},feedPath:{marginTop:38,width:16,height:94},feedFinger:{position:"absolute",opacity:0,width:120,height:120,top:0,left:0},feedGuideTip:{marginTop:36,width:120,height:40},...Ek,...{playableBackboard:{position:"absolute",hidden:!0,width:0,height:0,left:0,top:0,justifyContent:"center",alignItems:"center",flexDirection:"column",opacity:1,zIndex:pf.PlayableBackboard},playableBackboardImage:{position:"absolute",left:0,top:0,width:0,height:0},playableLoading:{position:"absolute",hidden:!0,width:0,height:0,left:0,top:0,justifyContent:"center",alignItems:"center",flexDirection:"column",opacity:1,zIndex:pf.PlayableLoading},playableLoadingBackground:{position:"absolute",left:0,top:0,width:0,height:0},playableLoadingLogoGroup:{width:128,height:128,marginBottom:12},playableLoadingLogo:{width:128,height:128,zIndex:pf.PlayableLoadingLogo},playableLoadingAppIcon:{position:"absolute",width:41,height:41,borderRadius:8,rotate:15,top:18.8,left:47.7},playableLoadingTips:{fontSize:14,lineHeight:16,height:16,color:"#fafafa",opacity:.8,fontWeight:700,width:200,textAlign:"center",marginBottom:24},playableLoadingProgressBar:{width:48,height:6,borderRadius:3,position:"relative",overflow:"hidden"},playableLoadingProgressBarInner:{position:"absolute",width:48,left:-48,height:6,backgroundColor:"#ffffff",borderRadius:3,top:0,zIndex:pf.PlayableLoadingProgressBarInner},playableLoadingProgressBarWrapper:{position:"absolute",width:48,height:6,backgroundColor:"#ffffff",opacity:.3,borderRadius:3,left:0,top:0}},...bk,...wk},Ck={count:{borderColor:"rgba(0, 0, 0, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.15)"},countDownPrepend:{color:"#000000"},countDown:{color:"#000000"},countDownAppend:{color:"#000000"},barRight:{borderColor:"rgba(0, 0, 0, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.15)"},close:{color:"#000000"},splitLine:{backgroundColor:"rgba(0, 0, 0, 0.25)"},adText:{color:"#000000"},rectangle:{hidden:!0},rectangleLight:{hidden:!1},splitLineLeft:{backgroundColor:"rgba(0, 0, 0, 0.25)"}},Ak={count:{borderColor:"rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(0, 0, 0, 0.15)"},countDownPrepend:{color:"#ffffff"},countDown:{color:"#ffffff"},countDownAppend:{color:"#ffffff"},barRight:{borderColor:"rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(0, 0, 0, 0.15)"},close:{color:"#ffffff"},splitLine:{backgroundColor:"rgba(255, 255, 255, 0.25)"},adText:{color:"#ffffff"},rectangle:{hidden:!1},rectangleLight:{hidden:!0},splitLineLeft:{backgroundColor:"rgba(255, 255, 255, 0.25)"}},{deviceInfo:Pk}=y,Ik=function(){var e=QB(this);Sk.call(this);var t=dO.call(this);e.keepAliveTimer=setTimeout((()=>{var i;e.adProxy.reportAdMonitorData(Gl,{currentTime:e.currentTime,duration:null==t?void 0:t.duration,src:null===(i=NM.call(this))||void 0===i?void 0:i.src,preloadVideo:e.preloadVideo?1:0,preloadVideoSuccess:e.preloadVideoSuccess?1:0})}),3e3)},Sk=function(){var e=QB(this);e.keepAliveTimer&&clearTimeout(e.keepAliveTimer)},kk=function(){var e=QB(this),t=NM.call(this);if(t){var{screenHeight:i}=Pk;t.style.padding=8,t.style.paddingBottom=16,e.videoContainer.style.height=i,t.style.height=i,Dk.call(this),yV.call(this,["video","videoContainer","videoMask","videoTouchMask","videoBackgroundContainer","videoBackgroundMask"])}},Dk=function(){var{deviceOrientation:e,screenWidth:t,screenHeight:i}=Pk,{width:a,height:n}=dO.call(this),o=NM.call(this);if(o.style.width=t,o.style.height=i,o.style.left=0,o.style.top=0,o.style.bottom=0,sO.call(this)){if("portrait"===e&&a<n)o.style.height=Math.floor(t/a*n),o.style.width=t;else if("landscape"===e&&a>n){var r=Math.floor(i*a/n);o.style.width=r,o.style.height=i,o.style.left=(t-r)/2}}else lO.call(this)&&Mk.call(this)},Rk=function(){var e=QB(this),t=NM.call(this),i=dO.call(this);if(i){var{src:a,poster:n}=i;e.expandCardInfoContainer.style.opacity=0,e.card.style.opacity=0,e.bottomCardInnerContainer.style.opacity=0,UM.call(this)&&CO.call(this)||(t.customCache=$k.call(this),Pk.isIOS&&t.src===a&&t.seek(0),Pk.isIOS?(t.poster=n,zo(500).then((()=>{t.src=a}))):(t.src=a,t.poster=n))}},Ok=function(){var e,t,i=QB(this),a=NM.call(this),n=dO.call(this);if(n){var{duration:o,width:r,height:s}=n;if("portrait"===Pk.deviceOrientation&&r<s&&null!==(e=i.data)&&void 0!==e&&null!==(t=e.condition)&&void 0!==t&&t.widget_gray_rewarded_video_animation_page){var l,d,c,p,u,h,g=null===(l=i.data)||void 0===l||null===(d=l.condition)||void 0===d?void 0:d.widget_gray_rewarded_video_animation_page_video_duration;if(g&&g>0)i.isUseAnimationPage=o>=1e3*g,i.animationPageShowTime=null===(c=i.data)||void 0===c||null===(p=c.condition)||void 0===p?void 0:p.widget_gray_rewarded_video_animation_page_show_time,a.loop=i.isUseAnimationPage&&!(null===(u=i.data)||void 0===u||null===(h=u.condition)||void 0===h||!h.widget_gray_rewarded_video_animation_page_video_loop)}else i.isUseAnimationPage=!1,a.loop=!1}},Mk=function(){var e=NM.call(this);"portrait"===Pk.deviceOrientation?(e.style.top=-(217*Pk.screenWidth/160-Pk.screenHeight/2),e.style.bottom=217*Pk.screenWidth/160-Pk.screenHeight/2):e.style.left=43*-Pk.screenHeight/96},Nk=function(e=null){var t=QB(this);if(sO.call(this)){t.disableGaussBlur=!0;var{poster:i,src:a}=dO.call(this,e),n=NM.call(this,e);n.poster!==i&&(n.poster=i),n.src!==a&&(n.src=a,setTimeout((()=>{t.isVideoCalledPlay&&Lk.call(this,"play")}),0)),n.style.width=Pk.screenWidth,n.style.height=Pk.screenHeight,Mk.call(this)}},Lk=function(e,t=null){var i=QB(this),a=NM.call(this,t);a&&("play"===e?(i.isVideoCalledPlay=!0,a.play()):"pause"===e?(i.isVideoCalledPlay=!1,a.pause()):"stop"===e&&(i.isVideoCalledPlay=!1,a.stop()))},Wk=function(e){if(!WV.call(this)){var t=QB(this);!WV.call(this)&&t.isShowed&&PO.call(this,e)&&t.adProxy.setTimePoint(Bf)}},Bk=function(e,t){var i=QB(this),{index:a}=e,n=dO.call(this,a);if(!WV.call(this)&&i.isShowed&&PO.call(this,e)&&n){var o=Number(t.duration),r=Number(t.position),s={position:r,duration:o,index:a};UM.call(this)&&(i.multiVideoInfo.videoDuration[a]=1e3*o,i.multiVideoInfo.videoPosition[a]=1e3*r,QM.call(this)&&BM.call(this));try{if(Ik.call(this),!i.isFirstFrameCallback){KV.call(this);var l=0;i.showTime>i.videoFirstPlayTime&&(l=i.showTime-i.videoFirstPlayTime),i.adProxy.setTimePoint(If,{time:Date.now()-1e3*r}),HR.call(this,VR.VideoPlayerFirstFrame),i.adProxy.reportVideoLoadTime({beginTime:i.videoFirstPlayTime,endTime:(new Date).getTime()-Math.floor(1e3*r),departureTime:l,preloadVideo:i.preloadVideo?1:0,preloadVideoSuccess:i.preloadVideoSuccess?1:0,reportType:1}),UM.call(this)&&tN.call(this),i.isFirstFrameCallback=!0,DR.call(this,{stage:1004})}if(i.isPlaying=!0,UM.call(this)&&(i.multiVideoInfo.isPlaying[a]=!0),r>0&&(i.currentTime=1e3*r),r>=1){var{width:d,height:c}=NM.call(this).style;if(UM.call(this)||i.isViewableExposureReported){if(UM.call(this)&&!i.multiVideoInfo.isViewableExposured[a]){i.multiVideoInfo.isViewableExposured[a]=!0,i.adProxy.isViewable=!0;var p=i.adProxy.reportExposure({exposureType:"viewable",left:0,top:0,width:d,height:c,weappExtraData:{...i.adWelfareData||{},...i.skitInfo||{}}});sN.call(this,Nd,{type:"viewable"}),tV(p,"激励视频","广告流可视曝光")}}else{i.isViewableExposureReported=!0,i.adProxy.isViewable=!0,HR.call(this,VR.VideoPlayer1S);var u=i.adProxy.reportExposure({exposureType:"viewable",left:0,top:0,width:d,height:c,weappExtraData:{...i.adWelfareData||{},...i.skitInfo||{}}});tV(u,"激励视频","可视曝光")}}var h=jk.call(this);h&&(r+=h),Math.ceil(o-r)<=6&&[ND.PLAYABLE_H5].indexOf(i.pageType)>-1&&i.playableGiveUp.style.hidden&&LD.call(this);var{rewardedTime:g}=i.data,{duration:f}=n,m=o>g/1e3?g/1e3:o||f/1e3,y=Math.ceil((f>g?g:f)/1e3);if(0===o&&(i.reportDurationTimer&&clearTimeout(i.reportDurationTimer),i.reportDurationTimer=setTimeout((()=>{i.adProxy.reportAdMonitorData(od,{duration:o,durationFromAd:f,rewardedTime:g})}),1e3)),!UM.call(this)&&!kM.call(this)){var v=OO.call(this);if(v&&v<=r&&(i.isReadyToFlooringPage=!0),i.isRewarded)AM.call(this,0,!0);else if(m>r){var _=Math.ceil(m-r);_>y&&(_=y),AM.call(this,_)}else m<=r&&!i.isRewarded&&(AM.call(this,0,!0),MO.call(this)&&(eR.call(this),Lk.call(this,"stop")))}UM.call(this)&&!i.multiVideoInfo.isCardExposured[a]&&(i.multiVideoInfo.isCardExposured[a]=!0,Vk.call(this),sN.call(this,Nd,{type:"incentiveVideoCard"}));var E=bN.call(this);if(r>0&&!i.isVideoCardShowed&&!UM.call(this)){if(i.isVideoCardShowed=!0,i.data.flooringPage&&i.pageType===ND.ENDMODAL&&"portrait"===Pk.deviceOrientation?i.pageCardBody.style.hidden=!1:(i.playableTipsWrap.style.hidden=!(i.data.flooringPage&&[ND.PLAYABLE_H5].indexOf(i.pageType)>-1),E.style.hidden=!1,E.style.opacity=1,rO.call(this)),i.isCardExposureReported)return;E.nextLayout((()=>{i.isCardExposureReported||(i.isCardExposureReported=!0,Vk.call(this),i.cardFirstShowTime=(new Date).getTime()),i.data.flooringPage&&i.pageType===ND.ENDMODAL&&(i.showTipsTimer=setTimeout((()=>{GD.call(this)}),3e3))}))}if(m-r<=i.animationPageShowTime&&i.isUseAnimationPage&&!i.isShowAnimationPage){bR.call(this),i.isShowAnimationPage=!0;var x=i.video.loop?xp:_p;i.adProxy.reportAdMonitorData(x)}AD.call(this,_i,{event:s})}catch(e){i.adProxy.reportAdMonitorData(Ps,e)}}},Vk=function(){var e=QB(this),{left:t,top:i}=e.card.getAbsolutePosition(),{width:a,height:n}=e.card.layoutBox,o=e.adProxy.reportExposure({exposureType:"incentiveVideoCard",left:t,top:i,width:a,height:n,weappExtraData:{...e.adWelfareData||{},...e.skitInfo||{}}});tV(o,"激励视频","卡片曝光")},Hk=function(){var e=b()((function*(e,t=!1){var i=QB(this),{index:a}=e;if(!WV.call(this)&&(bO.call(this,a)||t)&&PO.call(this,e))if(i.adProxy.setTimePoint(Lf),HR.call(this,VR.VideoPlayerEnd),AD.call(this,yi),dO.call(this)){if(a!==i.adProxy.adDataIndex){var n=NM.call(this,a);return n.seek(i.multiVideoInfo.videoPosition[a]/1e3),void n.pause()}var{duration:o}=dO.call(this);i.currentTime=o;var r=SR.call(this,{playType:"complete",conditionType:"end"});if(zM.call(this)&&UM.call(this)){var s=NM.call(this,a);s.seek(0),Pk.isAndroid&&(yield zo(500)),s.play();var l=SR.call(this,{playType:"complete",conditionType:"start"});return tV(l,"激励视频","广告流重播",a),void i.adProxy.reportAdMonitorData(jd)}if(i.adProxy.reportAdMonitorData(zl),Sk.call(this),i.isUseAnimationPage&&i.isShowAnimationPage&&i.video.loop)return AM.call(this,0,!0),i.isEnded=!0,void(i.isAnimationPageReportedVideoEnd||(i.adProxy.reportAdMonitorData(bp),i.isAnimationPageReportedVideoEnd=!0));NM.call(this,a).muted=!0,UM.call(this)?(i.multiVideoInfo.isEnded[a]=!0,i.multiVideoInfo.isPlaying[a]=!1,FV.call(this,!1)):(AM.call(this,0,!0),i.isPlaying=!1,i.isVideoCalledPlay=!1,i.isEnded=!0,i.isPause=!1),i.isUseAnimationPage&&i.isShowAnimationPage?i.isAnimationPageReportedVideoEnd||(i.adProxy.reportAdMonitorData(Ep),i.isAnimationPageReportedVideoEnd=!0):(eR.call(this),aN.call(this),tV(r,"激励视频","播放完成"))}else i.adProxy.reportAdMonitorData(Gd,{index:i.adProxy.adDataIndex})}));return function(t){return e.apply(this,arguments)}}(),Fk=function(e,t){if(!WV.call(this)&&PO.call(this,e)){var{index:i}=e,a=QB(this);a.adProxy.setTimePoint(Wf),HR.call(this,VR.VideoPlayerError),a.adProxy.reportAdMonitorData(Is,t),Sk.call(this),sO.call(this,i)&&Nk.call(this)}},Gk=function(e){if(!WV.call(this)){var t=QB(this),i=NM.call(this);!t.isShowed&&i&&i.src===e.resource&&(t.preloadVideoSuccess=!0,i.src=e.resource,t.adProxy.setTimePoint(_f),t.adProxy.reportAdMonitorData(kl))}},Uk=function(e,t){var i=QB(this),a={index:t,identify:AO.call(this,t)};i.playHandler[t]=Wk.bind(this,a),i.timeUpdateHandler[t]=Bk.bind(this,a),i.endedHandler[t]=Hk.bind(this,a,!1),i.errorHandler[t]=Fk.bind(this,a),e.onPlay(i.playHandler[t]),e.onTimeUpdate(i.timeUpdateHandler[t]),e.onEnded(i.endedHandler[t]),e.onError(i.errorHandler[t])},zk=function(e,t){var i=QB(this);e.offPlay(i.playHandler[t]),e.offTimeUpdate(i.timeUpdateHandler[t]),e.offEnded(i.endedHandler[t]),e.offError(i.errorHandler[t]),delete i.playHandler[t],delete i.timeUpdateHandler[t],delete i.endedHandler[t],delete i.errorHandler[t]},jk=function(){if(WV.call(this))return 0;var e=QB(this),t=0;for(var i of Object.keys(e.extraReduceTime))t=Math.max(t,e.extraReduceTime[i]);return t},$k=function(){var e=QB(this),{data:t}=e;return!(WV.call(this)||!t)&&Boolean(Pk.isIOS||Pk.isAndroid&&t.condition.widget_gray_rewarded_video_android_use_wxplayer)},Yk=[{op:"insert",id:"innerPendant",parent:"pendantContainer",tpl:{type:"image",id:"innerPendantImage",style:{width:80,height:60},options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.crtInfo.wxgame_video_card.pendant_img"},events:{rewardedVideoPlay:[{action:"rewardedVideoDynamic",expr:"$scope.private.pendantContainer.style.hidden == $const.true",value:{list:[{op:"setStyle",id:"pendantContainer",expr:"$const.systemInfo.screenWidth < $const.systemInfo.screenHeight",style:{hidden:!1,width:80,height:60,leftExpr:"#sub($const.systemInfo.screenWidth, 92)",bottomExpr:"#rewardedVideoIsExpandStyle() ? #add(12, #multi(1032, #division($const.systemInfo.screenWidth, 960))) : #add(12, #sub($const.systemInfo.screenHeight, $scope.private.bottomCardContainer.layoutBox.top))"}},{op:"setStyle",id:"pendantContainer",expr:"$const.systemInfo.screenWidth > $const.systemInfo.screenHeight",style:{hidden:!1,width:80,height:60,leftExpr:"#rewardedVideoIsExpandStyle() ? #sub(#sub(#division($const.systemInfo.screenWidth, 2), #division($const.systemInfo.screenHeight, 6)), 92)  : #sub($const.systemInfo.screenWidth, 92)",bottom:20}}]}}],tap:[{action:"landAd"},{action:"reportAdMonitorData",value:{id:924,key:172,extInfo:"pendant-click"}}]}}}}],qk="#mod(#parseInt(#slice($scope.private.adProxy.data.traceid, 12, 16), 36), 3)",Kk="#scope(#get($scope.private.adProxy.data, 'extBackComm.wegameInfo.promotional_pic.item_list.length') || 0)",Zk=`${Kk} == 1`,Xk=`#scope(${Kk} == 2) || #scope(#scope(${Kk} == 3) && #scope(${qk} == 1))`,Jk=`#scope(${Kk} == 3) && #scope(${qk} == 2)`,Qk=[{id:"wegameEndpage",op:"insert",parent:"container",useAdTemplate:!0,expr:`#scope(${Kk} == 0) || #scope(#scope(${Kk} == 3) && #scope(${qk} == 0))`,tpl:{type:"layout",id:"endpageContainer",options:{baseType:Zw.COLUMN,events:{templateWillUpdate:[{action:Lw.EMITCUSTOMMESSAGE,value:{message:_m}},{action:Lw.BATCHSETEXPRVARS,value:{list:[{key:"actInfoList",valueExpr:"#rewardedVideoGetDanmuInfo()"},{key:"categoryInfo",valueExpr:"#rewardedVideoGetCategoryInfos()"},{key:"emptyArr",value:[]},{key:"promotionPic",valueExpr:"#scope($ad.extBackComm.wegameInfo.promotional_pic && #scope($const.systemInfo.screenHeight >= 800)) ? $ad.extBackComm.wegameInfo.promotional_pic.item_list : #getVar('emptyArr')"},{key:"promotionPicLen",valueExpr:"#len(#getVar('promotionPic')) || 0"},{key:"promotionPicDire",valueExpr:"#getVar('promotionPicLen') == 0 ? 2 : #get(#getVar('promotionPic'), '0.direction')"},{key:"viewportWidth",valueExpr:"#sub($const.systemInfo.screenWidth, 32)"},{key:"singlePicWidth",valueExpr:"#scope(#getVar('promotionPicLen') == 0) || #scope(#getVar('promotionPicDire') == 2) ? #concat(#getVar('viewportWidth'), 'px') : '136px'"},{key:"singlePicHeight",valueExpr:"#concat(#getVar('promotionPicDire') == 1 ? #division(#multi(136, 16), 9) : #division(#getVar('viewportWidth'), #scope(#getVar('promotionPicLen') == 1 ? #division(16, 9) : #division(13, 5))), 'px')"},{key:"picState",value:1},{key:"picSlideType",valueExpr:"#scope(#scope(#getVar('promotionPicDire') == 1) && #scope(#getVar('promotionPicLen') == 3)) ? 'C' : #scope(#getVar('promotionPicLen') == 2 ? 'B' : 'A')"},{key:"picWidth",valueExpr:"#getVar('promotionPicDire') == 1 ? #multi(#division(242, 16), 9) : #multi(#division(176, 9), 16))"},{key:"actTitleMap",value:{collect:"收藏",act:"在玩",share:"分享"}}]}},{action:Lw.REPORTADMONITORDATA,value:{id:He,key:qp.idKey,extInfo:{picNumExpr:"#getVar('promotionPicLen')",type:"endpage1"}}},{action:Lw.REWARDEDVIDEODYNAMIC,value:{list:[{op:"setStyle",id:"wegameEndpage",style:{hidden:!0,opacity:0,position:"absolute",zIndex:pf.Endpage,widthExpr:"#concat($const.systemInfo.screenWidth, 'px')",heightExpr:"#concat($const.systemInfo.screenHeight, 'px')",top:0,left:0,flexDirection:"column",overflow:"hidden",justifyContent:"center"}}]}}],hostMessage:[{action:Lw.REWARDEDVIDEODYNAMIC,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait()`,value:{list:[{op:"setStyle",id:"wegameEndpage",style:{hidden:!1}}]}},{action:Lw.REPORTADMONITORDATA,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait()`,value:{id:He,key:Kp.idKey,extInfo:{picNumExpr:"#getVar('promotionPicLen')",type:"endpage1"}}},{action:Lw.REWARDEDVIDEODYNAMIC,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait()`,delay:250,value:{list:[{op:"animate",id:"wegameEndpage",options:{opacity:1,duration:280}}]}}]},innerStyles:{container:{style:{widthExpr:"#concat($const.systemInfo.screenWidth, 'px')",heightExpr:"#concat($const.systemInfo.screenHeight, 'px')",flexDirection:"column",justifyContent:"center"}}}},children:[{type:"layout",id:"backgroundContainer",options:{innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",top:"0px"}}},events:{tap:[{action:Lw.REPORTADMONITORDATA,expr:"#rewardedVideoIsTriggerClick($args.event)",value:{id:He,key:Xp.idKey,extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_BLANK,type:"endpage1"}}}]}},children:[{type:"image",id:"backgroundImage",options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.card.headBgImg"},innerStyles:{img:{style:{widthExpr:"$scope.private.defaultPageBackgroundImage.style.width",heightExpr:"$scope.private.defaultPageBackgroundImage.style.height",leftExpr:"$scope.private.defaultPageBackgroundImage.style.left",topExpr:"$scope.private.defaultPageBackgroundImage.style.top"}},container:{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}}}},{type:"layout",id:"defaultPageBackgroundMask",options:{baseType:1,innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"#000000",opacity:.6}}}},children:[]}]},{type:"layout",id:"contentContainer",options:{innerStyles:{container:{style:{flexDirection:"column",justifyContent:"flex-start",alignItems:"center",paddingTopExpr:"#bool(#getVar('promotionPicLen') > 0 || $ad.extBackComm.wegameInfo.banner_url) ? '80px' : '0'"}}}},children:[{type:"image",id:"adIcon",options:{baseType:Xw.ICON,innerStyles:{container:{style:{width:"82px",height:"82px",borderRadius:"41px"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_HEAD_IMG}}}]}}},{type:"layout",id:"adDescGroup",options:{baseType:Zw.COLUMN,innerStyles:{container:{style:{widthExpr:"#concat(#sub(#getVar('viewportWidth'), 16), 'px')",marginTop:"16px",justifyContent:"flex-start"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_WORDING}}}]}},children:[{type:"text",id:"adTitle",options:{baseType:eT.NICKNAME,innerStyles:{container:{style:{width:"100%",height:"28px"}},text:{style:{textAlign:"center",width:"100%",height:"28px",lineHeight:"28px",fontSize:"20px",color:"#fff",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis"}}}}},{type:"text",id:"adDesc",options:{baseType:eT.COMMON,data:{textExpr:"$ad.crtInfo.0.wxgame_video_card.desc"},innerStyles:{container:{style:{marginTop:"4px",width:"100%",height:"20px"}},text:{style:{textAlign:"center",width:"100%",fontSize:"14px",height:"20px",lineHeight:"20px",color:"rgba(255, 255, 255, 0.8)",fontWeight:400,overflow:"hidden",textOverflow:"ellipsis"}}}}}]},{type:"layout",id:"categoryGroup",options:{baseType:Zw.ROW,data:{_isShowExpr:"#len(#getVar('categoryInfo')) > 0"},innerStyles:{container:{style:{marginTop:"6px"}}}},children:[{type:"text",id:"category1",options:{baseType:eT.COMMON,data:{textExpr:"#get(#getVar('categoryInfo'), '0')"},innerStyles:{container:{style:{widthExpr:"#concat(#add(#measureText(#get(#getVar('categoryInfo',), '0'), 10), 8), 'px')",padding:"2px 0",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"3px"}},text:{style:{width:"100%",textAlign:"center",fontSize:"10px",lineHeight:"14px",height:"14px",fontWeight:400,color:"rgba(255, 255, 255, 0.8)"}}}}},{type:"text",id:"category2",options:{baseType:eT.COMMON,data:{_isShowExpr:"#bool(#get(#getVar('categoryInfo'), '1'))",textExpr:"#get(#getVar('categoryInfo'), '1')"},innerStyles:{container:{style:{widthExpr:"#concat(#add(#measureText(#get(#getVar('categoryInfo'), '1'), 10), 8), 'px')",marginLeft:"8px",padding:"2px 0",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"3px"}},text:{style:{width:"100%",textAlign:"center",fontSize:"10px",lineHeight:"14px",height:"14px",fontWeight:400,color:"rgba(255, 255, 255, 0.8)"}}}}}]},{type:"layout",id:"actGroup",options:{baseType:Zw.ROW,data:{_isShowExpr:"#bool(#getVar('actInfoList') && #scope(#get(#getVar('actInfoList'), '0.type') != 'default'))"},innerStyles:{container:{style:{marginTop:"16px",widthExpr:"#concat(#add(#getVar('viewportWidth'), 16), 'px')",alignItems:"flex-end"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_ACT_INFO}}}]}},children:[{type:"for",id:"actInfoList",options:{data:{forArrExpr:"#slice(#getVar('actInfoList'), 0, 3)"}},children:[{type:"layout",id:"actItemSplitLine",options:{baseType:Zw.COMMON,data:{_isShowExpr:"#bool($for.index && #scope($for.item.type == 'rank' || #scope($for.item.val && #scope($for.item.val >= 2))))"},innerStyles:{container:{style:{width:"0.5px",height:"32px",backgroundColor:"rgba(255, 255, 255, 0.1)"}}}}},{type:"layout",id:"actItem",options:{baseType:Zw.COLUMN,data:{_isShowExpr:"#bool($for.item.type == 'rank' || #scope($for.item.val && #scope($for.item.val >= 2)))"},innerStyles:{container:{style:{display:"flex",flex:1,height:"47px",alignItems:"center"}}}},children:[{type:"text",id:"actItemTitle",options:{baseType:eT.COMMON,data:{textExpr:"$for.item.type == 'rank' ? #slice($for.item.text, 0, 3) : #value(#getVar('actTitleMap'), $for.item.type)"},innerStyles:{container:{style:{width:"100%",marginTop:"2px"}},text:{style:{width:"100%",textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontSize:"12px",height:"17px",fontWeight:400,lineHeight:"17px"}}}}},{type:"layout",id:"actItemValueGroup",options:{baseType:Zw.ROW,innerStyles:{container:{style:{justifyContent:"center",alignItems:"flex-end",marginTopExpr:"$for.item.type == 'rank' ? '3px' : '0'",width:"100%",flex:1}}}},children:[{type:"image",id:"leftWing",options:{baseType:Xw.COMMON,data:{_isShowExpr:"$for.item.type == 'rank'",imgUrl:"https://wxa.wxs.qq.com/images/wxapp/endpage-left-wing.png"},innerStyles:{container:{style:{width:"12px",height:"21px",marginBottom:"2px"}},img:{style:{width:"12px",height:"21px"}}}}},{type:"text",id:"actItemValue",options:{baseType:eT.COMMON,data:{textExpr:"$for.item.type == 'rank' ? #slice($for.item.text, 3) : #replace(#slice($for.item.text, 0, #sub(0, 2)), '人', '')"},innerStyles:{container:{style:{widthExpr:"$for.item.type == 'rank' ? #concat(#add(#measureText(#slice($for.item.text, 3), 17), 8), 'px') : '120px'"}},text:{style:{width:"100%",textAlign:"center",color:"rgba(255, 255, 255, 0.8)",fontSize:"17px",height:"24px",fontWeight:500,lineHeight:"24px"}}}}},{type:"image",id:"rightWing",options:{baseType:Xw.COMMON,data:{_isShowExpr:"$for.item.type == 'rank'",imgUrl:"https://wxa.wxs.qq.com/images/wxapp/endpage-right-wing.png"},innerStyles:{container:{style:{width:"12px",height:"21px",marginBottom:"2px"}},img:{style:{width:"12px",height:"21px"}}}}}]}]}]}]},{type:"layout",id:"promotionPicGroup",options:{baseType:Zw.COLUMN,data:{_isShowExpr:"#bool(#getVar('promotionPicLen') > 0 || $ad.extBackComm.wegameInfo.banner_url)"},innerStyles:{container:{style:{width:"100%",overflow:"hidden",marginTop:"16px",alignItems:"center",justifyContent:"flex-start"}}}},children:[{type:"layout",id:"promotionSinglePicWrap",options:{baseType:Zw.ROW,data:{_isShowExpr:"#getVar('promotionPicLen') < #scope(#getVar('promotionPicDire') == 1 ? 3 : 2)"},innerStyles:{container:{style:{marginTop:"16px",widthExpr:"#concat(#getVar('viewportWidth'), 'px')",justifyContent:"center",alignItems:"center"}}}},children:[{type:"for",id:"promotionSinglePic",options:{baseType:rT.COMMON,data:{forArrExpr:"#getVar('promotionPicLen') >= 1 ? #map(#getVar('promotionPic'), '$item.img_url') : #toArray($ad.extBackComm.wegameInfo.banner_url)"},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_PROMOTIONPIC,type:"single"}}}]}},children:[{type:"image",id:"promotionSinglePic",options:{baseType:Xw.COMMON,data:{imgUrlExpr:"$for.item"},innerStyles:{container:{style:{marginLeftExpr:"$for.index ? '16px' : '0'",widthExpr:"#getVar('singlePicWidth')",heightExpr:"#getVar('singlePicHeight')"}},img:{style:{borderRadius:"8px"}}}}}]}]},{type:"layout",id:"promotionPicList",options:{baseType:Zw.ROW,data:{_slideProperty:{direction:["left","right"],offset:30},_isShowExpr:"#getVar('promotionPicLen') > #scope(#getVar('promotionPicDire') == 1 ? 2 : 1)"},animations:[{left:0},{leftExpr:"#sub(0, #add(#getVar('picWidth'), 16))"},{leftExpr:"#sub(0, #sub(#add(#multi(3, #getVar('picWidth')), 32), #getVar('viewportWidth')))"},{leftExpr:"#sub(0, #sub(#add(#multi(2, #getVar('picWidth')), 16), #getVar('viewportWidth')))"}].reduce(((e,t,i)=>({...e,[i+1]:{keys:[{offset:0},{offset:1,...t}],duration:180,easing:"linear"}})),{}),innerStyles:{container:{style:{marginTop:"16px",justifyContent:"flex-start",alignSelf:"flex-start",alignItems:"stretch",position:"relative",left:0,transition:"left 0.3s ease"}}},events:{animationend:[{action:Lw.SETEXPRVARS,expr:"#getVar('picState') >= 5",value:{key:"picState",valueExpr:"#sub(#getVar('picState'), 4)"}}],tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_PROMOTIONPIC,type:"multi"}}}],combineSlide:[{action:Lw.ANIMATE,value:{animationExpr:"$args.animation"}},{action:Lw.SETEXPRVARS,value:{key:"picState",valueExpr:"#add($args.animation, 4)"}},{action:Lw.REPORTADMONITORDATA,value:{id:He,key:Zp.idKey,extInfo:{directionExpr:"$args.direction",stateExpr:"$args.animation",typeExpr:"#getVar('picSlideType')",mainType:"endpage1"}}}],slide:["A2rA4rC3rB4r","A1l","A2lC1lA4l","A3rB1l"].reduce(((e,t,i)=>{var a=`#like('${t}', #concat(#getVar('picSlideType'), #getVar('picState'), #slice($args.direction, 0, 1)))`;return[...e,{action:Lw.TRIGGERCOMPONENTEVENT,expr:a,value:{eventName:"combineSlide",args:{animation:i+1,directionExpr:"$args.direction"}}}]}),[])}},children:[{type:"for",id:"forPromotionPic",options:{data:{forArrExpr:"#getVar('promotionPic')"}},children:[{type:"image",id:"promotionPicItem",options:{baseType:Xw.COMMON,data:{imgUrlExpr:"$for.item.img_url"},innerStyles:{container:{style:{marginLeft:"16px",widthExpr:"#concat(#getVar('picWidth'), 'px')",heightExpr:"#getVar('promotionPicDire') == 1 ? '242px' : '176px'"}},img:{style:{borderRadius:"8px"}}}}}]}]}]},{type:"button",id:"adButton",options:{baseType:tT.LOGICCOMMON,innerStyles:{container:{style:{widthExpr:"#concat(#getVar('viewportWidth'), 'px')",height:"48px",borderRadius:"8px",backgroundColor:"#07C160",marginTop:"32px"}},buttonText:{style:{width:"100%",height:"48px",lineHeight:"48px",textAlign:"center",fontSize:"17px",fontWeight:500}}}}},{type:"text",id:"adConversion",options:{baseType:eT.COMMON,data:{textExpr:""},events:{templateWillUpdate:[],hostMessage:[{action:Lw.TEXTSETTEXT,expr:`$args.message == '${Pi}'`,value:{textExpr:"$args.args.slashText"}},{action:Lw.SETSTYLE,expr:`$args.message == '${Pi}'`,value:{id:"container",style:{display:"flex"}}}]},innerStyles:{container:{style:{marginTop:"8px",display:"none",widthExpr:"#concat(#getVar('viewportWidth'), 'px')"}},text:{style:{width:"100%",textAlign:"center",fontSize:"12px",height:"17px",lineHeight:"17px",fontWeight:400,color:"rgba(255, 255, 255, 0.5)"}}}}}]}]}},{id:"wegameEndpage2",op:"insert",parent:"container",useAdTemplate:!0,expr:Zk,tpl:{type:"layout",id:"endpageContainer",options:{baseType:Zw.COLUMN,events:{templateWillUpdate:[{action:Lw.EMITCUSTOMMESSAGE,value:{message:_m}},{action:Lw.BATCHSETEXPRVARS,value:{list:[{key:"actInfoList",valueExpr:"#rewardedVideoGetDanmuInfo()"},{key:"picClickable",value:!0},{key:"categoryInfo",valueExpr:"#rewardedVideoGetCategoryInfos()"},{key:"emptyArr",value:[]},{key:"promotionPic",valueExpr:"#scope($ad.extBackComm.wegameInfo.promotional_pic && #scope($const.systemInfo.screenHeight >= 800)) ? $ad.extBackComm.wegameInfo.promotional_pic.item_list : #getVar('emptyArr')"},{key:"promotionPicLen",valueExpr:"#len(#getVar('promotionPic')) || 0"},{key:"promotionPicDire",valueExpr:"#getVar('promotionPicLen') == 0 ? 0 : #get(#getVar('promotionPic'), '0.direction')"},{key:"viewportWidth",valueExpr:"#sub($const.systemInfo.screenWidth, 32)"},{key:"picHeight",valueExpr:"#getVar('promotionPicDire') == 1 ? #sub($const.systemInfo.screenHeight, #add($scope.private.topBar.style.top, 370)) : #multi(#getVar('viewportWidth'), #division(9, 16))"},{key:"picWidth",valueExpr:"#getVar('promotionPicDire') == 1 ? #multi(#getVar('picHeight'), #division(9, 16)) : #getVar('viewportWidth')"},{key:"actTitleMap",value:{collect:"收藏",act:"在玩",share:"分享"}},{key:"picState",value:0}]}},{action:Lw.REPORTADMONITORDATA,value:{id:He,key:qp.idKey,extInfo:{picNumExpr:"#getVar('promotionPicLen')",type:"endpage2"}}},{action:Lw.REWARDEDVIDEODYNAMIC,value:{list:[{op:"setStyle",id:"wegameEndpage2",style:{hidden:!0,opacity:0,position:"absolute",zIndex:pf.Endpage,widthExpr:"#concat($const.systemInfo.screenWidth, 'px')",heightExpr:"#concat($const.systemInfo.screenHeight, 'px')",top:0,left:0,flexDirection:"column",overflow:"hidden",justifyContent:"center"}}]}}],hostMessage:[{action:Lw.REWARDEDVIDEODYNAMIC,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait()`,value:{list:[{op:"setStyle",id:"wegameEndpage2",style:{hidden:!1}}]}},{action:Lw.REPORTADMONITORDATA,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait()`,value:{id:He,key:Kp.idKey,extInfo:{picNumExpr:"#getVar('promotionPicLen')",type:"endpage2"}}},{action:Lw.REWARDEDVIDEODYNAMIC,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait()`,delay:250,value:{list:[{op:"animate",id:"wegameEndpage2",options:{opacity:1,duration:280}}]}}]},innerStyles:{container:{style:{widthExpr:"#concat($const.systemInfo.screenWidth, 'px')",heightExpr:"#concat($const.systemInfo.screenHeight, 'px')",flexDirection:"column",justifyContentExpr:"#getVar('promotionPicDire') == 1 ? 'flex-start' : 'center'"}}}},children:[{type:"layout",id:"backgroundContainer",options:{innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",top:"0px"}}},events:{tap:[{action:Lw.REPORTADMONITORDATA,expr:"#rewardedVideoIsTriggerClick($args.event)",value:{id:He,key:Xp.idKey,extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_BLANK,type:"endpage2"}}}]}},children:[{type:"image",id:"backgroundImage",options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.card.headBgImg"},innerStyles:{img:{style:{widthExpr:"$scope.private.defaultPageBackgroundImage.style.width",heightExpr:"$scope.private.defaultPageBackgroundImage.style.height",leftExpr:"$scope.private.defaultPageBackgroundImage.style.left",topExpr:"$scope.private.defaultPageBackgroundImage.style.top"}},container:{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}}}},{type:"layout",id:"defaultPageBackgroundMask",options:{baseType:1,innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"#000000",opacity:.6}}}},children:[]}]},{type:"layout",id:"contentContainer",options:{innerStyles:{container:{style:{marginTopExpr:"#getVar('promotionPicDire') == 1 ? #concat(#add($scope.private.topBar.style.top, 46), 'px') : 0",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",paddingTopExpr:"#getVar('promotionPicDire') == 2 ? '80px' : '0'"}}}},children:[{type:"layout",id:"promotionPicGroup",options:{baseType:Zw.COMMON,data:{_isShowExpr:"#getVar('promotionPicLen') > 0"},innerStyles:{container:{style:{widthExpr:"#concat(#getVar('picWidth'), 'px')",heightExpr:"#concat(#getVar('picHeight'), 'px')",position:"relative",marginBottom:"-32px"}}}},children:[{type:"image",id:"promotionPic",options:{baseType:Xw.COMMON,data:{imgUrlExpr:"#get(#getVar('promotionPic'), '0.img_url')"},innerStyles:{container:{style:{position:"absolute",left:0,top:0,widthExpr:"#concat(#getVar('picWidth'), 'px')",heightExpr:"#concat(#getVar('picHeight'), 'px')"}},img:{style:{borderRadius:"12px"}}},events:{tap:[{action:Lw.REPORTADMONITORDATA,expr:"#rewardedVideoIsTriggerClick($args.event)",value:{id:He,key:Xp.idKey,extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_PROMOTIONPIC,type:"endpage2"}}},{action:Lw.LANDAD,expr:"#getVar('picClickable')",value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_PROMOTIONPIC}}}]}}}]},{type:"image",id:"adIcon",options:{baseType:Xw.ICON,innerStyles:{container:{style:{width:"64px",height:"64px",borderRadius:"32px"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_HEAD_IMG}}}]}}},{type:"layout",id:"adDescGroup",options:{baseType:Zw.COLUMN,innerStyles:{container:{style:{widthExpr:"#concat(#sub(#getVar('viewportWidth'), 16), 'px')",marginTop:"16px",justifyContent:"flex-start"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_WORDING}}}]}},children:[{type:"text",id:"adTitle",options:{baseType:eT.NICKNAME,innerStyles:{container:{style:{width:"100%",height:"28px"}},text:{style:{textAlign:"center",width:"100%",height:"28px",lineHeight:"28px",fontSize:"20px",color:"#fff",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis"}}}}},{type:"text",id:"adDesc",options:{baseType:eT.COMMON,data:{textExpr:"$ad.crtInfo.0.wxgame_video_card.desc"},innerStyles:{container:{style:{marginTop:"4px",width:"100%",height:"20px"}},text:{style:{textAlign:"center",width:"100%",fontSize:"14px",height:"20px",lineHeight:"20px",color:"rgba(255, 255, 255, 0.8)",fontWeight:400,overflow:"hidden",textOverflow:"ellipsis"}}}}}]},{type:"layout",id:"categoryGroup",options:{baseType:Zw.ROW,data:{_isShowExpr:"#len(#getVar('categoryInfo')) > 0"},innerStyles:{container:{style:{marginTop:"6px"}}}},children:[{type:"text",id:"category1",options:{baseType:eT.COMMON,data:{textExpr:"#get(#getVar('categoryInfo'), '0')"},innerStyles:{container:{style:{widthExpr:"#concat(#add(#measureText(#get(#getVar('categoryInfo',), '0'), 10), 8), 'px')",padding:"2px 0",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"3px"}},text:{style:{width:"100%",textAlign:"center",fontSize:"10px",lineHeight:"14px",height:"14px",fontWeight:400,color:"rgba(255, 255, 255, 0.8)"}}}}},{type:"text",id:"category2",options:{baseType:eT.COMMON,data:{_isShowExpr:"#bool(#get(#getVar('categoryInfo'), '1'))",textExpr:"#get(#getVar('categoryInfo'), '1')"},innerStyles:{container:{style:{widthExpr:"#concat(#add(#measureText(#get(#getVar('categoryInfo'), '1'), 10), 8), 'px')",marginLeft:"8px",padding:"2px 0",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"3px"}},text:{style:{width:"100%",textAlign:"center",fontSize:"10px",lineHeight:"14px",height:"14px",fontWeight:400,color:"rgba(255, 255, 255, 0.8)"}}}}}]},{type:"layout",id:"actGroup",options:{baseType:Zw.ROW,data:{_isShowExpr:"#bool(#getVar('actInfoList') && #scope(#get(#getVar('actInfoList'), '0.type') != 'default'))"},innerStyles:{container:{style:{marginTop:"16px",widthExpr:"#concat(#add(#getVar('viewportWidth'), 16), 'px')",alignItems:"flex-end"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_ACT_INFO}}}]}},children:[{type:"for",id:"actInfoList",options:{data:{forArrExpr:"#slice(#getVar('actInfoList'), 0, 3)"}},children:[{type:"layout",id:"actItemSplitLine",options:{baseType:Zw.COMMON,data:{_isShowExpr:"#bool($for.index && #scope($for.item.type == 'rank' || #scope($for.item.val && #scope($for.item.val >= 2))))"},innerStyles:{container:{style:{width:"0.5px",height:"32px",backgroundColor:"rgba(255, 255, 255, 0.1)"}}}}},{type:"layout",id:"actItem",options:{baseType:Zw.COLUMN,data:{_isShowExpr:"#bool($for.item.type == 'rank' || #scope($for.item.val && #scope($for.item.val >= 2)))"},innerStyles:{container:{style:{display:"flex",flex:1,height:"47px",alignItems:"center"}}}},children:[{type:"text",id:"actItemTitle",options:{baseType:eT.COMMON,data:{textExpr:"$for.item.type == 'rank' ? #slice($for.item.text, 0, 3) : #value(#getVar('actTitleMap'), $for.item.type)"},innerStyles:{container:{style:{width:"100%",marginTop:"2px"}},text:{style:{width:"100%",textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontSize:"12px",height:"17px",fontWeight:400,lineHeight:"17px"}}}}},{type:"layout",id:"actItemValueGroup",options:{baseType:Zw.ROW,innerStyles:{container:{style:{justifyContent:"center",alignItems:"flex-end",marginTopExpr:"$for.item.type == 'rank' ? '3px' : '0'",width:"100%",flex:1}}}},children:[{type:"image",id:"leftWing",options:{baseType:Xw.COMMON,data:{_isShowExpr:"$for.item.type == 'rank'",imgUrl:"https://wxa.wxs.qq.com/images/wxapp/endpage-left-wing.png"},innerStyles:{container:{style:{width:"12px",height:"21px",marginBottom:"2px"}},img:{style:{width:"12px",height:"21px"}}}}},{type:"text",id:"actItemValue",options:{baseType:eT.COMMON,data:{textExpr:"$for.item.type == 'rank' ? #slice($for.item.text, 3) : #replace(#slice($for.item.text, 0, #sub(0, 2)), '人', '')"},innerStyles:{container:{style:{widthExpr:"$for.item.type == 'rank' ? #concat(#add(#measureText(#slice($for.item.text, 3), 17), 8), 'px') : '120px'"}},text:{style:{width:"100%",textAlign:"center",color:"rgba(255, 255, 255, 0.8)",fontSize:"17px",height:"24px",fontWeight:500,lineHeight:"24px"}}}}},{type:"image",id:"rightWing",options:{baseType:Xw.COMMON,data:{_isShowExpr:"$for.item.type == 'rank'",imgUrl:"https://wxa.wxs.qq.com/images/wxapp/endpage-right-wing.png"},innerStyles:{container:{style:{width:"12px",height:"21px",marginBottom:"2px"}},img:{style:{width:"12px",height:"21px"}}}}}]}]}]}]},{type:"button",id:"adButton",options:{baseType:tT.LOGICCOMMON,innerStyles:{container:{style:{widthExpr:"#concat(#getVar('viewportWidth'), 'px')",height:"48px",borderRadius:"8px",backgroundColor:"#07C160",marginTop:"32px"}},buttonText:{style:{width:"100%",height:"48px",lineHeight:"48px",textAlign:"center",fontSize:"17px",fontWeight:500}}}}},{type:"text",id:"adConversion",options:{baseType:eT.COMMON,data:{textExpr:""},events:{templateWillUpdate:[],hostMessage:[{action:Lw.TEXTSETTEXT,expr:`$args.message == '${Pi}'`,value:{textExpr:"$args.args.slashText"}},{action:Lw.SETSTYLE,expr:`$args.message == '${Pi}'`,value:{id:"container",style:{display:"flex"}}}]},innerStyles:{container:{style:{marginTop:"8px",display:"none",widthExpr:"#concat(#getVar('viewportWidth'), 'px')"}},text:{style:{width:"100%",textAlign:"center",fontSize:"12px",height:"17px",lineHeight:"17px",fontWeight:400,color:"rgba(255, 255, 255, 0.5)"}}}}}]}]}},{id:"wegameEndpage3",op:"insert",parent:"container",useAdTemplate:!0,expr:Xk,tpl:{type:"layout",id:"endpageContainer",options:{baseType:Zw.COLUMN,events:{templateWillUpdate:[{action:Lw.EMITCUSTOMMESSAGE,value:{message:_m}},{action:Lw.BATCHSETEXPRVARS,value:{list:[{key:"actInfoList",valueExpr:"#rewardedVideoGetDanmuInfo()"},{key:"picClickable",value:!0},{key:"categoryInfo",valueExpr:"#rewardedVideoGetCategoryInfos()"},{key:"emptyArr",value:[]},{key:"promotionPic",valueExpr:"#scope($ad.extBackComm.wegameInfo.promotional_pic && #scope($const.systemInfo.screenHeight >= 800)) ? $ad.extBackComm.wegameInfo.promotional_pic.item_list : #getVar('emptyArr')"},{key:"promotionPicLen",valueExpr:"#len(#getVar('promotionPic')) || 0"},{key:"promotionPicDire",valueExpr:"#getVar('promotionPicLen') == 0 ? 0 : #get(#getVar('promotionPic'), '0.direction')"},{key:"viewportWidth",valueExpr:"#sub($const.systemInfo.screenWidth, 32)"},{key:"singlePicHeight",valueExpr:"#getVar('promotionPicDire') == 1 ? #sub($const.systemInfo.screenHeight, #add($scope.private.topBar.style.top, 396)) : #multi(#getVar('viewportWidth'), #division(9, 16))"},{key:"singlePicWidth",valueExpr:"#getVar('promotionPicDire') == 1 ? #multi(#getVar('singlePicHeight'), #division(9, 16)) : #getVar('viewportWidth')"},{key:"picHeight",valueExpr:"#getVar('promotionPicLen') == 1 ? #getVar('singlePicHeight') : #scope(#getVar('promotionPicDire') == 1 ? 240 : 180)"},{key:"picWidth",valueExpr:"#getVar('promotionPicLen') == 1 ? #getVar('singlePicWidth') : #scope(#getVar('promotionPicDire') == 1 ? 135 : 320)"},{key:"portrait2PLocation",value:[[-215,47,-18],[-72,14,-6],[72,14,6],[215,47,18]]},{key:"portrait3PLocation",value:[[-281,76,-24],[-141,26,-12],[0,10,0],[140,26,12],[280,76,24]]},{key:"landscape2PLocation",value:[[-146,32,-12],[146,32,12]]},{key:"landscape3PLocation",value:[[-257,64,-18],[0,10,0],[257,64,18]]},{key:"picLocation",valueExpr:"#getVar('promotionPicLen') == 0 ? #getVar('emptyArr') : #scope(#getVar('promotionPicLen') == 1 ? #toArray(toArray(0, 0, 0)) : #scope(#getVar('promotionPicDire') == 1 ? #scope(#getVar('promotionPicLen') == 2 ? #getVar('portrait2PLocation') : #getVar('portrait3PLocation')) : #scope(#getVar('promotionPicLen') == 2 ? #getVar('landscape2PLocation') : #getVar('landscape3PLocation'))))"},{key:"isSinglePortrait",valueExpr:"#bool(#scope(#getVar('promotionPicLen') == 1) && #scope(#getVar('promotionPicDire') == 1))"},{key:"picArr",valueExpr:"#getVar('promotionPicDire') == 1 ? #split(#concat(#get(#slice(#getVar('promotionPic'), #sub(0, 1)), '0.img_url'), ',', #join(#map(#getVar('promotionPic'), '$item.img_url'), ','), ',', #get(#slice(#getVar('promotionPic'), 0, 1), '0.img_url')), ',') : #map(#getVar('promotionPic'), '$item.img_url')"},{key:"actTitleMap",value:{collect:"收藏",act:"在玩",share:"分享"}}]}},{action:Lw.REPORTADMONITORDATA,value:{id:He,key:qp.idKey,extInfo:{picNumExpr:"#getVar('promotionPicLen')",type:"endpage3"}}},{action:Lw.REWARDEDVIDEODYNAMIC,value:{list:[{op:"setStyle",id:"wegameEndpage3",style:{hidden:!0,opacity:0,position:"absolute",zIndex:pf.Endpage,widthExpr:"#concat($const.systemInfo.screenWidth, 'px')",heightExpr:"#concat($const.systemInfo.screenHeight, 'px')",top:0,left:0,flexDirection:"column",overflow:"hidden",justifyContent:"center"}}]}}],hostMessage:[{action:Lw.REWARDEDVIDEODYNAMIC,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait()`,value:{list:[{op:"setStyle",id:"wegameEndpage3",style:{hidden:!1}}]}},{action:Lw.REPORTADMONITORDATA,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait()`,value:{id:He,key:Kp.idKey,extInfo:{picNumExpr:"#getVar('promotionPicLen')",type:"endpage3"}}},{action:Lw.REWARDEDVIDEODYNAMIC,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait()`,delay:250,value:{list:[{op:"animate",id:"wegameEndpage3",options:{opacity:1,duration:280}}]}}]},innerStyles:{container:{style:{widthExpr:"#concat($const.systemInfo.screenWidth, 'px')",heightExpr:"#concat($const.systemInfo.screenHeight, 'px')",flexDirection:"column",justifyContentExpr:"#getVar('isSinglePortrait') ? 'flex-start' : 'center'"}}}},children:[{type:"layout",id:"backgroundContainer",options:{innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",top:"0px"}}},events:{tap:[{action:Lw.REPORTADMONITORDATA,expr:"#rewardedVideoIsTriggerClick($args.event)",value:{id:He,key:Xp.idKey,extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_BLANK,type:"endpage3"}}}]}},children:[{type:"image",id:"backgroundImage",options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.card.headBgImg"},innerStyles:{img:{style:{widthExpr:"$scope.private.defaultPageBackgroundImage.style.width",heightExpr:"$scope.private.defaultPageBackgroundImage.style.height",leftExpr:"$scope.private.defaultPageBackgroundImage.style.left",topExpr:"$scope.private.defaultPageBackgroundImage.style.top"}},container:{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}}}},{type:"layout",id:"defaultPageBackgroundMask",options:{baseType:1,innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"#000000",opacity:.6}}}},children:[]}]},{type:"layout",id:"contentContainer",options:{innerStyles:{container:{style:{marginTopExpr:"#getVar('isSinglePortrait') == 1 ? #concat(#add($scope.private.topBar.style.top, 46), 'px') : 0",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",paddingTopExpr:"#getVar('isSinglePortrait') ? '0' : '70px'"}}}},children:[{type:"layout",id:"promotionPicGroup",options:{baseType:Zw.COMMON,data:{_isShowExpr:"#getVar('promotionPicLen') > 0"},innerStyles:{container:{style:{overflow:"hidden",widthExpr:"$const.systemInfo.screenWidth",heightExpr:"#concat(#scope(#getVar('promotionPicLen') == 1 ? #getVar('picHeight') : #add(#add(#getVar('picHeight'), 51), #scope(#getVar('promotionPic') == 1 ? 14 : 39))), 'px')",position:"relative",marginBottom:"-41px"}}}},children:[{type:"for",id:"promotionPicArr",options:{baseType:rT.COMMON,data:{forArrExpr:"#getVar('picArr')"}},children:[{type:"layout",id:"promotionPicWrap",options:{baseType:Zw.COMMON,innerStyles:{container:{style:{position:"absolute",leftExpr:"#concat(#add(#get(#getVar('picLocation'), #concat($for.index, '.0')), #division(#sub($const.systemInfo.screenWidth, #getVar('picWidth')), 2)), 'px')",topExpr:"#concat(#get(#getVar('picLocation'), #concat($for.index, '.1')), 'px')",transformExpr:"#concat('rotate(', #get(#getVar('picLocation'), #concat($for.index, '.2')), 'deg)')",rotateExpr:"#concat(#get(#getVar('picLocation'), #concat($for.index, '.2')), 'deg')",widthExpr:"#concat(#getVar('picWidth'), 'px')",heightExpr:"#concat(#getVar('picHeight'), 'px')"}}}},children:[{type:"image",id:"promotionPicShadow",options:{baseType:Xw.COMMON,data:{_isShowExpr:"#getVar('promotionPicLen') > 1",imgUrlExpr:"#concat('https://wxa.wxs.qq.com/images/wxapp/shadow-', #scope(#getVar('promotionPicDire') == 1 ? 'portrait' : 'landscape'), '.png')"},innerStyles:{container:{style:{position:"absolute",leftExpr:"#concat(#getVar('promotionPicDire') == 1 ? #sub(0, 19) : #sub(0, 12), 'px')",topExpr:"#concat(#getVar('promotionPicDire') == 1 ? #sub(0, 7) : #sub(0, 4), 'px')",widthExpr:"#getVar('promotionPicDire') == 1 ? '154px' : '332px'",heightExpr:"#getVar('promotionPicDire') == 1 ? '253px' : '188px'"}}}}},{type:"image",id:"promotionPic",options:{baseType:Xw.COMMON,data:{imgUrlExpr:"$for.item"},innerStyles:{container:{style:{zIndexExpr:"#add($for.index, 1)",position:"absolute",left:0,top:0,widthExpr:"#concat(#getVar('picWidth'), 'px')",heightExpr:"#concat(#getVar('picHeight'), 'px')"}},img:{style:{borderRadius:"8px"}}},events:{tap:[{action:Lw.REPORTADMONITORDATA,expr:"#rewardedVideoIsTriggerClick($args.event)",value:{id:He,key:Xp.idKey,extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_PROMOTIONPIC,picIndexExpr:"$for.index",picCountExpr:"#len(#getVar('picArr'))",type:"endpage3"}}},{action:Lw.LANDAD,expr:"#getVar('picClickable')",value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_PROMOTIONPIC}}}]}}}]}]}]},{type:"image",id:"adIcon",options:{baseType:Xw.ICON,innerStyles:{container:{style:{width:"82px",height:"82px",borderRadius:"41px"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_HEAD_IMG}}}]}}},{type:"layout",id:"adDescGroup",options:{baseType:Zw.COLUMN,innerStyles:{container:{style:{widthExpr:"#concat(#sub(#getVar('viewportWidth'), 16), 'px')",marginTop:"16px",justifyContent:"flex-start"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_WORDING}}}]}},children:[{type:"text",id:"adTitle",options:{baseType:eT.NICKNAME,innerStyles:{container:{style:{width:"100%",height:"28px"}},text:{style:{textAlign:"center",width:"100%",height:"28px",lineHeight:"28px",fontSize:"20px",color:"#fff",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis"}}}}},{type:"text",id:"adDesc",options:{baseType:eT.COMMON,data:{textExpr:"$ad.crtInfo.0.wxgame_video_card.desc"},innerStyles:{container:{style:{marginTop:"4px",width:"100%",height:"20px"}},text:{style:{textAlign:"center",width:"100%",fontSize:"14px",height:"20px",lineHeight:"20px",color:"rgba(255, 255, 255, 0.8)",fontWeight:400,overflow:"hidden",textOverflow:"ellipsis"}}}}}]},{type:"layout",id:"categoryGroup",options:{baseType:Zw.ROW,data:{_isShowExpr:"#len(#getVar('categoryInfo')) > 0"},innerStyles:{container:{style:{marginTop:"6px"}}}},children:[{type:"text",id:"category1",options:{baseType:eT.COMMON,data:{textExpr:"#get(#getVar('categoryInfo'), '0')"},innerStyles:{container:{style:{widthExpr:"#concat(#add(#measureText(#get(#getVar('categoryInfo',), '0'), 10), 8), 'px')",padding:"2px 0",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"3px"}},text:{style:{width:"100%",textAlign:"center",fontSize:"10px",lineHeight:"14px",height:"14px",fontWeight:400,color:"rgba(255, 255, 255, 0.8)"}}}}},{type:"text",id:"category2",options:{baseType:eT.COMMON,data:{_isShowExpr:"#bool(#get(#getVar('categoryInfo'), '1'))",textExpr:"#get(#getVar('categoryInfo'), '1')"},innerStyles:{container:{style:{widthExpr:"#concat(#add(#measureText(#get(#getVar('categoryInfo'), '1'), 10), 8), 'px')",marginLeft:"8px",padding:"2px 0",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"3px"}},text:{style:{width:"100%",textAlign:"center",fontSize:"10px",lineHeight:"14px",height:"14px",fontWeight:400,color:"rgba(255, 255, 255, 0.8)"}}}}}]},{type:"layout",id:"actGroup",options:{baseType:Zw.ROW,data:{_isShowExpr:"#bool(#getVar('actInfoList') && #scope(#get(#getVar('actInfoList'), '0.type') != 'default'))"},innerStyles:{container:{style:{marginTop:"16px",widthExpr:"#concat(#add(#getVar('viewportWidth'), 16), 'px')",alignItems:"flex-end"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_ACT_INFO}}}]}},children:[{type:"for",id:"actInfoList",options:{data:{forArrExpr:"#slice(#getVar('actInfoList'), 0, 3)"}},children:[{type:"layout",id:"actItemSplitLine",options:{baseType:Zw.COMMON,data:{_isShowExpr:"#bool($for.index && #scope($for.item.type == 'rank' || #scope($for.item.val && #scope($for.item.val >= 2))))"},innerStyles:{container:{style:{width:"0.5px",height:"32px",backgroundColor:"rgba(255, 255, 255, 0.1)"}}}}},{type:"layout",id:"actItem",options:{baseType:Zw.COLUMN,data:{_isShowExpr:"#bool($for.item.type == 'rank' || #scope($for.item.val && #scope($for.item.val >= 2)))"},innerStyles:{container:{style:{display:"flex",flex:1,height:"47px",alignItems:"center"}}}},children:[{type:"text",id:"actItemTitle",options:{baseType:eT.COMMON,data:{textExpr:"$for.item.type == 'rank' ? #slice($for.item.text, 0, 3) : #value(#getVar('actTitleMap'), $for.item.type)"},innerStyles:{container:{style:{width:"100%",marginTop:"2px"}},text:{style:{width:"100%",textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontSize:"12px",height:"17px",fontWeight:400,lineHeight:"17px"}}}}},{type:"layout",id:"actItemValueGroup",options:{baseType:Zw.ROW,innerStyles:{container:{style:{justifyContent:"center",alignItems:"flex-end",marginTopExpr:"$for.item.type == 'rank' ? '3px' : '0'",width:"100%",flex:1}}}},children:[{type:"image",id:"leftWing",options:{baseType:Xw.COMMON,data:{_isShowExpr:"$for.item.type == 'rank'",imgUrl:"https://wxa.wxs.qq.com/images/wxapp/endpage-left-wing.png"},innerStyles:{container:{style:{width:"12px",height:"21px",marginBottom:"2px"}},img:{style:{width:"12px",height:"21px"}}}}},{type:"text",id:"actItemValue",options:{baseType:eT.COMMON,data:{textExpr:"$for.item.type == 'rank' ? #slice($for.item.text, 3) : #replace(#slice($for.item.text, 0, #sub(0, 2)), '人', '')"},innerStyles:{container:{style:{widthExpr:"$for.item.type == 'rank' ? #concat(#add(#measureText(#slice($for.item.text, 3), 17), 8), 'px') : '120px'"}},text:{style:{width:"100%",textAlign:"center",color:"rgba(255, 255, 255, 0.8)",fontSize:"17px",height:"24px",fontWeight:500,lineHeight:"24px"}}}}},{type:"image",id:"rightWing",options:{baseType:Xw.COMMON,data:{_isShowExpr:"$for.item.type == 'rank'",imgUrl:"https://wxa.wxs.qq.com/images/wxapp/endpage-right-wing.png"},innerStyles:{container:{style:{width:"12px",height:"21px",marginBottom:"2px"}},img:{style:{width:"12px",height:"21px"}}}}}]}]}]}]},{type:"button",id:"adButton",options:{baseType:tT.LOGICCOMMON,innerStyles:{container:{style:{widthExpr:"#concat(#getVar('viewportWidth'), 'px')",height:"48px",borderRadius:"8px",backgroundColor:"#07C160",marginTop:"32px"}},buttonText:{style:{width:"100%",height:"48px",lineHeight:"48px",textAlign:"center",fontSize:"17px",fontWeight:500}}}}},{type:"text",id:"adConversion",options:{baseType:eT.COMMON,data:{textExpr:""},events:{templateWillUpdate:[],hostMessage:[{action:Lw.TEXTSETTEXT,expr:`$args.message == '${Pi}'`,value:{textExpr:"$args.args.slashText"}},{action:Lw.SETSTYLE,expr:`$args.message == '${Pi}'`,value:{id:"container",style:{display:"flex"}}}]},innerStyles:{container:{style:{marginTop:"8px",display:"none",widthExpr:"#concat(#getVar('viewportWidth'), 'px')"}},text:{style:{width:"100%",textAlign:"center",fontSize:"12px",height:"17px",lineHeight:"17px",fontWeight:400,color:"rgba(255, 255, 255, 0.5)"}}}}}]}]}},{id:"wegameEndpage4",op:"insert",parent:"container",useAdTemplate:!0,expr:Jk,tpl:{type:"layout",id:"endpageContainer",options:{baseType:Zw.COLUMN,events:{templateWillUpdate:[{action:Lw.EMITCUSTOMMESSAGE,value:{message:_m}},{action:Lw.BATCHSETEXPRVARS,value:{list:[{key:"originActInfoList",valueExpr:"#rewardedVideoGetDanmuInfo()"},{key:"rankStr",value:"'rank'"},{key:"actInfoList",valueExpr:"#reduce(#getVar('originActInfoList'), #concat('#bool(#scope($item2.type == ', #getVar('rankStr'), ') || #scope($item2.val > 1)) ? #append($item1, $item2) : $item1'), #parse('[]'))"},{key:"categoryInfo",valueExpr:"#rewardedVideoGetCategoryInfos()"},{key:"emptyArr",value:[]},{key:"actInfoForArr",valueExpr:"#getVar('actInfoList') ? #slice(#getVar('actInfoList'), 0, 3) : #getVar('emptyArr')"},{key:"actInfoLen",valueExpr:"#len(#getVar('actInfoForArr'))"},{key:"promotionPic",valueExpr:"#scope($ad.extBackComm.wegameInfo.promotional_pic && #scope($const.systemInfo.screenHeight >= 800)) ? $ad.extBackComm.wegameInfo.promotional_pic.item_list : #getVar('emptyArr')"},{key:"promotionPicLen",valueExpr:"#len(#getVar('promotionPic')) || 0"},{key:"promotionPicDire",valueExpr:"#getVar('promotionPicLen') == 0 ? 2 : #get(#getVar('promotionPic'), '0.direction')"},{key:"viewportWidth",valueExpr:"#sub($const.systemInfo.screenWidth, 32)"},{key:"singlePicWidth",valueExpr:"#division(#sub(#getVar('viewportWidth'), 64), 3)"},{key:"singlePicHeight",valueExpr:"#multi(#division(#getVar('singlePicWidth'), 9), 16)"},{key:"picState",value:1},{key:"picSlideType",valueExpr:"#scope(#scope(#getVar('promotionPicDire') == 1) && #scope(#getVar('promotionPicLen') == 3)) ? 'C' : #scope(#getVar('promotionPicLen') == 2 ? 'B' : 'A')"},{key:"picWidth",valueExpr:"#multi(#division(132, 9), 16))"},{key:"actTitleMap",value:{collect:"收藏",act:"在玩",share:"分享"}}]}},{action:Lw.REPORTADMONITORDATA,value:{id:He,key:qp.idKey,extInfo:{picNumExpr:"#getVar('promotionPicLen')",type:"endpage4"}}},{action:Lw.REWARDEDVIDEODYNAMIC,value:{list:[{op:"setStyle",id:"wegameEndpage4",style:{hidden:!0,opacity:0,position:"absolute",zIndex:pf.Endpage,widthExpr:"#concat($const.systemInfo.screenWidth, 'px')",heightExpr:"#concat($const.systemInfo.screenHeight, 'px')",top:0,left:0,flexDirection:"column",overflow:"hidden",justifyContent:"center"}}]}}],hostMessage:[{action:Lw.REWARDEDVIDEODYNAMIC,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait() && #scope(#getVar('actInfoLen') > 1)`,value:{list:[{op:"setStyle",id:"wegameEndpage4",style:{hidden:!1}}]}},{action:Lw.REPORTADMONITORDATA,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait() && #scope(#getVar('actInfoLen') > 1)`,value:{id:He,key:Kp.idKey,extInfo:{picNumExpr:"#getVar('promotionPicLen')",type:"endpage4"}}},{action:Lw.REWARDEDVIDEODYNAMIC,expr:`$args.message == '${Ei}' && #rewardedVideoIsPortrait() && #scope(#getVar('actInfoLen') > 1)`,delay:250,value:{list:[{op:"animate",id:"wegameEndpage4",options:{opacity:1,duration:280}}]}}]},innerStyles:{container:{style:{widthExpr:"#concat($const.systemInfo.screenWidth, 'px')",heightExpr:"#concat($const.systemInfo.screenHeight, 'px')",flexDirection:"column",justifyContent:"center"}}}},children:[{type:"layout",id:"backgroundContainer",options:{innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",top:"0px"}}},events:{tap:[{action:Lw.REPORTADMONITORDATA,expr:"#rewardedVideoIsTriggerClick($args.event)",value:{id:He,key:Xp.idKey,extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_BLANK,type:"endpage4"}}}]}},children:[{type:"image",id:"backgroundImage",options:{baseType:1,data:{imgUrlExpr:"$scope.private.data.card.headBgImg"},innerStyles:{img:{style:{widthExpr:"$scope.private.defaultPageBackgroundImage.style.width",heightExpr:"$scope.private.defaultPageBackgroundImage.style.height",leftExpr:"$scope.private.defaultPageBackgroundImage.style.left",topExpr:"$scope.private.defaultPageBackgroundImage.style.top"}},container:{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}}}},{type:"layout",id:"defaultPageBackgroundMask",options:{baseType:1,innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"#000000",opacity:.6}}}},children:[]}]},{type:"layout",id:"contentContainer",options:{innerStyles:{container:{style:{flexDirection:"column",justifyContent:"flex-start",alignItems:"center",paddingTopExpr:"#bool(#getVar('promotionPicLen') > 2"}}}},children:[{type:"layout",id:"warp",options:{baseType:Zw.COLUMN,innerStyles:{container:{style:{widthExpr:"#concat(#getVar('viewportWidth'), 'px')",justifyContent:"flex-start",alignItems:"center",position:"relative",borderRadius:"8px",overflow:"hidden"}}}},children:[{type:"layout",id:"backgroundContainer2",options:{data:{_isShow:!1},innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",top:"0px"}}}},children:[{type:"image",id:"backgroundImage2",options:{baseType:1,data:{imgUrlExpr:"#get(#getVar('promotionPic'), '1.img_url')"},innerStyles:{img:{style:{opacity:.1,borderRadius:"8px",widthExpr:"#getVar('promotionPicDire') == 1 ? #concat(#getVar('viewportWidth'), 'px') : #concat(#division(#multi(262, 16), 9), 'px')",heightExpr:"#getVar('promotionPicDire') == 1 ? #concat(#division(#multi(#getVar('viewportWidth'), 16), 9), 'px') : '262px'"}},container:{style:{position:"absolute",top:0,left:0,justifyContent:"center",alignItems:"center",width:"100%",height:"100%",overflow:"hidden"}}}}},{type:"layout",id:"defaultPageBackgroundMask2",options:{baseType:1,innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"#000000",opacity:.05}}}},children:[]}]},{type:"layout",id:"mainInfoGroup",options:{baseType:Zw.COLUMN,innerStyles:{container:{style:{zIndex:1,widthExpr:"#concat(#getVar('viewportWidth'), 'px')",borderWidth:"1px",borderColor:"rgba(255, 255, 255, 0.10)",backgroundColor:"rgba(255, 255, 255, 0.10)",borderRadius:"8px",paddingTop:"56px",paddingBottom:"34px",justifyContent:"flex-start",alignItems:"center",position:"relative"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_HEAD_IMG}}}]}},children:[{type:"image",id:"adIcon",options:{baseType:Xw.ICON,innerStyles:{container:{style:{width:"82px",height:"82px",borderRadius:"41px"}}}}},{type:"layout",id:"adDescGroup",options:{baseType:Zw.COLUMN,innerStyles:{container:{style:{width:"100%",marginTop:"16px",justifyContent:"flex-start"}}}},children:[{type:"text",id:"adTitle",options:{baseType:eT.NICKNAME,innerStyles:{container:{style:{width:"100%",height:"28px"}},text:{style:{textAlign:"center",width:"100%",height:"28px",lineHeight:"28px",fontSize:"20px",color:"#fff",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis"}}}}},{type:"text",id:"adDesc",options:{baseType:eT.COMMON,data:{textExpr:"$ad.crtInfo.0.wxgame_video_card.desc"},innerStyles:{container:{style:{marginTop:"4px",width:"100%",height:"20px",marginLeft:"8px",marginRight:"8px"}},text:{style:{textAlign:"center",width:"100%",fontSize:"14px",height:"20px",lineHeight:"20px",color:"rgba(255, 255, 255, 0.8)",fontWeight:400,overflow:"hidden",textOverflow:"ellipsis"}}}}}]},{type:"layout",id:"categoryGroup",options:{baseType:Zw.ROW,data:{_isShowExpr:"#len(#getVar('categoryInfo')) > 0"},innerStyles:{container:{style:{marginTop:"6px"}}}},children:[{type:"text",id:"category1",options:{baseType:eT.COMMON,data:{textExpr:"#get(#getVar('categoryInfo'), '0')"},innerStyles:{container:{style:{widthExpr:"#concat(#add(#measureText(#get(#getVar('categoryInfo',), '0'), 10), 8), 'px')",padding:"2px 0",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"3px"}},text:{style:{width:"100%",textAlign:"center",fontSize:"10px",lineHeight:"14px",height:"14px",fontWeight:400,color:"rgba(255, 255, 255, 0.8)"}}}}},{type:"text",id:"category2",options:{baseType:eT.COMMON,data:{_isShowExpr:"#bool(#get(#getVar('categoryInfo'), '1'))",textExpr:"#get(#getVar('categoryInfo'), '1')"},innerStyles:{container:{style:{widthExpr:"#concat(#add(#measureText(#get(#getVar('categoryInfo'), '1'), 10), 8), 'px')",marginLeft:"8px",padding:"2px 0",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"3px"}},text:{style:{width:"100%",textAlign:"center",fontSize:"10px",lineHeight:"14px",height:"14px",fontWeight:400,color:"rgba(255, 255, 255, 0.8)"}}}}}]}]}]},{type:"layout",id:"actGroup",options:{baseType:Zw.ROW,data:{_isShowExpr:"#bool(#getVar('actInfoList') && #scope(#get(#getVar('actInfoList'), '0.type') != 'default'))"},innerStyles:{container:{style:{marginTop:"16px",widthExpr:"#concat(#getVar('viewportWidth'), 'px')",alignItems:"flex-end",justifyContent:"space-between"}}}},children:[{type:"for",id:"actInfoList",options:{data:{forArrExpr:"#getVar('actInfoForArr')"}},children:[{type:"layout",id:"actItem",options:{baseType:Zw.COLUMN,data:{},innerStyles:{container:{style:{widthExpr:"#concat(#division(#sub(#getVar('viewportWidth'), #multi(17, #sub(#getVar('actInfoLen'), 1))), #getVar('actInfoLen')), 'px')",height:"63px",alignItems:"center",borderRadius:"8px",padding:"8px 0",borderWidth:"1px",borderColor:"rgba(255, 255, 255, 0.10)",backgroundColor:"rgba(255, 255, 255, 0.10)"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_ACT_INFO}}}]}},children:[{type:"text",id:"actItemTitle",options:{baseType:eT.COMMON,data:{textExpr:"$for.item.type == 'rank' ? #slice($for.item.text, 0, 3) : #value(#getVar('actTitleMap'), $for.item.type)"},innerStyles:{container:{style:{width:"100%"}},text:{style:{width:"100%",textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontSize:"12px",height:"17px",fontWeight:400,lineHeight:"17px"}}}}},{type:"layout",id:"actItemValueGroup",options:{baseType:Zw.ROW,innerStyles:{container:{style:{justifyContent:"center",alignItems:"flex-end",marginTopExpr:"$for.item.type == 'rank' ? '3px' : '0'",width:"100%",flex:1}}}},children:[{type:"image",id:"leftWing",options:{baseType:Xw.COMMON,data:{_isShowExpr:"$for.item.type == 'rank'",imgUrl:"https://wxa.wxs.qq.com/images/wxapp/endpage-left-wing.png"},innerStyles:{container:{style:{width:"12px",height:"21px",marginBottom:"2px"}},img:{style:{width:"12px",height:"21px"}}}}},{type:"text",id:"actItemValue",options:{baseType:eT.COMMON,data:{textExpr:"$for.item.type == 'rank' ? #slice($for.item.text, 3) : #replace(#slice($for.item.text, 0, #sub(0, 2)), '人', '')"},innerStyles:{container:{style:{widthExpr:"$for.item.type == 'rank' ? #concat(#add(#measureText(#slice($for.item.text, 3), 17), 8), 'px') : '120px'"}},text:{style:{width:"100%",textAlign:"center",color:"rgba(255, 255, 255, 0.8)",fontSize:"17px",height:"24px",fontWeight:500,lineHeight:"24px"}}}}},{type:"image",id:"rightWing",options:{baseType:Xw.COMMON,data:{_isShowExpr:"$for.item.type == 'rank'",imgUrl:"https://wxa.wxs.qq.com/images/wxapp/endpage-right-wing.png"},innerStyles:{container:{style:{width:"12px",height:"21px",marginBottom:"2px"}},img:{style:{width:"12px",height:"21px"}}}}}]}]}]}]},{type:"layout",id:"promotionPicGroup",options:{baseType:Zw.COLUMN,data:{_isShowExpr:"#getVar('promotionPicLen') > 2"},innerStyles:{container:{style:{width:"100%",overflow:"hidden",marginTop:"16px",widthExpr:"#concat(#getVar('viewportWidth'), 'px')",alignItems:"center",justifyContent:"flex-start",borderRadius:"8px",padding:"16px 0",borderWidth:"1px",borderColor:"rgba(255, 255, 255, 0.10)",backgroundColor:"rgba(255, 255, 255, 0.10)"}}},events:{tap:[{action:Lw.LANDAD,value:{extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_PROMOTIONPIC}}}]}},children:[{type:"layout",id:"promotionSinglePicWrap",options:{baseType:Zw.ROW,data:{_isShowExpr:"#getVar('promotionPicDire') == 1"},innerStyles:{container:{style:{widthExpr:"#concat(#getVar('viewportWidth'), 'px')",justifyContent:"flex-start",alignItems:"center"}}}},children:[{type:"for",id:"promotionSinglePic",options:{baseType:rT.COMMON,data:{forArrExpr:"#map(#getVar('promotionPic'), '$item.img_url')"}},children:[{type:"image",id:"promotionSinglePic",options:{baseType:Xw.COMMON,data:{imgUrlExpr:"$for.item"},innerStyles:{container:{style:{marginLeft:"16px",widthExpr:"#getVar('singlePicWidth')",heightExpr:"#getVar('singlePicHeight')"}},img:{style:{borderRadius:"8px"}}}}}]}]},{type:"layout",id:"promotionPicList",options:{baseType:Zw.ROW,data:{_slideProperty:{direction:["left","right"],offset:30},_isShowExpr:"#getVar('promotionPicDire') != 1"},animations:[{left:0},{leftExpr:"#sub(0, #add(#getVar('picWidth'), 16))"},{leftExpr:"#sub(0, #sub(#add(#multi(3, #getVar('picWidth')), 64), #getVar('viewportWidth')))"},{leftExpr:"#sub(0, #sub(#add(#multi(2, #getVar('picWidth')), 48), #getVar('viewportWidth')))"}].reduce(((e,t,i)=>({...e,[i+1]:{keys:[{offset:0},{offset:1,...t}],duration:180,easing:"linear"}})),{}),innerStyles:{container:{style:{justifyContent:"flex-start",alignSelf:"flex-start",alignItems:"stretch",position:"relative",left:0,transition:"left 0.3s ease"}}},events:{animationend:[{action:Lw.SETEXPRVARS,expr:"#getVar('picState') >= 5",value:{key:"picState",valueExpr:"#sub(#getVar('picState'), 4)"}}],tap:[{action:Lw.REPORTADMONITORDATA,expr:"#rewardedVideoIsTriggerClick($args.event)",value:{id:He,key:Xp.idKey,extInfo:{clickPos:of.REWARD_WEGAME_ENDPAGE_PROMOTIONPIC,type:"endpage4"}}}],combineSlide:[{action:Lw.ANIMATE,value:{animationExpr:"$args.animation"}},{action:Lw.SETEXPRVARS,value:{key:"picState",valueExpr:"#add($args.animation, 4)"}},{action:Lw.REPORTADMONITORDATA,value:{id:He,key:Zp.idKey,extInfo:{directionExpr:"$args.direction",stateExpr:"$args.animation",typeExpr:"#getVar('picSlideType')",mainType:"endpage4"}}}],slide:["A2rA4rC3rB4r","A1l","A2lC1lA4l","A3rB1l"].reduce(((e,t,i)=>{var a=`#like('${t}', #concat(#getVar('picSlideType'), #getVar('picState'), #slice($args.direction, 0, 1)))`;return[...e,{action:Lw.TRIGGERCOMPONENTEVENT,expr:a,value:{eventName:"combineSlide",args:{animation:i+1,directionExpr:"$args.direction"}}}]}),[])}},children:[{type:"for",id:"forPromotionPic",options:{data:{forArrExpr:"#getVar('promotionPic')"}},children:[{type:"image",id:"promotionPicItem",options:{baseType:Xw.COMMON,data:{imgUrlExpr:"$for.item.img_url"},innerStyles:{container:{style:{marginLeft:"16px",widthExpr:"#concat(#getVar('picWidth'), 'px')",height:"132px"}},img:{style:{borderRadius:"8px"}}}}}]}]}]},{type:"button",id:"adButton",options:{baseType:tT.LOGICCOMMON,innerStyles:{container:{style:{widthExpr:"#concat(#getVar('viewportWidth'), 'px')",height:"48px",borderRadius:"8px",backgroundColor:"#07C160",marginTop:"32px"}},buttonText:{style:{width:"100%",height:"48px",lineHeight:"48px",textAlign:"center",fontSize:"17px",fontWeight:500}}}}},{type:"text",id:"adConversion",options:{baseType:eT.COMMON,data:{textExpr:""},events:{templateWillUpdate:[],hostMessage:[{action:Lw.TEXTSETTEXT,expr:`$args.message == '${Pi}'`,value:{textExpr:"$args.args.slashText"}},{action:Lw.SETSTYLE,expr:`$args.message == '${Pi}'`,value:{id:"container",style:{display:"flex"}}}]},innerStyles:{container:{style:{marginTop:"8px",display:"none",widthExpr:"#concat(#getVar('viewportWidth'), 'px')"}},text:{style:{width:"100%",textAlign:"center",fontSize:"12px",height:"17px",lineHeight:"17px",fontWeight:400,color:"rgba(255, 255, 255, 0.5)"}}}}}]}]}}],eD=[{id:"flipCard",op:"insert",parent:"container",useAdTemplate:!0,tpl:{id:"adRoot",type:"layout",options:{baseType:1,innerStyles:{container:{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",widthExpr:"$const.systemInfo.screenWidth",heightExpr:"$const.systemInfo.screenHeight",position:"relative",top:0,left:0}}},lifecycle:{onInit:[{action:"rewardedVideoDynamic",value:{list:[{op:"setStyle",id:"flipCard",style:{position:"absolute",widthExpr:"$const.systemInfo.screenWidth",heightExpr:"$const.systemInfo.screenHeight",left:0,top:0,zIndex:pf.FlipCardAdRoot,hidden:!0}}]}},{action:"emitCustomMessage",expr:"#getVar('useGameCenter')",value:{message:"fetchGiftTitle",args:{gameActIdExpr:"#getVar('gameActId')",gameGiftIdExpr:"#getVar('gameGiftId')"}}},{action:"reportAdMonitorData",value:{key:45,id:1646,extInfo:{typeExpr:"#getVar('type')"}}}]},events:{templateWillUpdate:[{action:"batchSetExprVar",value:{list:[{key:"isLandscape",valueExpr:"$const.systemInfo.screenWidth > $const.systemInfo.screenHeight"},{key:"adScale",valueExpr:"$const.systemInfo.screenWidth > $const.systemInfo.screenHeight ? #division($const.systemInfo.screenHeight, 375) : #division($const.systemInfo.screenWidth, 375)"},{key:"delayTime",value:5},{key:"isCardShowed",valueExpr:"$const.false"},{key:"closeIconSrc",value:"http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62aaf4160001d3c415b80a86fc0c950b0000008d00004eec?m=75b933397a01f0d08302bf2220f2d849&ck=75b933397a01f0d08302bf2220f2d849&sha256=f67d0128ffc12e179a4496a1e678cd0b624881a5be961b343e83593803564efb"},{key:"giftGuideCode",valueExpr:"$ad.extInfo.app_gift_pack_code.code"},{key:"giftGuideDesc",valueExpr:"$ad.extInfo.app_gift_pack_code.description"},{key:"gameActId",valueExpr:"$ad.extInfo.app_gift_pack_code.game_act_id"},{key:"gameGiftId",valueExpr:"$ad.extInfo.app_gift_pack_code.game_gift_id"},{key:"type",valueExpr:"#getVar('giftGuideCode') ? 'game' : 'common'"},{key:"defaultMainTitle",value:"惊喜大礼包"},{key:"buttonValue",value:"领取并查看"},{key:"clickArea",value:"button"},{key:"showToast",value:!0},{key:"toastText",value:"礼包码已复制"},{key:"giftGuideText",value:"礼包兑换码"},{key:"buttonBackgroundColor",value:"#09D76B"},{key:"buttonTextColor",value:"#FFFFFF"},{key:"mainTitleFromAd",valueExpr:"#hansLen($ad.crtInfo.0.wxgame_video_card.title) > 10 ? #getVar('defaultMainTitle') : #concat($ad.crtInfo.0.wxgame_video_card.title, '礼包')"},{key:"animateOffsetHeight",valueExpr:"#division(#add(#add($const.systemInfo.screenHeight, #multi(#getVar('adScale'), 160)), #scope(#getVar('isLandscape') ? #multi(#getVar('adScale'), 296) : #multi(#getVar('adScale'), 400))), 2)"},{key:"isClickClose",valueExpr:"$const.false"},{key:"autoClosed",valueExpr:"$const.false"},{key:"buttonBorderRadius",value:"8px"},{key:"isCopyWithClick",value:!0},{key:"useGameCenter",valueExpr:"#getVar('gameActId') && #getVar('gameGiftId')"},{key:"hasGift",valueExpr:"$const.false"}]}}],hostMessage:[{action:"triggerComponentEvent",expr:"$args.message === 'rewardedVideoTimeUpdate' && $args.args.event.position >= #getVar('delayTime') && #no(#getVar('isCardShowed')) && #no(#rewardedVideoGetFeatureFlag('disableGiftCard'))",value:{eventName:"prepareCard"}}],slideIn:[{action:"animate",targetid:"layoutAnimate",value:{animation:"slideIn"}},{action:"animate",targetid:"mask",value:{animation:"showMask"}}],slideOut:[{action:"animate",targetid:"layoutAnimate",expr:"#no($args.isClick)",value:{animation:"slideOut"}},{action:"animate",targetid:"layoutAnimate",expr:"$args.isClick",value:{animation:"fadeOut"}},{action:"animate",targetid:"mask",value:{animation:"hideMask"}}],showCard:[{action:"triggerComponentEvent",targetid:"adRoot",value:{eventName:"slideIn"}}],prepareCard:[{action:"setExprVar",delay:1,value:{key:"isCardShowed",valueExpr:"$const.true"}},{action:"triggerComponentEvent",delay:200,value:{eventName:"showCard"}},{action:"reportAdMonitorData",value:{id:1646,key:46,extInfo:{typeExpr:"#getVar('type')"}}},{action:"emitCustomMessage",expr:"#getVar('useGameCenter')",value:{message:"reportGiftAction",args:{actionId:1,giftIdExpr:"#getVar('giftId')"}}},{action:"rewardedVideoDynamic",value:{list:[{op:"setStyle",id:"flipCard",style:{hidden:!1}}]}}],finishCard:[],exitCard:[{action:"rewardedVideoDynamic",value:{list:[{op:"setStyle",id:"flipCard",style:{hidden:!0}}]}}],click:[{action:"triggerComponentEvent",targetid:"adRoot",value:{eventName:"slideOut",args:{isClick:!0}}},{action:"emitCustomMessage",expr:"#getVar('type') === 'game' && #getVar('isCopyWithClick')",value:{message:"setClipboardData",args:{dataExpr:"#getVar('giftGuideCode')"}}},{action:"animate",targetid:"toast",expr:"#getVar('type') === 'game' && #getVar('showToast')",value:{animation:"showToast"}}],land:[{action:"emitCustomMessage",value:{message:"landAdForGift",args:{giftBypassExpr:"#getVar('giftBypass')",giftIdExpr:"#getVar('giftId')"}}},{action:"emitCustomMessage",expr:"#getVar('useGameCenter')",value:{message:"reportGiftAction",args:{actionId:71,giftIdExpr:"#getVar('giftId')"}}}],receiveGiftInfo:[{action:"setExprVar",value:{key:"hasGift",value:!0}},{action:"setExprVar",value:{key:"type",value:"common"}},{action:"setExprVar",value:{key:"dynamicGiftTitle",valueExpr:"$args.args.data.gift.gift_desc"}},{action:"setExprVar",value:{key:"giftBypass",valueExpr:"$args.args.data.bypass"}},{action:"setExprVar",value:{key:"giftId",valueExpr:"$args.args.data.gift.gift_id"}},{action:"textSetText",targetid:"mainTitle",value:{textExpr:"#getVar('dynamicGiftTitle')"}},{action:"setStyle",targetid:"giftIconGroup",value:{id:"container",style:{display:"none"}}},{action:"setStyle",targetid:"commonIconGroup",value:{id:"container",style:{display:"flex"}}}]},animations:{appear:{keys:[{offset:0,opacity:0},{offset:1,opacity:1}],duration:300},disappear:{keys:[{offset:0,opacity:1},{offset:1,opacity:0}],duration:300}}},children:[{id:"mask",type:"layout",options:{baseType:1,innerStyles:{container:{style:{top:0,left:0,width:"100%",height:"100%",background:"#000",opacity:0,position:"absolute",overflow:"hidden"}}},animations:{showMask:{keys:[{offset:0,opacity:0},{offset:1,opacity:.5}],duration:400,easing:"ease-out"},hideMask:{keys:[{offset:0,opacity:.5},{offset:1,opacity:0}],duration:400,easing:"ease-out"}}},children:[]},{id:"toast",type:"layout",options:{baseType:3,innerStyles:{container:{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",opacity:0,position:"absolute",top:0,left:0}}},events:{animationend:[{action:"animate",targetid:"toast",delay:1e3,expr:"$args.animation === 'showToast'",value:{animation:"hideToast"}},{action:"triggerComponentEvent",targetid:"adRoot",expr:"$args.animation === 'hideToast'",value:{eventName:"exitCard"}}]},animations:{showToast:{keys:[{offset:0,opacity:0},{offset:1,opacity:1}],duration:300,easing:"ease-out"},hideToast:{keys:[{offset:0,opacity:1},{offset:1,opacity:0}],duration:300,easing:"ease-out"}}},children:[{id:"toastInner",type:"layout",options:{baseType:3,innerStyles:{container:{style:{width:"144px",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",position:"static",background:"rgba(76, 76, 76, 1)",borderRadius:"12px",paddingTop:"24px",paddingBottom:"24px",opacity:1}}}},children:[{id:"toastText",type:"text",options:{baseType:1,data:{textExpr:"#getVar('toastText')"},innerStyles:{text:{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.9)",lineBreak:"break-all",fontSize:"14px",lineHeight:"19px",height:"19px",width:"120px"}}},events:{animationend:[{action:"animate",delay:2e3,expr:"$args.animation === 'showAnimate'",value:{animation:"hideToast"}}]}}}]}]},{id:"layoutAnimate",type:"layout",options:{baseType:3,bubbleEvent:!1,innerStyles:{container:{style:{position:"absolute",opacity:0,display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column",topExpr:"#getVar('animateOffsetHeight')",left:0}}},events:{tap:[{action:"reportAdMonitorData",value:{id:1646,key:48,extInfo:{typeExpr:"#getVar('type')",clickPos:"mask",clickAreaExpr:"#getVar('clickArea')"}}}],animationend:[{action:"triggerComponentEvent",targetid:"adRoot",expr:"#scope($args.animation === 'slideOut') || #scope($args.animation === 'fadeOut')",value:{eventName:"finishCard"}},{action:"triggerComponentEvent",targetid:"adRoot",expr:"#scope(#scope($args.animation === 'slideOut') || #scope($args.animation === 'fadeOut')) && #scope(#getVar('isClickClose') || #getVar('autoClosed') || #scope(#getVar('type') === 'common') || #no(#getVar('showToast')))",value:{eventName:"exitCard"}}]},animations:{slideIn:{keys:[{offset:0,opacity:0,topExpr:"#getVar('animateOffsetHeight')"},{offset:1,opacity:1,top:0}],duration:400,easing:"ease-out"},slideOut:{keys:[{offset:0,opacity:1,top:0},{offset:1,opacity:0,topExpr:"#getVar('animateOffsetHeight')"}],duration:400,easing:"ease-out"},fadeOut:{keys:[{offset:0,opacity:1},{offset:1,opacity:0}],duration:200,easing:"ease-out"}}},children:[{id:"cardContainer",type:"layout",options:{baseType:3,innerStyles:{container:{style:{display:"flex",flexDirection:"column",position:"relative",opacity:1}}}},children:[{id:"card",type:"layout",options:{baseType:3,innerStyles:{container:{style:{widthExpr:"#getVar('isLandscape') ? '260apx' : '311apx'",heightExpr:"#getVar('isLandscape') ? '254apx' : '340apx'",overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flexWrap:"nowrap",borderRadiusExpr:"#getVar('isLandscape') ? '16apx' : '24apx'"}}}},children:[{id:"backCard",type:"layout",options:{baseType:3,bubbleEvent:!1,innerStyles:{container:{style:{position:"absolute",width:"100%",height:"100%",background:"rgba(255, 255, 255, 1)",display:"flex",top:0,left:0,flexDirection:"column",justifyContent:"flex-start",alignItems:"center"}}},events:{tap:[{action:"triggerComponentEvent",targetid:"adRoot",expr:"#getVar('clickArea') === 'all'",value:{eventName:"click"}},{action:"reportAdMonitorData",value:{id:1646,key:48,extInfo:{typeExpr:"#getVar('type')",clickPos:"backCard",clickAreaExpr:"#getVar('clickArea')"}}},{expr:"#scope(#getVar('type') === 'common' || #no(#getVar('showToast'))) && #getVar('clickArea') === 'all'",action:"triggerComponentEvent",targetid:"adRoot",value:{eventName:"land",args:{eventExpr:"$args.event"}}},{delay:1500,expr:"#getVar('type') === 'game' && #getVar('showToast') && #getVar('clickArea') === 'all'",action:"triggerComponentEvent",targetid:"adRoot",value:{eventName:"land",args:{eventExpr:"$args.event"}}}]}},children:[{id:"pretitle",type:"text",options:{baseType:1,data:{text:"- 游戏圈福利 -"},innerStyles:{container:{style:{marginTopExpr:"#getVar('isLandscape') ? '20apx' : '32apx'"}},text:{style:{textAlign:"center",color:"rgba(36, 36, 36, 0.6)",lineBreak:"break-all",fontSizeExpr:"#getVar('isLandscape') ? '10apx' : '12apx'",heightExpr:"'20apx'",lineHeightExpr:"'20apx'",width:"100%",fontWeight:500}}}}},{id:"mainTitle",type:"text",options:{baseType:1,data:{textExpr:"#getVar('giftGuideDesc') ? #getVar('giftGuideDesc') : #getVar('mainTitleFromAd')"},innerStyles:{container:{style:{marginTopExpr:"#getVar('isLandscape') ? '8apx' : '12apx'"}},text:{style:{textAlign:"center",color:"rgba(36, 36, 36, 0.9)",lineBreak:"break-all",fontSizeExpr:"#getVar('isLandscape') ? '16apx' : '18apx'",heightExpr:"#getVar('isLandscape') ? '20apx' : '28apx'",lineHeightExpr:"#getVar('isLandscape') ? '20apx' : '28apx'",width:"100%",fontWeight:600}}},lifeCycle:{onInit:[]},events:{hostMessage:[{action:"triggerComponentEvent",targetid:"adRoot",expr:"$args.message === 'rewardedVideoUpdateGiftInfo'",value:{eventName:"receiveGiftInfo"}}]}}},{id:"commonIconGroup",type:"layout",options:{baseType:3,bubbleEvent:!1,innerStyles:{container:{style:{widthExpr:"#getVar('isLandscape') ? '178apx' : '240apx'",heightExpr:"#getVar('isLandscape') ? '90apx' : '110apx'",marginTopExpr:"#getVar('isLandscape') ? '14apx' : '16apx'",displayExpr:"#getVar('type') === 'common' ? 'flex' : 'none'",position:"relative",top:0,left:0}}},events:{tap:[{action:"triggerComponentEvent",targetid:"adRoot",expr:"#getVar('clickArea') === 'all'",value:{eventName:"click"}},{action:"reportAdMonitorData",value:{id:1646,key:48,extInfo:{typeExpr:"#getVar('type')",clickPos:"contentImage",clickAreaExpr:"#getVar('clickArea')"}}}]}},children:[{id:"commonContentIcon",type:"image",options:{baseType:1,data:{imgUrlExpr:"#getVar('isLandscape') ? 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62cf88b60001107812209a88aea0970b0000008d00004eec?m=bfacd403fffff6f793132b097089a69b&ck=bfacd403fffff6f793132b097089a69b&sha256=1e0ba1840523ecb9d373363d5ae807bb8ec1823f041c752ea8870b0ee45d5ffe' : 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62cf888b000038e30224135f46b5970b0000008d00004eec?m=bd29ca0f1f2f38949f5766ec4fb96db7&ck=bd29ca0f1f2f38949f5766ec4fb96db7&sha256=dd0dcd77ee7988508fd73584ffd38e7a5bd48b2141898b2343db39d687edb29d'"},innerStyles:{img:{style:{width:"100%",height:"100%"}},container:{style:{width:"100%",height:"100%"}}}}},{id:"commonAdIcon",type:"image",options:{baseType:2,innerStyles:{img:{style:{width:"100%",height:"100%"}},container:{style:{position:"absolute",bottomExpr:"#getVar('isLandscape') ? '14apx' : '14apx'",leftExpr:"#getVar('isLandscape') ? '74apx' : '100apx'",borderRadiusExpr:"'10apx'",overflow:"hidden",widthExpr:"#getVar('isLandscape') ? '29apx' : '40apx'",heightExpr:"#getVar('isLandscape') ? '29apx' : '40apx'"}}}}}]},{id:"giftIconGroup",type:"layout",options:{baseType:3,bubbleEvent:!1,innerStyles:{container:{style:{widthExpr:"#getVar('isLandscape') ? '178apx' : '240apx'",position:"relative",top:0,left:0,heightExpr:"#getVar('isLandscape') ? '90apx' : '110apx'",displayExpr:"#getVar('type') === 'game' ? 'flex' : 'none'",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTopExpr:"#getVar('isLandscape') ? '8apx' : '16apx'"}}},events:{tap:[{action:"triggerComponentEvent",targetid:"adRoot",expr:"#getVar('clickArea') === 'all'",value:{eventName:"click"}},{action:"reportAdMonitorData",value:{id:1646,key:48,extInfo:{typeExpr:"#getVar('type')",clickPos:"contentImage",clickAreaExpr:"#getVar('clickArea')"}}}]}},children:[{id:"giftContentIcon",type:"image",options:{baseType:1,data:{imgUrlExpr:"#getVar('isLandscape') ? 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62cf88b4000a4d5f223a4e61ccb6970b0000008d00004eec?m=176d0b6d142709e2eae5caf4cb525eb8&ck=176d0b6d142709e2eae5caf4cb525eb8&sha256=0b1385df745f8c3f3d257f52674c0fc87c42db844bf98291147ce55d3fab0ea3' : 'http://wxsnsdythumb.wxs.qq.com/141/20204/snscosdownload/SZ/reserved/62cf887d00068d15023e57e743b3970b0000008d00004eec?m=0db9172c98c036c487f23818e9b3b0fb&ck=0db9172c98c036c487f23818e9b3b0fb&sha256=7009a496da725bd455f844be966937e5fe8c0f46967c4c02162c6cf3e688f275'"},innerStyles:{img:{style:{width:"100%",height:"100%"}},container:{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,display:"flex"}}}}},{id:"giftContentGroup",type:"layout",options:{baseType:3,innerStyles:{container:{style:{position:"absolute",widthExpr:"#getVar('isLandscape') ? '93apx' : '130apx'",heightExpr:"#getVar('isLandscape') ? '64apx' : '90apx'",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",topExpr:"#getVar('isLandscape') ? '13apx' : '10apx'",leftExpr:"#getVar('isLandscape') ? '43apx' : '55apx'"}}}},children:[{id:"giftAdIcon",type:"image",options:{baseType:2,innerStyles:{img:{style:{height:"100%",width:"100%"}},container:{style:{borderRadius:"8px",overflow:"hidden",position:"absolute",topExpr:"#getVar('isLandscape') ? '6apx' : '10apx'",leftExpr:"#getVar('isLandscape') ? '7apx' : '10apx'",widthExpr:"#getVar('isLandscape') ? '24apx' : '32apx'",heightExpr:"#getVar('isLandscape') ? '24apx' : '32apx'",display:"flex"}}}}},{id:"giftGuideText",type:"text",options:{baseType:1,data:{textExpr:"#getVar('giftGuideText')",maxLen:10},innerStyles:{container:{style:{position:"static",widthExpr:"'110apx'",marginTopExpr:"#getVar('isLandscape') ? '34apx' : '47apx'",marginLeftExpr:"#getVar('isLandscape') ? '7apx' : '10apx'"}},text:{style:{textAlign:"left",color:"rgba(255, 255, 255, 1)",lineBreak:"break-all",fontSizeExpr:"#getVar('isLandscape') ? '8apx' : '10apx'",heightExpr:"#getVar('isLandscape') ? '11apx' : '17apx'",lineHeightExpr:"#getVar('isLandscape') ? '11apx' : '17apx'",width:"100%",fontWeight:600}}}}},{id:"giftGuideCode",type:"text",options:{baseType:1,data:{textExpr:"#getVar('giftGuideCode')",maxLen:5},innerStyles:{container:{style:{widthExpr:"'110apx'",heightExpr:"'20apx'",marginTopExpr:"#getVar('isLandscape') ? '0px' : '1apx'",marginLeftExpr:"#getVar('isLandscape') ? '7apx' : '10apx'"}},text:{style:{textAlign:"left",color:"rgba(255, 255, 255, 1)",lineBreak:"ellipsis",fontSizeExpr:"#getVar('isLandscape') ? '11apx' : '16apx'",lineHeightExpr:"#getVar('isLandscape') ? '15apx' : '20apx'",width:"100%",heightExpr:"#getVar('isLandscape') ? '15apx' : '20apx'",textOverflow:"ellipsis",fontWeight:600}}}}}]}]},{id:"button",type:"text",options:{baseType:1,bubbleEvent:!1,data:{textExpr:"#getVar('buttonValue')"},innerStyles:{container:{style:{widthExpr:"#getVar('isLandscape') ? '140apx' : '184apx'",heightExpr:"#getVar('isLandscape') ? '36apx' : '44apx'",backgroundExpr:"#getVar('buttonBackgroundColor')",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",marginTopExpr:"#getVar('isLandscape') ? '15apx' : '24apx'",borderRadiusExpr:"#getVar('buttonBorderRadius')"}},text:{style:{textAlign:"center",lineBreak:"break-all",fontSizeExpr:"#getVar('isLandscape') ? '14apx' : '17apx'",heightExpr:"#getVar('isLandscape') ? '20apx' : '28apx'",lineHeightExpr:"#getVar('isLandscape') ? '20apx' : '28apx'",colorExpr:"#getVar('buttonTextColor')",width:"100%",fontWeight:600}}},events:{tap:[{action:"triggerComponentEvent",targetid:"adRoot",expr:"",value:{eventName:"click"}},{action:"reportAdMonitorData",value:{id:1646,key:48,extInfo:{typeExpr:"#getVar('type')",clickPos:"button",clickAreaExpr:"#getVar('clickArea')"}}},{expr:"#getVar('type') === 'common' || #no(#getVar('showToast'))",action:"triggerComponentEvent",targetid:"adRoot",value:{eventName:"land",args:{isButton:!0,eventExpr:"$args.event"}}},{delay:1500,expr:"#getVar('type') === 'game' && #getVar('showToast')",action:"triggerComponentEvent",targetid:"adRoot",value:{eventName:"land",args:{isButton:!0,eventExpr:"$args.event"}}}]}}}]}]},{id:"layoutClose",type:"layout",options:{baseType:3,innerStyles:{container:{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}}},children:[{id:"closeIcon",type:"image",options:{baseType:1,bubbleEvent:!1,data:{imgUrlExpr:"#getVar('closeIconSrc')"},innerStyles:{img:{style:{widthExpr:"#getVar('isLandscape') ? '28apx' : '39apx'",heightExpr:"#getVar('isLandscape') ? '28apx' : '39apx'"}},container:{style:{position:"relative",widthExpr:"#getVar('isLandscape') ? '28apx' : '39apx'",heightExpr:"#getVar('isLandscape') ? '28apx' : '39apx'",marginTopExpr:"#getVar('isLandscape') ? '12apx' : '24apx'"}}},events:{tap:[{action:"setExprVar",value:{key:"isClickClose",valueExpr:"$const.true"}},{action:"triggerComponentEvent",targetid:"adRoot",value:{eventName:"slideOut"}},{action:"reportAdMonitorData",value:{id:1646,key:47,extInfo:{type:"manual"}}},{action:"emitCustomMessage",expr:"#getVar('useGameCenter')",value:{message:"reportGiftAction",args:{actionId:3,giftIdExpr:"#getVar('giftId')"}}}]}}}]}]}]}]}}],tD={id:"videoTips",op:"insert",parent:"container",useAdTemplate:!0,tpl:{type:"text",id:"adVideoTipsContainer",options:{baseType:eT.COMMON,events:{templateWillUpdate:[{action:Lw.BATCHSETEXPRVARS,value:{list:[{key:"showTipsToastFlag",value:!1},{key:"isTipsToastShowed",value:!1},{key:"playTime",value:0}]}},{action:Lw.REWARDEDVIDEODYNAMIC,value:{list:[{op:"setStyle",id:"videoTips",style:{hidden:!0}}]}}],hostMessage:[{action:Lw.TRIGGERCOMPONENTEVENT,expr:"$args.message == 'rewardedVideoPlay' && #no(#getVar('isTipsToastShowed')) && #scope(#getVar('playTime') < 0.1) ",delay:2e3,value:{eventName:"showToast"}},{action:Lw.SETEXPRVARS,expr:"$args.message == 'rewardedVideoTimeUpdate'",value:{key:"playTime",valueExpr:"$args.args.event.position"}}],showToast:[{action:Lw.SETEXPRVARS,value:{key:"isTipsToastShowed",value:!0}},{action:Lw.REWARDEDVIDEODYNAMIC,value:{list:[{op:"setStyle",id:"videoTips",style:{hidden:!1}}]}},{action:Lw.REWARDEDVIDEODYNAMIC,delay:2e3,value:{list:[{op:"setStyle",id:"videoTips",style:{hidden:!0}}]}}]},data:{text:"网络不稳定，稍后再试"},innerStyles:{container:{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",widthExpr:"#concat(#add(#measureText('网络不稳定，稍后再试', 14), 40), 'px')",height:"38px",backgroundColor:"rgba(40, 40, 40, 0.7)",borderRadius:5}},text:{style:{widthExpr:"#concat(#add(#measureText('网络不稳定，稍后再试', 14), 40), 'px')",height:"38px",alignItems:"center",textAlign:"center",color:"#ffffff",fontSize:"14px",lineHeight:"38px"}}}}}};var{gametext:iD}=y,aD=function(e,t,i,a){return function(n,o){var r=QB(this);if(!WV.call(this)){var s=r[i]||{};for(var l of(s[n]=Boolean(o),s.some=e.some((e=>s[e])),e))for(var d of t[l])r[d].style.hidden=!0;var c=!1,p=Object.keys(s);for(var u of e)if(!c&&!0===s[u]&&p.includes(u))for(var h of(c=!0,t[u]))r[h].style.hidden=!1;null==a||a.call(this,c,s)}}},nD=function(e,t=""){var i=KR.call(this),a=ZR.call(this),n=Array.isArray(e)?e:[e];if(i&&a)for(var o of n)o.value=`${t}小游戏${i} TOP${a}`;return!(!i||!a)},oD=function(e,t=""){var i=XR.call(this,t),a=Array.isArray(e)?e:[e];if(i)for(var n of a)n.value=i;return!!i},rD=function(e){var t=qR.call(this),i=t&&t.length>=2;if(i)for(var[a,n]of e.entries())n.value=t[a],n.style.width=iD.getTextWidth(t[a],12)+12;return!!i},sD=function(e){var t=iO.call(this),i=null==t?void 0:t[0];return i&&(e.value=t[0].text,e.style.width=iD.getTextWidth(t[0].text,12)+12),!!i},lD=function({scoreTitle:e,scoreImg:t,scoreNum:i,scoreTitleWidth:a}){var n=QB(this),{product_type:o}=n.data,r=nO.call(this);if(r){var s="https://wxa.wxs.qq.com/images/factory/noneStar.png",l="https://wxa.wxs.qq.com/images/factory/halfStar.png";o===Cg.IOS?(e.value="App Store评分",e.style.width=a.ios):o===Cg.ANDROID&&(e.value="应用宝评分",e.style.width=a.android),r<3.5?(t[3].src=l,t[4].src=s):r<=4?t[4].src=s:r<4.5&&(t[4].src=l),i.value=`${r}分`}return!!r},dD=function(){var e=b()((function*(){if(WV.call(this))return null;var e=QB(this),{card:{mpTagType:t}}=e.data;if(e.conversionInfo)return e.conversionInfo;if(e.conversionInfo={success:!1},t===Pg){var i=Date.now();try{var a=yield Da({buttonText:e.button.value||"",aid:e.adProxy.data.aid,uxinfo:e.adProxy.data.uxinfo}),n=Date.now();if(e.adProxy.reportRelationFetchDuration({startTime:i,endTime:n,showTime:e.showDetailTime||0}),a){var{count:o,descText:r}=a,s=`最近已有${o}人${r}`;e.conversionInfo={success:!0,text:s,slashText:`- ${s} -`}}}catch(t){e.adProxy.reportAdMonitorData(wl,t)}}return e.conversionInfo}));return function(){return e.apply(this,arguments)}}(),{deviceInfo:cD,getDeviceOrientation:pD,View:uD,_onShow:hD,_onHide:gD,_offShow:fD,_offHide:mD,gametext:yD}=y,vD=function(){var e;QB(this).adTemplate=new mA({hostConfig:YP(),hostContext:{onAppEnterForeground:hD,offAppEnterForeground:fD,onAppEnterBackground:gD,offAppEnterBackground:mD,getPropertyOfElement:(e,t)=>"parent"===t?e.parent:Qu(e),getBoundingClientRect:e=>Promise.resolve(e.layoutBox),operateVideo:(e,t)=>{["play","pause","stop"].includes(t)&&e[t]()},animate:(e=b()((function*(e,t){yield Promise.all([e.animate(t),zo(t.duration)])})),function(t,i){return e.apply(this,arguments)}),getTextWidth:(e,t)=>yD.getTextWidth(e,t),onGlobalEvent:()=>{},offGlobalEvent:()=>{},toWebEvent:(e,t)=>{if(["touchstart","touchend","touchmove"].includes(t)){var i=e,a=[{clientX:i.x,clientY:i.y,pageX:i.x,pageY:i.y,screenX:i.absoluteX,screenY:i.absoluteY}];return{...i,touches:a,targetTouches:a}}return e}}})},_D=function(e){var t=QB(this);return Lb(e,{$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:{...cD},time:Date.now(),undefined:void 0},$scope:ED.call(this),$ad:t.adProxy.data,$ads:t.adProxy.datas},xD.call(this))},ED=function(){var e=QB(this);return{private:e,adProxy:e.adProxy,safeArea:cD.safeArea,deviceInfo:cD}},xD=function(){var t=QB(this);return{"#rewardedVideoIsScoreOrRanking":()=>nO.call(this)||ZR.call(this),"#rewardedVideoIsTriggerClick":e=>t.adProxy.isTriggerClick(e),"#setDarkMode":e=>IV.call(this,e),"#getAbsolutePosition":e=>null==e?void 0:e.getAbsolutePosition(),"#now":()=>Date.now(),...["isPortrait","isLandscape","isMobile","isDevtools","isPC","isGaussBlur","isExpandStyle","isRewardedVideo","isRewardedImage","isRewardedLandingPage","isRewardedChannels","isRewardedPlayable","isRewardedGift","isLogoEnhanced","isVideo","isPlaying","isEnded","isPause","isShowed","isTemplateCondition","getRankingType","getRankingInfo","getScoreInfo","getRankingInfoV2","getCategoryInfos","getWegameActInfo","getDanmuInfo","getVideo","getTemplateCondition","setFeatureFlag","getFeatureFlag","deleteFeatureFlag"].reduce(((t,i)=>(t[`#rewardedVideo${i[0].toUpperCase()}${i.slice(1)}`]=(...t)=>e[i].call(this,...t),t)),{})}},bD=function(){var e=b()((function*(){var e,t,i,a=QB(this),n=!UO.call(this),o=[];(null===(e=a.data.crtInfo)||void 0===e||null===(t=e.wxgame_video_card)||void 0===t?void 0:t.pendant_img)&&(o=o.concat(Yk)),EO.call(this)&&(o=o.concat(eD)),cO.call(this)&&(o=o.concat(tD)),cO.call(this)&&a.data.product_type===Cg.MINI_GAME&&(o=o.concat(Qk));var{template:r}=a.data;if(n&&null!==(i=a.data)&&void 0!==i&&i.useTemplate&&r&&RD(r)){var s=r.list;o=o.concat(s)}var{adDynamicList:l}=a.adProxy.data,d=null!=l&&l.length&&n?o.concat(l):o;yield TD.call(this,d)}));return function(){return e.apply(this,arguments)}}(),wD=null,TD=function(){var e=b()((function*(e){var t=this;if(!WV.call(this)){var i=QB(this);null!=e&&e.length&&(i.dynamicElems||(i.dynamicElems={}),i.dynamicOldStyle||(i.dynamicOldStyle={}),i.dynamicEmitter||SD.call(this),yield Promise.all(e.map(function(){var e=b()((function*(e){var{op:a,expr:n}=e;if(!n||_D.call(t,n))if("insert"===a){var o,{id:r,parent:s,bubbleEvent:l}=e,{screenWidth:d,screenHeight:c,deviceOrientation:p,isAndroid:u}=cD;if(null!==(o=i.dynamicElems)&&void 0!==o&&o[r]){if(d===wD)return;yield ID.call(t,r)}wD=cD.screenWidth;var h=Math.min(c,d)/375;if(e.useAdTemplate){var g;(g=i.dynamicElems)[r]||(g[r]=new uD({name:`${r}TemplContainer`})),i.dynamicElems[r]._isTemplate=!0,i.dynamicElems[r]._isTemplateRoot=!0,yield i.adTemplate.render({isEmpty:void 0,systemInfo:{screenWidth:d,screenHeight:c,deviceOrientation:p,platform:u?"android":"ios",hostEnv:"minigame"},isPartial:!0,flattenLayer:!0,hostContainer:i.dynamicElems[r],template:e.tpl,adData:i.adProxy.data,adCustomId:`${r}_${i.adProxy.data.traceid}`,styleOptions:{removePx:!0,splitShorthand:!0,convertRgbaColor:!0,convertDisplayName:!0,convertRotate:!0,ignorePositionStatic:!0,ratio:h},extraScope:ED.call(t),innerFunctions:xD.call(t),ref:e=>{i.dynamicElems[r]._adTemplateRef=e,e.onEvent(i.handleAdTemplateEvent)}})}else{var f=fh(oP,{manager:null,reporter:null,emitter:i.dynamicEmitter,adProxy:i.adProxy,template:e.tpl,systemInfo:{...cD},scope:ED.call(t),adData:i.adProxy.data,adDatas:i.adProxy.datas,adCustomId:Fm,ratio:h,isEmpty:!1,innerFunctions:xD.call(t)},!1);!1!==l&&f.updateBubbleEvent(),i.dynamicElems[r]=f.getRootElement()}i[s]&&i[s].add(i.dynamicElems[r])}else if("setStyle"===a){var{id:m,style:y}=e,v=i[m]||i.dynamicElems[m]||null;if(v){var _=!1;for(var E of(i.dynamicOldStyle&&!i.dynamicOldStyle[m]&&(_=!0,i.dynamicOldStyle[m]={}),Object.keys(y))){var x=E,b=y[E];if(E.includes("Expr")){var w=E.split("Expr");2===w.length&&([x]=w,b=_D.call(t,b))}_&&(i.dynamicOldStyle[m][x]=v.style[x]),v.style[x]=b}}}else if("animate"===a){var{id:T,options:C}=e,A=i[T]||i.dynamicElems[T]||null;if(A){for(var P of Object.keys(C)){var I=P,S=C[P];if(P.includes("Expr")){var k=P.split("Expr");2===k.length&&([I]=k,S=_D.call(t,S),C[I]=S)}}A.animate(C)}}else if("setAttrs"===a){var{id:D,attrs:R}=e,O=i[D]||i.dynamicElems[D]||null;if(O)for(var M of Object.keys(R))O[M]=R[M]}}));return function(t){return e.apply(this,arguments)}}()))),AD.call(this,xi)}}));return function(t){return e.apply(this,arguments)}}(),CD=function(e,t){var i=QB(this);if(null!=i&&i.dynamicElems){var a=[];for(var n of Object.keys(i.dynamicElems))a.push(i.dynamicElems[n].ready());Promise.all(a).then((()=>{i.dynamicEmitter&&i.dynamicEmitter.emit("adCustomEvent",{adCustomId:Fm,action:e,value:t})}))}},AD=function(e,t){var i=QB(this);if(i.dynamicElems)for(var a of Object.keys(i.dynamicElems)){var n=i.dynamicElems[a];if(n){var o=n.referComponent;o&&o.emitComponentEvent(e,t);var r,s=n._adTemplateRef;if(s)null===(r=s.emitEvent)||void 0===r||r.call(s,qw.HOSTMESSAGE,{message:e,args:t})}}},PD=function(){var e=b()((function*(){var e=QB(this);try{var t;if(e.dynamicElems&&(yield Promise.all(Object.keys(e.dynamicElems).map((e=>ID.call(this,e))))),e.dynamicOldStyle)for(var i of Object.keys(e.dynamicOldStyle)){var a,n=e[i]||(null===(a=e.dynamicElems)||void 0===a?void 0:a[i])||null,o=e.dynamicOldStyle[i];for(var r of Object.keys(o))n.style[r]=o[r]}e.dynamicElems=null,e.dynamicOldStyle=null,e.templateEventHandlers={},null!==(t=e.dynamicEmitter)&&void 0!==t&&t.off&&e.dynamicEmitter.off("adCustomEvent"),e.dynamicEmitter=null}catch(e){}}));return function(){return e.apply(this,arguments)}}(),ID=function(){var e=b()((function*(e){var t=QB(this);if(t.dynamicElems){var i,a=t.dynamicElems[e],n=null===(i=t.dynamicElems[e])||void 0===i?void 0:i._adTemplateRef;if(null==n||n.offEvent(t.handleAdTemplateEvent),null!=a&&a.remove&&a.remove(),a.referComponent&&yh(a.referComponent),a._isTemplate){for(var o of(yield t.adTemplate.unmount({hostContainer:a}),Object.keys(t.templateEventHandlers))){var r=o,[s,l]=t.templateEventHandlers[r];t[r].off(s,l),delete t.templateEventHandlers[r]}delete t.dynamicElems[e]}}}));return function(t){return e.apply(this,arguments)}}(),SD=function(){var e=QB(this);e.dynamicEmitter=new ZP,e.dynamicEmitter.on("adCustomEvent",(e=>{var{adCustomId:t}=e;t===Fm&&DD.call(this,e)}))},kD=function(e){var t=QB(this);!WV.call(this)&&t.data&&DD.call(this,e)},DD=function(e){var t=this,a=QB(this);switch(e.action){case qw.TEMPLATEMESSAGE:var n;if(e.value.message===gm&&["play","pause"].includes(null===(n=e.value.args)||void 0===n?void 0:n.operation))Lk.call(this,e.value.args.operation);else if(e.value.message===fm){var{id:o,time:r}=e.value.args||{};o&&r&&(a.extraReduceTime[o]=Number(r))}else if(e.value.message===mm){var{data:s}=e.value.args||{};s&&a.adProxy.setClipboardData({data:s}).then((()=>{a.adProxy.reportAdMonitorData(gd)})).catch((e=>{a.adProxy.reportAdMonitorData(fd,e)}))}else if(e.value.message===ym){var{key:l,value:d,list:c}=e.value.args||{};if(l&&(a.templateCondition[l]=d),null!=c&&Array.isArray(c))for(var{key:p,value:u}of c)a.templateCondition[p]=u}else if(e.value.message===vm){var h,g,f=null===(h=e.value.args)||void 0===h?void 0:h.gameActId,m=null===(g=e.value.args)||void 0===g?void 0:g.gameGiftId,y=Date.now();((e,t,i,a)=>ue({reqData:{req_path:"ad.getadgift",json_data:{appid:e,gift_id:a,act_id:i,wx_traceid:t}},timeout:3e4}).then((e=>{var t;if(-1!==(null==e||null===(t=e.errMsg)||void 0===t?void 0:t.indexOf("ok")))return e;throw e})).catch((e=>{throw e})))(a.adProxy.data.weapp_info.appid,a.adProxy.data.traceid,f,m).then((e=>{var{data:t}=e||{},i=Date.now(),n=Boolean(null==t?void 0:t.is_with_gift);if(a.adProxy.reportAdMonitorData(n?Cp:Ap,{reqGiftId:m,reqActId:f,duration:i-y,is_with_gift:n}),n){if(!t.bypass||!t.gift)throw new Error("invalid data");AD.call(this,Ai,{data:t})}})).catch((e=>{a.adProxy.reportAdMonitorData(Ap,e)}))}else if(e.value.message===Em){var v,_,E,x,b,w,T,C,A=(null===(v=e.value)||void 0===v||null===(_=v.actionArgs)||void 0===_?void 0:_.isButton)||!1,P=null===(E=e.value)||void 0===E||null===(x=E.actionArgs)||void 0===x?void 0:x.event,I=null===(b=e.value)||void 0===b||null===(w=b.args)||void 0===w?void 0:w.giftBypass,S=null===(T=e.value)||void 0===T||null===(C=T.args)||void 0===C?void 0:C.giftId;NN.call(this,P,A?"button":"",A?of.REWARD_DYNAMIC_BUTTON:of.REWARD_DYNAMIC_CONTENT,{gift_bypass:[I,"private"],gift_id:[S,"private"],advertiseType:[1,"private"]}).then((()=>{var e=0===a.lastJsapiStatus;a.adProxy.reportGameCenterGift({actionId:e?4:56,giftId:S})}))}else if(e.value.message===xm){var k,{actionId:D,giftId:R}=(null===(k=e.value)||void 0===k?void 0:k.args)||{};a.adProxy.reportGameCenterGift({actionId:D,giftId:R})}else if(e.value.message===bm){var O,{playbackRate:M}=(null===(O=e.value)||void 0===O?void 0:O.args)||{};M&&(a.video.playbackRate=M)}else if(e.value.message===wm){var N,{type:L="short"}=(null===(N=e.value)||void 0===N?void 0:N.args)||{};a.adProxy.vibrateShort(L)}else if(e.value.message===Tm){var W,{count:B=1,offset:V=200}=(null===(W=e.value)||void 0===W?void 0:W.args)||{};a.adProxy.vibrate(B,V)}else if(e.value.message===Cm){var H,{message:F,data:G}=(null===(H=e.value)||void 0===H?void 0:H.args)||{};i.log("[RewardedVideo] TEMPLATE LOG: ",F,G)}else if(e.value.message===Am){var U;AD.call(this,Ii,(null===(U=e.value)||void 0===U?void 0:U.args)||{})}else if(e.value.message===_m)dD.call(this).then((e=>{null!=e&&e.success&&AD.call(this,Pi,{text:e.text,slashText:e.slashText})}));else if(e.value.message===Pm){var z,{elements:j=[]}=(null===(z=e.value)||void 0===z?void 0:z.args)||{},$=function(){var{eventType:e,element:i}=Y||{},n=i;if(a[n]&&(e=>Fu.includes(e))(e)){var o=a=>{AD.call(t,Si,{element:i,eventType:e,event:a})};a.templateEventHandlers[n]=[e,o],a[n].on(e,o)}};for(var Y of j)$()}else if(e.value.message===Im){var q,{reqPath:K,data:Z,id:X}=(null===(q=e.value)||void 0===q?void 0:q.args)||{};((e,t)=>ue({req_path:e,json_data:t,timeout:3e4}).then((e=>{var t;if(-1!==(null==e||null===(t=e.errMsg)||void 0===t?void 0:t.indexOf("ok")))return e;throw e})).catch((e=>{throw e})))(K,Z).then((e=>{AD.call(this,ki,{id:X,type:"success",data:e})})).catch((e=>{AD.call(this,ki,{id:X,type:"fail",data:e})}))}break;case qw.LANDAD:var J,Q,ee,te=null===(J=e.value)||void 0===J?void 0:J.event,ie=null===(Q=e.value)||void 0===Q||null===(ee=Q.extInfo)||void 0===ee?void 0:ee.clickPos;if(!te)return void OV.call(this);NN.call(this,te,"",ie||of.REWARD_DYNAMIC_CONTENT);break;case qw.BTNTAP:var ae,ne=null===(ae=e.value)||void 0===ae?void 0:ae.event;NN.call(this,ne,"button",of.REWARD_DYNAMIC_BUTTON);break;case qw.REPORTADMONITORDATA:var{id:oe,key:re,extInfo:se}=e.value,le=oe?{idKeyGroup:oe,idKey:re}:re;a.adProxy.reportAdMonitorData(le,se);break;case qw.REWARDEDVIDEODYNAMIC:var{list:de}=e.value;pD(),de&&TD.call(this,de);break;default:a.adProxy.handleAdTemplateEvent(e)}},RD=e=>"templateType"in e&&["adDynamicList"].includes(e.templateType),{deviceInfo:OD,gametext:MD}=y,ND={ENDPAGE:1,ENDMODAL:2,PLAYABLE_H5:3,PLAYABLE_XIJING:4},LD=function(){var e=QB(this);return e.playableTipsWrap.animate({left:-144,duration:200}).then((()=>{var t="即将跳转试玩";t=OD.isIOS?`${t} `:t;var i=Z({text:t,fontSize:12})||72,a=Z({text:"放弃",fontSize:12})||24;return e.playableTipsContent.style.width=i,e.playableGiveUp.style.width=a,e.playableTipsWrap.style.width=i+a+32,e.playableTipsContent.value=t,e.playableGiveUp.value="放弃",e.playableGiveUp.style.hidden=!1,e.playableCancelBox.style.left=i+12,e.playableCancelBox.style.hidden=!1,e.playableCancelBox.style.width=a+20,zo(300).then((()=>e.playableTipsWrap.animate({left:0,duration:200})))}))},WD=function(e=!1){if(!WV.call(this)){var t,{screenWidth:i,screenHeight:a}=OD,n=QB(this),o=NM.call(this),r="",s="",l=0,d=0,c=0,p=0,u=(a-o.style.height)/2;n.pageType===ND.ENDPAGE?(n.pageHandler.style.width=i,n.pageHandler.style.height=i,r="pageImgBox",d=i/4,l=3*i/4-n.pageImgBox.style.width,t={xRevise:!0,decideByDirection:!0,setImgTips:!0,posQueue:[0,-i,-2*i]}):n.pageType===ND.ENDMODAL&&(n.pageHandler.style.width=i,n.pageHandler.style.height=o.style.height,n.pageHandler.style.top=(a-o.style.height)/2,(a!==o.style.height||e)&&(n.pageMask.style.hidden=!1,n.pageMask.style.width=i,n.pageMask.style.height=(a-o.style.height)/2,n.pageMask.style.top=(a+o.style.height)/2),r="pageCardImgBox",s="pageCardBody",l=i-(d=60)-n.pageCardImgBox.style.width,c=o.style.height-n.pageCardBody.style.height+10,!OD.isWaGame&&OD.isAndroid&&(c=o.style.height-n.pageCardBody.style.height+u+10),p=c+180,n.pageCardBody.style.top=p,t={yRevise:!0,directionMap:{up:c,down:p},logPagePull:!0,showTips:!0,xInertia:!0,handleTail:!0,xHead:0,xTail:i-n.pageCardImgBox.style.width-20,touchClick:!0,imgBoxHeight:180,cardHeight:60,buttonWidth:60,buttonHeight:30}),n.flooringPageInfos={xMin:l,xMax:d,yMin:c,yMax:p,xContainer:r,yContainer:s,infos:t}}},BD=function(e={},t=""){if(!WV.call(this)){var i=QB(this);if("img"===t)for(var a=i.imgBaseName,n=0;n<=3&&(3!==n||2===i.pageType);n++){var o=i[a+n].getAbsolutePosition(),{width:r}=i[a+n].style,{height:s}=i[a+n].style,l=o.left,d=o.left+r,c=o.top,p=o.top+s;e.x>=l&&e.x<=d&&e.y>=c&&e.y<=p&&(i.flooringPageState[`img${n}`].click+=1)}else["card","button"].includes(t)&&(i.flooringPageState[t].click+=1)}},VD=function(e={}){if(!WV.call(this)){var t=QB(this),i=e.event?e.event:{};if(zD.call(this,i))if(t.flooringPageIsShow){var a=t.pageCard.getAbsolutePosition(),n=a.top,o=a.top+e.cardHeight,r=t.pageCardImgContainer.getAbsolutePosition().top;if(i.y>n&&i.y<o){var s=t.pageCardButton.getAbsolutePosition(),l=s.top,d=s.top+e.buttonHeight,c=s.left,p=s.left+e.buttonWidth;i.y>l&&i.y<d&&i.x>c&&i.x<p?jD.call(this,i,"button",of.REWARD_PAGE_BUTTON):jD.call(this,i,"card",of.REWARD_PAGE_CARD)}else i.y>=r&&i.y<=NM.call(this).style.height?jD.call(this,i,"img",of.REWARD_PAGE_IMAGE):FD.call(this,e)}else{var u=t.pageCard.getAbsolutePosition(),h=u.top,g=u.top+e.cardHeight,f=t.pageCardButton.getAbsolutePosition(),m=f.top,y=f.top+e.buttonHeight,v=f.left,_=f.left+e.buttonWidth;i.y>h&&i.y<g?i.y>m&&i.y<y&&i.x>v&&i.x<_?jD.call(this,i,"button",of.REWARD_PAGE_BUTTON):jD.call(this,i,"card",of.REWARD_PAGE_CARD):FD.call(this,e)}}},HD=function(e={}){if(!WV.call(this)){var t=QB(this),i=e.imgBox?e.imgBox:"",a=e.xMin?e.xMin:0,n=e.xMax?e.xMax:0,o=e.xHead?e.xHead:0,r=e.xTail?e.xTail:0;return t[i].nextLayout((()=>{var e=t[i].style.left,s=e;if(e>o&&e<=n?s=o:e>=a&&e<r&&(s=r),s!==e)return t[i].animate({left:s,duration:50})}))}},FD=function(e={}){if(!WV.call(this)){var t=QB(this),i=!0===t.flooringPageIsShow?e.max:e.min;return t.pageCardBody.animate({top:i,duration:50}).then((()=>sR.call(this,e))).then((()=>GD.call(this)))}},GD=function(){if(!WV.call(this)){var e=QB(this);e.flooringPageIsShow?(e.pageCardTipIcon.style.hidden=!0,e.pageCardTip.style.hidden=!0):(e.showTipsTimer&&(clearTimeout(e.showTipsTimer),e.showTipsTimer=null),e.pageCardTipIcon.style.hidden=!1,e.pageCardTip.style.hidden=!1)}},UD=function(e={}){if(WV.call(this))return!1;var t=QB(this);if(t.direction)return t.direction===e.direction;if(t.pageType===ND.ENDPAGE||!t.pageType)return!!t.flooringPageIsShow;var i=NM.call(this);if(t.pageType===ND.ENDMODAL){if("left"===e.direction){var{y:a}=e,n=t.flooringPageIsShow?i.style.height-180:0,o=t.flooringPageIsShow?i.style.height:0;return!!(a>n&&a<o)}if("top"===e.direction){var{y:r}=e,s=t.flooringPageIsShow?i.style.height-180:i.style.height;return!!(r>0&&r<s)}}return!1},zD=function(e){if(!WV.call(this)){var t=QB(this);return!!(Math.abs(e.x-t.startPosX)<30&&Math.abs(e.y-t.startPosY)<30)}},jD=function(e,t="",i){WV.call(this)||zD.call(this,e)&&NN.call(this,e,t,i)},$D=function(e={}){if(!WV.call(this)){var t=QB(this),i=e.container?e.container:"",a=e.event?e.event:{},n=t[i].getAbsolutePosition();return{x:n.left+a.x,y:n.top+a.y}}},YD=function(e=!1,t={}){if(!WV.call(this)){var i=QB(this);i.isPress=e,i.startPosX=null!=t&&t.x?t.x:0,i.startPosY=null!=t&&t.y?t.y:0,i.lastPosX=null!=t&&t.x?t.x:0,i.lastPosY=null!=t&&t.y?t.y:0,i.lastSecondPosX=null!=t&&t.x?t.x:0,i.lastSecondPosY=null!=t&&t.y?t.y:0,i.direction="",i.startTime=e?+new Date:0,e&&i.throttleTimer&&clearTimeout(i.throttleTimer),i.throttleTimer=null,i.timeStamp=0,i.callCount=0,i.distanceList=[]}},qD=function(){if(!WV.call(this))for(var e=QB(this),t=e.imgBaseName,i=0;i<3;i++){var a=e[t+i].getAbsolutePosition();e[`pageImgIcon${i}`].style.backgroundColor=0===a.left?"#ffffff":"rgba(255, 255, 255, 0.55)"}},KD=function(e={}){if(!WV.call(this)){var t=QB(this),i=e.event?e.event:{},a=e.direction?e.direction:"left",n="top"===a?i.y-t.lastPosY:i.x-t.lastPosX;OD.isAndroid&&(n="top"===a?i.y-t.lastSecondPosY:i.x-t.lastSecondPosX);var o=e.critical?e.critical:0;return"top"===a?n<0&&Math.abs(n)>=o?"up":"down":n<0&&Math.abs(n)>=o?"right":"left"}},ZD=function(e={}){if(WV.call(this))return Promise.reject({errMsg:gV});var t=QB(this),i=e.direction?e.direction:"left",a=e.imgBox?e.imgBox:"",n="top"===i?e.event.y:e.event.x,o=KD.call(this,e),r=e.directionMap?e.directionMap:{},s=e.posQueue?e.posQueue:[],l=null;if(Object.keys(r).length>0)l=r[o]?r[o]:0;else{n=t[a].style[i],s.sort(((e,t)=>e-t));for(var d=0,c=s.length-1;d<c;){var p=Math.floor((d+c)/2),u=c-d,h=s[p];if(n===h){l=h;break}if(n>h?d=p:c=p,u<=1)break}if(!l)if(e.decideByDirection)l=s[o]||("right"===o?s[d]:s[c]);else{var g=s[c],f=s[d];l=Math.abs(n-g)>=Math.abs(n-f)?f:g}}return Promise.resolve().then((()=>{t[a].style[i]=l})).then((()=>{if(e.logPagePull)return sR.call(this,e);YD.call(this)})).then((()=>{if(e.showTips)return GD.call(this)})).then((()=>{if(e.setImgTips)return t[a].nextLayout((()=>{qD.call(this)}))}))},XD=function(e={}){if(!WV.call(this)){var t=QB(this);if(e&&"object"==typeof e&&t.data.flooringPage){var i=e.padding?e.padding:0,{pageType:a}=t,n=t.data.flooringPage.img_list?t.data.flooringPage.img_list:[];n="string"==typeof n?JSON.parse(n):n;var o=0;return n.forEach(((e,t)=>{var{width:n}=JD.call(this,{pageType:a,width:e.width,height:e.height});o+=0===t?n:i+n})),o}}},JD=function(e){if(!WV.call(this)){var t={},{screenWidth:i}=OD;if(!e||"object"!=typeof e)return t;var{pageType:a,width:n,height:o}=e;return a!==ND.ENDPAGE&&a?a===ND.ENDMODAL&&n===o?(t.scale=150/n,t.width=150,t.height=150):a===ND.ENDMODAL&&n!==o&&(t.scale=150/o,t.width=150*n/o,t.height=150):(t.scale=i/n,t.width=i,t.height=i),t}},QD=function(){if(!WV.call(this)){var e=QB(this);if(e.data.flooringPage){var{pageType:t}=e,i=e.data.flooringPage.img_list?e.data.flooringPage.img_list:[];i="string"==typeof i?JSON.parse(i):i;var a=e.imgBaseName?e.imgBaseName:"";i.forEach(((i,n)=>{var o=a+n,{width:r,height:s,scale:l}=JD.call(this,{pageType:t,width:i.width,height:i.height});e[o].scale=l,e[o].style.width=r,e[o].style.height=s,e[o].src=i.image_url}))}}},eR=function(){var e=b()((function*(){var e,t,i=QB(this);if(!WV.call(this)||i.isFlooringPageShowed){i.isFlooringPageShowed=!0,i.sound.style.hidden=!0,i.splitLine.style.hidden=!0,i.isRewarded&&TM.call(this,0,!0),i.adProxy.setTimePoint(wf);var{deviceOrientation:a,screenWidth:n,screenHeight:o}=OD,r=null===(e=i.data)||void 0===e||null===(t=e.card)||void 0===t?void 0:t.headBgImg;if(i.pageType===ND.ENDPAGE&&i.data.flooringPage&&"portrait"===a)AD.call(this,Ei,{pageType:ND.ENDPAGE}),i.pageContainer.style.width=n,i.pageContainer.style.height=o,i.pageContainer.style.left=n,i.pageContainer.style.hidden=!1,i.pageHandler.style.hidden=!1,i.card.style.hidden=!0,oO.call(this),i.pageHandler.style.zIndex=pf.PageHandler,i.pageImgTips.style.zIndex=pf.PageImgTips,yield i.pageContainer.nextLayout(),yield i.pageContainer.animate({left:0,duration:300}),sR.call(this);else if(i.pageType===ND.ENDMODAL&&!i.flooringPageIsShow&&i.data.flooringPage&&"portrait"===a){AD.call(this,Ei,{pageType:ND.ENDMODAL});var{yMin:s,yMax:l}=i.flooringPageInfos;yield i.pageCardBody.animate({top:s,duration:50}),i.flooringPageAutoShow=!0,sR.call(this,{min:s,max:l}),GD.call(this)}else if(i.data.flooringPage&&[ND.PLAYABLE_H5].includes(i.pageType)&&!i.isCancelPlayablePage){AD.call(this,Ei,{pageType:i.pageType});var d=i.data.flooringPage.page_url||"";if(!d&&i.data.crtInfo)try{var{wxgame_video_card:{flooring_page:c}}=i.data.crtInfo;d=c.page_url||""}catch(e){}yield i.adProxy.handleRewardedVideoPlayableLand(d,i.pageType),i.isLandingPlayablePage=!0}else!i.pageType&&r&&(AD.call(this,Ei,{pageType:void 0}),i.defaultPageContainer.style.hidden=!1,i.defaultPageContainer.style.opacity=0,yield i.defaultPageContainer.nextLayout(),wN.call(this,!1),yield i.defaultPageContainer.animate({opacity:1,duration:280}),sR.call(this),IO.call(this,Sm)&&tR.call(this))}}));return function(){return e.apply(this,arguments)}}(),tR=function(){var e=QB(this);e.defaultPageGuide.style.left=e.defaultPageButton.layoutBox.left+115,e.defaultPageGuide.style.top=e.defaultPageButton.layoutBox.top+7,e.shouldAnimateDefaultPageGuide=!0,nR.call(this)},iR=function(){var e=QB(this),{screenWidth:t,screenHeight:i}=OD;e.defaultPageGuide.style.left=-t,e.defaultPageGuide.style.top=-i,e.shouldAnimateDefaultPageGuide=!1},aR=function(){var e=b()((function*(){var e=QB(this),t=500;e.defaultPageFinger.animate({scaleWidth:.9,scaleHeight:.9,easing:"ease-in-ease-out",duration:t}),e.defaultPageEllipse.animate({scaleWidth:1,scaleHeight:1,easing:"ease-in-ease-out",duration:t}),yield zo(650),e.defaultPageFinger.animate({scaleWidth:1,scaleHeight:1,easing:"ease-in-ease-out",duration:t}),e.defaultPageEllipse.animate({scaleWidth:.9,scaleHeight:.9,easing:"ease-in-ease-out",duration:t}),yield zo(650)}));return function(){return e.apply(this,arguments)}}(),nR=function(){var e=b()((function*(){var e=QB(this);e.defaultPageContainer.style.hidden||!e.shouldAnimateDefaultPageGuide||e.defaultPageGuideAnimated?(e.defaultPageGuideAnimated=!1,iR.call(this)):(e.defaultPageGuideAnimated=!0,yield aR.call(this),e.defaultPageGuideAnimated=!1,nR.call(this)),kR.call(this,{button:10})}));return function(){return e.apply(this,arguments)}}(),oR=function(){if(!WV.call(this)){var e=QB(this);if([ND.ENDPAGE,ND.ENDMODAL].includes(e.pageType)){e.flooringPageState.pageType=e.pageType,e.flooringPageState.card={click:0},e.flooringPageState.button={click:0};for(var t=0;t<=3&&(3!==t||2===e.pageType);t++)e.flooringPageState[`img${t}`]={exposure:0,click:0}}}},rR=function(){if(!WV.call(this)){var e=QB(this);if(OD.isIOS){for(var t=0;t<3;t++)e[`pageImg${t}`].src=nV,e[`pageCardImg${t}`].src=nV;e.pageCardImg3.src=nV,e.pageAppIcon.src=nV,e.pageCardAppIcon.src=nV,e.pageCardTipIcon.src=nV}}},sR=function(e={}){if(!WV.call(this)){var t=QB(this);if(t.pageType===ND.ENDMODAL){var i=e.min?e.min:0,a=e.max?e.max:0;t.pageCardBody.style.top!==i||t.flooringPageIsShow||t.flooringPageAutoShow?t.pageCardBody.style.top===a&&t.flooringPageIsShow?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,lR.call(this,{type:2,staytime:0,componentsstartstr:""}),lR.call(this,{type:3,staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageShowTime=0,t.flooringPageCloseTime=0,oR.call(this)):t.pageCardBody.style.top===i&&t.flooringPageAutoShow?(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,lR.call(this,{type:4,staytime:0,componentsstartstr:""}),dR.call(this)):e.isClose&&t.flooringPageIsShow&&(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,lR.call(this,{type:5,staytime:0,componentsstartstr:""}),lR.call(this,{type:3,staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,oR.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,lR.call(this,{type:1,staytime:0,componentsstartstr:""}),dR.call(this))}else t.pageType===ND.ENDPAGE?e.isClose?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,lR.call(this,{staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,oR.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,lR.call(this,{staytime:0,componentsstartstr:JSON.stringify(t.flooringPageState)}),dR.call(this)):t.pageType||(e.isClose?(t.flooringPageIsShow=!1,t.flooringPageCloseTime=+new Date,lR.call(this,{staytime:t.flooringPageCloseTime-t.flooringPageShowTime,componentsstartstr:JSON.stringify(t.flooringPageState)}),t.flooringPageCloseTime=0,t.flooringPageShowTime=0,oR.call(this)):(t.flooringPageIsShow=!0,t.flooringPageShowTime=+new Date,lR.call(this,{staytime:0,componentsstartstr:JSON.stringify(t.flooringPageState)}),dR.call(this)))}},lR=function(e){if(!WV.call(this)){var t=QB(this);t.pageType===ND.ENDPAGE&&delete e.type;var i=[];return i.push(e),t.adProxy.reportFlooringPage(t.pageType,i)}},dR=function(e=!1){if(!WV.call(this)){var t=QB(this);if(e){if(t.pageType)for(var i=t.imgBaseName,a=0;a<=3&&(3!==a||2===t.pageType);a++){var n=t[i+a].getAbsolutePosition(),{width:o}=t[i+a].style,r=-o/2,s=OD.screenWidth-o/2;n.left>r&&n.left<s&&(t.flooringPageState[`img${a}`].exposure+=1)}}else t.exposureTimer&&(clearTimeout(t.exposureTimer),t.exposureTimer=null),t.exposureTimer=setTimeout((()=>dR.call(this,!0)),1e3)}},cR=function(e){if(!WV.call(this)){var t=QB(this),i=$D.call(this,{event:e,container:"pageHandler"});t.startPosX=i.x,t.startPosY=i.y,t.lastPosX=i.x,t.lastPosY=i.y,t.lastStartTime=(new Date).getTime()}},pR=function(e){if(!WV.call(this)){var t=QB(this),i=t.pageHandler.getAbsolutePosition(),a=i.left+e[0].x,n=i.top+e[0].y,{xMin:o,xMax:r,yMin:s,yMax:l,xContainer:d,yContainer:c}=t.flooringPageInfos;if(a-t.lastPosX!=0&&d&&UD.call(this,{x:a,y:n,direction:"left"})){var p=t[d].style.left;(p+=a-t.lastPosX)>=o&&p<=r&&(t[d].style.left=p,t.lastSecondPosX=t.lastPosX,t.lastPosX=a,t.direction="left",t.lastMoveTime=(new Date).getTime())}if(n-t.lastPosY!=0&&c&&UD.call(this,{x:a,y:n,direction:"top"})){var u=t[c].style.top;(u+=n-t.lastPosY)>=s&&u<=l&&(t[c].style.top=u,t.lastSecondPosY=t.lastPosY,t.lastPosY=n,t.direction="top")}}},uR=function(e){if(!WV.call(this)){var t=QB(this),i=$D.call(this,{event:e,container:"pageHandler"}),{xMin:a,xMax:n,yMin:o,yMax:r,xContainer:s,yContainer:l,infos:d}=t.flooringPageInfos;if(d.event=i,d.event&&(d.event.pressInterval=(new Date).getTime()-t.lastStartTime),d.touchClick&&VD.call(this,Object.assign({},d,{event:i,max:r,min:o})),"top"===t.direction&&d.yRevise)ZD.call(this,Object.assign({},d,{max:r,min:o,direction:"top",imgBox:l}));else if("left"===t.direction&&d.xRevise)ZD.call(this,Object.assign({},d,{max:n,min:a,direction:"left",imgBox:s})),dR.call(this);else if("left"===t.direction&&d.xInertia){var c=i.x-t.lastPosX,p=t[s].style.left+5*c;p>=d.xHead&&p<=d.xTail?t[s].style.left=p:HD.call(this,Object.assign({},d,{xMax:n,xMin:a,imgBox:s})),dR.call(this)}else t.startPosX=0,t.startPosY=0,t.lastPosX=0,t.lastPosY=0,t.lastSecondPosX=0,t.lastSecondPosY=0,t.direction="";t.direction=""}},hR=function(e){var t;if(!WV.call(this)){var i=QB(this);if(GR.call(this,e)&&!i.isCancelPlayablePage){i.isCancelPlayablePage=!0,i.playableGiveUp.value="已放弃",i.playableGiveUp.style.color="#ffffff",i.playableGiveUp.style.opacity=.6;var a=Z({text:"已放弃",fontSize:12})||36;i.playableGiveUp.style.width=a,i.playableTipsWrap.style.width=i.playableTipsContent.style.width+a+32,i.adProxy.reportCancelRewardPlayablePage({costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,slotid:JB,is_reward:1,is_cancel:1})}}},gR=function(){var e=QB(this),{deviceOrientation:t,screenWidth:i,screenHeight:a}=OD,n="portrait"===t,o=n?a:i,r=n?i:a;e.defaultPageBackgroundImage.style.width=o,e.defaultPageBackgroundImage.style.height=o,e.videoBackgroundImage.style.width=o,e.videoBackgroundImage.style.height=o;var s=(o-r)/-2;n?(e.defaultPageBackgroundImage.style.left=s,e.defaultPageBackgroundImage.style.top=0,e.videoBackgroundImage.style.left=s,e.videoBackgroundImage.style.top=0):(e.defaultPageBackgroundImage.style.left=0,e.defaultPageBackgroundImage.style.top=s,e.videoBackgroundImage.style.left=0,e.videoBackgroundImage.style.top=s)},fR=function(){if(!WV.call(this)){var e=QB(this),{card:{icon:t,name:i,wording:a}}=e.data,{screenWidth:n,screenHeight:o}=OD;e.pageAppIcon.src=t,e.pageAppIcon.style.borderRadius=e.appIcon.style.borderRadius,e.pageAppName.value=jo(i,20),e.pageAppWording.value=a,e.pageButton.value=e.button.value,e.imgBaseName="pageImg",e.pageImgContainer.style.width=n,e.pageImgContainer.style.height=n,e.pageImgBox.style.width=3*n,e.pageImgBox.style.height=n,e.pageImgBox.style.left=0,e.pageInfoContainer.style.width=n,e.pageInfoContainer.style.height=o-n,e.pageInfoContainer.style.top=n,e.pageImgTips.style.top=n-20,e.pageImgTips.style.left=n/2-17.5,OD.isIOS&&(e.pageImgIcon0.style.borderRadius=4,e.pageImgIcon1.style.borderRadius=4,e.pageImgIcon2.style.borderRadius=4),e.pageImgIcon0.style.backgroundColor="#ffffff",e.pageImgIcon1.style.backgroundColor="rgba(255, 255, 255, 0.55)",e.pageImgIcon2.style.backgroundColor="rgba(255, 255, 255, 0.55)",QD.call(this),WD.call(this)}},mR=function(){if(!WV.call(this)){var e=QB(this),{card:{icon:t,name:i,wording:a}}=e.data,{screenWidth:n}=OD;e.pageCardContainer.style.width=n,e.pageCardAppIcon.src=t,e.pageCardAppIcon.style.borderRadius=e.appIcon.style.borderRadius,e.pageCardAppName.value=jo(i,20),e.pageCardAppWording.value=a,e.pageCardButton.value=e.button.value,e.pageCard.style.width=n,e.pageCardSplitLine.style.width=n-20,e.pageCardHotArea.style.width=n,e.pageCardImgContainer.style.width=n-20,e.pageCardImgBox.style.width=XD.call(this,{padding:10}),e.pageCardTipIcon.src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=f8ba19ac709edca00138c47585de39be&filekey=3033020101041f301d02016d040253480410f8ba19ac709edca00138c47585de39be020202d1040d00000004627466730000000131&hy=SH&storeid=32303138313031303133353430323030303461363337313336666664393336663561333230613030303030303664&bizid=1023",NM.call(this).style.padding=0,NM.call(this).style.paddingBottom=0,e.imgBaseName="pageCardImg",QD.call(this),WD.call(this),e.pageHandler.style.hidden=!1}},yR=function(){if(!WV.call(this)){var e=QB(this),t="视频结束后可试玩";t=OD.isIOS?`${t} `:t;var i=Z({text:t,fontSize:12})||100;e.playableTipsContent.style.width=i,e.playableTipsWrap.style.width=i+24}},vR=function(){if(!WV.call(this)){var e=QB(this),{product_type:t,card:{icon:i,name:a,wording:n,headBgImg:o},extBackComm:{landing_page_type:r}}=e.data;yV.call(this,["defaultPageInfoContainer","defaultPageBackgroundContainer","defaultPageBackgroundMask"]);var s=xO.call(this);if(s&&(e.defaultPageAppIcon.bubbleEvent=!1),e.defaultPageAppIcon.src=i,e.defaultPageAppName.value=jo(a,20),e.defaultPageAppWording.value=n,e.defaultPageButton.value=e.button.value,r===Ag?(e.defaultPageButtonIcon.style.hidden=!1,e.defaultPageButton.style.width=MD.getTextWidth(e.defaultPageButton.value||"",17)+3):(e.defaultPageButtonIcon.style.hidden=!0,e.defaultPageButton.style.width=184),s)for(var l of(e.defaultPageAppIcon.style.left=0,Object.keys(pk))){var d=pk[l];e[l]&&Object.assign(e[l].style,d)}else{var c=MD.getTextWidth(jo(a,20),17);for(var p of(e.defaultPageAppIcon.style.left=134-c/2,Object.keys(ck))){var u=ck[p];e[p]&&Object.assign(e[p].style,u)}}var h=nD.call(this,e.defaultPageRankingInfo),g=lD.call(this,{scoreTitle:e.defaultPageScoreTitle,scoreTitleWidth:{ios:95,android:70},scoreNum:e.defaultPageScoreNum,scoreImg:X(5,1).map((t=>e[`defaultPageScoreImg${t}`]))});e.defaultPageRanking.style.hidden=!h,e.defaultPageScore.style.hidden=!g,(h||g)&&(e.defaultPageWordingWrapper.style.height+=40),e.defaultPageAppIcon.style.borderRadius=s?8:3,-1===[Cg.ANDROID,Cg.IOS].indexOf(t)&&(e.defaultPageAppIcon.style.borderRadius=s?32:12),e.defaultPageBackgroundImage.src=o||"",gR.call(this)}},_R=function(){if(!WV.call(this)){var e=QB(this),{product_type:t,card:{icon:i,name:a,wording:n,headBgImg:o}}=e.data,{screenHeight:r,screenWidth:s}=OD;for(var l of(yV.call(this,["animationCardContainer"]),e.animationCardContainer.style.top=r,e.animationCardContainer.style.width=s,e.animationCardWordingWrapper.style.height=206,e.videoBackgroundContainer.style.height=r,e.videoBackgroundContainer.style.width=s,e.videoBackgroundMask.style.height=r,e.videoBackgroundMask.style.width=s,e.videoBackgroundImage.style.height=r,e.videoBackgroundImage.style.width=s,e.animationCardAppIcon.src=i,e.animationCardAppName.value=jo(a,20),e.animationCardAppWording.value=n,e.animationCardButton.value=e.button.value,e.animationCardAppIcon.style.left=0,Object.keys(pk))){var d=pk[l];e[l]&&Object.assign(e[l].style,d)}var c=nD.call(this,e.animationCardRankingInfo),p=lD.call(this,{scoreTitle:e.animationCardScoreTitle,scoreTitleWidth:{ios:95,android:70},scoreNum:e.animationCardScoreNum,scoreImg:X(5,1).map((t=>e[`animationCardScoreImg${t}`]))});e.animationCardRanking.style.hidden=!c,e.animationCardScore.style.hidden=!p,(c||p)&&(e.animationCardWordingWrapper.style.height+=44),e.animationCardAppIcon.style.borderRadius=8,-1===[Cg.ANDROID,Cg.IOS].indexOf(t)&&(e.animationCardAppIcon.style.borderRadius=24),e.videoBackgroundImage.src=o||"",e.defaultPageBackgroundImage.src=o||"",gR.call(this)}},ER=function(){if(!WV.call(this)){var e=QB(this),{flooringPage:t}=e.data;oR.call(this),t&&e.pageType===ND.ENDPAGE&&"portrait"===OD.deviceOrientation?fR.call(this):t&&e.pageType===ND.ENDMODAL&&"portrait"===OD.deviceOrientation?mR.call(this):t&&[ND.PLAYABLE_H5].includes(e.pageType)?yR.call(this):e.pageType||e.isUseAnimationPage?e.isUseAnimationPage&&_R.call(this):vR.call(this)}},xR=function(e){return t=>{if(GR.call(this,t)){var i=xO.call(this);if(!(i&&"wrapper"===e||!i&&["logo","wording"].includes(e))){var a=[[of.REWARD_ENDPAGE_HEAD_IMG,i&&"logo"===e],[of.REWARD_ENDPAGE_WORDING_LOGO_ENHANCED,i&&["wording","wrapper"].includes(e)],[of.REWARD_ENDPAGE_WORDING_TEXT_ENHANCED,!i&&["wording","wrapper"].includes(e)],[of.REWARD_ENDPAGE_BUTTON_LOGO_ENHANCED,i&&"button"===e],[of.REWARD_ENDPAGE_BUTTON_TEXT_ENHANCED,!i&&"button"===e],[of.REWARD_ENDPAGE_RANKING,"ranking"===e],[of.REWARD_ENDPAGE_SCORE,"score"===e],[of.REWARD_ENDPAGE_GUIDE,"guide"===e]].find((([,e])=>e))[0];NN.call(this,t,["button","guide"].includes(e)?"button":"",a)}}}},bR=function(){var e=QB(this),{screenWidth:t,screenHeight:i}=OD;e.cardContainer.animate({top:i,duration:500}).finally((()=>{wN.call(this,!1)})),e.videoBackgroundContainer.style.hidden=!1;var a=Math.floor(16*t/9);e.videoContainer.style.height=a,e.video.style.height=a,e.videoContainer.style.borderRadius=20,e.animationCardContainer.style.hidden=!1,e.animationCardAppConversion.style.hidden||(e.animationCardWordingWrapper.style.height+=32);var n=e.topBar.style.top+82,o=e.animationCardWordingWrapper.style.height,r=i-o-24,s=i-n-o,l=s/a,d=n-(a-s)/2;e.videoContainer.animate({top:d,scaleWidth:l,scaleHeight:l,duration:1e3}),e.animationCardContainer.animate({top:r,duration:1e3}),setTimeout((()=>{e.animationCardClickMask.style.height=e.videoContainer.style.height,e.animationCardClickMask.style.width=e.videoContainer.style.width,e.animationCardClickMask.style.hidden=!1}),1e3)},{reportCanvasData:wR,ReportCanvasDataEventType:TR,deviceInfo:CR,invokeMethod:AR}=y,PR=function(e,t=0){var i;if(WV.call(this))return Promise.reject({errMsg:gV});var a=QB(this),{width:n,height:o}=a.pageType===ND.ENDMODAL?a.pageCard.layoutBox:a.card.layoutBox;[0,2,3].includes(t)&&(a.clickCount+=1);var r={slotid:JB,costtype:null!==(i=a.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,click_time:+new Date,start_posx:parseInt(e.relativeX,10)||0,start_posy:parseInt(e.relativeY,10)||0,end_posx:parseInt(e.relativeEndX,10)||0,end_posy:parseInt(e.relativeEndY,10)||0,ad_width:Number(n)||0,ad_height:Number(o)||0,press_interval:e.pressInterval,block_click:t};return a.adProxy.reportTouchClick(r)},IR=function(e,t){if(WV.call(this))return Promise.reject({errMsg:gV});var i=QB(this),a=dO.call(this),n=Promise.resolve(),o={currentTime:i.currentTime,duration:cO.call(this)?null==a?void 0:a.duration:IM.call(this)},r=i.card,{absoluteX:s,absoluteY:l}=e;i.pageType===ND.ENDMODAL?(r=i.pageCardContainer,s=Math.round(e.x),l=Math.round(e.y)):r=[of.REWARD_CARD_BUTTON,of.REWARD_CARD].indexOf(t)>-1?i.card:i.container;var{left:d,top:c}=r.getAbsolutePosition(),{width:p,height:u}=r.layoutBox;return n=i.adProxy.reportClick({clickAbsoluteLeft:s,clickAbsoluteTop:l,clickRelativeLeft:s-d,clickRelativeTop:l-c,pressInterval:e.pressInterval,left:d,top:c,width:p,height:u,videoData:o,weappExtraData:{...i.adWelfareData||{},...i.skitInfo||{}}}),sN.call(this,Ld,{clickPos:t}),MR.call(this,t),tV(n,"激励视频","点击广告卡片"),DR.call(this,{stage:1002}),n},SR=function({playType:e,conditionType:t}){if(WV.call(this))return Promise.reject({errMsg:gV});var i=QB(this),a=dO.call(this);return i.adProxy.reportVideo({playType:e,conditionType:t,playDuration:i.currentTime,videoDuration:cO.call(this)?(null==a?void 0:a.duration)||0:IM.call(this),muted:NM.call(this).muted,rewardedTime:i.data.rewardedTime,isRewarded:i.isRewarded,index:i.adProxy.adDataIndex})},kR=function({button:e},t={}){var i;if(WV.call(this))return Promise.reject({errMsg:gV});var a=QB(this),n=dO.call(this),o=+new Date,r=t?t.pressInterval:0;return a.adProxy.reportBehaviorButton({button:e,isEnded:a.isEnded,playDuration:a.currentTime,videoDuration:cO.call(this)?(null==n?void 0:n.duration)||0:IM.call(this),preloadVideo:a.preloadVideo?1:0,preloadVideoSuccess:a.preloadVideoSuccess?1:0,videoFirstPlay:a.videoFirstPlayTime,cardFirstShow:a.cardFirstShowTime,clickCard:o,pressInterval:r,currentPlayUrl:null===(i=NM.call(this))||void 0===i?void 0:i.src,lastFetchUrl:n?n.src:"",isPlayletAutoplay:a.isSkitAd,videoStartPlayTsClient:a.videoFirstPlayTime||0,videoEndPlayTsClient:a.adProxy.getTimePoint(Lf)||0,videoPlayDuration:a.currentTime,rewardedCondition:IM.call(this),isRewarded:a.isRewarded})},DR=function({stage:e}){if(WV.call(this))return Promise.reject({errMsg:gV});var t={adtype:2,stage:e};return QB(this).adProxy.reportADFunnelModel(t)},RR=e=>{wR(e?TR.EVENT_CANVAS_ADS_FIN:TR.EVENT_CANVAS_ADS_CANCEL)},OR=function(e){if(!WV.call(this)){var t=QB(this),i=e.then((e=>/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):void 0)).catch((()=>t.adProxy.reportFollow({result:"fail"})));return tV(i,"激励视频","关注"),i}},MR=function(e){var t=QB(this),{adProxy:i}=t;i.reportMMClickPos({clickPos:e})},NR=(e,t)=>{var i=e.touchendTimeStamp-e.touchstartTimeStamp;ko(17035,{aid:t.aid,traceid:t.traceid,touch_start_x:Math.round(e.touchstartPosX),touch_start_y:Math.round(e.touchstartPosY),touch_end_x:Math.round(e.touchendPosX),touch_end_y:Math.round(e.touchendPosY),touch_duration:i,screenwidth:CR.screenWidth,screenheight:CR.screenHeight,device_orientation:CR.deviceOrientation,clk_timems:e.touchstartTimeStamp,play_timems:+new Date,is_shield:0})},LR=function(e={}){var t,i,a=QB(this);return a.adProxy.reportPopupClickAction({buttonType:e.buttonType||0,buttonTime:e.buttonTime||0,adClkTime:e.buttonTime||0,adExpTime:0,adClkX:Math.round(e.gameTouchStartPosX||0),adClkY:Math.round(e.gameTouchStartPosY||0),adWidth:0,adHeight:0,isGame:CR.isWaGame?1:0,costtype:null!==(t=a.adProxy)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.is_cpm?1:2})},WR=function(e){return QB(this).adProxy.reportFunnelAction({ext_info:{mb:RO.call(this),isMbAd:DO.call(this)},...e})},BR=function(){var e,t,i=QB(this);if((null==i||null===(e=i.data)||void 0===e?void 0:e.product_type)===Cg.MINI_GAME&&(a=.1,"devtools"===U.platform||Math.random()<=a)){var a,{wegameInfo:n}=i.adProxy.data.extBackComm,o=e=>e?1:0,r=o(XR.call(this)),s=o(aO.call(this)),l=o(qR.call(this)),d=null==n||null===(t=n.promotional_pic)||void 0===t?void 0:t.item_list,c=o(((null==d?void 0:d.length)||0)>0),p=o(null==n?void 0:n.brief_intro),u=o(null==n?void 0:n.description),h=o(null==n?void 0:n.banner_url);return i.adProxy.reportAdMonitorData(Wc,[p,u,h,c,l,s,r].join(""))}},VR={ExptA:"ExptA",ExptB:"ExptB",ShowView:"ShowView",HideView:"HideView",ViewFirstFrame:"ViewFirstFrame",ClickView:"ClickView",JumpTo:"JumpTo",VideoPreloadStart:"VideoPreloadStart",VideoPreloadStop:"VideoPreloadStop",VideoPreloadEnd:"VideoPreloadEnd",VideoPreloadError:"VideoPreloadError",VideoPlayerStart:"VideoPlayerStart",VideoPlayerStop:"VideoPlayerStop",VideoPlayerResume:"VideoPlayerResume",VideoPlayerPause:"VideoPlayerPause",VideoPlayerFirstFrame:"VideoPlayerFirstFrame",VideoPlayer1S:"VideoPlayer1S",VideoPlayerEnd:"VideoPlayerEnd",VideoPlayerError:"VideoPlayerError"},HR=function(e,t){var i,a,n,o=QB(this);if("0"===(null===(i=S.expt)||void 0===i||null===(a=i[GO()])||void 0===a?void 0:a.value)&&DO.call(this))return AR("mbIndexSystemReporter",{BizScene:"MagicAdMiniProgram",BizSubScene:"MagicWeAppRewardAd",TraceId:null===(n=o.adProxy.data)||void 0===n?void 0:n.traceid,Action:e,ExtraJson:t})},{deviceInfo:FR}=y,GR=function(e,t=!0){if(WV.call(this))return!1;var i=QB(this).adProxy.isTriggerClick(e);return t&&PR.call(this,e,i?0:1),i},UR=function(){var{screenWidth:e,screenHeight:t}=FR;return e<t},zR=function(){var{screenWidth:e,screenHeight:t}=FR;return e>=t},jR=function(){return FR.isAndroid||FR.isIOS},$R=function(){return"devtools"===FR.platform},YR=function(){return FR.isWindows||FR.isMac},qR=function(){var e,t=QB(this),{data:i}=t;if(null!=i&&null!==(e=i.extBackComm)&&void 0!==e&&e.wegameInfo){var a,n,o,r,s=[];return 0!==(null===(a=i.extBackComm.wegameInfo)||void 0===a?void 0:a.category_2_id)&&i.extBackComm.wegameInfo.category_2_name&&s.push(null===(n=i.extBackComm.wegameInfo)||void 0===n?void 0:n.category_2_name),0!==(null===(o=i.extBackComm.wegameInfo)||void 0===o?void 0:o.category_3_id)&&i.extBackComm.wegameInfo.category_3_name&&s.push(null===(r=i.extBackComm.wegameInfo)||void 0===r?void 0:r.category_3_name),s.length?s:null}return null},KR=function(){var e,t=QB(this),{data:i}=t;switch(null==i||null===(e=i.extBackComm)||void 0===e?void 0:e.wegame_ranking_type){case pa:return"人气榜";case ua:return"畅销榜";case ha:return"新游榜"}return""},ZR=function(){var e,t=QB(this),{data:i}=t,a=null==i||null===(e=i.extBackComm)||void 0===e?void 0:e.wegame_ranking_no;if(!isNaN(a)){var n=a+1;return n<=5?n:n<=30?n-n%5+5:50}return 0},XR=function(e=""){var t,i,a,n,o,r,s=QB(this),{data:l}=s,d=null==l||null===(t=l.extBackComm)||void 0===t||null===(i=t.wegameInfo)||void 0===i?void 0:i.rank;if(!d)return null;var c=[{title:"人气榜",value:null!==(a=d.popularity_rank)&&void 0!==a?a:0},{title:"畅销榜",value:null!==(n=d.best_selling_rank)&&void 0!==n?n:0},{title:"畅玩榜",value:null!==(o=d.best_play_rank)&&void 0!==o?o:0},{title:"新游榜",value:null!==(r=d.new_game_rank)&&void 0!==r?r:0}].filter((e=>0!==e.value));if(!c.length)return null;c.sort(((e,t)=>e.value-t.value));var p,u=c[0];if(u.value<=20)return p=u.value,`${e}${u.title}第${p}名`;if(u.value>20&&u.value<=50)p=50;else{if(!(u.value>50&&u.value<=100))return null;p=100}return`${e}${u.title}Top${p}`},JR={1:"最近多人在玩",2:"10万+人在玩",3:"100万+人在玩"},QR={1:"多个玩家分享",2:"10万+人分享",3:"30万+人分享"},eO={1:"多个玩家收藏",2:"5000+人收藏",3:"1万+人收藏",4:"2万+人收藏"},tO={rank:"https://wxa.wxs.qq.com/images/wxapp/rank_icon.png",act:"https://wxa.wxs.qq.com/images/wxapp/play_icon.png",collect:"https://wxa.wxs.qq.com/images/wxapp/collect_icon.png",share:"https://wxa.wxs.qq.com/images/wxapp/share_icon.png",default:"https://wxa.wxs.qq.com/images/wxapp/play_icon.png"},iO=function(){var e,t=QB(this),{data:i}=t,a=null==i||null===(e=i.extBackComm)||void 0===e?void 0:e.wegameInfo;if(!a||i.product_type!==ra.MINI_GAME)return null;var n=[{type:"act",text:JR[a.act_info||1],val:a.act_info},{type:"share",text:QR[a.share_info||1],val:a.share_info},{type:"collect",text:eO[a.collect_info||1],val:a.collect_info}];return n.sort(((e,t)=>(t.val&&t.val>1?1:0)-(e.val&&e.val>1?1:0))),n},aO=function(){var e,t=QB(this),{data:i}=t,a=null==i||null===(e=i.extBackComm)||void 0===e?void 0:e.wegameInfo,n=XR.call(this),o=iO.call(this);if(!a||!o)return null;var r=o.reduce(((e,t)=>Boolean(e||t.val&&t.val>1)),!1);return(n?[{type:"rank",text:n}].concat(o.map((e=>Ce(e,["type","text","val"])))):r?o.map((e=>Ce(e,["type","text","val"]))):["一分钟上手","无需下载","点击即玩"].map((e=>({type:"default",text:e})))).map((e=>({text:e.text,icon:tO[e.type],type:e.type,val:e.val})))},nO=function(){var e,t,i,a,n=QB(this),{data:o}=n;return[Cg.IOS,Cg.ANDROID].includes(o.product_type)&&null!=o&&null!==(e=o.appInfo)&&void 0!==e&&e.appRating&&!isNaN(null==o||null===(t=o.appInfo)||void 0===t?void 0:t.appRating)&&(null==o||null===(i=o.appInfo)||void 0===i?void 0:i.appRating)>3?Number(null==o||null===(a=o.appInfo)||void 0===a?void 0:a.appRating.toFixed(1)):0},oO=function(){var e=QB(this);null!=e&&e.cardLine&&(e.cardLine.style.hidden=!0),null!=e&&e.cardRanking&&(e.cardRanking.style.hidden=!0),null!=e&&e.cardScore&&(e.cardScore.style.hidden=!0)},rO=function(){var e=QB(this);KR.call(this)&&(null!=e&&e.cardLine&&(e.cardLine.style.hidden=!1),null!=e&&e.cardRanking&&(e.cardRanking.style.hidden=!1)),nO.call(this)&&(null!=e&&e.cardLine&&(e.cardLine.style.hidden=!1),null!=e&&e.cardScore&&(e.cardScore.style.hidden=!1))},sO=function(e=null){var t=QB(this),i=t.adProxy.convertedAdDatas[null!=e?e:t.adProxy.adDataIndex];return!(!i||t.disableGaussBlur)&&$m(i)},lO=function(e=null){var t=QB(this),i=t.adProxy.convertedAdDatas[null!=e?e:t.adProxy.adDataIndex];return!!i&&(!zM.call(this)&&Ym(i))},dO=function(e=null){var t=QB(this),i=t.adProxy.convertedAdDatas[null!=e?e:t.adProxy.adDataIndex];return sO.call(this,e)&&null!=i&&i.gaussVideo?i.gaussVideo:(null==i?void 0:i.shortVideo)||null},cO=function(){var e,t=QB(this);return Gm("video",null===(e=t.adProxy.data)||void 0===e?void 0:e.crt_size)},pO=function(){var e,t=QB(this);return Gm("multiImage",null===(e=t.adProxy.data)||void 0===e?void 0:e.crt_size)},uO=function(){var e,t=QB(this);return Gm("landpage",null===(e=t.adProxy.data)||void 0===e?void 0:e.crt_size)},hO=function(){var e,t=QB(this);return uO.call(this)&&(null===(e=t.adProxy.data)||void 0===e?void 0:e.dest_type)===wg.DEST_TYPE_CANVAS},gO=function(){var e,t=QB(this);return uO.call(this)&&[wg.DEST_TYPE_CHANNELS,wg.DEST_TYPE_CHANNELS_LIVE].includes(null===(e=t.adProxy.data)||void 0===e?void 0:e.dest_type)},fO=function(){var e,t=QB(this);return gO.call(this)&&wg.DEST_TYPE_CHANNELS===(null===(e=t.adProxy.data)||void 0===e?void 0:e.dest_type)},mO=function(){var e,t=QB(this);return gO.call(this)&&wg.DEST_TYPE_CHANNELS_LIVE===(null===(e=t.adProxy.data)||void 0===e?void 0:e.dest_type)},yO=function(){var e,t,i,a,n=QB(this);return uO.call(this)&&(null===(e=n.adProxy.data)||void 0===e?void 0:e.dest_type)===wg.DEST_TYPE_WECHAT_APPLET&&(null===(t=n.adProxy.data)||void 0===t?void 0:t.product_type)===Cg.MINI_GAME&&(null===(i=n.adProxy)||void 0===i||null===(a=i.data.extBackComm)||void 0===a?void 0:a.spec_id)===uf},vO=function(){return cO.call(this)&&_O.call(this)},_O=function(){return"wxde9c15e447ed288e"===FR.gameAppId},EO=function(){var e,t,i,a,n,o,r,s=null===(e=QB(this).adProxy)||void 0===e?void 0:e.data;return cO.call(this)&&((null==s||null===(t=s.extInfo)||void 0===t||null===(i=t.app_gift_pack_code)||void 0===i?void 0:i.code)||(null==s||null===(a=s.extInfo)||void 0===a||null===(n=a.app_gift_pack_code)||void 0===n?void 0:n.description)||(null==s||null===(o=s.extInfo)||void 0===o||null===(r=o.app_gift_pack_code)||void 0===r?void 0:r.game_gift_id)&&s.extInfo.app_gift_pack_code.game_act_id)},xO=function(){var e,t=null===(e=QB(this).adProxy.data)||void 0===e?void 0:e.product_type;return[Cg.ANDROID,Cg.IOS,Cg.WE_CHAT,Cg.MINI_GAME].includes(t)||!0},bO=function(e=null){var t=QB(this);return!WV.call(this)&&(UM.call(this)?!!t.multiVideoInfo.isPlaying[null!=e?e:t.adProxy.adDataIndex]:t.isPlaying)},wO=function(e=null){var t=QB(this);return!WV.call(this)&&(UM.call(this)?!!t.multiVideoInfo.isEnded[null!=e?e:t.adProxy.adDataIndex]:t.isEnded)},TO=function(e=null){var t=QB(this);return!WV.call(this)&&(UM.call(this)?!!t.multiVideoInfo.isPause[null!=e?e:t.adProxy.adDataIndex]:t.isPause)},CO=function(e){return bO.call(this,e)||wO.call(this,e)},AO=function(e=0){var t,i,a=QB(this);return null!==(t=a.adProxy)&&void 0!==t&&null!==(i=t.datas)&&void 0!==i&&i[e]&&a.adProxy.datas[e].traceid||null},PO=function(e){var t=QB(this),i=AO.call(this,e.index);return i!==e.identify&&t.adProxy.reportAdMonitorData(tc,{current:i,target:e.identify}),i===e.identify},IO=function(e){return Boolean(SO.call(this,e))},SO=function(e){return QB(this).templateCondition[e]},kO=function(){var e=QB(this),t=[[fO.call(this),e.adProxy.data.condition.widget_gray_reward_page_channels_feed_countdown||e.adProxy.data.styleParams.widget_gray_reward_page_channels_feed_countdown||SO.call(this,Wm)],[mO.call(this),e.adProxy.data.condition.widget_gray_reward_page_channels_live_countdown||e.adProxy.data.styleParams.widget_gray_reward_page_channels_live_countdown||SO.call(this,Bm)],[hO.call(this)&&e.adProxy.isRewardedCustomerAcquisition(),e.adProxy.data.styleParams.widget_gray_reward_page_customer_acquisition_countdown||SO.call(this,Vm)],[hO.call(this)&&!e.adProxy.isRewardedCustomerAcquisition(),e.adProxy.data.styleParams.widget_gray_reward_page_canvas_countdown||SO.call(this,Hm)]];for(var[i,a]of t)if(i&&a)return Number(a);return 15},DO=function(){var e,t,i=QB(this);return Boolean(!(uO.call(this)||yO.call(this)||pO.call(this)||null!==(e=i.data)&&void 0!==e&&null!==(t=e.flooringPage)&&void 0!==t&&t.landpage_type||_O.call(this)))},RO=function(){var e,t,i,a=QB(this),n=(null===(e=a.adProxy)||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.styleParams)||void 0===i?void 0:i.widget_gray_rewarded_video_mb_switch)||{},o=(FR.isAndroid?"android":"ios").concat(rV?"Test":"");return Boolean(a.mb&&!a.mb.bizRecreate&&n[o]&&DO.call(this))},OO=function(){var e,t,i;return null!==(e=null===(t=QB(this).adProxy.data)||void 0===t||null===(i=t.condition)||void 0===i?void 0:i.widget_gray_rewarded_video_endpage_countdown)&&void 0!==e?e:0},MO=function(){var e,t,i,a=QB(this);return Boolean(null!==(e=null===(t=a.adProxy.data)||void 0===t||null===(i=t.condition)||void 0===i?void 0:i.widget_gray_rewarded_video_endpage_instantly)&&void 0!==e?e:0)},NO=function(){var e,t,i,a=QB(this);return Boolean(null!==(e=null===(t=a.adProxy.data)||void 0===t||null===(i=t.condition)||void 0===i?void 0:i.widget_gray_rewarded_video_category_act)&&void 0!==e?e:0)},LO=function(){var e,t,i,a=QB(this);return Boolean(null!==(e=null===(t=a.adProxy.data)||void 0===t||null===(i=t.condition)||void 0===i?void 0:i.widget_gray_rewarded_video_disable_bottom_card_early_click)&&void 0!==e?e:1)},WO=function(){var e,t,i=QB(this);return Boolean(null===(e=i.adProxy.data)||void 0===e||null===(t=e.styleParams)||void 0===t?void 0:t.widget_gray_rewarded_video_disable_frequent_land)&&UO.call(this)},BO=function(e,t){QB(this).featureFlags[e]=t},VO=function(e){return QB(this).featureFlags[e]},HO=function(e){delete QB(this).featureFlags[e]},FO=function(){var e,t,i,a;return(null!==(e=null===(t=QB(this).adProxy)||void 0===t||null===(i=t.data)||void 0===i||null===(a=i.condition)||void 0===a?void 0:a.widget_gray_rewarded_video_navigate_back_intercept)&&void 0!==e?e:0)&&(cO.call(this)||pO.call(this)||yO.call(this))},GO=function(){return rV?FR.isIOS?Ia:Pa:FR.isIOS?Aa:Ca},UO=function(){var e,t,i=null===(e=S.expt)||void 0===e||null===(t=e[GO()])||void 0===t?void 0:t.groupid;return i&&["0","-1"].includes(i.toString())},zO=function(){var e=QB(this);try{var t,i,a=JSON.parse(null===(t=e.adProxy.data)||void 0===t||null===(i=t.condition)||void 0===i?void 0:i.widget_gray_rewarded_video_landpage_countdown_config);return["noTips","hoverTips","bottomTips"].includes(null==a?void 0:a.type)?Ce(a,["type","text","width"]):null}catch{}return null},{deviceInfo:jO,_createInnerAudioContext:$O}=y,YO=180,qO=function(){var e;if(WV.call(this))return!1;var t=QB(this);return Gm("multiImage",null===(e=t.data)||void 0===e?void 0:e.crt_size)},KO=function(){var e=QB(this),t=!1,{screenWidth:i,screenHeight:a,deviceOrientation:n}=jO;e.videoContainer.style.hidden=!0,e.expandCardContainer.style.hidden=!0,e.cardContainer.style.hidden=!0,e.slideshowContainer.style.hidden=!1,"portrait"===n?(e.expandCardContainer.style.hidden=!0,e.slideshowCardContainer.style.hidden=!1):e.expandCardContainer.style.hidden=!1,e.isDialogOpened||_M.call(this);var{crtInfos:o}=e.data;e.slideShowImageUrls=o.map((e=>e.image_url)),e.slideShowImageUrlsWithAppend=[e.slideShowImageUrls[e.slideShowImageUrls.length-1],...e.slideShowImageUrls,e.slideShowImageUrls[0]],e.imgBaseWidth="portrait"===n?i:a,e.slideshowImgContainer.style.width=e.imgBaseWidth*e.slideShowImageUrlsWithAppend.length,e.slideshowImgContainer.style.height=e.imgBaseWidth;for(var r=0;r<e.slideShowImageUrls.length;r++)e[`slideshowImgDot${r}`].style.hidden=!1,e[`slideshowImgDot${r}`].style.backgroundColor=0===r?"#ffffff":"rgba(255, 255, 255, 0.3)";for(var s=0;s<e.slideShowImageUrlsWithAppend.length;s++)e[`slideshowImg${s}`].src=e.slideShowImageUrlsWithAppend[s],e[`slideshowImg${s}`].style.width=e.imgBaseWidth,e[`slideshowImg${s}`].style.height=e.imgBaseWidth;e.slideshowImgContainer.style.left=-1*e.imgBaseWidth,e.slideShowImgIndex=1,e.slideShowDotIndex=0,e.slideShowInterval||(e.slideShowInterval=setInterval((()=>{e.slideShowImgIndex+=1,QO.call(this)}),2e3)),nM.call(this,"showed"),nM.call(this,"incentiveVideoCard"),e.isSlideShowLocked=!1,t||setTimeout((()=>{nM.call(this,"viewable"),t=!0}),1e3)},ZO=function(){var e=QB(this),{screenWidth:t,screenHeight:i,deviceOrientation:a}=jO,{product_type:n,button_action:o,card:{icon:r,name:s,wording:l}}=e.data;e.slideshowCardAppIcon.src=r,e.slideshowCardAppName.value=jo(s,30),e.slideshowCardAppWording.value=l,e.slideshowCardButton.value=o.button_text,e.slideshowCardAppIcon.style.borderRadius=8,[Cg.ANDROID,Cg.IOS].includes(n)&&(e.slideshowCardAppIcon.style.borderRadius=20);var d,c=nD.call(this,e.slideshowCardRankingInfo),p=lD.call(this,{scoreTitle:e.slideshowCardScoreTitle,scoreTitleWidth:{ios:95,android:70},scoreNum:e.slideshowCardScoreNum,scoreImg:X(5,1).map((t=>e[`slideshowCardScoreImg${t}`]))});if(rM.call(this,"ranking",c),rM.call(this,"score",p),"portrait"===a){d=t,e.slideshowContainer.style.top=.4*i-t/2,e.slideshowContainer.style.height=d+16+5,e.slideshowContainer.style.width=d,e.slideshowImgWindow.style.width=d,e.slideshowImgWindow.style.height=d,e.slideshowImgContainer.style.width=d,e.slideshowImgContainer.style.height=d,e.slideshowImgMask.style.width=d,e.slideshowImgMask.style.height=d,e.slideshowImgDotContainer.style.width=d,e.slideshowImgDotContainer.style.top=d+16,e.slideshowCardMask.style.width=d,e.slideshowCardContainer.style.width=d;var u=c||p?0:36;e.slideshowCardContainer.style.bottom=(i-e.slideshowContainer.style.top-e.slideshowContainer.style.height-(148-u))/2}else d=i,e.slideshowContainer.style.top=0,e.slideshowContainer.style.width=d,e.slideshowContainer.style.height=d,e.slideshowContainer.style.left=0,e.slideshowImgWindow.style.top=0,e.slideshowImgWindow.style.left=0,e.slideshowImgWindow.style.width=d,e.slideshowImgWindow.style.height=d,e.slideshowImgContainer.style.top=0,e.slideshowImgContainer.style.left=0,e.slideshowImgContainer.style.width=d,e.slideshowImgContainer.style.height=d,e.slideshowImgMask.style.top=0,e.slideshowImgMask.style.left=0,e.slideshowImgMask.style.width=d,e.slideshowImgMask.style.height=d,e.slideshowImgDotContainer.style.width=d,e.slideshowImgDotContainer.style.top=d-20},XO=function(){var e=QB(this);WV.call(this)||e.isSlideShowLocked||e.slideShowInterval&&(clearInterval(e.slideShowInterval),e.slideShowInterval=null)},JO=function(){var e=b()((function*(e){var t=QB(this);WV.call(this)||t.isSlideShowLocked||(t.isSlideShowLocked=!0,yield zo(100),Math.abs(e.relativeX)>t.imgBaseWidth/3||Math.abs(e.relativeX)/e.duration>.3?(e.relativeX>0?(t.slideShowImgIndex-=1,t.slideShowImgIndex<0&&(t.slideShowImgIndex=0)):t.slideShowImgIndex+=1,QO.call(this,!0),zo(YO).then((()=>{t.isSlideShowLocked=!1}))):(t.slideshowImgContainer.animate({left:-t.imgBaseWidth*t.slideShowImgIndex,duration:YO}),zo(YO).then((()=>{t.isSlideShowLocked=!1}))))}));return function(t){return e.apply(this,arguments)}}(),QO=function(e=!1){var t=QB(this),i=e?YO:500;WV.call(this)||(t.slideshowImgContainer.animate({left:-t.imgBaseWidth*t.slideShowImgIndex,duration:i}),t.slideShowDotIndex=t.slideShowImgIndex-1,0!==t.slideShowImgIndex&&t.slideShowImgIndex!==t.slideShowImageUrlsWithAppend.length-1||(t.slideShowImgIndex===t.slideShowImageUrlsWithAppend.length-1?(t.slideShowDotIndex=0,t.slideShowImgIndex=1):(t.slideShowDotIndex=t.slideShowImageUrls.length-1,t.slideShowImgIndex=t.slideShowImageUrls.length),zo(i).then((()=>{t.slideshowImgContainer.animate({left:-t.imgBaseWidth*t.slideShowImgIndex,duration:0})}))),eM.call(this))},eM=function(){var e=QB(this);e[`slideshowImgDot${e.slideShowDotIndex}`].style.backgroundColor="#ffffff";for(var t=0;t<e.slideShowImageUrls.length;t++)t!==e.slideShowDotIndex&&(e[`slideshowImgDot${t}`].style.backgroundColor="rgba(255, 255, 255, 0.3)")},tM=function(){var e=QB(this);e.touchWatcher.onDrag(e.slideshowImgMask,XO.bind(this)),e.touchWatcher.onDragEnd(e.slideshowImgMask,JO.bind(this))},iM=function(){var e=QB(this),t=["https://wxa.wxs.qq.com/medias/audio/begin_to_fly.mp3","https://wxa.wxs.qq.com/medias/audio/better_with_you.mp3","https://wxa.wxs.qq.com/medias/audio/free_sunshine.mp3","https://wxa.wxs.qq.com/medias/audio/landmark.mp3","https://wxa.wxs.qq.com/medias/audio/spring_to_life.mp3","https://wxa.wxs.qq.com/medias/audio/sweet_claudia.mp3","https://wxa.wxs.qq.com/medias/audio/tea_house.mp3","https://wxa.wxs.qq.com/medias/audio/we_made_it.mp3"];e.innerAudioContext&&e.innerAudioContext.destroy(),e.innerAudioContext=$O({useWebAudioImplement:!0},"inner"),e.innerAudioContext.loop=!0,e.innerAudioContext.src=t[Math.floor(Math.random()*t.length)]},aM=function(){for(var e=QB(this),t=0;t<e.slideShowImageUrls.length;t++)e[`slideshowImgDot${t}`].style.hidden=!0,e[`slideshowImgDot${t}`].style.backgroundColor=0===t?"#ffffff":"rgba(255, 255, 255, 0.3)";for(var i=0;i<e.slideShowImageUrlsWithAppend.length;i++)e[`slideshowImg${i}`].src="";oM.call(this),e.videoContainer.style.hidden=!1,e.slideshowContainer.style.hidden=!0,e.slideshowCardContainer.style.hidden=!0,e.slideshowCardExtraInfo.style.hidden=!0,e.slideshowCardRanking.style.hidden=!0,e.slideshowCardScore.style.hidden=!0,e.slideshowCardAppConversion.style.hidden=!0,e.expandCardAppConversion.style.hidden=!0,e.innerAudioContext&&(e.innerAudioContext.stop(),e.innerAudioContext.destroy(),e.innerAudioContext=null),e.slideShowInterval&&(clearInterval(e.slideShowInterval),e.slideShowInterval=null),EM.call(this)},nM=function(e){var t=QB(this),{screenWidth:i,screenHeight:a}=jO,n={showed:"isShowedExposureReported",viewable:"isViewableExposureReported",incentiveVideoCard:"isCardExposureReported"}[e];if(!t[n]){t[n]=!0,"viewable"===e&&(t.adProxy.isViewable=!0);var o=t.adProxy.reportExposure({exposureType:e,left:0,top:0,width:i,height:a,weappExtraData:{...t.adWelfareData||{},...t.skitInfo||{}}});tV(o,"激励视频",{showed:"原始曝光",viewable:"可视曝光",incentiveVideoCard:"卡片曝光"}[e])}},oM=function(){var e=QB(this);e.imgBaseWidth=375,e.slideShowImgIndex=1,e.slideShowDotIndex=0,e.isSlideShowLocked=!1,e.slideShowImageUrls=[],e.slideShowImageUrlsWithAppend=[]},rM=aD(["ranking","score","conversion"],{ranking:["slideshowCardRanking"],score:["slideshowCardScore"],conversion:["slideshowCardAppConversion"]},"slideShowExtraVisibility",(function(e){QB(this).slideshowCardExtraInfo.style.hidden=!e})),{deviceInfo:sM}=y,lM=function(e){if(!WV.call(this)){var t=QB(this),i={};try{(i=JSON.parse(e)).drama_id&&i.episode_index&&i.drama_player_code||t.adProxy.reportAdMonitorData(Nc,{skitInfo:i,err:"args error"})}catch(e){t.adProxy.reportAdMonitorData(Nc,{skitInfo:i,err:e})}t.skitInfo=i}},dM=function(){if(!WV.call(this)){var e=QB(this),t=sM.gameAppId,i=sk("drama_info","playing")||{};null!=i&&i.drama_id&&(i.appid=t,e.dramaInfo=i)}},cM=function(e=!0){var t=this;if(!WV.call(this)){var i=QB(this);if(i.isSkitAd){var{drama_id:a,episode_index:n,src_appid:o,drama_player_code:r}=i.skitInfo;a&&o&&n&&r||i.adProxy.reportAdMonitorData(Mc,{skitInfo:i.skitInfo}),i.reportRewardStatusPromise=b()((function*(){try{var{data:s}=yield pe({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"ad_video_has_finished_report",src_appid:o,appid:sM.gameAppId,drama_id:a,episode_index:n,video_has_finished:e,ad_exposure_time:Math.ceil(i.execShowTime/1e3),rewarded_time:IM.call(t),uxinfo:i.adProxy.data.uxinfo,drama_player_code:r})}});return i.adProxy.reportAdMonitorData(Oc,{detail:s}),!0}catch(e){throw{err:e}}}))()}}},pM=function(){var e=QB(this),{screenWidth:t,screenHeight:i}=sM;yV.call(this,["dramaAdDialogContainer","dramaAdDialogMask"]),e.dramaAdDialog.style.top=i>336?(i-336)/2:0,e.dramaAdDialog.style.left=t>280?(t-280)/2:0},uM=function(){var e=QB(this);return e.dramaInfo.drama_id?{drama_id:e.dramaInfo.drama_id,src_appid:e.dramaInfo.src_appid,episode_index:e.dramaInfo.serialNo}:{}},hM=function(){var e,t,a,n,o=QB(this);if(null!==(e=o.dramaInfo)&&void 0!==e&&e.drama_id){var r=null!==(t=null===(a=o.data)||void 0===a||null===(n=a.condition)||void 0===n?void 0:n.widget_gray_rewarded_video_drama_retention_times)&&void 0!==t?t:0;0!==r&&(o.adProxy.reportAdMonitorData(nu,{expt_value:r}),pe({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"get_user_remaining_free_reward_times",appid:o.dramaInfo.appid,drama_id:o.dramaInfo.drama_id,total_free_reward_times:r})}}).then((e=>{var{data:t}=e;if(0===t.ret&&t.result)try{JSON.parse(t.result).user_remaining_free_reward_times>0&&(o.canSkitAdRetention=!0)}catch(e){i.log("parse ad free times error",e)}else o.adProxy.reportAdMonitorData(ou,{expt_value:r,result_data:t})})).catch((e=>{o.adProxy.reportAdMonitorData(ou,{expt_value:r,err_msg:e})})))}},gM=function(){var e,t,i,a=QB(this),n=null!==(e=null===(t=a.data)||void 0===t||null===(i=t.condition)||void 0===i?void 0:i.widget_gray_rewarded_video_drama_retention_times)&&void 0!==e?e:0;a.adProxy.reportAdMonitorData(cu,{expt_value:n,dramaInfo:a.dramaInfo}),pe({apiName:"webapi_getadvert",reqData:{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"consume_user_free_reward_times",appid:a.dramaInfo.appid,drama_id:a.dramaInfo.drama_id,total_free_reward_times:n})}}).then((e=>{var{data:t}=e;0===t.ret&&t.result||a.adProxy.reportAdMonitorData(pu,{expt_value:n,dramaInfo:a.dramaInfo,result_data:t})})).catch((e=>{a.adProxy.reportAdMonitorData(pu,{expt_value:n,dramaInfo:a.dramaInfo,err_msg:e})}))},{deviceInfo:fM}=y,mM=function(e){if(!WV.call(this)){var t=5*e;QB(this).globalCountDownCounter+=t}},yM=function(e){if(!WV.call(this)){var t=QB(this),i=5*e;t.globalCountDownCounter+=1;var a=OO.call(this),n=a?5*a:null;if(n&&t.globalCountDownCounter>n&&cO.call(this)&&(t.isReadyToFlooringPage=!0),t.globalCountDownCounter<i){var o=Math.ceil((i-t.globalCountDownCounter)/5);t.emitter.emit(cm,o),PM.call(this,o)}else t.emitter.emit(pm),PM.call(this,0,!0),EM.call(this),MO.call(this)&&cO.call(this)&&(eR.call(this),Lk.call(this,"stop"))}},vM=function(e){if(!WV.call(this)){var t=5*e;QB(this).globalCountDownCounter=t,EM.call(this),yM.call(this,e)}},_M=function(){if(!WV.call(this)||kM.call(this)){var e=IM.call(this),t=QB(this);t.globalCountDownTimer||(t.emitter.emit(dm),t.globalCountDownTimer=setInterval(yM.bind(this,e),200))}},EM=function(){if(!WV.call(this)){var e=QB(this);e.globalCountDownTimer&&(e.emitter.emit(um),clearInterval(e.globalCountDownTimer),e.globalCountDownTimer=null)}},xM=function(){var e=QB(this),{screenWidth:t,safeArea:i}=fM;if(fM.isIOS||fM.isAndroid){var a="portrait"===fM.deviceOrientation?fM.safeArea.top?44:12:10,n="portrait"===fM.deviceOrientation?fM.safeArea.top?78:46:44;e.topBar.style.top=a,e.adFeedbackList.style.top=n,e.adFeedbackMenu.style.top=n}if(UR.call(this))e.topBar.style.left=0,e.topBar.style.width=t;else{var o=i.top||0;e.topBar.style.width=t-2*o-16,e.topBar.style.left=o+8}uV()&&(e.topBar.style.top=e.topBar.style.top+30,e.adFeedbackList.style.top=e.adFeedbackList.style.top+30,e.adFeedbackMenu.style.top=e.adFeedbackMenu.style.top+30),e.adProxy.isValidCondition("widget_gray_close_v2")&&(e.adFeedback.style.hidden=!1,e.close.value="关闭",e.close.style.width=29)},bM={normal:{playDesc:"秒后可获得奖励",playDescWidth:100,endedDesc:"已获得奖励",endedDescWidth:72,closeDesc:"关闭",closeDescWidth:29,flooringPageGuide1Desc:"提前结束",flooringPageGuide1DescWidth:58,flooringPageGuide2Desc:"结束视频",flooringPageGuide2DescWidth:58},playable:{playDesc:"秒获得奖励",playDescWidth:72},tyt:{playDesc:"秒后可免费畅听30分钟",playDescWidth:149,endedDesc:"已获得免费畅听30分钟",endedDescWidth:149}},wM=function(){return zM.call(this)?"feedStyle":TL.call(this)?"playable":_O.call(this)?"tyt":"normal"},TM=function(e,t=!1){var i=QB(this);t&&!i.isRewarded&&(i.isRewarded=!0,cM.call(this,i.isRewarded),DV.call(this));var{screenWidth:a}=fM,n=wM.call(this),o=e=>{var t;return(null===(t=bM[n])||void 0===t?void 0:t[e])||bM.normal[e]};if(zM.call(this)){i.countDown.style.hidden=!0,i.countDownPrepend.style.hidden=!0,i.countDownAppend.style.hidden=!0,i.leftTimeIcon.style.hidden=!0,i.centerCountDown.style.hidden=t,i.centerCountDownFinish.style.hidden=!t;var r=t?92:e>9?186:178;i.barCenter.style.width=r,i.barCenter.style.left=(a-r)/2,i.centerCountDownNumber.value=e.toString(),i.centerCountDownNumber.style.width=e>9?24:16}else{var s=TL.call(this);i.leftTimeIcon.style.hidden=!s,i.splitLineLeft.style.hidden=!1,t?(i.countDown.style.hidden=!0,i.countDownPrepend.style.hidden=!0,i.countDownAppend.style.hidden=!1,i.countDownAppend.value=o("endedDesc"),i.countDownAppend.style.width=o("endedDescWidth")):(i.countDown.style.hidden=!1,i.countDown.style.textAlign=s?"center":"left",i.countDownPrepend.style.hidden=!s,i.countDownAppend.style.hidden=!1,i.countDown.value=e.toString(),i.countDown.style.width=2===e.toString().length?19:12,i.countDownAppend.value=o("playDesc"),i.countDownAppend.style.width=o("playDescWidth"))}CM.call(this)},CM=function(){var e=QB(this),t=wM.call(this),i=e=>{var i;return(null===(i=bM[t])||void 0===i?void 0:i[e])||bM.normal[e]};e.isReadyToFlooringPage&&!e.isFlooringPageShowed?(e.close.value=e.isRewarded?i("flooringPageGuide2Desc"):i("flooringPageGuide1Desc"),e.close.style.width=e.isRewarded?i("flooringPageGuide2DescWidth"):i("flooringPageGuide1DescWidth")):(e.close.value=i("closeDesc"),e.close.style.width=i("closeDescWidth"))},AM=function(e,t=!1){kM.call(this)||TM.call(this,e,t)},PM=function(e,t=!1){kM.call(this)&&TM.call(this,e,t)},IM=function(){var e=QB(this);if(TL.call(this))return QL.call(this);if(qO.call(this))return 15;if(UM.call(this))return ZM.call(this);if(hO.call(this)||gO.call(this))return kO.call(this);if(IO.call(this,Nm))return SO.call(this,Lm)||30;var{rewardedTime:t}=e.data;if(_O.call(this)&&(t=15e3),cO.call(this)){var i=dO.call(this);null!=i&&i.duration&&(t=Math.min(i.duration,t))}return Math.ceil(t/1e3)},SM=function(){return zO.call(this)&&cO.call(this)},kM=function(){return[TL.call(this),qO.call(this),SM.call(this),IO.call(this,Nm)].some(Boolean)},{deviceInfo:DM,Video:RM}=y,OM=function(){if(!WV.call(this)){var e=QB(this);e.adProxy.convertedAdDatas=e.adProxy.convertedAdDatas.filter((e=>910!==e.crt_size)).slice(0,3),e.adProxy.datas=e.adProxy.datas.filter((e=>910!==e.crt_size)).slice(0,3)}},MM=function(){if(!WV.call(this)){var e=QB(this);e.videoElems={0:e.video};for(var t=1;t<e.adProxy.convertedAdDatas.length;t+=1){var i,a=null===(i=e.adProxy.convertedAdDatas[t])||void 0===i?void 0:i.shortVideo,n=new RM({style:{...Tk.video,hidden:!0},controls:!1,muted:!0,autoplay:!1,objectFit:"contain",customCache:$k.call(this),enableProgressGesture:!1,enablePlayGesture:!1,showCenterPlayBtn:!1,autoInsert:!1,scene:"ad",playerHint:"supportSoftDecode,mp4Only",autoPauseIfNavigate:!0,autoPauseIfOpenNative:!0,src:null==a?void 0:a.src});Uk.call(this,n,t),e.adProxy.isValidCondition("widget_gray_video_sound")?n.muted=!1:n.muted=!0,DM.isIOS&&(n.obeyMuteSwitch=!0),e.videoContainer.add(n),e.videoElems[t]=n}}},NM=function(e=null){if(WV.call(this))return null;var t=QB(this);return t.videoElems[null!=e?e:t.adProxy.adDataIndex]||null},LM=function(){var e=b()((function*(e){var t=QB(this);if(!WV.call(this)&&!t.slideFrozen){t.slideFrozen=!0,setTimeout((()=>{t.slideFrozen=!1}),500);var{multiVideoInfo:i}=t,a="next"===e?(t.adProxy.adDataIndex+1)%t.adProxy.datas.length:(t.adProxy.adDataIndex+t.adProxy.datas.length-1)%t.adProxy.datas.length;nN.call(this),i.isEnded[t.adProxy.adDataIndex]||Lk.call(this,"pause"),HM.call(this),t.adProxy.setCurrentData(a),t.data=t.adProxy.convertedAdData;var n=!i.isEnded[t.adProxy.adDataIndex]&&!i.isEnded[a];for(var o of(n&&(yield t.videoMask.animate({opacity:1,duration:150})),PV.call(this,!0),Object.keys(t.videoElems))){var r=t.videoElems[o];r.style.hidden=!0,r.muted=!0}if(!i.isExposured[a]){i.isExposured[a]=!0,sN.call(this,Nd,{type:"showed"});var{width:s,height:l}=t.video.style;t.adProxy.reportExposure({exposureType:"showed",left:0,top:0,width:s,height:l,weappExtraData:{...t.adWelfareData||{},...t.skitInfo||{}}})}var d=i.isEnded[a];if(d)aN.call(this);else{var c=NM.call(this);c.style.hidden=!1,c.muted=t.isSoundMuted,CO.call(this,a)||c.seek(0)}if(FV.call(this,!d),n&&(yield zo(50),yield t.videoMask.animate({opacity:0,duration:150})),!d){Lk.call(this,"play");var p=SR.call(this,{playType:"partial",conditionType:"start"});tV(p,"激励视频","广告流开始播放",a)}QM.call(this)&&BM.call(this)}}));return function(t){return e.apply(this,arguments)}}(),WM=function(){if(!WV.call(this)&&YM.call(this)){var e=QB(this),{screenWidth:t}=DM;UM.call(this)&&(e.defaultPageSlideTipsContainer.style.width=t,e.expandCardSlideTipsContainer.style.width=t),VM.call(this,!0)}},BM=function(){if(!WV.call(this)&&YM.call(this)){var e=QB(this),t=e.adProxy.adDataIndex,{screenHeight:i}=DM;e.multiVideoInfo.isSlideTipsShowed[t]||(e.multiVideoInfo.isSlideTipsShowed[t]=!0,e.multiVideoInfo.isEnded[t]?UR.call(this)?e.defaultPageSlideTipsContainer.style.hidden=!1:(e.landscapeSlideTipsContainer.style.hidden=!1,e.landscapeSlideTipsContainer.style.opacity=1):UR.call(this)?lO.call(this)?(e.expandCardSlideTipsContainer.style.hidden=!1,e.expandCardSlideTipsContainer.animate({opacity:1,duration:300})):(e.cardContainer.animate({top:i-198,duration:300}),e.slideTipsContainer.style.hidden=!1,e.slideTipsContainer.animate({opacity:1,duration:300})):(e.landscapeSlideTipsMask.style.hidden=!1,e.landscapeSlideTipsContainer.style.hidden=!1,e.landscapeSlideTipsContainer.animate({opacity:1,duration:300})),sN.call(this,Od))}},VM=function(e){if(!WV.call(this)&&YM.call(this)){var t=QB(this);if(e){if(UM.call(this)){var i=t.adProxy.adDataIndex,a=i+1===t.adProxy.datas.length;UR.call(this)?(t.multiVideoInfo.isSlideTipsShowed[i]&&!a?(t.slideTips.style.hidden=!0,t.expandCardSlideTips.style.hidden=!0):(t.slideTips.style.hidden=!1,t.expandCardSlideTips.style.hidden=!1),a?(t.slideTips.value="回到第一个",t.expandCardSlideTips.value="回到第一个"):(t.slideTips.value="不感兴趣，换一个",t.expandCardSlideTips.value="不感兴趣，换一个"),t.multiVideoInfo.isSlideTipsShowed[i]&&(lO.call(this)?(t.expandCardSlideTipsContainer.style.hidden=!1,t.expandCardSlideTipsContainer.style.opacity=1):(t.slideTipsContainer.style.hidden=!1,t.slideTipsContainer.style.opacity=1))):(t.multiVideoInfo.isSlideTipsShowed[i]&&!a?t.landscapeSlideTipsGroup.style.hidden=!0:t.landscapeSlideTipsGroup.style.hidden=!1,a?(t.landscapeSlideTips1.value="回到第一个",t.landscapeSlideTips2.style.hidden=!0):(t.landscapeSlideTips1.value="不感兴趣",t.landscapeSlideTips2.value="换个看看",t.landscapeSlideTips2.style.hidden=!1),t.multiVideoInfo.isSlideTipsShowed[i]?(t.landscapeSlideTipsMask.style.hidden=!1,t.landscapeSlideTipsContainer.style.hidden=!1,t.landscapeSlideTipsContainer.style.opacity=1):t.landscapeSlideTipsMask.style.hidden=!0)}}else if(UM.call(this))if(UR.call(this)){var n=(t.adProxy.adDataIndex+1)%t.adProxy.datas.length;CO.call(this,n)&&n?t.defaultPageSlideTips.style.hidden=!0:CO.call(this,n)?(t.defaultPageSlideTips.style.hidden=!1,t.defaultPageSlideTips.value="回到第一个"):(t.defaultPageSlideTips.style.hidden=!1,t.defaultPageSlideTips.value="3 秒后自动更换"),t.defaultPageSlideTipsContainer.style.hidden=!1}else{var o=(t.adProxy.adDataIndex+1)%t.adProxy.datas.length;CO.call(this,o)&&o?t.landscapeSlideTipsGroup.style.hidden=!0:CO.call(this,o)?(t.landscapeSlideTipsGroup.style.hidden=!1,t.landscapeSlideTips1.value="回到第一个",t.landscapeSlideTips2.style.hidden=!0):(t.landscapeSlideTipsGroup.style.hidden=!1,t.landscapeSlideTips1.value="3 秒后",t.landscapeSlideTips2.value="自动更换",t.landscapeSlideTips2.style.hidden=!1),t.landscapeSlideTipsMask.style.hidden=!0,t.landscapeSlideTipsContainer.style.hidden=!1,t.landscapeSlideTipsContainer.style.opacity=1}}},HM=function(){if(!WV.call(this)){var e=QB(this);PD.call(this),e.pageType===ND.ENDPAGE?e.pageContainer.style.hidden=!0:e.pageType===ND.ENDMODAL?(e.pageHandler.style.hidden=!0,e.pageCardBody.style.hidden=!0,e.pageMask.style.hidden=!0,e.pageCardTip.style.hidden=!0,NM.call(this).style.padding=8,NM.call(this).style.paddingBottom=16):e.pageType||(e.defaultPageContainer.style.hidden=!0),e.pageHandler.style.hidden=!0,e.expandCardSlideTipsContainer.style.hidden=!0,e.expandCardSlideTipsContainer.style.opacity=0,e.slideTipsContainer.style.hidden=!0,e.slideTipsContainer.style.opacity=0,e.landscapeSlideTipsContainer.style.hidden=!0,e.landscapeSlideTipsContainer.style.opacity=0,e.defaultPageSlideTipsContainer.style.hidden=!0,DM.isAndroid&&e.adProxy.setInnerAudioOption(!0).catch((()=>{})),e.showTipsTimer&&(clearTimeout(e.showTipsTimer),e.showTipsTimer=null),e.exposureTimer&&clearTimeout(e.exposureTimer),e.updateScreenInfoTimer&&clearTimeout(e.updateScreenInfoTimer),e.layoutTimer&&clearTimeout(e.layoutTimer),e.rewardPageTimer&&clearTimeout(e.rewardPageTimer),e.reportDurationTimer&&clearTimeout(e.reportDurationTimer),e.pageType=0,e.imgBaseName=""}},FM=function(e){var t,i=QB(this);if(!WV.call(this)&&null!==(t=i.adProxy)&&void 0!==t&&t.data&&CO.call(this)){var a=!1,n=!1;UR.call(this)&&["up","down"].includes(e.direction)?(a="up"===e.direction,n="down"===e.direction):!UR.call(this)&&["left","right"].includes(e.direction)&&(a="left"===e.direction,n="right"===e.direction);var o=zM.call(this),r=i.adProxy.adDataIndex,s=i.adProxy.datas.length,l=o&&r===s-1&&a,d=o&&0===r&&n;a&&QM.call(this)&&!l?(LM.call(this,"next"),sN.call(this,Md,{type:"slideDown"})):n&&r&&(LM.call(this,"prev"),sN.call(this,Md,{type:"slideUp"})),(d||l)&&GM.call(this,"没有更多内容")}},GM=function(){var e=b()((function*(e,t=1e3,i=136){var a=QB(this);if(!WV.call(this)&&!a.toastShowing&&UM.call(this)&&zM.call(this)){var n=200;a.toastText.value=e,a.toast.style.width=i,a.toastShowing=!0,a.toastContainer.style.hidden=!1,yield zo(100),a.toastContainer.animate({opacity:1,duration:n}),yield zo(t+n),a.toastContainer.animate({opacity:0,duration:n}),yield zo(n),a.toastContainer.style.hidden=!0,a.toastShowing=!1}}));return function(t){return e.apply(this,arguments)}}(),UM=function(e=!1){var t,i,a,n,o,r,s=QB(this);if(WV.call(this)||DM.isIPad||DM.isPC)return!1;var l=null===(t=s.adProxy.convertedAdDatas)||void 0===t?void 0:t[0];if(!qM.call(this,l))return!1;if(!e&&s.adProxy.datas.length<=1)return!1;var d=null!==(i=null===(a=l.condition)||void 0===a?void 0:a.widget_gray_rewarded_video_feed_probability)&&void 0!==i?i:100;if(s.multiVideoInfo.randomNumber>=d)return!1;var c=null!==(n=null===(o=l.condition)||void 0===o?void 0:o.widget_gray_rewarded_video_feed_min_duration)&&void 0!==n?n:0;return!(null!=l&&null!==(r=l.shortVideo)&&void 0!==r&&r.duration&&c&&l.shortVideo.duration<1e3*c)&&KM.call(this)},zM=function(){var e,t=QB(this);if(WV.call(this)||"portrait"!==DM.deviceOrientation)return!1;var i=null===(e=t.adProxy.convertedAdDatas)||void 0===e?void 0:e[0];return!(null==i||!i.condition||!UM.call(this)||TL.call(this))&&$M(i)},jM=aD(["conversion"],{conversion:["feedCardAppConversion"]},"feedCardExtraVisibility",(function(e){QB(this).feedCardExtraInfo.style.hidden=!e})),$M=function(e){var t;return Boolean(null===(t=e.condition)||void 0===t?void 0:t.widget_gray_rewarded_video_feed_new_style)},YM=function(){return!(WV.call(this)||!UM.call(this)||zM.call(this))},qM=function(e){var t,i;return e&&Gm("video",e.crt_size)&&!(null!==(t=e.flooringPage)&&void 0!==t&&t.landpage_type)&&((null==e||null===(i=e.card)||void 0===i?void 0:i.headBgImg)||$M(e))},KM=function(){return!WV.call(this)&&!!ZM.call(this)},ZM=function(){var e,t,i=QB(this);return WV.call(this)?0:null===(e=i.adProxy.datas)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.condition.widget_gray_rewarded_video_feed_time},XM=function(){var e,t,i=QB(this);return WV.call(this)?0:(null===(e=i.adProxy.datas)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.condition.widget_gray_rewarded_video_feed_animate_start_time)||0},JM=function(){var e,t,i=QB(this);return WV.call(this)?0:Boolean(null===(e=i.adProxy.datas)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.condition.widget_gray_rewarded_video_feed_end_immediately)},QM=function(){var e,t,i,a=QB(this);if(WV.call(this))return!1;var n=a.adProxy.adDataIndex,o=null!==(e=null==a||null===(t=a.data)||void 0===t||null===(i=t.condition)||void 0===i?void 0:i.widget_gray_rewarded_video_slide_duration)&&void 0!==e?e:0,r=zM.call(this),s=a.multiVideoInfo.isEnded[n]||a.multiVideoInfo.videoPosition[n]>=1e3*o,l=0!==n||CO.call(this,1)||a.multiVideoInfo.videoPosition[0]>=1e3*o;return!r&&s||r&&l},eN=function(){if(!WV.call(this)){var e=QB(this);try{var t=5*ZM.call(this);e.multiVideoCounter+=1;var i=XM.call(this);if(e.multiVideoCounter>=1e3*i/200&&!e.feedGuideAnimated&&zM.call(this)&&(e.feedGuideAnimated=!0,AN.call(this,2)),e.multiVideoCounter<t){var a=Math.ceil((t-e.multiVideoCounter)/5);TM.call(this,a)}else if(TM.call(this,0,!0),iN.call(this),!zM.call(this)&&!e.isRewarded&&JM.call(this)){var n,o;Lk.call(this,"stop");for(var r=e.adProxy.adDataIndex,s=0;s<e.adProxy.datas.length;s+=1)e.multiVideoInfo.isPlaying[s]=!1,e.multiVideoInfo.isEnded[s]=!0,e.multiVideoInfo.isSlideTipsShowed[s]=!0;null===(n=(o=e.endedHandler)[r])||void 0===n||n.call(o,!0)}}catch(t){e.adProxy.reportAdMonitorData(ac,t)}}},tN=function(){if(!WV.call(this)){var e=QB(this);e.multiVideoTimer||(e.multiVideoTimer=setInterval(eN.bind(this),200))}},iN=function(){if(!WV.call(this)){var e=QB(this);e.multiVideoTimer&&(clearInterval(e.multiVideoTimer),e.multiVideoTimer=null)}},aN=function(){var e=QB(this);WV.call(this)||e.flooringPageSlideTimer||(e.flooringPageSlideTimer=setTimeout((()=>{e.flooringPageSlideTimer=null,CO.call(this,(e.adProxy.adDataIndex+1)%e.adProxy.datas.length)||(LM.call(this,"next"),sN.call(this,Md,{type:"endPageAutoSwitch"}))}),3e3))},nN=function(){if(!WV.call(this)){var e=QB(this);e.flooringPageSlideTimer&&(clearInterval(e.flooringPageSlideTimer),e.flooringPageSlideTimer=null)}},oN=function(){!WV.call(this)&&UM.call(this)&&(LM.call(this,"next"),sN.call(this,Md,{type:"clickArea"}))},rN=function(e,t){var i=QB(this);if(!WV.call(this))if("muted"===e&&(i.isSoundMuted=t,i.sound.src=i.isSoundMuted?aV:iV),UM.call(this))for(var a of Object.keys(i.videoElems)){i.videoElems[a][e]=t}else i.video[e]=t},sN=function(e,t={}){var i,a=QB(this);WV.call(this)||KM.call(this)&&a.adProxy.reportAdMonitorData(e,{feed_traceid:null===(i=a.adProxy.datas)||void 0===i?void 0:i[0].traceid,...t})},lN=function(){var e=QB(this);WV.call(this)||(e.expandCardSlideTipsContainer.style.opacity=0,e.expandCardSlideTipsContainer.style.hidden=!0,e.slideTipsContainer.style.opacity=0,e.slideTipsContainer.style.hidden=!0,e.landscapeSlideTipsContainer.style.opacity=0,e.landscapeSlideTipsContainer.style.hidden=!0,e.defaultPageSlideTipsContainer.style.hidden=!0)},{deviceInfo:dN,gametext:cN}=y,pN=function(){var e,t,i=QB(this);return cO.call(this)&&!lO.call(this)&&(null===(e=i.adProxy.data)||void 0===e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_rewarded_video_bottom_card_v2)},uN=function(){var e=QB(this),t=pN.call(this),{screenWidth:i}=dN,{product_type:a,button_action:n,card:{icon:o,name:r},extBackComm:{landing_page_type:s}}=e.data;t&&(e.cardContainer.style.hidden=!0,e.cardInnerContainer.style.hidden=!0),e.bottomCardContainer.style.hidden=!t,e.bottomCardAppIcon.style.hidden=!1,e.bottomCardAppIconLarge.style.hidden=!0,e.bottomCardAppIcon.src=o,e.bottomCardAppIconLarge.src=o,e.bottomCardAppName.value=jo(r,20),e.bottomCardAppIcon.style.borderRadius=8,e.bottomCardAppIconLarge.style.borderRadius=12,-1===[Cg.ANDROID,Cg.IOS].indexOf(a)&&(e.bottomCardAppIcon.style.borderRadius=24,e.bottomCardAppIconLarge.style.borderRadius=34),e.bottomCardButton.value=n.button_text,n.button_text||(a===Cg.ANDROID?e.bottomCardButton.value="下载":a===Cg.IOS&&(e.bottomCardButton.value="查看")),s===Ag?(e.bottomCardButtonIcon.style.hidden=!1,e.bottomCardButton.style.width=cN.getTextWidth(e.bottomCardButton.value,14)+3):(e.bottomCardButtonIcon.style.hidden=!0,e.bottomCardButton.style.flex=1);var l=NO.call(this)?oD.call(this,e.bottomCardRankingInfo,"微信小游戏"):nD.call(this,e.bottomCardRankingInfo),d=X(2,1).map((t=>e[`bottomCardCategoryName${t}`])),c=rD.call(this,d),p=lD.call(this,{scoreTitle:e.bottomCardScoreTitle,scoreTitleWidth:{ios:82,android:60},scoreNum:e.bottomCardScoreNum,scoreImg:X(5,1).map((t=>e[`bottomCardScoreImg${t}`]))}),u=NO.call(this)&&sD.call(this,e.bottomCardActInfo);e.bottomCardActInfo.style.hidden=!u,d.forEach((e=>e.style.hidden=!c));var h=c||u;fN.call(this,"ranking",l),fN.call(this,"category",h),fN.call(this,"score",p),gN.call(this);var g=zO.call(this);e.bottomCardBottomLandpageTips.style.hidden=!0,e.bottomCardBottomLandpageTips.value="",e.bottomCardInnerContainer.style.paddingBottom=16,e.bottomCard.style.marginBottom=12,e.bottomCardHoverLandpageTips.style.hidden=!0,e.bottomCardHoverLandpageTipsCapsuleText.value="",e.bottomCardHoverLandpageTipsCapsuleText.style.width=0,UR.call(this)?(e.bottomCardHoverLandpageTips.style.width=i-48,e.bottomCardHoverLandpageTipsTriangleWrap.style.width=i-48):(e.bottomCardHoverLandpageTips.style.width=302,e.bottomCardHoverLandpageTipsTriangleWrap.style.width=302),"bottomTips"===(null==g?void 0:g.type)&&(e.bottomCardInnerContainer.style.paddingBottom=8,e.bottomCardBottomLandpageTips.style.hidden=!1,e.bottomCardBottomLandpageTips.value=g.text),"hoverTips"===(null==g?void 0:g.type)&&(e.bottomCard.style.marginBottom=24,e.bottomCardHoverLandpageTips.style.hidden=!1,e.bottomCardHoverLandpageTipsCapsuleText.value=g.text||"广告继续计时",e.bottomCardHoverLandpageTipsCapsuleText.style.width=g.width||64)},hN=function(){var e=QB(this),{card:{wording:t}}=e.data,i=e.bottomCardExtraVisibility.some,a=i;e.bottomCardAppWording.value=t;var n=e.bottomCardAppWording.style.lineHeight||20;e.bottomCardAppWording._hasEllipsis=!1,e.bottomCardAppWording.style.height=n,e.bottomCardAppWording.style.lineClamp=i?"1":"2";var o=Bh(e.bottomCardAppWording,Math.min(dN.screenHeight,dN.screenWidth)-128);e.bottomCardAppWording.style.height=n*o,o>1&&(a=!0),e.bottomCardAppIcon.style.hidden=a,e.bottomCardAppIconLarge.style.hidden=!a},gN=function(){var e=QB(this),{screenWidth:t,safeArea:i}=dN;if(e.bottomCardContainer.style.bottom=32,UR.call(this))e.bottomCardContainer.style.width=t-16,e.bottomCardContainer.style.left=8;else{var a=i.top||0;e.bottomCardContainer.style.width=334,e.bottomCardContainer.style.left=a+18}},fN=aD(["ranking","category","score","conversion"],{ranking:["bottomCardRanking"],category:["bottomCardCategory"],score:["bottomCardScore"],conversion:["bottomCardConversion"]},"bottomCardExtraVisibility",(function(){hN.call(this)})),{deviceInfo:mN,invokeMethod:yN,gametext:vN}=y,_N=1e3,EN=function(){if(!WV.call(this)){var e=QB(this),{flooringPage:t}=e.data;e.pageType=null!=t&&t.landpage_type?t.landpage_type:0,TN.call(this),uN.call(this),IN.call(this),CN.call(this),ZO.call(this),WM.call(this),SN.call(this),ER.call(this),kN.call(this)}},xN=function(){var e=QB(this);return pN.call(this)?e.bottomCardContainer:lO.call(this)?e.expandCardContainer:e.cardContainer},bN=function(){var e=QB(this);return pN.call(this)?e.bottomCardInnerContainer:lO.call(this)?e.expandCardInfoContainer:e.card},wN=function(e){var t=QB(this);e?xN.call(this).style.hidden=!1:(t.cardContainer.style.hidden=!0,t.bottomCardContainer.style.hidden=!0)},TN=function(){if(!WV.call(this)){var e=QB(this),{product_type:t,button_action:i,card:{icon:a,name:n,wording:o,showTime:r},extBackComm:{landing_page_type:s}}=e.data;e.cardShowTime=r,e.appIcon.src=a,e.appName.value=jo(n,20),e.appWording.value=o,e.cardInnerContainer.clickState=!ON.call(this),e.appIcon.style.borderRadius=10,[Cg.ANDROID,Cg.IOS].includes(t)&&("portrait"===mN.deviceOrientation?e.appIcon.style.borderRadius=24:"landscape"===mN.deviceOrientation&&(e.appIcon.style.borderRadius=22)),e.button.value=i.button_text,i.button_text||(t===Cg.ANDROID?e.button.value="下载":t===Cg.IOS&&(e.button.value="查看")),s===Ag?(e.buttonIconImg.style.hidden=!1,e.buttonIconContainer.style.width=94,e.button.style.width=vN.getTextWidth(e.button.value,16)+3):(e.buttonIconImg.style.hidden=!0,e.buttonIconContainer.style.width=84,e.button.style.width=84);var l=nD.call(this,e.cardRankingInfo),d=lD.call(this,{scoreTitle:e.cardScoreTitle,scoreTitleWidth:{ios:82,android:60},scoreNum:e.cardScoreNum,scoreImg:X(5,1).map((t=>e[`cardScoreImg${t}`]))});(l||d)&&(e.card.style.height=84),PN.call(this),UR.call(this)?e.card.style.height=90:e.card.style.height=72}},CN=function(){var e=QB(this),t=zM.call(this),{screenWidth:i,screenHeight:a}=mN,n=i<a?i:a,o=i>=a?i:a;e.splitLineLeft.style.hidden=t,e.sound.style.hidden=t||wO.call(this),e.splitLine.style.hidden=t||wO.call(this),e.barCenter.style.hidden=!t,e.cardContainer.style.hidden=t||lO.call(this),e.expandCardContainer.style.hidden=t||!lO.call(this)||wO.call(this),e.feedCardContainer.style.hidden=!t,e.feedCardContainer.style.width=n,e.feedCardMask.style.width=n,e.feedCardContainer.style.bottom=(o-16*n/9)/2-1;var{product_type:r,button_action:s,card:{icon:l,name:d,wording:c}}=e.data;e.feedCardAppIcon.src=l,e.feedCardAppName.value=jo(d,20),e.feedCardAppWording.value=c,e.feedCardAppIcon.style.borderRadius=8,[Cg.ANDROID,Cg.IOS].includes(r)&&(e.feedCardAppIcon.style.borderRadius=20),e.feedCardButton.value=s.button_text,s.button_text||(r===Cg.ANDROID?e.feedCardButton.value="下载":r===Cg.IOS&&(e.feedCardButton.value="查看")),e.feedFinger.style.left=(n-120)/2,e.feedFinger.style.top=(o-120)/2+42},AN=function(){var e=b()((function*(e=2){var t=QB(this),i=200,{screenHeight:a}=mN,n=(a-120)/2+42,o=(a-120)/2-48,r=function(){var e=b()((function*(e){e||(t.feedFinger.animate({opacity:0,duration:100,easing:"ease-out"}),yield zo(200),t.feedFinger.style.top=n,yield zo(200)),t.feedFinger.animate({opacity:1,duration:100,easing:"ease-out"}),yield zo(200),t.feedFinger.animate({top:o,duration:450,easing:"ease-out"}),yield zo(950)}));return function(t){return e.apply(this,arguments)}}();t.feedGuideContainer.style.hidden=!1,t.feedFinger.style.opacity=0,yield zo(200),t.feedGuideContainer.animate({opacity:1,duration:i,easing:"ease-out"}),yield zo(300);for(var s=0;s<e;s+=1)yield r(0===s);t.feedGuideContainer.animate({opacity:0,duration:i,easing:"ease-out"}),yield zo(300),t.feedGuideContainer.style.hidden=!0}));return function(){return e.apply(this,arguments)}}(),PN=function(){var e=QB(this),t=0,{screenHeight:i,screenWidth:a,safeArea:n}=mN,o=nO.call(this),r=KR.call(this);if((o||r)&&(t-=48),[ND.PLAYABLE_H5].includes(e.pageType)&&e.data.flooringPage&&(t-=32),UM.call(this)&&!lO.call(this)&&UR.call(this)){var s=e.adProxy.adDataIndex,l=s+1===e.adProxy.datas.length;e.multiVideoInfo.isSlideTipsShowed[s]&&!l?t-=52:e.multiVideoInfo.isSlideTipsShowed[s]&&(t-=68)}if(UR.call(this))e.cardContainer.style.width=a-16,e.cardContainer.style.top=i-130+t,e.cardContainer.style.left=8;else{var d=n.top||0;e.cardContainer.style.width=348,e.cardContainer.style.top=i-104+t,e.cardContainer.style.left=d+18}},IN=function(){if(!WV.call(this)){var e=QB(this),{product_type:t,card:{icon:i,name:a,wording:n},extBackComm:{landing_page_type:o}}=e.data;yV.call(this,["expandCardContainer"]);var r=xO.call(this);r&&(e.expandCardAppIcon.bubbleEvent=!1),e.expandCardAppIcon.src=i,e.expandCardAppName.value=jo(a,20),e.expandCardAppWording.value=n,e.expandCardButton.value=e.button.value,o===Ag?(e.expandCardButtonIcon.style.hidden=!1,e.expandCardButton.style.width=vN.getTextWidth(e.button.value||"",17)+3):(e.expandCardButtonIcon.style.hidden=!0,e.expandCardButton.style.width=184);var{screenWidth:s,screenHeight:l}=mN,d=e.expandCardInfoContainer.style;if(d.marginLeft=0,"portrait"===mN.deviceOrientation?(d.left=0,d.width=s,d.justifyContent="flex-start",d.paddingLeft=0,d.paddingTop=48,d.height=400/375*s,d.bottom=0,d.position="absolute"):(d.justifyContent="center",qO.call(this)?(d.left=l/2,d.paddingLeft=0,d.paddingTop=0,d.width=s,d.height=l,d.bottom=null,d.position=null):(d.marginLeft=.672*l,d.width=300,d.paddingTop=0,d.height=l,d.bottom=null,d.position=null,d.left=0)),r)for(var c of(e.expandCardAppIcon.style.left=0,Object.keys(dk))){var p=dk[c];e[c]&&Object.assign(e[c].style,p)}else{var u=vN.getTextWidth(jo(a,20),17);for(var h of(e.expandCardAppIcon.style.left=134-u/2,Object.keys(lk))){var g=lk[h];e[h]&&Object.assign(e[h].style,g)}}e.expandCardAppIcon.style.borderRadius=r?8:3,[Cg.ANDROID,Cg.IOS].includes(t)&&(e.expandCardAppIcon.style.borderRadius=r?32:12);var f=nD.call(this,e.expandPageRankingInfo),m=lD.call(this,{scoreTitle:e.expandPageScoreTitle,scoreTitleWidth:{ios:95,android:70},scoreNum:e.expandPageScoreNum,scoreImg:X(5,1).map((t=>e[`expandPageScoreImg${t}`]))});e.expandPageRanking.style.hidden=!f,e.expandPageScore.style.hidden=!m,(f||m)&&(e.expandCardWordingWrapper.style.height+=40)}},SN=function(){if(!WV.call(this)){var e=QB(this),{product_type:t,button_action:i,app:a}=e.data;t===Cg.WE_CHAT&&e.adProxy.checkFollow(e.data.app.uin).then((t=>{WV.call(this)&&e.adProxy.reportAdMonitorData(ud);var a=t?"查看公众号":i.button_text||"关注公众号";e.button.value=a,DN.call(this),e.data.flooringPage&&e.pageType===ND.ENDPAGE&&0===e.buttonTextType?e.pageButton.value=a:e.data.flooringPage&&e.pageType===ND.ENDMODAL&&0===e.buttonTextType?e.pageCardButton.value=a:e.pageType||(e.defaultPageButton.value=a),e.expandCardButton.value=a,e.slideshowCardButton.value=a,e.feedCardButton.value=a,CD.call(this,Di.CHANGEADBTNTEXT,{text:a})})).catch((()=>{var t=a.isFollowed?"查看公众号":i.button_text||"关注公众号";e.button.value=t,DN.call(this),CD.call(this,Di.CHANGEADBTNTEXT,{text:t})})),1===e.buttonTextType&&(e.button.value=i.button_text,CD.call(this,Di.CHANGEADBTNTEXT,{text:i.button_text})),DN.call(this),e.androidAppState=0,e.buttonIconContainer.style.hidden=!1,e.pageButton.style.hidden=!1,e.defaultPageButton.style.hidden=!1,e.expandCardButtonContainer.style.hidden=!1,e.slideshowCardButton.style.hidden=!1,e.downloadButton.style.hidden=!0,e.pageDownloadButton.style.hidden=!0,t===Cg.ANDROID&&e.adProxy.isValidCondition("widget_gray_video_download_v2")&&(e.buttonIconContainer.style.hidden=!0,e.downloadButton.style.hidden=!1,e.downloadButtonText.value=i.button_text,e.downloadProgressText.value=i.button_text,DN.call(this),e.pageType===ND.ENDPAGE&&(e.pageButton.style.hidden=!0,e.pageDownloadButton.style.hidden=!1,e.pageDownloadButtonText.value=i.button_text,e.pageDownloadProgressText.value=i.button_text))}},kN=function(){var e=b()((function*(){if(!WV.call(this)){var e=QB(this),t=["feedCardAppConversion","bottomCardConversion","playablePendantAppConversion","playableEndpageAppConversion","animationCardAppConversion","slideshowCardAppConversion"],i=["defaultPageAppConversion","pageAppConversion","expandCardAppConversion"],a=yield dD.call(this);a&&((t=>{e.pageAppConversion.style.hidden=!t,e.defaultPageAppConversion.style.hidden=!t,e.expandCardAppConversion.style.hidden=!t,rM.call(this,"conversion",t),jM.call(this,"conversion",t),fN.call(this,"conversion",t),kL.call(this,"conversion",t)})(a.success),a.success&&(a=>{for(var n of t)e[n].value=a;for(var o of i)e[o].value=`- ${a} -`})(a.text))}}));return function(){return e.apply(this,arguments)}}(),DN=function(){var e=QB(this),{extBackComm:{landing_page_type:t}}=e.data;try{if(mN.isIOS&&mN.isApp&&e.adProxy.isValidCondition("widget_gray_measure_text")){var i;yN("measureText",{text:e.button.value,fontSize:16,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",complete(e){i={width:e.width||0}}}),!1===e.buttonIconContainer.style.hidden&&(t===Ag?e.buttonIconContainer.style.width=i.width+24+10:e.button.style.width=i.width+24),e.data.flooringPage&&e.pageType===ND.ENDMODAL&&(yN("measureText",{text:e.button.value,fontSize:e.pageCardButton.style.fontSize||14,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",complete(e){i={width:e.width||0}}}),e.pageCardButton.style.width=i.width+24)}else{var a=vN.getTextWidthInAndroid(e.button.value,e.button.style.fontSize||16),n=a+24;!1===e.button.style.hidden&&(t===Ag?e.buttonIconContainer.style.width=a+24+10:(e.buttonIconContainer.style.width=a+24,e.button.style.width=a+24)),!1===e.downloadButton.style.hidden&&(n=vN.getTextWidthInAndroid(e.downloadButtonText.value,e.downloadButtonText.style.fontSize||13)+24,e.downloadButton.style.width=n+2,e.downloadButtonText.style.width=n,e.downloadProgressText.style.width=n),e.data.flooringPage&&e.pageType===ND.ENDMODAL&&(n=vN.getTextWidthInAndroid(e.button.value,e.pageCardButton.style.fontSize||14)+24,e.pageCardButton.style.width=n)}}catch(e){}},RN=function(e,t=""){return i=>NN.call(this,i,t,e)},ON=function(){var e,t,i=QB(this);return Boolean(null===(e=i.adProxy.data)||void 0===e||null===(t=e.condition)||void 0===t?void 0:t.widget_gray_rewarded_video_disable_card_click)},MN=function(e){return!!ON.call(this)&&[of.REWARD_CARD,of.REWARD_CARD_RANKING,of.REWARD_CARD_SCORE].indexOf(e)>-1},NN=function(e,t="",i,a){var n;if(WV.call(this))return Promise.resolve();var o=QB(this);if(o.adProxy.setTimePoint(Tf),!GR.call(this,e))return Promise.resolve();if(o.adProxy.reportAdMonitorData(ic,{clickPos:i,type:t,x:e.absoluteX,y:e.absoluteY}),MN.call(this,i))return Promise.resolve();[ND.ENDPAGE,ND.ENDMODAL].includes(o.pageType)&&BD.call(this,e,t);var{extBackComm:r}=o.data,s="button"===t&&Boolean((null===(n=o.data)||void 0===n?void 0:n.product_type)===Cg.WE_CHAT||r.is_from_snsadinfo);if(WO.call(this)&&o.isClickLanding)o.adProxy.reportAdMonitorData(du,{clickPos:i,type:t,x:e.absoluteX,y:e.absoluteY});else{if(o.isClickLanding=!0,setTimeout((()=>{o.isClickLanding=!1}),1e3),!mN.isAndroid||o.data.product_type!==Cg.ANDROID||o.pageType!==ND.ENDPAGE||!o.adProxy.isValidCondition("widget_gray_video_download_v2"))return mN.isIOS&&o.data.product_type===Cg.MINI_GAME&&o.data.dest_type===wg.DEST_TYPE_WECHAT_APPLET?Promise.race([IR.call(this,e,i),zo(500)]).then((()=>(kR.call(this,{button:5},e),OV.call(this,{isButton:s,extraUrlParam:a})))).catch((()=>(kR.call(this,{button:5},e),OV.call(this,{isButton:s,extraUrlParam:a})))):(IR.call(this,e,i),kR.call(this,{button:5},e),OV.call(this,{isButton:s,extraUrlParam:a}));WN.call(this)}return Promise.resolve()},LN=function(e=3){if(!WV.call(this)){var t=QB(this);t.adProxy.queryDownloadTask(t.androidDownloadId).then((e=>{if("download_succ"===e.state)t.downloadButtonText.value="安装应用",t.downloadProgressText.value="安装应用",t.downloadProgress.style.width=t.downloadButton.style.width,t.pageType===ND.ENDPAGE&&(t.pageDownloadButtonText.value="安装应用",t.pageDownloadProgressText.value="安装应用",t.pageDownloadProgress.style.width=t.pageDownloadButton.style.width),t.androidAppState=3,DN.call(this);else if("downloading"===e.state)t.downloadButtonText.value="暂停下载",t.downloadProgressText.value="暂停下载",t.downloadProgress.style.width=t.downloadButton.style.width*parseInt(e.progress,10)/100,t.pageType===ND.ENDPAGE&&(t.pageDownloadButtonText.value="暂停下载",t.pageDownloadProgressText.value="暂停下载",t.pageDownloadProgress.style.width=t.pageDownloadButton.style.width*parseInt(e.progress,10)/100),t.androidAppState=1,DN.call(this);else if("download_fail"===e.state){if(t.downloadButtonText.value=t.data.button_action.button_text,t.downloadProgressText.value=t.data.button_action.button_text,t.downloadProgress.style.width=0,t.pageType===ND.ENDPAGE&&(t.pageDownloadButtonText.value=t.data.button_action.button_text,t.pageDownloadProgressText.value=t.data.button_action.button_text,t.pageDownloadProgress.style.width=0,1===t.buttonTextType)){var i=t.data.button_action.button_text;t.pageDownloadButtonText.value=i}t.androidAppState=0,DN.call(this)}"downloading"!==e.state&&"default"!==e.state||setTimeout(LN.bind(this),_N)})).catch((()=>{e>0&&LN.call(this,e-1)}))}},WN=function(e={}){if(!WV.call(this)&&(!e||GR.call(this,e))){var t=QB(this);IR.call(this,e,of.REWARD_DOWNLOAD);var i,{appInfo:{appName:a,apkName:n,apkUrl:o,appMd5:r,urlScheme:s}}=t.data,{aid:l,traceid:d,apurl:c}=t.adProxy.data,p=0,u="";if(t.landingCount+=1,t.lastLandingTime=+new Date,t.lastJsapiStatus=0,t.lastJsapiCostTime=0,4===t.androidAppState)t.adProxy.launchApplication(s,t.adProxy.data).catch((()=>{OV.call(this,{isButton:!0})})),t.lastJsapiName="launchApplication",t.isLandingPage=!0;else if(0===t.androidAppState){var h=[l,d,n.replace(/./g,"_"),0,20,c.indexOf("ad.wx.com")>-1?1:0].join(".");t.adProxy.addDownloadTaskStraight(a,o,r,h).then((e=>{t.androidDownloadId=e.downloadId,setTimeout(LN.bind(this),_N)})).catch((()=>{OV.call(this,{isButton:!0})})),t.lastJsapiName="addDownloadTaskStraight",p=4,u="下载"}else 1===t.androidAppState?(t.adProxy.pauseDownloadTask(t.androidDownloadId).catch((()=>{})),t.downloadButtonText.value="继续下载",t.downloadProgressText.value="继续下载",t.pageType===ND.ENDPAGE&&(t.pageDownloadButtonText.value="继续下载",t.pageDownloadProgressText.value="继续下载"),DN.call(this),t.androidAppState=2,t.lastJsapiName="pauseDownloadTask",p=5,u="暂停"):2===t.androidAppState?(t.adProxy.resumeDownloadTask(t.androidDownloadId).then((()=>{setTimeout(LN.bind(this),_N)})).catch((()=>{})),t.downloadButtonText.value="暂停下载",t.downloadProgressText.value="暂停下载",t.pageType===ND.ENDPAGE&&(t.pageDownloadButtonText.value="暂停下载",t.pageDownloadProgressText.value="暂停下载"),DN.call(this),t.androidAppState=1,t.lastJsapiName="resumeDownloadTask",p=6,u="继续"):3===t.androidAppState&&(t.adProxy.installDownloadTask(t.androidDownloadId).catch((()=>{})),t.lastJsapiName="installDownloadTask",p=7,u="安装");if(p>0)t.adProxy.reportLandingTime({slotId:JB,costType:null!==(i=t.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,openTime:t.lastLandingTime,clickTime:t.lastLandingTime,clkCnt:t.landingCount,jsapiName:t.lastJsapiName,actTypeInt:p,actTypeStr:u})}},BN=function(e){return t=>{var i=xO.call(this);if(!(i&&"wrapper"===e||!i&&["logo","wording"].includes(e))){var a=[[of.REWARD_EXPAND_CARD_HEAD_IMG,i&&"logo"===e],[of.REWARD_EXPAND_CARD_WORDING_LOGO_ENHANCED,i&&["wording","wrapper"].includes(e)],[of.REWARD_EXPAND_CARD_WORDING_TEXT_ENHANCED,!i&&["wording","wrapper"].includes(e)],[of.REWARD_EXPAND_CARD_BUTTON_LOGO_ENHANCED,i&&"button"===e],[of.REWARD_EXPAND_CARD_BUTTON_TEXT_ENHANCED,!i&&"button"===e],[of.REWARD_EXPAND_CARD_RANKING,"ranking"===e],[of.REWARD_EXPAND_CARD_SCORE,"score"===e]].find((([,e])=>e))[0];NN.call(this,t,"button"===e?"button":"",a)}}},VN=function(e){return t=>{var i=[[of.REWARD_FEED_CARD_HEAD_IMG,"logo"===e],[of.REWARD_FEED_CARD_WORDING,"wording"===e],[of.REWARD_FEED_CARD_BUTTON,"button"===e],[of.REWARD_FEED_CARD_CONVERSION,"conversion"===e],[of.REWARD_FEED_CARD_RANKING,"ranking"===e],[of.REWARD_FEED_CARD_SCORE,"score"===e]].find((([,e])=>e))[0];NN.call(this,t,"button"===e?"button":"",i)}},HN=function(e){return t=>{var i=[[of.REWARD_SLIDESHOW_CARD_HEAD_IMG,"logo"===e],[of.REWARD_SLIDESHOW_CARD_WORDING,"wording"===e],[of.REWARD_SLIDESHOW_CARD_BUTTON,"button"===e],[of.REWARD_SLIDESHOW_CARD_CONVERSION,"conversion"===e],[of.REWARD_SLIDESHOW_CARD_RANKING,"ranking"===e],[of.REWARD_SLIDESHOW_CARD_SCORE,"score"===e]].find((([,e])=>e))[0];NN.call(this,t,"button"===e?"button":"",i)}},FN=function(e){return t=>{var i=[[of.REWARD_ANIMATION_CARD_HEAD_IMG,"logo"===e],[of.REWARD_ANIMATION_CARD_WORDING,"wording"===e],[of.REWARD_ANIMATION_CARD_BUTTON,"button"===e],[of.REWARD_ANIMATION_CARD_CONVERSION,"conversion"===e],[of.REWARD_ANIMATION_CARD_RANKING,"ranking"===e],[of.REWARD_ANIMATION_CARD_SCORE,"score"===e],[of.REWARD_ANIMATION_VIDEO,"videoClickMask"===e]].find((([,e])=>e))[0];NN.call(this,t,"button"===e?"button":"",i)}},GN=function(e){var t=QB(this);return i=>{if(!(WV.call(this)||LO.call(this)&&!t.isVideoCardShowed)){var a=[[of.REWARD_BOTTOM_CARD_BUTTON,"button"===e],[of.REWARD_BOTTOM_CARD,"container"===e],[of.REWARD_BOTTOM_CARD_ICON,"icon"===e],[of.REWARD_BOTTOM_CARD_APP_NAME,"name"===e],[of.REWARD_BOTTOM_CARD_APP_WORDING,"wording"===e],[of.REWARD_BOTTOM_CARD_CONVERSION,"conversion"===e],[of.REWARD_BOTTOM_CARD_RANKING,"ranking"===e],[of.REWARD_BOTTOM_CARD_SCORE,"score"===e],[of.REWARD_BOTTOM_CARD_CATEGORY,"category"===e]].find((([,e])=>e))[0];NN.call(this,i,"button"===e?"button":"",a)}}},{onPlayableStatusChange:UN}=y,zN=function(){UN(ZN.bind(this))},jN=function(){var e=QB(this);if(TL.call(this,!1)&&e.playableInfo){var{appid:t,moduleName:i,coverUrl:a}=e.playableInfo,n=Date.now();e.playableEndpageInfoAppCover.src=a;var o=J(GL.call(this,"predownload"));e.playablePredownload=Promise.race([Promise.all([$N.call(this),e.adProxy.predownloadMiniProgramPackage({appid:t,moduleName:i,preloadCodeScene:15}).then((()=>{e.adProxy.reportAdMonitorData(qd,{costTime:Date.now()-n}),e.playablePredownloaded=!0}),(t=>{throw e.adProxy.reportAdMonitorData(Kd,{costTime:Date.now()-n,error:t}),e.playablePredownloaded=!1,t}))]),o.then((()=>{if(!e.playablePredownloaded){var t={errMsg:"predownload timeout"};throw e.adProxy.reportAdMonitorData(Kd,{costTime:Date.now()-n,error:t}),e.playablePredownloaded=!1,t}}))])}},$N=function(){var e=b()((function*(){var e=QB(this);if(!WV.call(this)&&TL.call(this,!1)&&e.playableInfo){var{appid:t,moduleName:i}=e.playableInfo;try{var a,n=yield((e,t)=>ue({reqData:{req_path:"ad.queryplayabledemoinfo",appid:e,playable_path:t},timeout:3e4}).then((e=>{var t;if(-1!==(null==e||null===(t=e.errMsg)||void 0===t?void 0:t.indexOf("ok")))return e;throw e})).catch((e=>{throw e})))(t,i);null!=n&&null!==(a=n.data)&&void 0!==a&&a.playable_orientation&&["portrait","landscape"].includes(n.data.playable_orientation)?(e.adProxy.reportAdMonitorData(Hp,{orientation:n.data.playable_orientation}),e.playableInfo.orientation=n.data.playable_orientation):e.adProxy.reportAdMonitorData(Fp,{type:"invalidData",res:n})}catch(t){e.adProxy.reportAdMonitorData(Fp,{type:"fetchError",err:t})}}}));return function(){return e.apply(this,arguments)}}(),YN=0,qN=1,KN=2,ZN=function(e){var t=QB(this);if(!WV.call(this)&&!rW.call(this))switch(t.adProxy.reportAdMonitorData(Qd,e),null==e?void 0:e.action){case qN:t.emitter.emit(hm);break;case YN:vM.call(this,QL.call(this)),WL.call(this);break;case KN:WL.call(this),t.adProxy.reportAdMonitorData(Xd,{fromCallback:!0,error:e.status})}},XN=function(){var e,t=QB(this),{screenWidth:i,screenHeight:a}=KL.call(this,!0);return{zIndex:pf.PlayableView,appid:t.playableInfo.appid,viewId:FL.call(this),moduleName:t.playableInfo.moduleName,versionType:null!==(e=t.playableInfo.versionType)&&void 0!==e?e:0,parentId:t.container.id,position:{left:0,top:0,width:i,height:a}}},JN=function(){var e=QB(this),t=XN.call(this);return e.adProxy.insertPlayableView(t)},QN=function(e){var t=QB(this),i=XN.call(this);return t.adProxy.updatePlayableView({...i,...e})},eL=function(){var e=QB(this),t=XN.call(this);return e.adProxy.removePlayableView(t)},{deviceInfo:tL,onPlayableStatusChangeNew:iL}=y,aL=function(){iL(mL.bind(this))},nL=function(){var e=QB(this);if(TL.call(this,!1)&&e.playableInfo){var{moduleName:t,coverUrl:i}=e.playableInfo,a=Date.now();e.playableEndpageInfoAppCover.src=i;var n=new Promise(((t,i)=>{e.playablePredownloadResolver=t,e.playablePredownloadRejecter=i})),o=e.adProxy.predownloadPlayablePackage({extra:JSON.stringify({id:t,referAppId:tL.gameAppId,sourceType:1})}),r=J(GL.call(this,"predownload"));e.playablePredownload=Promise.race([Promise.all([n,o]).then((()=>{e.adProxy.reportAdMonitorData(qd,{costTime:Date.now()-a}),e.playablePredownloaded=!0}),(t=>{throw e.adProxy.reportAdMonitorData(Kd,{costTime:Date.now()-a,error:t}),e.playablePredownloaded=!1,t})),r.then((()=>{if(!e.playablePredownloaded){var t={errMsg:"predownload timeout"};throw e.adProxy.reportAdMonitorData(Kd,{costTime:Date.now()-a,error:t}),e.playablePredownloaded=!1,t}}))])}},oL=0,rL=1,sL=2,lL=3,dL=0,cL=1,pL="playableLibInit",uL="downloadPlayablePackage",hL="injectJsFiles",gL="playableLibError",fL=function(e){var t=QB(this);if((null==e?void 0:e.status)===dL){var i,a,n,o={[pL]:Jp,[uL]:Qp,[hL]:eu,[gL]:tu}[e.name];if(t.adProxy.reportAdMonitorData(o,e.data),uL===e.name)null===(i=t.playablePredownloadRejecter)||void 0===i||i.call(t,null===(a=e.data)||void 0===a||null===(n=a.extra)||void 0===n?void 0:n.errMsg)}else if((null==e?void 0:e.status)===cL&&e.name===uL){var r,s,l=e.data;null!=l&&null!==(r=l.extra)&&void 0!==r&&r.playableOrientation&&(t.playableInfo.orientation=l.extra.playableOrientation),null===(s=t.playablePredownloadResolver)||void 0===s||s.call(t,null==l?void 0:l.extra)}},mL=function(e){var t=QB(this);if(!WV.call(this)&&rW.call(this))switch(t.adProxy.reportAdMonitorData(Qd,e),null==e?void 0:e.action){case rL:t.emitter.emit(hm);break;case oL:vM.call(this,QL.call(this)),WL.call(this);break;case sL:WL.call(this),t.adProxy.reportAdMonitorData(Xd,{fromCallback:!0,error:e.status});break;case lL:var i=e=>{t.adProxy.reportAdMonitorData(iu,e)};if(e.extra)try{var a=JSON.parse(e.extra);a.name?fL.call(this,a):i({errMsg:"no extra.name"})}catch(e){i({errMsg:"extra parse error"})}else i({errMsg:"no extra info"})}},yL=function(){var e=QB(this),{screenWidth:t,screenHeight:i}=KL.call(this,!0);return{mute:e.isSoundMuted,extra:JSON.stringify({id:e.playableInfo.moduleName,referAppId:tL.gameAppId,sourceType:1}),zIndex:pf.PlayableView,viewId:FL.call(this),parentId:e.container.id,position:{left:0,top:0,width:t,height:i}}},vL=function(){var e=QB(this),t=yL.call(this);return e.adProxy.insertPlayableViewNew(t),J(100)},_L=function(e){var t=QB(this),i=yL.call(this);return t.adProxy.updatePlayableViewNew({...i,...e})},EL=function(){var e=QB(this),t=yL.call(this);return e.adProxy.removePlayableViewNew(t)},{deviceInfo:xL,View:bL,getDeviceOrientation:wL}=y,TL=function(e=!0){var t,i,a,n;if(WV.call(this))return!1;var o=QB(this),{isAndroid:r,isIOS:s}=xL;return!(!((r||s)&&null!==(t=o.playableInfo)&&void 0!==t&&t.appid&&null!==(i=o.playableInfo)&&void 0!==i&&i.moduleName&&null!==(a=o.playableInfo)&&void 0!==a&&a.coverUrl&&(null===(n=o.adProxy.data.weapp_info)||void 0===n?void 0:n.appid)===o.playableInfo.appid)||e&&!o.playablePredownloaded)},CL=function(){xM.call(this),AV.call(this),PL.call(this),IL.call(this),SL.call(this)},AL=function(){var e=QB(this);e.splitLineLeft.style.hidden=!0,e.countDown.style.hidden=!0,e.leftTimeIcon.style.hidden=!0,e.countDownPrepend.style.hidden=!0,e.countDownAppend.style.hidden=!0},PL=function(){var e=QB(this),{card:{icon:t}}=e.data;e.playableLoadingAppIcon.src=t,e.playableLoading.style.hidden=!0,yV.call(this,["playableLoading","playableLoadingBackground","playableBackboard","playableBackboardImage"])},IL=function(){var e=QB(this),{card:{icon:t,name:i,wording:a}}=e.data;e.playablePendantExpand.style.hidden=!0,e.playablePendantFold.style.hidden=!0,e.playablePendantTouchMask.style.hidden=!0,e.playablePendantAppIcon.src=t,e.playablePendantPhoneAppIcon.src=t,e.playablePendantAppName.value=jo(i,20),e.playablePendantAppWording.value=a,kL.call(this,"wording",!0);var n=nD.call(this,[e.playablePendantAppRanking,e.playableEndpageAppRanking]);kL.call(this,"ranking",n)},SL=function(){var e=QB(this),{screenWidth:t,screenHeight:i,deviceOrientation:a}=xL,{card:{icon:n,name:o,wording:r}}=e.data;for(var s of(e.playableEndpageAppIcon.src=n,e.playableEndpageAppTitle.value=o,e.playableEndpageAppWording.value=r,e.playableEndpageMainWrapper.style.top="portrait"===a?-i/812*28:0,De(bk)))if(e[s])for(var l of De(bk[s]))if(["portrait","landscape"].includes(l)&&a===l)for(var d of De(bk[s][l]))e[s].style[d]=bk[s][l][d];yV.call(this,["playableEndpage","playableEndpageBackgroundContainer","playableEndpageBackground","playableEndpageBackgroundLandscape"]),e.playableEndpageBackgroundAdorn.style.width=t,e.playableEndpageBackgroundAdorn.style.height=t/375*160},kL=aD(["ranking","conversion","wording"],{wording:["playablePendantAppWording","playableEndpageAppWording"],conversion:["playablePendantAppConversion","playableEndpageAppConversion"],ranking:["playablePendantAppRanking","playableEndpageAppRanking"]},"playableExtraVisibility"),DL=function(e=!1){var t=QB(this);if(!WV.call(this)&&!t.playablePendantSwitching){t.playablePendantSwitching=!0;var i=t.expandPlayablePendant,a=(t,i,a)=>{e?t.style.opacity=i:t.animate({opacity:i,duration:a})};t.playablePendantExpand.style.hidden=!1,t.playablePendantFold.style.hidden=!1,a(t.playablePendantFold,i?0:1,200),a(t.playablePendantExpand,i?1:0,200),t.playablePendantTouchMask.style.hidden=i,t.playablePendantExpand.style.bottom=t.playablePendantBottom,t.playablePendantFold.style.bottom=t.playablePendantBottom,t.playablePendantTouchMask.style.zIndex=i?pf.PlayablePendantTouchMaskHidden:pf.PlayablePendantTouchMaskVisible,t.playablePendantFold.style.zIndex=i?pf.PlayablePendantHidden:pf.PlayablePendantVisible,t.playablePendantExpand.style.zIndex=i?pf.PlayablePendantVisible:pf.PlayablePendantHidden,t.playablePendantSwitching=!1}},RL=function(e){var t=QB(this);WV.call(this)||t.adProxy.isTriggerClick.call(this,e)&&(t.expandPlayablePendant=!t.expandPlayablePendant,t.playablePendantSwitched=!0,DL.call(this))},OL=function(e){var{screenHeight:t}=xL;return Math.min(t-100-85,Math.max(40,e))},ML=function(e){var t=QB(this);WV.call(this)||(t.playablePendantFold.style.bottom=OL.call(this,t.playablePendantBottom-e.relativeY),t.currentPendantOffset=e.relativeY)},NL=function(){var e=QB(this);WV.call(this)||(e.playablePendantBottom=OL.call(this,e.playablePendantBottom-e.currentPendantOffset),e.playablePendantTouchMask.style.bottom=e.playablePendantBottom,e.playablePendantExpand.style.bottom=e.playablePendantBottom,e.currentPendantOffset=0)},LL=function(e,t=!1,i){WV.call(this)||GR.call(this,i)&&NN.call(this,i,t?"button":"",e)},WL=function(){var e=b()((function*(){var e=QB(this);WV.call(this)||!TL.call(this)||e.playableEnded||(e.playableEnded=!0,e.playableEndpage.style.hidden=!1,e.playableEndpage.style.opacity=0,e.splitLine.style.hidden=!0,e.sound.style.hidden=!0,yield zo(150),e.playablePendantExpand.animate({duration:200,opacity:0}),e.playablePendantFold.animate({duration:200,opacity:0}),e.playableEndpage.animate({duration:500,opacity:1}),yield zo(500),qL.call(this))}));return function(){return e.apply(this,arguments)}}(),BL=function(e){var t=QB(this);!WV.call(this)&&TL.call(this)&&!t.isViewableExposureReported&&QL.call(this)-e>=1&&(YL.call(this,"viewable"),t.adProxy.reportAdMonitorData($d,{type:"viewable"}))},VL=function(){var e=QB(this),t=RL.bind(this);e.playablePendantArrowExpandGroup.on("click",t),e.playablePendantArrowFoldGroup.on("click",t),e.playablePendantTouchMask.on("click",(i=>{e.expandPlayablePendant||t(i)})),e.touchWatcher.onDrag(e.playablePendantTouchMask,ML.bind(this)),e.touchWatcher.onDragEnd(e.playablePendantTouchMask,NL.bind(this)),e.playablePendantButton.on("click",LL.bind(this,of.REWARD_PLAYABLE_PENDANT,!0)),e.playableEndpageButton.on("click",LL.bind(this,of.REWARD_PLAYABLE_ENDPAGE_BUTTON,!0)),e.playableEndpageInfoGroup.on("click",LL.bind(this,of.REWARD_PLAYABLE_ENDPAGE_CARD,!1)),e.playableEndpagePlaceholderCard.on("click",LL.bind(this,of.REWARD_PLAYABLE_ENDPAGE_CARD,!1)),e.emitter.on(pm,WL.bind(this)),e.emitter.on(cm,BL.bind(this)),zN.call(this),aL.call(this)},HL=function(e=null,t){var i=QB(this);return new Promise(((a,n)=>{var o=!1,r=null;i.emitter.on(hm,(()=>{a()}));var s=()=>{var e;o||(o=!0,null===(e=i.emitter)||void 0===e||e.off(hm),r&&clearTimeout(r),r=null)};e&&(r=setTimeout((()=>{r=null,s(),n(new Error("playable wait too long"))}),e)),null==t||t(s)}))},FL=function(){var e=QB(this);if(e.playableViewId)return e.playableViewId;var t=new bL({name:"tempPlayableView"}),{id:i}=t;return e.playableViewId=i,i},GL=function(e){var t,i,a,n,o,r,s,l,d,c=QB(this);return"predownload"===e?null!==(t=null!==(i=SO.call(this,Dm))&&void 0!==i?i:null===(a=c.adProxy.data.styleParams)||void 0===a?void 0:a.widget_gray_rewarded_video_playable_predownload_timeout)&&void 0!==t?t:5e4:"insert"===e?null!==(n=null!==(o=SO.call(this,km))&&void 0!==o?o:null===(r=c.adProxy.data.styleParams)||void 0===r?void 0:r.widget_gray_rewarded_video_playable_insert_timeout)&&void 0!==n?n:4e4:"firstFrame"===e&&null!==(s=null!==(l=SO.call(this,Rm))&&void 0!==l?l:null===(d=c.adProxy.data.styleParams)||void 0===d?void 0:d.widget_gray_rewarded_video_playable_first_frame_timeout)&&void 0!==s?s:4e4},UL=function(){var e=b()((function*(){var e,t,i=QB(this);if(!WV.call(this)){$L.call(this)&&null!==(e=i.playableInfo)&&void 0!==e&&e.orientation&&(i.playableInfo.orientationHasChange=!0,i.playableInfo.oriOrientation=xL.deviceOrientation,xL.isWaGame?yield i.adProxy.setDeviceOrientation(i.playableInfo.orientation):xL.isApp&&(yield i.adProxy.setPageOrientation(i.playableInfo.orientation)),ZL.call(this,!0)),i.playableLoading.style.hidden=!1;var a=Date.now(),n=rW.call(this)?vL.call(this):JN.call(this);n.then((()=>{var e=Date.now()-a;i.adProxy.reportAdMonitorData(Zd,{type:"insertDone",costTime:e})}));var o=null,r=HL.call(this,null,(e=>{o=e}));r.then((()=>{var e=Date.now()-a;i.adProxy.reportAdMonitorData(Zd,{type:"firstFrameReady",costTime:e})})),yield zo(200),i.playableLoadingProgressBarInner.animate({left:0,easing:"linear",duration:2e3}),DL.call(this,!0);var s=!1,l=zo(GL.call(this,"insert")),d=zo(GL.call(this,"firstFrame"));yield Promise.all([zL.call(this,Promise.all([zo(2e3),n]),l,"insert"),zL.call(this,r,d,"firstFrameReady")]).then((()=>{var e;null===(e=o)||void 0===e||e()})).catch((({isTimeout:e,error:t,extraThrowInfo:n})=>{var r;null===(r=o)||void 0===r||r(),i.adProxy.reportAdMonitorData("insert"===n?Xd:kp,{costTime:e?-1:Date.now()-a,e:e?`${n} timeout`:t}),kV.call(this),s=!0})),s||(rW.call(this)?_L.call(this,{resume:!0}):QN.call(this,{resume:!0}),tW.call(this)&&(i.sound.style.hidden=!1,i.splitLine.style.hidden=!1),i.playableLoading.animate({opacity:0,duration:300}),yield zo(300),i.playableStartTime=Date.now(),i.playableLoading.style.hidden=!0,i.playableLoaded=!0,YL.call(this,"showed"),YL.call(this,"incentiveVideoCard"),i.adProxy.reportAdMonitorData($d,{type:"showed",costTime:Date.now()-a}),PM.call(this,QL.call(this)),i.isDialogOpened||_M.call(this),null!==(t=i.playableInfo)&&void 0!==t&&t.autoSwitchExpand&&setTimeout((()=>{i.expandPlayablePendant=!i.expandPlayablePendant,i.playablePendantSwitched||DL.call(this)}),i.playableInfo.autoSwitchExpand))}}));return function(){return e.apply(this,arguments)}}(),zL=function(){var e=b()((function*(e,t,i){var a=!1;yield Promise.race([e.then((()=>{a=!0}),(e=>{throw a=!0,{isTimeout:!1,error:e,extraThrowInfo:i}})),t.then((()=>{if(!a)throw{isTimeout:!0,extraThrowInfo:i}}))])}));return function(t,i,a){return e.apply(this,arguments)}}(),jL=function(){var e=b()((function*(){var e=QB(this);e.adProxy.reportAdMonitorData($d,{type:"loading"}),AL.call(this),wN.call(this,!1),e.topBar.style.hidden=!1,e.card.style.hidden=!0,e.defaultPageContainer.style.hidden=!0,e.expandCardContainer.style.hidden=!0,e.feedCardContainer.style.hidden=!0,e.feedGuideContainer.style.hidden=!0,e.video.style.hidden=!0,e.sound.style.hidden=!0,e.splitLine.style.hidden=!0,$L.call(this)?e.playableBackboard.style.hidden=!1:e.playableLoading.style.hidden=!1,e.playableLoadingProgressBarInner.style.left=-1*e.playableLoadingProgressBarInner.style.width,yield zo(500),e.adProxy.vibrate(2,200)}));return function(){return e.apply(this,arguments)}}(),$L=function(){var e,t,i=QB(this);return!!(null!==(e=i.playableInfo)&&void 0!==e&&e.orientationHasChange||null!==(t=i.playableInfo)&&void 0!==t&&t.orientation&&i.playableInfo.orientation!==xL.deviceOrientation)},YL=function(e){var t=QB(this),{screenWidth:i,screenHeight:a}=xL,n={showed:"isShowedExposureReported",viewable:"isViewableExposureReported",incentiveVideoCard:"isCardExposureReported"}[e];if(!t[n]){t[n]=!0,"viewable"===e&&(t.adProxy.isViewable=!0);var o=t.adProxy.reportExposure({exposureType:e,left:0,top:0,width:i,height:a,weappExtraData:{...t.adWelfareData||{},...t.skitInfo||{}}});tV(o,"激励视频",{showed:"原始曝光",viewable:"可视曝光",incentiveVideoCard:"卡片曝光"}[e])}},qL=function(){var e=QB(this);e.adProxy.reportAdMonitorData(Yd,{costTime:e.playableStartTime?Date.now()-e.playableStartTime:-1}),(rW.call(this)?EL.call(this):eL.call(this)).catch((t=>{e.adProxy.reportAdMonitorData(Jd,t)})),e.playablePendantTouchMask.style.hidden=!0,e.playablePendantExpand.style.hidden=!0,e.playablePendantFold.style.hidden=!0},KL=function(e=!1){var t,{screenHeight:i,screenWidth:a,deviceOrientation:n}=xL,o=QB(this);if(null!==(t=o.playableInfo)&&void 0!==t&&t.orientationHasChange){var r=Math.max(a,i),s=Math.min(a,i),l="portrait"===o.playableInfo.oriOrientation,d=l?s:r,c=l?r:s,p=e?c:d,u=e?d:c;return{screenWidth:p,screenHeight:u,deviceOrientation:p<u?"portrait":"landscape"}}return{screenWidth:a,screenHeight:i,deviceOrientation:n}},ZL=function(e=!1){var{screenHeight:t,screenWidth:i,deviceOrientation:a}=xL,n=KL.call(this,e);Object.assign(xL,n),yV.call(this,["container"]),CL.call(this),xL.screenWidth=i,xL.screenHeight=t,xL.deviceOrientation=a,wL()},XL=function(){var e=b()((function*(){var e,t=QB(this);t.playableLoading.style.hidden=!1,!t.playableEnded&&$L.call(this)&&qL.call(this),null!==(e=t.playableInfo)&&void 0!==e&&e.orientationHasChange&&t.playableInfo.oriOrientation&&(xL.isWaGame?yield t.adProxy.setDeviceOrientation(t.playableInfo.oriOrientation):xL.isApp&&(yield t.adProxy.setPageOrientation(t.playableInfo.oriOrientation)),ZL.call(this,!1),t.playableInfo.orientationHasChange=!1,t.playableBackboard.style.hidden=!1,yield zo(300))}));return function(){return e.apply(this,arguments)}}(),JL=function(){var e=QB(this);e.playableLoading.style.hidden=!1,e.playableEnded||$L.call(this)||qL.call(this)},QL=function(){var e,t=QB(this);return null!==(e=t.playableInfo)&&void 0!==e&&e.rewardedTime?t.playableInfo.rewardedTime:t.playableRewardedTime},eW=function(){var e=QB(this);e.playableInfo=null,e.expandPlayablePendant=!1},tW=function(){var e,t,i=QB(this),{isAndroid:a,isIOS:n,wechatVersion:o}=xL,r=null!==(e=null===(t=i.playableInfo)||void 0===t?void 0:t.minIOSVersionForMute)&&void 0!==e?e:"";return!!(a||n&&/^\d+\.\d+\.\d+$/.test(r)&&Um(o,r)>=0)},iW=function(){var e=QB(this),{playableInfo:t}=e.data;t&&(e.playableInfo={...t,versionType:0,autoSwitchExpand:5e3,rewardedTime:30,minIOSVersionForMute:"8.0.29"},e.expandPlayablePendant=!1,rW.call(this)?nL.call(this):jN.call(this))},aW=function(){var e=QB(this);e.playableExtraVisibility={},e.playablePendantBottom=80,e.playableLoaded=!1,e.playablePredownload=null,e.playablePredownloaded=!1,e.playableInfo=null,e.currentPendantOffset=0,e.playableStartTime=null,e.playableEnded=!1,e.playablePendantSwitched=!1,e.playablePendantSwitching=!1,e.playableRewardedTime=15,e.playableViewId=null,eW.call(this)},nW=function(){var e=QB(this);e.playableBackboard.style.hidden=!0,e.playableLoading.style.hidden=!0,e.playableLoading.style.opacity=1,e.playableEndpage.style.hidden=!0,e.playableEndpage.style.opacity=0,EM.call(this),e.playablePendantTouchMask.style.zIndex=pf.PlayablePendantTouchMask,e.playablePendantFold.style.zIndex=pf.PlayablePendant,e.playablePendantExpand.style.zIndex=pf.PlayablePendant,e.topBar.style.zIndex=pf.TopBar,e.adFeedbackList.style.zIndex=pf.AdFeedbackList,e.adFeedbackMenu.style.zIndex=pf.AdFeedbackMenu,aW.call(this),e.playablePendantExpand.style.hidden=!0,e.playablePendantFold.style.hidden=!0,e.playablePendantTouchMask.style.hidden=!0,e.playablePendantExpand.style.opacity=0,e.playablePendantFold.style.opacity=0,e.playablePendantTouchMask.style.bottom=e.playablePendantBottom,e.playablePendantExpand.style.bottom=e.playablePendantBottom,e.playablePendantFold.style.bottom=e.playablePendantBottom},oW=function(){var e=QB(this);rW.call(this)?_L.call(this,{mute:e.isSoundMuted}):QN.call(this,{mute:e.isSoundMuted})},rW=function(){var e=QB(this),{playableInfo:t}=e;return Boolean((null==t?void 0:t.moduleName)&&0===t.moduleName.indexOf("playable@"))},{onNativeEvent:sW,offNativeEvent:lW}=y;class dW{constructor({offsetLimitation:e}={offsetLimitation:30}){this.emitter=new ZP,this.offsetLimitation=void 0,this.startPoint=null,this.startTs=null,this.handleTouchStart=e=>{this.handleTouchStartForSlide(e)},this.handleTouchEnd=e=>{this.handleTouchEndForSlide(e)},this.match=e=>Math.abs(e)>=this.offsetLimitation,this.isLessThan=(e,t)=>Math.abs(e)<Math.abs(t),this.handleTouchMoveForDrag=e=>t=>{if(this.startPoint){var{startPoint:i}=this,a=null==t?void 0:t[0];i&&a&&e.call(null,{offsetX:a.x,offsetY:a.y,relativeX:a.x-i.x,relativeY:a.y-i.y,movePoint:a,startPoint:i})}},this.handleTouchEndForDrag=e=>t=>{if(this.startPoint){var{startPoint:i,startTs:a}=this;i&&a&&t&&(e.call(null,{offsetX:t.x,offsetY:t.y,relativeX:t.x-i.x,relativeY:t.y-i.y,duration:Date.now()-a,startPoint:i}),this.startTs=null)}},this.dragHandler=new Map,this.offsetLimitation=e,sW("onTouchStart",this.handleTouchStart),sW("onTouchEnd",this.handleTouchEnd)}handleTouchStartForSlide(e){this.startPoint=e.touch||e.touches||null,this.startTs=Date.now()}handleTouchEndForSlide(e){var t=e.touch||e.touches||null,{startPoint:i}=this;if(i&&t){var a=t.x-i.x,n=t.y-i.y,o=null;this.match(a)&&this.isLessThan(n,a)?o=a>0?"right":"left":this.match(n)&&this.isLessThan(a,n)&&(o=n>0?"down":"up"),o&&this.emitter.emit(o,{direction:o,offsetX:a,offsetY:n,startPoint:i,endPoint:t})}this.startPoint=null}onSlide(e,t){if("function"==typeof e)for(var i of["up","down","left","right"])this.emitter.on(i,e);else this.emitter.on(e,t)}offSlide(e,t){if("function"==typeof e)for(var i of["up","down","left","right"])this.emitter.off(i,e);else this.emitter.off(e,t)}destroy(){lW(this.handleTouchStart),lW(this.handleTouchEnd)}onDrag(e,t){this.offDrag(e);var i=this.handleTouchMoveForDrag(t);this.dragHandler.set(`drag-${e.id}`,i),e.on("touchmove",i)}onDragEnd(e,t){this.offDragEnd(e);var i=this.handleTouchEndForDrag(t);this.dragHandler.set(`dragend-${e.id}`,i),e.on("touchend",i)}offDrag(e){var t=this.dragHandler.get(`drag-${e.id}`);this.dragHandler.delete(`drag-${e.id}`),t&&e.off("touchmove",t)}offDragEnd(e){var t=this.dragHandler.get(`dragend-${e.id}`);this.dragHandler.delete(`dragend-${e.id}`),t&&e.off("touchend",t)}}var{deviceInfo:cW}=y,pW=2e3,uW=function(){var e=QB(this);e.adFeedback.on("click",hW.bind(this)),e.adFeedbackBtn.on("click",gW.bind(this)),e.adDislikeBtn.on("click",fW.bind(this)),e.adQualityBtn.on("click",mW.bind(this)),e.adDuplicateBtn.on("click",yW.bind(this)),e.adDismatchBtn.on("click",vW.bind(this))},hW=function(e){if(!WV.call(this)){var t=QB(this);GR.call(this,e,!1)&&(t.adFeedbackList.style.hidden&&t.adFeedbackMenu.style.hidden?t.adFeedbackList.style.hidden=!1:(t.adFeedbackList.style.hidden=!0,t.adFeedbackMenu.style.hidden=!0),t.adFeedbackList.style.hidden||_W.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"}))}},gW=function(e){if(!WV.call(this)){var t=QB(this);GR.call(this,e,!1)&&(t.adProxy.openFeedbackUrl(cW.isWaGame?1003:1005),t.adFeedbackList.style.hidden=!0,_W.call(this,{secondGradeId:1,secondGradeDesc:"投诉"}))}},fW=function(e){if(!WV.call(this)){var t=QB(this);GR.call(this,e,!1)&&(_W.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"}),t.adFeedbackList.style.hidden=!0,t.adFeedbackMenu.style.hidden=!1)}},mW=function(e){if(!WV.call(this)){var t=QB(this);GR.call(this,e,!1)&&(t.adFeedbackMenu.style.hidden=!0,_W.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),t.dialogCloseTip.style.hidden=!1,zo(pW).then((()=>{t.dialogCloseTip.style.hidden=!0})))}},yW=function(e){if(!WV.call(this)){var t=QB(this);GR.call(this,e,!1)&&(t.adFeedbackMenu.style.hidden=!0,_W.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),t.dialogCloseTip.style.hidden=!1,zo(pW).then((()=>{t.dialogCloseTip.style.hidden=!0})))}},vW=function(e){if(!WV.call(this)){var t=QB(this);GR.call(this,e,!1)&&(t.adFeedbackMenu.style.hidden=!0,_W.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),t.dialogCloseTip.style.hidden=!1,zo(pW).then((()=>{t.dialogCloseTip.style.hidden=!0})))}},_W=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){if(!WV.call(this)){var o=QB(this);e&&!i&&(o.clickFirstGradeTime=+new Date),o.adProxy.reportAdFeedbackData({adWidth:cW.screenWidth,adHeight:cW.screenHeight,adPosX:0,adPosY:0,expTime:o.startExposureTime,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?o.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?+new Date:0,feedbackReason:n})}},EW=function(e){var t=QB(this),i={adWidth:cW.screenWidth,adHeight:cW.screenHeight,adPosX:0,adPosY:0},a={dismatch:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1},quality:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4},duplicate:{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}};if(Array.isArray(e))for(var{type:n,expTime:o,isClickAd:r,clickAdTimeMs:s,feedbackTimeMs:l}of e)if("good"!==n){var d=a[n]||{};t.adProxy.reportAdFeedbackData({...i,...d,expTime:o||0,isClickAd:r,clickAdTimeMs:s||0,secondGradeTime:l||0})}},{deviceInfo:xW}=y,bW=function(){var e=b()((function*(e,t){var i=QB(this),{replaceAdCounter:a=0}=t;if(gO.call(this)){if(!IO.call(this,Om)&&mO.call(this)){if("end"===(yield i.adProxy.getChannelsLiveStatusWithRpc())){if(i.adProxy.reportAdMonitorData(Op,{counter:a+1}),yield YV.call(this,"show",e,t))return void i.adProxy.reportAdMonitorData(Vp);i.adProxy.reportAdMonitorData(Mp)}}}else i.container.style.hidden=!1,i.container.style.top=0,i.adCover.show();return i.rewardPageLanding=!0,i.container.nextLayout().then((()=>{if(WV.call(this))throw{errMsg:gV};return _V.call(this).then((()=>{xW.isWaGame||(i.isFullscreen=!0)})).catch((e=>{i.adProxy.reportAdMonitorData(hl,e)})),OV.call(this)})).then((e=>{if(i.rewardPageLanding=!1,gO.call(this)){e?i.adProxy.reportAdMonitorData(Xl,e):i.adProxy.reportAdMonitorData(Jl);var{rewardedDuration:t,feedbackInfo:a}=e||{},n=kO.call(this),o=null!=t&&t>=n;i.isEnded=o,i.isRewarded=o,cM.call(this,i.isRewarded),kV.call(this),kR.call(this,{button:o?4:1}),EW.call(this,a)}})).catch((e=>{throw i.rewardPageLanding=!1,rk("show",i.adType,0),e}))}));return function(t,i){return e.apply(this,arguments)}}(),wW=function(e){if(WV.call(this))return Promise.reject({errMsg:gV});var t=QB(this);return gO.call(this)||(t.container.style.top=xW.screenHeight,t.topBar.style.hidden=!0,t.dialogClose.value="放弃",t.dialogCancel.value="继续",NM.call(this).style.hidden=!1,t.showDialogContainer=!1),1===e?SV.call(this):Promise.all([EV.call(this),SV.call(this,e)])},TW=function(){if(!WV.call(this)){var e=QB(this),t=kO.call(this);if(e.rewardPageCostTime>=1e3*t)e.isEnded=!0,e.isRewarded=!0,cM.call(this,e.isRewarded),kV.call(this),kR.call(this,{button:4});else{e.showDialogContainer=!0,e.dialogContainer.style.hidden=!1,e.dialogTitle.value="暂未获得奖励\n是否继续浏览页面",e.adProxy.setRightButtonHide(!0).catch((()=>{}))}}},CW=function(e=!1){var t=QB(this);t.isRewarded||e&&(t.countDown.style.hidden=!0,t.sound.style.hidden=!0,t.splitLine.style.hidden=!0,t.countDownAppend.value="已获得奖励",t.countDownAppend.style.width=72,t.isRewarded=!0,cM.call(this,t.isRewarded),AD.call(this,vi))},AW=function(e){var t=QB(this),i=t.adProxy.reportExposure({exposureType:e,left:0,top:0,width:xW.screenWidth,height:xW.screenHeight,weappExtraData:{...t.adWelfareData||{},...t.skitInfo||{}}});"showed"===e?t.isShowedExposureReported=!0:"viewable"===e&&(t.isViewableExposureReported=!0),tV(i,"激励浏览","原始曝光")},PW="mbAd",IW=`${PW}_WeAppRewardAd`,SW=`${PW}_MbComm`,kW=`${PW}_WeAppComm`;function DW(e,t){var i={};for(var a of Object.keys(t))i[a]=`${e}_${t[a]}`;return i}var RW=DW(`${PW}_MbRewardAd`,{Ready:"Ready",OnLoad:"OnLoad",ResetStatus:"ResetStatus",OnClose:"OnClose",CheckAndUseAdSkipCard:"CheckAndUseAdSkipCard",UpdateFullscreenState:"UpdateFullscreen",UpdatePlayState:"UpdatePlayState",UpdateVideoState:"UpdateVideoState",UpdateBackgroundState:"UpdateBackgroundState"}),OW=DW(IW,{Ready:"Ready",Create:"Create",SetAdData:"SetAdData",Show:"Show",SyncTimePoint:"SyncTimePoint",Destroy:"Destroy",ResetStatus:"ResetStatus"}),MW=DW(SW,{Callback:"Callback",HostInvoke:"HostInvoke",ShowModal:"ShowModal",GetWeappTouchs:"GetWeappTouchs",GetSystemInfo:"GetSystemInfo",GetDeviceOrientation:"GetDeviceOrientation",ReportCanvasData:"ReportCanvasData",BeginAudioInterruption:"BeginAudioInterruption",EndAudioInterruption:"EndAudioInterruption",OperateWXData:"OperateWXData",AdOperateWXData:"AdOperateWXData",GameTransfer:"GameTransfer"}),NW=DW(kW,{Callback:"Callback",DispatchEvent:"DispatchEvent"}),LW=DW(PW,{NotifyRecreateBiz:"notifyRecreateBiz"}),WW=0,BW=1,VW=2,HW=3,{onMethod:FW,deviceInfo:GW,getSystemInfoSync:UW,invokeMethod:zW,_showModal:jW,publish:$W,reportCanvasData:YW,onAppRoute:qW,onAppRouteDone:KW,onWindowResize:ZW,beginAudioInterruption:XW,endAudioInterruption:JW,onPlayableStatusChange:QW,onPlayableStatusChangeNew:eB,getDeviceOrientation:tB}=y;S.onReady((()=>{var e;"devtools"!==GW.platform&&(null==S||null===(e=S.mbad)||void 0===e?void 0:e.rewardAd)&&(qW((e=>cB(NW.DispatchEvent,{eventName:"AppRoute",eventDetail:e}))),KW((e=>cB(NW.DispatchEvent,{eventName:"AppRouteDone",eventDetail:e}))),ZW((e=>{cB(NW.DispatchEvent,{eventName:"WindowResize",eventDetail:e})})),QW((e=>cB(NW.DispatchEvent,{eventName:"PlayableStatusChange",eventDetail:e}))),eB((e=>cB(NW.DispatchEvent,{eventName:"PlayableStatusChangeNew",eventDetail:e}))))}));var iB=new Map,aB=0,nB=()=>`weapp2mb_callback_${aB+=1}`;FW(MW.Callback,((e={})=>{var{callbackId:t}=e;if(t){var i=iB.get(t);i&&(i(e),iB.delete(t))}}));var oB,rB,sB,lB,dB,cB=(oB=(e,t,i)=>{var a=nB();iB.set(a,i),zW("postMessageToMBBiz",{eventName:e,bizName:"MagicAdMiniProgram",message:{callbackId:a,ts:+new Date,...t}})},function(...e){return new Promise((t=>{oB(...e,(e=>{t(e)}))}))}),pB=(e,t=WW,i)=>{zW("postMessageToMBBiz",{eventName:NW.Callback,bizName:"MagicAdMiniProgram",message:{ts:+new Date,ret:t,data:i,callbackId:e}})};FW(MW.HostInvoke,((e={})=>{var{apiName:t,args:i,callbackId:a}=e;zW(t,{...i,success:e=>{pB(a,WW,e)},fail:e=>{pB(a,HW,e)}})})),FW(MW.ShowModal,((e={})=>{var{args:t,callbackId:i}=e;jW({...t,success:e=>{pB(i,WW,e)},fail:e=>{pB(i,BW,e)}})})),FW(MW.GetWeappTouchs,((e={})=>{var{callbackId:t}=e;xs((e=>{pB(t,WW,e)}),{},!0),$W("emitWeappTouchEvent")})),FW(MW.GetSystemInfo,((e={})=>{var{callbackId:t}=e,i=UW();pB(t,WW,i)})),FW(MW.GetDeviceOrientation,((e={})=>{var{callbackId:t}=e;tB(),pB(t,WW,{screenWidth:GW.screenWidth,screenHeight:GW.screenHeight,deviceOrientation:GW.deviceOrientation,pixelRatio:S.pixelRatio})})),FW(MW.ReportCanvasData,(e=>{var{callbackId:t,eventType:i,viewId:a}=e;YW(i,a),pB(t,WW,{})})),FW(MW.BeginAudioInterruption,(e=>{var{callbackId:t}=e;XW(),pB(t,WW,{})})),FW(MW.EndAudioInterruption,(e=>{var{callbackId:t}=e;JW(),pB(t,WW,{})})),FW(MW.OperateWXData,(e=>{var{args:t,callbackId:i}=e;pe(t).then((e=>{pB(i,WW,e)})).catch((e=>{pB(i,BW,e)}))})),FW(MW.AdOperateWXData,(e=>{var{args:t,callbackId:i}=e;ce(t).then((e=>{pB(i,WW,e)})).catch((e=>{pB(i,BW,e)}))})),FW(MW.GameTransfer,(e=>{var{args:t,callbackId:i}=e;ue(t).then((e=>{pB(i,WW,e)})).catch((e=>{pB(i,BW,e)}))}));var{deviceInfo:uB,onMethod:hB,getGameTouchStatus:gB,checkAndUseAdSkipCard:fB,GameGlobal:mB,getDeviceOrientation:yB}=y,vB=function(e){return e.CONNECT_FAIL="connect mb timeout",e.NO_SETADDATA="no setAdData",e}({}),_B=[hf,gf,ff,Vf,Hf,Ff,Gf,qf,Kf,Zf,Xf,Jf,Qf,em,tm,im,am,nm,om,rm,sm],EB=new Map;hB(RW.OnLoad,((e={})=>{var t,{mbId:i,data:a}=e;null===(t=EB.get(i))||void 0===t||t.emitLoad(a),pB(e.callbackId,WW,{info:"emit load success"})})),hB(RW.ResetStatus,((e={})=>{var{mbId:t,callbackId:i}=e,a=EB.get(t);a?(a.resetStatus(),pB(i,WW,{})):pB(i,VW,{})})),hB(RW.OnClose,((e={})=>{var t=((e,t=!0)=>{var{mbId:i,callbackId:a}=e,n=EB.get(i);return n||(t&&pB(a,VW,{error:"can not find weappService"}),null)})(e);t&&t.emitClose(e.data)})),hB(RW.CheckAndUseAdSkipCard,b()((function*(e={}){var{callbackId:t}=e;try{var i=yield fB();pB(t,WW,i)}catch(e){pB(t,BW,{})}}))),hB(RW.UpdatePlayState,((e={})=>{var{mbId:t,playState:i}=e,a=EB.get(t);a&&(a.mbRewardState.playState=i)})),hB(RW.UpdateVideoState,((e={})=>{var{mbId:t,videoState:i}=e,a=EB.get(t);a&&(a.mbRewardState.videoState=i)})),hB(RW.UpdateFullscreenState,((e={})=>{var{mbId:t,fullscreenState:i}=e,a=EB.get(t);a&&(a.mbRewardState.fullscreenState=i)})),hB(RW.UpdateBackgroundState,((e={})=>{var{mbId:t,backgroundState:i}=e,a=EB.get(t);a&&(a.mbRewardState.backgroundState=i)})),hB(LW.NotifyRecreateBiz,(()=>{for(var e of EB.values())e.notifyRecreateBiz()}));var xB,bB=Date.now(),wB=(rB=Bo("connect",!0),sB=Bo("connect",!0),lB=Bo("connect",!0),dB=class{constructor(e,t){this.rewardAdOptions=void 0,this.mbId=null,this.connectPromise=null,this.setAdDataPromise=null,this.context=void 0,this.bizRecreate=!1,this.mbRewardState={},this.timePoints={b0:bB},this.rewardAdOptions=e,this.context=t,this.mbId=null,this.connect()}notifyRecreateBiz(){this.bizRecreate=!0,this.mbRewardState.fullscreenState&&this.context.operateFullscreen(!1),Do(Sc,{mbId:this.mbId,...this.mbRewardState})}connect(){var e=this;return b()((function*(){var t;if(!e.mbId){var i,a,n,o,r;if(e.context.setTimePoint(Kf),!e.connectPromise)yB(),e.connectPromise=cB(OW.Create,{appid:uB.gameAppId,rewardAdOptions:{...e.rewardAdOptions,hostInfo:{deviceInfo:{isWaGame:uB.isWaGame,isApp:uB.isApp,gameAppId:uB.gameAppId,appType:S.appType+1e3,appState:ca[S.envVersion]||1,scene:null==S||null===(i=S.appLaunchInfo)||void 0===i?void 0:i.scene,SDKVersion:uB.SDKVersion,SDKVersionTime:uB.SDKVersionTime,safeArea:uB.safeArea,envVersion:uB.envVersion,deviceOrientation:uB.deviceOrientation,pageOrientation:null!==(a=null===(n=S.global)||void 0===n||null===(o=n.window)||void 0===o?void 0:o.pageOrientation)&&void 0!==a?a:"auto"},screenInfo:{screenWidth:uB.screenWidth,screenHeight:uB.screenHeight,deviceOrientation:uB.deviceOrientation,pixelRatio:S.pixelRatio},wxConfig:Ce(S,["SDKVersion","platform","host","appLaunchInfo","preload","isReady"]),isIn3rdApp:W(),exptInfo:null===(r=S.expt)||void 0===r?void 0:r[GO()],GameGlobal:{query:(null==mB?void 0:mB.query)||{}}}}});var s=yield Promise.race([e.connectPromise,J(5e3)]);e.context.setTimePoint(tm),e.mbId=null==s||null===(t=s.data)||void 0===t?void 0:t.mbId,e.mbId?EB.set(e.mbId,e):Do(Ic)}}))()}syncTimePoint(e){if(_B.includes(e)){var t=Ce(this.context.getTimePoints(),[e]);this.postMessageToMb(OW.SyncTimePoint,{timePoints:t})}}postMessageToMb(e,t){return cB(e,{ts:+new Date,...t,mbId:this.mbId})}emitLoad(e){this.context.onLoad(e)}emitClose(e){this.context.onClose(e)}resetStatus(){this.context.resetStatus()}onResetStatus(){this.postMessageToMb(OW.ResetStatus,{})}show(e){var t=this;return b()((function*(){if(t.context.setTimePoint(sm),!t.mbId)return Promise.reject({errMsg:vB.CONNECT_FAIL});if(!t.setAdDataPromise)return Promise.reject({errMsg:vB.NO_SETADDATA});t.context.setTimePoint(Zf),yield t.setAdDataPromise,t.context.setTimePoint(Xf);var i=yield t.postMessageToMb(OW.Show,{options:e,internalOptions:{gameTouchs:gB()}});return t.context.setTimePoint(Jf),i.ret===WW?Promise.resolve(i.data):Promise.reject(i.data)}))()}setAdData(e){var t=this;return b()((function*(){t.context.setTimePoint(Qf),t.mbId&&(t.setAdDataPromise=t.postMessageToMb(OW.SetAdData,{datas:e}),yield t.setAdDataPromise,t.context.setTimePoint(em))}))()}destroy(){var e=this;return b()((function*(){if(!e.mbId)return Promise.reject({errMsg:vB.CONNECT_FAIL});var t=yield e.postMessageToMb(OW.Destroy,{});return t.ret===WW?Promise.resolve():Promise.reject(t)}))()}},A()(dB.prototype,"show",[rB],Object.getOwnPropertyDescriptor(dB.prototype,"show"),dB.prototype),A()(dB.prototype,"setAdData",[sB],Object.getOwnPropertyDescriptor(dB.prototype,"setAdData"),dB.prototype),A()(dB.prototype,"destroy",[lB],Object.getOwnPropertyDescriptor(dB.prototype,"destroy"),dB.prototype),dB),TB={NONE:0,NAVIGATE_BEFORE_ANIMATE:1,SHOW_FAIL:2,HIDE_FOR_BACK:3,REPLACE_AD:4,MB_RESET:5},{_showModal:CB,deviceInfo:AB}=y,PB=function(){var e=QB(this),{touchStartPosX:t,touchStartPosY:i}=Th();return new Promise(((a,n)=>{CB({content:"即将播放广告",confirmText:"打开",success:n=>{n.confirm?(LR.call(this,{buttonType:1,buttonTime:Date.now(),gameTouchStartPosX:t,gameTouchStartPosY:i}),e.adProxy.reportAdMonitorData(Dd),a(!0)):n.cancel&&(LR.call(this,{buttonType:2,buttonTime:Date.now(),gameTouchStartPosX:t,gameTouchStartPosY:i}),e.adProxy.reportAdMonitorData(Rd)),e.adProxy.reportAdMonitorData(Sd),a(!1)},fail:()=>{LR.call(this,{buttonType:0,buttonTime:Date.now(),gameTouchStartPosX:t,gameTouchStartPosY:i}),e.adProxy.reportAdMonitorData(kd),n()}})}))},IB=function(){var e=QB(this),{screenWidth:t,screenHeight:i}=AB,{touchStartTime:a,touchStartPosX:n,touchStartPosY:o,touchEndPosX:r,touchEndPosY:s,touchInterval:l,touchEndTime:d}=Th(),{extBackComm:c}=e.data||{};if(AB.isWaGame){var p=!1;null!=c&&c.antifraud_video_block&&(!a||+new Date-a>2e3)&&(p=!0);var u={touchStartX:Math.round(null!=n?n:0),touchStartY:Math.round(null!=o?o:0),touchEndX:Math.round(null!=r?r:0),touchEndY:Math.round(null!=s?s:0),touchDuration:null!=l?l:0,screenWidth:t,screenHeight:i,clkTime:null!=a?a:0,clkEndTime:null!=d?d:0,playTime:+new Date};if(e.adProxy.reportVideoLastClick({...u,isShield:p?1:0}),p)throw e.adProxy.reportAdMonitorData(wd,{isWeApp:!1,...u}),{errMsg:"antifraud can not show!"};null!=c&&c.antifraud_video_block&&e.adProxy.reportAdMonitorData(Np,{isWeApp:!1,...u})}else if(e.weappTouchEventHandler&&Es(e.weappTouchEventHandler),e.weappTouchEventHandler=xs(NR,{aid:e.adProxy.data.aid,traceid:e.adProxy.data.traceid}),eV("emitWeappTouchEvent"),null!=c&&c.antifraud_video_block)throw e.adProxy.reportAdMonitorData(wd,{isWeApp:!0}),{errMsg:"antifraud can not show!"}},{_onShow:SB,_onHide:kB,_offShow:DB,_offHide:RB,onBeforeHide:OB,offBeforeHide:MB,onAppRouteDone:NB,onWindowResize:LB,beginAudioInterruption:WB,endAudioInterruption:BB,reportCanvasData:VB,ReportCanvasDataEventType:HB,checkAndUseAdSkipCard:FB,deviceInfo:GB,getDeviceOrientation:UB,webviewLayout:zB,Component:jB,getPrivateThis:$B,removePrivateThis:YB,onMethod:qB,publish:KB,setNavigateBackInterception:ZB,stopNavigateBackInterception:XB}=y,JB=ea.rewardedVideoAd,QB=e=>$B(e),eV=(e,t,i)=>KB(e,t,i||[]),tV=(...e)=>{},iV="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",aV="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",nV="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJAic1IGjzG9g458d7DpIe8URUq74t0dicbwKKc69rPBf8hiby1llOBTndbKUq2NTA9YaA/0?wx_fmt=png",oV=3,rV=!1,sV=!1,lV="portrait",dV=!1,cV=null,pV=new Promise((e=>{cV=e}));S.onReady((()=>{var e,t;null===(e=cV)||void 0===e||e(),dV="devtools"!==GB.platform&&(null==S||null===(t=S.mbad)||void 0===t?void 0:t.rewardAd);try{S.global.window.pageOrientation&&(lV=S.global.window.pageOrientation)}catch(e){}GB.isIOS?sV=!0===S.showStatusBar:GB.isAndroid&&(sV=!0===S.showStatusBar||"true"===S.showStatusBar)}));var uV=()=>sV,hV=function(){var e,t;return null!==(e=S.expt)&&void 0!==e&&null!==(t=e[GO()])&&void 0!==t&&t.groupid?{groupid:S.expt[GO()].groupid,canUseMb:RO.call(this),isMbAd:DO.call(this)}:{}},gV="video-ad has been destroyed";class fV extends jB{constructor(e){super(),this._destroyed=void 0;var t=QB(this),{adUnitId:a,multiton:n=!1,pluginId:o="",requestType:r=null,isSkitAd:s=!1}=e;t.options=e,t.emitter=new ZP,t.touchWatcher=new dW,t.androidAppState=0,t.androidDownloadId=0,t.adUnitId=a,t.isSkitAd=s,t.pluginId=o,t.adType="rewardedVideoAd",t.adProxy=new HA({adUnitId:a,adType:"rewardedVideoAd",pluginAppid:o,isSkitAd:s,slotContext:{getMonitorDataExtraInfo:()=>hV.call(this),getCgiReportExtraData:()=>uM.call(this),getChannelsRewardTime:()=>IM.call(this)}}),t.adProxy.cacheCount=1,t.adCover=new nk({adUnitId:a,adType:"rewardedVideoAd"}),t.adRequestType=r,t.adWelfareData={},t.skitInfo={},t.dramaInfo={},t.canSkitAdRetention=!1,t.execShowTime=0,t.adProxy.onSetTimePoint(((e,i)=>{var a,n,o;t.mb&&t.mb.syncTimePoint(e);var r=null===(a=lm[e])||void 0===a?void 0:a.funnelAction,s=null===(n=S.expt)||void 0===n||null===(o=n[GO()])||void 0===o?void 0:o.groupid;r&&s&&WR.call(this,{action:r,report_time:i})})),mV.call(this,e),t.mb&&t.adProxy.setTimePoint(im),vD.call(this),t.isShowedExposureReported=!1,t.isViewableExposureReported=!1,t.isCardExposureReported=!1,t.isVideoCardShowed=!1,t.isUseAnimationPage=!1,t.isAnimationPageReportedVideoEnd=!1,t.dynamicElems=null,t.dynamicOldStyle=null,t.dynamicEmitter=null,t.handleAdTemplateEvent=kD.bind(this),t.rewardPageCostTime=0,t.rewardPageTimer=null,t.rewardPageLanding=!1,t.showDialogContainer=!1,t.isData=!1,t.isFirstFrameCallback=!1,t.isFirstPlaySuccess=!1,t.isPlaying=!1,t.isVideoCalledPlay=!1,t.isRewarded=!1,t.isEnded=!1,t.isPause=!1,t.isFlooringPageShowed=!1,t.isReadyToFlooringPage=!1,t.currentTime=0,t.cardShowTime=0,t.videoFirstPlayTime=0,t.preloadVideo=!1,t.preloadVideoSuccess=!1,t.cardFirstShowTime=0,t.clickCount=0,t.landingCount=0,t.lastLandingTime=0,t.lastJsapiName="",t.lastJsapiStatus=0,t.lastJsapiCostTime=0,t.isLandingPage=!1,t.isClickLanding=!1,t.landingPageCostTime=0,t.hideTime=0,t.showTime=0,t.isShowed=!1,t.isShowFailed=!1,t.isVisible=!1,t.extraReduceTime={},t.startExposureTime=0,t.clickFirstGradeTime=0,t.flooringPageIsShow=!1,t.flooringPageShowTime=0,t.flooringPageCloseTime=0,t.flooringPageState={},t.flooringPageAutoShow=!1,t.showTipsTimer=null,t.exposureTimer=null,t.isCancelPlayablePage=!1,t.isLandingPlayablePage=!1,t.buttonTextType=0,t.isPress=!1,t.startPosX=0,t.startPosY=0,t.lastPosX=0,t.lastPosY=0,t.lastSecondPosX=0,t.lastSecondPosY=0,t.direction="",t.throttleTimer=null,t.timeStamp=0,t.callCount=0,t.distanceList=[],t.startTime=0,t.lastStartTime=0,t.lastMoveTime=0,t.flooringPageInfos={},t.timeUpdateHandler={},t.endedHandler={},t.errorHandler={},t.playHandler={},t.multiVideoInfo={randomNumber:100*Math.random(),videoDuration:[],videoPosition:[],isEnded:[],isPause:[],isPlaying:[],isExposured:[],isViewableExposured:[],isCardExposured:[],isSlideTipsShowed:[]},t.feedCardExtraVisibility={},t.feedGuideAnimated=!1,t.isDialogOpened=!1,t.shouldAnimateDefaultPageGuide=!1,t.defaultPageGuideAnimated=!1,t.templateCondition={},t.holdContainerPosition=!1,t.weappTouchEventHandler=null,t.updateScreenInfoTimer=null,t.layoutTimer=null,t.navigateBackInterceptionHandler=null,t.closeEventCount=0,t.reportDurationTimer=null,t.multiVideoTimer=null,t.multiVideoCounter=0,t.globalCountDownTimer=null,t.globalCountDownCounter=0,t.slideFrozen=!1,t.templateEventHandlers={},t.featureFlags={},t.disableGaussBlur=!1,t.toastShowing=!1,t.slideShowExtraVisibility={},t.bottomCardExtraVisibility={},t.reportRewardStatusPromise=null,t.isPrefetchEmited=!1,this._destroyed=!1;var l=Date.now();GA.call(this,(()=>{if(!xB){var{root:e}=T()('\n  <view id="container">\n    <view id="video-background-container">\n      <image id="video-background-image"></image>\n      <view id="video-background-mask"></view>\n    </view>\n    <view id="video-container">\n      <video id="video" controls="false" muted="true" autoplay="false" object-fit="contain" enable-progress-gesture="false" enable-play-gesture="false" show-center-play-btn="false" auto-insert="false" scene="ad" player-hint="supportSoftDecode,mp4Only" auto-pause-if-navigate="true" auto-pause-if-open-native="true">\n        <view id="blank"></view>\n        <view id="page-card-body">\n          <view id="page-card-hot-area">\n            <image id="page-card-tip-icon"></image>\n            <text id="page-card-tip" value="了解更多"></text>\n          </view>\n          <image id="page-card-container" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=a5af9b5364f6e959667331801f6558e8&filekey=3033020101041f301d02016d040253480410a5af9b5364f6e959667331801f6558e80202423f040d00000004627466730000000131&hy=SH&storeid=32303138313031363036343533343030306464383764313336666664393336663561333230613030303030303664&bizid=1023">\n            <view id="page-card" click-state="true">\n              <image id="page-card-app-icon" bubble-event="true"></image>\n              <view id="page-card-app-information" bubble-event="true">\n                <text id="page-card-app-name" bubble-event="true"></text>\n                <text id="page-card-app-wording" bubble-event="true"></text>\n              </view>\n              <text id="page-card-button" click-state="true"></text>\n            </view>\n            <view id="page-card-split-line"></view>\n            <view id="page-card-img-container">\n              <view id="page-card-img-box" click-state="true">\n                <image id="page-card-img0" bubble-event="true"></image>\n                <image id="page-card-img1" bubble-event="true"></image>\n                <image id="page-card-img2" bubble-event="true"></image>\n                <image id="page-card-img3" bubble-event="true"></image>\n              </view>\n            </view>\n          </image>\n        </view>\n      </video>\n      <view id="video-touch-mask"></view>\n      <view id="video-mask"></view>\n      <view id="animation-card-click-mask" bubble-event="false"></view>\n    </view>\n    <view id="toast-container">\n      <view id="toast">\n        <text id="toast-text" value="sample"></text>\n      </view>\n    </view>\n    <view id="loading-container">\n      <view id="loading">\n        <image id="loading-image" src="https://wxa.wxs.qq.com/images/wxapp/loading-circle.gif" />\n        <text id="loading-text" value="加载中"></text>\n      </view>\n    </view>\n    \n  <view id="dynamic-container"></view>\n\n    <view id="card-container">\n      \n  <view id="playable-tips-wrap">\n    <text id="playable-tips-content" value="视频结束后可试玩"></text>\n    <text id="playable-give-up" value="放弃"></text>\n    <view id="playable-cancel-box" click-state="true"></view>\n  </view>\n\n      <view id="card-inner-container" click-state="true">\n        <view id="card" bubble-event="true">\n          <image id="app-icon" bubble-event="true"></image>\n          <view id="app-information" bubble-event="true">\n            <text id="app-name" bubble-event="true"></text>\n            <text id="app-wording" bubble-event="true"></text>\n          </view>\n          <view id="button-icon-container" click-state="true">\n            <image id="button-icon-img" bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/shop_bag_wxapp_white.png"></image>\n            <text id="button" bubble-event="true"></text>\n          </view>\n          <view id="download-button" click-state="true">\n            <text id="download-button-text" bubble-event="true"></text>\n            <text id="download-progress" bubble-event="true">\n              <text id="download-progress-text" bubble-event="true"></text>\n            </text>\n          </view>\n        </view>\n        <view id="card-line" bubble-event="true">\n          <view id="card-line-inner"></view>\n        </view>\n        <view id="card-ranking" bubble-event="true">\n          <image id="card-ranking-img" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/rankIcon.png"></image>\n          <text id="card-ranking-info" bubble-event="true" value="小游戏人气榜 TOP10"></text>\n        </view>\n        <view id="card-score" bubble-event="true">\n          <text id="card-score-title" bubble-event="true" value="应用宝评分"></text>\n          <image id="card-score-img1" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="card-score-img2" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="card-score-img3" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="card-score-img4" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="card-score-img5" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <text id="card-score-num" bubble-event="true" value="4.5分"></text>\n        </view>\n      </view>\n    </view>\n    \n  <view id="slide-tips-container">\n    <image id="slide-tips-mask" src="https://wxa.wxs.qq.com/images/wxapp/slide-tips-mask.png"></image>\n    <view id="slide-tips-click-area">\n      <text id="slide-tips" value="不感兴趣，换一个" bubble-event="true"></text>\n      <image id="slide-icon" src="https://wxa.wxs.qq.com/images/wxapp/slide-down.png" bubble-event="true"></image>\n    </view>\n  </view>\n  <image id="landscape-slide-tips-mask" src="https://wxa.wxs.qq.com/images/wxapp/landscape-slide-tips-mask.png"></image>\n  <view id="landscape-slide-tips-container">\n    <view id="landscape-slide-tips-group">\n      <text id="landscape-slide-tips-1" value="不感兴趣" bubble-event="true"></text>\n      <text id="landscape-slide-tips-2" value="换个看看" bubble-event="true"></text>\n    </view>\n    <image id="landscape-slide-icon" src="https://wxa.wxs.qq.com/images/wxapp/slide-down.png" bubble-event="true"></image>\n  </view>\n\n    \n  <view id="feed-guide-container">\n    <image id="feed-path" src="https://wxa.wxs.qq.com/images/wxapp/feed-path.png"></image>\n    <image id="feed-finger" src="https://wxa.wxs.qq.com/images/wxapp/feed-finger.png"></image>\n    <image id="feed-guide-tip" src="https://wxa.wxs.qq.com/images/wxapp/feed-guide-tip.png"></image>\n  </view>\n\n    \n  <view id="expand-card-container">\n    <view id="expand-card-info-container">\n      <view id="expand-card-wording-wrapper">\n        <view id="expand-card-headline" bubble-event="true">\n          <image id="expand-card-app-icon" bubble-event="true"></image>\n          <text id="expand-card-app-name" bubble-event="true"></text>\n        </view>\n        <text id="expand-card-app-wording" bubble-event="true"></text>\n        <view id="expand-page-ranking" bubble-event="true">\n          <image id="expand-page-ranking-img" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/rankIcon.png"></image>\n          <text id="expand-page-ranking-info" bubble-event="true" value="小游戏人气榜 TOP10"></text>\n        </view>\n        <view id="expand-page-score" bubble-event="true">\n          <text id="expand-page-score-title" bubble-event="true" value="应用宝评分"></text>\n          <image id="expand-page-score-img1" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="expand-page-score-img2" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="expand-page-score-img3" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="expand-page-score-img4" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="expand-page-score-img5" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <text id="expand-page-score-num" bubble-event="true" value="4.5分"></text>\n        </view>\n      </view>\n      <text id="expand-card-app-conversion"></text>\n      <view id="expand-card-button-container" click-state="true">\n        <image id="expand-card-button-icon" bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/shop_bag_wxapp_white.png"></image>\n        <text id="expand-card-button" bubble-event="true"></text>\n      </view>\n    </view>\n    <view id="expand-card-slide-tips-container">\n      <view id="expand-card-slide-tips-click-area">\n        <text id="expand-card-slide-tips" value="不感兴趣，换一个" bubble-event="true"></text>\n        <image id="expand-card-slide-icon" src="https://wxa.wxs.qq.com/images/wxapp/slide-down.png" bubble-event="true"></image>\n      </view>\n    </view>\n  </view>\n\n    \n  <view id="slideshow-container">\n    <view id="slideshow-img-window">\n      <view id="slideshow-img-container" bubble-event="true">\n        <image id="slideshow-img-0" bubble-event="true"></image>\n        <image id="slideshow-img-1" bubble-event="true"></image>\n        <image id="slideshow-img-2" bubble-event="true"></image>\n        <image id="slideshow-img-3" bubble-event="true"></image>\n        <image id="slideshow-img-4" bubble-event="true"></image>\n        <image id="slideshow-img-5" bubble-event="true"></image>\n        <image id="slideshow-img-6" bubble-event="true"></image>\n        <image id="slideshow-img-7" bubble-event="true"></image>\n      </view>\n    </view>\n    <view id="slideshow-img-mask"></view>\n    <view id="slideshow-img-dot-container">\n      <view id="slideshow-img-dot-0"></view>\n      <view id="slideshow-img-dot-1"></view>\n      <view id="slideshow-img-dot-2"></view>\n      <view id="slideshow-img-dot-3"></view>\n      <view id="slideshow-img-dot-4"></view>\n      <view id="slideshow-img-dot-5"></view>\n    </view>\n  </view>\n\n    \n  <view id="slideshow-card-container">\n    <image id="slideshow-card-mask" src="https://wxa.wxs.qq.com/images/wxapp/bottom-mask.png"></image>\n    <view id="slideshow-card-info-container">\n      <view id="slideshow-card-main-info">\n        <image id="slideshow-card-app-icon"></image>\n        <view id="slideshow-card-wording-group">\n          <text id="slideshow-card-app-name"></text>\n          <text id="slideshow-card-app-wording"></text>\n        </view>\n      </view>\n      <view id="slideshow-card-extra-info">\n        <view id="slideshow-card-split-line"></view>\n        <view id="slideshow-card-ranking" bubble-event="true">\n          <image id="slideshow-card-ranking-img" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/rankIcon.png"></image>\n          <text id="slideshow-card-ranking-info" bubble-event="true" value="小游戏人气榜 TOP10"></text>\n        </view>\n        <view id="slideshow-card-score" bubble-event="true">\n          <text id="slideshow-card-score-title" bubble-event="true" value="应用宝评分"></text>\n          <image id="slideshow-card-score-img1" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="slideshow-card-score-img2" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="slideshow-card-score-img3" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="slideshow-card-score-img4" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="slideshow-card-score-img5" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <text id="slideshow-card-score-num" bubble-event="true" value="4.5分"></text>\n        </view>\n        <text id="slideshow-card-app-conversion"></text>\n      </view>\n      <text id="slideshow-card-button" value="查看" click-state="true"></text>\n    </view>\n  </view>\n\n    \n<view id="bottom-card-container">\n  <view id="bottom-card-inner-container" bubble-event="true" click-state="false">\n    <view id="bottom-card" bubble-event="true">\n      <image id="bottom-card-app-icon" bubble-event="false"></image>\n      <image id="bottom-card-app-icon-large" bubble-event="false"></image>\n      <view id="bottom-card-app-information" bubble-event="true">\n        <text id="bottom-card-app-name" bubble-event="false"></text>\n        <text id="bottom-card-app-wording" bubble-event="false"></text>\n        <text id="bottom-card-conversion" bubble-event="false"></text>\n        <view id="bottom-card-ranking" bubble-event="false">\n          <image id="bottom-card-ranking-img" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/rankIcon.png"></image>\n          <text id="bottom-card-ranking-info" bubble-event="true" value="小游戏人气榜 TOP10"></text>\n        </view>\n        <view id="bottom-card-category" bubble-event="false">\n          <text id="bottom-card-category-name1" bubble-event="true" value=""></text>\n          <text id="bottom-card-category-name2" bubble-event="true" value=""></text>\n          <text id="bottom-card-act-info" bubble-event="true" value=""></text>\n        </view>\n        <view id="bottom-card-score" bubble-event="false">\n          <text id="bottom-card-score-title" bubble-event="true" value="应用宝评分"></text>\n          <image id="bottom-card-score-img1" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="bottom-card-score-img2" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="bottom-card-score-img3" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="bottom-card-score-img4" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <image id="bottom-card-score-img5" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n          <text id="bottom-card-score-num" bubble-event="true" value="4.5分"></text>\n        </view>\n      </view>\n    </view>\n    <view id="bottom-card-button-container" click-state="true">\n      <image id="bottom-card-button-icon"  bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/shop_bag_wxapp_white.png"></image>\n      <text id="bottom-card-button" bubble-event="true"></text>\n    </view>\n    <text id="bottom-card-bottom-landpage-tips" value=""></text>\n    <view id="bottom-card-hover-landpage-tips">\n      <view id="bottom-card-hover-landpage-tips-capsule">\n        <image id="bottom-card-hover-landpage-tips-capsule-icon" src="https://wxa.wxs.qq.com/images/wxapp/landpage-tips-clock.png"></image>\n        <text id="bottom-card-hover-landpage-tips-capsule-text" value=""></text>\n      </view>\n      <view id="bottom-card-hover-landpage-tips-triangle-wrap">\n        <image id="bottom-card-hover-landpage-tips-triangle" src="https://wxa.wxs.qq.com/images/wxapp/landpage-tips-triangle.png"></image>\n      </view>\n    </view>\n  </view>\n</view>\n\n    \n  <view id="feed-card-container">\n    <image id="feed-card-mask" src="https://wxa.wxs.qq.com/images/wxapp/bottom-mask.png"></image>\n    <view id="feed-card-info-container">\n      <view id="feed-card-main-info">\n        <image id="feed-card-app-icon"></image>\n        <view id="feed-card-wording-group">\n          <text id="feed-card-app-name"></text>\n          <text id="feed-card-app-wording"></text>\n        </view>\n      </view>\n      <view id="feed-card-extra-info">\n        <view id="feed-card-split-line"></view>\n        <text id="feed-card-app-conversion"></text>\n      </view>\n      <text id="feed-card-button" value="查看" click-state="true"></text>\n    </view>\n  </view>\n\n    \n  <view id="pendant-container"></view>\n\n    \n  <view id="default-page-container">\n    <view id="default-page-background-container">\n      <image id="default-page-background-image"></image>\n      <view id="default-page-background-mask"></view>\n    </view>\n    <view id="default-page-info-container">\n      <view id="default-page-wording-wrapper">\n        <view id="default-page-headline" bubble-event="true">\n          <image id="default-page-app-icon" bubble-event="true"></image>\n          <text id="default-page-app-name" bubble-event="true"></text>\n        </view>\n        <text id="default-page-app-wording" bubble-event="true"></text>\n       \n  <view id="default-page-ranking" bubble-event="true">\n    <image id="default-page-ranking-img" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/rankIcon.png"></image>\n    <text id="default-page-ranking-info" bubble-event="true" value="小游戏人气榜 TOP10"></text>\n  </view>\n  <view id="default-page-score" bubble-event="true">\n    <text id="default-page-score-title" bubble-event="true" value="应用宝评分"></text>\n    <image id="default-page-score-img1" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="default-page-score-img2" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="default-page-score-img3" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="default-page-score-img4" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="default-page-score-img5" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <text id="default-page-score-num" bubble-event="true" value="4.5分"></text>\n  </view>\n\n      </view>\n      <text id="default-page-app-conversion"></text>\n      <view id="default-page-button-container" click-state="true">\n        <image id="default-page-button-icon" bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/shop_bag_wxapp_white.png"></image>\n        <text id="default-page-button" bubble-event="true"></text>\n      </view>\n      <view id="default-page-guide">\n        <image id="default-page-ellipse" src="https://wxa.wxs.qq.com/images/wxapp/endpage-ellipse.png"></image>\n        <image id="default-page-finger" src="https://wxa.wxs.qq.com/images/wxapp/endpage-finger.png"></image>\n        <text id="default-page-guide-text" value="轻触了解更多"></text>\n      </view>\n    </view>\n    <view id="default-page-slide-tips-container">\n      <view id="default-page-slide-tips-click-area">\n        <text id="default-page-slide-tips" value="3 秒后自动更换" bubble-event="true"></text>\n        <image id="default-page-slide-icon" src="https://wxa.wxs.qq.com/images/wxapp/slide-down.png" bubble-event="true"></image>\n      </view>\n    </view>\n  </view>\n\n    \n  <view id="animation-card-container">\n    <view id="animation-card-info-container">\n      <view id="animation-card-wording-wrapper">\n        <view id="animation-card-headline" bubble-event="true">\n          <image id="animation-card-app-icon" bubble-event="true"></image>\n          <text id="animation-card-app-name" bubble-event="true"></text>\n        </view>\n        <text id="animation-card-app-wording" bubble-event="true"></text>\n       \n  <view id="animation-card-ranking" bubble-event="true">\n    <image id="animation-card-ranking-img" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/rankIcon.png"></image>\n    <text id="animation-card-ranking-info" bubble-event="true" value="小游戏人气榜 TOP10"></text>\n  </view>\n  <view id="animation-card-score" bubble-event="true">\n    <text id="animation-card-score-title" bubble-event="true" value="应用宝评分"></text>\n    <image id="animation-card-score-img1" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="animation-card-score-img2" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="animation-card-score-img3" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="animation-card-score-img4" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <image id="animation-card-score-img5" bubble-event="true" src="https://wxa.wxs.qq.com/images/factory/fullStar.png"></image>\n    <text id="animation-card-score-num" bubble-event="true" value="4.5分"></text>\n  </view>\n\n        <text id="animation-card-button" click-state="true"></text>\n        <text id="animation-card-app-conversion"></text>\n      </view>\n    </view>\n  </view>\n\n    \n  <view id="page-container">\n    <view id="page-img-container">\n      <view id="page-img-box">\n        <image id="page-img0" bubble-event="true"></image>\n        <image id="page-img1" bubble-event="true"></image>\n        <image id="page-img2" bubble-event="true"></image>\n      </view>\n      <view id="page-img-tips">\n        <view id="page-img-icon0"></view>\n        <view id="page-img-icon1"></view>\n        <view id="page-img-icon2"></view>\n      </view>\n    </view>\n    <view id="page-info-container">\n      <view id="page-info-wrapper">\n        <image id="page-app-icon"></image>\n        <text id="page-app-name"></text>\n        <text id="page-app-wording"></text>\n        <text id="page-app-conversion"></text>\n        <text id="page-button" click-state="true"></text>\n        <view id="page-download-button" click-state="true">\n          <text id="page-download-button-text" bubble-event="true"></text>\n          <text id="page-download-progress" bubble-event="true">\n            <text id="page-download-progress-text" bubble-event="true"></text>\n          </text>\n        </view>\n      </view>\n    </view>\n  </view>\n\n    \n  <view id="playable-pendant-expand">\n    <view id="playable-pendant-border-fix-expand"></view>\n    <view id="playable-pendant-expand-background"></view>\n    <view id="playable-pendant-arrow-fold-group">\n      <image bubble-event="true" id="playable-pendant-arrow-fold" src="https://wxa.wxs.qq.com/images/wxapp/pendant-arrow-right.png"></image>\n    </view>\n    <image id="playable-pendant-app-icon"></image>\n    <view id="playable-pendant-info-group">\n      <text id="playable-pendant-app-name"></text>\n      <text id="playable-pendant-app-wording"></text>\n      <text id="playable-pendant-app-conversion"></text>\n      <text id="playable-pendant-app-ranking"></text>\n    </view>\n    <text id="playable-pendant-button" value="前往" click-state="true"></text>\n  </view>\n  <view id="playable-pendant-fold">\n    <view id="playable-pendant-border-fix-fold"></view>\n    <view id="playable-pendant-fold-background"></view>\n    <view id="playable-pendant-arrow-expand-group">\n      <image bubble-event="true" id="playable-pendant-arrow-expand" src="https://wxa.wxs.qq.com/images/wxapp/pendant-arrow-left.png"></image>\n    </view>\n    <view id="playable-pendant-abbr-group">\n      <image id="playable-pendant-phone-image" src="https://wxa.wxs.qq.com/images/wxapp/pendant-phone.png"></image>\n      <image id="playable-pendant-phone-app-icon"></image>\n      <text id="playable-pendant-abbr-tips" bubble-event="false" value="正在试玩"></text>\n    </view>\n  </view>\n  <view id="playable-pendant-touch-mask"></view>\n\n    \n  <view id="playable-loading">\n    <image id="playable-loading-background" src="https://wxa.wxs.qq.com/images/wxapp/playable-background.png"></image>\n    <view id="playable-loading-logo-group">\n      <image id="playable-loading-logo" src="https://wxa.wxs.qq.com/images/wxapp/playable-loading-phone.png"></image>\n      <image id="playable-loading-app-icon"></image>\n    </view>\n    <text id="playable-loading-tips" value="试玩小游戏，即可获得奖励"></text>\n    <view id="playable-loading-progress-bar">\n      <view id="playable-loading-progress-bar-inner"></view>\n      <view id="playable-loading-progress-bar-wrapper"></view>\n    </view>\n  </view>\n  <view id="playable-backboard">\n    <image id="playable-backboard-image" src="https://wxa.wxs.qq.com/images/wxapp/playable-background.png"></image>\n  </view>\n\n    \n  <view id="playable-endpage">\n    <view id="playable-endpage-background-container">\n      <image id="playable-endpage-background" src="https://wxa.wxs.qq.com/images/wxapp/playable-background.png"></image>\n      <image id="playable-endpage-background-landscape" src="https://wxa.wxs.qq.com/images/wxapp/playable-background-landscape.png"></image>\n      <image id="playable-endpage-background-adorn" src="https://wxa.wxs.qq.com/images/wxapp/playable-endpage-adorn.png"></image>\n    </view>\n    <view id="playable-endpage-main-wrapper">\n      <view id="playable-endpage-placeholder">\n        <view id="playable-endpage-placeholder-card">\n        </view>\n      </view>\n      <view id="playable-endpage-main-group">\n        <text id="playable-endpage-text" value="试玩已结束"></text>\n        <text id="playable-endpage-text2" value="前往继续体验"></text>\n        <view id="playable-endpage-info-group">\n          <image bubble-event="true" id="playable-endpage-info-app-cover"></image>\n          <view bubble-event="true" id="playable-endpage-info-bar">\n            <image bubble-event="true" id="playable-endpage-app-icon"></image>\n            <view bubble-event="true" id="playable-endpage-info-wording-group">\n              <text bubble-event="true" id="playable-endpage-app-title"></text>\n              <text bubble-event="true" id="playable-endpage-app-wording"></text>\n              <text bubble-event="true" id="playable-endpage-app-conversion"></text>\n              <text bubble-event="true" id="playable-endpage-app-ranking"></text>\n            </view>\n          </view>\n        </view>\n        <text id="playable-endpage-button" value="前往小游戏" click-state="true"></text>\n      </view>\n    </view>\n  </view>\n\n    <view id="page-handler"></view>\n    <view id="page-mask"></view>\n    \n  <view id="top-bar">\n    <view id="bar-left">\n      <view id="count">\n        <view id="ad-feedback">\n          <text id="ad-text" value="广告" bubble-event="true"></text>\n          <image id="rectangle" src="https://wxa.wxs.qq.com/images/wxapp/dropdown-arrow-white.png" bubble-event="true"></image>\n          <image id="rectangle-light" src="https://wxa.wxs.qq.com/images/wxapp/dropdown-arrow-black.png" bubble-event="true"></image>\n          <view id="split-line-left" bubble-event="true"></view>\n        </view>\n        <image id="left-time-icon" src="https://wxa.wxs.qq.com/images/wxapp/time.png"></image>\n        <text id="count-down-prepend" value="试玩"></text>\n        <text id="count-down"></text>\n        <text id="count-down-append"></text>\n      </view>\n    </view>\n    <view id="bar-center">\n      <image id="time-icon" src="https://wxa.wxs.qq.com/images/wxapp/time.png"></image>\n      <view id="center-count-down">\n        <text id="center-count-down-left-text" value="滑动看视频"></text>\n        <text id="center-count-down-number" value="30"></text>\n        <text id="center-count-down-right-text" value="秒获得奖励"></text>\n      </view>\n      <text id="center-count-down-finish" value="已获得奖励"></text>\n    </view>\n    <view id="bar-right">\n      <image id="sound"></image>\n      <view id="split-line"></view>\n      <text id="close" value="关闭"></text>\n    </view>\n  </view>\n  <view id="ad-feedback-list">\n    <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <view id="ad-close-btn-line-dislike1"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n  </view>\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line-dislike2"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line-dislike3"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n\n    <view id="dialog-close-tip">\n      <view id="ad-close-tip-wrap">\n        <text id="ad-close-tip-content" bubble-event="true" value="感谢你的反馈"></text>\n      </view>\n    </view>\n    \n    <view id="dialog-container">\n      <view id="dialog-mask"></view>\n      <view id="dialog">\n        <view id="dialog-title-container">\n          <text id="dialog-title"></text>\n        </view>\n        <view id="dialog-split"></view>\n        <view id="dialog-button">\n          <text id="dialog-close" value="放弃"></text>\n          <view id="button-split"></view>\n          <text id="dialog-cancel" value="继续"></text>\n        </view>\n      </view>\n    </view>\n    \n  <view id="drama-ad-dialog-container">\n    <view id="drama-ad-dialog-mask"></view>\n    <view id="drama-ad-dialog">\n        <view id="drama-ad-dialog-title-container">\n            <view id="drama-ad-dialog-toptitle">\n                <view id="drama-ad-dialog-toptitle-leftline"></view>\n                <text id="drama-ad-dialog-toptitle-text" value="惊喜掉落"></text>\n                <view id="drama-ad-dialog-toptitle-rightline"></view>\n            </view>\n            <text id="drama-ad-dialog-title" value="送你免费解锁下一集"></text>\n        </view>\n        <view id="drama-ad-dialog-image-container">\n            <image id="drama-ad-dialog-image" src="https://wxa.wxs.qq.com/images/wxapp/drama_reward_unlock.png" />\n        </view>\n        <view id="drama-ad-dialog-button-container">\n            <view id="drama-ad-dialog-button-confirm" click-state="true">\n                <text id="drama-ad-dialog-button-confirm-text" bubble-event="true" value="领取并观看"></text>\n            </view>\n            <view id="drama-ad-dialog-button-cancel" click-state="true">\n                <text id="drama-ad-dialog-button-cancel-text" bubble-event="true" value="直接关闭"></text>\n            </view>\n        </view>\n    <view>\n  </view>\n\n  </view>\n');xB=e}return xB})(),Tk);var d=Date.now();t.container.nextUpdate((()=>{var e=Date.now();t.adProxy.reportAdMonitorData(wp,{costTime:d-l}),t.adProxy.reportAdMonitorData(Tp,{costTime:e-l})})),aW.call(this),oM.call(this),IV.call(this,!0);var{screenWidth:c,screenHeight:p}=GB;t.videoElems={0:t.video},t.container.style.width=c,t.container.style.height=p,t.container.style.top=p,t.container.style.hidden=!0,t.topBar.style.width=c,t.slideTipsContainer.style.width=c,t.slideTipsMask.style.width=c,t.landscapeSlideTipsMask.style.height=p,rN.call(this,"muted",!0),t.appIcon.src=nV,rR.call(this),GB.isIOS&&(t.video.obeyMuteSwitch=!0),zB.add(t.container),sV&&(t.topBar.style.top=t.topBar.style.top+30,t.adFeedbackList.style.top=t.adFeedbackList.style.top+30,t.adFeedbackMenu.style.top=t.adFeedbackMenu.style.top+30);yV.call(this,["dialogContainer","dialogMask"]),t.dialog.style.top=p>138?(p-138)/2:0,t.dialog.style.left=c>300?(c-300)/2:0,GB.isWaGame||(t.container.fullscreen=!0,t.isFullscreen=!1),t.loadPromise=null;var u=wV.call(this);if(u.catch((()=>{})),t.adFetchResult=u,t.isSwitched=!1,GB.isWaGame||NB((()=>{if(!WV.call(this)){var{openType:e,createWebviewId:i,lastWebviewId:a}=t.adProxy.getWebviewInfo();if(["navigateTo","switchTab"].includes(e)&&i===a&&(t.isSwitched=!0),["navigateBack","navigateTo"].includes(e)&&i===a&&CO.call(this)&&t.isData){var n=t.isFullscreen?TB.HIDE_FOR_BACK:TB.NAVIGATE_BEFORE_ANIMATE;kR.call(this,{button:6}),kV.call(this,n)}}})),t.close.on("click",(e=>{GR.call(this,e,!1)&&RV.call(this)})),t.dialogClose.on("click",(e=>{GR.call(this,e,!1)&&(t.dialogContainer.style.hidden=!0,t.adProxy.setTimePoint(Of),kV.call(this),kR.call(this,{button:1}))})),t.dialogCancel.on("click",(e=>{GR.call(this,e,!1)&&(t.isDialogOpened=!1,t.dialogContainer.style.hidden=!0,t.adProxy.setTimePoint(Mf),_M.call(this),hO.call(this)?(t.showDialogContainer=!1,OV.call(this)):(UM.call(this)&&tN.call(this),cO.call(this)&&(Lk.call(this,"play"),Ik.call(this))),kR.call(this,{button:2}))})),t.dramaAdDialogButtonCancel.on("click",(e=>{GR.call(this,e,!1)&&(t.dramaAdDialogContainer.style.hidden=!0,t.adProxy.setTimePoint(Yf),t.adProxy.reportAdMonitorData(lu,{dramaInfo:t.dramaInfo}),kR.call(this,{button:1}),kV.call(this))})),t.dramaAdDialogButtonConfirm.on("click",(e=>{GR.call(this,e,!1)&&(t.isDialogOpened=!1,t.dramaAdDialogContainer.style.hidden=!0,t.adProxy.setTimePoint($f),t.adProxy.reportAdMonitorData(su,{dramaInfo:t.dramaInfo}),gM.call(this),t.isRewarded=!0,kR.call(this,{button:4}),kV.call(this))})),t.sound.on("click",(e=>{GR.call(this,e,!1)&&(rN.call(this,"muted",!t.isSoundMuted),TL.call(this)&&oW.call(this),qO.call(this)&&(t.isSoundMuted?t.innerAudioContext.pause():t.innerAudioContext.play()))})),uW.call(this),VL.call(this),qB("onVideoResourceLoad",Gk.bind(this)),t.touchWatcher.onSlide(FM.bind(this)),t.playableCancelBox.on("click",hR.bind(this)),t.pageButton.on("click",RN.call(this,of.REWARD_OLD_ENDPAGE_BUTTON,"button")),t.defaultPageButtonContainer.on("click",xR.call(this,"button")),t.defaultPageAppIcon.on("click",xR.call(this,"logo")),t.defaultPageAppName.on("click",xR.call(this,"wording")),t.defaultPageAppWording.on("click",xR.call(this,"wording")),t.defaultPageWordingWrapper.on("click",xR.call(this,"wrapper")),t.defaultPageRanking.on("click",xR.call(this,"ranking")),t.defaultPageScore.on("click",xR.call(this,"score")),t.defaultPageFinger.on("click",xR.call(this,"guide")),t.defaultPageEllipse.on("click",xR.call(this,"guide")),t.defaultPageGuideText.on("click",xR.call(this,"guide")),t.expandCardButtonContainer.on("click",BN.call(this,"button")),t.expandCardAppIcon.on("click",BN.call(this,"logo")),t.expandCardAppName.on("click",BN.call(this,"wording")),t.expandCardAppWording.on("click",BN.call(this,"wording")),t.expandCardWordingWrapper.on("click",BN.call(this,"wrapper")),t.expandPageRanking.on("click",BN.call(this,"ranking")),t.expandPageScore.on("click",BN.call(this,"score")),t.slideshowCardButton.on("click",HN.call(this,"button")),t.slideshowCardAppIcon.on("click",HN.call(this,"logo")),t.slideshowCardAppName.on("click",HN.call(this,"wording")),t.slideshowCardAppWording.on("click",HN.call(this,"wording")),t.slideshowCardRanking.on("click",HN.call(this,"ranking")),t.slideshowCardScore.on("click",HN.call(this,"score")),t.slideshowCardAppConversion.on("click",HN.call(this,"conversion")),t.feedCardButton.on("click",VN.call(this,"button")),t.feedCardAppIcon.on("click",VN.call(this,"logo")),t.feedCardAppName.on("click",VN.call(this,"wording")),t.feedCardAppWording.on("click",VN.call(this,"wording")),t.feedCardAppConversion.on("click",VN.call(this,"conversion")),t.animationCardButton.on("click",FN.call(this,"button")),t.animationCardAppIcon.on("click",FN.call(this,"logo")),t.animationCardAppName.on("click",FN.call(this,"wording")),t.animationCardAppWording.on("click",FN.call(this,"wording")),t.animationCardRanking.on("click",FN.call(this,"ranking")),t.animationCardScore.on("click",FN.call(this,"score")),t.animationCardClickMask.on("click",FN.call(this,"videoClickMask")),t.bottomCardButtonContainer.on("click",GN.call(this,"button")),t.bottomCardContainer.on("click",GN.call(this,"container")),t.bottomCardAppName.on("click",GN.call(this,"name")),t.bottomCardAppWording.on("click",GN.call(this,"wording")),t.bottomCardConversion.on("click",GN.call(this,"conversion")),t.bottomCardRanking.on("click",GN.call(this,"ranking")),t.bottomCardScore.on("click",GN.call(this,"score")),t.bottomCardCategory.on("click",GN.call(this,"category")),t.bottomCardAppIcon.on("click",GN.call(this,"icon")),t.bottomCardAppIconLarge.on("click",GN.call(this,"icon")),t.buttonIconContainer.on("click",RN.call(this,of.REWARD_CARD_BUTTON,"button")),t.card.on("click",RN.call(this,of.REWARD_CARD)),t.cardRanking.on("click",RN.call(this,of.REWARD_CARD_RANKING)),t.cardScore.on("click",RN.call(this,of.REWARD_CARD_SCORE)),t.downloadButton.on("click",WN.bind(this)),t.pageDownloadButton.on("click",WN.bind(this)),t.slideTipsClickArea.on("click",oN.bind(this)),t.expandCardSlideTipsClickArea.on("click",oN.bind(this)),t.defaultPageSlideTipsClickArea.on("click",oN.bind(this)),t.landscapeSlideTipsContainer.on("click",oN.bind(this)),t.pageHandler.on("touchstart",cR.bind(this)),t.pageHandler.on("touchmove",pR.bind(this)),t.pageHandler.on("touchend",uR.bind(this)),tM.call(this),t.onShow=jV.bind(this),t.onHide=UV.bind(this),t.onWindowResize=zV.bind(this),t.onBeforeHide=GV.bind(this),SB(t.onShow),kB(t.onHide),LB(t.onWindowResize),OB(t.onBeforeHide),!0===n){var h=GB.isWaGame?"count":`count_${t.adProxy.getWebviewInfo().currentWebviewId}`,g=(sk(h,t.adType)||0)+1;rk(h,t.adType,g),g>=5&&(i.warn(`系统检测到您创建的激励视频广告实例过多，由于您当前使用的是多例模式，为避免影响${GB.isWaGame?"小游戏":"小程序"}性能，请减少实例创建数量或调用destroy方法销毁无用的实例`),5===g&&t.adProxy.reportAdMonitorData(Zs))}}load(){if(WV.call(this))return Promise.reject({errMsg:gV});var e=QB(this);if(e.isShowed)return e.isShowFailed?kV.call(this,TB.SHOW_FAIL):Promise.reject({errMsg:"can't invoke load() while video-ad is showed"});if(e.isData)return Promise.resolve();var t=wV.call(this);return e.adFetchResult=t.catch((t=>{var i=-12001===t.errCode?{errMsg:"RewardedVideoAd fail no permission"}:t;throw e.adProxy.setTimePoint(Hf),e.emitter.emit("_error",i),i})),e.adFetchResult}show(e={}){var t=this;return b()((function*(){var i=QB(t);try{var a,n,o;if(WV.call(t))return i.adProxy.setTimePoint(Gf),Promise.reject({errMsg:gV});if(null!==(a=S.expt)&&void 0!==a&&null!==(n=a[GO()])&&void 0!==n&&n.groupid){var r=S.expt[GO()];i.adProxy.reportAdMonitorData(zp,{groupid:r.groupid,canUseMb:RO.call(t),isMbAd:DO.call(t)})}if(i.adProxy.setTimePoint(xf),RO.call(t))try{var s;i.adProxy.prefetchAdData(!1,{},xV.call(t,!0));var l=yield null==i||null===(s=i.mb)||void 0===s?void 0:s.show(e);return Promise.resolve(l)}catch(e){var d=(null==e?void 0:e.errMsg)||"";return d===vB.CONNECT_FAIL?(i.adProxy.setTimePoint(Gf),Promise.reject({errMsg:"system error"})):d===vB.NO_SETADDATA?(i.isData,i.adProxy.setTimePoint(Gf),Promise.reject({errMsg:"no advertisement data available, please invoke load()"})):(i.adProxy.setTimePoint(Gf),Promise.reject(e))}if(i.isShowed)return Promise.resolve();if(!i.isData)return i.adProxy.setTimePoint(Gf),Promise.reject({errMsg:"no advertisement data available, please invoke load()"});var c=null===(o=i.data)||void 0===o?void 0:o.antifraudPopup;if(c)try{if(!1===(yield PB.call(t)))return i.adProxy.setTimePoint(Gf),Promise.reject({errMsg:"user cancel"})}catch(e){}var p=!1;try{if(!c&&!i.isSkitAd)p=(yield FB()).isUseAdSkipCard}catch(e){}if(p)return BB(),i.adProxy.setTimePoint(Ff),i.emitter.emit("close",{isEnded:!0}),i.adProxy.reportAdMonitorData(hd),BV.call(t),Promise.resolve();if(1===(sk("show",i.adType)||0))return i.adProxy.reportAdMonitorData(ll),i.adProxy.setTimePoint(Gf),Promise.reject({errMsg:"can't invoke show() while other video-ad is showed"});var u=i.adProxy.getWebviewInfo();if(u.createWebviewId!==u.currentWebviewId)return i.adProxy.reportAdMonitorData(Rp,u),i.adProxy.setTimePoint(Gf),Promise.reject({errMsg:"you can only invoke show() on the page where rewardedVideoAd is created"});yield HV.call(t,e)}catch(e){throw i.adProxy.reportAdMonitorData(Yp,e),e}}))()}reportShareBehavior(e){if(!WV.call(this)){if(!e)return{success:!1,message:"参数不可为空"};var t=QB(this),i={operation:0,currentShow:0,inviteUser:"",inviteUserAdunit:"",strategy:0,shareValue:0,rewardValue:0,depositAmount:0},a=[],n=e=>(t.adProxy.reportAdMonitorData(Hd,e),{success:!1,message:e});if(6===e.operation){if(!e.inviteUser||"string"!=typeof e.inviteUser)return n("operation 为 6 时，inviteUser 不可为空");if(a.push("inviteUser"),"string"==typeof e.inviteUserAdunit){if(!/^adunit-[a-z\d]{16}$/.test(e.inviteUserAdunit))return n("inviteUserAdunit 格式有误，应为 adunit-[a-z0-9]{16}");a.push("inviteUserAdunit")}}else{if(![1,2,3,4,5].includes(e.operation))return n("operation 必须为 1-6 的数字");if(null==e.currentShow||![0,1].includes(e.currentShow))return n("operation 为 1-5 时，currentShow 必须为 0 或 1");if(a.push("currentShow"),"number"==typeof e.strategy){if(![0,1].includes(e.strategy))return n("strategy 必须为 0 或 1");a.push("strategy")}}return null==e.shareValue?n("分享推荐值 shareValue 不可为空"):null==e.rewardValue?n("激励广告推荐值 rewardValue 不可为空"):(a.push("operation","shareValue","rewardValue"),null!=e.depositAmount&&a.push("depositAmount"),Object.assign(i,q(e,a)),t.adProxy.reportShareBehavior(i),t.adProxy.reportAdIDKey({key:Vd}),{success:!0,message:"上报成功"})}}isReady(){return!WV.call(this)&&QB(this).isData}destory(){LV.call(this)}destroy(){LV.call(this)}onError(e){WV.call(this)||QB(this).emitter.on("_error",e)}offError(e){WV.call(this)||QB(this).emitter.off("_error",e)}onLoad(e){WV.call(this)||QB(this).emitter.on("load",e)}offLoad(e){WV.call(this)||QB(this).emitter.off("load",e)}onClose(e){if(!WV.call(this)){var t=QB(this);t.emitter.on("close",e),e&&"function"==typeof e&&(t.closeEventCount+=1,t.closeEventCount>1&&i.warn("激励视频广告组件检测到您绑定了多次 onClose 事件，绑定重复的事件会产生多次重复的回调，请确认您绑定的事件是否重复，以免造成事件重复回调问题。"))}}offClose(e){if(!WV.call(this)){var t=QB(this);t.emitter.off("close",e),e&&"function"==typeof e&&t.closeEventCount>0&&(t.closeEventCount-=1),e||(t.closeEventCount=0)}}}var mV=function(e){var t=QB(this);WV.call(this)||dV&&!t.mb&&(t.mb=new wB(e,{onLoad:e=>{t.adProxy.setTimePoint(Vf),t.emitter.emit("load",e)},onClose:e=>{t.adProxy.setTimePoint(Ff),t.emitter.emit("close",e)},resetStatus:()=>SV.call(this,TB.MB_RESET),setTimePoint:e=>t.adProxy.setTimePoint(e),getTimePoints:()=>{var e,i;return null===(e=(i=t.adProxy).getTimePoints)||void 0===e?void 0:e.call(i)},operateFullscreen:e=>t.adProxy.operateFullscreen(e?"hide":"show")}))},yV=function(e){if(!WV.call(this)){var t=QB(this);if("object"==typeof e&&e.length>0)for(var i of e)t[i]&&(t[i].style.width=GB.screenWidth,t[i].style.height=GB.screenHeight)}},vV=function(){var e=b()((function*(e){var t=QB(this);gO.call(this)||(yield t.adProxy.operateFullscreen(e))}));return function(t){return e.apply(this,arguments)}}(),_V=function(){var e=b()((function*(){if(WV.call(this))throw{errMsg:gV};var e=QB(this),{screenWidth:t,screenHeight:i}=GB;yield vV.call(this,"hide"),GB.isWaGame||(e.adProxy.setPageOrientation(GB.deviceOrientation),GB.isAndroid&&(e.updateScreenInfoTimer&&(clearTimeout(e.updateScreenInfoTimer),e.updateScreenInfoTimer=null),e.updateScreenInfoTimer=setTimeout((()=>{UB();var a=!1,n=0;GB.screenHeight===i&&GB.screenWidth===t||(a=!0,n=GB.screenHeight-i),n&&(e.cardContainer.style.top+=n);var o=["container","dialogContainer","dialogMask","expandCardContainer","defaultPageInfoContainer","defaultPageBackgroundContainer","defaultPageBackgroundMask","videoBackgroundContainer","videoBackgroundMask","animationCardContainer","toastContainer","feedGuideContainer"];cO.call(this)&&(o.push("videoContainer"),o.push("video")),yV.call(this,o),a&&cO.call(this)&&(WD.call(this,!0),gR.call(this),Dk.call(this))}),1e3)))}));return function(){return e.apply(this,arguments)}}(),EV=function(){var e=b()((function*(){if(WV.call(this))throw{errMsg:gV};var e=QB(this);try{yield vV.call(this,"show").then((()=>{GB.isWaGame||e.adProxy.setPageOrientation(lV)}))}catch(t){throw e.adProxy.reportAdMonitorData(yl,t),t}}));return function(){return e.apply(this,arguments)}}(),xV=function(e=!1){var t,i,a,n=QB(this),o={};if(null!==n.adRequestType&&(o.requestType=n.adRequestType),null!==(t=S.expt)&&void 0!==t&&null!==(i=t[GO()])&&void 0!==i&&i.groupid&&!e){var r=S.expt[GO()];n.adProxy.reportAdMonitorData(dV?Gp:Up,{exptid:r.exptid,groupid:r.groupid,name:r.name,value:r.value}),o.weappExptCtx=[{exptid:r.exptid,groupid:r.groupid,name:r.name,value:r.value}]}else null!==(a=S.expt)&&void 0!==a&&a[GO()]&&!e?n.adProxy.reportAdMonitorData(Up,{noGroupId:!0,hitMbExp:dV}):e||n.adProxy.reportAdIDKey({key:Up});return o},bV=function(){var e=QB(this),t={};return e.isSkitAd&&(t.uxinfo=e.adProxy.data.uxinfo),t},wV=function(){var e=b()((function*(e=TB.NONE){if(WV.call(this))throw{errMsg:gV};var t=QB(this);t.loadPromise||(t.loadPromise=TV.call(this)),yield t.loadPromise,t.loadPromise=null,e===TB.REPLACE_AD||RO.call(this)||BV.call(this)}));return function(){return e.apply(this,arguments)}}(),TV=function(){var e=b()((function*(){if(WV.call(this))throw{errMsg:gV};var e=QB(this);e.mb&&e.adProxy.setTimePoint(am),yield pV;var t=yield e.adProxy.fetch(!1,{},xV.call(this));if(WV.call(this))throw{errMsg:gV};if(e.mb&&e.adProxy.setTimePoint(nm),_O.call(this)&&uO.call(this))throw new Error("广告数据为空");Uk.call(this,e.video,0);try{e.adProxy.setTimePoint(mf);var a,n=Object.keys(e.emitter.emitter).includes("_events")?Object.keys(e.emitter.emitter._events):[];if("devtools"===GB.platform&&!n.includes("_error"))return void i.error("您没有设置onError函数，该函数用于处理广告拉取的异常。请至少处理两种情况：1.调用正常，但没有合适的广告返回给用户。 2. 错误的调用导致的异常返回。 几种情况的详细描述，请查看《小游戏开发者文档》。（无广告返回时，建议不设置激励视频入口）");if(!t||(null==t?void 0:t.length)<=0)throw new Error("广告数据为空");e.data=t[0],e.isData=!0;try{var o,r,s,l,d=1e3*(null===(o=e.data)||void 0===o||null===(r=o.condition)||void 0===r?void 0:r.widget_gray_rewarded_video_refetch_time)||0,c=(null===(s=e.data)||void 0===s||null===(l=s.condition)||void 0===l?void 0:l.widget_gray_rewarded_video_recache)||0,p=xV.call(this),u=e.adProxy.canUsePreLoadCache(p);d&&c&&!e.isPrefetchEmited&&u&&(((e,t,i)=>{if(!e||!t||"rewardedVideoAd"!==e)throw{errMsg:"not rewaredVideoAd or no adUnitId"};if(i&&Cu&&i===Au)throw{errMsg:"Has same timer already: ",refetchTime:i};i?(clearTimeout(Cu),Au=i,Cu=setTimeout((()=>{Ou(e,t,Au)}),Au)):Mu(e,t)})(e.adType,e.adUnitId,d),e.isPrefetchEmited=!0,e.adProxy.reportAdMonitorData(Vc))}catch(t){e.adProxy.reportAdMonitorData(Hc,t)}if(_O.call(this)&&(e.data.rewardedTime=15e3),BR.call(this),mV.call(this,e.options),RO.call(this))yield null===(a=e.mb)||void 0===a?void 0:a.setAdData(e.adProxy.rawAdDatas);if(WV.call(this))throw{errMsg:gV};if(UM.call(this,!0)&&(OM.call(this),MM.call(this)),qO.call(this)&&iM.call(this),yO.call(this)&&iW.call(this),!qO.call(this)){var h,g,f,m,y;!GB.isAndroid||null===(h=t[0].shortVideo)||void 0===h||!h.src||null!==(g=e.adProxy.data)&&void 0!==g&&null!==(f=g.condition)&&void 0!==f&&f.widget_gray_rewarded_video_disable_preload||RO.call(this)||(e.preloadVideo=!0,e.preloadVideoSuccess=!1,e.adProxy.preloadVideo([t[0].shortVideo.src]).catch((t=>{e.adProxy.reportAdMonitorData(Sl,t)})));var v=NM.call(this);if(null!==(m=e.data)&&void 0!==m&&m.shortVideo&&!hO.call(this)&&!gO.call(this)&&e.data.shortVideo.width<e.data.shortVideo.height&&null!==(y=e.data.condition)&&void 0!==y&&y.widget_gray_rewarded_video_animation_page){var _,E,x,b,w,T,C=null===(_=e.data)||void 0===_||null===(E=_.condition)||void 0===E?void 0:E.widget_gray_rewarded_video_animation_page_video_duration;if(C&&C>0)e.isUseAnimationPage=e.data.shortVideo.duration>=1e3*C,e.animationPageShowTime=null===(x=e.data)||void 0===x||null===(b=x.condition)||void 0===b?void 0:b.widget_gray_rewarded_video_animation_page_show_time,v.loop=e.isUseAnimationPage&&!(null===(w=e.data)||void 0===w||null===(T=w.condition)||void 0===T||!T.widget_gray_rewarded_video_animation_page_video_loop)}}e.mb&&e.adProxy.setTimePoint(om);try{yield PV.call(this),e.mb&&e.adProxy.setTimePoint(rm)}catch(t){throw e.adProxy.reportAdMonitorData(oc,t),t}e.adProxy.preloadLanding(),e.adProxy.setTimePoint(yf)}catch(t){throw e.adProxy.reportAdMonitorData(As,t),{}}}));return function(){return e.apply(this,arguments)}}(),CV=function(e=!1){var t=QB(this),{screenHeight:i}=GB;t.holdContainerPosition||(yV.call(this,["container"]),t.container.style.left=0,e||vO.call(this)?t.container.style.top=0:t.container.style.top=i,GB.isWaGame?t.container.style.fixed&&delete t.container.style.fixed:t.container.style.fixed=!0)},AV=function(){var e=QB(this),{screenWidth:t,screenHeight:i}=GB;yV.call(this,["dialogContainer","dialogMask"]),e.dialog.style.top=i>138?(i-138)/2:0,e.dialog.style.left=t>300?(t-300)/2:0,e.dialogCloseTip.style.top=(i-36)/2,e.dialogCloseTip.style.left=(t-124)/2},PV=function(){var e=b()((function*(e=!1){if(!WV.call(this)){var t=QB(this),{data:{product_type:i}}=t,a=NM.call(this),n=dO.call(this);if(IV.call(this,t.darkMode),CV.call(this,e),AV.call(this),pM.call(this),xM.call(this),TM.call(this,0),yV.call(this,["toastContainer","loadingContainer"]),i===Cg.ANDROID&&(t.adProxy.setAppInstallState(!1),MV.call(this)),hO.call(this)||gO.call(this))wN.call(this,!1),t.container.style.backgroundColor="rgba(0, 0, 0, 0)",t.topBar.style.hidden=!0,a.style.hidden=!0,a.src&&(a.src="https://wxa.wxs.qq.com/images/wxapp/empty.mp4");else if(yO.call(this))t.adFeedback.style.hidden=!1,CL.call(this);else if(pO.call(this))t.container.style.backgroundColor="#000000",EN.call(this);else if(cO.call(this)&&n){var o,r;t.container.style.backgroundColor="#000000",EN.call(this),CL.call(this),kk.call(this),Rk.call(this),Ok.call(this),t.adProxy.setTimePoint(vf),t.buttonTextType=t.data.button_action.text_type||0,t.isRewarded?TM.call(this,0,!0):t.multiVideoCounter||TM.call(this,IM.call(this)),null!==(o=t.data)&&void 0!==o&&null!==(r=o.condition)&&void 0!==r&&r.widget_gray_rewarded_video_effect_guide&&(a.autoPauseIfOpenNative=!1,a.autoPauseIfNavigate=!1,t.isPlayBackgroundSupported=!0)}yield bD.call(this),vO.call(this)&&(t.container.style.hidden=!1)}}));return function(){return e.apply(this,arguments)}}(),IV=function(e){if(!WV.call(this)){var t=QB(this);t.darkMode=e;var i=e?Ak:Ck;for(var a of Object.keys(i))t[a]&&Object.assign(t[a].style,i[a])}},SV=function(){var e=b()((function*(e=0){var t,i;if(!WV.call(this)){var a,n=QB(this);if(e!==TB.MB_RESET&&RO.call(this))null==n||null===(a=n.mb)||void 0===a||a.onResetStatus();var o=NM.call(this);AD.call(this,Ci);var r,s,l={preloadVideoSuccess:n.preloadVideoSuccess?1:0};if(null!==(t=S.expt)&&void 0!==t&&null!==(i=t[GO()])&&void 0!==i&&i.groupid)Object.assign(l,{mb:RO.call(this),isMbAd:DO.call(this),groupid:null===(r=S.expt)||void 0===r||null===(s=r[GO()])||void 0===s?void 0:s.groupid});if(n.adProxy.reportTimePoints({extInfo:l}),n.adProxy.clearTimePoints(),n.isUseAnimationPage){o.loop=!1,n.isUseAnimationPage=!1,n.isShowAnimationPage=!1,n.animationPageShowTime=0,n.videoBackgroundContainer.style.hidden=!0,n.isAnimationPageReportedVideoEnd=!1,n.animationCardClickMask.style.width=0,n.animationCardClickMask.style.height=0,n.animationCardClickMask.style.hidden=!0,n.videoContainer.animate({top:0,scaleWidth:1,scaleHeight:1,duration:10}).catch((()=>{n.videoContainer.style.top=0,n.videoContainer.style.scaleWidth=1,n.videoContainer.style.scaleHeight=1})),yield zo(10);var{screenHeight:d}=GB;n.videoContainer.style.height=d,n.video.style.height=d,n.video.playbackRate=1,n.videoContainer.style.borderRadius=0,n.animationCardContainer.style.hidden=!0,n.animationCardContainer.style.top=d,n.animationCardAppConversion.style.hidden=!0,n.animationCardAppConversion.style.hidden=!0}var c,p=n.isRewarded;if(n.sound.style.hidden=!1,n.splitLine.style.hidden=!1,o.autoPauseIfNavigate=!0,o.autoPauseIfOpenNative=!0,n.isPlayBackgroundSupported=!1,n.videoMutedStatus=!1,n.landingCount=0,n.clickCount=0,n.rewardPageLanding=!1,n.isPlaying=!1,n.isVideoCalledPlay=!1,n.isFirstPlaySuccess=!1,n.isShowed=!1,n.isShowFailed=!1,n.isVisible=!1,n.isRewarded=!1,n.isEnded=!1,n.isData=!1,n.isFlooringPageShowed=!1,n.isReadyToFlooringPage=!1,n.extraReduceTime={},n.disableGaussBlur=!1,n.toastShowing=!1,n.multiVideoInfo={randomNumber:100*Math.random(),videoDuration:[],videoPosition:[],isPlaying:[],isEnded:[],isPause:[],isExposured:[],isViewableExposured:[],isCardExposured:[],isSlideTipsShowed:[]},n.feedCardExtraVisibility={},n.playableExtraVisibility={},n.slideShowExtraVisibility={},n.bottomCardExtraVisibility={},n.feedGuideAnimated=!1,n.isDialogOpened=!1,n.shouldAnimateDefaultPageGuide=!1,n.defaultPageGuideAnimated=!1,n.templateCondition={},n.featureFlags={},n.cardFirstShowTime=0,n.currentTime=0,n.clickFirstGradeTime=0,n.videoFirstPlayTime=0,n.execShowTime=0,n.hideTime=0,n.holdContainerPosition=!1,n.landingPageCostTime=0,n.lastJsapiCostTime=0,n.lastJsapiName="",n.lastJsapiStatus=0,n.lastLandingTime=0,n.cardFirstShowTime=0,n.currentTime=0,n.clickFirstGradeTime=0,n.videoFirstPlayTime=0,n.execShowTime=0,n.hideTime=0,n.isClickLanding=!1,n.holdContainerPosition=!1,n.landingPageCostTime=0,n.lastJsapiCostTime=0,n.lastJsapiName="",n.lastJsapiStatus=0,n.lastLandingTime=0,yield PD.call(this),n.isCancelPlayablePage=!1,n.isLandingPlayablePage=!1,n.playableTipsContent.value="视频结束后可试玩",n.playableGiveUp.value="放弃",n.playableGiveUp.style.color="#07C160",n.playableGiveUp.style.opacity=1,n.playableTipsWrap.style.width=132,n.playableTipsWrap.style.left=0,n.playableTipsWrap.style.hidden=!0,n.cardContainer.style.hidden=!0,n.playableTipsContent.style.width=120,n.playableGiveUp.style.hidden=!0,n.playableCancelBox.style.hidden=!0,n.feedCardContainer.style.hidden=!0,n.feedGuideContainer.style.hidden=!0,n.conversionInfo=void 0,lN.call(this),n.expandCardContainer.style.hidden=!0,n.expandCardInfoContainer.style.hidden=!1,nW.call(this),aM.call(this),n.rewardPageCostTime=0,n.isShowedExposureReported=!1,n.isViewableExposureReported=!1,n.adProxy.isViewable=!0,GB.isWaGame||(n.isFullscreen=!1),n.downloadProgress.style.width=0,n.pageDownloadProgress.style.width=0,IV.call(this,!0),null!=n.reportRewardStatusPromise){try{!0!==(yield Promise.race([zo(2e3),n.reportRewardStatusPromise]))&&n.adProxy.reportAdMonitorData(Rc,{err:"timeout"})}catch(e){n.adProxy.reportAdMonitorData(Rc,{err:"other error",detail:e})}n.reportRewardStatusPromise=null}if(n.skitInfo={},n.dramaInfo={},n.canSkitAdRetention=!1,![TB.SHOW_FAIL,TB.REPLACE_AD,TB.MB_RESET].includes(e))n.isSkitAd||GB.isWaGame||!GB.isIOS&&!Gm("landpage",null===(c=n.data)||void 0===c?void 0:c.crt_size)?(BB(),n.adProxy.setTimePoint(Ff),n.emitter.emit("close",Object.assign({isEnded:p},bV.call(this))),RR(p)):zo(100).then((()=>{BB(),n.adProxy.setTimePoint(Ff),n.emitter.emit("close",{isEnded:p}),RR(p)}));n.adProxy.reset();var u=wV.call(this,e);for(var h of(u.catch((()=>{})),n.adFetchResult=u,n.holdContainerPosition||(n.container.style.hidden=!0),n.adCover.hide(),p?DR.call(this,{stage:1005}):DR.call(this,{stage:1006}),n.pageType===ND.ENDPAGE?n.pageContainer.style.hidden=!0:n.pageType===ND.ENDMODAL?(n.pageHandler.style.hidden=!0,n.pageCardBody.style.hidden=!0,n.pageMask.style.hidden=!0,n.pageCardTip.style.hidden=!0,o.style.padding=8,o.style.paddingBottom=16):n.pageType||(n.defaultPageContainer.style.hidden=!0),n.pageHandler.style.hidden=!0,sR.call(this,{isClose:!0}),GB.isAndroid&&n.adProxy.setInnerAudioOption(!0).catch((()=>{})),Object.keys(n.videoElems))){var g=Number(h);if(0!==g){var f=n.videoElems[h];delete n.videoElems[h],f.style.hidden=!0,zk.call(this,f,g),n.videoContainer.remove(f)}}n.video.style.hidden=!1,iN.call(this),EM.call(this),nN.call(this),JV.call(this),n.multiVideoCounter=0,n.globalCountDownCounter=0,n.slideFrozen=!1,n.showTipsTimer&&clearTimeout(n.showTipsTimer),n.exposureTimer&&clearTimeout(n.exposureTimer),n.updateScreenInfoTimer&&clearTimeout(n.updateScreenInfoTimer),n.layoutTimer&&clearTimeout(n.layoutTimer),n.rewardPageTimer&&clearTimeout(n.rewardPageTimer),n.reportDurationTimer&&clearTimeout(n.reportDurationTimer),n.pageType=0,n.imgBaseName="",zk.call(this,n.video,0),rk("show",n.adType,0),rk("close",n.adType,+new Date)}}));return function(){return e.apply(this,arguments)}}(),kV=function(){var e=b()((function*(e=0){if(WV.call(this))throw{errMsg:gV};var t=QB(this);if(AD.call(this,Ti),DO.call(this)&&(t.isViewableExposureReported||(t.adProxy.reportAdMonitorData($p),t.adProxy.setTimePoint(zf)),t.isFirstFrameCallback||(t.adProxy.reportAdMonitorData(jp),t.adProxy.setTimePoint(Uf))),hO.call(this)||gO.call(this))return wW.call(this,e);TL.call(this)||(SR.call(this,{playType:wO.call(this)?"complete":"partial",conditionType:"close"}),sN.call(this,Wd,{is_rewarded:t.isRewarded,total_duration:$V.call(this)})),t.isVideoCalledPlay&&Lk.call(this,"pause"),[TB.NAVIGATE_BEFORE_ANIMATE,TB.REPLACE_AD].includes(e)?yield SV.call(this,e):[TB.SHOW_FAIL,TB.HIDE_FOR_BACK].includes(e)?yield Promise.all([EV.call(this),SV.call(this,e)]):(TL.call(this)&&(yield XL.call(this)),_O.call(this)?(BB(),t.adProxy.setTimePoint(Ff),t.emitter.emit("close",Object.assign({isEnded:t.isRewarded},bV.call(this))),RR(t.isRewarded)):(yield t.container.animate({top:GB.screenHeight,duration:500}),TL.call(this)&&JL.call(this),HR.call(this,VR.HideView),yield EV.call(this),yield SV.call(this)))}));return function(){return e.apply(this,arguments)}}(),DV=function(){if(!WV.call(this)){var e=QB(this);e.isRewarded&&_O.call(this)&&(e.adProxy.setTimePoint(Ff),e.emitter.emit("close",Object.assign({isRewarded:!0},bV.call(this))))}},RV=function(){if(!WV.call(this)){var e=QB(this);if(e.isReadyToFlooringPage&&!e.isFlooringPageShowed)return eR.call(this),void(e.isRewarded?Lk.call(this,"stop"):rN.call(this,"muted",!0));if(Sk.call(this),iN.call(this),EM.call(this),e.isRewarded)e.adProxy.setTimePoint(Nf),kV.call(this),kR.call(this,{button:4});else{if(e.canSkitAdRetention&&e.dramaInfo.drama_id)e.dramaAdDialogContainer.style.hidden=!1,e.isDialogOpened=!0,e.adProxy.setTimePoint(jf),e.adProxy.reportAdMonitorData(ru,{dramaInfo:e.dramaInfo});else{e.adProxy.setTimePoint(Rf),e.isDialogOpened=!0;var t="暂未获得奖励\n是否继续观看视频";e.isFlooringPageShowed&&(t="暂未获得奖励\n是否继续浏览"),TL.call(this)&&(t="暂未获得奖励\n是否继续试玩"),_O.call(this)&&(t="现在退出将无法获得畅听权益"),e.dialogContainer.style.hidden=!1,e.dialogTitle.value=t;var i=(t.match(/\n/g)||[]).length+1;e.dialogTitle.style.height=e.dialogTitle.style.lineHeight*i}Lk.call(this,"pause"),UM.call(this)?e.multiVideoInfo.isPause[e.adProxy.adDataIndex]=!0:e.isPause=!0,kR.call(this,{button:9})}}},OV=function(e={}){var t;if(WV.call(this))return Promise.resolve();var i,a=QB(this);(a.adProxy.setTimePoint(Cf),a.notReportExit=!0,a.landingCount+=1,a.landingCount>1)&&a.adProxy.reportRepeatClick({slotId:JB,costType:null!==(i=a.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,clkCnt:a.landingCount,lastClkPeriod:+new Date-a.lastLandingTime,retCode:a.lastJsapiStatus,costTime:a.lastJsapiCostTime,pageStayTime:a.landingPageCostTime,jsapiName:a.lastJsapiName});a.lastLandingTime=+new Date,a.lastJsapiStatus=2,a.lastJsapiCostTime=0,a.isLandingPage=!1,a.landingPageCostTime=0;var n=a.data.product_type===Cg.WE_CHAT&&e&&e.isButton&&!a.adProxy.data.biz_info.is_subscribed;e.isAddContact=n,e.copyGiftCode=null!==(t=e.copyGiftCode)&&void 0!==t&&t;var o=a.adProxy.land(e),r=e=>{a.adProxy.setTimePoint(kf);var t=e.errMsg.replace(":ok","").replace(":fail cancel","");HR.call(this,VR.JumpTo,{JumpTo:t})};if(a.data.product_type===Cg.WE_CHAT&&e&&e.isButton&&!a.adProxy.data.biz_info.is_subscribed?(o.then((e=>{var t,i;r(e);var n=/ok/.test(e.errMsg);n&&(0===a.buttonTextType&&(a.button.value="查看公众号",DN.call(this),CD.call(this,Di.CHANGEADBTNTEXT,{text:"查看公众号"})),a.data.flooringPage&&a.pageType===ND.ENDPAGE&&0===a.buttonTextType?a.pageButton.value="查看公众号":a.data.flooringPage&&a.pageType===ND.ENDMODAL&&0===a.buttonTextType?a.pageCardButton.value="查看公众号":a.pageType||(a.defaultPageButton.value="查看公众号"),a.expandCardButton.value="查看公众号",a.adProxy.data.biz_info&&(a.adProxy.data.biz_info.is_subscribed=1),a.adProxy.reportAdIDKey({key:Ss})),e.errMsg&&(a.lastJsapiName=e.errMsg.replace(":ok","").replace(":fail cancel",""));var o,s=+new Date;(a.lastJsapiStatus=0,a.lastJsapiCostTime=s-a.lastLandingTime,"private_addContact"===a.lastJsapiName)&&a.adProxy.reportLandingTime({slotId:JB,costType:null!==(o=a.adProxy.data)&&void 0!==o&&o.is_cpm?1:2,openTime:a.lastLandingTime,closeTime:s,stayTime:a.lastJsapiCostTime,jsapiName:a.lastJsapiName,clickTime:a.lastLandingTime,clkCnt:a.landingCount,retCode:a.lastJsapiStatus,costTime:a.lastJsapiCostTime,actTypeInt:n?2:3,actTypeStr:n?"关注":"取消"});GB.isWaGame||!GB.isAndroid||gO.call(this)||setTimeout((()=>{a.adProxy.hideVirtualBottomNavigationBar().catch((()=>{})),a.container.forceUpdate()}),250);try{var l,d,c=Boolean((null===(l=a.data)||void 0===l||null===(d=l.condition)||void 0===d?void 0:d.widget_gray_rewarded_video_effect_guide_level2)&&n&&!a.adProxy.isDuplicateRecommendedAds);CW.call(this,c)}catch{}(null===(t=a.data)||void 0===t||null===(i=t.condition)||void 0===i?void 0:i.widget_gray_land_after_addContact)&&n&&OV.call(this,{isButton:!0})})).catch((()=>{a.lastJsapiStatus=1})),OR.call(this,o)):(a.flooringPageCloseTime=(new Date).getTime(),o.then((e=>{r(e),e.errMsg&&(a.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===a.lastJsapiName||"navigateToMiniProgram"===a.lastJsapiName||"openADCanvas"===a.lastJsapiName||"launchApplication"===a.lastJsapiName?(a.isLandingPage=!0,a.isPlayBackgroundSupported&&(a.videoMutedStatus=a.isSoundMuted,rN.call(this,"muted",!0)),Sk.call(this),a.flooringPageIsShow&&(lR.call(this,{type:3,staytime:a.flooringPageCloseTime-a.flooringPageShowTime,componentsstartstr:JSON.stringify(a.flooringPageState)}),a.flooringPageShowTime=0,a.flooringPageCloseTime=0,oR.call(this))):a.lastJsapiStatus=0,a.lastJsapiCostTime=+new Date-a.lastLandingTime})).catch((()=>{a.lastJsapiStatus=1}))),hO.call(this)||gO.call(this)){setTimeout((()=>{a.notReportExit=!1}),1e3);var s=SR.call(this,{playType:bO.call(this)?"partial":"complete",conditionType:"land"});tV(s,"激励视频","跳转落地页")}return o},MV=function(){if(!WV.call(this)){var e=QB(this),{appInfo:{apkName:t,versionCode:i,urlScheme:a}}=e.data;e.adProxy.getInstallState(t).then((t=>{if(t.isInstalled&&(void 0===t.versionCode||t.versionCode>=i)){e.adProxy.setAppInstallState(!0),e.androidAppState=4;try{var n,o,r=Boolean((null===(n=e.data)||void 0===n||null===(o=n.condition)||void 0===o?void 0:o.widget_gray_rewarded_video_effect_guide_level2)&&!e.adProxy.isDuplicateRecommendedAds);CW.call(this,r)}catch{}if(e.button&&a&&a.trim().length>0){if(e.button.value="进入应用",e.pageCardButton.value="进入应用",e.pageButton.value="进入应用",e.defaultPageButton.value="进入应用",e.expandCardButton.value="进入应用",CD.call(this,Di.CHANGEADBTNTEXT,{text:"进入应用"}),1===e.buttonTextType){var s=e.data.button_action.button_text;e.button.value=s,e.pageCardButton.value=s,e.pageButton.value=s,e.defaultPageButton.value=s,e.expandCardButton.value=s,CD.call(this,Di.CHANGEADBTNTEXT,{text:s})}DN.call(this)}if(e.adProxy.isValidCondition("widget_gray_video_download_v2")&&e.downloadButtonText&&a&&a.trim().length>0){if(e.downloadButtonText.value="进入应用",e.downloadProgressText.value="进入应用",1===e.buttonTextType){var l=e.data.button_action.button_text;e.downloadButtonText.value=l,e.downloadProgressText.value=l}if(e.pageType===ND.ENDPAGE&&(e.pageDownloadButtonText.value="进入应用",e.pageDownloadProgressText.value="进入应用",1===e.buttonTextType)){var d=e.data.button_action.button_text;e.pageDownloadButtonText.value=d,e.pageDownloadProgressText.value=d}DN.call(this)}}else e.adProxy.isValidCondition("widget_gray_video_download_v2")&&4===e.androidAppState&&(e.downloadButtonText.value=e.data.button_action.button_text,e.downloadProgressText.value=e.data.button_action.button_text,DN.call(this),e.pageType===ND.ENDPAGE&&(e.pageDownloadButtonText.value=e.data.button_action.button_text,e.pageDownloadProgressText.value=e.data.button_action.button_text),e.androidAppState=0)})).catch((()=>{}))}},NV=function(){var e,t=QB(this),i=GB.isWaGame?"count":`count_${t.adProxy.getWebviewInfo().currentWebviewId}`,a=sk(i,t.adType)||0;t.touchWatcher.destroy(),t.adTemplate.destroy(),rk(i,t.adType,a>0?a-1:0),DB(t.onShow),RB(t.onHide),MB(t.onBeforeHide),t.emitter.off("_error"),t.emitter.off("load"),t.emitter.off("close"),zB.remove(t.container);var n=dO.call(this);t.adProxy.reportDestroyBehavior({costType:null!==(e=t.adProxy.data)&&void 0!==e&&e.is_cpm?1:2,isGame:GB.isWaGame?1:0,videoDuration:cO.call(this)?(null==n?void 0:n.duration)||0:IM.call(this),destroyTime:Date.now(),playStartTime:t.videoFirstPlayTime,playDuration:t.currentTime,isEnded:t.isEnded?1:0,isAdClk:t.lastLandingTime>0?1:0,adClkTime:t.lastLandingTime,isAdLandPage:t.lastLandingTime>0?1:0,adLandpageTime:t.lastLandingTime,isShowStatus:t.isShowed?1:0,isVisible:t.isVisible?1:0,isOnLandpage:t.isLandingPage?1:0}),YB(this)},LV=function(){if(!WV.call(this)){var e,t=QB(this);if(RO.call(this))null==t||null===(e=t.mb)||void 0===e||e.destroy().then((e=>{t.mb=null})).catch((e=>{t.mb=null}));var i=Promise.resolve();t.isShowed&&(i=EV.call(this).then((()=>{t.adCover.hide(),GB.isAndroid&&t.adProxy.setInnerAudioOption(!0).catch((()=>{})),rk("show",t.adType,0),rk("close",t.adType,+new Date)}))),i.then((()=>{NV.call(this)})).catch((()=>{NV.call(this)})),this._destroyed=!0}},WV=function(){return this._destroyed},BV=function(){if(!WV.call(this)){var e=QB(this);e.adProxy.setTimePoint(Vf),e.emitter.emit("load",VV.call(this))}},VV=function(){var e=QB(this),t=void 0,i=void 0,{rerankingExtInfo:a,styleParams:n}=e.adProxy.data,o=null==n?void 0:n.widget_gray_rewarded_video_ranking_info_transfer;try{"string"==typeof o&&(o=JSON.parse(o))}catch{}if(Array.isArray(o)){var r=o;for(var{from:s,to:l,report:d=!1}of r){var c,p;if(null!=a[s])if(null!==(c=t)&&void 0!==c||(t={}),t[l]=a[s],d)null!==(p=i)&&void 0!==p||(i={}),i[l]=a[s]}}return i&&e.adProxy.reportAdMonitorData(uu,i),t},HV=function(){var e=b()((function*(e,t={}){var i,a,n,o,r=this,{skipType:s,replaceAdCounter:l=0}=t,{branchId:d,branchDim:c,welfareData:p,skitInfo:u}=e,h=QB(this);if(h.isSkitAd&&u&&(lM.call(this,u),(hO.call(this)||gO.call(this))&&h.adProxy.UpdateRewardedLandingPageData({weappExtraData:{...h.skitInfo||{}}})),dM.call(this),hM.call(this),null!==(i=h.data)&&void 0!==i&&null!==(a=i.condition)&&void 0!==a&&a.widget_gray_rewarded_video_delay_show)try{yield h.adProxy.prefetchAdData(!1,{},xV.call(this,!0))}catch(e){}else h.adProxy.prefetchAdData(!1,{},xV.call(this,!0));XV.call(this),DR.call(this,{stage:1001});var g=(new Date).getTime();if(null!==(n=h.data)&&void 0!==n&&null!==(o=n.condition)&&void 0!==o&&o.widget_gray_rewarded_video_show_refetch){var f=wV.call(this,TB.REPLACE_AD);f.catch((()=>{})),h.adFetchResult=f}h.isSwitched=!1,rk("show",h.adType,1),HR.call(this,VR.ShowView),h.adProxy.setTimePoint(Af),h.execShowTime=+new Date,d?h.adProxy.recordAnalyseBranchInfo({branchId:d,branchDim:c}):h.adProxy.resetAnalyseBranchInfo(),null!=p&&p.welfare_id&&null!=p&&p.welfare_trace?(h.adWelfareData={welfare_id:p.welfare_id,welfare_trace:p.welfare_trace},(hO.call(this)||gO.call(this))&&h.adProxy.UpdateRewardedLandingPageData({weappExtraData:{...h.adWelfareData||{}}})):h.adWelfareData={};try{if(yield h.adFetchResult,WV.call(this))throw{errMsg:gV};UB();try{yield PV.call(this)}catch(e){throw h.adProxy.reportAdMonitorData(oc,e),e}h.adProxy.setTimePoint(Df);var m=NM.call(this);if(vO.call(this)||IB.call(this),h.adProxy.reportVideoLoadTime({beginTime:g,endTime:(new Date).getTime(),reportType:2}),h.isShowed=!0,h.isVisible=!0,h.startExposureTime=0,h.isShowedExposureReported=!1,h.isViewableExposureReported=!1,h.isCardExposureReported=!1,h.isVideoCardShowed=!1,h.adProxy.isViewable=!1,hO.call(this)||gO.call(this))return void bW.call(this,e,t);if(h.adProxy.isValidCondition("widget_gray_video_sound")?(WB(),rN.call(this,"muted",!1),GB.isIOS&&(m.obeyMuteSwitch=!0)):rN.call(this,"muted",!0),h.card.style.hidden=!0,oO.call(this),h.container.style.hidden=!1,h.adFeedbackList.style.hidden=!0,h.adFeedbackMenu.style.hidden=!0,TL.call(this))jL.call(this);else if(yO.call(this)&&TL.call(this,!1)&&h.playablePredownload){if(yield h.playablePredownload.then(b()((function*(){return yield jL.call(r),!1})),b()((function*(){if(IO.call(r,Mm))throw{errMsg:"playable show loading failed"};if(h.adProxy.reportAdMonitorData(Lp,{counter:l+1}),!(yield YV.call(r,"show",e,t)))throw h.adProxy.reportAdMonitorData(Bp),{errMsg:"playable show loading failed"};return h.adProxy.reportAdMonitorData(Wp),!0}))))return}qO.call(this)&&KO.call(this),h.adCover.show(),h.adProxy.setTimePoint(bf);try{var y,v;if(yield h.container.nextLayout(),null!=h&&null!==(y=h.data)&&void 0!==y&&null!==(v=y.condition)&&void 0!==v&&v.widget_gray_rewarded_video_faster_play||(yield zo(500)),WV.call(this))throw{errMsg:gV};if(h.isSwitched)return kV.call(this,TB.NAVIGATE_BEFORE_ANIMATE);if(s===TB.REPLACE_AD&&h.holdContainerPosition||(_V.call(this).then((()=>{h.topBar.style.hidden=!1,GB.isWaGame||(h.isFullscreen=!0)})).catch((()=>{h.topBar.style.hidden=!0})),kR.call(this,{button:11}),vO.call(this)?hN.call(this):yield h.container.animate({top:0,duration:500})),AD.call(this,wi),VB(HB.EVENT_CANVAS_BEFORE_ADS),TL.call(this))return UL.call(this);if(yO.call(this)&&TL.call(this,!1)&&h.playablePredownload)return h.playablePredownload.then((()=>UL.call(this))).catch((()=>{throw{errMsg:"playable show failed"}}));if((TL.call(this)||qO.call(this))&&qO.call(this))return void h.innerAudioContext.play();var{width:_,height:E}=m.style,x=h.adProxy.reportExposure({exposureType:"showed",left:0,top:0,width:_,height:E,weappExtraData:{...h.adWelfareData||{},...h.skitInfo||{}}});ZV.call(this,e,t),UM.call(this)&&(h.multiVideoInfo.isExposured[0]=!0,sN.call(this,Nd,{type:"showed"})),h.startExposureTime=+new Date,tV(x,"激励视频","原始曝光"),yield zo(500),h.isFirstFrameCallback=!1,h.videoFirstPlayTime=(new Date).getTime(),h.adProxy.setTimePoint(Pf),HR.call(this,VR.VideoPlayerStart),Lk.call(this,"play"),Ik.call(this),_M.call(this),AD.call(this,mi),h.isFirstPlaySuccess=!0;var w=SR.call(this,{playType:"partial",conditionType:"start"});tV(w,"激励视频","开始播放")}catch(e){var T={errMsg:e,isSwitched:h.isSwitched};throw h.adProxy.reportAdMonitorData(Bs,T),yield kV.call(this,TB.SHOW_FAIL),e}}catch(e){throw h.adProxy.reportAdMonitorData(Dp,e),h.isShowFailed=!0,rk("show",h.adType,0),h.adProxy.setTimePoint(Gf),e}}));return function(t){return e.apply(this,arguments)}}(),FV=function(e){var t,i;if(!WV.call(this)){var a=QB(this),n=!a.pageType&&(null===(t=a.data)||void 0===t||null===(i=t.card)||void 0===i?void 0:i.headBgImg);(a.pageType||n)&&(a.sound.style.hidden=!e,a.splitLine.style.hidden=!e,zM.call(this)?(a.feedCardContainer.style.hidden=!e,a.sound.style.hidden=!0,a.splitLine.style.hidden=!0):lO.call(this)?a.expandCardContainer.style.hidden=!e:(a.cardContainer.style.hidden=!e,a.cardContainer.style.opacity=1),e?(a.pageContainer.style.hidden=!0,a.pageHandler.style.hidden=!0,a.pageMask.style.hidden=!0,a.pageCardBody.style.hidden=!0,a.pageCardTip.style.hidden=!0,a.defaultPageContainer.style.hidden=!0):a.pageType===ND.ENDPAGE?(a.pageContainer.style.hidden=!1,a.pageHandler.style.hidden=!1,a.pageMask.style.hidden=!1):a.pageType===ND.ENDMODAL?(a.pageHandler.style.hidden=!1,a.pageMask.style.hidden=!1,a.pageCardBody.style.hidden=!1,a.pageCardTip.style.hidden=!1):n&&(a.defaultPageContainer.style.hidden=!1)),VM.call(this,e)}},GV=function(){var e=QB(this);WV.call(this)||(e.isVisible=!1)},UV=function(){var e=QB(this);if(!WV.call(this)){if(e.adProxy.setTimePoint(Sf),e.adProxy.cacheTimePoints({extInfo:{preloadVideoSuccess:e.preloadVideoSuccess?1:0}}),e.isVisible=!1,e.hideTime=+new Date,hO.call(this)&&e.isShowed){var t=e.adProxy.checkCanvasXmlState();return!t&&!e.isShowedExposureReported&&AW.call(this,"showed"),!t&&!e.isViewableExposureReported&&AW.call(this,"viewable")}if(qO.call(this)&&e.innerAudioContext&&e.innerAudioContext.pause(),EM.call(this),iN.call(this),!e.notReportExit&&e.isShowed){Sk.call(this);var i=SR.call(this,{playType:bO.call(this)?"partial":"complete",conditionType:"exit"});tV(i,"激励视频","退出小游戏"),e.flooringPageIsShow&&(e.flooringPageCloseTime=(new Date).getTime(),lR.call(this,{type:6,staytime:e.flooringPageCloseTime-e.flooringPageShowTime,componentsstartstr:JSON.stringify(e.flooringPageState)}),e.flooringPageShowTime=0,e.flooringPageCloseTime=0,oR.call(this))}}},zV=function(){WV.call(this)||(UB(),AD.call(this,bi,{screenWidth:GB.screenWidth,screenHeight:GB.screenHeight,deviceOrientation:GB.deviceOrientation}))},jV=function(){var e=QB(this);if(!WV.call(this))if(e.isShowed&&(e.isVisible=!0),e.adProxy.setTimePoint(Ef),[ND.PLAYABLE_H5].indexOf(e.pageType)>-1&&e.isLandingPlayablePage&&kV.call(this),gO.call(this)&&e.rewardPageLanding)setTimeout((()=>{WV.call(this)||e.rewardPageLanding&&(e.isEnded=!1,e.isRewarded=!1,kV.call(this))}),200);else{if(hO.call(this)&&e.isShowed&&!e.showDialogContainer)return e.rewardPageTimer&&clearTimeout(e.rewardPageTimer),e.rewardPageCostTime+=+new Date-e.hideTime-400,TW.call(this),setTimeout((()=>{WV.call(this)||(e.lastJsapiStatus=0,e.isLandingPage=!1)}),10),void(GB.isWaGame||!GB.isAndroid||gO.call(this)||(e.adProxy.hideVirtualBottomNavigationBar().catch((()=>{})),e.layoutTimer=setTimeout((()=>{e.container.forceUpdate()}),250)));cO.call(this)&&e.isShowed&&!wO.call(this)&&!TO.call(this)&&setTimeout((()=>{WV.call(this)||!e.isShowed||wO.call(this)||TO.call(this)||(Lk.call(this,"play"),Ik.call(this))}),1e3),e.isShowed&&UM.call(this)&&(tN.call(this),setTimeout((()=>{if(!WV.call(this))for(var t of Object.keys(e.videoElems)){var i=Number(t),a=e.videoElems[t];(i!==e.adProxy.adDataIndex||wO.call(this))&&(a.seek(e.multiVideoInfo.videoPosition[i]/1e3),a.pause())}}),500)),(e.isShowed&&TL.call(this)&&e.playableLoaded||e.isShowed&&!TL.call(this))&&_M.call(this),e.isShowed&&qO.call(this)&&e.innerAudioContext&&(e.isSoundMuted?e.innerAudioContext.pause():e.innerAudioContext.play()),e.data&&e.data.product_type===Cg.WE_CHAT?e.adProxy.checkFollow(e.data.app.uin).then((t=>{WV.call(this)&&e.adProxy.reportAdMonitorData(ud);var i=e.data.button_action.button_text;0===e.buttonTextType&&(e.button.value=t?"查看公众号":i,DN.call(this),CD.call(this,Di.CHANGEADBTNTEXT,{text:t?"查看公众号":i})),e.data.flooringPage&&e.pageType===ND.ENDMODAL&&0===e.buttonTextType?e.pageCardButton.value=t?"查看公众号":i:e.data.flooringPage&&e.pageType===ND.ENDPAGE&&0===e.buttonTextType?e.pageButton.value=t?"查看公众号":i:e.pageType||(e.defaultPageButton.value=t?"查看公众号":i),e.expandCardButton.value=t?"查看公众号":i,e.adProxy.data.biz_info&&(e.adProxy.data.biz_info.is_subscribed=t?1:0);try{var a,n,o=Boolean((null===(a=e.data)||void 0===a||null===(n=a.condition)||void 0===n?void 0:n.widget_gray_rewarded_video_effect_guide_level2)&&t&&!e.adProxy.isDuplicateRecommendedAds);CW.call(this,o)}catch{}})):e.data&&e.data.product_type===Cg.ANDROID&&MV.call(this),e.showTime=+new Date,setTimeout((()=>{if(!WV.call(this)&&(e.flooringPageIsShow&&(e.flooringPageShowTime=+new Date,dR.call(this)),e.isLandingPage)){var t;e.lastJsapiStatus=0,e.isLandingPage=!1,e.landingPageCostTime=e.showTime-e.hideTime,SM.call(this)&&!e.isRewarded&&(e.adProxy.reportAdMonitorData(au,{time:e.landingPageCostTime}),mM.call(this,e.landingPageCostTime/1e3)),e.isPlayBackgroundSupported&&!e.isEnded&&rN.call(this,"muted",e.videoMutedStatus),e.adProxy.reportLandingTime({slotId:JB,costType:null!==(t=e.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,openTime:e.hideTime,closeTime:e.showTime,stayTime:e.landingPageCostTime,jsapiName:e.lastJsapiName,clickTime:e.lastLandingTime,clkCnt:e.landingCount,retCode:e.lastJsapiStatus,costTime:e.lastJsapiCostTime,actTypeInt:1}),GB.isWaGame||!GB.isAndroid||gO.call(this)||(e.adProxy.hideVirtualBottomNavigationBar().catch((()=>{})),e.layoutTimer=setTimeout((()=>{e.container.forceUpdate()}),250)),e.adProxy.setRightButtonHide(!0).catch((()=>{}));try{var i,a,n=Boolean((null===(i=e.data)||void 0===i||null===(a=i.condition)||void 0===a?void 0:a.widget_gray_rewarded_video_effect_guide_level2)&&e.data.product_type===Cg.MINI_GAME);CW.call(this,n)}catch{}}}),10)}},$V=function(){var e=QB(this);return WV.call(this)?{}:hO.call(this)||gO.call(this)?e.rewardPageCostTime:UM.call(this)?e.multiVideoInfo.videoPosition.reduce(((e,t)=>e+t),0):e.currentTime},YV=function(){var e=b()((function*(e,t,i){var a=QB(this),{replaceAdCounter:n=0,maxRetryCount:o=oV}=i;if(n>=o)return!1;"containerShowed"===e&&(a.holdContainerPosition=!0);var r=TB.REPLACE_AD;return yield SV.call(this,r),["show","containerShowed"].includes(e)&&(yield HV.call(this,t,{...i,skipType:r,replaceAdCounter:n+1})),"containerShowed"===e&&(a.holdContainerPosition=!1),!0}));return function(t,i,a){return e.apply(this,arguments)}}(),qV=function(){var e=b()((function*(){var e=QB(this);e.loadingContainer.style.hidden=!1,e.loadingContainer.animate({opacity:1,duration:200}),yield zo(200)}));return function(){return e.apply(this,arguments)}}(),KV=function(){var e=b()((function*(){var e=QB(this);e.loadingContainer.animate({opacity:0,duration:200}),yield zo(200),e.loadingContainer.style.hidden=!0}));return function(){return e.apply(this,arguments)}}(),ZV=function(e,t){var i,a,n,o=QB(this),r=t.skipType===TB.REPLACE_AD,s=(null===(i=o.data)||void 0===i||null===(a=i.condition)||void 0===a?void 0:a.widget_gray_rewarded_video_show_loading_duration)||0;s&&zo(s).then((()=>{WV.call(this)||o.isFirstFrameCallback||r||qV.call(this)}));var l=(null===(n=o.data.condition)||void 0===n?void 0:n.widget_gray_rewarded_video_play_fail_refetch)||0;zo(l||3e3).then((()=>{WV.call(this)||o.isFirstFrameCallback||(o.adProxy.reportAdMonitorData(r?Ip:Sp),l&&!r&&YV.call(this,"containerShowed",e,t))})),zo(3e3).then((()=>{WV.call(this)||o.isViewableExposureReported||o.adProxy.reportAdMonitorData(r?Pp:nc)}))},XV=function(){var e=QB(this);FO.call(this)&&(e.navigateBackInterceptionHandler=ZB((()=>{WV.call(this)||e.isDialogOpened||RV.call(this)})))},JV=function(){var e=QB(this);e.navigateBackInterceptionHandler&&XB(e.navigateBackInterceptionHandler),e.navigateBackInterceptionHandler=null},QV={textAlign:"center",color:"#ffffff",lineBreak:"ellipsis",portrait:{width:247,fontSize:17,height:24,lineHeight:24},landscape:{width:185,fontSize:14,height:20,lineHeight:20}},eH={zIndex:1000009,position:"absolute",top:8,right:6,width:60,height:20,color:"#ffffff",fontSize:11,lineHeight:20,borderRadius:4,textAlign:"center"},tH={body:{zIndex:995,position:"absolute",overflow:"visibal",hidden:!0},container:{zIndex:995,position:"absolute",overflow:"hidden",opacity:0,hidden:!0,flexDirection:"column",alignItems:"center",justifyContent:"center"},mask:{top:0,left:0,backgroundColor:"#000000",opacity:.7,position:"absolute",overflow:"hidden"},cancelBox:{marginBottom:8,portrait:{width:kv,height:36},landscape:{width:Dv,height:28},flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},cancel:{portrait:{width:36,height:36},landscape:{width:28,height:28}},adContainer:{flexDirection:"column",alignItems:"center",overflow:"hidden",borderRadius:8,portrait:{width:kv,height:Mv},landscape:{width:Dv,height:Nv}},adBackground:{position:"absolute",zIndex:996,portrait:{marginTop:90,width:kv,height:Mv},landscape:{marginTop:70,width:Dv,height:Nv},hidden:!0},adMask:{position:"absolute",zIndex:997,backgroundColor:"#000000",opacity:.5,borderRadius:8,portrait:{width:kv,height:Mv},landscape:{width:Dv,height:Nv},hidden:!0},adContent:{zIndex:1000008,portrait:{width:kv,height:204},landscape:{width:Dv,height:168},flexDirection:"column",alignItems:"center"},adChannelsLiveReserve:{...eH,hidden:!0,backgroundColor:"#959FC1"},adChannelsLive:{...eH,hidden:!0,backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},adChannelsLiveIcon:{width:12,height:12,marginRight:4,marginLeft:4},adChannelsLiveText:{width:33,height:20,color:"#ffffff",fontSize:11,lineHeight:20,marginRight:8,textAlign:"center"},adChannelsLiveEnd:{...eH,hidden:!0,backgroundColor:"#959FC1"},adWording:{flexDirection:"column",alignItems:"center",justifyContent:"center",portrait:{marginTop:24,marginBottom:12,height:72},landscape:{marginTop:16,marginBottom:10,height:60}},wordingLine0:QV,wordingLine1:QV,wordingLine2:QV,adButtonGroup:{flexDirection:"column",alignItems:"center",justifyContent:"center"},relationLine:{textAlign:"center",fontSize:12,height:16,lineHeight:16,color:"rgba(0, 0, 0, 0.3)",portrait:{width:247,marginBottom:12},landscape:{width:185,marginBottom:10}},adButton:{borderWidth:1,borderColor:"#ffffff",borderRadius:4,textAlign:"center",color:"#ffffff",portrait:{marginBottom:28,width:184,height:40},landscape:{marginBottom:24,width:184,height:32},flexDirection:"column",alignItems:"center",justifyContent:"center"},adButtonText:{textAlign:"center",color:"#ffffff",letterSpacing:1,fontSize:17,height:24,width:184,lineHeight:24},adFeedbackContainer:{position:"absolute",width:60,height:48,zIndex:1000008,top:0,left:0},adFeedback:{zIndex:1000008,width:35,height:16,marginTop:8,marginLeft:6,position:"absolute"},adFeedbackList:{zIndex:1000008,width:134,height:98,hidden:!0,marginTop:32,marginLeft:5,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff",flexDirection:"column",alignItems:"center",justifyContent:"center"},adFeedbackTitle:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{zIndex:1000008,width:134,hidden:!0,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{zIndex:1000008,width:134,height:98,hidden:!0,marginTop:32,marginLeft:5,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff",flexDirection:"column",alignItems:"center",justifyContent:"center"},adQualityBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike0:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseTip:{hidden:!0,backgroundColor:"#ffffff",flex:1,justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,zIndex:1000009,portrait:{width:kv,height:400},landscape:{width:Dv,height:Nv}},adCloseTipWrap:{width:140,height:200,flex:1,justifyContent:"center",alignItems:"center"},adCloseTipIcon:{width:64,height:55},adCloseTipTitle:{width:200,height:20,fontSize:18,color:"#3a3a3a",marginTop:20,textAlign:"center"},adCloseTipContent:{width:200,height:20,fontSize:13,color:"#bfbfbf",marginTop:10,textAlign:"center"}},iH={adMedia:{zIndex:1000008,portrait:{width:kv,height:Rv},landscape:{width:Dv,height:Ov}},adVideoAudioBox:{zIndex:1000008,position:"absolute",bottom:0,left:0,width:40,height:40},adVideoAudioIcon:{position:"absolute",bottom:8,left:8,width:24,height:24,hidden:!1},adVideoCountDown:{position:"absolute",top:8,right:10,color:"#ffffff",fontSize:12,lineHeight:18,width:24,height:18,textAlign:"right"},adVideoAfter:{position:"absolute",portrait:{width:kv,height:Rv},landscape:{width:Dv,height:Ov},hidden:!0,alignItems:"center",opacity:0},adVideoAfterMask:{position:"absolute",backgroundColor:"#000000",opacity:.7,portrait:{width:kv,height:Rv},landscape:{width:Dv,height:Ov}},adVideoClickMask:{position:"absolute",zIndex:1000008,borderRadius:6,portrait:{width:kv,height:Rv},landscape:{width:Dv,height:Ov}},adVideoAfterIcon:{zIndex:1000008,flexDirection:"row",portrait:{width:48,height:48,marginTop:52,marginBottom:8},landscape:{width:36,height:36,marginTop:44,marginBottom:6},alignSelf:"center",borderRadius:4},adVideoAfterText:{zIndex:1000008,portrait:{fontSize:16,width:kv},landscape:{fontSize:11,width:Dv},lineHeight:22,color:"#ffffff",textAlign:"center",height:22}},aH={adMedia:{zIndex:1000008,portrait:{width:kv,height:Rv},landscape:{width:Dv,height:Ov}}},nH='\n    <view id="ad-feedback-container">\n      <image id="ad-feedback"  bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/adfeedback.png"></image>\n    </view>\n    <view id="ad-feedback-list">\n      <text id="ad-feedback-title" value="由赞助商提供的内容"></text>\n      <view id="ad-close-btn-line-dislike0"></view>\n      <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n      <view id="ad-close-btn-line-dislike1"></view>\n      <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n    </view>\n    <view id="ad-feedback-menu">\n      <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n      <view id="ad-close-btn-line-dislike2"></view>\n      <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n      <view id="ad-close-btn-line-dislike3"></view>\n      <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n    </view>\n  ',oH=`\n    <view id="ad-video-container" click-state="true">\n      <video id="ad-media" click-state="true" bubble-event="true" controls="false" muted="true" autoplay="false" object-fit="cover" enable-progress-gesture="false" enable-play-gesture="false" show-center-play-btn="false" auto-insert="false" scene="ad">\n        <view id="ad-video-click-mask" click-state="true" bubble-event="true"></view>\n        \n    <text id="ad-video-Count-Down">\n    </text>\n  \n        \n    <view id="ad-video-audio-box">\n      <image id="ad-video-audio-icon" bubble-event="true"></image>\n    </view>\n  \n        \n    <image id="ad-video-after" click-state="true" bubble-event="true" >\n        <view id="ad-video-after-mask" click-state="true" bubble-event="true"></view>\n        <image id="ad-video-after-icon" click-state="true" bubble-event="true"></image>\n        <text id="ad-video-after-text" click-state="true" bubble-event="true"></text>\n    </image>\n  \n        ${nH}\n      </video>\n    </view>\n  `,rH=`\n    <image id="ad-media">\n      ${nH}\n    </image>\n  `,sH={wordingLineTmpl:'\n  <text bubble-event="true"></text>\n'},lH=({screenWidth:e,adType:t})=>{var i=e-64,a=.5625*i,n=i-56,o={textAlign:"center",color:"rgba(0, 0, 0, 0.9)",lineBreak:"ellipsis",width:n,fontSize:17,height:24,fontWeight:400,lineHeight:24},r={zIndex:1000009,position:"absolute",top:8,right:6,width:60,height:20,color:"#ffffff",fontSize:11,lineHeight:20,borderRadius:4,textAlign:"center"};return{...{body:{zIndex:1000005,position:"absolute",overflow:"visibal",hidden:!0},container:{zIndex:1000005,position:"absolute",overflow:"hidden",opacity:0,hidden:!0,flexDirection:"column",alignItems:"center",justifyContent:"center"},mask:{top:0,left:0,backgroundColor:"#000000",opacity:.7,position:"absolute",overflow:"hidden"},cancelBox:{marginBottom:12,bottom:16,width:i,height:32,flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},cancel:{width:32,height:32},adContainer:{flexDirection:"column",alignItems:"center",overflow:"hidden",borderRadius:12,width:i,bottom:16},adBackground:{position:"absolute",zIndex:1000006,marginTop:90,width:i,height:Mv,hidden:!0},adMask:{position:"absolute",zIndex:1000007,backgroundColor:"#000000",opacity:.5,borderRadius:12,width:i,height:Mv,hidden:!0},adContent:{zIndex:1000008,width:i,flexDirection:"column",alignItems:"center"},adChannelsLiveReserve:{...r,hidden:!0,backgroundColor:"#959FC1"},adChannelsLive:{...r,hidden:!0,backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},adChannelsLiveIcon:{width:12,height:12,marginRight:4,marginLeft:4},adChannelsLiveText:{width:33,height:20,color:"#ffffff",fontSize:11,lineHeight:20,marginRight:8,textAlign:"center"},adChannelsLiveEnd:{...r,hidden:!0,backgroundColor:"#959FC1"},adWording:{flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:20,marginBottom:20,width:n},wordingLine0:o,wordingLine1:o,wordingLine2:o,adButtonGroup:{flexDirection:"column",alignItems:"center",justifyContent:"center"},relationLine:{hidden:!0,textAlign:"center",fontSize:12,height:16,lineHeight:16,color:"rgba(0, 0, 0, 0.3)",width:247,marginBottom:16,marginTop:16},adButton:{borderWidth:1,borderColor:"#ffffff",borderRadius:6,textAlign:"center",color:"#ffffff",marginBottom:24,width:i-84,height:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},adButtonText:{textAlign:"center",color:"#ffffff",letterSpacing:1,fontSize:14,height:40,width:i-84,lineHeight:40,fontWeight:500},adFeedbackContainer:{position:"absolute",width:60,height:48,zIndex:1000008,top:0,left:0},adFeedback:{zIndex:1000008,width:35,height:16,marginTop:8,marginLeft:8,position:"absolute"},adFeedbackList:{zIndex:1000008,width:134,height:98,hidden:!0,marginTop:32,marginLeft:5,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff",flexDirection:"column",alignItems:"center",justifyContent:"center"},adFeedbackTitle:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#000000"},adFeedbackBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{zIndex:1000008,width:134,hidden:!0,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{zIndex:1000008,width:134,height:98,hidden:!0,marginTop:32,marginLeft:5,position:"absolute",borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff",flexDirection:"column",alignItems:"center",justifyContent:"center"},adQualityBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{zIndex:1000008,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike0:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike1:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike2:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike3:{width:134,hidden:!0,height:1,backgroundColor:"#E0E0E0"},adCloseTip:{hidden:!0,backgroundColor:"#ffffff",flex:1,justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,zIndex:1000009,width:i,height:400},adCloseTipWrap:{width:140,height:200,flex:1,justifyContent:"center",alignItems:"center"},adCloseTipIcon:{width:64,height:55},adCloseTipTitle:{width:200,height:20,fontSize:18,color:"#3a3a3a",marginTop:20,textAlign:"center"},adCloseTipContent:{width:200,height:20,fontSize:13,color:"#bfbfbf",marginTop:10,textAlign:"center"}},..."video"===t?{adMedia:{zIndex:1000008,width:i,height:a},adVideoAudioBox:{zIndex:1000008,position:"absolute",bottom:0,left:0,width:40,height:40},adVideoAudioIcon:{position:"absolute",bottom:8,left:8,width:24,height:24,hidden:!1},adVideoCountDown:{position:"absolute",top:8,right:10,color:"#ffffff",fontSize:12,lineHeight:18,width:24,height:18,textAlign:"right"},adVideoAfter:{position:"absolute",width:i,height:a,hidden:!0,alignItems:"center",opacity:0},adVideoAfterMask:{position:"absolute",backgroundColor:"#000000",opacity:.7,width:i,height:a},adVideoClickMask:{position:"absolute",zIndex:1000008,borderRadius:12,width:i,height:a},adVideoAfterIcon:{zIndex:1000008,flexDirection:"row",portrait:{width:48,height:48,marginTop:52,marginBottom:8},landscape:{width:36,height:36,marginTop:44,marginBottom:6},alignSelf:"center",borderRadius:4},adVideoAfterText:{zIndex:1000008,fontSize:16,width:i,lineHeight:22,color:"#ffffff",textAlign:"center",height:22}}:{adMedia:{zIndex:1000008,width:i,height:a}}}},{onWindowResize:dH,onAppRoute:cH,onAppRouteDone:pH,_onShow:uH,_onHide:hH,_offShow:gH,_offHide:fH,getSystemInfoSync:mH,getInitScreenSize:yH,gametext:vH,onMethod:_H,View:EH,Component:xH,getPrivateThis:bH,removePrivateThis:wH,createComponent:TH,getMenuButtonBoundingClientRect:CH,interstitialAdShowNotify:AH}=y,PH=1,IH=2,SH=3,kH=4,DH=5,RH=8,OH=9,MH=10,NH=0,LH=1,WH=7,BH=8,VH=e=>bH(e),HH="https://wxa.wxs.qq.com/images/wxapp/new_audio_mute_icon.png",FH=0,GH=0,UH=O,zH=R,jH="",$H=!0,YH={},qH="image",KH="video";S.onReady((()=>{jH=Ma();var e=yH();FH=e.screenWidth||0,GH=e.screenHeight||0,$H=B();try{YH=CH()}catch{}}));var ZH="3030046789020061",XH="interstitial-ad has been destroyed",JH=function(e,t=!0){if(UF.call(this))return!1;var i=VH(this).adProxy.isTriggerClick(e),a=i?0:1;return t&&tF.call(this,e,a),i},QH=function(e,t=0){var i,a,n=VH(this);if(UF.call(this)||!n.data)return!1;var o,r=!1,s=0;(n.adProxy.isValidCondition("widget_gray_time_limit_2")&&(s=100*(n.data.condition.widget_gray_time_limit_2||5)),n.data.useTemplate&&null!==(i=n.data)&&void 0!==i&&null!==(a=i.condition)&&void 0!==a&&a.widget_gray_interstitial_template_clik_limit)&&(s+=Number(null!==(o=n.data.condition.widget_gray_interstitial_template_clik_limit)&&void 0!==o?o:0));return s>0&&(0===n.startExposureTime||+new Date-n.startExposureTime<s)&&(r=!0,n.adProxy.reportAdMonitorData(Ks,{clickType:t})),n.isShow||(r=!1),r},eF=function(){var e,t=VH(this);return null!==(e=t.data)&&void 0!==e&&e.useTemplate?t.tmplContainer:t.container},tF=function(e,t=0){var i;if(!UF.call(this)){var a=VH(this),n=eF.call(this);if(null!=n&&n.layoutBox){var{width:o,height:r}=n.layoutBox,s=0;return[0,2,3].includes(t)&&(a.clickCount+=1,s=a.clickCount),a.adProxy.reportTouchClick({slotid:ZH,costtype:null!==(i=a.adProxy.data)&&void 0!==i&&i.is_cpm?1:2,click_time:+new Date,click_cnt:s,start_posx:Math.round(e.relativeX)||0,start_posy:Math.round(e.relativeY)||0,end_posx:Math.round(e.relativeEndX)||0,end_posy:Math.round(e.relativeEndY)||0,ad_width:Math.round(o)||0,ad_height:Math.round(r)||0,press_interval:e.pressInterval,block_click:t})}}},iF=function(e){if(!UF.call(this)){var t=VH(this),i=eF.call(this);if(null!=i&&i.layoutBox){var{left:a,top:n,width:o,height:r}=i.layoutBox,s={currentTime:t.videoCurrentTime,duration:t.videoDuration},l=t.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-a,clickRelativeTop:e.absoluteY-n,pressInterval:e.pressInterval,left:a,top:n,width:o,height:r,videoData:s,extClickComm:JF.call(this)});return aF.call(this,{stage:1002}),l}}},aF=function({stage:e}){UF.call(this)||VH(this).adProxy.reportADFunnelModel({adtype:3,stage:e})},nF=function(e=!1){var t,i,a,n,o=VH(this);if(UF.call(this)||!o.data)return Promise.resolve();var r=eF.call(this);if(null==r||!r.layoutBox)return zo(0).then((()=>nF.call(this,e)));var s,{left:l,top:d,width:c,height:p}=r.layoutBox,u=o.data.useTemplate?null===(t=o.adTemplateRef)||void 0===t?void 0:t.isShow():!1===(null===(i=o.container)||void 0===i?void 0:i.style.hidden);if(!o.isShowedExposureReported&&u){o.isShowedExposureReported=!0,o.startExposureTime=+new Date,$F.call(this);o.adProxy.reportExposure({left:l,top:d,width:c,height:p,exposureType:"showed",extExposureComm:JF.call(this)});!function(e){ok.exposureRecord||(ok.exposureRecord={});var t=ok.exposureRecord;t[e]||(t[e]=0),t[e]+=1}(o.adType)}if(null!==(a=o.adTemplateRef)&&void 0!==a&&a.isShow()&&!o.hasEmitShowHalf)o.hasEmitShowHalf=!0,o.hasEmitHideHalf=!1,null===(s=o.adTemplateRef)||void 0===s||s.emitEvent(qw.ADSHOWHALF);else if(!(null!==(n=o.adTemplateRef)&&void 0!==n&&n.isShow()||o.hasEmitHideHalf)){var h;o.hasEmitShowHalf=!1,o.hasEmitHideHalf=!0,null===(h=o.adTemplateRef)||void 0===h||h.emitEvent(qw.ADHIDEHALF)}if(!o.isViewableExposureReported&&u&&oF.call(this)){if(!e)return zo(1e3).then((()=>nF.call(this,!0)));o.isViewableExposureReported=!0,o.adProxy.isViewable=!0;o.adProxy.reportExposure({left:l,top:d,width:c,exposureType:"viewable",extExposureComm:JF.call(this)})}return Promise.resolve()},oF=function(){var e,t;if(UF.call(this))return!1;var i=VH(this);return i.ad_type===qH||!(null===(e=i.adProxy.data)||void 0===e||null===(t=e.condition)||void 0===t||!t.widget_gray_video_exposure_new_strategy)},rF=function(e){var t;if(!UF.call(this)){var i=VH(this),a=+new Date;return i.adProxy.reportCloseAction({slotid:ZH,is_game:$H?1:0,costtype:null!==(t=i.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,close_type:e,exposure_duration:a-i.startExposureTime-i.hideDuration,start_time:i.startExposureTime,close_time:a})}},sF=function(e,t={}){var i,a,n,o,r=VH(this);if(!UF.call(this)&&r.data){var{width:s,height:l}=(r.data.useTemplate?null===(i=r.adTemplateRef)||void 0===i||null===(a=i.getElementById("adContainer"))||void 0===a?void 0:a.style:null===(n=r.adContainer)||void 0===n?void 0:n.style)||{width:0,height:0};return r.adProxy.reportAntifraud({click_button:e,cost_type:null!==(o=r.adProxy.data)&&void 0!==o&&o.is_cpm?1:2,slotid:ZH,is_game:$H?1:0,pageentertime:+new Date(r.adProxy.getProgramStartTime()),ad_width:Math.round(s)||0,ad_height:Math.round(l)||0,clientexptime:r.startExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:Math.round(t.absoluteX)||0,pos_y:Math.round(t.absoluteY)||0,screen_width:FH,screen_height:GH})}},lF=function(e="",t={}){var i,a,n,o=VH(this);if(!UF.call(this)&&o.data){var{width:r,height:s}=(o.data.useTemplate?null===(i=o.adTemplateRef)||void 0===i||null===(a=i.getElementById("adContainer"))||void 0===a?void 0:a.style:null===(n=o.adContainer)||void 0===n?void 0:n.style)||{width:0,height:0};return o.adProxy.reportClickPosition({impTime:0,adWidth:Math.round(r)||0,adHeight:Math.round(s)||0,expTime:o.startExposureTime,clickTime:+new Date,endPosx:Math.round(t.absoluteX)||0,endPosy:Math.round(t.absoluteY)||0,posName:e})}},dF=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){if(!UF.call(this)){var o=VH(this);e&&!i&&(o.clickFirstGradeTime=+new Date),o.adProxy.reportAdFeedbackData({adWidth:FH,adHeight:GH,adPosX:0,adPosY:0,expTime:o.startExposureTime,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?o.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?+new Date:0,feedbackReason:n})}},cF=function(e={}){if(!UF.call(this)){var t=VH(this);return Object.assign({autoCloseTime:t.autoCloseTime,launchTime:t.launchTime,frequencyTime:t.frequencyTime},e)}},pF=function(){if(!UF.call(this)){var e=mH();FH=e.screenWidth,GH=e.screenHeight,jH=FH>GH?"landscape":"portrait"}},uF=function(e=!1){var t;if(!UF.call(this)){var i=VH(this);if(i.fetchPromise)return Promise.resolve();var a,n,o=Date.now();return e&&this.aiadPlatformId?i.fetchPromise=i.adProxy.checkAndFetch(!1,{},{},!0):e&&null!==(t=i.cacheCondition)&&void 0!==t&&t.isPreloadAd?i.fetchPromise=i.adProxy.checkAndFetch():i.fetchPromise=i.adProxy.fetch(),i.fetchPromise.catch((e=>(i.fetchPromise=null,i.emitter.emit("_error",e)))),i.adFetchResult=i.fetchPromise,i.adFetchResult.then((e=>{a=Date.now(),n=!0,i.eventChannel&&i.eventChannel.emit("dataPerformance",{cost:a-o,result:n,preload:e.from_preload}),i.fetchPromise=null,i.isData=!0,i.data=e||{},i.ad_type=Lv("video",e.crt_size)?KH:qH,zH&&(i.canCrossPage=!$H&&S.clientVersion>=671096320),UH&&(i.canCrossPage=!$H&&S.clientVersion>402661376,i.canCustomCacheIOS=!0),i.autoCloseTime=e.card_info&&e.card_info.auto_close_time||15,i.launchTime=e.card_info&&e.card_info.launch_time||15,i.frequencyTime=e.card_info&&e.card_info.frequency_time||15;var t,r,s=(t=i.adType,(r=ok&&ok.exposureRecord?ok.exposureRecord:{})&&r[t]?r[t]:0),{rerankingExtInfo:l}=i.data||{};return null!=l&&l.critical_exposure&&(i.frequencyTime=s>=l.critical_exposure?l.beyond_interval||5:l.normal_interval||5),TF.call(this),wF.call(this)})).catch((()=>{a=Date.now(),n=!1,i.eventChannel.emit("dataPerformance",{cost:a-o,result:n})}))}},hF=(e,t)=>{var i;e&&(Object.keys(t).forEach((i=>{var a=t[i];e.attributes[i]=a.toString()})),null==e||null===(i=e.children)||void 0===i||i.forEach((e=>hF(e,t))))},gF=function(){var e,t,i=VH(this),{template:a,style:n}={template:`\n  <view id="body">\n    <view id="container">\n      <view id="mask" bubble-event="true"></view>\n      <view id="cancel-box">\n        <image id="cancel" bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/interstitialClose.jpeg"></image>\n      </view>\n      <view id="ad-container">\n        <image id="ad-background"></image>\n        <view id="ad-mask"></view>\n        ${"video"===(t=i.ad_type)?oH:rH}\n        <text id="ad-channels-live-reserve" value="直播预约"></text>\n        <view id="ad-channels-live">\n          <image id="ad-channels-live-icon" src="https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"></image>\n          <text id="ad-channels-live-text" value="直播中"></text>\n        </view>\n        <text id="ad-channels-live-end" value="直播结束"></text>\n        <view id="ad-content" bubble-event="false">\n          <view id="ad-wording" bubble-event="false">\n          </view>\n          <view id="ad-button-group">\n            <text id="relation-line">placeholder</text>\n            <view id="ad-button" click-state="true">\n              <text id="ad-button-text" click-state="true" bubble-event="true"></text>\n            </view>\n          </view>\n        </view>\n        <view id="ad-close-tip">\n          <view id="ad-close-tip-wrap">\n            <image id="ad-close-tip-icon" bubble-event="true" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=b7cf6bfe332cf0a981234fdfd5bde985&filekey=3033020101041f301d02016d040253480410b7cf6bfe332cf0a981234fdfd5bde985020207b7040d00000004627466730000000131&hy=SH&storeid=32303139303432343135353331363030303733623437313336666664393331323630333230613030303030303664&bizid=1023"></image>\n            <text id="ad-close-tip-title" bubble-event="true" value="感谢你的反馈"></text>\n            <text id="ad-close-tip-content" bubble-event="true" value="我们会努力为你推荐更优质的广告"></text>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n  `,style:{...tH,..."video"===t?iH:aH}};null!==(e=i.adProxy.data)&&void 0!==e&&e.condition.widget_gray_interstitial_new_ui&&({template:a,style:n}=((e,t)=>({template:`\n  <view id="body">\n    <view id="container">\n      <view id="mask" bubble-event="true"></view>\n      <view id="cancel-box">\n        <image id="cancel" bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/interstitial_close_button.png"></image>\n      </view>\n      <view id="ad-container">\n        <image id="ad-background"></image>\n        <view id="ad-mask"></view>\n        ${"video"===e?oH:rH}\n        <text id="ad-channels-live-reserve" value="直播预约"></text>\n        <view id="ad-channels-live">\n          <image id="ad-channels-live-icon" src="https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"></image>\n          <text id="ad-channels-live-text" value="直播中"></text>\n        </view>\n        <text id="ad-channels-live-end" value="直播结束"></text>\n        <view id="ad-content">\n          <view id="ad-wording">\n          </view>\n          <view id="ad-button-group">\n            <text id="relation-line">placeholder</text>\n            <view id="ad-button" click-state="true">\n              <text id="ad-button-text" click-state="true" bubble-event="true"></text>\n            </view>\n          </view>\n        </view>\n        <view id="ad-close-tip">\n          <view id="ad-close-tip-wrap">\n            <image id="ad-close-tip-icon" bubble-event="true" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=b7cf6bfe332cf0a981234fdfd5bde985&filekey=3033020101041f301d02016d040253480410b7cf6bfe332cf0a981234fdfd5bde985020207b7040d00000004627466730000000131&hy=SH&storeid=32303139303432343135353331363030303733623437313336666664393331323630333230613030303030303664&bizid=1023"></image>\n            <text id="ad-close-tip-title" bubble-event="true" value="感谢你的反馈"></text>\n            <text id="ad-close-tip-content" bubble-event="true" value="我们会努力为你推荐更优质的广告"></text>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n  `,style:{...lH({screenWidth:t,adType:e})}}))(i.ad_type,Math.min(GH,FH))),i.cardStyle=n,i.cardXOM=T()(a).root,i.canCrossPage&&hF(i.cardXOM,{independent:!0}),GA.call(this,i.cardXOM,n),ig.add(i.body),i.container.on("click",(e=>{if(JH.call(this,e,!1)&&!QH.call(this,e,4))return i.isClosing||(LF.call(this,1),sF.call(this,4,e)),Promise.resolve()})),i.cancelBox.on("click",(e=>(i.isShow||i.adProxy.reportAdMonitorData(_l,{isClosing:i.isClosing}),JH.call(this,e,!1)?(QH.call(this,e,3)||i.isClosing||(LF.call(this,0),sF.call(this,3,e)),Promise.resolve()):Promise.resolve()))),i.adFeedbackContainer.on("click",(e=>{JH.call(this,e,!1)&&(QH.call(this,e)||(i.adFeedbackList.style.hidden=!i.adFeedbackMenu.style.hidden||!i.adFeedbackList.style.hidden,i.adFeedbackMenu.style.hidden=!0,i.adFeedbackList.style.hidden||dF.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"})))})),i.adFeedbackBtn.on("click",(e=>{JH.call(this,e,!1)&&(QH.call(this,e)||(i.adProxy.openFeedbackUrl($H?1007:1006),i.adFeedbackList.style.hidden=!0,dF.call(this,{secondGradeId:1,secondGradeDesc:"投诉"})))})),i.adDislikeBtn.on("click",(e=>{JH.call(this,e,!1)&&(QH.call(this,e)||(i.adFeedbackList.style.hidden=!0,i.adFeedbackMenu.style.hidden=!1,dF.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣"})))})),i.adQualityBtn.on("click",(e=>{JH.call(this,e,!1)&&(QH.call(this,e)||(i.adFeedbackMenu.style.hidden=!0,dF.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:4}),LF.call(this,7),sF.call(this,8,e)))})),i.adDuplicateBtn.on("click",(e=>{JH.call(this,e,!1)&&(QH.call(this,e)||(i.adFeedbackMenu.style.hidden=!0,dF.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:5}),LF.call(this,7),sF.call(this,8,e)))})),i.adDismatchBtn.on("click",(e=>{JH.call(this,e,!1)&&(QH.call(this,e)||(i.adFeedbackMenu.style.hidden=!0,dF.call(this,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:1}),LF.call(this,7),sF.call(this,8,e)))})),i.adButton.on("click",(e=>{JH.call(this,e)&&(QH.call(this,e,1)||HF.call(this,e,1))})),i.adContent.on("click",(e=>{var t,a;null!==(t=i.data)&&void 0!==t&&null!==(a=t.condition)&&void 0!==a&&a.widget_gray_interstitial_content_clik?(HF.call(this,e,OH),i.adProxy.reportAdMonitorData(Tc)):i.adProxy.reportAdMonitorData(Cc)})),i.adWording.on("click",(e=>{var t,a;sF.call(this,5,e),null!==(t=i.data)&&void 0!==t&&null!==(a=t.condition)&&void 0!==a&&a.widget_gray_interstitial_content_clik?(HF.call(this,e,DH),i.adProxy.reportAdMonitorData(Ac)):i.adProxy.reportAdMonitorData(Pc)})),i.ad_type===qH&&i.adMedia.on("click",(e=>{i.adProxy.isValidCondition("widget_gray_optimizedstyle")?JH.call(this,e)&&(QH.call(this,e,2)||HF.call(this,e,2)):sF.call(this,2,e)})),i.ad_type===KH&&(i.adVideoClickMask.on("click",(e=>{JH.call(this,e)&&(QH.call(this,e,2)||HF.call(this,e,2))})),i.adVideoAfter.on("click",(e=>{JH.call(this,e)&&(QH.call(this,e,2)||HF.call(this,e,2))})),i.adVideoAudioBox.on("click",(e=>{JH.call(this,e,!1)&&(QH.call(this,e,1)||(i.adMedia.muted=!i.adMedia.muted,i.adVideoAudioIcon.src=i.adMedia.muted?HH:"https://wxa.wxs.qq.com/images/wxapp/new_audio_icon.png"))})),i.adMedia.onTimeUpdate((e=>fF.call(this,e))),i.adMedia.onEnded((()=>mF.call(this))),i.adMedia.onError((e=>yF.call(this,e))),i.adMedia.onPlay((()=>vF.call(this))))},fF=function(e){var{duration:t,position:i}=e,a=VH(this);if(!UF.call(this)&&a.data){var n=ZF.call(this);if(zF.call(this),n&&(n.autoplay=!1),i>0&&(a.videoCurrentTime=1e3*i),a.videoDuration=1e3*t,a.isFirstPlay){a.adProxy.setTimePoint("p21",{time:Date.now()-1e3*i});var o=0;a.showTime>a.videoFirstPlayTime&&(o=a.showTime-a.videoFirstPlayTime),a.adProxy.reportVideoLoadTime({beginTime:a.videoFirstPlayTime,endTime:(new Date).getTime()-Math.round(1e3*i),departureTime:o,reportType:1,preloadVideo:a.preloadVideo?1:0,preloadVideoSuccess:a.preloadVideoSuccess?1:0}),a.isFirstPlay=!1,aF.call(this,{stage:1004}),a.isFirstPlaySuccess=!0,a.adProxy.reportAdIDKey({key:ol})}if(i>=1&&!a.isViewableExposureReported)if(n){if(!oF.call(this)){var{width:r,height:s}=null==n?void 0:n.style;a.isViewableExposureReported=!0,a.adProxy.isViewable=!0;a.adProxy.reportExposure({exposureType:"viewable",left:0,top:0,width:r,height:s,extExposureComm:JF.call(this)})}}else a.adProxy.reportAdMonitorData(Td,{isUseTemplate:a.data.useTemplate});if(!a.data.useTemplate){var l=Math.ceil(t-i);a.adVideoCountDown.value=`${l.toString()}s`,UH&&t-i<.6&&a.adVideoAfter.style.hidden&&(a.adVideoAfter.style.hidden=!1,a.adVideoAfter.animate({opacity:1,duration:350}),a.adVideoAudioBox.style.hidden=!0,a.adVideoCountDown.style.hidden=!0)}}},mF=function(){var e=VH(this);if(!UF.call(this)&&e.data){e.videoCurrentTime=e.videoDuration,e.isEnded=!0,e.isPlaying=!1,jF.call(this);e.adProxy.reportVideo({playType:"complete",conditionType:"end",playDuration:e.videoCurrentTime,videoDuration:e.videoDuration,muted:XF.call(this)});e.data.useTemplate||(e.adVideoAfter.style.hidden=!1,e.adVideoAudioBox.style.hidden=!0,e.adVideoCountDown.style.hidden=!0,zH&&e.adVideoAfter.animate({opacity:1,duration:300})),e.adProxy.reportAdMonitorData(rl)}},yF=function(e){var t=VH(this);UF.call(this)||(jF.call(this),t.adProxy.reportAdMonitorData(nl,e))},vF=function(){var e=VH(this);UF.call(this)||e.videoStartPlay||(e.videoFirstPlayTime=(new Date).getTime(),e.videoStartPlay=!0,e.adProxy.setTimePoint("p23"),e.adProxy.reportAdIDKey({key:il}))},_F=function(){var e=VH(this);if(UF.call(this)||!e.data)return Promise.resolve();if(!e.cardStyle)return Promise.resolve();var t=e.cardStyle;""!==e.relationLine.value&&(t.relationLine.hidden=!1,e.relationLine.style.hidden=!1,t.adWording.marginBottom=0,e.adWording.style.marginBottom=0);var i=Object.keys(t);if(i.forEach((i=>{if(!["container","mask","body"].includes(i)&&t[i]){var a=t[i],n=Object.keys(a),o=["width","height","fontSize","lineHeight","borderRadius","marginTop","marginBottom","marginLeft","marginRight"];n.forEach((n=>{var r;null!==(r=e[i])&&void 0!==r&&r.style&&o.includes(n)&&(e[i].style[n]=a[n],t[i][n]=a[n])}))}})),"landscape"===jH){e.adContainer.style.bottom=0,e.cancelBox.style.bottom=0;var a=GH-32;e.container.nextLayout().then((()=>{var n=44+e.adContainer.layoutBox.height,o=a/n,r=["width","height","fontSize","lineHeight","borderRadius","marginTop","marginBottom","marginLeft","marginRight"];i.forEach((i=>{if(!["container","mask","body"].includes(i)){if("relationLine"===i&&""===e.relationLine.value)return;r.forEach((a=>{var n,r;null!==(n=e[i])&&void 0!==n&&null!==(r=n.style)&&void 0!==r&&r[a]&&(e[i].style[a]=t[i][a]*o)}))}}))}))}return e.adCloseBtnLineDislike0.style.hidden=!1,e.adCloseBtnLineDislike1.style.hidden=!1,e.adCloseBtnLineDislike2.style.hidden=!1,e.adCloseBtnLineDislike3.style.hidden=!1,e.adDislikeBtn.style.hidden=!1,e.container.style.width=FH,e.container.style.height=GH,e.body.style.width=FH,e.body.style.height=GH,e.mask.style.width=FH,e.mask.style.height=GH,e.container.nextLayout().then((()=>{if(!$H&&UH)return e.container.forceUpdate()}))},EF=function(){var e,t=VH(this);if(UF.call(this)||!t.data)return Promise.resolve();if(!t.cardStyle)return Promise.resolve();if(null!==(e=t.adProxy.data)&&void 0!==e&&e.condition.widget_gray_interstitial_new_ui)return _F.call(this);var{width:i,height:a}=t.data,n="portrait"===jH?Mv/a:Nv/a,o="portrait"===jH?FH/375:GH/375,r=t.cardStyle,s=Object.keys(r);s.forEach((e=>{if(r[e][jH]){var i=r[e][jH];Object.keys(i).forEach((a=>{var n;null!==(n=t[e])&&void 0!==n&&n.style&&(t[e].style[a]=i[a],r[e][a]=i[a])}))}}));var l=i*n;r.adBackground.width=l,t.adBackground.style.width=l,"portrait"===jH?(r.adMedia.width=kv,t.adMedia.style.width=kv,r.adMedia.height=Rv,t.adMedia.style.height=Rv,r.adBackground.height=Mv,t.adBackground.style.height=Mv,r.adBackground.left=0-(l-kv)/2,t.adBackground.style.left=0-(l-kv)/2):"landscape"===jH&&(t.adMedia.style.width=Dv,r.adMedia.width=Dv,t.adMedia.style.height=Ov,r.adMedia.height=Ov,t.adBackground.style.height=Nv,r.adBackground.height=Nv,t.adBackground.style.left=0-(l-Dv)/2,r.adBackground.left=0-(l-Dv)/2);var d=["width","height","fontSize","lineHeight","borderRadius"];return s.forEach((e=>{if(!["container","mask","body"].includes(e))if(d.forEach((i=>{var a,n;null!==(a=t[e])&&void 0!==a&&null!==(n=a.style)&&void 0!==n&&n[i]&&(t[e].style[i]=r[e][i]*o)})),"adWording"===e||"adFeedbackList"===e||"adFeedbackMenu"===e)t[e].style.marginTop=r[e].marginTop*o;else if("adButton"===e)t[e].style.marginBottom=r[e].marginBottom*o;else if("adVideoAfterIcon"===e)t[e].style.marginTop=r[e].marginTop*o,t[e].style.marginBottom=r[e].marginBottom*o;else if(0===e.indexOf("wordingLine")){var i,a,n,s,l="portrait"===jH?kv:Dv;if("split"===(null===(i=t[e])||void 0===i?void 0:i.wordRenderMode)&&null!==(a=t.wordingLine0)&&void 0!==a&&a.value)l=vH.getTextWidth(null===(s=t.wordingLine0)||void 0===s?void 0:s.value,"portrait"===jH?17:14)+10;null!==(n=t[e])&&void 0!==n&&n.style&&(t[e].style.width=l*o)}})),t.adCloseBtnLineDislike0.style.hidden=!1,t.adCloseBtnLineDislike1.style.hidden=!1,t.adCloseBtnLineDislike2.style.hidden=!1,t.adCloseBtnLineDislike3.style.hidden=!1,t.adDislikeBtn.style.hidden=!1,t.container.style.width=FH,t.container.style.height=GH,t.body.style.width=FH,t.body.style.height=GH,t.mask.style.width=FH,t.mask.style.height=GH,t.container.nextLayout().then((()=>{if(!$H&&UH)return t.container.forceUpdate()}))},xF=function(){var e=b()((function*(){var e=VH(this);if(!UF.call(this)&&e.data)try{var t;e.tmplContainer||(e.tmplContainer=new EH({name:"interstitialTemplContainer",independent:e.canCrossPage})),ig.children[e.tmplContainer.id]||(ig.add(e.tmplContainer),e.canCrossPage||(e.tmplContainer.fullscreen=!0),$H||(e.tmplContainer.style.fixed=!0),e.tmplContainer.style.position="absolute",e.tmplContainer.style.left=0,e.tmplContainer.style.top=0),yield e.adTemplate.render({isEmpty:void 0,systemInfo:{screenWidth:FH,screenHeight:GH,deviceOrientation:jH,platform:R?"android":"ios",hostEnv:"minigame"},hostContainer:e.tmplContainer,template:e.data.template,adData:e.adProxy.data,adCustomId:"INTERSTITIAL",styleOptions:{removePx:!0,splitShorthand:!0,convertRgbaColor:!0,convertDisplayName:!0,convertRotate:!0,ratio:GH>FH?FH/375:GH/375},extraScope:{private:e,cancelBoxIcon:"http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=0a13bee70ecfda3093ad0e183cc2576a&filekey=3033020101041f301d02016d0402534804100a13bee70ecfda3093ad0e183cc2576a0202105c040d00000004627466730000000131&hy=SH&storeid=32303138313232393033353031333030303365356565313336666664393336663561333230613030303030303664&bizid=1023",rightButtonInfo:YH},ref:t=>{e.adTemplateRef=t,t.onEvent(e.handleAdTemplateEvent)}}),e.showDetailTime=+new Date,e.buttonTextType=e.data.button_action.text_type||0,e.data.product_type===Cg.ANDROID?(e.adProxy.setAppInstallState(!1),SF.call(this)):e.data.product_type===Cg.WE_CHAT&&e.data.app.isFollowed&&0===e.buttonTextType&&IF.call(this,"查看公众号"),e.adProxy.preloadLanding(),e.canCrossPage?e.emitter.emit("load",{isGlobalInstance:!0}):e.emitter.emit("load"),L&&(yield zo(0)),yield null===(t=e.adTemplateRef.getRootElement())||void 0===t?void 0:t.ready(),e.emitter.emit("ready"),e.adProxy.reportAdMonitorData(sd)}catch(t){e.adProxy.reportAdMonitorData(ld,t),e.emitter.emit("_error",{errMsg:"interstitial render failed (internal)"})}}));return function(){return e.apply(this,arguments)}}(),bF=function(){var e=b()((function*(){var e=VH(this);!UF.call(this)&&e.adTemplateRef&&(pF.call(this),yield e.adTemplateRef.update({systemInfo:{screenWidth:FH,screenHeight:GH,deviceOrientation:jH,platform:R?"android":"ios",hostEnv:"minigame"}}),e.showDetailTime=+new Date)}));return function(){return e.apply(this,arguments)}}(),wF=function(){var e=b()((function*(){var e=VH(this);if(UF.call(this)||!e.data)return Promise.resolve();try{var t,i,a,{app:n,product_type:o,crtInfo:r,useTemplate:s,button_action:l,image_url:d,card_info:{bg_color:c,font_color:p,bg_img:u,desc:h,thumb:g,title:f,description:m},extBackComm:y}=e.data;if(s)return void(yield xF.call(this));var v,_=null==r||null===(t=r[0])||void 0===t||null===(i=t.card_info)||void 0===i?void 0:i.mp_tag_type;if(e.body&&ig.remove(e.body),gF.call(this),e.canCrossPage||(e.body.fullscreen=!0),$H||(e.body.style.fixed=!0),e.ad_type===KH){var{short_video:{thumb_url:E,video_url:x}}=e.data;e.adMask.style.hidden=!0,e.adBackground.style.hidden=!0,e.adVideoAfter.style.hidden=!0,e.adVideoAudioIcon.src=HH,e.adVideoAfter.src=u,e.adVideoAfterIcon.src=g,e.adVideoAfterText.value=f,e.adMedia.autoplay=!1,e.canCustomCacheIOS?e.adMedia.customCache=!0:e.adMedia.customCache=!1,UH&&e.adMedia.src===x&&e.adMedia.seek(0),UH?(e.adMedia.poster=E,zo(500).then((()=>{e.adMedia.src=x,e.adProxy.setTimePoint("p8")}))):(e.adProxy.setTimePoint("p8"),e.adMedia.src=x,e.adMedia.poster=E),e.adProxy.reportVideoLoadTime({beginTime:e.fetchBeginTime,endTime:(new Date).getTime(),reportType:2}),e.adProxy.reportAdIDKey({key:tl})}else e.ad_type===qH&&(e.adMedia.src=d,e.adMask.style.hidden=!1,e.adBackground.style.hidden=!1,e.adProxy.reportAdIDKey({key:al}));c?(e.adMask.style.opacity=1,e.adMask.style.backgroundColor=c,v=p,e.relationLine.style.color=p,e.adButton.style.color=p,e.adButton.style.borderColor=p,e.adButtonText.style.color=p,e.adBackground.style.hidden=!0):e.adProxy.isValidCondition("widget_gray_optimizedstyle")?(e.adContainer.style.borderRadius=8,e.adContent.style.backgroundColor="#ffffff",v="#000000",e.relationLine.style.color="#b3b3b3",e.adButton.style.color="#ffffff",e.adButton.style.borderColor="#07c160",e.adButton.style.backgroundColor="#07c160",e.adButtonText.style.color="#ffffff",e.adBackground.style.hidden=e.ad_type===KH):(e.adMask.style.opacity=.5,e.adMask.style.backgroundColor="#000000",v="#ffffff",e.relationLine.style.color="#ffffff",e.adButton.style.color="#ffffff",e.adButton.style.borderColor="#ffffff",e.adButtonText.style.color="#ffffff",e.adBackground.style.hidden=e.ad_type===KH,e.adBackground.src=u);var b,w=h,C="normal";if([Tg.CRT_SIZE_AMS_PIC_169,Tg.CRT_SIZE_AMS_VIDEO_169].includes(null===(a=e.data)||void 0===a?void 0:a.crt_size)&&m)if((w=((e,t)=>{for(var i="",a=[],n=0,o=0;o<e.length;o++)n+=/[\u4e00-\u9fa5]/.test(e[o])?2:1,i+=e[o],n>t&&(n=0,a.push(i),i="");return i&&a.push(i),a})(m,22)).length>1&&(C="split"),null!==(b=e.adProxy.data)&&void 0!==b&&b.condition.widget_gray_interstitial_new_ui){var A=Math.min(FH,GH)-64,P=A-56;w=vH.textMetrics(m,{fontSize:17,maxWidth:P,maxLines:3}).map((({text:e})=>e))}if(w.forEach(((t,i)=>{var a,n=`wordingLine${i}`,{root:o}=T()(sH.wordingLineTmpl);e.canCrossPage&&hF(o,{independent:!0}),o.attributes.id=n;var r=TH.call(this,o);r.value=t,r.style.color=v,r.wordRenderMode=C,r.style.textAlign="split"===C?"left":"center",null!==(a=e.adProxy.data)&&void 0!==a&&a.condition.widget_gray_interstitial_new_ui&&(r.style.textAlign="center"),e.adWording.add(r)})),e.adButtonText.value=l.button_text,21474837086===y.ams_second_industry_id&&(e.adButtonText.value="点击跳转广告详情页",e.adButtonText.style.width=218,e.adButton.style.width=218),e.buttonTextType=l.text_type||0,_===Pg){var I=+new Date;Da({buttonText:l.button_text,aid:e.adProxy.data.aid,uxinfo:e.adProxy.data.uxinfo}).then((t=>{var i=+new Date;if(e.adProxy.reportRelationFetchDuration({startTime:I,endTime:i,showTime:e.showDetailTime||0}),t){var{count:a,descText:n}=t,o=`— 最近已有${a}人${n} —`;e.relationLine.value=o}else e.relationLine.value=""})).catch((t=>{e.relationLine.value="",e.adProxy.reportAdMonitorData(gl,t)}))}o===Cg.ANDROID?(e.adProxy.setAppInstallState(!1),SF.call(this)):o===Cg.WE_CHAT&&n.isFollowed&&0===e.buttonTextType&&IF.call(this,"查看公众号"),e.adProxy.preloadLanding(),e.canCrossPage?e.emitter.emit("load",{isGlobalInstance:!0}):e.emitter.emit("load"),e.container.ready().then((()=>{e.emitter.emit("ready")})),e.adProxy.reportAdIDKey({key:cl})}catch(t){return e.adProxy.reportAdIDKey({key:ul}),e.adProxy.reportAdMonitorData(Us,t),e.adProxy.reportAdIDKey({key:pl}),Promise.reject(t)}return Promise.resolve()}));return function(){return e.apply(this,arguments)}}(),TF=function(){var e,t,i=VH(this);if(!UF.call(this)&&i.ad_type===KH&&i.data){var{video_url:a,video_duration:n}=i.data.short_video;i.videoDuration=1e3*n,!zH||null!==(e=i.adProxy.data)&&void 0!==e&&null!==(t=e.condition)&&void 0!==t&&t.widget_gray_interstitial_video_disable_preload||(i.preloadVideo=!0,i.preloadVideoSuccess=!1,i.adProxy.preloadVideo([a]).catch((e=>{i.adProxy.reportAdMonitorData(dl,e)})))}},CF=function(e){if(!UF.call(this)){var t=VH(this);return e.then((e=>/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):void 0)).catch((()=>t.adProxy.reportFollow({result:"fail"})))}},AF=function(e){var t,i,a=VH(this);if(!UF.call(this)&&a.data){var n;if(a.clickCount>1)a.adProxy.reportRepeatClick({slotId:ZH,costType:null!==(n=a.adProxy.data)&&void 0!==n&&n.is_cpm?1:2,clkCnt:a.clickCount,lastClkPeriod:+new Date-a.lastLandingTime,retCode:a.lastJsapiStatus,costTime:a.lastJsapiCostTime,pageStayTime:a.landingPageCostTime,jsapiName:a.lastJsapiName});a.lastLandingTime=Date.now();var o,r=a.data.product_type===Cg.WE_CHAT&&e&&e.isButton&&!a.adProxy.data.biz_info.is_subscribed&&(null===(t=a.adProxy.data)||void 0===t||null===(i=t.button_action)||void 0===i?void 0:i.jump_type)===wg.DEST_TYPE_ONEKEY_ATTENTION;if(e.isAddContact=!!r,r&&e.isButton)null==a||null===(o=a.adProxy)||void 0===o||o.reportAdMonitorData(Bd);var s=a.adProxy.land(e);if(s.then((e=>{e.errMsg&&(a.lastJsapiName=e.errMsg.replace(":ok","")),r&&/ok/.test(e.errMsg)&&(0===a.buttonTextType&&IF.call(this,"查看公众号"),a.adProxy.data.biz_info&&(a.adProxy.data.biz_info.is_subscribed=1)),a.adProxy.isLandingPageApi(a.lastJsapiName)?(a.isLandingPage=!0,jF.call(this)):a.lastJsapiStatus=0,a.lastJsapiCostTime=+new Date-a.lastLandingTime})).catch((()=>{a.lastJsapiStatus=1})),r&&e.isButton&&CF.call(this,s),a.ad_type===KH)a.adProxy.reportVideo({playType:a.isPlaying?"partial":"complete",conditionType:"land",playDuration:a.videoCurrentTime,videoDuration:a.videoDuration,muted:XF.call(this)})}},PF=function(){var e=VH(this);if(!UF.call(this)&&e.data)return zo(10).then((()=>e.adFetchResult.then((()=>{if(e.data&&e.isLandingPage){var t;e.lastJsapiStatus=0,e.isLandingPage=!1;var i=+new Date;e.landingPageCostTime=i-e.hideTime,e.adProxy.reportLandingTime({slotId:ZH,costType:null!==(t=e.adProxy.data)&&void 0!==t&&t.is_cpm?1:2,openTime:e.hideTime,closeTime:i,stayTime:e.landingPageCostTime,jsapiName:e.lastJsapiName,clickTime:e.lastLandingTime,clkCnt:e.clickCount,retCode:e.lastJsapiStatus,costTime:e.lastJsapiCostTime,actTypeInt:1}),LF.call(this,3)}})).catch((()=>{}))))},IF=function(){var e=b()((function*(e){var t,i=VH(this);!UF.call(this)&&i.data&&(yield kF.call(this),i.data.useTemplate?null===(t=i.adTemplateRef)||void 0===t||t.emitEvent(qw.CHANGEADBTNTEXT,{text:e}):i.adButtonText.value=e)}));return function(t){return e.apply(this,arguments)}}(),SF=function(){var e=b()((function*(){var e=VH(this);if(!UF.call(this)&&e.data){var{appInfo:{apkName:t,versionCode:i,urlScheme:a}}=e.data;try{var n=yield e.adProxy.getInstallState(t);n.isInstalled&&(void 0===n.versionCode||n.versionCode>=i)&&(e.androidAppState=4,e.adProxy.setAppInstallState(!0),a&&a.trim().length>0?IF.call(this,"进入应用"):IF.call(this,"查看应用"),1===e.buttonTextType&&IF.call(this,e.data.button_action.button_text))}catch{}}}));return function(){return e.apply(this,arguments)}}(),kF=function(e){if(!e||"function"!=typeof e)return new Promise((e=>kF.call(this,e)));var t=VH(this);try{var i,a;if(t.isReadyToShow&&null!=t&&null!==(i=t.data)&&void 0!==i&&i.useTemplate&&!t.isReady)null==t||null===(a=t.adProxy)||void 0===a||a.reportAdMonitorData(Id);else if(t.isReadyToShow&&!t.isReady){var n;null==t||null===(n=t.adProxy)||void 0===n||n.reportAdMonitorData(Pd)}}catch(e){}return t.isReady?e():t.emitter.on("ready",e),Promise.resolve()},DF=function(){var e=b()((function*(){var e;if(UF.call(this))throw{errMsg:XH};var t=VH(this);if(t.adProxy.setTimePoint("p4"),t.isShow=!0,t.ad_type===KH){t.adProxy.setTimePoint("p20"),zF.call(this);var i=ZF.call(this);i?(i.play(),i.autoplay=!0):t.adProxy.reportAdMonitorData(Ud),t.isFirstPlay=!0}if(yield bF.call(this),t.isSkitAd&&t.adTemplateHostTextEles)for(var a of t.adTemplateHostTextEles){var n,o,r;if(t.skitInfo.play_text)null===(r=t.adTemplateRef)||void 0===r||r.emitEvent(qw.CHANGEHOSTTEXT,{targetid:a.targetid,text:t.skitInfo.play_text});null===(n=t.adTemplateRef)||void 0===n||n.emitEvent(qw.SETSTYLE,{targetid:a.targetid,id:"container",style:{display:null!==(o=t.skitInfo)&&void 0!==o&&o.play_text?"":"none"}})}t.adProxy.setTimePoint("p5"),yield null===(e=t.adTemplateRef)||void 0===e?void 0:e.show()}));return function(){return e.apply(this,arguments)}}(),RF=function(){if(UF.call(this))return Promise.reject({errMsg:XH});var e=VH(this);return e.onceSwitched=!1,e.startShow=+new Date,e.body.style.width=FH,e.body.style.height=GH,!$H&&UH&&(e.body.style.hidden=!1),e.adProxy.setTimePoint("p4"),Promise.resolve().then((()=>{if(pF.call(this),UF.call(this))throw{errMsg:XH};if(e.isShow=!0,e.adProxy.setTimePoint("p22"),e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!0,e.ad_type===KH){e.adProxy.setTimePoint("p20"),zF.call(this),e.adMedia.play(),e.adMedia.autoplay=!0,e.isFirstPlay=!0;e.adProxy.reportVideo({playType:"partial",conditionType:"start",playDuration:0,videoDuration:e.videoDuration,muted:e.adMedia.muted})}return EF.call(this).then((()=>(e.body.style.hidden&&(e.body.style.hidden=!1),e.container.style.hidden=!1,e.isSwitched&&!e.canCrossPage?LF.call(this,6):e.container.animate({opacity:1,duration:300,emitError:!0}).then((()=>(e.showDetailTime=+new Date,e.adProxy.setTimePoint("p5"),e.container.nextLayout((()=>nF.call(this)))))).catch((t=>{var i={errMsg:t,isSwitched:e.isSwitched,onceSwitched:e.onceSwitched,startShow:e.startShow,enterRoute:e.enterRoute,enterTime:e.enterTime,outRoute:e.outRoute,outTime:e.outTime,lastRoute:e.lastRoute};return e.adProxy.reportAdMonitorData(Vs,i),LF.call(this,6).then((()=>Promise.reject({errCode:2004,errMsg:"广告渲染失败，或因小程序页面切换导致广告渲染失败"})))})))))}))},OF=function({branchId:e,branchDim:t,skitInfo:i,showErrorInfo:a}={}){if(UF.call(this))return Promise.reject({errMsg:XH});var n=VH(this);if(1===(function(){if(ok.hasOwnProperty("show")){var e=Object.keys(ok.show).map((e=>ok.show[e]));return Math.max(...e)}}()||0))return n.adProxy.reportAdMonitorData($s,cF.call(this)),Promise.reject({errCode:2003,errMsg:"当前正在播放激励视频广告或者插屏广告，不允许再次展示插屏广告"});var{createWebviewId:o,currentWebviewId:r}=n.adProxy.getWebviewInfo();return o===r||(n.adProxy.reportAdMonitorData(Ys,cF.call(this)),n.canCrossPage)?(n.adProxy.setTimePoint("p19"),n.isSwitched=!1,rk("show",n.adType,1),n.showTime=+new Date,n.fetchBeginTime=(new Date).getTime(),e?n.adProxy.recordAnalyseBranchInfo({branchId:e,branchDim:t}):n.adProxy.resetAnalyseBranchInfo(),n.isSkitAd&&(n.skitInfo=i||{}),n.adFetchResult.catch((()=>Promise.reject({errMsg:"no ad data"}))).then((()=>{var e=+new Date-+new Date(n.adProxy.getProgramStartTime());if(e<=1e3*n.launchTime)return n.adProxy.reportAdMonitorData(zs,cF.call(this,{startInterval:e})),Promise.reject({errCode:2001,errMsg:"小程序启动一定时间内不允许展示插屏广告"});var t=function(){if(ok.hasOwnProperty("close")){var e=Object.keys(ok.close).map((e=>ok.close[e]));return Math.max(...e)}}()||0,i=+new Date-t;return i<=1e3*n.frequencyTime?(n.adProxy.reportAdMonitorData(js,cF.call(this,{closeInterval:i})),Promise.reject({errCode:2002,errMsg:"距离小程序插屏广告或者激励视频广告上次播放时间间隔不足，不允许展示插屏广告",...a?{distanceNext:Math.abs(i-1e3*n.frequencyTime)}:{}})):(aF.call(this,{stage:1001}),n.isReadyToShow=!0,kF.call(this).then((()=>n.data.useTemplate?DF.call(this):RF.call(this))).then((()=>{n.adProxy.reportAdMonitorData(qs,cF.call(this))})))})).catch((e=>(rk("show",n.adType,0),Promise.reject(e))))):Promise.reject({errCode:2005,errMsg:"插屏广告并非当前页面调用，不允许展示插屏广告"})},MF=function(){var e=b()((function*(){var e;if(!UF.call(this)){var t,i=VH(this);if(i.androidAppState=0,null!==(e=i.data)&&void 0!==e&&e.useTemplate)i.handleAdTemplateEvent&&(null===(t=i.adTemplateRef)||void 0===t||t.offEvent(i.handleAdTemplateEvent)),yield BF.call(this),i.adTemplateRef=null,i.tmplContainer&&L&&ig.remove(i.tmplContainer),i.tmplContainer=null,i.adTemplateHostTextEles=[];i.data=null,i.isData=!1,i.isShow=!1,i.isReadyToShow=!1,i.cardXOM=null,i.cardStyle=null,i.startExposureTime=0,i.isShowedExposureReported=!1,i.isViewableExposureReported=!1,i.adProxy.isViewable=!1,i.lastCloseTime=0,i.buttonTextType=0,i.startExposureTime=0,i.clickCount=0,i.lastLandingTime=0,i.lastJsapiName="",i.lastJsapiStatus=0,i.lastJsapiCostTime=0,i.isLandingPage=!1,i.landingPageCostTime=0,i.hideTime=0,i.hideDuration=0,i.showTime=0,i.isClosing=!1,i.clickFirstGradeTime=0,i.body&&(i.body.style.hidden=!0),i.container&&(i.container.style.hidden=!0),i.isReady=!1,i.hasEmitShowHalf=!1,i.hasEmitHideHalf=!0,i.videoFirstPlayTime=0,i.videoStartPlay=!1,i.isEnded=!1,i.fetchBeginTime=0,i.videoCurrentTime=0,i.videoDuration=0,i.isPlaying=!1,i.isFirstPlay=!1,i.isFirstPlaySuccess=!1,i.preloadVideo=!1,i.preloadVideoSuccess=!1,i.keepAliveTimer=null,i.isSwitched=!1,i.onceSwitched=!1,i.startShow=0,i.canCrossPage=!1,i.canCustomCacheIOS=!1,i.showDetailTime=0,i.isEnded?aF.call(this,{stage:1005}):aF.call(this,{stage:1006}),rk("show",i.adType,0),rk("close",i.adType,+new Date),YF.call(this,"none"),i.isSkitAd||(!$H&&UH?zo(100).then((()=>{i.emitter.emit("close")})):i.emitter.emit("close")),i.adProxy.reset()}}));return function(){return e.apply(this,arguments)}}(),NF=function(){var e=b()((function*(e){if(UF.call(this))return Promise.resolve();var t=VH(this);t.adProxy.reportTimePoints({extInfo:{preloadVideoSuccess:t.preloadVideoSuccess?1:0}}),[4,6].includes(e)||(yield t.container.animate({opacity:0,duration:300})),rF.call(this,e),2===e?sF.call(this,6):3===e&&sF.call(this,7),yield MF.call(this),4!==e&&(yield uF.call(this))}));return function(t){return e.apply(this,arguments)}}(),LF=function(e){var t=VH(this);return UF.call(this)||!t.data||t.isClosing?Promise.resolve():(t.isSkitAd&&t.emitter.emit("close",e),t.data.useTemplate?WF.call(this,e):t.container?(t.isClosing=!0,t.ad_type===KH&&(t.adProxy.reportVideo({playType:t.isEnded?"complete":"partial",conditionType:"close",playDuration:t.videoCurrentTime,videoDuration:t.videoDuration,muted:t.adMedia.muted}),t.adMedia.autoplay=!1,t.adMedia.pause(),jF.call(this),t.adMedia.muted=!0,t.adVideoAfter.style.opacity=0),t.container.ready().then((()=>NF.call(this,e))).then((()=>t.isClosing=!1)).catch((e=>{t.isClosing=!1,t.adProxy.reportAdMonitorData(xl,e)}))):(t.adProxy.reportAdIDKey({key:El}),Promise.resolve()))},WF=function(){var e=b()((function*(e){if(!UF.call(this)){var t=VH(this);if(t.adTemplateRef){t.isClosing=!0;try{if(t.ad_type===KH){var i=ZF.call(this);i?(i.autoplay=!1,i.pause(),i.muted=!0):t.adProxy.reportAdMonitorData(zd),jF.call(this)}t.adTemplateRef.hide(),yield zo(350),t.adProxy.reportTimePoints({extInfo:{preloadVideoSuccess:t.preloadVideoSuccess?1:0}}),rF.call(this,e),2===e?sF.call(this,6):3===e&&sF.call(this,7),yield MF.call(this),4!==e&&t.adProxy.reportAdMonitorData(xd),yield uF.call(this),t.isClosing=!1}catch(e){t.isClosing=!1,t.adProxy.reportAdMonitorData(xl,e)}}}}));return function(t){return e.apply(this,arguments)}}(),BF=function(){var e=b()((function*(){var e,t,i,a=VH(this);null==a||null===(e=a.adTemplateRef)||void 0===e||e.offEvent(a.handleAdTemplateEvent),null==a||null===(t=a.adTemplateRef)||void 0===t||t.hide(),yield null==a||null===(i=a.adTemplate)||void 0===i?void 0:i.unmount({hostContainer:a.tmplContainer})}));return function(){return e.apply(this,arguments)}}(),VF=function(e,t){var i,a,n,o,r=VH(this);if(r.isShow||r.adProxy.reportAdMonitorData(vl,t.toString()),!UF.call(this)&&r.data&&null!==(i=r.adProxy)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&null!==(n=a.poi)&&void 0!==n&&n.poi_link){var{poi:{poi_link:s}}=r.adProxy.data;iF.call(this,e),se({url:s,adInfo:r.adProxy.getTransmissionChainData({logtype:3}),adUxInfo:null===(o=r.adProxy.data)||void 0===o?void 0:o.uxinfo}),lF.call(this,"poi",e)}},HF=function(e,t){var i,a=VH(this);if(a.isShow||a.adProxy.reportAdMonitorData(vl,t.toString()),!UF.call(this)&&a.data){var{appInfo:{urlScheme:n},product_type:o,dest_type:r,extBackComm:s}=a.data,l={isButton:Boolean((s.is_from_snsadinfo||23===(null===(i=a.data)||void 0===i?void 0:i.product_type))&&t===PH)};12===o&&zH&&4===a.androidAppState&&n&&n.trim().length>0?(iF.call(this,e),sF.call(this,t,e),a.adProxy.launchApplication(n,a.adProxy.data).catch((()=>{})),a.lastJsapiName="launchApplication",a.isLandingPage=!0):UH&&46===o&&6===r?Promise.race([iF.call(this,e),zo(500)]).then((()=>{sF.call(this,t,e),AF.call(this,l)})).catch((()=>{sF.call(this,t,e),AF.call(this,l)})):(iF.call(this,e),sF.call(this,t,e),AF.call(this,l)),lF.call(this,"",e)}},FF=function(){var e=b()((function*(){var e,t=VH(this);gH(t.handleEnterForeground),fH(t.handleEnterBackground),t.emitter.off("_error"),t.emitter.off("load"),t.emitter.off("close"),null!==(e=t.data)&&void 0!==e&&e.useTemplate?yield BF.call(this):ig.remove(t.body),wH(this)}));return function(){return e.apply(this,arguments)}}(),GF=function(){UF.call(this)||(kF.call(this).then((()=>{var e=VH(this);e.isShow&&(rk("show",e.adType,0),rk("close",e.adType,+new Date)),FF.call(this)})),this._destroyed=!0)},UF=function(){return this._destroyed},zF=function(){var e=VH(this);jF.call(this),e.keepAliveTimer=setTimeout((()=>{var t;e.adProxy.reportAdMonitorData(Ul,{currentTime:e.videoCurrentTime,duration:e.videoDuration,src:(null===(t=ZF.call(this))||void 0===t?void 0:t.src)||"",preloadVideo:e.preloadVideo?1:0,preloadVideoSuccess:e.preloadVideoSuccess?1:0})}),3e3)},jF=function(){var e=VH(this);e.keepAliveTimer&&clearTimeout(e.keepAliveTimer)},$F=function(){var e=b()((function*(){var e=VH(this);if(e.ad_type===qH){var t=yield e.adProxy.getChannelsLiveStatusWithRpc();YF.call(this,t)}}));return function(){return e.apply(this,arguments)}}(),YF=function(e){var t=VH(this);if(!UF.call(this)&&t.data){var i={adChannelsLiveReserve:!1,adChannelsLive:!1,adChannelsLiveEnd:!1};for(var a of("onlive"===e?i.adChannelsLive=!0:"end"===e?i.adChannelsLiveEnd=!0:"reserve"===e&&(i.adChannelsLiveReserve=!0),Object.keys(i))){var n;t.data.useTemplate&&t.adTemplateRef?t.adTemplateRef.emitEvent(qw.SETSTYLE,{targetid:`${t.adTemplateRef.getCustomId()}-${a}`,style:{display:i[a]?"":"none"}}):null!==(n=t[a])&&void 0!==n&&n.style&&(t[a].style.hidden=!i[a])}}},qF=function(e){var t=VH(this);if(!UF.call(this)&&t.data&&t.adTemplateRef)switch(e.action){case qw.TRIGGEREVENT:["error"].includes(e.value.eventName)&&t.emitter.emit(e.value.eventName,e.value.detail||{});break;case qw.HIDEAD:LF.call(this,0);break;case qw.ADSHOWHALF:setTimeout((()=>{t.isSwitched&&t.adProxy.reportAdMonitorData(bd)}),500);break;case qw.ADHIDEHALF:break;case qw.CHECKEXPOSURE:nF.call(this);break;case qw.FEEDBACKREPORT:dF.call(this,e.value);break;case qw.ADVIDEOPLAY:vF.call(this);break;case qw.ADVIDEOTIMEUPDATE:fF.call(this,e.value);break;case qw.ADVIDEOENDED:mF.call(this);break;case qw.ADVIDEOLOADFAILED:var i="videoError";"value"in e&&(i=e.value),yF.call(this,i);break;case qw.REPORTVIDEOPLAY:var{playType:a,conditionType:n,videoInfo:{playDuration:o,videoDuration:r,isMuted:s}}=e.value;t.adProxy.reportVideo({playType:a,conditionType:n,playDuration:o,videoDuration:r,muted:s});break;case qw.FETCHRELATIONTEXT:var l,d,{targetid:c}=e.value,{crtInfo:p,button_action:u}=t.data;if(8===(null==p||null===(l=p[0])||void 0===l||null===(d=l.card_info)||void 0===d?void 0:d.mp_tag_type)){var h=+new Date;Da({buttonText:u.button_text,aid:t.adProxy.data.aid,uxinfo:t.adProxy.data.uxinfo}).then((e=>{var i=+new Date;if(t.adProxy.reportRelationFetchDuration({startTime:h,endTime:i,showTime:t.showDetailTime||0}),e){var a,{count:n,descText:o}=e,r=`— 最近已有${n}人${o} —`;null===(a=t.adTemplateRef)||void 0===a||a.emitEvent(qw.CHANGERELATIONTEXT,{targetid:c,text:r})}})).catch((e=>{t.adProxy.reportAdMonitorData(gl,e)}))}break;case qw.FETCHHOSTTEXT:var{targetid:g,hostArgs:f}=e.value;t.adTemplateHostTextEles&&t.adTemplateHostTextEles.push({targetid:g,hostArgs:f});break;case qw.TEMPLATEMESSAGE:var m,y;"posClick"===e.value.message&&null!==(m=e.value.actionArgs)&&void 0!==m&&m.event&&null!==(y=e.value.args)&&void 0!==y&&y.pos&&KF.call(this,e.value.actionArgs.event,e.value.args.pos);break;case qw.POITAP:var{baseType:v,event:_}=e.value;v===gT.AD&&KF.call(this,_,"poi");break;default:t.adProxy.handleAdTemplateEvent(e)}},KF=function(){var e=b()((function*(e,t){var i={judgeClick:!1,clickLimit:null,closeType:null,clickType:null,reportFraudType:null,clickPoi:null};switch(t){case"mask":Object.assign(i,{clickLimit:kH,closeType:LH,reportFraudType:kH});break;case"cancelBox":Object.assign(i,{clickLimit:SH,closeType:NH,reportFraudType:SH});break;case"adImage":case"adVideo":case"videoAfter":Object.assign(i,{judgeClick:!0,clickLimit:IH,clickType:IH});break;case"adButton":Object.assign(i,{judgeClick:!0,clickLimit:PH,clickType:PH});break;case"wording":i.reportFraudType=DH;break;case"afterDislike":Object.assign(i,{closeType:WH,reportFraudType:RH});break;case"poi":Object.assign(i,{judgeClick:!0,clickLimit:MH,clickPoi:MH})}JH.call(this,e,i.judgeClick)&&(i.clickLimit&&QH.call(this,e,i.clickLimit)||(i.clickType&&(yield HF.call(this,e,i.clickType)),i.clickPoi&&(yield VF.call(this,e,i.clickPoi)),i.reportFraudType&&sF.call(this,i.reportFraudType,e),null!=i.closeType&&(yield LF.call(this,i.closeType))))}));return function(t,i){return e.apply(this,arguments)}}(),ZF=function(){var e,t=VH(this);return UF.call(this)||!t.data?null:t.data.useTemplate?(null===(e=t.adTemplateRef)||void 0===e?void 0:e.getElementById("adVideo","video"))||null:t.adMedia},XF=function(){var e;return(null===(e=ZF.call(this))||void 0===e?void 0:e.muted)||!1},JF=function(){if(UF.call(this))return{};var e=VH(this);return e.isSkitAd&&e.skitInfo?{drama_id:e.skitInfo.drama_id,episode_index:e.skitInfo.episode_index,drama_src_appid:e.skitInfo.src_appid}:{}};class QF extends xH{constructor({adUnitId:e,pluginId:t="",aiadPlatformId:i,isSkitAd:a=!1,eventChannel:n}){super(),this._destroyed=!1,this.aiadPlatformId=0,this.aiadPlatformId=null!=i?i:0;var o=VH(this);o.adUnitId=e,o.adType="interstitialAd",o.isSkitAd=a,o.cardXOM=null,o.cardStyle=null,o.ad_type="image",o.emitter=new ZP,o.adProxy=new HA({adUnitId:e,adType:"interstitialAd",pluginAppid:t,aiadPlatformId:i,isSkitAd:a,eventChannel:n}),o.eventChannel=n,o.isSkitAd&&(o.useHostText=!0,this._hide=()=>{LF.call(this,BH)}),o.getReconcilerElementProps=e=>{var t={independent:!1,customCache:!1};return o.canCrossPage&&(t.independent=!0),"video"===e&&o.canCustomCacheIOS&&(t.customCache=!0),t},o.adTemplateHostTextEles=[],o.adTemplate=new mA({hostConfig:YP({getExtraProps:o.getReconcilerElementProps}),hostContext:{onAppEnterForeground:uH,offAppEnterForeground:gH,onAppEnterBackground:hH,offAppEnterBackground:fH,getPropertyOfElement:(e,t)=>"parent"===t?e.parent:Qu(e),getBoundingClientRect:e=>e.layoutBox,operateVideo:(e,t)=>{["play","pause","stop"].includes(t)&&e[t]()},animate:(e,t)=>Promise.all([e.animate(t),zo(t.duration)]),getTextWidth:(e,t)=>vH.getTextWidth(e,t),onGlobalEvent:()=>{},offGlobalEvent:()=>{}}}),o.androidAppState=0,o.isShowedExposureReported=!1,o.isViewableExposureReported=!1,o.isReady=!1,o.isShow=!1,o.isReadyToShow=!1,o.emitter.on("ready",(()=>o.isReady=!0)),o.lastCloseTime=0,o.autoCloseTime=15,o.launchTime=15,o.frequencyTime=15,o.startExposureTime=0,o.clickCount=0,o.lastLandingTime=0,o.lastJsapiName="",o.lastJsapiStatus=0,o.lastJsapiCostTime=0,o.isLandingPage=!1,o.landingPageCostTime=0,o.hideTime=0,o.showTime=0,o.hideDuration=0,o.isClosing=!1,o.clickFirstGradeTime=0,o.videoFirstPlayTime=0,o.videoStartPlay=!1,o.isEnded=!1,o.fetchBeginTime=0,o.videoCurrentTime=0,o.videoDuration=0,o.isPlaying=!1,o.isFirstPlay=!1,o.preloadVideo=!1,o.preloadVideoSuccess=!1,o.keepAliveTimer=null,o.hasEmitShowHalf=!1,o.hasEmitHideHalf=!0,o.tmplContainer=null,o.isData=!1,o.isSwitched=!1,o.onceSwitched=!1,o.startShow=0;var{openType:r,createWebviewId:s,lastWebviewId:l,currentWebviewId:d}=o.adProxy.getWebviewInfo(),c=[r,l,d,s];o.outRoute="",o.lastRoute="",o.enterTime=0,o.outTime=0,s===d&&(o.enterRoute=c.join("|"),o.enterTime=+new Date,o.lastRoute="enter"),s===l&&(o.outRoute=c.join("|"),o.outTime=+new Date,o.lastRoute="out"),o.handleAdTemplateEvent=e=>{qF.call(this,e)},o.fetchPromise=null,o.cacheCondition=o.adProxy.getCacheConditionInfo(),uF.call(this,!0),$H||(cH((e=>{if(!UF.call(this)){var{createWebviewId:t,lastWebviewId:i,currentWebviewId:a}=o.adProxy.getWebviewInfo(),n=[e.openType,i,a,t];if(t===a&&(o.enterRoute=n.join("|"),o.enterTime=+new Date,o.onceSwitched=!0,o.lastRoute="enter"),t===i&&(o.outRoute=n.join("|"),o.outTime=+new Date,o.onceSwitched=!0,o.lastRoute="out"),o.isShow&&["navigateBack"].includes(e.openType)&&t===i){if(o.canCrossPage)return;LF.call(this,4)}}})),pH((()=>{if(!UF.call(this)){var{openType:e,createWebviewId:t,currentWebviewId:i}=o.adProxy.getWebviewInfo();if(["navigateTo","navigateBack","switchTab"].includes(e)&&t===i){o.isSwitched=!0;try{o.adProxy.reportAdMonitorData(Cd)}catch(e){}if(o.isShow){if(o.canCrossPage)return;LF.call(this,4);try{o.adProxy.reportAdMonitorData(Ad)}catch(e){}}}}})),dH((e=>{!UF.call(this)&&o.isShow&&o.data&&e.size&&(GH=e.size.screenHeight,FH=e.size.screenWidth,jH=e.deviceOrientation,o.data.useTemplate?bF.call(this).then((()=>{o.adTemplateRef.emitEvent(qw.HOSTMESSAGE,{message:"screenResize"})})):EF.call(this))}))),o.handleEnterForeground=()=>{if(!UF.call(this)&&o.data){o.ad_type===KH&&o.isShow&&zF.call(this),o.data&&o.data.product_type===Cg.WE_CHAT&&o.adProxy.checkFollow(o.data.app.uin).then((e=>{if(UF.call(this))o.adProxy.reportAdMonitorData(ud);else if(o.data&&0===o.buttonTextType){var t=o.data.button_action.button_text;IF.call(this,e?"查看公众号":t)}}));var e=jH;pF.call(this),e!==jH&&o.isShow&&(o.data.useTemplate?bF.call(this):EF.call(this)),o.hideTime>0&&o.isShow&&(o.hideDuration+=+new Date-o.hideTime),PF.call(this)}},o.handleEnterBackground=()=>{if(!UF.call(this)&&o.isShow&&(o.hideTime=+new Date,o.ad_type===KH)){jF.call(this);o.adProxy.reportVideo({playType:o.isPlaying?"partial":"complete",conditionType:"exit",playDuration:o.videoCurrentTime,videoDuration:o.videoDuration,muted:XF.call(this)})}},uH(o.handleEnterForeground),hH(o.handleEnterBackground),_H("onVideoResourceLoad",(e=>{var t=ZF.call(this);!o.isShow&&o.ad_type===KH&&t&&t.src===e.resource&&(o.adProxy.reportAdIDKey({key:sl}),o.preloadVideoSuccess=!0,t.src=e.resource)}))}load(){if(UF.call(this))return Promise.reject({errMsg:XH});var e=VH(this);return e.isShow?Promise.reject({errMsg:"can't invoke load() while interstitial-ad is showed"}):e.isData?Promise.resolve():uF.call(this)}show(e){return UF.call(this)?Promise.reject({errMsg:XH}):(AH&&AH(),OF.call(this,e))}destory(){GF.call(this)}destroy(){GF.call(this)}onError(e){UF.call(this)||VH(this).emitter.on("_error",e)}offError(e){UF.call(this)||VH(this).emitter.off("_error",e)}onLoad(e){UF.call(this)||VH(this).emitter.on("load",e)}offLoad(e){UF.call(this)||VH(this).emitter.off("load",e)}onClose(e){UF.call(this)||VH(this).emitter.on("close",e)}offClose(e){UF.call(this)||VH(this).emitter.off("close",e)}getSplashAdShowStatus(){return VH(this).adProxy.getSplashAdShowStatus()}}var eG={container:{position:"absolute",hidden:!0,overflow:"hidden"},adFeedback:{hidden:!0,width:40,height:15,backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2,color:"#ffffff",textAlign:"center",left:5,top:5,flexDirection:"row",alignItems:"center",justifyContent:"center",position:"absolute"},adText:{width:28,height:14,lineHeight:14,color:"#ffffff",textAlign:"center",fontSize:10},rectangle:{marginTop:2,marginRight:4,width:7.2,height:4.2},adFeedbackList:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:98,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adAffectBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:98,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLine:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLine0:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineAffect:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},tag:{width:63,height:18,right:0,bottom:0,position:"absolute"},tagView:{hidden:!0,right:0,bottom:0,position:"absolute",flexDirection:"row"},tagBeforeContainer:{width:6,height:18,overflow:"hidden"},tagBefore:{width:12,height:24,borderRadius:6,backgroundColor:"rgba(0, 0, 0, 0.2)"},tagContent:{flexDirection:"row",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.2)"},tagMiniapp:{hidden:!0,width:11,height:12,marginRight:1},tagLabel:{height:18,lineHeight:18,color:"#ffffff",textAlign:"left",fontSize:11},rectangleClose:{hidden:!0,top:5,left:32,width:7.2,height:7.2,position:"absolute"},adCloseTip:{hidden:!0,backgroundColor:"#f7f7f7",flex:1,justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,zIndex:9999},adCloseTipWrap:{width:300,height:80,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},adCloseTipIcon:{width:48,height:41},adCloseTipText:{width:200,height:45,marginLeft:8},adCloseTipTitle:{width:200,height:20,fontSize:18,color:"#3a3a3a"},adCloseTipContent:{width:200,height:20,fontSize:13,color:"#bfbfbf",marginTop:5}},tG={container:{flexDirection:"row",justifyContent:"space-between",position:"absolute",hidden:!0,overflow:"hidden",backgroundColor:"#ffffff"},appContainer:{flex:1,flexDirection:"column",backgroundColor:"#ffffff",alignItems:"center",paddingTop:12.5,paddingBottom:12.5},appIcon:{width:37,height:37,borderRadius:18.5},adFeedback:{hidden:!0,width:40,height:15,backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:2,color:"#ffffff",textAlign:"center",left:5,top:5,flexDirection:"row",justifyContent:"center",alignItems:"center",position:"absolute"},adText:{width:28,height:14,lineHeight:14,color:"#ffffff",textAlign:"center",fontSize:10},rectangle:{marginTop:2,marginRight:4,width:7.2,height:4.2},adFeedbackList:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:131,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLine:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDislikeBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adAffectBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:131,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLine0:{width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineDislike:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineAffect:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},appName:{height:13,fontSize:11,lineHeight:13,color:"#888888",marginTop:5,marginBottom:15,textAlign:"center"},appButton:{width:60,height:27,lineHeight:27,textAlign:"center",fontSize:15,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#ffffff"},downloadButton:{width:60,height:27,hidden:!0},downloadButtonText:{width:60,height:27,lineHeight:27,textAlign:"center",fontSize:15,color:"#04be02",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#ffffff"},downloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},downloadProgressText:{width:60,height:27,lineHeight:27,textAlign:"center",fontSize:15,color:"#ffffff",borderWidth:1,borderColor:"#04be02",borderRadius:3,backgroundColor:"#04be02"},rectangleClose:{hidden:!0,top:5,left:32,width:7.2,height:7.2,position:"absolute"},adCloseTip:{hidden:!0,backgroundColor:"#f7f7f7",flex:1,justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,zIndex:9999},adCloseTipWrap:{width:300,height:80,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},adCloseTipIcon:{width:48,height:41},adCloseTipText:{width:200,height:45,marginLeft:8},adCloseTipTitle:{width:200,height:20,fontSize:18,color:"#3a3a3a"},adCloseTipContent:{width:200,height:20,fontSize:13,color:"#bfbfbf",marginTop:5}},iG={1:function(e){var t=nG(e.id),i='<text id="{id}" value="{value}" bubble-event="true"></text>';i=oG(i,"id",t),i=oG(i,"value",e.content);var a={};return a[t]={position:"absolute",overflow:"hidden",left:e.left,top:e.top,width:e.width,height:e.height,fontSize:e.font_size,lineHeight:e.line_height,fontWeight:e.font_weight||"normal",color:e.font_color||"#000000",textAlign:e.align||"left",lineBreak:1===e.nowrap?"clip":"break-word"},{widgetTmpl:i,widgetStyle:a,scaleDoms:[t]}},2:function(e){var t=nG(e.id),i='<image id="{id}" src="{src}" bubble-event="true"></image>';i=oG(i,"id",t),i=oG(i,"src",e.image_url);var a={};return a[t]={position:"absolute",left:e.left,top:e.top,width:e.width,height:e.height},{widgetTmpl:i,widgetStyle:a,scaleDoms:[t]}},3:function(){},4:function(e){var t='\n  <view id="downloadButton" click-state="true">\n    <text id="downloadButtonText" value="{value}" bubble-event="true"></text>\n    <text id="downloadProgress" bubble-event="true">\n      <text id="downloadProgressText" bubble-event="true"></text>\n    </text>\n  </view>\n  <text id="appButton" value="{value}" click-state="true"></text>\n';return{widgetTmpl:t=oG(t,"value",e.title),widgetStyle:{appButton:{position:"absolute",textAlign:"center",left:e.left,top:e.top,width:e.width,height:e.height,lineHeight:e.height,fontSize:e.font_size,color:e.font_color||"#000000",fontWeight:e.font_weight||"normal",backgroundColor:e.background_color||"transparent",borderColor:e.border_color||"transparent",borderWidth:1,borderRadius:e.border_radius},downloadButton:{position:"absolute",left:e.left,top:e.top,width:e.width,height:e.height,hidden:!0},downloadButtonText:{width:e.width,height:e.height,lineHeight:e.height,textAlign:"center",fontSize:e.font_size,color:e.font_color||"#04be02",borderWidth:1,borderColor:e.border_color||"#04be02",borderRadius:e.border_radius,backgroundColor:"#ffffff"},downloadProgress:{width:0,position:"absolute",top:0,left:0,overflow:"hidden"},downloadProgressText:{width:e.width,height:e.height,lineHeight:e.height,textAlign:"center",fontSize:e.font_size,color:"#ffffff",borderWidth:1,borderColor:e.border_color||"#04be02",borderRadius:e.border_radius,backgroundColor:e.border_color||"#04be02"}},scaleDoms:["appButton","downloadButton","downloadButtonText","downloadProgress","downloadProgressText"]}},5:function(e,t){var i=nG(e.id),a=nG(e.id),n=nG(e.id),o='\n  <view id="{wrapId}" bubble-event="true">\n    <image id="{headerId}" src="{header}" bubble-event="true"></image>\n    <text id="{labelId}" value="{label}" bubble-event="true"></text>\n  </view>\n';o=oG(o,"wrapId",i),o=oG(o,"headerId",a),o=oG(o,"header",e.head_url),o=oG(o,"labelId",n),o=oG(o,"label",e.nick_name);var r={},s=120/690*t.width;r[i]={position:"absolute",left:e.left,top:e.top,width:s,overflow:"hidden",flex:1,flexDirection:"column",alignItems:"center"};var l=70/690*t.width;r[a]={width:l,height:l,borderRadius:1===e.head_type?l/5:l/2,marginBottom:10/690*t.width};var d=24/690*t.width;return r[n]={fontSize:d,color:"#888888",width:s,height:d+5,lineHeight:d+5,textAlign:"center",lineBreak:"ellipsis"},{widgetTmpl:o,widgetStyle:r,scaleDoms:[i,a,n]}},6:function(e){var t=nG(e.id),i=nG(e.id),a=nG(e.id),n=nG(e.id),o=nG(e.id),r='\n  <view id="{tagViewId}" bubble-event="true">\n    <image id="{tagBeforeId}" bubble-event="true" src="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJD1yfAwp8hgm1whMrNszgO3SgLoE6tlNzpKQQm4ubB6PeOLWL30sIWR7Sfsiakp1Ouw/0?wx_fmt=png"></image>\n    <view id="{tagContentId}" bubble-event="true">\n      <image id="{tagMiniappId}" bubble-event="true" src="http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJD1yfAwp8hgmCKiaGzo9XUvxlDiaibHqzSO9BqvH74E0m5ibptJHaMAxicKvxXmM4LjMicaA/0?wx_fmt=png"></image>\n      <text id="{tagLabelId}" value="{label}" bubble-event="true"></text>\n    </view>\n  </view>\n';r=oG(r,"tagViewId",t),r=oG(r,"tagBeforeId",i),r=oG(r,"tagContentId",a),r=oG(r,"tagMiniappId",n),r=oG(r,"tagLabelId",o),r=oG(r,"label",e.watermark_text);var s={};s[t]={right:0,bottom:0,position:"absolute",flexDirection:"row"},s[i]={width:14,height:18},s[a]={flexDirection:"row",alignItems:"center",backgroundColor:"rgba(40, 40, 40, 0.6)"},s[n]={hidden:1===e.watermark_icon,width:11,height:12,marginRight:1},s[o]={width:11*e.watermark_text.length+6,height:18,lineHeight:18,color:"#ffffff",textAlign:"left",fontSize:11};return{widgetTmpl:r,widgetStyle:s,scaleDoms:[]}}},aG=1,nG=function(e){return["wdgt",e,aG+=1].join("__")},oG=function(e,t,i){return e.replace(RegExp(`\\{${t}\\}`,"gi"),i)},rG={adFeedback:{width:46,height:15,backgroundColor:"rgba(40, 40, 40, 0.6)",borderRadius:12,"ios-portrait":{borderRadius:7},"ios-landscape":{borderRadius:7},"iphone x-portrait":{borderRadius:7},"iphone x-landscape":{borderRadius:7},color:"#ffffff",textAlign:"center",left:5,top:5,flexDirection:"row",alignItems:"center",position:"absolute"},adText:{width:28,height:14,lineHeight:14,color:"#ffffff",textAlign:"center",fontSize:11,left:4,top:1.5,"ios-portrait":{top:.5},"ios-landscape":{top:.5},"iphone x-portrait":{top:.5},"iphone x-landscape":{top:.5},position:"absolute"},rectangle:{top:7,left:32,width:7.2,height:4.2,position:"absolute"},adFeedbackList:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:98,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adFeedbackBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLine:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLineDislike:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},adCloseBtnLineAffect:{hidden:!0,width:134,height:1,backgroundColor:"#E0E0E0"},adDislikeBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adAffectBtn:{hidden:!0,width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adFeedbackMenu:{hidden:!0,top:20,left:5,position:"absolute",width:134,height:98,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,backgroundColor:"#ffffff"},adQualityBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDuplicateBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adDismatchBtn:{width:134,height:32,lineHeight:32,textAlign:"center",fontSize:12,color:"#546c99"},adCloseBtnLine0:{width:134,height:1,backgroundColor:"#E0E0E0"},rectangleClose:{hidden:!0,top:5,left:32,width:7.2,height:7.2,position:"absolute"},adCloseTip:{hidden:!0,backgroundColor:"#f7f7f7",flex:1,justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,zIndex:9999},adCloseTipWrap:{width:300,height:80,flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},adCloseTipIcon:{width:48,height:41},adCloseTipText:{width:200,height:45,marginLeft:8},adCloseTipTitle:{width:200,height:20,fontSize:18,color:"#3a3a3a"},adCloseTipContent:{width:200,height:20,fontSize:13,color:"#bfbfbf",marginTop:5}},sG=[],{deviceInfo:lG}=y;S.onReady((()=>{lG.isWaGame&&Ch((e=>{sG.length>=10&&sG.shift(),sG.push(e)}))}));var dG=e=>{var t;return[100008,100009,100010].includes(null==e||null===(t=e.extBackComm)||void 0===t?void 0:t.parent_templ_id)},cG=e=>dG(e)&&[Tg.CRT_SIZE_MULTI_POS_BANNER,Tg.CRT_SIZE_WX_APPLICATION_NEW].includes(e.crt_size),pG=1,uG=2,hG=3,gG=4,fG=5,mG=Math.random()<.05,{_onShow:yG,_onHide:vG,_offShow:_G,_offHide:EG,_showModal:xG}=y,bG=e=>!(e.isDestroyed()||!K(e,["rootElement","layoutBox"]));class wG{constructor({manager:e,adProxy:t,emitter:i}){this.clickCount=0,this.hideDuration=0,this.showedExposureTime=0,this.clickTime=0,this.isExposured=!1,this.isViewableExposured=!1,this.exposureTimer=null,this.clickFirstGradeTime=0,this.adProxy=void 0,this.manager=void 0,this.emitter=void 0,this.multiShowList=[],this.multiExposureList=new Set,this.multiViewableExposureList=new Set,this.hasEmitShowHalf=!1,this.landManager=void 0,this.handleEnterForeground=()=>{var{rootComponent:e}=this.manager;!this.manager.isDestroyed()&&e&&(e.isShow()&&(e.emitComponentEvent(qt),e.emitAdCustomEvent(Di.ADSHOWHALF)))},this.handleEnterBackground=()=>{var{rootComponent:e}=this.manager;!this.manager.isDestroyed()&&e&&(e.isShow()&&(e.emitComponentEvent(Kt),e.emitAdCustomEvent(Di.ADHIDEHALF)))},this.handleAdCustomEvent=e=>{switch(e.action){case Di.ADVIDEOPLAY:this.checkVideoViewableExposure(!0);break;case Di.ADVIDEOPAUSE:this.checkVideoViewableExposure(!1);break;case Di.REPORTVIDEOPLAY:this.reportVideoPlay(e.value.playType,e.value.conditionType,e.value.videoInfo);break;case Di.FEEDBACKREPORT:this.reportAdFeedbackData(e.value);break;case Di.REPORTENDPAGE:this.reportEndPage(e.value.data);break;case Di.REPORTMMDATA:e.value.id&&e.value.data&&this.adProxy.reportMMData(parseInt(e.value.id,10),e.value.data);break;case Di.BTNTAP:this.manager.rootComponent&&this.manager.rootComponent.emitComponentEvent(jt),this.handleClick(e.value.event,1,!0);break;case Di.CHANGEMULTISHOW:this.multiShowList=e.value.list,this.checkExposure()}},this.manager=e,this.adProxy=t,this.emitter=i,this.bindEvent()}setMultiShowList(e=[]){this.multiShowList=[...e]}destroy(){this.unbindEvent()}reset(){this.clickCount=0,this.hideDuration=0,this.showedExposureTime=0,this.clickTime=0,this.isExposured=!1,this.isViewableExposured=!1,this.hasEmitShowHalf=!1,this.adProxy.isViewable=!1,this.exposureTimer&&clearTimeout(this.exposureTimer),this.exposureTimer=null,this.multiShowList=[],this.multiExposureList=new Set,this.multiViewableExposureList=new Set}bindEvent(){this.emitter.on("adCustomEvent",this.handleAdCustomEvent),yG(this.handleEnterForeground),vG(this.handleEnterBackground)}unbindEvent(){this.emitter.off("adCustomEvent",this.handleAdCustomEvent),_G(this.handleEnterForeground),EG(this.handleEnterBackground)}judgeTriggerClick(e,t=!0){if(this.manager.isDestroyed())return!1;var i=this.adProxy.isTriggerClick(e),a=i?0:1;return(t||dG(this.manager.adData))&&this.reportTouchClick(e,a),i}reportTouchClick(e,t){if(bG(this.manager)){var{width:i,height:a}=this.manager.rootElement.layoutBox,n=0;[0,2,3].includes(t)&&(this.clickCount+=1,n=this.clickCount),this.adProxy.reportTouchClick({slotid:this.manager.getSlotId(),costtype:K(this.adProxy,["adData","data","is_cpm"])?1:2,click_time:Date.now(),click_cnt:n,start_posx:Math.round(e.relativeX||0),start_posy:Math.round(e.relativeY||0),end_posx:Math.round(e.relativeEndX||0),end_posy:Math.round(e.relativeEndY||0),ad_width:i||0,ad_height:a||0,press_interval:e.pressInterval,block_click:t})}}reportAbnormalDetect({type:e}){var t,i;if(bG(this.manager)&&dG(this.manager.adData)){var{left:a,top:n}=this.manager.rootElement.layoutBox;return this.adProxy.reportAbnormalDetect({ScreenHeight:wh.screenHeight,ScreenWidth:wh.screenWidth,PageY:n,PageX:a,costtype:null!==(t=this.adProxy)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.is_cpm?1:2,TimeMs:+new Date,type:e})}}reportBannerShow({type:e}){var t,i;if(bG(this.manager)&&dG(this.manager.adData)&&mG){var{left:a,top:n,width:o,height:r}=this.manager.rootElement.layoutBox;return this.adProxy.reportBannerShowAction({costtype:null!=this&&null!==(t=this.adProxy)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.is_cpm?1:2,isGame:wh.isWaGame?1:0,type:e,TimeMs:+new Date,PageX:a,PageY:n,screenX:a,screenY:n,adWidth:o,adHeight:r,ScreenWidth:wh.screenWidth,ScreenHeight:wh.screenHeight})}}reportPopupClickAction(e,t={}){var i,a;if(bG(this.manager)){var{width:n,height:o}=this.manager.rootElement.layoutBox;return this.adProxy.reportPopupClickAction({buttonType:t.buttonType||0,buttonTime:t.buttonTime||0,adClkTime:this.clickTime,adExpTime:this.showedExposureTime,adClkX:Math.floor(e.absoluteX)||0,adClkY:Math.floor(e.absoluteY)||0,adWidth:Math.floor(n)||0,adHeight:Math.floor(o)||0,isGame:wh.isWaGame?1:0,costtype:null!==(i=this.adProxy)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.is_cpm?1:2})}}handleAntifraudPopup(e){return new Promise(((t,i)=>{this.manager.clearAdTimer(),xG({content:"即将打开广告详情页",confirmText:"打开",success:i=>{i.confirm?(this.reportPopupClickAction(e,{buttonType:1,buttonTime:Date.now()}),this.adProxy.reportAdMonitorData(st),t(!0)):i.cancel&&(this.reportPopupClickAction(e,{buttonType:2,buttonTime:Date.now()}),this.manager.setAdTimer(),this.adProxy.reportAdMonitorData(lt),t(!1))},fail:()=>{this.reportPopupClickAction(e,{buttonType:0,buttonTime:Date.now()}),this.adProxy.reportAdMonitorData(dt),i()}})}))}handleClick(e,t,i=!1){var a=this;return b()((function*(){if(!a.manager.isDestroyed()&&a.manager.adData){a.clickTime=Date.now();var{appInfo:{urlScheme:n},product_type:o,dest_type:r,antifraudPopup:s}=a.manager.adData,l=0;if(s&&cG(a.manager.adData))try{if(!(yield a.handleAntifraudPopup(e)))return l=2,void a.reportClick(e,l);l=1}catch(e){}a.manager.clearAdTimer(),o===ra.OPEN_PLATFORM_APP_MOB&&R&&a.landManager.downloadState===gt&&n&&n.trim().length>0?(a.reportClick(e,l),a.reportAntifraud(t,e),a.adProxy.launchApplication(n,a.adProxy.data).catch((()=>{})),a.manager.landManager.lastJsapiName="launchApplication",a.manager.landManager.isLandingPage=!0):O&&o===Cg.MINI_GAME&&6===r?Promise.race([a.reportClick(e,l),J(500)]).then((()=>{a.reportAntifraud(t,e),a.manager.landManager.landing({isButton:i})})).catch((()=>{a.reportAntifraud(t,e),a.manager.landManager.landing({isButton:i})})):(a.reportClick(e,l),a.reportAntifraud(t,e),a.manager.landManager.landing({isButton:i}))}}))()}reportClick(e,t=0){if(bG(this.manager)){var i,{left:a,top:n,width:o,height:r}=this.manager.rootElement.layoutBox,{adCustomId:s}=this.manager,l=(e=>mP.videoDataMap[e]||{})(s);this.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-a,clickRelativeTop:e.absoluteY-n,pressInterval:e.pressInterval,isMulti:this.manager.isMulti,left:a,top:n,width:o,height:r,videoData:l,weappExtraData:{show_time:this.manager.lastShowTime,last_click:(i=Th(),Object.keys(i).length?{pos_x:i.touchStartPosX,pos_y:i.touchStartPosY,time:i.touchStartTime}:{pos_x:0,pos_y:0,time:0}),popup_click_type:t}}),dG(this.manager.adData)&&this.adProxy.reportBannerLastClick({lastClickArr:`[${sG.map((e=>`[${[e.touchStartPosX,e.touchStartPosY,e.touchEndPosX,e.touchEndPosY,e.touchStartTime,e.touchInterval].join(",")}]`)).join(",")}]`,expMs:this.showedExposureTime,clickMs:+new Date,bannerClkScreenX:e.absoluteX,bannerClkScreenY:e.absoluteY,left:a,top:n,width:o,height:r,lastShowTime:this.manager.lastShowTime})}}isClickLimit(e,t=0){var{adProxy:i,manager:{rootElement:a}}=this;if(!a)return!1;var{width:n,height:o}=a.layoutBox,{left:r,top:s}=a.getAbsolutePosition(),l=!1,d=0;if(i.isValidCondition("widget_gray_time_limit")){var c=cG(this.manager.adData)?3:1;d=100*(this.manager.adData.condition.widget_gray_time_limit||c)}d>0&&Date.now()-this.showedExposureTime<d&&(l=!0,i.reportAdMonitorData(qe,{clickType:t}));var p=0;if(i.isValidCondition("widget_gray_bd_limit")){var u=cG(this.manager.adData)?10:0;p=this.manager.adData.condition.widget_gray_bd_limit||u}return"devtools"!==k&&e&&p>0&&(e.absoluteEndX-r<p||r+n-e.absoluteEndX<p||e.absoluteEndY-s<p||s+o-e.absoluteEndY<p)&&(l=!0,i.reportAdMonitorData(Ke)),l}reportExposure({isViewable:e}){var t=this;return b()((function*(){if(bG(t.manager)){var{rootElement:i,rootComponent:a,isMulti:n}=t.manager,{left:o,top:r,width:s,height:l}=i.layoutBox,d={left:o,top:r,width:s,height:l};if(cG(t.manager.adData)){if(!(r<=wh.screenHeight-1))return t.adProxy.reportAdMonitorData(ot,{banner:1}),Promise.resolve();if(e)if(!(r+l/2<=wh.screenHeight))return t.adProxy.reportAdMonitorData(rt,{banner:1}),Promise.resolve()}t.adProxy.isOriginExposureArea(d)||t.adProxy.reportAdMonitorData(ot);var c=t.adProxy.isViewableExposureArea(d);if(e&&!c&&t.adProxy.reportAdMonitorData(rt),n){var p=e?t.multiViewableExposureList:t.multiExposureList,u=t.multiShowList.filter((e=>!p.has(e)));u.length&&(u.forEach(p.add,p),a.emitComponentEvent(e?$t:Yt,{exposureList:u}),yield t.adProxy.reportExposure({...d,multiList:u,isMulti:n,exposureType:e?"viewable":"showed"}))}else e?a.emitComponentEvent($t):a.emitComponentEvent(Yt),yield t.adProxy.reportExposure({...d,exposureType:e?"viewable":"showed"})}}))()}checkExposure(){var e=this;return b()((function*(){if(!e.manager.isDestroyed()){var t=e.adProxy.data.condition.widget_gray_custom_exposure_area_detect;if(!bG(e.manager))return yield J(0),void(yield e.checkExposure());var i={...e.manager.rootElement.layoutBox};for(var a of["left","top","width","height"])!i[a]&&e.manager.rootElement.style[a]&&(i[a]=e.manager.rootElement.style[a]);var{rootComponent:n,isMulti:o}=e.manager,r=n.isShow(),{exposureUntilVideoPlay:s}=n;!e.manager.adProxy.isOriginExposureArea(i)&&t||((o||!e.isExposured&&r)&&(e.isExposured=!0,e.showedExposureTime=Date.now(),e.reportExposure({isViewable:!1})),r&&!e.hasEmitShowHalf?(e.hasEmitShowHalf=!0,n.emitComponentEvent(qt),n.emitAdCustomEvent(Di.ADSHOWHALF)):r||(e.hasEmitShowHalf=!1,n.emitComponentEvent(Kt),n.emitAdCustomEvent(Di.ADHIDEHALF)),s||(r?e.exposureTimer=setTimeout((()=>{if(e.manager.adProxy.isViewableExposureArea(i)||!t){var a=n.isShow();(o||!e.isViewableExposured&&a)&&(e.isViewableExposured=!0,e.adProxy.isViewable=!0,e.reportExposure({isViewable:!0}))}}),1e3):e.exposureTimer&&clearTimeout(e.exposureTimer)))}}))()}checkVideoViewableExposure(e){var{rootElement:t,rootComponent:i}=this.manager;if(!this.manager.isDestroyed()&&t&&i){var a=i.isShow(),{exposureUntilVideoPlay:n}=i,{left:o,top:r,width:s,height:l}=t.layoutBox;n&&(a&&e?this.exposureTimer=setTimeout((()=>{this.isViewableExposured||(this.isViewableExposured=!0,this.adProxy.isViewable=!0,this.adProxy.reportExposure({left:o,top:r,width:s,height:l,exposureType:"viewable"}),i.emitComponentEvent($t))}),0):this.exposureTimer&&clearTimeout(this.exposureTimer))}}reportAntifraud(e,t){var i=this;return b()((function*(){var a;if(yield i.manager.ready(),bG(i.manager)){var{width:n,height:o}=i.manager.rootElement.layoutBox;i.adProxy.reportAntifraud({click_button:e,cost_type:null!==(a=i.adProxy.data)&&void 0!==a&&a.is_cpm?1:2,slotid:i.manager.getSlotId(),is_game:wh.isWaGame?1:0,pageentertime:+new Date(i.adProxy.getProgramStartTime()),ad_width:n||0,ad_height:o||0,clientexptime:i.showedExposureTime,clientclktime:+new Date,pressinterval:t.pressInterval,pos_x:Math.round(t.absoluteX||0),pos_y:Math.round(t.absoluteY||0),screen_width:wh.screenWidth,screen_height:wh.screenHeight})}}))()}reportCloseAction(e){if(!this.manager.isDestroyed()){var t=Date.now();this.adProxy.reportCloseAction({slotid:this.manager.getSlotId(),is_game:wh.isWaGame?1:0,costtype:K(this.adProxy,["data","is_cpm"])?1:2,close_type:e,exposure_duration:t-this.showedExposureTime-this.hideDuration,start_time:this.showedExposureTime,close_time:t})}}reportAdFeedbackData({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){this.manager.isDestroyed()||(e&&!i&&(this.clickFirstGradeTime=Date.now()),this.adProxy.reportAdFeedbackData({adWidth:wh.screenWidth,adHeight:wh.screenHeight,adPosX:0,adPosY:0,expTime:this.showedExposureTime,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?this.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?Date.now():0,feedbackReason:n}))}reportFollow(e){if(!this.manager.isDestroyed())return e.then((e=>/ok/.test(e.errMsg)?this.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?this.adProxy.reportFollow({result:"cancel"}):void 0)).catch((()=>this.adProxy.reportFollow({result:"fail"})))}reportVideoPlay(e,t,{playDuration:i,isMuted:a,videoDuration:n}){this.adProxy.reportVideo({playType:e,conditionType:t,playDuration:i,videoDuration:n,muted:a})}reportEndPage({ace_type:e,exposure_duration:t=0}={}){this.adProxy.reportEndPage({slotid:this.manager.getSlotId(),costtype:K(this.adProxy,["adData","data","is_cpm"])?1:2,posType:this.adProxy.data.pos_type,isGame:wh.isWaGame?1:0,ace_type:e,exposure_duration:t})}reportTimePoints(){this.adProxy.reportTimePoints({})}}class TG{constructor({manager:e,reporter:t}){this.lastLandingTime=0,this.lastJsapiName="",this.lastJsapiStatus=0,this.lastJsapiCostTime=0,this.hideTime=null,this.isLandingPage=!1,this.landingPageCostTime=0,this.downloadState=ht,this.downloadProgress=0,this.manager=void 0,this.reporter=void 0,this.adProxy=void 0,this.manager=e,this.adProxy=e.adProxy,this.reporter=t}reset(){this.lastLandingTime=0,this.lastJsapiName="",this.lastJsapiStatus=0,this.lastJsapiCostTime=0,this.isLandingPage=!1,this.landingPageCostTime=0}checkAdState(){var e=this;return b()((function*(){if(!e.manager.isDestroyed()){if(yield zo(10),e.isLandingPage){var t;e.adProxy.setTimePoint("p11"),e.lastJsapiStatus=0,e.isLandingPage=!1;var i=Date.now();e.landingPageCostTime=e.hideTime?i-e.hideTime:0,e.adProxy.reportLandingTime({slotId:e.manager.getSlotId(),costType:Ie(e.adProxy,["adData","data","is_cpm"])?1:2,openTime:e.hideTime,closeTime:i,stayTime:e.landingPageCostTime,jsapiName:e.lastJsapiName,clickTime:e.lastLandingTime,clkCnt:e.reporter.clickCount,retCode:e.lastJsapiStatus,costTime:e.lastJsapiCostTime,actTypeInt:1}),null!==(t=e.manager.rootComponent)&&void 0!==t&&t.hideAfterLanding&&e.manager.hide()}e.manager.isShow&&e.manager.setAdTimer()}}))()}checkFollow(){var e=this;return b()((function*(){var{adData:t}=e.manager,i=Ie(t,["button_action","text_type"],0),a=yield e.adProxy.checkFollow(t.app.uin);0===i&&e.manager.updateButtonText({text:a?"查看":t.button_action.button_text}),e.adProxy.data.biz_info&&(e.adProxy.data.biz_info.is_subscribed=a?1:0)}))()}checkAppInstallState(){var e=this;return b()((function*(){if(!e.manager.isDestroyed()){var{appInfo:{apkName:t,versionCode:i,urlScheme:a}}=e.manager.adData;try{var n=yield e.adProxy.getInstallState(t);n.isInstalled&&(void 0===n.versionCode||n.versionCode>=i)&&(e.downloadState=gt,e.downloadProgress=0,e.adProxy.setAppInstallState(!0),a&&a.trim().length>0?e.manager.updateButtonText({text:"进入应用"}):e.manager.updateButtonText({text:"查看应用"}))}catch(e){}}}))()}landing(e){if(!this.manager.isDestroyed()){this.reporter.clickCount>1&&this.adProxy.reportRepeatClick({slotId:this.manager.getSlotId(),costType:Ie(this.adProxy,["data","is_cpm"])?1:2,clkCnt:this.reporter.clickCount,lastClkPeriod:Date.now()-this.lastLandingTime,retCode:this.lastJsapiStatus,costTime:this.lastJsapiCostTime,pageStayTime:this.landingPageCostTime,jsapiName:this.lastJsapiName});var t=this.adProxy.land(e),i=Ie(this.adProxy,["data","button_action","text_type"],0);this.adProxy.data.product_type===ra.WECHAT&&Ie(e,["isButton"])&&!this.adProxy.data.biz_info.is_subscribed?(t.then((e=>{var t=/ok/.test(e.errMsg);t&&0===i&&(this.manager.updateButtonText({text:"查看公众号"}),this.adProxy.data.biz_info&&(this.adProxy.data.biz_info.is_subscribed=1),this.adProxy.reportAdIDKey({key:Je})),e.errMsg&&(this.lastJsapiName=e.errMsg.replace(":ok","").replace(":fail cancel",""));var a,n=Date.now();(this.lastJsapiStatus=0,this.lastJsapiCostTime=n-this.lastLandingTime,"private_addContact"===this.lastJsapiName)&&this.adProxy.reportLandingTime({slotId:this.manager.getSlotId(),costType:null!==(a=this.adProxy.data)&&void 0!==a&&a.is_cpm?1:2,openTime:this.lastLandingTime,closeTime:n,stayTime:this.lastJsapiCostTime,jsapiName:this.lastJsapiName,clickTime:this.lastLandingTime,clkCnt:this.reporter.clickCount,retCode:this.lastJsapiStatus,costTime:this.lastJsapiCostTime,actTypeInt:t?2:3,actTypeStr:t?"关注":"取消"});this.manager.isShow&&this.manager.setAdTimer()})).catch((()=>{this.lastJsapiStatus=1})),this.reporter.reportFollow(t)):t.then((e=>{e.errMsg&&(this.lastJsapiName=e.errMsg.replace(":ok","")),["private_openUrl","navigateToMiniProgram","openADCanvas","launchApplication"].includes(this.lastJsapiName)?this.isLandingPage=!0:this.lastJsapiStatus=0,this.lastJsapiCostTime=Date.now()-this.lastLandingTime})).catch((()=>{this.lastJsapiStatus=1}))}}}var CG=new WeakMap,AG=e=>CG.get(e);class PG{constructor(e,...t){var i=new e(...t);CG.set(this,i)}}var{_onShow:IG,_onHide:SG,_offShow:kG,_offHide:DG,deviceInfo:RG}=y,OG="customAd has been destroyed",MG=1;class NG{constructor({adUnitId:e,adIntervals:t=0,left:a,top:n,width:o,height:r,fixed:s,style:l},d){var c=this;if(this.adUnitId=void 0,this.adCustomId=void 0,this.adProxy=void 0,this.reporter=void 0,this.landManager=void 0,this.isShow=!1,this.rootElement=null,this.rootComponent=null,this.systemInfo=null,this.adData=null,this.adDatas=[],this.showDetailTime=0,this.lastShowTime=0,this.callbacks={load:[],error:[],close:[],hide:[],resize:[]},this.adType="customAd",this.emitter=new ZP,this.isReady=!1,this.isDestroy=!1,this.isShowing=!1,this.isHiding=!1,this.fetchedError=null,this.template=null,this.tplConfig=null,this.slotId=void 0,this.adIntervals=void 0,this.adTimer=null,this.readyResolve=new Set,this.adPosition=void 0,this.style={},this._style={},this.lastRealWidth=0,this.lastRealHeight=0,this.adCover=void 0,this.isOtherAdCover=!1,this.isHideBYCover=!1,this.adRawType=void 0,this.lastDisplayAction={},this.isMulti=!1,this.handleReady=()=>{if(!this.isReady){for(var e of this.readyResolve)e();this.readyResolve.clear(),this.isReady=!0}},this.handleEnterBackground=()=>{this.landManager.hideTime=Date.now(),this.clearAdTimer()},this.handleEnterForeground=()=>{this.landManager.checkAdState(),this.landManager.hideTime&&(this.reporter.hideDuration+=Date.now()-this.landManager.hideTime)},this.handleRewardShow=b()((function*(){if(!c.isDestroyed())try{var e;if(yield c.ready(),c.isOtherAdCover=!0,c.isShow&&!c.isDestroyed())null===(e=c.rootComponent)||void 0===e||e.hide(),c.clearAdTimer(),c.isHideBYCover=!0,c.lastDisplayAction={}}catch(e){}})),this.handleRewardHide=b()((function*(){if(c.isOtherAdCover=!1,!c.isDestroyed())try{var e,t;if(yield c.ready(),c.isHideBYCover&&!c.isDestroyed())null===(t=c.rootComponent)||void 0===t||t.show(),c.setAdTimer(),c.isHideBYCover=!1;null!==(e=c.lastDisplayAction)&&void 0!==e&&e.type&&("show"===c.lastDisplayAction.type?c.show(...c.lastDisplayAction.args||[]):"hide"===c.lastDisplayAction.type&&c.hide(...c.lastDisplayAction.args||[]))}catch(e){}})),this.handleAdCustomEvent=e=>{switch(e.action){case Di.TRIGGEREVENT:["error","videodislike"].includes(e.value.eventName)&&this.emitter.emit(e.value.eventName,e.value.detail||{});break;case Di.SHOWFEEDBACK:this.hide();break;case Di.FEEDBACKBTNTAP:this.adProxy.openFeedbackUrl(RG.isWaGame?1003:1005);break;case Di.HIDEAD:this.hide();break;case Di.REPORTTIMEPOINT:e.value.key&&this.adProxy.setTimePoint(e.value.key);break;case Di.ADSHOWHALF:this.isShow=!0;break;case Di.ADHIDEHALF:this.isShow=!1;break;case Di.CHECKEXPOSURE:this.reporter.checkExposure();break;case Di.LANDAD:var{index:t,event:i}=e.value;if(this.reporter.isClickLimit(i))return;this.isMulti&&this.adProxy.setCurrentData(t),this.reporter.handleClick(i,1,!1)}},this.handleLoad=e=>this.emitCallback("load",e),this.handleError=e=>this.emitCallback("error",e),this.handleClose=()=>this.emitCallback("close"),this.handleHide=()=>this.emitCallback("hide"),this.handleVideoDislike=()=>this.emitCallback("videodislike"),this.handleResize=e=>this.emitCallback("resize",e),this.onLoad=e=>this.callbacks.load.push(e),this.onError=e=>this.callbacks.error.push(e),this.onClose=e=>this.callbacks.close.push(e),this.onHide=e=>this.callbacks.hide.push(e),this.onResize=e=>this.callbacks.resize.push(e),this.onVideoDislike=e=>this.callbacks.videoDislike.push(e),this.offLoad=e=>this.removeCallback("load",e),this.offError=e=>this.removeCallback("error",e),this.offClose=e=>this.removeCallback("close",e),this.offHide=e=>this.removeCallback("hide",e),this.offResize=e=>this.removeCallback("resize",e),this.offVideoDislike=e=>this.removeCallback("videodislike",e),e||i.error("广告单元 id(unit-id) 为空, 请先在 'https://mp.weixin.qq.com' 上创建广告单元"),this.adUnitId=e,this.slotId="4071202390577885",this.adCustomId=`AD_CUSTOM_${MG}`,MG+=1,this.adPosition={left:a,top:n,width:o,height:r,fixed:s},l&&"object"==typeof l){for(var p of["left","top","width","height","fixed"])null!=l[p]&&(this.adPosition[p]=l[p]);this._style=l}B()&&delete this.adPosition.fixed,this.adProxy=new HA({adUnitId:e,adType:this.adType}),this.reporter=new wG({manager:this,adProxy:this.adProxy,emitter:this.emitter}),this.landManager=new TG({manager:this,reporter:this.reporter}),this.adIntervals="number"==typeof t?t:0,this.reporter.landManager=this.landManager,this.adCover=new nk({adUnitId:this.adUnitId,adType:"customAd"}),this.adRawType=null==d?void 0:d.adRawType,this.bindEvent(),this.fetchAndRender()}getSlotId(){return this.slotId}bindEvent(){this.emitter.on("load",this.handleLoad),this.emitter.on("error",this.handleError),this.emitter.on("videoDislike",this.handleVideoDislike),this.emitter.on("close",this.handleClose),this.emitter.on("hide",this.handleHide),this.emitter.on("adCustomEvent",this.handleAdCustomEvent),this.emitter.on("resize",this.handleResize),this.onLoad(this.handleReady),this.onError(this.handleReady),IG(this.handleEnterForeground),SG(this.handleEnterBackground),this.adCover.on(ek,this.handleRewardShow),this.adCover.on(tk,this.handleRewardHide),this.observerStyleChange()}unbindEvent(){this.emitter.off("load",this.handleLoad),this.emitter.off("error",this.handleError),this.emitter.off("videoDislike",this.handleVideoDislike),this.emitter.off("close",this.handleClose),this.emitter.off("hide",this.handleHide),this.emitter.off("adCustomEvent",this.handleAdCustomEvent),this.emitter.off("resize",this.handleResize),this.offLoad(this.handleReady),this.offError(this.handleReady),kG(this.handleEnterForeground),DG(this.handleEnterBackground)}observerStyleChange(){this.style={top:0,left:0,width:0};var e=null,t=[];["left","top","width"].forEach((i=>{Object.defineProperty(this.style,i,{configurable:!0,enumerable:!0,get:()=>this._style[i],set:a=>{this.isDestroyed()||a!==this._style[i]&&(this._style[i]=a,this.adPosition[i]=a,t.push(i),e&&(clearTimeout(e),e=null),e=setTimeout((()=>{this.updateUI(t),t=[]}),0))}})}))}updateUI(e=[]){var t=this;return b()((function*(){try{if(yield t.ready(),t.checkSize(),t.rootComponent)if(e.includes("width")){var a=t.rootComponent.isShow();t.unmount(),yield t.render(),a&&t.rootComponent.show()}else{var n,o;t.rootComponent.updatePosition({top:(null===(n=t.adPosition)||void 0===n?void 0:n.top)||0,left:(null===(o=t.adPosition)||void 0===o?void 0:o.left)||0})}yield ig.nextLayout(),t.checkResize()}catch(e){i.error("updateUI error",e)}}))()}checkResize(){var e,t,i,a,n,o,r,s,l,d,c,p,u;if(this.rootComponent&&this.rootComponent.enableResize){var h=(null===(e=this.rootComponent)||void 0===e||null===(t=e.getRootElement)||void 0===t||null===(i=t.call(e))||void 0===i?void 0:i.style)||{},g=(null===(a=this.rootComponent)||void 0===a||null===(n=a.getRootElement)||void 0===n||null===(o=n.call(a))||void 0===o?void 0:o.layoutBox)||{},f=(null===(r=this.rootComponent)||void 0===r||null===(s=r.getRootElement)||void 0===s||null===(l=s.call(r))||void 0===l?void 0:l.computedStyle)||{},m=null!==(d=null!==(c=h.width)&&void 0!==c?c:g.width)&&void 0!==d?d:f.width,y=null!==(p=null!==(u=h.height)&&void 0!==u?u:g.height)&&void 0!==p?p:f.height;this.style.realWidth=m,this.style.realHeight=y,m===this.lastRealWidth&&y===this.lastRealHeight||(this.emitter.emit("resize",{height:y,width:m}),this.lastRealWidth=m,this.lastRealHeight=y)}}fetchAndRender({isAdInterval:e=!1,autoUnmount:t=!1}={}){var i=this;return b()((function*(){try{var a,n,[o,r]=yield Promise.all([i.adProxy.fetch(e,{},{adRawType:i.adRawType,weappExptCtx:TA()}),i.getSystemInfo(),bh?Promise.resolve(wh):new Promise((e=>{S.onReady((()=>{bh=!0,wh.deviceOrientation=Ma();var t=_h();wh.screenWidth=t.screenWidth||0,wh.screenHeight=t.screenHeight||0,wh.isWaGame=B(),e(wh)}))}))]);t&&i.resetState(),i.systemInfo=r,i.adData=o,i.adDatas=i.adProxy.datas||[],i.template=i.getTemplateFromAdData(o),i.tplConfig=(null===(a=i.template)||void 0===a?void 0:a.tplConfig)||{},i.checkSize(),yield i.render(),i.adProxy.reportAdMonitorData(Qe);var s={errMsg:"load advertisement success"};null!==(n=i.rootComponent)&&void 0!==n&&n.exportAid&&(s.aid=i.adData.aid),i.emitter.emit("load",s),i.fetchedError=null,i.adProxy.preloadLanding(),i.checkResize(),i.reporter.reportAbnormalDetect({type:1}),i.reporter.reportBannerShow({type:pG})}catch(e){i.adProxy.reportAdMonitorData(et,e);var l=null!=e&&e.errCode?e:{errCode:ct,errMsg:"customAd render failed"};i.fetchedError=l,i.emitter.emit("error",l)}}))()}getTemplateFromAdData(e){return e.template}checkSize(){if(this.tplConfig){var{tplConfig:e}=this,{width:t}=this.adPosition;null==t&&(t=RG.screenWidth),t=Number(t);var i=e.minWidth||0,a=e.maxWidth||0,n=e.baseWidth||375,o=Math.min(RG.screenWidth,Math.max(i,t));a&&(o=Math.min(o,a)),0===o&&(this.adProxy.reportAdMonitorData(nt,{unitId:this.adUnitId}),wP(n,n)),this.adPosition.width=o,wP(o,n)}}reload(){}updateButtonText({text:e,progress:t}){var i;null===(i=this.rootComponent)||void 0===i||i.emitAdCustomEvent(Di.CHANGEADBTNTEXT,{text:e||"",progress:t||0})}getSystemInfo(){return RG}ready(){return new Promise(((e,t)=>{var i=()=>{this.fetchedError?t(this.fetchedError):e()};this.isReady?i():this.readyResolve.add(i)}))}removeCallback(e,t){this.callbacks[e]&&(this.callbacks[e]=t?this.callbacks[e].filter((e=>e!==t)):[])}emitCallback(e,t){if(this.callbacks[e])for(var i of this.callbacks[e])"function"==typeof i&&i(t)}show({branchId:e,branchDim:t}={}){var i=this;return b()((function*(){if(i.isDestroyed())throw{errMsg:OG};if(i.isShow||i.isShowing)throw{errMsg:"the advertisement has shown"};if(i.isOtherAdCover)throw i.lastDisplayAction={type:"show",args:[{branchId:e,branchDim:t}]},{errMsg:"the advertisement has covered by other ad now, will retry later"};i.isShowing=!0,e?i.adProxy.recordAnalyseBranchInfo({branchId:e,branchDim:t}):i.adProxy.resetAnalyseBranchInfo();try{yield i.ready(),i.rootComponent&&i.rootComponent.show(),i.setAdTimer(),i.lastShowTime=Date.now(),i.reporter.reportBannerShow({type:uG})}finally{i.isShowing=!1}}))()}setAdTimer(){var e,t;this.rootComponent&&!this.rootComponent.enableTimer||(t=this.adIntervals>=30&&this.adIntervals<=3600?1e3*this.adIntervals:null!==(e=this.adData)&&void 0!==e&&e.refreshTime?1e3*this.adData.refreshTime:null)&&(this.adTimer&&clearTimeout(this.adTimer),this.adTimer=setTimeout((()=>this.refetch(!0)),t))}clearAdTimer(){this.isDestroyed()||this.adTimer&&(clearTimeout(this.adTimer),this.adTimer=null)}refetch(e=!1){var t=this;return b()((function*(){if(!t.isDestroyed()&&t.isShow)try{yield t.fetchAndRender({isAdInterval:e,autoUnmount:!0}),yield t.show(),t.adProxy.reportAdMonitorData(tt),t.rootElement&&(yield t.rootElement.nextLayout(),t.reporter.checkExposure()),t.reporter.reportBannerShow({type:gG})}catch(e){t.adProxy.reportAdMonitorData(it,e);var i={errCode:ct,errMsg:"customAd render failed"};t.emitter.emit("error",i)}}))()}hide(e=!1){var t=this;return b()((function*(){var i;if(t.isDestroyed())throw{errMsg:OG};if(t.isOtherAdCover)throw t.lastDisplayAction={type:"hide",args:[e]},{errMsg:"the advertisement has covered by other ad now, will retry later"};if(t.adRawType===CA)try{var a;yield t.ready(),null===(a=t.rootComponent)||void 0===a||a.hideBody()}catch(e){}if(t.isShow&&!t.isHiding){if(t.isHiding=!0,null===(i=t.rootComponent)||void 0===i||i.hide(),t.clearAdTimer(),e)t.emitter.emit("hide");else{t.isReady=!1,t.emitter.emit("close"),t.resetState(),t.adProxy.setTimePoint("p14"),t.reporter.reportTimePoints();var n=!1;t.rootComponent&&(n=t.rootComponent.getRootData("refetchable")),n?(t.unmount(),yield t.fetchAndRender()):yield t.destroy()}t.reporter.reportBannerShow({type:hG}),t.isHiding=!1}}))()}destroy(){var e=this;return b()((function*(){if(!e.isDestroyed()){e.isDestroy=!0;try{yield e.ready()}catch(e){}e.clearAdTimer(),e.reporter.reportAbnormalDetect({type:2}),e.reporter.reportBannerShow({type:fG}),e.unbindEvent(),e.resetState(),e.callbacks={load:[],error:[],close:[]},e.reporter.destroy()}}))()}isDestroyed(){return this.isDestroy}canHideAd(){return this.adRawType===CA||!!this.rootComponent&&this.rootComponent.getRootData("hidable")}resetState(){this.unmount(),this.rootComponent=null,this.rootElement=null,this.isReady=!1,this.isShow=!1,this.isMulti=!1,this.adData=null,this.adDatas=[],this.reporter.reset(),this.landManager.reset()}emitRender(e){return this.rootComponent?(mh(this.rootComponent,e),this.rootComponent):fh(SP,e)}render(){return this.adProxy.setTimePoint("p4"),this.template?(this.rootComponent=this.emitRender({manager:this,reporter:this.reporter,emitter:this.emitter,adProxy:this.adProxy,template:this.template,systemInfo:this.systemInfo,adData:this.adProxy.data,adDatas:this.adProxy.datas,adCustomId:this.adCustomId,adPosition:this.adPosition,isEmpty:!1}),this.initialMultiLists(),this.rootElement=this.rootComponent.getRootElement(),this.adProxy.reportAdMonitorData(je),this.adProxy.setTimePoint("p5"),this.rootElement.ready()):this.renderEmpty()}initialMultiLists(){if(this.rootComponent&&(this.isMulti=this.rootComponent.isMulti&&this.adProxy.isMulti,this.isMulti)){var{multiShowList:e}=this.rootComponent;e&&Array.isArray(e)?this.reporter.setMultiShowList(e):this.reporter.setMultiShowList(Object.keys(this.adDatas).map((e=>+e)))}}unmount(){this.rootComponent&&(yh(this.rootComponent),this.rootElement=null,this.rootComponent=null)}renderEmpty(){return this.rootComponent=this.emitRender({isEmpty:!0,manager:this,reporter:this.reporter,emitter:this.emitter,adProxy:this.adProxy}),this.rootElement=this.rootComponent.getRootElement(),ig.nextLayout()}}var LG=e=>AG(e);class WG extends PG{constructor(e,t){super(NG,e,t),this._destroyed=!1,this.isDestroy=!1,this.style={},this.style=LG(this).style}destroy(){var e=this;return b()((function*(){var t;e.isDestroy||(yield LG(e).destroy(),t=e,CG.delete(t),e.isDestroy=!0,e._destroyed=!0)}))()}destory(){return this.destroy()}hide(){var e=this;return b()((function*(){var t=LG(e);if(!t.canHideAd())throw{errMsg:"the advertisement don't support hide"};yield t.hide(!0)}))()}isShow(){var e;return(null===(e=LG(this))||void 0===e?void 0:e.isShow)||!1}}((e,t)=>{var i=function(t){e.prototype[t]=function(...e){return AG(this)[t](...e)}};for(var a of t)i(a)})(WG,["show","isDestroyed","onLoad","onError","onClose","onHide","offLoad","offError","offClose","offHide","onResize","offResize"]);var BG,VG,{_showModal:HG,_onShow:FG,_onHide:GG,_offShow:UG,_offHide:zG,deviceInfo:jG,Component:$G,getPrivateThis:YG,removePrivateThis:qG,gametext:KG,View:ZG}=y,XG=2,JG=3,QG=4,eU=5,tU=e=>YG(e),iU=()=>{if(!VG){var{root:e}=T()('\n  <view id="container" click-state="false">\n    <image id="image" bubble-event="true">\n        <view id="ad-feedback" click-state="true">\n            <text id="ad-text" value="广告" click-state="true" bubble-event="true"></text>\n            <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n            <image id="rectangle-close" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=afd84f82db2b9f4780501537f3232caf&filekey=3033020101041f301d02016d040253480410afd84f82db2b9f4780501537f3232caf020200ae040d00000004627466730000000131&hy=SH&storeid=32303139303432343136303032353030306231323964313336666664393336663561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n        </view>\n        <view id="ad-feedback-list">\n          <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n          <text id="ad-close-btn" click-state="true" value="关闭"></text>\n          <view id="ad-close-btn-line-dislike"></view>\n          <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n          <view id="ad-close-btn-line-affect"></view>\n          <text id="ad-affect-btn" click-state="true" value="影响操作"></text>\n        </view>\n        <view id="ad-feedback-menu">\n          <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n          <view id="ad-close-btn-line"></view>\n          <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n          <view id="ad-close-btn-line0"></view>\n          <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n        </view>\n    </image>\n    <view id="app-container" bubble-event="true">\n      <image id="app-icon" bubble-event="true"></image>\n      <text id="app-name" bubble-event="true"></text>\n      <view id="download-button" click-state="true">\n        <text id="download-button-text" bubble-event="true"></text>\n        <text id="download-progress" bubble-event="true">\n          <text id="download-progress-text" bubble-event="true"></text>\n        </text>\n      </view>\n      <text id="app-button" click-state="true"></text>\n    </view>\n    <view id="ad-close-tip">\n      <view id="ad-close-tip-wrap">\n        <image id="ad-close-tip-icon" bubble-event="true" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=127e353c0a9bb8ec60aa40e2f94d51df&filekey=3033020101041f301d02016d040253480410127e353c0a9bb8ec60aa40e2f94d51df020204f2040d00000004627466730000000131&hy=SH&storeid=32303139303432343135353431363030306631383661313336666664393337303561333230613030303030303664&bizid=1023"></image>\n        <view id="ad-close-tip-text" bubble-event="true">\n          <text id="ad-close-tip-title" bubble-event="true" value="感谢你的反馈"></text>\n          <text id="ad-close-tip-content" bubble-event="true" value="我们会努力为你推荐更优质的广告"></text>\n        </view>\n      </view>\n    </view>\n  </view>\n');VG=e}return VG},aU=O,nU=R,oU=[],rU=[];S.onReady((()=>{jG.isWaGame&&Ch((e=>{oU.length>=10&&oU.shift(),oU.push(e)}))}));var sU=1e3,lU=1,dU=2,cU=3,pU=function(){var e=b()((function*(){var e=tU(this);if(!$U.call(this)&&e.data)try{var t;e.tmplContainer||(e.tmplContainer=new ZG({name:"bannerTemplContainer"})),ig.children[e.tmplContainer.id]||ig.add(e.tmplContainer);var{left:i,top:a}=this.style,{inner:n,scale:o}=BU.call(this),r=o,s=(r=r<.8?.8:r)*(347/120/(960/334));e.tmplContainer.style.position="absolute",e.tmplContainer.style.top=a,e.tmplContainer.style.left=i,e.tmplContainer.style.width=n.width,e.tmplContainer.style.height=n.height,e.tmplContainer.style.hidden=!0;var l=192*n.width/345,d=108*n.height/120,c=123*n.width/345;yield e.adTemplate.render({isEmpty:void 0,systemInfo:{screenWidth:jG.screenWidth,screenHeight:jG.screenHeight,deviceOrientation:jG.deviceOrientation,platform:R?"android":"ios",hostEnv:"minigame"},hostContainer:e.tmplContainer,template:e.data.template,adData:e.adProxy.data,adCustomId:"BANNER",styleOptions:{removePx:!0,splitShorthand:!0,convertRgbaColor:!0,convertDisplayName:!0,convertRotate:!0},extraScope:{private:e,adMaterialWidth:l,adMaterialHeight:d,adWordingWidth:c,feedbackScale:s},ref:t=>{e.adTemplateRef=t,t.onEvent(e.handleAdTemplateEvent)}}),e.data.product_type===Cg.ANDROID&&(e.adProxy.setAppInstallState(!1),SU.call(this)),e.adProxy.preloadLanding(),e.emitter.emit("load"),yield null===(t=e.adTemplateRef.getRootElement())||void 0===t?void 0:t.ready(),e.emitter.emit("ready")}catch(t){e.emitter.emit("_error",{errMsg:"banner render failed (internal)"})}}));return function(){return e.apply(this,arguments)}}(),uU=function(){var e=b()((function*(){var e=tU(this);!$U.call(this)&&e.adTemplateRef&&(yield e.adTemplateRef.update({systemInfo:{screenWidth:jG.screenWidth,screenHeight:jG.screenHeight,deviceOrientation:jG.deviceOrientation,platform:R?"android":"ios",hostEnv:"minigame"}}))}));return function(){return e.apply(this,arguments)}}(),hU=function(){var e=b()((function*(){var e;if($U.call(this))throw{errMsg:YU};var t=tU(this);t.tmplContainer&&(t.tmplContainer.style.hidden=!1),yield uU.call(this),yield null===(e=t.adTemplateRef)||void 0===e?void 0:e.show()}));return function(){return e.apply(this,arguments)}}(),gU=function(){var e=b()((function*(){if(!$U.call(this)){var e=tU(this);if(e.adTemplateRef){e.tmplContainer&&(e.tmplContainer.style.hidden=!0);try{var t;e.adTemplateRef.hide(),yield null===(t=e.adTemplateRef.getRootElement())||void 0===t?void 0:t.ready(),e.isClosed=!1}catch(t){e.isClosed=!1}}}}));return function(){return e.apply(this,arguments)}}(),fU=function(){var e=b()((function*(){var e,t,i=tU(this);null===(e=i.adTemplateRef)||void 0===e||e.offEvent(i.handleAdTemplateEvent),null===(t=i.adTemplateRef)||void 0===t||t.hide(),yield i.adTemplate.unmount({hostContainer:i.tmplContainer}),ig.remove(i.tmplContainer),i.tmplContainer=null}));return function(){return e.apply(this,arguments)}}(),mU=function(){var e,t=tU(this);return null!==(e=t.data)&&void 0!==e&&e.useTemplate?t.tmplContainer:t.container},yU=function({type:e}){return kU.call(this).then((()=>{var t,i,a=tU(this),n=mU.call(this);if(null!=n&&n.layoutBox){var{left:o,top:r}=n.layoutBox;return a.adProxy.reportAbnormalDetect({slotid:"8040321819858439",ScreenHeight:jG.screenHeight,ScreenWidth:jG.screenWidth,PageY:r,PageX:o,costtype:null!=a&&null!==(t=a.adProxy)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.is_cpm?1:2,TimeMs:+new Date,type:e})}}))},vU=function({type:e}){return kU.call(this).then((()=>{var t=tU(this),i=mU.call(this);if(null!=i&&i.layoutBox&&t.isNeedShowReport){var a,n,{left:o,top:r,width:s,height:l}=i.layoutBox;return t.adProxy.reportBannerShowAction({slotid:8040321819858439,costtype:null!=t&&null!==(a=t.adProxy)&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.is_cpm?1:2,isGame:jG.isWaGame?1:0,type:e,TimeMs:+new Date,PageX:o,PageY:r,screenX:o,screenY:r,adWidth:s,adHeight:l,ScreenWidth:jG.screenWidth,ScreenHeight:jG.screenHeight})}}))},_U=function(){return Math.random()<.05},EU=function(e,t=!0){var i=tU(this).adProxy.isTriggerClick(e),a=i?0:1;return t&&MU.call(this,e,a),i},xU=function(e){var t=tU(this),i=mU.call(this);if(null==i||!i.layoutBox)return!0;var a,n,{left:o,top:r,width:s,height:l}=i.layoutBox,d=!1,c=0;t.adProxy.isValidCondition("widget_gray_time_limit")&&(c=100*((null===(a=t.data)||void 0===a||null===(n=a.condition)||void 0===n?void 0:n.widget_gray_time_limit)||1));c>0&&+new Date-t.showedExposureTime<c&&(d=!0,t.adProxy.reportAdMonitorData(48));var p,u=0;t.adProxy.isValidCondition("widget_gray_banner_limit_click")&&(u=100*((null===(p=t.data)||void 0===p?void 0:p.condition.widget_gray_banner_limit_click)||5));u>0&&+new Date-t.lastShowTime<u&&(d=!0,t.adProxy.reportAdMonitorData(155));var h,g=0;t.adProxy.isValidCondition("widget_gray_bd_limit")&&(g=(null===(h=t.data)||void 0===h?void 0:h.condition.widget_gray_bd_limit)||10);return e&&g>0&&(e.absoluteEndX-o<g||o+s-e.absoluteEndX<g||e.absoluteEndY-r<g||r+l-e.absoluteEndY<g)&&(d=!0,t.adProxy.reportAdMonitorData(47)),d},bU=function(e,t={}){var i=tU(this),{antifraudPopup:a}=i.data;if(i.clickTime=Date.now(),a)return wU.call(this,e,t);TU.call(this,e,t)},wU=function(e,t={}){var i=tU(this);UU.call(this),HG({content:"即将打开广告详情页",confirmText:"打开",success:a=>{a.confirm?(TU.call(this,e,t,1),NU.call(this,e,{buttonType:1,buttonTime:Date.now()}),i.adProxy.reportAdMonitorData(176)):a.cancel&&(LU.call(this,e,2),NU.call(this,e,{buttonType:2,buttonTime:Date.now()}),GU.call(this),i.adProxy.reportAdMonitorData(177)),i.adProxy.reportAdMonitorData(174)},fail:()=>{TU.call(this,e,t),NU.call(this,e,{buttonType:0,buttonTime:Date.now()}),i.adProxy.reportAdMonitorData(175)}})},TU=function(e,t={},i=0){var a=tU(this),{product_type:n,button_action:{jump_type:o}}=a.data;aU&&46===n&&6===o?Promise.race([LU.call(this,e,i),zo(500)]).then((()=>{VU.call(this,t)})).catch((()=>{VU.call(this,t)})):(LU.call(this,e,i),VU.call(this,t))},CU=function(){var e=tU(this),{scale:t}=BU.call(this),{crt_size:i,useStyleData:a,ad_style_data:n,dest_type:o,product_type:r}=e.data;if(a){var{template:s,style:l,scaleDoms:d}=function(e){var t="",i={container:{hidden:!0,position:"absolute",overflow:"hidden",backgroundColor:e.background_color||"#FFFFFF",width:e.width,height:e.height}},a=[];return t+='<view id="container" click-state="false">',e.widgets.forEach(((n,o)=>{var r=iG[n.type];if(r){var{widgetTmpl:s,widgetStyle:l,scaleDoms:d}=r(n,o,e);t+=s,i=Object.assign(i,l),a=a.concat(d)}})),t+='\n  <view id="adFeedback" click-state="true">\n    <text id="adText" value="广告" click-state="true" bubble-event="true"></text>\n    <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n    <image id="rectangle-close" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=afd84f82db2b9f4780501537f3232caf&filekey=3033020101041f301d02016d040253480410afd84f82db2b9f4780501537f3232caf020200ae040d00000004627466730000000131&hy=SH&storeid=32303139303432343136303032353030306231323964313336666664393336663561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n  </view>\n  <view id="ad-feedback-list">\n    <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n    <text id="ad-close-btn" click-state="true" value="关闭"></text>\n    <view id="ad-close-btn-line-dislike"></view>\n    <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n    <view id="ad-close-btn-line-affect"></view>\n    <text id="ad-affect-btn" click-state="true" value="影响操作"></text>\n  </view>\n  <view id="ad-feedback-menu">\n    <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n    <view id="ad-close-btn-line"></view>\n    <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n    <view id="ad-close-btn-line0"></view>\n    <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n  </view>\n  <view id="ad-close-tip">\n    <view id="ad-close-tip-wrap">\n      <image id="ad-close-tip-icon" bubble-event="true" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=127e353c0a9bb8ec60aa40e2f94d51df&filekey=3033020101041f301d02016d040253480410127e353c0a9bb8ec60aa40e2f94d51df020204f2040d00000004627466730000000131&hy=SH&storeid=32303139303432343135353431363030306631383661313336666664393337303561333230613030303030303664&bizid=1023"></image>\n      <view id="ad-close-tip-text" bubble-event="true">\n        <text id="ad-close-tip-title" bubble-event="true" value="感谢你的反馈"></text>\n        <text id="ad-close-tip-content" bubble-event="true" value="我们会努力为你推荐更优质的广告"></text>\n      </view>\n    </view>\n  </view>\n',i=Object.assign(i,rG),{template:t+="</view>",style:i,scaleDoms:a}}(n),{root:c}=T()(s);GA.call(this,c,l),e.scaleDoms=d,e.scaleDoms.forEach((i=>{e[i].style.scale=t})),e.appButton&&([12,19].indexOf(r)>-1?PU.call(this):e.appButton.on("click",(e=>{if(EU.call(this,e)&&!xU.call(this,e))return bU.call(this,e,{isButton:!0})}))),e.container.on("click",(e=>{if(EU.call(this,e)&&!xU.call(this,e))return bU.call(this,e)}))}else if([532,608,567].indexOf(i)>-1){GA.call(this,(()=>{if(!BG){var{root:e}=T()('\n  <image id="container" click-state="false">\n    <view id="ad-feedback" click-state="true">\n        <text id="ad-text" value="广告" click-state="true" bubble-event="true"></text>\n        <image id="rectangle" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=2e68819eca56a58c0a6cb6180ccb2540&filekey=3033020101041f301d02016d0402534804102e68819eca56a58c0a6cb6180ccb25400202017d040d00000004627466730000000131&hy=SH&storeid=32303138303830393032313634303030303230386639313336666664393337303561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n        <image id="rectangle-close" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=afd84f82db2b9f4780501537f3232caf&filekey=3033020101041f301d02016d040253480410afd84f82db2b9f4780501537f3232caf020200ae040d00000004627466730000000131&hy=SH&storeid=32303139303432343136303032353030306231323964313336666664393336663561333230613030303030303664&bizid=1023" click-state="true" bubble-event="true"></image>\n    </view>\n    <view id="ad-feedback-list">\n      <text id="ad-dislike-btn" click-state="true" value="不感兴趣"></text>\n      <text id="ad-close-btn" click-state="true" value="关闭"></text>\n      <view id="ad-close-btn-line-dislike"></view>\n      <text id="ad-feedback-btn" click-state="true" value="投诉"></text>\n      <view id="ad-close-btn-line-affect"></view>\n      <text id="ad-affect-btn" click-state="true" value="影响操作"></text>\n    </view>\n    <view id="ad-feedback-menu">\n      <text id="ad-dismatch-btn" click-state="true" value="与我无关"></text>\n      <view id="ad-close-btn-line"></view>\n      <text id="ad-duplicate-btn" click-state="true" value="重复收到多次"></text>\n      <view id="ad-close-btn-line0"></view>\n      <text id="ad-quality-btn" click-state="true" value="内容太差"></text>\n    </view>\n    <image id="tag" bubble-event="true"></image>\n    <view id="tagView" bubble-event="true">\n      <view id="tagBeforeContainer">\n        <view id="tagBefore" bubble-event="true"></view>\n      </view>\n      <view id="tagContent" bubble-event="true">\n        <image id="tagMiniapp" bubble-event="true" src="https://wxa.wxs.qq.com/images/wxapp/mini_program_v2.png"></image>\n        <text id="tagLabel" value="" bubble-event="true"></text>\n      </view>\n    </view>\n    <view id="ad-close-tip">\n      <view id="ad-close-tip-wrap">\n        <image id="ad-close-tip-icon" bubble-event="true" src="http://wxsnsdythumb.wxs.qq.com/109/20204/snsvideodownload?m=127e353c0a9bb8ec60aa40e2f94d51df&filekey=3033020101041f301d02016d040253480410127e353c0a9bb8ec60aa40e2f94d51df020204f2040d00000004627466730000000131&hy=SH&storeid=32303139303432343135353431363030306631383661313336666664393337303561333230613030303030303664&bizid=1023"></image>\n        <view id="ad-close-tip-text" bubble-event="true">\n          <text id="ad-close-tip-title" bubble-event="true" value="感谢你的反馈"></text>\n          <text id="ad-close-tip-content" bubble-event="true" value="我们会努力为你推荐更优质的广告"></text>\n        </view>\n      </view>\n    </view>\n  </image>\n');BG=e}return BG})(),eG);var{image:{src:p},watermark_text:u}=e.data;e.container.src=p,e.tag.style.hidden=!0,e.tagView.style.hidden=!1,e.tagLabel.value=u,e.tagLabel.style.width=11*e.data.watermark_text.length+6,6===e.adProxy.data.dest_type&&(e.tagMiniapp.style.hidden=!1),12===r&&(e.adProxy.setAppInstallState(!1),SU.call(this)),e.container.on("click",(e=>{if(EU.call(this,e)&&!xU.call(this,e)){var t=3===o?{toOfficalAccountDetail:!0}:{};return bU.call(this,e,t)}}))}else if(556===i){if([12,19].indexOf(r)>-1){GA.call(this,iU(),tG);var{width:h,image:{src:g,width:f},appInfo:{appName:m,iconUrl:y}}=e.data;e.image.style.width=239,e.image.style.height=120,e.image.src=g,e.appIcon.src=y,e.appName.value=jo(m,16),h&&(e.appName.style.width=h-f),e.image.style.scale=t,e.appContainer.style.scale=t,e.appIcon.style.scale=t,e.appIcon.style.borderRadius=4,e.appName.style.scale=t,e.downloadButtonText.style.scale=t,e.downloadProgress.style.scale=t,e.downloadProgressText.style.scale=t,e.downloadButton.style.scale=t,PU.call(this)}else{GA.call(this,iU(),tG);var{width:v,image:{src:_,width:E},app:{icon:x,isFollowed:b,nickname:w},button_action:C}=e.data;e.image.style.width=239,e.image.style.height=120,e.image.src=_,e.appIcon.src=x,e.appName.value=jo(w,16),v&&(e.appName.style.width=v-E),e.image.style.scale=t,e.appContainer.style.scale=t,e.appIcon.style.scale=t,e.appName.style.scale=t,e.appButton.style.scale=t,e.appButton.value=23===r&&b?"查看":C.button_text,e.appButton.on("click",(e=>{EU.call(this,e)&&(xU.call(this,e)||(LU.call(this,e),UU.call(this),VU.call(this,{isButton:!0})))}))}e.container.on("click",(e=>{if(EU.call(this,e)&&!xU.call(this,e))return bU.call(this,e)}))}e.container||e.adProxy.reportAdMonitorData(7)},AU=function(){var e=b()((function*(){var e=tU(this);if($U.call(this)||!e.data)return Promise.resolve();try{var{left:t,top:i}=this.style,{inner:a}=BU.call(this),{useTemplate:n}=e.data;if(n)return void(yield pU.call(this));CU.call(this),e.adFeedback.style.hidden=!1,e.adFeedback.on("click",(t=>{EU.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!e.adFeedbackMenu.style.hidden||!e.adFeedbackList.style.hidden,e.adFeedbackMenu.style.hidden=!0,e.adFeedbackList.style.hidden||OU.call(this,{firstGradeId:1,firstGradeDesc:"广告角标"}))})),e.adFeedbackBtn.on("click",(t=>{EU.call(this,t,!1)&&(e.adProxy.openFeedbackUrl(1002),e.adFeedbackList.style.hidden=!0,OU.call(this,{secondGradeId:1,secondGradeDesc:"投诉"}))})),e.adCloseBtn.on("click",(t=>{EU.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,RU.call(this))})),e.adDislikeBtn.on("click",(t=>{EU.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,e.adFeedbackMenu.style.hidden=!1,RU.call(this,2,"不感兴趣"))})),e.adQualityBtn.on("click",(t=>{EU.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,RU.call(this,2,"不感兴趣",4))})),e.adDuplicateBtn.on("click",(t=>{EU.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,RU.call(this,2,"不感兴趣",5))})),e.adDismatchBtn.on("click",(t=>{EU.call(this,t,!1)&&(e.adFeedbackMenu.style.hidden=!0,RU.call(this,2,"不感兴趣",1))})),e.adAffectBtn.on("click",(t=>{EU.call(this,t,!1)&&(e.adFeedbackList.style.hidden=!0,RU.call(this,3,"影响操作"))})),e.adProxy.isValidCondition("widget_gray_close_v2")?(e.adCloseBtnLineDislike.style.hidden=!1,e.adCloseBtnLineAffect.style.hidden=!1,e.adDislikeBtn.style.hidden=!1,e.adAffectBtn.style.hidden=!1,e.rectangle.style.hidden=!1,e.rectangleClose.style.hidden=!0,e.adCloseBtn.style.hidden=!0,DU.call(this)):(e.adFeedbackList.style.height=64,e.adCloseBtnLine.style.hidden=!1,e.adCloseBtn.style.hidden=!1),e.adProxy.preloadLanding(),e.container.style.left=t,e.container.style.top=i,e.container.style.width=a.width,e.container.style.height=a.height,e.adCloseTip.style.width=a.width,e.adCloseTip.style.height=a.height,ig.add(e.container),e.emitter.emit("load"),e.container.ready().then((()=>{e.emitter.emit("ready")})).then((()=>{yU.call(this,{type:1})}))}catch(t){return e.adProxy.reportAdMonitorData(6,t),Promise.reject({})}}));return function(){return e.apply(this,arguments)}}(),PU=function(){var e=tU(this),{appInfo:{appName:t,apkName:i,apkUrl:a,appMd5:n,urlScheme:o}}=e.data;e.downloadButton.style.hidden=!1,e.appButton.style.hidden=!0,aU?(e.downloadButtonText.value=e.data.button_action.button_text,e.downloadButton.on("click",(e=>{if(EU.call(this,e)&&!xU.call(this,e))return bU.call(this,e,{isButton:!0})}))):nU&&(e.downloadButtonText.value=e.data.button_action.button_text,e.downloadProgressText.value=e.data.button_action.button_text,SU.call(this),e.downloadButton.on("click",(r=>{if(EU.call(this,r)&&!xU.call(this,r)){LU.call(this,r);var s,l,{aid:d,traceid:c,apurl:p}=e.adProxy.data,u=0,h="";if(e.landingCount+=1,e.lastLandingTime=+new Date,e.lastJsapiStatus=0,e.lastJsapiCostTime=0,4===e.androidAppState)e.adProxy.launchApplication(o,e.adProxy.data).catch((()=>{})),e.lastJsapiName="launchApplication",e.isLandingPage=!0;else if(0===e.androidAppState){var g=[d,c,i.replace(/./g,"_"),0,20,p.indexOf("ad.wx.com")>-1?1:0].join(".");e.adProxy.addDownloadTaskStraight(t,a,n,g).then((t=>{UU.call(this),e.androidDownloadId=t.downloadId,setTimeout(IU.bind(this),sU)})).catch((()=>{VU.call(this,{isButton:!0})})),e.lastJsapiName="addDownloadTaskStraight",u=4,h="下载"}else e.androidAppState===lU?(e.adProxy.pauseDownloadTask(e.androidDownloadId).catch((()=>{})),e.downloadButtonText.value="继续",e.downloadProgressText.value="继续",e.androidAppState=dU,e.lastJsapiName="pauseDownloadTask",u=5,h="暂停"):e.androidAppState===dU?(e.adProxy.resumeDownloadTask(e.androidDownloadId).then((()=>{setTimeout(IU.bind(this),sU)})).catch((()=>{})),e.downloadButtonText.value="暂停",e.downloadProgressText.value="暂停",e.androidAppState=lU,e.lastJsapiName="resumeDownloadTask",u=6,h="继续"):e.androidAppState===cU&&(e.adProxy.installDownloadTask(e.androidDownloadId).catch((()=>{})),e.lastJsapiName="installDownloadTask",u=7,h="安装");if(u>0)e.adProxy.reportLandingTime({slotId:8040321819858439,costType:null!==(s=e.adProxy)&&void 0!==s&&null!==(l=s.data)&&void 0!==l&&l.is_cpm?1:2,openTime:e.lastLandingTime,clickTime:e.lastLandingTime,clkCnt:e.landingCount,jsapiName:e.lastJsapiName,actTypeInt:u,actTypeStr:h})}})))},IU=function(e=3){var t=tU(this);t.adProxy.queryDownloadTask(t.androidDownloadId).then((e=>{"download_succ"===e.state?(t.downloadButtonText.value="安装",t.downloadProgressText.value="安装",t.downloadProgress.style.width=t.downloadButton.style.width,t.androidAppState=cU,GU.call(this)):"downloading"===e.state?(t.downloadButtonText.value="暂停",t.downloadProgressText.value="暂停",t.downloadProgress.style.width=t.downloadButton.style.width*parseInt(e.progress,10)/100,t.androidAppState=lU):"download_fail"===e.state&&(t.downloadButtonText.value=t.data.button_action.button_text,t.downloadProgressText.value=t.data.button_action.button_text,t.downloadProgress.style.width=0,t.androidAppState=0,GU.call(this)),"downloading"!==e.state&&"default"!==e.state||setTimeout(IU.bind(this),sU)})).catch((()=>{if(e>0){var t=e-1;IU.call(this,t)}}))},SU=function(){var e=tU(this),{appInfo:{apkName:t,versionCode:i,urlScheme:a}}=e.data;e.adProxy.getInstallState(t).then((t=>{t.isInstalled&&(void 0===t.versionCode||t.versionCode>=i)&&(e.androidAppState=4,e.adProxy.setAppInstallState(!0),e.downloadButtonText&&(e.downloadButtonText.value="已安装",e.downloadProgressText.value="已安装",a&&a.trim().length>0&&(e.downloadButtonText.value="进入",e.downloadProgressText.value="进入")),e.tagLabel&&a&&a.trim().length>0&&(e.tagLabel.value="进入应用",e.tagLabel.style.width=50))})).catch((()=>{}))},kU=function(){return new Promise((e=>{var t=tU(this);t.isReady?e():t.emitter.on("ready",e)}))},DU=function(){var e=tU(this),{scale:t}=BU.call(this);t=t<.8?.8:t;var i=347/120/(e.adProxy.data.ad_width/e.adProxy.data.ad_height);["adFeedbackBtn","adDislikeBtn","adAffectBtn","adQualityBtn","adDuplicateBtn","adDismatchBtn"].forEach((a=>{e[a].style.height=32*t*i,e[a].style.lineHeight=32*t*i,e[a].style.fontSize=12*t*i})),e.adFeedbackList.style.height=98*t*i,e.adFeedbackMenu.style.height=98*t*i},RU=function(e,t,i=0){var a=tU(this);a.isClosed=!0,a.lastClosedAction="",a.closeAdTime=+new Date,e?(OU.call(this,{secondGradeId:e,secondGradeDesc:t,feedbackReason:i}),(2===e||i)&&zo(2e3).then((()=>{this.hide(),a.emitter.emit("close")}))):(OU.call(this,{firstGradeId:0,firstGradeDesc:""}),this.hide(),a.emitter.emit("close"))},OU=function({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:i=0,secondGradeDesc:a="",feedbackReason:n=0}){var o=tU(this),r=mU.call(this);if(null!=r&&r.layoutBox){var{left:s,top:l,width:d,height:c}=r.layoutBox;e&&!i&&(o.clickFirstGradeTime=+new Date),o.adProxy.reportAdFeedbackData({adWidth:Math.round(d),adHeight:Math.round(c),adPosX:Math.round(s),adPosY:Math.round(l),expTime:o.showedExposureTime,firstGradeId:e,firstGradeDesc:t,firstGradeTime:e?o.clickFirstGradeTime:0,secondGradeId:i,secondGradeDesc:a,secondGradeTime:i?+new Date:0,feedbackReason:n})}},MU=function(e,t=0){var i,a,n=tU(this),o=mU.call(this);if(!$U.call(this)&&o&&o.layoutBox){var{width:r,height:s}=o.layoutBox,l=0;return[0,2,3].includes(t)&&(n.clickCount+=1,l=n.clickCount),n.adProxy.reportTouchClick({slotid:"8040321819858439",costtype:null!==(i=n.adProxy)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.is_cpm?1:2,click_time:+new Date,click_cnt:l,start_posx:Math.floor(e.relativeX)||0,start_posy:Math.floor(e.relativeY)||0,end_posx:Math.floor(e.relativeEndX)||0,end_posy:Math.floor(e.relativeEndY)||0,ad_width:Math.floor(r)||0,ad_height:Math.floor(s)||0,press_interval:e.pressInterval,block_click:t})}},NU=function(e,t={}){var i,a,n=tU(this),o=mU.call(this);if(null!=o&&o.layoutBox){var{width:r,height:s}=o.layoutBox;return n.adProxy.reportPopupClickAction({buttonType:t.buttonType||0,buttonTime:t.buttonTime||0,adClkTime:n.clickTime,adExpTime:n.showedExposureTime,adClkX:Math.floor(e.absoluteX)||0,adClkY:Math.floor(e.absoluteY)||0,adWidth:Math.floor(r)||0,adHeight:Math.floor(s)||0,isGame:jG.isWaGame?1:0,costtype:null!==(i=n.adProxy)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.is_cpm?1:2})}},LU=function(e,t=0){var i=tU(this),a=mU.call(this);if(!$U.call(this)&&a&&a.layoutBox){var{left:n,top:o,width:r,height:s}=a.layoutBox,l=Th(),d=Object.keys(l).length?{pos_x:l.touchStartPosX,pos_y:l.touchStartPosY,time:l.touchStartTime}:{pos_x:0,pos_y:0,time:0},c=i.adProxy.reportClick({clickAbsoluteLeft:e.absoluteX,clickAbsoluteTop:e.absoluteY,clickRelativeLeft:e.absoluteX-n,clickRelativeTop:e.absoluteY-o,pressInterval:e.pressInterval,left:n,top:o,width:r,height:s,weappExtraData:{show_time:i.lastShowTime,last_click:d,popup_click_type:t}});return zU.call(this,{stage:1002}),rU=oU.map((e=>`[${[e.touchStartPosX,e.touchStartPosY,e.touchEndPosX,e.touchEndPosY,e.touchStartTime,e.touchInterval].join(",")}]`)),i.adProxy.reportBannerLastClick({lastClickArr:`[${rU.join(",")}]`,expMs:i.showedExposureTime,clickMs:+new Date,bannerClkScreenX:e.absoluteX,bannerClkScreenY:e.absoluteY,left:n,top:o,width:r,height:s,lastShowTime:i.lastShowTime}),oU=[],rU=[],c}},WU=function(e=!1){var t,i,a,n,o,r,s,l,d=tU(this);if($U.call(this))return Promise.resolve();var c=mU.call(this);if(null==c||!c.layoutBox)return zo(0).then((()=>WU.call(this,e)));var{left:p,top:u,width:h,height:g}=c.layoutBox,f=d.adProxy.isOriginExposureArea(c.layoutBox),m=u<=jG.screenHeight-1;if(!(null!==(t=d.data)&&void 0!==t&&null!==(i=t.condition)&&void 0!==i&&i.widget_gray_banner_exposure_toggle?f:m))return Promise.resolve();var y,v=d.data.useTemplate?null===(a=d.adTemplateRef)||void 0===a?void 0:a.isShow():!1===(null===(n=d.container)||void 0===n?void 0:n.style.hidden);if(d.adProxy.isViewable=!!v,!d.isShowedExposureReported&&v){d.isShowedExposureReported=!0,d.showedExposureTime=+new Date;d.adProxy.reportExposure({left:p,top:u,width:h,height:g,exposureType:"showed"})}if(null!==(o=d.adTemplateRef)&&void 0!==o&&o.isShow()&&!d.hasEmitShowHalf)d.hasEmitShowHalf=!0,d.hasEmitHideHalf=!1,null===(y=d.adTemplateRef)||void 0===y||y.emitEvent(qw.ADSHOWHALF);else if(!(null!==(r=d.adTemplateRef)&&void 0!==r&&r.isShow()||d.hasEmitHideHalf)){var _;d.hasEmitShowHalf=!1,d.hasEmitHideHalf=!0,null===(_=d.adTemplateRef)||void 0===_||_.emitEvent(qw.ADHIDEHALF)}var E=d.adProxy.isViewableExposureArea(c.layoutBox),x=u+g/2<=jG.screenHeight;if((null!==(s=d.data)&&void 0!==s&&null!==(l=s.condition)&&void 0!==l&&l.widget_gray_banner_exposure_toggle?E:x)&&!d.isViewableExposureReported&&v){if(!e)return zo(1e3).then((()=>WU.call(this,!0)));d.isViewableExposureReported=!0;d.adProxy.reportExposure({left:p,top:u,width:h,height:g,exposureType:"viewable"})}return Promise.resolve()},BU=function(){var e=tU(this),{width:t,height:i}=e.data,{crt_size:a,useStyleData:n}=e.data;n||(532===a?(t=345,i=99):[608,567,556,1707].indexOf(a)>-1&&(t=345,i=120));var{width:o,height:r}=this.style;n&&i&&t?(o=o||345,r=r||i/t*690/2):t&&i&&(o=o||t,r=r||i);var s=Uo({outer:{width:o,height:r},inner:{width:t,height:i},minScale:300/t,maxScale:jG.screenWidth/t,side:"width"}),l=e.lastRealWidth!==s.inner.width||e.lastRealHeight!==s.inner.height;return this.style.realWidth=s.inner.width,e.lastRealWidth=s.inner.width,this.style.realHeight=s.inner.height,e.lastRealHeight=s.inner.height,l&&e.emitter.emit("resize",s.inner),s},VU=function(e){var t,i,a,n,o=tU(this);(o.landingCount+=1,o.landingCount>1)&&o.adProxy.reportRepeatClick({slotId:8040321819858439,costType:null!==(a=o.adProxy)&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.is_cpm?1:2,clkCnt:o.landingCount,lastClkPeriod:+new Date-o.lastLandingTime,retCode:o.lastJsapiStatus,costTime:o.lastJsapiCostTime,pageStayTime:o.landingPageCostTime,jsapiName:o.lastJsapiName});o.lastLandingTime=+new Date,o.lastJsapiStatus=2,o.lastJsapiCostTime=0,o.isLandingPage=!1,o.landingPageCostTime=0;var r=23===o.data.product_type&&e&&(null==e?void 0:e.isButton)&&!(null!==(t=o.adProxy.data)&&void 0!==t&&null!==(i=t.biz_info)&&void 0!==i&&i.is_subscribed);e.isAddContact=r;var s=o.adProxy.land(e);23===o.data.product_type&&e&&e.isButton&&!o.adProxy.data.biz_info.is_subscribed?(s.then((e=>{var t=/ok/.test(e.errMsg);t&&(o.appButton.value="查看",o.adProxy.data.biz_info&&(o.adProxy.data.biz_info.is_subscribed=1),o.adProxy.reportAdIDKey({key:9})),e.errMsg&&(o.lastJsapiName=e.errMsg.replace(":ok","").replace(":fail cancel",""));var i,a,n=+new Date;(o.lastJsapiStatus=0,o.lastJsapiCostTime=n-o.lastLandingTime,"private_addContact"===o.lastJsapiName)&&o.adProxy.reportLandingTime({slotId:8040321819858439,costType:null!==(i=o.adProxy)&&void 0!==i&&null!==(a=i.data)&&void 0!==a&&a.is_cpm?1:2,openTime:o.lastLandingTime,closeTime:n,stayTime:o.lastJsapiCostTime,jsapiName:o.lastJsapiName,clickTime:o.lastLandingTime,clkCnt:o.landingCount,retCode:o.lastJsapiStatus,costTime:o.lastJsapiCostTime,actTypeInt:t?2:3,actTypeStr:t?"关注":"取消"});GU.call(this)})).catch((()=>{o.lastJsapiStatus=1})),HU.call(this,s)):s.then((e=>{e.errMsg&&(o.lastJsapiName=e.errMsg.replace(":ok","")),"private_openUrl"===o.lastJsapiName||"navigateToMiniProgram"===o.lastJsapiName||"openADCanvas"===o.lastJsapiName||"launchApplication"===o.lastJsapiName?o.isLandingPage=!0:o.lastJsapiStatus=0,o.lastJsapiCostTime=+new Date-o.lastLandingTime})).catch((()=>{o.lastJsapiStatus=1}))},HU=function(e){var t=tU(this);e.then((e=>/ok/.test(e.errMsg)?t.adProxy.reportFollow({result:"success"}):/cancel/.test(e.errMsg)?t.adProxy.reportFollow({result:"cancel"}):void 0)).catch((()=>t.adProxy.reportFollow({result:"fail"})))},FU=function(e){var t=this;if(!$U.call(this)){var i=tU(this);i.isClosed||i.adProxy.fetch(e,{},{weappExptCtx:TA()}).then((e=>{if(!$U.call(this))return kU.call(this).then((()=>{var e;null!==(e=i.data)&&void 0!==e&&e.useTemplate&&i.adTemplateRef?gU.call(this):i.container.style.hidden=!0})).then(b()((function*(){var e;if(i.isReady=!1,null===(e=i.data)||void 0===e||!e.useTemplate||!i.adTemplateRef)return ig.remove(i.container);yield fU.call(t)}))).then(b()((function*(){return i.data=e,i.isViewableExposureReported=!1,i.adProxy.isViewable=!1,i.isShowedExposureReported=!1,i.showedExposureTime=0,i.isNeedShowReport=_U(),yield AU.call(t),kU.call(t)}))).then((()=>$U.call(this)||"hide"===i.lastClosedAction?kU.call(this):i.isHideBYCover?(i.lastDisplayAction="show",kU.call(this)):(i.isShow=!0,vU.call(this,{type:QG}),zU.call(this,{stage:1001}),Promise.resolve().then((()=>{var e;null!==(e=i.data)&&void 0!==e&&e.useTemplate&&i.adTemplateRef?hU.call(this):(i.container.style.hidden=!1,i.container.nextLayout((()=>WU.call(this)))),GU.call(this)}))))).catch((e=>i.emitter.emit("_error",e)))})).catch((e=>i.emitter.emit("_error",e)))}},GU=function(){var e=tU(this);if(e.adIntervals>=30&&e.adIntervals<=3600){e.adTimer&&clearTimeout(e.adTimer);var t=1e3*e.adIntervals;e.adTimer=setTimeout((()=>FU.call(this,!0)),t)}},UU=function(){if(!$U.call(this)){var e=tU(this);e.adTimer&&(clearTimeout(e.adTimer),e.adTimer=null)}},zU=function({stage:e}){var t={adtype:1,stage:e};tU(this).adProxy.reportADFunnelModel(t)},jU=function(){var e=this;if(!$U.call(this)){var t=tU(this);UU.call(this),this._destroyed=!0,yU.call(this,{type:2}),vU.call(this,{type:eU}),kU.call(this).then((()=>t.updateResult)).then(b()((function*(){UG(t.checkAdState),zG(t.onHide),t.emitter.off("resize"),t.emitter.off("_error"),t.emitter.off("load"),t.data.useTemplate&&t.adTemplateRef?yield fU.call(e):ig.remove(t.container),qG(e)})))}},$U=function(){return this._destroyed},YU="banner-ad has been destroyed";class qU extends $G{constructor({adUnitId:e,style:t={left:0,top:0,width:0,height:0},adIntervals:i=0}){return super(),this._destroyed=void 0,this.style=void 0,new WG({adUnitId:e,adIntervals:i,style:{left:t.left,top:t.top,width:t.width||345,height:t.height}},{adRawType:CA})}show(e){var t;if($U.call(this))return Promise.reject({errMsg:YU});var i,a=tU(this);return a.isClosed?(a.lastClosedAction="show",Promise.reject({errMsg:"banner-ad has been closed"})):a.isHideBYCover?(a.lastDisplayAction="show",null!==(i=a.data)&&void 0!==i&&i.useTemplate?hU.call(this):kU.call(this)):(a.isShow=!0,a.lastShowTime=+new Date,vU.call(this,{type:XG}),zU.call(this,{stage:1001}),null!=e&&e.branchId?a.adProxy.recordAnalyseBranchInfo(e):a.adProxy.resetAnalyseBranchInfo(),null!==(t=a.data)&&void 0!==t&&t.useTemplate?hU.call(this).then((()=>(GU.call(this),Promise.resolve()))):kU.call(this).then((()=>{a.adFeedbackList.style.hidden=!0,a.adFeedbackMenu.style.hidden=!0,a.container.style.hidden=!1,a.container.nextLayout((()=>WU.call(this))),GU.call(this)})))}hide(){if(!$U.call(this)){var e=tU(this);return e.isClosed&&(e.lastClosedAction="hide"),e.isHideBYCover?(e.lastDisplayAction="hide",kU.call(this)):(e.isShow=!1,e.adProxy.isViewable=!1,vU.call(this,{type:JG}),kU.call(this).then((()=>{var t;null!==(t=e.data)&&void 0!==t&&t.useTemplate&&e.adTemplateRef?gU.call(this):e.container.style.hidden=!0,UU.call(this)})))}}destory(){jU.call(this)}destroy(){jU.call(this)}onResize(e){$U.call(this)||tU(this).emitter.on("resize",e)}offResize(e){$U.call(this)||tU(this).emitter.off("resize",e)}onError(e){$U.call(this)||tU(this).emitter.on("_error",e)}offError(e){$U.call(this)||tU(this).emitter.off("_error",e)}onLoad(e){$U.call(this)||tU(this).emitter.on("load",e)}offLoad(e){$U.call(this)||tU(this).emitter.off("load",e)}onClose(e){$U.call(this)||tU(this).emitter.on("close",e)}offClose(e){$U.call(this)||tU(this).emitter.off("close",e)}}var KU="self",ZU="cpsShopAd has been destroyed",XU="cpsShopAd render-mode should be self",JU="doExposure argument should be an object",QU="exposureType should be showed or viewable",ez="adList should be an array",tz="uuid is unavailable or exposured",iz="doClick argument should be an object",az="uuid is unavailable",nz="showFeedback argument should be an object",oz="no ad data, please invoke load before showFeedback",rz={type:"feedback",id:"cpsFeedback",options:{baseType:2,innerStyles:{container:{style:{padding:"0px 0px 0px 0px"}},feedbackTagContainer:{style:{padding:"1px 2px 1px 2px"}},feedbackTag:{style:{lineHeight:"10px",height:"10px",fontSize:"8px",textAlign:"center"}},feedbackIcon:{style:{hidden:!0,marginLeft:0}}}},style:{position:"absolute"}},{deviceInfo:sz,Component:lz,getPrivateThis:dz,removePrivateThis:cz}=y,pz=1,uz=e=>dz(e),hz=function(){return this._destroyed},gz=function(e){hz.call(this)||uz(this).adProxy.reportAdMonitorData(dp,e);return Promise.reject({errMsg:e})},fz=function(){if(hz.call(this))return Promise.reject({errMsg:ZU});var e=uz(this);return e.adProxy.fetch(!1,{},{cpsShopReqInfo:{...e.query},isAdunitTmpl:e.renderMode!==KU}).then((t=>{try{var a=Object.keys(e.emitter.emitter).includes("_events")?Object.keys(e.emitter.emitter._events):[];if("devtools"===sz.platform&&!a.includes("_error"))return void i.error("您没有设置onError函数，该函数用于处理广告拉取的异常。请至少处理两种情况：1.调用正常，但没有合适的广告返回给用户。 2. 错误的调用导致的异常返回。");for(var n of t)void 0!==n.extBackComm.cpsProduct.uuid&&e.adProxy.reportAdMonitorData(cp),n.extBackComm.cpsProduct.uuid=pz,pz+=1;if(e.datas=e.adProxy.datas,e.renderMode===KU){var o=t.map((e=>{var t=ke(e.extBackComm.cpsProduct);return t.exp_url&&delete t.exp_url,t.click_url&&delete t.click_url,Re(t),t}));return e.emitter.emit("load",o),o}return void e.emitter.emit("load")}catch(t){throw e.adProxy.reportAdMonitorData(lp,t),{}}}))},mz=function(e){var t=uz(this).datas.find((t=>t.extBackComm.cpsProduct.uuid===e));return null==t?void 0:t.extBackComm.cpsProduct},yz=function(e){return uz(this).datas.findIndex((t=>t.extBackComm.cpsProduct.uuid===e))},vz=function(e){var t;if(hz.call(this))return gz.call(this,ZU);var i=uz(this);if(i.renderMode!==KU)return gz.call(this,XU);if(!Ae(e))return gz.call(this,JU);var{exposureType:a,adList:n}=e;if(!["showed","viewable"].includes(a))return gz.call(this,QU);if(!Array.isArray(n))return gz.call(this,ez);var o=[];for(var r of n){var s=mz.call(this,r.uuid);s&&("showed"!==a||s.isShowedExposure?"viewable"!==a||s.isViewableExposure||(o.push(s),s.isViewableExposure=!0):(o.push(s),s.isShowedExposure=!0))}if(!o.length)return gz.call(this,tz);var l={};try{l.s_cps_shop_exp_url=JSON.stringify(o.map((e=>e.exp_url)))}catch(e){return i.adProxy.reportAdMonitorData(pp,e),Promise.resolve()}return i.adProxy.reportExposure({exposureType:a,extExposureComm:l}),setTimeout((()=>{try{i.adProxy.reportAdMonitorData(yp,{adList:n,reportList:o.map((e=>({uuid:e.uuid,trace_id:e.trace_id,product_id:e.product_id})))})}catch(e){}}),500),0===(null===(t=i.feedbackElements)||void 0===t?void 0:t.length)&&i.adProxy.reportAdMonitorData(up),Promise.resolve()},_z=function(e){var t,a,n,o;if(hz.call(this))return gz.call(this,ZU);var r=uz(this);if(r.renderMode!==KU)return gz.call(this,XU);if(!Ae(e))return gz.call(this,iz);if(void 0===e.rect||void 0===e.click_pos){if("devtools"===sz.platform)return i.error("参数错误，当调用doClick时，需要传递`rect`和`click_pos`"),Promise.resolve();r.adProxy.reportAdMonitorData(fp)}var s=yz.call(this,e.uuid);if(-1===s)return gz.call(this,az);r.adProxy.setCurrentData(s);var l=null===(t=r.adProxy.data)||void 0===t||null===(a=t.extBackComm)||void 0===a?void 0:a.cpsProduct;return l?(r.adProxy.reportClick({extClickComm:{cps_shop_click_url:l.click_url}}),null!==(n=l.wechat_app_info)&&void 0!==n&&n.app_id?(r.adProxy.data.weapp_info={appid:l.wechat_app_info.app_id},r.adProxy.landPage(wg.DEST_TYPE_WECHAT_APPLET,l.wechat_app_info.app_path,{isButton:!1})):l.h5_page?r.adProxy.landPage(wg.DEST_TYPE_OUTER,l.h5_page,{isButton:!1}):r.adProxy.reportAdMonitorData(gp),0===(null===(o=r.feedbackElements)||void 0===o?void 0:o.length)&&r.adProxy.reportAdMonitorData(hp),r.adProxy.reportAdMonitorData(mp,{rect:e.rect||{},click_pos:e.click_pos||{}}),Promise.resolve()):gz.call(this,az)},Ez=1,xz=function(e){var t;if(hz.call(this))return gz.call(this,ZU);var i=uz(this);if(i.renderMode!==KU)return gz.call(this,XU);if(!Ae(e))return gz.call(this,nz);if(0===(null===(t=i.datas)||void 0===t?void 0:t.length))return gz.call(this,oz);var a=fh(oP,{manager:null,reporter:null,emitter:i.feedbackEmitter,adProxy:i.adProxy,template:rz,systemInfo:{},scope:{private:i},adData:i.adProxy.data,adDatas:i.adProxy.datas,adCustomId:`CPSFEEDBACK-${Ez}`,isEmpty:!1},!1);Ez+=1;var n=a.getRootElement();return n.style.left=e.left||0,n.style.top=e.top||0,i.feedbackElements.push(n),ig.add(n),ig.nextLayout()},bz=function(){if(!hz.call(this)){var e=uz(this);if(e.feedbackElements.length){for(var t of e.feedbackElements)t.referComponent&&yh(t.referComponent);e.feedbackElements=[]}}},wz=function(){if(!hz.call(this)){var e=uz(this);e.emitter.off("_error"),e.emitter.off("load"),bz.call(this),this._destroyed=!0,cz(this)}};class Tz extends lz{constructor({adUnitId:e,pluginId:t="",query:i={},renderMode:a=KU}){super(),this._destroyed=void 0;var n=uz(this);n.emitter=new ZP,this._destroyed=!1,n.adType="cpsShopAd",n.adUnitId=e,n.renderMode=a,n.query=i,n.isLoading=!1,n.adProxy=new HA({adUnitId:e,adType:"cpsShopAd",pluginAppid:t}),n.feedbackEmitter=new ZP,n.feedbackElements=[]}load(){if(hz.call(this))return Promise.reject({errMsg:ZU});var e=uz(this);if(e.isLoading)return Promise.reject({errMsg:"CpsShopAd is loading"});e.isLoading=!0;var t=fz.call(this);return e.adFetchResult=t.then((t=>(e.isLoading=!1,t))).catch((t=>{e.isLoading=!1;var i=-12001===t.errCode?{errMsg:"CpsShopAd fail no permission"}:t;throw e.emitter.emit("_error",i),i})),e.adFetchResult}onLoad(e){hz.call(this)||uz(this).emitter.on("load",e)}offLoad(e){hz.call(this)||uz(this).emitter.off("load",e)}onError(e){hz.call(this)||uz(this).emitter.on("_error",e)}offError(e){hz.call(this)||uz(this).emitter.off("_error",e)}doExposure(e){return vz.call(this,e)}doClick(e){return _z.call(this,e)}showFeedback(e){return xz.call(this,e)}hideFeedback(){return bz.call(this)}destroy(){wz.call(this)}}var Cz,Az,Pz,{Component:Iz}=y,Sz="格子广告位已于2021年5月下线，请尽快接入原生模板广告位替换，详情可查看MP流量主公告消息。";class kz extends Iz{constructor(){super(),i.warn(Sz)}show(){return i.warn(Sz),Promise.reject({errMsg:"GridAd.show:fail deprecated"})}hide(){return i.warn(Sz),Promise.reject({errMsg:"GridAd.hide:fail deprecated"})}destory(){i.warn(Sz)}destroy(){i.warn(Sz)}onResize(){i.warn(Sz)}offResize(){i.warn(Sz)}onError(){i.warn(Sz)}offError(){i.warn(Sz)}onLoad(){i.warn(Sz)}offLoad(){i.warn(Sz)}}"function"==typeof(Az=()=>{Cz||(Cz=new JS),Cz.otherAdsEmitFetch()})&&_.on("_onEmitSplashAdFetch",Az);var Dz=null,Rz={createBannerAd:e=>new qU(e),createRewardedVideoAd:e=>(e=>e&&!0===e.multiton?new fV(e):(Dz||(Dz=new fV(e)),Dz))({...e}),createInterstitialAd:e=>{var t={...e};return new QF(t)},createAdProxy:e=>new HA(e),createCustomAd:e=>{var t={...e};return new WG(t)},createGridAd:e=>new kz(e),createCpsAd:e=>new Tz(e)};null!==(Pz=globalThis.WeixinJSBridge)&&void 0!==Pz&&Pz.devtools_miniprogram?globalThis.WeixinJSBridge.subPackageShareAD=Rz:globalThis.AD=Rz})()})()}()}catch(e){console.error("catch sdkSubPackage: ad error: ",e)}