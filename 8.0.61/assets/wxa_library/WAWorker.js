this.__wxLibrary={fileName:"WAWorker.js",envType:"Worker",contextType:"others",execStart:Date.now(),mayHaveSnapshot:!1};var __WAWorkerStartTime__=this.__wxLibrary.execStart;!function(e){var t={updateTime:"2024.11.24 21:13:21",version:"3.6.6",features:{pruneWxConfigByPage:!0,injectGameContextPlugin:!0,lazyCodeLoading2:!0,lazyCodeLoadingForDevTool:!0,injectAppSeparatedPlugin:!0,nativeTrans:!0,gameLive:!0,skyline:!0,supportInvokeWithAppId:!0,supportAudits:!0,wkFeatureVersion:5,delayedServiceCodeCache:!0,gameLiveInvite:!0,globalConsole:!0,earlyDispatchSubPkgReady:!0,glassEasel:1,supportListenTaskStateChange:!0,supportListenNewPerformanceMetric:!0,collectInvokeCost:!0,externalDebug:!0,expt:["clicfg_appbrand_ios_native_socket_wcwss_new","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_canvas_use_magic_brush","clicfg_appbrand_report_trace_event","clicfg_appbrand_skyline_text_style","clicfg_appbrand_ios_allow_worker_binding_message","clicfg_appbrand_ios_arkit2wevision_usevertialplane","clicfg_appbrand_ios_use_jsapi_args_binding","clicfg_appbrand_webview_slow_frame","clicfg_appbrand_webview_native_intersection_observer","clicfg_appbrand_ios_control_close_condom_white","clicfg_appbrand_android_control_close_condom_white","clicfg_appbrand_android_use_game_delay_codecache","clicfg_appbrand_ios_game_shangcheng_kefu","clicfg_appbrand_ios_force_enable_aiad","clicfg_appbrand_android_force_enable_aiad","clicfg_handle_reqresp_in_worker_android","clicfg_appbrand_enable_batch_load_sub_pkg","clicfg_appbrand_ios_enable_aiad_debug_button","clicfg_appbrand_android_enable_aiad_debug_button","clicfg_appbrand_ios_enable_aiad_tag","clicfg_appbrand_android_enable_aiad_tag","clicfg_appbrand_ios_force_use_audio_dynamic_new","clicfg_appbrand_android_force_use_audio_dynamic_new","clicfg_appbrand_ios_operatewxdata_quic_group_control","clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1","clicfg_appbrand_android_operatewxdata_quic_group_control","clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1","clicfg_wxa_report_ssid","clicfg_miniprogram_global_translate_android","clicfg_miniprogram_global_translate_ios","clicfg_appbrand_android_ad_operatewxdata_batch","clicfg_appbrand_ios_ad_operatewxdata_batch","clicfg_appbrand_ios_operatewxdata_batch","clicfg_appbrand_android_operatewxdata_batch","clicfg_appbrand_ios_enable_jsopdata_mock","clicfg_appbrand_ios_android_aiad_interstitial_cache_time","clicfg_appbrand_android_jsapi_nocallback","clicfg_appbrand_ios_operatewxdata_priority","clicfg_appbrand_android_operatewxdata_priority","clicfg_appbrand_ios_operatewxdata_priority_group_control","clicfg_appbrand_android_operatewxdata_priority_group_control"],exptNeedParams:["clicfg_miniprogram_adreport_use_kv","clicfg_miniprogram_open_admb_in_motivating_v3","clicfg_miniprogram_open_admb2_in_motivating"],snapshotConfig:{"game:main":["WAGame.js"],"game:sub":["WAGameSubContext.js"]},mayHaveSnapshot:["WAServiceMainContext.js","WASubContext.js","WARenderContext.js","WAGame.js","WAGameSubContext.js"],pcSnapshotConfig:{minigame:{iframeDomain:{mainContext:["WAGame.js"],gameContext:["WAGameSubContext.js"]},workerDomain:{}},miniprogram:{iframeDomain:{},workerDomain:{main_context:["WAServiceMainContext.js"],sub_context:["WASubContext.js"]}}},privacyApiVersion:3},debugOptions:{}},r=e.Function,n=r,a={};(()=>{var e={5803:(e,t,r)=>{var n={"./applyDecoratedDescriptor":7386,"./asyncToGenerator":8921,"./initializerDefineProperty":8704,"./initializerWarningHelper":9651,"./objectSpread2":8680};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=5803},7386:(e,t,r)=>{"use strict";function n(e,t,r,n,a){var o={};return Object.keys(n).forEach((function(e){o[e]=n[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}r.r(t),r.d(t,{default:()=>n})},8921:(e,t,r)=>{"use strict";function n(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var i=e.apply(t,r);function s(e){n(i,a,o,s,c,"next",e)}function c(e){n(i,a,o,s,c,"throw",e)}s(void 0)}))}}r.r(t),r.d(t,{default:()=>a})},8704:(e,t,r)=>{"use strict";function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.r(t),r.d(t,{default:()=>n})},9651:(e,t,r)=>{"use strict";function n(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}r.r(t),r.d(t,{default:()=>n})},8680:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:()=>s})},9762:(e,t,r)=>{"use strict";var n=r(1551),a=r(4288),o=r(6124),i=r(5517),s=o.data,c=o.normalize,l="USE_FUNCTION_CONSTRUCTOR",u="AsyncIteratorPrototype",p=function(e,t){if(a(e))for(var r=0;r<e.length;r++)s[c(e[r])]=t};e.exports=function(e){"object"==typeof e&&(p(e.useNative,o.NATIVE),p(e.usePolyfill,o.POLYFILL),p(e.useFeatureDetection,null),n(e,l)&&(i[l]=!!e[l]),n(e,u)&&(i[u]=e[u]))}},8117:(e,t,r)=>{"use strict";var n=r(8173),a=r(7420),o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(a(e)+" is not a function")}},6270:(e,t,r)=>{"use strict";var n=r(4524),a=r(7420),o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(a(e)+" is not a constructor")}},8924:(e,t,r)=>{"use strict";var n=r(4977),a=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o("Can't set "+a(e)+" as a prototype")}},6016:(e,t,r)=>{"use strict";var n=r(3840).has;e.exports=function(e){return n(e),e}},7591:(e,t,r)=>{"use strict";var n=r(7609),a=r(3062),o=r(2038),i=r(6469),s=r(8117),c=r(1636),l=r(3743),u=r(6387),p=u("asyncDispose"),d=u("dispose"),f=a([].push),h=function(e,t,r){return arguments.length<3&&!c(e)&&(r=s(function(e,t){if("async-dispose"===t){var r=l(e,p);return void 0!==r||void 0===(r=l(e,d))?r:function(){n(r,this)}}return l(e,d)}(i(e),t))),void 0===r?function(){}:o(r,e)};e.exports=function(e,t,r,n){var a;if(arguments.length<4){if(c(t)&&"sync-dispose"===r)return;a=h(t,r)}else a=h(void 0,r,n);f(e.stack,a)}},2890:(e,t,r)=>{"use strict";var n=r(6387),a=r(9543),o=r(615).f,i=n("unscopables"),s=Array.prototype;void 0===s[i]&&o(s,i,{configurable:!0,value:a(null)}),e.exports=function(e){s[i][e]=!0}},1747:(e,t,r)=>{"use strict";var n=r(6730),a=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new a("Incorrect invocation")}},6469:(e,t,r)=>{"use strict";var n=r(9693),a=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(a(e)+" is not an object")}},5392:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},1759:(e,t,r)=>{"use strict";var a,o,i,s=r(5392),c=r(1923),l=r(1848),u=r(8173),p=r(9693),d=r(1551),f=r(1465),h=r(7420),v=r(1384),g=r(5953),y=r(6248),m=r(6730),_=r(4483),b=r(5273),w=r(6387),k=r(4229),S=r(2417),I=S.enforce,C=S.get,T=l.Int8Array,x=T&&T.prototype,A=l.Uint8ClampedArray,P=A&&A.prototype,E=T&&_(T),O=x&&_(x),M=Object.prototype,R=l.TypeError,D=w("toStringTag"),L=k("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",j=s&&!!b&&"Opera"!==f(l.opera),W=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$={BigInt64Array:8,BigUint64Array:8},B=function(e){var t=_(e);if(p(t)){var r=C(t);return r&&d(r,N)?r[N]:B(t)}},U=function(e){if(!p(e))return!1;var t=f(e);return d(F,t)||d($,t)};for(a in F)(i=(o=l[a])&&o.prototype)?I(i)[N]=o:j=!1;for(a in $)(i=(o=l[a])&&o.prototype)&&(I(i)[N]=o);if((!j||!u(E)||E===n.prototype)&&(E=function(){throw new R("Incorrect invocation")},j))for(a in F)l[a]&&b(l[a],E);if((!j||!O||O===M)&&(O=E.prototype,j))for(a in F)l[a]&&b(l[a].prototype,O);if(j&&_(P)!==O&&b(P,O),c&&!d(O,D))for(a in W=!0,y(O,D,{configurable:!0,get:function(){return p(this)?this[L]:void 0}}),F)l[a]&&v(l[a],L,a);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:W&&L,aTypedArray:function(e){if(U(e))return e;throw new R("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!b||m(E,e)))return e;throw new R(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(c){if(r)for(var a in F){var o=l[a];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(r){try{o.prototype[e]=t}catch(e){}}}O[e]&&!r||g(O,e,r?t:j&&x[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,a;if(c){if(b){if(r)for(n in F)if((a=l[n])&&d(a,e))try{delete a[e]}catch(e){}if(E[e]&&!r)return;try{return g(E,e,r?t:j&&E[e]||t)}catch(e){}}for(n in F)!(a=l[n])||a[e]&&!r||g(a,e,t)}},getTypedArrayConstructor:B,isView:function(e){if(!p(e))return!1;var t=f(e);return"DataView"===t||d(F,t)||d($,t)},isTypedArray:U,TypedArray:E,TypedArrayPrototype:O}},1180:(e,t,r)=>{"use strict";var n=r(3659),a=r(3663),o=r(9110);e.exports=function(e){for(var t=n(this),r=o(t),i=arguments.length,s=a(i>1?arguments[1]:void 0,r),c=i>2?arguments[2]:void 0,l=void 0===c?r:a(c,r);l>s;)t[s++]=e;return t}},4744:(e,t,r)=>{"use strict";var n=r(2038),a=r(3062),o=r(3659),i=r(4524),s=r(2330),c=r(9072),l=r(8986),u=r(2100),p=r(3743),d=r(9406),f=r(8168),h=r(6387),v=r(147),g=r(7163).toArray,y=h("asyncIterator"),m=a(f("Array","values")),_=a(m([]).next),b=function(){return new w(this)},w=function(e){this.iterator=m(e)};w.prototype.next=function(){return _(this.iterator)},e.exports=function(e){var t=this,r=arguments.length,a=r>1?arguments[1]:void 0,f=r>2?arguments[2]:void 0;return new(d("Promise"))((function(r){var d=o(e);void 0!==a&&(a=n(a,f));var h=p(d,y),m=h?void 0:u(d)||b,_=i(t)?new t:[],w=h?s(d,h):new v(l(c(d,m)));r(g(w,a,_))}))}},2239:(e,t,r)=>{"use strict";var n=r(9110);e.exports=function(e,t,r){for(var a=0,o=arguments.length>2?r:n(t),i=new e(o);o>a;)i[a]=t[a++];return i}},3077:(e,t,r)=>{"use strict";var n=r(2038),a=r(3062),o=r(2832),i=r(3659),s=r(9110),c=r(7741),l=c.Map,u=c.get,p=c.has,d=c.set,f=a([].push);e.exports=function(e){for(var t,r,a=i(this),c=o(a),h=n(e,arguments.length>1?arguments[1]:void 0),v=new l,g=s(c),y=0;g>y;y++)t=h(r=c[y],y,a),p(v,t)?f(u(v,t),r):d(v,t,[r]);return v}},6747:(e,t,r)=>{"use strict";var n=r(2038),a=r(3062),o=r(2832),i=r(3659),s=r(7445),c=r(9110),l=r(9543),u=r(2239),p=Array,d=a([].push);e.exports=function(e,t,r,a){for(var f,h,v,g=i(e),y=o(g),m=n(t,r),_=l(null),b=c(y),w=0;b>w;w++)v=y[w],(h=s(m(v,w,g)))in _?d(_[h],v):_[h]=[v];if(a&&(f=a(g))!==p)for(h in _)_[h]=u(f,_[h]);return _}},4158:(e,t,r)=>{"use strict";var n=r(8632),a=r(3663),o=r(9110),i=function(e){return function(t,r,i){var s=n(t),c=o(s);if(0===c)return!e&&-1;var l,u=a(i,c);if(e&&r!=r){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},2008:(e,t,r)=>{"use strict";var n=r(2038),a=r(2832),o=r(3659),i=r(9110),s=function(e){var t=1===e;return function(r,s,c){for(var l,u=o(r),p=a(u),d=i(p),f=n(s,c);d-- >0;)if(f(l=p[d],d,u))switch(e){case 0:return l;case 1:return d}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},7816:(e,t,r)=>{"use strict";var n=r(8462);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},7826:(e,t,r)=>{"use strict";var n=r(1923),a=r(4288),o=TypeError,i=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(a(e)&&!i(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7706:(e,t,r)=>{"use strict";var n=r(3062);e.exports=n([].slice)},9070:(e,t,r)=>{"use strict";var n=r(7706),a=Math.floor,o=function(e,t){var r=e.length;if(r<8)for(var i,s,c=1;c<r;){for(s=c,i=e[c];s&&t(e[s-1],i)>0;)e[s]=e[--s];s!==c++&&(e[s]=i)}else for(var l=a(r/2),u=o(n(e,0,l),t),p=o(n(e,l),t),d=u.length,f=p.length,h=0,v=0;h<d||v<f;)e[h+v]=h<d&&v<f?t(u[h],p[v])<=0?u[h++]:p[v++]:h<d?u[h++]:p[v++];return e};e.exports=o},459:(e,t,r)=>{"use strict";var n=r(9110);e.exports=function(e,t){for(var r=n(e),a=new t(r),o=0;o<r;o++)a[o]=e[r-o-1];return a}},1403:(e,t,r)=>{"use strict";var n=r(9110),a=r(6521),o=RangeError;e.exports=function(e,t,r,i){var s=n(e),c=a(r),l=c<0?s+c:c;if(l>=s||l<0)throw new o("Incorrect index");for(var u=new t(s),p=0;p<s;p++)u[p]=p===l?i:e[p];return u}},147:(e,t,r)=>{"use strict";var n=r(7609),a=r(6469),o=r(9543),i=r(3743),s=r(8881),c=r(2417),l=r(9406),u=r(2179),p=r(9462),d=l("Promise"),f="AsyncFromSyncIterator",h=c.set,v=c.getterFor(f),g=function(e,t,r){var n=e.done;d.resolve(e.value).then((function(e){t(p(e,n))}),r)},y=function(e){e.type=f,h(this,e)};y.prototype=s(o(u),{next:function(){var e=v(this);return new d((function(t,r){var o=a(n(e.next,e.iterator));g(o,t,r)}))},return:function(){var e=v(this).iterator;return new d((function(t,r){var o=i(e,"return");if(void 0===o)return t(p(void 0,!0));var s=a(n(o,e));g(s,t,r)}))}}),e.exports=y},7897:(e,t,r)=>{"use strict";var n=r(7609),a=r(9406),o=r(3743);e.exports=function(e,t,r,i){try{var s=o(e,"return");if(s)return a("Promise").resolve(n(s,e)).then((function(){t(r)}),(function(e){i(e)}))}catch(e){return i(e)}t(r)}},9296:(e,t,r)=>{"use strict";var n=r(7609),a=r(1689),o=r(6469),i=r(9543),s=r(1384),c=r(8881),l=r(6387),u=r(2417),p=r(9406),d=r(3743),f=r(2179),h=r(9462),v=r(9273),g=p("Promise"),y=l("toStringTag"),m="AsyncIteratorHelper",_="WrapForValidAsyncIterator",b=u.set,w=function(e){var t=!e,r=u.getterFor(e?_:m),s=function(e){var n=a((function(){return r(e)})),o=n.error,i=n.value;return o||t&&i.done?{exit:!0,value:o?g.reject(i):g.resolve(h(void 0,!0))}:{exit:!1,value:i}};return c(i(f),{next:function(){var e=s(this),t=e.value;if(e.exit)return t;var r=a((function(){return o(t.nextHandler(g))})),n=r.error,i=r.value;return n&&(t.done=!0),n?g.reject(i):g.resolve(i)},return:function(){var t=s(this),r=t.value;if(t.exit)return r;r.done=!0;var i,c,l=r.iterator,u=a((function(){if(r.inner)try{v(r.inner.iterator,"normal")}catch(e){return v(l,"throw",e)}return d(l,"return")}));return i=c=u.value,u.error?g.reject(c):void 0===i?g.resolve(h(void 0,!0)):(c=(u=a((function(){return n(i,l)}))).value,u.error?g.reject(c):e?g.resolve(c):g.resolve(c).then((function(e){return o(e),h(void 0,!0)})))}})},k=w(!0),S=w(!1);s(S,y,"Async Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?_:m,n.nextHandler=e,n.counter=0,n.done=!1,b(this,n)};return r.prototype=t?k:S,r}},7163:(e,t,r)=>{"use strict";var n=r(7609),a=r(8117),o=r(6469),i=r(9693),s=r(8475),c=r(9406),l=r(8986),u=r(7897),p=function(e){var t=0===e,r=1===e,p=2===e,d=3===e;return function(e,f,h){o(e);var v=void 0!==f;!v&&t||a(f);var g=l(e),y=c("Promise"),m=g.iterator,_=g.next,b=0;return new y((function(e,a){var c=function(e){u(m,a,e,a)},l=function(){try{if(v)try{s(b)}catch(e){c(e)}y.resolve(o(n(_,m))).then((function(n){try{if(o(n).done)t?(h.length=b,e(h)):e(!d&&(p||void 0));else{var s=n.value;try{if(v){var g=f(s,b),_=function(n){if(r)l();else if(p)n?l():u(m,e,!1,a);else if(t)try{h[b++]=n,l()}catch(e){c(e)}else n?u(m,e,d||s,a):l()};i(g)?y.resolve(g).then(_,c):_(g)}else h[b++]=s,l()}catch(e){c(e)}}}catch(e){a(e)}}),a)}catch(e){a(e)}};l()}))}};e.exports={toArray:p(0),forEach:p(1),every:p(2),some:p(3),find:p(4)}},7073:(e,t,r)=>{"use strict";var n=r(7609),a=r(8117),o=r(6469),i=r(9693),s=r(8986),c=r(9296),l=r(9462),u=r(7897),p=c((function(e){var t=this,r=t.iterator,a=t.mapper;return new e((function(s,c){var p=function(e){t.done=!0,c(e)},d=function(e){u(r,p,e,p)};e.resolve(o(n(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,s(l(void 0,!0));else{var n=r.value;try{var c=a(n,t.counter++),u=function(e){s(l(e,!1))};i(c)?e.resolve(c).then(u,d):u(c)}catch(e){d(e)}}}catch(e){p(e)}}),p)}))}));e.exports=function(e){return o(this),a(e),new p(s(this),{mapper:e})}},2179:(e,t,r)=>{"use strict";var a,o,i=r(1848),s=r(5517),c=r(8173),l=r(9543),u=r(4483),p=r(5953),d=r(6387),f=r(4151),h="USE_FUNCTION_CONSTRUCTOR",v=d("asyncIterator"),g=i.AsyncIterator,y=s.AsyncIteratorPrototype;if(y)a=y;else if(c(g))a=g.prototype;else if(s[h]||i[h])try{o=u(u(u(n("return async function*(){}()")()))),u(o)===Object.prototype&&(a=o)}catch(e){}a?f&&(a=l(a)):a={},c(a[v])||p(a,v,(function(){return this})),e.exports=a},3525:(e,t,r)=>{"use strict";var n=r(7609),a=r(9296);e.exports=a((function(){return n(this.next,this.iterator)}),!0)},9832:(e,t,r)=>{"use strict";var n=r(6469),a=r(9273);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){a(e,"throw",t)}}},4912:(e,t,r)=>{"use strict";var n=r(6387)("iterator"),a=!1;try{var o=0,i={next:function(){return{done:!!o++}},return:function(){a=!0}};i[n]=function(){return this},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!a)return!1}catch(e){return!1}var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},6892:(e,t,r)=>{"use strict";var n=r(3062),a=n({}.toString),o=n("".slice);e.exports=function(e){return o(a(e),8,-1)}},1465:(e,t,r)=>{"use strict";var n=r(1326),a=r(8173),o=r(6892),i=r(6387)("toStringTag"),s=Object,c="Arguments"===o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),i))?r:c?o(t):"Object"===(n=o(t))&&a(t.callee)?"Arguments":n}},744:(e,t,r)=>{"use strict";var n=r(1551),a=r(3349),o=r(5983),i=r(615);e.exports=function(e,t,r){for(var s=a(t),c=i.f,l=o.f,u=0;u<s.length;u++){var p=s[u];n(e,p)||r&&n(r,p)||c(e,p,l(t,p))}}},7712:(e,t,r)=>{"use strict";var n=r(8462);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},9462:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},1384:(e,t,r)=>{"use strict";var n=r(1923),a=r(615),o=r(4127);e.exports=n?function(e,t,r){return a.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},4127:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4676:(e,t,r)=>{"use strict";var n=r(1923),a=r(615),o=r(4127);e.exports=function(e,t,r){n?a.f(e,t,o(0,r)):e[t]=r}},6248:(e,t,r)=>{"use strict";var n=r(1704),a=r(615);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),a.f(e,t,r)}},5953:(e,t,r)=>{"use strict";var n=r(8173),a=r(615),o=r(1704),i=r(3958);e.exports=function(e,t,r,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(n(r)&&o(r,l,s),s.global)c?e[t]=r:i(t,r);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:a.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},8881:(e,t,r)=>{"use strict";var n=r(5953);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},3958:(e,t,r)=>{"use strict";var n=r(1848),a=Object.defineProperty;e.exports=function(e,t){try{a(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},5588:(e,t,r)=>{"use strict";var n=r(7420),a=TypeError;e.exports=function(e,t){if(!delete e[t])throw new a("Cannot delete property "+n(t)+" of "+n(e))}},1923:(e,t,r)=>{"use strict";var n=r(8462);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4446:(e,t,r)=>{"use strict";var n=r(1848),a=r(9693),o=n.document,i=a(o)&&a(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},8475:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},7094:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9257:(e,t,r)=>{"use strict";var n=r(8722).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},1466:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/MSIE|Trident/.test(n)},9788:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},9823:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},2409:(e,t,r)=>{"use strict";var n=r(1558);e.exports="NODE"===n},2027:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/web0s(?!.*chrome)/i.test(n)},8722:(e,t,r)=>{"use strict";var n=r(1848).navigator,a=n&&n.userAgent;e.exports=a?String(a):""},9255:(e,t,r)=>{"use strict";var n,a,o=r(1848),i=r(8722),s=o.process,c=o.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(a=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!a&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(a=+n[1]),e.exports=a},8560:(e,t,r)=>{"use strict";var n=r(8722).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},1558:(e,t,r)=>{"use strict";var n=r(1848),a=r(8722),o=r(6892),i=function(e){return a.slice(0,e.length)===e};e.exports=i("Bun/")?"BUN":i("Cloudflare-Workers")?"CLOUDFLARE":i("Deno/")?"DENO":i("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},5290:(e,t,r)=>{"use strict";var n=r(3062),a=Error,o=n("".replace),i=String(new a("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(i);e.exports=function(e,t){if(c&&"string"==typeof e&&!a.prepareStackTrace)for(;t--;)e=o(e,s,"");return e}},2519:(e,t,r)=>{"use strict";var n=r(1384),a=r(5290),o=r(692),i=Error.captureStackTrace;e.exports=function(e,t,r,s){o&&(i?i(e,t):n(e,"stack",a(r,s)))}},692:(e,t,r)=>{"use strict";var n=r(8462),a=r(4127);e.exports=!n((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",a(1,7)),7!==e.stack)}))},4395:(e,t,r)=>{"use strict";var n=r(1848),a=r(5983).f,o=r(1384),i=r(5953),s=r(3958),c=r(744),l=r(6124);e.exports=function(e,t){var r,u,p,d,f,h=e.target,v=e.global,g=e.stat;if(r=v?n:g?n[h]||s(h,{}):n[h]&&n[h].prototype)for(u in t){if(d=t[u],p=e.dontCallGetSet?(f=a(r,u))&&f.value:r[u],!l(v?u:h+(g?".":"#")+u,e.forced)&&void 0!==p){if(typeof d==typeof p)continue;c(d,p)}(e.sham||p&&p.sham)&&o(d,"sham",!0),i(r,u,d,e)}}},8462:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},3178:(e,t,r)=>{"use strict";var a=r(5020),o=n.prototype,i=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(a?s.bind(i):function(){return s.apply(i,arguments)})},2038:(e,t,r)=>{"use strict";var n=r(1992),a=r(8117),o=r(5020),i=n(n.bind);e.exports=function(e,t){return a(e),void 0===t?e:o?i(e,t):function(){return e.apply(t,arguments)}}},5020:(e,t,r)=>{"use strict";var n=r(8462);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7609:(e,t,r)=>{"use strict";var a=r(5020),o=n.prototype.call;e.exports=a?o.bind(o):function(){return o.apply(o,arguments)}},63:(e,t,r)=>{"use strict";var a=r(1923),o=r(1551),i=n.prototype,s=a&&Object.getOwnPropertyDescriptor,c=o(i,"name"),l=c&&"something"===function(){}.name,u=c&&(!a||a&&s(i,"name").configurable);e.exports={EXISTS:c,PROPER:l,CONFIGURABLE:u}},252:(e,t,r)=>{"use strict";var n=r(3062),a=r(8117);e.exports=function(e,t,r){try{return n(a(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},1992:(e,t,r)=>{"use strict";var n=r(6892),a=r(3062);e.exports=function(e){if("Function"===n(e))return a(e)}},3062:(e,t,r)=>{"use strict";var a=r(5020),o=n.prototype,i=o.call,s=a&&o.bind.bind(i,i);e.exports=a?s:function(e){return function(){return i.apply(e,arguments)}}},1401:(e,t,r)=>{"use strict";var n=r(7609),a=r(8173),o=r(6469),i=r(8986),s=r(2100),c=r(3743),l=r(6387),u=r(147),p=l("asyncIterator");e.exports=function(e){var t,r=o(e),l=!0,d=c(r,p);return a(d)||(d=s(r),l=!1),void 0!==d?t=n(d,r):(t=r,l=!0),o(t),i(l?t:new u(i(t)))}},2330:(e,t,r)=>{"use strict";var n=r(7609),a=r(147),o=r(6469),i=r(9072),s=r(8986),c=r(3743),l=r(6387)("asyncIterator");e.exports=function(e,t){var r=arguments.length<2?c(e,l):t;return r?o(n(r,e)):new a(s(i(e)))}},8168:(e,t,r)=>{"use strict";var n=r(1848);e.exports=function(e,t){var r=n[e],a=r&&r.prototype;return a&&a[t]}},9406:(e,t,r)=>{"use strict";var n=r(1848),a=r(8173);e.exports=function(e,t){return arguments.length<2?(r=n[e],a(r)?r:void 0):n[e]&&n[e][t];var r}},8986:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},8304:(e,t,r)=>{"use strict";var n=r(7609),a=r(6469),o=r(8986),i=r(2100);e.exports=function(e,t){t&&"string"==typeof e||a(e);var r=i(e);return o(a(void 0!==r?n(r,e):e))}},2100:(e,t,r)=>{"use strict";var n=r(1465),a=r(3743),o=r(1636),i=r(7343),s=r(6387)("iterator");e.exports=function(e){if(!o(e))return a(e,s)||a(e,"@@iterator")||i[n(e)]}},9072:(e,t,r)=>{"use strict";var n=r(7609),a=r(8117),o=r(6469),i=r(7420),s=r(2100),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(a(r))return o(n(r,e));throw new c(i(e)+" is not iterable")}},3743:(e,t,r)=>{"use strict";var n=r(8117),a=r(1636);e.exports=function(e,t){var r=e[t];return a(r)?void 0:n(r)}},1998:(e,t,r)=>{"use strict";var n=r(8117),a=r(6469),o=r(7609),i=r(6521),s=r(8986),c="Invalid size",l=RangeError,u=TypeError,p=Math.max,d=function(e,t){this.set=e,this.size=p(t,0),this.has=n(e.has),this.keys=n(e.keys)};d.prototype={getIterator:function(){return s(a(o(this.keys,this.set)))},includes:function(e){return o(this.has,this.set,e)}},e.exports=function(e){a(e);var t=+e.size;if(t!=t)throw new u(c);var r=i(t);if(r<0)throw new l(c);return new d(e,r)}},1848:function(e,t,r){"use strict";var a=function(e){return e&&e.Math===Math&&e};e.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof r.g&&r.g)||a("object"==typeof this&&this)||function(){return this}()||n("return this")()},1551:(e,t,r)=>{"use strict";var n=r(3062),a=r(3659),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(a(e),t)}},7051:e=>{"use strict";e.exports={}},2157:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2241:(e,t,r)=>{"use strict";var n=r(9406);e.exports=n("document","documentElement")},1881:(e,t,r)=>{"use strict";var n=r(1923),a=r(8462),o=r(4446);e.exports=!n&&!a((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},2832:(e,t,r)=>{"use strict";var n=r(3062),a=r(8462),o=r(6892),i=Object,s=n("".split);e.exports=a((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):i(e)}:i},6339:(e,t,r)=>{"use strict";var n=r(8173),a=r(9693),o=r(5273);e.exports=function(e,t,r){var i,s;return o&&n(i=t.constructor)&&i!==r&&a(s=i.prototype)&&s!==r.prototype&&o(e,s),e}},5239:(e,t,r)=>{"use strict";var a=r(3062),o=r(8173),i=r(5517),s=a(n.toString);o(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},6001:(e,t,r)=>{"use strict";var n=r(9693),a=r(1384);e.exports=function(e,t){n(t)&&"cause"in t&&a(e,"cause",t.cause)}},2417:(e,t,r)=>{"use strict";var n,a,o,i=r(3721),s=r(1848),c=r(9693),l=r(1384),u=r(1551),p=r(5517),d=r(5612),f=r(7051),h="Object already initialized",v=s.TypeError,g=s.WeakMap;if(i||p.state){var y=p.state||(p.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,n=function(e,t){if(y.has(e))throw new v(h);return t.facade=e,y.set(e,t),t},a=function(e){return y.get(e)||{}},o=function(e){return y.has(e)}}else{var m=d("state");f[m]=!0,n=function(e,t){if(u(e,m))throw new v(h);return t.facade=e,l(e,m,t),t},a=function(e){return u(e,m)?e[m]:{}},o=function(e){return u(e,m)}}e.exports={set:n,get:a,has:o,enforce:function(e){return o(e)?a(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=a(t)).type!==e)throw new v("Incompatible receiver, "+e+" required");return r}}}},9345:(e,t,r)=>{"use strict";var n=r(6387),a=r(7343),o=n("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||i[o]===e)}},4288:(e,t,r)=>{"use strict";var n=r(6892);e.exports=Array.isArray||function(e){return"Array"===n(e)}},4107:(e,t,r)=>{"use strict";var n=r(1465);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},8173:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4524:(e,t,r)=>{"use strict";var n=r(3062),a=r(8462),o=r(8173),i=r(1465),s=r(9406),c=r(5239),l=function(){},u=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=n(p.exec),f=!p.test(l),h=function(e){if(!o(e))return!1;try{return u(l,[],e),!0}catch(e){return!1}},v=function(e){if(!o(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!d(p,c(e))}catch(e){return!0}};v.sham=!0,e.exports=!u||a((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?v:h},6124:(e,t,r)=>{"use strict";var n=r(8462),a=r(8173),o=/#|\.prototype\./,i=function(e,t){var r=c[s(e)];return r===u||r!==l&&(a(t)?n(t):!!t)},s=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=i.data={},l=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},1636:e=>{"use strict";e.exports=function(e){return null==e}},9693:(e,t,r)=>{"use strict";var n=r(8173);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},4977:(e,t,r)=>{"use strict";var n=r(9693);e.exports=function(e){return n(e)||null===e}},4151:e=>{"use strict";e.exports=!1},9525:(e,t,r)=>{"use strict";var n=r(9406),a=r(8173),o=r(6730),i=r(5363),s=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return a(t)&&o(t.prototype,s(e))}},9806:(e,t,r)=>{"use strict";var n=r(7609);e.exports=function(e,t,r){for(var a,o,i=r?e:e.iterator,s=e.next;!(a=n(s,i)).done;)if(void 0!==(o=t(a.value)))return o}},2201:(e,t,r)=>{"use strict";var n=r(2038),a=r(7609),o=r(6469),i=r(7420),s=r(9345),c=r(9110),l=r(6730),u=r(9072),p=r(2100),d=r(9273),f=TypeError,h=function(e,t){this.stopped=e,this.result=t},v=h.prototype;e.exports=function(e,t,r){var g,y,m,_,b,w,k,S=r&&r.that,I=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_RECORD),T=!(!r||!r.IS_ITERATOR),x=!(!r||!r.INTERRUPTED),A=n(t,S),P=function(e){return g&&d(g,"normal",e),new h(!0,e)},E=function(e){return I?(o(e),x?A(e[0],e[1],P):A(e[0],e[1])):x?A(e,P):A(e)};if(C)g=e.iterator;else if(T)g=e;else{if(!(y=p(e)))throw new f(i(e)+" is not iterable");if(s(y)){for(m=0,_=c(e);_>m;m++)if((b=E(e[m]))&&l(v,b))return b;return new h(!1)}g=u(e,y)}for(w=C?e.next:g.next;!(k=a(w,g)).done;){try{b=E(k.value)}catch(e){d(g,"throw",e)}if("object"==typeof b&&b&&l(v,b))return b}return new h(!1)}},9273:(e,t,r)=>{"use strict";var n=r(7609),a=r(6469),o=r(3743);e.exports=function(e,t,r){var i,s;a(e);try{if(!(i=o(e,"return"))){if("throw"===t)throw r;return r}i=n(i,e)}catch(e){s=!0,i=e}if("throw"===t)throw r;if(s)throw i;return a(i),r}},2160:(e,t,r)=>{"use strict";var n=r(7609),a=r(9543),o=r(1384),i=r(8881),s=r(6387),c=r(2417),l=r(3743),u=r(7092).IteratorPrototype,p=r(9462),d=r(9273),f=s("toStringTag"),h="IteratorHelper",v="WrapForValidIterator",g=c.set,y=function(e){var t=c.getterFor(e?v:h);return i(a(u),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return p(n,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),a=r.iterator;if(r.done=!0,e){var o=l(a,"return");return o?n(o,a):p(void 0,!0)}if(r.inner)try{d(r.inner.iterator,"normal")}catch(e){return d(a,"throw",e)}return d(a,"normal"),p(void 0,!0)}})},m=y(!0),_=y(!1);o(_,f,"Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?v:h,n.nextHandler=e,n.counter=0,n.done=!1,g(this,n)};return r.prototype=t?m:_,r}},2563:(e,t,r)=>{"use strict";var n=r(7609),a=r(8117),o=r(6469),i=r(8986),s=r(2160),c=r(9832),l=s((function(){var e=this.iterator,t=o(n(this.next,e));if(!(this.done=!!t.done))return c(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return o(this),a(e),new l(i(this),{mapper:e})}},7092:(e,t,r)=>{"use strict";var n,a,o,i=r(8462),s=r(8173),c=r(9693),l=r(9543),u=r(4483),p=r(5953),d=r(6387),f=r(4151),h=d("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(a=u(u(o)))!==Object.prototype&&(n=a):v=!0),!c(n)||i((function(){var e={};return n[h].call(e)!==e}))?n={}:f&&(n=l(n)),s(n[h])||p(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:v}},7343:e=>{"use strict";e.exports={}},9110:(e,t,r)=>{"use strict";var n=r(4233);e.exports=function(e){return n(e.length)}},1704:(e,t,r)=>{"use strict";var a=r(3062),o=r(8462),i=r(8173),s=r(1551),c=r(1923),l=r(63).CONFIGURABLE,u=r(5239),p=r(2417),d=p.enforce,f=p.get,h=String,v=Object.defineProperty,g=a("".slice),y=a("".replace),m=a([].join),_=c&&!o((function(){return 8!==v((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===g(h(t),0,7)&&(t="["+y(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(c?v(e,"name",{value:t,configurable:!0}):e.name=t),_&&r&&s(r,"arity")&&e.length!==r.arity&&v(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?c&&v(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=d(e);return s(n,"source")||(n.source=m(b,"string"==typeof t?t:"")),e};n.prototype.toString=w((function(){return i(this)&&f(this).source||u(this)}),"toString")},7741:(e,t,r)=>{"use strict";var n=r(3062),a=Map.prototype;e.exports={Map:Map,set:n(a.set),get:n(a.get),has:n(a.has),remove:n(a.delete),proto:a}},9344:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},5684:(e,t,r)=>{"use strict";var n,a,o,i,s,c=r(1848),l=r(5512),u=r(2038),p=r(4320).set,d=r(5141),f=r(9823),h=r(9788),v=r(2027),g=r(2409),y=c.MutationObserver||c.WebKitMutationObserver,m=c.document,_=c.process,b=c.Promise,w=l("queueMicrotask");if(!w){var k=new d,S=function(){var e,t;for(g&&(e=_.domain)&&e.exit();t=k.get();)try{t()}catch(e){throw k.head&&n(),e}e&&e.enter()};f||g||v||!y||!m?!h&&b&&b.resolve?((i=b.resolve(void 0)).constructor=b,s=u(i.then,i),n=function(){s(S)}):g?n=function(){_.nextTick(S)}:(p=u(p,c),n=function(){p(S)}):(a=!0,o=m.createTextNode(""),new y(S).observe(o,{characterData:!0}),n=function(){o.data=a=!a}),w=function(e){k.head||n(),k.add(e)}}e.exports=w},8326:(e,t,r)=>{"use strict";var n=r(8117),a=TypeError,o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw new a("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},9766:(e,t,r)=>{"use strict";var n=r(5774);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},8428:e=>{"use strict";var t=RangeError;e.exports=function(e){if(e==e)return e;throw new t("NaN is not allowed")}},9543:(e,t,r)=>{"use strict";var n,a=r(6469),o=r(1981),i=r(7094),s=r(7051),c=r(2241),l=r(4446),u=r(5612),p="prototype",d="script",f=u("IE_PROTO"),h=function(){},v=function(e){return"<"+d+">"+e+"</"+d+">"},g=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;y="undefined"!=typeof document?document.domain&&n?g(n):(t=l("iframe"),r="java"+d+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(v("document.F=Object")),e.close(),e.F):g(n);for(var a=i.length;a--;)delete y[p][i[a]];return y()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[p]=a(e),r=new h,h[p]=null,r[f]=e):r=y(),void 0===t?r:o.f(r,t)}},1981:(e,t,r)=>{"use strict";var n=r(1923),a=r(2552),o=r(615),i=r(6469),s=r(8632),c=r(5923);t.f=n&&!a?Object.defineProperties:function(e,t){i(e);for(var r,n=s(t),a=c(t),l=a.length,u=0;l>u;)o.f(e,r=a[u++],n[r]);return e}},615:(e,t,r)=>{"use strict";var n=r(1923),a=r(1881),o=r(2552),i=r(6469),s=r(7445),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",f="writable";t.f=n?o?function(e,t,r){if(i(e),t=s(t),i(r),"function"==typeof e&&"prototype"===t&&"value"in r&&f in r&&!r[f]){var n=u(e,t);n&&n[f]&&(e[t]=r.value,r={configurable:d in r?r[d]:n[d],enumerable:p in r?r[p]:n[p],writable:!1})}return l(e,t,r)}:l:function(e,t,r){if(i(e),t=s(t),i(r),a)try{return l(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},5983:(e,t,r)=>{"use strict";var n=r(1923),a=r(7609),o=r(6146),i=r(4127),s=r(8632),c=r(7445),l=r(1551),u=r(1881),p=Object.getOwnPropertyDescriptor;t.f=n?p:function(e,t){if(e=s(e),t=c(t),u)try{return p(e,t)}catch(e){}if(l(e,t))return i(!a(o.f,e,t),e[t])}},1010:(e,t,r)=>{"use strict";var n=r(6866),a=r(7094).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},436:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},4483:(e,t,r)=>{"use strict";var n=r(1551),a=r(8173),o=r(3659),i=r(5612),s=r(7712),c=i("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=o(e);if(n(t,c))return t[c];var r=t.constructor;return a(r)&&t instanceof r?r.prototype:t instanceof l?u:null}},6730:(e,t,r)=>{"use strict";var n=r(3062);e.exports=n({}.isPrototypeOf)},6866:(e,t,r)=>{"use strict";var n=r(3062),a=r(1551),o=r(8632),i=r(4158).indexOf,s=r(7051),c=n([].push);e.exports=function(e,t){var r,n=o(e),l=0,u=[];for(r in n)!a(s,r)&&a(n,r)&&c(u,r);for(;t.length>l;)a(n,r=t[l++])&&(~i(u,r)||c(u,r));return u}},5923:(e,t,r)=>{"use strict";var n=r(6866),a=r(7094);e.exports=Object.keys||function(e){return n(e,a)}},6146:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},5273:(e,t,r)=>{"use strict";var n=r(252),a=r(9693),o=r(170),i=r(8924);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return o(r),i(n),a(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0)},3613:(e,t,r)=>{"use strict";var n=r(7609),a=r(8173),o=r(9693),i=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&a(r=e.toString)&&!o(s=n(r,e)))return s;if(a(r=e.valueOf)&&!o(s=n(r,e)))return s;if("string"!==t&&a(r=e.toString)&&!o(s=n(r,e)))return s;throw new i("Can't convert object to primitive value")}},3349:(e,t,r)=>{"use strict";var n=r(9406),a=r(3062),o=r(1010),i=r(436),s=r(6469),c=a([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=i.f;return r?c(t,r(e)):t}},3448:(e,t,r)=>{"use strict";var n=r(1848);e.exports=n},1689:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},1495:(e,t,r)=>{"use strict";var n=r(1848),a=r(4243),o=r(8173),i=r(6124),s=r(5239),c=r(6387),l=r(1558),u=r(4151),p=r(9255),d=a&&a.prototype,f=c("species"),h=!1,v=o(n.PromiseRejectionEvent),g=i("Promise",(function(){var e=s(a),t=e!==String(a);if(!t&&66===p)return!0;if(u&&(!d.catch||!d.finally))return!0;if(!p||p<51||!/native code/.test(e)){var r=new a((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[f]=n,!(h=r.then((function(){}))instanceof n))return!0}return!(t||"BROWSER"!==l&&"DENO"!==l||v)}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:h}},4243:(e,t,r)=>{"use strict";var n=r(1848);e.exports=n.Promise},1128:(e,t,r)=>{"use strict";var n=r(6469),a=r(9693),o=r(8326);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},7019:(e,t,r)=>{"use strict";var n=r(4243),a=r(4912),o=r(1495).CONSTRUCTOR;e.exports=o||!a((function(e){n.all(e).then(void 0,(function(){}))}))},4279:(e,t,r)=>{"use strict";var n=r(615).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},5141:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},7834:(e,t,r)=>{"use strict";var n=r(6469);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},170:(e,t,r)=>{"use strict";var n=r(1636),a=TypeError;e.exports=function(e){if(n(e))throw new a("Can't call method on "+e);return e}},5512:(e,t,r)=>{"use strict";var n=r(1848),a=r(1923),o=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!a)return n[e];var t=o(n,e);return t&&t.value}},929:(e,t,r)=>{"use strict";var n=r(3840),a=r(2745),o=n.Set,i=n.add;e.exports=function(e){var t=new o;return a(e,(function(e){i(t,e)})),t}},9864:(e,t,r)=>{"use strict";var n=r(6016),a=r(3840),o=r(929),i=r(5179),s=r(1998),c=r(2745),l=r(9806),u=a.has,p=a.remove;e.exports=function(e){var t=n(this),r=s(e),a=o(t);return i(t)<=r.size?c(t,(function(e){r.includes(e)&&p(a,e)})):l(r.getIterator(),(function(e){u(t,e)&&p(a,e)})),a}},3840:(e,t,r)=>{"use strict";var n=r(3062),a=Set.prototype;e.exports={Set:Set,add:n(a.add),has:n(a.has),remove:n(a.delete),proto:a}},374:(e,t,r)=>{"use strict";var n=r(6016),a=r(3840),o=r(5179),i=r(1998),s=r(2745),c=r(9806),l=a.Set,u=a.add,p=a.has;e.exports=function(e){var t=n(this),r=i(e),a=new l;return o(t)>r.size?c(r.getIterator(),(function(e){p(t,e)&&u(a,e)})):s(t,(function(e){r.includes(e)&&u(a,e)})),a}},7735:(e,t,r)=>{"use strict";var n=r(6016),a=r(3840).has,o=r(5179),i=r(1998),s=r(2745),c=r(9806),l=r(9273);e.exports=function(e){var t=n(this),r=i(e);if(o(t)<=r.size)return!1!==s(t,(function(e){if(r.includes(e))return!1}),!0);var u=r.getIterator();return!1!==c(u,(function(e){if(a(t,e))return l(u,"normal",!1)}))}},6274:(e,t,r)=>{"use strict";var n=r(6016),a=r(5179),o=r(2745),i=r(1998);e.exports=function(e){var t=n(this),r=i(e);return!(a(t)>r.size)&&!1!==o(t,(function(e){if(!r.includes(e))return!1}),!0)}},9749:(e,t,r)=>{"use strict";var n=r(6016),a=r(3840).has,o=r(5179),i=r(1998),s=r(9806),c=r(9273);e.exports=function(e){var t=n(this),r=i(e);if(o(t)<r.size)return!1;var l=r.getIterator();return!1!==s(l,(function(e){if(!a(t,e))return c(l,"normal",!1)}))}},2745:(e,t,r)=>{"use strict";var n=r(3062),a=r(9806),o=r(3840),i=o.Set,s=o.proto,c=n(s.forEach),l=n(s.keys),u=l(new i).next;e.exports=function(e,t,r){return r?a({iterator:l(e),next:u},t):c(e,t)}},4435:(e,t,r)=>{"use strict";var n=r(9406),a=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=n("Set");try{(new t)[e](a(0));try{return(new t)[e](a(-1)),!1}catch(e){return!0}}catch(e){return!1}}},5179:(e,t,r)=>{"use strict";var n=r(252),a=r(3840);e.exports=n(a.proto,"size","get")||function(e){return e.size}},5539:(e,t,r)=>{"use strict";var n=r(9406),a=r(6248),o=r(6387),i=r(1923),s=o("species");e.exports=function(e){var t=n(e);i&&t&&!t[s]&&a(t,s,{configurable:!0,get:function(){return this}})}},3285:(e,t,r)=>{"use strict";var n=r(6016),a=r(3840),o=r(929),i=r(1998),s=r(9806),c=a.add,l=a.has,u=a.remove;e.exports=function(e){var t=n(this),r=i(e).getIterator(),a=o(t);return s(r,(function(e){l(t,e)?u(a,e):c(a,e)})),a}},6988:(e,t,r)=>{"use strict";var n=r(615).f,a=r(1551),o=r(6387)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!a(e,o)&&n(e,o,{configurable:!0,value:t})}},2394:(e,t,r)=>{"use strict";var n=r(6016),a=r(3840).add,o=r(929),i=r(1998),s=r(9806);e.exports=function(e){var t=n(this),r=i(e).getIterator(),c=o(t);return s(r,(function(e){a(c,e)})),c}},5612:(e,t,r)=>{"use strict";var n=r(6231),a=r(4229),o=n("keys");e.exports=function(e){return o[e]||(o[e]=a(e))}},5517:(e,t,r)=>{"use strict";var n=r(4151),a=r(1848),o=r(3958),i="__core-js_shared__",s=e.exports=a[i]||o(i,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6231:(e,t,r)=>{"use strict";var n=r(5517);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},9675:(e,t,r)=>{"use strict";var n=r(6469),a=r(6270),o=r(1636),i=r(6387)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||o(r=n(s)[i])?t:a(r)}},444:(e,t,r)=>{"use strict";var n=r(9255),a=r(8462),o=r(1848).String;e.exports=!!Object.getOwnPropertySymbols&&!a((function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4320:(e,t,r)=>{"use strict";var n,a,o,i,s=r(1848),c=r(3178),l=r(2038),u=r(8173),p=r(1551),d=r(8462),f=r(2241),h=r(7706),v=r(4446),g=r(4315),y=r(9823),m=r(2409),_=s.setImmediate,b=s.clearImmediate,w=s.process,k=s.Dispatch,S=s.Function,I=s.MessageChannel,C=s.String,T=0,x={},A="onreadystatechange";d((function(){n=s.location}));var P=function(e){if(p(x,e)){var t=x[e];delete x[e],t()}},E=function(e){return function(){P(e)}},O=function(e){P(e.data)},M=function(e){s.postMessage(C(e),n.protocol+"//"+n.host)};_&&b||(_=function(e){g(arguments.length,1);var t=u(e)?e:S(e),r=h(arguments,1);return x[++T]=function(){c(t,void 0,r)},a(T),T},b=function(e){delete x[e]},m?a=function(e){w.nextTick(E(e))}:k&&k.now?a=function(e){k.now(E(e))}:I&&!y?(i=(o=new I).port2,o.port1.onmessage=O,a=l(i.postMessage,i)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!d(M)?(a=M,s.addEventListener("message",O,!1)):a=A in v("script")?function(e){f.appendChild(v("script"))[A]=function(){f.removeChild(this),P(e)}}:function(e){setTimeout(E(e),0)}),e.exports={set:_,clear:b}},3663:(e,t,r)=>{"use strict";var n=r(6521),a=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):o(r,t)}},3442:(e,t,r)=>{"use strict";var n=r(5124),a=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new a("Can't convert number to bigint");return BigInt(t)}},8632:(e,t,r)=>{"use strict";var n=r(2832),a=r(170);e.exports=function(e){return n(a(e))}},6521:(e,t,r)=>{"use strict";var n=r(9344);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},4233:(e,t,r)=>{"use strict";var n=r(6521),a=Math.min;e.exports=function(e){var t=n(e);return t>0?a(t,9007199254740991):0}},3659:(e,t,r)=>{"use strict";var n=r(170),a=Object;e.exports=function(e){return a(n(e))}},815:(e,t,r)=>{"use strict";var n=r(3657),a=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw new a("Wrong offset");return r}},3657:(e,t,r)=>{"use strict";var n=r(6521),a=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new a("The argument can't be less than 0");return t}},5124:(e,t,r)=>{"use strict";var n=r(7609),a=r(9693),o=r(9525),i=r(3743),s=r(3613),c=r(6387),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!a(e)||o(e))return e;var r,c=i(e,u);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!a(r)||o(r))return r;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},7445:(e,t,r)=>{"use strict";var n=r(5124),a=r(9525);e.exports=function(e){var t=n(e,"string");return a(t)?t:t+""}},1326:(e,t,r)=>{"use strict";var n={};n[r(6387)("toStringTag")]="z",e.exports="[object z]"===String(n)},5774:(e,t,r)=>{"use strict";var n=r(1465),a=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return a(e)}},7420:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4229:(e,t,r)=>{"use strict";var n=r(3062),a=0,o=Math.random(),i=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++a+o,36)}},5363:(e,t,r)=>{"use strict";var n=r(444);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2552:(e,t,r)=>{"use strict";var n=r(1923),a=r(8462);e.exports=n&&a((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4315:e=>{"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},3721:(e,t,r)=>{"use strict";var n=r(1848),a=r(8173),o=n.WeakMap;e.exports=a(o)&&/native code/.test(String(o))},6220:(e,t,r)=>{"use strict";var n=r(3448),a=r(1551),o=r(294),i=r(615).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});a(t,e)||i(t,e,{value:o.f(e)})}},294:(e,t,r)=>{"use strict";var n=r(6387);t.f=n},6387:(e,t,r)=>{"use strict";var n=r(1848),a=r(6231),o=r(1551),i=r(4229),s=r(444),c=r(5363),l=n.Symbol,u=a("wks"),p=c?l.for||l:l&&l.withoutSetter||i;e.exports=function(e){return o(u,e)||(u[e]=s&&o(l,e)?l[e]:p("Symbol."+e)),u[e]}},3649:(e,t,r)=>{"use strict";var n=r(9406),a=r(1551),o=r(1384),i=r(6730),s=r(5273),c=r(744),l=r(4279),u=r(6339),p=r(9766),d=r(6001),f=r(2519),h=r(1923),v=r(4151);e.exports=function(e,t,r,g){var y="stackTraceLimit",m=g?2:1,_=e.split("."),b=_[_.length-1],w=n.apply(null,_);if(w){var k=w.prototype;if(!v&&a(k,"cause")&&delete k.cause,!r)return w;var S=n("Error"),I=t((function(e,t){var r=p(g?t:e,void 0),n=g?new w(e):new w;return void 0!==r&&o(n,"message",r),f(n,I,n.stack,2),this&&i(k,this)&&u(n,this,I),arguments.length>m&&d(n,arguments[m]),n}));if(I.prototype=k,"Error"!==b?s?s(I,S):c(I,S,{name:!0}):h&&y in w&&(l(I,w,y),l(I,w,"prepareStackTrace")),c(I,w),!v)try{k.name!==b&&o(k,"name",b),k.constructor=I}catch(e){}return I}}},7311:(e,t,r)=>{"use strict";var n=r(4395),a=r(9406),o=r(3178),i=r(8462),s=r(3649),c="AggregateError",l=a(c),u=!i((function(){return 1!==l([1]).errors[0]}))&&i((function(){return 7!==l([1],c,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:u},{AggregateError:s(c,(function(e){return function(t,r){return o(e,this,arguments)}}),u,!0)})},4240:(e,t,r)=>{"use strict";var n=r(4395),a=r(3659),o=r(9110),i=r(6521),s=r(2890);n({target:"Array",proto:!0},{at:function(e){var t=a(this),r=o(t),n=i(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}}),s("at")},3509:(e,t,r)=>{"use strict";var n=r(4395),a=r(2008).findLastIndex,o=r(2890);n({target:"Array",proto:!0},{findLastIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLastIndex")},7119:(e,t,r)=>{"use strict";var n=r(4395),a=r(2008).findLast,o=r(2890);n({target:"Array",proto:!0},{findLast:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findLast")},2004:(e,t,r)=>{"use strict";var n=r(4395),a=r(3659),o=r(9110),i=r(7826),s=r(8475);n({target:"Array",proto:!0,arity:1,forced:r(8462)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=a(this),r=o(t),n=arguments.length;s(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return i(t,r),r}})},7855:(e,t,r)=>{"use strict";var n=r(4395),a=r(459),o=r(8632),i=r(2890),s=Array;n({target:"Array",proto:!0},{toReversed:function(){return a(o(this),s)}}),i("toReversed")},2665:(e,t,r)=>{"use strict";var n=r(4395),a=r(3062),o=r(8117),i=r(8632),s=r(2239),c=r(8168),l=r(2890),u=Array,p=a(c("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&o(e);var t=i(this),r=s(u,t);return p(r,e)}}),l("toSorted")},9772:(e,t,r)=>{"use strict";var n=r(4395),a=r(2890),o=r(8475),i=r(9110),s=r(3663),c=r(8632),l=r(6521),u=Array,p=Math.max,d=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var r,n,a,f,h=c(this),v=i(h),g=s(e,v),y=arguments.length,m=0;for(0===y?r=n=0:1===y?(r=0,n=v-g):(r=y-2,n=d(p(l(t),0),v-g)),a=o(v+r-n),f=u(a);m<g;m++)f[m]=h[m];for(;m<g+r;m++)f[m]=arguments[m-g+2];for(;m<a;m++)f[m]=h[m+n-r];return f}}),a("toSpliced")},8971:(e,t,r)=>{"use strict";var n=r(4395),a=r(3659),o=r(9110),i=r(7826),s=r(5588),c=r(8475);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=a(this),r=o(t),n=arguments.length;if(n){c(r+n);for(var l=r;l--;){var u=l+n;l in t?t[u]=t[l]:s(t,u)}for(var p=0;p<n;p++)t[p]=arguments[p]}return i(t,r+n)}})},8135:(e,t,r)=>{"use strict";var n=r(4395),a=r(1403),o=r(8632),i=Array;n({target:"Array",proto:!0},{with:function(e,t){return a(o(this),i,e,t)}})},1474:(e,t,r)=>{"use strict";var n=r(4395),a=r(1848),o=r(3178),i=r(3649),s="WebAssembly",c=a[s],l=7!==new Error("e",{cause:7}).cause,u=function(e,t){var r={};r[e]=i(e,t,l),n({global:!0,constructor:!0,arity:1,forced:l},r)},p=function(e,t){if(c&&c[e]){var r={};r[e]=i(s+"."+e,t,l),n({target:s,stat:!0,constructor:!0,arity:1,forced:l},r)}};u("Error",(function(e){return function(t){return o(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),u("URIError",(function(e){return function(t){return o(e,this,arguments)}})),p("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),p("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),p("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},8140:(e,t,r)=>{"use strict";r(4395)({target:"Object",stat:!0},{hasOwn:r(1551)})},5164:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(8117),i=r(8326),s=r(1689),c=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{allSettled:function(e){var t=this,r=i.f(t),n=r.resolve,l=r.reject,u=s((function(){var r=o(t.resolve),i=[],s=0,l=1;c(e,(function(e){var o=s++,c=!1;l++,a(r,t,e).then((function(e){c||(c=!0,i[o]={status:"fulfilled",value:e},--l||n(i))}),(function(e){c||(c=!0,i[o]={status:"rejected",reason:e},--l||n(i))}))})),--l||n(i)}));return u.error&&l(u.value),r.promise}})},4125:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(8117),i=r(8326),s=r(1689),c=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{all:function(e){var t=this,r=i.f(t),n=r.resolve,l=r.reject,u=s((function(){var r=o(t.resolve),i=[],s=0,u=1;c(e,(function(e){var o=s++,c=!1;u++,a(r,t,e).then((function(e){c||(c=!0,i[o]=e,--u||n(i))}),l)})),--u||n(i)}));return u.error&&l(u.value),r.promise}})},6406:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(8117),i=r(9406),s=r(8326),c=r(1689),l=r(2201),u=r(7019),p="No one promise resolved";n({target:"Promise",stat:!0,forced:u},{any:function(e){var t=this,r=i("AggregateError"),n=s.f(t),u=n.resolve,d=n.reject,f=c((function(){var n=o(t.resolve),i=[],s=0,c=1,f=!1;l(e,(function(e){var o=s++,l=!1;c++,a(n,t,e).then((function(e){l||f||(f=!0,u(e))}),(function(e){l||f||(l=!0,i[o]=e,--c||d(new r(i,p)))}))})),--c||d(new r(i,p))}));return f.error&&d(f.value),n.promise}})},8525:(e,t,r)=>{"use strict";var n=r(4395),a=r(4151),o=r(1495).CONSTRUCTOR,i=r(4243),s=r(9406),c=r(8173),l=r(5953),u=i&&i.prototype;if(n({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!a&&c(i)){var p=s("Promise").prototype.catch;u.catch!==p&&l(u,"catch",p,{unsafe:!0})}},1382:(e,t,r)=>{"use strict";var n,a,o,i=r(4395),s=r(4151),c=r(2409),l=r(1848),u=r(7609),p=r(5953),d=r(5273),f=r(6988),h=r(5539),v=r(8117),g=r(8173),y=r(9693),m=r(1747),_=r(9675),b=r(4320).set,w=r(5684),k=r(2157),S=r(1689),I=r(5141),C=r(2417),T=r(4243),x=r(1495),A=r(8326),P="Promise",E=x.CONSTRUCTOR,O=x.REJECTION_EVENT,M=x.SUBCLASSING,R=C.getterFor(P),D=C.set,L=T&&T.prototype,N=T,j=L,W=l.TypeError,F=l.document,$=l.process,B=A.f,U=B,q=!!(F&&F.createEvent&&l.dispatchEvent),H="unhandledrejection",G=function(e){var t;return!(!y(e)||!g(t=e.then))&&t},V=function(e,t){var r,n,a,o=t.value,i=1===t.state,s=i?e.ok:e.fail,c=e.resolve,l=e.reject,p=e.domain;try{s?(i||(2===t.rejection&&Z(t),t.rejection=1),!0===s?r=o:(p&&p.enter(),r=s(o),p&&(p.exit(),a=!0)),r===e.promise?l(new W("Promise-chain cycle")):(n=G(r))?u(n,r,c,l):c(r)):l(o)}catch(e){p&&!a&&p.exit(),l(e)}},J=function(e,t){e.notified||(e.notified=!0,w((function(){for(var r,n=e.reactions;r=n.get();)V(r,e);e.notified=!1,t&&!e.rejection&&z(e)})))},K=function(e,t,r){var n,a;q?((n=F.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:r},!O&&(a=l["on"+e])?a(n):e===H&&k("Unhandled promise rejection",r)},z=function(e){u(b,l,(function(){var t,r=e.facade,n=e.value;if(Q(e)&&(t=S((function(){c?$.emit("unhandledRejection",n,r):K(H,r,n)})),e.rejection=c||Q(e)?2:1,t.error))throw t.value}))},Q=function(e){return 1!==e.rejection&&!e.parent},Z=function(e){u(b,l,(function(){var t=e.facade;c?$.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},X=function(e,t,r){return function(n){e(t,n,r)}},Y=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,J(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new W("Promise can't be resolved itself");var n=G(t);n?w((function(){var r={done:!1};try{u(n,t,X(ee,r,e),X(Y,r,e))}catch(t){Y(r,t,e)}})):(e.value=t,e.state=1,J(e,!1))}catch(t){Y({done:!1},t,e)}}};if(E&&(j=(N=function(e){m(this,j),v(e),u(n,this);var t=R(this);try{e(X(ee,t),X(Y,t))}catch(e){Y(t,e)}}).prototype,(n=function(e){D(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:0,value:null})}).prototype=p(j,"then",(function(e,t){var r=R(this),n=B(_(this,N));return r.parent=!0,n.ok=!g(e)||e,n.fail=g(t)&&t,n.domain=c?$.domain:void 0,0===r.state?r.reactions.add(n):w((function(){V(n,r)})),n.promise})),a=function(){var e=new n,t=R(e);this.promise=e,this.resolve=X(ee,t),this.reject=X(Y,t)},A.f=B=function(e){return e===N||undefined===e?new a(e):U(e)},!s&&g(T)&&L!==Object.prototype)){o=L.then,M||p(L,"then",(function(e,t){var r=this;return new N((function(e,t){u(o,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}d&&d(L,j)}i({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:N}),f(N,P,!1,!0),h(P)},1410:(e,t,r)=>{"use strict";var n=r(4395),a=r(4151),o=r(4243),i=r(8462),s=r(9406),c=r(8173),l=r(9675),u=r(1128),p=r(5953),d=o&&o.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!o&&i((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,s("Promise")),r=c(e);return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!a&&c(o)){var f=s("Promise").prototype.finally;d.finally!==f&&p(d,"finally",f,{unsafe:!0})}},7788:(e,t,r)=>{"use strict";r(1382),r(4125),r(8525),r(4832),r(1050),r(2529)},4832:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(8117),i=r(8326),s=r(1689),c=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{race:function(e){var t=this,r=i.f(t),n=r.reject,l=s((function(){var i=o(t.resolve);c(e,(function(e){a(i,t,e).then(r.resolve,n)}))}));return l.error&&n(l.value),r.promise}})},1050:(e,t,r)=>{"use strict";var n=r(4395),a=r(8326);n({target:"Promise",stat:!0,forced:r(1495).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return(0,t.reject)(e),t.promise}})},2529:(e,t,r)=>{"use strict";var n=r(4395),a=r(9406),o=r(4151),i=r(4243),s=r(1495).CONSTRUCTOR,c=r(1128),l=a("Promise"),u=o&&!s;n({target:"Promise",stat:!0,forced:o||s},{resolve:function(e){return c(u&&this===l?i:this,e)}})},7638:(e,t,r)=>{"use strict";var n=r(1848),a=r(1923),o=r(6248),i=r(7834),s=r(8462),c=n.RegExp,l=c.prototype;a&&s((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",a=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var i in e&&(o.hasIndices="d"),o)a(i,o[i]);return Object.getOwnPropertyDescriptor(l,"flags").get.call(t)!==n||r!==n}))&&o(l,"flags",{configurable:!0,get:i})},9983:(e,t,r)=>{"use strict";var n=r(4395),a=r(9864);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("difference")},{difference:a})},6276:(e,t,r)=>{"use strict";var n=r(4395),a=r(8462),o=r(374);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("intersection")||a((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:o})},9297:(e,t,r)=>{"use strict";var n=r(4395),a=r(7735);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isDisjointFrom")},{isDisjointFrom:a})},6816:(e,t,r)=>{"use strict";var n=r(4395),a=r(6274);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSubsetOf")},{isSubsetOf:a})},6756:(e,t,r)=>{"use strict";var n=r(4395),a=r(9749);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSupersetOf")},{isSupersetOf:a})},960:(e,t,r)=>{"use strict";var n=r(4395),a=r(3285);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("symmetricDifference")},{symmetricDifference:a})},9301:(e,t,r)=>{"use strict";var n=r(4395),a=r(2394);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("union")},{union:a})},6303:(e,t,r)=>{"use strict";var n=r(4395),a=r(3062),o=r(170),i=r(6521),s=r(5774),c=r(8462),l=a("".charAt);n({target:"String",proto:!0,forced:c((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(o(this)),r=t.length,n=i(e),a=n>=0?n:r+n;return a<0||a>=r?void 0:l(t,a)}})},1516:(e,t,r)=>{"use strict";var n=r(4395),a=r(3062),o=r(170),i=r(5774),s=a("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var e=i(o(this)),t=e.length,r=0;r<t;r++){var n=s(e,r);if(55296==(63488&n)&&(n>=56320||++r>=t||56320!=(64512&s(e,r))))return!1}return!0}})},705:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(3062),i=r(170),s=r(5774),c=r(8462),l=Array,u=o("".charAt),p=o("".charCodeAt),d=o([].join),f="".toWellFormed,h=f&&c((function(){return"1"!==a(f,1)}));n({target:"String",proto:!0,forced:h},{toWellFormed:function(){var e=s(i(this));if(h)return a(f,e);for(var t=e.length,r=l(t),n=0;n<t;n++){var o=p(e,n);55296!=(63488&o)?r[n]=u(e,n):o>=56320||n+1>=t||56320!=(64512&p(e,n+1))?r[n]="�":(r[n]=u(e,n),r[++n]=u(e,n))}return d(r,"")}})},1825:(e,t,r)=>{"use strict";var n=r(1759),a=r(9110),o=r(6521),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=i(this),r=a(t),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},2220:(e,t,r)=>{"use strict";var n=r(1759),a=r(1180),o=r(3442),i=r(1465),s=r(7609),c=r(3062),l=r(8462),u=n.aTypedArray,p=n.exportTypedArrayMethod,d=c("".slice);p("fill",(function(e){var t=arguments.length;u(this);var r="Big"===d(i(this),0,3)?o(e):+e;return s(a,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),l((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},4774:(e,t,r)=>{"use strict";var n=r(1759),a=r(2008).findLastIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},1519:(e,t,r)=>{"use strict";var n=r(1759),a=r(2008).findLast,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return a(o(this),e,arguments.length>1?arguments[1]:void 0)}))},1520:(e,t,r)=>{"use strict";var n=r(1848),a=r(7609),o=r(1759),i=r(9110),s=r(815),c=r(3659),l=r(8462),u=n.RangeError,p=n.Int8Array,d=p&&p.prototype,f=d&&d.set,h=o.aTypedArray,v=o.exportTypedArrayMethod,g=!l((function(){var e=new Uint8ClampedArray(2);return a(f,e,{length:1,0:3},1),3!==e[1]})),y=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&l((function(){var e=new p(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));v("set",(function(e){h(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(g)return a(f,this,r,t);var n=this.length,o=i(r),l=0;if(o+t>n)throw new u("Wrong length");for(;l<o;)this[t+l]=r[l++]}),!g||y)},2663:(e,t,r)=>{"use strict";var n=r(1848),a=r(1992),o=r(8462),i=r(8117),s=r(9070),c=r(1759),l=r(9257),u=r(1466),p=r(9255),d=r(8560),f=c.aTypedArray,h=c.exportTypedArrayMethod,v=n.Uint16Array,g=v&&a(v.prototype.sort),y=!(!g||o((function(){g(new v(2),null)}))&&o((function(){g(new v(2),{})}))),m=!!g&&!o((function(){if(p)return p<74;if(l)return l<67;if(u)return!0;if(d)return d<602;var e,t,r=new v(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(g(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));h("sort",(function(e){return void 0!==e&&i(e),m?g(this,e):s(f(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!m||y)},8348:(e,t,r)=>{"use strict";var n=r(459),a=r(1759),o=a.aTypedArray,i=a.exportTypedArrayMethod,s=a.getTypedArrayConstructor;i("toReversed",(function(){return n(o(this),s(this))}))},3457:(e,t,r)=>{"use strict";var n=r(1759),a=r(3062),o=r(8117),i=r(2239),s=n.aTypedArray,c=n.getTypedArrayConstructor,l=n.exportTypedArrayMethod,u=a(n.TypedArrayPrototype.sort);l("toSorted",(function(e){void 0!==e&&o(e);var t=s(this),r=i(c(t),t);return u(r,e)}))},6939:(e,t,r)=>{"use strict";var n=r(1403),a=r(1759),o=r(4107),i=r(6521),s=r(3442),c=a.aTypedArray,l=a.getTypedArrayConstructor,u=a.exportTypedArrayMethod,p=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=c(this),a=i(e),u=o(r)?s(t):+t;return n(r,l(r),a,u)}}.with,!p)},5388:(e,t,r)=>{"use strict";r(4240)},1034:(e,t,r)=>{"use strict";r(3509)},5601:(e,t,r)=>{"use strict";r(7119)},5794:(e,t,r)=>{"use strict";var n=r(4395),a=r(4744),o=r(8462),i=Array.fromAsync;n({target:"Array",stat:!0,forced:!i||o((function(){var e=0;return i.call((function(){return e++,[]}),{length:0}),1!==e}))},{fromAsync:a})},1772:(e,t,r)=>{"use strict";var n=r(4395),a=r(7816),o=r(2890),i=r(3077);n({target:"Array",proto:!0,name:"groupToMap",forced:r(4151)||!a("groupByToMap")},{groupByToMap:i}),o("groupByToMap")},6384:(e,t,r)=>{"use strict";var n=r(4395),a=r(6747),o=r(7816),i=r(2890);n({target:"Array",proto:!0,forced:!o("groupBy")},{groupBy:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("groupBy")},2802:(e,t,r)=>{"use strict";var n=r(4395),a=r(2890),o=r(3077);n({target:"Array",proto:!0,forced:r(4151)},{groupToMap:o}),a("groupToMap")},2985:(e,t,r)=>{"use strict";var n=r(4395),a=r(6747),o=r(2890);n({target:"Array",proto:!0},{group:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o("group")},69:(e,t,r)=>{"use strict";r(7855)},6750:(e,t,r)=>{"use strict";r(2665)},6062:(e,t,r)=>{"use strict";r(9772)},3131:(e,t,r)=>{"use strict";r(8135)},4752:(e,t,r)=>{"use strict";var n=r(4395),a=r(1747),o=r(4483),i=r(1384),s=r(1551),c=r(6387),l=r(2179),u=r(4151),p=c("toStringTag"),d=TypeError,f=function(){if(a(this,l),o(this)===l)throw new d("Abstract class AsyncIterator not directly constructable")};f.prototype=l,s(l,p)||i(l,p,"AsyncIterator"),!u&&s(l,"constructor")&&l.constructor!==Object||i(l,"constructor",f),n({global:!0,constructor:!0,forced:u},{AsyncIterator:f})},9435:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(6469),i=r(8986),s=r(8428),c=r(3657),l=r(9296),u=r(9462),p=r(4151),d=l((function(e){var t=this;return new e((function(r,n){var i=function(e){t.done=!0,n(e)},s=function(){try{e.resolve(o(a(t.next,t.iterator))).then((function(e){try{o(e).done?(t.done=!0,r(u(void 0,!0))):t.remaining?(t.remaining--,s()):r(u(e.value,!1))}catch(e){i(e)}}),i)}catch(e){i(e)}};s()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:p},{drop:function(e){o(this);var t=c(s(+e));return new d(i(this),{remaining:t})}})},2886:(e,t,r)=>{"use strict";var n=r(4395),a=r(7163).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return a(this,e)}})},1139:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(8117),i=r(6469),s=r(9693),c=r(8986),l=r(9296),u=r(9462),p=r(7897),d=r(4151),f=l((function(e){var t=this,r=t.iterator,n=t.predicate;return new e((function(o,c){var l=function(e){t.done=!0,c(e)},d=function(e){p(r,l,e,l)},f=function(){try{e.resolve(i(a(t.next,r))).then((function(r){try{if(i(r).done)t.done=!0,o(u(void 0,!0));else{var a=r.value;try{var c=n(a,t.counter++),p=function(e){e?o(u(a,!1)):f()};s(c)?e.resolve(c).then(p,d):p(c)}catch(e){d(e)}}}catch(e){l(e)}}),l)}catch(e){l(e)}};f()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:d},{filter:function(e){return i(this),o(e),new f(c(this),{predicate:e})}})},6108:(e,t,r)=>{"use strict";var n=r(4395),a=r(7163).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return a(this,e)}})},3115:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(8117),i=r(6469),s=r(9693),c=r(8986),l=r(9296),u=r(9462),p=r(1401),d=r(7897),f=r(4151),h=l((function(e){var t=this,r=t.iterator,n=t.mapper;return new e((function(o,c){var l=function(e){t.done=!0,c(e)},f=function(e){d(r,l,e,l)},h=function(){try{e.resolve(i(a(t.next,r))).then((function(r){try{if(i(r).done)t.done=!0,o(u(void 0,!0));else{var a=r.value;try{var c=n(a,t.counter++),d=function(e){try{t.inner=p(e),v()}catch(e){f(e)}};s(c)?e.resolve(c).then(d,f):d(c)}catch(e){f(e)}}}catch(e){l(e)}}),l)}catch(e){l(e)}},v=function(){var r=t.inner;if(r)try{e.resolve(i(a(r.next,r.iterator))).then((function(e){try{i(e).done?(t.inner=null,h()):o(u(e.value,!1))}catch(e){f(e)}}),f)}catch(e){f(e)}else h()};v()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:f},{flatMap:function(e){return i(this),o(e),new h(c(this),{mapper:e,inner:null})}})},7389:(e,t,r)=>{"use strict";var n=r(4395),a=r(7163).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return a(this,e)}})},4085:(e,t,r)=>{"use strict";var n=r(4395),a=r(3659),o=r(6730),i=r(1401),s=r(2179),c=r(3525);n({target:"AsyncIterator",stat:!0,forced:r(4151)},{from:function(e){var t=i("string"==typeof e?a(e):e);return o(s,t.iterator)?t.iterator:new c(t)}})},2392:(e,t,r)=>{"use strict";var n=r(4395),a=r(7073);n({target:"AsyncIterator",proto:!0,real:!0,forced:r(4151)},{map:a})},2625:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(8117),i=r(6469),s=r(9693),c=r(9406),l=r(8986),u=r(7897),p=c("Promise"),d=TypeError;n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){i(this),o(e);var t=l(this),r=t.iterator,n=t.next,c=arguments.length<2,f=c?void 0:arguments[1],h=0;return new p((function(t,o){var l=function(e){u(r,o,e,o)},v=function(){try{p.resolve(i(a(n,r))).then((function(r){try{if(i(r).done)c?o(new d("Reduce of empty iterator with no initial value")):t(f);else{var n=r.value;if(c)c=!1,f=n,v();else try{var a=e(f,n,h),u=function(e){f=e,v()};s(a)?p.resolve(a).then(u,l):u(a)}catch(e){l(e)}}h++}catch(e){o(e)}}),o)}catch(e){o(e)}};v()}))}})},7740:(e,t,r)=>{"use strict";var n=r(4395),a=r(7163).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return a(this,e)}})},4342:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(6469),i=r(8986),s=r(8428),c=r(3657),l=r(9296),u=r(9462),p=r(4151),d=l((function(e){var t,r=this,n=r.iterator;if(!r.remaining--){var i=u(void 0,!0);return r.done=!0,void 0!==(t=n.return)?e.resolve(a(t,n,void 0)).then((function(){return i})):i}return e.resolve(a(r.next,n)).then((function(e){return o(e).done?(r.done=!0,u(void 0,!0)):u(e.value,!1)})).then(null,(function(e){throw r.done=!0,e}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:p},{take:function(e){o(this);var t=c(s(+e));return new d(i(this),{remaining:t})}})},2767:(e,t,r)=>{"use strict";var n=r(4395),a=r(7163).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return a(this,void 0,[])}})},585:(e,t,r)=>{"use strict";var n=r(4395),a=r(1923),o=r(9406),i=r(8117),s=r(1747),c=r(5953),l=r(8881),u=r(6248),p=r(6387),d=r(2417),f=r(7591),h=o("SuppressedError"),v=ReferenceError,g=p("dispose"),y=p("toStringTag"),m="DisposableStack",_=d.set,b=d.getterFor(m),w="sync-dispose",k="disposed",S=function(e){var t=b(e);if(t.state===k)throw new v(m+" already disposed");return t},I=function(){_(s(this,C),{type:m,state:"pending",stack:[]}),a||(this.disposed=!1)},C=I.prototype;l(C,{dispose:function(){var e=b(this);if(e.state!==k){e.state=k,a||(this.disposed=!0);for(var t,r=e.stack,n=r.length,o=!1;n;){var i=r[--n];r[n]=null;try{i()}catch(e){o?t=new h(e,t):(o=!0,t=e)}}if(e.stack=null,o)throw t}},use:function(e){return f(S(this),e,w),e},adopt:function(e,t){var r=S(this);return i(t),f(r,void 0,w,(function(){t(e)})),e},defer:function(e){var t=S(this);i(e),f(t,void 0,w,e)},move:function(){var e=S(this),t=new I;return b(t).stack=e.stack,e.stack=[],e.state=k,a||(this.disposed=!0),t}}),a&&u(C,"disposed",{configurable:!0,get:function(){return b(this).state===k}}),c(C,g,C.dispose,{name:"dispose"}),c(C,y,m,{nonWritable:!0}),n({global:!0,constructor:!0},{DisposableStack:I})},6508:(e,t,r)=>{"use strict";var n=r(4395),a=r(1848),o=r(1747),i=r(6469),s=r(8173),c=r(4483),l=r(6248),u=r(4676),p=r(8462),d=r(1551),f=r(6387),h=r(7092).IteratorPrototype,v=r(1923),g=r(4151),y="constructor",m="Iterator",_=f("toStringTag"),b=TypeError,w=a[m],k=g||!s(w)||w.prototype!==h||!p((function(){w({})})),S=function(){if(o(this,h),c(this)===h)throw new b("Abstract class Iterator not directly constructable")},I=function(e,t){v?l(h,e,{configurable:!0,get:function(){return t},set:function(t){if(i(this),this===h)throw new b("You can't redefine this property");d(this,e)?this[e]=t:u(this,e,t)}}):h[e]=t};d(h,_)||I(_,m),!k&&d(h,y)&&h[y]!==Object||I(y,S),S.prototype=h,n({global:!0,constructor:!0,forced:k},{Iterator:S})},7255:(e,t,r)=>{"use strict";var n=r(7609),a=r(5953),o=r(3743),i=r(1551),s=r(6387),c=r(7092).IteratorPrototype,l=s("dispose");i(c,l)||a(c,l,(function(){var e=o(this,"return");e&&n(e,this)}))},3086:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(6469),i=r(8986),s=r(8428),c=r(3657),l=r(2160),u=r(4151),p=l((function(){for(var e,t=this.iterator,r=this.next;this.remaining;)if(this.remaining--,e=o(a(r,t)),this.done=!!e.done)return;if(e=o(a(r,t)),!(this.done=!!e.done))return e.value}));n({target:"Iterator",proto:!0,real:!0,forced:u},{drop:function(e){o(this);var t=c(s(+e));return new p(i(this),{remaining:t})}})},7439:(e,t,r)=>{"use strict";var n=r(4395),a=r(2201),o=r(8117),i=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{every:function(e){i(this),o(e);var t=s(this),r=0;return!a(t,(function(t,n){if(!e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1408:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(8117),i=r(6469),s=r(8986),c=r(2160),l=r(9832),u=r(4151),p=c((function(){for(var e,t,r=this.iterator,n=this.predicate,o=this.next;;){if(e=i(a(o,r)),this.done=!!e.done)return;if(t=e.value,l(r,n,[t,this.counter++],!0))return t}}));n({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return i(this),o(e),new p(s(this),{predicate:e})}})},674:(e,t,r)=>{"use strict";var n=r(4395),a=r(2201),o=r(8117),i=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{find:function(e){i(this),o(e);var t=s(this),r=0;return a(t,(function(t,n){if(e(t,r++))return n(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7471:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(8117),i=r(6469),s=r(8986),c=r(8304),l=r(2160),u=r(9273),p=r(4151),d=l((function(){for(var e,t,r=this.iterator,n=this.mapper;;){if(t=this.inner)try{if(!(e=i(a(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){u(r,"throw",e)}if(e=i(a(this.next,r)),this.done=!!e.done)return;try{this.inner=c(n(e.value,this.counter++),!1)}catch(e){u(r,"throw",e)}}}));n({target:"Iterator",proto:!0,real:!0,forced:p},{flatMap:function(e){return i(this),o(e),new d(s(this),{mapper:e,inner:null})}})},9397:(e,t,r)=>{"use strict";var n=r(4395),a=r(2201),o=r(8117),i=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){i(this),o(e);var t=s(this),r=0;a(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},2426:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(3659),i=r(6730),s=r(7092).IteratorPrototype,c=r(2160),l=r(8304),u=r(4151),p=c((function(){return a(this.next,this.iterator)}),!0);n({target:"Iterator",stat:!0,forced:u},{from:function(e){var t=l("string"==typeof e?o(e):e,!0);return i(s,t.iterator)?t.iterator:new p(t)}})},6806:(e,t,r)=>{"use strict";var n=r(4395),a=r(2563);n({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{map:a})},1978:(e,t,r)=>{"use strict";var n=r(4395),a=r(2201),o=r(8117),i=r(6469),s=r(8986),c=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){i(this),o(e);var t=s(this),r=arguments.length<2,n=r?void 0:arguments[1],l=0;if(a(t,(function(t){r?(r=!1,n=t):n=e(n,t,l),l++}),{IS_RECORD:!0}),r)throw new c("Reduce of empty iterator with no initial value");return n}})},8245:(e,t,r)=>{"use strict";var n=r(4395),a=r(2201),o=r(8117),i=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{some:function(e){i(this),o(e);var t=s(this),r=0;return a(t,(function(t,n){if(e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7331:(e,t,r)=>{"use strict";var n=r(4395),a=r(7609),o=r(6469),i=r(8986),s=r(8428),c=r(3657),l=r(2160),u=r(9273),p=r(4151),d=l((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,u(e,"normal",void 0);var t=o(a(this.next,e));return(this.done=!!t.done)?void 0:t.value}));n({target:"Iterator",proto:!0,real:!0,forced:p},{take:function(e){o(this);var t=c(s(+e));return new d(i(this),{remaining:t})}})},6496:(e,t,r)=>{"use strict";var n=r(4395),a=r(6469),o=r(2201),i=r(8986),s=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return o(i(a(this)),s,{that:e,IS_RECORD:!0}),e}})},1166:(e,t,r)=>{"use strict";var n=r(4395),a=r(6469),o=r(147),i=r(3525),s=r(8986);n({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{toAsync:function(){return new i(s(new o(s(a(this)))))}})},2359:(e,t,r)=>{"use strict";r(8140)},7472:(e,t,r)=>{"use strict";r(9983)},7322:(e,t,r)=>{"use strict";r(6276)},6539:(e,t,r)=>{"use strict";r(9297)},8866:(e,t,r)=>{"use strict";r(6816)},9701:(e,t,r)=>{"use strict";r(6756)},5102:(e,t,r)=>{"use strict";r(960)},2373:(e,t,r)=>{"use strict";r(9301)},1853:(e,t,r)=>{"use strict";r(1516)},5030:(e,t,r)=>{"use strict";r(705)},8855:(e,t,r)=>{"use strict";var n=r(4395),a=r(1848),o=r(6730),i=r(4483),s=r(5273),c=r(744),l=r(9543),u=r(1384),p=r(4127),d=r(2519),f=r(9766),h=r(6387),v=r(8462),g=r(4151),y=a.SuppressedError,m=h("toStringTag"),_=Error,b=!!y&&3!==y.length,w=!!y&&v((function(){return 4===new y(1,2,3,{cause:4}).cause})),k=b||w,S=function(e,t,r){var n,a=o(I,this);return s?n=!k||a&&i(this)!==I?s(new _,a?i(this):I):new y:(n=a?this:l(I),u(n,m,"Error")),void 0!==r&&u(n,"message",f(r)),d(n,S,n.stack,1),u(n,"error",e),u(n,"suppressed",t),n};s?s(S,_):c(S,_,{name:!0});var I=S.prototype=k?y.prototype:l(_.prototype,{constructor:p(1,S),message:p(1,""),name:p(1,"SuppressedError")});k&&!g&&(I.constructor=S),n({global:!0,constructor:!0,arity:3,forced:k},{SuppressedError:S})},6845:(e,t,r)=>{"use strict";var n=r(1848),a=r(6220),o=r(615).f,i=r(5983).f,s=n.Symbol;if(a("dispose"),s){var c=i(s,"dispose");c.enumerable&&c.configurable&&c.writable&&o(s,"dispose",{value:c.value,enumerable:!1,configurable:!1,writable:!1})}},1085:(e,t,r)=>{"use strict";r(1825)},7594:(e,t,r)=>{"use strict";r(4774)},1374:(e,t,r)=>{"use strict";r(1519)},8471:(e,t,r)=>{"use strict";r(8348)},2539:(e,t,r)=>{"use strict";r(3457)},9235:(e,t,r)=>{"use strict";var n=r(1759),a=r(9110),o=r(4107),i=r(3663),s=r(3442),c=r(6521),l=r(8462),u=n.aTypedArray,p=n.getTypedArrayConstructor,d=n.exportTypedArrayMethod,f=Math.max,h=Math.min;d("toSpliced",(function(e,t){var r,n,l,d,v,g,y,m=u(this),_=p(m),b=a(m),w=i(e,b),k=arguments.length,S=0;if(0===k)r=n=0;else if(1===k)r=0,n=b-w;else if(n=h(f(c(t),0),b-w),r=k-2){d=new _(r),l=o(d);for(var I=2;I<k;I++)v=arguments[I],d[I-2]=l?s(v):+v}for(y=new _(g=b+r-n);S<w;S++)y[S]=m[S];for(;S<w+r;S++)y[S]=d[S-w];for(;S<g;S++)y[S]=m[S+n-r];return y}),!!l((function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return 2!==t[0]||3!==t[1]})))},7209:(e,t,r)=>{"use strict";r(6939)},4844:(e,t,r)=>{var n=r(5803);n.keys().forEach((e=>{a[e.substr(2)]=n(e)}))},8071:(e,t,r)=>{"use strict";r.r(t);r(1474),r(7311),r(4240),r(7119),r(3509),r(2004),r(8971),r(8140),r(7788),r(5164),r(6406),r(1410),r(7638),r(6303),r(1825),r(2220),r(1519),r(4774),r(1520),r(2663),r(5388),r(5601),r(1034),r(2359),r(1085),r(1374),r(7594),r(8855),r(5794),r(2985),r(6384),r(1772),r(2802),r(69),r(6750),r(6062),r(3131),r(4752),r(9435),r(2886),r(1139),r(6108),r(3115),r(7389),r(4085),r(2392),r(2625),r(7740),r(4342),r(2767),r(585),r(6508),r(7255),r(3086),r(7439),r(1408),r(674),r(7471),r(9397),r(2426),r(6806),r(1978),r(8245),r(7331),r(6496),r(1166),r(7472),r(7322),r(6539),r(8866),r(9701),r(5102),r(2373),r(1853),r(5030),r(6845),r(8471),r(2539),r(9235),r(7209);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r.g.__polyfill_injecting=!0;var e=!1,t=null;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform){if("ios"===r.g.__wxConfig.platform.toLowerCase()){e=!0;var n=r.g.__wxConfig.system||"";t=n.startsWith("iOS ")?n.substr(4):null}}else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var a=navigator.userAgent.toLowerCase();if(a.indexOf("iphone")>=0||a.indexOf("ipad")>=0){e=!0;var o=/iphone os ([\d_]+)/.exec(a);t=o?o[1].replace(/_/g,"."):null}}var i,s=[];e&&(null!==t&&(i=t.split(".")[0],parseInt(i,10)>=16)||(r.g.Promise=void 0),s.push("Promise")),r(9762)({usePolyfill:s,useNative:["WeakMap"]}),r(8071),r(4844),delete r.g.__polyfill_injecting})()})();var o,i,s=function(e){e()};(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{e.d(a,{default:()=>at});var i={};e.r(i),e.d(i,{convertToErrorObj:()=>Z,emitFrameworkError:()=>te,emitUnhandledError:()=>re,emitUnhandledRejection:()=>X,onFrameworkError:()=>ae,onUnhandledError:()=>oe,onUnhandledRejection:()=>ne});var s=e.g.__wxLibrary,u=e.g.__wxConfig,p=s.envType,d=s.contextType,f="Service"===p,h="WebView"===p,v="Worker"===p,g=h||f&&0===d.indexOf("App:"),y=f&&0===d.indexOf("Game:"),m=0===d.indexOf("MagicBrush:"),_=!!u.isIsolateContext,b=_&&f&&d.indexOf("MainContext")>=0,k=_&&f&&d.indexOf("SubContext")>=0,S=k&&d.indexOf("Safe")>=0,I=b||k,C="wxlib"===u.workerContentType,T=h||b||S||C,x=function(e){var t=u.platform;if(!t&&"object"==typeof window&&"string"==typeof(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)){var r=window.navigator.userAgent.toLowerCase();r.indexOf("devtools")>=0?t="devtools":r.indexOf("miniprogramenv/windows")>=0?t="windows":r.indexOf("miniprogramenv/mac")>=0?t="mac":r.indexOf("miniprogramenv/mina")>=0?t="mina":r.indexOf("iphone")>=0||r.indexOf("ipad")>=0?t="ios":r.indexOf("android")>=0&&(t="android")}return(t||"unknown").toLowerCase()}(),A=void 0===t||"develop"===t.version?"9.9.9":t.version,P=!!s.mayHaveSnapshot,E=(()=>"object"==typeof e.g&&e.g&&e.g.__wkrenderer_h5)();const O={platform:x,SDKVersion:A,isIsolateContext:I,isGame:y,isApp:g,isMainContext:b,isSubContext:k,isSafeEnv:T,isService:f,isWebView:h,isWorker:v,isWidget:!1,typeStr:k?"SubContext":p,fileName:s.fileName,isWXLibWorker:C,workerType:"user",contextName:"",mayHaveSnapShot:P,isWKGame:!!E,isMagicBrushFrameEnv:m};var M=()=>{},R="devtools"===O.platform;"undefined"!=typeof performance&&performance.now;function D(e,t=(()=>M)){return e.reduce(((e,r)=>(e[r]=t(r),e)),{})}function L(){var t=o||e.g.__wxConfig;if(t&&"debug"in t&&void 0!==t.debug)return!!t.debug}var N=()=>{},j=["log","info","warn","error","debug"];const W=D(j);var F=["log","info","warn","error","profile","profileSync","traceBegin","traceEnd"],$=(()=>{var e=D(F);return e})();const B=$;var U=Symbol("error"),q=Symbol("slow");class H{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(U,e),this}onSlow(e){return this.onInternalEvent(q,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var a,o=!1;for(var i of n){if(0!==i.count)try{var s=Date.now();a=i.cb(...r);var c=Date.now();c-s>H.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(q,e,s,c,i.cb)}catch(t){if(!this.emitPrivate(U,e,t))throw t}if(i.count>0&&i.count--,0===i.count&&(o=!0),!1===a&&t.cancelable)break}return o&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var a={count:r,cb:t},o=this.$[e];return o?n.prepend?o.unshift(a):o.push(a):this.$[e]=[a],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}H.SLOW_CALLBACK_THRESHOLD=50;var G=new H,V="unhandlederror",J="unhandledrejection",K="frameworkerror",z=new WeakMap;var Q=Object.prototype.hasOwnProperty;function Z(e){var t;if(e&&"Object"===(null===(t=e.constructor)||void 0===t?void 0:t.name)&&"string"==typeof e.message&&"string"==typeof e.stack){var r=new Error(e.message);return Object.assign(r,e),r}return e}function X(e,t){e=Z(e),$e.onLoad((()=>{G.emit(J,{reason:e,promise:t})||console.error("Uncaught (in promise)",e)}))}var Y=!1,ee=!1;function te(e,t){if(e instanceof Error&&t&&(e.message=`${t} fail: ${e.message}`),e=Z(e),o.isSnapshoting)throw e;$e.onLoad((()=>{if(Y)console.error("[ErrorHandler] recursive framework error detected.",e);else{Y=!0;try{G.emit(K,e)||re(e)}catch(e){console.error("Framework",e)}Y=!1}}))}function re(e){if(e=Z(e),o.isSnapshoting)throw e;$e.onLoad((()=>{if(ee)console.error("[ErrorHandler] recursive uncaught error detected.",e);else{ee=!0;try{G.emit(V,e)||("windows"!==o.platform&&"mac"!==o.platform||4!==o.appType)&&console.error("Uncaught",e)}catch(e){console.error("Uncaught",e)}ee=!1}}))}function ne(e){G.on(J,e)}function ae(e){G.on(K,e)}function oe(e){G.on(V,e)}!function(e){"object"==typeof e&&"function"==typeof e.addEventListener&&"ios"!==O.platform?(e.addEventListener("unhandledrejection",(e=>{X(e.reason,e.promise),e.reason&&e.preventDefault()})),e.addEventListener("error",(t=>{var r,n;re(t.error||{message:t.message,stack:`${t.message}\nEmpty stack, maybe muted error. (xweb=${(null===(r=e.navigator)||void 0===r||null===(n=r.userAgent)||void 0===n?void 0:n.toUpperCase().indexOf("XWEB"))>=0})`}),t.error&&t.preventDefault()}))):void 0===e.onunhandledrejection&&Object.defineProperty(e,"onunhandledrejection",{value(e={}){var t,r;Q.call(e,"type")?(t={type:e.type,reason:e.reason,promise:e.promise},(r=t.promise)&&(z.has(r)||setTimeout((()=>{var e=z.get(r);0===(null==e?void 0:e.type)&&X(e.reason,e.promise),z.delete(r)}),0),z.set(r,t))):X(e.reason,e.promise)}})}(e.g);var ie,se=JSON.parse,ce=JSON.stringify,le=9782784e5;function ue(e){return se(ce(e))}function pe(e){e.platform=O.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),e.sdkVersion=e.SDKVersion=O.SDKVersion,e.isReady=!1,e.onReady=$e.onStart}function de(e){var r;pe(e),O.isSubContext||(e.preload=!0===e.preload),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio);var n=null===(r=t.debugOptions)||void 0===r?void 0:r.overwriteExpt;e.expt=n?Object.assign(e.expt||{},n):e.expt||{}}function fe(e){if(de(e),e.isReady=!0,e.appLaunchInfo=e.appLaunchInfo||{},e.preloadType=e.preloadType||e.appLaunchInfo.preloadType||e.preload,"ios"===e.platform){var t=function(e){if(!e)return 0;var t=(new Date).getTimezoneOffset()/60;return e+le-3600*t*1e3}(e.appLaunchInfo.clickTimestampInMs),r=Number.MAX_SAFE_INTEGER,n=e.instanceId;if(n)try{var a=n.split("&").filter((e=>0===e.indexOf("ts=")));a.length>0&&(r=parseInt(a[0].slice(3),10))}catch(e){te(e,"parseInstanceId")}e.coldLaunchTime=Math.min(t,r)}else e.coldLaunchTime=e.appLaunchInfo.clickTimestamp||0}var he=!(null===(ie=t.features)||void 0===ie||!ie.pruneWxConfigByPage),ve=Object.defineProperty,ge=["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"];function ye(e,t,r,n){ve(e,r,{configurable:!0,enumerable:!0,get(){if(r in t)return t[r];try{return"function"!=typeof n?n:n()}catch(e){return void te(e,`read mock wxConfig.${r}`)}},set(e){t[r]=e}})}var me=Array.isArray,_e=Reflect.set,be=Reflect.get;var we=O.isSafeEnv,ke=Object.create(null),Se=O.isService?function(e){return new Proxy(e,{set(e,t,r,n){if("__siblings__"===t)return _e(e,t,r,n);var a=be(e,"__siblings__",n);if(me(a)){a.length>1&&W.log(`[WXConfig] write __wxConfig.${t.toString()}, sync to all contexts.`);for(var o=0;o<a.length;o++){var i=a[o];_e(i,t,r)}return!0}return _e(e,t,r,n)}})}(ke):ke,Ie=e=>{},Ce="wxConfig:updatePage";function Te(t,r=!1){return Ie(!1),ke.currentPhase="onStart",void 0===t||(r?(Object.assign(ke,t),Object.defineProperty(ke,"__siblings__",{value:t.__siblings__,enumerable:!1,writable:!1,configurable:!1})):(Object.assign(ke,we?t:ue(t)),fe(ke),function(t,r){var n;Array.isArray(null==t||null===(n=t.tabBar)||void 0===n?void 0:n.list)&&t.tabBar.list.forEach((e=>{delete e.iconData,delete e.selectedIconData})),delete t.permission;var a=t.subPackages||t.subpackages;Array.isArray(a)&&a.length>0&&(a.forEach((e=>{delete e.pages})),t.subPackages=t.subpackages=a),"devtools"===t.platform&&(t.__globalComponentsCount=Object.keys(t.usingComponents||{}).length),he&&(O.isSubContext||(delete t.usingComponents,Object.values(t.page||{}).forEach((e=>{null!=e&&e.window&&delete e.window.usingComponents})),t._preloadRule=t.preloadRule||{},t._page=t.page||{},delete t.preloadRule,delete t.page),t.updatePage=function(e,t){null!=t&&t.window&&delete t.window.usingComponents,r(e,t)},t.updatePreloadRule=function(e,r){t.preloadRule=t.preloadRule||{},t.preloadRule[e]=r}),e.g.__wxConfig.page=e.g.__wxConfig.page||{},t.page=t.page||{}}(ke,((e,t)=>{$e.emit(Ce,{key:e,value:t})})),Object.defineProperty(ke,"__siblings__",{value:[],enumerable:!1,writable:!1,configurable:!1})),Array.isArray(ke.__siblings__)&&ke.__siblings__.push(ke),ke.onPageUpdate((({key:e,value:t})=>{ke.page=ke.page||{},ke.page[e]=ke.page[e+".html"]=t,n&&(n[e+".html"]=ue(t))})),we||(n=function(){var t=e.g.__wxConfig,r={},n={},a=he?{}:t.page||{};try{ye(n,r,"deprecated",!0),ge.forEach((e=>{if(e in t){var o=t[e];switch(e){case"page":ye(n,r,e,a);break;case"env":ye(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:o.USER_DATA_PATH})));break;case"accountInfo":ye(n,r,e,{appId:o.appId,icon:o.icon,nickname:o.nickname});break;case"appLaunchInfo":ye(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),wx&&"function"==typeof wx.getLaunchOptionsSync?wx.getLaunchOptionsSync():{})));break;case"wxAppInfo":ye(n,r,e,{maxRequestConcurrent:o.maxRequestConcurrent,maxUploadConcurrent:o.maxUploadConcurrent,maxDownloadConcurrent:o.maxDownloadConcurrent,maxWorkerConcurrent:o.maxWorkerConcurrent,maxWebsocketConnect:o.maxWebsocketConnect});break;default:ye(n,r,e,o)}}})),e.g.__wxConfig=n}catch(r){te(r,"mockGloablWxConfig"),e.g.__wxConfig=t}return a}())),Se;var n}var xe=new H,Ae=new H,Pe={},Ee="WeixinJSBridgeReady",Oe="libraryEnd",Me="load",Re="postLoad",De="start",Le="postStart";function Ne(e,t){var r=void 0!==c,n=()=>{try{r&&c.traceBegin("Framework",`LibLifeCycle.${e} @ ${O.fileName}`),t(Pe[e])}catch(t){te(t,"LifeCycle."+e)}finally{r&&c.traceEnd()}};e in Pe?n():Ae.once(e,n)}function je(e,t){var r,n;if(e in Pe)return!1;Pe[e]=t,null===(r=w)||void 0===r||r.info(`[LifeCycle] emit ${e} for ${O.fileName}`);var a=Ae.emit(e,t);return null===(n=w)||void 0===n||n.info(`[LifeCycle] finish ${e} for ${O.fileName}`),a}var We,Fe=e=>{O.mayHaveSnapShot?Ne(Me,e):e()},$e={EventEmitter:H,on:xe.on.bind(xe),emit:xe.emit.bind(xe),once:xe.once.bind(xe),off:xe.off.bind(xe),getIsLoaded:()=>Me in Pe,getIsStarted:()=>De in Pe,onBridgeReady(e){Ne(Ee,e)},setWeixinJSBridge(e){je(Ee,e)},onLibraryEnd:Ne.bind(null,Oe),onCreate(e){e()},onLoadInstant:Fe,onLoad:Fe,_onPostLoad:Ne.bind(null,Re),onStart:Ne.bind(null,De),onPostStart:Ne.bind(null,Le)};Ae.onError(((e,t)=>{W.error(`[LifeCycle/${O.typeStr}] ${e.toString()} failed: `,t),te(t,"LifeCycle."+e.toString())})).onSlow(((e,t,r,n)=>{B.warn(`[LifeCycle/${O.typeStr}] slow ${e.toString()} callback (${r-t}ms)\n${n+""}`)})),e.g.__wxLibrary.onEnd=function(){je(Oe),O.mayHaveSnapShot||qe()},We=e.g.__wxConfig,ke.currentPhase="onCreate",void 0===We||(Ie(!1),Object.assign(ke,we?We:ue(We)),pe(ke),Ie(!0));var Be=!1,Ue=!1;function qe(){Be||Ue?te(new Error(`LifeCycle error: undesired onLoad(${Be}/${Ue})`)):(Be=!0,o=function(e){return ke.currentPhase="onLoad",void 0===e||(Ie(!1),Object.assign(ke,we?e:ue(e)),ke.onPageUpdate=$e.on.bind(null,Ce),de(ke),Ie(!0)),Se}(e.g.__wxConfig),je(Me,o),O.isSubContext?o.__readyHandler=e=>{He(e,!0)}:!0===o.preload?$e.onBridgeReady((t=>{t.on("onWxConfigReady",(()=>{He(e.g.__wxConfig)}))})):$e.onLibraryEnd((()=>{He(e.g.__wxConfig)})),je(Re,o))}function He(e,t=!1){if(Be&&!Ue){Ue=!0;var r=Date.now();"onReadyStart"in(o=Te(e,t))||(o.onReadyStart=r),je(De,o),o.onReadyEnd=Date.now(),je(Le,o)}else te(new Error(`LifeCycle error: undesired onStart(${Be}/${Ue})`))}(o=Se).isSnapshoting?(O.mayHaveSnapShot,e.g.WeixinSnapshot={snapshotContextReady(){delete e.g.WeixinSnapshot,o.isSnapshoting=!1,qe()}}):O.mayHaveSnapShot&&$e.onLibraryEnd(qe);class Ge{constructor(e,t,r){this.num=e,this.type=t,this.bindingFn=void 0,this.bindingFn="function"==typeof r?r:N}}var Ve={ALL:new Ge(Number.MIN_VALUE,"ALL"),DEBUG:new Ge(5e3,"DEBUG",console.debug),LOG:new Ge(1e4,"LOG",console.log),INFO:new Ge(2e4,"INFO",console.info),WARN:new Ge(3e4,"WARN",console.warn),ERROR:new Ge(4e4,"ERROR",console.error),OFF:new Ge(Number.MAX_VALUE,"OFF")},Je=(e,t)=>({debug:e(Ve.DEBUG,t),log:e(Ve.LOG,t),info:e(Ve.INFO,t),warn:e(Ve.WARN,t),error:e(Ve.ERROR,t)}),Ke=Ve.INFO,ze=(()=>{if(O.isWorker||O.isWidget||O.isMagicBrushFrameEnv){return Object.assign({createLogger:function(){return W}},W)}return O.isSubContext&&O.isIsolateContext?(e=[],t=(t,r)=>(...n)=>{e.push({level:t,logs:n,category:r})},r=()=>{setTimeout((()=>{var t=w.__isFromMainContext?w.__mergeSubContextLogs:null;t?(t(e),e=[]):r()}),1e3)},$e.onStart(r),{...Je(t),createLogger:e=>Je(t,"string"==typeof e?e:"default"),__isFromMainContext:!1}):(()=>{var e=O.platform,t="android"!==e,r=[],n=function(t){"android"!==e?l.invoke("systemLog",{dataArray:t.map((t=>{return{message:`\n${r=t.date,n=("0"+(r.getMonth()+1)).slice(-2),a=("0"+r.getDate()).slice(-2),o=("0"+r.getHours()).slice(-2),i=("0"+r.getMinutes()).slice(-2),s=("0"+r.getSeconds()).slice(-2),c=("00"+r.getMilliseconds()).slice(-3),l=r.getFullYear()+"-"+n+"-"+a,u=o+":"+i+":"+s+"."+c,"ios"===e?l+" "+u+"000"+(r.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):l+" "+(r.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+u} [${t.level.type[0].toUpperCase()}][wxapplib]] ${t.content}`};var r,n,a,o,i,s,c,l,u})),noCallback:!0}):t.forEach((e=>{e.level.bindingFn("[wxapplib]] "+e.content)}))},a=e=>{if(e instanceof Error)return`${e.message}\n${e.stack}`;if(e&&"string"==typeof e.stack&&"string"==typeof e.message)return`${e.message}\n${e.stack}`;switch(typeof e){case"bigint":case"boolean":case"function":case"number":case"symbol":return e.toString();case"string":return e;case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}},o=function(e,o){return function(...i){var s;if(o&&Array.prototype.unshift.call(i,"["+o+"]"),(L()||e.num>=Ve.WARN.num)&&(null===(s=W[e.type.toLowerCase()])||void 0===s||s.call(W,...i)),e.num>=Ke.num){var c=Array.prototype.slice.call(i).map(a).join(" ");if(t){var l=new Date;r&&r.length>1024&&r.shift(),r.push({date:l,level:e,content:c})}else n([{level:e,content:c}])}}};return $e.onStart((()=>{setTimeout((function e(){setTimeout(e,4e3),0!==r.length&&(n(r),r=[])}),4e3)})),{...Je(o),createLogger:function(e){return Je(o,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:r,category:n}=e;o(t,n)(...r)}))},__isFromMainContext:!0}})();var e,t,r})();$e.onLoad((()=>{ze.info(`[BaseLibVersion] ${O.fileName}: ${t.version} (${t.updateTime})}`)}));const Qe=ze;const Ze=D(["log","info","warn","error"],(e=>function(...t){(R||L())&&console[e]("[system]",...t)}));var Xe;function Ye(){return Xe||("undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?NativeGlobal.WebAssembly:void 0!==globalThis.WebAssembly?globalThis.WebAssembly:void 0)}$e.onLoad((()=>{Xe=Ye()}));var et=Object.create(null);Object.defineProperty(et,"WebAssembly",{enumerable:!0,get:Ye});const tt=et;var rt=e.g,nt={env:O,global:rt,get isConfigReady(){return $e.getIsStarted()},get isStarted(){return $e.getIsStarted()},get isLoaded(){return $e.getIsLoaded()},...$e,...i,wxConsole:W,wxPerfConsole:B,wxNativeConsole:Qe,libConsole:Ze,libGlobal:tt,globalShare:{},callbackReporter:{}};void 0!==r&&(n=function(){return"return this"===arguments[arguments.length-1]?function(){return rt}:new r(...arguments)},n.prototype=r.prototype);const at=nt})(),i=a.default})();var c,l,u,p,d,f,h,v,g,y,m,_=i.wxConsole,b=i.wxPerfConsole,w=i.wxNativeConsole;i.libConsole,i.libGlobal;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};(()=>{e.d(t,{default:()=>n});var r={traceBegin(){},traceEnd(){},traceInstant(){}};i.onLoad((()=>{"undefined"!=typeof TraceGlobal?(r.traceBegin=TraceGlobal.traceBegin,r.traceEnd=TraceGlobal.traceEnd,r.traceInstant=TraceGlobal.traceInstant):w.warn("[Trace] TraceGlobal not found")}));const n=r})(),c=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>X});class r{constructor(e=1){this.id=e,this.$={}}add(e){var t=this.id++;return this.$[t]="function"==typeof e?e:1,t}has(e){return"function"==typeof this.$[e]}callAndRemove(e,t){if(e in this.$){var r=this.$[e];delete this.$[e],"function"==typeof r&&r(t,e)}}}class a{constructor(){this.$={}}set(e,t){this.$[e]=t}emit(e,...t){var r=this.$[e];if("function"==typeof r)r(...t);else if(Math.random()<.01){var n="";try{n=JSON.stringify(t[0]||{}).replace(/,/g,";")}catch(e){n=e.message}l.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-3: "+e+" "+n,i.env.SDKVersion,o.appType].join(",")}],noCallback:!0})}}}var s=!1,c=!1,u=!1,d=!1,f=!1,h=!1,v=!1,g=.01,y=!1,m=!1,_=!1,b=new Map,w={},k={},S={};function I(e,t,r){var n;i.env.isService?n=1:i.env.isWebView?n=2:i.env.isWorker&&(n=3);var a=[i.env.SDKVersion,o.appType,1,n,0,e,t.replace(/,/g,";"),r,s?2:1].join(",");l.invoke("reportKeyValue",{dataArray:[{key:32334,value:a}],noCallback:!0})}function C(){if(!c&&(i.env.isService||i.env.isWebView||i.env.isWorker)&&(c=!0,y=Math.random()<g)){var e=e=>{var t=Object.values(w).map((t=>{var r=t.name,{count:n,totalJsHandleCost:a,totalClientToJsCost:o,syncReturn:i}=w[r],s=+(a/n).toFixed(2),c=+(o/n).toFixed(2);if(e){var l=e[r];return{n:r,c:n,t:c,j:s,s:i?1:0,i:null==l?void 0:l[0],a:null==l?void 0:l[1]}}return{n:r,c:n,t:c,j:s,s:i?1:0}}));return w={},JSON.stringify(t)};setTimeout((()=>{"android"===o.platform&&(i.env.isService||i.env.isWebView)?l.invoke("getInvokeCost",{},(t=>{var r=t.data||{};I(1,e(r),1e4)})):I(1,e(),1e4)}),1e4),setTimeout((()=>{(f=!0,b.clear(),"android"===o.platform)?(l.invoke("getInvokeCost",{},(t=>{var r=t.data||{};I(1,e(r),2e4)})),l.invoke("stopCollectInvokeCost",{noCallback:!0})):I(1,e(),2e4)}),2e4)}}function T(){if(!d&&(i.env.isService||i.env.isWebView||i.env.isWorker)&&(d=!0,m=Math.random()<g)){var e=()=>{var e=Object.values(S).map((e=>{var t=e.name,{count:r,totalJsHandleCost:n,totalClientToJsCost:a}=S[t],o=+(n/r).toFixed(2);return{n:t,c:r,t:+(a/r).toFixed(2),j:o}}));return S={},JSON.stringify(e)};setTimeout((()=>{I(2,e(),1e4)}),1e4),setTimeout((()=>{v=!0,I(2,e(),2e4)}),2e4)}}function x(e,t,r,n){if(y&&!f&&(i.env.isService||i.env.isWebView||i.env.isWorker)){var a=Date.now(),o=0;return null!=n&&n.nativeTime&&(o=a-n.nativeTime),r||(r=b.get(e),b.delete(e)),{jsapiName:r,jsHandleBegin:a,clientToJsCost:o}}}function A(e,t,r,n=!1,a){if(y&&!f&&(i.env.isService||i.env.isWebView||i.env.isWorker)){var s=Date.now()-t;if(w[e]?(w[e].count++,w[e].totalJsHandleCost+=s,w[e].totalClientToJsCost+=r):w[e]={count:1,totalJsHandleCost:s,totalClientToJsCost:r,syncReturn:n,name:e},!e&&Math.random()<.01){var c="";try{c=JSON.stringify(a).replace(/,/g,";")}catch(e){c=e.message}l.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-1: "+c,i.env.SDKVersion,o.appType].join(",")}],noCallback:!0})}}}function P(e,t){if(m){var r=0,n=0;return!v&&(i.env.isService||i.env.isWebView||i.env.isWorker)&&(r=Date.now(),null!=t&&t.nativeTime&&(n=r-t.nativeTime)),{jsHandleBegin:r,clientToJsCost:n}}}function E(e,t,r){if(m&&!v&&(i.env.isService||i.env.isWebView||i.env.isWorker)){var n=Date.now()-t.jsHandleBegin;if("onAppEnterBackground"===e&&(s=!0),S[e]?(S[e].count++,S[e].totalJsHandleCost+=n,S[e].totalClientToJsCost+=t.clientToJsCost):S[e]={count:1,totalJsHandleCost:n,totalClientToJsCost:t.clientToJsCost,syncReturn:void 0,name:e},!e&&Math.random()<.01){var a="";try{a=JSON.stringify(r).replace(/,/g,";")}catch(e){a=e.message}l.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-2: "+a,i.env.SDKVersion,o.appType].join(",")}],noCallback:!0})}}}var O=()=>f,M=()=>{var e,t=!1;"android"===o.platform?t="1"===(null===(e=o)||void 0===e?void 0:e.expt.clicfg_appbrand_android_jsapi_nocallback):"ios"===o.platform&&(t=!0);return t};i.callbackReporter={initJsapiCallbackReport:C,initEventCallbackReport:T,jsapiCallbackBegin:x,jsapiCallbackEnd:A,eventCallbackBegin:P,eventCallbackEnd:E};var R=()=>{},D=JSON.parse,L=JSON.stringify,N="custom_event_",j=0,W=function(){return"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function F(t){var n=function(){var t=e.g.webkit;return delete e.g.webkit,t}(),s=function(){var t=e.g.WeixinJSCore;return"object"==typeof t&&"function"!=typeof t.publishHandler&&(t.publishHandler=R),i.env.isWorker&&"function"==typeof e.g.workerInvokeJsApi&&(t={invokeHandler:e.g.workerInvokeJsApi,publishHandler:R,invokeThirdHandler:R},j=1<<25),e.g.WeixinJSCore={invokeHandler:R,publishHandler:R,setTimerHandler:R,clearTimerHandler:R,readLibSync:R,readLibXWebScriptSync:R},t}(),c=new r(j),l=new a,d=new a;function f(e,t,r){if(void 0!==e&&c.has(t)&&""!==e&&null!==e){if(C(),"string"==typeof e)try{e=D(e),e=p.unpack(e)}catch(t){e={}}var n=x(t,0,void 0,r);c.callAndRemove(t,e),n&&A(n.jsapiName,n.jsHandleBegin,n.clientToJsCost,!0,e)}}var v={},y={},m=0;function w(e,t,r){var n,a=++m;v[a]=r;try{n=s.invokeThirdHandler(e,t,a)}catch(e){console.error("Third SDK Error: unexpected error:",e)}if(void 0!==n&&"function"==typeof v[a]&&""!==n&&null!==n){if("string"==typeof n)try{n=D(n)}catch(e){n={}}var o=v[a];delete v[a],"function"==typeof o&&o(n)}}var S=function(e,t){y[e]=t},F=(e,t)=>{var r=y[e];r&&r(t)},$=(e,t)=>{var r=v[e];delete v[e],"function"==typeof r&&r(t)};function B(e,r,a,c={}){if(s){var l,u,p;if("splashad"===i.env.workerType||o.supportInvokeWithAppId)l=null===(u=s.invokeHandler)||void 0===u?void 0:u.call(s,e,r,a,c);else l=null===(p=s.invokeHandler)||void 0===p?void 0:p.call(s,e,r,a);f(l,a,void 0)}else{var d={event:e,paramsString:r,callbackId:a,privateArgs:L(c)};if(t.isWebMiniGame){f(prompt("webgame_invoke",L(d)),a,void 0)}else{var h=null==n?void 0:n.messageHandlers.invokeHandler.postMessage(d);null!=h&&h.catch&&h.catch((t=>{var n=console.error.bind(console);n("webkit.messageHandlers.invokeHandler.postMessage fail"),n(`event=${e}`),n("params=",r),n("err=",t),n("err.code=",t.code),n("err.message=",t.message),n("err.name=",t.name)}))}}}return{invoke(e,r,n,a={}){var i,s,l=r;a.keepOriginalParams||t.directInvokeJS||(a.notPack?delete a.notPack:r=p.pack(r),("ios"!==o.platform||W||"1"!==(null===(s=o)||void 0===s?void 0:s.expt.clicfg_appbrand_ios_use_jsapi_args_binding))&&(l=L(r||{})));if(delete a.keepOriginalParams,null!==(i=r)&&void 0!==i&&i.noCallback&&M())return B(e,l,0,a),0;var u=c.add(n);return O()||b.set(u,e),a.highPerformance&&(a.highPerformance[u]=r,delete a.highPerformance),B(e,l,u,a),u},on(e,t){l.set(e,t)},subscribe(e,t){d.set(N+e,t)},publish(e,r,a){e=N+e;var o=a,i=r;t.directInvokeJS||(i=L(r),o=L(a)),function(e,t,r){if(s){var a;null===(a=s.publishHandler)||void 0===a||a.call(s,e,t,r)}else{var o=null==n?void 0:n.messageHandlers.publishHandler.postMessage({event:e,paramsString:t,webviewIds:r});null!=o&&o.catch&&o.catch((r=>{var n=console.error.bind(console);n("webkit.messageHandlers.publishHandler.postMessage fail"),n(`event=${e}`),n("params=",t),n("err=",r),n("err.code=",r.code),n("err.message=",r.message),n("err.name=",r.name)}))}}(e,i,o)},invokeCallbackHandler:function(e,t,r){C();var n=x(e,0,void 0,r);t=p.unpack(t),c.callAndRemove(e,t),n&&A(n.jsapiName,n.jsHandleBegin,n.clientToJsCost,!1,t)},subscribeHandler:function(e,t,r,n){if(-1!==e.indexOf(N)){!function(){if(!u&&(i.env.isService||i.env.isWebView||i.env.isWorker)&&(u=!0,_=Math.random()<g)){var e=()=>{var e=Object.values(k).map((e=>{var t=e.name,{count:r,totalJsHandleCost:n,totalClientToJsCost:a}=k[t],o=+(n/r).toFixed(2);return{n:t,c:r,t:+(a/r).toFixed(2),j:o}}));return k={},JSON.stringify(e)};setTimeout((()=>{I(3,e(),1e4)}),1e4),setTimeout((()=>{h=!0,I(3,e(),2e4)}),2e4)}}();var a=function(e,t){if(_){var r=0,n=0;return!h&&(i.env.isService||i.env.isWebView||i.env.isWorker)&&(r=Date.now(),null!=t&&t.nativeTime&&(n=r-t.nativeTime)),{jsHandleBegin:r,clientToJsCost:n}}}(0,n);t=p.unpack(t),d.emit(e,t,r,n||{}),(null==a?void 0:a.jsHandleBegin)&&function(e,t){if(_&&!h&&(i.env.isService||i.env.isWebView||i.env.isWorker)){var r=Date.now()-t.jsHandleBegin;k[e]?(k[e].count++,k[e].totalJsHandleCost+=r,k[e].totalClientToJsCost+=t.clientToJsCost):k[e]={count:1,totalJsHandleCost:r,totalClientToJsCost:t.clientToJsCost,syncReturn:void 0,name:e}}}(e,a)}else{T();var o=P(0,n);t=p.unpack(t),l.emit(e,t,r,n||{}),(null==o?void 0:o.jsHandleBegin)&&E(e,o,t)}},get invokeThird(){return w},get onThird(){return S},get subscribeThirdHandler(){return F},get invokeThirdCallbackHandler(){return $},readLibSync:e=>{if(s.readLibSync)return s.readLibSync(e);throw new Error("readLibSync not exist")},readLibXWebScriptSync:e=>s.readLibXWebScriptSync(e)}}var $=!0,B={},U={},q=new Set(["getSystemInfo","getNetworkType","isGameRecorderSupported","getDeviceInfo"]);i.onPostStart((()=>{$=!1,B={},U={}}));var H=new Set(["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll"]);"function"==typeof logxx&&logxx("jsbridge start");var G=null;var V=new class{constructor(){this.value=void 0,this.pending=[]}ready(e){"function"==typeof e&&(void 0===this.value?this.pending.push(e):e(this.value))}hasValue(){return void 0!==this.value}done(e){this.value=e,this.pending.forEach((t=>{t(e)})),this.pending=[]}},J=V.ready.bind(V),K=new class{constructor(e){this.onNewEvent=e,this.$={},this.$e=new i.EventEmitter,this.knownEvents=new Set}emitNewEvent(e){this.knownEvents.has(e)||(this.knownEvents.add(e),this.onNewEvent(e,this))}add(e,t,r){this.emitNewEvent(e),this.$e.on(e,t,r)}remove(e,t){this.$e.off(e,t)}setSingle(e,t){this.emitNewEvent(e),this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t),this.$e.emit(e,...t)}emitCancelable(e,...t){this.$e.emitCancelable(e,...t)}}(((e,t)=>{H.has(e)?J((r=>{r.on(e,t.emitCancelable.bind(t,e))})):J((r=>{r.on(e,t.emit.bind(t,e))}))})),z=()=>{},Q=[],Z={on(e,t){H.has(e)?K.add(e,t):K.setSingle(e,t)},addEventListener(e,t,r){K.add(e,t,r)},removeEventListener(e,t){K.remove(e,t)},invoke(e,t,r,n={}){var a=!0,o=!1,i=[],s=e=>{for(var t of(o||(a=!1),i))t(e,a);null==r||r(e)};if(G){var c=e=>{i.push(e)};for(var l of Q){var u=l(e,t,c);if(u)return u instanceof Promise?(u.then((e=>{s(e)})),!0):(s(u),!1)}G.invoke(e,t,s,n)}else console.error(`[jsbridge] invoke ${e} fail: jsbridge not ready.`,new Error("jsbridge not ready").stack),s({errMsg:`${e}:fail jsbridge not ready`,errno:4});return o=!0,a},pureInvoke:(e,t,r,n={})=>G.invoke(e,t,r,n),get invokeCallbackHandler(){var e;return null===(e=G)||void 0===e?void 0:e.invokeCallbackHandler},get subscribeHandler(){var e;return null===(e=G)||void 0===e?void 0:e.subscribeHandler},publish:z,subscribe:z,addSubscribeListener:z,removeSubscribeListener:z,addInvokeInterceptor(e){return Q.push(e),this},get invokeThird(){var e;return null===(e=G)||void 0===e?void 0:e.invokeThird},get onThird(){var e;return null===(e=G)||void 0===e?void 0:e.onThird},get invokeThirdCallbackHandler(){return null},get subscribeThirdHandler(){return null},get readLibSync(){var e;return null===(e=G)||void 0===e?void 0:e.readLibSync},get readLibXWebScriptSync(){return G.readLibXWebScriptSync}};i.onLoad((()=>{!function(t){if(!("devtools"===i.env.platform&&!i.env.isWorker||e.g.useGlobalJSBridge||e.g.OSUseGlobalJSBridge)){if(i.env.isMagicBrushFrameEnv){var r,n=(null===(r=e.g.mb)||void 0===r?void 0:r.JSBridge)||e.g.JSBridge,a=n.invoke,s=Object.assign({},n,{invoke:function(...e){var t=a.apply(n,e),r=e[1];if(t&&Object.prototype.hasOwnProperty.call(t,"errCode")&&r){var o=t.errno||t.errCode,{success:i,fail:s,complete:c}=r;o?("function"==typeof s&&s(t),"function"==typeof c&&c(t)):("function"==typeof i&&i(t),"function"==typeof c&&c(t))}return t}});return e.g.WeixinJSBridge=s,t(s,!1)}var c=F({directInvokeJS:!!o.wmpfDirectInvokeJs,isWebMiniGame:!!o.isWK}),l={get invokeCallbackHandler(){return c.invokeCallbackHandler},get subscribeHandler(){return c.subscribeHandler},get subscribeThirdHandler(){return c.subscribeThirdHandler},get invokeThirdCallbackHandler(){return c.invokeThirdCallbackHandler}};return o.clientDebug&&i.onLibraryEnd((()=>{Object.assign(l,{on:Z.on,publish:Z.publish,invoke:Z.invoke,subscribe:Z.subscribe}),e.g.WeixinJSBridge=l})),e.g.WeixinJSBridge=l,t(c,!1)}if(void 0!==e.g.WeixinJSBridge)return t(e.g.WeixinJSBridge,!0);document.addEventListener("WeixinJSBridgeReady",(()=>{t(e.g.WeixinJSBridge,!0)}),!1)}(((t,r)=>{G=t,r&&e.g.WeixinJSBridge===l&&Object.keys(t).forEach((e=>{e in Z||(Z[e]=(...r)=>t[e](...r))})),V.done(G)}))})),Z.addInvokeInterceptor((e=>{if(!i.isStarted&&"splashad"!==i.env.workerType)return console.error(`[jsbridge] invoke ${e} fail: too eayly.`,new Error("invoke too eayly").stack),{errMsg:`${e}:fail too early`,errno:4}})).addInvokeInterceptor(((e,t,r)=>{if(("getSystemInfo"!==e||"string"!=typeof(null==t?void 0:t.type))&&$&&q.has(e)){if(e in B)return B[e];if(e in U)return U[e];if(q.has(e)){var n=new Promise((t=>{r(((r,n)=>{n?t(r):(delete U[e],B[e]=r)}))}));U[e]=n}}}));new Map;i.setWeixinJSBridge(Z);const X=Z;l=t.default})(),(()=>{var e={26:e=>{var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),i=new A(n||[]);return o._invoke=function(e,t,r){var n=p;return function(a,o){if(n===f)throw new Error("Generator is already running");if(n===h){if("throw"===a)throw o;return E()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var c=u(e,t,r);if("normal"===c.type){if(n=r.done?h:d,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p="suspendedStart",d="suspendedYield",f="executing",h="completed",v={};function g(){}function y(){}function m(){}var _={};_[o]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==r&&n.call(w,o)&&(_=w);var k=m.prototype=g.prototype=Object.create(_);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(p).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,C(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=u(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:E}}function E(){return{value:t,done:!0}}return y.prototype=k.constructor=m,m.constructor=y,y.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(I.prototype),I.prototype[i]=function(){return this},e.AsyncIterator=I,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new I(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(k),c(k,s,"Generator"),k[o]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return s.type="throw",s.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{u=t}catch(e){n("r","regeneratorRuntime = r")(t)}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}(()=>{r(26);var e=()=>{var e={};Object.keys(u).forEach((t=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>u[t],set(r){delete e[t],e[t]=r}})})),globalThis.regeneratorRuntime=e};"function"==typeof o.onReady?o.onReady((t=>{"devtools"===t.platform||["develop","trial"].includes(t.envVersion)||e()})):e()})()})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>b});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){for(var t="",n=new Uint8Array(e),a=n.byteLength,o=0;o<a;o++)t+=String.fromCharCode(n[o]);return function(e){if("function"==typeof btoa)return btoa(e);for(var t,n,a=String(e),o="",i=0,s=r;a.charAt(0|i)||(s="=",i%1);o+=s.charAt(63&t>>8-i%1*8)){if((n=a.charCodeAt(i+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|n}return o}(t)}function a(e){for(var t=function(e){if("function"==typeof atob)return atob(e);var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var a,o,i=0,s=0;o=t.charAt(s++);~o&&(a=i%4?64*a+o:o,i++%4)?n+=String.fromCharCode(255&a>>(-2*i&6)):0)o=r.indexOf(o);return n}(e),n=t.length,a=new Uint8Array(n),o=0;o<n;o++)a[o]=t.charCodeAt(o);return a.buffer}var s,c=o.platform,l="ios"===c,u="android"===c||"windows"===c||"mac"===c||"mina"===c;l&&(s=e.g.WeixinNativeBuffer);var p=null;function d(e,t=!1){var r={};if(p&&!t){var a=!1,o=Object.getPrototypeOf(e);o!==ArrayBuffer.prototype&&(a=!0,Object.setPrototypeOf(e,ArrayBuffer.prototype)),r.id=p.create(e),a&&Object.setPrototypeOf(e,o)}else r.base64=n(e);return r}function f(e){if(null!=e)return p&&void 0!==e.id?p.get(e.id):void 0!==e.base64?a(e.base64):void 0}i.onLoad((()=>{p=function(e){var t=s,r=e.getNativeBufferId,n=e.setNativeBuffer,a=e.getNativeBuffer;delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer;var i=null;return u&&"function"==typeof r&&"function"==typeof n&&"function"==typeof a&&o.nativeBufferEnabled?i={create(e){var t=r();return n(t,e),t},get:e=>a(e),useCompatibleMode(){}}:l&&t&&(i={create:e=>t.new(e),get:e=>t.get(e),useCompatibleMode(e){t.useCompatibleMode(e)}}),i}(e.g)}));var h=Object.prototype.toString;function v(e){return"[object Array]"===h.call(e)}function g(e){return"[object ArrayBuffer]"===h.call(e)}function y(e,t){if(!t)return null;var r=t.split(".");if(!r.length)return null;for(var n=r[r.length-1],a=e,o=0;o<r.length-1;o++){if(!a)return null;a=a[r[o]]}return[a,n]}function m(e,t=!1,r=!1){if(null==e)return e;var n;if(t)n=function(e,t=!1){var r=[],n=new WeakMap,a=function(e,r,o=[]){var i,s=n.get(e);if(s){if(s>50)throw console.error("[SDK ERROR] worker postMessage object occur circular reference. please check your postMessage argument:",e),new Error("worker postMessage object occur circular reference");n.set(e,s+1)}else n.set(e,1);for(var c in e){var l=e[c];if(i=l,"[object Object]"===h.call(i)||v(l)){var u=[...o];u.push(c),a(l,r,u)}else if(g(l)){if(e._sabId)continue;var p=d(l,t),f=Array.prototype.concat.call(o,c).join(".");p.key=f,delete e[c],r.push(p)}}};return a(e,r),r}(e,r);else{for(var a in n=[],e){var o=e[a];if(g(o)){var i=d(o,r);i.key=a,n.push(i)}}if(n.length>0)for(var s of n)delete e[s.key]}return n.length>0&&(e.__nativeBuffers__=n),e}function _(e,t=!1,r=!1){if(null==e||null==e.__nativeBuffers__)return e;var n=e.__nativeBuffers__;delete e.__nativeBuffers__;var a=[];for(var o of n)if(null!=o){var i=f(o);if(g(i)){if(t){var s=y(e,o.key);if(!s)return;var[c,l]=s;c[l]=i}else e[o.key]=i;a.push(o.key)}}return r&&(e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__=a),e}const b={new:d,get:f,useCompatibleMode:function(e){var t;null===(t=p)||void 0===t||t.useCompatibleMode(e)},pack:m,unpack:_,packPostMessage:(e,t=!1)=>m(e,!0,t),unpackPostMessage:e=>_(e,!0,!0)}})(),p=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>k});var r,a,s=["request","createSocketTask","operateSocketTask","onSocketTaskStateChange","createRequestTask","createRequestTaskAsync","operateRequestTask","onRequestTaskStateChange","createDownloadTask","createDownloadTaskAsync","operateDownloadTask","onDownloadTaskStateChange","createUploadTask","createUploadTaskAsync","operateUploadTask","onUploadTaskStateChange","getNetworkType","createAudioInstance","createAudioInstanceAsync","operateAudio","destroyAudioInstance","getAudioState","setAudioState","onAudioStateChange","uploadFile","downloadFile","saveFile","getFileInfo","getSavedFileInfo","getSavedFileList","removeSavedFile","readFile","readCompressedFile","writeFile","mkdir","readdir","rmdir","access","unlink","stat","copyFile","rename","fs_appendFile","fs_appendFileSync","fs_copyFile","fs_copyFileSync","fs_rename","fs_renameSync","getABTestConfig","reportKeyValue","reportIDKey","getPermissionBytes"],c=o.supportWorkerMultiContext||o.supoortWorkerMultiContext,l=[],u=[],f=[],h=function(e){return e?r:a},v=function(e){e=p.unpackPostMessage(e),u.forEach((t=>{"function"==typeof t&&t(e)}))},g=function(e,t){t=p.unpackPostMessage(t),l.forEach((r=>{"function"==typeof r&&r(e,t)}))},y=function(e,t){f.forEach((r=>{"function"==typeof r&&r(e,t)}))},m=(e,t)=>{a.sendMsgToAppService({__cmd__:"workerUncaughtError",__data__:e,__contextId__:t})},_=function(e,t){c?m(e,t):i.emitUnhandledError(e)},b={get appServiceMsgHandler(){return v},get workerMsgHandler(){return g},get workerCreatedHandler(){return y},get errorHandler(){return _},get __workerId__(){return a.__workerId__}},w={create:function(e,t){var n,o,i=!(!(t=t||{}).useExperimentalWorker||!r);return i?(o=r,n=JSON.stringify(t)):(o=a,n={APIList:s,pluginId:t.PluginId}),"function"==typeof o.create?{workerId:o.create.call(o,e,n),useWKWorker:i}:{workerId:-1,useWKWorker:i}},createWXLibWorker:function(e,t){var r={APIList:s};t.APIList&&(r.APIList=s.concat(t.APIList)),t.type&&(r.type=t.type);var n=a;return"function"==typeof n.createWXLibWorker?{workerId:n.createWXLibWorker.call(n,e,JSON.stringify(r))}:{workerId:-1}},terminate:function(e,t){var r=h(t);if("function"==typeof(null==r?void 0:r.terminate)&&"number"==typeof e)return r.terminate.call(r,e)},postMsgToAppService:function(e,t){if(i.env.isWKGame)a.sendMsgToAppService(e);else if("ios"===i.env.platform&&1===Number(o.expt.clicfg_appbrand_ios_allow_worker_binding_message))e=p.packPostMessage(e,!1),a.sendMsgToAppService(e);else try{!1!==t&&(e=p.packPostMessage(e),e=JSON.stringify(e)),a.postMsgToAppService(e)}catch(e){console.error(e)}},postMsgToWorker:function(e,t,r,n){var a=h(n);if(i.env.isWKGame)null==a||a.sendMsgToWorker(e,t);else if("ios"!==i.env.platform||1!==Number(o.expt.clicfg_appbrand_ios_allow_worker_binding_message)||n)try{!1!==r&&(t=p.packPostMessage(t,n),t=JSON.stringify(t)),null==a||a.postMsgToWorker(e,t)}catch(e){console.error(e)}else t=p.packPostMessage(t,!1),null==a||a.sendMsgToWorker(e,t)},onWorkerMsg:function(e){l.push(e)},onWorkerCreated:function(e){f.push(e)},onAppServiceMsg:function(e){u.push(e)},get WebAssembly(){return a.WebAssembly},isSupportWXLibWorker:function(){return"function"==typeof a.createWXLibWorker}};i.onLoadInstant((()=>{r=e.g.WeAppWorker,a=e.g.WeixinWorker,e.g.WeixinWorker=b,e.g.WeAppWorker=b,("devtools"===o.platform||c)&&(w.appServiceMsgHandler=b.appServiceMsgHandler,w.workerMsgHandler=b.workerMsgHandler,w.errorHandler=b.errorHandler,w.__workerId__=b.__workerId__)}));const k=w;d=t.default})(),(()=>{var e={342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EnvPreloadType:()=>n,default:()=>s,updateConfig:()=>a});var n={None:0,BeforeLaunch:1,AfterLaunch:2},a=()=>{i!==o&&void 0!==i&&Object.assign(i,o)},i=(()=>(o.onReady(a),o))();const s=i},476:(e,r,n)=>{"use strict";n.r(r),n.d(r,{reportDeprecatedAPI:()=>s});var a=n(342),o=void 0!==t&&t?t.version:"unknown",i=void 0!==t&&t?t.updateTime:"unknown";"string"==typeof o&&(o=o.replace(" ","")),"string"==typeof i&&(i=i.replace(" ","-"));var s=(e="")=>{e=e.replace(/,/g,";");var t=o+" "+i,r=a.default.appType;v.reportKeyValue({key:"DeprecatedAPI",value:[e,t,r].join(",")})}},996:(e,t,r)=>{var{reportDeprecatedAPI:n}=r(476),{default:a}=r(342);function o(e=globalThis){function t(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e}}"function"==typeof globalThis.Function&&(t.prototype=globalThis.Function.prototype,t.prototype.constructor=t,globalThis.Function=t)}e.exports={hijack:function(e=!0,t=globalThis){o(t),"undefined"!=typeof eval&&("ios"===a.platform&&r.g.__isAppServiceRemoteDebugMode__||a.debug||(globalThis.eval=void 0)),e&&function(){if("undefined"!=typeof setTimeout){var e=setTimeout;globalThis.setTimeout=function(t,r=0){if("function"!=typeof t)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof t}.`);var n=h.surroundThirdByTryCatch(t,"at setTimeout callback function"),a=[].slice.call(arguments,2);return e((()=>{n.apply(globalThis,a)}),r)};var t=setInterval;globalThis.setInterval=function(e,r){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var n=h.surroundThirdByTryCatch(e,"at setInterval callback function"),a=[].slice.call(arguments,2);return t((()=>{n.apply(globalThis,a)}),r)}}}(),"undefined"!=typeof WebAssembly&&["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(n("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))},hijackFunction:o}},585:()=>{if("undefined"==typeof navigator){try{new n('var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});var FakeGeneratorFunction = function () {};FakeGeneratorFunction.prototype = GeneratorFunctionProto;Object.defineProperty(GeneratorFunctionProto, "constructor", { value: FakeGeneratorFunction });')()}catch(e){}try{new n('var AsyncFunctionProto = Object.getPrototypeOf(async function () {});var FakeAsyncFunction = function () {};FakeAsyncFunction.prototype = AsyncFunctionProto;Object.defineProperty(AsyncFunctionProto, "constructor", { value: FakeAsyncFunction });')()}catch(e){}try{new n('var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});var FakeAsyncGeneratorFunction = function () {};FakeAsyncGeneratorFunction.prototype = AsyncGeneratorFunctionProto;Object.defineProperty(AsyncGeneratorFunctionProto, "constructor", { value: FakeAsyncGeneratorFunction });')()}catch(e){}}}},r={};function a(t){var n=r[t];if(void 0!==n)return n.exports;var o=r[t]={exports:{}};return e[t](o,o.exports,a),o.exports}a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";a.r(i),a.d(i,{bridgeGlobalInstanceOf:()=>ee,deepFreezeGlobalObjs:()=>V,deepFreezeObj:()=>M,deepFreezeObjProperty:()=>O,doNotWriteGlobalObjs:()=>G,doNotWriteObj:()=>N,doNotWriteObjProperty:()=>R,globalEsHiddenObjs:()=>t,globalEsObjs:()=>r,hijack:()=>J.hijack,hijackFunction:()=>J.hijackFunction,overwriteSetPrototypeOf:()=>H});a(585);var e=globalThis.Function,t=[()=>Object.getPrototypeOf(Uint8Array.prototype).constructor,()=>new e("return Object.getPrototypeOf((function* () {})()).constructor")(),()=>new e("return Object.getPrototypeOf(function* () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function* () {}).constructor")()].map((e=>{try{return e()}catch(e){}})).filter(Boolean),r=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","globalThis","Infinity","Int16Array","Int32Array","Int8Array","Intl","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],n=["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"],o=globalThis,s=a(342),c=(()=>s.default.platform)(),l=(()=>"ios"===c)();var u=/^\s*at .*(\S+:\d+|\(native\))/m,p=/^(eval@)?(\[native code\])?$/;function d(e,t=1/0){if("string"!=typeof e.stack)throw new Error("Cannot parse given Error object");var r=e.stack;return l?function(e,t){for(var r=[],n=e.split("\n"),a=0,o=0;a<n.length&&o<t;++a){var i=n[a];if(!p.test(i)){++o;var s=i.indexOf("@");if(-1===s){var c=f(i);r.push({fileName:c.URI,lineNumber:c.line,columnNumber:c.column,source:i})}else{var l=i.substring(0,s),u=f(i.substr(s+1));r.push({functionName:l,fileName:u.URI,lineNumber:u.line,columnNumber:u.column,source:i})}}}return r}(r,t):function(e,t){for(var r=[],n=e.split("\n"),a=0,o=0;a<n.length&&o<t;++a){var i=n[a];u.test(i)&&(r.push(i),++o)}return r.map((e=>{e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),a=f(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(a[0])>-1?void 0:a[0],lineNumber:a[1],columnNumber:a[2],source:e}}))}(r,t)}function f(e){var t=/(?::(\d+))?(?::(\d+))?$/.exec(e);return t?{URI:e.substring(0,e.length-t[0].length),line:t[1],column:t[2]}:{URI:e}}var h=Object.freeze,v=Object.setPrototypeOf,g=Object.defineProperty,y=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,_=Object.getOwnPropertySymbols,b=Object.getPrototypeOf,w=Object.preventExtensions;var k=[[e=>!/(WAServiceMainContext|WAGame)\.js/.test(e)]];function S(){var e,t,r=Date.now(),n=d(new Error,3),a=n[1],o=n[2],i=!(a.fileName&&o.fileName&&o.fileName!==a.fileName&&(e=o.fileName,t=a.fileName,!k.some((r=>r.some((t=>t(e)))&&r.some((e=>e(t)))))));return Date.now()-r,i}function I(e,t=!1){if("function"==typeof e||"object"==typeof e&&null!==e){var r=y(e,"__proto__");r&&!r.configurable||(r||Object.isExtensible(e))&&g(e,"__proto__",{get(){return b(this)},set(r){if(this===e)t&&S()&&v(e,r);else{if("function"!=typeof this&&("object"!=typeof this||null===e))return;v(this,r)}},enumerable:!1,configurable:!1})}}var C=new Map,T=(e,t,r)=>{C.has(e)||C.set(e,new Map);var n=C.get(e);n.has(t)?Object.assign(n.get(t),r):n.set(t,r)};function x(e,t,r=!1){if("function"!=typeof e&&("object"!=typeof e||null===e))return!1;try{var n=y(e,t);return!!n&&(n.configurable&&(g(e,t,{get:n.get||(()=>n.value),set(a){if(this===e)r&&S()&&(n.set?n.set.call(this,a):n.writable&&(n.value=a));else{if("function"!=typeof this&&"object"!=typeof this)return;!function(e,t,r){try{"__proto__"===t?v(e,r):g(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(e){}}(this,t,a)}},enumerable:n.enumerable,configurable:!1}),r&&T(e,t,n)),!n.get&&("function"==typeof n.value||"object"==typeof n.value&&null!==n.value))}catch(e){throw e.message,e}}var A=new WeakSet;function P(e){A.add(e)}function E(e){return A.has(e)}function O(e,t,r){x(e,t)&&M(e[t],r)}function M(e,t){if(e&&!E(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis)if(e!==Error){P(e);for(var r=m(e),n=_(e),a=0;a<r.length;++a)O(e,r[a],t);for(var o=0;o<n.length;++o)O(e,n[o],t);t?w(e):I(e,!1)}else if(t){var i=e=>{if(e&&!E(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){P(e),h(e);for(var t=m(e),r=_(e),n=0;n<t.length;++n)i(e[t[n]]);for(var a=0;a<r.length;++a)i(e[r[a]])}};i(Error)}}function R(e,t){x(e,t,!0)&&N(e[t])}var D=new WeakSet;function L(e){return D.has(e)}function N(e){if(e&&!L(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){!function(e){D.add(e)}(e);for(var t=m(e),r=_(e),n=0;n<t.length;++n)R(e,t[n]);for(var a=0;a<r.length;++a)R(e,r[a]);I(e,!0)}}var j=Object.prototype.hasOwnProperty,W=Object.defineProperty,F=Object.defineProperties,$=Object.getOwnPropertyNames,B=Object.getOwnPropertySymbols,U=Object.getOwnPropertyDescriptor,q=!1,H=function(){q||(q=!0,W(o.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0}),W(o.Object,"defineProperty",{value(e,t,r){if(!L(e))return W(e,t,r);if(!S())return r;var n=U(e,t);if(!n||n.configurable){var a=W(e,t,r);return R(e,t),a}return T(e,t,r),r},configurable:!0}),W(o.Object,"defineProperties",{value(e,t){if(!L(e))return F(e,t);if(!S())return t;var r=r=>{var n=U(e,r);if(!n||n.configurable){var a=W(e,r,t[r]);return R(e,r),a}return T(e,r,t[r]),t[r]};return $(t).forEach(r),B(t).forEach(r),t},configurable:!0}))},G=function(e=[]){try{for(var a=[...r,...n,...t,...e],i=(Date.now(),0);i<a.length;++i){var s=a[i],c=typeof s;"string"===c?j.call(o,s)&&R(o,s):"function"!==c&&"object"!==c||N(s)}Date.now()}catch(e){}},V=function(e=[],a=!1){try{for(var i=[...r,...n,...t,...e],s=(Date.now(),0);s<i.length;++s){var c=i[s],l=typeof c;"string"===l?j.call(o,c)&&O(o,c,a):"function"!==l&&"object"!==l||M(c,a)}Date.now()}catch(e){}},J=a(996),K=Object.prototype.isPrototypeOf,z=Object.defineProperty,Q=Object.prototype.hasOwnProperty,Z=Symbol.hasInstance,X=function(e){return!("function"!=typeof this||!Y(e))&&((e,t)=>K.call(t.prototype,e))(e,this)},Y=e=>"object"==typeof e?null!==e:"function"==typeof e;function ee(e,t,r={}){for(var n=function(n){var a=e[n],o=t[n];if(!a||!o)return"continue";if("function"!=typeof a)return"continue";var i=Q.call(a,Z)?a[Z]:X,s=Q.call(o,Z)?o[Z]:X;z(a,Z,{value(e){return i.call(this,e)||s.call(o,e)},writable:!0,enumerable:!1,configurable:!0}),z(o,Z,{value(e){return void 0!==r[n]&&"Object"===r[n]&&void 0!==(null==e?void 0:e._compressed)&&void 0!==(null==e?void 0:e._data)&&void 0!==(null==e?void 0:e.height)&&void 0!==(null==e?void 0:e.width)?s.call(this,e):s.call(this,e)||i.call(a,e)},writable:!0,enumerable:!1,configurable:!0})},a=0;a<e.length;++a)n(a)}})(),f=i})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callMiniProgramOrPluginFunction:()=>d,callSystemFunction:()=>u,callThirdPartyFunction:()=>f,convertStack:()=>a,endSystemFunctionCall:()=>l,findCurrentSource:()=>s,startSystemFunctionCall:()=>c,surroundThirdByTryCatch:()=>m,wrapMiniProgramOrPluginFunction:()=>g,wrapSystemFunction:()=>p,wrapThirdPartyFunction:()=>y,wrapperStack:()=>n});var r=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,n=[];function a(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,a=n.length-1,i=0;i>=0&&a>=0;){var s=r.length,c=0;for(var l in o)if(o[l]){var u=r.indexOf(o[l],i);u<0||s<=u||(s=u,c=o[l].length)}if(s>=r.length)break;var p=`at <${n[a--].description}>`;r=r.slice(0,s)+p+r.slice(s+c),i=s+p.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var o={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function i(e){var t=((new Error).stack||"").match(/.+/gm),n="",a=0;t&&t.forEach((e=>{if(r.test(e)&&2===(a+=1)){var t=e.match(/^(\s*)at /),o=t?t[1].length:0;return n=e.slice(o),!1}return!0})),o[e]=n}function s(){for(var e="",t=n.length-1;t>=0;t--)n[t].pluginAppId&&(e=n[t].pluginAppId);return e}var c=e=>{null===o.wrapSystemFunction&&(o.wrapSystemFunction="",p("","",i)("wrapSystemFunction")),n.push({description:e})},l=()=>{n.pop()};function u(e,t,r,c,l,u=!1){var d;null===o.wrapSystemFunction&&(o.wrapSystemFunction="",p("","",i)("wrapSystemFunction")),n.push({description:t});try{d=r.apply(c,l)}catch(t){if(a(t)){if("AppServiceSdkKnownError"===t.type)throw n.pop(),t;if("ThirdScriptError"===t.type){var f=s();v.thirdErrorReport({error:t,source:f,triggerErrorCallback:!u})}else v.errorReport({key:e,error:t,triggerErrorCallback:!u})}if(u)throw n.pop(),t}return n.pop(),d}function p(e,t,r,n=!1){return function(...a){return u(e,t,r,this,a,n)}}function d(e,t,r,s,c,l=!1){var u;null===o.wrapMiniProgramOrPluginFunction&&(o.wrapMiniProgramOrPluginFunction="",g("","",i)("wrapMiniProgramOrPluginFunction")),n.push({description:t,pluginAppId:e});try{u=r.apply(s,c)}catch(t){if(a(t)&&v.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!l}),l)throw n.pop(),t}return n.pop(),u}function f(e,t,r,n,a=!1){return d(s(),e,t,r,n,a)}function g(e,t,r,n=!1){return function(...a){return d(e,t,r,this,a,n)}}function y(e,t,r=!1){return function(...n){return d(s(),e,t,this,n,r)}}function m(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",a=e||function(){};return function(...e){return d(s(),n,a,a,e,!1)}}h=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{e.d(r,{default:()=>ue});var a={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3,APP_SUBCONTEXT:4},s={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,AccelerateNetwork:30769,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,MiniprogramInnerComponentUse:30314,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,PrivacyPopup:29666,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,BLEDevices:29065,BLEMeshDevices:29512,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,MiniprogramLiveActivityButtonDoEvilCheck:28893,MiniprogramWebviewExportUrl:30247,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,getPhoneNumberReport:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458,Wxobs:28554,IntersectionObserverUsage:28808,MiniProgramWebviewSlowFrame:29061,MiniProgramCommercialMap:29170,AiadAnalyse:29503,VirtualPayment:30164,WeAppXNetInvoke:29870,ProductRecommand:30343,AIADPreview:31127,AiAdError:31167,Authorize:31228,ExitDramaEdu:31431,SystemComponentLazyLoad:29852,InnerDiskStatInfo:31439,operateWXDataProfile:31695,ClientCallbackProfile:32334,WxappBackInterception:32260,UserAction:32193,UserConfig:32198,WebVitalsINP:32217,WebVitalsStutter:32366,OpenOfficialAccountArticle:32359,MiniProgramJumpWxstore:32916,AIADLoad:33015,AIADVision:33042,UpdateManager:33259,Translate:33441},c={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},u={apiCallback:1,pageInvoke:2,widgetInvoke:3,appInvoke:4},p={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14,appSubContextThirdScriptError:15,appSubContextSDKScriptError:16},d={[a.APP]:"thirdScriptError",[a.APP_SUBCONTEXT]:"appSubContextThirdScriptError",[a.WIDGET]:"widgetThirdScriptError",[a.GAME]:"gameThirdScriptError",[a.GAME_SUBCONTEXT]:"gameSubContextThirdScriptError"};var f={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},v=0;function g(){var e=0;return{get(){if(e>0)return e;if(0===v)throw Error("initTime not ready");return e=v},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==i?i.onLoad((()=>{f.offset=Date.now(),v=Date.now()})):(f.offset=Date.now(),v=Date.now());class y{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=e,this.REPORT_DECREASE_RATE=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.periodStartTime=g(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this.currentMiniPeriodReportCount=0,this.currentPeriodReportQueue=[],this._currentMiniPeriodFlag=1,this._lastReportTime=g(),this._periods=parseInt(this.PERIOD_TIME/this.BATCH_KEYVALUE_INTERVAL,10)}get _currentMiniPeriod(){var e=this._evaluateCurrentMiniPeriodBatch();return this._currentMiniPeriodFlag!==e?(this._currentMiniPeriodFlag=e,this.currentPeriodSurplusReportCount-=this.currentMiniPeriodReportCount,this.currentMiniPeriodReportCount=0,this._currentMiniPeriod):e}_evaluateCurrentMiniPeriodBatch(){for(var e=this.periodStartTime.since(),t=1;t<=this._periods;t++)if(e<this.BATCH_KEYVALUE_INTERVAL*t)return t;return this._periods}get _currentMiniPeriodMaxReportCount(){return this.periodStartTime.since()>this.PERIOD_TIME?(this.periodStartTime.reset(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this._currentMiniPeriodMaxReportCount):this._currentMiniPeriod===this._periods?this.currentPeriodSurplusReportCount:parseInt(this.currentPeriodSurplusReportCount*this.REPORT_DECREASE_RATE,10)}pushReportQueue(e,t=!1){this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount?t&&(this.currentPeriodReportQueue.unshift(e),this.currentPeriodReportQueue.pop()):(this.currentPeriodReportQueue.push(e),this.currentMiniPeriodReportCount++)}attemptReportAndGetReportMsgs(e=!1){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){if(!this.currentPeriodReportQueue.length)return[];var r=this.currentPeriodReportQueue.splice(0,this.currentPeriodReportQueue.length);return this._lastReportTime.set(t),r}return[]}isLimit(){return this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount}}class m{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.keyStr=e,this._lastReportTime=g(),this._periodStartTime=g(),this._periodReportCountMP={},this.cacheMP={}}pushReportQueue(e,t=!1){var r=e[this.keyStr];this.cacheMP[r]||(this.cacheMP[r]=[]),this._periodReportCountMP[r]||(this._periodReportCountMP[r]=0),this._periodReportCountMP[r]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE?t&&(this.cacheMP[r].unshift(e),this.cacheMP[r].pop()):(this._periodReportCountMP[r]++,this.cacheMP[r].push(e))}isLimit(e){return this._periodReportCountMP[e]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE}attemptReportAndGetReportMsgs(e){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){var r=Array.prototype.concat.call([],...Object.values(this.cacheMP));return Object.keys(this.cacheMP).forEach((e=>{this.cacheMP[e].length=0})),this._lastReportTime.set(t),t-this._periodStartTime.get()>this.PERIOD_TIME&&(this._periodStartTime.set(t),this._periodReportCountMP={},this.cacheMP={}),r}return[]}}class _{constructor(e,t,r,n){this.reportTime=g(),this.continueDecreaseReportLimitStrategys={},this.reportLimitStrategy=new m(e,t,r,n),this.BATCH_KEYVALUE_INTERVAL=t,this.keyStr=e}shouldReport(){return this.reportTime.since()>=this.BATCH_KEYVALUE_INTERVAL}setContinueDecreaseReportLimitStrategyKey(e,t,r,n,a){this.continueDecreaseReportLimitStrategys[e]=new y(t,r,n,a)}pushReportQueue(e,t){var r=e[this.keyStr];r in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[r].pushReportQueue(e,t):this.reportLimitStrategy.pushReportQueue(e,t)}attemptReportAndGetReportMsgs(e){if(e||this.shouldReport()){var t=this.reportLimitStrategy.attemptReportAndGetReportMsgs(e),r=Object.values(this.continueDecreaseReportLimitStrategys).reduce(((e,t)=>(e.push(...t.attemptReportAndGetReportMsgs()),e)),[]);return this.reportTime.reset(),t.concat(r)}return[]}isLimit(e){return e in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[e].isLimit():this.reportLimitStrategy.isLimit(e)}}var b=()=>{w!==o&&void 0!==w&&Object.assign(w,o)},w=(()=>(o.onReady(b),o))();const k=w;var S=(()=>k.platform)(),I=(()=>"devtools"===S)(),C=(()=>"ios"===S)();function T(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),n=t.split("."),a=Math.max(r.length,n.length);r.length<a;)r.push("0");for(;n.length<a;)n.push("0");for(var o=0;o<a;o++){var i=parseInt(r[o],10),s=parseInt(n[o],10);if(i>s)return 1;if(i<s)return-1}return 0}var x=(()=>Object.prototype.toString)(),A=n.prototype.call.bind(x);function P(e){return A(e).slice(8,-1)}var E=6e4,O=15e3;function M(...e){l.invoke(...e)}var R={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,appSubContextThirdScriptError:191,appSubContextSDKScriptError:192,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,writeBLECharacteristicValue_fail:206,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,insertMapToWebLayer_fail:171,insertMapToWebLayer_succ:172,insertLiveToWebLayer_fail:178,insertLiveToWebLayer_succ:179,insertCanvas2dToWebLayer_fail:180,insertCanvas2dToWebLayer_succ:181,insertWebGLToWebLayer_fail:187,insertWebGLToWebLayer_succ:186,insertVideo2ToWebLayer_fail:182,insertVideo2ToWebLayer_succ:183,insertCameraToWebLayer_fail:184,insertCameraToWebLayer_succ:185,insertTextareaToWebLayer_fail:189,insertTextareaToWebLayer_succ:188,showImageOperateSheet_fail:190,audioInstancesCountReach1024:170,bindUDP:173,sendUDPMessage:174,receiveUDPMessage:175,UDPError:176,sendUDPMessageToInvalidAddress:177,clientLibVersionNotMatch:205,subContextLibVersionNotMatch:207,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203,webviewBizDomainFetch_fail:208,webviewBizDomainSkipReturn:209,demoEnterHomePage:210,demoConfigRepeat:211,getUserInteractiveStorage:212,modifyFriendInteractiveStorage:213,modifyFriendInteractiveStorageShowModal:214,modifyFriendInteractiveStorageConfirm:215,modifyFriendInteractiveStorageCancel:216,disableLivePlayer:220,disableLivePusher:221,disableVideo:222,asyncApiCost:226,asyncApiCount:227,requestSubscribeMessageWithNative:230,requestSubscribeMessageWithNativeSuccess:231,requestSubscribeMessageWithNativeFail:232,pageNotFound:234,tradeServiceGetPermissionBytesSuccess:235,tradeServiceGetPermissionBytesFail:236,tradeServiceCanUse:237,tradeServiceCanNotUse:238,tradeServiceTapCard:239,midasLaunchFeatureFail:240,createNormalWorker:241,createWKWorker:242,onWorkerWebViewTerminate:244,loadGameIndependentSubPackageFail:243,requestPaymentCheckTicketCount:245,requestPaymentCheckTicketFail:246,requestPaymentCheckTicketTimeout:247,useLaunchExptInfo:249,useOriginLaunchExptInfo:250,useContactExptInfo:251,reportEventInvoke:252,readdirTraverseRootDir:253,useWxProtobuf:254,useWxLanDebug:255},D={call:80,call_success:81,call_fail:82,insert_with_cache:83,insert_without_cache:84,try_insert_general_ad:118,try_insert_general_ad_success:119};Array(25).fill(0).forEach(((e,t)=>{D[`polyfill_${t+1}`]=t}));var L=new _("id",O,100,E);function N(e){k.onReady((()=>{M("reportIDKey",{dataArray:e,noCallback:!0})}))}function j(e,t,r,n=!1){if(Number.isInteger(e)&&!(!Number.isInteger(t)||t<0||t>255)){L.pushReportQueue({id:e,key:t,value:r});var a=L.attemptReportAndGetReportMsgs(n);a.length&&N(a)}}function W(){var e=L.attemptReportAndGetReportMsgs(!0);e.length&&N(e)}var F=[],$=0,B=0,U=0,q={},H={},G={},V=new _("key",O,100,E);function J(e){k.onReady((()=>{M("reportKeyValue",{dataArray:e,noCallback:!0})}))}function K(){k.onReady((()=>{!F||F.length<=0||(M("systemLog",{dataArray:F,noCallback:!0}),F=[])}))}function z(e){var t=k&&k.appContactInfo&&k.appContactInfo.call_plugin_info;if(!t||!Array.isArray(t))return 0;var r=t.find((t=>t.plugin_id===e));return r&&void 0!==r.inner_version?r.inner_version:0}V.setContinueDecreaseReportLimitStrategyKey(18042,O,.5,100,E);var Q=()=>{},Z=()=>{},X=()=>{},Y=()=>{},ee="",te={},re=-1,ne=0,ae=a.APP,oe="",ie=0;"function"==typeof k.onReady&&k.onReady((()=>{void 0!==k.appType&&(re=k.appType),"object"==typeof k.appLaunchInfo&&(ne=k.appLaunchInfo.scene);var e=k.networkType;e?oe=e:l.invoke("getNetworkType",{},(e=>{e&&e.networkType&&(oe=e.networkType)})),C&&void 0!==k.version&&T(k.version,"8.0.51")>=0&&(ie=1),"function"==typeof l.addEventListener&&(l.addEventListener("onNetworkStatusChange",(e=>{oe=e.networkType})),ie>=1&&l.addEventListener("onGameRenderFirstScreen",(()=>{ie=2})))}));var se={surroundThirdByTryCatch:h.surroundThirdByTryCatch,slowReport:({key:e,cost:t,extend:r,force:n})=>{var a=u[e],o=Date.now();if(a&&(n||!(o-U<500))&&!(Object.keys(G).length>50||(G[r]||(G[r]=0),G[r]++,G[r]>3))){U=o;var i=`${t},${encodeURIComponent(r)},${a},${se.getAppType()}`;se.reportKeyValue({key:"Slow",value:i})}},isLimitReport:e=>V.isLimit(e),speedReport:({key:e,data:t,timeMark:r,force:n})=>{var a=c[e],o=Date.now(),i=0,s=r.nativeTime;if(a&&(n||!(o-(q[a]||0)<500))&&r.startTime&&r.endTime&&(1!==a&&2!==a||s)){t&&(i=JSON.stringify(t).length),q[a]=o;var l=`${a},${r.startTime},${s},${s},${r.endTime},${i},${se.getAppType()}`;se.reportKeyValue({key:"Speed",value:l})}},reportQualityData(e,t,r,n=[]){var a=r-t;a<0&&(a=0),M("reportKeyValue",{version:2,dataArray:[{key:s[e],value:[a,ne,t,r,...n].join(",")}],noCallback:!0})},reportQualityData2(e,t=[]){M("reportKeyValue",{version:2,dataArray:[{key:s[e],value:t.join(",")}],noCallback:!0})},flushReportKeyValueList:()=>{var e=V.attemptReportAndGetReportMsgs(!0);e.length&&J(e)},reportKeyValue:({key:e,value:t,immediately:r=!1,number:n=!1})=>{if(n||s[e]){V.pushReportQueue({key:n?e:s[e],value:t},r);var a=V.attemptReportAndGetReportMsgs(r);a.length&&J(a)}},flushReportIDKeyList:W,reportIDKey:function({id:e,key:t,value:r=1,force:n=!1,type:a}){var o;if("aiad"===a){if(!D[t])return;o=D[t]}else{if(!R[t])return;o=R[t]}e||"aiad"===a&&(e=2059),j(e||(C?356:358),o,r,n)},reportIDKeyDirectly:function({id:e,key:t,immediately:r=!1}){void 0!==t&&356!==e&&358!==e&&j(e,t=+t,1,r)},assertWithIDKey:function(e,t,r=1){e||j(1872,t,r,!0)},reportFrameworkIDKey:function(e,t=1){j(1874,e,t)},thirdErrorReport:({key:e=ae,error:t,triggerErrorCallback:r=!0,isUnhandledRejection:n=!1,promise:a,source:o="",isOpenDataContextError:i=!1})=>{se.errorReport({key:d[e],error:t,triggerErrorCallback:r,isThirdScriptError:!0,isUnhandledRejection:n,promise:a,source:o,isOpenDataContextError:i})},errorReport:({key:e,error:r,isThirdScriptError:n=!1,triggerErrorCallback:o=!0,isUnhandledRejection:i=!1,promise:s,source:c="",isOpenDataContextError:u=!1,extra:d=""})=>{if(p[e]&&r){var f,h;"function"==typeof __wxSourceMapRetrace__&&(r=__wxSourceMapRetrace__(r)),"object"==typeof r&&(r.message||r.stack)?(f=r.message,h=r.stack):(f=function(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}(r),h=P(r));var v=n?"MiniProgramError":`SystemError (${e})`,g=f,y="";r.name&&0!==(h||"").indexOf(r.name)&&(y="\n"+r.name+": "+g);var m=`${v}\n${g}${y}\n${h}`;if(I){var _=new Error(`${v}\n${g}`);"object"==typeof r&&void 0!==r.name&&Object.defineProperty(_,"name",{value:r.name}),"object"==typeof r&&void 0!==r.stack&&Object.defineProperty(_,"stack",{value:r.stack}),console.error(_)}else i?console.error("(in promise) "+m):console.error(m);if(!(u||m.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(...e){l.publish(...e)}("WEBVIEW_ERROR_MSG",{data:{msg:m},options:{timestamp:Date.now()}}):o&&(se.triggerErrorMessage(m,i,r,s),n&&se.triggerThirdErrorMessage(m,i,r,s)),Object.keys(H).length>50||i&&"Error"!==P(r)))){var b="",w="";ae!==a.APP&&ae!==a.GAME||(b=ee,w=function(e){var t="";return Object.keys(e).forEach(((r,n)=>{0!==n&&(t+="&");try{t+=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}catch(e){}})),t}(te));var k=0;if(1004===se.getAppType()&&n)try{oe=__appServiceSDK__.getGameRelatedContextsExports().game._getCurrentNetworkType();var S=r.stackInfoArr;if(delete r.stackInfoArr,S){var C=S.find((e=>"usr"===e.type));if(C&&"__plugin__"===C.package&&"string"==typeof C.file){var T=C.file.split("/");k=z(c=T&&T[0])}}}catch(_){}else k=c.match(/wx[0-9a-f]{16}/)?z(c):0;var x=[p[e],r.name,...[g,h,void 0!==t&&t.version||"",se.getAppType(),b,w,void 0!==t&&t.updateTime||"","",i?1:0,c,k,oe,d,ie].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t}))].join(",");if(H[x]||(H[x]=0),H[x]++,!(n&&H[x]>3||H[x]>3)){se.reportIDKey({key:e}),se.reportKeyValue({key:"Error",value:x});var A=V.attemptReportAndGetReportMsgs(!0);A.length&&J(A),W(),K()}}}},log:(e,t)=>{e&&"string"==typeof e&&(!t&&Date.now()-$<50||($=Date.now(),F.push(e+""),F.length>=50&&K()))},submit:()=>{Date.now()-B<50||(B=Date.now(),W(),J(V.attemptReportAndGetReportMsgs(!0)),K())},registerErrorListener:e=>{"function"==typeof e&&(Q=e)},registerThirdErrorListener:e=>{"function"==typeof e&&(Z=e)},registerUnhandledRejectionListener:e=>{"function"==typeof e&&(X=e)},registerThirdUnhandledRejectionListener:e=>{"function"==typeof e&&(Y=e)},triggerErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?X(r,n):Q(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},triggerThirdErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?Y(r,n):Z(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},setAsWidget:()=>{ae=a.WIDGET},setAsGame:()=>{ae=a.GAME},setAsGameSubContext:()=>{ae=a.GAME_SUBCONTEXT},getAppType:()=>-1===re?0:re+1e3},ce={};function le(e){Object.defineProperty(ce,e,{get(){return t=se[e],function(...e){try{return t.apply(t,e)}catch(e){return void console.error("reporter error:"+e.message,e.stack)}};var t},configurable:!0,enumerable:!0})}Object.keys(se).forEach((e=>{le(e)})),Object.defineProperty(ce,"__route__",{set(e){ee=e}}),Object.defineProperty(ce,"__method__",{set(){}}),Object.defineProperty(ce,"__query__",{set(e){te=e}}),ce.RunType=a,"undefined"!=typeof window&&Object.defineProperty(window,"onbeforeunload",{configurable:!0,enumerable:!0,writable:!0,value(){se.submit()}});const ue=ce})(),v=r.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>N});var r,a,s,c,l,u,p,d,f,h,v,y,m,_,b,k=Object.prototype.toString,S=(Object.getPrototypeOf,Object.getOwnPropertyNames,Object.getOwnPropertyDescriptor,Object.defineProperty,{}),I={},C=[],T=0,x=[],A=(e,t,n)=>{if(void 0!==t&&void 0!==e&&e===r){var a=void 0!==n?n:++T;return m=a,I[a]=t,C.push(a),x.forEach((e=>{"function"==typeof e&&e(a)})),a}},P=(e,t,n,a)=>{if(void 0!==e&&e===r){var o=(e=>{for(var t=C.length,r=0;r<t;r++){var n=C[r];if(I[n]===e)return n}})(t);if(void 0!==o){var i=S[n];return"function"==typeof i?i(a,o):void 0}}},E=(e,t)=>{S[e]=t},O=(e,t)=>{if(void 0===f||"function"!=typeof f)return"failed: loadLibFiles not supported";if("devtools"===o.platform&&"number"!=typeof h)return"failed: loadLibFiles not supported";try{if(0===f.call(r,e,JSON.stringify(t)))throw`WAFiles: ${t} is not exist.`;return"success"}catch(e){return"failed: "+e}},M=(e,t,r)=>{if("android"===o.platform||"ios"===o.platform||"devtools"===o.platform||"windows"===o.platform||"mac"===o.platform||"mina"===o.platform){var n=Date.now(),a=O(null!=r?r:1,[e]);w.info(`inject subPackage: ${e} coast: `,Date.now()-n),t(a)}else w.error("不支持loadJSFiles")},R={},D={__init__:e=>{void 0===r&&void 0!==e&&((r=e).register=A,r.subscribeHandler=P,a=r.alloc,s=r.create,c=r.destroy,l=r.evaluateScriptFile,u=r.loadJsFiles,f=r.loadLibFiles,p=r.allocEmpty,d=r.allocFromSnapshot,h=r.mainContextId,v=r.errorHandler,r.waitingChannel={},y=r.notifyGameEngineReady,delete r.alloc,delete r.create,delete r.destroy,delete r.evaluateScriptFile,delete r.loadJsFiles,delete r.loadLibFiles,delete r.allocEmpty,delete r.allocFromSnapshot,delete r.mainContextId,delete r.errorHandler,delete r.notifyGameEngineReady)},publish:(e,t={},n,a)=>{var o,i=(o=t,k.call(o).split(" ")[1].split("]")[0]);if("Object"!==i&&"Undefined"!==i)throw new Error("params should be an object.");return n.map((n=>{var o=I[n];if(o)return o.subscribeHandler(r,e,t);a&&void 0!==n&&(r.waitingChannel[n]||(r.waitingChannel[n]=[]),r.waitingChannel[n].push({event:e,params:t}))}))},subscribe:E,onRegister:e=>{x.push(e)},evaluateScriptFile:(e,t,r)=>l(e,t,r),batchLoadJsFiles:(e,t,n)=>{if(void 0===u||"function"!=typeof u)return"failed: loadJsFiles not supported";var a="devtools"===o.platform?void 0:JSON.stringify(n);try{var i=u.call(r,e,JSON.stringify(t),a);return(e=>"[object Promise]"===Object.prototype.toString.call(e))(i)?i.then((()=>"success")).catch((e=>"failed: "+e)):"success"}catch(e){return"failed: "+e}},alloc:(e,t)=>"function"==typeof a?a.call(r,e,t):-9999,create:(e,t)=>"function"==typeof s?s.call(r,e,t):-9999,destroy:(e,t)=>"function"==typeof c?c(e,t):-9999,isAsync:()=>r&&!0===r.async,supportAlloc:()=>"function"==typeof a,loadLibFiles:O,allocEmpty:(e,t)=>"function"==typeof p?p.call(r,e,t):-9999,supportAllocEmpty:()=>"function"==typeof p,allocFromSnapshot:(e,t)=>{if("function"==typeof d){var n=d.call(r,e,t);return n}return-9999},supportAllocFromSnapshot:()=>"function"==typeof d,loadMainContextLibFile:M,loadSubContextLibFile:(e,t,r)=>{if(r)return M(e,t,r);w.error("loadSubContextLibFile lose subContextId")},getMainContextId:()=>h,setAppSubContextId:e=>{b=e},getAppSubContextId:()=>b,convertRealId2SdkId:e=>R[e],associateRealId2SdkId:e=>{R[e]=m},errorHandler:(e,t)=>{v?v(e,t):_?_[e]=t:(_={[e]:t},E("subContextError",(({contextId:e,err:t})=>{_[e](t)})))},notifyGameEngineReady:()=>{"function"==typeof y&&y()}};var L=D;i.onLoad((()=>{"undefined"!=typeof WeixinJSContext&&(L.__init__(WeixinJSContext),delete L.__init__,delete e.g.WeixinJSContext)}));const N=L;g=t.default})(),(()=>{var e={4081:(e,t,r)=>{"use strict";r.d(t,{Q1T:()=>o,UoO:()=>c,Wkc:()=>a,YEP:()=>n,Z9j:()=>i,tHd:()=>s});var n=101,a=1001,o=1022,i=600009,s=600010,c=1300014},1977:(e,t,r)=>{var n;e=r.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var i,s=2147483647,c=36,l=1,u=26,p=38,d=700,f=72,h=128,v="-",g=/^xn--/,y=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=c-l,w=Math.floor,k=String.fromCharCode;function S(e){throw RangeError(_[e])}function I(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function C(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+I((e=e.replace(m,".")).split("."),t).join(".")}function T(e){for(var t,r,n=[],a=0,o=e.length;a<o;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<o?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function x(e){return I(e,(function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=k(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,r){var n=0;for(e=r?w(e/d):e>>1,e+=w(e/t);e>b*u>>1;n+=c)e=w(e/b);return w(n+(b+1)*e/(e+p))}function E(e){var t,r,n,a,o,i,p,d,g,y,m,_=[],b=e.length,k=0,I=h,C=f;for((r=e.lastIndexOf(v))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&S("not-basic"),_.push(e.charCodeAt(n));for(a=r>0?r+1:0;a<b;){for(o=k,i=1,p=c;a>=b&&S("invalid-input"),((d=(m=e.charCodeAt(a++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:c)>=c||d>w((s-k)/i))&&S("overflow"),k+=d*i,!(d<(g=p<=C?l:p>=C+u?u:p-C));p+=c)i>w(s/(y=c-g))&&S("overflow"),i*=y;C=P(k-o,t=_.length+1,0==o),w(k/t)>s-I&&S("overflow"),I+=w(k/t),k%=t,_.splice(k++,0,I)}return x(_)}function O(e){var t,r,n,a,o,i,p,d,g,y,m,_,b,I,C,x=[];for(_=(e=T(e)).length,t=h,r=0,o=f,i=0;i<_;++i)(m=e[i])<128&&x.push(k(m));for(n=a=x.length,a&&x.push(v);n<_;){for(p=s,i=0;i<_;++i)(m=e[i])>=t&&m<p&&(p=m);for(p-t>w((s-r)/(b=n+1))&&S("overflow"),r+=(p-t)*b,t=p,i=0;i<_;++i)if((m=e[i])<t&&++r>s&&S("overflow"),m==t){for(d=r,g=c;!(d<(y=g<=o?l:g>=o+u?u:g-o));g+=c)C=d-y,I=c-y,x.push(k(A(y+C%I,0))),d=w(C/I);x.push(k(A(d,0))),o=P(r,b,n==a),r=0,++n}++r,++t}return x.join("")}i={version:"1.3.2",ucs2:{decode:T,encode:x},decode:E,encode:O,toASCII:function(e){return C(e,(function(e){return y.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return C(e,(function(e){return g.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}(globalThis)},8817:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,a){r=r||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(r);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var u,p,d,f,h=e[l].replace(i,"%20"),v=h.indexOf(n);v>=0?(u=h.substr(0,v),p=h.substr(v+1)):(u=h,p=""),d=decodeURIComponent(u),f=decodeURIComponent(p),t(o,d)?Array.isArray(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o}},8779:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,a){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var o=encodeURIComponent(t(a))+n;return Array.isArray(e[a])?e[a].map((function(e){return o+encodeURIComponent(t(e))})).join(r):o+encodeURIComponent(t(e[a]))})).join(r):a?encodeURIComponent(t(a))+n+encodeURIComponent(t(e)):""}},9935:(e,t,r)=>{"use strict";t.decode=t.parse=r(8817),t.encode=t.stringify=r(8779)},2517:(e,t,r)=>{"use strict";var n=r(1977),a=r(7417);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=_;var i=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),p=["%","/","?",";","#"].concat(u),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=r(9935);function _(e,t,r){if(e&&a.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var _=e=l.join(s);if(_=_.trim(),!r&&1===e.split("#").length){var b=c.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=i.exec(_);if(w){var k=(w=w[0]).toLowerCase();this.protocol=k,_=_.substr(w.length)}if(r||w||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===_.substr(0,2);!S||w&&g[w]||(_=_.substr(2),this.slashes=!0)}if(!g[w]&&(S||w&&!y[w])){for(var I,C,T=-1,x=0;x<d.length;x++){-1!==(A=_.indexOf(d[x]))&&(-1===T||A<T)&&(T=A)}-1!==(C=-1===T?_.lastIndexOf("@"):_.lastIndexOf("@",T))&&(I=_.slice(0,C),_=_.slice(C+1),this.auth=decodeURIComponent(I)),T=-1;for(x=0;x<p.length;x++){var A;-1!==(A=_.indexOf(p[x]))&&(-1===T||A<T)&&(T=A)}-1===T&&(T=_.length),this.host=_.slice(0,T),_=_.slice(T),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var E=this.hostname.split(/\./),O=(x=0,E.length);x<O;x++){var M=E[x];if(M&&!M.match(f)){for(var R="",D=0,L=M.length;D<L;D++)M.charCodeAt(D)>127?R+="x":R+=M[D];if(!R.match(f)){var N=E.slice(0,x),j=E.slice(x+1),W=M.match(h);W&&(N.push(W[1]),j.unshift(W[2])),j.length&&(_="/"+j.join(".")+_),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[k])for(x=0,O=u.length;x<O;x++){var B=u[x];if(-1!==_.indexOf(B)){var U=encodeURIComponent(B);U===B&&(U=escape(B)),_=_.split(B).join(U)}}var q=_.indexOf("#");-1!==q&&(this.hash=_.substr(q),_=_.slice(0,q));var H=_.indexOf("?");if(-1!==H?(this.search=_.substr(H),this.query=_.substr(H+1),t&&(this.query=m.parse(this.query)),_=_.slice(0,H)):t&&(this.search="",this.query={}),_&&(this.pathname=_),y[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var G=this.search||"";this.path=F+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(i=m.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(a.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(r[u]=e[u])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var p=Object.keys(e),d=0;d<p.length;d++){var f=p[d];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",m=r.search||"";r.path=v+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||_||r.host&&e.pathname,k=w,S=r.pathname&&r.pathname.split("/")||[],I=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(I&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),w=w&&(""===h[0]||""===S[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),r.search=e.search,r.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(I)r.hostname=r.host=S.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift());return r.search=e.search,r.query=e.query,a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=S.slice(-1)[0],T=(r.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,x=0,A=S.length;A>=0;A--)"."===(C=S[A])?S.splice(A,1):".."===C?(S.splice(A,1),x++):x&&(S.splice(A,1),x--);if(!w&&!k)for(;x--;x)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),T&&"/"!==S.join("/").substr(-1)&&S.push("");var P,E=""===S[0]||S[0]&&"/"===S[0].charAt(0);I&&(r.hostname=r.host=E?"":S.length?S.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift()));return(w=w||r.host&&S.length)&&!E&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},7417:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},4500:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var n=r(6342),a=r(3341),o=(e={})=>{if("Expt"===e.experimentType&&"[object Object]"===Object.prototype.toString.call(n.default.expt)){var t=n.default.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}(0,a.IN)("getABTestConfig",e)}},5125:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(9370),a=null,o=void 0,i={lastRoute:"",lastOpenType:"",lastActiveWebviewId:null,pageRenderer:"",scene:-1,sceneNote:"",query:{},rawPath:"",runningStatus:"active",openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:0,navigationBarTitleMap:{},currentNetworkType:"",isWeakNetwork:!1,singlePageData:{},openingInnerPage:!1,get currentWebviewId(){return o},set currentWebviewId(e){o=e,a&&(a(null),a=null)},currentWebviewIdPromise:new Promise((e=>{a=e})),getWebviewIds:()=>n.hr.getGlobalWebviewIds(),get hasWebViewCompnent(){return Boolean(i.webViewComponentInfo[o])},webViewComponentInfo:{},get lastActiveRoute(){if("number"!=typeof i.lastActiveWebviewId)return i.lastRoute;var e=n.hr.getPageByWebviewId(i.lastActiveWebviewId);return(null==e?void 0:e.route)||i.lastRoute}};const s=i},9105:(e,t,r)=>{"use strict";r.d(t,{Em:()=>s.Em,M8:()=>v,Nf:()=>h,RP:()=>p,iZ:()=>o.i,p9:()=>d,pD:()=>f});var n=r(6342),a=r(9370),o=r(1591),i=(r(6347),r(7445)),s=r(6142),c=/^[-+a-zA-Z0-9]+:\/\//,l=/(^|\/)__[-+a-zA-Z0-9]+__\//;function u(e){var t=e.match(c);if(!t)return e;var r=t[0];if("plugin://"===r){var i=r.length,s=e.indexOf("/",i);if(s>=0){var l=e.slice(i,s),u=n.default.plugins&&n.default.plugins[l]?n.default.plugins[l].provider:l;e=e.slice(0,i)+u+e.slice(s)}var p=e.indexOf("?");p<0&&(p=e.length);var d=e.slice(0,p),f=a.Ve.Component._list[d];if(!f)throw new o.l(`Page "${d}" is not found`);e=f.is+e.slice(p)}else if("plugin-private://"===r){var h=e.indexOf("?");h<0&&(h=e.length);var v=e.slice(0,h);e="/"+a.hr.convertComponentAliasToRoute(v)+e.slice(h)}else{if("wx://"!==r&&"wxpage://"!==r)throw new o.l(`Unknown URL protocol "${r}"`);e="/__wx__/"+e.slice(r.length)}return e}function p(e,t=""){return t=t.replace(/^\//,""),(0,i.isGame)()?`__plugin__/${e}/${t}`:u(`plugin-private://${e}/${t}`)}function d(e){var t=e.match(c),r=e.match(l),a="";if(t){var o=t[0];if("plugin://"===o){var i=o.length,s=e.indexOf("/",i);if(s>=0){var u=e.slice(i,s);a=n.default.plugins&&n.default.plugins[u]?n.default.plugins[u].provider:u}}else if("plugin-private://"===o){var p=o.length,d=e.indexOf("/",p);if(d>=0)a=e.slice(p,d)}else"wx://"===o&&(a="//")}if(r){var f=r[0];if(f.endsWith("__plugin__/")){var h=e.indexOf(f)+f.length,v=e.indexOf("/",h);if(v>=0)a=e.slice(h,v)}else f.endsWith("__wx__/")&&(a="//")}return a}function f(e){var t=e.match(c);return t?t[0]:null}function h(e){return Object.keys(e).reduce(((t,r)=>("string"==typeof e[r]?t[r]=e[r]:"number"==typeof e[r]?t[r]=e[r]+"":t[r]=Object.prototype.toString.apply(e[r]),t)),{})}function v(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},4571:(e,t,r)=>{"use strict";r.d(t,{kd:()=>c,su:()=>l});var n=r(9766),a=r(3341),o=r(8246),i="default",s=(0,n.s)("apiCategoryChange");s.onMethod,s.offMethod;function c(){return i}function l(e="default"){-1!==["default","nativeFunctionalized","browseOnly","embedded"].indexOf(e)&&(i=e)}(0,o.n)("sheetModeWindowStateChangedEvent",((e={})=>{(0,a.nY)("sheetModeWindowStateChangedEvent",e),"fullPage"===e.state&&"default"!==i&&(i="default",s.emit({apiCategory:i}))})),(0,a.Ld)("getApiCategory",(({callbackId:e},t)=>{(0,a.nY)("apiCategoryGot",{res:c(),callbackId:e},[t])}))},7849:(e,t,r)=>{"use strict";r.d(t,{_:()=>o,e:()=>a});var n={};function a(e){n=e}function o(){return n}},3013:(e,t,r)=>{"use strict";r.d(t,{T:()=>D});var n=r(3341),a=r(9661),o=r(9105),i={};const s={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:{lastShareTicket:null,get:e=>i[e],set(e,t){var r=(0,o.M8)();return i[r]={shareKey:e,shareName:t},r}},emitter:new a.Z};var c=r(6347),l=r(5125),u=r(6342),p=r(182),d=(r(9370),r(7445)),f=r(3329),h=e=>{var t,r,n=e.api.find((e=>"request"===e.name));if(n){var a=null===(t=n.req)||void 0===t?void 0:t.interpreterRules,o=null===(r=n.resp)||void 0===r?void 0:r.interpreterRules;(0,f.k)().runTask("createWeAppRequestInterpreter",{rules:{req:a,res:o,exclusive:!0},appid:u.default.accountInfo.appId}).catch((e=>{w.error("createWeAppRequestInterpreter error:",e)}))}},v=[],g=r(4571),y=r(3888),m=r.n(y),_=r(1868),b=r(8246),k=null;(0,b.n)("onMessageFromNavigateMiniProgram",(({extraData:e,appid:t})=>{k={extraData:e,appid:t}}));var S,I=()=>k,C=()=>{k=null};(0,_.NX)("postMessageToReferrerMiniProgram",function(){var e=m()((function*({extraData:e}){return(0,n.bb)("postMessageToReferrerMiniProgram",{extraData:e})}));return function(t){return e.apply(this,arguments)}}());function T(e,t){e.apiCategory=(e=>{if([1200,1201,1228].includes((t=v.filter((e=>![1038].includes(e))))[t.length-1]))return"default";var t;switch(e.mode){case"default":case"halfPage":return"nativeFunctionalized"===e.appearance?"nativeFunctionalized":"default";case"singlePage":return"browseOnly";case"embedded":return"embedded";default:return"default"}})(e),(0,g.su)(e.apiCategory),void 0===e.isTransparentBackgroundSupport&&(e.isTransparentBackgroundSupport=u.default.isTransparentBackgroundSupport)}r(1105);var x=r(7849);(0,n.Ld)("getEnterAppInfo",(({callbackId:e},t)=>{(0,n.nY)("appEnterInfoGot",{res:(0,x._)(),callbackId:e},[t])}));var A,P,E,O=r(9766),M=r(8602);u.default.onReady((()=>{l.Z.scene=A=u.default.appLaunchInfo.scene,l.Z.sceneNote=u.default.appLaunchInfo.scene_note}));var R=(0,O.s)("AppEnterForeground"),D=R.internalOnMethod;function L(e){if(!(0,d.isGame)()){e=function(e={},t){if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:l.Z.query)||{},e.path=t?(0,c.Z8)(e.path):(0,c.Z8)(l.Z.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?l.Z.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:l.Z.lastShareInfo=void 0),s.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(s.appId=e.referrerInfo.appId),"object"==typeof e.shareInfo&&null!==e.shareInfo){var{shareInfo:r}=e;r.shareKey&&r.shareName&&((0,n.IN)("showUpdatableMessageSubscribeButton",{shareKey:r.shareKey}),e.shareTicket=s.ShareInfoStorage.set(r.shareKey,r.shareName),s.ShareInfoStorage.lastShareTicket=e.shareTicket)}return 1044!==e.scene||e.chatroomUsername||(e.scene=1007),e}(e,!1),(0,x.e)(e);var t=function(e={},t){var r,n;0===(e=Object.assign({},e)).scene?e.scene=S:S=e.scene;var a=e.scene;1003===a?a=1089:1131===a||1158!==a&&1159!==a&&1160!==a||!(0,p.J)("getGroupToolbarInfo")&&(a=1008),[1106,1005,1006,1027,1042].indexOf(a)>-1&&(e.referrerInfo.appId=null),1092===a&&"wxf8df44389465ee03"===(null===u.default||void 0===u.default||null===(r=u.default.accountInfo)||void 0===r?void 0:r.appId)&&(a=1037);var o=I();C();var i=e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:null!==(n=e.referrerInfo.extraData)&&void 0!==n?n:o&&o.appid===e.referrerInfo.appId?o.extraData:void 0}:{};1092===a&&i.extraData&&i.extraData.csSessionId&&i.extraData._reportInfo&&("undefined"==typeof __userActionTracer__||__userActionTracer__.shouldStartReport()&&!__userActionTracer__.shouldUpdateReportInfo(i.extraData.csSessionId)||(w.info("ca report startegy:",i.extraData._reportInfo),__userActionTracer__.convertReportInfo2Strategys(i.extraData._reportInfo),__userActionTracer__.startActionChainReport(),__userActionTracer__.setSessionId(i.extraData.csSessionId),__userActionTracer__.setEventJoinInterval(i.extraData._reportInfo.eventJoinInterval),__userActionTracer__.setAsyncCallbackJoinEventInterval(i.extraData._reportInfo.asyncCallbackJoinEventInterval),__userActionTracer__.setReportSetting({reportCache:i.extraData._reportInfo.reportCache,reportInterval:i.extraData._reportInfo.reportInterval}),__userActionTracer__.protectActionReporter(),h(i.extraData._reportInfo))),e.referrerInfo.privateExtraData&&e.referrerInfo.privateExtraData.__pluginAppId&&(e.referrerInfo.appId&&(i.pluginAppId=e.referrerInfo.privateExtraData.__pluginAppId),delete e.referrerInfo.privateExtraData.__pluginAppId,0===Object.keys(e.referrerInfo.privateExtraData).length&&delete e.referrerInfo.privateExtraData);var s={path:e.path,query:e.query,scene:a,shareTicket:e.shareTicket,referrerInfo:i};e.chatroomUsername&&1156===a&&(s.chatroomUsername=e.chatroomUsername),e.chatType&&(s.chatType=e.chatType);var c,l,f=e.nativeExtraData||{};return e.hostExtraData&&(s.hostExtraData=e.hostExtraData),f.location&&(s.locationInfo=f.location),((0,d.isFakeNativeApp)()||(0,d.isWXStoreApp)())&&(e.nativeExtraData&&(s.nativeExtraData=e.nativeExtraData),null!==(c=e)&&void 0!==c&&null!==(l=c.referrerInfo)&&void 0!==l&&l.privateExtraData&&(s.privateExtraData=e.referrerInfo.privateExtraData),s.sessionId=e.sessionid||e.sessionId,s.isLaunch=e.isLaunch,e.isLaunch&&(s.prerender=!!u.default.prerender),s.clickTimestamp=e.clickTimestamp,s.preloadType=t),(0,d.isFakeNativeApp)()&&(e.isLaunch?s.userConfig=u.default.userConfig:s.userConfig=e.userConfig),e.mode&&(s.mode=e.mode),e.apiCategory&&(s.apiCategory=e.apiCategory),1173===a&&(f.mimeType?s.forwardMaterials=[{type:f.mimeType,path:f.materialPath,name:f.materialName,size:f.materialSize}]:Array.isArray(f.materials)&&(s.forwardMaterials=f.materials)),1226===a&&f.iot&&(s.iot=f.iot),e.isTransparentBackgroundSupport&&(s.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),s.referrerInfo&&"wxb6d22f922f37b35a"===s.referrerInfo.appId&&(s.referrerInfo={}),s}(e);e.__public=function(e,t=""){if((0,o.p9)(e.path||"")===t)return e;var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),e.apiCategory&&(r.apiCategory=e.apiCategory),(0,d.isWXStoreApp)()&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),e.isTransparentBackgroundSupport&&(r.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),r}(t,""),w.info("[EnterOptions] set enterOptions by onAppEnterForeground"),t,M.Z.set("api_call_from_hot_boot_time",Date.now(),!0),R.emit(e),l.Z.scene=e.scene,l.Z.sceneNote=e.scene_note}}var N=e=>e&&e.referrerInfo&&"wx6bd2fb149a93a9c5"===e.referrerInfo.appId&&e.referrerInfo.extraData&&"boolean"==typeof e.referrerInfo.extraData.isSuccess;(0,b.n)("onAppEnterForeground",((e={})=>{if(d.IS_ANDROID)if(N(e)){var t=JSON.stringify(e.referrerInfo.extraData);if(P!==t)return void(P=t);P=t,e.scene=A,delete e.referrerInfo}else A=e.scene;else if(d.IS_IOS)if(1038===e.scene){if(N(e))return void(E=!0);var r;null!=e&&null!==(r=e.referrerInfo)&&void 0!==r&&r.appId?(E=!1,A=e.scene):E?e.scene=A:A=e.scene}else A=e.scene;var a=e.debugLaunchInfo||{};Object.assign(e,a),delete e.debugLaunchInfo;var i,c=1===e.reLaunch||!0===e.reLaunch;w.info(`[onAppEnterForeground] isReLaunch=${c}`),i=e.scene,v.push(i),T(e);var l=(0,o.pD)(e.path);if("wxpage://"===l&&(e.path="__wx__/"+e.path.slice(l.length)),c){var p=t=>{w.info(`[onAppEnterForeground] get onAppRoute [${t}], prerender=${u.default.prerender}`),"appLaunch"!==t.openType||!0!==u.default.prerender?(w.info("[onAppEnterForeground] emit enterForeground"),L(e)):s.emitter.once("onAppRoute",p)};s.emitter.once("onAppRoute",p)}else L(e);(0,n.nY)("onAppEnterForeground",e)}))},8171:(e,t,r)=>{"use strict";r.d(t,{Vl:()=>v,PL:()=>h,PQ:()=>f});var n=r(3341),a=(JSON.parse,JSON.stringify,r(9766)),o=r(6342),i=r(5125),s="",c=!1,l=(0,a.s)("networkstatusChange"),u=(0,a.s)("networkWeakChange"),p=(0,a.s)("networkTypeReady"),d=e=>{(0,n.IN)("getNetworkType",e,{beforeAll(e){e.weakNet=i.Z.isWeakNetwork}})},f=l.onMethod,h=(l.offMethod,u.onMethod,u.offMethod,()=>s),v=(p.onMethod,()=>c);"undefined"!=typeof IS_SDK_PACKAGE||(0,n.jQ)("onNetworkStatusChange",((e={})=>{s=e.networkType,e.signalStrength,i.Z.currentNetworkType=s,l.emit(e),(0,n.nY)("onNetworkStatusChange",e)})),o.default.onReady((()=>{o.default.networkType&&(s=o.default.networkType),d({success(e){s=e.networkType,e.signalStrength,i.Z.currentNetworkType=s,c=e.hasSystemProxy,p.emit(s)}})}))},127:(e,t,r)=>{"use strict";r.d(t,{mw:()=>a.mw,xI:()=>n.x});var n=r(5748),a=r(2219)},2219:(e,t,r)=>{"use strict";r.d(t,{Oo:()=>l,mw:()=>u});var n=r(6342),a=r(4761),o=r(5748),i=null,s=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];n.default.onReady((()=>{i={};for(var e=0;e<s.length;e++){if(!(s[e]in n.default)){i=(0,a.m)();break}i[s[e]]=n.default[s[e]]}if(n.default.screenHeight&&n.default.screenWidth)n.default.screenWidth,n.default.screenHeight;else{var t=(0,a.m)();t.screenWidth,t.screenHeight}}));var c,l=()=>n.default.isReady?Object.assign({},i):((new Error).stack,{}),u=(...e)=>{if(c)return c;if(!0===e[0]){if(i)return i;c=(0,o.x)()}else c=(0,o.x)();return c}},4761:(e,t,r)=>{"use strict";r.d(t,{F:()=>i,m:()=>o});var n,a=r(5748),o=()=>n||(n=Object.assign({},(0,a.x)())),i=e=>{delete(n=Object.assign({},e)).errMsg}},5748:(e,t,r)=>{"use strict";r.d(t,{x:()=>v});var n,a,o,i=r(3341),s=JSON.parse,c=JSON.stringify,l=r(9806),u=r(7445),p=r(6342),d=p.default.SDKVersion,f=r(4761),h=(n="getSystemInfo",a=e=>{p.default.isReady||(new Error).stack,(0,i.IN)("getSystemInfo",e,{beforeSuccess:e=>{(e=>{var t=u.PLATFORM;if(u.IS_IOS&&(e.brand="iPhone"),u.IS_DEVTOOLS&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=d,e.enableDebug=Boolean(p.default.debug),p.default.devicePixelRatio&&(e.devicePixelRatio=p.default.devicePixelRatio),p.default.theme&&(e.theme=p.default.theme),p.default.host&&(e.host=p.default.host),p.default.appLaunchInfo&&p.default.appLaunchInfo.mode&&(e.mode=p.default.appLaunchInfo.mode),u.IS_ANDROID&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),(0,l.Av)()&&!(0,u.isGame)()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),u.WK_RENDERER_H5&&(e.renderer="h5"),u.IS_IOS&&e.model&&0===e.model.indexOf("unknown")){var r=e.model.match(/^unknown<([^>]*)>$/),n=r&&r[1];n&&("iPhone15,4"===n?e.model=`iPhone 15<${n}>`:"iPhone15,5"===n?e.model=`iPhone 15 plus<${n}>`:"iPhone16,1"===n?e.model=`iPhone 15 pro<${n}>`:"iPhone16,2"===n&&(e.model=`iPhone 15 pro max<${n}>`))}})(e),(0,f.F)(e)}})},(e={})=>{var{success:t,fail:r}=(0,i.Rn)(e,n);if(o){var l={};try{l=s(o)}catch(e){w.error("constructCachedOptimizedSyncApi parse error",e.message)}t(l)}else a(Object.assign({},e,{success(e){try{o=c(e)}catch(e){w.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{o=void 0})),t(e)},fail(e){o=void 0,r(e)},complete:void 0}))}),v=(r(1708),()=>{var e={};return h({success(t){delete t.errMsg,e=t}}),e})},9370:(e,t,r)=>{"use strict";r.d(t,{Ve:()=>a,hr:()=>n});var n,a,o=new(r(9661).Z);o.on.bind(o,"__virtualDOM__"),o.on.bind(o,"__subContextEngineSub__"),o.on.bind(o,"__wxModule__"),o.on.bind(o,"__cloudSDK__")},7412:(e,t,r)=>{"use strict";r.d(t,{t:()=>T});var n,a=r(3888),o=r.n(a),i=r(4515),s=r(1708),c=r(158),l=r(9937),u=r(9067),p=r(5340),d=r(6659),f=r(6142),h=(0,s.k)()+" "+(0,s.n)(),g=["appendFile","appendFileSync","copyFile","copyFileSync","saveFile","saveFileSync","unzip","write","writeFile","writeFileSync","writeSync"],y={appendFile:"filePath",appendFileSync:0,copyFile:"destPath",copyFileSync:1,saveFile:"filePath",saveFileSync:1,unzip:"targetPath",writeFileSync:0,writeFile:"filePath"},m=["http://__wxprivate__","wxfile://__wxprivate__","http://sdk","wxfile://sdk","wxfile://ad"],_=function(){var e=o()((function*(e,t,r,n,a){var o=(yield t)||0,s=(yield r)||0,c=n.includes("sdk")?104857600:209715200,l=(0,f.HD)(e)?(0,u.Ei)(e):null==e?void 0:e.byteLength,p=(0,i.WQ)(a),h=o+l;s+l<p.storageLimit&&h<c||(p.autoClearAfterExceeds&&(({subDirPath:e=""})=>{(0,d.q)({filePath:e})})({subDirPath:a}),I({rootPath:n,rootSize:o,path:a,dirSize:a,isExceedsReport:!0}))}));return function(t,r,n,a,o){return e.apply(this,arguments)}}(),b={},w=new Proxy({},{get:(e,t)=>(...e)=>{var r;if(n||(r={},Object.assign(r,c.v,l.W),n=r),g.includes(t)&&!b[t]){b[t]=!0;var a=k(n[t],t);return n[t]=a,a(...e)}return n[t](...e)}}),k=(e,t)=>{var r=t.endsWith("Sync"),n={};return(...a)=>{var o=y[t],s=r?a[o]:a[0][o];s=S(s);var c=n[s]?n[s]:m.find((e=>s.includes(e)));if(!c)return e(...a);if(n[s]=c,(0,i.nl)(s)){var l=C(c),u=C(s),p=c,d=s,f=a[0].data||a[1]||"";return _(f,l,u,p,d),Math.random()<.1&&I(p,l,d,u),e(...a)}}},S=e=>{var t="";try{var r=e.split("//"),n=r[1].split("/");if(t=`${r[0]}//${n[0]}`,n.length>2)t+=`/${n[1]}`}catch(e){}return t},I=function(){var e=o()((function*(e,t,r,n,a=!1){n=n?yield n:"",t=t?yield t:"";var o=[h,r,a?"exceeds disk size":"",n,e,t].join(",");v.reportKeyValue({key:"InnerDiskStatInfo",value:o,immediately:!0})}));return function(t,r,n,a){return e.apply(this,arguments)}}(),C=function(){var e=o()((function*(e){var t=null;return yield new Promise(((r,n)=>{(0,p.lz)({path:e,recursive:!1,success:e=>{t=e.stats.size,r()},fail:e=>{n(e)}})})).catch((e=>{})),t}));return function(t){return e.apply(this,arguments)}}(),T=()=>w},4515:(e,t,r)=>{"use strict";r.d(t,{MV:()=>n,WQ:()=>l,nl:()=>s});var n={WX_CACHE_DEBUG_PREFIX:{path:"wxfile://sdk/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},MNXNET_ROOT_DIR:{path:"wxfile://sdk/mnxnet",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_MODEL_CACHE_PATH_PREFIX:{path:"wxfile://sdk/we_model",storageLimit:31457280,autoClearAfterExceeds:!1},WX_COMPILE_PREFIX:{path:"wxfile://__wxprivate__/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},PRIVACY_DIR:{path:"wxfile://__wxprivate__/privacy",storageLimit:5242880,autoClearAfterExceeds:!1},OBS_DIRECTION_PATH:{path:"wxfile://__wxprivate__/obs",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_INFO_CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/app_info",storageLimit:5242880,autoClearAfterExceeds:!1},CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/pay",storageLimit:5242880,autoClearAfterExceeds:!1},WX_SHARE_APP_MESSAGE_CACHE_PATH:{path:"wxfile://__wxprivate__/share_app_message",storageLimit:5242880,autoClearAfterExceeds:!1},WX_DEIVCE_BENCHMARK_PATH:{path:"wxfile://__wxprivate__/wx_device_benchmark",storageLimit:5242880,autoClearAfterExceeds:!1},AD_PATH:{path:"wxfile://ad",storageLimit:104857600,autoClearAfterExceeds:!1},SHORT_TV_CACHE:{path:"wxfile://__wxprivate__/short_tv",storageLimit:1048576,autoClearAfterExceeds:!0}},a={},o=[],i=Object.entries(n);function s(e){o.length||i.forEach((e=>{o.push(e[1].path)}));var t=void 0!==a[e]?a[e]:o.some((t=>e.includes(t)));return a[e]=t,!!t}var c={};function l(e){var t;if(c[e])t=c[e];else{var r,n=null!==(r=i.find((t=>t[1].path===e)))&&void 0!==r?r:[],{storageLimit:a=5242880,autoClearAfterExceeds:o=!1}=n[1]||{};t={storageLimit:a,autoClearAfterExceeds:o},c[e]=t}return t}},1821:(e,t,r)=>{"use strict";var n=r(3341),a=(r(5125),[]);(0,n.Ld)("callbackWebviewMethod",(({res:e,callbackId:t})=>{var r=a[t];delete a[t],r&&r(e)}))},6365:(e,t,r)=>{"use strict";r.d(t,{o:()=>R,S:()=>D});var n,a=r(3341),o=r(6342),i=r(5515),s=r(6345),c=r(5473),l=r(2517),u=r(7445),p=r(6142),d=e=>{try{return(0,l.Qc)(e).host}catch(e){return""}},f=(e,t)=>{var r=e.split("."),n=t.split(".");if(r.length>n.length)return!1;for(var a=1;a<=r.length;a++)if(r[r.length-a]!==n[n.length-a])return!1;return!0},h=void 0,v=()=>(n||(n=(0,c.o)().then((e=>{var t,r,n;w.info("game video getSecInfo res",e);var a=null!==(t=null==e||null===(r=e.data)||void 0===r||null===(n=r.opinfo_async)||void 0===n?void 0:n.video_domain_limit)&&void 0!==t?t:[],o=new Set;return a.forEach((e=>{Array.isArray(e.domain_list)&&e.domain_list.forEach((e=>o.add(e)))})),{videoDomainLimit:a,domainList:Array.from(o)}})).catch((e=>(w.error("game video getSecInfo error",e),{})))),n).then((({domainList:e,videoDomainLimit:t})=>((0,p.o8)(h)&&(h=!!t.length&&t.some((e=>"mmbizsecvod"===e.biz_flag))),{domainList:e,isShortTVMiniprogram:h}))),g=r(7412),y=r(4515).MV.SHORT_TV_CACHE.path,m=`${y}/localUrlMap.json`,_=!1,b=[],k=()=>{_=!1,b.forEach((e=>e())),b=[]},S=e=>0===e.indexOf("wxfile://tmp")||0===e.indexOf("http://tmp/")?216e5:1728e6,I=(e,t)=>{_=!0,v().then((({isShortTVMiniprogram:r})=>{var n;r?(n=t,v().then((({domainList:e,isShortTVMiniprogram:t})=>{if(t&&e&&e.length){var r=d(n);return!!e.every((e=>!f(e,r)))&&(0!==n.indexOf("wxfile://")&&(!u.IS_DEVTOOLS||0!==n.indexOf("http://tmp/")&&0!==n.indexOf("http://usr/"))||T(n).then((e=>!e)))}return!1}))).then((r=>{r?k():(0,s.h)({filePath:e,digestAlgorithm:"md5",success:r=>{var n=r.digest;(0,g.t)().readFile({filePath:m,encoding:"utf8",success:r=>{var a;try{a=JSON.parse(r.data)}catch(e){}if(a&&Array.isArray(a)){var o=Date.now(),i=[],s=!0;a.forEach((r=>{e===r.localUrl&&(r.expireTime=Date.now()+S(e),r.md5=n,r.remoteUrl=t,s=!1),o>r.expireTime||i.push(r)})),C(s?{md5:n,localUrl:e,remoteUrl:t}:null,i)}else C({md5:n,localUrl:e,remoteUrl:t})},fail:r=>{C({md5:n,localUrl:e,remoteUrl:t})}})},fail:e=>{k()}})})).catch((()=>{k()})):k()})).catch((()=>{k()}))},C=(e,t=[])=>{function r(){(0,g.t)().writeFile({filePath:m,encoding:"utf8",data:JSON.stringify(t),success:e=>{k()},fail:e=>{k()}})}e&&(e.expireTime=Date.now()+S(e.localUrl),t.push(e)),(0,g.t)().access({path:m,success:e=>{r()},fail:e=>{(0,g.t)().mkdir({dirPath:y,success:e=>{r()},fail:e=>{k()}})}})},T=e=>new Promise((t=>{function r(){(0,g.t)().readFile({filePath:m,encoding:"utf8",success:r=>{var n,a;try{n=JSON.parse(r.data)}catch(e){}return n&&Array.isArray(n)&&n.some((t=>e===t.localUrl&&(a=t.md5,!0)))&&a?void(0,s.h)({filePath:e,digestAlgorithm:"md5",success:e=>{var r=e.digest;return t(r===a)},fail:e=>t(!1)}):t(!1)},fail:e=>t(!1)})}_?b.push(r):r()}));(0,i.b)("Download",{maxTaskCount:10,functionName:"downloadFile"}),o.default.onReady((()=>{try{"number"==typeof o.default.wxAppInfo.maxDownloadConcurrent&&(0,i.b)("Download",{maxTaskCount:o.default.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));class x extends i.o{constructor(e){var{url:t,filePath:r,forVideoPlay:n=!0}=e;super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>{var{tempFilePath:a}=e;return e.profile&&(e.profile.usingHighPerformanceMode=!!e.profile.usingHighPerformanceMode),delete e.timeInterval,n&&I(a||r,t),e}})}}const A=x;var P=r(4237),E=r(182),O=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,a.r3)("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__,(0,E.J)("skipDomainCheck_downloadFile")&&(t.__skipDomainCheck__=!0);try{return new A(t)}catch(e){return void(0,a.YG)("downloadFile",t,e.message)}}}),M=O(),R=O({__skipDomainCheck__:!0}),D=(e={})=>{if("string"!=typeof e.filePath||!e.filePath.startsWith((0,P.WZ)()))return M(e);(0,a.YG)("downloadFile",e,"permission denied")}},5900:(e,t,r)=>{"use strict";r.d(t,{BA:()=>p,Nq:()=>l,f7:()=>c,jO:()=>u});var n=r(3341),a=r(8171),o={},i={},s={},c=(e,t,r)=>{if(s[e])return s[e];var a,i=e&&e.indexOf(":");a=(a=-1!==i?e.slice(0,i):e).toLowerCase();var c=r?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:a}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:a,service_id:t}};return s[e]=(0,n.Qh)(c).then((t=>{delete s[e];var n,{wxa_state:a,ttl:i,hit_cache:c,ip_list:l=[],ip:u}=t.data;n=null!=l&&l.length?l[0]:u;var p=l.slice(1);if(0===a)return o[e]={ip:n,expireTime:1e3*i+Date.now(),candidateIps:p},r?{...o[e],hitCache:c}:o[e];throw new Error(a)})).catch((t=>{if(!r&&("602103"==(null==t?void 0:t.errno)||"602106"==(null==t?void 0:t.errno)||"602107"==(null==t?void 0:t.errno)||"602105"==(null==t?void 0:t.errno)||"602104"==(null==t?void 0:t.errno)))return{__break__:!0,__rawError__:[t]};throw delete s[e],t})),s[e]},l=e=>{var t=o[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null},u=(e,t)=>{var r=i[e];return t?(!r||r!==t)&&(delete i[e],!0):(delete i[e],!1)},p=(e,t)=>{i[e]=t};(0,a.PQ)((()=>{o={},i={},s={}}))},7858:(e,t,r)=>{"use strict";r.d(t,{Nv:()=>P,gA:()=>x});var n=r(3888),a=r.n(n),o=r(3341),i=r(9766),s=0,c=1,l={minigamelive:s,ad:s,cloud:s,protobuf:s,ga:s,kanata:s,midas:s,pixi:s,sclengine:s,minigamePlatform:s},u=(0,r(143).v)("sclEngine"),p=!1,d=()=>{p||(p=!0,l["sclengine"]===c?u.publish("initReady"):u.advancePublish("initReady"))},f=(0,i.s)("tapAnyWhere");(0,o.Ld)("tapAnyWhere",f.emitInternal);var h=f.internalOnMethod,v=(f.internalOffMethod,f.emitInternal,!1);h((()=>{d(),v||(v=!0,y.forEach((e=>e())),y=[])}));var g,y=[],m=r(127),_=(e={})=>{((e={})=>{(0,o.IN)("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var r={};if(r.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var n=e.subscriptionsSetting.templatesInfo;r.itemSettings=n.reduce(((e,t)=>{var r={2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[t.tid],n={"-1":"ban",0:"reject",1:"accept"};return r?e[r]=n[t.status]:(e[t.templateId]=n[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=r}}})})(e)},b=r(7445),w=!1,k=void 0,S=void 0,I=void 0,C="group_forcecelluarnetwork",T=e=>k=e,x=()=>{!k||g||(0,b.isFakeNativeApp)()||(g=!0,A())},A=()=>{var e,t,{language:r}=(0,m.mw)();switch(r){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}!w&&(w=!0,1)&&(t=()=>{__sclEngine__.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{_({success:e=>{!1===e.authSetting["scope.forceCellularNetwork"]&&T(!1)}})}))}))},v?t():y.push(t))},P=function(){var e=a()((function*(){var e;if(void 0!==k)return k;try{S||(S=(0,o.Qh)({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[C]}})),e=yield S}catch(e){return!1}var t,{auth_item_list:r}=e.data;if(-1!==(t=r.findIndex((e=>e.scope===C)))){var n=r[t];if(0===n.state){yield(I||(I=(0,o.Qh)({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:C,state:1}]}})),I).then((e=>{T(!0)})).catch((e=>{}))}else 2===n.state?T(!1):1===n.state&&T(!0)}return k}));return function(){return e.apply(this,arguments)}}()},1235:(e,r,n)=>{"use strict";n.d(r,{Rg:()=>X,UF:()=>Q,ac:()=>z,jz:()=>Z,WY:()=>K});var a=n(3341),o=n(6342),i=n(5515),s=({url:e,result:t,cost:r,pointCacheType:n,errMsg:a,errno:o,host:i,fullCost:s})=>{var c=[e,t,r,n,a?encodeURIComponent(a):a,o,i,s].join(",");v.reportKeyValue({key:"WeFreeHttpDns",value:c})},c=(n(3888),n(182)),l=n(8171);n(3329),n(6142),n(6347),n(3852),n(3385);Math.random;var u,p,d,f=n(5900),h=new RegExp("name_not_resolved","i"),g=(e,t,r)=>!(0,l.Vl)()&&(!(!(0,c.J)("useFreeHttpDns")||!(e=>h.test(e.errMsg))(e))&&(Z(t,r),!0)),y=n(7858),m=n(7445),_=n(2030),b=n(1320),k=n(2417),S=n(6487),I=n(6551),C=!1;o.default.onReady((()=>{var e,t,r,n,a,i,s,c,l,f,h,v,g,y,m;(null!==(e=o.default.appContactInfo)&&void 0!==e&&null!==(t=e.stablePassThroughInfo)&&void 0!==t&&null!==(r=t.wxcloud_gateway_conf)&&void 0!==r&&r.enabled||null!==(n=o.default.appContactInfo)&&void 0!==n&&null!==(a=n.wxcloud_gateway_conf)&&void 0!==a&&a.enabled)&&(C=!0,u=null===(i=o.default.appContactInfo)||void 0===i||null===(s=i.stablePassThroughInfo)||void 0===s?void 0:s.wxcloud_gateway_conf,(p=null===(c=o.default.appContactInfo)||void 0===c||null===(l=c.passThroughInfo)||void 0===l?void 0:l.wxcloud_gateway)&&null!==(f=o.default.appContactInfo)&&void 0!==f&&null!==(h=f.stablePassThroughInfo)&&void 0!==h&&null!==(v=h.wxcloud_gateway_conf)&&void 0!==v&&v.lite_gateway_info&&(d=null===(g=o.default.appContactInfo)||void 0===g||null===(y=g.stablePassThroughInfo)||void 0===y||null===(m=y.wxcloud_gateway_conf)||void 0===m?void 0:m.lite_gateway_info))}));var T=!1;function x({options:e,res:t,task:r}){return T=!0,{args:Object.assign({},e.originArgs,{url:e.accelerateOptions.rawUrl,header:e.accelerateOptions.rawHeader,enableHttp3:e.accelerateOptions.rawEnableHttp3}),innerArgs:{__retryAccelFallback__:!0}}}function A(e){var r,n,a,i,s;try{if(d){var{host:c,args:l,options:f}=e,{accelerateOptions:h,...v}=function(e,{host:r,compatUrls:n,args:a,__retryAccelFallback__:i}){var s,c,l,d,{disableAccelerate:f,url:h,header:v}=a,g=~~(Date.now()/1e3),y=null===(s=p)||void 0===s?void 0:s.auth_info,m=null===(c=p)||void 0===c?void 0:c.user_selected,_=e.forward_info_list,b=null==_?void 0:_.find((e=>e.url_prefixes.find((e=>h.startsWith(e))))),w=t.version,k="any"===(null===(l=u)||void 0===l?void 0:l.env_version)||null===(d=u)||void 0===d?void 0:d.env_version;if(!m||!y||g>y.exp||g-y.iat>86400||k&&o.default.envVersion!==k||f||i||T||(0,I.yC)(w,e.min_lib_version)<0||!b)return i&&(T=!0),{accelerateOptions:{accelerateType:S.JL.none}};var C=u.domain,x=r,A=h.replace(x,C),P=v,E=Object.assign({},P,{"x-wx-lite-gw-token":String(y.token),"x-wx-port":String(b.port),"x-wx-route-tag":String(b.route_tag),"x-wx-rid":String(y.rid)});return{accelerateOptions:{accelerateType:S.JL.liteGatewayAcc},host:C,args:Object.assign({},a,{url:A,header:E,enableHttp3:!0}),compatUrls:Object.assign({},n,{host:C,url:A}),header:E}}(d,{host:c,args:l,compatUrls:e.compatUrls,__retryAccelFallback__:f.__retryAccelFallback__});if(h.accelerateType===S.JL.liteGatewayAcc)return Object.assign({},v,{accelerateOptions:Object.assign({},h,{rawHost:c,rawUrl:l.url,rawHeader:l.header,rawEnableHttp3:l.enableHttp3})})}}catch(e){return}if(C)if(e.host!==u.domain){if(!e.options.__skipDomainCheck__){var g=null===(r=(n=__cloudSDKMain__).getRequestMiddleware)||void 0===r?void 0:r.call(n,o.default)(e.args);return g?new Promise(((e,t)=>g(e,t))):void 0}}else if(null!==(a=e.args.useGatewayIp)&&void 0!==a&&a.enabled&&null!==(i=p)&&void 0!==i&&null!==(s=i.prefetch_ip)&&void 0!==s&&s.ip){var y,m;if(Number(p.prefetch_ip.exp)>~~(Date.now()/1e3))return e.args.useGatewayIp.state=2,{ip:null===(y=p)||void 0===y||null===(m=y.prefetch_ip)||void 0===m?void 0:m.ip,skipDNS:k.Q};e.args.useGatewayIp.state=3}else{var _;!1===(null===(_=e.args.useGatewayIp)||void 0===_?void 0:_.enabled)?e.args.useGatewayIp.state=4:e.args.useGatewayIp&&(e.args.useGatewayIp.state=1)}}var P=0,E=/custom ip is invalid/;(0,i.b)("Request",{maxTaskCount:10,functionName:"request"}),o.default.onReady((()=>{try{"number"==typeof o.default.wxAppInfo.maxRequestConcurrent&&(0,i.b)("Request",{maxTaskCount:o.default.wxAppInfo.maxRequestConcurrent})}catch(e){}}));m.IS_ANDROID;class O extends i.o{constructor(e){null==e||e.__wx_inner_uuid__;var t=null==e?void 0:e.__wx_inner_invokeTime__,r=(null==e||e.__wx_inner_request_network_type__,null==e||e.__wx_request_route_path__,null==e?void 0:e.rawHttpDnsError);null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var n={JSApiType:1,invokeTime:Date.now(),requestingCount:++P,jsApiVersion:0};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:a=>{if(a.profile&&(a.profile.usingHighPerformanceMode=!!a.profile.usingHighPerformanceMode),_.S[e.host]||(_.S[e.host]={needUpdateDns:!1,protocol:e.protocol}),r||e.exception){var o=r||e.exception;a.exception={reasons:o},(null==e?void 0:e.retryCount)>0&&(a.exception.retryCount=e.retryCount)}(0,y.gA)(),e.host&&e.ip&&(0,f.BA)(e.host,e.ip),n.isSuccess=!0,function(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}(a),function(e){e.statusCode=parseInt(e.statusCode,10)}(a),function(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,r)=>(Array.isArray(e.header[r])?t[r]=e.header[r].join(","):"string"==typeof e.header[r]&&(t[r]=e.header[r]),t)),{}))}(a),e.enableHttpDNS&&(a.useHttpDNS=!!e.ip);try{e.dataType}catch(e){w.error("checkAndReportError error:",e)}"json"===e.dataType&&R(a,e._jsonParse);if(e.__retryHttpDNS__){void 0===a.profile&&(a.profile={});var i=a.profile.domainLookUpStart-a.profile.fetchStart;a.profile.domainLookUpStart=e.lastRequestStartTime,a.profile.fetchStart=e.lastRequestStartTime-i,s({url:e.lastUrl,result:0,fullCost:Date.now()-t,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}var c=e.accelerateOptions.accelerateType;if(a.accelerateType=b.TS[c],c===b.JL.accelerate){if(a.statusCode>=400){var{args:l,innerArgs:u}=(0,b.zp)({options:e,res:a,task:this});return X(l,u),{__retry__:!0}}var p=(0,b.hw)(a);a.accelerateRequestId=p}else if(c===b.JL.liteGatewayAcc&&a.header&&a.header["x-wx-system-error"]){var{args:d,innerArgs:h}=x({options:e,res:a,task:this});return X(d,h),{__retry__:!0}}return M(a,n,e),a},beforeFail(a){var o,i=!1;if(e.enableHttpDNS&&(a.useHttpDNS=!!e.ip),n.isSuccess=!1,M(a,n,e),a.errMsg&&E.test(a.errMsg)){var c=!0,l=Date.now()-e.startTimestamp,u="number"==typeof e.timeout?e.timeout:6e4;if(l>u&&(c=!1),c){var p,d=e.__retryHttpDNS__;if(null!==(p=e.candicateIps)&&void 0!==p&&p.length){var f=e.exception;f||(f=[]),f.push({errno:600001,errmsg:a.errMsg});var h=e.candicateIps[0],v=e.candicateIps.slice(1);return X(e.originArgs,{__innerRequestOptions__:{ip:h,candicateIps:v,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:u-l,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:f,__retryHttpDNS__:d,redirect:e.redirect},__skipParse__:!0}),{__retry__:!0,__httpdns_poll__:!0}}if(e.ip&&!e.__polyfill_ldns__){var y=e.exception;return y||(y=[]),y.push({errno:600001,errmsg:a.errMsg}),X(e.originArgs,{__innerRequestOptions__:{ip:null,candicateIps:null,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:u-l,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:y,__polyfill_ldns__:!0,__retryHttpDNS__:d,redirect:e.redirect}}),{__retry__:!0,__polyfill_ldns__:!0}}}}if(e.accelerateOptions.accelerateType===b.JL.accelerate){var{args:m,innerArgs:_}=(0,b.zp)({options:e,res:a,task:this});return X(m,_),{__retry__:!0}}if(e.accelerateOptions.accelerateType===b.JL.liteGatewayAcc){var{args:w,innerArgs:k}=x({options:e,res:a,task:this});return X(w,k),{__retry__:!0}}if(e.__retryHttpDNS__){var S;s({url:e.lastUrl,result:1,fullCost:Date.now()-t,pointCacheType:e.hitCache,errMsg:a.errMsg,errno:a.errno,host:e.lastHost,cost:null!==(S=e.weHttpDNSCoast)&&void 0!==S?S:-1}),i=e.lastErrorResponse}else{var I,C=e.exception;if(g(a,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:a,lastUrl:e.url,lastHost:e.host,__polyfill_ldns__:!0,retryCount:null!==(I=e.retryCount)&&void 0!==I?I:0,exception:C}))return{__retry__:!0,__freehttpdns__:!0}}(r||e.exception)&&(o={reasons:r||e.exception},(null==e?void 0:e.retryCount)>0&&(o.retryCount=e.retryCount));return i?{__changeError__:{...i,exception:o}}:a}}),this.taskInvoker&&this.taskInvoker.jsapiVersion&&(n.jsApiVersion=this.taskInvoker.jsapiVersion)}}function M(e,t,r){var n=Date.now();if(P--,t.costTime=n-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var a=e.clientInfo;t.wxdataQueueTimestamp=a.invokeTime,t.wxdataDequeueTimestamp=a.invokeTime,t.beginCGITimestamp=a.beginCGITimestamp,t.CGICallbackTimestamp=a.CGICallbackTimestamp,t.wxlibCallbackTimestamp=a.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=n-t.wxlibCallbackTimestamp,r&&r.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo}}function R(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}const D=O;var L=new WeakMap;class N{constructor(){var e,t=new Promise((t=>{e=t}));L.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=L.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=L.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=L.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=L.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=L.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=L.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=L.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}n(1105),n(2900);var j=n(4081),W=(n(4500),{}),F=!1;function $({args:{url:e,__wx_inner_invokeTime__:t},host:r,needHttpdns:n=!1,options:{__retryHttpDNS__:a,lastErrorResponse:o,__refuseDns__:i=!1}}){var c,u;if((a||n)&&!i)if((null===(c=W[e])||void 0===c?void 0:c.count)>=4)s({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:r});else if(!(0,l.Vl)()){if(F){var p=(0,f.Nq)(r);if(p&&!1===p.expired)return u=p.ip,{host:r,ip:u,hitCache:1}}var d=Date.now();return(0,f.f7)(r,void 0,!0).then((e=>{u=e.ip;var t=e.hitCache?2:0,n=Date.now()-d;return{host:r,ip:u,banHttpDNS:!0,weHttpDNSCoast:n,hitCache:t}})).catch((n=>{if(602107!=n.errno){W[e]?W[e].count++:W[e]={count:1};var a=setTimeout((()=>{delete W[e]}),3e4);W[e].cf&&clearTimeout(W[e].cf),W[e].cf=a}throw s({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:n.errMsg||n.message||n.msg,errno:n.errno,host:r}),o}))}}(m.IS_IOS||m.IS_ANDROID)&&(F=!0);var B=({args:e})=>!0!==e.forceCellularNetwork?void(e.forceCellularNetwork&&delete e.forceCellularNetwork):(0,y.Nv)().then((t=>{if(t)return{forceCellularNetwork:!0};e.forceCellularNetwork&&delete e.forceCellularNetwork}));function U({host:e}){var t=(e=>{if(!e)return!1;if("."===e[0])return!0;for(var t,r,n=0;n<e.length;n++){if(r=e[n],"."===t&&"."===r)return!0;t=r}return!1})(e);if(t)throw new Error(`invalid host: ${e}`)}var q=!1;function H({host:e}){var t,r;return q?(null!==(t=_.S[e])&&void 0!==t&&t.needUpdateDns&&(_.S[e].doingDns||(_.S[e].doingDns=!0,X({url:`${_.S[e].protocol}//${e}`,timeout:5e3,complete(){_.S[e].doingDns=!1,_.S[e].needUpdateDns=!1}},{__refuseDns__:!0})),r=!0),{needHttpdns:r}):{needHttpdns:!1}}o.default.onReady((()=>{1===Number(o.default.expt.clicfg_appbrand_ios_dns_polyfill)&&(q=!0)}));class G{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){if(!this.catchFn)return this;var t;try{t=e(this.innerParams,this.asyncTasks)}catch(e){return this.catchFn&&this.catchFn(e),delete this.catchFn,this}if(t)if(t instanceof Promise){var r=t.then((e=>{e&&Object.assign(this.innerParams,e)}));this.asyncTasks.push(r)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.catchFn?(this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this):this}catch(e){return this.catchFn=e,this}execute(e){if(this.asyncTasks.length>0){var t=new N;return Promise.all(this.asyncTasks).then((()=>{var e=this.createRequestTask();((e,t)=>{var{resolve:r}=L.get(e);r(t)})(t,e)})).catch((t=>{this.catchFn&&this.catchFn(t),"frame"!==(null==t?void 0:t.type)?delete this.catchFn:(0,a.FE)({name:"request",args:e,errno:j.YEP,errMsg:t.data,success:!1})})),t}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:r,header:n,method:a,port:o,responseType:i,dataStr:s,options:c,forbidReuse:l,currentRequestStartTime:u,lastRequestStartTime:p,weHttpDNSCoast:d,hitCache:f,lastHost:h,lastUrl:v,__retryHttpDNS__:g,lastErrorResponse:y,candicateIps:m,startTimestamp:_,timeout:w,protocol:k,compatUrls:S,rawHttpDnsError:I,retryCount:C,exception:T,__polyfill_ldns__:x,accelerateOptions:A}=this.innerParams;try{return new D(Object.assign({},e,{header:n,method:a,responseType:i,data:s,ip:r,host:t,port:o,forbidReuse:l,currentRequestStartTime:u,lastRequestStartTime:p,originArgs:e,weHttpDNSCoast:d,hitCache:f,lastHost:h,lastUrl:v,__retryHttpDNS__:g,lastErrorResponse:y,__skipDomainCheck__:A.accelerateType===b.JL.accelerate||A.accelerateType===b.JL.liteGatewayAcc||c.__skipDomainCheck__,candicateIps:m,startTimestamp:_,timeout:w,protocol:k,compatUrls:S,rawHttpDnsError:I,retryCount:C,exception:T,__polyfill_ldns__:x,accelerateOptions:A}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var V=(e={})=>(t={},r={})=>J(Object.assign({},e,r))(t),J=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1,__innerRequestOptions__:null,__skipParse__:!1,__refuseDns__:!1,__retryAccelFallback__:!1},e),function(t={}){var r;if(t.url){try{r=(0,b.en)(t.url)}catch(e){return void(0,a.FE)({name:"request",args:t,errno:j.Z9j,errMsg:`invalid url "${t.url}"`,success:!1})}if("http:"===r.protocol||"https:"===r.protocol)if("function"!=typeof t.data){(0,c.J)("skipDomainCheck")&&(e.__skipDomainCheck__=!0);var n=new G({args:t,options:e});if(n.catch((e=>{(0,a.YG)("request",t,e.message||e.errMsg,e.errno)})).use((0,b.JU)(r)).use((({options:e={}})=>e.__skipParse__?{host:e.__innerRequestOptions__.host,protocol:e.__innerRequestOptions__.protocol,compatUrls:e.__innerRequestOptions__.compatUrls}:{host:r.host,protocol:r.protocol,compatUrls:{port:r.port||("http:"===r.protocol?80:443),host:r.hostname,url:`${r.hostname||""}${r.pathname||""}${r.search||""}${r.hash||""}`}})).use(H).use(U).use(b.dG.bind(this)).use(b.S7).use($).use(b.Dk).use(B).use(A).useAfterAsyncTasks(b.rk),n.catchFn)return n.execute(t)}else(0,a.FE)({name:"request",args:t,errno:j.tHd,errMsg:"data should not be Function",success:!1});else(0,a.FE)({name:"request",args:t,errno:j.Z9j,errMsg:`invalid url "${t.url}"`,success:!1})}else(0,a.FE)({name:"request",args:t,errno:j.Wkc,errMsg:`invalid url "${t.url}"`,success:!1})}),K=J({__skipDomainCheck__:!1}),z=J({__skipDomainCheck__:!0}),Q=J({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),Z=V({__retryHttpDNS__:!0}),X=V()},6487:(e,t,r)=>{"use strict";r.d(t,{JL:()=>u,S7:()=>h,TS:()=>p,hw:()=>d,zp:()=>g});var n=r(9067),a=r(7445),o=r(6342),i=(r(3341),r(8171)),s=r(5310),c=r(5125),l={isHitRule:0,enableAcc:0,requestHostMap:{},socketHostMap:{},forceDisableAcc:0},u={none:0,accelerate:1,disable:2,retryAccelFallback:3,forceDisableAcc:4,liteGatewayAcc:5},p={[u.none]:"none",[u.accelerate]:"accelerate",[u.disable]:"disable",[u.retryAccelFallback]:"retryAccelFallback",[u.forceDisableAcc]:"forceDisableAcc",[u.liteGatewayAcc]:"liteGateway"};o.default.onReady((()=>{}));var d=e=>{var t;return(null==e||null===(t=e.header)||void 0===t?void 0:t["EO-LOG-UUID"])||""},f=({host:e,hostMap:t,compatUrls:r,args:n,__retryAccelFallback__:a,__AccelFailReqId__:o})=>{var{disableAccelerate:i,url:s}=n,c=t[e],{disable:p,accelerate:d,retryAccelFallback:f,none:h,forceDisableAcc:v}=u,g=h;return c&&(i?g=p:a?(g=f,l.forceDisableAcc=1):1===l.forceDisableAcc&&(g=v)),{accelerateOptions:Object.assign({accelerateType:g},o?{__AccelFailReqId__:o}:{})}};function h(e){var{host:t,args:r,compatUrls:n,options:a}=e,{requestHostMap:o,isHitRule:i}=l,{accelerateOptions:s,...c}=f({host:t,compatUrls:n,hostMap:o,args:r,__retryAccelFallback__:a.__retryAccelFallback__,__AccelFailReqId__:a.__AccelFailReqId__});return Object.assign({},c,{accelerateOptions:Object.assign({},s,{isHitRule:i,rawHost:t,rawUrl:r.url})})}var g=({options:e,res:t,task:r})=>{var o=d(t)||r.uniqueId,{isHitRule:l,rawUrl:u,rawHost:p,accelerateType:f}=e.accelerateOptions,h=e.originArgs.url,g=e.host,{profile:y,statusCode:m,errno:_,errMsg:b}=t,{domainLookUpStart:w,domainLookUpEnd:k,connectStart:S,connectEnd:I,SSLconnectionStart:C,SSLconnectionEnd:T,requestStart:x,requestEnd:A,responseStart:P,responseEnd:E,socketReused:O,peerIP:M}=y||{};return v.reportKeyValue({key:"AccelerateNetwork",value:["request",encodeURIComponent(u.substring(0,1024)),encodeURIComponent(h.substring(0,1024)),p,g,2,Date.now()-e.currentRequestStartTime,b,v.getAppType(),m,0,(0,i.PL)(),0,(0,n.Xl)(y||{}),(0,a.isGame)()?s.Z.scene:c.Z.scene,_,l,f,o,k-w,I-S,T-C,A-x,E-P,O,M].join(",")}),delete e.accelerateOptions,e.originArgs.url=u,{args:e.originArgs,innerArgs:{__retryAccelFallback__:!0,__AccelFailReqId__:o}}}},1320:(e,t,r)=>{"use strict";r.d(t,{S7:()=>y.S7,JL:()=>y.JL,TS:()=>y.TS,rk:()=>k,zp:()=>y.zp,hw:()=>y.hw,en:()=>d,Dk:()=>w,dG:()=>g,JU:()=>o});var n=r(9105),a=r(6347);function o(e){return function({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:r,lastRequestStartTime:o,lastUrl:i,lastHost:s,lastErrorResponse:c,__innerRequestOptions__:l,__polyfill_ldns__:u,retryCount:p,exception:d}={}}){var f,h;!t&&null!=l&&l.__retryHttpDNS__&&(t=!0),e.header?(h=(0,n.Em)(e.header),e.header=(0,n.Nf)(e.header)):(f=!0,h="Undefined",e.header={}),"Undefined"!==h&&"Object"!==h&&(console.warn("wx.request: header must be an object"),e.header={}),f||(e.header=Object.keys(e.header).reduce(((t,r)=>{var n=r.toLowerCase();return"content-type"===n?t[n]=e.header[r]:t[r]=e.header[r],t}),{}));var v="text";e.responseType&&(v=e.responseType.toLowerCase());var g,y=e.header,m="GET";if("string"==typeof e.method&&(m=e.method.toUpperCase()),e.dataType=e.dataType||"json",r||(y["content-type"]=y["content-type"]||"application/json"),g=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==(0,n.Em)(e.data)?y["content-type"].indexOf("application/x-www-form-urlencoded")>-1?(0,a.HR)(e.data,!0):y["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):g.toString():e.data,"GET"===m&&e.data){var _=(0,a.cE)(e.url,e.data);e.url=_}var b=null!=l&&l.timeout?l.timeout:e.timeout,w=null!=l&&l.retryCount?l.retryCount:0;w||(w=null!=p?p:0);var k=null!=l&&l.exception?l.exception:null;k||(k=d);var S=(null==l?void 0:l.__polyfill_ldns__)||u;return{header:y,method:m,responseType:v,dataStr:g,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:o,lastHost:s,lastUrl:i,__retryHttpDNS__:t,lastErrorResponse:c,startTimestamp:Date.now(),timeout:b,retryCount:w,exception:k,__polyfill_ldns__:S}}}var i,s=r(2517),c=Symbol("pre"),l=Symbol("next"),u=Symbol("key");class p{constructor(e){if(!("number"==typeof e&&e>0))throw new Error("DoubleLinkedListLRUStore constructor params maxCacheLength must be number");this.cacheMap={},this.cacheHead=void 0,this.cacheTail=void 0,this.cacheLength=0,this.maxCacheLength=e}getCache(e){if(this.cacheMap[e])return this.cacheMap[e]}updateCache(e){var t=e[c],r=e[l];t&&r?(t[l]=r,r[c]=t,this.cacheTail[l]=e,e[c]=this.cacheTail,e[l]=null,this.cacheTail=e):t||r&&(r[c]=null,this.cacheHead=r,this.cacheTail[l]=e,e[c]=this.cacheTail,e[l]=null,this.cacheTail=e)}insertCache(e,t){if(t[u]=e,this.cacheTail?(t[l]=null,t[c]=this.cacheTail,this.cacheTail[l]=t,this.cacheTail=t):(this.cacheTail=t,t[l]=null,this.cacheHead=t,t[c]=null),this.cacheMap[e]=t,this.cacheLength>=this.maxCacheLength){delete this.cacheMap[this.cacheHead[u]];var r=this.cacheHead[l];r[c]=null,this.cacheHead[l]=null,this.cacheHead[c]=null,this.cacheHead=r}else this.cacheLength++}removeOldestCache(){if(this.cacheTail){var e=[this.cacheHead[u],this.cacheMap[this.cacheHead[u]]];delete this.cacheMap[this.cacheHead[u]];var t=this.cacheHead[l];return t[c]=null,this.cacheHead[c]=null,this.cacheHead[l]=null,this.cacheHead=t,this.cacheLength--,e}}removeCache(e){var t=this.getCache(e);t&&(t===this.cacheHead?(this.cacheHead=t[l],this.cacheHead&&(this.cacheHead[c]=null)):t===this.cacheTail?(this.cacheTail=t[c],this.cacheTail&&(this.cacheTail[l]=null)):(t[c][l]=t[l],t[l][c]=t[c],t[u][c]=null,t[u][l]=null),delete this.cacheMap[t[u]],this.cacheLength--)}}function d(e){i||(i=new p(50));var t,r=i.getCache(e);return r?(i.updateCache(r),r):((t="function"==typeof URL?new URL(e):(0,s.Qc)(e)).origin||(t.origin=(t.protocol||"")+"//"+(t.host||"")),i.insertCache(e,t),t)}var f=r(2900),h=r(1105),v=r(2417),g=function({args:e={}}){var{ip:t}=e;if(t){var r=(0,h.hI)(this);return r&&(0,f.uC)(r,"skipDNSRequest")?{skipDNS:v.Q,ip:e.ip}:{}}},y=r(6487),m=r(6142),_=r(8171),b=r(5900);function w({args:e={},host:t,skipDNS:r,banHttpDNS:n,options:a={}}){var o,i;if(r!==v.Q&&!n){var s,c,{enableHttpDNS:l,httpDNSServiceId:u}=e;if(null!=a&&null!==(o=a.__innerRequestOptions__)&&void 0!==o&&o.ip)return{host:t,ip:a.__innerRequestOptions__.ip,candicateIps:null===(c=a.__innerRequestOptions__)||void 0===c?void 0:c.candicateIps};if(null===(null==a||null===(i=a.__innerRequestOptions__)||void 0===i?void 0:i.ip))return{};if(!(0,_.Vl)()){if(!0===l&&(0,m.HD)(u)){var p=(0,b.Nq)(t);return p&&!1===p.expired?(s=p.ip,{host:t,ip:s}):(0,b.f7)(t,u).then((e=>{if(s=e.ip,e.__break__)return{rawHttpDnsError:e.__rawError__,retryCount:a.retryCount?a.retryCount+1:1};var r=e.candidateIps;return{host:t,ip:s,candicateIps:r}}))}return!0===l?Promise.reject(new Error("invalid httpDNSServiceId")):void 0}}}function k({host:e,ip:t,compatUrls:r}){var n=(0,b.jO)(e,t);return t?{port:r.port,host:r.host,url:r.url,forbidReuse:n}:{forbidReuse:n}}},2417:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n=Symbol("skipDNS")},5515:(e,t,r)=>{"use strict";r.d(t,{o:()=>ve,b:()=>Ie});var n=r(3341),a=r(3140),o=r(5436),s=r(9806),c=r(6142),l=r(5340);var u=r(4317),p=r(2030);r(9370);var d=r(7445),f=r(1399);class h{constructor(){}createTask(e){throw new Error("not impl")}onTaskStateChange(e){throw new Error("not impl")}operate(){throw new Error("not impl")}}var v=new o.Q("RequestTaskJsBindingInvoker"),g={},y=e=>"Binding"+e,m=(e,t)=>(0,n.ZI)(e,`RequestTask.${t}`);var _=e=>{delete g[y(e.id)]};function b(e){var t=this.responseInfo;Object.assign(t,e),v.emit("stateChange",{requestTaskId:y(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function k(e){this.responseInfo.data=e}function S(e){v.emit("stateChange",{requestTaskId:y(this.id),state:"chunked",data:e.data})}function I(e){v.emit("stateChange",{requestTaskId:y(this.id),state:"progressUpdate",type:e.type,totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function C(e={}){var t=this.responseInfo;t.header=e.header,t.statusCode=e.statusCode,v.emit("stateChange",{requestTaskId:y(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function T(e={}){var t=this.responseInfo,r={requestTaskId:y(this.id),state:"success",header:t.header,data:t.data,statusCode:t.statusCode,clientInfo:e.clientInfo};r.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),r.clientInfo=this.__mockClientInfo),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),void 0===r.data&&"text"===this.invokeArgs.responseType&&(r.data=""),v.emit("stateChange",r),_(this)}function x(e){e.errno;var t={requestTaskId:y(this.id),state:"fail",clientInfo:e.clientInfo,errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};t.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),t.clientInfo=this.__mockClientInfo),v.emit("stateChange",t),_(this)}var A=(e,t)=>(0,n.ZI)(e,`DownloadTask.${t}`),P=new o.Q("DownloadTaskJsBindingInvoker"),E={};var O=e=>{delete E[e.id]};function M(e){var t=this.responseInfo;Object.assign(t,e),P.emit("stateChange",{downloadTaskId:this.id,state:"headersReceived",header:e.header,cookies:e.cookies||{}})}function R(e){P.emit("stateChange",{downloadTaskId:this.id,state:"progressUpdate",totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,progress:e.progress})}function D(e={}){var t=this.responseInfo,r={downloadTaskId:this.id,state:"success",header:t.header,dataLength:e.dataLength,statusCode:t.statusCode};e.clientInfo&&(r.clientInfo=e.clientInfo),e.tempFilePath&&(r.tempFilePath=e.tempFilePath),e.filePath&&(r.filePath=e.filePath),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),P.emit("stateChange",r),O(this)}function L(e){e.errno;var t={downloadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),P.emit("stateChange",t),O(this)}var N=(e,t)=>(0,n.ZI)(e,`UploadTask.${t}`),j=new o.Q("UploadTaskJsBindingInvoker"),W={};var F=e=>{delete W[e.id]};function $(e){var t=this.responseInfo;Object.assign(t,e),j.emit("stateChange",{uploadTaskId:this.id,state:"headersReceived",header:e.header})}function B(e){j.emit("stateChange",{uploadTaskId:this.id,state:"progressUpdate",progress:e.progress,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function U(e={}){var t=this.responseInfo,r={uploadTaskId:this.id,state:"success",header:t.header,data:e.data,statusCode:t.statusCode};e.clientInfo&&(r.clientInfo=e.clientInfo),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),j.emit("stateChange",r),F(this)}function q(e){e.errno;var t={uploadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),j.emit("stateChange",t),F(this)}var H={Request:{jsBinding:new class extends h{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:n,enableHttp2:a,enableHttp3:o}=e,{useHighPerformanceMode:i}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,i||o?e.protocol="h3":a&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,f.Z.RequestTask)(e);g[y(s.id)]=s;var c=Date.now();s.__mockClientInfo={invokeTime:c,beginCGITimestamp:c,CGICallbackTimestamp:c,wxlibCallbackTimestamp:c};s.responseInfo={},s.invokeArgs=e,s.onDataReceived=m(k,"onDataReceived"),s.onSucceeded=m(T,"onSucceeded"),s.onFailed=m(x,"onFailed"),s.onResponseStarted=m(b,"onResponseStarted"),s.onRedirectReceived=m(C,"onRedirectReceived"),s.operate({operationType:"request"});var l={requestTaskId:y(s.id),errMsg:"createRequestTask:ok"};r(l),n(l)}onTaskStateChange(e){v.off("stateChange"),v.on("stateChange",e)}operate(e){var{operationType:t}=e,r=g[e.requestTaskId];e.requestTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){var r=g[t];r&&("progressUpdate"===e?r.onProgressUpdate=m(I,"onProgressUpdate"):"headersReceived"===e||"chunked"===e&&(r.onChunkedDataReceived=m(S,"onChunkedDataReceived")))}stopListenTaskStateChange({stateName:e,taskId:t}){var r=g[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e?(r.onResponseStarted=null,r.onRedirectReceived=null):"chunked"===e&&(r.onChunkedDataReceived=null))}}},Download:{jsBinding:new class extends h{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:n,enableHttp2:a,enableHttp3:o}=e,{useHighPerformanceMode:i}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,i||o?e.protocol="h3":a&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,f.Z.DownloadTask)(e);E[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=A(D,"onSucceeded"),s.onFailed=A(L,"onFailed"),s.onResponseStarted=A(M,"onResponseStarted"),s.operate({operationType:"download"});var c={downloadTaskId:s.id,errMsg:"createDownloadTask:ok"};r(c),n(c)}onTaskStateChange(e){P.off("stateChange"),P.on("stateChange",e)}operate(e){var{operationType:t}=e,r=E[e.downloadTaskId];e.downloadTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){var r=E[t];r&&"progressUpdate"===e&&(r.onProgressUpdate=A(R,"onProgressUpdate"))}stopListenTaskStateChange({stateName:e,taskId:t}){var r=E[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e&&(r.onResponseStarted=null))}}},Upload:{jsBinding:new class extends h{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:n,enableHttp2:a,enableHttp3:o}=e,{useHighPerformanceMode:i}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,i||o?e.protocol="h3":a&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,f.Z.UploadTask)(e);W[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=N(U,"onSucceeded"),s.onFailed=N(q,"onFailed"),s.onResponseStarted=N($,"onResponseStarted"),s.operate({operationType:"upload"});var c={uploadTaskId:s.id,errMsg:"createUploadTask:ok"};r(c),n(c)}onTaskStateChange(e){j.off("stateChange"),j.on("stateChange",e)}operate(e){var{operationType:t}=e,r=W[e.uploadTaskId];e.uploadTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){var r=W[t];r&&"progressUpdate"===e&&(r.onProgressUpdate=N(B,"onProgressUpdate"))}stopListenTaskStateChange({stateName:e,taskId:t}){var r=W[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e&&(r.onResponseStarted=null))}}}},G=(e,t)=>"Request"===e&&f.Z.RequestTask&&(t.useHighPerformanceMode||(e=>!(!d.IS_ANDROID||e.enableHttpDNS))(t))?H.Request.jsBinding:"Download"===e&&f.Z.DownloadTask&&(t.useHighPerformanceMode||(e=>!(!d.IS_ANDROID||e.enableHttpDNS))(t))?H.Download.jsBinding:"Upload"===e&&f.Z.UploadTask&&(t.useHighPerformanceMode||(e=>!(!d.IS_ANDROID||e.enableHttpDNS))(t))?H.Upload.jsBinding:void 0,V=(e,t)=>{if(H[e]){var r=H[e];Object.keys(r).forEach((e=>{r[e].onTaskStateChange((e=>{t(e)}))}))}},J=r(1320),K=!1,z=(0,s.Fr)(l.lz),Q=0,Z=new WeakMap,X=new WeakMap,Y=new WeakMap,ee=new WeakMap,te=new WeakMap,re=new WeakMap,ne=new WeakMap,ae=new WeakMap,oe=new WeakMap,ie=new WeakMap,se=new WeakMap,ce={},le=new o.Q("Network",!0),ue=w.createLogger("NetworkTask"),pe=new WeakMap,de={},fe=new WeakMap,he=new WeakMap;class ve{constructor(e,{taskType:t,beforeSend:r,beforeSuccess:n,beforeFail:a}){var o,i,s=Q++;if(this.uniqueId=1e4*Date.now()+Math.round(9999*Math.random()),Z.set(this,s),Y.set(this,"waiting"),ee.set(this,e),te.set(this,t),ae.set(this,r),oe.set(this,n),(0,c.mf)(a)&&ie.set(this,a),this.taskInvoker=G(t,e),!this.taskInvoker){var l=!1;((0,p.N)(t)||(d.IS_IOS||d.IS_ANDROID)&&e.forceCellularNetwork)&&(l=!0),se.set(this,l)}var f=new u.Q(((e,t)=>{o=e,i=t}));pe.set(this,{promise:f,resolve:o,reject:i});var h=()=>{ke.call(this)?(ne.set(this,[Date.now()]),ce[t].taskQueue.push({id:s,item:this})):ye.call(this)};(0,c.mf)(e.customCheck)?e.customCheck(e,(r=>{r?ge(t,e,r):h()})):h()}abort(){if(ue.info(`[${te.get(this)}][${Z.get(this)}]abort()`),"waiting"===Y.get(this)){ue.info(`[${te.get(this)}][${Z.get(this)}] waiting=true`);var e=ce[te.get(this)].taskQueue.findIndex((e=>e.id===Z.get(this)));e>-1&&(ce[te.get(this)].taskQueue.splice(e,1),(0,n.YG)(ce[te.get(this)].functionName,ee.get(this),"abort")),Y.set(this,"done")}else{var t=pe.get(this).promise,r=ee.get(this);t.then((()=>{var e={[`${te.get(this).toLowerCase()}TaskId`]:X.get(this),operationType:"abort",contextId:r.contextId};this.taskInvoker?this.taskInvoker.operate(e):(0,n.IN)(`operate${te.get(this)}Task`,e)}))}}onProgressUpdate(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=te.get(this);le.on(`${r}${t}progressUpdate`,e),1===le.getListenersLength(`${r}${t}progressUpdate`)&&Ce.call(this,r,"progressUpdate",t)}))}offProgressUpdate(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=te.get(this);le.off(`${r}${t}progressUpdate`,e),le.getListenersLength(`${r}${t}progressUpdate`)||Te.call(this,r,"progressUpdate",t)}))}onHeadersReceived(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=te.get(this);le.on(`${r}${t}headersReceived`,e),1===le.getListenersLength(`${r}${t}headersReceived`)&&Ce.call(this,r,"headersReceived",t)}))}offHeadersReceived(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=te.get(this);le.off(`${r}${t}headersReceived`,e),le.getListenersLength(`${r}${t}headersReceived`)||Te.call(this,r,"headersReceived",t)}))}onChunkReceived(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=te.get(this);le.on(`${r}${t}chunked`,e),"Request"===r&&1===le.getListenersLength(`${r}${t}chunked`)&&Ce.call(this,r,"chunked",t)}))}offChunkReceived(e){pe.get(this).promise.then((()=>{var t=X.get(this),r=te.get(this);le.off(`${r}${t}chunked`,e),"Request"!==r||le.getListenersLength(`${r}${t}chunked`)||Te.call(this,r,"chunked",t)}))}}function ge(e,t,r,a){r=String(r).replace("createCellularNetworkRequestTaskAsync:fail ","");var o={name:ce[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:r};"number"==typeof a&&(o.errno=a),(0,n.FE)(o)}function ye(){var e=ee.get(this),t=te.get(this),r=se.get(this);Y.set(this,"sending"),re.set(this,Date.now());var{errMsg:n,errno:o}=me.call(this);r?pe.get(this).promise.then((()=>{_e.call(this)})).catch((({errMsg:r,errno:n})=>{ge(t,e,r,n)})):n?ge(t,e,n,o):X.get(this)?_e.call(this):pe.get(this).promise.then((()=>{_e.call(this)}));setTimeout((()=>{(0,a.P5)({functionName:ce[t].functionName,keyParam:e.url,result:null,costTime:0,errorMsg:"",statusCode:null,__skipDomainCheck__:e.__skipDomainCheck__,dataLength:null,responseDataLength:null,profile:{},queueTime:null,extraData:{},uniqueId:this.uniqueId,isAsync:!1,errno:null,queueLength:0,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0})}),0)}function me(){var e,t,r=te.get(this),a=ee.get(this);ce[r].currentTaskCount++;var o={data:a.data,url:a.url,header:a.header,method:a.method,timeout:"number"==typeof a.timeout?a.timeout:0,enableHttp2:!0===a.enableHttp2,enableHttp3:!0===a.enableHttp3,enableQuic:!0===a.enableQuic,enableCache:!0===a.enableCache,enableProfile:!1!==a.enableProfile,ip:a.ip,port:a.port,forbidReuse:!0===a.forbidReuse,host:a.host,enableChunked:a.enableChunked,__skipDomainCheck__:a.__skipDomainCheck__,forceCellular:a.forceCellularNetwork,contextId:a.contextId,redirect:a.redirect,success:e=>{var t=e[`${r.toLowerCase()}TaskId`];X.set(this,t),ce[r].taskIdMap[t]=this;var n=pe.get(this).resolve,a=pe.get(this).promise;n(),a.then((()=>{de[t]&&"wait"===de[t].status?de[t].handlers.forEach((e=>e())):de[t]={status:"normal"}}))},fail:n=>{ce[r].currentTaskCount--;var o=n[`${r.toLowerCase()}TaskId`];e=n.errMsg,t=n.errno,be.call(this,{taskType:r,options:a,errMsg:e,success:!1,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0}),(0,pe.get(this).reject)({errMsg:e,errno:t}),ue.error(`[${r}][createTask][Fail] taskId=${o}`),de[o]&&"wait"===de[o].status&&delete de[o]},complete:()=>{Y.set(this,"done")}},s=se.get(this),c=`create${r}Task${s?"Async":""}`;(d.IS_IOS||d.IS_ANDROID)&&a.forceCellularNetwork&&(c="createCellularNetworkRequestTaskAsync");var l={};"[object ArrayBuffer]"!==Object.prototype.toString.call(a.data)&&(l.notPack=!0);var u=ae.get(this)(o);return"createRequestTaskAsync"===c&&d.IS_IOS&&K&&(c="createRequestTaskRealAsync"),this.taskInvoker?this.taskInvoker.createTask(u,a):"Request"!==r||d.IS_DEVTOOLS||d.IS_PC||i.env.isMagicBrushFrameEnv?(0,n.IN)(c,u):(0,n.NJ)(c,u,l),{errMsg:e,errno:t}}function _e(){var e=X.get(this),t=ee.get(this),r=te.get(this),a=ce[r].functionName;le.on(`${r}${e}success`,(e=>{var r=oe.get(this).call(this,e);null!=r&&r.__retry__||(0,n.FE)({name:a,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),le.on(`${r}${e}fail`,(e=>{var r=ie.get(this),o=r&&r.call(this,e);if(null!=o&&o.__retry__)w.info(`httpDns we retry url: ${t.url}`);else{o&&o.__changeError__&&(e=o.__changeError__);var i={name:a,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(i.errno=e.errno),e.exception&&(i.exception=e.exception),(0,n.FE)(i)}}))}function be({taskType:e,options:t,errMsg:r,success:n=!0,dataLength:o=0,statusCode:i="",responseDataLength:s=0,profile:c={},queueTime:l,uniqueId:u,errno:p,queueLength:d,accelerateId:f,jsapiVersion:h=0,response:v}){var g=t.url,y=n?1:2,m=Date.now(),_=re.get(this),b=m-_,w=t.__skipDomainCheck__;b>=6e4&&ue.error(`reportTask costTime too long: ${b}ms, taskId=${X.get(this)}`),(0,a.P5)({functionName:ce[e].functionName,keyParam:g,result:y,costTime:b,errorMsg:r,statusCode:i,__skipDomainCheck__:w,dataLength:o,responseDataLength:s,profile:c,queueTime:l,extraData:{},uniqueId:u,isAsync:!0,errno:p,queueLength:d,accelerateOptions:Object.assign({},t.accelerateOptions,{host:t.host,accelerateId:f}),jsapiVersion:h,requestData:t.data,response:v,beginTime:_,endTime:m,options:t})}function we(e,t){var r,n=`${t.toLowerCase()}TaskId`,a=e[n],{state:o,header:i}=e;delete e.state,delete e[n],"chunked"!==o&&(e.cookies=i&&(r=i["Set-Cookie"]||i["set-cookie"])?Array.isArray(r)?r:r.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]);var c=0;i&&(c=parseInt(i["Content-Length"]||i["content-length"]||"0",10));var l,u,p=()=>{if(le.emit(`${t}${a}${o}`,e),"success"===o||"fail"===o){var r=ce[t].taskIdMap[a],n=ee.get(r);if(!r)return;ce[t].currentTaskCount-=1;var i=ce[t].taskQueue.length;if(ce[t].taskQueue.length>0){var l=ce[t].taskQueue.shift().item,u=ne.get(l);if(u&&u[0]){var p=u[0];if(p>0){var d=Date.now()-p;ne.set(l,[p,d,i])}}ye.call(l)}var f=Promise.resolve((0,s.Y6)(n.data));if("Upload"===t){var h=0;"object"==typeof n.formData&&null!==n.formData&&(h=JSON.stringify(n.formData).length),f=z({path:n.filePath}).then((e=>h+e.stats.size)).catch((()=>h))}var v=Promise.resolve((0,s.Y6)(e.data,c));if("Download"===t){var g=e.dataLength;v="number"==typeof g?Promise.resolve(g):z({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([f,v]).then((([a,i])=>{var s=ne.get(r);be.call(r,{taskType:t,options:n,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===o,dataLength:a,responseDataLength:i,response:e,profile:e.profile,queueTime:s&&s[1],uniqueId:r.uniqueId,errno:e.errno,queueLength:s&&s[2],socketReused:e.socketReused,peerIP:e.peerIP,accelerateId:(0,J.hw)(e),jsapiVersion:r.taskInvoker?r.taskInvoker.jsapiVersion:0}),ne.delete(r)})),fe.set(ce[t].taskIdMap[a],!0),Se.call(r)}};K&&"Request"===t?"normal"===(null===(l=de[a])||void 0===l?void 0:l.status)?p():"wait"===(null===(u=de[a])||void 0===u?void 0:u.status)||(de[a]={status:"wait",handlers:[p]}):p()}function ke(){var e=te.get(this);return ce[e].currentTaskCount>=ce[e].maxTaskCount}function Se(){var e=te.get(this),t=X.get(this);delete ce[e].taskIdMap[t],delete de[t],le.removeAllListeners(`${e}${t}success`),le.removeAllListeners(`${e}${t}fail`),le.removeAllListeners(`${e}${t}complete`),le.removeAllListeners(`${e}${t}progressUpdate`),le.removeAllListeners(`${e}${t}headersReceived`),le.removeAllListeners(`${e}${t}chunked`)}function Ie(e,t){var r=ce[e]?ce[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};V(e,(t=>{we.call(this,t,e)})),(0,n.jQ)(`on${e}TaskStateChange`,(t=>{we.call(this,t,e)})),ce[e]=Object.assign(r,t)}function Ce(e,t,r){if(this.taskInvoker)this.taskInvoker.startListenTaskStateChange({stateName:t,taskId:r});else{var a=he.get(this);a?a.add(t):(a=new Set([t]),he.set(this,a)),(0,n.IN)(`listen${e}TaskStateChange`,{taskId:r,states:Array.from(a),noCallback:!0})}}function Te(e,t,r){if(this.taskInvoker)this.taskInvoker.stopListenTaskStateChange({stateName:t,taskId:r});else{var a=he.get(this);a&&(a.delete(t),(0,n.IN)(`listen${e}TaskStateChange`,{taskId:r,states:Array.from(a),noCallback:!0}))}}},2030:(e,t,r)=>{"use strict";r.d(t,{N:()=>o,S:()=>i});var n=r(8171),a=r(7445),o=e=>{if(a.WK_RENDERER_H5)return!0;if(a.IS_ANDROID)switch(e){case"Download":case"Request":return!0;default:return!1}else{if(!a.IS_IOS)return!1}};(0,n.PQ)((e=>{var t;t="wifi"===e.networkType?1:2,Object.keys(i).forEach((e=>{i[e].network!==t&&(i[e].needUpdateDns=!0,i[e].network=t,i[e].doingDns=!1)}))}));var i={}},3140:(e,t,r)=>{"use strict";r.d(t,{P5:()=>_});var n,a=r(8171),o=r(3341),i=r(7445),s=r(9067),c=r(5310),l=r(5125),u=r(9370),p=r(6342),d=r(1708),f=0,h=[],g=Math.random,y=new Set;p.default.onReady((()=>{n=Date.now()}));var m=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:h,appType:v.getAppType()},null,2);(0,o.IN)("reportRealtimeAction",{actionData:e,noCallback:!0}),h=[]},_=({functionName:e,keyParam:t,result:r,costTime:o,errorMsg:_,statusCode:w,__skipDomainCheck__:k,dataLength:S=0,responseDataLength:I=0,profile:C={},queueTime:T=0,extraData:x={},uniqueId:A,isAsync:P=!0,errno:E,queueLength:O=0,accelerateOptions:M={},jsapiVersion:R=0,requestData:D="",response:L="",beginTime:N=0,endTime:j=0,options:W={}}={})=>{var F;t.length>1024&&(t=t.substring(0,1024));var $="",B="",U=0,q="";if((0,i.isGame)()?(B=(0,s.Xl)(c.Z.query),U=c.Z.scene,q=c.Z.sceneNote):(U=l.Z.scene,q=l.Z.sceneNote),void 0!==u.hr){var H=u.hr.getCurrentPages();if(H&&H.length>0){var G=H[H.length-1];if(G&&($=G.route,u.hr.getDisplayReporter)){var V,J=u.hr.getDisplayReporter(G);B=(null==J||null===(V=J.showOptions)||void 0===V?void 0:V.query)||""}}}!E&&_&&/超时|timeout/.test(_)&&(E=5);var K=JSON.stringify(x),z=[e,t,r,o,_,v.getAppType(),w,S,(0,a.PL)(),$,B,I,(0,s.Xl)(C),U,q,A,E,T,K,null===(F=p.default.wxAppInfo)||void 0===F?void 0:F.maxRequestConcurrent,j-n,O,R,0,l.Z.isWeakNetwork?1:0].map(encodeURIComponent).join(","),Q=!1;if(P&&(1==r?g()<.01&&(Q=!0):Q=!0),Q){var Z,X="",Y="",ee="",te="",re="",ne="",ae="",oe="",ie="",se="",ce=C.protocol||"",le=0;!0===C.socketReused?le=1:!1===C.socketReused&&(le=2);var ue=!0===W.enableCache?1:2,pe=!0===W.enableHttpDNS?1:2,de=W.enableChunked?1:2,fe="",he="",ve=(0,d.k)()+" "+(0,d.n)(),ge=b(),ye=W.method,me=!0===W.enableHttp2?1:2,_e=!0===W.enableQuic?1:2,be=!0===W.enableHttp3?1:2;C&&C.fetchStart&&N&&("request"===e||"downloadFile"===e||"uploadFile"===e)&&(X=C.fetchStart-N,Y=C.domainLookUpEnd-C.domainLookUpStart,ee=C.connectEnd-C.connectStart,te=C.SSLconnectionStart-C.connectStart,re=C.SSLconnectionEnd-C.SSLconnectionStart,ne=(C.connectEnd||C.requestStart)-C.requestStart,ae=C.responseStart-(C.connectEnd||C.requestStart),oe=C.responseEnd-C.responseStart,ie=C.responseEnd-C.fetchStart,se=j-C.responseEnd,fe=C.redirectEnd-C.redirectStart,he=(C.domainLookUpStart||C.requestStart)-C.fetchStart);var we=[e,encodeURIComponent(t),r,o,encodeURIComponent(_),v.getAppType(),w,S,(0,a.PL)(),$,"",I,"",U,encodeURIComponent(q),E,T,encodeURIComponent(K),null===(Z=p.default.wxAppInfo)||void 0===Z?void 0:Z.maxRequestConcurrent,j-n,O,R,X,Y,ee,te,re,ne,ae,oe,ie,se,ce,le,ue,pe,de,fe,he,ve,ge,ye,me,_e,be].join(",");v.reportKeyValue({key:"NetworkAPI2",value:we})}v.reportKeyValue({key:"NetworkAPI",value:z}),v.reportIDKey({key:`${e}_${1===r?"ok":"fail"}`});var{isHitRule:ke,rawUrl:Se,rawHost:Ie,accelerateType:Ce,host:Te,accelerateId:xe,__AccelFailReqId__:Ae}=M,{domainLookUpStart:Pe,domainLookUpEnd:Ee,connectStart:Oe,connectEnd:Me,SSLconnectionStart:Re,SSLconnectionEnd:De,requestStart:Le,requestEnd:Ne,responseStart:je,responseEnd:We,socketReused:Fe,peerIP:$e}=C;1===ke&&[1,2].includes(r)&&v.reportKeyValue({key:"AccelerateNetwork",value:[e,encodeURIComponent(Se.substring(0,1024)),t,Ie,Te,r,o,_,v.getAppType(),w,S,(0,a.PL)(),I,(0,s.Xl)(C),U,E,ke,Ce,xe,Ee-Pe,Me-Oe,De-Re,Ne-Le,We-je,Fe?1:0,$e,Ae].join(",")}),h.push([e,t,r,w||"",o,_,(0,a.PL)(),k?"1":"0",v.getAppType(),S].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",")),function(e){if(0===y.size)return;try{y.forEach((t=>t(e)))}catch(e){}}({functionName:e,keyParam:t,result:r,costTime:o,errorMsg:_,statusCode:w,dataLength:S,responseDataLength:I,requestData:D,response:L,profile:C,errno:E,__skipDomainCheck__:k}),Date.now()-f>=6e4&&(f=Date.now(),setTimeout(m,6e4))};var b=()=>{var e=i.IS_ANDROID?1:0,t=i.IS_ANDROID?10:0;return(i.IS_ANDROID?100:0)+t+e}},6466:(e,t,r)=>{"use strict";r.r(t),r.d(t,{buildWorkerUncaughtError:()=>c,getSupportMultiContext:()=>l,setSupportMultiContext:()=>u});var n,a,s=r(7445);r(6342);s.WK_RENDERER_H5||(n=o.supportWorkerMultiContext||o.supoortWorkerMultiContext),i.onLoad((()=>{(a=function(e,t,r,n,a){this.message=e,this.line=t,this.column=r,this.stack=n,this.error=a}).prototype=Error}));var c=e=>new a(e.message,e.line,e.column,e.stack,e),l=()=>n,u=e=>{n=e}},1399:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s,a:()=>o});var n=null,a=new Proxy({},{get(e,t,r){if(!n)throw new Error("NativeGlobal not ready");return Reflect.get(n,t,r)},set(e,t,r,a){if(!n)throw new Error("NativeGlobal not ready");return Reflect.set(n,t,r,a)}});function o(e){i.onLoad((()=>{e(a)}))}i.onLoad((()=>{n="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));const s=a},2657:(e,t,r)=>{"use strict";r.d(t,{En:()=>h,IF:()=>y,Y2:()=>g});var n,a=r(6142),o=r(1591),s=r(7445),c=0,l=1,u=2,p=new WeakMap,d=new Map,f=ArrayBuffer;function h(e){i.onLoad((()=>{s.WK_RENDERER_H5||n.new||e(n)}))}i.onLoad((()=>{n="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer,"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?f=__global.SharedArrayBuffer:r.g.SharedArrayBuffer&&(f=r.g.SharedArrayBuffer))}));class v{constructor(e,t){if(!(0,a.hj)(e)||e<0)throw new o.i(`Invalid array buffer length ${e}`);if((0,a.hj)(t)){var r;try{r=n.get(t)}catch(e){throw new Error(`WeixinSharedBuffer.get${t} fail: ${e.message}`)}Object.defineProperty(this,"buffer",{value:r,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:t,enumerable:!0,writable:!1})}else{Object.defineProperty(this,"buffer",{value:new f(e),writable:!1,enumerable:!0});var i=n.new(this.buffer);Object.defineProperty(this,"_sabId",{value:i,enumerable:!0,writable:!1})}var s={writeStatus:c,readStatus:c,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};p.set(this,s),d.set(this._sabId,this)}destroy(){var e=p.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],d.delete(this._sabId),p.get(this).destroyed=!0,this.unlock(),n.destroy(this._sabId)}lock(e,t=!1){var r=p.get(this),{destroyed:i,writeStatus:s,readStatus:c,writeLockCallbacks:d,readLockCallbacks:f}=r;if(i)throw new o.i("SharedArrayBuffer has been destroyed");if(!(0,a.mf)(e))throw new o.i("callback must be a function");s!==u?(d.push(e),s===l||(r.writeStatus=l,r.writeLockId=n.Lock(this._sabId,(()=>{d.forEach((e=>e())),f.forEach((e=>e())),r.writeStatus=u,r.writeLockCallbacks=[],r.readLockCallbacks=[]})))):e()}unlock(){var e=p.get(this),{writeLockId:t,readLockId:r,writeStatus:a,readStatus:o,destroyed:i}=e;i?console.warn("unlock: SharedArrayBuffer has been destroyed"):(a!==l&&a!==u||(n.Unlock(this._sabId,t),e.writeStatus=c,e.writeLockId=void 0,e.writeLockCallbacks=[]),o!==l&&o!==u||(n.Unlock(this._sabId,r),e.readStatus=c,e.readLockId=void 0,e.readLockCallbacks=[]))}}var g=e=>s.WK_RENDERER_H5?{buffer:new ArrayBuffer(e)}:new v(e),y=e=>{return s.WK_RENDERER_H5?e:(0,a.Kn)(e)?(0,a.hj)(e._sabId)?(t=e._sabId,d.has(t)?d.get(t):new v(0,t)):Object.keys(e).reduce(((t,r)=>{var n=e[r];return t[r]=y(n),t}),{}):(0,a.kJ)(e)?e.map(y):e;var t}},6342:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=()=>{a!==o&&void 0!==a&&Object.assign(a,o)},a=(()=>(o.onReady(n),o))();const i=a},4899:(e,t,r)=>{"use strict";r.d(t,{t:()=>o});var n=null,a=!1;function o(){if(!a)throw new Error("WeixinArrayBuffer not ready");return n}i.onLoad((()=>{n=r.g.WeixinArrayBuffer,a=!0}))},5863:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n={pluginId:"",workerId:""}},2900:(e,t,r)=>{"use strict";r.d(t,{uC:()=>i});var n=r(3341),a={},o={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,preloadWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188,createWKVideo:1293,uploadFile:1308,gameRecorderOperateVideo:1310,gameRecorderGetVideoPath:1310,openCustomerServiceConversationDirectly:1316,plugin_shareAppMessage:1345,createLiteApp:1346,gameTransferForLiteGame:1359},i=(e,t)=>{var r=o[t];return void 0===r?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):a[e]?a[e][r]:((e=>{if(a[e])return a[e];var t={},r=Object.values(o);(0,n.IN)("getPluginPermissionBytes",{pluginList:[{indexes:r,pluginId:e}],success(n){var o=n.pluginPermissionMap;if(o&&o[e]){for(var i=0;i<o[e].length;i++){var s=r[i];t[s]=1===o[e][i]}a[e]=t}},fail(e){}})})(e),a[e]&&a[e][r])}},182:(e,t,r)=>{"use strict";r.d(t,{J:()=>m});var n=r(3341),a=r(6142),o=r(6342),i=r(9822),s=r(8246),c=(0,r(9766).s)("AppEnterBackground"),l=c.internalOnMethod;(0,s.n)("onAppEnterBackground",((e={})=>{e&&"launchMiniProgram"===e.mode&&e.targetPagePath&&0===e.targetPagePath.indexOf("wx6bd2fb149a93a9c5:")||(c.emit(e),(0,n.nY)("onAppEnterBackground",e))}));var u,p=r(3013),d={},f={},h={},v=0;o.default.onReady((()=>{l((()=>{v=1})),(0,p.T)((()=>{v=0}))}));var g=Object.keys(i.Z).map((e=>i.Z[e])),y=(e,t)=>{for(var r=0;r<g.length;r++){var n=g[r],a=1===e[n]||4===e[n];t[n]=a}};(0,s.n)("onPermissionUpdate",(e=>{y(e.bg,d),y(e.fg,f)})),(0,s.n)("onPluginPermissionUpdate",(()=>{})),o.default.onReady((()=>{(0,n.IN)("getPermissionBytes",{indexes:g,success(e){e.permissionBytes&&e.permissionBytesForRunningStatus||e.permissionBytesForRunningStatus?((e=>{for(var t=0;t<e.length;t++){var r=g[t];d[r]=1===e[t].bg||4===e[t].bg,f[r]=1===e[t].fg||4===e[t].fg}})(e.permissionBytesForRunningStatus),u=1):e.permissionBytes&&(u=0,((e,t)=>{for(var r=0;r<e.length;r++)t[g[r]]=1===e[r]||4===e[r]})(e.permissionBytes,h))},fail(e){w.error("getPermissionBytes failed",e)}})}));var m=e=>{var t,r=i.Z[e];if("number"!=typeof r)return!1;if(t=0===u?h:0===v?f:d,!(0,a.o8)(t[r]))return t[r];var o=!1;return(0,n.IN)("getPermissionBytes",{indexes:[r],success(e){e.permissionBytes&&(0===u?(o=1===e.permissionBytes[0]||4===e.permissionBytes[0],h[r]=o):(d[r]=1===e.permissionBytes[0].bg||4===e.permissionBytes[0].bg,f[r]=1===e.permissionBytes[0].fg||4===e.permissionBytes[0].fg))}}),o}},5473:(e,r,n)=>{"use strict";n.d(r,{o:()=>ee});var a,o,s=n(3888),c=n.n(s),l=n(3341),u=JSON.parse,p=JSON.stringify,d=n(7445),f={"iPhone14,2":"iPhone 13 Pro","iPhone14,3":"iPhone 13 Pro Max","iPhone14,4":"iPhone 13 Mini","iPhone14,5":"iPhone 13","iPhone15,4":"iPhone 15","iPhone15,5":"iPhone 15 Plus","iPhone16,1":"iPhone 15 Pro","iPhone16,2":"iPhone 15 Pro Max","iPad11,6":"iPad (8th generation) Wi-Fi","iPad11,7":"iPad (8th generation) Wi-Fi + Cellular","iPad12,1":"iPad (9th generation) Wi-Fi","iPad12,2":"iPad (9th generation) Wi-Fi + Cellular","iPad13,1":"iPad Air (4th generation) Wi-Fi","iPad13,2":"iPad Air (4th generation) Wi-Fi + Cellular","iPad13,4":"iPad Pro 11 inch (3rd generation) Wi-Fi","iPad13,5":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (US)","iPad13,6":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (Global)","iPad13,7":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (China)","iPad13,8":"iPad Pro 12.9 inch (5th generation) Wi-Fi","iPad13,9":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (US)","iPad13,10":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (Global)","iPad13,11":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (China)","iPad14,1":"iPad mini (6th generation) Wi-Fi","iPad14,2":"iPad mini (6th generation) Wi-Fi + Cellular"},h=(a=()=>{var e;(0,l.IN)("getSystemInfo",{type:"deviceInfo",success(t){delete(e=t).errMsg}});var t,r,n,a=d.PLATFORM;return d.IS_IOS&&(e.brand="iPhone",e.model=(t=e.model,(n=null!==(r=t.match(/unknown<([^>]?)>/))&&void 0!==r?r:[])&&f[n[1]]||t)),d.IS_DEVTOOLS&&"devtools"!==e.brand&&(a="iPhone"===e.brand?"ios":"android"),e.platform=a,e},(e={})=>{if(o){var t={};try{t=u(o)}catch(e){w.error("constructCachedOptimizedSyncReturnApi parse error",e.message)}return t}var r=a(e);try{o=p(r)}catch(e){w.error("constructCachedOptimizedSyncReturnApi stringify error",e.message)}return Promise.resolve().then((()=>{o=void 0})),r}),v=!1,g=-1,y=()=>(v||(g=h().benchmarkLevel||-1,v=!0),g),m=n(6342),_=n(3852),b=n(8190),k=n(182),S=(n(3013),n(9766)),I=(n(9105),(0,S.s)("lifeCycle:AppRoute")),C=(I.internalOnMethod,I.internalOffMethod,I.offMethod,n(1821),(0,S.s)("LifeCycle:Show")),T=(C.emitInternal.bind(C),C.emitGlobal.bind(C),C.onMethod,C.offMethod,C.internalOnMethod),x=(C.internalOffMethod,n(4599)),A=(n(2805),[]),P=["expires","domain","path","busid","indate","receivetime","spread","extra"],E={scene:-1,sceneNote:"",sessionId:""};T(((e={})=>{E.scene=e.scene,E.sceneNote=e.scene_note,E.sessionId=e.sessionid||e.sessionId})),(0,x.vv)(((e={})=>{if(3===e.targetAction)for(var t=A.length-1;t>=0;t--){var r=A[t].extra;r&&"del_on_exit"===r&&A.splice(t,1)}}));function O(e){var t=[];for(var r in e)P.indexOf(r)>=0&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}var M,R,D,L,N=e=>{var t=Date.now(),r=[];A.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;(!n||1e3*n>t)&&r.push(e)}));var n=m.default&&m.default.accountInfo&&m.default.accountInfo.appId||"",a=E.scene||"",o=E.sceneNote||"",i=E.sessionId||"";r.push({key:"appid",value:n,busid:"wxapp"},{key:"sessionid",value:i,busid:"wxapp"},{key:"scene",value:a,busid:"wxapp"},{key:"scene_note",value:o,busid:"wxapp"});var{hostAppId:s,pluginAppId:c}=e&&e.pluginInfo?e.pluginInfo:{};if(void 0!==s&&void 0!==c){var l=r.find((e=>"appid"===e.key));l&&(l.value=s),r.push({key:"plugin_appid",value:c,busid:"wxapp"})}var u=m.default.host||{};"SDK"===u.env&&r.push({key:"sdk_host_appid",value:u.appId,busid:"wxapp"});var p=r.map(O).join(";; ");return e&&e.success&&e.success({cookies:p}),p},j=n(7994),W=new Promise(((e,t)=>{M=e,R=t})),F=new Promise(((e,t)=>{D=e,L=t})),$="RequestBizaccount",B="getSubjectalterInfo",U="getgamepotentialfriends",q="getadcardbalance",H="getUserGrantInfo",G="getSecInfo",V="reportUserBehavior",J="getShareConfig",K="CheckUserOrderAuthStatus",z={RequestBizaccount:()=>({id:$,api_name:"webapi_openproduct_bizaccount",data:{path:m.default.appLaunchInfo.path,query:JSON.stringify(m.default.appLaunchInfo.query||{}),cookie:N()}}),getSecInfo:()=>{var e=(0,_.Q1)();return{id:G,api_name:"webapi_getwxaasyncsecinfo",data:{client_version:m.default.clientVersion,pub_version:void 0!==t&&t?t.version:"unknown",performance:y(),instance_id:m.default.appLaunchInfo.sessionid||m.default.appLaunchInfo.sessionId,...e?{xnet_conf_list:[e]}:{}}}},reportUserBehavior:()=>{var e,t,r,n;return{id:V,api_name:"jsapi_reportuserbehav",data:{version:8,type:1,duration:0,scene_note:m.default.appLaunchInfo.scene_note,scene:m.default.appLaunchInfo.scene,realnameInfo:void 0,referrerInfo:{appId:(null===(e=m.default.appLaunchInfo)||void 0===e||null===(t=e.referrerInfo)||void 0===t?void 0:t.appId)||"",extraData:(null===(r=m.default.appLaunchInfo)||void 0===r||null===(n=r.referrerInfo)||void 0===n?void 0:n.extraData)||{}},appServiceType:m.default.appType,isColdStart:!0,isWxaAdultOnly:1===Number(m.default.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),uiState:(0,d.isGame)()?0:1}}},getgamepotentialfriends:()=>({id:U,api_name:"webapi_game_transfer",data:{req_path:"friend.getgamepotentialfriends",appid:m.default.accountInfo.appId,fetch_mode:1,version:2}}),getadcardbalance:()=>({id:q,api_name:"webapi_getadcardbalance",data:{}}),getUserGrantInfo:()=>{var e,t;return{id:H,api_name:"webapi_game_transfer",data:{req_path:"gamewxagcdatawap_getusergrantinfo",json_data:JSON.stringify({appid:null!==(e=null===m.default||void 0===m.default||null===(t=m.default.accountInfo)||void 0===t?void 0:t.appId)&&void 0!==e?e:"",user_action:[0]})}}},getSubjectalterInfo:()=>({id:B,api_name:"getSubjectalterInfo",data:{}}),getShareConfig:()=>({id:J,api_name:"webapi_getshareconf",data:{}}),CheckUserOrderAuthStatus:()=>({id:K,api_name:"webapi_mmec_wxa_auth",data:{method:"CheckUserOrderAuthStatus",msg:{}}})};m.default.onReady((()=>{var e=(0,j._F)();if(w.info("是否开启数据管道batch请求=",e,i.env),e){var t,r,n,a,o,s,c=[z.getSecInfo()],l=1===Number(null===m.default||void 0===m.default||null===(t=m.default.appContactInfo)||void 0===t||null===(r=t.operationInfo)||void 0===r||null===(n=r.jsonInfo.op_info)||void 0===n?void 0:n.adult_only)||1===Number(null===m.default||void 0===m.default||null===(a=m.default.appContactInfo)||void 0===a||null===(o=a.operationInfo)||void 0===o||null===(s=o.jsonInfo.op_info)||void 0===s?void 0:s.grow_protect);!d.IS_DEVTOOLS&&((0,d.isGame)()||(0,d.isThirdPartyApp)()&&l)&&c.push(z.reportUserBehavior()),(0,d.isGame)()&&c.push(z.getShareConfig()),(0,b.BB)({apiName:"LaunchImmediateBatch",sdkApiName:"getImmediateBatchOperateWXData",reqDataList:c,batchType:1,success:e=>{w.info("immediate batch 请求成功",e),D({reqList:c,res:e})},fail:e=>{w.error("immediate batch 请求失败",e),L({reqList:c,res:e})}}),setTimeout((()=>{var e,t,r,n,a=[];(0,d.isGame)()?a=[z.getgamepotentialfriends(),z.getadcardbalance(),z.getUserGrantInfo(),z.getSubjectalterInfo()]:(0,d.isThirdPartyApp)()&&((0,k.J)("requestPayment")&&a.push(z.RequestBizaccount()),a.push(z.getSubjectalterInfo()),(null===(e=m.default.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||null===(r=t.wxa_mgr)||void 0===r||null===(n=r.mgr_list)||void 0===n?void 0:n.some((e=>1053===e.id&&1===e.value)))&&a.push(z.CheckUserOrderAuthStatus()));a.length>0&&(0,b.BB)({apiName:"LaunchDelayBatch",sdkApiName:"getDelayBatchOperateWXData",reqDataList:a,batchType:2,success:e=>{w.info("delay batch 请求成功",e),M({reqList:a,res:e})},fail:e=>{w.error("delay batch 请求失败",e),R({reqList:a,res:e})}})}),3500)}}));var Q=e=>({id:t,success:r=(e=>{}),fail:n=(e=>{})})=>{e.then((({reqList:e,res:a})=>{var o=a.item_list||[],i=e.findIndex((e=>e.id===t));if(i>=0){var s=o[i],c={};s&&s.resp&&0===s.errcode?0!==s.resp.err_no?(c={errMsg:`${t}:fail `+(s.resp.errmsg?` ${s.resp.errmsg}`:""),errno:s.resp.err_no},n(c)):(c={errMsg:`${t}:ok`,data:s.resp.data||{},errno:0},r(c)):(c={errMsg:`${t}:fail `+(s.errmsg?` ${s.errmsg}`:""),errno:s.errcode},n(c))}else n({errMsg:`${t}:fail can not find data`})})).catch((e=>{w.error(t," 数据管道 batch 请求失败 ",e);var a=z[t]();(0,b.yD)({apiName:a.api_name,reqData:a.data,sdkApiName:t,success:e=>{var n={errMsg:`${t}:ok`,data:e.data,errno:0};w.info("数据管道重试单独请求成功",n),r(n)},fail:e=>{w.error("数据管道重试单独请求失败",e),n(e)}})}))},Z=(Q(W),Q(F)),X=null,Y=void 0!==t&&t?t.version:"unknown";var ee=function(){var e=c()((function*(){return yield _.v8,X||(X=(0,d.isFakeNativeApp)()?Promise.resolve({data:{}}):new Promise(((e,t)=>{var r=(0,_.Q1)();if((0,j._F)())Z({id:G,success:t=>{e(t)},fail:t});else{var n=y();(0,l.yD)({sdkApiName:"webapi_getwxaasyncsecinfo",apiName:"webapi_getwxaasyncsecinfo",reqData:{client_version:m.default.clientVersion,pub_version:Y,performance:n,instance_id:m.default.appLaunchInfo.sessionid||m.default.appLaunchInfo.sessionId,...r?{xnet_conf_list:[r]}:{}},success:t=>{e(t)},fail:t})}})),X)}));return function(){return e.apply(this,arguments)}}()},5436:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(6142);class a{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){(0,n.mf)(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var r=this.eventMap.get(e);"function"!=typeof t?null==r||r.clear():null==r||r.delete(t)}emit(e,...t){var r=[...this.eventMap.get(e)||[]],n=`at ${this.type}${e} callback function`;r.forEach((e=>this.surround?((e,t,...r)=>{if(void 0!==h)h.surroundThirdByTryCatch(e,t)(...r);else if("undefined"!=typeof __subContextEngine__)__subContextEngine__.surroundThirdByTryCatch(e,t)(...r);else try{e(...r)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}})(e,n,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}},7445:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ENV:()=>f,IS_ANDROID:()=>i,IS_DEVTOOLS:()=>o,IS_HOST_SDK:()=>h,IS_HOST_WECHAT:()=>g,IS_HOST_WMPF:()=>v,IS_IOS:()=>s,IS_MAC:()=>l,IS_MINA:()=>u,IS_PC:()=>p,IS_USE_NATIVE_MAP:()=>y,IS_WINDOWS:()=>c,PLATFORM:()=>a,WK_RENDERER_H5:()=>m,debugEnabled:()=>d,isAppBasedOnGameEnv:()=>M,isAppService:()=>C,isAppServiceOrWebView:()=>I,isFakeNativeApp:()=>P,isGame:()=>S,isIn3rdApp:()=>w,isNormalApp:()=>T,isPhysicalStoresApp:()=>E,isReleaseBuild:()=>k,isRemoteDebugEnabled:()=>b,isThirdPartyApp:()=>A,isWXStoreApp:()=>O,isWkGameNativeRender:()=>_});var n=r(6342),a=(()=>n.default.platform)(),o=(()=>"devtools"===a)(),i=(()=>"android"===a)(),s=(()=>"ios"===a)(),c=(()=>"windows"===a)(),l=(()=>"mac"===a)(),u=(()=>"mina"===a)(),p=(()=>c||l)();function d(){if(n.default&&"debug"in n.default&&void 0!==n.default.debug)return!!n.default.debug}var f=(e=>null===(e=n.default.host)||void 0===e?void 0:e.env)(),h=(()=>"SDK"===f)(),v=(()=>"WMPF"===f)(),g=(()=>"WeChat"===f)(),y=(e=>(null===(e=n.default.host)||void 0===e?void 0:e.forceUseNativeMap)||!1)(),m=function(){return"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function _(){return"object"==typeof window&&window&&window.__wkrenderer_h5&&(2&window.__featBit)>0}function b(){return r.g.__isAppServiceRemoteDebugMode__||"undefined"!=typeof __initHelper&&1===__initHelper}function w(){var e=n.default.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function k(){var e=!0;return e}function S(){return!1}function I(){return!1}var C=(()=>!1)();function T(){return 0===n.default.appType}var x=[0,1,2,3,5,6,8,9,10,11,12,13];function A(){return x.includes(n.default.appType)}function P(){return 7===n.default.appType}function E(){return 2===n.default.appType}function O(){return 10===n.default.appType}function M(){return 19===n.default.appType}},1591:(e,t,r)=>{"use strict";r.d(t,{i:()=>a,l:()=>n});class n extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class a extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}},9766:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var n=r(9661),a=(()=>new n.Z({maxListeners:20,newListener:!1}))(),o=(()=>new n.Z({maxListeners:30,newListener:!1}))();var i={};function s(e){if(e=e[0].toUpperCase()+e.slice(1),!i[e]){var t=new WeakMap;i[e]={getGlobalListeners:()=>a.listeners(e),getInternalListeners:()=>o.listeners(e),emit:(...t)=>{o.emit(e,...t),a.emit(e,...t)},emitGlobal:(...t)=>{a.emit(e,...t)},emitInternal:(...t)=>{o.emit(e,...t)},internalOnMethod:(t,r={})=>{"function"==typeof t&&(r.prepend?r.once?o.prependOnceListener(e,t):o.prependListener(e,t):r.once?o.once(e,t):o.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&o.off(e,t)},onMethod:r=>{var n=function(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):h.surroundThirdByTryCatch(t,`at api on${e} callback function`)}(e,r);if(n){if(t.has(r)){var o=t.get(r);o.push(n),t.set(r,o)}else t.set(r,[n]);a.on(e,n)}},offMethod:r=>{if(function(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}(e,r))if(r){if(t.has(r)){t.get(r).forEach((t=>a.off(e,t))),t.delete(r)}}else t=new WeakMap,a.removeAllListeners(e)}}}return i[e]}},9661:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=20;function i(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:o,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=o}function c(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function l(e){this._events={},this._newListener=!1,this._removeListener=!1,s.call(this,e)}l.prototype.delimiter=".",l.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},l.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},l.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},l.prototype._many=function(e,t,r,n){var a=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&a.off(e,o),r.apply(this,arguments)}return o._origin=r,this._on(e,o,n),a},l.prototype.emit=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,n,a,o,s=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),s>3)for(t=new Array(s),a=0;a<s;a++)t[a]=arguments[a];for(n=0,r=o.length;n<r;n++)switch(this.event=e,s){case 1:o[n].call(this,e);break;case 2:o[n].call(this,e,arguments[1]);break;case 3:o[n].call(this,e,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}}if("function"==typeof(o=this._events[e])){switch(this.event=e,s){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];o.apply(this,t)}return!0}if(o&&(o=o.slice()),o&&o.length){if(s>3)for(t=new Array(s-1),a=1;a<s;a++)t[a-1]=arguments[a];for(n=0,r=o.length;n<r;n++)switch(this.event=e,s){case 1:o[n].call(this);break;case 2:o[n].call(this,arguments[1]);break;case 3:o[n].call(this,arguments[1],arguments[2]);break;default:o[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||i.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,a,o,s=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),a=1;a<c;a++)t[a]=arguments[a];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,c){case 1:s.push(this._all[n].call(this,e));break;case 2:s.push(this._all[n].call(this,e,arguments[1]));break;case 3:s.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[n].apply(this,t))}}if("function"==typeof(o=this._events[e]))switch(this.event=e,c){case 1:s.push(o.call(this));break;case 2:s.push(o.call(this,arguments[1]));break;case 3:s.push(o.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),a=1;a<c;a++)t[a-1]=arguments[a];s.push(o.apply(this,t))}else if(o&&o.length){if(o=o.slice(),c>3)for(t=new Array(c-1),a=1;a<c;a++)t[a-1]=arguments[a];for(n=0,r=o.length;n<r;n++)switch(this.event=e,c){case 1:s.push(o[n].call(this));break;case 2:s.push(o[n].call(this,arguments[1]));break;case 3:s.push(o[n].call(this,arguments[1],arguments[2]));break;default:s.push(o[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||i.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,c.call(this,this._events[e].length,e))):this._events[e]=t,this},l.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,o=[];if(!this._events[e])return this;r=this._events[e],o.push({_listeners:r});for(var i=0;i<o.length;i++){if(r=o[i]._listeners,a(r)){for(var s=-1,c=0,l=r.length;c<l;c++)if(r[c]===t||r[c].listener&&r[c].listener===t||r[c]._origin&&r[c]._origin===t){s=c;break}if(s<0)continue;return this._events[e].splice(s,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var a in r){var o=r[a],i=t[o];i instanceof n||"object"!=typeof i||null===i||(Object.keys(i).length>0&&e(t[o]),0===Object.keys(i).length&&delete t[o])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||i.call(this),this):(this._events&&delete this._events[e],this)},l.prototype.listeners=function(e){return this._events||i.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]};const u=l},1708:(e,r,n)=>{"use strict";n.d(r,{k:()=>i,n:()=>s});var a=void 0!==t&&t?t.version:"unknown",o=void 0!==t&&t?t.updateTime:"unknown";"string"==typeof a&&(a=a.replace(" ","")),"string"==typeof o&&(o=o.replace(" ","-"));var i=()=>a,s=()=>o},9822:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={requestPayment:57,setNavigationBarRightButton:238,requestVirtualPayment:285,setCookies:502,getCookies:503,openBizProfile:560,UDP:606,launchApplicationDirectly:620,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,launchApp:692,sendBizRedPacketForOpen:694,openWxappLimit5:720,shareCallback:740,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,requestSubscribeWhatsNew:782,shareImageMessage:801,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,handoff:931,private_chooseInvoiceTitleDirectly:932,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,openChannelsPostPage:984,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,plugin_launchApplicationDirectly_operateDirectly:1009,publishWeChatState:1014,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,userObRecording:1187,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,gameWelfareView:1250,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217,markRelievedBuyFlag:1232,enableAIAD:1233,gameCouponHangings:1235,skipDomainCheck:1266,previewImageLocal:1257,useGameCoverCodeCache:1272,private_createVestUser:1279,openMedicalInsuranceService:1288,openBusinessView:1295,choosePhoneNumberAreaCode:1273,useMagicBrushFrame:1299,returnWebviewUrlNotInBizDomainList:1298,disablePrivacyOfficialPopup:1305,operateTingAudio:1319,startQuotaControl:1329,skipDomainCheck_downloadFile:1335,skipDomainCheck_uploadFile:1336,skipDomainCheck_socket:1337,aiadBanCache:1343,aiadOnlyUsePreviewCache:1344,skipCheckCommercialWxaEncryptLicense:1364,canOpenEmbeddedMiniProgramAfterPayment:1365,useAiAdPreviewAdForm:1369,forceUsePreloadVersion:1376,isLiteGame:1375,getSCLAdapterForPlugin:1380,getElementPickerForPlugin:1381,startScreenShotForPlugin:1382,enableAiAdMultiAd:1387,aiadEnablePreviewVisionOptimize:1388,operateWXDataQuic:1390,aiadUsePreviewAdType:1392,skipWorkerProtect:1396,aiadEnableVisionShelterIdentify:1397,aiadUseDynamicUsrCache:1404,aiadUseSingleVersionConfiguration:1405,aiadEnablePreviewInterstitialAd:1419,aiadUseIncrementalWrite:1420,aiadDisableQuickLoad:1421,getPlayableViewAPI:1422,aiadBanner2CustomFeedback:1423,aiadExceptAlgoVersionFallback:1424,openUrlByExtBrowser3:1425,requestCommonPaymentForPlugin:1429,aiadDelayRuntimeComputed:1428,enableCacheAiadMetaInfos:1434,enableCacheAiadInterstitial:1435,openGameDetail:1438,aiadVisionUseGrayInput:1440}},4317:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});class n{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new n((t=>t(e)))}static reject(e){return new n((()=>{throw e}))}}},143:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});var n={},a=(e,t={})=>{if(!n[e]||t.noCache){var r={},a={},i={},s={on:(t,n)=>{r[t]&&w.warn(`基础库分包 ${e} on event: ${t} has subscribe listener`),r[t]=n,i[t]&&(i[t].forEach((e=>{n(e)})),delete i[t])},subscribe:(t,n)=>{r[t]&&w.warn(`基础库分包 ${e} subscribe event: ${t} has on listener`),a[t]||(a[t]=[]),a[t].push(n),i[t]&&(i[t].forEach((e=>{n(e)})),delete i[t])},publish:(e,t)=>{var n,o;return(n=r[e])?(n(t),!0):!!(o=a[e])&&(o.forEach((e=>e(t))),!0)},advancePublish:(e,t,r=!1)=>{(r?s.publish(e,t):o(e,t))||(i[e]||(i[e]=[]),i[e].push(t))},off:e=>{r[e]=null}};return n[e]=s,s}w.warn(`已经存在分包EM ${e}`)},o=(e,t,r,a)=>{var o=n[e];o&&(a?o.advancePublish(t,r):o.publish(t,r))}},6142:(e,t,r)=>{"use strict";r.d(t,{AT:()=>d,DM:()=>g,Em:()=>i,Ft:()=>u,HD:()=>s,Kn:()=>f,ZT:()=>w,eP:()=>m,fU:()=>_,hj:()=>c,i2:()=>p,kJ:()=>h,mf:()=>v,o8:()=>l,tI:()=>y,x7:()=>b});var a=(()=>Object.prototype.toString)(),o=n.prototype.call.bind(a);function i(e){return o(e).slice(8,-1)}var s=e=>"String"===i(e),c=e=>"Number"===i(e),l=e=>void 0===e,u=e=>null===e,p=(()=>Number.isNaN||(e=>e!=e))(),d=e=>c(e)&&Math.abs(e)===1/0,f=e=>"Object"===i(e),h=(()=>Array.isArray||(e=>"Array"===i(e)))(),v=e=>"function"==typeof e,g=e=>"Set"===i(e),y=e=>"Promise"===i(e),m=e=>"ArrayBuffer"===i(e),_=e=>ArrayBuffer.isView(e)&&!(e=>"DataView"===i(e))(e);function b(e,t,r="parameter"){var n=i(t),a=i(e);if(a!==n)return`${r} should be ${n} instead of ${a};`;var o="";switch(n){case"Object":Object.keys(t).forEach((n=>{o+=b(e[n],t[n],`${r}.${n}`)}));break;case"Array":if(e.length<t.length)return`${r} should have at least ${t.length} item;`;for(var s=0;s<t.length;++s)o+=b(e[s],t[s],`${r}[${s}]`);break;case"String":if(t.length>0&&0===e.length)return`${r} should be not empty string`}return o}function w(){}},1868:(e,t,r)=>{"use strict";r.d(t,{NX:()=>s,Vl:()=>i});var n=r(8138),a=(()=>Object.assign)();var o=Symbol("ErrorInfosSymbol"),i=e=>(t={},...r)=>new Promise(((n,i)=>e(a({},t,{success:n,fail:e=>{var{errMsg:t}=e,r=a({},e);delete r.errMsg;var n=new Error(t.replace(/^\w+:fail ?/,""));a(n,r),n[o]=r,i(n)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var r=new Error(e.errMsg.replace(/^\w+:/,"")),n=a({},e);delete n.errMsg,a(r,n),r[o]=n,r._complete_hook=!0,i(r)}}}),...r)));function s(e,t){return(r={},...i)=>{var s={success:r.success,fail:r.fail,complete:r.complete};delete(r=a({},r)).success,delete r.fail,delete r.complete,t(r,...i).then((t=>(0,n.FE)({name:e,args:s,success:!0,res:t})),(t=>{t._complete_hook?(0,n.S3)({name:e,args:s,errMsg:t.message,res:t[o]||{}}):(0,n.FE)({name:e,args:s,success:!1,errMsg:t.message,res:t[o]||{}})}))}}},1190:(e,t,r)=>{"use strict";r.d(t,{RG:()=>i});var n=r(1591),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new n.l(`atob failed: invalid string length ${t.length}`);for(var o,i,s=0,c=0;i=t.charAt(c++);~i&&(o=s%4?64*o+i:i,s++%4)?r+=String.fromCharCode(255&o>>(-2*s&6)):0)i=a.indexOf(i);return r}function i(e){for(var t=o(e),r=t.length,n=new Uint8Array(r),a=0;a<r;a++)n[a]=t.charCodeAt(a);return n.buffer}},8007:(e,t,r)=>{"use strict";function n(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}r.d(t,{b:()=>n})},8929:(e,t,r)=>{"use strict";r.d(t,{Hw:()=>i,M8:()=>a,Qu:()=>o});var n=(()=>Object.assign)();function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function o(e,t,r){var a=function(e){return function(t={},...r){t=t||{};var{success:a,fail:o,complete:i}=t;return a||o||i?e.apply(this,[t].concat(r)):new Promise(((a,o)=>{var i=n({success:a,fail:o},t);e.apply(this,[i].concat(r))}))}}(r.value);return r.value=function(){return a.apply(this,arguments)},r}function i(e,t){return function(...r){try{return e(...r)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?v.thirdErrorReport({error:e,extend:t}):v.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}},2805:(e,t,r)=>{"use strict";function n(...e){return e.reduce(((e,t)=>{for(var r in t)e[r]=t[r];return e}),{})}r.d(t,{f0:()=>n,nr:()=>o});var a=Object.prototype.hasOwnProperty;function o(e,t){return a.call(e,t)}},5133:(e,t,r)=>{"use strict";r.d(t,{Tk:()=>o});var n=r(7445),a=[{match:/^connectSocket/,version:1},{match:/^request/,version:n.IS_ANDROID?3:1},{match:/^downloadFile/,version:n.IS_ANDROID?3:1}];function o(e,t){a.push({match:e,version:t})}},6347:(e,t,r)=>{"use strict";r.d(t,{HR:()=>i,Z8:()=>a,cE:()=>s,mQ:()=>c,wK:()=>o});var n=r(2805);function a(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}var o=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function i(e,t=!1){if("object"!=typeof e)return e;var r="";for(var a in e)if((0,n.nr)(e,a))if(t)try{r+=`${encodeURIComponent(a)}=${encodeURIComponent(e[a])}&`}catch(t){r+=`${a}=${e[a]}&`}else r+=`${a}=${e[a]}&`;return r&&(r=r.slice(0,-1)),r}function s(e,t){var r=Object.keys(t);if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){var a=e.split("?"),o=a[0],s=(a[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],a=r[1];e[n]=a}return e}),{}),c=r.reduce(((e,r)=>("object"==typeof t[r]?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e)),{});return o+"?"+i((0,n.f0)(s,c))}return e}function c(e,t="http"){return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}},6551:(e,t,r)=>{"use strict";r.d(t,{cv:()=>o,yC:()=>n});function n(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),n=t.split("."),a=Math.max(r.length,n.length);r.length<a;)r.push("0");for(;n.length<a;)n.push("0");for(var o=0;o<a;o++){var i=parseInt(r[o],10),s=parseInt(n[o],10);if(i>s)return 1;if(i<s)return-1}return 0}function a(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,r=0;r<e.length;r++)if(!Number.isNaN(parseInt(e[r],10))){t=r;break}return e.slice(t)}function o(e,t){return e||t?e?t?n(a(e),a(t)):1:-1:0}},3329:(e,t,r)=>{"use strict";r.d(t,{k:()=>p});var n=r(9661),a=null;i.onLoad((()=>{i.globalShare.reusableWorkerId&&s(i.globalShare.reusableWorkerId)}));var o,s=e=>{a=e},c=()=>a;function l(){d.onWorkerMsg(((e,t)=>{if(e===this.workerId){if(t.workerId)return;if(t.data){var{cmd:r,callbackId:n,data:a}=t.data;if("callback"===r){var{result:o,errMsg:i}=a;this.emitter.emit(n,o,i)}}}}))}class u{init(e){this.workerId=e,this.callbackId=0,this.generateCallbackId=()=>++this.callbackId,this.emitter=new n.Z,l.call(this)}constructor(){if(c())this.init(c());else{var{workerId:e}=d.createWXLibWorker("WAAccelerateWorker.js",{APIList:[]});-1!==e?this.init(e):this.unsupport=!0}}runTask(e,t){return this.unsupport?Promise.reject(new Error("unsupport")):new Promise(((r,n)=>{var a=String(this.generateCallbackId());this.emitter.once(a,((e,t)=>{t?n(new Error(t)):r(e)}));var o={cmd:e,callbackId:a,data:t};o={data:o},d.postMsgToWorker(this.workerId,o,void 0,!1)}))}}var p=()=>o||(o=new u)},3478:(e,t,r)=>{"use strict";r.d(t,{j:()=>o});var n=Object.create(null);var a=r(8929);function o(e,t){if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onMethod:r}=SDK;return r(e,t)}!function(e,t){n[e]instanceof Array?n[e].push(t):(n[e]=null,l.on(e,((e,r,n)=>{"number"!=typeof(null==n?void 0:n.__subscribe_webviewId)&&t(e,r,n)})))}(e,(0,a.Hw)(t,`at api ${e} callback function`))}},3341:(e,t,r)=>{"use strict";var a;r.d(t,{be:()=>Ue,Rn:()=>He.Rn,r3:()=>He.r3,FE:()=>He.FE,YG:()=>He.YG,NJ:()=>$e,IN:()=>je,bb:()=>We,yD:()=>Ge.yD,Qh:()=>Ge.Qh,oQ:()=>Ne,jQ:()=>qe.j,TG:()=>Je,nY:()=>R,Ld:()=>j,ZI:()=>Ke,qB:()=>ze});const s={get invoke(){return a},set invoke(e){a=e}};var c=r(6342),u=r(9822),p=null,d=[],f=e=>{null!==p?e():d.push(e)},g=e=>{p=e.data.pluginPermissionBytes,d.forEach((e=>e())),d=[]};l.subscribe("batchGetPluginPermissionBytes",g),i.onLibraryEnd((()=>{"undefined"!=typeof __subContextEngine__&&"function"==typeof __subContextEngine__.onSubContextMessage&&__subContextEngine__.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&g(e)}))})),l.subscribe("getPluginPermissionBytesByJsApi",(e=>{_(e.data.pluginId,e.data.apiName,(t=>{l.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var y=e=>e.split("/",1)[0],m=(e,t)=>{var r,n,a=null===(r=p)||void 0===r||null===(n=r[e])||void 0===n?void 0:n[t];return null==a?a=[0,0,0]:"object"!=typeof a&&(a=[a,a,a]),a};function _(e,t,r){e=y(e),o.supportInvokeWithAppId?l.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[u.Z[t]]}]},(t=>{var n,a,o=(null===(n=t.pluginPermissionMap)||void 0===n||null===(a=n[e])||void 0===a?void 0:a[0])||0;r([o,o,o])})):f((()=>{var n=m(e,t);r(n)}))}var b=r(8246),k=r(7445);var S,I=r(9370),C={},T=!1,x=null,A=(new Promise((e=>x=e)),e=>C[e]||I.hr.getPageTypeById(e)),P=(e,t)=>{"context"===t?C[e]=t:I.hr.setPageTypeById(e,t),(T=T||"webview"!==t)&&x&&(x(0),x=null)},E=e=>"webview"===e?e:"context";null===(S=l.clientManager)||void 0===S||S.on("clientConnected",(e=>{P(e,"webview")}));var O=(e,t={},r)=>{T&&(Array.isArray(r)?r.forEach((r=>{__subContextEngine__.postMessageToSubContext({event:e,params:{params:t,pageId:r}},r)})):__subContextEngine__.postMessageToSubContext({event:e,params:{params:t}},r))};function M(e,t,r){!function(e,t,r){l.publish(e,t,r)}(e,{data:t,options:{timestamp:Date.now()}},r)}var R=k.isAppService?(e,t,r)=>{if(null==r)M(e,t,r),O(e,t,r);else{var n=(e=>{if(void 0===e||0===e.length)return{};var t=E(A(e[0]));if(1===e.length)return{[t]:e};var r={};return e.forEach((e=>{var t=E(A(e));void 0!==r[t]?r[t].push(e):r[t]=[e]})),r})(r);void 0!==n.webview&&M(e,t,n.webview),void 0!==n.context&&O(e,t,n.context)}}:M;function D(e,t){}var L=k.isAppService?new i.EventEmitter:null;k.isAppService&&i.onLibraryEnd((()=>{__subContextEngine__.onSubContextMessage((e=>{L.emit(e.event,e.params)}))}));var N,j=k.isAppService?(e,t)=>{((e,t)=>{L.on(e,(e=>{void 0===A(e.pageId)&&P(e.pageId,"context"),t(e.params,e.pageId)}))})(e,t)}:D,W="",F="",$=(e={},t)=>{var r=e.sessionid||e.sessionId,n=e.scene;e.transitExtraData?(W=e.transitExtraData.adUxInfo,F=e.transitExtraData.commonUxInfo):(t||r!==N&&1038!==n)&&(W="",F=""),N=r};c.default.onReady((()=>{$(c.default.appLaunchInfo,!0)})),(0,b.n)("onAppEnterForeground",(e=>{$(e,!1)})),(0,b.n)("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(W="",F="")})),j("getAdUxInfo",((e,t)=>{R("adUxInfoGot",{adUxInfo:W,callbackId:e.callbackId,commonUxInfo:F},[t])}));var B=()=>W,U=()=>F,q={customUrl:null,urlTitle:null,useCustomPrivacyAuthorization:!1,popUpTime:0,externInfo:{},regExp:"(.*)<a.*?href=['|\"](.*?)['|\"].*?>(.*?)</a>(.*)",standardInfo:{},isCache:!1,protoRes:{},hasAgree:!1,needScopeCache:[],unauthScopeCache:{},actionCache:0,banReasonCache:null,officialPrivacyAuthorizationShowingGap:60,minGap:60,popUpInterval:{},forceOffcial:0,safeAreaHeight:0,isShowing:!1,requireAuthJSApiList:[],requireAuthJSApiListMap:{},requireAuthPipelineList:[],requireAuthPipelineListMap:{},requireAuthOuterScopeList:[],requireAuthOuterScopeListMap:{},useCheckBoxOnClientPopup:!1,didReportForPrivacyCheckBox:!1},H=(e,t={})=>{if(q.didReportForPrivacyCheckBox)return!1;if("operateWXData"===e){var r;if(null!=t&&null!==(r=t.data)&&void 0!==r&&r.api_name)return q.requireAuthPipelineListMap[t.data.api_name]}else{if("authorize"!==e)return q.requireAuthJSApiListMap[e];if(t.scope&&t.scope[0])return q.requireAuthOuterScopeListMap[t.scope[0]]}};var G=new(r(9661).Z);function V(e,t,r,n={}){var a=r;r=r=>{H(e,t)&&(0===(r.errMsg||`${e}:ok`).indexOf(`${e}:ok`)&&G.emit("success",e));"function"==typeof a&&a(r)},"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||B(),t.commonUxInfo=t.commonUxInfo||U());var o=n.appId;return"splashad"===i.env.workerType||c.default.supportInvokeWithAppId||void 0===o||void 0!==i&&i.env.isGame||4===c.default.appType||19===c.default.appType?l.invoke(e,t,r,n):f((()=>{var a=function(e,t,r){t=y(t),delete r.permissionBytes;var n=m(t,e);return r.permissionBytes=n,r}(e,o,t);l.invoke(e,a,r,n)}))}var J={},K={},z={},Q=0,Z=(e,t)=>Object.keys(t).map((r=>Object.keys(t[r]).map((n=>({func:r,result:e,errMsg:n,count:t[r][n]}))))),X=()=>{var e=Z(1,J),t=Z(2,K),r=Z(3,z),n=[].concat(e,t,r);0!==n.length&&je("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:n,appType:v.getAppType()}),noCallback:!0}),J={},K={},z={}},Y=(e,t,r,n,a)=>{var o;(o=t?J:r?K:z)[e]=o[e]||{},o[e][a]=(o[e][a]||0)+1,Date.now()-Q>=6e4&&(Q=Date.now(),setTimeout(X,6e4))},ee=r(8929),te=r(1868),re=r(6142),ne=r(5125),ae={OK:0,BLOCK:1,BLOCK_WITH_TOAST:2},oe={OK:1,BLOCK:2,NO_BLOCK:3},ie={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},se="该功能暂时无法使用",ce=w.createLogger("BanForPage"),le=!1,ue=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),pe=[];function de(e,t,r){var n=function(e,t,r){for(var n=-1,a=0;a<pe.length;a++){var o=pe[a];if((!(0,re.HD)(o.path_rule)||!o.path_rule||new RegExp(o.path_rule).test(t))&&(!(0,re.HD)(o.title_rule)||!o.title_rule||new RegExp(o.title_rule).test(r))){n=a;break}}return ce.log(`[getBanRuleIndexForPage] banRuleIndex=${n}`),n}(0,t,r);return-1===n?(fe(e,oe.OK,ie.API,e),!0):function(e,t){var r,n,a=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!a)return ce.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(ce.log("[checkAPIAvailableForPageByRule], found APIItem:",a),a.state===ae.OK)r=!1;else if(a.state===ae.BLOCK)r=!0;else if(a.state===ae.BLOCK_WITH_TOAST&&(r=!0,1===e.is_valid)){var o=a.toast_wording||se;Ue("showToast",{title:o,icon:"none"})}return n=r?e.is_valid?oe.BLOCK:oe.NO_BLOCK:oe.OK,fe(t,n,ie.API,t),1!==e.is_valid||!r}(pe[n],e)}function fe(e,t,r,n="",a=""){if(ce.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${r}, extraInfo=${n}, needReport=${le}`),le){var{appLaunchInfo:o}=c.default,i=Object.keys(ne.Z.query).map((e=>`${e}=${ne.Z.query[e]}`)).join("&"),s={session_id:o.sessionid||o.sessionId,cur_path:ne.Z.lastRoute+(i?`?${i}`:""),title:ne.Z.navigationBarTitleMap[ne.Z.lastRoute],check_scene:r,block_status:t,extra_info:n,launch_scene:o.scene,launch_path:o.path,target_path:a};ce.log("[reportAPIBanForPage], reqData:",s),(0,Ge.yD)({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete(e){ce.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}c.default.onReady((()=>{if(!k.IS_DEVTOOLS)try{var{do_report:e,navigate_ban_rule_list:t}=c.default.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;pe=t,le=1===e&&(0,k.isThirdPartyApp)(),ue=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),ue))}catch(e){ce.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var he=n.prototype.call.bind(Array.prototype.push),ve=(n.prototype.call.bind(Array.prototype.forEach),["startPullDownRefresh"]),ge=[],ye={appRoute:!1,appRouteDone:!1};r(1708),r(3385);var me,_e=(()=>Object.create)(),be=(()=>Object.assign)(),we=(()=>Object.keys)(),ke=(()=>Array.prototype.reduce)(),Se=Array.prototype.includes.bind(ve),Ie=n.prototype.call.bind(ke),Ce=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"];function Te(e,t){return Ie(we(e),((r,n)=>("function"==typeof e[n]&&(r[n]=h.surroundThirdByTryCatch(e[n],`at api ${t} ${n} callback function`),delete e[n]),r)),{})}function xe(e,t,r,n,a){e.errMsg=e.errMsg||`${t}:ok`;var o=0===e.errMsg.indexOf(`${t}:ok`),i=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof n.beforeAll&&n.beforeAll(e),o?function(e,t,r,n,a){var o=function(){"function"==typeof e.success&&e.success(r),"function"==typeof n.afterSuccess&&n.afterSuccess(r)};"function"==typeof n.beforeSuccess?2===n.beforeSuccess._argumentsLength?n.beforeSuccess(r,o):(n.beforeSuccess(r),o()):o(),"function"==typeof me&&me(t,a)}(r,t,e,n,a):i?function(e,t,r,n){var a=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(a,`${t}:fail cancel`),"function"==typeof r.fail&&r.fail(e),"function"==typeof n.beforeCancel&&n.beforeCancel(e),"function"==typeof r.cancel&&r.cancel(e),"function"==typeof n.afterCancel&&n.afterCancel(e)}(e,t,r,n):s&&(Re(e,a),function(e,t,r,n){"function"==typeof e.beforeFail&&e.beforeFail(r),"function"==typeof n.fail&&n.fail(r),"function"==typeof e.afterFail&&e.afterFail(r),(0,re.mf)(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(r)||v.reportIDKey({key:`${t}_fail`})}(n,t,e,r)),"function"==typeof r.complete&&r.complete(e),"function"==typeof n.afterAll&&n.afterAll(e),Y(t,o,s,i,e.errMsg)}var Ae=(()=>String.prototype.split)(),Pe=(()=>String.prototype.startsWith)(),Ee=n.prototype.call.bind(Ae),Oe=e=>Ee(e,"/",1)[0],Me=n.prototype.call.bind(Pe),Re=(e,t)=>{if("string"==typeof e.errMsg&&o&&o.accountInfo){var r=o.accountInfo.appId;"string"==typeof t&&Me(t,"wx")&&(r=Oe(t));var n=e.errMsg.split(":");102!==e.errno&&"fail no permission"!==n[n.length-1]||(e.errMsg=`${e.errMsg}, appId=${r}`)}};function De(e){return function(t,r={},n={},a="/"){var o=n.notPack;(0,re.Kn)(r)||(r={}),"operateWXData"===t&&(r._isFromBaseOperateWXData,delete r._isFromBaseOperateWXData),n=function(e,t){return Ie(we(e),((r,n)=>("function"==typeof e[n]&&(r[n]=(0,ee.Hw)(e[n],`at api ${t} ${n} callback function`),r[n]._argumentsLength=e[n].length),r)),{})}(n,t);var s=function(e,t,r,n){var a;return a=r.isThird?Te(r,t):Te(e,t),function(e){xe(e,t,a,r,n)}}(r=be(_e(null),r),t,n,a);v.reportIDKey({key:t});var c,l,u,p={keepOriginalParams:(c=t,k.WK_RENDERER_H5||k.IS_ANDROID&&Ce.includes(c))};if(i.env.isMagicBrushFrameEnv&&r.contextId&&(p.contextId=r.contextId,delete r.contextId),!e&&"splashad"!==i.env.workerType){if((0,k.isThirdPartyApp)()&&ue.has(t)&&(l=t,u=Object.keys(ne.Z.query).reduce(((e,t)=>[...e,`${t}=${ne.Z.query[t]}`]),[]).join("&"),!de(l,ne.Z.lastRoute+(u?`?${u}`:""),ne.Z.navigationBarTitleMap[ne.Z.lastRoute]||"")))return void s({errMsg:`${t}:fail API has been banned`});if(delete r.pluginId,delete r.permissionBytes,"string"==typeof a&&Me(a,"wx")){var d=Oe(a);p.appId=d}}o&&(p.notPack=!0),V(t,r,s,p)}}var Le,Ne=De(!1),je=(e,t,r)=>{Se(e)?((e,t,r)=>{var{appRoute:n,appRouteDone:a}=ye;!n&&a?Ne(e,t,r):he(ge,{name:e,args:t,option:r})})(e,t,r):Ne(e,t,r)},We=(e,t,r)=>(0,te.Vl)((t=>je(e,t,r)))(t),Fe={},$e=(e,t,r)=>{var n,a=r.notPack,o={pureInvoke:!0,highPerformance:Fe,keepOriginalParams:k.WK_RENDERER_H5};n=Le||(()=>{if(Le)return Le;var e=(e,t)=>{var r=Fe[t];if(r){e.errMsg=e.errMsg||`${r.__jsapi_name__}:ok`;var n=0===e.errMsg.indexOf(`${r.__jsapi_name__}:ok`),a=new RegExp(`${r.__jsapi_name__}:(fail |fail:)?cancel`).test(e.errMsg),o=0===e.errMsg.indexOf(`${r.__jsapi_name__}:fail`);try{n&&r.success?r.success(e):a&&r.cancel?r.cancel():o&&r.fail(e),r.complete&&r.complete(e)}catch(e){}Y(r.__jsapi_name__,n,o,a,e.errMsg),delete Fe[t]}};return Le=e,e})(),i.env.isMagicBrushFrameEnv&&t.contextId&&(o.contextId=t.contextId,delete t.contextId),a&&(o.notPack=!0),t.__jsapi_name__=e,l.pureInvoke(e,t,n,o)},Be=De(!0),Ue=(e,t,r)=>{Be(e,t,r)},qe=r(3478);s.invoke=je;var He=r(8138),Ge=r(8190),Ve=(()=>Object.assign)();function Je(e,t,r=(()=>{}),n=(()=>{})){return(a={})=>{var{success:o,fail:i}=(0,He.Rn)(a,e);(0,Ge.yD)({apiName:t,reqData:r(a)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,Ve(e,e.rawDataObject),n(e),delete e.rawDataObject,o(e)},fail:i,complete:void 0})}}function Ke(e,t){var{initEventCallbackReport:r,eventCallbackBegin:n,eventCallbackEnd:a}=i.callbackReporter;return function(){r();var o=n(),i=e.apply(this,arguments);return o&&a(t,o,i),i}}function ze(e,t){var{initJsapiCallbackReport:r,jsapiCallbackBegin:n,jsapiCallbackEnd:a}=i.callbackReporter;return function(){r();var o=n(0,t),i=e.apply(this,arguments);return o&&a(t,o.jsHandleBegin,!1,i),i}}},7994:(e,t,r)=>{"use strict";r.d(t,{Ge:()=>p,WQ:()=>s,_F:()=>c,g5:()=>d,sJ:()=>u});var n,a=r(6342),o=r(7445),i=r(182),s=()=>{var e,t,r=!1;if(o.IS_IOS)r=!("1"!==(null===a.default||void 0===a.default||null===(e=a.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_group_control)||"1"!==(null===a.default||void 0===a.default||null===(t=a.default.expt)||void 0===t?void 0:t.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1));else if(o.IS_ANDROID){var n,s;r=!("1"!==(null===a.default||void 0===a.default||null===(n=a.default.expt)||void 0===n?void 0:n.clicfg_appbrand_android_operatewxdata_quic_group_control)||"1"!==(null===a.default||void 0===a.default||null===(s=a.default.expt)||void 0===s?void 0:s.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1))}return r=r&&(0,i.J)("operateWXDataQuic")},c=()=>{var e;if(o.IS_IOS)null===a.default||void 0===a.default||null===(e=a.default.expt)||void 0===e||e.clicfg_appbrand_ios_operatewxdata_batch;else if(o.IS_ANDROID){var t;"1"===(null===a.default||void 0===a.default||null===(t=a.default.expt)||void 0===t?void 0:t.clicfg_appbrand_android_operatewxdata_batch)}return!1},l=()=>{var e,t=!1;if(o.IS_IOS)t="1"===(null===a.default||void 0===a.default||null===(e=a.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority);else if(o.IS_ANDROID){var r;t="1"===(null===a.default||void 0===a.default||null===(r=a.default.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_priority)}return t},u=()=>l()&&(()=>{var e,t=!1;if(o.IS_IOS)t="1"===(null===a.default||void 0===a.default||null===(e=a.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority_group_control);else if(o.IS_ANDROID){var r;t="1"===(null===a.default||void 0===a.default||null===(r=a.default.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_priority_group_control)}return t})(),p=e=>{var t,r,i,l;l=e?e.useQuic?1:0:s()?1:0;var p,d,f=o.IS_ANDROID&&"1"===(null===a.default||void 0===a.default||null===(t=a.default.expt)||void 0===t?void 0:t.clicfg_handle_reqresp_in_worker_android)?10:0,h=c()?1e4:0,v=(()=>{if(void 0===n){var e;if(o.IS_IOS)n=Number(null===a.default||void 0===a.default||null===(e=a.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_ad_operatewxdata_batch)>=1;else if(o.IS_ANDROID){var t;n=Number(null===a.default||void 0===a.default||null===(t=a.default.expt)||void 0===t?void 0:t.clicfg_appbrand_android_ad_operatewxdata_batch)>=1}else n=!1;w.info("是否开启广告上报batch:",n)}return n})()?1e5:0,g=(p=!1,o.IS_ANDROID?p="1"===(null===a.default||void 0===a.default?void 0:a.default.expt.clicfg_appbrand_android_jsapi_nocallback):o.IS_IOS&&(p=!0),p?1e6:0);d=e?e.usePriority?1e7:0:u()?1e7:0;var y=o.IS_ANDROID?1e8:0,m=o.IS_ANDROID?1e9:0;return(1===Number(null===a.default||void 0===a.default||null===(r=a.default.expt)||void 0===r||null===(i=r.clicfg_miniprogram_adreport_use_kv)||void 0===i?void 0:i.value)?1e10:0)+m+y+d+g+v+h+1e3+100+f+l},d=()=>{var e,t=0,r=l()?10:0;if(o.IS_IOS)t="1"===(null===a.default||void 0===a.default||null===(e=a.default.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1)?1:0;else if(o.IS_ANDROID){var n;t="1"===(null===a.default||void 0===a.default||null===(n=a.default.expt)||void 0===n?void 0:n.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1)?1:0}return r+t}},8190:(e,t,r)=>{"use strict";r.d(t,{yD:()=>N,BB:()=>W,Qh:()=>j});var n=r(3341),a=r(6342),o=r(5125),i=r(1708),s=r(8007),c=r(8246),l=r(7994),u=0;(0,c.n)("onAppEnterBackground",(()=>{u++}));var p=new Set(["webapi_getwxauserallphone","webapi_wxa_createmidasorder","webapi_wxa_getiapinfocreateitemorder","webapi_wxa_getiapinfocreatecoinorder","webapi_getiapinfocreatecoinorder","webapi_getiapinfocreateitemorder","webapi_createiapbuygamecoinorder","webapi_createiapbuygameitemorder","webapi_getwxauserprivacyauthinfo","webapi_getuserallappauth","webapi_swapopengid","webapi_getshareinfo","ProductLogic","webapi_getadvert","gameTransfer","webapi_openproductaddorder","DiscoveryGetUsageApp","WxaDiscoveryChannel","qbase_commapi","webapi_finder_ec","webapi_game_transfer"]);function d(e){!function(e){var{WXDataApiName:t,argument:r,isSuccess:n,invokeTime:c,TotalCost:p,result:d="",errMsg:f,isConfirm:h,queueLength:g,wxdataQueueTimestamp:y,wxdataDequeueTimestamp:m,beginCGITimestamp:_,CGICallbackTimestamp:b,beginCGITimestampAfterConfirm:w,CGICallbackTimestampAfterConfirm:k,wxlibCallbackTimestamp:S,requestInQueue:I,requestingCount:C,JsToClientCost:T,QueueCost:x,ChildToMainProcessCost:A,MMNetCost:P,MainToChildProcessCost:E,ClientToJsCost:O,fromWebview:M,doReportDetails:R,BatchType:D=0,sdkApiName:L,adExtra:N}=e;R&&setTimeout((()=>{var M=o.Z.currentNetworkType,R=a.default.appType+1e3,j=a.default.appLaunchInfo&&void 0!==a.default.appLaunchInfo.scene?a.default.appLaunchInfo.scene:0,W=3,F=N&&N.adReportAction,$=N&&N.adLogid,B=(0,l.Ge)(e),U=e.ProtocolType,q=e.QuicBytes,H=e.thisEnterBackgroundCount===u?1:2,G=[t,JSON.stringify(r).replace(/,/g,";"),n?1:0,c,p,M,d.replace(/,/g,";"),R,j,(0,i.k)(),(0,i.n)(),encodeURIComponent(f||""),h?1:0,g,T,x,A,P,E,O,0,I?1:0,C,c,y,m,_,b,w,k,S,0,B,W,D,L,F,$,U,q,H].map((0,s.b)(1024)).join(",");v.reportKeyValue({key:"WeAppOperateWXData",value:G})}),0)}(e),function(e){if(e.doReportProfile&&p.has(e.WXDataApiName)){var t,r=e.networkType||o.Z.currentNetworkType,n=a.default.appType+1e3,s=(0,i.k)()+" "+(0,i.n)(),c=e.argument,d=e.WXDataApiName;if("ProductLogic"===d)d=`ProductLogic-${null===(t=c.data.data)||void 0===t?void 0:t.method}`;else if("gameTransfer"===d){var f;d=`gameTransfer-${null===(f=c.data.data)||void 0===f?void 0:f.req_path}`}else if("webapi_game_transfer"===d){var h;d=`webapi_game_transfer-${null===(h=c.data.data)||void 0===h?void 0:h.req_path}`}var g=(0,l.Ge)(e),y=e.isSuccess?0:1,m=e.invokeTime,_=e.TotalCost,b=e.TimeStampId,w=encodeURIComponent(e.errMsg||""),k=e.isConfirm?1:0,S=e.queueLength,I=e.JsToClientCost,C=e.QueueCost,T=e.ChildToMainProcessCost,x=e.MMNetCost,A=e.MainToChildProcessCost,P=e.ClientToJsCost,E=e.PopupCost,O=e.MMNetCost2rd,M=e.requestInQueue?1:0,R=e.requestingCount,D=e.ClientSequenceId,L=e.BeginTs,N=e.EndTs,j=e.thisEnterBackgroundCount===u?1:2,W=e.RequestCount,F=e.LaunchDistance,$=e.TimeSinceLastRequest,B=e.MarsPackCost,U=e.MarsConnCost,q=e.MarsTLSCost,H=e.MarsNetCost,G=e.MarsUnPackCost,V=e.ChannelType,J=e.ProtocolType,K=3,z=e.QuicBytes,Q=e.LibParseCost,Z=(0,l.g5)(),X=e.MarsTotalCost,Y=e.MainToPushProcessCost,ee=e.MMNetStartTaskCost,te=e.MMNetReq2BufCost,re=e.MMNetBuf2RespCost,ne=e.MMNetOnTaskEndCost,ae=e.PushToMainProcessCost,oe=[r,s,n,g,d,y,m,_,b,w,k,S,I,C,T,x,A,P,E,O,M,R,D,L,N,encodeURIComponent(JSON.stringify(c)),j,W,F,$,X,"",B,"",U,q,H,G,V,J,z,K,Q,Z,Y,ee,te,re,ne,ae].join(",");v.reportKeyValue({key:"operateWXDataProfile",value:oe})}}(e)}var f,h,g=r(5863),y=0,m=0,_=0,b=new Set(["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"]),k=new Set(["advert_report","webapi_advideo_report","webapi_wxa_dramaplayreport","webapi_reportpayrecord","webapi_reportnvgcheckinfo","webapi_reportwxacityservicescreenshot","webapi_reportclicheckresult","webapi_openproductreportorder","webapi_wxaseceventreport","webapi_game_ad_report","webapi_wxaasyncinputreport","webapi_adfollow_report"]),S=new Set(["qbase_commapi","webapi_botdemo"]),I=!1,C=!1;a.default.onReady((()=>{f=Date.now(),I=(0,l.WQ)(),C=(0,l.sJ)()}));var T=(e={},t={},{fromWebview:r,showApiVersion:a,showProfile:o,batchType:i,sdkApiName:s,adExtra:c})=>{var p=i>=1,d=Object.assign({},e);d._isFromBaseOperateWXData=!0;var T,x=t.beforeAll,A=d.data.api_name,P=Date.now();T=h?P-h:-1,h=P;var E,O=P,M=u,R=P-f;P<=_&&(P=_+1),_=P,b.has(A)?(d.requestInQueue=!0,delete d.timeout):d.requestInQueue=!1,d.isImportant=!!p,S.has(A)&&(d.keepAlive=!0),d.useQuic=I&&!p,d.data.tid=P,E=g.r.workerId?+g.r.workerId+300:300,d.data.env=E,d.priority||C&&(k.has(A)?(d.priority=2,d.timeout=(d.timeout||6e4)+6e4):d.priority=3);var D={isSuccess:void 0,WXDataApiName:A,argument:d,invokeTime:O,requestInQueue:d.requestInQueue,requestingCount:++y,TimeStampId:P,RequestCount:++m,LaunchDistance:R,TimeSinceLastRequest:T,fromWebview:r,thisEnterBackgroundCount:M,BatchType:i,sdkApiName:s,adExtra:c,useQuic:I,usePriority:C};v.reportFrameworkIDKey(25),w.info(`baseOperateWXData invoke apiName=${A}, TimeStampId=${P}, useQuic=${I}, usePriority=${C}, batchType=${i}`),(0,n.IN)("operateWXData",d,{beforeAll(e){var r=Date.now();D.onJsCallbackTimestamp=r,y--;var n=Math.random(),a=n<.01,i=n<.1,s=a||i;if(D.doReportDetails=a,D.doReportProfile=i,s&&("object"==typeof e.data&&e.data?D.result=JSON.stringify(e.data):D.result=e.data),e.clientInfo&&"object"==typeof e.clientInfo){var c=e.clientInfo;delete e.clientInfo,(s||o)&&(Object.assign(D,c),D.JsToClientCost=c.wxdataQueueTimestamp-D.invokeTime,D.QueueCost=c.wxdataDequeueTimestamp-c.wxdataQueueTimestamp,D.ChildToMainProcessCost=c.beginCGITimestamp-c.wxdataDequeueTimestamp,D.MMNetCost=c.CGICallbackTimestamp-c.beginCGITimestamp,D.MainToChildProcessCost=c.wxlibCallbackTimestamp-c.CGICallbackTimestamp,D.ClientToJsCost=r-c.wxlibCallbackTimestamp,c.beginCGITimestampAfterConfirm>0&&c.beginCGITimestampAfterConfirm<0x9bc39d22b2c4&&(D.PopupCost=c.beginCGITimestampAfterConfirm-c.CGICallbackTimestamp,D.MMNetCost2rd=c.CGICallbackTimestampAfterConfirm-c.beginCGITimestampAfterConfirm),c.startConnectTime&&(D.MarsConnCost=c.connectSuccessfulTime-c.startConnectTime,D.MarsTLSCost=c.handshakeSuccessfulTime-c.startHandshakeTime,D.MarsPackCost=c.startSendPacketTime-c.connectSuccessfulTime,D.MarsNetCost=c.startReadPacketTime-c.startSendPacketTime,D.MarsUnPackCost=c.readPacketFinishedTime-c.startReadPacketTime,D.MarsTotalCost=c.readPacketFinishedTime-c.taskStartTime),c.MMNetStartTaskBegin&&c.MMNetStartTaskEnd&&c.MMNetReq2BufBegin&&c.MMNetReq2BufEnd&&c.MMNetBuf2RespBegin&&c.MMNetBuf2RespEnd&&c.MMNetOnTaskEndBegin&&c.MMNetOnTaskEndEnd&&(D.MainToPushProcessCost=c.MMNetStartTaskBegin-c.beginCGITimestamp,D.MMNetStartTaskCost=c.MMNetStartTaskEnd-c.MMNetStartTaskBegin,D.MMNetReq2BufCost=c.MMNetReq2BufEnd-c.MMNetReq2BufBegin,D.MMNetBuf2RespCost=c.MMNetBuf2RespEnd-c.MMNetBuf2RespBegin,D.MMNetOnTaskEndCost=c.MMNetOnTaskEndEnd-c.MMNetOnTaskEndBegin,D.PushToMainProcessCost=c.CGICallbackTimestamp-c.MMNetOnTaskEndEnd),D.networkType=c.netType,D.ChannelType=c.channelType,D.ProtocolType=c.protocolType)}"function"==typeof x&&x.call(t,e)},beforeSuccess(e){w.info(`baseOperateWXData success apiName=${A}, TimeStampId=${P}, useQuic=${I}, usePriority=${C}, batchType=${i}`),v.reportFrameworkIDKey(26),D.isSuccess=!0,d.data.data&&d.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=D),a&&(e.apiVersion=(0,l.Ge)(D)),e.reportObj=D},beforeFail(e={}){v.reportFrameworkIDKey(27),D.isSuccess=!1,D.errMsg=JSON.stringify(e),D.err_code=e.err_code,D.errno=e.errno,w.info(`baseOperateWXData fail apiName=${A}, TimeStampId=${P}, useQuic=${I}, usePriority=${C}, batchType=${i}, errMsg=${D.errMsg}`),"1030"!==e.err_code&&"1031"!==e.err_code||(D.QuicBytes=e.errMsg.slice(e.errMsg.length-1),D.ProtocolType=2),d.data.data&&d.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=D),e.reportObj=D}})},x=r(9806),A=r(4081),P=r(4500),E=r(1235),O=void 0,M=void 0;a.default.onReady((()=>{var e="clicfg_appbrand_ios_enable_jsopdata_mock";(0,P.b)({experimentId:e,experimentType:"Expt",success:e=>{var t;e&&((null===(t=e.testConfig)||void 0===t?void 0:t.length)>10&&(O=e.testConfig))},fail(t){w.error(e,"failed",t)}})}));var R=new Set(["webapi_getadvert","advert_report","webapi_advideo_report","webapi_adfollow_report","webapi_wxahttpdns_getfreehostip"]),D=(()=>JSON.parse)(),L=(e,t=!1,r=!1)=>({keepAlive:o,apiName:i="",reqData:s,sdkApiName:c="operateWXData",pluginId:l,success:u,fail:p,complete:f,fromComponent:h=!1,withCredentials:v=!1,showConfirm:g=!1,timeout:y=6e4,contextId:m,reserveDataString:_=!1,showApiVersion:b=!1,showProfile:k=!1,priority:S,reqDataList:I=[],batchType:C=0,adExtra:x}={})=>{var P={success:u,fail:p,complete:f};if(!r&&!R.has(i)){var L={errMsg:`${c}:fail invalid apiName in worker`};return"function"==typeof p&&p(L),void("function"==typeof f&&f(L))}var N={api_name:i,data:s||{},operate_directly:e};"string"==typeof l&&(N.plugin_appid=l),!0===h&&(N.from_component=!0),!0===v&&(N.with_credentials=!0),!0===g&&(N.show_confirm=!0);var j=0;r&&(N.batch_type=1001,N.data_list=I,j=C);var W=()=>{T({keepAlive:o,data:N,timeout:y,contextId:m,priority:e?S:void 0,success(t){if("string"==typeof t.data)try{t.data=D(t.data)}catch(e){var a=Date.now();return t.reportObj.LibParseCost=a-t.reportObj.onJsCallbackTimestamp,t.reportObj.TotalCost=a-t.reportObj.invokeTime,t.reportObj.isSuccess=!1,t.reportObj.errMsg=`json parse error, json="${t.data}"`,t.reportObj.errno=A.Q1T,d(t.reportObj),void(0,n.FE)({name:c,args:P,errno:A.Q1T,errMsg:`json parse error, json="${t.data}"`,success:!1})}var{data:o={},reportObj:i}=t;delete t.data,delete t.reportObj;var{data:s,encryptedData:l,iv:p,cloud_id:h,err_no:v,signature:g,errmsg:y,quic_bytes:m,item_list:b}=o;if(delete o.quic_bytes,delete o.item_list,i.QuicBytes="number"==typeof m?m:0,e)void 0!==s&&(t.rawData=s),t.respData=o;else if("string"==typeof s)if(_)t.data={data:s};else try{t.data=D(s)}catch(e){var S=Date.now();return i.LibParseCost=S-i.onJsCallbackTimestamp,i.TotalCost=S-i.invokeTime,i.isSuccess=!1,i.errMsg=`json parse error, json="${s}"`,i.errno=A.Q1T,d(i),void(0,n.FE)({name:c,args:P,errno:A.Q1T,errMsg:`json parse error, json="${s}"`,success:!1})}else t.data={};g&&(t.signature=g),l&&(t.encryptedData=l,t.iv=p,h&&(t.cloudID=h)),r&&b&&(b.forEach((e=>{try{"string"==typeof e.resp&&e.resp?(e.resp=D(e.resp),"string"==typeof e.resp.data&&e.resp.data&&(e.resp.data=D(e.resp.data))):e.resp={}}catch(t){w.error("batch operatewxdata parse item error",t.message),e.resp={}}})),t.item_list=b);var I=Date.now();i.LibParseCost=I-i.onJsCallbackTimestamp,i.TotalCost=I-i.invokeTime,i.errno=v,d(i),"number"==typeof v&&0!==v?(0,n.FE)({name:c,args:P,errno:v,errMsg:y,success:!1}):(k&&(t.profile={TotalCost:i.TotalCost,JsToClientCost:i.JsToClientCost,QueueCost:i.QueueCost,ChildToMainProcessCost:i.ChildToMainProcessCost,MMNetCost:i.MMNetCost,MainToChildProcessCost:i.MainToChildProcessCost,ClientToJsCost:i.ClientToJsCost,MarsPackCost:i.MarsPackCost,MarsConnCost:i.MarsConnCost,MarsTLSCost:i.MarsTLSCost,MarsNetCost:i.MarsNetCost,MarsUnPackCost:i.MarsUnPackCost,LibParseCost:i.LibParseCost,ProtocolType:i.ProtocolType}),"function"==typeof u&&u(t),"function"==typeof f&&f(t))},fail(e){var t=Date.now();e.reportObj.LibParseCost=t-e.reportObj.onJsCallbackTimestamp,e.reportObj.TotalCost=t-e.reportObj.invokeTime,d(e.reportObj),delete e.reportObj,"function"==typeof p&&p(e),"function"==typeof f&&f(e)}},{beforeAll(e){"operateWXData"!==c&&(e.errMsg=e.errMsg.replace("operateWXData",c))}},{showApiVersion:b,showProfile:k,fromWebview:t,batchType:j,sdkApiName:c,adExtra:x})};!!O?new Promise(((e,t)=>{if(M)return e(M);var r;"string"==typeof O&&O.endsWith("?openid=")&&(r=`${O}${a.default.appLaunchInfo.openId}`),r?(0,E.ac)({url:r,success(r){try{var n=JSON.parse(r.data.data);M=n,e(n)}catch(e){console.error("get operateWXData mock config error: ",e),t(e)}},fail(e){t(e)}}):t("empty request url")})).then((t=>{var r=t[i];if(r){var a=!1,o={},l=!1;try{if(o.data=JSON.parse(r),Array.isArray(o.data))e:for(var p of o.data){var d=p.__mock_inner_args__;if(!d){o.data=p.data,l=!0;break e}var h=!0;for(var v in d)if(s[v]!==d[v]){h=!1;break}if(h){o.data=p.data,l=!0;break e}}else o.data=o.data.data,l=!0}catch(e){console.error(`你使用了 ${i} 这个数据管道的mock，在parse出现错误`,e),a=!0}if(l||(a=!0),!a){console.error(`你使用了 ${i} 这个数据管道的mock，res为`,o);var{data:g,encryptedData:y,iv:m,cloud_id:_,err_no:b,signature:w,errmsg:k}=o.data;return e&&(void 0!==g&&(o.rawData=JSON.stringify(g)),o.respData=g),w&&(o.signature=w),y&&(o.encryptedData=y,o.iv=m,_&&(o.cloudID=_)),void("number"==typeof b&&0!==b?(0,n.FE)({name:c,args:P,errno:b,errMsg:k,success:!1}):("function"==typeof u&&u(o),"function"==typeof f&&f(o)))}}W()})):W()},N=L(!1),j=(0,x.Fr)(N),W=L(!1,!1,!0)},8138:(e,t,r)=>{"use strict";r.d(t,{FE:()=>c,Rn:()=>l,S3:()=>s,YG:()=>i,r3:()=>o});var n=r(4081),a=r(6142);function o(e,t,r){var o=(0,a.x7)(t,r);return!o||(c({name:e,args:t,errno:n.Wkc,errMsg:`parameter error: ${o}`,success:!1}),!1)}function i(e,t={},r,n){var o=(0,a.hj)(r);c({name:e,args:t,errno:o?r:void 0,errMsg:o?void 0:r,errCode:o?void 0:n,success:!1})}function s({name:e,args:t={},errMsg:r="",res:n={}}){t=t||{};var o=`${e}:${r}`,i=h.surroundThirdByTryCatch(t.complete||a.ZT,`at api ${e} complete callback function`);n.errMsg=o,i(n)}function c({name:e,args:t={},success:r=!0,errno:n,errMsg:o="",errCode:i,res:s={},exception:c}){t=t||{};var l=h.surroundThirdByTryCatch((r?t.success:t.fail)||a.ZT,`at api ${e} ${r?"success":"fail"} callback function`),u=h.surroundThirdByTryCatch(t.complete||a.ZT,`at api ${e} complete callback function`);(0,a.hj)(n)?(s.errno=n,s.errMsg=`${e}:fail${o&&":"!==o[0]?" ":""}${o||""}`):(s.errMsg=r?`${e}:ok`:`${e}:fail ${o}`,(0,a.hj)(i)&&(s.errCode=i)),c&&(s.exception=c),l(s),u(s)}var l=({success:e,fail:t,complete:r}={},n)=>{var a=e=>{"function"==typeof t&&(n?h.surroundThirdByTryCatch(t,`at api ${n} fail callback function`)(e):t(e)),"function"==typeof r&&(n?h.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(e):r(e))};return{success:t=>{void 0===t.errMsg&&n&&(t.errMsg=`${n}:ok`),"function"==typeof e&&(n?h.surroundThirdByTryCatch(e,`at api ${n} success callback function`)(t):e(t)),"function"==typeof r&&(n?h.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(t):r(t))},fail:a,failWithMsg:({code:e,msg:t,errno:r,name:o}={})=>{var i={};"number"==typeof r&&r>0?(i.errno=r,i.errMsg=`${o||n}:fail`):(i.errMsg=`${o||n}:fail ${t||""}`,"number"==typeof e&&(i.errCode=e)),a(i)}}}},8602:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});class n{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}const a=(()=>new n)()},8246:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});var n=r(3478),a=r(9766),o={},i=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE","onGameAuditsStateChange"],s=(e,t)=>{if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onNativeEvent:r}=SDK;return r(e,t)}var s=(0,a.s)(`WeixinJSBridge-${e}`);o[e]||((0,n.j)(e,((...t)=>{s.emit(...t),((e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!i.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:r}=__appServiceSDK__;r(e,...t)}})(e,...t)})),o[e]=!0),s.internalOnMethod(t)}},1869:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});var n=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"]},158:(e,t,r)=>{"use strict";r.d(t,{v:()=>u});var n=r(3341),a=r(5340),o=r(1869),i=r(6142),s=r(9105),c=r(7445),l=r(4899),u={close:(e={})=>{(0,n.r3)("close",e,{fd:""})&&(0,n.IN)("close",e)},closeSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r;if((0,n.IN)("closeSync",{fd:e,fail(e){t=e.errMsg,r=e.errno}}),t){var a=new Error(t);throw a.errno=r,a}},fstat:(e={})=>{(0,n.r3)("fstat",e,{fd:""})&&(0,n.IN)("fstat",e,{beforeSuccess(e){var{mode:t,size:r}=e,{lastAccessedTime:n,lastModifiedTime:o}=e;n>1617e9&&(n=Math.floor(n/1e3)),o>1617e9&&(o=Math.floor(o/1e3)),e.stats=new a.jk({mode:t,size:r,lastAccessedTime:n,lastModifiedTime:o}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},fstatSync:({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r,o;if((0,n.IN)("fstatSync",{fd:e,fail(e){r=e.errMsg,o=e.errno},success(e){var{mode:r,size:n}=e,{lastAccessedTime:o,lastModifiedTime:i}=e;o>1617e9&&(o=Math.floor(o/1e3)),i>1617e9&&(i=Math.floor(i/1e3)),t=new a.jk({mode:r,size:n,lastAccessedTime:o,lastModifiedTime:i})}}),r){var i=new Error(r);throw i.errno=o,i}return t},write:(e={})=>{var t=Object.assign({},e);if((0,n.r3)("write",t,{fd:""}))if(t.encoding&&-1===o.a.indexOf(t.encoding))(0,n.YG)("write",t,`invalid encoding "${t.encoding}"`);else{if((0,i.eP)(t.data)){if(t.data.byteLength>10485760)return void(0,n.YG)("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!(0,i.HD)(t.data))return void(0,n.YG)("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),(0,n.IN)("write",t)}},writeSync:({fd:e,data:t,offset:r,length:a,encoding:c,position:l}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(c&&-1===o.a.indexOf(c))throw new s.iZ(`invalid encoding "${c}"`);if((0,i.eP)(t)){if(t.byteLength>10485760)throw new s.iZ("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof a||a<0)&&(a=t.byteLength-r)}else if(!(0,i.HD)(t))throw new TypeError("data must be a string or ArrayBuffer");var u,p,d;if("number"!=typeof l&&(l=void 0),(0,n.IN)("writeSync",{fd:e,data:t,offset:r,length:a,encoding:c,position:l,fail(e){u=e.errMsg,d=e.errno},success(e){p={bytesWritten:e.bytesWritten}}}),u){var f=new Error(u);throw f.errno=d,f}return p},read:(e={})=>{if((0,n.r3)("read",e,{fd:""}))if((0,i.eP)(e.arrayBuffer)){var t=Object.assign({},e),r=(0,l.t)();c.IS_IOS&&r&&r.trace&&(t.arrayBufferId=r.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),(0,i.hj)(t.position)&&t.position<0?t.position=0:(0,i.o8)(t.position)||(0,i.Ft)(t.position)?t.position=null:(0,i.hj)(t.position)||(t.position=0);var a=Number(t.length);Number.isNaN(a)?t.length=0:t.length=a;var o=Number(t.offset);Number.isNaN(o)?t.offset=0:t.offset=o,c.WK_RENDERER_H5&&delete t.arrayBuffer,(0,n.IN)("read",t,{beforeSuccess(r){if(c.WK_RENDERER_H5){var n=new Uint8Array(e.arrayBuffer),a=new Uint8Array(r.arrayBuffer);n.set(a,t.offset),r.bytesRead=r.arrayBuffer.byteLength}r.arrayBuffer=e.arrayBuffer},afterAll(){c.IS_IOS&&r&&r.untrace&&r.untrace(t.arrayBufferId)}})}else(0,n.YG)("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},readSync:(e={})=>{var{fd:t,arrayBuffer:r}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!(0,i.eP)(r))throw new TypeError("arrayBuffer must be an ArrayBuffer");var a=Object.assign({},e),o=(0,l.t)();c.IS_IOS&&o&&o.trace&&(a.arrayBufferId=o.trace(a.arrayBuffer,"rw"),delete a.arrayBuffer),(0,i.hj)(a.position)&&a.position<0?a.position=0:(0,i.o8)(a.position)||(0,i.Ft)(a.position)?a.position=null:(0,i.hj)(a.position)||(a.position=0);var s=Number(a.length);Number.isNaN(s)?a.length=0:a.length=s;var u,p,d,f=Number(a.offset);if(Number.isNaN(f)?a.offset=0:a.offset=f,c.WK_RENDERER_H5&&delete a.arrayBuffer,(0,n.IN)("readSync",{...a,fail(e){p=e.errMsg,d=e.errno},success(e){if(c.WK_RENDERER_H5){var t=new Uint8Array(r),n=new Uint8Array(e.arrayBuffer);t.set(n,a.offset),e.bytesRead=e.arrayBuffer.byteLength}u={bytesRead:e.bytesRead,arrayBuffer:r}}}),c.IS_IOS&&o&&o.untrace&&o.untrace(a.arrayBufferId),p){var h=new Error(p);throw h.errno=d,h}return u},ftruncate:(e={})=>{(0,n.r3)("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,n.IN)("ftruncate",e))},ftruncateSync:({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var r,a;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,n.IN)("ftruncateSync",{fd:e,length:t,fail(e){r=e.errMsg,a=e.errno}}),r){var o=new Error(r);throw o.errno=a,o}}}},6345:(e,t,r)=>{"use strict";r.d(t,{h:()=>o});var n=r(3341),a=r(6142),o=(e={})=>{if((0,n.r3)("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=(0,a.x7)(e,{digestAlgorithm:""});if(t)return void(0,n.YG)("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1","sha256"].indexOf(e.digestAlgorithm))return void(0,n.YG)("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}(0,n.IN)("getFileInfo",e,{})}}},4237:(e,t,r)=>{"use strict";r.d(t,{sZ:()=>S,Dc:()=>I,WZ:()=>y});var n=r(158),a=r(9937),o=r(6142),i=r(3341),s=r(9105),c={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null,readCompressedFile:["filePath"],readCompressedFileSync:[0]},l={openSync:!0,truncateSync:!0},u=r(9806),p=r(7445),d=r(6342),f="",h="",v="";d.default.onReady((()=>{try{f=d.default.env.USER_DATA_PATH,h=d.default.env.OPEN_DATA_PATH,delete d.default.env.OPEN_DATA_PATH,v=f+"/__plugins__",p.IS_DEVTOOLS?("http://__wxprivate__","http://sdk","http://ad"):("wxfile://__wxprivate__","wxfile://sdk","wxfile://ad")}catch(e){}}));var g=()=>f,y=()=>h,m=()=>v,_=new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]),b=r(4081),w=function(e,t,r,n){return(...a)=>{var o,p=t.endsWith("Sync"),d=!p||l[t]?a[0]:a,f=c[t].every((e=>{var a=JSON.parse(JSON.stringify({[e]:d[e]}));d[e]=a[e];var i=((e,t,r,n)=>{var a=g(),o=y(),i=m();return"private-space-for-inner-plugin"===t?!!(e.startsWith(`wxfile://__wxprivate__/${r}/`)||e.startsWith("wxfile://__wxprivate__/__PATCH_DIR")||e.startsWith(`http://__wxprivate__/${r}/`)||e.startsWith("http://__wxprivate__/__PATCH_DIR"))||e:"string"!=typeof e||(e.startsWith("wxfile://ad")||e.startsWith("wxfile://sdk")||e.startsWith("wxfile://__wxprivate__")||e.startsWith("http://ad")||e.startsWith("http://sdk")||e.startsWith("http://__wxprivate__")||(0,u.Av)()&&(e.startsWith("wxfile://usr")||e.startsWith("http://usr"))?e:"opendata"===t?!!_.has(n)||!e.startsWith(a)||e:"game"===t||"app"===t?!(e.startsWith(o)||e.startsWith(i)||e.match(/__plugin__\/wx[a-z0-9]{16}/))||e:"app-plugin"===t||"game-plugin"===t?e.startsWith(o)?e:!e.startsWith(a)||!!e.startsWith(`${i}/${r}`)||e:e)})(d[e],r,n,t);return!0===i||(o=i,!1)}));if("app-plugin"!==r&&"game-plugin"!==r||c[t].forEach((e=>{"string"!=typeof d[e]||d[e].match(/^[a-zA-Z0-9]+:\/\//)||(d[e]=(0,s.RP)(n,d[e]))})),f)return e(...a);if(p){var h=new Error(`${t}:fail permission denied with path "${o}"`);throw h.errno=b.UoO,h}(0,i.FE)({success:!1,name:t,args:d,errno:b.UoO,errMsg:`permission denied with path "${o}"`})}},k=(e,t="")=>{var r={},s=new Set;return function(e,t,r,n){Object.keys(e).forEach((a=>{(0,o.o8)(c[a])||((0,o.Ft)(c[a])?t[a]=(...t)=>e[a](...t):t[a]=w(e[a],a,r,n))}))}(a.W,r,e,t),function(e,t,r){Object.keys(e).forEach((n=>{var a=e[n];t[n]=(e={})=>{var{fd:t}=e;if(r.has(t))return a(Object.assign({},e,{fd:t}));if(n.endsWith("Sync"))throw new Error(`${n}:fail invalid fd`);(0,i.YG)(n,e,"invalid fd")}}))}(n.v,r,s),function(e,t){var r=e.open,n=e.openSync,a=e.close,o=e.closeSync;e.open=(e={})=>{var{success:n}=e;r(Object.assign({},e,{success:e=>{t.add(e.fd),"function"==typeof n&&n(e)}}))},e.openSync=(e={})=>{var r=n(e);return t.add(r),r},e.close=(e={})=>{var{fd:r,success:n}=e;a(Object.assign({},e,{fd:r,success:e=>{t.delete(r),"function"==typeof n&&n(e)}}))},e.closeSync=(e={})=>{var{fd:r}=e;o({fd:r}),t.delete(r)}}(r,s),r},S=()=>k("app"),I=()=>k("game")},9976:(e,t,r)=>{"use strict";r.d(t,{h:()=>o,i:()=>a});var n=r(3341),a=(e={})=>{(0,n.r3)("mkdir",e,{dirPath:""})&&(0,n.IN)("mkdir",e)},o=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var r,a;if((0,n.IN)("mkdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,a=e.errno}}),r){var o=new Error(r);throw o.errno=a,o}}},9937:(e,t,r)=>{"use strict";r.d(t,{W:()=>g});var n=r(3341),a=r(6345),o=r(5179),i=r(1869),s=r(9976),c=r(7445),l=r(6659),u=r(5340),p=r(6142),d="readZipEntry",f=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],h=r(9105),v=r(714),g={saveFile:e=>{(0,n.r3)("saveFile",e,{tempFilePath:""})&&(0,n.IN)("saveFile",e)},saveFileSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var r,a;if((0,n.IN)("saveFileSync",{tempFilePath:e,filePath:t,success(e){a=e.savedFilePath},fail(e){r=e.errMsg}}),r)throw new Error(r);return a},getSavedFileList:(e={})=>{(0,n.IN)("getSavedFileList",e)},getSavedFileInfo:(e={})=>{(0,n.r3)("getSavedFileInfo",e,{filePath:""})&&(0,n.IN)("getSavedFileInfo",e)},removeSavedFile:(e={})=>{(0,n.r3)("removeSavedFile",e,{filePath:""})&&(0,n.IN)("removeSavedFile",e)},getFileInfo:a.h,readFile:o.p,readFileSync:o.N,writeFile:(e={})=>{(0,n.r3)("writeFile",e,{filePath:""})&&(e.encoding&&-1===i.a.indexOf(e.encoding)?(0,n.YG)("writeFile",e,`invalid encoding "${e.encoding}"`):(0,n.IN)("writeFile",e,{}))},writeFileSync:(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===i.a.indexOf(r))throw new Error(`invalid encoding "${r}"`);var a,o;if((0,n.IN)("writeFileSync",{filePath:e,data:t,encoding:r,fail(e){a=e.errMsg,o=e.errno}}),a){var s=new Error(a);throw s.errno=o,s}},mkdir:s.i,mkdirSync:s.h,rmdir:(e={})=>{(0,n.r3)("rmdir",e,{dirPath:""})&&(0,n.IN)("rmdir",e)},rmdirSync:(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var r,a;if((0,n.IN)("rmdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,a=e.errno}}),r){var o=new Error(r);throw o.errno=a,o}},readdir:(e={})=>{(c.IS_PC||"wxfile://"!==e.dirPath)&&(!c.IS_PC||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?(0,n.r3)("readdir",e,{dirPath:""})&&(0,n.IN)("readdir",e):(0,n.YG)("readdir",e,"path permission denied")},readdirSync:e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,r,a;if((0,n.IN)("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){r=e.errMsg,a=e.errno}}),r){var o=new Error(r);throw o.errno=a,o}return t},access:(e={})=>{(0,n.r3)("access",e,{path:""})&&(0,n.IN)("access",e)},accessSync:e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,r;if((0,n.IN)("accessSync",{path:e,fail(e){t=e.errMsg,r=e.errno}}),t){var a=new Error(t);throw a.errno=r,a}},unlink:l.q,unlinkSync:l.y,stat:u.lz,statSync:u.dJ,unzip:(e={})=>{var{zipFilePath:t}=e;t=""+t,(0,n.r3)("unzip",e,{zipFilePath:""})&&(0,n.IN)("unzip",Object.assign({},e,{targetDirectory:e.targetPath,zipFilePath:t}))},copyFile:(e={})=>{(0,n.r3)("copyFile",e,{srcPath:"",destPath:""})&&(0,n.IN)("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},copyFileSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var r,a;if((0,n.IN)("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){r=e.errMsg.replace("fs_copyFileSync:","copyFileSync:"),a=e.errno}}),r){var o=new Error(r);throw o.errno=a,o}},rename:(e={})=>{(0,n.r3)("rename",e,{oldPath:"",newPath:""})&&(0,n.IN)("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},renameSync:(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var r,a;if((0,n.IN)("fs_renameSync",{oldPath:e,newPath:t,fail(e){r=e.errMsg.replace(/^fs_/,""),a=e.errno}}),r){var o=new Error(r);throw o.errno=a,o}},appendFile:(e={})=>{(0,n.r3)("appendFile",e,{filePath:""})&&(e.encoding&&-1===i.a.indexOf(e.encoding)?(0,n.YG)("appendFile",e,`invalid encoding "${e.encoding}"`):(0,n.IN)("fs_appendFile",e,{}))},appendFileSync:(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===i.a.indexOf(r))throw new Error(`invalid encoding "${r}"`);var a,o;if((0,n.IN)("fs_appendFileSync",{filePath:e,data:t,encoding:r,fail(e){a=e.errMsg,o=e.errno}}),a){var s=new Error(a);throw s.errno=o,s}},readZipEntry:(e={})=>{(0,n.r3)(d,e,{filePath:""})&&((0,p.o8)(e.encoding)||-1!==i.a.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?(0,n.IN)(d,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg=`${d}:ok`:e.entries[t].errMsg=`${d}:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var r=t.replace("file:","");e.entries[r]=e.entries[t],delete e.entries[t]}})),e)}):(0,n.YG)(d,e,"invalid entries"):(0,n.YG)(d,e,`invalid encoding "${e.encoding}"`))},open:(e={})=>{var t=Object.assign({},e);(0,n.r3)("open",e,{filePath:""})&&(void 0===e.flag||f.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),(0,n.IN)("open",t)):(0,n.YG)("open",e,`invalid flag "${e.flag}"`))},openSync:(e={})=>{var t,r,a,{filePath:o}=e,{flag:i}=e;if(!o||"string"!=typeof o)throw new TypeError("filePath must be a string");if(void 0!==i&&!f.includes(i))throw new h.iZ(`invalid flag: ${i}`);if(void 0===i&&(i="r"),(0,n.IN)("openSync",{filePath:o,flag:i,fail(e){r=e.errMsg,a=e.errno},success(e){t=e.fd}}),r){var s=new Error(r);throw s.errno=a,s}return t},truncate:(e={})=>{(0,n.r3)("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),(0,n.IN)("truncate",e,{}))},truncateSync:({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var r,a;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),(0,n.IN)("truncateSync",{filePath:e,length:t,fail(e){r=e.errMsg,a=e.errno}}),r){var o=new Error(r);throw o.errno=a,o}},readCompressedFile:v.$,readCompressedFileSync:v.T}},714:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,T:()=>s});var n=r(3341),a=r(6142),o=r(9105),i=(e={})=>{(0,n.r3)("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&(0,n.IN)("readCompressedFile",e)},s=({filePath:e,compressionAlgorithm:t}={})=>{if(!(0,a.HD)(e))throw new o.iZ(`invalid filePath: ${e}`);if(!(0,a.HD)(t))throw new o.iZ(`invalid compressionAlgorithm: ${t}`);var r,i,s;if((0,n.IN)("readCompressedFileSync",{filePath:e,compressionAlgorithm:t,success(e){r=e.data},fail(e){i=e.errMsg,s=e.errno}}),i){var c=new Error(i);throw c.errno=s,c}return r}},5179:(e,t,r)=>{"use strict";r.d(t,{N:()=>h,p:()=>f});var n=r(3341),a=r(182),o=r(1399),i=r(7445),s=r(6342),c=r(4500),l=r(5133),u=r(6142),p=r(1591),d=!1;s.default.onReady((()=>{var e=o.Z.fs;if(e&&e.FileReader){var t=!1,r=i.IS_IOS?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";(0,c.b)({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&((0,l.Tk)(/readFile(?:Sync)?$/,1),t=!0)},fail(e){}});var n=(0,a.J)("bindingReadFile");d=t||n,w.info(`${d?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${n}`)}}));var f=(e={})=>{if((0,n.r3)("readFile",e,{filePath:""}))if((0,u.o8)(e.encoding)||(0,u.HD)(e.encoding))if((0,u.o8)(e.position)||(0,u.hj)(e.position))if((0,u.o8)(e.length)||(0,u.hj)(e.length))if(d){var t,r=o.Z.fs;(t=e.workerId?new r.FileReader(e.workerId):new r.FileReader).onerror=t=>(0,n.YG)("readFile",e,t),t.onread=t=>(0,n.FE)({name:"readFile",args:e,res:{data:t}});var a={};Object.keys(e).forEach((t=>{var r=e[t];["success","fail","complete"].includes(t)||(a[t]=r)})),t.read(a)}else(0,n.IN)("readFile",e);else(0,n.YG)("readFile",e,`invalid length: ${e.length}`);else(0,n.YG)("readFile",e,`invalid position: ${e.position}`);else(0,n.YG)("readFile",e,`invalid encoding: ${e.encoding}`)},h=(e,t,r,a,i)=>{if(!e||!(0,u.HD)(e))throw new p.i(`invalid filePath: ${e}`);if(!(0,u.o8)(t)&&!(0,u.HD)(t))throw new p.i(`invalid encoding: ${t}`);if(!(0,u.o8)(r)&&!(0,u.hj)(r))throw new p.i(`invalid position: ${r}`);if(!(0,u.o8)(a)&&!(0,u.hj)(a))throw new p.i(`invalid length: ${a}`);if(d){var s=o.Z.fs;try{return i?s.readFileSync(e,t,i):s.readFileSync(e,t)}catch(l){throw new Error(l)}}var c,l,f;if((0,n.IN)("readFileSync",{filePath:e,encoding:t,position:r,length:a,success(e){c=e.data},fail(e){l=e.errMsg,f=e.errno}}),l){var h=new Error(l);throw h.errno=f,h}return c}},5340:(e,t,r)=>{"use strict";r.d(t,{dJ:()=>c,jk:()=>o,lz:()=>s});var n=r(3341),a=r(7445);class o{constructor({mode:e,size:t,lastAccessedTime:r,lastModifiedTime:n}){this.mode=e,this.size=t,this.lastAccessedTime=r,this.lastModifiedTime=n}_checkModeProperty(e){return(61440&this.mode)===e}isDirectory(){return this._checkModeProperty(16384)}isFile(){return this._checkModeProperty(32768)}}var i=(e,t)=>{var r=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{r=r&&void 0!==e[t]})),r)e.stats=new o(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new o(e.stats[""]);else{var n=[],i=e.stats;a.IS_ANDROID&&(i=e,n.push({path:"/",stats:c(t)})),Object.keys(i).forEach((e=>{if("errMsg"!==e){var t=i[e];""===e&&(e="/"),n.push({path:e,stats:new o(t)}),delete i[e]}})),e.stats=n}},s=(e={})=>{(0,n.r3)("stat",e,{path:""})&&(0,n.IN)("stat",e,{beforeSuccess:t=>{i(t,e.path)}})},c=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var r,a,o;if((0,n.IN)("statSync",{path:e,recursive:t,success(t){i(t,e),r=t.stats},fail(e){a=e.errMsg,o=e.errno}}),a){var s=new Error(a);throw s.errno=o,s}return r}},6659:(e,t,r)=>{"use strict";r.d(t,{q:()=>a,y:()=>o});var n=r(3341),a=(e={})=>{(0,n.r3)("unlink",e,{filePath:""})&&(0,n.IN)("unlink",e)},o=e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t,r;if((0,n.IN)("unlinkSync",{filePath:e,fail(e){t=e.errMsg,r=e.errno}}),t){var a=new Error(t);throw a.errno=r,a}}},3385:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i});var n=r(6342),a=r(8246),o={};n.default.onReady((()=>{Object.assign(o,n.default.appLaunchInfo),(0,a.n)("onAppEnterForeground",(e=>{Object.assign(o,e)}))}));var i=()=>o},4599:(e,t,r)=>{"use strict";r.d(t,{vv:()=>s});var n=r(9766),a=(0,n.s)("LifeCycle:beforeHide"),o=(0,n.s)("LifeCycle:Hide"),i=(0,n.s)("LifeCycle:afterHide"),s=(o.emitInternal.bind(o),o.emitGlobal.bind(o),a.emitInternal.bind(a),i.emitInternal.bind(i),o.onMethod,o.offMethod,a.internalOnMethod,a.internalOffMethod,o.internalOnMethod);o.internalOffMethod,i.internalOnMethod,i.internalOffMethod},3852:(e,t,r)=>{"use strict";r.d(t,{Q1:()=>ht,GJ:()=>vt,v8:()=>ft});var n,a=r(3888),o=r.n(a),s=r(182),c=r(7445),l=(r(4500),r(1399)),u=r(143),p=r(8007),d=(e={})=>{var{runCount:t,runCostAverage:r,runError:n,createError:a,isBinding:o,version:i,runErrorRate:s,createSessionParams:c,sessionId:l,resultType:u,createErrno:d,runErrno:f}=e;o=o?1:0,n||(n=""),a||(a="");var h=[t,r,encodeURIComponent(n),encodeURIComponent(a),o,i,s,l,encodeURIComponent(c),u,d,f].map((0,p.b)(1024)).join(",");v.reportKeyValue({key:"WeAppXNetInvoke",value:h})},f=r(3341),h=r(9806),g=(0,h.Iy)(((e,t)=>{if(t)try{e.success&&e.success({ver:t.GetInferenceEnvInfo().ver}),e.complete&&e.complete({ver:t.GetInferenceEnvInfo().ver})}catch(t){e.fail&&e.fail("getInferenceEnvInfo fail: ",t)}else(0,f.IN)("getInferenceEnvInfo",e)}),(e=>({ver:e.ver}))),y=r(6142),m=r(8929),_=new WeakMap;class b{constructor(e={model:""}){this.em=void 0,this.sessionId=void 0,this.reportInfo=void 0,this.getVersionTask=void 0;var t,r=this;try{t=JSON.stringify(e)}catch(e){t=""}this.reportInfo={runCostAverage:0,runErrorRate:0,runCount:0,runErrorCount:0,createSessionParams:t,sessionId:(0,m.M8)(),runErrno:0,createErrno:0};var a=!0;if(!1===e.asyncCreateSession&&(a=!1),this.em=(0,u.v)("XnetBinding",{noCache:!0}),n=l.Z.XInference,this.getVersionTask=new Promise((e=>{g({success(t){e(t.ver),r.getVersionTask=t.ver},fail(){e("-1"),r.getVersionTask="-1"}},n)})),w.warn("asyncCreateSession: ",a),a){n.CreateAsync((0,f.qB)(((e,t)=>{if(e){var r={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};return this.report(r),this.em.advancePublish("onError",e,!0),this.reportInfo.createErrorMsg=e.errMsg,void(this.reportInfo.createErrno=e.errno)}_.set(this,t),this.sessionId=t;var n={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(n),this.em.advancePublish("onLoad",void 0,!0)}),"XInference.CreateAsync"),e)}else{var o={...e};["success","fail","complate"].forEach((e=>{o[e]&&delete o[e]}));try{var i=n.CreateSession(o);i&&(_.set(this,i),this.sessionId=i,this.em.advancePublish("onLoad"));var s={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(s)}catch(e){var c={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};this.report(c),this.em.advancePublish("onError",e)}}}onLoad(e){this.em.on("onLoad",(()=>{e()}))}offLoad(){this.em.off("onLoad")}onError(e){this.em.on("onError",e)}offError(){this.em.off("onError")}run(e){var t=Date.now(),r=this;return new Promise(((a,o)=>{var i={session:this.sessionId,inTensors:e};try{n.RunAsync((0,f.qB)((function(e,n){r.reportInfo.runCount++;var i=Date.now()-t;if(r.reportInfo.runCostAverage=(r.reportInfo.runCostAverage*(r.reportInfo.runCount-1)+i)/r.reportInfo.runCount,e)return r.reportInfo.runErrorMsg=e.errMsg,r.reportInfo.runErrno=e.errno,void o({errMsg:"runInferenceSession:fail "+e});for(var s of Object.keys(n)){var c=n[s].data;c&&ArrayBuffer.isView(c)&&(n[s].data=c.buffer)}a(n)}),"XInference.RunAsync"),i)}catch(e){return void o(e)}}))}destroy(){var e=new Promise(((e,t)=>{var r={session:this.sessionId};try{n.ReleaseAsync((0,f.qB)((function(r,n){r?t(r):e(n)}),"XInference.ReleaseAsync"),r)}catch(e){return void t(e)}})),t={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};return this.report(t),e}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};this.report(e)}report(e){e.isBinding=!0,(0,y.tI)(this.getVersionTask)?this.getVersionTask.then((t=>{e.version=t,d(e)})):(e.version=this.getVersionTask,d(e))}get operator(){return{}}}var k,S,I=r(5436),C=r(4899),T=(r(1591),r(9105),r(1105),r(4237),r(127)),x=new WeakMap,A=new WeakMap;class P{constructor(e={}){var t;try{t=JSON.stringify(e)}catch(e){t=""}if(S=new Promise((e=>{g({success(t){e(t.ver),S=t.ver},fail(){e("-1"),S="-1"}})})),this.reportInfo={runCount:0,runCostAverage:0,runErrorMsg:"",createErrorMsg:"",createSessionParams:t,sessionId:(0,m.M8)(),createErrno:0,runErrno:0,runErrorCount:0},A.set(this,new I.Q("AI",!0)),!k){var r=(0,T.xI)();k=r.version}"8.0.37"===k&&c.IS_ANDROID?setTimeout((()=>{this.notSupport=!0,A.get(this).emit("Error",{errMsg:"createInferenceSession fail: client not support"})})):(0,f.IN)("createInferenceSession",Object.assign({},e,{success:({sessionId:e})=>{x.set(this,e),A.get(this).emit("Load"),E({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams})},fail:e=>{this.reportInfo.createErrorMsg=e.errMsg,this.reportInfo.createErrno=e.errno,setTimeout((()=>{A.get(this).emit("Error",e)})),E({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,createError:e.errMsg,createErrno:e.errno})}}))}onLoad(e){A.get(this).on("Load",e)}offLoad(e){A.get(this).off("Load",e)}onError(e){A.get(this).on("Error",e)}offError(e){A.get(this).off("Error",e)}run(e={}){if(this.notSupport)return Promise.reject({errMsg:"runInferenceSession fail: client not support",errno:2004002});var t=(0,C.t)(),r={input:{},sessionId:x.get(this)};for(var n in e){var a,o;null!==(a=e[n])&&void 0!==a&&a.data&&null!==(o=e[n])&&void 0!==o&&o.shape&&(r.input[n]={type:e[n].type,shape:e[n].shape,data:t.trace(e[n].data,"rw")})}return new Promise(((e,n)=>{var a=Date.now(),o=this.reportInfo;o.runCount++,(0,f.IN)("runInferenceSession",Object.assign(r,{success({output:r}){var n=Date.now()-a;for(var i in o.runCostAverage=(o.runCostAverage*(o.runCount-1)+n)/o.runCount,r){var s;if("number"==typeof(null===(s=r[i])||void 0===s?void 0:s.data)){var c=r[i].data;r[i].data=t.getTraceBuffer(c),t.untrace(c)}}e(r)},fail:e=>{o.runErrorCount++,o.runErrorMsg=null==e?void 0:e.errMsg,o.runErrno=null==e?void 0:e.errno,n(e)}}))}))}destroy(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};E(e),(0,f.IN)("releaseInferenceSession",{sessionId:x.get(this)}),A.delete(this),x.delete(this)}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};E(e)}}var E=e=>{e.isBinding=!1,(0,y.tI)(S)?S.then((t=>{e.version=t,d(e)})):(e.version=S,d(e))};var O=!1;!r.g.__isAppServiceRemoteDebugMode__&&c.IS_ANDROID&&(O=!0);var M,R;function D(e,t){return t instanceof ArrayBuffer||t.buffer&&t.buffer instanceof ArrayBuffer?{byteLength:t.byteLength}:t}function L(e,t,r,n,a={},o=1){var i,s={},c={func:t,args:a};s.createSessionParams=JSON.stringify(c,D),s.runError=r,s.runCount=o,s.version=(M=M||l.Z.XInference,R=R||(null===(i=M)||void 0===i?void 0:i.GetInferenceEnvInfo().ver)||"0.0.0"),s.resultType=4,s.isBinding=e,s.runCostAverage=n,d(s)}var N,j=r(7412),W=r(4515),F=(0,j.t)(),$=(0,h.Fr)(F.readFile),B=(0,h.Fr)(F.writeFile),U=(0,h.Fr)(F.access),q=(0,h.Fr)(F.mkdir);function H(){return(H=o()((function*(e){try{var t=e.map((e=>function(e,...t){var r;N=N||l.Z.XInference;try{r=new Promise(((r,n)=>{N.InvokeMethod(e,(0,f.qB)((function(e,t){e?n(e):r(t)}),`XInference.InvokeMethod-${e}`),...t)}))}catch(t){w.warn(`[mnxnet]: AsyncInvoke ${e} err: ${t}`)}return r}("GetDeviceScore",e))),r=Promise.all(t).then((t=>{var r={};return e.forEach(((e,n)=>{r[e]=t[n]})),r})).catch((e=>(console.log(`[mnxnet]: benchmark: ${e}`),{})));return yield r}catch(e){return console.log(`[mnxnet]: benchmark err: ${e}`),{}}}))).apply(this,arguments)}var G=W.MV.MNXNET_ROOT_DIR.path,V=G+"/mnxnet_benchmark_v1.json";function J(){return J=o()((function*(e,t={}){if(!Array.isArray(e))return w.warn("[mnxnet]: benchmarkTypes should be array"),{};try{yield U({path:G})}catch(e){yield q({dirPath:G})}var r,n={},a=(null==t?void 0:t.forceRunKeys)||[];try{var{data:o}=yield $({filePath:V,encoding:"utf8"}),i=JSON.parse(o);e.forEach((e=>{i[e]?n[e]=i[e]:a.push(e)}))}catch(t){a=e,1300002===t.errno?w.warn(`[mnxnet]: access ${t} ${JSON.stringify(t)}`):w.warn(`[mnxnet]: access benchmark cache failed: ${JSON.stringify(t)}`)}return r=a,(a=Array.from(new Set(r))).length?function(e){return H.apply(this,arguments)}(a).then((e=>{var t=Object.assign({},e,n),r=JSON.stringify(t);w.warn(`[mnxnet]: rerun benchmark: ${r}`);try{B({filePath:V,data:r,encoding:"utf8"})}catch(e){w.warn(`[mnxnet]: write bench result to file failed: ${e}`)}return t})):n})),J.apply(this,arguments)}var K,z,Q,Z,X=r(5179),Y=r(6365),ee=W.MV.WX_WE_MODEL_CACHE_PATH_PREFIX.path,te=`${ee}/meta.json`,re=`${ee}/vocab_meta.json`,ne=e=>ee+"/"+e+".onnx",ae=(0,j.t)(),oe=(0,h.Fr)(ae.readFile),ie=(0,h.Fr)(ae.saveFile),se=(0,h.Fr)(ae.writeFile),ce=(0,h.Fr)(ae.access),le=(0,h.Fr)(ae.unlink),ue=(0,h.Fr)(ae.mkdir),pe=(0,h.Fr)(Y.o),de=function(){var e=o()((function*(e=1){try{yield ce({path:ee})}catch(e){yield ue({recursive:!0,dirPath:`${ee}`})}try{var{data:t}=yield oe({filePath:1===e?te:re,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=o()((function*(e,t,r=1,n=!1){var a={};if(!n)if(a=yield de(r)){if(a[t]&&a[t].src===e)try{return ne(t)}catch(e){console.error("exception: get cacheinfo but not found cache file.")}}else a={};var o=yield pe({url:e,timeout:1e4}),i=yield ie({tempFilePath:o.tempFilePath,filePath:ne(t)});a[t]={src:e,update:Date.now()};var s=Date.now(),c=-1;if(Object.keys(a).length>(1===r?3:10))for(var l of Object.keys(a)){var u=a[l];u.update<s&&(s=u.update,c=l)}if(-1!==c)try{yield le({filePath:ne(c)}),delete a[c]}catch(e){w.error("contentCheck LRU unlink model error: ",e)}return yield se({filePath:1===r?te:re,data:JSON.stringify(a),encoding:"utf8"}),i.savedFilePath}));return function(t,r){return e.apply(this,arguments)}}(),he=e=>{K=e},ve=function(){var e=o()((function*(e){var t;if(!Array.isArray(K)||-1===(t=K.findIndex((t=>t.word_vocab_name===e))))throw new Error(`can't get vocab which named '${e}'`);var{url:r,word_vocab_name:n,update:a}=K[t];return yield fe(r,n,2,a)}));return function(t){return e.apply(this,arguments)}}(),ge=(0,h.Fr)(X.p),ye=function(){var e=o()((function*(e){if(z)return z;var t=yield ve(e),r=yield ge({filePath:t,encoding:"utf-8"});return z=(z=r.data).split("\n").reduce(((e,t,r)=>(e[t]=r,e)),{})}));return function(t){return e.apply(this,arguments)}}(),me=r(1235);i.onLoad((()=>{Z=(0,h.Fr)(me.WY)}));var _e,be=function(){var e=o()((function*(e,t){if(!e)throw new Error("unexpected: get null ab");if(!t){t=[2.074*Q,Q]}var r=e;"string"==typeof e&&(r=(yield Z({url:e,responseType:"arraybuffer"})).data);for(var n=Array.prototype.slice.call(new Uint8Array(r)),a=t[0],o=t[1],i=Array(a).fill(0).map((e=>[])),s=function*(e){for(var t=function*(t){var[r,a,s]=Array(3).fill(0).map(((r,a)=>n[e*o*3+3*t+a]));i[e].push([r,a,s])},r=0;r<o;r++)yield*t(r)},c=0;c<a;c++)yield*s(c);return i}));return function(t,r){return e.apply(this,arguments)}}();function we(){return(we=o()((function*(e,t,r){try{var n=e,a="";t.forEach((e=>{"dictName"===e.key&&(a=e.value),"testRet"===e.key&&(n=e.value.replaceAll("'",'"'))}));var o=yield ye(a),i=r[r.length-1],s=[],c=JSON.parse(n),l=(e,t=null)=>{if("[object Object]"===Object.prototype.toString.call(e))Object.keys(e).forEach((t=>{l(e[t],t)}));else if(Array.isArray(e))e.forEach((e=>{l(e,t)}));else if(s.length<i){var r=e;""!==r&&" "!==r||(r="empty");var n=(t+":"+r).toLowerCase();if(o[n]>=0)s.push(o[n]);else{var a=0;if((n=(r+="").toLowerCase()).length<=20)for(var c=0;c<n.length;c++)for(var u=1;u<5;u++)if(o[n.substr(c,u)]>=0){s.push(o[n.substr(c,u)]),a=1;break}0==a&&(n=(t+":other").toLowerCase(),o[n]>=0&&s.push(o[n]))}}};for(l(c);s.length<i;)s.push(0);return new Int32Array(s).buffer}catch(e){throw e}}))).apply(this,arguments)}function ke(){return ke=o()((function*(e,t,r){class n{constructor(){this.children={},this.idx=null}}class a{constructor(e,t){this.root=new n,this.simple=e,this.dict=t}insert(e,t){var r=this.root;for(var a of e)r.children[a]||(r.children[a]=new n),r=r.children[a];r.idx=t}segment(e){var t,r,n=[],a=[],o="",i=null,s=this.root;for(var c of e)if(s.children[c])o+=c,i=(s=s.children[c]).idx;else{var l,u,p;if(o)n.push(o),a.push(null!==(l=null!==(u=i)&&void 0!==u?u:this.dict[o])&&void 0!==l?l:this.simple?1:100);if(o="",i=null,(s=this.root).children[c])o+=c,i=(s=s.children[c]).idx;else n.push(c),a.push(null!==(p=this.dict[c])&&void 0!==p?p:this.simple?1:100)}o&&(n.push(o),a.push(null!==(t=null!==(r=i)&&void 0!==r?r:this.dict[o])&&void 0!==t?t:this.simple?1:100));return[n,a]}}try{var o,i;t.forEach((e=>{"simple"===e.key&&(o=e.value),"dictName"===e.key&&(i=e.value)})),o="true"===o,i="null"===i?null:i;var s=e;try{s=s.toLowerCase(),s=function(e){var t=["head","form","li","movable-view","navigator","br","h4","swiper","option","channel-video","rich-text","p","pre","checkbox","picker","keyboard-accessory","movable-area","h2","switch","live-pusher","em","picker-view-column","i","slider","cover-view","camera","view","label","h3","scroll-view","input","title","radio","cover-image","tr","icon","map","live-player","match-media","canvas","native-component","img","sticky-section","voip-room","text","list-view","checkbox-group","body","select","textarea","page-meta","sticky-header","ol","h1","strong","td","source","progress","page-container","a","functional-page-navigator","video","th","radio-group","div","channel-live","grid-view","ad","u","editor","navigation-bar","ul","h6","table","official-account","button","open-data","span","html","ad-custom","audio","image","swiper-item","root-portal","web-view","share-element","picker-view","h5","code"],r=new RegExp("<(\\/)?(.*?)>","g");return(e=e.replace(r,((e,r,n)=>t.includes(n)?e:" "))).replace(/\s\s+/g," ")}((e=>e.replace(/<wx-/g,"<").replace(/<\/wx-/g,"</"))(function(e){return"<html>"+(e=e.replace(/<([\w-]+)(?:\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[\w-]+))?)*\s*(\/?)>/g,"<$1$2>"))+"</html>"}(s)))}catch(e){throw e}var c,l,u={};i=o?"minivocab_html":i;try{u=yield ye(i)}catch(e){throw e}try{[c,l]=function(e,t,r){var n=new a(r,t);for(var[o,i]of Object.entries(t))i<3209||n.insert(o,i);return n.segment(e)}(s,u,o)}catch(e){throw e}try{var p=r[1]-(o?0:2);if(l.length>p&&(l=l.slice(0,p)),o||(l.unshift(101),l.push(102)),l.length<p)for(;l.length<p;)l.push(0)}catch(e){throw e}return new Int32Array(l).buffer}catch(e){throw e}})),ke.apply(this,arguments)}function Se(){return(Se=o()((function*(e,t,r){try{var n,a,o=e,i=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"minSeqLength"===e.key&&(a=e.value),"dictType"===e.key&&"bert"===e.value&&(i=!1)}));var s=r.reduce(((e,t)=>e*t),1);o=o.slice(o.length*n,o.length*n+s);for(var c=yield ye(i?"minivocab":"alberttiny489kvocab"),l=r[0],u=r[r.length-1],p=[],d=[],f=0;f<o.length+1;f++)if("\n"===o[f]||f===o.length){if(d.length>=a){var h=u-(i?0:2);if(d.length>h&&(d=d.slice(0,h)),i||(d.unshift(101),d.push(102)),d.length<u)for(;d.length<u;)d.push(0);p.push(d)}if(d=[],p.length>=l)break}else d.push(c[o[f]]||(i?1:100));for(;p.length<l;)p.push(new Array(u).fill(0));return new Int32Array(...p).buffer}catch(e){w.warn("reshape occur error:",e)}}))).apply(this,arguments)}var Ie="FusedResize";function Ce(e,t){return function(e,t){try{return{res:t(),errMsg:null}}catch(t){return w.warn(`[mnxnet]: ${e} err: ${JSON.stringify(t)}`),{res:null,errMsg:(null==t?void 0:t.errMsg)||"errMsg not defined"}}}(e,(()=>_e.InvokeMethod(e,null,t)))}function Te(){return(new Date).getTime()}function xe(){return(xe=o()((function*(e,t,r){w.warn("[mnxnet] resizeScreenshotRect use native impl");var n,a=.5,o=.5,i="NCHW",s=Math.min(r[0],r[1]);t.forEach((e=>{"mean"===e.key&&(a=e.value),"std"===e.key&&(o=e.value),"inputType"===e.key&&(i=e.value),"resizeType"===e.key&&e.value,"shortEdge"===e.key&&(s=e.value)}));try{_e=l.Z.XInference;var c={type:"uint8",shape:[r[0],r[1],3]};w.warn(`[mnxnet]: preprocess dataIn: ${JSON.stringify(c)}`),c.data=e;var u=1/(255*o),p=a/o,d=Te(),f=!1;"NCHW"===i&&(f=!0),n={image:c,dstHW:[s,s],bias:[p,p,p],scale:[u,u,u],toNCHW:f};var{res:h,errMsg:v}=Ce("FuseProcess",n),g=Te()-d;return L(1,Ie,v,g,n,1),w.warn(`[mnxnet] preprocess cost ${g} ms`),h.data.buffer}catch(e){L(1,Ie,JSON.stringify(e),0,n,1),w.warn(`[mnxnet] preprocess err: ${e}`)}}))).apply(this,arguments)}var Ae="";function Pe(){return Pe=o()((function*(e,t,r){w.warn("[mnxnet]: resizeScreenshotRect called");try{var n=Ae.includes(Ie);if(t.disableDipFuncList&&t.disableDipFuncList.includes(Ie)&&(n=!1,w.warn("[mnxnet]: disable native fused resize by svr")),n&&((_e=_e||l.Z.XInference)||(w.warn("[mnxnet]: NativeGlobal.XInference not available"),0)))return w.warn("[mnxnet]: enableNativeFusedResize"),function(e,t,r){return xe.apply(this,arguments)}(e,t,r);var a=(new Date).getTime(),o=.5,i=.5,s="NCHW",c=e;t.forEach((e=>{"mean"===e.key&&(o=e.value),"std"===e.key&&(i=e.value),"inputType"===e.key&&(s=e.value),"resizeType"===e.key&&e.value}));var u=yield be(c,r),p=0,d=u.length/u[0].length,f=u[0].length,h=u.length;u.length<u[0].length&&(p=1,d=u[0].length/u.length,f=u.length,h=u[0].length);var v={image:{type:"uint8",shape:[r[0],r[1],3]},dstHW:[f,f],toNCHW:"NCHW"===s},g=Math.ceil(d),y=Math.floor(g/2),m=[];if("NCHW"===s)for(var _=0;_<3;_++)for(var b=0;b<f;b++)for(var k=0;k<f;k++){var S=0,I=0,C=0;C=0===p?Math.floor(b*d):Math.floor(k*d);for(var T=0;T<g;T++){var x=C-y+T;x>=0&&x<h&&(S+=1,I+=0===p?u[x][k][_]:u[b][x][_])}S>0?m.push((I/S/255-o)/i):m.push(0)}else for(var A=0;A<f;A++)for(var P=0;P<f;P++){var E=0;E=0===p?Math.floor(A*d):Math.floor(P*d);for(var O=0;O<3;O++){for(var M=0,R=0,D=0;D<g;D++){var N=E-y+D;N>=0&&N<h&&(M+=1,R+=0===p?u[N][P][O]:u[A][N][O])}M>0?m.push((R/M/255-o)/i):m.push(0)}}var j=(new Date).getTime();return L(0,Ie,null,j-a,v,1),new Float32Array(m).buffer}catch(e){throw e}})),Pe.apply(this,arguments)}function Ee(){return Ee=o()((function*(e,t,r){try{var n=[],a=[];t.forEach((e=>{var t=e.key,r=e.value;n.push(t),r&&r.forceReRun&&a.push(t)}));for(var o=n.length,i=yield function(e){return J.apply(this,arguments)}(n,{forceRunKeys:a}),s=new Float32Array(o),c=0;c<o;++c)s[c]=i[n[c]];return s.buffer}catch(e){return w.warn(`[mnxnet]: mnxnetBenchmark err: ${e}`),new ArrayBuffer(1)}})),Ee.apply(this,arguments)}var Oe=function(){var e=o()((function*(e,t,r){var n,a,o,i,s=!0;if(t.forEach((e=>{"simple"===t.key&&(s="1"===t.value),"startPct"===e.key&&(n=e.value),"maxSize"===e.key&&(a=e.value-(s?0:2)),"dictName"===e.key&&(o=e.value)})),e=e.replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g,"").toLowerCase(),a<0){var c=e.length*n+a;c<0&&(c=0),e=e.slice(c,e.length*n)}else e=e.slice(e.length*n,e.length*n+a);o||(o=s?"minivocab":"alberttiny489kvocab");try{i=yield ye(o)}catch(e){}for(var l=r[r.length-1]-(s?0:2),u=[],p=0;p<e.length&&p<l;p++)u.push(i[e[p]]||(s?1:i["[UNK]"]));if(s||(u.unshift(i["[CLS]"]),u.push(i["[SEP]"])),u.length<l)for(;u.length<l;)u.push(0);return new Int32Array(u).buffer}));return function(t,r,n){return e.apply(this,arguments)}}();function Me(){return Me=o()((function*(e,t,r){try{var n=0,a=512,o=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"maxSeqLength"===e.key&&(a=e.value),"dictType"===e.key&&"bert"===e.value&&(o=!1)}));var i,s=e.slice(Math.floor(e.length*n),e.length);try{i=yield r.readWordDict(o?"minivocab":"alberttiny489kvocab")}catch(e){throw e}for(var c=[],l=0;l<s.length;l++){var u=s[l];i[u]&&i[u]>60&&i[u]<2900&&c.push(i[u])}var p=[],d=a-(o?0:2);if(c.length>d){for(var f=0;f<c.length;f++){var h=c[f];h>270&&h<570||h>580&&h<660||h>790&&h<990||h>1100&&h<1200||h>1300&&h<1900||h>2e3&&h<2800||p.push(h)}p.length>d&&(p=p.slice(0,d))}else p=c;for(o||(p.unshift(101),p.push(102));p.length<a;)p.push(0);return new Int32Array(p).buffer}catch(e){throw e}})),Me.apply(this,arguments)}var Re=r.g.eval,De={mnxnetBenchmark:function(e,t,r){return Ee.apply(this,arguments)},GetTextIdsVec:Oe,GetTextIdsSimple:(e,t,r)=>Oe(e,t,r,!0),GetTextIdsMultiDimension:function(e,t,r){return Se.apply(this,arguments)},GetTrimTextProcrss:function(e,t,r){return Me.apply(this,arguments)},exceptionRetProcess:function(e,t,r){return we.apply(this,arguments)},resizeScreenshotRect:function(e,t,r){return Pe.apply(this,arguments)},html2WordEmbedding:function(e,t,r){return ke.apply(this,arguments)}},Le=function(){var e=o()((function*(e,t,r,n,a,o){var i=void 0!==o?o:e[t],s=De[r];if(s)try{return yield s(i,n,a)}catch(e){throw e}return i}));return function(t,r,n,a,o,i){return e.apply(this,arguments)}}(),Ne=function(){var e=o()((function*(e,t,r,n,a){return new Promise(((o,i)=>{var s=o,c=i;try{je(`(${e})(input, svrData, env, safeEvalExecCallbackResolve, safeEvalExecCallbackReject)`,{input:t,svrData:r,safeEvalExecCallbackResolve:s,safeEvalExecCallbackReject:c,env:{readWordDict:ye,shape:n,transformRGB:be,sdkUtils:a}})}catch(e){i(e)}}))}));return function(t,r,n,a,o){return e.apply(this,arguments)}}(),je=(e,t)=>{var r=Object.entries(t).reduce(((e,[t,r])=>(globalThis[t]=r,e+=`let ${t} = globalThis.${t};globalThis.${t} = undefined;`)),"");Re(`(function safe_execute() {\n    'use strict';\n    ${r};\n    ${e};\n  })()`)},We=r(1190);JSON.parse('{"wxa_client_check":{"task_id":126,"check_logic":{"xnet":{"model_url":"https://776c-wlc-25xh9-1301415383.tcb.qcloud.la/shorttext_0616.onnx?sign=f4bf7692cacae8ed258bd9cd5ae85f38&t=1655374931","model_name":"shorttext_0616","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,32],"preset_data":"dom_text","pre_proc":{"proc_name":"test_eval","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"}]}}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1L6xm7977OadcHI9SjWEFyyPBR5eYKJkcbhrgswImDYC3YKlIRRM73EO0VwRpkEqgQ"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}]},"xnet_list":[{"conf_name":"exception_ret_rf","model_url":"https://res.wx.qq.com/op_res/Su68tAlYHulBHYkTrgR7F-F2k70xZL3UdYx-9AAeC1Shp4HU-eom-1HEYkzm711WNoy36-alAUFYDwzR9JsGmQ","model_name":"wxapp_exception_detect","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,8],"preset_data":"dom_text","pre_proc":{"proc_name":"exceptionRetProcess","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"},{"key":"dictName","value":"exceptionVocab"}]}}]}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/82EQolnzIWQb3DHsw2nz9AfRqg08CX80ydEXWONUDHQAKP9suHH1OGBZi8c6_DT9j8phbuwFWn385JL2Tz4nZw"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}],"reg_list":[]},"timing":{"after_load_interval":4000,"after_load_maxcnt":4,"most_cnt":1},"filter":{"black_path_list":["packageAPI/pages/api/get-user-info/get-user-info"],"white_path_list":["packageAPI/pages/api/get-user-info*"]},"debug_mode":1,"debug_data":["dom_text","dom_html"],"debug_code":[{"func_name":"test_eval","code":"async function batchProcess(d,a,e,m,f){const dict = await env.readWordDict(\'exceptionVocab\'); console.log(\'dict:\', dict)}"}],"gray_pub_mode":true}}');var Fe,$e,Be,Ue,qe,He,Ge={dom_text:1,dom_html:2,dom_content:3,dom:4,screenshot:5,modal:6,toast:7,loading:8},Ve=e=>Ge[e],Je=r(6342),Ke=r(5473),ze=()=>Fe,Qe=!1,Ze=new Promise((e=>Be=e)),Xe=function(){var e=o()((function*(){if(!$e&&!Qe){Qe=!0;try{var e=yield ot();if(!Array.isArray(e))return Be(!1);e=e.map((e=>{var{model:t,config:r,checkConfig:n,domTextPreset:a,regCheckCfg:o,modelName:i,taskId:s,debug:c,key:l,cliParamList:u,isScreenshot:p,isMultiModal:d,typicalShape:f,allowQuantize:h,allowNPU:v,onlyInteractionCheck:g,interactionPreset:y,runTiming:m}=e,{after_load_interval:_,after_load_maxcnt:b,at_redirect:w,most_cnt:k}=null!=n?n:{};return r.allowQuantize=h,r.allowNPU=v,r.typicalShape=f,($e={}).mostCnt=k,$e.currentCnt=0,$e.afterLoadInterval=_,$e.afterLoadMaxCnt=b,$e.atRedirect=w,$e.modelUrl=t,$e.cfg=r,$e.domTextPreset=a,$e.regCheckCfg=o,$e.modelName=i,$e.taskId=s,$e.debug=c,$e.key=l,$e.cliParamList=u,$e.isScreenshot=p,$e.isMultiModal=d,$e.typicalShape=f,$e.allowNPU=v,$e.allowQuantize=h,$e.interactionPreset=y,$e.onlyInteractionCheck=g,$e.runTiming=m,Fe=s,$e})),Be(e)}catch(e){Be(null)}}}));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=o()((function*(e,t=!1){Xe();var r=yield Ze;return r?t?r:e?r.find((t=>t.key===e)):r[0]:null}));return function(t){return e.apply(this,arguments)}}(),et=!1,tt=()=>et=!0,rt=1,nt=(e,t={})=>{if(et){var r=ze(),n=t.sessionId;n&&delete t.sessionId;var a={task_id:r,xnet_moment:e,...t,sessionid:n,report_id:rt++,report_time:Date.now()};(0,f.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:a})}},at=["dom_text","dom_html","dom_content","dom","screenshot"],ot=()=>new Promise(((e,t)=>{var r,n,a,i;if(null!==(r=Je.default.appContactInfo)&&void 0!==r&&null!==(n=r.operationInfo)&&void 0!==n&&null!==(a=n.jsonInfo)&&void 0!==a&&null!==(i=a.op_info)&&void 0!==i&&i.skip_async_secinfo)return e({close:!0});(0,Ke.o)().then(function(){var r=o()((function*(r){try{var n,a;if(null===(n=r.data)||void 0===n||null===(a=n.wxa_client_check)||void 0===a||!a.check_logic)return e({close:!0});r.data.wxa_client_check.check_logic&&r.data.wxa_client_check.check_logic.xnet&&he(r.data.wxa_client_check.check_logic.vocab_list),r.data.wxa_client_check.gray_pub_mode&&tt();var o=[];for(var i of r.data.wxa_client_check.check_logic.xnet_list){var s,c=yield st({xnet:i,reg_list:r.data.wxa_client_check.check_logic.reg_list},r.data.wxa_client_check.debug_data,r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_code:null);c.taskId=r.data.wxa_client_check.task_id,c.checkConfig=r.data.wxa_client_check.timing,c.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,c.debug_codes=c.debug?r.data.wxa_client_check.debug_code:null,c.runTiming=null===(s=i.sub_timing)||void 0===s?void 0:s.event_list,o.push(c)}if(!o.length&&r.data.wxa_client_check.check_logic.reg_list){var l=[];if(r.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{l.push(Ve(e))})),l.length){var u={regCheckCfg:r.data.wxa_client_check.check_logic.reg_list,domTextPreset:l};u.taskId=r.data.wxa_client_check.task_id,u.checkConfig=r.data.wxa_client_check.timing,u.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,o.push(u)}}1===r.data.wxa_client_check.timing.at_redirect&&1,e(o)}catch(e){t(e)}}));return function(e){return r.apply(this,arguments)}}()).catch(t)})),it=[],st=function(){var e=o()((function*(e,t,r){var n,a={},{model_url:i,model_name:s,cli_param_list:c=[],svr_param_list:l=[],conf_name:u,allowNPU:p,allowQuantize:d,typicalShape:f}=e.xnet||{},h=null!==(n=e.reg_list)&&void 0!==n?n:[],v=[],g=!1,y=!1;if([...h,...c].forEach((e=>{var{preset_data:t}=e;"screenshot"===t&&(y=!0),!v.includes(t)&&t&&at.includes(t)&&v.push(Ve(t))})),i){var m={};c.forEach(((e,t)=>{var r;if(null!==(r=e.union)&&void 0!==r&&r.length){m[e.key]=e.union;var n="screenshot"!==e.preset_data,a="screenshot"===e.preset_data;e.union.forEach((t=>{"screenshot"!==c[t].preset_data?n=!0:a=!0,n&&a&&(e.isMultiModal=!0)}))}if(e.preposition){if(!c[t])throw new Error(`unexpect config: ${e.key} exist an illegal preposition`);c[t].asPreposition=!0}}));for(var _=function*(e){var t,n,i,s=c[e],{preset_data:l,pre_proc:u}=null!=s?s:{},{proc_name:p,param:d}=null!=u?u:{};a[s.key]={type:s.type||"int32",shape:s.shape_list,getData:(i=o()((function*(e,t,{customShape:n,sdkUtils:o={}}={}){var i;if(r&&-1!==(i=r.findIndex((e=>e.func_name===p)))){var c,u=r[i].code;try{c=yield Ne(u,void 0!==t?t:e[Ve(l)],d,null!=n?n:s.shape_list,o)}catch(e){console.error("contentCheck debug safeEval occur error:",e)}return c}if(a[s.key].prepositionPreHandler){var f=a[a[s.key].prepositionPreHandler];if(f){var h=yield f.getData(e,t,{customShape:n});return yield Le(h,Ve(l),p,d,null!=n?n:s.shape_list,t)}}return yield Le(e,Ve(l),p,d,null!=n?n:s.shape_list,t)})),function(e,t){return i.apply(this,arguments)}),prepositionPreHandler:null===(t=c[s.preposition])||void 0===t?void 0:t.key,isMultiModal:!!s.isMultiModal,modalType:"screenshot"===s.preset_data?"image":"text",param_ctrl:s.param_ctrl||{}},a[s.key].isMultiModal&&(g=!0),Object.keys(m).forEach((t=>{if(-1!==m[t].indexOf(e)){var r;if(null!==(r=s.union)&&void 0!==r&&r.length)throw new Error(`unexpect config: unionsponsor: ${s.key} is also the unionmember`);a[s.key].unionMember=!0}})),null!==(n=s.union)&&void 0!==n&&n.length&&(a[s.key].unionMembers=s.union.map((e=>({key:c[e].key,ready:!1}))))},b=0;b<c.length;b++)yield*_(b);l.forEach((e=>{a[e.key]={type:e.type,shape:e.shape_list,data:(0,We.RG)(e.base64_data)}}))}it.push(...v),it=Array.from(new Set(it));var w=[];y||it.forEach((e=>{6!==e&&7!==e&&8!==e||w.push(e)}));var k=!1;return(it=it.filter((e=>!(6===e||7===e||8===e)))).length||(k=!0),{onlyInteractionCheck:k&&!y,modelName:s,model:i,config:a,domTextPreset:it,interactionPreset:w,regCheckCfg:h,key:u,cliParamList:c,isScreenshot:y,isMultiModal:g,allowNPU:!!p,allowQuantize:!!d,typicalShape:f}}));return function(t,r,n){return e.apply(this,arguments)}}(),ct=function(){var e=o()((function*(e,t,r,{customShape:n,debugCustomReport:a}={}){for(var o of Object.values(e))"function"==typeof o.getData&&(o.data=yield o.getData(t,r,{customShape:n,sdkUtils:{debugCustomReport:a}}));return e}));return function(t,r,n){return e.apply(this,arguments)}}(),lt=function(){var e=o()((function*(e,t){return fe(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),ut=(r(9370),r(1821),(0,u.v)("MultiModalCheck",{noCache:!0})),pt=(e,t,r={})=>new Promise(((n,a)=>{if(Ue)return n(Ue);lt(e,t).then((e=>{var t={...r};t.typicalShape||delete t.typicalShape;var o=((e={})=>O?new b(e):new P(e))({model:e,...t});o.onLoad((()=>{Ue=o,n(o)})),o.onError((e=>{Ue||a(e)}))})).catch((e=>{a(e)}))})),dt=function(){var e=o()((function*(e,t,r,n,a,o,{customShape:i,isMultiModal:s,screenshotCheck:c,debug:l,preMultiDomContent:u=!1}={}){void 0===a&&(a={});var p,d=[];if(!t)return{xnetRes:null,errMsg:null,logicCost:d};try{var h=Date.now();nt(2,{sessionId:e}),p=yield pt(t,r,n),nt(3,{sessionId:e});var v=Date.now()-h;d.push({logic_type:2,time_cost:v})}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:d}}try{var g=Date.now();if(nt(4,{sessionId:e}),s&&c)return ut.advancePublish("requestScreenshotData",{shape:i,data:o},!0),{isMultiModal:!0};if(s){var y,m=Object.entries(n).filter((([e,t])=>"text"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{}),_=((e,t)=>r=>{(0,f.yD)({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:{task_id:e,sessionid:t,pre_proc_log:r,report_id:rt++}})})(ze(),e);yield ct(m,a,o,{customShape:i,debugCustomReport:_});var b=new Promise((e=>{y=e}));ut.on("requestScreenshotData",(e=>{y(e)}));var k=yield b,S=Object.entries(n).filter((([e,t])=>"image"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{});yield ct(S,a,k.data,{customShape:k.shape})}else u||(yield ct(n,a,o,{customShape:i}));nt(5,{sessionId:e});var I,C={},T=function*(){if("allowNPU"===x||"allowQuantize"===x||"typicalShape"===x)return"continue";var e,t=n[x];if(t&&t.param_ctrl&&t.param_ctrl.remove_from_model_input)return"continue";if(C[x]=n[x],l&&"image"===n[x].modalType)try{I=yield(n[x].data,n[x].shape[2],n[x].shape[3],e||Promise.resolve(""))}catch(e){}};for(var x in n)yield*T();var A=Date.now()-g;d.push({logic_type:3,time_cost:A});var P=Date.now(),E=yield p.run(C);for(var O of(p.reportCurrentResult(),Object.keys(n))){var M=n[O];M&&M.param_ctrl&&M.param_ctrl.do_report&&(E[O]=M)}var R=Date.now()-P;return d.push({logic_type:4,time_cost:R}),nt(6,{sessionId:e}),{xnetRes:E,logicCost:d,multimodalScreenshotId:I}}catch(e){return w.warn("xnet inference error: ",e),{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:d}}}));return function(t,r,n,a,o,i){return e.apply(this,arguments)}}(),ft=new Promise((e=>{e}));Je.default.onReady((()=>{He=(0,s.J)("reportRequestErrorByAI")}));var ht=()=>qe,vt=function(){var e=o()((function*(e){if(qe&&He){var t=yield Ye(qe);if(t){var{modelUrl:r,modelName:n,cfg:a}=t,o=(yield dt(void 0,r,n,a,void 0,e)).xnetRes;return o=(e=>{var t=e[Object.keys(e)[0]];return"float32"===t.type?Array.prototype.slice.call(new Float32Array(t.data)):null})(o),!!o&&o[0]-o[1]}}}));return function(t){return e.apply(this,arguments)}}()},5310:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={query:{},scene:0,sceneNote:""}},1105:(e,t,r)=>{"use strict";r.d(t,{hI:()=>s});const n={emitter:new(r(9661).Z),puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:{}};var a=r(7445),o=new WeakMap,i=e=>{for(var t in n.puidToPluginWX)if(n.puidToPluginWX[t]===e)return t},s=e=>{if((0,a.isGame)()){var t=(r=e,o.get(r));return t&&t.provider?t.provider:void 0}return n.pluginIDs[i(e)];var r};Object.keys},9806:(e,t,r)=>{"use strict";r.d(t,{Av:()=>p,Fr:()=>c,Iy:()=>d,Y6:()=>i,v7:()=>u,vB:()=>l});var n=r(6342),a=r(7445),o=r(6142);function i(e,t=0){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:t}var s=(()=>Object.assign)();function c(e){return(t={})=>new Promise(((r,n)=>{e(s(t,{success:r,fail:n}))}))}function l(){return a.IS_DEVTOOLS?"boolean"==typeof n.default.urlCheck?!n.default.urlCheck:!__devtoolsConfig.urlCheck:!0===n.default.debug}function u(e,t){return t.reduce(((t,r)=>((0,o.o8)(e[r])||(t[r]=e[r]),t)),{})}function p(){return n.default.appLaunchInfo&&"singlePage"===n.default.appLaunchInfo.mode}var d=(e,t)=>{var r;return function(n,...a){if(r)n.success&&n.success(r),n.complete&&n.complete(r);else{var o=n.success,i=n.complete;n.success=e=>{r=t(e),o&&o(e),i&&i(e)},e(n,...a)}}}},9067:(e,t,r)=>{"use strict";r.d(t,{Ei:()=>n,Xl:()=>a});var n=function(e,t){if("string"!=typeof e)return 0;var r,n,a,o=0;if("utf-16"===(t=t?t.toLowerCase():"utf8")||"utf16"===t)for(n=0,a=e.length;n<a;n++)o+=(r=e.charCodeAt(n))<=65535?2:4;else for(n=0,a=e.length;n<a;n++)o+=(r=e.charCodeAt(n))<=127?1:r<=2047?2:r<=65535?3:4;return o};var a=e=>{var t="";return Object.keys(e).forEach(((r,n)=>{try{var a=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`;0!==n&&(t+="&"),t+=a}catch(e){}})),t}},4366:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var n=r(9807),a=r(667),o=[],i=e=>{o.push(e)};a.U.on("appServiceCacheMessage",(()=>{var e=(0,n.getCacheMsgs)();e.length&&(e.forEach((e=>{o.forEach((t=>{t(e)}))})),(0,n.clearCacheMsgs)())})),a.U.on("appServiceMessage",(e=>{o.forEach((t=>{"function"==typeof t&&t(e)}))}))},4813:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var n=e=>{e={data:e,__cmd__:"data"},d.postMsgToAppService(e)}},9990:(e,r,n)=>{"use strict";n.r(r),n.d(r,{createSharedArrayBuffer:()=>p.Y2,onMessage:()=>c.p,postMessage:()=>u.o});var a=n(6342),o=n(8551),c=n(4366),u=n(4813),p=n(2657);n.g.Reporter=v,n.g.__errorTracer__=h,n.g._WebAssembly=o._WebAssembly,n.g.Foundation=i,n.g.WXConfig=a.default,n.g.wxConsole=_,n.g.wxNativeConsole=w,n.g.wxPerfConsole=b,n.g.__libVersionInfo__=t,n.g.wxRunOnDebug=s,n.g.WeixinJSBridge=l},8551:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_WebAssembly:()=>f});var n=r(667),a=r(1399),o=r(5179),i=r(7445),s=r(714),c="weapp://wechat-game-runtime";function l(e={}){var{filePath:t,encoding:r,success:n,fail:a,complete:o}=e;return fetch(`${c}/wxfs/${btoa(t)}`,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({filePath:t})}).then((e=>"string"==typeof r?e.text():e.arrayBuffer())).then((e=>{"function"==typeof n&&n({data:e,errMsg:"readFileXhr:ok"}),"function"==typeof o&&o({data:e,errMsg:"readFileXhr:ok"})})).catch((e=>{e.errMsg=`readFileXhr:fail ${e.message}`,"function"==typeof a&&a(e),"function"==typeof o&&o(e)}))}function u(e){var t=(0,n.xP)();n.U.once(String(t),(t=>{"readCompressedFile:ok"===t.errMsg?e.success(t):e.fail(t)})),d.postMsgToAppService({__cmd__:"readCompressedFile",filePath:e.filePath,compressionAlgorithm:e.compressionAlgorithm,callbackId:t})}var p=null;p=d.WebAssembly,d.WebAssembly?p=d.WebAssembly:a.Z.WebAssembly?p=a.Z.WebAssembly:"undefined"!=typeof WebAssembly&&(p=WebAssembly),p&&(globalThis.WXWebAssembly={Table:p.Table,Memory:p.Memory,Global:p.Global,Instance:p.Instance,instantiate(e,t={}){var r=n.qU.pluginId;return r&&"string"==typeof e&&(0===e.indexOf(`__plugin__/${r}/`)||(e=`__plugin__/${r}/${e=e.replace(/^\//,"")}`)),"string"!=typeof e?Promise.reject(new Error("path must be a string")):/^(wxfile|https?):/.test(e)?Promise.reject(new Error("invalid file path")):new Promise(((r,n)=>{if(i.IS_IOS&&!i.WK_RENDERER_H5||i.IS_ANDROID){var a=p.instantiate(e,t);if(i.IS_ANDROID&&"function"==typeof a.then){var c=!1;a.then((()=>{c=!0}));var d=()=>{setTimeout((()=>{c||d()}),5)};d()}r(a)}else{var f=o.p;i.WK_RENDERER_H5&&(f=l),/\.br$/.test(e)&&!i.IS_PC&&(f=i.WK_RENDERER_H5?u:s.$),f({compressionAlgorithm:"br",filePath:e,success(e){p.instantiate(e.data,t).then((e=>{r(e)}),(e=>{n(e)}))},fail({errMsg:e}){n(new Error(e.replace(/^\w+:fail\s*/,"")))}})}}))}});var f={Table:p.Table,Memory:p.Memory,Global:p.Global,Instance:p.Instance,compile:p.compile,compileStreaming:p.compileStreaming,instantiateStreaming:p.instantiateStreaming,validate:p.validate,CompileError:p.CompileError,LinkError:p.LinkError,Module:p.Module,RuntimeError:p.RuntimeError,instantiate:(e,t,r)=>Promise.resolve(p.instantiate(e,t,r))}},1944:(e,t,r)=>{"use strict";r.r(t);var n=r(6142);var a={String:0,NaN:"<NaN>",Infinity:e=>e>0?"<Infinity>":"<-Infinity>",Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:e=>""===e.name?"<Function>":`<Function: ${e.name}>`,Date:e=>`<Date: ${e.toJSON()}>`,RegExp:e=>`<RegExp: ${e.toString()}>`,Error:e=>`<${e.name}: ${e.message}>${e.stack?"\n"+e.stack:""}`,Symbol:e=>`<Symbol: ${e.toString()}>`,Promise:"<Promise>",Map:e=>`<Map: size=${e.size}>`,WeakMap:"<WeakMap>",Set:e=>`<Set: size=${e.size}>`,WeakSet:"<WeakSet>",ArrayBuffer:e=>`<ArrayBuffer: byteLength=${e.byteLength}>`,DataView:e=>`<DataView: byteLength=${e.byteLength}, byteOffset=${e.byteOffset}>`,TypedArray:e=>`<${e.constructor&&e.constructor.name?e.constructor.name:"TypedArray"}: byteLength=${e.byteLength}, length=${e.length}>`,BigInt:e=>`<BigInt: ${e.toString()}>`};function o(e){var t=function(e){var t=(0,n.Em)(e);if("Number"===t){if((0,n.i2)(e))return"NaN";if((0,n.AT)(e))return"Infinity"}else if("Object"===t){if((0,n.Ft)(e))return"Null"}else if(t.endsWith("Array")&&"Array"!==t&&(0,n.fU)(e))return"TypedArray";return t}(e);return t in a?a[t]?(0,n.mf)(a[t])?[a[t](e),!0]:[a[t],!0]:[e,!0]:[null,!1]}function i(e){var t=new WeakMap,r=0;return function e(a,i){var s,[c,l]=o(a);return l?c:r>3e3?"<Hidden>":t.has(a)?`<Circular: ${t.get(a)}>`:(t.set(a,i),r++,(0,n.kJ)(a)?a.map(((t,r)=>e(t,`${i}[${r}]`))):(s={},Object.keys(a).forEach((t=>{s[t]=e(a[t],`${i}.${t}`)})),s))}(e,"@")}function s(e,t){try{return(e=Array.prototype.slice.call(e)).map(i)}catch(e){return void("undefined"!=typeof inSnapshotCheck&&inSnapshotCheck&&"function"==typeof t&&t("[snapshot check] transformLogArgs error: ",e))}}var c="log",l="info",u="warn",p="error",f="debug",h="time",v="timeEnd";var g=r(6342),y=r(7445),m=()=>{};m=function(e,t){var r=function(e,t,r=!0){if(r||e===u||e===p){var n=s(t);if(void 0!==n)return{level:e,logs:n}}}(e,t,"devtools"===g.default.platform||g.default.debug);r&&d.postMsgToAppService({__cmd__:"log",logData:r})},y.IS_PC||(globalThis.console={log(){m(c,arguments)},info(){m(l,arguments)},warn(){m(u,arguments)},error(){m(p,arguments)},debug(){m(f,arguments)},time(){m(h,arguments)},timeEnd(){m(v,arguments)},group(){},groupEnd(){}})},9807:(e,t,r)=>{"use strict";r.r(t),r.d(t,{clearCacheMsgs:()=>S,getAllowPostMessage:()=>T,getCacheMsgs:()=>k,getInjectFilePath:()=>C,getScriptPath:()=>I});var a,o=r(667),s=globalThis,c=function(e){e&&(void 0===a&&(a=s.require),e.startsWith("/")&&(e=e.substring(1)),a(e))},l=r(2657),u=r(6466),p=r(5825),f=r(7445),h=0,v={},g={};(0,l.En)((e=>{var t=0,r=0;Object.assign(e,{new(e){var r=++t+h;return v[r]=e,d.postMsgToAppService({__cmd__:"setSharedBuffer",__buffer__:e,__id__:r},!1),r},get:e=>v[e],destroy(e){delete v[e]},Lock(e,t){var n=++r+h;return g[n]=t,d.postMsgToAppService({__cmd__:"lockSharedBuffer",__sid__:e,__lid__:n}),n},Unlock(e,t){d.postMsgToAppService({__cmd__:"unlockSharedBuffer",__sid__:e,__lid__:t})}})}));var y,m,_,b=!1,w=[],k=()=>w,S=()=>{w=[]},I=()=>y,C=()=>m,T=()=>b;o.U.on("codeInjectDone",(()=>{b=!0,o.U.emit("appServiceCacheMessage")})),d.onAppServiceMsg((e=>{var t=e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__;if(delete e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__,void 0===_&&(_=(0,u.getSupportMultiContext)()),(e=(0,l.IF)(e))&&e.__cmd__){if("requireScript"===e.__cmd__)if(_){var{injectFilePath:r,pluginId:a}=e.__options__;m=r,y=e.__script__,o.U.emit("syncWorkerVariable",{pluginId:a,injectPath:r,scriptPath:y})}else{if(o.qU.pluginId=e.__options__&&e.__options__.pluginId,o.qU.workerId=e.__options__&&e.__options__.workerId,h=Number(`.${e.__id__}`),f.IS_ANDROID)if(e.__options__&&e.__options__.__sdk_skip_protect);else{var i=(0,p.ls)();try{i.accessSync("wxfile://usr/")}catch(e){}Object.freeze(String.prototype),Object.defineProperty(globalThis,"String",{configurable:!1}),Object.freeze(Object.prototype),Object.defineProperty(globalThis,"Object",{configurable:!1}),Object.freeze(n.prototype),Object.defineProperty(globalThis,"Function",{configurable:!1})}c(e.__script__)}else if("setSharedBuffer"===e.__cmd__)v[e.__id__]=e.__buffer__;else if("lockSharedBuffer"===e.__cmd__)"function"==typeof g[e.__lid__]&&(g[e.__lid__](),delete g[e.__lid__]);else if("callback"===e.__cmd__){var{originalMsg:s,result:d}=e,{callbackId:k}=s;o.U.emit(k,d)}}else e=e.data,_?(t&&(e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__=t),b?o.U.emit("appServiceMessage",e):w.push(e)):o.U.emit("appServiceMessage",e)})),i.onFrameworkError((e=>{"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),console.error("[worker] Uncaught FrameworkError",e)})),i.onUnhandledError((e=>{"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),console.error("[worker] Uncaught",e)})),i.onUnhandledRejection(((e={})=>{"function"==typeof __wxSourceMapRetrace__&&(e.reason=__wxSourceMapRetrace__(e.reason)),console.error("[worker] Uncaught (in promise)",e.reason)}))},8131:(e,t,r)=>{var{getSupportMultiContext:n,setSupportMultiContext:a}=r(6466),{IS_PC:o}=r(7445),{initWorkerSubContext:s}=r(4904);if(r(1944),r(9807),r(8551),!0===i.env.isWXLibWorker)e.exports=r(9990),a(!1);else if("function"==typeof r.g.workerInvokeJsApi){var c=n(),l=r(3965);c?(s({exportApi:l,delay:o}),e.exports=null):e.exports=l}f.hijack()},667:(e,t,r)=>{"use strict";r.d(t,{U:()=>o,qU:()=>a.r,xP:()=>s});var n=r(9661),a=r(5863),o=new n.Z,i=0,s=()=>++i},5825:(e,t,r)=>{"use strict";r.d(t,{zp:()=>ue,Sv:()=>ie,ls:()=>Y});var n=r(6365);const o=a.applyDecoratedDescriptor;var i,s=r.n(o),c=r(5436),l=r(3140),u=r(9806),p=r(6142),d=r(3341),f=r(8929),v=r(7858),g=0,y=new WeakMap,m=new WeakMap,_=new WeakMap,b=new WeakMap,k={},S=new c.Q;(0,d.jQ)("onSocketTaskStateChange",((e={})=>{var{state:t,socketTaskId:r}=e,n=k[r];if(n){var a=y.get(n);if(delete e.state,delete e.socketTaskId,n){if("open"===t){(0,v.gA)(),n.readyState=n.OPEN;var o=_.get(n).url,i=Date.now()-b.get(n),s=e.statusCode,c=_.get(n).__skipDomainCheck__,u=e.profile;(0,l.P5)({functionName:"connectSocket",keyParam:o,result:1,costTime:i,errorMsg:"",statusCode:s,__skipDomainCheck__:c,dataLength:0,responseDataLength:0,profile:u,queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0})}else"close"!==t&&"error"!==t||(n.readyState=n.CLOSED);S.emit(`${a}${t}`,e),S.emit(`onSocket${t[0].toUpperCase()+t.substr(1)}`,e,n),"close"===t&&(delete k[r],S.removeAllListeners(`${a}open`),S.removeAllListeners(`${a}close`),S.removeAllListeners(`${a}error`),S.removeAllListeners(`${a}message`))}}}));var I=function(e,t){S.on(`${y.get(this)}${e}`,h.surroundThirdByTryCatch(t,`at socketTask.on${e} callback function`))},C=(i=class{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0});var n,a=g++;y.set(this,a),_.set(this,t),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((e=>{"function"==typeof t[e]&&(t[e]=h.surroundThirdByTryCatch(t[e],`at api connectSocket ${e} callback function`))})),b.set(this,Date.now()),(0,p.hj)(t.timeout)||(t.timeout=0);var o=t.forceCellularNetwork,i=()=>{var e={...t,forceCellular:o};(0,d.IN)("createSocketTask",e,{beforeAll(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:e=>{m.set(this,e.socketTaskId),k[e.socketTaskId]=this},beforeFail:e=>{var r=t.url,a=Date.now()-b.get(this),o=t.__skipDomainCheck__;n=e.errMsg,(0,l.P5)({functionName:"connectSocket",keyParam:r,result:2,costTime:a,errorMsg:n,statusCode:"",__skipDomainCheck__:o,dataLength:0,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:e.errno,queueLength:0})}}),n&&(this.readyState=this.CLOSED,setTimeout((()=>{S.emit(`${a}error`,{errMsg:n})}),0))},s=()=>{(0,p.mf)(t.customCheck)?t.customCheck(t,(e=>{e?((0,d.YG)("connectSocket",t,e),this.readyState=this.CLOSED,setTimeout((()=>{S.emit(`${a}error`,{errMsg:e})}),0)):i()})):i()};o?"boolean"!=typeof o?(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof o),o=!1,s()):(0,v.Nv)().then((e=>{e||(o=!1),s()})):s()}send(e){if(this.readyState===this.OPEN){var t=Date.now();(0,d.IN)("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:m.get(this)}),{beforeAll:r=>{if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),Math.random()>.99){var n=_.get(this).url,a=r.errMsg.indexOf("ok")>-1?1:2,o=Date.now()-t,i=r.errMsg,s=_.get(this).__skipDomainCheck__,c=(0,u.Y6)(e.data);(0,l.P5)({functionName:"sendSocketMessage",keyParam:n,result:a,costTime:o,errorMsg:i,statusCode:"",__skipDomainCheck__:s,dataLength:c,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0})}}})}else(0,d.YG)("SocketTask.send",e,"SocketTask.readyState is not OPEN")}close(e={}){(0,d.IN)("operateSocketTask",Object.assign({code:1e3},e,{operationType:"close",socketTaskId:m.get(this)}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}onOpen(e){I.call(this,"open",e)}onClose(e){I.call(this,"close",e)}onMessage(e){I.call(this,"message",e)}onError(e){I.call(this,"error",e)}},s()(i.prototype,"send",[f.Qu],Object.getOwnPropertyDescriptor(i.prototype,"send"),i.prototype),s()(i.prototype,"close",[f.Qu],Object.getOwnPropertyDescriptor(i.prototype,"close"),i.prototype),i),T=r(1399),x=r(6342),A=(e,t)=>(0,d.ZI)(e,`WSS.${t}`),P=5;x.default.onReady((()=>{x.default.wxAppInfo&&x.default.wxAppInfo.maxWebsocketConnect&&(P=x.default.wxAppInfo.maxWebsocketConnect)}));var E=new WeakMap,O=new WeakMap,M=new WeakMap,R={},D=new c.Q,L=0,N=0;function j(e,t,r){t.errMsg=t.errMsg||"ok";var n="ok"===t.errMsg;(0,d.FE)({name:e,args:r,success:n,errMsg:t.errMsg})}class W{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1});var n=T.Z.WSS,a=L++,o=t.workerId?new n(t.workerId):new n;delete t.workerId,E.set(this,t),O.set(this,o),M.set(this,a);var i=Date.now();o.onopen=A(((e,r)=>{this.readyState!==this.CLOSED&&((0,v.gA)(),N++,this.readyState=this.OPEN,D.emit(`${a}open`,{header:e,profile:r}),D.emit("onSocketOpen",{header:e,profile:r},this),(0,l.P5)({functionName:"connectSocket",keyParam:t.url,result:1,costTime:Date.now()-i,errorMsg:"",statusCode:"",__skipDomainCheck__:t.__skipDomainCheck__,dataLength:0,responseDataLength:0,profile:r,queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0}))}),"onopen"),o.onclose=A(((e,t)=>{N--,this.readyState=this.CLOSED,D.emit(`${a}close`,{code:e,reason:t}),D.emit("onSocketClose",{code:e,reason:t},this)}),"onclose"),o.onmessage=A((e=>{this.readyState!==this.CLOSED&&((0,p.eP)(e)&&(e.__proto__=ArrayBuffer.prototype),D.emit(`${a}message`,{data:e}),D.emit("onSocketMessage",{data:e},this))}),"onmessage"),o.onerror=A(((e,t)=>{N--,this.readyState=this.CLOSED,setTimeout((()=>{D.emit(`${a}error`,{errCode:e,errMsg:t}),D.emit("onSocketError",{errCode:e,errMsg:t},this)}),0)}),"onerror");var s=()=>{var e={errMsg:""};if(N>=P)this.readyState=this.CLOSED,e.errMsg=`fail reach max websocket connect count ${P}`;else{var r=(0,u.v7)(t,["url","header","timeout","protocols","tcpNoDelay","perMessageDeflate","enableProfile","forceCellularNetwork"]);r.forceCellularNetwork&&"boolean"==typeof r.forceCellularNetwork?(0,v.Nv)().then((n=>{n&&(r.forceCellular=!0),r.forceCellularNetwork=void 0,e.errMsg=o.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(R[a]=this),j("connectSocket",e,t)})):(r.forceCellularNetwork&&"boolean"!=typeof r.forceCellularNetwork&&(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=void 0),e.errMsg=o.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(R[a]=this),j("connectSocket",e,t))}};(0,p.mf)(t.customCheck)?t.customCheck(t,(e=>{e?j("connectSocket",{errMsg:e},t):s()})):(s(),(({api:e,url:t})=>(0,u.vB)()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}):new Promise(((r,n)=>{(0,d.IN)("checkNetworkAPIURL",{api:e,url:t,success:r,fail:n})})))({api:"websocket",url:t.url}).then((e=>{if(t.url,!(t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost))throw new Error("fail:url not in domain list")})).catch((e=>{this.readyState=this.CLOSED;var t=e.message||e.errMsg;D.emit(`${a}error`,{errMsg:t}),D.emit("onSocketError",{errMsg:t},this)})))}send(e={}){var t={errMsg:O.get(this).send(e.data)};(e.success||e.fail||e.complete)&&j("sendSocketMessage",t,e)}close(e={}){this.readyState,j("closeSocket",{errMsg:O.get(this).close((0,p.hj)(e.code)?e.code:1e3,e.reason)},e)}onOpen(e){D.on(`${M.get(this)}open`,h.surroundThirdByTryCatch(e,"at socketTask.onOpen callback function"))}onClose(e){D.on(`${M.get(this)}close`,h.surroundThirdByTryCatch(e,"at socketTask.onClose callback function"))}onMessage(e){D.on(`${M.get(this)}message`,h.surroundThirdByTryCatch(e,"at socketTask.onMessage callback function"))}onError(e){D.on(`${M.get(this)}error`,h.surroundThirdByTryCatch(e,"at socketTask.onError callback function"))}}var F=r(7445),$=r(4500),B=r(182),U=r(5133),q=r(9105),H=r(6347),G=C,V=k;r.g.__isAppServiceRemoteDebugMode__||(0,T.a)((e=>{e.WSS&&x.default.onReady((()=>{var t=!1,r=F.IS_IOS?"clicfg_appbrand_ios_native_socket_wcwss_new":1;1===r?t=!0:(0,$.b)({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(t=!0)}});var n=(0,B.J)("bindingWebSocket");t||n||e.WSS.force?(G=W,V=R,(0,U.Tk)(/^connectSocket/,2),w.info(`binding socket, abtest: ${t}, permission: ${n}`)):w.info(`jsapi socket, abtest: ${t}, permission: ${n}`)}))}));var J=new WeakMap,K={};function z(e,t){return K[t]||(K[t]=new WeakMap,S.on(`onSocket${t}`,Q(t)),D.on(`onSocket${t}`,Q(t))),function(r){(0,d.r3)(`onSocket${t}`,r,p.ZT)&&K[t].set(e,r)}}function Q(e){return function(t,r){var n=r.__socketInstance__,a=K[e].get(n),o=J.get(n);a&&r===o&&h.surroundThirdByTryCatch(a,`at onSocket${e} callback function`)(t)}}var Z,X,Y,ee=(e={})=>{e=Object.assign({__skipDomainCheck__:!1},e);var t={};return{connectSocket(r){r=Object.assign({},r,{url:`${r.url}`});var{workerId:n}=r;if(delete r.workerId,(0,d.r3)("connectSocket",r,{url:""}))if(!1!==(0,H.mQ)(r.url,"websocket")){"object"!=typeof r.header&&void 0!==r.header&&delete r.header;var a={};r.header&&(a=(0,q.Nf)(r.header)),r.__skipDomainCheck__=e.__skipDomainCheck__,(0,B.J)("skipDomainCheck_socket")&&(r.__skipDomainCheck__=!0);try{var o=J.get(t),i=new G(t,Object.assign({},r,{header:a,...n?{workerId:n}:{}}));return o&&o.readyState!==o.CLOSED?o.readyState:J.set(t,i),i}catch(e){return e.message,void(0,d.YG)("connectSocket",r,e.message)}}else(0,d.YG)("connectSocket",r,`invalid url "${r.url}"`)},closeSocket(e){var r=J.get(t);for(var n in r&&r.readyState!==r.CLOSED?(r.readyState=r.CLOSED,r.close(e)):(0,d.YG)("closeSocket",e,"WebSocket is not connected"),V){var a=V[n];a.__socketInstance__===t&&(a.readyState=a.CLOSED,a!==r&&a.close())}},sendSocketMessage(e){var r=J.get(t);r&&r.readyState===r.OPEN?r.send(e):(0,d.YG)("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:z(t,"Open"),onSocketClose:z(t,"Close"),onSocketMessage:z(t,"Message"),onSocketError:z(t,"Error")}},te=ee(),re=r(4237),ne=(r(9976),()=>(Z||(Z=(0,re.Dc)()),Z)),ae=()=>(X||(X=(0,re.sZ)()),X),oe=r(667),ie=(e={})=>{var t={...e,workerId:oe.qU.workerId};return(0,n.S)(t)},se=!1,ce=e=>{var t,r=oe.qU.workerId;if("app"===e)t=ae();else{if("game"!==e)throw Error("context must app or game");t=ne()}if(!se){var n=t.readFile,a=t.readFileSync;t.readFile=(e={})=>{var t={...e,workerId:r};return n(t)},t.readFileSync=(...e)=>{for(var t=Array.from(e),n=t.length;n<4;n++)t[n]=void 0;return t[4]=r,a(...t)},se=!0}return t};x.default.onReady((()=>{Y=(0,F.isGame)()?()=>ce("game"):()=>ce("app")}));var le=te.connectSocket,ue=(e={})=>{var t={...e,workerId:oe.qU.workerId};return le(t)}},4904:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getWorkerGlobalVariable:()=>c,initWorkerSubContext:()=>l});var n,a=r(7445),o=r(667),i=(r(4366),new Promise((e=>{n=e}))),s={pluginId:void 0},c=()=>s,l=({delay:e,exportApi:t})=>{var r=g.allocEmpty("worker_sub_context"),n=()=>{var e;a.IS_PC||g.loadLibFiles(r,["WAWorkerSubContext.js"],(e=>{console.error("loadlib: WAWorkerSubContext.js fail: ",e)})),g.subscribe("codeInjectDone",(()=>{o.U.emit("codeInjectDone")})),g.publish("envReady",{env:{...globalThis.worker,...t},globalObject:{setTimeout:setTimeout,console:console,setInterval:setInterval,clearTimeout:clearTimeout,clearInterval:clearInterval,WXWebAssembly:globalThis.WXWebAssembly},runDevCode:()=>i.then((t=>{var{pluginId:n,injectPath:o,scriptPath:i}=t;e=i,s.pluginId=n;var c=o;return f.overwriteSetPrototypeOf(),f.deepFreezeGlobalObjs([],!1),g.batchLoadJsFiles(r,[a.IS_PC?"__worker_dev_code__":c])})),contextId:1,getScriptPath:()=>e},[1],!0,!0),g.errorHandler(1,(e=>{var t,n;t=r,n=e,"function"==typeof d.errorHandler&&d.errorHandler(n,t)}))};e?setTimeout(n):n()};o.U.on("syncWorkerVariable",(e=>{n(e)}))},3965:(e,t,r)=>{"use strict";r.r(t),r.d(t,{connectSocket:()=>sr.zp,createInnerAudioContext:()=>nr,createSharedArrayBuffer:()=>ar.Y2,downloadFile:()=>sr.Sv,env:()=>cr,getFileSystemManager:()=>sr.ls,onMessage:()=>or.p,postMessage:()=>ir.o,request:()=>u.WY,uploadFile:()=>b});var n=r(6342),a={};n.default.onReady((()=>{"object"==typeof n.default.env&&(a.USER_DATA_PATH=n.default.env.USER_DATA_PATH)}));const o=a;var s={USER_DATA_PATH:null,CLIENT_DATA_PATH:null};n.default.onReady((()=>{"object"==typeof n.default.env&&Object.assign(s,n.default.env)}));const c=s;var l=r(7445),u=r(1235),p=r(182),d=r(3341),f=r(9105),g=r(5515);(0,g.b)("Upload",{maxTaskCount:10,functionName:"uploadFile"}),n.default.onReady((()=>{try{"number"==typeof n.default.wxAppInfo.maxUploadConcurrent&&(0,g.b)("Upload",{maxTaskCount:n.default.wxAppInfo.maxUploadConcurrent})}catch(e){}}));class y extends g.o{constructor(e){super(e,{taskType:"Upload",beforeSend:t=>(t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t),beforeSuccess:e=>(e.profile&&(e.profile.usingHighPerformanceMode=!!e.profile.usingHighPerformanceMode),e)})}}const m=y;var _=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if((0,d.r3)("uploadFile",t,{url:"",filePath:"",name:""})){"object"!=typeof t.header&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!=typeof t.formData&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var r={},n={};t.header&&(r=(0,f.Nf)(t.header)),t.formData&&(n=(0,f.Nf)(t.formData)),t.__skipDomainCheck__=e.__skipDomainCheck__,(0,p.J)("skipDomainCheck_uploadFile")&&(t.__skipDomainCheck__=!0);try{return new m(Object.assign({},t,{header:r,formData:n}))}catch(e){return void(0,d.YG)("uploadFile",t,e.message)}}}),b=_(),k=(_({__skipDomainCheck__:!0}),r(1399)),S=r(2219),I=r(9661),C=r(5125),T=r(9766),x=(0,T.s)("AudioInterruptionBegin"),A=(x.onMethod,x.offMethod,(0,T.s)("AudioInterruptionEnd")),P=(A.onMethod,A.offMethod,A.internalOnMethod,A.internalOffMethod,r(6142)),E=void 0,O=!1;function M(){return new E}i.onLoad((()=>{E=k.Z&&k.Z.WXAUDIO?k.Z.WXAUDIO:k.Z&&k.Z.AudioContext?k.Z.AudioContext:"undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null,O=!0}));var R,D,L=r(5179),N=r(4317),j=(R="getCloudFileUrl",D="qbase_commapi",(0,d.TG)(R,D,(function(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}),(function(e){return e})));var W=function(e,t,r){$({fileIds:e,type:t,success:r})},F=new Map,$=function(e){var{fileIds:t,type:r,success:n}=e,a=new Map,o=[],i=!1;if(t.forEach((e=>{var t=F.get(e);if(t){if(Date.now()<t.expireTime)return void(a.has(e)||(a.set(e,t.data),i||(i=!0)));F.delete(e)}/^(cloud):\/\//.test(e)&&o.push(e)})),0!==o.length){var s=0,c=function(e,t){for(var r=[],n=Math.ceil(e.length/t),a=0;a<n;a++)r.push(e.slice(a*t,(a+1)*t));return r}(t,50);Promise.all(c.map((e=>new Promise((t=>{j({data:{fileid_list:e,type:r},success(r){var n=r;if(n.baseresponse&&0===n.baseresponse.errcode?n.download_list.forEach((e=>{a.set(e.fileid,e),!F.has(e.fileid)&&e.max_age&&F.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):n.baseresponse?e.forEach((e=>{a.set(e,{download_url:e,service_errcode:n.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+n.baseresponse.errcode}),F.has(e)&&F.delete(e)})):e.forEach((e=>{a.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),F.has(e)&&F.delete(e)})),n.baseresponse&&n.baseresponse.stat&&n.baseresponse.stat.qbase_cost_time){var o=n.baseresponse.stat.qbase_cost_time;o>s&&(s=o)}t()},fail(){t()},complete(e){}})}))))).then((()=>{B(t,a,s,n)})).catch((e=>{"function"==typeof n&&n({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else i?B(t,a,0,n):"function"==typeof n&&n({data:t.map((e=>({url:e})))})};function B(e,t,r,n){var a=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var r=t.get(e);r?0===r.service_errcode?a.push({url:r.download_url}):a.push({url:e,code:r.service_errcode,msg:r.errmsg}):a.push({url:e,code:-1,msg:"NO_RESULT"})}else a.push({url:e})})),"function"==typeof n&&n({data:a,cost:r})}var U=r(8602),q=(r(8171),r(1708),r(4599),()=>{!0});var H,G=r(1190),V=0,J=0,K=0,z=new WeakMap,Q=new WeakMap,Z=new WeakMap,X=new WeakMap,Y=new WeakMap,ee=new WeakMap,te=new WeakMap,re=new WeakMap,ne=new WeakMap,ae=new WeakMap,oe=new WeakMap,ie=new WeakMap,se=new Map,ce={},le=52428800,ue=0,pe=0,de=e=>{Object.keys(ce).sort(((e,t)=>ce[e].index-ce[t].index)).some((t=>{var r=ce[t];if(r.audioBuffer&&e!==t){var n=r.audioBufferSize;if(delete r.audioBuffer,delete r.audioBufferSize,delete ce[t],(ue-=n)<=le)return!0}return!1}))},fe=e=>{e.index=++pe},he=(e,t,r)=>{var n=ce[e];if(n&&n.audioBuffer)fe(n),t(n.audioBuffer,{sync:!0});else if(n&&n.loading)fe(n),n.successCallbacks.push(t),n.failCallbacks.push(r);else{ce[e]={loading:!0,successCallbacks:[t],failCallbacks:[r]},(/^(http|https):\/\//.test(e)?ge(e):/^(cloud):\/\//.test(e)?ye(e):/^(wxblob:\/\/)/.test(e)?me(e):/^data:audio\//.test(e)?_e(e):ve(e)).then((t=>{H.decodeAudioData(t,(0,d.qB)((t=>{var r,n=ce[e];fe(n),r=n.audioBuffer?n.audioBuffer:((e,t,r)=>(e.audioBuffer=t,e.audioBufferSize=t.sampleRate*t.duration*4*t.numberOfChannels,(ue+=e.audioBufferSize)>le&&de(r),e.audioBuffer))(n,t,e);try{n.successCallbacks&&n.successCallbacks.forEach((e=>{e(r,{sync:!1})}))}catch(e){console.error(e),w.error("loadAudio invoke successCallback fail",e.message),n.failCallbacks&&n.failCallbacks.forEach((t=>{t(e)}))}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}),"WebAudioAdapter-decodeAudioData-success"),(0,d.qB)((t=>{try{var r=ce[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),w.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}),"WebAudioAdapter-decodeAudioData-fail"))})).catch((t=>{try{var r=ce[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),w.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}))}},ve=e=>{return(t={filePath:e},new N.Q(((e,r)=>{(0,L.p)({...t,success:e,fail:r})}))).then((e=>e.data));var t},ge=e=>{return(t={url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0},new N.Q(((e,r)=>{(0,u.UF)({...t,success:e,fail:r})}))).then((e=>e.data));var t},ye=e=>new N.Q(((t,r)=>{W([e],"audio",(e=>{ge(e.data[0].url).then((e=>t(e))).catch((e=>{r(e)}))}))})),me=e=>new N.Q((t=>{t(U.Z.get(e))})),_e=e=>{var t=e.indexOf("base64,")+7;return e=e.slice(t),new N.Q(((t,r)=>{try{t((0,G.RG)(e))}catch(e){e.errMsg=e.message,r(e)}}))},be=function(e){z.set(this,Object.assign(z.get(this),e))},we=function(e){return z.get(this)[e]},ke=function(){return z.get(this)},Se=function(){this.stop(!0),be.call(this,{_source:null});var e=Z.get(this);e&&e()},Ie=function(e){var t=++K,r=H.createBufferSource(t),{currentPlayBackTime:n,state:a}=Ce.call(this,e),{loop:o,playbackRate:i,_buffer:s,_gainNode:c,_instanceId:u,src:p,withReport:f}=a,h=Se.bind(this);r.onended=(0,d.ZI)(h,"WebAudioAdapter-BufferSource.onended"),r.buffer=s,r.loop=o,r.playbackRate.value=i,c&&r.connect(c),r.start(0,n),H.resume(),be.call(this,{_isPlaying:!0,paused:!1,_source:r,_played:!0,_playbackTime:0,_lastCurrentTime:n,_startedAt:H.currentTime,_endedHandler:h,_bufferSourceId:t}),this._startTimeupdateInterval(),(l.IS_IOS||l.IS_ANDROID)&&f&&se.set(t,{_instanceId:u,src:p})},Ce=function(e){e=e||ke.call(this);var t,{_startedAt:r,_playbackTime:n,_isPlaying:a,playbackRate:o,_lastCurrentTime:i,duration:s}=e;return(t=a?i+(H.currentTime-r)*o:n)>s&&(t%=s),{currentPlayBackTime:t,state:e}},Te=function(){this.stop(!0);var{_gainNode:e,_audioLoadPromiseResolve:t}=ke.call(this);e&&e.disconnect(),be.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null,_playPendingIdMap:null}),t(!0),e=null,t=null,Q.delete(this),Z.delete(this),X.delete(this),Y.delete(this),te.delete(this),ee.delete(this),re.delete(this),ne.delete(this),ie.delete(this),clearInterval(oe.get(this)),oe.delete(this)},xe=function(){this.stop(!0),be.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null})},Ae=function(e){var t,r;xe.call(this);var n=new N.Q(((e,n)=>{t=e,r=n}));be.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:n,_audioLoadPromiseResolve:t,_audioLoadPromiseReject:r})},Pe={},Ee=(e,t)=>e+"-"+t,Oe=function(e,t){var r=Ee(t,e);Pe[r]?Pe[r]++:Pe[r]=1};class Me{constructor({withReport:e}={}){H||("function"==typeof(H=M()).create&&H.create(-1,!0),(l.IS_IOS||l.IS_ANDROID)&&(H.onmessage=(0,d.ZI)((e=>{var{message:t,node_id:r}=e;if("real_play"===t){var n=se.get(r);if(se.delete(r),n){var{_instanceId:a,src:o}=n,i=Ee(a,o);Pe[i]&&(Pe[i]--,this.ignoreReport||Date.now())}}}),"WebAudioAdapter-AudioContext.onmessage")));var t=H.createGain();t&&t.connect&&t.connect(H.destination);var r={withReport:e},n=new N.Q(((e,t)=>{r._audioLoadPromiseResolve=e,r._audioLoadPromiseReject=t}));z.set(this,Object.assign(r,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!0,duration:NaN,_loadPromise:n,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:"",_playPendingIdMap:{},_instanceId:++J}))}get src(){return we.call(this,"src")}set src(e){var{src:t,_gainNode:r}=ke.call(this);r&&"string"==typeof e&&e.length>0&&t!==e&&(t&&Ae.call(this,e),be.call(this,{src:e}),he(e,((t,{sync:r})=>{var{src:n,_gainNode:a,_isPlaying:o,autoplay:i,_audioLoadPromiseResolve:s}=ke.call(this);if(a){if(n===e){if(be.call(this,{_ready:!0,_buffer:t,duration:t.duration}),r)setTimeout((()=>{var e=Q.get(this);e&&e()}),0);else{var c=Q.get(this);c&&c()}return!i||o||ft()||this.play(),s(!1),null}s(!0)}}),(t=>{var r=`set audio src "${e}" fail: ${t.message||t.errMsg}`;console.error(t),w.error("loadAudioFail ",t);var n=ke.call(this),{_audioLoadPromiseReject:a}=n,o=X.get(this);o&&o({type:"error",errMsg:r,errno:t.errno}),a(t)})))}get startTime(){return we.call(this,"startTime")}set startTime(e){var{_played:t,startTime:r,_gainNode:n}=ke.call(this);n&&e!==r&&"number"==typeof e&&e>=0&&(be.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return we.call(this,"autoplay")}set autoplay(e){var{autoplay:t,_gainNode:r}=ke.call(this);r&&!!e!==t&&(e&&(this.ignoreReport=!0,q()),be.call(this,{autoplay:!!e}))}get loop(){return we.call(this,"loop")}set loop(e){var{_source:t,_gainNode:r}=ke.call(this);r&&(be.call(this,{loop:e=!!e}),e&&(this.ignoreReport=!0,q()),t&&(t.loop=e))}get volume(){return we.call(this,"volume")}set volume(e){var{volume:t,_gainNode:r}=ke.call(this);r&&"number"==typeof e&&e>=0&&e<=1&&e!==t&&(be.call(this,{volume:e}),r&&r.gain&&(r.gain.value=e))}get playbackRate(){return we.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:r,_gainNode:n}=ke.call(this);n&&"number"==typeof e&&t!==e&&e>=.5&&e<=2&&(be.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:H.currentTime}),r&&(r.playbackRate.value=e))}get duration(){return we.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=Ce.call(this);return e}set currentTime(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=ke.call(this);if(!r)return;var n=re.get(this),a=ne.get(this),o=Q.get(this);a&&a(),this.ignoreReport=!0,q(),t?(this.stop(!0),be.call(this,{_playbackTime:e}),this.play(!0)):be.call(this,{_playbackTime:e}),n&&n(),o&&o()}}get paused(){return we.call(this,"paused")}get buffered(){var{duration:e}=ke.call(this);return e>0?e:0}play(e=!1){var t=ke.call(this),{_isPlaying:r,_ready:n,_loadPromise:a,_gainNode:o,_playPendingIdMap:i,withReport:s,src:c,_instanceId:l}=t;if(o){var u=this.lastPlayTime,p=Date.now();if(this.lastPlayTime=p,u&&p-u<1e3&&(this.ignoreReport=!0,q()),!r||e||!s||this.ignoreReport){!e&&s&&this.ignoreReport;var d=()=>{if(!e){var t=Y.get(this);t&&t()}};if(n){var f;try{Ie.call(this,t)}catch(t){f=t;var h=X.get(this);h&&h({type:"error",errMsg:t.message}),!e&&s&&t.message,console.error(t)}f||(!e&&s&&Oe(c,l),d())}else{var v=++V;i[v]=!0,a.then((u=>{var p=!1===i[v];if(delete i[v],u)return r=null,n=null,a=null,o=null,t=null,void(d=null);if(!p){var f,h=ke.call(this),{_isPlaying:g}=h;if(!g){try{Ie.call(this,h)}catch(t){f=t;var y=X.get(this);y&&y({type:"error",errMsg:t.message}),!e&&s&&t.message,console.error(t)}return f||(!e&&s&&Oe(c,l),d()),null}}})).catch((e=>{s&&(e.errMsg||e.message)}))}}else Date.now()}}pause(){var e=ke.call(this),{_isPlaying:t,_source:r,_gainNode:n,_playPendingIdMap:a}=e;if(n)if(r&&t){var o=ee.get(this);r.stop(0),r.onended=null,be.call(this,{_source:null,_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),o&&o()}else Object.keys(a).forEach((e=>{a[e]=!1}))}stop(e=!1){var{_source:t,_gainNode:r,_isPlaying:n,_playPendingIdMap:a}=ke.call(this);if(r){if(t)try{var o=te.get(this);t.stop(0),t.onended=null,be.call(this,{_source:null,_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&o&&o(),this._finishTimeupdateInterval()}catch(e){w.error("stop时出错",e)}n||Object.keys(a).forEach((e=>{a[e]=!1}))}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=ke.call(this);if(!r)return;var n=re.get(this),a=ne.get(this),o=Q.get(this);a&&a(),this.ignoreReport=!0,q(),t?(this.stop(!0),be.call(this,{_playbackTime:e}),this.play(!0)):be.call(this,{_playbackTime:e}),n&&n(),o&&o()}}destroy(){var{_gainNode:e}=ke.call(this);e&&Te.call(this)}set oncanplay(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;Q.set(this,e)}else Q.delete(this)}set onended(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;Z.set(this,e)}else Z.delete(this)}set onerror(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;X.set(this,e)}else X.delete(this)}set onplay(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;Y.set(this,e)}else Y.delete(this)}set onpause(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;ee.set(this,e)}else ee.delete(this)}set onstop(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;te.set(this,e)}else te.delete(this)}set onseeked(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;re.set(this,e)}else re.delete(this)}set onseeking(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;ne.set(this,e)}else ne.delete(this)}set ontimeupdate(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;ae.set(this,e)}else ae.delete(this)}set onwaiting(e){if("function"==typeof e){var{_gainNode:t}=ke.call(this);if(!t)return;ie.set(this,e)}else ie.delete(this)}_startTimeupdateInterval(){var{_gainNode:e,_instanceId:t,_isPlaying:r}=ke.call(this);if(e){var n=oe.get(this),a=ae.get(this);clearInterval(n),r&&setTimeout((()=>{a&&a()}),0);var o=setInterval((()=>{var e=ae.get(this),{_isPlaying:t}=ke.call(this);t&&e&&e()}),350);oe.set(this,o)}}_finishTimeupdateInterval(){var e=oe.get(this);clearInterval(e)}}var Re,De=()=>function(){if(!O)throw new Error("detect WebAudioContext too early");return!!E}()&&!0,Le=r(8929),Ne=(e,t)=>(0,d.ZI)(e,`AudioElement.${t}`),je=new WeakMap,We=new WeakMap,Fe=function(){return We.get(this)},$e={},Be=(e,t)=>e+"-"+t,Ue=()=>(Re||"function"==typeof(Re=M()).create&&Re.create(),Re),qe=0,He=0,Ge=new Map,Ve=new WeakMap;class Je{constructor({size:e,type:t}){this.reportBeginPlay=()=>{},this.reportFailPlay=()=>{},this.reportSuccessPlay=()=>{};var r=Ue(),n=r.createHTMLAudioElement();(He+=1)>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (>200) InnerAudioContext instances have been created, please destroy the existing instances first !");var a=r.createMediaElementSource(n),o=r.createGain();a.connect(o),o&&o.connect&&o.connect(r.destination),je.set(this,n);var i=(0,Le.M8)();We.set(this,{startTime:0,source:a,gain:o,_instanceId:i,size:e,type:t,_isStop:!1}),n.addEventListener("error",Ne((e=>{var t,r=(null===(t=je.get(this))||void 0===t?void 0:t.src)||"";this.reportFailPlay(r,e.message)}),"error-1")),n.addEventListener("inner",Ne((e=>{if("real_play"===e.type){var{play_id:t}=e;if(t){t=+t;var r=Ge.get(t);if(Ge.delete(t),r){var{_instanceId:n,src:a,size:o}=r,i=Be(n,a);$e[i]&&($e[i]--,this.reportSuccessPlay(a,n,Date.now(),o))}}}}),"inner"))}get src(){var e;return this.cloudId?this.cloudId:null===(e=je.get(this))||void 0===e?void 0:e.src}set src(e){je.get(this)&&W([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,je.get(this).src=e}))}get startTime(){var e;return null===(e=We.get(this))||void 0===e?void 0:e.startTime}set startTime(e){var{_played:t,startTime:r}=Fe.call(this);e!==r&&"number"==typeof e&&e>=0&&We.get(this)&&(We.get(this).startTime=e,t||this.seek(e))}get autoplay(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.autoplay}set autoplay(e){je.get(this)&&(e?(this.ignoreReport=!0,q(),setTimeout((()=>{je.get(this)&&(je.get(this).autoplay=e)}),0)):je.get(this).autoplay=e)}get loop(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.loop}set loop(e){je.get(this)&&(e&&(this.ignoreReport=!0,q()),je.get(this).loop=e)}get volume(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.volume}set volume(e){je.get(this)&&(je.get(this).volume=e)}get playbackRate(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.playbackRate}set playbackRate(e){je.get(this)&&(je.get(this).playbackRate=e)}get duration(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.duration}get currentTime(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.currentTime}set currentTime(e){if(je.get(this)){this.ignoreReport=!0,q();var t=We.get(this);t&&(t._isStop=!1),je.get(this).currentTime=e}}get paused(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.paused}get buffered(){var e;return null===(e=je.get(this))||void 0===e?void 0:e.duration}play(){var e,t,r,n,a=null===(e=je.get(this))||void 0===e?void 0:e.src,o=null===(t=We.get(this))||void 0===t?void 0:t._instanceId,i=null===(r=We.get(this))||void 0===r?void 0:r.size,s=this.lastPlayTime,c=Date.now();this.lastPlayTime=c,s&&c-s<1e3&&(this.ignoreReport=!0,q()),o&&this.reportBeginPlay(a,o);var u=++qe;(l.IS_IOS||l.IS_ANDROID)&&Ge.set(u,{_instanceId:o,src:a,size:i}),function(e,t){var r=Be(t,e);$e[r]?$e[r]++:$e[r]=1}(a,o);var p=We.get(this);p&&(p._isStop=!1),null===(n=je.get(this))||void 0===n||n.play(u)}pause(){var e;null===(e=je.get(this))||void 0===e||e.pause()}stop(){var e=je.get(this);if(e){e.pause();var t=We.get(this);t&&(t._isStop=!0),e.currentTime=0,setTimeout((()=>{var e=Ve.get(this);"function"==typeof e&&e()}),0)}}seek(e){if(je.get(this)){this.ignoreReport=!0,q();var t=We.get(this);t&&(t._isStop=!1),je.get(this).currentTime=e}}destroy(){var e,t=We.get(this);t&&(t.gain&&t.gain.disconnect&&t.gain.disconnect(),null===(e=t.source)||void 0===e||e.disconnect());je.delete(this),We.delete(this),Ve.delete(this),He-=1}set oncanplay(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("canplay",Ne(((...t)=>{We.get(this)._isStop||e(...t)}),"canplay"))}set onended(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("ended",Ne(e,"ended"))}set onerror(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("error",Ne(e,"error-2"))}set onplay(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("play",Ne(e,"play"))}set onpause(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("pause",Ne(e,"pause"))}set onstop(e){"function"==typeof e?Ve.set(this,e):Ve.delete(this)}set onseeked(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("seeked",Ne(e,"seeked"))}set onseeking(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("seeking",Ne(e,"seeking"))}set ontimeupdate(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("timeupdate",Ne(e,"timeupdate"))}set onwaiting(e){var t;null===(t=je.get(this))||void 0===t||t.addEventListener("waiting",Ne(e,"waiting"))}}var Ke=r(7849),ze=r(4571),Qe=new Set([1177,1184,1200,1228]),Ze=new Set([0,1,2,7]),Xe=()=>{var{scene:e}=(0,Ke._)();return Qe.has(e)&&Ze.has(n.default.appType)&&"default"!==(0,ze.kd)()},Ye=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],et=["startTime","duration","currentTime"],tt=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],rt=new Set,nt=new WeakMap,at=new WeakMap,ot=new WeakMap,it=new WeakMap;class st{constructor(e,t=1e3,r){var n=new I.Z;nt.set(this,e),it.set(this,{conversion:t,type:r}),Ye.forEach((r=>Object.defineProperty(this,r,{get:()=>et.includes(r)?e[r]/t:e[r],set(n){Xe()||(et.includes(r)?e[r]=t*n:e[r]=n)}}))),tt.forEach((t=>{this["on"+t]=e=>{var r=h.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);at.set(e,r),ot.set(r,e),n.on(t,r)},this["off"+t]=e=>{if((0,P.mf)(e)){var r=at.get(e);(0,P.mf)(r)&&(n.off(t,r),at.delete(e),ot.delete(r))}else n.listeners(t).forEach((e=>{var t=ot.get(e);at.delete(t),ot.delete(e)})),n.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,r)=>{e?(0,P.Kn)(e)?n.emit(t,e):n.emit(t,{errCode:e,errMsg:r}):n.emit(t),"Play"===t?rt.add(this):"Ended"!==t&&"Error"!==t&&"Pause"!==t&&"Stop"!==t||rt.delete(this)}}))}play(){var e;Xe()||ft()&&"inner"!==it.get(this).type||null===(e=nt.get(this))||void 0===e||e.play()}stop(){var e;null===(e=nt.get(this))||void 0===e||e.stop()}pause(){var e;null===(e=nt.get(this))||void 0===e||e.pause()}seek(e){var t,r;if(!Xe()){var{conversion:n}=null!==(t=it.get(this))&&void 0!==t?t:{};null===(r=nt.get(this))||void 0===r||r.seek(n*e)}}destroy(){var e=nt.get(this);e.destroy&&e.destroy(),tt.forEach((e=>{this["off"+e]()})),rt.delete(this),nt.delete(this)}static pauseAllAudio(){rt.forEach((e=>{if("inner"!==it.get(e).type){var t=nt.get(e);t&&t.pause()}}))}}class ct extends st{constructor({type:e}){super(new k.Z.Audio,1e3,e)}}class lt extends st{constructor({withReport:e,type:t}={}){super(new Me({withReport:e}),1,t)}}class ut extends st{constructor({size:e,type:t}={}){super(new Je({size:e}),1,t)}}r(127);var pt=r(6551);new Set;var dt=!1;"undefined"!=typeof IS_SDK_PACKAGE||(0,d.jQ)("onAudioInterruptionBegin",(e=>{!0,!1===dt&&x.emit(e)})),"undefined"!=typeof IS_SDK_PACKAGE||(0,d.jQ)("onAudioInterruptionEnd",(e=>{!1,!1===dt&&A.emit(e)}));var ft=()=>dt,ht=new WeakMap,vt=new WeakMap,gt=new WeakMap,yt=new WeakMap,mt=new WeakMap,_t=new WeakMap,bt=new WeakMap,wt=new WeakMap,kt=new Map,St=new Map,It=new Map,Ct=w.createLogger("InnerAudio"),Tt=function(e,t){vt.set(this,Object.assign(vt.get(this),{[e]:t})),"src"===e&&vt.set(this,Object.assign(vt.get(this),{paused:!0})),yt.get(this)&&(setTimeout((()=>{var r=Object.assign({},vt.get(this),mt.get(this),{timestamp:Date.now(),audioId:ht.get(this),success:()=>{vt.set(this,Object.assign(vt.get(this),{[e]:t}))},fail:()=>{At.call(this)}});ft()&&(r.autoplay=!1),(0,d.IN)("setAudioState",r),yt.set(this,!0)}),0),yt.set(this,!1)),mt.set(this,Object.assign(mt.get(this),{[e]:t}))},xt=function(e,t){bt.get(this).then((()=>{Tt.call(this,e,t)}))},At=function(e,t){var r=vt.get(this)[e];return(0,d.IN)("getAudioState",{audioId:ht.get(this),success:n=>{delete n.errMsg,vt.set(this,Object.assign(vt.get(this),n)),r=n[e],"function"==typeof t&&t(r)}}),r},Pt=function(e){var t=ht.get(this);(0,d.IN)("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:r})=>{Ct.error(`operateAudio fail: errMsg="${r}"`,e.operationType,t),Nt.call(this,"error",{errMsg:r,errCode:-1});var n=vt.get(this);null!=n&&n.withReport&&(null==n||n.implementType)}},e))},Et=function(e){return bt.get(this).then((()=>{if("play"===e.operationType){var t=vt.get(this);if(null!=t&&t.withReport&&!t.ignoreReport){ht.get(this);null==t||t.src,null==t||t.implementType}}setTimeout((()=>{Pt.call(this,e)}),0)}))},Ot=new I.Z;"undefined"!=typeof IS_SDK_PACKAGE||(0,d.jQ)("onAudioStateChange",((e={})=>{if("real_play"===e.state){var t=kt.get(e.audioId);null!=t&&t.withReport&&!t.ignoreReport&&(null==t||t.src,e.audioId,Date.now(),null==t||t.implementType,null==t||t.size)}else{e.state=e.state.toLowerCase();var{state:r,audioId:n,errMsg:a}=e;delete e.audioId,delete e.state;var o="play"!==r,i=kt.get(n);i&&(i.paused=o),"error"===r&&null!=i&&i.withReport&&(null==i||i.src,null==i||i.implementType);var s=It.get(n);if(!s||!(r in s))return;Ot.emit(`${n}_onAudioStateChange_${r}`,e)}}));var Mt=function(e,t){var r=`${ht.get(this)}_onAudioStateChange_${e}`,n=r=>{h.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(r)};_t.set(t,n),Ot.on(r,n)},Rt=function(e,t){bt.get(this).then((()=>{Mt.call(this,e,t)}))},Dt=function(e,t){var r=`${ht.get(this)}_onAudioStateChange_${e}`;if((0,P.mf)(t)){var n=_t.get(t);(0,P.mf)(n)&&Ot.off(r,n)}else Ot.removeAllListeners(r)},Lt=function(e,t){bt.get(this).then((()=>{Dt.call(this,e,t)}))},Nt=function(e,t){Ot.emit(`${ht.get(this)}_onAudioStateChange_${e}`,t)},jt=0,Wt=!1;const Ft=class{constructor({pluginId:e,withReport:t,type:r,size:n}={}){var a,o;vt.set(this,{}),mt.set(this,{}),gt.set(this,void 0),yt.set(this,!0),"string"==typeof e&&wt.set(this,e.split("/",1)[0]),bt.set(this,new N.Q(((e,t)=>{a=e,o=t})));var i={},s=0===n?"jsapiRemote-1.0":"jsapiLocal-1.0";(0,d.IN)(l.IS_ANDROID||l.WK_RENDERER_H5||l.IS_MINA?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:e=>{var o={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:"",withReport:t,type:r,size:n,implementType:s};if(It.set(e.audioId,i),kt.set(e.audioId,o),ht.set(this,e.audioId),vt.set(this,o),k.Z.BindingObject){var c=new k.Z.BindingObject;this.__bindingObject=c,St[c.__id]=e.audioId}(jt+=1)>=1024&&!Wt&&l.IS_IOS&&(Wt=!0,v.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),jt>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (200) InnerAudioContext instances have been created, please destroy the existing instances first !"),setTimeout(a,0)},fail:e=>{t&&e.errMsg,o(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var r=e.toLowerCase();i[r]=1,Rt.call(this,r,t)},this[`off${e}`]=t=>{var r=e.toLowerCase();delete i[r],Lt.call(this,r,t)}}))}get src(){return this.cloudId?this.cloudId:At.call(this,"src")}set src(e){if("string"==typeof e&&0!==e.length){var t=wt.get(this);"string"==typeof t&&null===(0,f.pD)(e)&&(e=(0,f.RP)(t,e)),W([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,xt.call(this,"src",e)}))}else Nt.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return At.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?xt.call(this,"startTime",1e3*e):Nt("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){if("boolean"==typeof e&&!Xe()){if(!0===e){var t=ht.get(this),r=kt.get(t);r&&(r.ignoreReport=!0,q())}xt.call(this,"autoplay",e)}}get autoplay(){return At.call(this,"autoplay")}set loop(e){if("boolean"==typeof e){if(!0===e){var t=ht.get(this),r=kt.get(t);r&&(r.ignoreReport=!0,q())}xt.call(this,"loop",e)}}get loop(){return At.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&xt.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return At.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||xt.call(this,"volume",e)}get volume(){return At.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||xt.call(this,"playbackRate",e)}get playbackRate(){return At.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&xt.call(this,"referrerPolicy",e)}get referrerPolicy(){return At.call(this,"referrerPolicy")}get paused(){return At.call(this,"paused")}get duration(){return At.call(this,"duration")/1e3}set currentTime(e){if("number"!=typeof e||e<0)Nt("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=ht.get(this),r=kt.get(t);r&&(r.ignoreReport=!0,q()),Et.call(this,{operationType:"seek",currentTime:1e3*e})}}get currentTime(){return At.call(this,"currentTime")/1e3}get buffered(){return At.call(this,"buffered")/1e3}play(){if(!(Xe()||ft()&&"inner"!==vt.get(this).type)){var e=this.lastPlayTime,t=Date.now();if(this.lastPlayTime=t,e&&t-e<1e3){var r=ht.get(this),n=kt.get(r);n&&(n.ignoreReport=!0,q())}Et.call(this,{operationType:"play"}).catch((e=>{console.error(e)}))}}pause(){Et.call(this,{operationType:"pause"})}stop(){Et.call(this,{operationType:"stop"})}seek(e){if(!Xe())if("number"!=typeof e||e<0)Nt("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=ht.get(this),r=kt.get(t);r&&(r.ignoreReport=!0,q()),Et.call(this,{operationType:"seek",currentTime:1e3*e})}}destroy(){bt.get(this).then((()=>{var e=ht.get(this);kt.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var r=`${e}_onAudioStateChange_${t}`;Ot.removeAllListeners(r)})),It.delete(e),kt.delete(e),jt-=1,setTimeout((()=>{(0,d.IN)("destroyAudioInstance",{audioId:e})}),0))}))}onTimeUpdate(e){bt.get(this).then((()=>{var t=`${ht.get(this)}_onAudioStateChange_timeupdate`;void 0===gt.get(this)&&gt.set(this,setInterval((()=>{if("active"===C.Z.runningStatus&&!0!==vt.get(this).paused&&1!==vt.get(this).paused){var e=vt.get(this).currentTime;At.call(this,"currentTime",(r=>{r!==e&&Ot.emit(t)}))}}),250)),Ot.removeAllListeners(t);var r=t=>{h.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};_t.set(e,r),Ot.on(t,r)}))}offTimeUpdate(e){bt.get(this).then((()=>{Lt.call(this,"timeupdate",e)}))}static pauseAllAudio(){kt.forEach(((e,t)=>{"inner"!==e.type&&(0,d.IN)("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}};var $t=r(5340),Bt=r(9806),Ut=new WeakMap,qt=function(e){return Ut.get(e)||{}},Ht=function(e,t){var r;return null===(r=Ut.get(e))||void 0===r?void 0:r[t]},Gt=new Map,Vt=(0,Bt.Fr)($t.lz),Jt=function(e,t){var{bufferedOperations:r,staticOperations:n}=e;e.audioInstance=t,Object.keys(n).forEach((e=>{var r=n[e];(0,P.DM)(r)?r.forEach((r=>{t["on"+e](r)})):t[e]=r})),r.forEach((e=>{"set"===e.type?t[e.key]=e.value:"method"===e.type&&t[e.key](e.value)})),e.bufferedOperations=[]},Kt=function(e,t,r){var n;e.staticOperations&&t in e.staticOperations?(e.staticOperations[t]=r,e.audioInstance&&(e.audioInstance[t]=r)):e.audioInstance?e.audioInstance[t]=r:null==e||null===(n=e.bufferedOperations)||void 0===n||n.push({type:"set",value:r,key:t})},zt=function(e,t,r,n){var a;n?("on"===n?e.staticOperations&&e.staticOperations[t].add(r):"off"===n&&e.staticOperations&&e.staticOperations[t].delete(r),e.audioInstance&&e.audioInstance[n+t]&&e.audioInstance[n+t](r)):e.audioInstance?e.audioInstance[t]&&e.audioInstance[t](r):null==e||null===(a=e.bufferedOperations)||void 0===a||a.push({type:"method",value:r,key:t})},Qt=(e,t)=>{var r=!1,n=Ue();n&&"function"==typeof n.createHTMLAudioElement&&(r=!0);var a=e=>{var{stats:n}=e;n.size<102400?t("NativeWebAudio",!1):t(r?"HTMLAudioElement":"AudioJsApi",!0,n.size)};if(/^(http|https):\/\//.test(e)||/^(cloud):\/\//.test(e)||/^(wxblob:\/\/)/.test(e))t(r?"HTMLAudioElement":"AudioJsApi",!0,0);else if(/^(data:audio\/)/.test(e))t("NativeWebAudio",!1);else{var o=(e=>Gt.has(e)?Gt.get(e):Vt({path:e}).then((t=>(Gt.set(e,t),t))))(e);(0,P.tI)(o)?o.then((e=>{a(e)})).catch((e=>{console.error(e),w.error("statLocalAudio fail",e),t("AudioJsApi",!0,0)})):a(o)}},Zt=function(e,t){var r;this.stop(!0),t._statPromise=null,t._statPromiseResolve=null;var n=new N.Q((e=>{r=e}));t.src=e,t._ready=!1,t._statPromise=n,t._statPromiseResolve=r};class Xt{constructor({pluginId:e,type:t}={}){var r={pluginId:e,bufferedOperations:[],staticOperations:{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,referrerPolicy:"",TimeUpdate:new Set,Canplay:new Set,Play:new Set,Pause:new Set,Stop:new Set,Ended:new Set,Error:new Set,Waiting:new Set,Seeking:new Set,Seeked:new Set},_ready:!1,type:t};r._statPromise=new N.Q((e=>{r._statPromiseResolve=e})),Ut.set(this,r)}get src(){return Ht(this,"src")}set src(e){var t=qt(this),{src:r,audioInstance:n,audioInstanceType:a,pluginId:o}=t;"string"==typeof e&&e.length>0&&r!==e&&(r&&Zt.call(this,e,t),t.src=e,Qt(e,n?(r,i,s)=>{var c=qt(this);if(c.src===e){var{_statPromiseResolve:l}=c;t._ready=!0,t.audioInstanceType=r,r===a?n.src=e:(n.destroy(),t.audioInstance=null,"AudioJsApi"===r?(Kt(t,"src",e),Jt(t,new Ft({pluginId:o,withReport:i,type:Ut.get(this).type,size:s}))):"NativeWebAudio"===r?(Kt(t,"src",e),Jt(t,new lt({withReport:i,type:Ut.get(this).type}))):"HTMLAudioElement"===r&&(Kt(t,"src",e),Jt(t,new ut({withReport:i,type:Ut.get(this).type,size:s})))),l&&l()}}:(r,n,a)=>{var i=qt(this);if(i.src===e){var{_statPromiseResolve:s}=i;t._ready=!0,t.audioInstanceType=r,"AudioJsApi"===r?(Kt(t,"src",e),Jt(t,new Ft({pluginId:o,withReport:n,type:Ut.get(this).type,size:a}))):"NativeWebAudio"===r?(Kt(t,"src",e),Jt(t,new lt({withReport:n,type:Ut.get(this).type}))):"HTMLAudioElement"===r&&(Kt(t,"src",e),Jt(t,new ut({withReport:n,size:a}))),s&&s()}}))}get startTime(){var e=Ht(this,"startTime");return void 0!==e?e:0}set startTime(e){var t=qt(this),{startTime:r}=t;e!==r&&"number"==typeof e&&e>=0&&(t.startTime=e,Kt(t,"startTime",e))}get autoplay(){var e=Ht(this,"autoplay");return void 0!==e&&e}set autoplay(e){var t=qt(this),{autoplay:r,_statPromise:n}=t;(e=!!e)!==r&&(t.autoplay=e,e?n&&n.then((()=>{Kt(t,"autoplay",e)})):Kt(t,"autoplay",e))}get loop(){var e=Ht(this,"loop");return void 0!==e&&e}set loop(e){var t=qt(this),{loop:r}=t;(e=!!e)!==r&&(t.loop=e,Kt(t,"loop",e))}get volume(){var e=Ht(this,"volume");return void 0!==e?e:1}set volume(e){var t=qt(this),{volume:r}=t;"number"==typeof e&&e>=0&&e<=1&&e!==r&&(t.volume=e,Kt(t,"volume",e))}get playbackRate(){var e=Ht(this,"playbackRate");return void 0!==e?e:1}set playbackRate(e){var t=qt(this),{playbackRate:r}=t;"number"==typeof e&&r!==e&&e>=.5&&e<=2&&(t.playbackRate=e,Kt(t,"playbackRate",e))}get duration(){var{audioInstance:e}=qt(this);return e?e.duration:0}get currentTime(){var{audioInstance:e}=qt(this);return e?e.currentTime:0}set currentTime(e){if("number"==typeof e&&e>=0){var t=qt(this);t.currentTime=e,Kt(t,"currentTime",e)}}get paused(){var{audioInstance:e}=qt(this);return!e||e.paused}get buffered(){var{audioInstance:e}=qt(this);return e?e.buffered:0}set obeyMuteSwitch(e){}get obeyMuteSwitch(){return!0}get referrerPolicy(){return Ht(this,"referrerPolicy")||""}set referrerPolicy(e){var t=qt(this),{referrerPolicy:r}=t;"string"==typeof e&&e.length>0&&r!==e&&(t.referrerPolicy=e,Kt(t,"referrerPolicy",e))}play(){var e=qt(this),{_statPromise:t,_ready:r}=e;r?zt(e,"play"):t&&t.then((()=>{zt(e,"play")}))}pause(){var e=qt(this);zt(e,"pause")}stop(){var e=qt(this);zt(e,"stop")}seek(e){var t=qt(this);zt(t,"seek",e)}destroy(){var e=qt(this);zt(e,"destroy"),Ut.delete(this)}onTimeUpdate(e){var t=qt(this);zt(t,"TimeUpdate",e,"on")}offTimeUpdate(e){var t=qt(this);zt(t,"TimeUpdate",e,"off")}onCanplay(e){var t=qt(this);zt(t,"Canplay",e,"on")}offCanplay(e){var t=qt(this);zt(t,"Canplay",e,"off")}onPlay(e){var t=qt(this);zt(t,"Play",e,"on")}offPlay(e){var t=qt(this);zt(t,"Play",e,"off")}onPause(e){var t=qt(this);zt(t,"Pause",e,"on")}offPause(e){var t=qt(this);zt(t,"Pause",e,"off")}onStop(e){var t=qt(this);zt(t,"Stop",e,"on")}offStop(e){var t=qt(this);zt(t,"Stop",e,"off")}onEnded(e){var t=qt(this);zt(t,"Ended",e,"on")}offEnded(e){var t=qt(this);zt(t,"Ended",e,"off")}onError(e){var t=qt(this);zt(t,"Error",e,"on")}offError(e){var t=qt(this);zt(t,"Error",e,"off")}onWaiting(e){var t=qt(this);zt(t,"Waiting",e,"on")}offWaiting(e){var t=qt(this);zt(t,"Waiting",e,"off")}onSeeking(e){var t=qt(this);zt(t,"Seeking",e,"on")}offSeeking(e){var t=qt(this);zt(t,"Seeking",e,"off")}onSeeked(e){var t=qt(this);zt(t,"Seeked",e,"on")}offSeeked(e){var t=qt(this);zt(t,"Seeked",e,"off")}}var Yt=r(1105),er=!1;(l.IS_IOS||l.IS_ANDROID)&&n.default.onReady((()=>{if((0,l.isGame)())er=!0,w.info("小游戏开启 forceUseAudioDynamic");else if((0,p.J)("forceUseAudioDynamic")){var e=l.IS_IOS?"clicfg_appbrand_ios_force_use_audio_dynamic_new":"clicfg_appbrand_android_force_use_audio_dynamic_new";er="1"===(null===n.default||void 0===n.default?void 0:n.default.expt[e]),w.info(`小程序${er?"开启":"关闭"} forceUseAudioDynamic`)}else w.info("关闭 forceUseAudioDynamic")}));var tr=w.createLogger("InnerAudioContext"),rr=function(e={},t="outer"){var r=!0;if(l.IS_ANDROID){var{system:n}=(0,S.Oo)();-1===(0,pt.cv)(n,"6.0.0")&&(r=!1)}l.WK_RENDERER_H5&&(r=!1);var a=(0,Yt.hI)(this),{useWebAudioImplement:o}=e;return(l.IS_PC||l.IS_DEVTOOLS)&&(o=!0),l.IS_MINA&&k.Z.Audio?(tr.info("using NativeAudio"),new ct({type:t})):o&&De()&&r?(tr.info("using WebAudio"),new lt({type:t})):De()&&r&&er?(tr.info("using AudioDynamic"),new Xt({pluginId:a,type:t})):(tr.info("using AudioJsApi"),new Ft({pluginId:a,type:t}))},nr=function(e={}){return rr.call(this,e)},ar=r(2657),or=r(4366),ir=r(4813),sr=r(5825),cr={};n.default.onReady((()=>{(0,l.isGame)()?Object.assign(cr,c):Object.assign(cr,o)}))},3888:e=>{"use strict";e.exports=a.asyncToGenerator}},r={};function c(t){var n=r[t];if(void 0!==n)return n.exports;var a=r[t]={id:t,loaded:!1,exports:{}};return e[t](a,a.exports,c),a.loaded=!0,a.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new n("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var u=c(8131);y=u})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{define:()=>A,require:()=>T,requireOnce:()=>x});var r=["wx0354ba48aadc0ab2","wxfa43a4a7041a84de"],n=()=>"devtools"===o.platform,a=(e,t)=>{var a="__APP__"===e;a||"/"===e.slice(-1)||(e+="/"),n()?setTimeout((()=>{w.info(`[WxModule] injectSubPackages: ${e}`),l.invoke("injectSubPackages",{subPackages:[e]},t)})):(w.info(`[WxModule] loadSubpackage: ${e}`),__appServiceSDK__.loadSubpackage({name:e,success(){var n=o.subPackages.find((t=>t.root===e||t.root===e.slice(0,-1))),i=Object.assign({},null==n?void 0:n.plugins);a&&Object.assign(i,o.plugins);var s=Object.keys(i||{}).map((e=>{var t=i[e].provider,n="__plugin__/"+t;return{plugin_id:t,prefix_path:r.includes(t)?null:n}}));__subContextEngine__.injectEntryFile(a?"":e,s);var c=__glassEaselAdapter__.getEnv();c.codeManager.setSubPackageLoaded([e]),c.afterPackageCommonEvaluation(),t({errMsg:"loadSubPackage:ok",loaded:!0})},fail(){w.error(`[WxModule] loadSubPackage fail ${e}`),t({errMsg:"loadSubPackage:false",loaded:!1})}}))},i=e=>{for(var t,r,n=null!==(t=null===(r=o)||void 0===r?void 0:r.subPackages)&&void 0!==t?t:[],a=0;a<n.length;++a){var i=n[a].root||"";if(i&&"/"!==i.slice(-1)&&(i+="/"),e.slice(0,i.length)===i)return{subPackage:i,independent:!!n[a].independent}}return{subPackage:"__APP__",independent:!1}},s=e=>{for(var t=[],r=e.split("/"),n=0,a=r.length;n<a;++n){var o=r[n];if(""!==o&&"."!==o)if(".."===o){if(0===t.length){t=[];break}t.pop()}else n+1<a&&".."===r[n+1]?n++:t.push(o)}return t},c={UNLOAD:1,LOADED:2},u={},p=(e,t)=>{u[e]=t},d=e=>u[e];var f=new class{constructor(e){this._$requireQueues=null,this._$blockingStatus=0,this._$scope=void 0,this._$err=e=>new Error(`Framework inner error: ${e} (scope: ${this._$scope}, status: ${this._$blockingStatus})`),this._$scope=e}isBlocking(){return 1===this._$blockingStatus}block(){if(!n())if(0===this._$blockingStatus)this._$requireQueues=[],this._$blockingStatus=1;else{if(2!==this._$blockingStatus)throw this._$err("trying to block require at wrong time");this._$blockingStatus=1}}queue(e,t){if(!this.isBlocking())throw this._$err("trying to queue an require when not blocking");this._$requireQueues.push([e,t])}unblock(){if(!n()){if(!this.isBlocking())throw this._$err("trying to unblock require queue when not blocking");this._$blockingStatus=2}}flushQueue(){if(!n()){if(2!==this._$blockingStatus)throw this._$err("require queue flushing must be unblocked");var e=this._$requireQueues;this._$blockingStatus=0,this._$requireQueues=null,e.forEach((e=>{try{e[0].apply(null,e[1])}catch(t){console.error(`Error during evaluating file "${e[1][0]}": `),console.error(t.message),console.error(t.stack)}}))}}}("/");if(globalThis.wxModuleVersion){var h=~~globalThis.wxModuleVersion;globalThis.enableWxModule=2>h}else globalThis.wxModuleVersion=2,globalThis.enableWxModule=!0;var g=!1,y=[],_=e=>{Object.keys(e).forEach((t=>{var r=t;t.endsWith("*")&&(r=r.slice(0,-1));var n=e[t];e[t].endsWith("*")&&(n=n.slice(0,-1)),y.push({key:r,value:n})}))};"function"==typeof o.onReady?o.onReady((()=>{"object"==typeof o.resolveAlias&&(g=!!Object.keys(o.resolveAlias).length)&&_(o.resolveAlias)})):"object"==typeof o.resolveAlias&&(g=!!Object.keys(o.resolveAlias).length)&&_(o.resolveAlias);var b={},k=e=>{if(e&&o.subPackages)for(var t=0,r=o.subPackages.length;t<r;t++)if(0===e.indexOf(o.subPackages[t].root))return o.subPackages[t]},S=e=>{var t=s(e+"/index.js").join("/");return d(t)?t:(t=s(e).join("/"),/\.js$/.test(t)||(t+=".js"),d(t)?t:"")},I=e=>{var t=(e=>{var t=e.match(/(.*)\/([^/]+)?$/);return null!=t&&t[1]?t[1]:"./"})(e),r=function(r,n,a){var i,c=t;if("string"!=typeof r)throw new Error("require args must be a string");if("/__wx__/private-api"===r?i=s(r).join("/"):(g&&(i=(e=>{var t={key:"",value:""},r=!1;if(y.forEach((n=>{e.startsWith(n.key)&&t.key.length<n.key.length&&(t=n,r=!0)})),r){var n=e.replace(t.key,t.value);return"/"===n[0]&&(n=n.slice(1)),n}})(r)),void 0!==i?(c="",i=s(i).join("/")):i=s(c+"/"+r).join("/")),!i)throw new Error(`can not find module : ${i}, require args is ${r}`);try{var l=((e,t,r)=>{var n=e;if(/\.js$/.test(n)||(n+=".js"),"string"==typeof n&&d(n))return n;var a=s(t);if(!a)throw new Error("can not find module : "+r);for(var o,i,c=e.substring(a.join("/").length);a.length&&(i=a.join("/")+"/miniprogram_npm"+c,!(o=S(i)));)a.pop();return o||(c="/"===c[0]?c:"/"+c,o=S(i="miniprogram_npm"+c)),o||e})(i,c,r),u=e=>"functional-pages"===s(e)[0];if(u(l)!==u(e)&&v.thirdErrorReport({error:new Error(`should not require across "functional-pages" folder, at require("${r}") in ${e}`)}),"devtools"===o.platform&&o.subPackages&&void 0===n){var p=k(l),f=k(e);p&&p!==f&&console.warn(`Requires "${r}" from "${e}" without a callback may fail in production, since they are in different subPackages`)}return T(l,void 0,n,r,t,a)}catch(e){throw e}};return r.async=e=>new Promise(((t,n)=>{try{r(e,t,n)}catch(e){n(e)}})),r},C=new class{constructor(e){this._$flags={},this._$global=void 0,this.fileStacks=[],this._$global=e}current(){return{__wxRoute:this._$global.__wxRoute,__wxAppCurrentFile__:this._$global.__wxAppCurrentFile__,__wxRouteBegin:this._$global.__wxRouteBegin}}restore(e){void 0!==e&&(this._$global.__wxRoute=e.__wxRoute,this._$global.__wxAppCurrentFile__=e.__wxAppCurrentFile__,this._$global.__wxRouteBegin=e.__wxRouteBegin)}saveAndClear(e){void 0===this._$flags[e]&&(this._$flags[e]=this.current(),this._$global.__wxRoute="",this._$global.__wxAppCurrentFile__="",this._$global.__wxRouteBegin="")}runWith(e,t){this.restore(this._$flags[e]),this.fileStacks.push(this._$flags[e]);var r,n=!1;try{t()}catch(e){n=!0,r=e}if(this.fileStacks.pop(),this.restore(this.fileStacks[this.fileStacks.length-1]),n)throw r}}(globalThis);function T(e,t,r,s="",l,u){if(!n()&&f.isBlocking())return C.saveAndClear(e),void f.queue(T,[e,t,r,s,l,u]);if(void 0===t&&(t=!0),"string"!=typeof e)throw new Error("require args must be a string");var p=d(e);if(!p){var h=-1===e.indexOf("/")?e+"/index.js":e;/\.js$/.test(h="miniprogram_npm/"+h)||(h+=".js"),p=d(h)}if(e.endsWith(".js")||(e+=".js"),!p&&"devtools"!==o.platform&&"undefined"!=typeof __subContextEngine__&&o.isLazyLoad){var v=e.slice(0,e.length-3),g=`${"undefined"!=typeof __LAZY_CODE_LOADING_CHUNK_MAP__&&"string"==typeof __LAZY_CODE_LOADING_CHUNK_MAP__[v]?__LAZY_CODE_LOADING_CHUNK_MAP__[v]:v}.appservice.js`,y=__subContextEngine__.loadJsFiles([g],null,{waitResult:!0,reportKey:`webnode-require-${e.slice(0,e.length-3)}`});p=d(e),null==y||y(!!p)}if("function"!=typeof r){if(!p)throw new Error(`module '${e}' is not defined, require args is '${""===s?e:s}'`);var m={exports:{}},_=p.factory;if(!t||b[e])return delete p.exports,p.status=c.UNLOAD,b[e]=!0,n()&&C.saveAndClear(e),C.runWith(e,(()=>{null==_||_(I(e),m,m.exports)})),m.exports;if(p.status===c.UNLOAD){var w;p.exports=m.exports,p.status=c.LOADED,n()&&C.saveAndClear(e);try{C.runWith(e,(()=>{_&&(w=_(I(e),m,m.exports))}))}catch(e){throw p.status=c.UNLOAD,e}p.exports=void 0!==m.exports?m.exports:w}return p.exports}var k=t=>{var r="async require: fail";"object"==typeof t&&t&&t.message&&(r=t.message),null==u||u({errMsg:r,mod:e})},S=function(...e){try{var t=T(...e);r(t)}catch(e){k(e)}};if(p)setTimeout((()=>S(e)));else{var x="string"==typeof l&&i(l).independent,{subPackage:A,independent:P}=i(e);!P&&x?a("__APP__",(t=>{t&&!1===t.loaded?k(new Error("loadSubPackage: fail, subPackage: __APP__")):"__APP__"!==A?a(A,(t=>{t&&!1===t.loaded?k(new Error(`loadSubPackage: fail, subPackage: ${A}`)):S(e)})):r(S(e))})):a(A,(t=>{t&&!1===t.loaded?k(new Error(`loadSubPackage: fail, subPackage: ${A}`)):S(e)}))}}function x(e){return T(e,!1)}function A(e,t){if(d(e)&&!!d(e).factory){var r=d(e).factory;if(t.toString()===r.toString())return}p(e,{status:c.UNLOAD,factory:t})}m=t})();globalThis.define=m.define,globalThis.require=m.require;globalThis.requireOnce=m.requireOnce,e.worker=y}(this);var __WAWorkerEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;