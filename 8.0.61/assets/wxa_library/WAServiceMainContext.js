this.__wxLibrary={fileName:"WAServiceMainContext.js",envType:"Service",contextType:"App:MainContext",execStart:Date.now(),mayHaveSnapshot:!0};var __WAServiceMainContextStartTime__=this.__wxLibrary.execStart;(function(a){var l={updateTime:"2024.11.24 21:13:21",version:"3.6.6",features:{pruneWxConfigByPage:!0,injectGameContextPlugin:!0,lazyCodeLoading2:!0,lazyCodeLoadingForDevTool:!0,injectAppSeparatedPlugin:!0,nativeTrans:!0,gameLive:!0,skyline:!0,supportInvokeWithAppId:!0,supportAudits:!0,wkFeatureVersion:5,delayedServiceCodeCache:!0,gameLiveInvite:!0,globalConsole:!0,earlyDispatchSubPkgReady:!0,glassEasel:1,supportListenTaskStateChange:!0,supportListenNewPerformanceMetric:!0,collectInvokeCost:!0,externalDebug:!0,expt:["clicfg_appbrand_ios_native_socket_wcwss_new","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_canvas_use_magic_brush","clicfg_appbrand_report_trace_event","clicfg_appbrand_skyline_text_style","clicfg_appbrand_ios_allow_worker_binding_message","clicfg_appbrand_ios_arkit2wevision_usevertialplane","clicfg_appbrand_ios_use_jsapi_args_binding","clicfg_appbrand_webview_slow_frame","clicfg_appbrand_webview_native_intersection_observer","clicfg_appbrand_ios_control_close_condom_white","clicfg_appbrand_android_control_close_condom_white","clicfg_appbrand_android_use_game_delay_codecache","clicfg_appbrand_ios_game_shangcheng_kefu","clicfg_appbrand_ios_force_enable_aiad","clicfg_appbrand_android_force_enable_aiad","clicfg_handle_reqresp_in_worker_android","clicfg_appbrand_enable_batch_load_sub_pkg","clicfg_appbrand_ios_enable_aiad_debug_button","clicfg_appbrand_android_enable_aiad_debug_button","clicfg_appbrand_ios_enable_aiad_tag","clicfg_appbrand_android_enable_aiad_tag","clicfg_appbrand_ios_force_use_audio_dynamic_new","clicfg_appbrand_android_force_use_audio_dynamic_new","clicfg_appbrand_ios_operatewxdata_quic_group_control","clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1","clicfg_appbrand_android_operatewxdata_quic_group_control","clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1","clicfg_wxa_report_ssid","clicfg_miniprogram_global_translate_android","clicfg_miniprogram_global_translate_ios","clicfg_appbrand_android_ad_operatewxdata_batch","clicfg_appbrand_ios_ad_operatewxdata_batch","clicfg_appbrand_ios_operatewxdata_batch","clicfg_appbrand_android_operatewxdata_batch","clicfg_appbrand_ios_enable_jsopdata_mock","clicfg_appbrand_ios_android_aiad_interstitial_cache_time","clicfg_appbrand_android_jsapi_nocallback","clicfg_appbrand_ios_operatewxdata_priority","clicfg_appbrand_android_operatewxdata_priority","clicfg_appbrand_ios_operatewxdata_priority_group_control","clicfg_appbrand_android_operatewxdata_priority_group_control"],exptNeedParams:["clicfg_miniprogram_adreport_use_kv","clicfg_miniprogram_open_admb_in_motivating_v3","clicfg_miniprogram_open_admb2_in_motivating"],snapshotConfig:{"game:main":["WAGame.js"],"game:sub":["WAGameSubContext.js"]},mayHaveSnapshot:["WAServiceMainContext.js","WASubContext.js","WARenderContext.js","WAGame.js","WAGameSubContext.js"],pcSnapshotConfig:{minigame:{iframeDomain:{mainContext:["WAGame.js"],gameContext:["WAGameSubContext.js"]},workerDomain:{}},miniprogram:{iframeDomain:{},workerDomain:{main_context:["WAServiceMainContext.js"],sub_context:["WASubContext.js"]}}},privacyApiVersion:3},debugOptions:{}},c={},u=a.Function,p=u,h={};(()=>{var e={5803:(e,t,r)=>{var n={"./applyDecoratedDescriptor":7386,"./asyncToGenerator":8921,"./initializerDefineProperty":8704,"./initializerWarningHelper":9651,"./objectSpread2":8680};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=5803},7386:(e,t,r)=>{"use strict";function n(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}r.r(t),r.d(t,{default:()=>n})},8921:(e,t,r)=>{"use strict";function n(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,l,"next",e)}function l(e){n(o,i,a,s,l,"throw",e)}s(void 0)}))}}r.r(t),r.d(t,{default:()=>i})},8704:(e,t,r)=>{"use strict";function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.r(t),r.d(t,{default:()=>n})},9651:(e,t,r)=>{"use strict";function n(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}r.r(t),r.d(t,{default:()=>n})},8680:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function a(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.r(t),r.d(t,{default:()=>s})},9762:(e,t,r)=>{"use strict";var n=r(1551),i=r(4288),a=r(6124),o=r(5517),s=a.data,l=a.normalize,c="USE_FUNCTION_CONSTRUCTOR",u="AsyncIteratorPrototype",d=function(e,t){if(i(e))for(var r=0;r<e.length;r++)s[l(e[r])]=t};e.exports=function(e){"object"==typeof e&&(d(e.useNative,a.NATIVE),d(e.usePolyfill,a.POLYFILL),d(e.useFeatureDetection,null),n(e,c)&&(o[c]=!!e[c]),n(e,u)&&(o[u]=e[u]))}},8117:(e,t,r)=>{"use strict";var n=r(8173),i=r(7420),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not a function")}},6270:(e,t,r)=>{"use strict";var n=r(4524),i=r(7420),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not a constructor")}},8924:(e,t,r)=>{"use strict";var n=r(4977),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a("Can't set "+i(e)+" as a prototype")}},6016:(e,t,r)=>{"use strict";var n=r(3840).has;e.exports=function(e){return n(e),e}},7591:(e,t,r)=>{"use strict";var n=r(7609),i=r(3062),a=r(2038),o=r(6469),s=r(8117),l=r(1636),c=r(3743),u=r(6387),d=u("asyncDispose"),p=u("dispose"),h=i([].push),f=function(e,t,r){return arguments.length<3&&!l(e)&&(r=s(function(e,t){if("async-dispose"===t){var r=c(e,d);return void 0!==r||void 0===(r=c(e,p))?r:function(){n(r,this)}}return c(e,p)}(o(e),t))),void 0===r?function(){}:a(r,e)};e.exports=function(e,t,r,n){var i;if(arguments.length<4){if(l(t)&&"sync-dispose"===r)return;i=f(t,r)}else i=f(void 0,r,n);h(e.stack,i)}},2890:(e,t,r)=>{"use strict";var n=r(6387),i=r(9543),a=r(615).f,o=n("unscopables"),s=Array.prototype;void 0===s[o]&&a(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},1747:(e,t,r)=>{"use strict";var n=r(6730),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},6469:(e,t,r)=>{"use strict";var n=r(9693),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not an object")}},5392:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},1759:(e,t,r)=>{"use strict";var n,i,a,o=r(5392),s=r(1923),l=r(1848),c=r(8173),u=r(9693),d=r(1551),h=r(1465),f=r(7420),g=r(1384),v=r(5953),m=r(6248),y=r(6730),b=r(4483),_=r(5273),w=r(6387),S=r(4229),C=r(2417),k=C.enforce,I=C.get,P=l.Int8Array,T=P&&P.prototype,A=l.Uint8ClampedArray,x=A&&A.prototype,E=P&&b(P),M=T&&b(T),R=Object.prototype,D=l.TypeError,O=w("toStringTag"),L=S("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",B=o&&!!_&&"Opera"!==h(l.opera),$=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},j={BigInt64Array:8,BigUint64Array:8},W=function(e){var t=b(e);if(u(t)){var r=I(t);return r&&d(r,N)?r[N]:W(t)}},V=function(e){if(!u(e))return!1;var t=h(e);return d(F,t)||d(j,t)};for(n in F)(a=(i=l[n])&&i.prototype)?k(a)[N]=i:B=!1;for(n in j)(a=(i=l[n])&&i.prototype)&&(k(a)[N]=i);if((!B||!c(E)||E===p.prototype)&&(E=function(){throw new D("Incorrect invocation")},B))for(n in F)l[n]&&_(l[n],E);if((!B||!M||M===R)&&(M=E.prototype,B))for(n in F)l[n]&&_(l[n].prototype,M);if(B&&b(x)!==M&&_(x,M),s&&!d(M,O))for(n in $=!0,m(M,O,{configurable:!0,get:function(){return u(this)?this[L]:void 0}}),F)l[n]&&g(l[n],L,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:$&&L,aTypedArray:function(e){if(V(e))return e;throw new D("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!_||y(E,e)))return e;throw new D(f(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var i in F){var a=l[i];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(r){try{a.prototype[e]=t}catch(e){}}}M[e]&&!r||v(M,e,r?t:B&&T[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(s){if(_){if(r)for(n in F)if((i=l[n])&&d(i,e))try{delete i[e]}catch(e){}if(E[e]&&!r)return;try{return v(E,e,r?t:B&&E[e]||t)}catch(e){}}for(n in F)!(i=l[n])||i[e]&&!r||v(i,e,t)}},getTypedArrayConstructor:W,isView:function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||d(F,t)||d(j,t)},isTypedArray:V,TypedArray:E,TypedArrayPrototype:M}},1180:(e,t,r)=>{"use strict";var n=r(3659),i=r(3663),a=r(9110);e.exports=function(e){for(var t=n(this),r=a(t),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),l=o>2?arguments[2]:void 0,c=void 0===l?r:i(l,r);c>s;)t[s++]=e;return t}},4744:(e,t,r)=>{"use strict";var n=r(2038),i=r(3062),a=r(3659),o=r(4524),s=r(2330),l=r(9072),c=r(8986),u=r(2100),d=r(3743),p=r(9406),h=r(8168),f=r(6387),g=r(147),v=r(7163).toArray,m=f("asyncIterator"),y=i(h("Array","values")),b=i(y([]).next),_=function(){return new w(this)},w=function(e){this.iterator=y(e)};w.prototype.next=function(){return b(this.iterator)},e.exports=function(e){var t=this,r=arguments.length,i=r>1?arguments[1]:void 0,h=r>2?arguments[2]:void 0;return new(p("Promise"))((function(r){var p=a(e);void 0!==i&&(i=n(i,h));var f=d(p,m),y=f?void 0:u(p)||_,b=o(t)?new t:[],w=f?s(p,f):new g(c(l(p,y)));r(v(w,i,b))}))}},2239:(e,t,r)=>{"use strict";var n=r(9110);e.exports=function(e,t,r){for(var i=0,a=arguments.length>2?r:n(t),o=new e(a);a>i;)o[i]=t[i++];return o}},3077:(e,t,r)=>{"use strict";var n=r(2038),i=r(3062),a=r(2832),o=r(3659),s=r(9110),l=r(7741),c=l.Map,u=l.get,d=l.has,p=l.set,h=i([].push);e.exports=function(e){for(var t,r,i=o(this),l=a(i),f=n(e,arguments.length>1?arguments[1]:void 0),g=new c,v=s(l),m=0;v>m;m++)t=f(r=l[m],m,i),d(g,t)?h(u(g,t),r):p(g,t,[r]);return g}},6747:(e,t,r)=>{"use strict";var n=r(2038),i=r(3062),a=r(2832),o=r(3659),s=r(7445),l=r(9110),c=r(9543),u=r(2239),d=Array,p=i([].push);e.exports=function(e,t,r,i){for(var h,f,g,v=o(e),m=a(v),y=n(t,r),b=c(null),_=l(m),w=0;_>w;w++)g=m[w],(f=s(y(g,w,v)))in b?p(b[f],g):b[f]=[g];if(i&&(h=i(v))!==d)for(f in b)b[f]=u(h,b[f]);return b}},4158:(e,t,r)=>{"use strict";var n=r(8632),i=r(3663),a=r(9110),o=function(e){return function(t,r,o){var s=n(t),l=a(s);if(0===l)return!e&&-1;var c,u=i(o,l);if(e&&r!=r){for(;l>u;)if((c=s[u++])!=c)return!0}else for(;l>u;u++)if((e||u in s)&&s[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2008:(e,t,r)=>{"use strict";var n=r(2038),i=r(2832),a=r(3659),o=r(9110),s=function(e){var t=1===e;return function(r,s,l){for(var c,u=a(r),d=i(u),p=o(d),h=n(s,l);p-- >0;)if(h(c=d[p],p,u))switch(e){case 0:return c;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},7816:(e,t,r)=>{"use strict";var n=r(8462);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},7826:(e,t,r)=>{"use strict";var n=r(1923),i=r(4288),a=TypeError,o=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!o(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7706:(e,t,r)=>{"use strict";var n=r(3062);e.exports=n([].slice)},9070:(e,t,r)=>{"use strict";var n=r(7706),i=Math.floor,a=function(e,t){var r=e.length;if(r<8)for(var o,s,l=1;l<r;){for(s=l,o=e[l];s&&t(e[s-1],o)>0;)e[s]=e[--s];s!==l++&&(e[s]=o)}else for(var c=i(r/2),u=a(n(e,0,c),t),d=a(n(e,c),t),p=u.length,h=d.length,f=0,g=0;f<p||g<h;)e[f+g]=f<p&&g<h?t(u[f],d[g])<=0?u[f++]:d[g++]:f<p?u[f++]:d[g++];return e};e.exports=a},459:(e,t,r)=>{"use strict";var n=r(9110);e.exports=function(e,t){for(var r=n(e),i=new t(r),a=0;a<r;a++)i[a]=e[r-a-1];return i}},1403:(e,t,r)=>{"use strict";var n=r(9110),i=r(6521),a=RangeError;e.exports=function(e,t,r,o){var s=n(e),l=i(r),c=l<0?s+l:l;if(c>=s||c<0)throw new a("Incorrect index");for(var u=new t(s),d=0;d<s;d++)u[d]=d===c?o:e[d];return u}},147:(e,t,r)=>{"use strict";var n=r(7609),i=r(6469),a=r(9543),o=r(3743),s=r(8881),l=r(2417),c=r(9406),u=r(2179),d=r(9462),p=c("Promise"),h="AsyncFromSyncIterator",f=l.set,g=l.getterFor(h),v=function(e,t,r){var n=e.done;p.resolve(e.value).then((function(e){t(d(e,n))}),r)},m=function(e){e.type=h,f(this,e)};m.prototype=s(a(u),{next:function(){var e=g(this);return new p((function(t,r){var a=i(n(e.next,e.iterator));v(a,t,r)}))},return:function(){var e=g(this).iterator;return new p((function(t,r){var a=o(e,"return");if(void 0===a)return t(d(void 0,!0));var s=i(n(a,e));v(s,t,r)}))}}),e.exports=m},7897:(e,t,r)=>{"use strict";var n=r(7609),i=r(9406),a=r(3743);e.exports=function(e,t,r,o){try{var s=a(e,"return");if(s)return i("Promise").resolve(n(s,e)).then((function(){t(r)}),(function(e){o(e)}))}catch(e){return o(e)}t(r)}},9296:(e,t,r)=>{"use strict";var n=r(7609),i=r(1689),a=r(6469),o=r(9543),s=r(1384),l=r(8881),c=r(6387),u=r(2417),d=r(9406),p=r(3743),h=r(2179),f=r(9462),g=r(9273),v=d("Promise"),m=c("toStringTag"),y="AsyncIteratorHelper",b="WrapForValidAsyncIterator",_=u.set,w=function(e){var t=!e,r=u.getterFor(e?b:y),s=function(e){var n=i((function(){return r(e)})),a=n.error,o=n.value;return a||t&&o.done?{exit:!0,value:a?v.reject(o):v.resolve(f(void 0,!0))}:{exit:!1,value:o}};return l(o(h),{next:function(){var e=s(this),t=e.value;if(e.exit)return t;var r=i((function(){return a(t.nextHandler(v))})),n=r.error,o=r.value;return n&&(t.done=!0),n?v.reject(o):v.resolve(o)},return:function(){var t=s(this),r=t.value;if(t.exit)return r;r.done=!0;var o,l,c=r.iterator,u=i((function(){if(r.inner)try{g(r.inner.iterator,"normal")}catch(e){return g(c,"throw",e)}return p(c,"return")}));return o=l=u.value,u.error?v.reject(l):void 0===o?v.resolve(f(void 0,!0)):(l=(u=i((function(){return n(o,c)}))).value,u.error?v.reject(l):e?v.resolve(l):v.resolve(l).then((function(e){return a(e),f(void 0,!0)})))}})},S=w(!0),C=w(!1);s(C,m,"Async Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?b:y,n.nextHandler=e,n.counter=0,n.done=!1,_(this,n)};return r.prototype=t?S:C,r}},7163:(e,t,r)=>{"use strict";var n=r(7609),i=r(8117),a=r(6469),o=r(9693),s=r(8475),l=r(9406),c=r(8986),u=r(7897),d=function(e){var t=0===e,r=1===e,d=2===e,p=3===e;return function(e,h,f){a(e);var g=void 0!==h;!g&&t||i(h);var v=c(e),m=l("Promise"),y=v.iterator,b=v.next,_=0;return new m((function(e,i){var l=function(e){u(y,i,e,i)},c=function(){try{if(g)try{s(_)}catch(e){l(e)}m.resolve(a(n(b,y))).then((function(n){try{if(a(n).done)t?(f.length=_,e(f)):e(!p&&(d||void 0));else{var s=n.value;try{if(g){var v=h(s,_),b=function(n){if(r)c();else if(d)n?c():u(y,e,!1,i);else if(t)try{f[_++]=n,c()}catch(e){l(e)}else n?u(y,e,p||s,i):c()};o(v)?m.resolve(v).then(b,l):b(v)}else f[_++]=s,c()}catch(e){l(e)}}}catch(e){i(e)}}),i)}catch(e){i(e)}};c()}))}};e.exports={toArray:d(0),forEach:d(1),every:d(2),some:d(3),find:d(4)}},7073:(e,t,r)=>{"use strict";var n=r(7609),i=r(8117),a=r(6469),o=r(9693),s=r(8986),l=r(9296),c=r(9462),u=r(7897),d=l((function(e){var t=this,r=t.iterator,i=t.mapper;return new e((function(s,l){var d=function(e){t.done=!0,l(e)},p=function(e){u(r,d,e,d)};e.resolve(a(n(t.next,r))).then((function(r){try{if(a(r).done)t.done=!0,s(c(void 0,!0));else{var n=r.value;try{var l=i(n,t.counter++),u=function(e){s(c(e,!1))};o(l)?e.resolve(l).then(u,p):u(l)}catch(e){p(e)}}}catch(e){d(e)}}),d)}))}));e.exports=function(e){return a(this),i(e),new d(s(this),{mapper:e})}},2179:(e,t,r)=>{"use strict";var n,i,a=r(1848),o=r(5517),s=r(8173),l=r(9543),c=r(4483),u=r(5953),d=r(6387),h=r(4151),f="USE_FUNCTION_CONSTRUCTOR",g=d("asyncIterator"),v=a.AsyncIterator,m=o.AsyncIteratorPrototype;if(m)n=m;else if(s(v))n=v.prototype;else if(o[f]||a[f])try{i=c(c(c(p("return async function*(){}()")()))),c(i)===Object.prototype&&(n=i)}catch(e){}n?h&&(n=l(n)):n={},s(n[g])||u(n,g,(function(){return this})),e.exports=n},3525:(e,t,r)=>{"use strict";var n=r(7609),i=r(9296);e.exports=i((function(){return n(this.next,this.iterator)}),!0)},9832:(e,t,r)=>{"use strict";var n=r(6469),i=r(9273);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},4912:(e,t,r)=>{"use strict";var n=r(6387)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var r=!1;try{var a={};a[n]=function(){return{next:function(){return{done:r=!0}}}},e(a)}catch(e){}return r}},6892:(e,t,r)=>{"use strict";var n=r(3062),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},1465:(e,t,r)=>{"use strict";var n=r(1326),i=r(8173),a=r(6892),o=r(6387)("toStringTag"),s=Object,l="Arguments"===a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?r:l?a(t):"Object"===(n=a(t))&&i(t.callee)?"Arguments":n}},744:(e,t,r)=>{"use strict";var n=r(1551),i=r(3349),a=r(5983),o=r(615);e.exports=function(e,t,r){for(var s=i(t),l=o.f,c=a.f,u=0;u<s.length;u++){var d=s[u];n(e,d)||r&&n(r,d)||l(e,d,c(t,d))}}},7712:(e,t,r)=>{"use strict";var n=r(8462);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},9462:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},1384:(e,t,r)=>{"use strict";var n=r(1923),i=r(615),a=r(4127);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},4127:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4676:(e,t,r)=>{"use strict";var n=r(1923),i=r(615),a=r(4127);e.exports=function(e,t,r){n?i.f(e,t,a(0,r)):e[t]=r}},6248:(e,t,r)=>{"use strict";var n=r(1704),i=r(615);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},5953:(e,t,r)=>{"use strict";var n=r(8173),i=r(615),a=r(1704),o=r(3958);e.exports=function(e,t,r,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(n(r)&&a(r,c,s),s.global)l?e[t]=r:o(t,r);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},8881:(e,t,r)=>{"use strict";var n=r(5953);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},3958:(e,t,r)=>{"use strict";var n=r(1848),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},5588:(e,t,r)=>{"use strict";var n=r(7420),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+n(t)+" of "+n(e))}},1923:(e,t,r)=>{"use strict";var n=r(8462);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4446:(e,t,r)=>{"use strict";var n=r(1848),i=r(9693),a=n.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},8475:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},7094:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9257:(e,t,r)=>{"use strict";var n=r(8722).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},1466:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/MSIE|Trident/.test(n)},9788:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},9823:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},2409:(e,t,r)=>{"use strict";var n=r(1558);e.exports="NODE"===n},2027:(e,t,r)=>{"use strict";var n=r(8722);e.exports=/web0s(?!.*chrome)/i.test(n)},8722:(e,t,r)=>{"use strict";var n=r(1848).navigator,i=n&&n.userAgent;e.exports=i?String(i):""},9255:(e,t,r)=>{"use strict";var n,i,a=r(1848),o=r(8722),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(i=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},8560:(e,t,r)=>{"use strict";var n=r(8722).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},1558:(e,t,r)=>{"use strict";var n=r(1848),i=r(8722),a=r(6892),o=function(e){return i.slice(0,e.length)===e};e.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},5290:(e,t,r)=>{"use strict";var n=r(3062),i=Error,a=n("".replace),o=String(new i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},2519:(e,t,r)=>{"use strict";var n=r(1384),i=r(5290),a=r(692),o=Error.captureStackTrace;e.exports=function(e,t,r,s){a&&(o?o(e,t):n(e,"stack",i(r,s)))}},692:(e,t,r)=>{"use strict";var n=r(8462),i=r(4127);e.exports=!n((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},4395:(e,t,r)=>{"use strict";var n=r(1848),i=r(5983).f,a=r(1384),o=r(5953),s=r(3958),l=r(744),c=r(6124);e.exports=function(e,t){var r,u,d,p,h,f=e.target,g=e.global,v=e.stat;if(r=g?n:v?n[f]||s(f,{}):n[f]&&n[f].prototype)for(u in t){if(p=t[u],d=e.dontCallGetSet?(h=i(r,u))&&h.value:r[u],!c(g?u:f+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(r,u,p,e)}}},8462:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},3178:(e,t,r)=>{"use strict";var n=r(5020),i=p.prototype,a=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(a):function(){return o.apply(a,arguments)})},2038:(e,t,r)=>{"use strict";var n=r(1992),i=r(8117),a=r(5020),o=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},5020:(e,t,r)=>{"use strict";var n=r(8462);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7609:(e,t,r)=>{"use strict";var n=r(5020),i=p.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},63:(e,t,r)=>{"use strict";var n=r(1923),i=r(1551),a=p.prototype,o=n&&Object.getOwnPropertyDescriptor,s=i(a,"name"),l=s&&"something"===function(){}.name,c=s&&(!n||n&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},252:(e,t,r)=>{"use strict";var n=r(3062),i=r(8117);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},1992:(e,t,r)=>{"use strict";var n=r(6892),i=r(3062);e.exports=function(e){if("Function"===n(e))return i(e)}},3062:(e,t,r)=>{"use strict";var n=r(5020),i=p.prototype,a=i.call,o=n&&i.bind.bind(a,a);e.exports=n?o:function(e){return function(){return a.apply(e,arguments)}}},1401:(e,t,r)=>{"use strict";var n=r(7609),i=r(8173),a=r(6469),o=r(8986),s=r(2100),l=r(3743),c=r(6387),u=r(147),d=c("asyncIterator");e.exports=function(e){var t,r=a(e),c=!0,p=l(r,d);return i(p)||(p=s(r),c=!1),void 0!==p?t=n(p,r):(t=r,c=!0),a(t),o(c?t:new u(o(t)))}},2330:(e,t,r)=>{"use strict";var n=r(7609),i=r(147),a=r(6469),o=r(9072),s=r(8986),l=r(3743),c=r(6387)("asyncIterator");e.exports=function(e,t){var r=arguments.length<2?l(e,c):t;return r?a(n(r,e)):new i(s(o(e)))}},8168:(e,t,r)=>{"use strict";var n=r(1848);e.exports=function(e,t){var r=n[e],i=r&&r.prototype;return i&&i[t]}},9406:(e,t,r)=>{"use strict";var n=r(1848),i=r(8173);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},8986:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},8304:(e,t,r)=>{"use strict";var n=r(7609),i=r(6469),a=r(8986),o=r(2100);e.exports=function(e,t){t&&"string"==typeof e||i(e);var r=o(e);return a(i(void 0!==r?n(r,e):e))}},2100:(e,t,r)=>{"use strict";var n=r(1465),i=r(3743),a=r(1636),o=r(7343),s=r(6387)("iterator");e.exports=function(e){if(!a(e))return i(e,s)||i(e,"@@iterator")||o[n(e)]}},9072:(e,t,r)=>{"use strict";var n=r(7609),i=r(8117),a=r(6469),o=r(7420),s=r(2100),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return a(n(r,e));throw new l(o(e)+" is not iterable")}},3743:(e,t,r)=>{"use strict";var n=r(8117),i=r(1636);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},1998:(e,t,r)=>{"use strict";var n=r(8117),i=r(6469),a=r(7609),o=r(6521),s=r(8986),l="Invalid size",c=RangeError,u=TypeError,d=Math.max,p=function(e,t){this.set=e,this.size=d(t,0),this.has=n(e.has),this.keys=n(e.keys)};p.prototype={getIterator:function(){return s(i(a(this.keys,this.set)))},includes:function(e){return a(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!=t)throw new u(l);var r=o(t);if(r<0)throw new c(l);return new p(e,r)}},1848:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||p("return this")()},1551:(e,t,r)=>{"use strict";var n=r(3062),i=r(3659),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},7051:e=>{"use strict";e.exports={}},2157:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2241:(e,t,r)=>{"use strict";var n=r(9406);e.exports=n("document","documentElement")},1881:(e,t,r)=>{"use strict";var n=r(1923),i=r(8462),a=r(4446);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},2832:(e,t,r)=>{"use strict";var n=r(3062),i=r(8462),a=r(6892),o=Object,s=n("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?s(e,""):o(e)}:o},6339:(e,t,r)=>{"use strict";var n=r(8173),i=r(9693),a=r(5273);e.exports=function(e,t,r){var o,s;return a&&n(o=t.constructor)&&o!==r&&i(s=o.prototype)&&s!==r.prototype&&a(e,s),e}},5239:(e,t,r)=>{"use strict";var n=r(3062),i=r(8173),a=r(5517),o=n(p.toString);i(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},6001:(e,t,r)=>{"use strict";var n=r(9693),i=r(1384);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},2417:(e,t,r)=>{"use strict";var n,i,a,o=r(3721),s=r(1848),l=r(9693),c=r(1384),u=r(1551),d=r(5517),p=r(5612),h=r(7051),f="Object already initialized",g=s.TypeError,v=s.WeakMap;if(o||d.state){var m=d.state||(d.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw new g(f);return t.facade=e,m.set(e,t),t},i=function(e){return m.get(e)||{}},a=function(e){return m.has(e)}}else{var y=p("state");h[y]=!0,n=function(e,t){if(u(e,y))throw new g(f);return t.facade=e,c(e,y,t),t},i=function(e){return u(e,y)?e[y]:{}},a=function(e){return u(e,y)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=i(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return r}}}},9345:(e,t,r)=>{"use strict";var n=r(6387),i=r(7343),a=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},4288:(e,t,r)=>{"use strict";var n=r(6892);e.exports=Array.isArray||function(e){return"Array"===n(e)}},4107:(e,t,r)=>{"use strict";var n=r(1465);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},8173:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4524:(e,t,r)=>{"use strict";var n=r(3062),i=r(8462),a=r(8173),o=r(1465),s=r(9406),l=r(5239),c=function(){},u=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=n(d.exec),h=!d.test(c),f=function(e){if(!a(e))return!1;try{return u(c,[],e),!0}catch(e){return!1}},g=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(d,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!u||i((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?g:f},6124:(e,t,r)=>{"use strict";var n=r(8462),i=r(8173),a=/#|\.prototype\./,o=function(e,t){var r=l[s(e)];return r===u||r!==c&&(i(t)?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},1636:e=>{"use strict";e.exports=function(e){return null==e}},9693:(e,t,r)=>{"use strict";var n=r(8173);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},4977:(e,t,r)=>{"use strict";var n=r(9693);e.exports=function(e){return n(e)||null===e}},4151:e=>{"use strict";e.exports=!1},9525:(e,t,r)=>{"use strict";var n=r(9406),i=r(8173),a=r(6730),o=r(5363),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&a(t.prototype,s(e))}},9806:(e,t,r)=>{"use strict";var n=r(7609);e.exports=function(e,t,r){for(var i,a,o=r?e:e.iterator,s=e.next;!(i=n(s,o)).done;)if(void 0!==(a=t(i.value)))return a}},2201:(e,t,r)=>{"use strict";var n=r(2038),i=r(7609),a=r(6469),o=r(7420),s=r(9345),l=r(9110),c=r(6730),u=r(9072),d=r(2100),p=r(9273),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,r){var v,m,y,b,_,w,S,C=r&&r.that,k=!(!r||!r.AS_ENTRIES),I=!(!r||!r.IS_RECORD),P=!(!r||!r.IS_ITERATOR),T=!(!r||!r.INTERRUPTED),A=n(t,C),x=function(e){return v&&p(v,"normal",e),new f(!0,e)},E=function(e){return k?(a(e),T?A(e[0],e[1],x):A(e[0],e[1])):T?A(e,x):A(e)};if(I)v=e.iterator;else if(P)v=e;else{if(!(m=d(e)))throw new h(o(e)+" is not iterable");if(s(m)){for(y=0,b=l(e);b>y;y++)if((_=E(e[y]))&&c(g,_))return _;return new f(!1)}v=u(e,m)}for(w=I?e.next:v.next;!(S=i(w,v)).done;){try{_=E(S.value)}catch(e){p(v,"throw",e)}if("object"==typeof _&&_&&c(g,_))return _}return new f(!1)}},9273:(e,t,r)=>{"use strict";var n=r(7609),i=r(6469),a=r(3743);e.exports=function(e,t,r){var o,s;i(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw r;return r}o=n(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw r;if(s)throw o;return i(o),r}},2160:(e,t,r)=>{"use strict";var n=r(7609),i=r(9543),a=r(1384),o=r(8881),s=r(6387),l=r(2417),c=r(3743),u=r(7092).IteratorPrototype,d=r(9462),p=r(9273),h=s("toStringTag"),f="IteratorHelper",g="WrapForValidIterator",v=l.set,m=function(e){var t=l.getterFor(e?g:f);return o(i(u),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return d(n,r.done)}catch(e){throw r.done=!0,e}},return:function(){var r=t(this),i=r.iterator;if(r.done=!0,e){var a=c(i,"return");return a?n(a,i):d(void 0,!0)}if(r.inner)try{p(r.inner.iterator,"normal")}catch(e){return p(i,"throw",e)}return p(i,"normal"),d(void 0,!0)}})},y=m(!0),b=m(!1);a(b,h,"Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?g:f,n.nextHandler=e,n.counter=0,n.done=!1,v(this,n)};return r.prototype=t?y:b,r}},2563:(e,t,r)=>{"use strict";var n=r(7609),i=r(8117),a=r(6469),o=r(8986),s=r(2160),l=r(9832),c=s((function(){var e=this.iterator,t=a(n(this.next,e));if(!(this.done=!!t.done))return l(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return a(this),i(e),new c(o(this),{mapper:e})}},7092:(e,t,r)=>{"use strict";var n,i,a,o=r(8462),s=r(8173),l=r(9693),c=r(9543),u=r(4483),d=r(5953),p=r(6387),h=r(4151),f=p("iterator"),g=!1;[].keys&&("next"in(a=[].keys())?(i=u(u(a)))!==Object.prototype&&(n=i):g=!0),!l(n)||o((function(){var e={};return n[f].call(e)!==e}))?n={}:h&&(n=c(n)),s(n[f])||d(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},7343:e=>{"use strict";e.exports={}},9110:(e,t,r)=>{"use strict";var n=r(4233);e.exports=function(e){return n(e.length)}},1704:(e,t,r)=>{"use strict";var n=r(3062),i=r(8462),a=r(8173),o=r(1551),s=r(1923),l=r(63).CONFIGURABLE,c=r(5239),u=r(2417),d=u.enforce,h=u.get,f=String,g=Object.defineProperty,v=n("".slice),m=n("".replace),y=n([].join),b=s&&!i((function(){return 8!==g((function(){}),"length",{value:8}).length})),_=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===v(f(t),0,7)&&(t="["+m(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!o(e,"name")||l&&e.name!==t)&&(s?g(e,"name",{value:t,configurable:!0}):e.name=t),b&&r&&o(r,"arity")&&e.length!==r.arity&&g(e,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?s&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=d(e);return o(n,"source")||(n.source=y(_,"string"==typeof t?t:"")),e};p.prototype.toString=w((function(){return a(this)&&h(this).source||c(this)}),"toString")},7741:(e,t,r)=>{"use strict";var n=r(3062),i=Map.prototype;e.exports={Map:Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},9344:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},5684:(e,t,r)=>{"use strict";var n,i,a,o,s,l=r(1848),c=r(5512),u=r(2038),d=r(4320).set,p=r(5141),h=r(9823),f=r(9788),g=r(2027),v=r(2409),m=l.MutationObserver||l.WebKitMutationObserver,y=l.document,b=l.process,_=l.Promise,w=c("queueMicrotask");if(!w){var S=new p,C=function(){var e,t;for(v&&(e=b.domain)&&e.exit();t=S.get();)try{t()}catch(e){throw S.head&&n(),e}e&&e.enter()};h||v||g||!m||!y?!f&&_&&_.resolve?((o=_.resolve(void 0)).constructor=_,s=u(o.then,o),n=function(){s(C)}):v?n=function(){b.nextTick(C)}:(d=u(d,l),n=function(){d(C)}):(i=!0,a=y.createTextNode(""),new m(C).observe(a,{characterData:!0}),n=function(){a.data=i=!i}),w=function(e){S.head||n(),S.add(e)}}e.exports=w},8326:(e,t,r)=>{"use strict";var n=r(8117),i=TypeError,a=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw new i("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new a(e)}},9766:(e,t,r)=>{"use strict";var n=r(5774);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},8428:e=>{"use strict";var t=RangeError;e.exports=function(e){if(e==e)return e;throw new t("NaN is not allowed")}},9543:(e,t,r)=>{"use strict";var n,i=r(6469),a=r(1981),o=r(7094),s=r(7051),l=r(2241),c=r(4446),u=r(5612),d="prototype",p="script",h=u("IE_PROTO"),f=function(){},g=function(e){return"<"+p+">"+e+"</"+p+">"},v=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;m="undefined"!=typeof document?document.domain&&n?v(n):(t=c("iframe"),r="java"+p+":",t.style.display="none",l.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):v(n);for(var i=o.length;i--;)delete m[d][o[i]];return m()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f[d]=i(e),r=new f,f[d]=null,r[h]=e):r=m(),void 0===t?r:a.f(r,t)}},1981:(e,t,r)=>{"use strict";var n=r(1923),i=r(2552),a=r(615),o=r(6469),s=r(8632),l=r(5923);t.f=n&&!i?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),i=l(t),c=i.length,u=0;c>u;)a.f(e,r=i[u++],n[r]);return e}},615:(e,t,r)=>{"use strict";var n=r(1923),i=r(1881),a=r(2552),o=r(6469),s=r(7445),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=n?a?function(e,t,r){if(o(e),t=s(t),o(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=u(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:p in r?r[p]:n[p],enumerable:d in r?r[d]:n[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(o(e),t=s(t),o(r),i)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},5983:(e,t,r)=>{"use strict";var n=r(1923),i=r(7609),a=r(6146),o=r(4127),s=r(8632),l=r(7445),c=r(1551),u=r(1881),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(e){}if(c(e,t))return o(!i(a.f,e,t),e[t])}},1010:(e,t,r)=>{"use strict";var n=r(6866),i=r(7094).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},436:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},4483:(e,t,r)=>{"use strict";var n=r(1551),i=r(8173),a=r(3659),o=r(5612),s=r(7712),l=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=a(e);if(n(t,l))return t[l];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?u:null}},6730:(e,t,r)=>{"use strict";var n=r(3062);e.exports=n({}.isPrototypeOf)},6866:(e,t,r)=>{"use strict";var n=r(3062),i=r(1551),a=r(8632),o=r(4158).indexOf,s=r(7051),l=n([].push);e.exports=function(e,t){var r,n=a(e),c=0,u=[];for(r in n)!i(s,r)&&i(n,r)&&l(u,r);for(;t.length>c;)i(n,r=t[c++])&&(~o(u,r)||l(u,r));return u}},5923:(e,t,r)=>{"use strict";var n=r(6866),i=r(7094);e.exports=Object.keys||function(e){return n(e,i)}},6146:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},5273:(e,t,r)=>{"use strict";var n=r(252),i=r(9693),a=r(170),o=r(8924);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return a(r),o(n),i(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0)},3613:(e,t,r)=>{"use strict";var n=r(7609),i=r(8173),a=r(9693),o=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!a(s=n(r,e)))return s;if(i(r=e.valueOf)&&!a(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!a(s=n(r,e)))return s;throw new o("Can't convert object to primitive value")}},3349:(e,t,r)=>{"use strict";var n=r(9406),i=r(3062),a=r(1010),o=r(436),s=r(6469),l=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(s(e)),r=o.f;return r?l(t,r(e)):t}},3448:(e,t,r)=>{"use strict";var n=r(1848);e.exports=n},1689:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},1495:(e,t,r)=>{"use strict";var n=r(1848),i=r(4243),a=r(8173),o=r(6124),s=r(5239),l=r(6387),c=r(1558),u=r(4151),d=r(9255),p=i&&i.prototype,h=l("species"),f=!1,g=a(n.PromiseRejectionEvent),v=o("Promise",(function(){var e=s(i),t=e!==String(i);if(!t&&66===d)return!0;if(u&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(e)){var r=new i((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[h]=n,!(f=r.then((function(){}))instanceof n))return!0}return!(t||"BROWSER"!==c&&"DENO"!==c||g)}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:f}},4243:(e,t,r)=>{"use strict";var n=r(1848);e.exports=n.Promise},1128:(e,t,r)=>{"use strict";var n=r(6469),i=r(9693),a=r(8326);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e);return(0,r.resolve)(t),r.promise}},7019:(e,t,r)=>{"use strict";var n=r(4243),i=r(4912),a=r(1495).CONSTRUCTOR;e.exports=a||!i((function(e){n.all(e).then(void 0,(function(){}))}))},4279:(e,t,r)=>{"use strict";var n=r(615).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},5141:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},7834:(e,t,r)=>{"use strict";var n=r(6469);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},170:(e,t,r)=>{"use strict";var n=r(1636),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},5512:(e,t,r)=>{"use strict";var n=r(1848),i=r(1923),a=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return n[e];var t=a(n,e);return t&&t.value}},929:(e,t,r)=>{"use strict";var n=r(3840),i=r(2745),a=n.Set,o=n.add;e.exports=function(e){var t=new a;return i(e,(function(e){o(t,e)})),t}},9864:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840),a=r(929),o=r(5179),s=r(1998),l=r(2745),c=r(9806),u=i.has,d=i.remove;e.exports=function(e){var t=n(this),r=s(e),i=a(t);return o(t)<=r.size?l(t,(function(e){r.includes(e)&&d(i,e)})):c(r.getIterator(),(function(e){u(t,e)&&d(i,e)})),i}},3840:(e,t,r)=>{"use strict";var n=r(3062),i=Set.prototype;e.exports={Set:Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},374:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840),a=r(5179),o=r(1998),s=r(2745),l=r(9806),c=i.Set,u=i.add,d=i.has;e.exports=function(e){var t=n(this),r=o(e),i=new c;return a(t)>r.size?l(r.getIterator(),(function(e){d(t,e)&&u(i,e)})):s(t,(function(e){r.includes(e)&&u(i,e)})),i}},7735:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840).has,a=r(5179),o=r(1998),s=r(2745),l=r(9806),c=r(9273);e.exports=function(e){var t=n(this),r=o(e);if(a(t)<=r.size)return!1!==s(t,(function(e){if(r.includes(e))return!1}),!0);var u=r.getIterator();return!1!==l(u,(function(e){if(i(t,e))return c(u,"normal",!1)}))}},6274:(e,t,r)=>{"use strict";var n=r(6016),i=r(5179),a=r(2745),o=r(1998);e.exports=function(e){var t=n(this),r=o(e);return!(i(t)>r.size)&&!1!==a(t,(function(e){if(!r.includes(e))return!1}),!0)}},9749:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840).has,a=r(5179),o=r(1998),s=r(9806),l=r(9273);e.exports=function(e){var t=n(this),r=o(e);if(a(t)<r.size)return!1;var c=r.getIterator();return!1!==s(c,(function(e){if(!i(t,e))return l(c,"normal",!1)}))}},2745:(e,t,r)=>{"use strict";var n=r(3062),i=r(9806),a=r(3840),o=a.Set,s=a.proto,l=n(s.forEach),c=n(s.keys),u=c(new o).next;e.exports=function(e,t,r){return r?i({iterator:c(e),next:u},t):l(e,t)}},4435:(e,t,r)=>{"use strict";var n=r(9406),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=n("Set");try{(new t)[e](i(0));try{return(new t)[e](i(-1)),!1}catch(e){return!0}}catch(e){return!1}}},5179:(e,t,r)=>{"use strict";var n=r(252),i=r(3840);e.exports=n(i.proto,"size","get")||function(e){return e.size}},5539:(e,t,r)=>{"use strict";var n=r(9406),i=r(6248),a=r(6387),o=r(1923),s=a("species");e.exports=function(e){var t=n(e);o&&t&&!t[s]&&i(t,s,{configurable:!0,get:function(){return this}})}},3285:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840),a=r(929),o=r(1998),s=r(9806),l=i.add,c=i.has,u=i.remove;e.exports=function(e){var t=n(this),r=o(e).getIterator(),i=a(t);return s(r,(function(e){c(t,e)?u(i,e):l(i,e)})),i}},6988:(e,t,r)=>{"use strict";var n=r(615).f,i=r(1551),a=r(6387)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,a)&&n(e,a,{configurable:!0,value:t})}},2394:(e,t,r)=>{"use strict";var n=r(6016),i=r(3840).add,a=r(929),o=r(1998),s=r(9806);e.exports=function(e){var t=n(this),r=o(e).getIterator(),l=a(t);return s(r,(function(e){i(l,e)})),l}},5612:(e,t,r)=>{"use strict";var n=r(6231),i=r(4229),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},5517:(e,t,r)=>{"use strict";var n=r(4151),i=r(1848),a=r(3958),o="__core-js_shared__",s=e.exports=i[o]||a(o,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6231:(e,t,r)=>{"use strict";var n=r(5517);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},9675:(e,t,r)=>{"use strict";var n=r(6469),i=r(6270),a=r(1636),o=r(6387)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||a(r=n(s)[o])?t:i(r)}},444:(e,t,r)=>{"use strict";var n=r(9255),i=r(8462),a=r(1848).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4320:(e,t,r)=>{"use strict";var n,i,a,o,s=r(1848),l=r(3178),c=r(2038),u=r(8173),d=r(1551),p=r(8462),h=r(2241),f=r(7706),g=r(4446),v=r(4315),m=r(9823),y=r(2409),b=s.setImmediate,_=s.clearImmediate,w=s.process,S=s.Dispatch,C=s.Function,k=s.MessageChannel,I=s.String,P=0,T={},A="onreadystatechange";p((function(){n=s.location}));var x=function(e){if(d(T,e)){var t=T[e];delete T[e],t()}},E=function(e){return function(){x(e)}},M=function(e){x(e.data)},R=function(e){s.postMessage(I(e),n.protocol+"//"+n.host)};b&&_||(b=function(e){v(arguments.length,1);var t=u(e)?e:C(e),r=f(arguments,1);return T[++P]=function(){l(t,void 0,r)},i(P),P},_=function(e){delete T[e]},y?i=function(e){w.nextTick(E(e))}:S&&S.now?i=function(e){S.now(E(e))}:k&&!m?(o=(a=new k).port2,a.port1.onmessage=M,i=c(o.postMessage,o)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!p(R)?(i=R,s.addEventListener("message",M,!1)):i=A in g("script")?function(e){h.appendChild(g("script"))[A]=function(){h.removeChild(this),x(e)}}:function(e){setTimeout(E(e),0)}),e.exports={set:b,clear:_}},3663:(e,t,r)=>{"use strict";var n=r(6521),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},3442:(e,t,r)=>{"use strict";var n=r(5124),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},8632:(e,t,r)=>{"use strict";var n=r(2832),i=r(170);e.exports=function(e){return n(i(e))}},6521:(e,t,r)=>{"use strict";var n=r(9344);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},4233:(e,t,r)=>{"use strict";var n=r(6521),i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,9007199254740991):0}},3659:(e,t,r)=>{"use strict";var n=r(170),i=Object;e.exports=function(e){return i(n(e))}},815:(e,t,r)=>{"use strict";var n=r(3657),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw new i("Wrong offset");return r}},3657:(e,t,r)=>{"use strict";var n=r(6521),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new i("The argument can't be less than 0");return t}},5124:(e,t,r)=>{"use strict";var n=r(7609),i=r(9693),a=r(9525),o=r(3743),s=r(3613),l=r(6387),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var r,l=o(e,u);if(l){if(void 0===t&&(t="default"),r=n(l,e,t),!i(r)||a(r))return r;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},7445:(e,t,r)=>{"use strict";var n=r(5124),i=r(9525);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},1326:(e,t,r)=>{"use strict";var n={};n[r(6387)("toStringTag")]="z",e.exports="[object z]"===String(n)},5774:(e,t,r)=>{"use strict";var n=r(1465),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},7420:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4229:(e,t,r)=>{"use strict";var n=r(3062),i=0,a=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+a,36)}},5363:(e,t,r)=>{"use strict";var n=r(444);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2552:(e,t,r)=>{"use strict";var n=r(1923),i=r(8462);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4315:e=>{"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},3721:(e,t,r)=>{"use strict";var n=r(1848),i=r(8173),a=n.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},6220:(e,t,r)=>{"use strict";var n=r(3448),i=r(1551),a=r(294),o=r(615).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},294:(e,t,r)=>{"use strict";var n=r(6387);t.f=n},6387:(e,t,r)=>{"use strict";var n=r(1848),i=r(6231),a=r(1551),o=r(4229),s=r(444),l=r(5363),c=n.Symbol,u=i("wks"),d=l?c.for||c:c&&c.withoutSetter||o;e.exports=function(e){return a(u,e)||(u[e]=s&&a(c,e)?c[e]:d("Symbol."+e)),u[e]}},3649:(e,t,r)=>{"use strict";var n=r(9406),i=r(1551),a=r(1384),o=r(6730),s=r(5273),l=r(744),c=r(4279),u=r(6339),d=r(9766),p=r(6001),h=r(2519),f=r(1923),g=r(4151);e.exports=function(e,t,r,v){var m="stackTraceLimit",y=v?2:1,b=e.split("."),_=b[b.length-1],w=n.apply(null,b);if(w){var S=w.prototype;if(!g&&i(S,"cause")&&delete S.cause,!r)return w;var C=n("Error"),k=t((function(e,t){var r=d(v?t:e,void 0),n=v?new w(e):new w;return void 0!==r&&a(n,"message",r),h(n,k,n.stack,2),this&&o(S,this)&&u(n,this,k),arguments.length>y&&p(n,arguments[y]),n}));if(k.prototype=S,"Error"!==_?s?s(k,C):l(k,C,{name:!0}):f&&m in w&&(c(k,w,m),c(k,w,"prepareStackTrace")),l(k,w),!g)try{S.name!==_&&a(S,"name",_),S.constructor=k}catch(e){}return k}}},7311:(e,t,r)=>{"use strict";var n=r(4395),i=r(9406),a=r(3178),o=r(8462),s=r(3649),l="AggregateError",c=i(l),u=!o((function(){return 1!==c([1]).errors[0]}))&&o((function(){return 7!==c([1],l,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:u},{AggregateError:s(l,(function(e){return function(t,r){return a(e,this,arguments)}}),u,!0)})},4240:(e,t,r)=>{"use strict";var n=r(4395),i=r(3659),a=r(9110),o=r(6521),s=r(2890);n({target:"Array",proto:!0},{at:function(e){var t=i(this),r=a(t),n=o(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}}),s("at")},3509:(e,t,r)=>{"use strict";var n=r(4395),i=r(2008).findLastIndex,a=r(2890);n({target:"Array",proto:!0},{findLastIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},7119:(e,t,r)=>{"use strict";var n=r(4395),i=r(2008).findLast,a=r(2890);n({target:"Array",proto:!0},{findLast:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},2004:(e,t,r)=>{"use strict";var n=r(4395),i=r(3659),a=r(9110),o=r(7826),s=r(8475);n({target:"Array",proto:!0,arity:1,forced:r(8462)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),r=a(t),n=arguments.length;s(r+n);for(var l=0;l<n;l++)t[r]=arguments[l],r++;return o(t,r),r}})},7855:(e,t,r)=>{"use strict";var n=r(4395),i=r(459),a=r(8632),o=r(2890),s=Array;n({target:"Array",proto:!0},{toReversed:function(){return i(a(this),s)}}),o("toReversed")},2665:(e,t,r)=>{"use strict";var n=r(4395),i=r(3062),a=r(8117),o=r(8632),s=r(2239),l=r(8168),c=r(2890),u=Array,d=i(l("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&a(e);var t=o(this),r=s(u,t);return d(r,e)}}),c("toSorted")},9772:(e,t,r)=>{"use strict";var n=r(4395),i=r(2890),a=r(8475),o=r(9110),s=r(3663),l=r(8632),c=r(6521),u=Array,d=Math.max,p=Math.min;n({target:"Array",proto:!0},{toSpliced:function(e,t){var r,n,i,h,f=l(this),g=o(f),v=s(e,g),m=arguments.length,y=0;for(0===m?r=n=0:1===m?(r=0,n=g-v):(r=m-2,n=p(d(c(t),0),g-v)),i=a(g+r-n),h=u(i);y<v;y++)h[y]=f[y];for(;y<v+r;y++)h[y]=arguments[y-v+2];for(;y<i;y++)h[y]=f[y+n-r];return h}}),i("toSpliced")},8971:(e,t,r)=>{"use strict";var n=r(4395),i=r(3659),a=r(9110),o=r(7826),s=r(5588),l=r(8475);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=i(this),r=a(t),n=arguments.length;if(n){l(r+n);for(var c=r;c--;){var u=c+n;c in t?t[u]=t[c]:s(t,u)}for(var d=0;d<n;d++)t[d]=arguments[d]}return o(t,r+n)}})},8135:(e,t,r)=>{"use strict";var n=r(4395),i=r(1403),a=r(8632),o=Array;n({target:"Array",proto:!0},{with:function(e,t){return i(a(this),o,e,t)}})},1474:(e,t,r)=>{"use strict";var n=r(4395),i=r(1848),a=r(3178),o=r(3649),s="WebAssembly",l=i[s],c=7!==new Error("e",{cause:7}).cause,u=function(e,t){var r={};r[e]=o(e,t,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},d=function(e,t){if(l&&l[e]){var r={};r[e]=o(s+"."+e,t,c),n({target:s,stat:!0,constructor:!0,arity:1,forced:c},r)}};u("Error",(function(e){return function(t){return a(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),u("URIError",(function(e){return function(t){return a(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},8140:(e,t,r)=>{"use strict";r(4395)({target:"Object",stat:!0},{hasOwn:r(1551)})},5164:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(8326),s=r(1689),l=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{allSettled:function(e){var t=this,r=o.f(t),n=r.resolve,c=r.reject,u=s((function(){var r=a(t.resolve),o=[],s=0,c=1;l(e,(function(e){var a=s++,l=!1;c++,i(r,t,e).then((function(e){l||(l=!0,o[a]={status:"fulfilled",value:e},--c||n(o))}),(function(e){l||(l=!0,o[a]={status:"rejected",reason:e},--c||n(o))}))})),--c||n(o)}));return u.error&&c(u.value),r.promise}})},4125:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(8326),s=r(1689),l=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{all:function(e){var t=this,r=o.f(t),n=r.resolve,c=r.reject,u=s((function(){var r=a(t.resolve),o=[],s=0,u=1;l(e,(function(e){var a=s++,l=!1;u++,i(r,t,e).then((function(e){l||(l=!0,o[a]=e,--u||n(o))}),c)})),--u||n(o)}));return u.error&&c(u.value),r.promise}})},6406:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(9406),s=r(8326),l=r(1689),c=r(2201),u=r(7019),d="No one promise resolved";n({target:"Promise",stat:!0,forced:u},{any:function(e){var t=this,r=o("AggregateError"),n=s.f(t),u=n.resolve,p=n.reject,h=l((function(){var n=a(t.resolve),o=[],s=0,l=1,h=!1;c(e,(function(e){var a=s++,c=!1;l++,i(n,t,e).then((function(e){c||h||(h=!0,u(e))}),(function(e){c||h||(c=!0,o[a]=e,--l||p(new r(o,d)))}))})),--l||p(new r(o,d))}));return h.error&&p(h.value),n.promise}})},8525:(e,t,r)=>{"use strict";var n=r(4395),i=r(4151),a=r(1495).CONSTRUCTOR,o=r(4243),s=r(9406),l=r(8173),c=r(5953),u=o&&o.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&l(o)){var d=s("Promise").prototype.catch;u.catch!==d&&c(u,"catch",d,{unsafe:!0})}},1382:(e,t,r)=>{"use strict";var n,i,a,o=r(4395),s=r(4151),l=r(2409),c=r(1848),u=r(7609),d=r(5953),p=r(5273),h=r(6988),f=r(5539),g=r(8117),v=r(8173),m=r(9693),y=r(1747),b=r(9675),_=r(4320).set,w=r(5684),S=r(2157),C=r(1689),k=r(5141),I=r(2417),P=r(4243),T=r(1495),A=r(8326),x="Promise",E=T.CONSTRUCTOR,M=T.REJECTION_EVENT,R=T.SUBCLASSING,D=I.getterFor(x),O=I.set,L=P&&P.prototype,N=P,B=L,$=c.TypeError,F=c.document,j=c.process,W=A.f,V=W,U=!!(F&&F.createEvent&&c.dispatchEvent),z="unhandledrejection",q=function(e){var t;return!(!m(e)||!v(t=e.then))&&t},H=function(e,t){var r,n,i,a=t.value,o=1===t.state,s=o?e.ok:e.fail,l=e.resolve,c=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&Y(t),t.rejection=1),!0===s?r=a:(d&&d.enter(),r=s(a),d&&(d.exit(),i=!0)),r===e.promise?c(new $("Promise-chain cycle")):(n=q(r))?u(n,r,l,c):l(r)):c(a)}catch(e){d&&!i&&d.exit(),c(e)}},G=function(e,t){e.notified||(e.notified=!0,w((function(){for(var r,n=e.reactions;r=n.get();)H(r,e);e.notified=!1,t&&!e.rejection&&J(e)})))},K=function(e,t,r){var n,i;U?((n=F.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!M&&(i=c["on"+e])?i(n):e===z&&S("Unhandled promise rejection",r)},J=function(e){u(_,c,(function(){var t,r=e.facade,n=e.value;if(X(e)&&(t=C((function(){l?j.emit("unhandledRejection",n,r):K(z,r,n)})),e.rejection=l||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},Y=function(e){u(_,c,(function(){var t=e.facade;l?j.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},Q=function(e,t,r){return function(n){e(t,n,r)}},Z=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,G(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new $("Promise can't be resolved itself");var n=q(t);n?w((function(){var r={done:!1};try{u(n,t,Q(ee,r,e),Q(Z,r,e))}catch(t){Z(r,t,e)}})):(e.value=t,e.state=1,G(e,!1))}catch(t){Z({done:!1},t,e)}}};if(E&&(B=(N=function(e){y(this,B),g(e),u(n,this);var t=D(this);try{e(Q(ee,t),Q(Z,t))}catch(e){Z(t,e)}}).prototype,(n=function(e){O(this,{type:x,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:0,value:null})}).prototype=d(B,"then",(function(e,t){var r=D(this),n=W(b(this,N));return r.parent=!0,n.ok=!v(e)||e,n.fail=v(t)&&t,n.domain=l?j.domain:void 0,0===r.state?r.reactions.add(n):w((function(){H(n,r)})),n.promise})),i=function(){var e=new n,t=D(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q(Z,t)},A.f=W=function(e){return e===N||undefined===e?new i(e):V(e)},!s&&v(P)&&L!==Object.prototype)){a=L.then,R||d(L,"then",(function(e,t){var r=this;return new N((function(e,t){u(a,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}p&&p(L,B)}o({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:N}),h(N,x,!1,!0),f(x)},1410:(e,t,r)=>{"use strict";var n=r(4395),i=r(4151),a=r(4243),o=r(8462),s=r(9406),l=r(8173),c=r(9675),u=r(1128),d=r(5953),p=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r=l(e);return this.then(r?function(r){return u(t,e()).then((function(){return r}))}:e,r?function(r){return u(t,e()).then((function(){throw r}))}:e)}}),!i&&l(a)){var h=s("Promise").prototype.finally;p.finally!==h&&d(p,"finally",h,{unsafe:!0})}},7788:(e,t,r)=>{"use strict";r(1382),r(4125),r(8525),r(4832),r(1050),r(2529)},4832:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(8326),s=r(1689),l=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{race:function(e){var t=this,r=o.f(t),n=r.reject,c=s((function(){var o=a(t.resolve);l(e,(function(e){i(o,t,e).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},1050:(e,t,r)=>{"use strict";var n=r(4395),i=r(8326);n({target:"Promise",stat:!0,forced:r(1495).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return(0,t.reject)(e),t.promise}})},2529:(e,t,r)=>{"use strict";var n=r(4395),i=r(9406),a=r(4151),o=r(4243),s=r(1495).CONSTRUCTOR,l=r(1128),c=i("Promise"),u=a&&!s;n({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return l(u&&this===c?o:this,e)}})},7638:(e,t,r)=>{"use strict";var n=r(1848),i=r(1923),a=r(6248),o=r(7834),s=r(8462),l=n.RegExp,c=l.prototype;i&&s((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},r="",n=e?"dgimsy":"gimsy",i=function(e,n){Object.defineProperty(t,e,{get:function(){return r+=n,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)i(o,a[o]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(t)!==n||r!==n}))&&a(c,"flags",{configurable:!0,get:o})},9983:(e,t,r)=>{"use strict";var n=r(4395),i=r(9864);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("difference")},{difference:i})},6276:(e,t,r)=>{"use strict";var n=r(4395),i=r(8462),a=r(374);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:a})},9297:(e,t,r)=>{"use strict";var n=r(4395),i=r(7735);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isDisjointFrom")},{isDisjointFrom:i})},6816:(e,t,r)=>{"use strict";var n=r(4395),i=r(6274);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSubsetOf")},{isSubsetOf:i})},6756:(e,t,r)=>{"use strict";var n=r(4395),i=r(9749);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSupersetOf")},{isSupersetOf:i})},960:(e,t,r)=>{"use strict";var n=r(4395),i=r(3285);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("symmetricDifference")},{symmetricDifference:i})},9301:(e,t,r)=>{"use strict";var n=r(4395),i=r(2394);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("union")},{union:i})},6303:(e,t,r)=>{"use strict";var n=r(4395),i=r(3062),a=r(170),o=r(6521),s=r(5774),l=r(8462),c=i("".charAt);n({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(a(this)),r=t.length,n=o(e),i=n>=0?n:r+n;return i<0||i>=r?void 0:c(t,i)}})},1516:(e,t,r)=>{"use strict";var n=r(4395),i=r(3062),a=r(170),o=r(5774),s=i("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var e=o(a(this)),t=e.length,r=0;r<t;r++){var n=s(e,r);if(55296==(63488&n)&&(n>=56320||++r>=t||56320!=(64512&s(e,r))))return!1}return!0}})},705:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(3062),o=r(170),s=r(5774),l=r(8462),c=Array,u=a("".charAt),d=a("".charCodeAt),p=a([].join),h="".toWellFormed,f=h&&l((function(){return"1"!==i(h,1)}));n({target:"String",proto:!0,forced:f},{toWellFormed:function(){var e=s(o(this));if(f)return i(h,e);for(var t=e.length,r=c(t),n=0;n<t;n++){var a=d(e,n);55296!=(63488&a)?r[n]=u(e,n):a>=56320||n+1>=t||56320!=(64512&d(e,n+1))?r[n]="�":(r[n]=u(e,n),r[++n]=u(e,n))}return p(r,"")}})},1825:(e,t,r)=>{"use strict";var n=r(1759),i=r(9110),a=r(6521),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=o(this),r=i(t),n=a(e),s=n>=0?n:r+n;return s<0||s>=r?void 0:t[s]}))},2220:(e,t,r)=>{"use strict";var n=r(1759),i=r(1180),a=r(3442),o=r(1465),s=r(7609),l=r(3062),c=r(8462),u=n.aTypedArray,d=n.exportTypedArrayMethod,p=l("".slice);d("fill",(function(e){var t=arguments.length;u(this);var r="Big"===p(o(this),0,3)?a(e):+e;return s(i,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},4774:(e,t,r)=>{"use strict";var n=r(1759),i=r(2008).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},1519:(e,t,r)=>{"use strict";var n=r(1759),i=r(2008).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},1520:(e,t,r)=>{"use strict";var n=r(1848),i=r(7609),a=r(1759),o=r(9110),s=r(815),l=r(3659),c=r(8462),u=n.RangeError,d=n.Int8Array,p=d&&d.prototype,h=p&&p.set,f=a.aTypedArray,g=a.exportTypedArrayMethod,v=!c((function(){var e=new Uint8ClampedArray(2);return i(h,e,{length:1,0:3},1),3!==e[1]})),m=v&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){f(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=l(e);if(v)return i(h,this,r,t);var n=this.length,a=o(r),c=0;if(a+t>n)throw new u("Wrong length");for(;c<a;)this[t+c]=r[c++]}),!v||m)},2663:(e,t,r)=>{"use strict";var n=r(1848),i=r(1992),a=r(8462),o=r(8117),s=r(9070),l=r(1759),c=r(9257),u=r(1466),d=r(9255),p=r(8560),h=l.aTypedArray,f=l.exportTypedArrayMethod,g=n.Uint16Array,v=g&&i(g.prototype.sort),m=!(!v||a((function(){v(new g(2),null)}))&&a((function(){v(new g(2),{})}))),y=!!v&&!a((function(){if(d)return d<74;if(c)return c<67;if(u)return!0;if(p)return p<602;var e,t,r=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(v(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));f("sort",(function(e){return void 0!==e&&o(e),y?v(this,e):s(h(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!y||m)},8348:(e,t,r)=>{"use strict";var n=r(459),i=r(1759),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;o("toReversed",(function(){return n(a(this),s(this))}))},3457:(e,t,r)=>{"use strict";var n=r(1759),i=r(3062),a=r(8117),o=r(2239),s=n.aTypedArray,l=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,u=i(n.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&a(e);var t=s(this),r=o(l(t),t);return u(r,e)}))},6939:(e,t,r)=>{"use strict";var n=r(1403),i=r(1759),a=r(4107),o=r(6521),s=r(3442),l=i.aTypedArray,c=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=l(this),i=o(e),u=a(r)?s(t):+t;return n(r,c(r),i,u)}}.with,!d)},5388:(e,t,r)=>{"use strict";r(4240)},1034:(e,t,r)=>{"use strict";r(3509)},5601:(e,t,r)=>{"use strict";r(7119)},5794:(e,t,r)=>{"use strict";var n=r(4395),i=r(4744),a=r(8462),o=Array.fromAsync;n({target:"Array",stat:!0,forced:!o||a((function(){var e=0;return o.call((function(){return e++,[]}),{length:0}),1!==e}))},{fromAsync:i})},1772:(e,t,r)=>{"use strict";var n=r(4395),i=r(7816),a=r(2890),o=r(3077);n({target:"Array",proto:!0,name:"groupToMap",forced:r(4151)||!i("groupByToMap")},{groupByToMap:o}),a("groupByToMap")},6384:(e,t,r)=>{"use strict";var n=r(4395),i=r(6747),a=r(7816),o=r(2890);n({target:"Array",proto:!0,forced:!a("groupBy")},{groupBy:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("groupBy")},2802:(e,t,r)=>{"use strict";var n=r(4395),i=r(2890),a=r(3077);n({target:"Array",proto:!0,forced:r(4151)},{groupToMap:a}),i("groupToMap")},2985:(e,t,r)=>{"use strict";var n=r(4395),i=r(6747),a=r(2890);n({target:"Array",proto:!0},{group:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("group")},69:(e,t,r)=>{"use strict";r(7855)},6750:(e,t,r)=>{"use strict";r(2665)},6062:(e,t,r)=>{"use strict";r(9772)},3131:(e,t,r)=>{"use strict";r(8135)},4752:(e,t,r)=>{"use strict";var n=r(4395),i=r(1747),a=r(4483),o=r(1384),s=r(1551),l=r(6387),c=r(2179),u=r(4151),d=l("toStringTag"),p=TypeError,h=function(){if(i(this,c),a(this)===c)throw new p("Abstract class AsyncIterator not directly constructable")};h.prototype=c,s(c,d)||o(c,d,"AsyncIterator"),!u&&s(c,"constructor")&&c.constructor!==Object||o(c,"constructor",h),n({global:!0,constructor:!0,forced:u},{AsyncIterator:h})},9435:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(9296),u=r(9462),d=r(4151),p=c((function(e){var t=this;return new e((function(r,n){var o=function(e){t.done=!0,n(e)},s=function(){try{e.resolve(a(i(t.next,t.iterator))).then((function(e){try{a(e).done?(t.done=!0,r(u(void 0,!0))):t.remaining?(t.remaining--,s()):r(u(e.value,!1))}catch(e){o(e)}}),o)}catch(e){o(e)}};s()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:d},{drop:function(e){a(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},2886:(e,t,r)=>{"use strict";var n=r(4395),i=r(7163).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return i(this,e)}})},1139:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(6469),s=r(9693),l=r(8986),c=r(9296),u=r(9462),d=r(7897),p=r(4151),h=c((function(e){var t=this,r=t.iterator,n=t.predicate;return new e((function(a,l){var c=function(e){t.done=!0,l(e)},p=function(e){d(r,c,e,c)},h=function(){try{e.resolve(o(i(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,a(u(void 0,!0));else{var i=r.value;try{var l=n(i,t.counter++),d=function(e){e?a(u(i,!1)):h()};s(l)?e.resolve(l).then(d,p):d(l)}catch(e){p(e)}}}catch(e){c(e)}}),c)}catch(e){c(e)}};h()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:p},{filter:function(e){return o(this),a(e),new h(l(this),{predicate:e})}})},6108:(e,t,r)=>{"use strict";var n=r(4395),i=r(7163).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return i(this,e)}})},3115:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(6469),s=r(9693),l=r(8986),c=r(9296),u=r(9462),d=r(1401),p=r(7897),h=r(4151),f=c((function(e){var t=this,r=t.iterator,n=t.mapper;return new e((function(a,l){var c=function(e){t.done=!0,l(e)},h=function(e){p(r,c,e,c)},f=function(){try{e.resolve(o(i(t.next,r))).then((function(r){try{if(o(r).done)t.done=!0,a(u(void 0,!0));else{var i=r.value;try{var l=n(i,t.counter++),p=function(e){try{t.inner=d(e),g()}catch(e){h(e)}};s(l)?e.resolve(l).then(p,h):p(l)}catch(e){h(e)}}}catch(e){c(e)}}),c)}catch(e){c(e)}},g=function(){var r=t.inner;if(r)try{e.resolve(o(i(r.next,r.iterator))).then((function(e){try{o(e).done?(t.inner=null,f()):a(u(e.value,!1))}catch(e){h(e)}}),h)}catch(e){h(e)}else f()};g()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:h},{flatMap:function(e){return o(this),a(e),new f(l(this),{mapper:e,inner:null})}})},7389:(e,t,r)=>{"use strict";var n=r(4395),i=r(7163).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return i(this,e)}})},4085:(e,t,r)=>{"use strict";var n=r(4395),i=r(3659),a=r(6730),o=r(1401),s=r(2179),l=r(3525);n({target:"AsyncIterator",stat:!0,forced:r(4151)},{from:function(e){var t=o("string"==typeof e?i(e):e);return a(s,t.iterator)?t.iterator:new l(t)}})},2392:(e,t,r)=>{"use strict";var n=r(4395),i=r(7073);n({target:"AsyncIterator",proto:!0,real:!0,forced:r(4151)},{map:i})},2625:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(6469),s=r(9693),l=r(9406),c=r(8986),u=r(7897),d=l("Promise"),p=TypeError;n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){o(this),a(e);var t=c(this),r=t.iterator,n=t.next,l=arguments.length<2,h=l?void 0:arguments[1],f=0;return new d((function(t,a){var c=function(e){u(r,a,e,a)},g=function(){try{d.resolve(o(i(n,r))).then((function(r){try{if(o(r).done)l?a(new p("Reduce of empty iterator with no initial value")):t(h);else{var n=r.value;if(l)l=!1,h=n,g();else try{var i=e(h,n,f),u=function(e){h=e,g()};s(i)?d.resolve(i).then(u,c):u(i)}catch(e){c(e)}}f++}catch(e){a(e)}}),a)}catch(e){a(e)}};g()}))}})},7740:(e,t,r)=>{"use strict";var n=r(4395),i=r(7163).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return i(this,e)}})},4342:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(9296),u=r(9462),d=r(4151),p=c((function(e){var t,r=this,n=r.iterator;if(!r.remaining--){var o=u(void 0,!0);return r.done=!0,void 0!==(t=n.return)?e.resolve(i(t,n,void 0)).then((function(){return o})):o}return e.resolve(i(r.next,n)).then((function(e){return a(e).done?(r.done=!0,u(void 0,!0)):u(e.value,!1)})).then(null,(function(e){throw r.done=!0,e}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:d},{take:function(e){a(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},2767:(e,t,r)=>{"use strict";var n=r(4395),i=r(7163).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return i(this,void 0,[])}})},585:(e,t,r)=>{"use strict";var n=r(4395),i=r(1923),a=r(9406),o=r(8117),s=r(1747),l=r(5953),c=r(8881),u=r(6248),d=r(6387),p=r(2417),h=r(7591),f=a("SuppressedError"),g=ReferenceError,v=d("dispose"),m=d("toStringTag"),y="DisposableStack",b=p.set,_=p.getterFor(y),w="sync-dispose",S="disposed",C=function(e){var t=_(e);if(t.state===S)throw new g(y+" already disposed");return t},k=function(){b(s(this,I),{type:y,state:"pending",stack:[]}),i||(this.disposed=!1)},I=k.prototype;c(I,{dispose:function(){var e=_(this);if(e.state!==S){e.state=S,i||(this.disposed=!0);for(var t,r=e.stack,n=r.length,a=!1;n;){var o=r[--n];r[n]=null;try{o()}catch(e){a?t=new f(e,t):(a=!0,t=e)}}if(e.stack=null,a)throw t}},use:function(e){return h(C(this),e,w),e},adopt:function(e,t){var r=C(this);return o(t),h(r,void 0,w,(function(){t(e)})),e},defer:function(e){var t=C(this);o(e),h(t,void 0,w,e)},move:function(){var e=C(this),t=new k;return _(t).stack=e.stack,e.stack=[],e.state=S,i||(this.disposed=!0),t}}),i&&u(I,"disposed",{configurable:!0,get:function(){return _(this).state===S}}),l(I,v,I.dispose,{name:"dispose"}),l(I,m,y,{nonWritable:!0}),n({global:!0,constructor:!0},{DisposableStack:k})},6508:(e,t,r)=>{"use strict";var n=r(4395),i=r(1848),a=r(1747),o=r(6469),s=r(8173),l=r(4483),c=r(6248),u=r(4676),d=r(8462),p=r(1551),h=r(6387),f=r(7092).IteratorPrototype,g=r(1923),v=r(4151),m="constructor",y="Iterator",b=h("toStringTag"),_=TypeError,w=i[y],S=v||!s(w)||w.prototype!==f||!d((function(){w({})})),C=function(){if(a(this,f),l(this)===f)throw new _("Abstract class Iterator not directly constructable")},k=function(e,t){g?c(f,e,{configurable:!0,get:function(){return t},set:function(t){if(o(this),this===f)throw new _("You can't redefine this property");p(this,e)?this[e]=t:u(this,e,t)}}):f[e]=t};p(f,b)||k(b,y),!S&&p(f,m)&&f[m]!==Object||k(m,C),C.prototype=f,n({global:!0,constructor:!0,forced:S},{Iterator:C})},7255:(e,t,r)=>{"use strict";var n=r(7609),i=r(5953),a=r(3743),o=r(1551),s=r(6387),l=r(7092).IteratorPrototype,c=s("dispose");o(l,c)||i(l,c,(function(){var e=a(this,"return");e&&n(e,this)}))},3086:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(2160),u=r(4151),d=c((function(){for(var e,t=this.iterator,r=this.next;this.remaining;)if(this.remaining--,e=a(i(r,t)),this.done=!!e.done)return;if(e=a(i(r,t)),!(this.done=!!e.done))return e.value}));n({target:"Iterator",proto:!0,real:!0,forced:u},{drop:function(e){a(this);var t=l(s(+e));return new d(o(this),{remaining:t})}})},7439:(e,t,r)=>{"use strict";var n=r(4395),i=r(2201),a=r(8117),o=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{every:function(e){o(this),a(e);var t=s(this),r=0;return!i(t,(function(t,n){if(!e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1408:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(6469),s=r(8986),l=r(2160),c=r(9832),u=r(4151),d=l((function(){for(var e,t,r=this.iterator,n=this.predicate,a=this.next;;){if(e=o(i(a,r)),this.done=!!e.done)return;if(t=e.value,c(r,n,[t,this.counter++],!0))return t}}));n({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return o(this),a(e),new d(s(this),{predicate:e})}})},674:(e,t,r)=>{"use strict";var n=r(4395),i=r(2201),a=r(8117),o=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{find:function(e){o(this),a(e);var t=s(this),r=0;return i(t,(function(t,n){if(e(t,r++))return n(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7471:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(8117),o=r(6469),s=r(8986),l=r(8304),c=r(2160),u=r(9273),d=r(4151),p=c((function(){for(var e,t,r=this.iterator,n=this.mapper;;){if(t=this.inner)try{if(!(e=o(i(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){u(r,"throw",e)}if(e=o(i(this.next,r)),this.done=!!e.done)return;try{this.inner=l(n(e.value,this.counter++),!1)}catch(e){u(r,"throw",e)}}}));n({target:"Iterator",proto:!0,real:!0,forced:d},{flatMap:function(e){return o(this),a(e),new p(s(this),{mapper:e,inner:null})}})},9397:(e,t,r)=>{"use strict";var n=r(4395),i=r(2201),a=r(8117),o=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){o(this),a(e);var t=s(this),r=0;i(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},2426:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(3659),o=r(6730),s=r(7092).IteratorPrototype,l=r(2160),c=r(8304),u=r(4151),d=l((function(){return i(this.next,this.iterator)}),!0);n({target:"Iterator",stat:!0,forced:u},{from:function(e){var t=c("string"==typeof e?a(e):e,!0);return o(s,t.iterator)?t.iterator:new d(t)}})},6806:(e,t,r)=>{"use strict";var n=r(4395),i=r(2563);n({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{map:i})},1978:(e,t,r)=>{"use strict";var n=r(4395),i=r(2201),a=r(8117),o=r(6469),s=r(8986),l=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){o(this),a(e);var t=s(this),r=arguments.length<2,n=r?void 0:arguments[1],c=0;if(i(t,(function(t){r?(r=!1,n=t):n=e(n,t,c),c++}),{IS_RECORD:!0}),r)throw new l("Reduce of empty iterator with no initial value");return n}})},8245:(e,t,r)=>{"use strict";var n=r(4395),i=r(2201),a=r(8117),o=r(6469),s=r(8986);n({target:"Iterator",proto:!0,real:!0},{some:function(e){o(this),a(e);var t=s(this),r=0;return i(t,(function(t,n){if(e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7331:(e,t,r)=>{"use strict";var n=r(4395),i=r(7609),a=r(6469),o=r(8986),s=r(8428),l=r(3657),c=r(2160),u=r(9273),d=r(4151),p=c((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,u(e,"normal",void 0);var t=a(i(this.next,e));return(this.done=!!t.done)?void 0:t.value}));n({target:"Iterator",proto:!0,real:!0,forced:d},{take:function(e){a(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},6496:(e,t,r)=>{"use strict";var n=r(4395),i=r(6469),a=r(2201),o=r(8986),s=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return a(o(i(this)),s,{that:e,IS_RECORD:!0}),e}})},1166:(e,t,r)=>{"use strict";var n=r(4395),i=r(6469),a=r(147),o=r(3525),s=r(8986);n({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{toAsync:function(){return new o(s(new a(s(i(this)))))}})},2359:(e,t,r)=>{"use strict";r(8140)},7472:(e,t,r)=>{"use strict";r(9983)},7322:(e,t,r)=>{"use strict";r(6276)},6539:(e,t,r)=>{"use strict";r(9297)},8866:(e,t,r)=>{"use strict";r(6816)},9701:(e,t,r)=>{"use strict";r(6756)},5102:(e,t,r)=>{"use strict";r(960)},2373:(e,t,r)=>{"use strict";r(9301)},1853:(e,t,r)=>{"use strict";r(1516)},5030:(e,t,r)=>{"use strict";r(705)},8855:(e,t,r)=>{"use strict";var n=r(4395),i=r(1848),a=r(6730),o=r(4483),s=r(5273),l=r(744),c=r(9543),u=r(1384),d=r(4127),p=r(2519),h=r(9766),f=r(6387),g=r(8462),v=r(4151),m=i.SuppressedError,y=f("toStringTag"),b=Error,_=!!m&&3!==m.length,w=!!m&&g((function(){return 4===new m(1,2,3,{cause:4}).cause})),S=_||w,C=function(e,t,r){var n,i=a(k,this);return s?n=!S||i&&o(this)!==k?s(new b,i?o(this):k):new m:(n=i?this:c(k),u(n,y,"Error")),void 0!==r&&u(n,"message",h(r)),p(n,C,n.stack,1),u(n,"error",e),u(n,"suppressed",t),n};s?s(C,b):l(C,b,{name:!0});var k=C.prototype=S?m.prototype:c(b.prototype,{constructor:d(1,C),message:d(1,""),name:d(1,"SuppressedError")});S&&!v&&(k.constructor=C),n({global:!0,constructor:!0,arity:3,forced:S},{SuppressedError:C})},6845:(e,t,r)=>{"use strict";var n=r(1848),i=r(6220),a=r(615).f,o=r(5983).f,s=n.Symbol;if(i("dispose"),s){var l=o(s,"dispose");l.enumerable&&l.configurable&&l.writable&&a(s,"dispose",{value:l.value,enumerable:!1,configurable:!1,writable:!1})}},1085:(e,t,r)=>{"use strict";r(1825)},7594:(e,t,r)=>{"use strict";r(4774)},1374:(e,t,r)=>{"use strict";r(1519)},8471:(e,t,r)=>{"use strict";r(8348)},2539:(e,t,r)=>{"use strict";r(3457)},9235:(e,t,r)=>{"use strict";var n=r(1759),i=r(9110),a=r(4107),o=r(3663),s=r(3442),l=r(6521),c=r(8462),u=n.aTypedArray,d=n.getTypedArrayConstructor,p=n.exportTypedArrayMethod,h=Math.max,f=Math.min;p("toSpliced",(function(e,t){var r,n,c,p,g,v,m,y=u(this),b=d(y),_=i(y),w=o(e,_),S=arguments.length,C=0;if(0===S)r=n=0;else if(1===S)r=0,n=_-w;else if(n=f(h(l(t),0),_-w),r=S-2){p=new b(r),c=a(p);for(var k=2;k<S;k++)g=arguments[k],p[k-2]=c?s(g):+g}for(m=new b(v=_+r-n);C<w;C++)m[C]=y[C];for(;C<w+r;C++)m[C]=p[C-w];for(;C<v;C++)m[C]=y[C+n-r];return m}),!!c((function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return 2!==t[0]||3!==t[1]})))},7209:(e,t,r)=>{"use strict";r(6939)},4844:(e,t,r)=>{var n=r(5803);n.keys().forEach((e=>{h[e.substr(2)]=n(e)}))},8071:(e,t,r)=>{"use strict";r.r(t);r(1474),r(7311),r(4240),r(7119),r(3509),r(2004),r(8971),r(8140),r(7788),r(5164),r(6406),r(1410),r(7638),r(6303),r(1825),r(2220),r(1519),r(4774),r(1520),r(2663),r(5388),r(5601),r(1034),r(2359),r(1085),r(1374),r(7594),r(8855),r(5794),r(2985),r(6384),r(1772),r(2802),r(69),r(6750),r(6062),r(3131),r(4752),r(9435),r(2886),r(1139),r(6108),r(3115),r(7389),r(4085),r(2392),r(2625),r(7740),r(4342),r(2767),r(585),r(6508),r(7255),r(3086),r(7439),r(1408),r(674),r(7471),r(9397),r(2426),r(6806),r(1978),r(8245),r(7331),r(6496),r(1166),r(7472),r(7322),r(6539),r(8866),r(9701),r(5102),r(2373),r(1853),r(5030),r(6845),r(8471),r(2539),r(9235),r(7209);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r.g.__polyfill_injecting=!0;var e=!1,t=null;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform){if("ios"===r.g.__wxConfig.platform.toLowerCase()){e=!0;var n=r.g.__wxConfig.system||"";t=n.startsWith("iOS ")?n.substr(4):null}}else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var i=navigator.userAgent.toLowerCase();if(i.indexOf("iphone")>=0||i.indexOf("ipad")>=0){e=!0;var a=/iphone os ([\d_]+)/.exec(i);t=a?a[1].replace(/_/g,"."):null}}var o,s=[];e&&(null!==t&&(o=t.split(".")[0],parseInt(o,10)>=16)||(r.g.Promise=void 0),s.push("Promise")),r(9762)({usePolyfill:s,useNative:["WeakMap"]}),r(8071),r(4844),delete r.g.__polyfill_injecting})()})();var f=!1,g=function(e){e()},v,m;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};(()=>{e.d(t,{default:()=>ot});var r={};e.r(r),e.d(r,{convertToErrorObj:()=>Z,emitFrameworkError:()=>ne,emitUnhandledError:()=>ie,emitUnhandledRejection:()=>ee,onFrameworkError:()=>oe,onUnhandledError:()=>se,onUnhandledRejection:()=>ae});var n=e.g.__wxLibrary,i=e.g.__wxConfig,a=n.envType,o=n.contextType,s="Service"===a,c="WebView"===a,d="Worker"===a,h=c||s&&0===o.indexOf("App:"),f=s&&0===o.indexOf("Game:"),g=0===o.indexOf("MagicBrush:"),m=!!i.isIsolateContext,y=m&&s&&o.indexOf("MainContext")>=0,b=m&&s&&o.indexOf("SubContext")>=0,w=b&&o.indexOf("Safe")>=0,S=y||b,I="wxlib"===i.workerContentType,P=c||y||w||I,T=function(e){var t=i.platform;if(!t&&"object"==typeof window&&"string"==typeof(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)){var r=window.navigator.userAgent.toLowerCase();r.indexOf("devtools")>=0?t="devtools":r.indexOf("miniprogramenv/windows")>=0?t="windows":r.indexOf("miniprogramenv/mac")>=0?t="mac":r.indexOf("miniprogramenv/mina")>=0?t="mina":r.indexOf("iphone")>=0||r.indexOf("ipad")>=0?t="ios":r.indexOf("android")>=0&&(t="android")}return(t||"unknown").toLowerCase()}(),A=l,x=void 0===A||"develop"===A.version?"9.9.9":A.version,E=!!n.mayHaveSnapshot,M=(()=>"object"==typeof e.g&&e.g&&e.g.__wkrenderer_h5)();const R={platform:T,SDKVersion:x,isIsolateContext:S,isGame:f,isApp:h,isMainContext:y,isSubContext:b,isSafeEnv:P,isService:s,isWebView:c,isWorker:d,isWidget:!1,typeStr:b?"SubContext":a,fileName:n.fileName,isWXLibWorker:I,workerType:"user",contextName:"",mayHaveSnapShot:E,isWKGame:!!M,isMagicBrushFrameEnv:g};var D=()=>{},O="devtools"===R.platform;"undefined"!=typeof performance&&performance.now;function L(e,t=(()=>D)){return e.reduce(((e,r)=>(e[r]=t(r),e)),{})}function N(){var t=v||e.g.__wxConfig;if(t&&"debug"in t&&void 0!==t.debug)return!!t.debug}var B=()=>{},$=["log","info","warn","error","debug"];const j=L($);var W=["log","info","warn","error","profile","profileSync","traceBegin","traceEnd"],V=(()=>{var e=L(W);return e})();const U=V;var z=Symbol("error"),q=Symbol("slow");class H{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(z,e),this}onSlow(e){return this.onInternalEvent(q,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var i,a=!1;for(var o of n){if(0!==o.count)try{var s=Date.now();i=o.cb(...r);var l=Date.now();l-s>H.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(q,e,s,l,o.cb)}catch(t){if(!this.emitPrivate(z,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(a=!0),!1===i&&t.cancelable)break}return a&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var i={count:r,cb:t},a=this.$[e];return a?n.prepend?a.unshift(i):a.push(i):this.$[e]=[i],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}H.SLOW_CALLBACK_THRESHOLD=50;var G=new H,K="unhandlederror",J="unhandledrejection",X="frameworkerror",Y=new WeakMap;var Q=Object.prototype.hasOwnProperty;function Z(e){var t;if(e&&"Object"===(null===(t=e.constructor)||void 0===t?void 0:t.name)&&"string"==typeof e.message&&"string"==typeof e.stack){var r=new Error(e.message);return Object.assign(r,e),r}return e}function ee(e,t){e=Z(e),Ve.onLoad((()=>{G.emit(J,{reason:e,promise:t})||console.error("Uncaught (in promise)",e)}))}var te=!1,re=!1;function ne(e,t){if(e instanceof Error&&t&&(e.message=`${t} fail: ${e.message}`),e=Z(e),v.isSnapshoting)throw e;Ve.onLoad((()=>{if(te)console.error("[ErrorHandler] recursive framework error detected.",e);else{te=!0;try{G.emit(X,e)||ie(e)}catch(e){console.error("Framework",e)}te=!1}}))}function ie(e){if(e=Z(e),v.isSnapshoting)throw e;Ve.onLoad((()=>{if(re)console.error("[ErrorHandler] recursive uncaught error detected.",e);else{re=!0;try{G.emit(K,e)||("windows"!==v.platform&&"mac"!==v.platform||"undefined"==typeof WORKER_RUNTIME||!WORKER_RUNTIME||4!==v.appType)&&console.error("Uncaught",e)}catch(e){console.error("Uncaught",e)}re=!1}}))}function ae(e){G.on(J,e)}function oe(e){G.on(X,e)}function se(e){G.on(K,e)}!function(e){"object"==typeof e&&"function"==typeof e.addEventListener&&"ios"!==R.platform?(e.addEventListener("unhandledrejection",(e=>{ee(e.reason,e.promise),e.reason&&e.preventDefault()})),e.addEventListener("error",(t=>{var r,n;ie(t.error||{message:t.message,stack:`${t.message}\nEmpty stack, maybe muted error. (xweb=${(null===(r=e.navigator)||void 0===r||null===(n=r.userAgent)||void 0===n?void 0:n.toUpperCase().indexOf("XWEB"))>=0})`}),t.error&&t.preventDefault()}))):void 0===e.onunhandledrejection&&Object.defineProperty(e,"onunhandledrejection",{value(e={}){var t,r;Q.call(e,"type")?(t={type:e.type,reason:e.reason,promise:e.promise},(r=t.promise)&&(Y.has(r)||setTimeout((()=>{var e=Y.get(r);0===(null==e?void 0:e.type)&&ee(e.reason,e.promise),Y.delete(r)}),0),Y.set(r,t))):ee(e.reason,e.promise)}})}(e.g);var le,ce=JSON.parse,ue=JSON.stringify,de=9782784e5;function pe(e){return ce(ue(e))}function he(e){e.platform=R.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),e.sdkVersion=e.SDKVersion=R.SDKVersion,e.isReady=!1,e.onReady=Ve.onStart}function fe(e){var t;he(e),R.isSubContext||(e.preload=!0===e.preload),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio);var r=null===(t=l.debugOptions)||void 0===t?void 0:t.overwriteExpt;e.expt=r?Object.assign(e.expt||{},r):e.expt||{}}function ge(e){if(fe(e),e.isReady=!0,e.appLaunchInfo=e.appLaunchInfo||{},e.preloadType=e.preloadType||e.appLaunchInfo.preloadType||e.preload,"ios"===e.platform){var t=function(e){if(!e)return 0;var t=(new Date).getTimezoneOffset()/60;return e+de-3600*t*1e3}(e.appLaunchInfo.clickTimestampInMs),r=Number.MAX_SAFE_INTEGER,n=e.instanceId;if(n)try{var i=n.split("&").filter((e=>0===e.indexOf("ts=")));i.length>0&&(r=parseInt(i[0].slice(3),10))}catch(e){ne(e,"parseInstanceId")}e.coldLaunchTime=Math.min(t,r)}else e.coldLaunchTime=e.appLaunchInfo.clickTimestamp||0}var ve=!(null===(le=l.features)||void 0===le||!le.pruneWxConfigByPage),me=Object.defineProperty,ye=["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"];function be(e,t,r,n){me(e,r,{configurable:!0,enumerable:!0,get(){if(r in t)return t[r];try{return"function"!=typeof n?n:n()}catch(e){return void ne(e,`read mock wxConfig.${r}`)}},set(e){t[r]=e}})}var _e=Array.isArray,we=Reflect.set,Se=Reflect.get;var Ce=R.isSafeEnv,ke=Object.create(null),Ie=R.isService?function(e){return new Proxy(e,{set(e,t,r,n){if("__siblings__"===t)return we(e,t,r,n);var i=Se(e,"__siblings__",n);if(_e(i)){i.length>1&&j.log(`[WXConfig] write __wxConfig.${t.toString()}, sync to all contexts.`);for(var a=0;a<i.length;a++){var o=i[a];we(o,t,r)}return!0}return we(e,t,r,n)}})}(ke):ke,Pe=e=>{},Te="wxConfig:updatePage";function Ae(t,r=!1){return Pe(!1),ke.currentPhase="onStart",void 0===t||(r?(Object.assign(ke,t),Object.defineProperty(ke,"__siblings__",{value:t.__siblings__,enumerable:!1,writable:!1,configurable:!1})):(Object.assign(ke,Ce?t:pe(t)),ge(ke),function(t,r){var n;Array.isArray(null==t||null===(n=t.tabBar)||void 0===n?void 0:n.list)&&t.tabBar.list.forEach((e=>{delete e.iconData,delete e.selectedIconData})),delete t.permission;var i=t.subPackages||t.subpackages;Array.isArray(i)&&i.length>0&&(i.forEach((e=>{delete e.pages})),t.subPackages=t.subpackages=i),"devtools"===t.platform&&(t.__globalComponentsCount=Object.keys(t.usingComponents||{}).length),ve&&(R.isSubContext||(delete t.usingComponents,Object.values(t.page||{}).forEach((e=>{null!=e&&e.window&&delete e.window.usingComponents})),t._preloadRule=t.preloadRule||{},t._page=t.page||{},delete t.preloadRule,delete t.page),t.updatePage=function(e,t){null!=t&&t.window&&delete t.window.usingComponents,r(e,t)},t.updatePreloadRule=function(e,r){t.preloadRule=t.preloadRule||{},t.preloadRule[e]=r}),e.g.__wxConfig.page=e.g.__wxConfig.page||{},t.page=t.page||{}}(ke,((e,t)=>{Ve.emit(Te,{key:e,value:t})})),Object.defineProperty(ke,"__siblings__",{value:[],enumerable:!1,writable:!1,configurable:!1})),Array.isArray(ke.__siblings__)&&ke.__siblings__.push(ke),ke.onPageUpdate((({key:e,value:t})=>{ke.page=ke.page||{},ke.page[e]=ke.page[e+".html"]=t,n&&(n[e+".html"]=pe(t))})),Ce||(n=function(){var t=e.g.__wxConfig,r={},n={},i=ve?{}:t.page||{};try{be(n,r,"deprecated",!0),ye.forEach((e=>{if(e in t){var a=t[e];switch(e){case"page":be(n,r,e,i);break;case"env":be(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:a.USER_DATA_PATH})));break;case"accountInfo":be(n,r,e,{appId:a.appId,icon:a.icon,nickname:a.nickname});break;case"appLaunchInfo":be(n,r,e,(()=>(console.warn("[Deprecation] __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),F&&"function"==typeof F.getLaunchOptionsSync?F.getLaunchOptionsSync():{})));break;case"wxAppInfo":be(n,r,e,{maxRequestConcurrent:a.maxRequestConcurrent,maxUploadConcurrent:a.maxUploadConcurrent,maxDownloadConcurrent:a.maxDownloadConcurrent,maxWorkerConcurrent:a.maxWorkerConcurrent,maxWebsocketConnect:a.maxWebsocketConnect});break;default:be(n,r,e,a)}}})),e.g.__wxConfig=n}catch(r){ne(r,"mockGloablWxConfig"),e.g.__wxConfig=t}return i}())),Ie;var n}var xe=new H,Ee=new H,Me={},Re="WeixinJSBridgeReady",De="libraryEnd",Oe="load",Le="postLoad",Ne="start",Be="postStart";function $e(e,t){var r=void 0!==C,n=()=>{try{r&&C.traceBegin("Framework",`LibLifeCycle.${e} @ ${R.fileName}`),t(Me[e])}catch(t){ne(t,"LifeCycle."+e)}finally{r&&C.traceEnd()}};e in Me?n():Ee.once(e,n)}function Fe(e,t){var r,n;if(e in Me)return!1;Me[e]=t,null===(r=_)||void 0===r||r.info(`[LifeCycle] emit ${e} for ${R.fileName}`);var i=Ee.emit(e,t);return null===(n=_)||void 0===n||n.info(`[LifeCycle] finish ${e} for ${R.fileName}`),i}var je,We=e=>{R.mayHaveSnapShot?$e(Oe,e):e()},Ve={EventEmitter:H,on:xe.on.bind(xe),emit:xe.emit.bind(xe),once:xe.once.bind(xe),off:xe.off.bind(xe),getIsLoaded:()=>Oe in Me,getIsStarted:()=>Ne in Me,onBridgeReady(e){$e(Re,e)},setWeixinJSBridge(e){Fe(Re,e)},onLibraryEnd:$e.bind(null,De),onCreate(e){e()},onLoadInstant:We,onLoad:We,_onPostLoad:$e.bind(null,Le),onStart:$e.bind(null,Ne),onPostStart:$e.bind(null,Be)};Ee.onError(((e,t)=>{j.error(`[LifeCycle/${R.typeStr}] ${e.toString()} failed: `,t),ne(t,"LifeCycle."+e.toString())})).onSlow(((e,t,r,n)=>{U.warn(`[LifeCycle/${R.typeStr}] slow ${e.toString()} callback (${r-t}ms)\n${n+""}`)})),e.g.__wxLibrary.onEnd=function(){Fe(De),R.mayHaveSnapShot||qe()},je=e.g.__wxConfig,ke.currentPhase="onCreate",void 0===je||(Pe(!1),Object.assign(ke,Ce?je:pe(je)),he(ke),Pe(!0));var Ue=!1,ze=!1;function qe(){Ue||ze?ne(new Error(`LifeCycle error: undesired onLoad(${Ue}/${ze})`)):(Ue=!0,v=function(e){return ke.currentPhase="onLoad",void 0===e||(Pe(!1),Object.assign(ke,Ce?e:pe(e)),ke.onPageUpdate=Ve.on.bind(null,Te),fe(ke),Pe(!0)),Ie}(e.g.__wxConfig),Fe(Oe,v),R.isSubContext?v.__readyHandler=e=>{He(e,!0)}:!0===v.preload?Ve.onBridgeReady((t=>{t.on("onWxConfigReady",(()=>{He(e.g.__wxConfig)}))})):Ve.onLibraryEnd((()=>{He(e.g.__wxConfig)})),Fe(Le,v))}function He(e,t=!1){if(Ue&&!ze){ze=!0;var r=Date.now();"onReadyStart"in(v=Ae(e,t))||(v.onReadyStart=r),Fe(Ne,v),v.onReadyEnd=Date.now(),Fe(Be,v)}else ne(new Error(`LifeCycle error: undesired onStart(${Ue}/${ze})`))}(v=Ie).isSnapshoting?(R.mayHaveSnapShot,e.g.WeixinSnapshot={snapshotContextReady(){delete e.g.WeixinSnapshot,v.isSnapshoting=!1,qe()}}):R.mayHaveSnapShot&&Ve.onLibraryEnd(qe);class Ge{constructor(e,t,r){this.num=e,this.type=t,this.bindingFn=void 0,this.bindingFn="function"==typeof r?r:B}}var Ke={ALL:new Ge(Number.MIN_VALUE,"ALL"),DEBUG:new Ge(5e3,"DEBUG",console.debug),LOG:new Ge(1e4,"LOG",console.log),INFO:new Ge(2e4,"INFO",console.info),WARN:new Ge(3e4,"WARN",console.warn),ERROR:new Ge(4e4,"ERROR",console.error),OFF:new Ge(Number.MAX_VALUE,"OFF")},Je=(e,t)=>({debug:e(Ke.DEBUG,t),log:e(Ke.LOG,t),info:e(Ke.INFO,t),warn:e(Ke.WARN,t),error:e(Ke.ERROR,t)}),Xe=Ke.INFO,Ye=(()=>{if(R.isWorker||R.isWidget||R.isMagicBrushFrameEnv){return Object.assign({createLogger:function(){return j}},j)}return R.isSubContext&&R.isIsolateContext?(e=[],t=(t,r)=>(...n)=>{e.push({level:t,logs:n,category:r})},r=()=>{setTimeout((()=>{var t=_.__isFromMainContext?_.__mergeSubContextLogs:null;t?(t(e),e=[]):r()}),1e3)},Ve.onStart(r),{...Je(t),createLogger:e=>Je(t,"string"==typeof e?e:"default"),__isFromMainContext:!1}):(()=>{var e=R.platform,t="android"!==e,r=[],n=function(t){var r=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2),i=("0"+t.getHours()).slice(-2),a=("0"+t.getMinutes()).slice(-2),o=("0"+t.getSeconds()).slice(-2),s=("00"+t.getMilliseconds()).slice(-3),l=t.getFullYear()+"-"+r+"-"+n,c=i+":"+a+":"+o+"."+s;return"ios"===e?l+" "+c+"000"+(t.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):l+" "+(t.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+c},i=function(t){"android"!==e?k.invoke("systemLog",{dataArray:t.map((e=>({message:`\n${n(e.date)} [${e.level.type[0].toUpperCase()}][wxapplib]] ${e.content}`}))),noCallback:!0}):t.forEach((e=>{e.level.bindingFn("[wxapplib]] "+e.content)}))},a=e=>{if(e instanceof Error)return`${e.message}\n${e.stack}`;if(e&&"string"==typeof e.stack&&"string"==typeof e.message)return`${e.message}\n${e.stack}`;switch(typeof e){case"bigint":case"boolean":case"function":case"number":case"symbol":return e.toString();case"string":return e;case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}},o=function(e,n){return function(...o){var s;if(n&&Array.prototype.unshift.call(o,"["+n+"]"),(N()||e.num>=Ke.WARN.num)&&(null===(s=j[e.type.toLowerCase()])||void 0===s||s.call(j,...o)),e.num>=Xe.num){var l=Array.prototype.slice.call(o).map(a).join(" ");if(t){var c=new Date;r&&r.length>1024&&r.shift(),r.push({date:c,level:e,content:l})}else i([{level:e,content:l}])}}};return Ve.onStart((()=>{setTimeout((function e(){setTimeout(e,4e3),0!==r.length&&(i(r),r=[])}),4e3)})),{...Je(o),createLogger:function(e){return Je(o,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:r,category:n}=e;o(t,n)(...r)}))},__isFromMainContext:!0}})();var e,t,r})();Ve.onLoad((()=>{Ye.info(`[BaseLibVersion] ${R.fileName}: ${l.version} (${l.updateTime})}`)}));const Qe=Ye;const Ze=L(["log","info","warn","error"],(e=>function(...t){(O||N())&&console[e]("[system]",...t)}));var et;function tt(){return et||("undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?NativeGlobal.WebAssembly:void 0!==globalThis.WebAssembly?globalThis.WebAssembly:void 0)}Ve.onLoad((()=>{et=tt()}));var rt=Object.create(null);Object.defineProperty(rt,"WebAssembly",{enumerable:!0,get:tt});const nt=rt;var it=e.g,at={env:R,global:it,get isConfigReady(){return Ve.getIsStarted()},get isStarted(){return Ve.getIsStarted()},get isLoaded(){return Ve.getIsLoaded()},...Ve,...r,wxConsole:j,wxPerfConsole:U,wxNativeConsole:Qe,libConsole:Ze,libGlobal:nt,globalShare:{},callbackReporter:{}};void 0!==u&&(p=function(){return"return this"===arguments[arguments.length-1]?function(){return it}:new u(...arguments)},p.prototype=u.prototype);const ot=at})(),m=t.default})();var y=m.wxConsole,b=m.wxPerfConsole,_=m.wxNativeConsole,w=m.libConsole,S=m.libGlobal,C,k,I,P,T,A,x,E,M;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};(()=>{e.d(t,{default:()=>n});var r={traceBegin(){},traceEnd(){},traceInstant(){}};m.onLoad((()=>{"undefined"!=typeof TraceGlobal?(r.traceBegin=TraceGlobal.traceBegin,r.traceEnd=TraceGlobal.traceEnd,r.traceInstant=TraceGlobal.traceInstant):_.warn("[Trace] TraceGlobal not found")}));const n=r})(),C=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>ye});class r{constructor(){this.value=void 0,this.pending=[]}ready(e){"function"==typeof e&&(void 0===this.value?this.pending.push(e):e(this.value))}hasValue(){return void 0!==this.value}done(e){this.value=e,this.pending.forEach((t=>{t(e)})),this.pending=[]}}class n{constructor(e=1){this.id=e,this.$={}}add(e){var t=this.id++;return this.$[t]="function"==typeof e?e:1,t}has(e){return"function"==typeof this.$[e]}callAndRemove(e,t){if(e in this.$){var r=this.$[e];delete this.$[e],"function"==typeof r&&r(t,e)}}}class i{constructor(){this.$={}}set(e,t){this.$[e]=t}emit(e,...t){var r=this.$[e];if("function"==typeof r)r(...t);else if(Math.random()<.01){var n="";try{n=JSON.stringify(t[0]||{}).replace(/,/g,";")}catch(e){n=e.message}k.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-3: "+e+" "+n,m.env.SDKVersion,v.appType].join(",")}],noCallback:!0})}}}class a{constructor(e){this.onNewEvent=e,this.$={},this.$e=new m.EventEmitter,this.knownEvents=new Set}emitNewEvent(e){this.knownEvents.has(e)||(this.knownEvents.add(e),this.onNewEvent(e,this))}add(e,t,r){this.emitNewEvent(e),this.$e.on(e,t,r)}remove(e,t){this.$e.off(e,t)}setSingle(e,t){this.emitNewEvent(e),this.$[e]=t}emit(e,...t){var r=this.$[e];"function"==typeof r&&r(...t),this.$e.emit(e,...t)}emitCancelable(e,...t){this.$e.emitCancelable(e,...t)}}var o=!1,s=!1,l=!1,c=!1,u=!1,d=!1,h=!1,f=.01,g=!1,y=!1,b=!1,w=new Map,S={},C={},P={};function T(e,t,r){var n;m.env.isService?n=1:m.env.isWebView?n=2:m.env.isWorker&&(n=3);var i=[m.env.SDKVersion,v.appType,1,n,0,e,t.replace(/,/g,";"),r,o?2:1].join(",");k.invoke("reportKeyValue",{dataArray:[{key:32334,value:i}],noCallback:!0})}function A(){if(!s&&(m.env.isService||m.env.isWebView||m.env.isWorker)&&(s=!0,g=Math.random()<f)){var e=e=>{var t=Object.values(S).map((t=>{var r=t.name,{count:n,totalJsHandleCost:i,totalClientToJsCost:a,syncReturn:o}=S[r],s=+(i/n).toFixed(2),l=+(a/n).toFixed(2);if(e){var c=e[r];return{n:r,c:n,t:l,j:s,s:o?1:0,i:null==c?void 0:c[0],a:null==c?void 0:c[1]}}return{n:r,c:n,t:l,j:s,s:o?1:0}}));return S={},JSON.stringify(t)};setTimeout((()=>{"android"===v.platform&&(m.env.isService||m.env.isWebView)?k.invoke("getInvokeCost",{},(t=>{var r=t.data||{};T(1,e(r),1e4)})):T(1,e(),1e4)}),1e4),setTimeout((()=>{(u=!0,w.clear(),"android"===v.platform)?(k.invoke("getInvokeCost",{},(t=>{var r=t.data||{};T(1,e(r),2e4)})),k.invoke("stopCollectInvokeCost",{noCallback:!0})):T(1,e(),2e4)}),2e4)}}function x(){if(!l&&(m.env.isService||m.env.isWebView||m.env.isWorker)&&(l=!0,b=Math.random()<f)){var e=()=>{var e=Object.values(C).map((e=>{var t=e.name,{count:r,totalJsHandleCost:n,totalClientToJsCost:i}=C[t],a=+(n/r).toFixed(2);return{n:t,c:r,t:+(i/r).toFixed(2),j:a}}));return C={},JSON.stringify(e)};setTimeout((()=>{T(3,e(),1e4)}),1e4),setTimeout((()=>{d=!0,T(3,e(),2e4)}),2e4)}}function E(){if(!c&&(m.env.isService||m.env.isWebView||m.env.isWorker)&&(c=!0,y=Math.random()<f)){var e=()=>{var e=Object.values(P).map((e=>{var t=e.name,{count:r,totalJsHandleCost:n,totalClientToJsCost:i}=P[t],a=+(n/r).toFixed(2);return{n:t,c:r,t:+(i/r).toFixed(2),j:a}}));return P={},JSON.stringify(e)};setTimeout((()=>{T(2,e(),1e4)}),1e4),setTimeout((()=>{h=!0,T(2,e(),2e4)}),2e4)}}function M(e,t,r,n){if(g&&!u&&(m.env.isService||m.env.isWebView||m.env.isWorker)){var i=Date.now(),a=0;return null!=n&&n.nativeTime&&(a=i-n.nativeTime),r||(r=w.get(e),w.delete(e)),{jsapiName:r,jsHandleBegin:i,clientToJsCost:a}}}function R(e,t,r,n=!1,i){if(g&&!u&&(m.env.isService||m.env.isWebView||m.env.isWorker)){var a=Date.now()-t;if(S[e]?(S[e].count++,S[e].totalJsHandleCost+=a,S[e].totalClientToJsCost+=r):S[e]={count:1,totalJsHandleCost:a,totalClientToJsCost:r,syncReturn:n,name:e},!e&&Math.random()<.01){var o="";try{o=JSON.stringify(i).replace(/,/g,";")}catch(e){o=e.message}k.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-1: "+o,m.env.SDKVersion,v.appType].join(",")}],noCallback:!0})}}}function D(e,t){if(b){var r=0,n=0;return!d&&(m.env.isService||m.env.isWebView||m.env.isWorker)&&(r=Date.now(),null!=t&&t.nativeTime&&(n=r-t.nativeTime)),{jsHandleBegin:r,clientToJsCost:n}}}function O(e,t){if(b&&!d&&(m.env.isService||m.env.isWebView||m.env.isWorker)){var r=Date.now()-t.jsHandleBegin;C[e]?(C[e].count++,C[e].totalJsHandleCost+=r,C[e].totalClientToJsCost+=t.clientToJsCost):C[e]={count:1,totalJsHandleCost:r,totalClientToJsCost:t.clientToJsCost,syncReturn:void 0,name:e}}}function L(e,t){if(y){var r=0,n=0;return!h&&(m.env.isService||m.env.isWebView||m.env.isWorker)&&(r=Date.now(),null!=t&&t.nativeTime&&(n=r-t.nativeTime)),{jsHandleBegin:r,clientToJsCost:n}}}function N(e,t,r){if(y&&!h&&(m.env.isService||m.env.isWebView||m.env.isWorker)){var n=Date.now()-t.jsHandleBegin;if("onAppEnterBackground"===e&&(o=!0),P[e]?(P[e].count++,P[e].totalJsHandleCost+=n,P[e].totalClientToJsCost+=t.clientToJsCost):P[e]={count:1,totalJsHandleCost:n,totalClientToJsCost:t.clientToJsCost,syncReturn:void 0,name:e},!e&&Math.random()<.01){var i="";try{i=JSON.stringify(r).replace(/,/g,";")}catch(e){i=e.message}k.invoke("reportKeyValue",{dataArray:[{key:16624,value:["WrongCallback-2: "+i,m.env.SDKVersion,v.appType].join(",")}],noCallback:!0})}}}var B=()=>u,$=()=>{var e,t=!1;"android"===v.platform?t="1"===(null===(e=v)||void 0===e?void 0:e.expt.clicfg_appbrand_android_jsapi_nocallback):"ios"===v.platform&&(t=!0);return t};m.callbackReporter={initJsapiCallbackReport:A,initEventCallbackReport:E,jsapiCallbackBegin:M,jsapiCallbackEnd:R,eventCallbackBegin:L,eventCallbackEnd:N};var F=()=>{},j=JSON.parse,W=JSON.stringify,V="custom_event_",U=0,z=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function q(t){var r=function(){var t=e.g.webkit;return delete e.g.webkit,t}(),a=function(){var t=e.g.WeixinJSCore;return"object"==typeof t&&"function"!=typeof t.publishHandler&&(t.publishHandler=F),m.env.isWorker&&"function"==typeof e.g.workerInvokeJsApi&&(t={invokeHandler:e.g.workerInvokeJsApi,publishHandler:F,invokeThirdHandler:F},U=1<<25),e.g.WeixinJSCore={invokeHandler:F,publishHandler:F,setTimerHandler:F,clearTimerHandler:F,readLibSync:F,readLibXWebScriptSync:F},t}(),o=new n(U),s=new i,l=new i;function c(e,t,r){if(void 0!==e&&o.has(t)&&""!==e&&null!==e){if(A(),"string"==typeof e)try{e=j(e),e=I.unpack(e)}catch(t){e={}}var n=M(t,0,void 0,r);o.callAndRemove(t,e),n&&R(n.jsapiName,n.jsHandleBegin,n.clientToJsCost,!0,e)}}var u={},d={},p=0;function h(e,t,r){var n,i=++p;u[i]=r;try{n=a.invokeThirdHandler(e,t,i)}catch(e){console.error("Third SDK Error: unexpected error:",e)}if(void 0!==n&&"function"==typeof u[i]&&""!==n&&null!==n){if("string"==typeof n)try{n=j(n)}catch(e){n={}}var o=u[i];delete u[i],"function"==typeof o&&o(n)}}var f=function(e,t){d[e]=t},g=(e,t)=>{var r=d[e];r&&r(t)},y=(e,t)=>{var r=u[e];delete u[e],"function"==typeof r&&r(t)};function b(e,n,i,o={}){if(a){var s,l,u;if("splashad"===m.env.workerType||v.supportInvokeWithAppId)s=null===(l=a.invokeHandler)||void 0===l?void 0:l.call(a,e,n,i,o);else s=null===(u=a.invokeHandler)||void 0===u?void 0:u.call(a,e,n,i);c(s,i,void 0)}else{var d={event:e,paramsString:n,callbackId:i,privateArgs:W(o)};if(t.isWebMiniGame){c(prompt("webgame_invoke",W(d)),i,void 0)}else{var p=null==r?void 0:r.messageHandlers.invokeHandler.postMessage(d);null!=p&&p.catch&&p.catch((t=>{var r=console.error.bind(console);r("webkit.messageHandlers.invokeHandler.postMessage fail"),r(`event=${e}`),r("params=",n),r("err=",t),r("err.code=",t.code),r("err.message=",t.message),r("err.name=",t.name)}))}}}return{invoke(e,r,n,i={}){var a,s,l=r;i.keepOriginalParams||t.directInvokeJS||(i.notPack?delete i.notPack:r=I.pack(r),("ios"!==v.platform||z||"1"!==(null===(s=v)||void 0===s?void 0:s.expt.clicfg_appbrand_ios_use_jsapi_args_binding))&&(l=W(r||{})));if(delete i.keepOriginalParams,null!==(a=r)&&void 0!==a&&a.noCallback&&$())return b(e,l,0,i),0;var c=o.add(n);return B()||w.set(c,e),i.highPerformance&&(i.highPerformance[c]=r,delete i.highPerformance),b(e,l,c,i),c},on(e,t){s.set(e,t)},subscribe(e,t){l.set(V+e,t)},publish(e,n,i){e=V+e;var o=i,s=n;t.directInvokeJS||(s=W(n),o=W(i)),function(e,t,n){if(a){var i;null===(i=a.publishHandler)||void 0===i||i.call(a,e,t,n)}else{var o=null==r?void 0:r.messageHandlers.publishHandler.postMessage({event:e,paramsString:t,webviewIds:n});null!=o&&o.catch&&o.catch((r=>{var n=console.error.bind(console);n("webkit.messageHandlers.publishHandler.postMessage fail"),n(`event=${e}`),n("params=",t),n("err=",r),n("err.code=",r.code),n("err.message=",r.message),n("err.name=",r.name)}))}}(e,s,o)},invokeCallbackHandler:function(e,t,r){A();var n=M(e,0,void 0,r);t=I.unpack(t),o.callAndRemove(e,t),n&&R(n.jsapiName,n.jsHandleBegin,n.clientToJsCost,!1,t)},subscribeHandler:function(e,t,r,n){if(-1!==e.indexOf(V)){x();var i=D(0,n);t=I.unpack(t),l.emit(e,t,r,n||{}),(null==i?void 0:i.jsHandleBegin)&&O(e,i)}else{E();var a=L(0,n);t=I.unpack(t),s.emit(e,t,r,n||{}),(null==a?void 0:a.jsHandleBegin)&&N(e,a,t)}},get invokeThird(){return h},get onThird(){return f},get subscribeThirdHandler(){return g},get invokeThirdCallbackHandler(){return y},readLibSync:e=>{if(a.readLibSync)return a.readLibSync(e);throw new Error("readLibSync not exist")},readLibXWebScriptSync:e=>a.readLibXWebScriptSync(e)}}var H=!0,G={},K={},J=new Set(["getSystemInfo","getNetworkType","isGameRecorderSupported","getDeviceInfo"]);m.onPostStart((()=>{H=!1,G={},K={}}));var X=new Set(["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll"]);"function"==typeof logxx&&logxx("jsbridge start");var Y=null;var Q=new r,Z=Q.ready.bind(Q),ee=new a(((e,t)=>{X.has(e)?Z((r=>{r.on(e,t.emitCancelable.bind(t,e))})):Z((r=>{r.on(e,t.emit.bind(t,e))}))})),te=()=>{},re=[],ne={on(e,t){X.has(e)?ee.add(e,t):ee.setSingle(e,t)},addEventListener(e,t,r){ee.add(e,t,r)},removeEventListener(e,t){ee.remove(e,t)},invoke(e,t,r,n={}){var i=!0,a=!1,o=[],s=e=>{for(var t of(a||(i=!1),o))t(e,i);null==r||r(e)};if(Y){var l=e=>{o.push(e)};for(var c of re){var u=c(e,t,l);if(u)return u instanceof Promise?(u.then((e=>{s(e)})),!0):(s(u),!1)}Y.invoke(e,t,s,n)}else console.error(`[jsbridge] invoke ${e} fail: jsbridge not ready.`,new Error("jsbridge not ready").stack),s({errMsg:`${e}:fail jsbridge not ready`,errno:4});return a=!0,i},pureInvoke:(e,t,r,n={})=>Y.invoke(e,t,r,n),get invokeCallbackHandler(){var e;return null===(e=Y)||void 0===e?void 0:e.invokeCallbackHandler},get subscribeHandler(){var e;return null===(e=Y)||void 0===e?void 0:e.subscribeHandler},publish:te,subscribe:te,addSubscribeListener:te,removeSubscribeListener:te,addInvokeInterceptor(e){return re.push(e),this},get invokeThird(){var e;return null===(e=Y)||void 0===e?void 0:e.invokeThird},get onThird(){var e;return null===(e=Y)||void 0===e?void 0:e.onThird},get invokeThirdCallbackHandler(){return null},get subscribeThirdHandler(){return null},get readLibSync(){var e;return null===(e=Y)||void 0===e?void 0:e.readLibSync},get readLibXWebScriptSync(){return Y.readLibXWebScriptSync}};m.onLoad((()=>{!function(t){if(!("devtools"===m.env.platform&&!m.env.isWorker||e.g.useGlobalJSBridge||e.g.OSUseGlobalJSBridge)){if(m.env.isMagicBrushFrameEnv){var r,n=(null===(r=e.g.mb)||void 0===r?void 0:r.JSBridge)||e.g.JSBridge,i=n.invoke,a=Object.assign({},n,{invoke:function(...e){var t=i.apply(n,e),r=e[1];if(t&&Object.prototype.hasOwnProperty.call(t,"errCode")&&r){var a=t.errno||t.errCode,{success:o,fail:s,complete:l}=r;a?("function"==typeof s&&s(t),"function"==typeof l&&l(t)):("function"==typeof o&&o(t),"function"==typeof l&&l(t))}return t}});return e.g.WeixinJSBridge=a,t(a,!1)}var o=q({directInvokeJS:!!v.wmpfDirectInvokeJs,isWebMiniGame:!!v.isWK}),s={get invokeCallbackHandler(){return o.invokeCallbackHandler},get subscribeHandler(){return o.subscribeHandler},get subscribeThirdHandler(){return o.subscribeThirdHandler},get invokeThirdCallbackHandler(){return o.invokeThirdCallbackHandler}};return v.clientDebug&&m.onLibraryEnd((()=>{Object.assign(s,{on:ne.on,publish:ne.publish,invoke:ne.invoke,subscribe:ne.subscribe}),e.g.WeixinJSBridge=s})),e.g.WeixinJSBridge=s,t(o,!1)}if(void 0!==e.g.WeixinJSBridge)return t(e.g.WeixinJSBridge,!0);document.addEventListener("WeixinJSBridgeReady",(()=>{t(e.g.WeixinJSBridge,!0)}),!1)}(((t,r)=>{Y=t,r&&e.g.WeixinJSBridge===k&&Object.keys(t).forEach((e=>{e in ne||(ne[e]=(...r)=>t[e](...r))})),Q.done(Y)}))})),ne.addInvokeInterceptor((e=>{if(!m.isStarted&&"splashad"!==m.env.workerType)return console.error(`[jsbridge] invoke ${e} fail: too eayly.`,new Error("invoke too eayly").stack),{errMsg:`${e}:fail too early`,errno:4}})).addInvokeInterceptor(((e,t,r)=>{if(("getSystemInfo"!==e||"string"!=typeof(null==t?void 0:t.type))&&H&&J.has(e)){if(e in G)return G[e];if(e in K)return K[e];if(J.has(e)){var n=new Promise((t=>{r(((r,n)=>{n?t(r):(delete K[e],G[e]=r)}))}));K[e]=n}}}));class ie{constructor(e){this.onMessage=e}dispatch(e,t,r,n={}){var i;x();var a=D(0,n);null===(i=this.onMessage)||void 0===i||i.call(this,e,t,r,n),(null==a?void 0:a.jsHandleBegin)&&O(e,a)}}class ae extends ie{publish(e,t,r=[]){var n=function(e=[]){if(Array.isArray(e)){var t=e.filter((e=>null!=e));if(0===e.length||0!==t.length)return t;_.error("[publish] unexpected broadcast detected, aborted.")}}(r);n?0===n.length?this.broadcast(e,t):this.multicast(e,t,n):_.error(`[publish] invalid target: ${r.join(",")} (event=${e})`)}}class oe extends ae{constructor(e,t){super(t),this.$=void 0,this._hasFirstTarget=!1,this._pendingBroadCast=[],this.$=e}cb(e,t,r,n={}){this.dispatch(e,t,r,n)}postMessage(e,t,r){this.flushBroadCast(),this.$.publish(e,t,[r])}multicast(e,t,r=[]){this.flushBroadCast(),this.$.publish(e,t,r)}broadcast(e,t){this._hasFirstTarget?this.$.publish(e,t,[]):this._pendingBroadCast.push([e,t])}flushBroadCast(){if(!this._hasFirstTarget){for(var[e,t]of(this._hasFirstTarget=!0,this._pendingBroadCast))this.broadcast(e,t);this._pendingBroadCast=[]}}registerEvent(e){this.$.subscribe(e,this.cb.bind(this,e))}addClient(e){}adoptPending(e,t){}}class se{constructor(e,t){this.$=e,this.onMessage=t,this.isServer=void 0,this.$.setMessageListener(this.selfId,this.cb.bind(this)),this.isServer=this.selfId===this.serverId,this.updateGroup()}get selfId(){return this.$.id}get serverId(){return this.$.serviceId}get version(){return this.$.version}waitserverId(e){this.isServer||this.serverId?e(this.serverId):m.onStart((()=>{e(this.serverId)}))}resetId(e){this.$.setMessageListener(),this.$.setMessageListener(e,this.cb.bind(this)),this.$.id=e,this.updateGroup()}pack(e,t){return{event:e,param:t,id:this.selfId,sendTime:Date.now()}}postMessage(e,t,r){this.$.postMessage(r,this.pack(e,t))}multicast(e,t,r){for(var n of r)this.postMessage(e,t,n)}broadcast(e,t){this.waitserverId((r=>{this.$.broadcastMessage(r,this.pack(e,t))}))}updateGroup(){this.isServer||this.waitserverId((e=>{this.$.addGroup(e,this.selfId)}))}cb(e){this.onMessage(e.event,e.param,e.id,{nativeTime:e.sendTime||Date.now()})}}class le extends ae{constructor(e,t){super(t),this.$=void 0,this.clients=new Set,this.pending=new Map,this.$=new se(e,this.cb.bind(this)),_.info(`[NTrans/Server] init ${e.id}(${e.version})`)}cb(e,t,r,n){this.dispatch(e,t,r,n)}postMessage(e,t,r){this.$.postMessage(e,t,r)}multicast(e,t,r){if((r=r.filter((r=>{if(this.clients.has(r))return!0;var n=this.pending.get(r);return n?Date.now()-n.initTime>3e5?n.queue=[]:n.queue.push([e,t]):this.pending.set(r,{initTime:Date.now(),queue:[[e,t]]}),!1}))).length>0)for(var n of r)this.postMessage(e,t,n)}broadcast(e,t){this.$.broadcast(e,t)}registerEvent(e){}flushQueue(e){var t=this.pending.get(e);if(t)for(var[r,n]of t.queue)this.postMessage(r,n,e);this.pending.delete(e)}addClient(e){this.clients.add(e),this.flushQueue(e)}adoptPending(e,t){var r=this.pending.get(e);r&&(this.pending.set(t,r),this.pending.delete(e))}}var ce=String.prototype.replace,ue=/["'\\]/g;new Map;var de=Symbol("error"),pe=Symbol("slow");class he{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var r=this.$$[e];return r?r.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var r=this.$$[e];return!!(r&&r.length>0)&&(r.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(de,e),this}onSlow(e){return this.onInternalEvent(pe,e),this}_privEmit(e,t,...r){var n=this.$[e];if(n&&n.length>0){var i,a=!1;for(var o of n){if(0!==o.count)try{var s=Date.now();i=o.cb(...r);var l=Date.now();l-s>he.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(pe,e,s,l,o.cb)}catch(t){if(!this.emitPrivate(de,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(a=!0),!1===i&&t.cancelable)break}return a&&(this.$[e]=n.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,r,n={}){if(!t)return this;var i={count:r,cb:t},a=this.$[e];return a?n.prepend?a.unshift(i):a.push(i):this.$[e]=[i],this}on(e,t,r){return this.many(e,t,-1,r)}once(e,t,r){return this.many(e,t,1,r)}off(e,t){var r=this.$[e];if(!r)return!1;var n=r.findIndex((e=>e.cb===t));return!(n<0)&&(r.splice(n,1),!0)}}he.SLOW_CALLBACK_THRESHOLD=50;var fe=new r,ge=new r,ve=function(e,t,r){var n=new a((e=>{r.ready((t=>{t.registerEvent(e)}))}));return e.subscribe=function(e,t){n.setSingle(e,t)},e.addSubscribeListener=function(e,t){n.add(e,t)},e.removeSubscribeListener=function(e,t){n.remove(e,t)},e.publish=function(e,r,n){var i;i=e||"",e=ce.call(i,ue,""),t.ready((t=>{t.publish(e,r,n||[])}))},n.emit.bind(n)}(ne,fe,ge);ne.clientManager=new he;var me="[MsgCh/Server]";Z((t=>{var r,n,i,a=(r=e.g.ntrans,i=!1,(n="object"==typeof r)&&(i=!!r.serviceId,m.onStart((()=>{i=!!r.serviceId,delete e.g.ntrans}))),{ntrans:r,selfId:n?r.id:void 0,serverEnabled:n,clientEnabled:n,get serviceIdReady(){return i}}),o=a.serverEnabled;var s=new oe(t,ve);m.onStart((()=>{fe.hasValue()||(_.info(me,"preinitMessageChannel (jsbridge)"),fe.done(s))}));var l=!0;t.subscribe("jsbridge:SYNC",((r,n)=>{var i;if(n=null!==(i=r.id)&&void 0!==i?i:n,_.info(me,`recv SYNC from ${n}, publish ACK @ ${Date.now()}`),l){l=!1,a.clientEnabled=!!r.enableNTrans,o=function(t){var r=t.clientEnabled&&t.serverEnabled,n=r&&t.serviceIdReady;return e.g.__nativeTransEnabled__=n,r&&!t.serviceIdReady&&m.emitFrameworkError(new Error("Empty ntrans serverId"),"NTrans"),"android"!==v.platform||n||_.warn(`nTrans disabled. (server: ${t.serverEnabled}, client: ${t.clientEnabled})`),n}(a),_.info(me,`initMessageChannel (ntrans=${o})`);var c=o?new le(a.ntrans,ve):s;c!==s&&s.flushBroadCast(),fe.done(c),ge.done(c)}!function(e){t.publish("jsbridge:ACK",{enableNTrans:o,id:a.selfId},[e])}(n),ne.clientManager.emit("clientConnected",n,r.extra),fe.ready((e=>{e.addClient(n)}))})),ne.clientManager.on("clientIdChanged",((e,r)=>{_.info(me,`clientID changed ${e} -> ${r}, publish ACK @ ${Date.now()}`),t.publish("jsbridge:RESET",{newClientId:r},[r]),fe.ready((t=>{t.adoptPending(e,r)}))}))})),m.setWeixinJSBridge(ne);const ye=ne;k=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>_});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,a=0;a<i;a++)t+=String.fromCharCode(n[a]);return function(e){if("function"==typeof btoa)return btoa(e);for(var t,n,i=String(e),a="",o=0,s=r;i.charAt(0|o)||(s="=",o%1);a+=s.charAt(63&t>>8-o%1*8)){if((n=i.charCodeAt(o+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|n}return a}(t)}function i(e){for(var t=function(e){if("function"==typeof atob)return atob(e);var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var i,a,o=0,s=0;a=t.charAt(s++);~a&&(i=o%4?64*i+a:a,o++%4)?n+=String.fromCharCode(255&i>>(-2*o&6)):0)a=r.indexOf(a);return n}(e),n=t.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=t.charCodeAt(a);return i.buffer}var a,o=v.platform,s="ios"===o,l="android"===o||"windows"===o||"mac"===o||"mina"===o;s&&(a=e.g.WeixinNativeBuffer);var c=null;function u(e,t=!1){var r={};if(c&&!t){var i=!1,a=Object.getPrototypeOf(e);a!==ArrayBuffer.prototype&&(i=!0,Object.setPrototypeOf(e,ArrayBuffer.prototype)),r.id=c.create(e),i&&Object.setPrototypeOf(e,a)}else r.base64=n(e);return r}function d(e){if(null!=e)return c&&void 0!==e.id?c.get(e.id):void 0!==e.base64?i(e.base64):void 0}m.onLoad((()=>{c=function(e){var t=a,r=e.getNativeBufferId,n=e.setNativeBuffer,i=e.getNativeBuffer;delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer;var o=null;return l&&"function"==typeof r&&"function"==typeof n&&"function"==typeof i&&v.nativeBufferEnabled?o={create(e){var t=r();return n(t,e),t},get:e=>i(e),useCompatibleMode(){}}:s&&t&&(o={create:e=>t.new(e),get:e=>t.get(e),useCompatibleMode(e){t.useCompatibleMode(e)}}),o}(e.g)}));var p=Object.prototype.toString;function h(e){return"[object Array]"===p.call(e)}function f(e){return"[object ArrayBuffer]"===p.call(e)}function g(e,t){if(!t)return null;var r=t.split(".");if(!r.length)return null;for(var n=r[r.length-1],i=e,a=0;a<r.length-1;a++){if(!i)return null;i=i[r[a]]}return[i,n]}function y(e,t=!1,r=!1){if(null==e)return e;var n;if(t)n=function(e,t=!1){var r=[],n=new WeakMap,i=function(e,r,a=[]){var o,s=n.get(e);if(s){if(s>50)throw console.error("[SDK ERROR] worker postMessage object occur circular reference. please check your postMessage argument:",e),new Error("worker postMessage object occur circular reference");n.set(e,s+1)}else n.set(e,1);for(var l in e){var c=e[l];if(o=c,"[object Object]"===p.call(o)||h(c)){var d=[...a];d.push(l),i(c,r,d)}else if(f(c)){if(e._sabId)continue;var g=u(c,t),v=Array.prototype.concat.call(a,l).join(".");g.key=v,delete e[l],r.push(g)}}};return i(e,r),r}(e,r);else{for(var i in n=[],e){var a=e[i];if(f(a)){var o=u(a,r);o.key=i,n.push(o)}}if(n.length>0)for(var s of n)delete e[s.key]}return n.length>0&&(e.__nativeBuffers__=n),e}function b(e,t=!1,r=!1){if(null==e||null==e.__nativeBuffers__)return e;var n=e.__nativeBuffers__;delete e.__nativeBuffers__;var i=[];for(var a of n)if(null!=a){var o=d(a);if(f(o)){if(t){var s=g(e,a.key);if(!s)return;var[l,c]=s;l[c]=o}else e[a.key]=o;i.push(a.key)}}return r&&(e.__wx_dont_hook_sdk_inner_variable_packkeys_otherwise_you_will_regret_and_occur_bug__=i),e}const _={new:u,get:d,useCompatibleMode:function(e){var t;null===(t=c)||void 0===t||t.useCompatibleMode(e)},pack:y,unpack:b,packPostMessage:(e,t=!1)=>y(e,!0,t),unpackPostMessage:e=>b(e,!0,!0)}})(),I=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>_});var r,n,i=["request","createSocketTask","operateSocketTask","onSocketTaskStateChange","createRequestTask","createRequestTaskAsync","operateRequestTask","onRequestTaskStateChange","createDownloadTask","createDownloadTaskAsync","operateDownloadTask","onDownloadTaskStateChange","createUploadTask","createUploadTaskAsync","operateUploadTask","onUploadTaskStateChange","getNetworkType","createAudioInstance","createAudioInstanceAsync","operateAudio","destroyAudioInstance","getAudioState","setAudioState","onAudioStateChange","uploadFile","downloadFile","saveFile","getFileInfo","getSavedFileInfo","getSavedFileList","removeSavedFile","readFile","readCompressedFile","writeFile","mkdir","readdir","rmdir","access","unlink","stat","copyFile","rename","fs_appendFile","fs_appendFileSync","fs_copyFile","fs_copyFileSync","fs_rename","fs_renameSync","getABTestConfig","reportKeyValue","reportIDKey","getPermissionBytes"],a=v.supportWorkerMultiContext||v.supoortWorkerMultiContext,o=[],s=[],l=[],c=function(e){return e?r:n},u=function(e){e=I.unpackPostMessage(e),s.forEach((t=>{"function"==typeof t&&t(e)}))},d=function(e,t){t=I.unpackPostMessage(t),o.forEach((r=>{"function"==typeof r&&r(e,t)}))},h=function(e,t){l.forEach((r=>{"function"==typeof r&&r(e,t)}))},f=(e,t)=>{n.sendMsgToAppService({__cmd__:"workerUncaughtError",__data__:e,__contextId__:t})},g=function(e,t){WORKER_RUNTIME&&a?f(e,t):m.emitUnhandledError(e)},y={get appServiceMsgHandler(){return u},get workerMsgHandler(){return d},get workerCreatedHandler(){return h},get errorHandler(){return g},get __workerId__(){return n.__workerId__}},b={create:function(e,t){var a,o,s=!(!(t=t||{}).useExperimentalWorker||!r);return s?(o=r,a=JSON.stringify(t)):(o=n,a={APIList:i,pluginId:t.PluginId}),"function"==typeof o.create?{workerId:o.create.call(o,e,a),useWKWorker:s}:{workerId:-1,useWKWorker:s}},createWXLibWorker:function(e,t){var r={APIList:i};t.APIList&&(r.APIList=i.concat(t.APIList)),t.type&&(r.type=t.type);var a=n;return"function"==typeof a.createWXLibWorker?{workerId:a.createWXLibWorker.call(a,e,JSON.stringify(r))}:{workerId:-1}},terminate:function(e,t){var r=c(t);if("function"==typeof(null==r?void 0:r.terminate)&&"number"==typeof e)return r.terminate.call(r,e)},postMsgToAppService:function(e,t){if(m.env.isWKGame)n.sendMsgToAppService(e);else if("ios"===m.env.platform&&1===Number(v.expt.clicfg_appbrand_ios_allow_worker_binding_message))e=I.packPostMessage(e,!1),n.sendMsgToAppService(e);else try{!1!==t&&(e=I.packPostMessage(e),e=JSON.stringify(e)),n.postMsgToAppService(e)}catch(e){console.error(e)}},postMsgToWorker:function(e,t,r,n){var i=c(n);if(m.env.isWKGame)null==i||i.sendMsgToWorker(e,t);else if("ios"!==m.env.platform||1!==Number(v.expt.clicfg_appbrand_ios_allow_worker_binding_message)||n)try{!1!==r&&(t=I.packPostMessage(t,n),t=JSON.stringify(t)),null==i||i.postMsgToWorker(e,t)}catch(e){console.error(e)}else t=I.packPostMessage(t,!1),null==i||i.sendMsgToWorker(e,t)},onWorkerMsg:function(e){o.push(e)},onWorkerCreated:function(e){l.push(e)},onAppServiceMsg:function(e){s.push(e)},get WebAssembly(){return n.WebAssembly},isSupportWXLibWorker:function(){return"function"==typeof n.createWXLibWorker}};m.onLoadInstant((()=>{r=e.g.WeAppWorker,n=e.g.WeixinWorker,e.g.WeixinWorker=y,e.g.WeAppWorker=y,("devtools"===v.platform||"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&a)&&(b.appServiceMsgHandler=y.appServiceMsgHandler,b.workerMsgHandler=y.workerMsgHandler,b.errorHandler=y.errorHandler,b.__workerId__=y.__workerId__)}));const _=b;P=t.default})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>N});var r,n,i,a,o,s,l,c,u,d,h,f,g,y,b,w=Object.prototype.toString,S=(Object.getPrototypeOf,Object.getOwnPropertyNames,Object.getOwnPropertyDescriptor,Object.defineProperty,{}),C={},k=[],I=0,P=[],A=(e,t,n)=>{if(void 0!==t&&void 0!==e&&e===r){var i=void 0!==n?n:++I;return g=i,C[i]=t,k.push(i),P.forEach((e=>{"function"==typeof e&&e(i)})),i}},x=(e,t,n,i)=>{if(void 0!==e&&e===r){var a=(e=>{for(var t=k.length,r=0;r<t;r++){var n=k[r];if(C[n]===e)return n}})(t);if(void 0!==a){var o=S[n];return"function"==typeof o?o(i,a):void 0}}},E=(e,t)=>{S[e]=t},M=(e,t)=>{if(void 0===u||"function"!=typeof u)return"failed: loadLibFiles not supported";if("devtools"===v.platform&&"number"!=typeof d)return"failed: loadLibFiles not supported";try{if(0===u.call(r,e,JSON.stringify(t)))throw`WAFiles: ${t} is not exist.`;return"success"}catch(e){return"failed: "+e}},R=(e,t,r)=>{if("android"===v.platform||"ios"===v.platform||"devtools"===v.platform||"windows"===v.platform||"mac"===v.platform||"mina"===v.platform){var n=Date.now(),i=M(null!=r?r:1,[e]);_.info(`inject subPackage: ${e} coast: `,Date.now()-n),t(i)}else _.error("不支持loadJSFiles")},D={},O={__init__:e=>{void 0===r&&void 0!==e&&((r=e).register=A,r.subscribeHandler=x,n=r.alloc,i=r.create,a=r.destroy,o=r.evaluateScriptFile,s=r.loadJsFiles,u=r.loadLibFiles,l=r.allocEmpty,c=r.allocFromSnapshot,d=r.mainContextId,h=r.errorHandler,r.waitingChannel={},f=r.notifyGameEngineReady,delete r.alloc,delete r.create,delete r.destroy,delete r.evaluateScriptFile,delete r.loadJsFiles,delete r.loadLibFiles,delete r.allocEmpty,delete r.allocFromSnapshot,delete r.mainContextId,delete r.errorHandler,delete r.notifyGameEngineReady)},publish:(e,t={},n,i)=>{var a,o=(a=t,w.call(a).split(" ")[1].split("]")[0]);if("Object"!==o&&"Undefined"!==o)throw new Error("params should be an object.");return n.map((n=>{var a=C[n];if(a)return a.subscribeHandler(r,e,t);i&&void 0!==n&&(r.waitingChannel[n]||(r.waitingChannel[n]=[]),r.waitingChannel[n].push({event:e,params:t}))}))},subscribe:E,onRegister:e=>{P.push(e)},evaluateScriptFile:(e,t,r)=>o(e,t,r),batchLoadJsFiles:(e,t,n)=>{if(void 0===s||"function"!=typeof s)return"failed: loadJsFiles not supported";var i="devtools"===v.platform?void 0:JSON.stringify(n);try{var a=s.call(r,e,JSON.stringify(t),i);return(e=>"[object Promise]"===Object.prototype.toString.call(e))(a)?a.then((()=>"success")).catch((e=>"failed: "+e)):"success"}catch(e){return"failed: "+e}},alloc:(e,t)=>"function"==typeof n?n.call(r,e,t):-9999,create:(e,t)=>"function"==typeof i?i.call(r,e,t):-9999,destroy:(e,t)=>"function"==typeof a?a(e,t):-9999,isAsync:()=>r&&!0===r.async,supportAlloc:()=>"function"==typeof n,loadLibFiles:M,allocEmpty:(e,t)=>"function"==typeof l?l.call(r,e,t):-9999,supportAllocEmpty:()=>"function"==typeof l,allocFromSnapshot:(e,t)=>{if("function"==typeof c){var n=c.call(r,e,t);return n}return-9999},supportAllocFromSnapshot:()=>"function"==typeof c,loadMainContextLibFile:R,loadSubContextLibFile:(e,t,r)=>{if(r)return R(e,t,r);_.error("loadSubContextLibFile lose subContextId")},getMainContextId:()=>d,setAppSubContextId:e=>{b=e},getAppSubContextId:()=>b,convertRealId2SdkId:e=>D[e],associateRealId2SdkId:e=>{D[e]=g},errorHandler:(e,t)=>{h?h(e,t):y?y[e]=t:(y={[e]:t},E("subContextError",(({contextId:e,err:t})=>{y[e](t)})))},notifyGameEngineReady:()=>{"function"==typeof f&&f()}};var L=O;m.onLoad((()=>{"undefined"!=typeof WeixinJSContext&&(L.__init__(WeixinJSContext),delete L.__init__,delete e.g.WeixinJSContext)}));const N=L;T=t.default})(),(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}();var t=()=>{r!==v&&void 0!==r&&Object.assign(r,v)},r=(()=>(v.onReady(t),v))();const n=r;var i=(()=>n.platform)(),a=(()=>"android"===i)(),o=(()=>"ios"===i)(),s=(()=>"windows"===i)(),l=(()=>"mac"===i)(),c=(()=>s||l)();var u=["shouldShowSplashAd","onSplashAdShow","onSplashAdHide","onSplashAdClose","onSplashAdWillLayout","onSplashAdButtonClicked","showSplashAd","closeSplashAd","showSplashAdMenu","insertTextView","updateTextView","removeTextView","insertImageView","updateImageView","removeImageView","animateCoverView","onTextViewClick","onImageViewClick","insertVideoPlayer","removeVideoPlayer","updateVideoPlayer","operateVideoPlayer","onVideoProgress","onVideoTimeUpdate","onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoError","onVideoPreloadedMetaData","preDownloadVideoResource","splashAdFirstStepViewLayoutStateChange","splashAdAllViewLayoutStateChange","enableSplashAdHotStart","getInstallState","getDeviceInfo","getOAID","private_addContact","launchApplication","downloadAppInternal","navigateToMiniProgram","openADCanvas","private_openUrl","batchGetContact","preloadMiniProgramEnv","predownloadMiniProgramPackage","adOperateWXData","operateWXData","reportIDKey","reportKeyValue","adDataReport","getSystemInfo","accessSync","getPermissionBytes","readFileSync","statSync","reportRealtimeAction","measureText","openChannelsActivity","openChannelsLive","openChannelsUserProfile","openChannelsRewardedVideoAd","getAdPushMsg","clearAdPushMsg","openWeComUserProfileForAd"];try{(a||o||c)&&m.onLoadInstant((()=>{var e=P.createWXLibWorker("WASplashadWorker.js",{APIList:u,type:"ad"});-1!==e.workerId&&(m.globalShare.reusableWorkerId=e.workerId)}))}catch(e){m.emitFrameworkError(e,"LifeCycle.load")}})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};function r(){k.publish(...arguments)}function n(){k.subscribe(...arguments)}e.d(t,{default:()=>q});var i=()=>{a!==v&&void 0!==a&&Object.assign(a,v)},a=(()=>(v.onReady(i),v))();const o=a;var s=(()=>o.platform)(),l=(()=>"devtools"===s)(),c=(()=>"ios"===s)();function u(){if(o&&"debug"in o&&void 0!==o.debug)return!!o.debug}var d=(()=>Object.prototype.toString)(),h=p.prototype.call.bind(d);function f(e){return h(e).slice(8,-1)}var g=e=>"Number"===f(e),m=e=>null===e,y=(()=>Number.isNaN||(e=>e!=e))(),b=e=>g(e)&&Math.abs(e)===1/0,_=(()=>Array.isArray||(e=>"Array"===f(e)))(),w=e=>"function"==typeof e,S=e=>ArrayBuffer.isView(e)&&!(e=>"DataView"===f(e))(e);var C={String:0,NaN:"<NaN>",Infinity:e=>e>0?"<Infinity>":"<-Infinity>",Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:e=>""===e.name?"<Function>":`<Function: ${e.name}>`,Date:e=>`<Date: ${e.toJSON()}>`,RegExp:e=>`<RegExp: ${e.toString()}>`,Error:e=>`<${e.name}: ${e.message}>${e.stack?"\n"+e.stack:""}`,Symbol:e=>`<Symbol: ${e.toString()}>`,Promise:"<Promise>",Map:e=>`<Map: size=${e.size}>`,WeakMap:"<WeakMap>",Set:e=>`<Set: size=${e.size}>`,WeakSet:"<WeakSet>",ArrayBuffer:e=>`<ArrayBuffer: byteLength=${e.byteLength}>`,DataView:e=>`<DataView: byteLength=${e.byteLength}, byteOffset=${e.byteOffset}>`,TypedArray:e=>`<${e.constructor&&e.constructor.name?e.constructor.name:"TypedArray"}: byteLength=${e.byteLength}, length=${e.length}>`,BigInt:e=>`<BigInt: ${e.toString()}>`};function I(e){var t=function(e){var t=f(e);if("Number"===t){if(y(e))return"NaN";if(b(e))return"Infinity"}else if("Object"===t){if(m(e))return"Null"}else if(t.endsWith("Array")&&"Array"!==t&&S(e))return"TypedArray";return t}(e);return t in C?C[t]?w(C[t])?[C[t](e),!0]:[C[t],!0]:[e,!0]:[null,!1]}function P(e){var t=new WeakMap,r=0;return function e(n,i){var a,[o,s]=I(n);return s?o:r>3e3?"<Hidden>":t.has(n)?`<Circular: ${t.get(n)}>`:(t.set(n,i),r++,_(n)?n.map(((t,r)=>e(t,`${i}[${r}]`))):(a={},Object.keys(n).forEach((t=>{a[t]=e(n[t],`${i}.${t}`)})),a))}(e,"@")}function T(e,t){try{return(e=Array.prototype.slice.call(e)).map(P)}catch(e){return void("undefined"!=typeof inSnapshotCheck&&inSnapshotCheck&&"function"==typeof t&&t("[snapshot check] transformLogArgs error: ",e))}}var x=["log","warn","error","info","debug"],E=null,M=null,R=null,D=new Set;function O(e,t,r){E=e,M=t,R=r}var L=null,N=e=>L=e;class B{constructor({context:e}={}){var t=this;if(!R)throw new Error("BaseConsole: call setBaseConsoleStaticProps first");var n=R,i=function(e){"function"==typeof n[e]&&(t[e]=function(...t){(n[e]||(()=>{})).call(n,...t)})};for(var a of Object.keys(n))i(a);var o=function(i){var a=n[i]||(()=>{});t[i]=function(...t){var o,s,c=u();if(!1===c){if("main"===e){if("warn"!==i&&"error"!==i&&!l)return;return a.call(n,...t),void $(i,t,e)}if(!l)return;return a.call(n,...t),void $(i,t,e)}null===(o=L)||void 0===o||o.callConsoleAPI(i,t);var d=T(arguments,n[i]);d&&(M&&M.length>1024&&M.shift(),null===(s=M)||void 0===s||s.push({method:i,log:d,timestamp:Date.now()}),c&&E&&E.length>0&&r(i,{log:d},E),a.apply(n,d),$(i,t))}};for(var s of x)o(s);this.group=function(){(n.group||(()=>{})).apply(n,arguments)},this.groupEnd=function(){(n.groupEnd||(()=>{})).apply(n,arguments)}}}function $(e,t,r){if(0!==D.size)try{D.forEach((n=>n(e,t,r)))}catch(e){}}var F=!c&&!!e.g.__isAppServiceRemoteDebugMode__,j=null,W=null,V=null;if(l||F){if(l||F){O([],[],console)}}else{var U=[],z=[];O(z,U,console),n("GenerateFuncReady",((e,t)=>{t&&z.push(t),u()&&r("initLogs",{logs:U},[t])})),n("webviewClearLog",((e,t)=>{var n=z.filter((e=>e!==t));r("serviceClearLog",{triggerWebViewId:t},n),U.length=0})),o.onReady((()=>{var e;u()&&(z.length>0&&r("initLogs",{logs:U},z),null===(e=j)||void 0===e||e(U,N))})),console=new B({context:"main"})}const q={BaseConsole:B,onDebugEnabledAfterBaseConsoleInjected:e=>{j=e},setInspecteeRoots:e=>W=e,getInspecteeRoots:()=>W,setSkylineRuntimeGetter:e=>V=e,getSkylineRuntime:()=>{var e;return null===(e=V)||void 0===e?void 0:e()},_subscribeConsole:function(e){D.add(e)},_unsubscribeConsole:function(e){D.delete(e)}};A=t.default})(),(()=>{var e={342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{EnvPreloadType:()=>n,default:()=>o,updateConfig:()=>i});var n={None:0,BeforeLaunch:1,AfterLaunch:2},i=()=>{a!==v&&void 0!==a&&Object.assign(a,v)},a=(()=>(v.onReady(i),v))();const o=a},476:(e,t,r)=>{"use strict";r.r(t),r.d(t,{reportDeprecatedAPI:()=>o});var n=r(342),i=void 0!==l&&l?l.version:"unknown",a=void 0!==l&&l?l.updateTime:"unknown";"string"==typeof i&&(i=i.replace(" ","")),"string"==typeof a&&(a=a.replace(" ","-"));var o=(e="")=>{e=e.replace(/,/g,";");var t=i+" "+a,r=n.default.appType;M.reportKeyValue({key:"DeprecatedAPI",value:[e,t,r].join(",")})}},996:(e,t,r)=>{var{reportDeprecatedAPI:n}=r(476),{default:i}=r(342);function a(e=globalThis){function t(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e}}"function"==typeof globalThis.Function&&(t.prototype=globalThis.Function.prototype,t.prototype.constructor=t,globalThis.Function=t)}e.exports={hijack:function(e=!0,t=globalThis){a(t),"undefined"!=typeof eval&&("ios"===i.platform&&r.g.__isAppServiceRemoteDebugMode__||i.debug||(globalThis.eval=void 0)),e&&function(){if("undefined"!=typeof setTimeout){var e=setTimeout;globalThis.setTimeout=function(t,r=0){if("function"!=typeof t)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof t}.`);var n=E.surroundThirdByTryCatch(t,"at setTimeout callback function"),i=[].slice.call(arguments,2);return e((()=>{n.apply(globalThis,i)}),r)};var t=setInterval;globalThis.setInterval=function(e,r){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var n=E.surroundThirdByTryCatch(e,"at setInterval callback function"),i=[].slice.call(arguments,2);return t((()=>{n.apply(globalThis,i)}),r)}}}(),"undefined"!=typeof WebAssembly&&["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(n("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))},hijackFunction:a}},585:()=>{if("undefined"==typeof navigator){try{new p('var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});var FakeGeneratorFunction = function () {};FakeGeneratorFunction.prototype = GeneratorFunctionProto;Object.defineProperty(GeneratorFunctionProto, "constructor", { value: FakeGeneratorFunction });')()}catch(e){}try{new p('var AsyncFunctionProto = Object.getPrototypeOf(async function () {});var FakeAsyncFunction = function () {};FakeAsyncFunction.prototype = AsyncFunctionProto;Object.defineProperty(AsyncFunctionProto, "constructor", { value: FakeAsyncFunction });')()}catch(e){}try{new p('var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});var FakeAsyncGeneratorFunction = function () {};FakeAsyncGeneratorFunction.prototype = AsyncGeneratorFunctionProto;Object.defineProperty(AsyncGeneratorFunctionProto, "constructor", { value: FakeAsyncGeneratorFunction });')()}catch(e){}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{bridgeGlobalInstanceOf:()=>ee,deepFreezeGlobalObjs:()=>H,deepFreezeObj:()=>R,deepFreezeObjProperty:()=>M,doNotWriteGlobalObjs:()=>q,doNotWriteObj:()=>N,doNotWriteObjProperty:()=>D,globalEsHiddenObjs:()=>t,globalEsObjs:()=>i,hijack:()=>G.hijack,hijackFunction:()=>G.hijackFunction,overwriteSetPrototypeOf:()=>z});r(585);var e=globalThis.Function,t=[()=>Object.getPrototypeOf(Uint8Array.prototype).constructor,()=>new e("return Object.getPrototypeOf((function* () {})()).constructor")(),()=>new e("return Object.getPrototypeOf(function* () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function* () {}).constructor")()].map((e=>{try{return e()}catch(e){}})).filter(Boolean),i=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","globalThis","Infinity","Int16Array","Int32Array","Int8Array","Intl","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],a=["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"],o=globalThis,s=r(342),l=(()=>s.default.platform)(),c=(()=>"ios"===l)();var u=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code\])?$/;function p(e,t=1/0){if("string"!=typeof e.stack)throw new Error("Cannot parse given Error object");var r=e.stack;return c?function(e,t){for(var r=[],n=e.split("\n"),i=0,a=0;i<n.length&&a<t;++i){var o=n[i];if(!d.test(o)){++a;var s=o.indexOf("@");if(-1===s){var l=h(o);r.push({fileName:l.URI,lineNumber:l.line,columnNumber:l.column,source:o})}else{var c=o.substring(0,s),u=h(o.substr(s+1));r.push({functionName:c,fileName:u.URI,lineNumber:u.line,columnNumber:u.column,source:o})}}}return r}(r,t):function(e,t){for(var r=[],n=e.split("\n"),i=0,a=0;i<n.length&&a<t;++i){var o=n[i];u.test(o)&&(r.push(o),++a)}return r.map((e=>{e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=t.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(t=r?t.replace(r[0],""):t).split(/\s+/).slice(1),i=h(r?r[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0],lineNumber:i[1],columnNumber:i[2],source:e}}))}(r,t)}function h(e){var t=/(?::(\d+))?(?::(\d+))?$/.exec(e);return t?{URI:e.substring(0,e.length-t[0].length),line:t[1],column:t[2]}:{URI:e}}var f=Object.freeze,g=Object.setPrototypeOf,v=Object.defineProperty,m=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,_=Object.getPrototypeOf,w=Object.preventExtensions;var S=[[e=>!/(WAServiceMainContext|WAGame)\.js/.test(e)]];function C(){var e,t,r=Date.now(),n=p(new Error,3),i=n[1],a=n[2],o=!(i.fileName&&a.fileName&&a.fileName!==i.fileName&&(e=a.fileName,t=i.fileName,!S.some((r=>r.some((t=>t(e)))&&r.some((e=>e(t)))))));return Date.now()-r,o}function k(e,t=!1){if("function"==typeof e||"object"==typeof e&&null!==e){var r=m(e,"__proto__");r&&!r.configurable||(r||Object.isExtensible(e))&&v(e,"__proto__",{get(){return _(this)},set(r){if(this===e)t&&C()&&g(e,r);else{if("function"!=typeof this&&("object"!=typeof this||null===e))return;g(this,r)}},enumerable:!1,configurable:!1})}}var I=new Map,P=(e,t,r)=>{I.has(e)||I.set(e,new Map);var n=I.get(e);n.has(t)?Object.assign(n.get(t),r):n.set(t,r)};function T(e,t,r=!1){if("function"!=typeof e&&("object"!=typeof e||null===e))return!1;try{var n=m(e,t);return!!n&&(n.configurable&&(v(e,t,{get:n.get||(()=>n.value),set(i){if(this===e)r&&C()&&(n.set?n.set.call(this,i):n.writable&&(n.value=i));else{if("function"!=typeof this&&"object"!=typeof this)return;!function(e,t,r){try{"__proto__"===t?g(e,r):v(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}catch(e){}}(this,t,i)}},enumerable:n.enumerable,configurable:!1}),r&&P(e,t,n)),!n.get&&("function"==typeof n.value||"object"==typeof n.value&&null!==n.value))}catch(e){throw e.message,e}}var A=new WeakSet;function x(e){A.add(e)}function E(e){return A.has(e)}function M(e,t,r){T(e,t)&&R(e[t],r)}function R(e,t){if(e&&!E(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis)if(e!==Error){x(e);for(var r=y(e),n=b(e),i=0;i<r.length;++i)M(e,r[i],t);for(var a=0;a<n.length;++a)M(e,n[a],t);t?w(e):k(e,!1)}else if(t){var o=e=>{if(e&&!E(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){x(e),f(e);for(var t=y(e),r=b(e),n=0;n<t.length;++n)o(e[t[n]]);for(var i=0;i<r.length;++i)o(e[r[i]])}};o(Error)}}function D(e,t){T(e,t,!0)&&N(e[t])}var O=new WeakSet;function L(e){return O.has(e)}function N(e){if(e&&!L(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){!function(e){O.add(e)}(e);for(var t=y(e),r=b(e),n=0;n<t.length;++n)D(e,t[n]);for(var i=0;i<r.length;++i)D(e,r[i]);k(e,!0)}}var B=Object.prototype.hasOwnProperty,$=Object.defineProperty,F=Object.defineProperties,j=Object.getOwnPropertyNames,W=Object.getOwnPropertySymbols,V=Object.getOwnPropertyDescriptor,U=!1,z=function(){U||(U=!0,$(o.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0}),$(o.Object,"defineProperty",{value(e,t,r){if(!L(e))return $(e,t,r);if(!C())return r;var n=V(e,t);if(!n||n.configurable){var i=$(e,t,r);return D(e,t),i}return P(e,t,r),r},configurable:!0}),$(o.Object,"defineProperties",{value(e,t){if(!L(e))return F(e,t);if(!C())return t;var r=r=>{var n=V(e,r);if(!n||n.configurable){var i=$(e,r,t[r]);return D(e,r),i}return P(e,r,t[r]),t[r]};return j(t).forEach(r),W(t).forEach(r),t},configurable:!0}))},q=function(e=[]){try{for(var r=[...i,...a,...t,...e],n=(Date.now(),0);n<r.length;++n){var s=r[n],l=typeof s;"string"===l?B.call(o,s)&&D(o,s):"function"!==l&&"object"!==l||N(s)}Date.now()}catch(e){}},H=function(e=[],r=!1){try{for(var n=[...i,...a,...t,...e],s=(Date.now(),0);s<n.length;++s){var l=n[s],c=typeof l;"string"===c?B.call(o,l)&&M(o,l,r):"function"!==c&&"object"!==c||R(l,r)}Date.now()}catch(e){}},G=r(996),K=Object.prototype.isPrototypeOf,J=Object.defineProperty,X=Object.prototype.hasOwnProperty,Y=Symbol.hasInstance,Q=function(e){return!("function"!=typeof this||!Z(e))&&((e,t)=>K.call(t.prototype,e))(e,this)},Z=e=>"object"==typeof e?null!==e:"function"==typeof e;function ee(e,t,r={}){for(var n=function(n){var i=e[n],a=t[n];if(!i||!a)return"continue";if("function"!=typeof i)return"continue";var o=X.call(i,Y)?i[Y]:Q,s=X.call(a,Y)?a[Y]:Q;J(i,Y,{value(e){return o.call(this,e)||s.call(a,e)},writable:!0,enumerable:!1,configurable:!0}),J(a,Y,{value(e){return void 0!==r[n]&&"Object"===r[n]&&void 0!==(null==e?void 0:e._compressed)&&void 0!==(null==e?void 0:e._data)&&void 0!==(null==e?void 0:e.height)&&void 0!==(null==e?void 0:e.width)?s.call(this,e):s.call(this,e)||o.call(i,e)},writable:!0,enumerable:!1,configurable:!0})},i=0;i<e.length;++i)n(i)}})(),x=n})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callMiniProgramOrPluginFunction:()=>p,callSystemFunction:()=>u,callThirdPartyFunction:()=>h,convertStack:()=>i,endSystemFunctionCall:()=>c,findCurrentSource:()=>s,startSystemFunctionCall:()=>l,surroundThirdByTryCatch:()=>v,wrapMiniProgramOrPluginFunction:()=>f,wrapSystemFunction:()=>d,wrapThirdPartyFunction:()=>g,wrapperStack:()=>n});var r=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,n=[];function i(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,i=n.length-1,o=0;o>=0&&i>=0;){var s=r.length,l=0;for(var c in a)if(a[c]){var u=r.indexOf(a[c],o);u<0||s<=u||(s=u,l=a[c].length)}if(s>=r.length)break;var d=`at <${n[i--].description}>`;r=r.slice(0,s)+d+r.slice(s+l),o=s+d.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var a={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function o(e){var t=((new Error).stack||"").match(/.+/gm),n="",i=0;t&&t.forEach((e=>{if(r.test(e)&&2===(i+=1)){var t=e.match(/^(\s*)at /),a=t?t[1].length:0;return n=e.slice(a),!1}return!0})),a[e]=n}function s(){for(var e="",t=n.length-1;t>=0;t--)n[t].pluginAppId&&(e=n[t].pluginAppId);return e}var l=e=>{null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:e})},c=()=>{n.pop()};function u(e,t,r,l,c,u=!1){var p;null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),n.push({description:t});try{p=r.apply(l,c)}catch(t){if(i(t)){if("AppServiceSdkKnownError"===t.type)throw n.pop(),t;if("ThirdScriptError"===t.type){var h=s();M.thirdErrorReport({error:t,source:h,triggerErrorCallback:!u})}else M.errorReport({key:e,error:t,triggerErrorCallback:!u})}if(u)throw n.pop(),t}return n.pop(),p}function d(e,t,r,n=!1){return function(...i){return u(e,t,r,this,i,n)}}function p(e,t,r,s,l,c=!1){var u;null===a.wrapMiniProgramOrPluginFunction&&(a.wrapMiniProgramOrPluginFunction="",f("","",o)("wrapMiniProgramOrPluginFunction")),n.push({description:t,pluginAppId:e});try{u=r.apply(s,l)}catch(t){if(i(t)&&M.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!c}),c)throw n.pop(),t}return n.pop(),u}function h(e,t,r,n,i=!1){return p(s(),e,t,r,n,i)}function f(e,t,r,n=!1){return function(...i){return p(e,t,r,this,i,n)}}function g(e,t,r=!1){return function(...n){return p(s(),e,t,this,n,r)}}function v(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",i=e||function(){};return function(...e){return p(s(),n,i,i,e,!1)}}E=t})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};(()=>{e.d(t,{default:()=>de});var r={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3,APP_SUBCONTEXT:4},n={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,NetworkAPI2:26057,AccelerateNetwork:30769,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,RecycledAPI:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,CustomComponent:15948,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432,LaunchDetailSpeed:16514,CloudReport:16588,DeprecatedAPI:16624,Share:16717,APIUse:17619,MiniprogramInnerComponentUse:30314,SetDataPerf:17176,UserLog:17809,GameInteractiveData:17836,GameRecorder:17833,UserLogFail:17975,WeAppInvoke:18042,RenderCache:18052,RenderStages:18321,ShareCardClick:18352,PerfReport:18748,GameServerInvite:18768,NpmExtendedLib:18874,FirstInteraction:19136,GameComponent:19283,GameWhatsNew:19335,TradeService:19286,LazyCodeLoading:20030,MidasFriendPayment:20285,Handoff:20888,ShareToWeRun:21272,WeAppOperateWXData:21359,PrivacyPopup:29666,WXGameWASMLaunchClose:21494,WXGameWASMLaunchException:21493,WXGameWASMLaunchTime:21492,ExptHit:21627,WeAppInvoke2:21688,GameLifeMiniGameCardAction:21898,ShareImageMenu:22050,WeAppToChannels:22082,RequestPaymentCheckTicket:22273,WeAppNavBan:22762,GameAdsSkipCard:20267,MiniGameOpenDataMonitor:23536,BLEConnection:23886,BLEDevices:29065,BLEMeshDevices:29512,WeAppRequestError:24247,ClickWechatAppPreviewPage:24298,MiniprogramOnWeakNetwork:24499,PaymentAddOrderCall:27441,MiniprogramOnUserCaptureScreen:26252,MiniprogramDoEvilIdentification:26447,MiniprogramTapRestriction:27322,MiniprogramLiveActivityButtonDoEvilCheck:28893,MiniprogramWebviewExportUrl:30247,WeAppRequestErrnoInfo:24321,PublishWechatState:24488,OpenEmbeddedMiniProgramResult:24542,RequestPaymentRiskConfirm:24544,InitRenderDone:24643,getPhoneNumberReport:24927,WeAppSensitiveRequest:25214,OpenUrl:25265,WeAppInteractionApiCall:25394,Route:25520,detachFromNestWebviewPage:25651,WeAppInteractiveApiError:25972,WeAppCoreWebVitals:26147,WxappNicknameAvatarAutofill:26249,WeFreeHttpDns:26411,LaunchApplicationInfo:26472,WxappChannelVideo:26614,WeAppSDKSubpackageInject:27065,WXGameSceneLaunchReport:27248,XR_FRAME:27478,MediaApi:27661,WePayVIPAppInteractiveApiError:28022,WePayVIPAppRequestError:28019,PayCompletedPage:28043,Skyline:28287,PageScrollInfo:28458,Wxobs:28554,IntersectionObserverUsage:28808,MiniProgramWebviewSlowFrame:29061,MiniProgramCommercialMap:29170,AiadAnalyse:29503,VirtualPayment:30164,WeAppXNetInvoke:29870,ProductRecommand:30343,AIADPreview:31127,AiAdError:31167,Authorize:31228,ExitDramaEdu:31431,SystemComponentLazyLoad:29852,InnerDiskStatInfo:31439,operateWXDataProfile:31695,ClientCallbackProfile:32334,WxappBackInterception:32260,UserAction:32193,UserConfig:32198,WebVitalsINP:32217,WebVitalsStutter:32366,OpenOfficialAccountArticle:32359,MiniProgramJumpWxstore:32916,AIADLoad:33015,AIADVision:33042,UpdateManager:33259,Translate:33441},i={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},a={apiCallback:1,pageInvoke:2,widgetInvoke:3,appInvoke:4},o={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14,appSubContextThirdScriptError:15,appSubContextSDKScriptError:16},s={[r.APP]:"thirdScriptError",[r.APP_SUBCONTEXT]:"appSubContextThirdScriptError",[r.WIDGET]:"widgetThirdScriptError",[r.GAME]:"gameThirdScriptError",[r.GAME_SUBCONTEXT]:"gameSubContextThirdScriptError"};var c={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},u=0;function d(){var e=0;return{get(){if(e>0)return e;if(0===u)throw Error("initTime not ready");return e=u},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==m?m.onLoad((()=>{c.offset=Date.now(),u=Date.now()})):(c.offset=Date.now(),u=Date.now());class h{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=e,this.REPORT_DECREASE_RATE=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.periodStartTime=d(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this.currentMiniPeriodReportCount=0,this.currentPeriodReportQueue=[],this._currentMiniPeriodFlag=1,this._lastReportTime=d(),this._periods=parseInt(this.PERIOD_TIME/this.BATCH_KEYVALUE_INTERVAL,10)}get _currentMiniPeriod(){var e=this._evaluateCurrentMiniPeriodBatch();return this._currentMiniPeriodFlag!==e?(this._currentMiniPeriodFlag=e,this.currentPeriodSurplusReportCount-=this.currentMiniPeriodReportCount,this.currentMiniPeriodReportCount=0,this._currentMiniPeriod):e}_evaluateCurrentMiniPeriodBatch(){for(var e=this.periodStartTime.since(),t=1;t<=this._periods;t++)if(e<this.BATCH_KEYVALUE_INTERVAL*t)return t;return this._periods}get _currentMiniPeriodMaxReportCount(){return this.periodStartTime.since()>this.PERIOD_TIME?(this.periodStartTime.reset(),this.currentPeriodSurplusReportCount=this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE,this._currentMiniPeriodMaxReportCount):this._currentMiniPeriod===this._periods?this.currentPeriodSurplusReportCount:parseInt(this.currentPeriodSurplusReportCount*this.REPORT_DECREASE_RATE,10)}pushReportQueue(e,t=!1){this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount?t&&(this.currentPeriodReportQueue.unshift(e),this.currentPeriodReportQueue.pop()):(this.currentPeriodReportQueue.push(e),this.currentMiniPeriodReportCount++)}attemptReportAndGetReportMsgs(e=!1){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){if(!this.currentPeriodReportQueue.length)return[];var r=this.currentPeriodReportQueue.splice(0,this.currentPeriodReportQueue.length);return this._lastReportTime.set(t),r}return[]}isLimit(){return this.currentMiniPeriodReportCount>=this._currentMiniPeriodMaxReportCount}}class f{constructor(e,t,r,n){this.BATCH_KEYVALUE_INTERVAL=t,this.PERIOD_TIME=n,this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE=r,this.keyStr=e,this._lastReportTime=d(),this._periodStartTime=d(),this._periodReportCountMP={},this.cacheMP={}}pushReportQueue(e,t=!1){var r=e[this.keyStr];this.cacheMP[r]||(this.cacheMP[r]=[]),this._periodReportCountMP[r]||(this._periodReportCountMP[r]=0),this._periodReportCountMP[r]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE?t&&(this.cacheMP[r].unshift(e),this.cacheMP[r].pop()):(this._periodReportCountMP[r]++,this.cacheMP[r].push(e))}isLimit(e){return this._periodReportCountMP[e]>this.NATIVE_LIMIT_REPORT_KEY_VALUE_MAX_COUNT_ON_MINUTE}attemptReportAndGetReportMsgs(e){var t=Date.now();if(t-this._lastReportTime.get()>this.BATCH_KEYVALUE_INTERVAL||e){var r=Array.prototype.concat.call([],...Object.values(this.cacheMP));return Object.keys(this.cacheMP).forEach((e=>{this.cacheMP[e].length=0})),this._lastReportTime.set(t),t-this._periodStartTime.get()>this.PERIOD_TIME&&(this._periodStartTime.set(t),this._periodReportCountMP={},this.cacheMP={}),r}return[]}}class g{constructor(e,t,r,n){this.reportTime=d(),this.continueDecreaseReportLimitStrategys={},this.reportLimitStrategy=new f(e,t,r,n),this.BATCH_KEYVALUE_INTERVAL=t,this.keyStr=e}shouldReport(){return this.reportTime.since()>=this.BATCH_KEYVALUE_INTERVAL}setContinueDecreaseReportLimitStrategyKey(e,t,r,n,i){this.continueDecreaseReportLimitStrategys[e]=new h(t,r,n,i)}pushReportQueue(e,t){var r=e[this.keyStr];r in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[r].pushReportQueue(e,t):this.reportLimitStrategy.pushReportQueue(e,t)}attemptReportAndGetReportMsgs(e){if(e||this.shouldReport()){var t=this.reportLimitStrategy.attemptReportAndGetReportMsgs(e),r=Object.values(this.continueDecreaseReportLimitStrategys).reduce(((e,t)=>(e.push(...t.attemptReportAndGetReportMsgs()),e)),[]);return this.reportTime.reset(),t.concat(r)}return[]}isLimit(e){return e in this.continueDecreaseReportLimitStrategys?this.continueDecreaseReportLimitStrategys[e].isLimit():this.reportLimitStrategy.isLimit(e)}}var y=()=>{b!==v&&void 0!==b&&Object.assign(b,v)},b=(()=>(v.onReady(y),v))();const _=b;var w=(()=>_.platform)(),S=(()=>"devtools"===w)(),C=(()=>"ios"===w)();function I(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),n=t.split("."),i=Math.max(r.length,n.length);r.length<i;)r.push("0");for(;n.length<i;)n.push("0");for(var a=0;a<i;a++){var o=parseInt(r[a],10),s=parseInt(n[a],10);if(o>s)return 1;if(o<s)return-1}return 0}var P=(()=>Object.prototype.toString)(),T=p.prototype.call.bind(P);function A(e){return T(e).slice(8,-1)}var x=6e4,M=15e3;function R(...e){k.invoke(...e)}var D={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,appSubContextThirdScriptError:191,appSubContextSDKScriptError:192,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,writeBLECharacteristicValue_fail:206,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,insertMapToWebLayer_fail:171,insertMapToWebLayer_succ:172,insertLiveToWebLayer_fail:178,insertLiveToWebLayer_succ:179,insertCanvas2dToWebLayer_fail:180,insertCanvas2dToWebLayer_succ:181,insertWebGLToWebLayer_fail:187,insertWebGLToWebLayer_succ:186,insertVideo2ToWebLayer_fail:182,insertVideo2ToWebLayer_succ:183,insertCameraToWebLayer_fail:184,insertCameraToWebLayer_succ:185,insertTextareaToWebLayer_fail:189,insertTextareaToWebLayer_succ:188,showImageOperateSheet_fail:190,audioInstancesCountReach1024:170,bindUDP:173,sendUDPMessage:174,receiveUDPMessage:175,UDPError:176,sendUDPMessageToInvalidAddress:177,clientLibVersionNotMatch:205,subContextLibVersionNotMatch:207,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203,webviewBizDomainFetch_fail:208,webviewBizDomainSkipReturn:209,demoEnterHomePage:210,demoConfigRepeat:211,getUserInteractiveStorage:212,modifyFriendInteractiveStorage:213,modifyFriendInteractiveStorageShowModal:214,modifyFriendInteractiveStorageConfirm:215,modifyFriendInteractiveStorageCancel:216,disableLivePlayer:220,disableLivePusher:221,disableVideo:222,asyncApiCost:226,asyncApiCount:227,requestSubscribeMessageWithNative:230,requestSubscribeMessageWithNativeSuccess:231,requestSubscribeMessageWithNativeFail:232,pageNotFound:234,tradeServiceGetPermissionBytesSuccess:235,tradeServiceGetPermissionBytesFail:236,tradeServiceCanUse:237,tradeServiceCanNotUse:238,tradeServiceTapCard:239,midasLaunchFeatureFail:240,createNormalWorker:241,createWKWorker:242,onWorkerWebViewTerminate:244,loadGameIndependentSubPackageFail:243,requestPaymentCheckTicketCount:245,requestPaymentCheckTicketFail:246,requestPaymentCheckTicketTimeout:247,useLaunchExptInfo:249,useOriginLaunchExptInfo:250,useContactExptInfo:251,reportEventInvoke:252,readdirTraverseRootDir:253,useWxProtobuf:254,useWxLanDebug:255},O={call:80,call_success:81,call_fail:82,insert_with_cache:83,insert_without_cache:84,try_insert_general_ad:118,try_insert_general_ad_success:119};Array(25).fill(0).forEach(((e,t)=>{O[`polyfill_${t+1}`]=t}));var L=new g("id",M,100,x);function N(e){_.onReady((()=>{R("reportIDKey",{dataArray:e,noCallback:!0})}))}function B(e,t,r,n=!1){if(Number.isInteger(e)&&!(!Number.isInteger(t)||t<0||t>255)){L.pushReportQueue({id:e,key:t,value:r});var i=L.attemptReportAndGetReportMsgs(n);i.length&&N(i)}}function F(){var e=L.attemptReportAndGetReportMsgs(!0);e.length&&N(e)}var j=[],W=0,V=0,U=0,z={},q={},H={},G=new g("key",M,100,x);function K(e){_.onReady((()=>{R("reportKeyValue",{dataArray:e,noCallback:!0})}))}function J(){_.onReady((()=>{!j||j.length<=0||(R("systemLog",{dataArray:j,noCallback:!0}),j=[])}))}function X(e){var t=_&&_.appContactInfo&&_.appContactInfo.call_plugin_info;if(!t||!Array.isArray(t))return 0;var r=t.find((t=>t.plugin_id===e));return r&&void 0!==r.inner_version?r.inner_version:0}G.setContinueDecreaseReportLimitStrategyKey(18042,M,.5,100,x);var Y=()=>{},Q=()=>{},Z=()=>{},ee=()=>{},te="",re={},ne=-1,ie=0,ae=r.APP,oe="",se=0;"function"==typeof _.onReady&&_.onReady((()=>{void 0!==_.appType&&(ne=_.appType),"object"==typeof _.appLaunchInfo&&(ie=_.appLaunchInfo.scene);var e=_.networkType;e?oe=e:k.invoke("getNetworkType",{},(e=>{e&&e.networkType&&(oe=e.networkType)})),C&&void 0!==_.version&&I(_.version,"8.0.51")>=0&&(se=1),"function"==typeof k.addEventListener&&(k.addEventListener("onNetworkStatusChange",(e=>{oe=e.networkType})),se>=1&&k.addEventListener("onGameRenderFirstScreen",(()=>{se=2})))}));var le={surroundThirdByTryCatch:E.surroundThirdByTryCatch,slowReport:({key:e,cost:t,extend:r,force:n})=>{var i=a[e],o=Date.now();if(i&&(n||!(o-U<500))&&!(Object.keys(H).length>50||(H[r]||(H[r]=0),H[r]++,H[r]>3))){U=o;var s=`${t},${encodeURIComponent(r)},${i},${le.getAppType()}`;le.reportKeyValue({key:"Slow",value:s})}},isLimitReport:e=>G.isLimit(e),speedReport:({key:e,data:t,timeMark:r,force:n})=>{var a=i[e],o=Date.now(),s=0,l=r.nativeTime;if(a&&(n||!(o-(z[a]||0)<500))&&r.startTime&&r.endTime&&(1!==a&&2!==a||l)){t&&(s=JSON.stringify(t).length),z[a]=o;var c=`${a},${r.startTime},${l},${l},${r.endTime},${s},${le.getAppType()}`;le.reportKeyValue({key:"Speed",value:c})}},reportQualityData(e,t,r,i=[]){var a=r-t;a<0&&(a=0),R("reportKeyValue",{version:2,dataArray:[{key:n[e],value:[a,ie,t,r,...i].join(",")}],noCallback:!0})},reportQualityData2(e,t=[]){R("reportKeyValue",{version:2,dataArray:[{key:n[e],value:t.join(",")}],noCallback:!0})},flushReportKeyValueList:()=>{var e=G.attemptReportAndGetReportMsgs(!0);e.length&&K(e)},reportKeyValue:({key:e,value:t,immediately:r=!1,number:i=!1})=>{if(i||n[e]){G.pushReportQueue({key:i?e:n[e],value:t},r);var a=G.attemptReportAndGetReportMsgs(r);a.length&&K(a)}},flushReportIDKeyList:F,reportIDKey:function({id:e,key:t,value:r=1,force:n=!1,type:i}){var a;if("aiad"===i){if(!O[t])return;a=O[t]}else{if(!D[t])return;a=D[t]}e||"aiad"===i&&(e=2059),B(e||(C?356:358),a,r,n)},reportIDKeyDirectly:function({id:e,key:t,immediately:r=!1}){void 0!==t&&356!==e&&358!==e&&B(e,t=+t,1,r)},assertWithIDKey:function(e,t,r=1){e||B(1872,t,r,!0)},reportFrameworkIDKey:function(e,t=1){B(1874,e,t)},thirdErrorReport:({key:e=ae,error:t,triggerErrorCallback:r=!0,isUnhandledRejection:n=!1,promise:i,source:a="",isOpenDataContextError:o=!1})=>{le.errorReport({key:s[e],error:t,triggerErrorCallback:r,isThirdScriptError:!0,isUnhandledRejection:n,promise:i,source:a,isOpenDataContextError:o})},errorReport:({key:e,error:t,isThirdScriptError:n=!1,triggerErrorCallback:i=!0,isUnhandledRejection:a=!1,promise:s,source:c="",isOpenDataContextError:u=!1,extra:d=""})=>{if(o[e]&&t){var p,h;"function"==typeof __wxSourceMapRetrace__&&(t=__wxSourceMapRetrace__(t)),"object"==typeof t&&(t.message||t.stack)?(p=t.message,h=t.stack):(p=function(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}(t),h=A(t));var f=n?"MiniProgramError":`SystemError (${e})`,g=p,v="";t.name&&0!==(h||"").indexOf(t.name)&&(v="\n"+t.name+": "+g);var m=`${f}\n${g}${v}\n${h}`;if(S){var y=new Error(`${f}\n${g}`);"object"==typeof t&&void 0!==t.name&&Object.defineProperty(y,"name",{value:t.name}),"object"==typeof t&&void 0!==t.stack&&Object.defineProperty(y,"stack",{value:t.stack}),console.error(y)}else a?console.error("(in promise) "+m):console.error(m);if(!(u||m.indexOf("subContext.js")>=0||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(...e){k.publish(...e)}("WEBVIEW_ERROR_MSG",{data:{msg:m},options:{timestamp:Date.now()}}):i&&(le.triggerErrorMessage(m,a,t,s),n&&le.triggerThirdErrorMessage(m,a,t,s)),Object.keys(q).length>50||a&&"Error"!==A(t)))){var b="",_="";ae!==r.APP&&ae!==r.GAME||(b=te,_=function(e){var t="";return Object.keys(e).forEach(((r,n)=>{0!==n&&(t+="&");try{t+=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`}catch(e){}})),t}(re));var w=0;if(1004===le.getAppType()&&n)try{oe=$.getGameRelatedContextsExports().game._getCurrentNetworkType();var C=t.stackInfoArr;if(delete t.stackInfoArr,C){var I=C.find((e=>"usr"===e.type));if(I&&"__plugin__"===I.package&&"string"==typeof I.file){var P=I.file.split("/");w=X(c=P&&P[0])}}}catch(y){}else w=c.match(/wx[0-9a-f]{16}/)?X(c):0;var T=[o[e],t.name,...[g,h,void 0!==l&&l.version||"",le.getAppType(),b,_,void 0!==l&&l.updateTime||"","",a?1:0,c,w,oe,d,se].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t}))].join(",");if(q[T]||(q[T]=0),q[T]++,!(n&&q[T]>3||q[T]>3)){le.reportIDKey({key:e}),le.reportKeyValue({key:"Error",value:T});var x=G.attemptReportAndGetReportMsgs(!0);x.length&&K(x),F(),J()}}}},log:(e,t)=>{e&&"string"==typeof e&&(!t&&Date.now()-W<50||(W=Date.now(),j.push(e+""),j.length>=50&&J()))},submit:()=>{Date.now()-V<50||(V=Date.now(),F(),K(G.attemptReportAndGetReportMsgs(!0)),J())},registerErrorListener:e=>{"function"==typeof e&&(Y=e)},registerThirdErrorListener:e=>{"function"==typeof e&&(Q=e)},registerUnhandledRejectionListener:e=>{"function"==typeof e&&(Z=e)},registerThirdUnhandledRejectionListener:e=>{"function"==typeof e&&(ee=e)},triggerErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?Z(r,n):Y(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},triggerThirdErrorMessage:(e,t=!1,r,n)=>{setTimeout((()=>{try{t?ee(r,n):Q(e)}catch(e){console.error(e.message,"at onError callback function")}}),0)},setAsWidget:()=>{ae=r.WIDGET},setAsGame:()=>{ae=r.GAME},setAsGameSubContext:()=>{ae=r.GAME_SUBCONTEXT},getAppType:()=>-1===ne?0:ne+1e3},ce={};function ue(e){Object.defineProperty(ce,e,{get(){return t=le[e],function(...e){try{return t.apply(t,e)}catch(e){return void console.error("reporter error:"+e.message,e.stack)}};var t},configurable:!0,enumerable:!0})}Object.keys(le).forEach((e=>{ue(e)})),Object.defineProperty(ce,"__route__",{set(e){te=e}}),Object.defineProperty(ce,"__method__",{set(){}}),Object.defineProperty(ce,"__query__",{set(e){re=e}}),ce.RunType=r,"undefined"!=typeof window&&Object.defineProperty(window,"onbeforeunload",{configurable:!0,enumerable:!0,writable:!0,value(){le.submit()}});const de=ce})(),M=t.default})();var R=function(e){"use strict";var t;e.BackendMode=void 0,(t=e.BackendMode||(e.BackendMode={}))[t.Shadow=1]="Shadow",t[t.Composed=2]="Composed",t[t.Domlike=3]="Domlike";var r,n=Object.freeze({__proto__:null,BM:{DYNAMIC:!0,SHADOW:!1,COMPOSED:!1,DOMLIKE:!1},get BackendMode(){return e.BackendMode}}),i=Object.freeze({__proto__:null}),a=Object.freeze({__proto__:null});e.DeepCopyKind=void 0,(r=e.DeepCopyKind||(e.DeepCopyKind={})).None="none",r.Simple="simple",r.SimpleWithRecursion="simple-recursion";const o={defaultComponentSpace:null,externalComponent:!1,templateEngine:null,styleScope:null,extraStyleScope:null,hostNodeTagName:"wx-x",multipleSlots:!1,dynamicSlots:!1,directSlots:!1,reflectToAttributes:!1,writeFieldsToNode:!0,writeIdToDOM:!1,useMethodCallerListeners:!1,idPrefixGenerator:null,pureDataPattern:null,dataDeepCopy:e.DeepCopyKind.Simple,propertyPassingDeepCopy:e.DeepCopyKind.Simple,listenerChangeLifetimes:!1,virtualHost:!1,propertyEarlyInit:!1,throwGlobalError:!1,writeExtraInfoToAttr:!1,backendContext:null,devTools:null},s=(e,t)=>{const r=void 0===t?o:t;if(void 0===e&&r!==o)return r;const n=null!=e?e:{};return{externalComponent:void 0!==n.externalComponent?n.externalComponent:r.externalComponent,templateEngine:void 0!==n.templateEngine?n.templateEngine:r.templateEngine,styleScope:void 0!==n.styleScope?n.styleScope:r.styleScope,hostNodeTagName:void 0!==n.hostNodeTagName?n.hostNodeTagName:r.hostNodeTagName,extraStyleScope:void 0!==n.extraStyleScope?n.extraStyleScope:r.extraStyleScope,multipleSlots:void 0!==n.multipleSlots?n.multipleSlots:r.multipleSlots,dynamicSlots:void 0!==n.dynamicSlots?n.dynamicSlots:r.dynamicSlots,directSlots:void 0!==n.directSlots?n.directSlots:r.directSlots,reflectToAttributes:void 0!==n.reflectToAttributes?n.reflectToAttributes:r.reflectToAttributes,writeFieldsToNode:void 0!==n.writeFieldsToNode?n.writeFieldsToNode:r.writeFieldsToNode,writeIdToDOM:void 0!==n.writeIdToDOM?n.writeIdToDOM:r.writeIdToDOM,useMethodCallerListeners:void 0!==n.useMethodCallerListeners?n.useMethodCallerListeners:r.useMethodCallerListeners,idPrefixGenerator:void 0!==n.idPrefixGenerator?n.idPrefixGenerator:r.idPrefixGenerator,pureDataPattern:void 0!==n.pureDataPattern?n.pureDataPattern:r.pureDataPattern,dataDeepCopy:void 0!==n.dataDeepCopy?n.dataDeepCopy:r.dataDeepCopy,propertyPassingDeepCopy:void 0!==n.propertyPassingDeepCopy?n.propertyPassingDeepCopy:r.propertyPassingDeepCopy,listenerChangeLifetimes:void 0!==n.listenerChangeLifetimes?n.listenerChangeLifetimes:r.listenerChangeLifetimes,virtualHost:void 0!==n.virtualHost?n.virtualHost:r.virtualHost,propertyEarlyInit:void 0!==n.propertyEarlyInit?n.propertyEarlyInit:r.propertyEarlyInit}};class l{constructor(e){this.empty=!0,this._$arr=null,this._$type=e}add(e){this._$arr?this._$arr=this._$arr.concat(e):this._$arr=[e],this.empty=!1}remove(e){let t=null;if(this._$arr){const r=[],n=this._$arr;for(let i=0;i<n.length;i+=1){if(n[i]===e){r.push(...n.slice(i+1)),t=e;break}r.push(n[i])}this._$arr=r,this.empty=0===this._$arr.length}return t}call(e,t,r){const n=this._$arr;let i=!0;if(n)for(let a=0;a<n.length;a+=1){!1===d(this._$type,n[a],e,t,r)&&(i=!1)}return i}}class c{constructor(e){this.empty=!0,this._$arr=null,this._$type=e}add(e,t){const r={f:e,data:t};this._$arr?this._$arr=this._$arr.concat(r):this._$arr=[r],this.empty=!1}remove(e){let t=null;if(this._$arr){const r=[],n=this._$arr;for(let i=0;i<n.length;i+=1){const a=n[i];if(a.f===e){r.push(...n.slice(i+1)),t=a.data;break}r.push(a)}this._$arr=r,this.empty=0===this._$arr.length}return t}call(e,t,r,n,i){const a=this._$arr;let o=!0;if(a)for(let s=0;s<a.length;s+=1){const{f:l,data:c}=a[s];if(!r(c))continue;const u=d(this._$type,l,e,t,n);!1===(i?i(u):u)&&(o=!1)}return o}}let u=()=>{};function d(e,t,r,n,i){try{return t.apply(r,n)}catch(r){return void u(r,`${e||"Listener"} ${t.name||"(anonymous)"}`,i)}}const h=Symbol("TextNode"),f=Symbol("Element"),g=Symbol("NativeNode"),v=Symbol("VirtualNode"),m=Symbol("ShadowRootSymbol"),y=Symbol("Component"),b=e=>!!e&&e[h],_=e=>!!e&&e[f],w=e=>!!e&&e[g],S=e=>!!e&&e[v],C=e=>!!e&&e[m],k=e=>!!e&&e[y],I=e=>{if(_(e)){let t;return t=S(e)?`(virtual):${e.is}`:k(e)?`${e.tagName}:${e.is}`:w(e)?e.is:"(unknown)",`<${t}${(e=>{let t="";if(_(e)){null!==e._$slotName&&(t+=` (slot) name="${e._$slotName}"`),e.id&&(t+=` id="${e.id}"`),e.slot&&(t+=` slot="${e.slot}"`);const r=e.class;r&&(t+=` class="${r}"`),e.style&&(t+=` style="${e.style}"`)}return S(e)||(k(e)?Object.keys(e._$behavior._$propertyMap).forEach((r=>{t+=` ${r}="${String(e.data[r])}"`})):e.attributes.forEach((e=>{t+=` ${e.name}="${String(e.value)}"`}))),t})(e)}>`}return b(e)?e.textContent.trim():null===e?"<(null)>":void 0===e?"<(undefined)>":"<(unknown)>"},P=(e,t,r=0)=>{let n="";for(let e=r;e;e-=1)n+="  ";let i=n+I(e),a=!1;return _(e)&&(k(e)&&(a=e._$external),t?a?(i+=`\n${n}  <(external)>`,e.forEachComposedChild((e=>{i+=`\n${P(e,t,r+2)}`}))):e.forEachComposedChild((e=>{i+=`\n${P(e,t,r+1)}`})):e.childNodes.forEach((e=>{i+=`\n${P(e,t,r+1)}`}))),i};let T=!1;const A=new l("error"),x=new l("warning");function E(e,t,r,n){if(!T){T=!0,k(r)&&r.triggerLifetime("error",[e]);const i=!1===A.call(e,[e,t,r,n]);if(T=!1,i)return}if(o.throwGlobalError)throw e;console.error([e instanceof Error?`${e.message}`:String(e),n?`\t@${I(n)}`:void 0,r?`\t${t||""}@${"string"==typeof r?`<${r}>`:I(r||!1)}`:void 0].filter(Boolean).join("\n"))}function M(e,t,r){x.call(null,[e,t||"",r])&&console.warn(e)}u=E;class R extends Error{constructor(e,t,r,n){super(e),this.additionalStack=t,this.relatedComponent=r,this.element=n,E(this,t,r,n)}}const D=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseover","mouseup","mouseenter","mouseleave","click"];const O=e=>{const t=[];for(let r=0;r<e.length;r+=1){const n=e[r],i="important"===e.getPropertyPriority(n),a=e.getPropertyValue(n);t.push({name:n,value:a,important:i})}return t},L=(e,t)=>{let r=0;const n=[],i=e=>{for(let a=0;a<e.length;a+=1){const o=e[a];o instanceof CSSConditionRule||o instanceof CSSLayerBlockRule?(n.push(o),i(o.cssRules),n.pop()):(t(r,o,n),r+=1)}};i(e.cssRules)};var N;!function(e){e[e.Fragment=0]="Fragment",e[e.Element=1]="Element",e[e.TextNode=2]="TextNode",e[e.Component=3]="Component",e[e.VirtualNode=4]="VirtualNode"}(N||(N={}));class B{constructor(e){this._$shadowRoot=3===e?new $:null}release(){}associateValue(e){}getShadowRoot(){return this._$shadowRoot||void 0}appendChild(e){}removeChild(e,t){}insertBefore(e,t,r){}replaceChild(e,t,r){}spliceBefore(e,t,r){}spliceAppend(e){}spliceRemove(e,t){}setId(e){}setSlotName(e){}setContainingSlot(e){}reassignContainingSlot(e,t){}spliceBeforeSlotNodes(e,t,r){}spliceRemoveSlotNodes(e,t){}spliceAppendSlotNodes(e){}setInheritSlots(){}setStyle(e){}addClass(e){}removeClass(e){}clearClasses(){}setClassAlias(e,t){}setAttribute(e,t){}removeAttribute(e){}setDataset(e,t){}setText(e){}setListenerStats(e,t,r){}setModelBindingStat(e,t){}}class $ extends B{constructor(){super(4)}createElement(e,t){return new B(1)}createTextNode(e){return new B(2)}createComponent(e,t,r,n,i,a){return new B(3)}createVirtualNode(e){return new B(4)}}class F{constructor(){this.mode=2,this._$styleSheetIdInc=1,this._$renderCallbacks=null,this._$rootNode=new j}destroy(){}getWindowWidth(){return 1}getWindowHeight(){return 1}getDevicePixelRatio(){return 1}getTheme(){return"light"}registerStyleSheetContent(e,t){}appendStyleSheetPath(e,t){const r=this._$styleSheetIdInc;return this._$styleSheetIdInc+=1,r}disableStyleSheet(e){}render(e){if(this._$renderCallbacks)this._$renderCallbacks.push(e);else{const t=this._$renderCallbacks=[e];setTimeout((()=>{this._$renderCallbacks=null,t.forEach((e=>{d("Render Callback",e,this,[null])}))}),16)}}getRootNode(){return this._$rootNode}createElement(e,t){return new j}createTextNode(e){return new j}createFragment(){return new j}onEvent(e){}createMediaQueryObserver(e,t){return{disconnect:()=>{}}}}class j{release(){}associateValue(e){}appendChild(e){}removeChild(e,t){}insertBefore(e,t,r){}replaceChild(e,t,r){}spliceBefore(e,t,r){}spliceAppend(e){}spliceRemove(e,t){}setId(e){}setStyleScope(e,t,r){}setStyle(e){}addClass(e,t){}removeClass(e,t){}clearClasses(){}setAttribute(e,t){}removeAttribute(e){}setText(e){}getBoundingClientRect(e){setTimeout((()=>{e({left:0,top:0,width:0,height:0})}),0)}getScrollOffset(e){setTimeout((()=>{e({scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0})}),0)}setEventDefaultPrevented(e,t){}setListenerStats(e,t,r){}setModelBindingStat(e,t){}createIntersectionObserver(e,t,r,n){return{disconnect:()=>{}}}getContext(e){e(null)}}const W=/[^\s.,]+/g,V=e=>{const t=[];let r;for(W.lastIndex=0;null!==(r=W.exec(e));)t.push(String(r[0]));return t};class U{constructor(){this._$names=[""]}static globalScope(){return 0}register(e){const t=this._$names.length;return this._$names.push(e),t}queryName(e){return this._$names[e]}}class z{constructor(e,t,r,n,i,a){this._$externalNames=void 0,this._$externalRawAlias=null,this._$dirtyExternalNames=null,this._$rawNames=[],this._$backendNames=[],this._$backendNameScopes=[],this._$backendNamesCount=[],this._$hasAliasNames=!1,this._$element=e,this._$owner=r,this._$defaultScope=n,this._$extraScope=i,this._$rootScope=(null==r?void 0:r._$owner)?r._$rootScope:n,this._$prefixManager=a,t&&(this._$externalNames=t,this._$externalRawAlias=[])}_$resolvePrefixes(e,t){const r=this._$owner,n=null==r?void 0:r._$externalNames,i=n?n.indexOf(e):-1;if(r&&-1!==i){this._$hasAliasNames=!0;const e=r._$externalRawAlias[i];if(e)for(let n=0;n<e.length;n+=1)r._$resolvePrefixes(e[n],t)}else if("~"===e[0])t(this._$rootScope,e.slice(1));else if("^"===e[0]){let r=e.slice(1),n=this._$owner;for(;"^"===r[0];)r=r.slice(1),n=null==n?void 0:n._$owner;t((null==n?void 0:n._$owner)?n._$defaultScope:this._$rootScope,r)}else void 0!==this._$extraScope&&t(this._$extraScope,e),t(this._$defaultScope,e)}_$hasAlias(e){return!!this._$externalNames&&this._$externalNames.includes(e)}_$setAlias(e,t){if(!this._$externalNames)return;let r;if(null==t)r=[];else if(Array.isArray(t)){r=Array(t.length);for(let e=0,n=t.length;e<n;e+=1)r[e]=String(t[e])}else r=V(String(t));const n=this._$externalNames.indexOf(e);-1!==n&&(this._$dirtyExternalNames=this._$dirtyExternalNames||[],this._$dirtyExternalNames.push(e),this._$externalRawAlias[n]=r)}_$getAlias(){var e;const t=Object.create(null);return null===(e=this._$externalNames)||void 0===e||e.forEach(((e,r)=>{t[e]=this._$externalRawAlias[r]})),t}_$spreadExternalClassUpdate(){const e=this._$owner;if(!(null==e?void 0:e._$dirtyExternalNames)||!this._$hasAliasNames)return!1;const t=e._$dirtyExternalNames,r=this._$externalNames;if(r)for(let e=0;e<r.length;e+=1){const n=this._$externalRawAlias[e]||[];for(let i=0;i<t.length;i+=1)n.includes(t[i])&&(this._$dirtyExternalNames=this._$dirtyExternalNames||[],this._$dirtyExternalNames.push(r[e]))}const n=this._$rawNames.some((e=>e.some((e=>t.includes(e)))));return n&&this._$updateResolvedNames(),!!this._$dirtyExternalNames||n}_$shouldUpdateExternalClass(){return!!this._$dirtyExternalNames}_$markExternalClassUpdated(){this._$dirtyExternalNames=null}_$fasterAddUpdateResolvedNames(){const e=this._$element._$backendElement;if(!e)return!1;const t=this._$rawNames;this._$hasAliasNames=!1;for(let r=0,n=t.length;r<n;r+=1){const n=t[r];if(n)for(let t=0,r=n.length;t<r;t+=1){const r=n[t];this._$resolvePrefixes(r,((t,r)=>{this._$addClass(r,t,e)}))}}return!0}_$updateResolvedNames(){const e=this._$element._$backendElement;if(!e)return!1;const t=this._$rawNames,r=this._$backendNames,n=this._$backendNameScopes,i=this._$backendNamesCount,a=[],o=[],s=[];this._$hasAliasNames=!1;for(let e=0,r=t.length;e<r;e+=1){const r=t[e];if(r)for(let e=0,t=r.length;e<t;e+=1){const t=r[e];this._$resolvePrefixes(t,((e,t)=>{if(this._$hasAliasNames)for(let r=0;r<a.length;r+=1)if(t===a[r]&&e===o[r])return void(s[r]+=1);a.push(t),o.push(e),s.push(1)}))}}let l=!1;for(let t=0;t<a.length;t+=1){let s=!1;for(let e=0;e<r.length;e+=1)if(a[t]===r[e]&&o[t]===n[e]){s=!0,i[e]=0;break}s||(l=!0,this._$addClassToBackend(a[t],o[t],e))}for(let t=0;t<r.length;t+=1)0!==i[t]&&(l=!0,this._$removeClassFromBackend(r[t],n[t],e));return this._$backendNames=a,this._$backendNameScopes=o,this._$backendNamesCount=s,l}_$addClassToBackend(e,t,r){r.addClass(e,t)}_$removeClassFromBackend(e,t,r){r.removeClass(e,t)}_$addClass(e,t,r){const n=this._$backendNames,i=this._$backendNameScopes,a=this._$backendNamesCount;let o=!1;if(this._$hasAliasNames)for(let r=0;r<n.length;r+=1)if(e===n[r]&&t===i[r]){o=!0,a[r]+=1;break}o||(n.push(e),i.push(t),a.push(1),this._$addClassToBackend(e,t,r))}_$removeClass(e,t,r){const n=this._$backendNames,i=this._$backendNameScopes,a=this._$backendNamesCount;let o;for(o=0;o<n.length&&(e!==n[o]||t!==i[o]);o+=1);a[o]<=1?(n.splice(o,1),i.splice(o,1),a.splice(o,1),this._$removeClassFromBackend(e,t,r)):a[o]-=1}toggle(e,t,r=0){const n=this._$element._$backendElement,i=this._$rawNames[r]?this._$rawNames[r].indexOf(e):-1;let a=!1;if(void 0===t?-1===i:!!t){if(-1===i){const t=this._$rawNames;t[r]||(t[r]=[]);t[r].push(e),n&&this._$resolvePrefixes(e,((e,t)=>{this._$addClass(t,e,n)})),a=!0}}else if(-1!==i){const t=this._$rawNames[r];t&&t.splice(i,1),n&&this._$resolvePrefixes(e,((e,t)=>{this._$removeClass(t,e,n)})),a=!0}return a}contains(e,t=0){const r=this._$rawNames[t]||[];for(let t=0;t<r.length;t+=1){const n=r[t];if("~"===n[0]){if(n.slice(1)===e)return!0}else if("^"===n[0]){let t=n.slice(1);for(;"^"===t[0];)t=t.slice(1);if(t===e)return!0}else if(n===e)return!0}return!1}setClassNames(e,t=0){let r;r=null==e?[]:Array.isArray(e)?V(e.join(" ")):V(String(e));const n=0===this._$rawNames.length;return this._$rawNames[t]=r,n?this._$fasterAddUpdateResolvedNames():this._$updateResolvedNames()}getClassNames(e=0){const t=this._$rawNames[e]||[];return t?t.join(" "):""}}const q=Symbol("method");var H=Object.freeze({__proto__:null,METHOD_TAG:q});class G{constructor(e,t){this.ownerSpace=e,this._$trans=t}_$implement(e){var t;return(null===(t=this._$trans)||void 0===t?void 0:t.call(this,e))||e}}class K{constructor(){this._$traits=new WeakMap}implement(e,t){const r=e._$implement(t);this._$traits.set(e,r)}get(e){return this._$traits.get(e)}}const J=(e,t)=>{let r;r="/"!==e[0]?t.split("/").slice(0,-1).concat(e.split("/")):e.split("/");const n=[];for(let e=0;e<r.length;e+=1){const t=r[e];""!==t&&"."!==t&&(".."!==t?n.push(t):n.pop())}return n.join("/")},X=(e,t)=>{const r=e.indexOf("://");if(r>0){const t=e.indexOf("/",r+3);if(t>0){return{domain:e.slice(0,t),absPath:J(e.slice(t+1),"")}}return{domain:e.slice(0,r+3),absPath:J(e.slice(r+3),"")}}return{domain:null,absPath:J(e,t)}};class Y{constructor(e,t,r){this._$callbacks=[],this._$ownerSpace=e,this._$isPub=t,this._$alias=r}add(e){this._$callbacks.push(e)}hintUsed(e){var t,r;null===(r=(t=this._$ownerSpace)._$componentWaitingListener)||void 0===r||r.call(t,this._$isPub,this._$alias,e)}remove(e){const t=this._$callbacks.indexOf(e);-1!==t&&this._$callbacks.splice(t,1)}call(e){for(;this._$callbacks.length>0;){this._$callbacks.shift()(e)}}}class Q{constructor(e,t,r,n=!0){this._$behaviorList=Object.create(null),this._$pubBehaviorList=Object.create(null),this._$list=Object.create(null),this._$pubList=Object.create(null),this._$using=Object.create(null),this._$extendedNativeList=Object.create(null),this._$pubExtendedNativeList=Object.create(null),this._$importedSpaces=Object.create(null),this._$listWaiting=Object.create(null),this._$pubListWaiting=Object.create(null),this._$groupingListWaiting=null,this._$componentWaitingListener=null,this._$allowUnusedNativeNode=!0,this._$sharedStyleScope=0,t&&(Object.assign(this._$list,t._$pubList),Object.assign(this._$behaviorList,t._$pubBehaviorList),Object.assign(this._$extendedNativeList,t._$pubExtendedNativeList)),this._$defaultComponent=null!=e?e:"",this._$componentOptions=s({},null==t?void 0:t._$componentOptions),this.styleScopeManager=r||new U,this._$allowUnusedNativeNode=n}updateComponentOptions(e){this._$componentOptions=s(e,this._$componentOptions)}getComponentOptions(){return this._$componentOptions}updateBaseExtendedNativeList(e){Object.assign(this._$extendedNativeList,e._$pubExtendedNativeList)}setSharedStyleScope(e){this._$sharedStyleScope=e}setGlobalUsingComponent(e,t){this._$using[e]=t}importSpace(e,t,r){this._$importedSpaces[e]={space:t,privateUse:r}}getComponentByUrl(e,t){const{domain:r,absPath:n}=X(e,t),i=this.getComponent(n,!0,r);if(!i)throw new Error(`There is no component "${n}" in the space and no default component can be used`);return i}getComponentByUrlWithoutDefault(e,t){const{domain:r,absPath:n}=X(e,t);return this.getComponent(n,!1,r)||null}getComponent(e,t=!0,r=null){let n;if(r){const e=this._$importedSpaces[r];if(e){const{space:t,privateUse:r}=e;n=r?t._$list:t._$pubList}}else n=this._$list;if(n){const t=n[e];if(t)return t}if(t)return this._$list[this._$defaultComponent]}getDefaultComponent(){return this._$list[this._$defaultComponent]||null}isDefaultComponent(e){return this._$list[this._$defaultComponent]===e}getGlobalUsingComponent(e){return this._$using[e]||null}getBehaviorByUrl(e,t){const{domain:r,absPath:n}=X(e,t);return this._$getBehavior(n,r)||null}_$getBehavior(e,t=null){let r;if(t){const e=this._$importedSpaces[t];if(e){const{space:t,privateUse:n}=e;r=n?t._$behaviorList:t._$pubBehaviorList}}else r=this._$behaviorList;if(r){const t=r[e];if(t)return t}}defineComponent(e){const t=e.is;return new xt(t,this).definition(e).registerComponent()}defineBehavior(e){const t=e.is;return new xt(t,this).definition(e).registerBehavior()}define(e){return new xt(e,this)}defineWithMethodCaller(e){return new xt(e,this)}_$registerComponent(e,t){this._$list[e]=t,this._$behaviorList[e]=t.behavior;const r=this._$listWaiting[e];r&&(delete this._$listWaiting[e],this._$groupingListWaiting?this._$groupingListWaiting.push({waiting:r,comp:t}):r.call(t))}_$registerBehavior(e,t){this._$behaviorList[e]=t}registerExtendedNativeNode(e,t){this._$extendedNativeList[e]=t}getExtendedNativeNode(e){return this._$extendedNativeList[e]}startGroupRegister(){this._$groupingListWaiting=[]}endGroupRegister(){const e=this._$groupingListWaiting;if(e){this._$groupingListWaiting=null;for(let t=0;t<e.length;t+=1){const{waiting:r,comp:n}=e[t];r.call(n)}}}groupRegister(e){this.startGroupRegister();const t=d("group register",e,this,[]);return this.endGroupRegister(),t}exportComponent(e,t){const r=this._$list[t];if(!r)throw new Error(`There is no component "${t}" for aliasing`);this._$pubList[e]=r;const n=this._$pubListWaiting[e];n&&(delete this._$pubListWaiting[e],n.call(r))}getExportedComponent(e){return this._$pubList[e]}getExportedBehavior(e){return this._$pubBehaviorList[e]}exportBehavior(e,t){const r=this._$behaviorList[t];if(!r)throw new Error(`There is no behavior "${t}" for aliasing`);this._$pubBehaviorList[e]=r}exportExtendedNativeNode(e){const t=this._$extendedNativeList[e];if(!t)throw new Error(`There is no extended native node "${e}" for aliasing`);this._$pubExtendedNativeList[e]=t}_$componentWaitingList(e,t){const{domain:r,absPath:n}=X(e,t);let i,a,o;if(r){const e=this._$importedSpaces[r];if(!e)return null;if(a=e.space,o=!e.privateUse,o){if(a._$pubList[n])return null;i=a._$pubListWaiting}else{if(a._$list[n])return null;i=a._$listWaiting}}else{if(a=this,o=!1,this._$list[n])return null;i=this._$listWaiting}let s=i[n];return s||(s=i[n]=new Y(a,o,n),s)}setComponentWaitingListener(e){this._$componentWaitingListener=e}createComponentByUrl(e,t,r,n){let i=t,a=null;const o=i.indexOf("#");o>=0&&(i=i.slice(0,o));const s=i.indexOf("?");s>=0&&(a=i.slice(s+1),i=i.slice(0,s));const l=this.getComponentByUrl(i,"");let c=null;r&&(c=Object.create(null),Object.keys(r).forEach((e=>{const t=r[e],n=this.getComponentByUrl(t,"");c[e]=n})));return At.createWithGenericsAndContext(e,l,c,n,(e=>{if(a){let t=!1;a.split("&").forEach((r=>{const n=r.indexOf("=");if(n>=0){const i=decodeURIComponent(r.slice(0,n)),a=decodeURIComponent(r.slice(n+1));e._$dataGroup.replaceProperty(i,a)&&(t=!0)}})),t&&e.applyDataUpdates()}}))}defineTraitBehavior(e){return new G(this,e)}}let Z=null;const ee=()=>{if(Z)return Z;const e=new Q;return Z=e,e},te=e=>{const t=e.str;for(;e.cur<t.length;){const r=t[e.cur];if(" "!==r&&"\n"!==r&&"\r"!==r&&"\t"!==r&&"\f"!==r)break;e.cur+=1}return e.cur<t.length},re=e=>{const t=e.str;let r="";for(;e.cur<t.length;){const n=t[e.cur];if(!(n>="0"&&n<="9"))break;r+=n,e.cur+=1}if(!r)throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (illegal index)`);return parseInt(r,10)},ne=e=>{const t=e.str;let r="";for(;e.cur<t.length;){const n=t[e.cur];if("\\"===n)if(e.cur+1===t.length);else{r+=t[e.cur+1],e.cur+=1}else if(/^[_a-zA-Z]$/.test(n))r+=n;else{if(!(n>="0"&&n<="9"))break;if(""===r)throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (field name cannot start with digits)`);r+=n}e.cur+=1}return r},ie=e=>{const t=e.str;let r="";for(;e.cur<t.length;){const n=t[e.cur];if("\\"===n)if(e.cur+1===t.length)r+="\\",e.cur+=1;else{const n=t[e.cur+1];"."===n||"["===n||"]"===n||"\\"===n?(r+=n,e.cur+=2):(r+="\\",e.cur+=1)}else{if("."===n||"["===n)break;r+=n,e.cur+=1}}return r},ae=e=>{const t=e.str;if(te(e),"*"===t[e.cur]&&"*"===t[e.cur+1])return e.cur+=2,["**"];const r=ne(e);if(!r)throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (first field name illegal)`);const n=[r];for(;e.cur<t.length&&te(e);){const r=t[e.cur];if("."===r){if(e.cur+=1,te(e),"*"===t[e.cur]&&"*"===t[e.cur+1]){n.push("**"),e.cur+=2;break}const r=ne(e);if(!r)throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (field name illegal)`);n.push(r)}else{if("["!==r)break;{e.cur+=1,te(e);const r=re(e);te(e);if("]"!==t[e.cur])throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (illegal index)`);e.cur+=1,n.push(r)}}}return n},oe=e=>{const t=(e=>{const t=e.str,r=[];for(;e.cur<t.length;){const n=t[e.cur];if("."===n){e.cur+=1;const t=ie(e);""!==t&&r.push(t)}else if("["===n){e.cur+=1;const n=re(e);if("]"!==t[e.cur]&&e.cur<t.length)throw new Error(`data path descriptor "${t}" is illegal at char ${e.cur} (illegal index)`);e.cur+=1,r.push(n)}else{const t=ie(e);r.push(t)}}return 0===r.length&&r.push(""),r})({str:e,cur:0});return t},se=e=>{if("string"!=typeof e)return e.map((e=>ae({str:e,cur:0})));const t={str:e,cur:0},r=(e=>{const t=[];for(t.push(ae(e)),te(e);","===e.str[e.cur];)e.cur+=1,t.push(ae(e)),te(e);return t})(t);if(t.cur!==e.length)throw new Error(`data path descriptor "${e}" is illegal at char ${t.cur}`);return r};var le=Object.freeze({__proto__:null,parseMultiPaths:se,parseSinglePath:oe});const ce=(e,t)=>{if("object"==typeof e&&null!==e){const r=t.get(e);if(void 0!==r)return r;if(Array.isArray(e)){const r=[];t.set(e,r);for(let n=0;n<e.length;n+=1)r[n]=ce(e[n],t);return r}const n={};t.set(e,n);const i=Object.keys(e);for(let r=0;r<i.length;r+=1){const a=i[r];n[a]=ce(e[a],t)}return n}return"symbol"==typeof e?Symbol(e.description):e},ue=e=>{if("object"==typeof e&&null!==e){if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r+=1)t[r]=ue(e[r]);return t}const t={},r=Object.keys(e);for(let n=0;n<r.length;n+=1){const i=r[n];t[i]=ue(e[i])}return t}return"symbol"==typeof e?Symbol(e.description):e},de=(e,t)=>t?ce(e,new WeakMap):ue(e);var pe;!function(e){e[e.Disabled=0]="Disabled",e[e.Enabled=1]="Enabled",e[e.Destroyed=2]="Destroyed"}(pe||(pe={}));var he=Object.freeze({__proto__:null,get AutoDestroyState(){return pe},deepCopy:de,simpleDeepCopy:ue});class fe{constructor(e){this._$subtreeObserversCount=0,this.attrObservers=null,this.allAttrObservers=null,this.textObservers=null,this.childObservers=null,this.attachObservers=null,this._$bound=e}attachChild(e){e._$mutationObserverTarget||(e._$mutationObserverTarget=new fe(e)),this._$subtreeObserversCount>0&&e._$mutationObserverTarget.updateSubtreeCount(this._$subtreeObserversCount)}detachChild(e){e._$mutationObserverTarget&&e._$mutationObserverTarget.updateSubtreeCount(-this._$subtreeObserversCount)}updateSubtreeCount(e){this._$subtreeObserversCount+=e;const t=this._$bound;if(!_(t))return;t.childNodes.forEach((t=>{t._$mutationObserverTarget||(t._$mutationObserverTarget=new fe(t)),t._$mutationObserverTarget.updateSubtreeCount(e)}))}hasSubtreeListeners(){return this._$subtreeObserversCount>0}static callAttrObservers(e,t){var r;let n=e;do{const e=n._$mutationObserverTarget;null===(r=null==e?void 0:e.allAttrObservers)||void 0===r||r.call(n,[t]),!(null==e?void 0:e.attrObservers)||"basic"!==t.nameType&&"attribute"!==t.nameType&&"component-property"!==t.nameType||e.attrObservers.call(n,[t]);const i=n.parentNode;if(!i)break;if(n=i,!n._$mutationObserverTarget)break}while(n._$mutationObserverTarget._$subtreeObserversCount>0)}static callTextObservers(e,t){var r;let n=e;do{const e=n._$mutationObserverTarget;null===(r=null==e?void 0:e.textObservers)||void 0===r||r.call(n,[t]);const i=n.parentNode;if(!i)break;if(n=i,!n._$mutationObserverTarget)break}while(n._$mutationObserverTarget._$subtreeObserversCount>0)}static callChildObservers(e,t){var r;let n=e;do{const e=n._$mutationObserverTarget;null===(r=null==e?void 0:e.childObservers)||void 0===r||r.call(n,[t]);const i=n.parentNode;if(!i)break;if(n=i,!n._$mutationObserverTarget)break}while(n._$mutationObserverTarget._$subtreeObserversCount>0)}static callAttachObservers(e,t){var r;const n=e._$mutationObserverTarget;null===(r=null==n?void 0:n.attachObservers)||void 0===r||r.call(e,[t])}}class ge{constructor(e){this._$subtreeListenersCount=0,this._$boundFuncArrs=[],this._$boundTarget=null,this._$listener=e,this._$normalizedListener=null}static create(e){return new ge(e)}observe(e,t={properties:!1,childList:!1,characterData:!1,subtree:!1,attachStatus:!1}){const r=this._$listener;if(!r)throw new Error("A MutationObserver can only observe once");let n;e._$mutationObserverTarget?n=e._$mutationObserverTarget:(n=new fe(e),e._$mutationObserverTarget=n),this._$listener=null;const i=t.subtree?r:function(e){e.target===this&&r.call(this,e)};this._$normalizedListener=i,this._$boundTarget=n,"all"===t.properties?(n.allAttrObservers||(n.allAttrObservers=new l("attributeObserver")),n.allAttrObservers.add(i),this._$boundFuncArrs.push(n.allAttrObservers),this._$subtreeListenersCount+=1):t.properties&&(n.attrObservers||(n.attrObservers=new l("attributeObserver")),n.attrObservers.add(i),this._$boundFuncArrs.push(n.attrObservers),this._$subtreeListenersCount+=1),t.childList&&(n.childObservers||(n.childObservers=new l("childObserver")),n.childObservers.add(i),this._$boundFuncArrs.push(n.childObservers),this._$subtreeListenersCount+=1),t.characterData&&(n.textObservers||(n.textObservers=new l("textObserver")),n.textObservers.add(i),this._$boundFuncArrs.push(n.textObservers),this._$subtreeListenersCount+=1),t.subtree&&n.updateSubtreeCount(this._$subtreeListenersCount),t.attachStatus&&(n.attachObservers||(n.attachObservers=new l("attachObserver")),n.attachObservers.add(i),this._$boundFuncArrs.push(n.attachObservers))}disconnect(){var e;null===(e=this._$boundTarget)||void 0===e||e.updateSubtreeCount(-this._$subtreeListenersCount);const t=this._$boundFuncArrs;this._$boundFuncArrs=[];const r=this._$normalizedListener;r&&t.forEach((e=>{e.remove(r)}))}}var ve=Object.freeze({__proto__:null,MutationObserver:ge,MutationObserverTarget:fe});const me=Object.prototype.hasOwnProperty;var ye;e.NormalizedPropertyType=void 0,(ye=e.NormalizedPropertyType||(e.NormalizedPropertyType={})).Invalid="invalid",ye.Any="any",ye.String="string",ye.Number="number",ye.Boolean="boolean",ye.Object="object",ye.Array="array",ye.Function="function";const be=(e,t)=>{const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const i=r[n];if(Object.prototype.hasOwnProperty.call(e,i))if("_"===i[0]&&M(`data field "${i}" from different behaviors is overriding or merging.`),"object"!=typeof e[i]||"object"!=typeof t[i]||null===t[i]||Array.isArray(t[i]))e[i]=t[i];else{if(Array.isArray(e[i]))e[i]=e[i].slice();else{const t=e[i],r={},n=Object.keys(t);for(let e=0;e<n.length;e+=1){const i=n[e];r[i]=t[i]}e[i]=r}be(e[i],t[i])}else e[i]=t[i]}},_e=e=>{switch(e){case"string":return"";case"number":return 0;case"boolean":return!1;case"array":return[];case"function":return function(){};default:return null}},we=e=>"string"===e||e===String?"string":"number"===e||e===Number?"number":"boolean"===e||e===Boolean?"boolean":"object"===e||e===Object?"object":"array"===e||e===Array?"array":"function"===e||e===p?"function":"any"===e||null==e?"any":"invalid",Se=(e,t,r)=>{const n=r.type,i=r.optionalTypes;if(i)for(let t=0;t<i.length;t+=1)if(Ce(i[t],e))return e;return"string"===n?null==e?(M(`property "${t}" received type-incompatible value: expected <String> but get null value. Used default value instead.`),r.defaultFn()):("object"==typeof e&&M(`property "${t}" received type-incompatible value: expected <String> but got object-typed value. Force converted.`),String(e)):"number"===n?isFinite(e)?Number(e):(M("number"==typeof e?`property "${t}" received type-incompatible value: expected <Number> but got NaN or Infinity. Used default value instead.`:`property "${t}" received type-incompatible value: expected <Number> but got non-number value. Used default value instead.`),r.defaultFn()):"boolean"===n?!!e:"array"===n?Array.isArray(e)?e:(M(`property "${t}" received type-incompatible value: expected <Array> but got non-array value. Used default value instead.`),r.defaultFn()):"object"===n?"object"==typeof e?e:(M(`property "${t}" received type-incompatible value: expected <Object> but got non-object value. Used default value instead.`),r.defaultFn()):"function"===n?"function"==typeof e?e:(M(`property "${t}" received type-incompatible value: expected <Function> but got non-function value. Used default value instead.`),r.defaultFn()):void 0===e?r.defaultFn():e},Ce=(e,t)=>{if("string"===e){if("string"!=typeof t)return!1}else if("number"===e){if(!Number.isFinite(t))return!1}else if("boolean"===e){if("boolean"!=typeof t)return!1}else if("object"===e){if("object"!=typeof t||Array.isArray(t))return!1}else if("array"===e){if("object"!=typeof t||!Array.isArray(t))return!1}else if("function"===e){if("function"!=typeof t)return!1}else if(void 0===t)return!1;return!0};var ke;!function(e){e[e.None=0]="None",e[e.Simple=1]="Simple",e[e.SimpleWithRecursion=2]="SimpleWithRecursion"}(ke||(ke={}));class Ie{constructor(e){this.observerRoot={sub:{}},this.observers=[],this.propFields=e}cloneSub(){const e=new Ie(this.propFields);return this.observers.length>0&&(e.observerRoot=ue(this.observerRoot),e.observers=this.observers.slice()),e}addObserver(e,t){const r=this.observers.length;this.observers.push({path:t,f:e});for(let e=0;e<t.length;e+=1){const n=t[e];let i=this.observerRoot,a=!1;for(let e=0;e<n.length;e+=1){const t=n[e];if("**"===t){a=!0;break}i.sub[t]||(i.sub[t]={sub:{}}),i=i.sub[t]}a?i.wildcard?i.wildcard.push(r):i.wildcard=[r]:i.listener?i.listener.push(r):i.listener=[r]}}}const Pe=(e,t,r,n)=>{const i=new Array(r.length);for(let e=0;e<r.length;e+=1){const n=r[e];let a=t;for(let e=0;e<n.length;e+=1){const t=n[e];if("**"===t)break;if("object"!=typeof a||null===a){a=void 0;break}a=a[t]}i[e]=a}d("Data Observer",n,e.getMethodCaller(),i,e||void 0)},Te=(e,t)=>{if(e.listener)for(let r=0;r<e.listener.length;r+=1){t[e.listener[r]]=!0}if(e.wildcard)for(let r=0;r<e.wildcard.length;r+=1){t[e.wildcard[r]]=!0}const r=Object.keys(e.sub);for(let n=0;n<r.length;n+=1){const i=r[n];Te(e.sub[i],t)}},Ae=(e,t,r)=>{let n=e,i=!0;for(let e=0;e<r.length;e+=1){const a=r[e];if(n.wildcard){const e=n.wildcard;for(let r=0;r<e.length;r+=1){t[e[r]]=!0}}if(!me.call(n.sub,a)){i=!1;break}n=n.sub[a]}i&&Te(n,t)},xe=(e,t,r,n)=>{for(let i=0;i<e.length;i+=1){const{path:a,f:o}=e[i];t[i]&&(t[i]=!1,r&&Pe(r,n,a,o))}},Ee=t=>t===e.DeepCopyKind.Simple?1:t===e.DeepCopyKind.SimpleWithRecursion?2:0;class Me{_$generateInnerData(e){const t=this._$pureDataPattern,r=this._$dataDeepCopy;if(t||0!==r){const n={},i=Object.keys(e);for(let a=0;a<i.length;a+=1){const o=i[a],s=e[o];t&&t.test(o)||(n[o]=0===r?s:2===r?de(s,!0):ue(s))}return n}return null}constructor(e,t,r,n,i,a,o){this._$modelBindingListener=null,this._$pendingChanges=[],this._$doingUpdates=null,this._$recUpdateLevel=0,this._$comp=e,this.data=t,this._$pureDataPattern=r,this._$dataDeepCopy=n,this._$propertyPassingDeepCopy=i,this._$reflectToAttributes=a&&!!e,this._$propFields=o.propFields,this._$observerTree=o,this._$observerStatus=new Array(o.observers.length),this.innerData=this._$generateInnerData(t)}static create(e){return new Me(null,e,null,0,0,!1,new Ie({}))}setUpdateListener(e){this._$updateListener=e}replaceWholeData(e){this.data=e,this.innerData=this._$generateInnerData(e)}replaceDataOnPath(e,t){this._$pendingChanges.push([e,t,void 0,void 0])}spliceArrayDataOnPath(e,t,r,n){Array.isArray(n)?this._$pendingChanges.push([e,n,null!=t?t:-1,r||0]):M(`The splice insertion must be a string (on path "${e.join(".")}"). The change is ignored.`)}replaceProperty(e,t){let r=t;return!!this._$propFields[e]&&(0!==this._$propertyPassingDeepCopy&&(r=2===this._$propertyPassingDeepCopy?de(t,!0):ue(t)),this._$pendingChanges.push([[e],r,!0,void 0]),!0)}setChanges(e){this._$pendingChanges=e}getChanges(){return this._$pendingChanges}setModelBindingListener(e,t){if(this._$modelBindingListener)this._$modelBindingListener[e]=t;else{(this._$modelBindingListener=Object.create(null))[e]=t}}applyDataUpdates(e=!1){var t;const r=this._$propFields,n=this._$comp,i=this._$pureDataPattern,a=this._$dataDeepCopy,o=!!this._$doingUpdates;let s,l;this._$observerTree.observers.length>0?this._$doingUpdates?(s=this._$doingUpdates.combined,l=this._$doingUpdates.prop):(this._$doingUpdates={prop:[],combined:[],count:0},s=this._$doingUpdates.combined,l=this._$doingUpdates.prop):(s=[],l=[]);const c=this._$pendingChanges;this._$pendingChanges=[];for(let t=0;t<c.length;t+=1){const o=c[t],[u,p,h,f]=o,g=void 0!==f,v=String(u[0]),m=!!i&&i.test(v),y=!m&&this.innerData,b=r[v];let _=!0;if(b&&1===u.length){const t=this.data[v];let r,i,s;if(g){if(Array.isArray(t)){const e=o,n=h;r=n>=0&&n<t.length?n:t.length,e[2]=r,t.splice(r,f,...p)}else M(`An array splice change cannot be applied to a non-array value (on path "${u.join(".")}"). The change is ignored.`);i=t}else i=Se(p,v,b);if(y){let e;if(0===a)o[1]=e=i;else if(void 0!==r){let t;e=this.innerData[v],o[1]=t=2===a?de(p,!0):ue(p),e.splice(r,f,...t)}else o[1]=e=2===a?de(i,!0):ue(i);this.innerData[v]=e}if(this.data[v]=i,this._$reflectToAttributes){const e=n.getBackendElement();if(e){let t=i;if(b.reflectIdPrefix){const e=n.ownerShadowRoot;if(e){const r=e.getHostNode()._$idPrefix;r&&(t=`${r}--${i}`)}}const r=v.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`)),a=typeof t;"boolean"===a?i?e.setAttribute(r,""):e.removeAttribute(r):"object"===a?e.setAttribute(r,JSON.stringify(t)):e.setAttribute(r,t)}}g||!0!==h?s=t!==i:(b.comparer?(o[2]=void 0,s=!!d("Property Comparer",b.comparer,n,[p,t],null==n?void 0:n.general())):s=t!==i,_=s),!m&&s&&l.push({propName:v,prop:b,oldValue:t,newValue:i,skipModelListener:e})}else{let t,r=this.data,n=v;for(let e=1;e<u.length;e+=1){const t=u[e];Number.isFinite(t)?(me.call(r,n)&&Array.isArray(r[n])||(r[n]=[]),y||m||t>=r[n].length&&s.push([u.slice(0,e).concat("length"),!0,void 0,void 0])):me.call(r,n)&&null!==r[n]&&"object"==typeof r[n]&&!Array.isArray(r[n])||(r[n]={}),r=r[n],n=t}if(g){const e=r.length,i=r[n];if(Array.isArray(i)){const n=o,a=h;t=a>=0&&a<i.length?a:i.length,n[2]=t,i.splice(t,f,...p),y||m||r.length===e||s.push([u.concat("length"),!0,void 0,void 0])}else M(`An array splice change cannot be applied to a non-array value (on path "${u.join(".")}"). The change is ignored.`)}else r[n]=p;if(y){r=this.innerData,n=v;for(let e=1;e<u.length;e+=1){const t=u[e];Number.isFinite(t)?(me.call(r,n)&&Array.isArray(r[n])||(r[n]=[]),t>=r[n].length&&s.push([u.slice(0,e).concat("length"),!0,void 0,void 0])):me.call(r,n)&&null!==r[n]&&"object"==typeof r[n]&&!Array.isArray(r[n])||(r[n]={}),r=r[n],n=t}let e;if(0===a)o[1]=e=p;else if(void 0!==t){const i=r.length;let l;e=r[n],o[1]=l=2===a?de(p,!0):ue(p),e.splice(t,f,...l),r.length!==i&&s.push([u.concat("length"),!0,void 0,void 0])}else o[1]=e=2===a?de(p,!0):ue(p);r[n]=e}!m&&b&&l.push({propName:v,prop:b,oldValue:void 0,newValue:p,skipModelListener:e||!1})}Ae(this._$observerTree.observerRoot,this._$observerStatus,u),!m&&_&&s.push(o),this._$doingUpdates&&(this._$doingUpdates.count+=1)}if(!o){if(this._$doingUpdates){let e;do{e=this._$doingUpdates.count,xe(this._$observerTree.observers,this._$observerStatus,n,this.data)}while(e!==this._$doingUpdates.count);this._$doingUpdates=null}if(this._$recUpdateLevel>0&&n&&M(`recursive update detected: a data update is applying during another data update for component "${n.is}" - this may disorder node trees`,n),this._$recUpdateLevel+=1,null===(t=this._$updateListener)||void 0===t||t.call(this,this.innerData||this.data,s),this._$recUpdateLevel-=1,n)for(let e=0;e<l.length;e+=1){const{propName:t,prop:r,oldValue:i,newValue:a,skipModelListener:o}=l[e];if(!o&&this._$modelBindingListener){const e=this._$modelBindingListener[t];e&&e(a)}r.observer&&d("Property Observer",r.observer,n.getMethodCaller(),[a,i],n),n._$mutationObserverTarget&&fe.callAttrObservers(n,{type:"properties",target:n,nameType:"component-property",propertyName:t})}}}}var Re;e.EventBubbleStatus=void 0,(Re=e.EventBubbleStatus||(e.EventBubbleStatus={}))[Re.Normal=0]="Normal",Re[Re.NoDefault=1]="NoDefault";let De=Date.now(),Oe=De;var Le,Ne;e.EventMutLevel=void 0,(Le=e.EventMutLevel||(e.EventMutLevel={}))[Le.None=0]="None",Le[Le.Mut=1]="Mut",Le[Le.Final=2]="Final",function(e){e[e.NotChanged=0]="NotChanged",e[e.Failed=1]="Failed",e[e.None=2]="None",e[e.Final=3]="Final",e[e.Mut=4]="Mut"}(Ne||(Ne={}));class Be{constructor(){this.listeners=Object.create(null),this.captureListeners=null}addListener(e,t,r={}){const n=r.final?2:r.mutated?1:0;let i,a,o;return r.capture||r.useCapture?this.captureListeners?i=this.captureListeners:(i=Object.create(null),this.captureListeners=i):i=this.listeners,i[e]?(o=!0,a=i[e]):(o=!1,a=i[e]={mutCount:0,finalCount:0,funcArr:new c("listener")}),a.funcArr.add(t,n),2===n?(a.finalCount+=1,o&&1!==a.finalCount?0:3):1===n?(a.mutCount+=1,!o||1===a.mutCount&&0===a.finalCount?4:0):o?0:2}removeListener(e,t,r={}){const n=r.capture||r.useCapture?this.captureListeners:this.listeners;if(!n)return 1;const i=n[e];if(!i)return 1;const a=i.funcArr.remove(t);return null===a?1:2===a?(i.finalCount-=1,0!==i.finalCount?0:i.mutCount>0?4:2):1===a?(i.mutCount-=1,0!==i.mutCount||0!==i.finalCount?0:2):0}}let $e=class e{constructor(e,t,r={}){const n=(()=>{const e=Date.now();return e<Oe&&(De+=e-Oe),Oe=e,e-De})();this._$eventName=this.type=e,this.timeStamp=n,this.detail=t,this.bubbles=r.bubbles||!1,this.composed=r.composed||!1,this._$capturePhase=r.capturePhase||!1,this._$eventBubblingControl={stopped:!1,mutated:!1,noDefault:!1},this._$originalEvent=r.originalEvent,this._$dispatched=!1,this._$handleListenerReturn=r.handleListenerReturn,r.extraFields&&(Object.assign(this,r.extraFields),this.extraFields=r.extraFields)}getEventBubbleStatus(){return this._$eventBubblingControl.noDefault?1:0}wrapShadowedEvent(e,t,r){const n=Object.create(this);return n.target=e,n.mark=t,n.currentTarget=r,n}getEventName(){return this._$eventName}getOriginalEvent(){return this._$originalEvent}preventDefault(){this._$eventBubblingControl.noDefault=!0}defaultPrevented(){return this._$eventBubblingControl.noDefault}stopPropagation(){this._$eventBubblingControl.stopped=!0}propagationStopped(){return this._$eventBubblingControl.stopped}markMutated(){this._$eventBubblingControl.mutated=!0}mutatedMarked(){return this._$eventBubblingControl.mutated}listenerReturnHandler(){return this._$handleListenerReturn}callListener(e,t,r,n){const i=this._$eventName,a=e._$eventTarget;if(!a)return;const o=n?a.captureListeners:a.listeners;if(!o)return;const s=o[i];if(!s)return;const l=this.mutatedMarked(),c=k(r)&&r.getMethodCaller()||r,u=k(e)&&e.getMethodCaller()||e,d=this.wrapShadowedEvent(c,t,u);this._hasListeners=!0;!1===s.funcArr.call(u,[d],(e=>!l||1!==e),k(r)?r:void 0,this._$handleListenerReturn)||s.finalCount>0?(d.stopPropagation(),d.preventDefault()):s.mutCount>0&&d.markMutated()}dispatch(e,t){if(this._$dispatched)throw new Error("Event cannot be dispatched twice");this._$dispatched=!0;const r=this.composed,n=this.bubbles,i=t&&!r,a=this._$eventBubblingControl,o=(e,t)=>{const n=e=>{let i=e;const a=e.collectMarks();for(;;){if(!1===t(i,e,a))return null;let o;if(r){if(C(i))return i.getHostNode();if(null===i.containingSlot)return null;if(i.containingSlot)o=n(i.containingSlot);else for(o=i.parentNode;null==o?void 0:o._$inheritSlots;)o=o.parentNode}else o=i.parentNode;if(!o)return null;i=o}};let i=e;for(;;){const e=n(i);if(!e)break;i=e}};if(this._$capturePhase&&!a.stopped&&!i){const t=[];o(e,((e,r,n)=>{t.push([e,r,n])}));for(let e=t.length-1;e>=0;e-=1){const[r,n,i]=t[e];if(r._$eventTarget&&(this.callListener(r,i,n,!0),a.stopped))break}}if(!a.stopped&&t&&k(e)&&e._$external&&e.shadowRoot.handleEvent(t,this),!a.stopped&&!i){let t=!0;o(e,((e,r,i)=>{if(!t&&k(e)&&e._$external){const t=e.shadowRoot;t.handleEvent(t.slot,this)}return t=!1,e._$eventTarget&&this.callListener(e,i,r,!1),n&&!a.stopped}))}}static dispatchEvent(e,t){return t.dispatch(e)}static dispatchExternalEvent(e,t,r){return r.dispatch(e,t)}static triggerEvent(t,r,n,i){const a=new e(r,n,i);e.dispatchEvent(t,a)}static triggerExternalEvent(t,r,n,i,a){const o=new e(n,i,a);e.dispatchExternalEvent(t,r,o)}};var Fe;!function(e){e[e.Child=0]="Child",e[e.Descendant=1]="Descendant",e[e.CrossShadowDescendant=2]="CrossShadowDescendant"}(Fe||(Fe={}));const je=e=>{var t;return null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode().getRootBehavior().ownerSpace};class We{static _$parseSegment(e,t){const r=/^(#[_a-zA-Z][-_a-zA-Z0-9:]*|)((?:\.-?[_a-zA-Z][-_a-zA-Z0-9]*)+|)$/.exec(e);if(!r)return null;const n=r[1].slice(1),i=r[2].split(".");return i.shift(),n||i.length?{id:n,classes:i,relation:t}:null}constructor(e){this.unions=[];const t=String(e||"").split(",");for(let e=0;e<t.length;e+=1){const r=t[e].split(/( |\t|>+)/g),n=[];let i=1,a=0;for(;a<r.length;a+=1){const e=r[a];if(!e||" "===e||"\t"===e||">>"===e)continue;if(">"===e[0]){if(1!==i)break;i=3===e.length?2:0;continue}const t=We._$parseSegment(e,i);if(i=1,!t)break;n.push(t)}a===r.length&&(n.length&&this.unions.push(n))}}isEmpty(){return 0===this.unions.length}static _$testSelectorSegment(e,t,r,n,i,a){var o;if(r===e)return!1;const s=n[i];let l=!0;(je(r)!==t||s.id&&s.id!==r.id)&&(l=!1);const c=s.classes;for(let e=0;l&&e<c.length;e+=1)(null===(o=r.classList)||void 0===o?void 0:o.contains(c[e]))||(l=!1);if(!l&&0===a)return!1;let u=r;if(l&&0===i){if(null===e)return!0;for(u=u.parentNode;u;u=u.parentNode)if(u===e)return!0;if(2!==a)return!1;u=r,l=!1}const d=l?s.relation:a;do{u.parentNode?u=u.parentNode:2===d?u=C(u)?u.getHostNode():null:2===a?(l=!1,u=C(u)?u.getHostNode():null):u=null,u===e&&(u=null)}while(S(u));if(!u)return!1;if(l){if(We._$testSelectorSegment(e,t,u,n,i-1,d))return!0;if(2!==a)return!1}return We._$testSelectorSegment(e,t,u,n,i,a)}testSelector(e,t){if(S(t))return!1;const r=this.unions;let n;if(n=null!==e&&je(e)||je(t),void 0===n)return!1;for(let i=0;i<r.length;i+=1){const a=r[i];if(We._$testSelectorSegment(e,n,t,a,a.length-1,0))return!0}return!1}query(e,t){const r=[],n=(e,t,i)=>{if(this.testSelector(e,t)){if(i)return t;r.push(t)}if(k(t)){const r=t.getShadowRoot();if(r){const t=n(e,r,i);if(t&&i)return t}}const a=t.childNodes;for(let t=0;t<a.length;t+=1){const r=a[t];if(_(r)){const t=n(e,r,i);if(t&&i)return t}}return null},i=n(e,e,t);return t?i:r}}var Ve;e.StyleSegmentIndex=void 0,(Ve=e.StyleSegmentIndex||(e.StyleSegmentIndex={}))[Ve.MAIN=0]="MAIN",Ve[Ve.TEMPLATE_EXTRA=1]="TEMPLATE_EXTRA",Ve[Ve.ANIMATION_EXTRA=2]="ANIMATION_EXTRA",Ve[Ve.TEMP_EXTRA=3]="TEMP_EXTRA";const Ue={mode:2,destroyed:!0};class ze{constructor(){throw new Error("Element cannot be constructed directly")}_$initialize(e,t,r,n){this._$backendElement=t,this._$destroyOnRemoval=0,this._$nodeTreeContext=n,this._$nodeId="",this._$nodeAttributes=null,this._$nodeSlot="",this._$slotName=null,this._$slotElement=null,this._$slotValues=null,this._$subtreeSlotStart=null,this._$subtreeSlotEnd=null,this._$inheritSlots=!1,this._$placeholderHandlerRemover=void 0,this._$virtual=e,this.dataset={},this._$marks=null,this._$attached=!1,this.classList=null,this._$styleSegments=[],this.parentNode=null,this.parentIndex=-1,this.childNodes=[],this.slotNodes=void 0,this.ownerShadowRoot=r,this._$mutationObserverTarget=null,this._$eventTarget=new Be}get $$(){return this._$backendElement}get id(){return this._$nodeId}set id(e){var t;const r=String(e);if(this._$nodeId!==r){if(this._$nodeId=r,this.ownerShadowRoot){const e=this.ownerShadowRoot.getHostNode();if(this.ownerShadowRoot._$markIdCacheDirty(),e.getComponentOptions().writeIdToDOM){const t=e._$idPrefix,n=t?`${t}--${r}`:r,i=this._$backendElement;i&&i.setId(n)}}o.writeExtraInfoToAttr&&(null===(t=this._$backendElement)||void 0===t||t.setAttribute("exparser:info-attr-id",r)),this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"basic",attributeName:"id"})}}get slot(){return this._$nodeSlot}set slot(e){const t=String(e);if(this._$nodeSlot===t)return;if(this._$inheritSlots)throw new Error('slots-inherited nodes do not support "slot" attribute.');this._$nodeSlot=t;const r=ze._$getParentHostShadowRoot(this.parentNode);if(r){const e=r.getSlotMode();if(3===e)throw new Error("nodes inside dynamic slots should change binding slots through Element#setSlotElement.");if(0===e)throw new Error("nodes inside direct slots should not change slot name.");const t=ze._$updateSubtreeSlotNodes(this.parentNode,[this],r,r,this.parentIndex);null==t||t.removeSlotNodes();const n=this.containingSlot;null==t||t.updateContainingSlot();const i=this.containingSlot;ze.insertChildReassign(this.parentNode,this,n,i,this.parentIndex+1),null==t||t.insertSlotNodes()}this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"basic",attributeName:"slot"})}get attributes(){const e=[];return this._$nodeAttributes&&Object.entries(this._$nodeAttributes).forEach((([t,r])=>{e.push({name:t,value:r})})),e}get class(){return this.classList?this.classList.getClassNames(0):""}set class(e){this.setNodeClass(e,0)}get style(){return this._$styleSegments[0]||""}set style(e){this.setNodeStyle(e,0)}asTextNode(){return null}asElement(){return this}asNativeNode(){return w(this)?this:null}asVirtualNode(){return S(this)?this:null}asShadowRoot(){return C(this)?this:null}asGeneralComponent(){return k(this)?this:null}asInstanceOf(e){return k(this)?this.asInstanceOf(e):null}getBackendContext(){const e=this._$nodeTreeContext;return e===Ue?null:e}getBackendMode(){return this._$nodeTreeContext.mode}getBackendElement(){return this._$backendElement}destroyBackendElement(){this._$backendElement&&(this._$backendElement.release(),this._$backendElement=null),this._$nodeTreeContext=Ue}destroyBackendElementOnSubtree(){const e=function(t){for(let r=0;r<t.childNodes.length;r+=1){const n=t.childNodes[r];_(n)?e(n):n.destroyBackendElement()}if(k(t)){const r=t.getShadowRoot();r&&e(r)}t.destroyBackendElement()};e(this)}destroyBackendElementOnRemoval(){this._$destroyOnRemoval=1}cancelDestroyBackendElementOnRemoval(){this._$destroyOnRemoval=0}destroyBackendElementOnDetach(){this._$destroyOnRemoval=1}cancelDestroyBackendElementOnDetach(){this._$destroyOnRemoval=0}isVirtual(){return this._$virtual}setNodeClass(e,t=0){var r;(null===(r=this.classList)||void 0===r?void 0:r.setClassNames(e,t))&&this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"basic",attributeName:"class"})}toggleNodeClass(e,t,r=0){var n;(null===(n=this.classList)||void 0===n?void 0:n.toggle(e,t,r))&&this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"basic",attributeName:"class"})}setNodeStyle(e,t=0){if(this._$styleSegments[t]===e)return;this._$styleSegments[t]=e;const r=this._$styleSegments.join(";");this._$backendElement&&this._$backendElement.setStyle(r),this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"basic",attributeName:"style"})}static checkAndCallAttached(e){!function e(t){if(_(t)&&!t._$attached){if(t._$attached=!0,k(t)){t.triggerLifetime("attached",[]),t._$relation&&(t._$relation.triggerLinkEvent(2,!1),t._$relation.triggerLinkEvent(4,!1),t._$relation.triggerLinkEvent(0,!1)),t._$mutationObserverTarget&&fe.callAttachObservers(t,{type:"attachStatus",target:t,status:"attached"});const r=t.getShadowRoot();r&&e(r)}else w(t)&&t.triggerLifetime("attached",[]);const r=t.childNodes;for(let t=0;t<r.length;t+=1)e(r[t])}}(e)}static checkAndCallDetached(e){if(function e(t){if(_(t)&&t._$attached){if(k(t)&&t.triggerLifetime("beforeDetach",[]),t.childNodes.forEach(e),k(t)){const r=t.getShadowRoot();r&&e(r)}t._$attached=!1,(k(t)||w(t))&&t.triggerLifetime("detached",[]),k(t)&&(t._$relation&&(t._$relation.triggerLinkEvent(2,!0),t._$relation.triggerLinkEvent(4,!0),t._$relation.triggerLinkEvent(0,!0)),t._$mutationObserverTarget&&fe.callAttachObservers(t,{type:"attachStatus",target:t,status:"detached"}))}}(e),_(e)){const t=function(r){if(2===e._$destroyOnRemoval)return;for(let e=0;e<r.childNodes.length;e+=1){const n=r.childNodes[e];_(n)?t(n):1===n._$destroyOnRemoval&&(n._$destroyOnRemoval=2,n.destroyBackendElement())}if(k(r)){const e=r.getShadowRoot();e&&t(e)}1===r._$destroyOnRemoval&&(r._$destroyOnRemoval=2,r.destroyBackendElement());const n=r._$placeholderHandlerRemover;"function"==typeof n&&n()};t(e)}else 1===e._$destroyOnRemoval&&(e._$destroyOnRemoval=2,e.destroyBackendElement())}static checkAndCallMoved(e){!function e(t){if(_(t)&&t._$attached&&(t.childNodes.forEach(e),k(t))){const r=t.getShadowRoot();r&&e(r),t.triggerLifetime("moved",[]),t._$relation&&(t._$relation.triggerLinkEvent(2,!1),t._$relation.triggerLinkEvent(4,!1),t._$relation.triggerLinkEvent(0,!1))}}(e)}static checkChildObservers(e,t,r){var n;const i=e._$mutationObserverTarget;if(i&&(!(null===(n=i.childObservers)||void 0===n?void 0:n.empty)||i.hasSubtreeListeners())){const n=[r];let i;i="add"===t?{type:"childList",target:e,addedNodes:n}:"remove"===t?{type:"childList",target:e,removedNodes:n}:{type:"childList",target:e,addedNodes:n,removedNodes:n},fe.callChildObservers(e,i)}}static hasSubtreeMutationObservers(e){var t;return(null===(t=e._$mutationObserverTarget)||void 0===t?void 0:t.hasSubtreeListeners())||!1}static _$insertChildReassignSlot(e,t,r,n){if(r)if(n){const e=[...r.slotNodes];for(let t=0;t<e.length;t+=1){const i=e[t];ze._$spliceSlotNodes(r,0,1,void 0),ze._$spliceSlotNodes(n,-1,0,[i]),ze._$updateContainingSlot(i,n),i._$inheritSlots||ze.insertChildReassign(i.parentNode,i,r,n,i.parentIndex)}}else{const e=[...r.slotNodes];for(let t=0;t<e.length;t+=1){const i=e[t];ze._$spliceSlotNodes(r,0,1,void 0),ze._$updateContainingSlot(i,n),i._$inheritSlots||ze.insertChildReassign(i.parentNode,i,r,null,i.parentIndex)}}else{const r=[];e.forEachNodeInSpecifiedSlot(null,(e=>{if(null!==t){if((_(e)?e._$nodeSlot:"")!==t)return}r.push(e)}));for(let e=0;e<r.length;e+=1){const t=r[e];ze._$spliceSlotNodes(n,-1,0,[t]),ze._$updateContainingSlot(t,n),t._$inheritSlots||ze.insertChildReassign(t.parentNode,t,null,n,t.parentIndex)}}}static insertChildReassign(e,t,r,n,i){if(r){const e=ze.findNearestNonVirtual(r);if(e){const r=ze.countNonVirtual(t);if(r){const[t,n]=r;e.spliceRemove(t._$backendElement,n)}}}n&&ze.insertChildComposed(e,t,void 0,!1,i)}static findNearestNonVirtual(e){let t=e;for(;null==t?void 0:t._$virtual;)t=C(t)?t.getHostNode():void 0===t.containingSlot?t.parentNode:t.containingSlot;return t?t._$backendElement:null}static countNonVirtual(e){let t=null,r=0;const n=e=>{0===r&&(t=e),r+=1};var i;return _(i=e)&&i._$virtual?i.forEachNonVirtualComposedChild(n):n(i),t?[t,r]:null}static forEachNodeInSlot(e,t){const r=e=>{if(!1===t(e,e.containingSlot))return!1;if(e._$inheritSlots){const t=e.childNodes;for(let e=0;e<t.length;e+=1)if(!r(t[e]))return!1;return!0}return!0};return r(e)}static forEachNodeInSpecificSlot(e,t,r){const n=e=>{if(e.containingSlot===t&&!1===r(e))return!1;if(e._$inheritSlots){const t=e.childNodes;for(let e=0;e<t.length;e+=1)if(!n(t[e]))return!1;return!0}return!0};return n(e)}static forEachSlotContentInSlot(e,t){const r=e=>{if(e._$inheritSlots){const t=e.childNodes;for(let e=0;e<t.length;e+=1)if(!r(t[e]))return!1;return!0}return!1!==t(e,e.containingSlot)};return r(e)}static forEachSlotContentInSpecificSlot(e,t,r){const n=e=>{if(e._$inheritSlots){const t=e.childNodes;for(let e=0;e<t.length;e+=1)if(!n(t[e]))return!1;return!0}return e.containingSlot!==t||!1!==r(e)};return n(e)}static _$findFirstNonVirtualChild(e,t){const r=null!==e._$slotName,n=r?e.slotNodes:e.childNodes;if(t>=0&&t<n.length)for(let e=t;e<n.length;e+=1){let t=null;const i=e=>(t=e,!1),a=e=>{if(!r&&e._$inheritSlots){const t=e.childNodes;for(let e=0;e<t.length;e+=1)if(!1===a(t[e]))return!1}return e._$virtual?e.forEachNonVirtualComposedChild(i):i(e)};if(a(n[e]),t)return t}const i=e=>{if(!e._$virtual)return null;const t=e.containingSlot;if(null===t)return null;if(void 0!==t)return ze._$findFirstNonVirtualChild(t,e.slotIndex+1);if(C(e))return i(e.getHostNode());const r=e.parentNode;return r?ze._$findFirstNonVirtualChild(r,e.parentIndex+1):null};return i(e)}static _$findFirstNonVirtualSibling(e,t){const r=e.containingSlot;if(null===r)return null;if(void 0!==r){if(!r._$virtual)return null;if(void 0!==e.slotIndex)return ze._$findFirstNonVirtualChild(r,e.slotIndex+1);const n=ze._$findSlotNodeInsertPosition(r,e,t);return ze._$findFirstNonVirtualChild(r,n)}let n=e;if(C(e))return n=e.getHostNode(),n._$virtual?ze._$findFirstNonVirtualChild(n,n.parentIndex+1):null;const i=n.parentNode;return i?ze._$findFirstNonVirtualChild(i,t):null}static insertChildComposed(e,t,r,n,i){var a,s,l;let c=!1,u=e;for(;null==u?void 0:u._$inheritSlots;)c=!0,u=u.parentNode;if(!u)return;const d=u,p=d._$nodeTreeContext;if(p.destroyed)return;let h;k(d)?d._$external?h=d.shadowRoot.slot:c=!0:(d._$virtual&&(c=!0),h=ze.findNearestNonVirtual(d));let f=null;const g=(e,a)=>{const o=e||(a?ze.findNearestNonVirtual(a):null);if(!o)return;let s=0,l=null,u=null,d=null;if(t){const e=f||p.createFragment();f=e;const r=t=>{e.appendChild(t._$backendElement),u=e};ze.forEachNodeInSpecificSlot(t,a,(e=>{d||(d=e),e._$virtual?e.forEachNonVirtualComposedChild(r):r(e)}))}(r||c)&&(n&&r?(ze.forEachSlotContentInSpecificSlot(r,a,(e=>{if(_(e)){const t=ze.countNonVirtual(e);t&&(l||(l=t[0]),s+=t[1])}else l||(l=e),s+=1;return!0})),0===s&&u&&d&&(l=ze._$findFirstNonVirtualSibling(void 0===a?t:d,i+1))):u&&d&&(l=ze._$findFirstNonVirtualSibling(void 0===a?t:d,i))),u?l?o.spliceBefore(l._$backendElement,s,u):o.spliceAppend(u):s>0&&o.spliceRemove(l._$backendElement,s)};if(void 0!==h)if(null===h);else if(c||_(t)&&t._$virtual||_(r)&&r._$virtual)g(h,void 0);else if(n)if(t){if(t._$backendElement&&r._$backendElement){const e=p.createFragment();t._$backendElement&&e.appendChild(t._$backendElement),r._$backendElement&&h.spliceBefore(r._$backendElement,1,e)}}else h.removeChild(r._$backendElement);else r?h.insertBefore(t._$backendElement,r._$backendElement):h.appendChild(t._$backendElement);else if(t&&t._$inheritSlots||n&&r&&r._$inheritSlots){const e=new Set;n&&r&&ze.forEachSlotContentInSlot(r,((t,r)=>{e.add(r)})),t&&ze.forEachSlotContentInSlot(t,((t,r)=>{e.add(r)})),e.forEach((e=>g(null,e)))}else t&&g(null,t.containingSlot),!n||!r||t&&r.containingSlot===t.containingSlot||g(null,r.containingSlot);f&&f.release(),o.writeExtraInfoToAttr&&(n&&_(r)&&(null===(a=r._$backendElement)||void 0===a||a.removeAttribute("exparser:info-in-slot-of")),_(t)&&(k(e)?null===(s=t._$backendElement)||void 0===s||s.setAttribute("exparser:info-in-slot-of",e._$componentInstanceId):null===(l=t._$backendElement)||void 0===l||l.removeAttribute("exparser:info-in-slot-of")))}static _$updateSubtreeSlotsInsertion(e,t,r,n,i){if(!t||!r)return;let a=e,o=null,s=null;const l=(e,t)=>{if(e._$subtreeSlotStart){const r=e.childNodes;let n=t+1,i=r[n];for(;i&&!i._$subtreeSlotStart;)n+=1,i=r[n];return void(i?(s=i._$subtreeSlotStart,o=s.prev):(o=e._$subtreeSlotEnd,o&&(s=o.next)))}let r=e,n=e.parentNode;for(;n&&!n._$subtreeSlotStart;)r=n,n=n.parentNode;n&&l(n,r.parentIndex)};for(l(a,n),o&&(o.next=t,t.prev=o),s&&(s.prev=r,r.next=s);a;){let e=!1;if(a._$subtreeSlotStart?a._$subtreeSlotStart===s?(a._$subtreeSlotStart=t,e=!0):a._$subtreeSlotEnd===o&&(a._$subtreeSlotEnd=r,e=!0):(a._$subtreeSlotStart=t,a._$subtreeSlotEnd=r,e=!0),!e||!a.parentNode)break;a=a.parentNode}const c=a.ownerShadowRoot;(null==c?void 0:c.isConnected(a))&&c._$applySlotsInsertion(t,r,i)}static _$updateSubtreeSlotsRemoval(e,t,r,n){if(!t||!r)return;let i=e;const a=t.prev,o=r.next;for(a&&(a.next=o,t.prev=null),o&&(o.prev=a,r.next=null);i;){let e=!1;if(i._$subtreeSlotStart===t&&i._$subtreeSlotEnd===r&&(i._$subtreeSlotStart=i._$subtreeSlotEnd=null,e=!0),i._$subtreeSlotStart===t?(i._$subtreeSlotStart=o,e=!0):i._$subtreeSlotEnd===r&&(i._$subtreeSlotEnd=a,e=!0),!e||!i.parentNode)break;i=i.parentNode}const s=i.ownerShadowRoot;(null==s?void 0:s.isConnected(i))&&s._$applySlotsRemoval(t,r,n)}static _$updateSubtreeSlotsReplacement(e,t,r,n,i,a,o){if(!t||!r)return void ze._$updateSubtreeSlotsRemoval(e,n,i,o);if(!n||!i)return void ze._$updateSubtreeSlotsInsertion(e,t,r,a,o);let s=e;const l=n.prev,c=i.next;for(l&&(l.next=t,t.prev=l,n.prev=null),c&&(c.prev=r,r.next=c,i.next=null);s;){let e=!1;if(s._$subtreeSlotStart===n&&(s._$subtreeSlotStart=t,e=!0),s._$subtreeSlotEnd===i&&(s._$subtreeSlotEnd=r,e=!0),!e||!s.parentNode)break;s=s.parentNode}const u=s.ownerShadowRoot;(null==u?void 0:u.isConnected(s))&&(u._$applySlotsRemoval(n,i,!1),u._$applySlotsInsertion(t,r,o))}static _$updateSubtreeSlotNodes(e,t,r,n,i){if(!r&&!n)return;const a=null==r?void 0:r.getSlotMode(),o=null==n?void 0:n.getSlotMode();if(!(void 0!==a&&0!==a||void 0!==o&&0!==o))return;if(!(void 0!==a&&1!==a||void 0!==o&&1!==o)){let e=-1,a=0,o=-1;const s=[],l=t[0].containingSlot,c=null==r?void 0:r.getContainingSlot(t[0]);for(let r=0;r<t.length;r+=1){const n=t[r];ze.forEachNodeInSlot(n,(t=>{l&&(a?a+=1:(e=t.slotIndex,a=1)),s.push(t)}))}if(c&&s.length){const e=s[0];o=ze._$findSlotNodeInsertPosition(c,e,i)}return{updateContainingSlot:()=>{for(let e=s.length-1;e>=0;e-=1){const t=s[e];ze._$updateContainingSlot(t,c)}},removeSlotNodes:()=>{n&&l&&a&&ze._$spliceSlotNodes(l,e,a,void 0)},insertSlotNodes:()=>{r&&c&&s.length&&ze._$spliceSlotNodes(c,o,0,s)}}}const s=new Map,l=new Map,c=[];for(let e=0;e<t.length;e+=1){const n=t[e];ze.forEachNodeInSlot(n,((e,t)=>{const n=0!==a?null==r?void 0:r.getContainingSlot(e):void 0;if(t){const r=l.get(t);r?r.count+=1:l.set(t,{start:e.slotIndex,count:1})}if(n){const t=s.get(n);t?t.nodes.push(e):s.set(n,{nodes:[e],insertPos:-1})}c.push([e,n])}))}if(r&&s.size){const e=s.entries();for(let t=e.next();!t.done;t=e.next()){const[e,{nodes:r}]=t.value,n=r[0];t.value[1].insertPos=ze._$findSlotNodeInsertPosition(e,n,i)}}return{updateContainingSlot:()=>{for(let e=c.length-1;e>=0;e-=1){const[t,r]=c[e];ze._$updateContainingSlot(t,r)}},removeSlotNodes:()=>{if(n&&l.size){const e=l.entries();for(let t=e.next();!t.done;t=e.next()){const[e,{start:r,count:n}]=t.value;ze._$spliceSlotNodes(e,r,n,void 0)}}},insertSlotNodes:()=>{if(r&&s.size){const e=s.entries();for(let t=e.next();!t.done;t=e.next()){const[e,{nodes:r,insertPos:n}]=t.value;ze._$spliceSlotNodes(e,n,0,r)}}}}}static insertChildSingleOperation(e,t,r,n){var i,a,o,s;if(t&&e.ownerShadowRoot!==t.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");let l=r;const c=l>=0?e.childNodes[l]:void 0;let u,d;if(u=!!n&&(!!c&&t!==c),!u&&!t)return;if(t){if(d=t.parentNode,d){const r=d.childNodes,n=t.parentIndex;r.splice(n,1);for(let e=n;e<r.length;e+=1)r[e].parentIndex=e;t.parentIndex=-1,d===e&&n<l&&(l-=1);const i=ze._$updateSubtreeSlotNodes(e,[t],null,ze._$getParentHostShadowRoot(d),l);null==i||i.removeSlotNodes(),ze.insertChildComposed(d,null,t,!0,n),null==i||i.updateContainingSlot()}t.parentNode=e,d!==e&&(d&&(null===(i=d._$mutationObserverTarget)||void 0===i||i.detachChild(t)),null===(a=e._$mutationObserverTarget)||void 0===a||a.attachChild(t))}else d=null;const p=ze._$getParentHostShadowRoot(e),h=t?ze._$updateSubtreeSlotNodes(e,[t],p,null,l):null,f=c&&u?ze._$updateSubtreeSlotNodes(e,[c],null,p,l):null;null==h||h.updateContainingSlot(),null==f||f.removeSlotNodes(),ze.insertChildComposed(e,t,c,u,l),null==h||h.insertSlotNodes(),null==f||f.updateContainingSlot(),u&&c&&(_(c)&&(null===(o=e._$mutationObserverTarget)||void 0===o||o.detachChild(c)),c.parentNode=null,c.parentIndex=-1);const g=e.childNodes;if(t)if(l<0)g.push(t),t.parentIndex=g.length-1;else if(u)g[l]=t,t.parentIndex=l;else{g.splice(l,0,t);for(let e=l;e<g.length;e+=1)g[e].parentIndex=e}else if(u){g.splice(l,1);for(let e=l;e<g.length;e+=1)g[e].parentIndex=e}const v=t?t._$subtreeSlotStart:null,m=t?t._$subtreeSlotEnd:null,y=c?c._$subtreeSlotStart:null,b=c?c._$subtreeSlotEnd:null;t?(d&&ze._$updateSubtreeSlotsRemoval(d,v,m,!0),u?ze._$updateSubtreeSlotsReplacement(e,v,m,y,b,l,!!d):ze._$updateSubtreeSlotsInsertion(e,v,m,l,!!d)):u&&c&&ze._$updateSubtreeSlotsRemoval(e,y,b,!1),null===(s=e.ownerShadowRoot)||void 0===s||s._$markIdCacheDirty(),u&&(ze.checkAndCallDetached(c),ze.checkChildObservers(e,"remove",c)),t&&((null==d?void 0:d._$attached)?e._$attached?ze.checkAndCallMoved(t):ze.checkAndCallDetached(t):e._$attached&&ze.checkAndCallAttached(t),d===e?ze.checkChildObservers(e,"move",t):(d&&ze.checkChildObservers(d,"remove",t),ze.checkChildObservers(e,"add",t)))}static insertChildBatchRemoval(e,t,r){var n,i;e.childNodes[t];let a=e;for(;null==a?void 0:a._$inheritSlots;)a=a.parentNode;const o=k(a)&&!a._$external?a.shadowRoot:null,s=e.childNodes,l=s.splice(t,r);for(let e=t;e<s.length;e+=1)s[e].parentIndex=e;const c=ze._$updateSubtreeSlotNodes(e,l,null,o,t);null==c||c.removeSlotNodes();for(let t=r-1;t>=0;t-=1)ze.insertChildComposed(e,null,l[t],!0,t);for(let t=0;t<r;t+=1){const r=l[t];r.parentNode=null,r.parentIndex=-1,_(r)&&(null===(n=e._$mutationObserverTarget)||void 0===n||n.detachChild(r))}null==c||c.updateContainingSlot();let u=null,d=null;for(let e=0;e<r;e+=1){const t=l[e];u||(u=t._$subtreeSlotStart),t._$subtreeSlotEnd&&(d=t._$subtreeSlotEnd)}ze._$updateSubtreeSlotsRemoval(e,u,d,!1),null===(i=e.ownerShadowRoot)||void 0===i||i._$markIdCacheDirty();for(let t=0;t<r;t+=1){const r=l[t];ze.checkAndCallDetached(r),ze.checkChildObservers(e,"remove",r)}}static insertChildBatchInsertion(e,t,r){var n,i;const a=r>=0?e.childNodes[r]:void 0;let o=e;for(;null==o?void 0:o._$inheritSlots;)o=o.parentNode;const s=k(o)&&!o._$external?o.shadowRoot:null;for(let r=0;r<t.length;r+=1){const i=t[r];if(e.ownerShadowRoot!==i.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");if(i.parentNode)throw new Error("Cannot batch-insert the node which already has a parent.");i.parentNode=e,null===(n=e._$mutationObserverTarget)||void 0===n||n.attachChild(i)}const l=ze._$updateSubtreeSlotNodes(e,t,s,null,r);null==l||l.updateContainingSlot();{const n=r>=0?r:e.childNodes.length;for(let r=0;r<t.length;r+=1){const i=t[r];ze.insertChildComposed(e,i,a,!1,n)}}null==l||l.insertSlotNodes();const c=e.childNodes;if(a){c.splice(r,0,...t);for(let e=r;e<c.length;e+=1)c[e].parentIndex=e}else{c.push(...t);for(let e=c.length-t.length;e<c.length;e+=1)c[e].parentIndex=e}let u=null,d=null;for(let e=0;e<t.length;e+=1){const r=t[e],n=r._$subtreeSlotStart,i=r._$subtreeSlotEnd;n&&(d?(n.prev=d,d.next=n,d=i):(u=n,d=i))}ze._$updateSubtreeSlotsInsertion(e,u,d,r+t.length-1,!1),null===(i=e.ownerShadowRoot)||void 0===i||i._$markIdCacheDirty();for(let r=0;r<t.length;r+=1){const n=t[r];e._$attached&&ze.checkAndCallAttached(n),ze.checkChildObservers(e,"add",n)}}static insertChildPlaceholderReplace(e,t,r){var n,i,a,o,s;if(r&&e.ownerShadowRoot!==r.ownerShadowRoot)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");if(r.parentNode)throw new Error("Cannot replace with the node which already has a parent.");const l=e.childNodes[t];if(!_(l))throw new Error("Cannot replace on text nodes.");if(null!==l._$slotName||null!==r._$slotName)throw new Error("Cannot replace on slot nodes.");if(l===r)return;const c=l.childNodes;for(let t=0;t<c.length;t+=1){const a=c[t];ze.insertChildComposed(l,null,a,!0,t),a.parentNode=r,null===(n=l._$mutationObserverTarget)||void 0===n||n.detachChild(a),null===(i=e._$mutationObserverTarget)||void 0===i||i.attachChild(a)}l.childNodes=[],l.parentNode=null,l.parentIndex=-1,r.parentNode=e;const u=l.containingSlot,d=l.slotIndex;void 0!==u&&(ze._$updateContainingSlot(r,u),u&&ze._$spliceSlotNodes(u,d,1,void 0));const p=c.length?ze._$updateSubtreeSlotNodes(r,c,ze._$getParentHostShadowRoot(r),ze._$getParentHostShadowRoot(l),0):null;null==p||p.updateContainingSlot(),null==p||p.removeSlotNodes(),e.childNodes[t]=r,r.parentIndex=t,ze.insertChildComposed(e,r,l,!0,t);for(let e=0;e<c.length;e+=1){const t=c[e];ze.insertChildComposed(r,t,void 0,!1,e)}null==p||p.insertSlotNodes(),void 0!==u&&(ze._$updateContainingSlot(l,void 0),u&&ze._$spliceSlotNodes(u,d,0,[r])),r._$subtreeSlotStart=l._$subtreeSlotStart,r._$subtreeSlotEnd=l._$subtreeSlotEnd,null===(a=e._$mutationObserverTarget)||void 0===a||a.detachChild(l),null===(o=e._$mutationObserverTarget)||void 0===o||o.attachChild(r),r.childNodes.push(...c);for(let e=r.childNodes.length-c.length;e<r.childNodes.length;e+=1)r.childNodes[e].parentIndex=e;if(null===(s=e.ownerShadowRoot)||void 0===s||s._$markIdCacheDirty(),e._$attached){ze.checkAndCallDetached(l),ze.checkChildObservers(e,"remove",l),ze.checkAndCallAttached(r),ze.checkChildObservers(e,"add",r);for(let t=0;t<c.length;t+=1){const r=c[t];ze.checkAndCallMoved(r),ze.checkChildObservers(e,"move",r)}}}appendChild(e){ze.insertChildSingleOperation(this,e,this.childNodes.length,!1)}insertChildAt(e,t){ze.insertChildSingleOperation(this,e,t,!1)}insertBefore(e,t){const r=t?t.parentIndex:-1;ze.insertChildSingleOperation(this,e,r,!1)}removeChildAt(e){ze.insertChildSingleOperation(this,null,e,!0)}removeChild(e){const t=e.parentIndex;ze.insertChildSingleOperation(this,null,t,!0)}replaceChildAt(e,t){ze.insertChildSingleOperation(this,e,t,!0)}replaceChild(e,t){const r=t.parentIndex;ze.insertChildSingleOperation(this,e,r,!0)}insertChildren(e,t){ze.insertChildBatchInsertion(this,e,t)}removeChildren(e,t){ze.insertChildBatchRemoval(this,e,t)}selfReplaceWith(e){const t=this.parentNode;t&&ze.insertChildPlaceholderReplace(t,this.parentIndex,e)}static _$generateIdMap(e){const t=Object.create(null);return function e(r){if(_(r)){const n=r._$nodeId;n&&(t[n]||(t[n]=r)),r.childNodes.forEach(e)}}(e),t}triggerEvent(e,t,r){$e.triggerEvent(this,e,t,r)}dispatchEvent(e){$e.dispatchEvent(this,e)}_$setListenerStats(e,t,r={}){if(!this._$backendElement)return;let n;switch(r.capture||r.useCapture,t){case 2:n=0;break;case 4:n=1;break;case 3:n=2;break;default:return}if(this._$nodeTreeContext){const t=2===n;this._$backendElement.setEventDefaultPrevented(e,t)}}addListener(e,t,r){const n=this._$eventTarget.addListener(e,t,r);this._$setListenerStats(e,n,r),k(this)&&this._$definition._$options.listenerChangeLifetimes?this.triggerLifetime("listenerChange",[!0,e,t,r]):w(this)&&"function"==typeof this._$listenerChangeCb&&this._$listenerChangeCb.apply(this,[!0,e,t,r])}removeListener(e,t,r){const n=this._$eventTarget.removeListener(e,t,r);1!==n&&(this._$setListenerStats(e,n,r),k(this)&&this._$definition._$options.listenerChangeLifetimes?this.triggerLifetime("listenerChange",[!1,e,t,r]):w(this)&&"function"==typeof this._$listenerChangeCb&&this._$listenerChangeCb.apply(this,[!1,e,t,r]))}getAttribute(e){return this._$nodeAttributes&&Object.prototype.hasOwnProperty.call(this._$nodeAttributes,e)?this._$nodeAttributes[e]:null}updateAttribute(e,t){this.setAttribute(e,t)}setAttribute(e,t){let r;this._$nodeAttributes?r=this._$nodeAttributes:(r=Object.create(null),this._$nodeAttributes=r),r[e]=t;const n=this._$backendElement;n&&n.setAttribute(e,t),this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"attribute",attributeName:e})}removeAttribute(e){this._$nodeAttributes&&delete this._$nodeAttributes[e];const t=this._$backendElement;t&&t.removeAttribute(e),this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"attribute",attributeName:e})}setDataset(e,t){this.dataset[e]=t,this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"dataset",attributeName:`data:${e}`})}setMark(e,t){if(this._$marks)this._$marks[e]=t;else{const r={};r[e]=t,this._$marks=r}this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"mark",attributeName:`mark:${e}`})}collectMarks(){const e={};let t;for(t=this;t;t=t.parentNode){const r=t._$marks;r&&Object.keys(r).forEach((t=>{Object.prototype.hasOwnProperty.call(e,t)||(e[t]=r[t])}))}return e}static replaceDocumentElement(e,t,r){if(e._$attached)throw new Error("An attached element cannot be attached again");e._$backendElement&&t.replaceChild(e._$backendElement,r),ze.checkAndCallAttached(e)}static pretendAttached(e){e._$attached||ze.checkAndCallAttached(e)}static pretendDetached(e){e._$attached&&ze.checkAndCallDetached(e)}static isAttached(e){return e._$attached}static setSlotName(e,t){if(e._$inheritSlots)throw new Error("Slot-inherit mode is not usable in slot element");const r=t?String(t):"",n=e._$slotName;if(n===r)return;const i=null===n;e._$slotName=r,i&&(e._$subtreeSlotStart=e._$subtreeSlotEnd={value:e,prev:null,next:null});const a=e.ownerShadowRoot;if(a)if(i){3===a.getSlotMode()&&(e._$slotValues=Object.create(null)),e.slotNodes=[];const t=e.parentNode;t&&ze._$updateSubtreeSlotsInsertion(t,e._$subtreeSlotStart,e._$subtreeSlotEnd,e.parentIndex,!1)}else a.isConnected(e)&&a._$applySlotRename(e,r,n);e._$mutationObserverTarget&&fe.callAttrObservers(e,{type:"properties",target:e,nameType:"basic",attributeName:"name"})}static getSlotName(e){const t=e._$slotName;return null===t?void 0:t}static setInheritSlots(e){if(!e._$virtual)throw new Error("Cannot set slot-inherit on non-virtual node");if(null!==e._$slotName||0!==e.childNodes.length)throw new Error("Slot-inherit mode cannot be set when the element has any child node");e._$inheritSlots=!0}static getInheritSlots(e){return e._$inheritSlots}isInheritSlots(){return this._$inheritSlots}static setSlotElement(e,t){if(e._$slotElement===t)return;e._$slotElement=t;const r=ze._$getParentHostShadowRoot(e.parentNode);if(r){const t=ze._$updateSubtreeSlotNodes(e.parentNode,[e],r,r,e.parentIndex),n=e.containingSlot;null==t||t.updateContainingSlot(),null==t||t.removeSlotNodes();const i=e.containingSlot,a=e=>{if(_(e)&&e._$inheritSlots)for(let t=0;t<e.childNodes.length;t+=1)a(e.childNodes[t]);else ze.insertChildReassign(e.parentNode,e,n,i,e.parentIndex)};a(e),null==t||t.insertSlotNodes()}}static _$updateContainingSlot(e,t){e.containingSlot=t}static _$spliceSlotNodes(e,t,r,n){const i=e.slotNodes=e.slotNodes||[],a=t>=0&&t<i.length;if(null==n?void 0:n.length)if(a){for(let e=t;e<t+r;e+=1)i[e].slotIndex=void 0;i.splice(t,r,...n);for(let e=t;e<i.length;e+=1)i[e].slotIndex=e}else{const e=i.length;i.push(...n);for(let t=e;t<i.length;t+=1)i[t].slotIndex=t}else if(r){for(let e=t;e<t+r;e+=1)i[e].slotIndex=void 0;i.splice(t,r);for(let e=t;e<i.length;e+=1)i[e].slotIndex=e}}static _$findSlotNodeInsertPosition(e,t,r){const n=e.ownerShadowRoot.getHostNode(),i=e=>{let t=0,r=e;for(;r&&r!==n;)t+=1,r=r.parentNode;return t},a=i(t),o=(e,t,r,n,i,a,s)=>{if(e===n)return 0;if(e.parentNode===n.parentNode)return t-(-1===i?s:i);if(a<r){const t=e.parentNode;return o(t,t.parentIndex,r-1,n,i,a,s)}const l=r<a?e:e.parentNode,c=r<a?r:r-1,u=n.parentNode,d=a-1,p=o(l,l.parentIndex,c,u,u.parentIndex,d,s);return 0===p?-1:p},s=e.slotNodes;let l=s.length-1;for(;l>=0;l-=1){const e=s[l];if(o(e,e.parentIndex,i(e),t,t.parentIndex,a,r>=0?r-.5:s.length)<0)break}return l+1}getComposedParent(){if(C(this))return this.getHostNode();if(void 0!==this.containingSlot)return this.containingSlot;let e=this.parentNode;for(;null==e?void 0:e._$inheritSlots;)e=e.parentNode;return e}getComposedChildren(){const e=[];return this.forEachComposedChild((t=>{e.push(t)})),e}forEachComposedChild(e){if(this._$inheritSlots)return!0;if(k(this)&&!this._$external)return!1!==e(this.shadowRoot);if(null!==this._$slotName){const t=this.ownerShadowRoot;return!t||t.forEachNodeInSpecifiedSlot(this,e)}const t=r=>{for(let n=0;n<r.length;n+=1){const i=r[n];if(!1===e(i))return!1;if(i._$inheritSlots&&!t(i.childNodes))return!1}return!0};return t(this.childNodes)}*iterateComposedChild(){if(this._$inheritSlots)return;if(k(this)&&!this._$external)return void(yield this.shadowRoot);if(null!==this._$slotName){if(!this.ownerShadowRoot)return;const e=this.slotNodes;for(let t=0;t<e.length;t+=1)yield e[t];return}const e=function*(t){for(let r=0;r<t.length;r+=1){const n=t[r];yield n,n._$inheritSlots&&(yield*e(n.childNodes))}};yield*e(this.childNodes)}forEachNonVirtualComposedChild(e){if(this._$inheritSlots)return!0;const t=t=>t._$virtual?t.forEachNonVirtualComposedChild(e):!1!==e(t);if(k(this)&&!this._$external)return t(this.shadowRoot);if(null!==this._$slotName){const e=this.ownerShadowRoot;return!e||e.forEachSlotContentInSpecifiedSlot(this,t)}const r=e=>{for(let n=0;n<e.length;n+=1){const i=e[n];if(!t(i))return!1;if(i._$inheritSlots&&!r(i.childNodes))return!1}return!0};return r(this.childNodes)}static parseSelector(e){return new We(e)}querySelector(e){return(e instanceof We?e:new We(e)).query(this,!0)}querySelectorAll(e){return(e instanceof We?e:new We(e)).query(this,!1)}static matchSelector(e,t){return(e instanceof We?e:new We(e)).testSelector(null,t)}matchSelector(e,t){return(e instanceof We?e:new We(e)).testSelector(this,t)}getBoundingClientRect(e){const t=this._$backendElement;if(t){const r=t;r.getBoundingClientRect?r.getBoundingClientRect(e):setTimeout((()=>{e({left:0,top:0,width:0,height:0})}),0)}else setTimeout((()=>{e({left:0,top:0,width:0,height:0})}),0)}getScrollOffset(e){const t=this._$backendElement;if(t){const r=t;r.getScrollOffset?r.getScrollOffset(e):setTimeout((()=>{e({scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0})}),0)}else setTimeout((()=>{e({scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0})}),0)}createIntersectionObserver(e,t,r,n){const i=this._$backendElement;if(i){if(e&&!e._$backendElement)return null;const a=i;return a.createIntersectionObserver?a.createIntersectionObserver((null==e?void 0:e._$backendElement)||null,t,r,n):null}return null}getContext(e){const t=this._$backendElement;if(t){const r=t;r.getContext?r.getContext(e):e(null)}}}var qe;ze.isElement=_,ze._$getParentHostShadowRoot=e=>{let t=e;for(;null==t?void 0:t._$inheritSlots;)t=t.parentNode;return k(t)&&!t._$external?t.shadowRoot:null},ze.prototype[f]=!0,e.RelationType=void 0,(qe=e.RelationType||(e.RelationType={}))[qe.Ancestor=0]="Ancestor",qe[qe.Descendant=1]="Descendant",qe[qe.ParentNonVirtualNode=2]="ParentNonVirtualNode",qe[qe.ChildNonVirtualNode=3]="ChildNonVirtualNode",qe[qe.ParentComponent=4]="ParentComponent",qe[qe.ChildComponent=5]="ChildComponent";const He=(e,t,r,n)=>{const i=e=>"function"==typeof e?e:(void 0!==e&&M(`the "${r}" relation listener is not a function (when preparing behavior "${t}").`),null);let a;if("parent"===n.type)a=4;else if("child"===n.type)a=5;else if("parent-common-node"===n.type)a=2;else if("child-common-node"===n.type)a=3;else if("ancestor"===n.type)a=0;else{if("descendant"!==n.type){const e=n.type;return M(`the "${r}" relation has an invalid relation type "${e}" (when preparing behavior "${t}").`),null}a=1}let o=null;if(n.target instanceof It)o=n.target.behavior;else if(n.target instanceof Et||n.target instanceof G)o=n.target;else{const i=String(n.target||r),a=e.getComponentByUrlWithoutDefault(i,t);if(a)o=a.behavior;else{const t=e.getGlobalUsingComponent(i);"object"==typeof t&&null!==t&&(o=t.behavior)}}return o?{target:o,type:a,linked:i(n.linked),linkChanged:i(n.linkChanged),unlinked:i(n.unlinked),linkFailed:i(n.linkFailed)}:(M(`the target of relation "${r}" is not a valid behavior or component (when preparing behavior "${t}").`),null)};class Ge{constructor(e,t){this._$comp=e;const r=new Array(6);if(t)for(let e=0;e<6;e+=1){const n=t.definitions[e];if(n){const t=new Array(n.length);for(let e=0;e<n.length;e+=1)t[e]=null;r[e]=t}}this._$group=t,this._$sharedGroup=!0,this._$links=r}add(e){if(this._$sharedGroup){this._$sharedGroup=!1;const e=this._$group;this._$group=e?{definitions:e.definitions.slice(),keyMap:Object.assign(Object.create(null),e.keyMap)}:{definitions:new Array(6),keyMap:Object.create(null)}}const t=Symbol(""),r=this._$group.definitions,n=this._$group.keyMap,i=e.type;r[i]?(n[t]=[i,r[i].length],r[i].push(e)):(n[t]=[i,0],r[i]=[e]);const a=this._$links;return void 0===a[i]?a[i]=[null]:a[i].push(null),t}triggerLinkEvent(e,t){var r,n;const i=this._$comp,a=this._$links,o=null===(r=this._$group)||void 0===r?void 0:r.definitions[e];if(o)for(let r=0;r<o.length;r+=1){const s=a[e],l=s[r];let c=null;const u=o[r],p=u.target;if(!t){let t=i;for(;;){const r=t.parentNode;if(!r)break;if(t=r,!S(t)){if(k(t)){if(t.hasBehavior(p)){const r=t._$relation;if(r){let i;i=4===e?5:0===e?1:3;const a=null===(n=r._$group)||void 0===n?void 0:n.definitions[i];if(a){for(let e=0;e<a.length;e+=1){const r=a[e];if(r.target&&this._$comp.hasBehavior(r.target)){c={target:t,def:r};break}}if(c)break}}}if(4===e)break}if(2===e)break}}}if(s[r]=c,l){const e=l.target,t=l.def;c&&l.target===c.target&&l.def===c.def?(t.linkChanged&&d("Relation Link Changed Callback",t.linkChanged,e.getMethodCaller(),[i.getMethodCaller()],e),u.linkChanged&&d("Relation Link Changed Callback",u.linkChanged,i.getMethodCaller(),[e.getMethodCaller()],i)):(t.unlinked&&d("Relation Unlinked Callback",t.unlinked,e.getMethodCaller(),[i.getMethodCaller()],e),u.unlinked&&d("Relation Unlinked Callback",u.unlinked,i.getMethodCaller(),[e.getMethodCaller()],i))}if(c){const e=c.target,t=c.def;l&&l.target===c.target&&l.def===c.def||(t.linked&&d("Relation Linked Callback",t.linked,e.getMethodCaller(),[i.getMethodCaller()],e),u.linked&&d("Relation Linked Callback",u.linked,i.getMethodCaller(),[e.getMethodCaller()],i))}t||c||!u.linkFailed||d("Relation Link Failed Callback",u.linkFailed,i.getMethodCaller(),[],i)}}getLinkedTargets(e){var t,r,n,i;const a=null===(t=this._$group)||void 0===t?void 0:t.keyMap[e];if(!a)return M(`no relation "${String(e)}" found.`),[];const[o,s]=a;if(4===o||2===o||0===o){const e=null===(r=this._$links[o])||void 0===r?void 0:r[s];return e?[e.target]:[]}const l=[],c=this._$comp,u=null===(i=null===(n=this._$group)||void 0===n?void 0:n.definitions[o])||void 0===i?void 0:i[s],d=e=>{const t=e.childNodes;for(let e=0;e<t.length;e+=1){const r=t[e];if(_(r))if(S(r))d(r);else if(k(r)){if(r._$relation){let e;if(e=5===o?r._$relation._$links[4]:1===o?r._$relation._$links[0]:r._$relation._$links[2],e)for(let t=0;t<e.length;t+=1){const n=e[t];if(n&&n.target===c&&n.def===u){l.push(r);break}}}1===o&&d(r)}else 5!==o&&1!==o||d(r)}};return d(this._$comp),l}}class Ke extends ze{constructor(){throw new Error("Element cannot be constructed directly")}static create(e,t,r,n,i){var a,s;const l=Object.create(Ke.prototype);l.is=e,l.stylingName=null!=r?r:e;const c=t.getBackendContext();let u=null;if(c){u=c.createElement(e,l.stylingName)}l._$initialize(!1,u,t,t._$nodeTreeContext),l._$placeholderHandlerRemover=i,l._$attributeFilters=Object.create(null),l._$lifetimeFuncs=Object.create(null);const d=t.getHostNode(),p=d.getComponentOptions(),h=null!==(a=p.styleScope)&&void 0!==a?a:U.globalScope(),f=null!==(s=p.extraStyleScope)&&void 0!==s?s:void 0,g=d._$behavior.ownerSpace.styleScopeManager;if(l.classList=new z(l,void 0,d.classList,h,f,g),u){if(u.setStyleScope(h,f),o.writeExtraInfoToAttr){const e=g.queryName(h);e&&u.setAttribute("exparser:info-class-prefix",`${e}--`)}u.__wxElement=l,u.__wxElement=l}if(void 0!==n){void 0!==n.attributeFilters&&(l._$attributeFilters=n.attributeFilters);(n.lifetimesFromBehaviors||[]).forEach((e=>{e.prepare();const t=e._$lifetimes;for(let e=0;e<t.length;e+=1){const{name:r,func:n}=t[e];l._$addLifetimeFunc(r,n)}}));const e=n.lifetimes||{};Object.entries(e).forEach((([e,t])=>{l._$addLifetimeFunc(e,t)}));const t=n.eventListeners||{};Object.entries(t).forEach((([e,t])=>{const{handler:r,capture:n}=t;l.addListener(e,(e=>r(l,e)),{capture:n})}))}return l.triggerLifetime("created",[]),l}callAttributeFilter(e,t,r){"function"==typeof this._$attributeFilters[e]?this._$attributeFilters[e](this,e,t,r):r(t)}_$addLifetimeFunc(e,t){if(this._$lifetimeFuncs[e])this._$lifetimeFuncs[e].add(t);else{(this._$lifetimeFuncs[e]=new l("lifetime")).add(t)}}triggerLifetime(e,t){const r=this._$lifetimeFuncs[e];r&&r.call(this,t,this.is)}setModelBindingListener(e,t){var r,n;if(this._$modelBindingListeners||(this._$modelBindingListeners=Object.create(null)),!this._$modelBindingListeners[e]){const t=this.getBackendElement();if(t){const i=t=>{var r;const n=null===(r=this._$modelBindingListeners)||void 0===r?void 0:r[e];n&&n.call(this,t)};null===(n=(r=t).setModelBindingStat)||void 0===n||n.call(r,e,i)}}this._$modelBindingListeners[e]=t}getModelBindingListeners(){const e=Object.create(null);return this._$modelBindingListeners&&Object.keys(this._$modelBindingListeners).forEach((t=>{e[t]=e=>{var r;const n=null===(r=this._$modelBindingListeners)||void 0===r?void 0:r[t];n&&n.call(this,e)}})),e}}Ke.isNativeNode=w,Ke.prototype[g]=!0;class Je{constructor(e,t){this._$slotElement=null,this._$destroyOnRemoval=0,this._$subtreeSlotStart=null,this._$subtreeSlotEnd=null,this._$mutationObserverTarget=null,this._$text=String(e);let r=null;const n=t.getBackendContext();if(n){r=n.createTextNode(e)}this._$backendElement=r,this.ownerShadowRoot=t,this.parentNode=null,this.parentIndex=-1,this.containingSlot=void 0}static create(e,t){return new Je(e,t)}asTextNode(){return this}asElement(){return null}asNativeNode(){return null}asVirtualNode(){return null}asShadowRoot(){return null}asGeneralComponent(){return null}asInstanceOf(){return null}destroyBackendElement(){this._$backendElement&&(this._$backendElement.release(),this._$backendElement=null)}destroyBackendElementOnRemoval(){this._$destroyOnRemoval=1}cancelDestroyBackendElementOnRemoval(){this._$destroyOnRemoval=0}destroyBackendElementOnDetach(){this._$destroyOnRemoval=1}cancelDestroyBackendElementOnDetach(){this._$destroyOnRemoval=0}getBackendElement(){return this._$backendElement}getBackendContext(){return this.ownerShadowRoot.getBackendContext()}getComposedParent(){if(void 0!==this.containingSlot)return this.containingSlot;let e=this.parentNode;for(;null==e?void 0:e._$inheritSlots;)e=e.parentNode;return e}get $$(){return this._$backendElement}get textContent(){return this._$text}set textContent(e){const t=String(e);t!==this._$text&&(this._$text=t,this._$backendElement&&this._$backendElement.setText(this._$text),this._$mutationObserverTarget&&fe.callTextObservers(this,{type:"characterData",target:this}))}}Je.isTextNode=b,Je.prototype[h]=!0;class Xe extends ze{constructor(){throw new Error("Element cannot be constructed directly")}_$initializeVirtual(e,t,r){this.is=String(e),this._$initialize(!0,null,t,t._$nodeTreeContext)}static create(e,t){const r=Object.create(Xe.prototype);return r._$initializeVirtual(e,t,t.getBackendContext()),r}}var Ye;Xe.isVirtualNode=S,Xe.prototype[v]=!0,function(e){e[e.Direct=0]="Direct",e[e.Single=1]="Single",e[e.Multiple=2]="Multiple",e[e.Dynamic=3]="Dynamic"}(Ye||(Ye={}));class Qe extends Xe{constructor(){throw new Error("Element cannot be constructed directly")}static createShadowRoot(e){const t=Object.create(Qe.prototype);t.is="shadow",t._$idMap=null;let r=1;const n=e.getComponentOptions();return n.multipleSlots?r=2:n.dynamicSlots?r=3:n.directSlots&&(r=0),t._$slotMode=r,1===r?t._$singleSlot=null:2===r?(t._$slots=Object.create(null),t._$slotsList=Object.create(null)):3===r&&(t._$dynamicSlotsInserted=!1,t._$dynamicSlots=new Map,t._$requiredSlotValueNames=[],t._$propertyPassingDeepCopy=Ee(n.propertyPassingDeepCopy),t._$insertDynamicSlotHandler=void 0,t._$removeDynamicSlotHandler=void 0,t._$updateDynamicSlotHandler=void 0),t._$backendShadowRoot=null,t._$initialize(!0,null,t,e._$nodeTreeContext),t._$host=e,e.shadowRoot=t,t}getHostNode(){return this._$host}createTextNode(e=""){return new Je(e,this)}createNativeNode(e){return Ke.create(e,this)}createVirtualNode(e="virtual"){return Xe.create(e,this)}createNativeNodeWithInit(e,t,r,n){const i=this._$host._$behavior.ownerSpace.getExtendedNativeNode(e),a=Ke.create(e,this,t,i,r);return null==n||n(a),a}createComponent(e,t,r,n,i){const a=this._$host,o=a._$behavior,s=a._$genericImpls,l=o.ownerSpace,c=void 0===t?e:t,u=[o._$using[c],s&&s[c]];for(let t=0;t<u.length;t+=1){const c=u[t];if(null==c)continue;if("string"==typeof c)return this.createNativeNodeWithInit(c,e,void 0,i);let d,p;if(c.final)d=c.final;else if(null!==c.placeholder){d=kt(c.placeholder,l,c.source,s);const e=c.waiting;n&&e&&(e.add(n),e.hintUsed(a),p=()=>{e.remove(n)})}if("string"==typeof d)return this.createNativeNodeWithInit(d,e,p,i);if(d)return At._$advancedCreate(e,d,this,null,Ct(d,o,a,r),p,i)}let d=l.getGlobalUsingComponent(c);if(null===d&&l._$allowUnusedNativeNode&&""!==c&&(d=c),!d){if(d=l.getDefaultComponent(),!d)throw new R(`Cannot find component "${c}"`,void 0,this._$host);M(`Cannot find component "${c}", using default component.`,this._$host)}return"string"==typeof d?this.createNativeNodeWithInit(d,e,void 0,i):At._$advancedCreate(e,d,this,null,Ct(d,o,a,r),void 0,i)}createComponentByDef(e,t){return At._$advancedCreate(e,t,this,null,null,void 0)}createComponentOrNativeNode(e,t,r){const n=this._$host,i=n._$behavior,a=i.ownerSpace,o=a.getGlobalUsingComponent(e);if("string"==typeof o)return this.createNativeNodeWithInit(o,e,void 0,r);if(o)return At._$advancedCreate(e,o,this,null,Ct(o,i,n,t),void 0,r);if(a._$allowUnusedNativeNode){const t=Ke.create(e,this);return null==r||r(t),t}throw new R(`Unknown tag name ${e}`,"[render]",n)}checkComponentPlaceholder(e){var t;let r;const n=this._$host._$behavior._$using[e];if(void 0!==n)r=n;else{const n=null===(t=this._$host._$genericImpls)||void 0===t?void 0:t[e];if(!n)return;r=n}return"string"!=typeof r&&(!r.final&&null!==r.placeholder)}getElementById(e){return this._$getIdMap()[e]}_$markIdCacheDirty(){this._$idMap=null}_$getIdMap(){if(this._$idMap)return this._$idMap;const e=ze._$generateIdMap(this);return this._$idMap=e,e}getSlotElementFromName(e){const t=this._$slotMode;if(0===t)throw new Error("cannot get slot element in directSlots");if(1===t)return this._$singleSlot;if(2===t)return this._$slots[e]||null;if(3===t){const t=[];for(let r=this._$subtreeSlotStart;r;r=r.next){const n=r.value;(n._$slotName||"")===e&&t.push(n)}return t}return null}getContainingSlot(e){var t;const r=this._$slotMode;if(0===r)return(null==e?void 0:e.containingSlot)||null;if(1===r)return this._$singleSlot;if(3===r){if(!e)return null;let r=e;for(;null===(t=r.parentNode)||void 0===t?void 0:t._$inheritSlots;)r=r.parentNode;const n=r._$slotElement;if((null==n?void 0:n.ownerShadowRoot)===this)return n}if(2===r){let t;return t=_(e)?e._$nodeSlot:"",this._$slots[t]||null}return null}getSlotContentArray(e){if(null===e._$slotName)return null;const t=[];return this.forEachNodeInSpecifiedSlot(e,(e=>{t.push(e)})),t}forEachSlot(e){const t=this._$slotMode;if(0===t)throw new Error("Cannot iterate slots in directSlots");if(1===t)this._$singleSlot&&e(this._$singleSlot);else if(2===t){const t=Object.values(this._$slots);for(let r=0;r<t.length&&!1!==e(t[r]);r+=1);}else if(3===t)for(let t=this._$subtreeSlotStart;t&&!1!==e(t.value);t=t.next);}forEachNodeInSlot(e){const t=this._$host.childNodes;for(let r=0;r<t.length;r+=1)if(!ze.forEachNodeInSlot(t[r],e))return!1;return!0}forEachNodeInSpecifiedSlot(e,t){if(e){const r=e.slotNodes;for(let e=0;e<r.length;e+=1){const n=r[e];if(!1===t(n))return!1}return!0}return this.forEachNodeInSlot(((e,r)=>null!==r||t(e)))}forEachSlotContentInSlot(e){const t=this._$host.childNodes;for(let r=0;r<t.length;r+=1)if(!ze.forEachSlotContentInSlot(t[r],e))return!1;return!0}forEachSlotContentInSpecifiedSlot(e,t){if(e){const r=e.slotNodes;for(let e=0;e<r.length;e+=1){const n=r[e];if(!n._$inheritSlots&&!1===t(n))return!1}return!0}return this.forEachSlotContentInSlot(((e,r)=>null!==r||t(e)))}isConnected(e){if(e.ownerShadowRoot!==this)return!1;for(let t=e;t;t=t.parentNode)if(t===this)return!0;return!1}_$applyMultipleSlotInsertion(e,t,r){const n=this._$slotsList,i=this._$slots;if(n[t]){const r=n[t];let i={next:r},a=!0;for(let t=this._$subtreeSlotStart;t&&i.next&&t.value!==e;t=t.next)t.value===i.next.value&&(a=!1,i=i.next);if(a)n[t]=r.prev={value:e,prev:null,next:r};else{const t=i.next;i.next={value:e,prev:i,next:t},t&&(t.prev=i.next)}}else n[t]={value:e,prev:null,next:null};const a=i[t],o=n[t].value;a!==o&&(i[t]=o,ze._$insertChildReassignSlot(this,t,a||null,o))}_$applyMultipleSlotsRemoval(e,t,r){const n=this._$slotsList,i=this._$slots;let a=n[t]||null;for(;a&&a.value!==e;a=a.next);if(!a)return;const o=a.prev,s=a.next;o&&(o.next=s),s&&(s.prev=o);if(!!o)return;const l=s;if(l){const a=l.value;n[t]=l,r||(i[t]=a,ze._$insertChildReassignSlot(this,t,e,a))}else delete n[t],r||(delete i[t],ze._$insertChildReassignSlot(this,t,e,null))}_$applySlotRename(e,t,r){const n=this._$slotMode;if(1!==n&&0!==n){if(2===n)return this._$applyMultipleSlotsRemoval(e,r,!1),void this._$applyMultipleSlotInsertion(e,t,!1);if(3===n){if(!this._$dynamicSlotsInserted)return;const r=this._$insertDynamicSlotHandler,n=this._$removeDynamicSlotHandler;this._$dynamicSlots.set(e,{updatePathTree:void 0}),null==n||n([e]),null==r||r([{slot:e,name:t,slotValues:e._$slotValues}])}}}_$applySlotsInsertion(e,t,r){const n=this._$slotMode;if(0!==n){if(1===n){const e=this._$singleSlot,t=this._$subtreeSlotStart.value;if(e===t)return;return this._$singleSlot=t,void ze._$insertChildReassignSlot(this,null,e,t)}if(2!==n){if(3===n){if(r)return;if(!this._$dynamicSlotsInserted)return;const n=this._$insertDynamicSlotHandler,i=[];for(let r=e;r&&r!==t.next;r=r.next){const e=r.value,t=e._$slotName;this._$dynamicSlots.set(e,{updatePathTree:void 0}),i.push({slot:e,name:t,slotValues:e._$slotValues})}null==n||n(i)}}else for(let n=e;n&&n!==t.next;n=n.next){const e=n.value,t=e._$slotName;this._$applyMultipleSlotInsertion(e,t,r)}}}_$applySlotsRemoval(e,t,r){var n;const i=this._$slotMode;if(0!==i){if(1===i){if(r)return;const e=this._$singleSlot,t=(null===(n=this._$subtreeSlotStart)||void 0===n?void 0:n.value)||null;if(e===t)return;return this._$singleSlot=t,void ze._$insertChildReassignSlot(this,null,e,t)}if(2!==i){if(3===i){if(r)return;if(!this._$dynamicSlotsInserted)return;const n=this._$removeDynamicSlotHandler,i=[];for(let r=e;r&&r!==t.next;r=r.next){const e=r.value;this._$dynamicSlots.delete(e),i.push(e)}null==n||n(i)}}else for(let n=e;n&&n!==t.next;n=n.next){const e=n.value,t=e._$slotName;this._$applyMultipleSlotsRemoval(e,t,r)}}}setDynamicSlotHandler(e,t,r,n){if(3===this._$slotMode&&(this._$requiredSlotValueNames=e,this._$insertDynamicSlotHandler=t,this._$removeDynamicSlotHandler=r,this._$updateDynamicSlotHandler=n,this._$dynamicSlotsInserted)){const e=this._$dynamicSlots.values();for(let t=e.next();!t.done;t=e.next()){const e=t.value;e.updatePathTree=e.updatePathTree||Object.create(null)}}}useDynamicSlotHandlerFrom(e){e._$insertDynamicSlotHandler&&this.setDynamicSlotHandler(e._$requiredSlotValueNames.slice(),e._$insertDynamicSlotHandler,e._$removeDynamicSlotHandler,e._$updateDynamicSlotHandler)}replaceSlotValue(e,t,r){var n;const i=e._$slotValues;if(!i)return;const a=i[t];let o=r;if(0!==this._$propertyPassingDeepCopy&&(o=2===this._$propertyPassingDeepCopy?de(r,!0):ue(r)),a===o)return;if(i[t]=o,e._$mutationObserverTarget&&fe.callAttrObservers(e,{type:"properties",target:e,nameType:"slot-value",propertyName:t}),this._$requiredSlotValueNames.indexOf(t)<0)return;const s=null===(n=this._$dynamicSlots)||void 0===n?void 0:n.get(e);s&&(s.updatePathTree||(s.updatePathTree=Object.create(null)),s.updatePathTree[t]=!0)}applySlotValueUpdates(e){var t,r;const n=null===(t=this._$dynamicSlots)||void 0===t?void 0:t.get(e),i=null==n?void 0:n.updatePathTree;i&&(n.updatePathTree=void 0,null===(r=this._$updateDynamicSlotHandler)||void 0===r||r.call(this,e,e._$slotValues,i))}applySlotUpdates(){var e;if(this._$dynamicSlotsInserted){const t=this._$dynamicSlots.entries();for(let r=t.next();!r.done;r=t.next()){const[t,n]=r.value,i=n.updatePathTree;i&&(n.updatePathTree=void 0,null===(e=this._$updateDynamicSlotHandler)||void 0===e||e.call(this,t,t._$slotValues,i))}}else{this._$dynamicSlotsInserted=!0;const e=this._$insertDynamicSlotHandler,t=[];for(let e=this._$subtreeSlotStart;e;e=e.next){const r=e.value,n=r._$slotName;this._$dynamicSlots.set(r,{updatePathTree:void 0}),t.push({slot:r,name:n,slotValues:r._$slotValues})}null==e||e(t)}}getSlotMode(){return this._$slotMode}}Qe.isShadowRoot=C,Qe.prototype[m]=!0;class Ze{constructor(e,t,r,n,i){this.ownerShadowRoot=n,this.elem=r,this.keyName=e,this.updateKeys(t);const a=this.items,o=this.indexes,s=[];for(let e=0;e<a.length;e+=1){const t=a[e],r=null===o?e:o[e];s.push(i(t,r))}r.insertChildren(s,-1)}updateKeys(e){let t,r;if(Array.isArray(e))t=e,r=null;else if("object"==typeof e&&null!==e){const n=Object.keys(e);t=new Array(n.length),r=new Array(n.length);for(let i=0;i<n.length;i+=1){const a=n[i],o=e[a];t[i]=o,r[i]=a}}else if("string"==typeof e){M("Use string as for-list is generally for testing. Each character is treated as an item.",this.ownerShadowRoot.getHostNode(),this.elem),t=new Array(e.length),r=null;for(let r=0;r<e.length;r+=1)t[r]=e[r]}else if("number"==typeof e){M("Use number as for-list is generally for testing. The number is used as the repeated times of the item.",this.ownerShadowRoot.getHostNode(),this.elem),t=new Array(e),r=null;for(let r=0;r<e;r+=1)t[r]=r}else M(`The for-list data is neither Array nor Object, got type "${null===e?"null":typeof e}".`,this.ownerShadowRoot.getHostNode(),this.elem),t=[],r=null;this.items=t,this.indexes=r;const n=this.keyName,i=new Array(t.length),a=Object.create(null);let o;if(null!==n){for(let e=0;e<t.length;e+=1){const r=t[e],s="*this"===n?r:null==r?void 0:r[n],l=null!=s?String(s):"";i[e]=l,void 0!==a[l]?(o||(o=Object.create(null)),o[l]=[a[l],e],delete a[l]):(null==o?void 0:o[l])?o[l].push(e):a[l]=e}if(o){const e=Object.keys(o);M(`Some keys are not unique while list updates: "${e.join('", "')}".`,this.ownerShadowRoot.getHostNode(),this.elem);for(let t=0;t<e.length;t+=1){const r=e[t],n=o[r];let s=0;for(let e=0;e<n.length;e+=1){const t=n[e];for(;void 0!==a[`${r}--${s}`];)s+=1;const o=`${r}--${s}`;a[o]=t,i[t]=o}}}}this.rawKeys=i,this.keyMap=a,this.sharedKeyMap=o}diff(e,t,r,n,i){const a=this.rawKeys,o=this.keyMap,s=this.sharedKeyMap,l=this.indexes;this.updateKeys(e);const c=this.rawKeys,u=this.sharedKeyMap,d=this.items,p=this.indexes,h=this.keyName,f="object"==typeof t&&Array.isArray(Object.getPrototypeOf(t));let g,v;if(!0===t)v=!0,g=null===h;else if(void 0===t)v=t,g=!0;else if(null===h)v=!0,g=!0;else{let e=!1;if(f)e=!0;else{const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const i=t[r[n]];if(!0===i||("*this"===h?i:null==i?void 0:i[h])){e=!0;break}}}if(e){v=new Array(c.length);for(let e=0;e<c.length;e+=1){const r=c[e];if(void 0!==(null==s?void 0:s[r])||void 0!==(null==u?void 0:u[r]))v[e]=!0;else{const r=t[e];void 0===r||(!0===r||("*this"===h?r:null==r?void 0:r[h])?v[e]=!0:v[e]=r)}}g=!1}else v=t,g=!1}if(g){let e;e=!!f||t;let o=0;for(;o<a.length&&o<c.length;){const t=d[o],n=null===p?o:p[o],a=null===l?o:l[o];i(t,n,!0===e||void 0===e?e:e[n],n!==a,r.childNodes[o]),o+=1}if(o<a.length)r.removeChildren(o,a.length-o);else if(o<c.length){const e=[];for(;o<c.length;o+=1){const t=d[o],r=null===p?o:p[o];e.push(n(t,r))}r.insertChildren(e,-1)}return}const m=[],y=[],b=new Array(c.length),_=new Array(c.length);let w=-1,S=-1;for(let e=0;e<c.length;e+=1){const t=c[e];if(a[w+1]===t){w+=1,S+=1,m[S]=w,y[S]=e,b[e]=S>0?y[S-1]:-1,_[e]=w;continue}const r=o[t];if(void 0===r){_[e]=-1;continue}let n=0,i=m.length;for(;n<i;){const e=Math.floor((n+i)/2);r<m[e]?i=e:n=e+1}m[i]=r,y[i]=e,b[e]=i>0?y[i-1]:-1,_[e]=r,w=r,S=i}const C=y.length;if(C===c.length&&C===a.length){let e=0;for(;e<a.length&&e<c.length;){const t=d[e],n=null===p?e:p[e],a=null===l?e:l[e];i(t,n,!0===v||void 0===v?v:v[e],n!==a,r.childNodes[e]),e+=1}return}let k=C>0?y[C-1]:-1,I=C;for(;-1!==k;)I-=1,m[I]=k,k=b[k];const P=m;let T;!function(e){e[e.Stable=0]="Stable",e[e.ForwardMove=1]="ForwardMove",e[e.BackwardMove=2]="BackwardMove"}(T||(T={}));const A=new Array(a.length),x=new Array(c.length);let E=-1;for(let e=0;e<_.length;e+=1){const t=_[e];if(e!==P[I])if(-1!==t)A[t]=t>E?2:1,x[e]=r.childNodes[t];else{const t=d[e],r=null===p?e:p[e];x[e]=n(t,r)}else E=t,I+=1,A[t]=0}let M=0,R=0,D=0;I=0;do{const e=I<P.length?P[I]:x.length,t=I<P.length?_[e]:A.length;for(;R<t;)if(void 0===A[R]){const e=R;R+=1;let n=1;for(;R<t&&void 0===A[R];)R+=1,n+=1;r.removeChildren(e+M,n),M-=n}else 2===A[R]&&(M-=1),R+=1;for(;D<e;){const n=x[D],a=_[D];if(-1===a){const n=D;D+=1;let i=1;for(;D<e&&-1===_[D];)D+=1,i+=1;r.insertChildren(x.slice(n,n+i),t+M),M+=i}else{n&&r.insertChildAt(n,t+M);const e=d[D],o=null===p?D:p[D],s=null===l?a:l[a];i(e,o,!0===v||void 0===v?v:v[D],o!==s,n),2===A[a]&&(M+=1),D+=1}}if(I<P.length){const n=d[e],a=null===p?e:p[e],o=null===l?t:l[t];i(n,a,!0===v||void 0===v?v:v[e],a!==o,r.childNodes[t+M])}R=t+1,D=e+1,I+=1}while(I<=P.length)}}let et=e=>e;let tt=(e,t,r)=>r.apply(e,[t]);const rt=e=>{const t=e;return t._$wxTmplArgs=t._$wxTmplArgs||{}},nt=e=>null==e?"":String(e),it=e=>e.replace(/-(.|$)/g,(e=>e[1]?e[1].toUpperCase():""));class at{constructor(e,t,r){this.bindingMapDisabled=!1,this.changePropFilter=et,this.eventListenerWrapper=tt,this.s=(e,t)=>{e.slot=t,this.tryCallPropertyChangeListener(e,"slot",t)},this.l=(e,t,r,n)=>{var i;3===this.shadowRoot.getSlotMode()?this.shadowRoot.replaceSlotValue(e,t,r):this.checkFallbackEventListener(e,t,r,n)||M(`"${t}" is not a valid event binding or slot value`,null===(i=e.ownerShadowRoot)||void 0===i?void 0:i.getHostNode(),e),this.tryCallPropertyChangeListener(e,t,r)},this.i=(e,t)=>{e.id=t,this.tryCallPropertyChangeListener(e,"id",t)},this.c=(e,t)=>{if(k(e)){e.hasExternalClass("class")&&e.setExternalClass("class",t)}e.setNodeClass(t),this.tryCallPropertyChangeListener(e,"class",t)},this.y=(e,t)=>{if(k(e)&&At.hasProperty(e,"style")){const r=At.getDataProxy(e),n=it("style");r.replaceProperty(n,t)}else e.setNodeStyle(nt(t),0);this.tryCallPropertyChangeListener(e,"style",t)},this.d=(e,t,r)=>{e.setDataset(t,r)},this.m=(e,t,r)=>{e.setMark(t,r)},this.v=(e,t,r,n,i,a,o,s)=>{const l="function"==typeof r?r:nt(r),c=t=>{const r=e.ownerShadowRoot.getHostNode(),n=r.getMethodCaller(),i="function"==typeof l?l:At.getMethod(r,l);if("function"==typeof i)return this.eventListenerWrapper(n,t,i,s)},u={final:n,mutated:i,capture:a,extraFields:{handler:l}};if(o){const r=rt(e);r.dynEvListeners||(r.dynEvListeners={});const n=r.dynEvListeners;n[t]&&e.removeListener(t,n[t],u),n[t]=c}l&&e.addListener(t,c,u)},this.r=(e,t,r,n,i)=>{var a;if(k(e)){const o=At.getDataProxy(e),s=it(t);o.replaceProperty(s,r)?void 0!==n&&(null===n?o.setModelBindingListener(s,(()=>{})):o.setModelBindingListener(s,(t=>{const r=e.ownerShadowRoot.getHostNode(),i=At.getDataProxy(r);i.replaceDataOnPath(n,t),i.applyDataUpdates(!1)}))):e.hasExternalClass(t)?e.setExternalClass(t,r):this.checkFallbackEventListener(e,s,r,i)||M(`"${s}" is not a valid property`,null===(a=e.ownerShadowRoot)||void 0===a?void 0:a.getHostNode(),e)}else if(w(e)){const a=it(t);this.fallbackListenerOnNativeNode&&this.checkFallbackEventListener(e,a,r,i)||e.callAttributeFilter(a,r,(t=>{e.updateAttribute(a,t)})),n&&e.setModelBindingListener(t,(t=>{const r=e.ownerShadowRoot.getHostNode(),i=At.getDataProxy(r);i.replaceDataOnPath(n,t),i.applyDataUpdates(!1)}))}this.tryCallPropertyChangeListener(e,t,r)},this.a=(e,t,r)=>{e.updateAttribute(t,r),this.tryCallPropertyChangeListener(e,t,r)},this.wl=(e,t,r)=>{k(e)&&e.triggerWorkletChangeLifetime(t,r)},this.p=(e,t,r,n)=>{const i=rt(e);i.changeProp||(i.changeProp=Object.create(null)),i.changeProp[t]={listener:this.changePropFilter(r,n),oldValue:void 0}},this.shadowRoot=e,this.procGen=t,this.fallbackListenerOnNativeNode=r}create(e){const{shadowRoot:t,procGen:r}=this,n=r(this,!0,e,void 0);return this.handleChildrenCreationAndInsert(n.C,t,void 0,void 0),n.B}update(e,t){const{shadowRoot:r,procGen:n}=this,i=n(this,!1,e,t);this.handleChildrenUpdate(i.C,r,void 0,void 0)}bindingMapUpdate(e,t,r){if(this.bindingMapDisabled)return!1;const n=r[e];if(!n)return!1;let i=null;for(let e=0;e<n.length;e+=1){(0,n[e])(t,(e=>{if(null!==i&&e!==i&&k(i)&&i.hasPendingChanges()){At.getDataProxy(i).applyDataUpdates(!0)}i=e}),((e,t)=>{e.textContent=t}))}const a=i;if(null!==a&&k(a)&&a.hasPendingChanges()){At.getDataProxy(a).applyDataUpdates(!0)}return!0}handleChildrenCreation(e,t,r){const n=[];return e(!0,((e,i)=>{if(t&&""!==r){const e=this.createDynamicPlaceholder(t);return void n.push(e)}const a=this.shadowRoot.createTextNode(e);a.destroyBackendElementOnRemoval(),t&&ze.setSlotElement(a,t),i&&i(a),n.push(a)}),((e,i,a,o,s,l)=>{if(t&&r!==(s||"")){const e=this.createDynamicPlaceholder(t);return void n.push(e)}const c=this.createCommonElement(e,i,a,o,l);if(t){ze.setSlotElement(c,t);rt(c).dynamicSlotNameMatched=!0}else void 0!==s&&(c.slot=s);n.push(c)}),((e,i)=>{const a=this.shadowRoot.createVirtualNode("wx:if");a.destroyBackendElementOnRemoval(),ze.setInheritSlots(a),t&&ze.setSlotElement(a,t);rt(a).key=e,this.handleChildrenCreationAndInsert(i,a,t,r),n.push(a)}),((e,i,a,o,s)=>{const l=this.shadowRoot,c=l.createVirtualNode("wx:for");c.destroyBackendElementOnRemoval(),ze.setInheritSlots(c),t&&ze.setSlotElement(c,t);rt(c).keyList=new Ze(i,e,c,l,((e,n)=>{const i=l.createVirtualNode("wx:for-item");return i.destroyBackendElementOnRemoval(),ze.setInheritSlots(i),t&&ze.setSlotElement(c,t),this.handleChildrenCreationAndInsert(((t,r,i,a,l,c,u)=>{s(!0,e,n,void 0,void 0,o?[...o,n]:null,r,i,a,l,c,u)}),i,t,r),i})),n.push(c)}),((e,r,i)=>{const a=this.shadowRoot.createVirtualNode("slot");a.destroyBackendElementOnRemoval(),ze.setSlotName(a,nt(e)),t?ze.setSlotElement(a,t):void 0!==i&&(a.slot=i),r&&r(a),n.push(a)}),((e,i)=>{if(void 0!==i)if(t)if(r===i){const r=this.shadowRoot.createVirtualNode("virtual");r.destroyBackendElementOnRemoval(),ze.setSlotElement(r,t);rt(r).dynamicSlotNameMatched=!0,this.handleChildrenCreationAndInsert(e,r,void 0,void 0),n.push(r)}else{const e=this.createDynamicPlaceholder(t);n.push(e)}else{const t=this.shadowRoot.createVirtualNode("virtual");t.destroyBackendElementOnRemoval(),t.slot=i,this.handleChildrenCreationAndInsert(e,t,void 0,void 0),n.push(t)}else{const i=this.shadowRoot.createVirtualNode("virtual");i.destroyBackendElementOnRemoval(),ze.setInheritSlots(i),t&&ze.setSlotElement(i,t),this.handleChildrenCreationAndInsert(e,i,t,r),n.push(i)}}),void 0,void 0),n}handleChildrenCreationAndInsert(e,t,r,n){const i=this.handleChildrenCreation(e,r,n);i.length&&t.insertChildren(i,-1)}handleChildrenUpdate(e,t,r,n){let i=0;const a=r?r.slotNodes.filter((e=>e.parentNode===t)):t.childNodes;e(!1,(e=>{const t=a[i];if(i+=1,t){if(r){if(!rt(t).dynamicSlotNameMatched)return}void 0!==e&&(t.textContent=e)}}),((e,o,s,l,c,u)=>{const d=a[i];if(i+=1,!d)return;if(r){const i=rt(d);if(n!==(c||"")){if(i.dynamicSlotNameMatched){const e=this.createDynamicPlaceholder(r);t.replaceChild(e,d)}return}if(!i.dynamicSlotNameMatched){const n=this.createCommonElement(e,o,s,l,u);ze.setSlotElement(n,r);return rt(n).dynamicSlotNameMatched=!0,void t.replaceChild(n,d)}}s(d,!1);let p=!1;if(k(d)){const e=this.dynamicSlotUpdate(d,u,l);if(e&&(p=!0),d.hasPendingChanges()){At.getDataProxy(d).applyDataUpdates(!0)}null==e||e.applySlotUpdates()}r||void 0!==c&&(d.slot=c),p||this.handleChildrenUpdate(l,d,void 0,void 0)}),((e,o)=>{const s=a[i];if(i+=1,!s)return;const l=rt(s);if(l.key===e)this.handleChildrenUpdate(o,s,r,n);else{const a=this.shadowRoot.createVirtualNode("wx:if");a.destroyBackendElementOnRemoval(),ze.setInheritSlots(a),r&&ze.setSlotElement(a,r);const c=rt(a);l.key=c.key=e,this.handleChildrenCreationAndInsert(o,a,r,n),r?t.replaceChild(a,s):t.replaceChildAt(a,i-1)}}),((e,t,o,s,l)=>{const c=a[i];if(i+=1,!c)return;rt(c).keyList.diff(e,o,c,((e,t)=>{const i=this.shadowRoot.createVirtualNode("wx:for-item");return i.destroyBackendElementOnRemoval(),ze.setInheritSlots(i),r&&ze.setSlotElement(c,r),this.handleChildrenCreationAndInsert(((r,n,i,a,o,c,u)=>{l(!0,e,t,void 0,void 0,s?[...s,t]:null,n,i,a,o,c,u)}),i,r,n),i}),((e,t,i,a,o)=>{o&&this.handleChildrenUpdate(((r,n,o,c,u,d,p)=>{l(!1,e,t,i,!!a||void 0,s?[...s,t]:null,n,o,c,u,d,p)}),o,r,n)}))}),((e,t,n)=>{const o=a[i];i+=1,o&&(void 0!==e&&ze.setSlotName(o,nt(e)),r||void 0!==n&&(o.slot=n),t&&t(o),this.shadowRoot.applySlotValueUpdates(o))}),((e,o)=>{const s=a[i];if(i+=1,s)if(void 0!==o)if(r){const i=rt(s);if(n===o)if(i.dynamicSlotNameMatched)this.handleChildrenUpdate(e,s,void 0,void 0);else{const n=this.shadowRoot.createVirtualNode("virtual");n.destroyBackendElementOnRemoval(),ze.setSlotElement(n,r);rt(n).dynamicSlotNameMatched=!0,this.handleChildrenCreationAndInsert(e,n,void 0,void 0),t.replaceChild(n,s)}else if(i.dynamicSlotNameMatched){const e=this.createDynamicPlaceholder(r);t.replaceChild(e,s)}}else s.slot=o,this.handleChildrenUpdate(e,s,void 0,void 0);else this.handleChildrenUpdate(e,s,r,n)}),void 0,void 0)}dynamicSlotUpdate(e,t,r){const n=e.getShadowRoot();return 3===(null==n?void 0:n.getSlotMode())?(n.setDynamicSlotHandler(t||[],(t=>{const n=[];for(let e=0;e<t.length;e+=1){const{slot:i,name:a,slotValues:o}=t[e],s=this.handleChildrenCreation(((e,t,n,i,a,s,l)=>{r(!0,t,n,i,a,s,l,o,void 0)}),i,a);n.push(...s)}n.length&&e.insertChildren(n,-1)}),(t=>{if(!t.length||!t[0].slotNodes.length)return;t.sort(((e,t)=>e.slotNodes[0].parentIndex-t.slotNodes[0].parentIndex));let r=-1/0,n=-1/0;for(let i=0;i<t.length;i+=1){const a=t[i].slotNodes,o=a[0].parentIndex;n===o||(r>=0&&e.removeChildren(r,n-r),r=o),n=o+a.length}r>=0&&e.removeChildren(r,n-r)}),((t,n,i)=>{const a=t._$slotName||"";this.handleChildrenUpdate(((e,t,a,o,s,l,c)=>{r(!1,t,a,o,s,l,c,n,i)}),e,t,a)})),n):null}createDynamicPlaceholder(e){const t=this.shadowRoot.createVirtualNode("virtual");t.destroyBackendElementOnRemoval(),ze.setSlotElement(t,e);return rt(t).dynamicSlotNameMatched=!1,t}checkFallbackEventListener(e,t,r,n){if(t.startsWith("bind"))this.v(e,t.slice(4),r,!1,!1,!1,!0,n);else if(t.startsWith("captureBind"))this.v(e,t.slice(11),r,!1,!1,!0,!0,n);else if(t.startsWith("catch"))this.v(e,t.slice(5),r,!0,!1,!1,!0,n);else if(t.startsWith("captureCatch"))this.v(e,t.slice(12),r,!0,!1,!0,!0,n);else{if(!t.startsWith("on"))return!1;this.v(e,t.slice(2),r,!1,!1,!1,!0,n)}return!0}createCommonElement(e,t,r,n,i){let a=!1;const o=e=>{const t=k(e)?this.dynamicSlotUpdate(e,i,n):null;if(t&&(a=!0),r(e,!0),k(e)){if(e.hasPendingChanges()){At.getDataProxy(e).applyDataUpdates(!0)}null==t||t.applySlotUpdates()}},s=this.shadowRoot.createComponent(e,e,t,(()=>{var r;const n=this.shadowRoot.createComponent(e,e,t,void 0,o);n.destroyBackendElementOnRemoval();const i=n.getShadowRoot(),a=k(s)?s.getShadowRoot():null,l=3===(null==a?void 0:a.getSlotMode()),c=3===(null==i?void 0:i.getSlotMode());c!==l?E(new Error(`The "dynamicSlots" option of component <${n.is}> and its placeholder <${s.is}> should be the same.`),"[render]",k(n)?n:n.is):c?null===(r=s.parentNode)||void 0===r||r.replaceChild(n,s):s.selfReplaceWith(n)}),o);return s.destroyBackendElementOnRemoval(),a?this.bindingMapDisabled=!0:this.handleChildrenCreationAndInsert(n,s,void 0,void 0),s}tryCallPropertyChangeListener(e,t,r){var n;const i=rt(e);if(null===(n=i.changeProp)||void 0===n?void 0:n[t]){const n=i.changeProp[t],a=n.oldValue;if(a!==r){n.oldValue=r;const t=e.ownerShadowRoot.getHostNode();d("Property Change Observer",n.listener,null,[r,a,t,e],t)}}}setFnFilter(e){this.changePropFilter=e}setEventListenerWrapper(e){"function"==typeof e&&(this.eventListenerWrapper=e)}devArgs(e){return(e=>{const t=e;return t._$wxTmplDevArgs=t._$wxTmplDevArgs||{}})(e)}}var ot;!function(e){e[e.Data=0]="Data",e[e.Script=1]="Script",e[e.InlineScript=2]="InlineScript"}(ot||(ot={}));const st=()=>{};class lt{constructor(e,t){this.shadowRoot=e,this.procGen=t}create(e){const{shadowRoot:t,procGen:r}=this,n=r(this,!0,e,void 0);return this.handleChildrenCreation(n.C,t.shadowRootElement),n.B}bindingMapUpdate(e,t,r){const n=r[e];if(void 0!==n)for(let e=0;e<n.length;e+=1){(0,n[e])(t,(()=>{}),((e,t)=>{e.textContent=t}))}}handleChildrenCreation(e,t){let r=!0,n=!1;const i=()=>{r=!1,n=!1;const e=document.createElement("virtual");t.appendChild(e),this.shadowRoot.slot=e};e(!0,((e,a)=>{n?i():r=!1;const o=document.createTextNode(e||"");a&&a(o),t.appendChild(o)}),((e,a,o,s)=>{n?i():r=!1;const l=document.createElement(e);o(l,!0),this.handleChildrenCreation(s,l),t.appendChild(l)}),st,st,(()=>{r?(n=!0,this.shadowRoot.slot=t):i()}),(e=>{n?i():r=!1;const a=document.createElement("virtual");this.handleChildrenCreation(e,a),t.appendChild(a)}))}s(){}i(e,t){this.shadowRoot.idMap[t]=e}c(e,t){e.setAttribute("class",t)}y(e,t){e.setAttribute("style",t)}d(e,t,r){e.dataset[t]=nt(r)}m(){}v(e,t,r,n){this.shadowRoot.setListener(e,t,(e=>{const t=this.shadowRoot.template.methods[r],i=null==t?void 0:t(e);return!n&&i}))}r(e,t,r){"boolean"==typeof r?r?e.setAttribute(t,""):e.removeAttribute(t):e.setAttribute(t,nt(r))}a(e,t,r){this.r(e,t,r)}p(){}setFnFilter(){}devArgs(e){return(e=>{const t=e;return t._$wxTmplDevArgs=t._$wxTmplDevArgs||{}})(e)}}const ct=()=>({C:(e,t,r,n,i,a)=>{a("")},B:Object.create(null)}),ut=()=>ct;class dt{constructor(e){if("object"!=typeof e._$template&&void 0!==e._$template)throw new Error(`Component template of ${e.is} must be a valid compiled template (or "null" for default template).`);{const t=e._$template||{content:ut};this.genObjectGroupEnv={list:t.groupList||Object.create(null),group:t.content}}this.updateMode="",this.methods=e._$methodMap}createInstance(e){return new pt(this,e)}}class pt{constructor(e,t){if(3!==t.getBackendMode())throw new Error(`Component template of ${t.is} cannot be initialized since external rendering is only supported in Domlike backend currently.`);const r=t.getBackendElement();if(!r)throw new Error(`Component template of ${t.is} cannot be initialized as external components since no suitable backend element found.`);this.comp=t,this.shadowRoot=this,this.shadowRootElement=r,this.root=r,this.slot=r,this.template=e;const n=e.genObjectGroupEnv.group("")||ut();this.procGenWrapper=new lt(this,n),this.idMap=Object.create(null),this.listeners=[]}initValues(e){if(this.bindingMapGen=this.procGenWrapper.create(e),!this.bindingMapGen)throw new Error("The component template does not support binding-map-update, so it cannot be used as external components.");const t=this.shadowRootElement;if(this.slot===t&&t.childNodes.length>0){const e=document.createElement("virtual");t.appendChild(e),this.slot=e}}getIdMap(){return this.idMap}updateValues(e,t){const r=this.bindingMapGen;for(let n=0;n<t.length;n+=1){const[i]=t[n];this.procGenWrapper.bindingMapUpdate(i[0],e,r)}}setListener(e,t,r){const n=e;n._$wxTmplEv?n._$wxTmplEv[t]=r:n._$wxTmplEv={[t]:r}}handleEvent(e,t){var r;const n=e;let i=n;const a=this.shadowRootElement,o=t.getEventName(),s=t.bubbles;for(;;){const e=t.wrapShadowedEvent(n,null,i),l=null===(r=i._$wxTmplEv)||void 0===r?void 0:r[o];if(l){!1===l.call(i,e)&&(t.preventDefault(),t.stopPropagation())}if(!s||t.propagationStopped())break;if(i===a)break;const c=i.parentNode;if(!c)break;i=c}}}const ht=()=>({C:(e,t,r,n,i,a)=>{a("")},B:Object.create(null)}),ft=()=>ht;var gt;!function(e){e[e.Disabled=0]="Disabled",e[e.Enabled=1]="Enabled",e[e.Forced=2]="Forced"}(gt||(gt={}));const vt=e=>String(e>>>0)===e;class mt{create(e,t){return t.externalComponent?new dt(e):new yt(e)}}class yt{constructor(e){this.updateTemplate(e)}updateTemplate(e){const t=e._$template;if("object"!=typeof t&&void 0!==t)throw new Error(`Component template of ${e.is} must be a valid compiled template (or "null" for default template).`);const r=t||{content:ft};this.genObjectGroupEnv={list:r.groupList||Object.create(null),group:r.content},this.updateMode=r.updateMode||"",this.fallbackListenerOnNativeNode=r.fallbackListenerOnNativeNode||!1}createInstance(e,t){return new bt(this,e,t(e))}}class bt{constructor(e,t,r){this.comp=t,this.shadowRoot=r,this.shadowRoot.destroyBackendElementOnRemoval(),this._$applyTemplate(e)}updateTemplate(e,t){this._$applyTemplate(e),this.shadowRoot.removeChildren(0,this.shadowRoot.childNodes.length),this.bindingMapGen=this.procGenWrapper.create(t)}_$applyTemplate(e){const t=e.genObjectGroupEnv.group("")||ft();"bindingMap"===e.updateMode?this.forceBindingMapUpdate=2:"virtualTree"===e.updateMode?this.forceBindingMapUpdate=0:this.forceBindingMapUpdate=1,this.procGenWrapper=new at(this.shadowRoot,t,e.fallbackListenerOnNativeNode),this.bindingMapGen=void 0}initValues(e){return this.bindingMapGen=this.procGenWrapper.create(e),this.shadowRoot}updateValues(e,t){if(2===this.forceBindingMapUpdate){for(let r=0;r<t.length;r+=1)this.tryBindingMapUpdate(e,t[r]);return}if(1===this.forceBindingMapUpdate&&t.length<=1&&this.bindingMapGen&&this.tryBindingMapUpdate(e,t[0]))return;const r=Object.create(null);for(let e=0;e<t.length;e+=1){const[n,i,a,o]=t[e];let s=r;for(let e=0;e<n.length;e+=1){const t=n[e],r=s[t];if(!0===r)break;if(e===n.length-1){if(void 0===o)s[t]=!0;else{const e=a;if(void 0===r)s[t]=Object.create(new Array(e));else if(Array.isArray(Object.getPrototypeOf(r))){const t=Object.getPrototypeOf(r);t.length<e&&(t.length=e);const n=r,i=Object.keys(n);for(let e=0;e<i.length;e+=1){const r=i[e];vt(r)&&(t[Number(r)]=n[r],delete n[r])}}else{const n=new Array(e),i=Object.keys(r);let a=!1;for(let e=0;e<i.length;e+=1){const t=i[e],o=r[t];vt(t)?n[Number(t)]=o:"length"===t&&(a=!0)}const o=Object.create(n);a&&(o.length=!0),s[t]=o}const n=Object.getPrototypeOf(s[t]),l=new Array(i.length);l.fill(!0),n.splice(a,o,...l)}break}if(void 0===r){const e=Object.create(null);s[t]=e,s=e}else s=r}}this.procGenWrapper.update(e,r)}tryBindingMapUpdate(e,t){if(!t)return!0;const r=this.bindingMapGen;if(!r)return!1;const[n]=t;return 1===n.length&&this.procGenWrapper.bindingMapUpdate(n[0],e,r)}}let _t=null;const wt=()=>{if(_t)return _t;const e=new mt;return _t=e,e};var St=Object.freeze({__proto__:null,DEFAULT_PROC_GEN_GROUP:ft,get GeneralLvaluePathPrefix(){return ot},GlassEaselTemplateEngine:mt,getDefaultTemplateEngine:wt,setDefaultChangePropFilter:e=>{et=e},setDefaultEventListenerWrapper:e=>{tt=e}});const Ct=(e,t,r,n)=>{const i=t.ownerSpace,a=null==r?void 0:r._$behavior._$using,o=null==r?void 0:r._$genericImpls;e._$detail||e.prepare();const s=e.behavior;let l;const c=s._$generics;if(c){const r=s._$genericDefaults;l=Object.create(null);for(let s=0;s<c.length;s+=1){const u=c[s];if(n&&Object.prototype.hasOwnProperty.call(n,u)){const r=n[u];if("string"==typeof r)if(null==a?void 0:a[r])l[u]=a[r];else if(o&&o[r])l[u]=o[r];else{const n=i.getGlobalUsingComponent(r);if("string"==typeof n)l[u]=n;else if(n)l[u]={final:n,source:t,placeholder:null,waiting:null};else{M(`Generic "${u}" value "${r}" is not valid`,e.is);const n=i.getDefaultComponent();if(!n)throw new R(`Cannot find default component for generic "${u}"`,"[prepare]",e.is);l[u]={final:n,source:t,placeholder:null,waiting:null}}}else l[u]=r}else{let n=r[u];if(!n){if(n=i.getDefaultComponent(),!n)throw new R(`Cannot find default component for generic "${u}"`,"[prepare]",e.is);M(`Cannot find impl for generic "${u}", using default component (on component "${e.is}")`)}l[u]="string"==typeof n?n:{final:n,source:t,placeholder:null,waiting:null}}}}else l=null;return l},kt=(e,t,r,n)=>{const i=r._$using[e]||n&&n[e];let a=null;if(i&&("string"==typeof i?a=i:null===i.placeholder?a=i.final:M("Placeholder on generic implementation is not valid",r.is)),a)return a;let o=t.getGlobalUsingComponent(e);if(null===o&&t._$allowUnusedNativeNode&&""!==e&&(o=e),!o){if(o=t.getDefaultComponent(),!o)throw new R(`Cannot find placeholder target "${e}"`,"[prepare]",r.is);M(`Cannot find placeholder target "${e}", using default component.`,r.is)}return o};class It{constructor(e){this.behavior=e,this.is=this.behavior.is,this._$detail=null,this._$options=s(e._$options,e.ownerSpace.getComponentOptions());const t=this._$options.templateEngine;this._$templateEngine=null!=t?t:wt()}general(){return this}getComponentOptions(){return this._$options}getComponentDependencies(){return this.behavior.getComponentDependencies()}updateTemplate(e){var t;if(!(null===(t=this._$detail)||void 0===t?void 0:t.template.updateTemplate))throw new Error(`The template engine of component "${this.is}" does not support template update`);this.behavior._$updateTemplate(e),this._$detail.template.updateTemplate(this.behavior)}isPrepared(){return!!this._$detail}prepare(){if(this._$detail)return;this.behavior.prepare();const e=this.behavior,t=this._$options,r={};if(t.writeFieldsToNode){const t=Object.keys(e._$propertyMap);for(let e=0;e<t.length;e+=1){const n=t[e];r[n]={enumerable:!0,get(){return this._$dataGroup.data[n]},set(e){const t=this._$dataGroup;t.replaceDataOnPath([n],e),t.applyDataUpdates()}}}const n=Object.keys(e._$methodMap);for(let t=0;t<n.length;t+=1){const i=n[t];r[i]={enumerable:!0,value:e._$methodMap[i]}}}const n=function(){};r.constructor={value:n,writable:!0};const i=n.prototype=Object.create(At.prototype,r);i._$behavior=e,i._$definition=this,i._$methodMap=e._$methodMap,i._$dataGroupObserverTree=e._$generateObserverTree(),i._$lifetimeFuncs=e._$getAllLifetimeFuncs(),i._$pageLifetimeFuncs=e._$getAllPageLifetimeFuncs();const a=(e=>{if(void 0===e)return null;const t={definitions:new Array(6),keyMap:Object.create(null)},r=t.definitions,n=t.keyMap,i=Object.keys(e);for(let t=0;t<i.length;t+=1){const a=i[t],o=e[a],s=o.type;r[s]?(n[a]=[s,r[s].length],r[s].push(o)):(n[a]=[s,0],r[s]=[o])}return t})(e._$relationMap),o=Ee(t.dataDeepCopy),s=Ee(t.propertyPassingDeepCopy),l=this._$templateEngine.create(e,t);this._$detail={proto:i,template:l,dataDeepCopy:o,propertyPassingDeepCopy:s,relationDefinitionGroup:a}}}let Pt=1,Tt=null;class At extends ze{constructor(){throw new Error("Element cannot be constructed directly")}general(){return this}asInstanceOf(e){return this._$behavior!==e.behavior?null:this}static register(e,t){return(t||ee()).defineComponent(e)}static _$tagMethod(e){const t=e;return t[q]=!0,t}static isTaggedMethod(e){return"function"==typeof e&&!!e[q]}static _$advancedCreate(e,t,r,n,i,a,s){var l,c,u,p;t._$detail||t.prepare();const{proto:h,template:f,dataDeepCopy:g,propertyPassingDeepCopy:v,relationDefinitionGroup:m}=t._$detail,y=t._$options,b=t.behavior,_=r?r.getBackendContext():n||o.backendContext||(()=>{if(Tt)return Tt;let e;return e=new F,Tt=e,e})(),w=y.externalComponent,S=y.propertyEarlyInit,C=o.writeExtraInfoToAttr,k=y.virtualHost,I=Object.create(h);I._$genericImpls=i,I._$external=w,I.tagName=e,I._$methodCaller=I;const P=b.ownerSpace._$sharedStyleScope,T=y.styleScope&&y.styleScope!==P;let A=null;_&&(k||(A=_.createElement(y.hostNodeTagName,e))),I._$initialize(k,A,r,r?r._$nodeTreeContext:_),I._$placeholderHandlerRemover=a;const x=r?r.getHostNode():void 0,E=null==x?void 0:x.getComponentOptions(),M=null!==(l=null==E?void 0:E.styleScope)&&void 0!==l?l:U.globalScope(),D=null!==(c=null==E?void 0:E.extraStyleScope)&&void 0!==c?c:void 0,O=null==x?void 0:x._$behavior.ownerSpace.styleScopeManager;if(I.classList=new z(I,b._$externalClasses,x?x.classList:null,M,D,O),A){const e=null!==(u=null==E?void 0:E.styleScope)&&void 0!==u?u:y.styleScope;if(e&&A.setStyleScope(e,D,T?null!==(p=y.styleScope)&&void 0!==p?p:U.globalScope():void 0),O&&C){const e=O.queryName(M);e&&A.setAttribute("exparser:info-class-prefix",`${e}--`)}}const L=f.createInstance(I,Qe.createShadowRoot);if(A&&(A.__wxElement=I,A.__wxElement=I),C&&A){const e=Pt;Pt+=1,I._$componentInstanceId=e,A.setAttribute("exparser:info-component-id",e)}I._$idPrefix=y.idPrefixGenerator?y.idPrefixGenerator.call(I):"";const N=b._$staticData,B=b._$data;let $;if(void 0===N)if(1===B.length){$=(0,B[0])()}else{$={};for(let e=0;e<B.length;e+=1){const t=B[e];Object.assign($,t())}}else{$=ue(N);for(let e=0;e<B.length;e+=1){const t=B[e];Object.assign($,t())}}const j=I._$relation=new Ge(I,m);I._$traitGroup=new K;const W=b._$traitBehaviors;if(void 0!==W)for(let e=0;e<W.length;e+=1){const{traitBehavior:t,impl:r}=W[e];I._$traitGroup.implement(t,r)}if(b._$methodCallerInit){const e=b._$methodCallerInit.call(I);I._$methodCaller=e}let V=!1;if(b._$init.length>0){let e=!0;const t=I.getMethodCaller(),r={self:t,data:$,setData:I.setData.bind(I),implement:(e,t)=>{if(V)throw new R("Cannot execute init-time functions after initialization","[implement]",b.is);I._$traitGroup.implement(e,t)},relation:function(e){if(V)throw new R("Cannot execute init-time functions after initialization","[implement]",b.is);const t=e.target,r=He(b.ownerSpace,b.is,"undefined",e);let n;return n=r?j.add(r):Symbol("invalid"),{list:()=>j.getLinkedTargets(n).map((e=>e.getMethodCaller())),listAsTrait:t instanceof G?()=>j.getLinkedTargets(n).map((e=>e.traitBehavior(t))):void 0}},observer:(e,t)=>{if(V)throw new R("Cannot execute init-time functions after initialization","[implement]",b.is);I.dynamicAddObserver(t,e)},lifetime:(e,t)=>{if(V)throw new R("Cannot execute init-time functions after initialization","[implement]",b.is);I.addLifetimeListener(e,t)},pageLifetime:(e,t)=>{if(V)throw new R("Cannot execute init-time functions after initialization","[implement]",b.is);I.addPageLifetimeListener(e,t)},method:e=>At._$tagMethod(e),listener:e=>At._$tagMethod(e)},n=b._$init;for(let i=0;i<n.length;i+=1){const a=d("Component Init",n[i],t,[r],void 0);if(a){const t=Object.keys(a);for(let r=0;r<t.length;r+=1){const n=t[r],i=a[n];At.isTaggedMethod(i)&&(e&&(e=!1,I._$methodMap=Object.create(I._$methodMap)),I._$methodMap[n]=i,y.writeFieldsToNode&&(I[n]=i))}}}}V=!0;const q=L.shadowRoot;I.shadowRoot=q;const H=new Me(I,$,y.pureDataPattern||null,g,v,y.reflectToAttributes,I._$dataGroupObserverTree);I._$dataGroup=H,S&&void 0!==s&&s(I),L.initValues(H.innerData||H.data),I._$tmplInst=L,H.setUpdateListener(((e,t)=>{L.updateValues(e,t)}));const J=b._$listeners;if(void 0!==J)for(let e=0;e<J.length;e+=1){const{id:t,ev:r,listener:n}=J[e],i=n;if("this"===t)I.addListener(r,(e=>i.call(I._$methodCaller,e)));else if(w){const e=q,n=t?e.getIdMap()[t]:e.root;n&&e.setListener(n,r,(e=>i.call(I._$methodCaller,e)))}else{const e=q,n=t?e.getElementById(t):e;n&&n.addListener(r,(e=>i.call(I._$methodCaller,e)))}}return I.triggerLifetime("created",[]),S||void 0===s||s(I),I}static createWithGenericsAndContext(e,t,r,n,i){const a=e=>{let t;return r&&(t=Object.create(null),Object.entries(r).forEach((([r,n])=>{t[r]={final:n,source:e.behavior,placeholder:null,waiting:null}}))),Ct(e,e.behavior,void 0,t)};if(t)return At._$advancedCreate(String(e),t,null,n,a(t),void 0,i);if(e instanceof It)return At._$advancedCreate(e.is,e,null,n,a(e),void 0);const o=ee().getComponentByUrl(e,"");return At._$advancedCreate(e,o,null,n,a(o),void 0)}static createWithGenerics(e,t,r,n){return At.createWithGenericsAndContext(e,t,r,null,n)}static createWithContext(e,t,r,n){return At.createWithGenericsAndContext(e,t,null,r,n)}static create(e,t,r){return At.createWithGenericsAndContext(e,t,null,null,r)}get is(){return this._$definition.is}get properties(){return this._$dataGroup.data}get data(){return this._$dataGroup.data}set data(e){const t=this._$dataGroup;if(void 0===t)throw new R("Cannot update data before component created","data setter",this);Object.entries(e).forEach((([e,r])=>t.replaceDataOnPath([e],r))),t.applyDataUpdates()}get $(){return this._$external?this.shadowRoot.getIdMap():this.shadowRoot._$getIdMap()}getShadowRoot(){return this._$external?null:this.shadowRoot}applyTemplateUpdates(){var e;if(!(null===(e=this._$tmplInst)||void 0===e?void 0:e.updateTemplate))throw new Error(`The template engine of component "${this.is}" does not support template update`);const t=this._$dataGroup;this._$tmplInst.updateTemplate(this._$definition._$detail.template,t.innerData||t.data)}getOwnerSpace(){return this._$behavior.ownerSpace}isExternal(){return this._$external}static listProperties(e){return Object.keys(e._$behavior._$propertyMap)}static hasProperty(e,t){return!!e._$behavior._$propertyMap[t]}static getMethodsFromDef(e){return e.behavior._$methodMap}static getMethod(e,t){if(e._$definition._$options.useMethodCallerListeners&&Object.prototype.hasOwnProperty.call(e._$methodCaller,t)){const r=e._$methodCaller[t];return"function"==typeof r?r:void 0}return e._$methodMap[t]}callMethod(e,...t){const r=At.getMethod(this,e);return null==r?void 0:r.call(this,...t)}getComponentDefinition(){return this._$definition}getComponentOptions(){return this._$definition._$options}hasBehavior(e){return e instanceof G?void 0!==this._$traitGroup.get(e):this._$behavior.hasBehavior(e)}getRootBehavior(){return this._$behavior}traitBehavior(e){return this._$traitGroup.get(e)}setMethodCaller(e){this._$methodCaller=e}getMethodCaller(){return this._$methodCaller}addLifetimeListener(e,t){Object.prototype.hasOwnProperty.call(this,"_$lifetimeFuncs")||(this._$lifetimeFuncs=this._$behavior._$getAllLifetimeFuncs());const r=this._$lifetimeFuncs;(r[e]=r[e]||new l("lifetime")).add(t)}removeLifetimeListener(e,t){Object.prototype.hasOwnProperty.call(this,"_$lifetimeFuncs")||(this._$lifetimeFuncs=this._$behavior._$getAllLifetimeFuncs());const r=this._$lifetimeFuncs[e];null==r||r.remove(t)}triggerLifetime(e,t){const r=this._$lifetimeFuncs[e];r&&r.call(this._$methodCaller,t,this)}triggerLifeTime(e,t){return this.triggerLifetime(e,t)}addPageLifetimeListener(e,t){Object.prototype.hasOwnProperty.call(this,"_$pageLifetimeFuncs")||(this._$pageLifetimeFuncs=this._$behavior._$getAllPageLifetimeFuncs());const r=this._$pageLifetimeFuncs;(r[e]=r[e]||new l("pageLifetime")).add(t)}removePageLifetimeListener(e,t){Object.prototype.hasOwnProperty.call(this,"_$pageLifetimeFuncs")||(this._$pageLifetimeFuncs=this._$behavior._$getAllPageLifetimeFuncs());const r=this._$pageLifetimeFuncs[e];null==r||r.remove(t)}triggerPageLifetime(e,t){const r=n=>{if(k(n)){if(n._$pageLifetimeFuncs){const r=n._$pageLifetimeFuncs[e];r&&r.call(n._$methodCaller,t,this)}n._$external||r(n.shadowRoot)}const i=n.childNodes;for(let e=0;e<i.length;e+=1){const t=i[e];_(t)&&r(t)}};r(this)}triggerPageLifeTime(e,t){return this.triggerPageLifetime(e,t)}dynamicAddObserver(e,t){Object.prototype.hasOwnProperty.call(this,"_$dataGroupObserverTree")||(this._$dataGroupObserverTree=this._$dataGroupObserverTree.cloneSub(),this._$dataGroup&&(this._$dataGroup._$observerTree=this._$dataGroupObserverTree));const r=this._$dataGroupObserverTree;try{r.addObserver(e,se(t))}catch(e){E(e,"observer",this.is)}}getRelationNodes(e){var t;return(null===(t=this._$relation)||void 0===t?void 0:t.getLinkedTargets(e))||[]}hasExternalClass(e){return this.classList._$hasAlias(e)}setExternalClass(e,t){this.scheduleExternalClassChange(e,t),this.applyExternalClassChanges(),this._$mutationObserverTarget&&fe.callAttrObservers(this,{type:"properties",target:this,nameType:"external-class",attributeName:e})}getExternalClasses(){return this.classList._$getAlias()}scheduleExternalClassChange(e,t){this.classList._$setAlias(e,t)}applyExternalClassChanges(){if(this._$external)return;if(!this.classList._$shouldUpdateExternalClass())return;const e=t=>{if(!_(t))return;const r=t.classList;(null==r?void 0:r._$spreadExternalClassUpdate())&&k(t)&&t.applyExternalClassChanges();const n=t.childNodes;for(let t=0,r=n.length;t<r;t+=1)e(n[t]);null==r||r._$markExternalClassUpdated()};e(this.shadowRoot)}triggerWorkletChangeLifetime(e,t){this.triggerLifetime("workletChange",[e,t])}isInnerDataExcluded(e){var t;return(null===(t=this._$definition._$options.pureDataPattern)||void 0===t?void 0:t.test(e))||!1}static getInnerData(e){return e._$dataGroup.innerData}static getDataProxy(e){return e._$dataGroup}static replaceWholeData(e,t){e._$dataGroup.replaceWholeData(t)}replaceDataOnPath(e,t){const r=this._$dataGroup;if(void 0===r)throw new R("Cannot update data before component created","replaceDataOnPath",this);r.replaceDataOnPath(e,t)}spliceArrayDataOnPath(e,t,r,n){const i=this._$dataGroup;if(void 0===i)throw new R("Cannot update data before component created","spliceArrayDataOnPath",this);i.spliceArrayDataOnPath(e,t,r,n)}hasPendingChanges(){const e=this._$dataGroup;return void 0!==e&&e.getChanges().length>0}applyDataUpdates(){const e=this._$dataGroup;if(void 0===e)throw new R("Cannot update data before component created","applyDataUpdates",this);e.applyDataUpdates()}groupUpdates(e){const t=this._$dataGroup;if(void 0===t)throw new R("Cannot update data before component created","groupUpdates",this);const r=e();return t.applyDataUpdates(),r}updateData(e){const t=this._$dataGroup;if(void 0===t)throw new R("Cannot update data before component created","updateData",this);if("object"==typeof e&&null!==e){const r=Object.keys(e);for(let n=0;n<r.length;n+=1){const i=r[n];try{const r=oe(i);t.replaceDataOnPath(r,e[i])}catch(e){E(e,"updateData",this)}}}}setData(e){const t=this._$dataGroup;if(void 0===t)throw new R("Cannot update data before component created","setData",this);if("object"==typeof e&&null!==e){const r=Object.keys(e);for(let n=0;n<r.length;n+=1){const i=r[n];try{const r=oe(i);t.replaceDataOnPath(r,e[i])}catch(e){E(e,"setData",this)}}}t.applyDataUpdates()}}At.isComponent=k,At.prototype[y]=!0;class xt{constructor(e,t){this._$behaviors=[],this._$traitBehaviors=[],this._$staticData=void 0,this._$data=[],this._$methods=[],this._$lifetimes=[],this._$pageLifetimes=[],this._$init=[],this._$is=e,this._$ownerSpace=t}methodCallerInit(e){return this._$methodCallerInit=e,this}behavior(e){return this._$behaviors.push(e),e._$chainingFilter?e._$chainingFilter(this):this}chainingFilter(e){return this._$chainingFilter=e,this}options(e){const t=this._$options;return this._$options=t?Object.assign(Object.assign({},t),e):e,this}implement(e,t){return this._$traitBehaviors.push({traitBehavior:e,impl:t}),this}template(e){return this._$template=e,this}usingComponents(e){return this._$using?this._$using=Object.assign(Object.assign({},this._$using),e):this._$using=e,this}placeholders(e){return this._$placeholders?this._$placeholders=Object.assign(Object.assign({},this._$placeholders),e):this._$placeholders=e,this}generics(e){return this._$generics?this._$generics=Object.assign(Object.assign({},this._$generics),e):this._$generics=e,this}externalClasses(e){return this._$externalClasses?this._$externalClasses=this._$externalClasses.concat(e):this._$externalClasses=e,this}data(e){return this._$data.push((()=>{var t;return null!==(t=d("Data Generator",e,null,[],this._$is))&&void 0!==t?t:{}})),this}staticData(e){return this._$staticData=e,this}property(e,t){return this._$properties||(this._$properties=[]),this._$properties.push({name:e,def:t}),this}methods(e){const t=Object.keys(e);for(let r=0;r<t.length;r+=1){const n=t[r],i=e[n];this._$methods.push({name:n,func:i})}return this}observer(e,t,r=!1){this._$observers||(this._$observers=[]);try{this._$observers.push({dataPaths:se(e),func:t,once:r})}catch(e){E(e,"observer",this._$is)}return this}lifetime(e,t,r=!1){return this._$lifetimes.push({name:e,func:t,once:r}),this}pageLifetime(e,t,r=!1){return this._$pageLifetimes||(this._$pageLifetimes=[]),this._$pageLifetimes.push({name:e,func:t,once:r}),this}relation(e,t){return this._$relations||(this._$relations=[]),this._$relations.push({name:e,rel:t}),this}init(e){return this._$init.push(e),this}definition(e){e.behaviors&&this._$behaviors.push(...e.behaviors),e.options&&this.options(e.options),e.template&&this.template(e.template),e.using&&this.usingComponents(e.using),e.placeholders&&this.placeholders(e.placeholders),e.generics&&this.generics(e.generics),e.externalClasses&&this.externalClasses(e.externalClasses);const t=e.data;void 0!==t&&("function"==typeof t?this._$data.push((()=>{var e;return null!==(e=d("Data Generator",t,null,[],this._$is))&&void 0!==e?e:{}})):this._$staticData=t);const r=e.properties;if(void 0!==r){this._$properties||(this._$properties=[]);const e=Object.keys(r);for(let t=0;t<e.length;t+=1){const n=e[t],i=r[n];this._$properties.push({name:n,def:i})}}const n=e.methods;if(void 0!==n){const e=Object.keys(n);for(let t=0;t<e.length;t+=1){const r=e[t],i=n[r];this._$methods.push({name:r,func:i})}}const i=e.observers;if(void 0!==i)if(this._$observers||(this._$observers=[]),Array.isArray(i))for(let e=0;e<i.length;e+=1){const{fields:t,observer:r}=i[e];try{this._$observers.push({dataPaths:se(null!=t?t:"**"),func:r,once:!1})}catch(e){E(e,"definition",this._$is)}}else{const e=Object.keys(i);for(let t=0;t<e.length;t+=1){const r=e[t],n=i[r];try{this._$observers.push({dataPaths:se(r),func:n,once:!1})}catch(e){E(e,"definition",this._$is)}}}const a=e.lifetimes;if(void 0===(null==a?void 0:a.created)&&"function"==typeof e.created&&this._$lifetimes.push({name:"created",func:e.created,once:!0}),void 0===(null==a?void 0:a.attached)&&"function"==typeof e.attached&&this._$lifetimes.push({name:"attached",func:e.attached,once:!0}),void 0===(null==a?void 0:a.moved)&&"function"==typeof e.moved&&this._$lifetimes.push({name:"moved",func:e.moved,once:!0}),void 0===(null==a?void 0:a.detached)&&"function"==typeof e.detached&&this._$lifetimes.push({name:"detached",func:e.detached,once:!0}),void 0===(null==a?void 0:a.ready)&&"function"==typeof e.ready&&this._$lifetimes.push({name:"ready",func:e.ready,once:!0}),a){const e=Object.keys(a);for(let t=0;t<e.length;t+=1){const r=e[t],n=a[r];this._$lifetimes.push({name:r,func:n,once:!0})}}const o=e.pageLifetimes;if(o){this._$pageLifetimes||(this._$pageLifetimes=[]);const e=Object.keys(o);for(let t=0;t<e.length;t+=1){const r=e[t],n=o[r];this._$pageLifetimes.push({name:r,func:n,once:!0})}}this._$listeners=e.listeners;const s=e.relations;if(s){this._$relations||(this._$relations=[]);const e=Object.keys(s);for(let t=0;t<e.length;t+=1){const r=e[t],n=s[r];this._$relations.push({name:r,rel:n})}}return this}registerBehavior(){const e=this._$is,t=new Et(this);return void 0!==e&&this._$ownerSpace._$registerBehavior(e,t),t}extraThisFieldsType(){return this}registerComponent(){const e=this._$is,t=new Et(this),r=new It(t);return void 0!==e&&this._$ownerSpace._$registerComponent(e,r),r}}class Et{static create(e,t){return new xt(e.is,t||ee()).definition(e).registerBehavior()}constructor(e){this._$unprepared=!0,this.is=e._$is||"",this.ownerSpace=e._$ownerSpace,this._$builder=e,this._$flatAncestors=new Set,this._$chainingFilter=e._$chainingFilter,this._$options=e._$options,this._$traitBehaviors=void 0,this._$template=e._$template,this._$using=Object.create(null),this._$generics=void 0,this._$genericDefaults=void 0,this._$externalClasses=e._$externalClasses,this._$staticData=void 0,this._$data=[],this._$propertyMap=Object.create(null),this._$methodMap=Object.create(null),this._$observers=[],this._$lifetimes=[],this._$pageLifetimes=void 0,this._$listeners=void 0,this._$relationMap=void 0,this._$init=[],this._$methodCallerInit=e._$methodCallerInit}general(){return this}getComponentDependencies(e){const t=new Set,r=function(e){e._$unprepared&&e.prepare();const n=Object.keys(e._$using);for(let i=0;i<n.length;i+=1){const a=n[i],o=e._$using[a];if("string"==typeof o)continue;const s=o.final;s&&!t.has(s)&&(t.add(s),r(s.behavior))}};if(r(this.general()),e){const n=Object.values(e);for(let e=0;e<n.length;e+=1){const i=n[e];"string"!=typeof i&&(t.has(i)||(t.add(i),r(i.behavior)))}}return t}static prepare(e){e.prepare()}prepare(){var e;if(!this._$unprepared)return;this._$unprepared=!1;const t=this.is,r=this.ownerSpace,n=this._$builder,i=this._$flatAncestors;if(Array.isArray(n._$behaviors))for(let e=0;e<n._$behaviors.length;e+=1){const a=n._$behaviors[e];let o=null;if(a instanceof Et)o=a;else{const e=String(a);r&&(o=r.getBehaviorByUrl(e,t)),o||E(new Error(`behavior "${e}" is not found.`),"[prepare]",t)}if(!o)continue;o._$unprepared&&Et.prepare(o);const s=o._$traitBehaviors;void 0!==s&&(this._$traitBehaviors||(this._$traitBehaviors=[]),this._$traitBehaviors.push(...s));const l=o._$staticData;l&&(this._$staticData||(this._$staticData={}),be(this._$staticData,l)),Object.assign(this._$methodMap,o._$methodMap),Object.assign(this._$propertyMap,o._$propertyMap),this._$data.push(...o._$data);const c=o._$observers;for(let e=0;e<c.length;e+=1){const t=c[e];t.once&&this._$observers.indexOf(t)>=0||this._$observers.push(t)}const u=o._$lifetimes;for(let e=0;e<u.length;e+=1){const t=u[e];t.once&&this._$lifetimes.indexOf(t)>=0||this._$lifetimes.push(t)}const d=o._$pageLifetimes;if(void 0!==d)if(this._$pageLifetimes)for(let e=0;e<d.length;e+=1){const t=d[e];t.once&&this._$pageLifetimes.indexOf(t)>=0||this._$pageLifetimes.push(t)}else this._$pageLifetimes=d.slice();const p=o._$listeners;void 0!==p&&(this._$listeners||(this._$listeners=[]),this._$listeners.push(...p));const h=o._$relationMap;void 0!==h&&(this._$relationMap||(this._$relationMap=Object.create(null)),Object.assign(this._$relationMap,h)),this._$init.push(...o._$init),o._$flatAncestors.forEach((e=>{i.add(e)}))}const a=n._$traitBehaviors;if(void 0!==a&&(this._$traitBehaviors||(this._$traitBehaviors=[]),this._$traitBehaviors.push(...a)),"object"==typeof n._$using&&null!==n._$using){const i="object"==typeof n._$placeholders&&null!==n._$placeholders,a=Object.keys(n._$using);for(let o=0;o<a.length;o+=1){const s=a[o],l=n._$using[s];let c=null;if(i&&(c=null!==(e=n._$placeholders[s])&&void 0!==e?e:null),l instanceof It)this._$using[s]={final:l,source:this,placeholder:c,waiting:null};else if(r){const e=String(l),n=r.getComponentByUrlWithoutDefault(e,t);if(n)this._$using[s]={final:n,source:this,placeholder:null,waiting:null};else if(null!==c){const n={final:null,source:this,placeholder:c,waiting:null},i=r._$componentWaitingList(e,t);i&&(i.add((e=>{n.final=e,n.placeholder=null,n.waiting=null})),n.waiting=i),this._$using[s]=n}else{const t=r.getGlobalUsingComponent(e);this._$using[s]="string"==typeof t?t:{final:t,source:this,placeholder:null,waiting:null}}}else E(new Error(`cannot find component "${String(l)}"`),"[prepare]",t)}}if("object"==typeof n._$generics&&null!==n._$generics){const e=this._$generics=[],i=Object.create(null);this._$genericDefaults=i;const a=Object.keys(n._$generics);for(let o=0;o<a.length;o+=1){const s=a[o],l=n._$generics[s];let c=null;const u=!0===l||null==l?void 0:l.default;if(void 0!==u)if(u instanceof It)c=u;else if(r){const e=String(u);c=r.getComponentByUrlWithoutDefault(e,t)||r.getGlobalUsingComponent(e)}else E(new Error(`cannot define generic "${s}" without a default implementor.`),"[prepare]",t);e.push(s),i[s]=c}}const o=n._$staticData;o&&(this._$staticData?be(this._$staticData,o):this._$staticData=o);const s=n._$methods;for(let e=0;e<s.length;e+=1){const{name:t,func:r}=s[e];this._$methodMap[t]=r}const l=n._$properties;if(void 0!==l){const e=[];for(let r=0;r<l.length;r+=1){const{name:n,def:i}=l[r],a="string"===(c=i)||c===String?{type:"string",optionalTypes:null,defaultFn:()=>"",observer:null,comparer:null,reflectIdPrefix:!1}:"number"===c||c===Number?{type:"number",optionalTypes:null,defaultFn:()=>0,observer:null,comparer:null,reflectIdPrefix:!1}:"boolean"===c||c===Boolean?{type:"boolean",optionalTypes:null,defaultFn:()=>!1,observer:null,comparer:null,reflectIdPrefix:!1}:"object"===c||c===Object?{type:"object",optionalTypes:null,defaultFn:()=>null,observer:null,comparer:null,reflectIdPrefix:!1}:"array"===c||c===Array?{type:"array",optionalTypes:null,defaultFn:()=>[],observer:null,comparer:null,reflectIdPrefix:!1}:"function"===c||c===p?{type:"function",optionalTypes:null,defaultFn:()=>function(){},observer:null,comparer:null,reflectIdPrefix:!1}:"any"===c||null==c?{type:"any",optionalTypes:null,defaultFn:()=>null,observer:null,comparer:null,reflectIdPrefix:!1}:null;let o,s;if(null!==a)o=a,s=a.defaultFn;else{const e=i;let r=we(e.type),a=null;Array.isArray(e.optionalTypes)&&(a=e.optionalTypes.map(we),a.length>0&&("invalid"!==r&&"any"!==r||(r=a[0]))),"invalid"===r&&E(new Error(`the type of property "${n}" is illegal`),"[prepare]",t);const l=_e(r);"function"==typeof e.default&&void 0!==e.value&&M(`the initial value of property "${n}" is not used when its default is provided.`,t);const c="function"==typeof e.default?()=>{const r=d(`Property "${n}" Default`,e.default,null,[],t);return void 0!==r?r:ue(l)}:()=>ue(l);let u,p;s="function"==typeof e.default?c:void 0!==e.value?()=>ue(e.value):()=>ue(l),"function"==typeof e.observer?u=e.observer:"string"==typeof e.observer?(u=this._$methodMap[e.observer]||null,u||E(new Error(`Cannot find method "${e.observer}" for observer of property "${n}".`),"[prepare]",t)):(u=null,void 0!==e.observer&&E(new Error(`The observer of property "${n}" is not a function, got "${typeof e.observer}".`),"[prepare]",t)),"function"==typeof e.comparer?p=e.comparer:(p=null,void 0!==e.comparer&&E(new Error(`the comparer of property "${n}" is not a function.`),"[prepare]",t));o={type:r,optionalTypes:a,defaultFn:c,observer:u,comparer:p,reflectIdPrefix:!!e.reflectIdPrefix}}this._$propertyMap[n]=o,e.push({name:n,func:s})}this._$data.push((()=>{const t={};for(let r=0;r<e.length;r+=1){const{name:n,func:i}=e[r];t[n]=i()}return t}))}var c;this._$data.push(...n._$data);const u=n._$observers;if(void 0!==u)for(let e=0;e<u.length;e+=1){const{dataPaths:r,func:n,once:i}=u[e],a="function"==typeof n?n:this._$methodMap[n];"function"==typeof a?this._$observers.push({dataPaths:r,observer:a,once:i}):E(new Error(`the "${String(a)}" observer is not a function.`),"[prepare]",t)}const h=n._$lifetimes;this._$lifetimes.push(...h);const f=n._$pageLifetimes;f&&(this._$pageLifetimes||(this._$pageLifetimes=[]),this._$pageLifetimes.push(...f));const g=n._$listeners;if(void 0!==g){const e=Object.keys(g);if(e.length>0){this._$listeners=[];for(let r=0;r<e.length;r+=1){const n=e[r],i=g[n],a="function"==typeof i?i:this._$methodMap[i];if(a){const e=n.indexOf(".");let t,r;e>=0?(t=n.slice(0,e),r=n.slice(e+1)):(t="",r=n),this._$listeners.push({id:t,ev:r,listener:a})}else E(new Error(`the "${n}" listener is not a function or a method name`),"[prepare]",t)}}}const v=n._$relations;if(void 0!==v){this._$relationMap||(this._$relationMap=Object.create(null));for(let e=0;e<v.length;e+=1){const{name:n,rel:i}=v[e];if(null==i)continue;const a=He(r,t,n,i);a&&(this._$relationMap[n]=a)}}this._$init.push(...n._$init),i.add(this)}getTemplate(){return this._$template}_$updateTemplate(e){this._$template=e}hasBehavior(e){if(this._$unprepared&&this.prepare(),e instanceof Et)return this._$flatAncestors.has(e);if(this.ownerSpace){const t=this.ownerSpace.getBehaviorByUrl(e,this.is);return!!t&&this._$flatAncestors.has(t)}return!1}listProperties(){return Object.keys(this._$propertyMap)}getPropertyType(e){var t;return null===(t=this._$propertyMap[e])||void 0===t?void 0:t.type}getPropertyOptionalType(e){var t;return null===(t=this._$propertyMap[e])||void 0===t?void 0:t.optionalTypes}getMethods(){return this._$methodMap}_$generateObserverTree(){const e=new Ie(this._$propertyMap),t=this._$observers;for(let r=0;r<t.length;r+=1){const{dataPaths:n,observer:i}=t[r];e.addObserver(i,n)}return e}_$getAllLifetimeFuncs(){const e=Object.create(null),t=this._$lifetimes;for(let r=0;r<t.length;r+=1){const{name:n,func:i}=t[r];if(e[n])e[n].add(i);else{(e[n]=new l("lifetime")).add(i)}}return e}_$getAllPageLifetimeFuncs(){const e=Object.create(null),t=this._$pageLifetimes;if(!t)return e;for(let r=0;r<t.length;r+=1){const{name:n,func:i}=t[r];if(e[n])e[n].add(i);else{(e[n]=new l("pageLifetime")).add(i)}}return e}}var Mt;e.ElementIteratorType=void 0,(Mt=e.ElementIteratorType||(e.ElementIteratorType={})).ShadowAncestors="shadow-ancestors",Mt.ComposedAncestors="composed-ancestors",Mt.ShadowDescendantsRootFirst="shadow-descendants-root-first",Mt.ShadowDescendantsRootLast="shadow-descendants-root-last",Mt.ComposedDescendantsRootFirst="composed-descendants-root-first",Mt.ComposedDescendantsRootLast="composed-descendants-root-last";class Rt{constructor(e,t,r=ze){if(!_(e)&&!b(e))throw new Error("Element iterators can only be used in elements or text nodes");if(this._$node=e,this._$nodeTypeLimit=r||ze,"shadow-ancestors"===t||"shadow-descendants-root-first"===t||"shadow-descendants-root-last"===t)this._$composed=!1;else{if("composed-ancestors"!==t&&"composed-descendants-root-first"!==t&&"composed-descendants-root-last"!==t)throw new Error(`Unrecognized iterator type "${String(t)}"`);this._$composed=!0}this._$isAncestor="shadow-ancestors"===t||"composed-ancestors"===t,this._$rootFirst="shadow-descendants-root-first"===t||"composed-descendants-root-first"===t}static create(e,t,r){return new Rt(e,t,r)}[Symbol.iterator](){return this._$getIterator()}*_$getIterator(){const e=this._$nodeTypeLimit,t=this._$composed;if(this._$isAncestor){let r=this._$node;for(;;){if(r instanceof e&&!1===(yield r))return;let n;if(n=t?r.getComposedParent():r.parentNode,!n)break;r=n}}else{const r=this._$rootFirst,n=function*(i){if(!(r&&i instanceof e&&!1===(yield i))){if(_(i))if(t){const e=i.iterateComposedChild();for(let t=e.next();!t.done;t=e.next())yield*n(t.value)}else{const e=i.childNodes;for(let t=0;t<e.length;t+=1){const r=e[t];yield*n(r)}}r||i instanceof e&&(yield i)}};yield*n(this._$node)}}forEach(e){const t=this._$nodeTypeLimit,r=this._$composed;if(this._$isAncestor){let n=this._$node;for(;;){if(n instanceof t&&!1===e(n))return;let i;if(i=r?n.getComposedParent():n.parentNode,!i)break;n=i}}else{const n=this._$rootFirst,i=a=>{if(n&&a instanceof t&&!1===e(a))return!1;if(_(a)){let e=!1;const t=t=>!1!==i(t)||(e=!0,!1);if(r?a.forEachComposedChild(t):a.childNodes.every(t),e)return!1}return!(!n&&a instanceof t&&!1===e(a))};i(this._$node)}}}var Dt=Object.freeze({__proto__:null});const Ot=$e.triggerEvent,Lt=$e.triggerExternalEvent;return e.Behavior=Et,e.BehaviorBuilder=xt,e.ClassList=z,e.Component=At,e.ComponentDefinition=It,e.ComponentSpace=Q,e.CurrentWindowBackendContext=class{constructor(){this.mode=3,this.document=document,this._$styleSheets=[],this._$styleSheetRegistry=Object.create(null),this._$delegatedEventListeners=Object.create(null),this._$elementEventListeners=new WeakMap,this._$elementCaptureEventListeners=new WeakMap,this._$triggedEvents=new WeakSet}destroy(){}getWindowWidth(){return document.documentElement.clientWidth}getWindowHeight(){return document.documentElement.clientHeight}getDevicePixelRatio(){return window.devicePixelRatio}getTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}registerStyleSheetContent(e,t){this._$styleSheetRegistry[e]=String(t)}appendStyleSheetPath(e,t){const r=this._$styleSheetRegistry[e];if(void 0===r)throw new Error(`No style sheet registry "${e}"`);if(""===r){const e=this._$styleSheets.length;return this._$styleSheets.push(void 0),e}const n=document.createElement("style");n.type="text/css",n.innerHTML=r,void 0!==t&&n.setAttribute("wx-style-scope",String(t)),document.head.appendChild(n);const i=this._$styleSheets.length;return this._$styleSheets.push(n),i}disableStyleSheet(e){const t=this._$styleSheets[e];t&&document.head.removeChild(t)}render(e){window.requestAnimationFrame((()=>{d("Render Callback",e,this,[null])}))}getRootNode(){return document.body}associateValue(e,t){e.__wxElement=t}onEvent(e){this._$eventListener||this._$initEvent(),this._$eventListener=e}_$getEventDetail(e){const t={};let r=e;for(;Object.getPrototypeOf(r)!==Event.prototype;){const n=Object.keys(r);for(let r=0;r<n.length;r+=1){const i=n[r];"function"!=typeof e[i]&&(t[i]=e[i])}r=Object.getPrototypeOf(r)}return t}_$trigger(e,t,r,n,i){if(!this._$eventListener||!e.target)return;let a=e.target;for(;a&&!a.__wxElement;)a=a.parentNode;if(!a)return;1===this._$eventListener(a.__wxElement,t,r,{originalEvent:e,bubbles:n,composed:i,capturePhase:!0})&&e.preventDefault()}_$initEvent(){const e=Object.create(null);let t=!1;const r=(t,r)=>{e[r.identifier]={x:r.clientX,y:r.clientY}},n=(t,r)=>{const n=r.identifier;if(e[n]){const i=e[n];(Math.abs(i.x-r.clientX)>10||Math.abs(i.y-r.clientY)>10)&&(delete e[n],this._$trigger(t,"canceltap",i,!0,!0))}},i=(t,r)=>{const n=r.identifier;if(e[n]){const i=e[n];delete e[n],Math.abs(i.x-r.clientX)>10||Math.abs(i.y-r.clientY)>10?this._$trigger(t,"canceltap",i,!0,!0):this._$trigger(t,"tap",i,!0,!0)}},a=(t,r)=>{const n=r.identifier;if(e[n]){const r=e[n];delete e[n],this._$trigger(t,"canceltap",r,!0,!0)}},o=e=>{const t=e.changedTouches;for(let r=0;r<t.length;r+=1)i(e,t[r]);const r=e.target;r.__touchCount-=t.length,r.__touchCount<=0&&(r.__touchCount=0,r.removeEventListener("touchend",o),r.removeEventListener("touchcancel",s))},s=e=>{const t=e.changedTouches;for(let r=0;r<t.length;r+=1)a(e,t[r]);const r=e.target;r.__touchCount-=t.length,r.__touchCount<=0&&(r.__touchCount=0,r.removeEventListener("touchend",o),r.removeEventListener("touchcancel",s))};document.body.addEventListener("touchstart",(e=>{t=!0;const n=e.changedTouches;for(let e=0;e<n.length;e+=1)r(0,n[e]);const i=e.target;i.__touchCount||(i.__touchCount=0,i.addEventListener("touchend",o),i.addEventListener("touchcancel",s)),i.__touchCount+=n.length}),{capture:!0}),document.body.addEventListener("touchmove",(e=>{const t=e.changedTouches;for(let r=0;r<t.length;r+=1)n(e,t[r])}),{capture:!0}),document.body.addEventListener("mousedown",(e=>{t||r(0,{identifier:-1,clientX:e.clientX,clientY:e.clientY})}),{capture:!0}),document.body.addEventListener("mousemove",(e=>{t||n(e,{identifier:-1,clientX:e.clientX,clientY:e.clientY})}),{capture:!0}),document.body.addEventListener("mouseup",(e=>{t||i(e,{identifier:-1,clientX:e.clientX,clientY:e.clientY})}),{capture:!0})}setListenerStats(e,t,r,n){if(!e)return;const i=D.includes(t),a=2===n;if(i){if(this._$delegatedEventListeners[t])return;return this._$delegatedEventListeners[t]=!0,void document.body.addEventListener(t,(e=>{a&&e.preventDefault(),this._$trigger(e,t,this._$getEventDetail(e),e.bubbles,e.composed)}),{capture:!0})}const o=r?this._$elementCaptureEventListeners:this._$elementEventListeners;o.has(e)||o.set(e,Object.create(null));const s=o.get(e);s[t]||(s[t]=!0,e.addEventListener(t,(e=>{this._$triggedEvents.has(e)||(this._$triggedEvents.add(e),a&&e.preventDefault(),this._$trigger(e,t,this._$getEventDetail(e),e.bubbles,e.composed))})))}setModelBindingStat(e,t,r){const n=(n,i)=>{if(e._$wxArgs||(e._$wxArgs={modelListeners:Object.create(null)}),void 0===e._$wxArgs.modelListeners[t]){if(!r)return;e._$wxArgs.modelListeners[t]=r,e.addEventListener(n,(()=>{var r;const n=null===(r=e._$wxArgs)||void 0===r?void 0:r.modelListeners[t];null==n||n(i())}))}e._$wxArgs.modelListeners[t]=r},i=e.tagName;let a=!1;if("INPUT"===i){const r=e,i=r.type;"checkbox"===i||"radio"===i?"checked"===t&&(a=!0,n("change",(()=>r.checked))):"value"===t&&(a=!0,n("input",(()=>r.value)))}else if("TEXTAREA"===i){const r=e;"value"===t&&(a=!0,n("input",(()=>r.value)))}else if("SELECT"===i){const r=e;"value"===t&&(a=!0,n("change",(()=>r.value)))}a||M(`unsupported model binding on "${t}" of "${i.toLowerCase()}" element.`)}createIntersectionObserver(e,t,r,n,i){const a=new IntersectionObserver((e=>{e.forEach((e=>{i({intersectionRatio:e.intersectionRatio,boundingClientRect:e.boundingClientRect,intersectionRect:e.intersectionRect,relativeRect:e.rootBounds,time:e.time})}))}),{root:t,rootMargin:r,threshold:n});return a.observe(e),{disconnect(){a.disconnect()}}}createMediaQueryObserver(e,t){let r=null;const n=()=>{const n=(()=>{const t=document.documentElement.clientWidth,r=document.documentElement.clientHeight;return(void 0===e.width||t===e.width)&&(!(void 0!==e.maxWidth&&t>e.maxWidth)&&(!(void 0!==e.minWidth&&t<e.minWidth)&&((void 0===e.width||r===e.height)&&(!(void 0!==e.maxHeight&&r>e.maxHeight)&&(!(void 0!==e.minHeight&&r<e.minHeight)&&(t>r?"landscape":"portrait")===e.orientation)))))})();r!==n&&(r=n,t({matches:n}))};return setTimeout(n,0),window.addEventListener("resize",n),{disconnect(){window.removeEventListener("resize",n)}}}getContext(e,t){t(e)}setFocusedNode(e){e.focus()}getFocusedNode(e){let t=document.activeElement;for(;!(null==t?void 0:t.__wxElement);)t=(null==t?void 0:t.parentNode)||null;e(t)}onWindowResize(e){window.addEventListener("resize",(()=>{e({width:this.getWindowWidth(),height:this.getWindowHeight(),devicePixelRatio:this.getDevicePixelRatio()})}))}onThemeChange(e){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{e({theme:this.getTheme()})}))}elementFromPoint(e,t,r){var n;let i=document.elementFromPoint(e,t);for(;null!==i&&!i.__wxElement;)i=(null==i?void 0:i.parentNode)||null;r(null!==(n=null==i?void 0:i.__wxElement)&&void 0!==n?n:null)}getAllComputedStyles(e,t){const r=window.getComputedStyle(e);t({properties:O(r)})}getScrollOffset(e,t){const r=e;t({scrollLeft:r.scrollLeft,scrollTop:r.scrollTop,scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight})}setScrollPosition(e,t,r,n){if(t<=0&&r<=0)e.scrollIntoView({behavior:0!==n?"smooth":"auto"});else{const{left:i,top:a}=e.getBoundingClientRect();window.scrollTo({left:i+t,top:a+r,behavior:0!==n?"smooth":"auto"})}}queryMatchedRules(e,t,r){const n=[];return L(t,((t,i,a)=>{if(i instanceof CSSStyleRule){let o=!1;const s=[];for(let e=0;e<a.length;e+=1){const t=a[e];t instanceof CSSMediaRule?(matchMedia(t.conditionText).matches||(o=!0),s.push(`@media ${t.conditionText}`)):t instanceof CSSLayerBlockRule&&s.push(`@layer ${t.name}`)}const l=i.selectorText;if(r.matches(l)){const r=i.style.cssText,a=O(i.style);n.push({sheetIndex:e,ruleIndex:t,mediaQueries:s,selector:l,properties:a,propertyText:r,weightHighBits:0,inactive:o})}}})),n}getMatchedRules(e,t){const r=e,n=document.styleSheets,i=[];for(let e=0;e<n.length;e+=1){const t=n[e];i.push(...this.queryMatchedRules(e,t,r))}const a=r.style.cssText;t({inline:O(r.style),inlineText:a,rules:i})}findStyleRule(e,t){const r=document.styleSheets[e],n=null==r?void 0:r.cssRules[t];return"CSSStyleRule"===(null==n?void 0:n.constructor.name)?n:null}replaceStyleSheetAllProperties(e,t,r,n){const i=this.findStyleRule(e,t);i?(i.style.cssText=r,n(0)):n(null)}},e.DataGroup=Me,e.Element=ze,e.ElementIterator=Rt,e.EmptyBackendContext=class{constructor(){this.mode=1,this._$styleSheetIdInc=1,this._$renderCallbacks=null,this._$shadowRoot=new $}destroy(){}getWindowWidth(){return 1}getWindowHeight(){return 1}getDevicePixelRatio(){return 1}getTheme(){return"light"}registerStyleSheetContent(e,t){}appendStyleSheetPath(e,t){const r=this._$styleSheetIdInc;return this._$styleSheetIdInc+=1,r}disableStyleSheet(e){}render(e){if(this._$renderCallbacks)this._$renderCallbacks.push(e);else{const t=this._$renderCallbacks=[e];setTimeout((()=>{this._$renderCallbacks=null,t.forEach((e=>{d("Render Callback",e,this,[null])}))}),16)}}getRootNode(){return this._$shadowRoot}createFragment(){return new B(0)}onEvent(e,t){}},e.EmptyComposedBackendContext=F,e.Event=$e,e.FuncArr=l,e.MutationObserver=ge,e.NativeNode=Ke,e.Observer=ge,e.ParsedSelector=We,e.ShadowRoot=Qe,e.StyleScopeManager=U,e.TextNode=Je,e.TraitBehavior=G,e.VirtualNode=Xe,e.addGlobalErrorListener=function(e){A.add(e)},e.addGlobalWarningListener=function(e){x.add(e)},e.backend=n,e.composedBackend=i,e.createElement=function(e,t){return At.create(e,t||null)},e.dataPath=le,e.dataUtils=he,e.dispatchError=E,e.domlikeBackend=a,e.dumpElement=(e,t)=>{console.log(P(e,t))},e.dumpElementToString=P,e.dumpSingleElementToString=I,e.getDefaultComponentSpace=ee,e.globalOptions=o,e.mutationObserver=ve,e.registerBehavior=e=>ee().defineBehavior(e),e.registerElement=e=>ee().defineComponent(e),e.removeGlobalErrorListener=function(e){A.remove(e)},e.removeGlobalWarningListener=function(e){x.remove(e)},e.safeCallback=d,e.template=St,e.templateEngine=Dt,e.triggerEvent=Ot,e.triggerExternalEvent=Lt,e.triggerRender=(e,t)=>{const r=e.getBackendContext();r&&((e,t)=>{e.render((()=>{"function"==typeof t&&d("render",t,e,[null])}))})(r,t||null)},e.typeUtils=H,e}({}),D,O,L;(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{APPBAR_COMP_NAME:()=>It,StyleSheetPriority:()=>ye,TABBAR_COMP_NAME:()=>yt,beginTapMark:()=>qt,checkTapMark:()=>Gt,checkTapSource:()=>Kt,emitTapAnyWhere:()=>Jt,endTapMark:()=>zt,getBehaviorByAdapter:()=>Ie,getCallerMap:()=>we,getComponentTypeMap:()=>Ae,getEnv:()=>jt,getGlassEasel:()=>Wt,getSubContextAdapter:()=>J,getTraitBehaviorMap:()=>Ee,globalHookInitFn:()=>je,onSkylineEngineReady:()=>z,setExitState:()=>Se,setPageFreeDataCopier:()=>Y,setRenderRoot:()=>tt,setSkylineEngine:()=>V,setSubContextAdapter:()=>K,setWebviewEngine:()=>q,wrapTapMark:()=>Ht,writeListenersInfoIntoNode:()=>Fe});var r,n=e=>{var t=!1;return _.info(`[CodeMgr] accessSync path: ${e}`),k.invoke("accessSync",{path:e},(e=>{t=e.errMsg.includes(":fail")})),!t},i=new m.EventEmitter,a=e=>{if(e.startsWith("__wx__"))return`wx://${e.slice(6)}`;var t=e.indexOf("__plugin__");return-1===t?e:`plugin-private://${e.slice(t+11)}`},o=(e,t)=>"/"===e?t:null===e?`wx://${t}`:`plugin-private://${e}/${t}`,s=0,c=1,u=2,d=3,p=e=>{var t=e.indexOf("://");if(-1===t)return{codeSpaceID:"/",path:e,proto:s};var r=e.slice(0,t+3);switch(r){case"plugin-private://":return{codeSpaceID:e.slice(17,35),path:e.slice(36),proto:c};case"plugin://":return{codeSpaceID:e.slice(9,27),path:e.slice(28),proto:u};case"wx://":return{codeSpaceID:null,path:e.slice(6),proto:d};default:throw new Error(`Framework inner error: unknown protocol "${r}"`)}},h=(e,t)=>{var r;r="/"!==e[0]?t.split("/").slice(0,-1).concat(e.split("/")):e.split("/");for(var n=[],i=0;i<r.length;i+=1){var a=r[i];""!==a&&"."!==a&&(".."!==a?n.push(a):n.pop())}return n.join("/")},f=(e,t)=>{var r=p(a(e));if(r.proto!==s||null===t)return r;var n=p(t);return n.proto===u?r:(n.path=h(r.path,n.path),n)},g=(r=0,{emit(e){i.emit(r,e)},on(e){i.on(r,e)}}),y=e=>{g.emit(e)},b=0,S=1,C=2,I=3,P=4,T=5,A=6,x=7,E=e=>{try{return encodeURIComponent(null!=e?e:"")}catch(e){return""}},O=()=>{var e=Array.from({length:8},(()=>null)),t=0,r=!1,n=(n,i)=>{r||(null===e[n]&&t++,e[n]=i,t===e.length&&(r=!0,(()=>{if(void 0!==M){var t=e.map(E).join(",");M.reportKeyValue({key:"LazyCodeLoading",value:t,immediately:!0})}})()))};return n(b,l.version),n(C,!1),n(T,0),n(x,0),n},L=5e3,N=!1;v.onReady((()=>{$._getABTestConfig({experimentId:"clicfg_appbrand_enable_batch_load_sub_pkg",experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(_.info("clicfg_appbrand_enable_batch_load_sub_pkg",e.testConfig),N=!0)},fail(e){_.error("clicfg_appbrand_enable_batch_load_sub_pkg","failed",e)}})}));var B=e=>{var t,r=setTimeout(e.onTimeout,L),n=Date.now();null!==(t=v.nativeFeatures)&&void 0!==t&&t.batchLoadSubPackage&&N?((e,t)=>{var r=Date.now(),n=e.map((e=>({name:e})));$.batchLoadSubpackage({packages:n,success(){var n=Date.now();_.info(`[CodeMgr] loadSubPackage ${e} success, cost ${n-r}`),t({cost:n-r,res:"ok",pkg:e})},fail(){var n=Date.now();_.info(`[CodeMgr] loadSubPackage ${e} fail, cost ${n-r}`),t({cost:n-r,res:"fail",pkg:e})}})})(e.subPackages,(t=>{clearTimeout(r);var i=Date.now()-n,a=[],{res:o,pkg:s}=t;"fail"===o?e.onError(s):a.push(...s),e.onFinished({loadedSubPackages:a,totalCost:i})})):Promise.all(e.subPackages.map((e=>new Promise((t=>{((e,t)=>{var r=Date.now();$.loadSubpackage({name:e,success(){var n=Date.now();_.info(`[CodeMgr] loadSubPackage ${e} success, cost ${n-r}`),t({cost:n-r,res:"ok",pkg:[e]})},fail(){var n=Date.now();_.info(`[CodeMgr] loadSubPackage ${e} fail, cost ${n-r}`),t({cost:n-r,res:"fail",pkg:[e]})}})})(e,t)}))))).then((t=>{clearTimeout(r);var i=Date.now()-n,a=[],o=[];t.forEach((e=>{var{res:t,pkg:r}=e;"fail"===t?o.push(...r):a.push(...r)})),o.length&&e.onError(o),e.onFinished({loadedSubPackages:a,totalCost:i})}))},F=new m.EventEmitter,W=e=>{var t,r=!1;return[n=>{t=n,r=!0,F.emit(e,n)},()=>t,n=>{r?n(t):F.once(e,n)}]},[V,U,z]=W(0),[q,H,G]=W(1),[K,J,X]=W(2),[Y,Q]=W(3),Z="app-service.js",ee="app-service.js",te="common.app.js",re="appservice.app.js",ne="appservice.js",ie=(e,t)=>{_.info(`[loadPluginJson] try loading ${t} in module ${e}`);var r=(e=>{var t,r;if(k.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t})(t);if(r){var n;try{n=JSON.parse(r)}catch(e){n={}}_.info(`[loadPluginJson] ${t} typeof result.allExtendedComponents=${typeof n.allExtendedComponents}`),(v.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&n.allExtendedComponents&&(t.allExtendedComponents=n.allExtendedComponents,_.info(`[loadPluginJson] updated subPackage ${t.root} allExtendedComponents`))}))}},ae=function(e){return e.Isolated="isolated",e.ApplyShared="apply-shared",e.Shared="shared",e.PageIsolated="page-isolated",e.PageApplyShared="page-apply-shared",e.PageShared="page-shared",e}({}),oe={CallAndCopyResult:1,PassThrough:2,Disallow:void 0},se=0,le=1,ce=2,ue=3,de=4,pe=5,he=6;class fe{constructor(){this.componentStatus=new Map}addComponent(e){this.componentStatus.has(e)||this.componentStatus.set(e,se)}stepTo(e,t){var r=this.componentStatus.get(e);return void 0!==r&&r<t&&(this.componentStatus.set(e,t),!0)}getStep(e){return this.componentStatus.get(e)||se}getComponentsInStep(e){return Array.from(this.componentStatus.keys()).filter((t=>this.componentStatus.get(t)===e))}}var ge,ve=Object.prototype.hasOwnProperty,me="wxfa43a4a7041a84de";ge||(ge={});var ye={Components:0,RootComponent:1,App:2,BaseLib:3};class be{constructor(e){this.env=void 0,this.loadedSubPackage=new Set,this.injectedSubPackage=new Set,this.extendedLibList=new Set,this.isLazyLoad=!1,this.allSubPackageRoots=[],this.allPlugins={},this.subPackagePlugins={},this.isFirstPage=!0,this.pendingComponents=new Set,this.pendingComponentsTimeout=null,this.pendingStyleSheetsBlockings=new Set,this.extendedLibStyleSheets=[],this.weUIInitialized=!1,this.assembleProtocol=o,this.normalizePath=h,this.env=e,v.onReady((()=>{this.initConfig(v)}))}info(e){_.info(`[CodeMgr] ${e}`)}initConfig(e){"develop"!==e.envVersion&&"trial"!==e.envVersion||(this.extendedLibList.add("wx0354ba48aadc0ab2"),this.extendedLibList.add(me)),this.isLazyLoad=!0===e.isLazyLoad,Array.isArray(e.subPackages)&&(this.allSubPackageRoots=e.subPackages.map((e=>{var t=e.root||"";return"/"===t.slice(-1)?t:t+"/"})),this.allSubPackageRoots.sort(((e,t)=>-(e.length-t.length)))),this.initSubPackagePlugin(e)}loadJsFiles(e,t){var r=j.getAppContext();if(0===e.length)return 0;this.info(`loadJsFiles (${e.length} files)`);var n=Date.now();r.loadJsFiles(e,null,{reportKey:void 0,isPageInitialScript:t,waitResult:!1});var i=Date.now();return this.info(`loadJsFiles done, cost: ${i-n}ms`),i-n}getEntryFiles(e){var t=v.separatedPlugins||[];this.info(`isLazyLoad: ${this.isLazyLoad}`),this.info(`moduleNames: ${e.join(",")}`),this.info(`separatedPlugins: ${JSON.stringify(t)}`);var r=[];return t.forEach((t=>{var i=this.getPluginSubPackage(t.plugin_id);if(e.includes(i)){var a=("__APP__"===i?"/":i)+t.prefix_path;a.endsWith("/")||(a+="/"),!t.prefix_path&&(a+=`__extended__/${t.plugin_id}/`,this.extendedLibList.add(t.plugin_id)),this.isLazyLoad&&n(a+te)?(r.push(a+te,a+re),t.prefix_path||ie(i,a+"plugin.json")):r.push(a+ne)}})),e.forEach((e=>{var t="__APP__"===e?"/":e;this.isLazyLoad?r.push(t+te,t+re):"__APP__"===e?r.push(t+Z):r.push(t+ee)})),this.info(`entryFiles: ${JSON.stringify(r)}`),r.map((e=>"/"===e[0]?e:"/"+e))}iterateComponents(e,t){var r=new Set,n=[],i=(e,t)=>r=>{var n=f(r,t);if(n.proto===s)return[e,n.path];var i=this.env.getCodeSpace(n.codeSpaceID);return i?[i,n.proto===u?i.componentAliasToPath[n.path]:n.path]:(this.info(`Error: unknown domain ${n.codeSpaceID} during recurseUsingComponents`),[null,null])},a=i(this.env.getCodeSpace(Ft),null);e.forEach((e=>{var[t,r]=a(e);null!==t&&null!==r&&n.push([t,r])}));for(var o=0;o<n.length;){var[l,c]=n[o++],d=l.protocolPath(c);if(!r.has(d)){r.add(d);var p=l.getComponentStaticConfig(c);t(i(l,d),n.push.bind(n),l,c,p)}}}recurseUsingComponents(e){var t=new Set;this.iterateComponents(e,((e,r,n,i,a)=>{var o=n.getComponentChunk(i);if(t.add(o),void 0!==a){var s=(t,n,i)=>{var[a,o]=e(t);null!==a&&null!==o&&(!a.componentRegistered(o)&&n?null!==i&&s(i,!1,null):r([a,o]))},l=a.usingComponents||{},c=a.componentPlaceholder||{};for(var u of Object.keys(l)){var d=ve.call(c,u),p=null;d&&ve.call(l,c[u])&&(p=l[c[u]]),s(l[u],d,p)}var h=a.componentGenerics||{};for(var f of Object.keys(h)){var g=h[f];"boolean"!=typeof g&&"string"==typeof g.default&&s(g.default,!1,null)}n.getTemplateDependencies(i).forEach((e=>{s(e,!1,null)}))}}));var r=Array.from(t);return this.info(`recurseUsingComponents(${e.join(",")}) => [${r.length} chunks]`),r}recurseUsingStyleSheets(e,t){this.iterateComponents(e,((e,r,n,i,a)=>{var o=n.protocolPath(i);if(t.styleSheetInjector.addComponent(o),void 0!==a){if(!(t.styleSheetInjector.getStep(o)>=ue)){n.componentRegistered(i)?t.styleSheetInjector.stepTo(o,pe):t.styleSheetInjector.stepTo(o,ue);var s=a.usingComponents||{};for(var l of Object.keys(s)){var[c,u]=e(s[l]);if(null===c||null===u)return;r([c,u])}var d=a.componentGenerics||{};for(var p of Object.keys(d)){var h=d[p];if("boolean"!=typeof h&&"string"==typeof h.default){var[f,g]=e(h.default);if(null===f||null===g)return;r([f,g])}}}}else t.styleSheetInjector.stepTo(o,le)}))}batchInjectComponentChunks(e,t){if(0===e.length)return 0;this.info(`injectComponentChunks: [${e.length} chunks]`);var r=[];e.forEach((e=>{r.push(`${e}.common.js`,`${e}.appservice.js`)}));return this.loadJsFiles(r,t)}wrapComponentsInjection(e,t){this.appendStyleSheets(!0,e),this.env.startGroupRegister();var r=void 0;try{r=t()}catch(e){M.thirdErrorReport({error:e})}this.appendStyleSheets(!1,e),this.pendingStyleSheetsBlockings.forEach((e=>{e.blockForStyleSheet()})),this.pendingStyleSheetsBlockings.clear();try{this.env.endGroupRegister()}catch(e){M.errorReport({key:"exparserScriptError",error:e})}return r}injectComponentsRecursively(e,t){var r=this.recurseUsingComponents(e),n=[],i=this.env.getCodeSpace("/");r.forEach((e=>{i.getComponentsInChunk(e).forEach((e=>{n.push(i.absolutePath(e))}))})),this.wrapComponentsInjection(n,(()=>{var e=this.batchInjectComponentChunks(r,t);t&&setTimeout((()=>{this.doLazyLoadReport(r.length,e)}),1e3)}))}ensureComponents(e){var t,r=e.map((e=>this.matchSubPackageName(e)));t=r,(r=Array.from(new Set(t))).some((e=>!this.isIndependentSubPackage(e)))&&!r.includes("__APP__")&&r.unshift("__APP__"),r=r.filter((e=>!this.loadedSubPackage.has(e))),this.batchLoadSubPackages(r,(t=>{this.batchInjectSubPackages(t),this.injectComponentsRecursively(e,!1)}))}arrangeComponentInjection(e){this.pendingComponents.add(e),null===this.pendingComponentsTimeout&&(this.pendingComponentsTimeout=setTimeout((()=>{this.pendingComponentsTimeout=null;var e=Array.from(this.pendingComponents);this.pendingComponents.clear(),this.ensureComponents(e)}),16))}notifyConfigReadyForStyleSheet(e){this.env.forEachRenderRoot((t=>{t.styleSheetInjector.stepTo(e,ce)}))}notifyComponentRegisteredForStyleSheet(e){this.env.forEachRenderRoot((t=>{t.styleSheetInjector.stepTo(e,pe)}))}flushStyleSheetsRecursion(){this.env.forEachRenderRoot((e=>{var t=e.styleSheetInjector.getComponentsInStep(ce);this.recurseUsingStyleSheets(t,e)}))}appendStyleSheets(e,t){var r=this.env.getCodeSpace(Ft),n=t.map((e=>a(e)));this.env.forEachRenderRoot((t=>{var i=n.filter((r=>t.styleSheetInjector.getStep(r)>=(e?ue:pe)));0!==i.length&&(this.info(`${e?"preCompile":"append"} ${i.length} components to ${t.id}`),t.styleSheetManager.batchUpdate((()=>{t.styleSheetsInitialized||this.extendedLibStyleSheets.forEach((e=>{t.styleSheetManager.setStyleSheet(e,r._$sharedStyleScope,ye.BaseLib)})),t.styleSheetsInitialized=!0,i.forEach((n=>{var i,a,o=n===t.getRootCompName(),{codeSpace:s,spacePath:l}=this.parseProtocol(n),c=s.absolutePath(l),u=o?ye.RootComponent:ye.Components;if(o)switch(s.getStyleIsolation(l)){case void 0:e&&t.styleSheetManager.setStyleSheet("app",null,ye.App);break;case ae.Isolated:case ae.ApplyShared:case ae.Shared:t.styleSheetManager.setStyleSheet("app",r._$sharedStyleScope,ye.App);break;default:t.styleSheetManager.disableStyleSheet("app")}var d=e?null:null!==(i=null===(a=s.getComponentSpace().getComponentByUrlWithoutDefault(l,""))||void 0===a?void 0:a.getComponentOptions().styleScope)&&void 0!==i?i:null;t.styleSheetManager.setStyleSheet(c,d,u),t.styleSheetInjector.stepTo(n,e?de:he)}))})),this.pendingStyleSheetsBlockings.add(t))}))}removePendingStyleSheetsBlocking(e){this.pendingStyleSheetsBlockings.delete(e)}appendExtendedLibStyleSheets(e){$.traceBeginEvent("Framework","appendExtendedLibStyleSheet"),this.extendedLibStyleSheets.push(e);var t=this.env.getCodeSpace(Ft);this.env.pages.forEach((r=>{r.styleSheetManager.batchUpdate((()=>{r.styleSheetManager.setStyleSheet(e,t._$sharedStyleScope,ye.BaseLib),r.styleSheetManager.invalidateBinary()}))})),$.traceEndEvent()}batchLoadSubPackages(e,t){if(0===e.length)return t([]);this.info("loadSubPackages begin: "+e.join(", ")),B({subPackages:e,onTimeout:()=>{y({type:"subpackage",errMsg:"loadSubpackage: timeout",subpackage:e})},onError:e=>{y({type:"subpackage",subpackage:e,errMsg:"loadSubpackage: fail"})},onFinished:r=>{this.setSubPackageLoaded(r.loadedSubPackages),this.info(`loadSubPackages end: ${e.join(", ")}, cost: ${r.totalCost}`),t(r.loadedSubPackages)}})}setSubPackageLoaded(e){this.info("setSubPackageLoaded: "+e.join(", ")),e.forEach((e=>{this.loadedSubPackage.add(e)})),this.prepareSubPackagesStyle(e)}batchInjectSubPackages(e){if(0!==e.length){this.info("injectSubPackages: "+e.join(", "));var t=e.filter((e=>!this.injectedSubPackage.has(e))).map((e=>"__APP__"===e||"/"===e.slice(-1)?e:e+"/")),r=this.getEntryFiles(t);this.loadJsFiles(r,!1),this.setSubPackageInjected(t),this.flushStyleSheetsRecursion()}}setSubPackageInjected(e){this.info("setSubPackageInjected: "+e.join(", ")),e.forEach((e=>{this.injectedSubPackage.add(e)}))}setInitialSubPackage(e){var t=[this.matchSubPackageName(e)];this.isInIndependentSubPackage(e)||t.includes("__APP__")||t.push("__APP__"),this.setSubPackageLoaded(t),this.setSubPackageInjected(t)}doLazyLoadReport(e,t){var r=O(),n=this.isFirstPage;this.isFirstPage=!1;var i=this.env.totalStaticConfigCount();r(S,n),r(I,i),r(P,e),r(A,t)}parseProtocol(e){var{codeSpaceID:t,path:r,proto:n}=p(e),i=this.env.getCodeSpace(t);if(!i)throw new Error(`Framework inner error: unknown codeSpace ID ${t}`);return{codeSpace:i,spacePath:n===u?i.componentAliasToPath[r]:r}}convertRouteToAlias(e){return a(e)}getPluginRoutePrefix(e){var t=this.getPluginSubPackage(e);return`${"__APP__"===t?"":t}__plugin__/${e}/`}convertAliasToRoute(e){return this.convertAbsolutePath(p(e))}convertAbsolutePath(e){var{codeSpaceID:t,path:r,proto:n}=e;if(n===d)return`__wx__/${r}`;if(n===s)return r;var i=this.getPluginRoutePrefix(t);if(n===c)return`${i}${r}`;var a=this.env.getCodeSpace(t);if(void 0===a)throw new Error(`Framework inner error: unknown plugin ${t}`);return`${i}${a.componentAliasToPath[r]}`}addSubPackagePlugin(e,t){var r=(e=>("__APP__"===e||("/"!==e[0]&&(e="/"+e),"/"!==e[e.length-1]&&(e+="/")),e))(e);"string"!=typeof t.subpackage&&(t.subpackage=r),this.allPlugins[t.provider]=t,void 0===this.subPackagePlugins[r]?this.subPackagePlugins[r]=[t]:this.subPackagePlugins[r].push(t)}initSubPackagePlugin(e){var t=new Set,r={};Object.keys(e.plugins||{}).forEach((n=>{var i=e.plugins[n];"string"==typeof i.subpackage?this.addSubPackagePlugin(i.subpackage,{...i}):(t.add(i.provider),r[i.provider]=i)})),(e.subpackages||[]).forEach((e=>{Object.keys(e.plugins||{}).forEach((n=>{var i=e.plugins[n],a=i.provider;t.has(a)&&(t.delete(a),delete r[a],this.addSubPackagePlugin(e.root,i))}))})),Array.from(t).forEach((e=>{this.addSubPackagePlugin("__APP__",r[e])}))}getPluginPageGenerics(e){var t,{codeSpaceID:r,path:n,proto:i}=p(e);if(i===s||i===d)return{};var a=this.allPlugins[r],o=this.getPluginSubPackage(r),l="__APP__"===o?"":o,u=this.env.getCodeSpace(r);if(void 0===a||void 0===u)throw new Error(`Framework inner error: unknown plugin ${r}`);var h=i===c?u.componentPathToAlias[n]:n,g={},v=(null==a||null===(t=a.genericsImplementation)||void 0===t?void 0:t[h])||{};return Object.keys(v).forEach((e=>{var t=f(v[e],l);g[e]=this.convertAbsolutePath(t)})),g}getPluginSubPackage(e){if(void 0===this.allPlugins[e])throw new Error(`Framework inner error: unknown plugin ${e}`);return this.allPlugins[e].subpackage}matchSubPackageName(e){var{codeSpaceID:t,proto:r}=p(e);if(r===d)return"__APP__";if(r===s){for(var n=0;n<this.allSubPackageRoots.length;++n)if(e.startsWith(this.allSubPackageRoots[n]))return this.allSubPackageRoots[n];return"__APP__"}return this.getPluginSubPackage(t)}isInIndependentSubPackage(e){if(!Array.isArray(v.subPackages))return!1;var t=this.matchSubPackageName(e);return this.isIndependentSubPackage(t)}isIndependentSubPackage(e){if(!Array.isArray(v.subPackages))return!1;var t=v.subPackages.find((t=>t.root===e));return!!t&&t.independent}prepareSubPackagesStyle(e){G((({styleSheetRuntime:t})=>{this.info("prepareSubPackagesStyle: "+e.join(", ")),t.batchUpdate((()=>{e.forEach((e=>{var r,n="__APP__"===e?"":e;t.setIndex(n+"app.fpiib"),null===(r=this.subPackagePlugins[e])||void 0===r||r.forEach((e=>{var r=this.getPluginRoutePrefix(e.provider);t.addIndexGroup(r),t.setIndex(r+"app.fpiib")})),this.tryInitializeWeUIStyleSheets(n)}))}))}))}tryInitializeWeUIStyleSheets(e){if(!this.weUIInitialized){var t=`${e}__extended__/${me}/`;n(t+"plugin.json")&&(this.weUIInitialized=!0,G((({styleSheetRuntime:e})=>{e.setIndex(t+"plugin.fpiib"),this.appendExtendedLibStyleSheets(t+"plugin.fpcssb")})))}}}var _e=new WeakMap,we=e=>_e.get(e),Se=(e,t)=>{_e.get(e).exitState=t},Ce=new WeakMap,ke=new WeakMap,Ie=e=>Ce.get(e),Pe=e=>ke.get(e),Te=new WeakMap,Ae=e=>Te.get(e),xe=new WeakMap,Ee=e=>xe.get(e),Me=()=>Math.floor(4294967296*(1+Math.random())).toString(16).slice(1),Re=e=>null!==e,De=Object.keys;class Oe extends Map{constructor(...e){super(...e),this.revMap=new Map}set(e,t){return super.set(e,t),this.revMap.set(t,e),this}delete(e){var t=super.get(e),r=super.delete(e),n=this.revMap.delete(t);return r&&n}getRev(e){return this.revMap.get(e)}hasRev(e){return this.revMap.has(e)}}var Le,Ne=()=>"devtools"===v.platform;function Be(){return void 0===Le&&(Le=!!(v&&"debug"in v&&"boolean"==typeof v.debug&&v.debug)),Le}var $e="__listenerMap__",Fe=(e,t,r,n,i,a)=>{var o,s,l;if(a){Reflect.has(t,$e)||Reflect.set(t,$e,{});var c=Reflect.get(t,$e),u=`${a.capture||a.useCapture?"catch":"bind"}:${n}`,d=null!==(o=null===(s=a.extraFields)||void 0===s?void 0:s.handler)&&void 0!==o?o:"";r?c[u]=d:delete c[u],null===(l=e._$dataChangeListener)||void 0===l||l.call(e,t,{name:u,value:d},"listener")}},je=(e,t,r=We)=>{var{observer:n,self:i,lifetime:a}=e;n("**",(e=>{var n,a=r?r(i):i;null===(n=t._$dataChangeListener)||void 0===n||n.call(t,a,e,"data")})),a("listenerChange",((...e)=>{var n=r?r(i):i;Fe(t,n,...e)}))},We=e=>we(e).component,Ve=(e,t)=>(Ne()&&e.init((e=>je(e,t,We))),e),Ue={writeFieldsToNode:!1,writeIdToDOM:!0,useMethodCallerListeners:!0},ze={dataDeepCopy:R.DeepCopyKind.None,listenerChangeLifetimes:!0,reflectToAttributes:!1,writeFieldsToNode:!0,writeIdToDOM:!0};Ne()&&(Ue.writeExtraInfoToAttr=!0,ze.writeExtraInfoToAttr=!0,Ue.listenerChangeLifetimes=!0,ze.listenerChangeLifetimes=!0);var qe=new class{constructor(){this.constructors=void 0}setConstructors(e){this.constructors=e}translateConstructor(e){switch(e){case this.constructors.String:return R.NormalizedPropertyType.String;case this.constructors.Number:return R.NormalizedPropertyType.Number;case this.constructors.Boolean:return R.NormalizedPropertyType.Boolean;case this.constructors.Object:return R.NormalizedPropertyType.Object;case this.constructors.Array:return R.NormalizedPropertyType.Array;case this.constructors.Function:return R.NormalizedPropertyType.Function;case null:case void 0:return R.NormalizedPropertyType.Any;default:return null}}translatePropertyDef(e){var t=this.translateConstructor(e);if(null!==t)return t;if(Object.prototype.hasOwnProperty.call(e,"type")){var r={...e},n=this.translateConstructor(e.type);if(null!==n)return r.type=n,r}return e}translateComponentDef(e,t){if(void 0===e.properties)return t();var r={};Object.keys(e.properties).forEach((t=>{r[t]=this.translatePropertyDef(e.properties[t])}));var n=e.properties;e.properties=r;var i=t();return e.properties=n,i}};X((e=>{qe.setConstructors(e.constructors)}));var He=new WeakMap,Ge=new WeakMap,Ke=e=>Ge.get(e),Je=(e,t)=>{var r=t(Ge.get(e));return Ge.set(e,r),r},Xe=e=>He.get(e);class Ye{constructor(){this._$parents=[],this._$disableDefinitionFilters=!1,this._$is=void 0,this._$export=void 0}implement(e,t){return Ke(this).implement(Ee(e),t),this}externalClasses(e){return Ke(this).externalClasses(e),this}export(e){return this._$export=e,this}data(e){return Ke(this).data(e),this}property(e,t){return Ke(this).property(e,qe.translatePropertyDef(t)),this}methods(e){return Ke(this).methods(e),this}observer(e,t,r=!1){return Ke(this).observer(e,t,r),this}lifetime(e,t,r=!1){return Ke(this).lifetime(e,t,r),this}pageLifetime(e,t,r=!1){return Ke(this).pageLifetime(e,t,r),this}relation(e,t){var r=t.target instanceof J().Behavior?Ie(t.target):t.target instanceof J().ComponentType?Ae(t.target):t.target;return Ke(this).relation(e,{target:r,type:t.type,linked:t.linked,linkChanged:t.linkChanged,unlinked:t.unlinked,linkFailed:t.linkFailed}),this}init(e){return Ke(this).init((function({data:t,setData:r,implement:n,relation:i,observer:a,lifetime:o,pageLifetime:s,method:l,listener:c}){var u=this,d=we(u).component;return e.call(u,{self:u,data:t,setData:(e,t)=>{r(e),t&&R.triggerRender(d,(()=>{t()}))},implement:(e,t)=>{n(Ee(e),t)},relation:e=>{if(e.target instanceof J().TraitBehavior)return i({target:Ee(e.target),type:e.type,linked:e.linked,linkChanged:e.linkChanged,unlinked:e.unlinked,linkFailed:e.linkFailed});var t=e.target instanceof J().Behavior?Ie(e.target):e.target instanceof J().ComponentType?Ae(e.target):e.target;return i({target:t,type:e.type,linked:e.linked,linkChanged:e.linkChanged,unlinked:e.unlinked,linkFailed:e.linkFailed})},observer:a,lifetime:o,pageLifetime:s,method:l,listener:c})})),this}definition(e){var t=Xe(this),r=Ke(this),n=(Array.isArray(e.behaviors)?e.behaviors:[]).map((e=>{if("string"!=typeof e)return e;var r=this._$is||"",n=t.getComponentSpace().getBehaviorByUrl(e,r);if(null===n)return e;var i=Pe(n);return void 0!==i?i:e})).filter(Re);this._$disableDefinitionFilters||n.forEach((t=>{var r;t instanceof J().Behavior&&(null===(r=t._$bindedDefinitionFilter)||void 0===r||r.call(t,e))}));var i,{properties:a,data:o,observers:s,methods:l,created:c,attached:u,ready:d,moved:p,detached:h,lifetimes:f,pageLifetimes:g,relations:v,externalClasses:m,export:y}=e;if(n.forEach((e=>{e instanceof J().Behavior?(this._$parents.push(e),r.behavior(Ie(e)),e._$export&&(i=e._$export)):r.definition({behaviors:[e]})})),void 0!==o&&("function"==typeof o?r.data(o):r.staticData(o)),void 0!==a)for(var b=Object.keys(a),_=0;_<b.length;_+=1){var w=b[_];r.property(w,qe.translatePropertyDef(a[w]))}if(void 0!==s)if(Array.isArray(s))for(var S=0;S<s.length;S+=1){var{fields:C,observer:k}=s[S];r.observer(C||"**",k)}else for(var I=Object.keys(s),P=0;P<I.length;P+=1){var T=I[P],A=s[T];r.observer(T,A)}if(l&&r.methods(l),c&&void 0===(null==f?void 0:f.created)&&r.lifetime("created",c,!0),u&&void 0===(null==f?void 0:f.attached)&&r.lifetime("attached",u,!0),d&&void 0===(null==f?void 0:f.ready)&&r.lifetime("ready",d,!0),p&&void 0===(null==f?void 0:f.moved)&&r.lifetime("moved",p,!0),h&&void 0===(null==f?void 0:f.detached)&&r.lifetime("detached",h,!0),f)for(var x=Object.keys(f),E=0;E<x.length;E+=1){var M=x[E],R=f[M];r.lifetime(M,R,!0)}if(g)for(var D=Object.keys(g),O=0;O<D.length;O+=1){var L=D[O],N=g[L];r.pageLifetime(L,N,!0)}if(v)for(var B=Object.keys(v),$=function(){var e=B[F],n={...v[e]};if("string"==typeof n.target){var i=n.target;delete n.target,Object.defineProperty(n,"target",{configurable:!0,enumerable:!0,get:()=>t.getComponentSpace().getBehaviorByUrl(i,"")||i,set(){}})}r.relation(e,n)},F=0;F<B.length;F+=1)$();return m&&r.externalClasses(m),(y||i)&&(this._$export=y||i),this}}class Qe extends Ye{constructor(...e){super(...e),this._$definitionFilter=void 0}static create(e,t,r=!1){var n=new Qe;n._$disableDefinitionFilters=r,He.set(n,e);var i=e.getComponentSpace().defineWithMethodCaller(t);return Ge.set(n,i),n._$is=t,n}chainingFilter(e){return Ke(this).chainingFilter(e),this}behavior(e){if("string"==typeof e){var t=this._$is||"",r=Xe(this).getComponentSpace().getBehaviorByUrl(e,t);if(null!==r){var n=Pe(r);void 0!==n&&(e=n)}}return e instanceof J().Behavior?(this._$parents.push(e),Je(this,(t=>t.behavior(Ie(e))))):Je(this,(t=>t.definition({behaviors:[e]}))),this}export(e){return super.export(e)}data(e){return super.data(e)}property(e,t){return super.property(e,t)}methods(e){return super.methods(e)}init(e){return super.init(e)}definition(e){return super.definition(e),e.definitionFilter&&(this._$definitionFilter=e.definitionFilter),this}register(){var e=Ke(this).registerBehavior(),t=new(J().Behavior)(this._$parents,this._$definitionFilter,this._$export);return((e,t)=>{Ce.set(t,e),ke.set(e,t)})(e,t),t}}var Ze={},et=(e,t)=>{void 0===Ze[e.id]?(Ze[e.id]=[t],e.render((()=>{var t=Ze[e.id];delete Ze[e.id],t.forEach((e=>{e()}))}))):Ze[e.id].push(t)},tt=e=>{var t,r=e.ownerShadowRoot?e.ownerShadowRoot.getHostNode()._$ownerRenderRoot:null===(t=e.getBackendContext())||void 0===t?void 0:t._$ownerRenderRoot;e._$ownerRenderRoot=r};class rt extends Ye{constructor(...e){super(...e),this._$is="",this._$alias=void 0,this._$options=void 0,this._$proto=void 0}static create(e,t,r,n=!1){var i=new rt;He.set(i,e);var a=e.getComponentSpace().defineWithMethodCaller(t);return Ge.set(i,a),i._$is=t,i._$alias=r,i._$disableDefinitionFilters=n,a.methodCallerInit((function(){var e,r,n=this,a=i._$proto;if(void 0===a){var o=n.getComponentDefinition().behavior.getMethods();a=i._$proto=new(J().ComponentProto)(o,i._$export)}var s=a.derive(),l=n.getBackendContext(),c=l?l.id:null===(e=n.ownerShadowRoot)||void 0===e||null===(r=e.getHostNode()._$ownerRenderRoot)||void 0===r?void 0:r.id,u=$.createRouter(t,c);return null!==l&&et(l,(()=>{n.triggerLifetime("ready",[])})),((e,t)=>{_e.set(e,t)})(s,{component:n,pageRouter:u}),s})),i}options(e){return this._$options=e,this}behavior(e){this._$parents.push(e);var t=Ie(e);return Je(this,(e=>e.behavior(t))),e._$export&&(this._$export=e._$export),this}export(e){return super.export(e)}data(e){return super.data(e)}property(e,t){return super.property(e,t)}methods(e){return super.methods(e)}init(e){return super.init(e)}definition(e){return super.definition(e),e.options&&this.options(e.options),this}pageDefinition(e){for(var t=Object.create(null),r={},n={},i=Object.keys(e),a=0;a<i.length;a+=1){var o=i[a];"data"===o||"options"===o||"behaviors"===o?n[o]=e[o]:"function"==typeof e[o]?r[o]=e[o]:t[o]=e[o]}return n.methods=r,this.definition(n),Ke(this).init((function(){Q()(this,t),Object.keys(r).forEach((e=>{this[e]=r[e].bind(this)}))})),this}register(){var e,t,r,n,i,a,o,s,l=this._$is,c=Xe(this),u=c.getComponentStaticConfig(l),d=null==u?void 0:u.pureDataPattern,p=d?new RegExp(d):null===(e=this._$options)||void 0===e?void 0:e.pureDataPattern,[h,f]=c.calculateStyleScope(l,this._$options),g=Ke(this);g.options({idPrefixGenerator(){return null===this.ownerShadowRoot?"":Me()},multipleSlots:null===(t=this._$options)||void 0===t?void 0:t.multipleSlots,dynamicSlots:null===(r=this._$options)||void 0===r?void 0:r.dynamicSlots,pureDataPattern:p,virtualHost:null===(n=this._$options)||void 0===n?void 0:n.virtualHost,styleScope:h,extraStyleScope:f,dataDeepCopy:null===(i=this._$options)||void 0===i?void 0:i.dataDeepCopy,propertyPassingDeepCopy:null===(a=this._$options)||void 0===a?void 0:a.propertyPassingDeepCopy,propertyEarlyInit:null===(o=this._$options)||void 0===o?void 0:o.propertyEarlyInit});var v=null==u?void 0:u.usingComponents,m=null==u?void 0:u.componentGenerics,y=null==u?void 0:u.componentPlaceholder;v&&g.usingComponents(v),m&&g.generics(m),y&&g.placeholders(y);var b=c.getCompiledTemplate(l);g.template(b),g.init((({self:e})=>{var t=we(e).component;tt(t)})),G((e=>{e.styleSheetRuntime.addScope(h),e.styleSheetRuntime.addScope(f)}));var _=g.registerComponent();null===(s=this._$alias)||void 0===s||s.forEach((e=>{c.getComponentSpace().exportComponent(e,this._$is)})),c._$env.codeManager.notifyComponentRegisteredForStyleSheet(c.protocolPath(l));var w=new(J().ComponentType);return((e,t)=>{Te.set(e,t)})(w,_),w}}var nt={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},it=new Set,at=e=>e instanceof R.Component&&!e.isExternal();function ot(e,t){return{selectAllComponents(r){if(!at(e))return[];var n=jt().getCodeSpace(e.getOwnerSpace()._$id);if(t!==n)return[];var i=e.shadowRoot.querySelectorAll(r).map((e=>ot(e,t)));return t.wxsDeepCopy(i,!0)},selectComponent(r){if(!at(e))return null;var n=jt().getCodeSpace(e.getOwnerSpace()._$id);if(t!==n)return null;var i=e.shadowRoot.querySelector(r),a=null===i?null:ot(i,t);return t.wxsDeepCopy(a,!0)},removeClass(...t){return e&&t.length?(t.forEach((t=>{e.toggleNodeClass(t,!1,R.StyleSegmentIndex.TEMP_EXTRA)})),this):this},addClass(...t){return e&&t.length?(t.forEach((t=>{e.toggleNodeClass(t,!0,R.StyleSegmentIndex.TEMP_EXTRA)})),this):this},hasClass(t){var r;return Boolean(null==e||null===(r=e.classList)||void 0===r?void 0:r.contains(t))},setStyle(r){if(!e)return this;if(r===e.__wxsStyle)return this;var n=[];if("object"==typeof r){var i=null!==r?t.wxsDeepDeCopy(r):{};Object.keys(i||{}).forEach((e=>{n.push(`${e}:${i[e]}`)}))}else n=[String(r)];return e.__wxsStyle=n.join(";"),e.setNodeStyle(e.__wxsStyle,R.StyleSegmentIndex.TEMPLATE_EXTRA),this},getDataset:()=>e?t.wxsDeepCopy(e.dataset):null,getState:()=>e?(e.__wxsState=e.__wxsState||(null==t?void 0:t.createWxsStateObject())||{},e.__wxsState):null,triggerEvent(r,n,i){if(!e||t.isLibSpace)return this;var a=n?t.wxsDeepDeCopy(n):n,o=i?t.wxsDeepDeCopy(i):i;return e.triggerEvent(r,a,o),this},callMethod(r,n){if(!r||!e)return this;var i=t.wxsDeepDeCopy(n),a=e instanceof R.Component?e:e.ownerShadowRoot?e.ownerShadowRoot.getHostNode():e._$ownerRenderRoot.root,o=a.getMethodCaller();return"function"==typeof o[r]&&R.safeCallback("WXS callMethod",o[r],o,[i||{}],a),this},requestAnimationFrame(t){if(!e||"function"!=typeof t)return this;var r=e.getBackendContext();return et(r,t),this},getComputedStyle(r,n){if(e&&e.$$){Array.isArray(r)||(r=[]);var i=e.$$;e.getBackendContext().getComputedStyle(i,(e=>{for(var i={},a=0;a<r.length;a++){var o=r[a];o&&void 0!==e[o]&&(i[o]=e[o])}"function"==typeof n&&n(t.wxsDeepCopy(i))}))}else"function"==typeof n&&n({})},setTimeout(t,r,...n){if("function"==typeof t){var i=setTimeout((()=>{var r=e instanceof R.Component?e:e.ownerShadowRoot?e.ownerShadowRoot.getHostNode():e._$ownerRenderRoot.root;R.safeCallback("WXS setTimeout",t,null,n,r),it.delete(i)}),r);return it.add(i),i}},clearTimeout(e){it.has(e)&&(clearTimeout(e),it.delete(e))},getBoundingClientRect(r){e?e.$$.getBoundingClientRect((e=>{"function"==typeof r&&r(t.wxsDeepCopy(e))})):"function"==typeof r&&r(t.wxsDeepCopy({...nt}))},animate(e,t,r){throw new Error("unimplemented")},clearAnimation(e,t){throw new Error("unimplemented")}}}var st=(e,t)=>{var r=e instanceof R.Element?e:we(e).component;return t&&e instanceof R.VirtualNode&&(r.id||Object.getOwnPropertyNames(r.dataset).length||(r=t instanceof R.Element?t:we(t).component)),{id:r.id,dataset:r.dataset}},lt=e=>{if(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push({identifier:n.identifier,pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY,force:n.force||0,x:n.x,y:n.y})}return t}},ct=(e,t)=>({type:e.type,timeStamp:e.timeStamp,target:st(e.target,e.currentTarget),currentTarget:st(e.currentTarget,null),mark:e.mark,detail:e.detail,touches:lt(e.touches),changedTouches:lt(e.changedTouches),mut:e.mutatedMarked(),...e.extraFields||{},instance:t}),ut=(e,t,r,n)=>{var[i,a]=((e,t)=>{var r=null==t?void 0:t[0];return[e,r===R.template.GeneralLvaluePathPrefix.Script||r===R.template.GeneralLvaluePathPrefix.InlineScript]})(r,n);if(!a){var o=ct(t,void 0);return i.call(e,o)}var s=t.currentTarget,l=s instanceof J().ComponentCaller?we(s).component:s,c=l.ownerShadowRoot.getHostNode(),u=jt().getCodeSpace(c.getOwnerSpace()._$id),d=ot(l,u),p=u.wxsDeepCopy(ot(c,u),!0),h=ct(t,d);return R.safeCallback("WXS Event Listener",i,p,[u.wxsDeepCopy(h,!0),p],c)};R.template.setDefaultEventListenerWrapper(ut);var dt=!1,pt=[],ht=function(e,t){var r=((e,t)=>{var r=null==t?void 0:t[0];return r===R.template.GeneralLvaluePathPrefix.Script||r===R.template.GeneralLvaluePathPrefix.InlineScript?e:null})(e,t),n=null===r?new Error("Property Change Listener can only be WXS function"):null,i=("function"==typeof e?e.name:null)||"(anonymous)";return(e,t,a,o)=>{var s;null!==r?(s=()=>{var n=jt().getCodeSpace(a.getOwnerSpace()._$id);R.safeCallback("WXS Property Change Listener",r,null,[n.wxsDeepCopy(e),n.wxsDeepCopy(t),n.wxsDeepCopy(ot(a,n),!0),n.wxsDeepCopy(ot(o,n),!0)],a)},pt.push(s),dt||(dt=!0,Promise.resolve().then((()=>{dt=!1;var e=pt.slice();pt.length=0,e.forEach((e=>{e()}))})))):R.dispatchError(n,`WXS Property Change Listener ${i}`,a)}};R.template.setDefaultChangePropFilter(ht);var ft="default-component",gt={X:e=>null==e?Object.create(null):e,Y:e=>null==e?"":String(e),Z:(e,t)=>!0===e||(e?e[t]:void 0),D:()=>{},Q:{A:ht,C:ut},gdc:e=>e},vt=new WeakSet;class mt{constructor(e,t,r,n,i,a){this._$env=void 0,this.id=void 0,this._$isMainSpace=void 0,this._$isLibSpace=void 0,this.space=void 0,this.styleScopeManager=void 0,this.staticConfigMap=Object.create(null),this.styleScopeNameMap=Object.create(null),this.compiledTemplateMap=Object.create(null),this.compiledScripts=Object.create(null),this.waitingAliasMap=Object.create(null),this.polyfill=void 0,this.polyfillInitiator=void 0,this._$sharedStyleScope=void 0,this.libStyleScope=null,this.styleIsolationMap=Object.create(null),this._$templateDependencies={},this._$codeChunkComponents={},this._$codeChunk={},this._$codeChunkEnabled=!1,this.runtimeGlobals=gt,this._$hasRuntimeGlobal=!1,this.componentPathToAlias={},this.componentAliasToPath={},this.id=e,this._$env=t,this._$isMainSpace=r,this._$isLibSpace=n,this.space=new R.ComponentSpace(ft,null==a?void 0:a.space,null==a?void 0:a.space.styleScopeManager,this._$isLibSpace),this.space._$id=e,this.styleScopeManager=this.space.styleScopeManager,this._$sharedStyleScope=this.styleScopeManager.register(""),this.polyfillInitiator=i,this.space.setComponentWaitingListener(((e,t)=>{var r,n,i=e&&null!==(r=null===(n=this.space.getExportedComponent(t))||void 0===n?void 0:n.is)&&void 0!==r?r:t;this._$env.codeManager.arrangeComponentInjection(this.protocolPath(i))})),this._$isLibSpace?this.space.defineComponent({is:ft}):this.componentEnv(ft,(e=>{e.Component({})})),G((e=>{e.styleSheetRuntime.addScope(this._$sharedStyleScope)}))}get isLibSpace(){return this._$isLibSpace}log(e){_.info(`[GlassEaselAdapter] ${e}, codeSpaceId=${this.id}`)}warn(e){_.warn(`[GlassEaselAdapter] ${e}, codeSpaceId=${this.id}`)}initPolyfill(e){void 0===this.polyfill&&(this.log("initialize polyfill"),this.polyfill=new e(...this.polyfillInitiator()))}isMainSpace(){return this._$isMainSpace}getComponentSpace(){return this.space}importPluginSpace(e,t){this.log(`importPluginSpace: ${e} ${t}`);var r=this._$env.getCodeSpace(e);if(!r)throw new Error(`There is no space "${e}" in the environment`);this.space.importSpace(`plugin://${t}`,r.space,!1),this.space.importSpace(`plugin://${e}`,r.space,!1),this.space.importSpace(`plugin-private://${e}`,r.space,!0)}importLibSpace(e){this.log("importLibSpace"),this.space.importSpace("wx://",e.space,!1),this.libStyleScope=e.libStyleScope}getStyleScopeName(e){return this.styleScopeNameMap[e]}setStyleScope(e,t){this.styleScopeNameMap[e]=t}getStyleIsolation(e){return this.styleIsolationMap[e]}setGlobalUsingComponent(e,t){this.space.setGlobalUsingComponent(e,t)}updateGlobalUsingComponent(e){e.forEach(((e,t)=>{this.space.setGlobalUsingComponent(t,e)}))}exportComponents(e){var t=this.getComponentSpace();De(e).forEach((r=>{t.exportComponent(r,e[r]),this.componentPathToAlias[e[r]]=r,this.componentAliasToPath[r]=e[r]}))}componentRegistered(e){return"string"==typeof e&&null!==this.space.getComponentByUrlWithoutDefault(e,"")}protocolPath(e){return this._$env.codeManager.assembleProtocol(this.id,e)}absolutePath(e){return this._$env.codeManager.convertAliasToRoute(this.protocolPath(e))}setRuntimeGlobals(e){var t;this._$hasRuntimeGlobal||(this._$hasRuntimeGlobal=!0,this.runtimeGlobals=e(),this.runtimeGlobals.Q=this.runtimeGlobals.Q||{},this.runtimeGlobals.Q.A=ht,this.runtimeGlobals.Q.C=ut,null===(t=this.polyfill)||void 0===t||t.setRuntimeGlobals((()=>this.runtimeGlobals)))}wxsDeepCopy(e,t=!1){var r;return(this.isLibSpace&&(null===(r=this._$env.getCodeSpace(Ft))||void 0===r?void 0:r.runtimeGlobals.gdc)||this.runtimeGlobals.gdc)(e,"nv_",t?oe.PassThrough:oe.Disallow)}wxsDeepDeCopy(e,t=!1){var r;return(this.isLibSpace&&(null===(r=this._$env.getCodeSpace(Ft))||void 0===r?void 0:r.runtimeGlobals.gdc)||this.runtimeGlobals.gdc)(e,void 0,t?oe.PassThrough:oe.Disallow)}batchAddCompiledScripts(e){var t={};e(t,this.runtimeGlobals.D,this.runtimeGlobals.Q,this.runtimeGlobals.gdc),De(t).forEach((e=>{void 0===this.compiledScripts[e]?this.compiledScripts[e]=t[e]:this.warn("Duplicated wxs "+e)}))}batchAddCompiledTemplate(e){var t=e(this.compiledTemplateMap,this.compiledScripts,this.runtimeGlobals.D,this.runtimeGlobals.Q,this.runtimeGlobals.gdc,this.runtimeGlobals.X,this.runtimeGlobals.Y,this.runtimeGlobals.Z,this.runtimeGlobals);De(t).forEach((e=>{var r;void 0===this.compiledTemplateMap[e]?(this.compiledTemplateMap[e]=t[e],null===(r=this.polyfill)||void 0===r||r.addCompiledTemplate(e,{groupList:this.compiledTemplateMap,content:t[e]})):this.warn("Duplicated wxml "+e)}))}getCompiledTemplate(e){var t=this.compiledTemplateMap[e];return void 0===t&&(t=R.template.DEFAULT_PROC_GEN_GROUP),{groupList:this.compiledTemplateMap,content:t,fallbackListenerOnNativeNode:!0}}addComponentStaticConfig(e,t){var r;void 0===this.staticConfigMap[e]&&(this.staticConfigMap[e]=t,null===(r=this.polyfill)||void 0===r||r.addComponentStaticConfig(e,t),this._$env.codeManager.notifyConfigReadyForStyleSheet(this.protocolPath(e)))}getComponentStaticConfig(e){return this.staticConfigMap[e]}addTemplateDependencies(e,t){var r;Array.isArray(this._$templateDependencies[e])||(this._$templateDependencies[e]=[]),this._$templateDependencies[e].push(...t),null===(r=this.polyfill)||void 0===r||r.addTemplateDependencies(e,t)}getTemplateDependencies(e){return this._$templateDependencies[e]||[]}createWxsStateObject(){var e=Object.create(null);return vt.add(e),e}isWxsStateObject(e){return vt.has(e)}enableCodeChunk(){var e;this._$codeChunkEnabled=!0,null===(e=this.polyfill)||void 0===e||e.enableCodeChunk(),w.info("LazyCodeLoading: requiredComponentChunks")}initializeCodeChunk(e,t){var r;this._$codeChunkComponents[e]=[...t],t.forEach((t=>{this._$codeChunk[t]=this._$codeChunk[t]||e||""})),null===(r=this.polyfill)||void 0===r||r.initializeCodeChunk(e,t)}getComponentChunk(e){return this._$codeChunkEnabled&&"string"==typeof this._$codeChunk[e]?this._$codeChunk[e]:e}getComponentsInChunk(e){return this._$codeChunkEnabled&&Array.isArray(this._$codeChunkComponents[e])?this._$codeChunkComponents[e]:[e]}staticConfigCount(){return Object.keys(this.staticConfigMap).length}calculateStyleScope(e,t){if(e===ft)return[void 0,void 0];var r=this.staticConfigMap[e],n=(null==r?void 0:r.addGlobalClass)||(null==t?void 0:t.addGlobalClass),i=(null==r?void 0:r.styleIsolation)||(null==t?void 0:t.styleIsolation);return void 0===i&&(i=null!=r&&r.component?n?ae.ApplyShared:ae.Isolated:ae.Shared),this.styleIsolationMap[e]=i,i===ae.ApplyShared||i===ae.PageApplyShared?[this.styleScopeManager.register(this.getStyleScopeName(e)||`__${Me()}`),this._$sharedStyleScope]:i!==ae.Shared&&i!==ae.PageShared||!this._$isMainSpace?[this.styleScopeManager.register(this.getStyleScopeName(e)||`__${Me()}`),void 0]:[this._$sharedStyleScope,void 0]}globalComponentEnv(e,t,r){return this.componentEnv(t,(({Page:t,Component:n,Behavior:i})=>{var a=e.Page,o=e.Component,s=e.Behavior;e.Page=t,e.Component=n,e.Behavior=i;var l=r();return e.Page=a,e.Component=o,e.Behavior=s,l}))}componentEnv(e,t){var r=this;function n(t){return void 0!==t?r.behavior(e,!0).definition(t).register():r.behavior()}return n.trait=r.traitBehavior.bind(r),t({Page:function(t){var n=r.component(e).pageDefinition(t);return Ve(n,r._$env).register()},Component:function(t){return void 0!==t?qe.translateComponentDef(t,(()=>Ve(r.component(e,!0).definition(t),r._$env).register())):Ve(r.component(e),r._$env)},Behavior:n})}component(e,t=!1){return rt.create(this,e,this.waitingAliasMap[e],t)}behavior(e,t=!1){if(void 0===e)return Qe.create(this);var r=this._$env.codeManager.normalizePath(e,"");return Qe.create(this,r,t)}traitBehavior(e){var t,r,n=void 0===e?this.space.defineTraitBehavior():this.space.defineTraitBehavior(e),i=new(J().TraitBehavior);return t=i,r=n,xe.set(t,r),i}}var yt="custom-tab-bar/index",bt={skyline:4294967297,scl:4294967298},_t=0,wt=1,St=2,Ct=3;class kt{constructor(e){this.env=e,this.tabBars=new Map,this.reset()}reset(){this.log("resetTabBarManager"),this.destroyAllTabBar()}createTabBar(e){var t=bt[e];if(!this.tabBars.has(t)){var r=new Lt(e);this.tabBars.set(t,r)}return t}getTabBar(e){return this.tabBars.get(e)}log(e){_.info(`[GlassEaselAdapter] TabBarManager ${e}`)}initTabBar(e){var t=this.getTabBar(e);this.log(`initTabBar, tabBarId: ${e}`),t&&t.state<wt&&t.init()}attachTabBar(e){var t=this.getTabBar(e);this.log(`attachTabBar, tabBarId: ${e}`),t&&t.state<St&&t.attach()}destroyTabBar(e){var t=this.getTabBar(e);this.log(`destroyTabBar, tabBarId: ${e}`),t&&t.destroy((()=>{this.tabBars.delete(e)}))}destroyAllTabBar(){this.tabBars.forEach(((e,t)=>{this.destroyTabBar(t)}))}getTabBarByPageId(e){var t=this.env.pages.get(e);if(null!=t&&t.tabBarId)return this.getTabBar(t.tabBarId)}isTabBarId(e){return this.tabBars.has(e)}forEachTabBar(e){this.tabBars.forEach((t=>{e(t)}))}}var It="app-bar/index",Pt=0,Tt=1,At=2,xt=3;class Et{constructor(e){this.env=e,this.appBars=new Map,this.appBarIds=new Set,this.reset()}reset(){this.log("resetAppBarManager"),this.destroyAllAppBar()}createAppBar(e,t="skyline"){if(!this.appBars.has(e)){this.destroyAllAppBar();var r=new Nt(e,t);this.appBars.set(e,r),this.appBarIds.add(r.id)}}getAppBar(e){return this.appBars.get(e)}initAppBar(e){var t=this.getAppBar(e);this.log(`initAppBar, windowId: ${e}, appBarId: ${null==t?void 0:t.id}`),t&&t.state<Tt&&t.init()}attachAppBar(e){var t=this.getAppBar(e);this.log(`attachAppBar, windowId: ${e}, appBarId: ${null==t?void 0:t.id}`),t&&t.state<At&&t.attach()}destroyAppBar(e){var t=this.getAppBar(e);this.log(`destroyAppBar, windowId: ${e}, appBarId: ${null==t?void 0:t.id}`),t&&t.destroy((()=>{this.appBars.delete(e),this.appBarIds.delete(t.id)}))}destroyAllAppBar(){this.appBars.forEach(((e,t)=>{this.destroyAppBar(t)}))}getAppBarByPageId(e){var t=this.env.pages.get(e);if(null!=t&&t.appBarOwnerWindowId)return this.getAppBar(t.appBarOwnerWindowId)}isAppBarId(e){return this.appBarIds.has(e)}forEachAppBar(e){this.appBars.forEach((t=>{e(t)}))}log(e){_.info(`[GlassEaselAdapter] AppBarManager ${e}`)}}var Mt,Rt=(Mt=4294967299,()=>Mt++);class Dt{findNodeById(e){return this.nodesMap.get(e)}getNodeId(e){return this.nodesMap.getRev(e)}assignNodeWithId(e,t){return this.nodesMap.set(e,t)}removeNodeById(e){return this.nodesMap.delete(e)}getRootCompName(){return this.rootCompAlias}get initRenderDone(){return this._$initRenderDone}constructor(e){this.env=jt(),this.id=void 0,this.rootTagName=void 0,this.rootCompAlias=void 0,this.styleSheetManager=void 0,this.styleSheetInjector=new fe,this.renderBackend=void 0,this.root=void 0,this.tracer=void 0,this.attachedCb=[],this.nodesMap=new Oe,this._$initRenderDone=!1,this.styleSheetsInitialized=!1,this.id=e}_init(e){z((t=>{G((r=>{this.log("init"),r.prepareWeUIV2(),this.tracer=r.createTracer(this.id),this.styleSheetManager=r.getStyleSheetManager(this.id);var n=t.getRuntime();e(n,(e=>{if(this.renderBackend=function(e){if("function"!=typeof e.createTextNode)throw new Error("Current version of skyline does not supports glass-easel compatible backend protocol");return"function"!=typeof e.render&&(e.render=function(e){setTimeout((()=>{e()}),16)}),e}(e),this.renderBackend.mode=R.BackendMode.Composed,this.renderBackend.frameworkType=2,!r.styleSheetRuntime.isBackendRuntimeReady()){var n=t.RuntimeCore.nativeGlobal.runtime;r.styleSheetRuntime.registerBackendRuntime(n)}this.styleSheetManager.registerBackendContext(e)}))}))}))}injectCode(e){this.tracer.traceBeginEvent("Framework","injectCode"),this.log(`injectCode, rootCompAlias=${this.rootCompAlias}`),this.env.codeManager.setInitialSubPackage(this.rootCompAlias);var t=[this.rootCompAlias];e&&De(e).forEach((r=>{var n=this.env.getCodeManager().convertRouteToAlias(e[r]);t.push(n)})),this.initializeStyleSheets(t),this.env.codeManager.injectComponentsRecursively(t,!0),this.tracer.traceEndEvent()}doInitCreation(e){return this.log(`creating root component, rootCompAlias=${this.rootCompAlias}`),$.traceBeginEvent("Framework","createRootComponent"),this.renderBackend._$ownerRenderRoot=this,this.root=this.env.getCodeSpace(Ft).getComponentSpace().createComponentByUrl(this.rootTagName,this.rootCompAlias,e||null,this.renderBackend),this.root.destroyBackendElementOnDetach(),delete this.renderBackend._$ownerRenderRoot,$.traceEndEvent(),this.root.is===ft&&this.error(`Root component ${this.rootCompAlias} not found`),U().getRuntime().insertToInspecteeRoots(this.root),this.root}onAttached(e){this.root&&R.Element.isAttached(this.root)?e.call(this):this.attachedCb.push(e)}_attach(){$.traceBeginEvent("Framework","componentLifetimes # attached"),R.Component.pretendAttached(this.root),$.traceEndEvent(),setTimeout((()=>{this.attachedCb.forEach((e=>{e.call(this)}))}),16)}_startRender(e){this.styleSheetManager.clearPendingScopeSetters(),this.blockForStyleSheet(),this.renderBackend.startRender(e),this._$initRenderDone=!0}initializeStyleSheets(e){$.traceBeginEvent("Framework","styleSheetsInitialize"),this.env.codeManager.recurseUsingStyleSheets(e,this),$.traceEndEvent()}blockForStyleSheet(){this._$initRenderDone&&("function"==typeof this.renderBackend.finishStyleSheetsCompilation?this.renderBackend.finishStyleSheetsCompilation():this.renderBackend.recalcStyle())}destroy(e){this.onAttached((()=>{this.log("removeView");var t=U().getRuntime(),r=H();t.removeFromInspecteeRoots(this.root),R.Element.pretendDetached(this.root),r.removeStyleSheetManager(this.id),this.env.codeManager.removePendingStyleSheetsBlocking(this),null==e||e.call(this)}))}}class Ot extends Dt{constructor(...e){super(...e),this.rootTagName="page",this.tabBarId=void 0,this.appBarOwnerWindowId=void 0,this.ignoreWebviewPreload=!1}log(e){_.info(`[GlassEaselAdapter] Page ${e}, pageId=${this.id}`)}error(e){_.error(`[GlassEaselAdapter] Page ${e}, pageId=${this.id}`)}init(e,t){super._init(((r,n)=>{r.addPageInfo(this.id,e),r.onPageReady(this.id,(e=>{this.tabBarId&&(this.env.tabBarManager.initTabBar(this.tabBarId),this.env.tabBarManager.attachTabBar(this.tabBarId)),this.appBarOwnerWindowId&&(this.env.appBarManager.initAppBar(this.appBarOwnerWindowId),this.env.appBarManager.attachAppBar(this.appBarOwnerWindowId)),n(e),t()}))}))}setTabBarId(e){this.tabBarId=e}setAppBarOwnerWindowId(e){this.appBarOwnerWindowId=e}processInitData(e){this.tracer.traceBeginEvent("Framework","onAppDataChange");var t=H().processAppInitData(e);this.ignoreWebviewPreload=t.ignoreWebviewPreload,this.tracer.traceEndEvent()}addView(e){this.rootCompAlias=this.env.getCodeManager().convertRouteToAlias(e);var t=this.env.codeManager.getPluginPageGenerics(this.rootCompAlias);return this.injectCode(t),this.tracer.traceBeginEvent("Framework","initRender"),this.doInitCreation(t),this.tracer.traceEndEvent(),this.root}attachView(e){this.log("attach");var t=U().getRuntime(),r=H(),n=!1,i={};Object.keys(e).forEach((t=>{R.Component.hasProperty(this.root,t)&&(i[t]=e[t],n=!0)})),n&&this.root.setData(i);var a=this.root.$$;t.attach(a,this.id),super._attach(),super._startRender((()=>{_.info("[attachView] skyline startRender callback"),$.traceBeginEvent("Framework","sendReadyEvent"),this.tracer.traceBeginEvent("Framework","sendReadyEvent"),r.publishPageEvent(this.id),this.tracer.traceEndEvent(),r.onRenderDone(),$.traceEndEvent()})),this.tracer.traceBeginEvent("Framework","initReady",{ignoreWebviewPreload:this.ignoreWebviewPreload}),r.callInitReady(this.ignoreWebviewPreload,this.id),this.tracer.traceEndEvent()}destroy(e){super.destroy((()=>{U().getRuntime().markDestroyContext(this.id),$.workletSDK.removeRouteContext(this.id),null==e||e()}))}}class Lt extends Dt{log(e){_.info(`[GlassEaselAdapter] TabBar ${e}, tabBarId=${this.id}, renderer=${this.renderer}`)}error(e){_.error(`[GlassEaselAdapter] TabBar ${e}, tabBarId=${this.id}, renderer=${this.renderer}`)}constructor(e){super(bt[e]),this.rootTagName="tab-bar",this.id=void 0,this.renderer=void 0,this.state=void 0,this.id=bt[e],this.state=_t,this.renderer=e,this.rootCompAlias=yt}init(){super._init(((e,t)=>{t(e.getTabBarContext()),this.injectCode(),this.state=wt,this.doInitCreation()}))}attach(){this.log("attach");var e=U().getRuntime(),t=this.root.$$;e.attachTabBar(t),super._attach(),this.state=St,super._startRender((()=>{this.state=Ct}))}destroy(e){super.destroy((()=>{U().getRuntime().removeTabBarContext(),e()}))}}class Nt extends Dt{log(e){_.info(`[GlassEaselAdapter] AppBar ${e}, id=${this.id}, WindowId=${this.windowId}`)}error(e){_.error(`[GlassEaselAdapter] AppBar ${e}, id=${this.id}, WindowId=${this.windowId}`)}constructor(e,t){var r=Rt();super(r),this.rootTagName="app-bar",this.id=void 0,this.windowId=void 0,this.renderer=void 0,this.state=void 0,this.id=r,this.windowId=e,this.renderer=t,this.state=Pt,this.rootCompAlias=It}init(){super._init(((e,t)=>{t(e.createAppBarContext(this.id,this.windowId)),this.injectCode(),this.state=Tt,this.doInitCreation()}))}attach(){this.log("attach");var e=U().getRuntime(),t=this.root.$$;e.attachAppBar(t),super._attach(),this.state=At,super._startRender((()=>{this.state=xt}))}destroy(e){super.destroy((()=>{U().getRuntime().removeAppBarContext(),e()}))}}class Bt{constructor(e){this.codeSpaceMap=void 0,this.globalCodeSpace=void 0,this.libSpace=null,this._$polyfillConstructor=void 0,this.codeManager=new be(this),this.pages=new Map,this.tabBarManager=new kt(this),this.appBarManager=new Et(this),this.randomPageIdCallbacks=[],this.builtInComponents=new Map,this._$dataChangeListener=void 0,this.codeSpaceMap=Object.create(null),this.globalCodeSpace=new mt(null,this,!1,!1,e,void 0)}initPolyfill(e){void 0!==this._$polyfillConstructor?_.info("[GlassEaselAdapter] init polyfill more than once, ignoring"):(_.info("[GlassEaselAdapter] init polyfill"),this._$polyfillConstructor=e,this.forEachSpace((e=>{this.setPolyfillForSpace(e)})))}setPolyfillForSpace(e){void 0!==this._$polyfillConstructor&&e.initPolyfill(this._$polyfillConstructor)}getCodeManager(){return this.codeManager}getLibSpace(){return this.libSpace}getComponentPath(e){var t=this.getComponentDomainPath(e.getRootBehavior());return this.codeManager.convertAliasToRoute(t)}getGlobalCodeSpace(){return this.globalCodeSpace}importLibSpace(e){e!==this.libSpace&&null!==this.libSpace&&(e.importLibSpace(this.libSpace),e.getComponentSpace().updateBaseExtendedNativeList(this.libSpace.getComponentSpace()),e.updateGlobalUsingComponent(this.builtInComponents))}createCodeSpace(e,t,r,n){_.info(`[GlassEaselAdapter] createCodeSpace, id=${e}`);var i=new mt(e,this,t,r,n,this.globalCodeSpace);return this.codeSpaceMap[e]=i,i.getComponentSpace().updateComponentOptions(r?ze:Ue),i.updateGlobalUsingComponent(this.builtInComponents),this.setPolyfillForSpace(i),r?(this.libSpace=i,i.libStyleScope=i.getComponentSpace().styleScopeManager.register("__wx__"),this.forEachSpace((e=>{this.importLibSpace(e)})),G((e=>{e.styleSheetRuntime.addScope(i.libStyleScope)}))):this.importLibSpace(i),i}getCodeSpace(e){return null===e?this.globalCodeSpace:this.codeSpaceMap[e]}getComponentSpaceId(e){return e._$id}forEachRenderRoot(e){this.pages.forEach((t=>{e(t)})),this.tabBarManager.forEachTabBar(e),this.appBarManager.forEachAppBar(e)}forEachSpace(e){e(this.globalCodeSpace),Object.values(this.codeSpaceMap).forEach((t=>e(t)))}getAdapterPage(e){return this.pages.get(e)}newAdapterPage(e){if(this.pages.has(e))return this.pages.get(e);var t=new Ot(e);if(this.pages.set(e,t),this.randomPageIdCallbacks.length>0){var r=this.randomPageIdCallbacks;this.randomPageIdCallbacks=[],r.forEach((t=>{t(e)}))}return t}removeAdapterPage(e){var t=this.pages.get(e);t&&t.destroy((()=>{this.pages.delete(e)}))}getRandomPageIdSync(){return 0===this.pages.size?null:this.pages.keys().next().value}getRandomPageId(e){0!==this.pages.size?e(this.pages.keys().next().value):this.randomPageIdCallbacks.push(e)}getAllPageIds(){return Array.from(this.pages.keys())}isVirtualPage(e){return this.tabBarManager.isTabBarId(e)||this.appBarManager.isAppBarId(e)}getPageStack(){return $.getCurrentPages().map((e=>{var t,r=null===(t=we(e))||void 0===t?void 0:t.component,n=null==r?void 0:r._$ownerRenderRoot;return n instanceof Ot?n:null}))}totalStaticConfigCount(){var e=0;return this.forEachSpace((t=>{e+=t.staticConfigCount()})),e}getComponentDomainPath(e){var t=e.ownerSpace,r=this.getComponentSpaceId(t);return this.codeManager.assembleProtocol(r,e.is)}afterPackageCommonEvaluation(){this.codeManager.flushStyleSheetsRecursion()}registerBuiltInComponent(e,t){this.builtInComponents.set(e,t)}updateGlobalUsingComponent(){this.forEachSpace((e=>{e.updateGlobalUsingComponent(this.builtInComponents)}))}updateExtendedNativeList(e){this.forEachSpace((t=>{t.getComponentSpace().updateBaseExtendedNativeList(e.getComponentSpace())}))}getComponentStaticConfig(e){var{codeSpace:t,spacePath:r}=this.codeManager.parseProtocol(e);return t.getComponentStaticConfig(r)}startGroupRegister(){this.forEachSpace((e=>{e.getComponentSpace().startGroupRegister()}))}endGroupRegister(){this.forEachSpace((e=>{e.getComponentSpace().endGroupRegister()}))}listenDataChange(e){this._$dataChangeListener=e}unlistenDataChange(){delete this._$dataChangeListener}}var $t,Ft="/";X((e=>{$t=new Bt(e.globalPolyfillInitiator)}));var jt=()=>$t,Wt=()=>R,Vt=0,Ut=null,zt=function(e){Vt===e&&(Vt=0,Ut=null)},qt=function(e){return Vt=Date.now()+Math.random(),Ut=e,Vt},Ht=function(e,t){var r,n=qt(t);try{r=e(n)}catch(e){throw setTimeout((()=>{zt(n)}),0),e}return setTimeout((()=>{zt(n)}),0),r},Gt=function(){return!!Vt},Kt=function(){return Ut},Jt=e=>$._emitTapAnyWhere(e);R.addGlobalWarningListener((e=>(Be()&&console.warn(e),!1))),R.addGlobalErrorListener(((e,t,r,n)=>{var i=r&&"string"!=typeof r?r.getRootBehavior().ownerSpace:null,a=i?jt().getComponentSpaceId(i):null;return Be()&&e instanceof Error&&console.error([e instanceof Error?`${e.message}`:String(e),n?`\t@${R.dumpSingleElementToString(n)}`:void 0,r?`\t${t||""}@${"string"==typeof r?`<${r}>`:R.dumpSingleElementToString(r||!1)}`:void 0,e instanceof Error?e.stack:null].filter(Boolean).join("\n")),M.thirdErrorReport({error:e,source:null!=a?a:""}),!1})),D=t})(),(()=>{var e={420:(e,t,r)=>{var n;r.d(t,{k:()=>a,r:()=>i}),m.onLoad((()=>{n=[...x.globalEsObjs.map((e=>globalThis[e])),...x.globalEsHiddenObjs].filter(Boolean)}));var i=()=>n;function a(e){var t=e.getGlobals(),r=i();t.length===r.length?x.bridgeGlobalInstanceOf(i(),t):m.emitFrameworkError(new Error("remoteGlobals mismatch with currentGlobals"),"bridgeGlobalInstanceOf")}},533:(e,t,r)=>{r.d(t,{A:()=>n});var n=(globalThis.__wxLibrary||{}).contextType}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{_getSelfBridgeContext:()=>a,bridgeContext:()=>o});var e=r(420),t=r(533),i=new Map;function a(){return{getGlobals:e.r,contextType:t.A,setBridged:(e,t)=>{i.set(e,t)}}}function o(r){var n=r._getSelfBridgeContext();t.A,n.contextType;try{if(i.has(n.contextType))return;i.set(n.contextType,n),n.setBridged(t.A,a()),(0,e.k)(n)}catch(e){t.A,n.contextType}}})(),O=n})(),(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};e.r(t),e.d(t,{actionController:()=>ke,allowReportLoadingTime:()=>bt,checkIsWebviewPageDetach:()=>Xe,clearAsyncCallApiRelatedEvent:()=>ze,clearCurrentEventApiList:()=>De,clearCurrentEventInfo:()=>$e,closeTrackUserAction:()=>Me,convert24247SchemaToSensitiveQueryJudgeSchema:()=>O,convertReportInfo2Strategys:()=>ae,endLoading:()=>mt,endTraceHandler:()=>nt,endTraceLastRouteStayTime:()=>y,filterApiReportReq:()=>le,getAppServiceVariable:()=>He,getAsyncCallApiRelatedEvent:()=>Ue,getAsyncCallbackJoinEventInterval:()=>et,getCompatPathWithoutValue:()=>V,getCurrentEventApiList:()=>je,getCurrentEventInfo:()=>Be,getCurrentFullyRoutePath:()=>A,getCurrentPageTitle:()=>P,getCurrentRawRoutePath:()=>z,getCurrentRoutePath:()=>w,getCurrentRoutePathWithoutQuery:()=>S,getCurrentRouteStartTime:()=>q,getEventJoinInterval:()=>Ze,getLastRoutePath:()=>b,getPageTitle:()=>x,getQualityConfig:()=>ht,getReportEvent:()=>pe,getRouteHasWebview:()=>Je,getSafeRoutePath:()=>N,getSamplePercent:()=>ue,getSessionId:()=>he,getTextContentMaxLayer:()=>_e,getTextContentMaxLength:()=>be,getTrackUserAction:()=>Fe,protectActionReporter:()=>_t,pruneSensitiveUrl:()=>W,pushApiToEventApiList:()=>We,reportInteractionAPI:()=>dt,setAppServiceVariable:()=>qe,setAsyncCallApiRelatedEvent:()=>Ve,setAsyncCallbackJoinEventInterval:()=>tt,setCurrentEventApiList:()=>Re,setCurrentEventInfo:()=>Ne,setCurrentRouteStartTime:()=>H,setEventJoinInterval:()=>Qe,setQualityConfig:()=>pt,setReportSetting:()=>Ie,setRouteHasWebview:()=>Ke,setSessionId:()=>ie,shouldReportApi:()=>ye,shouldReportEvent:()=>de,shouldReportLifetime:()=>fe,shouldStartReport:()=>me,shouldStopReport24689:()=>ce,shouldUpdateReportInfo:()=>ve,startActionChainReport:()=>ge,startLoading:()=>vt,startTraceHandler:()=>rt,startTraceLastRouteStayTime:()=>g,startTrackUserAction:()=>Ee,traceApi:()=>xe,traceBootRoutePath:()=>k,traceEvent:()=>Ae,traceFullyRoutePath:()=>T,traceLife:()=>Pe,traceNewRoute:()=>E,traceRawRoutePath:()=>U,traceRoute:()=>Te,traceRoutePath:()=>h,traceRoutePathWithoutQuery:()=>f,updateWebviewPageInfo:()=>Ye});var r=(()=>Object.prototype.toString)(),n=p.prototype.call.bind(r);function i(e){return n(e).slice(8,-1)}var a=e=>"Object"===i(e);class o{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}const s=(()=>new o)();var l,c,u,d,h=e=>{l=w(),s.set("current_route_path",e,!0)},f=e=>{s.set("current_route_without_query_path",e,!0)},g=()=>{u=Date.now()},y=()=>Date.now()-u,b=()=>l,w=()=>s.get("current_route_path"),S=()=>s.get("current_route_without_query_path"),C=!0,k=e=>{C&&(h(e),C=!1)},I={},P=()=>{var e=A();return I[e]},T=(e,t)=>{try{if("string"!=typeof e)return c=e;if(!a(t))return c=e;for(var r of(e+="?",Object.keys(t))){e+=`${r}=${t[r]}&`}return c=e.slice(0,e.length-1)}catch(t){return _.error("getFullyRoutePath err:",t),c=e}},A=()=>c,x=e=>I[e],E=(e,t)=>{var r,n,i=(t&&t.window||{}).navigationBarTitleText||"",a=z(),o=null==e?void 0:e[a],s=(null==o||null===(r=o.window)||void 0===r?void 0:r.navigationBarTitleText)||i;n=s,I[c]=n},R={},D=!1,O=e=>{try{var t,r,n,i=(null==e||null===(t=e.common)||void 0===t?void 0:t.importantKeyInfo)||[];(i=i.map((e=>{var t;return new RegExp(e.pure,null!==(t=e.flag)&&void 0!==t?t:"")}))).length&&(R.keyJudge=i);var a=(null==e||null===(r=e.common)||void 0===r?void 0:r.sensitiveInfo)||[],o=[...(null==e||null===(n=e.common)||void 0===n?void 0:n.safeSensitiveInfo)||[],...a].reduce(((e,t)=>{var r;return t.matchKey||e.push(new RegExp(t.pure,null!==(r=t.flag)&&void 0!==r?r:"")),e}),[]);o.length&&(R.valJudge=o),D=!0}catch(e){_.error("convert24247SchemaToSensitiveQueryJudgeSchema err:",e)}},N=(e,t,r,n=!1)=>{try{if("string"!=typeof e)return e;var i=((e,t,r=!1)=>{if(!a(e))return e;if(!D||r){var n={};return Object.keys(e).forEach((r=>{n[r]=1092!=t||b()?"":e[r]})),n}var{keyJudge:i,valJudge:o}=R,s={},l=function(t){var r=e[t];i&&i.some((e=>e.test(t)))&&(r=null),r&&o&&o.forEach((e=>{r=r.replace(e,"")})),s[t]=r};for(var c of Object.keys(e))l(c);return s})(t,r,n);if(!a(i))return e;for(var o of(e+="?",Object.keys(i))){e+=`${o}=${i[o]}&`}return e.slice(0,e.length-1)}catch(t){return _.error("getSafeRoutePath err:",t),e}},B=new RegExp("[^&=?]+=[^&]*","g"),F=new RegExp("(.*)=(.*)"),j=e=>{try{if("string"!=typeof e)return e;var t=e.indexOf("?");if(-1===t)return e;var r=e.slice(t+1).match(B);return r?[e.slice(0,t),r=r.reduce(((e,t)=>{var r,n,i=null===(r=t.match(F))||void 0===r||null===(n=r.slice)||void 0===n?void 0:n.call(r,1);return i?(Object.assign(e,Object.fromEntries([i])),e):e}),{})]:e}catch(t){return e}},W=e=>{try{var t=j(e);if(!Array.isArray(t))return t;var[r,n]=t;return N(r,n)}catch(t){return e}},V=e=>{try{var t=j(e);if(!Array.isArray(t))return t;var[r,n]=t;return N(r,n,null,!0)}catch(t){return e}},U=e=>{s.set("current_raw_route_path",e,!0)},z=()=>s.get("current_raw_route_path"),q=()=>d,H=()=>d=Date.now(),G=()=>{K!==v&&void 0!==K&&Object.assign(K,v)},K=(()=>(v.onReady(G),v))();const J=K;J.onReady((()=>{s.set("api_call_from_hot_boot_time",Date.now(),!0),void 0!==$&&$.onAppEnterForeground((()=>{s.set("api_call_from_hot_boot_time",Date.now())}))}));var X,Y=e=>{try{e=JSON.stringify(e)}catch(e){}return e},Q={},Z={tap:!0},ee={},te=30,re=3,ne=!1,ie=e=>{X=e},ae=e=>{e&&"object"==typeof e&&(e.api.forEach((e=>{"string"==typeof e.name&&(Q[e.name]={req:e.req,res:e.resp,samplePercent:e.samplePercent})})),(e=>{e.forEach((e=>{Z[e.type]=!0}))})(e.event),(e=>{e.lifetimes&&e.lifetimes.forEach((e=>{ee[e.type]=!0}))})(e),(e=>{void 0!==e.textContentMaxLength&&(te=e.textContentMaxLength>30?30:e.textContentMaxLength<0?0:e.textContentMaxLength),void 0!==e.textContentMaxLayer&&(re=e.textContentMaxLayer>3?3:e.textContentMaxLayer<0?0:e.textContentMaxLayer)})(e),_.info("TUA ApiReportStrategys:",Q))},oe=e=>{if(!a(e))return e;var t={};for(var r of Object.keys(e)){var n=e[r];a(n)?t={...t,...oe(n)}:t[r]=n}return t},se=(e,t)=>{if(!e)return null;if(!t)return t;if("string"==typeof t)return a(e)?null:t.slice(0,512);if(!0===e||"string"==typeof e)return t;var r;if(Array.isArray(t))r=[];else{if("[object Object]"!==Object.prototype.toString.call(t))return t;r={}}for(var n of Object.keys(e))if("string"==typeof n){var i=t[n];if(void 0!==i){var o=e[n];if(o){var s=n.toLowerCase();"string"==typeof o&&(s=o.toLowerCase()),r[s]=se(o,i)}}}return r=oe(r)},le=(e,t,r=!1)=>{var n,i=Q[e];if(!i)return null;var a={};return 1===(null===(n=i=i[r?"res":"req"])||void 0===n?void 0:n.__ALL__)?a.ext_data=Y(t):a.ext_data=Y(se(i,t)),a},ce=e=>Math.random()>ue(e),ue=(e={})=>{var t;return"api"===e.type?null===(t=Q[e.data])||void 0===t?void 0:t.samplePercent:1},de=e=>ne&&Z[e],pe=()=>ne?Z:[],he=()=>X,fe=e=>ee[e],ge=()=>{ne=!0},ve=e=>X!==e,me=()=>ne,ye=e=>Q[e],be=()=>te,_e=()=>re;var we,Se,Ce,ke=new class{constructor({sendInterval:e=5e3,cache:t=5}={}){this.sendInterval=e,this.cache=t,this.actions=[],this.isInit=!1,this.currentActionId=1}create(){return{}}intervalSend(){if(!this.sendClear){var e=setTimeout((()=>{this.send(),this.intervalSend()}),this.sendInterval);this.sendClear=e}}clearIntervalSend(){clearTimeout(this.sendClear),this.sendClear=null}getCurrentId(){return this.currentActionId++}add(e,t={}){var r,n;this.isInit&&(1!==e.result&&ce({type:e.reporttype,data:e.name})||(e.id=this.getCurrentId(),e.hotbootdistance=(n=s.get("api_call_from_hot_boot_time"),Date.now()-n),e.pagename=null!==(r=t.path)&&void 0!==r?r:w(),e.instanceId=J.appLaunchInfo.sessionid||J.appLaunchInfo.sessionId,e.source=void 0!==m?m.env.isWebView?2:1:0,e.appId=J.accountInfo&&J.accountInfo.appId,e.pagetitle=t.path?x(t.fullyPath):P(),e.extra_info=JSON.stringify({isasyncreturn:e.isAsync,...e.extra_info}),delete e.isAsync,e.time=Date.now(),"api"!==e.reporttype||"navigateTo"!==e.name&&"redirectTo"!==e.name&&"switchTab"!==e.name&&"navigateBack"!==e.name||(e.pagename=b()),this.actions.push(JSON.stringify(e)),this.actions.length>this.cache&&this.send()))}cut(e){if("string"!=typeof e)return e;var t=Math.floor(204700/this.cache);return e.length>t?e.slice(0,t):e}send(){void 0!==$&&(this.actions.length&&$.reportActionTrace({cs_session_id:he(),click_event_data_list:this.actions.map(this.cut.bind(this))},{fail(e){var t=["","","webapi_reportwxacityservicescreenshot",w(),1,JSON.stringify({err:e.errMsg})].map(encodeURIComponent).join(",");M.reportKeyValue({key:"getPhoneNumberReport",value:t,force:!0}),_.error("report user action err:",e)}}),this.actions=[],this.clearIntervalSend(),this.intervalSend())}protect(){if(this.isInit)return null;void 0!==$&&(this.intervalSend(),$.onAppEnterBackground((()=>{this.clearIntervalSend(),this.send()})),$.onAppEnterForeground((()=>{this.intervalSend()})),this.isInit=!0)}setReportSetting({reportCache:e,reportInterval:t}){this.cache=null!=e?e:5,this.sendInterval=null!=t?t:5e3}},Ie=e=>ke.setReportSetting(e),Pe=(e,t)=>{if(fe(e)){var r={reporttype:"lifetimes",result:0,type:e};ke.add(r,{path:t.path,fullyPath:t.fullyPath})}},Te=(e,t,r=!0)=>{xe(e,{url:t},null,r,null,0)},Ae=(e,t,r,n,i,a)=>{if("onH5Open"===e||de(e)){var o={reporttype:"event",event:{currenttarget:r,target:n},errmsg:t||null,result:t?1:0,eventname:e,event_id:String(a)};ke.add(o)}},xe=(e,t,r,n,i,a,o,s={})=>{if(ye(e)){var{errMsg:l,errno:c,relatedEvent:u}=s,d={reporttype:"api",name:e,req:s.noFilterReq?{ext_data:Y(t)}:le(e,t),resp:s.noFilterRes?{ext_data:Y(r)}:le(e,r,!0),uid:String(i),result:n?1:0,cost_time:a,isAsync:o,extraInfo:s,jsapi_errmsg:l,jsapi_errno:c,...u?{in_event:String(u)}:{}};delete s.noFilterReq,delete s.noFilterRes,ke.add(d)}},Ee=e=>{s.set("start_track_user_action",e,!0)},Me=()=>{s.set("start_track_user_action",!1)},Re=e=>{s.set("current_event_api_list",e,!0)},De=()=>{s.set("current_event_api_list",null)},Oe=null,Le=null,Ne=e=>{Oe=e},Be=()=>Oe,$e=e=>{if(Fe()!==e)return!1;Oe=null},Fe=()=>s.get("start_track_user_action"),je=()=>s.get("current_event_api_list"),We=(e,t)=>{var r=je();return!(!r||!ye(e))&&(r.push(String(t)),!0)},Ve=e=>{if(Le)return!1;Le=e},Ue=()=>Le,ze=e=>{if(e!==Le)return!1;Le=null},qe=e=>{we=e},He=()=>we,Ge={},Ke=(e,t)=>{if(!t)return!1;t.startTime=Date.now(),Ge[e]=t},Je=e=>Ge[e],Xe=()=>{var e,t=z();if(e=Ge[t]){var{src:r,startTime:n}=e,{scene:i,scene_note:a,instanceId:o}=He()||{},s=[o,i,a,W(r),Date.now(),Date.now()-n,w()].map(encodeURIComponent).join(",");M.reportKeyValue({key:"detachFromNestWebviewPage",value:s})}},Ye=()=>{var e,t=z();(e=Ge[t])&&(e.startTime=Date.now())};var Qe=e=>Se=null!=e?e:50,Ze=()=>Se,et=()=>Ce,tt=e=>Ce=null!=e?e:25,rt=e=>{if(e&&de(e.type)){if(Fe())return null;var t,r;try{var{currentTarget:{__extra:n},target:{__extra:i}}=e;r=i,(t=n)&&(delete e.currentTarget.__extra,delete e.target.__extra)}catch(e){}var a=[],o=1e4*Date.now()+Math.round(9999*Math.random());return Ee(o),Re(a),Ne({type:e.type,callErr:null,currentTargetTrace:t,targetTrace:r,apiCalls:a}),o}},nt=e=>{e===Fe()&&setTimeout((()=>{var t=Be()||{};Ae(t.type,t.callErr,t.currentTargetTrace,t.targetTrace,t.apiCalls,e),$e(e),Me(),De()}),Se)},it=0,at=0,ot={},st=[1005,1006,1042,1053,1106,1179,1027,1153];J.onReady((()=>{it=J.appLaunchInfo.scene,at=J.appLaunchInfo.sessionid||J.appLaunchInfo.sessionId,Object.assign(ot,J.appLaunchInfo)}));var lt,ct,ut=null,dt=({api:e,result:t,res:r})=>{if(!1!==ut){null===ut&&(ut=st.includes(it)),0===t&&r&&r.cancel&&(t=2);var n=[e,t,Date.now(),it,encodeURIComponent(ot.scene_note||ot.sceneNote),at,S()].join(",");M.reportKeyValue({key:"WeAppInteractionApiCall",value:n})}},pt=e=>{lt=e},ht=()=>lt,ft=-1,gt=!1,vt=()=>{if(!gt)return!1;ct=Date.now()},mt=e=>{var t;if(!gt)return!1;ft=Date.now()-ct;var r=yt(),n=He().instanceId,i=["showLoading",String(r),w(),n,3,e].join(",");null!==(t=ht())&&void 0!==t&&t.reportLoading&&M.reportKeyValue({key:"WeAppInteractiveApiError",value:i})},yt=()=>{if(-1===ft)return!1;var e=ft;return ft=-1,e},bt=()=>{gt=!0},_t=()=>{ke.protect()};L=t})();var N=!1,B,$;(()=>{var e={27:()=>{}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{Context:()=>ke.Context,Easing:()=>ae,addNavigatorInfoIfNeeded:()=>Je,addRouteBuilder:()=>et,blue:()=>L,cancelAnimation:()=>W,checkPluginState:()=>ut,checkWorkletFunc:()=>C,chooseRenderMode:()=>lt,createAnimatedStyle:()=>xe,createAnimatedStyleForWeb:()=>Ee,createRouteContext:()=>Xe,decay:()=>le,defineAnimation:()=>j,delay:()=>ce,derived:()=>pe,disableMapper:()=>Pt,enableMapper:()=>It,externalMethods:()=>he,genRouteConfig:()=>nt,getBoundingClientRect:()=>a,getRouteBuilder:()=>rt,getRouteContext:()=>it,green:()=>O,initialUpdaterRun:()=>$,isConfigured:()=>dt,isConfiguredCheck:()=>pt,makeFunctionAsync:()=>k,makeMutable:()=>_t,makeRemote:()=>wt,makeShareable:()=>gt,normalizeColor:()=>M,opacity:()=>R,presetCustomRoute:()=>ot,red:()=>D,registerEventHandler:()=>Tt,removeNavigatorInfo:()=>Ke,removeRouteBuilder:()=>tt,removeRouteContext:()=>at,repeat:()=>ue,runOnJS:()=>ft,runOnUI:()=>ht,scrollViewContext:()=>l,sequence:()=>de,setExternalMethods:()=>fe,shared:()=>Ie,snapshotContext:()=>t,spring:()=>se,startMapper:()=>St,stopMapper:()=>Ct,stopMappers:()=>kt,timing:()=>oe,unregisterEventHandler:()=>At});var e,t={changeMode:((e=function(e,t){null!=e?workletUIModule.snapshotChangeMode?workletUIModule.snapshotChangeMode(e,t):console.warn("For developer: client version is too old, SnapshotContext.changeMode can not work"):console.warn("snapshotContext.changeMode: fail invalid parameter ref")})._closure={},e.asString="function _f(ref,mode){if(ref===undefined||ref===null){console.warn('snapshotContext.changeMode: fail invalid parameter ref');return;}if(workletUIModule.snapshotChangeMode){workletUIModule.snapshotChangeMode(ref,mode);}else{console.warn('For developer: client version is too old, SnapshotContext.changeMode can not work');}}",e.__workletHash=0xbeb71932950,e.__location="src/worklet/operateWidgets.ts (1:19)",e.__worklet=!0,e)},i={left:0,top:0,right:0,bottom:0,width:0,height:0},a=function(){var e=function(e){return null==e?(console.warn("getBoundingClientRect: fail invalid parameter ref"),i):workletUIModule.getBoundingClientRect?workletUIModule.getBoundingClientRect(e):(console.warn("For developer: client version is too old, getBoundingClientRect can not work"),i)};return e._closure={zeroRect:i},e.asString="function _f(ref){const{zeroRect}=jsThis._closure;{if(ref===undefined||ref===null){console.warn('getBoundingClientRect: fail invalid parameter ref');return zeroRect;}if(workletUIModule.getBoundingClientRect){return workletUIModule.getBoundingClientRect(ref);}else{console.warn('For developer: client version is too old, getBoundingClientRect can not work');return zeroRect;}}}",e.__workletHash=7110762991893,e.__location="src/worklet/operateWidgets.ts (26:37)",e.__worklet=!0,e}(),o={offset:0,duration:300,animated:!0,easingFunction:"ease"},s=function(){var e=function(e,t){if(null!=e){var r=Object.assign({},o,t),n=0;"number"==typeof r.top?n=r.top:"number"==typeof r.left&&(n=r.left),r.offset=n,delete r.top,delete r.left,workletUIModule.scrollTo?workletUIModule.scrollTo(e,r):console.warn("For developer: client version is too old, ScrollViewContext.scrollTo can not work")}else console.warn("scrollTo: fail invalid parameter ref")};return e._closure={defaultScrollToOptions:o},e.asString="function _f(ref,options){const{defaultScrollToOptions}=jsThis._closure;{if(ref===undefined||ref===null){console.warn('scrollTo: fail invalid parameter ref');return;}const opts=Object.assign({},defaultScrollToOptions,options);let offset=0;if(typeof opts.top==='number'){offset=opts.top;}else if(typeof opts.left==='number'){offset=opts.left;}opts.offset=offset;delete opts.top;delete opts.left;if(workletUIModule.scrollTo){workletUIModule.scrollTo(ref,opts);}else{console.warn('For developer: client version is too old, ScrollViewContext.scrollTo can not work');}}}",e.__workletHash=0xfc22dfa68fa,e.__location="src/worklet/operateWidgets.ts (58:17)",e.__worklet=!0,e}(),l={scrollTo:s},c="skyline";function u(){return!("skyline"===c)}class d{constructor(e){this.sortedMappers=[],this.mappers=new Map,this._module=void 0,this.updatedSinceLastExecute=!1,this._module=e}startMapper(e){return this.mappers.set(e.id,e),this.updatedSinceLastExecute=!0,e.id}stopMapper(e){this.mappers.delete(e),this.updatedSinceLastExecute=!0}execute(){this.updatedSinceLastExecute&&(this.updateOrder(),this.updatedSinceLastExecute=!1);for(var e=0,t=this.sortedMappers.length;e<t;++e){var r=this.sortedMappers[e];r.dirty&&r.execute()}}updateOrder(){var e=[...this.mappers.values()].map((function(e){return new p(e)})),t={};this.mappers.forEach((function(e){t[e.id]=e}));for(var r=0,n=e.length;r<n;++r){var i=e[r];if(0!==i.mapper.outputs.length)for(var a=0;a<n;++a){var o=e[a];if(r!==a&&0!==o.mapper.inputs.length)for(var s=0,l=i.mapper.outputs.length;s<l;++s)for(var c=0,u=o.mapper.inputs.length;c<u;++c)i.mapper.outputs[s]._id===o.mapper.inputs[c]._id&&i.children.push(o)}}for(var d={},h=1,f=function(t){var r=e.indexOf(t);if(-1!==r){if(++h,e.splice(r,1),0===t.children.length&&e.length>0)return d[t.mapper.id]=h++,void f(e[0]);for(var n=0,i=t.children.length;n<i;++n)f(t.children[n]);d[t.mapper.id]=h++}};e.length;)f(e[0]);var g=Object.keys(d).map((function(e){var t=parseInt(e,10);return[t,d[t]]}));g.sort((function(e,t){return t[1]-e[1]})),this.sortedMappers=[];for(var v=0,m=g.length;v<m;++v){var[y]=g[v];this.sortedMappers.push(t[y])}}get needRunOnRender(){return this.updatedSinceLastExecute}}class p{constructor(e,t=[]){this.mapper=void 0,this.children=void 0,this.mapper=e,this.children=t}}class h{constructor(e,t){this._id=void 0,this._value=void 0,this._setter=void 0,this._animation=null,this._listeners=[],this._id=h.MUTABLE_ID++,this._value=e,this._setter=t}get value(){return this._value}set value(e){this._setter(e)}_setValue(e){this._value!==e&&(this._value=e,this._triggerListener())}addListener(e){this._listeners.push(e)}_triggerListener(){for(var e=0,t=this._listeners.length;e<t;++e)this._listeners[e]()}}h.MUTABLE_ID=1;class f{constructor(e,t,r=[],n=[],i){var a=this;this.id=void 0,this.dirty=void 0,this.flush=void 0,this.inputs=void 0,this.outputs=void 0,this.handler=void 0,this.id=f.MAPPER_ID++,this.dirty=i.immediate,this.flush=i.flush,this.inputs=this.extractMutablesFromArray(r),this.outputs=this.extractMutablesFromArray(n),this.handler=t;var o=function(){"async"===a.flush?(a.dirty=!0,e.maybeRequestRender()):a.execute()};this.inputs.forEach((function(e){e.addListener(o)}))}execute(){this.dirty=!1,this.handler()}extractMutablesFromArray(e){var t=[];return function e(r){null===r||(r instanceof h?t.push(r):Array.isArray(r)?r.forEach((function(t){return e(t)})):"object"==typeof r&&Object.keys(r).forEach((function(t){e(r[t])})))}(e),t}}f.MAPPER_ID=1;class g{constructor(e=!0){this.native=void 0,this.native=e}supported(){var e;return"object"==typeof SkylineGlobal&&!(null===(e=SkylineGlobal)||void 0===e||!e.workletModule)}get nativeModule(){return SkylineGlobal.workletModule}installCoreFunctions(e){return this.nativeModule.installCoreFunctions(e)}makeShareable(e){return this.nativeModule.makeShareable(e)}makeMutable(e){return this.nativeModule.makeMutable(e)}makeRemote(e={}){return this.nativeModule.makeRemote(e)}startMapper(e,t,r=[],n=[],i){return this.nativeModule.startMapper(e,t,r,n,i)}stopMapper(e,t){return this.nativeModule.stopMapper(e,t)}stopMappers(e,t){return this.nativeModule.stopMappers(e,t)}enableMapper(e,t){this.nativeModule.enableMapper(e,t)}disableMapper(e,t){this.nativeModule.disableMapper(e,t)}registerEventHandler(e,t){this.nativeModule.registerEventHandler(e,t)}unregisterEventHandler(e){this.nativeModule.unregisterEventHandler(e)}}u()&&(globalThis._frameTimestamp=null,globalThis.workletUIModule={getCurrentTime:function(){return Date.now()},requestFrame:function(e,t){return 0},cancelFrame:function(e,t){},updateNodeStyle:function(e,t){},setGlobalConsole:function(e){},startUserGesture:function(e){},stopUserGesture:function(e){},navigatorPop:function(e,t){},updateAnimationController:function(e,t,r){},snapshotChangeMode:function(e,t,r){}});var m=new class extends g{constructor(){super(!1),this._valueSetter=void 0,this._renderRequested=!1,this._mapperRegistry=new d(this),this._frames=[],this.timeProvider=void 0,this.timeProvider={now:function(){return Date.now()}}}supported(){return!0}pushFrame(e){this._frames.push(e),this.maybeRequestRender()}getTimestamp(){return this.timeProvider.now()}requestAnimationFrame(e){var t=this;return"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout((function(){e(t.getTimestamp())}),16)}maybeRequestRender(){var e=this;this._renderRequested||(this._renderRequested=!0,this.requestAnimationFrame((function(t){e._renderRequested=!1,e._onRender(e.getTimestamp())})))}_onRender(e){this._mapperRegistry.execute();var t=[...this._frames];this._frames=[];for(var r=0,n=t.length;r<n;++r)t[r](e);this._mapperRegistry.needRunOnRender&&this._mapperRegistry.execute()}installCoreFunctions(e){this._valueSetter=e}makeShareable(e){return e}makeMutable(e){return new h(e,this._valueSetter)}makeRemote(e={}){return e}startMapper(e,t,r=[],n=[],i){var a=new f(this,t,r,n,i),o=this._mapperRegistry.startMapper(a);return this.maybeRequestRender(),o}stopMapper(e,t){this._mapperRegistry.stopMapper(t)}stopMappers(e,t){var r=this;t.forEach((function(e){return r._mapperRegistry.stopMapper(e)}))}enableMapper(e,t){}disableMapper(e,t){}registerEventHandler(e,t){}unregisterEventHandler(e){}},y=new g;function b(){return u()?m:y}v.platform,v.platform;var w="devtools"===v.platform,S=!1,C=function(){var e=function(e,t=!1){if(!e.__worklet){if(t)throw new Error("parameter type error, should use worklet function");return!1}return!0};return e._closure={},e.asString="function _f(func,throwError=false){if(!func.__worklet){if(throwError){throw new Error('parameter type error, should use worklet function');}return false;}return true;}",e.__workletHash=1947773686838,e.__location="src/worklet/util.ts (1:32)",e.__worklet=!0,e}();function k(e){return"function"!=typeof e?e:function(...t){setTimeout((function(){e(...t)}))}}var I="[-+]?\\d*\\.?\\d+",P=I+"%",T={},A=function(){var e=function(){var e=globalThis,t="_uiCachedMatchers";return void 0===e[t]&&(e[t]={}),e[t]};return e._closure={},e.asString='function _f(){const obj=globalThis;const prop="_uiCachedMatchers";if(typeof obj[prop]==="undefined"){obj[prop]={};}return obj[prop];}',e.__workletHash=0x95ce11262e3,e.__location="src/worklet/Colors.ts (11:25)",e.__worklet=!0,e}(),x=function(){var e=function(){function e(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var t=N?A():T;return void 0===t.rgb&&(t.rgb=new RegExp("rgb"+e(I,I,I)),t.rgba=new RegExp("rgba"+e(I,I,I,I)),t.hsl=new RegExp("hsl"+e(I,P,P)),t.hsla=new RegExp("hsla"+e(I,P,P,I)),t.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,t.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,t.hex6=/^#([0-9a-fA-F]{6})$/,t.hex8=/^#([0-9a-fA-F]{8})$/),t};return e._closure={uiCachedMatchers:A,jsCachedMatchers:T,NUMBER:I,PERCENTAGE:P},e.asString='function getMatchers(){const{uiCachedMatchers,jsCachedMatchers,NUMBER,PERCENTAGE}=jsThis._closure;{function call(...args){return"\\\\(\\\\s*("+args.join(")\\\\s*,\\\\s*(")+")\\\\s*\\\\)";}const cachedMatchers=_WORKLET?uiCachedMatchers():jsCachedMatchers;if(cachedMatchers.rgb===undefined){cachedMatchers.rgb=new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER));cachedMatchers.rgba=new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER));cachedMatchers.hsl=new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE));cachedMatchers.hsla=new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER));cachedMatchers.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;cachedMatchers.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;cachedMatchers.hex6=/^#([0-9a-fA-F]{6})$/;cachedMatchers.hex8=/^#([0-9a-fA-F]{8})$/;}return cachedMatchers;}}',e.__workletHash=7548007375135,e.__location="src/worklet/Colors.ts (32:0)",e.__worklet=!0,e}();x();var E={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},M=function(){var e=function(e){var t,r,n,i,a,o,s,l;function c(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function u(e,t,r){var n=r<.5?r*(1+t):r+t-r*t,i=2*r-n,a=c(i,n,e+1/3),o=c(i,n,e),s=c(i,n,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function d(e){var t=Number.parseInt(e,10);return t<0?0:t>255?255:t}function p(e){return(Number.parseFloat(e)%360+360)%360/360}function h(e){var t=Number.parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function f(e){var t=Number.parseFloat(e);return t<0?0:t>100?1:t/100}if("number"==typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!=typeof e)return null;var g,v=x();return(g=null==v||null===(t=v.hex6)||void 0===t?void 0:t.exec(e))?Number.parseInt(g[1]+"ff",16)>>>0:void 0!==E[e]?E[e]:(g=null==v||null===(r=v.rgb)||void 0===r?void 0:r.exec(e))?(d(g[1])<<24|d(g[2])<<16|d(g[3])<<8|255)>>>0:(g=null==v||null===(n=v.rgba)||void 0===n?void 0:n.exec(e))?(d(g[1])<<24|d(g[2])<<16|d(g[3])<<8|h(g[4]))>>>0:(g=null==v||null===(i=v.hex3)||void 0===i?void 0:i.exec(e))?Number.parseInt(g[1]+g[1]+g[2]+g[2]+g[3]+g[3]+"ff",16)>>>0:(g=null==v||null===(a=v.hex8)||void 0===a?void 0:a.exec(e))?Number.parseInt(g[1],16)>>>0:(g=null==v||null===(o=v.hex4)||void 0===o?void 0:o.exec(e))?Number.parseInt(g[1]+g[1]+g[2]+g[2]+g[3]+g[3]+g[4]+g[4],16)>>>0:(g=null==v||null===(s=v.hsl)||void 0===s?void 0:s.exec(e))?(255|u(p(g[1]),f(g[2]),f(g[3])))>>>0:(g=null==v||null===(l=v.hsla)||void 0===l?void 0:l.exec(e))?(u(p(g[1]),f(g[2]),f(g[3]))|h(g[4]))>>>0:null};return e._closure={getMatchers:x,names:E},e.asString='function normalizeColor(color){const{getMatchers,names}=jsThis._closure;{var _matchers$hex,_matchers$rgb,_matchers$rgba,_matchers$hex2,_matchers$hex3,_matchers$hex4,_matchers$hsl,_matchers$hsla;function hue2rgb(p,q,t){if(t<0){t+=1;}if(t>1){t-=1;}if(t<1/6){return p+(q-p)*6*t;}if(t<1/2){return q;}if(t<2/3){return p+(q-p)*(2/3-t)*6;}return p;}function hslToRgb(h,s,l){const q=l<0.5?l*(1+s):l+s-l*s;const p=2*l-q;const r=hue2rgb(p,q,h+1/3);const g=hue2rgb(p,q,h);const b=hue2rgb(p,q,h-1/3);return Math.round(r*255)<<24|Math.round(g*255)<<16|Math.round(b*255)<<8;}function parse255(str){const int=Number.parseInt(str,10);if(int<0){return 0;}if(int>255){return 255;}return int;}function parse360(str){const int=Number.parseFloat(str);return(int%360+360)%360/360;}function parse1(str){const num=Number.parseFloat(str);if(num<0){return 0;}if(num>1){return 255;}return Math.round(num*255);}function parsePercentage(str){const int=Number.parseFloat(str);if(int<0){return 0;}if(int>100){return 1;}return int/100;}if(typeof color==="number"){if(color>>>0===color&&color>=0&&color<=0xffffffff){return color;}return null;}if(typeof color!=="string"){return null;}const matchers=getMatchers();let match;if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex=matchers.hex6)===null||_matchers$hex===void 0?void 0:_matchers$hex.exec(color)){return Number.parseInt(match[1]+"ff",16)>>>0;}if(names[color]!==undefined){return names[color];}if(match=matchers===null||matchers===void 0?void 0:(_matchers$rgb=matchers.rgb)===null||_matchers$rgb===void 0?void 0:_matchers$rgb.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|0x000000ff)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$rgba=matchers.rgba)===null||_matchers$rgba===void 0?void 0:_matchers$rgba.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|parse1(match[4]))>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex2=matchers.hex3)===null||_matchers$hex2===void 0?void 0:_matchers$hex2.exec(color)){return Number.parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+"ff",16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex3=matchers.hex8)===null||_matchers$hex3===void 0?void 0:_matchers$hex3.exec(color)){return Number.parseInt(match[1],16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex4=matchers.hex4)===null||_matchers$hex4===void 0?void 0:_matchers$hex4.exec(color)){return Number.parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+match[4]+match[4],16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hsl=matchers.hsl)===null||_matchers$hsl===void 0?void 0:_matchers$hsl.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|0x000000ff)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hsla=matchers.hsla)===null||_matchers$hsla===void 0?void 0:_matchers$hsla.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|parse1(match[4]))>>>0;}return null;}}',e.__workletHash=8257527620776,e.__location="src/worklet/Colors.ts (220:7)",e.__worklet=!0,e}(),R=function(){var e=function(e){return(e>>24&255)/255};return e._closure={},e.asString="function _f(c){return(c>>24&255)/255;}",e.__workletHash=0xd60a2a09964,e.__location="src/worklet/Colors.ts (403:23)",e.__worklet=!0,e}(),D=function(){var e=function(e){return e>>16&255};return e._closure={},e.asString="function _f(c){return c>>16&255;}",e.__workletHash=0xba6200c4759,e.__location="src/worklet/Colors.ts (408:19)",e.__worklet=!0,e}(),O=function(){var e=function(e){return e>>8&255};return e._closure={},e.asString="function _f(c){return c>>8&255;}",e.__workletHash=3499836539046,e.__location="src/worklet/Colors.ts (413:21)",e.__worklet=!0,e}(),L=function(){var e=function(e){return 255&e};return e._closure={},e.asString="function _f(c){return c&255;}",e.__workletHash=0xd6ef76daabe,e.__location="src/worklet/Colors.ts (418:20)",e.__worklet=!0,e}(),B=!1;function $(e){B=!0;var t=e();return B=!1,t}var F=function(){var e=function(e){if(!e.isHigherOrder){var t=e.onStart,r=e.onFrame,n=Object.assign({},e);delete n.callback;var i=function(e,t){var n,i;e.current=e.strippedCurrent;var a=r(e,t);return e.strippedCurrent=e.current,e.current=(null!==(n=e.__prefix)&&void 0!==n?n:"")+e.current+(null!==(i=e.__suffix)&&void 0!==i?i:""),a},a=["H","S","V","A"],o=function(e,t){var r=u(e.current),n=[],i=1;return a.forEach((function(a,o){e[a].current=r[o],i&=e[a].onFrame(e[a],t),n.push(e[a].current)})),e.current=d(n),Boolean(i)},s=function(e,t){var r=0;return e.current.forEach((function(n,i){r&=e[i].onFrame(e[i],t)(e.current)[i]=e[i].current})),Boolean(r)};e.onStart=function(e,r,l,h){return c(r)?(function(e,t,r,i){var o,s,l,p=[];c(t)&&(s=u(e.current),o=u(t),e.toValue&&(l=u(e.toValue))),a.forEach((function(t,a){e[t]=Object.assign({},n),e[t].current=s[a],e[t].toValue=l?l[a]:void 0,e[t].onStart(e[t],o[a],r,i?i[t]:void 0),p.push(e[t].current)})),e.current=d(p)}(e,r,l,h),void(e.onFrame=o)):Array.isArray(r)?(function(e,t,r,i){t.forEach((function(t,a){e[a]=Object.assign({},n),e[a].current=t,e[a].toValue=e.toValue[a],e[a].onStart(e[a],t,r,i?i[a]:void 0)})),e.current=t}(e,r,l,h),void(e.onFrame=s)):"string"==typeof r?(function(e,r,n,i){var a,o,{prefix:s,suffix:l,strippedValue:c}=p(r);e.__prefix=s,e.__suffix=l,e.strippedCurrent=c;var u,d,{strippedValue:h}=p(e.toValue);e.current=c,e.startValue=c,e.toValue=h,i&&i!==e&&(i.current=i.strippedCurrent),t(e,c,n,i),e.current=(null!==(a=e.__prefix)&&void 0!==a?a:"")+e.current+(null!==(o=e.__suffix)&&void 0!==o?o:""),i&&i!==e&&(i.current=(null!==(u=i.__prefix)&&void 0!==u?u:"")+i.current+(null!==(d=i.__suffix)&&void 0!==d?d:""))}(e,r,l,h),void(e.onFrame=i)):void t(e,r,l,h)}}function l(e){if(null==e||"number"==typeof e)return e;var t=M(e);return null!=t?"number"!=typeof t?null:t=(t<<24|t>>>8)>>>0:void 0}function c(e){if("string"!=typeof e)return!1;var t=l(e);return null!=t}function u(e){var t=l(e),r=(t>>>24)/255,n=t<<8>>>24,i=t<<16>>>24,a=t<<24>>>24,{h:o,s:s,v:c}=function(e,t,r){1===arguments.length&&(t=e.g,r=e.b,e=e.r);var n,i=Math.max(e,t,r),a=Math.min(e,t,r),o=i-a,s=0===i?0:o/i,l=i/255;switch(i){default:case a:n=0;break;case e:n=t-r+o*(t<r?6:0),n/=6*o;break;case t:n=r-e+2*o,n/=6*o;break;case r:n=e-t+4*o,n/=6*o}return{h:n,s:s,v:l}}(n,i,a);return[o,s,c,r]}function d(e){var{r:t,g:r,b:n}=function(e,t,r){var n,i,a,o,s,l,c,u;1===arguments.length&&(t=e.s,r=e.v,e=e.h);switch(o=Math.floor(6*e),l=r*(1-t),c=r*(1-(s=6*e-o)*t),u=r*(1-(1-s)*t),o%6){case 0:n=r,i=u,a=l;break;case 1:n=c,i=r,a=l;break;case 2:n=l,i=r,a=u;break;case 3:n=l,i=c,a=r;break;case 4:n=u,i=l,a=r;break;case 5:n=r,i=l,a=c}return{r:Math.round(255*n),g:Math.round(255*i),b:Math.round(255*a)}}(e[0],e[1],e[2]);return`rgba(${t}, ${r}, ${n}, ${e[3]})`}function p(e){if("string"==typeof e){var t,r=e.match(/([A-Za-z]*)(-?\d*\.?\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!r)throw Error("Couldn't parse animation value. Check if there isn't any typo.");var n=r[1],i=r[4],a=r[2]+(null!==(t=r[3])&&void 0!==t?t:"");return{prefix:n,suffix:i,strippedValue:parseFloat(a)}}return{strippedValue:e}}};return e._closure={normalizeColor:M},e.asString="function decorateAnimation(animation){const{normalizeColor}=jsThis._closure;{if(animation.isHigherOrder){return;}function processColorInitially(color){if(color===null||color===undefined||typeof color===\"number\"){return color;}let normalizedColor=normalizeColor(color);if(normalizedColor===null||normalizedColor===undefined){return undefined;}if(typeof normalizedColor!==\"number\"){return null;}normalizedColor=(normalizedColor<<24|normalizedColor>>>8)>>>0;return normalizedColor;}function isColor(value){if(typeof value!==\"string\"){return false;}const color=processColorInitially(value);return color!==undefined&&color!==null;}function convertToHSVA(color){const processedColor=processColorInitially(color);const a=(processedColor>>>24)/255;const r=processedColor<<8>>>24;const g=processedColor<<16>>>24;const b=processedColor<<24>>>24;const{h:h,s:s,v:v}=RGBtoHSV(r,g,b);return[h,s,v,a];}function toRGBA(HSVA){const{r:r,g:g,b:b}=HSVtoRGB(HSVA[0],HSVA[1],HSVA[2]);return\"rgba(\"+r+\", \"+g+\", \"+b+\", \"+HSVA[3]+\")\";}function recognizePrefixSuffix(value){if(typeof value==='string'){var _match$;const match=value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!match){throw Error(\"Couldn't parse animation value. Check if there isn't any typo.\");}const prefix=match[1];const suffix=match[4];const number=match[2]+((_match$=match[3])!==null&&_match$!==void 0?_match$:'');return{prefix:prefix,suffix:suffix,strippedValue:parseFloat(number)};}else{return{strippedValue:value};}}function RGBtoHSV(r,g,b){if(arguments.length===1){g=r.g;b=r.b;r=r.r;}const max=Math.max(r,g,b);const min=Math.min(r,g,b);const d=max-min;const s=max===0?0:d/max;const v=max/255;let h;switch(max){default:case min:h=0;break;case r:h=g-b+d*(g<b?6:0);h/=6*d;break;case g:h=b-r+d*2;h/=6*d;break;case b:h=r-g+d*4;h/=6*d;break;}return{h:h,s:s,v:v};}function HSVtoRGB(h,s,v){var r,g,b,i,f,p,q,t;if(arguments.length===1){s=h.s;v=h.v;h=h.h;}i=Math.floor(h*6);f=h*6-i;p=v*(1-s);q=v*(1-f*s);t=v*(1-(1-f)*s);switch(i%6){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;case 5:r=v,g=p,b=q;break;}return{r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)};}const baseOnStart=animation.onStart;const baseOnFrame=animation.onFrame;const animationCopy=Object.assign({},animation);delete animationCopy.callback;const prefNumberSuffOnStart=function(animation,value,timestamp,previousAnimation){var _animation$__prefix,_animation$__suffix;const{prefix:prefix,suffix:suffix,strippedValue:strippedValue}=recognizePrefixSuffix(value);animation.__prefix=prefix;animation.__suffix=suffix;animation.strippedCurrent=strippedValue;const{strippedValue:strippedToValue}=recognizePrefixSuffix(animation.toValue);animation.current=strippedValue;animation.startValue=strippedValue;animation.toValue=strippedToValue;if(previousAnimation&&previousAnimation!==animation){previousAnimation.current=previousAnimation.strippedCurrent;}baseOnStart(animation,strippedValue,timestamp,previousAnimation);animation.current=((_animation$__prefix=animation.__prefix)!==null&&_animation$__prefix!==void 0?_animation$__prefix:'')+animation.current+((_animation$__suffix=animation.__suffix)!==null&&_animation$__suffix!==void 0?_animation$__suffix:'');if(previousAnimation&&previousAnimation!==animation){var _previousAnimation$__,_previousAnimation$__2;previousAnimation.current=((_previousAnimation$__=previousAnimation.__prefix)!==null&&_previousAnimation$__!==void 0?_previousAnimation$__:'')+previousAnimation.current+((_previousAnimation$__2=previousAnimation.__suffix)!==null&&_previousAnimation$__2!==void 0?_previousAnimation$__2:'');}};const prefNumberSuffOnFrame=function(animation,timestamp){var _animation$__prefix2,_animation$__suffix2;animation.current=animation.strippedCurrent;const res=baseOnFrame(animation,timestamp);animation.strippedCurrent=animation.current;animation.current=((_animation$__prefix2=animation.__prefix)!==null&&_animation$__prefix2!==void 0?_animation$__prefix2:'')+animation.current+((_animation$__suffix2=animation.__suffix)!==null&&_animation$__suffix2!==void 0?_animation$__suffix2:'');return res;};const tab=['H','S','V','A'];const colorOnStart=function(animation,value,timestamp,previousAnimation){let HSVAValue;let HSVACurrent;let HSVAToValue;const res=[];if(isColor(value)){HSVACurrent=convertToHSVA(animation.current);HSVAValue=convertToHSVA(value);if(animation.toValue){HSVAToValue=convertToHSVA(animation.toValue);}}tab.forEach(function(i,index){animation[i]=Object.assign({},animationCopy);animation[i].current=HSVACurrent[index];animation[i].toValue=HSVAToValue?HSVAToValue[index]:undefined;animation[i].onStart(animation[i],HSVAValue[index],timestamp,previousAnimation?previousAnimation[i]:undefined);res.push(animation[i].current);});animation.current=toRGBA(res);};const colorOnFrame=function(animation,timestamp){const HSVACurrent=convertToHSVA(animation.current);const res=[];let finished=1;tab.forEach(function(i,index){animation[i].current=HSVACurrent[index];finished&=animation[i].onFrame(animation[i],timestamp);res.push(animation[i].current);});animation.current=toRGBA(res);return Boolean(finished);};const arrayOnStart=function(animation,value,timestamp,previousAnimation){value.forEach(function(v,i){animation[i]=Object.assign({},animationCopy);animation[i].current=v;animation[i].toValue=animation.toValue[i];animation[i].onStart(animation[i],v,timestamp,previousAnimation?previousAnimation[i]:undefined);});animation.current=value;};const arrayOnFrame=function(animation,timestamp){let finished=0;animation.current.forEach(function(v,i){finished&=animation[i].onFrame(animation[i],timestamp)(animation.current)[i]=animation[i].current;});return Boolean(finished);};animation.onStart=function(animation,value,timestamp,previousAnimation){if(isColor(value)){colorOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=colorOnFrame;return;}else if(Array.isArray(value)){arrayOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=arrayOnFrame;return;}else if(typeof value==='string'){prefNumberSuffOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=prefNumberSuffOnFrame;return;}baseOnStart(animation,value,timestamp,previousAnimation);};}}",e.__workletHash=9328732531647,e.__location="src/worklet/animation/util.ts (42:0)",e.__worklet=!0,e}(),j=function(){var e=function(e,t){if(B)return e;var r=function(){var e=function(){var e=t();return F(e),e};return e._closure={factory:t,decorateAnimation:F},e.asString="function _f(){const{factory,decorateAnimation}=jsThis._closure;{const animation=factory();decorateAnimation(animation);return animation;}}",e.__workletHash=2441595458132,e.__location="src/worklet/animation/util.ts (391:17)",e.__worklet=!0,e}();return N?r():r};return e._closure={IN_STYLE_UPDATER:B,decorateAnimation:F},e.asString="function defineAnimation(starting,factory){const{IN_STYLE_UPDATER,decorateAnimation}=jsThis._closure;{if(IN_STYLE_UPDATER){return starting;}const create=function(){'worklet';const animation=factory();decorateAnimation(animation);return animation;};if(_WORKLET){return create();}return create;}}",e.__workletHash=0xde62656a344,e.__location="src/worklet/animation/util.ts (384:7)",e.__worklet=!0,e}(),W=function(){var e=function(e){e.value=e.value};return e._closure={},e.asString="function cancelAnimation(sharedValue){sharedValue.value=sharedValue.value;}",e.__workletHash=0xdb1b4231136,e.__location="src/worklet/animation/util.ts (405:7)",e.__worklet=!0,e}(),V=(function(){var e=function(e,t){return j(e,function(){var r=function(){return N||"function"!=typeof t||(t=t()),t.current=e,t};return r._closure={animation:t,startValue:e},r.asString="function _f(){const{animation,startValue}=jsThis._closure;{if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;}}",r.__workletHash=5374403234008,r.__location="src/worklet/animation/util.ts (417:37)",r.__worklet=!0,r}())};e._closure={defineAnimation:j},e.asString="function withStartValue(startValue,animation){const{defineAnimation}=jsThis._closure;{return defineAnimation(startValue,function(){'worklet';if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;});}}",e.__workletHash=5100017907325,e.__location="src/worklet/animation/util.ts (412:7)",e.__worklet=!0}(),function(){var e=function(e,t,r,n){var i=.1,a=function(){var e=function(e){return e};return e._closure={},e.asString="function LinearEasing(x){return x;}",e.__workletHash=3962143445177,e.__location="src/worklet/Bezier.ts (25:2)",e.__worklet=!0,e}();if(!(e>=0&&e<=1&&r>=0&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&r===n)return a;var o,s,l,c=new Array(11);for(var u=0;u<11;++u)c[u]=(o=u*i,((function(e,t){return 1-3*t+3*e}(s=e,l=r)*o+function(e,t){return 3*t-6*e}(s,l))*o+function(e){return 3*e}(s))*o);return function(){var a=function(a){if(e===t&&r===n)return a;if(0===a)return 0;if(1===a)return 1;function o(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function l(e){return 3*e}function u(e,t,r){return((o(t,r)*e+s(t,r))*e+l(t))*e}function d(e,t,r){return 3*o(t,r)*e*e+2*s(t,r)*e+l(t)}return u(function(t){for(var n=0,a=1;10!==a&&c[a]<=t;++a)n+=i;--a;var o=n+(t-c[a])/(c[a+1]-c[a])*i,s=d(o,e,r);return s>=.001?function(e,t,r,n){for(var i=0;i<4;++i){var a=d(t,r,n);if(0===a)return t;t-=(u(t,r,n)-e)/a}return t}(t,o,e,r):0===s?o:function(e,t,r,n,i){var a,o,s=0;do{(a=u(o=t+(r-t)/2,n,i)-e)>0?r=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,n,n+i,e,r)}(a),t,n)};return a._closure={mX1:e,mY1:t,mX2:r,mY2:n,SUBDIVISION_PRECISION:1e-7,SUBDIVISION_MAX_ITERATIONS:10,NEWTON_ITERATIONS:4,kSplineTableSize:11,sampleValues:c,kSampleStepSize:i,NEWTON_MIN_SLOPE:.001},a.asString="function BezierEasing(x){const{mX1,mY1,mX2,mY2,SUBDIVISION_PRECISION,SUBDIVISION_MAX_ITERATIONS,NEWTON_ITERATIONS,kSplineTableSize,sampleValues,kSampleStepSize,NEWTON_MIN_SLOPE}=jsThis._closure;{if(mX1===mY1&&mX2===mY2){return x;}if(x===0){return 0;}if(x===1){return 1;}function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}function getSlope(aT,aA1,aA2){return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}function binarySubdivide(aX,aA,aB,mX1,mX2){let currentX;let currentT;let i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){for(let i=0;i<NEWTON_ITERATIONS;++i){const currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0){return aGuessT;}const currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}function getTForX(aX){let intervalStart=0.0;let currentSample=1;const lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&sampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;const dist=(aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample]);const guessForT=intervalStart+dist*kSampleStepSize;const initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}else if(initialSlope===0.0){return guessForT;}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}}return calcBezier(getTForX(x),mY1,mY2);}}",a.__workletHash=0xb80399b2bfd,a.__location="src/worklet/Bezier.ts (67:9)",a.__worklet=!0,a}()};return e._closure={},e.asString="function Bezier(mX1,mY1,mX2,mY2){const NEWTON_ITERATIONS=4;const NEWTON_MIN_SLOPE=0.001;const SUBDIVISION_PRECISION=0.0000001;const SUBDIVISION_MAX_ITERATIONS=10;const kSplineTableSize=11;const kSampleStepSize=1.0/(kSplineTableSize-1.0);function LinearEasing(x){'worklet';return x;}if(!(mX1>=0&&mX1<=1&&mX2>=0&&mX2<=1)){throw new Error('bezier x values must be in [0, 1] range');}if(mX1===mY1&&mX2===mY2){return LinearEasing;}const sampleValues=new Array(kSplineTableSize);function calcBezier(aT,aA1,aA2){function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}for(let i=0;i<kSplineTableSize;++i){sampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2);}return function BezierEasing(x){'worklet';if(mX1===mY1&&mX2===mY2){return x;}if(x===0){return 0;}if(x===1){return 1;}function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}function getSlope(aT,aA1,aA2){return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}function binarySubdivide(aX,aA,aB,mX1,mX2){let currentX;let currentT;let i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){for(let i=0;i<NEWTON_ITERATIONS;++i){const currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0){return aGuessT;}const currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}function getTForX(aX){let intervalStart=0.0;let currentSample=1;const lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&sampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;const dist=(aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample]);const guessForT=intervalStart+dist*kSampleStepSize;const initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}else if(initialSlope===0.0){return guessForT;}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}}return calcBezier(getTForX(x),mY1,mY2);};}",e.__workletHash=0xe9f398b7bf9,e.__location="src/worklet/Bezier.ts (9:7)",e.__worklet=!0,e}()),U=function(){var e=function(e){return e};return e._closure={},e.asString="function linear(t){return t;}",e.__workletHash=7988822508142,e.__location="src/worklet/Easing.ts (65:0)",e.__worklet=!0,e}(),z=function(){var e=function(e){return V(.42,0,1,1)(e)};return e._closure={Bezier:V},e.asString="function ease(t){const{Bezier}=jsThis._closure;{return Bezier(0.42,0,1,1)(t);}}",e.__workletHash=0xbdc195724f9,e.__location="src/worklet/Easing.ts (76:0)",e.__worklet=!0,e}(),q=function(){var e=function(e){return e*e};return e._closure={},e.asString="function quad(t){return t*t;}",e.__workletHash=8628631460172,e.__location="src/worklet/Easing.ts (87:0)",e.__worklet=!0,e}(),H=function(){var e=function(e){return e*e*e};return e._closure={},e.asString="function cubic(t){return t*t*t;}",e.__workletHash=9374441307661,e.__location="src/worklet/Easing.ts (98:0)",e.__worklet=!0,e}(),G=function(){var e=function(e){return function(){var t=function(t){return Math.pow(t,e)};return t._closure={n:e},t.asString="function _f(t){const{n}=jsThis._closure;{return Math.pow(t,n);}}",t.__workletHash=1121339919789,t.__location="src/worklet/Easing.ts (111:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function poly(n){return function(t){'worklet';return Math.pow(t,n);};}",e.__workletHash=0xf0e21d4d631,e.__location="src/worklet/Easing.ts (109:0)",e.__worklet=!0,e}(),K=function(){var e=function(e){return 1-Math.cos(e*Math.PI/2)};return e._closure={},e.asString="function sin(t){return 1-Math.cos(t*Math.PI/2);}",e.__workletHash=8621899987563,e.__location="src/worklet/Easing.ts (122:0)",e.__worklet=!0,e}(),J=function(){var e=function(e){return 1-Math.sqrt(1-e*e)};return e._closure={},e.asString="function circle(t){return 1-Math.sqrt(1-t*t);}",e.__workletHash=0xe74766c81e4,e.__location="src/worklet/Easing.ts (132:0)",e.__worklet=!0,e}(),X=function(){var e=function(e){return Math.pow(2,10*(e-1))};return e._closure={},e.asString="function exp(t){return Math.pow(2,10*(t-1));}",e.__workletHash=0xe77bf377b41,e.__location="src/worklet/Easing.ts (142:0)",e.__worklet=!0,e}(),Y=function(){var e=function(e=1){var t=e*Math.PI;return function(){var e=function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)};return e._closure={p:t},e.asString="function _f(t){const{p}=jsThis._closure;{return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*p);}}",e.__workletHash=8897284077766,e.__location="src/worklet/Easing.ts (160:9)",e.__worklet=!0,e}()};return e._closure={},e.asString="function elastic(bounciness=1){const p=bounciness*Math.PI;return function(t){'worklet';return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*p);};}",e.__workletHash=0xe75c59c1497,e.__location="src/worklet/Easing.ts (157:0)",e.__worklet=!0,e}(),Q=function(){var e=function(e=1.70158){return function(t){return t*t*((e+1)*t-e)}};return e._closure={},e.asString="function back(s=1.70158){return function(t){return t*t*((s+1)*t-s);};}",e.__workletHash=0xffa86df3d1b,e.__location="src/worklet/Easing.ts (174:0)",e.__worklet=!0,e}(),Z=function(){var e=function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var r=e-2.25/2.75;return 7.5625*r*r+.9375}var n=e-2.625/2.75;return 7.5625*n*n+.984375};return e._closure={},e.asString="function bounce(t){if(t<1/2.75){return 7.5625*t*t;}if(t<2/2.75){const t2=t-1.5/2.75;return 7.5625*t2*t2+0.75;}if(t<2.5/2.75){const t2=t-2.25/2.75;return 7.5625*t2*t2+0.9375;}const t2=t-2.625/2.75;return 7.5625*t2*t2+0.984375;}",e.__workletHash=5721637210615,e.__location="src/worklet/Easing.ts (184:0)",e.__worklet=!0,e}(),ee=function(){var e=function(e,t,r,n){console.warn("For developer:Easing.bezier is deprecated, use Easing.cubicBezier instead");var i=function(){var i=function(){return V(e,t,r,n)};return i._closure={Bezier:V,x1:e,y1:t,x2:r,y2:n},i.asString="function _f(){const{Bezier,x1,y1,x2,y2}=jsThis._closure;{return Bezier(x1,y1,x2,y2);}}",i.__workletHash=4879686787739,i.__location="src/worklet/Easing.ts (219:18)",i.__worklet=!0,i}();return{factory:i}};return e._closure={Bezier:V},e.asString="function bezier(x1,y1,x2,y2){const{Bezier}=jsThis._closure;{console.warn('For developer:Easing.bezier is deprecated, use Easing.cubicBezier instead');const factory=function(){'worklet';return Bezier(x1,y1,x2,y2);};return{factory:factory};}}",e.__workletHash=0xd05b5821e71,e.__location="src/worklet/Easing.ts (211:0)",e.__worklet=!0,e}(),te=function(){var e=function(e,t,r,n){return V(e,t,r,n)};return e._closure={Bezier:V},e.asString="function cubicBezier(x1,y1,x2,y2){const{Bezier}=jsThis._closure;{return Bezier(x1,y1,x2,y2);}}",e.__workletHash=5163284966067,e.__location="src/worklet/Easing.ts (229:0)",e.__worklet=!0,e}(),re=function(){var e=function(e){return e};return e._closure={},e.asString="function in_(easing){return easing;}",e.__workletHash=1837493474379,e.__location="src/worklet/Easing.ts (242:0)",e.__worklet=!0,e}(),ne=function(){var e=function(e){return function(){var t=function(t){return 1-e(1-t)};return t._closure={easing:e},t.asString="function _f(t){const{easing}=jsThis._closure;{return 1-easing(1-t);}}",t.__workletHash=5726884014519,t.__location="src/worklet/Easing.ts (252:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function out(easing){return function(t){'worklet';return 1-easing(1-t);};}",e.__workletHash=7718549646703,e.__location="src/worklet/Easing.ts (250:0)",e.__worklet=!0,e}(),ie=function(){var e=function(e){return function(){var t=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2};return t._closure={easing:e},t.asString="function _f(t){const{easing}=jsThis._closure;{if(t<0.5){return easing(t*2)/2;}return 1-easing((1-t)*2)/2;}}",t.__workletHash=2325007799982,t.__location="src/worklet/Easing.ts (265:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function inOut(easing){return function(t){'worklet';if(t<0.5){return easing(t*2)/2;}return 1-easing((1-t)*2)/2;};}",e.__workletHash=7048715165105,e.__location="src/worklet/Easing.ts (263:0)",e.__worklet=!0,e}(),ae={linear:U,ease:z,quad:q,cubic:H,poly:G,sin:K,circle:J,exp:X,elastic:Y,back:Q,bounce:Z,bezier:ee,cubicBezier:te,in:re,out:ne,inOut:ie},oe=function(){var e=function(e,t,r){return"function"==typeof r&&(C(r)||console.warn("The callback parameter of timing should be a worklet function")),j(e,function(){var n=function(){var n={duration:300,easing:ae.inOut(ae.quad)};return t&&Object.keys(t).forEach((function(e){return n[e]=t[e]})),{type:"timing",onFrame:function(e,t){var{toValue:r,startTime:i,startValue:a}=e,o=t-i;if(o>=n.duration)return e.startTime=0,e.current=r,!0;var s=e.easing(o/n.duration);return e.current=a+(r-a)*s,!1},onStart:function(t,r,i,a){a&&"timing"===a.type&&a.toValue===e&&a.startTime?(t.startTime=a.startTime,t.startValue=a.startValue):(t.startTime=i,t.startValue=r),t.current=r,"object"==typeof n.easing?t.easing=n.easing.factory():t.easing=n.easing},progress:0,toValue:e,startValue:0,startTime:0,easing:function(){return 0},current:e,callback:r}};return n._closure={Easing:{inOut:ae.inOut,quad:ae.quad},userConfig:t,toValue:e,callback:r},n.asString="function _f(){const{Easing,userConfig,toValue,callback}=jsThis._closure;{const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:onFrame,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};}}",n.__workletHash=8710674338333,n.__location="src/worklet/animation/timing.ts (39:51)",n.__worklet=!0,n}())};return e._closure={checkWorkletFunc:C,defineAnimation:j,Easing:{inOut:ae.inOut,quad:ae.quad}},e.asString="function timing(toValue,userConfig,callback){const{checkWorkletFunc,defineAnimation,Easing}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of timing should be a worklet function');}}return defineAnimation(toValue,function(){'worklet';const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:onFrame,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};});}}",e.__workletHash=0xc4dbc79e660,e.__location="src/worklet/animation/timing.ts (26:7)",e.__worklet=!0,e}(),se=function(){var e=function(e,t,r){return"function"==typeof r&&(C(r)||console.warn("The callback parameter of spring should be a worklet function")),j(e,function(){var n=function(){var n={damping:10,mass:1,stiffness:100,overshootClamping:!1,restDisplacementThreshold:.01,restSpeedThreshold:2,velocity:0};return t&&Object.keys(t).forEach((function(e){return n[e]=t[e]})),{onFrame:function(e,t){var{toValue:r,lastTimestamp:i,current:a,velocity:o}=e,s=Math.min(t-i,64);e.lastTimestamp=t;var l=n.damping,c=n.mass,u=n.stiffness,d=-o,p=r-a,h=l/(2*Math.sqrt(u*c)),f=Math.sqrt(u/c),g=f*Math.sqrt(1-h**2),v=s/1e3,m=Math.sin(g*v),y=Math.cos(g*v),b=Math.exp(-h*f*v),_=b*(m*((d+h*f*p)/g)+p*y),w=r-_,S=h*f*_-b*(y*(d+h*f*p)-g*p*m),C=Math.exp(-f*v),k=r-C*(p+(d+f*p)*v),I=C*(d*(v*f-1)+v*p*f*f),P=Math.abs(o)<n.restSpeedThreshold,T=0===n.stiffness||Math.abs(r-a)<n.restDisplacementThreshold;return h<1?(e.current=w,e.velocity=S):(e.current=k,e.velocity=I),!!(n.overshootClamping&&0!==n.stiffness&&(a<r?e.current>r:e.current<r)||P&&T)&&(0!==n.stiffness&&(e.velocity=0,e.current=r),e.lastTimestamp=0,!0)},onStart:function(e,t,r,n){e.current=t,n?(e.velocity=n.velocity||e.velocity||0,e.lastTimestamp=n.lastTimestamp||r):e.lastTimestamp=r},toValue:e,velocity:n.velocity||0,current:e,callback:r,lastTimestamp:0}};return n._closure={userConfig:t,toValue:e,callback:r},n.asString="function _f(){const{userConfig,toValue,callback}=jsThis._closure;{const config={damping:10,mass:1,stiffness:100,overshootClamping:false,restDisplacementThreshold:0.01,restSpeedThreshold:2,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,lastTimestamp:lastTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);animation.lastTimestamp=now;const c=config.damping;const m=config.mass;const k=config.stiffness;const v0=-velocity;const x0=toValue-current;const zeta=c/(2*Math.sqrt(k*m));const omega0=Math.sqrt(k/m);const omega1=omega0*Math.sqrt(1-zeta**2);const t=deltaTime/1000;const sin1=Math.sin(omega1*t);const cos1=Math.cos(omega1*t);const underDampedEnvelope=Math.exp(-zeta*omega0*t);const underDampedFrag1=underDampedEnvelope*(sin1*((v0+zeta*omega0*x0)/omega1)+x0*cos1);const underDampedPosition=toValue-underDampedFrag1;const underDampedVelocity=zeta*omega0*underDampedFrag1-underDampedEnvelope*(cos1*(v0+zeta*omega0*x0)-omega1*x0*sin1);const criticallyDampedEnvelope=Math.exp(-omega0*t);const criticallyDampedPosition=toValue-criticallyDampedEnvelope*(x0+(v0+omega0*x0)*t);const criticallyDampedVelocity=criticallyDampedEnvelope*(v0*(t*omega0-1)+t*x0*omega0*omega0);const isOvershooting=function(){if(config.overshootClamping&&config.stiffness!==0){return current<toValue?animation.current>toValue:animation.current<toValue;}else{return false;}};const isVelocity=Math.abs(velocity)<config.restSpeedThreshold;const isDisplacement=config.stiffness===0||Math.abs(toValue-current)<config.restDisplacementThreshold;if(zeta<1){animation.current=underDampedPosition;animation.velocity=underDampedVelocity;}else{animation.current=criticallyDampedPosition;animation.velocity=criticallyDampedVelocity;}if(isOvershooting()||isVelocity&&isDisplacement){if(config.stiffness!==0){animation.velocity=0;animation.current=toValue;}animation.lastTimestamp=0;return true;}return false;}function onStart(animation,value,now,previousAnimation){animation.current=value;if(previousAnimation){animation.velocity=previousAnimation.velocity||animation.velocity||0;animation.lastTimestamp=previousAnimation.lastTimestamp||now;}else{animation.lastTimestamp=now;}}return{onFrame:onFrame,onStart:onStart,toValue:toValue,velocity:config.velocity||0,current:toValue,callback:callback,lastTimestamp:0};}}",n.__workletHash=5222183752767,n.__location="src/worklet/animation/spring.ts (46:51)",n.__worklet=!0,n}())};return e._closure={checkWorkletFunc:C,defineAnimation:j},e.asString="function spring(toValue,userConfig,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of spring should be a worklet function');}}return defineAnimation(toValue,function(){'worklet';const config={damping:10,mass:1,stiffness:100,overshootClamping:false,restDisplacementThreshold:0.01,restSpeedThreshold:2,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,lastTimestamp:lastTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);animation.lastTimestamp=now;const c=config.damping;const m=config.mass;const k=config.stiffness;const v0=-velocity;const x0=toValue-current;const zeta=c/(2*Math.sqrt(k*m));const omega0=Math.sqrt(k/m);const omega1=omega0*Math.sqrt(1-zeta**2);const t=deltaTime/1000;const sin1=Math.sin(omega1*t);const cos1=Math.cos(omega1*t);const underDampedEnvelope=Math.exp(-zeta*omega0*t);const underDampedFrag1=underDampedEnvelope*(sin1*((v0+zeta*omega0*x0)/omega1)+x0*cos1);const underDampedPosition=toValue-underDampedFrag1;const underDampedVelocity=zeta*omega0*underDampedFrag1-underDampedEnvelope*(cos1*(v0+zeta*omega0*x0)-omega1*x0*sin1);const criticallyDampedEnvelope=Math.exp(-omega0*t);const criticallyDampedPosition=toValue-criticallyDampedEnvelope*(x0+(v0+omega0*x0)*t);const criticallyDampedVelocity=criticallyDampedEnvelope*(v0*(t*omega0-1)+t*x0*omega0*omega0);const isOvershooting=function(){if(config.overshootClamping&&config.stiffness!==0){return current<toValue?animation.current>toValue:animation.current<toValue;}else{return false;}};const isVelocity=Math.abs(velocity)<config.restSpeedThreshold;const isDisplacement=config.stiffness===0||Math.abs(toValue-current)<config.restDisplacementThreshold;if(zeta<1){animation.current=underDampedPosition;animation.velocity=underDampedVelocity;}else{animation.current=criticallyDampedPosition;animation.velocity=criticallyDampedVelocity;}if(isOvershooting()||isVelocity&&isDisplacement){if(config.stiffness!==0){animation.velocity=0;animation.current=toValue;}animation.lastTimestamp=0;return true;}return false;}function onStart(animation,value,now,previousAnimation){animation.current=value;if(previousAnimation){animation.velocity=previousAnimation.velocity||animation.velocity||0;animation.lastTimestamp=previousAnimation.lastTimestamp||now;}else{animation.lastTimestamp=now;}}return{onFrame:onFrame,onStart:onStart,toValue:toValue,velocity:config.velocity||0,current:toValue,callback:callback,lastTimestamp:0};});}}",e.__workletHash=0xe1ad10b71a2,e.__location="src/worklet/animation/spring.ts (33:7)",e.__worklet=!0,e}(),le=function(){var e=function(e,t){return"function"==typeof t&&(C(t)||console.warn("The callback parameter of decay should be a worklet function")),j(0,function(){var r=function(){var r,n={deceleration:.998,velocityFactor:1,velocity:0};e&&Object.keys(e).forEach((function(t){return n[t]=e[t]}));return{onFrame:function(e,t){var{lastTimestamp:r,startTimestamp:i,initialVelocity:a,current:o,velocity:s}=e,l=Math.min(t-r,64),c=s*Math.exp(-(1-n.deceleration)*(t-i)*.1);if(e.current=o+c*n.velocityFactor*l/1e3,e.velocity=c,e.lastTimestamp=t,n.clamp){if(a<0&&e.current<=n.clamp[0])return e.current=n.clamp[0],!0;if(a>0&&e.current>=n.clamp[1])return e.current=n.clamp[1],!0}return Math.abs(c)<1},onStart:function(e,t,r){e.current=t,e.lastTimestamp=r,e.startTimestamp=r,e.initialVelocity=n.velocity,function(){if(n.clamp){if(!Array.isArray(n.clamp))throw Error("config.clamp must be an array but is "+typeof n.clamp);if(2!==n.clamp.length)throw Error(`clamp array must contain 2 items but is given ${n.clamp.length}`)}if(n.velocityFactor<=0)throw Error(`config.velocityFactor must be greather then 0 but is ${n.velocityFactor}`)}()},callback:t,velocity:null!==(r=n.velocity)&&void 0!==r?r:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0}};return r._closure={userConfig:e,callback:t},r.asString='function _f(){const{userConfig,callback}=jsThis._closure;{var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=1;const SLOPE_FACTOR=0.1;function onFrame(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error("config.clamp must be an array but is "+typeof config.clamp);}if(config.clamp.length!==2){throw Error("clamp array must contain 2 items but is given "+config.clamp.length);}}if(config.velocityFactor<=0){throw Error("config.velocityFactor must be greather then 0 but is "+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:onFrame,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};}}',r.__workletHash=6565623785597,r.__location="src/worklet/animation/decay.ts (51:44)",r.__worklet=!0,r}())};return e._closure={checkWorkletFunc:C,defineAnimation:j},e.asString="function decay(userConfig,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of decay should be a worklet function');}}return defineAnimation(0,function(){'worklet';var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=1;const SLOPE_FACTOR=0.1;function onFrame(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\"config.clamp must be an array but is \"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\"clamp array must contain 2 items but is given \"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\"config.velocityFactor must be greather then 0 but is \"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:onFrame,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};});}}",e.__workletHash=2625431540736,e.__location="src/worklet/animation/decay.ts (39:7)",e.__worklet=!0,e}(),ce=function(){var e=function(e,t){return j(t,function(){var r=function(){var r="function"==typeof t?t():t;return{isHigherOrder:!0,onFrame:function(t,n){var{startTime:i,started:a,previousAnimation:o}=t;if(n-i>e){a||(r.onStart(r,t.current,n,o),t.previousAnimation=null,t.started=!0);var s=r.onFrame(r,n);return t.current=r.current,s}if(o){var l=o.finished||o.onFrame(o,n);t.current=o.current,l&&(t.previousAnimation=null)}return!1},onStart:function(e,t,r,n){e.startTime=r,e.started=!1,e.current=t,e.previousAnimation=n===e?n.previousAnimation:n},current:r.current,callback:function(e){r.callback&&r.callback(e)},previousAnimation:null,startTime:0,started:!1}};return r._closure={_nextAnimation:t,delayMs:e},r.asString="function _f(){const{_nextAnimation,delayMs}=jsThis._closure;{const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const{startTime:startTime,started:started,previousAnimation:previousAnimation}=animation;if(now-startTime>delayMs){if(!started){nextAnimation.onStart(nextAnimation,animation.current,now,previousAnimation);animation.previousAnimation=null;animation.started=true;}const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;return finished;}else if(previousAnimation){const finished=previousAnimation.finished||previousAnimation.onFrame(previousAnimation,now);animation.current=previousAnimation.current;if(finished){animation.previousAnimation=null;}}return false;}function onStart(animation,value,now,previousAnimation){animation.startTime=now;animation.started=false;animation.current=value;if(previousAnimation===animation){animation.previousAnimation=previousAnimation.previousAnimation;}else{animation.previousAnimation=previousAnimation;}}const callback=function(finished){if(nextAnimation.callback){nextAnimation.callback(finished);}};return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,current:nextAnimation.current,callback:callback,previousAnimation:null,startTime:0,started:false};}}",r.__workletHash=7471806601587,r.__location="src/worklet/animation/delay.ts (10:57)",r.__worklet=!0,r}())};return e._closure={defineAnimation:j},e.asString="function delay(delayMs,_nextAnimation){const{defineAnimation}=jsThis._closure;{return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const{startTime:startTime,started:started,previousAnimation:previousAnimation}=animation;if(now-startTime>delayMs){if(!started){nextAnimation.onStart(nextAnimation,animation.current,now,previousAnimation);animation.previousAnimation=null;animation.started=true;}const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;return finished;}else if(previousAnimation){const finished=previousAnimation.finished||previousAnimation.onFrame(previousAnimation,now);animation.current=previousAnimation.current;if(finished){animation.previousAnimation=null;}}return false;}function onStart(animation,value,now,previousAnimation){animation.startTime=now;animation.started=false;animation.current=value;if(previousAnimation===animation){animation.previousAnimation=previousAnimation.previousAnimation;}else{animation.previousAnimation=previousAnimation;}}const callback=function(finished){if(nextAnimation.callback){nextAnimation.callback(finished);}};return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,current:nextAnimation.current,callback:callback,previousAnimation:null,startTime:0,started:false};});}}",e.__workletHash=1119387222703,e.__location="src/worklet/animation/delay.ts (5:7)",e.__worklet=!0,e}(),ue=function(){var e=function(e,t=2,r=!1,n){return"function"==typeof n&&(C(n)||console.warn("The callback parameter of repeat should be a worklet function")),j(e,function(){var i=function(){var i="function"==typeof e?e():e;return{isHigherOrder:!0,onFrame:function(e,n){var a=i.onFrame(i,n);if(e.current=i.current,a){if(e.reps+=1,i.callback&&i.callback(!0,e.current),t>0&&e.reps>=t)return!0;var o=r?i.current:e.startValue;return r&&(i.toValue=e.startValue,e.startValue=o),i.onStart(i,o,n,i.previousAnimation),!1}return!1},onStart:function(e,t,r,n){e.startValue=t,e.reps=0,i.onStart(i,t,r,n)},reps:0,current:i.current,callback:function(e){n&&n(e),!e&&i.callback&&i.callback(!1)},startValue:0}};return i._closure={_nextAnimation:e,numberOfReps:t,reverse:r,callback:n},i.asString="function _f(){const{_nextAnimation,numberOfReps,reverse,callback}=jsThis._closure;{const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};}}",i.__workletHash=0xddd76efe2b9,i.__location="src/worklet/animation/repeat.ts (31:58)",i.__worklet=!0,i}())};return e._closure={checkWorkletFunc:C,defineAnimation:j},e.asString="function repeat(_nextAnimation,numberOfReps=2,reverse=false,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of repeat should be a worklet function');}}return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};});}}",e.__workletHash=9654710012277,e.__location="src/worklet/animation/repeat.ts (17:7)",e.__worklet=!0,e}(),de=function(){var e=function(...e){return j(e[0],function(){var t=function(){var t=e.map((function(e){var t="function"==typeof e?e():e;return t.finished=!1,t})),r=t[0];return{isHigherOrder:!0,onFrame:function(e,r){var n=t[e.animationIndex],i=n.onFrame(n,r);if(e.current=n.current,i){if(n.callback&&n.callback(!0),n.finished=!0,e.animationIndex+=1,e.animationIndex<t.length){var a=t[e.animationIndex];return a.onStart(a,n.current,r,n),!1}return!0}return!1},onStart:function(e,n,i,a){if(1===t.length)throw Error("sequence() animation require more than one animation as argument");e.animationIndex=0,void 0===a&&(a=t[t.length-1]),r.onStart(r,n,i,a)},animationIndex:0,current:r.current,callback:function(e){e||t.forEach((function(t){"function"!=typeof t.callback||t.finished||t.callback(e)}))}}};return t._closure={_animations:e},t.asString="function _f(){const{_animations}=jsThis._closure;{const animations=_animations.map(function(a){const result=typeof a==='function'?a():a;result.finished=false;return result;});const firstAnimation=animations[0];const callback=function(finished){if(finished){return;}animations.forEach(function(animation){if(typeof animation.callback==='function'&&!animation.finished){animation.callback(finished);}});};function onFrame(animation,now){const currentAnim=animations[animation.animationIndex];const finished=currentAnim.onFrame(currentAnim,now);animation.current=currentAnim.current;if(finished){if(currentAnim.callback){currentAnim.callback(true);}currentAnim.finished=true;animation.animationIndex+=1;if(animation.animationIndex<animations.length){const nextAnim=animations[animation.animationIndex];nextAnim.onStart(nextAnim,currentAnim.current,now,currentAnim);return false;}return true;}return false;}function onStart(animation,value,now,previousAnimation){if(animations.length===1){throw Error('sequence() animation require more than one animation as argument');}animation.animationIndex=0;if(previousAnimation===undefined){previousAnimation=animations[animations.length-1];}firstAnimation.onStart(firstAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,animationIndex:0,current:firstAnimation.current,callback:callback};}}",t.__workletHash=7105701959684,t.__location="src/worklet/animation/sequence.ts (7:81)",t.__worklet=!0,t}())};return e._closure={defineAnimation:j},e.asString="function sequence(..._animations){const{defineAnimation}=jsThis._closure;{return defineAnimation(_animations[0],function(){'worklet';const animations=_animations.map(function(a){const result=typeof a==='function'?a():a;result.finished=false;return result;});const firstAnimation=animations[0];const callback=function(finished){if(finished){return;}animations.forEach(function(animation){if(typeof animation.callback==='function'&&!animation.finished){animation.callback(finished);}});};function onFrame(animation,now){const currentAnim=animations[animation.animationIndex];const finished=currentAnim.onFrame(currentAnim,now);animation.current=currentAnim.current;if(finished){if(currentAnim.callback){currentAnim.callback(true);}currentAnim.finished=true;animation.animationIndex+=1;if(animation.animationIndex<animations.length){const nextAnim=animations[animation.animationIndex];nextAnim.onStart(nextAnim,currentAnim.current,now,currentAnim);return false;}return true;}return false;}function onStart(animation,value,now,previousAnimation){if(animations.length===1){throw Error('sequence() animation require more than one animation as argument');}animation.animationIndex=0;if(previousAnimation===undefined){previousAnimation=animations[animations.length-1];}firstAnimation.onStart(firstAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,animationIndex:0,current:firstAnimation.current,callback:callback};});}}",e.__workletHash=9934960399614,e.__location="src/worklet/animation/sequence.ts (5:7)",e.__worklet=!0,e}();function pe(e){var t;C(e)||console.warn("The parameter to derived should be a worklet function");var r=Object.values(null!==(t=e._closure)&&void 0!==t?t:{}),n=_t($(e));if(u()){var i=function(){var t=function(){n.value=e()};return t._closure={sharedValue:n,processor:e},t.asString="function _f(){const{sharedValue,processor}=jsThis._closure;{sharedValue.value=processor();}}",t.__workletHash=0xb31b2ea47c9,t.__location="src/worklet/hook/derivedValue.ts (18:16)",t.__worklet=!0,t}();St(0,i,r,[n],{immediate:!1,flush:"async"})}else{var a;null===(a=n.installGetter)||void 0===a||a.call(n,e,r)}return n}var he={setNavigationBarColor:function(e){console.error("ExternalMethods.setNavigationBarColor have not been set yet")},getMenuButtonBoundingClientRect:function(){return console.error("ExternalMethods.getMenuButtonBoundingClientRect have not been set yet"),{width:0,height:0,top:0,right:0,bottom:0,left:0}}},fe=function(e){Object.assign(he,e)},ge=function(e){return e[e.dismissed=0]="dismissed",e[e.forward=1]="forward",e[e.reverse=2]="reverse",e[e.completed=3]="completed",e}({}),ve="rgba(0, 0, 0, 0.26)",me="rgba(0, 0, 0, 0.87)",ye={fastLinearToSlowEaseIn:ae.cubicBezier(.18,1,.04,1),linearToEaseOut:ae.cubicBezier(.35,.91,.33,.97),easeInToLinear:ae.cubicBezier(.67,.03,.65,.09),fastOutSlowIn:ae.cubicBezier(.4,0,.2,1),decelerateEasing:ae.cubicBezier(0,0,.2,1),easeOutCubic:ae.cubicBezier(.215,.61,.355,1),easeIn:ae.in(ae.ease),easeOut:ae.out(ae.ease),ease:ae.ease};(function(){var e=function(e,t,r){return e<t?t:e>r?r:e};e._closure={},e.asString="function _f(v,lower,upper){if(v<lower)return lower;if(v>upper)return upper;return v;}",e.__workletHash=0xf5d2c054649,e.__location="src/worklet/custom-route/util.ts (41:21)",e.__worklet=!0})(),function(){var e=function(e,t,r){return e+(t-e)*r};e._closure={},e.asString="function _f(begin,end,t){return begin+(end-begin)*t;}",e.__workletHash=9953309036832,e.__location="src/worklet/custom-route/util.ts (48:20)",e.__worklet=!0}();function be({animation:e,animationStatus:t,curve:r,reverseCurve:n}){return pe(function(){var i=function(){var i=!n||t.value!==ge.reverse?r:n,a=e.value;return i?0===a||1===a?a:i(a):a};return i._closure={reverseCurve:n,animationStatus:t,AnimationStatus:ge,curve:r,animation:e},i.asString="function _f(){const{reverseCurve,animationStatus,AnimationStatus,curve,animation}=jsThis._closure;{const useForwardCurve=!reverseCurve||animationStatus.value!==AnimationStatus.reverse;const activeCurve=useForwardCurve?curve:reverseCurve;const t=animation.value;if(!activeCurve)return t;if(t===0||t===1)return t;return activeCurve(t);}}",i.__workletHash=1401058593171,i.__location="src/worklet/custom-route/util.ts (61:17)",i.__worklet=!0,i}())}function _e(e){var{secondaryAnimation:t,secondaryAnimationStatus:r,userGestureInProgress:n}=e,i=be({animation:t,animationStatus:r,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),a=function(){var e=function(){var e=t.value;return n.value||(e=i.value),{transform:`translateX(${-1/3*e*100}%)`}};return e._closure={secondaryAnimation:t,userGestureInProgress:n,_curveSecondaryAnimation:i},e.asString='function _f(){const{secondaryAnimation,userGestureInProgress,_curveSecondaryAnimation}=jsThis._closure;{let t=secondaryAnimation.value;if(!userGestureInProgress.value){t=_curveSecondaryAnimation.value;}return{transform:"translateX("+-1/3*t*100+"%)"};}}',e.__workletHash=0xfb0527aefa8,e.__location="src/worklet/custom-route/util.ts (82:35)",e.__worklet=!0,e}();return a}var we=function(e){he.setNavigationBarColor(e)},Se=null,Ce=function(){return Se||(Se=he.getMenuButtonBoundingClientRect())},ke=r(27);function Ie(e){return _t(e)}var Pe=function(){var e=function(e){for(var t=[e];t.length>0;){var r=t.pop();if(Array.isArray(r))for(var n of r)t.push(n);else{if(void 0!==(null==r?void 0:r.onFrame))return!0;if("object"==typeof r)for(var i of Object.values(r))t.push(i)}}return!1};return e._closure={},e.asString="function isAnimated(prop){const propsToCheck=[prop];while(propsToCheck.length>0){const currentProp=propsToCheck.pop();if(Array.isArray(currentProp)){for(const item of currentProp){propsToCheck.push(item);}}else if((currentProp===null||currentProp===void 0?void 0:currentProp.onFrame)!==undefined){return true;}else if(typeof currentProp==='object'){for(const item of Object.values(currentProp)){propsToCheck.push(item);}}}return false;}",e.__workletHash=3559579197933,e.__location="src/worklet/hook/utils.ts (14:7)",e.__worklet=!0,e}(),Te=(function(){var e=function(e,t){var r={};for(var n in e)void 0===t[n]&&(r[n]=null);for(var i in t){var a=t[i],o=e[i];Pe(a)||o!==a&&(r[i]=a)}return r};e._closure={isAnimated:Pe},e.asString="function styleDiff(oldStyle,newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in oldStyle){if(newStyle[key]===undefined){diff[key]=null;}}for(const key in newStyle){const value=newStyle[key];const oldValue=oldStyle[key];if(isAnimated(value)){continue;}if(oldValue!==value){diff[key]=value;}}return diff;}}",e.__workletHash=0xfe47055e6f3,e.__location="src/worklet/hook/utils.ts (37:7)",e.__worklet=!0}(),function(){var e=function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(e[r[i]]!==t[r[i]])return!1;return!0};e._closure={},e.asString="function shallowEqual(a,b){const aKeys=Object.keys(a);const bKeys=Object.keys(b);if(aKeys.length!==bKeys.length){return false;}for(let i=0;i<aKeys.length;i++){if(a[aKeys[i]]!==b[aKeys[i]]){return false;}}return true;}",e.__workletHash=0xd7d951db86a,e.__location="src/worklet/hook/utils.ts (60:7)",e.__worklet=!0}(),function(){var e=function(e){var t={};for(var r in e){var n=e[r];Pe(n)||(t[r]=n)}return t};e._closure={isAnimated:Pe},e.asString="function getStyleWithoutAnimations(newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in newStyle){const value=newStyle[key];if(isAnimated(value)){continue;}diff[key]=value;}return diff;}}",e.__workletHash=2190466090064,e.__location="src/worklet/hook/utils.ts (75:7)",e.__worklet=!0}(),function(){var e=function(e){if("object"!=typeof e)throw new Error(`createAnimatedStyle has to return an object, found ${typeof e} instead`)};e._closure={},e.asString='function _f(styles){if(typeof styles!==\'object\'){throw new Error("createAnimatedStyle has to return an object, found "+typeof styles+" instead");}}',e.__workletHash=9807328913452,e.__location="src/worklet/hook/utils.ts (89:38)",e.__worklet=!0}(),function(){var e=function(e){var t="";return Object.keys(e).forEach((function(r){var n=r.replace(/([A-Z])/g,"-$1").toLowerCase();t+=n+": "+e[r]+"; "})),t};return e._closure={},e.asString="function convertToCssText(obj){let cssText='';Object.keys(obj).forEach(function(key){const hyphenatedKey=key.replace(/([A-Z])/g,'-$1').toLowerCase();cssText+=hyphenatedKey+': '+obj[key]+'; ';});return cssText;}",e.__workletHash=1169828150415,e.__location="src/worklet/hook/utils.ts (96:7)",e.__worklet=!0,e}());function Ae(e,t){if("object"==typeof e&&void 0===e.value)for(var r of Object.keys(e))Ae(e[r],r);else if(void 0!==t&&"object"==typeof e&&void 0!==e.value)throw new Error(`invalid value passed to \`${t}\`, maybe you forgot to use \`.value\`?`)}function xe(e,t,r){var n,i={immediate:!0,flush:"async"};r&&Object.keys(r).forEach((function(e){return i[e]=r[e]}));var a={};if(i.immediate){if("object"!=typeof(a=$(t)))throw new Error(`applyAnimatedStyle updater has to return an object, found ${typeof a} instead`);Ae(a)}var o=function(){var e=function(e,r){var n;var i,a,o=null!==(n=t())&&void 0!==n?n:{},s=(i=o,a="",Object.keys(i).forEach((function(e){var t=e.replace(/([A-Z])/g,"-$1").toLowerCase();a+=t+": "+i[e]+"; "})),a);Array.isArray(r)?r.forEach((function(e){return workletUIModule.updateNodeStyle(e,s)})):console.warn("applyAnimatedStyle can not find corresponding nodes")};return e._closure={updater:t},e.asString="function _f(_,nodes){const{updater}=jsThis._closure;{var _updater;function convertToCssText(obj){let cssText='';Object.keys(obj).forEach(function(key){const hyphenatedKey=key.replace(/([A-Z])/g,'-$1').toLowerCase();cssText+=hyphenatedKey+': '+obj[key]+'; ';});return cssText;}const updates=(_updater=updater())!==null&&_updater!==void 0?_updater:{};const inlineStyle=convertToCssText(updates);if(!Array.isArray(nodes)){console.warn('applyAnimatedStyle can not find corresponding nodes');return;}nodes.forEach(function(node){return workletUIModule.updateNodeStyle(node,inlineStyle);});}}",e.__workletHash=6718614983920,e.__location="src/worklet/hook/animatedStyle.ts (65:23)",e.__worklet=!0,e}(),s=St(e,o,Object.values(null!==(n=t._closure)&&void 0!==n?n:{}),[],i);return{initialStyle:Te(a),mapperId:s}}function Ee(e,t,r){var n,i={immediate:!0,flush:"async"};t&&Object.keys(t).forEach((function(e){return i[e]=t[e]}));var a={};if(i.immediate){if("object"!=typeof(a=$(e)))throw new Error(`applyAnimatedStyle updater has to return an object, found ${typeof a} instead`);Ae(a)}var o=function(){var t=function(){var t,n=null!==(t=e())&&void 0!==t?t:{};"function"==typeof r&&ft(r)(n)};return t._closure={updater:e,callback:r,runOnJS:ft},t.asString="function _f(){const{updater,callback,runOnJS}=jsThis._closure;{var _updater;const updates=(_updater=updater())!==null&&_updater!==void 0?_updater:{};if(typeof callback==='function'){runOnJS(callback)(updates);}}}",t.__workletHash=3183218975343,t.__location="src/worklet/hook/animatedStyle.ts (113:23)",t.__worklet=!0,t}();return{initialStyle:a,mapperId:St(0,o,Object.values(null!==(n=e._closure)&&void 0!==n?n:{}),[],i)}}var Me=function(){we({frontColor:"#ffffff",backgroundColor:"#000000",duration:50})},Re=function(){we({frontColor:"#000000",backgroundColor:"#ffffff",duration:50})},De=0,Oe=1;const Le=function(e){var t=Ce(),{primaryAnimation:r,primaryAnimationStatus:n,userGestureInProgress:i}=e,a=12,o=t.bottom+2,s=o+10,l="0px 0px 10px 5px rgba(0, 0, 0, 0.12)",c=be({animation:r,animationStatus:n,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),u=Ie(Oe),d=function(){var e=function(){var e=r.value;return i.value||(e=c.value),e>.3?u.value===Oe&&(u.value=De,ft(Me)()):u.value===De&&(u.value=Oe,ft(Re)()),{overflow:"hidden",boxShadow:l,borderRadius:"12px 12px 0px 0px",marginTop:`${s}px`,transform:`translateY(${100*(1-e)}%)`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:c,navBarColoThreshold:.3,navBarColor:u,NavBarColorStatus:{black:Oe,white:De},runOnJS:ft,_setNavigationBarColor:Me,_resetNavigationBarColor:Re,nextPageBoxShadow:l,topRadius:a,nextPageTop:s},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,navBarColoThreshold,navBarColor,NavBarColorStatus,runOnJS,_setNavigationBarColor,_resetNavigationBarColor,nextPageBoxShadow,topRadius,nextPageTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}if(t>navBarColoThreshold){if(navBarColor.value===NavBarColorStatus.black){navBarColor.value=NavBarColorStatus.white;runOnJS(_setNavigationBarColor)();}}else{if(navBarColor.value===NavBarColorStatus.white){navBarColor.value=NavBarColorStatus.black;runOnJS(_resetNavigationBarColor)();}}return{overflow:\'hidden\',boxShadow:nextPageBoxShadow,borderRadius:topRadius+"px "+topRadius+"px 0px 0px",marginTop:nextPageTop+"px",transform:"translateY("+(1-t)*100+"%)"};}}',e.__workletHash=1799099242451,e.__location="src/worklet/custom-route/presets/cupertino-modal.ts (52:33)",e.__worklet=!0,e}(),p=function(){var e=function(){var e=r.value;return i.value||(e=c.value),{overflow:"hidden",filter:`brightness(${1+(.9-1)*e})`,borderRadius:"12px 12px 0px 0px",transformOrigin:"top center",transform:`translateY(${o*e}px) scale(${1-e/10})`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:c,prevPageBrightness:.9,topRadius:a,prevPageTop:o},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,prevPageBrightness,topRadius,prevPageTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}const scale=1-t/10;const brightness=1+(prevPageBrightness-1)*t;return{overflow:\'hidden\',filter:"brightness("+brightness+")",borderRadius:topRadius+"px "+topRadius+"px 0px 0px",transformOrigin:\'top center\',transform:"translateY("+prevPageTop*t+"px) scale("+scale+")"};}}',e.__workletHash=666155372927,e.__location="src/worklet/custom-route/presets/cupertino-modal.ts (80:38)",e.__worklet=!0,e}();return{opaque:!1,transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:d,handlePreviousPageAnimation:p}};const Ne=function(e){var t=Ce(),{primaryAnimation:r,primaryAnimationStatus:n,userGestureInProgress:i}=e,a=12,o=t.bottom+2+10,s="0px 0px 10px 5px rgba(0, 0, 0, 0.12)",l=be({animation:r,animationStatus:n,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),c=function(){var e=function(){var e=r.value;return i.value||(e=l.value),{overflow:"hidden",boxShadow:s,borderRadius:"12px 12px 0px 0px",marginTop:`${o}px`,transform:`translateY(${100*(1-e)}%)`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:l,nextPageBoxShadow:s,topRadius:a,nextPageTop:o},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,nextPageBoxShadow,topRadius,nextPageTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{overflow:\'hidden\',boxShadow:nextPageBoxShadow,borderRadius:topRadius+"px "+topRadius+"px 0px 0px",marginTop:nextPageTop+"px",transform:"translateY("+(1-t)*100+"%)"};}}',e.__workletHash=0xf050b96bb0d,e.__location="src/worklet/custom-route/presets/cupertino-modal-inside.ts (25:33)",e.__worklet=!0,e}(),u=function(){var e=function(){var e=r.value;return i.value||(e=l.value),{overflow:"hidden",filter:`brightness(${1+(.9-1)*e})`,borderRadius:"12px 12px 0px 0px",transformOrigin:"top center",transform:`translateY(${-10*e}px) scale(${1-e/10})`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:l,prevPageBrightness:.9,topRadius:a,prevPageVisibleOffset:10},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,prevPageBrightness,topRadius,prevPageVisibleOffset}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}const scale=1-t/10;const brightness=1+(prevPageBrightness-1)*t;return{overflow:\'hidden\',filter:"brightness("+brightness+")",borderRadius:topRadius+"px "+topRadius+"px 0px 0px",transformOrigin:\'top center\',transform:"translateY("+-prevPageVisibleOffset*t+"px) scale("+scale+")"};}}',e.__workletHash=6392807109874,e.__location="src/worklet/custom-route/presets/cupertino-modal-inside.ts (41:38)",e.__worklet=!0,e}();return{opaque:!1,transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:c,handlePreviousPageAnimation:u}};const Be=function(e){var t=Ce(),{primaryAnimation:r,primaryAnimationStatus:n,userGestureInProgress:i}=e,a=t.bottom+2+10,o="0px 0px 10px 5px rgba(0, 0, 0, 0.12)",s=be({animation:r,animationStatus:n,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),l=function(){var e=function(){var e=r.value;return i.value||(e=s.value),{overflow:"hidden",boxShadow:o,borderRadius:"12px 12px 0px 0px",marginTop:`${a}px`,transform:`translateX(${100*(1-e)}%)`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:s,nextPageBoxShadow:o,topRadius:12,nextPageTop:a},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,nextPageBoxShadow,topRadius,nextPageTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{overflow:\'hidden\',boxShadow:nextPageBoxShadow,borderRadius:topRadius+"px "+topRadius+"px 0px 0px",marginTop:nextPageTop+"px",transform:"translateX("+(1-t)*100+"%)"};}}',e.__workletHash=9797379415948,e.__location="src/worklet/custom-route/presets/modal-navigation.ts (23:33)",e.__worklet=!0,e}();return{opaque:!1,handlePrimaryAnimation:l}};const $e=function(e){var t=Ce(),{primaryAnimation:r,primaryAnimationStatus:n,userGestureInProgress:i}=e,a=t.bottom+2+10,o=be({animation:r,animationStatus:n,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),s=function(){var e=function(){var e=r.value;return i.value||(e=o.value),{overflow:"hidden",borderRadius:"12px 12px 0px 0px",marginTop:`${a}px`,transform:`translateY(${100*(1-e)}%)`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:o,topRadius:12,nextPageTop:a},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,topRadius,nextPageTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{overflow:\'hidden\',borderRadius:topRadius+"px "+topRadius+"px 0px 0px",marginTop:nextPageTop+"px",transform:"translateY("+(1-t)*100+"%)"};}}',e.__workletHash=4588171816292,e.__location="src/worklet/custom-route/presets/modal.ts (22:33)",e.__worklet=!0,e}(),l=function(){var e=function(){return{}};return e._closure={},e.asString="function _f(){return{};}",e.__workletHash=9610510921772,e.__location="src/worklet/custom-route/presets/modal.ts (37:38)",e.__worklet=!0,e}();return{opaque:!1,barrierColor:me,barrierDismissible:!0,transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:s,handlePreviousPageAnimation:l}};const Fe=function(e){var{primaryAnimation:t}=e,r=function(){var e=function(){var e=t.value;return{opacity:1*ye.easeIn(e),transform:`translateY(${100*(.25*(1-ye.fastOutSlowIn(e)))}%)`}};return e._closure={primaryAnimation:t,Curves:{easeIn:ye.easeIn,fastOutSlowIn:ye.fastOutSlowIn}},e.asString='function _f(){const{primaryAnimation,Curves}=jsThis._closure;{const t=primaryAnimation.value;const oProgress=Curves.easeIn(t);const yProgress=Curves.fastOutSlowIn(t);const transY=0.25*(1-yProgress);return{opacity:1*oProgress,transform:"translateY("+transY*100+"%)"};}}',e.__workletHash=0xaa966d0d2fe,e.__location="src/worklet/custom-route/presets/fade-upwards.ts (8:33)",e.__worklet=!0,e}(),n=function(){var e=function(){return{}};return e._closure={},e.asString="function _f(){return{};}",e.__workletHash=9610510921772,e.__location="src/worklet/custom-route/presets/fade-upwards.ts (21:38)",e.__worklet=!0,e}();return{transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:r,handlePreviousPageAnimation:n,handleSecondaryAnimation:_e(e)}};const je=function(e){var{primaryAnimation:t,primaryAnimationStatus:r,userGestureInProgress:n}=e,i=ae.cubicBezier(.2,0,0,1),a=be({animation:t,animationStatus:r,curve:i,reverseCurve:ae.out(i)}),o=function(){var e=function(){var e=t.value;return n.value||(e=a.value),{overflow:"hidden",transform:`translateY(${100*(1-e)}%)`}};return e._closure={primaryAnimation:t,userGestureInProgress:n,_curvePrimaryAnimation:a},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{overflow:\'hidden\',transform:"translateY("+(1-t)*100+"%)"};}}',e.__workletHash=9146004656126,e.__location="src/worklet/custom-route/presets/upwards.ts (19:33)",e.__worklet=!0,e}(),s=function(){var e=function(){return{}};return e._closure={},e.asString="function _f(){return{};}",e.__workletHash=9610510921772,e.__location="src/worklet/custom-route/presets/upwards.ts (32:38)",e.__worklet=!0,e}(),l=_e(e);return{barrierColor:ve,transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:o,handlePreviousPageAnimation:s,handleSecondaryAnimation:l}};var We=function(e,t){return function(){var r=function(r){var n,i,a;return a=1,r=(n=(r-e)/(t-e))<(i=0)?i:n>a?a:n};return r._closure={begin:e,end:t},r.asString="function _f(t){const{begin,end}=jsThis._closure;{const clamp=function(v,lower,upper){if(v<lower)return lower;if(v>upper)return upper;return v;};t=clamp((t-begin)/(end-begin),0.0,1.0);return t;}}",r.__workletHash=529431024064,r.__location="src/worklet/custom-route/presets/two_sequence.ts (25:57)",r.__worklet=!0,r}()},Ve=function(e,t,r){return function(){var n=function(n){if(0===n)return e;if(1===n)return t;var i=r(n);return e+(t-e)*i};return n._closure={begin:e,end:t,curve:r},n.asString="function _f(t){const{begin,end,curve}=jsThis._closure;{if(t===0.0){return begin;}if(t===1.0){return end;}const transform_t=curve(t);const current=begin+(end-begin)*transform_t;return current;}}",n.__workletHash=0xe55d50cbc14,n.__location="src/worklet/custom-route/presets/two_sequence.ts (36:58)",n.__worklet=!0,n}()};const Ue=function(e){var{primaryAnimation:t,primaryAnimationStatus:r}=e,n=function(e){var t=function(e,t){var r=function(){var r=function(r){return(r-e)/(t-e)};return r._closure={start:e,end:t},r.asString="function _f(t){const{start,end}=jsThis._closure;{return(t-start)/(end-start);}}",r.__workletHash=9277068013909,r.__location="src/worklet/custom-route/presets/two_sequence.ts (51:28)",r.__worklet=!0,r}(),n=function(){var r=function(r){return r>=e&&r<t};return r._closure={start:e,end:t},r.asString="function _f(t){const{start,end}=jsThis._closure;{return t>=start&&t<end;}}",r.__workletHash=693040209137,r.__location="src/worklet/custom-route/presets/two_sequence.ts (56:21)",r.__worklet=!0,r}();return{value:r,contains:n}},r=e.slice(),n=0;for(var i of r)n+=i.weight;for(var a=[],o=0,s=0;s<r.length;s++){var l=s===r.length-1?1:o+r[s].weight/n;a.push(t(o,l)),o=l}return function(){var e=function(e){var t=function(e,t){var n=r[t],i=a[t].value(e);return n.tween(i)};if(0===e)return t(e,r.length-1);for(var n=0;n<r.length;n++)if(a[n].contains(e))return t(e,n);return e};return e._closure={_items:r,_intervals:a},e.asString="function _f(t){const{_items,_intervals}=jsThis._closure;{const _evaluateAt=function(t,index){const element=_items[index];const tInterval=_intervals[index].value(t);return element.tween(tInterval);};if(t===0){return _evaluateAt(t,_items.length-1);}for(let index=0;index<_items.length;index++){if(_intervals[index].contains(t)){return _evaluateAt(t,index);}}return t;}}",e.__workletHash=5469866450190,e.__location="src/worklet/custom-route/presets/two_sequence.ts (81:9)",e.__worklet=!0,e}()}([{tween:Ve(0,.4,ae.cubicBezier(.05,0,.133333,.06)),weight:.166666},{tween:Ve(.4,1,ae.cubicBezier(.208333,.82,.25,1)),weight:.833334}]);var i,a,o,s=(i=Ve(0,1,We(.125,.25)),a=Ve(1.1,1,n),o=Ve(.85,1,n),function(e=!1){return e?function(){var e=function(e){return{opacity:1,transform:`scale(${a(e)})`}};return e._closure={_scaleDownTransition:a},e.asString='function _f(t){const{_scaleDownTransition}=jsThis._closure;{const opacity=1.0;const scale=_scaleDownTransition(t);return{opacity:opacity,transform:"scale("+scale+")"};}}',e.__workletHash=7346190850846,e.__location="src/worklet/custom-route/presets/zoom.ts (40:15)",e.__worklet=!0,e}():function(){var e=function(e){return{opacity:i(e),transform:`scale(${o(e)})`}};return e._closure={_fadeInTransition:i,_scaleUpTransition:o},e.asString='function _f(t){const{_fadeInTransition,_scaleUpTransition}=jsThis._closure;{const opacity=_fadeInTransition(t);const scale=_scaleUpTransition(t);return{opacity:opacity,transform:"scale("+scale+")"};}}',e.__workletHash=0xd71a1fd5ea8,e.__location="src/worklet/custom-route/presets/zoom.ts (50:13)",e.__worklet=!0,e}()}),l=function(){var e=Ve(1,0,We(.0825,.2075)),t=Ve(1,1.05,n),r=Ve(1,.9,n);return function(n=!1){return n?function(){var t=function(t){return{opacity:e(t),transform:`scale(${r(t)})`}};return t._closure={_fadeOutTransition:e,_scaleDownTransition:r},t.asString='function _f(t){const{_fadeOutTransition,_scaleDownTransition}=jsThis._closure;{const opacity=_fadeOutTransition(t);const scale=_scaleDownTransition(t);return{opacity:opacity,transform:"scale("+scale+")"};}}',t.__workletHash=959105194376,t.__location="src/worklet/custom-route/presets/zoom.ts (69:15)",t.__worklet=!0,t}():function(){var e=function(e){return{opacity:1,transform:`scale(${t(e)})`}};return e._closure={_scaleUpTransition:t},e.asString='function _f(t){const{_scaleUpTransition}=jsThis._closure;{const opacity=1.0;const scale=_scaleUpTransition(t);return{opacity:opacity,transform:"scale("+scale+")"};}}',e.__workletHash=0xb271883777e,e.__location="src/worklet/custom-route/presets/zoom.ts (79:13)",e.__worklet=!0,e}()}}(),c=function(e,t,r,n){var i=Ie(t.value);return function(){var a=function(){var a,o=e.value,s=t.value,l=function(e,t){switch(t){case ge.dismissed:case ge.completed:return t;case ge.forward:switch(e){case ge.dismissed:case ge.completed:case ge.forward:return t;case ge.reverse:return e}break;case ge.reverse:switch(e){case ge.dismissed:case ge.completed:case ge.reverse:return t;case ge.forward:return e}}}(i.value,s);switch(i.value=l,l){case ge.dismissed:case ge.forward:a=r(o);break;case ge.reverse:case ge.completed:a=n(1-o)}return a};return a._closure={AnimationStatus:ge,animation:e,animationStatus:t,_effectiveAnimationStatus:i,forwardTransition:r,reverseTransition:n},a.asString="function _f(){const{AnimationStatus,animation,animationStatus,_effectiveAnimationStatus,forwardTransition,reverseTransition}=jsThis._closure;{const _calculateEffectiveAnimationStatus=function(lastEffective,current){switch(current){case AnimationStatus.dismissed:case AnimationStatus.completed:return current;case AnimationStatus.forward:switch(lastEffective){case AnimationStatus.dismissed:case AnimationStatus.completed:case AnimationStatus.forward:return current;case AnimationStatus.reverse:return lastEffective;}break;case AnimationStatus.reverse:switch(lastEffective){case AnimationStatus.dismissed:case AnimationStatus.completed:case AnimationStatus.reverse:return current;case AnimationStatus.forward:return lastEffective;}}};const progress=animation.value;const currentStatus=animationStatus.value;const lastEffectiveStatus=_effectiveAnimationStatus.value;const effectiveAnimationStatus=_calculateEffectiveAnimationStatus(lastEffectiveStatus,currentStatus);_effectiveAnimationStatus.value=effectiveAnimationStatus;let style;switch(effectiveAnimationStatus){case AnimationStatus.dismissed:case AnimationStatus.forward:style=forwardTransition(progress);break;case AnimationStatus.reverse:case AnimationStatus.completed:style=reverseTransition(1-progress);break;}return style;}}",a.__workletHash=0xf845d8363ba,a.__location="src/worklet/custom-route/presets/zoom.ts (101:11)",a.__worklet=!0,a}()},u=pe(function(){var e=function(){return 1-t.value};return e._closure={primaryAnimation:t},e.asString="function _f(){const{primaryAnimation}=jsThis._closure;{return 1-primaryAnimation.value;}}",e.__workletHash=0xd75d5c8c42f,e.__location="src/worklet/custom-route/presets/zoom.ts (152:35)",e.__worklet=!0,e}()),d=pe(function(){var e=function(){switch(r.value){case ge.forward:return ge.reverse;case ge.reverse:return ge.forward;case ge.completed:return ge.dismissed;case ge.dismissed:return ge.completed}};return e._closure={primaryAnimationStatus:r,AnimationStatus:ge},e.asString="function _f(){const{primaryAnimationStatus,AnimationStatus}=jsThis._closure;{const status=primaryAnimationStatus.value;switch(status){case AnimationStatus.forward:return AnimationStatus.reverse;case AnimationStatus.reverse:return AnimationStatus.forward;case AnimationStatus.completed:return AnimationStatus.dismissed;case AnimationStatus.dismissed:return AnimationStatus.completed;}}}",e.__workletHash=9442239809562,e.__location="src/worklet/custom-route/presets/zoom.ts (157:41)",e.__worklet=!0,e}());return{transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:c(t,r,s(),l(!0)),handlePreviousPageAnimation:c(u,d,s(!0),l()),handleSecondaryAnimation:_e(e)}};const ze=function(e){var{primaryAnimation:t,primaryAnimationStatus:r,userGestureInProgress:n}=e,i=be({animation:t,animationStatus:r,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),a=function(){var e=function(){var e=t.value;return n.value||(e=i.value),{transform:`translateX(${100*(1-e)}%)`}};return e._closure={primaryAnimation:t,userGestureInProgress:n,_curvePrimaryAnimation:i},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{transform:"translateX("+(1-t)*100+"%)"};}}',e.__workletHash=0xfa040f024bf,e.__location="src/worklet/custom-route/presets/cupertino.ts (15:33)",e.__worklet=!0,e}(),o=function(){var e=function(){var e=t.value;return n.value||(e=i.value),{transform:`translateX(${-1/3*e*100}%)`}};return e._closure={primaryAnimation:t,userGestureInProgress:n,_curvePrimaryAnimation:i},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{transform:"translateX("+-1/3*t*100+"%)"};}}',e.__workletHash=0xe84e641e428,e.__location="src/worklet/custom-route/presets/cupertino.ts (26:38)",e.__worklet=!0,e}();return{transitionDuration:400,reverseTransitionDuration:400,handlePrimaryAnimation:a,handlePreviousPageAnimation:o,handleSecondaryAnimation:_e(e)}};const qe=function(e,t){var{primaryAnimation:r,primaryAnimationStatus:n,userGestureInProgress:i}=e,a=be({animation:r,animationStatus:n,curve:ye.linearToEaseOut,reverseCurve:ye.easeInToLinear}),o=null==t?void 0:t.round,s=(o="boolean"!=typeof o||o)?12:0,l=parseFloat(null==t?void 0:t.height),c=100-(Number.isNaN(l)?60:l)+"vh",u=function(){var e=function(){var e=r.value;return i.value||(e=a.value),{overflow:"hidden",borderRadius:`${s}px ${s}px 0px 0px`,marginTop:c,transform:`translateY(${100*(1-e)}%)`}};return e._closure={primaryAnimation:r,userGestureInProgress:i,_curvePrimaryAnimation:a,radius:s,marginTop:c},e.asString='function _f(){const{primaryAnimation,userGestureInProgress,_curvePrimaryAnimation,radius,marginTop}=jsThis._closure;{let t=primaryAnimation.value;if(!userGestureInProgress.value){t=_curvePrimaryAnimation.value;}return{overflow:\'hidden\',borderRadius:radius+"px "+radius+"px 0px 0px",marginTop:marginTop,transform:"translateY("+(1-t)*100+"%)"};}}',e.__workletHash=0xb50d0b49a8c,e.__location="src/worklet/custom-route/presets/bottom-sheet.ts (20:33)",e.__worklet=!0,e}(),d=function(){var e=function(){return{}};return e._closure={},e.asString="function _f(){return{};}",e.__workletHash=9610510921772,e.__location="src/worklet/custom-route/presets/bottom-sheet.ts (35:38)",e.__worklet=!0,e}();return{opaque:!1,barrierColor:me,barrierDismissible:!0,transitionDuration:400,reverseTransitionDuration:400,fullscreenDrag:!0,handlePrimaryAnimation:u,handlePreviousPageAnimation:d}};class He{constructor(e,t){this.eventName=void 0,this.eventHash=void 0,this.worklet=void 0,this.worklet=e,this.eventName=t}register(e){this.eventHash=`${this.eventName}-${e}`,Tt(this.eventHash,this.worklet)}unregister(){this.eventHash&&At(this.eventHash)}}var Ge=new Map,Ke=function(e){var t;Ge.has(e)&&(null===(t=Ge.get(e).userGestureInProgressHandler)||void 0===t||t.unregister(),Ge.delete(e))},Je=function(e){if(!Ge.has(e)){var t={userGestureInProgress:Ie(!1),userGesturesInProgressCount:Ie(0)},r=t.userGestureInProgress,n=function(){var e=function(e){var t=e.value;r.value=t};return e._closure={userGestureInProgress:r},e.asString="function _f(args){const{userGestureInProgress}=jsThis._closure;{const newVal=args.value;userGestureInProgress.value=newVal;}}",e.__workletHash=0x9a4ecb9a222,e.__location="src/worklet/custom-route/context.ts (34:23)",e.__worklet=!0,e}(),i=new He(n,"userGestureInProgressChange");i.register(e),t.userGestureInProgressHandler=i,Ge.set(e,t)}},Xe=function(e,t,r){var n=u(),i=n?1:0,a=n?ge.completed:ge.dismissed,o=Ie(i),s=Ie(i),l=Ie(a),c=Ie(a);Je(e);var d=Ge.get(e),{userGestureInProgress:p,userGesturesInProgressCount:h}=d,f=function(){var t=function(){h.value+=1,1===h.value&&workletUIModule.startUserGesture(e)};return t._closure={userGesturesInProgressCount:h,windowId:e},t.asString="function startUserGesture(){const{userGesturesInProgressCount,windowId}=jsThis._closure;{userGesturesInProgressCount.value+=1;if(userGesturesInProgressCount.value===1){workletUIModule.startUserGesture(windowId);}}}",t.__workletHash=0xaf0603d1498,t.__location="src/worklet/custom-route/context.ts (82:2)",t.__worklet=!0,t}(),g=function(){var t=function(){h.value<=0?console.error("For developer: startUserGesture and stopUserGesture must be called in pairs"):(h.value-=1,0===h.value&&workletUIModule.stopUserGesture(e))};return t._closure={userGesturesInProgressCount:h,windowId:e},t.asString="function stopUserGesture(){const{userGesturesInProgressCount,windowId}=jsThis._closure;{if(userGesturesInProgressCount.value<=0){console.error('For developer: startUserGesture and stopUserGesture must be called in pairs');return;}userGesturesInProgressCount.value-=1;if(userGesturesInProgressCount.value===0){workletUIModule.stopUserGesture(windowId);}}}",t.__workletHash=7506887337204,t.__location="src/worklet/custom-route/context.ts (90:2)",t.__worklet=!0,t}(),v=function(){var r=function(){if(h.value>0)for(console.error("For developer: didPop should not be invoked before stopUserGesture");h.value>0;)g();workletUIModule.navigatorPop(e,t)};return r._closure={userGesturesInProgressCount:h,stopUserGesture:g,windowId:e,pageId:t},r.asString="function didPop(){const{userGesturesInProgressCount,stopUserGesture,windowId,pageId}=jsThis._closure;{if(userGesturesInProgressCount.value>0){console.error('For developer: didPop should not be invoked before stopUserGesture');while(userGesturesInProgressCount.value>0){stopUserGesture();}}workletUIModule.navigatorPop(windowId,pageId);}}",r.__workletHash=0xf70df3863c2,r.__location="src/worklet/custom-route/context.ts (102:2)",r.__worklet=!0,r}();return{routeType:r,primaryAnimation:o,primaryAnimationStatus:l,secondaryAnimation:s,secondaryAnimationStatus:c,userGestureInProgress:p,userGesturesInProgressCount:h,startUserGesture:f,stopUserGesture:g,didPop:v}},Ye={isCustomRoute:!0,opaque:!0,maintainState:!0,transitionDuration:400,reverseTransitionDuration:400,barrierColor:"",barrierDismissible:!1,barrierLabel:"",canTransitionTo:!0,canTransitionFrom:!0,popGestureEnabled:!0,allowEnterRouteSnapshotting:!1,allowExitRouteSnapshotting:!1,fullscreenDrag:!1,popGestureDirection:"horizontal"},Qe=new Map,Ze=new Map;function et(e,t){_.info(`[WABaseLib.Critical] add RouteBuilder routeType: ${e}`),Qe.has(e)&&(console.warn(`skyline: routeType(${e}) has been added before`),_.warn(`[WABaseLib.Critical] routeType(${e}) has been added before`)),Qe.set(e,t)}function tt(e){_.info(`[WABaseLib.Critical] remove RouteBuilder routeType: ${e}`),Qe.delete(e)}function rt(e){return Qe.get(e)}function nt(e){var{windowId:t,pageId:r,routeType:n,routeOptions:i,externalRouteConfig:a}=e,o=rt(n);if("function"==typeof o){_.info(`[WABaseLib.Critical] create RouteContext routeType: ${n} page: ${r}`);var s=Xe(t,r,n);Ze.set(r,s);var l=o(s,i),c=Object.assign({},Ye,l,a||{});return"function"==typeof c.handlePrimaryAnimation&&(C(c.handlePrimaryAnimation,!1)||console.warn(`routeType(${n}) handlePrimaryAnimation should be a worklet function`)),"function"==typeof c.handleSecondaryAnimation&&(C(c.handleSecondaryAnimation,!1)||console.warn(`routeType(${n}) handleSecondaryAnimation should be a worklet function`)),{routeContext:s,routeConfig:c}}}function it(e){if(Ze.has(e))return Ze.get(e)}function at(e){_.info(`[WABaseLib.Critical] remove RouteContext page: ${e}`),Ze.delete(e)}function ot(){et("wx://cupertino",ze),et("wx://cupertino-modal",Le),et("wx://cupertino-modal-inside",Ne),et("wx://modal",$e),et("wx://modal-navigation",Be),et("wx://fade-upwards",Fe),et("wx://upwards",je),et("wx://zoom",Ue),et("wx://bottom-sheet",qe)}var st=b();function lt(e){_.info("[WABaseLib.Critical] Skyline worklet chooseRenderMode ",e),function(e){c=e}(e),st=b(),u()?function(){if(xt||!st.supported())return;_.info("[WABaseLib.Critical] Skyline initialize web worklet"),st.installCoreFunctions(bt),xt=!0}():function(){if(Et||!st.supported())return;if(_.info("[WABaseLib.Critical] Skyline initialize native worklet"),st.installCoreFunctions(yt),ot(),Et=!0,dt()){var e=S||w||function(){if(v&&"debug"in v&&void 0!==v.debug)return!!v.debug}(),t=console;ht(function(){var r=function(){function r(r){return function(...n){e&&ft(t[r])("[ui]",...n)}}var n=["debug","log","warn","error","info"].reduce((function(e,t){return e[t]=r(t),e}),{});workletUIModule.setGlobalConsole(n)};return r._closure={printLog:e,runOnJS:ft,capturableConsole:t},r.asString="function _f(){const{printLog,runOnJS,capturableConsole}=jsThis._closure;{const methods=['debug','log','warn','error','info'];function _log(m){return function(...args){if(!printLog)return;runOnJS(capturableConsole[m])('[ui]',...args);};}const libConsole=methods.reduce(function(obj,prop){;obj[prop]=_log(prop);return obj;},{});workletUIModule.setGlobalConsole(libConsole);}}",r.__workletHash=0xbb38dbebc01,r.__location="src/worklet/core.ts (312:12)",r.__worklet=!0,r}())()}}()}var ct=function(){var e=function(){};return e._closure={},e.asString="function _f(){}",e.__workletHash=0xee9333ba43b,e.__location="src/worklet/core.ts (40:48)",e.__worklet=!0,e}(),ut=function(e=!0){if(!ct.__workletHash&&!u()){if(e)throw new Error("failed to create a worklet, maybe forgot to add babel plugin?");return!1}return!0},dt=function(e=!1){return ut(e)&&st.supported()},pt=function(){if(!dt(!0))throw new Error("worklet mechanism cannot be used, platform not support")};function ht(e){return C(e)||console.warn("The parameter to runOnUI should be a worklet function"),st.native?gt(e):k(gt(e))}var ft=function(){var e=function(e){if(!N)return k(e);if(e.__callAsync)return e.__callAsync;throw new Error("Attempting to call runOnJS with an object that is not a host function. Using runOnJS is only possible with methods that are defined on the Javascript thread and that aren't marked as worklets")};return e._closure={makeFunctionAsync:k},e.asString='function runOnJS(fun){const{makeFunctionAsync}=jsThis._closure;{if(!_WORKLET){return makeFunctionAsync(fun);}if(!fun.__callAsync){throw new Error("Attempting to call runOnJS with an object that is not a host function. Using runOnJS is only possible with methods that are defined on the Javascript thread and that aren\'t marked as worklets");}else{return fun.__callAsync;}}}',e.__workletHash=1101783697307,e.__location="src/worklet/core.ts (79:7)",e.__worklet=!0,e}();function gt(e){return pt(),st.makeShareable(e)}function vt(e){st.pushFrame(e)}var mt=function(){var e=function(e,t){st.native?"number"==typeof t?workletUIModule.requestFrame(t,e):setTimeout((function(){e(_frameTimestamp||workletUIModule.getCurrentTime())}),16):vt(e)};return e._closure={workletModule:{native:st.native},pushFrame:vt},e.asString="function requestFrame(frame,windowId){const{workletModule,pushFrame}=jsThis._closure;{function getTimestamp(){if(_frameTimestamp){return _frameTimestamp;}return workletUIModule.getCurrentTime();}if(!workletModule.native){pushFrame(frame);return;}if(typeof windowId==='number'){workletUIModule.requestFrame(windowId,frame);}else{setTimeout(function(){frame(getTimestamp());},16);}}}",e.__workletHash=5360619374794,e.__location="src/worklet/core.ts (104:0)",e.__worklet=!0,e}(),yt=function(){var e=function(e,t){var r=this,n=this._animation;if(n&&(n.cancelled=!0,this._animation=null),!t)if("function"==typeof e||null!==e&&"object"==typeof e&&void 0!==e.onFrame){var i,a="function"==typeof e?e():e;if(this._value===a.current&&!a.isHigherOrder)return void(null===(i=a.callback)||void 0===i||i.call(a,!0));var o=function(e){if(a.cancelled){var t;null===(t=a.callback)||void 0===t||t.call(a,!1)}else{var n=a.onFrame(a,e);a.finished=!0,a.timestamp=e,r._value=a.current,mt(n?function(){var e;null===(e=a.callback)||void 0===e||e.call(a,!0),r._animation=null}:o,r._windowId)}},s=function(e){a.onStart(a,r.value,e,n),o(e)};this._animation=a,_frameTimestamp?s(_frameTimestamp):mt(s,this._windowId)}else{if(this._value===e)return;this._value=e}};return e._closure={requestFrame:mt},e.asString="function workletValueSetter(value,synchronized){const{requestFrame}=jsThis._closure;{var _this=this;const previousAnimation=this._animation;if(previousAnimation){previousAnimation.cancelled=true;this._animation=null;}if(synchronized)return;if(typeof value==='function'||value!==null&&typeof value==='object'&&value.onFrame!==undefined){const animation=typeof value==='function'?value():value;if(this._value===animation.current&&!animation.isHigherOrder){var _animation$callback;(_animation$callback=animation.callback)===null||_animation$callback===void 0?void 0:_animation$callback.call(animation,true);return;}const step=function(timestamp){if(animation.cancelled){var _animation$callback2;(_animation$callback2=animation.callback)===null||_animation$callback2===void 0?void 0:_animation$callback2.call(animation,false);return;}const finished=animation.onFrame(animation,timestamp);animation.finished=true;animation.timestamp=timestamp;_this._value=animation.current;if(finished){requestFrame(function(){var _animation$callback3;(_animation$callback3=animation.callback)===null||_animation$callback3===void 0?void 0:_animation$callback3.call(animation,true);_this._animation=null;},_this._windowId);}else{requestFrame(step,_this._windowId);}};const initializeAnimation=function(timestamp){animation.onStart(animation,_this.value,timestamp,previousAnimation);step(timestamp);};this._animation=animation;if(_frameTimestamp){initializeAnimation(_frameTimestamp);}else{requestFrame(initializeAnimation,this._windowId);}}else{if(this._value===value){return;}this._value=value;}}}",e.__workletHash=1469372007835,e.__location="src/worklet/core.ts (128:0)",e.__worklet=!0,e}();function bt(e){var t=this,r=this._animation;if(r&&(r.cancelled=!0,this._animation=null),"function"==typeof e||null!==e&&"object"==typeof e&&e.onFrame){var n="function"==typeof e?e():e,i=function(e){n.onStart(n,t.value,e,r)},a=function(e){var r;if(n.cancelled){var o;null===(o=n.callback)||void 0===o||o.call(n,!1)}else{i&&(i(e),i=null);var s,l=n.onFrame(n,e);if(n.timestamp=e,null===(r=t._setValue)||void 0===r||r.call(t,n.current),l)null===(s=n.callback)||void 0===s||s.call(n,!0);else mt(a)}};this._animation=n,mt(a)}else{var o;null===(o=this._setValue)||void 0===o||o.call(this,e)}}function _t(e){return pt(),st.makeMutable(e)}function wt(e={}){return pt(),st.makeRemote(e)}function St(e,t,r=[],n=[],i){return pt(),st.startMapper(e,t,r,n,i)}function Ct(e,t){st.stopMapper(e,t)}function kt(e,t){st.stopMappers(e,t)}function It(e,t){st.enableMapper(e,t)}function Pt(e,t){st.disableMapper(e,t)}function Tt(e,t){st.registerEventHandler(e,t)}function At(e){st.unregisterEventHandler(e)}var xt=!1;var Et=!1})(),B=n})(),(()=>{var a={538:e=>{function t(e,t){for(var r=[],n=~~(t/8),i=t%8,a=0,o=e.length;a<o;a++)r[a]=(e[(a+n)%o]<<i&255)+(e[(a+n+1)%o]>>>8-i&255);return r}function r(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]^t[n]);return r}function n(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=e[n]&t[n]&255;return r}function i(e,t){for(var r=[],n=e.length-1;n>=0;n--)r[n]=255&(e[n]|t[n]);return r}function a(e,t){for(var r=[],n=0,i=e.length-1;i>=0;i--){var a=e[i]+t[i]+n;a>255?(n=1,r[i]=255&a):(n=0,r[i]=255&a)}return r}function o(e){return r(r(e,t(e,9)),t(e,17))}function s(e,t,a,o){return o>=0&&o<=15?r(r(e,t),a):i(i(n(e,t),n(e,a)),n(t,a))}function l(e,t,a,o){return o>=0&&o<=15?r(r(e,t),a):i(n(e,t),n(function(e){for(var t=[],r=e.length-1;r>=0;r--)t[r]=255&~e[r];return t}(e),a))}function c(e,n){for(var i,c=[],u=[],d=0;d<16;d++){var p=4*d;c.push(n.slice(p,p+4))}for(var h=16;h<68;h++)c.push(r(r((i=r(r(c[h-16],c[h-9]),t(c[h-3],15)),r(r(i,t(i,15)),t(i,23))),t(c[h-13],7)),c[h-6]));for(var f=0;f<64;f++)u.push(r(c[f],c[f+4]));for(var g,v,m,y,b=[121,204,69,25],_=[122,135,157,138],w=e.slice(0,4),S=e.slice(4,8),C=e.slice(8,12),k=e.slice(12,16),I=e.slice(16,20),P=e.slice(20,24),T=e.slice(24,28),A=e.slice(28,32),x=0;x<64;x++){var E=x>=0&&x<=15?b:_;v=r(g=t(a(a(t(w,12),I),t(E,x)),7),t(w,12)),m=a(a(a(s(w,S,C,x),k),v),u[x]),y=a(a(a(l(I,P,T,x),A),g),c[x]),k=C,C=t(S,9),S=w,w=m,A=T,T=t(P,19),P=I,I=o(y)}return r([].concat(w,S,C,k,I,P,T,A),e)}e.exports=function(e){var t=8*e.length,r=t%512;r=r>=448?512-r%448-1:448-r-1;for(var n=new Array((r-7)/8),i=0,a=n.length;i<a;i++)n[i]=0;var o=[];t=t.toString(2);for(var s=7;s>=0;s--)if(t.length>8){var l=t.length-8;o[s]=parseInt(t.substr(l),2),t=t.substr(0,l)}else t.length>0?(o[s]=parseInt(t,2),t=""):o[s]=0;for(var u=[].concat(e,[128],n,o),d=u.length/64,p=[115,128,22,111,73,20,178,185,23,36,66,215,218,138,6,0,169,111,48,188,22,49,56,170,227,141,238,77,176,251,14,78],h=0;h<d;h++){var f=64*h;p=c(p,u.slice(f,f+64))}return p}},405:(e,t,r)=>{var n=r(538);e.exports=function(e){return e="string"==typeof e?function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.codePointAt(r);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>>6),t.push(128|63&i);else if(i<=55295||i>=57344&&i<=65535)t.push(224|i>>>12),t.push(128|i>>>6&63),t.push(128|63&i);else{if(!(i>=65536&&i<=1114111))throw t.push(i),new Error("input is not supported");r++,t.push(240|i>>>18&28),t.push(128|i>>>12&63),t.push(128|i>>>6&63),t.push(128|63&i)}}return t}(e):Array.prototype.slice.call(e),n(e).map((e=>1===(e=e.toString(16)).length?"0"+e:e)).join("")}},977:(e,t,r)=>{var n;e=r.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r.g&&r.g;a.global!==a&&a.window!==a&&a.self;var o,s=2147483647,l=36,c=1,u=26,d=38,p=700,h=72,f=128,g="-",v=/^xn--/,m=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=l-c,w=Math.floor,S=String.fromCharCode;function C(e){throw RangeError(b[e])}function k(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function I(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+k((e=e.replace(y,".")).split("."),t).join(".")}function P(e){for(var t,r,n=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function T(e){return k(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,r){var n=0;for(e=r?w(e/p):e>>1,e+=w(e/t);e>_*u>>1;n+=l)e=w(e/_);return w(n+(_+1)*e/(e+d))}function E(e){var t,r,n,i,a,o,d,p,v,m,y,b=[],_=e.length,S=0,k=f,I=h;for((r=e.lastIndexOf(g))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&C("not-basic"),b.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<_;){for(a=S,o=1,d=l;i>=_&&C("invalid-input"),((p=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||p>w((s-S)/o))&&C("overflow"),S+=p*o,!(p<(v=d<=I?c:d>=I+u?u:d-I));d+=l)o>w(s/(m=l-v))&&C("overflow"),o*=m;I=x(S-a,t=b.length+1,0==a),w(S/t)>s-k&&C("overflow"),k+=w(S/t),S%=t,b.splice(S++,0,k)}return T(b)}function M(e){var t,r,n,i,a,o,d,p,v,m,y,b,_,k,I,T=[];for(b=(e=P(e)).length,t=f,r=0,a=h,o=0;o<b;++o)(y=e[o])<128&&T.push(S(y));for(n=i=T.length,i&&T.push(g);n<b;){for(d=s,o=0;o<b;++o)(y=e[o])>=t&&y<d&&(d=y);for(d-t>w((s-r)/(_=n+1))&&C("overflow"),r+=(d-t)*_,t=d,o=0;o<b;++o)if((y=e[o])<t&&++r>s&&C("overflow"),y==t){for(p=r,v=l;!(p<(m=v<=a?c:v>=a+u?u:v-a));v+=l)I=p-m,k=l-m,T.push(S(A(m+I%k,0))),p=w(I/k);T.push(S(A(p,0))),a=x(r,_,n==i),r=0,++n}++r,++t}return T.join("")}o={version:"1.3.2",ucs2:{decode:P,encode:T},decode:E,encode:M,toASCII:function(e){return I(e,(function(e){return m.test(e)?"xn--"+M(e):e}))},toUnicode:function(e){return I(e,(function(e){return v.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}(globalThis)},817:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(r);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,d,p,h,f=e[c].replace(o,"%20"),g=f.indexOf(n);g>=0?(u=f.substr(0,g),d=f.substr(g+1)):(u=f,d=""),p=decodeURIComponent(u),h=decodeURIComponent(d),t(a,p)?Array.isArray(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a}},779:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,i){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(r):a+encodeURIComponent(t(e[i]))})).join(r):i?encodeURIComponent(t(i))+n+encodeURIComponent(t(e)):""}},935:(e,t,r)=>{"use strict";t.decode=t.parse=r(817),t.encode=t.stringify=r(779)},517:(e,t,r)=>{"use strict";var n=r(977),i=r(417);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=b;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(935);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof a)return e;var n=new a;return n.parse(e,t,r),n}a.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(b);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,b=b.substr(w.length)}if(r||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===b.substr(0,2);!C||w&&v[w]||(b=b.substr(2),this.slashes=!0)}if(!v[w]&&(C||w&&!m[w])){for(var k,I,P=-1,T=0;T<p.length;T++){-1!==(A=b.indexOf(p[T]))&&(-1===P||A<P)&&(P=A)}-1!==(I=-1===P?b.lastIndexOf("@"):b.lastIndexOf("@",P))&&(k=b.slice(0,I),b=b.slice(I+1),this.auth=decodeURIComponent(k)),P=-1;for(T=0;T<d.length;T++){var A;-1!==(A=b.indexOf(d[T]))&&(-1===P||A<P)&&(P=A)}-1===P&&(P=b.length),this.host=b.slice(0,P),b=b.slice(P),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var E=this.hostname.split(/\./),M=(T=0,E.length);T<M;T++){var R=E[T];if(R&&!R.match(h)){for(var D="",O=0,L=R.length;O<L;O++)R.charCodeAt(O)>127?D+="x":D+=R[O];if(!D.match(h)){var N=E.slice(0,T),B=E.slice(T+1),$=R.match(f);$&&(N.push($[1]),B.unshift($[2])),B.length&&(b="/"+B.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+F,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[S])for(T=0,M=u.length;T<M;T++){var W=u[T];if(-1!==b.indexOf(W)){var V=encodeURIComponent(W);V===W&&(V=escape(W)),b=b.split(W).join(V)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var z=b.indexOf("?");if(-1!==z?(this.search=b.substr(z),this.query=b.substr(z+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,z)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var q=this.search||"";this.path=F+q}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==a?(a="//"+(a||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):a||(a=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},a.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var r=new a,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(r[u]=e[u])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||r.host&&e.pathname,S=w,C=r.pathname&&r.pathname.split("/")||[],k=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(""===C[0]?C[0]=r.host:C.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===C[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,C=f;else if(f.length)C||(C=[]),C.pop(),C=C.concat(f),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(k)r.hostname=r.host=C.shift(),(x=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!C.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=C.slice(-1)[0],P=(r.host||e.host||C.length>1)&&("."===I||".."===I)||""===I,T=0,A=C.length;A>=0;A--)"."===(I=C[A])?C.splice(A,1):".."===I?(C.splice(A,1),T++):T&&(C.splice(A,1),T--);if(!w&&!S)for(;T--;T)C.unshift("..");!w||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),P&&"/"!==C.join("/").substr(-1)&&C.push("");var x,E=""===C[0]||C[0]&&"/"===C[0].charAt(0);k&&(r.hostname=r.host=E?"":C.length?C.shift():"",(x=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=x.shift(),r.host=r.hostname=x.shift()));return(w=w||r.host&&C.length)&&!E&&C.unshift(""),C.length?r.pathname=C.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},417:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},469:e=>{e.exports=function(e){return e=(e=e.trim()).replace(/<!--[\s\S]*?-->/g,""),function(){return{declaration:t(),root:r()}}();function t(){if(i(/^<\?xml\s*/)){for(var e={attributes:{}};!a()&&!o("?>");){var t=n();if(!t)return e;e.attributes[t.name]=t.value}return i(/\?>\s*/),e}}function r(){var e=i(/^<([\w-:.]+)\s*/);if(e){for(var t,s={name:e[1],attributes:{},children:[]};!(a()||o(">")||o("?>")||o("/>"));){var l=n();if(!l)return s;s.attributes[l.name]=l.value}if(i(/^\s*\/>\s*/))return s;for(i(/\??>\s*/),s.content=function(){var e=i(/^([^<]*)/);return e?e[1]:""}();t=r();)s.children.push(t);return i(/^<\/[\w-:.]+>\s*/),s}}function n(){var e,t=i(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(t)return{name:t[1],value:(e=t[2],e.replace(/^['"]|['"]$/g,""))}}function i(t){var r=e.match(t);if(r)return e=e.slice(r[0].length),r}function a(){return 0==e.length}function o(t){return 0==e.indexOf(t)}}},945:e=>{var t,r=void 0!==u?u:globalThis.Function;function n(){return t||(t=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./entry.js")}({"./entry.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers/index.js"),i=r("./node_modules/protocol-buffers-encodings/index.js"),a=r("./node_modules/varint/index.js"),o=function(e,t){var r=new Uint8Array(8),n=t,i=0,a=0,s=0;do{a|=(127&e[n])<<s,(s+=7)>=8&&(r[i]=255&a,a>>=8,s-=8,i++)}while(e[n++]>=128);return r[i]=255&a,o.bytes=n-t,r};function s(e,t){for(var r=0,n=t;n<e.length;n++){if(!(128&e[n]))return r+1;r++}return r}var l=function(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}};i.uint64=function(){var e=function(t,r){var n=s(t,r);if(n>=7&&NativeGlobal.decodeUint64Array){t=o(t,r);var i=NativeGlobal.decodeUint64Array(t);e.bytes=n}else{i=a.decode(t,r);e.bytes=a.decode.bytes}return i},t=a.encode;return l(0,t,e,(function(e){return e<0?10:a.encodingLength(e)}))}(),i.int64=function(){var e=function(r,n){if(((c=a.decode(r,n))>Number.MAX_SAFE_INTEGER||c<Number.MIN_SAFE_INTEGER)&&NativeGlobal.decodeUint64Array){var i=s(r,n),l=10==i;l&&(r[9+n]=127&r[9+n]),r=o(r,n);var c=NativeGlobal.decodeUint64Array(r);return e.bytes=i,l?"-"+c:c}if(c>=Math.pow(2,63)){for(var u=9;255===r[n+u-1];)u--;var d=new t(u=u||9);r.copy(d,0,n,n+u),d[u-1]=127&d[u-1],c=-1*a.decode(d,0),e.bytes=10}else e.bytes=a.decode.bytes;return c},r=function(e,t,n){if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)throw new Error("number too large, not supported yet");if(e<0){var i=n+9;for(a.encode(-1*e,t,n),t[n+=a.encode.bytes-1]=128|t[n];n<i-1;)t[++n]=255;t[i]=1,r.bytes=10}else a.encode(e,t,n),r.bytes=a.encode.bytes;return t};return l(0,r,e,(function(e){return e<0?10:a.encodingLength(e)}))}(),e.exports=function(e){var r=n(e);return Object.keys(r).forEach((function(e){var n;r[e].decode&&(r[e].decode=(n=r[e].decode,function e(r){"[object Uint8Array]"==Object.prototype.toString.call(r)&&r.__proto__!=t.__proto__&&(r.__proto__=t.prototype);var i=n.apply(this,arguments);return e.bytes=n.bytes,i}))})),r},e.exports.fixBuffer=function(e){return"[object Uint8Array]"==Object.prototype.toString.call(e)&&e.__proto__!=t.__proto__&&(e.__proto__=t.prototype),e}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/base64-js/index.js":function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=l(e),o=n[0],s=n[1],c=new a(function(e,t,r){return 3*(t+r)/4-r}(0,o,s)),u=0,d=s>0?o-4:o;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[u++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,l=r-i;s<l;s+=o)a.push(c(e,s,s+o>l?l:s+o));1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return a.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(e,t,r){"use strict";(function(e){var n=r("./node_modules/base64-js/index.js"),i=r("./node_modules/ieee754/index.js"),a=r("./node_modules/isarray/index.js");function o(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r);e=s(e,n);var i=e.write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(n)return W(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var u=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===l)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){for(var d=!0,p=0;p<l;p++)if(c(e,a+p)!==c(t,p)){d=!1;break}if(d)return a}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function _(e,t,r,n){return U(W(t,e.length-r),e,r,n)}function w(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return w(e,t,r,n)}function C(e,t,r,n){return U(V(t),e,r,n)}function k(e,t,r,n){return U(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(a=e[i+1]))&&(l=(31&c)<<6|63&a)>127&&(u=l);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(l=(15&c)<<12|(63&a)<<6|63&o)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(l=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return c(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(n,i),u=e.slice(t,r),d=0;d<s;++d)if(c[d]!==u[d]){a=c[d],o=u[d];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return C(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function x(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function E(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=j(e[a]);return i}function M(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,a){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function O(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function N(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,a){return a||N(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function $(e,t,r,n,a){return a||N(e,0,r,8),i.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||R(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return $(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return $(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=l.isBuffer(e)?e:W(new l(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function V(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/generate-function/index.js":function(e,t,n){for(var i=n("./node_modules/util/util.js"),a=n("./node_modules/is-property/is-property.js"),o=/[\{\[]/,s=/[\}\]]/,l=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],c={},u=0;u<l.length;u++)c[l[u]]=!0;var d={s:function(e){return""+e},d:function(e){return""+Number(e)},o:function(e){return JSON.stringify(e)}},p=function(){var e=[],t=0,n={},l=function(r){for(var n="";n.length<2*t;)n+="  ";e.push(n+r)},u=function(e){return s.test(e.trim()[0])&&o.test(e[e.length-1])?(t--,l(e),void t++):o.test(e[e.length-1])?(l(e),void t++):s.test(e.trim()[0])?(t--,void l(e)):void l(e)},p=function(e){if(!e)return p;if(1===arguments.length&&e.indexOf("\n")>-1)for(var t=e.trim().split("\n"),r=0;r<t.length;r++)u(t[r].trim());else u(i.format.apply(i,arguments));return p};return p.scope={},p.formats=d,p.sym=function(e){return e&&function(e){return a(e)&&!c.hasOwnProperty(e)}(e)||(e="tmp"),n[e]||(n[e]=0),e+(n[e]++||"")},p.property=function(e,t){return 1===arguments.length&&(t=e,e=""),a(t+="")?e?e+"."+t:t:e?e+"["+JSON.stringify(t)+"]":JSON.stringify(t)},p.toString=function(){return e.join("\n")},p.toFunction=function(t){t||(t={});var n="return ("+e.join("\n")+")";Object.keys(p.scope).forEach((function(e){t[e]||(t[e]=p.scope[e])}));var i=Object.keys(t).map((function(e){return e})),a=i.map((function(e){return t[e]}));return r.apply(null,i.concat(n)).apply(null,a)},arguments.length&&p.apply(null,arguments),p};p.formats=d,e.exports=p},"./node_modules/generate-object-property/index.js":function(e,t,r){var n=r("./node_modules/is-property/is-property.js"),i=function(e,t){return n(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};i.valid=n,i.property=function(e){return n(e)?e:JSON.stringify(e)},e.exports=i},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,a=h&(1<<-u)-1,h>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=p,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=c}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*l-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+h]=255&o,h+=f,o/=256,c-=8);e[r+h-f]|=128*g}},"./node_modules/is-property/is-property.js":function(e,t,r){"use strict";e.exports=function(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}},"./node_modules/isarray/index.js":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"./node_modules/os-browserify/browser.js":function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},"./node_modules/process/browser.js":function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/protocol-buffers-encodings/index.js":function(e,t,r){(function(e){var n=r("./node_modules/varint/index.js"),i=r("./node_modules/signed-varint/index.js");function a(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}}function o(t){return e.isBuffer(t)?t.length:e.byteLength(t)}t.make=a,t.name=function(e){for(var r=Object.keys(t),n=0;n<r.length;n++)if(t[r[n]]===e)return r[n];return null},t.skip=function(e,t,r){switch(e){case 0:return n.decode(t,r),r+n.decode.bytes;case 1:return r+8;case 2:var i=n.decode(t,r);return r+n.decode.bytes+i;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4}throw new Error("Unknown wire type: "+e)},t.bytes=a(2,(function t(r,i,a){var s=a,l=o(r);return n.encode(l,i,a),a+=n.encode.bytes,e.isBuffer(r)?r.copy(i,a):i.write(r,a,l),t.bytes=(a+=l)-s,i}),(function e(t,r){var i=r,a=n.decode(t,r);r+=n.decode.bytes;var o=t.slice(r,r+a);return r+=o.length,e.bytes=r-i,o}),(function(e){var t=o(e);return n.encodingLength(t)+t})),t.string=a(2,(function t(r,i,a){var o=a,s=e.byteLength(r);return n.encode(s,i,a,"utf-8"),a+=n.encode.bytes,i.write(r,a,s),t.bytes=(a+=s)-o,i}),(function e(t,r){var i=r,a=n.decode(t,r);r+=n.decode.bytes;var o=t.toString("utf-8",r,r+a);return e.bytes=(r+=a)-i,o}),(function(t){var r=e.byteLength(t);return n.encodingLength(r)+r})),t.bool=a(0,(function e(t,r,n){return r[n]=t?1:0,e.bytes=1,r}),(function e(t,r){var n=t[r]>0;return e.bytes=1,n}),(function(){return 1})),t.int32=a(0,(function e(t,r,i){return n.encode(t<0?t+4294967296:t,r,i),e.bytes=n.encode.bytes,r}),(function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,i>2147483647?i-4294967296:i}),(function(e){return n.encodingLength(e<0?e+4294967296:e)})),t.int64=a(0,(function e(t,r,i){if(t<0){var a=i+9;for(n.encode(-1*t,r,i),r[i+=n.encode.bytes-1]=128|r[i];i<a-1;)r[++i]=255;r[a]=1,e.bytes=10}else n.encode(t,r,i),e.bytes=n.encode.bytes;return r}),(function t(r,i){var a=n.decode(r,i);if(a>=Math.pow(2,63)){for(var o=9;255===r[i+o-1];)o--;o=o||9;var s=e.allocUnsafe(o);r.copy(s,0,i,i+o),s[o-1]=127&s[o-1],a=-1*n.decode(s,0),t.bytes=10}else t.bytes=n.decode.bytes;return a}),(function(e){return e<0?10:n.encodingLength(e)})),t.sint32=t.sint64=a(0,i.encode,i.decode,i.encodingLength),t.uint32=t.uint64=t.enum=t.varint=a(0,n.encode,n.decode,n.encodingLength),t.fixed64=t.sfixed64=a(1,(function e(t,r,n){return t.copy(r,n),e.bytes=8,r}),(function e(t,r){var n=t.slice(r,r+8);return e.bytes=8,n}),(function(){return 8})),t.double=a(1,(function e(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r}),(function e(t,r){var n=t.readDoubleLE(r);return e.bytes=8,n}),(function(){return 8})),t.fixed32=a(5,(function e(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readUInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.sfixed32=a(5,(function e(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readInt32LE(r);return e.bytes=4,n}),(function(){return 4})),t.float=a(5,(function e(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r}),(function e(t,r){var n=t.readFloatLE(r);return e.bytes=4,n}),(function(){return 4}))}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers-schema/index.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/parse.js"),i=r("./node_modules/protocol-buffers-schema/stringify.js");e.exports=n,e.exports.parse=n,e.exports.stringify=i},"./node_modules/protocol-buffers-schema/parse.js":function(e,t,r){var n=r("./node_modules/protocol-buffers-schema/tokenize.js"),i=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],a=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if("("===r&&(r=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[r]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},o=function(e){for(var t={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();t.required="required"===r,t.repeated="repeated"===r,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=a(e);break;case";":if(null===t.name)throw new Error("Missing field name");if(null===t.type)throw new Error("Missing type in message field: "+t.name);if(-1===t.tag)throw new Error("Missing tag number in message field: "+t.name);return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},s=function(e){for(var t={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(o(e));break;case"enum":t.enums.push(f(e));break;case"message":t.messages.push(u(e));break;case"extensions":t.extensions=c(e);break;case"oneof":e.shift();var r=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var n=o(e);n.oneof=r,t.fields.push(n)}e.shift();break;case"extend":t.extends.push(l(e));break;case";":e.shift();break;case"reserved":for(e.shift();";"!==e[0];)e.shift();break;case"option":var i=g(e);if(void 0!==t.options[i.name])throw new Error("Duplicate option "+i.name);t.options[i.name]=i.value;break;default:e.unshift("optional"),t.fields.push(o(e))}return t},l=function(e){return{name:e[1],message:u(e)}},c=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:r}},u=function(e){e.shift();var t=1,r=[],n={name:e.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),r=s(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extends=r.extends,n.extensions=r.extensions,n.options=r.options,n;r.push(e.shift())}if(t)throw new Error("No closing tag for message")},d=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},p=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},h=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3]&&"["!==e[3])throw new Error("Expected ; or [ but found "+e[1]);var t=e.shift();e.shift();var r={value:null,options:{}};return r.value=Number(e.shift()),"["===e[0]&&(r.options=a(e)),e.shift(),{name:t,val:r}},f=function(e){e.shift();var t={},r={name:e.shift(),values:{},options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),r;if("option"!==e[0]){var n=h(e);r.values[n.name]=n.val}else t=g(e),r.options[t.name]=t.value}throw new Error("No closing tag for enum")},g=function(e){for(var t=null,r=null,n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:r};switch(e[0]){case"option":e.shift();var i="("===e[0];if(i&&e.shift(),t=e.shift(),i){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}"."===e[0][0]&&(t+=e.shift());break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(r=n(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=v(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},v=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var n="("===e[0];n&&e.shift();var i=e.shift();if(n){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var a=null;switch(e[0]){case":":if(void 0!==r[i])throw new Error("Duplicate option map key "+i);e.shift(),"{"===(a=t(e.shift()))&&(a=v(e)),r[i]=a,";"===e[0]&&e.shift();break;case"{":if(e.shift(),a=v(e),void 0===r[i]&&(r[i]=[]),!Array.isArray(r[i]))throw new Error("Duplicate option map key "+i);r[i].push(a);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},m=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},y=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value;break;case"rpc":t.methods.push(b(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},b=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var r=g(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=n(e.toString()),r=0;r<t.length;r++){var a;if(/^("|')([^'"]*)$/.test(t[r]))for(a=1===t[r].length?r+1:r;a<t.length;a++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(t[a])){t=t.slice(0,r).concat(t.slice(r,a+1).join("")).concat(t.slice(a+1));break}}for(var o={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},s=!0;t.length;){switch(t[0]){case"package":o.package=d(t);break;case"syntax":if(!s)throw new Error("Protobuf syntax version should be first thing in file");o.syntax=p(t);break;case"message":o.messages.push(u(t));break;case"enum":o.enums.push(f(t));break;case"option":var c=g(t);if(o.options[c.name])throw new Error("Duplicate option "+c.name);o.options[c.name]=c.value;break;case"import":o.imports.push(m(t));break;case"extend":o.extends.push(l(t));break;case"service":o.services||(o.services=[]),o.services.push(y(t));break;default:throw new Error("Unexpected token: "+t[0])}s=!1}return o.extends.forEach((function(e){o.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),o.messages.forEach((function(e){e.fields.forEach((function(t){var r,n,a,s;if(t.options&&"true"===t.options.packed&&-1===i.indexOf(t.type)){if(-1===t.type.indexOf(".")){if(e.enums&&e.enums.some((function(e){return e.name===t.type})))return}else{if((r=t.type.split(".")).length>2)throw new Error("what is this?");if(n=r[0],a=r[1],o.messages.some((function(e){if(e.name===n)return s=e,e})),s&&s.enums&&s.enums.some((function(e){return e.name===a})))return}throw new Error("Fields of type "+t.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}}))})),o}},"./node_modules/protocol-buffers-schema/stringify.js":function(e,t){var r=function(e,t){var r=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),t.push((r?r+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+n+";"),t},n=function(e,t){t.push("message "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(i(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(n(e,[]))}));var a={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(a[e.oneof]||(a[e.oneof]=[]),a[e.oneof].push(r(e,[]))):t.push(r(e,[]))})),Object.keys(a).forEach((function(e){a[e].unshift("oneof "+e+" {"),a[e].push("}"),t.push(a[e])})),t.push("}",""),t},i=function(e,t){t.push("enum "+e.name+" {"),e.options||(e.options={});var r=o(e.options,[]);return r.length>1&&t.push(r.slice(0,-1)),Object.keys(e.values).map((function(r){var n=a(e.values[r]);t.push([r+" = "+n+";"])})),t.push("}",""),t},a=function(e,t){var r=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return r&&(r=" ["+r+"]"),e.value+r},o=function(e,t){var r=Object.keys(e);return r.forEach((function(r){var n=e[r];~r.indexOf(".")&&(r="("+r+")");var i=typeof n;"object"===i?(n=s(n,[])).length&&t.push("option "+r+" = {",n,"};"):("string"===i&&"optimize_for"!==r&&(n='"'+n+'"'),t.push("option "+r+" = "+n+";"))})),r.length>0&&t.push(""),t},s=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r],i=typeof n;"object"===i?Array.isArray(n)?n.forEach((function(e){(e=s(e,[])).length&&t.push(r+" {",e,"}")})):(n=s(n,[])).length&&t.push(r+" {",n,"}"):("string"===i&&(n='"'+n+'"'),t.push(r+": "+n))})),t},l=function(e,t){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var n=o(e.options,[]);return n.length>1?t.push(r+" {",n.slice(0,-1),"}"):t.push(r+";"),t},c=function(e){return function(t){return Array.isArray(t)?t.map(c(e+"  ")).join("\n"):e+t}};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),o(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){i(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){n(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),o(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(l(e,[]))})),t.push("}","")}(e,t)})),t.map(c("")).join("\n")}},"./node_modules/protocol-buffers-schema/tokenize.js":function(e,t){e.exports=function(e){var t,r=function(e){return e.trim()};return e.replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(r).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(r).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter((t=!1,function(e){return"/*"===e?(t=!0,!1):"*/"===e?(t=!1,!1):!t}))}},"./node_modules/protocol-buffers/compile-to-js.js":function(e,t,r){var n=r("./node_modules/os-browserify/browser.js"),i={type:!0,message:!0,name:!0,buffer:!0,encode:!0,decode:!0,encodingLength:!0,dependencies:!0};function a(e){return"function"==typeof e.encode}e.exports=function(e){var t="";return t+="// This file is auto generated by the protocol-buffers compiler"+n.EOL,t+=n.EOL,t+="/* eslint-disable quotes */"+n.EOL,t+="/* eslint-disable indent */"+n.EOL,t+="/* eslint-disable no-redeclare */"+n.EOL,t+="/* eslint-disable camelcase */"+n.EOL,t+=n.EOL,t+="// Remember to `npm install --save protocol-buffers-encodings`"+n.EOL,t+="var encodings = require('protocol-buffers-encodings')"+n.EOL,t+="var varint = encodings.varint"+n.EOL,t+="var skip = encodings.skip"+n.EOL,t+=n.EOL,function e(r,s,l){var c=Object.keys(r).filter((function(e){return!i[e]&&a(r[e])})),u=Object.keys(r).filter((function(e){return!i[e]&&!a(r[e])}));u.forEach((function(e){t+=l+s+"."+e+" = "+function(e,t){var r=Object.keys(e);if(!r.every((function(t){return"number"==typeof e[t]&&/^[a-z][a-z0-9]+$/i.test(t)})))return JSON.stringify(e,null,2).replace(/\n/g,n.EOL)+n.EOL;var i="{"+n.EOL;return r.forEach((function(a,o){i+=t+"  "+a+": "+e[a]+(o<r.length-1?",":"")+n.EOL})),i+t+"}"+n.EOL}(r[e],l)+n.EOL})),c.forEach((function(e){t+=l+"var "+e+" = "+s+"."+e+" = {"+n.EOL,t+=l+"  buffer: true,"+n.EOL,t+=l+"  encodingLength: null,"+n.EOL,t+=l+"  encode: null,"+n.EOL,t+=l+"  decode: null"+n.EOL,t+=l+"}"+n.EOL,t+=n.EOL})),c.forEach((function(e){t+=l+"define"+e+"()"+n.EOL})),c.length&&(t+=n.EOL);c.forEach((function(i){t+=l+"function define"+i+" () {"+n.EOL,e(r[i],i,l+"  "),t+=l+"  "+i+".encodingLength = encodingLength"+n.EOL,t+=l+"  "+i+".encode = encode"+n.EOL,t+=l+"  "+i+".decode = decode"+n.EOL+n.EOL,t+=l+"  "+o(r[i].encodingLength,l+"  ")+n.EOL+n.EOL,t+=l+"  "+o(r[i].encode,l+"  ")+n.EOL+n.EOL,t+=l+"  "+o(r[i].decode,l+"  ")+n.EOL,t+=l+"}"+n.EOL+n.EOL}))}(e,"exports",""),t+=o(r("./node_modules/protocol-buffers/compile.js").defined,"")+n.EOL;function o(e,t){return e.toString().split("\n").map((function(e,r){return r?t+e:e.replace(/(function \w+)\(/,"$1 (")})).join("\n")}}},"./node_modules/protocol-buffers/compile.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-encodings/index.js"),i=r("./node_modules/varint/index.js"),a=r("./node_modules/generate-object-property/index.js"),o=r("./node_modules/generate-function/index.js"),s=function(e){return null!=e&&("number"!=typeof e||!isNaN(e))},l=function(e,t){if(e.map)return"{}";if(e.repeated)return"[]";switch(e.type){case"string":return function(e){try{return!!e&&"string"==typeof JSON.parse(e)}catch(e){return!1}}(t)?t:'""';case"bool":return"true"===t?"true":"false";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return""+Number(t||0);default:return"null"}};e.exports=function(e,r,c){var u={},d={},p={},h=function(e,t){return c?function(e){var t=n.name(e);return t?"encodings."+t:e.name?e.name:"encodings.enum"}(t[e]):"enc["+e+"]"},f=function(e,t){e.enums&&e.enums.forEach((function(e){e.id=t+(t?".":"")+e.name,d[e.id]=e,f(e,e.id)})),e.messages&&e.messages.forEach((function(r){r.id=t+(t?".":"")+r.name,u[r.id]=r,r.fields.forEach((function(r){if(r.map){var n="Map_"+r.map.from+"_"+r.map.to,i={name:n,enums:[],messages:[],fields:[{name:"key",type:r.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:r.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:t+(t?".":"")+n};u[i.id]||(u[i.id]=i,e.messages.push(i)),r.type=n,r.repeated=!0}})),f(r,r.id)}))};f(e,"");var g=function(r,c){r.messages.forEach((function(e){c[e.name]=v(e.name,r.id)})),r.enums.forEach((function(e){c[e.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(e.values)})),c.type=2,c.message=!0,c.name=r.name;var u={};r.fields.forEach((function(e){e.oneof&&(u[e.oneof]||(u[e.oneof]=[]),u[e.oneof].push(e.name))}));var d=r.fields.map((function(e){return v(e.type,r.id)})),p=d.filter((function(e,t){return d.indexOf(e)===t})),f=d.map((function(e){return p.indexOf(e)})),g=function(e){for(var t=0;t<d.length;t++)e(d[t],r.fields[t],a("obj",r.fields[t].name),t)},m=o()("function encodingLength (obj) {")("var length = 0");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+a("obj",e)+")"})).join(" + ");m("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){var a=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,o=i.encodingLength(t.tag<<3|e.type);t.required?m("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):m("if (defined(%s)) {",r),t.map&&(m()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),a?(m()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("var len = %s.encodingLength(%s)",h(f[n],p),r+"[i]")("packedLen += len"),e.message&&m("packedLen += varint.encodingLength(len)"),m("}")("if (packedLen) {")("length += %d + packedLen + varint.encodingLength(packedLen)",o)("}")):(t.repeated&&(m("for (var i = 0; i < %s.length; i++) {",r),m("if (!defined(%s)) continue",r+="[i]")),m("var len = %s.encodingLength(%s)",h(f[n],p),r),e.message&&m("length += varint.encodingLength(len)"),m("length += %d + len",o),t.repeated&&m("}")),t.required||m("}")})),m()("return length")("}"),m=m.toFunction({defined:s,varint:i,enc:p});var y=o()("function encode (obj, buf, offset) {")("if (!offset) offset = 0")("if (!buf) buf = Buffer.allocUnsafe(encodingLength(obj))")("var oldOffset = offset");Object.keys(u).forEach((function(e){var t=JSON.stringify("only one of the properties defined in oneof "+e+" can be set"),r=u[e].map((function(e){return"+defined("+a("obj",e)+")"})).join(" + ");y("if ((%s) > 1) throw new Error(%s)",r,t)})),g((function(e,t,r,n){t.required?y("if (!defined(%s)) throw new Error(%s)",r,JSON.stringify(t.name+" is required")):y("if (defined(%s)) {",r);var a,o=t.repeated&&t.options&&t.options.packed&&"false"!==t.options.packed,s=i.encode(t.tag<<3|2),l=i.encode(t.tag<<3|e.type);if(t.map&&(y()("var tmp = Object.keys(%s)",r)("for (var i = 0; i < tmp.length; i++) {")("tmp[i] = {key: tmp[i], value: %s[tmp[i]]}",r)("}"),r="tmp"),o){for(y()("var packedLen = 0")("for (var i = 0; i < %s.length; i++) {",r)("if (!defined(%s)) continue",r+"[i]")("packedLen += %s.encodingLength(%s)",h(f[n],p),r+"[i]")("}"),y("if (packedLen) {"),a=0;a<l.length;a++)y("buf[offset++] = %d",s[a]);y("varint.encode(packedLen, buf, offset)"),y("offset += varint.encode.bytes"),y("}")}if(t.repeated&&(y("for (var i = 0; i < %s.length; i++) {",r),y("if (!defined(%s)) continue",r+="[i]")),!o)for(a=0;a<l.length;a++)y("buf[offset++] = %d",l[a]);e.message&&(y("varint.encode(%s.encodingLength(%s), buf, offset)",h(f[n],p),r),y("offset += varint.encode.bytes")),y("%s.encode(%s, buf, offset)",h(f[n],p),r),y("offset += %s.encode.bytes",h(f[n],p)),t.repeated&&y("}"),t.required||y("}")})),y()("encode.bytes = offset - oldOffset")("return buf")("}"),y=y.toFunction({encodingLength:m,defined:s,varint:i,enc:p,Buffer:t});var b,_=r.fields.map((function(e,t){return e.required&&"!found"+t})).filter((function(e){return e})).join(" || "),w=o(),S=[];return g((function(e,t){var n=t.options&&t.options.default,i=v(t.type,r.id,!1),o=i&&i.values;o?t.repeated?S.push(a.property(t.name)+": []"):(n=n&&o[n]?o[n].value:o[Object.keys(o)[0]].value,S.push(a.property(t.name)+": "+parseInt(n||0,10))):S.push(a.property(t.name)+": "+l(t,n))})),S=S.filter((b={},function(e){return!b.hasOwnProperty(e)&&(b[e]=!0,!0)})),w()("function decode (buf, offset, end) {")("if (!offset) offset = 0")("if (!end) end = buf.length")('if (!(end <= buf.length && offset <= buf.length)) throw new Error("Decoded message is not valid")')("var oldOffset = offset")("var obj = {"),S.forEach((function(e,t){w(e+(t===S.length-1?"":","))})),w("}"),g((function(e,t,r,n){t.required&&w("var found%d = false",n)})),w("while (true) {")("if (end <= offset) {")(_&&'if (%s) throw new Error("Decoded message is not valid")',_)("decode.bytes = offset - oldOffset")("return obj")("}")("var prefix = varint.decode(buf, offset)")("offset += varint.decode.bytes")("var tag = prefix >> 3")("switch (tag) {"),g((function(t,n,i,o){var s=n.repeated&&(n.options&&n.options.packed&&"false"!==n.options.packed||!(n.options&&"false"==n.options.packed)&&3==e.syntax&&("float"===n.type||"double"===n.type||-1!=n.type.indexOf("int")));w("case %d:",n.tag),n.oneof&&r.fields.forEach((function(e){e.oneof===n.oneof&&n.name!==e.name&&w("delete %s",a("obj",e.name))})),s&&w()("var packedEnd = varint.decode(buf, offset)")("offset += varint.decode.bytes")("packedEnd += offset")("while (offset < packedEnd) {"),t.message?(w("var len = varint.decode(buf, offset)"),w("offset += varint.decode.bytes"),n.map?(w("var tmp = %s.decode(buf, offset, offset + len)",h(f[o],p)),w("%s[tmp.key] = tmp.value",i)):n.repeated?w("%s.push(%s.decode(buf, offset, offset + len))",i,h(f[o],p)):w("%s = %s.decode(buf, offset, offset + len)",i,h(f[o],p))):n.repeated?w("%s.push(%s.decode(buf, offset))",i,h(f[o],p)):w("%s = %s.decode(buf, offset)",i,h(f[o],p)),w("offset += %s.decode.bytes",h(f[o],p)),s&&w("}"),n.required&&w("found%d = true",o),w("break")})),w()("default:")("offset = skip(prefix & 7, buf, offset)")("}")("}")("}"),w=w.toFunction({varint:i,skip:n.skip,enc:p}),y.bytes=w.bytes=0,c.buffer=!0,c.encode=y,c.decode=w,c.encodingLength=m,c.dependencies=p,c},v=function(e,t,a){if(r&&r[e])return r[e];if(n[e])return n[e];var s=(t?t+"."+e:e).split(".").map((function(t,r,n){return n.slice(0,r).concat(e).join(".")})).reverse().reduce((function(e,t){return e||u[t]||d[t]}),null);if(!1===a)return s;if(!s)throw new Error("Could not resolve "+e);return s.values?function(e){var t=Object.keys(e.values).map((function(t){return"val !== "+parseInt(e.values[t].value,10)})).join(" && ");t||(t="true");var r=o()("function encode (val, buf, offset) {")('if (%s) throw new Error("Invalid enum value: "+val)',t)("varint.encode(val, buf, offset)")("encode.bytes = varint.encode.bytes")("return buf")("}").toFunction({varint:i}),a=o()("function decode (buf, offset) {")("var val = varint.decode(buf, offset)")('if (%s) throw new Error("Invalid enum value: "+val)',t)("decode.bytes = varint.decode.bytes")("return val")("}").toFunction({varint:i});return n.make(0,r,a,i.encodingLength)}(s):p[s.id]?p[s.id]:(p[s.id]={},g(s,p[s.id]))};return(e.enums||[]).concat((e.messages||[]).map((function(e){return v(e.id)})))},e.exports.defined=s}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/protocol-buffers/index.js":function(e,t,r){(function(t){var n=r("./node_modules/protocol-buffers-schema/index.js"),i=r("./node_modules/protocol-buffers/compile.js"),a=r("./node_modules/protocol-buffers/compile-to-js.js");e.exports=function(e,r){if(r||(r={}),!e)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var a="object"!=typeof e||t.isBuffer(e)?n.parse(e):e,o=function(){var e=this;i(a,r.encodings||{},r.inlineEnc).forEach((function(t){e[t.name]=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(r){t[r]=e[r].value})),t}(t.values)||t}))};return o.prototype.toString=function(){return n.stringify(a)},o.prototype.toJSON=function(){return a},new o},e.exports.toJS=function(t){return a(e.exports(t,{inlineEnc:!0}))}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./node_modules/signed-varint/index.js":function(e,t,r){var n=r("./node_modules/varint/index.js");t.encode=function e(t,r,i){t=t>=0?2*t:-2*t-1;var a=n.encode(t,r,i);return e.bytes=n.encode.bytes,a},t.decode=function e(t,r){var i=n.decode(t,r);return e.bytes=n.decode.bytes,1&i?(i+1)/-2:i/2},t.encodingLength=function(e){return n.encodingLength(e>=0?2*e:-2*e-1)}},"./node_modules/util/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"./node_modules/util/support/isBufferBrowser.js":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/util/util.js":function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),l=n[r];r<a;l=n[++r])g(l)||!_(l)?o+=" "+l:o+=" "+s(l);return o},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var a,o={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(r)?n.showHidden=r:r&&t._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),u(n,e,n.depth)}function l(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function u(e,r,n){if(e.customInspect&&r&&C(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return m(i)||(i=u(e,i,n)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(v(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,r);if(a)return a;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),S(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(r);if(0===o.length){if(C(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(S(r))return d(r)}var c,_="",k=!1,I=["{","}"];(h(r)&&(k=!0,I=["[","]"]),C(r))&&(_=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(_=" "+RegExp.prototype.toString.call(r)),w(r)&&(_=" "+Date.prototype.toUTCString.call(r)),S(r)&&(_=" "+d(r)),0!==o.length||k&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=k?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)T(t,String(o))?a.push(p(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(p(e,t,r,n,i,!0))})),a}(e,r,n,s,o):o.map((function(t){return p(e,r,n,s,t,k)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,_,I)):I[0]+_+I[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),T(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(r)?u(e,l.value,null):u(e,l.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===k(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===k(e)}function S(e){return _(e)&&("[object Error]"===k(e)||e instanceof Error)}function C(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(y(a)&&(a=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(a)){var n=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else o[r]=function(){};return o[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=S,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r("./node_modules/util/support/isBufferBrowser.js");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=r("./node_modules/util/node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function x(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,r).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(x,t,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/varint/decode.js":function(e,t){e.exports=function e(t,i){var a,o=0,s=0,l=i=i||0,c=t.length;do{if(l>=c)throw e.bytes=0,new RangeError("Could not decode varint");a=t[l++],o+=s<28?(a&n)<<s:(a&n)*Math.pow(2,s),s+=7}while(a>=r);return e.bytes=l-i,o};var r=128,n=127},"./node_modules/varint/encode.js":function(e,t){e.exports=function e(t,a,o){a=a||[];var s=o=o||0;for(;t>=i;)a[o++]=255&t|r,t/=128;for(;t&n;)a[o++]=255&t|r,t>>>=7;return a[o]=0|t,e.bytes=o-s+1,a};var r=128,n=-128,i=Math.pow(2,31)},"./node_modules/varint/index.js":function(e,t,r){e.exports={encode:r("./node_modules/varint/encode.js"),decode:r("./node_modules/varint/decode.js"),encodingLength:r("./node_modules/varint/length.js")}},"./node_modules/varint/length.js":function(e,t){var r=Math.pow(2,7),n=Math.pow(2,14),i=Math.pow(2,21),a=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),l=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<r?1:e<n?2:e<i?3:e<a?4:e<o?5:e<s?6:e<l?7:e<c?8:e<u?9:10}},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=globalThis;try{n=n||new r("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}})),t}"undefined"==typeof __SDK_SUB_PACKAGE__&&(e.exports=n),globalThis.__protobufSDKGetter__={getProtobuf:()=>(...e)=>n()(...e)}},818:e=>{var t,r,n=n||function(e,t){var r={},n=r.lib={},i=function(){},a=n.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var i=0;i<e;i++)t[n+i>>>2]|=(r[i>>>2]>>>24-i%4*8&255)<<24-(n+i)%4*8;else if(65535<r.length)for(i=0;i<e;i+=4)t[n+i>>>2]=r[i>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new o.init(r,t)}}),s=r.enc={},l=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++){var i=t[n>>>2]>>>24-n%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},c=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,i=e.min(4*t,i),t){for(var l=0;l<t;l+=a)this._doProcessBlock(n,l);l=n.splice(0,t),r.sigBytes-=i}return new o.init(l,i)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}});var p=r.algo={};return r}(Math);!function(){var e=n,t=(a=e.lib).WordArray,r=a.Hasher,i=[],a=e.algo.SHA1=r.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],o=r[2],s=r[3],l=r[4],c=0;80>c;c++){if(16>c)i[c]=0|e[t+c];else{var u=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=u<<1|u>>>31}u=(n<<5|n>>>27)+l+i[c],u=20>c?u+(1518500249+(a&o|~a&s)):40>c?u+(1859775393+(a^o^s)):60>c?u+((a&o|a&s|o&s)-1894007588):u+((a^o^s)-899497514),l=s,s=o,o=a<<30|a>>>2,a=n,n=u}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(a),e.HmacSHA1=r._createHmacHelper(a)}(),function(){var e=n,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,r){e=this._hasher=new e.init,"string"==typeof r&&(r=t.parse(r));var n=e.blockSize,i=4*n;r.sigBytes>i&&(r=e.finalize(r)),r.clamp();for(var a=this._oKey=r.clone(),o=this._iKey=r.clone(),s=a.words,l=o.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;a.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),r=(t=n).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],a=0;a<r;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<r;s++)i.push(n.charAt(o>>>6*(3-s)&63));var l=n.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=n.charAt(64);if(i){var a=e.indexOf(i);-1!=a&&(t=a)}for(var o=[],s=0,l=0;l<t;l++)if(l%4){var c=n.indexOf(e.charAt(l-1))<<l%4*2,u=n.indexOf(e.charAt(l))>>>6-l%4*2;o[s>>>2]|=(c|u)<<24-s%4*8,s++}return r.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=n}},c={};function f(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={id:e,loaded:!1,exports:{}};return a[e](r,r.exports,f),r.loaded=!0,r.exports}f.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return f.d(t,{a:t}),t},f.d=(e,t)=>{for(var r in t)f.o(t,r)&&!f.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},f.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),f.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),f.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var b={};(()=>{"use strict";f.d(b,{default:()=>eNt});var a={};f.r(a),f.d(a,{onBeforeCopyUrl:()=>PE,onBeforeShareAppMessage:()=>kE,onBeforeUnloadPage:()=>SE,onPageReload:()=>vE,triggerBeforeCopyUrl:()=>IE,triggerBeforeShareAppMessage:()=>CE,triggerBeforeUnloadPage:()=>mE});var c={};f.r(c),f.d(c,{_triggerBeforeShareAppMessage:()=>xE,_triggerBeforeUnloadPage:()=>AE,createRouter:()=>fE,navigateBack:()=>rE,navigateTo:()=>cE,navigateToWithRelatedInfo:()=>uE,normalizeUrl:()=>Kx,onPageReload:()=>TE,reLaunch:()=>pE,redirectTo:()=>dE,switchTab:()=>hE});var u={};f.r(u),f.d(u,{PxStatus:()=>oL,sj:()=>vL,asyncSetup:()=>fL,Kn:()=>bL,BZ:()=>tL,X3:()=>nL,getStatus:()=>SL,p8:()=>wL,cY:()=>NL,cx:()=>mL});var S={};f.r(S),f.d(S,{_checkIsInteracting:()=>kj,_hideToast:()=>gj,_showModal:()=>ij,_showToast:()=>uj,_updateActionSheet:()=>Sj,_updateModal:()=>oj,_updateToast:()=>fj,hideLoading:()=>_j,hideToast:()=>vj,offNativeUi:()=>rj,onNativeUi:()=>tj,showActionSheet:()=>wj,showInnerToast:()=>hj,showLoading:()=>bj,showModal:()=>aj,showShareActionSheet:()=>Cj,showToast:()=>dj});var x={};f.r(x),f.d(x,{Path2D:()=>T3,canvasGetImageData:()=>B1,canvasGetImageData4Plugin:()=>$1,canvasPutImageData:()=>V1,canvasPutImageData4Plugin:()=>U1,canvasToTempFilePath:()=>c3,canvasToTempFilePath4Plugin:()=>u3,createCanvasContext:()=>R3,createCanvasContext4Plugin:()=>D3,createContext:()=>E3,createOffscreenCanvas:()=>k3,drawCanvas:()=>G1,drawCanvas4Plugin:()=>K1,drawCanvasImpl:()=>H1,getOrCreateCanvasInterface:()=>A3,isSkiaCanvasEnabled:()=>x1});var R={};f.r(R),f.d(R,{createAudioContext:()=>ole,createCameraContext:()=>z5,createInnerAudioContext:()=>Rse,createLivePlayerContext:()=>Zse,createLivePusherContext:()=>cZ,createMapContext:()=>Die,createSQEditorContext:()=>vle,createSQLivePlayerContext:()=>ele,createSQMapContext:()=>Oie,createSQVideoContext:()=>l0,createVideoContext:()=>s0});var O={};f.r(O),f.d(O,{ShareInfoStorage:()=>Pze,_getCurrentNetworkType:()=>ag,_getRealRoute:()=>AX,_triggerBeforeShareAppMessage:()=>Aze,_triggerBeforeUnloadPage:()=>Tze,addToFavorites:()=>aze,checkAPIAvailable:()=>wf,checkHandoffEnabled:()=>hze,creatPluginRouteEventManager:()=>QUe,createPluginConsole:()=>rje,createPluginWX:()=>tje,createPluginWXWebAssembly:()=>nje,emitIsolatedAppHide:()=>fje,emitIsolatedAppShow:()=>Pje,filterWebviewURL:()=>l2,fontFaceRecords:()=>mwe,getAppConfig:()=>ZUe,getAppLaunchWebviewIds:()=>qUe,getCachePermissionBytes:()=>Uje,getCloudFileUrl:()=>kX,getConnectedWifi:()=>Fze,getInnerEnterOptionsSync:()=>yh,getLaunchOptionsSync:()=>LO,getLogManager:()=>ez,getNetworkType:()=>eg,getPreloadAdUnitIds:()=>Nme,getPreloadVideoAdUnitIds:()=>Yce,getPublicLibVersion:()=>aU,getShareCookieString:()=>HS,getStableSystemInfo:()=>pw,getStaticSystemInfoSync:()=>Wb,getSystemInfoSync:()=>$b,hasRelievedBuyFlag:()=>wNe,invokeInnerShareCallbacks:()=>qje,invokeWebviewMethod:()=>iS,isIsolatedSubpackage:()=>m_e,onAddToFavorites:()=>nze,onAppConfig:()=>eze,onAppEnterBackground:()=>Id,onAppEnterForeground:()=>Eh,onAppHide:()=>kS,onAppRoute:()=>Jw,onAppRouteDone:()=>rG,onAppShow:()=>dS,onAppUnhang:()=>dje,onError:()=>qN,onExitMiniProgramSuccess:()=>f4,onNavigationBarTitleUpdate:()=>Cze,onPageNotFound:()=>Mje,onPageReload:()=>xze,onPullDownRefresh:()=>tze,onRealtimeDataResponse:()=>EV,onShareAppMessage:()=>rze,onShareTimeline:()=>_ze,onStartHandoff:()=>ize,onTabItemTap:()=>VN,onThemeChange:()=>Qre,onUnhandledRejection:()=>GN,onWebviewEvent:()=>Eze,operateRealtimeData:()=>xV,publishAnalyticsConfig:()=>oze,publishFunctionalPage:()=>Mze,publishPageLifecycleEmit:()=>Bze,publishPageScrollTo:()=>Rze,publishTelecontrol:()=>Dze,publishUpdateAppData:()=>Oze,pxPageAddToFavorites:()=>aWe,pxReportPageOnShow:()=>tWe,recordUnloadWebviewIdForUserBehaviorAnalytics:()=>eWe,reportActionTrace:()=>$ze,reportNativeUiEvent:()=>Qje,reportPv:()=>Nze,reportRealtimeAction:()=>sze,reportRecycledAPI:()=>P8,route:()=>c,setWeSessionId:()=>iWe,shareAppMessage:()=>lze,shareAppMessageDirectly:()=>cze,shareAppMessageForFakeNative:()=>dze,shareAppMessageToSpecificContactDirectly:()=>uze,shareAppMessageToSpecificContactForFakeNativeDirectly:()=>pze,shareTimeline:()=>wze,showShareMenu:()=>kze,showShareTimelineMenu:()=>Sze,showUpdatableMessageSubscribeButton:()=>bze,startHandoff:()=>Yje,startWifi:()=>jze,strToSHA1Hash:()=>Wze,subscribeRecycleStatistics:()=>fze,subscribeSavePageState:()=>gze,subscribeSubjectInfo:()=>Lze,subscribeTapHandoffButton:()=>mze,subscribeTapShareButton:()=>vze,subscribeTapShareTimeLineButton:()=>yze,trackWeReportSession:()=>rWe,uploadUserLogOnHide:()=>qz,userShareMenuState:()=>Ize});var N={};f.r(N),f.d(N,{beforeSubPackageReady:()=>h6,getSubpackagesConfig:()=>Vze,onSubPackageReady:()=>f6});var F={};f.r(F),f.d(F,{_WebAssembly:()=>x$e,_downloadFileSkipCheckDomain:()=>FC,_getSystemInfoSyncFromCache:()=>fw,_onHide:()=>kS,_onShow:()=>dS,_requestSkipCheckDomain:()=>UA,_socketSkipCheckDomainFactory:()=>SI,_uploadFileSkipCheckDomain:()=>fk,asyncSetup:()=>fL,cacheManager:()=>_qe,checkPermissionSync:()=>Vh,count:()=>LN,emitCloudNetworkReport:()=>Kq,emitEvent:()=>bL,getFeatureFlags:()=>tL,getFeatureFlagsSync:()=>nL,getStatus:()=>SL,handleWxobsError:()=>XD,invokeOperateWXData:()=>tx,isUsedCache:()=>zqe,privateCacheManager:()=>wqe,private_getBackgroundFetchData:()=>JX,private_getUserAgent:()=>ow,reportCallContainer:()=>lQ,request:()=>VA,setAttrs:()=>wL,setup:()=>NL,sum:()=>NN,teardown:()=>mL,uploadToCommonCDN:()=>II});var W={};f.r(W),f.d(W,{_emitTapAnyWhere:()=>Ik,getCurrentPages:()=>Yqe});var V={};f.r(V),f.d(V,{default:()=>R1e});var U={};f.r(U),f.d(U,{_WebAssembly:()=>x$e,_downloadFileSkipCheckDomain:()=>FC,_getSystemInfoSyncFromCache:()=>fw,_onHide:()=>kS,_requestSkipCheckDomain:()=>UA,_socketSkipCheckDomainFactory:()=>SI,_uploadFileSkipCheckDomain:()=>fk,cacheManager:()=>_qe,checkPermissionSync:()=>Vh,invokeOperateWXData:()=>tx,isUsedCache:()=>zqe,privateCacheManager:()=>wqe,private_getBackgroundFetchData:()=>JX,private_getUserAgent:()=>ow,reportCallContainer:()=>lQ,request:()=>VA,uploadToCommonCDN:()=>II});const z=h.initializerDefineProperty;var q=f.n(z);const H=h.applyDecoratedDescriptor;var G=f.n(H);const K=h.initializerWarningHelper;var J=Object.create(null);function X(e,t){return J[e]instanceof Array?(J[e].push(t),null):(J[e]=null,k.on(e,((e,r,n)=>{"number"!=typeof(null==n?void 0:n.__subscribe_webviewId)&&t(e,r,n)})))}function Y(e){return null===J[e]?(console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null):(J[e]=[],k.on(e,((...t)=>{var r=J[e];for(var n of r){if(!1===n(...t))break}})),t=>{J[e].unshift(t)})}function Q(e){if(null===J[e])return console.error("`splitOnBridgeListener` should be called before any listeners attached to it. Ignored."),null;J[e]=[];var t=!1,r=10086;return k.on(e,((...n)=>{t||(r=n);var i=J[e];for(var a of i){if(!1===a(...n))break}})),n=>{J[e].unshift(n),10086!==r&&(J[e].forEach((e=>{e(...r)})),r=10086),t=!0}}var Z={None:0,BeforeLaunch:1,AfterLaunch:2},ee=()=>{te!==v&&void 0!==te&&Object.assign(te,v)},te=(()=>(v.onReady(ee),v))();const re=te;var ne="undefined"!=typeof __initHelper&&1===__initHelper,ie,ae=e=>ie=e;ne&&(globalThis.getCloudSDKGlobalVar=()=>({WeixinJSBridge:k,wxConsole:y,Reporter:M,console:console,__appServiceSDK__:ie,__wxConfig:re,Foundation:m,IS_APP:!0}));var oe={},se=["onViewDidResize","onDeviceOrientationChange","onAppRouteResized","onDeviceOrientationChange","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onTextViewDrag","onImageViewLoad","onScrollViewScroll","onThemeChange","onKeyboardHeightChange"],le;se.forEach((e=>{oe[e]=Q(e)}));var ce={get invoke(){return le},set invoke(e){le=e}};const ue=ce,de={requestPayment:57,setNavigationBarRightButton:238,requestVirtualPayment:285,setCookies:502,getCookies:503,openBizProfile:560,UDP:606,launchApplicationDirectly:620,screenCanvasReadPixels:631,navigateToMiniProgramDirectly:632,openDataContextExtension:638,navigateBackNative:646,batchGetContactDirectly:676,launchApp:692,sendBizRedPacketForOpen:694,openWxappLimit5:720,shareCallback:740,chooseAddressForPlugin:765,openSettingForPlugin:768,requestPaymentForPlugin:771,WeAppWorker:775,listenFrameChangeInWorker:776,requestSubscribeWhatsNew:782,shareImageMessage:801,getGroupToolbarInfo:803,requestMidasFriendPayment:804,createWebView:805,openUrlForPlugin:844,enterContactForPlugin:850,authShareRelationship:852,setLoginAuthForPlugin:855,uploadToCommonCDN:878,quicklyAddBrandContact:879,engineOpenData:894,preloadMiniProgramEnvDirectly:900,predownloadMiniProgramPackageDirectly:901,openAddressWithLightMode:905,editTextWithPopForm:906,enableShareTimeLine:909,private_getEnterOptions:911,addPhoneRepeatCalendar:913,privateScanItem:917,shareDataToWeRun:926,handoff:931,private_chooseInvoiceTitleDirectly:932,private_getPhoneNumberDirectly:937,preloadWebview:955,private_openCardDirectly:961,bindingReadFile:973,bindingWebSocket:974,openH5GameClub:975,showShareImageMenu:978,openChannelsPostPage:984,private_plugin_webview:986,jumpRedPacketEnvelopePreview:988,sendRedCoverAppMsg:990,private_launchTrialMiniProgram:992,plugin_launchApplicationDirectly_operateDirectly:1009,publishWeChatState:1014,private_setNavigateBackInterception:1020,private_stopNavigateBackInterception:1021,privateSearchContacts:1024,TCP:1025,TCPServer:1026,inputTypeSafePassword:1027,startGameLiveDirectly:1045,getUserRecentGameLiveInfo:1049,private_getWebviewDebugInfo:1051,showRedPackage:1052,allowBufferWASM:1067,chooseAvatar:1081,showNicknameAccessory:1082,openPublicServicePayment:1084,reportRequestError2:1085,openUrlByExtBrowser:1115,reportRequestError3:1131,requestOrderPaymentForPlugin:1147,useFreeHttpDns:1151,openUrlByExtBrowser2:1161,reportRresult:1167,disableBusinessConfigCache:1181,WxaQualityOssRuleConfig:1182,gameRecorderShareTimelineCallback:1185,gameRecorderShareAppMessageCallback:1186,userObRecording:1187,forceUseAudioDynamic:1189,allowUseWePay:1202,gameLaunchPopupView:1218,gameWelfareView:1250,reportRequestErrorByAI:1212,reportPayVIPQuality:1214,openPaymentCompletedPage:1208,paymentCompletedPageCoupon:1211,quickSendRedPacket:1216,openPaymentCompletedPageFull:1217,markRelievedBuyFlag:1232,enableAIAD:1233,gameCouponHangings:1235,skipDomainCheck:1266,previewImageLocal:1257,useGameCoverCodeCache:1272,private_createVestUser:1279,openMedicalInsuranceService:1288,openBusinessView:1295,choosePhoneNumberAreaCode:1273,useMagicBrushFrame:1299,returnWebviewUrlNotInBizDomainList:1298,disablePrivacyOfficialPopup:1305,operateTingAudio:1319,startQuotaControl:1329,skipDomainCheck_downloadFile:1335,skipDomainCheck_uploadFile:1336,skipDomainCheck_socket:1337,aiadBanCache:1343,aiadOnlyUsePreviewCache:1344,skipCheckCommercialWxaEncryptLicense:1364,canOpenEmbeddedMiniProgramAfterPayment:1365,useAiAdPreviewAdForm:1369,forceUsePreloadVersion:1376,isLiteGame:1375,getSCLAdapterForPlugin:1380,getElementPickerForPlugin:1381,startScreenShotForPlugin:1382,enableAiAdMultiAd:1387,aiadEnablePreviewVisionOptimize:1388,operateWXDataQuic:1390,aiadUsePreviewAdType:1392,skipWorkerProtect:1396,aiadEnableVisionShelterIdentify:1397,aiadUseDynamicUsrCache:1404,aiadUseSingleVersionConfiguration:1405,aiadEnablePreviewInterstitialAd:1419,aiadUseIncrementalWrite:1420,aiadDisableQuickLoad:1421,getPlayableViewAPI:1422,aiadBanner2CustomFeedback:1423,aiadExceptAlgoVersionFallback:1424,openUrlByExtBrowser3:1425,requestCommonPaymentForPlugin:1429,aiadDelayRuntimeComputed:1428,enableCacheAiadMetaInfos:1434,enableCacheAiadInterstitial:1435,openGameDetail:1438,aiadVisionUseGrayInput:1440};var pe=null,he=[],fe=e=>{null!==pe?e():he.push(e)},ge=e=>{pe=e.data.pluginPermissionBytes,he.forEach((e=>e())),he=[]};k.subscribe("batchGetPluginPermissionBytes",ge),m.onLibraryEnd((()=>{void 0!==j&&"function"==typeof j.onSubContextMessage&&j.onSubContextMessage((e=>{"batchGetPluginPermissionBytes"===e.name&&ge(e)}))})),k.subscribe("getPluginPermissionBytesByJsApi",(e=>{be(e.data.pluginId,e.data.apiName,(t=>{k.publish("responseGetPluginPermissionBytesByJsApi",{data:{reqId:e.data.reqId,bytes:t},options:{timestamp:Date.now()}})}))}));var ve=e=>e.split("/",1)[0],me=(e,t)=>{var r,n,i=null===(r=pe)||void 0===r||null===(n=r[e])||void 0===n?void 0:n[t];return null==i?i=[0,0,0]:"object"!=typeof i&&(i=[i,i,i]),i};function ye(e,t,r){t=ve(t),delete r.permissionBytes;var n=me(t,e);return r.permissionBytes=n,r}function be(e,t,r){e=ve(e),v.supportInvokeWithAppId?k.invoke("getPluginPermissionBytes",{pluginList:[{pluginId:e,indexes:[de[t]]}]},(t=>{var n,i,a=(null===(n=t.pluginPermissionMap)||void 0===n||null===(i=n[e])||void 0===i?void 0:i[0])||0;r([a,a,a])})):fe((()=>{var n=me(e,t);r(n)}))}function _e(e,t,r,n){r=parseInt(r,10),be(e,t,(e=>{n(e[0]===r)}))}function we(e,t,r,n){r=parseInt(r,10),be(e,t,(e=>{n(e[0]!==r)}))}var Se=(()=>re.platform)(),Ce=(()=>"devtools"===Se)(),ke=(()=>"android"===Se)(),Ie=(()=>"ios"===Se)(),Pe=(()=>"windows"===Se)(),Te=(()=>"mac"===Se)(),Ae=(()=>"mina"===Se)(),xe=(()=>Pe||Te)();function Ee(){if(re&&"debug"in re&&void 0!==re.debug)return!!re.debug}var Me=(e=>null===(e=re.host)||void 0===e?void 0:e.env)(),Re=(()=>"SDK"===Me)(),De=(()=>"WMPF"===Me)(),Oe=(()=>"WeChat"===Me)(),Le=(e=>(null===(e=re.host)||void 0===e?void 0:e.forceUseNativeMap)||!1)(),Ne=function(){return"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME&&"undefined"!=typeof self?self&&self.__wkrenderer_h5:"object"==typeof window&&window&&window.__wkrenderer_h5}();function Be(){return"object"==typeof window&&window&&window.__wkrenderer_h5&&(2&window.__featBit)>0}function $e(){return f.g.__isAppServiceRemoteDebugMode__||"undefined"!=typeof __initHelper&&1===__initHelper}function Fe(){var e=re.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}function je(){var e=!0;return e}function We(){return!1}function Ve(){return!0}var Ue=(()=>!0)();function ze(){return 0===re.appType}var qe=[0,1,2,3,5,6,8,9,10,11,12,13];function He(){return qe.includes(re.appType)}function Ge(){return 7===re.appType}function Ke(){return 2===re.appType}function Je(){return 10===re.appType}function Xe(){return 19===WXConfig.appType}var Ye=(()=>Object.prototype.toString)(),Qe=p.prototype.call.bind(Ye);function Ze(e){return Qe(e).slice(8,-1)}function et(e,t){return null!=e&&(e instanceof t||null!=e.constructor&&e.constructor.name===t.name)}var tt=e=>"String"===Ze(e),rt=e=>"Number"===Ze(e),nt=e=>!0===e||!1===e||"Boolean"===Ze(e),it=e=>void 0===e,at=e=>null===e,ot=null,st=(()=>Number.isFinite||(e=>rt(e)&&f.g.isFinite(e)))(),lt=e=>rt(e)&&Math.abs(e)===1/0,ct=e=>st(e)&&Math.floor(e)===e,ut=e=>["string","number","boolean","undefined"].includes(typeof e),dt=e=>"Object"===Ze(e),pt=e=>dt(e)&&!at(e),ht=e=>"Object"===Ze(e),ft=(()=>Array.isArray||(e=>"Array"===Ze(e)))(),gt=e=>"function"==typeof e,vt=e=>"Date"===Ze(e),mt=e=>"RegExp"===Ze(e),yt=e=>"Error"===Ze(e),bt=e=>"Symbol"===Ze(e),_t=e=>"Map"===Ze(e),wt=e=>"WeakMap"===Ze(e),St=e=>"Set"===Ze(e),Ct=e=>"WeakSet"===Ze(e),kt=e=>"Promise"===Ze(e),It=e=>{for(var t in e)return!1;return!0},Pt=e=>"ArrayBuffer"===Ze(e),Tt=e=>"DataView"===Ze(e),At=e=>ArrayBuffer.isView(e)&&!Tt(e),xt=e=>e&&"WxVirtualNode"===e.type,Et=e=>e&&"WxVirtualText"===e.type;function Mt(e,t,r="parameter"){var n=Ze(t),i=Ze(e);if(i!==n)return`${r} should be ${n} instead of ${i};`;var a="";switch(n){case"Object":Object.keys(t).forEach((n=>{a+=Mt(e[n],t[n],`${r}.${n}`)}));break;case"Array":if(e.length<t.length)return`${r} should have at least ${t.length} item;`;for(var o=0;o<t.length;++o)a+=Mt(e[o],t[o],`${r}[${o}]`);break;case"String":if(t.length>0&&0===e.length)return`${r} should be not empty string`}return a}function Rt(e){try{return JSON.stringify(e)}catch(e){return e.message,""}}function Dt(){}var Ot=(()=>Object.assign)();function Lt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Nt(e,t,r){var n=Vt(r.value);return r.value=function(){return n.apply(this,arguments)},r}function Bt(e,t){return function(...r){try{return e(...r)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?M.thirdErrorReport({error:e,extend:t}):M.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function $t(e){var t=Ze(e);if("Array"===t||"Object"===t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"===t||"Number"===t||"Boolean"===t?e.toString():"Date"===t?e.getTime().toString():"Undefined"===t?"undefined":"Null"===t?"null":"";return{data:e,dataType:t}}var Ft=Bt($t,"anyTypeToString");function jt(e,t){return"String"===t?e:e="Array"===t||"Object"===t?JSON.parse(e):"Number"===t?parseFloat(e):"Boolean"===t?"true"===e:"Date"===t?new Date(parseInt(e,10)):"Undefined"===t?void 0:"Null"===t?null:""}var Wt=Bt(jt,"stringToAnyType");function Vt(e){return function(t={},...r){t=t||{};var{success:n,fail:i,complete:a}=t;return n||i||a?e.apply(this,[t].concat(r)):new Promise(((n,i)=>{var a=Ot({success:n,fail:i},t);e.apply(this,[a].concat(r))}))}}function Ut(e,t){if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onMethod:r}=SDK;return r(e,t)}X(e,Bt(t,`at api ${e} callback function`))}function zt(e,t){k.onThird(e,Bt(t,`at api ${e} callback function`))}var qt=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ht=20;function Gt(){this._events={},this._conf&&Kt.call(this,this._conf)}function Kt(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:Ht,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=Ht}function Jt(e,t){console.warn(`[Event] ${e} listeners of event ${t} have been added, possibly causing memory leak.`)}function Xt(e){this._events={},this._newListener=!1,this._removeListener=!1,Kt.call(this,e)}Xt.prototype.delimiter=".",Xt.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},Xt.prototype.event="",Xt.prototype.once=function(e,t){return this._once(e,t,!1)},Xt.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},Xt.prototype._once=function(e,t,r){return this._many(e,1,t,r),this},Xt.prototype.many=function(e,t,r){return this._many(e,t,r,!1)},Xt.prototype.prependMany=function(e,t,r){return this._many(e,t,r,!0)},Xt.prototype._many=function(e,t,r,n){var i=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function a(){return 0==--t&&i.off(e,a),r.apply(this,arguments)}return a._origin=r,this._on(e,a,n),i},Xt.prototype.emit=function(){this._events||Gt.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return!1;var t,r,n,i,a,o=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),o>3)for(t=new Array(o),i=0;i<o;i++)t[i]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this,e);break;case 2:a[n].call(this,e,arguments[1]);break;case 3:a[n].call(this,e,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}}if("function"==typeof(a=this._events[e])){switch(this.event=e,o){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];a.apply(this,t)}return!0}if(a&&(a=a.slice()),a&&a.length){if(o>3)for(t=new Array(o-1),i=1;i<o;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,o){case 1:a[n].call(this);break;case 2:a[n].call(this,arguments[1]);break;case 3:a[n].call(this,arguments[1],arguments[2]);break;default:a[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},Xt.prototype.emitAsync=function(){this._events||Gt.call(this);var e=arguments[0];if("newListener"===e&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,r,n,i,a,o=[],s=arguments.length;if(this._all){if(s>3)for(t=new Array(s),i=1;i<s;i++)t[i]=arguments[i];for(n=0,r=this._all.length;n<r;n++)switch(this.event=e,s){case 1:o.push(this._all[n].call(this,e));break;case 2:o.push(this._all[n].call(this,e,arguments[1]));break;case 3:o.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:o.push(this._all[n].apply(this,t))}}if("function"==typeof(a=this._events[e]))switch(this.event=e,s){case 1:o.push(a.call(this));break;case 2:o.push(a.call(this,arguments[1]));break;case 3:o.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];o.push(a.apply(this,t))}else if(a&&a.length){if(a=a.slice(),s>3)for(t=new Array(s-1),i=1;i<s;i++)t[i-1]=arguments[i];for(n=0,r=a.length;n<r;n++)switch(this.event=e,s){case 1:o.push(a[n].call(this));break;case 2:o.push(a[n].call(this,arguments[1]));break;case 3:o.push(a[n].call(this,arguments[1],arguments[2]));break;default:o.push(a[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(o)},Xt.prototype.on=function(e,t){return this._on(e,t,!1)},Xt.prototype.prependListener=function(e,t){return this._on(e,t,!0)},Xt.prototype.onAny=function(e){return this._onAny(e,!1)},Xt.prototype.prependAny=function(e){return this._onAny(e,!0)},Xt.prototype.addListener=Xt.prototype.on,Xt.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},Xt.prototype._on=function(e,t,r){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||Gt.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,Jt.call(this,this._events[e].length,e))):this._events[e]=t,this},Xt.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r,n=[];if(!this._events[e])return this;r=this._events[e],n.push({_listeners:r});for(var i=0;i<n.length;i++){if(r=n[i]._listeners,qt(r)){for(var a=-1,o=0,s=r.length;o<s;o++)if(r[o]===t||r[o].listener&&r[o].listener===t||r[o]._origin&&r[o]._origin===t){a=o;break}if(a<0)continue;return this._events[e].splice(a,1),0===r.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(r===t||r.listener&&r.listener===t||r._origin&&r._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var r=Object.keys(t);for(var n in r){var i=r[n],a=t[i];a instanceof p||"object"!=typeof a||null===a||(Object.keys(a).length>0&&e(t[i]),0===Object.keys(a).length&&delete t[i])}}}(this.listenerTree),this},Xt.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&this._all.length>0){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},Xt.prototype.removeListener=Xt.prototype.off,Xt.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||Gt.call(this),this):(this._events&&delete this._events[e],this)},Xt.prototype.listeners=function(e){return this._events||Gt.call(this),this._events[e]||(this._events[e]=[]),qt(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},Xt.prototype.eventNames=function(){return Object.keys(this._events)},Xt.prototype.listenerCount=function(e){return this.listeners(e).length},Xt.prototype.listenersAny=function(){return this._all?this._all:[]};const Yt=Xt;var Qt=(()=>new Yt({maxListeners:20,newListener:!1}))(),Zt=(()=>new Yt({maxListeners:30,newListener:!1}))();function er(e,t){return"function"!=typeof t?(console.error(`on${e} should accept a function instead of ${typeof t}`),null):E.surroundThirdByTryCatch(t,`at api on${e} callback function`)}function tr(e,t){return!t||"function"==typeof t||(console.error(`off${e} should accept a function instead of ${typeof t}`),!1)}var rr={};function nr(e){if(e=e[0].toUpperCase()+e.slice(1),!rr[e]){var t=new WeakMap;rr[e]={getGlobalListeners:()=>Qt.listeners(e),getInternalListeners:()=>Zt.listeners(e),emit:(...t)=>{Zt.emit(e,...t),Qt.emit(e,...t)},emitGlobal:(...t)=>{Qt.emit(e,...t)},emitInternal:(...t)=>{Zt.emit(e,...t)},internalOnMethod:(t,r={})=>{"function"==typeof t&&(r.prepend?r.once?Zt.prependOnceListener(e,t):Zt.prependListener(e,t):r.once?Zt.once(e,t):Zt.on(e,t))},internalOffMethod:t=>{"function"==typeof t&&Zt.off(e,t)},onMethod:r=>{var n=er(e,r);if(n){if(t.has(r)){var i=t.get(r);i.push(n),t.set(r,i)}else t.set(r,[n]);Qt.on(e,n)}},offMethod:r=>{if(tr(e,r))if(r){if(t.has(r)){t.get(r).forEach((t=>Qt.off(e,t))),t.delete(r)}}else t=new WeakMap,Qt.removeAllListeners(e)}}}return rr[e]}var ir={},ar=["onGameLiveStateChange","onAppEnterForeground","onAppEnterBackground","onWebviewFinishLoad","onWebInvokeAppService","WEB_INVOKE_APPSERVICE","onGameAuditsStateChange"],or={},sr=(e,...t)=>{if("undefined"!=typeof __IS_MINIGAME_LIVE_SUB_PACKAGE__){if(!ar.includes(e))return;var{acceptSyncMainPackageNativeEventFromSubPackage:r}=$;r(e,...t)}},lr=(e,...t)=>{getEventManager(`WeixinJSBridge-${e}`).emitInternal(...t)},cr=(e,t)=>{if("undefined"!=typeof __IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__&&__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__){var{onNativeEvent:r}=SDK;return r(e,t)}var n=nr(`WeixinJSBridge-${e}`);ir[e]||(Ut(e,((...t)=>{n.emit(...t),sr(e,...t)})),ir[e]=!0),n.internalOnMethod(t)},ur=(e,t)=>{var r=nr(`WeixinJSBridge-Third-${e}`);or[e]||(zt(e,((...e)=>{r.emit(...e)})),or[e]=!0),r.internalOnMethod(t)},dr=(e,t)=>{getEventManager(`WeixinJSBridge-Third-${e}`).internalOffMethod(t)},pr=(e,t)=>{nr(`WeixinJSBridge-${e}`).internalOffMethod(t)};function hr(e,t,r){return k.publish(e,t,r)}var fr=new Yt,gr,vr=e=>{gr=e,fr.emit("__virtualDOM__")},mr=fr.on.bind(fr,"__virtualDOM__"),yr,br=e=>yr=e,_r,wr=e=>{_r=e,fr.emit("__wxModule__")},Sr,Cr=e=>{Sr=e,fr.emit("__subContextEngineSub__")},kr=fr.on.bind(fr,"__subContextEngineSub__"),Ir=fr.on.bind(fr,"__wxModule__"),Pr,Tr=e=>Pr=e,Ar,xr=e=>{Ar=e,fr.emit("__cloudSDK__")},Er=fr.on.bind(fr,"__cloudSDK__"),Mr,Rr={},Dr=!1,Or=null,Lr=new Promise((e=>Or=e)),Nr=()=>Dr,Br=()=>Lr,$r=e=>Rr[e]||yr.getPageTypeById(e),Fr=(e,t)=>{"context"===t?Rr[e]=t:yr.setPageTypeById(e,t),(Dr=Dr||"webview"!==t)&&Or&&(Or(0),Or=null)},jr=e=>"webview"===e?e:"context",Wr=e=>{if(void 0===e||0===e.length)return{};var t=jr($r(e[0]));if(1===e.length)return{[t]:e};var r={};return e.forEach((e=>{var t=jr($r(e));void 0!==r[t]?r[t].push(e):r[t]=[e]})),r};null===(Mr=k.clientManager)||void 0===Mr||Mr.on("clientConnected",(e=>{Fr(e,"webview")}));var Vr=(e,t={},r)=>{Nr()&&(Array.isArray(r)?r.forEach((r=>{j.postMessageToSubContext({event:e,params:{params:t,pageId:r}},r)})):j.postMessageToSubContext({event:e,params:{params:t}},r))},Ur=(e,t={},r)=>{Nr()&&(Array.isArray(r)?r.forEach((r=>{j.postMessageToSubContextSync({event:e,params:{params:t,pageId:r}},r)})):j.postMessageToSubContextSync({event:e,params:{params:t}},r))};function zr(e,t,r){hr(e,{data:t,options:{timestamp:Date.now()}},r)}var qr=Ue?(e,t,r)=>{if(null==r)zr(e,t,r),Vr(e,t,r);else{var n=Wr(r);void 0!==n.webview&&zr(e,t,n.webview),void 0!==n.context&&Vr(e,t,n.context)}}:zr,Hr=(e,t,r)=>{if(null==r)zr(e,t,r),Ur(e,t,r);else{var n=Wr(r);void 0!==n.webview&&zr(e,t,n.webview),void 0!==n.context&&Ur(e,t,n.context)}};function Gr(e,t){k.subscribe(e,t)}function Kr(e,t){Gr(e,(({data:e,options:r},n,i={})=>{var a=r&&r.timestamp||0,o=Date.now();M.speedReport({key:"webview2AppService",data:e||{},timeMark:{startTime:a,endTime:o,nativeTime:i.nativeTime||0}}),"number"==typeof n&&void 0===$r(n)&&Fr(n,"webview"),"function"==typeof t&&t(e,n)}))}var Jr=(e,t)=>{Xr.on(e,(e=>{void 0===$r(e.pageId)&&Fr(e.pageId,"context"),t(e.params,e.pageId)}))},Xr=Ue?new m.EventEmitter:null;Ue&&m.onLibraryEnd((()=>{j.onSubContextMessage((e=>{Xr.emit(e.event,e.params)}))}));var Yr=Ue?(e,t)=>{Kr(e,t),Jr(e,t)}:Kr,Qr="",Zr="",en,tn=(e={},t)=>{var r=e.sessionid||e.sessionId,n=e.scene;e.transitExtraData?(Qr=e.transitExtraData.adUxInfo,Zr=e.transitExtraData.commonUxInfo):(t||r!==en&&1038!==n)&&(Qr="",Zr=""),en=r};re.onReady((()=>{tn(re.appLaunchInfo,!0)})),cr("onAppEnterForeground",(e=>{tn(e,!1)})),cr("onAppEnterBackground",((e={})=>{"back"!==e.mode&&"close"!==e.mode||(Qr="",Zr="")})),Yr("getAdUxInfo",((e,t)=>{qr("adUxInfoGot",{adUxInfo:Qr,callbackId:e.callbackId,commonUxInfo:Zr},[t])}));var rn=()=>Qr,nn=()=>Zr,an={customUrl:null,urlTitle:null,useCustomPrivacyAuthorization:!1,popUpTime:0,externInfo:{},regExp:"(.*)<a.*?href=['|\"](.*?)['|\"].*?>(.*?)</a>(.*)",standardInfo:{},isCache:!1,protoRes:{},hasAgree:!1,needScopeCache:[],unauthScopeCache:{},actionCache:0,banReasonCache:null,officialPrivacyAuthorizationShowingGap:60,minGap:60,popUpInterval:{},forceOffcial:0,safeAreaHeight:0,isShowing:!1,requireAuthJSApiList:[],requireAuthJSApiListMap:{},requireAuthPipelineList:[],requireAuthPipelineListMap:{},requireAuthOuterScopeList:[],requireAuthOuterScopeListMap:{},useCheckBoxOnClientPopup:!1,didReportForPrivacyCheckBox:!1},on={jsapi_location:!0,jsapi_location_background:!0,jsapi_gameclubdata:!0,group_jumpfinderlive:!0,jsapi_fuzzy_location:!0,webapi_userinfo:!0,webapi_getuserwxphone_group:!0,webapi_werun:!0,jsapi_licenseplate:!0,jsapi_record:!0,jsapi_camera:!0,webapi_bluetooth:!0,jsapi_photos_album:!0,jsapi_phonecontact:!0,jsapi_photocalendar:!0,jsapi_choose_location:!0,jsapi_address:!0,jsapi_invoice:!0,jsapi_media:!0,jsapi_messagefile:!0,jsapi_accelerometer:!0,jsapi_wxfriend_interaction:!0,jsapi_compass:!0,jsapi_devicemotion:!0,jsapi_gyroscope:!0,jsapi_clipboard:!0},sn={getLocation:[["jsapi_location"],"getLocation",""],startLocationUpdate:[["jsapi_location"],"enableLocationUpdate",""],onLocationChange:[["jsapi_location"],"",""],"scope.userLocation":[["jsapi_location"],"getLocation",""],getWifiList:[["jsapi_location"],"getLocation",""],moveToLocation:[["jsapi_location"],"moveToMapLocation",""],startLocationUpdateBackground:[["jsapi_location_background"],"enableLocationUpdateBackground",""],"scope.userLocationBackground":[["jsapi_location_background"],"enableLocationUpdateBackground",""],getGameClubData:[["jsapi_gameclubdata"],"","webapi_getgameclubdata"],"scope.gameClubData":[["jsapi_gameclubdata"],"","webapi_getgameclubdata"],getChannelsLiveInfo:[["group_jumpfinderlive"],"","webapi_getfinderviewlastlive"],getFuzzyLocation:[["jsapi_fuzzy_location"],"getFuzzyLocation",""],"scope.userFuzzyLocation":[["jsapi_fuzzy_location"],"getFuzzyLocation",""],getUserProfile:[["webapi_userinfo"],"","webapi_getuserprofile"],getUserInfo:[["webapi_userinfo"],"","webapi_getuserinfo"],"UserInfoButton.onTap":[["webapi_userinfo"],"","webapi_getuserinfo"],"button.chooseAvatar":[["webapi_userinfo"],"","webapi_getuseravatarpopupinfo"],"input.nickname":[["webapi_userinfo"],"","webapi_getuseravatarpopupinfo"],"scope.userInfo":[["webapi_userinfo"],"","webapi_getuserinfo"],"button.getPhoneNumber":[["webapi_getuserwxphone_group"],"",""],getWeRunData:[["webapi_werun"],"","webapi_getwerunstep_history"],"scope.werun":[["webapi_werun"],"","webapi_getwerunstep_history"],chooseLicensePlate:[["jsapi_licenseplate"],"",""],startRecord:[["jsapi_record"],"startRecord",""],"RecorderManager.start":[["jsapi_record"],"startRecord",""],"RecorderManager.stop":[["jsapi_record"],"operateRecorder",""],joinVoIPChat:[["jsapi_record"],"startRecord",""],join1v1Chat:[["jsapi_record"],"startRecord",""],"scope.record":[["jsapi_record"],"startRecord",""],"wx-live-pusher.attached":[["jsapi_record","jsapi_camera"],"startRecord",""],"VKSession.start":[["jsapi_camera"],"insertCamera",""],"CameraContext.onCameraFrame":[["jsapi_camera"],"insertCamera",""],"scope.camera":[["jsapi_camera"],"insertCamera",""],"wx-camera.attached":[["jsapi_camera"],"insertCamera",""],createCamera:[["jsapi_camera"],"insertCamera",""],openBluetoothAdapter:[["webapi_bluetooth"],"openBluetoothAdapter",""],createBLEPeripheralServer:[["webapi_bluetooth"],"createBLEPeripheralServer",""],"scope.bluetooth":[["webapi_bluetooth"],"openBluetoothAdapter",""],saveImageToPhotosAlbum:[["jsapi_photos_album"],"saveImageToPhotosAlbum",""],saveVideoToPhotosAlbum:[["jsapi_photos_album"],"saveVideoToPhotosAlbum",""],"scope.writePhotosAlbum":[["jsapi_photos_album"],"saveImageToPhotosAlbum",""],addPhoneContact:[["jsapi_phonecontact"],"addPhoneContact",""],"scope.addPhoneContact":[["jsapi_phonecontact"],"addPhoneContact",""],addPhoneRepeatCalendar:[["jsapi_photocalendar"],"addPhoneRepeatCalendar",""],addPhoneCalendar:[["jsapi_photocalendar"],"addPhoneCalendar",""],"scope.addPhoneCalendar":[["jsapi_photocalendar"],"addPhoneCalendar",""],chooseLocation:[["jsapi_choose_location"],"",""],choosePoi:[["jsapi_choose_location"],"",""],chooseAddress:[["jsapi_address"],"openAddress",""],"scope.address":[["jsapi_address"],"openAddress",""],chooseInvoiceTitle:[["jsapi_invoice"],"chooseInvoiceTitle",""],chooseInvoice:[["jsapi_invoice"],"chooseInvoice",""],"scope.invoiceTitle":[["jsapi_invoice"],"chooseInvoiceTitle",""],"scope.invoice":[["jsapi_invoice"],"chooseInvoice",""],chooseVideo:[["jsapi_media"],"",""],chooseImage:[["jsapi_media"],"",""],chooseMedia:[["jsapi_media"],"",""],chooseMessageFile:[["jsapi_messagefile"],"",""],startAccelerometer:[["jsapi_accelerometer"],"",""],stopAccelerometer:[["jsapi_accelerometer"],"",""],onAccelerometerChange:[["jsapi_accelerometer"],"",""],offAccelerometerChange:[["jsapi_accelerometer"],"",""],getFriendCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_getfrienduserstorage"],getGroupCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_getgroupuserstorage"],getGroupInfo:[["jsapi_wxfriend_interaction"],"","webapi_getshareinfo_byopengid"],getPotentialFriendList:[["jsapi_wxfriend_interaction"],"","webapi_game_potential_friends"],getUserCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_getselfuserstorage"],setUserCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_setselfuserstorage"],removeUserCloudStorage:[["jsapi_wxfriend_interaction"],"","webapi_removeselfuserstorage"],getUserCloudStorageKeys:[["jsapi_wxfriend_interaction"],"","webapi_getuserstorageallappkey"],"GameServerManager.getFriendsStateData":[["jsapi_wxfriend_interaction"],"","webapi_opengameinfo_getfriendsuserdata"],getUserInteractiveStorage:[["jsapi_wxfriend_interaction"],"","webapi_getuserinteractivedata"],"scope.WxFriendInteraction":[["jsapi_wxfriend_interaction"],"","webapi_getuserinteractivedata"],"openDataContext.getUserInfo":[["jsapi_wxfriend_interaction"],"","webapi_getuserinfo_byopenid"],"scope.cloudGameFriend":[["app_snsapi_friend"],"",""],startCompass:[["jsapi_compass"],"",""],stopCompass:[["jsapi_compass"],"",""],onCompassChange:[["jsapi_compass"],"",""],offCompassChange:[["jsapi_compass"],"",""],startDeviceMotionListening:[["jsapi_devicemotion"],"",""],stopDeviceMotionListening:[["jsapi_devicemotion"],"",""],onDeviceMotionChange:[["jsapi_devicemotion"],"",""],offDeviceMotionChange:[["jsapi_devicemotion"],"",""],startGyroscope:[["jsapi_gyroscope"],"",""],stopGyroscope:[["jsapi_gyroscope"],"",""],onGyroscopeChange:[["jsapi_gyroscope"],"",""],offGyroscopeChange:[["jsapi_gyroscope"],"",""],setClipboardData:[["jsapi_clipboard"],"",""],getClipboardData:[["jsapi_clipboard"],"",""]},ln=(e,t={})=>{if(an.didReportForPrivacyCheckBox)return!1;if("operateWXData"===e){var r;if(null!=t&&null!==(r=t.data)&&void 0!==r&&r.api_name)return an.requireAuthPipelineListMap[t.data.api_name]}else{if("authorize"!==e)return an.requireAuthJSApiListMap[e];if(t.scope&&t.scope[0])return an.requireAuthOuterScopeListMap[t.scope[0]]}};function cn(){return 4===re.appType||19===re.appType}var un=new Yt;function dn(e,t,r,n={}){var i=r;r=r=>{ln(e,t)&&(0===(r.errMsg||`${e}:ok`).indexOf(`${e}:ok`)&&un.emit("success",e));"function"==typeof i&&i(r)},"navigateToMiniProgram"!==e&&"openUrl"!==e&&"private_openUrl"!==e||(t.adUxInfo=t.adUxInfo||rn(),t.commonUxInfo=t.commonUxInfo||nn());var a=n.appId;return"splashad"===m.env.workerType||re.supportInvokeWithAppId||void 0===a||cn()?k.invoke(e,t,r,n):fe((()=>{var i=ye(e,a,t);k.invoke(e,i,r,n)}))}function pn(e,t,r,n={}){if(ke)try{t=JSON.stringify(t)}catch(e){console.error("invokeThird unexpected arguments:",t)}return k.invokeThird(e,t,r,n)}var hn={},fn={},gn={},vn=0,mn=(e,t)=>Object.keys(t).map((r=>Object.keys(t[r]).map((n=>({func:r,result:e,errMsg:n,count:t[r][n]}))))),yn=()=>{hn={},fn={},gn={}},bn=()=>{var e=mn(1,hn),t=mn(2,fn),r=mn(3,gn),n=[].concat(e,t,r);0!==n.length&&fd("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxajsapi",dataType:1,dataArray:n,appType:M.getAppType()}),noCallback:!0}),yn()},_n=(e,t,r,n,i)=>{var a;(a=t?hn:r?fn:gn)[e]=a[e]||{},a[e][i]=(a[e][i]||0)+1,Date.now()-vn>=6e4&&(vn=Date.now(),setTimeout(bn,6e4))},wn=0,Sn=1,Cn=2,kn=3,In=4,Pn=5,Tn=6,An=7,xn=8,En=100,Mn=101,Rn=102,Dn=103,On=104,Ln=105,Nn=106,Bn=107,$n=108,Fn=109,jn=110,Wn=111,Vn=112,Un=1e3,zn=1001,qn=1002,Hn=1003,Gn=1004,Kn=1005,Jn=1006,Xn=1007,Yn=1008,Qn=1009,Zn=1010,ei=1011,ti=1012,ri=1013,ni=1014,ii=1015,ai=1016,oi=1017,si=1018,li=1019,ci=1020,ui=1021,di=1022,pi=1023,hi=1024,fi=1025,gi=1026,vi=50001,mi=100001,yi=101100,bi=101101,_i=101102,wi=102101,Si=103101,Ci=103102,ki=106e3,Ii=106001,Pi=106002,Ti=106003,Ai=106004,xi=106005,Ei=106010,Mi=109001,Ri=2e5,Di=201001,Oi=201002,Li=201003,Ni=301001,Bi=301002,$i=301003,Fi=401101,ji=401102,Wi=500001,Vi=502001,Ui=503101,zi=504101,qi=505101,Hi=510001,Gi=510101,Ki=6e5,Ji=600001,Xi=600002,Yi=600003,Qi=600004,Zi=600005,ea=600006,ta=600007,ra=600008,na=600009,ia=600010,aa=600011,oa=602e3,sa=602001,la=602002,ca=602101,ua=602102,da=602103,pa=602104,ha=602105,fa=602106,ga=602107,va=602108,ma=602120,ya=602300,ba=602301,_a=602302,wa=603101,Sa=603102,Ca=603103,ka=603104,Ia=603105,Pa=603300,Ta=603301,Aa=603302,xa=603303,Ea=605101,Ma=605102,Ra=605103,Da=606101,Oa=7e5,La=700001,Na=701e3,Ba=701001,$a=701002,Fa=701100,ja=701101,Wa=701102,Va=701103,Ua=701104,za=701105,qa=701106,Ha=701107,Ga=701108,Ka=701109,Ja=701110,Xa=701111,Ya=701112,Qa=701113,Za=701114,eo=701115,to=701116,ro=701117,no=8e5,io=800001,ao=800002,oo=800003,so=801001,lo=802001,co=901101,uo=901102,po=901103,ho=1103002,fo=1103003,go=1103004,vo=1103005,mo=1103006,yo=1103007,bo=1107001,_o=1107002,wo=1107003,So=1107004,Co=1107005,ko=1107006,Io=1107007,Po=1107008,To=1107009,Ao=1107010,xo=1107011,Eo=1107012,Mo=1107013,Ro=12e5,Do=1300001,Oo=1300002,Lo=1300005,No=1300009,Bo=1300013,$o=1300014,Fo=1300020,jo=1300021,Wo=1300022,Vo=1300036,Uo=1300066,zo=1300201,qo=1300202,Ho=1300203,Go=1300300,Ko=1300301,Jo=1301e3,Xo=1301002,Yo=1301003,Qo=1301004,Zo=1301005,es=1301006,ts=1301007,rs=1301008,ns=1301009,is=1301100,as=1301102,os=1301103,ss=1301104,ls=1301111,cs=1301112,us=1302001,ds=1302002,ps=1302003,hs=1302004,fs=1302005,gs=1302100,vs=14e5,ms=1400001,ys=1402101,bs=1404e3,_s=1404100,ws=1404101,Ss=1404102,Cs=1404103,ks=1404104,Is=1412e3,Ps=1412001,Ts=1412002,As=1412003,xs=1412004,Es=1416100,Ms=1416101,Rs=1416102,Ds=1416103,Os=1416104,Ls=1416105,Ns=1416106,Bs=1416107,$s=1416108,Fs=1416109,js=1420103,Ws=1421101,Vs=1500101,Us=1500102,zs=1500103,qs=1500104,Hs=1500105,Gs=1502001,Ks=1502002,Js=1502003,Xs=1503e3,Ys=1504e3,Qs=1504001,Zs=1504002,el=1504003,tl=1504100,rl=1504101,nl=1504200,il=1504201,al=1504202,ol=1504203,sl=1504204,ll=1504205,cl=1504206,ul=1504207,dl=1504208,pl=1504209,hl=1504210,fl=1505e3,gl=1505001,vl=1505002,ml=1505003,yl=1505004,bl=1505005,_l=1505006,wl=1505020,Sl=1505021,Cl=1505022,kl=1505023,Il=1505024,Pl=1505025,Tl=1505026,Al=1505027,xl=1505028,El=1505029,Ml=1505030,Rl=1505031,Dl=1505032,Ol=1505040,Ll=1509e3,Nl=1509001,Bl=1509002,$l=1509003,Fl=1509004,jl=1509005,Wl=1509006,Vl=1509007,Ul=1509008,zl=1509009,ql=1509010,Hl=151e4,Gl=1510101,Kl=1510102,Jl=1510103,Xl=1510104,Yl=1510105,Ql=1510106,Zl=1510107,ec=1510108,tc=1510109,rc=1510110,nc=1510111,ic=1510112,ac=1510113,oc=1510114,sc=1512001,lc=1512002,cc=1517001,uc=1525001,dc=1525002,pc=1525003,hc=2e6,fc=2000001,gc=2000002,vc=2000003,mc=2000004,yc=2002e3,bc=2002001,_c=2002002,wc=2002003,Sc=2002004,Cc=2002005,kc=2003e3,Ic=2003001,Pc=2003002,Tc=2004e3,Ac=2004001,xc=2004002,Ec=2004003,Mc=2004004,Rc=2004005,Dc=2004006,Oc=2004007,Lc=2004008,Nc=2004009,Bc=2004010,$c=2004011,Fc=2004012;function jc(e,t,r){var n=Mt(t,r);return!n||(zc({name:e,args:t,errno:zn,errMsg:`parameter error: ${n}`,success:!1}),!1)}function Wc(e,t){var r=Mt(e,t);if(r)throw new Error(`parameter error: ${r}`)}function Vc(e,t={},r,n){var i=rt(r);zc({name:e,args:t,errno:i?r:void 0,errMsg:i?void 0:r,errCode:i?void 0:n,success:!1})}function Uc({name:e,args:t={},errMsg:r="",res:n={}}){t=t||{};var i=`${e}:${r}`,a=E.surroundThirdByTryCatch(t.complete||Dt,`at api ${e} complete callback function`);n.errMsg=i,a(n)}function zc({name:e,args:t={},success:r=!0,errno:n,errMsg:i="",errCode:a,res:o={},exception:s}){t=t||{};var l=E.surroundThirdByTryCatch((r?t.success:t.fail)||Dt,`at api ${e} ${r?"success":"fail"} callback function`),c=E.surroundThirdByTryCatch(t.complete||Dt,`at api ${e} complete callback function`);rt(n)?(o.errno=n,o.errMsg=`${e}:fail${i&&":"!==i[0]?" ":""}${i||""}`):(o.errMsg=r?`${e}:ok`:`${e}:fail ${i}`,rt(a)&&(o.errCode=a)),s&&(o.exception=s),l(o),c(o)}var qc=({success:e,fail:t,complete:r}={},n)=>{var i=e=>{"function"==typeof t&&(n?E.surroundThirdByTryCatch(t,`at api ${n} fail callback function`)(e):t(e)),"function"==typeof r&&(n?E.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(e):r(e))};return{success:t=>{void 0===t.errMsg&&n&&(t.errMsg=`${n}:ok`),"function"==typeof e&&(n?E.surroundThirdByTryCatch(e,`at api ${n} success callback function`)(t):e(t)),"function"==typeof r&&(n?E.surroundThirdByTryCatch(r,`at api ${n} complete callback function`)(t):r(t))},fail:i,failWithMsg:({code:e,msg:t,errno:r,name:a}={})=>{var o={};"number"==typeof r&&r>0?(o.errno=r,o.errMsg=`${a||n}:fail`):(o.errMsg=`${a||n}:fail ${t||""}`,"number"==typeof e&&(o.errCode=e)),i(o)}}},Hc=(()=>Object.assign)();function Gc(e,t,r){var n=r.value,i=surroundByPromiseFactory(Yc(t,n));return r.value=function(){return i.apply(this,arguments)},r}var Kc=Symbol("ErrorInfosSymbol"),Jc=(()=>class extends Error{constructor(e,t={}){super(e),this[Kc]=t}})(),Xc=e=>(t={},...r)=>new Promise(((n,i)=>e(Hc({},t,{success:n,fail:e=>{var{errMsg:t}=e,r=Hc({},e);delete r.errMsg;var n=new Error(t.replace(/^\w+:fail ?/,""));Hc(n,r),n[Kc]=r,i(n)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var r=new Error(e.errMsg.replace(/^\w+:/,"")),n=Hc({},e);delete n.errMsg,Hc(r,n),r[Kc]=n,r._complete_hook=!0,i(r)}}}),...r)));function Yc(e,t){return(r={},...n)=>{var i={success:r.success,fail:r.fail,complete:r.complete};delete(r=Hc({},r)).success,delete r.fail,delete r.complete,t(r,...n).then((t=>zc({name:e,args:i,success:!0,res:t})),(t=>{t._complete_hook?Uc({name:e,args:i,errMsg:t.message,res:t[Kc]||{}}):zc({name:e,args:i,success:!1,errMsg:t.message,res:t[Kc]||{}})}))}}var Qc=(e,t)=>Vt(Yc(e,t)),Zc=1024,eu={FORE_GROUND:0,BACK_GROUND:1,LOCK:2},tu=null,ru=null,nu=null,iu=void 0,au=new Promise((e=>{nu=e})),ou={lastRoute:"",lastOpenType:"",lastActiveWebviewId:null,pageRenderer:"",scene:-1,sceneNote:"",query:{},rawPath:"",runningStatus:"active",openUrlLock:!1,openUrlExtBrowserLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:eu.FORE_GROUND,navigationBarTitleMap:{},currentNetworkType:"",isWeakNetwork:!1,singlePageData:{},openingInnerPage:!1,get currentWebviewId(){return iu},set currentWebviewId(e){iu=e,nu&&(nu(null),nu=null)},currentWebviewIdPromise:au,getWebviewIds:()=>yr.getGlobalWebviewIds(),get hasWebViewCompnent(){return Boolean(ou.webViewComponentInfo[iu])},webViewComponentInfo:{},get lastActiveRoute(){if("number"!=typeof ou.lastActiveWebviewId)return ou.lastRoute;var e=yr.getPageByWebviewId(ou.lastActiveWebviewId);return(null==e?void 0:e.route)||ou.lastRoute}};const su=ou;var lu={OK:0,BLOCK:1,BLOCK_WITH_TOAST:2},cu={OK:1,BLOCK:2,NO_BLOCK:3},uu={NAVIGATE_TO:1,SWITCH_TAB:2,REDIRECT_TO:3,API:4,RE_LAUNCH:5},du="该功能暂时无法使用",pu=_.createLogger("BanForPage"),hu=!1,fu=new Set(["shareAppMessage","shareAppMessageDirectly","requestPayment","setClipboardData","getClipboardData","getLocation","getPhoneNumber","navigateToMiniProgram","navigateBackMiniProgram"]),gu=[];function vu(e){if(!e)return-1;var t=-1;try{t=gu.findIndex((t=>tt(t.path_rule)&&new RegExp(t.path_rule).test(e)))}catch(e){pu.log(`[getBanRuleIndexByPath] error: ${e.message}`)}return pu.log(`[getBanRuleIndexByPath] path="${e}", index=${t}`),t}function mu(e,t,r){for(var n=-1,i=0;i<gu.length;i++){var a=gu[i];if((!tt(a.path_rule)||!a.path_rule||new RegExp(a.path_rule).test(t))&&(!tt(a.title_rule)||!a.title_rule||new RegExp(a.title_rule).test(r))){n=i;break}}return pu.log(`[getBanRuleIndexForPage] banRuleIndex=${n}`),n}function yu(e,t){var r,n,i=e.ban_jsapi_list.find((e=>e.jsapi_name===t));if(!i)return pu.log("[checkAPIAvailableForPageByRule], no APIItem found"),!0;if(pu.log("[checkAPIAvailableForPageByRule], found APIItem:",i),i.state===lu.OK)r=!1;else if(i.state===lu.BLOCK)r=!0;else if(i.state===lu.BLOCK_WITH_TOAST&&(r=!0,1===e.is_valid)){var a=i.toast_wording||du;Sd("showToast",{title:a,icon:"none"})}return n=r?e.is_valid?cu.BLOCK:cu.NO_BLOCK:cu.OK,wu(t,n,uu.API,t),1!==e.is_valid||!r}function bu(e,t,r){var n=mu(e,t,r);return-1===n?(wu(e,cu.OK,uu.API,e),!0):yu(gu[n],e)}function _u(e){var t=Object.keys(su.query).reduce(((e,t)=>[...e,`${t}=${su.query[t]}`]),[]).join("&");return bu(e,su.lastRoute+(t?`?${t}`:""),su.navigationBarTitleMap[su.lastRoute]||"")}function wu(e,t,r,n="",i=""){if(pu.log(`[reportAPIBanForPage] APIName=${e}, blockType=${t}, checkScene=${r}, extraInfo=${n}, needReport=${hu}`),hu){var{appLaunchInfo:a}=re,o=Object.keys(su.query).map((e=>`${e}=${su.query[e]}`)).join("&"),s={session_id:a.sessionid||a.sessionId,cur_path:su.lastRoute+(o?`?${o}`:""),title:su.navigationBarTitleMap[su.lastRoute],check_scene:r,block_status:t,extra_info:n,launch_scene:a.scene,launch_path:a.path,target_path:i};pu.log("[reportAPIBanForPage], reqData:",s),tx({reqData:s,apiName:"webapi_reportnvgcheckinfo",complete(e){pu.log(`[reportAPIBanForPage], res.errMsg=${e.errMsg}`)}})}}re.onReady((()=>{if(!Ce)try{var{do_report:e,navigate_ban_rule_list:t}=re.appContactInfo.operationInfo.jsonInfo.navigate_ban_info;gu=t,hu=1===e&&He(),fu=new Set(t.reduce(((e,t)=>[...e,...t.ban_jsapi_list]),fu))}catch(e){pu.error(`[BanForPage][init] fail, errMsg=${e.message}`)}}));var Su=p.prototype.call.bind(Array.prototype.push),Cu=p.prototype.call.bind(Array.prototype.forEach),ku=["startPullDownRefresh"],Iu=[],Pu={appRoute:!1,appRouteDone:!1},Tu=()=>{Cu(Iu,(e=>{var{name:t,args:r,option:n}=e;hd(t,r,n)})),Iu=[]},Au=(e,t,r)=>{var{appRoute:n,appRouteDone:i}=Pu;!n&&i?hd(e,t,r):Su(Iu,{name:e,args:t,option:r})},xu=void 0!==l&&l?l.version:"unknown",Eu=void 0!==l&&l?l.updateTime:"unknown";"string"==typeof xu&&(xu=xu.replace(" ","")),"string"==typeof Eu&&(Eu=Eu.replace(" ","-"));var Mu=()=>xu,Ru=()=>Eu;function Du(e){return t=>"string"==typeof t&&t.length>e?t.substr(0,e):t}function Ou(e,t=!0){var r=Ze(e);switch(r){case"Number":case"Boolean":return e;case"String":return Du(512)(e).replace(/\|/g,"||").replace(/,/g,"|.");case"Error":return`[Error:${Ou(e.message)}|${Ou(e.stack)}]`;case"Object":return t?Object.keys(e).map((t=>`${Ou(t)}=${Ou(e[t],!1)}`)).sort(((e,t)=>e.length-t.length)).join("&")||"{}":`[${r}]`;case"Array":var n=[];return t?(e.forEach((e=>n.push(Ou(e,"Array"!==Ze(e))))),n.join(";")):`[${r}]`;default:return`[${r}]`}}var Lu={};re.onReady((()=>{Object.assign(Lu,re.appLaunchInfo),cr("onAppEnterForeground",(e=>{Object.assign(Lu,e)}))}));var Nu=()=>Lu;function Bu(){if(void 0===yr)return"";var e=yr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}var $u=(()=>Array.prototype.map)(),Fu=p.prototype.call.bind($u),ju=(()=>Array.prototype.join)(),Wu=p.prototype.call.bind(ju);function Vu(e,t,r){var n=t.url||"",i=Wu(Fu([re.appType+1e3,e,Bu(),Nu().scene,encodeURIComponent(Nu().scene_note||Nu().sceneNote),Ou(t),r,0,Mu(),Ru(),Nu().sessionid||Nu().sessionId,n],Du(1024)),",");M.reportKeyValue({key:"OpenUrl",value:i})}var Uu=(()=>Object.create)(),zu=(()=>Object.assign)(),qu=(()=>Object.keys)(),Hu=(()=>Array.prototype.reduce)(),Gu=Array.prototype.includes.bind(ku),Ku=p.prototype.call.bind(Hu),Ju=["open","openSync","close","closeSync","fstat","fstatSync","write","writeSync","read","readSync","truncate","truncateSync","ftruncate","ftruncateSync"],Xu=e=>Ne||ke&&Ju.includes(e),Yu;function Qu(e){void 0===Yu&&(Yu=e)}function Zu(e,t,r,n,i){var a=function(){"function"==typeof e.success&&e.success(r),"function"==typeof n.afterSuccess&&n.afterSuccess(r)};"function"==typeof n.beforeSuccess?2===n.beforeSuccess._argumentsLength?n.beforeSuccess(r,a):(n.beforeSuccess(r),a()):a(),"function"==typeof Yu&&Yu(t,i)}function ed(e,t,r,n){var i=new RegExp(`${t}:(fail |fail:)?cancel`);e.errMsg=e.errMsg.replace(i,`${t}:fail cancel`),"function"==typeof r.fail&&r.fail(e),"function"==typeof n.beforeCancel&&n.beforeCancel(e),"function"==typeof r.cancel&&r.cancel(e),"function"==typeof n.afterCancel&&n.afterCancel(e)}function td(e,t,r,n){"function"==typeof e.beforeFail&&e.beforeFail(r),"function"==typeof n.fail&&n.fail(r),"function"==typeof e.afterFail&&e.afterFail(r),gt(e.checkNeedReportFail)&&!1===e.checkNeedReportFail(r)||M.reportIDKey({key:`${t}_fail`})}function rd(e,t){return Ku(qu(e),((r,n)=>("function"==typeof e[n]&&(r[n]=E.surroundThirdByTryCatch(e[n],`at api ${t} ${n} callback function`),delete e[n]),r)),{})}function nd(e,t){return Ku(qu(e),((r,n)=>("function"==typeof e[n]&&(r[n]=Bt(e[n],`at api ${t} ${n} callback function`),r[n]._argumentsLength=e[n].length),r)),{})}function id(e,t,r,n,i){e.errMsg=e.errMsg||`${t}:ok`;var a=0===e.errMsg.indexOf(`${t}:ok`),o=new RegExp(`${t}:(fail |fail:)?cancel`).test(e.errMsg),s=0===e.errMsg.indexOf(`${t}:fail`);"function"==typeof n.beforeAll&&n.beforeAll(e),a?Zu(r,t,e,n,i):o?ed(e,t,r,n):s&&(dd(e,i),td(n,t,e,r,t)),"function"==typeof r.complete&&r.complete(e),"function"==typeof n.afterAll&&n.afterAll(e),_n(t,a,s,o,e.errMsg)}function ad(e,t,r,n){var i;return i=r.isThird?rd(r,t):rd(e,t),function(e){id(e,t,i,r,n)}}var od=(()=>String.prototype.split)(),sd=(()=>String.prototype.startsWith)(),ld=p.prototype.call.bind(od),cd=e=>ld(e,"/",1)[0],ud=p.prototype.call.bind(sd),dd=(e,t)=>{if("string"==typeof e.errMsg&&v&&v.accountInfo){var r=v.accountInfo.appId;"string"==typeof t&&ud(t,"wx")&&(r=cd(t));var n=e.errMsg.split(":");102!==e.errno&&"fail no permission"!==n[n.length-1]||(e.errMsg=`${e.errMsg}, appId=${r}`)}};function pd(e){return function(t,r={},n={},i="/"){var a=n.notPack;dt(r)||(r={}),"operateWXData"===t&&(r._isFromBaseOperateWXData,delete r._isFromBaseOperateWXData),"openUrl"!==t&&"private_openUrl"!==t||Vu(t,r,Date.now()),n=nd(n,t);var o=ad(r=zu(Uu(null),r),t,n,i);M.reportIDKey({key:t});var s={keepOriginalParams:Xu(t)};if(m.env.isMagicBrushFrameEnv&&r.contextId&&(s.contextId=r.contextId,delete r.contextId),!e&&"splashad"!==m.env.workerType){if(He()&&fu.has(t)&&!_u(t))return void o({errMsg:`${t}:fail API has been banned`});if(delete r.pluginId,delete r.permissionBytes,"string"==typeof i&&ud(i,"wx")){var l=cd(i);s.appId=l}}a&&(s.notPack=!0),dn(t,r,o,s)}}var hd=pd(!1),fd=(e,t,r)=>{Gu(e)?Au(e,t,r):hd(e,t,r)},gd=(e,t,r)=>Xc((t=>fd(e,t,r)))(t),vd=e=>e?(t,r,n)=>{hd(t,r,n,e)}:fd,md={},yd,bd=()=>{if(yd)return yd;var e=(e,t)=>{var r=md[t];if(r){e.errMsg=e.errMsg||`${r.__jsapi_name__}:ok`;var n=0===e.errMsg.indexOf(`${r.__jsapi_name__}:ok`),i=new RegExp(`${r.__jsapi_name__}:(fail |fail:)?cancel`).test(e.errMsg),a=0===e.errMsg.indexOf(`${r.__jsapi_name__}:fail`);try{n&&r.success?r.success(e):i&&r.cancel?r.cancel():a&&r.fail(e),r.complete&&r.complete(e)}catch(e){}_n(r.__jsapi_name__,n,a,i,e.errMsg),delete md[t]}};return yd=e,e},_d=(e,t,r)=>{var n,i=r.notPack,a={pureInvoke:!0,highPerformance:md,keepOriginalParams:Ne};n=yd||bd(),m.env.isMagicBrushFrameEnv&&t.contextId&&(a.contextId=t.contextId,delete t.contextId),i&&(a.notPack=!0),t.__jsapi_name__=e,k.pureInvoke(e,t,n,a)},wd=pd(!0),Sd=(e,t,r)=>{wd(e,t,r)},Cd=e=>e?(t,r,n)=>{wd(t,r,n,e)}:Sd;ue.invoke=fd;var kd=nr("AppEnterBackground"),Id=kd.internalOnMethod,Pd=e=>kd.onMethod(e);cr("onAppEnterBackground",((e={})=>{e&&"launchMiniProgram"===e.mode&&e.targetPagePath&&0===e.targetPagePath.indexOf("wx6bd2fb149a93a9c5:")||(kd.emit(e),qr("onAppEnterBackground",e))}));class Td extends Error{constructor(e){super(`APP-SERVICE-SDK:${e}`),this.type="AppServiceSdkKnownError"}}class Ad extends Error{constructor(...e){super(...e),this.type="ThirdScriptError"}}function xd(...e){return e.reduce(((e,t)=>{for(var r in t)e[r]=t[r];return e}),{})}function Ed(e,t){for(var r in t)e[r]=t[r];return e}var Md=Object.prototype.hasOwnProperty;function Rd(e,t){return Md.call(e,t)}function Dd(e,t,r){!1!==dt(e)&&t!==r&&Rd(e,t)&&(e[r]=e[t],delete e[t])}function Od(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}function Ld(e,t=!0){if("string"!=typeof e)return e;var r=e.split("?")[0],n=e.split("?")[1];return(t||0!==r.length)&&(r+=".html"),void 0!==n?`${r}?${n}`:r}function Nd(e){var t={protocol:/^(.+):\/\//,host:/:\/\/(.+?)[?#\s/]/,path:/\w(\/.*?)[?#\s]/,query:/\?(.+?)[#/\s]/,hash:/#(\w+)\s$/};return e+=" ",Object.keys(t).forEach((r=>{var n=t[r];t[r]="query"===r?n.exec(e)&&n.exec(e)[1].split("&").reduce(((e,t)=>{var r=t.split("=");return e[r[0]]=r[1],e}),{}):n.exec(e)&&n.exec(e)[1]})),t}var Bd=e=>{if("string"==typeof e){var t=e.indexOf("?");if(-1!==t)return e.slice(0,t)}return e};function $d(e,t=!1){if("object"!=typeof e)return e;var r="";for(var n in e)if(Rd(e,n))if(t)try{r+=`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}&`}catch(t){r+=`${n}=${e[n]}&`}else r+=`${n}=${e[n]}&`;return r&&(r=r.slice(0,-1)),r}function Fd(e){var t={};if(e.indexOf("?")>-1){var r=e.indexOf("?")+1,n=e.substring(r);if(n.indexOf("#")>-1&&(n=n.substring(0,n.indexOf("#"))),!n)return t;for(var i=n.split("&"),a=0;a<i.length;a++){var o=i[a].split("=");t[o[0]]=o[1]}}return t}var jd=null;function Wd(e,t){var r=Object.keys(t),n=!1,i=!1,a=jd;if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){for(var o,s="",l=0;l<e.length;l++){var c=e[l];if(i||!n)if(s+=c,"?"!==c||n){if("&"===c&&n)a!==jd?s+=encodeURIComponent(a):a=jd,o=Array(r.length).fill(0),i=!0;else if(n&&"="===c){i=!1;for(var u=0;u<o.length;u++)!1!==o[u]&&o[u]===r[u].length&&(a=t[r[u]])}else if(i){for(var d=void 0,p=0;p<o.length;p++){if(!1!==o[p])d=!0,r[p][o[p]]!==c?o[p]=!1:o[p]++}d||(o=[])}}else n=!0,i=!0,o=Array(r.length).fill(0);else if(a===jd){s+=c;continue}}s+=n?"&":"?";for(var h=0;h<r.length;h++){var f=r[h];s+=f+"=",s+=encodeURIComponent(t[f])}return s}return e}function Vd(e,t){var r=Object.keys(t);if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){var n=e.split("?"),i=n[0],a=(n[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],i=r[1];e[n]=i}return e}),{}),o=r.reduce(((e,r)=>("object"==typeof t[r]?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e)),{});return i+"?"+$d(xd(a,o))}return e}function Ud(e,t="http"){return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function zd(e){if("string"==typeof e){var t=e.split("?"),r=t[0],n=(t[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],i=r[1];e[n]=i}return e}),{}),i=[];for(var a in n)Rd(n,a)&&i.push(`${a}=${encodeURIComponent(n[a])}`);return i.length>0?`${r}?${i.join("&")}`:e}return e}function qd(e){if(!Ce||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),r=t[1]||"",n=r.length>0?"&":"";e=`${t[0]}?${r}${n}devtools_ignore=true`}return e}var Hd=/^[-+a-zA-Z0-9]+:\/\//,Gd=/(^|\/)__[-+a-zA-Z0-9]+__\//;function Kd(e,t){return E.wrapSystemFunction("appServiceSDKScriptError",t,e)}function Jd(e,t,r=!0){if(_.info(`[getRealRoute] lastRoute=${e}, relativeRoute=${t}, needTrans=${r}`),r&&(t=Ld(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return Jd(e,t.substr(2),!1);var n,i,a=t.split("/");for(n=0,i=a.length;n<i&&".."===a[n];n++);a.splice(0,n);var o=e.length>0?e.split("/"):[];o.splice(o.length-n-1,n+1);var s=o.concat(a).join("/");return _.info(`[getRealRoute] finalRoute=${s}`),s}function Xd(e){var t=e.match(Hd);if(!t)return e;var r=t[0];if("plugin://"===r){var n=r.length,i=e.indexOf("/",n);if(i>=0){var a=e.slice(n,i),o=re.plugins&&re.plugins[a]?re.plugins[a].provider:a;e=e.slice(0,n)+o+e.slice(i)}var s=e.indexOf("?");s<0&&(s=e.length);var l=e.slice(0,s),c=Pr.Component._list[l];if(!c)throw new Td(`Page "${l}" is not found`);e=c.is+e.slice(s)}else if("plugin-private://"===r){var u=e.indexOf("?");u<0&&(u=e.length);var d=e.slice(0,u);e="/"+yr.convertComponentAliasToRoute(d)+e.slice(u)}else{if("wx://"!==r&&"wxpage://"!==r)throw new Td(`Unknown URL protocol "${r}"`);e="/__wx__/"+e.slice(r.length)}return e}function Yd(e,t=""){return t=t.replace(/^\//,""),We()?`__plugin__/${e}/${t}`:Xd(`plugin-private://${e}/${t}`)}function Qd(e,t,r=!0){for(;Hd.test(t);)t=Xd(t);var n=Jd(e,t,r);return _.info(`[getRealRouteWithProtocol] lastRoute=${e}, relativeRoute=${t}, ret=${n}`),n}function Zd(e){var t=e.match(Hd),r=e.match(Gd),n="";if(t){var i=t[0];if("plugin://"===i){var a=i.length,o=e.indexOf("/",a);if(o>=0){var s=e.slice(a,o);n=re.plugins&&re.plugins[s]?re.plugins[s].provider:s}}else if("plugin-private://"===i){var l=i.length,c=e.indexOf("/",l);if(c>=0)n=e.slice(l,c)}else"wx://"===i&&(n="//")}if(r){var u=r[0];if(u.endsWith("__plugin__/")){var d=e.indexOf(u)+u.length,p=e.indexOf("/",d);if(p>=0)n=e.slice(d,p)}else u.endsWith("__wx__/")&&(n="//")}return n}function ep(e,t){var r=Zd(t);return!r||Zd(gr.convertRouteToComponentAlias(e))===r}function tp(e){var t=e.match(Hd);return t?t[0]:null}function rp(e,t){var r=new FileReader;r.onload=function(){t(this.result)},r.readAsArrayBuffer(e)}function np(e){return Object.keys(e).reduce(((t,r)=>("string"==typeof e[r]?t[r]=e[r]:"number"==typeof e[r]?t[r]=e[r]+"":t[r]=Object.prototype.toString.apply(e[r]),t)),{})}function ip(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function ap(e={},t){"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}function op(e={},t){var r=t?{errMsg:t}:void 0;"function"==typeof e.success&&e.success(r),"function"==typeof e.complete&&e.complete(r)}function sp(e={},t){var r=t?{errMsg:t}:void 0;"function"==typeof e.fail&&e.fail(r),"function"==typeof e.complete&&e.complete(r)}var lp=(e,t)=>"glass-easel"===yr.getComponentFramework(e)?D.getEnv().codeManager.getPluginRoutePrefix(t):gr.getPluginRoutePrefix(t),cp=(e,t)=>{var r;return"glass-easel"===yr.getComponentFramework(t)?null===(r=D.getEnv().getAdapterPage(t))||void 0===r?void 0:r.findNodeById(e):gr.getNodeById(e,t)},up=e=>{if("glass-easel"===yr.getComponentFramework(e)){var t=D.getEnv().getAdapterPage(e);return null==t?void 0:t.getNodeId(t.root)}return gr.getRootNodeId(e)},dp=(e,t,r=!0)=>{if("glass-easel"===yr.getComponentFramework(t)){var n,i=D,a=i.getEnv().getAdapterPage(t),o=null===(n=i.getCallerMap(e))||void 0===n?void 0:n.component,s=null==a?void 0:a.getNodeId(o);return r&&(s=s&&o!==(null==a?void 0:a.root)?s:""),s}var l=e&&e.__wxExparserNodeId__;return r?l&&l!==gr.getRootNodeId(t)?l:"":l},pp={},hp={lastShareTicket:null,get:e=>pp[e],set(e,t){var r=ip();return pp[r]={shareKey:e,shareName:t},r}};const fp=hp;var gp=new Yt,vp={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:fp,emitter:gp};const mp=vp;var yp=null;m.onLoad((()=>{m.globalShare.reusableWorkerId&&bp(m.globalShare.reusableWorkerId)}));var bp=e=>{yp=e},_p=()=>yp,wp=e=>e.workerId,Sp;function Cp(){P.onWorkerMsg(((e,t)=>{if(e===this.workerId){if(wp(t))return;if(t.data){var{cmd:r,callbackId:n,data:i}=t.data;if("callback"===r){var{result:a,errMsg:o}=i;this.emitter.emit(n,a,o)}}}}))}class kp{init(e){this.workerId=e,this.callbackId=0,this.generateCallbackId=()=>++this.callbackId,this.emitter=new Yt,Cp.call(this)}constructor(){if(_p())this.init(_p());else{var{workerId:e}=P.createWXLibWorker("WAAccelerateWorker.js",{APIList:[]});-1!==e?this.init(e):this.unsupport=!0}}runTask(e,t){return this.unsupport?Promise.reject(new Error("unsupport")):new Promise(((r,n)=>{var i=String(this.generateCallbackId());this.emitter.once(i,((e,t)=>{t?n(new Error(t)):r(e)}));var a={cmd:e,callbackId:i,data:t};a={data:a},P.postMsgToWorker(this.workerId,a,void 0,!1)}))}}var Ip=()=>Sp||(Sp=new kp),Pp=()=>!!Sp,Tp=e=>{var t,r,n=e.api.find((e=>"request"===e.name));if(n){var i=null===(t=n.req)||void 0===t?void 0:t.interpreterRules,a=null===(r=n.resp)||void 0===r?void 0:r.interpreterRules;Ip().runTask("createWeAppRequestInterpreter",{rules:{req:i,res:a,exclusive:!0},appid:re.accountInfo.appId}).catch((e=>{_.error("createWeAppRequestInterpreter error:",e)}))}},Ap=[],xp=e=>{Ap.push(e)},Ep=()=>Ap,Mp=()=>Ap[Ap.length-1],Rp=e=>{switch(e){case 1001:case 1003:case 1023:case 1038:case 1041:case 1056:case 1080:case 1083:case 1089:case 1090:case 1103:case 1104:case 1131:case 1019:case 1112:case 1127:case 1134:case 1187:return!0;default:return!1}},Dp=()=>{var e=Ap.filter((e=>!Rp(e)));return e[e.length-1]},Op=()=>{var e=Ap.filter((e=>![1038].includes(e)));return e[e.length-1]},Lp="default",Np=nr("apiCategoryChange"),Bp=Np.onMethod,$p=Np.offMethod;function Fp(){return Lp}function jp(e="default"){-1!==["default","nativeFunctionalized","browseOnly","embedded"].indexOf(e)&&(Lp=e)}cr("sheetModeWindowStateChangedEvent",((e={})=>{qr("sheetModeWindowStateChangedEvent",e),"fullPage"===e.state&&"default"!==Lp&&(Lp="default",Np.emit({apiCategory:Lp}))})),Yr("getApiCategory",(({callbackId:e},t)=>{qr("apiCategoryGot",{res:Fp(),callbackId:e},[t])}));const Wp=h.asyncToGenerator;var Vp=f.n(Wp),Up=null;cr("onMessageFromNavigateMiniProgram",(({extraData:e,appid:t})=>{Up={extraData:e,appid:t}}));var zp=()=>Up,qp=()=>{Up=null},Hp=Yc("postMessageToReferrerMiniProgram",function(){var e=Vp()((function*({extraData:e}){return gd("postMessageToReferrerMiniProgram",{extraData:e})}));return function(t){return e.apply(this,arguments)}}()),Gp;function Kp(e={},t){if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t?e.query:su.query)||{},e.path=Od(t?e.path:su.lastRoute),e.referrerInfo=e.referrerInfo||{},e.isLaunch=t,t||(1044===e.scene?su.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:su.lastShareInfo=void 0),mp.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(mp.appId=e.referrerInfo.appId),"object"==typeof e.shareInfo&&null!==e.shareInfo){var{shareInfo:r}=e;r.shareKey&&r.shareName&&(fd("showUpdatableMessageSubscribeButton",{shareKey:r.shareKey}),e.shareTicket=mp.ShareInfoStorage.set(r.shareKey,r.shareName),mp.ShareInfoStorage.lastShareTicket=e.shareTicket)}return 1044!==e.scene||e.chatroomUsername||(e.scene=1007),e}function Jp(e={},t){var r,n;0===(e=Object.assign({},e)).scene?e.scene=Gp:Gp=e.scene;var i=e.scene;1003===i?i=1089:1131===i||1158!==i&&1159!==i&&1160!==i||!Vh("getGroupToolbarInfo")&&(i=1008),[1106,1005,1006,1027,1042].indexOf(i)>-1&&(e.referrerInfo.appId=null),1092===i&&"wxf8df44389465ee03"===(null==re||null===(r=re.accountInfo)||void 0===r?void 0:r.appId)&&(i=1037);var a=zp();qp();var o=e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:null!==(n=e.referrerInfo.extraData)&&void 0!==n?n:a&&a.appid===e.referrerInfo.appId?a.extraData:void 0}:{};(1092===i&&o.extraData&&o.extraData.csSessionId&&o.extraData._reportInfo&&(void 0===L||L.shouldStartReport()&&!L.shouldUpdateReportInfo(o.extraData.csSessionId)||(_.info("ca report startegy:",o.extraData._reportInfo),L.convertReportInfo2Strategys(o.extraData._reportInfo),L.startActionChainReport(),L.setSessionId(o.extraData.csSessionId),L.setEventJoinInterval(o.extraData._reportInfo.eventJoinInterval),L.setAsyncCallbackJoinEventInterval(o.extraData._reportInfo.asyncCallbackJoinEventInterval),L.setReportSetting({reportCache:o.extraData._reportInfo.reportCache,reportInterval:o.extraData._reportInfo.reportInterval}),L.protectActionReporter(),Tp(o.extraData._reportInfo))),e.referrerInfo.privateExtraData&&e.referrerInfo.privateExtraData.__pluginAppId)&&(e.referrerInfo.appId&&(o.pluginAppId=e.referrerInfo.privateExtraData.__pluginAppId),delete e.referrerInfo.privateExtraData.__pluginAppId,0===Object.keys(e.referrerInfo.privateExtraData).length&&delete e.referrerInfo.privateExtraData);var s={path:e.path,query:e.query,scene:i,shareTicket:e.shareTicket,referrerInfo:o};e.chatroomUsername&&1156===i&&(s.chatroomUsername=e.chatroomUsername),e.chatType&&(s.chatType=e.chatType);var l,c,u=e.nativeExtraData||{};(e.hostExtraData&&(s.hostExtraData=e.hostExtraData),u.location&&(s.locationInfo=u.location),Ge()||Je())&&(e.nativeExtraData&&(s.nativeExtraData=e.nativeExtraData),null!==(l=e)&&void 0!==l&&null!==(c=l.referrerInfo)&&void 0!==c&&c.privateExtraData&&(s.privateExtraData=e.referrerInfo.privateExtraData),s.sessionId=e.sessionid||e.sessionId,s.isLaunch=e.isLaunch,e.isLaunch&&(s.prerender=!!re.prerender),s.clickTimestamp=e.clickTimestamp,s.preloadType=t);return Ge()&&(e.isLaunch?s.userConfig=re.userConfig:s.userConfig=e.userConfig),e.mode&&(s.mode=e.mode),e.apiCategory&&(s.apiCategory=e.apiCategory),1173===i&&(u.mimeType?s.forwardMaterials=[{type:u.mimeType,path:u.materialPath,name:u.materialName,size:u.materialSize}]:Array.isArray(u.materials)&&(s.forwardMaterials=u.materials)),1226===i&&u.iot&&(s.iot=u.iot),e.isTransparentBackgroundSupport&&(s.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),s.referrerInfo&&"wxb6d22f922f37b35a"===s.referrerInfo.appId&&(s.referrerInfo={}),s}function Xp(e,t){e.apiCategory=(e=>{if([1200,1201,1228].includes(Op()))return"default";switch(e.mode){case"default":case"halfPage":return"nativeFunctionalized"===e.appearance?"nativeFunctionalized":"default";case"singlePage":return"browseOnly";case"embedded":return"embedded";default:return"default"}})(e),jp(e.apiCategory),void 0===e.isTransparentBackgroundSupport&&(e.isTransparentBackgroundSupport=re.isTransparentBackgroundSupport)}function Yp(e,t=""){if(Zd(e.path||"")===t)return e;var r={path:e.path,query:{},scene:e.scene,shareTicket:e.shareTicket,referrerInfo:{}};return e.mode&&(r.mode=e.mode),e.apiCategory&&(r.apiCategory=e.apiCategory),Je()&&(e.nativeExtraData&&(r.nativeExtraData=e.nativeExtraData),r.sessionId=e.sessionId,r.isLaunch=e.isLaunch,e.isLaunch&&(r.prerender=e.prerender),r.clickTimestamp=e.clickTimestamp,r.preloadType=e.preloadType),e.isTransparentBackgroundSupport&&(r.isTransparentBackgroundSupport=e.isTransparentBackgroundSupport),r}function Qp(e){try{yr.setPrivateExtraData(e.privateExtraData),e.success()}catch(t){e.fail(t)}}var Zp=new Yt,eh={};const th={emitter:Zp,puidToPluginWX:{},pluginIDs:{},pluginVersions:{},pluginInfos:eh};var rh=new WeakMap,nh=(e,t)=>rh.set(e,t),ih=e=>rh.get(e),ah=e=>rh.delete(e),oh=e=>{for(var t in th.puidToPluginWX)if(th.puidToPluginWX[t]===e)return t},sh=e=>{if(We()){var t=ih(e);return t&&t.provider?t.provider:void 0}return th.pluginIDs[oh(e)]},lh=Object.keys,ch=e=>{for(var t=lh(th.pluginIDs),r=0;r<t.length;++r)if(th.pluginIDs[t[r]]===e)return th.puidToPluginWX[t[r]]},uh=e=>th.pluginVersions[oh(e)],dh=e=>{var t=sh(e);if(void 0!==t)return th.pluginInfos[t]},ph=e=>{e.success(th.pluginInfos[e.pluginId])},hh=e=>null==e?{}:{id:e.plugin_id,hostSign:{noncestr:e.noncestr||"",timestamp:e.timestamp||"",signature:e.host_sign||""},domains:{request:e.request_domain||[],uploadFile:e.upload_domain||[],downloadFile:e.download_domain||[]}},fh=(e,t,r)=>{var n=new RegExp(`^${t}:`),i={};return["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(i[t]=i=>{i.errMsg=i.errMsg.replace(n,r+":"),e[t](i)})})),Object.assign({},e,i)},gh=e=>{var t=Number(e);return[Math.floor(t/1e6),Math.floor(t/1e3)%1e3,t%1e3].join(".")},vh={};function mh(e){vh=e}function yh(){return vh}var bh={};function _h(e){bh=e}function wh(){var e=sh(this)||"";return Yp(bh,e)}Yr("getEnterAppInfo",(({callbackId:e},t)=>{qr("appEnterInfoGot",{res:yh(),callbackId:e},[t])}));class Sh{constructor(){this._internal=new Map,this._once=new Map}add(e,t=null){this._internal.set(e,t)}get(e,t){var r=this._internal.get(e);return this._once.get(e)&&this.off(e),void 0===r&&void 0!==t?t:r}compare(e,t){return this.get(e)===t}off(e){this._internal.delete(e),this._once.delete(e)}once(e,t=null){this._once.set(e,!0),this.add(e,t)}set(e,t,r=!1){return!(!this._internal.get(e)&&!r)&&(this._internal.set(e,t),!0)}}var Ch=(()=>new Sh)();const kh=Ch;var Ih,Ph,Th;re.onReady((()=>{su.scene=Ih=re.appLaunchInfo.scene,su.sceneNote=re.appLaunchInfo.scene_note}));var Ah=nr("AppEnterForeground"),xh=e=>Ah.onMethod(e),Eh=Ah.internalOnMethod;function Mh(e){if(!We()){mh(e=Kp(e,!1));var t=Jp(e);e.__public=Yp(t,""),_.info("[EnterOptions] set enterOptions by onAppEnterForeground"),_h(t),kh.set("api_call_from_hot_boot_time",Date.now(),!0),Ah.emit(e),su.scene=e.scene,su.sceneNote=e.scene_note}}var Rh=e=>e&&e.referrerInfo&&"wx6bd2fb149a93a9c5"===e.referrerInfo.appId&&e.referrerInfo.extraData&&"boolean"==typeof e.referrerInfo.extraData.isSuccess;cr("onAppEnterForeground",((e={})=>{if(ke)if(Rh(e)){var t=JSON.stringify(e.referrerInfo.extraData);if(Ph!==t)return void(Ph=t);Ph=t,e.scene=Ih,delete e.referrerInfo}else Ih=e.scene;else if(Ie)if(1038===e.scene){if(Rh(e))return void(Th=!0);var r;null!=e&&null!==(r=e.referrerInfo)&&void 0!==r&&r.appId?(Th=!1,Ih=e.scene):Th?e.scene=Ih:Ih=e.scene}else Ih=e.scene;var n=e.debugLaunchInfo||{};Object.assign(e,n),delete e.debugLaunchInfo;var i=1===e.reLaunch||!0===e.reLaunch;_.info(`[onAppEnterForeground] isReLaunch=${i}`),xp(e.scene),Xp(e,!1);var a=tp(e.path);if("wxpage://"===a&&(e.path="__wx__/"+e.path.slice(a.length)),i){var o=t=>{_.info(`[onAppEnterForeground] get onAppRoute [${t}], prerender=${re.prerender}`),"appLaunch"!==t.openType||!0!==re.prerender?(_.info("[onAppEnterForeground] emit enterForeground"),Mh(e)):mp.emitter.once("onAppRoute",o)};mp.emitter.once("onAppRoute",o)}else Mh(e);qr("onAppEnterForeground",e)}));var Dh={},Oh={},Lh={},Nh=0,Bh;re.onReady((()=>{Id((()=>{Nh=1})),Eh((()=>{Nh=0}))}));var $h=Object.keys(de).map((e=>de[e])),Fh=e=>{for(var t=0;t<e.length;t++){var r=$h[t];Dh[r]=1===e[t].bg||4===e[t].bg,Oh[r]=1===e[t].fg||4===e[t].fg}},jh=(e,t)=>{for(var r=0;r<e.length;r++){t[$h[r]]=1===e[r]||4===e[r]}},Wh=(e,t)=>{for(var r=0;r<$h.length;r++){var n=$h[r],i=1===e[n]||4===e[n];t[n]=i}};cr("onPermissionUpdate",(e=>{Wh(e.bg,Dh),Wh(e.fg,Oh)})),cr("onPluginPermissionUpdate",(()=>{})),re.onReady((()=>{fd("getPermissionBytes",{indexes:$h,success(e){e.permissionBytes&&e.permissionBytesForRunningStatus||e.permissionBytesForRunningStatus?(Fh(e.permissionBytesForRunningStatus),Bh=1):e.permissionBytes&&(Bh=0,jh(e.permissionBytes,Lh))},fail(e){_.error("getPermissionBytes failed",e)}})}));var Vh=e=>{var t,r=de[e];if("number"!=typeof r)return!1;if(!it((t=0===Bh?Lh:0===Nh?Oh:Dh)[r]))return t[r];var n=!1;return fd("getPermissionBytes",{indexes:[r],success(e){e.permissionBytes&&(0===Bh?(n=1===e.permissionBytes[0]||4===e.permissionBytes[0],Lh[r]=n):(Dh[r]=1===e.permissionBytes[0].bg||4===e.permissionBytes[0].bg,Oh[r]=1===e.permissionBytes[0].fg||4===e.permissionBytes[0].fg))}}),n},Uh=e=>{zc({name:"checkPermission",args:e,success:!0,res:{hasPermission:Vh(e.apiName)}})},zh=()=>{var e,t,r=!1;if(Ie)r=!("1"!==(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_group_control)||"1"!==(null==re||null===(t=re.expt)||void 0===t?void 0:t.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1));else if(ke){var n,i;r=!("1"!==(null==re||null===(n=re.expt)||void 0===n?void 0:n.clicfg_appbrand_android_operatewxdata_quic_group_control)||"1"!==(null==re||null===(i=re.expt)||void 0===i?void 0:i.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1))}return r=r&&Vh("operateWXDataQuic")},qh=()=>{var e,t=!1;if(Ie)t="1"===(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_batch);else if(ke){var r;t="1"===(null==re||null===(r=re.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_batch)}return t},Hh,Gh=()=>{if(void 0===Hh){var e;if(Ie)Hh=Number(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_ad_operatewxdata_batch)>=1;else if(ke){var t;Hh=Number(null==re||null===(t=re.expt)||void 0===t?void 0:t.clicfg_appbrand_android_ad_operatewxdata_batch)>=1}else Hh=!1;_.info("是否开启广告上报batch:",Hh)}return Hh},Kh=()=>{var e,t=!1;if(Ie)t="1"===(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority);else if(ke){var r;t="1"===(null==re||null===(r=re.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_priority)}return t},Jh=()=>{var e,t=!1;if(Ie)t="1"===(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_priority_group_control);else if(ke){var r;t="1"===(null==re||null===(r=re.expt)||void 0===r?void 0:r.clicfg_appbrand_android_operatewxdata_priority_group_control)}return t},Xh=()=>Kh()&&Jh(),Yh=()=>{var e=!1;return ke?e="1"===(null==re?void 0:re.expt.clicfg_appbrand_android_jsapi_nocallback):Ie&&(e=!0),e},Qh=e=>{var t,r,n,i;i=e?e.useQuic?1:0:zh()?1:0;var a,o=ke&&"1"===(null==re||null===(t=re.expt)||void 0===t?void 0:t.clicfg_handle_reqresp_in_worker_android)?10:0,s=qh()?1e4:0,l=Gh()?1e5:0,c=Yh()?1e6:0;a=e?e.usePriority?1e7:0:Xh()?1e7:0;var u=ke?1e8:0,d=ke?1e9:0;return(1===Number(null==re||null===(r=re.expt)||void 0===r||null===(n=r.clicfg_miniprogram_adreport_use_kv)||void 0===n?void 0:n.value)?1e10:0)+d+u+a+c+l+s+1e3+100+o+i},Zh=()=>{var e,t=0,r=Kh()?10:0;if(Ie)t="1"===(null==re||null===(e=re.expt)||void 0===e?void 0:e.clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1)?1:0;else if(ke){var n;t="1"===(null==re||null===(n=re.expt)||void 0===n?void 0:n.clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1)?1:0}return r+t},ef=0;cr("onAppEnterBackground",(()=>{ef++}));var tf=()=>ef;function rf(e){var{WXDataApiName:t,argument:r,isSuccess:n,invokeTime:i,TotalCost:a,result:o="",errMsg:s,isConfirm:l,queueLength:c,wxdataQueueTimestamp:u,wxdataDequeueTimestamp:d,beginCGITimestamp:p,CGICallbackTimestamp:h,beginCGITimestampAfterConfirm:f,CGICallbackTimestampAfterConfirm:g,wxlibCallbackTimestamp:v,requestInQueue:m,requestingCount:y,JsToClientCost:b,QueueCost:_,ChildToMainProcessCost:w,MMNetCost:S,MainToChildProcessCost:C,ClientToJsCost:k,fromWebview:I,doReportDetails:P,BatchType:T=0,sdkApiName:A,adExtra:x}=e;P&&setTimeout((()=>{var P=su.currentNetworkType,E=re.appType+1e3,R=re.appLaunchInfo&&void 0!==re.appLaunchInfo.scene?re.appLaunchInfo.scene:0,D=I?2:1,O=x&&x.adReportAction,L=x&&x.adLogid,N=Qh(e),B=e.ProtocolType,$=e.QuicBytes,F=e.thisEnterBackgroundCount===ef?1:2,j=[t,JSON.stringify(r).replace(/,/g,";"),n?1:0,i,a,P,o.replace(/,/g,";"),E,R,Mu(),Ru(),encodeURIComponent(s||""),l?1:0,c,b,_,w,S,C,k,0,m?1:0,y,i,u,d,p,h,f,g,v,0,N,D,T,A,O,L,B,$,F].map(Du(1024)).join(",");M.reportKeyValue({key:"WeAppOperateWXData",value:j})}),0)}var nf=new Set(["webapi_getwxauserallphone","webapi_wxa_createmidasorder","webapi_wxa_getiapinfocreateitemorder","webapi_wxa_getiapinfocreatecoinorder","webapi_getiapinfocreatecoinorder","webapi_getiapinfocreateitemorder","webapi_createiapbuygamecoinorder","webapi_createiapbuygameitemorder","webapi_getwxauserprivacyauthinfo","webapi_getuserallappauth","webapi_swapopengid","webapi_getshareinfo","ProductLogic","webapi_getadvert","gameTransfer","webapi_openproductaddorder","DiscoveryGetUsageApp","WxaDiscoveryChannel","qbase_commapi","webapi_finder_ec","webapi_game_transfer"]);function af(e){if(e.doReportProfile&&nf.has(e.WXDataApiName)){var t,r=e.networkType||su.currentNetworkType,n=re.appType+1e3,i=Mu()+" "+Ru(),a=e.argument,o=e.WXDataApiName;if("ProductLogic"===o)o=`ProductLogic-${null===(t=a.data.data)||void 0===t?void 0:t.method}`;else if("gameTransfer"===o){var s;o=`gameTransfer-${null===(s=a.data.data)||void 0===s?void 0:s.req_path}`}else if("webapi_game_transfer"===o){var l;o=`webapi_game_transfer-${null===(l=a.data.data)||void 0===l?void 0:l.req_path}`}var c=Qh(e),u=e.isSuccess?0:1,d=e.invokeTime,p=e.TotalCost,h=e.TimeStampId,f=encodeURIComponent(e.errMsg||""),g=e.isConfirm?1:0,v=e.queueLength,m=e.JsToClientCost,y=e.QueueCost,b=e.ChildToMainProcessCost,_=e.MMNetCost,w=e.MainToChildProcessCost,S=e.ClientToJsCost,C=e.PopupCost,k=e.MMNetCost2rd,I=e.requestInQueue?1:0,P=e.requestingCount,T=e.ClientSequenceId,A=e.BeginTs,x=e.EndTs,E=e.thisEnterBackgroundCount===ef?1:2,R=e.RequestCount,D=e.LaunchDistance,O=e.TimeSinceLastRequest,L=e.MarsPackCost,N=e.MarsConnCost,B=e.MarsTLSCost,$=e.MarsNetCost,F=e.MarsUnPackCost,j=e.ChannelType,W=e.ProtocolType,V=e.fromWebview?2:1,U=e.QuicBytes,z=e.LibParseCost,q=Zh(),H=e.MarsTotalCost,G=e.MainToPushProcessCost,K=e.MMNetStartTaskCost,J=e.MMNetReq2BufCost,X=e.MMNetBuf2RespCost,Y=e.MMNetOnTaskEndCost,Q=e.PushToMainProcessCost,Z=[r,i,n,c,o,u,d,p,h,f,g,v,m,y,b,_,w,S,C,k,I,P,T,A,x,encodeURIComponent(JSON.stringify(a)),E,R,D,O,H,"",L,"",N,B,$,F,j,W,U,V,z,q,G,K,J,X,Y,Q].join(",");M.reportKeyValue({key:"operateWXDataProfile",value:Z})}}function of(e){rf(e),af(e)}var sf=0,lf=0,cf=0,uf,df,pf=new Set(["webapi_getuserinfo","webapi_getwerunstep_history","subscribemsg","webapi_getfrienduserstorage","webapi_getgroupuserstorage","webapi_game_potential_friends","webapi_getuserinteractivedata","webapi_setselfuserstorage","webapi_modifyfriendinteractivedata","webapi_getuserstorageallappkey","webapi_getshareinfo_byopengid","webapi_getuserinfo_byopenid","webapi_opengameinfo_getfriendsuserdata"]),hf=new Set(["advert_report","webapi_advideo_report","webapi_wxa_dramaplayreport","webapi_reportpayrecord","webapi_reportnvgcheckinfo","webapi_reportwxacityservicescreenshot","webapi_reportclicheckresult","webapi_openproductreportorder","webapi_wxaseceventreport","webapi_game_ad_report","webapi_wxaasyncinputreport","webapi_adfollow_report"]),ff=new Set(["qbase_commapi","webapi_botdemo"]),gf=!1,vf=!1;re.onReady((()=>{uf=Date.now(),gf=zh(),vf=Xh()}));var mf=(e={},t={},{fromWebview:r,showApiVersion:n,showProfile:i,batchType:a,sdkApiName:o,adExtra:s})=>{var l=a>=1,c=Object.assign({},e);c._isFromBaseOperateWXData=!0;var u,d=t.beforeAll,p=c.data.api_name,h=Date.now();u=df?h-df:-1,df=h;var f,g=h,v=tf(),m=h-uf;h<=cf&&(h=cf+1),cf=h,pf.has(p)?(c.requestInQueue=!0,delete c.timeout):c.requestInQueue=!1,c.isImportant=!!l,ff.has(p)&&(c.keepAlive=!0),c.useQuic=gf&&!l,c.data.tid=h,f=r?2:1,c.data.env=f,c.priority||vf&&(hf.has(p)?(c.priority=2,c.timeout=(c.timeout||6e4)+6e4):c.priority=3);var y={isSuccess:void 0,WXDataApiName:p,argument:c,invokeTime:g,requestInQueue:c.requestInQueue,requestingCount:++sf,TimeStampId:h,RequestCount:++lf,LaunchDistance:m,TimeSinceLastRequest:u,fromWebview:r,thisEnterBackgroundCount:v,BatchType:a,sdkApiName:o,adExtra:s,useQuic:gf,usePriority:vf};M.reportFrameworkIDKey(25),_.info(`baseOperateWXData invoke apiName=${p}, TimeStampId=${h}, useQuic=${gf}, usePriority=${vf}, batchType=${a}`),fd("operateWXData",c,{beforeAll(e){var r=Date.now();y.onJsCallbackTimestamp=r,sf--;var n=Math.random(),a=n<.01,o=n<.1,s=a||o;if(y.doReportDetails=a,y.doReportProfile=o,s&&("object"==typeof e.data&&e.data?y.result=JSON.stringify(e.data):y.result=e.data),e.clientInfo&&"object"==typeof e.clientInfo){var l=e.clientInfo;delete e.clientInfo,(s||i)&&(Object.assign(y,l),y.JsToClientCost=l.wxdataQueueTimestamp-y.invokeTime,y.QueueCost=l.wxdataDequeueTimestamp-l.wxdataQueueTimestamp,y.ChildToMainProcessCost=l.beginCGITimestamp-l.wxdataDequeueTimestamp,y.MMNetCost=l.CGICallbackTimestamp-l.beginCGITimestamp,y.MainToChildProcessCost=l.wxlibCallbackTimestamp-l.CGICallbackTimestamp,y.ClientToJsCost=r-l.wxlibCallbackTimestamp,l.beginCGITimestampAfterConfirm>0&&l.beginCGITimestampAfterConfirm<0x9bc39d22b2c4&&(y.PopupCost=l.beginCGITimestampAfterConfirm-l.CGICallbackTimestamp,y.MMNetCost2rd=l.CGICallbackTimestampAfterConfirm-l.beginCGITimestampAfterConfirm),l.startConnectTime&&(y.MarsConnCost=l.connectSuccessfulTime-l.startConnectTime,y.MarsTLSCost=l.handshakeSuccessfulTime-l.startHandshakeTime,y.MarsPackCost=l.startSendPacketTime-l.connectSuccessfulTime,y.MarsNetCost=l.startReadPacketTime-l.startSendPacketTime,y.MarsUnPackCost=l.readPacketFinishedTime-l.startReadPacketTime,y.MarsTotalCost=l.readPacketFinishedTime-l.taskStartTime),l.MMNetStartTaskBegin&&l.MMNetStartTaskEnd&&l.MMNetReq2BufBegin&&l.MMNetReq2BufEnd&&l.MMNetBuf2RespBegin&&l.MMNetBuf2RespEnd&&l.MMNetOnTaskEndBegin&&l.MMNetOnTaskEndEnd&&(y.MainToPushProcessCost=l.MMNetStartTaskBegin-l.beginCGITimestamp,y.MMNetStartTaskCost=l.MMNetStartTaskEnd-l.MMNetStartTaskBegin,y.MMNetReq2BufCost=l.MMNetReq2BufEnd-l.MMNetReq2BufBegin,y.MMNetBuf2RespCost=l.MMNetBuf2RespEnd-l.MMNetBuf2RespBegin,y.MMNetOnTaskEndCost=l.MMNetOnTaskEndEnd-l.MMNetOnTaskEndBegin,y.PushToMainProcessCost=l.CGICallbackTimestamp-l.MMNetOnTaskEndEnd),y.networkType=l.netType,y.ChannelType=l.channelType,y.ProtocolType=l.protocolType)}"function"==typeof d&&d.call(t,e)},beforeSuccess(e){_.info(`baseOperateWXData success apiName=${p}, TimeStampId=${h}, useQuic=${gf}, usePriority=${vf}, batchType=${a}`),M.reportFrameworkIDKey(26),y.isSuccess=!0,c.data.data&&c.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=y),n&&(e.apiVersion=Qh(y)),e.reportObj=y},beforeFail(e={}){M.reportFrameworkIDKey(27),y.isSuccess=!1,y.errMsg=JSON.stringify(e),y.err_code=e.err_code,y.errno=e.errno,_.info(`baseOperateWXData fail apiName=${p}, TimeStampId=${h}, useQuic=${gf}, usePriority=${vf}, batchType=${a}, errMsg=${y.errMsg}`),"1030"!==e.err_code&&"1031"!==e.err_code||(y.QuicBytes=e.errMsg.slice(e.errMsg.length-1),y.ProtocolType=2),c.data.data&&c.data.data.__wxdataUseProfile__&&(e.__wxdataProfileInfo=y),e.reportObj=y}})};function yf(e,t,r){return function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?M.thirdErrorReport({error:e,extend:t}):M.errorReport({key:r,error:e,extend:t})}}}}function bf(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{var r;try{r=e[t]}catch(e){}"object"!=typeof r&&"function"!=typeof r||Object.isFrozen(r)||bf(r)})),e}function _f(e,t=0){return"string"==typeof e?e.length:"object"==typeof e&&null!==e&&"number"==typeof e.byteLength?e.byteLength:t}function wf(e){var t="unknown";if(re.appContactInfo&&re.appContactInfo.operationInfo&&re.appContactInfo.operationInfo.jsonInfo&&re.appContactInfo.operationInfo.jsonInfo.apiAvailable){var{apiAvailable:r}=re.appContactInfo.operationInfo.jsonInfo;"number"==typeof r[e]&&(t=1===r[e])}return t}var Sf=(()=>Object.assign)();function Cf(e){return(t={})=>new Promise(((r,n)=>{e(Sf(t,{success:r,fail:n}))}))}var kf=/_+(\w)/g;function If(e){var t=e.replace(kf,(function(){return arguments[2]?arguments[1].toUpperCase():arguments[0]}));return t}var Pf=/(?=[A-Z])/;function Tf(e){return e.split(Pf).join("_").toLowerCase()}function Af(e){return e.charAt(0).toUpperCase()+e.slice(1)}function xf(){return Ce?"boolean"==typeof re.urlCheck?!re.urlCheck:!__devtoolsConfig.urlCheck:!0===re.debug}function Ef(e,t){var r,n=String(e).split(".").map((e=>parseInt(e,10))),i=String(t).split(".").map((e=>parseInt(e,10))),a=Math.max(n.length,i.length);if(null!=e&&null!=t){if(0===e.length&&0===t.length)return 0;if(0===e.length)return-1;if(0===t.length)return 1;for(var o=0;o<a&&0===(r=s(n[o],i[o]));o++);return r}function s(e,t){return"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0),e>t?1:e<t?-1:0}console.error("versionCompare()参数格式错误")}function Mf(e){var t=!1;return function(...r){if(!t)return t=!0,e(...r)}}function Rf(e,t){return t.reduce(((t,r)=>(it(e[r])||(t[r]=e[r]),t)),{})}function Df(){return re.appLaunchInfo&&"singlePage"===re.appLaunchInfo.mode}function Of(){var e;return 1==(1&((null===(e=re.appLaunchInfo)||void 0===e?void 0:e.secFlagForSinglePageMode)||0))}function Lf(){var e,t=(null===(e=WXConfig.appLaunchInfo)||void 0===e?void 0:e.secFlagForSinglePageMode)||0;return 1==(1&t)&&!(2==(2&t))}var Nf=function(){return re.isIsolateContext};function Bf(e){for(var t=e.length,r=0,n=0;n<t;++n)r=r<<8|e[n];return r}function $f(e,t){var r=function(e){if("string"==typeof e){for(var t=e.split(".").map((e=>parseInt(e,10)));t.length<4;)t.push(0);return Bf(t.slice(0,4))}return"number"==typeof e?268435455&e:e};return(e=r(e))>(t=r(t))?1:e<t?-1:0}var Ff=(e,t)=>{var r;return function(n,...i){if(r)n.success&&n.success(r),n.complete&&n.complete(r);else{var a=n.success,o=n.complete;n.success=e=>{r=t(e),a&&a(e),o&&o(e)},e(n,...i)}}},jf=function(e,t,r){var n,i,a,o=null,s=0;r||(r={});var l=function(){s=!1===r.leading?0:Date.now(),o=null,a=e.apply(n,i),o||(n=i=null)};return function(){var c=Date.now();s||!1!==r.leading||(s=c);var u=t-(c-s);return n=this,i=arguments,u<=0||u>t?(clearTimeout(o),o=null,s=c,a=e.apply(n,i),o||(n=i=null)):o||!1===r.trailing||(o=setTimeout(l,u)),a}},Wf=(e={})=>{if("Expt"===e.experimentType&&"[object Object]"===Object.prototype.toString.call(re.expt)){var t=re.expt[e.experimentId];if(void 0!==t)return void("function"==typeof e.success&&e.success({testConfig:t}))}fd("getABTestConfig",e)},Vf=(e={})=>{if(Ge()){if("[object Object]"===Object.prototype.toString.call(re.expt)){var t=re.expt[e.experimentId];if(void 0!==t&&"function"==typeof e.success)return void e.success({testConfig:t})}fd("getABTestConfig",e)}else Vc("getABTestConfig",e,"permission denied",1)},Uf=JSON.parse,zf=JSON.stringify,qf=!0,Hf=(e,t,{timeout:r}={timeout:1e4})=>{if(!qf)return t;var n,i=null;return(a={})=>{var o,{success:s,fail:l}=qc(a,e);null===i?(o=!1,i=new Promise(((n,i)=>{t(Object.assign({},a,{success:n,fail:i,complete:void 0})),setTimeout((()=>{i({errMsg:`${e}:fail time out`,errno:Pn})}),r)}))):o=!0,i.then((e=>{if(i=null,o){var t={};try{t=Uf(n)}catch(e){_.error("constructCachedOptimizedApi parse error",e)}s(t)}else{try{n=zf(e)}catch(e){_.error("constructCachedOptimizedApi stringify error",e)}s(e)}})).catch((e=>{i=null,l(e)}))}},Gf="",Kf="",Jf=!1,Xf=nr("networkstatusChange"),Yf=nr("networkWeakChange"),Qf=nr("networkTypeReady"),Zf=e=>{fd("getNetworkType",e,{beforeAll(e){e.weakNet=su.isWeakNetwork}})},eg=Zf,tg=Xf.onMethod,rg=Xf.offMethod,ng=Yf.onMethod,ig=Yf.offMethod,ag=()=>Gf,og=Qf.onMethod,sg=()=>Jf,lg=()=>Kf;"undefined"!=typeof IS_SDK_PACKAGE||Ut("onNetworkStatusChange",((e={})=>{Gf=e.networkType,Kf=e.signalStrength,su.currentNetworkType=Gf,Xf.emit(e),qr("onNetworkStatusChange",e)})),re.onReady((()=>{re.networkType&&(Gf=re.networkType),eg({success(e){Gf=e.networkType,Kf=e.signalStrength,su.currentNetworkType=Gf,Jf=e.hasSystemProxy,Qf.emit(Gf)}})}));var cg=function(e,t){if("string"!=typeof e)return 0;var r,n,i,a=0;if("utf-16"===(t=t?t.toLowerCase():"utf8")||"utf16"===t)for(n=0,i=e.length;n<i;n++)a+=(r=e.charCodeAt(n))<=65535?2:4;else for(n=0,i=e.length;n<i;n++)a+=(r=e.charCodeAt(n))<=127?1:r<=2047?2:r<=65535?3:4;return a};function ug(e,t,r){if(!("number"==typeof t&&t>0))return console.error("sliceBySize缺少length参数"),e;if("string"!=typeof e)return 0;var n,i,a,o=0;if("utf-16"===(r=r?r.toLowerCase():"utf8")||"utf16"===r){for(i=0,a=e.length;i<a;i++)if((o+=(n=e.charCodeAt(i))<=65535?2:4)>t)return e.slice(0,i)}else for(i=0,a=e.length;i<a;i++)if((o+=(n=e.charCodeAt(i))<=127?1:n<=2047?2:n<=65535?3:4)>t)return e.slice(0,i);return e}var dg=e=>{var t="";return Object.keys(e).forEach(((r,n)=>{try{var i=`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`;0!==n&&(t+="&"),t+=i}catch(e){}})),t};const pg={query:{},scene:0,sceneNote:""};var hg=0,fg=[],gg=Math.random,vg=new Set,mg;re.onReady((()=>{mg=Date.now()}));var yg=()=>{var e=JSON.stringify({business:"mmbizwxaservicequality",dataArray:fg,appType:M.getAppType()},null,2);fd("reportRealtimeAction",{actionData:e,noCallback:!0}),fg=[]},bg=({functionName:e,keyParam:t,result:r,costTime:n,errorMsg:i,statusCode:a,__skipDomainCheck__:o,dataLength:s=0,responseDataLength:l=0,profile:c={},queueTime:u=0,extraData:d={},uniqueId:p,isAsync:h=!0,errno:f,queueLength:g=0,accelerateOptions:v={},jsapiVersion:m=0,requestData:y="",response:b="",beginTime:_=0,endTime:w=0,options:S={}}={})=>{var C;t.length>1024&&(t=t.substring(0,1024));var k="",I="",P=0,T="";if(We()?(I=dg(pg.query),P=pg.scene,T=pg.sceneNote):(P=su.scene,T=su.sceneNote),void 0!==yr){var A=yr.getCurrentPages();if(A&&A.length>0){var x=A[A.length-1];if(x&&(k=x.route,yr.getDisplayReporter)){var E,R=yr.getDisplayReporter(x);I=(null==R||null===(E=R.showOptions)||void 0===E?void 0:E.query)||""}}}!f&&i&&/超时|timeout/.test(i)&&(f=5);var D=JSON.stringify(d),O=[e,t,r,n,i,M.getAppType(),a,s,ag(),k,I,l,dg(c),P,T,p,f,u,D,null===(C=re.wxAppInfo)||void 0===C?void 0:C.maxRequestConcurrent,w-mg,g,m,0,su.isWeakNetwork?1:0].map(encodeURIComponent).join(","),L=!1;if(h&&(1==r?gg()<.01&&(L=!0):L=!0),L){var N,B="",$="",F="",j="",W="",V="",U="",z="",q="",H="",G=c.protocol||"",K=0;!0===c.socketReused?K=1:!1===c.socketReused&&(K=2);var J=!0===S.enableCache?1:2,X=!0===S.enableHttpDNS?1:2,Y=S.enableChunked?1:2,Q="",Z="",ee=Mu()+" "+Ru(),te=Cg(),ne=S.method,ie=!0===S.enableHttp2?1:2,ae=!0===S.enableQuic?1:2,oe=!0===S.enableHttp3?1:2;c&&c.fetchStart&&_&&("request"===e||"downloadFile"===e||"uploadFile"===e)&&(B=c.fetchStart-_,$=c.domainLookUpEnd-c.domainLookUpStart,F=c.connectEnd-c.connectStart,j=c.SSLconnectionStart-c.connectStart,W=c.SSLconnectionEnd-c.SSLconnectionStart,V=(c.connectEnd||c.requestStart)-c.requestStart,U=c.responseStart-(c.connectEnd||c.requestStart),z=c.responseEnd-c.responseStart,q=c.responseEnd-c.fetchStart,H=w-c.responseEnd,Q=c.redirectEnd-c.redirectStart,Z=(c.domainLookUpStart||c.requestStart)-c.fetchStart);var se=[e,encodeURIComponent(t),r,n,encodeURIComponent(i),M.getAppType(),a,s,ag(),k,"",l,"",P,encodeURIComponent(T),f,u,encodeURIComponent(D),null===(N=re.wxAppInfo)||void 0===N?void 0:N.maxRequestConcurrent,w-mg,g,m,B,$,F,j,W,V,U,z,q,H,G,K,J,X,Y,Q,Z,ee,te,ne,ie,ae,oe].join(",");M.reportKeyValue({key:"NetworkAPI2",value:se})}M.reportKeyValue({key:"NetworkAPI",value:O}),M.reportIDKey({key:`${e}_${1===r?"ok":"fail"}`});var{isHitRule:le,rawUrl:ce,rawHost:ue,accelerateType:de,host:pe,accelerateId:he,__AccelFailReqId__:fe}=v,{domainLookUpStart:ge,domainLookUpEnd:ve,connectStart:me,connectEnd:ye,SSLconnectionStart:be,SSLconnectionEnd:_e,requestStart:we,requestEnd:Se,responseStart:Ce,responseEnd:ke,socketReused:Ie,peerIP:Pe}=c;1===le&&[1,2].includes(r)&&M.reportKeyValue({key:"AccelerateNetwork",value:[e,encodeURIComponent(ce.substring(0,1024)),t,ue,pe,r,n,i,M.getAppType(),a,s,ag(),l,dg(c),P,f,le,de,he,ve-ge,ye-me,_e-be,Se-we,ke-Ce,Ie?1:0,Pe,fe].join(",")}),fg.push([e,t,r,a||"",n,i,ag(),o?"1":"0",M.getAppType(),s].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",")),Sg({functionName:e,keyParam:t,result:r,costTime:n,errorMsg:i,statusCode:a,dataLength:s,responseDataLength:l,requestData:y,response:b,profile:c,errno:f,__skipDomainCheck__:o}),Date.now()-hg>=6e4&&(hg=Date.now(),setTimeout(yg,6e4))};function _g(e){vg.add(e)}function wg(e){vg.delete(e)}function Sg(e){if(0!==vg.size)try{vg.forEach((t=>t(e)))}catch(e){}}var Cg=()=>(ke?100:0)+(ke?10:0)+(ke?1:0),kg=(e,t,...r)=>{if(void 0!==E)E.surroundThirdByTryCatch(e,t)(...r);else if(void 0!==j)j.surroundThirdByTryCatch(e,t)(...r);else try{e(...r)}catch(e){console.error(`thirdScriptError\n${null==e?void 0:e.message};${t}`),console.error(e)}};class Ig{constructor(e="",t=!1){this.type="",this.surround=!1,this.eventMap=new Map,this.type=e,this.surround=t}on(e,t){gt(t)?this.eventMap.has(e)?this.eventMap.get(e).add(t):this.eventMap.set(e,new Set([t])):console.error("EmitterError: callback must be a function")}off(e,t){var r=this.eventMap.get(e);"function"!=typeof t?null==r||r.clear():null==r||r.delete(t)}emit(e,...t){var r=[...this.eventMap.get(e)||[]],n=`at ${this.type}${e} callback function`;r.forEach((e=>this.surround?kg(e,n,...t):e(...t)))}removeAllListeners(e){this.off(e)}getListenersLength(e){var t;return(null===(t=this.eventMap.get(e))||void 0===t?void 0:t.size)||0}}var Pg=32768,Tg=16384,Ag=61440;class xg{constructor({mode:e,size:t,lastAccessedTime:r,lastModifiedTime:n}){this.mode=e,this.size=t,this.lastAccessedTime=r,this.lastModifiedTime=n}_checkModeProperty(e){return(this.mode&Ag)===e}isDirectory(){return this._checkModeProperty(Tg)}isFile(){return this._checkModeProperty(Pg)}}var Eg=(e,t)=>{var r=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((t=>{r=r&&void 0!==e[t]})),r)e.stats=new xg(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new xg(e.stats[""]);else{var n=[],i=e.stats;ke&&(i=e,n.push({path:"/",stats:Rg(t)})),Object.keys(i).forEach((e=>{if("errMsg"!==e){var t=i[e];""===e&&(e="/"),n.push({path:e,stats:new xg(t)}),delete i[e]}})),e.stats=n}},Mg=(e={})=>{jc("stat",e,{path:""})&&fd("stat",e,{beforeSuccess:t=>{Eg(t,e.path)}})},Rg=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");var r,n,i;if(fd("statSync",{path:e,recursive:t,success(t){Eg(t,e),r=t.stats},fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}return r};function Dg(e){return e?Array.isArray(e)?e:e.split(",").reduce(((e,t)=>(/^\s*\S+=/.test(t)?e.push(t):e.length&&(e[e.length-1]+=t),e)),[]).map((e=>e.trim())):[]}class Og{constructor(e){if(this._status="pending",this._return=void 0,this._processors=[],"function"!=typeof e)throw new TypeError("Promise resolver is not a function");try{e((e=>{"pending"===this._status&&(this._status="then",this._return=e,this._consume())}),(e=>{"pending"===this._status&&(this._status="catch",this._return=e,this._consume())}))}catch(e){this._status="catch",this._return=e,this._consume()}}_consume(){if("pending"!==this._status){var e;do{e=this._processors.shift()}while(e&&e.type!==this._status);if(e)try{this._return=e.func(this._return),this._status="then"}catch(e){this._return=e,this._status="catch"}finally{this._consume()}}}then(e){return this._processors.push({func:e,type:"then"}),this._consume(),this}catch(e){return this._processors.push({func:e,type:"catch"}),this._consume(),this}static resolve(e){return new Og((t=>t(e)))}static reject(e){return new Og((()=>{throw e}))}}var Lg=e=>{if(Ne)return!0;if(ke)switch(e){case"Download":case"Request":return!0;default:return!1}else{if(!Ie)return!1}};tg((e=>{var t;t="wifi"===e.networkType?1:2,Object.keys(Ng).forEach((e=>{Ng[e].network!==t&&(Ng[e].needUpdateDns=!0,Ng[e].network=t,Ng[e].doingDns=!1)}))}));var Ng={};function Bg(){if(void 0===yr)return"";var e=yr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function $g(){return 1e4*Date.now()+Math.round(9999*Math.random())}var Fg=null,jg=new Proxy({},{get(e,t,r){if(!Fg)throw new Error("NativeGlobal not ready");return Reflect.get(Fg,t,r)},set(e,t,r,n){if(!Fg)throw new Error("NativeGlobal not ready");return Reflect.set(Fg,t,r,n)}});function Wg(e){m.onLoad((()=>{e(jg)}))}m.onLoad((()=>{Fg="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));const Vg=jg;class Ug{constructor(){}createTask(e){throw new Error("not impl")}onTaskStateChange(e){throw new Error("not impl")}operate(){throw new Error("not impl")}}var zg=new Ig("RequestTaskJsBindingInvoker"),qg={},Hg="Binding",Gg=e=>Hg+e,Kg=(e,t)=>cx(e,`RequestTask.${t}`);class Jg extends Ug{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:n,enableHttp2:i,enableHttp3:a}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||a?e.protocol="h3":i&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,Vg.RequestTask)(e);qg[Gg(s.id)]=s;var l=Date.now();s.__mockClientInfo={invokeTime:l,beginCGITimestamp:l,CGICallbackTimestamp:l,wxlibCallbackTimestamp:l};s.responseInfo={},s.invokeArgs=e,s.onDataReceived=Kg(Qg,"onDataReceived"),s.onSucceeded=Kg(rv,"onSucceeded"),s.onFailed=Kg(nv,"onFailed"),s.onResponseStarted=Kg(Yg,"onResponseStarted"),s.onRedirectReceived=Kg(tv,"onRedirectReceived"),s.operate({operationType:"request"});var c={requestTaskId:Gg(s.id),errMsg:"createRequestTask:ok"};r(c),n(c)}onTaskStateChange(e){zg.off("stateChange"),zg.on("stateChange",e)}operate(e){var{operationType:t}=e,r=qg[e.requestTaskId];e.requestTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){var r=qg[t];r&&("progressUpdate"===e?r.onProgressUpdate=Kg(ev,"onProgressUpdate"):"headersReceived"===e||"chunked"===e&&(r.onChunkedDataReceived=Kg(Zg,"onChunkedDataReceived")))}stopListenTaskStateChange({stateName:e,taskId:t}){var r=qg[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e?(r.onResponseStarted=null,r.onRedirectReceived=null):"chunked"===e&&(r.onChunkedDataReceived=null))}}var Xg=e=>{delete qg[Gg(e.id)]};function Yg(e){var t=this.responseInfo;Object.assign(t,e),zg.emit("stateChange",{requestTaskId:Gg(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function Qg(e){this.responseInfo.data=e}function Zg(e){zg.emit("stateChange",{requestTaskId:Gg(this.id),state:"chunked",data:e.data})}function ev(e){zg.emit("stateChange",{requestTaskId:Gg(this.id),state:"progressUpdate",type:e.type,totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function tv(e={}){var t=this.responseInfo;t.header=e.header,t.statusCode=e.statusCode,zg.emit("stateChange",{requestTaskId:Gg(this.id),state:"headersReceived",header:e.header,cookies:e.cookies||{},statusCode:e.statusCode})}function rv(e={}){var t=this.responseInfo,r={requestTaskId:Gg(this.id),state:"success",header:t.header,data:t.data,statusCode:t.statusCode,clientInfo:e.clientInfo};r.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),r.clientInfo=this.__mockClientInfo),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),void 0===r.data&&"text"===this.invokeArgs.responseType&&(r.data=""),zg.emit("stateChange",r),Xg(this)}function nv(e){e.errno;var t={requestTaskId:Gg(this.id),state:"fail",clientInfo:e.clientInfo,errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};t.clientInfo||(this.__mockClientInfo.CGICallbackTimestamp=Date.now(),this.__mockClientInfo.wxlibCallbackTimestamp=Date.now(),t.clientInfo=this.__mockClientInfo),zg.emit("stateChange",t),Xg(this)}var iv=(e,t)=>cx(e,`DownloadTask.${t}`),av=new Ig("DownloadTaskJsBindingInvoker"),ov={};class sv extends Ug{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:n,enableHttp2:i,enableHttp3:a}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||a?e.protocol="h3":i&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,Vg.DownloadTask)(e);ov[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=iv(dv,"onSucceeded"),s.onFailed=iv(pv,"onFailed"),s.onResponseStarted=iv(cv,"onResponseStarted"),s.operate({operationType:"download"});var l={downloadTaskId:s.id,errMsg:"createDownloadTask:ok"};r(l),n(l)}onTaskStateChange(e){av.off("stateChange"),av.on("stateChange",e)}operate(e){var{operationType:t}=e,r=ov[e.downloadTaskId];e.downloadTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){var r=ov[t];r&&"progressUpdate"===e&&(r.onProgressUpdate=iv(uv,"onProgressUpdate"))}stopListenTaskStateChange({stateName:e,taskId:t}){var r=ov[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e&&(r.onResponseStarted=null))}}var lv=e=>{delete ov[e.id]};function cv(e){var t=this.responseInfo;Object.assign(t,e),av.emit("stateChange",{downloadTaskId:this.id,state:"headersReceived",header:e.header,cookies:e.cookies||{}})}function uv(e){av.emit("stateChange",{downloadTaskId:this.id,state:"progressUpdate",totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite,progress:e.progress})}function dv(e={}){var t=this.responseInfo,r={downloadTaskId:this.id,state:"success",header:t.header,dataLength:e.dataLength,statusCode:t.statusCode};e.clientInfo&&(r.clientInfo=e.clientInfo),e.tempFilePath&&(r.tempFilePath=e.tempFilePath),e.filePath&&(r.filePath=e.filePath),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),av.emit("stateChange",r),lv(this)}function pv(e){e.errno;var t={downloadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),av.emit("stateChange",t),lv(this)}var hv=(e,t)=>cx(e,`UploadTask.${t}`),fv=new Ig("UploadTaskJsBindingInvoker"),gv={};class vv extends Ug{constructor(...e){super(...e),this.jsapiVersion=1}createTask(e,t={}){var{success:r,complete:n,enableHttp2:i,enableHttp3:a}=e,{useHighPerformanceMode:o}=t;delete e.success,delete e.fail,delete e.complete,delete e.enableHttp2,delete e.enableQuic,delete e.enableHttp3,o||a?e.protocol="h3":i&&(e.protocol="h2"),void 0===e.header&&(e.header={});var s=new(0,Vg.UploadTask)(e);gv[s.id]=s;s.responseInfo={},s.invokeArgs=e,s.onSucceeded=hv(_v,"onSucceeded"),s.onFailed=hv(wv,"onFailed"),s.onResponseStarted=hv(yv,"onResponseStarted"),s.operate({operationType:"upload"});var l={uploadTaskId:s.id,errMsg:"createUploadTask:ok"};r(l),n(l)}onTaskStateChange(e){fv.off("stateChange"),fv.on("stateChange",e)}operate(e){var{operationType:t}=e,r=gv[e.uploadTaskId];e.uploadTaskId,r&&"abort"===t&&r.operate({operationType:"abort"})}startListenTaskStateChange({stateName:e,taskId:t}){var r=gv[t];r&&"progressUpdate"===e&&(r.onProgressUpdate=hv(bv,"onProgressUpdate"))}stopListenTaskStateChange({stateName:e,taskId:t}){var r=gv[t];r&&("progressUpdate"===e?r.onProgressUpdate=null:"headersReceived"===e&&(r.onResponseStarted=null))}}var mv=e=>{delete gv[e.id]};function yv(e){var t=this.responseInfo;Object.assign(t,e),fv.emit("stateChange",{uploadTaskId:this.id,state:"headersReceived",header:e.header})}function bv(e){fv.emit("stateChange",{uploadTaskId:this.id,state:"progressUpdate",progress:e.progress,totalBytesSent:e.totalBytesSent,totalBytesExpectedToSend:e.totalBytesExpectedToSend})}function _v(e={}){var t=this.responseInfo,r={uploadTaskId:this.id,state:"success",header:t.header,data:e.data,statusCode:t.statusCode};e.clientInfo&&(r.clientInfo=e.clientInfo),e.profile&&(r.profile=e.profile,r.profile.usingHighPerformanceMode=!0),fv.emit("stateChange",r),mv(this)}function wv(e){e.errno;var t={uploadTaskId:this.id,state:"fail",errno:e.errno,errMsg:e.errMsg,errCode:e.errCode};e.clientInfo&&(t.clientInfo=e.clientInfo),fv.emit("stateChange",t),mv(this)}var Sv=e=>!(!ke||e.enableHttpDNS),Cv=e=>!(!ke||e.enableHttpDNS),kv=e=>!(!ke||e.enableHttpDNS),Iv={Request:{jsBinding:new Jg},Download:{jsBinding:new sv},Upload:{jsBinding:new vv}},Pv=(e,t)=>"Request"===e&&Vg.RequestTask&&(t.useHighPerformanceMode||Sv(t))?Iv.Request.jsBinding:"Download"===e&&Vg.DownloadTask&&(t.useHighPerformanceMode||Cv(t))?Iv.Download.jsBinding:"Upload"===e&&Vg.UploadTask&&(t.useHighPerformanceMode||kv(t))?Iv.Upload.jsBinding:void 0,Tv=(e,t)=>{if(Iv[e]){var r=Iv[e];Object.keys(r).forEach((e=>{r[e].onTaskStateChange((e=>{t(e)}))}))}};function Av(e){return function({args:e,options:{__retryHttpDNS__:t,__notAutofillContentType__:r,lastRequestStartTime:n,lastUrl:i,lastHost:a,lastErrorResponse:o,__innerRequestOptions__:s,__polyfill_ldns__:l,retryCount:c,exception:u}={}}){var d,p;!t&&null!=s&&s.__retryHttpDNS__&&(t=!0),e.header?(p=Ze(e.header),e.header=np(e.header)):(d=!0,p="Undefined",e.header={}),"Undefined"!==p&&"Object"!==p&&(console.warn("wx.request: header must be an object"),e.header={}),d||(e.header=Object.keys(e.header).reduce(((t,r)=>{var n=r.toLowerCase();return"content-type"===n?t[n]=e.header[r]:t[r]=e.header[r],t}),{}));var h="text";e.responseType&&(h=e.responseType.toLowerCase());var f,g=e.header,v="GET";if("string"==typeof e.method&&(v=e.method.toUpperCase()),e.dataType=e.dataType||"json",r||(g["content-type"]=g["content-type"]||"application/json"),f=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==Ze(e.data)?g["content-type"].indexOf("application/x-www-form-urlencoded")>-1?$d(e.data,!0):g["content-type"].indexOf("application/json")>-1||"object"==typeof e.data?JSON.stringify(e.data):f.toString():e.data,"GET"===v&&e.data){var m=Vd(e.url,e.data);e.url=m}var y=null!=s&&s.timeout?s.timeout:e.timeout,b=null!=s&&s.retryCount?s.retryCount:0;b||(b=null!=c?c:0);var _=null!=s&&s.exception?s.exception:null;_||(_=u);var w=(null==s?void 0:s.__polyfill_ldns__)||l;return{header:g,method:v,responseType:h,dataStr:f,args:e,currentRequestStartTime:Date.now(),lastRequestStartTime:n,lastHost:a,lastUrl:i,__retryHttpDNS__:t,lastErrorResponse:o,startTimestamp:Date.now(),timeout:y,retryCount:b,exception:_,__polyfill_ldns__:w}}}var xv=f(517),Ev=Symbol("pre"),Mv=Symbol("next"),Rv=Symbol("key"),Dv;class Ov{constructor(e){if(!("number"==typeof e&&e>0))throw new Error("DoubleLinkedListLRUStore constructor params maxCacheLength must be number");this.cacheMap={},this.cacheHead=void 0,this.cacheTail=void 0,this.cacheLength=0,this.maxCacheLength=e}getCache(e){if(this.cacheMap[e])return this.cacheMap[e]}updateCache(e){var t=e[Ev],r=e[Mv];t&&r?(t[Mv]=r,r[Ev]=t,this.cacheTail[Mv]=e,e[Ev]=this.cacheTail,e[Mv]=null,this.cacheTail=e):t||r&&(r[Ev]=null,this.cacheHead=r,this.cacheTail[Mv]=e,e[Ev]=this.cacheTail,e[Mv]=null,this.cacheTail=e)}insertCache(e,t){if(t[Rv]=e,this.cacheTail?(t[Mv]=null,t[Ev]=this.cacheTail,this.cacheTail[Mv]=t,this.cacheTail=t):(this.cacheTail=t,t[Mv]=null,this.cacheHead=t,t[Ev]=null),this.cacheMap[e]=t,this.cacheLength>=this.maxCacheLength){delete this.cacheMap[this.cacheHead[Rv]];var r=this.cacheHead[Mv];r[Ev]=null,this.cacheHead[Mv]=null,this.cacheHead[Ev]=null,this.cacheHead=r}else this.cacheLength++}removeOldestCache(){if(this.cacheTail){var e=[this.cacheHead[Rv],this.cacheMap[this.cacheHead[Rv]]];delete this.cacheMap[this.cacheHead[Rv]];var t=this.cacheHead[Mv];return t[Ev]=null,this.cacheHead[Ev]=null,this.cacheHead[Mv]=null,this.cacheHead=t,this.cacheLength--,e}}removeCache(e){var t=this.getCache(e);t&&(t===this.cacheHead?(this.cacheHead=t[Mv],this.cacheHead&&(this.cacheHead[Ev]=null)):t===this.cacheTail?(this.cacheTail=t[Ev],this.cacheTail&&(this.cacheTail[Mv]=null)):(t[Ev][Mv]=t[Mv],t[Mv][Ev]=t[Ev],t[Rv][Ev]=null,t[Rv][Mv]=null),delete this.cacheMap[t[Rv]],this.cacheLength--)}}function Lv(e){Dv||(Dv=new Ov(50));var t,r=Dv.getCache(e);return r?(Dv.updateCache(r),r):((t="function"==typeof URL?new URL(e):(0,xv.Qc)(e)).origin||(t.origin=(t.protocol||"")+"//"+(t.host||"")),Dv.insertCache(e,t),t)}var Nv={},Bv={wxGA:846,Kanata:933,reportIDKey:847,reportKeyValue:848,getXLogManager:849,getUserCloudStorage:883,getFriendCloudStorage:884,getGroupCloudStorage:885,getPotentialFriendList:886,getGroupInfo:887,shareMessageToFriend:888,getUserInfo:915,getUserCloudStorageKeys:950,modifyFriendInteractiveStorage:951,WebAssembly:962,Function:963,getGameLifeProfile:964,getGreetingControlInfo:965,interactGameLifeTag:966,openGameLifeAccountInfo:979,openGameLifeMiniGameTransfer:980,gameTransfer:981,createCanvas:987,createScreenCanvas:987,createWebView:991,preloadWebView:991,navigateToMiniProgramDirectly:1002,coverview:1005,launchApplication:1006,privateOpenUrl:1007,launchApplicationDirectly:1008,encode:1022,decode:1023,onStoreEmoticonSelect:1053,offStoreEmoticonSelect:1053,PIXI:1057,TWEEN:1058,onKeyboardHeightChange:1062,offKeyboardHeightChange:1062,allowBufferWASM:1068,showUserGrantInfoModal:1073,__wxSourceMapRetrace__:1074,setPluginLoginAuth:1078,createScreenCanvas2:1096,clearCreateCanvas:1097,getABTestConfig:1108,getSelfUserInfo:1110,gamelifeManager:1111,getGameLifeRedCount:1111,onGameLifeMsg:1111,offGameLifeMsg:1111,onWebRTCLoadedMetaData:1116,offWebRTCLoadedMetaData:1116,requestForPlugin:1118,requestSubscribeSystemMessage:1124,skipDNSRequest:1125,useRequest:1126,requestSubscribeSystemMessageSkipTouchCheck:1127,requirePlugin:1150,transformFakePath2RealPath:1175,getPrivateFileSystemManager:1188,createWKVideo:1293,uploadFile:1308,gameRecorderOperateVideo:1310,gameRecorderGetVideoPath:1310,openCustomerServiceConversationDirectly:1316,plugin_shareAppMessage:1345,createLiteApp:1346,gameTransferForLiteGame:1359},$v=e=>{if(Nv[e])return Nv[e];var t={},r=Object.values(Bv);return fd("getPluginPermissionBytes",{pluginList:[{indexes:r,pluginId:e}],success(n){var i=n.pluginPermissionMap;if(i&&i[e]){for(var a=0;a<i[e].length;a++){var o=r[a];t[o]=1===i[e][a]}Nv[e]=t}},fail(e){}}),t},Fv=(e,t)=>{var r=Bv[t];return void 0===r?(console.error("请在 PluginPermissionIndex 中配置需要查询的权限位"),!1):Nv[e]?Nv[e][r]:($v(e),Nv[e]&&Nv[e][r])},jv=Symbol("skipDNS"),Wv=function({args:e={}}){var{ip:t}=e;if(t){var r=sh(this);return r&&Fv(r,"skipDNSRequest")?{skipDNS:jv,ip:e.ip}:{}}},Vv="[accelerate]",Uv=0,zv=1,qv={request_host_list:"requestHostMap",socket_host_list:"socketHostMap"},Hv={isHitRule:Uv,enableAcc:Uv,requestHostMap:{},socketHostMap:{},forceDisableAcc:Uv},Gv={none:0,accelerate:1,disable:2,retryAccelFallback:3,forceDisableAcc:4,liteGatewayAcc:5},Kv={[Gv.none]:"none",[Gv.accelerate]:"accelerate",[Gv.disable]:"disable",[Gv.retryAccelFallback]:"retryAccelFallback",[Gv.forceDisableAcc]:"forceDisableAcc",[Gv.liteGatewayAcc]:"liteGateway"};re.onReady((()=>{var e,t,r,n;Date.now();null==re||null===(e=re.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||t.enable_accelerate_network,((null==re||null===(r=re.appContactInfo)||void 0===r||null===(n=r.passThroughInfo)||void 0===n?void 0:n.enable_accelerate_network)||!1)&&tx({apiName:"webapi_get_oversea_accelerate_info",reqData:{},success:e=>{Date.now();var t=e.data.is_region_hit_rule,r=e.data.enable_acc;Object.assign(Hv,{isHitRule:t,enableAcc:r}),r===zv&&Object.keys(qv).forEach((t=>{(e.data[t]||[]).forEach((e=>{Hv[qv[t]][e.host]=e.acc_host}))}))},fail:e=>{}})}));var Jv=e=>{var t;return(null==e||null===(t=e.header)||void 0===t?void 0:t["EO-LOG-UUID"])||""},Xv=({host:e,hostMap:t,compatUrls:r,args:n,__retryAccelFallback__:i,__AccelFailReqId__:a})=>{var{disableAccelerate:o,url:s}=n,l=t[e],{disable:c,accelerate:u,retryAccelFallback:d,none:p,forceDisableAcc:h}=Gv;if(o||i||Hv.enableAcc===Uv||Hv.forceDisableAcc===zv||!l){var f=p;return l&&(o?f=c:i?(f=d,Hv.forceDisableAcc=zv):Hv.forceDisableAcc===zv&&(f=h)),{accelerateOptions:Object.assign({accelerateType:f},a?{__AccelFailReqId__:a}:{})}}var g=s,v=e,m=g.replace(v,l);return{accelerateOptions:{accelerateType:u},host:l,args:Object.assign({},n,{url:m}),compatUrls:Object.assign({},r,{host:l,url:m})}};function Yv(e){var{host:t,args:r,compatUrls:n,options:i}=e,{requestHostMap:a,isHitRule:o}=Hv,{accelerateOptions:s,...l}=Xv({host:t,compatUrls:n,hostMap:a,args:r,__retryAccelFallback__:i.__retryAccelFallback__,__AccelFailReqId__:i.__AccelFailReqId__});return Object.assign({},l,{accelerateOptions:Object.assign({},s,{isHitRule:o,rawHost:t,rawUrl:r.url})})}var Qv=({options:e,res:t,task:r})=>{var n=Jv(t)||r.uniqueId,{isHitRule:i,rawUrl:a,rawHost:o,accelerateType:s}=e.accelerateOptions,l=e.originArgs.url,c=e.host,{profile:u,statusCode:d,errno:p,errMsg:h}=t,{domainLookUpStart:f,domainLookUpEnd:g,connectStart:v,connectEnd:m,SSLconnectionStart:y,SSLconnectionEnd:b,requestStart:_,requestEnd:w,responseStart:S,responseEnd:C,socketReused:k,peerIP:I}=u||{};return M.reportKeyValue({key:"AccelerateNetwork",value:["request",encodeURIComponent(a.substring(0,1024)),encodeURIComponent(l.substring(0,1024)),o,c,2,Date.now()-e.currentRequestStartTime,h,M.getAppType(),d,0,ag(),0,dg(u||{}),We()?pg.scene:su.scene,p,i,s,n,g-f,m-v,b-y,w-_,C-S,k,I].join(",")}),delete e.accelerateOptions,e.originArgs.url=a,{args:e.originArgs,innerArgs:{__retryAccelFallback__:!0,__AccelFailReqId__:n}}},Zv={},em={},tm={},rm=(e,t,r)=>{if(tm[e])return tm[e];var n,i=e&&e.indexOf(":");n=(n=-1!==i?e.slice(0,i):e).toLowerCase();var a=r?{sdkApiName:"getFreeDNSInfo",apiName:"webapi_wxahttpdns_getfreehostip",reqData:{domain:n}}:{sdkApiName:"getDNSInfo",apiName:"webapi_wxahttpdns_gethostip",reqData:{domain:n,service_id:t}};return tm[e]=rx(a).then((t=>{delete tm[e];var n,{wxa_state:i,ttl:a,hit_cache:o,ip_list:s=[],ip:l}=t.data;n=null!=s&&s.length?s[0]:l;var c=s.slice(1);if(0===i)return Zv[e]={ip:n,expireTime:1e3*a+Date.now(),candidateIps:c},r?{...Zv[e],hitCache:o}:Zv[e];throw new Error(i)})).catch((t=>{if(!r&&("602103"==(null==t?void 0:t.errno)||"602106"==(null==t?void 0:t.errno)||"602107"==(null==t?void 0:t.errno)||"602105"==(null==t?void 0:t.errno)||"602104"==(null==t?void 0:t.errno)))return{__break__:!0,__rawError__:[t]};throw delete tm[e],t})),tm[e]},nm=e=>{var t=Zv[e];return t?{expired:Date.now()>t.expireTime,ip:t.ip}:null},im=(e,t)=>{var r=em[e];return t?(!r||r!==t)&&(delete em[e],!0):(delete em[e],!1)},am=(e,t)=>{em[e]=t};function om({args:e={},host:t,skipDNS:r,banHttpDNS:n,options:i={}}){var a,o;if(r!==jv&&!n){var s,l,{enableHttpDNS:c,httpDNSServiceId:u}=e;if(null!=i&&null!==(a=i.__innerRequestOptions__)&&void 0!==a&&a.ip)return{host:t,ip:i.__innerRequestOptions__.ip,candicateIps:null===(l=i.__innerRequestOptions__)||void 0===l?void 0:l.candicateIps};if(null===(null==i||null===(o=i.__innerRequestOptions__)||void 0===o?void 0:o.ip))return{};if(!sg()){if(!0===c&&tt(u)){var d=nm(t);return d&&!1===d.expired?(s=d.ip,{host:t,ip:s}):rm(t,u).then((e=>{if(s=e.ip,e.__break__)return{rawHttpDnsError:e.__rawError__,retryCount:i.retryCount?i.retryCount+1:1};var r=e.candidateIps;return{host:t,ip:s,candicateIps:r}}))}return!0===c?Promise.reject(new Error("invalid httpDNSServiceId")):void 0}}}function sm({host:e,ip:t,compatUrls:r}){var n=im(e,t);return t?{port:r.port,host:r.host,url:r.url,forbidReuse:n}:{forbidReuse:n}}tg((()=>{Zv={},em={},tm={}}));var lm=!1,cm=Cf(Mg),um=0,dm=new WeakMap,pm=new WeakMap,hm=new WeakMap,fm=new WeakMap,gm=new WeakMap,vm=new WeakMap,mm=new WeakMap,ym=new WeakMap,bm=new WeakMap,_m=new WeakMap,wm=new WeakMap,Sm={},Cm=new Ig("Network",!0),km=_.createLogger("NetworkTask"),Im=new WeakMap,Pm={},Tm=new WeakMap,Am=new WeakMap;class xm{constructor(e,{taskType:t,beforeSend:r,beforeSuccess:n,beforeFail:i}){var a,o,s=um++;if(this.uniqueId=$g(),dm.set(this,s),hm.set(this,"waiting"),fm.set(this,e),gm.set(this,t),ym.set(this,r),bm.set(this,n),gt(i)&&_m.set(this,i),this.taskInvoker=Pv(t,e),!this.taskInvoker){var l=!1;(Lg(t)||(Ie||ke)&&e.forceCellularNetwork)&&(l=!0),wm.set(this,l)}var c=new Og(((e,t)=>{a=e,o=t}));Im.set(this,{promise:c,resolve:a,reject:o});var u=()=>{Nm.call(this)?(mm.set(this,[Date.now()]),Sm[t].taskQueue.push({id:s,item:this})):Mm.call(this)};gt(e.customCheck)?e.customCheck(e,(r=>{r?Em(t,e,r):u()})):u()}abort(){if(km.info(`[${gm.get(this)}][${dm.get(this)}]abort()`),"waiting"===hm.get(this)){km.info(`[${gm.get(this)}][${dm.get(this)}] waiting=true`);var e=Sm[gm.get(this)].taskQueue.findIndex((e=>e.id===dm.get(this)));e>-1&&(Sm[gm.get(this)].taskQueue.splice(e,1),Vc(Sm[gm.get(this)].functionName,fm.get(this),"abort")),hm.set(this,"done")}else{var t=Im.get(this).promise,r=fm.get(this);t.then((()=>{var e={[`${gm.get(this).toLowerCase()}TaskId`]:pm.get(this),operationType:"abort",contextId:r.contextId};this.taskInvoker?this.taskInvoker.operate(e):fd(`operate${gm.get(this)}Task`,e)}))}}onProgressUpdate(e){Im.get(this).promise.then((()=>{var t=pm.get(this),r=gm.get(this);Cm.on(`${r}${t}progressUpdate`,e),1===Cm.getListenersLength(`${r}${t}progressUpdate`)&&Fm.call(this,r,"progressUpdate",t)}))}offProgressUpdate(e){Im.get(this).promise.then((()=>{var t=pm.get(this),r=gm.get(this);Cm.off(`${r}${t}progressUpdate`,e),Cm.getListenersLength(`${r}${t}progressUpdate`)||jm.call(this,r,"progressUpdate",t)}))}onHeadersReceived(e){Im.get(this).promise.then((()=>{var t=pm.get(this),r=gm.get(this);Cm.on(`${r}${t}headersReceived`,e),1===Cm.getListenersLength(`${r}${t}headersReceived`)&&Fm.call(this,r,"headersReceived",t)}))}offHeadersReceived(e){Im.get(this).promise.then((()=>{var t=pm.get(this),r=gm.get(this);Cm.off(`${r}${t}headersReceived`,e),Cm.getListenersLength(`${r}${t}headersReceived`)||jm.call(this,r,"headersReceived",t)}))}onChunkReceived(e){Im.get(this).promise.then((()=>{var t=pm.get(this),r=gm.get(this);Cm.on(`${r}${t}chunked`,e),"Request"===r&&1===Cm.getListenersLength(`${r}${t}chunked`)&&Fm.call(this,r,"chunked",t)}))}offChunkReceived(e){Im.get(this).promise.then((()=>{var t=pm.get(this),r=gm.get(this);Cm.off(`${r}${t}chunked`,e),"Request"!==r||Cm.getListenersLength(`${r}${t}chunked`)||jm.call(this,r,"chunked",t)}))}}function Em(e,t,r,n){r=String(r).replace("createCellularNetworkRequestTaskAsync:fail ","");var i={name:Sm[e].functionName,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:r};"number"==typeof n&&(i.errno=n),zc(i)}function Mm(){var e=fm.get(this),t=gm.get(this),r=wm.get(this);hm.set(this,"sending"),vm.set(this,Date.now());var{errMsg:n,errno:i}=Rm.call(this);r?Im.get(this).promise.then((()=>{Dm.call(this)})).catch((({errMsg:r,errno:n})=>{Em(t,e,r,n)})):n?Em(t,e,n,i):pm.get(this)?Dm.call(this):Im.get(this).promise.then((()=>{Dm.call(this)}));setTimeout((()=>{bg({functionName:Sm[t].functionName,keyParam:e.url,result:null,costTime:0,errorMsg:"",statusCode:null,__skipDomainCheck__:e.__skipDomainCheck__,dataLength:null,responseDataLength:null,profile:{},queueTime:null,extraData:{},uniqueId:this.uniqueId,isAsync:!1,errno:null,queueLength:0,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0})}),0)}function Rm(){var e,t,r=gm.get(this),n=fm.get(this);Sm[r].currentTaskCount++;var i={data:n.data,url:n.url,header:n.header,method:n.method,timeout:"number"==typeof n.timeout?n.timeout:0,enableHttp2:!0===n.enableHttp2,enableHttp3:!0===n.enableHttp3,enableQuic:!0===n.enableQuic,enableCache:!0===n.enableCache,enableProfile:!1!==n.enableProfile,ip:n.ip,port:n.port,forbidReuse:!0===n.forbidReuse,host:n.host,enableChunked:n.enableChunked,__skipDomainCheck__:n.__skipDomainCheck__,forceCellular:n.forceCellularNetwork,contextId:n.contextId,redirect:n.redirect,success:e=>{var t=e[`${r.toLowerCase()}TaskId`];pm.set(this,t),Sm[r].taskIdMap[t]=this;var n=Im.get(this).resolve,i=Im.get(this).promise;n(),i.then((()=>{Pm[t]&&"wait"===Pm[t].status?Pm[t].handlers.forEach((e=>e())):Pm[t]={status:"normal"}}))},fail:i=>{Sm[r].currentTaskCount--;var a=i[`${r.toLowerCase()}TaskId`];e=i.errMsg,t=i.errno,Om.call(this,{taskType:r,options:n,errMsg:e,success:!1,jsapiVersion:this.taskInvoker?this.taskInvoker.jsapiVersion:0}),(0,Im.get(this).reject)({errMsg:e,errno:t}),km.error(`[${r}][createTask][Fail] taskId=${a}`),Pm[a]&&"wait"===Pm[a].status&&delete Pm[a]},complete:()=>{hm.set(this,"done")}},a=wm.get(this),o=`create${r}Task${a?"Async":""}`;(Ie||ke)&&n.forceCellularNetwork&&(o="createCellularNetworkRequestTaskAsync");var s={};"[object ArrayBuffer]"!==Object.prototype.toString.call(n.data)&&(s.notPack=!0);var l=ym.get(this)(i);return"createRequestTaskAsync"===o&&Ie&&lm&&(o="createRequestTaskRealAsync"),this.taskInvoker?this.taskInvoker.createTask(l,n):"Request"!==r||Ce||xe||m.env.isMagicBrushFrameEnv?fd(o,l):_d(o,l,s),{errMsg:e,errno:t}}function Dm(){var e=pm.get(this),t=fm.get(this),r=gm.get(this),n=Sm[r].functionName;Cm.on(`${r}${e}success`,(e=>{var r=bm.get(this).call(this,e);null!=r&&r.__retry__||zc({name:n,args:{success:t.success,fail:t.fail,complete:t.complete},res:e})})),Cm.on(`${r}${e}fail`,(e=>{var r=_m.get(this),i=r&&r.call(this,e);if(null!=i&&i.__retry__)_.info(`httpDns we retry url: ${t.url}`);else{i&&i.__changeError__&&(e=i.__changeError__);var a={name:n,args:{success:t.success,fail:t.fail,complete:t.complete},success:!1,errMsg:e.errMsg};e.errno&&(a.errno=e.errno),e.exception&&(a.exception=e.exception),zc(a)}}))}function Om({taskType:e,options:t,errMsg:r,success:n=!0,dataLength:i=0,statusCode:a="",responseDataLength:o=0,profile:s={},queueTime:l,uniqueId:c,errno:u,queueLength:d,accelerateId:p,jsapiVersion:h=0,response:f}){var g=t.url,v=n?1:2,m=Date.now(),y=vm.get(this),b=m-y,_=t.__skipDomainCheck__;b>=6e4&&km.error(`reportTask costTime too long: ${b}ms, taskId=${pm.get(this)}`),bg({functionName:Sm[e].functionName,keyParam:g,result:v,costTime:b,errorMsg:r,statusCode:a,__skipDomainCheck__:_,dataLength:i,responseDataLength:o,profile:s,queueTime:l,extraData:{},uniqueId:c,isAsync:!0,errno:u,queueLength:d,accelerateOptions:Object.assign({},t.accelerateOptions,{host:t.host,accelerateId:p}),jsapiVersion:h,requestData:t.data,response:f,beginTime:y,endTime:m,options:t})}function Lm(e,t){var r=`${t.toLowerCase()}TaskId`,n=e[r],{state:i,header:a}=e;delete e.state,delete e[r],"chunked"!==i&&(e.cookies=a?Dg(a["Set-Cookie"]||a["set-cookie"]):[]);var o=0;a&&(o=parseInt(a["Content-Length"]||a["content-length"]||"0",10));var s,l,c=()=>{if(Cm.emit(`${t}${n}${i}`,e),"success"===i||"fail"===i){var r=Sm[t].taskIdMap[n],a=fm.get(r);if(!r)return;Sm[t].currentTaskCount-=1;var s=Sm[t].taskQueue.length;if(Sm[t].taskQueue.length>0){var l=Sm[t].taskQueue.shift().item,c=mm.get(l);if(c&&c[0]){var u=c[0];if(u>0){var d=Date.now()-u;mm.set(l,[u,d,s])}}Mm.call(l)}var p=Promise.resolve(_f(a.data));if("Upload"===t){var h=0;"object"==typeof a.formData&&null!==a.formData&&(h=JSON.stringify(a.formData).length),p=cm({path:a.filePath}).then((e=>h+e.stats.size)).catch((()=>h))}var f=Promise.resolve(_f(e.data,o));if("Download"===t){var g=e.dataLength;f="number"==typeof g?Promise.resolve(g):cm({path:e.filePath||e.tempFilePath||""}).then((e=>e.stats.size)).catch((()=>0))}Promise.all([p,f]).then((([n,o])=>{var s=mm.get(r);Om.call(r,{taskType:t,options:a,errMsg:e.errMsg,statusCode:e.statusCode,success:"success"===i,dataLength:n,responseDataLength:o,response:e,profile:e.profile,queueTime:s&&s[1],uniqueId:r.uniqueId,errno:e.errno,queueLength:s&&s[2],socketReused:e.socketReused,peerIP:e.peerIP,accelerateId:Jv(e),jsapiVersion:r.taskInvoker?r.taskInvoker.jsapiVersion:0}),mm.delete(r)})),Tm.set(Sm[t].taskIdMap[n],!0),Bm.call(r)}};lm&&"Request"===t?"normal"===(null===(s=Pm[n])||void 0===s?void 0:s.status)?c():"wait"===(null===(l=Pm[n])||void 0===l?void 0:l.status)||(Pm[n]={status:"wait",handlers:[c]}):c()}function Nm(){var e=gm.get(this);return Sm[e].currentTaskCount>=Sm[e].maxTaskCount}function Bm(){var e=gm.get(this),t=pm.get(this);delete Sm[e].taskIdMap[t],delete Pm[t],Cm.removeAllListeners(`${e}${t}success`),Cm.removeAllListeners(`${e}${t}fail`),Cm.removeAllListeners(`${e}${t}complete`),Cm.removeAllListeners(`${e}${t}progressUpdate`),Cm.removeAllListeners(`${e}${t}headersReceived`),Cm.removeAllListeners(`${e}${t}chunked`)}function $m(e,t){var r=Sm[e]?Sm[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};Tv(e,(t=>{Lm.call(this,t,e)})),Ut(`on${e}TaskStateChange`,(t=>{Lm.call(this,t,e)})),Sm[e]=Object.assign(r,t)}function Fm(e,t,r){if(this.taskInvoker)this.taskInvoker.startListenTaskStateChange({stateName:t,taskId:r});else{var n=Am.get(this);n?n.add(t):(n=new Set([t]),Am.set(this,n)),fd(`listen${e}TaskStateChange`,{taskId:r,states:Array.from(n),noCallback:!0})}}function jm(e,t,r){if(this.taskInvoker)this.taskInvoker.stopListenTaskStateChange({stateName:t,taskId:r});else{var n=Am.get(this);n&&(n.delete(t),fd(`listen${e}TaskStateChange`,{taskId:r,states:Array.from(n),noCallback:!0}))}}var Wm=({url:e,result:t,cost:r,pointCacheType:n,errMsg:i,errno:a,host:o,fullCost:s})=>{var l=[e,t,r,n,i?encodeURIComponent(i):i,a,o,s].join(",");M.reportKeyValue({key:"WeFreeHttpDns",value:l})},Vm={},Um=(e,t={})=>{if(!Vm[e]||t.noCache){var r={},n={},i={},a={on:(t,n)=>{r[t]&&_.warn(`基础库分包 ${e} on event: ${t} has subscribe listener`),r[t]=n,i[t]&&(i[t].forEach((e=>{n(e)})),delete i[t])},subscribe:(t,a)=>{r[t]&&_.warn(`基础库分包 ${e} subscribe event: ${t} has on listener`),n[t]||(n[t]=[]),n[t].push(a),i[t]&&(i[t].forEach((e=>{a(e)})),delete i[t])},publish:(e,t)=>{var i,a;return(i=r[e])?(i(t),!0):!!(a=n[e])&&(a.forEach((e=>e(t))),!0)},advancePublish:(e,t,r=!1)=>{(r?a.publish(e,t):zm(e,t))||(i[e]||(i[e]=[]),i[e].push(t))},off:e=>{r[e]=null}};return Vm[e]=a,a}_.warn(`已经存在分包EM ${e}`)},zm=(e,t,r,n)=>{var i=Vm[e];i&&(n?i.advancePublish(t,r):i.publish(t,r))},qm=(e={})=>{var{runCount:t,runCostAverage:r,runError:n,createError:i,isBinding:a,version:o,runErrorRate:s,createSessionParams:l,sessionId:c,resultType:u,createErrno:d,runErrno:p}=e;a=a?1:0,n||(n=""),i||(i="");var h=[t,r,encodeURIComponent(n),encodeURIComponent(i),a,o,s,c,encodeURIComponent(l),u,d,p].map(Du(1024)).join(",");M.reportKeyValue({key:"WeAppXNetInvoke",value:h})},Hm=(e,t)=>{if(t)try{e.success&&e.success({ver:t.GetInferenceEnvInfo().ver}),e.complete&&e.complete({ver:t.GetInferenceEnvInfo().ver})}catch(t){e.fail&&e.fail("getInferenceEnvInfo fail: ",t)}else fd("getInferenceEnvInfo",e)},Gm=Ff(Hm,(e=>({ver:e.ver}))),Km=new WeakMap,Jm;class Xm{constructor(e={model:""}){this.em=void 0,this.sessionId=void 0,this.reportInfo=void 0,this.getVersionTask=void 0;var t,r=this;try{t=JSON.stringify(e)}catch(e){t=""}this.reportInfo={runCostAverage:0,runErrorRate:0,runCount:0,runErrorCount:0,createSessionParams:t,sessionId:Lt(),runErrno:0,createErrno:0};var n=!0;if(!1===e.asyncCreateSession&&(n=!1),this.em=Um("XnetBinding",{noCache:!0}),Jm=Vg.XInference,this.getVersionTask=new Promise((e=>{Gm({success(t){e(t.ver),r.getVersionTask=t.ver},fail(){e("-1"),r.getVersionTask="-1"}},Jm)})),_.warn("asyncCreateSession: ",n),n){Jm.CreateAsync(ux(((e,t)=>{if(e){var r={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};return this.report(r),this.em.advancePublish("onError",e,!0),this.reportInfo.createErrorMsg=e.errMsg,void(this.reportInfo.createErrno=e.errno)}Km.set(this,t),this.sessionId=t;var n={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(n),this.em.advancePublish("onLoad",void 0,!0)}),"XInference.CreateAsync"),e)}else{var i={...e};["success","fail","complate"].forEach((e=>{i[e]&&delete i[e]}));try{var a=Jm.CreateSession(i);a&&(Km.set(this,a),this.sessionId=a,this.em.advancePublish("onLoad"));var o={sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,resultType:0};this.report(o)}catch(e){var s={sessionId:this.reportInfo.sessionId,createError:e,createSessionParams:this.reportInfo.createSessionParams,resultType:0,createErrno:e.errno};this.report(s),this.em.advancePublish("onError",e)}}}onLoad(e){this.em.on("onLoad",(()=>{e()}))}offLoad(){this.em.off("onLoad")}onError(e){this.em.on("onError",e)}offError(){this.em.off("onError")}run(e){var t=Date.now(),r=this,n=new Promise(((n,i)=>{var a={session:this.sessionId,inTensors:e};try{Jm.RunAsync(ux((function(e,a){r.reportInfo.runCount++;var o=Date.now()-t;if(r.reportInfo.runCostAverage=(r.reportInfo.runCostAverage*(r.reportInfo.runCount-1)+o)/r.reportInfo.runCount,e)return r.reportInfo.runErrorMsg=e.errMsg,r.reportInfo.runErrno=e.errno,void i({errMsg:"runInferenceSession:fail "+e});for(var s of Object.keys(a)){var l=a[s].data;l&&ArrayBuffer.isView(l)&&(a[s].data=l.buffer)}n(a)}),"XInference.RunAsync"),a)}catch(e){return void i(e)}}));return n}destroy(){var e=new Promise(((e,t)=>{var r={session:this.sessionId};try{Jm.ReleaseAsync(ux((function(r,n){r?t(r):e(n)}),"XInference.ReleaseAsync"),r)}catch(e){return void t(e)}})),t={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};return this.report(t),e}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,version:null,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,createErrno:this.reportInfo.createErrno,runErrno:this.reportInfo.runErrno};this.report(e)}report(e){e.isBinding=!0,kt(this.getVersionTask)?this.getVersionTask.then((t=>{e.version=t,qm(e)})):(e.version=this.getVersionTask,qm(e))}get operator(){return{}}}var Ym=null,Qm=!1;function Zm(){if(!Qm)throw new Error("WeixinArrayBuffer not ready");return Ym}m.onLoad((()=>{Ym=f.g.WeixinArrayBuffer,Qm=!0}));var ey=(e={})=>{jc("close",e,{fd:""})&&fd("close",e)},ty=({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r;if(fd("closeSync",{fd:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},ry=(e={})=>{jc("fstat",e,{fd:""})&&fd("fstat",e,{beforeSuccess(e){var{mode:t,size:r}=e,{lastAccessedTime:n,lastModifiedTime:i}=e;n>1617e9&&(n=Math.floor(n/1e3)),i>1617e9&&(i=Math.floor(i/1e3)),e.stats=new xg({mode:t,size:r,lastAccessedTime:n,lastModifiedTime:i}),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime}})},ny=({fd:e}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");var t,r,n;if(fd("fstatSync",{fd:e,fail(e){r=e.errMsg,n=e.errno},success(e){var{mode:r,size:n}=e,{lastAccessedTime:i,lastModifiedTime:a}=e;i>1617e9&&(i=Math.floor(i/1e3)),a>1617e9&&(a=Math.floor(a/1e3)),t=new xg({mode:r,size:n,lastAccessedTime:i,lastModifiedTime:a})}}),r){var i=new Error(r);throw i.errno=n,i}return t},iy=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],ay=(e={})=>{var t=Object.assign({},e);if(jc("write",t,{fd:""}))if(t.encoding&&-1===iy.indexOf(t.encoding))Vc("write",t,`invalid encoding "${t.encoding}"`);else{if(Pt(t.data)){if(t.data.byteLength>10485760)return void Vc("write",t,"ArrayBuffer exceed size limit (10M)");("number"!=typeof t.offset||t.offset<0)&&(t.offset=0),("number"!=typeof t.length||t.length<0)&&(t.length=t.data.byteLength-t.offset)}else if(!tt(t.data))return void Vc("write",t,"data must be a string or ArrayBuffer");"number"!=typeof t.position&&(t.position=void 0),fd("write",t)}},oy=({fd:e,data:t,offset:r,length:n,encoding:i,position:a}={})=>{if(!e||"string"!=typeof e)throw new TypeError("fd must be a string");if(i&&-1===iy.indexOf(i))throw new Ad(`invalid encoding "${i}"`);if(Pt(t)){if(t.byteLength>10485760)throw new Ad("ArrayBuffer exceed size limit (10M)");("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n<0)&&(n=t.byteLength-r)}else if(!tt(t))throw new TypeError("data must be a string or ArrayBuffer");var o,s,l;if("number"!=typeof a&&(a=void 0),fd("writeSync",{fd:e,data:t,offset:r,length:n,encoding:i,position:a,fail(e){o=e.errMsg,l=e.errno},success(e){s={bytesWritten:e.bytesWritten}}}),o){var c=new Error(o);throw c.errno=l,c}return s},sy=(e={})=>{if(jc("read",e,{fd:""}))if(Pt(e.arrayBuffer)){var t=Object.assign({},e),r=Zm();Ie&&r&&r.trace&&(t.arrayBufferId=r.trace(t.arrayBuffer,"rw"),delete t.arrayBuffer),rt(t.position)&&t.position<0?t.position=0:it(t.position)||at(t.position)?t.position=null:rt(t.position)||(t.position=0);var n=Number(t.length);Number.isNaN(n)?t.length=0:t.length=n;var i=Number(t.offset);Number.isNaN(i)?t.offset=0:t.offset=i,Ne&&delete t.arrayBuffer,fd("read",t,{beforeSuccess(r){if(Ne){var n=new Uint8Array(e.arrayBuffer),i=new Uint8Array(r.arrayBuffer);n.set(i,t.offset),r.bytesRead=r.arrayBuffer.byteLength}r.arrayBuffer=e.arrayBuffer},afterAll(){Ie&&r&&r.untrace&&r.untrace(t.arrayBufferId)}})}else Vc("FileSystemManager.read",e,"arrayBuffer must be an ArrayBuffer")},ly=(e={})=>{var{fd:t,arrayBuffer:r}=e;if(!t||"string"!=typeof t)throw new TypeError("fd must be a string");if(!Pt(r))throw new TypeError("arrayBuffer must be an ArrayBuffer");var n=Object.assign({},e),i=Zm();Ie&&i&&i.trace&&(n.arrayBufferId=i.trace(n.arrayBuffer,"rw"),delete n.arrayBuffer),rt(n.position)&&n.position<0?n.position=0:it(n.position)||at(n.position)?n.position=null:rt(n.position)||(n.position=0);var a=Number(n.length);Number.isNaN(a)?n.length=0:n.length=a;var o,s,l,c=Number(n.offset);if(Number.isNaN(c)?n.offset=0:n.offset=c,Ne&&delete n.arrayBuffer,fd("readSync",{...n,fail(e){s=e.errMsg,l=e.errno},success(e){if(Ne){var t=new Uint8Array(r),i=new Uint8Array(e.arrayBuffer);t.set(i,n.offset),e.bytesRead=e.arrayBuffer.byteLength}o={bytesRead:e.bytesRead,arrayBuffer:r}}}),Ie&&i&&i.untrace&&i.untrace(n.arrayBufferId),s){var u=new Error(s);throw u.errno=l,u}return o},cy=(e={})=>{jc("ftruncate",e,{fd:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),fd("ftruncate",e))},uy=({fd:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("fd must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),fd("ftruncateSync",{fd:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},dy={close:ey,closeSync:ty,fstat:ry,fstatSync:ny,write:ay,writeSync:oy,read:sy,readSync:ly,ftruncate:cy,ftruncateSync:uy},py=e=>{jc("saveFile",e,{tempFilePath:""})&&fd("saveFile",e)},hy=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var r,n;if(fd("saveFileSync",{tempFilePath:e,filePath:t,success(e){n=e.savedFilePath},fail(e){r=e.errMsg}}),r)throw new Error(r);return n},fy=e=>{jc("openDocument",e,{filePath:""})&&(e.showMenu=e.showMenu||!1,fd("openDocument",e))},gy=(e={})=>{fd("getSavedFileList",e)},vy=(e={})=>{jc("getSavedFileInfo",e,{filePath:""})&&fd("getSavedFileInfo",e)},my=(e={})=>{jc("removeSavedFile",e,{filePath:""})&&fd("removeSavedFile",e)},yy=(e={})=>{if(jc("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=Mt(e,{digestAlgorithm:""});if(t)return void Vc("getFileInfo",e,`parameter error: ${t}`);if(-1===["md5","sha1","sha256"].indexOf(e.digestAlgorithm))return void Vc("getFileInfo",e,`parameter error: invalid digestAlgorithm "${e.digestAlgorithm}"`)}fd("getFileInfo",e,{})}},by=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","getBox2D","createSharedArrayBuffer","nv_constructor","nv_toString","createSelectorQuery"],_y=[/^(get|set)Storage(Info)?(Sync)?$/,/^getFileSystemManager/,/^(get|set)ClipboardData$/,/^request$/,/^connectSocket/,/^connectWifi$/],wy=[{match:/^connectSocket/,version:1},{match:/^request/,version:ke?3:1},{match:/^downloadFile/,version:ke?3:1}];function Sy(e,t){wy.push({match:e,version:t})}var Cy=e=>{var t=0;return wy.forEach((({match:r,version:n})=>("string"==typeof r?e===r&&(t=n):r instanceof RegExp&&r.test(e)&&(t=n),!1))),t},ky=!1;re.onReady((()=>{var e=Vg.fs;if(e&&e.FileReader){var t=!1,r=Ie?"clicfg_appbrand_ios_native_readfile":"clicfg_appbrand_native_readfile";Wf({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(Sy(/readFile(?:Sync)?$/,1),t=!0)},fail(e){}});var n=Vh("bindingReadFile");ky=t||n,_.info(`${ky?"binding":"jsapi"} readfile, abtest: ${t}, permission: ${n}`)}}));var Iy=(e={})=>{if(jc("readFile",e,{filePath:""}))if(it(e.encoding)||tt(e.encoding))if(it(e.position)||rt(e.position))if(it(e.length)||rt(e.length))if(ky){var t,r=Vg.fs;e.workerId,(t=new r.FileReader).onerror=t=>Vc("readFile",e,t),t.onread=t=>zc({name:"readFile",args:e,res:{data:t}});var n={};Object.keys(e).forEach((t=>{var r=e[t];["success","fail","complete"].includes(t)||(n[t]=r)})),t.read(n)}else fd("readFile",e);else Vc("readFile",e,`invalid length: ${e.length}`);else Vc("readFile",e,`invalid position: ${e.position}`);else Vc("readFile",e,`invalid encoding: ${e.encoding}`)},Py=(e,t,r,n,i)=>{if(!e||!tt(e))throw new Ad(`invalid filePath: ${e}`);if(!it(t)&&!tt(t))throw new Ad(`invalid encoding: ${t}`);if(!it(r)&&!rt(r))throw new Ad(`invalid position: ${r}`);if(!it(n)&&!rt(n))throw new Ad(`invalid length: ${n}`);if(ky){var a=Vg.fs;try{return a.readFileSync(e,t)}catch(s){throw new Error(s)}}var o,s,l;if(fd("readFileSync",{filePath:e,encoding:t,position:r,length:n,success(e){o=e.data},fail(e){s=e.errMsg,l=e.errno}}),s){var c=new Error(s);throw c.errno=l,c}return o},Ty=(e={})=>{jc("writeFile",e,{filePath:""})&&(e.encoding&&-1===iy.indexOf(e.encoding)?Vc("writeFile",e,`invalid encoding "${e.encoding}"`):fd("writeFile",e,{}))},Ay=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===iy.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,i;if(fd("writeFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}},xy=(e={})=>{jc("mkdir",e,{dirPath:""})&&fd("mkdir",e)},Ey=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var r,n;if(fd("mkdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},My=(e={})=>{jc("rmdir",e,{dirPath:""})&&fd("rmdir",e)},Ry=(e,t=!1)=>{if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");var r,n;if(fd("rmdirSync",{dirPath:e,recursive:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},Dy=(e={})=>{(xe||"wxfile://"!==e.dirPath)&&(!xe||"wxfile://tmp"!==e.dirPath&&"wxfile://tmp/"!==e.dirPath)?jc("readdir",e,{dirPath:""})&&fd("readdir",e):Vc("readdir",e,"path permission denied")},Oy=e=>{if("wxfile://"===e)throw Error("path permission denied");if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,r,n;if(fd("readdirSync",{dirPath:e,success(e){t=e.files},fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}return t},Ly=(e={})=>{jc("access",e,{path:""})&&fd("access",e)},Ny=e=>{if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t,r;if(fd("accessSync",{path:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},By=(e={})=>{jc("unlink",e,{filePath:""})&&fd("unlink",e)},$y=e=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t,r;if(fd("unlinkSync",{filePath:e,fail(e){t=e.errMsg,r=e.errno}}),t){var n=new Error(t);throw n.errno=r,n}},Fy=(e={})=>{var{zipFilePath:t}=e;t=""+t,jc("unzip",e,{zipFilePath:""})&&fd("unzip",Object.assign({},e,{targetDirectory:e.targetPath,zipFilePath:t}))},jy=(e={})=>{jc("copyFile",e,{srcPath:"",destPath:""})&&fd("fs_copyFile",e,{beforeAll(e){e.errMsg=e.errMsg.replace("fs_copyFile:","copyFile:")}})},Wy=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var r,n;if(fd("fs_copyFileSync",{srcPath:e,destPath:t,fail(e){r=e.errMsg.replace("fs_copyFileSync:","copyFileSync:"),n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},Vy=(e={})=>{jc("rename",e,{oldPath:"",newPath:""})&&fd("fs_rename",e,{beforeAll(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},Uy=(e,t)=>{if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var r,n;if(fd("fs_renameSync",{oldPath:e,newPath:t,fail(e){r=e.errMsg.replace(/^fs_/,""),n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},zy=(e={})=>{jc("appendFile",e,{filePath:""})&&(e.encoding&&-1===iy.indexOf(e.encoding)?Vc("appendFile",e,`invalid encoding "${e.encoding}"`):fd("fs_appendFile",e,{}))},qy=(e,t,r)=>{if(!e||"string"!=typeof e)throw new Error("path must be a string");if(r&&-1===iy.indexOf(r))throw new Error(`invalid encoding "${r}"`);var n,i;if(fd("fs_appendFileSync",{filePath:e,data:t,encoding:r,fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}},Hy="readZipEntry",Gy=(e={})=>{jc(Hy,e,{filePath:""})&&(it(e.encoding)||-1!==iy.indexOf(e.encoding)?"all"===e.entries||Array.isArray(e.entries)?fd(Hy,e,{beforeSuccess:e=>(e.entries&&Object.keys(e.entries).forEach((t=>{if(e[t]&&(e.entries[t].data=e[t],delete e[t]),"ok"===e.entries[t].errMsg?e.entries[t].errMsg=`${Hy}:ok`:e.entries[t].errMsg=`${Hy}:fail ${e.entries[t].errMsg}`,0===t.indexOf("file:")){var r=t.replace("file:","");e.entries[r]=e.entries[t],delete e.entries[t]}})),e)}):Vc(Hy,e,"invalid entries"):Vc(Hy,e,`invalid encoding "${e.encoding}"`))},Ky=["a","ax","a+","ax+","as","as+","r","r+","w","wx","w+","wx+"],Jy=(e={})=>{var t=Object.assign({},e);jc("open",e,{filePath:""})&&(void 0===e.flag||Ky.includes(e.flag)?(void 0===e.flag&&(t.flag="r"),fd("open",t)):Vc("open",e,`invalid flag "${e.flag}"`))},Xy=(e={})=>{var t,r,n,{filePath:i}=e,{flag:a}=e;if(!i||"string"!=typeof i)throw new TypeError("filePath must be a string");if(void 0!==a&&!Ky.includes(a))throw new Ad(`invalid flag: ${a}`);if(void 0===a&&(a="r"),fd("openSync",{filePath:i,flag:a,fail(e){r=e.errMsg,n=e.errno},success(e){t=e.fd}}),r){var o=new Error(r);throw o.errno=n,o}return t},Yy=(e={})=>{jc("truncate",e,{filePath:""})&&("number"!=typeof(e=Object.assign({},e)).length&&(e.length=0),e.length=Math.floor(e.length),e.length<0&&(e.length=0),fd("truncate",e,{}))},Qy=({filePath:e,length:t}={})=>{if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var r,n;if("number"!=typeof t&&(t=0),(t=Math.floor(t))<0&&(t=0),fd("truncateSync",{filePath:e,length:t,fail(e){r=e.errMsg,n=e.errno}}),r){var i=new Error(r);throw i.errno=n,i}},Zy=(e={})=>{jc("readCompressedFile",e,{filePath:"",compressionAlgorithm:""})&&fd("readCompressedFile",e)},eb=({filePath:e,compressionAlgorithm:t}={})=>{if(!tt(e))throw new Ad(`invalid filePath: ${e}`);if(!tt(t))throw new Ad(`invalid compressionAlgorithm: ${t}`);var r,n,i;if(fd("readCompressedFileSync",{filePath:e,compressionAlgorithm:t,success(e){r=e.data},fail(e){n=e.errMsg,i=e.errno}}),n){var a=new Error(n);throw a.errno=i,a}return r},tb={saveFile:py,saveFileSync:hy,getSavedFileList:gy,getSavedFileInfo:vy,removeSavedFile:my,getFileInfo:yy,readFile:Iy,readFileSync:Py,writeFile:Ty,writeFileSync:Ay,mkdir:xy,mkdirSync:Ey,rmdir:My,rmdirSync:Ry,readdir:Dy,readdirSync:Oy,access:Ly,accessSync:Ny,unlink:By,unlinkSync:$y,stat:Mg,statSync:Rg,unzip:Fy,copyFile:jy,copyFileSync:Wy,rename:Vy,renameSync:Uy,appendFile:zy,appendFileSync:qy,readZipEntry:Gy,open:Jy,openSync:Xy,truncate:Yy,truncateSync:Qy,readCompressedFile:Zy,readCompressedFileSync:eb},rb={saveFile:["filePath"],saveFileSync:[1],getSavedFileList:null,getSavedFileInfo:null,removeSavedFile:null,getFileInfo:null,readFile:["filePath"],readFileSync:[0],writeFile:["filePath"],writeFileSync:[0],mkdir:["dirPath"],mkdirSync:[0],rmdir:["dirPath"],rmdirSync:[0],readdir:["dirPath"],readdirSync:[0],access:["path"],accessSync:[0],unlink:["filePath"],unlinkSync:[0],stat:["path"],statSync:[0],unzip:["zipFilePath","targetPath"],copyFile:["srcPath","destPath"],copyFileSync:[0,1],rename:["oldPath","newPath"],renameSync:[0,1],appendFile:["filePath"],appendFileSync:[0],readZipEntry:["filePath"],open:["filePath"],openSync:["filePath"],truncate:["filePath"],truncateSync:["filePath"],close:null,closeSync:null,fstat:null,fstatSync:null,write:null,writeSync:null,read:null,readSync:null,ftruncate:null,ftruncateSync:null,readCompressedFile:["filePath"],readCompressedFileSync:[0]},nb={openSync:!0,truncateSync:!0},ib="",ab="",ob="",sb="",lb="",cb="";re.onReady((()=>{try{ib=re.env.USER_DATA_PATH,ab=re.env.OPEN_DATA_PATH,delete re.env.OPEN_DATA_PATH,ob=ib+"/__plugins__",Ce?(sb="http://__wxprivate__",lb="http://sdk",cb="http://ad"):(sb="wxfile://__wxprivate__",lb="wxfile://sdk",cb="wxfile://ad")}catch(e){}}));var ub=()=>ib,db=()=>ab,pb=()=>ob,hb=e=>`${ob}/${e}`,fb=e=>`${sb}/${e}`,gb=()=>lb,vb=()=>cb,mb=new Set(["readFile","readFileSync","readdir","readdirSync","readZipEntry","readCompressedFile","readCompressedFileSync"]),yb=(e,t,r,n)=>{var i=ub(),a=db(),o=pb();return"private-space-for-inner-plugin"===t?!!(e.startsWith(`wxfile://__wxprivate__/${r}/`)||e.startsWith("wxfile://__wxprivate__/__PATCH_DIR")||e.startsWith(`http://__wxprivate__/${r}/`)||e.startsWith("http://__wxprivate__/__PATCH_DIR"))||e:"string"!=typeof e||(e.startsWith("wxfile://ad")||e.startsWith("wxfile://sdk")||e.startsWith("wxfile://__wxprivate__")||e.startsWith("http://ad")||e.startsWith("http://sdk")||e.startsWith("http://__wxprivate__")||Df()&&(e.startsWith("wxfile://usr")||e.startsWith("http://usr"))?e:"opendata"===t?!!mb.has(n)||(!e.startsWith(i)||e):"game"===t||"app"===t?!(e.startsWith(a)||e.startsWith(o)||e.match(/__plugin__\/wx[a-z0-9]{16}/))||e:"app-plugin"===t||"game-plugin"===t?e.startsWith(a)?e:!e.startsWith(i)||(!!e.startsWith(`${o}/${r}`)||e):e)},bb=function(e,t,r,n){return(...i)=>{var a,o=t.endsWith("Sync"),s=!o||nb[t]?i[0]:i,l=rb[t].every((e=>{var i=JSON.parse(JSON.stringify({[e]:s[e]}));s[e]=i[e];var o=yb(s[e],r,n,t);return!0===o||(a=o,!1)}));if("app-plugin"!==r&&"game-plugin"!==r||rb[t].forEach((e=>{"string"!=typeof s[e]||s[e].match(/^[a-zA-Z0-9]+:\/\//)||(s[e]=Yd(n,s[e]))})),l)return e(...i);if(o){var c=new Error(`${t}:fail permission denied with path "${a}"`);throw c.errno=$o,c}zc({success:!1,name:t,args:s,errno:$o,errMsg:`permission denied with path "${a}"`})}},_b=function(e,t,r,n){Object.keys(e).forEach((i=>{it(rb[i])||(at(rb[i])?t[i]=(...t)=>e[i](...t):t[i]=bb(e[i],i,r,n))}))},wb=function(e,t,r){Object.keys(e).forEach((n=>{var i=e[n];t[n]=(e={})=>{var{fd:t}=e;if(r.has(t))return i(Object.assign({},e,{fd:t}));if(n.endsWith("Sync"))throw new Error(`${n}:fail invalid fd`);Vc(n,e,"invalid fd")}}))},Sb=function(e,t){var r=e.open,n=e.openSync,i=e.close,a=e.closeSync;e.open=(e={})=>{var{success:n}=e;r(Object.assign({},e,{success:e=>{t.add(e.fd),"function"==typeof n&&n(e)}}))},e.openSync=(e={})=>{var r=n(e);return t.add(r),r},e.close=(e={})=>{var{fd:r,success:n}=e;i(Object.assign({},e,{fd:r,success:e=>{t.delete(r),"function"==typeof n&&n(e)}}))},e.closeSync=(e={})=>{var{fd:r}=e;a({fd:r}),t.delete(r)}},Cb=(e,t="")=>{var r={},n=new Set;return _b(tb,r,e,t),wb(dy,r,n),Sb(r,n),r},kb=()=>Cb("app"),Ib=()=>Cb("game"),Pb=()=>Cb("opendata"),Tb=e=>Cb("app-plugin",e),Ab=e=>Cb("game-plugin",e),xb=e=>Cb("private-space-for-inner-plugin",e),Eb=JSON.parse,Mb=JSON.stringify,Rb=!0,Db=(e,t)=>{if(!Rb)return t;var r;return(n={})=>{var{success:i,fail:a}=qc(n,e);if(r){var o={};try{o=Eb(r)}catch(e){_.error("constructCachedOptimizedSyncApi parse error",e.message)}i(o)}else t(Object.assign({},n,{success(e){try{r=Mb(e)}catch(e){_.error("constructCachedOptimizedSyncApi stringify error",e.message)}Promise.resolve().then((()=>{r=void 0})),i(e)},fail(e){r=void 0,a(e)},complete:void 0}))}},Ob=re.SDKVersion,Lb=e=>{var t=Se;if(Ie&&(e.brand="iPhone"),Ce&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=Ob,e.enableDebug=Boolean(re.debug),re.devicePixelRatio&&(e.devicePixelRatio=re.devicePixelRatio),re.theme&&(e.theme=re.theme),re.host&&(e.host=re.host),re.appLaunchInfo&&re.appLaunchInfo.mode&&(e.mode=re.appLaunchInfo.mode),ke&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),Df()&&!We()&&(e.safeArea=Object.assign({},e.safeArea),e.safeArea.top=0,e.safeArea.bottom=e.screenHeight,e.safeArea.height=e.safeArea.bottom-e.safeArea.top),Ne&&(e.renderer="h5"),Ie&&e.model&&0===e.model.indexOf("unknown")){var r=e.model.match(/^unknown<([^>]*)>$/),n=r&&r[1];n&&("iPhone15,4"===n?e.model=`iPhone 15<${n}>`:"iPhone15,5"===n?e.model=`iPhone 15 plus<${n}>`:"iPhone16,1"===n?e.model=`iPhone 15 pro<${n}>`:"iPhone16,2"===n&&(e.model=`iPhone 15 pro max<${n}>`))}},Nb=()=>{re.isReady||(new Error).stack},Bb=(e="")=>{e=e.replace(/,/g,";");var t=Mu()+" "+Ru(),r=re.appType;M.reportKeyValue({key:"DeprecatedAPI",value:[e,t,r].join(",")})},$b=()=>{var e={};return zb({success(t){delete t.errMsg,e=t}}),e},Fb=()=>{var e={},t=!1;return _getSystemInfo({success(r){delete r.errMsg,e=r,t&&reportDeprecatedAPI(`getSystemInfoSync Async Callback; WK_RENDERER_H5=${!!WK_RENDERER_H5}`)},fail(e){reportDeprecatedAPI(`getSystemInfoSync Fail Callback errMsg=${e.errMsg} errno=${e.errno} hasReturn=${t}`)}}),t=!0,e},jb,Wb=()=>jb||(jb=Object.assign({},$b())),Vb=e=>{delete(jb=Object.assign({},e)).errMsg},Ub=e=>{Nb();fd("getSystemInfo",e,{beforeSuccess:e=>{Lb(e),Vb(e)}})},zb=Db("getSystemInfo",Ub),qb=e=>{re.supportAsyncGetSystemInfo||(console.info('Current Wechat version do not support asynchronous getSystemInfo. "wx.getSystemInfoAsync" will be finished by synchronous implementation.'),Nb());var t=re.supportAsyncGetSystemInfo?"getSystemInfoAsync":"getSystemInfo";fd(t,e,{beforeSuccess:e=>{Lb(e),Vb(e)}})},Hb=Hf("getSystemInfoAsync",qb),Gb=e=>{fd("openSystemSetting",{...e,type:"systemBluetooth"})},Kb=e=>{fd("openSystemSetting",{...e,type:"appAuthorize"})},Jb=Object.defineProperty,Xb=(e,t)=>{Jb(e,t,{get:()=>{var e;return fd("getSystemInfo",{type:t,success:r=>{e=r[t]}}),e},enumerable:!0})},Yb=()=>{var e={};return Xb(e,"bluetoothEnabled"),Xb(e,"deviceOrientation"),Xb(e,"locationEnabled"),Xb(e,"wifiEnabled"),e},Qb=()=>{var e={};return Xb(e,"albumAuthorized"),Xb(e,"bluetoothAuthorized"),Xb(e,"cameraAuthorized"),Xb(e,"locationAuthorized"),Xb(e,"locationReducedAccuracy"),Xb(e,"microphoneAuthorized"),Xb(e,"notificationAlertAuthorized"),Xb(e,"notificationAuthorized"),Xb(e,"notificationBadgeAuthorized"),Xb(e,"notificationSoundAuthorized"),Xb(e,"phoneCalendarAuthorized"),e},Zb=JSON.parse,e_=JSON.stringify,t_=!0,r_=e=>{if(!t_)return e;var t;return(r={})=>{if(t){var n={};try{n=Zb(t)}catch(e){_.error("constructCachedOptimizedSyncReturnApi parse error",e.message)}return n}var i=e(r);try{t=e_(i)}catch(e){_.error("constructCachedOptimizedSyncReturnApi stringify error",e.message)}return Promise.resolve().then((()=>{t=void 0})),i}},n_={"iPhone14,2":"iPhone 13 Pro","iPhone14,3":"iPhone 13 Pro Max","iPhone14,4":"iPhone 13 Mini","iPhone14,5":"iPhone 13","iPhone15,4":"iPhone 15","iPhone15,5":"iPhone 15 Plus","iPhone16,1":"iPhone 15 Pro","iPhone16,2":"iPhone 15 Pro Max","iPad11,6":"iPad (8th generation) Wi-Fi","iPad11,7":"iPad (8th generation) Wi-Fi + Cellular","iPad12,1":"iPad (9th generation) Wi-Fi","iPad12,2":"iPad (9th generation) Wi-Fi + Cellular","iPad13,1":"iPad Air (4th generation) Wi-Fi","iPad13,2":"iPad Air (4th generation) Wi-Fi + Cellular","iPad13,4":"iPad Pro 11 inch (3rd generation) Wi-Fi","iPad13,5":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (US)","iPad13,6":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (Global)","iPad13,7":"iPad Pro 11 inch (3rd generation) Wi-Fi + Cellular (China)","iPad13,8":"iPad Pro 12.9 inch (5th generation) Wi-Fi","iPad13,9":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (US)","iPad13,10":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (Global)","iPad13,11":"iPad Pro 12.9 inch (5th generation) Wi-Fi + Cellular (China)","iPad14,1":"iPad mini (6th generation) Wi-Fi","iPad14,2":"iPad mini (6th generation) Wi-Fi + Cellular"},i_=e=>{var t,r=null!==(t=e.match(/unknown<([^>]?)>/))&&void 0!==t?t:[];return r&&n_[r[1]]||e},a_=()=>{var e;fd("getSystemInfo",{type:"deviceInfo",success(t){delete(e=t).errMsg}});var t=Se;return Ie&&(e.brand="iPhone",e.model=i_(e.model)),Ce&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e},o_=r_(a_),s_={WX_CACHE_DEBUG_PREFIX:{path:"wxfile://sdk/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},MNXNET_ROOT_DIR:{path:"wxfile://sdk/mnxnet",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_MODEL_CACHE_PATH_PREFIX:{path:"wxfile://sdk/we_model",storageLimit:31457280,autoClearAfterExceeds:!1},WX_COMPILE_PREFIX:{path:"wxfile://__wxprivate__/youngboy_aiad",storageLimit:10485760,autoClearAfterExceeds:!1},PRIVACY_DIR:{path:"wxfile://__wxprivate__/privacy",storageLimit:5242880,autoClearAfterExceeds:!1},OBS_DIRECTION_PATH:{path:"wxfile://__wxprivate__/obs",storageLimit:5242880,autoClearAfterExceeds:!1},WX_WE_INFO_CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/app_info",storageLimit:5242880,autoClearAfterExceeds:!1},CACHE_PATH_PREFIX:{path:"wxfile://__wxprivate__/pay",storageLimit:5242880,autoClearAfterExceeds:!1},WX_SHARE_APP_MESSAGE_CACHE_PATH:{path:"wxfile://__wxprivate__/share_app_message",storageLimit:5242880,autoClearAfterExceeds:!1},WX_DEIVCE_BENCHMARK_PATH:{path:"wxfile://__wxprivate__/wx_device_benchmark",storageLimit:5242880,autoClearAfterExceeds:!1},AD_PATH:{path:"wxfile://ad",storageLimit:104857600,autoClearAfterExceeds:!1},SHORT_TV_CACHE:{path:"wxfile://__wxprivate__/short_tv",storageLimit:1048576,autoClearAfterExceeds:!0}},l_={},c_=[],u_=Object.entries(s_);function d_(e){c_.length||u_.forEach((e=>{c_.push(e[1].path)}));var t=void 0!==l_[e]?l_[e]:c_.some((t=>e.includes(t)));return l_[e]=t,!!t}var p_={};function h_(e){var t;if(p_[e])t=p_[e];else{var r,n=null!==(r=u_.find((t=>t[1].path===e)))&&void 0!==r?r:[],{storageLimit:i=5242880,autoClearAfterExceeds:a=!1}=n[1]||{};t={storageLimit:i,autoClearAfterExceeds:a},p_[e]=t}return t}var f_=.1,g_=Mu()+" "+Ru(),v_=["appendFile","appendFileSync","copyFile","copyFileSync","saveFile","saveFileSync","unzip","write","writeFile","writeFileSync","writeSync"],m_={appendFile:"filePath",appendFileSync:0,copyFile:"destPath",copyFileSync:1,saveFile:"filePath",saveFileSync:1,unzip:"targetPath",writeFileSync:0,writeFile:"filePath"},y_,b_="wxfile://__wxprivate__",__="wxfile://sdk",w_="http://__wxprivate__",S_="http://sdk",C_="wxfile://ad",k_=[w_,b_,S_,__,C_],I_=104857600,P_=209715200,T_=I_,A_=({subDirPath:e=""})=>{By({filePath:e})},x_=function(){var e=Vp()((function*(e,t,r,n,i){var a=(yield t)||0,o=(yield r)||0,s=n.includes("sdk")?T_:P_,l=tt(e)?cg(e):null==e?void 0:e.byteLength,c=h_(i),u=a+l;o+l<c.storageLimit&&u<s||(c.autoClearAfterExceeds&&A_({subDirPath:i}),L_({rootPath:n,rootSize:a,path:i,dirSize:i,isExceedsReport:!0}))}));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),E_=()=>{var e={};return Object.assign(e,dy,tb),e},M_={},R_=new Proxy({},{get:(e,t)=>(...e)=>{if(y_||(y_=E_()),v_.includes(t)&&!M_[t]){M_[t]=!0;var r=D_(y_[t],t);return y_[t]=r,r(...e)}return y_[t](...e)}}),D_=(e,t)=>{var r=t.endsWith("Sync"),n={};return(...i)=>{var a=m_[t],o=r?i[a]:i[0][a];o=O_(o);var s=n[o]?n[o]:k_.find((e=>o.includes(e)));if(!s)return e(...i);if(n[o]=s,d_(o)){var l=N_(s),c=N_(o),u=s,d=o,p=i[0].data||i[1]||"";return x_(p,l,c,u,d),Math.random()<f_&&L_(u,l,d,c),e(...i)}}},O_=e=>{var t="";try{var r=e.split("//"),n=r[1].split("/");if(t=`${r[0]}//${n[0]}`,n.length>2)t+=`/${n[1]}`}catch(e){}return t},L_=function(){var e=Vp()((function*(e,t,r,n,i=!1){n=n?yield n:"",t=t?yield t:"";var a=[g_,r,i?"exceeds disk size":"",n,e,t].join(",");M.reportKeyValue({key:"InnerDiskStatInfo",value:a,immediately:!0})}));return function(t,r,n,i){return e.apply(this,arguments)}}(),N_=function(){var e=Vp()((function*(e){var t=null;return yield new Promise(((r,n)=>{Mg({path:e,recursive:!1,success:e=>{t=e.stats.size,r()},fail:e=>{n(e)}})})).catch((e=>{})),t}));return function(t){return e.apply(this,arguments)}}(),B_=()=>R_,$_="getDeviceBenchmarkInfo",F_=B_(),j_=Cf(F_.readFile),W_=Cf(F_.writeFile),V_=Cf(F_.access),U_=Cf(F_.mkdir),z_=s_.WX_DEIVCE_BENCHMARK_PATH.path,q_=`${z_}/wechat_benchmark_info.json`,H_=864e5,G_=(e,t,r)=>{zc({name:$_,args:e,res:{benchmarkLevel:t,modelLevel:r}})},K_=e=>{V_({path:z_}).then((()=>{e&&e()})).catch((()=>{U_({dirPath:z_,recursive:!1}).then((()=>{e&&e()}))}))},J_=(e,t,r=!0)=>{tx({apiName:"webapi_game_transfer",sdkApiName:"gameTransfer",reqData:{req_path:"benchmark.getdevicebenchmark",device:e},timeout:1e4,success:n=>{var i,a,{benchmarklevel:o=-1,model_level:s=0}=null!==(i=null==n||null===(a=n.data)||void 0===a?void 0:a.device_info)&&void 0!==i?i:{};r&&G_(t,o,s);try{var l=JSON.stringify({[e]:{benchmarkLevel:o,modelLevel:s,cacheTime:Date.now()}});K_((()=>{W_({filePath:q_,data:l,encoding:"utf8"})}))}catch(e){}},fail:e=>{var n;r&&Vc($_,t,null!==(n=e.errMsg)&&void 0!==n?n:"")}})},X_=function(){var e=Vp()((function*(e){var t,r=null!==(t=fw(!0))&&void 0!==t?t:{},{brand:n,model:i,platform:a}=r,o=n,s=i;if("ios"===a){o="APPLE";var l=i.match(/<([^>]*)>$/),c=l&&l[1];s=null!=c?c:s}var u=`${o},${s}`.toUpperCase();try{var{data:d}=yield j_({filePath:q_,encoding:"utf8"}),p=JSON.parse(d);if(p[u]){var{benchmarkLevel:h,modelLevel:f,cacheTime:g}=p[u];G_(e,h,f),Date.now()-g>H_&&J_(u,e,!1)}else J_(u,e)}catch(t){J_(u,e)}}));return function(t){return e.apply(this,arguments)}}(),Y_=Hf($_,X_),Q_=()=>{var e;return fd("getSystemInfo",{type:"windowInfo",success(t){delete(e=t).errMsg}}),e},Z_=r_(Q_),ew=()=>{var e;return fd("getSystemInfo",{type:"appBaseInfo",success(t){delete(e=t).errMsg}}),e.SDKVersion=Ob,e.enableDebug=Boolean(re.debug),re.theme&&(e.theme=re.theme),re.host&&(e.host=re.host),re.appLaunchInfo&&re.appLaunchInfo.mode&&(e.mode=re.appLaunchInfo.mode),ke&&/^\d+\.\d+$/.test(e.version)&&(e.version+=".0"),e},tw=r_(ew),rw,nw=!!k.clientManager,iw,aw=new Set;null===(rw=k.clientManager)||void 0===rw||rw.once("clientConnected",((e,{ua:t}={})=>{iw=t,aw.forEach((e=>{try{e(t)}catch(e){}})),aw.clear()}));var ow=e=>{nw?iw?e(iw):aw.add(e):e("")},sw=(e={})=>new Promise((t=>ow((r=>{id({userAgent:r},"getRendererUserAgent",e,{}),t(r)})))),lw=null,cw=0,uw=0,dw=["brand","model","pixelRatio","language","version","system","platform","SDKVersion"];re.onReady((()=>{lw={};for(var e=0;e<dw.length;e++){if(!(dw[e]in re)){dw[e],lw=Wb();break}lw[dw[e]]=re[dw[e]]}if(re.screenHeight&&re.screenWidth)cw=re.screenWidth,uw=re.screenHeight;else{var t=Wb();cw=t.screenWidth,uw=t.screenHeight}}));var pw=()=>re.isReady?Object.assign({},lw):((new Error).stack,{}),hw=()=>re.isReady?{screenWidth:cw,screenHeight:uw,deviceOrientation:cw>uw?"landscape":"portrait"}:((new Error).stack,{}),fw=(()=>{var e;return(...t)=>{if(e)return e;if(!0===t[0]){if(lw)return lw;e=$b()}else e=$b();return e}})(),gw=new WeakMap,vw=new WeakMap,mw,yw;class bw{constructor(e={}){var t;try{t=JSON.stringify(e)}catch(e){t=""}if(yw=new Promise((e=>{Gm({success(t){e(t.ver),yw=t.ver},fail(){e("-1"),yw="-1"}})})),this.reportInfo={runCount:0,runCostAverage:0,runErrorMsg:"",createErrorMsg:"",createSessionParams:t,sessionId:Lt(),createErrno:0,runErrno:0,runErrorCount:0},vw.set(this,new Ig("AI",!0)),!mw){var r=$b();mw=r.version}"8.0.37"===mw&&ke?setTimeout((()=>{this.notSupport=!0,vw.get(this).emit("Error",{errMsg:"createInferenceSession fail: client not support"})})):fd("createInferenceSession",Object.assign({},e,{success:({sessionId:e})=>{gw.set(this,e),vw.get(this).emit("Load"),_w({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams})},fail:e=>{this.reportInfo.createErrorMsg=e.errMsg,this.reportInfo.createErrno=e.errno,setTimeout((()=>{vw.get(this).emit("Error",e)})),_w({resultType:0,sessionId:this.reportInfo.sessionId,createSessionParams:this.reportInfo.createSessionParams,createError:e.errMsg,createErrno:e.errno})}}))}onLoad(e){vw.get(this).on("Load",e)}offLoad(e){vw.get(this).off("Load",e)}onError(e){vw.get(this).on("Error",e)}offError(e){vw.get(this).off("Error",e)}run(e={}){if(this.notSupport)return Promise.reject({errMsg:"runInferenceSession fail: client not support",errno:2004002});var t=Zm(),r={input:{},sessionId:gw.get(this)};for(var n in e){var i,a;null!==(i=e[n])&&void 0!==i&&i.data&&null!==(a=e[n])&&void 0!==a&&a.shape&&(r.input[n]={type:e[n].type,shape:e[n].shape,data:t.trace(e[n].data,"rw")})}return new Promise(((e,n)=>{var i=Date.now(),a=this.reportInfo;a.runCount++,fd("runInferenceSession",Object.assign(r,{success({output:r}){var n=Date.now()-i;for(var o in a.runCostAverage=(a.runCostAverage*(a.runCount-1)+n)/a.runCount,r){var s;if("number"==typeof(null===(s=r[o])||void 0===s?void 0:s.data)){var l=r[o].data;r[o].data=t.getTraceBuffer(l),t.untrace(l)}}e(r)},fail:e=>{a.runErrorCount++,a.runErrorMsg=null==e?void 0:e.errMsg,a.runErrno=null==e?void 0:e.errno,n(e)}}))}))}destroy(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:1,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};_w(e),fd("releaseInferenceSession",{sessionId:gw.get(this)}),vw.delete(this),gw.delete(this)}reportCurrentResult(){var e={runCount:this.reportInfo.runCount,runCostAverage:this.reportInfo.runCostAverage,runError:this.reportInfo.runErrorMsg,createError:this.reportInfo.createErrorMsg,runErrorRate:0!==this.reportInfo.runCount?this.reportInfo.runErrorCount/this.reportInfo.runCount:0,createSessionParams:this.reportInfo.createSessionParams,sessionId:this.reportInfo.sessionId,resultType:2,runErrno:this.reportInfo.runErrno,createErrno:this.reportInfo.createErrno};_w(e)}}var _w=e=>{e.isBinding=!1,kt(yw)?yw.then((t=>{e.version=t,qm(e)})):(e.version=yw,qm(e))};function ww(e={}){return new bw(e)}var Sw=function(e={}){var t=getPluginId(this),{model:r}=e;if(r.startsWith(getUserDir())){if(!r.startsWith(getPluginDir(t)))throw new ThirdScriptError(`invalid model: ${r}`)}else r=getPluginFilePath(t,r);return new bw(Object.assign({},e,{model:r}))},Cw=!1;!f.g.__isAppServiceRemoteDebugMode__&&ke&&(Cw=!0);var kw=(e={})=>Cw?new Xm(e):new bw(e),Iw=function(e={}){var t=sh(this),{model:r}=e;if(r.startsWith(ub())){if(!r.startsWith(hb(t)))throw new Ad(`invalid model: ${r}`)}else r=Yd(t,r);return Cw?new Xm(Object.assign({},e,{model:r})):new bw(Object.assign({},e,{model:r}))},Pw,Tw;function Aw(e,t){return t instanceof ArrayBuffer||t.buffer&&t.buffer instanceof ArrayBuffer?{byteLength:t.byteLength}:t}function xw(){var e;return Pw=Pw||Vg.XInference,Tw=Tw||(null===(e=Pw)||void 0===e?void 0:e.GetInferenceEnvInfo().ver)||"0.0.0"}function Ew(e,t,r,n,i={},a=1){var o={},s={func:t,args:i};o.createSessionParams=JSON.stringify(s,Aw),o.runError=r,o.runCount=a,o.version=xw(),o.resultType=4,o.isBinding=e,o.runCostAverage=n,qm(o)}var Mw=B_(),Rw=Cf(Mw.readFile),Dw=Cf(Mw.writeFile),Ow=Cf(Mw.access),Lw=Cf(Mw.mkdir),Nw;function Bw(e,...t){var r;Nw=Nw||Vg.XInference;try{r=new Promise(((r,n)=>{Nw.InvokeMethod(e,ux((function(e,t){e?n(e):r(t)}),`XInference.InvokeMethod-${e}`),...t)}))}catch(t){_.warn(`[mnxnet]: AsyncInvoke ${e} err: ${t}`)}return r}function $w(e){return Fw.apply(this,arguments)}function Fw(){return Fw=Vp()((function*(e){try{var t=e.map((e=>Bw("GetDeviceScore",e))),r=Promise.all(t).then((t=>{var r={};return e.forEach(((e,n)=>{r[e]=t[n]})),r})).catch((e=>(console.log(`[mnxnet]: benchmark: ${e}`),{})));return yield r}catch(e){return console.log(`[mnxnet]: benchmark err: ${e}`),{}}})),Fw.apply(this,arguments)}var jw=s_.MNXNET_ROOT_DIR.path,Ww=jw+"/mnxnet_benchmark_v1.json";function Vw(e){return Array.from(new Set(e))}function Uw(e){return zw.apply(this,arguments)}function zw(){return zw=Vp()((function*(e,t={}){if(!Array.isArray(e))return _.warn("[mnxnet]: benchmarkTypes should be array"),{};try{yield Ow({path:jw})}catch(e){yield Lw({dirPath:jw})}var r={},n=(null==t?void 0:t.forceRunKeys)||[];try{var{data:i}=yield Rw({filePath:Ww,encoding:"utf8"}),a=JSON.parse(i);e.forEach((e=>{a[e]?r[e]=a[e]:n.push(e)}))}catch(t){n=e,1300002===t.errno?_.warn(`[mnxnet]: access ${t} ${JSON.stringify(t)}`):_.warn(`[mnxnet]: access benchmark cache failed: ${JSON.stringify(t)}`)}return(n=Vw(n)).length?$w(n).then((e=>{var t=Object.assign({},e,r),n=JSON.stringify(t);_.warn(`[mnxnet]: rerun benchmark: ${n}`);try{Dw({filePath:Ww,data:n,encoding:"utf8"})}catch(e){_.warn(`[mnxnet]: write bench result to file failed: ${e}`)}return t})):r})),zw.apply(this,arguments)}var qw=!1,Hw=-1,Gw=()=>(qw||(Hw=o_().benchmarkLevel||-1,qw=!0),Hw),Kw=nr("lifeCycle:AppRoute"),Jw=Kw.internalOnMethod,Xw=Kw.internalOffMethod,Yw=e=>{Kw.onMethod(e)},Qw=Kw.offMethod,Zw=e=>{var t={};for(var r of["path","query","openType","renderer","timeStamp","webviewId","routeEventId","pipMode","notFound","page"])r in e&&(t[r]=e[r]);return t},eS=(e,t)=>{if(Zd(e.path)===t)return e;var r={path:e.path,query:{},openType:e.openType,renderer:e.renderer,webviewId:e.webviewId,routeEventId:e.routeEventId};return e.timeStamp&&(r.timeStamp=e.timeStamp),e.pipMode&&(r.pipMode=e.pipMode),e.notFound&&(r.notFound=e.notFound),e.page&&(r.page=e.page),r},tS=e=>{Kw.emitInternal(e);var t=Zw(e);Kw.emitGlobal(eS(t,""))},rS=0,nS=[],iS=(e,t={},r,n)=>{var i=rS++;nS[i]=n,qr("invokeWebviewMethod",{name:e,args:t,callbackId:i},void 0===r?[su.currentWebviewId]:r)};Yr("callbackWebviewMethod",(({res:e,callbackId:t})=>{var r=nS[t];delete nS[t],r&&r(e)}));var aS=(e,t={},r={})=>{dt(t)||(t={});var n=ad(t=Object.assign({},t),e,r);iS(e,t,void 0,n)},oS=nr("LifeCycle:Show"),sS=oS.emitInternal.bind(oS),lS=oS.emitGlobal.bind(oS),cS=oS.onMethod,uS=oS.offMethod,dS=oS.internalOnMethod,pS=oS.internalOffMethod,hS=nr("LifeCycle:beforeHide"),fS=nr("LifeCycle:Hide"),gS=nr("LifeCycle:afterHide"),vS=fS.emitInternal.bind(fS),mS=fS.emitGlobal.bind(fS),yS=hS.emitInternal.bind(hS),bS=gS.emitInternal.bind(gS),_S=fS.onMethod,wS=fS.offMethod,SS=hS.internalOnMethod,CS=hS.internalOffMethod,kS=fS.internalOnMethod,IS=fS.internalOffMethod,PS=gS.internalOnMethod,TS=gS.internalOffMethod,AS=[],xS=[],ES=["expires","domain","path","busid","indate","receivetime","spread","extra"],MS=502,RS=503,DS={scene:-1,sceneNote:"",sessionId:""};function OS(e){var t=re.accountInfo&&re.accountInfo.appId||"noAppId";iS("getCookiesFromGlobalStorage",{appId:t},void 0,e)}function LS(e,t){var r=re.accountInfo&&re.accountInfo.appId||"noAppId";e&&e.trim()&&iS("setCookiesToGlobalStorage",{cookies:e,appId:r},void 0,t)}function NS(e){return Ce||Vh(e)}function BS(e){OS((t=>{t&&jS(t,!1,AS),e&&e()}))}function $S(){var e=Date.now(),t=[];AS.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;if(n&&1e3*n>e){var i=[];for(var a in r)ES.indexOf(a)>=0&&i.push(`${encodeURIComponent(a)}=${encodeURIComponent(r[a])}`);i.push(`${encodeURIComponent(r.key)}=${encodeURIComponent(r.value)}`),t.push(i.join("; "))}}));var r=t.join(";; ");r.length>=4096||LS(r,(()=>{}))}function FS(e,t){for(var r=0,n=t.length;r<n;r++){var i=t[r];if(e.busid===i.busid&&e.key===i.key)return!0}return!1}function jS(e,t,r){if("string"==typeof e){var n=Date.now();e.split(";;").forEach((e=>{var i,a=!1;if(e.split(";").forEach((e=>{i=i||{};var t=(e=e.split("="))[0].trim(),r=e[1]&&e[1].trim();if("expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),t&&void 0!==r){var n=decodeURIComponent(t);ES.indexOf(t)>=0&&!Rd(i,n)?i[n]=decodeURIComponent(r):(a=!0,i.key=n,i.value=decodeURIComponent(r))}})),i){a||(i.key="extra",i.value=i.extra,delete i.extra),t&&(i.receivetime=~~(n/1e3)),void 0===i.expires&&void 0!==i.indate&&i.receivetime&&(i.__wxprivate_calc_expires__=+i.receivetime+ +i.indate);var o=i.expires||i.__wxprivate_calc_expires__;o&&!(1e3*o>n)||FS(i,r)||r.push(i),re.accountInfo&&re.accountInfo.appId&&i.spread&&(i.spread="*"===i.spread?"":i.spread+":",i.spread+=re.accountInfo.appId)}}))}}dS(((e={})=>{DS.scene=e.scene,DS.sceneNote=e.scene_note,DS.sessionId=e.sessionid||e.sessionId})),kS(((e={})=>{if(3===e.targetAction)for(var t=AS.length-1;t>=0;t--){var r=AS[t].extra;r&&"del_on_exit"===r&&AS.splice(t,1)}}));var WS=()=>{Jw((()=>{var e=re.appLaunchInfo||{},t=+e.scene,r=e.referrerInfo&&e.referrerInfo.privateExtraData,n=e.referrerInfo&&e.referrerInfo.messageExtraData,i=r&&r.cookies||n&&n.cookies;"string"==typeof i&&jS(i,1037!==t,AS),BS($S)})),Eh(((e={})=>{var t=+e.scene,r=e.referrerInfo&&e.referrerInfo.privateExtraData,n=e.referrerInfo&&e.referrerInfo.messageExtraData,i=r&&r.cookies||n&&n.cookies;(1037===t||i&&"string"==typeof i||1===e.reLaunch||!0===e.reLaunch)&&(AS=[],xS=[]),"string"==typeof i&&jS(i,1037!==t,AS),BS($S)}))};function VS(e){var t=[];for(var r in e)ES.indexOf(r)>=0&&t.push(`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`);return t.push(`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`),t.join("; ")}function US(e){var t=[];return e.forEach((e=>{t.push(VS(e))})),t.join(";; ")}var zS=e=>{var t=Date.now(),r=[];AS.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!n||1e3*n>t)&&r.push(VS(e))}));var n=r.join(";; ");return e&&e.success&&e.success({cookies:n}),n},qS=e=>{var t=Date.now(),r=[];AS.forEach((e=>{var n=e.expires||e.__wxprivate_calc_expires__;(!n||1e3*n>t)&&r.push(e)}));var n=re&&re.accountInfo&&re.accountInfo.appId||"",i=DS.scene||"",a=DS.sceneNote||"",o=DS.sessionId||"";r.push({key:"appid",value:n,busid:"wxapp"},{key:"sessionid",value:o,busid:"wxapp"},{key:"scene",value:i,busid:"wxapp"},{key:"scene_note",value:a,busid:"wxapp"});var{hostAppId:s,pluginAppId:l}=e&&e.pluginInfo?e.pluginInfo:{};if(void 0!==s&&void 0!==l){var c=r.find((e=>"appid"===e.key));c&&(c.value=s),r.push({key:"plugin_appid",value:l,busid:"wxapp"})}var u=re.host||{};"SDK"===u.env&&r.push({key:"sdk_host_appid",value:u.appId,busid:"wxapp"});var d=r.map(VS).join(";; ");return e&&e.success&&e.success({cookies:d}),d},HS=()=>{var e=Date.now(),t=[];return xS.forEach((r=>{var n=r.expires||r.__wxprivate_calc_expires__;(!n||1e3*n>e)&&t.push(VS(r))})),t.join(";; ")},GS=e=>{var t=Date.now(),r=e.cookies||[],n=e.isTemporary;if(r instanceof Array){var i=n?xS:AS,a=[],o={},s={},l=re.accountInfo&&re.accountInfo.appId||"";if(r.forEach((e=>{if(e.key&&"string"==typeof e.key){var r=+e.expires;if(!e.value||r&&1e3*r<t)o[e.key]={key:e.key,busid:e.busid};else{var i={key:e.key,value:e.value};ES.forEach((t=>{var r=e[t];"expires"!==t&&"indate"!==t||(r=+r,r=Number.isNaN(r)?void 0:r),"spread"===t&&r&&!n&&l&&(i.spread="*"===r?"":r+":",i.spread+=l),"receivetime"!==t&&"spread"!==t&&void 0!==r&&(i[t]=r)})),s[e.key]=i,a.push(i)}}})),i.forEach((e=>{var r=o[e.key];if(!r||(r.busid||e.busid)&&r.busid!==e.busid){var n=s[e.key];if(!n||(n.busid||e.busid)&&n.busid!==e.busid){var i=e.expires||e.__wxprivate_calc_expires__;i&&1e3*i<t||a.push(e)}}})),US(a).length>=4096)return"setCookies:fail whole cookies storage is out of limit(4KB limit)";n?xS=a:(AS=a,$S())}},KS=e=>{var t=Date.now(),r=e.keys||[],n=e.busid,i=e.isTemporary;if(r instanceof Array){var a=[];return(i?xS:AS).forEach((e=>{var i=e.expires||e.__wxprivate_calc_expires__;if((!i||1e3*i>t)&&r.indexOf(e.key)>=0&&(!n||n&&n===e.busid)){var o={[e.key]:e.value};Object.keys(e).forEach((t=>{ES.indexOf(t)>=0&&(o[t]=e[t]),"indate"!==t&&"expires"!==t||(o[t]=+o[t])})),a.push(o)}})),a}},JS=e=>{var t="setCookies:ok";if(NS("setCookies")){var r=GS(e);r?(t=r,"function"==typeof e.fail&&e.fail({errMsg:t})):"function"==typeof e.success&&e.success({errMsg:t})}else t="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})},XS=e=>{var t="getCookies:ok";if(NS("getCookies")){var r=KS(e);"function"==typeof e.success&&e.success({errMsg:t,cookies:r})}else t="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:t});"function"==typeof e.complete&&e.complete({errMsg:t})},YS=1,QS=2,ZS=3,eC=4,tC,rC,nC=new Promise(((e,t)=>{tC=e,rC=t})),iC,aC,oC=new Promise(((e,t)=>{iC=e,aC=t})),sC={RequestBizaccount:"RequestBizaccount",getSubjectalterInfo:"getSubjectalterInfo",getgamepotentialfriends:"getgamepotentialfriends",getadcardbalance:"getadcardbalance",getUserGrantInfo:"getUserGrantInfo",getSecInfo:"getSecInfo",reportUserBehavior:"reportUserBehavior",getShareConfig:"getShareConfig",CheckUserOrderAuthStatus:"CheckUserOrderAuthStatus"},lC={RequestBizaccount:()=>({id:sC.RequestBizaccount,api_name:"webapi_openproduct_bizaccount",data:{path:re.appLaunchInfo.path,query:JSON.stringify(re.appLaunchInfo.query||{}),cookie:qS()}}),getSecInfo:()=>{var e=LT();return{id:sC.getSecInfo,api_name:"webapi_getwxaasyncsecinfo",data:{client_version:re.clientVersion,pub_version:void 0!==l&&l?l.version:"unknown",performance:Gw(),instance_id:re.appLaunchInfo.sessionid||re.appLaunchInfo.sessionId,...e?{xnet_conf_list:[e]}:{}}}},reportUserBehavior:()=>{var e,t,r,n;return{id:sC.reportUserBehavior,api_name:"jsapi_reportuserbehav",data:{version:8,type:1,duration:0,scene_note:re.appLaunchInfo.scene_note,scene:re.appLaunchInfo.scene,realnameInfo:void 0,referrerInfo:{appId:(null===(e=re.appLaunchInfo)||void 0===e||null===(t=e.referrerInfo)||void 0===t?void 0:t.appId)||"",extraData:(null===(r=re.appLaunchInfo)||void 0===r||null===(n=r.referrerInfo)||void 0===n?void 0:n.extraData)||{}},appServiceType:re.appType,isColdStart:!0,isWxaAdultOnly:1===Number(re.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),uiState:We()?0:1}}},getgamepotentialfriends:()=>({id:sC.getgamepotentialfriends,api_name:"webapi_game_transfer",data:{req_path:"friend.getgamepotentialfriends",appid:re.accountInfo.appId,fetch_mode:1,version:2}}),getadcardbalance:()=>({id:sC.getadcardbalance,api_name:"webapi_getadcardbalance",data:{}}),getUserGrantInfo:()=>{var e,t;return{id:sC.getUserGrantInfo,api_name:"webapi_game_transfer",data:{req_path:"gamewxagcdatawap_getusergrantinfo",json_data:JSON.stringify({appid:null!==(e=null==re||null===(t=re.accountInfo)||void 0===t?void 0:t.appId)&&void 0!==e?e:"",user_action:[0]})}}},getSubjectalterInfo:()=>({id:sC.getSubjectalterInfo,api_name:"getSubjectalterInfo",data:{}}),getShareConfig:()=>({id:sC.getShareConfig,api_name:"webapi_getshareconf",data:{}}),CheckUserOrderAuthStatus:()=>({id:sC.CheckUserOrderAuthStatus,api_name:"webapi_mmec_wxa_auth",data:{method:"CheckUserOrderAuthStatus",msg:{}}})};re.onReady((()=>{var e=qh();if(_.info("是否开启数据管道batch请求=",e,m.env),e){var t,r,n,i,a,o,s=[lC.getSecInfo()],l=1===Number(null==re||null===(t=re.appContactInfo)||void 0===t||null===(r=t.operationInfo)||void 0===r||null===(n=r.jsonInfo.op_info)||void 0===n?void 0:n.adult_only)||1===Number(null==re||null===(i=re.appContactInfo)||void 0===i||null===(a=i.operationInfo)||void 0===a||null===(o=a.jsonInfo.op_info)||void 0===o?void 0:o.grow_protect);!Ce&&(We()||He()&&l)&&s.push(lC.reportUserBehavior()),We()&&s.push(lC.getShareConfig()),nx({apiName:"LaunchImmediateBatch",sdkApiName:"getImmediateBatchOperateWXData",reqDataList:s,batchType:YS,success:e=>{_.info("immediate batch 请求成功",e),iC({reqList:s,res:e})},fail:e=>{_.error("immediate batch 请求失败",e),aC({reqList:s,res:e})}}),setTimeout((()=>{var e,t,r,n,i=[];We()?i=[lC.getgamepotentialfriends(),lC.getadcardbalance(),lC.getUserGrantInfo(),lC.getSubjectalterInfo()]:He()&&(Vh("requestPayment")&&i.push(lC.RequestBizaccount()),i.push(lC.getSubjectalterInfo()),(null===(e=re.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||null===(r=t.wxa_mgr)||void 0===r||null===(n=r.mgr_list)||void 0===n?void 0:n.some((e=>1053===e.id&&1===e.value)))&&i.push(lC.CheckUserOrderAuthStatus()));i.length>0&&nx({apiName:"LaunchDelayBatch",sdkApiName:"getDelayBatchOperateWXData",reqDataList:i,batchType:QS,success:e=>{_.info("delay batch 请求成功",e),tC({reqList:i,res:e})},fail:e=>{_.error("delay batch 请求失败",e),rC({reqList:i,res:e})}})}),3500)}}));var cC=e=>({id:t,success:r=(e=>{}),fail:n=(e=>{})})=>{e.then((({reqList:e,res:i})=>{var a=i.item_list||[],o=e.findIndex((e=>e.id===t));if(o>=0){var s=a[o],l={};s&&s.resp&&0===s.errcode?0!==s.resp.err_no?(l={errMsg:`${t}:fail `+(s.resp.errmsg?` ${s.resp.errmsg}`:""),errno:s.resp.err_no},n(l)):(l={errMsg:`${t}:ok`,data:s.resp.data||{},errno:0},r(l)):(l={errMsg:`${t}:fail `+(s.errmsg?` ${s.errmsg}`:""),errno:s.errcode},n(l))}else n({errMsg:`${t}:fail can not find data`})})).catch((e=>{_.error(t," 数据管道 batch 请求失败 ",e);var i=lC[t]();tx({apiName:i.api_name,reqData:i.data,sdkApiName:t,success:e=>{var n={errMsg:`${t}:ok`,data:e.data,errno:0};_.info("数据管道重试单独请求成功",n),r(n)},fail:e=>{_.error("数据管道重试单独请求失败",e),n(e)}})}))},uC=cC(nC),dC=cC(oC),pC=null,hC=void 0!==l&&l?l.version:"unknown";function fC(){return pC||(pC=Ge()?Promise.resolve({data:{}}):new Promise(((e,t)=>{var r=LT();if(qh())dC({id:sC.getSecInfo,success:t=>{e(t)},fail:t});else{var n=Gw();tx({sdkApiName:"webapi_getwxaasyncsecinfo",apiName:"webapi_getwxaasyncsecinfo",reqData:{client_version:re.clientVersion,pub_version:hC,performance:n,instance_id:re.appLaunchInfo.sessionid||re.appLaunchInfo.sessionId,...r?{xnet_conf_list:[r]}:{}},success:t=>{e(t)},fail:t})}})),pC)}var gC=function(){var e=Vp()((function*(){return yield RT,fC()}));return function(){return e.apply(this,arguments)}}(),vC=e=>{var{success:t,fail:r}=e;tx({apiName:"webapi_getwxavodregisterno",sdkApiName:"getShortTVRegisterNo",reqData:{src:e.src},success(e){"function"==typeof t&&t(e)},fail(e){"function"==typeof r&&r(e)}})},mC,yC=()=>(mC||(mC=gC().then((e=>{var t,r,n;_.info("game video getSecInfo res",e);var i=null!==(t=null==e||null===(r=e.data)||void 0===r||null===(n=r.opinfo_async)||void 0===n?void 0:n.video_domain_limit)&&void 0!==t?t:[],a=new Set;return i.forEach((e=>{Array.isArray(e.domain_list)&&e.domain_list.forEach((e=>a.add(e)))})),{videoDomainLimit:i,domainList:Array.from(a)}})).catch((e=>(_.error("game video getSecInfo error",e),{})))),mC),bC=e=>CC().then((({domainList:t,isShortTVMiniprogram:r})=>{if(r&&t&&t.length){var n=_C(e);return!!t.every((e=>!wC(e,n)))&&(0!==e.indexOf("wxfile://")&&(!Ce||0!==e.indexOf("http://tmp/")&&0!==e.indexOf("http://usr/"))||OC(e).then((e=>!e)))}return!1})),_C=e=>{try{return(0,xv.Qc)(e).host}catch(e){return""}},wC=(e,t)=>{var r=e.split("."),n=t.split(".");if(r.length>n.length)return!1;for(var i=1;i<=r.length;i++)if(r[r.length-i]!==n[n.length-i])return!1;return!0},SC=void 0,CC=()=>yC().then((({domainList:e,videoDomainLimit:t})=>(it(SC)&&(SC=!!t.length&&t.some((e=>"mmbizsecvod"===e.biz_flag))),{domainList:e,isShortTVMiniprogram:SC}))),kC=s_.SHORT_TV_CACHE.path,IC=`${kC}/localUrlMap.json`,PC=216e5,TC=1728e6,AC=!1,xC=[],EC=()=>{AC=!1,xC.forEach((e=>e())),xC=[]},MC=e=>0===e.indexOf("wxfile://tmp")||0===e.indexOf("http://tmp/")?PC:TC,RC=(e,t)=>{AC=!0,CC().then((({isShortTVMiniprogram:r})=>{r?bC(t).then((r=>{r?EC():yy({filePath:e,digestAlgorithm:"md5",success:r=>{var n=r.digest;B_().readFile({filePath:IC,encoding:"utf8",success:r=>{var i;try{i=JSON.parse(r.data)}catch(e){}if(i&&Array.isArray(i)){var a=Date.now(),o=[],s=!0;i.forEach((r=>{e===r.localUrl&&(r.expireTime=Date.now()+MC(e),r.md5=n,r.remoteUrl=t,s=!1),a>r.expireTime||o.push(r)})),DC(s?{md5:n,localUrl:e,remoteUrl:t}:null,o)}else DC({md5:n,localUrl:e,remoteUrl:t})},fail:r=>{DC({md5:n,localUrl:e,remoteUrl:t})}})},fail:e=>{EC()}})})).catch((()=>{EC()})):EC()})).catch((()=>{EC()}))},DC=(e,t=[])=>{function r(){B_().writeFile({filePath:IC,encoding:"utf8",data:JSON.stringify(t),success:e=>{EC()},fail:e=>{EC()}})}e&&(e.expireTime=Date.now()+MC(e.localUrl),t.push(e)),B_().access({path:IC,success:e=>{r()},fail:e=>{B_().mkdir({dirPath:kC,success:e=>{r()},fail:e=>{EC()}})}})},OC=e=>new Promise((t=>{function r(){B_().readFile({filePath:IC,encoding:"utf8",success:r=>{var n,i;try{n=JSON.parse(r.data)}catch(e){}return n&&Array.isArray(n)&&n.some((t=>e===t.localUrl&&(i=t.md5,!0)))&&i?void yy({filePath:e,digestAlgorithm:"md5",success:e=>{var r=e.digest;return t(r===i)},fail:e=>t(!1)}):t(!1)},fail:e=>t(!1)})}AC?xC.push(r):r()}));$m("Download",{maxTaskCount:10,functionName:"downloadFile"}),re.onReady((()=>{try{"number"==typeof re.wxAppInfo.maxDownloadConcurrent&&$m("Download",{maxTaskCount:re.wxAppInfo.maxDownloadConcurrent})}catch(e){}}));class LC extends xm{constructor(e){var{url:t,filePath:r,forVideoPlay:n=!0}=e;super(e,{taskType:"Download",beforeSend:t=>(t.filePath=e.filePath,t),beforeSuccess:e=>{var{tempFilePath:i}=e;return e.profile&&(e.profile.usingHighPerformanceMode=!!e.profile.usingHighPerformanceMode),delete e.timeInterval,n&&RC(i||r,t),e}})}}const NC=LC;var BC=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(jc("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__,Vh("skipDomainCheck_downloadFile")&&(t.__skipDomainCheck__=!0);try{return new NC(t)}catch(e){return void Vc("downloadFile",t,e.message)}}}),$C=BC(),FC=BC({__skipDomainCheck__:!0}),jC=(e={})=>{if("string"!=typeof e.filePath||!e.filePath.startsWith(db()))return $C(e);Vc("downloadFile",e,"permission denied")},WC=s_.WX_WE_MODEL_CACHE_PATH_PREFIX.path,VC=`${WC}/meta.json`,UC=`${WC}/vocab_meta.json`,zC=3,qC=10,HC=e=>WC+"/"+e+".onnx",GC=B_(),KC=Cf(GC.readFile),JC=Cf(GC.saveFile),XC=Cf(GC.writeFile),YC=Cf(GC.access),QC=Cf(GC.unlink),ZC=Cf(GC.mkdir),ek=Cf(FC),tk=function(){var e=Vp()((function*(e=1){try{yield YC({path:WC})}catch(e){yield ZC({recursive:!0,dirPath:`${WC}`})}try{var{data:t}=yield KC({filePath:1===e?VC:UC,encoding:"utf8"});return JSON.parse(t)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),rk=!0,nk=function(){var e=Vp()((function*(e,t,r=1,n=!1){if(!rk){var{tempFilePath:i}=yield ek({url:e,timeout:1e4});return(yield JC({tempFilePath:i,filePath:1===r?"wxfile://usr/__WeSafeModel__.onnx":"wxfile://usr/__WeSafeModelVocab__.txt"})).savedFilePath}var a={};if(!n)if(a=yield tk(r)){if(a[t]&&a[t].src===e)try{return HC(t)}catch(e){console.error("exception: get cacheinfo but not found cache file.")}}else a={};var o=yield ek({url:e,timeout:1e4}),s=yield JC({tempFilePath:o.tempFilePath,filePath:HC(t)});a[t]={src:e,update:Date.now()};var l=Date.now(),c=-1;if(Object.keys(a).length>(1===r?zC:qC))for(var u of Object.keys(a)){var d=a[u];d.update<l&&(l=d.update,c=u)}if(-1!==c)try{yield QC({filePath:HC(c)}),delete a[c]}catch(e){_.error("contentCheck LRU unlink model error: ",e)}return yield XC({filePath:1===r?VC:UC,data:JSON.stringify(a),encoding:"utf8"}),s.savedFilePath}));return function(t,r){return e.apply(this,arguments)}}(),ik,ak=e=>{ik=e},ok=function(){var e=Vp()((function*(e){var t;if(!Array.isArray(ik)||-1===(t=ik.findIndex((t=>t.word_vocab_name===e))))throw new Error(`can't get vocab which named '${e}'`);var{url:r,word_vocab_name:n,update:i}=ik[t];return yield nk(r,n,2,i)}));return function(t){return e.apply(this,arguments)}}(),sk,lk=Cf(Iy),ck=function(){var e=Vp()((function*(e){if(sk)return sk;var t=yield ok(e),r=yield lk({filePath:t,encoding:"utf-8"});return sk=(sk=r.data).split("\n").reduce(((e,t,r)=>(e[t]=r,e)),{}),sk}));return function(t){return e.apply(this,arguments)}}();$m("Upload",{maxTaskCount:10,functionName:"uploadFile"}),re.onReady((()=>{try{"number"==typeof re.wxAppInfo.maxUploadConcurrent&&$m("Upload",{maxTaskCount:re.wxAppInfo.maxUploadConcurrent})}catch(e){}}));class uk extends xm{constructor(e){super(e,{taskType:"Upload",beforeSend:t=>(t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t),beforeSuccess:e=>(e.profile&&(e.profile.usingHighPerformanceMode=!!e.profile.usingHighPerformanceMode),e)})}}const dk=uk;var pk=(e={})=>(e=Object.assign({__skipDomainCheck__:!1},e),(t={})=>{if(jc("uploadFile",t,{url:"",filePath:"",name:""})){"object"!=typeof t.header&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!=typeof t.formData&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var r={},n={};t.header&&(r=np(t.header)),t.formData&&(n=np(t.formData)),t.__skipDomainCheck__=e.__skipDomainCheck__,Vh("skipDomainCheck_uploadFile")&&(t.__skipDomainCheck__=!0);try{return new dk(Object.assign({},t,{header:r,formData:n}))}catch(e){return void Vc("uploadFile",t,e.message)}}}),hk=pk(),fk=pk({__skipDomainCheck__:!0}),gk={uninjected:0,injected:1},vk={minigamelive:gk.uninjected,ad:gk.uninjected,cloud:gk.uninjected,protobuf:gk.uninjected,ga:gk.uninjected,kanata:gk.uninjected,midas:gk.uninjected,pixi:gk.uninjected,sclengine:gk.uninjected,minigamePlatform:gk.uninjected},mk=(e,t)=>{vk[e]=t},yk=e=>vk[e],bk=Um("sclEngine"),_k=!1,wk=()=>{_k||(_k=!0,yk("sclengine")===gk.injected?bk.publish("initReady"):bk.advancePublish("initReady"))},Sk=nr("tapAnyWhere");Yr("tapAnyWhere",Sk.emitInternal);var Ck=Sk.internalOnMethod,kk=Sk.internalOffMethod,Ik=Sk.emitInternal,Pk=!1;Ck((()=>{wk(),Pk||(Pk=!0,Tk.forEach((e=>e())),Tk=[])}));var Tk=[],Ak=e=>{Pk?e():Tk.push(e)},xk=e=>({2116:"SYS_MSG_TYPE_INTERACTIVE",4668:"SYS_MSG_TYPE_RANK"}[e]),Ek=(e={})=>{fd("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];if(e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}),e.subscriptionsSetting){var r={};if(r.mainSwitch=e.subscriptionsSetting.mainSwitch,e.subscriptionsSetting.templatesInfo){var n=e.subscriptionsSetting.templatesInfo;r.itemSettings=n.reduce(((e,t)=>{var r=xk(t.tid),n={"-1":"ban",0:"reject",1:"accept"};return r?e[r]=n[t.status]:(e[t.templateId]=n[t.status],t.acceptAudio&&(e[t.templateId]="acceptWithAudio")),e}),{})}e.subscriptionsSetting=r}}})},Mk=(e={})=>{Ek(e)},Rk=!1,Dk=void 0,Ok=void 0,Lk=void 0,Nk=()=>Dk,Bk=!1,$k="group_forcecelluarnetwork",Fk="forceCellularNetwork",jk=e=>Dk=e,Wk=()=>!Rk&&(Rk=!0,!0),Vk,Uk=()=>{!Dk||Vk||Ge()||(Vk=!0,zk())},zk=()=>{var e,{language:t}=fw();switch(t){case"zh_TW":case"zh_HK":e="正在透過流動網絡改善使用體驗";break;case"en":default:e="Using mobile data for better experience";break;case"zh_CN":e="正在通过移动网络改善使用体验"}Wk()&&Ak((()=>{__sclEngine__.initScl((t=>{t.mainRoot.append("multiLinkToast",{content:e}).addListener("click",(()=>{Mk({success:e=>{!1===e.authSetting["scope."+Fk]&&jk(!1)}})}))}))}))},qk=function(){var e=Vp()((function*(){var e;if(void 0!==Dk)return Dk;try{Ok||(Ok=rx({sdkApiName:"getuserwxaauth",apiName:"webapi_getuserwxaauth",reqData:{scope_list:[$k]}})),e=yield Ok}catch(t){if(!Bk)return!1;e={data:{auth_item_list:[{scope:$k,state:0}]}}}var t,{auth_item_list:r}=e.data;if(-1!==(t=r.findIndex((e=>e.scope===$k)))){var n=r[t];if(0===n.state){yield(Lk||(Lk=rx({sdkApiName:"setuserwxaauth",apiName:"webapi_setuserwxaauth",reqData:{auth_item_list:[{scope:$k,state:1}]}})),Lk).then((e=>{jk(!0)})).catch((e=>{}))}else 2===n.state?jk(!1):1===n.state&&jk(!0)}return Dk}));return function(){return e.apply(this,arguments)}}(),Hk,Gk=0,Kk=new WeakMap,Jk=new WeakMap,Xk=new WeakMap,Yk=new WeakMap,Qk={},Zk=new Ig;Ut("onSocketTaskStateChange",((e={})=>{var{state:t,socketTaskId:r}=e,n=Qk[r];if(n){var i=Kk.get(n);if(delete e.state,delete e.socketTaskId,n){if("open"===t){Uk(),n.readyState=n.OPEN;var a=Xk.get(n).url,o=Date.now()-Yk.get(n),s=e.statusCode,l=Xk.get(n).__skipDomainCheck__,c=e.profile;bg({functionName:"connectSocket",keyParam:a,result:1,costTime:o,errorMsg:"",statusCode:s,__skipDomainCheck__:l,dataLength:0,responseDataLength:0,profile:c,queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0})}else"close"!==t&&"error"!==t||(n.readyState=n.CLOSED);Zk.emit(`${i}${t}`,e),Zk.emit(`onSocket${t[0].toUpperCase()+t.substr(1)}`,e,n),"close"===t&&(delete Qk[r],Zk.removeAllListeners(`${i}open`),Zk.removeAllListeners(`${i}close`),Zk.removeAllListeners(`${i}error`),Zk.removeAllListeners(`${i}message`))}}}));var eI=function(e,t){Zk.on(`${Kk.get(this)}${e}`,E.surroundThirdByTryCatch(t,`at socketTask.on${e} callback function`))},tI=(Hk=class{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0});var n,i=Gk++;Kk.set(this,i),Xk.set(this,t),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((e=>{"function"==typeof t[e]&&(t[e]=E.surroundThirdByTryCatch(t[e],`at api connectSocket ${e} callback function`))})),Yk.set(this,Date.now()),rt(t.timeout)||(t.timeout=0);var a=t.forceCellularNetwork,o=()=>{var e={...t,forceCellular:a};fd("createSocketTask",e,{beforeAll(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:e=>{Jk.set(this,e.socketTaskId),Qk[e.socketTaskId]=this},beforeFail:e=>{var r=t.url,i=Date.now()-Yk.get(this),a=t.__skipDomainCheck__;n=e.errMsg,bg({functionName:"connectSocket",keyParam:r,result:2,costTime:i,errorMsg:n,statusCode:"",__skipDomainCheck__:a,dataLength:0,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:e.errno,queueLength:0})}}),n&&(this.readyState=this.CLOSED,setTimeout((()=>{Zk.emit(`${i}error`,{errMsg:n})}),0))},s=()=>{gt(t.customCheck)?t.customCheck(t,(e=>{e?(Vc("connectSocket",t,e),this.readyState=this.CLOSED,setTimeout((()=>{Zk.emit(`${i}error`,{errMsg:e})}),0)):o()})):o()};a?"boolean"!=typeof a?(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof a),a=!1,s()):qk().then((e=>{e||(a=!1),s()})):s()}send(e){if(this.readyState===this.OPEN){var t=Date.now();fd("operateSocketTask",Object.assign({},e,{operationType:"send",socketTaskId:Jk.get(this)}),{beforeAll:r=>{if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),Math.random()>.99){var n=Xk.get(this).url,i=r.errMsg.indexOf("ok")>-1?1:2,a=Date.now()-t,o=r.errMsg,s=Xk.get(this).__skipDomainCheck__,l=_f(e.data);bg({functionName:"sendSocketMessage",keyParam:n,result:i,costTime:a,errorMsg:o,statusCode:"",__skipDomainCheck__:s,dataLength:l,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0})}}})}else Vc("SocketTask.send",e,"SocketTask.readyState is not OPEN")}close(e={}){fd("operateSocketTask",Object.assign({code:1e3},e,{operationType:"close",socketTaskId:Jk.get(this)}),{beforeAll(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}onOpen(e){eI.call(this,"open",e)}onClose(e){eI.call(this,"close",e)}onMessage(e){eI.call(this,"message",e)}onError(e){eI.call(this,"error",e)}},G()(Hk.prototype,"send",[Nt],Object.getOwnPropertyDescriptor(Hk.prototype,"send"),Hk.prototype),G()(Hk.prototype,"close",[Nt],Object.getOwnPropertyDescriptor(Hk.prototype,"close"),Hk.prototype),Hk),rI=({api:e,url:t})=>xf()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!0}):new Promise(((r,n)=>{fd("checkNetworkAPIURL",{api:e,url:t,success:r,fail:n})})),nI=(e,t)=>cx(e,`WSS.${t}`),iI=5;re.onReady((()=>{re.wxAppInfo&&re.wxAppInfo.maxWebsocketConnect&&(iI=re.wxAppInfo.maxWebsocketConnect)}));var aI=new WeakMap,oI=new WeakMap,sI=new WeakMap,lI={},cI=new Ig,uI=0,dI=0;function pI(e,t,r){t.errMsg=t.errMsg||"ok",zc({name:e,args:r,success:"ok"===t.errMsg,errMsg:t.errMsg})}class hI{constructor(e,t){this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3;var r=this.CONNECTING;Object.defineProperty(this,"readyState",{get:()=>r,set:e=>{r=e},enumerable:!0,configurable:!0}),Object.defineProperty(this,"__socketInstance__",{value:e,writable:!1,configurable:!1,enumerable:!1});var n=Vg.WSS,i=uI++,a=t.workerId?new n(t.workerId):new n;delete t.workerId,aI.set(this,t),oI.set(this,a),sI.set(this,i);var o=Date.now();a.onopen=nI(((e,r)=>{this.readyState!==this.CLOSED&&(Uk(),dI++,this.readyState=this.OPEN,cI.emit(`${i}open`,{header:e,profile:r}),cI.emit("onSocketOpen",{header:e,profile:r},this),bg({functionName:"connectSocket",keyParam:t.url,result:1,costTime:Date.now()-o,errorMsg:"",statusCode:"",__skipDomainCheck__:t.__skipDomainCheck__,dataLength:0,responseDataLength:0,profile:r,queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0}))}),"onopen"),a.onclose=nI(((e,t)=>{dI--,this.readyState=this.CLOSED,cI.emit(`${i}close`,{code:e,reason:t}),cI.emit("onSocketClose",{code:e,reason:t},this)}),"onclose"),a.onmessage=nI((e=>{this.readyState!==this.CLOSED&&(Pt(e)&&(e.__proto__=ArrayBuffer.prototype),cI.emit(`${i}message`,{data:e}),cI.emit("onSocketMessage",{data:e},this))}),"onmessage"),a.onerror=nI(((e,t)=>{dI--,this.readyState=this.CLOSED,setTimeout((()=>{cI.emit(`${i}error`,{errCode:e,errMsg:t}),cI.emit("onSocketError",{errCode:e,errMsg:t},this)}),0)}),"onerror");var s=()=>{var e={errMsg:""};if(dI>=iI)this.readyState=this.CLOSED,e.errMsg=`fail reach max websocket connect count ${iI}`;else{var r=Rf(t,["url","header","timeout","protocols","tcpNoDelay","perMessageDeflate","enableProfile","forceCellularNetwork"]);r.forceCellularNetwork&&"boolean"==typeof r.forceCellularNetwork?qk().then((n=>{n&&(r.forceCellular=!0),r.forceCellularNetwork=void 0,e.errMsg=a.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(lI[i]=this),pI("connectSocket",e,t)})):(r.forceCellularNetwork&&"boolean"!=typeof r.forceCellularNetwork&&(console.warn("connectSocket argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=void 0),e.errMsg=a.connect(r),"string"==typeof e.errMsg&&""!==e.errMsg||(e.errMsg="ok"),e.errMsg,"ok"===e.errMsg&&(lI[i]=this),pI("connectSocket",e,t))}};gt(t.customCheck)?t.customCheck(t,(e=>{e?pI("connectSocket",{errMsg:e},t):s()})):(s(),rI({api:"websocket",url:t.url}).then((e=>{if(t.url,!(t.__skipDomainCheck__||e.isInDomainList||e.isInLAN&&!e.isLocalHost))throw new Error("fail:url not in domain list")})).catch((e=>{this.readyState=this.CLOSED;var t=e.message||e.errMsg;cI.emit(`${i}error`,{errMsg:t}),cI.emit("onSocketError",{errMsg:t},this)})))}send(e={}){var t={errMsg:oI.get(this).send(e.data)};(e.success||e.fail||e.complete)&&pI("sendSocketMessage",t,e)}close(e={}){this.readyState,pI("closeSocket",{errMsg:oI.get(this).close(rt(e.code)?e.code:1e3,e.reason)},e)}onOpen(e){cI.on(`${sI.get(this)}open`,E.surroundThirdByTryCatch(e,"at socketTask.onOpen callback function"))}onClose(e){cI.on(`${sI.get(this)}close`,E.surroundThirdByTryCatch(e,"at socketTask.onClose callback function"))}onMessage(e){cI.on(`${sI.get(this)}message`,E.surroundThirdByTryCatch(e,"at socketTask.onMessage callback function"))}onError(e){cI.on(`${sI.get(this)}error`,E.surroundThirdByTryCatch(e,"at socketTask.onError callback function"))}}var fI=tI,gI=Qk;f.g.__isAppServiceRemoteDebugMode__||Wg((e=>{e.WSS&&re.onReady((()=>{var t=!1,r=Ie?"clicfg_appbrand_ios_native_socket_wcwss_new":1;1===r?t=!0:Wf({experimentId:r,experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(t=!0)}});var n=Vh("bindingWebSocket");t||n||e.WSS.force?(fI=hI,gI=lI,Sy(/^connectSocket/,2),_.info(`binding socket, abtest: ${t}, permission: ${n}`)):_.info(`jsapi socket, abtest: ${t}, permission: ${n}`)}))}));var vI=new WeakMap,mI={};function yI(e,t){return mI[t]||(mI[t]=new WeakMap,Zk.on(`onSocket${t}`,bI(t)),cI.on(`onSocket${t}`,bI(t))),function(r){jc(`onSocket${t}`,r,Dt)&&mI[t].set(e,r)}}function bI(e){return function(t,r){var n=r.__socketInstance__,i=mI[e].get(n),a=vI.get(n);i&&r===a&&E.surroundThirdByTryCatch(i,`at onSocket${e} callback function`)(t)}}var _I=(e={})=>{e=Object.assign({__skipDomainCheck__:!1},e);var t={};return{connectSocket(r){r=Object.assign({},r,{url:`${r.url}`});var{workerId:n}=r;if(delete r.workerId,jc("connectSocket",r,{url:""}))if(!1!==Ud(r.url,"websocket")){"object"!=typeof r.header&&void 0!==r.header&&delete r.header;var i={};r.header&&(i=np(r.header)),r.__skipDomainCheck__=e.__skipDomainCheck__,Vh("skipDomainCheck_socket")&&(r.__skipDomainCheck__=!0);try{var a=vI.get(t),o=new fI(t,Object.assign({},r,{header:i,...n?{workerId:n}:{}}));return a&&a.readyState!==a.CLOSED?a.readyState:vI.set(t,o),o}catch(e){return e.message,void Vc("connectSocket",r,e.message)}}else Vc("connectSocket",r,`invalid url "${r.url}"`)},closeSocket(e){var r=vI.get(t);for(var n in r&&r.readyState!==r.CLOSED?(r.readyState=r.CLOSED,r.close(e)):Vc("closeSocket",e,"WebSocket is not connected"),gI){var i=gI[n];i.__socketInstance__===t&&(i.readyState=i.CLOSED,i!==r&&i.close())}},sendSocketMessage(e){var r=vI.get(t);r&&r.readyState===r.OPEN?r.send(e):Vc("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:yI(t,"Open"),onSocketClose:yI(t,"Close"),onSocketMessage:yI(t,"Message"),onSocketError:yI(t,"Error")}},wI=_I(),SI=()=>_I({__skipDomainCheck__:!0}),CI=(e={})=>{fd("uploadEncryptedFileToCDN",e,{})},kI=e=>{Ut("onUploadEncryptedFileToCDNProgress",e)},II=(e={})=>{fd("uploadToCommonCDN",e,{})},PI=(e={})=>{if(Vh("uploadToCommonCDN"))fd("uploadToCommonCDN",e,{});else{var t="uploadToCommonCDN:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},TI=(e={})=>{Ie?Vc("addNativeDownloadTask",e,"iOS not supported"):fd("addNativeDownloadTask",e,{})},AI=new WeakMap,xI=new WeakMap,EI=new Yt;function MI(e){var{success:t,fail:r,complete:n}=e;fd("addDownloadTaskForNative",Object.assign(e,{success:e=>{delete e.errMsg,this.taskId=e.downloadId,EI.on(`${this.taskId}:success`,(e=>{e.errMsg="downloadApp:ok","function"==typeof t&&t(e),"function"==typeof n&&n(e)})),EI.on(`${this.taskId}:fail`,(e=>{e.errMsg=`downloadFile:fail ${e.errMsg}`,"function"==typeof r&&r(e),"function"==typeof n&&n(e)}));var i=xI.get(this)||[];AI.set(this,"ready"),i.forEach((e=>{RI.call(this,e[0],...e[1])})),EI.emit(`${this.taskId}:created`,e)},fail:e=>{"function"==typeof r&&r(e),"function"==typeof n&&n(e)},complete:()=>{xI.set(this,[])}}),{beforeAll(e){e.errMsg=e.errMsg.replace("addDownloadTaskForNative","downloadApp")}})}function RI(e,...t){if("ready"!==AI.get(this)){var r=xI.get(this)||[];return r.push([e,t]),void xI.set(this,r)}switch(e){case"cancel":fd("cancelDownloadTaskForNative",{downloadIdArray:[this.taskId]});break;case"onProgressUpdate":EI.on(`${this.taskId}:progressUpdate`,(e=>{"function"==typeof t[0]&&E.surroundThirdByTryCatch(t[0],"at DownloadAppTask.onProgressUpdate callback function")(e)}));break;case"onCreated":EI.on(`${this.taskId}:created`,(e=>{"function"==typeof t[0]&&E.surroundThirdByTryCatch(t[0],"at DownloadAppTask.onCreated callback function")(e)}));break;default:fd(`${e}DownloadTaskForNative`,{downloadId:this.taskId})}}Ut("onDownloadAppStateChangeForNative",(e=>{var{state:t,downloadId:r}=e;switch(delete e.state,delete e.downloadId,delete e.appId,t){case"download_succ":EI.emit(`${r}:progressUpdate`,e),EI.emit(`${r}:success`,e);break;case"download_failed":EI.emit(`${r}:fail`,e);break;case"download_progress_changed":EI.emit(`${r}:progressUpdate`,e)}"download_succ"!==t&&"download_failed"!==t||(EI.removeAllListeners(`${r}:success`),EI.removeAllListeners(`${r}:fail`),EI.removeAllListeners(`${r}:progressUpdate`))}));class DI{constructor(e){this.taskId=null,["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=E.surroundThirdByTryCatch(e[t],`at api downloadApp ${t} callback function`))})),MI.call(this,e)}pause(){RI.call(this,"pause")}resume(){RI.call(this,"resume")}cancel(){RI.call(this,"cancel")}install(){RI.call(this,"install")}onCreated(e){RI.call(this,"onCreated",e)}onProgressUpdate(e){RI.call(this,"onProgressUpdate",e)}}const OI=DI;var LI=(e={})=>{if(Ie)Vc("downloadApp",e,"iOS not supported");else{if(!jc("downloadApp",e,{taskName:"",taskUrl:"",fileMd5:""}))return null;e.fileType=e.fileType||1;try{return new OI(e)}catch(t){return Vc("downloadApp",e,t.message),null}}},NI=(e={})=>{Ie?Vc("getAppInstallState",e,"iOS not supported"):e.packageName||e.packageNameArray?fd("getInstallStateForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getInstallStateForNative","getAppInstallState")}}):Vc("getAppInstallState",e,"parameter error: require packageName or packageNameArray")},BI=(e={})=>{Ie?Vc("queryDownloadAppTask",e,"iOS not supported"):e.downloadId||e.downloadIdArray||e.appIdArray?fd("queryDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("queryDownloadTaskForNative","queryDownloadAppTask"),"download_succ"===e.state&&(e.progress=100),(e.result||[]).forEach((e=>{"download_succ"===e.state&&(e.progress=100)}))}}):Vc("queryDownloadAppTask",e,"parameter error: require downloadId or downloadIdArray or appIdArray")},$I=(e={})=>{Ie?Vc("cancelDownloadAppTask",e,"iOS not supported"):jc("cancelDownloadAppTask",e,{downloadIdArray:[]})&&fd("cancelDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("cancelDownloadTaskForNative","cancelDownloadAppTask")}})},FI=(e={})=>{Ie?Vc("installDownloadApp",e,"iOS not supported"):jc("installDownloadApp",e,{downloadId:""})&&fd("installDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("installDownloadTaskForNative","installDownloadApp")}})},jI=(e={})=>{Ie?Vc("pauseDownloadAppTask",e,"iOS not supported"):jc("pauseDownloadAppTask",e,{downloadId:""})&&fd("pauseDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("pauseDownloadTaskForNative","pauseDownloadAppTask")}})},WI=(e={})=>{Ie?Vc("resumeDownloadAppTask",e,"iOS not supported"):jc("resumeDownloadAppTask",e,{downloadId:""})&&fd("resumeDownloadTaskForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("resumeDownloadTaskForNative","resumeDownloadAppTask")}})},VI=e=>{Ut("onDownloadAppStateChangeForNative",((t={})=>{E.surroundThirdByTryCatch(e,"at onDownloadAppStateChange callback function")(t)}))},UI=(e={})=>{if(!ke)return jc("downloadAppForIOS",e,{appUrl:""})?(fd("downloadAppInternalForNative",e,{beforeAll(e){e.errMsg=e.errMsg.replace("downloadAppInternalForNative","downloadAppForIOS")}}),null):null;Vc("downloadAppForIOS",e,"android not supported")},zI=(e={})=>{jc("calRqt",e,{rqt:""})&&fd("calRqt",e)},qI=e=>{fd("secureTunnel",e)},HI,GI,KI=e=>{HI=e},JI=e=>{GI=e},XI=()=>GI,YI=()=>HI,QI=2.074,ZI;m.onLoad((()=>{ZI=Cf(VA)}));var eP=function(){var e=Vp()((function*(e,t){if(!e)throw new Error("unexpected: get null ab");if(!t){var r=YI();t=[r*QI,r]}var n=e;"string"==typeof e&&(n=(yield ZI({url:e,responseType:"arraybuffer"})).data);for(var i=Array.prototype.slice.call(new Uint8Array(n)),a=t[0],o=t[1],s=Array(a).fill(0).map((e=>[])),l=function*(e){for(var t=function*(t){var[r,n,a]=Array(3).fill(0).map(((r,n)=>i[e*o*3+3*t+n]));s[e].push([r,n,a])},r=0;r<o;r++)yield*t(r)},c=0;c<a;c++)yield*l(c);return s}));return function(t,r){return e.apply(this,arguments)}}(),tP;function rP(e,t,r){return nP.apply(this,arguments)}function nP(){return nP=Vp()((function*(e,t,r){try{var n=e,i="";t.forEach((e=>{"dictName"===e.key&&(i=e.value),"testRet"===e.key&&(n=e.value.replaceAll("'",'"'))}));var a=yield ck(i),o=r[r.length-1],s=[],l=JSON.parse(n),c=(e,t=null)=>{if("[object Object]"===Object.prototype.toString.call(e))Object.keys(e).forEach((t=>{c(e[t],t)}));else if(Array.isArray(e))e.forEach((e=>{c(e,t)}));else if(s.length<o){var r=e;""!==r&&" "!==r||(r="empty");var n=(t+":"+r).toLowerCase();if(a[n]>=0)s.push(a[n]);else{var i=0;if((n=(r+="").toLowerCase()).length<=20)for(var l=0;l<n.length;l++)for(var u=1;u<5;u++)if(a[n.substr(l,u)]>=0){s.push(a[n.substr(l,u)]),i=1;break}0==i&&(n=(t+":other").toLowerCase(),a[n]>=0&&s.push(a[n]))}}};for(c(l);s.length<o;)s.push(0);return new Int32Array(s).buffer}catch(e){throw e}})),nP.apply(this,arguments)}function iP(e){var t=["head","form","li","movable-view","navigator","br","h4","swiper","option","channel-video","rich-text","p","pre","checkbox","picker","keyboard-accessory","movable-area","h2","switch","live-pusher","em","picker-view-column","i","slider","cover-view","camera","view","label","h3","scroll-view","input","title","radio","cover-image","tr","icon","map","live-player","match-media","canvas","native-component","img","sticky-section","voip-room","text","list-view","checkbox-group","body","select","textarea","page-meta","sticky-header","ol","h1","strong","td","source","progress","page-container","a","functional-page-navigator","video","th","radio-group","div","channel-live","grid-view","ad","u","editor","navigation-bar","ul","h6","table","official-account","button","open-data","span","html","ad-custom","audio","image","swiper-item","root-portal","web-view","share-element","picker-view","h5","code"],r=new RegExp("<(\\/)?(.*?)>","g");return e=e.replace(r,((e,r,n)=>t.includes(n)?e:" ")),e=e.replace(/\s\s+/g," ")}function aP(e,t,r){return oP.apply(this,arguments)}function oP(){return oP=Vp()((function*(e,t,r){class n{constructor(){this.children={},this.idx=null}}class i{constructor(e,t){this.root=new n,this.simple=e,this.dict=t}insert(e,t){var r=this.root;for(var i of e)r.children[i]||(r.children[i]=new n),r=r.children[i];r.idx=t}segment(e){var t,r,n=[],i=[],a="",o=null,s=this.root;for(var l of e)if(s.children[l])a+=l,o=(s=s.children[l]).idx;else{var c,u,d;if(a)n.push(a),i.push(null!==(c=null!==(u=o)&&void 0!==u?u:this.dict[a])&&void 0!==c?c:this.simple?1:100);if(a="",o=null,(s=this.root).children[l])a+=l,o=(s=s.children[l]).idx;else n.push(l),i.push(null!==(d=this.dict[l])&&void 0!==d?d:this.simple?1:100)}a&&(n.push(a),i.push(null!==(t=null!==(r=o)&&void 0!==r?r:this.dict[a])&&void 0!==t?t:this.simple?1:100));return[n,i]}}try{var a,o;t.forEach((e=>{"simple"===e.key&&(a=e.value),"dictName"===e.key&&(o=e.value)})),a="true"===a,o="null"===o?null:o;var s=e;try{s=s.toLowerCase(),s=iP((e=>e.replace(/<wx-/g,"<").replace(/<\/wx-/g,"</"))(function(e){return"<html>"+(e=e.replace(/<([\w-]+)(?:\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[\w-]+))?)*\s*(\/?)>/g,"<$1$2>"))+"</html>"}(s)))}catch(e){throw e}var l,c,u={};o=a?"minivocab_html":o;try{u=yield ck(o)}catch(e){throw e}try{[l,c]=function(e,t,r){var n=new i(r,t);for(var[a,o]of Object.entries(t))o<3209||n.insert(a,o);return n.segment(e)}(s,u,a)}catch(e){throw e}try{var d=r[1]-(a?0:2);if(c.length>d&&(c=c.slice(0,d)),a||(c.unshift(101),c.push(102)),c.length<d)for(;c.length<d;)c.push(0)}catch(e){throw e}return new Int32Array(c).buffer}catch(e){throw e}})),oP.apply(this,arguments)}function sP(e,t,r){return lP.apply(this,arguments)}function lP(){return lP=Vp()((function*(e,t,r){try{var n,i,a=e,o=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"minSeqLength"===e.key&&(i=e.value),"dictType"===e.key&&"bert"===e.value&&(o=!1)}));var s=r.reduce(((e,t)=>e*t),1);a=a.slice(a.length*n,a.length*n+s);for(var l=yield ck(o?"minivocab":"alberttiny489kvocab"),c=r[0],u=r[r.length-1],d=[],p=[],h=0;h<a.length+1;h++)if("\n"===a[h]||h===a.length){if(p.length>=i){var f=u-(o?0:2);if(p.length>f&&(p=p.slice(0,f)),o||(p.unshift(101),p.push(102)),p.length<u)for(;p.length<u;)p.push(0);d.push(p)}if(p=[],d.length>=c)break}else p.push(l[a[h]]||(o?1:100));for(;d.length<c;)d.push(new Array(u).fill(0));return new Int32Array(...d).buffer}catch(e){_.warn("reshape occur error:",e)}})),lP.apply(this,arguments)}var cP="FusedResize";function uP(){return!!(tP=tP||Vg.XInference)||(_.warn("[mnxnet]: NativeGlobal.XInference not available"),!1)}function dP(e,t){try{return{res:t(),errMsg:null}}catch(t){return _.warn(`[mnxnet]: ${e} err: ${JSON.stringify(t)}`),{res:null,errMsg:(null==t?void 0:t.errMsg)||"errMsg not defined"}}}function pP(e,t){return dP(e,(()=>tP.InvokeMethod(e,null,t)))}function hP(){return(new Date).getTime()}function fP(e,t,r){return gP.apply(this,arguments)}function gP(){return gP=Vp()((function*(e,t,r){_.warn("[mnxnet] resizeScreenshotRect use native impl");var n,i=.5,a=.5,o="NCHW",s=Math.min(r[0],r[1]);t.forEach((e=>{"mean"===e.key&&(i=e.value),"std"===e.key&&(a=e.value),"inputType"===e.key&&(o=e.value),"resizeType"===e.key&&e.value,"shortEdge"===e.key&&(s=e.value)}));try{tP=Vg.XInference;var l={type:"uint8",shape:[r[0],r[1],3]};_.warn(`[mnxnet]: preprocess dataIn: ${JSON.stringify(l)}`),l.data=e;var c=1/(255*a),u=i/a,d=hP(),p=!1;"NCHW"===o&&(p=!0),n={image:l,dstHW:[s,s],bias:[u,u,u],scale:[c,c,c],toNCHW:p};var{res:h,errMsg:f}=pP("FuseProcess",n),g=hP()-d;return Ew(1,cP,f,g,n,1),_.warn(`[mnxnet] preprocess cost ${g} ms`),h.data.buffer}catch(e){Ew(1,cP,JSON.stringify(e),0,n,1),_.warn(`[mnxnet] preprocess err: ${e}`)}})),gP.apply(this,arguments)}var vP="";function mP(e,t,r){return yP.apply(this,arguments)}function yP(){return yP=_asyncToGenerator((function*(e,t,r){try{var n=e,i=.5,a=.5,o="NCHW";t.forEach((e=>{"mean"===e.key&&(i=e.value),"std"===e.key&&(a=e.value),"inputType"===e.key&&(o=e.value),"resizeType"===e.key&&e.value}));var s=yield transformRGB(n,r),l=0,c=s.length/s[0].length,u=s[0].length;s.length<s[0].length&&(l=1,c=s[0].length/s.length,u=s.length);var d=[];if("NCHW"===o)for(var p=0;p<3;p++)for(var h=0;h<u;h++)for(var f=0;f<u;f++){var g=h,v=f;0===l?g=Math.floor(h*c):v=Math.floor(h*c),d.push((s[g][v][p]/255-i)/a)}else for(var m=0;m<u;m++)for(var y=0;y<u;y++){var b=m,_=y;0===l?b=Math.floor(m*c):_=Math.floor(y*c);for(var w=0;w<3;w++)d.push((s[b][_][w]/255-i)/a)}return new Float32Array(d).buffer}catch(e){throw e}})),yP.apply(this,arguments)}function bP(e,t,r){return _P.apply(this,arguments)}function _P(){return _P=Vp()((function*(e,t,r){_.warn("[mnxnet]: resizeScreenshotRect called");try{var n=vP.includes(cP);if(t.disableDipFuncList&&t.disableDipFuncList.includes(cP)&&(n=!1,_.warn("[mnxnet]: disable native fused resize by svr")),n&&uP())return _.warn("[mnxnet]: enableNativeFusedResize"),fP(e,t,r);var i=(new Date).getTime(),a=.5,o=.5,s="NCHW",l=e;t.forEach((e=>{"mean"===e.key&&(a=e.value),"std"===e.key&&(o=e.value),"inputType"===e.key&&(s=e.value),"resizeType"===e.key&&e.value}));var c=yield eP(l,r),u=0,d=c.length/c[0].length,p=c[0].length,h=c.length;c.length<c[0].length&&(u=1,d=c[0].length/c.length,p=c.length,h=c[0].length);var f={image:{type:"uint8",shape:[r[0],r[1],3]},dstHW:[p,p],toNCHW:"NCHW"===s},g=Math.ceil(d),v=Math.floor(g/2),m=[];if("NCHW"===s)for(var y=0;y<3;y++)for(var b=0;b<p;b++)for(var w=0;w<p;w++){var S=0,C=0,k=0;k=0===u?Math.floor(b*d):Math.floor(w*d);for(var I=0;I<g;I++){var P=k-v+I;P>=0&&P<h&&(S+=1,C+=0===u?c[P][w][y]:c[b][P][y])}S>0?m.push((C/S/255-a)/o):m.push(0)}else for(var T=0;T<p;T++)for(var A=0;A<p;A++){var x=0;x=0===u?Math.floor(T*d):Math.floor(A*d);for(var E=0;E<3;E++){for(var M=0,R=0,D=0;D<g;D++){var O=x-v+D;O>=0&&O<h&&(M+=1,R+=0===u?c[O][A][E]:c[T][O][E])}M>0?m.push((R/M/255-a)/o):m.push(0)}}var L=(new Date).getTime();return Ew(0,cP,null,L-i,f,1),new Float32Array(m).buffer}catch(e){throw e}})),_P.apply(this,arguments)}function wP(e,t,r){return SP.apply(this,arguments)}function SP(){return SP=Vp()((function*(e,t,r){try{var n=[],i=[];t.forEach((e=>{var t=e.key,r=e.value;n.push(t),r&&r.forceReRun&&i.push(t)}));for(var a=n.length,o=yield Uw(n,{forceRunKeys:i}),s=new Float32Array(a),l=0;l<a;++l)s[l]=o[n[l]];return s.buffer}catch(e){return _.warn(`[mnxnet]: mnxnetBenchmark err: ${e}`),new ArrayBuffer(1)}})),SP.apply(this,arguments)}var CP=function(){var e=Vp()((function*(e,t,r){var n,i,a,o,s=!0;if(t.forEach((e=>{"simple"===t.key&&(s="1"===t.value),"startPct"===e.key&&(n=e.value),"maxSize"===e.key&&(i=e.value-(s?0:2)),"dictName"===e.key&&(a=e.value)})),e=e.replace(/[^\u4e00-\u9fa5a-zA-Z0-9]/g,"").toLowerCase(),i<0){var l=e.length*n+i;l<0&&(l=0),e=e.slice(l,e.length*n)}else e=e.slice(e.length*n,e.length*n+i);a||(a=s?"minivocab":"alberttiny489kvocab");try{o=yield ck(a)}catch(e){}for(var c=r[r.length-1]-(s?0:2),u=[],d=0;d<e.length&&d<c;d++)u.push(o[e[d]]||(s?1:o["[UNK]"]));if(s||(u.unshift(o["[CLS]"]),u.push(o["[SEP]"])),u.length<c)for(;u.length<c;)u.push(0);return new Int32Array(u).buffer}));return function(t,r,n){return e.apply(this,arguments)}}();function kP(e,t,r){return IP.apply(this,arguments)}function IP(){return IP=Vp()((function*(e,t,r){try{var n=0,i=512,a=!0;t.forEach((e=>{"startPct"===e.key&&(n=e.value),"maxSeqLength"===e.key&&(i=e.value),"dictType"===e.key&&"bert"===e.value&&(a=!1)}));var o,s=e.slice(Math.floor(e.length*n),e.length);try{o=yield r.readWordDict(a?"minivocab":"alberttiny489kvocab")}catch(e){throw e}for(var l=[],c=0;c<s.length;c++){var u=s[c];o[u]&&o[u]>60&&o[u]<2900&&l.push(o[u])}var d=[],p=i-(a?0:2);if(l.length>p){for(var h=0;h<l.length;h++){var f=l[h];f>270&&f<570||f>580&&f<660||f>790&&f<990||f>1100&&f<1200||f>1300&&f<1900||f>2e3&&f<2800||d.push(f)}d.length>p&&(d=d.slice(0,p))}else d=l;for(a||(d.unshift(101),d.push(102));d.length<i;)d.push(0);return new Int32Array(d).buffer}catch(e){throw e}})),IP.apply(this,arguments)}var PP=f.g.eval,TP={mnxnetBenchmark:wP,GetTextIdsVec:CP,GetTextIdsSimple:(e,t,r)=>CP(e,t,r,!0),GetTextIdsMultiDimension:sP,GetTrimTextProcrss:kP,exceptionRetProcess:rP,resizeScreenshotRect:bP,html2WordEmbedding:aP},AP=function(){var e=Vp()((function*(e,t,r,n,i,a){var o=void 0!==a?a:e[t],s=TP[r];if(s)try{return yield s(o,n,i)}catch(e){throw e}return o}));return function(t,r,n,i,a,o){return e.apply(this,arguments)}}(),xP=function(){var e=Vp()((function*(e,t,r,n,i){return new Promise(((a,o)=>{var s=a,l=o;try{EP(`(${e})(input, svrData, env, safeEvalExecCallbackResolve, safeEvalExecCallbackReject)`,{input:t,svrData:r,safeEvalExecCallbackResolve:s,safeEvalExecCallbackReject:l,env:{readWordDict:ck,shape:n,transformRGB:eP,sdkUtils:i}})}catch(e){o(e)}}))}));return function(t,r,n,i,a){return e.apply(this,arguments)}}(),EP=(e,t)=>{var r=Object.entries(t).reduce(((e,[t,r])=>(globalThis[t]=r,e+=`let ${t} = globalThis.${t};globalThis.${t} = undefined;`)),"");PP(`(function safe_execute() {\n    'use strict';\n    ${r};\n    ${e};\n  })()`)},MP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function RP(e){if("function"==typeof globalThis.btoa)return globalThis.btoa(e);for(var t,r,n=String(e),i="",a=0,o=MP;n.charAt(0|a)||(o="=",a%1);i+=o.charAt(63&t>>8-a%1*8)){if((r=n.charCodeAt(a+=3/4))>255)throw new Td("btoa failed");t=t<<8|r}return i}function DP(e){if("function"==typeof globalThis.atob)return globalThis.atob(e);var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new Td(`atob failed: invalid string length ${t.length}`);for(var n,i,a=0,o=0;i=t.charAt(o++);~i&&(n=a%4?64*n+i:i,a++%4)?r+=String.fromCharCode(255&n>>(-2*a&6)):0)i=MP.indexOf(i);return r}function OP(e){for(var t,r="",n=(t=ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name?e:new Uint8Array(e)).byteLength,i=0;i<n;i++)r+=String.fromCharCode(t[i]);return RP(r)}function LP(e){for(var t=DP(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer}var NP=e=>RP(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode("0x"+t)))),BP=e=>decodeURIComponent(DP(e).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")),$P=e=>NP(e).split("=")[0].replace(/\+/g,"-").replace(/\//g,"_"),FP=e=>BP(e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="));const jP=JSON.parse('{"wxa_client_check":{"task_id":126,"check_logic":{"xnet":{"model_url":"https://776c-wlc-25xh9-1301415383.tcb.qcloud.la/shorttext_0616.onnx?sign=f4bf7692cacae8ed258bd9cd5ae85f38&t=1655374931","model_name":"shorttext_0616","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,32],"preset_data":"dom_text","pre_proc":{"proc_name":"test_eval","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"}]}}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1L6xm7977OadcHI9SjWEFyyPBR5eYKJkcbhrgswImDYC3YKlIRRM73EO0VwRpkEqgQ"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}]},"xnet_list":[{"conf_name":"exception_ret_rf","model_url":"https://res.wx.qq.com/op_res/Su68tAlYHulBHYkTrgR7F-F2k70xZL3UdYx-9AAeC1Shp4HU-eom-1HEYkzm711WNoy36-alAUFYDwzR9JsGmQ","model_name":"wxapp_exception_detect","cli_param_list":[{"key":"input_ids","type":"int32","shape_list":[1,8],"preset_data":"dom_text","pre_proc":{"proc_name":"exceptionRetProcess","param":[{"key":"startPct","value":"0.9"},{"key":"maxSize","value":"32"},{"key":"dictName","value":"exceptionVocab"}]}}]}],"vocab_list":[{"word_vocab_name":"exceptionVocab","url":"https://res.wx.qq.com/op_res/82EQolnzIWQb3DHsw2nz9AfRqg08CX80ydEXWONUDHQAKP9suHH1OGBZi8c6_DT9j8phbuwFWn385JL2Tz4nZw"},{"word_vocab_name":"alberttiny489kvocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1MZGzTnhg3ThHfFpDfMQ9n5Y3Ant595ccPq9DBsUN3JDf1r9EoGzOqJSUCyum-jilA"},{"word_vocab_name":"minivocab","url":"https://res.wx.qq.com/op_res/-_5oCLqmnv5baNur8gfH1E5VH0F4KzmrHpQjnBpiPOLAHHwxP92zmqXP_eWYYXuqQwqkahYKw06Nz1an1ekF_A"}],"reg_list":[]},"timing":{"after_load_interval":4000,"after_load_maxcnt":4,"most_cnt":1},"filter":{"black_path_list":["packageAPI/pages/api/get-user-info/get-user-info"],"white_path_list":["packageAPI/pages/api/get-user-info*"]},"debug_mode":1,"debug_data":["dom_text","dom_html"],"debug_code":[{"func_name":"test_eval","code":"async function batchProcess(d,a,e,m,f){const dict = await env.readWordDict(\'exceptionVocab\'); console.log(\'dict:\', dict)}"}],"gray_pub_mode":true}}');var WP={dom_text:1,dom_html:2,dom_content:3,dom:4,screenshot:5,modal:6,toast:7,loading:8},VP={1:"innerText",2:"innerHTML",3:"textContent",dom_text:"innerText",dom_html:"innerHTML",dom_content:"textContent"},UP=e=>e.reduce(((e,t)=>e*t),1),zP=e=>WP[e],qP,HP=()=>qP,GP,KP=!1,JP,XP=new Promise((e=>JP=e)),YP=function(){var e=Vp()((function*(){if(!GP&&!KP){KP=!0;try{var e=yield sT();if(!Array.isArray(e))return JP(!1);e=e.map((e=>{var{model:t,config:r,checkConfig:n,domTextPreset:i,regCheckCfg:a,modelName:o,taskId:s,debug:l,key:c,cliParamList:u,isScreenshot:d,isMultiModal:p,typicalShape:h,allowQuantize:f,allowNPU:g,onlyInteractionCheck:v,interactionPreset:m,runTiming:y}=e,{after_load_interval:b,after_load_maxcnt:_,at_redirect:w,most_cnt:S}=null!=n?n:{};return r.allowQuantize=f,r.allowNPU=g,r.typicalShape=h,(GP={}).mostCnt=S,GP.currentCnt=0,GP.afterLoadInterval=b,GP.afterLoadMaxCnt=_,GP.atRedirect=w,GP.modelUrl=t,GP.cfg=r,GP.domTextPreset=i,GP.regCheckCfg=a,GP.modelName=o,GP.taskId=s,GP.debug=l,GP.key=c,GP.cliParamList=u,GP.isScreenshot=d,GP.isMultiModal=p,GP.typicalShape=h,GP.allowNPU=g,GP.allowQuantize=f,GP.interactionPreset=m,GP.onlyInteractionCheck=v,GP.runTiming=y,qP=s,GP})),JP(e)}catch(e){JP(null)}}}));return function(){return e.apply(this,arguments)}}(),QP=function(){var e=Vp()((function*(e,t=!1){YP();var r=yield XP;return r?t?r:e?r.find((t=>t.key===e)):r[0]:null}));return function(t){return e.apply(this,arguments)}}(),ZP=!1,eT=()=>ZP=!0,tT=1,rT=({taskId:e,xnetResList:t,regResList:r,curPath:n,runScene:i,runTime:a,costTime:o,errMsg:s,debug:l,domTextPresetData:c,blockTime:u,logicCostList:d,specialCase:p,contentId:h,screenShotId:f,webviewCfg:g,sessionid:v,interactionType:m})=>{var y=[],b=[];Array.isArray(t)&&t.forEach((e=>{var t=e.multimodalScreenshotId;t&&b.push(t);var r=e.xnet_res;if(r){var n=[];for(var i of Object.keys(r)){var a=r[i];n.push({key:i,type:a.type,shape_list:a.shape,base64_data:OP(a.data)})}e.xnet_res=n,y.push(e)}else y.push(e)}));var _={task_id:e,xnet_res_list:y,reg_res_list:r,cur_path:n,run_scene:i,run_time:a,cost_time:o,errmsg:s,block_time:u,logic_cost_time_list:d,special_case:p,content_type:h,webview_url:null==g?void 0:g.webviewUrl,report_id:tT++,sessionid:v,report_time:Date.now()};if(2===h)_.debug_data={preset_data_list:[{key:"screenshot",value:l}]};else if(Array.isArray(l)){var w=[];c&&l.forEach((e=>{if("modal"===e||"toast"===e||"clipboard"===e){if(e!==m)return;w.push({key:e,value:c})}else"screenshot"===e?w.push({key:e,value:f}):w.push({key:e,value:c[zP(e)]})})),b.length&&b.forEach((e=>{w.push({key:"screenshot_preprocessor",value:e})})),_.debug_data={preset_data_list:w}}tx({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:_})},nT=(e,t={})=>{if(ZP){var r=HP(),n=t.sessionId;n&&delete t.sessionId;var i={task_id:r,xnet_moment:e,...t,sessionid:n,report_id:tT++,report_time:Date.now()};tx({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:i})}},iT=(e,t)=>r=>{tx({sdkApiName:"webapi_reportclicheckresult",apiName:"webapi_reportclicheckresult",reqData:{task_id:e,sessionid:t,pre_proc_log:r,report_id:tT++}})},aT=["dom_text","dom_html","dom_content","dom","screenshot"],oT=!1,sT=()=>new Promise(((e,t)=>{var r,n,i,a;if(!oT&&null!==(r=re.appContactInfo)&&void 0!==r&&null!==(n=r.operationInfo)&&void 0!==n&&null!==(i=n.jsonInfo)&&void 0!==i&&null!==(a=i.op_info)&&void 0!==a&&a.skip_async_secinfo)return e({close:!0});if(oT){var o=function(){var e=Vp()((function*(){var e={data:jP};e.data.wxa_client_check.gray_pub_mode&&eT(),e.data.wxa_client_check.check_logic&&e.data.wxa_client_check.check_logic.xnet&&ak(e.data.wxa_client_check.check_logic.vocab_list);var t=[];for(var r of e.data.wxa_client_check.check_logic.xnet_list){var n=yield cT({xnet:r,reg_list:e.data.wxa_client_check.check_logic.reg_list},e.data.wxa_client_check.debug_data,e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_code:null);n.taskId=e.data.wxa_client_check.task_id,n.checkConfig=e.data.wxa_client_check.timing,n.debug=1===e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_data:null,n.debug_codes=n.debug?e.data.wxa_client_check.debug_code:null,t.push(n)}if(!t.length&&e.data.wxa_client_check.check_logic.reg_list){var i=[];if(e.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{i.push(zP(e))})),i.length){var a={regCheckCfg:e.data.wxa_client_check.check_logic.reg_list,domTextPreset:i};a.taskId=e.data.wxa_client_check.task_id,a.checkConfig=e.data.wxa_client_check.timing,a.debug=1===e.data.wxa_client_check.debug_mode?e.data.wxa_client_check.debug_data:null,t.push(a)}}return 1===e.data.wxa_client_check.timing.at_redirect&&(dT=1),t}));return function(){return e.apply(this,arguments)}}();o().then(e).catch((e=>{t(e)}))}else gC().then(function(){var r=Vp()((function*(r){try{var n,i;if(null===(n=r.data)||void 0===n||null===(i=n.wxa_client_check)||void 0===i||!i.check_logic)return e({close:!0});r.data.wxa_client_check.check_logic&&r.data.wxa_client_check.check_logic.xnet&&ak(r.data.wxa_client_check.check_logic.vocab_list),r.data.wxa_client_check.gray_pub_mode&&eT();var a=[];for(var o of r.data.wxa_client_check.check_logic.xnet_list){var s,l=yield cT({xnet:o,reg_list:r.data.wxa_client_check.check_logic.reg_list},r.data.wxa_client_check.debug_data,r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_code:null);l.taskId=r.data.wxa_client_check.task_id,l.checkConfig=r.data.wxa_client_check.timing,l.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,l.debug_codes=l.debug?r.data.wxa_client_check.debug_code:null,l.runTiming=null===(s=o.sub_timing)||void 0===s?void 0:s.event_list,a.push(l)}if(!a.length&&r.data.wxa_client_check.check_logic.reg_list){var c=[];if(r.data.wxa_client_check.check_logic.reg_list.forEach((({preset_data:e})=>{c.push(zP(e))})),c.length){var u={regCheckCfg:r.data.wxa_client_check.check_logic.reg_list,domTextPreset:c};u.taskId=r.data.wxa_client_check.task_id,u.checkConfig=r.data.wxa_client_check.timing,u.debug=1===r.data.wxa_client_check.debug_mode?r.data.wxa_client_check.debug_data:null,a.push(u)}}1===r.data.wxa_client_check.timing.at_redirect&&(dT=1),e(a)}catch(e){t(e)}}));return function(e){return r.apply(this,arguments)}}()).catch(t)})),lT=[],cT=function(){var e=Vp()((function*(e,t,r){var n,i={},{model_url:a,model_name:o,cli_param_list:s=[],svr_param_list:l=[],conf_name:c,allowNPU:u,allowQuantize:d,typicalShape:p}=e.xnet||{},h=null!==(n=e.reg_list)&&void 0!==n?n:[],f=[],g=!1,v=!1;if([...h,...s].forEach((e=>{var{preset_data:t}=e;"screenshot"===t&&(v=!0),!f.includes(t)&&t&&aT.includes(t)&&f.push(zP(t))})),a){var m={};s.forEach(((e,t)=>{var r;if(null!==(r=e.union)&&void 0!==r&&r.length){m[e.key]=e.union;var n="screenshot"!==e.preset_data,i="screenshot"===e.preset_data;e.union.forEach((t=>{"screenshot"!==s[t].preset_data?n=!0:i=!0,n&&i&&(e.isMultiModal=!0)}))}if(e.preposition){if(!s[t])throw new Error(`unexpect config: ${e.key} exist an illegal preposition`);s[t].asPreposition=!0}}));for(var y=function*(e){var t,n,a,o=s[e],{preset_data:l,pre_proc:c}=null!=o?o:{},{proc_name:u,param:d}=null!=c?c:{};i[o.key]={type:o.type||"int32",shape:o.shape_list,getData:(a=Vp()((function*(e,t,{customShape:n,sdkUtils:a={}}={}){var s;if(r&&-1!==(s=r.findIndex((e=>e.func_name===u)))){var c,p=r[s].code;try{c=yield xP(p,void 0!==t?t:e[zP(l)],d,null!=n?n:o.shape_list,a)}catch(e){console.error("contentCheck debug safeEval occur error:",e)}return c}if(i[o.key].prepositionPreHandler){var h=i[i[o.key].prepositionPreHandler];if(h){var f=yield h.getData(e,t,{customShape:n});return yield AP(f,zP(l),u,d,null!=n?n:o.shape_list,t)}}return yield AP(e,zP(l),u,d,null!=n?n:o.shape_list,t)})),function(e,t){return a.apply(this,arguments)}),prepositionPreHandler:null===(t=s[o.preposition])||void 0===t?void 0:t.key,isMultiModal:!!o.isMultiModal,modalType:"screenshot"===o.preset_data?"image":"text",param_ctrl:o.param_ctrl||{}},i[o.key].isMultiModal&&(g=!0),Object.keys(m).forEach((t=>{if(-1!==m[t].indexOf(e)){var r;if(null!==(r=o.union)&&void 0!==r&&r.length)throw new Error(`unexpect config: unionsponsor: ${o.key} is also the unionmember`);i[o.key].unionMember=!0}})),null!==(n=o.union)&&void 0!==n&&n.length&&(i[o.key].unionMembers=o.union.map((e=>({key:s[e].key,ready:!1}))))},b=0;b<s.length;b++)yield*y(b);l.forEach((e=>{i[e.key]={type:e.type,shape:e.shape_list,data:LP(e.base64_data)}}))}lT.push(...f),lT=Array.from(new Set(lT));var _=[];v||lT.forEach((e=>{6!==e&&7!==e&&8!==e||_.push(e)}));var w=!1;return(lT=lT.filter((e=>!(6===e||7===e||8===e)))).length||(w=!0),{onlyInteractionCheck:w&&!v,modelName:o,model:a,config:i,domTextPreset:lT,interactionPreset:_,regCheckCfg:h,key:c,cliParamList:s,isScreenshot:v,isMultiModal:g,allowNPU:!!u,allowQuantize:!!d,typicalShape:p}}));return function(t,r,n){return e.apply(this,arguments)}}(),uT=function(){var e=Vp()((function*(e,t,r,{customShape:n,debugCustomReport:i}={}){for(var a of Object.values(e))"function"==typeof a.getData&&(a.data=yield a.getData(t,r,{customShape:n,sdkUtils:{debugCustomReport:i}}));return e}));return function(t,r,n){return e.apply(this,arguments)}}(),dT,pT=()=>{var e,t;return null!==(e=L)&&void 0!==e&&null!==(t=e.getCurrentRouteStartTime)&&void 0!==t&&t.call(e)?Date.now()-L.getCurrentRouteStartTime()>2e3?dT:void 0:-1},hT=(e,t)=>t.map((t=>{var r=e[zP(t.preset_data)],n=new RegExp(t.reg_exp);return{id:t.id,match:n.test(r)}})),fT=function(){var e=Vp()((function*(e,t){return nk(e,t)}));return function(t,r){return e.apply(this,arguments)}}(),gT=null,vT,mT=(e={})=>{var t=Date.now();return new Promise(((r,n)=>{invokeWebviewMethod("getDOMContent",{type:e.type},void 0,(e=>{null!=e&&e.errMsg?n(e.errMsg):r({res:e,cost:Date.now()-t})}))}))},yT=(e={})=>{var t=Date.now();return new Promise(((r,n)=>{iS("getMultiDOMContent",{types:e.types},void 0,(e=>{null!=e&&e.errMsg?n(e.errMsg):r({res:e,cost:Date.now()-t})}))}))},bT=(e,t,r=!0)=>{var n;return n||Promise.resolve("")},_T=Um("MultiModalCheck",{noCache:!0}),wT,ST=(e,t,r={})=>new Promise(((n,i)=>{if(wT)return n(wT);fT(e,t).then((e=>{var t={...r};t.typicalShape||delete t.typicalShape;var a=kw({model:e,...t});a.onLoad((()=>{wT=a,n(a)})),a.onError((e=>{wT||i(e)}))})).catch((e=>{i(e)}))})),CT=(e,t)=>{void 0===e&&(e=[]);try{var r,n=Date.now();return e.length&&(r=hT(t,e)),{regRes:r,errMsg:null,cost:Date.now()-n}}catch(e){return{errMsg:e.message,cost:-1}}},kT=function(){var e=Vp()((function*(e,t,r,n,i,a,{customShape:o,isMultiModal:s,screenshotCheck:l,debug:c,preMultiDomContent:u=!1}={}){void 0===i&&(i={});var d,p=[];if(!t)return{xnetRes:null,errMsg:null,logicCost:p};try{var h=Date.now();nT(2,{sessionId:e}),d=yield ST(t,r,n),nT(3,{sessionId:e});var f=Date.now()-h;p.push({logic_type:2,time_cost:f})}catch(e){return{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:p}}try{var g=Date.now();if(nT(4,{sessionId:e}),s&&l)return _T.advancePublish("requestScreenshotData",{shape:o,data:a},!0),{isMultiModal:!0};if(s){var v,m=Object.entries(n).filter((([e,t])=>"text"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{}),y=HP(),b=iT(y,e);yield uT(m,i,a,{customShape:o,debugCustomReport:b});var w=new Promise((e=>{v=e}));_T.on("requestScreenshotData",(e=>{v(e)}));var S=yield w,C=Object.entries(n).filter((([e,t])=>"image"===t.modalType)).reduce(((e,[t,r])=>(e[t]=r,e)),{});yield uT(C,i,S.data,{customShape:S.shape})}else u||(yield uT(n,i,a,{customShape:o}));nT(5,{sessionId:e});var k,I={},P=function*(){if("allowNPU"===T||"allowQuantize"===T||"typicalShape"===T)return"continue";var e=n[T];if(e&&e.param_ctrl&&e.param_ctrl.remove_from_model_input)return"continue";if(I[T]=n[T],c&&"image"===n[T].modalType)try{k=yield bT(n[T].data,[n[T].shape[2],n[T].shape[3]],!1)}catch(e){}};for(var T in n)yield*P();var A=Date.now()-g;p.push({logic_type:3,time_cost:A});var x=Date.now(),E=yield d.run(I);for(var M of(d.reportCurrentResult(),Object.keys(n))){var R=n[M];R&&R.param_ctrl&&R.param_ctrl.do_report&&(E[M]=R)}var D=Date.now()-x;return p.push({logic_type:4,time_cost:D}),nT(6,{sessionId:e}),{xnetRes:E,logicCost:p,multimodalScreenshotId:k}}catch(e){return _.warn("xnet inference error: ",e),{xnetRes:null,errMsg:e.message||e.errMsg,logicCost:p}}}));return function(t,r,n,i,a,o){return e.apply(this,arguments)}}(),IT=function(){var e=Vp()((function*(){var e=yield QP();if(e){var{domTextPreset:t}=e;return yield yT({types:t})}}));return function(){return e.apply(this,arguments)}}(),PT=1,TT=!0,AT=function(){var e=Vp()((function*(e,t,r){var n=yield QP(void 0,!0);if(n&&n.length){var i=PT++;TT&&(TT=!1,nT(1,{sessionId:i}));var a,o,s,l=[],{domTextPreset:c,regCheckCfg:u,taskId:d,debug:p}=n[0],h=p?L.getCurrentFullyRoutePath():L.getCurrentRoutePath(),f=Date.now();t||r?o=!0:t=yield yT({types:c}),s=t;var g,v,{res:m,cost:y}=s;o&&(m=t,y=0),m.htmlId&&(g=m,m=m.domData),r?v={regRes:void 0,errMsg:void 0,cost:0}:(v=CT(u,m)).errMsg&&(a=v.errMsg),l.push({logic_type:1,time_cost:v.cost});var b=!1,_=[],w=n.map(function(){var e=Vp()((function*(e){if(!e.asPreposition&&!e.unionMember&&(!e.isScreenshot||e.isMultiModal)){e.isMultiModal&&(b=!0);var{modelUrl:t,cfg:n,modelName:s,key:l,isMultiModal:c,runTiming:u=[]}=e;if(("modal"!==r||u.includes("at_modal"))&&("toast"!==r||u.includes("at_toast"))&&("clipboard"!==r||u.includes("at_clipboard"))){var{xnetRes:d,errMsg:h,logicCost:f,multimodalScreenshotId:g}=yield kT(i,t,s,n,m,r?m:void 0,{isMultiModal:c,debug:p,preMultiDomContent:o}),v={conf_name:l,xnet_res:d,errmsg:h,logic_cost_time_list:f,multimodalScreenshotId:g};if(p){var y=[];for(var w of Object.keys(n)){var S,C=n[w],k=OP(C.data);(null===(S=k)||void 0===S?void 0:S.length)>2e4&&(k=k.slice(0,2e4)+":size over max"),y.push({key:w,type:C.type,shape_list:C.shape,base64_data:k})}v.debug_data={xnet_param:y}}_.push(v),h&&(a=h)}}}));return function(t){return e.apply(this,arguments)}}());if(yield Promise.all(w),_.length||v.regRes||a){var S,C=Date.now()-f;if(l.push({logic_type:5,time_cost:y}),b&&p){var k,I=new Promise((e=>{k=e}));_T.on("screenshotUpload",(e=>{S=e,k()})),yield I}var P=e;"toast"===r?P=21:"modal"===r?P=22:"clipboard"===r?P=23:"loading"===r&&(P=24),rT({taskId:d,xnetResList:_,regResList:v.regRes,curPath:h,runScene:P,runTime:Date.now(),costTime:C,errMsg:a,debug:p,domTextPresetData:m,blockTime:-1,logicCostList:l,contentId:b?3:1,screenShotId:S,webviewCfg:g,sessionid:i,interactionType:r})}}}));return function(t,r,n){return e.apply(this,arguments)}}(),xT=function(){var e=Vp()((function*(e,t,r,n){var{taskId:i,debug:a}=e[0],o=PT++;if(t){var s;a&&(s=bT(t,[r[1],r[0]],!0));var l,c=Date.now(),u=!1,d=e.map(function(){var e=Vp()((function*(e){if(e.isScreenshot){var{modelUrl:n,cfg:i,modelName:s,key:c,isMultiModal:d}=e,{xnetRes:p,errMsg:h,logicCost:f}=yield kT(o,n,s,i,null,t,{customShape:r,isMultiModal:d,screenshotCheck:!0,debug:a});if(h&&(l=h),d)return void(u=!0);var g={conf_name:c,xnet_res:p,errmsg:h,logic_cost_time_list:f};return a&&(g.debugCfg=e.cfg),g}}));return function(t){return e.apply(this,arguments)}}()),p=yield Promise.all(d);p=p.filter((e=>e));var h,f=Date.now()-c;if(s)try{h=yield s}catch(n){}u&&a&&_T.advancePublish("screenshotUpload",h,!0),h&&p.forEach((e=>{var t=[];if(e&&e.debugCfg){for(var r of Object.keys(e.debugCfg))t.push({key:r,type:"screenshot",shape_list:null,base64_data:h});delete e.debugCfg,e.debug_data={xnet_param:t}}})),rT({taskId:i,xnetResList:p,regResList:null,curPath:a?L.getCurrentFullyRoutePath():L.getCurrentRoutePath(),runScene:11,runTime:Date.now(),costTime:f,errMsg:l,debug:h,domTextPresetData:null,blockTime:-1,logicCostList:[],contentId:2,sessionid:o})}else rT({taskId:i,xnetResList:null,regResList:null,curPath:a?L.getCurrentFullyRoutePath():L.getCurrentRoutePath(),runScene:11,runTime:Date.now(),costTime:-1,errMsg:n,debug:a,domTextPresetData:null,blockTime:-1,logicCostList:[],specialCase:[{key:"support_screenshot",value:"false"}],contentId:2,sessionid:o})}));return function(t,r,n,i){return e.apply(this,arguments)}}(),ET,MT,RT=new Promise((e=>{MT=e})),DT;re.onReady((()=>{DT=Vh("reportRequestErrorByAI")}));var OT=e=>{ET=e,MT(e)},LT=()=>ET,NT=e=>{var t=e[Object.keys(e)[0]];return"float32"===t.type?Array.prototype.slice.call(new Float32Array(t.data)):null},BT=function(){var e=Vp()((function*(e){if(ET&&DT){var t=yield QP(ET);if(t){var{modelUrl:r,modelName:n,cfg:i}=t,a=(yield kT(void 0,r,n,i,void 0,e)).xnetRes;return!!(a=NT(a))&&a[0]-a[1]}}}));return function(t){return e.apply(this,arguments)}}(),$T=(e,t={})=>{if(Array.isArray(e))return e.reduce(((e,t,r)=>(e[r]=$T(t),e)),[]);if(!dt(e))return e;for(var r of Object.getOwnPropertyNames(e)){var n=e[r];t[r]=$T(n)}return t};function FT(e){var t="";if("string"==typeof e)t=e;else try{t=JSON.stringify(e)||""}catch(r){t=Ze(e)}return t.replace(/,/g,";").substr(0,1024)}var jT={pay:"WePayVIPAppRequestError",goverment:"WeAppRequestError",interactiveApiPay:"WePayVIPAppInteractiveApiError",interactiveApiGoverment:"WeAppInteractiveApiError"};function WT(e,t,{point:r,schemaVersion:n,key:i,kvResult:a,routePath:o,networkType:s,nlpRet:l,aiConsistent:c,reportType:u}={}){var d=t.errno,p=jT[u];M.reportKeyValue({key:p,value:[s,e.url,t.errMsg,t.statusCode,FT(e.header),FT(e.data),FT(t.header),FT(t.data),e.method,Nu().scene,encodeURIComponent(Nu().scene_note||Nu().sceneNote),UT,d,n,encodeURIComponent(i),encodeURIComponent(r),encodeURIComponent(a),o,void 0===l?-2:l,c].join(",")})}var VT=Math.random,UT=void 0!==l&&l?l.version:"unknown",zT=!1,qT=!1,HT=0,GT=e=>{var t=re.appLaunchInfo&&re.appLaunchInfo.scene;if(e&&"object"==typeof e){var r,n=e[t]||e.all,i=e.nlpKey;if(n)if(qT=Vh("reportPayVIPQuality"),zT=qT||Vh("reportRequestError2"),HT=null!==(r=n.ratio)&&void 0!==r?r:1,L.allowReportLoadingTime(),zT)return OT(i),!0;return Vh("reportRequestError3")?(zT=!0,HT=1,L.allowReportLoadingTime(),OT(i),!0):void 0}},KT=!1,JT=()=>KT=!0;function XT(e){try{e.data=JSON.parse(e.data)}catch(e){}}function YT(e,t,{uuid:r,invokeTime:n,dataType:i,networkType:a,routePath:o}={}){var s=L.shouldStartReport();if(zT&&VT()<HT||s||KT){var l=L.getCurrentRoutePath(),c=Date.now()-n;e=$T(e);var u=(t=$T(t)).data,d=Promise.resolve().then(Vp()((function*(){if("string"!=typeof u)return-3;try{JSON.parse(u)}catch(e){return-3}return yield BT(u)}))).catch((()=>-3));Ip().runTask("checkRequest",{response:t,requestData:e,checkResponse:!0,delay:!0}).then((e=>d.then((t=>(e.nlpRet=t,e))))).then((n=>{try{"json"===i&&XT(t);var{isImportantRequest:u,nlpRet:d}=n;if((n.hasError||d>0)&&zT){var{point:p,reportBody:h,reportArgs:f,schemaVersion:g,key:v,kvResult:m}=n;e.data&&(e.data=f),t.data&&(t.data=h),WT(e,t,{point:p,schemaVersion:g,key:v,kvResult:m,networkType:a,routePath:o,nlpRet:d,aiConsistent:d>0&&n.hasError?1:2,reportType:qT?"pay":"goverment"})}if(s){var y={isimportant:u,errMsg:t.errMsg,errno:t.errno},b=n.hasError;b&&(y.errinfo=t.errMsg||n.point,y.noFilterRes=!0),L.traceApi("request",e,t,b,r,c,!0,y)}if(KT&&u){var{sensitiveRequestPoint:w,sensitveResponsePoint:S}=n;[w,S].forEach(((t,r)=>{null!=t&&t.length&&M.reportKeyValue({key:"WeAppSensitiveRequest",value:[0===r?0:1,Bd(e.url),e.method,null,l,t.join(",")].map(encodeURIComponent).join(",")})}))}}catch(e){_.error("resolve 24247 worker error:",e)}})).catch((e=>{_.error("report 24247 error:",e)}))}}var QT=(e,t)=>`0,0,${e?2:t?3:0}, ${e||t?2:0}`,ZT=(e={})=>{if(zT){var{apiName:t,content:r="",routePath:n,networkType:i,title:a=""}=e,o=qT?"interactiveApiPay":"interactiveApiGoverment";o=jT[o];var s=a+","+r;"showModal"!==t&&"showToast"!==t||Ip().runTask("resolveInteractiveApiContent",{apiName:t,content:s}).then((e=>{if(e.result){var r;r="showModal"===t?1:"showToast"===t?2:3;var a=Nu().instanceId||Nu().sessionid,l=[t,encodeURIComponent(s),n,a,r,i,encodeURIComponent(QT(e.hitUserLowPriortyCustom,e.hitUserHighPriorityCustom))].join(",");M.reportKeyValue({key:o,value:l})}})).catch((e=>{_.error("resolveInteractiveApiContent:",e)}))}},eA=new RegExp("name_not_resolved","i"),tA=e=>eA.test(e.errMsg),rA=(e,t,r)=>!sg()&&(!(!Vh("useFreeHttpDns")||!tA(e))&&(qA(t,r),!0)),nA=void 0===l?{version:"9.9.9",updateTime:"unknown"}:l,iA=nA,aA=()=>({updateTime:nA.updateTime,version:nA.version});function oA(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var r=e.split("."),n=t.split("."),i=Math.max(r.length,n.length);r.length<i;)r.push("0");for(;n.length<i;)n.push("0");for(var a=0;a<i;a++){var o=parseInt(r[a],10),s=parseInt(n[a],10);if(o>s)return 1;if(o<s)return-1}return 0}function sA(e){if("string"!=typeof e)return String(Number.parseInt(e,10));for(var t,r=0;r<e.length;r++)if(!Number.isNaN(parseInt(e[r],10))){t=r;break}return e.slice(t)}function lA(e,t){return e||t?e?t?oA(sA(e),sA(t)):1:-1:0}var cA=!1,uA,dA,pA;re.onReady((()=>{var e,t,r,n,i,a,o,s,l,c,u,d,p,h,f;(null!==(e=re.appContactInfo)&&void 0!==e&&null!==(t=e.stablePassThroughInfo)&&void 0!==t&&null!==(r=t.wxcloud_gateway_conf)&&void 0!==r&&r.enabled||null!==(n=re.appContactInfo)&&void 0!==n&&null!==(i=n.wxcloud_gateway_conf)&&void 0!==i&&i.enabled)&&(cA=!0,uA=null===(a=re.appContactInfo)||void 0===a||null===(o=a.stablePassThroughInfo)||void 0===o?void 0:o.wxcloud_gateway_conf,(dA=null===(s=re.appContactInfo)||void 0===s||null===(l=s.passThroughInfo)||void 0===l?void 0:l.wxcloud_gateway)&&null!==(c=re.appContactInfo)&&void 0!==c&&null!==(u=c.stablePassThroughInfo)&&void 0!==u&&null!==(d=u.wxcloud_gateway_conf)&&void 0!==d&&d.lite_gateway_info&&(pA=null===(p=re.appContactInfo)||void 0===p||null===(h=p.stablePassThroughInfo)||void 0===h||null===(f=h.wxcloud_gateway_conf)||void 0===f?void 0:f.lite_gateway_info))}));var hA=!1;function fA(e,{host:t,compatUrls:r,args:n,__retryAccelFallback__:i}){var a,o,s,c,{disableAccelerate:u,url:d,header:p}=n,h=~~(Date.now()/1e3),f=null===(a=dA)||void 0===a?void 0:a.auth_info,g=null===(o=dA)||void 0===o?void 0:o.user_selected,v=e.forward_info_list,m=null==v?void 0:v.find((e=>e.url_prefixes.find((e=>d.startsWith(e))))),y=l.version,b="any"===(null===(s=uA)||void 0===s?void 0:s.env_version)||null===(c=uA)||void 0===c?void 0:c.env_version;if(!g||!f||h>f.exp||h-f.iat>86400||b&&re.envVersion!==b||u||i||hA||oA(y,e.min_lib_version)<0||!m)return i&&(hA=!0),{accelerateOptions:{accelerateType:Gv.none}};var _=uA.domain,w=t,S=d.replace(w,_),C=p,k=Object.assign({},C,{"x-wx-lite-gw-token":String(f.token),"x-wx-port":String(m.port),"x-wx-route-tag":String(m.route_tag),"x-wx-rid":String(f.rid)});return{accelerateOptions:{accelerateType:Gv.liteGatewayAcc},host:_,args:Object.assign({},n,{url:S,header:k,enableHttp3:!0}),compatUrls:Object.assign({},r,{host:_,url:S}),header:k}}function gA({options:e,res:t,task:r}){return hA=!0,{args:Object.assign({},e.originArgs,{url:e.accelerateOptions.rawUrl,header:e.accelerateOptions.rawHeader,enableHttp3:e.accelerateOptions.rawEnableHttp3}),innerArgs:{__retryAccelFallback__:!0}}}function vA(e){var t,r,n,i,a;try{if(pA){var{host:o,args:s,options:l}=e,{accelerateOptions:c,...u}=fA(pA,{host:o,args:s,compatUrls:e.compatUrls,__retryAccelFallback__:l.__retryAccelFallback__});if(c.accelerateType===Gv.liteGatewayAcc)return Object.assign({},u,{accelerateOptions:Object.assign({},c,{rawHost:o,rawUrl:s.url,rawHeader:s.header,rawEnableHttp3:s.enableHttp3})})}}catch(e){return}if(cA)if(e.host!==uA.domain){if(!e.options.__skipDomainCheck__){var d=null===(t=(r=__cloudSDKMain__).getRequestMiddleware)||void 0===t?void 0:t.call(r,re)(e.args);return d?new Promise(((e,t)=>d(e,t))):void 0}}else if(null!==(n=e.args.useGatewayIp)&&void 0!==n&&n.enabled&&null!==(i=dA)&&void 0!==i&&null!==(a=i.prefetch_ip)&&void 0!==a&&a.ip){var p,h;if(Number(dA.prefetch_ip.exp)>~~(Date.now()/1e3))return e.args.useGatewayIp.state=2,{ip:null===(p=dA)||void 0===p||null===(h=p.prefetch_ip)||void 0===h?void 0:h.ip,skipDNS:jv};e.args.useGatewayIp.state=3}else{var f;!1===(null===(f=e.args.useGatewayIp)||void 0===f?void 0:f.enabled)?e.args.useGatewayIp.state=4:e.args.useGatewayIp&&(e.args.useGatewayIp.state=1)}}var mA=0,yA=/custom ip is invalid/;$m("Request",{maxTaskCount:10,functionName:"request"}),re.onReady((()=>{try{"number"==typeof re.wxAppInfo.maxRequestConcurrent&&$m("Request",{maxTaskCount:re.wxAppInfo.maxRequestConcurrent})}catch(e){}}));var bA=null;class _A extends xm{constructor(e){var t=null==e?void 0:e.__wx_inner_uuid__,r=null==e?void 0:e.__wx_inner_invokeTime__,n=null==e?void 0:e.__wx_inner_request_network_type__,i=null==e?void 0:e.__wx_request_route_path__,a=null==e?void 0:e.rawHttpDnsError;null==e||delete e.__wx_inner_uuid__,null==e||delete e.__wx_inner_invokeTime__,null==e||delete e.__wx_inner_request_network_type__,null==e||delete e.__wx_request_route_path__;var o={JSApiType:1,invokeTime:Date.now(),requestingCount:++mA,jsApiVersion:0};super(e,{taskType:"Request",beforeSend:t=>(t.responseType=e.responseType,t),beforeSuccess:s=>{if(s.profile&&(s.profile.usingHighPerformanceMode=!!s.profile.usingHighPerformanceMode),Ng[e.host]||(Ng[e.host]={needUpdateDns:!1,protocol:e.protocol}),a||e.exception){var l=a||e.exception;s.exception={reasons:l},(null==e?void 0:e.retryCount)>0&&(s.exception.retryCount=e.retryCount)}Uk(),e.host&&e.ip&&am(e.host,e.ip),o.isSuccess=!0,SA(s),kA(s),IA(s),e.enableHttpDNS&&(s.useHttpDNS=!!e.ip);try{YT(e,s,{uuid:t,invokeTime:r,dataType:e.dataType,networkType:n,routePath:i})}catch(e){_.error("checkAndReportError error:",e)}"json"===e.dataType&&CA(s,e._jsonParse);if(e.__retryHttpDNS__){void 0===s.profile&&(s.profile={});var c=s.profile.domainLookUpStart-s.profile.fetchStart;s.profile.domainLookUpStart=e.lastRequestStartTime,s.profile.fetchStart=e.lastRequestStartTime-c,Wm({url:e.lastUrl,result:0,fullCost:Date.now()-r,host:e.lastHost,cost:e.weHttpDNSCoast,pointCacheType:e.hitCache})}var u=e.accelerateOptions.accelerateType;if(s.accelerateType=Kv[u],u===Gv.accelerate){if(s.statusCode>=400){var{args:d,innerArgs:p}=Qv({options:e,res:s,task:this});return HA(d,p),{__retry__:!0}}var h=Jv(s);s.accelerateRequestId=h}else if(u===Gv.liteGatewayAcc&&s.header&&s.header["x-wx-system-error"]){var{args:f,innerArgs:g}=gA({options:e,res:s,task:this});return HA(f,g),{__retry__:!0}}return wA(s,o,e),s},beforeFail(s){var l,c=!1;if(e.enableHttpDNS&&(s.useHttpDNS=!!e.ip),o.isSuccess=!1,wA(s,o,e),s.errMsg&&yA.test(s.errMsg)){var u=!0,d=Date.now()-e.startTimestamp,p="number"==typeof e.timeout?e.timeout:6e4;if(d>p&&(u=!1),u){var h,f=e.__retryHttpDNS__;if(null!==(h=e.candicateIps)&&void 0!==h&&h.length){var g=e.exception;g||(g=[]),g.push({errno:600001,errmsg:s.errMsg});var v=e.candicateIps[0],m=e.candicateIps.slice(1);return HA(e.originArgs,{__innerRequestOptions__:{ip:v,candicateIps:m,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:p-d,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:g,__retryHttpDNS__:f,redirect:e.redirect},__skipParse__:!0}),{__retry__:!0,__httpdns_poll__:!0}}if(e.ip&&!e.__polyfill_ldns__){var y=e.exception;return y||(y=[]),y.push({errno:600001,errmsg:s.errMsg}),HA(e.originArgs,{__innerRequestOptions__:{ip:null,candicateIps:null,port:e.port,forbidReuse:e.forbidReuse,host:e.host,enableChunked:e.enableChunked,__skipDomainCheck__:e.__skipDomainCheck__,forceCellular:e.forceCellularNetwork,enableHttp2:!0===e.enableHttp2,enableHttp3:!0===e.enableHttp3,enableQuic:!0===e.enableQuic,enableCache:!0===e.enableCache,enableProfile:!1!==e.enableProfile,timeout:p-d,protocol:e.protocol,compatUrls:e.compatUrls,retryCount:e.retryCount+1,exception:y,__polyfill_ldns__:!0,__retryHttpDNS__:f,redirect:e.redirect}}),{__retry__:!0,__polyfill_ldns__:!0}}}}if(e.accelerateOptions.accelerateType===Gv.accelerate){var{args:b,innerArgs:w}=Qv({options:e,res:s,task:this});return HA(b,w),{__retry__:!0}}if(e.accelerateOptions.accelerateType===Gv.liteGatewayAcc){var{args:S,innerArgs:C}=gA({options:e,res:s,task:this});return HA(S,C),{__retry__:!0}}if(e.__retryHttpDNS__){var k;Wm({url:e.lastUrl,result:1,fullCost:Date.now()-r,pointCacheType:e.hitCache,errMsg:s.errMsg,errno:s.errno,host:e.lastHost,cost:null!==(k=e.weHttpDNSCoast)&&void 0!==k?k:-1}),c=e.lastErrorResponse}else{var I,P=e.exception;if(rA(s,e.originArgs,{lastRequestStartTime:e.currentRequestStartTime,lastErrorResponse:s,lastUrl:e.url,lastHost:e.host,__polyfill_ldns__:!0,retryCount:null!==(I=e.retryCount)&&void 0!==I?I:0,exception:P}))return{__retry__:!0,__freehttpdns__:!0}}try{YT(e,s,{uuid:t,invokeTime:r,networkType:n,routePath:i})}catch(e){_.error("checkAndReportError error:",e)}(a||e.exception)&&(l={reasons:a||e.exception},(null==e?void 0:e.retryCount)>0&&(l.retryCount=e.retryCount));return c?{__changeError__:{...c,exception:l}}:s}}),this.taskInvoker&&this.taskInvoker.jsapiVersion&&(o.jsApiVersion=this.taskInvoker.jsapiVersion)}}function wA(e,t,r){var n=Date.now();if(mA--,t.costTime=n-t.invokeTime,e.clientInfo&&"object"==typeof e.clientInfo){var i=e.clientInfo;t.wxdataQueueTimestamp=i.invokeTime,t.wxdataDequeueTimestamp=i.invokeTime,t.beginCGITimestamp=i.beginCGITimestamp,t.CGICallbackTimestamp=i.CGICallbackTimestamp,t.wxlibCallbackTimestamp=i.wxlibCallbackTimestamp,t.cost1=t.wxdataQueueTimestamp-t.invokeTime,t.cost2=t.wxdataDequeueTimestamp-t.wxdataQueueTimestamp,t.cost3=t.beginCGITimestamp-t.wxdataDequeueTimestamp,t.cost4=t.CGICallbackTimestamp-t.beginCGITimestamp,t.cost5=t.wxlibCallbackTimestamp-t.CGICallbackTimestamp,t.cost6=n-t.wxlibCallbackTimestamp,r&&r.__wxUseProfile__&&(e.__requestProfileInfo=t),delete e.clientInfo}}function SA(e){"string"==typeof e.data&&65279===e.data.charCodeAt(0)&&(e.data=e.data.substr(1))}function CA(e,t){try{e.data=(t||JSON.parse)(e.data)}catch(e){}}function kA(e){e.statusCode=parseInt(e.statusCode,10)}function IA(e){"object"==typeof e.header&&(e.header=Object.keys(e.header).reduce(((t,r)=>(Array.isArray(e.header[r])?t[r]=e.header[r].join(","):"string"==typeof e.header[r]&&(t[r]=e.header[r]),t)),{}))}const PA=_A;var TA=new WeakMap;class AA{constructor(){var e,t=new Promise((t=>{e=t}));TA.set(this,{promise:t,resolve:e})}abort(){var{promise:e}=TA.get(this);e.then((e=>{e.abort()}))}onHeadersReceived(e){var{promise:t}=TA.get(this);t.then((t=>{t.onHeadersReceived(e)}))}offHeadersReceived(e){var{promise:t}=TA.get(this);t.then((t=>{t.offHeadersReceived(e)}))}onChunkReceived(e){var{promise:t}=TA.get(this);t.then((t=>{t.onChunkReceived(e)}))}offChunkReceived(e){var{promise:t}=TA.get(this);t.then((t=>{t.offChunkReceived(e)}))}onProgressUpdate(e){var{promise:t}=TA.get(this);t.then((t=>{t.onProgressUpdate(e)}))}offProgressUpdate(e){var{promise:t}=TA.get(this);t.then((t=>{t.offProgressUpdate(e)}))}}var xA=(e,t)=>{var{resolve:r}=TA.get(e);r(t)},EA={},MA=3e4,RA=!1;function DA({args:{url:e,__wx_inner_invokeTime__:t},host:r,needHttpdns:n=!1,options:{__retryHttpDNS__:i,lastErrorResponse:a,__refuseDns__:o=!1}}){var s,l;if((i||n)&&!o)if((null===(s=EA[e])||void 0===s?void 0:s.count)>=4)Wm({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:"we_reject_free_httpdns",errno:10455,host:r});else if(!sg()){if(RA){var c=nm(r);if(c&&!1===c.expired)return l=c.ip,{host:r,ip:l,hitCache:1}}var u=Date.now();return rm(r,void 0,!0).then((e=>{l=e.ip;var t=e.hitCache?2:0,n=Date.now()-u;return{host:r,ip:l,banHttpDNS:!0,weHttpDNSCoast:n,hitCache:t}})).catch((n=>{if(602107!=n.errno){EA[e]?EA[e].count++:EA[e]={count:1};var i=setTimeout((()=>{delete EA[e]}),MA);EA[e].cf&&clearTimeout(EA[e].cf),EA[e].cf=i}throw Wm({url:e,result:1,fullCost:Date.now()-t,pointCacheType:0,errMsg:n.errMsg||n.message||n.msg,errno:n.errno,host:r}),a}))}}(Ie||ke)&&(RA=!0);var OA=({args:e})=>!0!==e.forceCellularNetwork?void(e.forceCellularNetwork&&delete e.forceCellularNetwork):qk().then((t=>{if(t)return{forceCellularNetwork:!0};e.forceCellularNetwork&&delete e.forceCellularNetwork})),LA=e=>{if(!e)return!1;if("."===e[0])return!0;for(var t,r,n=0;n<e.length;n++){if(r=e[n],"."===t&&"."===r)return!0;t=r}return!1};function NA({host:e}){if(LA(e))throw new Error(`invalid host: ${e}`)}var BA=!1;function $A({host:e}){var t,r;return BA?(null!==(t=Ng[e])&&void 0!==t&&t.needUpdateDns&&(Ng[e].doingDns||(Ng[e].doingDns=!0,HA({url:`${Ng[e].protocol}//${e}`,timeout:5e3,complete(){Ng[e].doingDns=!1,Ng[e].needUpdateDns=!1}},{__refuseDns__:!0})),r=!0),{needHttpdns:r}):{needHttpdns:!1}}re.onReady((()=>{1===Number(re.expt.clicfg_appbrand_ios_dns_polyfill)&&(BA=!0)}));class FA{constructor(e){this.innerParams=e,this.asyncTasks=[]}use(e){if(!this.catchFn)return this;var t;try{t=e(this.innerParams,this.asyncTasks)}catch(e){return this.catchFn&&this.catchFn(e),delete this.catchFn,this}if(t)if(t instanceof Promise){var r=t.then((e=>{e&&Object.assign(this.innerParams,e)}));this.asyncTasks.push(r)}else Object.assign(this.innerParams,t);return this}useAfterAsyncTasks(e){return this.catchFn?(this.asyncTasks.length>0?Promise.all(this.asyncTasks).then((()=>{this.use(e)})).catch((e=>e)):this.use(e),this):this}catch(e){return this.catchFn=e,this}execute(e){if(this.asyncTasks.length>0){var t=new AA;return Promise.all(this.asyncTasks).then((()=>{var e=this.createRequestTask();xA(t,e)})).catch((t=>{this.catchFn&&this.catchFn(t),"frame"!==(null==t?void 0:t.type)?delete this.catchFn:zc({name:"request",args:e,errno:Mn,errMsg:t.data,success:!1})})),t}return this.createRequestTask()}createRequestTask(){var{args:e,host:t,ip:r,header:n,method:i,port:a,responseType:o,dataStr:s,options:l,forbidReuse:c,currentRequestStartTime:u,lastRequestStartTime:d,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m,candicateIps:y,startTimestamp:b,timeout:_,protocol:w,compatUrls:S,rawHttpDnsError:C,retryCount:k,exception:I,__polyfill_ldns__:P,accelerateOptions:T}=this.innerParams;try{return new PA(Object.assign({},e,{header:n,method:i,responseType:o,data:s,ip:r,host:t,port:a,forbidReuse:c,currentRequestStartTime:u,lastRequestStartTime:d,originArgs:e,weHttpDNSCoast:p,hitCache:h,lastHost:f,lastUrl:g,__retryHttpDNS__:v,lastErrorResponse:m,__skipDomainCheck__:T.accelerateType===Gv.accelerate||T.accelerateType===Gv.liteGatewayAcc||l.__skipDomainCheck__,candicateIps:y,startTimestamp:b,timeout:_,protocol:w,compatUrls:S,rawHttpDnsError:C,retryCount:k,exception:I,__polyfill_ldns__:P,accelerateOptions:T}))}catch(e){return this.catchFn&&this.catchFn(e),void delete this.catchFn}}}var jA=(e={})=>(t={},r={})=>WA(Object.assign({},e,r))(t),WA=(e={})=>(e=Object.assign({__skipDomainCheck__:!1,__notAutofillContentType__:!1,__retryHttpDNS__:!1,__innerRequestOptions__:null,__skipParse__:!1,__refuseDns__:!1,__retryAccelFallback__:!1},e),function(t={}){var r;if(t.url){try{r=Lv(t.url)}catch(e){return void zc({name:"request",args:t,errno:na,errMsg:`invalid url "${t.url}"`,success:!1})}if("http:"===r.protocol||"https:"===r.protocol)if("function"!=typeof t.data){Vh("skipDomainCheck")&&(e.__skipDomainCheck__=!0);var n=new FA({args:t,options:e});if(n.catch((e=>{Vc("request",t,e.message||e.errMsg,e.errno)})).use(Av(r)).use((({options:e={}})=>e.__skipParse__?{host:e.__innerRequestOptions__.host,protocol:e.__innerRequestOptions__.protocol,compatUrls:e.__innerRequestOptions__.compatUrls}:{host:r.host,protocol:r.protocol,compatUrls:{port:r.port||("http:"===r.protocol?80:443),host:r.hostname,url:`${r.hostname||""}${r.pathname||""}${r.search||""}${r.hash||""}`}})).use($A).use(NA).use(Wv.bind(this)).use(Yv).use(DA).use(om).use(OA).use(vA).useAfterAsyncTasks(sm),n.catchFn)return n.execute(t)}else zc({name:"request",args:t,errno:ia,errMsg:"data should not be Function",success:!1});else zc({name:"request",args:t,errno:na,errMsg:`invalid url "${t.url}"`,success:!1})}else zc({name:"request",args:t,errno:zn,errMsg:`invalid url "${t.url}"`,success:!1})}),VA=WA({__skipDomainCheck__:!1}),UA=WA({__skipDomainCheck__:!0}),zA=WA({__skipDomainCheck__:!0,__notAutofillContentType__:!0}),qA=jA({__retryHttpDNS__:!0}),HA=jA(),GA=function(e={}){var t=getPluginId(this);if(checkPluginPermissionSync(t,"useRequest"))return UA.call(this,e);beforeInvokeFail("request",e,"no permission")},KA=void 0,JA=void 0;re.onReady((()=>{var e="clicfg_appbrand_ios_enable_jsopdata_mock";Wf({experimentId:e,experimentType:"Expt",success:e=>{var t;e&&((null===(t=e.testConfig)||void 0===t?void 0:t.length)>10&&(KA=e.testConfig))},fail(t){_.error(e,"failed",t)}})}));var XA=()=>new Promise(((e,t)=>{if(JA)return e(JA);var r;"string"==typeof KA&&KA.endsWith("?openid=")&&(r=`${KA}${re.appLaunchInfo.openId}`),r?UA({url:r,success(r){try{var n=JSON.parse(r.data.data);JA=n,e(n)}catch(e){console.error("get operateWXData mock config error: ",e),t(e)}},fail(e){t(e)}}):t("empty request url")})),YA=()=>!!KA,QA=new Set(["webapi_getadvert","advert_report","webapi_advideo_report","webapi_adfollow_report","webapi_wxahttpdns_getfreehostip"]),ZA=(()=>JSON.parse)(),ex=(e,t=!1,r=!1)=>({keepAlive:n,apiName:i="",reqData:a,sdkApiName:o="operateWXData",pluginId:s,success:l,fail:c,complete:u,fromComponent:d=!1,withCredentials:p=!1,showConfirm:h=!1,timeout:f=6e4,contextId:g,reserveDataString:v=!1,showApiVersion:m=!1,showProfile:y=!1,priority:b,reqDataList:w=[],batchType:S=0,adExtra:C}={})=>{var k={success:l,fail:c,complete:u},I={api_name:i,data:a||{},operate_directly:e};"string"==typeof s&&(I.plugin_appid=s),!0===d&&(I.from_component=!0),!0===p&&(I.with_credentials=!0),!0===h&&(I.show_confirm=!0);var P=0;r&&(I.batch_type=1001,I.data_list=w,P=S);var T=YA(),A=()=>{mf({keepAlive:n,data:I,timeout:f,contextId:g,priority:e?b:void 0,success(t){if("string"==typeof t.data)try{t.data=ZA(t.data)}catch(e){var n=Date.now();return t.reportObj.LibParseCost=n-t.reportObj.onJsCallbackTimestamp,t.reportObj.TotalCost=n-t.reportObj.invokeTime,t.reportObj.isSuccess=!1,t.reportObj.errMsg=`json parse error, json="${t.data}"`,t.reportObj.errno=di,of(t.reportObj),void zc({name:o,args:k,errno:di,errMsg:`json parse error, json="${t.data}"`,success:!1})}var{data:i={},reportObj:a}=t;delete t.data,delete t.reportObj;var{data:s,encryptedData:c,iv:d,cloud_id:p,err_no:h,signature:f,errmsg:g,quic_bytes:m,item_list:b}=i;if(delete i.quic_bytes,delete i.item_list,a.QuicBytes="number"==typeof m?m:0,e)void 0!==s&&(t.rawData=s),t.respData=i;else if("string"==typeof s)if(v)t.data={data:s};else try{t.data=ZA(s)}catch(e){var w=Date.now();return a.LibParseCost=w-a.onJsCallbackTimestamp,a.TotalCost=w-a.invokeTime,a.isSuccess=!1,a.errMsg=`json parse error, json="${s}"`,a.errno=di,of(a),void zc({name:o,args:k,errno:di,errMsg:`json parse error, json="${s}"`,success:!1})}else t.data={};f&&(t.signature=f),c&&(t.encryptedData=c,t.iv=d,p&&(t.cloudID=p)),r&&b&&(b.forEach((e=>{try{"string"==typeof e.resp&&e.resp?(e.resp=ZA(e.resp),"string"==typeof e.resp.data&&e.resp.data&&(e.resp.data=ZA(e.resp.data))):e.resp={}}catch(t){_.error("batch operatewxdata parse item error",t.message),e.resp={}}})),t.item_list=b);var S=Date.now();a.LibParseCost=S-a.onJsCallbackTimestamp,a.TotalCost=S-a.invokeTime,a.errno=h,of(a),"number"==typeof h&&0!==h?zc({name:o,args:k,errno:h,errMsg:g,success:!1}):(y&&(t.profile={TotalCost:a.TotalCost,JsToClientCost:a.JsToClientCost,QueueCost:a.QueueCost,ChildToMainProcessCost:a.ChildToMainProcessCost,MMNetCost:a.MMNetCost,MainToChildProcessCost:a.MainToChildProcessCost,ClientToJsCost:a.ClientToJsCost,MarsPackCost:a.MarsPackCost,MarsConnCost:a.MarsConnCost,MarsTLSCost:a.MarsTLSCost,MarsNetCost:a.MarsNetCost,MarsUnPackCost:a.MarsUnPackCost,LibParseCost:a.LibParseCost,ProtocolType:a.ProtocolType}),"function"==typeof l&&l(t),"function"==typeof u&&u(t))},fail(e){var t=Date.now();e.reportObj.LibParseCost=t-e.reportObj.onJsCallbackTimestamp,e.reportObj.TotalCost=t-e.reportObj.invokeTime,of(e.reportObj),delete e.reportObj,"function"==typeof c&&c(e),"function"==typeof u&&u(e)}},{beforeAll(e){"operateWXData"!==o&&(e.errMsg=e.errMsg.replace("operateWXData",o))}},{showApiVersion:m,showProfile:y,fromWebview:t,batchType:P,sdkApiName:o,adExtra:C})};T?XA().then((t=>{var r=t[i];if(r){var n=!1,s={},c=!1;try{if(s.data=JSON.parse(r),Array.isArray(s.data))e:for(var d of s.data){var p=d.__mock_inner_args__;if(!p){s.data=d.data,c=!0;break e}var h=!0;for(var f in p)if(a[f]!==p[f]){h=!1;break}if(h){s.data=d.data,c=!0;break e}}else s.data=s.data.data,c=!0}catch(e){console.error(`你使用了 ${i} 这个数据管道的mock，在parse出现错误`,e),n=!0}if(c||(n=!0),!n){console.error(`你使用了 ${i} 这个数据管道的mock，res为`,s);var{data:g,encryptedData:v,iv:m,cloud_id:y,err_no:b,signature:_,errmsg:w}=s.data;return e&&(void 0!==g&&(s.rawData=JSON.stringify(g)),s.respData=g),_&&(s.signature=_),v&&(s.encryptedData=v,s.iv=m,y&&(s.cloudID=y)),void("number"==typeof b&&0!==b?zc({name:o,args:k,errno:b,errMsg:w,success:!1}):("function"==typeof l&&l(s),"function"==typeof u&&u(s)))}}A()})):A()},tx=ex(!1),rx=Cf(tx),nx=ex(!1,!1,!0),ix=ex(!1,!0),ax=ex(!1,!0,!0),ox=ex(!0),sx=(()=>Object.assign)();function lx(e,t,r=(()=>{}),n=(()=>{})){return(i={})=>{var{success:a,fail:o}=qc(i,e);tx({apiName:t,reqData:r(i)||{},sdkApiName:e,success(e){e.rawDataObject=e.data,delete e.data,sx(e,e.rawDataObject),n(e),delete e.rawDataObject,a(e)},fail:o,complete:void 0})}}function cx(e,t){var{initEventCallbackReport:r,eventCallbackBegin:n,eventCallbackEnd:i}=m.callbackReporter;return function(){r();var a=n(),o=e.apply(this,arguments);return a&&i(t,a,o),o}}function ux(e,t){var{initJsapiCallbackReport:r,jsapiCallbackBegin:n,jsapiCallbackEnd:i}=m.callbackReporter;return function(){r();var a=n(0,t),o=e.apply(this,arguments);return a&&i(t,a.jsHandleBegin,!1,o),o}}var dx={invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,startFacialEncryptionVerify:null,startFacialEncryptionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,showRedPackage:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,shareToWeRun:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,makeBluetoothPair:null,isBluetoothDevicePaired:null,openBluetoothAdapter:null,openBluetoothAdapterBackground:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,startMonitoringBluetoothDevice:null,stopMonitoringBluetoothDevice:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,getMonitoredBluetoothDevices:null,createBLEConnection:null,setBLEMTU:null,setBluetoothBackgroundMode:null,getBLEMTU:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onMonitoredBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,onBluetoothAdapterStateChange:null,onBLEMTUChange:null,offBLEMTUChange:null,offBluetoothAdapterStateChange:null,offBluetoothDeviceFound:null,offMonitoredBluetoothDeviceFound:null,offBLEConnectionStateChanged:null,offBLEConnectionStateChange:null,offBLECharacteristicValueChange:null,createBLEPeripheralServer:null,onBLEPeripheralConnectionStateChanged:null,offBLEPeripheralConnectionStateChanged:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,onWifiConnectedWithPartialInfo:null,offGetWifiList:null,offWifiConnected:null,offWifiConnectedWithPartialInfo:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,navigateBackNative:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,getBackgroundFetchData:null,onBackgroundFetchData:null,request:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,previewMedia:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getVideoInfo:null,compressVideo:null,getLocation:null,openLocation:null,chooseLocation:null,choosePoi:null,onLocationChange:null,offLocationChange:null,onLocationChangeError:null,offLocationChangeError:null,startLocationUpdateBackground:null,startLocationUpdate:null,stopLocationUpdate:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,join1v1Chat:null,setEnable1v1Chat:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,offVoIPChatMembersChanged:null,offVoIPChatSpeakersChanged:null,offVoIPChatInterrupted:null,onVoIPVideoMembersChanged:null,offVoIPVideoMembersChanged:null,onVoIPChatStateChanged:null,offVoIPChatStateChanged:null,subscribeVoIPVideoMembers:null,login:null,checkSession:null,authorize:null,getUserInfo:null,getUserProfile:null,requestFacetoFacePayment:null,requestPayment:null,requestPersonalPay:null,requestJointPayment:null,getWCPayOverseaPrepayRequest:null,requestH5Transaction:null,openWCPayOverseaPaymentReceive:null,handleWCPayOverseaWalletBuffer:null,requestVerifyUserIdentity:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,requestOrderPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,scanItem:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onThemeChange:null,offThemeChange:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,onUnhandledRejection:null,offUnhandledRejection:null,getLaunchOptionsSync:null,getEnterOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,onKeyboardHeightChange:null,offKeyboardHeightChange:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,reportAnalytics:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,offMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,getRealtimeLogManager:null,onWindowResize:null,offWindowResize:null,setPageOrientation:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null,shareAppMessageForFakeNative:null,downloadApp:null,installDownloadApp:null,getAppInstallState:null,queryDownloadAppTask:null,cancelDownloadAppTask:null,resumeDownloadAppTask:null,pauseDownloadAppTask:null,onDownloadAppStateChange:null,downloadAppForIOS:null,offGyroscopeChange:null,offDeviceMotionChange:null,offCompassChange:null,offAccelerometerChange:null,offUserCaptureScreen:null,offNetworkStatusChange:null,offHCEMessage:null,offBeaconUpdate:null,offBeaconServiceChange:null,requestSubscribeMessage:null,requestSubscribeDeviceMessage:null,hideHomeButton:null,getBLEDeviceRSSI:null,checkIsOpenAccessibility:null,addPhoneCalendar:null,addPhoneRepeatCalendar:null,updateWeChatApp:null,getRandomValues:null,shareFileMessage:null,shareVideoMessage:null,addFileToFavorites:null,addVideoToFavorites:null,showShareImageMenu:null,searchContacts:null,publishWeChatState:null,chooseLicensePlate:null,openSystemBluetoothSetting:null,openAppAuthorizeSetting:null,getSystemSetting:null,getAppAuthorizeSetting:null,getDeviceInfo:null,getWindowInfo:null,getAppBaseInfo:null,openEmbeddedMiniProgram:null};const px=dx;var hx={invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:20,openSettingForPlugin:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,hideHomeButton:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,startFacialEncryptionVerify:20,startFacialEncryptionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,showRedPackage:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,shareToWeRun:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,openChannelsUserProfile:30,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:10,setNavigationBarRightButton:20,onTapNavigationBarRightButton:20,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,offUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,navigateBackNative:0,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,previewMedia:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:20,openLocation:20,chooseLocation:20,choosePoi:20,onLocationChange:20,offLocationChange:20,onLocationChangeError:20,offLocationChangeError:20,startLocationUpdateBackground:20,startLocationUpdate:20,stopLocationUpdate:20,getNetworkType:0,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,onKeyboardHeightChange:20,offKeyboardHeightChange:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,reportAnalytics:10,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:20,offWindowResize:20,setPageOrientation:30,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,join1v1Chat:10,setEnable1v1Chat:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,offVoIPChatMembersChanged:10,offVoIPChatSpeakersChanged:10,offVoIPChatInterrupted:10,onVoIPVideoMembersChanged:10,offVoIPVideoMembersChanged:10,onVoIPChatStateChanged:10,offVoIPChatStateChanged:10,subscribeVoIPVideoMembers:10,login:10,checkSession:10,authorize:20,getUserInfo:20,getUserProfile:20,requestFacetoFacePayment:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPersonalPay:20,requestPaymentToBank:20,requestJointPayment:20,getWCPayOverseaPrepayRequest:20,requestH5Transaction:20,openWCPayOverseaPaymentReceive:20,handleWCPayOverseaWalletBuffer:20,requestVerifyUserIdentity:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,requestOrderPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,scanItem:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0,enterContact:20,shareAppMessageForFakeNative:20,checkIsOpenAccessibility:10,addPhoneCalendar:20,addPhoneRepeatCalendar:20,updateWeChatApp:10,getRandomValues:0,shareFileMessage:20,shareVideoMessage:20,addFileToFavorites:20,addVideoToFavorites:20,showShareImageMenu:20,searchContacts:10,publishWeChatState:20,chooseLicensePlate:20,openSystemBluetoothSetting:30,openAppAuthorizeSetting:30,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,openEmbeddedMiniProgram:30};const fx=hx;var gx={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,requestSubscribeMessage:1,requestSubscribeDeviceMessage:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,hideHomeButton:1,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:1,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,shareToWeRun:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:1,isBluetoothDevicePaired:1,openBluetoothAdapter:1,openBluetoothAdapterBackground:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,startMonitoringBluetoothDevice:1,stopMonitoringBluetoothDevice:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,getMonitoredBluetoothDevices:1,createBLEConnection:1,setBLEMTU:1,setBluetoothBackgroundMode:1,getBLEMTU:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceRSSI:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothAdapterStateChange:3,onBluetoothDeviceFound:3,onMonitoredBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,onBLEMTUChange:3,offBLEMTUChange:3,offBluetoothAdapterStateChange:3,offBluetoothDeviceFound:3,offMonitoredBluetoothDeviceFound:3,offBLEConnectionStateChanged:3,offBLEConnectionStateChange:3,offBLECharacteristicValueChange:3,createBLEPeripheralServer:2,onBLEPeripheralConnectionStateChanged:3,offBLEPeripheralConnectionStateChanged:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,onWifiConnectedWithPartialInfo:3,offGetWifiList:3,offWifiConnected:3,offWifiConnectedWithPartialInfo:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,onLocalServiceFound:3,offLocalServiceFound:3,onLocalServiceLost:3,offLocalServiceLost:3,onLocalServiceDiscoveryStop:3,offLocalServiceDiscoveryStop:3,onLocalServiceResolveFail:3,offLocalServiceResolveFail:3,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,navigateBackNative:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,getBackgroundFetchData:1,onBackgroundFetchData:3,request:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,previewMedia:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:1,compressVideo:1,getLocation:1,openLocation:1,chooseLocation:1,choosePoi:1,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,join1v1Chat:1,setEnable1v1Chat:1,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,offVoIPChatMembersChanged:3,offVoIPChatSpeakersChanged:3,offVoIPChatInterrupted:3,onVoIPVideoMembersChanged:3,offVoIPVideoMembersChanged:3,onVoIPChatStateChanged:3,offVoIPChatStateChanged:3,subscribeVoIPVideoMembers:1,login:1,checkSession:1,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:1,requestPersonalPay:1,requestFacetoFacePayment:1,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:1,addCard:1,openCard:1,scanCode:1,openQRCode:1,scanItem:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,onThemeChange:1,offThemeChange:1,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,reportAnalytics:0,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:3,offWindowResize:3,setPageOrientation:1,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:3,onAppHide:3,offAppHide:3,onError:3,offError:3,onUnhandledRejection:3,offUnhandledRejection:3,getLaunchOptionsSync:2,getEnterOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionLisstening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1,enterContact:1,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:3,downloadAppForIOS:0,offGyroscopeChange:3,offDeviceMotionChange:3,offCompassChange:3,offAccelerometerChange:3,offUserCaptureScreen:3,offNetworkStatusChange:3,offHCEMessage:3,offBeaconUpdate:3,offBeaconServiceChange:3,checkIsOpenAccessibility:1,addPhoneCalendar:1,addPhoneRepeatCalendar:1,updateWeChatApp:1,getRandomValues:1,shareFileMessage:1,shareVideoMessage:1,addFileToFavorites:1,addVideoToFavorites:1,showShareImageMenu:1,searchContacts:1,publishWeChatState:1,chooseLicensePlate:1,openSystemBluetoothSetting:1,openAppAuthorizeSetting:1,getSystemSetting:1,getAppAuthorizeSetting:1,getDeviceInfo:1,getWindowInfo:1,getAppBaseInfo:1,openEmbeddedMiniProgram:1};const vx=gx;var mx={invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,addToDesktop:50,openSettingForPlugin:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,shareToWeRun:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,navigateBackNative:0,exitMiniProgram:40,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,makeBluetoothPair:0,isBluetoothDevicePaired:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceRSSI:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,request:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:20,addNativeDownloadTask:0,chooseImage:0,previewImage:0,previewMedia:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getVideoInfo:0,compressVideo:0,getLocation:0,openLocation:0,chooseLocation:0,choosePoi:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestFacetoFacePayment:0,requestPayment:30,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:30,addCard:0,openCard:0,scanCode:0,openQRCode:0,scanItem:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onThemeChange:0,offThemeChange:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,onUnhandledRejection:0,offUnhandledRejection:0,getLaunchOptionsSync:0,getEnterOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,onKeyboardHeightChange:0,offKeyboardHeightChange:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,reportAnalytics:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,offMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,getRealtimeLogManager:0,onWindowResize:0,offWindowResize:0,setPageOrientation:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,join1v1Chat:0,setEnable1v1Chat:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,onVoIPVideoMembersChanged:0,offVoIPVideoMembersChanged:0,onVoIPChatStateChanged:0,offVoIPChatStateChanged:0,subscribeVoIPVideoMembers:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,offGyroscopeChange:0,offDeviceMotionChange:0,offCompassChange:0,offAccelerometerChange:0,offUserCaptureScreen:0,offNetworkStatusChange:0,offHCEMessage:0,offBeaconUpdate:0,offBeaconServiceChange:0,requestSubscribeMessage:40,requestSubscribeDeviceMessage:10,hideHomeButton:0,checkIsOpenAccessibility:0,updateWeChatApp:0,openChannelsLive:0,openChannelsActivity:0,openChannelsUserProfile:0,openChannelsLiveCollection:0,openChannelsEvent:0,addPhoneCalendar:40,addPhoneRepeatCalendar:40,getRandomValues:0,showShareImageMenu:0,shareFileMessage:40,shareVideoMessage:40,addFileToFavorites:40,addVideoToFavorites:40,getUserProfile:40,searchContacts:40,publishWeChatState:40,openCustomerServiceChat:40,chooseLicensePlate:40,openSystemBluetoothSetting:40,openAppAuthorizeSetting:40,getSystemSetting:0,getAppAuthorizeSetting:0,getDeviceInfo:0,getWindowInfo:0,getAppBaseInfo:0,openEmbeddedMiniProgram:0,addAccountCard:20,openHKOfflinePayView:20,openOfficialAccountArticle:40};const yx=mx;var bx={invokeWebviewMethod:0,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:0,pageScrollTo:10,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,openSettingForPlugin:1,getExtConfig:10,chooseMedia:1,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,hideHomeButton:0,_getRealRoute:0,vibrateShort:10,vibrateLong:10,getSetting:0,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:1,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:0,uploadWeRunData:0,addWeRunData:0,canIUse:10,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:0,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:0,openBluetoothAdapterBackground:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,startMonitoringBluetoothDevice:0,stopMonitoringBluetoothDevice:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,getMonitoredBluetoothDevices:0,createBLEConnection:0,setBLEMTU:0,setBluetoothBackgroundMode:0,getBLEMTU:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothAdapterStateChange:0,onBluetoothDeviceFound:0,onMonitoredBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onBLEMTUChange:0,offBLEMTUChange:0,offBluetoothAdapterStateChange:0,offBluetoothDeviceFound:0,offMonitoredBluetoothDeviceFound:0,offBLEConnectionStateChanged:0,offBLEConnectionStateChange:0,offBLECharacteristicValueChange:0,createBLEPeripheralServer:0,onBLEPeripheralConnectionStateChanged:0,offBLEPeripheralConnectionStateChanged:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,offBeaconUpdate:0,onBeaconServiceChange:0,offBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onWifiConnectedWithPartialInfo:0,offGetWifiList:0,offWifiConnected:0,offWifiConnectedWithPartialInfo:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,offHCEMessage:0,startLocalServiceDiscovery:0,stopLocalServiceDiscovery:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,redirectTo:2,reLaunch:1,navigateTo:2,switchTab:2,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:0,onBackgroundFetchData:0,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:1,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:1,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:1,saveVideoToPhotosAlbum:1,getVideoInfo:0,compressVideo:0,getLocation:10,openLocation:1,chooseLocation:1,choosePoi:1,enableLocationUpdateBackground:0,enableLocationUpdate:0,disableLocationUpdate:0,onLocationChange:0,offLocationChange:0,onLocationChangeError:0,offLocationChangeError:0,startLocationUpdateBackground:0,startLocationUpdate:0,stopLocationUpdate:0,getNetworkType:10,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:0,createVideoContext:10,createMapContext:10,createCameraContext:0,createLivePlayerContext:10,createLivePusherContext:0,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:0,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:0,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:0,setClipboardData:0,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:0,traceEvent:0,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:0,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:0,hanged:0,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:0,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:0,checkSession:0,authorize:1,getUserInfo:1,getUserProfile:1,requestPayment:0,requestPersonalPay:0,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestMidasPayment:0,requestOrderPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:0,scanItem:1,chooseAddress:1,saveFile:10,openDocument:1,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:1,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:0,getABTestConfig:0,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:0,chooseMultiMedia:0,getLabInfo:0,setLabInfo:0,enterContact:0,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:0,createRewardedVideoAd:0,error:10,serviceMarket:10,getNativeUserInfo:10,getPerformance:10,reportPerformance:10,createUDPSocket:0,createBufferURL:10,revokeBufferURL:10};const _x=bx;var wx={invokeWebviewMethod:10,drawCanvas:10,createContext:10,createCanvasContext:10,canvasToTempFilePath:10,canvasGetImageData:10,canvasPutImageData:10,getShareInfo:10,pageScrollTo:10,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:10,openSettingForPlugin:10,getExtConfig:10,chooseMedia:10,chooseWeChatContact:1,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:10,showShareMenu:10,hideShareMenu:10,updateShareMenu:10,openUrl:0,setNavigationBarColor:10,setNavigationBarAlpha:10,hideHomeButton:10,_getRealRoute:10,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,startFacialEncryptionVerify:0,startFacialEncryptionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,showRedPackage:0,addPhoneContact:10,setScreenBrightness:10,getScreenBrightness:10,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:10,setPageStyle:10,triggerGettingWidgetData:0,navigateToMiniProgram:10,navigateToDevMiniProgram:10,navigateBackMiniProgram:10,exitMiniProgram:10,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:10,removeTabBarBadge:10,showTabBarRedDot:10,hideTabBarRedDot:10,showTabBar:10,hideTabBar:10,setTabBarStyle:10,setTabBarItem:10,setEnableDebug:10,captureScreen:0,onUserCaptureScreen:10,offUserCaptureScreen:10,setKeepScreenOn:10,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:10,reportKeyValue:10,setNavigationBarTitle:10,showNavigationBarLoading:10,hideNavigationBarLoading:10,startPullDownRefresh:10,stopPullDownRefresh:10,operateWXData:10,getOpenDeviceId:0,openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,getMonitoredBluetoothDevices:10,createBLEConnection:10,setBLEMTU:10,setBluetoothBackgroundMode:10,getBLEMTU:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothAdapterStateChange:10,onBluetoothDeviceFound:10,onMonitoredBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,onBLEMTUChange:10,offBLEMTUChange:10,offBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offMonitoredBluetoothDeviceFound:10,offBLEConnectionStateChanged:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,createBLEPeripheralServer:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,offBeaconUpdate:10,onBeaconServiceChange:10,offBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onWifiConnectedWithPartialInfo:10,offGetWifiList:10,offWifiConnected:10,offWifiConnectedWithPartialInfo:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,offHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:10,reLaunch:10,navigateTo:10,switchTab:10,navigateBack:10,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:1,navigateBackNative:1,launchApplication:1,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,getBackgroundFetchData:10,onBackgroundFetchData:10,request:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:0,chooseImage:10,previewImage:10,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:10,stopRecord:10,playVoice:10,pauseVoice:10,stopVoice:10,onVoicePlayEnd:10,chooseVideo:10,saveVideoToPhotosAlbum:10,getVideoInfo:10,compressVideo:10,getLocation:10,openLocation:10,chooseLocation:10,choosePoi:10,enableLocationUpdateBackground:10,enableLocationUpdate:10,disableLocationUpdate:10,onLocationChange:10,offLocationChange:10,onLocationChangeError:10,offLocationChangeError:10,startLocationUpdateBackground:10,startLocationUpdate:10,stopLocationUpdate:10,getNetworkType:10,onAppRoute:10,onAppRouteDone:10,onAppEnterBackground:10,onAppEnterForeground:10,onAppUnhang:10,onPageReload:10,onPageNotFound:10,offPageNotFound:10,onAudioInterruptionBegin:10,offAudioInterruptionBegin:10,onAudioInterruptionEnd:10,offAudioInterruptionEnd:10,onThemeChange:10,offThemeChange:10,onAppShow:10,offAppShow:10,onAppHide:10,offAppHide:10,onError:10,offError:10,onUnhandledRejection:10,offUnhandledRejection:10,getLaunchOptionsSync:10,getEnterOptionsSync:10,createAnimation:10,createInnerAudioContext:10,createAudioContext:10,createVideoContext:10,createMapContext:10,createCameraContext:10,createLivePlayerContext:10,createLivePusherContext:10,onWebviewEvent:10,onNativeEvent:10,hideKeyboard:10,onKeyboardHeightChange:10,offKeyboardHeightChange:10,getPublicLibVersion:10,showModal:10,showToast:10,hideToast:10,showLoading:10,hideLoading:10,showActionSheet:10,reportAnalytics:10,getClipboardData:10,setClipboardData:10,createSelectorQuery:10,createIntersectionObserver:10,updatePerfData:10,traceEvent:10,onMemoryWarning:10,offMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:10,appStatus:10,hanged:10,getLogManager:10,getRealtimeLogManager:10,onWindowResize:10,offWindowResize:10,loadFontFace:10,setInnerAudioOption:10,setBackgroundColor:10,setBackgroundTextStyle:10,getMenuButtonBoundingClientRect:10,calRqt:0,onNetworkStatusChange:10,offNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,offAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,offCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,offVoIPChatMembersChanged:0,offVoIPChatSpeakersChanged:0,offVoIPChatInterrupted:0,login:10,checkSession:10,authorize:10,getUserInfo:10,getUserProfile:10,requestPayment:10,verifyPaymentPassword:0,bindPaymentCard:0,requestPersonalPay:0,requestPaymentToBank:0,requestJointPayment:0,getWCPayOverseaPrepayRequest:0,requestH5Transaction:0,openWCPayOverseaPaymentReceive:0,handleWCPayOverseaWalletBuffer:0,requestVerifyUserIdentity:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,requestOrderPayment:10,addCard:10,openCard:10,scanCode:10,openQRCode:0,chooseAddress:10,saveFile:10,openDocument:10,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:10,makeVoIPCall:0,getAvailableAudioSources:10,reportMonitor:10,getAccountInfoSync:10,faceVerifyForPay:0,chooseInvoice:10,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,offDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,offGyroscopeChange:10,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,loadSubpackage:10,getABTestConfig:10,openChattingUI:0,delRemindMsg:0,searchContacts:0,invoke:0,on:0,chooseMessageFile:1,nextTick:10,setCookies:0,getCookies:0,compressImage:10,chooseMultiMedia:10,getLabInfo:0,setLabInfo:0,enterContact:10,shareAppMessageForFakeNative:0,downloadApp:0,installDownloadApp:0,getAppInstallState:0,queryDownloadAppTask:0,cancelDownloadAppTask:0,resumeDownloadAppTask:0,pauseDownloadAppTask:0,onDownloadAppStateChange:0,downloadAppForIOS:0,getDownloadWidgetTaskInfos:0,jumpDownloaderWidget:0,createOffscreenCanvas:10,getSelectedTextRange:10,version:10,cloud:10,createInterstitialAd:10,createRewardedVideoAd:10,error:10,serviceMarket:10,openBusinessView:10,requestMidasPayment:10,modifyFriendInteractiveStorage:0,getUserInteractiveStorage:0,getUserCloudStorage:0,getPotentialFriendList:0,getGroupInfo:0,getGroupCloudStorage:0,getFriendCloudStorage:0,createGridAd:10,createBannerAd:10,quicklyAddBrandContact:1};const Sx=wx;var Cx={openBluetoothAdapter:10,openBluetoothAdapterBackground:10,closeBluetoothAdapter:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,onBluetoothDeviceFound:10,onBluetoothAdapterStateChange:10,offBluetoothDeviceFound:10,offBluetoothAdapterStateChange:10,makeBluetoothPair:10,isBluetoothDevicePaired:10,getConnectedBluetoothDevices:10,getBluetoothDevices:10,getBluetoothAdapterState:10,writeBLECharacteristicValue:10,setBLEMTU:10,readBLECharacteristicValue:10,onBLEMTUChange:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,offBLEMTUChange:10,offBLEConnectionStateChange:10,offBLECharacteristicValueChange:10,notifyBLECharacteristicValueChange:10,getBLEMTU:10,getBLEDeviceServices:10,getBLEDeviceRSSI:10,getBLEDeviceCharacteristics:10,createBLEConnection:10,closeBLEConnection:10,setBluetoothBackgroundMode:10,getMonitoredBluetoothDevices:10,startMonitoringBluetoothDevice:10,stopMonitoringBluetoothDevice:10,onMonitoredBluetoothDeviceFound:10,onBLEPeripheralConnectionStateChanged:10,offBLEPeripheralConnectionStateChanged:10,createBLEPeripheralServer:10,setStorageSync:10,setStorage:10,removeStorageSync:10,removeStorage:10,getStorageSync:10,getStorage:10,getStorageInfoSync:10,getStorageInfo:10,clearStorageSync:10,clearStorage:10,request:10,login:10,getSystemInfo:10,getSystemInfoSync:10,getSystemSetting:10,getAppAuthorizeSetting:10,getDeviceInfo:10,getWindowInfo:10,getAppBaseInfo:10,getAccountInfoSync:10,onAppShow:10,onAppHide:10,base64ToArrayBuffer:10,arrayBufferToBase64:10,version:10,cloud:10},kx=Object.create(null);Object.assign(kx,Cx);const Ix=kx;var Px=Object.create(null);Object.assign(Px,{sample:px,ui:fx,log:vx,tap:yx,singlePage:_x,thirdApp:Sx,background:Ix});var Tx=(e,t)=>Px[t][e],Ax=(e,t)=>{var r=Px[e],n=[];return Object.entries(r).forEach((([e,r])=>{r===t&&n.push(e)})),n},xx=!1,Ex=null;function Mx(e,t){"tap"===e&&(xx=!0,Ex=t)}function Rx(){setTimeout((()=>{xx=!1,Ex=null}),0)}function Dx(){return We()?xx:xx||gr.checkTapMark()||D.checkTapMark()}function Ox(){return We()?Ex:Ex||gr.checkTapSource()||D.checkTapSource()}function Lx(e){var t=Tx(e,"thirdApp");return 0!==t&&1!==t||!Fe()||1===t&&Dx()&&fd("showToast",{icon:"",title:"暂不支持当前功能",duration:2500}),!0}var Nx=null;function Bx(){var e;return null===Nx?!(null===(e=re.appLaunchInfo)||void 0===e||!e.inBackground):Nx}function $x(e){Nx=e}function Fx(){return Nx}function jx(e,t){var r=yh(),n=[r.scene||0,r.scene_note||r.sceneNote||"",e||0,t||Date.now()].map(encodeURIComponent).join(",");M.reportKeyValue({key:"ClickWechatAppPreviewPage",value:n})}var Wx=!1;function Vx(e){Df()&&(Wx=e)}function Ux(){Df()&&(jx(1),M.submit())}function zx(){Yr("onSinglePageTap",(e=>{if(Df()){var t=e.toast||Wx;Wx=!1,jx(t?3:2,e.ts)}}))}class qx{constructor(){this.blocking=!1,this.pendingRequests=[]}flushPendingRequests(){for(;this.pendingRequests.length;){var e=this.pendingRequests.shift();if(this.routeRequest(e),this.blocking)return}}routeRequest(e){if(this.blocking)return _.info("[RouteScheduler] routeRequest blocked",e.name,e.args),void this.pendingRequests.push(e);_.info("[RouteScheduler] routeRequest applied",e.name,e.args),e.requestFunc(),this.blocking=!!e.blockUntilFinished}isBlocking(){return this.blocking}block(){this.blocking=!0}unblock(){_.info("[RouteScheduler] unblock RouteRequests"),this.blocking=!1,this.flushPendingRequests()}}var Hx=new qx;function Gx(e,t,r){var n=t.replace(/\.html\?.*|\.html$/,"");return!!yr.hasPageRoute(n)||(Vc(e,r,`page "${Od(t)}" is not found`),!1)}function Kx(e,t,r){var n=xe?su.lastActiveRoute:su.lastRoute,i=void 0===t._relativePath?n:t._relativePath;_.info(`[normalizeUrl] APIName=${e}, url=${t.url}, _relativePath=${t._relativePath}, lastRoute=${n}`);try{return Qd(i,t.url,!r)}catch(n){if(!(n instanceof Td))throw n;if(!r){if(!ep(i,t.url))return t.url;Vc(e,t,n.message)}}return""}var Jx=nr("AppPerfRouteNavigation");function Xx(e){return"wxpage://"===tp(e)}function Yx(e,t,r){return!!Xx(t)||(!ep(void 0===r._relativePath?su.lastRoute:r._relativePath,t)||/^__wx__\//.test(t)||Gx(e,t,r))}function Qx(e,t){var r=Kx(e,t,!0);if(!r)return!0;var n=vu(r),i=uu[Tf(e).toUpperCase()],a=!0,o="",s=cu.OK;if(n>-1){var l=gu[n];(o=l.redirect_url)&&1===l.is_valid?(Vc(e,t,"url has been banned"),iS("openUrl",{url:o}),s=cu.BLOCK,a=!1):o&&1!==l.is_valid&&(s=cu.NO_BLOCK)}return wu(e,s,i,o,r),a}var Zx=!1;function eE(e,t){return!Zx||(Vc(e,t,"current operation was banned."),!1)}function tE(e=0){Zx=!0,setTimeout((()=>Zx=!1),e)}var rE=(e={})=>{if(eE("navigateBack",e=Object.assign({},e))){var t=e._webviewId;if(void 0!==t){e.delta=void 0;var r=yr.getPageMetaByWebviewId(t);if(r){var n=r.framesetViewId;e.viewId=n}}if("number"!=typeof e.delta?e.delta=1:(e.delta=parseInt(e.delta,10),e.delta<1&&(e.delta=1)),"function"==typeof yr.getCurrentPagesByDomain)if(yr.getCurrentPagesByDomain("").length<=1)return void Vc("navigateBack",e,"cannot navigate back at first page.");e.singlePageData={};var i=Date.now();fd("navigateBack",e,{beforeSuccess(){L.traceRoute("navigateBack")},afterFail(){Hx.unblock(),L.traceRoute("navigateBack"),Jx.emit({type:"navigateBack",start:i,routeFail:!0})}}),Jx.emit({type:"navigateBack",start:i})}},nE={};class iE{constructor(){this.listener={},this.emitCache={}}emit(e,...t){if(!this.listener[e])return this.emitCache[e]||(this.emitCache[e]=[]),void this.emitCache[e].push(t);(()=>{for(var r of this.listener[e])r.fn.call(r.fn,...t);this.listener[e]=this.listener[e].filter((e=>"once"!==e.type))}).call(this)}_clearCache(e){if(this.emitCache[e])for(;this.emitCache[e].length>0;)this.emit(e,...this.emitCache[e].shift())}on(e,t){var r=E.surroundThirdByTryCatch(t,`at on ${e} callback function`);this._addListener(e,"on",r),this._clearCache(e)}once(e,t){var r=E.surroundThirdByTryCatch(t,`at once ${e} callback function`);this._addListener(e,"once",r),this._clearCache(e)}off(e,t){if(this.listener[e])if(t){var r=t.toString();for(var n in this.listener[e])for(var i=0;!(i>=this.listener[e].length);)r===this.listener[e][i].fn.toString()&&(this.listener[e].splice(i,1),i--),i++}else this.listener[e]=[],delete this.listener[e]}_addListener(e,t,r){this.listener[e]||(this.listener[e]=[]),this.listener[e].push({fn:r,type:t})}}var aE=new WeakMap;function oE(e){aE.set(e,nE),nE={}}function sE(e){return aE.get(e)}function lE(){var e=new iE,t=new iE,r={},n=["listener","emit","on","once","off","_addListener"];for(var i of n)"emit"===i?r[i]=t[i].bind(t):"function"==typeof e[i]?r[i]=e[i].bind(e):r[i]=e[i];for(var a of n)"emit"===a?nE[a]=e[a].bind(e):"function"==typeof t[a]?nE[a]=t[a].bind(t):nE[a]=t[a];return r}var cE=e=>{if(jc("navigateTo",e,{url:""})&&Qx("navigateTo",e)&&eE("navigateTo",e)){var t=Kx("navigateTo",e,!1);if(t){e.url=t,e.url=zd(e.url);var r={routeType:e.routeType||"",routeConfig:e.routeConfig||{},routeOptions:e.routeOptions||{}};if(e.singlePageData=r,su.singlePageData=r,Yx("navigateTo",e.url,e)){var n=lE();if(e.events)for(var i of Object.keys(e.events))n.on(i,e.events[i]);var a=()=>{var t=Date.now();fd("navigateTo",e,{afterFail(){Hx.unblock(),L.traceRoute("navigateTo",e.url,!1),Jx.emit({type:"navigateTo",start:t,routeFail:!0})},beforeSuccess(t){L.traceRoute("navigateTo",e.url),t.eventChannel=n}}),Jx.emit({type:"navigateTo",start:t})};1!==pT()?a():IT().then((e=>{AT(1,e)})).finally((()=>{a()}))}}}},uE=e=>{yr.DisplayReporter.setEventRelatedInfo(e._relatedInfo),cE(e)},dE=e=>{if(jc("redirectTo",e,{url:""})&&Qx("redirectTo",e)&&eE("redirectTo",e)){var t=Kx("redirectTo",e,!1);if(t&&(e.url=t,e.url=zd(e.url),Yx("redirectTo",e.url,e))){e.singlePageData={};var r=()=>{var t=Date.now();fd("redirectTo",e,{afterFail(){Hx.unblock(),L.traceRoute("redirectTo",e.url,!1),Jx.emit({type:"redirectTo",start:t,routeFail:!0})},beforeSuccess(){L.traceRoute("redirectTo",e.url)}}),Jx.emit({type:"redirectTo",start:t})};1!==pT()?r():IT().then((e=>{AT(3,e)})).finally((()=>{r()}))}}},pE=e=>{if("active"===su.runningStatus||"ios"!==Se){if(jc("reLaunch",e,{url:""})&&Qx("reLaunch",e)&&eE("reLaunch",e)){var t=Kx("reLaunch",e,!1);if(t&&(e.url=t,e.url=zd(e.url),Yx("reLaunch",e.url,e))){var r=Date.now();fd("reLaunch",e,{afterFail(){Hx.unblock(),L.traceRoute("reLaunch",e.url,!1),Jx.emit({type:"reLaunch",start:r,routeFail:!0})},beforeSuccess(){L.traceRoute("reLaunch",e.url)}}),Jx.emit({type:"reLaunch",start:r})}}}else Vc("reLaunch",e,"can not invoke reLaunch in background")},hE=(e={})=>{if(jc("switchTab",e,{url:""})&&(/\?.*$/.test(e.url)&&(console.warn("wx.switchTab: url 不支持 queryString"),e.url=e.url.replace(/\?.*$/,"")),Qx("switchTab",e)&&eE("switchTab",e))){var t=Kx("switchTab",e,!1);if(t&&(e.url=t,e.url=zd(e.url),Yx("switchTab",e.url,e))){var r=()=>{var t=Date.now();fd("switchTab",e,{afterFail(){Hx.unblock(),L.traceRoute("switchTo",e.url,!1),Jx.emit({type:"switchTab",start:t,routeFail:!0})},beforeSuccess(){L.traceRoute("switchTo",e.url)}}),Jx.emit({type:"switchTab",start:t})};1!==pT()?r():IT().then((e=>{AT(2,e)})).finally((()=>{r()}))}}},fE=(e,t)=>{var r={_relativePath:e,_webviewId:t};return{navigateTo(e){cE(Object.assign({},e,r))},redirectTo(e){dE(Object.assign({},e,r))},switchTab(e){hE(Object.assign({},e,r))},navigateBack(e){rE(Object.assign({},e,r))},reLaunch(e){pE(Object.assign({},e,r))}}},gE=new Yt;Ut("onPageReload",((e={},t=0)=>{e.webviewId=t,gE.emit("onPageReload",e)}));var vE=function(e){gE.on("onPageReload",(t=>{t.path&&(t.path=Od(t.path)),"function"==typeof e&&e(t)}))},mE=function(e){gE.emit(`onBeforeUnloadPage_${e}`,e),gE.removeAllListeners(`onBeforeShareAppMessage_${e}`),gE.removeAllListeners(`onBeforeCopyUrl_${e}`),_E(e)},yE={},bE=(e,t)=>(yE[e]=yE[e]||{},!!yE[e][t]||(yE[e][t]=!0,!1)),_E=e=>{delete yE[e]},wE=0,SE=function(e,t,r){var n=r;n||(n=wE++),bE(e,n)||gE.once(`onBeforeUnloadPage_${e}`,(e=>{"function"==typeof t&&t(e)}))},CE=function(e){gE.emit(`onBeforeShareAppMessage_${e}`,e)},kE=function(e,t){gE.on(`onBeforeShareAppMessage_${e}`,(e=>{"function"==typeof t&&t(e)}))},IE=function(e){gE.emit(`onBeforeCopyUrl_${e}`,e)},PE=function(e,t){gE.on(`onBeforeCopyUrl_${e}`,(e=>{"function"==typeof t&&t(e)}))},TE=vE,AE=mE,xE=CE,EE=Xc(cE),ME=Xc(dE),RE=Xc(hE),DE=void 0,OE=e=>{JSON.stringify(e),DE=e},LE=function(){var e=Vp()((function*(e){try{qr("syncHighlightBottomBanner",{highlighted:!0}),yield NE({navigateInfo:e})}catch(e){}}));return function(t){return e.apply(this,arguments)}}(),NE=function(){var e=Vp()((function*(e={}){try{yield gd("highlightBottomBanner",{shouldHighlight:!0}),OE(e.navigateInfo)}catch(e){fd("showToast",{icon:"",title:"请前往小程序使用完整服务",duration:2500}),Vx(!0)}}));return function(){return e.apply(this,arguments)}}();Yr("highlightBottomBanner",function(){var e=Vp()((function*(e){try{yield NE(e)}catch(e){}}));return function(t){return e.apply(this,arguments)}}()),Yr("cancelHighlightBottomBanner",(()=>{OE(null),fd("highlightBottomBanner",{shouldHighlight:!1})})),Ut("onBottomBannerButtonClicked",((e={})=>{Ux(),fd("restart",{url:e.currentPath,scene:1155,privateExtraData:{singlePageNavigationInfo:DE},fail(e){_.error("restart fail",e)}})}));var BE=e=>new Promise((t=>setTimeout(t,e)));re.onReady(Vp()((function*(){try{var e,t,r,n=null==re||null===(e=re.appLaunchInfo)||void 0===e||null===(t=e.referrerInfo)||void 0===t||null===(r=t.privateExtraData)||void 0===r?void 0:r.singlePageNavigationInfo;if(!n)return;yield BE(500);var{type:i,url:a,_relativePath:o}=n;switch(i){case"navigate":case"navigateTo":yield EE({url:a,_relativePath:o});break;case"redirect":case"redirectTo":yield ME({url:a,_relativePath:o});break;case"switchTab":yield RE({url:a,_relativePath:o})}}catch(e){}})));var $E=!1;function FE(e){$E=!!e.state,e.success&&e.success({state:$E})}function jE(e,t,r){Lx(e);var n=Tx(e,"ui");if(n>0&&$E)return!1;if(n>=20)if(void 0===yr){if(t)return!1}else{var i=Zd(yr.getCurrentRoute()||"");if("//"===i)return!1;if(i!==t&&n>=30)return!1;if(su.openingInnerPage)return!1}var a=Tx(e,"singlePage")||0;if(10!==a&&Df())switch(a){default:case 0:return!1;case 1:case 2:return!!Dx()&&(Of()?fd("highlightTitleForSinglePage"):LE(2===a?{type:e,url:null==r?void 0:r.url,_relativePath:void 0===(null==r?void 0:r._relativePath)?su.lastRoute:null==r?void 0:r._relativePath}:void 0),!1)}return 10===Tx(e,"background")||!m.isStarted||!Bx()}function WE(){}const VE={};var UE=e=>{if(!Array.isArray(e))return null;var t=1,r=e.map((e=>{var{api:r,rule:n}=e;return n.thisDeep=!0,{key:t++,type:"If",if:{compare:"eq",right:r},withRely:[...qE(n)]}}));HE={schemaVersion:"1.0.0",object:{conditions:r},string:{conditions:null}}},zE=(e,t)=>({type:"If",if:{compare:"eq",right:0===t?"req":"res"},withRely:[e],thisDeep:!0}),qE=(e={})=>{var t=[e.req,e.res].map(((e,t)=>e?zE(e,t):null)).filter((e=>null!==e));return t},HE,GE,KE={},JE=(e,t)=>{if(!KE[e])return Promise.resolve(!1);var r=Ip().runTask("resolveApiFullRule",{rules:GE?null:HE,data:{[e]:t},appid:re.accountInfo.appId});return GE||(GE=!0),r.then((e=>e.result))},XE=e=>{var t=[];Object.entries(e).forEach((([e,r])=>{r.rule&&(t.push({api:e,rule:r.rule}),KE[e]=!0)})),UE(t)},YE=e=>e.key?e.key+"."+e.val:"STR_"+e.val,QE=e=>{var t=YE(e);return{key:"userCustom:"+t,type:"Pat",url:e.url,test:{test:e.key,flag:e.flag||""},withRely:[{key:"userCustomWR:"+t+"_val",type:"Pat",test:{test:e.val,flag:e.flag||""}}]}},ZE=e=>{var t;return{key:"userCustom:"+("string"!=typeof e?YE(e):"STR_"+e),type:"Pat",url:null==e?void 0:e.url,test:{test:"string"==typeof e?e:e.val,flag:"string"==typeof e?"i":null!==(t=e.flag)&&void 0!==t?t:"i"}}},eM=e=>{var t=e.rules.map((e=>QE(e))),r=e.strRules.map((e=>ZE(e))),n={};return Object.keys(e.priority).forEach((t=>{n["userCustom:"+t]=e.priority[t]})),{object:{conditions:t},string:{conditions:r},priorities:n,schemaVersion:"9.9.99"}},tM,rM=e=>{tM=e},nM=()=>tM,iM,aM,oM=new Promise(((e,t)=>{iM=e,aM=t})).catch((e=>{})),sM=()=>oM,lM=()=>{rx({apiName:"webapi_getwxaqualityossrule",reqData:{type_list:[1]}}).then((e=>{var t,r,n=null===(t=e.data)||void 0===t||null===(r=t.quality_oss_rule)||void 0===r?void 0:r.public_lib_rule;rM(n),iM(n)})).catch((e=>{aM()}))};re.onReady((()=>{Vh("WxaQualityOssRuleConfig")?lM():aM()}));var cM=B_(),uM="wxfile://ad",dM=`${uM}/sdk_dynamic_item.json`,pM=6048e5,hM=864e5,fM={},gM=.05,vM=Math.random,mM=()=>{try{var e=void 0!==l&&l?l.version:"unknown";return oA(e,"2.22.1")?"2230_":oA(e,"2.21.4")?"2215_":""}catch(e){return""}},yM=Cf(cM.readFile),bM=Cf(cM.writeFile);re.onReady((()=>{if(!m.env.isMagicBrushFrameEnv){var e=mM()+"WeAppRequestError",t=mM()+"ApiReportStrategy",r="weAppRequestErrorOpenStrategy",n="weQualityConfig",i={[t]:pM,[e]:hM,[r]:pM,[n]:hM},a={[t]:null,[e]:null,[r]:null,[n]:null};yM({filePath:dM,encoding:"utf-8"}).then((e=>{Vh("disableBusinessConfigCache")||(e=JSON.parse(e.data),Object.keys(e).forEach((t=>{Date.now()-e[t].cache_time>=i[t]||(a[t]=e[t])})))})).catch((()=>{})).finally((()=>{if(void 0!==m){var i=[];(o=[e,r,t,n].filter((e=>(a[e]&&i.push(e),!a[e]))),o.length?rx({apiName:"webapi_getwxabusinessconfig",reqData:{get_type:2,business_name:"WxaServiceQualityOss",item_name_list:o}}):Promise.resolve({data:{conf_item_list:[]}})).then((o=>{try{var s,l=o.data.conf_item_list;i.forEach((e=>{l.push({item_name:e,item_info:a[e].cache_info})}));try{l&&(l.forEach((e=>{switch(e.item_name){case t:try{var i=JSON.parse(e.item_info);fM=i,XE(i)}catch(e){}break;case r:try{var a=JSON.parse(e.item_info);s=GT(a),OT()}catch(e){}break;case n:try{var o=JSON.parse(e.item_info);L.setQualityConfig(o)}catch(e){}}})),Object.values(a).filter((e=>null===e)).length&&bM({filePath:dM,data:JSON.stringify({...l.reduce(((e,t)=>(null===a[t.item_name]?e[t.item_name]={cache_info:t.item_info,cache_time:Date.now()}:a[t.item_name]&&(e[t.item_name]=a[t.item_name]),e)),{})})}).catch((e=>{})));var c=vM()<=gM;if(c&&JT(),!s&&!c)return;var u=l.find((t=>t.item_name===e));if(u){var d;sM().then((e=>{d=e})).catch((()=>{})).finally((()=>{var e;Ip().runTask("createWeAppRequestInterpreter",{rules:u.item_info,appid:null==re||null===(e=re.accountInfo)||void 0===e?void 0:e.appId,userRules:d||""}).catch((e=>{_.error("createWeAppRequestInterpreter occer error:",e)}))}));var p=JSON.parse(u.item_info);L.convert24247SchemaToSensitiveQueryJudgeSchema(p)}}catch(e){}}catch(e){}})).catch((e=>{OT()}))}var o}))}}));var _M=e=>fM[e],wM=e=>{var t;return!1===(null===(t=fM[e])||void 0===t?void 0:t.hook)},SM=e=>{var t;return!0===(null===(t=fM[e])||void 0===t?void 0:t.hook)},CM=(e,t,r=!1)=>{var n;if(!dt(t)&&!Array.isArray(t))return t;var i=_M(e);if(!i)return t;if(Array.isArray(null==i||null===(n=i[r?"res":"req"])||void 0===n?void 0:n.filter)){var a={};for(var o of Object.getOwnPropertyNames(t))i[r?"res":"req"].filter.includes(o)||(a[o]=t[o]);return Array.isArray(t)&&(a=Array.from(a)),a}return t},kM=0,IM="",PM=Date.now(),TM=PM,AM=PM;m.onLoad((()=>{var e=Date.now();TM=e,AM=e}));var xM={};kh.set("appLaunchInfo",xM),re.onReady((()=>{var e=Date.now();TM=e,AM=e,kM=re.appLaunchInfo.scene,IM=re.appLaunchInfo.sessionid||re.appLaunchInfo.sessionId,Object.assign(xM,re.appLaunchInfo),cr("onAppEnterForeground",(e=>{Object.assign(xM,e),AM=Date.now(),e&&e.scene&&(kM=e.scene),e&&(e.sessionid||e.sessionId)&&(IM=e.sessionid||e.sessionId)}))}));var EM="";function MM(e,t,r,n,i,a,o,s,l,c,u,d=!1,p){var h,f;for(var g of _y)if(g.test(e)){r="";var v=o;n&&(o=""),"request"===e&&n&&!l&&1===a&&Vh("reportRresult")&&(o=null==v?void 0:v.data);break}var m,y=kh.get("api_call_from_hot_boot_time",AM);m=void 0===c?-1:c?1:0;var b=Date.now(),_=Be()?2:Ne?1:0,w=Qh(),S=Zh(),C=[e,t,Ou(CM(e,r)),n,i,0===a?u:b-i,ag(),a,Ou(CM(e,o,!0)),re.appType+1e3,kM,Mu(),Ru(),Cy(e),s,Bg(),IM,b-TM,b-y,encodeURIComponent(xM.scene_note||xM.sceneNote),null===(h=o)||void 0===h?void 0:h.errno,m,null===(f=o)||void 0===f?void 0:f.errCode,encodeURIComponent(EM),p,_,w,S].map(Du(1024)).join(",");l||1!==a||(M.reportIDKey({key:"asyncApiCount"}),M.reportIDKey({key:"asyncApiCost",value:b-i})),l&&M.reportKeyValue({key:"WeAppInvoke2",value:C,immediately:d}),M.reportKeyValue({key:"WeAppInvoke",value:C,immediately:d})}dS((e=>{EM=e.sessionId}));var RM=new WeakSet,DM=null,OM=null;function LM(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!!r&&(!!r.configurable&&(!(!t||"_"===t[0])&&(!by.includes(t)&&r)))}function NM(e,...t){isFunction(e)&&e(...t)}function BM(e,t,r,n=!1){var i=$g(),a=Date.now();return(o,s,l=!1)=>{MM(e,i,t,null===s?0:1,a,0,s,r,n),!l&&MM(e,i,t,o?1:0,a,1,s,r,n,!0)}}function $M(e,t){qM("",e,1,t,!1)}var FM=null,jM=Math.random,WM=(e,t)=>!!wM(e)||!SM(e)&&(!VE[e]&&(!dt(t)||!("success"in t||"fail"in t||"complete"in t)||void 0));function VM(e){var t;return function(){return t=t||e.apply(this)}}function UM(e,t,r,n,i,a,o){var s=function(l,...c){var u,d,p=!1,h=getApiReportStrategy(e),f=null!==(u=null==h?void 0:h.ratio)&&void 0!==u?u:i,g=1===(null==h?void 0:h.ratio)||o,v=jM()<f,m=guid(),y=L.getAsyncCallApiRelatedEvent();(d=L.getTrackUserAction())&&L.pushApiToEventApiList(e,m);var b=Date.now(),w=c.length?[l,...c]:l,S=!0;Promise.resolve().then((()=>{S=!1}));var C=()=>!S;try{var k,I=arguments.length?[WM(e,l)?l:Object.assign({},l,{..."request"===e?{__wx_inner_uuid__:m,__wx_inner_invokeTime__:b,__wx_inner_request_network_type__:_getCurrentNetworkType(),__wx_request_route_path__:L.getCurrentRoutePath()}:{},success:t=>{var r;checkPointFullReportRule(e,{res:t}).then((r=>{g=g||r||p,(r||v||p)&&(!g||!M.isLimitReport(21688))&&report(e,m,w,1,b,1,t,a,g,C())})).catch((e=>{_.warn("checkPointFullReportRule err:",e)})),DM.includes(e)&&L.reportInteractionAPI({api:e,result:0,res:t}),"request"!==e&&L.traceApi(e,l,t,null,m,Date.now()-b,!0),d&&(r=L.setAsyncCallApiRelatedEvent(d)),NM(l&&l.success,t),d&&!1!==r&&setTimeout((()=>L.clearAsyncCallApiRelatedEvent(d)),L.getAsyncCallbackJoinEventInterval())},fail:t=>{var r;checkPointFullReportRule(e,{res:t}).then((r=>{g=g||r||p,(r||v||p)&&(!g||!M.isLimitReport(21688))&&report(e,m,w,0,b,1,t,a,g,C())})).catch((e=>{_.warn("checkPointFullReportRule err:",e)})),DM.includes(e)&&L.reportInteractionAPI({api:e,result:1,res:t}),"request"!==e&&L.traceApi(e,l,t,!0,m,Date.now()-b,!0,{errMsg:t.errMsg,errno:t.errno}),t.errno&&M.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[e,t.errno].join(",")}),isFunction(l&&l.fail)?(d&&(r=L.setAsyncCallApiRelatedEvent(d)),NM(l&&l.fail,t),d&&!1!==r&&setTimeout((()=>L.clearAsyncCallApiRelatedEvent(d)),L.getAsyncCallbackJoinEventInterval())):console.warn("call failed:,",t)}}),...c]:[];k=this instanceof s?Reflect.construct(t,I,t):Reflect.apply(t,r,I),L.traceApi(e,l,k,null,m,Date.now()-b,!1,{relatedEvent:y});var P=null===k?0:1;return checkPointFullReportRule(e,{req:w,res:k}).then((t=>{t&&(p=!0),g=g||t,(t||v)&&(!g||!M.isLimitReport(21688))&&report(e,m,w,P,b,0,k,a,g)})).catch((e=>{_.warn("checkPointFullReportRule err:",e)})),n&&isObject(k)&&!RM.has(k)&&(zM(e,k,!1,i,a,g,!1),RM.add(k)),k}catch(t){throw L.traceApi(e,l,null,!0,m,Date.now()-b,!1,{errMsg:t,relatedEvent:y}),checkPointFullReportRule(e,{req:w}).then((r=>{r&&(p=!0),g=g||r,(r||v)&&(!g||!M.isLimitReport(21688))&&report(e,m,w,0,b,0,t,a,g)})).catch((e=>{_.warn("checkPointFullReportRule err:",e)})),t}};return s}function zM(e,t,r,n,i,a,o){if(!isObject(t))return t;var s,l=new FM;for(var c of Object.getOwnPropertyNames(t))(s=LM(t,c))&&l.set(c,s);var u=Object.getPrototypeOf(t);for(var d of Object.getOwnPropertyNames(u))(s=LM(u,d))&&!s.get&&l.set(d,s);return l.forEach(((s,l)=>{if(o&&s.get)Object.defineProperty(t,l,{get:VM((function(){var c=s.get.apply(this);return isFunction(c)?UM(`${e}${e?".":""}${l}`,c,t,r&&"Sync"!==l.slice(-4),n,i,a):isObject(c)&&o?zM(`${e}${e?".":""}${l}`,c,r,n,i,a,o):void 0})),set:s.set,enumerable:s.enumerable,configurable:s.configurable});else{var c=s.value;if(!s.writable)return;isFunction(c)?t[l]=UM(`${e}${e?".":""}${l}`,c,t,r&&"Sync"!==l.slice(-4),n,i,a):isObject(c)&&o&&(t[l]=zM(`${e}${e?".":""}${l}`,c,r,n,i,a,o))}})),t}function qM(e,t,r,n,i=!1){if(isObject(t)){var a=new FM;for(var o of Object.getOwnPropertyNames(t))if(LM(t,o)){var s=Object.getOwnPropertyDescriptor(t,o);if(s.get||!s.writable||!isFunction(t[o]))return;a.set(o,t[o])}var l=Object.getPrototypeOf(t);for(var c of Object.getOwnPropertyNames(l))if(!LM(l,c)){var u=Object.getOwnPropertyDescriptor(l,c);if(u.get||!u.writable||!isFunction(l[c]))return;a.set(c,l[c])}a.forEach(((a,o)=>{var s;t[o]=new Proxy(t[o],{construct(t,a){var o,l=getApiReportStrategy(e),c=null!==(o=null==l?void 0:l.ratio)&&void 0!==o?o:r,u=1===(null==l?void 0:l.ratio)||i,d=jM()<c,p=_getCurrentNetworkType(),h=Date.now(),f=guid();s=a;try{var g=Reflect.construct(t,a);return d&&report(e,f,a,null===g?0:1,h,p,0,g,n,u),g}catch(t){throw d&&report(e,f,s,0,h,p,0,t,n,u),t}},get:(e,t)=>t===Symbol.hasInstance?t=>t instanceof e:e[t]})}))}}var HM=!1;function GM(e){if(e.createCanvas){var t=e.createCanvas;e.createCanvas=()=>{var r=t.call(e);if(r&&r.getContext){var n=r.getContext;r.getContext=(...e)=>{var t=n.call(r,...e);if(t&&t.compressedTexImage2D){var i=t.compressedTexImage2D;t.compressedTexImage2D=(...e)=>{HM||(HM=!0,report("WebGLRenderingContext.compressedTexImage2D",guid(),{},1,Date.now(),_getCurrentNetworkType(),0,void 0)),i.call(t,...e)}}return t}}return r}}}function KM(e,t=0){zM("",e,!0,.05,t,!1,!0),GM(e)}var JM={},XM=(e,t)=>{JM[e]=t},YM=e=>JM[e],QM=Symbol("IS_SUB_PACKAGE_INJECT_API"),ZM=Symbol("EXIT_EXECUTE_SYMBOL"),eR=(e,...t)=>{gt(e)&&e(...t)},tR=(e,t,...r)=>{isFunction(e)&&e.call(t,...r)},rR=234234669135,nR=234231453256,iR=234532352353;function aR(e){var t;return function(){return t=t||e.apply(this)}}function oR(e,t){if("function"!=typeof e)return!1;var r=e.toString();return void 0!==e.prototype&&(e.prototype.constructor===e&&("class"===r.slice(0,5)||(Object.getOwnPropertyNames(e.prototype).length>=2||!/^function\s+\(|^function\s+anonymous\(/.test(r)&&(!(!t||!/^function\s+[A-Z]/.test(r))||!!/\b\(this\b|\bthis[\.\[]\b/.test(r)&&(!(t&&!/classCallCheck\(this/.test(r))||/^function\sdefault_\d+\s*\(/.test(r))))))}var sR=[],lR=e=>sR.push(e),cR=()=>sR,uR=e=>"function"==typeof e,dR=e=>"object"==typeof e&&e,pR="break_callback_execute",hR=Symbol("defineGeneralSymbol"),fR=new WeakSet;function gR(e,t){return function(r,n,i){if("noCondom"===e&&lR(n),i.value){var a;if(null!==(a=i.value)&&void 0!==a&&a.extraInfos){var o=i.value.extraInfos[e];o?Object.assign(o,t):i.value.extraInfos[e]=t}else i.value={extraInfos:{generalMetadata:{},[e]:t},value:i.value}}else{var s=i.initializer();if("noHook"===e)return void(i.initializer=()=>s);if("noExpose"===e)return void(i.initializer=()=>{});i.value={extraInfos:{[e]:t}},i.initializer=()=>{var e,t=null===(e=i.value)||void 0===e?void 0:e.extraInfos;return delete i.value.extraInfos,t.api=n,t.prefix="",Object.assign(t,r[hR]),vR(t,s,this)}}return i}}function vR(e,t,r,n=1){if(!dR(e))return t;var i,{api:a,prefix:o=""}=e;if((e.handleObject||e.handleSdkSubPackageObject||e.lazy)&&dR(t))return jE(a,"")||1!==n?new Proxy(t,{get(r,s){var l,c,u=Object.assign({},e,{api:s,prefix:o||a+".",lazy:void 0});u.handleObject=!1;var d=null===(l=e.lazy)||void 0===l||null===(c=l.hookHandlers)||void 0===c?void 0:c.getter;return d?"extraInfos"===s?r[s]:(i||(i=vR(u,d(),t,n)),i[s]):r[s]},set(r,s,l){if(i)i[s]=l;else{var c,u,d=null===(c=e.lazy)||void 0===c||null===(u=c.hookHandlers)||void 0===u?void 0:u.getter;if(d){var p=Object.assign({},e,{api:s,prefix:o||a+".",lazy:void 0});p.handleObject=!1,(i=vR(p,d(),t,n))[s]=l}else r[s]=l}return!0}}):(console.error(new Td(a+":fail rejected due to no permission currently")),null);if(!uR(t))return t;var s,l=!0,c=[],u=[],d={},p=function(...r){var i,p,h;r[r.length-2]===QM&&(t=r[r.length-1],r=r.slice(0,-2));var f=!1,g=r[0],v=g,m=o+a,y={};if(l){l=!1,s=new Map;var b={};Object.keys(e).forEach((function(t){var r=e[t];if("object"==typeof r&&r){var{hookHandlers:i,getState:l,otherDecoratorStates:p}=r;if(i&&Object.keys(i).forEach((e=>{var r=s.get(e);r?r.push({fn:i[e],metaKey:t}):s.set(e,[{fn:i[e],metaKey:t}])})),l){c.push(t);var h=l(),f=Date.now(),v=Math.random(),m=1e4*f+Math.round(9999*v);h.prefix=o,h.api=a,h.originArgs=g,h.invokeTime=f,h.random=v,h.uuid=m,y[t]=h,b[t]&&(b[t].forEach((e=>{e[t]=h})),delete b[t]),h.deep>n&&(d[t]=h.deep)}p&&(u.push(t),y[t]=y[t]||{},y[t].otherDecoratorStates={},p.forEach((e=>{y[e]?y[t].otherDecoratorStates[e]=y[e]:b[e]?b[e].push(y[t].otherDecoratorStates):b[e]=[y[t].otherDecoratorStates]})))}}))}else{var _=Date.now(),w=Math.random(),S=1e4*_+Math.round(9999*w);c.forEach((function(t){var r=e[t],{getState:n}=r,i=n();i.prefix=o,i.api=a,i.originArgs=g,i.invokeTime=_,i.random=w,i.uuid=S,y[t]=i})),u.forEach((function(t){var r=e[t],{otherDecoratorStates:n}=r;y[t]=y[t]||{},y[t].otherDecoratorStates={},n.forEach((e=>{y[t].otherDecoratorStates[e]=y[e]}))}))}var C,k,I=()=>{if(dt(g));var i,l,c,u,p;try{var h,b=!1,_=s.get("beforeExecute");if(_&&_.forEach((function({fn:e,metaKey:t}){var r=e.call(y[t]);Array.isArray(r)&&r[0]===ZM&&(b=r)})),!1!==b)return r[0]&&"object"==typeof r[0]?void setTimeout((()=>{Vc(m,r[0],b[1])})):uR(b[2])?b[2]():void 0;var w=s.get("paramHandler");w&&w.forEach((function({fn:e,metaKey:t}){y[t].modifyArgs?e.call(y[t],r):e.call(y[t],...r)})),(!(null==y||null===(h=y.promised)||void 0===h||!h.promise)||!WM(m,r[0]))&&(f||(v=Object.assign({},v),y.timeout&&(y.timeout.afterCopyArgs=v)),["complete","success","fail"].forEach((function(e){var t=s.get(e),r=v[e];v[`__origin_${e}__`]=r,t&&(v[e]=function(n){"fail"===e&&(i=n),"success"===e&&(u=n);try{t.forEach((({fn:e,metaKey:t})=>e.call(y[t],n)))}catch(e){if(e===pR)return}uR(r)&&r.call(g,n);var a="after"+e[0].toUpperCase()+e.slice(1),o=s.get(a);o&&o.forEach((({fn:e,metaKey:t})=>e.call(y[t],n)))})})),f||(r[0]=v,f=!0));var S=s.get("hookArgs");S&&S.forEach((({fn:e,metaKey:t})=>e.call(y[t],v)));var C=!1,k=s.get("breakDirectly");if(k)for(var I=0;I<k.length;I++){var P=k[I].fn.call(y[k[I].metaKey],...r);if(P!==nR){C=!0,c=P;break}}if(!C)try{c=t.call(this,...r)}catch(e){var T=!1,A=s.get("errorHandler");A&&A.forEach((({fn:t,metaKey:r})=>{t.call(y[r],e)===iR&&(T=!0)})),T||(l=e)}var x={};for(var E in d)if(dt(c)){var M=Object.getPrototypeOf(c);for(var R of Object.getOwnPropertyNames(c).concat(Object.getOwnPropertyNames(M))){var D=R in M?M:c,O=(o||"")+a,L=LM(D,R);if(L&&(!L.get&&L.writable&&uR(D[R]))){var N={prefix:O+".",api:R};x[R]||(x[R]=N),x[R][E]=e[E]}}}var B=s.get("resultHandler");if(B&&B.forEach((({fn:e,metaKey:t})=>{var n=e.call(y[t],c,r,{syncError:l,callbackError:i});n!==rR&&(c=n)})),!fR.has(c)&&dt(c)){for(var $ of Object.getOwnPropertyNames(x))c[$]=vR(x[$],c[$],c,n+1);fR.add(c)}}catch(e){p=e;var F=s.get("uncaughtErrorHandler");F&&F.forEach((({fn:t,metaKey:r})=>{t.call(y[r],e)===iR&&(p=null)}))}var j=!0,W=s.get("afterCallback");if(W&&W.forEach((function({fn:e,metaKey:t}){e.call(y[t],r,u||c,{syncError:l,callbackError:i})===iR&&(j=!1)})),p)throw p;if(!l)return c;if(j)throw l},P=!0,T=s.get("asyncPrepositive"),A=s.get("syncPrepositive"),x=(null==y?void 0:y.promised)&&!(null!==(i=v)&&void 0!==i&&i.success||null!==(p=v)&&void 0!==p&&p.fail||null!==(h=v)&&void 0!==h&&h.complete);if(A)for(var E of A){var{fn:M,metaKey:R}=E,D=M.call(y[R],v);if(D[0]){if(D[3])return;var O,L,N=void 0;return N=D[4]?`${o+a}:fail${D[1]?" ":""}${D[1]}`:{errMsg:`${o+a}:fail${D[1]?" ":""}${D[1]}`,...D[2]?{errno:D[2]}:{}},x?Promise.reject(N):(null!==(O=v)&&void 0!==O&&O.fail&&v.fail(N),void(null!==(L=v)&&void 0!==L&&L.complete&&v.complete(N)))}}if(T){var B=[];T.forEach((({fn:e,metaKey:t})=>{B.push(e.call(y[t],v))})),B.find((e=>kt(e)))&&(k=Promise.all(B))}return k?x?new Promise(((e,t)=>{k.then((r=>{for(var n of r)if(n[0]){P=!1,C=n[4]?`${o+a}:fail${n[1]?" ":""}${n[1]}`:{errMsg:`${o+a}:fail${n[1]?" ":""}${n[1]}`,...n[2]?{errno:n[2]}:{}};break}return P?void e(I()):void t(C)}))})):void k.then((e=>{for(var t of e)if(t[0]){P=!1,C=t[4]?`${o+a}:fail${t[1]?" ":""}${t[1]}`:{errMsg:`${o+a}:fail${t[1]?" ":""}${t[1]}`,...t[2]?{errno:t[2]}:{}};break}if(P)return I();var r,n;null!==(r=v)&&void 0!==r&&r.fail&&v.fail(C),null!==(n=v)&&void 0!==n&&n.complete&&v.complete(C)})):I()};return n>1?p.bind(r):p}function mR(e,t){return function(r){r.prototype[hR]?r.prototype[hR][e]=t:r.prototype[hR]={[e]:t}}}function yR(e){var t=e.prototype.constructor;return function(...r){var n=new t(...r),i=Object.getOwnPropertyDescriptors(n);return Object.keys(i).forEach((t=>{var r,a=i[t],o=null===(r=a.value)||void 0===r?void 0:r.extraInfos;o&&(Object.assign(o,e.prototype[hR]),Object.defineProperty(n,t,{value:a.value.value()}))})),n}}function bR(e=!0){return function(t){var r=Object.getOwnPropertyDescriptors(e?t.prototype:t);for(var n in r)if("constructor"!==n){var i,a=r[n],o=null===(i=a.value)||void 0===i?void 0:i.extraInfos;o&&(o.api=n,o.prefix="",Object.assign(o,t.prototype[hR]),Object.defineProperty(e?t.prototype:t,n,{value:vR(o,a.value.value,e?t.prototype:t),configurable:!0}))}}}var _R=function(e){return e[e.Open=0]="Open",e[e.Tap=8]="Tap",e[e.Click=10]="Click",e[e.Start=11]="Start",e[e.Stop=12]="Stop",e[e.CustomAttr=13]="CustomAttr",e[e.Routing=14]="Routing",e[e.WxInput=16]="WxInput",e[e.VisibilityChange=17]="VisibilityChange",e[e.Env=40]="Env",e[e.WindowState=41]="WindowState",e[e.Depth=83]="Depth",e[e.EleExposure=84]="EleExposure",e[e.EleUnExposure=85]="EleUnExposure",e[e.CommonDeps=86]="CommonDeps",e[e.UserScreenCapture=87]="UserScreenCapture",e[e.CustomEvent=88]="CustomEvent",e[e.UiReaction=89]="UiReaction",e[e.OnError=90]="OnError",e[e.OnUnhandledRejection=91]="OnUnhandledRejection",e[e.OnPageNotFound=92]="OnPageNotFound",e[e.OnLazyLoadError=93]="OnLazyLoadError",e[e.ToastError=94]="ToastError",e[e.RequestError=95]="RequestError",e[e.UploadFileError=96]="UploadFileError",e[e.DownloadFileError=97]="DownloadFileError",e[e.ConnectSocketError=98]="ConnectSocketError",e[e.ImgLoadError=99]="ImgLoadError",e[e.BatchReport=101]="BatchReport",e[e.Unsupported=102]="Unsupported",e[e.WeSessionIdChanged=103]="WeSessionIdChanged",e[e.NetworkAPI=110]="NetworkAPI",e[e.ConsoleError=111]="ConsoleError",e[e.ConsoleWarn=112]="ConsoleWarn",e[e.RTLogError=113]="RTLogError",e[e.RTLogWarn=114]="RTLogWarn",e[e.PerfAPI=115]="PerfAPI",e[e.NetworkWeak=116]="NetworkWeak",e[e.NetworkStatus=117]="NetworkStatus",e[e.FirstExposure=118]="FirstExposure",e[e.MemoryWarning=119]="MemoryWarning",e[e.RTLogInfo=120]="RTLogInfo",e[e.RTLogDebug=121]="RTLogDebug",e[e.ReportEvent=122]="ReportEvent",e[e.NetworkLimitExceeded=123]="NetworkLimitExceeded",e[e.NavigateTo=701]="NavigateTo",e[e.RedirectTo=702]="RedirectTo",e[e.NavigateBack=703]="NavigateBack",e[e.SwitchTab=704]="SwitchTab",e[e.AppLaunch=705]="AppLaunch",e[e.ReLaunch=706]="ReLaunch",e[e.AutoReLaunch=707]="AutoReLaunch",e[e.AppShow=720]="AppShow",e[e.AppHide=721]="AppHide",e[e.PageShow=722]="PageShow",e[e.PageAddToFavorites=723]="PageAddToFavorites",e[e.InitState=730]="InitState",e[e.ShowModal=740]="ShowModal",e[e.CloseModal=741]="CloseModal",e[e.ShowActionSheet=742]="ShowActionSheet",e[e.CloseActionSheet=743]="CloseActionSheet",e[e.ShowToast=744]="ShowToast",e[e.HideToast=745]="HideToast",e[e.OnShareAppMessage=746]="OnShareAppMessage",e[e.DoShareAppMessage=747]="DoShareAppMessage",e[e.OnShareTimeline=748]="OnShareTimeline",e[e.DoShareTimeline=749]="DoShareTimeline",e[e.KeyBoardHeightChange=750]="KeyBoardHeightChange",e[e.TabItemTap=751]="TabItemTap",e[e.PageStaytime=760]="PageStaytime",e[e.WeSession=780]="WeSession",e[e.ReserveChannelsLive=800]="ReserveChannelsLive",e[e.ReserveChannelsLiveDone=801]="ReserveChannelsLiveDone",e[e.OpenChannelsUserProfile=802]="OpenChannelsUserProfile",e[e.OpenChannelsUserProfileDone=803]="OpenChannelsUserProfileDone",e[e.OpenChannelsLive=804]="OpenChannelsLive",e[e.OpenChannelsLiveDone=805]="OpenChannelsLiveDone",e[e.OpenChannelsEvent=806]="OpenChannelsEvent",e[e.OpenChannelsEventDone=807]="OpenChannelsEventDone",e[e.OpenChannelsActivity=808]="OpenChannelsActivity",e[e.OpenChannelsActivityDone=809]="OpenChannelsActivityDone",e[e.GetChannelsShareKey=810]="GetChannelsShareKey",e[e.GetChannelsShareKeyDone=811]="GetChannelsShareKeyDone",e[e.GetChannelsLiveNoticeInfo=812]="GetChannelsLiveNoticeInfo",e[e.GetChannelsLiveNoticeInfoDone=813]="GetChannelsLiveNoticeInfoDone",e[e.GetChannelsLiveInfo=814]="GetChannelsLiveInfo",e[e.GetChannelsLiveInfoDone=815]="GetChannelsLiveInfoDone",e[e.RequestPayment=820]="RequestPayment",e[e.RequestPaymentDone=821]="RequestPaymentDone",e[e.RequestPluginPayment=822]="RequestPluginPayment",e[e.RequestPluginPaymentDone=823]="RequestPluginPaymentDone",e[e.RequestSubscribeMessage=824]="RequestSubscribeMessage",e[e.RequestSubscribeMessageDone=825]="RequestSubscribeMessageDone",e[e.RequestOrderPayment=826]="RequestOrderPayment",e[e.RequestOrderPaymentDone=827]="RequestOrderPaymentDone",e[e.PreviewMedia=830]="PreviewMedia",e[e.PreviewMediaDone=831]="PreviewMediaDone",e[e.PreviewImage=832]="PreviewImage",e[e.PreviewImageDone=833]="PreviewImageDone",e[e.EditImage=834]="EditImage",e[e.EditImageDone=835]="EditImageDone",e[e.CropImage=836]="CropImage",e[e.CropImageDone=837]="CropImageDone",e[e.ChooseMessageFile=838]="ChooseMessageFile",e[e.ChooseMessageFileDone=839]="ChooseMessageFileDone",e[e.ChooseImage=840]="ChooseImage",e[e.ChooseImageDone=841]="ChooseImageDone",e[e.ChooseVideo=842]="ChooseVideo",e[e.ChooseVideoDone=843]="ChooseVideoDone",e[e.ChooseMedia=844]="ChooseMedia",e[e.ChooseMediaDone=845]="ChooseMediaDone",e[e.OpenLocation=846]="OpenLocation",e[e.OpenLocationDone=847]="OpenLocationDone",e[e.OpenDocument=848]="OpenDocument",e[e.OpenDocumentDone=849]="OpenDocumentDone",e[e.OpenSetting=850]="OpenSetting",e[e.OpenSettingDone=851]="OpenSettingDone",e[e.ReportH5SessionId=910]="ReportH5SessionId",e}({}),wR=null,SR=2,CR=4,kR=4,IR=1;function PR(){var e=new Uint8Array(SR);new DataView(e.buffer).setUint16(0,IR)}function TR(e,t){var r=xR(e),n=new Uint8Array(CR+r.length+kR+t.length),i=new DataView(n.buffer);return i.setInt32(0,r.length),n.set(r,CR),i.setInt32(CR+r.length,t.length),n.set(t,CR+r.length+kR),n}function AR(e,t){var r=0,n=e?SR:0,i=[];for(var a of t){var o=xR(a[0]);i.push([o,a[1]]),n+=o.length+a[1].length+CR+kR}var s=new Uint8Array(n),l=new DataView(s.buffer);for(var[c,u]of(e&&(l.setInt16(0,IR),r+=SR),i))l.setInt32(r,c.length),r+=CR,s.set(c,r),r+=c.length,l.setInt32(r,u.length),r+=kR,s.set(u,r);return s}function xR(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}var ER=f(818),MR=f.n(ER),RR={};function DR(e){var t=JSON.stringify(e);if(RR[t]){if(RR[t].expireTs>r6())return RR[t].authorization;delete RR[t]}var r=Math.round(r6()/1e3),n=r+3600,i=`${r};${n}`,a=MR().HmacSHA1(i,e.secretKey).toString(),o=[];for(var s of Object.keys(e.query)){var l=e.query[s]?encodeURIComponent(e.query[s]):"";o.push([encodeURIComponent(s).toLowerCase(),l])}o.sort(((e,t)=>e[0]===t[0]?0:e[0]>t[0]?1:-1));var c=o.map((e=>e[0])).join(";"),u=o.map((e=>`${e[0]}=${e[1]}`)).join("&"),d=[];d.push([encodeURIComponent("host"),encodeURIComponent(e.headers.host)]);var p=d.map((e=>e[0])).join(";"),h=d.map((e=>`${e[0]}=${e[1]}`)).join("&"),f=`${e.method.toLowerCase()}\n${e.pathname}\n${u}\n${h}\n`,g=["sha1",i,MR().SHA1(f).toString(),""].join("\n"),v=MR().HmacSHA1(g,a).toString(),m=["q-sign-algorithm=sha1","q-ak="+e.secretId,"q-sign-time="+i,"q-key-time="+i,"q-header-list="+p,"q-url-param-list="+c,"q-signature="+v].join("&");return RR[t]={authorization:m,expireTs:1e3*n},m}function OR(e,{method:t,headers:r,body:n}){return new Promise(((i,a)=>{UA({url:e,method:t,header:r,data:"string"==typeof n?n:null!=n&&n.buffer?n.buffer:n,success:i,fail:a})}))}function LR(){return"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function NR(e){for(var t=e.length,r=5381,n=0;n<t;++n)r=(r<<5)+r+e.charCodeAt(n);return String(r)}function BR(){var e,t,r,n,i,a,o=JSON.parse(JSON.stringify(re));return delete o.appLaunchInfo.openId,null==o||(null===(e=o.appContactInfo)||void 0===e||delete e.call_plugin_info),null==o||(null===(t=o.appContactInfo)||void 0===t||delete t.operationInfo),null==o||(null===(r=o.appContactInfo)||void 0===r||delete r.stablePassThroughInfo),null==o||(null===(n=o.appContactInfo)||void 0===n||delete n.passThroughInfo),null==o||(null===(i=o.appLaunchInfo)||void 0===i||delete i.clickTimestamp),null==o||(null===(a=o.appLaunchInfo)||void 0===a||delete a.clickTimestampInMs),null==o||delete o.downloadDomain,null==o||delete o.expt,null==o||delete o.extendedLibList,null==o||delete o.host,null==o||delete o.subPackages,null==o||delete o.subpackages,null==o||delete o.userConfig,null==o||delete o.wxAppInfo,null==o||delete o.embeddedAppIdList,null==o||delete o.pages,o}function $R(){var e=null==re?void 0:re.appLaunchInfo.openId;return e?MR().SHA1(e).toString():null}var FR=/^(\w+)([><=]|!=)(.+)$/;function jR(e,t){try{var r=e.split(";").map((e=>e.trim())).filter((e=>e));for(var n of r){var i=n.match(FR);if(i&&4===i.length){var[a,o,s,l]=i,c=l.split(",").map((e=>e.trim())).filter((e=>e));if("os"===o)if("="===s){if(!c.includes(t.os))return!1}else{if("!="!==s)return!1;if(c.includes(t.os))return!1}else{if("lib"!==o)return!1;if("="===s){if(!c.includes(t.sdkVersion))return!1}else if("!="===s){if(c.includes(t.sdkVersion))return!1}else if(">"===s){if(oA(t.sdkVersion,c[0])<=0)return!1}else{if("<"!==s)return!1;if(oA(t.sdkVersion,c[0])>=0)return!1}}}}return!0}catch(e){return!1}}function WR(e){if(e){var t=e.split("\n"),r="",n=!1;for(var i of t)i.includes("/usr/")?(r+=i,n=!1):n||(r+="\n",n=!0);return"\n"===r?void 0:r}}function VR(e){fd("appendRuntimeContext",{data:e.endsWith(";")?e:`${e};`,success(){},fail(e){}})}var UR=function(e){return e[e.LayoutCost=1]="LayoutCost",e[e.EncryptCost=2]="EncryptCost",e[e.CompressCost=3]="CompressCost",e[e.UploadCosCost=4]="UploadCosCost",e[e.UploadWxCost=5]="UploadWxCost",e[e.TaskCost=6]="TaskCost",e[e.LongTaskCost=7]="LongTaskCost",e[e.WebCodeLoadCost=8]="WebCodeLoadCost",e[e.WebSetupCost=9]="WebSetupCost",e[e.FetchCosCost=10]="FetchCosCost",e[e.CompressV1Cost=11]="CompressV1Cost",e[e.CompressV2Cost=12]="CompressV2Cost",e[e.UploadCosCostWithWxData=13]="UploadCosCostWithWxData",e[e.UploadConsoleErrorTimeCost=14]="UploadConsoleErrorTimeCost",e[e.UploadRealtimeLogTimeCost=15]="UploadRealtimeLogTimeCost",e[e.WebviewEvent=30]="WebviewEvent",e[e.AppserviceEvent=31]="AppserviceEvent",e[e.Error=32]="Error",e[e.Unsupport=33]="Unsupport",e[e.Task=34]="Task",e[e.LongTask=35]="LongTask",e[e.CosInfoFetch=37]="CosInfoFetch",e[e.CosInfoRefetch=38]="CosInfoRefetch",e[e.UploadCosSucess=39]="UploadCosSucess",e[e.UploadCosFailure=40]="UploadCosFailure",e[e.UploadWxSucess=41]="UploadWxSucess",e[e.UploadWxFailure=42]="UploadWxFailure",e[e.AutoSetup=43]="AutoSetup",e[e.SdkSetup=44]="SdkSetup",e[e.MissSample=45]="MissSample",e[e.CosAppend=46]="CosAppend",e[e.CosPut=47]="CosPut",e[e.CosHead=48]="CosHead",e[e.CommonAssetMiss=49]="CommonAssetMiss",e[e.CommonAssetHit=50]="CommonAssetHit",e[e.DbClose=51]="DbClose",e[e.UploadCosExpired=52]="UploadCosExpired",e[e.Teardown=53]="Teardown",e[e.Resetup=54]="Resetup",e[e.CanvasCapture=55]="CanvasCapture",e[e.CosPost=56]="CosPost",e[e.CosPutWithWxData=57]="CosPutWithWxData",e[e.Status451=58]="Status451",e[e.ZstdCompressErr=59]="ZstdCompressErr",e[e.ZstdCompressExceedLoopQuota=60]="ZstdCompressExceedLoopQuota",e[e.CosHeadBackEnd=61]="CosHeadBackEnd",e[e.CosInfoMissing=62]="CosInfoMissing",e[e.GetAuxiliaryDomainInfo=63]="GetAuxiliaryDomainInfo",e[e.ParseAuxiliaryDomainInfo=64]="ParseAuxiliaryDomainInfo",e[e.CoslessMode=65]="CoslessMode",e[e.UploadCosSucessWithWxData=66]="UploadCosSucessWithWxData",e[e.UploadCosFailureWithWxData=67]="UploadCosFailureWithWxData",e[e.PublishDataToWebview=68]="PublishDataToWebview",e[e.ReceiveDataInWebview=69]="ReceiveDataInWebview",e[e.PackAppserviceDataIntoWebviewKvs=70]="PackAppserviceDataIntoWebviewKvs",e[e.WebviewHeartBeatTimeout=71]="WebviewHeartBeatTimeout",e[e.ReporterHeartBeatTimeout=72]="ReporterHeartBeatTimeout",e[e.ReporterChanged=73]="ReporterChanged",e[e.WebReporterSuspended=74]="WebReporterSuspended",e[e.WebReporterAliveButBeReplaced=75]="WebReporterAliveButBeReplaced",e[e.CustomizeBucketLifecycleListObjects=76]="CustomizeBucketLifecycleListObjects",e[e.CustomizeBucketLifecycleDeleteObjects=77]="CustomizeBucketLifecycleDeleteObjects",e[e.UnifiedReportSuccess=78]="UnifiedReportSuccess",e[e.UnifiedReportFailure=79]="UnifiedReportFailure",e[e.UnifiedReportWebviewSuccess=1080]="UnifiedReportWebviewSuccess",e[e.UnifiedReportWebviewFailure=1081]="UnifiedReportWebviewFailure",e[e.FetchCosInfoWithWXData=1082]="FetchCosInfoWithWXData",e[e.FetchCosInfoWithHTTPS=1083]="FetchCosInfoWithHTTPS",e[e.AutoSwitchToCosless=1084]="AutoSwitchToCosless",e[e.MaskSensitiveTextCount=1090]="MaskSensitiveTextCount",e[e.MaskSensitiveTextSlow=1091]="MaskSensitiveTextSlow",e[e.NetworkSuccess=1100]="NetworkSuccess",e[e.NetworkFail=1101]="NetworkFail",e[e.LegacySetupApi=2099]="LegacySetupApi",e[e.RealtimeLogSerializeError=2100]="RealtimeLogSerializeError",e[e.__DeprecatedUploadWxNetwork=2101]="__DeprecatedUploadWxNetwork",e[e.__DeprecatedUploadNetwork=2101]="__DeprecatedUploadNetwork",e[e.UploadWxCustomEvent=2103]="UploadWxCustomEvent",e[e.UploadCustomEvent=2104]="UploadCustomEvent",e[e.UploadWxRealtimeLog=2105]="UploadWxRealtimeLog",e[e.UploadRealtimeLog=2106]="UploadRealtimeLog",e[e.NetworkHandleError=2107]="NetworkHandleError",e[e.UploadWxReportEvent=2108]="UploadWxReportEvent",e[e.UploadReportEvent=2109]="UploadReportEvent",e[e.UploadWxNetwork=2110]="UploadWxNetwork",e[e.UploadNetwork=2111]="UploadNetwork",e[e.ConsoleErrorSerializeError=2112]="ConsoleErrorSerializeError",e[e.ConsoleErrorDrop=2113]="ConsoleErrorDrop",e[e.UploadWxSize=80]="UploadWxSize",e[e.UploadCosSize=81]="UploadCosSize",e[e.UploadCommonSize=82]="UploadCommonSize",e[e.HitCommonSize=83]="HitCommonSize",e[e.CanvasAllCaptureSize=84]="CanvasAllCaptureSize",e[e.CanvasUploadCaptureSize=85]="CanvasUploadCaptureSize",e[e.UploadCosSizeWithWxData=86]="UploadCosSizeWithWxData",e[e.PublishDataToWebviewSize=87]="PublishDataToWebviewSize",e[e.ReceiveDataInWebviewSize=88]="ReceiveDataInWebviewSize",e[e.ReportAppserviceDataInWebviewSize=89]="ReportAppserviceDataInWebviewSize",e[e.CustomizeBucketLifecycleDeleteObjectsSize=90]="CustomizeBucketLifecycleDeleteObjectsSize",e[e.UploadReportEventSize=91]="UploadReportEventSize",e[e.UploadRealtimeLogSize=92]="UploadRealtimeLogSize",e[e.UploadNetworkSize=93]="UploadNetworkSize",e[e.ServerClientTimeDiff=94]="ServerClientTimeDiff",e[e.UploadConsoleErrorSize=95]="UploadConsoleErrorSize",e[e.RegisterRefetchCosTokenFromExpire=201]="RegisterRefetchCosTokenFromExpire",e[e.TaskQueueDeadTaskDetected=202]="TaskQueueDeadTaskDetected",e}({});function zR(e){return qR.apply(this,arguments)}function qR(){return qR=Vp()((function*(e){var t=L2.cosInfo;if(!t)throw new Error("no cos info");var r=L2.customHost||`${t.bucket}.cos.${t.region}.myqcloud.com`,n=DR({secretId:t.secretid,secretKey:t.secretkey,method:"put",pathname:`/${e.key}`,query:{devtools_ignore:"true"},headers:{host:r}});LN(UR.CosPut);var i=yield OR(`https://${r}/${e.key}?devtools_ignore=true`,{method:"PUT",headers:{authorization:n,"x-cos-security-token":t.token},body:e.body});if(i.statusCode<300||451===i.statusCode||403===i.statusCode||404===i.statusCode){var a={};for(var o of Object.keys(i.header))a[o.toLowerCase()]=i.header[o];return{status:i.statusCode,headers:a}}throw new Error(`putObject status ${i.statusCode}`)})),qR.apply(this,arguments)}function HR(e,t){return GR.apply(this,arguments)}function GR(){return GR=Vp()((function*(e,t){return t instanceof Uint8Array&&(t=OP(t.buffer)),LN(UR.CosPutWithWxData),yield rx({apiName:"webapi_wxobbackstopputobject",reqData:{project_key:L2.projectId,object_name:e,object_value:t}})})),GR.apply(this,arguments)}var KR={Raw:"0",Compressed:"1.0",CompressedAndAesCbc:"2.0"},JR={showModal:_R.ShowModal,closeModal:_R.CloseModal,showToast:_R.ShowToast,hideToast:_R.HideToast,showActionSheet:_R.ShowActionSheet,closeActionSheet:_R.CloseActionSheet,onShareAppMessage:_R.OnShareAppMessage,doShareAppMessage:_R.DoShareAppMessage,doShareTimeline:_R.DoShareTimeline,onShareTimeline:_R.OnShareTimeline,appLaunch:_R.AppLaunch,autoReLaunch:_R.AutoReLaunch,navigateTo:_R.NavigateTo,redirectTo:_R.RedirectTo,switchTab:_R.SwitchTab,reLaunch:_R.ReLaunch,navigateBack:_R.NavigateBack},XR={request:1,uploadFile:2,downloadFile:3,"gateway.call":5,"cloud.callFunction":6},YR=null;function QR(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}var ZR=[],eD=function(e){};function tD(){try{var e=new MessageChannel,t=e.port1,r=e.port2;t.onmessage=function(){if(ZR.length>0){var e=ZR.shift();e&&e()}},eD=function(e){ZR.push(e),r.postMessage(null)}}catch(e){}}tD();var rD=Uint8Array,nD=Uint16Array,iD=Uint32Array,aD=new rD([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oD=new rD([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sD=new rD([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lD=function(e,t){for(var r=new nD(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new iD(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return[r,i]},cD=QR(lD(aD,2),2),uD=cD[0],dD=cD[1];uD[28]=258,dD[258]=28;var pD=QR(lD(oD,0),2);pD[0];for(var hD=pD[1],fD=new nD(32768),gD=0;gD<32768;++gD){var vD=(43690&gD)>>>1|(21845&gD)<<1;vD=(52428&vD)>>>2|(13107&vD)<<2,vD=(61680&vD)>>>4|(3855&vD)<<4,fD[gD]=((65280&vD)>>>8|(255&vD)<<8)>>>1}for(var mD=function(e,t,r){for(var n=e.length,i=0,a=new nD(t);i<n;++i)e[i]&&++a[e[i]-1];var o,s=new nD(t);for(i=0;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(r){o=new nD(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=s[e[i]-1]++<<u,p=d|(1<<u)-1;d<=p;++d)o[fD[d]>>>l]=c}else for(o=new nD(n),i=0;i<n;++i)e[i]&&(o[i]=fD[s[e[i]-1]++]>>>15-e[i]);return o},yD=new rD(288),gD=0;gD<144;++gD)yD[gD]=8;for(var gD=144;gD<256;++gD)yD[gD]=9;for(var gD=256;gD<280;++gD)yD[gD]=7;for(var gD=280;gD<288;++gD)yD[gD]=8;for(var bD=new rD(32),gD=0;gD<32;++gD)bD[gD]=5;var _D=mD(yD,9,0);mD(yD,9,1);var wD=mD(bD,5,0);mD(bD,5,1);var SD=function(e){return(e+7)/8|0},CD=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(2==e.BYTES_PER_ELEMENT?nD:4==e.BYTES_PER_ELEMENT?iD:rD)(r-t);return n.set(e.subarray(t,r)),n},kD=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ID=function(e,t,r){var n=new Error(t||kD[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,ID),!r)throw n;return n},PD=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},TD=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},AD=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return[LD,0];if(1==i){var o=new rD(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var s=r[0],l=r[1],c=0,u=1,d=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=i-1;)s=r[r[c].f<r[d].f?c++:d++],l=r[c!=u&&r[c].f<r[d].f?c++:d++],r[u++]={s:-1,f:s.f+l.f,l:s,r:l};var p=a[0].s;for(n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var h=new nD(p+1),f=xD(r[u-1],h,0);if(f>t){n=0;var g=0,v=f-t,m=1<<v;for(a.sort((function(e,t){return h[t.s]-h[e.s]||e.f-t.f}));n<i;++n){var y=a[n].s;if(!(h[y]>t))break;g+=m-(1<<f-h[y]),h[y]=t}for(g>>>=v;g>0;){var b=a[n].s;h[b]<t?g-=1<<t-h[b]++-1:++n}for(;n>=0&&g;--n){var _=a[n].s;h[_]==t&&(--h[_],++g)}f=t}return[new rD(h),f]},xD=function(e,t,r){return-1==e.s?Math.max(xD(e.l,t,r+1),xD(e.r,t,r+1)):t[e.s]=r},ED=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new nD(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return[r.subarray(0,n),t]},MD=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},RD=function(e,t,r){var n=r.length,i=SD(t+2);e[i]=255&n,e[i+1]=n>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<n;++a)e[i+a+4]=r[a];return 8*(i+4+n)},DD=function(e,t,r,n,i,a,o,s,l,c,u){PD(t,u++,r),++i[256];for(var d=QR(AD(i,15),2),p=d[0],h=d[1],f=QR(AD(a,15),2),g=f[0],v=f[1],m=QR(ED(p),2),y=m[0],b=m[1],_=QR(ED(g),2),w=_[0],S=_[1],C=new nD(19),k=0;k<y.length;++k)C[31&y[k]]++;for(k=0;k<w.length;++k)C[31&w[k]]++;for(var I=QR(AD(C,7),2),P=I[0],T=I[1],A=19;A>4&&!P[sD[A-1]];--A);var x,E,M,R,D=c+5<<3,O=MD(i,yD)+MD(a,bD)+o,L=MD(i,p)+MD(a,g)+o+14+3*A+MD(C,P)+(2*C[16]+3*C[17]+7*C[18]);if(D<=O&&D<=L)return RD(t,u,e.subarray(l,l+c));if(PD(t,u,1+(L<O)),u+=2,L<O){x=mD(p,h,0),E=p,M=mD(g,v,0),R=g;var N=mD(P,T,0);PD(t,u,b-257),PD(t,u+5,S-1),PD(t,u+10,A-4),u+=14;for(k=0;k<A;++k)PD(t,u+3*k,P[sD[k]]);u+=3*A;for(var B=[y,w],$=0;$<2;++$){var F=B[$];for(k=0;k<F.length;++k){var j=31&F[k];PD(t,u,N[j]),u+=P[j],j>15&&(PD(t,u,F[k]>>>5&127),u+=F[k]>>>12)}}}else x=_D,E=yD,M=wD,R=bD;for(k=0;k<s;++k)if(n[k]>255){j=n[k]>>>18&31;TD(t,u,x[j+257]),u+=E[j+257],j>7&&(PD(t,u,n[k]>>>23&31),u+=aD[j]);var W=31&n[k];TD(t,u,M[W]),u+=R[W],W>3&&(TD(t,u,n[k]>>>5&8191),u+=oD[W])}else TD(t,u,x[n[k]]),u+=E[n[k]];return TD(t,u,x[256]),u+E[256]},OD=new iD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),LD=new rD(0),ND=function(e,t,r,n,i,a){var o=e.length,s=new rD(n+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(n,s.length-i),c=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d>=o&&(l[c>>3]=a),c=RD(l,c+1,e.subarray(u,d))}else{for(var p=OD[t-1],h=p>>>13,f=8191&p,g=(1<<r)-1,v=new nD(32768),m=new nD(g+1),y=Math.ceil(r/3),b=2*y,_=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&g},w=new iD(25e3),S=new nD(288),C=new nD(32),k=0,I=0,P=(u=0,0),T=0,A=0;u<o;++u){var x=_(u),E=32767&u,M=m[x];if(v[E]=M,m[x]=E,T<=u){var R=o-u;if((k>7e3||P>24576)&&R>423){c=DD(e,l,0,w,S,C,I,P,A,u-A,c),P=k=I=0,A=u;for(var D=0;D<286;++D)S[D]=0;for(D=0;D<30;++D)C[D]=0}var O=2,L=0,N=f,B=E-M&32767;if(R>2&&x==_(u-B))for(var $=Math.min(h,R)-1,F=Math.min(32767,u),j=Math.min(258,R);B<=F&&--N&&E!=M;){if(e[u+O]==e[u+O-B]){for(var W=0;W<j&&e[u+W]==e[u+W-B];++W);if(W>O){if(O=W,L=B,W>$)break;var V=Math.min(B,W-2),U=0;for(D=0;D<V;++D){var z=u-B+D+32768&32767,q=z-v[z]+32768&32767;q>U&&(U=q,M=z)}}}B+=(E=M)-(M=v[E])+32768&32767}if(L){w[P++]=268435456|dD[O]<<18|hD[L];var H=31&dD[O],G=31&hD[L];I+=aD[H]+oD[G],++S[257+H],++C[G],T=u+O,++k}else w[P++]=e[u],++S[e[u]]}}c=DD(e,l,a,w,S,C,I,P,A,u-A,c),!a&&7&c&&(c=RD(l,c+1,LD))}return CD(s,0,n+SD(c)+i)};!function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}}();var BD=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=0|r.length,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|e>>>8<<16|(255&(t%=65521))<<8|t>>>8}}},$D=function(e,t,r,n,i){return ND(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!i)},FD=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},jD=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;e[0]=120,e[1]=n<<6|(n?32-2*n:1)};function WD(e,t){t||(t={});var r=BD();r.p(e);var n=$D(e,t,2,4);return jD(n,t),FD(n,n.length-4,r.d()),n}var VD="undefined"!=typeof TextEncoder&&new TextEncoder,UD="undefined"!=typeof TextDecoder&&new TextDecoder,zD=0;try{UD.decode(LD,{stream:!0}),zD=1}catch(e){}var qD=function(e){for(var t="",r=0;;){var n=e[r++],i=(n>127)+(n>223)+(n>239);if(r+i>e.length)return[t,CD(e,r-1)];i?3==i?(n=((15&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,t+=String.fromCharCode(55296|n>>10,56320|1023&n)):t+=1&i?String.fromCharCode((31&n)<<6|63&e[r++]):String.fromCharCode((15&n)<<12|(63&e[r++])<<6|63&e[r++]):t+=String.fromCharCode(n)}};function HD(e,t){if(t){for(var r=new rD(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(VD)return VD.encode(e);var i=e.length,a=new rD(e.length+(e.length>>1)),o=0,s=function(e){a[o++]=e};for(n=0;n<i;++n){if(o+5>a.length){var l=new rD(o+8+(i-n<<1));l.set(a),a=l}var c=e.charCodeAt(n);c<128||t?s(c):c<2048?(s(192|c>>6),s(128|63&c)):c>55295&&c<57344?(s(240|(c=65536+(1047552&c)|1023&e.charCodeAt(++n))>>18),s(128|c>>12&63),s(128|c>>6&63),s(128|63&c)):(s(224|c>>12),s(128|c>>6&63),s(128|63&c))}return CD(a,0,o)}function GD(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}if(UD)return UD.decode(e);var i=QR(qD(e),2),a=i[0];return i[1].length&&ID(8),a}var KD=function(e){return e[e.Setup=1]="Setup",e[e.AppserviceStart=2]="AppserviceStart",e[e.WebviewStart=3]="WebviewStart",e[e.AppserviceCollect=4]="AppserviceCollect",e[e.WebviewCollect=5]="WebviewCollect",e[e.AppserviceEncode=6]="AppserviceEncode",e[e.WebviewEncode=7]="WebviewEncode",e[e.AppserviceReport=8]="AppserviceReport",e[e.WebviewReportCos=9]="WebviewReportCos",e[e.WebviewClean=10]="WebviewClean",e[e.WebviewReportWx=11]="WebviewReportWx",e[e.WebviewReport=12]="WebviewReport",e[e.AppserviceReportCos=13]="AppserviceReportCos",e[e.AppserviceReportWx=14]="AppserviceReportWx",e[e.CommonUploadError=15]="CommonUploadError",e[e.AppserviceTeardown=16]="AppserviceTeardown",e[e.TeardownApi=17]="TeardownApi",e[e.WebviewTeardown=18]="WebviewTeardown",e[e.Resetup=19]="Resetup",e[e.CollectWxImage=20]="CollectWxImage",e[e.CollectImage=21]="CollectImage",e[e.RefreshCos=22]="RefreshCos",e[e.PruneEvents=23]="PruneEvents",e[e.CosFetch=24]="CosFetch",e[e.GetAuxiliaryDomainInfo=25]="GetAuxiliaryDomainInfo",e[e.AppserviceReportCosWithWxData=26]="AppserviceReportCosWithWxData",e[e.WebviewReportCosWithWxData=27]="WebviewReportCosWithWxData",e[e.ObjectStoreError=28]="ObjectStoreError",e[e.FetchCosByWxDataError=29]="FetchCosByWxDataError",e[e.InvalidCustomDomain=30]="InvalidCustomDomain",e[e.CompressError=31]="CompressError",e[e.Debug=1e3]="Debug",e}({}),JD=e=>{var t={...e};if(delete t.success,delete t.fail,N2.recording)try{var r,n;if(t.type===KD.Debug)return;null===(r=(n=N2.recorderConfigs).errorCallback)||void 0===r||r.call(n,t)}catch(e){console.error(e)}};function XD(e,t,r){var n,i="";i=t instanceof Error?`name: ${t.name}; message: ${t.message}; stack: ${t.stack}; extra: ${r}`:"string"==typeof t?`message: ${t}; extra: ${r}`:`message: ${JSON.stringify(t)}; extra: ${r}`;var{version:a,updateTime:o}=aA();PN(JSON.stringify({report_items:[{session_id:null!==(n=N2.recorderConfigs.uuid)&&void 0!==n?n:"none",sdk_version:`${a} (${o})`,err_type:e,err_msg:i,os_name:re.system,os_version:re.envVersion}]})),JD({type:e,errMsg:i,extra:r})}var YD=null;function QD(e){return ZD.apply(this,arguments)}function ZD(){return ZD=Vp()((function*(e){LN(UR.CosInfoFetch);for(var t,r=wO(),n=function(){var t=Vp()((function*(){return yield iO({apiName:"webapi_getcloudstoragefederationtoken",reqData:e?{project_key:r,object_prefix:`${e}*`}:{project_key:r}})}));return function(){return t.apply(this,arguments)}}(),i=0;i<3;){var a=Date.now();if(t=yield n(),Date.now()-a<=3e4)break;i++,console.warn(`[wxobs] COS info fetch attempt ${i} exceeded 30 seconds, retrying...`),XD(KD.CosFetch,new Error(`COS info fetch attempt ${i} exceeded 30 seconds (${Date.now()-a}ms)`),"getCosInfo")}if(3===i)throw console.warn("[wxobs] Failed to fetch COS info within time limit after multiple attempts"),new Error("COS info fetch out of time limit");var o=e||t.data.real_object_prefix;if(void 0===t.data)throw new Error("no cos info");if(!tO(t.data))throw new Error("invalid cos info");if(t.data.expire_timestamp){var s=1e3*t.data.expire_timestamp-r6()-3e5;YD=setTimeout(Vp()((function*(){try{var e=yield QD(o);LN(UR.CosInfoRefetch),Y2({...e,prefix:o})}catch(e){XD(KD.RefreshCos,e,"refetch cos info"),LN(UR.Error)}})),s>0?s:1e3)}return t.data})),ZD.apply(this,arguments)}function eO(){YD&&(clearTimeout(YD),YD=null)}function tO(e){return!(nO(e.bucket)||nO(e.region)||nO(e.secretid)||nO(e.secretkey)||nO(e.token))&&(!rO(e.bucket)&&!rO(e.region))}function rO(e){return e.includes(".")||e.includes("?")||e.includes("/")||e.includes("#")}function nO(e){return!e||""===e.trim()}function iO(e){return new Promise(((t,r)=>{tx({...e,success:t,fail:r})}))}var aO=function(e){return e[e.AutoRecording=1]="AutoRecording",e[e.SdkRecording=2]="SdkRecording",e[e.PreRecording=3]="PreRecording",e}(aO||{}),oO;function sO(){return lO.apply(this,arguments)}function lO(){return(lO=Vp()((function*(){return oO||(oO=uO()&&dO()?yield pO():cO())}))).apply(this,arguments)}function cO(){var e,t,r;return oO=(null===(e=re.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.wxob_meta_data)||(null===(r=re.appContactInfo)||void 0===r?void 0:r.wxob_meta_data)}function uO(){return Vh("userObRecording")}function dO(){return"windows"===re.platform||"mac"===re.platform}function pO(){return hO.apply(this,arguments)}function hO(){return(hO=Vp()((function*(){var e=yield iO({apiName:"webapi_getwxobmetadata"});if(!e.data)throw new Error(`getMetaDataWithWxData fail: ${JSON.stringify(e)}`);return e.data}))).apply(this,arguments)}function fO(){return gO.apply(this,arguments)}function gO(){return(gO=Vp()((function*(){var e=yield sO();return(null==e?void 0:e.wxob_mode)===aO.AutoRecording}))).apply(this,arguments)}function vO(){return mO.apply(this,arguments)}function mO(){return(mO=Vp()((function*(){var e=yield sO();return(null==e?void 0:e.wxob_mode)===aO.SdkRecording}))).apply(this,arguments)}function yO(){return bO.apply(this,arguments)}function bO(){return(bO=Vp()((function*(){var e=yield sO();return e?_O(e):void 0}))).apply(this,arguments)}function _O(e){var t,r,n,i,a,o,s,l,c,u,d,p,h,f,g,v;return{rawMetaData:e,isWhitelistMaskMode:e.is_whitelist_mask_mode,proportion:e.proportion,encrypt:e.encrypt,cloudServiceProvider:e.cloud_service_provider,minVersion:e.min_available_sdk_version,versionBlackList:e.sdk_version_black_list,exposureSelectorList:e.exposure_selector_list,pluginList:e.plugin_list,featureConfig:e.feature_config,networkConfig:{maxNormalNetworkLogTypes:null===(t=e.network_config)||void 0===t?void 0:t.max_normal_network_log_types,maxNormalNetworkLogOccurrence:null===(r=e.network_config)||void 0===r?void 0:r.max_normal_network_log_occurrence,maxErrorNetworkLogTypes:null===(n=e.network_config)||void 0===n?void 0:n.max_error_network_log_types,maxErrorNetworkLogOccurrence:null===(i=e.network_config)||void 0===i?void 0:i.max_error_network_log_occurrence,maxNormalNetworkLogTypesCustomCapture:null===(a=e.network_config)||void 0===a?void 0:a.max_normal_network_log_types_custom_capture,maxNormalNetworkLogOccurrenceCustomCapture:null===(o=e.network_config)||void 0===o?void 0:o.max_normal_network_log_occurrence_custom_capture,maxErrorNetworkLogTypesCustomCapture:null===(s=e.network_config)||void 0===s?void 0:s.max_error_network_log_types_custom_capture,maxErrorNetworkLogOccurrenceCustomCapture:null===(l=e.network_config)||void 0===l?void 0:l.max_error_network_log_occurrence_custom_capture},consoleConfig:{enableConsoleSerialization:null===(c=e.console_config)||void 0===c?void 0:c.enable_console_serialization,maxConsoleFieldLength:null===(u=e.console_config)||void 0===u?void 0:u.max_console_field_length,maxConsoleMsgOccurrence:null===(d=e.console_config)||void 0===d?void 0:d.max_console_msg_occurrence,consoleLogDropLength:null===(p=e.console_config)||void 0===p?void 0:p.console_log_drop_length,maxKeyCount:null===(h=e.console_config)||void 0===h?void 0:h.max_key_count,maxConsoleMsgTypes:null===(f=e.console_config)||void 0===f?void 0:f.max_console_msg_types,maxConsoleLength:null===(g=e.console_config)||void 0===g?void 0:g.max_console_length},reportInterval:e.collection_interval,customHost:IO(e.url),textLenGranularity:null==e||null===(v=e.static_config)||void 0===v?void 0:v.text_length_granularity}}function wO(){var e,t;if(null===(e=re.accountInfo)||void 0===e||!e.appId)throw new Error("[wxobs as]appid is empty");return null===(t=re.accountInfo)||void 0===t?void 0:t.appId}function SO(){var e,t,r;return(oO=(null===(e=re.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.wxob_meta_data)||(null===(r=re.appContactInfo)||void 0===r?void 0:r.wxob_meta_data))?_O(oO):void 0}function CO(){return kO.apply(this,arguments)}function kO(){return kO=Vp()((function*(){var e,t,r=yield sO(),n=null==r||null===(e=r.feature_config)||void 0===e?void 0:e.find((e=>"preemptiveSetup"===e.name));if(!n)return!1;if(!(!n.scope||jR(n.scope,{os:re.platform,sdkVersion:re.SDKVersion})))return!1;var i=null!==(t=n.proportion)&&void 0!==t?t:0;return 0!==i&&(100===i||i>=100*Math.random())})),kO.apply(this,arguments)}function IO(e){if(e){return/^(?!:\/\/)([a-zA-Z0-9-_]+\.)*[a-zA-Z0-9][a-zA-Z0-9-_]+\.[a-zA-Z]{2,11}?$/.test(e)?e:void XD(KD.InvalidCustomDomain,new Error(`Invalid custom domain: ${e}`))}}function PO(){var e=new Date;return`${e.getFullYear().toString()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}`}function TO(e){return new Promise(((t,r)=>{tx({...e,success:t,fail:r})}))}function AO(){return"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function xO(){var e=re.system;if(!e||"ios"!==re.platform)return!0;var[t,r]=e.split(" ");return"ios"!==t.toLowerCase()||EO(r,"11.0")>=0}function EO(e,t){for(var r=e.split(".").map(Number),n=t.split(".").map(Number),i=0;i<r.length;++i){if(n.length===i)return 1;if(r[i]!==n[i])return r[i]>n[i]?1:-1}return r.length!==n.length?-1:0}var MO={notSdkRecordingMode:"[体验分析] 当前启动方式是自动启动而不是自定义启动，请前往体验分析控制台【设置-采集配置】切换启动方式后，SDK setup 方法才可生效。\n（开发者工具请切换后重启开发者工具尝试；真机测试请重新扫码打开小程序）",unsupported:"[wxobs] this system version is not supported\n[体验分析] 当前系统版本不支持采集",setupSuccess:"[wxobs] setup success\n[体验分析] 采集启动成功",sdkSettingUp:"[wxobs] sdk record.\n[体验分析] SDK 采集模式, 正在启动采集",autoSetupInDevtool:"[wxobs] auto recording mode is not enabled in devtools. \n[体验分析] 为避免影响调试，开发者工具在非自定义启动模式下不会启动采集。详见 https://dev.weixin.qq.com/docs/analysis/sdk/debugging.html",cancelResetup:"[wxobs] autoSplitSession is not true cancel resetup\n[体验分析] 采集配置中未开启自动分片，取消重启采集",unknownRecordingMode:"[wxobs] unknown recording mode\n[体验分析] 未知的采集模式",autoRecordingModeDeprecated:"[wxobs] auto recording mode is deprecated \n[体验分析] 自动启动模式配置已过期",accessRecordingParamFailed:"[wxobs] can not access recording param. \n[体验分析] 无法获取采集配置",notSetup:"[wxobs] not setup\n[体验分析] 采集未启动",libversionBlackList:"[wxobs] this sdk version is blocked. \n[体验分析] 当前基础库版本已被禁用",alreadySetup:"[wxobs] already setup \n[体验分析] 采集已经启动"},RO,DO;function OO(){if(!RO)throw new Error("getLaunchOptionsSync:fail get launch options");var e=sh(this)||"";return Yp(RO||{},e)}function LO(){if(!DO)throw new Error("getLaunchOptionsSync:fail get launch options");return DO||{}}Yr("getLaunchAppInfo",(({callbackId:e},t)=>{qr("appLaunchInfoGot",{res:{sceneHistory:mp.sceneHistory,appId:mp.appId},callbackId:e},[t])})),re.onReady((()=>{if(!We()){var e=re.appLaunchInfo||{};Object.assign(e,re.debugLaunchInfo||{}),xp(e.scene),Xp(e,!0),mp.appLaunchInfo=e,mp.appLaunchShareInfo=e.shareInfo,mh(e),_.info("[LaunchOptions] set launchOptions by config ready"),DO=Kp(e,!0),RO=Jp(DO,re.preloadType),DO.__public=Yp(RO,""),_.info("[EnterOptions] set enterOptions by config ready"),_h(RO)}}));var NO=B_(),BO=s_.OBS_DIRECTION_PATH.path,$O=`${BO}/meta.json`,FO=Cf(NO.writeFile),jO=Cf(NO.readFile),WO=Cf(NO.access),VO=Cf(NO.mkdir),UO="",zO="",qO=void 0;function HO(){return GO.apply(this,arguments)}function GO(){return GO=Vp()((function*(){if(qO)return qO;try{return qO=KO(),yield qO}catch(e){throw e}finally{qO=void 0}})),GO.apply(this,arguments)}function KO(){return JO.apply(this,arguments)}function JO(){return(JO=Vp()((function*(){if(UO)return UO;try{yield WO({path:BO})}catch(e){try{yield VO({dirPath:BO,recursive:!0})}catch(e){}}try{var e,t,r;try{t=(t=yield jO({filePath:$O,encoding:"utf-8"})).data}catch(e){}if(t&&(t=JSON.parse(t)),null!==(e=t)&&void 0!==e&&e.userIdentifier)return null===(r=t)||void 0===r?void 0:r.userIdentifier}catch(e){}var n={userIdentifier:LR()};return FO({filePath:$O,data:JSON.stringify(n)}),UO=n.userIdentifier,n.userIdentifier}))).apply(this,arguments)}function XO(){return UO}function YO(e){zO!==e&&(zO=e,iS("syncPXState",{customUid:e},L2.recordingWebviewIds,(()=>{})))}function QO(){return zO}var ZO=function(e){return e[e.BOOLEAN=1]="BOOLEAN",e[e.STRING=2]="STRING",e[e.NUMBER=3]="NUMBER",e[e.JSON=4]="JSON",e}(ZO||{}),eL={};function tL(e){return rL.apply(this,arguments)}function rL(){return rL=Vp()((function*(e){var t;if(!e.flags||0===e.flags.length)return{};if(!e.latest){var r={},n=!0;for(var i of e.flags){if(!eL[i]){n=!1;break}r[i]=eL[i]}if(n)return r}var a=OO(),o={sessionId:L2.uuid,customUid:QO(),sdkVersion:re.SDKVersion,userVersion:null==re||null===(t=re.appContactInfo)||void 0===t?void 0:t.user_version,brand:re.brand,model:re.model,system:re.system,networkType:re.networkType,launch_scene:a.scene},s=[];for(var l of Object.keys(o)){var c=o[l];null!=c&&""!==c&&s.push({attribute:l,value:String(c)})}var u=yield TO({apiName:"webapi_wxobgetfeatureflag",reqData:{feature_flag_key:e.flags,context:[{kind:"user",kv:s}]}});if(void 0===u.data)throw new Error("empty feature flag info return");var d={},p={};for(var h of u.data.feature_flag_list){d[h.feature_flag_key]={key:h.feature_flag_key,type:h.variation_type,value:iL(h.value,h.variation_type)};var f=h.value;switch(h.variation_type){case ZO.BOOLEAN:case ZO.NUMBER:break;default:f=NR(h.value)}p[`flag_value_${h.feature_flag_key}`]=f}for(var g of(Object.assign(eL,d),e.flags))void 0!==d[g]&&null!==d[g]||(p[`flag_empty_${g}`]="1");return setTimeout((()=>{try{bL({wxobs_type:"feature_flags_received",...p})}catch(e){}}),0),d})),rL.apply(this,arguments)}function nL(){return eL}function iL(e,t){switch(t){case ZO.BOOLEAN:return"true"===e;case ZO.NUMBER:return Number(e);case ZO.JSON:try{return JSON.parse(e)}catch(e){return null}default:return e}}var aL={autoStart:!0,isWhitelistMaskMode:!0,exposureSelectorList:[],shouldCapturePage:()=>!0,reportInterval:5e3,serverClientTimeDiff:0,networkConfig:{maxNormalNetworkLogTypes:50,maxNormalNetworkLogOccurrence:50,maxErrorNetworkLogTypes:50,maxErrorNetworkLogOccurrence:50},consoleConfig:{enableConsoleSerialization:!1,maxConsoleFieldLength:100,maxConsoleLength:1e3,maxConsoleMsgOccurrence:1e3,consoleLogDropLength:4096,maxConsoleMsgTypes:50,maxKeyCount:100}},oL=function(e){return e.NotSetup="NotSetup",e.SettingUp="SettingUp",e.WaitingForFirstReport="WaitingForFirstReport",e.Collecting="Collecting",e.TearingDown="TearingDown",e}({}),sL=oL.NotSetup,lL=null;function cL(){return uL.apply(this,arguments)}function uL(){return(uL=Vp()((function*(){var e;if(null!==(e=yield yO())&&void 0!==e&&e.versionBlackList&&re.SDKVersion&&(yield yO()).versionBlackList.indexOf(re.SDKVersion)>=0)throw new Error(MO.libversionBlackList)}))).apply(this,arguments)}function dL(e){var t=e.server_timestamp-Date.now(),r=Math.abs(t);return BN(UR.ServerClientTimeDiff,t),r>6e4?t:0}var pL=function(){var e=Vp()((function*(e,t){var r;if((yield cL(),sL=oL.SettingUp,!N2.recording)&&!$2({...aL,...e,projectId:wO(),dataAttrs:null===(r=e.captureDataAttrs)||void 0===r||r}))throw new Error("Failed to complete preemptiveSetupWxobs");try{var n,i,a,o,s,l,c=wO(),u=e.coslessMode?void 0:null!=t?t:yield QD(),d=null!==(n=null==u||null===(i=u.real_object_prefix)||void 0===i||null===(a=i.split("/")[1])||void 0===a?void 0:a.replace("*",""))&&void 0!==n?n:PO();if(e.uuid=`${d}/${LR()}`,!xO())throw LN(UR.Unsupport),new Error(MO.unsupported);if(lL={attrs:null!==(o=e.attrs)&&void 0!==o?o:{},encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,param:{...aL,...e},prefix:d},!F2({projectId:c,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,cosInfo:u?{...u,prefix:d}:void 0,...{...aL,...e},uuid:e.uuid,serverClientTimeDiff:u?dL(u):0,dataAttrs:null===(s=e.captureDataAttrs)||void 0===s||s}))throw new Error("Failed to complete formalSetupWxobs");e.coslessMode||console.log(MO.setupSuccess),wL(null!==(l=e.attrs)&&void 0!==l?l:{}),sL=oL.WaitingForFirstReport}catch(e){throw j2(),sL=oL.NotSetup,lL=null,e}}));return function(t,r){return e.apply(this,arguments)}}(),hL=function(){var e=Vp()((function*(e,t){var r,n,i,a,o,s;cL(),sL=oL.SettingUp;var l=wO(),c=e.coslessMode?void 0:null!=t?t:yield QD(),u=null!==(r=null==c||null===(n=c.real_object_prefix)||void 0===n||null===(i=n.split("/")[1])||void 0===i?void 0:i.replace("*",""))&&void 0!==r?r:PO();if(e.uuid=`${u}/${LR()}`,!xO())throw LN(UR.Unsupport),new Error(MO.unsupported);if(lL={attrs:null!==(a=e.attrs)&&void 0!==a?a:{},encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,param:{...aL,...e},prefix:u},!n6({projectId:l,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,cosInfo:c?{...c,prefix:u}:void 0,...{...aL,...e},uuid:e.uuid,serverClientTimeDiff:c?dL(c):0,dataAttrs:null===(o=e.captureDataAttrs)||void 0===o||o}))return sL=oL.NotSetup,void(lL=null);e.coslessMode||console.log(MO.setupSuccess),wL(null!==(s=e.attrs)&&void 0!==s?s:{}),sL=oL.WaitingForFirstReport}));return function(t,r){return e.apply(this,arguments)}}();function fL(e){return gL.apply(this,arguments)}function gL(){return(gL=Vp()((function*(e){var t={};if(!(yield vO()))return console.error(MO.notSdkRecordingMode),t.errMsg=MO.notSdkRecordingMode,t;if(sL!==oL.NotSetup)return t.errMsg="重复调用: 采集已经启动",t;try{var r,n,i=yield yO();return"number"!=typeof(null==i?void 0:i.proportion)||PL(i.proportion)?(console.log(MO.sdkSettingUp),(yield CO())?yield pL({...e,encrypt:null==i?void 0:i.encrypt,cloudServiceProvider:null==i?void 0:i.cloudServiceProvider,exposureSelectorList:null==i?void 0:i.exposureSelectorList,pluginList:null==i?void 0:i.pluginList,featureConfig:null==i?void 0:i.featureConfig,networkConfig:null==i?void 0:i.networkConfig,consoleConfig:null==i?void 0:i.consoleConfig,reportInterval:null!==(r=null==i?void 0:i.reportInterval)&&void 0!==r?r:5e3,rawMetaData:null==i?void 0:i.rawMetaData,coslessMode:!1,customHost:null==i?void 0:i.customHost,textLenGranularity:null==i?void 0:i.textLenGranularity}):yield hL({...e,encrypt:null==i?void 0:i.encrypt,cloudServiceProvider:null==i?void 0:i.cloudServiceProvider,exposureSelectorList:null==i?void 0:i.exposureSelectorList,pluginList:null==i?void 0:i.pluginList,featureConfig:null==i?void 0:i.featureConfig,reportInterval:null!==(n=null==i?void 0:i.reportInterval)&&void 0!==n?n:5e3,rawMetaData:null==i?void 0:i.rawMetaData,coslessMode:!1,customHost:null==i?void 0:i.customHost,textLenGranularity:null==i?void 0:i.textLenGranularity}),t.sessionId=lL.param.uuid,LN(UR.SdkSetup),t):(t.errMsg="miss sample",LN(UR.MissSample),RL(),t)}catch(e){return t.errMsg=`setup failed: ${e.message} ${JSON.stringify(e)}`,XD(KD.Setup,e),t}}))).apply(this,arguments)}function vL(){sL===oL.WaitingForFirstReport&&(sL=oL.Collecting)}function mL(){return yL.apply(this,arguments)}function yL(){return(yL=Vp()((function*(){if(lL)try{if(!lL)return void console.warn("[wxobs] not setup");sL=oL.TearingDown,console.log("[wxobs] obs is teardowning"),yield W2(),console.log("[wxobs] obs is teardowned"),LN(UR.Teardown),lL=null,sL=oL.NotSetup,eO()}catch(e){XD(KD.TeardownApi,e),console.error("[wxobs] teardown failed",e)}else console.warn("[wxobs] not setup")}))).apply(this,arguments)}function bL(e){return _L.apply(this,arguments)}function _L(){return(_L=Vp()((function*(e){if(!lL)throw new Error("not setup");K2(e)}))).apply(this,arguments)}function wL(e){lL?(lL.attrs=e,Object.keys(e).length>0&&H2({...e})):console.warn(MO.notSetup)}function SL(){return sL}function CL(e=!1){return!!Ce&&(!e&&console.log(MO.autoSetupInDevtool),!0)}function kL(e=!1){var t=yO();return void 0===t?(!e&&console.warn(MO.accessRecordingParamFailed),!1):t}function IL(){return!lL||(console.warn(MO.alreadySetup),!1)}function PL(e){return e>=100*Math.random()}function TL(){return AL.apply(this,arguments)}function AL(){return AL=Vp()((function*(){if((yield fO())&&!CL()&&IL()){if(!(yield CO()))return xL();var e=yield kL();if(e)try{if(PL(e.proportion)){var t,r;if(console.log("[wxobs] 自动采集模式 - 预设置阶段",{param:e}),!$2({...aL,...e,coslessMode:!1,projectId:wO(),dataAttrs:!0}))throw new Error("preemptiveSetupWxobs failed");sL=oL.SettingUp;try{r=yield QD()}catch(e){return console.error("[wxobs] Failed to get cosInfo",e),j2(),void(sL=oL.NotSetup)}if(r.wxob_mode&&1!==r.wxob_mode)return console.warn(MO.autoRecordingModeDeprecated),j2(),eO(),void(sL=oL.NotSetup);console.log("[wxobs] 自动采集模式 - 完整设置阶段",{param:e,cosInfo:r}),yield pL({isWhitelistMaskMode:e.isWhitelistMaskMode,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,exposureSelectorList:e.exposureSelectorList,pluginList:e.pluginList,featureConfig:e.featureConfig,reportInterval:null!==(t=e.reportInterval)&&void 0!==t?t:5e3,serverClientTimeDiff:0,rawMetaData:e.rawMetaData,coslessMode:!1,customHost:e.customHost,textLenGranularity:e.textLenGranularity},r),LN(UR.AutoSetup)}else RL(),LN(UR.MissSample)}catch(e){j2(),XD(KD.Setup,e)}}})),AL.apply(this,arguments)}function xL(){return EL.apply(this,arguments)}function EL(){return(EL=Vp()((function*(){if((yield fO())&&!CL()&&IL()){var e=yield kL();if(e)try{if(PL(e.proportion)){var t,r=yield QD();if(r.wxob_mode&&1!==r.wxob_mode)return console.warn(MO.autoRecordingModeDeprecated),void eO();console.log("[wxobs] 自动采集模式",{param:e}),yield hL({isWhitelistMaskMode:e.isWhitelistMaskMode,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,exposureSelectorList:e.exposureSelectorList,pluginList:e.pluginList,featureConfig:e.featureConfig,networkConfig:e.networkConfig,consoleConfig:e.consoleConfig,reportInterval:null!==(t=e.reportInterval)&&void 0!==t?t:5e3,serverClientTimeDiff:0,rawMetaData:e.rawMetaData,coslessMode:!1,customHost:e.customHost},r),LN(UR.AutoSetup)}else RL(),LN(UR.MissSample)}catch(e){XD(KD.Setup,e)}}}))).apply(this,arguments)}function ML(){var e=re.envVersion;return"develop"===e||"trial"===e}function RL(){return DL.apply(this,arguments)}function DL(){return(DL=Vp()((function*(){if(!CL(!0)&&IL()&&!ML()){var e=yield kL(!0);if(e)try{var t,r;if(yield CO())yield pL({isWhitelistMaskMode:e.isWhitelistMaskMode,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,exposureSelectorList:e.exposureSelectorList,pluginList:e.pluginList,featureConfig:e.featureConfig,networkConfig:e.networkConfig,consoleConfig:e.consoleConfig,reportInterval:null!==(t=e.reportInterval)&&void 0!==t?t:5e3,serverClientTimeDiff:0,rawMetaData:e.rawMetaData,coslessMode:!0,autoSplitSession:!1,customHost:e.customHost});else yield hL({isWhitelistMaskMode:e.isWhitelistMaskMode,encrypt:e.encrypt,cloudServiceProvider:e.cloudServiceProvider,exposureSelectorList:e.exposureSelectorList,pluginList:e.pluginList,featureConfig:e.featureConfig,networkConfig:e.networkConfig,consoleConfig:e.consoleConfig,reportInterval:null!==(r=e.reportInterval)&&void 0!==r?r:5e3,serverClientTimeDiff:0,rawMetaData:e.rawMetaData,coslessMode:!0,autoSplitSession:!1,customHost:e.customHost})}catch(e){XD(KD.Setup,e)}}}))).apply(this,arguments)}function OL(){return LL.apply(this,arguments)}function LL(){return(LL=Vp()((function*(){try{var e;if(!lL)return void console.warn("[wxobs] not setup");var t,r=lL.param,n=yield fO(),i=yield vO();if(i&&!r.autoSplitSession)return void(null===(t=y)||void 0===t||t.log(MO.cancelResetup));null===(e=y)||void 0===e||e.log("[wxobs] resetup"),LN(UR.Resetup),yield mL(),setTimeout(Vp()((function*(){try{if(r.coslessMode)RL();else if(n)TL();else if(i){var e;if(yield pL(r),!lL)throw new Error("setup failed: no controllerContext");null===(e=r.newSessionCallback)||void 0===e||e.call(r,{sessionId:lL.param.uuid})}else console.warn(MO.unknownRecordingMode)}catch(e){XD(KD.Resetup,e)}})),100)}catch(e){XD(KD.Resetup,e)}}))).apply(this,arguments)}try{re.onReady((()=>{TL(),Z2(OL)}))}catch(e){XD(KD.Setup,e,"Foundation.onLoad")}function NL(e){if(vO())if(lL)console.warn("重复调用: 采集已经启动");else try{var t;LN(UR.LegacySetupApi);var r=SO();if("number"==typeof(null==r?void 0:r.proportion)&&r.proportion<100*Math.random())return console.warn("[wxobs] miss sample\n[体验分析] 未命中采样"),void LN(UR.MissSample);console.log("[wxobs] SDK 采集模式",{param:e,remoteParam:r}),pL({...e,encrypt:null==r?void 0:r.encrypt,cloudServiceProvider:null==r?void 0:r.cloudServiceProvider,exposureSelectorList:null==r?void 0:r.exposureSelectorList,pluginList:null==r?void 0:r.pluginList,featureConfig:null==r?void 0:r.featureConfig,networkConfig:null==r?void 0:r.networkConfig,consoleConfig:null==r?void 0:r.consoleConfig,reportInterval:null!==(t=null==r?void 0:r.reportInterval)&&void 0!==t?t:5e3,rawMetaData:null==r?void 0:r.rawMetaData,customHost:null==r?void 0:r.customHost}),LN(UR.SdkSetup)}catch(e){XD(KD.Setup,e)}else console.error(MO.notSdkRecordingMode)}var BL=e=>{switch(e.type){case _R.CustomEvent:var t,r,n=(null===(t=e.data)||void 0===t?void 0:t.__cos_only__)||(null===(r=e.data)||void 0===r?void 0:r.wxobs_props___cos_only___int);return n||LN(UR.UploadWxCustomEvent),LN(UR.UploadCustomEvent),n;case _R.NetworkAPI:var i=N2.recorderConfigs.enabledFeatures.uploadSuccessNetworkToWx,a=!e.data.isSdkSelected&&!i&&e.data.success;return a||LN(UR.UploadWxNetwork),LN(UR.UploadNetwork),a;case _R.RTLogInfo:case _R.RTLogDebug:case _R.RTLogWarn:case _R.RTLogError:var o=!N2.recorderConfigs.enabledFeatures.uploadRealtimeLogToWx;return o||LN(UR.UploadWxRealtimeLog),LN(UR.UploadRealtimeLog),o;default:return!1}},$L=0,FL;function jL(){$L=0}function WL(){}function VL(e){var t=$L,r=[],n=[];for(var i of e){var a={...i,extractedSeq:t++};BL(i)?n.push(a):r.push(a)}return[r,n,t]}function UL(e){$L=e}var zL=!0,qL=!0,HL=1,GL=new Set,KL=0,JL=new Map,XL=new Map;function YL(){function e(){return t.apply(this,arguments)}function t(){return(t=Vp()((function*(){yield ZL(),zL&&(FL=setTimeout(e,L2.reportInterval*HL))}))).apply(this,arguments)}zL=!0,HL=1,FL=setTimeout(e,L2.reportInterval*HL),setTimeout((()=>{Gr("wxobs:unifiedReportReady",(e=>{e.data,GL.add(e.data.webviewId)})),Gr("wxobs:unifiedReportAck",(e=>{e.data;var{ack:t,success:r}=e.data,n=JL.get(t);n&&(n(r),JL.delete(t))})),Gr("wxobs:unifiedReportCosDone",(e=>{for(var t of(e.data,e.data.acks)){var r=XL.get(t);r&&(r(),XL.delete(t))}}))}),0)}function QL(){zL=!1,clearTimeout(FL),GL.clear(),JL.clear(),XL.clear()}function ZL(){return eN.apply(this,arguments)}function eN(){return eN=Vp()((function*(e={}){var{backstopWithWxData:t=!1}=e;try{var{events:r}=N2;if(nN())return;if(N2.pending=!0,r.length,L2.enabledFeatures.batchListUpload){var{sentEvents:n,newSeq:i,uploadBatch:a,cosOnlyUploadBatch:o,cosOnlyEvents:s}=yield dN(r);try{yield tN({backstopWithWxData:t,sentEvents:n,uploadBatch:a,newSeq:i}),o&&(yield tN({backstopWithWxData:t,cosOnly:!0,sentEvents:s,uploadBatch:o,newSeq:i})),r.splice(0,n.length+s.length)}catch(e){XD(KD.AppserviceReport,e)}}else{var l=yield sN(r);for(var c of l){var{sentEvents:u,data:d,cosOnlyEvents:p,cosOnlyData:h,newSeq:f}=c;try{yield tN({backstopWithWxData:t,sentEvents:u,uploadBatch:d,newSeq:f}),h&&(yield tN({backstopWithWxData:t,cosOnly:!0,sentEvents:p,uploadBatch:h,newSeq:f})),r.splice(0,u.length+p.length)}catch(e){XD(KD.AppserviceReport,e)}}}}catch(e){XD(KD.AppserviceReport,e)}finally{N2.pending=!1}})),eN.apply(this,arguments)}function tN(e){return rN.apply(this,arguments)}function rN(){return rN=Vp()((function*(e){var{backstopWithWxData:t=!1,sentEvents:r,uploadBatch:n,newSeq:i,cosOnly:a=!1}=e,{recorderConfigs:o}=N2,s=JSON.stringify(n),l=!1,c=!1;o.compress&&(s=yield vN(HD(s)),l=!0);try{l&&o.encrypt&&(s=yield _N(s),c=!0)}catch(e){var{events:u}=N2;throw u.unshift(...r),e}var d=r6();if(void 0!==o.reporter&&o.enabledFeatures.unifiedReport&&GL.has(o.reporter)&&!e.backstopWithWxData){var p=++KL,h=!1,f=new Promise((e=>{JL.set(p,e)}));AN(s,{compressed:l,encrypted:c,ack:p});try{var g=setTimeout((()=>{JL.has(p)&&(JL.get(p)(!1),JL.delete(p))}),3e3),v=yield f;if(clearTimeout(g),!v)throw new Error("Unified report failed");a||XL.set(p,(()=>{var e;null===(e=o.onReport)||void 0===e||e.call(o,{timestamp:d,from:"appservice"}),vL(),kN(s,{encrypted:c,compressed:l})})),UL(i),h=!0,LN(UR.UnifiedReportSuccess)}catch(e){LN(UR.UnifiedReportFailure)}if(h)return}try{var m=yield SN(s,{encrypted:c,compressed:l});if(xN(null==m?void 0:m.status))EN();else{if(451===(null==m?void 0:m.status))return void iN();if(403===(null==m?void 0:m.status)||404===(null==m?void 0:m.status))throw new Error(`uploadToCos status ${null==m?void 0:m.status} ${JSON.stringify(m)}`);aN(d,s.length)}a||(yield kN(s,{encrypted:c,compressed:l})),UL(i)}catch(e){if(t)try{yield SN(s,{encrypted:c,compressed:l},!0),aN(d,s.length,!0),a||(yield kN(s,{encrypted:c,compressed:l})),UL(i)}catch(e){oN(r,e,!0)}else oN(r,e)}})),rN.apply(this,arguments)}function nN(){var{events:e,pending:t}=N2;return!!t||0===e.length}function iN(){mL(),console.warn("[wxobs] cos 已欠费，取消采集"),LN(UR.Status451)}function aN(e,t,r=!1){var n;LN(r?UR.UploadCosSucessWithWxData:UR.UploadCosSucess),BN(r?UR.UploadCosCostWithWxData:UR.UploadCosCost,r6()-e),NN(r?UR.UploadCosSizeWithWxData:UR.UploadCosSize,t),HL=1,null===(n=L2.onReport)||void 0===n||n.call(L2,{timestamp:e,from:"appservice"}),vL(),qL=!1}function oN(e,t,r=!1){var{events:n}=N2;LN(r?UR.UploadCosFailureWithWxData:UR.UploadCosFailure),n.unshift(...e),XD(r?KD.AppserviceReportCosWithWxData:KD.AppserviceReportCos,t),HL=Math.min(1.5*HL,32)}function sN(e){return lN.apply(this,arguments)}function lN(){return lN=Vp()((function*(e){var{sdkVersion:t,projectId:r,uuid:n}=N2.recorderConfigs,i={};for(var a of e){var o,s=null!==(o=a.weSessionId)&&void 0!==o?o:"";i[s]||(i[s]={meta:a.sessionLifeTimeMeta,events:[]}),i[s].events.push(a)}var l=[];for(var[c,u]of Object.entries(i)){var d,p,{meta:h={weSessionId:"",wesessionScene:0,wesessionSceneNote:"",isWesessionEntrance:0,openSource:1},events:f}=u,[g,v,m]=VL(f),y={record:{customUid:QO(),localUid:yield HO(),hashUid:null!==(d=L2.hashUid)&&void 0!==d?d:void 0,uuid:n,event:JSON.stringify(g.map((e=>({...e,weSessionId:void 0,sessionLifeTimeMeta:void 0})))),path:"",projectKey:r,sdkVersion:t,timestamp:r6(),weSessionId:c,coslessMode:L2.coslessMode,wesessionScene:h.wesessionScene,wesessionSceneNote:h.wesessionSceneNote,isWesessionEntrance:h.isWesessionEntrance,openSource:h.openSource,...null!==(p=L2.staticMeta)&&void 0!==p?p:{openId:"",enterScene:0,languageVersion:"",clientVersion:0,addState:-1,envVersion:-1,appversion:"",devicemodel:"",devicebrand:"",osName:"",osVersion:""}}},b=v.length>0?{record:{...y.record,event:JSON.stringify(v)}}:void 0;l.push({sentEvents:g,data:y,cosOnlyEvents:v,cosOnlyData:b,newSeq:m})}return l})),lN.apply(this,arguments)}var cN="",uN="{}";function dN(e){return pN.apply(this,arguments)}function pN(){return pN=Vp()((function*(e){var{sdkVersion:t,projectId:r,uuid:n}=N2.recorderConfigs,i=yield HO(),a=[],o={weSessionId:"",path:cN,query:uN,events:[],sessionLifeTimeMeta:{weSessionId:"",wesessionScene:0,wesessionSceneNote:"",isWesessionEntrance:0,openSource:1}};for(var s of e){var l,c,u=null!==(l=s.weSessionId)&&void 0!==l?l:"",d=o.path,p=o.query;if(hN(s)){var{path:h,query:f}=fN(s);d=h,p=f}if(u!==o.weSessionId||d!==o.path||p!==o.query)o.events.length>0&&(o.weSessionId,o.path,o.query,o.events.length,a.push({...o})),o={weSessionId:u,path:d,query:p,events:[],sessionLifeTimeMeta:null!==(c=s.sessionLifeTimeMeta)&&void 0!==c?c:{weSessionId:"",wesessionScene:0,wesessionSceneNote:"",isWesessionEntrance:0,openSource:1}};o.events.push(s)}if(o.events.length>0&&a.push(o),a.length>0){var g=a[a.length-1];cN=g.path,uN=g.query}var v=[],m=[],y=[],b=[],_=0,w=function*(e){var a,[o,s,l]=VL([...e.events,{type:_R.BatchReport,data:{},timestamp:gN(e.events)}]);_=l,y=y.concat(o),b=b.concat(s);var c=null!==(a=e.sessionLifeTimeMeta)&&void 0!==a?a:{weSessionId:"",wesessionScene:0,wesessionSceneNote:"",isWesessionEntrance:0,openSource:1},u=a=>{var o,s;return{customUid:QO(),localUid:i,hashUid:null!==(o=L2.hashUid)&&void 0!==o?o:void 0,uuid:n,event:JSON.stringify(a.map((e=>({...e,weSessionId:void 0,sessionLifeTimeMeta:void 0})))),path:e.path,query:e.query,projectKey:r,sdkVersion:t,timestamp:r6(),weSessionId:e.weSessionId,coslessMode:L2.coslessMode,wesessionScene:c.wesessionScene,wesessionSceneNote:c.wesessionSceneNote,isWesessionEntrance:c.isWesessionEntrance,openSource:c.openSource,...null!==(s=L2.staticMeta)&&void 0!==s?s:{openId:"",enterScene:0,languageVersion:"",clientVersion:0,addState:-1,envVersion:-1,appversion:"",devicemodel:"",devicebrand:"",osName:"",osVersion:""}}};o.length>0&&v.push({record:u(o)}),s.length>0&&m.push({record:u(s)})};for(var S of a)yield*w(S);return a.length,v.length,m.length,y.length,b.length,{sentEvents:y,cosOnlyEvents:b,uploadBatch:v.length>1?{recordList:v.map((e=>e.record))}:v[0],cosOnlyUploadBatch:m.length>0?m.length>1?{recordList:m.map((e=>e.record))}:m[0]:null,newSeq:_}})),pN.apply(this,arguments)}function hN(e){return[_R.AppLaunch,_R.AutoReLaunch,_R.SwitchTab,_R.ReLaunch,_R.RedirectTo,_R.NavigateTo,_R.NavigateBack,_R.InitState].includes(e.type)}function fN(e){if(e.type===_R.InitState){var{path:t,query:r}=e.data.launchOptions;return{path:t,query:JSON.stringify(r)}}var{path:n,query:i}=e.data;return{path:n,query:JSON.stringify(i)}}function gN(e){var t=0;for(var r of e)r.timestamp&&r.timestamp>t&&(t=r.timestamp);return t||r6()}function vN(e){return mN.apply(this,arguments)}function mN(){return(mN=Vp()((function*(e){var t=r6(),r=WD(e);return BN(UR.CompressCost,r6()-t),r}))).apply(this,arguments)}var yN=0,bN=new Map;function _N(e){return wN.apply(this,arguments)}function wN(){return wN=Vp()((function*(e){var t=r6(),r={data:e.buffer,useBinary:!0,isArrayData:!0,tokenInfo:{encryptKeyBytes:Array.from(HD(L2.encrypt.key)),ivBytes:Array.from(HD(L2.encrypt.iv))}};try{var n=new Uint8Array(yield Ip().runTask("aesEncrypt",r));return BN(UR.EncryptCost,r6()-t),n}catch(t){var i={data:OP(e),id:++yN};hr("wxobs:encrypt",{data:i},[L2.reporter]);var a=new Promise(((e,t)=>{bN.set(i.id,e),setTimeout((()=>t(new Error("webview encrypt timeout"))),5e3)}));return yield a}})),wN.apply(this,arguments)}function SN(e,t){return CN.apply(this,arguments)}function CN(){return CN=Vp()((function*(e,{encrypted:t},r=!1){var{recorderConfigs:n}=N2;if(n.coslessMode)return{};var{projectId:i,uuid:a}=n,o=`${i}/${a}-appservice-${r6()}-${LR().slice(0,5)}`,s=AR(!0,[[t?`encrypt:${n.encrypt.version}`:"raw:1",e]]);if(e.length,s.length,r){var l=yield HR(o,s);return l}var c=yield zR({key:o,headers:{"Content-Type":"application/octet-stream"},body:s});return c})),CN.apply(this,arguments)}function kN(e,t){return IN.apply(this,arguments)}function IN(){return IN=Vp()((function*(e,{encrypted:t,compressed:r}){try{var n=Date.now(),{recorderConfigs:i}=N2,{sdkVersion:a}=i,o=yield OR(i.url,{method:"POST",headers:{"x-wx-ob-env":"appservice","x-wx-ob-sdkversion":a||"","x-wx-ob-pack-version":t?KR.CompressedAndAesCbc:r?KR.Compressed:KR.Raw,"x-wx-ob-project-key":i.projectId},body:e});return LN(UR.UploadWxSucess),BN(UR.UploadWxCost,Date.now()-n),NN(UR.UploadWxSize,e.length),o}catch(e){LN(UR.UploadWxFailure),XD(KD.AppserviceReportWx,e)}})),IN.apply(this,arguments)}function PN(e){return TN.apply(this,arguments)}function TN(){return TN=Vp()((function*(e){var{recorderConfigs:t}=N2,{sdkVersion:r}=t;try{var n;yield OR("https://servicewechat.com/ob/sdkmonitor?devtools_ignore=true",{method:"POST",headers:{"Content-Type":"application/json","x-wx-ob-env":"appservice","x-wx-ob-sdkversion":r,"x-wx-ob-pack-version":KR.Raw,"x-wx-ob-project-key":null===(n=re.accountInfo)||void 0===n?void 0:n.appId},body:e})}catch(e){}})),TN.apply(this,arguments)}function AN(e,t){var{recorderConfigs:r}=N2,n={data:OP(e),metadata:t,ack:t.ack};hr("wxobs:unifiedReport",{data:n},[r.reporter]),LN(UR.PublishDataToWebview),NN(UR.PublishDataToWebviewSize,e.length)}function xN(e){return L2.enabledFeatures.autoSwitchCosless&&(403===e||404===e||451===e)&&qL}function EN(){LN(UR.AutoSwitchToCosless),L2.coslessMode=!0,iS("syncPXState",{coslessMode:!0},L2.recordingWebviewIds,(()=>{}))}Gr("wxobs:encryptDone",(e=>{e.data;var{id:t,data:r}=e.data,n=bN.get(t);n&&(n(new Uint8Array(LP(r))),JL.delete(t))}));var MN=5e3,RN={},DN={},ON=[];function LN(e){NN(e,1)}function NN(e,t){e in RN||(RN[e]=0),e in DN||(DN[e]=0),RN[e]+=t,DN[e]+=t,FN()}function BN(e,t){ON.push({metric:e,value:t})}var $N=!1;function FN(){$N||($N=!0,setTimeout(jN,MN))}function jN(){try{var e;if(0===Object.keys(DN).length)return;var{version:t,updateTime:r}=aA(),n=`${t} (${r})`,i=null!==(e=N2.recorderConfigs.uuid)&&void 0!==e?e:"none",a=Object.keys(DN).map((e=>({session_id:i,sdk_version:n,metric_type:Number(e),metric_value:Math.round(DN[Number(e)]),os_name:re.system,os_version:re.envVersion})));a.push(...ON.map((({metric:e,value:t})=>({session_id:i,sdk_version:n,metric_type:e,metric_value:Math.round(t),os_name:re.system,os_version:re.envVersion})))),PN(JSON.stringify({report_items:a})),DN={},ON=[]}catch(e){}finally{setTimeout(jN,MN)}}var WN=nr("onTabItemTap"),VN=WN.internalOnMethod;Ut("onTabItemTap",((...e)=>{WN.emit(...e)}));var UN=nr("AppService-Error"),zN=nr("AppService-UnhandledRejection"),qN=UN.onMethod,HN=UN.offMethod,GN=zN.onMethod,KN=zN.offMethod;M.registerThirdErrorListener((e=>{UN.emit(e)})),M.registerThirdUnhandledRejectionListener(((e,t)=>{zN.emit({reason:e,promise:t})}));var JN=Object.hasOwnProperty,XN=nr("AppRouteNotFound"),YN=XN.onMethod,QN=XN.offMethod,ZN=XN.emit,eB=(e,t)=>{_.info(`[rewriteRoute] (webviewId=${t}) ${e}`)},tB={},rB=(e,t)=>{var r=0;if(JN.call(e,"originalWebviewId")){var n;r=e.originalWebviewId,eB(`Found originalWebviewId=${r}`,t),null===(n=k.clientManager)||void 0===n||n.emit("clientIdChanged",r,t)}else{if(1!==Object.keys(tB).length)return eB(`No originalWebviewId found and we have ${Object.keys(tB).length} backup data, guess failed, cleaning backups and giving up`,t),tB={},e;r=Object.keys(tB)[0],eB(`No originalWebviewId found and guess it=${r}`,t)}var i=tB[r];return delete tB[r],["openType","wxMaterial","location","prerender"].forEach((t=>{e[t]=i[t]})),e},nB=(e,{needHtmlSuffix:t})=>{var r=Xd(e.replace(/\.html(\?|$)/i,(e=>e.slice(5))));if("/"===r[0]&&(r=r.slice(1)),!t)return r;var n=r.indexOf("?");return n<0&&(n=r.length),r.slice(0,n)+".html"+r.slice(n)},iB=(e,t=0)=>{if(["dismissPip","navigateBack"].includes(e.openType))return{rewritten:!1,triggerNotFound:!1};if("rewriteRoute"===e.openType&&(e=rB(e,t)),!e.notFound)return{rewritten:!1,triggerNotFound:!1};for(var r=!1,n=e.rawPath;/^[-_+a-z]+:\/\//i.test(n);){eB(`${n} has protocol, try rewriting`,t);try{var i=tp(n);if("wxpage://"===i)return e.rawPath="__wx__/"+e.rawPath.slice(i.length),e.path="__wx__/"+e.path.slice(i.length),fd("pageNotFoundCallback",{hasHandler:!0,webviewId:t}),{rewritten:!1,triggerNotFound:!1};n=nB(n,{needHtmlSuffix:!0}),r=!0}catch(e){return M.reportIDKey({key:"pageNotFound",force:!0}),"AppServiceSdkKnownError"===e.type&&console.error(e.message),fd("pageNotFoundCallback",{hasHandler:!1,webviewId:t}),{rewritten:!1,triggerNotFound:!1}}}return r?(tB[t]=e,eB(`rewriteRoute from "${e.rawPath}" to "${n}"`,t),fd("rewriteRoute",{url:n,webviewId:t,fail(e){"rewriteRoute:fail:not supported"===e.errMsg&&(eB(`rewriteRoute from "${e.rawPath}" to "${n}" not supported, fallback to redirectTo`,t),dE({url:n}))}}),{rewritten:!0,triggerNotFound:!1}):{rewritten:!1,triggerNotFound:!0}},aB=(e={})=>{fd("captureScreen",e,{})},oB=nr("userCaptureScreen"),sB=oB.onMethod,lB=oB.offMethod,cB=null,uB=null,dB=[],pB=[],hB=su,fB=()=>{var e;return null===(e=hB.lastRoute)||void 0===e?void 0:e.match(/__plugin__\/wx[a-z0-9]{16}/)};cr("onUserCaptureScreen",(e=>{fB()?gB(uB,pB):gB(cB,dB),oB.emit(e)}));var gB=(e,t)=>{if("function"==typeof e){var r={},n=hB.query;"object"==typeof n&&(n=Object.keys(n).map((e=>`${e}=${n[e]}`)).join("&")),r.takeScreenShotQuery=n,r.callBackHasPromise=!1,hB.query,r.takeScreenShotQuery,t.push(r);(e=>{setTimeout((()=>{var r=t.indexOf(e);r>-1&&t.splice(r,1)}),3e3)})(r);var i=e();i&&("string"==typeof i.query&&(r.takeScreenShotQuery=i.query),kt(i.promise)&&(r.callBackHasPromise=!0,i.promise.then((e=>{e&&"string"==typeof e.query&&(r.takeScreenShotQuery=e.query)}))))}},vB=e=>e.length>0?e.shift():null;cr("onTakeScreenshot",Vp()((function*(){var e,t=0,r=e=>{var r=hB.lastRoute||"";if(e)if(e.callBackHasPromise)setTimeout((()=>{var t="/"+r+".html";e.takeScreenShotQuery&&(t+="?"+e.takeScreenShotQuery),fd("returnTakeScreenshot",{url:t})}),1500-t);else{var n="/"+r+".html";e.takeScreenShotQuery&&(n+="?"+e.takeScreenShotQuery),fd("returnTakeScreenshot",{url:n})}else{var i=hB.query;"object"==typeof i&&(i=Object.keys(i).map((e=>`${e}=${i[e]}`)).join("&"));var a="/"+r+".html"+(i?"?"+i:"");hB.query,fd("returnTakeScreenshot",{url:a})}};e=vB(dB);var n;n=vB(pB),"android"===re.platform?(t=500,fB()?setTimeout(r,t,n):setTimeout(r,t,e)):fB()?r(n):r(e)})));var mB=e=>{cB=e},yB=e=>{uB=e},bB=()=>{cB=null},_B=()=>{uB=null};re.onReady((()=>{var e,t,r,n=1092===(null===(e=re.appLaunchInfo)||void 0===e?void 0:e.scene),i=null===(t=re.appLaunchInfo)||void 0===t||null===(r=t.referrerInfo)||void 0===r?void 0:r.extraData;cr("onAppEnterForeground",(e=>{var t;n=1092===e.scene,i=null===(t=e.referrerInfo)||void 0===t?void 0:t.extraData})),cr("onUserCaptureScreen",(()=>{var e,t,r=hB.lastRoute||"",a=hB.query||{};"object"==typeof a&&(a=Object.keys(a).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(a[e])}`)).join("&")),M.reportKeyValue({key:"MiniprogramOnUserCaptureScreen",value:[r,a].join(",")}),n&&(null===(e=i)||void 0===e?void 0:e.csSessionId)&&tx({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:1,cs_session_id:null===(t=i)||void 0===t?void 0:t.csSessionId}})}))}));var wB=(e={})=>{fd("getScreenBrightness",e,{})},SB=(e={})=>{fd("setScreenBrightness",e,{})},CB=(e={})=>{jc("setKeepScreenOn",e,{keepScreenOn:!0})&&fd("setKeepScreenOn",e,{})},kB=(e={})=>{e.visualEffect=e.visualEffect||"none",fd("setVisualEffectOnCapture",e,{})};cr("onScreenRecordingStateChanged",((e={})=>{var t=Zd(su.lastRoute);"//"!==t&&nr(`${t}onScreenRecordingStateChanged`).emit(e)}));var IB=e=>t=>{nr(`${e}onScreenRecordingStateChanged`).onMethod(t)},PB=e=>t=>{nr(`${e}onScreenRecordingStateChanged`).offMethod(t)},TB=(e={})=>{fd("getScreenRecordingState",e,{})},AB=!1,xB=0;Ck((e=>{xB=e.timeStamp,AB=!0})),Id((()=>{xB=0,AB=!1}));var EB=()=>AB,MB=()=>{xB=Date.now(),AB=!0},RB=e=>{MB(),"function"==typeof e.success&&e.success()},DB=()=>AB,OB=()=>xB,LB=null,NB=["left","top","right","bottom","width","height","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","fontSize","lineHeight","borderRadius"],BB=["margin","marginTop","marginBottom","marginLeft","marginRight","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","width","height"],$B=()=>({left:void 0,top:void 0,right:void 0,bottom:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,minWidth:void 0,minHeight:void 0,margin:void 0,marginLeft:void 0,marginRight:void 0,marginTop:void 0,marginBottom:void 0,padding:void 0,paddingLeft:void 0,paddingRight:void 0,paddingTop:void 0,paddingBottom:void 0,borderWidth:void 0,flexDirection:void 0,justifyContent:void 0,alignItems:void 0,alignSelf:void 0,flex:void 0,flexWrap:void 0,position:void 0,hidden:!1,scale:1,scaleWidth:1,scaleHeight:1,color:void 0,fontSize:void 0,textAlign:void 0,fontWeight:void 0,lineHeight:void 0,lineBreak:void 0,backgroundColor:void 0,backgroundColorOpacity:1,borderRadius:void 0,borderColor:void 0,borderColorOpacity:1,opacity:void 0,overflow:void 0,zIndex:1,fixed:!1,rotate:0}),FB=(e,t,r)=>Math.min(Math.max(t,e),r),jB=({outer:e={width:0,height:0},inner:t={width:0,height:0},maxScale:r=1e3,minScale:n=0,side:i})=>{var a=e.width/e.height,o=t.width/t.height,s=e.width/t.width,l=e.height/t.height,c=a>o?l:s;return"width"===i?c=s:"height"===i&&(c=l),c=FB(c,n,r),t.width*=c,t.height*=c,e.width=Math.max(e.width,t.width),e.height=Math.max(e.height,t.height),{scale:c,outer:e,inner:t}},WB=(e=0)=>new Promise((t=>{setTimeout(t,e)})),VB=()=>{},UB=()=>{},zB=(e,t)=>{for(var r="",n=0,i=0;i<e.length;i++){if((n+=/[\u4e00-\u9fa5]/.test(e[i])?2:1)>t){r+="...";break}r+=e[i]}return r},qB=e=>e.split("-").map(((e,t)=>0===t?e:e[0].toUpperCase()+e.slice(1))).join(""),HB=e=>Object.keys(e).reduce(((t,r)=>{var n=e[r],i=typeof n;return"object"===i&&null!==n?t[r]=HB(n):"undefined"!==i&&(t[r]=e[r]),t}),{}),GB=e=>{var t=null;return!/^#/.test(e)||7!==e.length&&9!==e.length?null!==(t=/^(rgb|rgba)\((.+)\)/.exec(e))?"#"+t[2].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e="0"+e),e))).join(""):"#00000000":e},KB=(e,t,r)=>{r&&cr(e,t)},JB=(e,t)=>{KB(e,t,"undefined"==typeof IS_SDK_PACKAGE)},XB;XB=32768;var YB={uuid:XB,increase(){return this.uuid++}},QB=new Yt({maxListeners:2e5}),ZB="portrait",e$="";re.onReady((()=>{ZB=re.deviceOrientation||ZB,e$=pw().model||""}));var t$=(e,t)=>-1!==["click","touchstart","touchmove","touchend","touchcancel","ready","prop-change"].indexOf(e)?`element-${t}-${e}`:-1!==["layout"].indexOf(e)?e:void 0;class r${constructor({parentId:e=0,id:t=YB.increase(),style:r={},props:n={},name:i=""}={}){var a=re.platform;this.parentId=e,this.dest=0,this.id=t,this.name=i,this.children={},this.parent=null,this.isInserted=!1,this.shouldUpdate=!1,this.autoLayout=!0,this.readyResult=new Promise((e=>{this.on("ready",e)})),r=Object.assign($B(),r),Object.assign(r,r[ZB]);var o=/iphone x/.test(e$.toLowerCase())?"iphone x":a;Object.assign(r,r[o]),Object.assign(r,r[`${o}-${ZB}`]),this.style={},this.computedStyle=Object.assign({},r),this.lastComputedStyle=Object.assign({},r),this.layoutBox=null,Object.keys(r).forEach((e=>{Object.defineProperty(this.style,e,{configurable:!0,enumerable:!0,get:()=>r[e],set:t=>{if(t!==r[e]&&void 0!==t){if(r[e]=t,this.computedStyle[e]=t,this.lastComputedStyle[e]=t,-1!==NB.indexOf(e)&&this.style.scale){var n=t*this.style.scale;this.computedStyle[e]=n,this.lastComputedStyle[e]=n}"scale"===e&&NB.forEach((e=>{r[e]&&(this.computedStyle[e]=r[e]*t,this.lastComputedStyle[e]=r[e]*t)})),this.shouldUpdate=!0,"hidden"===e&&(t?(UB(this.id,this.name,"隐藏, 保存宽高",this.computedStyle.width,this.computedStyle.height),BB.forEach((e=>{this.computedStyle[e]=0}))):(UB(this.id,this.name,"显示, 设置回来",this.lastComputedStyle.width,this.lastComputedStyle.height),BB.forEach((e=>{this.computedStyle[e]=this.lastComputedStyle[e]})))),this.requestLayout()}}})})),NB.forEach((e=>{if(this.style[e]&&this.style.scale){var t=this.style[e]*this.style.scale;this.computedStyle[e]=t,this.lastComputedStyle[e]=t}})),r.hidden&&BB.forEach((e=>{this.computedStyle[e]=0})),Object.keys(n).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>n[e],set:t=>{t!==n[e]&&(n[e]=t,this.shouldUpdate=!0,this.requestLayout())}})})),["touchstart","touchmove","touchend","touchcancel"].forEach((e=>{this.on(e,(t=>{if(this.bubbleEvent&&this.parent){var r=0,n=0;try{r=this.layoutBox.left,n=this.layoutBox.top}catch(e){}if("touchstart"===e||"touchend"===e){var i=Object.assign({},t);i.x+=r,i.y+=n,this.parent.emit(e,i)}else{var a=t.map((e=>({x:e.x+r,y:e.y+n})));this.parent.emit(e,a)}}}))}))}getChildren(){return Object.keys(this.children).map((e=>{var t=this.children[e];return t.dest=this.dest,{id:t.id,name:t.name,style:t.computedStyle,children:t.getChildren()}}))}getAbsolutePosition(e){if(!e)return this.getAbsolutePosition(this);if(!e.parent)return{left:0,top:0};var{left:t,top:r}=this.getAbsolutePosition(e.parent);return{left:t+e.layoutBox.left,top:r+e.layoutBox.top}}add(e){e.parent=this,e.parentId=this.id,e.dest=this.dest,this.children[e.id]=e,this.requestLayout()}remove(e){e?this.children[e.id]&&(e.remove(),delete this.children[e.id]):(Object.keys(this.children).forEach((e=>{this.children[e].remove(),delete this.children[e]})),this.destroy(),this.parent&&delete this.parent.children[this.id]),this.requestLayout()}emit(e,t){QB.emit(t$(e,this.id),t)}on(e,t){QB.on(t$(e,this.id),t)}once(e,t){QB.once(t$(e,this.id),t)}off(e,t){QB.off(t$(e,this.id),t)}nextLayout(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextLayout(e)));setTimeout(e,250)}nextUpdate(e){if(!e||"function"!=typeof e)return new Promise((e=>this.nextUpdate(e)));this.once("update-done",e)}ready(){var e=Object.keys(this.children).map((e=>this.children[e].ready()));return Promise.all(e.concat(this.readyResult))}requestLayout(){this.autoLayout&&this.emit("layout")}forceUpdate(){var e=this.isInserted?this.update():this.insert(),t=Object.keys(this.children).map((e=>this.children[e].forceUpdate()));return e.then((()=>Promise.all(t)))}insert(){return Promise.resolve()}update(){return Promise.resolve()}destroy(){["click","ready","touchstart","touchmove","touchend","touchcancel"].forEach((e=>{var t=t$(e,this.id);QB.removeAllListeners(t)}))}}var n$=e=>{var{id:t}=JSON.parse(e.data);QB.emit(t$("click",t))};JB("onTextViewClick",n$),JB("onImageViewClick",n$),["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"].forEach((e=>{var t=e.replace(/^on/,"").toLowerCase();JB(e,(e=>{try{if(e.data){var{id:r}=JSON.parse(e.data);QB.emit(t$(t,r),e.touch||e.touches)}else QB.emit(t$(t,e.viewId),e.touch||e.touches)}catch(e){}}))}));var i$=["game.weixin.qq.com"],a$=new Map,o$=new WeakMap,s$=e=>e?"insertGameHTMLWebView":"insertHTMLWebView",l$=e=>e?"updateGameHTMLWebView":"updateHTMLWebView",c$=e=>e?"removeGameHTMLWebView":"removeHTMLWebView",u$=(e,t)=>e&&t?invokeMethodWithPlugin(t):invokeMethod;function d$(){return new Promise(((e,t)=>{var r=o$.get(this),{style:n,__skipDomainCheck__:i,src:a,zIndex:o,isGameWebview:s,pluginId:l,fullscreen:c,adjustResizeOnKeyboardStateChanged:u}=r,d=s$(s);u$(s,l)(d,{htmlId:this.id,position:n,src:a,zIndex:o,backgroundColor:n.backgroundColor,__skipDomainCheck__:i,adjustResizeOnKeyboardStateChanged:u,fullscreen:c,success:e,fail:t})}))}class p$ extends(null){constructor({src:e,zIndex:t,style:r={},__skipDomainCheck__:n=!1,isGameWebview:i=!1,fullscreen:a,adjustResizeOnKeyboardStateChanged:o=!0},s){super({style:r}),a$.set(this.id,this);var l={};try{l=parseUrl(e)}catch(e){console.error(e)}o$.set(this,{src:e,zIndex:t,style:r,urlObj:l,isGameWebview:i,__skipDomainCheck__:n,adjustResizeOnKeyboardStateChanged:o,fullscreen:a,pluginId:s}),d$.call(this),this.isInserted=!0}get src(){var e;return null===(e=o$.get(this))||void 0===e?void 0:e.src}set src(e){var t=o$.get(this);if(t){t.src=e;var r=l$(t.isGameWebview);try{var n=parseUrl(e);t.urlObj=n}catch(e){console.error(e)}u$(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,src:e})}}get style(){var e;return null===(e=o$.get(this))||void 0===e?void 0:e.style}set style(e){var t=o$.get(this);if(t&&t.style){var r=t.style;Object.assign(r,e);var n=l$(t.isGameWebview),i=u$(t.isGameWebview,t.pluginId);this.isInserted&&i(n,{htmlId:this.id,position:r,backgroundColor:r.backgroundColor})}else t?t.style=e:o$.set(this,{style:e})}get zIndex(){var e;return null===(e=o$.get(this))||void 0===e?void 0:e.zIndex}set zIndex(e){var t=o$.get(this);if(t){t.zIndex=e;var r=l$(t.isGameWebview);u$(t.isGameWebview,t.pluginId)(r,{htmlId:this.id,zIndex:e})}}postMessage(e){var t=o$.get(this);return this.isInserted?t&&t.isGameWebview?new Promise(((r,n)=>{var i=l$(t.isGameWebview);u$(t.isGameWebview,t.pluginId)(i,{htmlId:this.id,evaluateJavascript:"window.onMessage("+JSON.stringify(e)+")",success:r,fail:n})})):t&&!t.isGameWebview?Promise.reject({errMsg:"not support"}):Promise.reject({errMsg:"webview has been destroyed"}):Promise.reject({errMsg:"not inserted"})}destroy(){var e=o$.get(this);if(e){var t=c$(e.isGameWebview);a$.delete(this.id),o$.delete(this),u$(e.isGameWebview,e.pluginId)(t,{htmlId:this.id})}}}function h$(){return[...a$.keys()]}function f$({htmlId:e}){var t=a$.get(e);t&&t.onload&&setTimeout(t.onload)}function g$({htmlId:e,errcodeCode:t,description:r,src:n}){var i=a$.get(e);i&&i.onerror&&setTimeout(i.onerror({errcodeCode:t,description:r,src:n}))}function v$({name:e,arg:t,htmlId:r}){"postMessage"===e?a$.forEach((({onmessage:e},n)=>{r&&r!==n||e&&setTimeout((()=>e(t)))})):0!==e.indexOf("XLogManager.")&&"reportKeyValue"!==e&&"getSDKVersion"!==e||a$.forEach(((n,i)=>{var a;if(!r||r===i){var o=a$.get(i),s=null===(a=o$.get(o))||void 0===a?void 0:a.urlObj;if(s&&i$.includes(s.host))if(0===e.indexOf("XLogManager.")){var l=e.split(".")[1];_[l](t)}else"reportKeyValue"===e&&M.reportKeyValue(t)}}))}re.onReady((()=>{We()&&(cr("onWebViewError",g$),cr("onWebviewFinishLoad",f$),cr("onWebInvokeAppService",v$),cr("WEB_INVOKE_APPSERVICE",v$))}));var m$=({urlList:e,success:t,fail:r,complete:n})=>{invokeMethod("private_onWebPageUrlExposed",{urlList:e,success:t,fail:r,complete:n})},y$={EVENT_CANVAS_BEFORE_SHARE:1,EVENT_CANVAS_AFTER_SHARE_SUCCESS:2,EVENT_CANVAS_AFTER_SHARE_CANCEL:3,EVENT_CANVAS_BEFORE_ADS:4,EVENT_CANVAS_ADS_FIN:5,EVENT_CANVAS_ADS_CANCEL:6,EVENT_CANVAS_BEFORE_JUMP_TO_APP:7,EVENT_CANVAS_BEFORE_PAY:8,EVENT_CANVAS_BEFORE_JUMP_TO_CUSTOMER_SERVICE:9,EVENT_CANVAS_BEFORE_CLOSE_CUSTOMER_SERVICE:10,EVENT_CANVAS_BEFORE_QR_CODE:11,EVENT_CANVAS_BEFORE_MORE:12,EVENT_CANVAS_BEFORE_GAME_ClUB:13,EVENT_CANVAS_AFTER_MODAL:14,EVENT_CANVAS_BEFORE_NORMAL_EXIT:15,EVENT_CANVAS_SAMPLE_BY_TIME:16,EVENT_CANVAS_WEBVIEW_TIMING:17,EVENT_CANVAS_WEBVIEW_BEFORE_JUMP:18},b$={sampleEventList:[]},_$=new Map;function w$(){var e=b$.sampleEventList.find((e=>e.event===y$.EVENT_CANVAS_SAMPLE_BY_TIME));if(e){var t=6e3,r=6,n=0;isNumber(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),isNumber(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{I$(y$.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),1e3);var i=setInterval((()=>{n>r?clearInterval(i):setTimeout((()=>{I$(y$.EVENT_CANVAS_SAMPLE_BY_TIME),n++}),500)}),t)}}function S$(){var e=b$.sampleEventList.find((e=>e.event===y$.EVENT_CANVAS_WEBVIEW_TIMING));if(e){var t=6e3,r=6,n=0;isNumber(e.sample_interval_seconds)&&(t=1e3*e.sample_interval_seconds),isNumber(e.sample_cnt)&&(r=e.sample_cnt),setTimeout((()=>{getWebViewIdList().forEach((e=>{I$(y$.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),1e3);var i=setInterval((()=>{n>r?clearInterval(i):setTimeout((()=>{getWebViewIdList().forEach((e=>{I$(y$.EVENT_CANVAS_WEBVIEW_TIMING,e)})),n++}),500)}),t)}}function C$(){onMethod("onCanvasReportEventSampleConfigReceived",(e=>{var t=JSON.parse(e.keyEventSampleConfig);Array.isArray(t.sample_event_list)&&(b$.sampleEventList=t.sample_event_list,b$.sampleEventList.forEach((e=>{_$.set(e,0)})),w$(),S$())})),onMethod("onStartReportCanvasData",(({event:e})=>{e===y$.EVENT_CANVAS_WEBVIEW_BEFORE_JUMP?getWebViewIdList().forEach((t=>{I$(e,t)})):I$(e)}))}function k$(e){return b$.sampleEventList.find((t=>e===t.event))}function I$(e,t){if(We()){var r=k$(e);if(r){var n=Date.now(),i=_$.get(r);if(r.sample_interval_seconds,(n-i)/1e3<r.sample_interval_seconds)return;fd("reportCanvasData",{eventInfo:JSON.stringify(r),viewId:t>0?t:0,noCallback:!0,success(){_$.set(r,n)},fail({errMsg:e}){}})}}}var P$=function(){var e=Vp()((function*(e){var t;e||(e=yield QP(null,!0));var r=[];return e.forEach((e=>{var n=e.cliParamList;n&&n.forEach((n=>{var{pre_proc:i,preset_data:a}=n;if("screenshot"===a&&(r.push(e),i)){var{param:o}=i;o&&o.forEach((e=>{"shortEdge"===e.key&&(t=e.value)}))}}))})),{shortEdge:t,configs:r}}));return function(t){return e.apply(this,arguments)}}(),T$=0,A$=e=>{if(T$!==(e?1:2)){var t=0!==T$;T$=e?1:2,fd("setSecuritySnapshotStrategy",{enabledSnapshot:e,snapshotIntervalMillis:100,shortEdge:YI(),success(){t||x$()},fail(e){P$().then((t=>{var{configs:r}=t;r.length&&xT(r,null,null,e)}))}})}},x$=()=>{cr("onDumpSecuritySnapshot",(e=>{A$(!1),P$().then((t=>{var{configs:r}=t;xT(r,e.buffer,[e.shape[1],e.shape[0]])}))}))},E$=[],M$=e=>{E$.push(e)},R$=e=>{E$.forEach((t=>{t(e)})),E$=[]},D$={},O$=(e,t=0)=>{var{afterLoadInterval:r,afterLoadMaxCnt:n,mostCnt:i}=e;if(!("number"!=typeof r||r<=0)&&L){var a=L.getCurrentFullyRoutePath();D$[a]||(D$[a]=!0,setTimeout(Vp()((function*(){var r=L.getCurrentFullyRoutePath();if(e.currentCnt>i)D$[a]=!1;else if(a===r)try{e.currentCnt+=1,e.isMultiModal&&L$(),yield AT(11),ke&&XI()&&!e.isMultiModal&&(yield L$()),t<n?O$(e,t+1):D$[a]=!1}catch(e){D$[a]=!1}else D$[a]=!1})),r))}},L$=()=>{A$(!0)},N$=!1,B$=()=>N$,$$=function(){var e=Vp()((function*(){var e=yield QP(null,!0);if(e&&e.length&&(e.forEach((e=>{var t=e.runTiming||[];["at_toast","at_modal","at_clipboard","at_loading"].some((e=>t.includes(e)))&&(N$||(N$=(e,t)=>{var r;"modal"===e?r=`${t.title}\r\n${t.content}`:"toast"===e&&(r=t.title),AT(11,r,e)}))})),!1===N$&&(N$=null),N$&&R$(N$),0!==e.filter((e=>!e.onlyInteractionCheck)).length)){var{configs:t,shortEdge:r}=yield P$(e),n=null==t?void 0:t[0];if(n){KI(r);var{afterLoadMaxCnt:i,afterLoadInterval:a}=n;JI({maxCnt:i,interval:a})}O$(e[0])}}));return function(){return e.apply(this,arguments)}}(),F$=(e,t,r)=>{t&&(AT(11,{res:e,cost:-1}),setTimeout((()=>F$(e,t-1,r)),r))},j$=0,W$=0,V$=null,U$=null,z$=e=>{e=e.map((e=>"innerHTML"===e?null:e)).filter((e=>e)),fd("setAcquireWebviewDom",{enableAcquireWebviewDom:!0,type:e})},q$=()=>{fd("setAcquireWebviewDom",{enableAcquireWebviewDom:!1})},H$=new Set,G$=function(){var e=Vp()((function*({path:e,htmlId:t}){var r,n,i,a;if(ke&&(null===(r=re.appContactInfo)||void 0===r||null===(n=r.operationInfo)||void 0===n||null===(i=n.jsonInfo)||void 0===i||null===(a=i.op_info)||void 0===a||!a.skip_webview))if(H$.has(e));else{var o;if(!V$){var s=yield QP(null,!0);V$=o=s[0],U$=new Set,s.forEach((e=>{e.cliParamList.forEach((e=>{U$.add(zP(e.preset_data))})),e.debug.forEach((e=>{U$.add(e)}))})),U$=Array.from(new Set(Array.from(U$).map((e=>VP[e])).filter((e=>e)))),W$=o.afterLoadInterval,j$=o.afterLoadMaxCnt}if(o=V$)setTimeout((()=>{H$.add(e),t===K$&&z$(U$)}),W$)}}));return function(t){return e.apply(this,arguments)}}(),K$;cr("onDumpWebviewDom",(e=>{(e=JSON.parse(e)).domData={1:e.innerText,2:e.innerHTML,3:e.textContent},q$(),F$(e,j$,W$)}));var J$=({htmlId:e,src:t})=>{if(void 0===K$);else if(K$===e){if(H$.has(t))return;setTimeout((()=>{K$===e&&z$(U$)}),W$)}K$=e},X$=()=>{K$=void 0},Y$=function(e){return e[e.Untranslate=0]="Untranslate",e[e.Translating=1]="Translating",e[e.Translated=2]="Translated",e[e.Reset=3]="Reset",e}(Y$||{}),Q$=function(e){return e[e.NotRequireTranslate=0]="NotRequireTranslate",e[e.RequireTranslate=1]="RequireTranslate",e}(Q$||{}),Z$=function(e){return e[e.Untranslate=0]="Untranslate",e[e.Translated=1]="Translated",e[e.Hidden=2]="Hidden",e}(Z$||{}),eF=function(e){return e[e.Confirm=0]="Confirm",e[e.Cancle=1]="Cancle",e}(eF||{}),tF=function(e){return e[e.Setting=0]="Setting",e[e.Button=1]="Button",e[e.Modal=2]="Modal",e}(tF||{}),rF=Y$.Untranslate,nF="en",iF=!1,aF=new Map,oF=e=>{rF=e},sF=e=>{nF=e},lF=e=>{iF=e},cF={tabBarList:[],navigationBarTitleText:"",toastMap:new Map,modalMap:new Map,actionSheetMap:new Map,mapMarkersIOS:new Map,mapMarkersAndroid:new Map},uF=function(e){return e.tabBar="tabBarList",e.navigationBar="navigationBarTitleText",e.toast="toastMap",e.modal="modalMap",e.actionSheet="actionSheetMap",e.mapMarkersIOS="mapMarkersIOS",e.mapMarkersAndroid="mapMarkersAndroid",e}(uF||{});function dF(){var e,t,r,n,i,a,o,s;(null!==(e=v.tabBar)&&void 0!==e&&e.list&&null!==(t=v.tabBar)&&void 0!==t&&t.list.length&&(cF.tabBarList=v.tabBar.list),null!==(r=v.global)&&void 0!==r&&null!==(n=r.window)&&void 0!==n&&n.navigationBarTitleText&&null!==(i=v.global)&&void 0!==i&&null!==(a=i.window)&&void 0!==a&&a.navigationBarTitleText.length)&&(cF.navigationBarTitleText=null===(o=v.global)||void 0===o||null===(s=o.window)||void 0===s?void 0:s.navigationBarTitleText)}function pF(e,t,r){void 0===r?e in cF&&(cF[e]=t):cF.tabBarList.length>0&&cF.tabBarList[r]&&(cF.tabBarList[r][e]=t)}function hF(e,t,r){if(rF!==Y$.Untranslate){var n={};r.forEach((e=>{Object.prototype.hasOwnProperty.call(t,e)&&""!==t[e]&&(n[e]=t[e])})),e in cF&&Array.isArray(cF[e])&&cF[e].push(n),e in cF&&cF[e]instanceof Map&&cF[e].set(t.id,n)}}function fF(e,t){rF!==Y$.Untranslate&&(e in cF&&Array.isArray(cF[e])&&cF[e].pop(),void 0!==t&&e in cF&&cF[e]instanceof Map&&cF[e].delete(t))}var gF=nr("NavigationBarTitleUpdate"),vF=gF.internalOnMethod,mF=function(){var e=Vp()((function*(e={}){jc("setNavigationBarTitle",e,{title:""})&&(su.navigationBarTitleMap[su.lastRoute]=e.title,su.lastRoute,e.title,pF("navigationBarTitleText",e.title),yield GF(e,["title"]),yF(e))}));return function(){return e.apply(this,arguments)}}(),yF=e=>{fd("setNavigationBarTitle",e,{beforeAll(t){gF.emitInternal({title:e.title,...t})}})},bF=e=>{fd("showNavigationBarLoading",e)},_F=e=>{fd("hideNavigationBarLoading",e)},wF="#000000",SF="#ffffff";function CF(e){var t=(re.appContactInfo||{}).operationInfo||{};if(t.jsonInfo&&t.jsonInfo.op_info&&1===Number(t.jsonInfo.op_info.gray_flag)&&!We()&&!Ge()){var r=/^#([0-9|A-F|a-f]{6})$/.exec(e);if(null!=r){var n=parseInt(r[1].slice(0,2),16),i=parseInt(r[1].slice(2,4),16),a=parseInt(r[1].slice(4),16),o=Math.round(.299*n+.587*i+.114*a).toString(16).toUpperCase();fd("setNavigationBarColor",{frontColor:SF,backgroundColor:`#${o}${o}${o}`})}}}re.onReady((()=>{Jw((()=>{if(void 0!==re&&re.global&&re.global.window){var e=re.global.window;wF=e.navigationBarBackgroundColor||wF,SF="black"===e.navigationBarTextStyle?"#000000":"#ffffff"}var t=su.lastRoute+".html";if(void 0!==re&&re.page&&re.page[t]&&re.page[t].window){var r=re.page[t].window;wF=r.navigationBarBackgroundColor||wF,SF="black"===r.navigationBarTextStyle?"#000000":"#ffffff"}CF(wF)}))}));var kF=(e={})=>{if(jc("setNavigationBarColor",e,{frontColor:"",backgroundColor:""}))if(-1!==["#ffffff","#000000"].indexOf(e.frontColor)){"#ffffff"===e.frontColor?fd("setStatusBarStyle",{color:"white"}):"#000000"===e.frontColor&&fd("setStatusBarStyle",{color:"black"});var t=Object.assign({},e);wF=e.backgroundColor,SF=e.frontColor,fd("setNavigationBarColor",t),CF(wF)}else Vc("setNavigationBarColor",e,`invalid frontColor "${e.frontColor}"`)},IF=(e={})=>{var t=Object.assign({},e);t.backgroundColor=wF,fd("setNavigationBarColor",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setNavigationBarColor","setNavigationBarAlpha")}})},PF=()=>({backgroundColor:wF,frontColor:SF}),TF=(e={})=>{jc("setNavigationBarRightButton",e,{hide:!0})&&fd("setNavigationBarRightButton",e,{})},AF=e=>{Ut("onCustomRightButtonClick",E.surroundThirdByTryCatch(e,"at onTapNavigationBarRightButton callback function"))},xF=(e={})=>{fd("hideHomeButton",e,{})},EF=function(){var e=Vp()((function*(e={}){if(jc("setTabBarBadge",e,{index:0,text:""})){var t=Object.assign({},e);t.badgeValue=t.text,t.type="text",pF("badgeValue",t.badgeValue,t.index),yield GF(t,["badgeValue"]),function(e){if(!e)return 0;"string"!=typeof e&&(e+="");return e.replace(/[^\x00-\xff]/g,"01").length}(t.badgeValue)>4&&(t.badgeValue="..."),fd("setTabBarBadge",t)}}));return function(){return e.apply(this,arguments)}}(),MF=(e={})=>{if(jc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="none",fd("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","removeTabBarBadge")}})}},RF=(e={})=>{if(jc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="redDot",fd("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","showTabBarRedDot")}})}},DF=(e={})=>{if(jc("setTabBarBadge",e,{index:0})){var t=Object.assign({},e);t.type="none",fd("setTabBarBadge",t,{beforeAll(e){e.errMsg=e.errMsg.replace("setTabBarBadge","hideTabBarRedDot")}})}},OF=!1;Jw((e=>{setTimeout((()=>{try{OF=re.tabBar.list.some((({pagePath:t})=>t.startsWith(e.path)))}catch(e){}}),100)}));var LF=(e={})=>{void 0===e.animation&&(e.animation=!1),jc("showTabBar",e,{animation:!0})&&fd("showTabBar",e,{beforeSuccess:()=>OF=!0})},NF=(e={})=>{void 0===e.animation&&(e.animation=!1),jc("hideTabBar",e,{animation:!0})&&fd("hideTabBar",e,{beforeSuccess:()=>OF=!1})},BF=()=>OF,$F=(e={})=>{fd("setTabBarStyle",e)},FF=null;re.onReady((()=>{FF=re.tabBar&&re.tabBar.list||[]}));var jF=function(){var e=Vp()((function*(e={}){if(jc("setTabBarItem",e,{index:0}))if(0!==(e.iconPath||"").indexOf("."))if(0!==(e.selectedIconPath||"").indexOf(".")){try{Rd(e,"text")||(e.text=FF[e.index].text||""),pF("text",e.text,e.index),FF[e.index].text=e.text}catch(e){e.message}yield GF(e,["text"]),fd("setTabBarItem",e)}else Vc("setTabBarItem",e,"selectedIconPath invalid, require absolute path");else Vc("setTabBarItem",e,"iconPath invalid, require absolute path")}));return function(){return e.apply(this,arguments)}}(),WF=()=>{var e=yr.getCurrentPagesByDomain("");if(e)return e[e.length-1]},VF=()=>{for(var[e,t]of aF)t.translateStatus=!1,t.translateLangChanged=!0,t.pageState=Q$.RequireTranslate,aF.set(e,t)},UF=e=>{var t=WF();t&&(qr("translateCurrentPage",{isTranslateLanguageChange:e},[t.__wxWebviewId__]),_.info("[Translate] translateCurrentPage",t))},zF=()=>{var e=WF();e&&(qr("revertTranslateCurrentPage",{},[e.__wxWebviewId__]),_.info("[Translate] revertCurrentPage",e))},qF=function(){var e=Vp()((function*(){var e=Object.keys(cF);for(var t of e)switch(t){case uF.modal:if(0!==cF[t].size)for(var[r,n]of cF[t]){var i=JSON.parse(JSON.stringify(n));yield GF(i,Object.keys(i)),fd("updateModal",i)}break;case uF.toast:if(0!==cF[t].size)for(var[a,o]of cF[t]){var s=JSON.parse(JSON.stringify(o));yield GF(s,Object.keys(s)),fd("updateToast",s)}break;case uF.actionSheet:if(0!==cF[t].size){var l=function*(){var e={};u.itemList&&u.itemList.length&&u.itemList.forEach(((t,r)=>{e[`item${r}`]=t})),Object.prototype.hasOwnProperty.call(u,"alertText")&&(e.alertText=null==u?void 0:u.alertText),Object.prototype.hasOwnProperty.call(u,"id")&&(e.id=u.id),yield GF(e,Object.keys(e));var t=Object.assign({},e),r=/^item\d+$/,n=[];Object.keys(t).forEach((e=>{Object.prototype.hasOwnProperty.call(t,e)&&r.test(e)&&(n.push(t[e]),delete t[e])})),t.itemList=n,fd("updateActionSheet",t)};for(var[c,u]of cF[t])yield*l()}break;case uF.tabBar:if(cF[t].length)for(var[d,p]of cF[t].entries())yield jF({index:d,text:p.text}),p.badgeText&&(yield EF({index:d,text:p.badgeText}));break;case uF.navigationBar:if(""!==cF[t]){var h={title:cF[t]};yield GF(h,["title"]),yF(h)}break;case uF.mapMarkersIOS:var f=cF[t];if(0!==f.size)for(var[g,v]of f){var m=JSON.parse(JSON.stringify(v));yield KF(m),fd("updateMapMarkers",{mapId:g,markers:m})}break;case uF.mapMarkersAndroid:if(0!==cF[t].size)for(var[y,b]of cF[t]){var _=JSON.parse(JSON.stringify(b));yield KF(_.markers),fd("updateMapMarkers",{mapId:y,..._})}}}));return function(){return e.apply(this,arguments)}}(),HF=function(){var e=Vp()((function*(){var e=Object.keys(cF);for(var t of e)switch(t){case uF.modal:if(0!==cF[t].size)for(var[r,n]of cF[t])fd("updateModal",n);break;case uF.toast:if(0!==cF[t].size)for(var[i,a]of cF[t])fd("updateToast",a);break;case uF.actionSheet:if(0!==cF[t].size)for(var[o,s]of cF[t])fd("updateActionSheet",s);break;case uF.tabBar:if(cF[t].length)for(var[l,c]of cF[t].entries())yield jF({index:l,text:c.text}),c.badgeText&&(yield EF({index:l,text:c.badgeText}));break;case uF.navigationBar:if(""!==cF[t]){var u={title:cF[t]};yF(u)}break;case uF.mapMarkersIOS:if(0!==cF[t].size)for(var[d,p]of cF[t])fd("updateMapMarkers",{mapId:d,markers:p});break;case uF.mapMarkersAndroid:if(0!==cF[t].size)for(var[h,f]of cF[t])fd("updateMapMarkers",{mapId:h,...f})}}));return function(){return e.apply(this,arguments)}}(),GF=function(){var e=Vp()((function*(e,t){if(rF!==Y$.Untranslate){var r=[],n=[],i=0,a=t.filter((t=>{if(e[t]&&"string"==typeof e[t]){var a=e[t].replaceAll("\\n","").replaceAll("\n","");return(10===n.length||i+a.length>2e3&&i>0)&&(r.push({text:n.join("\n")}),n=[],i=0),n.push(a),i+=a.length,!0}return!1}));if(n.length&&r.push({text:n.join("\n")}),a.length&&r.length)try{var o=(yield rx({apiName:"webapi_getwxatranslatedmsg",reqData:{item_list:r,to_lang:nF,path:""}})).data.item_list.map((e=>e.text.replace(/\n$/,"").split("\n"))).flat();o.length===a.length&&a.forEach(((t,r)=>{""!==o[r]&&(e[t]=o[r])}))}catch(e){fd("showToast",{icon:"error",title:"translation meets frequency limit, please slow down and try again",duration:1e3}),_.error("invoke webapi_getwxatranslatedmsg error: ",e)}}}));return function(t,r){return e.apply(this,arguments)}}(),KF=function(){var e=Vp()((function*(e){if(rF!==Y$.Untranslate){var t=function*(e){var t=[],r=[],n=[];if(Object.prototype.hasOwnProperty.call(e,"callout")&&"string"==typeof e.callout.content&&e.callout.content.length>0&&(r.push(e.callout.content),n.push("callout")),Object.prototype.hasOwnProperty.call(e,"label")&&"string"==typeof e.label.content&&e.label.content.length>0&&(r.push(e.label.content),n.push("label")),r.length>0){t.push({text:r.join("\n")});try{var i=(yield rx({apiName:"webapi_getwxatranslatedmsg",reqData:{item_list:t,to_lang:nF,path:""}})).data.item_list.map((e=>e.text.replace(/\n$/,"").split("\n"))).flat();i.length===n.length&&n.forEach(((t,r)=>{""!==i[r]&&(e[t].content=i[r])}))}catch(e){fd("showToast",{icon:"error",title:"translation meets frequency limit, please slow down and try again",duration:1e3}),_.error("invoke webapi_getwxatranslatedmsg error: ",e)}}};for(var r of e)yield*t(r)}}));return function(t){return e.apply(this,arguments)}}(),JF=(e,t,r)=>{if(rF!==Y$.Untranslate){var n={};switch(e){case uF.modal:case uF.toast:n=JSON.parse(JSON.stringify(cF[e].get(t)));break;case uF.actionSheet:var i=cF[e].get(t);i.itemList&&i.itemList.length&&i.itemList.forEach(((e,t)=>{n[`item${t}`]=e})),Object.prototype.hasOwnProperty.call(i,"alertText")&&(n.alertText=null==i?void 0:i.alertText),Object.prototype.hasOwnProperty.call(i,"id")&&(n.id=i.id)}var a=Object.keys(n).filter((e=>"id"!==e));if(a.length){var o=[],s=[],l=0;if(a.forEach((e=>{var t=n[e].replaceAll("\\n","").replaceAll("\n","");(10===s.length||l+t.length>2e3&&l>0)&&(o.push({text:s.join("\n")}),s=[],l=0),s.push(t),l+=t.length})),s.length&&o.push({text:s.join("\n")}),o.length)try{tx({apiName:"webapi_getwxatranslatedmsg",reqData:{item_list:o,to_lang:nF,path:""},success:t=>{var i=t.data.item_list.map((e=>e.text.replace(/\n$/,"").split("\n"))).flat();if(i.length===a.length&&a.forEach(((e,t)=>{""!==i[t]&&(n[e]=i[t])})),r)switch(e){case uF.modal:case uF.toast:r(n);break;case uF.actionSheet:var o=Object.assign({},n),s=/^item\d+$/,l=[];Object.keys(o).forEach((e=>{Object.prototype.hasOwnProperty.call(o,e)&&s.test(e)&&(l.push(o[e]),delete o[e])})),o.itemList=l,r(o)}},fail:e=>{fd("showToast",{icon:"error",title:"translation meets frequency limit, please slow down and try again",duration:1e3}),_.error("[operateWXData] webapi_getwxatranslatedmsg failed: ",e)}})}catch(e){_.error("invoke webapi_getwxatranslatedmsg error: ",e)}}}},XF=0,YF=0,QF=0,ZF=!1,ej=nr("onNativeUi"),tj=ej.internalOnMethod,rj=ej.internalOffMethod;function nj(e,t){try{ej.emit({type:e,payload:t})}catch(e){}}var ij=(e={},t=!1)=>{var r={id:YF,title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:void 0!==v.theme&&e.confirmColor?e.confirmColor:"#7D90A9",cancelColor:"#000000",cancelColorDark:void 0!==v.theme&&e.cancelColor?e.cancelColor:"#AAAAAA",editable:!1,placeholderText:"",upper:!1};if(YF++,jc("showModal",r=Ed(r,e),{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:"",editable:!1,placeholderText:""})){var n=!1;if(e.__sdk_inner_allowShowMoreLength__&&(n=!0),!n&&r.confirmText.replace(/[^\x00-\xff]/g,"##").length>8)Vc("showModal",e,"confirmText length should not larger than 4 Chinese characters");else if(!n&&r.cancelText.replace(/[^\x00-\xff]/g,"##").length>8)Vc("showModal",e,"cancelText length should not larger than 4 Chinese characters");else{var i=L.getCurrentRoutePath(),a=ag();hF("modalMap",r,["id","title","content","confirmText","cancelText","placeholderText"]),JF("modalMap",r.id,oj),nj("showModal",r),fd("showModal",r,{beforeSuccess:e=>{e.confirm=Boolean(e.confirm),e.cancel=Ie?!e.confirm:!e.confirm&&Boolean(e.cancel),nj("closeModal",{...e,...r}),MB()},beforeAll(){ZF=!0},afterAll(){if(ZF=!1,fF("modalMap",r.id),r.title){var e=B$();e?setTimeout((()=>{e("modal",{content:r.content,title:r.title,networkType:ag()})})):!1===e&&M$((e=>{e("modal",{content:r.content,title:r.title,networkType:ag()})}))}ZT({apiName:"showModal",content:r.content,title:r.title,routePath:i,networkType:a})}})}}},aj=(e={})=>{(e=Object.assign({},e)).__sdk_inner_allowShowMoreLength__&&delete e.__sdk_inner_allowShowMoreLength__,void 0!==e.upper&&delete e.upper,ij(e),We()&&I$(y$.EVENT_CANVAS_AFTER_MODAL)},oj=(e={})=>{fd("updateModal",e)},sj=1,lj=!1,cj=!1,uj=(e={},t=!1)=>{if(!cj||t){var r={id:XF,duration:1500,title:"",icon:"success",mask:!1};if(XF++,r=Ed(r,e),e.image&&(r.image=Jd(su.lastRoute,e.image,!1)),["success","loading","none","error"].indexOf(r.icon)<0&&(r.icon="success"),"none"===r.icon&&(r.icon=""),jc("showToast",r,{duration:1,title:"",icon:""})){if(lj=sj++,t&&(cj=!0),setTimeout((()=>{lj=!1,t&&(cj=!1)}),r.duration),r.maskAll=!1,hF("toastMap",r,["id","title"]),JF("toastMap",r.id,fj),nj("showToast",r),fd("showToast",r,{afterAll(){fF("toastMap",r.id)}}),_.warn("defaultArgs.icon: ",r.icon,r.title),"success"!==r.icon&&r.title){var n=B$();n?setTimeout((()=>{n("toast",{title:r.title,networkType:ag()})})):!1===n&&(_.warn("registerInterenceTask"),M$((e=>{e("toast",{title:r.title,networkType:ag()})})))}"success"!==r.icon&&setTimeout((()=>{ZT({apiName:"showToast",title:r.title,networkType:ag(),routePath:L.getCurrentRoutePath()})}))}}},dj=(e={})=>uj(e),pj=0,hj=(e={})=>{var t=null;if("none"===e.icon&&(e.icon=""),""===e.icon){var r={duration:1500,title:"",mask:!1};r=Ed(r,e),__sclEngine__.initScl((e=>{pj+=1,(t=e.mainRoot.append("officialToast-pop",{title:r.title,duration:r.duration,paddingTop:1===pj?100:20})).addListener("destroy",(()=>{try{pj-=1,e.mainRoot.remove(t)}catch(e){_.error("remove error:",e)}t=null}))}),!0)}else uj(e)},fj=(e={})=>{fd("updateToast",e)},gj=(e={},t=!1)=>{if(!cj||t){if((Ce||e.noConflict)&&mj&&(!lj||lj<mj))return lj=!1,cj=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideToast:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideToast:ok"})})),void console.warn("请注意 showToast 与 hideToast 必须配对使用");lj=!1,cj=!1,nj("hideToast",e),fd("hideToast",e)}},vj=(e={})=>gj(e),mj=!1,yj=0,bj=(e={})=>{if(!cj){var t={id:XF,title:"",icon:"loading",mask:!1,duration:1e8};yj=XF,XF++,(t=Ed(t,e)).icon="loading",delete t.image,jc("showLoading",t,{duration:1,title:""})&&(mj=sj++,t.maskAll=!1,hF("toastMap",t,["id","title"]),JF("toastMap",t.id,fj),L.startLoading(),nj("showToast",t),fd("showToast",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("showToast","showLoading")}}))}},_j=(e={})=>{if(!cj){if((Ce||e.noConflict)&&lj&&(!mj||mj<lj))return mj=!1,"function"==typeof e.success&&setTimeout((()=>{e.success({errMsg:"hideLoading:ok"})})),"function"==typeof e.complete&&setTimeout((()=>{e.complete({errMsg:"hideLoading:ok"})})),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");fF("toastMap",yj),mj=!1,L.endLoading(ag()),nj("hideToast",e),fd("hideToast",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})}},wj=(e={})=>{var t={id:QF,itemList:[],itemColor:"#000000",itemColorDark:void 0!==v.theme&&e.itemColor?e.itemColor:"#FFFFFFCC"};QF++,delete(t=Ed(t,e)).cancelText,delete t.cancelColor,jc("showActionSheet",t,{itemList:["1"],itemColor:""})&&(e.itemList.length>6?Vc("showActionSheet",e,"parameter error: itemList should not be large than 6"):(hF("actionSheetMap",t,["id","itemList","alertText"]),JF("actionSheetMap",t.id,Sj),nj("showActionSheet",t),fd("showActionSheet",t,{beforeAll:e=>{(e.errMsg.indexOf(":ok")>-1||e.errMsg.indexOf(":cancel")>-1)&&MB(),nj("closeActionSheet",{...e,...t}),ZF=!0},afterAll:()=>{ZF=!1,fF("actionSheetMap",t.id)}})))},Sj=(e={})=>{fd("updateActionSheet",e)},Cj=(e={})=>{fd("showShareActionSheet",e)},kj=()=>ZF,Ij=0,Pj=(e={})=>{e.text?Date.now()-Ij<5e3?Vc("setTopBarText",e,"invoke too frequently"):fd("setTopBarText",e,{beforeSuccess(){Ij=Date.now()}}):Vc("setTopBarText",e,"invalid text")},Tj=m;function Aj(){return M}function xj(e){return"string"!=typeof e?JSON.stringify(e||{}):e}var Ej=1e3,Mj=null,Rj=[],Dj=!1,Oj=!1,Lj=Ce||!je(),Nj=[];function Bj(){Mj=null,0!==Rj.length&&(k.invoke("reportKeyValue",{noCallback:!0,version:2,dataArray:Rj.map((e=>({key:26308,value:[e.category,e.name,Math.round(1e3*e.timeStamp),e.phase,encodeURIComponent(xj(e.args))].join(",")})))}),Rj=[])}function $j(e,t){var r={...t,phase:e};r.args=xj(r.args),k.invoke("traceEvent",{events:[r]})}function Fj(e,t){(Oj||"API"!==t.category)&&(Mj||(Mj=setTimeout(Bj,Ej)),Rj.push({...t,phase:e}))}function jj(e,t){Ce&&$j(e,t),Dj&&Fj(e,t)}function Wj(){return Lj}function Vj(e){null===Nj?Lj&&e():Nj.push(e)}re.onReady((e=>{var t,r,n=null===(t=e.expt)||void 0===t?void 0:t.clicfg_appbrand_report_trace_event;("1"===n?Dj=!0:"2"===n&&(Dj=!0,Oj=!0),Lj=Lj||Oj||!!Ee())&&(null===(r=Nj)||void 0===r||r.forEach((e=>e())));Nj=null}));var Uj=!1;function zj(){var e;return Uj?performance.now()+(performance.timeOrigin||(null===(e=performance.timing)||void 0===e?void 0:e.navigationStart)||0):Date.now()}var qj={},Hj={};function Gj(e,t){qj[e]||(qj[e]=[]),qj[e].push(t)}function Kj(e,t){Hj[e]||(Hj[e]=[]),Hj[e].push(t)}function Jj(e){var t=[];function r(r,n,i,a=!1){var o;if(C.traceBegin(r,n),!a){var s={category:r,name:n,timeStamp:zj(),args:i||{}};t.push(s),"Framework"===r&&_.info(`[Trace][B] ${n} @ ${s.timeStamp} ${s.args.path||""}`),null===(o=qj[s.category])||void 0===o||o.forEach((t=>t(s,e))),jj("B",s)}}function n(r,n=!1){var i,a;if(C.traceEnd(),!n){var o=zj(),s=t.pop();if(!s)return _.error("[Trace] Must call traceBeginEvent before traceEndEvent."),Aj().assertWithIDKey(!1,6),void Aj().errorReport({key:"appServiceSDKScriptError",error:new Error(`traceEndEvent mismatch, args=${JSON.stringify(r||{})}`)});var l=s.args,c=s.timeStamp;s.timeStamp=o,s.args=r||s.args,"Framework"===s.category&&_.info(`[Trace][E] ${s.name} @ ${s.timeStamp} ${(null===(i=s.args)||void 0===i?void 0:i.path)||""}`),null===(a=Hj[s.category])||void 0===a||a.forEach((t=>t(s,c,l,e))),jj("E",s)}}function i(e,t){r("API",e,t,Wj())}function a(){n(void 0,Wj())}return{traceBeginEvent:r,traceEndEvent:n,traceBeginAPI:i,traceEndAPI:a,useTraced:function(e,t,i,a){return function(...o){try{return r(e,t,a),i.apply(this,o)}finally{n()}}},useTracedEnd:function(e){return function(...t){try{return e(...t)}finally{n()}}},traceFlag:function(t,r,n){var i,a,o=zj(),s={category:t,name:r,timeStamp:o,args:n||{}};C.traceInstant(t,r),"Framework"===t&&_.info(`[Trace][I] ${r} @ ${o}`),null===(i=qj[t])||void 0===i||i.forEach((t=>t(s,e))),jj("B",s),jj("E",s),null===(a=Hj[t])||void 0===a||a.forEach((t=>t(s,o,n,e)))},useTracedApi:function(e,t,r){return function(...n){try{return i(e,r),t.apply(this,n)}finally{a()}}},useTracedApiEnd:function(e){return function(...t){try{return e.apply(this,t)}finally{a()}}}}}var Xj=1/0;const Yj=Jj(Xj);var Qj="__DOMReady",Zj=nr("DomReady"),eW=Zj.internalOnMethod,tW=e=>{su.webviewEventCallback=e,Yr("PAGE_EVENT",(({data:t,eventName:r,nodeId:n},i=0)=>{var a="onPageScroll"!==r;a&&Yj.traceBeginEvent("Framework","onWebviewEvent",{eventName:r});try{r===Qj&&Zj.emit({data:t,eventName:r,webviewId:i,nodeId:n}),e({data:t,eventName:r,webviewId:i,nodeId:n})}finally{a&&Yj.traceEndEvent()}}))},rW=e=>{["onCanvasTouchStart","onCanvasTouchMove","onCanvasTouchEnd"].forEach((t=>{Ut(t,((r,n)=>{e({data:r,eventName:t,webviewId:n})}))}))},nW=1,iW={};Yr("pageScrollDone",(e=>{if(!(e.callbackId<0||void 0===iW[e.callbackId])){var t=iW[e.callbackId];delete iW[e.callbackId],delete e.callbackId;var r="pageScrollTo";e.errMsg=e.errMsg||"scrollWebviewTo:ok",e.errMsg=e.errMsg.replace("scrollWebviewTo",r);var n=0===e.errMsg.indexOf(`${r}:ok`),i=0===e.errMsg.indexOf(`${r}:fail`);n?"function"==typeof t.success&&t.success(e):i&&"function"==typeof t.fail&&t.success(e),"function"==typeof t.complete&&t.complete(e)}}));var aW=e=>{var t=yr.getCurrentPagesByDomain(""),r=t[t.length-1].__wxWebviewId__;Rd(e,"page")&&Rd(e.page,"__wxWebviewId__")&&(r=e.page.__wxWebviewId__);var n={};for(var i in e)"function"==typeof e[i]&&(n[i]=e[i],delete e[i]);e.callbackId=nW,iW[nW]=n,nW++,qr("pageScrollTo",e,[r])},oW=(e={})=>{fd("startPullDownRefresh",e,{})},sW=e=>{fd("stopPullDownRefresh",e)},lW=0,cW={},uW=(e={})=>{cW[lW]={success:e.success,fail:e.fail,complete:e.complete},qr("setPageStyle",{callbackId:lW,style:e.style},[su.currentWebviewId]),lW+=1};Yr("callbackSetPageStyle",(({res:e,callbackId:t})=>{var{errMsg:r}=e,n=0===r.indexOf("setPageStyle:ok"),i=0===r.indexOf("setPageStyle:fail"),a=cW[t];delete cW[t],"object"==typeof a&&(n?"function"==typeof a.success&&a.success(e):i&&"function"==typeof a.fail&&a.fail(e),"function"==typeof a.complete&&a.complete(e))}));var dW=e=>{qr("hideKeyboard",{},[su.currentWebviewId]),zc({name:"hideKeyboard",success:!0,args:e})},pW=null,hW="onKeyboardHeightChange",fW=nr(hW);Yr(hW,fW.emitInternal.bind(fW)),cr(hW,fW.emitInternal.bind(fW));var gW=e=>{pW&&vW(),pW=(t={})=>{E.surroundThirdByTryCatch(e,"at onKeyboardHeightChange callback function")(t)},fW.internalOnMethod(pW)},vW=()=>{pW&&(fW.internalOffMethod(pW),pW=null)};class mW{constructor(e={}){this.actions=[],this.currentTransform=[],this.currentStepAnimates=[],this.option={transition:{duration:void 0!==e.duration?e.duration:400,timingFunction:void 0!==e.timingFunction?e.timingFunction:"linear",delay:void 0!==e.delay?e.delay:0},transformOrigin:e.transformOrigin||"50% 50% 0"}}export(){var e=this.actions;return this.actions=[],{actions:e}}step(e={}){return this.currentStepAnimates.forEach((e=>{"style"!==e.type?this.currentTransform[e.type]=e:this.currentTransform[`${e.type}.${e.args[0]}`]=e})),this.actions.push({animates:Object.keys(this.currentTransform).reduce(((e,t)=>[...e,this.currentTransform[t]]),[]),option:{transformOrigin:void 0!==e.transformOrigin?e.transformOrigin:this.option.transformOrigin,transition:{duration:void 0!==e.duration?e.duration:this.option.transition.duration,timingFunction:void 0!==e.timingFunction?e.timingFunction:this.option.transition.timingFunction,delay:void 0!==e.delay?e.delay:this.option.transition.delay}}}),this.currentStepAnimates=[],this}matrix(e=1,t=0,r=0,n=1,i=1,a=1){return this.currentStepAnimates.push({type:"matrix",args:[e,t,r,n,i,a]}),this}matrix3d(e=1,t=0,r=0,n=0,i=0,a=1,o=0,s=0,l=0,c=0,u=1,d=0,p=0,h=0,f=0,g=1){return this.currentStepAnimates.push({type:"matrix3d",args:[e,t,r,n,i,a,o,s,l,c,u,d,p,h,f,g]}),this.stepping=!1,this}rotate(e=0){return this.currentStepAnimates.push({type:"rotate",args:[e]}),this}rotate3d(e=0,t=0,r=0,n=0){return this.currentStepAnimates.push({type:"rotate3d",args:[e,t,r,n]}),this.stepping=!1,this}rotateX(e=0){return this.currentStepAnimates.push({type:"rotateX",args:[e]}),this.stepping=!1,this}rotateY(e=0){return this.currentStepAnimates.push({type:"rotateY",args:[e]}),this.stepping=!1,this}rotateZ(e=0){return this.currentStepAnimates.push({type:"rotateZ",args:[e]}),this.stepping=!1,this}scale(e=1,t){return t=void 0!==t?t:e,this.currentStepAnimates.push({type:"scale",args:[e,t]}),this}scale3d(e=1,t=1,r=1){return this.currentStepAnimates.push({type:"scale3d",args:[e,t,r]}),this}scaleX(e=1){return this.currentStepAnimates.push({type:"scaleX",args:[e]}),this}scaleY(e=1){return this.currentStepAnimates.push({type:"scaleY",args:[e]}),this}scaleZ(e=1){return this.currentStepAnimates.push({type:"scaleZ",args:[e]}),this}skew(e=0,t=0){return this.currentStepAnimates.push({type:"skew",args:[e,t]}),this}skewX(e=0){return this.currentStepAnimates.push({type:"skewX",args:[e]}),this}skewY(e=0){return this.currentStepAnimates.push({type:"skewY",args:[e]}),this}translate(e=0,t=0){return this.currentStepAnimates.push({type:"translate",args:[e,t]}),this}translate3d(e=0,t=0,r=0){return this.currentStepAnimates.push({type:"translate3d",args:[e,t,r]}),this}translateX(e=0){return this.currentStepAnimates.push({type:"translateX",args:[e]}),this}translateY(e=0){return this.currentStepAnimates.push({type:"translateY",args:[e]}),this}translateZ(e=0){return this.currentStepAnimates.push({type:"translateZ",args:[e]}),this}opacity(e){return this.currentStepAnimates.push({type:"style",args:["opacity",e]}),this}backgroundColor(e){return this.currentStepAnimates.push({type:"style",args:["background-color",e]}),this}width(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["width",e]}),this}height(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["height",e]}),this}left(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["left",e]}),this}right(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["right",e]}),this}top(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["top",e]}),this}bottom(e){return"number"==typeof e&&(e=`${e}px`),this.currentStepAnimates.push({type:"style",args:["bottom",e]}),this}}var yW=(e={})=>{if(jc("createAnimation",e,{}))return new mW(e)},bW=16,_W=[],wW=null,SW=null,CW=!1,kW=[],IW=!1,PW="",TW=0,AW=0,xW=e=>{e.deviceOrientation&&(PW=e.deviceOrientation),TW=e.size.windowWidth,AW=e.size.windowHeight},EW=e=>{wW=e;var t=!1,r=!0;e.deviceOrientation!==PW&&(t=!0),e.size.windowWidth!==TW&&(t=!0),e.size.windowHeight!==AW&&(t=!0),xW(e),e.pageOrientation&&(e.pageOrientation.setPageOrientation&&(IW=!0),"auto"===e.pageOrientation.originalPageOrientation||IW||(t=!1,r=!1)),void 0!==yr&&yr.isFramesetMode()&&(r=!1),t&&(CW=!0);var n=e.changedWebviewIds;r&&n&&n.forEach((e=>{kW.indexOf(e)<0&&kW.push(e)})),SW||(SW=setTimeout((()=>{SW=null;var e=CW;CW=!1;var t=kW;kW=[];var r={deviceOrientation:wW.deviceOrientation,size:wW.size};e&&_W.forEach((e=>{E.surroundThirdByTryCatch(e,"at onWindowResize callback function")(r)})),t.forEach((e=>{var t=void 0!==yr?yr.getPageByWebviewId(e):null;t&&E.surroundThirdByTryCatch((()=>{t.__callPageLifeTime__("onResize",r)}),"at Resize callback function")()}))}),bW))};cr("onViewDidResize",(e=>{EW(e)}));var MW=e=>{_W.push(e)},RW=e=>{_W.splice(_W.indexOf(e),1)},DW,OW,LW;re.onReady((()=>{if(re.screenHeight&&re.screenWidth)OW=re.screenWidth,LW=re.screenHeight;else{var e=Wb();OW=e.screenWidth,LW=e.screenHeight,DW=e.deviceOrientation}}));var NW=e=>{DW=e.deviceOrientation,OW=e.size.windowWidth,LW=e.size.windowHeight};cr("onViewDidResize",NW),cr("onAppRouteResized",NW);var BW=()=>DW||(OW>LW?"landscape":"portrait"),$W=e=>{fd("setPageOrientation",e)},FW=e=>/^#[0-9a-fA-F]{6}$/.test(e),jW=(e={})=>{(e=Object.assign({},e)).backgroundColor&&!FW(e.backgroundColor)&&delete e.backgroundColor,e.backgroundColorTop&&!FW(e.backgroundColorTop)&&delete e.backgroundColorTop,e.backgroundColorBottom&&!FW(e.backgroundColorBottom)&&delete e.backgroundColorBottom,(e.backgroundColor||e.backgroundColorTop||e.backgroundColorBottom)&&fd("setBackgroundColor",e)},WW=(e={})=>{-1!==["dark","light"].indexOf(e.textStyle)?fd("setBackgroundTextStyle",e):Vc("setBackgroundTextStyle",e,`invalid textStyle "${e.textStyle}"`)},VW=()=>{};function UW(e={}){var t="enableAlertBeforeUnload",r=M.surroundThirdByTryCatch(e.success||VW,`at api ${t} success callback function`),n=M.surroundThirdByTryCatch(e.fail||VW,`at api ${t} fail callback function`),i=M.surroundThirdByTryCatch(e.complete||VW,`at api ${t} complete callback function`),a="string"==typeof e.message?e.message:void 0;fd("setNavigateBackConfirmDialog",{enable:!0,content:a,success:r,fail:n,complete:i},{beforeSuccess(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)},beforeFail(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)}})}function zW(e={}){var t="disableAlertBeforeUnload",r=M.surroundThirdByTryCatch(e.success||VW,`at api ${t} success callback function`),n=M.surroundThirdByTryCatch(e.fail||VW,`at api ${t} fail callback function`),i=M.surroundThirdByTryCatch(e.complete||VW,`at api ${t} complete callback function`);fd("setNavigateBackConfirmDialog",{enable:!1,success:r,fail:n,complete:i},{beforeSuccess(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)},beforeFail(e){e.errMsg=e.errMsg&&e.errMsg.replace("setNavigateBackConfirmDialog",t)}})}var qW=nr("menuButtonBoundingClientRectWeightChange");Ut("onMenuButtonBoundingClientRectWeightChange",((e={})=>{qW.emit(e)}));var HW=qW.onMethod,GW=qW.offMethod,KW=()=>{var e,t={};if(fd("getMenuButtonBoundingClientRect",{success(e){Object.assign(t,e),delete t.errMsg},fail(t){e=t.errMsg}}),e)throw new Ad(e);return t},JW=r_(KW),XW=(e={})=>{iS("getSelectedTextRange",{},[su.currentWebviewId],(t=>{0===t.errMsg.indexOf("getSelectedTextRange:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))},YW=nr("navigateBackIntercept"),QW={SlideBack:1,BottomBackButton:2,NavigationBarBack:3,NavigateBackCall:4},ZW=[QW.SlideBack,QW.BottomBackButton,QW.NavigationBarBack,QW.NavigateBackCall],eV=[],tV=0,rV;Ut("onNavigateBackIntercept",((e={})=>{var{id:t}=rV||{};YW.emit({...e,id:t}),qr("onNavigateBackIntercept",{...e,id:t},[su.currentWebviewId])}));var nV=Object.create(null);Jw((e=>{var t=e.webviewId;nV[t]||(SE(t,(()=>{if(delete nV[t],eV.length)for(var e,r=0;r<eV.length;)(e=eV[r]).options.webviewId&&e.options.webviewId===t?eV.splice(r,1):r+=1}),"setNavigateBackInterception"),nV[t]=!0),eV.length&&iV()}));var iV=function(){var e=Vp()((function*(){var e;rV=void 0;for(var t=eV.length-1;t>=0;--t)if(void 0===(e=eV[t]).options.webviewId||e.options.webviewId===su.currentWebviewId){rV=e;break}var r=rV?rV.options.scopes:[],n=new Set(r||[]);return gd("setNavigateBackInterception",{scopes:ZW.map((e=>({type:e,interception:n.has(e)})))})}));return function(){return e.apply(this,arguments)}}(),aV=function(){var e=Vp()((function*(e={}){var t;e={...e,scopes:null!==(t=e.scopes)&&void 0!==t?t:ZW};var r=++tV;return eV.push({id:r,options:e}),yield iV(),{id:r}}));return function(){return e.apply(this,arguments)}}(),oV=Yc("setNavigateBackInterceptionById",aV),sV=function(){var e=Vp()((function*({id:e}={}){var t=eV.findIndex((t=>t.id===e));t<0||(eV.splice(t,1),yield iV())}));return function(){return e.apply(this,arguments)}}(),lV=Yc("stopNavigateBackInterceptionById",sV),cV=YW.internalOnMethod,uV=YW.internalOffMethod,dV=function(){var e=Vp()((function*(e,t=ZW){var{id:r}=yield aV({scopes:t}),n=t=>{t.id===r&&e(t)};return cV(n),{id:r,handler:n}}));return function(t){return e.apply(this,arguments)}}(),pV=function(){var e=Vp()((function*(e){var{id:t,handler:r}=(yield e)||{};yield sV({id:t}),uV(r)}));return function(t){return e.apply(this,arguments)}}(),hV=10,fV=e=>{fd("updatePerfData",e)},gV=e=>{fd("traceEvent",e)},vV,mV=nr("memoryWarning"),yV=(e,t=!1)=>{t?vV=e:mV.onMethod(e)},bV=(e,t=!1)=>{t?vV=null:mV.offMethod(e)},_V=e=>{mV.internalOnMethod(e)},wV=e=>{mV.internalOffMethod(e)};Ut("onMemoryWarningReceive",((e={})=>{ke&&e.level<hV||(mV.getGlobalListeners().length?mV.emitGlobal(e):"function"==typeof vV&&vV(e),mV.emitInternal(e))}));var SV=200,CV=[],kV=[],IV=~~(Date.now()/1e3),PV=0;function TV(e,t,r,n){var i;null!==(i=re.userConfig)&&void 0!==i&&i.isWechatUser||fd("operateRealtimeData",{type:t,content:r,priority:"string"==typeof n?n:n?"high":"low",id:e},{beforeSuccess(){},beforeFail(e){kV.forEach((t=>t(e)))}})}function AV(){var e=CV.shift();"function"==typeof e&&(e(),PV=+new Date),CV.length&&setTimeout(AV,SV)}m.onLoad((()=>{IV=~~(Date.now()/1e3)}));var xV=(e,t,r)=>{if(1005===e||!Ce){var n=+new Date,i=IV++;return n-PV>=SV&&!CV.length?(TV(i,e,t,r),PV=n):(CV.push((()=>{TV(i,e,t,r)})),setTimeout(AV,SV)),i}},EV=e=>{Ce||"function"==typeof e&&kV.push(Bt(e))};Ut("onRealtimeDataResponse",(e=>{kV.forEach((t=>t(e)))}));var MV=nr("UpdateWXConfig"),RV=MV.onMethod,DV=MV.offMethod;Ut("onUpdateWXConfig",(e=>{_.info("onUpdateWXConfig",e),Object.keys(e).forEach((t=>{re[t]=e[t]})),MV.emit(e)}));var OV=function(){return{miniProgram:{appId:re.accountInfo&&re.accountInfo.appId||"",envVersion:re.envVersion||"release",version:re.appContactInfo&&re.appContactInfo.user_version||""}}},LV,NV,BV=!1,$V={},FV=JSON.parse,jV=nr("onReportEvent"),WV=jV.internalOnMethod,VV=jV.internalOffMethod;function UV(e,t){try{jV.emit({reportId:e,data:t})}catch(e){}}function zV(){if("string"==typeof re.opConfig){var e;try{e=FV(re.opConfig)}catch(e){}return e&&e.expt_info}return re.opConfig&&re.opConfig.expt_info}function qV(){var e,t=zV();return t&&BV?(e=1,LV=t,M.reportIDKey({key:"useLaunchExptInfo"})):t?(e=2,LV=t,M.reportIDKey({key:"useLaunchExptInfo"}),M.reportIDKey({key:"useOriginLaunchExptInfo"})):(e=0,M.reportIDKey({key:"useContactExptInfo"})),{exptInfo:LV,jsDataType:e}}function HV(){if(void 0===yr)return"";var e=yr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function GV(e,t,r){M.reportKeyValue({key:"ExptHit",value:[Mu(),Ru(),e,encodeURIComponent(JSON.stringify(t)),0,"",r].join(",")})}cr("onAppEnterForeground",(e=>{Object.assign($V,e),NV=$V.sessionid||$V.sessionId})),RV((e=>{zV(e)&&(BV=!0)})),re.onReady((()=>{Object.assign($V,re.appLaunchInfo);var e=zV();e?LV=e:re.appContactInfo&&re.appContactInfo.passThroughInfo&&(LV=re.appContactInfo.passThroughInfo.expt_info)}));var KV=lx("getExptInfo","webapi_wxaexpt_hit",(({keyList:e})=>({param_name_list:e})),(e=>(e.list={},Array.isArray(e.hit_list)&&e.hit_list.forEach((t=>{e.list[t.param_name]=t.param_value})),delete e.base_resp,delete e.hit_list,e)));function JV(e){var t={},{exptInfo:r,jsDataType:n}=qV();return r&&Array.isArray(r.expt_param_list)&&(Array.isArray(e)||(e=r.expt_param_list.map((e=>e.param_name))),r.expt_param_list.forEach((r=>{-1!==e.indexOf(r.param_name)&&(t[r.param_name]=r.param_value,r.expt_id&&GV(r.expt_group_id,r,n))}))),t}function XV(){var e=fw(!0),{accountInfo:t,envVersion:r,clientVersion:n}=re||{},i=($V.sessionid||$V.sessionId,$V.usedstate||$V.usedState),a=1;return"release"===r?a=3:"trial"===r&&(a=2),{openId:$V.openId,enterScene:$V.scene||0,languageVersion:e.language,clientVersion:n,addState:i,envVersion:a,appversion:OV().miniProgram.version,devicemodel:e.model,devicebrand:e.brand,osName:e.platform,osVersion:e.system}}function YV(e,t,r="immediate"){var n=2,{accountInfo:i,envVersion:a}=re||{},o=i?i.appId:"";"release"===a?n=1:"trial"===a&&(n=3);var s=fw(!0),l=$V.sessionid||$V.sessionId,c=$V.usedstate||$V.usedState;UV(e,t),xV(1005,JSON.stringify({appid:o,app_state:n,appversion:OV().miniProgram.version,enter_scene:$V.scene,scene_note:$V.scene_note||$V.sceneNote,prescene:$V.prescene,prescene_note:$V.prescene_note||$V.presceneNote,sessionid:l,add_state:c,page_path:HV()||$V.path,page_query:JSON.stringify($V.query||{}),referpagepath:$V.referpagepath,isentrance:NV||NV===l?0:1,event_time:Date.now(),sdk_version:Ob,devicemodel:s.model,devicebrand:s.brand,os_name:s.platform,os_version:s.system,language_version:s.language,networktype:ag(),event_name:e,event_value:JSON.stringify(t),unique_id:String(Date.now()+Math.random()),screen_width:re.screenWidth,screen_height:re.screenHeight,open_source:re.host&&re.host.appId?2:1,host_appid:re.host?re.host.appId:""}),r)}function QV(e,t={}){setTimeout((()=>YV(e,t))),M.reportIDKey({key:"reportEventInvoke"})}function ZV(e,t={}){setTimeout((()=>YV(e,t,"high"))),M.reportIDKey({key:"reportEventInvoke"})}function eU(e,t,r=100){var n=Object.getPrototypeOf(Uint8Array),i="wxobs_type_",a=i+"Map",o=i+"Array",s=i+"Set",l=i+"Single_Exceeded",c=i+"Exceeded",u=[],d=new WeakMap,p=0,h=!1,f=e=>t?(e.length>t&&(e=e.slice(0,t)+"..."),e):e;return function(g,v){var m=0,y=void 0;if(0===u.length)u.push({fullKey:"@",key:g,depth:0,visited:!0}),y=u[0];else{for(;u[u.length-1].visited;)for(var b=u[u.length-1].depth;u.length>0&&u[u.length-1].depth===b;)u.pop();var _;if(m=u[u.length-1].depth,y=u.find((e=>e.depth===m&&e.key===g)))y.visited=!0,p+=(null===(_=y.key)||void 0===_?void 0:_.length)+4}if("object"==typeof v&&null!==v){var w,S;if(d.has(v)&&null!==(w=y)&&void 0!==w&&w.fullKey.startsWith(d.get(v)))return p+=`<Circular ${d.get(v)}>`.length,`<Circular ${d.get(v)}>`;d.set(v,null===(S=y)||void 0===S?void 0:S.fullKey)}if(e&&p>e)return h?void 0:(h=!0,c);var C=Object.prototype.toString.call(v);if("[object Set]"===C){var k=[...v];k.length>r&&(k.length=r,k.push("")),Object.keys([...k,""]).forEach((e=>{var t;u.push({fullKey:(null===(t=y)||void 0===t?void 0:t.fullKey)+"."+e,key:e,depth:m+1,visited:!1})}))}else if("[object Map]"===C){var I=[...v];I.length>r&&(I.length=r,I.push([l,!0]));var P=Object.fromEntries(I);P[a]=!0,Object.keys(P).forEach((e=>{var t;u.push({fullKey:(null===(t=y)||void 0===t?void 0:t.fullKey)+"."+e,key:e,depth:m+1,visited:!1})}))}else if("object"==typeof v&&null!==v&&!(v instanceof n||v instanceof ArrayBuffer||v instanceof DataView)){var T=Object.entries(v);T.length>r&&(T.length=r,T.push([l,!0]));var A=Object.fromEntries(T);"[object Array]"===Object.prototype.toString.call(v)&&(A[o]=!0),Object.keys(A).forEach((e=>{var t;u.push({fullKey:(null===(t=y)||void 0===t?void 0:t.fullKey)+"."+e,key:e,depth:m+1,visited:!1})}))}if("[object Null]"===C)return p+=4,i+"Null";if("[object Undefined]"===C)return p+=9,i+"Undefined";if("[object Function]"===C)return p+=("Function_"+(v.name||"anonymous")).length,i+"Function_"+(v.name||"anonymous");if("[object RegExp]"===C)return p+=`RegExp(${v.toString()})`.length,`RegExp(${v.toString()})`;if("[object Error]"===C){var x=f(i+"Error_"+v.message);return p+=x.length,x}if("[object Symbol]"===C){var E=f(v.toString());return p+=E.length,E}if("[object BigInt]"===C){var M=i+"Bigint_"+v.toString();return t&&M.length>10+t&&(M="BigInt length exceeded!"),p+=M.length,M}if("[object Promise]"===C)return p+=9,"<Promise>";if("[object Map]"===C){var R=[...v];R.length>r&&(R.length=r,R.push([l,!0]));var D=Object.fromEntries(R);return D[a]=!0,D}if("[object Set]"===C){var O=[...v];return O.length>r&&(O.length=r,O.push(l)),[...O,s]}if("[object WeakMap]"===C)return p+=9,"<WeakMap>";if("[object WeakSet]"===C)return p+=9,"<WeakSet>";if("[object Number]"===C)return isNaN(v)?(p+=3,i+"NaN"):v===1/0?(p+=8,i+"Infinity"):v===-1/0?(p+=9,i+"NegativeInfinity"):(p+=String(v).length,v);if("[object Object]"===C){var L=Object.entries(v);return L.length>r&&(L.length=r,L.push([l,!0])),Object.fromEntries(L)}if("[object Array]"===C){var N=Object.entries(v);return N.length>r&&(N.length=r,N.push([l,!0])),N.push([o,!0]),Object.fromEntries(N)}var B=f(String(v));return p+=B.length+2,B}}var tU={debug:_R.RTLogDebug,info:_R.RTLogInfo,warn:_R.RTLogWarn,error:_R.RTLogError},rU=({pluginId:e,level:t,args:r})=>{if(!e&&N2.recording&&t){var n=r6(),i=tU[t];if(i){var a="";try{var o;a=JSON.stringify(r,eU(void 0,void 0,null!==(o=N2.recorderConfigs.consoleConfig.maxKeyCount)&&void 0!==o?o:100))}catch(e){return void LN(UR.RealtimeLogSerializeError)}NN(UR.UploadRealtimeLogSize,a.length),BN(UR.UploadRealtimeLogTimeCost,r6()-n),B2({type:i,timestamp:r6(),data:{content:a}})}}},nU=(e={})=>{var t=e.success,r=e.complete,n={data:""+(Ce?0:"number"==typeof re.appLaunchInfo.appversion?re.appLaunchInfo.appversion:"number"==typeof re.accountInfo.appVersion?re.accountInfo.appVersion:0),errMsg:"getAppContact:ok"};t&&t(n),r&&r(n)},iU=()=>{var e;return nU({success:({data:t})=>e=t}),e},aU=()=>{var e,t=!1;return Ie||ke?{appDebug:"develop"===re.envVersion||"trial"===re.envVersion,appMd5:"",appVersion:iU(),libDebug:t,libMd5:"",libVersion:aA().version,clientVersion:re.clientVersion,system:{ios:"ios",android:"android"}[Se]||"",systemVersion:null===(e=(re.system||"").split(" "))||void 0===e?void 0:e[1],x5Version:0}:{}},oU=(e={})=>{jc("setEnableDebug",e,{enableDebug:!0})&&(fd("setEnableDebug",e,{}),e.enableDebug&&console.warn("已通过 wx.setEnableDebug 打开调试"))},sU=(e={})=>{fd("openDeliveryList",e,{})};function lU(e){var t,r,n=Nd(e),i=null==re||null===(t=re.appContactInfo)||void 0===t||null===(r=t.stablePassThroughInfo)||void 0===r?void 0:r.wxa_open_url_domain_list;return!!(i&&n&&n.host&&i.includes(n.host)||Ge())}var cU=e=>(t={})=>{if(!0!==su.openUrlLock){var r=`${t.url}`,n=Object.assign({},t,{url:r});if(n.url=n.url||"",!Ud(n.url)){console.error("invalid url",n.url);var i={errMsg:`${e}: invalid url "${n.url}"`};return"function"==typeof n.fail&&n.fail(i),void("function"==typeof n.complete&&n.complete(i))}"openUrl"!==e||lU(r)?("openUrl"===e&&void 0!==L&&L.traceEvent("onH5Open",!1,{id:r},r,null,null),su.openUrlLock=!0,fd(e,n,{afterAll(){su.openUrlLock=!1}})):zc({name:e,args:n,errMsg:r+" is not in allowed domains",success:!1})}},uU=cU("openUrl"),dU=cU("private_openUrl"),pU=!1,hU=[],fU=(e={})=>{if(!e.webviewId||!e.data){console.error("invalid arguments");var t={errMsg:"sendDataToH5: arguments data or webviewId cannot be null"};return"function"==typeof e.fail&&e.fail(t),void("function"==typeof e.complete&&e.complete(t))}"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),pU?hU.push(e):(pU=!0,fd("sendDataToH5",e,{afterAll(){if(pU=!1,hU.length){var e=hU.shift();fU(e)}}}))},gU=!1,vU=[];function mU(e){for(var t=0;t<vU.length;t++)vU[t](e)}var yU=e=>{if("function"==typeof e){vU.push(((t={})=>{t.webviewId&&t.data?("string"==typeof t.data&&(t.data=JSON.parse(t.data)),e(t)):console.error("invalid arguments in onH5Data callback")})),gU||(Ut("onH5Data",mU),gU=!0)}},bU=(e,t,r=!1)=>(n={})=>{t||(t=e),Vh(e)||r?!0!==su.openUrlExtBrowserLock&&(n.url=n.url||"",su.openUrlExtBrowserLock=!0,fd(t,n,{afterAll(){su.openUrlExtBrowserLock=!1}})):Vc(e,n,"no permission")},_U=bU("openUrlByExtBrowser"),wU=bU("openUrlByExtBrowser2","openUrlByExtBrowser"),SU=bU("openUrlByExtBrowser3","openUrlByExtBrowser",!0),CU=function(e){"string"!=typeof e&&(e+="");var t,r,n=0;for(t=0;t<e.length;t++)(r=e.charCodeAt(t))<127?n+=1:r>=128&&r<=2047?n+=2:r>=2048&&r<=65535&&(n+=3);return n},kU=function(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`},IU={lastLogNum:1,lastLogSize:0},PU="undefined"!=typeof __initHelper&&1===__initHelper,TU=(Ce?"http://usr":"wxfile://usr")+"/miniprogramLog/",AU=e=>`${TU}log${e}`,xU={},EU=Kd(fU),MU=function(){try{return{data:Py.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message||""}}};function RU(e={}){if(!e.index||e.index>IU.lastLogNum)e.complete&&e.complete();else{var t=Ie?1:5,r=e.readFileResp||MU(AU(e.index),"utf8");if(r.data&&r.errMsg.indexOf("readFileSync:ok")>=0){var n=r.data.length,i=Math.max(parseInt(n/t,10),1),a=(e.slice-1)*i,o=r.data.substr(a,i);if(!o)return EU({webviewId:e.webviewId,data:{total:IU.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:OU()}}),e.index++,e.slice=1,e.readFileResp=null,void RU(e);EU({webviewId:e.webviewId,data:{type:"uploadUserLogContent",content:o,index:e.index,slice:e.slice||1,total:IU.lastLogNum,info:1===e.index&&1===e.slice?OU():null},success(){e.slice===t?(EU({webviewId:e.webviewId,data:{total:IU.lastLogNum,type:"uploadUserLogSliceComplete",index:e.index,info:OU()}}),e.index++,e.slice=1,e.readFileResp=null,RU(e)):(e.slice++,e.readFileResp=r,RU(e))},fail(t){e.retry?EU({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:t&&t.errMsg,index:e.index,info:OU()}}):(e.retry=!0,RU(e))}})}else EU({webviewId:e.webviewId,data:{type:"uploadUserLogError",errMsg:r.errMsg,index:e.index,info:OU()}})}}function DU(e){Object.assign(xU,e)}function OU(){return{...xU,...Wb()}}PU||yU((e=>{e.data&&"uploadUserLog"===e.data.type&&RU({index:1,slice:1,webviewId:e.webviewId})}));var LU="undefined"!=typeof __initHelper&&1===__initHelper,NU=(Ce?"http://usr":"wxfile://usr")+"/miniprogramLog/",BU=1048576,$U=4,FU=102400,jU=3e3,WU=1,VU=[],UU=!1,zU=!1,qU={},HU=e=>`${NU}log${e}`,GU,KU=()=>(GU||(GU=new Promise((e=>{Ly({path:NU,success:()=>{var t=1,r=()=>{t<=$U+1?Ly({path:HU(t),success:()=>{qU[t]=!0,IU.lastLogNum=t,t++,r()},fail:()=>{n()}}):n()},n=()=>{Mg({path:HU(IU.lastLogNum),success:t=>{var r=t.stats;IU.lastLogSize=r.size,UU=!0,e()},fail:()=>{UU=!0,e()}})};r()},fail:()=>{xy({dirPath:NU,success:()=>{UU=!0,e()},fail:()=>{e()}})}})}))),GU),JU=()=>{LU||KU().then((()=>{if(UU&&VU.length&&!zU){for(var e=[],t=0,r=0;r<VU.length;r++){var n=CU(VU[r]);if(n>FU)console.warn("[wx.log warn] each log size exceed 100KB will be discard.");else{if(t+n>FU)break;t+=n,e.push(VU[r])}}if(e.length){if(IU.lastLogSize+t>BU){if(IU.lastLogNum+1>=$U+2)return zU=!0,void XU();IU.lastLogNum++,IU.lastLogSize=0}r===VU.length?VU=[]:VU.splice(0,r),qU[IU.lastLogNum]?zy({filePath:HU(IU.lastLogNum),data:(IU.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8"}):Ly({path:HU(IU.lastLogNum),success:()=>{zy({filePath:HU(IU.lastLogNum),data:(IU.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8"})},fail:()=>{Ty({filePath:HU(IU.lastLogNum),data:(IU.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail(e){console.log("log writeFile err "+e.errMsg)}})}}),IU.lastLogSize+=t}}}))};function XU(){setTimeout((()=>{By({filePath:HU(1),complete:()=>{var e=2,t=()=>{e<=$U+1?(Vy({oldPath:HU(e),newPath:HU(e-1)}),e++,t()):r()},r=()=>{IU.lastLogNum=$U+1,qU[IU.lastLogNum]=!1,IU.lastLogSize=0,zU=!1};t()}})}),50)}var YU={logApiInvoke:!0};function QU(e){var t={};return["info","debug","log","warn"].forEach((r=>{t[r]=function t(){YU.modules&&YU.modules.includes(e)&&YU[r].apply(t,arguments)}})),t}["info","debug","log","warn"].forEach((e=>{YU[e]=function(){if(!LU&&arguments.length){for(var t=[],r=0;r<arguments.length;r++)"number"==typeof arguments[r]||"string"==typeof arguments[r]?t.push(arguments[r]):t.push(JSON.stringify(arguments[r]));t.splice(0,0,kU(new Date),`[${e}]`),VU.push(t.join(" "))}}}));var ZU=!1;function ez(e={}){return ZU||(setInterval((()=>{JU()}),jU),ZU=!0),"number"==typeof e.level&&(YU.level=e.level),Array.isArray(e.modules)&&(YU.modules=e.modules),YU.level===WU?YU.logApiInvoke=!1:0===YU.level&&(YU.logApiInvoke=!0),YU}YU._getUserLog=function(){var e=function(){try{return{stat:Rg.apply(this,arguments),errMsg:"statSync:ok"}}catch(e){return{errMsg:e.message||""}}};Bb("getLogManager._getUserLog");for(var t={},r=1;r<=$U+1;r++)t["log"+r]=e(HU(r));return t},YU.privateSystemLog=(...e)=>{Ge()&&void 0!==M&&e&&e.length&&_.info(e)},Id((()=>{JU()}));var tz="GetUploadSetting",rz,nz={};function iz(e){return e?(nz[e]||(nz[e]=rx({sdkApiName:tz,apiName:"GetUploadSetting",reqData:{},pluginId:e})),nz[e]):rz||(rz=rx({sdkApiName:tz,apiName:"GetUploadSetting",reqData:{}}))}function az(){var e=null;return{next:()=>(null===e&&(e=Date.now()),e++)}}var oz={offset:0,now:function(){if(0===this.offset)throw Error("offset not ready");return Date.now()-this.offset}},sz=0;function lz(){var e=0;return{get(){if(e>0)return e;if(0===sz)throw Error("initTime not ready");return e=sz},since(){return Date.now()-this.get()},set(t){e=t},reset(){e=Date.now()}}}void 0!==m?m.onLoad((()=>{oz.offset=Date.now(),sz=Date.now()})):(oz.offset=Date.now(),sz=Date.now());var cz=az(),uz=function(){return cz.next()},dz=nr("onRealtimeLog"),pz=dz.internalOnMethod,hz=dz.internalOffMethod;function fz(e,t,r,...n){try{dz.emit({pluginId:e,mode:t,level:r,args:n})}catch(e){}}var gz=function(){try{return Ey.apply(this,arguments)}catch(e){return{errMsg:e.message}}},vz=function(){try{return{data:Py.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message}}},mz=Kd((e=>yz(e).errMsg.indexOf("accessSync:ok")>=0)),yz=function(){try{return Ny.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return{errMsg:e.message||""}}},bz=function(e){return rx(e)},_z=1e3,wz={DEBUG:1,INFO:2,WARN:4,ERROR:8},Sz={ANDROID:1,IOS:2},Cz={WEAPP:1},kz="",Iz=!1;function Pz(e){Iz?e&&e():(Iz=!0,re.onReady((()=>{kz=re.accountInfo.appId,e&&e()})))}function Tz(){if(void 0!==yr){var e=yr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}if(We())return"index"}var Az=3e5,xz;function Ez(e){if(Mz(),e="number"!=typeof e?Az:e,(e=Math.max(e,5e3))>0){var t=()=>{Mz(),xz=setTimeout((()=>{qz(),t()}),e)};t()}}function Mz(){xz&&(xz=clearTimeout(xz))}var Rz=!1,Dz=6e4,Oz=2048;class Lz{constructor(e={}){this.systemInfo=pw(),this.opt={},this.opt.level=wz.INFO,this.mode=e.mode||"normal",this.pluginId=e.pluginId,this.pluginVersion=e.pluginVersion,this.timerId=null,this.isExceedTodayUploadLogCount=!1,this.opt.isClientReport=!!e.isClientReport,this.msgList={},this.filterList={},this.kvFilterList={},this.sizeList={},this.levelList={},this._uploadList=[],this._logInfo={},this._logInfo.level=0,this._logInfo.version=2,this._logInfo.source=Cz.WEAPP,this._logInfo.platform="ios"===this.systemInfo.platform?Sz.IOS:Sz.ANDROID,this._logInfo.libraryVersion=this.systemInfo.SDKVersion,this._logInfo.clientVersion=this.systemInfo.version,this._logInfo.appState="develop"===re.envVersion?2:"trial"===re.envVersion?3:1,this.exceedSizeList={},this.structSizeList={},this.historyLog={},this.retryLogList={},this.MaxSize=10240,this.MaxLogCount=500,this._logCacheBeforeLogConfig=[],setTimeout((()=>{Ce||this._getLogConfig()}),300),Pz((()=>{We()&&this.cyclelyUploadInGame()})),this.uploadCount=0,this.failCount=0,this.opt.isClientReport&&(this.MaxSize=5120,this.MaxLogCount=200,EV((e=>{this.onRealtimeDataResponse(e)})))}cyclelyUploadInGame(){setTimeout((()=>{qz(),this.cyclelyUploadInGame()}),6e5)}onRealtimeDataResponse(e){if(this.uploadCount++,0!==e.errcode){var t=ag();if("wifi"!==t&&"4g"!==t&&"5g"!==t||(this.failCount++,this.uploadCount>=5&&this.failCount/this.uploadCount>=.6&&(Rz=!0,this.failCount=0,this.uploadCount=0,setTimeout((()=>{Rz=!1}),Dz))),e.idList&&e.idList.length){var r=!1,n={},i=!1,a={};e.idList.forEach((o=>{var s=this.historyLog[o];s&&(s.id,s.url,M.reportKeyValue({key:"UserLogFail",value:`,${t},${e.errcode},${parseInt(Date.now()/1e3,10)},${s.url},${s.libraryVersion},${kz}`}),r=!0,delete this.historyLog[o],n[o]=s);var l=this.retryLogList[o];l&&(l.id,l.url,a[o]=l,delete this.retryLogList[o],i=!0)})),r&&(this.retryLogList=n,this.failRetry(n)),i&&this.saveToFile(a)}}}_getLogConfig(e,t){return iz(this.pluginId).then((r=>{if(r.data){try{var n=r.data;this.MaxSize=1024*n.MaxLogSize,n.MaxLogCount&&(this.MaxLogCount=n.MaxLogCount),this._logInfo.id=n.UserUin,n.OpenId&&(this.traceid=`${n.OpenId}_${parseInt(Date.now()/1e3,10)}`),n.Debug&&n.Debug.MaxSize&&n.Debug.ExpireTime>Date.now()/1e3&&(this.isDebugMode=!0,this.MaxSize=1024*n.Debug.MaxSize,this.opt.level=wz.DEBUG,n.Debug.MaxLogCount&&(this.MaxLogCount=n.Debug.MaxLogCount));var i=this._logCacheBeforeLogConfig||[];this._logCacheBeforeLogConfig=[],i.forEach((e=>{this._baseLog(e.key,e.path,...e.args)})),this._getConfigFail=!1,e&&this.upload(t),We()||Ez(n.ReportInterval)}catch(e){this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]}setTimeout((()=>{this.tryUploadFailLog()}),100)}else this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]})).catch((e=>{e.errMsg&&e.errMsg.indexOf("fail invalid scope")>=0&&(this._hasNoPermission=!0,this._logCacheBeforeLogConfig=[]),this._getConfigFail=!0}))}_config(e={}){e.mode&&(this.mode=e.mode)}_checkSize(e,t){var r=0;if(!t||!t.length)return!0;if(!(e=this.pluginId||e||Tz()))return!0;t.forEach((e=>{r+=cg(e)})),this.sizeList[e]=this.sizeList[e]||0;var n=this.sizeList[e];return n+r>this.MaxSize?r:(this.sizeList[e]=n+r,!0)}_getLogValue(e){var t,r=typeof e,n="";if("function"===r&&(t="function(){}"),"undefined"===r)t="<Undefined>";else if("object"===r){n=(n=Object.prototype.toString.call(e)).replace(/^\[object |\]$/g,"");try{t="Error"===n?e.stack:JSON.stringify(e)}catch(e){n="Error",t=e.message}}else e+="";return t||e}_baseLog(e,t,...r){if(r.length&&!this._hasNoPermission)if(this._logInfo.id){var n,i,a,o;"object"==typeof e?(n=e.id,i=e.name,a=e.level,o=e.time):(n="__DEFAULT__",i="__DEFAULT__",a=e,o=+new Date);var s=wz[a.toUpperCase()]||0;if(!(s<this.opt.level)){var l,c;if(t=this.pluginId||t||Tz(),this.structSizeList[t]=this.structSizeList[t]||0,"kv"===this.mode){var[u,d]=r;if(!u||"string"!=typeof u)return;var p=this._getLogValue(d);c=this._checkSize(t,[u,p]),l=[n,o,i,u,p],fz(this.pluginId,this.mode,a.toLowerCase(),d)}else l=r.map(this._getLogValue),c=this._checkSize(t,l),this.structSizeList[t]+=6+(l.length?3*l.length-1:0),fz(this.pluginId,this.mode,a.toLowerCase(),...r);if(!0===c)this._addLogMsg(l,t,s);else{if(this.exceedSizeList[t]=this.exceedSizeList[t]||0,!this.exceedSizeList[t]){var h=[`UserLog:fail Log Size ${c} Exceed.`];"kv"===this.mode&&h.unshift("warning"),this._addLogMsg(h,t,wz.WARN)}this.exceedSizeList[t]+=c}}}else this._logCacheBeforeLogConfig.push({key:e,path:t,args:r})}_addLogMsg(e,t,r){if(!this.isExceedTodayUploadLogCount&&r&&(!this._getConfigFail||!this._getConfigRetry)){var n=this.pluginId||t||Tz();if(n)if(this.msgList[n]=this.msgList[n]||[],this.msgList[n].length>=this.MaxLogCount)this.MaxLogCount;else{var i=this.msgList[n][0];if("kv"===this.mode){var[a,o,s,l,c]=e,u=[r,a,o,s,l,c];this.msgList[n].push(u)}else{var d=new Date,p=Math.ceil(+d/1e3),h=[i?p-i[0]:p,e,r,d.getMilliseconds()];if(!this.msgList[n].length){var f=(new Date).getTimezoneOffset();h.push(f)}this.msgList[n].push(h)}this.levelList[n]=this.levelList[n]||0,this.levelList[n]|=r}}}OperateWxUploadLog(e,t){if(!this.isExceedTodayUploadLogCount){var r=e.structSize||0;delete e.structSize;var n=e.rawSize||0;if(delete e.rawSize,this.opt.isClientReport){var i=this.pluginId?1004:1001;e.url;var a=xV(i,JSON.stringify({interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0,pluginId:this.pluginId||"",pluginVersion:this.pluginVersion||"",appId:kz}));return this.historyLog[a]=e,M.reportKeyValue({key:"UserLog",value:`,${r+n},${n}${e.timestamp},${e.url},${e.filter1},${kz}`}),void(t&&t(!0))}return bz({sdkApiName:"UploadByApi",apiName:"UploadByApi",pluginId:this.pluginId,reqData:{interface:this.pluginId?"plugin_log":"weapplog",data:JSON.stringify(e),debug:this.isDebugMode?1:0}}).then((()=>{t&&t(!0)})).catch((e=>{e&&1e4==+e.err_code&&(this.isExceedTodayUploadLogCount=!0),t&&t(!1),this.failCount++}))}}failRetry(e){this.uploadFailRetryTimerId||(this.uploadFailRetryTimerId=setTimeout((()=>{if(e)for(var t in e)this.historyLog.hasOwnProperty(t)&&this.OperateWxUploadLog(this.historyLog[t])}),3e3))}stat(e){return(e=this.pluginId||e||Tz())&&this.sizeList[e]||0}getCurrentState(e){return{size:(e=this.pluginId||e||Tz())&&this.sizeList[e]||0,maxSize:this.MaxSize,logCount:e&&this.msgList[e]&&this.msgList[e].length||0,maxLogCount:this.MaxLogCount}}_hasUploadInterval(){return!!this.opt.isClientReport||!(this._isUploading||Date.now()-this._lastUploadTime<_z)}upload(e){var t=e||Tz();if(e=this.pluginId||t){var r=this.msgList[e]||[];if(r&&r.length)if(this._hasUploadInterval()){if(this._getConfigFail||!this._logInfo.id){if(this._getConfigRetry)return;return this._getConfigRetry=!0,void this._getLogConfig(!0,t)}if(Iz){if(!Rz){this.msgList[e]=[];var n=this.levelList[e]||wz.DEBUG;this.levelList[e]=0;var i=this.sizeList[e];this.sizeList[e]=0;var a=this.exceedSizeList[e];this.exceedSizeList[e]=0;var o=this._logInfo;o.level=n,o.rawSize=a+i;var s=this.structSizeList[e]||0;if(o.structSize=s,this.structSizeList[e]=0,this._logInfo.timestamp=Math.ceil(Date.now()/1e3),this._logInfo=Object.assign({},this._logInfo),"kv"===this.mode){var l={},c={};r.forEach((e=>{var[t,r,n,i,a,o]=e,s=t||wz.DEBUG;c[r]=c[r]||[n,{},s],c[r][1][a]=o,c[r][2]=Math.max(c[r][2],s),l[i]=l[i]||[],-1===l[i].indexOf(c[r])&&l[i].push(c[r])}));var u=this.kvFilterList,d=[];u&&u[e]&&Object.keys(u[e]).forEach((t=>{var r=u[e][t];r&&r.length&&r.forEach((e=>{var[r,n=""]=e;if(c[r]){var i=c[r][1];i.__REALTIME_LOG_TAG__=i.__REALTIME_LOG_TAG__||[],-1===i.__REALTIME_LOG_TAG__.indexOf(n)&&i.__REALTIME_LOG_TAG__.push(n),-1===d.indexOf(n)&&(d.push(n),d.push(`${t}_${n}`))}}))})),o.msg=JSON.stringify(l),o.filter1=[].concat(Object.keys(l),d).join(" "),this.kvFilterList[e]=[]}else o.msg=JSON.stringify(r),o.filter1=this.filterList[e]||"",this.filterList[e]="";cg(o.msg),o.appid=kz,this.pluginId&&(o.pluginid=this.pluginId),this.pluginVersion&&(o.pluginVersion=this.pluginVersion),"kv"===this.mode&&(o.mode=this.mode),o.url=t,this.traceid&&(o.traceid=this.traceid),o.device=this.systemInfo.model+" "+this.systemInfo.system,this._isUploading=!0,this.OperateWxUploadLog(o,(e=>{this._isUploading=!1,this._lastUploadTime=Date.now(),e&&this._uploadList.length&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((()=>{this.timerId=null,this.upload(this._uploadList.shift())}),_z))}))}}else Pz((()=>{kz&&this.upload(t)}))}else this._uploadList.indexOf(t)<0&&this._uploadList.push(t)}}setFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),cg(t)>Oz)return!1;if(e=this.pluginId||e||Tz(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=[[r.id,t]],!0}return this.filterList[e]=t,!0}addFilterMsg(e,t,r){if("string"!=typeof t&&(t=JSON.stringify(t)),e=this.pluginId||e||Tz(),"kv"===this.mode&&"object"==typeof r){var n=this.kvFilterList;return n[e]=n[e]||{},n[e][r.name]=n[e][r.name]||[],void n[e][r.name].push([r.id,t])}var i=this.filterList[e]||"";this.setFilterMsg(e,i+(i?" ":"")+t)}getTraceId(){return this.traceid||""}getFilePath(){var e=(re&&re.env.USER_DATA_PATH||(Ce?"http://usr":"wxfile://usr"))+"/miniprogramLog/",t=e+"realtime.log";return mz(e)||gz(e),t}getFileContent(e){var t=vz(e,"utf8");try{if(t&&t.data)return t=JSON.parse(t.data)}catch(e){}return null}saveToFile(e){if(e){var t=this.getFilePath();if(mz(t)){var r=this.getFileContent(t);r&&Object.keys(r).forEach((t=>{e[t]||(e[t]=r[t])}))}Ty({filePath:t,data:JSON.stringify(e),encoding:"utf8",fail(e){e.errMsg},success(e){}})}}tryUploadFailLog(){var e=this.getFilePath();if(mz(e)){var t=this.getFileContent(e);if(!t)return;Object.keys(t).forEach((e=>{this.OperateWxUploadLog(t[e])})),Ty({filePath:e,data:"{}",encoding:"utf8",fail(e){e.errMsg},success(e){}})}}}var Nz=null,Bz={},$z=e=>e?Bz[e]:Nz,Fz=(e,t)=>{e?Bz[e]=t:Nz=t},jz=()=>{var e=[];return Nz&&e.push(Nz),Object.keys(Bz).forEach((t=>e.push(Bz[t]))),e},Wz=(e={},t,r)=>{var n="",i={stat(){if(!Ce){var e=$z(t);if(e)return e.stat(n)}},getCurrentState(){if(Ce)return{};var e=$z(t);return e?e.getCurrentState(n):{}},setFilterMsg(e){if(!Ce){var r=$z(t);if(r)return r.setFilterMsg(n,e)}},addFilterMsg(e){if(!Ce){var r=$z(t);if(r)return r.addFilterMsg(n,e)}},in(e){We()?n="index":e&&e.route&&(n=e.route)},tag(e){var r=uz(),i=+new Date;return{debug(a,o){if(!Ce){var s=$z(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"debug"},n,a,o)}},info(a,o){if(!Ce){var s=$z(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"info"},n,a,o)}},warn(a,o){if(!Ce){var s=$z(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"warn"},n,a,o)}},error(a,o){if(!Ce){var s=$z(t);if(s)return s._baseLog({id:r,name:e,time:i,level:"error"},n,a,o)}},setFilterMsg(i){if(!Ce){var a=$z(t);if(a)return a.setFilterMsg(n,i,{name:e,id:r})}},addFilterMsg(i){if(!Ce){var a=$z(t);if(a)return a.addFilterMsg(n,i,{name:e,id:r})}}}}};return i=t?Object.assign(i,{config(){},debug(){},info(){},warn(){},error(){}}):Object.assign(i,{config(e){if(!Ce&&"object"==typeof e){var r=$z(t);r&&r._config(e)}},debug(...e){if(!Ce){var r=$z(t);if(r)return r._baseLog("debug",n,...e)}},info(...e){if(!Ce){var r=$z(t);if(r)return r._baseLog("info",n,...e)}},warn(...e){if(!Ce){var r=$z(t);if(r)return r._baseLog("warn",n,...e)}},error(...e){if(!Ce){var r=$z(t);if(r)return r._baseLog("error",n,...e)}}}),$z(t)||Fz(t,new Lz({isClientReport:e.isClientReport,pluginId:t,pluginVersion:r,mode:t?"kv":"normal"})),i},Vz=e=>{e=e||{};var t="develop"===re.envVersion||"trial"===re.envVersion;return e.isClientReport=!t,Wz(e)},Uz=(e,t,r)=>{r=r||{};var n="develop"===re.envVersion||"trial"===re.envVersion;return r.isClientReport=!n,Wz(r,e,t)},zz=e=>{e=e||{};var t="develop"===WXConfig.envVersion||"trial"===WXConfig.envVersion;return e.isClientReport=!t,Wz(e)},qz=e=>{if(!Ce){var t=jz();t.length&&t.forEach((t=>{try{t.upload(e)}catch(e){}}))}},Hz;Id((e=>{Ce||e&&8===e.targetAction||Iz&&(Hz&&clearTimeout(Hz),Hz=setTimeout((()=>{void 0!==yr?yr.getCurrentPagesByDomain("").forEach((e=>{qz(e.route)})):We()&&qz();Hz=null}),10))}));var Gz=50,Kz=e=>"Error"===Object.prototype.toString.call(e).slice(8,-1),Jz={},Xz=0,Yz=[],Qz=()=>{Xz++,eq(),aq(),L2.enabledFeatures.captureRealtimeLog&&uq(),rq(Xz),fq(),L2.enabledFeatures.captureReportEvent&&lq()},Zz=()=>{oq(),L2.enabledFeatures.captureRealtimeLog&&dq(),nq(),gq(),L2.enabledFeatures.captureReportEvent&&cq()};function eq(){return tq.apply(this,arguments)}function tq(){return tq=Vp()((function*(){var e=OO(),{version:t,updateTime:r}=aA();B2({type:_R.InitState,data:{launchOptions:e,config:{...BR(),detailVersion:`${t} (${r})`},identifier:yield HO(),capsule:JW()},timestamp:r6()}),Yz.push({path:e.path,query:e.query,timestamp:r6()}),Ge()&&ZL()})),tq.apply(this,arguments)}function rq(e){var[t,r]=[0,r6()];Jw((t=>{if(N2.recording&&e===Xz){var r,n=U2(),i=JR[t.openType];if(i)B2({type:i,timestamp:r6(),data:{path:t.path,webviewId:t.webviewId,query:t.query,pageConfig:null===(r=re.page)||void 0===r?void 0:r[t.path],shouldCapture:n}}),Yz.push({path:t.path,query:t.query,timestamp:r6()})}})),VN((t=>{if(N2.recording&&e===Xz){var r=Yz[Yz.length-1],n=Yz[Yz.length-2];r&&n&&r.path===t.pagePath.replace(".html","")&&r6()-r.timestamp<100?B2({type:_R.TabItemTap,timestamp:r6(),data:{...t,current:n}}):B2({type:_R.TabItemTap,timestamp:r6(),data:{...t,current:null!=r?r:{path:"unknown",query:{},timestamp:0}}})}})),cr("onKeyboardHeightChange",(t=>{N2.recording&&e===Xz&&B2({type:_R.KeyBoardHeightChange,timestamp:r6(),data:{payload:t}})})),cS((n=>{if(N2.recording&&e===Xz){t+=r6()-r;var i={type:_R.AppShow,timestamp:r6(),data:{...n,inactiveTime:t}};delete i.data.shareTicket,setTimeout((()=>{B2(i)}),0)}})),kS((()=>{N2.recording&&e===Xz&&(r=r6(),B2({type:_R.AppHide,data:{},timestamp:r6()}),ZL({backstopWithWxData:!0}),jN())})),sB(bq),_V((t=>{N2.recording&&e===Xz&&B2({type:_R.MemoryWarning,data:t,timestamp:r6()})}))}function nq(){lB(bq)}var iq=function(){var e=Vp()((function*({type:e,payload:t}){if(N2.recording){var r=JR[e];r&&B2({timestamp:r6(),type:r,data:{payload:t}})}}));return function(t){return e.apply(this,arguments)}}();function aq(){tj(iq)}function oq(){rj(iq)}var sq=({reportId:e,data:t})=>{N2.recording&&!We()&&X2(e,t)};function lq(){WV(sq)}function cq(){VV(sq)}function uq(){pz(rU)}function dq(){hz(rU)}var pq=e=>{try{vq(_R.OnError,e)}catch(e){}},hq=e=>{try{vq(_R.OnUnhandledRejection,e)}catch(e){}};function fq(){qN(pq),GN(hq),YN(yq)}function gq(){HN(pq),KN(hq),QN(yq),Jz={}}function vq(e,t){if(N2.recording&&t&&!(Object.keys(Jz).length>=Gz)){var r;e===_R.OnUnhandledRejection&&(t=t.reason),r=Kz(t)?{name:t.name||"",message:t.message,stack:WR(t.stack||""),path:su.lastRoute,query:su.query}:{message:t+"",path:su.lastRoute,query:su.query};var n=JSON.stringify(r);if(Jz[n])Jz[n].count++,B2({type:e,timestamp:r6(),data:{eventHash:Jz[n].eventHash,msgHash:Jz[n].msgHash}});else{var i=NR(n),a=r.message?NR(r.message):void 0;Jz[n]={eventHash:i,msgHash:a,count:1},B2({type:e,timestamp:r6(),data:{...r,eventHash:i,msgHash:a}})}}}var mq={page:"",time:0,count:0};function yq(e){if(N2.recording){var{query:t,isEntryPage:r}=e,{path:n}=e;"string"==typeof n&&n.endsWith(".html")&&(n=n.substring(0,n.indexOf(".html"))),mq.page&&mq.page===n?mq.count++:mq={page:n,time:r6(),count:1},r6()-mq.time<=3e3&&mq.count>3||B2({type:_R.OnPageNotFound,timestamp:r6(),data:{targetPath:n,targetQuery:t,isEntryPage:r,path:su.lastRoute,query:su.query}})}}function bq(){N2.recording&&B2({type:_R.UserScreenCapture,timestamp:r6(),data:{path:su.lastRoute,query:su.query}})}var _q={},wq={},Sq=1024,Cq=4096,kq=1e3,Iq=50,Pq=100,Tq=!1,Aq=100;function xq(){if(void 0!==A){var e,t,r,n,i,a,o;A._subscribeConsole(Mq);var s=N2.recorderConfigs.consoleConfig;Sq=null!==(e=null==s?void 0:s.maxConsoleLength)&&void 0!==e?e:Sq,kq=null!==(t=null==s?void 0:s.maxConsoleMsgOccurrence)&&void 0!==t?t:kq,Iq=null!==(r=null==s?void 0:s.maxConsoleMsgTypes)&&void 0!==r?r:Iq,Pq=null!==(n=null==s?void 0:s.maxConsoleFieldLength)&&void 0!==n?n:Pq,Cq=null!==(i=null==s?void 0:s.consoleLogDropLength)&&void 0!==i?i:Cq,Tq=null!==(a=null==s?void 0:s.enableConsoleSerialization)&&void 0!==a?a:Tq,Aq=null!==(o=null==s?void 0:s.maxKeyCount)&&void 0!==o?o:Aq}}function Eq(){void 0!==A&&A._unsubscribeConsole(Mq)}function Mq(e,t,r){if(N2.recording&&!(Object.keys(wq).length>=Iq)&&"error"===e){var n=r6(),i="",a=()=>{(i=t.join(" ")).length>Sq&&(i=i.substring(0,Sq))};if(Tq)try{(i="wxobs_serialized_"+JSON.stringify(t,eU(Sq,Pq))).length>Cq&&(LN(UR.ConsoleErrorDrop),i="",a())}catch(e){LN(UR.ConsoleErrorSerializeError),a()}else a();if(wq[i]){if(wq[i]++>=kq)return}else wq[i]=1;var o={method:e,message:i,context:r,path:su.lastRoute,query:su.query},s=JSON.stringify(o);if(BN(UR.UploadConsoleErrorTimeCost,r6()-n),_q[s])_q[s].count++,B2({type:_R.ConsoleError,timestamp:r6(),data:{eventHash:_q[s].eventHash,msgHash:_q[s].msgHash}});else{var l=NR(s),c=NR(i);_q[s]={eventHash:l,msgHash:c,count:1},NN(UR.UploadConsoleErrorSize,s.length),B2({type:_R.ConsoleError,timestamp:r6(),data:{...o,eventHash:l,msgHash:c}})}}}var Rq={},Dq={},Oq="servicewechat.com",Lq=102400,Nq=50,Bq=50,$q=50,Fq=50,jq=Number.MAX_SAFE_INTEGER,Wq=Number.MAX_SAFE_INTEGER,Vq=Number.MAX_SAFE_INTEGER,Uq=Number.MAX_SAFE_INTEGER,zq="",qq=!1;function Hq(){var e,t,r,n,i,a,o,s,l=N2.recorderConfigs.networkConfig;Nq=null!==(e=null==l?void 0:l.maxNormalNetworkLogOccurrence)&&void 0!==e?e:Nq,Bq=null!==(t=null==l?void 0:l.maxNormalNetworkLogTypes)&&void 0!==t?t:Bq,$q=null!==(r=null==l?void 0:l.maxErrorNetworkLogOccurrence)&&void 0!==r?r:$q,Fq=null!==(n=null==l?void 0:l.maxErrorNetworkLogTypes)&&void 0!==n?n:Fq,jq=null!==(i=null==l?void 0:l.maxNormalNetworkLogTypesCustomCapture)&&void 0!==i?i:Number.MAX_SAFE_INTEGER,Wq=null!==(a=null==l?void 0:l.maxNormalNetworkLogOccurrenceCustomCapture)&&void 0!==a?a:Number.MAX_SAFE_INTEGER,Vq=null!==(o=null==l?void 0:l.maxErrorNetworkLogTypesCustomCapture)&&void 0!==o?o:Number.MAX_SAFE_INTEGER,Uq=null!==(s=null==l?void 0:l.maxErrorNetworkLogOccurrenceCustomCapture)&&void 0!==s?s:Number.MAX_SAFE_INTEGER;var c=N2.recorderConfigs.cosInfo;zq=L2.customHost||`${null==c?void 0:c.bucket}.cos.${null==c?void 0:c.region}.myqcloud.com`,_g(Yq),ng(Zq),tg(eH);var u=ag();tH({isConnected:"none"!==u,networkType:u}),qq=!1}function Gq(){wg(Yq),ig(Zq),rg(eH)}function Kq(e){Yq(e)}function Jq(e,t,r){var n=t?Rq:Dq;if(r){var i=t?jq:Vq,a=t?Wq:Uq,o=Object.keys(n).length>=i||Boolean(n[e])&&n[e]>=a;return o&&!qq&&Xq(),o}var s=t?Bq:Fq,l=t?Nq:$q,c=Object.keys(n).length>s||Boolean(n[e])&&n[e]>l;return c&&!qq&&Xq(),c}function Xq(){if(!qq){var e={type:_R.NetworkLimitExceeded,data:{maxNormalNetworkLogTypes:Bq,maxNormalNetworkLogOccurrence:Nq,maxErrorNetworkLogTypes:Fq,maxErrorNetworkLogOccurrence:$q,maxNormalNetworkLogTypesCustomCapture:jq,maxNormalNetworkLogOccurrenceCustomCapture:Wq,maxErrorNetworkLogTypesCustomCapture:Vq,maxErrorNetworkLogOccurrenceCustomCapture:Uq}};B2({type:_R.NetworkLimitExceeded,timestamp:r6(),data:e.data}),qq=!0}}function Yq(e){if(N2.recording&&N2.recorderConfigs.enabledFeatures.network)try{var t,r,n,i,a,o,s,l,c,u,d,p,h,{result:f,functionName:g,statusCode:v,keyParam:m,__skipDomainCheck__:y}=e;if(!XR[g]||y||!f)return;if(m.includes(zq)||m.includes(Oq))return;var b={success:1===f&&v<400,url:m,requestData:e.requestData,responseData:null===(t=e.response)||void 0===t?void 0:t.data,cost:e.costTime,errMsg:null!==(r=e.errorMsg)&&void 0!==r?r:void 0,statusCode:null!==(n=e.statusCode)&&void 0!==n?n:void 0,profile:null!==(i=e.profile)&&void 0!==i&&i.responseEnd?{fetchStart:e.profile.fetchStart,responseEnd:e.profile.responseEnd}:void 0,isSdkSelected:!1,errno:e.errno};LN(b.success?UR.NetworkSuccess:UR.NetworkFail);var _=(null!==(a=N2.recorderConfigs.shouldCaptureNetwork)&&void 0!==a?a:Qq)(b);if(!0===_){if(!1===(_=Qq(b)))return}else{if(!1===_)return;if(null===(o=_)||void 0===o||!o.url)return;var w=!!N2.recorderConfigs.shouldCaptureNetwork,S=Boolean(_.success);if(Jq(_.url,S,w))return;if(w){var C=_.requestData?String(_.requestData):void 0,k=_.responseData?String(_.responseData):void 0,I=_.custom||{},P={};for(var T of Object.keys(I))P[T]=String(I[T]);_={success:Boolean(_.success),url:String(_.url),requestData:C&&C.length>Lq?C.slice(0,Lq):C,responseData:k&&k.length>Lq?k.slice(0,Lq):k,cost:Number(_.cost||0),errMsg:String(_.errMsg),statusCode:Number(_.statusCode||0),profile:_.profile,custom:P,isSdkSelected:!0,errno:_.errno}}}b=_;var A={...b,api:XR[g]};null!==(s=A.errMsg)&&void 0!==s&&s.endsWith(":ok")&&delete A.errMsg;var x=A.success?Rq:Dq;x[A.url]?x[A.url]++:x[A.url]=1,B2({type:_R.NetworkAPI,timestamp:r6(),data:A});var E=A.url.length+(null!==(l=null===(c=A.requestData)||void 0===c?void 0:c.length)&&void 0!==l?l:0)+(null!==(u=null===(d=A.responseData)||void 0===d?void 0:d.length)&&void 0!==u?u:0)+(null!==(p=null===(h=A.errMsg)||void 0===h?void 0:h.length)&&void 0!==p?p:0);NN(UR.UploadNetworkSize,E)}catch(e){LN(UR.NetworkHandleError)}}function Qq(e){if(!!!N2.recorderConfigs.enabledFeatures.captureSuccessNetwork&&e.success)return!1;var t={...e};return delete t.requestData,delete t.responseData,t}function Zq(e){N2.recording&&B2({type:_R.NetworkWeak,timestamp:r6(),data:e})}function eH(e){N2.recording&&tH(e)}var tH=e=>{B2({type:_R.NetworkStatus,data:e,timestamp:r6()}),iS("syncPXState",{networkStatus:e.networkType},L2.recordingWebviewIds,(()=>{})),N2.recorderConfigs.networkStatus=e.networkType},rH=["navigation","loadPackage","render","script","resource"],nH=["navigation","render"],iH=["appLaunch","route","firstRender"];class aH{constructor(e,t,r,n,i){this.entryType=e,this.name=t,this.startTime=r,this.duration=void 0,n&&(this.duration=n-r),i&&Object.assign(this,i)}}class oH extends aH{constructor(e,t,r,n){super("render",e,t,r,n)}}class sH extends oH{constructor(e,t,r){super("firstRender",e,t,r)}}class lH extends aH{constructor(e,t,r){super("script","evaluateScript",e,t,r)}}class cH extends aH{constructor(e,t,r,n,i){super("navigation",e,t,r,Object.assign({navigationType:n},i))}}class uH extends cH{constructor(e,t,r){super("appLaunch",e,t,"appLaunch",r)}}class dH extends cH{constructor(e,t,r,n){super("route",e,t,r,n)}}class pH extends aH{constructor(e,t,r){super("loadPackage","downloadPackage",e,t,r)}}class hH extends aH{constructor(e,t,r){super("resource","resourceTiming",e,t,r)}}function fH(e){e.duration>0&&e.duration<1e6&&w.info(`Launch Time: ${e.duration} ms`)}"devtools"===re.platform&&w.info(`WeChatLib: ${iA.version} (${iA.updateTime})`),re.onReady((()=>{(Array.isArray(re.subpackages)?re.subpackages.length:0)>0?w.info(`No. of subpackages: ${re.subpackages.length}`):w.info("Subpackages: N/A");var e=!!re.isLazyLoad;w.info(`LazyCodeLoading: ${e}`),e&&re.__globalComponentsCount>0&&console.warn(`[Perf] 全局自定义组件可能影响按需注入的效果，请谨慎使用（在 app.json 中检测到 ${re.__globalComponentsCount} 个）。\n参考 https://developers.weixin.qq.com/miniprogram/dev/framework/ability/lazyload.html`)}));var gH=nr("lifeCycle:BeforeAppRoute"),vH=gH.internalOnMethod,mH=gH.internalOffMethod,yH=e=>{gH.onMethod(e)},bH=gH.offMethod,_H=e=>{var t=Zw(e);t.path=Od(t.path),delete t.timeStamp,gH.emit(eS(t,""))},wH=nr("lifeCycle:BeforePageLoad"),SH=e=>{wH.onMethod(e)},CH=wH.offMethod,kH=(e,t)=>{if(Zd(e.path||"")===t)return e;var r={path:e.path,routeEventId:e.routeEventId};return e.query&&(r.query={}),e.componentFramework&&(r.componentFramework=e.componentFramework),e.page&&(r.page=e.page),r},IH=e=>{wH.emit(kH(e,""))},PH=nr("lifeCycle:AfterPageLoad"),TH=e=>{PH.onMethod(e)},AH=PH.offMethod,xH=e=>{PH.emit(kH(e,""))},EH=nr("lifeCycle:BeforePageUnload"),MH=e=>{EH.onMethod(e)},RH=EH.offMethod,DH=e=>{EH.emit(kH(e,""))},OH=nr("lifeCycle:AfterPageUnload"),LH=e=>{OH.onMethod(e)},NH=OH.offMethod,BH=e=>{QH.delete(e.path),OH.emit(kH(e,""))},$H={},FH={},jH={},WH={},VH={},UH={},zH={},qH=e=>{_H(e),Object.values($H).forEach((t=>{t(e)}))},HH=e=>{tS(e),Object.values(FH).forEach((t=>{t(e)}))},GH=e=>{oG(e),Object.values(jH).forEach((t=>{t(e)}))},KH=e=>{IH(e),Object.values(WH).forEach((t=>{t(e)}))},JH=e=>{xH(e),Object.values(VH).forEach((t=>{t(e)}))},XH=e=>{DH(e),Object.values(UH).forEach((t=>{t(e)}))},YH=e=>{BH(e),Object.values(zH).forEach((t=>{t(e)}))},QH=new Map,ZH=e=>{var t={};for(var r of["path","query","openType","timeStamp","webviewId","routeEventId"])r in e&&(t[r]=e[r]);return t},eG=(e,t)=>Zd(e.path)===t?e:{path:e.path,query:{},openType:e.openType,timeStamp:e.timeStamp,webviewId:e.webviewId,routeEventId:e.routeEventId},tG=nr("lifeCycle:AppRouteDone"),rG=tG.internalOnMethod,nG=tG.internalOffMethod,iG=e=>{tG.onMethod(e)},aG=tG.offMethod,oG=e=>{e.routeEventId=QH.get(e.path)||"",tG.emitInternal(e);var t=ZH(e);tG.emitGlobal(eG(t,""))},sG,lG,cG="updatePerfTimeline",uG=function(e){return e[e.AS_Config_Ready_Begin=0]="AS_Config_Ready_Begin",e[e.AS_Config_Ready_End=1]="AS_Config_Ready_End",e[e.App_onLaunch=2]="App_onLaunch",e[e.App_onLaunch_End=3]="App_onLaunch_End",e[e.App_onShow=4]="App_onShow",e[e.App_onShow_End=5]="App_onShow_End",e[e.Evaluate_Script_Begin=6]="Evaluate_Script_Begin",e[e.Evaluate_Script_End=7]="Evaluate_Script_End",e[e.Evaluate_Script_Before_InitReady=8]="Evaluate_Script_Before_InitReady",e[e.Evaluate_Entry_Script=9]="Evaluate_Entry_Script",e[e.SubPackage_Ready_Begin=10]="SubPackage_Ready_Begin",e[e.SubPackage_Ready_End=11]="SubPackage_Ready_End",e[e.AppRoute_Begin=12]="AppRoute_Begin",e[e.AppRoute_End=13]="AppRoute_End",e[e.AppRoute_Callback_Begin=14]="AppRoute_Callback_Begin",e[e.AppRoute_Callback_End=15]="AppRoute_Callback_End",e[e.AppRoute_AppServiceEngine=16]="AppRoute_AppServiceEngine",e[e.Open_New_Page=17]="Open_New_Page",e[e.Publish_Init_Data=18]="Publish_Init_Data",e[e.Send_Init_Data=19]="Send_Init_Data",e[e.Recv_Init_Ready=20]="Recv_Init_Ready",e[e.AppRoute_Done_Begin=21]="AppRoute_Done_Begin",e[e.AppRoute_Done_End=22]="AppRoute_Done_End",e[e.TriggerAppRoute=23]="TriggerAppRoute",e[e.Page_onLoad=24]="Page_onLoad",e[e.Page_onLoad_End=25]="Page_onLoad_End",e[e.Page_onShow=26]="Page_onShow",e[e.Page_onShow_End=27]="Page_onShow_End",e[e.Evaluate_WAWebview_Begin=28]="Evaluate_WAWebview_Begin",e[e.Evaluate_WAWebview_End=29]="Evaluate_WAWebview_End",e[e.WV_Config_Ready_Begin=30]="WV_Config_Ready_Begin",e[e.WV_Config_Ready_End=31]="WV_Config_Ready_End",e[e.Evaluate_PageFrame_Begin=32]="Evaluate_PageFrame_Begin",e[e.Evaluate_PageFrame_End=33]="Evaluate_PageFrame_End",e[e.Evaluate_Subpackage_PageFrame_Begin=34]="Evaluate_Subpackage_PageFrame_Begin",e[e.Evaluate_Subpackage_PageFrame_End=35]="Evaluate_Subpackage_PageFrame_End",e[e.Set_CSS_Begin=36]="Set_CSS_Begin",e[e.Set_CSS_End=37]="Set_CSS_End",e[e.Generate_Func_Ready=38]="Generate_Func_Ready",e[e.Recv_Init_Data=39]="Recv_Init_Data",e[e.Init_Render_Begin=40]="Init_Render_Begin",e[e.Init_Render_End=41]="Init_Render_End",e[e.VD_Init_Render_Begin=42]="VD_Init_Render_Begin",e[e.VD_Init_Render_End=43]="VD_Init_Render_End",e[e.Send_Init_Ready=44]="Send_Init_Ready",e[e.Init_Ready_Rendering_Cache=45]="Init_Ready_Rendering_Cache",e[e.Init_Ready_Prerender=46]="Init_Ready_Prerender",e[e.Init_Ready_After_Rendering_Cache=47]="Init_Ready_After_Rendering_Cache",e[e.Init_Ready_Client=48]="Init_Ready_Client",e[e.Real_Init_Ready=49]="Real_Init_Ready",e[e.First_User_Interaction=50]="First_User_Interaction",e[e.FP=51]="FP",e[e.FCP=52]="FCP",e[e.LCP=53]="LCP",e[e.First_Start_Render=54]="First_Start_Render",e[e.Raster_Finish=55]="Raster_Finish",e}({}),dG=null,pG=[],hG={};function fG(e){return 0===e?"N/A":Math.round(e-(re.coldLaunchTime||0))}var gG=(null===(sG=m)||void 0===sG||null===(lG=sG.env)||void 0===lG?void 0:lG.typeStr)||"UNKNOWN";function vG(e,t,r={}){r.noRecord||pG.push([e,t]),hG[e]=t,r.noLog||_.info(`[CheckPoint][${gG}][${fG(t)}] ${uG[e]} @ ${t}`)}var mG=new Set;function yG(e,t){mG.has(e)||(mG.add(e),vG(e,t))}function bG(e){return hG[e]||0}function _G(){var e=pG;return pG=[],e}var wG=null;function SG(e){var t;null===(t=wG)||void 0===t||t(e)}var CG=new Promise((e=>{wG=e})),kG=new Xt,IG={LAUNCH:"appLaunch",ROUTE:"route",FIRST_RENDER:"firstRender",FP:"firstPaint",FCP:"firstContentfulPaint",LCP:"largestContentfulPaint"},PG=null,TG,AG=!1,xG=new Promise((e=>{PG=e})),EG=Ce?new Promise((e=>{TG=e})):null;rG((()=>{var e;null===(e=PG)||void 0===e||e()}));var MG=null,RG=[];function DG(e){}function OG(e){"appLaunch"!==e.name||AG||(AG=!0,fH(e),SG({duration:e.duration,startTime:e.startTime})),xG.then((()=>(kG.emit(e.entryType,e),null))).catch((()=>{}))}var LG=nr("RoutePerfDataEmitter");LG.internalOnMethod(((e,t)=>{var r=re,n=t.data.path,i=t.data.viewId;if(e===IG.ROUTE&&t.isOpenTypeInAllowList)OG(new dH(t.data.startTime,t.g(uG.AppRoute_Done_Begin),"autoReLaunch"===t.data.openType?"reLaunch":t.data.openType,{path:n,pageId:i,referrerPath:t.data.referrer,referrerPageId:t.data.referrerViewId,navigationStart:t.g(uG.AppRoute_Begin)}));else if(e===IG.FIRST_RENDER)OG(new sH(t.g(uG.AppRoute_Begin),t.g(uG.Real_Init_Ready),{path:n,pageId:i,viewLayerReadyTime:t.g(uG.Generate_Func_Ready),initDataSendTime:t.g(uG.Send_Init_Data),initDataRecvTime:t.g(uG.Recv_Init_Data),viewLayerRenderStartTime:t.g(uG.Init_Render_Begin),viewLayerRenderEndTime:t.g(uG.Init_Render_End)}));else if(e===IG.FP)OG(new oH("firstPaint",t.g(uG.FP),0,{path:n,pageId:i}));else if(e===IG.FCP)OG(new oH("firstContentfulPaint",t.g(uG.FCP),0,{path:n,pageId:i}));else if(e===IG.LCP)OG(new oH("largestContentfulPaint",t.g(uG.LCP),0,{path:n,pageId:i}));else if(e===IG.LAUNCH){var a=r.appLaunchInfo;if(Ce)null==EG||EG.then((e=>{r.coldLaunchTime||(r.coldLaunchTime=e),OG(new uH(r.coldLaunchTime,t.g(uG.Real_Init_Ready),{path:a.path,pageId:i}))}));else if(r.coldLaunchTime){var o=new uH(r.coldLaunchTime,t.g(uG.Real_Init_Ready),{path:a.path,pageId:i});if(Ge())if(ke)o.preloadType=r.preloadType;else if(Ie){var s=r.preloadType,l=Math.floor(s%100/10),c=Math.floor(s%10),u=0;0===l&&0===c&&(u=0),1===l&&1===c&&(u=1),2===l&&2===c&&(u=2),0===l&&2===c&&(u=4),2===l&&0===c&&(u=5),o.preloadType=u}OG(o)}}}));var NG=9782784e5,BG=e=>{var t=(new Date).getTimezoneOffset()/60;return e+NG-3600*t*1e3};function $G(e){if("loadPackage"===e.name&&!Ce){var t,r,n=Ie?BG(e.startTime):e.startTime,i=Ie?BG(e.endTime):e.endTime;OG(new pH(n,i,{packageName:(null===(t=e.extraInfo)||void 0===t?void 0:t.packageName)||"",packageSize:(null===(r=e.extraInfo)||void 0===r?void 0:r.size)||0}))}var a,o;if(Ce)if("loadPackage"===e.name)OG(new pH(e.startTime,e.endTime,{packageName:(null===(a=e.extraInfo)||void 0===a?void 0:a.packageName)||"",packageSize:(null===(o=e.extraInfo)||void 0===o?void 0:o.size)||0}));else if("evaluateJavaScript"!==e.name||Nf()){if("appLaunch"===e.name){var s;null===(s=TG)||void 0===s||s(e.startTime)}}else OG(new lH(e.startTime,e.endTime,{moduleName:e.moduleName||"",fileList:[]}))}function FG(){(Ie||ke)&&fd("listenNewPerformanceMetric",{names:["loadPackage"],success:e=>{e.cachePerformanceMetric&&e.cachePerformanceMetric.forEach((e=>{$G(e)}))},fail:e=>{_.error("listenNewPerformanceMetric fail",e)}})}Ut("onNewPerformanceMetric",(e=>{$G(e)})),Yr("perf_resource",(e=>{e.forEach((e=>{var t,r,n,{startTime:i}=e,a=e.startTime+e.duration;OG(new hH(i,a,{uri:e.name,initiatorType:e.initiatorType,transferSize:null!==(t=e.transferSize)&&void 0!==t?t:0,domainLookupStart:null!==(r=e.domainLookupStart)&&void 0!==r?r:0,domainLookupEnd:null!==(n=e.domainLookupEnd)&&void 0!==n?n:0}))}))}));var jG=nr("InitReadyFromService");function WG(e){jG.emit(),fd("initReady",{inBackground:e})}var VG=jG.internalOnMethod,UG=()=>{var e=re.userConfig||{},t=[Mu(),Ru(),null==e?void 0:e.isCareMode,null==e?void 0:e.isAccessibilityMode];M.reportQualityData2("UserConfig",t)},zG=0,qG=1,HG=2,GG=1,KG=2;function JG(e){return e.endsWith("Begin")?zG:e.endsWith("End")?qG:HG}function XG(e){return e.replace(/_End|_Begin/,"").replace(/_/g,"")}function YG(e){var t={service:[uG.AppRoute_Begin,uG.AppRoute_End,uG.Open_New_Page,uG.Send_Init_Data],view:[e.data.isLaunch?uG.App_onLaunch:-1,uG.Evaluate_PageFrame_Begin,uG.Evaluate_PageFrame_End,uG.Evaluate_Subpackage_PageFrame_Begin,uG.Evaluate_Subpackage_PageFrame_End,uG.Generate_Func_Ready,uG.Recv_Init_Data,uG.Init_Render_Begin,uG.Init_Render_End,uG.Init_Ready_Client,uG.Real_Init_Ready]},r=[];Object.entries(t).forEach((([t,n])=>{for(var i of n)if(!(i<0)){var a=uG[i],o=e.g(i);o&&r.push({timeStamp:o,eventName:XG(a),eventType:JG(a),parent:`lib_${t}`,category:"service"===t?GG:KG})}})),dn("noticePerformanceMetrics",{events:r,noCallback:!0})}var QG=50,ZG=M.reportFrameworkIDKey.bind(M);function eK(e){if(e.data.isLaunch){var t=e.g(uG.Generate_Func_Ready),r=e.g(uG.Send_Init_Data),n=e.g(uG.Recv_Init_Data);n&&t&&r&&(ZG(n<t?1:2),Math.abs(r-t)<=QG?ZG(6):ZG(r>=t?5:4))}}function tK(e){if(e.data.isLaunch){var t=e.g(uG.WV_Config_Ready_Begin),r=bG(uG.AS_Config_Ready_Begin);r&&t&&(Math.abs(t-r)<=QG?ZG(15):ZG(r>=t?14:13))}}var rK=5;function nK(e){var t;if(e.data.isLaunch){var r=e.g(uG.Evaluate_PageFrame_Begin),n=e.g(uG.Evaluate_PageFrame_End);if(re.isReady&&(!r||n)){var i=re;M.reportKeyValue({key:"LaunchDetailSpeed",value:[e.g(uG.WV_Config_Ready_Begin),r,n,e.g(uG.Set_CSS_Begin),e.g(uG.Set_CSS_End),e.g(uG.Generate_Func_Ready),e.g(uG.Recv_Init_Data),e.g(uG.Init_Render_Begin),e.g(uG.Init_Render_End),e.g(uG.Real_Init_Ready),1,bG(uG.AS_Config_Ready_Begin),bG(uG.App_onLaunch),e.g(uG.AppRoute_Begin),e.g(uG.Open_New_Page),e.g(uG.Send_Init_Data),i.preloadType||i.preload,encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),e.g(uG.Evaluate_Subpackage_PageFrame_Begin),e.g(uG.Evaluate_Subpackage_PageFrame_End),e.g(uG.WV_Config_Ready_End),bG(uG.AS_Config_Ready_End),rK,i.isIsolateContext?1:0,e.data.delayedGwx,i.coldLaunchTime,null!==(t=i.appLaunchInfo.downloadCode)&&void 0!==t?t:-1].join(",")})}}}function iK(e){M.reportQualityData("RenderStages",e.g(uG.Recv_Init_Data),e.g(uG.Real_Init_Ready),[re.SDKVersion,encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),0,e.data.isLaunch?1:0,e.g(uG.Generate_Func_Ready),e.g(uG.Init_Render_Begin),e.g(uG.Init_Render_End),e.data.navId,e.data.openType,e.data.isWebviewPreload,e.data.isPreloadPageFrame,e.g(uG.Send_Init_Data),"skyline"===e.data.backend?5:0])}function aK(e){"/"!==e[0]&&(e="/"+e);var t=re.subPackages;if(Array.isArray(t)&&t.length){for(var r=0;r<t.length;++r){var n=t[r].root||"/";if("/"!==n[0]&&(n="/"+n),"/"!==n[n.length-1]&&(n+="/"),e.startsWith(n))return n}return"/__APP__/"}return""}function oK(e,t,r){var n;e.data.openType,e.data.referrer,e.data.path,e.g(uG.Real_Init_Ready),e.g(uG.FCP),e.g(uG.LCP),dK[t],dK[r];var i=re,a=e.g(uG.Init_Ready_Rendering_Cache)||e.g(uG.Real_Init_Ready);M.reportQualityData("Route",e.data.startTime,a,[re.SDKVersion,encodeURIComponent(e.data.path),aK(e.data.path),encodeURIComponent(e.data.referrer),aK(e.data.referrer),e.data.openType,e.data.navId,e.data.isWebviewPreload,e.data.isPreloadPageFrame,re.isLazyLoad?1:0,e.g(uG.AppRoute_Begin),e.g(uG.AppRoute_Done_Begin),e.data.viewType,t,r,e.g(uG.Send_Init_Data),e.g(uG.Recv_Init_Data),e.g(uG.Init_Render_Begin),e.g(uG.Init_Render_End),e.g(uG.FCP),e.g(uG.LCP)||e.g(uG.FCP),e.g(uG.Init_Ready_Rendering_Cache)?1:0,e.data.downloadPackagesCount,null!==(n=i.appLaunchInfo.downloadCode)&&void 0!==n?n:-1,i.preloadType,i.coldLaunchTime,bG(uG.SubPackage_Ready_Begin),bG(uG.AS_Config_Ready_Begin),bG(uG.AS_Config_Ready_End),~~(bG(uG.App_onLaunch_End)-bG(uG.App_onLaunch)),~~(bG(uG.App_onShow_End)-bG(uG.App_onShow)),~~(bG(uG.Page_onLoad_End)-bG(uG.Page_onLoad)),~~(bG(uG.Page_onShow_End)-bG(uG.Page_onShow)),bG(uG.Evaluate_Entry_Script),e.data.evalScriptCostBeforeInitReady,bG(uG.SubPackage_Ready_End),~~(bG(uG.AS_Config_Ready_End)-bG(uG.AS_Config_Ready_Begin)),~~(a-i.coldLaunchTime),~~(a-e.g(uG.AppRoute_Begin)),~~((e.g(uG.LCP)||e.g(uG.FCP))-i.coldLaunchTime),~~((e.g(uG.LCP)||e.g(uG.FCP))-e.g(uG.AppRoute_Begin))])}function sK(e){var t,r,n=re,i=[Mu(),Ru(),n.coldLaunchTime,bG(uG.AS_Config_Ready_Begin),bG(uG.AS_Config_Ready_End),n.preload?1:0,bG(uG.SubPackage_Ready_Begin),encodeURIComponent(e.data.path),encodeURIComponent(e.data.referrer),e.g(uG.TriggerAppRoute),e.g(uG.AppRoute_Begin),e.g(uG.AppRoute_Done_Begin),e.data.openType,e.g(uG.Send_Init_Data),e.g(uG.Recv_Init_Data),e.g(uG.Init_Ready_Rendering_Cache)||e.g(uG.Real_Init_Ready),e.g(uG.Init_Render_Begin),e.g(uG.Init_Render_End),e.g(uG.FP)||e.g(uG.FCP),e.g(uG.FCP),e.g(uG.LCP)||e.g(uG.FCP),e.data.backend,n.preloadType,e.g(uG.First_Start_Render),e.data.webCore,e.g(uG.Init_Ready_Rendering_Cache)?1:0,(null===(t=n.accountInfo)||void 0===t?void 0:t.nickname)||"",null!==(r=n.appLaunchInfo.downloadCode)&&void 0!==r?r:-1,e.g(uG.Raster_Finish)||0,e.data.downloadPackagesCount];M.reportQualityData2("Skyline",i)}var lK=1e4,cK=1e4,uK=5e3,dK=function(e){return e[e.normal=1]="normal",e[e.force=2]="force",e[e.timeout=3]="timeout",e[e.loaded=4]="loaded",e[e.interrupted=5]="interrupted",e}({}),pK=function(e){return e[e.NO_RENDERER=0]="NO_RENDERER",e[e.WEBVIEW=1]="WEBVIEW",e[e.SKYLINE=2]="SKYLINE",e}({}),hK=["appLaunch","navigateTo","redirectTo","reLaunch","autoReLaunch","switchTab","navigateBack"],fK=0;function gK(e){return"boolean"==typeof e?e?1:0:-1}class vK{constructor(e,t,r){var n,i,a,o,s,l,c;this.data=void 0,this.orderId=fK++,this.appRouteDoneTimer=void 0,this.initReadyTimer=void 0,this.appRouteDoneResolve=void 0,this.initReadyResolve=void 0,this.renderFinishResolve=void 0,this.isOpenTypeInAllowList=void 0,this.isOpenTypeInAllowList=hK.indexOf(t.openType)>=0;var u={navId:(null===(n=t.qualityData)||void 0===n?void 0:n.navId)||`${e}_${r}`,isWebviewPreload:gK(null===(i=t.qualityData)||void 0===i?void 0:i.isWebviewPreload),isPreloadPageFrame:gK(null===(a=t.qualityData)||void 0===a?void 0:a.isPreloadPageFrame),downloadPackagesCount:null!==(o=null===(s=(null===(l=t.qualityData)||void 0===l?void 0:l.downloadPackageList)||(null===(c=t.qualityData)||void 0===c?void 0:c.downloadedPackageList))||void 0===s?void 0:s.length)&&void 0!==o?o:-1},d=yr.getCurrentPage(),p=!(!IK[0]||IK[0].type!==t.openType);if(this.data={referrer:(null==d?void 0:d.route)||yr.getCurrentRoute()||"",referrerViewId:(null==d?void 0:d.webviewId)||0,path:t.path||"",viewId:e,timeline:{},openType:t.openType,isLaunch:0===this.orderId,isFromJSAPI:p,startTime:r,navId:u.navId,isWebviewPreload:u.isWebviewPreload,isPreloadPageFrame:u.isPreloadPageFrame,viewType:pK.NO_RENDERER,delayedGwx:0,initReadyCalled:!1,appRouteDoneCalled:!1,backend:t.renderer||"webview",webCore:"",downloadPackagesCount:u.downloadPackagesCount,evalScriptCostBeforeInitReady:0,evalEntryScriptCost:0},p){var h=IK.shift();this.data.startTime=h.startTime}else{var f,g=null===(f=t.qualityData)||void 0===f?void 0:f.routeStartTime;"number"==typeof g&&g>1e5&&(this.data.startTime=g)}var v=xK("skyline");this.isOpenTypeInAllowList&&(this.appRouteDoneTimer=setTimeout((()=>{var e;Aj().assertWithIDKey(!1,7),_.warn("[RouteContext] appRouteDone timeout",this),null===(e=this.appRouteDoneResolve)||void 0===e||e.call(this,{type:dK.timeout}),this.appRouteDoneResolve=void 0}),lK),this.initReadyTimer=setTimeout((()=>{var e;Aj().assertWithIDKey(!1,8),_.warn("[RouteContext] initReady timeout",this),null===(e=this.initReadyResolve)||void 0===e||e.call(this,{type:dK.timeout}),this.initReadyResolve=void 0}),cK),Promise.all([new Promise((e=>{this.appRouteDoneResolve=e})),new Promise((e=>{this.initReadyResolve=e})).then((e=>{if(e.type!==dK.normal||MK(this))return e;var t=setTimeout((()=>{var e;_.warn("[RouteContext] paintCheckPoints timeout",this),null===(e=this.renderFinishResolve)||void 0===e||e.call(this)}),uK);return new Promise((r=>{this.renderFinishResolve=()=>{this.renderFinishResolve=void 0,t&&clearTimeout(t),r(e)}}))}))]).then((([e,r])=>{("appLaunch"!==t.openType||this.data.isLaunch)&&oK(this,e.type,r.type),"navigateBack"!==t.openType&&v&&EK(this,"skyline")&&sK(this)})))}set(e,t){return this.data.timeline[e]=t,vG(e,t),this}updateViewCheckpoint(e){this.data.delayedGwx=e.delayedGWx,this.data.backend=e.backend,this.data.viewType="skyline"===e.backend?pK.SKYLINE:pK.WEBVIEW,this.data.webCore=e.webCore;var t={};return e.data.forEach((([e,r])=>{var n;(vG(e,r,{noLog:!0}),this.data.timeline[e]=r,e===uG.LCP||e===uG.FCP)&&(MK(this)&&(null===(n=this.renderFinishResolve)||void 0===n||n.call(this)));t[e]=r})),t}g(e){return this.data.timeline[e]||0}get(e){return this.g(e)}setAppRouteDone(e){var t;if(!this.data.appRouteDoneCalled)return this.data.appRouteDoneCalled=!0,this.appRouteDoneTimer&&clearTimeout(this.appRouteDoneTimer),null===(t=this.appRouteDoneResolve)||void 0===t||t.call(this,{type:e}),this.appRouteDoneResolve=void 0,this}setAppRouteDoneAllBefore(e){var t=[];return Object.values(mK).forEach((r=>{r.orderId<=this.orderId&&!r.g(uG.AppRoute_Done_Begin)&&(r.set(uG.AppRoute_Done_Begin,e),r.orderId<this.orderId&&r.set(uG.AppRoute_Done_End,e),r.setAppRouteDone(r.orderId===this.orderId?dK.normal:dK.force),t.push(r))})),t}setInitReady(e=dK.normal,t){var r;if(!this.data.initReadyCalled)return this.data.initReadyCalled=!0,this.data.viewType=t,this.initReadyTimer&&clearTimeout(this.initReadyTimer),null===(r=this.initReadyResolve)||void 0===r||r.call(this,{type:e}),this.initReadyResolve=void 0,this}}var mK={},yK=null,bK=new Set;function _K(e,t,r){var n=new vK(e,t,r);return e in mK&&n.setInitReady(dK.loaded,pK.NO_RENDERER),mK[e]=n,yK=e,NK[n.data.referrer]&&(n.set(uG.TriggerAppRoute,NK[n.data.referrer]),delete NK[n.data.referrer]),n}function wK(e){return mK[e]}function SK(e,t){var r=CK();r?r.set(e,t):vG(e,t)}function CK(e=!1){return null!==yK?mK[yK]:(e||Aj().assertWithIDKey(!1,11),null)}function kK(e){if(e in mK){var t=mK[e];t.data.initReadyCalled||t.setInitReady(dK.interrupted,pK.NO_RENDERER),t.data.appRouteDoneCalled||t.setAppRouteDone(dK.interrupted),bK.add(e),delete mK[e]}else Aj().assertWithIDKey(!1,12)}var IK=[],PK=(e,t)=>{var r=IK.findIndex((r=>r.startTime===t&&r.type===e));IK.splice(r,1)};function TK(e,t){hK.indexOf(e)<0||IK.push({type:e,startTime:t})}function AK(e){return bK.has(e)}function xK(e){var t,r=re;return!!Array.isArray(null==r||null===(t=r.renderer)||void 0===t?void 0:t.allUsed)&&r.renderer.allUsed.indexOf(e)>-1}function EK(e,t){var r,n,i=e.data.path,a=(null===(r=re.renderer)||void 0===r?void 0:r.default)||"webview";return((null===(n=re.page[i])||void 0===n?void 0:n.window.renderer)||a)===t}var MK=e=>{var t,r=null!==(t=e.data.webCore)&&void 0!==t?t:"unknown",n=0;return(n=r.includes("Chrome")||r.includes("XWEB")?e.g(uG.LCP):e.g(uG.FCP))>=e.g(uG.Init_Render_End)&&n>=e.g(uG.FCP)};mr((()=>{Vj((()=>{var e;null===(e=gr.setGlobalUpdatePerformanceListener)||void 0===e||e.call(gr,{withDataPaths:!1},((e,t,r)=>{Yj.traceBeginAPI("updatePerformanceStat",{pendingStart:e.pendingStartTimestamp,updateStart:e.updateStartTimestamp,updateEnd:e.updateEndTimestamp,is:t.is,viewId:r}),Yj.traceEndAPI()}))}))})),re.onReady((e=>{vG(uG.AS_Config_Ready_Begin,e.onReadyStart||0),setTimeout((()=>{vG(uG.AS_Config_Ready_End,e.onReadyEnd||0)}),0)}));var RK=0,DK=!1,OK=0;Gj("Framework",(e=>{var t=e.args;if(e.timeStamp=Math.round(e.timeStamp),"evaluateScript"===e.name)vG(uG.Evaluate_Script_Begin,e.timeStamp),OK=e.timeStamp;else if("openNewPage"===e.name)SK(uG.Open_New_Page,e.timeStamp);else if("publishInitData"===e.name)SK(uG.Publish_Init_Data,e.timeStamp);else if("sendInitData"===e.name)SK(uG.Send_Init_Data,e.timeStamp);else if("handleAppRoute"===e.name)SK(uG.AppRoute_AppServiceEngine,e.timeStamp);else if(e.name.startsWith("AppRoute#"))RK=e.timeStamp,DK=!1;else if("AppRouteDone"===e.name){var r=wK(t.webviewId);if(r){var n=r.setAppRouteDoneAllBefore(e.timeStamp);r.g(uG.AppRoute_Done_Begin)||r.set(uG.AppRoute_Done_Begin,e.timeStamp),n.forEach((e=>{LK.emit(IG.ROUTE,e)}))}else AK(t.webviewId)||(Aj().assertWithIDKey(!1,10),t.webviewId)}else"onAppRouteCallback"===e.name?(DK=!0,_K(t.webviewId,t,RK).set(uG.AppRoute_Begin,RK).set(uG.AppRoute_Callback_Begin,e.timeStamp),RK=0):"onWebviewEvent"===e.name&&"__DOMReady"===(null==t?void 0:t.eventName)&&vG(uG.Recv_Init_Ready,e.timeStamp)})),Kj("Framework",((e,t,r)=>{var n=e.args;if(e.timeStamp=Math.round(e.timeStamp),"evaluateScript"===e.name){vG(uG.Evaluate_Script_End,e.timeStamp);var i,{moduleName:a,fileList:o}=r,s=CK(!0);if(s)s.data.initReadyCalled||(s.data.evalScriptCostBeforeInitReady+=e.timeStamp-OK);else vG(uG.Evaluate_Entry_Script,(null!==(i=bG(uG.Evaluate_Entry_Script))&&void 0!==i?i:0)+e.timeStamp-OK);OK=0,!1!==n.isSuccess&&OG(new lH(t,e.timeStamp,{moduleName:a||"",fileList:o}))}else if(e.name.startsWith("AppRoute#"))DK&&SK(uG.AppRoute_End,e.timeStamp);else if("onAppRouteCallback"===e.name)SK(uG.AppRoute_Callback_End,e.timeStamp);else if("AppRouteDone"===e.name){var l;null===(l=wK(n.webviewId))||void 0===l||l.set(uG.AppRoute_Done_End,e.timeStamp)}})),Gj("LifeCycle",(e=>{var t=e.args;if(e.timeStamp=Math.round(e.timeStamp),"App.onLaunch"===e.name)vG(uG.App_onLaunch,e.timeStamp);else if("App.onShow"===e.name)vG(uG.App_onShow,e.timeStamp);else if("Page.onLoad"===e.name)vG(uG.Page_onLoad,e.timeStamp);else if("Page.onShow"===e.name)vG(uG.Page_onShow,e.timeStamp);else if("Page.onUnload"===e.name){kK(t.id)}})),Kj("LifeCycle",(e=>{e.timeStamp=Math.round(e.timeStamp),"App.onLaunch"===e.name?vG(uG.App_onLaunch_End,e.timeStamp):"App.onShow"===e.name?vG(uG.App_onShow_End,e.timeStamp):"Page.onLoad"===e.name?vG(uG.Page_onLoad_End,e.timeStamp):"Page.onShow"===e.name&&vG(uG.Page_onShow_End,e.timeStamp)}));var LK=nr("RoutePerfDataEmitter"),NK={};Jx.internalOnMethod((e=>{if(e.routeFail){PK(e.type,e.start);var t=Object.keys(NK).find((t=>NK[t]===e.start));void 0!==t&&delete NK[t]}else{TK(e.type,e.start);var r=CK();r&&(NK[r.data.path]=e.start)}}));var BK=!0;function $K(e){BK&&LK.emit(IG.LAUNCH,e),BK=!1}function FK(e,t){e[uG.FP]&&LK.emit(IG.FP,t),e[uG.FCP]&&LK.emit(IG.FCP,t),e[uG.LCP]&&LK.emit(IG.LCP,t),!t.data.initReadyCalled&&e[uG.Real_Init_Ready]&&(t.setInitReady(dK.normal,t.data.viewType),LK.emit(IG.FIRST_RENDER,t),$K(t),t.data.isLaunch&&(nK(t),eK(t),tK(t),UG()),iK(t),YG(t))}VG((()=>{var e=Date.now(),t=CK()||_K(0,{openType:"appLaunch"},e);t&&(t.set(uG.Real_Init_Ready,e),$K(t))}));var jK=50;function WK(e,t,r){if(Ce||Ee()){var n=e.timeStamp-t;if(n>=jK){var i=null==r?void 0:r.path;i?console.warn(`[Perf][${i}] ${e.name} took ${n.toFixed(0)}ms`):console.warn(`[Perf] ${e.name} took ${n.toFixed(0)}ms`)}}}function VK(e){qr("timelineData",{data:_G()},[e])}Kj("User Script",WK),Kj("LifeCycle",WK),Yr(cG,((e,t)=>{var r=wK(t);if(r){var n=r.updateViewCheckpoint(e);FK(n,r)}else AK(t)||Aj().assertWithIDKey(!1,9)}));var UK=30;function zK(e=""){return e.indexOf("__plugin__")>-1||e.indexOf("plugin-private://")>-1}function qK(e=""){return e.indexOf("__wx__")>-1}function HK(e=""){return zK(e)||qK(e)}var GK=(e,t)=>e.startTime-t.startTime,KK=new WeakMap;class JK{constructor(e){KK.set(this,{list:e})}getEntries(){var e,t=((null===(e=KK.get(this))||void 0===e?void 0:e.list)||[]).slice();return t.sort(GK),t}getEntriesByType(e){var t,r=[];if(!e)return console.warn("entryType is not provided"),r;if(rH.indexOf(e)<0)return console.warn("invalid entryType:",e),r;var n=(null===(t=KK.get(this))||void 0===t?void 0:t.list)||[];for(var i of n)i.entryType===e&&r.push(i);return r}getEntriesByName(e,t){var r,n=[];if(!e)return console.warn("getEntriesByName requires name"),n;var i=(null===(r=KK.get(this))||void 0===r?void 0:r.list)||[];for(var a of i)t&&t!==a.entryType||a.name!==e||n.push(a);return n}}var XK=new WeakMap;class YK{constructor(e){var t=[];XK.set(this,{buffer:t,entryList:new JK(t),bufferSize:UK,pluginId:e}),this._initiateSubscription()}_initiateSubscription(){var e=XK.get(this);e&&this.createObserver((t=>{for(0!==e.bufferSize&&e.buffer.push(...t.getEntries());e.buffer.length>e.bufferSize;)e.buffer.shift()})).observe({entryTypes:"string"==typeof e.pluginId?nH:rH.slice()})}getEntries(){var e;return(null===(e=XK.get(this))||void 0===e?void 0:e.entryList.getEntries())||[]}getEntriesByType(e){var t;return(null===(t=XK.get(this))||void 0===t?void 0:t.entryList.getEntriesByType(e))||[]}getEntriesByName(e,t){var r;return(null===(r=XK.get(this))||void 0===r?void 0:r.entryList.getEntriesByName(e,t))||[]}createObserver(e){var t,r=null===(t=XK.get(this))||void 0===t?void 0:t.pluginId;return"string"==typeof r?new rJ(e,r):new ZK(e)}setBufferSize(e){var t=XK.get(this);t&&(t.bufferSize=e)}now(){return Date.now()}}var QK=new WeakMap;class ZK{constructor(e){QK.set(this,{callback:M.surroundThirdByTryCatch(e,"at api PerformanceObserver callback function"),timer:null,batchBuffer:[],observedEntryTypes:[],__handle:this._handle.bind(this)})}_handle(e){if(e&&"function"==typeof this._shouldHandle&&this._shouldHandle(e)){var t=QK.get(this);t&&(t.batchBuffer.push(e),null===t.timer&&(t.timer=setTimeout((()=>{var e=new JK(t.batchBuffer);t.callback(e,this),t.batchBuffer=[],t.timer=null}),500)))}}_shouldHandle(e){return!e.path||!HK(e.path)}observe(e){if(e){var t=QK.get(this);if(t)if(t.observedEntryTypes.length>0&&this.disconnect(),e.type||e.entryTypes){if(e.type&&e.entryTypes)console.warn("observe can only be called with either type or entryTypes, but not both of them");else if(e.type&&rH.indexOf(e.type)<0)console.warn("invalid entry type:",e.type);else if(Array.isArray(e.entryTypes)&&e.entryTypes.forEach((e=>{rH.indexOf(e)<0&&console.warn("invalid entry type:",e)})),e.type)kG.on(e.type,t.__handle),t.observedEntryTypes.push(e.type);else if(e.entryTypes)for(var r of e.entryTypes)rH.indexOf(r)>=0&&(kG.on(r,t.__handle),t.observedEntryTypes.push(r))}else console.warn("observe should be called with either type or entryTypes provided")}}disconnect(){var e=QK.get(this);if(e){for(var t of e.observedEntryTypes)kG.off(t,e.__handle);e.observedEntryTypes.splice(0,e.observedEntryTypes.length)}}get supportedEntryTypes(){return rH.slice()}}var eJ=new WeakMap,tJ;class rJ extends ZK{constructor(e,t){super(e),eJ.set(this,{pluginId:t})}_handle(e){return e.path&&(e.path=gr.convertRouteToComponentAlias(e.path)),super._handle(e)}_shouldHandle(e){var t;if(!(e&&nH.indexOf(e.entryType)>=0&&iH.indexOf(e.name)>=0))return!1;var r=e.path;if(qK(r))return!1;var n,i=`plugin-private://${null===(t=eJ.get(this))||void 0===t?void 0:t.pluginId}`;return!!((e instanceof cH||e instanceof oH)&&r&&(n=r)&&n.indexOf(i)>-1)}get supportedEntryTypes(){return nH.slice()}}function nJ(){return tJ||(tJ=new YK,FG()),tJ}We()||Ie||ke||(tJ=new YK);var iJ=new Map,aJ;function oJ(e={}){var t=e.pluginId;return iJ.has(t)||iJ.set(t,new YK(t)),iJ.get(t)}var sJ=["render","navigation"];function lJ(){var e=nJ();sJ.forEach((t=>e.getEntriesByType(t).forEach(dJ))),(aJ=e.createObserver(uJ)).observe({entryTypes:sJ})}function cJ(){aJ.disconnect()}function uJ(e){e.getEntries().forEach(dJ)}function dJ(e){B2({type:_R.PerfAPI,timestamp:r6(),data:{entry:e}})}function pJ(e){var t,r=!1;return function(){return r||(t=e(),r=!0),t}}function hJ(e,t,r="",n=""){var i=`canvas_${e}_${t}_${r}_`;return n&&n!==up(e)&&(i+=n),i}function fJ(e){var t=[],r=1;return subscribe(e,(e=>{for(var r=-1,n=0;n<t.length;n++){var i=t[n],a=i[0],o=i[1];if(a.cid===e.cid&&a.canvasId===e.canvasId){r=n,o(e);break}}r>=0&&t.splice(r,1)})),function(e,n){e.cid=r++,t.push([e,n])}}function gJ(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return RP(t)}function vJ(e){for(var t=DP(e),r=t.length,n=new Uint8ClampedArray(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}function mJ(e,t,r,n){var i=e;if(r||t){r=r.split("/")[0];var a=cp(t,n),o=a&&a.is||"";if(r)if(0===i.indexOf("/"))i=lp(n,r)+Jd(o,i,!1).replace(/\.html$/,"");else i=Jd(gr.convertComponentAliasToRoute(o),i,!1).replace(/\.html$/,"");else i=Jd(o,i,!1).replace(/\.html$/,"")}else i=Jd(su.lastRoute,i,!1).replace(/.html$/,"");return i}function yJ(e,t,r,n){return/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e||/wxfile:\/\//.test(e)?e:mJ(e,t,r,n)}function bJ(e,t,r,n){return/^(http|https):\/\//.test(e)||/^\s*data:image\//.test(e)||""===e?e:"/__pageframe__/"+yJ(e,t,r,n)}function _J(e){var t=e.setSrc.bind(e),r=e.getSrc.bind(e),n=e.getReferrerPolicy?e.getReferrerPolicy.bind(e):()=>{},i=e.setReferrerPolicy?e.setReferrerPolicy.bind(e):()=>{};return delete e.getSrc,delete e.setSrc,delete e.getReferrerPolicy,delete e.setReferrerPolicy,Object.defineProperty(e,"src",{enumerable:!0,set(e){t(e)},get:()=>r()}),Object.defineProperty(e,"referrerPolicy",{enumerable:!0,set(e){i(e)},get:()=>n()}),e}function wJ(e){return e&&e.length>0&&e.forEach((e=>{e.x=e.clientX||e.pageX,e.y=e.clientY||e.pageY,delete e.target})),e}function SJ(e){return e&&e.length>0&&e.forEach((e=>{e.clientX=e.x,e.clientY=e.y,e.pageX=e.x,e.pageY=e.y})),e}function CJ(...e){return function(...t){for(var r,n=0;n<e.length;++n){var i=e[n];"function"==typeof i&&(r=0===n?i(...t):i.call(null,r))}return r}}function kJ(){if(Ie&&Fe()){var e=255&Number(re.host.version);if(e>=16&&e<=31)return!0}return!1}var IJ=/[;/?:@&=+$,a-zA-Z0-9\-_.!~*'()#%]/,PJ;function TJ(e){for(var t,r=e.length,n="",i=0;i<r;++i)t=e.charAt(i),IJ.test(t)?n+=t:n+=encodeURI(t);return n}function AJ(e){PJ=e}function xJ(e,t,r){PJ&&PJ(e,t,r)}var EJ={},MJ={};function RJ(e,t){if(_.info(`assign canvas [${e}] to xrFrame [${t}]`),EJ[e]=t,Array.isArray(MJ[e])){var r=MJ[e];delete MJ[e],r.forEach((({type:e,evt:r})=>{xJ(t,e,r)}))}}function DJ(e,t,r){var n=EJ[e];void 0===n?(Array.isArray(MJ[e])||(MJ[e]=[]),MJ[e].push({type:t,evt:r})):xJ(n,t,r)}var OJ={},LJ={},NJ={},BJ={},$J={},FJ={},jJ={},WJ=new WeakMap,VJ=new WeakMap,UJ={},zJ={},qJ=new WeakMap,HJ=e=>OJ[e],GJ=e=>WJ.get(e),KJ=(e,t)=>{OJ[e]=t,LJ[e]&&LJ[e]()},JJ=e=>NJ[e]=NJ[e]||new Promise((t=>{var r=LJ[e]=()=>{var r=HJ(e);r&&(t(r),delete LJ[e])};r()})),XJ=(e,t,r,n)=>{var i=hJ(e,t,r,n);return BJ[i]},YJ=(e,t,r,n)=>{var i=hJ(e,t,r,n);return FJ[i]=FJ[i]||new Promise((a=>{($J[i]=()=>{var o=XJ(e,t,r,n);void 0!==o&&(a(o),delete $J[i])})()}))},QJ=(e,t,r,n,i)=>{var a=hJ(e,t,r,n);BJ[a]=i,$J[a]&&$J[a]()},ZJ=e=>qJ.get(e),eX=(e,t,r,n)=>{var i=hJ(e,t,r,n);delete BJ[i],delete FJ[i],delete $J[i]},tX=e=>jJ[e],rX=(e,t)=>{jJ[e.canvasNumber]=t,WJ.set(t,e)},nX=e=>VJ.get(e),iX=e=>{var t=tX(e);if(t)return VJ.get(t)},aX=(e,t,r)=>{VJ.set(t,r),qJ.set(r,e),UJ[e]&&UJ[e]()},oX=e=>zJ[e]=zJ[e]||new Promise((t=>{(UJ[e]=()=>{var r=iX(e);r&&(t(r),delete UJ[e])})()}));Yr("canvasInserted",((e,t)=>{var{canvasNumber:r,canvasId:n,pluginId:i,nodeId:a}=e;KJ(r,{...e,webviewId:t,lastTouches:[]}),n&&QJ(t,n,i,a,r),SE(t,(()=>sX(r)),`Canvas#${r}`),e.isXrFrame&&DJ(e.canvasId,"resize",{width:e.width,height:e.height,renderWidth:e.renderWidth,renderHeight:e.renderHeight})})),Yr("canvasUpdated",(({canvasNumber:e,data:t,width:r,height:n,renderWidth:i,renderHeight:a,top:o,left:s,hidden:l},c)=>{var u=HJ(e);if(u){void 0!==r&&(u.top=o,u.left=s,u.width=r,u.height=n),void 0!==l&&(u.hidden=l),void 0!==a&&u.isXrFrame&&(u.renderWidth=i,u.renderHeight=a);var d=tX(e);d&&d._onUpdated(u),u.isXrFrame&&DJ(u.canvasId,"resize",{width:r,height:n,renderWidth:i,renderHeight:a})}}));var sX=e=>{var t=HJ(e);if(t){var r=tX(e);r&&r._onRemoved(),xe&&Vg.removeOffScreenCanvas(t.canvasNumber),delete OJ[e],delete LJ[e],delete NJ[e],t.canvasId&&eX(t.webviewId,t.canvasId,t.pluginId,t.nodeId),delete jJ[e],delete UJ[e],delete zJ[e]}};Yr("canvasRemoved",(({canvasNumber:e},t)=>{sX(e),qr("canvasRemovedCallback_"+e,{canvasNumber:e},[t])}));var lX=0,cX=new Map;Yr("onCanvasMethodCallback",(e=>{cX.forEach((t=>t(e)))})),Yr("xrFrameEvent",(({type:e,canvasNumber:t,data:r})=>{HJ(t).isXrFrame&&DJ(t,e,r)}));var uX=function(){var e=Vp()((function*(e,t,r){return new Promise(((n,i)=>{var a=++lX;cX.set(a,(e=>{if(e.cid===a){cX.delete(a);var{errMsg:t,result:r}=e;t?i(new Error(`executeCanvasMethod failed: ${t}`)):n(r)}})),qr("invokeCanvasMethod",{...r,canvasNumber:e,method:t,cid:a})}))}));return function(t,r,n){return e.apply(this,arguments)}}(),dX=0,pX=new Map;Yr("onDrawCanvas",(e=>{pX.forEach((t=>t(e)))}));var hX=function(){var e=Vp()((function*(e,t,r){return new Promise(((n,i)=>{var a=++dX;pX.set(a,(e=>{if(e.cid===a){pX.delete(a);var{errMsg:t}=e;t?i(new Error(`executeWebviewCanvasDraw failed: ${t}`)):n()}})),qr("canvasActionsChanged",{canvasNumber:e,cid:a,actions:t,reserve:r})}))}));return function(t,r,n){return e.apply(this,arguments)}}(),fX=[],gX=new Map;class vX{constructor(){this._initPromise=null}_init(){var e=this;return this._initPromise=this._initPromise||Vp()((function*(){fX.length&&(yield e.loadFontFace(fX))}))()}static initialize(e,t){gX.has(e)||gX.set(e,new t)}static ready(){var e=[];for(var t of gX.values())e.push(t._init());return Promise.all(e)}static addFontFace(e){fX.push(e);var t=[];for(var r of gX.values())t.push(r.loadFontFace([e]));return Promise.all(t)}}var mX=300,yX=150;function bX(e,t,r){var n=r;Object.defineProperty(e,t,{get:()=>(console.warn(`Canvas.${t} will be removed, DO NOT USE IT.`),n),set(e){n=e},enumerable:!1,configurable:!0})}class _X{constructor(e){rX(e,this),bX(this,"_canvasId",String(e.canvasNumber)),bX(this,"_width",e.width),bX(this,"_height",e.height),bX(this,"_top",e.top),bX(this,"_left",e.left)}}var wX=function(e,t){return lx(e,t,(function(e){var t=e.data;return{qbase_api_name:"tcbapi_component_gettempfileurl",qbase_req:JSON.stringify({fileid_list:t.fileid_list.slice(),type:t.type}),cli_req_id:`${+new Date}_${Math.random()}`}}),(function(e){return e}))},SX=wX("getCloudFileUrl","qbase_commapi");function CX(e,t){for(var r=[],n=Math.ceil(e.length/t),i=0;i<n;i++)r.push(e.slice(i*t,(i+1)*t));return r}var kX=function(e,t,r){PX({fileIds:e,type:t,success:r})},IX=new Map,PX=function(e){var{fileIds:t,type:r,success:n}=e,i=new Map,a=[],o=!1;if(t.forEach((e=>{var t=IX.get(e);if(t){if(Date.now()<t.expireTime)return void(i.has(e)||(i.set(e,t.data),o||(o=!0)));IX.delete(e)}/^(cloud):\/\//.test(e)&&a.push(e)})),0!==a.length){var s=0,l=CX(t,50);Promise.all(l.map((e=>new Promise((t=>{SX({data:{fileid_list:e,type:r},success(r){var n=r;if(n.baseresponse&&0===n.baseresponse.errcode?n.download_list.forEach((e=>{i.set(e.fileid,e),!IX.has(e.fileid)&&e.max_age&&IX.set(e.fileid,{data:e,expireTime:Date.now()+1e3*e.max_age})})):n.baseresponse?e.forEach((e=>{i.set(e,{download_url:e,service_errcode:n.baseresponse.errcode,errmsg:"system error baseresponse.errcode "+n.baseresponse.errcode}),IX.has(e)&&IX.delete(e)})):e.forEach((e=>{i.set(e,{download_url:e,service_errcode:-1,errmsg:"system error baseresponse empty"}),IX.has(e)&&IX.delete(e)})),n.baseresponse&&n.baseresponse.stat&&n.baseresponse.stat.qbase_cost_time){var a=n.baseresponse.stat.qbase_cost_time;a>s&&(s=a)}t()},fail(){t()},complete(e){}})}))))).then((()=>{TX(t,i,s,n)})).catch((e=>{"function"==typeof n&&n({data:t.map((t=>({url:t,service_errcode:-1,errmsg:e+""})))})}))}else o?TX(t,i,0,n):"function"==typeof n&&n({data:t.map((e=>({url:e})))})};function TX(e,t,r,n){var i=[];e.forEach((e=>{if(/^(cloud):\/\//.test(e)){var r=t.get(e);r?0===r.service_errcode?i.push({url:r.download_url}):i.push({url:e,code:r.service_errcode,msg:r.errmsg}):i.push({url:e,code:-1,msg:"NO_RESULT"})}else i.push({url:e})})),"function"==typeof n&&n({data:i,cost:r})}var AX=(e,t=!0)=>Jd(su.lastRoute,e,t);function xX({UIArea:e=0,PositionID:t=0,ActionID:r,SourceID:n="",Time:i,ExternInfo:a,AppType:o}){var s={key:"PrivacyPopup",value:[ag(),re.appLaunchInfo.scene,0,101100,e,t,r,"",0,0,"",n,"","",0,"",i,0,"",0,1,0,a?encodeURIComponent(JSON.stringify(a)):"",o,101].join(",")};M.reportKeyValue(s)}var EX=(e={})=>{var t=Object.assign({},e);t.style=t.type,fd("vibrateShort",t,{})},MX=(e={})=>{fd("vibrateLong",e,{})},RX=B_(),DX=RX.readFile,OX=RX.writeFile,LX=RX.access,NX=RX.mkdir,BX={},$X=null,FX=s_.PRIVACY_DIR.path,jX=FX+"/scopeState.txt";function WX(e){var{apiName:t,state:r}=e,n=JSON.stringify(r);if("{}"!==n){var i=()=>{OX({filePath:jX,data:n,encoding:"utf8",success(e){},fail(e){}})};LX({path:FX,success(){i()},fail(e){1300002===e.errno&&NX({dirPath:FX,recursive:!1,success(){i()},fail(e){}})}})}}function VX(e){return UX.apply(this,arguments)}function UX(){return(UX=Vp()((function*(e){e.apiName;return null===$X&&($X=new Promise((e=>{DX({filePath:jX,encoding:"utf8",position:0,success(t){var r;t.data;try{r=JSON.parse(t.data)}catch(e){Bb(`getPrivacyState res data parse error: ${t.data}`),r={}}e({rawData:t.data,objData:r})},fail(t){e({rawData:"{}",objData:{}})}})}))),$X}))).apply(this,arguments)}var zX=e=>{if(jc("getBackgroundFetchData",e,{fetchType:""}))if("pre"===e.fetchType||"periodic"===e.fetchType)try{fd("getBackgroundFetchData",{fetchType:e.fetchType,cleanCache:e.cleanCache,success(t){zc({name:"getBackgroundFetchData",args:e,res:t})},fail(t){zc({name:"getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`getBackgroundFetchData:fail ${t.message}`})}else Vc("getBackgroundFetchData",e,"invalid fetchType")},qX,HX=e=>{qX=e};Ut("onBackgroundFetchData",(e=>{e.errMsg="onBackgroundFetchData:ok","function"==typeof qX&&E.surroundThirdByTryCatch(qX,"at onBackgroundFetchData callback function")(e)}));var GX=(e={})=>{jc("setBackgroundFetchToken",e,{token:""})&&fd("setBackgroundFetchToken",e)},KX=(e={})=>{fd("getBackgroundFetchToken",e)},JX=e=>{try{fd("private_getBackgroundFetchData",{fetchType:e.fetchType,success(t){zc({name:"private_getBackgroundFetchData",args:e,res:t})},fail(t){zc({name:"private_getBackgroundFetchData",args:e,success:!1,errMsg:t.errMsg,res:t})},complete(){}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:`private_getBackgroundFetchData:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errMsg:`private_getBackgroundFetchData:fail ${t.message}`})}},XX=e=>{e&&an.requireAuthJSApiList,e&&an.requireAuthPipelineList,e&&an.requireAuthOuterScopeList,fd("setNeedsAcceptPrivacy",{needPrivacyJsApis:e?an.requireAuthJSApiList:[],needPrivacyPipes:e?an.requireAuthPipelineList:[],needPrivacyAuths:e?an.requireAuthOuterScopeList:[],success:e=>{},fail:e=>{}})},YX=Cf(nU),QX=!1,ZX,eY=()=>(QX||(QX=!0,ZX=Promise.any([tY(),rY()]).then((e=>{var t,r,n,i,a,o,s,l,c,u;e.isFetchedData,an.isCache=!0,an.protoRes=e;var d=an.protoRes.data,p=d.unauth_scope_list||[],h=d.need_popup_scope_list||[],f=d.min_popup_interval;an.minGap=f,an.forceOffcial=d.force_official,null!=d&&null!==(t=d.api_info)&&void 0!==t&&t.jsapi_list&&(an.requireAuthJSApiList=d.api_info.jsapi_list,an.requireAuthJSApiListMap=an.requireAuthJSApiList.reduce(((e,t)=>(e[t]=1,e)),{})),null!=d&&null!==(r=d.api_info)&&void 0!==r&&r.pipe_list&&(an.requireAuthPipelineList=d.api_info.pipe_list,an.requireAuthPipelineListMap=an.requireAuthPipelineList.reduce(((e,t)=>(e[t]=1,e)),{})),null!=d&&null!==(n=d.api_info)&&void 0!==n&&n.outer_scope_list&&(an.requireAuthOuterScopeList=d.api_info.outer_scope_list,an.requireAuthOuterScopeListMap=an.requireAuthOuterScopeList.reduce(((e,t)=>(e[t]=1,e)),{})),1===an.forceOffcial&&(an.useCustomPrivacyAuthorization=!1),(d.popup_interval_item_list||[]).forEach((e=>{an.popUpInterval[e.scope]=e.min_popup_interval}));var g=d.wording,v=an.regExp,m=null==g?void 0:g.privacy_protocol_desc,y=null===(i=m)||void 0===i?void 0:i.match(v);an.customUrl=null===(a=y)||void 0===a?void 0:a[2],an.urlTitle=null===(o=y)||void 0===o?void 0:o[3],an.standardInfo.title=g.title_wording,y=null===(s=m=null==g?void 0:g.desc)||void 0===s?void 0:s.match(v),an.standardInfo.desc1=null===(l=y)||void 0===l?void 0:l[1],an.standardInfo.urlTitle=null===(c=y)||void 0===c?void 0:c[3],an.standardInfo.desc2=null===(u=y)||void 0===u?void 0:u[4],an.standardInfo.allow=g.allow_wording,an.standardInfo.cancel=g.cancel_wording,an.standardInfo;var b=d.action_code;an.actionCache=b,an.banReasonCache=d.ban_reason,Object.assign(BX,on),p.forEach((e=>{an.unauthScopeCache[e]=!1,BX[e]=!1})),an.unauthScopeCache,an.hasAgree||(an.needScopeCache=h),an.needScopeCache,an.needScopeCache.forEach((e=>{BX[e]=!1})),WX({apiName:"getPrivacyAuthinfoPromise",state:BX}),1!==an.actionCache||an.useCustomPrivacyAuthorization||XX(!0)}))),ZX),tY=()=>new Promise(((e,t)=>{Ce?t({errMsg:"devtools not support private_getBackgroundFetchData"}):JX({fetchType:"1",success:r=>{if(r.fetchedData)try{var n=JSON.parse(r.fetchedData);e({isFetchedData:!0,data:n})}catch(e){_.error("parse private_getBackgroundFetchData fail",e),t(e)}else t({errMsg:"empty fetchedData"})},fail:e=>{_.error("backgroundfetch privacy fail",e),t(e)}})})),rY=()=>YX().catch((()=>({}))).then((e=>e.data?JSON.parse(e.data):0)).then((e=>{var t,r={popup_type:an.useCustomPrivacyAuthorization?1:0,version:3,libVersion:re.SDKVersion,use_privacy_check:null!==(t=re.__usePrivacyCheck__)&&void 0!==t&&t,app_version:e};return rx({apiName:"webapi_getwxauserprivacyauthinfo",sdkApiName:"getwxauserprivacyauthinfo",reqData:r}).then((e=>e))})),nY=function(){var e=Vp()((function*(e){var{event:t,env_check:r}=e,n="reportPrivacyAuthorization";switch(t){case"exposureAuthorization":break;case"agree":var i,a;if(an.needScopeCache.forEach((e=>{BX[e]=!0})),an.needScopeCache=[],an.hasAgree=!0,XX(!1),WX({apiName:n,state:BX}),xX({UIArea:an.useCustomPrivacyAuthorization?10110003:10110002,PositionID:1,ActionID:6,AppType:1e3,Time:Date.now()-an.popUpTime,ExternInfo:an.externInfo}),!1===an.isCache)try{yield eY()}catch(e){return void e.errors}var o=null===(i=an.protoRes)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.need_popup_scope_list;if(o&&0!==o.length)rx({apiName:"webapi_setwxauserprivacyauthinfo",sdkApiName:"setwxauserprivacyauthinfo",reqData:{opt:1,auth_scope_list:o,env_check:r}}).then((e=>{})).catch((e=>{}));break;case"disagree":xX({UIArea:an.useCustomPrivacyAuthorization?10110003:10110002,PositionID:2,ActionID:7,AppType:1e3,Time:Date.now()-an.popUpTime,ExternInfo:an.externInfo})}}));return function(t){return e.apply(this,arguments)}}(),iY=e=>{!an.didReportForPrivacyCheckBox&&1===an.actionCache&&an.useCheckBoxOnClientPopup&&(an.didReportForPrivacyCheckBox=!0,nY({event:"agree"}))};un.on("success",iY),Yr("authPopUpSuccess",iY);var aY=new Set,oY=e=>{aY.add(e)},sY=e=>aY.has(e),lY=e=>{var{method:t}=e;switch(t){case"agreePrivacyAuthorization":nY(e);break;case"addHasTapButtonId":var{id:r}=e;oY(r),"function"==typeof e.success&&e.success({errMsg:"addHasTapButtonId:ok"})}},cY=new Yt,uY={map:{},set(e){var t=Lt();return this.map[t]=e,t},get(e){return e?this.map[e]:Object.keys(this.map).map((e=>this.map[e]))}},dY=e=>/wxfile:\/\//.test(e)||/http:\/\//.test(e)?e:uY.get(e),pY=!1;function hY(){return!(!pY&&!_checkIsInteracting())}function fY(e){return e===gY||hY()||_checkIsInteracting()?Promise.resolve():Promise.reject(new Error("require user interaction (only in touchend event)"))}cY.on("beforeTouchEnd",(()=>{pY=!0})),cY.on("afterTouchEnd",(()=>{pY=!1})),kS((()=>{pY=!1}));var gY=Symbol("skipTouchEventCheckFlag"),vY,mY=e=>{var t=an.useCustomPrivacyAuthorization;"function"==typeof e&&1!==an.forceOffcial?an.useCustomPrivacyAuthorization=!0:an.useCustomPrivacyAuthorization=!1,t!==an.useCustomPrivacyAuthorization&&1===an.actionCache&&(an.useCustomPrivacyAuthorization?XX(!1):XX(!0)),vY=(t,r)=>{E.surroundThirdByTryCatch(e,"at wx.onNeedPrivacyAuthorization callback function")((({buttonId:e,event:r})=>{if("agree"===r){var n=sY(e);sY(e),t(n?{success:!0}:{success:!1,errMsg:"privacy permission is not authorized or buttonId is wrong",errno:On})}else"disagree"===r&&t({success:!1,errMsg:"privacy permission is not authorized",errno:On})}),{referrer:r})}},yY=e=>(an.popUpTime=Date.now(),xX({UIArea:10110003,PositionID:0,ActionID:1,AppType:1e3,Time:0,ExternInfo:an.externInfo}),new Promise((t=>{vY(t,e)}))),bY=function(){var e=Vp()((function*(e={}){_Y(e)}));return function(){return e.apply(this,arguments)}}(),_Y=function(){var e=Vp()((function*(e={}){if(!1===an.isCache)try{yield eY()}catch(e){e.errors}xX({UIArea:an.useCustomPrivacyAuthorization?10110003:10110002,PositionID:3,ActionID:2,AppType:1e3,Time:Date.now()-an.popUpTime,ExternInfo:an.externInfo}),null!==an.customUrl?fd("private_openUrl",{url:an.customUrl,isNativeStyle:!0,success:e.success,fail:t=>{t.errMsg+=" invalid url: "+an.customUrl,e.fail(t)},complete:e.complete},{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openPrivacyContract")}}):Vc("openPrivacyContract",e,"url is null")}));return function(){return e.apply(this,arguments)}}();class wY{constructor(e={maxListeners:2e3}){this.emitter=new Yt(e),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{},this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=E.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r)}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}listeners(e){return this.emitter.listeners(e)}}var SY=e=>{invokeMethod("setDeviceOrientation",e)},CY="deviceOrientationChange",kY=new wY;Ut("onDeviceOrientationChange",(e=>{e.value=e.value.toLowerCase(),/reverse/.test(e.value)&&(e.value="landscapeReverse"),kY.emit(CY,e)}));var IY=e=>{var t;null!==(t=kY.listeners(CY))&&void 0!==t&&t.length||fd("enableDeviceOrientationChangeListening",{enable:!0}),kY.on(CY,e)},PY=e=>{var t;kY.off(CY,e),null!==(t=kY.listeners(CY))&&void 0!==t&&t.length||fd("enableDeviceOrientationChangeListening",{enable:!1})},TY=null,AY=[],xY,EY=({title:e,desc1:t,urlTitle:r,desc2:n,allow:i,cancel:a,success:o})=>{an.popUpTime=Date.now(),xX({UIArea:10110002,PositionID:0,ActionID:1,AppType:1e3,Time:0,ExternInfo:an.externInfo});if(an.isShowing)AY.push(o);else{an.isShowing=!0;var s=e=>{};IY(s),__sclEngine__.initScl((l=>{xY=dV((()=>{}),[1,2,3]),(TY=l.mainRoot.append("privacy-pop",{title:e,desc1:t,urlTitle:r,desc2:n,confirmText:i,cancelText:a,safeAreaHeight:an.safeAreaHeight},{underMenuButton:!0})).addListener("jump",(({detail:e})=>{"jump"===e.reason&&_Y({success:()=>{},fail:e=>{}})})),TY.addListener("destroy",(({detail:e})=>{if(pV(xY),PY(s),"cancel"===e.reason){nY({event:"disagree"});var t={success:!1,errMsg:"privacy permission is not authorized",errno:On};o(t),AY.forEach((e=>{e(t)})),an.isShowing=!1,AY=[];try{l.mainRoot.remove(TY)}catch(e){_.error("remove error:",e)}TY=null}else{nY({event:"agree"});var r={success:!0};o(r),AY.forEach((e=>{e(r)})),an.isShowing=!1,AY=[];try{l.mainRoot.remove(TY)}catch(e){}TY=null}}))}),!0)}},MY=Cf(EY),RY=0,DY=e=>{var t=Date.now();return an.isShowing||(t-RY)/1e3>an.officialPrivacyAuthorizationShowingGap?(RY=t,MY(e)):(an.officialPrivacyAuthorizationShowingGap,{success:!1,errMsg:"privacy permission is not authorized in gap",errno:On})},OY=Symbol("Cache"),LY={OFF:0,ON:1,UNKNOWN:2},NY={WEAK_NETWORK:"weakNetwork",ALWAYS:"always",NONE:"none"},BY=["ALL","GET","POST","PATCH","PUT","DELETE"],$Y=6048e5,FY=2592e6,jY={JS_AUTHORIZE:1157,JS_AUTHORIZE_CONFIRM:1158,JS_OPERATE_WX_DATA:1133},WY=["login","checkSession","getSetting"],VY={ENTER_WEAK_NETWORK:1,EXIT_WEAK_NETWORK:2,REQUEST:3,EXIT_MINIPROGRAM:4,USE_CACHE_MANAGER:5,CACHE_MATCH:6,ENTER_WEAK_NETWORK_4_OLD:7,EXIT_WEAK_NETWORK_4_OLD:8,REQUEST_4_OLD:9,EXIT_MINIPROGRAM_4_OLD:10,PROXY_AUTHORIZE:11,PROXY_OPERATE_WX_DATA:12,PROXY_AUTHORIZE_SUCCESS:13,CALL_CONTAINER:20},UY=!1,zY=!1,qY=0,HY=!1,GY="",KY=0,JY=0,XY=0,YY=[VY.ENTER_WEAK_NETWORK_4_OLD,VY.EXIT_WEAK_NETWORK_4_OLD,VY.REQUEST_4_OLD,VY.EXIT_MINIPROGRAM_4_OLD],QY=[VY.ENTER_WEAK_NETWORK,VY.EXIT_WEAK_NETWORK,VY.EXIT_MINIPROGRAM,VY.ENTER_WEAK_NETWORK_4_OLD,VY.EXIT_WEAK_NETWORK_4_OLD,VY.EXIT_MINIPROGRAM_4_OLD],ZY=!1,eQ=0,tQ=!1;function rQ(){var e=bG(uG.AppRoute_Begin);return{fr:bG(uG.Real_Init_Ready)-e,fp:bG(uG.FP)-e,fcp:bG(uG.FCP)-e}}function nQ(e){zY||(qY=Date.now(),zY=!0,!HY&&qY-KY<5e3&&(HY=!0),oQ(VY.ENTER_WEAK_NETWORK,e))}function iQ(e){zY&&(zY=!1,oQ(VY.EXIT_WEAK_NETWORK,e,{duration:Date.now()-qY}))}function aQ(){zY&&oQ(VY.EXIT_MINIPROGRAM,null,{duration:Date.now()-qY}),ZY&&oQ(VY.EXIT_MINIPROGRAM_4_OLD,null,{duration:Date.now()-eQ})}Jw(((e={})=>{KY=Date.now(),HY=zY,tQ=ZY,GY=e.path||e.rawPath||""})),kS(((e={})=>{3===e.targetAction&&aQ(),UY&&(oQ(VY.CACHE_MATCH,null,{matchCount:JY,matchSuccessCount:XY}),JY=0,XY=0)}));var oQ=function(){var e=Vp()((function*(e,t,{isSuccess:r=!1,costTime:n=0,duration:i=0,matchCount:a=0,matchSuccessCount:o=0,extra1:s}={}){t=t||ag()||"";var l={},c=yield CG;-1!==QY.indexOf(e)&&(l=rQ());var u=-1!==YY.indexOf(e),d=u?tQ:HY,p=[t,0,(u?ZY:zY)?1:0,e,encodeURIComponent(GY),i,r?1:0,n,d?1:0,l.fr||0,l.fp||0,l.fcp||0,(null==c?void 0:c.duration)||0,a,o,s||""].join(",");M.reportKeyValue({key:"MiniprogramOnWeakNetwork",value:p})}));return function(t,r){return e.apply(this,arguments)}}();function sQ(e){if(zY||ZY){var{url:t,complete:r}=e,n=Date.now();e.complete=e=>{r&&"function"==typeof r&&r(e);var i=e.errMsg||"",a=encodeURIComponent(t||"");zY&&oQ(VY.REQUEST,null,{isSuccess:-1!==i.indexOf("ok"),costTime:Date.now()-n,extra1:a}),ZY&&oQ(VY.REQUEST_4_OLD,null,{isSuccess:-1!==i.indexOf("ok"),costTime:Date.now()-n,extra1:a})}}}function lQ(e){zY&&oQ(VY.CALL_CONTAINER,null,e)}function cQ(){UY=!0,oQ(VY.USE_CACHE_MANAGER)}function uQ(e){JY++,e&&XY++}function dQ(e,t){oQ(e,null,{extra1:t})}function pQ(){return zY}function hQ(e){ZY||(eQ=Date.now(),ZY=!0,!tQ&&eQ-KY<5e3&&(tQ=!0),oQ(VY.ENTER_WEAK_NETWORK_4_OLD,e))}function fQ(e){ZY&&(ZY=!1,oQ(VY.EXIT_WEAK_NETWORK_4_OLD,e,{duration:Date.now()-eQ}))}og((e=>{"offline"!==e&&"none"!==e||hQ(e)})),tg((e=>{var{networkType:t=""}=e;"offline"===t||"none"===t?hQ(t):fQ(t)})),ng((e=>{e.weakNet?hQ():fQ()}));var gQ=(e,t)=>{if(Ie||ke){if("authorize"===t)return an.requireAuthOuterScopeListMap[e],an.requireAuthOuterScopeListMap[e];var r=sn[e],[n,i,a]=r;return i?(an.requireAuthJSApiListMap[i],an.requireAuthJSApiListMap[i]):!!a&&(an.requireAuthPipelineListMap[a],an.requireAuthPipelineListMap[a])}return!1};try{re.onReady((()=>{Hb({success(e){var t,r,n=e;an.externInfo.deviceOrientation="portrait"===n.deviceOrientation?1:2,an.externInfo.screenWidth=n.screenWidth,an.externInfo.screenHeight=n.screenHeight,an.safeAreaHeight=n.windowHeight-(null!==(t=null===(r=n.safeArea)||void 0===r?void 0:r.height)&&void 0!==t?t:0)}})}))}catch(e){}function vQ(e,t){return e.every((e=>t[e]))}function mQ(e,t){return e.some((e=>t.includes(e)))}function yQ(e,t){return e.some((e=>!1===t[e]))}var bQ=function(){var e=Vp()((function*(e,t){if(Ge()||pQ())return Promise.resolve({success:!0});var r;if(!an.isCache){var{rawData:n,objData:i}=yield VX({apiName:"checkPrivacy"});if(Object.assign(BX,i),"{}"!==n)if(vQ(sn[e][0],BX))return eY(),Promise.resolve({success:!0});try{yield eY()}catch(e){e.errors}}switch(an.needScopeCache,an.unauthScopeCache,an.actionCache,an.actionCache){case 0:return Promise.resolve({success:!0});case 1:var a=sn[e][0];if(!an.useCustomPrivacyAuthorization){var o,s,l=a[0];a.some((e=>!!an.needScopeCache.includes(e)&&(l=e,!0))),an.officialPrivacyAuthorizationShowingGap=null!==(o=null!==(s=an.popUpInterval[l])&&void 0!==s?s:an.minGap)&&void 0!==o?o:an.officialPrivacyAuthorizationShowingGap}return an.officialPrivacyAuthorizationShowingGap,yQ(a,an.unauthScopeCache)?Promise.resolve({success:!1,errMsg:"api scope is not declared in the privacy agreement",errno:Vn}):mQ(a,an.needScopeCache)?"input.nickname"===e?{success:!1,errMsg:"input nickname component will degrade as input component when privacy permission is unauthorized ",errno:On}:an.useCustomPrivacyAuthorization?yY(e):Vh("disablePrivacyOfficialPopup")?{success:!1,errMsg:"privacy permission is not authorized (disablePrivacyOfficialPopup)",errno:On}:gQ(e,t)?(an.useCheckBoxOnClientPopup=!0,Promise.resolve({success:!0})):DY({title:an.standardInfo.title,desc1:an.standardInfo.desc1,urlTitle:an.standardInfo.urlTitle,desc2:an.standardInfo.desc2,allow:an.standardInfo.allow,cancel:an.standardInfo.cancel}):Promise.resolve({success:!0});case 2:return r=fi,an.banReasonCache&&null!==an.banReasonCache?Promise.resolve({success:!1,errMsg:an.banReasonCache,errno:r}):Promise.resolve({success:!1,errMsg:"privacy interface is banned",errno:r})}}));return function(t,r){return e.apply(this,arguments)}}(),_Q,wQ=null;re.onReady((()=>{var e,t,r;LQ(null==re||null===(e=re.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.skip_auth_item_list),null!==(r=kQ)&&void 0!==r&&r.length&&(IQ=MQ())}));var SQ=!1,CQ=!1,kQ=[],IQ=[],PQ={},TQ={"scope.userLocation":1,"scope.userLocationBackground":2,"scope.userFuzzyLocation":3,"scope.record":8,"scope.camera":9},AQ={1:"scope.userLocation",2:"scope.userLocationBackground",3:"scope.userFuzzyLocation",8:"scope.record",9:"scope.camera"},xQ={1:"jsapi_location",2:"jsapi_fuzzy_location",3:"jsapi_location_background",8:"jsapi_record",9:"jsapi_camera"},EQ={getLocation:"scope.userLocation",getFuzzyLocation:"scope.userFuzzyLocation",startLocationUpdate:"scope.userLocation",startLocationUpdateBackground:"scope.userLocationBackground"},MQ=()=>{var e=[];return 0===kQ.length?e:(kQ.forEach((t=>{e.push(...t.scope_id_list),PQ[t.path]=t.scope_id_list.map((e=>AQ[e]))})),Array.from(new Set(e)))},RQ=e=>TQ[e],DQ=()=>kQ,OQ=()=>IQ,LQ=e=>{null!=e&&e.length&&(kQ=e)},NQ=()=>SQ,BQ=e=>{xX({UIArea:10110004,PositionID:1,ActionID:6,AppType:1e3,Time:Date.now()-e.tapTime,ExternInfo:e.innerText})},$Q=e=>e.map((e=>xQ[e])),FQ=(e=!1,t="")=>{CQ=!0;var r=MQ();return new Promise((n=>{__sclEngine__.initScl((i=>{var a,o;_Q=dV((()=>{wQ.closed(),CQ=!1,pV(_Q)}),[1,2,3]),(wQ=i.mainRoot.append("emergency-popup",{title:"获取以下信息用于急救通话",icon:(null===(a=re.accountInfo)||void 0===a?void 0:a.icon)||"",nickname:(null===(o=re.accountInfo)||void 0===o?void 0:o.nickname)||"",showPrivacy:e,useLocation:r.includes(1)||r.includes(2)||r.includes(3),useRecord:r.includes(8),useCamera:r.includes(9),privacyGuide:t})).addListener("vibrateShort",(()=>{EX({type:"medium"})})),["confirm","cancel","openPrivacyUrl"].forEach((e=>{wQ.addListener(e,(()=>{pV(_Q),n({event:e})}))}))}))}))};Yr("agreePrivacyEmergency",((e,t)=>{CQ?qr("userTapPrivacyEmergencyConfirm",SQ?{isConfirm:!0}:{isConfirm:!1},[t]):FQ().then((r=>{var{event:n}=r;"confirm"===n?(qr("userTapPrivacyEmergencyConfirm",{isConfirm:!0},[t]),SQ=!0,BQ(e)):qr("userTapPrivacyEmergencyConfirm",{isConfirm:!1},[t])}))}));var jQ=function(){var e=Vp()((function*(e){var t="authorizeCombined";if(CQ)SQ?zc({name:t,args:e}):Vc(t,e,"user cancel");else{if(!Object.keys(null==an?void 0:an.standardInfo).length)try{yield eY()}catch(e){_.error("getPrivacyAuthinfoPromise fail",e)}var r=mQ($Q(MQ()),an.needScopeCache),{urlTitle:n=""}=an.standardInfo,{event:i}=yield FQ(r,n);"confirm"===i&&(r&&nY({event:"agree"}),SQ=!0,zc({name:t,args:e})),"cancel"===i&&Vc(t,e,"user cancel"),"openPrivacyUrl"===i&&_Y()}}));return function(t){return e.apply(this,arguments)}}(),WQ=()=>{var e;if(We())return{};var t,r=L.getCurrentRoutePathWithoutQuery().split(".")[0],n={};null!==(e=PQ[r])&&void 0!==e&&e.length&&(null===(t=PQ[r])||void 0===t||t.forEach((e=>{n[e]=!0})));return n},VQ=(e,t=!1)=>{if(We())return!1;if(!e.length)return SQ;var r=L.getCurrentRoutePathWithoutQuery(),n=0;return e.forEach((e=>{var i=t?EQ[e]:e;kQ.some((e=>r.includes(e.path)&&e.scope_id_list.includes(RQ(i))))&&n++})),n===e.length&&SQ},UQ=e=>{var{success:t,fail:r}=e;VQ(e.scopeNames)?t():r()},zQ,qQ=ke,HQ={};Yr("xWebLivePusherSupported",(({enforcedXWebLive:e,canInsert2XWeb:t})=>{qQ=e||t})),Yr("updateLivePusherPictureInPicture",((e={},t)=>{HQ.webviewId=t,HQ.pusherId=e.pusherId}));var GQ=e=>{var t=Object.keys(e),r={},n=[];return t.forEach((t=>{var i=e[t];if("string"==typeof i&&i){if(!/^(wxfile|https?):\/\//.test(i))return void(r[t]=AX(i,!1));if(/^cloud:\/\//.test(i))return void n.push({p:i,key:t})}r[t]=i})),n.length?new Promise((e=>{kX(n.map((e=>e.p)),"image",(t=>{t.data.forEach(((e,r)=>{t[n[r].key]=e})),e(t)}))})):Promise.resolve(r)},KQ={},JQ={},XQ=new Xt,YQ={},QQ=Object.assign;function ZQ(e){YQ[e]||(YQ[e]=!0,SE(e,(e=>{delete YQ[e],Object.keys(KQ).forEach((t=>{new RegExp("^"+e).test(t)&&(delete JQ[`${e}_${KQ[t]}`],delete KQ[t])}))}),"LivePusherContext"))}function eZ(e,t,r){if(Ce)console.warn(`开发者工具暂不支持调用 LivePusherContext.${e} 方法`);else{t&&t.type;var n=vd(r);VQ(["scope.record","scope.camera"])&&(t.permissionBytes=[1,1,1],n=Cd(r)),n(qQ?"operateXWebLivePusher":"operateLivePusher",t)}}function tZ(e,t){var r=`${this.webviewId}_${this.pluginId}`,n="exitPictureInPicture"===e;"number"==typeof KQ[r]?(qQ?t.viewId=n?t.pusherId:KQ[r]:t.livePusherId=n?t.pusherId:KQ[r],t.type=e,eZ(e,t,this.pluginId)):XQ.once("livePusherInserted",(()=>{tZ.call(this,e,t)}))}function rZ(e,...t){var r=`${this.webviewId}_${this.pluginId}`;"number"==typeof KQ[r]?e.apply(this,t):XQ.once("livePusherInserted",(()=>{rZ.call(this,e,...t)}))}["xWebLivePusherInserted","livePusherInserted"].forEach((e=>{Yr(e,(({viewId:e,pusherId:t,pluginId:r,data:n},i)=>{var a=qQ?e:t,o=`${i}_${r}`;KQ[o]=a,JQ[`${i}_${a}`]=n,XQ.emit("livePusherInserted"),ZQ(i)}))})),["xWebLivePusherRemoved","livePusherRemoved"].forEach((e=>{Yr(e,(({viewId:e,pusherId:t,pluginId:r},n)=>{var i=qQ?e:t;delete KQ[`${n}_${r}`],delete JQ[`${n}_${i}`]}))}));var nZ=(zQ=class{constructor(e,t){this.webviewId=e,this.pluginId=t}get _livePusherId(){var e=`${this.webviewId}_${this.pluginId}`;return KQ[e]}start(e={}){tZ.call(this,"start",e)}stop(e={}){tZ.call(this,"stop",e)}pause(e={}){tZ.call(this,"pause",e)}resume(e={}){tZ.call(this,"resume",e)}switchCamera(e={}){tZ.call(this,"switchCamera",e)}snapshot(e={}){var t="view"===e.sourceType?"snapshotView":"snapshot";tZ.call(this,t,QQ({quality:"raw"},e))}toggleTorch(e={}){tZ.call(this,"toggleTorch",e)}playBGM(e={}){jc("LivePusherContext.playBGM",e,{url:""})&&tZ.call(this,"playBGM",e)}stopBGM(e={}){tZ.call(this,"stopBGM",e)}pauseBGM(e={}){tZ.call(this,"pauseBGM",e)}resumeBGM(e={}){tZ.call(this,"resumeBGM",e)}setBGMVolume(e={}){jc("LivePusherContext.setBGMVolume",e,{volume:0})&&tZ.call(this,"setBGMVolume",e)}setMICVolume(e={}){jc("LivePusherContext.setMICVolume",e,{volume:0})&&tZ.call(this,"setMICVolume",e)}startPreview(e={}){tZ.call(this,"startPreview",e)}stopPreview(e={}){tZ.call(this,"stopPreview",e)}sendMessage(e={}){tZ.call(this,"sendMessage",e)}exitPictureInPicture(e={}){HQ&&tZ.call(this,"exitPictureInPicture",QQ({pusherId:HQ.pusherId},e))}setZoom(e={}){jc("LivePusherContext.setZoom",e,{zoom:1})&&tZ.call(this,"setZoom",e)}getMaxZoom(e={}){tZ.call(this,"getMaxZoom",e)}applyFilter(e={}){GQ({path:e.path}).then((({path:t})=>{tZ.call(this,"applyFilter",QQ({},e,{path:t}))}))}clearFilters(e={}){tZ.call(this,"clearFilters",e)}applySticker(e={}){var t=Array.isArray(e.stickers)?e.stickers:[];GQ(t.map((e=>e.path))).then((r=>{tZ.call(this,"applySticker",QQ({},e,{stickerType:e.type,stickers:t.map(((e,t)=>({...e,path:r[t]})))}))}))}clearStickers(e={}){tZ.call(this,"clearStickers",e)}applyLipStickMakeup({success:e,fail:t,complete:r,...n}={}){GQ({path:n.path,shimmerPath:n.shimmerPath}).then((({path:i,shimmerPath:a})=>{tZ.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"lipStick",makeup:{...n,path:i,shimmerPath:a}})}))}applyEyeShadowMakeup({success:e,fail:t,complete:r,...n}={}){GQ({path:n.path,shimmerPosition:n.shimmerPosition}).then((({path:i,shimmerPosition:a})=>{tZ.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"eyeShadow",makeup:{...n,path:i,shimmerPosition:a}})}))}applyBlusherStickMakeup({success:e,fail:t,complete:r,...n}={}){GQ({path:n.path}).then((({path:i})=>{tZ.call(this,"applyMakeup",QQ({},n,{success:e,fail:t,complete:r,makeupType:"blusherStick",makeup:{...n,path:i}}))}))}applyFaceContourMakeup({success:e,fail:t,complete:r,...n}={}){GQ({path:n.path}).then((({path:i})=>{tZ.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"faceContour",makeup:{...n,path:i}})}))}applyEyeBrowMakeup({success:e,fail:t,complete:r,...n}={}){GQ({path:n.path}).then((({path:i})=>{tZ.call(this,"applyMakeup",{success:e,fail:t,complete:r,makeupType:"eyeBrow",makeup:{...n,path:i}})}))}clearMakeups(e={}){tZ.call(this,"clearMakeups",e)}},G()(zQ.prototype,"start",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"start"),zQ.prototype),G()(zQ.prototype,"stop",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"stop"),zQ.prototype),G()(zQ.prototype,"pause",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"pause"),zQ.prototype),G()(zQ.prototype,"resume",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"resume"),zQ.prototype),G()(zQ.prototype,"switchCamera",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"switchCamera"),zQ.prototype),G()(zQ.prototype,"snapshot",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"snapshot"),zQ.prototype),G()(zQ.prototype,"toggleTorch",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"toggleTorch"),zQ.prototype),G()(zQ.prototype,"playBGM",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"playBGM"),zQ.prototype),G()(zQ.prototype,"stopBGM",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"stopBGM"),zQ.prototype),G()(zQ.prototype,"pauseBGM",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"pauseBGM"),zQ.prototype),G()(zQ.prototype,"resumeBGM",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"resumeBGM"),zQ.prototype),G()(zQ.prototype,"setBGMVolume",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"setBGMVolume"),zQ.prototype),G()(zQ.prototype,"setMICVolume",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"setMICVolume"),zQ.prototype),G()(zQ.prototype,"startPreview",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"startPreview"),zQ.prototype),G()(zQ.prototype,"stopPreview",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"stopPreview"),zQ.prototype),G()(zQ.prototype,"sendMessage",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"sendMessage"),zQ.prototype),G()(zQ.prototype,"exitPictureInPicture",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"exitPictureInPicture"),zQ.prototype),G()(zQ.prototype,"setZoom",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"setZoom"),zQ.prototype),G()(zQ.prototype,"getMaxZoom",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"getMaxZoom"),zQ.prototype),G()(zQ.prototype,"applyFilter",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"applyFilter"),zQ.prototype),G()(zQ.prototype,"clearFilters",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"clearFilters"),zQ.prototype),G()(zQ.prototype,"applySticker",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"applySticker"),zQ.prototype),G()(zQ.prototype,"clearStickers",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"clearStickers"),zQ.prototype),G()(zQ.prototype,"applyLipStickMakeup",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"applyLipStickMakeup"),zQ.prototype),G()(zQ.prototype,"applyEyeShadowMakeup",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"applyEyeShadowMakeup"),zQ.prototype),G()(zQ.prototype,"applyBlusherStickMakeup",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"applyBlusherStickMakeup"),zQ.prototype),G()(zQ.prototype,"applyFaceContourMakeup",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"applyFaceContourMakeup"),zQ.prototype),G()(zQ.prototype,"applyEyeBrowMakeup",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"applyEyeBrowMakeup"),zQ.prototype),G()(zQ.prototype,"clearMakeups",[Nt],Object.getOwnPropertyDescriptor(zQ.prototype,"clearMakeups"),zQ.prototype),zQ),iZ=new WeakMap,aZ=e=>(iZ.has(e)||iZ.set(e,{}),iZ.get(e)),oZ=(e,t={})=>{var r=aZ(e);return iZ.set(e,{...r,...t})};function sZ(e,t){var r=new Uint8Array(e),n=new Uint8Array(t);return r.length===n.length&&(n.set(r),!0)}class lZ extends nZ{constructor(...e){super(...e),XQ.addListener(`onLivePusherCameraFrame_${this.webviewId}`,(e=>{var{buffer:t,bufferId:r,onCustomRendererFrameEvent:n,width:i,height:a}=aZ(this);if(n){var{deviceOrientationRotation:o}=e,s=n.call(this,{orientation:o,buffer:t});if(s instanceof ArrayBuffer&&(s===t||sZ(s,t))){var l={bufferId:r,rotation:0,width:i,height:a};tZ.call(this,"sendCustomVideoFrame",l)}}})),XQ.addListener(`onLivePusherCameraFrameBufferUpdate_${this.webviewId}`,(e=>{var t,r=aZ(this),{bufferId:n,rotation:i,height:a,width:o}=e,s=Zm();if(!s)throw new Error("onCustomRendererEvent:frame is not supported on your device");var l=s.get(n);if(!l)throw new Error("onCustomRendererEvent:frame fails to allocate ArrayBuffer");l.__proto__=ArrayBuffer.prototype,oZ(this,{bufferId:n,buffer:l,rotation:i,height:a,width:o}),null===(t=r.onCustomRendererUpdateEvent)||void 0===t||t.call(this,{width:o,height:a})}))}onCustomRendererEvent(e,t){"frame"===e?(aZ(this).onCustomRendererFrameEvent=t,rZ.call(this,t,{orientation:0,buffer:new ArrayBuffer})):"update"===e&&(aZ(this).onCustomRendererUpdateEvent=t)}offCustomRendererEvent(e){var t=aZ(this).onCustomRendererUpdateEvent.forEach((r=>{t[r]===e&&(t[r]=null)}))}createOffscreenCanvas(e){return k3({...e,_forLivePusher:!0})}}function cZ(e,t,r,n=""){return new lZ(t,n)}var uZ=0,dZ={};re.onReady((()=>{uZ=re.appType,dZ=re.appLaunchInfo}));var pZ=(e,t)=>{var r=[];return t.forEach((t=>{var n=e[t];"boolean"==typeof n&&(n=n?1:0),r.push(`${t}:${n}`)})),r.join("|")},hZ=null,fZ=({name:e,data:t})=>{var r=void 0!==yr?yr.getCurrentPagesByDomain(""):[],n=r.length>0&&r[r.length-1].__route__||"",i=ag(),a=re.SDKVersion||"",o="";switch(e){case"loadFontFace":o=pZ(t,["family","source","global","scopes"]);break;case"requestSubscribeMessage":o=pZ(t,["templateCount","templateType","operationType"]);break;case"openCustomerServiceChat":o=pZ(t,["extInfo","corpId"]);break;case"Intl":o=pZ(t,["callPath"]);break;case"translateSwitch":o=pZ(t,["action","openType","show"])}var s=[Math.round(Date.now()/1e3),dZ.scene,dZ.sessionid||dZ.sessionId,n,i,a,e,o,uZ,1,""].join(",");M.reportKeyValue({key:"APIUse",value:s})},gZ={};function vZ(e){var t=su.currentWebviewId;gZ[t]=gZ[t]||{},gZ[t][e]=!0}function mZ(e,t={},r=!1,n=!1){r=r||Dx(),M.reportKeyValue({key:"MiniprogramDoEvilIdentification",value:[e,encodeURIComponent(JSON.stringify(t)),r?1:0,Date.now(),n?1:0,M.getAppType()].join(",")})}kS((()=>{var e=!1;Object.keys(gZ).forEach((t=>{var r=gZ[t];r.cameraFrame&&r.webgl&&(e=!0)})),e&&fZ({name:"suspectAR",data:{}}),gZ={}}));var yZ={previewImage:31,previewMedia:788,onLivePlayerFullScreenChange:372,onVideoFullScreenChange:131},bZ=new Map,_Z=new Map;re.onReady(Vp()((function*(){yield new Promise((e=>setTimeout(e,2e3)));var{data:e={}}=yield gC(),{api_cooltime_list:t=[]}=e;for(var{api:r,cooltime:n}of t)_Z.set(r,n)})));var wZ=e=>{var t;return null!==(t=_Z.get(e))&&void 0!==t?t:0},SZ=e=>{var t=wZ(e);if(t<=0)return!1;bZ.has(e)||bZ.set(e,0);var r=bZ.get(e),n=Date.now(),i=!0;if(n-r>=t)i=!1;else{var a=OB();i=a<r||a>n}return i||bZ.set(e,n),i},CZ=(e,t,r)=>{Vc(t,r,`can't be invoked in ${wZ(e)}ms until user taps`)},kZ=new Set([1177,1184,1200,1228]),IZ=new Set([0,1,2,7]),PZ=()=>{var{scene:e}=yh();return kZ.has(e)&&IZ.has(re.appType)&&"default"!==Fp()},TZ={Unknown:"",Moving:"moving",Parking:"parking"},AZ={status:TZ.Unknown},xZ="onVehicleStatusUpdated",EZ=e=>{AZ=e,qr(xZ,e)};Ut(xZ,EZ);var MZ=()=>AZ,RZ=function(){var e=Vp()((function*(){if(De&&(Ae||ke)){var e=yield gd("getVehicleDrivingStatus",{});AZ=e}return AZ}));return function(){return e.apply(this,arguments)}}(),DZ=Yc("getVehicleStatus",RZ),OZ,LZ=Ce||xe||Ae,NZ={},BZ={},$Z={},FZ=new Xt,jZ={},WZ=new WeakMap,VZ={},UZ={},zZ=["play","pause","stop","seek","sendDanmu","playbackRate","requestFullScreen","exitFullScreen","showStatusBar","hideStatusBar","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback","hidePoster","startCasting","switchCasting","reconnectCasting","exitCasting"],qZ={},HZ={},GZ=!0,KZ=!0,JZ=Object.keys;function XZ(e){jZ[e]||(jZ[e]=!0,SE(e,(e=>{delete jZ[e],JZ(NZ).concat(JZ(BZ)).forEach((t=>{new RegExp("^"+e).test(t)&&delete NZ[t]})),JZ(VZ).forEach((t=>{(new RegExp("^api_"+e).test(t)||new RegExp("^SQ_"+e).test(t))&&delete VZ[t]})),Ae&&fd("setKeepScreenOn",{keepScreenOn:!1},{})}),"VideoContext"))}Yr("updateVideoPictureInPicture",((e={},t)=>{$Z.webviewId=t,$Z.playerId=e.playerId})),Yr("videoAdPlay",(({videoPlayerId:e,type:t},r)=>{UZ[`${r}_${e}`]=t})),Yr("videoPlayerInsert",(({domId:e,videoPlayerId:t,pluginId:r,nodeId:n,nodeInfo:i,data:a},o)=>{var s=`${o}_${r}_${e}_`;n&&n!==up(o)&&(s+=n),NZ[s]=t,n0(i,t,o),FZ.emit("videoPlayerInsert"),XZ(o),HZ[`${o}_${t}`]=a||{}})),Yr("xWebVideoInserted",(({domId:e,viewId:t,pluginId:r,nodeId:n,data:i},a)=>{var o=`${a}_${r}_${e}_`;n&&n!==up(a)&&(o+=n),NZ[o]=t,HZ[`${a}_${t}`]=i||{},FZ.emit("videoPlayerInsert"),XZ(a)})),Yr("videoPlayerUpdated",(({action:e,value:t,videoPlayerId:r},n)=>{i0({_videoId:r,_webviewId:n},e,t)})),Yr("videoPlayerRemoved",(({domId:e,videoPlayerId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==up(i)&&(a+=n),delete NZ[a],a0(t,i);var o=`api_${i}_${r}_${e}_`;n&&n!==up(i)&&(o+=n);var s=`SQ_${i}_${t}`;delete VZ[o],delete VZ[s],delete HZ[`${i}_${t}`]})),Yr("xWebVideoRemoved",(({domId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==up(n)&&(i+=r);var a=NZ[i];delete NZ[i],delete HZ[`${n}_${a}`]})),Yr("xWebVideoSupported",(({isXWebSupported:e})=>{GZ=GZ&&e})),Yr("insertVideoToWebLayerStateChanged",(({viewId:e,inserted:t},r)=>{qZ[`${r}_${e}`]=t}));var YZ={},QZ=az();Yr("onGetVideoInfo",(({callbackId:e,info:t}={})=>{var r=YZ[e];YZ[e]=null,r&&r(t)})),re.onReady((()=>{re.global&&re.global.window&&"seperated"===re.global.window.renderingMode&&(KZ=!1,GZ=!1)}));class ZZ{}var e0=(OZ=class{constructor(e,t){var r=this.exportContext=new ZZ;zZ.forEach((e=>{r[e]=this[e].bind(this)})),r._videoId=e,r._webviewId=t}play(){var e=this._getAppStatus();e===eu.BACK_GROUND||e===eu.LOCK||MZ().status===TZ.Moving||this._invokeMethod("play")}pause(){this._invokeMethod("pause")}stop(){this._invokeMethod("stop")}seek(e,t="accurate"){if("accurate"!==t&&"inaccurate"!==t)throw new Ad("Parameter 2 must either be `accurate` or be `inaccurate`");this._invokeMethod("seek",[e,t])}sendDanmu({text:e,color:t}){this._invokeMethod("sendDanmu",[e,t])}playbackRate(e){.5!==(e=parseFloat(e.toFixed(2)))&&.8!==e&&1!==e&&1.25!==e&&1.5!==e&&2!==e||this._invokeMethod("playbackRate",[e])}requestFullScreen(e={}){var t=Dx(),r=SZ(yZ.onVideoFullScreenChange);if(this._getInfo((e=>{mZ("VideoContext.requestFullScreen",{src:e.src},t,r)})),PZ())dj({icon:"none",title:"该场景不支持全屏"});else if(!r){var n=e.direction;[0,90,-90].indexOf(n)>-1?this._invokeMethod("requestFullScreen",[n]):this._invokeMethod("requestFullScreen"),WZ.set(this,!0)}}exitFullScreen(){this._invokeMethod("exitFullScreen"),this.showStatusBar(),WZ.set(this,!1)}showStatusBar(e={}){fd("showStatusBar",e)}hideStatusBar(e={}){if(ke){var t="hideStatusBar:ok";return"function"==typeof e.success&&e.success({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}if(!WZ.get(this)){var r="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:r}),void("function"==typeof e.complete&&e.complete({errMsg:r}))}fd("hideStatusBar",e)}exitPictureInPicture(e={}){if($Z){var t=$Z.playerId;Ie?fd("operateVideoPlayer",{...e,videoPlayerId:t,type:"exitPictureInPicture"},{beforeAll(e){e.errMsg=e.errMsg.replace("operateVideoPlayer","exitPictureInPicture")}}):ke&&fd("operateXWebVideo",{...e,viewId:t,type:"exitPictureInPicture"},{beforeAll(e){e.errMsg=e.errMsg.replace("operateXWebVideo","exitPictureInPicture")}})}}requestBackgroundPlayback(){this._invokeMethod("requestBackgroundPlayback",[])}exitBackgroundPlayback(){this._invokeMethod("exitBackgroundPlayback",[])}hidePoster(){this._invokeMethod("hidePoster")}startCasting(e){Dx()&&this._getInfo((t=>{this._invokeMethod("startCasting",[t.src],e)}))}switchCasting(e){Dx()&&this._invokeMethod("switchCasting",[],e)}reconnectCasting(e){Dx()&&this._invokeMethod("reconnectCasting",[],e)}exitCasting(e){Dx()&&this._invokeMethod("exitCasting",[],e)}_invokeMethodWithId(e,t,r){"number"==typeof e?function(){if("begin"!==UZ[`${this.webviewId}_${e}`])if(KZ&&(ke&&GZ||Ie&&qZ[`${this.webviewId}_${e}`])&&["requestFullScreen","exitFullScreen","sendDanmu","seek","stop","play","pause"].indexOf(t)>-1)qr(`video_${this.webviewId}_${e}_actionChanged`,{method:t,data:r},[this.webviewId]);else{var n=this._getAppStatus();if(!LZ&&n===eu.BACK_GROUND&&"stop"===t){var i="operateVideoPlayerBackground";return ke&&GZ&&(i="operateXWebVideoBackground"),void fd(i,{viewId:e,videoPlayerId:e,type:t})}LZ?(this._sendAction(e,{method:t,data:r}),["play","pause","stop","seek","playbackRate"].indexOf(t)>-1&&i0(this.exportContext,t,r&&r[0])):ke&&GZ?fd("operateXWebVideo",{viewId:e,type:t,data:r}):fd("operateVideoPlayer",{data:r,videoPlayerId:e,type:t})}else console.error(`${t}:fail cannot operate video while ad playing.`)}.apply(this):FZ.once("videoPlayerInsert",(()=>{this._invokeMethod(t,r)}))}_sendActionWithEvnetName(e,t){qr(e,t,[this.webviewId])}_getInfo(e){var t=QZ.next();YZ[t]=e;var r=this._getVideoPlayerId();r?this._sendActionWithEvnetName(`video_${this.webviewId}_${r}_getInfo`,{callbackId:t}):FZ.once("videoPlayerInsert",(()=>{this._sendActionWithEvnetName(`video_${this.webviewId}_${this._getVideoPlayerId()}_getInfo`,{callbackId:t})}))}_getAppStatus(){return su.appStatus}_getHanged(){return su.hanged}},G()(OZ.prototype,"startCasting",[Nt],Object.getOwnPropertyDescriptor(OZ.prototype,"startCasting"),OZ.prototype),G()(OZ.prototype,"switchCasting",[Nt],Object.getOwnPropertyDescriptor(OZ.prototype,"switchCasting"),OZ.prototype),G()(OZ.prototype,"reconnectCasting",[Nt],Object.getOwnPropertyDescriptor(OZ.prototype,"reconnectCasting"),OZ.prototype),G()(OZ.prototype,"exitCasting",[Nt],Object.getOwnPropertyDescriptor(OZ.prototype,"exitCasting"),OZ.prototype),OZ);class t0 extends e0{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new Ad("Parameter 1 should be a string");this.domId=e,this.webviewId=t,this.pluginId=n,this.nodeId=r}_getVideoPlayerId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return NZ[e]}_invokeMethod(e,t){var r=this._getVideoPlayerId();this._invokeMethodWithId(r,e,t)}_sendAction(e,t){this._sendActionWithEvnetName(`video_${this.webviewId}_${e}_actionChanged`,t)}}class r0 extends e0{constructor(e,t){super(e,t),this.videoPlayerId=e,this.webviewId=t}_getVideoPlayerId(){return this.videoPlayerId}_invokeMethod(e,t){var r=this._getVideoPlayerId();this._invokeMethodWithId(r,e,t)}_sendAction(e,t){this._sendActionWithEvnetName(`video_${this.webviewId}_${e}_actionChanged`,t)}}function n0(e,t,r){if(Ce){var n=document.createElement("video");e.elem=n,BZ[`${r}_${t}`]=e,n.controls=!1,n.preload="auto",n.muted=!0,n.autoplay=e.autoplay,n.style.width=e.width+"px",n.style.height=e.height+"px"}}function i0(e,t,r){if(Ce&&void 0!==e._webviewId){var n=BZ[`${e._webviewId}_${e._videoId}`].elem;switch(t){case"setSrc":n.src=r;break;case"play":n.play();break;case"pause":case"stop":n.pause();break;case"seek":0===n.readyState||1===n.readyState?n.oncanplay=()=>{n.currentTime=r,n.oncanplay=null}:n.currentTime=r;break;case"playbackRate":n.playbackRate=r}}}function a0(e,t){delete BZ[`${t}_${e}`]}function o0(e){return BZ[`${e._webviewId}_${e._videoId}`].elem}function s0(e,t,r="",n=""){var i=`api_${t}_${n}_${e}_`;if(r&&r!==up(t)&&(i+=r),VZ[i])return VZ[i].exportContext;var a=new t0(e,t,r,n);return VZ[i]=a,a.exportContext}function l0(e,t){var r=`SQ_${t}_${e}`;if(VZ[r])return VZ[r].exportContext;var n=new r0(e,t);return VZ[r]=n,n.exportContext}function c0(){return f.g.WeixinCanvas}var u0=ke,d0=()=>u0;Ie&&re.onReady((()=>{Wf({experimentId:"clicfg_canvas_use_magic_brush",experimentType:"Expt",success:e=>{JSON.stringify(e),void 0!==(null==e?void 0:e.testConfig)&&(u0="1"===e.testConfig)}})}));class p0 extends vX{loadFontFace(e){var t=Vg.loadFont||f.g.loadFont;"function"==typeof t&&e.forEach((e=>{t(e.src,{family:e.family||"",style:e.style||"",weight:e.weight||"",variant:e.variant||""})}))}}var h0=(e,t)=>{var r=Vg.findElementById(t.canvasNumber);if(!r)throw new Error("Cannot find canvas instance");return e._innerId=r.__id,r},f0=(e,t)=>{var r=new Vg.OffscreenCanvas(t.width,t.height);return e._innerId=r.__id,r};class g0 extends _X{constructor(e){super(e),vX.initialize(g0,p0);var{webviewId:t,canvasNumber:r}=e;this.id=e.canvasNumber,null===t&&(this.isOffscreenCanvas=!0);var n=null===t?f0(this,e):h0(this,e);"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||mX,n.height=e.height||yX):(n.width=mX,n.height=yX),aX(r,this,n)}getContext(e,t){var r=GJ(this),n="wgfx"===e&&r.isXrFrame;if(e!==r.type&&!n)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var i=nX(this);if(i)return!["webgl","webgl2"].includes(e)||null!=t&&t.alpha||qr("WebGLSetOpaqueBackground",{canvasNumber:this.id}),CJ(z0)(i.getContext(e,t),this);console.error("Canvas getContext failed due to missing canvas instance")}_onUpdated(){}_onRemoved(){}get width(){return nX(this).width}set width(e){var t=nX(this);t&&(t.width=e)}get height(){return nX(this).height}set height(e){var t=nX(this);t&&(t.height=e)}createImage(){var e=GJ(this),t=new Vg.Image;return new B0(_J(t),e)}createImageData(...e){return new(Vg.ImageData||f.g.ImageData)(...e)}static createPath2D(...e){return new(Vg.Path2D||f.g.Path2D)(...e)}createPath2D(...e){return g0.createPath2D(...e)}requestAnimationFrame(e){return Vg.requestAnimationFrame(e)}cancelAnimationFrame(e){return Vg.cancelAnimationFrame(e)}toDataURL(e,t){var r=nX(this);return r?r.toDataURL(e,t):""}}var v0=new WeakSet;function m0(e){if(!e||v0.has(e))return e;if(v0.add(e),e.fill){var t=e.fill.bind(e);e.fill=e=>e?t(e,e):t()}if(e.putImageData){var r=e.putImageData.bind(e);e.putImageData=(e,...t)=>0===e||"object"!=typeof e?null:r(e,...t)}return e}class y0{sync(e){this.t=setInterval((()=>{e()}),1e3/60)}dispose(){clearInterval(this.t)}}var b0=oz;class _0{constructor(e){this.id=0,this.canvasView=e,this.callbacks=new Map,this.vSync=new y0,this.vSync.sync((()=>{var e=new Map(this.callbacks);this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[b0.now()])})),this.canvasView.present()}))}swap(){this.canvasView.swapSurface()}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}var w0=new WeakMap;ke&&Ut("onXWebCanvasSurfaceChange",((e={},t)=>{var r=tX(e.viewId),n=w0.get(r);n&&n.swap()}));class S0 extends vX{constructor(...e){super(...e),this._loadedFontAssets=[]}loadFontFace(e){var t,r=this,n=[],i=function(e){var t=r._loadedFontAssets.find((t=>t.src===e.src||t.originalSrc===e.originalSrc));t||n.push(e)};for(var a of e)i(a);n.length&&(this._loadedFontAssets.push(...n),ke?t=Vg.SkiaCanvasLoadNewFont||f.g.SkiaCanvasLoadNewFont:Ie&&(t=f.g.skiacanvasLoadNewFont),"function"==typeof t&&t(e.map((e=>({src:e.src||"",family:e.family||"",style:e.style||"",weight:e.weight||"",variant:e.variant||""})))))}}var C0=(e,t)=>{if(Ie)return new f.g.Canvas(t.canvasNumber);if(ke){var r=(Vg.HTMLCanvasView||f.g.HTMLCanvasView).createView(t.canvasNumber),n=(Vg.HTMLCanvasElement||f.g.HTMLCanvasElement).createElement(r),i=new _0(r);return w0.set(e,i),n}};class k0 extends _X{constructor(e){super(e),vX.initialize(k0,S0);var{webviewId:t,canvasNumber:r}=e;this.id=e.canvasNumber,null===t&&(this.isOffscreenCanvas=!0);var n=C0(this,e);aX(r,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||mX,n.height=e.height||yX):(n.width=mX,n.height=yX)}_onUpdated(){}_onRemoved(){var e=w0.get(this);e&&(e.dispose(),w0.delete(this))}getContext(e,t){if("2d"!==e)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var r=nX(this);if(!r)return console.error("Canvas getContext failed due to missing canvas instance"),null;if(this._ctx)return this._ctx;var n=CJ(z0,m0)(r.getContext("2d",t),this);return Object.defineProperty(this,"_ctx",{value:n}),n}get width(){return nX(this).width}set width(e){var t=nX(this);t&&(t.width=e)}get height(){return nX(this).height}set height(e){var t=nX(this);t&&(t.height=e)}createImage(){var e,t=GJ(this);return Ie?e=new f.g.Image:ke&&(e=new(Vg.SkiaImages||SkiaImage)),new B0(_J(e),t)}createImageData(e,t,r){return e?(t=parseFloat(t),r=parseFloat(r),Ie?new f.g.ImageData(e,t,r):ke?new(Vg.SkiaImageData||f.g.SkiaImageData)(e,t,r):void 0):null}static createPath2D(...e){var t=ke?Vg.SkiaPath2D||f.g.SkiaPath2D:f.g.Path2D;return 0===e.length?new t:1===e.length?new t(...e):null}createPath2D(...e){return k0.createPath2D(...e)}requestAnimationFrame(e){return Ie?c0().requestAnimationFrame(e):ke?re.useSkiaCanvasRaf?(Vg.SkiaCanvasRequestAnimationFrame||f.g.SkiaCanvasRequestAnimationFrame)(e):w0.get(this).requestAnimationFrame(e):void 0}cancelAnimationFrame(e){if(Ie)return c0().cancelAnimationFrame(e);ke&&(re.useSkiaCanvasRaf?(Vg.SkiaCanvasCancelAnimationFrame||f.g.SkiaCanvasCancelAnimationFrame)(e):w0.get(this).cancelAnimationFrame(e))}toDataURL(e,t){var r=nX(this);return r?r.toDataURL(e,t):""}}var I0=()=>Ie;class P0 extends vX{loadFontFace(e){var t=c0().loadFont||f.g.loadFont;"function"==typeof t&&e.forEach((e=>{t(e.src,{family:e.family||"",style:e.style||"",weight:e.weight||"",variant:e.variant||""})}))}}var T0=(e,t)=>c0().createCanvas(t.canvasNumber),A0=(e,t)=>{var r=t.canvasNumber;fd("insertWebGLCanvas",{position:{top:-100,left:-100,width:1,height:1},canvasId:r,keepAlive:!0,fail:e=>{}}),e._registerId=r;var n=c0().createOffscreenCanvas(r,t.width,t.height);return e._innerId=n.__id,n};class x0 extends _X{constructor(e){super(e),vX.initialize(x0,P0);var{webviewId:t,canvasNumber:r}=e;this.id=e.canvasNumber,null===t&&(this.isOffscreenCanvas=!0);var n=null===t?A0(this,e):T0(this,e);"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||mX,n.height=e.height||yX):(n.width=mX,n.height=yX),aX(r,this,n)}getContext(e,t){var r=GJ(this),n="wgfx"===e&&r.isXrFrame;if(e!==r.type&&!n)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var i=nX(this);if(i)return!["webgl","webgl2"].includes(e)||null!=t&&t.alpha||qr("WebGLSetOpaqueBackground",{canvasNumber:this.id}),CJ(z0)(i.getContext(e,t),this);console.error("Canvas getContext failed due to missing canvas instance")}_onUpdated(){}_onRemoved(){}get width(){return nX(this).width}set width(e){var t=nX(this);t&&(t.width=e)}get height(){return nX(this).height}set height(e){var t=nX(this);t&&(t.height=e)}createImage(){var e=GJ(this),t=c0().createImage(this.isOffscreenCanvas?this._registerId:this.id);return new B0(_J(t),e)}createImageData(...e){return new(c0().ImageData)(...e)}static createPath2D(...e){return new(c0().Path2D)(...e)}createPath2D(...e){return x0.createPath2D(...e)}requestAnimationFrame(e){return c0().requestAnimationFrame(e)}cancelAnimationFrame(e){return c0().cancelAnimationFrame(e)}toDataURL(e,t){var r=nX(this);return r?r.toDataURL(e,t):""}}var E0=e=>()=>{setTimeout((()=>{e()}),0)},M0=new WeakMap,R0=new WeakMap,D0=new WeakMap,O0=e=>M0.get(e),L0=e=>R0.get(e),N0=e=>D0.get(e);class B0{constructor(e,t,r){var n={};M0.set(this,n),R0.set(this,e),D0.set(this,t),e.onload=E0((()=>{"function"==typeof this.__onload&&this.__onload.apply(this),n.load&&n.load.forEach((e=>{try{e.apply(this)}catch(e){}}))})),e.onerror=E0((()=>{"function"==typeof this.__onerror&&this.__onerror.apply(this),n.error&&n.error.forEach((e=>{try{e.apply(this)}catch(e){}}))}))}set src(e){/^(http|https):\/\//.test(e)&&(e=TJ(e));var t=N0(this);L0(this).src=yJ(e,t.nodeId,t.pluginId,t.webviewId)}set referrerPolicy(e){"string"==typeof e&&(L0(this).referrerPolicy=e)}set onload(e){Object.defineProperty(this,"__onload",{value:e,writable:!0,configurable:!0,enumerable:!1})}set onerror(e){Object.defineProperty(this,"__onerror",{value:e,writable:!0,configurable:!0,enumerable:!1})}get referrerPolicy(){return L0(this).referrerPolicy}get src(){return L0(this).src}get onload(){return this.__onload}get onerror(){return this.__onerror}get complete(){return L0(this).complete}get width(){return L0(this).width}get height(){return L0(this).height}addEventListener(e,t){var r=O0(this);(r[e]=r[e]||new Set).add(t)}removeEventListener(e,t){var r=O0(this);r[e]&&r[e].delete(t)}}var $0=new WeakMap,F0;function j0(e,t,r){var n;if(Ce)return o0(t);var i=e.id,a=null!==(n=t._videoId)&&void 0!==n?n:t._livePusherId;if(e instanceof k0){var o=$0.get(t)||{};return o[i]||(o[i]=new F0(i,a,r),$0.set(t,o)),o[i]}if(e instanceof g0||e instanceof x0){var s;if(!$0.has(t))(s=e instanceof x0?c0().ExternalTexture||f.g.ExternalTexture:Vg.ExternalTexture||f.g.ExternalTexture)&&$0.set(t,new s(a,r));return $0.get(t)}return t}m.onLoad((()=>{F0=f.g.SkiaCanvasExternalTexture,delete f.g.SkiaCanvasExternalTexture}));var W0=new WeakSet;function V0(e,t){var r=L0(t),n=N0(t),i=GJ(e);if(n.isSkiaCanvas!==i.isSkiaCanvas)throw new Error("Cannot mix images created by different types of Canvas.");return xe&&r._isWebStandard||t._isWebStandard?r._imageData:r}function U0(e,t,r){if(e[r]){var n=e[r].bind(e);e[r]=(...e)=>(e.forEach(((n,i)=>{if(n instanceof B0)e[i]=V0(t,n);else if(n instanceof ZZ){var a=n;if("number"!=typeof a._videoId)throw new Error(`Failed to execute '${r}' on 'CanvasRenderingContext': The provided video context is invalid, make sure that comes from 'createSelectQuery.context'.`);e[i]=j0(t,a,"video")}else if(n instanceof lZ){var o=n;if("number"!=typeof o._livePusherId)throw new Error(`Failed to execute '${r}' on 'CanvasRenderingContext2D': The provided live-pusher context is invalid, make sure that comes from 'wx.createLivePusherContext'.`);e[i]=j0(t,o,"livepusher")}else if(n instanceof _X){var s=GJ(n),l=GJ(t);if(s.isSkiaCanvas!==l.isSkiaCanvas)throw new Error("Cannot mix different types of Canvas.");e[i]=nX(n)}})),n(...e))}}function z0(e,t){return!e||W0.has(e)||(W0.add(e),U0(e,t,"drawImage"),U0(e,t,"createPattern"),U0(e,t,"texImage2D"),U0(e,t,"texSubImage2D"),U0(e,t,"texImage3D"),U0(e,t,"texSubImage3D")),e}var q0={},H0={},G0={},K0=su.currentWebviewId;Ce&&(Yr("canvasPageScroll",((e,t)=>{"function"==typeof window.scrollTo&&(document.body.scrollWidth===e.width&&document.body.scrollHeight===e.height||(document.body.style.width=e.width+"px",document.body.style.height=e.height+"px"),window.scrollTo(e.scrollLeft,e.scrollTop),H0[t]={scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})})),Jw((e=>{var t=e.webviewId;G0[t]||(SE(t,(()=>{delete H0[t],delete q0[t],delete G0[t]}),"DevtoolsCanvas"),G0[t]=!0);var r=e.webviewId;if(r!==K0)for(var[n,i]of Object.entries(q0))if(String(n)===String(r)){for(var a of i){var o=iX(a);o&&(o.style.visibility="visible")}var s=H0[n];s?window.scrollTo(s.scrollLeft,s.scrollTop):window.scrollTo(0,0)}else for(var l of i){var c=iX(l);c&&(c.style.visibility="hidden")}K0=r})));class J0 extends vX{loadFontFace(e){return Vp()((function*(){var t=globalThis.FontFace;"function"==typeof t&&(yield Promise.all(e.map(function(){var e=Vp()((function*(e){var r=new t(e.family,`url(${e.src})`,{style:e.style,weight:e.weight,variant:e.variant});yield r.load(),document.fonts.add(r)}));return function(t){return e.apply(this,arguments)}}())))}))()}}var X0=e=>{var t=document.createElement("canvas");return t.style.position="absolute",t.style.top=(e.top||0)+"px",t.style.left=(e.left||0)+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.visibility=e.webviewId===su.currentWebviewId?"visible":"hidden",document.body.appendChild(t),t};class Y0 extends _X{constructor(e){super(e),vX.initialize(Y0,J0);var{webviewId:t,canvasNumber:r}=e;(this.id=e.canvasNumber,null!==t)?(q0[t]=q0[t]||[]).push(r):this.isOffscreenCanvas=!0;var n=X0(e);aX(r,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||mX,n.height=e.height||yX):(n.width=mX,n.height=yX)}_onUpdated(e){var t=nX(this);t.style.top=(e.top||0)+"px",t.style.left=(e.left||0)+"px",t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.display=e.width<=0||e.height<=0||e.hidden?"none":""}_onRemoved(){var{webviewId:e,canvasNumber:t}=GJ(this);if(null!==e){var r=q0[e]=q0[e]||[];r.splice(r.indexOf(t),1)}var n=nX(this);document.body.removeChild(n)}getContext(e,t){return e!==GJ(this).type?(console.error("Invalid context type ["+e+"] for Canvas#getContext"),null):CJ(z0)(nX(this).getContext(e,t),this)}createImage(){var e=GJ(this);return window.__global.createCustomImage((t=>bJ(t,e.nodeId,e.pluginId,e.webviewId)),(e=>e.replace(/^\/__pageframe__\//,"")))}createImageData(e,t,r){if(!e)return null;t=parseFloat(t),r=parseFloat(r);for(var n=document.createElement("canvas").getContext("2d").createImageData(t,r),i=0;i<e.length;i++)n.data[i]=e[i];return n}static createPath2D(...e){return window.Path2D?new window.Path2D(...e):null}createPath2D(...e){return Y0.createPath2D(...e)}requestAnimationFrame(e){return window.requestAnimationFrame(e)}cancelAnimationFrame(e){return window.cancelAnimationFrame(e)}get width(){return nX(this).width}set width(e){var t=nX(this);t&&(t.width=e)}get height(){return nX(this).height}set height(e){var t=nX(this);t&&(t.height=e)}toDataURL(e,t){var r=nX(this);return r?r.toDataURL(e,t):""}}var Q0={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"},Z0=["scale","rotate","translate","setTransform","transform"],e1=["drawImage","fillText","fill","stroke","fillRect","strokeRect","clearRect","strokeText"],t1=["setFillStyle","setTextAlign","setStrokeStyle","setGlobalAlpha","setShadow","setFontSize","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setTextBaseline","setLineDash"],r1={},n1={};function i1(e){return"number"==typeof e}function a1(e){var t=null;if(null!==(t=/^#([0-9|A-F|a-f]{6})$/.exec(e)))return[parseInt(t[1].slice(0,2),16),parseInt(t[1].slice(2,4),16),parseInt(t[1].slice(4),16),255];if(null!==(t=/^#([0-9|A-F|a-f]{3})$/.exec(e))){var r=t[1].slice(0,1),n=t[1].slice(1,2),i=t[1].slice(2,3);return[r=parseInt(r+r,16),n=parseInt(n+n,16),i=parseInt(i+i,16),255]}if(null!==(t=/^rgb\((.+)\)$/.exec(e)))return t[1].split(",").map((e=>Math.min(255,parseInt(e.trim(),10)))).concat(255);if(null!==(t=/^rgba\((.+)\)$/.exec(e)))return t[1].split(",").map(((e,t)=>3===t?Math.floor(255*parseFloat(e.trim())):Math.min(255,parseInt(e.trim(),10))));var a=e.toLowerCase();if(Rd(Q0,a)){t=/^#([0-9|A-F|a-f]{6,8})$/.exec(Q0[a]);var o=parseInt(t[1].slice(0,2),16),s=parseInt(t[1].slice(2,4),16),l=parseInt(t[1].slice(4,6),16),c=parseInt(t[1].slice(6,8),16);return[o,s,l,c=c>=0?c:255]}return console.group("非法颜色: "+e),console.error("不支持颜色："+e),console.groupEnd(),[0,0,0,255]}function o1(e){if(Array.isArray(e)){var t=[];return e.forEach((e=>{t.push(o1(e))})),t}if("object"==typeof e){var r={};for(var n in e)r[n]=o1(e[n]);return r}return e}function s1(e,t){return Ce||xe||Ae||/wxfile:\/\//.test(t)?t:mJ(t,e.nodeId,e.pluginId,e.webviewId)}class l1{constructor(e,t){this.type=e,this.data=t,this.colorStop=[]}addColorStop(e,t){x1()?this.colorStop.push([e,t]):this.colorStop.push([e,a1(t)])}}class c1{constructor(e){this.width=e}}class u1{constructor(e,t){this.image=e,this.repetition=t}}class d1{constructor(e,t,r,n){if(this.actions=[],this.path=[],this.subpath=[],this.webviewId=e,this.canvasId=t,this.pluginId=n,this.useHardwareAccelerate=!0,this.nodeId=r,this._id=hJ(e,t,n,r),this.drawingState=r1[this._id]=r1[this._id]||[],this.state=n1[this._id]=n1[this._id]||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:x1()?"#000000":Ie?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},this._transform={a:1,b:0,c:0,d:1,e:0,f:0},Ce||xe){var i=xe?new Vg.OffscreenCanvas(0,0):document.createElement("canvas");this._context=i.getContext("2d")}}getActions(){var e=o1(this.actions);return this.actions=[],this.path=[],this.subpath=[],e}clearActions(){this.actions=[],this.path=[],this.subpath=[]}draw(e=!1,t){t&&"function"!=typeof t&&(console.warn("CanvasContext.draw callback is not a function, got "+typeof t),t=null);var r=this.canvasId,n=o1(this.actions),i=this.useHardwareAccelerate;this.actions=[],this.path=[],this.useHardwareAccelerate=!0,this.isWidgetCanvas?H1({isWidgetCanvas:!0,actions:n,reserve:e}):H1({canvasId:r,actions:n,reserve:e,useHardwareAccelerate:i,complete:E.surroundThirdByTryCatch(t,"at canvasContext.draw callback function")},this.webviewId,this.pluginId,this.nodeId)}createLinearGradient(e,t,r,n){return new l1("linear",[e,t,r,n])}createCircularGradient(e,t,r){return new l1("radial",[e,t,r])}createPattern(e,t){if(void 0!==t){if(-1!==["repeat","repeat-x","repeat-y","no-repeat"].indexOf(t))return e=e instanceof B0?e.src:e instanceof y1?e._src:s1(this,e),new u1(e,t);console.error(`Failed to execute 'createPattern' on 'CanvasContext': The provided type ('${t}') is not one of 'repeat', 'no-repeat', 'repeat-x', or 'repeat-y'.`)}else console.error("Failed to execute 'createPattern' on 'CanvasContext': 2 arguments required, but only 1 present.")}measureText(e){var t;return Ce||xe?(this._context.font=this.state.font,t=this._context.measureText(e)):fd("measureText",{text:e,fontSize:this.state.fontSize,fontFamily:this.state.fontFamily,fontWeight:this.state.fontWeight,fontStyle:this.state.fontStyle,complete(e){t={width:e.width||0}}}),new c1(t.width||0)}save(){this.actions.push({method:"save",data:[]}),this.drawingState.push(this.state)}restore(){this.actions.push({method:"restore",data:[]}),this.state=n1[this._id]=this.drawingState.pop()||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:x1()?"#000000":Ie?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"}}getLineDash(){return this.state.lineDash}beginPath(){this.path=[],this.subpath=[],(Ce||x1())&&this.path.push({method:"beginPath",data:[]})}moveTo(e,t){this.path.push({method:"moveTo",data:[e,t]}),this.subpath=[[e,t]]}closePath(){this.path.push({method:"closePath",data:[]}),this.subpath.length&&(this.subpath=[this.subpath.shift()])}lineTo(e,t){0===this.path.length&&0===this.subpath.length?this.path.push({method:"moveTo",data:[].slice.apply(arguments)}):this.path.push({method:"lineTo",data:[].slice.apply(arguments)}),this.subpath.push([e,t])}quadraticCurveTo(e,t,r,n){this.path.push({method:"quadraticCurveTo",data:[e,t,r,n]}),this.subpath.push([r,n])}bezierCurveTo(e,t,r,n,i,a){this.path.push({method:"bezierCurveTo",data:[e,t,r,n,i,a]}),this.subpath.push([i,a])}arc(e,t,r,n,i,a=!1){if(!ke||x1())return this.path.push({method:"arc",data:[e,t,r,n,i,a]}),void this.subpath.push([e,t]);var o=e+Math.cos(n)*r,s=t+Math.sin(n)*r;if(this.subpath.push([o,s]),a&&n-i>=2*Math.PI||!a&&i-n>=2*Math.PI)this.subpath.push([o,s]);else{var l=e+Math.cos(i)*r,c=t+Math.sin(i)*r;this.subpath.push([l,c])}this.path.push({method:"arc",data:[e,t,r,n,i,a]})}rect(e,t,r,n){this.path.push({method:"rect",data:[e,t,r,n]}),this.subpath=[[e,t]],ke&&!x1()&&this.path.push({method:"closePath",data:[]})}arcTo(e,t,r,n,i,a){if((!ke||x1())&&!a)return this.path.push({method:"arcTo",data:[e,t,r,n,i]}),void this.subpath.push([r,n]);var o=this.subpath[this.subpath.length-1],s=o[0],l=o[1];if(s===e&&l===t||e===r&&t===n||0===i)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);if(s===e&&s===r||l===t&&l===n)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);var c,u,d,p,h,f,{sqrt:g,acos:v,sin:m,tan:y,atan:b,PI:_}=Math,w=function(e){return e**2},S=s-e,C=l-t,k=r-e,I=n-t,P=v((S*k+C*I)/(g(w(S)+w(C))*g(w(k)+w(I))))/2,T=Math.round(i/m(P)*1e6)/1e6,A=Math.round(i/y(P)*1e6)/1e6;if(s-e==0)c=e,u=l-t>0?t+A:t-A;else if(l-t==0)c=s-e>0?e+A:e-A,u=t;else{var x=(l-t)/(s-e),E=l-x*s;u=x*(c=(g(w(S)+w(C))*A+S*e+C*t-E*C)/(S+x*C))+E}if(r-e==0)d=e,p=n-t>0?t+A:t-A;else if(n-t==0)d=r-e>0?e+A:e-A,p=t;else{var M=(n-t)/(r-e),R=n-M*r;p=M*(d=(g(w(k)+w(k))*A+k*e+I*t-R*I)/(k+M*I))+R}var D=(c+d)/2-e,O=(u+p)/2-t;if(0===O)h=e,f=O>0?t+T:t-T;else{var L=O/D,N=t-L*e;f=L*(h=(g(w(D)+w(O))*T+e*D+t*O-N*O)/(D+L*O))+N}h=Math.round(1e6*h)/1e6;var B=u-(f=Math.round(1e6*f)/1e6),$=c-h,F=_-2*P,j=b(B/$);0===B&&$<0&&(j=Math.PI);var W=(c-h)*(p-f)-(u-f)*(d-h);this.path.push({method:"arc",data:[h,f,i,j,W>0?j+F:j-F,W<0]}),this.subpath.push([d,p])}getTransform(){return this._transform}_setWidthTransformFactor(e){this.clearActions(),this.draw(!1),this._widthTransformFactor=e,this.setTransform(1,0,0,1,0,0)}_setHeightTransformFactor(e){this.clearActions(),this.draw(!1),this._heightTransformFactor=e,this.setTransform(1,0,0,1,0,0)}clip(){this.actions.push({method:"clip",data:o1(this.path)})}set lineDashOffset(e){if(Ce||xe||Ae)this.actions.push({method:"setLineDashOffset",data:[e]});else{var t=this.state.lineDash||[0,0];this.actions.push({method:"setLineDash",data:[t,e]})}}set globalCompositeOperation(e){this.actions.push({method:"setGlobalCompositeOperation",data:[e]})}set shadowBlur(e){Ce||xe||Ae?this.actions.push({method:"setShadowBlur",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,e,this.state.shadowColor]}),this.state.shadowBlur=e)}set shadowColor(e){var t;Ce||xe||Ae?this.actions.push({method:"setShadowColor",data:[e]}):(t=x1()?e:Ie&&0===this.state.shadowBlur?[]:a1(e),this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,this.state.shadowBlur,t]}),this.state.shadowColor=t)}set shadowOffsetX(e){Ce||xe||Ae?this.actions.push({method:"setShadowOffsetX",data:[e]}):(this.actions.push({method:"setShadow",data:[e,this.state.shadowOffsetY,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetX=e)}set shadowOffsetY(e){Ce||xe||Ae?this.actions.push({method:"setShadowOffsetY",data:[e]}):(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,e,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetY=e)}set font(e){this.state.font=e;var t=e.match(/^(([\w-]+\s)*)(\d+r?px)(\/(\d+\.?\d*(r?px)?))?\s+(.*)/);if(t){var r=t[1].trim().split(/\s/),n=parseFloat(t[3]),i=t[7],a=[],o="",s=this;if(r.forEach(((e,t)=>{["italic","oblique","normal"].indexOf(e)>-1?(a.push({method:"setFontStyle",data:[e]}),this.state.fontStyle=e):["bold","normal"].indexOf(e)>-1?(a.push({method:"setFontWeight",data:[e]}),this.state.fontWeight=e):0===t?(a.push({method:"setFontStyle",data:["normal"]}),s.state.fontStyle="normal"):1===t&&l()})),1===r.length&&l(),o=a.map((e=>e.data[0])).join(" "),this.state.fontSize=n,this.state.fontFamily=i,Ce||xe||Ae)return o=`${o} ${n}px ${i}`,void this.actions.push({method:"setFont",data:[o]});this.actions.push.apply(this.actions,a),this.actions.push({method:"setFontSize",data:[n]},{method:"setFontFamily",data:[i]})}else console.warn("Failed to set 'font' on 'CanvasContext': invalid format.");function l(){a.push({method:"setFontWeight",data:["normal"]}),s.state.fontWeight="normal"}}get font(){return this.state.font}set fillStyle(e){p1(this,"setFillStyle",e)}set strokeStyle(e){p1(this,"setStrokeStyle",e)}set globalAlpha(e){e=Math.floor(255*parseFloat(e)),this.actions.push({method:"setGlobalAlpha",data:[e]})}set textAlign(e){this.actions.push({method:"setTextAlign",data:[e]})}set lineCap(e){this.actions.push({method:"setLineCap",data:[e]})}set lineJoin(e){this.actions.push({method:"setLineJoin",data:[e]})}set lineWidth(e){this.actions.push({method:"setLineWidth",data:[e]})}set miterLimit(e){this.actions.push({method:"setMiterLimit",data:[e]})}set textBaseline(e){this.actions.push({method:"setTextBaseline",data:[e]})}}function p1(e,t,r){"string"==typeof r?x1()?e.actions.push({method:t,data:["normal",r]}):e.actions.push({method:t,data:["normal",a1(r)]}):"object"==typeof r&&r instanceof l1?e.actions.push({method:t,data:[r.type,r.data,r.colorStop]}):r instanceof u1&&e.actions.push({method:t,data:["pattern",r.image,r.repetition]})}[].concat(Z0,e1).forEach((e=>{d1.prototype[e]="fill"===e||"stroke"===e?function(){this.actions.push({method:e+"Path",data:o1(this.path)})}:"fillRect"===e?function(e,t,r,n){this.actions.push({method:"fillPath",data:[{method:"rect",data:[e,t,r,n]}]})}:"strokeRect"===e?function(e,t,r,n){this.actions.push({method:"strokePath",data:[{method:"rect",data:[e,t,r,n]}]})}:"fillText"===e||"strokeText"===e?function(t,r,n,i){var a=[t.toString(),r,n];"number"==typeof i&&a.push(i),this.actions.push({method:e,data:a})}:"drawImage"===e?function(t,r,n,i,a,o,s,l,c){var u;t=t instanceof y1?t._src:s1(this,t),void 0===c&&(o=r,s=n,l=i,c=a,r=void 0,n=void 0,i=void 0,a=void 0),u=i1(r)&&i1(n)&&i1(i)&&i1(a)?[t,o,s,l,c,r,n,i,a]:i1(l)&&i1(c)?[t,o,s,l,c]:[t,o,s],this.actions.push({method:e,data:u})}:"clearRect"===e?function(){this.useHardwareAccelerate=!1,this.actions.push({method:e,data:[].slice.apply(arguments)})}:"transform"===e?function(t,r,n,i,a,o){var{a:s,b:l,c:c,d:u,e:d,f:p}=this._transform;this._transform={a:t*s+r*c,b:t*l+r*u,c:n*s+i*c,d:n*l+i*u,e:a*s+o*c+d,f:a*l+o*u+p},this.actions.push({method:e,data:[t,r,n,i,a,o]})}:"setTransform"===e?function(t,r,n,i,a,o){this._transform={a:t,b:r,c:n,d:i,e:a,f:o};var s=1/(this._widthTransformFactor||1),l=1/(this._heightTransformFactor||1);this.actions.push({method:e,data:[t*s,r*l,n*s,i*l,a*s,o*l]})}:"scale"===e?function(t,r){var{a:n,b:i,c:a,d:o,e:s,f:l}=this._transform;this._transform={a:n*t,b:i*t,c:a*r,d:o*r,e:s,f:l},this.actions.push({method:e,data:[t,r]})}:function(){this.actions.push({method:e,data:[].slice.apply(arguments)})}})),t1.forEach((e=>{"setFillStyle"===e||"setStrokeStyle"===e?d1.prototype[e]=function(){p1(this,e,arguments[0])}:"setGlobalAlpha"===e?d1.prototype[e]=function(){var t=[].slice.apply(arguments,[0,1]);t[0]=Math.floor(255*parseFloat(t[0])),this.actions.push({method:e,data:t})}:"setShadow"===e?d1.prototype[e]=function(){var t=[].slice.apply(arguments,[0,4]);x1()||(t[3]=Ie&&0===t[2]?[]:a1(t[3])),this.actions.push({method:e,data:t}),this.state.shadowBlur=t[2],this.state.shadowColor=t[3],this.state.shadowOffsetX=t[0],this.state.shadowOffsetY=t[1]}:"setLineDash"===e?d1.prototype[e]=function(){var t=[].slice.apply(arguments,[0,2]);t[0]=Ie?t[0]&&!t[0].every((e=>0===e))?t[0]:[]:t[0]&&t[0].length?t[0]:[0,0],t[1]=t[1]||0,this.actions.push({method:e,data:t}),this.state.lineDash=t[0]}:"setFontSize"===e?d1.prototype.setFontSize=function(e){this.state.font=this.state.font.replace(/\d+\.?\d*px/,e+"px"),this.state.fontSize=e,this.actions.push({method:"setFontSize",data:[e]})}:d1.prototype[e]=function(){this.actions.push({method:e,data:[].slice.apply(arguments,[0,1])})}}));class h1{constructor(e){this.actions=[],e instanceof h1&&this.actions.push(...e.actions)}addPath(e){e instanceof h1&&this.actions.push(...e.actions)}arc(...e){this.actions.push({method:"arc",args:e})}arcTo(...e){this.actions.push({method:"arcTo",args:e})}bezierCurveTo(...e){this.actions.push({method:"bezierCurveTo",args:e})}closePath(...e){this.actions.push({method:"closePath",args:e})}ellipse(...e){this.actions.push({method:"ellipse",args:e})}lineTo(...e){this.actions.push({method:"lineTo",args:e})}moveTo(...e){this.actions.push({method:"moveTo",args:e})}quadraticCurveTo(...e){this.actions.push({method:"quadraticCurveTo",args:e})}rect(...e){this.actions.push({method:"rect",args:e})}}function f1(e,t){e.beginPath(),t.actions.forEach((({method:t,args:r})=>{e[t](...r)}))}var g1=new WeakSet;function v1(e){if(!e||g1.has(e))return e;if(g1.add(e),e.fill){var t=e.fill.bind(e);e.fill=(...r)=>r[0]instanceof h1?(f1(e,r[0]),t(...r.slice(1))):t(...r)}if(e.stroke){var r=e.stroke.bind(e);e.stroke=(...t)=>t[0]instanceof h1?(f1(e,t[0]),r(...t.slice(1))):r(...t)}if(e.clip){var n=e.clip.bind(e);e.clip=(...t)=>t[0]instanceof h1?(f1(e,t[0]),n(...t.slice(1))):n(...t)}return e}class m1{constructor(e,t,r,n){this._canvasNumber=e,this._context=t,this._w=r,this._h=n,this._originalWidth=r,this._originalHeight=n}getContext(){return this._context}set width(e){this._context._setWidthTransformFactor(e/this._originalWidth),this._w=e}get width(){return this._w}set height(e){this._context._setHeightTransformFactor(e/this._originalHeight),this._h=e}get height(){return this._h}}class y1{constructor(){this._src=null,this._referrerPolicy=""}setSrc(e){this._src=e,/^(http|https):\/\//.test(e)?FC({url:e,success:e=>{this._src=e.tempFilePath,"function"==typeof this.onload&&this.onload()},fail:this.onerror||(()=>{})}):(/^\s*data:image\//.test(e)||/wxfile:\/\//.test(e)||(this._src="/"+e),"function"==typeof this.onload&&this.onload())}getSrc(){return this._src}getReferrerPolicy(){return this._referrerPolicy}setReferrerPolicy(e){this._referrerPolicy=e}}class b1{sync(e){var t=()=>{e(),this.t=setTimeout(t,1e3/60)};this.t=setTimeout(t,1e3/60)}dispose(){clearInterval(this.t)}}var _1=oz;class w1{constructor(e,t){this.id=0,this.context=e,this.canvasInstance=t,this.callbacks=new Map,this.vSync=new b1,this.vSync.sync((()=>{var e=new Map(this.callbacks);if(this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[_1.now()])})),this.context.actions.length>0){for(var t=!0,r=this.context.actions,n=0;n<r.length;n++)if("clearRect"===r[n].method){var[i,a,o,s]=r[n].data;t=i>0||a>0||o<this.canvasInstance.width||s<this.canvasInstance.height}this.context.draw(t)}}))}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}var S1=new WeakMap,C1=(e,t)=>{var r=new d1(t.webviewId,t.canvasId,t.nodeId,t.pluginId),n=new m1(t.canvasNumber,r,t.width,t.height),i=new w1(r,n);return S1.set(e,i),n};class k1 extends _X{constructor(e){super(e);var{canvasNumber:t}=e;this.id=e.canvasNumber;var r=C1(this,e);r.width=mX,r.height=yX,aX(t,this,r)}_onUpdated(){}_onRemoved(){S1.get(this).dispose(),S1.delete(this)}getContext(e){return"2d"!==e?(console.error("Invalid context type ["+e+"] for Canvas#getContext"),null):CJ(z0,v1)(nX(this).getContext(),this)}get width(){var e=nX(this);return e&&e.width}set width(e){nX(this).width=e}get height(){var e=nX(this);return e&&e.height}set height(e){nX(this).height=e}createImage(){var e=GJ(this),t=new y1;return new B0(_J(t),e)}createImageData(){return null}static createPath2D(...e){return new h1(...e)}createPath2D(...e){return k1.createPath2D(...e)}requestAnimationFrame(e){return S1.get(this).requestAnimationFrame(e)}cancelAnimationFrame(e){S1.get(this).cancelAnimationFrame(e)}toDataURL(e,t){return null}}var I1=e=>{var t={};return r=>t[r]=t[r]||new Promise((t=>{var n=e.createImage();n.onload=()=>t(n),n.src=r}))},P1=new WeakMap,T1=e=>{if(!P1.has(e)){var t=[],r=I1(e),n=!1,i=function(){var a=Vp()((function*(){if(!n&&t.length){n=!0;var a,[o,s,l,c]=t.shift(),u=e.getContext("2d");try{!1===s&&(u.fillStyle="#000000",u.strokeStyle="#000000",u.shadowColor="#000000",u.shadowBlur=0,u.shadowOffsetX=0,u.shadowOffsetY=0,u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,e.width,e.height));for(var d=function*(){var{method:t,data:n}=o[p];switch(t){case"setLineDash":u.setLineDash(n[0]),u.lineDashOffset=n[1]||0;break;case"setLineDashOffset":u.lineDashOffset=n[0];break;case"setLineCap":u.lineCap=n[0];break;case"setLineJoin":u.lineJoin=n[0];break;case"setLineWidth":u.lineWidth=n[0];break;case"setFillStyle":case"setStrokeStyle":var i=void 0;switch(n[0]){case"normal":i=n[1];break;case"linear":i=u.createLinearGradient(...n[1]),n[2].forEach((e=>{var t=e[0],r=e[1];i.addColorStop(t,r)}));break;case"radial":var a=n[1][0],s=n[1][1],l=[a,s,0,a,s,n[1][2]];i=u.createRadialGradient(...l),n[2].forEach((e=>{var t=e[0],r=e[1];i.addColorStop(t,r)}));break;case"pattern":var c=yield r(n[1]);i=u.createPattern(c,n[2])}u[t[3].toLowerCase()+t.slice(4)]=i;break;case"setGlobalAlpha":u.globalAlpha=n[0]/255;break;case"setGlobalCompositeOperation":u.globalCompositeOperation=n[0];break;case"setShadow":u.shadowOffsetX=n[0],u.shadowOffsetY=n[1],u.shadowBlur=n[2],u.shadowColor=n[3];break;case"setShadowOffsetX":u.shadowOffsetX=n[0];break;case"setShadowOffsetY":u.shadowOffsetY=n[0];break;case"setShadowBlur":u.shadowBlur=n[0];break;case"setShadowColor":u.shadowColor=n[0];break;case"setFont":u.font=n[0];break;case"setFontSize":u.font=u.font.replace(/\d+\.?\d*px/,n[0]+"px");break;case"setFontStyle":u.fontStyle=n[0];break;case"setFontWeight":u.fontWeight=n[0];break;case"setFontFamily":u.fontFamily=n[0];break;case"setTextBaseline":u.textBaseline="normal"===n[0]?"alphabetic":n[0];break;case"setTextAlign":u.textAlign=n[0];break;case"setMiterLimit":u.miterLimit=n[0];break;case"save":u.save(...n);break;case"restore":u.restore(...n);break;case"lineTo":u.lineTo(...n);break;case"clip":n.forEach((e=>{u[e.method](...e.data)})),u.clip();break;case"scale":u.scale(...n);break;case"rotate":var d=n;n&&n.map&&(d=n.map((e=>"string"==typeof e?parseFloat(e):e))),u.rotate(...d);break;case"translate":u.translate(...n);break;case"transform":u.transform(...n);break;case"setTransform":u.setTransform(...n);break;case"fill":u.fill(...n);break;case"fillText":var[h,...f]=n;f&&f.map&&(f=f.map((e=>"string"==typeof e?parseFloat(e):e))),u.fillText(h,...f);break;case"fillRect":u.fillRect(...n);break;case"fillPath":u.beginPath(),n.forEach((e=>{u[e.method](...e.data)})),u.fill();break;case"stroke":u.stroke(...n);break;case"strokeText":var[g,...v]=n;v&&v.map&&(v=v.map((e=>"string"==typeof e?parseFloat(e):e))),u.strokeText(g,...v);break;case"strokeRect":u.strokeRect(...n);break;case"strokePath":u.beginPath(),n.forEach((e=>{u[e.method](...e.data)})),u.stroke();break;case"clearRect":u.clearRect(...n);break;case"drawImage":var[m,...y]=n;y&&y.map&&(y=y.map((e=>"string"==typeof e?parseFloat(e):e)));var b=yield r(m);u.drawImage.apply(u,[b,...y.slice(4,8),...y.slice(0,4)]);break;case"setWidth":var[_]=n;e.width=_;break;case"setHeight":var[w]=n;e.height=w;break;default:throw new Error(`unknown method "${t}" in actions.`)}},p=0;p<o.length;p++)yield*d()}catch(e){(a=e).message}a?c(a):l(),n=!1,i()}}));return function(){return a.apply(this,arguments)}}();P1.set(e,((e,r=!1)=>e?new Promise(((n,a)=>{t.push([e,r,n,a]),i()})):Promise.resolve()))}return P1.get(e)},A1=function(){var e=Vp()((function*(e,t,r){return T1(e)(t,r)}));return function(t,r,n){return e.apply(this,arguments)}}(),x1=pJ((()=>{var e=ke&&re.useXWebCanvas,t=Ie&&re.useSkiaCanvas;return e||t})),E1=0,M1=0,R1=4500,D1=Date.now;function O1(e){return L1.apply(this,arguments)}function L1(){return L1=Vp()((function*(e,t="",r=""){var n=Number(e.x)||0,i=Number(e.y)||0,a=Number(e.width)||0,o=Number(e.height)||0;if(0===a)throw new Error("the source width is 0");if(0===o)throw new Error("the source height is 0");if(x1()){var s=yield YJ(su.currentWebviewId,e.canvasId,r,t),l=(yield A3(s,"2d")).getContext("2d").getImageData({x:n,y:i,width:a,height:o});return{width:l.width,height:l.height,data:l.data}}var c=XJ(su.currentWebviewId,e.canvasId,r,t);if("number"!=typeof c)throw new Error("fail canvas is empty");if(Ce||xe||Ae){var u=yield uX(c,"getImageData",{x:n,y:i,width:a,height:o});return{height:u.height,width:u.width,data:xe?new Uint8ClampedArray(u.data):vJ(u.data)}}var d=yield gd("canvasGetImageData",{canvasId:c,jsInvokedAt:Date.now(),x:n,y:i,width:a,height:o});if("[object ArrayBuffer]"!==Object.prototype.toString.call(d.data))throw delete d.data,new Jc("",d);return{height:o,width:a,data:new Uint8ClampedArray(d.data)}})),L1.apply(this,arguments)}"undefined"!=typeof __widgetConfig__&&(R1="number"==typeof __widgetConfig__.drawMinInterval?__widgetConfig__.drawMinInterval:25);var N1=Yc("canvasGetImageData",O1);function B1(e,t){var r=dp(t,su.currentWebviewId);N1(e,r)}function $1(e,t,r){N1(e,r,t)}function F1(e){return j1.apply(this,arguments)}function j1(){return j1=Vp()((function*(e,t="",r=""){if("number"!=typeof e.width)throw new Error("invalid width argument");if(!e.data||"[object Uint8ClampedArray]"!==Object.prototype.toString.call(e.data))throw new Error("data argument must be an Uint8ClampedArray");var n=Number(e.x)||0,i=Number(e.y)||0,a=e.data,o=e.width,s="number"==typeof e.height?e.height:a.length/o/4|0;if(o*s*4!==a.length)throw new Error("invalid data format");if(x1()){var l=yield YJ(su.currentWebviewId,e.canvasId,r,t),c=yield A3(l,"2d"),u=c.createImageData(a,o,s);c.getContext("2d").putImageData(u,n,i)}else{var d=XJ(su.currentWebviewId,e.canvasId,r,t);if("number"!=typeof d)throw new Error("fail canvas is empty");(Ce||xe||Ae)&&(yield uX(d,"putImageData",{x:n,y:i,width:o,height:s,data:xe||Ae?I.new(a.buffer).id:gJ(a)})),yield gd("canvasPutImageData",{canvasId:d,jsInvokedAt:Date.now(),x:n,y:i,width:o,height:s,data:a.buffer})}})),j1.apply(this,arguments)}var W1=Yc("canvasPutImageData",F1);function V1(e,t){var r=dp(t,su.currentWebviewId);W1(e,r)}function U1(e,t,r){W1(e,r,t)}function z1(e){return q1.apply(this,arguments)}function q1(){return(q1=Vp()((function*({isWidgetCanvas:e,canvasId:t,actions:r,reserve:n,useHardwareAccelerate:i},a=su.currentWebviewId,o="",s=""){var l=D1();if(Array.isArray(r)){if(e){if(l-E1<R1){var c="调用 draw 过于频繁。";throw(M1+=1)>500&&(M1=0,console.warn(c)),new Error(c)}return E1=l,yield gd("drawCanvas",{canvasId:void 0,reserve:n,actions:r})}var u=XJ(a,t,o,s);if(u||(u=yield YJ(a,t,o,s)),x1()){var d=yield A3(u,"2d");return yield A1(d,r,n)}return Ce||xe||Ae?yield hX(u,r,n):yield gd("drawCanvas",{canvasId:u,reserve:n,useHardwareAccelerate:i,actions:r})}}))).apply(this,arguments)}var H1=Yc("drawCanvas",z1);function G1(e){H1(e)}function K1(e,t,r){H1(e,su.currentWebviewId,t,r)}var J1=null,X1=!0,Y1=(e,t,r,n)=>{r*=t,n*=t,e.x=e.x?e.x*t:0,e.y=e.y?e.y*t:0,(e.x<0||e.x>r)&&(e.x=0),(e.y<0||e.y>n)&&(e.y=0),e.width=e.width?Math.min(r-e.x,e.width*t):r-e.x,e.height=e.height?Math.min(n-e.y,e.height*t):n-e.y,X1?(e.destWidth=e.destWidth?e.destWidth/t:e.width/t,e.destHeight=e.destHeight?e.destHeight/t:e.height/t):(e.destWidth=e.destWidth?e.destWidth/t:e.width/t/t,e.destHeight=e.destHeight?e.destHeight/t:e.height/t/t)},Q1=(e,t,r,n)=>{e.x=e.x?e.x:0,e.y=e.y?e.y:0,(e.x<0||e.x>r)&&(e.x=0),(e.y<0||e.y>n)&&(e.y=0),e.width=e.width?Math.min(r-e.x,e.width):r-e.x,e.height=e.height?Math.min(n-e.y,e.height):n-e.y,X1?(e.destWidth=e.destWidth?e.destWidth:e.width*t,e.destHeight=e.destHeight?e.destHeight:e.height*t):(e.destWidth=e.destWidth?e.destWidth:e.width,e.destHeight=e.destHeight?e.destHeight:e.height)},Z1=function(){var e=Vp()((function*(e,t){var r=xd({},t),n=300,i=150,a=HJ(t.canvasNumber);return a&&(n=a.width,i=a.height),!Ie||"6.5.10"!==e.version&&"6.5.11"!==e.version&&"6.5.12"!==e.version?Q1(r,e.pixelRatio,n,i):Y1(r,e.pixelRatio,n,i),yield gd("canvasToTempFilePath",{...r,canvasId:t.canvasNumber})}));return function(t,r){return e.apply(this,arguments)}}();function e3(e,t){return t3.apply(this,arguments)}function t3(){return t3=Vp()((function*(e,t){var r=GJ(e),n=null!=r&&r.width?e.width/r.width:J1.pixelRatio;if(t.x=Number(t.x)||0,t.y=Number(t.y)||0,e instanceof x0||e instanceof g0){if(t.width*=n,t.height*=n,t.x=t.x?t.x*n:0,t.y=t.y?t.y*n:0,t.width=Number(t.width)||e.width-t.x,t.height=Number(t.height)||e.height-t.y,t.destWidth=t.destWidth||t.width,t.destHeight=t.destHeight||t.height,t.x+t.width>e.width&&(t.width=e.width-t.x),t.y+t.height>e.height&&(t.height=e.height-t.y),0===t.width)throw new Error("width is 0");if(0===t.height)throw new Error("height is 0");var i=e.getContext("2d").getImageData(t.x,t.y,t.width,t.height);return yield gd("canvasToTempFilePath",{...t,x:0,y:0,data:i.data.buffer,needScaleData:!0})}if(e instanceof k0)return t.canvasId=e.id,Q1(t,n,e.width/n,e.height/n),yield new Promise((e=>setTimeout(e,100))),yield gd("canvasToTempFilePath",t);if(e instanceof Y0){t.width*=n,t.height*=n,t.x=t.x?t.x*n:0,t.y=t.y?t.y*n:0,t.width=Number(t.width)||e.width-t.x,t.height=Number(t.height)||e.height-t.y,t.destWidth=t.destWidth||t.width,t.destHeight=t.destHeight||t.height,t.x+t.width>e.width&&(t.width=e.width-t.x),t.y+t.height>e.height&&(t.height=e.height-t.y);var a=document.createElement("canvas"),o=a.getContext("2d");a.width=t.destWidth,a.height=t.destHeight,o.drawImage(nX(e),t.x,t.y,t.width,t.height,0,0,t.destWidth,t.destHeight);var s=a.toDataURL({png:"image/png",jpg:"image/jpeg"}[t.fileType],t.quality);return s=s.replace(/^data:image\/(jpg|png|jpeg);base64,/,""),yield gd("base64ToTempFilePath",{base64Data:s,...t})}e instanceof k1&&(yield new Promise((t=>{e.requestAnimationFrame((()=>{e.requestAnimationFrame(t)}))})));var{canvasNumber:l}=GJ(e),{dataUrl:c}=yield uX(l,"toDataURL",t);return yield gd("base64ToTempFilePath",{base64Data:c,...t})})),t3.apply(this,arguments)}function r3(e){return n3.apply(this,arguments)}function n3(){return(n3=Vp()((function*(e){if(Ce||xe||Ae){var{dataUrl:t}=yield uX(e.canvasNumber,"toDataURL",e);return yield gd("base64ToTempFilePath",{base64Data:t,...e})}if(x1()&&ke){var r=yield A3(e.canvasNumber,"2d");if(e.x=Number(e.x)||0,e.y=Number(e.y)||0,e.width=Number(e.width)||r.width-e.x,e.height=Number(e.height)||r.height-e.y,0===e.width)throw new Error("width is 0");if(0===e.height)throw new Error("height is 0");var n=r.getContext("2d").getImageData(e.x,e.y,e.width,e.height);return yield gd("canvasToTempFilePath",{...e,data:n.data.buffer})}return J1||(J1=pw()),Z1(J1,e)}))).apply(this,arguments)}function i3(e){return a3.apply(this,arguments)}function a3(){return a3=Vp()((function*(e){if(e.fileType=["jpg","png"].indexOf(e.fileType)>-1?e.fileType:"png",e.quality="jpg"===e.fileType?e.quality<0||e.quality>1?1:e.quality:1,e.jpgQuality=e.quality,e.canvas){var t=e.canvas;return delete e.canvas,e3(t,e)}return r3(e)})),a3.apply(this,arguments)}function o3(e){return s3.apply(this,arguments)}function s3(){return(s3=Vp()((function*(e,t="",r=""){if(!e.canvasId&&!e.canvas)throw new Error("should pass canvasId or canvas");if(e.canvas)return J1||(J1=pw()),i3(e);var n=XJ(su.currentWebviewId,e.canvasId,r,t);if("number"!=typeof n)throw new Error("fail canvas is empty");return i3({...e,canvasNumber:n})}))).apply(this,arguments)}var l3=Yc("canvasToTempFilePath",o3);function c3(e,t){var r=dp(t,su.currentWebviewId);l3(e,r)}function u3(e,t,r){l3(e,r,t)}class d3{sync(e){this.t=setInterval((()=>{e()}),1e3/60)}dispose(){clearInterval(this.t)}}var p3=oz;class h3{constructor(){this.id=0,this.callbacks=new Map,this.vSync=new d3,this.vSync.sync((()=>{var e=new Map(this.callbacks);this.callbacks.clear(),e.forEach((e=>{"function"==typeof e&&e.apply(null,[p3.now()])}))}))}requestAnimationFrame(e){var t=this.id++;return this.callbacks.set(t,e),t}cancelAnimationFrame(e){this.callbacks.delete(e)}dispose(){this.vSync.dispose(),this.callbacks.clear()}}class f3 extends vX{loadFontFace(e){return Vp()((function*(){var t=Vg.FontFace;"function"==typeof t&&(yield Promise.all(e.map(function(){var e=Vp()((function*(e){var r=new t(e.family,`url(${e.src})`,{style:e.style,weight:e.weight,variant:e.variant});yield r.load(),Vg.fonts.add(r)}));return function(t){return e.apply(this,arguments)}}())))}))()}}class g3{constructor(){this._src=null,this._referrerPolicy="",this._imageData="",this._isWebStandard=!0}setSrc(e){var t=this;return Vp()((function*(){try{var r;if(t._src=e,/^(http|https):\/\//.test(e)){var n=yield Vg.fetchAsBlob(t._src,{referrerPolicy:t._referrerPolicy});r=yield globalThis.createImageBitmap(n)}else if(/^data:image\/(jpg|png|jpeg);base64,/.test(e)){for(var i=/^data:image\/(jpg|png|jpeg);base64,(.*)$/.exec(e),a=(i[1],atob(i[2])),o=[],s=0;s<a.length;++s)o[s]=a.charCodeAt(s);var l=new Uint8Array(o),c=new Vg.Blob([l]);r=yield globalThis.createImageBitmap(c)}else{var u=new Vg.Blob([Py(e)]);r=yield globalThis.createImageBitmap(u)}t._imageData=r,t.width=r.width,t.height=r.height,"function"==typeof t.onload&&t.onload()}catch(e){console.error("image load error",e),"function"==typeof t.onerror&&t.onerror(e)}}))()}getSrc(){return this._src}getReferrerPolicy(){return this._referrerPolicy}setReferrerPolicy(e){this._referrerPolicy=e}}var v3=new WeakMap,m3=(e,t)=>{var r=new h3;return v3.set(e,r),null!==t.webviewId?Vg.getOffScreenCanvas(t.canvasNumber):new Vg.OffscreenCanvas(t.width,t.height)};class y3 extends _X{constructor(e){super(e),vX.initialize(y3,f3);var{canvasNumber:t,webviewId:r}=e;this.id=t,null===r&&(this.isOffscreenCanvas=!0);var n=m3(this,e);aX(t,this,n),"2d"!==e.type||this.isOffscreenCanvas?(n.width=e.width||mX,n.height=e.height||yX):(n.width=mX,n.height=yX)}_onUpdated(){}_onRemoved(){v3.get(this).dispose(),v3.delete(this)}requestAnimationFrame(e){return Vg.requestAnimationFrame(e)}cancelAnimationFrame(e){return Vg.requestAnimationFrame(e)}getContext(e,t){if(e!==GJ(this).type)return console.error("Invalid context type ["+e+"] for Canvas#getContext"),null;var r=nX(this).getContext(e,t);return r?CJ(z0)(r,this):null}get width(){return nX(this).width}set width(e){var t=nX(this);t&&(t.width=e)}get height(){return nX(this).height}set height(e){var t=nX(this);t&&(t.height=e)}createImage(){var e=GJ(this),t=new g3;return new B0(_J(t),e)}createImageData(...e){return new Vg.ImageData(...e)}static createPath2D(...e){return new Vg.Path2D(...e)}createPath2D(...e){return new Vg.Path2D(...e)}toDataURL(e,t){var r=nX(this),n=Vg.createCanvasElement();return n.width=r.width,n.height=r.height,n.getContext("2d").drawImage(r,0,0),n.toDataURL(e,t)}}var b3={},_3=()=>{for(;;){var e=Math.floor(32767*Math.random());if(!b3[e])return b3[e]=!0,e}};function w3(e,t,r,n,i,a){var o={type:r,canvasId:"",width:e,height:t,canvasNumber:-1*_3(),nodeId:n,pluginId:i,webviewId:null,lastTouches:[],data:{},compPath:"",isBindingCanvas:!0,isSkiaCanvas:!1,isEjectaCanvas:!1,isMagicBrushCanvas:!1};try{if("2d"===r&&kJ())return new k1(o);if(Ie||ke)return d0()?(o.isMagicBrushCanvas=!0,new g0(o)):(a||"2d"!==r)&&I0()?(o.isEjectaCanvas=!0,new x0(o)):(o.isSkiaCanvas=!0,new k0(o));if(xe)return new y3(o);if(Ce)return window&&"function"==typeof window.scrollTo?new Y0(o):(console.warn("开发工具暂不支持获取 Canvas 节点"),null)}catch(e){e.message}return null}var S3=1,C3=1;function k3(e=S3,t=C3,r=null){var n="object"==typeof e?e:{width:e,height:t,compInst:r},{type:i,width:a,height:o,compInst:s,pluginId:l,_forLivePusher:c=!1}={type:"webgl",width:S3,height:C3,compInst:null,pluginId:"",...n},u=dp(s,su.currentWebviewId,!1)||"";switch(i){case"2d":case"webgl":case"webgl2":return w3(a,o,i,u,l,c);default:throw new Error(`unknown type "${i}"`)}}function I3(e){return Ie||ke?e.isMagicBrushCanvas?new g0(e):e.isEjectaCanvas?new x0(e):e.isSkiaCanvas?new k0(e):new k1(e):Ce?window&&"function"==typeof window.scrollTo?new Y0(e):(console.warn("开发工具暂不支持获取 Canvas 节点"),null):xe?new y3(e):new k1(e)}var P3=function(){var e=Vp()((function*(){for(;ke&&!Vg.findElementById;)yield new Promise((e=>setTimeout(e,100)))}));return function(){return e.apply(this,arguments)}}();function T3(){if(!(this instanceof T3))throw new TypeError("Cannot call Path2D as a function");return console.warn("`new Path2D()` should not be used, please use `canvas.createPath2D()`."),Ie||ke?kJ()?k1.createPath2D():d0()?g0.createPath2D():k0.createPath2D():Ce?Y0.createPath2D():xe?y3.createPath2D():k1.createPath2D()}function A3(e,t){return x3.apply(this,arguments)}function x3(){return x3=Vp()((function*(e,t){if(!t)return null;try{var r=yield JJ(e);if(!r.isBindingCanvas)return null;r.isMagicBrushCanvas&&(yield P3());var n=tX(e);n||(n=I3(r)),yield vX.ready();try{q3(e,t,n)}catch{}return n}catch(e){e.stack,M.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at getOrCreateCanvasInterface"})}return null})),x3.apply(this,arguments)}var E3=()=>new d1,M3=(e,t,r="",n="")=>new d1(e,t,r,n),R3=(e,t)=>{var r=dp(t,su.currentWebviewId);return M3(su.currentWebviewId,e,r)},D3=(e,t,r)=>M3(su.currentWebviewId,e,r,t),O3=200,L3=100,N3=!1,B3=new Map,$3=new Map,F3=new Set,j3,W3=e=>{N3||(N3=!0,U3(e))},V3=()=>{N3&&(N3=!1,clearTimeout(j3))},U3=e=>{if(F3.size){var t=Array.from(F3);for(var r of t)z3(r),F3.delete(r);F3.clear()}j3=setTimeout((()=>U3(e)),null!=e?e:L3)},z3=e=>{var t=B3.get(e),r=r6();c3({x:0,y:0,width:t.width,height:t.height,destWidth:t.width>O3?O3:t.width,destHeight:t.height>O3?O3:t.height,canvas:t,fileType:"png",quality:1,success(n){B_().readFile({filePath:n.tempFilePath,success(n){try{iS("canvasCollect",{data:GD(new Uint8Array(n.data),!0),nodeId:$3.get(e).nodeId,height:t.height,width:t.width,timestamp:r},[$3.get(e).webviewId])}catch(e){XD(KD.AppserviceCollect,e,"addEvents")}},fail(e){XD(KD.AppserviceCollect,e,"fm.readFile")}})},fail(e){XD(KD.AppserviceCollect,e,"canvasToTempFilePath")}})},q3=(e,t,r)=>{if("2d"===t&&N2.recorderConfigs.enabledFeatures.canvas){if(B3.has(e))return;B3.set(e,r),sX((e=>{B3.delete(e)})),$3.has(e)&&G3(e)}},H3=e=>{e.canvasNumber,N3&&($3.set(e.canvasNumber,{webviewId:e.webviewId,nodeId:e.nodeId}),B3.has(e.canvasNumber)&&G3(e.canvasNumber))};function G3(e){var t=B3.get(e);if(t){var r=t.getContext("2d");if(r){var n=Object.getOwnPropertyDescriptors(r.__proto__),i=function(){if("function"==typeof o.value&&"constructor"!==a){var t=o.value;o.value=function(...r){return F3.add(e),r=r.map((e=>e instanceof B0?L0(e):e)),t.apply(this,r)},Object.defineProperty(r,a,o)}};for(var[a,o]of Object.entries(n))i()}}}var K3=!1,J3=null,X3=e=>Yc("openBusinessView",function(){var t=Vp()((function*(t){if(K3)throw new Error("another navigation is in progress");K3=!0,t.timeout&&(J3=setTimeout((()=>K3=!1),t.timeout));try{if(Wc(t,{businessType:""}),e&&!Vh("openBusinessView"))throw new Error("no permission");var r=Object.assign({},t);return e&&(delete r.sourcetype,delete r.preScene,delete r.preSceneNote,delete r.agentId,delete r.privateExtraData,delete r.scene,delete r.sceneNote),yield gd("openBusinessView",r)}finally{K3=!1,J3&&clearTimeout(J3)}}));return function(e){return t.apply(this,arguments)}}()),Y3=X3(!0),Q3=X3(!1),Z3="openMedicalInsuranceService",e2=e=>{var t;if(!Vh(Z3))return Vc(Z3,e,"no permission");Q3({businessType:Z3,privateExtraData:{appId:e.appId,path:e.path,envVersion:e.envVersion},extraData:null!==(t=e.extraData)&&void 0!==t?t:{},timeout:3e3})},t2={},r2=su.webViewComponentInfo={},n2=!1,i2=["mp.weixin.qq.com","open.weixin.qq.com","sz.open.weixin.qq.com","hk.open.weixin.qq.com","game.weixin.qq.com","view.inews.qq.com"],a2=null,o2=!1,s2=[];function l2(e,t=!1){if(!e)return e;try{var r=(0,xv.Qc)(e,!0),n=r.host,i=r.hostname,a=r.query||{},o=!!a.pass_ticket||!!a.exportkey;if(("qq.com"===i||i.indexOf(".qq.com")>=0)&&a.uin&&a.key&&(o=!0),o&&(_.info("[wx-web-view] need to report url",e),M.reportKeyValue({key:"MiniprogramWebviewExportUrl",value:[encodeURIComponent(e),encodeURIComponent(L.getCurrentRoutePath())].join(","),immediately:!0})),i2.indexOf(i)>=0){_.info("[wx-web-view] need to intercept",e,n2);var s=n2?{pass_ticket:!0,exportkey:!0}:{},l=Object.keys(a).filter((e=>"uin"!==e&&"key"!==e&&!s[e])).map((e=>`${e}=${a[e]}`)).join("&");l=l?`?${l}`:"",e=`${r.protocol?`${r.protocol}//`:""}${n||""}${r.pathname||""}${l}${r.hash||""}`}t||Vh("returnWebviewUrlNotInBizDomainList")||(a2?o2||a2.filter((e=>i===e||new RegExp(`.${e}$`).test(i))).length||("mp.weixin.qq.com"!==n||"/s"!==r.pathname&&0!==r.pathname.indexOf("/s/"))&&(e=""):(e="",M.reportIDKey({key:"webviewBizDomainSkipReturn"})))}catch(e){_.info("[wx-web-view] parse url error",e.message)}return e}function c2(){return u2.apply(this,arguments)}function u2(){return(u2=Vp()((function*(){if(a2)return Promise.resolve();var e=new Promise((e=>setTimeout(e,3e3)));return Promise.race([new Promise((e=>{tx({apiName:"webapi_getwxanetwork",reqData:{},success:e,fail:e})})),e]).then((e=>{if(e&&e.data){var t=e.data.BizDomain||[];a2=t.map((e=>(0,xv.Qc)(e).host))}else o2=!0,a2=[],M.reportIDKey({key:"webviewBizDomainFetch_fail"})}))}))).apply(this,arguments)}function d2(e,t,r){var n=r2[e];n&&n[`bind${t}`]&&su.webviewEventCallback&&su.webviewEventCallback({data:{type:t,target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimestamp,detail:r},eventName:n[`bind${t}`],webviewId:e,nodeId:n.nodeId})}function p2(e){var t=t2[e];t&&t.length&&d2(e,"message",{data:t})}re.onReady(Vp()((function*(){var e,t,r=((null===(e=(yield gC()).data)||void 0===e||null===(t=e.opinfo_async)||void 0===t?void 0:t.ctrl_flags)||[]).find((e=>"webview_src_filter"===e.k));n2=r&&"1"===r.v}))),Yr("getWebviewBizDomainList",function(){var e=Vp()((function*(e,t){var r=!Vh("returnWebviewUrlNotInBizDomainList");s2.push(t),c2().then((()=>{s2.length&&qr("returnWebviewBizDomainList",{bizDomainList:a2,needCheckBizDomain:r,isFetchBizDomainListError:o2},s2),s2.length=0}))}));return function(t,r){return e.apply(this,arguments)}}()),Yr("webviewSrcChange",(e=>{var{newVal:t}=e;void 0!==L&&L.traceEvent("onH5Open",!1,{id:t},null,null,null)})),Yr("webviewInnerUrlChange",(e=>{e&&(e.src&&G$({path:e.src,htmlId:e.htmlId}),J$({htmlId:e.htmlId,src:e.src}))})),Yr("webViewInserted",((e,t)=>{r2[t]=e,t2[t]=[],L.setRouteHasWebview(L.getCurrentRawRoutePath(),e),SE(t,(e=>{p2(e),delete r2[e],delete t2[e]}),"onWebInvokeAppService"),kE(t,p2),PE(t,p2),fd("hideShareTimelineMenu")})),Yr("webViewRemoved",((e,t)=>{p2(t),delete r2[t],delete t2[t],yr.showShareTimelineMenuIfNeeded(t)}));var h2=new Map,f2=(e,t)=>h2.set(e,t),g2=e=>h2.delete(e);function v2({name:e,arg:t},r){e.startsWith("vConsole")||console.log("invokeAppService",e,t,r),!ke||xe||Ae||(r=su.currentWebviewId),"navigateBack"===e?rE({delta:t.delta}):"navigateTo"===e?cE({url:t.url}):"redirectTo"===e?dE({url:t.url}):"reLaunch"===e?pE({url:t.url}):"switchTab"===e?hE({url:t.url}):"error"===e?d2(r,"error",{errMsg:"web-view load failed due to not in domain list",url:l2(t.url,!0),fullUrl:l2(t.fullUrl||"",!0)}):"postMessage"===e?t2[r]&&t2[r].push(t):h2.has(e)&&h2.get(e)(t,r)}Ut("onWebInvokeAppService",v2),Ut("WEB_INVOKE_APPSERVICE",v2),f2(Z3,e2);var m2="wxobs:h5UUIDReport";function y2(){_2()}function b2(){w2()}function _2(){f2(m2,(({uuid:e,projectId:t},r)=>{B2({type:_R.ReportH5SessionId,timestamp:r6(),webviewId:r,data:{h5SessionId:e,projectId:t}})}))}function w2(){g2(m2)}var S2={},C2={},k2=1e3,I2=5e3,P2;function T2(){O2("[wxobs] Setup heartbeat monitoring"),L2.enabledFeatures.reporterScheduler&&(x2(),Gr("wxobs:heartbeat",(e=>{M2(String(e.data.webviewId))})))}function A2(){O2("[wxobs] Teardown heartbeat monitoring"),L2.enabledFeatures.reporterScheduler&&(S2={},C2={},clearTimeout(P2))}function x2(){for(var e of Object.keys(S2))"removed"!==S2[e]&&L2.recordingWebviewIds.indexOf(Number(e))<0&&(O2(`[wxobs] Webview removed from monitoring: ${e}`),S2[e]="removed",Number(e)===L2.reporter&&O2(`[wxobs] Reporter removed from monitoring: ${e}`));for(var t of(O2("[wxobs] Checking heartbeat for all webviews"),L2.recordingWebviewIds))void 0===t||S2[t]?"normal"===S2[t]&&E2(String(t))&&(O2(`[wxobs] Heartbeat timeout for webview: ${t}`),S2[t]="abnormal",LN(UR.WebviewHeartBeatTimeout),t===L2.reporter&&(O2(`[wxobs] Reporter heartbeat abnormal: ${t}`),LN(UR.ReporterHeartBeatTimeout))):(O2(`[wxobs] New webview detected: ${t}`),S2[t]="unknown");void 0!==L2.reporter&&"normal"===S2[L2.reporter]||(O2("[wxobs] Reporter heartbeat abnormal: "+L2.reporter),R2()),P2=setTimeout(x2,k2),O2(Object.keys(S2).map((e=>`${e}: ${S2[e]}`))),O2("reporter:",L2.reporter)}function E2(e){return r6()-C2[e]>I2}function M2(e){S2[e]="normal",C2[e]=r6()}function R2(){var e;for(var t of(O2("[wxobs] Electing new reporter"),Object.keys(S2)))if("normal"===S2[t]){e=t;break}e&&(L2.reporter=Number(e),D2(),O2(`[wxobs] New reporter elected: ${e}`))}function D2(){O2(`[wxobs] Publishing reporter change: ${L2.reporter}`),hr("wxobs:reporterChange",{data:{newReporter:L2.reporter}})}function O2(...e){}var L2={recordingWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob",reportInterval:5e3,serverClientTimeDiff:0,weSessionId:null},N2={events:[],pending:!1,recorderConfigs:L2,recording:!1,pendingRecordingPages:[],isFullySetup:!1},B2=e=>{var t,r;N2.recording&&(e.weSessionId=null!==(t=N2.recorderConfigs.weSessionId)&&void 0!==t?t:"",e.networktype=null!==(r=N2.recorderConfigs.networkStatus)&&void 0!==r?r:"",e.sessionLifeTimeMeta=N2.recorderConfigs.wesessionMeta,N2.events.push(e),e.data.wxobs_sdk_primary_uid&&YO(e.data.wxobs_sdk_primary_uid),LN(UR.AppserviceEvent))},$2=e=>{try{if(N2.recording)return!1;if(L2.coslessMode){if(!L2.enabledFeatures.coslessMode)return!1;LN(UR.CoslessMode)}Object.assign(L2,e),e6(L2),V2(),Qz(),Hq(),lJ(),jL(),y2(),L2.enabledFeatures.console&&xq()}catch(e){return XD(KD.AppserviceStart,e),!1}return!0},F2=e=>{try{if(N2.isFullySetup)return!1;if("string"!=typeof e.projectId||""===e.projectId)return!1;if(Object.assign(L2,e),L2.coslessMode){if(!L2.enabledFeatures.coslessMode)return!1;LN(UR.CoslessMode)}return e.serverClientTimeDiff&&t6(e.serverClientTimeDiff),YL(),T2(),e.canvas&&W3(e.canvasCollectInterval),HO().then((e=>{iS("syncPXState",{localUid:e},L2.recordingWebviewIds,(()=>{}))})),q2(),N2.isFullySetup=!0,e.uuid,VR(`wxobs_uuid=${e.uuid};`),DU({obsid:e.uuid}),!0}catch(e){return XD(KD.AppserviceStart,e),!1}};function j2(){N2.recording&&(N2.recording=!1,N2.events=[],N2.pending=!1,N2.pendingRecordingPages=[],Object.assign(L2,{recordingWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob",reportInterval:5e3,serverClientTimeDiff:0,weSessionId:null}),Zz(),Gq(),cJ(),WL(),Eq(),b2())}var W2=function(){var e=Vp()((function*(){try{if(!N2.recording)return;L2.recordingWebviewIds,iS("teardownUserBehavior",void 0,L2.recordingWebviewIds,(()=>y.log("[wxobs] webview teardown success\n[体验分析] 体验分析已停止"))),Object.assign(L2,{recordingWebviewIds:[],compress:!0,isWhitelistMaskMode:!0,autoStart:!0,url:"https://servicewechat.com/ob/wxob",projectId:"",encrypt:void 0,shouldCapturePage:()=>!0,reporter:void 0,errorCallback:void 0,onReport:void 0}),N2.recording=!1,N2.events=[],N2.recorderConfigs=L2,N2.pending=!1,N2.isFullySetup=!1,N2.pendingRecordingPages=[],QL(),Zz(),Eq(),Gq(),cJ(),A2(),WL(),V3(),b2()}catch(e){throw XD(KD.AppserviceTeardown,e),e}}));return function(){return e.apply(this,arguments)}}(),V2=()=>{L2.sdkVersion=aA().version||"",L2.platform=$b().platform,L2.hashUid=$R(),L2.staticMeta=XV(),N2.recording=!0;var e=U2();B2({timestamp:r6(),type:_R.Start,data:{webviews:su.getWebviewIds(),shouldCapture:e}})};function U2(){var e=su.currentWebviewId;return!!(N2.recording&&L2.recordingWebviewIds.indexOf(e)<0&&N2.recorderConfigs.shouldCapturePage(su.lastRoute,su.query))&&(void 0!==e&&(N2.isFullySetup?(z2(e,su.query),!0):(N2.pendingRecordingPages.push({webviewId:e,route:su.lastRoute,query:su.query}),su.lastRoute,!1)))}function z2(e,t){L2.recordingWebviewIds.push(e),void 0===L2.reporter&&(L2.reporter=e),iS("recordUserBehavior",{...L2,query:t},[e],(()=>y.info(`[wxobs] trigger recordUserBehavior for webview ${e}`)))}function q2(){for(N2.isFullySetup=!0;N2.pendingRecordingPages.length>0;){var e=N2.pendingRecordingPages.shift();if(void 0!==e){z2(e.webviewId,e.query);e.route}}}function H2(e){return G2.apply(this,arguments)}function G2(){return G2=Vp()((function*(e){N2.recording&&B2({type:_R.CustomAttr,timestamp:r6(),data:e})})),G2.apply(this,arguments)}function K2(e){return J2.apply(this,arguments)}function J2(){return(J2=Vp()((function*(e){if(!N2.recording)throw new Error("wxobs is not recording");B2({type:_R.CustomEvent,timestamp:r6(),data:e})}))).apply(this,arguments)}function X2(e,t){if(N2.recording){var r="[wxobs] reportEvent 同步错误,",n={},i=0;try{if("object"!=typeof t||null===t)return void console.error(`${r} 需要为 Object`);var a=Boolean(t.__cos_only__)||!L2.enabledFeatures.uploadReportEventToWx,o=Object.keys(t);if(!(a||o.length<=10))return void console.error(`${r} 需要少于 10 个属性`);for(var s=0;s<o.length;s++){if(o[s].length>50&&!o[s].includes(","))return void console.error(`${r}${o[s]} 属性key过长，需<=50，且不包含','`);var l=t[o[s]];if("string"==typeof l){if(!a&&(l.length>255||l.includes(",")))return void console.error(`${r}${o[s]} 属性 value 不符合规则，长度不能超过 255 且不能包含英文逗号（,），如需包含请先转义`);n[`wxobs_props_${o[s]}_string`]=l,i+=l.length+`wxobs_props_${o[s]}_string`.length}else{if(!Number.isSafeInteger(l))return void console.error(`${r}${o[s]}属性value不符合规则`);n[`wxobs_props_${o[s]}_int`]=`${l}`,i+=`${l}`.length+`wxobs_props_${o[s]}_int`.length}}a&&(n.__cos_only__="1"),NN(UR.UploadReportEventSize,i),B2({type:_R.ReportEvent,timestamp:r6(),data:{...n,wxobs_primary_event_name:e,wxobs_type:"__userob_default_custom_event_emit__"}})}catch(e){console.error(r,e)}}}function Y2(e){L2.cosInfo=e,iS("resetCosInfo",e,L2.recordingWebviewIds,(()=>{}))}var Q2=18e5;function Z2(e){var t=r6();dS((r=>{N2.recording&&r6()-t>Q2&&1089!==r.scene&&e()})),kS((()=>{t=r6()}))}function e6(e){if(e.enabledFeatures={},e.featureConfig){var t=aA().version||"",r=$b().platform;for(var n of e.featureConfig){var i;if(!n.scope||jR(n.scope,{os:r,sdkVersion:t})){var a=null!==(i=n.proportion)&&void 0!==i?i:0;0!==a&&(100===a||a>=100*Math.random())&&(e.enabledFeatures[n.name]=!0)}}for(var o of(e.featureConfig=[],Object.keys(e.enabledFeatures)))e.enabledFeatures[o]&&e.featureConfig.push({name:o,proportion:100})}else e.featureConfig=[]}var t6=e=>{0!==e&&N2.events.length>0&&(N2.events=N2.events.map((t=>({...t,timestamp:t.timestamp+e}))),N2.events.length)};function r6(){return Date.now()+L2.serverClientTimeDiff}var n6=e=>{try{if(N2.recording)return!1;if("string"!=typeof e.projectId||""===e.projectId)return!1;if(Object.assign(L2,e),e6(L2),L2.coslessMode){if(!L2.enabledFeatures.coslessMode)return!1;LN(UR.CoslessMode)}return N2.isFullySetup=!0,V2(),Qz(),YL(),Hq(),lJ(),jL(),y2(),T2(),e.canvas&&W3(e.canvasCollectInterval),L2.enabledFeatures.console&&xq(),HO().then((e=>{iS("syncPXState",{localUid:e},L2.recordingWebviewIds,(()=>{}))})),e.uuid,VR(`wxobs_uuid=${e.uuid};`),DU({obsid:e.uuid}),!0}catch(e){return XD(KD.AppserviceStart,e),!1}};function i6(e,t){return gR("wxobs",{hookHandlers:{beforeExecute(){u6.includes(e)||a6(e)},afterCallback(t){u6.includes(e)&&a6(e,t)},success(){s6(t,0)},fail(){s6(t,1)}}})}function a6(e,t){return o6.apply(this,arguments)}function o6(){return(o6=Vp()((function*(e,t){var r;N2.recording&&B2({timestamp:r6(),type:e,data:null!==(r=c6(e,t))&&void 0!==r?r:{}})}))).apply(this,arguments)}function s6(e,t){return l6.apply(this,arguments)}function l6(){return(l6=Vp()((function*(e,t){N2.recording&&B2({timestamp:r6(),type:e,data:{state:t}})}))).apply(this,arguments)}var c6=(e,t)=>{var r=null==t?void 0:t[0];switch(e){case _R.RequestSubscribeMessage:return{tmpIds:null==r?void 0:r.tmplIds};case _R.ReserveChannelsLive:return{noticeId:null==r?void 0:r.noticeId};case _R.OpenChannelsUserProfile:case _R.OpenChannelsLive:return{finderUserName:null==r?void 0:r.finderUserName};case _R.OpenChannelsEvent:return{finderUserName:null==r?void 0:r.finderUserName,eventId:null==r?void 0:r.eventId};case _R.OpenChannelsActivity:return{finderUserName:null==r?void 0:r.finderUserName,feedId:null==r?void 0:r.feedId};case _R.GetChannelsLiveNoticeInfo:case _R.GetChannelsLiveInfo:return{finderUserName:null==r?void 0:r.finderUserName};case _R.RequestPayment:case _R.RequestPluginPayment:return{path:su.lastRoute};default:return{}}},u6=[_R.RequestSubscribeMessage,_R.ReserveChannelsLive,_R.OpenChannelsUserProfile,_R.OpenChannelsLive,_R.OpenChannelsEvent,_R.OpenChannelsActivity,_R.GetChannelsLiveNoticeInfo,_R.GetChannelsLiveInfo,_R.RequestPayment,_R.RequestPluginPayment],d6=nr("subpackage:beforeSubPackageReady"),p6=nr("subpackage:onSubPackageReady"),h6=d6.internalOnMethod,f6=p6.internalOnMethod;Ut("onSubPackageReady",(e=>{_.info("[onSubPackageReady]",e),vG(uG.SubPackage_Ready_Begin,Date.now()),d6.emit(e),p6.emit(e),vG(uG.SubPackage_Ready_End,Date.now())}));var g6=new Yt({maxListeners:2e5}),v6={onMapMarkerClusterCreate:"markerClusterCreate",onMapMarkerClusterClick:"markerClusterClick",onMapVisualLayerEvent:"visualLayerEvent",onMapMarkerCollisionStatusChange:"markerCollisionStatusChange"};Object.keys(v6).forEach((e=>{cr(e,((t={},r=0)=>{var n=t.mapId,i=v6[e];delete t.mapId,g6.emit(`${i}_${r}_${n}`,t)}))})),Yr("mapEvent",((e,t)=>{var r=e.res,n=e.mapId,i=e.event;g6.emit(`${i}_${t}_${n}`,r)})),cr("onMapInterpolatePoint",((e={})=>{qr("onMapInterpolatePoint",e)})),cr("onLeaveVideoPictureInPicture",((e={})=>{qr("onLeaveVideoPictureInPicture",e)})),cr("onLeaveLivePlayerPictureInPicture",((e={})=>{qr("onLeaveLivePlayerPictureInPicture",e)})),cr("onLeaveLivePusherPictureInPicture",((e={})=>{qr("onLeaveLivePusherPictureInPicture",e)})),cr("onLivePusherCameraFrame",((e={},t=0)=>{XQ.emit(`onLivePusherCameraFrame_${t}`,e)})),cr("onXWebLivePusherCameraFrame",((e={},t=0)=>{XQ.emit(`onLivePusherCameraFrame_${t}`,e)})),cr("onLivePusherCameraFrameBufferUpdate",((e={},t=0)=>{XQ.emit(`onLivePusherCameraFrameBufferUpdate_${t}`,e)})),cr("onXWebLivePusherCameraFrameBufferUpdate",((e={},t=0)=>{XQ.emit(`onLivePusherCameraFrameBufferUpdate_${t}`,e)}));var m6="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",y6={cancel:0,accept:1},b6=()=>{var e=new Yt,t="",r=null,n=[];function i(e){r&&!n.length?(n.push(e),r.des()):e()}function a(n,i,a,s){var{tmpl:l,opApi:c}=i;r||(r=s.mainRoot.append(l,{})),r.addListener("ready",(()=>{if(r)if(r.isReady){var e=o(i,n,r.extra);r.setData({...e,enter:!0})}else r.isReady=!0})),r.addListener("destroy",(i=>{r=null,pV(a);var{type:o}=i.detail;o?function(e,r,n){tx({sdkApiName:t,apiName:r.name,reqData:r.request({opType:n,...e}),success(i){n===y6.accept?(zc({name:t,args:e,res:i}),r.success()):Vc(t,e,"user cancel operation")},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();Vc(t,e,n,+r.err_code)}})}(n,c,y6[o]):e.emit("desComp")}))}function o(e,t,r={}){var n=e.genData(t,r);return Object.assign(n,{appIcon:re.accountInfo.icon||m6,appName:re.accountInfo.nickname}),n}return e.on("desComp",(()=>{n.forEach((e=>e())),n=[]})),(e,n={})=>{jc(t=n.api,e,n.checkArgs(e))&&__sclEngine__.initScl((s=>{var l=function(e){return dV((r=>{[QW.BottomBackButton,QW.NavigationBackInterceptionType,QW.NavigateBackCall].includes(r.type)&&i((()=>{Vc(t,e,"user navigate back operation")}))}))}(e);a(e,n,l,s),tx({sdkApiName:t,apiName:n.checkApi.name,reqData:n.checkApi.request(e),success(a){if(!n.checkApi.confirm(a))return delete a.data,void i((()=>{zc({name:t,args:e,res:a})}));if(r)if(r.isReady){var s=o(n,e,a);r.setData({...s,enter:!0})}else r.isReady=!0,r.extra=a},fail(r){var n=r.errMsg.replace(`${t}:fail`,"").trim();i((()=>{Vc(t,e,n,+r.err_code)}))}})}))}},_6={authorize:{scopes:{"scope.devicePanel":{api:"authorize",tmpl:"device-panel",checkArgs:()=>({}),checkApi:{name:"webapi_wx_authorize",request:({scope:e})=>({scope:e}),confirm:e=>e.data.need_confirm},opApi:{name:"webapi_wx_authorize_confirm",request:({scope:e,opType:t})=>({scope:e,opt:t?1:2}),success:()=>{}},genData:()=>({wording1:"自动同步所有设备到「发现 - 小程序 - 设备」中",wording2:"同步后，可直接控制使用设备。"})}}},addDevicePanel:{api:"addDevicePanel",tmpl:"device-panel",checkArgs:()=>({sn:"",snTicket:"",modelId:"",deviceName:"",location:""}),checkApi:{name:"CheckDevicePanel",request:({sn:e,snTicket:t,modelId:r})=>({sn:e,sn_ticket:t,model_id:r}),confirm:e=>1===e.data.need_alert},opApi:{name:"AddDevicePanel",request:({opType:e,sn:t,modelId:r,deviceName:n,envVersion:i,path:a,query:o,location:s})=>({action_type:e,sn:t,model_id:r,name:n,version_type:i||re.envVersion,path:a,query:o,location:s}),success:()=>{dj({title:"已添加",icon:"success"})}},genData:({deviceName:e})=>({wording1:`将“${e}”设备组件添加到「发现 - 小程序 - 设备」中`,wording2:"添加后，可直接控制使用该设备。"})},requestDeviceVoIP:{api:"requestDeviceVoIP",tmpl:"device-voip",checkArgs:({isGroup:e})=>!0===e?{groupId:""}:{sn:"",snTicket:"",modelId:"",deviceName:""},checkApi:{name:"CheckDeviceVoip",request:({sn:e,snTicket:t,modelId:r,deviceName:n,isGroup:i,groupId:a})=>!0===i?{is_group:i,group_id:a}:{sn:e,sn_ticket:t,model_id:r,device_name:n},confirm:e=>1===e.data.need_alert},opApi:{name:"AddDeviceVoip",request:({opType:e,sn:t,snTicket:r,modelId:n,deviceName:i,isGroup:a,groupId:o})=>!0===a?{action_type:e,is_group:a,group_id:o}:{action_type:e,sn:t,sn_ticket:r,model_id:n,device_name:i},success:()=>{}},genData:(e,t)=>({wording1:`为「${t.data.device_name}」开启语音、视频通话提醒`,wording2:"用于设备发起的语音和视频通话邀请"})}},w6=["scope.userLocation","scope.userFuzzyLocation"],S6=(e="gcj02")=>{var t,r=null==re?void 0:re.appLaunchInfo,n=null!==(t=su.scene)&&void 0!==t?t:null==r?void 0:r.scene;if(1242===n||1245===n){var i,a,o=null==r||null===(i=r.referrerInfo)||void 0===i||null===(a=i.privateExtraData)||void 0===a?void 0:a.location;if(o)return"gcj02"===e?{...o}:T6(o)}return null},C6=(e,{type:t}={},r=!0)=>r?{...e,type:t,speed:0,altitude:0,accuracy:10,verticalAccuracy:10,horizontalAccuracy:10}:{...e,type:t},k6=Math.PI,I6=6378245,P6=.006693421622965943,T6=e=>{if(E6(e.longitude,e.latitude))return{...e};var{latitude:t,longitude:r}=e,n=t/180*k6,i=A6(r-105,t-35),a=x6(r-105,t-35),o=Math.sin(n);o=1-P6*o*o;var s=Math.sqrt(o);return i=180*i/(I6*(1-P6)/(o*s)*k6),{longitude:2*r-(r+(a=180*a/(I6/s*Math.cos(n)*k6))),latitude:2*t-(t+i)}},A6=(e,t)=>{var r=2*e-100+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*k6)+20*Math.sin(2*e*k6))/3,r+=2*(20*Math.sin(t*k6)+40*Math.sin(t/3*k6))/3,r+=2*(160*Math.sin(t/12*k6)+320*Math.sin(t*k6/30))/3},x6=(e,t)=>{var r=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return r+=2*(20*Math.sin(6*e*k6)+20*Math.sin(2*e*k6))/3,r+=2*(20*Math.sin(e*k6)+40*Math.sin(e/3*k6))/3,r+=2*(150*Math.sin(e/12*k6)+300*Math.sin(e/30*k6))/3},E6=(e,t)=>!(e>73.66&&e<135.05&&t>3.86&&t<53.55),M6=function(){var e=Vp()((function*(e={}){var t="getPrivacySetting";if(!1===an.isCache)try{yield eY()}catch(e){e.errors}var r=1===an.actionCache;an.actionCache,r&&an.needScopeCache.length>0?zc({name:t,args:e,res:{needAuthorization:!0,privacyContractName:an.urlTitle}}):zc({name:t,args:e,res:{needAuthorization:!1,privacyContractName:an.urlTitle}})}));return function(){return e.apply(this,arguments)}}(),R6=e=>{var{success:t,apiName:r,type:n}=e;bQ(r,n).catch((e=>({success:!0}))).then((({success:e,errMsg:r,errno:n})=>{t(e?{success:!0}:{success:!1,errMsg:r,errno:n})}))},D6=function(){var e=Vp()((function*(e){if(!an.isCache)try{yield eY()}catch(e){e.errors}var t=1===an.actionCache;return t&&an.needScopeCache.length>0?an.useCustomPrivacyAuthorization?yY(e):(an.officialPrivacyAuthorizationShowingGap=0,DY({title:an.standardInfo.title,desc1:an.standardInfo.desc1,urlTitle:an.standardInfo.urlTitle,desc2:an.standardInfo.desc2,allow:an.standardInfo.allow,cancel:an.standardInfo.cancel})):(an.needScopeCache.length,Promise.resolve({success:!0}))}));return function(t){return e.apply(this,arguments)}}(),O6=e=>{D6("requirePrivacyAuthorize").then((({success:t,errMsg:r,errno:n})=>{zc(!0===t?{name:"requirePrivacyAuthorize",args:e,success:!0,errno:n,errMsg:r}:{name:"requirePrivacyAuthorize",args:e,success:!1,errno:n,errMsg:r})}))},L6="",N6=e=>{var t=L6===e;return L6=e,t},B6=(e,t,r,n)=>{var i=[Mu()+" "+Ru(),1,(null==yr?void 0:yr.getCurrentRoute())||"",!N6(Nu().sessionid||Nu().sessionId)?1:0,e,t?1:0,n?1:2,r].join(",");M.reportKeyValue({key:"Authorize",value:i})},$6=b6(),F6=sn;function j6(e){return"scope.userInfo"!==e||(wf("getUserInfo")||wf("authorize"))}function W6(e){return Object.keys(_6.authorize.scopes).includes(e)}var V6=(e,t=!1)=>{var r="authorize",n=vd(e),i=OQ(),a=NQ();return Vp()((function*(e={}){if(a&&i.includes(RQ(`${e.scope}`)))zc({name:"authorize",args:e,success:!0});else if(jc("authorize",e,{scope:""})){var o=Dx();if(!t&&F6[e.scope]){var s=yield bQ(e.scope,"authorize").catch((e=>({success:!0})));if(!s.success)return B6(e.scope,o,1,!1),void zc({name:"authorize",args:e,success:!1,errMsg:s.errMsg,errno:s.errno,errCode:s.errno,exception:void 0})}if(!j6(e.scope))return B6(e.scope,o,1,!1),void Vc("authorize",e,"scope unauthorized");if(!W6(e.scope))return e.scope&&S6()&&w6.includes(e.scope)?(B6(e.scope,o,2,!1),void setTimeout((()=>id({},r,e,{})),100)):void n(r,xd(e,{scope:[e.scope],requestInQueue:!0}),{beforeAll(e){delete e.body,delete e.clientInfo,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)},beforeSuccess(t){var r=!!t.showedModal;delete t.showedModal,B6(e.scope,o,2,r)},beforeFail(t){var r=!!t.showedModal;delete t.showedModal,B6(e.scope,o,1,r)}});Object.entries(_6.authorize.scopes).forEach((([t,r])=>{t===e.scope&&$6(e,r)}))}}))},U6=V6(void 0,!1),z6=new Set,q6=new WeakMap,H6={service:"service",plugin:"plugin"},G6={[H6.service]:0,[H6.plugin]:0},K6={add(e,t){z6.add(e),q6.set(e,t),G6[t]++},remove(e){var t=q6.get(e);z6.delete(e)&&(q6.delete(e),G6[t]--)},get size(){return z6.size},getSizeByType:e=>G6[e]};const J6=K6;var X6={UNLOCKED:0,LOCKING:1,LOCKED:2},Y6=new WeakMap,Q6=new Map,Z6=ArrayBuffer,e5;function t5(e){m.onLoad((()=>{Ne||e5.new||e(e5)}))}m.onLoad((()=>{e5="undefined"==typeof WeixinSharedBuffer?{}:WeixinSharedBuffer,"undefined"==typeof WeixinSharedBuffer&&("undefined"!=typeof __global?Z6=__global.SharedArrayBuffer:f.g.SharedArrayBuffer&&(Z6=f.g.SharedArrayBuffer))}));class r5{constructor(e,t){if(!rt(e)||e<0)throw new Ad(`Invalid array buffer length ${e}`);if(rt(t)){var r;try{r=e5.get(t)}catch(e){throw new Error(`WeixinSharedBuffer.get${t} fail: ${e.message}`)}Object.defineProperty(this,"buffer",{value:r,writable:!1,enumerable:!0}),Object.defineProperty(this,"_sabId",{value:t,enumerable:!0,writable:!1})}else{Object.defineProperty(this,"buffer",{value:new Z6(e),writable:!1,enumerable:!0});var n=e5.new(this.buffer);Object.defineProperty(this,"_sabId",{value:n,enumerable:!0,writable:!1})}var i={writeStatus:X6.UNLOCKED,readStatus:X6.UNLOCKED,writeLockCallbacks:[],readLockCallbacks:[],writeLockId:void 0,readLockId:void 0,destroyed:!1};Y6.set(this,i),Q6.set(this._sabId,this)}destroy(){var e=Y6.get(this);e.writeLockCallbacks=[],e.readLockCallbacks=[],Q6.delete(this._sabId),Y6.get(this).destroyed=!0,this.unlock(),e5.destroy(this._sabId)}lock(e,t=!1){var r=Y6.get(this),{destroyed:n,writeStatus:i,readStatus:a,writeLockCallbacks:o,readLockCallbacks:s}=r;if(n)throw new Ad("SharedArrayBuffer has been destroyed");if(!gt(e))throw new Ad("callback must be a function");i!==X6.LOCKED?(o.push(e),i===X6.LOCKING||(r.writeStatus=X6.LOCKING,r.writeLockId=e5.Lock(this._sabId,(()=>{o.forEach((e=>e())),s.forEach((e=>e())),r.writeStatus=X6.LOCKED,r.writeLockCallbacks=[],r.readLockCallbacks=[]})))):e()}unlock(){var e=Y6.get(this),{writeLockId:t,readLockId:r,writeStatus:n,readStatus:i,destroyed:a}=e;a?console.warn("unlock: SharedArrayBuffer has been destroyed"):(n!==X6.LOCKING&&n!==X6.LOCKED||(e5.Unlock(this._sabId,t),e.writeStatus=X6.UNLOCKED,e.writeLockId=void 0,e.writeLockCallbacks=[]),i!==X6.LOCKING&&i!==X6.LOCKED||(e5.Unlock(this._sabId,r),e.readStatus=X6.UNLOCKED,e.readLockId=void 0,e.readLockCallbacks=[]))}}var n5=e=>Ne?{buffer:new ArrayBuffer(e)}:new r5(e),i5=e=>Q6.has(e)?Q6.get(e):new r5(0,e),a5=e=>Ne?e:dt(e)?rt(e._sabId)?i5(e._sabId):Object.keys(e).reduce(((t,r)=>{var n=e[r];return t[r]=a5(n),t}),{}):ft(e)?e.map(a5):e,o5,s5;"undefined"!=typeof WORKER_RUNTIME&&WORKER_RUNTIME?Ne||(o5=v.supportWorkerMultiContext||v.supoortWorkerMultiContext):Ne||re.onReady((()=>{o5=re.supportWorkerMultiContext||re.supoortWorkerMultiContext})),m.onLoad((()=>{(s5=function(e,t,r,n,i){this.message=e,this.line=t,this.column=r,this.stack=n,this.error=i}).prototype=Error}));var l5=e=>new s5(e.message,e.line,e.column,e.stack,e),c5=()=>o5,u5=e=>{o5=e},d5=new WeakMap,p5=new WeakMap,h5=new WeakMap,f5={},g5={},v5={},m5={},y5=new WeakMap,b5=new WeakMap,_5=e=>e.workerId,w5=e=>{e.__isNativeConsole__?_[e.level](...e.logs):console[e.level](...e.logs)},S5=0,C5={};function k5(e,t,r=++S5){return m5[e]?(C5[e]||(C5[e]=[]),C5[e].push({id:r,callback:t})):(m5[e]=r,t()),r}function I5(e,t){if(m5[e]===t&&(delete m5[e],C5[e]&&C5[e].length)){var{id:r,callback:n}=C5[e].shift();k5(e,n,r)}}t5((e=>{var t=0;Object.assign(e,{new(e){var r=++t;return v5[r]=e,Object.keys(f5).forEach((t=>{var n=d5.get(f5[t]);P.postMsgToWorker(n,{__cmd__:"setSharedBuffer",__buffer__:e,__id__:r},!1,!1)})),r},get:e=>v5[e],destroy(e){delete v5[e]},Lock:k5,Unlock:I5})})),P.onWorkerMsg(((e,t)=>{var r,n=_5(t);r=n?g5[e]:f5[e];var i=p5.get(r),a=b5.get(r);if("log"!==t.__cmd__){if("setSharedBuffer"===t.__cmd__)return v5[t.__id__]=t.__buffer__,void Object.keys(f5).forEach((r=>{var n=d5.get(f5[r]);n!==e&&P.postMsgToWorker(n,t,!1,!1)}));if("lockSharedBuffer"!==t.__cmd__)if("unlockSharedBuffer"!==t.__cmd__){if("workerUncaughtError"===t.__cmd__){var o=t.__data__;if("string"==typeof o)try{o=JSON.parse(o)}catch(e){console.warn("warning: occur illegal error: ",o)}return o=m.convertToErrorObj(o),void(f5[e]&&"function"==typeof f5[e].errorHandler?f5[e].errorHandler(o):(console.error("Worker Uncaught: ",o),M.errorReport({key:"appServiceSDKScriptError",error:o,extend:"at Splash Ad Worker"})))}if("readCompressedFile"!==t.__cmd__){if(r)if(a&&a.useWKWorker){if(!_5(t))return;if("requireScriptSuccess"===t.__cmd__){var s=y5.get(r);return void(s&&s.evaluateWorkerScriptPromiseResolve&&s.evaluateWorkerScriptPromiseResolve())}if("readFile"===t.__cmd__)return void Iy({filePath:t.filePath,success:({data:r})=>P.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:String.fromCharCode(...new Uint16Array(r))},void 0,!0),fail:({errMsg:r})=>P.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,errMsg:r},void 0,!0)});"function"==typeof i&&i(t.data)}else"function"==typeof i&&i(a5(t.data))}else Zy({filePath:t.filePath,compressionAlgorithm:t.compressionAlgorithm,complete:r=>{P.postMsgToWorker(e,{__cmd__:"callback",originalMsg:t,result:r},!1,!1)}})}else I5(t.__sid__,t.__lid__);else k5(t.__sid__,(()=>{r.postMessage(t)}),t.__lid__)}else w5(t.logData)}));var P5=function(e,t){Vh("skipWorkerProtect")&&(t||(t={}),t.__sdk_skip_protect=!0);var r=d5.get(this);P.postMsgToWorker(r,{__cmd__:"requireScript",__script__:e,__id__:r,__options__:t},void 0,!1)},T5=function(){var e,t=new Promise((t=>{e=t}));y5.set(this,{evaluateWorkerScriptPromise:t,evaluateWorkerScriptPromiseResolve:e})};class A5{constructor(e,t,r={useWKWorker:!1,contextType:"",pluginId:"",injectFilePath:""}){this.errorHandler=void 0,this.allowPostMessage=!1,d5.set(this,e),b5.set(this,r),this._id=e,r.useWKWorker?(g5[e]=this,T5.call(this)):(f5[e]=this,c5()?P5.call(this,t,{pluginId:r.pluginId,workerId:e,injectFilePath:r.injectFilePath},!0):P5.call(this,t,{pluginId:r.pluginId,workerId:e})),J6.add(this,r.contextType)}postMessage(e){var t=d5.get(this),r=y5.get(this),n=b5.get(this);n&&n.useWKWorker&&r?r.evaluateWorkerScriptPromise.then((()=>{P.postMsgToWorker(t,{data:e,appid:re.accountInfo.appId},void 0,!0)})):(e={data:e},P.postMsgToWorker(t,e,void 0,!1))}onMessage(e){p5.set(this,e)}onError(e){this.errorHandler=e}terminate(){if(d5.has(this)){var e=d5.get(this),t=b5.get(this);t&&t.useWKWorker?P.postMsgToWorker(e,{__cmd__:"terminate",appid:re.accountInfo.appId},void 0,!0):P.terminate(e,!1),J6.remove(this),d5.delete(this),p5.delete(this),y5.delete(this),h5.delete(this),b5.delete(this),t&&t.useWKWorker?delete g5[e]:delete f5[e]}}onProcessKilled(e){h5.set(this,e)}}Ut("onWorkerWebViewTerminate",(()=>{Object.keys(g5).forEach((e=>{var t=g5[e],r=b5.get(t);if(r&&r.useWKWorker){var n=h5.get(t);J6.remove(t),d5.delete(t),p5.delete(t),y5.delete(t),h5.delete(t),b5.delete(t),delete g5[e],"function"==typeof n&&E.surroundThirdByTryCatch(n,"at Worker.onProcessKilled callback function")(),M.reportIDKey({key:"onWorkerWebViewTerminate"}),_.error("onWorkerWebViewTerminate",e)}}))}));var x5=e=>{if(e._id>=0&&g5[e._id])return e._id},E5,M5={},R5={},D5={},O5=[],L5={},N5=new Xt,B5=new WeakMap;function $5(e){var t=[],r=1;return Yr(e,(e=>{t.forEach((t=>{var r=t[0],n=t[1];r.cid===e.cid&&r.cameraId===e.cameraId&&n(e)})),t=[]})),function(e,n){e.cid=r++,t.push([e,n])}}var F5=$5("onOperateCameraCallback"),j5={};function W5({cameraId:e,pluginId:t},r){N5.emit("cameraRemoved"),delete M5[`${r}_${t}`],delete R5[`${r}_${e}`],delete D5[`${r}_${e}`],delete j5[r]}function V5(e,t,r){var n=null,i=null,a=null,o=Qc("start",Vp()((function*(){var l=480,c=640,u=`${t}_${r}`;if("number"!=typeof M5[u]&&!M5[u])return yield new Promise((e=>N5.once("cameraInsert",e))),o();var d=R5[`${t}_${M5[u]}`],{frameSize:p}=d||{};"small"===p?(l=288,c=352):"medium"===p?(l=480,c=640):"large"===p&&(l=720,c=1280),a=()=>{s()},N5.once("cameraRemoved",a);var h,f=window.createObjectURL||window.URL&&window.URL.createObjectURL||window.webkitURL.createObjectURL,g=document.createElement("video"),v=document.createElement("canvas"),m=v.getContext("2d");v.width=l,v.height=c,g.style.width=l+"px",g.style.height=c+"px";try{h=yield new Promise(((e,t)=>{navigator.getUserMedia({video:{width:l,height:c},audio:!1},e,t)}))}catch(e){throw new Error("camera is not found")}"srcObject"in g?g.srcObject=h:g.src=f(h),g.play(),n=h.getTracks()[0];var y=()=>{m.drawImage(g,0,0),e({width:l,height:c,data:m.getImageData(0,0,l,c).data.buffer}),i=window.requestAnimationFrame(y)};i=window.requestAnimationFrame(y)}))),s=Qc("stop",Vp()((function*(){window.cancelAnimationFrame(i),N5.off("cameraRemoved",a),n&&n.stop()})));return{start:o,stop:s}}cr("onCameraInitDone",(()=>{j5[su.currentWebviewId]=!0,N5.emit("cameraInitialized")})),Yr("cameraInserted",function(){var e=Vp()((function*({cameraId:e,pluginId:t,bindings:r},n){M5[`${n}_${t}`]=e,R5[`${n}_${e}`]=r,N5.emit("cameraInsert"),SE(n,(()=>{W5({cameraId:e,pluginId:t},n)}),"CameraContext")}));return function(t,r){return e.apply(this,arguments)}}()),Yr("cameraUpdated",(({cameraId:e,hidden:t},r)=>{D5[`${r}_${e}`]=t})),Yr("cameraRemoved",(({cameraId:e,pluginId:t},r)=>{W5({cameraId:e,pluginId:t},r)})),rG((()=>{if(void 0!==yr&&"function"===yr.getCurrentPagesByDomain){var e=yr.getCurrentPagesByDomain("").map((e=>e.__wxWebviewId__));Object.keys(M5).forEach((t=>{var r=t.split("_").shift();-1===e.indexOf(Number(r))&&(delete R5[`${r}_${M5[t]}`],delete D5[`${r}_${M5[t]}`],delete M5[t],L5[r]&&(L5[r].forEach((e=>{clearTimeout(e)})),delete L5[r]))}))}})),Ut("onCameraVideoTaken",((e={},t=0)=>{O5.forEach((r=>{r(e,t)}))}));var U5=(E5=class{constructor(e,t){this.webviewId=e,this.pluginId=t}onCameraFrame(e){if(!e||"function"!=typeof e)throw new Error("callback is not a function");var t=E.surroundThirdByTryCatch(e,"at CameraContext.onCameraFrame callback function");if(Ce||xe)return V5(t,this.webviewId,this.pluginId);var r=this.webviewId,n=Xc(this._invokeMethod.bind(this,"listenFrameChange")),i=Xc(this._invokeMethod.bind(this,"closeFrameChange")),a=!1,o=null,s=null,l=null,c=Qc("start",Vp()((function*(e={}){if(!a){if(a=!0,ke&&!j5[r]&&(yield new Promise((e=>N5.once("cameraInitialized",e)))),!a)throw new Error("listener has been stopped");var i;VQ(["scope.camera"])||(yield bQ("CameraContext.onCameraFrame").catch((e=>({success:!0}))).then((({success:e,errMsg:t,errno:r})=>{if(!e){var n=new Error(t);throw n.errno=r,n}}))),Ie&&cr("onCameraFrame",o=()=>{if(a&&s){var e={width:s.width,height:s.height,data:s.data};t(e)}});try{var{worker:c}=e,d=c?x5(c):void 0,p={};void 0!==d&&Vh("listenFrameChangeInWorker")&&(p.workerId=d),i=yield n(p)}catch(e){throw Ie&&pr("onCameraFrame",o),e}if(!a)throw new Error("listener has been stopped");var h=Zm();if(!h)throw new Error("onCameraFrame is not supported on your device");var f=h.get(i.bufferId);if(!f)throw new Error("onCameraFrame fails to allocate ArrayBuffer");f.__proto__=ArrayBuffer.prototype;var g={width:i.width,height:i.height,data:f};Ie?s={width:i.width,height:i.height,data:f}:cr("onCameraFrame",o=()=>{a&&t(g)}),l=()=>{u()},N5.once("cameraRemoved",l),vZ("cameraFrame")}}))),u=Qc("stop",Vp()((function*(){a&&(a=!1,l&&(N5.off("cameraRemoved",l),l=null),o&&(pr("onCameraFrame",o),o=null),yield i({}))})));return{start:c,stop:u}}_invoke(e,t){t.type=e,Ce||xe||Ae?(F5(t,(({imageData:r,videoData:n})=>{function i(t,n){fd("base64ToTempFilePath",Object.assign({fileType:"jpg",base64Data:r},t),{beforeAll:r=>{"takePhoto"===t.type?r.tempImagePath=r.tempFilePath:r.tempFilePath&&(r.tempThumbPath=r.tempFilePath),n&&(r.tempVideoPath=n),r.errMsg=r.errMsg.replace("base64ToTempFilePath",e),delete r.tempFilePath}})}n?fd("base64ToTempFilePath",{fileType:"webm",base64Data:n,complete(e){i(t,e.tempFilePath)}}):"startRecord"===e?("function"==typeof t.success&&t.success({errMsg:"startRecord:ok"}),"function"==typeof t.complete&&t.complete({errMsg:"startRecord:ok"})):i(t)})),qr("operateCamera",t,[this.webviewId])):VQ(["scope.camera"])?(t.permissionBytes=[1,1,1],Sd("operateCamera",t)):fd("operateCamera",t)}_invokeMethod(e,t){var r=`${this.webviewId}_${this.pluginId}`;if("number"==typeof M5[r]||M5[r]){var n=R5[`${this.webviewId}_${M5[r]}`];if(n.isCancelAuth)return"function"==typeof t.fail&&t.fail({errMsg:"user cancel auth"}),void("function"==typeof t.complete&&t.complete({errMsg:"user cancel auth"}));if("scanCode"===n.mode&&("takePhoto"===e||"startRecord"===e))return"function"==typeof t.fail&&t.fail({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}),void("function"==typeof t.complete&&t.complete({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}));t.cameraId=M5[r],this._invoke(e,t)}else N5.once("cameraInsert",(()=>{this._invokeMethod(e,t)}))}takePhoto(e={}){var t=`${this.webviewId}_${this.pluginId}`;if(D5[`${this.webviewId}_${M5[t]}`])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));"boolean"!=typeof e.selfieMirror&&(e.selfieMirror=!0),this._invokeMethod("takePhoto",e)}setZoom(e={}){jc("CameraContext.setZoom",e,{zoom:1})&&(e.zoom<1&&(e.zoom=1),this._invokeMethod("setZoom",e))}startRecord(e={}){VQ(["scope.camera"])?(B5.set(this,!0),this._startRecord(e)):U6({scope:"scope.record",success:()=>{B5.set(this,!0),this._startRecord(e)},fail:()=>{"function"==typeof e.fail&&e.fail({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."}),"function"==typeof e.complete&&e.complete({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."})}})}_startRecord(e={}){if(B5.get(this)){var t=`${this.webviewId}_${this.pluginId}`;if(D5[`${this.webviewId}_${M5[t]}`])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));var r,n=e.timeoutCallback,i=e.success,a=e.fail,o=()=>{var t="number"==typeof e.timeout?Math.max(0,e.timeout):30;t=Math.min(t,300),r=this._timer=setTimeout((()=>{this._isRecording&&(this.stopRecord({complete:n||function(){}}),this._isRecording=!1)}),1e3*t),0===t?clearTimeout(r):L5[this.webviewId]?L5[this.webviewId].push(r):L5[this.webviewId]=[r];var i=this._videoTaken=(e,t)=>{var a=`${t}_${this.pluginId}`;if(e.cameraId===M5[a]){var o=O5.indexOf(i);o>-1&&O5.splice(o,1),this._isRecording&&(delete e.cameraId,"function"==typeof n&&n(e),this._isRecording=!1,clearTimeout(r))}};O5.push(i)};e.fail=e=>{this._isRecording=!1,r&&(r=clearTimeout(r)),"function"==typeof a&&a(e)},e.success=e=>{r&&(r=clearTimeout(r)),o(),"function"==typeof i&&i(e)},"boolean"!=typeof e.selfieMirror&&(e.selfieMirror=!0),this._invokeMethod("startRecord",e),this._isRecording||(this._isRecording=!0)}}stopRecord(e={}){var t=O5.indexOf(this._videoTaken);t>-1&&(O5.splice(t,1),this._videoTaken=null),this._invokeMethod("stopRecord",e),this._isRecording=!1,clearTimeout(this._timer)}},G()(E5.prototype,"takePhoto",[Nt],Object.getOwnPropertyDescriptor(E5.prototype,"takePhoto"),E5.prototype),G()(E5.prototype,"setZoom",[Nt],Object.getOwnPropertyDescriptor(E5.prototype,"setZoom"),E5.prototype),G()(E5.prototype,"startRecord",[Nt],Object.getOwnPropertyDescriptor(E5.prototype,"startRecord"),E5.prototype),G()(E5.prototype,"stopRecord",[Nt],Object.getOwnPropertyDescriptor(E5.prototype,"stopRecord"),E5.prototype),E5);function z5(e,t,r,n=""){return new U5(t,n)}var q5=e=>{fd("bindPaymentCard",e)},H5=e=>{fd("loadPaySpeechDialectConfig",e)},G5=(e={})=>{ke||Ie?fd("phoneBindCardVerifySms",e):Vc("phoneBindCardVerifySms",e,"not yet supported")},K5=e=>{fd("requestMallPayment",e)},J5=e=>{fd("requestVerifyUserIdentity",e)},X5=e=>{fd("getWCPayOverseaPrepayRequest",e)},Y5=e=>{fd("openOfflinePayView",e)},Q5=(e={})=>{fd("requestEntrustAuthorization",e)},Z5=new Ig("InnerPage",!1),e4={lifetimes:{detached(){var e=this.options;null!=e&&e.pageType&&Z5.emit(`${e.pageType}-unload`,e)},ready(){var e=this.options;null!=e&&e.pageType&&Z5.emit(`${e.pageType}-load`,e)}},pageLifetimes:{hide(){var e=this.options;null!=e&&e.pageType&&Z5.emit(`${e.pageType}-hide`,e)},show(){var e=this.options;null!=e&&e.pageType&&Z5.emit(`${e.pageType}-show`,e)}}};mr((()=>{var e="wx://inner-page",t={[`${e}.json`]:{usingComponents:{}}};gr.Component(e4,"//",t,`${e}.js`)}));var t4=(e,t)=>{Z5.on(`${e}-load`,t)},r4=(e,t)=>{Z5.off(`${e}-load`,t)},n4=(e,t)=>{Z5.on(`${e}-unload`,t)},i4=(e,t)=>{Z5.off(`${e}-unload`,t)},a4=(e,t)=>{Z5.on(`${e}-show`,t)},o4=(e,t)=>{Z5.off(`${e}-show`,t)},s4=(e,t)=>{Z5.on(`${e}-hide`,t)},l4=(e,t)=>{Z5.off(`${e}-hide`,t)},c4=[],u4=null;function d4(){var e=c4;c4=[],u4=null;for(var t=0,r=e.length;t<r;t++){var n,i=e[t];i&&(i=E.surroundThirdByTryCatch(i,"at api nextTick callback function")),null===(n=i)||void 0===n||n()}}var p4=e=>{e&&"function"==typeof e&&(c4.push(e),u4||(u4=setTimeout(d4,0)))},h4=nr("exitMiniProgram"),f4=h4.internalOnMethod,g4=()=>h4.emit(),v4=(e={})=>{fd("exitMiniProgram",e,{beforeSuccess(){h4.emit()}})},m4="payCompletedPage",y4={},b4=[],_4={},w4=()=>{var e=Lt();return b4.push(e),e},S4=(e,t,r)=>{y4[e]?y4[e][t]=r:y4[e]={[t]:r}},C4=[],k4=e=>(e.payCompletedPageArgs.endsWith(".html")&&(e.payCompletedPageArgs=decodeURIComponent(e.payCompletedPageArgs.replace(/\.html$/,""))),JSON.parse(e.payCompletedPageArgs)),I4=(e={})=>{var t,r="";return null!=e&&null!==(t=e.mch_conf)&&void 0!==t&&t.mch_ext_id&&(r=e.mch_conf.mch_ext_id),r},P4=(e,t)=>{var r=n=>{k4(n).payCompletedPageId===e&&"navigateBack"===su.lastOpenType&&p4((()=>{"function"==typeof t&&E.surroundThirdByTryCatch(t,"at on payCompletedPage.onUnload callback function")(),i4(m4,r)}))};n4(m4,r)},T4={};t4(m4,(e=>{if(e.payCompletedPageArgs&&b4.length>0){var t=Date.now(),r=k4(e),n=r.payCompletedPageId,i=r.payCompletedDataObj?"goldPlan":"normal";T4[n]=T4[n]||{},T4[n].startTime=t,S4(n,"timeD",t);var a=I4(r.payCompletedDataObj);if($4("exposePaymentCompletedPage","",n,i,a),qr("paymentCompletedPageOnload",{payCompletedPageId:n}),"function"==typeof _4[n]?(_4[n](),delete _4[n]):_4[n]=!0,!1===r.showNavBackButton){var o=dV((()=>{}),[1,2,3]);C4.push(o)}}})),n4(m4,(e=>{if(e.payCompletedPageArgs){var t=k4(e),r=t.payCompletedPageId,n=t.payCompletedDataObj?"goldPlan":"normal",i=I4(t.payCompletedDataObj);if(T4[r]){var a=T4[r].startTime,o=Date.now()-a;$4("exitPage",JSON.stringify({duration:o}),r,n,i),delete T4[r],ADSDK.handlePayInterstitialAd({op:"destroy"})}else $4("exitPage","",r,n,i);C4.forEach((e=>{pV(e)})),C4=[]}})),s4(m4,(e=>{if(e.payCompletedPageArgs){var t=k4(e),r=t.payCompletedPageId,n=t.payCompletedDataObj?"goldPlan":"normal",i=I4(t.payCompletedDataObj);if(T4[r]){var{showTime:a,showCount:o}=T4[r],s=Date.now()-a;$4("onHide",JSON.stringify({duration:s,showCount:o}),r,n,i)}else $4("onHide","",r,n,i)}})),Eh((e=>{var t;if("__wx__/inner-page"===e.path&&"payCompletedPage"===(null===(t=e.query)||void 0===t?void 0:t.pageType)){var r=JSON.parse(e.query.payCompletedPageArgs),{payCompletedPageId:n}=r;T4[n]=T4[n]||{},T4[n].showTime=Date.now(),T4[n].showCount?T4[n].showCount++:(T4[n].showCount=1,qr("afterPayUserInteractionEnd",{payCompletedPageId:n,onShow:!0}),ADSDK.handlePayInterstitialAd({op:"show"}))}}));var A4=new Map,x4=new Map,E4=(e,t)=>{A4.get(e)?(t(A4.get(e)),A4.delete(e)):x4.set(e,t)},M4=(e,t={})=>{var r,n;$4("fetchPaymentCompletedPageInfo","",e,"","");var i={pay_key_list:(null===(r=t.templateData)||void 0===r?void 0:r.infos)||[],pay_title:null===(n=t.templateData)||void 0===n?void 0:n.title,template_id:t.templateId};tx({apiName:"webapi_getpaycallbackappconf",sdkApiName:"preFetchPaymentCompletedPageInfo",reqData:i,fail(){$4("fetchPaymentCompletedPageInfoFail","",e,"","")},success(){$4("fetchPaymentCompletedPageInfoSuccess","",e,"","")},complete(t){_.info("webapi_getpaycallbackappconf 回调",t),x4.get(e)?(x4.get(e)(t),x4.delete(e)):A4.set(e,t)}})},R4=e=>{var{method:t,payCompletedPageId:r,success:n,fail:i,args:a}=e;switch(t){case"getPaymentCompletedPageInfo":E4(r,(e=>{e.errMsg.indexOf(":fail")>=0?i(e):n(e)}));break;case"couponAdExposure":$4("couponAdExposure",JSON.stringify(a),r,a.payType,a.mchExtId);break;case"bottomAdExposure":var o=Date.now(),s=y4[r];if(s){var{timeA:l,timeB:c,timeC:u,timeD:d}=s;void 0===c?(a.costOne=u-l,a.costTow=d-u,a.costThree=o-d,a.total=a.costOne+a.costTow+a.costThree):u-c<0?(a.costOne=u-l,a.costTow=d-u,a.costThree=o-d,a.costDuringA2B=c-l,a.costDuringB2E=o-c,a.total=a.costOne+a.costTow+a.costThree):(a.cost1=c-l,a.cost2=u-c,a.cost3=d-u,a.cost4=o-d),$4("bottomAdExposure",JSON.stringify(a),r,a.payType,a.mchExtId)}break;case"amountExposure":$4("amountExposure","",r,a.payType,a.mchExtId);break;case"checkPayCompletedPageId":n({valid:b4.includes(r)});break;case"customTicketExposure":var p=Date.now(),h=y4[r];if(h){var{timeA:f,timeB:g,timeC:v,timeD:m}=h,y={};void 0===g?(y.costOne=v-f,y.costTow=m-v,y.costThree=p-m,y.total=y.costOne+y.costTow+y.costThree):v-g<0?(y.costOne=v-f,y.costTow=m-v,y.costThree=p-m,y.costDuringA2B=g-f,y.costDuringB2E=p-g,y.total=y.costOne+y.costTow+y.costThree):(y.cost1=g-f,y.cost2=v-g,y.cost3=m-v,y.cost4=p-m),$4("customTicketExposure",JSON.stringify(y),r,"goldPlan",a.mchExtId)}break;case"report":var{actionType:b,actionStatus:w,mchExtId:S,payType:C}=a;$4(b,w,r,C,S);break;case"navigateToOrSwitchTab":_.info("navigateToOrSwitchTab",a);var{path:k}=a,I=k.split("?")[0];yr.isTabBarPage({route:I})?hE({url:"/"+I,success:e=>{_.info("jumpMiniprogram switchTab success",e),console.log(e)},fail:e=>{_.error("jumpMiniprogram switchTab fail",e),console.error(e)}}):cE({url:"/"+k,success:e=>{_.info("jumpMiniprogram navigateTo success",e),console.log(e)},fail:e=>{_.error("jumpMiniprogram navigateTo fail",e),console.error(e)}})}},D4,O4=e=>{D4=e},L4=e=>"function"==typeof D4&&D4(e),N4=(e={})=>{var t,r,n=e.payCompletedDataObj?"goldPlan":"normal",{payCompletedPageId:i}=e;return $4("beforeOpenPaymentCompletedPage","",i,n,I4(e.payCompletedDataObj),null===(t=e.payCompletedDataObj)||void 0===t||null===(r=t.mch_conf)||void 0===r?void 0:r.custom_url),S4(i,"timeC",Date.now()),new Promise((t=>{var r=`wxpage://inner-page?pageType=payCompletedPage&payCompletedPageArgs=${encodeURIComponent(JSON.stringify(e))}`;Hx.routeRequest({blockUntilFinished:!0,name:"navigateTo",args:{url:r},requestFunc(){su.openingInnerPage=!0,(new Date).toLocaleString(),Sd("navigateTo",{permissionBytes:[1,1,1],url:r,success(e){(new Date).toLocaleString(),_.info("openPayCompletedPage success",e),t()},fail(e){Hx.unblock(),_.info("openPayCompletedPage fail",e),t()}})}})}))},B4="",$4=(e,t,r,n,i="",a="")=>{var o,s=(null==yr?void 0:yr.getCurrentRoute())||"";o="__wx__/inner-page"===s?B4:B4=s;var l=Mu()+" "+Ru();M.reportKeyValue({key:"PayCompletedPage",value:[1,o,e,encodeURIComponent(t),r,n,l,i,encodeURIComponent(a)].join(",")})},F4=()=>{var e=Vh("openPaymentCompletedPage"),t=Vh("openPaymentCompletedPageFull");if(_.info("支付回调页 mainControl=",e),_.info("支付回调页 hasFull=",t),e){if(t)return!0;var r="wx_wxapp_expt_payad",n=JV([r]);return void 0===n[r]?(_.info("支付回调页 exptDefaultTrue"),!0):"1"===n[r]?(_.info("支付回调页 expt=",!0),!0):(_.info("支付回调页 expt=",!1),!1)}return!1},j4=()=>Vh("paymentCompletedPageCoupon"),W4={},V4={};cr("onPayResultBeforeUserInteractionEnd",(e=>{if(!We()){var t=W4[e.requestId];if(t){var{payCompletedPageId:r,withCoupon:n,hasOpenPaymentCompletedPagePermission:i,showNavBackButton:a}=t;S4(r,"timeA",Date.now()),delete W4[e.requestId];var o,s,l,c,u,d,p,h,f,g,v,m={withCoupon:n};if(e.payCompletedData)null!==(u=o=JSON.parse(FP(e.payCompletedData)))&&void 0!==u&&null!==(d=u.mch_conf)&&void 0!==d&&d.mch_ext_id&&(l=m.mchExtId=o.mch_conf.mch_ext_id),null!==(p=o)&&void 0!==p&&null!==(h=p.mch_conf)&&void 0!==h&&h.custom_url&&(s=o.mch_conf.custom_url),null!==(f=o)&&void 0!==f&&null!==(g=f.mch_conf)&&void 0!==g&&g.callback_type&&(c=o.mch_conf.callback_type);if(v=e.payCompletedData?"goldPlanBusinessPay":i?"nomalBusinessPay":"noCallbackPagePay",$4("onPayResultBeforeUserInteractionEnd",v,r,e.payCompletedData?"goldPlan":"normal",l,s),i||o){var y=U4(m,n,o,r,a,c,s,l);V4[r]={handleBeforeUserInteractionEndPromise:y,type:v,mchExtId:l}}else $4("paySuccess","noCallbackPagePay",r,o?"goldPlan":"normal","")}}}));var U4=function(){var e=Vp()((function*(e,t,r,n,i,a,o,s){var l=!1;if(r){_.info("payCompletedDataObj ==",r),L4(e),$4("paySuccess","goldPlanBusinessPay",n,"goldPlan",s,o),M.reportFrameworkIDKey(19);try{if($4("payCompletedData",a,n,"goldPlan",s,o),2===a){var c=0,u=()=>{c++,(e=>{v4({success:()=>{},fail:e})})((()=>{10!==c&&setTimeout((()=>{u()}),500)}))};u()}else if(3===a){var d=yield gC(),p=null==d?void 0:d.data,h=null==p?void 0:p.opinfo_async;M.reportFrameworkIDKey(20),l=!0,yield N4({payCompletedPageId:n,withCoupon:t,payCompletedDataObj:r,banCustom:1===(null==h?void 0:h.ban_payment_diy_receipt),showNavBackButton:i})}}catch(e){$4("payCompletedDataDecodeFail",e.message||e.errMsg,n,"goldPlan","",o),_.error("payCompletedData base64 decode fail",e.message)}}else{$4("paySuccess","nomalBusinessPay",n,"normal","");var f=L4(e);if(kt(f)){var g=yield Promise.race([new Promise((e=>{setTimeout((()=>{e(void 0)}),2e3)})),f]);_.info("是否有广告配置",g),$4("checkHaveAdSuccess",!0===g,n,"normal",""),!0===g&&(l=!0,yield N4({payCompletedPageId:n,withCoupon:t,showNavBackButton:i}))}else _.info("checkHaveAdPromise is not promise",f,n),$4("checkHaveAdSuccess",!1,n,"normal","")}return{needSetCallbackResult:l}}));return function(t,r,n,i,a,o,s,l){return e.apply(this,arguments)}}(),z4=function(){var e=Vp()((function*(e,t){S4(e,"timeB",Date.now()),(new Date).toLocaleString();var r=V4[e];if(r){var{handleBeforeUserInteractionEndPromise:n,type:i,mchExtId:a}=r;$4("handleAfterUserInteractionEnd","",e,i,a),delete V4[e];var{needSetCallbackResult:o}=yield n;o&&q4(t,e),!0===_4[e]?($4("publish_afterPayUserInteractionEnd",1,e,i,a),qr("afterPayUserInteractionEnd",{payCompletedPageId:e}),delete _4[e]):_4[e]=()=>{$4("publish_afterPayUserInteractionEnd",2,e,i,a),qr("afterPayUserInteractionEnd",{payCompletedPageId:e})}}}));return function(t,r){return e.apply(this,arguments)}}(),q4=(e,t)=>{e.payCompletedPage={onLoad(e){setTimeout((()=>{e()}),0)},onUnload(e){P4(t,e)}}};re.onReady((()=>{O4((({withCoupon:e,mchExtId:t})=>ADSDK.loadPayAd({hasWxPayCustomCard:!!e,mchExtId:t})))}));var H4=(()=>{var e,t,r,n;return Eh((i=>{e=+i.scene||0,t=i.scene_note||i.sceneNote||"",r=+i.prescene||0,n=i.prescene_note||i.presceneNote||""})),re.onReady((()=>{(()=>{var i=re.appLaunchInfo||{};e=i.scene||0,t=i.scene_note||i.sceneNote||"",r=i.prescene||0,n=i.prescene_note||i.presceneNote||""})()})),()=>({scene:e,scene_note:t,prescene:r,prescene_note:n})})();function G4(e){var t=re.accountInfo&&re.accountInfo.appId||"noAppId";iS("getRiskWarningFromGlobalStorage",{appId:t},void 0,e)}function K4(e,t){var r=re.accountInfo&&re.accountInfo.appId||"noAppId";e&&iS("setRiskWarningToGlobalStorage",{riskWarning:e,appId:r},void 0,t)}function J4(e){var t=re.accountInfo&&re.accountInfo.appId||"noAppId";iS("getRequestPaymentFromGlobalStorage",{appId:t},void 0,e)}function X4(e,t){var r=re.accountInfo&&re.accountInfo.appId||"noAppId";e&&iS("setRequestPaymentToGlobalStorage",{requestPayment:e,appId:r},void 0,t)}var Y4=500,Q4={UNCHECK:0,CHECK_FAIL:1,CHECK_TIMEOUT:2,SUCCESS:3,REJECT:4},Z4={NONE:0,CONFIRM:1,CANCEL:2},e7={NONE:0,SUCCESS:1,FAILED:2},t7=({ticket:e,checkTicketStatus:t})=>{var r=re.appLaunchInfo||{},n=H4(),i=[r.sessionid||r.sessionId||"",n.scene,n.scene_note,n.prescene,n.prescene_note,t||0,e||""].join(",");M.reportKeyValue({key:"RequestPaymentCheckTicket",value:i})},r7=function(){var e=Vp()((function*({extUserUin:e,addOrderStatus:t,requestPaymentStatus:r,requestPaymentErrmsg:n,prepayId:i,payInfo:a,outOrderId:o}){var s=fw(!0),l=re.appLaunchInfo||{},{data:c}=yield rx({apiName:"webapi_openproductreportorder",reqData:{ext_info:{ext_useruin:e,ext_appid:re.host&&re.host.appId,session_id:l.sessionid||l.sessionId||"",...H4(),add_order_status:t,request_payment_status:r,request_payment_errmsg:n,model:s.model,brand:s.brand,version:s.version,system:s.system,platform:s.platform,sdk_version:s.SDKVersion},prepay_id:i,pay_info:a,order_info:{out_order_id:o}}});return c}));return function(t){return e.apply(this,arguments)}}(),n7=e=>{var t=Object.keys(su.query).map((e=>`${e}=${su.query[e]}`)).join("&"),r=[`${su.lastRoute}?${t}`,e].join(",");M.reportKeyValue({key:"RequestPaymentRiskConfirm",value:r})},i7=Xc(tx),a7=function(){var e=Vp()((function*(e={}){var{data:t}=yield i7({apiName:"webapi_openproductcheckticket",reqData:{...e}});return t}));return function(){return e.apply(this,arguments)}}(),o7=function(){var e=Vp()((function*(){var{time:e,isRiskWarning:t,wording:r}=yield new Promise((e=>{J4((t=>{var r,n,i,a,o=!1,s="";((null==re||null===(r=re.appContactInfo)||void 0===r||null===(n=r.operationInfo)||void 0===n||null===(i=n.jsonInfo)||void 0===i||null===(a=i.warning_info)||void 0===a?void 0:a.jsapi_alter)||[]).forEach((e=>{"requestPayment"===e.jsapi_name&&e.wording&&(o=!0,s=e.wording)})),e({time:t,isRiskWarning:o,wording:s})}))})),n=(+new Date-(e||0))/1e3/60;if(t&&!(n<30)){var i=Z4.NONE;try{yield new Promise(((e,t)=>{ij({content:r,confirmText:"继续支付",cancelText:"取消",success(r){r.confirm?(i=Z4.CONFIRM,e()):(i=Z4.CANCEL,t(new Error("cancel")))}})})),X4(+new Date)}finally{n7(i)}}}));return function(){return e.apply(this,arguments)}}(),s7=!1,l7=500,c7=!1,u7=Xc(tx),d7=function(){var e=Vp()((function*(e){var t=qS(),{data:r}=yield u7({apiName:"webapi_openproduct_bizaccount",reqData:{path:e.path,query:JSON.stringify(e.query||{}),cookie:t}});return r}));return function(t){return e.apply(this,arguments)}}(),p7=function(){var e=Vp()((function*(e){try{if(void 0!==e.openproduct_checkticket&&(s7=!!e.openproduct_checkticket),void 0!==e.openproduct_checktickettimeout&&(l7=parseInt(e.openproduct_checktickettimeout,10)),void 0!==e.openproduct_checkticket_deprecated&&(c7=!!e.openproduct_checkticket_deprecated),void 0!==e.openleague_cookie){var t=[];jS(e.openleague_cookie||"",!1,t);var r=GS({cookies:t});r&&_.error("[set openleague_cookie]",r)}if(void 0!==e.share_cookie){var n=[];jS(e.share_cookie||"",!1,n);var i=GS({cookies:n,isTemporary:!0});i&&_.error("[set share_cookie]",i)}}catch(e){}}));return function(t){return e.apply(this,arguments)}}();re.onReady((()=>{He()&&(setTimeout((()=>{Vh("requestPayment")&&(qh()?new Promise((e=>{uC({id:sC.RequestBizaccount,success:t=>{var r=t.data;e(r)},fail:()=>{e({})}})})):d7(re.appLaunchInfo||{})).then((e=>{p7(e)}))}),4e3),Eh((e=>{(e.reLaunch||e.isLaunch)&&setTimeout((()=>{Vh("requestPayment")&&d7(e).then((e=>{p7(e)}))}),1500)})))}));var h7=()=>{var e,t,r;return{shouldCheck:null!==(e=s7)&&void 0!==e&&e,timeout:null!==(t=l7)&&void 0!==t?t:Y4,deprecated:null!==(r=c7)&&void 0!==r&&r}},f7,g7=null,v7=(e,t)=>{var r=[];null!=e&&e.content&&e.content.split("\n").forEach(((e,t)=>{var n=[],i=e.matchAll(/(?<preText>.*?)<a\shref="(?<href>.*?)">(?<linkText>.*?)<\/a\s?>(?<endText>.*?)/g);if(i){var a=[...i];if(a&&a[0]){n=a.map((e=>{if(e.groups){var{preText:t,linkText:r,href:n}=e.groups;return{preText:t,linkText:r,href:n}}return{}}));var o=a[a.length-1][0],s=e.split(o)[1];n.push({preText:s})}else n.push({preText:e})}r.push({id:t,textList:n})}));__sclEngine__.initScl((n=>{f7=dV((()=>{}),[1,2,3]),(g7=n.mainRoot.append("sync-order-modal",{contentWordingList:r,title:e.title,confirmText:e.accept_button_word,cancelText:e.deny_button_word,imgUrl:e.img_url,darkImgUrl:e.dark_img_url},{underMenuButton:!0})).addListener("jump",(({detail:e})=>{dU({url:e.url,success:e=>{},fail:e=>{_.error("sync-order-modal fail",e)}})})),g7.addListener("destroy",(({detail:e})=>{pV(f7);try{n.mainRoot.remove(g7)}catch(e){_.error("remove error:",e)}g7=null,"allow"===e.reason?t({accept:!0}):"cancel"===e.reason&&t({accept:!1})}))}),!0)},m7,y7=!1,b7="",_7={title:"",content:"",accept_button_word:"",deny_button_word:"",img_url:""};re.onReady((()=>{var e,t,r,n,i=null===(e=re.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||null===(r=t.wxa_mgr)||void 0===r||null===(n=r.mgr_list)||void 0===n?void 0:n.some((e=>1053===e.id&&1===e.value));He()&&i?setTimeout((()=>{var e;Vh("requestPayment")?((e=qh()?new Promise((e=>{uC({id:sC.CheckUserOrderAuthStatus,success:t=>{_.info("CheckUserOrderAuthStatus 1 success",t);var r=t.data;e(r)},fail:t=>{_.error("CheckUserOrderAuthStatus 1 fail",t),e({})}})})):new Promise((e=>{tx({timeout:1e4,apiName:"webapi_mmec_wxa_auth",sdkApiName:"CheckUserOrderAuthStatus",reqData:{method:"CheckUserOrderAuthStatus",msg:{}},success:t=>{_.info("CheckUserOrderAuthStatus 2 success",t),e(t.data)},fail:t=>{_.error("CheckUserOrderAuthStatus 2 fail",t),e({})}})}))).then((e=>{"number"==typeof e.status?1!==e.status&&0!==e.status&&2!==e.status||(b7=e.cookie,y7=0===e.status&&1===e.need_auth,_7=e.auth_display_info||{}):b7=`mmec_wxa_order_payment=${Lt()}; expires=${Math.round(Date.now()/1e3)+2592e3}; busid=mmec_wxa_order;; `;var t=[];jS(b7||"",!1,t),GS({cookies:t})})),m7=e):m7=Promise.resolve({})}),4e3):m7=Promise.resolve({})}));var w7=()=>m7,S7=()=>{if(y7)return new Promise((e=>{y7=!1,v7(_7,(({accept:t})=>{tx({apiName:"webapi_mmec_wxa_auth",sdkApiName:"SetUserOrderAuthStatus",reqData:{method:"SetUserOrderAuthStatus",msg:{status:t?1:2,cookie:b7}},success:e=>{if(_.info("SetUserOrderAuthStatus success",e),e.data.cookie){var t=[];jS((b7=e.data.cookie)||"",!1,t),GS({cookies:t})}},fail:e=>{_.error("SetUserOrderAuthStatus fail",e);var t=[];jS((b7=`mmec_wxa_order_payment=${Lt()}; expires=${Math.round(Date.now()/1e3)+2592e3}; busid=mmec_wxa_order;; `)||"",!1,t),GS({cookies:t})}}),e()}))}))},C7=function(){var e=Vp()((function*(e,t={}){e=Object.assign({},e);var{deprecated:r,shouldCheck:n}=h7(),i=n||!1,a=F4()&&(Ie||ke),o=j4();_.info("是否开了支付回调页功能",a),_.info("是否配了商家优惠券",o);var s=w4();if(a&&M4(s,e.payCompletedPageOptions),i){if(r)throw new Error("wx.requestPayment is disabed");var l=Q4.UNCHECK,c=e.ticket||"";try{var u=h7().timeout||Y4;try{var{is_authorized:d}=yield Promise.race([a7({ticket:c,prepay_id:e.package.replace("prepay_id=",""),...H4(),cookie:qS(),sdk_version:re.SDKVersion||""}),x7("timeout",u)]);l=d?Q4.SUCCESS:Q4.REJECT}catch(e){_.error("[paymentCheckTicket] fail",e),l=e&&"timeout"===e.message?Q4.CHECK_TIMEOUT:Q4.CHECK_FAIL}if(l===Q4.REJECT)throw new Error("wx.requestPayment is disabled in the current context")}finally{t7({ticket:c,checkTicketStatus:l})}}var p,h=e7.NONE;try{var f,g,v=yield R7(e,{payCompletedPageId:s,withCoupon:o,hasOpenPaymentCompletedPagePermission:a,showNavBackButton:null===(f=e)||void 0===f||null===(g=f.payCompletedPageOptions)||void 0===g?void 0:g.showNavBackButton,...t});return h=e7.SUCCESS,yield S7(),v}catch(e){throw h=e7.FAILED,p=e.message,e}finally{i&&r7({prepayId:(e.package||"").replace("prepay_id=",""),requestPaymentStatus:h,requestPaymentErrmsg:p})}}));return function(t){return e.apply(this,arguments)}}(),k7=0,I7=Yc("requestPayment",function(){var e=Vp()((function*(e){var t=Mt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);return yield w7(),yield C7(e)}));return function(t){return e.apply(this,arguments)}}()),P7=Yc("requestPayment",function(){var e=Vp()((function*(e){var t=Mt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(t)throw new Error(`parameter error: ${t}`);return e=Object.assign({},e),yield R7(e)}));return function(t){return e.apply(this,arguments)}}()),T7=Xc(fd.bind(null,"requestPayment")),A7=Xc(fd.bind(null,"requestScanPOSPay")),x7=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),E7=!1,M7=()=>E7,R7=function(){var e=Vp()((function*(e,{payCompletedPageId:t,withCoupon:r,hasOpenPaymentCompletedPagePermission:n,showNavBackButton:i,useRequestScanPOSPay:a=!1,ext:o={}}={}){var s,l,c,u;yield o7();var d=qS();e.passCookies&&"string"==typeof e.passCookies?e.cookie=d?e.passCookies+";; "+d:e.passCookies:d?e.cookie=d:delete e.cookie,delete e.passCookies,e.cookie;var p=rn(),h=null===(s=re.appContactInfo)||void 0===s||null===(l=s.operationInfo)||void 0===l||null===(c=l.jsonInfo)||void 0===c||null===(u=c.op_info)||void 0===u?void 0:u.jump_homepage_after_pay,f=()=>E7=!0;o.afterSuccess=f,Ce&&(o.afterAll=f),k7++,W4[k7]={payCompletedPageId:t,withCoupon:r,hasOpenPaymentCompletedPagePermission:n,showNavBackButton:i};var g=a?A7:T7,v=yield g({adUxInfo:p,...e,grantMessageQuota:!0,requestId:k7,commonUxInfo:nn()},o);_.info("支付客户端返回的 res",v);var m=v.payCompletedData;if(delete v.payCompletedData,h){var y=re.entryPagePath;y&&("/"!==y[0]&&(y="/"+y),y=y.replace(".html",""),pE({url:y}),tE(100))}else(n||m)&&(yield z4(t,v));return tx({apiName:"webapi_reportpayrecord",reqData:{prepay_id:e.package.replace("prepay_id=","")}}),iS("reportPaymentFormId",{packageStr:e.package}),MB(),v}));return function(t){return e.apply(this,arguments)}}(),D7=3e4,O7=null,L7=null,N7=()=>{L7=null,O7=null,gj({},!0)};Yr("InputWxPayConfirm",((e,t)=>{L7&&(clearTimeout(L7),N7()),O7=+e.value,qr("InputWxPayAmountSet",e,[t]),uj({icon:"loading",title:"正在加载",duration:D7,mask:!0},!0),L7=setTimeout((()=>{N7(),qr("InputWxPayAmountTimeout",e,[t])}),D7)}));var B7=e=>{var t=()=>{L7&&clearTimeout(L7),N7()};if(!O7)return t(),Vc("requestScanPOSPay",e,"invalid amount");var r=Object.assign({},e,{amount:O7});return t(),$7(r)},$7=Yc("requestScanPOSPay",function(){var e=Vp()((function*(e,t={}){var r=Mt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:"",amount:0});if(r)throw new Error(`parameter error: ${r}`);return yield C7(e,{ext:t,useRequestScanPOSPay:!0})}));return function(t){return e.apply(this,arguments)}}()),F7=Xc(tx),j7=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(e))),t))),W7={NONE:0,SUCCESS:1,FAILED:2,TIMEOUT:3,REJECTED:4},V7={NONE:0,SUCCESS:1,FAILED:2},U7=function(){var e=Vp()((function*({extUserUin:e,prepayId:t,payInfo:r,orderInfo:n}={}){var i=re.appLaunchInfo||{},a=re.host&&re.host.appId,o=i.sessionid||i.sessionId||"",s=qS(),l=re.SDKVersion||"",c=H4(),u=Date.now(),{data:d}=yield F7({apiName:"webapi_openproductaddorder",reqData:{ext_info:{ext_useruin:e,ext_appid:a,session_id:o,cookie:s,sdk_version:l,...c},prepay_id:t,pay_info:r,order_info:n,check_agreement:!0}}),p=Date.now(),h=[e,a,o,s,l,c.scene||"",c.scene_note||"",c.prescene||"",c.prescene_note||"",t,r,p-u,p].join(",");return M.reportKeyValue({key:"PaymentAddOrderCall",value:h}),d}));return function(){return e.apply(this,arguments)}}(),z7=e=>{var t;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){}else t=e;return new Promise((e=>{if(!t)return e(!0);__sclEngine__.initScl((r=>{var n=r.mainRoot.append("request-order-payment",{...t});n.addListener("confirm",(()=>e(!0))),n.addListener("cancel",(()=>e(!1)));var i=dV((()=>{n.handleCancel(),pV(i)}))}))}))},q7=(e,t,r="")=>new Promise(((n,i)=>{vj(),ij({title:e,confirmText:t,cancelText:r,showCancel:!!r,success({confirm:e}){n(!!e)},fail:i})})),H7=function(){var e=Vp()((function*(){var{data:e}=yield F7({apiName:"webapi_openproductacceptagreement",reqData:{}});return e}));return function(){return e.apply(this,arguments)}}(),G7=Yc("requestOrderPayment",Vp()((function*(e={}){var t=e.package,r="",n="",i="string"==typeof t,a=i&&0===t.indexOf("pay_info="),o=i&&0===t.indexOf("pay_score=");if(a||o){var s=Mt(e,{package:""});if(s)throw new Error(`parameter error: ${s}`);n=o?t.replace("pay_score=",""):t.replace("pay_info=","")}else{var l=Mt(e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""});if(l)throw new Error(`parameter error: ${l}`);r=(t||"").replace("prepay_id=","")}var c,u,d,{orderInfo:p={},extUserUin:h,...f}=e,g=h7().timeout,v=(e.orderInfo||{}).out_order_id,m=W7.NONE,y=V7.NONE;try{try{var b=yield Promise.race([U7({extUserUin:h,prepayId:r,payInfo:n,orderInfo:p}),j7("timeout",g)]),{errcode:w,errmsg:S}=b,{cookie:C,pay_info:k,agreement_info:I,risk_info:P}=b;if(P&&P.decision){var{decision:T,action:A,wording:x,block_page_info:E}=P;if(1===T){if(1===A)yield q7(x,E.alternative_btn_wording);else if(2===A){var M=yield q7(x,E.btn_wording,E.alternative_btn_wording);M&&E.btn_direct_url?dU({url:E.btn_direct_url}):!M&&E.alternative_btn_wording_direct_url&&dU({url:E.alternative_btn_wording_direct_url})}}else if(2===T&&50===A){(yield q7(x,E.btn_wording,E.alternative_btn_wording))||(w=1010067,S="user cancel")}}if(1040046===w){var R=I.agreement_content;(yield z7(R))?(w=0,S="",H7()):S=S||"user rejected"}if(m=0===w?W7.SUCCESS:W7.REJECTED,u=S,c=w,n&&k&&(n=k),0===w&&void 0!==C){var D=[];jS(C||"",!1,D);var O=GS({cookies:D});O&&_.error("[set openleague_cookie]",O)}}catch(e){m=e&&"timeout"===e.message?W7.TIMEOUT:W7.FAILED}if(m===W7.REJECTED)throw new Jc(u||"addOrder failed",{addOrderErrCode:c});if(n)try{var L=OrderMidasSDK.getMidasPayApi(e.midasExtraData),N=e.midasEnv||"release";yield new Promise(((e,t)=>{L.init(N);var r=(r,n,i)=>{0===r?e():t(-2===r?new Error(`cancel, errCode: ${r}, innerCode: ${n}, message: ${i}`):-3===r?new Error(`parameter error, errCode: ${r}, innerCode: ${n}, message: ${i}`):new Error(`fail, errCode: ${r}, innerCode: ${n}, message: ${i}`))};o?L.launchPayScore(n,{mode:"wxpayScoreUse"},r):L.pay(n,r)})),y=V7.SUCCESS}catch(e){throw d=e.message||"unknown",y=V7.FAILED,e}else try{var B=VS({key:"prepay_id",value:r,busid:"mmbiz_wxa_related_order"});f.passCookies&&"string"==typeof f.passCookies?f.passCookies=B+";;"+f.passCookies:f.passCookies=B,yield R7(f),y=V7.SUCCESS}catch(e){throw d=e.message||"unknown",y=V7.FAILED,e}}finally{r7({extUserUin:h,addOrderStatus:m,requestPaymentStatus:y,requestPaymentErrmsg:d,prepayId:r,payInfo:n,outOrderId:v})}}))),K7=(e={})=>{var{success:t,fail:r,complete:n}=e;tx({sdkApiName:"checkBeforeAddOrder",apiName:"webapi_openproductcheckscene",reqData:{scene:H4().scene,cookie:qS()},success(e){"function"==typeof t&&t(e),"function"==typeof n&&n(e)},fail(e){"function"==typeof r&&r(e),"function"==typeof n&&n(e)}})},J7=e=>{fd("handleWCPayOverseaWalletBuffer",e)},X7=(e={})=>{fd("openSelectPayment",e)},Y7=(e={})=>{fd("requestFacetoFacePayment",e)},Q7=e=>{fd("setCurrentPaySpeech",e)},Z7=e=>{fd("openWCPayCardList",e)},e8=e=>{fd("requestH5Transaction",e)},t8=e=>{fd("requestPaymentToBank",e)},r8=e=>{fd("verifyPaymentPassword",e)},n8=(e={})=>{jc("requestQueryCashier",e,{timeStamp:0,nonceStr:"",package:"",signType:"",paySign:""})&&fd("requestQueryCashier",e)},i8=e=>{fd("openWCPayOverseaPaymentReceive",e)},a8=e=>{fd("requestJointPayment",e)},o8=e=>{var t=vd(e);return(e={})=>{t("requestPersonalPay",e)}},s8=o8(),l8=e=>{jc("notifyWCPayResult",e,{appId:"",timeStamp:"",bizEventKey:""})&&fd("notifyWCPayResult",e)},c8=e=>{var t;fd("requestMedicalInsurancePay",Object.assign({},e,{appid:(null===(t=re.accountInfo)||void 0===t?void 0:t.appId)||""}))},u8=e=>{fd("requestMerchantTransfer",e)},d8=function(e,t,r){setTimeout((()=>{qr("callbackMiniProgramFunction",{callbackId:t,argArr:r},[e])}),0)},p8=e=>{var t=null;"object"!=typeof e&&(e=[e]);for(var r=0;r<e.length;r++){var n=e[r];".js"!==n.slice(-3)&&(n+=".js");try{t=_r.require(n)}catch(e){}if(t)return t}return t},h8=({callbackId:e,paths:t,funcName:r,argArr:n},i)=>{var a=p8(t);if(a)if("function"!=typeof a[r]){d8(i,e,[{errMsg:"callMiniProgramFunction:fail Function not found"}])}else n.push(((...t)=>{d8(i,e,t)})),a[r].apply({},n);else{d8(i,e,[{errMsg:"callMiniProgramFunction:fail File not found"}])}};Yr("callMiniProgramFunction",h8);var f8=(e,t,r,n)=>{var i=p8(e);if(i)if("function"!=typeof i[t]){n({errMsg:"callMiniProgramFunction:fail Function not found"})}else r.push(((...e)=>{n(...e)})),i[t].apply({},r);else{n({errMsg:"callMiniProgramFunction:fail File not found"})}},{pluginInfos:g8}=th,v8,m8=[],y8=e=>{var t=String(e).split(".",3);return t.length<3?-1:Number(1e3*t[0]*1e3+1e3*t[1]+1*t[2])},b8,_8=e=>{if(e){void 0===v8&&(v8=[]);for(var t=0;t<e.length;t++){var r=e[t];v8.push(r);var n=r.appId;if(void 0!==r.appId&&void 0!==r.plugin_list&&(r.plugin_list[0]&&g8[n])){var i=r.plugin_list[0].PluginNetWork||{},a=r.plugin_list[0].last_version||{};g8[n].domains={request:i.RequestDomain||[],uploadFile:i.UploadDomain||[],downloadFile:i.DownloadDomain||[],connectSocket:i.WsRequestDomain||[],tcp:i.TCPDomain||[]},g8[n].latestCustomVersion=y8(a.custom_version)}}}};function w8(){void 0!==b8&&b8(),m8.forEach((e=>{e(v8)}))}function S8(e){void 0===v8?m8.push(e.success):e.success(v8)}var C8=(e,t)=>{for(var r=0;r<e.length;r++){var n=e[r],i=n.plugin_id,a=g8[i];if(!a)return;a.banning=n.banning,a.runningFlag=n.running_flag_info,a.hostSign={noncestr:n.noncestr||"",timestamp:n.timestamp||"",signature:n.host_sign||""},!0!==t[i]&&"latest"===a.specifiedVersion&&2===a.runningFlag&&(a.runningFlag=0)}k8(e),b8&&b8()},k8=e=>{"android"===re.platform&&(b8=()=>{for(var t=function(){var t=e[r],n=t.plugin_id,i=g8[n];if(!i)return{v:void 0};var a=(e,r)=>{var n=new Set(i.domains[e]);t[r].forEach((e=>{n.add(e)})),i.domains[e]=Array.from(n)};a("request","request_domain"),a("uploadFile","upload_domain"),a("downloadFile","download_domain"),a("connectSocket","wsrequest_domain")},r=0;r<e.length;r++){var n=t();if("object"==typeof n)return n.v}_.info("[Plugin] (5072) doCombineDomainsFromVerifyPlugin -> ",Object.keys(g8).map((e=>[e,g8[e].domains])))})},I8=({version:e,customVersion:t,specifiedVersion:r})=>({customVersion:t,version:e,domains:{},hostSign:{},specifiedVersion:r}),P8=({name:e,scene:t,strategy:r,timeDiffToLastTap:n=0})=>{var i;void 0!==yr&&(i=yr.getCurrentPagesByDomain("").find((e=>e.__wxWebviewId__===su.currentWebviewId))||{});var a=[e,t,M.getAppType(),i?i.route:"",r||0,n].map(encodeURIComponent).join(",");M.reportKeyValue({key:"RecycledAPI",value:a})},T8={constant:{modalCancel:"取消"}},A8=["modalConfirm1","modalMessage1","modalSkipLink1","modalConfirm2","modalMessage2","modalSkipLink2","attemptSkipMaxThreshold","attemptSkipMinTime","currentAttemptSkipCount","shouldExecuteFirstSkipLimitStrategy","shouldExecuteSkipMaxLimitStrategy","expId1","expId2","startLimitCount","uneffectFirstSkipLimit"];T8.attemptSkipMaxThreshold=5,T8.currentAttemptSkipCount=0,T8.currentUserFirstUseThisGame=!1,T8.currentUserUseThisGameTime=0,T8.currentUserUseThisGameTimer=null,T8.isPause=null,T8.limitStrategy=null;var x8=e=>1===e?3303:3304,E8={count:0,uuid:null,navigateCount:0,bannedCount:0},M8=()=>{E8.uuid||(E8.uuid=Lt())},R8=(e,t,r)=>{M8(),E8.count,E8.uuid,E8.bannedCount,E8.navigateCount,parseInt(Date.now()/100,10),M.reportKeyValue({key:"WeAppNavBan",value:[re.appType+1e3,re.appLaunchInfo.scene,33,x8(e),0,1,"","",ag(),encodeURIComponent(JSON.stringify({content:t,expid:r,uuid:E8.uuid,bannedCount:E8.bannedCount,navigateCount:E8.navigateCount,count:E8.count,timestamp:parseInt(Date.now()/100,10)}))].join(",")})},D8=(e,t,r)=>{M.reportKeyValue({key:"WeAppNavBan",value:[re.appType+1e3,re.appLaunchInfo.scene,33,x8(e),1,2,"","",ag(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})},O8=(e,t,r)=>{M.reportKeyValue({key:"WeAppNavBan",value:[re.appType+1e3,re.appLaunchInfo.scene,33,x8(e),2,2,"","",ag(),encodeURIComponent(JSON.stringify({content:t,expid:r}))].join(",")})};Object.defineProperties(T8,{allowSkip:{get(){return this.shouldExecuteSkipMaxLimitStrategy&&(this.startLimitCount&&this.currentAttemptSkipCount++,this.currentAttemptSkipCount>this.attemptSkipMaxThreshold)?(this.limitStrategy=1,R8(1,this.modalMessage,this.expId1),1):this.shouldExecuteFirstSkipLimitStrategy&&this.currentUserUseThisGameTime<=this.attemptSkipMinTime?(this.limitStrategy=2,R8(2,this.modalMessage,this.expId2),2):3},configurable:!1},needLimit:{get(){return this.shouldExecuteFirstSkipLimitStrategy||this.shouldExecuteSkipMaxLimitStrategy},configurable:!1},...A8.reduce(((e,t)=>(e["set"+t.slice(0,1).toUpperCase()+t.slice(1)]={get:()=>e=>{T8[t]=e},configurable:!1},e)),{}),modalMessage:{get(){return this["modalMessage"+this.limitStrategy]},configurable:!1},modalConfirm:{get(){return this["modalConfirm"+this.limitStrategy]},configurable:!1},modalSkipLink:{get(){return this["modalSkipLink"+this.limitStrategy]},configurable:!1},reportModalConfirm:{get(){return()=>{D8(this.limitStrategy,this.modalMessage,this["expId"+this.limitStrategy])}},configurable:!1},reportModalCancel:{get(){return()=>{O8(this.limitStrategy,this.modalMessage,this["expId"+this.limitStrategy])}},configurable:!1}}),T8.resumeLimitTimer=function(e){this.isPause=!1,e&&clearTimeout(this.currentUserUseThisGameTimer),this.currentUserUseThisGameTimer=setTimeout((()=>{this.currentUserUseThisGameTime++,this.isPause||(this.currentUserUseThisGameTime<=this.attemptSkipMinTime?this.resumeLimitTimer():this.uneffectFirstSkipLimit||(this.setUneffectFirstSkipLimit(!0),this.setCurrentAttemptSkipCount(0)))}),1e3)},T8.pauseLimitTimer=function(){this.isPause=!0},T8.allowStartLimitCount=function(){this.setStartLimitCount(!0)};var L8=(e={})=>{fd("openWeAppSearch",e)},N8=(e={})=>{fd("openWeAppHistoryList",e)},B8=(e={})=>{fd("openWeAppStarList",e)},$8=(e={})=>{fd("openWeAppAuthManageList",e)},F8=(e={})=>{if(Vh("batchGetContactDirectly"))fd("batchGetContact",e,{beforeAll(e){e.errMsg=e.errMsg.replace("batchGetContact","batchGetContactDirectly")}});else{var t="batchGetContactDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},j8=(e={})=>{if(Ie||ke){var{type:t}=e,r="app";0,r=t||r,Promise.all([new Promise(((e,t)=>{fd("preloadMiniProgramEnv",{type:r,fail:e=>{t(e),_.warn("navigateToMiniprogram create preload env fail:",e)},success(t){e(t)}})})),new Promise(((t,r)=>{fd("predownloadMiniProgramPackage",{appId:e.appId,path:e.path,scene:1,success:e=>{t(e)},fail:e=>{_.warn("navigateToMiniprogram load miniProgramPackage fail:",e),r(e)}})}))]).then((t=>{e.success&&e.success(t)})).catch((t=>{e.fail&&e.fail(t)}))}},W8=(e={})=>{if(Vh("preloadMiniProgramEnvDirectly"))fd("preloadMiniProgramEnv",e,{beforeAll(e){e.errMsg=e.errMsg.replace("preloadMiniProgramEnv","preloadMiniProgramEnvDirectly")}});else{var t="preloadMiniProgramEnvDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},V8=(e={})=>{if(Vh("predownloadMiniProgramPackageDirectly"))fd("predownloadMiniProgramPackage",e,{beforeAll(e){e.errMsg=e.errMsg.replace("predownloadMiniProgramPackage","predownloadMiniProgramPackageDirectly")}});else{var t="predownloadMiniProgramPackageDirectly:fail no permission";"function"==typeof e.fail&&e.fail({errMsg:t}),"function"==typeof e.complete&&e.complete({errMsg:t})}},U8={confirm:{zh_cn:"允许",zh_tw:"允許",zh_hk:"允許",en:"Allow"},cancel:{zh_cn:"取消",zh_tw:"取消",zh_hk:"取消",en:"Cancel"}},z8=Xc(tx),q8=function(){var e=Vp()((function*(e={},t={},r={}){_.info(`[__doNavigateToMiniProgram], args=${JSON.stringify(e)}, privateArgs=${JSON.stringify(t)}, ext=${JSON.stringify(r)}`);var n=Object.assign({},e);delete n.sourcetype,delete n.preScene,delete n.preSceneNote,delete n.mode,Ge()||(delete n.scene,delete n.sceneNote);var i=zS();i?(n.privateExtraData=n.privateExtraData||{},n.privateExtraData.cookies=i):n.privateExtraData&&delete n.privateExtraData.cookies;var a=Object.assign({},n,t);return"string"==typeof a.path&&a.path.trim().length>0?a.path=Ld(a.path,!1).trim():a.path=void 0,a.halfPage=Object.assign({},a.halfPage||{}),a.halfPage.hideCapsuleMenu=!1,a.halfPage.capsuleMenuType="singleClose",_.info(`[__doNavigateToMiniProgram], finalArgs=${JSON.stringify(a)}`),a.needTransferToWeChat&&Fe()?(yield gd("sdk_navigateToMiniProgram",a,r),{}):gd("navigateToMiniProgram",a,r)}));return function(){return e.apply(this,arguments)}}(),H8=Yc("doNavigateToMiniProgram",q8),G8=(e,t,r,n,i)=>{var a=[e,t,re.appType+1e3,r+1e3,n,Ou(i)].join(",");M.reportKeyValue({key:"NavigateToMiniProgramAlert",value:a})},K8=(()=>{var e;return()=>(e||(e=new Promise((e=>{__sclEngine__.initScl((t=>e(t.mainRoot)))}))),e)})(),J8=function(){var e=Vp()((function*(e){var t,r=yield K8();switch(Y8){case X8.HALF_SCREEN_DIALOG_WITHOUT_LOGO:t=r.append("navigateToMp",{title:e.oldWording,logo:"",name:"",type:X8.HALF_SCREEN_DIALOG});break;case X8.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:X8.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({used_friend_cnt_sub_desc:e})=>{t.setData({desc:e||""})}));break;case X8.HALF_SCREEN_DIALOG_WITH_SCORE:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:X8.HALF_SCREEN_DIALOG}),e.expensiveWording&&e.expensiveWording.then((({score_sub_desc:e})=>{t.setData({desc:e||""})}));break;default:t=r.append("navigateToMp",{title:e.title,logo:e.icon_url,name:e.desc,type:Y8})}var n=dV((e=>{[QW.BottomBackButton,QW.NavigationBackInterceptionType,QW.NavigateBackCall].includes(e.type)&&t.handleCancel()})),i=yield new Promise((e=>{t.addListener("confirm",(()=>{e({confirm:!0})})),t.addListener("cancel",(()=>{e({confirm:!1})}))}));return pV(n),i}));return function(t){return e.apply(this,arguments)}}(),X8={DEFAULT:0,DIALOG:1,HALF_SCREEN_DIALOG:2,HALF_SCREEN_DIALOG_WITHOUT_LOGO:3,HALF_SCREEN_DIALOG_WITH_SCORE:4,HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:5},Y8=X8.DEFAULT,Q8=()=>Y8!==X8.DEFAULT&&"undefined"!=typeof __sclEngine__&&(Ce||Ie||ke),Z8=function(){var e=Vp()((function*(e,t,r,n,i,a,o){var s,l=Q8()&&i,c=l?Y8:X8.DEFAULT,u=yh(),d=Fp()||re.appLaunchInfo.appearance;if(1!==t&&["nativeFunctionalized"].includes(d)){if(7!==n)throw dj({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${d} apiCategory.`);G8(4,r,n,c,o)}if(1!==t){var p=u.scene,h=null===(s=u.referrerInfo)||void 0===s?void 0:s.appId;if(1037!==p||h!==r){var f;try{var g;if(l)f=yield J8({...i,oldWording:e,expensiveWording:a});else try{var v="允许",m="取消";if("wx243bf61757446caa"===re.accountInfo.appId){var y,b=null===(y=$b())||void 0===y?void 0:y.language;"string"==typeof b&&(b.toLowerCase().startsWith("zh")?(v=U8.confirm[b.toLowerCase()],m=U8.cancel[b.toLowerCase()]):(v=U8.confirm.en,m=U8.cancel.en))}f=yield Promise.race([new Promise((e=>{var t=()=>e({confirm:!1});Jw(t),g=()=>Xw(t)})),gd("showModal",{title:e,content:"",confirmText:v,cancelText:m,showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA"})])}finally{g()}}catch(e){throw G8(3,r,n,c,o),e}var{confirm:_}=f;if(!_)throw G8(2,r,n,c,o),new Error("cancel");T8.shouldExecuteSkipMaxLimitStrategy&&T8.setCurrentAttemptSkipCount(0),G8(1,r,n,c,o)}else G8(5,r,n,c,o)}else G8(4,r,n,c,o)}));return function(t,r,n,i,a,o,s){return e.apply(this,arguments)}}(),e9=function(){var e=Vp()((function*({appId:e,path:t,shortLink:r,verifyUnionProduct:n}){var i;_.info(`[_getNavigateWxAppInfo] appId=${e} shortLink=${r} verifyUnionProduct=${n}`);var a=new Promise((e=>{i=e}));e&&!r&&i(e);var o=a.then((e=>r9({appId:e}))),s=0,l=1;try{var c=yield z8({apiName:n?"webapi_getembeddedunionproductinfo":"webapi_getnavigatewxaappinfo",reqData:{req_type:r?l:s,target_appid:e,target_short_link:r,target_path:t}});_.info(`[operateWXData][webapi_getnavigatewxaappinfo][success] data=${JSON.stringify(c.data)}`);var u=c.data,d=u.action_code,p=u.skip_local_check,h=Boolean(u.runtime_sdk_whitelist),f=u.target_short_link_info,g=u.allow_embedded_mode;return f&&(e=f.wxa_appid,t=(f.wxa_path||"").replace(/\.html(\?|$)/,"$1"),i(e)),{appId:e,path:t,actionCode:d,skipLocalCheck:p,reason:u.reason,wording:u.wording,appType:u.apptype,newWording:u.new_wording,popupInfo:u.pop_up_info,needTransferToWeChat:h,shortLinkInfo:f,allowEmbeddedMode:g,expensiveInfo:o}}catch(e){throw _.error(`[operateWXData][webapi_getnavigatewxaappinfo][fail], errMsg=${e.message||e.errMsg}`),e}}));return function(t){return e.apply(this,arguments)}}(),t9={score_sub_desc:1,used_friend_cnt_sub_desc:2},r9=function(){var e=Vp()((function*(e){var t=[];switch(Y8){case X8.HALF_SCREEN_DIALOG_WITH_FRIENDS_USED:t.push(t9.used_friend_cnt_sub_desc);break;case X8.HALF_SCREEN_DIALOG_WITH_SCORE:t.push(t9.score_sub_desc)}if(!t.length)return{};_.info(`[_getNavigateWxAppDescInfo] appId=${e.appId}`);try{var{data:r}=yield z8({apiName:"webapi_getnavigatewxaappdesc",reqData:{target_appid:e.appId,desc_type_list:t}});return r}catch(e){return e.message,{}}}));return function(t){return e.apply(this,arguments)}}(),n9=(i9=[],re.onReady((()=>{Array.isArray(re.navigateToMiniProgramAppIdList)&&(i9=re.navigateToMiniProgramAppIdList,Vh("openWxappLimit5")&&i9.splice(5))})),(e,t)=>new Promise(((r,n)=>{var i=wf("navigateToMiniProgramConfig");!1===i||Ce?t?r():i9.indexOf(e)>-1?r({sourcetype:4}):n({errMsg:`appId "${e}" is not in navigateToMiniProgramAppIdList`}):!0===i?r():"unknown"===i?r({sourcetype:4}):n({errMsg:"unknown available"})}))),i9,a9=!1,o9=function(){var e=Vp()((function*({appId:e,path:t,shortLink:r,extraData:n},i){if(_.info(`[__checkBeforeNavigateToMiniProgram] appId=${e} path=${t} shortLink=${r} isNavigating=${a9}`),a9)throw new Error("another navigation is in progress");a9=!0;try{Y8!==X8.DEFAULT&&K8();try{i||(i=yield Promise.race([e9({appId:e,path:t,shortLink:r}),new Promise(((e,t)=>setTimeout((()=>t(new Error("getNavigateWxAppInfo timeout"))),1e4)))]))}catch(r){if(_.error(`[_getNavigateWxAppInfo][reject] errMsg=${r.errMsg||r.message}`),"data exceed max size"===r.errMsg)throw r;return{appId:e,path:t}}var{actionCode:a,skipLocalCheck:o,reason:s,wording:l,appType:c,newWording:u,popupInfo:d,needTransferToWeChat:p,expensiveInfo:h}=i;if(e=i.appId,t=i.path,_.info(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${a}, skipLocalCheck=${o}, reason=${s}, wording=${l}, appType=${c}, needTransferToWeChat=${p}`),1!==a&&2!==a)throw d?(M.reportKeyValue({key:"WeAppNavBan",value:[re.appType+1e3,re.appLaunchInfo.scene,33,3302,0,1,s,"跳转跳出",ag()].join(",")}),fd("showModal",{showCancel:!0,content:d.desc,confirmText:d.confirm_wording,cancelText:d.cancel_wording,success({confirm:e}){var t=d.confirm_url;e&&dU({url:t}),M.reportKeyValue({key:"WeAppNavBan",value:[re.appType+1e3,re.appLaunchInfo.scene,33,3302,e?1:2,2,s,"跳转跳出",ag()].join(",")})}})):l&&fd("showModal",{content:l,showCancel:!1}),new Error(s);try{var f=yield n9(e,o);return j8({appId:e,path:t}),yield Z8(l,a,e,c,u,h,n),{...f,appId:e,path:t,needTransferToWeChat:p}}catch(e){var g=e.errMsg||e.message;throw new Error(g)}}finally{a9=!1}}));return function(t,r){return e.apply(this,arguments)}}(),s9=Yc("checkBeforeNavigateToMiniProgram",o9),l9=function(){var e=Vp()((function*(e={}){if(!e.appId&&!e.shortLink)throw new Error("should have appId or shortLink");e.appId&&Wc(e,{appId:""}),e.path&&Wc(e,{path:""}),e.shortLink&&Wc(e,{shortLink:""});var t=void 0!==e.appId?String(e.appId):void 0,r=void 0!==e.path?String(e.path):void 0,n=void 0!==e.shortLink?String(e.shortLink):void 0;if(r&&r.length>=65536)throw new Error("path length should be less than 65536");if(n&&n.length>=1024)throw new Error("shortLink length should be less than 1024");_.info(`[_navigateToMiniProgram] appId=${t} path=${r} shortLink=${n}`);try{var i=yield o9({appId:t,path:r,shortLink:n,extraData:e.extraData});return _.info(`[__checkBeforeNavigateToMiniProgram][resolve], res=${JSON.stringify(i)}`),yield q8(e,{appId:i.appId,path:i.path,sourcetype:i.sourcetype,needTransferToWeChat:i.needTransferToWeChat})}catch(e){var a=e.errMsg||e.message;throw _.error(`[__checkBeforeNavigateToMiniProgram][reject], errMsg=${a}`),["cancel","another navigation is in progress"].includes(a)||M.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(a)}}));return function(){return e.apply(this,arguments)}}(),c9=Yc("navigateToMiniProgramWithoutTapCheck",l9),u9=function(){var e=Vp()((function*(e){var t=re.accountInfo.appId;if(!ze()||"wx308bd2aeb83d3345"===t||"wxc98889eca359c1e5"===t)return l9(e);if(!DB())throw new Error("can only be invoked by user TAP gesture.");var r=OB();return P8({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===r?-2:Date.now()-r}),l9(e)}));return function(t){return e.apply(this,arguments)}}(),d9=Yc("navigateToMiniProgram",u9),p9=function(){var e=Vp()((function*(e){if(!Vh("navigateToMiniProgramDirectly"))throw new Error("no permission");return q8(e,e)}));return function(t){return e.apply(this,arguments)}}(),h9=Yc("navigateToMiniProgramDirectly",p9),f9=()=>function(e){H8(e,e,{beforeAll(e){e.errMsg=e.errMsg.replace("navigateToMiniProgram","navigateToMiniProgramDirectly")}})},g9=(e,t)=>{var r;if(!e&&(null!=t&&null!==(r=t.banning)&&void 0!==r&&r.pay_banned)){var n='functional page of type "request-payment" is banned for this plugin.';return console.error(n),v9("fail",{errMsg:n}),!0}return!1},v9,m9=e=>{v9=(t,r={},n={})=>{"string"==typeof n&&(n={detail:n}),r.errMsg&&"string"==typeof r.errMsg?n.reason=r.errMsg:r.errMsg="";var i="requestPluginPayment";"success"===t?zc({name:i,args:e,success:!0,res:r,errno:null,errCode:null}):"fail"===t&&zc({name:i,args:e,success:!1,res:r,errno:null,errCode:null,errMsg:r.errMsg})}},y9={_listener:{},MAX_LISTENER_LIMIT:10,emit:e=>{y9._listener[e.callbackId]&&y9._listener[e.callbackId](e)},on:(e,t)=>{Object.keys(y9._listener).length>y9.MAX_LISTENER_LIMIT&&(y9._listener={}),y9._listener[e]=t},off:e=>{delete y9._listener[e]}},b9=y9,_9=(e,t)=>{var r="RPP."+String(Date.now())+"."+String(Math.floor(2147483647*Math.random()));y9.on(r,(e=>{RB({success:()=>{"success"===e.ret?v9("success",e.detail):"fail"===e.ret?v9("fail",e.detail||{}):"cancel"===e.ret&&v9("fail",Object.assign({},e.detail,{errMsg:"payment cancel"})),y9.off(r)}})})),S8({success:n=>{var{pluginId:i,hostAppId:a,isSelfFunctionalPage:o}=e,s=n.find((e=>e.appId===i));if(!(s&&Array.isArray(s.plugin_list)&&s.plugin_list.length>0)){throw new Error("wx.requestPluginPayment: Invalid plugin info.")}var{version:l}=t,c=re.appLaunchInfo.sessionid,u=M.getAppType(),d=s.plugin_list[0],p=uh(re.appContactInfo.call_plugin_info),h={functionalPage:{callbackId:r,name:"requestPayment",originAccountInfo:re.accountInfo,pluginVersion:p,pluginInfo:{nickname:d.nickname,icon:d.headimgurl+"/0"},args:t}},f="/__wx__/functional-page?name=requestPayment&";if(o)Qp({privateExtraData:h,success:()=>{cE({url:f})},fail:e=>{v9("fail",e)}});else{var g={__noCheckBeforeNavigateToMiniProgram:!0,appId:i,agentId:i,sourceAppId:a,sourcetype:2,path:f,envVersion:l,scene:1099,sceneNote:[a,c,u,p].join(":"),privateExtraData:h,success:()=>{},fail:e=>{v9("fail",e)}};f9()(g)}}})},w9=(e={})=>{f8(["__wx__/functional-pages/request-payment.js","functional-pages/request-payment.js"],"beforeRequestPayment",[e],((e,t)=>{if(e)v9("fail",e);else{var r=String(t.package);I7({timeStamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:e=>{e.extraData=t.extraData,v9("success",e,r)},fail:e=>{v9("fail",e,r)}})}}))},S9=e=>{tx({apiName:"webapi_checkappplugincontractorinfo",sdkApiName:"requestPluginPayment",reqData:{},complete:()=>{},...e})},C9=function(){var e=Vp()((function*(e){var t=Mt(e,{fee:0,version:""});if(t)throw new Error(`parameter error: ${t}`);e=Object.assign({},{fee:e.fee,version:e.version,paymentArgs:e.paymentArgs,currencyType:e.currencyType,success:e.success,fail:e.fail}),m9(e);var r=dh(this),n=sh(this),i=re.accountInfo.appId,a=n===i;a||!Ce?g9(a,r)||S9({pluginId:n,success(t){var r,o;null!==(r=t.data)&&void 0!==r&&r.is_associated&&n===i?w9(e.paymentArgs):(null!==(o=t.data)&&void 0!==o&&o.is_associated&&n!==i&&(e.quickPay=!0),_9({pluginId:n,isSelfFunctionalPage:a,hostAppId:i},e))},fail(t){_9({pluginId:n,isSelfFunctionalPage:a,hostAppId:i},e)}}):console.warn("For developer:开发者工具上暂不支持调试插件功能页，请在真机上测试。")}));return function(t){return e.apply(this,arguments)}}(),k9="openHKOfflinePayView",I9=e=>{jc(k9,e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""})&&fd(k9,e)},P9="",T9=e=>{P9=e},A9=()=>P9,x9={channelApiname:"",invokeId:"",time4:void 0,time6:void 0},E9={channelApiname:"",invokeId:"",time4:void 0,time6:void 0},M9=({invokeId:e,actionType:t,actionValue:r=0,actionStatus:n="",actionTimestamp:i,actionCost:a=0})=>{var o=Qh(),s=Zh(),l=[ag(),Mu()+" "+Ru(),e,t,r,encodeURIComponent(n),i,a,1,o,s];M.reportKeyValue({key:"VirtualPayment",value:l.join(",")})},R9=({invokeId:e,actionType:t,actionValue:r=0,actionStatus:n="",actionTimestamp:i,actionCost:a=0})=>{var o=[ag(),Mu()+" "+Ru(),e,`b2b-${t}`,r,encodeURIComponent(n),i,a,1];M.reportKeyValue({key:"VirtualPayment",value:o.join(",")})},D9="requestCommonPayment",O9=1,L9=e=>{var t=Object.fromEntries(Object.entries(e).filter((([e])=>"success"!==e&&"fail"!==e&&"complete"!==e)));return t},N9=(e={})=>{B9(e)},B9=(e={},t="")=>{var r,{success:n,fail:i}=qc(e,"requestCommonPayment"),a=Date.now(),o=Lt(),s=JSON.stringify(e);R9({invokeId:o,actionType:"invokerequestCommonPayment",actionStatus:s,actionTimestamp:a}),bj({title:"支付中...",mask:!0});var l=!0;if("string"==typeof e.signData){var c,u,d,p=re.accountInfo.appId,h=(e=>{var n=L9(e),i={pay_sdk_version:O9,user_args:{sign_data:n.signData,mode:n.mode,signature:n.signature,pay_sig:n.paySig},scene_note:su.sceneNote,plugin_id:t},s=Date.now();return R9({invokeId:o,actionType:"beforeCreateItemOrder",actionStatus:JSON.stringify(i),actionCost:s-a,actionTimestamp:s}),rx({apiName:"webapi_wxa_createmidasorder",sdkApiName:"webapi_wxa_createmidasorder",reqData:i}).then((e=>{if(r=Date.now(),e.data&&0===e.data.err_code)return R9({invokeId:o,actionType:"afterCreateItemOrder",actionStatus:JSON.stringify(e.data),actionCost:r-s,actionTimestamp:r}),e.data;throw{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw r=Date.now(),R9({invokeId:o,actionType:"afterCreateItemOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:r-s,actionTimestamp:r}),e}))})(e);h.then((t=>{var r=t.iap_info,n=r.use_save_result;c=r.open_id,u=r.offer_id;var i=t.order_info,a={};return n&&i&&i.save_result&&(a.save_result=i.save_result),r.use_wx_proxy&&(a.use_wx_proxy=1),r.direct_channel&&(a.direct_channel="wechat"),E9.channelApiname=r.channel_apiname,a.openid=c,a.login_wx_appid=p||e.loginWXAppId,a.pf="android",a.goodstokenurl=i.url_params,a.openkey=i.iap_access_token,d=i.env,a.buy_quantity=i.buy_quantity,a.zoneid=i.zoneid,a})).then((e=>{e.offer_id=u,e.session_type="wc_actoken",e.session_id="hy_gameid";var t,n=Date.now();try{R9({invokeId:o,actionType:"invokeMidas",actionCost:n-r,actionTimestamp:n}),E9.time4=n,E9.invokeId=o;var i="goods";T9("requestCommonPayment"),MidasSDK.getMidasPayApi()[i].destroy(),t=MidasSDK.getMidasPayApi()[i].init({env:d})}catch(e){l&&(_j(),l=!1),R9({invokeId:o,actionType:"invokeMidasFail",actionStatus:e.message,actionCost:n-r,actionTimestamp:n})}setTimeout((()=>{l&&(_j(),l=!1)}),10);var a=function(e,t){return new Promise((r=>{e.launchPay(t,(e=>{r(e)}))}))}(t,e);return a})).then((e=>{var{resultCode:t,resultMsg:r}=e;0!==t?(-15009!==t&&1138!==t||(ij({title:"提示",content:r,showCancel:!1}),r="PAY_LIMIT"),i({errMsg:`${D9}:fail ${r}`,errno:t,errCode:t})):n({})})).catch(((e={})=>{l&&(_j(),l=!1),void 0===e.errCode&&"string"==typeof e.err_code&&("0"===e.err_code?e.errCode=5:e.errCode=parseInt(e.err_code,10)),i({errMsg:`${D9}:fail ${e.errMsg||e.message}`,errno:e.errno||e.errCode,errCode:e.errCode})}))}else i({errMsg:`${D9}:fail signData参数类型必须是string`,errno:1001,errCode:1001})},$9="";re.onReady((()=>{var e,t;!($9=re.appLaunchInfo.chatroomUsername)&&1008===re.appLaunchInfo.scene&&null!==(e=re.appLaunchInfo.shareInfo)&&void 0!==e&&e.shareName&&($9=null===(t=re.appLaunchInfo.shareInfo)||void 0===t?void 0:t.shareName)})),cr("onAppEnterForeground",((e={})=>{var t,r;!($9=e.chatroomUsername)&&1008===e.scene&&null!==(t=e.shareInfo)&&void 0!==t&&t.shareName&&($9=null===(r=e.shareInfo)||void 0===r?void 0:r.shareName)}));var F9=()=>$9,j9="getShareInfo",W9=(e={})=>{var t=fp.get(e.shareTicket),{success:r,fail:n,failWithMsg:i}=qc(e,j9);F9()?t?tx({sdkApiName:j9,apiName:"webapi_getshareinfo",reqData:{share_key:t.shareKey,share_name:t.shareName},success(e){var{data:t}=e;t.roomTopic&&(e.roomTopic=t.roomTopic),delete e.data,r(e)},fail:n}):i({msg:"invalid shareTicket"}):i({msg:"invalid scene"})},V9={showShareAppMessageMenu:!1,showShareTimelineMenu:!1,withShareTicket:!1,isPrivateMessage:!1},U9=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage"],r=[];if(t.includes("shareAppMessage")){V9.showShareAppMessageMenu=!0;var n=new Promise(((t,r)=>{!0===e.withShareTicket?(V9.withShareTicket=!0,fd("showShareMenuWithShareTicket",{withShareTicket:!0,success:t,fail:r,beforeAll(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail(e){e.errMsg+=", with arg withShareTicket: true"}})):(V9.withShareTicket=!1,fd("showShareMenu",{success:t,fail:r}))}));r.push(n)}if(t.includes("shareAppMessage")&&t.includes("shareTimeline")&&!su.hasWebViewCompnent){V9.showShareTimelineMenu=!0;var i=new Promise(((e,t)=>{fd("showShareTimelineMenu",{success:e,fail:t})}));r.push(i)}Promise.all(r).then((()=>{zc({name:"showShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("showShareMenu:fail","").replace("showShareTimelineMenu:fail","");Vc("showShareMenu",e,r,t.errCode)}))},z9=(e={})=>{var t=Array.isArray(e.menus)?e.menus:["shareAppMessage","shareTimeline"],r=[];function n(){return new Promise(((e,t)=>{fd("hideShareTimelineMenu",{success:e,fail:t})}))}if(t.includes("shareTimeline")&&(V9.showShareTimelineMenu=!1,r.push(n())),t.includes("shareAppMessage")){V9.showShareAppMessageMenu=!1,0===r.length&&r.push(n());var i=new Promise(((e,t)=>{fd("hideShareMenu",{success:e,fail:t})}));r.push(i)}Promise.all(r).then((()=>{zc({name:"hideShareMenu",args:e})})).catch((t=>{var r=t.errMsg.replace("hideShareMenu:fail","").replace("hideShareTimelineMenu:fail","");Vc("hideShareMenu",e,r,t.errCode)}))};function q9(e){return new Promise(((t,r)=>{"boolean"==typeof e.withShareTicket?fd("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:r},{beforeAll(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})}))}function H9(e){return new Promise(((t,r)=>{if("boolean"==typeof e.isUpdatableMessage||"boolean"==typeof e.isPrivateMessage){var n=JSON.stringify({activity_id:e.activityId,template_id:e.templateInfo&&e.templateInfo.templateId,parameter_list:e.templateInfo&&e.templateInfo.parameterList});fd("updateShareMenuUpdatable",{isPrivateMessage:e.isPrivateMessage,updatable:e.isUpdatableMessage,templateId:n,success:t,fail:r}),!0===e.isPrivateMessage?V9.isPrivateMessage=!0:!1===e.isPrivateMessage&&(V9.isPrivateMessage=!1)}else t({errMsg:"updateShareMenu:ok"})}))}function G9(e){return new Promise(((t,r)=>{"string"==typeof e.toDoActivityId?(fd("updateShareMenuUpdatable",{updatable:!0}),fd("updateShareMenuShareTicket",{withShareTicket:!0}),fd("updateShareMenuToDo",{toDoActivityId:e.toDoActivityId,isToDoMessage:"boolean"!=typeof e.isToDoMessage||e.isToDoMessage,success:e=>{t(e)},fail:e=>{r(e)}})):t({errMsg:"updateShareMenu:ok"})}))}var K9=(e={})=>{Promise.all([q9(e),H9(e),G9(e)]).then((t=>{"function"==typeof e.success&&E.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&E.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])})).catch((t=>{void 0===t.errMsg&&(t.errMsg="updateShareMenu:fail "+t.message),"function"==typeof e.fail&&E.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&E.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)}))},J9=e=>{if("string"!=typeof e)return e;var t=e.split("?")[0],r=e.split("?")[1];return t+=".html",void 0!==r?`${t}?${r}`:t},X9=["wx60422b707e49ff2e","wxb6d22f922f37b35a","wx4e5da2583ced2054"],Y9=(e={})=>{if(jc("shareAppMessageForFakeNative",e,{title:"",bizType:0})){var t=Object.assign({useDefaultSnapshot:!0,disableForward:!1},e);if(e.path&&"string"==typeof e.path)t.path=J9(yr.convertComponentAliasToRoute(e.path));else{var r=Object.keys(su.query).map((e=>`${e}=${su.query[e]}`)).join("&"),n=`${su.lastRoute}?${r}`;t.path=J9(yr.convertComponentAliasToRoute(n))}e.imageUrl&&"string"==typeof e.imageUrl&&(/^(http|https|wxfile):\/\//.test(e.imageUrl)?t.imageUrl=e.imageUrl:t.imageUrl=AX(e.imageUrl,!1));var i=re.accountInfo.appId;X9.includes(i)||(delete t.bizSourceName,delete t.bizSourceIconUrl),fd("shareAppMessageForFakeNative",t)}},Q9=e=>{if(e&&"string"==typeof e)if(/^\w+:\/\//.test(e)){if(!/^wxfile:\/\//.test(e)&&!/^http:\/\/(tmp|store|usr)\//.test(e))throw new Error("invalid path")}else if(e)return AX(e,!1);return e},Z9=Yc("shareFileMessage",Vp()((function*(e={}){Wc(e,{filePath:""});var t=Q9(e.filePath);try{yield gd("shareFileMessage",{...e,filePath:t})}catch(e){if("cancel"!==e.message)throw e}}))),eee=Yc("shareVideoMessage",Vp()((function*(e={}){Wc(e,{videoPath:""});var t=Q9(e.videoPath),r=Q9(e.thumbPath);try{yield gd("shareVideoMessage",{...e,videoPath:t,thumbPath:r})}catch(e){if("cancel"!==e.message)throw e}}))),tee="authPrivateMessage";function ree(e={}){var{success:t,fail:r,failWithMsg:n}=qc(e,tee),i=fp.get(e.shareTicket);i&&i.shareKey?Vh("authShareRelationship")?tx({sdkApiName:tee,apiName:"webapi_authmgr",reqData:{share_key:i.shareKey},success(e){var{iv:r,encrypt_activity_id:n,res:i}=e.data;t({iv:r,encryptedData:n,valid:1===i})},fail:r}):n({msg:"no permission"}):n({msg:"invalid shareTicket"})}var nee=function(e){return e[e.DisableAsyncReport=0]="DisableAsyncReport",e[e.ReportAction=1]="ReportAction",e[e.ReportContent=2]="ReportContent",e[e.ReportContentWithImg=3]="ReportContentWithImg",e}({}),iee=function(e){return e[e.DisableSyncCheck=4]="DisableSyncCheck",e[e.EasyMode=5]="EasyMode",e[e.StrictMode=6]="StrictMode",e}({}),aee=function(e){return e[e.Blur=0]="Blur",e[e.Upload=1]="Upload",e}({}),oee=null,see=function(e){return e[e.NO=0]="NO",e[e.YES=1]="YES",e}({}),lee={textInput:0,input_text:0,nicknameInput:1,input_nickname:1,textarea:2,editor:3,chooseImage:4,chooseMedia:5,chooseAvatar:6},cee=e=>t=>null!=t&&e.includes(t),uee=cee([nee.DisableAsyncReport,nee.ReportAction,nee.ReportContent,nee.ReportContentWithImg]),dee=cee([iee.DisableSyncCheck,iee.EasyMode,iee.StrictMode]),pee={Pending:0,Fullfilled:1,Rejected:2};class hee{constructor(e={}){this.resolve=void 0,this.reject=void 0,this.promise=void 0,this.status=pee.Pending;var t=this;t.promise=new Promise(((r,n)=>{t.resolve=e=>{t.status=pee.Fullfilled,r(e)},t.reject=e=>{t.status=pee.Rejected,n(e)};var{timeout:i}=e;i&&this.setTimeoutReject(i)}))}setTimeoutReject(e,t="timeout"){setTimeout((()=>this.reject(t)),e)}}var fee=null,gee=Xc(UA),vee=Xc(Iy),mee=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),yee=null,bee=null,_ee=function(){var e=Vp()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}();function wee(e){return See.apply(this,arguments)}function See(){return(See=Vp()((function*(e){fee||(fee=Xc(Eee));var{tempFilePath:t}=yield fee({src:e,quality:60,compressedWidth:224,compressHeight:224}),{data:r}=yield vee({filePath:t});return yield _ee(Vp()((function*(){var e,t=null===(e=re.appLaunchInfo)||void 0===e?void 0:e.openId,n=yield Promise.race([mee(4e3,"upload timeout"),gee({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&sn=${yee.uploadimg_sn||""}&openid=${t||""}`,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:r})]);if(200!==n.statusCode)throw new Error(`upload fail, ${n.data.retcode}`);return n.data.media_id_str})),2)}))).apply(this,arguments)}function Cee(){var e=new hee,t=function(){var t=Vp()((function*(t){var r=yield e.promise;qr("onReceiveSecInfo",r,[t])}));return function(e){return t.apply(this,arguments)}}();re.onReady(Vp()((function*(){var t=yield gC(),r=null==t?void 0:t.data;yee=null==r?void 0:r.wxa_input_auth;var n=null==r?void 0:r.opinfo_async,i=null==r?void 0:r.func_ban_conf,a=null==r?void 0:r.func_warning_conf,o={opInfo:n,ugcConfig:yee,funcBanConf:i,funcWarningConf:a};e.resolve(o)}))),k.clientManager.on("clientConnected",t)}function kee(e,t){return Iee.apply(this,arguments)}function Iee(){return Iee=Vp()((function*(e,t,r=""){if(yee&&Array.isArray(t)){var n=yee.async_report_mode,i=yee.sync_check_mode;if((!dee(i)||i===iee.DisableSyncCheck)&&uee(n)&&n!==nee.DisableAsyncReport&&"number"==typeof lee[e]){var a={async_report_mode:n,query_path:Bg(),component_type:lee[e],report_time:Date.now(),content_length:t.length,action_type:aee.Upload,plugin_app_id:r};if(n===nee.ReportContentWithImg){var o=[];for(var s of t)o.push(yield wee(s));a.content=o.join(",")}tx({apiName:"webapi_wxaasyncinputreport",reqData:a,pluginId:r,success:e=>{},fail:e=>{}})}}})),Iee.apply(this,arguments)}function Pee(e,t){return Tee.apply(this,arguments)}function Tee(){return(Tee=_asyncToGenerator((function*(e,t,r=""){}))).apply(this,arguments)}function Aee(e){if(yee){var t=yee[`${e}_auth`]===see.YES;return t&&dj({icon:"none",title:"小程序涉嫌违规该功能暂不可用"}),t}}var xee=function(e={}){if(Aee("choose_image"))Vc("chooseImage",e,"This api is temporarily unavailable");else{var t=sh(this);vd(t)("chooseImage",xd({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},e),{beforeSuccess(e){var r;e.tempFileSizes?e.tempFiles=(e.tempFilePaths||[]).filter((e=>e)).map(((t,r)=>({path:t,size:e.tempFileSizes[r]}))):e.tempFiles=(e.tempFiles||[]).filter((e=>e.path&&"number"==typeof e.size)),delete e.tempFileSizes,null!==(r=e.tempFiles)&&void 0!==r&&r.length&&kee("chooseImage",e.tempFiles.map((e=>e.path)),t)}})}},Eee=(e={})=>{var t={src:"",quality:80};jc("compressImage",t=Ed(t,e),{src:" ",quality:80})&&(We()||/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)?(Ie&&0===t.src.indexOf("/")&&t.src&&(t.src=t.src.slice(1)),fd("compressImage",t)):(t.src=Jd(su.lastRoute,t.src,!1),fd("compressImage",t)))},Mee=["16:9","9:16","4:3","3:4","5:4","4:5","1:1"],Ree=(e={})=>{if(jc("cropImage",e,{src:" "})){var t=(e.cropScale||"1:1").trim();if(-1!==Mee.indexOf(t)){var r=t.split(":"),n=parseInt(r[0],10),i=parseInt(r[1],10),a=Ed({},e);a.width=Number.isNaN(n)?1:n,a.height=Number.isNaN(i)?1:i,/^wxfile:\/\//.test(a.src)||/^http:\/\/(tmp|store|usr)\//.test(a.src)||(a.src=Jd(su.lastRoute,a.src,!1)),fd("cropImage",a)}else Vc("cropImage",e,"invalid cropScale")}},Dee=(e={})=>{if(jc("editImage",e,{src:" "})){var t=e.fail,r={beforeAll(e){"editImage:Parse imageUrl fail, maybe imageUrl is illegal?"===e.errMsg&&(e.errMsg="editImage:fail Parse imageUrl fail, maybe imageUrl is illegal?","function"==typeof t&&t(e))}};/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)||(e.src=Jd(su.lastRoute,e.src,!1)),fd("editImage",e,r)}},Oee=e=>{var t=Object.assign({},e),r=[t.src];kX(r,"image",(e=>(t.src=e.data[0].url,Lee(t,jC))))},Lee=(e,t)=>{jc("getImageInfo",e,{src:""})&&(/^wxfile:\/\//.test(e.src)||/^http:\/\/(tmp|store|usr)\//.test(e.src)?fd("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}}):/^(http|https):\/\//.test(e.src)?t({url:e.src,success(t){404!==t.statusCode?(e.src=t.tempFilePath,fd("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})):Vc("getImageInfo",e,"image not found (404)")},fail(t){Vc("getImageInfo",e,"download image fail. reason: "+t.errMsg)}}):(e.src=Jd(su.lastRoute,e.src,!1),fd("getImageInfo",e,{beforeSuccess:t=>{t.path=e.src}})))},Nee={BlockFuncBits:0};function Bee(e){var t={openCustomerServiceConversation:1,openPage:2,setClipboardData:4,previewImage:8,previewMedia:16,navigateToMiniProgram:32,openUrlByExtBrowser:64,getPhoneNumber:128};if(!(e&&tt(e)&&We()&&Object.keys(t).includes(e)))return!1;var r=t[e],n=!1;try{n=Boolean((null==Nee?void 0:Nee.BlockFuncBits)&r)}catch(e){}return n}function $ee(e={}){if(!(WXConfig.clientVersion<402666272)&&0!==Object.keys(e).length&&IS_IOS){var t={rewriteCtrl:e};_invokeMethod("rewriteQRCodeIdentifyCtrl",Object.assign(t,{success:e=>{},fail:e=>{_.error("rewriteQRCodeIdentifyCtrl fail",e)}}))}}var Fee="previewImage",jee=(e={})=>{if(Bee(Fee))Vc(Fee,e,"no permission");else if(jc(Fee,e,{urls:[""]})){var t=!1;e.urls=e.urls.filter((e=>!(!/^https?:\/\//.test(e)&&!Vh("previewImageLocal"))||(t=!0,!1))),t&&console.error("local image url is rejected due to no permission");var r=SZ(yZ.previewImage),n=re.version,i=re.system,a="7.0.12"===n&&i.indexOf("iOS 13.4")>=0;for(var o of e.urls)if(/^\s*data:image\//.test(o)&&a)return void Vc(Fee,e,"url can not be base64 on iOS 13.4");var s=Object.assign({},e);s.urls=s.urls.slice(),s.referrerPolicy=s.referrerPolicy||"origin",kX(s.urls,"image",(t=>{var n=s.urls;if(s.urls=[...t.data.map((e=>e.url))],s.current){var i=n.indexOf(s.current);i>=0&&(s.current=s.urls[i])}s.urls&&(s.urls=s.urls.map((e=>uY.get(e)||e))),r?CZ(yZ.previewImage,Fee,e):fd(Fee,s),mZ(Fee,{urls:s.urls||[]},!1,r)}))}},Wee=function(e={}){e.filePath=uY.get(e.filePath)||e.filePath,vd(sh(this))("saveImageToPhotosAlbum",e,{})};function Vee(){return"xxxxx-xxxx-xxxx-xxxx-xxxxx".replace(/[xy]/g,(e=>{var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Uee({UIArea:e,PositionID:t,ActionID:r,ExpID:n="",ContentType:i=0,ContentID:a=0,ExternInfo:o,ClassID:s=0,SceneID:l=108100}){if(We()){var c="portrait"===re.deviceOrientation?1:2;M.reportKeyValue({key:"GameAdsSkipCard",value:[ag(),re.appLaunchInfo.scene,0,l,e,t,r,"",0,/landscape/.test(re.deviceOrientation)?2:1,c,0,"",n,0,"",Date.now(),0,"",i,a,0,o?encodeURIComponent(JSON.stringify(o)):"",s].join(",")})}}var zee=()=>new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),qee=Xc(Oee),Hee=Xc(Eee),Gee=Xc(Iy),Kee=Xc(UA),Jee={SHOW_MENU:1,SHARE:2,SHARE_SUCCESS:3,SHARE_FAIL:4,ADD_TO_FAVORITES:5,SAVE_TO_ALBUM:6,CANCEL:7,SHARE_FORBIDDEN:8,SHARE_SERVER_ERROR:9},Xee=({action:e})=>{var t=re.appLaunchInfo||{},r=[re.appType+1e3,e,t.sessionid||t.sessionId||""].join(",");M.reportKeyValue({key:"ShareImageMenu",value:r})},Yee=function(){var e=Vp()((function*(e){var t=Ie||(null==e?void 0:e.imgPath)&&0!==(null==e?void 0:e.imgPath.indexOf("/")),r=Vh("publishWeChatState")&&We()&&t,n=(yield zee()).append("share-image",{imgPath:e.imgPath,height:e.height,width:e.width,style:e.style,actions:JSON.stringify("v2"===e.style?[{action:"cancel",text:"取消",imageSrc:"https://res.wx.qq.com/op_res/I78lneZf9jQBd0zqhgo1zWelcg-yn8SApFxCI6KX-35eBc7NuPJe6cxpl1qOZS-0CNdZKk5kyqVufCtOhxl15w"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/I78lneZf9jQBd0zqhgo1zUt7rZ_1QFq0P8vmPXK3GlTCdCSQQvc6ExvS4qiSAazFv7hP-R19EYcq-06GODx-zQ"},e.canShareToFriend&&Vh("shareImageMessage")?{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/I78lneZf9jQBd0zqhgo1zSnBsdfWBp_VHbQ4Ii2j_lSKUWY9yFIsixFCZdft5DlJ-wUz-4znIwq-LMcZR9LcKA"}:null].filter(Boolean):[e.canShareToFriend&&Vh("shareImageMessage")?{action:"shareToFriend",text:"发送给朋友",imageSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg",imageDarkSrc:"https://res.wx.qq.com/op_res/9uyxJUMf5aP9owCkoJvfePWjtv7dvB_UbB9Mh2QOnIvTu_Q6ulI-q0micEIFzNyo-XSO9_sHyTzCgIXG4zFhDg"}:null,{action:r?"setWxState":"addToFavorites",text:r?"设为状态":"收藏",imageSrc:r?"https://res.wx.qq.com/op_res/fFpOsAWm683UVWQsw9J9UYpBqpOxsoE_Ueun95gpkPMi3oppYmfVprxvWxVib_R6phyqnXrC4JaTTgtVxW0jxg":"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng",imageDarkSrc:r?"https://res.wx.qq.com/op_res/fFpOsAWm683UVWQsw9J9UYpBqpOxsoE_Ueun95gpkPMi3oppYmfVprxvWxVib_R6phyqnXrC4JaTTgtVxW0jxg":"https://res.wx.qq.com/op_res/UbamEkuHzZDPCFQqhA85ckRvMsATv5uZhqjM2cvJpBJr5Rcv_XUNOkYBJJZGzJkgxqSygrF92hgA4Bthvzb8ng"},{action:"saveToAlbum",text:"保存到相册",imageSrc:"https://res.wx.qq.com/op_res/BgIIq_VgA_b30mPKYKb4CmnQemMBJMujsqfe6REw4MSf3i_ql8KU-FywDJLSRGRnxQOWW5VphGdXW0Yr2-Z-0g",imageDarkSrc:"https://res.wx.qq.com/op_res/G0_niEOxSlL24rHxfWQRrYEhHlR548A2lETw0Se_jFtJt3ZpHTIaPZPeINUGM3--cFoO5adG9q8jjhNfUzKUxA"}].filter(Boolean))}),i=dV((e=>{[QW.BottomBackButton,QW.NavigationBackInterceptionType,QW.NavigateBackCall].includes(e.type)&&n.handleClose()})),{action:a}=yield new Promise((e=>{["shareToFriend","addToFavorites","setWxState","saveToAlbum","cancel"].forEach((t=>{n.addListener(t,(()=>e({action:t})))}))}));return pV(i),{action:a}}));return function(t){return e.apply(this,arguments)}}(),Qee=function(){var e=Vp()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}(),Zee=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),ete=function(){var e=Vp()((function*({url:e,width:t,height:r,pluginId:n}){var i=Vp()((function*(){var n=t>r&&t>640?640:void 0,i=r>t&&r>640?640:void 0,{tempFilePath:a}=yield Hee({src:e,quality:60,compressedWidth:n,compressedHeight:i}),{data:o}=yield Gee({filePath:a});return o}))(),a=Vp()((function*(){var{data:e}=yield rx({apiName:"webapi_getc2cauthkey",reqData:{},pluginId:n});return _.info("[requestImageReview] c2cAuthInfo",e),e}))(),[o,s]=yield Promise.all([i,a]),l=yield Qee(Vp()((function*(){var e=yield Promise.race([Zee(4e3,"upload timeout"),Kee({url:"https://finder-assistant.mp.video.tencent-cloud.com/snsuploadsimple",method:"POST",header:{"X-Arguments":[`apptype=${s.apptype}`,"filetype=20304",`openid=${re.appLaunchInfo.openId||""}`,"filekey=image",`timestamp=${s.timestamp}`,`authkey=${s.authkey}`].join("&"),"Content-Type":"application/x-www-form-urlencoded"},data:o})]);if(_.info("[requestImageReview] uploadc2c",e.data),200!==e.statusCode)throw new Error(`upload fail, ${e.data.retcode}`);return e.data.fileurl})),1),c=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).padStart(14,0);_.info("[requestImageReview] requestId",c),_.info("[requestImageReview] c2cUrl",l);var{data:u}=yield rx({apiName:"webapi_checkwxaposterurl",reqData:{url:l,request_id:c},pluginId:n});return _.info("[requestImageReview] checkResult",u),u}));return function(t){return e.apply(this,arguments)}}(),tte=Yc("showShareImageMenu",Vp()((function*(e={},{pluginId:t}={}){var r=Date.now(),n=Date.now()+Vee();if(!Vh("showShareImageMenu"))throw new Error("no permission");Wc(e,{path:"1"});var{path:i,style:a,needShowEntrance:o,entrancePath:s="",desc:l}=e,c=uY.get(i)||i;if(/^\w+:\/\//.test(c)){if(!/^wxfile:\/\//.test(c)&&!/^http:\/\/(tmp|store|usr)\//.test(c))throw new Error("invalid path")}else c="/"+AX(c,!1);var u,d=!0,{height:p,width:h,type:f}=yield qee({src:c});o&&(u=ete({url:c,width:h,height:p,pluginId:t}),d="gif"!==f);var g,{action:v}=yield Yee({imgPath:c,height:p,width:h,style:We()?"default":a,canShareToFriend:d}),m="";tt(s)&&(m=null!==(g=s.split("?")[1])&&void 0!==g?g:"");switch(We()&&Uee({SceneID:108101,UIArea:10810100,PositionID:0,ActionID:1,ExternInfo:{image_url:c,query:m}}),Xee({action:Jee.SHOW_MENU}),v){case"shareToFriend":We()&&Uee({SceneID:108101,UIArea:10810101,PositionID:0,ActionID:2});try{if(o){var y=!1,b=!1;try{bj({title:"正在生成海报"});var{errcode:_,hit_category:w}=yield Promise.race([Zee(1e4,"upload image timeout"),u]);y=0===_,b=!!w}catch(e){throw setTimeout((()=>{dj({title:"当前网络状态不佳，请稍后再试"})})),Xee({action:Jee.SHARE_SERVER_ERROR}),e}finally{_j()}if(!y||!b)throw setTimeout((()=>{dj({title:y?"无法生成海报":"海报内容违规，无法打开"})}),0),Xee({action:Jee.SHARE_FORBIDDEN}),new Error("forbidden");yield gd("shareImageMessage",{imagePath:c,needShowEntrance:o,entrancePath:"string"==typeof s&&s?Ld(s):void 0}).then((()=>{We()&&Uee({SceneID:108101,UIArea:10810101,PositionID:1,ActionID:3,ExternInfo:{share_id:n}})}))}else yield gd("shareImageMessage",{imagePath:c}).then((()=>{We()&&Uee({SceneID:108101,UIArea:10810101,PositionID:1,ActionID:3,ExternInfo:{share_id:n}})}));Xee({action:Jee.SHARE_SUCCESS})}catch(e){if("cancel"===e.message)return void Xee({action:Jee.SHARE_FAIL});throw e}return;case"addToFavorites":return Xee({action:Jee.ADD_TO_FAVORITES}),void(yield gd("addImageToFavorites",{url:c}));case"setWxState":return We()&&Uee({SceneID:108101,UIArea:10810101,PositionID:2,ActionID:2}),void(yield new Promise((e=>{var t=Date.now(),r=c;tt(r)&&0===r.indexOf("/")&&Ie&&(r=r.slice(1)),fd("publishWeChatState",{state:"1019",imgUrl:r,desc:l,url:"string"==typeof s&&s?Ld(s):void 0,success:()=>{We()&&Uee({SceneID:108101,UIArea:10810101,PositionID:3,ActionID:3,ExternInfo:{status_type:1,share_id:n,status_id:"1019",time:Date.now()-t,desc:l}})},complete:()=>{e()}})})));case"saveToAlbum":return We()&&Uee({SceneID:108101,UIArea:10810101,PositionID:4,ActionID:2}),Xee({action:Jee.SAVE_TO_ALBUM}),yield gd("saveImageToPhotosAlbum",{filePath:c}),void(Ie&&dj({icon:"success",title:"已保存"}));default:throw We()&&Uee({SceneID:108101,UIArea:10810101,PositionID:5,ActionID:2,ExternInfo:{stay_time:Date.now()-r}}),Xee({action:Jee.CANCEL}),new Error("cancel")}}))),rte=!1,nte=null,ite=null;Jw((()=>{rte=!0})),rG((()=>{rte=!1,nte&&(ate(nte),nte=null),ite&&(ote(ite),ite=null)}));var ate=e=>{jc("addCard",e,{cardList:[]})&&(rte?nte=e:fd("addCard",e))},ote=e=>{jc("openCard",e,{cardList:[]})&&(rte?ite=e:fd("openCard",e))},ste=(e={})=>{fd("checkIsSupportSoterAuthentication",e,{})},lte=(e={})=>{if(jc("startSoterAuthentication",e,{challenge:""})){var t=e.success;fd("startSoterAuthentication",Object.assign({},e,{success(r){0!==r.errCode?"function"==typeof e.fail&&E.surroundThirdByTryCatch(e.fail,"at api startSoterAuthentication fail callback function")(r):"function"==typeof t&&E.surroundThirdByTryCatch(t,"at api startSoterAuthentication success callback function")(r)}}),{beforeSuccess(e){"number"==typeof e.errCode&&0!==e.errCode&&(e.errMsg="startSoterAuthentication:fail")}})}},cte=(e={})=>{jc("checkIsSoterEnrolledInDevice",e,{checkAuthMode:""})&&fd("checkIsSoterEnrolledInDevice",e,{})},ute=(e={})=>{fd("openGoldenRedPacketDetail",e,{})},dte=(e={})=>{fd("sendGoldenRedPacket",e,{})},pte=(e={})=>{if(Vh("sendBizRedPacketForOpen")){var t=wh().scene;if(1047!==t&&1124!==t&&1011!==t&&1025!==t){var r=`sendBizRedPacket:fail scene ${t} not support.`;return e.fail&&e.fail({errMsg:r}),void(e.complete&&e.complete({errMsg:r}))}}fd("sendBizRedPacket",e,{})},hte=(e={})=>{invokeMethod("openRedPacket",e,{})},fte=Object.assign,gte=Object.create,vte=p.prototype.call.bind(String.prototype.toString),mte=p.prototype.call.bind(String.prototype.indexOf),yte="https://support.weixin.qq.com/cgi-bin/mmsupport-bin/showredpacket",bte=(e={})=>{if(jc("showRedPackage",e,{url:""}))if(Vh("showRedPackage")){var t=gte(null);fte(t,e),t.url=vte(t.url),t.isNativeStyle=!0,0===mte(t.url,yte)?fd("private_openUrl",t,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","showRedPackage")}}):Vc("showRedPackage",t,"url is invalid")}else Vc("showRedPackage",e,"no permission")},_te=(e={})=>{fd("jumpRedPacketEnvelopePreview",e,{})},wte=(e={})=>{fd("quickSendRedPacket",e,{})},Ste=(e={})=>{fd("sendRedCoverAppMsg",e,{})},Cte=(e={})=>{fd("checkIsSupportFacialRecognition",e,{})},kte=e=>JSON.stringify({name:e.name,id_card_number:e.idCardNumber,user_id_key:e.userIdKey}),Ite=(e={})=>{var t=kte(e);fd("startFacialEncryptionVerify",xd(e,{requestVerifyPreInfo:t}),{})},Pte=(e={})=>{var t=kte(e);fd("startFacialEncryptionVerifyAndUploadVideo",xd(e,{requestVerifyPreInfo:t}),{})},Tte=e=>JSON.stringify({name:e.name,id_card_number:e.idCardNumber,mobile:e.mobile,outer_verify_id:e.outerVerifyId,user_id_key:e.userIdKey}),Ate=(e={})=>{var t=Tte(e);fd("startFacialRecognitionVerify",xd(e,{requestVerifyPreInfo:t}),{})},xte=(e={})=>{var t=Tte(e);fd("startFacialRecognitionVerifyAndUploadVideo",xd(e,{requestVerifyPreInfo:t}),{})},Ete=(e={})=>{ke?fd("checkTrafficCardConditions",e):Vc("checkTrafficCardConditions",e,"not yet supported")},Mte=(e={})=>{ke?fd("queryTrafficCardInfo",e):Vc("queryTrafficCardInfo",e,"not yet supported")},Rte=(e={})=>{ke?fd("issueTrafficCard",e):Vc("issueTrafficCard",e,"not yet supported")},Dte=(e={})=>{ke?fd("rechargeTrafficCard",e):Vc("rechargeTrafficCard",e,"not yet supported")},Ote=(e={})=>{ke?fd("setDefaultTrafficCard",e):Vc("setDefaultTrafficCard",e,"not yet supported")},Lte=(e={})=>{ke?fd("deleteTrafficCard",e):Vc("deleteTrafficCard",e,"not yet supported")},Nte=(e={})=>{if(jc("addFileToFavorites",e,{filePath:""})){var t=Q9(e.filePath);fd("addFileToFavorites",{...e,filePath:t})}},Bte=(e={})=>{if(jc("addVideoToFavorites",e,{videoPath:""})){var t=Q9(e.videoPath),r=Q9(e.thumbPath);fd("addVideoToFavorites",{...e,videoPath:t,thumbPath:r})}},$te=(e={})=>{fd("openChannelsCreateContact",e)},Fte=[1177,1184,1195,1208],jte=(e={})=>{var{scene:t}=wh();if(-1!==Fte.indexOf(t)){var{success:r,fail:n,complete:i}=e;tx({sdkApiName:"getChannelsShareKey",apiName:"webapi_get_channels_share_info",reqData:{scene_note:H4().scene_note,cookie:qS()},success({errMsg:e,data:t={}}){var{sharer_openid:n,promoter:a={}}=t,o={errMsg:e,sharerOpenId:n,promoter:{finderNickname:a.finder_nickname,promoterId:a.promoter_id,promoterOpenId:a.promoter_openid}};"function"==typeof r&&r(o),"function"==typeof i&&i(o)},fail(e){"function"==typeof n&&n(e),"function"==typeof i&&i(e)}})}else Vc("getChannelsShareKey",e,`invalid scene, current is ${t}`)},Wte=(e={})=>{fd("openChannelsPostPage",e)},Vte,Ute=e=>{fd("login",xd(e,{requestInQueue:!1}),{beforeAll(e){delete e.clientInfo}})},zte=e=>{Vte&&clearTimeout(Vte),fd("refreshSession",e,{beforeSuccess:e=>{Vte=setTimeout((()=>{fd("refreshSession")}),1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:e=>{e.errMsg=e.errMsg.replace("refreshSession","checkSession")}})},qte=()=>{fd("logout",{})},Hte=function(e={}){var t="login",r=getPluginId(this),n=Object.assign({},e,{miniprogram_appid:WXConfig.accountInfo.appId}),{success:i,fail:a,failWithMsg:o}=assembleCallbacks(e,t);checkPluginPermissionSync(r,"setPluginLoginAuth")?Gte.call(this,{success(){invokeOperateWXData({sdkApiName:t,apiName:"webapi_plugin_login",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,i(e)},fail:a})},fail(e){o({msg:e.errMsg})}}):o({msg:"no permission"})},Gte=function(e={}){var t="setPluginLoginAuth",r=getPluginId(this),n=Object.assign({},e,{miniprogram_appid:WXConfig.accountInfo.appId,auth_status:1}),{success:i,fail:a}=assembleCallbacks(e,t);invokeOperateWXData({sdkApiName:t,apiName:"webapi_plugin_setauth",reqData:n,pluginId:r,success:e=>{Object.assign(e,e.data),delete e.data,i(e)},fail:a})},Kte=/^wx[0-9a-f]{16}(\/.*)?$/,Jte="webapi_reportwxauseuserinfo",Xte={addPhoneCalendar:["jsapi_photocalendar"],addPhoneContact:["jsapi_phonecontact"],chooseImage:["jsapi_media"],chooseInvoice:["jsapi_invoice"],chooseInvoiceTitle:["jsapi_invoice"],chooseLicensePlate:["jsapi_licenseplate"],chooseLocation:["jsapi_choose_location"],chooseMedia:["jsapi_media"],chooseMessageFile:["jsapi_messagefile"],choosePoi:["jsapi_choose_location"],chooseVideo:["jsapi_media"],createBLEPeripheralServer:["webapi_bluetooth"],enableLocationUpdate:["jsapi_location"],enableLocationUpdateBackground:["jsapi_location"],getClipboardData:["jsapi_clipboard"],getFuzzyLocation:["jsapi_fuzzy_location"],getLocation:["jsapi_location"],getPhoneNumber:["webapi_getuserwxphone_group"],insertCamera:["jsapi_camera"],insertLivePusher:["jsapi_camera","jsapi_record"],insertVoIPView:["jsapi_camera"],insertXWebCamera:["jsapi_camera"],insertXWebLivePusher:["jsapi_camera","jsapi_record"],insertXWebVoIPView:["jsapi_camera"],joinVoIPChat:["jsapi_record"],openAddress:["jsapi_address"],openBluetoothAdapter:["webapi_bluetooth"],saveImageToPhotosAlbum:["jsapi_photos_album"],saveVideoToPhotosAlbum:["jsapi_photos_album"],setClipboardData:["jsapi_clipboard"],startRecord:["jsapi_record"]},Yte={jsapi_accelerometer:2,jsapi_address:0,jsapi_camera:1,jsapi_choose_location:0,jsapi_clipboard:2,jsapi_compass:2,jsapi_devicemotion:2,jsapi_fuzzy_location:1,jsapi_gyroscope:2,jsapi_invoice:0,jsapi_licenseplate:0,jsapi_location:1,jsapi_media:0,jsapi_messagefile:0,jsapi_phonecontact:1,jsapi_photocalendar:1,jsapi_photos_album:1,jsapi_record:1,jsapi_useravatar:0,jsapi_username:0,webapi_bluetooth:1,webapi_getuserwxphone_group:0,webapi_userinfo:0,webapi_werun:1},Qte=p.prototype.call.bind(String.prototype.split),Zte=p.prototype.call.bind(String.prototype.match),ere=p.prototype.call.bind(Object.prototype.hasOwnProperty),tre=e=>Qte(e,"/",1)[0],rre=(e,t)=>ere(Xte,e)?nre(Xte[e],t):null,nre=(e,t)=>{var r="string"==typeof t&&Zte(t,Kte)?tre(t):null;return e.map((e=>({apiName:Jte,reqData:{scope:e,report_type:Yte[e],state:1},pluginId:r,fail({errMsg:t}){_.warn(`[reportUserPrivacyStat] failed, scope=${e}, pluginId=${r}, errMsg=${t}`)}})))};const ire={getArgsByJsApi:rre,getArgsByScope:nre,WxDataName:Jte};Qu(((e,t)=>{if(!Ge()){var r=ire.getArgsByJsApi(e,t);null!==r&&setTimeout((()=>{_.info(`[reportUserPrivacyStat] reason: invoke service jsApi [${e}] success by [${t}]`),r.forEach((e=>{tx(e)}))}),200)}}));var are=e=>function(t,r){Ge()||setTimeout((()=>{_.info(`[reportUserPrivacyStat] reason: service ${r} by [${t}]`),ire.getArgsByScope(e,t).forEach((e=>{tx(e)}))}),200)},ore=are(["webapi_userinfo"]),sre=are(["webapi_werun"]),lre=are(["jsapi_record"]),cre=are(["jsapi_accelerometer"]),ure=are(["jsapi_compass"]),dre=are(["jsapi_devicemotion"]),pre=are(["jsapi_gyroscope"]),hre=are(["jsapi_camera"]),fre=are(["jsapi_username"]),gre=are(["jsapi_useravatar"]),vre=are(["webapi_getuserwxphone_group"]),mre=(e={})=>{var t=re.SDKVersion,r=!0===wf("getUserInfo")||"unknown"===wf("getUserInfo"),{success:n,fail:i}=qc(e,"getUserInfo");tx({sdkApiName:"getUserInfo",apiName:"webapi_getuserinfo",reqData:{lang:e.lang||"en",version:t},withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:r,success:e=>{var{cloudID:t,encryptedData:r,iv:i,signature:a,data:o}=e;n({cloudID:t,encryptedData:r,iv:i,signature:a,userInfo:o,rawData:JSON.stringify(e.data)}),We()&&setTimeout((()=>ore("","wx.getUserInfo")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),i(e)}})},yre=(e={},t={})=>{if(jc("getUserProfile",e,{desc:""})){var r=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(r>30||r<2)Vc("getUserProfile",e,"desc length does not meet the requirements");else{var n=!0===wf("getUserProfile")||"unknown"===wf("getUserProfile"),{success:i,fail:a}=qc(e,"getUserProfile"),o={lang:e.lang||"en",desc:e.desc};2===e.mode&&(o.get_profile_mode=2),o.version=re.SDKVersion,nU({success(e){var t=JSON.parse(e.data);o.app_version=t},complete(){tx({sdkApiName:"getUserProfile",apiName:"webapi_getuserprofile",withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,showConfirm:n,reqData:o,pluginId:undefined,success:e=>{var{cloudID:t,encryptedData:r,iv:n,signature:a,data:o}=e;i({cloudID:t,encryptedData:r,iv:n,signature:a,userInfo:o,rawData:JSON.stringify(e.data)}),null!=o&&o.is_demote||setTimeout((()=>ore("","wx.getUserProfile")))},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),a(e)},complete:()=>{"function"==typeof t.afterAll&&t.afterAll()}})}})}}},bre=(e={})=>{lx("getUserAvatarInfo","webapi_getuseravatarpopupinfo")(e)},_re=(e={})=>{var t=lx("confirmAvatarInfo","webapi_confirmuseravatarinfo",(e=>e),(e=>{try{e.userInfo=e.rawDataObject,Object.keys(e.userInfo).forEach((t=>{delete e[t]})),e.rawData=JSON.stringify(e.userInfo)}catch(e){}}));t(e)},wre=(e={})=>{fd("createVestUser",e,{beforeSuccess(e){e.userInfo&&(e.userInfo.avatar=e.userInfo.headImg,e.userInfo.desc=e.userInfo.desc||"",delete e.userInfo.headImg)}})},Sre=(e={})=>{fd("createVestUser",e,{})},Cre=null,kre=!1,Ire="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",Pre=(e={})=>{if(kre)return console.error("invoke wx.getUserProfile too frequently");if(jc("getUserProfile",e,{desc:""})){var t=e.desc.replace(/[^\x00-\xff]/g,"##").length;if(t>30||t<2)Vc("getUserProfile",e,"desc length does not meet the requirements");else{var r=re.accountInfo.nickname,n=re.accountInfo.icon||Ire;kre=!0,bre({success(t){if(t&&t.avatar_info){var i="number"==typeof e.showType?e.showType:t.show_type,a="string"==typeof e.wording?e.wording:"",o=t.avatar_info.is_ban_modify_avatar,s=t.avatar_info.default_headimg_url,l=t.avatar_info.default_headimg_fileid,c=t.avatar_info.default_avatar_id,u=(t.avatar_info.avatar_list||[]).map((e=>({id:e.id,avatar:e.avatarurl,nickname:e.nickname,desc:e.desc||""}))),d=t.avatar_info.avatar_limit;if(0!==i){if(kre=!1,1===i){d+=1;var p={id:-100,avatar:s,nickname:"微信用户",desc:"临时头像昵称"};u.splice(1,0,p)}var h=JSON.stringify({appName:r,appIcon:n,infoList:u,showType:i,selected:c,limit:d,isBanModifyAvatar:o,wording:a}),f=dV((e=>{[QW.BottomBackButton,QW.NavigationBackInterceptionType,QW.NavigateBackCall].includes(e.type)&&Cre&&Cre.handleCancel()}));__sclEngine__.initScl((t=>{(Cre=t.mainRoot.append("user-profile",{input:h})).addListener("confirm",(t=>{pV(f),_re({avatar_id:t.detail.selected,opt:1,lang:e.lang||"en",success(r){e.__requireId__&&(r.avatarId=t.detail.selected),zc({name:"getUserProfile",args:e,res:r})},fail(){Vc("getUserProfile",e,"confirmAvatarInfo fail")},complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),Cre=null})),Cre.addListener("cancel",(()=>{pV(f),Vc("getUserProfile",e,"cancel"),_re({avatar_id:-100,opt:2,lang:e.lang||"en",complete(e){console.log("[user-profile] confirmAvatarInfo: ",e)}}),Cre=null})),Cre.addListener("create",(()=>{wre({sessionId:Math.floor(Date.now()/1e3),defaultAvatarUrl:s,defaultAvatarFileId:l,complete(e){e.userInfo&&(u.push(e.userInfo),console.log("[user-profile] createVestUser: ",e,u),Cre.setData({infoList:u})),Cre.setData({hide:!1})}})}))}))}else yre(e,{afterAll:()=>kre=!1})}else Vc("getUserProfile",e,"getUserAvatarInfo fail")},fail(){kre=!1,Vc("getUserProfile",e,"getUserAvatarInfo fail")}})}}},Tre=(e={})=>{Pre(Object.assign({},e,{__requireId__:!1}))},Are=function(e){vd(sh(this))("openAddress",e,{beforeSuccess(e){Dd(e,"addressPostalCode","postalCode"),Dd(e,"proviceFirstStageName","provinceName"),Dd(e,"addressCitySecondStageName","cityName"),Dd(e,"addressCountiesThirdStageName","countyName"),Dd(e,"addressStreetFourthStageName","streetName"),Dd(e,"addressDetailInfoNew","detailInfoNew"),Dd(e,"addressDetailInfo","detailInfo")},beforeAll(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddress"),delete e.err_msg}})},xre={SYS_MSG_TYPE_INTERACTIVE:1,SYS_MSG_TYPE_RANK:2,SYS_MSG_TYPE_PRIVATE_CHAT:3,SYS_MSG_TYPE_WHATS_NEW:4},Ere=Mre(xre);function Mre(e){var t={};for(var r in e)t[e[r]]=r;return t}function Rre(e){return xre[e]}function Dre(e){return Ere[e]}function Ore(e){var t,r,n=re.SDKVersion,i=(null!=re&&null!==(t=re.requiredPrivateInfos)&&void 0!==t&&t.includes("getFuzzyLocation")?1:0)+((null==re||null===(r=re.requiredPrivateInfos)||void 0===r?void 0:r.length)>0?2:0),a=Object.assign({with_sub_msg:"boolean"==typeof e.withSubscriptions&&e.withSubscriptions,version:n,ext_flag:i},e);return delete a.withSubscriptions,a}function Lre(e){if(_.info("webapi_getuserallappauth res=",e),e.auth_item?e.authSetting=e.auth_item.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{}):e.authSetting={},void 0!==e.sub_msg_switch){var t={mainSwitch:1===e.sub_msg_switch};if(e.sub_msg_list){var r=e.sub_msg_list.reduce(((e,t)=>{var r=t.template_id;return t.sys_msg_type>0&&(r=Dre(t.sys_msg_type)),t.ban_flag?e[r]="ban":(e[r]=t.setting_status?"accept":"reject",t.is_accept_with_audio?e[r]="acceptWithAudio":t.is_accept_with_force_push&&(e[r]="acceptWithForcePush")),e}),{});t.itemSettings=r,Object.assign(t,r)}e.subscriptionsSetting=t}return delete e.signature,delete e.auth_item,delete e.sub_msg_list,delete e.sub_msg_switch,e}var Nre=(e={})=>{if(NQ()){var t=WQ(),r=null,{withSubscriptions:n=!1}=e,i=(n="")=>{if(r){var i,a=(null===(i=r)||void 0===i?void 0:i.authSetting)||{};r.authSetting=Object.assign(a,t),zc({name:"getSetting",args:e,success:!0,res:r})}else{try{n=n.split(":")[1]}catch(e){}Vc("getSetting",e,n)}};lx("getSetting","webapi_getuserallappauth",Ore,Lre)({withSubscriptions:n,success:e=>{r=e,i()},fail:e=>{i(null==e?void 0:e.errMsg),_.error(e)}})}else lx("getSetting","webapi_getuserallappauth",Ore,Lre)(e)},Bre=function(e={}){var t=sh(this);vd(t)("openWeRunSetting",{checkSupport:!0,success(){var{success:r,fail:n}=qc(e);tx({apiName:"webapi_getwerunstep_history",sdkApiName:"getWeRunData",reqData:{},success(e){r(e),sre(t,"wx.getWeRunData")},fail:n})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&E.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&E.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})},$re=(e={})=>{"number"!=typeof e.step||e.step<0?Vc("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0"):fd("openWeRunSetting",{checkSupport:!1,success(){fd("uploadWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&E.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&E.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},Fre=(e={})=>{"number"!=typeof e.step||e.step<0?Vc("addWeRunData",e,"parameter error: step should be number and greater or equal to 0"):fd("openWeRunSetting",{checkSupport:!1,success(){fd("addWeRunData",e,{})},fail(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&E.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&E.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},jre=function(e={}){vd(sh(this))("chooseInvoiceTitle",e,{beforeSuccess(e){var t=e.invoiceTitleInfo||e.choose_invoice_title_info;if(t)try{var r=JSON.parse(t);delete e.invoiceTitleInfo,delete e.choose_invoice_title_info,e=Object.assign(e,r)}catch(e){}}})},Wre=e=>(t={})=>{jc("operateWXData",t,{apiName:""})&&ox({keepAlive:t.keepAlive,apiName:t.apiName,reqData:t.reqData||{},pluginId:e?t.pluginId:void 0,timeout:t.timeout,showApiVersion:t.showApiVersion,showProfile:t.showProfile,priority:2===t.priority||3===t.priority?t.priority:void 0,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},Vre=Wre(!1),Ure=Wre(!0),zre=lx("getOpenDeviceId","webapi_getdeviceinfo");function qre(e,t){return"openStickerSetView"===e?{productId:t.productid}:"openSingleStickerView"===e?{md5:t.md5,emojiInfoBuf:t.emoji_info_buf_base64,showEntry:1}:"openStickerIPView"===e?{title:t.title,desc:t.desc,iconUrl:t.icon_url,setKey:t.set_key}:t}function Hre(e,t){if(jc(e,t,{url:""})){var r=t.url;delete t.url;var{protocol:n,hostname:i,pathname:a,query:o}=(0,xv.Qc)(r,!0),s=decodeURIComponent(o.token||"");"http:"!==n&&"https:"!==n||"weixin.qq.com"!==i||"/jumpemoticonstore"!==a||!s?Vc(e,t,"invalid url"):tx({sdkApiName:e,apiName:"webapi_checkwxajumpemotiontoken",reqData:{token:s},success(r){try{var n,i=qre(e,JSON.parse(null===(n=r.data)||void 0===n?void 0:n.jsapi_json));fd(e,{...t,...i})}catch(r){Vc(e,t,"params parse error")}},fail(r){Vc(e,t,r.errMsg||"")}})}}function Gre(e={}){Hre("openStickerSetView",e)}function Kre(e={}){Hre("openSingleStickerView",e)}function Jre(e={}){Hre("openStickerIPView",e)}var Xre=nr("ThemeChange"),Yre=Xre.onMethod,Qre=Xre.internalOnMethod,Zre=Xre.offMethod;Ut("onThemeChange",(e=>{void 0!==re.theme&&(re.theme=e.theme,Xre.emit({theme:e.theme}))}));var ene=(e=[])=>e.map((e=>({sport_type_id:e.typeId,sport_time:e.time||0,sport_distance:e.distance||0,sport_number:e.number||0,sport_calorie:e.calorie||0,sport_url:e.url||""}))),tne=(e={})=>{var t=lx("checkWxaSportRecord","webapi_checkwxasportrecord",(e=>({sport_record_list:ene(e.recordList)})));t(e)},rne=(e={})=>{var t=lx("reportWxaSportRecord","webapi_reportwxasportrecord",(e=>({sport_record_list:ene(e.recordList)})));t(e)},nne=Cf(tne),ine=Cf(rne),ane=({show:e=0,statusCancel:t=0,statusConfirm:r=0,clickMoreCount:n=0})=>{var i=[e,t,r,n];M.reportKeyValue({key:"ShareToWeRun",value:i.join(","),immediately:!0})},one=null;Yre((e=>{var t=e.theme;one&&one.setData({theme:t})}));var sne=(e,t=[])=>{var r={};return t.forEach((t=>{e.hasOwnProperty(t)&&(r[t]=e[t])})),r},lne=(e="",t)=>{var r=dV((e=>{[QW.BottomBackButton,QW.NavigationBackInterceptionType,QW.NavigateBackCall].includes(e.type)&&one&&(one.handleCancel(),one=null)}));__sclEngine__.initScl((n=>{var i=n.mainRoot.append("werun",{input:e});one=i,i.addListener("confirm",(e=>{var n=e.detail.clickMoreCount;ane({show:1,statusCancel:0,statusConfirm:1,clickMoreCount:n}),pV(r),ine({recordList:t.recordList}).then((()=>zc({name:"shareToWeRun",args:t}))).catch((e=>Vc("shareToWeRun",t,e.errMsg,+e.err_code)))})),i.addListener("cancel",(e=>{var n=e.detail.clickMoreCount;ane({show:1,statusCancel:1,statusConfirm:0,clickMoreCount:n}),Vc("shareToWeRun",t,"cancel"),pV(r)}))}))},cne=(e={})=>{jc("shareToWeRun",e,{recordList:[]})&&(Vh("shareDataToWeRun")?nne({recordList:e.recordList}).then((t=>{var r=t.wording||{},n=sne(r,["title","sport_name","note_title","note_detail"]);n.theme=$b().theme||"light";var i=JSON.stringify(n);lne(i,e)}),(t=>{ane({show:0,statusCancel:0,statusConfirm:0,clickMoreCount:0}),Vc("shareToWeRun",e,t.errMsg,+t.err_code)})):Vc("shareToWeRun",e,"has no permission",-100004))},une=0;m.onLoad((()=>{une=parseInt(Date.now()/1e3,10)}));var dne=function(e={}){vd(sh(this))("chooseInvoice",Object.assign({},e,{timeStamp:une,nonceStr:une+""}),{beforeSuccess(){}})},pne=e=>{var t=vd(e);return(e={})=>{t("faceVerifyForPay",e)}},hne=pne(),fne=(e={})=>{var t=Object.assign({},e,{scene:151});delete t.profileReportInfo,fd("openBizProfile",t,{beforeAll:e=>{e.errMsg=e.errMsg.replace("openBizProfile","openOfficialAccountProfile")}})},gne=(e={})=>{fd("openWeAppProfile",e)},vne=(e={})=>{var t=Object.assign({},e);delete t.profileReportInfo,fd("openUserProfile",t)},mne=e=>(t={})=>{var r=Object.assign({},t,{scene:151});delete r.profileReportInfo,vd(e)("openBizProfile",r,{beforeAll:e=>{e.errMsg=e.errMsg.replace("openBizProfile","openOfficialAccountProfile")}})},yne=(e={})=>{fd("preventApplePayUI",e)},bne=!1;Jw((()=>{bne=!1})),Id((()=>{bne=!1}));var _ne=e=>{if(bne)Vc("requestSubscribeMessage",e,"last call has not ended");else{if(!jc("requestSubscribeMessage",e,{tmplIds:[]}))return;bne=!0,Ce?Sne(e):wne(e)}},wne=e=>{M.reportIDKey({key:"requestSubscribeMessageWithNative",force:!0});var t=Object.assign({},e);t.tmplIds=Array.from(new Set(e.tmplIds)),fd("requestSubscribeMessage",t,{beforeAll(){bne=!1},beforeSuccess(){M.reportIDKey({key:"requestSubscribeMessageWithNativeSuccess",force:!0}),bne=!1},beforeFail(){M.reportIDKey({key:"requestSubscribeMessageWithNativeFail",force:!0})}})},Sne=e=>{var t,r,n=e.tmplIds||[];if(0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t)return bne=!1,void Vc("requestSubscribeMessage",e,t,r);var i=n.map((e=>({TemplateId:e})));tx({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:re.accountInfo.appId,ActionType:1,ItemList:i},success(t){var r=(t.data.InfoList||[])[0]||{};if(r.TemplateId!==n[0])return bne=!1,void zc({name:"requestSubscribeMessage",args:e,res:{[n[0]]:"ban"}});var i="订阅一次以下消息通知";3===r.TemplateType&&(i="长期订阅以下消息通知"),aj({title:i,content:r.Title||"",confirmText:"允许",cancelText:"取消",success(t){bne=!1,Cne(e,t)},fail(t){bne=!1,Vc("requestSubscribeMessage",e,t.errMsg)}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();Vc("requestSubscribeMessage",e,r,+t.err_code),bne=!1}})},Cne=(e,t)=>{var r=e.tmplIds[0];tx({sdkApiName:"requestSubscribeMessage",apiName:"webapi_subscribe_msg",reqData:{AppId:re.accountInfo.appId,ActionType:2,UIData:{OpType:t.confirm?1:2,UIItem:[{TemplateId:r,ChooseStatus:1}]}},success(){var n={};n[`${r}`]=""+(t.confirm?"accept":"reject"),zc({name:"requestSubscribeMessage",args:e,res:n}),fZ({name:"requestSubscribeMessage",data:{templateCount:1,templateType:0,operationType:t.confirm?1:2}})},fail(t){var r=t.errMsg.replace("requestSubscribeMessage:fail","").trim();Vc("requestSubscribeMessage",e,r,+t.err_code)}})},kne="https://res.wx.qq.com/op_res/yytAZD8UVkSQiY3p1COF23jOcEEUXzIgkoz1dEMh7AaDptVrldnHP_Vw24igHeMwpbwo-RRtTJ-_9hk9BBDqHQ",Ine={none:0,accept:1,cancel:2,reject:3},Pne={0:"none",1:"accept",2:"cancel",3:"reject"},Tne=!1,Ane=0,xne=null;function Ene(e){iS("setGuideFlag",{value:e},[Ane],(e=>{e.errMsg&&e.errMsg}))}function Mne(e){iS("getGuideFlag",{},[Ane],(t=>{t.errMsg?t.errMsg:e(!!t.data)}))}function Rne(){setTimeout((()=>{Mne((e=>{xne&&xne.setData({showGuideOnce:e})}))}),500)}function Dne(e=!0){Tne=!1,xne&&e&&xne.des()}function One(){return dV((e=>{[QW.BottomBackButton,QW.NavigationBackInterceptionType,QW.NavigateBackCall].includes(e.type)&&Dne()}))}function Lne(e,t,r){xne||(xne=r.mainRoot.append("device-message",{})),xne.addListener("ready",(()=>{xne&&(xne.initData?(xne.setData({...xne.initData,enter:!0}),Rne()):xne.isReady=!0)})),xne.addListener("confirm",(t=>{Bne(e,Ine.accept,t.detail.items)})),xne.addListener("cancel",(t=>{Bne(e,Ine.cancel,t.detail.items)})),xne.addListener("reject",(t=>{Bne(e,Ine.reject,t.detail.items)})),xne.addListener("destroy",(()=>{xne=null,pV(t)})),xne.addListener("vibrate",(()=>{EX({type:"medium"})})),xne.addListener("setGuideFlag",(e=>{Ene(e.detail.value)}))}function Nne(e,t){tx({sdkApiName:"requestSubscribeDeviceMessage",apiName:"SubscribeDeviceMsg",reqData:{ActionType:1,sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,ItemList:e.tmplIds.map((e=>({TemplateId:e})))},success(r){var n=r.data.InfoList||[],i=[],a=[];if(n.forEach((e=>{e.OperType&&e.OperType!==Ine.cancel?a.push(e):i.push(e)})),!i.length){var o={},s=a.some((e=>e.OperType===Ine.accept));return a.forEach((e=>{o[e.TemplateId]=Pne[e.OperType]})),zc({name:"requestSubscribeDeviceMessage",success:s,args:e,res:o}),void Dne()}var l={appIcon:re.accountInfo.icon||kne,appName:re.accountInfo.nickname,items:i.map((e=>({name:e.Title,checked:!1,...e.IsForcePushTemplate?{isDefaultForcePush:1===e.IsDefaultForcePush,isForcePush:!0,forcePushStatus:!1}:{},id:e.TemplateId,noticeList:e.KeyWordList})))};t(l)},fail(t){var r=t.errMsg.replace("requestSubscribeDeviceMessage:fail:","").trim();Vc("requestSubscribeDeviceMessage",e,r,+t.err_code),Dne()}})}function Bne(e,t,r){tx({sdkApiName:"requestSubscribeDeviceMessage",apiName:"SubscribeDeviceMsg",reqData:{ActionType:2,sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,UIData:{OpType:t,UIItem:r.map((e=>({TemplateId:e.id,ChooseStatus:e.checked?1:0,...e.isForcePush?{IsAcceptWithForcePush:e.forcePushStatus?1:0}:{}})))}},success(){if(t===Ine.cancel||t===Ine.reject)Vc("requestSubscribeDeviceMessage",e,`${Pne[t]} operation`);else{var n={};r.forEach((e=>{n[e.id]=e.checked?"accept":"reject"})),zc({name:"requestSubscribeDeviceMessage",args:e,res:n})}Dne(!1)},fail(t){var r=t.errMsg.replace("requestSubscribeDeviceMessage:fail:","").trim();Vc("requestSubscribeDeviceMessage",e,r,+t.err_code),Dne(!1)}})}Jw((e=>{Ane=e.webviewId,Dne()})),Id((()=>{Dne()}));var $ne=e=>{if(jc("requestSubscribeDeviceMessage",e,{sn:"",snTicket:"",modelId:"",tmplIds:[]})){var t,r,n=e.tmplIds||[];0===n.length?(t="TmplIds can't be empty",r=10001):n.length>=4?(t="Templates count out of max bounds",r=20003):""===n[0]?(t="No template data return, verify the template id exist",r=20001):"string"!=typeof n[0]&&(t="Invalid template id",r=10004),t?Vc("requestSubscribeDeviceMessage",e,t,r):Tne||(Tne=!0,__sclEngine__.initScl((t=>{var r=One();Lne(e,r,t),Nne(e,(e=>{xne&&(xne.isReady?(xne.setData({...e,enter:!0}),Rne()):xne.initData=e)}))})))}},Fne=(e={})=>{jc("requestBizSplitBillPayment",e,{orderNo:""})&&fd("requestBizSplitBillPayment",e)},jne="getGroupEnterInfo",Wne=(e={})=>{var{success:t,fail:r,failWithMsg:n}=qc(e,jne),i=F9();i?Vh("getGroupToolbarInfo")?tx({sdkApiName:jne,apiName:"webapi_swapopengid",reqData:{chatroom_name:i},success:t,fail:r}):n({msg:"no permission"}):n({msg:"invalid scene"})},Vne=()=>rx({apiName:"webapi_getapppublishwxstatecheckflag",reqData:{}}),Une=[1011,1017,1025,1047,1124,1034],zne=[1001,1038,1041,1089,1090,1104,1131,1187],qne={NeedCheck:0,NotCheck:1},Hne=e=>{if(Une.includes(e))return!0;if(zne.includes(e)){var{scene:t}=LO();return Une.includes(t)}return!1},Gne=function(){var e=Vp()((function*(){try{var{data:e}=yield Vne(),{check_scene_flag:t=qne.NeedCheck,check_pay_success_flag:r=qne.NeedCheck}=e||{};return{shouldCheckScene:t===qne.NeedCheck,shouldCheckPayment:r===qne.NeedCheck}}catch(e){return{shouldCheckScene:!0,shouldCheckPayment:!0}}}));return function(){return e.apply(this,arguments)}}(),Kne=(e={})=>{var{scene:t}=wh();Gne().then((({shouldCheckScene:r,shouldCheckPayment:n})=>{!n||M7()?!r||Hne(t)?fd("publishWechatStateActivity",e,{beforeSuccess:e=>{var{tailType:t,tailUserName:r,tailPath:n,tailUri:i}=e;delete e.tailType,delete e.tailUserName,delete e.tailPath,delete e.tailUri,M.reportKeyValue({key:"PublishWechatState",value:[t,r,n,i].map(encodeURIComponent).join(",")})}}):Vc("publishWechatStateActivity",e,`invalid scene, current is ${t}`):Vc("publishWechatStateActivity",e,"should only called after a successful payment")}))},Jne=()=>{var{scene:e}=wh();return M7()&&Hne(e)},Xne=e=>{var{scene:t}=wh(),{success:r,failWithMsg:n}=qc(e,"checkPublishWeChatStateSceneAsync");Gne().then((({shouldCheckScene:e,shouldCheckPayment:n})=>{(!n||M7())&&(!e||Hne(t))?r({canPublishWeChatState:!0}):r({canPublishWeChatState:!1})})).catch((e=>{n({msg:"system error"})}))},Yne=(e={})=>{var{scene:t}=wh();Gne().then((({shouldCheckScene:r,shouldCheckPayment:n})=>{if(!n||M7())if(!r||Hne(t)){var i=Object.assign({},e);if("string"==typeof i.url){var a=Kx("publishWeChatState",i,!1);if(!a)return;i.url=a,i.url=zd(i.url)}fd("publishWeChatState",i)}else Vc("publishWeChatState",e,`invalid scene, current is ${t}`);else Vc("publishWeChatState",e,"should only called after a successful payment")}))},Qne=(e={})=>{e=Object.assign({},e);var t=()=>{try{fZ({name:"openCustomerServiceChat",data:{extInfo:"object"==typeof e.extInfo?JSON.stringify(e.extInfo):e.extInfo,corpId:e.corpId}})}catch(e){}};We()?tx({apiName:"webapi_getgamewxkfinfo",sdkApiName:"openCustomerServiceChat",reqData:{raw_kf_args:{extinfo:e.extInfo,corpid:e.corpId,show_message_card:e.showMessageCard,send_message_title:e.sendMessageTitle,send_message_path:e.sendMessagePath,send_message_img:e.sendMessageImg}},success:r=>{var n=r.data;if(0===(null==n?void 0:n.err_code)){var{processed_kf_args:i,need_ban_kf:a}=n;if(a)Vc("openCustomerServiceChat",e,"customer service ability is banned");else{var{extinfo:o,corpid:s,show_message_card:l,send_message_title:c,send_message_path:u,send_message_img:d}=i||{};o.scene=20,fd("openCustomerServiceChat",{extInfo:o,corpId:s,showMessageCard:l,sendMessageTitle:c,sendMessagePath:u,sendMessageImg:d,scene:+re.appLaunchInfo.scene,success:e.success,fail:e.fail,complete:e.complete},{beforeSuccess:t})}}else{var{err_code:p,err_msg:h}=n;_.error("openCustomerServiceChat err_code",p),Vc("openCustomerServiceChat",e,h,p)}},fail:t=>{_.error("openCustomerServiceChat operateWXData Fail",t),console.error("openCustomerServiceChat operateWXData Fail",t),Vc("openCustomerServiceChat",e,t.errMsg)}}):(e.extInfo=Object.assign({},e.extInfo,{scene:8}),fd("openCustomerServiceChat",Object.assign({},e,{scene:+re.appLaunchInfo.scene}),{beforeSuccess:t}))},Zne=function(e={}){vd(sh(this))("chooseLicensePlate",e,{beforeSuccess:e=>{e.plate&&(e.plateNumber=e.plate,delete e.plate)}})},eie=(e={})=>{jc("ncidas",e,{orgID:"",businessID:"",bizSeq:"",type:0})&&fd("openCTID",Object.assign({},e,{miniProgramPlatformID:"00000002"}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("openCTID","ncidas")}})},tie=b6(),rie=e=>{tie(e,_6.addDevicePanel)},nie=e=>{if(jc("removeDevicePanel",e,{sn:"",snTicket:"",modelId:""})){var{sn:t,snTicket:r,modelId:n}=e;tx({sdkApiName:"removeDevicePanel",apiName:"RemoveDevicePanel",reqData:{sn:t,sn_ticket:r,model_id:n},success(t){zc({name:"removeDevicePanel",args:e,res:t}),dj({title:"已删除",icon:"success"})},fail(t){var r=t.errMsg.replace("removeDevicePanel:fail:","").trim();Vc("removeDevicePanel",e,r,+t.err_code)}})}},iie=e=>{tx({sdkApiName:"getDevicePanelList",apiName:"GetWxaDevicePanel",reqData:{},success(t){zc({name:"getDevicePanelList",args:e,res:t})},fail(t){var r=t.errMsg.replace("getDevicePanelList:fail:","").trim();Vc("getDevicePanelList",e,r,+t.err_code)}})},aie=e=>{tx({sdkApiName:"canIUseDevicePanel",apiName:"CanUseDevicePanel",reqData:{},success({data:t}){var r={result:!!t&&t.check_result};zc({name:"canIUseDevicePanel",args:e,res:r})},fail(t){var r=t.errMsg.replace("canIUseDevicePanel:fail:","").trim();Vc("canIUseDevicePanel",e,r,+t.err_code)}})},oie=e=>{if(jc("batchAddDevicePanel",e,{devices:[{sn:"",snTicket:"",modelId:"",deviceName:"",location:""}]})){var t=e.devices.map((e=>({sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,name:e.deviceName,location:e.location,path:e.path,version_type:e.envVersion||re.envVersion})));tx({sdkApiName:"batchAddDevicePanel",apiName:"BatchAddDevicePanel",reqData:{device_list:t},success(t){zc({name:"batchAddDevicePanel",args:e,res:t})},fail(t){var r=t.errMsg.replace("batchAddDevicePanel:fail:","").trim();Vc("batchAddDevicePanel",e,r,+t.err_code)}})}},sie=b6(),lie=e=>{sie(e,_6.requestDeviceVoIP)},cie=e=>{tx({sdkApiName:"getDeviceVoIPList",apiName:"GetIotVoipContactList",reqData:{type:1},success(t){var r=((t.data||{}).contact_list||[]).map((({sn:e,model_id:t,group_id:r,status:n})=>({sn:e,model_id:t,group_id:r,status:n})));zc({name:"getDeviceVoIPList",args:e,res:{list:r}})},fail(t){var r=t.errMsg.replace("getDeviceVoIPList:fail:","").trim();Vc("getDeviceVoIPList",e,r,+t.err_code)}})},uie="checkIsAddedToMyMiniProgram",die=lx(uie,"webapi_checkwxauserstarwxa",(()=>{}),(e=>{e.added=e.is_star_wxa,delete e.is_star_wxa}));function pie(e){die(Object.assign({},e))}var hie=lx("getWeComProfileInfo","webapi_getweworkprofileinfo",(({dataUrl:e})=>({wework_profile_url:e,scene:yh().scene})),(e=>{e.corp_brief_name&&(e.name=e.corp_brief_name,delete e.corp_brief_name)})),fie="openWeComUserProfile",gie=e=>{Ie&&(e.url=e.dataUrl,delete e.dataUrl),fd("openWeComUserProfile",e)},vie=e=>{jc(fie,e,{dataUrl:""})&&hie({...e,success:({name:t})=>{ij({title:`即将打开“${t}”的企业微信名片`,confirmText:"确定",cancelText:"取消",success:({confirm:t})=>{if(!t)return Vc(fie,e,"cancel");gie(e)}})},fail:t=>{var r=t.errMsg.replace(/^\w+:fail\s*/,"");"1420103"===t.err_code&&(r="小程序和企业主体不同"),Vc(fie,e,r,t.err_code)}})},mie,yie=!Le&&Re,bie=xe||Ce||yie||Ae,_ie={},wie={},Sie=new Xt,Cie={},kie={},Iie={},Pie=["getCenterLocation","getRegion","getScale","includePoints","moveToLocation","translateMarker","setIndoorFloor","getIndoorFloor","setIndoorMaskColor","getRotate","getSkew","eraseLines","setCenterOffset","addCustomLayer","removeCustomLayer","moveAlong","initMarkerCluster","addMarkers","removeMarkers","on","off","once","toScreenLocation","fromScreenLocation","addGroundOverlay","updateGroundOverlay","removeGroundOverlay","openMapApp","setLocMarkerIcon","addVisualLayer","removeVisualLayer","addArc","removeArc","setBoundary","executeVisualLayerCommand"];function Tie(e){Cie[e]||(Cie[e]=!0,SE(e,(e=>{delete Cie[e],Object.keys(_ie).forEach((t=>{new RegExp("^"+e).test(t)&&(delete wie[`${e}_${_ie[t]}`],delete _ie[t])})),Object.keys(kie).forEach((t=>{new RegExp("^api_"+e).test(t)&&(delete wie[`${e}_${_ie[t.substr(4)]}`],delete kie[t])})),Object.keys(kie).forEach((t=>{new RegExp("^SQ_"+e).test(t)&&(delete wie[t.substr(3)],delete kie[t])}))}),"MapContext"))}var Aie=0;Yr("mapInsert",((e,t)=>{var{nodeId:r,domId:n,mapId:i,pluginId:a}=e,o=`${t}_${a}_${n}_`;r&&r!==up(t)&&(o+=r),_ie[o]=i,wie[`${t}_${i}`]=e,Sie.emit(`mapInsert-${o}`),Tie(t)})),Yr("mapRemove",(({domId:e,mapId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==up(i)&&(a+=n),delete _ie[a],delete wie[`${i}_${t}`];var o=`api_${i}_${r}_${e}_`;n&&n!==up(i)&&(o+=n);var s=`SQ_${i}_${t}`;delete kie[o],delete kie[s]}));class xie{}Yr("operateMapCallback",(e=>{var t=e.callbackId;t&&"function"==typeof Iie[t]&&(Iie[t](e),delete Iie[t])}));var Eie=(mie=class{constructor(){var e=this.exportContext=new xie;Pie.forEach((t=>e[t]=this[t].bind(this))),this._lastMarkerPos={},this._lastMarkerDeg={},this._translating={},this._delayTranslate={},this._isGetMarkerPos={}}get data(){return wie[`${this.webviewId}_${this.mapId}`]}on(e,t){this._listenerHandler("on",e,t)}off(e,t){this._listenerHandler("off",e,t)}once(e,t){this._listenerHandler("once",e,t)}_invoke(e,t,r){if(["openMapApp"].indexOf(e)<0&&(bie||["includeMapPoints","getMapMarker","hasUseShowLocation"].indexOf(e)>=0)){t.method=e;var n=`callback${this.webviewId}_${t.mapId}_${Aie++}`;Iie[n]=function(e){delete e.callbackId,delete e.mapId,delete e.method,e.errMsg&&(e.errMsg.indexOf(":ok")>-1?"function"==typeof t.success&&t.success(e):e.errMsg.indexOf(":fail")>-1&&"function"==typeof t.fail&&t.fail(e)),"function"==typeof t.complete&&t.complete(e)},t.callbackId=n,qr("operateMap",t,[this.webviewId])}else fd(e,t,r)}toScreenLocation(e={}){this._invokeMethod("toScreenLocation",e)}fromScreenLocation(e={}){this._invokeMethod("fromScreenLocation",e)}getCenterLocation(e={}){var t=this;t._invokeMethod("hasUseShowLocation",{complete(r){r.useShowLocation&&t._moveToEmptyLocation?U6({scope:"scope.userLocation",success(){t._invokeMethod("getMapCenterLocation",e)},fail(t){var r="user not authorized scope.userLocation";t.errMsg&&(r=t.errMsg.replace("authorize:fail","")),Vc("getMapCenterLocation",e,r)}}):t._invokeMethod("getMapCenterLocation",e)}})}setLocMarkerIcon(e={}){if(jc("setLocMarkerIcon",e,{iconPath:""})){var t=Object.assign({},e);/^(wxfile|https?)/.test(t.iconPath)||(t.iconPath=AX(t.iconPath,!1)),this._invokeMethod("setMapLocMarkerIcon",t)}}getScale(e={}){this._invokeMethod("getMapScale",e,{beforeSuccess(e){e.scale=+Number.parseFloat(e.scale).toFixed(2)}})}getRegion(e={}){this._invokeMethod("getMapRegion",e)}moveToLocation(e={}){"number"!=typeof e.longitude||"number"!=typeof e.latitude?this._moveToEmptyLocation=!0:this._moveToEmptyLocation=!1,bQ("moveToLocation").catch((()=>({success:!0}))).then((({success:t,errMsg:r,errno:n})=>{t?this._invokeMethod("moveToMapLocation",e):zc({name:"moveToLocation",args:e,success:!1,errno:n,errMsg:r})}))}addGroundOverlay(e={}){if(jc("addGroundOverlay",e,{id:0,src:"",bounds:{}})){var t=Object.assign({visible:!0,zIndex:1,opacity:1},e);/^(wxfile|https?)/.test(t.src)||(t.src=AX(t.src,!1)),this._invokeMethod("addMapGroundOverlay",t)}}openMapApp(e={}){jc("openMapApp",e,{longitude:0,latitude:0,destination:""})&&this._invokeMethod("openMapApp",e)}removeGroundOverlay(e={}){jc("removeGroundOverlay",e,{id:0})&&this._invokeMethod("removeMapGroundOverlay",e)}updateGroundOverlay(e={}){if(jc("updateGroundOverlay",e,{id:0,src:"",bounds:{}})){var t=Object.assign({visible:!0,zIndex:1,opacity:1},e);this._invokeMethod("updateMapGroundOverlay",t)}}moveAlong(e={}){if(jc("moveAlong",e,{duration:0,markerId:0,path:[]})){var t={autoRotate:!0};Object.assign(t,e),this._invokeMethod("moveMapMarkerAlong",t)}}addMarkers(e={}){var t=this;if(jc("addMarkers",e,{markers:[]}))if(bie){var r=Object.assign({clear:!1},e);this._invokeMethod("addMapMarkers",r)}else{var n=e.markers.map(((e={})=>{rt(e.id)||rt(e.clusterId)||console.warn("marker id must be a number");var t=Object.assign({},e);t.anchor=dt(t.anchor)?t.anchor:{x:.5,y:1},t.alpha=rt(t.alpha)?t.alpha:1,t.rotate=rt(t.rotate)?t.rotate:0;var r=t.iconPath;return tt(r)&&!/^(wxfile|https?)/.test(r)&&(t.iconPath=AX(r,!1)),dt(t.label)&&(t.label=Object.assign({content:"",color:"#000000",fontSize:12,borderRadius:0,borderWidth:0,borderColor:"#000000",bgColor:"#00000000",padding:0,anchorX:0,anchorY:0,textAlign:"right"},t.label)),dt(t.callout)?(t.callout=Object.assign({content:"",color:"#000000",fontSize:12,display:"BYCLICK",borderRadius:0,borderWidth:0,borderColor:"#00000000",bgColor:"#ffffff",padding:0,anchorX:0,anchorY:0,textAlign:"center"},t.callout),t.callout.display="ALWAYS"===t.callout.display?1:0):tt(t.title)&&(t.callout={content:t.title,bgColor:"#FFFFFF",padding:10,display:0,textAlign:"center"}),delete t.title,t.data=JSON.stringify({markerId:t.id}),t})),i={};n.forEach(((e,t)=>{var r=e.iconPath;tt(r)&&/^cloud:/.test(r)&&(i[r]||(i[r]=[]),i[r].push(t))}));var a=Object.keys(i);kX(a,"image",function(){var r=Vp()((function*(r){var o=[...r.data.map((e=>e.url))];o.forEach(((e,t)=>{i[a[t]].forEach((t=>{n[t].iconPath=e}))})),Ie&&cF.mapMarkersIOS.set(t.mapId,JSON.parse(JSON.stringify(n))),ke&&cF.mapMarkersAndroid.set(t.mapId,JSON.parse(JSON.stringify(Object.assign({clear:!1},e,{markers:n})))),yield KF(n);var s=Object.assign({clear:!1},e,{markers:n});t._invokeMethod("addMapMarkers",s)}));return function(e){return r.apply(this,arguments)}}())}}removeMarkers(e={}){if(jc("removeMarkers",e,{markerIds:[]})){var t=Object.assign({},{markers:e.markerIds},e);this._invokeMethod("removeMapMarkers",t)}}initMarkerCluster(e={}){var t=Object.assign({enableDefaultStyle:!0,zoomOnClick:!0,gridSize:60},e);this._invokeMethod("initMapMarkerCluster",t)}translateMarker(e={}){var t=e.markerId;if(void 0!==t)if(e.destination)if(this._translating[t])this._delayTranslate[t]?this._delayTranslate[t].push(e):this._delayTranslate[t]=[e];else{if(!this._isGetMarkerPos[t])return this._translating[t]=!0,this._invokeMethod("getMapMarker",{markerId:t,success:e=>{this._lastMarkerPos[t]=e.pos},complete:()=>{this._isGetMarkerPos[t]=!0,this._translating[t]=!1;var e=this._delayTranslate[t];e&&e.length&&this.translateMarker(e.shift())}}),void(this._delayTranslate[t]?this._delayTranslate[t].push(e):this._delayTranslate[t]=[e]);0===e.duration&&(e.duration=1);var r={markerId:t,keyFrames:[],success:t=>{"function"==typeof e.success&&e.success.call(this,t),"function"==typeof e.animationEnd&&e.animationEnd.call(this)},fail:r=>{this._delayTranslate[t]=[],"function"==typeof e.fail&&e.fail.call(this,r)},complete:r=>{"function"==typeof e.complete&&e.complete.call(this,r),this._translating[t]=!1;var n=this._delayTranslate[t];n&&n.length&&this.translateMarker(n.shift())}},n=0,i=this._lastMarkerPos[t],a=e.destination,o=!(i&&i.latitude===a.latitude&&i.longitude===a.longitude);if(e.autoRotate||"number"!=typeof e.rotate){var s,l;if(i){var c=a.latitude-i.latitude,u=a.longitude-i.longitude,d=c/u||0;s=Math.abs((u<0?180:0)-Math.abs(180*Math.atan(d)/Math.PI))*(c>0?-1:1)}"number"==typeof this._lastMarkerDeg[t]&&(l=s-this._lastMarkerDeg[t],Math.abs(l)>180&&(l=l>0?l-360:l+360),Math.abs(l)>3&&e.autoRotate&&o&&(n=l)),(Math.abs(l)>3&&e.autoRotate||void 0===this._lastMarkerDeg[t])&&(this._lastMarkerDeg[t]=s)}else{var p=e.rotate-(this._lastMarkerDeg[t]||0);Math.abs(p)>3&&(Math.abs(p)>180&&(p=p>0?p-360:p+360),n=p,this._lastMarkerDeg[t]=e.rotate)}var h="number"==typeof e.duration?e.duration:1e3;e.moveWithRotate?r.keyFrames.push({rotate:n,duration:h,...e.destination}):(o&&r.keyFrames.push({duration:h,...e.destination}),0!==n&&r.keyFrames.unshift({rotate:n,duration:Math.abs(n)<10?100:500})),r.keyFrames.length>0?(this._translating[t]=!0,this._invokeMethod("translateMapMarker",r)):setTimeout((()=>{r.success(),r.complete()})),this._lastMarkerPos[t]=e.destination}else console.warn("MapContext.translateMarker: require destination");else console.warn("MapContext.translateMarker: require markerId")}includePoints(e={}){if(e.points&&e.points instanceof Array){e.points.forEach((e=>{e.latitude=Number(e.latitude),e.longitude=Number(e.longitude)}));var t=e.padding;e.padding=[0,0,0,0],t&&(e.padding[0]=Number(t[0])||0,e.padding[1]=Number(t[1])||0,e.padding[2]=Number(t[2])||0,e.padding[3]=Number(t[3])||0),this._invokeMethod("includeMapPoints",e)}}setIndoorFloor(e={}){e.buildingId?e.floorName?this._invokeMethod("setMapIndoorFloor",e):console.warn("MapContext.setIndoorFloor: require floorName"):console.warn("MapContext.setIndoorFloor: require buildingId")}getIndoorFloor(e={}){this._invokeMethod("getMapIndoorFloor",e)}getRotate(e={}){this._invokeMethod("getMapRotate",e)}getSkew(e={}){this._invokeMethod("getMapSkew",e)}setIndoorMaskColor(e={}){this._invokeMethod("setMapIndoorMaskColor",e)}eraseLines(e={}){e.lines&&e.lines instanceof Array?this._invokeMethod("eraseMapLines",e):console.warn("MapContext.eraseLines: require lines")}setCenterOffset(e={}){var t=Object.assign({offset:[.5,.5],animated:!1},e);this._invokeMethod("setMapCenterOffset",t)}addCustomLayer(e={}){jc("addCustomLayer",e,{layerId:""})&&this._invokeMethod("addMapCustomLayer",e,{afterAll:e=>{var t,r,n,i;M.reportKeyValue({key:"MiniProgramCommercialMap",value:[2,/^\w+:ok/.test(e.errMsg||"")?1:0,null!==(t=null===(r=this.data)||void 0===r?void 0:r.subkey)&&void 0!==t?t:"",null!==(n=null===(i=this.data)||void 0===i?void 0:i.pluginId)&&void 0!==n?n:""].join(",")})}})}removeCustomLayer(e={}){jc("removeCustomLayer",e,{layerId:""})&&this._invokeMethod("removeMapCustomLayer",e)}addVisualLayer(e={}){jc("addVisualLayer",e,{layerId:""})&&this._invokeMethod("addMapVisualLayer",e)}removeVisualLayer(e={}){jc("removeVisualLayer",e,{layerId:""})&&this._invokeMethod("removeMapVisualLayer",e)}executeVisualLayerCommand(e={}){jc("executeVisualLayerCommand",e,{command:""})&&this._invokeMethod("executeMapVisualLayerCommand",e)}addArc(e={}){jc("addArc",e,{id:0,start:{},end:{}})&&this._invokeMethod("addMapArc",e)}removeArc(e={}){jc("removeArc",e,{id:0})&&this._invokeMethod("removeMapArc",e)}setBoundary(e={}){this._invokeMethod("setMapBoundary",e)}},G()(mie.prototype,"toScreenLocation",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"toScreenLocation"),mie.prototype),G()(mie.prototype,"fromScreenLocation",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"fromScreenLocation"),mie.prototype),G()(mie.prototype,"getCenterLocation",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"getCenterLocation"),mie.prototype),G()(mie.prototype,"setLocMarkerIcon",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"setLocMarkerIcon"),mie.prototype),G()(mie.prototype,"getScale",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"getScale"),mie.prototype),G()(mie.prototype,"getRegion",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"getRegion"),mie.prototype),G()(mie.prototype,"moveToLocation",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"moveToLocation"),mie.prototype),G()(mie.prototype,"addGroundOverlay",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"addGroundOverlay"),mie.prototype),G()(mie.prototype,"openMapApp",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"openMapApp"),mie.prototype),G()(mie.prototype,"removeGroundOverlay",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"removeGroundOverlay"),mie.prototype),G()(mie.prototype,"updateGroundOverlay",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"updateGroundOverlay"),mie.prototype),G()(mie.prototype,"moveAlong",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"moveAlong"),mie.prototype),G()(mie.prototype,"addMarkers",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"addMarkers"),mie.prototype),G()(mie.prototype,"removeMarkers",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"removeMarkers"),mie.prototype),G()(mie.prototype,"initMarkerCluster",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"initMarkerCluster"),mie.prototype),G()(mie.prototype,"translateMarker",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"translateMarker"),mie.prototype),G()(mie.prototype,"includePoints",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"includePoints"),mie.prototype),G()(mie.prototype,"setIndoorFloor",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"setIndoorFloor"),mie.prototype),G()(mie.prototype,"getIndoorFloor",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"getIndoorFloor"),mie.prototype),G()(mie.prototype,"getRotate",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"getRotate"),mie.prototype),G()(mie.prototype,"getSkew",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"getSkew"),mie.prototype),G()(mie.prototype,"setIndoorMaskColor",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"setIndoorMaskColor"),mie.prototype),G()(mie.prototype,"eraseLines",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"eraseLines"),mie.prototype),G()(mie.prototype,"setCenterOffset",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"setCenterOffset"),mie.prototype),G()(mie.prototype,"addCustomLayer",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"addCustomLayer"),mie.prototype),G()(mie.prototype,"removeCustomLayer",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"removeCustomLayer"),mie.prototype),G()(mie.prototype,"addVisualLayer",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"addVisualLayer"),mie.prototype),G()(mie.prototype,"removeVisualLayer",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"removeVisualLayer"),mie.prototype),G()(mie.prototype,"executeVisualLayerCommand",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"executeVisualLayerCommand"),mie.prototype),G()(mie.prototype,"addArc",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"addArc"),mie.prototype),G()(mie.prototype,"removeArc",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"removeArc"),mie.prototype),G()(mie.prototype,"setBoundary",[Nt],Object.getOwnPropertyDescriptor(mie.prototype,"setBoundary"),mie.prototype),mie);class Mie extends Eie{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new Ad("Parameter 1 should be a string");this.domId=e,this.pluginId=n,this.webviewId=t,this.nodeId=r}get mapId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return _ie[e]}_invokeMethod(e,t,r={}){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;"number"==typeof _ie[n]||_ie[n]?(t.mapId=_ie[n],this._invoke(e,t,r)):Sie.once(`mapInsert-${n}`,(()=>{t.mapId=_ie[n],this._invoke(e,t,r)}))}_listenerHandler(e,t,r){if(["on","off","once"].includes(e)){var n,i=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,a=this.webviewId;"number"==typeof _ie[i]||_ie[i]?(n=_ie[i],g6[e](`${t}_${a}_${n}`,r)):Sie.once(`mapInsert-${i}`,(()=>{n=_ie[i],g6[e](`${t}_${a}_${n}`,r)}))}}}class Rie extends Eie{constructor(e,t){super(),this.mapId=e,this.webviewId=t}_invokeMethod(e,t,r={}){t.mapId=this.mapId,this._invoke(e,t,r)}_listenerHandler(e,t,r){if(["on","off","once"].includes(e)){var n=this.webviewId,i=this.mapId;g6[e](`${t}_${n}_${i}`,r)}}}var Die=(e,t,r="",n="")=>{var i=`api_${t}_${n}_${e}_`;if(r&&r!==up(t)&&(i+=r),kie[i])return kie[i].exportContext;var a=new Mie(e,t,r,n);return kie[i]=a,a.exportContext},Oie=(e,t)=>{var r=`SQ_${t}_${e}`;if(kie[r])return kie[r].exportContext;var n=new Rie(e,t);return kie[r]=n,n.exportContext},Lie=nr("AudioInterruptionBegin"),Nie=Lie.onMethod,Bie=Lie.offMethod,$ie=nr("AudioInterruptionEnd"),Fie=$ie.onMethod,jie=$ie.offMethod,Wie=$ie.internalOnMethod,Vie=$ie.internalOffMethod,Uie=void 0,zie=!1;function qie(){return Vg&&Vg.WXAUDIO?Vg.WXAUDIO:Vg&&Vg.AudioContext?Vg.AudioContext:"undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:null}function Hie(){return new Uie}function Gie(){if(!zie)throw new Error("detect WebAudioContext too early");return!!Uie}m.onLoad((()=>{Uie=qie(),zie=!0}));var Kie=!1,Jie=()=>{Kie=!0},Xie=()=>({"jsapi-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"useWebAudioImplement-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"WebAudioHTMLAudioElementRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiRemote-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0},"jsapiLocal-1.0":{duringPlayToRealPlay:{firstPlay:[],notFirstPlay:[]},playCount:0,realPlayCount:0,playErrorCount:0}}),Yie=Xie(),Qie={},Zie=(e,t)=>t+"-"+e,eae=(e,t,r)=>{if(t){Yie[e].playCount++;var n=Zie(t,r);Qie[n]?(Qie[n].playCount++,Qie[n].playBeginTime=Date.now()):Qie[n]={playCount:1,playBeginTime:Date.now()}}},tae=(e,t,r,n,i,a)=>{Yie[e].realPlayCount++;var o=Zie(t,r);if(t&&Qie[o]){var s=n-Qie[o].playBeginTime,l=1===Qie[o].playCount?"firstPlay":"notFirstPlay";if(Yie[e].duringPlayToRealPlay[l].push(s),i){var c={key:"MediaApi",value:[ag(),Mu()+" "+Ru(),"createInnerAudioContext",e,r,`playSuccess(${l})`,s,s,encodeURIComponent(JSON.stringify({size:a,src:t}))].join(",")};Math.random()<.005&&M.reportKeyValue(c)}}},rae=({mediaType:e,implementType:t,mediaInstanceId:r,actionType:n,actionStatus:i,costTime:a,src:o,errmsg:s})=>{Yie[t].playErrorCount++,Yie[t].playErrorCount>1||M.reportKeyValue({key:"MediaApi",value:[ag(),Mu()+" "+Ru(),e,t,r,n,i,a,Ou(`"${o}" fail: ${s}`)].join(",")})},nae=()=>{isGame()&&Math.random()<.005&&!Kie&&Object.keys(Yie).forEach((e=>{var t=Yie[e],r=t.playCount,n=t.realPlayCount;if(r>0){var i=t.playErrorCount,a={key:"MediaApi",value:[_getCurrentNetworkType(),getLibVersionStr()+" "+getLibUpdateTimeStr(),"createInnerAudioContext",e,"","successRate",n/r,n/r,encode(JSON.stringify({playCount:r,realPlayCount:n,playErrorCount:i}))].join(",")};M.reportKeyValue(a)}})),Yie=Xie()};var iae=()=>{},aae=()=>{},oae=()=>{},sae,lae,cae=0,uae=0,dae=0,pae,hae=new WeakMap,fae=new WeakMap,gae=new WeakMap,vae=new WeakMap,mae=new WeakMap,yae=new WeakMap,bae=new WeakMap,_ae=new WeakMap,wae=new WeakMap,Sae=new WeakMap,Cae=new WeakMap,kae=new WeakMap,Iae=new Map,Pae={},Tae=52428800,Aae=0,xae=0,Eae=e=>new Og(((t,r)=>{zA({...e,success:t,fail:r})})),Mae=e=>new Og(((t,r)=>{Iy({...e,success:t,fail:r})})),Rae=(e,t,r)=>(e.audioBuffer=t,e.audioBufferSize=t.sampleRate*t.duration*4*t.numberOfChannels,(Aae+=e.audioBufferSize)>Tae&&Dae(r),e.audioBuffer),Dae=e=>{var t=Object.keys(Pae).sort(((e,t)=>Pae[e].index-Pae[t].index));t.some((t=>{var r=Pae[t];if(r.audioBuffer&&e!==t){var n=r.audioBufferSize;if(delete r.audioBuffer,delete r.audioBufferSize,delete Pae[t],(Aae-=n)<=Tae)return!0}return!1}))},Oae=e=>{e.index=++xae},Lae=(e,t,r)=>{var n=Pae[e];if(n&&n.audioBuffer)Oae(n),t(n.audioBuffer,{sync:!0});else if(n&&n.loading)Oae(n),n.successCallbacks.push(t),n.failCallbacks.push(r);else{Pae[e]={loading:!0,successCallbacks:[t],failCallbacks:[r]},(/^(http|https):\/\//.test(e)?Bae(e):/^(cloud):\/\//.test(e)?$ae(e):/^(wxblob:\/\/)/.test(e)?Fae(e):/^data:audio\//.test(e)?jae(e):Nae(e)).then((t=>{pae.decodeAudioData(t,ux((t=>{var r,n=Pae[e];Oae(n),r=n.audioBuffer?n.audioBuffer:Rae(n,t,e);try{n.successCallbacks&&n.successCallbacks.forEach((e=>{e(r,{sync:!1})}))}catch(e){console.error(e),_.error("loadAudio invoke successCallback fail",e.message),n.failCallbacks&&n.failCallbacks.forEach((t=>{t(e)}))}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}),"WebAudioAdapter-decodeAudioData-success"),ux((t=>{try{var r=Pae[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),_.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}),"WebAudioAdapter-decodeAudioData-fail"))})).catch((t=>{try{var r=Pae[e];r&&r.failCallbacks&&r.failCallbacks.forEach((e=>{e(t)}))}catch(t){console.error(t),_.error("loadAudio invoke failCallback fail",t.message)}delete n.successCallbacks,delete n.failCallbacks,delete n.loading}))}},Nae=e=>Mae({filePath:e}).then((e=>e.data)),Bae=e=>Eae({url:e,responseType:"arraybuffer",enableHttp2:!0,enableCache:!0}).then((e=>e.data)),$ae=e=>new Og(((t,r)=>{kX([e],"audio",(e=>{Bae(e.data[0].url).then((e=>t(e))).catch((e=>{r(e)}))}))})),Fae=e=>new Og((t=>{t(kh.get(e))})),jae=e=>{var t=e.indexOf("base64,")+7;return e=e.slice(t),new Og(((t,r)=>{try{t(LP(e))}catch(e){e.errMsg=e.message,r(e)}}))},Wae=function(e){hae.set(this,Object.assign(hae.get(this),e))},Vae=function(e){return hae.get(this)[e]},Uae=function(){return hae.get(this)},zae=function(){this.stop(!0),Wae.call(this,{_source:null});var e=gae.get(this);e&&e()},qae=function(e){var t=++dae,r=pae.createBufferSource(t),{currentPlayBackTime:n,state:i}=Hae.call(this,e),{loop:a,playbackRate:o,_buffer:s,_gainNode:l,_instanceId:c,src:u,withReport:d}=i,p=zae.bind(this);r.onended=cx(p,"WebAudioAdapter-BufferSource.onended"),r.buffer=s,r.loop=a,r.playbackRate.value=o,l&&r.connect(l),r.start(0,n),pae.resume(),Wae.call(this,{_isPlaying:!0,paused:!1,_source:r,_played:!0,_playbackTime:0,_lastCurrentTime:n,_startedAt:pae.currentTime,_endedHandler:p,_bufferSourceId:t}),this._startTimeupdateInterval(),(Ie||ke)&&d&&Iae.set(t,{_instanceId:c,src:u})},Hae=function(e){e=e||Uae.call(this);var t,{_startedAt:r,_playbackTime:n,_isPlaying:i,playbackRate:a,_lastCurrentTime:o,duration:s}=e;return(t=i?o+(pae.currentTime-r)*a:n)>s&&(t%=s),{currentPlayBackTime:t,state:e}},Gae=function(){this.stop(!0);var{_gainNode:e,_audioLoadPromiseResolve:t}=Uae.call(this);e&&e.disconnect(),Wae.call(this,{_buffer:null,_source:null,_loadPromise:null,_gainNode:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null,_playPendingIdMap:null}),t(!0),e=null,t=null,fae.delete(this),gae.delete(this),vae.delete(this),mae.delete(this),bae.delete(this),yae.delete(this),_ae.delete(this),wae.delete(this),kae.delete(this),clearInterval(Cae.get(this)),Cae.delete(this)},Kae=function(){this.stop(!0),Wae.call(this,{_buffer:null,_source:null,_loadPromise:null,_audioLoadPromiseResolve:null,_audioLoadPromiseReject:null})},Jae=function(e){var t,r;Kae.call(this);var n=new Og(((e,n)=>{t=e,r=n}));Wae.call(this,{src:e,_ready:!1,_played:!1,_loadPromise:n,_audioLoadPromiseResolve:t,_audioLoadPromiseReject:r})},Xae={},Yae=(e,t)=>e+"-"+t,Qae=function(e,t){var r=Yae(t,e);Xae[r]?Xae[r]++:Xae[r]=1};class Zae{constructor({withReport:e}={}){pae||("function"==typeof(pae=Hie()).create&&pae.create(-1,!0),(Ie||ke)&&(pae.onmessage=cx((e=>{var{message:t,node_id:r}=e;if("real_play"===t){var n=Iae.get(r);if(Iae.delete(r),n){var{_instanceId:i,src:a}=n,o=Yae(i,a);Xae[o]&&(Xae[o]--,this.ignoreReport||oae(a,i,Date.now()))}}}),"WebAudioAdapter-AudioContext.onmessage")));var t=pae.createGain();t&&t.connect&&t.connect(pae.destination);var r={withReport:e},n=new Og(((e,t)=>{r._audioLoadPromiseResolve=e,r._audioLoadPromiseReject=t}));hae.set(this,Object.assign(r,{startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,paused:!0,duration:NaN,_loadPromise:n,_gainNode:t,_played:!1,_playbackTime:0,_ready:!1,_isPlaying:!1,src:"",_playPendingIdMap:{},_instanceId:++uae}))}get src(){return Vae.call(this,"src")}set src(e){var{src:t,_gainNode:r}=Uae.call(this);r&&"string"==typeof e&&e.length>0&&t!==e&&(t&&Jae.call(this,e),Wae.call(this,{src:e}),Lae(e,((t,{sync:r})=>{var{src:n,_gainNode:i,_isPlaying:a,autoplay:o,_audioLoadPromiseResolve:s}=Uae.call(this);if(i){if(n===e){if(Wae.call(this,{_ready:!0,_buffer:t,duration:t.duration}),r)setTimeout((()=>{var e=fae.get(this);e&&e()}),0);else{var l=fae.get(this);l&&l()}return!o||a||$oe()||this.play(),s(!1),null}s(!0)}}),(t=>{var r=`set audio src "${e}" fail: ${t.message||t.errMsg}`;console.error(t),_.error("loadAudioFail ",t);var n=Uae.call(this),{_audioLoadPromiseReject:i}=n,a=vae.get(this);a&&a({type:"error",errMsg:r,errno:t.errno}),i(t)})))}get startTime(){return Vae.call(this,"startTime")}set startTime(e){var{_played:t,startTime:r,_gainNode:n}=Uae.call(this);n&&e!==r&&"number"==typeof e&&e>=0&&(Wae.call(this,{startTime:e}),t||this.seek(e))}get autoplay(){return Vae.call(this,"autoplay")}set autoplay(e){var{autoplay:t,_gainNode:r}=Uae.call(this);r&&!!e!==t&&(e&&(this.ignoreReport=!0,Jie()),Wae.call(this,{autoplay:!!e}))}get loop(){return Vae.call(this,"loop")}set loop(e){var{_source:t,_gainNode:r}=Uae.call(this);r&&(e=!!e,Wae.call(this,{loop:e}),e&&(this.ignoreReport=!0,Jie()),t&&(t.loop=e))}get volume(){return Vae.call(this,"volume")}set volume(e){var{volume:t,_gainNode:r}=Uae.call(this);r&&"number"==typeof e&&e>=0&&e<=1&&e!==t&&(Wae.call(this,{volume:e}),r&&r.gain&&(r.gain.value=e))}get playbackRate(){return Vae.call(this,"playbackRate")}set playbackRate(e){var{playbackRate:t,_source:r,_gainNode:n}=Uae.call(this);n&&"number"==typeof e&&t!==e&&e>=.5&&e<=2&&(Wae.call(this,{playbackRate:e,_lastCurrentTime:this.currentTime,_startedAt:pae.currentTime}),r&&(r.playbackRate.value=e))}get duration(){return Vae.call(this,"duration")}get currentTime(){var{currentPlayBackTime:e}=Hae.call(this);return e}set currentTime(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=Uae.call(this);if(!r)return;var n=_ae.get(this),i=wae.get(this),a=fae.get(this);i&&i(),this.ignoreReport=!0,Jie(),t?(this.stop(!0),Wae.call(this,{_playbackTime:e}),this.play(!0)):Wae.call(this,{_playbackTime:e}),n&&n(),a&&a()}}get paused(){return Vae.call(this,"paused")}get buffered(){var{duration:e}=Uae.call(this);return e>0?e:0}play(e=!1){var t=Uae.call(this),{_isPlaying:r,_ready:n,_loadPromise:i,_gainNode:a,_playPendingIdMap:o,withReport:s,src:l,_instanceId:c}=t;if(a){var u=this.lastPlayTime,d=Date.now();if(this.lastPlayTime=d,u&&d-u<1e3&&(this.ignoreReport=!0,Jie()),r&&!e&&s&&!this.ignoreReport)return iae(l,c),void oae(l,c,Date.now());e||!s||this.ignoreReport||iae(l,c);var p=()=>{if(!e){var t=mae.get(this);t&&t()}};if(n){var h;try{qae.call(this,t)}catch(t){h=t;var f=vae.get(this);f&&f({type:"error",errMsg:t.message}),!e&&s&&aae(l,t.message),console.error(t)}h||(!e&&s&&Qae(l,c),p())}else{var g=++cae;o[g]=!0,i.then((u=>{var d=!1===o[g];if(delete o[g],u)return r=null,n=null,i=null,a=null,t=null,void(p=null);if(!d){var h,f=Uae.call(this),{_isPlaying:v}=f;if(!v){try{qae.call(this,f)}catch(t){h=t;var m=vae.get(this);m&&m({type:"error",errMsg:t.message}),!e&&s&&aae(l,t.message),console.error(t)}return h||(!e&&s&&Qae(l,c),p()),null}}})).catch((e=>{s&&aae(l,e.errMsg||e.message)}))}}}pause(){var e=Uae.call(this),{_isPlaying:t,_source:r,_gainNode:n,_playPendingIdMap:i}=e;if(n)if(r&&t){var a=yae.get(this);r.stop(0),r.onended=null,Wae.call(this,{_source:null,_isPlaying:!1,_playbackTime:this.currentTime,paused:!0,_endedHandler:null}),a&&a()}else Object.keys(i).forEach((e=>{i[e]=!1}))}stop(e=!1){var{_source:t,_gainNode:r,_isPlaying:n,_playPendingIdMap:i}=Uae.call(this);if(r){if(t)try{var a=bae.get(this);t.stop(0),t.onended=null,Wae.call(this,{_source:null,_isPlaying:!1,_playbackTime:0,paused:!0,_endedHandler:null}),!e&&a&&a(),this._finishTimeupdateInterval()}catch(e){_.error("stop时出错",e)}n||Object.keys(i).forEach((e=>{i[e]=!1}))}}seek(e){if("number"==typeof e&&e>=0){var{_isPlaying:t,_gainNode:r}=Uae.call(this);if(!r)return;var n=_ae.get(this),i=wae.get(this),a=fae.get(this);i&&i(),this.ignoreReport=!0,Jie(),t?(this.stop(!0),Wae.call(this,{_playbackTime:e}),this.play(!0)):Wae.call(this,{_playbackTime:e}),n&&n(),a&&a()}}destroy(){var{_gainNode:e}=Uae.call(this);e&&Gae.call(this)}set oncanplay(e){if("function"==typeof e){var{_gainNode:t}=Uae.call(this);if(!t)return;fae.set(this,e)}else fae.delete(this)}set onended(e){if("function"==typeof e){var{_gainNode:t}=Uae.call(this);if(!t)return;gae.set(this,e)}else gae.delete(this)}set onerror(e){if("function"==typeof e){var{_gainNode:t}=Uae.call(this);if(!t)return;vae.set(this,e)}else vae.delete(this)}set onplay(e){if("function"==typeof e){var{_gainNode:t}=Uae.call(this);if(!t)return;mae.set(this,e)}else mae.delete(this)}set onpause(e){if("function"==typeof e){var{_gainNode:t}=Uae.call(this);if(!t)return;yae.set(this,e)}else yae.delete(this)}set onstop(e){if("function"==typeof e){var{_gainNode:t}=Uae.call(this);if(!t)return;bae.set(this,e)}else bae.delete(this)}set onseeked(e){if("function"==typeof e){var{_gainNode:t}=Uae.call(this);if(!t)return;_ae.set(this,e)}else _ae.delete(this)}set onseeking(e){if("function"==typeof e){var{_gainNode:t}=Uae.call(this);if(!t)return;wae.set(this,e)}else wae.delete(this)}set ontimeupdate(e){if("function"==typeof e){var{_gainNode:t}=Uae.call(this);if(!t)return;Sae.set(this,e)}else Sae.delete(this)}set onwaiting(e){if("function"==typeof e){var{_gainNode:t}=Uae.call(this);if(!t)return;kae.set(this,e)}else kae.delete(this)}_startTimeupdateInterval(){var{_gainNode:e,_instanceId:t,_isPlaying:r}=Uae.call(this);if(e){var n=Cae.get(this),i=Sae.get(this);clearInterval(n),r&&setTimeout((()=>{i&&i()}),0);var a=setInterval((()=>{var e=Sae.get(this),{_isPlaying:t}=Uae.call(this);t&&e&&e()}),350);Cae.set(this,a)}}_finishTimeupdateInterval(){var e=Cae.get(this);clearInterval(e)}}var eoe=()=>Gie()&&!0,toe=(e,t)=>cx(e,`AudioElement.${t}`),roe,noe=new WeakMap,ioe=new WeakMap,aoe=function(){return ioe.get(this)},ooe={},soe=(e,t)=>e+"-"+t,loe=function(e,t){var r=soe(t,e);ooe[r]?ooe[r]++:ooe[r]=1},coe=()=>(roe||"function"==typeof(roe=Hie()).create&&roe.create(),roe),uoe=0,doe=0,poe=new Map,hoe=new WeakMap;class foe{constructor({size:e,type:t}){this.reportBeginPlay=()=>{},this.reportFailPlay=()=>{},this.reportSuccessPlay=()=>{};var r=0===e?"WebAudioHTMLAudioElementRemote-1.0":"WebAudioHTMLAudioElementLocal-1.0";this.reportBeginPlay=(e,t)=>{this.ignoreReport||eae(r,e,t)},this.reportFailPlay=(e,t)=>{rae({mediaType:"createInnerAudioContext",implementType:r,mediaInstanceId:"",actionType:"playError",actionStatus:"",costTime:0,src:e,errmsg:t})},this.reportSuccessPlay=(e,t,n,i)=>{this.ignoreReport||tae(r,e,t,n,!0,i)};var n=coe(),i=n.createHTMLAudioElement();(doe+=1)>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (>200) InnerAudioContext instances have been created, please destroy the existing instances first !");var a=n.createMediaElementSource(i),o=n.createGain();a.connect(o),o&&o.connect&&o.connect(n.destination),noe.set(this,i);var s=Lt();ioe.set(this,{startTime:0,source:a,gain:o,_instanceId:s,size:e,type:t,_isStop:!1}),i.addEventListener("error",toe((e=>{var t,r=(null===(t=noe.get(this))||void 0===t?void 0:t.src)||"";this.reportFailPlay(r,e.message)}),"error-1")),i.addEventListener("inner",toe((e=>{if("real_play"===e.type){var{play_id:t}=e;if(t){t=+t;var r=poe.get(t);if(poe.delete(t),r){var{_instanceId:n,src:i,size:a}=r,o=soe(n,i);ooe[o]&&(ooe[o]--,this.reportSuccessPlay(i,n,Date.now(),a))}}}}),"inner"))}get src(){var e;return this.cloudId?this.cloudId:null===(e=noe.get(this))||void 0===e?void 0:e.src}set src(e){noe.get(this)&&kX([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,noe.get(this).src=e}))}get startTime(){var e;return null===(e=ioe.get(this))||void 0===e?void 0:e.startTime}set startTime(e){var{_played:t,startTime:r}=aoe.call(this);e!==r&&"number"==typeof e&&e>=0&&ioe.get(this)&&(ioe.get(this).startTime=e,t||this.seek(e))}get autoplay(){var e;return null===(e=noe.get(this))||void 0===e?void 0:e.autoplay}set autoplay(e){noe.get(this)&&(e?(this.ignoreReport=!0,Jie(),setTimeout((()=>{noe.get(this)&&(noe.get(this).autoplay=e)}),0)):noe.get(this).autoplay=e)}get loop(){var e;return null===(e=noe.get(this))||void 0===e?void 0:e.loop}set loop(e){noe.get(this)&&(e&&(this.ignoreReport=!0,Jie()),noe.get(this).loop=e)}get volume(){var e;return null===(e=noe.get(this))||void 0===e?void 0:e.volume}set volume(e){noe.get(this)&&(noe.get(this).volume=e)}get playbackRate(){var e;return null===(e=noe.get(this))||void 0===e?void 0:e.playbackRate}set playbackRate(e){noe.get(this)&&(noe.get(this).playbackRate=e)}get duration(){var e;return null===(e=noe.get(this))||void 0===e?void 0:e.duration}get currentTime(){var e;return null===(e=noe.get(this))||void 0===e?void 0:e.currentTime}set currentTime(e){if(noe.get(this)){this.ignoreReport=!0,Jie();var t=ioe.get(this);t&&(t._isStop=!1),noe.get(this).currentTime=e}}get paused(){var e;return null===(e=noe.get(this))||void 0===e?void 0:e.paused}get buffered(){var e;return null===(e=noe.get(this))||void 0===e?void 0:e.duration}play(){var e,t,r,n,i=null===(e=noe.get(this))||void 0===e?void 0:e.src,a=null===(t=ioe.get(this))||void 0===t?void 0:t._instanceId,o=null===(r=ioe.get(this))||void 0===r?void 0:r.size,s=this.lastPlayTime,l=Date.now();this.lastPlayTime=l,s&&l-s<1e3&&(this.ignoreReport=!0,Jie()),a&&this.reportBeginPlay(i,a);var c=++uoe;(Ie||ke)&&poe.set(c,{_instanceId:a,src:i,size:o}),loe(i,a);var u=ioe.get(this);u&&(u._isStop=!1),null===(n=noe.get(this))||void 0===n||n.play(c)}pause(){var e;null===(e=noe.get(this))||void 0===e||e.pause()}stop(){var e=noe.get(this);if(e){e.pause();var t=ioe.get(this);t&&(t._isStop=!0),e.currentTime=0,setTimeout((()=>{var e=hoe.get(this);"function"==typeof e&&e()}),0)}}seek(e){if(noe.get(this)){this.ignoreReport=!0,Jie();var t=ioe.get(this);t&&(t._isStop=!1),noe.get(this).currentTime=e}}destroy(){var e,t=ioe.get(this);t&&(t.gain&&t.gain.disconnect&&t.gain.disconnect(),null===(e=t.source)||void 0===e||e.disconnect());noe.delete(this),ioe.delete(this),hoe.delete(this),doe-=1}set oncanplay(e){var t;null===(t=noe.get(this))||void 0===t||t.addEventListener("canplay",toe(((...t)=>{ioe.get(this)._isStop||e(...t)}),"canplay"))}set onended(e){var t;null===(t=noe.get(this))||void 0===t||t.addEventListener("ended",toe(e,"ended"))}set onerror(e){var t;null===(t=noe.get(this))||void 0===t||t.addEventListener("error",toe(e,"error-2"))}set onplay(e){var t;null===(t=noe.get(this))||void 0===t||t.addEventListener("play",toe(e,"play"))}set onpause(e){var t;null===(t=noe.get(this))||void 0===t||t.addEventListener("pause",toe(e,"pause"))}set onstop(e){"function"==typeof e?hoe.set(this,e):hoe.delete(this)}set onseeked(e){var t;null===(t=noe.get(this))||void 0===t||t.addEventListener("seeked",toe(e,"seeked"))}set onseeking(e){var t;null===(t=noe.get(this))||void 0===t||t.addEventListener("seeking",toe(e,"seeking"))}set ontimeupdate(e){var t;null===(t=noe.get(this))||void 0===t||t.addEventListener("timeupdate",toe(e,"timeupdate"))}set onwaiting(e){var t;null===(t=noe.get(this))||void 0===t||t.addEventListener("waiting",toe(e,"waiting"))}}var goe=["src","startTime","autoplay","loop","obeyMuteSwitch","volume","playbackRate","duration","currentTime","paused","buffered","referrerPolicy"],voe=["startTime","duration","currentTime"],moe=["Canplay","Ended","Error","Pause","Play","Seeked","Seeking","Stop","TimeUpdate","Waiting"],yoe=new Set,boe=new WeakMap,_oe=new WeakMap,woe=new WeakMap,Soe=new WeakMap;class Coe{constructor(e,t=1e3,r){var n=new Yt;boe.set(this,e),Soe.set(this,{conversion:t,type:r}),goe.forEach((r=>Object.defineProperty(this,r,{get:()=>voe.includes(r)?e[r]/t:e[r],set(n){PZ()||(voe.includes(r)?e[r]=t*n:e[r]=n)}}))),moe.forEach((t=>{this["on"+t]=e=>{var r=E.surroundThirdByTryCatch(e,`at audioContext.on${t} callback function`);_oe.set(e,r),woe.set(r,e),n.on(t,r)},this["off"+t]=e=>{if(gt(e)){var r=_oe.get(e);gt(r)&&(n.off(t,r),_oe.delete(e),woe.delete(r))}else n.listeners(t).forEach((e=>{var t=woe.get(e);_oe.delete(t),woe.delete(e)})),n.removeAllListeners(t)},e["on"+t.toLowerCase()]=(e,r)=>{e?dt(e)?n.emit(t,e):n.emit(t,{errCode:e,errMsg:r}):n.emit(t),"Play"===t?yoe.add(this):"Ended"!==t&&"Error"!==t&&"Pause"!==t&&"Stop"!==t||yoe.delete(this)}}))}play(){var e;PZ()||$oe()&&"inner"!==Soe.get(this).type||null===(e=boe.get(this))||void 0===e||e.play()}stop(){var e;null===(e=boe.get(this))||void 0===e||e.stop()}pause(){var e;null===(e=boe.get(this))||void 0===e||e.pause()}seek(e){var t,r;if(!PZ()){var{conversion:n}=null!==(t=Soe.get(this))&&void 0!==t?t:{};null===(r=boe.get(this))||void 0===r||r.seek(n*e)}}destroy(){var e=boe.get(this);e.destroy&&e.destroy(),moe.forEach((e=>{this["off"+e]()})),yoe.delete(this),boe.delete(this)}static pauseAllAudio(){yoe.forEach((e=>{if("inner"!==Soe.get(e).type){var t=boe.get(e);t&&t.pause()}}))}}class koe extends Coe{constructor({type:e}){super(new Vg.Audio,1e3,e)}}class Ioe extends Coe{constructor({withReport:e,type:t}={}){super(new Zae({withReport:e}),1,t)}}class Poe extends Coe{constructor({size:e,type:t}={}){super(new foe({size:e}),1,t)}}var Toe=new Set,Aoe=()=>{var{system:e}=pw();ke&&-1===lA(e,"6.0.0")&&console.error("Error: WebAudio don't support android system under 6!");var t=Hie();Vg&&Vg.WXAUDIO&&t&&"function"==typeof t.create&&t.create(),Toe.add(t);var r=[];if(["close","resume","suspend"].forEach((e=>{var n=t[e];Object.defineProperty(t,e,{configurable:!1,get:()=>function(){return"close"===e&&Toe.delete(t),new Promise((e=>{r.push(e);var i=t.onstatechange;t.onstatechange=cx((()=>{"function"==typeof i&&i();var e=r.pop();e&&e(),t.onstatechange=i}),"WebAudioContext-onstatechange"),n.call(t)}))}.bind(t)})})),ke||Ie&&Vg&&Vg.WXAUDIO){var n=new Set,i=t.createBufferSource;t.createBufferSource=()=>{var e,r=i.call(t),a=null;r.onended=cx(((...t)=>{n.delete(r),"function"==typeof a&&a(...t),a=null,r&&(r.onended=null),r=null,clearTimeout(e)}),"BufferSource-onended");var o=new Proxy(r,{get(t,i){var o=Reflect.get(t,i);return"function"==typeof o&&(o=o.bind(t)),"start"===i?function(...t){if(PZ()||$oe())console.warn("AudioBufferSourceNode.start() operation was canceled because the ad was playing");else{if(r&&r.buffer&&(n.add(r),r.buffer.duration)){var i=Math.floor(1e3*(r.buffer.duration/r.playbackRate.value+5));i>0&&(e=setTimeout((()=>{r&&(n.delete(r),a=null,r&&(r.onended=null),r=null)}),i))}o(...t)}}:"stop"===i?function(...t){return n.delete(r),r&&(r.onended=null),r=null,clearTimeout(e),"function"==typeof a?setTimeout((()=>{"function"==typeof a?(a(),a=null):a=null}),0):a=null,o(...t)}:o},set:(e,t,r)=>"onended"===t?(a=r,!0):Reflect.set(e,t,r)});return o};var a=t.createPeriodicWave;t.createPeriodicWave=(e,r,n)=>{if(e.length===r.length)return a.call(t,e,r,n);console.error(`Length of real array (${e.length}) and length of imaginary array (${r.length}) must match.`)}}return t};class xoe{static pauseAllAudio(){Toe.forEach((e=>{e.suspend()}))}}var Eoe=()=>{gse.pauseAllAudio(),Coe.pauseAllAudio(),xoe.pauseAllAudio()},Moe,Roe=e=>{try{Moe=JSON.stringify(e)}catch(e){console.error(e)}fd("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))},Doe=()=>{if(Moe){var e=JSON.parse(Moe);fd("setInnerAudioOption",Object.assign({mixWithOther:!0,obeyMuteSwitch:!0},e))}},Ooe=!1,Loe=!1;"undefined"!=typeof IS_SDK_PACKAGE||Ut("onAudioInterruptionBegin",(e=>{Ooe=!0,!1===Loe&&Lie.emit(e)})),"undefined"!=typeof IS_SDK_PACKAGE||Ut("onAudioInterruptionEnd",(e=>{Ooe=!1,!1===Loe&&$ie.emit(e)}));var Noe=()=>{!1===Ooe&&!1===Loe&&(Loe=!0,Lie.emit({}),Eoe())},Boe=()=>{!1===Ooe&&!0===Loe&&(Loe=!1,$ie.emit({})),Doe()},$oe=()=>Loe,Foe=()=>{},joe=()=>{},Woe=()=>{},Voe,Uoe=new WeakMap,zoe=new WeakMap,qoe=new WeakMap,Hoe=new WeakMap,Goe=new WeakMap,Koe=new WeakMap,Joe=new WeakMap,Xoe=new WeakMap,Yoe=new Map,Qoe=new Map,Zoe=new Map,ese=_.createLogger("InnerAudio"),tse=function(e,t){zoe.set(this,Object.assign(zoe.get(this),{[e]:t})),"src"===e&&zoe.set(this,Object.assign(zoe.get(this),{paused:!0})),Hoe.get(this)&&(setTimeout((()=>{var r=Object.assign({},zoe.get(this),Goe.get(this),{timestamp:Date.now(),audioId:Uoe.get(this),success:()=>{zoe.set(this,Object.assign(zoe.get(this),{[e]:t}))},fail:()=>{nse.call(this)}});$oe()&&(r.autoplay=!1),fd("setAudioState",r),Hoe.set(this,!0)}),0),Hoe.set(this,!1)),Goe.set(this,Object.assign(Goe.get(this),{[e]:t}))},rse=function(e,t){Joe.get(this).then((()=>{tse.call(this,e,t)}))},nse=function(e,t){var r=zoe.get(this)[e];return fd("getAudioState",{audioId:Uoe.get(this),success:n=>{delete n.errMsg,zoe.set(this,Object.assign(zoe.get(this),n)),r=n[e],"function"==typeof t&&t(r)}}),r},ise=function(e){var t=Uoe.get(this);fd("operateAudio",Object.assign({timestamp:Date.now(),audioId:t,fail:({errMsg:r})=>{ese.error(`operateAudio fail: errMsg="${r}"`,e.operationType,t),dse.call(this,"error",{errMsg:r,errCode:-1});var n=zoe.get(this);null!=n&&n.withReport&&joe("",r,null==n?void 0:n.implementType)}},e))},ase=function(e){return Joe.get(this).then((()=>{if("play"===e.operationType){var t=zoe.get(this);if(null!=t&&t.withReport&&!t.ignoreReport){var r=Uoe.get(this);Foe(null==t?void 0:t.src,r,null==t?void 0:t.implementType)}}setTimeout((()=>{ise.call(this,e)}),0)}))},ose=new Yt;"undefined"!=typeof IS_SDK_PACKAGE||Ut("onAudioStateChange",((e={})=>{if("real_play"===e.state){var t=Yoe.get(e.audioId);null!=t&&t.withReport&&!t.ignoreReport&&Woe(null==t?void 0:t.src,e.audioId,Date.now(),null==t?void 0:t.implementType,null==t?void 0:t.size)}else{e.state=e.state.toLowerCase();var{state:r,audioId:n,errMsg:i}=e;delete e.audioId,delete e.state;var a="play"!==r,o=Yoe.get(n);o&&(o.paused=a),"error"===r&&null!=o&&o.withReport&&joe(null==o?void 0:o.src,i,null==o?void 0:o.implementType);var s=Zoe.get(n);if(!s||!(r in s))return;ose.emit(`${n}_onAudioStateChange_${r}`,e)}}));var sse=function(e,t){var r=`${Uoe.get(this)}_onAudioStateChange_${e}`,n=r=>{E.surroundThirdByTryCatch(t,`at audioContext.on${e} callback function`)(r)};Koe.set(t,n),ose.on(r,n)},lse=function(e,t){Joe.get(this).then((()=>{sse.call(this,e,t)}))},cse=function(e,t){var r=`${Uoe.get(this)}_onAudioStateChange_${e}`;if(gt(t)){var n=Koe.get(t);gt(n)&&ose.off(r,n)}else ose.removeAllListeners(r)},use=function(e,t){Joe.get(this).then((()=>{cse.call(this,e,t)}))},dse=function(e,t){ose.emit(`${Uoe.get(this)}_onAudioStateChange_${e}`,t)},pse=0,hse=!1;class fse{constructor({pluginId:e,withReport:t,type:r,size:n}={}){var i,a;zoe.set(this,{}),Goe.set(this,{}),qoe.set(this,void 0),Hoe.set(this,!0),"string"==typeof e&&Xoe.set(this,e.split("/",1)[0]),Joe.set(this,new Og(((e,t)=>{i=e,a=t})));var o={},s=0===n?"jsapiRemote-1.0":"jsapiLocal-1.0";fd(ke||Ne||Ae?"createAudioInstanceAsync":"createAudioInstance",{timestamp:Date.now(),success:e=>{var a={src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0,referrerPolicy:"",withReport:t,type:r,size:n,implementType:s};if(Zoe.set(e.audioId,o),Yoe.set(e.audioId,a),Uoe.set(this,e.audioId),zoe.set(this,a),Vg.BindingObject){var l=new Vg.BindingObject;this.__bindingObject=l,Qoe[l.__id]=e.audioId}(pse+=1)>=1024&&!hse&&Ie&&(hse=!0,M.reportIDKey({id:356,key:"audioInstancesCountReach1024"})),pse>=200&&console.warn("warning(wx.createInnerAudioContext): Too many (200) InnerAudioContext instances have been created, please destroy the existing instances first !"),setTimeout(i,0)},fail:e=>{t&&joe("",e.errMsg,s),a(e.errMsg)}}),["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((e=>{this[`on${e}`]=t=>{var r=e.toLowerCase();o[r]=1,lse.call(this,r,t)},this[`off${e}`]=t=>{var r=e.toLowerCase();delete o[r],use.call(this,r,t)}}))}get src(){return this.cloudId?this.cloudId:nse.call(this,"src")}set src(e){if("string"==typeof e&&0!==e.length){var t=Xoe.get(this);"string"==typeof t&&null===tp(e)&&(e=Yd(t,e)),kX([e],"audio",(t=>{/^(cloud):\/\//.test(e)?this.cloudId=e:this.cloudId="",e=t.data[0].url,rse.call(this,"src",e)}))}else dse.call(this,"error",{errMsg:`Failed to set src, the src ${e} is invalid.`})}get startTime(){return nse.call(this,"startTime")/1e3}set startTime(e){"number"==typeof e?rse.call(this,"startTime",1e3*e):dse("error",{errMsg:`Failed to set startTime, the startTime ${e} is invalid.`})}set autoplay(e){if("boolean"==typeof e&&!PZ()){if(!0===e){var t=Uoe.get(this),r=Yoe.get(t);r&&(r.ignoreReport=!0,Jie())}rse.call(this,"autoplay",e)}}get autoplay(){return nse.call(this,"autoplay")}set loop(e){if("boolean"==typeof e){if(!0===e){var t=Uoe.get(this),r=Yoe.get(t);r&&(r.ignoreReport=!0,Jie())}rse.call(this,"loop",e)}}get loop(){return nse.call(this,"loop")}set obeyMuteSwitch(e){"boolean"==typeof e&&rse.call(this,"obeyMuteSwitch",e)}get obeyMuteSwitch(){return nse.call(this,"obeyMuteSwitch")}set volume(e){"number"!=typeof e||e<0||e>1||rse.call(this,"volume",e)}get volume(){return nse.call(this,"volume")}set playbackRate(e){"number"!=typeof e||e<0||rse.call(this,"playbackRate",e)}get playbackRate(){return nse.call(this,"playbackRate")}set referrerPolicy(e){"string"==typeof e&&rse.call(this,"referrerPolicy",e)}get referrerPolicy(){return nse.call(this,"referrerPolicy")}get paused(){return nse.call(this,"paused")}get duration(){return nse.call(this,"duration")/1e3}set currentTime(e){if("number"!=typeof e||e<0)dse("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=Uoe.get(this),r=Yoe.get(t);r&&(r.ignoreReport=!0,Jie()),ase.call(this,{operationType:"seek",currentTime:1e3*e})}}get currentTime(){return nse.call(this,"currentTime")/1e3}get buffered(){return nse.call(this,"buffered")/1e3}play(){if(!(PZ()||$oe()&&"inner"!==zoe.get(this).type)){var e=this.lastPlayTime,t=Date.now();if(this.lastPlayTime=t,e&&t-e<1e3){var r=Uoe.get(this),n=Yoe.get(r);n&&(n.ignoreReport=!0,Jie())}ase.call(this,{operationType:"play"}).catch((e=>{console.error(e)}))}}pause(){ase.call(this,{operationType:"pause"})}stop(){ase.call(this,{operationType:"stop"})}seek(e){if(!PZ())if("number"!=typeof e||e<0)dse("error",{errMsg:`Failed to seek, the currentTime ${e} is invalid.`});else{var t=Uoe.get(this),r=Yoe.get(t);r&&(r.ignoreReport=!0,Jie()),ase.call(this,{operationType:"seek",currentTime:1e3*e})}}destroy(){Joe.get(this).then((()=>{var e=Uoe.get(this);Yoe.has(e)&&(["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((t=>{var r=`${e}_onAudioStateChange_${t}`;ose.removeAllListeners(r)})),Zoe.delete(e),Yoe.delete(e),pse-=1,setTimeout((()=>{fd("destroyAudioInstance",{audioId:e})}),0))}))}onTimeUpdate(e){Joe.get(this).then((()=>{var t=`${Uoe.get(this)}_onAudioStateChange_timeupdate`;void 0===qoe.get(this)&&qoe.set(this,setInterval((()=>{if("active"===su.runningStatus&&!0!==zoe.get(this).paused&&1!==zoe.get(this).paused){var e=zoe.get(this).currentTime;nse.call(this,"currentTime",(r=>{r!==e&&ose.emit(t)}))}}),250)),ose.removeAllListeners(t);var r=t=>{E.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")(t)};Koe.set(e,r),ose.on(t,r)}))}offTimeUpdate(e){Joe.get(this).then((()=>{use.call(this,"timeupdate",e)}))}static pauseAllAudio(){Yoe.forEach(((e,t)=>{"inner"!==e.type&&fd("operateAudio",{timestamp:Date.now(),audioId:t,operationType:"pause"})}))}}const gse=fse;var vse=()=>({startTime:0,autoplay:!1,loop:!1,volume:1,playbackRate:1,referrerPolicy:"",TimeUpdate:new Set,Canplay:new Set,Play:new Set,Pause:new Set,Stop:new Set,Ended:new Set,Error:new Set,Waiting:new Set,Seeking:new Set,Seeked:new Set}),mse=new WeakMap,yse=function(e){return mse.get(e)||{}},bse=function(e,t){var r;return null===(r=mse.get(e))||void 0===r?void 0:r[t]},_se=new Map,wse=Cf(Mg),Sse=e=>_se.has(e)?_se.get(e):wse({path:e}).then((t=>(_se.set(e,t),t))),Cse=function(e,t){var{bufferedOperations:r,staticOperations:n}=e;e.audioInstance=t,Object.keys(n).forEach((e=>{var r=n[e];St(r)?r.forEach((r=>{t["on"+e](r)})):t[e]=r})),r.forEach((e=>{"set"===e.type?t[e.key]=e.value:"method"===e.type&&t[e.key](e.value)})),e.bufferedOperations=[]},kse=function(e,t,r){var n;e.staticOperations&&t in e.staticOperations?(e.staticOperations[t]=r,e.audioInstance&&(e.audioInstance[t]=r)):e.audioInstance?e.audioInstance[t]=r:null==e||null===(n=e.bufferedOperations)||void 0===n||n.push({type:"set",value:r,key:t})},Ise=function(e,t,r,n){var i;n?("on"===n?e.staticOperations&&e.staticOperations[t].add(r):"off"===n&&e.staticOperations&&e.staticOperations[t].delete(r),e.audioInstance&&e.audioInstance[n+t]&&e.audioInstance[n+t](r)):e.audioInstance?e.audioInstance[t]&&e.audioInstance[t](r):null==e||null===(i=e.bufferedOperations)||void 0===i||i.push({type:"method",value:r,key:t})},Pse=(e,t)=>{var r=!1,n=coe();n&&"function"==typeof n.createHTMLAudioElement&&(r=!0);var i=e=>{var{stats:n}=e;n.size<102400?t("NativeWebAudio",!1):t(r?"HTMLAudioElement":"AudioJsApi",!0,n.size)};if(/^(http|https):\/\//.test(e)||/^(cloud):\/\//.test(e)||/^(wxblob:\/\/)/.test(e))t(r?"HTMLAudioElement":"AudioJsApi",!0,0);else if(/^(data:audio\/)/.test(e))t("NativeWebAudio",!1);else{var a=Sse(e);kt(a)?a.then((e=>{i(e)})).catch((e=>{console.error(e),_.error("statLocalAudio fail",e),t("AudioJsApi",!0,0)})):i(a)}},Tse=function(e,t){var r;this.stop(!0),t._statPromise=null,t._statPromiseResolve=null;var n=new Og((e=>{r=e}));t.src=e,t._ready=!1,t._statPromise=n,t._statPromiseResolve=r};class Ase{constructor({pluginId:e,type:t}={}){var r={pluginId:e,bufferedOperations:[],staticOperations:vse(),_ready:!1,type:t};r._statPromise=new Og((e=>{r._statPromiseResolve=e})),mse.set(this,r)}get src(){return bse(this,"src")}set src(e){var t=yse(this),{src:r,audioInstance:n,audioInstanceType:i,pluginId:a}=t;"string"==typeof e&&e.length>0&&r!==e&&(r&&Tse.call(this,e,t),t.src=e,Pse(e,n?(r,o,s)=>{var l=yse(this);if(l.src===e){var{_statPromiseResolve:c}=l;t._ready=!0,t.audioInstanceType=r,r===i?n.src=e:(n.destroy(),t.audioInstance=null,"AudioJsApi"===r?(kse(t,"src",e),Cse(t,new gse({pluginId:a,withReport:o,type:mse.get(this).type,size:s}))):"NativeWebAudio"===r?(kse(t,"src",e),Cse(t,new Ioe({withReport:o,type:mse.get(this).type}))):"HTMLAudioElement"===r&&(kse(t,"src",e),Cse(t,new Poe({withReport:o,type:mse.get(this).type,size:s})))),c&&c()}}:(r,n,i)=>{var o=yse(this);if(o.src===e){var{_statPromiseResolve:s}=o;t._ready=!0,t.audioInstanceType=r,"AudioJsApi"===r?(kse(t,"src",e),Cse(t,new gse({pluginId:a,withReport:n,type:mse.get(this).type,size:i}))):"NativeWebAudio"===r?(kse(t,"src",e),Cse(t,new Ioe({withReport:n,type:mse.get(this).type}))):"HTMLAudioElement"===r&&(kse(t,"src",e),Cse(t,new Poe({withReport:n,size:i}))),s&&s()}}))}get startTime(){var e=bse(this,"startTime");return void 0!==e?e:0}set startTime(e){var t=yse(this),{startTime:r}=t;e!==r&&"number"==typeof e&&e>=0&&(t.startTime=e,kse(t,"startTime",e))}get autoplay(){var e=bse(this,"autoplay");return void 0!==e&&e}set autoplay(e){var t=yse(this),{autoplay:r,_statPromise:n}=t;(e=!!e)!==r&&(t.autoplay=e,e?n&&n.then((()=>{kse(t,"autoplay",e)})):kse(t,"autoplay",e))}get loop(){var e=bse(this,"loop");return void 0!==e&&e}set loop(e){var t=yse(this),{loop:r}=t;(e=!!e)!==r&&(t.loop=e,kse(t,"loop",e))}get volume(){var e=bse(this,"volume");return void 0!==e?e:1}set volume(e){var t=yse(this),{volume:r}=t;"number"==typeof e&&e>=0&&e<=1&&e!==r&&(t.volume=e,kse(t,"volume",e))}get playbackRate(){var e=bse(this,"playbackRate");return void 0!==e?e:1}set playbackRate(e){var t=yse(this),{playbackRate:r}=t;"number"==typeof e&&r!==e&&e>=.5&&e<=2&&(t.playbackRate=e,kse(t,"playbackRate",e))}get duration(){var{audioInstance:e}=yse(this);return e?e.duration:0}get currentTime(){var{audioInstance:e}=yse(this);return e?e.currentTime:0}set currentTime(e){if("number"==typeof e&&e>=0){var t=yse(this);t.currentTime=e,kse(t,"currentTime",e)}}get paused(){var{audioInstance:e}=yse(this);return!e||e.paused}get buffered(){var{audioInstance:e}=yse(this);return e?e.buffered:0}set obeyMuteSwitch(e){}get obeyMuteSwitch(){return!0}get referrerPolicy(){return bse(this,"referrerPolicy")||""}set referrerPolicy(e){var t=yse(this),{referrerPolicy:r}=t;"string"==typeof e&&e.length>0&&r!==e&&(t.referrerPolicy=e,kse(t,"referrerPolicy",e))}play(){var e=yse(this),{_statPromise:t,_ready:r}=e;r?Ise(e,"play"):t&&t.then((()=>{Ise(e,"play")}))}pause(){var e=yse(this);Ise(e,"pause")}stop(){var e=yse(this);Ise(e,"stop")}seek(e){var t=yse(this);Ise(t,"seek",e)}destroy(){var e=yse(this);Ise(e,"destroy"),mse.delete(this)}onTimeUpdate(e){var t=yse(this);Ise(t,"TimeUpdate",e,"on")}offTimeUpdate(e){var t=yse(this);Ise(t,"TimeUpdate",e,"off")}onCanplay(e){var t=yse(this);Ise(t,"Canplay",e,"on")}offCanplay(e){var t=yse(this);Ise(t,"Canplay",e,"off")}onPlay(e){var t=yse(this);Ise(t,"Play",e,"on")}offPlay(e){var t=yse(this);Ise(t,"Play",e,"off")}onPause(e){var t=yse(this);Ise(t,"Pause",e,"on")}offPause(e){var t=yse(this);Ise(t,"Pause",e,"off")}onStop(e){var t=yse(this);Ise(t,"Stop",e,"on")}offStop(e){var t=yse(this);Ise(t,"Stop",e,"off")}onEnded(e){var t=yse(this);Ise(t,"Ended",e,"on")}offEnded(e){var t=yse(this);Ise(t,"Ended",e,"off")}onError(e){var t=yse(this);Ise(t,"Error",e,"on")}offError(e){var t=yse(this);Ise(t,"Error",e,"off")}onWaiting(e){var t=yse(this);Ise(t,"Waiting",e,"on")}offWaiting(e){var t=yse(this);Ise(t,"Waiting",e,"off")}onSeeking(e){var t=yse(this);Ise(t,"Seeking",e,"on")}offSeeking(e){var t=yse(this);Ise(t,"Seeking",e,"off")}onSeeked(e){var t=yse(this);Ise(t,"Seeked",e,"on")}offSeeked(e){var t=yse(this);Ise(t,"Seeked",e,"off")}}var xse=!1;(Ie||ke)&&re.onReady((()=>{if(We())xse=!0,_.info("小游戏开启 forceUseAudioDynamic");else if(Vh("forceUseAudioDynamic")){var e=Ie?"clicfg_appbrand_ios_force_use_audio_dynamic_new":"clicfg_appbrand_android_force_use_audio_dynamic_new";xse="1"===(null==re?void 0:re.expt[e]),_.info(`小程序${xse?"开启":"关闭"} forceUseAudioDynamic`)}else _.info("关闭 forceUseAudioDynamic")}));var Ese=_.createLogger("InnerAudioContext"),Mse=function(e={},t="outer"){var r=!0;if(ke){var{system:n}=pw();-1===lA(n,"6.0.0")&&(r=!1)}Ne&&(r=!1);var i=sh(this),{useWebAudioImplement:a}=e;return(xe||Ce)&&(a=!0),Ae&&Vg.Audio?(Ese.info("using NativeAudio"),new koe({type:t})):a&&eoe()&&r?(Ese.info("using WebAudio"),new Ioe({type:t})):eoe()&&r&&xse?(Ese.info("using AudioDynamic"),new Ase({pluginId:i,type:t})):(Ese.info("using AudioJsApi"),new gse({pluginId:i,type:t}))},Rse=function(e={}){return Mse.call(this,e)},Dse,Ose=Ce,Lse={},Nse={},Bse={},$se=new Xt,Fse={},jse=new WeakMap,Wse={},Vse=["play","stop","mute","pause","resume","requestFullScreen","exitFullScreen","snapshot","requestPictureInPicture","exitPictureInPicture","requestBackgroundPlayback","exitBackgroundPlayback","startCasting","switchCasting","reconnectCasting","exitCasting"],Use=Object.assign,zse={};function qse(e,t){return`${e}_${t}`}function Hse(e){Fse[e]||(Fse[e]=!0,SE(e,(e=>{delete Fse[e],Object.keys(Lse).forEach((t=>{new RegExp("^"+e).test(t)&&(delete Nse[`${e}_${Lse[t]}`],delete Lse[t])})),Object.keys(Wse).forEach((t=>{new RegExp("^api_"+e).test(t)?(delete Nse[`${e}_${Lse[t.substr(4)]}`],delete Wse[t]):new RegExp("^SQ_"+e).test(t)&&(delete Nse[t.substr(3)],delete Wse[t])})),CB({keepScreenOn:!1})}),"LivePlayerContext"))}Yr("xWebLivePlayerSupported",(({insert2XWebEnabled:e,viewId:t},r)=>{zse[qse(r,t)]=e})),Yr("updateLivePlayerPictureInPicture",((e={},t)=>{Bse.webviewId=t,Bse.playerId=e.playerId})),["xWebLivePlayerInsert","livePlayerInsert"].forEach((e=>{Yr(e,(({viewId:e,domId:t,playerId:r,pluginId:n,data:i,nodeId:a},o)=>{var s=zse[qse(o,e)]?e:r,l=`${o}_${n}_${t}_`;a&&a!==up(o)&&(l+=a),Lse[l]=s,Nse[`${o}_${s}`]=i||{},$se.emit("livePlayerInsert"),Hse(o)}))})),["xWebLivePlayerRemoved","livePlayerRemoved"].forEach((e=>{Yr(e,(({viewId:e,domId:t,playerId:r,pluginId:n,nodeId:i},a)=>{var o=zse[qse(a,e)]?e:r,s=`${a}_${n}_${t}_`;i&&i!==up(a)&&(s+=i),delete Lse[s],delete Nse[`${a}_${o}`];var l=`api_${a}_${n}_${t}_`;i&&i!==up(a)&&(l+=i);var c=`SQ_${a}_${o}`;delete Wse[l],delete Wse[c],CB({keepScreenOn:!1})}))}));var Gse={},Kse=az();Yr("onGetPlayerInfo",(({callbackId:e,info:t}={})=>{var r=Gse[e];Gse[e]=null,r&&r(t)}));class Jse{}var Xse=(Dse=class{constructor(){var e=this.exportContext=new Jse;Vse.forEach((t=>e[t]=this[t].bind(this)))}play(e={}){var t=this._getAppStatus();t===eu.BACK_GROUND||t===eu.LOCK||(this._invokeMethod("play",[],e),CB({keepScreenOn:!0}))}stop(e={}){this._invokeMethod("stop",[],e),CB({keepScreenOn:!1})}mute(e={}){this._invokeMethod("mute",[],e)}pause(e={}){this._invokeMethod("pause",[],e),CB({keepScreenOn:!1})}resume(e={}){this._invokeMethod("resume",[],e),CB({keepScreenOn:!0})}requestFullScreen(e={}){var t=SZ(yZ.onLivePlayerFullScreenChange),r=Dx();if(this._getInfo((e=>{mZ("LivePlayerContext.requestFullScreen",{src:e.src},r,t)})),!t)if(PZ())dj({icon:"none",title:"该场景不支持全屏"});else{var n=this._getPlayerId(),i=this._getWebviewId();if(zse[qse(i,n)])this._invokeWebviewMethod("xWebLivePlayerRequestFullScreen",{direction:e.direction},e);else{var a=e.direction;[0,90,-90].indexOf(a)>-1?this._invokeMethod("requestFullScreen",[a],e):this._invokeMethod("requestFullScreen",[],e),jse.set(this,!0)}}}exitFullScreen(e={}){var t=this._getPlayerId(),r=this._getWebviewId();zse[qse(r,t)]?this._invokeWebviewMethod("xWebLivePlayerExitFullScreen",[],e):(this._invokeMethod("exitFullScreen",[],e),this.showStatusBar(),jse.set(this,!1))}exitPictureInPicture(e={}){if(Bse){var t=vd(this.pluginId);Ie?t("operateLivePlayer",{...e,type:"exitPictureInPicture",livePlayerId:Bse.playerId},{beforeAll(e){e.errMsg=e.errMsg.replace("operateLivePlayer","exitPictureInPicture")}}):ke&&t("operateXWebLivePlayer",{...e,type:"exitPictureInPicture",viewId:Bse.playerId},{beforeAll(e){e.errMsg=e.errMsg.replace("operateXWebLivePlayer","exitPictureInPicture")}})}}showStatusBar(e={}){fd("showStatusBar",e)}hideStatusBar(e={}){if(!jse.get(this)){var t="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}fd("hideStatusBar",e)}snapshot(e={}){if(Ose)return console.warn("开发者工具暂不支持 LivePlayerContext.snapshot 接口，请到客户端调试。"),void("function"!=typeof e.fail&&"function"!=typeof e.complete||(e.fail||e.complete)({errMsg:"operateLivePlayer:fail not support in devtools"}));var t="view"===e.sourceType?"snapshotView":"snapshot";this._invokeMethod(t,[],Use({quality:"raw"},e))}requestBackgroundPlayback(e={}){this._invokeMethod("requestBackgroundPlayback",[],e)}exitBackgroundPlayback(e={}){this._invokeMethod("exitBackgroundPlayback",[],e)}requestPictureInPicture(e={}){var t=this._getPlayerId();"number"==typeof t?vd(this.pluginId)("requestLivePlayerPictureInPicture",{...e,viewId:t,livePlayerId:t,beforeAll(e){e.errMsg=e.errMsg.replace("requestLivePlayerPictureInPicture","requestPictureInPicture")}}):Vc("requestPictureInPicture",e,"playerId not exists")}startCasting(e){Dx()&&this._getInfo((t=>{this._invokeMethod("startCasting",[t.src],e)}))}switchCasting(e){Dx()&&this._invokeMethod("switchCasting",[],e)}reconnectCasting(e){Dx()&&this._invokeMethod("reconnectCasting",[],e)}exitCasting(e){Dx()&&this._invokeMethod("exitCasting",[],e)}_invokeMethodWithId(e,t,r,n){var i=this._getPlayerId(),a=this._getWebviewId(),o=zse[qse(a,i)],s=o?"operateXWebLivePlayer":"operateLivePlayer";"number"==typeof e?(Ose&&(n.type=t,n.playerId=e,qr("operateLivePlayer",n,[this.webviewId])),function(){var i=o?{viewId:e}:{livePlayerId:e},a=vd(this.pluginId);this._getAppStatus()===eu.BACK_GROUND&&"stop"===t&&(s=`${s}Background`),a(s,Use({},n,{data:r,type:t,...i}))}.apply(this)):$se.once("livePlayerInsert",(()=>{this._invokeMethod(t,r,n)}))}_getAppStatus(){return su.appStatus}_getHanged(){return su.hanged}_getPlayerId(){}_getWebviewId(){}_getInfo(e){var t=Kse.next();Gse[t]=e;var r=this._getPlayerId();"number"==typeof r?qr(`livePlayerGetInfo${r}`,{callbackId:t},[this.webviewId]):$se.once("livePlayerInsert",(()=>{qr(`livePlayerGetInfo${this._getPlayerId()}`,{callbackId:t},[this.webviewId])}))}},G()(Dse.prototype,"play",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"play"),Dse.prototype),G()(Dse.prototype,"stop",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"stop"),Dse.prototype),G()(Dse.prototype,"mute",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"mute"),Dse.prototype),G()(Dse.prototype,"pause",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"pause"),Dse.prototype),G()(Dse.prototype,"resume",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"resume"),Dse.prototype),G()(Dse.prototype,"requestFullScreen",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"requestFullScreen"),Dse.prototype),G()(Dse.prototype,"exitFullScreen",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"exitFullScreen"),Dse.prototype),G()(Dse.prototype,"exitPictureInPicture",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"exitPictureInPicture"),Dse.prototype),G()(Dse.prototype,"snapshot",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"snapshot"),Dse.prototype),G()(Dse.prototype,"requestBackgroundPlayback",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"requestBackgroundPlayback"),Dse.prototype),G()(Dse.prototype,"exitBackgroundPlayback",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"exitBackgroundPlayback"),Dse.prototype),G()(Dse.prototype,"requestPictureInPicture",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"requestPictureInPicture"),Dse.prototype),G()(Dse.prototype,"startCasting",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"startCasting"),Dse.prototype),G()(Dse.prototype,"switchCasting",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"switchCasting"),Dse.prototype),G()(Dse.prototype,"reconnectCasting",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"reconnectCasting"),Dse.prototype),G()(Dse.prototype,"exitCasting",[Nt],Object.getOwnPropertyDescriptor(Dse.prototype,"exitCasting"),Dse.prototype),Dse);class Yse extends Xse{constructor(e,t,r,n){if(super(),"string"!=typeof e)throw new Ad("Parameter 1 should be a string");this.domId=e,this.webviewId=t,this.nodeId=r,this.pluginId=n}_invokeMethod(e,t,r){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,i=Lse[n];this._invokeMethodWithId(i,e,t,r)}_getPlayerId(){var e=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`;return Lse[e]}_getWebviewId(){return this.webviewId}_invokeWebviewMethod(e,t,r){var n=`${this.webviewId}_${this.pluginId}_${this.domId}_${this.nodeId}`,i=Lse[n];"function"==typeof r.success&&setTimeout((()=>{r.success({errMsg:"operateLivePlayer:ok"})}),0),"function"==typeof r.complete&&setTimeout((()=>{r.complete({errMsg:"operateLivePlayer:ok"})}),0),qr(e,{viewId:i,...t},[this.webviewId])}}class Qse extends Xse{constructor(e,t,r){super(),this.playerId=e,this.webviewId=t,this.pluginId=r}_invokeMethod(e,t,r){var n=this.playerId;this._invokeMethodWithId(n,e,t,r)}_getPlayerId(){return this.playerId}_getWebviewId(){return this.webviewId}_invokeWebviewMethod(e,t,r){"function"==typeof r.success&&setTimeout((()=>{r.success({errMsg:"operateLivePlayer:ok"})}),0),"function"==typeof r.complete&&setTimeout((()=>{r.complete({errMsg:"operateLivePlayer:ok"})}),0),qr(e,{viewId:this.playerId,...t},[this.webviewId])}}function Zse(e,t,r="",n=""){var i=`api_${t}_${n}_${e}_`;if(r&&r!==up(t)&&(i+=r),Wse[i])return Wse[i].exportContext;var a=new Yse(e,t,r,n);return Wse[i]=a,a.exportContext}function ele(e,t,r=""){var n=`SQ_${t}_${e}`;if(Wse[n])return Wse[n].exportContext;var i=new Qse(e,t,r);return Wse[n]=i,i.exportContext}var tle={},rle=new Xt,nle={};function ile(e){nle[e]||(nle[e]=!0,SE(e,(e=>{delete nle[e],Object.keys(tle).forEach((t=>{new RegExp("^"+e).test(t)&&delete tle[t]}))}),"AudioContext"))}Yr("audioInsert",(({audioId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==up(n)&&(i+=r),tle[i]=!0,rle.emit(`audioInsert_${i}`),ile(n)})),Yr("audioRemove",(({audioId:e,pluginId:t,nodeId:r},n)=>{var i=`${n}_${t}_${e}_`;r&&r!==up(n)&&(i+=r),delete tle[i]}));class ale{constructor(e,t,r,n){if("string"!=typeof e)throw new Ad("Parameter 1 should be a string");this.audioId=e,this.webviewId=t,this.pluginId=n,this.nodeId=r}setSrc(e){this._sendAction({method:"setSrc",data:e})}play(){this._getAppStatus()===eu.BACK_GROUND||PZ()||this._sendAction({method:"play"})}pause(){this._sendAction({method:"pause"})}seek(e){this._sendAction({method:"setCurrentTime",data:e})}_ready(e){var t=`${this.webviewId}_${this.pluginId}_${this.audioId}_${this.nodeId}`;tle[t]?e():rle.on(`audioInsert_${t}`,(()=>{e()}))}_sendAction(e){this._ready((()=>{qr(`audio_${this.pluginId}_${this.audioId}_${this.nodeId}_actionChanged`,e,[this.webviewId])}))}}function ole(e,t,r="",n=""){var i=new ale(e,t,r,n);return i._getAppStatus=()=>su.appStatus,i._getHanged=()=>su.hanged,Id.call(this,(()=>{i.pause()})),i}var sle={},lle={},cle={},ule={},dle=1;function ple(e){cle[e]||(cle[e]=!0,SE(e,(e=>{delete cle[e],Object.keys(sle).forEach((t=>{new RegExp("^"+e).test(t)&&delete sle[t]})),Object.keys(lle).forEach((t=>{new RegExp("^api_"+e).test(t)&&delete lle[t]})),Object.keys(lle).forEach((t=>{new RegExp("^SQ_"+e).test(t)&&delete lle[t]}))}),"EditorContext"))}Yr("editorInsert",(({domId:e,editorId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==up(i)&&(a+=n),sle[a]=t,ple(i)})),Yr("editorRemoved",(({domId:e,editorId:t,pluginId:r,nodeId:n},i)=>{var a=`${i}_${r}_${e}_`;n&&n!==up(i)&&(a+=n),delete sle[a];var o=`SQ_${i}_${t}`;delete lle[`api_${i}_${r}_${e}_${n}`],delete lle[o]})),Yr("doEditorActionCallback",(e=>{var t=e.callbackId;if(t&&void 0!==ule[t]){delete e.callbackId;var r=ule[t];e.errMsg&&(e.errMsg.indexOf("ok")>-1?"function"==typeof r.success&&r.success(e):e.errMsg.indexOf("fail")>-1&&"function"==typeof r.fail&&r.fail(e)),"function"==typeof r.complete&&r.complete(e),delete ule[t]}}));var hle=["insertDivider","insertImage","insertText","setContents","getContents","clear","removeFormat","undo","redo","blur","getSelectionText"];class fle{format(e,t=!1){this._execCommand("format",{name:e,value:t,needCallBack:!1})}scrollIntoView(){this._execCommand("scrollIntoView",{needCallBack:!1})}_execCommandWithId(e,t,r){if(r.needCallBack){var n={};Object.keys(r).forEach((e=>{"function"==typeof r[e]&&(n[e]=r[e],delete r[e])}));var i=`callback${this.webviewId}_${e}_${dle++}`;ule[i]=n,r.callbackId=i}delete r.needCallBack,this.action={method:t,args:r},qr(`editor_${this.webviewId}_${e}_actionChanged`,this.action,[this.webviewId])}}hle.forEach((e=>{fle.prototype[e]=Vt((function(t){this._execCommand(e,{...t,needCallBack:!0})}))}));class gle extends fle{constructor(e,t){super(),this.editorId=e,this.webviewId=t}_execCommand(e,t){this._execCommandWithId(this.editorId,e,t)}}function vle(e,t){var r=`SQ_${t}_${e}`;if(lle[r])return lle[r];var n=new gle(e,t);return lle[r]=n,n}var mle=e=>{var t=e.map(encodeURIComponent).join(",");M.reportKeyValue({key:"BLEConnection",value:t})},yle=nr("onBLEConnectionStateChanged"),ble=yle.onMethod,_le=yle.offMethod,wle=yle.internalOnMethod;Ut("onBLEConnectionStateChanged",(e=>{yle.emit(e)}));var Sle=nr("onBluetoothAdapterStateChange"),Cle=Sle.onMethod,kle=Sle.offMethod,Ile=Sle.internalOnMethod,Ple={};Ut("onBluetoothAdapterStateChange",(e=>{var t=Object.entries(e).every((([e,t])=>Ple[e]===t));t||(Ple=e,Sle.emit(e))}));var Tle=0,Ale=!1,xle={connects:null,scene:null,targetAction:null,startTime:null,endTime:null},Ele=()=>{Object.keys(xle).forEach((e=>{xle[e]=null}))},Mle=()=>Object.values(xle).every((e=>null!==e));wle((e=>{e&&(e.connected?Tle++:Tle--)})),Ile((e=>{e&&!e.available&&(Tle=0)})),Id((e=>{Tle>0&&(Ale=!0,xle.startTime=Date.now(),xle.targetAction=e.targetAction)})),Eh((e=>{Ale&&(xle.endTime=Date.now(),setTimeout((()=>{Tle>0&&(xle.connects=Tle,xle.scene=e.scene,Mle()&&mle([xle.connects,xle.scene,xle.targetAction,xle.endTime-xle.startTime])),Ale=!1,Ele()}),100))}));var Rle=(e={})=>{e.success({currentRoute:su.lastRoute})},Dle=(e={})=>{e.success({pathPaths:yr.getCurrentPagesByDomain(null).map((e=>e.route))})},Ole=(e={})=>{var{lastRoute:t=su.lastRoute,relativeRoute:r=".",needTrans:n=!0}=e;e.success({route:Qd(t,r,n)})},Lle=nr("videoFullScreenChange"),Nle=Lle.onMethod,Ble=Lle.offMethod,$le=(e={})=>{Lle.emit(e)};function Fle(e){if(!Array.isArray(e)||e.some((e=>"string"!=typeof e||0===e.length)))return"invalid keyList"}var jle=lx("getUserCloudStorage","webapi_getselfuserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),Wle=e=>{var t=Fle(e.keyList);t?Vc("getUserCloudStorage",e,t):jle(e)},Vle=lx("getFriendCloudStorage","webapi_getfrienduserstorage",(({keyList:e=[]})=>({key:e})),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),Ule=(e={})=>{var t=Fle(e.keyList);t?Vc("getFriendCloudStorage",e,t):Vle(e)},zle=lx("getGroupCloudStorage","webapi_getgroupuserstorage",(({keyList:e=[],shareTicket:t})=>{var r=fp.get(t),{shareKey:n,shareName:i}=r;return{key:e,share_key:n,share_name:i}}),(e=>(e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map((e=>(e.KVDataList=e.kv_list||[],delete e.kv_list,e))),delete e.user_item,e))),qle=e=>{var t=Fle(e.keyList);t?Vc("getGroupCloudStorage",e,t):setTimeout((()=>{e.shareTicket?fp.get(e.shareTicket)?zle(e):Vc("getGroupCloudStorage",e,"参数 shareTicket 不正确"):fp.lastShareTicket&&fp.get(fp.lastShareTicket)?zle(Object.assign({shareTicket:fp.lastShareTicket},e)):Vc("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")}),1e3/60)},Hle,Gle,Kle=!1;function Jle(e){var t=[Mu(),Ru(),e];M.reportQualityData2("ExitDramaEdu",t)}Yr("hoverMenuButton",((e,t)=>{Hle||Gle||__sclEngine__.initScl((({mainRoot:t})=>{(Hle=t.append("menuButton",{})).addListener("handleTap",(()=>{Jle(1),(Gle=t.append("shortTVHalfScreen",{dramaName:e.dramaName,dramaCoverUrl:e.dramaCoverUrl})).addListener("exit",(()=>{Jle(3),t.remove(Hle),t.remove(Gle),Hle=null,Gle=null,Zle({fail(){Sd("navigateBackNative",{permissionBytes:[1,1,1]})}})})),Gle.addListener("navigate",(()=>{Jle(2),t.remove(Hle),t.remove(Gle),Hle=null,Gle=null;Kle=!0,l9({appId:"wxb6d22f922f37b35a",path:"pages/index/index?from_drama_weapp=1",__noCheckBeforeNavigateToMiniProgram:!0})}))}))}))}));var Xle=()=>Kle,Yle=!1,Qle=[1037,1227,1263];re.onReady((()=>{var e,t=null===(e=re.appLaunchInfo)||void 0===e?void 0:e.scene;Yle=Yle||Qle.includes(t)})),Eh((e=>{Yle=Yle||Qle.includes(e.scene),1038===e.scene&&"wxb6d22f922f37b35a"===e.referrerInfo.appId&&Xle()&&Zle({fail(){Sd("navigateBackNative",{permissionBytes:[1,1,1]})}})}));var Zle=(e={})=>{Yle?fd("navigateBackMiniProgram",e,{}):Vc("navigateBackMiniProgram",e,"not MiniProgram can navigate back.")},ece=(e={},t="/")=>{if(jc("navigateToDevMiniProgram",e,{appId:""}))if(["undefined","string"].includes(typeof e.relativeURL)){var r=Object.assign({},e);"string"==typeof r.path&&void 0===r.relativeURL&&(r.relativeURL=Ld(r.path,!1)),vd(t)("navigateToDevMiniProgram",r,{})}else Vc("navigateToDevMiniProgram",e,"relativeURL should be string or undefined")},tce=e=>{ece(e,"/")},rce=(e={})=>{var t=Object.assign({},e);t.path&&(t.path=Ld(t.path)),fd("launchMiniProgram",t)},nce=(e={})=>{if(jc("launchDevMiniProgram",e,{appId:""})){var t=Object.assign({},e);t.path=Ld(t.path,!1),"string"==typeof t.path&&void 0===t.relativeURL&&(t.relativeURL=t.path),fd("launchDevMiniProgram",t,{})}},ice=!0,ace=[{h:"支付方式1",src:"url"},{h:"支付方式2",src:"url2"},{h:"支付方式3",src:"url3"},{h:"支付方式4",src:"url4"}],oce=Symbol("wePaySpecialOpenMiniProgram"),sce=Symbol("skipSceneSymbol"),lce=!1,cce=function(){var e=Vp()((function*(e,t){try{var r=yield o9({appId:t.appId,path:t.path},t);return _.info(`[__checkBeforeNavigateToMiniProgram][resolve], res=${JSON.stringify(r)}`),q8(e,{appId:r.appId,path:r.path,sourcetype:r.sourcetype,needTransferToWeChat:r.needTransferToWeChat})}catch(e){var n=e.errMsg||e.message;throw _.error(`[__checkBeforeNavigateToMiniProgram][reject], errMsg=${n}`),["cancel","another navigation is in progress"].includes(n)||M.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before navigate to miniprogram"}),new Error(n)}}));return function(t,r){return e.apply(this,arguments)}}(),uce=(()=>{var e=[];return re.onReady((()=>{Array.isArray(re.embeddedAppIdList)&&(e=re.embeddedAppIdList)})),t=>e.indexOf(t)>=0})(),dce={NONE:0,BANNED_PLATFORM:1,BANNED_APP_TYPE:2,INVALID_ACTION_CODE:3,DISALLOW_EMBEDDED_MODE:4,BANNED_ORIENTATION:5,NOT_IN_EMBEDDED_APPID_LIST:6,NOT_TRIGGERED_BY_TAP:7,INVALID_API_CATEGORY:8,SPECIAL_SCENE:9},pce=function(){var e=Vp()((function*({appId:e,path:t,shortLink:r,verify:n,tapMark:i},a){if(_.info(`[_checkBeforeOpenEmbeddedMiniProgram] appId=${e} path=${t} shortLink=${r} isOpening=${lce}`),lce)throw new Error("another navigation is in progress");lce=!0;try{try{a||(a=yield e9({appId:e,path:t,shortLink:r,verifyUnionProduct:"unionProduct"===n}))}catch(r){_.error(`[_getNavigateWxAppInfo][reject] errMsg=${r.errMsg||r.message}`),a={appId:e,path:t}}var{actionCode:o,allowEmbeddedMode:s,appType:l}=a;e=a.appId,t=a.path;var c=BW(),u=Op();_.info(`[_getNavigateWxAppInfo][resolve] appId=${e} path=${t} actionCode=${o} appType=${l} allowEmbeddedMode=${s} pageOrientation=${c} lastNonBClassScene=${u}`);var d=!1,p=dce.NONE;return Ie||ke?We()||4===l||19===l?(d=!0,p=dce.BANNED_APP_TYPE):[1,2].includes(o)?s?"landscape"===c?(d=!0,p=dce.BANNED_ORIENTATION):i?["embedded"].includes(Fp())?(d=!0,p=dce.INVALID_API_CATEGORY):[1200,1201,1228].includes(u)&&(d=!0,p=dce.SPECIAL_SCENE):(d=!0,p=dce.NOT_TRIGGERED_BY_TAP):(d=!0,p=dce.DISALLOW_EMBEDDED_MODE):(d=!0,p=dce.INVALID_ACTION_CODE):(d=!0,p=dce.BANNED_PLATFORM),{...a,shouldFallback:d,fallbackReason:p}}finally{lce=!1}}));return function(t,r){return e.apply(this,arguments)}}(),hce=(e,t,r,n,i)=>{var a=Object.keys(su.query).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(su.query[e])}`)).join("&"),o=[`${su.lastRoute}?${a}`||"",e||"",t||"",r||"",n,i].join(",");M.reportKeyValue({key:"OpenEmbeddedMiniProgramResult",value:o})},fce=function(){var e=Vp()((function*(e){_.info(`[_doOpenEmbeddedMiniProgram], args=${JSON.stringify(e)}`),delete(e={...e}).sourcetype,delete e.preScene,delete e.preSceneNote,e.mode="embedded",Ge()||e.skipSceneSymbol===sce||(delete e.scene,delete e.sceneNote);var t=zS();return t?(e.privateExtraData=e.privateExtraData||{},e.privateExtraData.cookies=t):e.privateExtraData&&delete e.privateExtraData.cookies,"string"==typeof e.path&&e.path.trim().length>0?e.path=Ld(e.path,!1).trim():e.path=void 0,_.info(`[_doOpenEmbeddedMiniProgram], finalArgs=${JSON.stringify(e)}`),gd("navigateToMiniProgram",e)}));return function(t){return e.apply(this,arguments)}}();function gce(){return vce.apply(this,arguments)}function vce(){return vce=Vp()((function*(e={}){var t=e.__skip_tap_check__===oce,r=t||Dx();if(!t){if(!EB())throw new Error("can only be invoked by user TAP gesture.");if("requestPayment"===Ox()&&!Vh("canOpenEmbeddedMiniProgramAfterPayment"))throw new Error("forbidden after payment.")}var n=Fp();if(["nativeFunctionalized"].includes(n))throw dj({icon:"none",title:"暂不支持当前功能"}),new Error(`not supported in ${n} apiCategory.`);e.appId&&Wc(e,{appId:""}),e.path&&Wc(e,{path:""}),e.shortLink&&Wc(e,{shortLink:""});var i=void 0!==e.appId?String(e.appId):void 0,a=void 0!==e.path?String(e.path):void 0,o=void 0!==e.shortLink?String(e.shortLink):void 0;if(a&&a.length>=65536)throw new Error("path length should be less than 65536");if(o&&o.length>=1024)throw new Error("shortLink length should be less than 1024");_.info(`[_openEmbeddedMiniProgram] appId=${i} path=${a} shortLink=${o} verify=${e.verify}`);var s=i,l=a,c=0,u=0;e.embedded={allowFullScreen:!1},e.allowFullScreen&&(delete e.allowFullScreen,e.embedded.allowFullScreen=!0);try{var d=yield pce({appId:i,path:a,shortLink:o,verify:e.verify,tapMark:r});return _.info(`[_checkBeforeOpenEmbeddedMiniProgram][resolve], res=${JSON.stringify(d)}`),s=d.appId,l=d.path,e.skipSceneSymbol===sce&&(d.shouldFallback=!1),d.shouldFallback?(c=2,u=d.fallbackReason,console.warn(`openEmbeddedMiniProgram will fallback to navigateToMiniProgram. (reason: ${{[dce.BANNED_PLATFORM]:"invalid platform",[dce.BANNED_APP_TYPE]:"invalid app type",[dce.INVALID_ACTION_CODE]:"forbid to navigate",[dce.DISALLOW_EMBEDDED_MODE]:"forbidden",[dce.BANNED_ORIENTATION]:"invalid orientation",[dce.NOT_IN_EMBEDDED_APPID_LIST]:"not in list",[dce.NOT_TRIGGERED_BY_TAP]:"not triggered by tap",[dce.INVALID_API_CATEGORY]:"invalid api category",[dce.SPECIAL_SCENE]:"special scene"}[u]||"unknown"})`),yield cce(e,d)):(c=1,yield fce({...e,appId:d.appId,path:d.path,sourcetype:d.sourcetype}))}catch(e){var p=e.errMsg||e.message;throw _.error(`[_checkBeforeOpenEmbeddedMiniProgram][reject], errMsg=${p}`),["cancel","another navigation is in progress"].includes(p)||M.errorReport({key:"appServiceSDKScriptError",error:e,extend:"at checking before open embed miniprogram"}),new Error(p)}finally{hce(s,l,e.shortLink,c,u)}})),vce.apply(this,arguments)}var mce=Yc("openEmbeddedMiniProgram",gce),yce=nr("onSheetModeVisibleHeightChange"),bce=yce.onMethod,_ce=yce.offMethod,wce=null;cr("onSheetModeVisibleHeightChange",((e={})=>{wce&&wce.height===e.height&&wce.initialHeight===e.initialHeight||(wce=e,yce.emit(e),qr("onSheetModeVisibleHeightChange",e))}));var Sce=null,Cce=[];Yr("videoAdPreloadInfoGet",(e=>{Sce=e,Cce.forEach((e=>{null==e||e(Sce)})),Cce=[]}));var kce=e=>Cce.push(e),Ice=()=>Sce,Pce=1515,Tce=74,Ace=75,xce=76,Ece=80,Mce=81,Rce=0,Dce={};Jw((e=>{Dce=e,Rce=e.webviewId}));var Oce=Date.now(),Lce=Oce,Nce=Oce,Bce=0;m.onLoad((()=>{Oce=Date.now(),Lce=Oce,Nce=Oce})),Eh((()=>{(Oce=Date.now())>Lce&&(Bce+=Oce-Lce)})),Id((()=>{Lce=Date.now()})),rG((()=>{Nce=Date.now()}));var $ce=null,Fce=e=>{var t=Ice();t?e&&e(t):($ce&&clearTimeout($ce),$ce=setTimeout((()=>{qr("videoAdPreloadInfo",null,[Rce])}),0),kce(e))},jce=new Date;m.onLoad((()=>{jce=new Date}));var Wce="";re.onReady((()=>{jce=new Date;var e=pw();Wce=e.model}));var Vce=e=>{var t={};try{for(var r of e=JSON.parse(e))Object.prototype.hasOwnProperty.call(r,"exp_para")&&r.exp_para.forEach((e=>{t[e.name]=Number(e.value)}));return t}catch(e){return{}}},Uce=(e,t)=>{try{var r=Date.now();FC({url:t.video_info.videoUrl,success(n){t.video_info.preloadUrl=n.tempFilePath,qce(e,t),ADSDK.reportAdMonitorData(Ece,{costTime:Date.now()-r},{ad_pos_type:6,aid:t.aid,traceid:t.traceid,ad_unit_id:e})},fail(n){qce(e,t),ADSDK.reportAdMonitorData(Mce,{costTime:Date.now()-r,e:n},{ad_pos_type:6,aid:t.aid,traceid:t.traceid,ad_unit_id:e})}})}catch(e){}},zce={},qce=(e,t)=>{zce[e]=t},Hce=e=>{Fce((t=>{var r={};Fe()&&(r.in_3rd_app=1);var n={ad_unit_id:e,pos_id:"7090665964306299",scene_type:t.scene_type,weapp_path:Dce.path,user_agent:t.ua,weapp_extra_data:JSON.stringify({start_ts:jce.valueOf(),enter_ts:Oce,user_duration:Date.now()-Nce-Bce,machine_type:Wce,env:re.host&&re.host.env,app_appid:re.host&&re.host.appId}),ext_slot_custom_comm:JSON.stringify(r)};tx({sdkApiName:"getadvert",apiName:"webapi_getadvert",reqData:n,success:t=>{try{if((t=t.data).advertisement_num>=1&&t.advertisement_info.length){var r=t.advertisement_info[0];r._preloadTime=+new Date,r.crt_size===Pce?Uce(e,r):qce(e,r);var n=Vce(r.flow_exp_info);void 0!==n.widget_gray_preload_max&&(Kce=n.widget_gray_preload_max),ADSDK.reportAdMonitorData(Tce,{errMsg:"advertisement success",errCode:t.ret},{ad_pos_type:6,aid:r.aid,traceid:r.traceid,ad_unit_id:e})}else ADSDK.reportAdMonitorData(Ace,{errMsg:"no advertisement",errCode:t.ret},{ad_pos_type:6,ad_unit_id:e})}catch(t){ADSDK.reportAdMonitorData(Ace,{errMsg:"advertisement error"},{ad_pos_type:6,ad_unit_id:e})}},fail:()=>{ADSDK.reportAdMonitorData(xce,{errMsg:"advertisement fail"},{ad_pos_type:6,ad_unit_id:e})}})}))},Gce=[],Kce=5,Jce=e=>{if(console.warn("注意：wx.preloadVideoAd接口即将下线，请使用wx.preloadAd替换。"),Array.isArray(e))for(var t=0,r=e.length;t<r;t++){var n=e[t];-1===Gce.indexOf(n)?Gce.length>=Kce?console.warn(`preloadVideoAd最多预加载${Kce}个广告单元,${n}将不被预加载`):(Gce.push(n),Hce(n)):console.warn(`preloadVideoAd已预加载过${n}这个广告单元,请勿重复调用`)}else console.warn("preloadVideoAd参数应为数组")},Xce=e=>{var t=e.data,{unitId:r}=t;zce[r]?(e.success&&e.success({adData:zce[r]}),delete zce[r]):e.success&&e.success({adData:null}),-1!==Gce.indexOf(r)&&setTimeout((()=>{Hce(r)}),1e3)},Yce=()=>Gce,Qce=(e={})=>{fd("shareImageMessage",e,{})},Zce=Xc(FC),eue=Xc(Eee),tue=Xc(Ree),rue=Xc(Oee),nue=Xc(UA),iue=Xc(Iy),aue=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),oue="https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0",sue,lue=function(){var e=Vp()((function*(){return sue||(sue=Vp()((function*(){var e,t,r,n=yield rx({apiName:"webapi_getuseravatarpopupinfo",reqData:{}}),{avatarurl:i,nickname:a}=(null==n||null===(e=n.data)||void 0===e||null===(t=e.avatar_info)||void 0===t||null===(r=t.avatar_list)||void 0===r?void 0:r[0])||{};return{avatarUrl:i,nickName:a}}))()),sue}));return function(){return e.apply(this,arguments)}}(),cue=()=>new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),uue=function(){var e=Vp()((function*(e){var t=(yield cue()).append("choose-avatar",{avatarUrl:e.avatarUrl}),r=dV((e=>{[QW.BottomBackButton,QW.NavigationBackInterceptionType,QW.NavigateBackCall].includes(e.type)&&t.handleClose()})),{action:n}=yield new Promise((e=>{["chooseAvatar","chooseAlbum","takePicture","cancel"].forEach((r=>{t.addListener(r,(()=>e({action:r})))}))}));return pV(r),{action:n}}));return function(t){return e.apply(this,arguments)}}(),due=!1,pue=function(){var e=Vp()((function*(e){return e?new Promise((t=>{_e(e,"chooseAvatar",1,(e=>{t(e)}))})):Vh("chooseAvatar")}));return function(t){return e.apply(this,arguments)}}(),hue={UNKNOWN:0,CHOOSE_AVATAR:1,TAKE_PICTURE:2,CHOOSE_ALBUM:3,CANCEL:4,TAKE_PICTURE_CANCEL:5,CHOOSE_ALBUM_CANCEL:6,AVATAR_ILLEGAL:7,REVIEW_TIMEOUT:8},fue=({action:e})=>{var t=[re.appType+1e3,su.lastRoute,1,e].join(",");M.reportKeyValue({key:"WxappNicknameAvatarAutofill",value:t})},gue=function(){var e=Vp()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}(),vue=function(){var e=Vp()((function*({avatarUrl:e}){var{width:t,height:r}=yield rue({src:e}),n=Vp()((function*(){var n=t>r&&t>640?640:void 0,i=r>t&&r>640?640:void 0,{tempFilePath:a}=yield eue({src:e,quality:60,compressedWidth:n,compressedHeight:i}),{data:o}=yield iue({filePath:a});return o}))(),i=Vp()((function*(){var{data:e}=yield rx({apiName:"webapi_getc2cauthkey",reqData:{}});return _.info("[requestAvatarReview] c2cAuthInfo",e),e}))(),[a,o]=yield Promise.all([n,i]),s=yield gue(Vp()((function*(){var e=yield Promise.race([aue(4e3,"upload timeout"),nue({url:"https://finder-assistant.mp.video.tencent-cloud.com/snsuploadsimple",method:"POST",header:{"X-Arguments":[`apptype=${o.apptype}`,"filetype=20304",`openid=${re.appLaunchInfo.openId||""}`,"filekey=image",`timestamp=${o.timestamp}`,`authkey=${o.authkey}`].join("&"),"Content-Type":"application/x-www-form-urlencoded"},data:a})]);if(_.info("[requestAvatarReview] uploadc2c",e.data),200!==e.statusCode)throw new Error(`upload fail, ${e.data.retcode}`);return e.data.fileurl})),1),l=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).padStart(14,0);_.info("[requestAvatarReview] requestId",l),_.info("[requestAvatarReview] c2cUrl",s);var{data:c}=yield rx({apiName:"webapi_checkuserprofile",reqData:{c2c_url:s,request_id:l}});return _.info("[requestAvatarReview] checkResult",c),c}));return function(t){return e.apply(this,arguments)}}(),mue=Yc("chooseAvatar",Vp()((function*({pluginId:e}={}){if(!(yield pue(e)))throw new Error("no permission");if(due)throw new Error("another chooseAvatar is in progress");if(Aee("choose_avatar"))throw new Error("This api is temporarily unavailable");var t;try{t=yield bQ("button.chooseAvatar")}catch(e){t={success:!0}}if(!t.success){var r=new Error(t.errMsg);throw r.errno=t.errno,r}var n=hue.UNKNOWN;try{due=!0;var i=(yield lue()).avatarUrl||oue,{action:a}=yield uue({avatarUrl:i});switch(a){case"chooseAvatar":var o;n=hue.CHOOSE_AVATAR;try{bj({title:"加载中"}),o=(yield Zce({url:i})).tempFilePath}finally{_j()}return o&&(kee("chooseAvatar",[o],e),gre(e,"SCL chooseAvatar")),{avatarUrl:o};case"chooseAlbum":case"takePicture":var s;n="chooseAlbum"===a?hue.CHOOSE_ALBUM:hue.TAKE_PICTURE;try{var l;s=null===(l=(yield gd("chooseMedia",{count:1,mediaType:["image"],sourceType:"chooseAlbum"===a?["album"]:["camera"]})).tempFiles[0])||void 0===l?void 0:l.tempFilePath}catch(e){throw"cancel"===e.message&&(n="chooseAlbum"===a?hue.CHOOSE_ALBUM_CANCEL:hue.TAKE_PICTURE_CANCEL),e}var c=!1,u=Promise.race([aue(1e4,"upload avatar timeout"),vue({avatarUrl:s})]);try{s=(yield tue({src:s,cropScale:"1:1"})).tempFilePath}catch(e){if(e&&e.errno)throw n=hue.CANCEL,e}try{bj({title:"加载中"});var{errcode:d}=yield u;c=0===d}catch(e){throw e.message,_.error("[requestAvatarReview] error",e.message),setTimeout((()=>{dj({title:"设置失败，请重试",icon:"error"})}),0),n=hue.REVIEW_TIMEOUT,e}finally{_j()}if(!c)throw dj({title:"无法使用该头像",icon:"error"}),n=hue.AVATAR_ILLEGAL,new Error("upload error");return(s=(yield eue({src:s,compressedWidth:132})).tempFilePath)&&kee("chooseAvatar",[s],e),{avatarUrl:s};case"cancel":throw n=hue.CANCEL,new Error("cancel")}}catch(e){throw"cancel"!==e.message&&_.error(`chooseAvatar failed, ${e.message}`),e}finally{due=!1,fue({action:n})}}))),yue=()=>new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot))))),bue=!1,_ue=new hee,wue=e=>new Promise((t=>setTimeout(t,e))),Sue=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e)));nr("onKeyboardHeightChange").internalOnMethod(function(){var e=Vp()((function*(e){(yield _ue.promise).onKeyboardHeightChange(e)}));return function(t){return e.apply(this,arguments)}}());var Cue=function(){var e=Vp()((function*(){return bue||(bue=!0,yue().then(function(){var e=Vp()((function*(e){var t=e.append("nickname-accessory",{show:!1});t.addListener("nicknameAccessoryTap",(()=>{qr("nicknameAccessoryTap",{inputId:t.data.inputId,nickName:t.data.nickname},[su.currentWebviewId]),fre(Tue,"nicknameAccessoryTap")})),Jw((()=>{Due()})),MW(Vp()((function*(){Aue="landscape"===BW(),Mue()}))),Yr("nicknameInput",(({inputValue:e})=>{var t=(Eue||"").toLowerCase();t&&(e=(e||"").toLowerCase(),xue=!(e&&(!t.startsWith(e)||t===e)),Mue())})),yield wue(0),_ue.resolve(t)}));return function(t){return e.apply(this,arguments)}}())),_ue.promise}));return function(){return e.apply(this,arguments)}}(),kue=function(){var e=Vp()((function*(e){return e?new Promise((t=>{_e(e,"showNicknameAccessory",1,(e=>{t(e)}))})):Vh("showNicknameAccessory")}));return function(t){return e.apply(this,arguments)}}(),Iue=!1,Pue,Tue="",Aue=!1,xue=!0,Eue,Mue=function(){var e=Vp()((function*(e){var[t,r]=yield Promise.all([lue(),Cue()]);Eue=t.nickName,Tue=e;var n=Iue&&xue;(Ie||ke)&&(n=n&&!Aue),r.setData({nickname:t.nickName,inputId:Pue,show:n})}));return function(t){return e.apply(this,arguments)}}(),Rue=Yc("showNicknameAccessory",Vp()((function*({inputId:e,pluginId:t}={}){var r=yield bQ("input.nickname").catch((()=>({success:!0})));if(!r.success)throw new Error(r.errMsg+", errno:"+r.errno);if(!(yield kue(t)))throw new Error("no permission");Iue=!0,Aue="landscape"===BW(),xue=!0,Pue=e,yield Mue(t)}))),Due=Yc("hideNicknameAccessory",Vp()((function*(){Iue&&(Iue=!1,yield Mue())}))),Oue={UNKNOWN:0,CHOOSE_NICKNAME:11,INPUT_NICKNAME:12,ILLEGAL_NICKNAME:13,REVIEW_TIMEOUT:14},Lue=({action:e})=>{var t=[re.appType+1e3,su.lastRoute,2,e].join(",");M.reportKeyValue({key:"WxappNicknameAvatarAutofill",value:t})},Nue=function(){var e=Vp()((function*({nickname:e}){var t=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16).padStart(14,0);_.info("[requestNicknameReview] requestId",t);var{data:r}=yield rx({apiName:"webapi_checkuserprofile",reqData:{nickname:e,request_id:t}});return _.info("[requestNicknameReview] checkResult",r),r}));return function(t){return e.apply(this,arguments)}}(),Bue=Yc("reviewNickname",function(){var e=Vp()((function*({inputValue:e,isWechatNickname:t}){var r=t?Oue.CHOOSE_NICKNAME:Oue.INPUT_NICKNAME;try{if(!e||e===Eue||t)return;var n=!1;try{bj({title:"加载中"}),n=0===(yield Promise.race([Sue(1e3,"upload nickname timeout"),Nue({nickname:e})])).errcode}catch(e){throw setTimeout((()=>{dj({title:"设置失败，请重试",icon:"error"})}),0),r=Oue.REVIEW_TIMEOUT,e}finally{_j()}if(!n)throw r=Oue.ILLEGAL_NICKNAME,dj({title:"无法使用该昵称",icon:"error"}),new Error("illegal nickname")}catch(t){throw _.error(`reviewNickname failed, nickname=${e}, ${t.message}`),t}finally{Lue({action:r})}}));return function(t){return e.apply(this,arguments)}}()),$ue=(e,t)=>{var r=Mu()+" "+Ru(),n=["","","getPhoneNumber",su.lastRoute,t?20:10,e,r,(null==re?void 0:re.appType)||0].map(encodeURIComponent).join(",");M.reportKeyValue({key:"getPhoneNumberReport",value:n})},Fue=e=>{var{state:t,isrealtime:r}=e;$ue(t,r)},jue=_.createLogger("getPhoneNumber|service"),Wue=lx("commercialPhoneNumber","webapi_consume_commercialphonenumber",(e=>e)),Vue=(e,t,r)=>{$ue("invokeConsumerGetPhoneNumber",t),jue.info("invokeConsumerGetPhoneNumber",t,r),zb({complete:n=>{Wue({code:e.code,encrypted_data:e.encryptedData,iv:e.iv,device_brand:Se,device_model:n.model,os_version:n.system,is_realtime:t,request_id:r,success:()=>{jue.info("consumerGetPhoneNumberSuccess",t),$ue("consumerGetPhoneNumberSuccess",t)},fail:e=>{jue.info("consumerGetPhoneNumberFail",e),$ue("consumerGetPhoneNumberFail_"+(e.errno||e.err_code||e.errCode)+"_"+e.errMsg,t)}})}})},Uue=e=>{var{args:t,isrealtime:r,request_id:n}=e;Vue(t,r,n)},zue=_.createLogger("getPhoneNumber|service"),que=e=>{var t=Date.now();uj({title:"正在加载",icon:"loading",mask:!1,duration:12e4});var{phoneNumberNoQuotaToast:r,isrealtime:n,time1:i,success:a}=e;Q3({businessType:"weappGetPhoneNumber",scene:1263,queryString:`data=${$P(JSON.stringify({appid:re.accountInfo.appId,is_realtime:n}))}`,envVersion:"release",privateExtraData:{appid:re.accountInfo.appId,isrealtime:n,path:su.lastRoute,time1:i,time2:t,icon:re.accountInfo.icon,nickname:re.accountInfo.nickname,phoneNumberNoQuotaToast:r},sticky:!0,disableVisibilityEvent:!0,success(e){if(zue.info("weappGetPhoneNumber success",e),vj(),e.extraData&&e.extraData.isSuccess){var{cloud_id:t,encryptedData:r,iv:i,request_id:o}=e.extraData,s={encryptedData:r,iv:i,cloudID:t,errMsg:"getPhoneNumber:ok"},{data:l}=e.extraData;if(l)try{(l=JSON.parse(l))&&l.code&&(s.code=l.code,Vue(s,n,o),vre("","getPhoneNumberByBusinessView"))}catch(e){console.error(e),zue.error("parse code fail",e.message)}$ue("FakeNativeGetPhone_Success",n),a({invokeType:"complete",data:{public:s}})}else $ue("FakeNativeGetPhone_Fail_BusinessViewSuccess_"+(e.extraData.errno||e.extraData.err_code||e.extraData.errCode)+e.extraData.errMsg,n),-12001===e.extraData.errno?a({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail no permission",errno:e.extraData.errno,err_code:e.extraData.err_code,errCode:e.extraData.errCode}}}):-13e3===e.extraData.errno?(hj({icon:"",title:"操作太频繁，请稍后再试"}),a({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail operating too frequently",errno:e.extraData.errno,err_code:e.extraData.err_code,errCode:e.extraData.errCode}}})):a({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail "+e.extraData.errMsg,errno:e.extraData.errno,err_code:e.extraData.err_code,errCode:e.extraData.errCode}}})},fail(e){vj(),console.error("openBusinessView fail",e),zue.info("openBusinessView fail",e),"openBusinessView:fail cancel"===e.errMsg?($ue("FakeNativeGetPhone_Fail_BusinessViewFail_Cancel",n),a({invokeType:"complete",data:{public:{errMsg:"getPhoneNumber:fail user deny"}}})):($ue("FakeNativeGetPhone_Fail_BusinessViewFail_"+(e.errno||e.err_code||e.errCode)+e.errMsg,n),a({invokeType:"nativeGetPhone"}))}})},Hue=_.createLogger("getPhoneNumber|service"),Gue=e=>{var{phoneNumberNoQuotaToast:t,isrealtime:r,time1:n,success:i}=e;$ue("invokeWxGetPhoneNumber",r),Hue.info("invokeWxGetPhoneNumber",r);var a=!1,o=!0;if(ke){re.clientVersion>=671096373&&(a=!0);var s=re.brand&&re.brand.toUpperCase();"HUAWEI"!==s&&"HONOR"!==s||re.systemApiLevel&&re.systemApiLevel>27||(o=!1)}else Ie?re.clientVersion>=402660916&&(a=!0):o=!1;Hue.info("是否开启仿原生获取手机号",o),Hue.info("是否支持打开透明背景仿原生",a),(xe||Ce)&&r?($ue(`NativeGetPhone_Fail_100_getrealtimephonenumber not supported on ${Se}`,r),ij({content:"该手机号需要验证，请在移动端进行操作",showCancel:!1,complete:()=>{i({invokeType:"complete",data:{public:{errMsg:`getPhoneNumber:fail getrealtimephonenumber not supported on ${Se}`,errno:100}}})}})):a?o?($ue("FakeNativeGetPhone",r),Hue.info("FakeNativeGetPhone",r),que({phoneNumberNoQuotaToast:t,isrealtime:r,time1:n,success:i})):($ue("NativeGetPhone_YesTransparent_NoExpt",r),Hue.info("NativeGetPhone_YesTransparent_NoExpt",r),i({invokeType:"nativeGetPhone"})):($ue("NativeGetPhone_NoTransparent",r),Hue.info("NativeGetPhone_NoTransparent",r),i({invokeType:"nativeGetPhone"}))},Kue={COMMON:924,SPLASHAD:1288,CUSTOMAD:1390,CPSSHOPAD:1764,REWARDEDVIDEO:1963,COMMON2:2009},Jue=(e,t,r=1)=>({idKey:e,idKeyGroup:t,sample:r}),Xue=(e,t=1)=>Jue(e,Kue.COMMON,t),Yue=(e,t=1)=>Jue(e,Kue.COMMON2,t),Que=Xue(5),Zue=Xue(10),ede=Xue(11),tde=Xue(12),rde=Xue(13),nde=Xue(14),ide=Xue(21),ade=Xue(22),ode=Xue(23),sde=Xue(24),lde=Xue(25),cde=Xue(26),ude=Xue(28),dde=Xue(32),pde=Xue(33),hde=Xue(34),fde=Xue(35),gde=Xue(36),vde=Xue(37),mde=Xue(38),yde=Xue(39,.01),bde=Xue(40),_de=Xue(41),wde=Xue(42),Sde=Xue(43),Cde=Xue(44),kde=Xue(45),Ide=Xue(46,.01),Pde=Xue(49),Tde=Xue(50),Ade=Xue(86,.01),xde=Xue(87),Ede=Xue(88),Mde=Xue(89),Rde=Xue(90),Dde=Xue(96,.01),Ode=Xue(97,.05),Lde=Xue(98),Nde=Xue(99),Bde=Xue(100),$de=Xue(101),Fde=Xue(102),jde=Xue(103),Wde=Xue(104),Vde=Xue(106),Ude=Xue(105),zde=Xue(107),qde=Xue(108),Hde=Xue(109),Gde=Xue(110),Kde=Xue(112),Jde=Xue(113),Xde=Xue(114),Yde=Xue(115),Qde=Xue(116),Zde=Xue(119),epe=Xue(120),tpe=Xue(121),rpe=Xue(123),npe=Xue(124),ipe=Xue(125),ape=Xue(126),ope=Xue(127),spe=Xue(128),lpe=Xue(129),cpe=Xue(130),upe=Xue(131,.01),dpe=Xue(132,.01),ppe=Xue(133),hpe=Xue(134),fpe=Xue(135),gpe=Xue(136),vpe=Xue(137,.01),mpe=Xue(138),ype=Xue(139),bpe=Xue(140),_pe=Xue(141),wpe=Xue(142,.01),Spe=Xue(143),Cpe=Xue(144),kpe=Xue(145),Ipe=Xue(146),Ppe=Xue(147),Tpe=Xue(148),Ape=Xue(149),xpe=Xue(150,.01),Epe=Xue(151),Mpe=Xue(152),Rpe=Xue(153),Dpe=Xue(154),Ope=Xue(156),Lpe=Xue(157),Npe=Xue(158),Bpe=Xue(159),$pe=Xue(160),Fpe=Xue(161),jpe=Xue(162),Wpe=Xue(163),Vpe=Xue(164),Upe=Xue(165),zpe=Xue(166),qpe=Xue(167),Hpe=Xue(168),Gpe=Xue(169),Kpe=Xue(170),Jpe=Xue(171),Xpe=Xue(173),Ype=Xue(178,.01),Qpe=Xue(179),Zpe=Xue(180),ehe=Xue(181),the=Xue(182),rhe=Xue(183),nhe=Xue(188),ihe=Xue(189),ahe=Xue(190),ohe=Xue(191),she=Xue(192),lhe=Xue(193),che=Xue(194),uhe=Xue(195),dhe=Xue(196,.01),phe=Xue(197),hhe=Xue(198),fhe=Xue(199),ghe=Xue(202),vhe=Xue(203),mhe=Xue(204),yhe=Xue(205),bhe=Xue(206),_he=Xue(207),whe=Xue(208),She=Xue(209),Che=Xue(210),khe=Xue(211),Ihe=Xue(212),Phe=Xue(213),The=Xue(214),Ahe=Xue(215),xhe=Xue(216),Ehe=Xue(217),Mhe=Xue(218),Rhe=Xue(219),Dhe=Xue(220),Ohe=Xue(221),Lhe=Xue(223),Nhe=Xue(224),Bhe=Xue(225),$he=Xue(226),Fhe=Xue(227),jhe=Xue(228),Whe=Xue(229),Vhe=Xue(230),Uhe=Xue(234),zhe=Xue(235),qhe=Xue(236),Hhe=Xue(237),Ghe=Xue(238),Khe=Xue(239),Jhe=Xue(240),Xhe=Xue(241),Yhe=Xue(242),Qhe=Xue(243),Zhe=Xue(244),efe=Xue(246),tfe=Xue(247),rfe=Xue(250),nfe=Xue(251),ife=Xue(252,.01),afe=Xue(253),ofe=Xue(254),sfe=Yue(1,.01),lfe=Yue(2),cfe=Yue(3,.01),ufe=Yue(4),dfe=Yue(5,.01),pfe=Yue(6),hfe=Yue(7),ffe=Yue(8),gfe=Yue(9),vfe=Yue(10,.01),mfe=Yue(11),yfe=Yue(12),bfe=Yue(13),_fe=Yue(14),wfe=Yue(15),Sfe=Yue(16),Cfe=Yue(17),kfe=Yue(18),Ife=Yue(19),Pfe=Yue(20),Tfe=Yue(21,.01),Afe=Yue(22),xfe=Yue(27),Efe=Yue(28),Mfe=Yue(29),Rfe=Yue(30),Dfe=Yue(23),Ofe=Yue(24),Lfe=Yue(25),Nfe=Yue(26),Bfe=Yue(31),$fe=Yue(32),Ffe=Yue(33),jfe=Yue(34),Wfe=Yue(35),Vfe=Yue(36),Ufe=Yue(37),zfe=Yue(38),qfe=Yue(39),Hfe=Yue(40),Gfe=Yue(41),Kfe=Yue(42),Jfe=Yue(43),Xfe=Yue(44),Yfe=Yue(45),Qfe=Yue(46),Zfe=Yue(47),ege=Yue(48),tge=Yue(51),rge=Yue(52),nge=Yue(53),ige=Yue(54),age="",oge="",sge="",lge="{}",cge="",uge="",dge="{}";function pge(e){age?e&&e(age):ke&&re.clientVersion<654315827?fd("getOAID",{success(t){/:ok/.test(t.errMsg)?(age=t.result||"",e&&e(age)):e&&e("")},fail(){e&&e("")}}):e&&e("")}function hge(e=""){return new Promise(((t,r)=>{ke&&re.clientVersion>=654315827||Ie&&re.clientVersion>=385879808?fd("getDeviceInfo",{waidPkg:e,success(e){age=e.oaid||"",oge=e.imei||"",uge=e.waid||"",cge=e.ua||"",dge=e.devIdInfo||"{}";try{lge=JSON.stringify({...JSON.parse(dge),...cge?{ua:cge}:{}})}catch(e){r(e)}t({oaid:age,imei:oge,commonid:lge,waid:uge})},fail(e){r(e)}}):t({oaid:age,imei:oge,commonid:lge,waid:uge})}))}function fge(e=""){return new Promise(((t,r)=>{var n="",i="";IS_ANDROID&&WXConfig.clientVersion>=654316032?invokeMethod("getDeviceInfo",{waidPkg:e,success(e){n=e.waid||"",i=e.imei||"",t({waid:n,imei:i})},fail(e){r(e)}}):t({waid:n,imei:i})}))}var gge=()=>{var e=hw();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":re.deviceOrientation&&/^landscape/.test(re.deviceOrientation)?"landscape":re.deviceOrientation||"portrait"},vge={25576:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"slotid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint32",key:"crt_size",value:"0"},{type:"uint32",key:"product_type",value:"0"},{type:"uint64",key:"crt_exp_tid",value:"0"},{type:"uint64",key:"ad_tmpl_id",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint64",key:"exp_time",value:"0"},{type:"uint64",key:"imp_time",value:"0"},{type:"string",key:"user_agent",value:""},{type:"uint64",key:"ad_w",value:"0"},{type:"uint64",key:"ad_h",value:"0"},{type:"uint64",key:"pos_x",value:"0"},{type:"uint64",key:"pos_y",value:"0"},{type:"string",key:"pos_name",value:""},{type:"uint32",key:"item_show_type",value:"0"},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""}],20299:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"is_reward",value:"0"},{type:"uint32",key:"is_cancel",value:"0"},{type:"uint32",key:"ad_platform",value:"0"}],18988:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"button_type",value:"0"}],16743:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"close_type",value:"0"},{type:"uint64",key:"exposure_duration",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"close_time",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"is_predownload_video",value:"0"},{type:"uint64",key:"video_start_load_time",value:"0"},{type:"uint64",key:"video_start_play_time",value:"0"},{type:"string",key:"expand_feild",value:""}],16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"diaphaneity_list",value:""},{type:"string",key:"element_distance_list",value:""},{type:"string",key:"machine_type",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"logtype",value:"0"},{type:"uint32",key:"hitable_percentage",value:"0"},{type:"uint32",key:"visible_percentage",value:"0"},{type:"uint32",key:"opacity",value:"0"},{type:"string",key:"around_text",value:""},{type:"uint32",key:"cycle_play",value:"0"},{type:"string",key:"ad_position",value:""},{type:"string",key:"ad_screen_position",value:""},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"},{type:"string",key:"ext_feedback_comm",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],16487:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"click_time",value:"0"},{type:"uint32",key:"click_cnt",value:"0"},{type:"uint32",key:"start_pos_x",value:"0"},{type:"uint32",key:"start_pos_y",value:"0"},{type:"uint32",key:"end_pos_x",value:"0"},{type:"uint32",key:"end_pos_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"uint32",key:"block_click",value:"0"},{type:"uint64",key:"start_posx",value:"0"},{type:"uint64",key:"start_posy",value:"0"},{type:"uint64",key:"end_posx",value:"0"},{type:"uint64",key:"end_posy",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],16e3:[{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"uint64",key:"play_duration",value:"0"},{type:"uint64",key:"click_close_ts",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"uint64",key:"video_first_play_ts",value:"0"},{type:"uint64",key:"card_first_show_ts",value:"0"},{type:"uint64",key:"click_card_ts",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"current_play_url",value:""},{type:"string",key:"last_fetch_url",value:""},{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_playlet_autoplay",value:"0"},{type:"uint64",key:"video_start_play_ts_client",value:"0"},{type:"uint64",key:"video_end_play_ts_client",value:"0"},{type:"uint64",key:"video_play_duration",value:"0"},{type:"uint64",key:"rewarded_condition",value:"0"},{type:"uint32",key:"is_rewarded",value:"0"}],15730:[{type:"uint64",key:"load_begin_time",value:"0"},{type:"uint64",key:"load_end_time",value:"0"},{type:"uint64",key:"load_cost_time",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"report_type",value:"0"},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"load_departure_time",value:"0"},{type:"uint32",key:"preload_video",value:"0"},{type:"uint32",key:"preload_video_success",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],15979:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"lastclkperiod",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"uint32",key:"pagestaytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"string",key:"orig_weapp_id",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],17035:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"click_button",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"touch_start_x",value:"0"},{type:"uint32",key:"touch_start_y",value:"0"},{type:"uint32",key:"touch_end_x",value:"0"},{type:"uint32",key:"touch_end_y",value:"0"},{type:"uint64",key:"touch_duration",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"clk_timems",value:"0"},{type:"uint64",key:"play_timems",value:"0"},{type:"uint32",key:"is_shield",value:"0"}],18072:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"last_clicks",value:""},{type:"uint32",key:"banner_x",value:"0"},{type:"uint32",key:"banner_y",value:"0"},{type:"uint32",key:"banner_width",value:"0"},{type:"uint32",key:"banner_height",value:"0"},{type:"uint32",key:"exp_ms",value:"0"},{type:"uint32",key:"clk_ms",value:"0"},{type:"uint32",key:"banner_clk_screen_x",value:"0"},{type:"uint32",key:"banner_clk_screen_y",value:"0"},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"last_show_time",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],18517:[{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"action",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"publisher_appid",value:""},{type:"uint32",key:"row_number",value:"0"},{type:"uint32",key:"column_number",value:"0"},{type:"uint32",key:"box_index",value:"0"},{type:"uint64",key:"action_timems",value:"0"},{type:"uint32",key:"clk_x",value:"0"},{type:"uint32",key:"clk_y",value:"0"},{type:"uint32",key:"press_interval",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"screenheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"string",key:"machine_type",value:""}],19429:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint64",key:"start_time",value:"0"},{type:"uint64",key:"show_time",value:"0"},{type:"uint64",key:"end_time",value:"0"},{type:"uint64",key:"show_delay_duration",value:"0"},{type:"uint64",key:"fetch_duration",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19214:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"shareType",value:"0"},{type:"uint32",key:"tousername",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"uint64",key:"p24",value:"0"},{type:"uint64",key:"p25",value:"0"},{type:"uint64",key:"p26",value:"0"},{type:"uint64",key:"p27",value:"0"},{type:"uint64",key:"p28",value:"0"},{type:"uint64",key:"p29",value:"0"},{type:"uint64",key:"p30",value:"0"},{type:"uint64",key:"p31",value:"0"},{type:"uint64",key:"p32",value:"0"},{type:"uint64",key:"p33",value:"0"},{type:"uint64",key:"p34",value:"0"},{type:"uint64",key:"p35",value:"0"}],20480:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"string",key:"click_pos",value:""}],20317:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"branch_id",value:""},{type:"string",key:"branch_dim",value:""}],21644:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"crt_size",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"use_gauss_video",value:"0"},{type:"string",key:"video_url",value:""},{type:"string",key:"gauss_video_url",value:""},{type:"uint32",key:"use_expand_style",value:"0"},{type:"uint32",key:"exp_use_gauss_video",value:"0"},{type:"uint32",key:"exp_use_expand_style",value:"0"}],23415:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"button_type",value:"0"},{type:"uint64",key:"button_time",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint64",key:"ad_clk_time",value:"0"},{type:"uint64",key:"ad_exp_time",value:"0"},{type:"uint32",key:"ad_clk_x",value:"0"},{type:"uint32",key:"ad_clk_y",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"ad_height",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],25534:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:""},{type:"uint32",key:"weapp_path",value:""},{type:"uint64",key:"type",value:"0"},{type:"uint32",key:"time_ms",value:"0"},{type:"uint32",key:"pagex",value:"0"},{type:"uint64",key:"pagey",value:"0"},{type:"uint64",key:"screenx",value:"0"},{type:"uint32",key:"screeny",value:"0"},{type:"uint32",key:"adwidth",value:"0"},{type:"uint32",key:"adheight",value:"0"},{type:"uint32",key:"screenwidth",value:"0"},{type:"uint32",key:"screenheight",value:"0"},{type:"string",key:"parent_templ_id",value:""},{type:"uint64",key:"crt_size",value:"0"}],26227:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"uint32",key:"operation",value:"0"},{type:"uint32",key:"cur_show",value:"0"},{type:"string",key:"invite_user_openid",value:""},{type:"string",key:"invite_user_adunit",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint32",key:"strategy",value:"0"},{type:"string",key:"expand_field",value:""}],26640:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"string",key:"adunitid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"video_duration",value:"0"},{type:"uint64",key:"destroy_timems",value:"0"},{type:"uint64",key:"play_start_timems",value:"0"},{type:"uint64",key:"play_duration_ms",value:"0"},{type:"uint32",key:"is_ended",value:"0"},{type:"uint32",key:"is_ad_clk",value:"0"},{type:"uint64",key:"ad_clk_timems",value:"0"},{type:"uint32",key:"is_ad_landpage",value:"0"},{type:"uint64",key:"ad_landpage_timems",value:"0"},{type:"uint32",key:"is_show_status",value:"0"},{type:"uint32",key:"is_visible",value:"0"},{type:"uint32",key:"is_on_landpage",value:"0"}],20267:[{type:"string",key:"NetworkType",value:""},{type:"uint32",key:"SSID",value:""},{type:"uint32",key:"ToUin",value:""},{type:"uint64",key:"SceneID",value:"0"},{type:"uint64",key:"UIArea",value:"0"},{type:"uint64",key:"PositionID",value:"0"},{type:"uint64",key:"ActionID",value:"0"},{type:"string",key:"ActionStatus",value:""},{type:"uint64",key:"OpType",value:"0"},{type:"string",key:"Object",value:""},{type:"string",key:"Status",value:""},{type:"uint64",key:"SourceID",value:"0"},{type:"string",key:"Allpath",value:""},{type:"uint64",key:"ExpID",value:""},{type:"uint32",key:"LogType",value:"0"},{type:"string",key:"ErrType",value:"0"},{type:"uint64",key:"Time",value:"0"},{type:"uint64",key:"FuncType",value:"0"},{type:"string",key:"FuncID",value:""},{type:"uint64",key:"ContentType",value:"0"},{type:"uint64",key:"ContentID",value:"0"},{type:"uint64",key:"ReasonID",value:""},{type:"string",key:"ExternInfo",value:""},{type:"uint64",key:"ClassID",value:""}],31596:[{type:"uint64",key:"report_time",value:"0"},{type:"string",key:"instance_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"mb_service_version",value:""},{type:"string",key:"mb_lib_version",value:""},{type:"string",key:"mb_bussiness_version",value:""},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"pos_type",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"crt_exp_tid",value:"0"},{type:"uint64",key:"template_id",value:"0"},{type:"string",key:"expt_id_list",value:""},{type:"string",key:"x_expt_id",value:""},{type:"string",key:"x_expt_group_id",value:""},{type:"uint32",key:"crt_size",value:"0"},{type:"uint64",key:"ad_data_sizes",value:"0"},{type:"uint64",key:"template_sizes",value:"0"},{type:"uint64",key:"material_sizes",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint32",key:"action",value:""},{type:"string",key:"value",value:""}],31840:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:""},{type:"uint64",key:"report_time",value:0},{type:"string",key:"instance_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"string",key:"mb_service_version",value:""},{type:"string",key:"mb_lib_version",value:""},{type:"string",key:"mb_bussiness_version",value:""},{type:"string",key:"mb_bussiness_time",value:""},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint32",key:"screen_width",value:0},{type:"uint32",key:"screen_height",value:0},{type:"string",key:"device_orientation",value:""},{type:"uint32",key:"scene",value:0},{type:"uint64",key:"slotid",value:0},{type:"uint32",key:"pos_type",value:0},{type:"uint64",key:"aid",value:0},{type:"string",key:"traceid",value:""},{type:"uint32",key:"costtype",value:0},{type:"uint64",key:"crt_exp_tid",value:0},{type:"uint64",key:"template_id",value:0},{type:"string",key:"expt_id_list",value:""},{type:"string",key:"x_expt_id",value:""},{type:"string",key:"x_expt_group_id",value:""},{type:"uint32",key:"crt_size",value:0},{type:"uint64",key:"ad_data_sizes",value:0},{type:"uint64",key:"template_sizes",value:0},{type:"uint64",key:"material_sizes",value:0},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"action",value:0},{type:"string",key:"value",value:""}],33455:[{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"string",key:"instance_id",value:""}]},mge=e=>[20267,31596,33455].includes(Number(e)),yge=e=>{var t=vge[e.toString()];return t?t.concat([]):[]},bge=[],_ge=[],wge=(e=!1)=>({sdkApiName:t="adReportOperateWXData",reqData:r,success:n,fail:i,complete:a}={})=>{var o=r.report_action||"",s=0;r.report_data_json&&"object"==typeof r.report_data_json&&(s=r.report_data_json.logid||0,r.report_data_json=JSON.stringify(r.report_data_json));var l={apiName:"advert_report",reqData:r,sdkApiName:t,success:n,fail:i,complete:a,adExtra:{adReportAction:o,adLogid:s}};Gh()&&"reportAdExposure"!==t?Cge(l,e):e?tx(l):ix(l)},Sge=!1,Cge=(e,t)=>{if(Sge)t?(_ge.push(e),10===_ge.length&&(kge(_ge,!0,eC),_ge=[])):(bge.push(e),10===bge.length&&(kge(bge,!1,eC),bge=[]));else{Sge=!0;var r=Number(Ie?re.expt.clicfg_appbrand_ios_ad_operatewxdata_batch:re.expt.clicfg_appbrand_android_ad_operatewxdata_batch);setInterval((()=>{_ge.length&&(kge(_ge,!0,ZS),_ge=[]),bge.length&&(kge(bge,!1,ZS),bge=[])}),r)}},kge=(e,t,r)=>{(t?ax:nx)({apiName:"adReportBatch",sdkApiName:"adReportBatch",reqDataList:e.map((e=>({api_name:e.apiName,data:e.reqData}))),batchType:r,success:t=>{(t.item_list||[]).forEach(((t,r)=>{var n={};t&&t.resp&&0===t.errcode?0!==t.resp.err_no?(n={errMsg:`${e[r].sdkApiName}:fail `+(t.resp.errmsg?` ${t.resp.errmsg}`:""),errno:t.resp.err_no},e[r].fail&&e[r].fail(n),e[r].complete&&e[r].complete(n)):(n={errMsg:`${e[r].sdkApiName}:ok`,data:t.resp.data||{},errno:0},e[r].success&&e[r].success(n),e[r].complete&&e[r].complete(n)):(n={errMsg:`${e[r].sdkApiName}:fail `+(t.errmsg?` ${t.errmsg}`:""),errno:t.errcode},e[r].fail&&e[r].fail(n),e[r].complete&&e[r].complete(n))}))},fail:r=>{_.error(`fromWebview=${t}`,"batch 广告上报失败",r),e.forEach((e=>{e.fail&&e.fail(r),e.complete&&e.complete(r)}))}})},Ige=wge(!1),Pge=Cf(Ige),Tge=wge(!0),Age="",xge=Se,Ege="",Mge="",Rge="",Dge="",Oge="",Lge="",Nge=!0,Bge="",$ge="";re.onReady((()=>{Age=gge()||"";var e=pw();Ege=e.system,Mge=e.version,Rge=e.SDKVersion,Oge=e.model,Lge=e.brand,Nge=We();try{$ge=re.accountInfo.appId,Dge=l.updateTime}catch(e){}}));var Fge=({key:e,id:t})=>{"object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),M.reportIDKeyDirectly({id:t||924,key:e,force:!0})},jge=({key:e,id:t,extInfo:r,reportData:n})=>{if("object"==typeof e&&(!t&&(t=e.idKeyGroup),e=e.idKey),0===e&&(e="0"),n=n||{},r&&"string"!=typeof r)try{r=JSON.stringify(r)}catch(e){r=r.toString()}return Wge(16295,{id_key:e,id_key_group:t||924,report_time:+new Date,ad_pos_type:n.ad_pos_type||0,source_url:n.source_url||"",expand_feild:n.reportAdData||"",expand_feild2:r,aid:n.aid||0,traceid:n.traceid||"",ad_unit_id:n.ad_unit_id})},Wge=(e,t)=>{var r=yge(e);if(r&&0!==r.length)return t=Object.assign({publisher_appid:$ge,appid:$ge,orig_weapp_id:"",network_type:Bge,wechat_version:Mge,platform:xge,system_version:Ege,device_orientation:Age,wxapp_lib_version:Rge,wxapp_lib_time:Dge,machine_type:Oge,ad_platform:Nge?1:0},t),t=Object.assign({DeviceModel:Oge,DeviceBrand:Lge,OsName:xge,OsVersion:Ege},t),r=r.map((e=>({type:e.type,value:(t[e.key]||e.value).toString()}))),Pge({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:r}}}).catch((e=>{}))},Vge=(e,t,r)=>{Fge({key:e}),jge({key:e,extInfo:t,reportData:r})},Uge=e=>Number(e).toString()===e,zge=(e,t)=>t.reduce(((t,r)=>(t[r]=e[r],t)),{}),qge=(e,t)=>zge(e,Object.keys(e).filter((e=>!t.includes(e)))),Hge=e=>e&&"object"==typeof e&&!Array.isArray(e);function Gge(e,...t){if(!t.length)return e;var r=t.shift();if(Hge(e)&&Hge(r))for(var n of Object.keys(r))Hge(r[n])?(e[n]||Object.assign(e,{[n]:{}}),Gge(e[n],r[n])):Object.assign(e,{[n]:r[n]});return Gge(e,...t)}var Kge=e=>{for(var t=new Set,r=e;r;){for(var n of Object.getOwnPropertyNames(r))t.add(n);r=Object.getPrototypeOf(r)}return[...t]},Jge=(e,t,r)=>{for(var n="string"==typeof t?t.split("."):t,i=e,a=0;i&&a<n.length;)i=i[n[a]],a+=1;return i||r},Xge=e=>e.reduce(((e,t)=>(Array.isArray(t)?e.push(...Xge(t)):e.push(t),e)),[]),Yge=e=>JSON.parse(JSON.stringify(e)),Qge=e=>Object.keys(e),Zge=e=>{Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{var r;try{r=e[t]}catch(e){}"object"!=typeof r&&"function"!=typeof r||Object.isFrozen(r)||Zge(r)}))},eve="TIMEOUT_REJECT",tve=(e,t)=>Promise.race([e,new Promise(((e,r)=>{setTimeout((()=>{r(eve)}),t)}))]),rve=e=>Object.keys(e).reduce(((t,r)=>({...t,...null==e[r]?{}:{[r]:e[r]}})),{}),nve={startTime:new Date,gameAppId:"",deviceOrientation:"",screenWidth:0,screenHeight:0,systemVersion:"",wechatVersion:"",SDKVersion:"",SDKVersionTime:"",envVersion:"",brand:"",model:"",platform:Se,isWaGame:!0,isApp:!1,isIOS:Ie,isAndroid:ke,isWindows:Pe,isMac:Te,isPC:xe,isIPad:null,oaid:"",imei:"",idfa:"",common_device_id:"{}",adNetworkType:"",safeArea:{}},ive={enterForegroundTime:new Date,gameDuration:0,currentScene:1011,weappPath:"index.html",lastWebviewId:0,currentWebviewId:0,currentOpenType:""},ave=()=>{},ove=()=>ave(),sve=()=>new Promise((e=>{ave=e})),lve=()=>new Promise((e=>{pge((t=>{nve.oaid=t,e()}))})),cve=()=>new Promise((e=>{hge().then((({imei:t,oaid:r,commonid:n})=>{Ie?nve.idfa=t:ke&&(nve.oaid=r,nve.imei=t),nve.common_device_id=n||"{}",e(),sve().then((()=>{Vge(upe)}))})).catch((t=>{e(),sve().then((()=>{Vge(lpe,t)}))}))})),uve=()=>new Promise((e=>{re.onReady((()=>{var t;nve.startTime=new Date,nve.deviceOrientation=gge()||"",nve.envVersion=re.envVersion;var r=pw(),n=hw(),i=$b();nve.safeArea=i.safeArea||re.safeArea||{},nve.screenWidth=n.screenWidth||0,nve.screenHeight=n.screenHeight||0,nve.systemVersion=r.system,nve.wechatVersion=r.version,nve.SDKVersion=r.SDKVersion,nve.brand=r.brand,nve.model=r.model,nve.isIPad=null===(t=r.model)||void 0===t?void 0:t.includes("iPad"),nve.isWaGame=We(),nve.isApp=ze();try{nve.gameAppId=re.accountInfo.appId,nve.SDKVersionTime=l.updateTime}catch(e){}Promise.all([lve(),cve()]).then((()=>e(nve)))}))})),dve=uve(),pve=e=>{var t=Object.keys(e);for(var r of t)nve[r]=e[r]};m.onLoad((()=>{nve.startTime=new Date,ive.enterForegroundTime=new Date}));var hve=()=>zge(nve,["oaid","imei","idfa","common_device_id"]),fve=()=>{var e=$b();return nve.screenWidth=e.screenWidth,nve.screenHeight=e.screenHeight,nve.deviceOrientation=nve.screenWidth>nve.screenHeight?"landscape":"portrait",nve.deviceOrientation};dS((({scene:e})=>{ive.enterForegroundTime=new Date,ive.currentScene=e})),kS((()=>{ive.gameDuration+=Date.now()-ive.enterForegroundTime.getTime()}));var gve={16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"}],33455:[{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"},{type:"uint32",key:"crt_exp_tid",value:"0"},{type:"uint32",key:"template_id",value:"0"},{type:"string",key:"instance_id",value:""}]},vve=e=>{var t=gve[e.toString()];return t?t.concat([]):[]},mve=e=>[33455].includes(Number(e)),yve=e=>e.map((e=>String(e.value).replace(/,/g,";"))).join(","),bve=()=>{var e=hw();return e.screenWidth&&e.screenHeight?e.screenWidth>e.screenHeight?"landscape":"portrait":re.deviceOrientation&&/^landscape/.test(re.deviceOrientation)?"landscape":re.deviceOrientation||"portrait"},_ve="",wve=Se,Sve="",Cve="",kve="",Ive="",Pve="",Tve="",Ave=!0,xve="",Eve="";re.onReady((()=>{_ve=bve()||"";var e=pw();Sve=e.system,Cve=e.version,kve=e.SDKVersion,Pve=e.model,Tve=e.brand,Ave=We();try{Eve=re.accountInfo.appId,Ive=l.updateTime}catch(e){}}));var Mve=({key:e,id:t})=>{var r=t,n=e;"object"==typeof n&&(!r&&(r=n.idKeyGroup),n=n.idKey),0===n&&(n="0"),M.reportIDKeyDirectly({id:r||924,key:n,force:!0})},Rve=({key:e,id:t,extInfo:r,reportData:n})=>{var i=e,a=t,o=r,s=n;if("object"==typeof i&&(!a&&(a=i.idKeyGroup),i=i.idKey),0===i&&(i="0"),s=s||{},o&&"string"!=typeof o)try{o=JSON.stringify(o)}catch(e){o=o.toString()}var l=16295;try{var c,u;1===Number(null==re||null===(c=re.expt)||void 0===c||null===(u=c.clicfg_miniprogram_adreport_use_kv)||void 0===u?void 0:u.value)&&(l=33455)}catch(e){}return Dve(l,{id_key:i,id_key_group:a||924,report_time:+new Date,ad_pos_type:s.ad_pos_type||0,source_url:s.source_url||"",expand_feild:s.reportAdData||"",expand_feild2:o,aid:s.aid||0,traceid:s.traceid||"",ad_unit_id:s.ad_unit_id,slotid:s.slotid||0,publisher_appid:s.publisher_appid||""})},Dve=(e,t)=>{var r=t,n=vve(e);if(n&&0!==n.length)return r=Object.assign({publisher_appid:Eve,appid:Eve,orig_weapp_id:"",network_type:xve,wechat_version:Cve,platform:wve,system_version:Sve,device_orientation:_ve,wxapp_lib_version:kve,wxapp_lib_time:Ive,machine_type:Pve,ad_platform:Ave?1:0},r),r=Object.assign({DeviceModel:Pve,DeviceBrand:Tve,OsName:wve,OsVersion:Sve},r),n=n.map((e=>({type:e.type,value:(r[e.key]||e.value).toString()}))),mve(e)?M.reportKeyValue({key:e,value:yve(n),number:!0,immediately:!0}):Pge({reqData:{report_action:"comm_mmdata_report",report_data_json:{logid:e,items:n}}}).catch((e=>{}))},Ove=(e,t,r)=>{Mve({key:e}),Rve({key:e,extInfo:t,reportData:r})},Lve=B_(),Nve={COMMON:924,SPLASHAD:1288,CUSTOMAD:1390,CPSSHOPAD:1764,REWARDEDVIDEO:1963,COMMON2:2009},Bve=null,$ve={GAME_BANNER:1,WEAPP_BANNER:2,WEAPP_VIDEO:4},Fve="ffffffff3x",jve=100,Wve=(e,t)=>({idKey:e,idKeyGroup:t}),Vve=e=>Wve(e,Nve.COMMON),Uve=Vve(142),zve=Vve(141),qve=Vve(140),Hve=Vve(145),Gve=Vve(146),Kve=Vve(144),Jve=Vve(143),Xve=1,Yve={},Qve=1,Zve=1,eme="aiad",tme={banner:"8040321819858439",rewardedVideoAd:"1030436212907001",interstitialAd:"3030046789020061",grid:"7070083760581921",splashAd:"5060180989186180",wxAppVideo:"5010365819466098",wxAppPreVideoAd:"7090665964306299",customAd:"4071202390577885",cpsShopAd:"4021337766924141",wxpayBottom:"1024740886829562",wxpayCard:"8054749846134397",aiadCustom:"4071202390577885",aiadBanner:"8040321819858439"},rme={},nme="ffffffff3x",ime=[],ame={},ome="pages/index/index",sme="/homeIntersitialCache.txt",lme="wxfile://ad",cme=(e={})=>{e.lastModifyTime=Date.now();var t=()=>{Lve.writeFile({filePath:lme+sme,encoding:"utf8",data:JSON.stringify(e)})};Lve.access({path:lme,success:()=>{t()},fail:()=>{Lve.mkdir({dirPath:lme,success:()=>{t()}})}})},ume=()=>{var e,t,r=null,n=Number(null!==(e=null===(t=re.expt)||void 0===t?void 0:t.clicfg_appbrand_ios_android_aiad_interstitial_cache_time)&&void 0!==e?e:0);try{var i=Lve.readFileSync(lme+sme,"utf8"),a=JSON.parse(i);Date.now()-a.lastModifyTime<n&&(delete a.lastModifyTime,r=a)}catch(e){}return r},dme=()=>{var e,t,r,n,i=[];if((null==re||null===(e=re.expt)||void 0===e||null===(t=e.clicfg_miniprogram_operatewxdata_use_quic)||void 0===t?void 0:t.groupid)>0){var a,o=null==re||null===(a=re.expt)||void 0===a?void 0:a.clicfg_miniprogram_operatewxdata_use_quic;i.push({exptid:o.exptid,groupid:o.groupid,name:o.name,value:o.value})}if((null==re||null===(r=re.expt)||void 0===r||null===(n=r.clicfg_miniprogram_adreport_use_kv)||void 0===n?void 0:n.groupid)>0){var s,l=null==re||null===(s=re.expt)||void 0===s?void 0:s.clicfg_miniprogram_adreport_use_kv;i.push({exptid:l.exptid,groupid:l.groupid,name:l.name,value:l.value})}return i},pme=(e,t,r=!1)=>{if(r)if("banner"===e){for(var n in Sme)if(n.startsWith("banner-aiad"))return n;for(var i of wme)if(i.startsWith("banner-aiad"))return i}else if("custom"===e){for(var a in Sme)if(a.startsWith(`custom-aiad-${t}`))return a;for(var o of wme)if(o.startsWith(`custom-aiad-${t}`))return o}return e+"-"+eme+(t?`-${t}`:"")},hme=e=>t=>_me(t,e),fme=hme(null),gme=hme({ignoreCheck:!0}),vme,mme=e=>{vme=e},yme=e=>{if(!0===e&&(e=L.getCurrentRoutePathWithoutQuery()),e||vme){if(e.endsWith(".html")&&(e=e.slice(0,-5)),!Fme())return void 0!==$me(!0)&&_.info(`[aiad info] ad is preloaded path: ${L.getCurrentRoutePathWithoutQuery()}`),gme([{type:"interstitial",mode:"aiad",pullPath:e}]);_.info(`[aiad info] ad is preloading... path: ${L.getCurrentRoutePathWithoutQuery()}`)}else console.error("error: preload aiad interstitial no exist correct path")},bme=hme({pathSlotIndex:1,ignoreCheck:!0}),_me=(e,t)=>{var r;null!=t&&t.ignoreCheck&&(r=t.ignoreCheck);var n,i="";if(null!=t&&t.pluginId&&(i=t.pluginId),null!=t&&t.pathSlotIndex&&(n=t.pathSlotIndex),Array.isArray(e)||r||n){for(var a of e)["banner","video"].includes(a.type)&&(a.subType=a.type,a.type="custom",a.migrateCustom=!0);for(var o=0,s=e.length;o<s;o++){var l=e[o],{unitId:c,type:u}=l;if(r||-1!==["banner","custom","videoPatch","video"].indexOf(u)){if(c){if(-1!==ime.indexOf(c)){console.warn(`preloadAd已预加载过${c}这个广告单元,请勿重复调用`);continue}ime.push(c),ame[c]={...l,pluginId:i}}else if(!c&&!r&&!n){console.warn(`preloadAd item:${o} lose unitId`);continue}var d=void 0,p=void 0;r?("custom"===l.type?(p=l.adTemplId,l.realTemplId&&(d=l.realTemplId),l.migrateCustom&&(p=l.migrateBannerAdTemplId)):p=l.adTemplId,"interstitial"===l.type&&"aiad"===l.mode?Pme(l,{saveKey:"interstitial"===l.type&&"aiad"===l.mode?`${eme}-${l.pullPath}`:Zve++,type:l.type,mode:l.mode,pathSlotIndex:jve,preloadPath:l.pullPath}):Pme(l,Object.assign({},t,{saveKey:n?eme:Zve++,type:l.type,mode:l.mode,adTemplId:p,realTemplId:d}))):Pme(ame[c])}else console.warn("wx.preloadAd参数有误，请检查type类型")}}else console.warn("preloadAd参数应为数组")},wme=new Set,Sme={},Cme=["interstitial"],kme=(e,t)=>new Promise((r=>{var n=Date.now();FC({url:t.video_info.videoUrl,success(i){r(i.tempFilePath),Ove(Hve,{type:e.type,url:t.video_info.videoUrl,costtime:Date.now()-n},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})},fail(){r(""),Ove(Gve,{type:e.type,url:t.video_info.videoUrl},{aid:t.aid,traceid:t.traceid,ad_unit_id:e.unitId})}})})),Ime=function(){var e=Vp()((function*(e,t,r,n){var i,a;try{var{data:o}=t;if(!(o.advertisement_num>=1&&o.advertisement_info.length))return void Ove(zve,r===eme?{errCode:o.ret,errMsg:"no advertisement",type:r}:{errCode:o.ret,errMsg:"no advertisement",type:e.type},{ad_unit_id:e.unitId});var s,l,c=o.advertisement_info[0];if(i=c.aid,a=c.traceid,null!==(s=c.video_info)&&void 0!==s&&s.videoUrl&&""===e.pluginId){var u=yield kme(e,c);u&&(c.video_info.preloadUrl=u)}Ove(Uve,r===eme?{type:r}:{type:e.type},{ad_unit_id:e.unitId,aid:c.aid,traceid:c.traceid}),"aiad"!==(null==n?void 0:n.mode)&&"interstitial"===(null==n?void 0:n.type)?l="interstitial-"+r:(l=r?pme(e.type,n.adTemplId):e.unitId,"aiad"===(null==n?void 0:n.mode)&&"interstitial"===(null==n?void 0:n.type)&&(l+="-"+Qve++)),"aiad"===(null==n?void 0:n.mode)&&"interstitial"===(null==n?void 0:n.type)&&(Yve[l]={use:!1,path:null==n?void 0:n.preloadPath}),Sme[l]={data:JSON.stringify(o),_preloadTime:+new Date,_aid:i,_traceid:a,adTemplId:null==n?void 0:n.adTemplId,preloadPath:null==n?void 0:n.preloadPath}}catch(t){Ove(zve,{errMsg:"advertisement error",error:t instanceof Error?null==t?void 0:t.stack:t,type:e.type},{ad_unit_id:e.unitId})}}));return function(t,r,n,i){return e.apply(this,arguments)}}(),Pme=(e,t)=>{var r,n=!!t;if(r="interstitial"===(null==t?void 0:t.type)&&"aiad"===(null==t?void 0:t.mode)?t.saveKey:n?pme(t.type,t.adTemplId):e.unitId,!wme.has(r)){var i=!1;if("interstitial"===(null==t?void 0:t.type)&&"aiad"===(null==t?void 0:t.mode)&&(i=!0),wme.add(r),i){var a=t.preloadPath;Bme[a]={status:1}}return rme[r]=new Promise(((a,o)=>{Dme(e,n,t).then((o=>{Ime(e,o,n?t.saveKey:void 0,t).then((()=>{wme.delete(r),delete rme[r],a(),i&&(Bme[t.preloadPath].status=0),e.pullPath===ome&&Vh("enableCacheAiadInterstitial")&&cme(Sme["interstitial-aiad-1"])}))})).catch((e=>{_.warn("preloadAdData fetch error: ",e),wme.delete(r),delete rme[r],o(e),i&&(Bme[t.preloadPath].status=0)}))})),rme[r]}},Tme=!1,Ame=[];try{var xme=e=>{Tme=!0,Ame.forEach((t=>t(e))),Ame=[],Xw(xme)};Jw(xme)}catch{}var Eme=null,Mme=e=>{var t=Ice();t?null==e||e(t):(Tme?(Eme&&clearTimeout(Eme),Eme=setTimeout((()=>{hr("videoAdPreloadInfo",{},[ive.currentWebviewId])}),0)):Ame.push((({webviewId:e})=>{hr("videoAdPreloadInfo",{},[e||0])})),kce(e))},Rme=e=>{var{data:t}=e,{ad_unit_id:r,appid:n,orig_weapp_id:i,weapp_extra_data:a,pos_id:o,sdkInnerArgs:s={}}=t,l=s.aiadId;try{var{type:c,pluginId:u}=ame[r];if(n&&i){if(n!==u)throw new Error("appid Error From plugin");if(i!==nve.gameAppId)throw new Error("orig_weapp_id Error From plugin")}else{if(n!==nve.gameAppId)throw new Error("appid Error");if(i)throw new Error("orig_weapp_id Error")}var d=JSON.parse(a);if(d.is_ad_interval)throw new Error("is_ad_interval Error");if(d.wxa_ext)throw new Error("wxa_ext Error");if("banner"===c&&-1===[tme.banner,void 0,""].indexOf(o))throw new Error("pos_id Error");if("custom"===c&&o!==tme.customAd)throw new Error("pos_id Error");if("videoPatch"===c&&o!==tme.wxAppPreVideoAd)throw new Error("pos_id Error");if("video"===c&&o!==tme.wxAppVideo)throw new Error("pos_id Error")}catch(t){var p,h;if(!l)return null===(p=e.fail)||void 0===p||p.call(e,{errMsg:"getAdData: fail invalid aiad"}),void Ove(Kve,{type:null===(h=ame[r])||void 0===h?void 0:h.type,error:t instanceof Error?t.message:t},{ad_unit_id:r})}var f=pme("custom",s.adTemplId,!0),g=pme("banner",void 0,!0);if(Sme[r]){var v,m,y,b;if(Date.now()-Sme[r]._preloadTime>6e5)null===(v=e.fail)||void 0===v||v.call(e,{errMsg:"getAdData: fail timeout"}),Ove(Kve,{type:null===(m=ame[r])||void 0===m?void 0:m.type,error:"time more than 10m"},{ad_unit_id:r});else null===(y=e.success)||void 0===y||y.call(e,{data:Sme[r],errMsg:"getAdData: ok from preload"}),Ove(Jve,{type:null===(b=ame[r])||void 0===b?void 0:b.type},{ad_unit_id:r,aid:Sme[r]._aid,traceid:Sme[r]._traceid});delete Sme[r]}else if(l&&1===s.type&&Sme[g]||l&&2===s.type&&Sme[f]){var w=1===s.type?Sme[g]:Sme[f];if(Date.now()-(null==w?void 0:w._preloadTime)>6e5){var S;null===(S=e.fail)||void 0===S||S.call(e,{errMsg:"getAdData: fail timeout"}),Ove(Kve,{type:eme,error:"time more than 10m"},{ad_unit_id:r})}else{var C,k=1===s.type?Sme[g]:Sme[f];k.isValidPreload=1,_.info("[aiad info] pull ad from preload"),null===(C=e.success)||void 0===C||C.call(e,{data:k,errMsg:"getAdData: ok from preload"}),Ove(Jve,{type:eme},{ad_unit_id:r,aid:k._aid,traceid:k._traceid})}1===s.type&&Sme[g]&&delete Sme[g],2===s.type&&Sme[f]&&delete Sme[f]}else{var I,P,T;if(l&&2===s.type&&wme.has(f)||l&&1===s.type&&wme.has(g))I=1===s.type?g:f,rme[I].then((()=>{var t,r,n=Sme[I];n?(_.info("[aiad info] pull ad from preload"),null===(t=e.success)||void 0===t||t.call(e,{data:n,errMsg:"getAdData: ok from preload",preloadStatus:2})):null===(r=e.fail)||void 0===r||r.call(e,{errMsg:"getAdData: fail fetch error"})}));else null===(P=e.fail)||void 0===P||P.call(e,{errMsg:"getAdData: fail no preload data"}),Ove(Kve,{type:null===(T=ame[r])||void 0===T?void 0:T.type,error:"has no preload data"},{ad_unit_id:r})}-1===ime.indexOf(r)||wme.has(r)||setTimeout((()=>{Pme(ame[r])}),1e3)},Dme=(e,t=!1,r=void 0)=>new Promise(((n,i)=>{var a;(a=null!=r&&r.pathSlotIndex?(null==r?void 0:r.preloadPath)||L.getCurrentRoutePathWithoutQuery():(null==r?void 0:r.preloadPath)||ive.weappPath).endsWith(".html")&&(a=a.slice(0,-5)),Mme((o=>{var s,l,c,u,d={pos_id:"",ad_unit_id:e.unitId,scene_type:o.scene_type,weapp_path:a,user_agent:o.ua,sdk_version:nve.SDKVersion,weapp_extra_data:JSON.stringify({wxa_start_ts:nve.startTime.valueOf(),wxa_enter_ts:ive.enterForegroundTime.valueOf(),start_ts:nve.startTime.valueOf(),enter_ts:ive.enterForegroundTime.valueOf(),user_duration:ive.gameDuration+(Date.now()-ive.enterForegroundTime.getTime()),machine_type:nve.model,is_ad_interval:!1,wxa_ext:"",env:null===(s=re.host)||void 0===s?void 0:s.env,app_appid:null===(l=re.host)||void 0===l?void 0:l.appId,host_version:null===(c=re.host)||void 0===c?void 0:c.version,local_wechat_version:null===(u=re.host)||void 0===u?void 0:u.localWeChatVersion,wxa_fetch_ads_ts:Date.now()}),ext_slot_custom_comm:""};e.pluginId?(d.appid=e.pluginId,d.orig_weapp_id=nve.gameAppId):(d.appid=nve.gameAppId,d.orig_weapp_id="");var p={is_ad_preload:1};if("custom"===e.type?(d.pos_id=tme.customAd,p.is_adunit_tmpl=!0):"banner"===e.type?(d.pos_id=tme.banner,Number(e.adIntervals)>0&&(p.refresh_time=String(e.adIntervals))):"videoPatch"===e.type?d.pos_id=tme.wxAppPreVideoAd:"video"===e.type?d.pos_id=tme.wxAppVideo:"wxpay"===e.type&&(e.hasWxPayCustomCard?d.pos_id=`${tme.wxpayBottom}`:d.pos_id=`${tme.wxpayBottom}|${tme.wxpayCard}`,d.ad_unit_id=""),e.subType)if("skitBottom"===e.subType)p.is_skit=1,p.skit_ad_type=1002;else if("skitFeeds"===e.subType)p.is_skit=1,p.skit_ad_type=1001;else if(["banner","video"].includes(e.subType)){var h;"banner"===e.subType?h=$ve.WEAPP_BANNER:"video"===e.subType&&(h=$ve.WEAPP_VIDEO),p.ad_raw_type=h}if(Fe()&&(p.in_3rd_app=1),p.machine_brand=nve.brand||(null==re?void 0:re.brand),t&&(d.ad_unit_id=void 0,d.pos_id=tme.interstitialAd,p.request_type=1),null!=r&&r.pathSlotIndex){if(d.ad_unit_id=nme,"interstitial"===e.type);else if("custom"===e.type){d.pos_id=tme.aiadCustom;var f=r.adTemplId;r.realTemplId&&(f=r.realTemplId),p.ad_templ_id=f}else d.pos_id=tme.aiadBanner;p.path_slot_index=r.pathSlotIndex}var g=dme();g&&g.length&&(p.weapp_expt_ctx=g),d.ext_slot_custom_comm=JSON.stringify(p),tx({sdkApiName:"webapi_getadvert",apiName:"webapi_getadvert",reqData:d,success:e=>{n(e)},fail:t=>{_.warn("webapi_getadvert err: ",t),Ove(qve,{error:t,type:e.type},{ad_unit_id:e.unitId,slotid:d.pos_id}),i(t)},complete:()=>{}})}))})),Ome=()=>{var e={};return Object.keys(Sme).forEach((t=>{"string"!=typeof t||Cme.includes(t)||(e[t]=Sme[t])})),Object.keys(e).forEach((e=>{delete Sme[e]})),e},Lme=(e=!1)=>{var t=[];if(e){var r=ume(),n=L.getCurrentRoutePathWithoutQuery();if(r&&n===ome&&Vh("enableCacheAiadInterstitial"))t.push(r);else{var i=Object.keys(Yve),a=!1;for(var o of i){var s=Yve[o],l=L.getCurrentRoutePathWithoutQuery();if(l.endsWith(".html")&&(l=l.slice(0,-5)),s.path===l&&!s.use){a=o;break}}if(a)delete Yve[a];else{var c=Object.keys(Yve),u=!1;for(var d of c){var p=Yve[d],h=L.getCurrentRoutePathWithoutQuery();if(p.path===h&&!p.use){u=d;break}}u?delete Yve[u]:u=c[0],Sme[u]&&(t.push(Sme[u]),delete Sme[u])}}}else for(var f=1;f<=Zve;f++){var g="interstitial-"+f;t.push(Sme[g]),delete Sme[g]}return t},Nme=()=>ime,Bme={},$me=(e=!1)=>{var t=L.getCurrentRoutePathWithoutQuery();return t.endsWith(".html")&&(t=t.slice(0,-5)),Bme[t]?Bme[t].status:e?void 0:0},Fme=()=>{var e=L.getCurrentRoutePathWithoutQuery();return e.endsWith(".html")&&(e=e.slice(0,-5)),rme[`${eme}-${e}`]},jme=()=>{try{if(We())return"";var e=Vh("aiadEnablePreviewInterstitialAd"),t="";return(t=L.getCurrentRoutePathWithoutQuery()).endsWith(".html")&&e&&(t=t.slice(0,-5)),t}catch(e){}},Wme,Vme,Ume,zme={},qme=(e={})=>{var{eventid:t,src:r,ended:n,reason:i=""}=e;if(!Wme){var a,o,s,l=null==re||null===(a=re.appContactInfo)||void 0===a||null===(o=a.operationInfo)||void 0===o||null===(s=o.jsonInfo)||void 0===s?void 0:s.vod_config;null!=l&&l.domain_pattern&&null!=l&&l.trace_secret&&(Wme=new RegExp(null==l?void 0:l.domain_pattern))}if(Wme&&Wme.test(r)){var c,u=parseInt(Date.now()/1e3,10);if(1===Vme&&1===t&&r===Ume)return;Vme=t,Ume=r;var d=su.rawPath.indexOf("?"),p=0;zme[r]&&(p=u-zme[r]),n?delete zme[r]:zme[r]=u;var h=pw(),f={eventid:t,src:r,play_time:p,appversion:null==re||null===(c=re.appContactInfo)||void 0===c?void 0:c.user_version,app_timestamp:u,scene_note:su.sceneNote,page_path:su.lastRoute,query:d>=0?su.rawPath.slice(d):"",networktype:ag(),publiclib_version:Mu(),session_id:yh().sessionId||yh().sessionid,reason:i,osname:h.platform||"",osversion:h.system||"",devicemodel:h.model||"",devicebrand:h.brand||""};tx({apiName:"webapi_wxa_dramaplayreport",sdkApiName:"shortTVReport",reqData:f,success:e=>{},fail:e=>{}})}},Hme=(e={})=>{var t,r=su.rawPath.indexOf("?"),n=pw(),i={eventid:4,src:e.src,play_time:0,appversion:null==re||null===(t=re.appContactInfo)||void 0===t?void 0:t.user_version,app_timestamp:parseInt(Date.now()/1e3,10),scene_note:su.sceneNote,page_path:su.lastRoute,query:r>=0?su.rawPath.slice(r):"",networktype:ag(),publiclib_version:Mu(),session_id:yh().sessionId||yh().sessionid,reason:"",osname:n.platform||"",osversion:n.system||"",devicemodel:n.model||"",devicebrand:n.brand||""};tx({apiName:"webapi_wxa_dramaplayreport",sdkApiName:"shortTVReport",reqData:i,fail:e=>{}})},Gme=new Map,Kme=new Map,Jme=(e,t)=>(!Array.isArray(t.apptype_black)||!t.apptype_black.includes(e))&&(Array.isArray(t.apptype_white)&&t.apptype_white.includes(e),!0);re.onReady((e=>{var t=e.appType;gC().then((e=>{var r,n,i=null===(r=e.data)||void 0===r?void 0:r.func_ban_conf;if(i){var{api_list:a=[]}=i;for(var o of a)Jme(t,o)&&Gme.set(o.wxapi,o)}var s=null===(n=e.data)||void 0===n?void 0:n.func_warning_conf;if(s){var{frame_api_list:l=[]}=s;for(var c of l)c.frame_api&&(Kme.set(c.frame_api,c),"App.onLaunch"===c.frame_api&&Xme({api:c.frame_api,args:c}))}}))}));var Xme=e=>{var t=Gme.get(e.api),r=Kme.get(e.api),n=e.pluginId;if(n&&"/"!==n&&"*"!==n&&(t||r)){var i=t||r,a=null==i?void 0:i.white_plugin_appid;if(a&&(a.indexOf(n)>=0||a.indexOf("*")>=0))return[!1]}if(!t){if(r){switch(r.ban_type){case 1:if(!r.modal_act)break;var{title:o,content:s,confirm_text:l="确定"}=r.modal_act;ij({title:o,content:s,confirmText:l},!0);break;case 2:if(!r.toast_act)break;var{title:c,icon:u,duration:d,mask:p}=r.toast_act;hj({title:c,icon:u,duration:d,mask:p});break;case 4:if(!r.banner_act)break;Qme(r)}return Zme(2,r),[!1]}return[!1]}switch(t.ban_type){case 1:if(!t.modal_act)break;var{title:h,content:f,confirm_text:g="确定"}=t.modal_act;ij({title:h,content:f,confirmText:g},!0);break;case 2:if(!t.toast_act)break;var{title:v,icon:m,duration:y,mask:b}=t.toast_act;hj({title:v,icon:m,duration:y,mask:b});break;case 4:if(!t.banner_act)break;Qme(t)}return Zme(1,t),[!0,"banned"]},Yme;function Qme(e){var t=e.banner_act;if(t){Yme&&(Yme.close(),Yme=null);var{content:r,background_color:n,foreground_color:i,detail_type:a,detail_url:o,detail_appid:s,detail_path:l}=t;wk(),__sclEngine__.initScl((t=>{(Yme=t.mainRoot.append("banner-toast",{content:r,backgroundColor:n,foregroundColor:i,hideVisitText:0===a})).addListener("tapToast",(()=>{if(1===a)o&&dU({url:o});else if(2===a&&s){var e={appId:s,path:l,noRelaunchIfPathUnchanged:!0};q8(e,e)}})),Yme.addListener("tapClose",(()=>{Zme(3,e)}))}))}}function Zme(e,t){var r={session_id:yh().sessionId||yh().sessionid,cur_path:su.rawPath||"",event_id:e,item_id:t.item_id||"",extra_info:{ban_item:t}};tx({sdkApiName:"webapi_wxaseceventreport",apiName:"webapi_wxaseceventreport",reqData:r})}function eye(e){Zme(e.eventId,e.banItem)}function tye(e,t,r){var n=Xme({api:e,args:r,pluginId:t});return null==n?void 0:n[0]}Jw((e=>{Yme&&"appLaunch"!==e.openType&&"autoReLaunch"!==e.openType&&setTimeout((()=>{Yme&&(Yme.close(),Yme=null)}),1e4)}));var rye={setPrivateExtraData:Qp,getCurrentRoute:Rle,getCurrentPagesPath:Dle,getRealRouteWithProtocol:Ole,videoFullScreenChange:$le,setWxInterfaceDisabled:FE,navigateTo:cE,navigateToWithRelatedInfo:uE,redirectTo:dE,switchTab:hE,navigateBack:rE,reLaunch:pE,getUserCloudStorage:Wle,getFriendCloudStorage:Ule,getGroupCloudStorage:qle,reportRecycledAPI:P8,getPassCookieString:zS,getPayCookieString:qS,getPluginInfo:ph,getPluginContactList:S8,_checkBeforeNavigateToMiniProgram:s9,getVideoAdPreloadData:Xce,getAdPreloadData:Rme,getPayAd:(...e)=>ADSDK.getPayAd(...e),shareImageMessage:Qce,getCloudFileInfo:PX,setNavigateBackInterceptionById:oV,stopNavigateBackInterceptionById:lV,checkPermission:Uh,_setWxIsInvokeInTapForNavToMiniProgramForWebview:RB,chooseAvatar:mue,showNicknameAccessory:Rue,hideNicknameAccessory:Due,getCurrentWebviewId(e){"function"==typeof e.success&&e.success({webviewId:su.currentWebviewId})},reviewNickname:Bue,_getABTestConfig:Wf,validPrivacyEmergencyScope:UQ,handleCheckPrivacy:R6,handleInvokePayCompletedPageServiceMethod:R4,getVehicleStatus:DZ,_requestSkipCheckDomain:UA,showInterceptToast:e=>uj(e,!0),showInterceptModal:e=>ij(e,!0),getPhoneNumber:Gue,reportGetPhoneNumber:Fue,consumerGetPhoneNumberForOldStyle:Uue,handleErrorForUser:JD,pxReport:e=>{var t,r={...e};delete r.success,delete r.fail,null===(t=L2.onReport)||void 0===t||t.call(L2,r),vL()},triggerCanvasCollect:H3,privacyButton:lY,getShortTVRegisterNo:vC,shortTVReport:qme,videoBannedReport:Hme,reportIntercept:eye,invokeServiceOperateWXData:ix,invokeServiceAdReportOperateWXData:Tge,getSystemInfo:Ub},nye=p.prototype.call.bind(String.prototype.startsWith),iye=(e,t,r,n,i)=>{try{if("bridge"===t)dn(e,r,(t=>{t.errMsg=t.errMsg||`${e}:ok`,-1!==t.errMsg.indexOf(`${e}:ok`)?("exitMiniProgram"===e&&g4(),i(t,!0)):i(t,!1)}));else{r.success=e=>{i(e,!0)},r.fail=e=>{i(e,!1)};var a=(()=>{if("wx"===t){if("string"==typeof n&&nye(n,"wx"))return ch(n)[e](r);var{wx:i}=eNt;return i[e](r)}return rye[e](r)})();a instanceof Promise&&a.catch((()=>{}))}}catch(t){var o={errMsg:`${e}: fail ${t.message}`};i(o,!1)}};Yr("invokeAppServiceMethod",(({name:e,type:t,args:r,callbackId:n,pluginId:i},a)=>{iye(e,t,r,i,((e,t)=>{qr("callbackAppServiceMethod",{res:e,isSuccess:t,callbackId:n},[a])}))})),Ut("onStartReportPageData",(()=>{var e=(void 0!==yr?yr.getCurrentPagesByDomain(""):[]).find((e=>e.__wxWebviewId__===su.currentWebviewId));e&&iS("getInnerHTML",{},[su.currentWebviewId],(({html:t})=>{var r;try{r=JSON.stringify({html:t,data:e.data})}catch(e){r=""}fd("reportPageData",{isUserReport:!0,pageData:r,pageRoute:e.__route__,complete(){}})}))}));var aye="getLocation",oye=(e={},t={},r)=>{var n=vd(r);VQ(["scope.userLocation"])&&(n=Cd(r),e.permissionBytes=[1,1,1]),n(aye,e,Object.assign({beforeSuccess(t){e.altitude||delete t.altitude}},t))},sye=1e4,lye={wgs84:0,gcj02:0},cye={wgs84:null,gcj02:null},uye=!1,dye=0,pye=[],hye=function(e={}){"gcj02"!==e.type&&(e.type="wgs84");var t=S6(e.type);if(t)setTimeout((()=>id(C6(t,e),aye,e,{})),100);else{var r=Date.now(),n=cye[e.type],i=lye[e.type];if(uye&&r-dye<sye)pye.push(e);else{if(r-i>=sye||!n){var a=sh(this);return uye=!0,dye=Date.now(),void oye(e,{afterSuccess(t){lye[e.type]=r,cye[e.type]=t},afterAll(){uye=!1;var e=pye;pye=[],e.forEach((e=>hye(e)))}},a)}zc({name:"getLocation",success:n.errMsg&&0===n.errMsg.indexOf("getLocation:ok"),args:e,errMsg:n.errMsg,res:n})}}},fye=function(e={}){vd(sh(this))("chooseLocation",e)},gye=function(e={}){vd(sh(this))("choosePoi",e,{beforeSuccess(e){Date.now()>=16550496e5&&(e.latitude=0,e.longitude=0)}})},vye=function(e={}){jc("openLocation",e,{latitude:1,longitude:1})&&fd("openLocation",e)},mye=nr("locationChange"),yye=mye.onMethod,bye=mye.offMethod,_ye=e=>mye.emit(e);Ut("onLocationChange",((e={})=>{_ye(e)}));var wye=nr("locationChangeError"),Sye=wye.onMethod,Cye=wye.offMethod;Ut("onLocationChangeError",((e={})=>{wye.emit(e)}));var kye=null,Iye=null,Pye=()=>{clearInterval(kye),kye=null},Tye=!1,Aye=()=>{Tye=!0,Eh((()=>{Iye&&S6()&&(kye=setInterval(Iye,1e3))})),Id((()=>{kye&&Pye()}))},xye=function(e,t,r,n,i=!1){"wgs84"!==r.type&&(r.type="gcj02"),kye&&Pye(),Iye=null;var a=S6(r.type);if(!i&&a){id({},e,r,{});var o=Iye=()=>_ye(C6(a,r));return o(),kye=setInterval(o,1e3),void(Tye||Aye())}var s=vd(sh(n));VQ(["startLocationUpdate"===e?"scope.userLocation":"scope.userLocationBackground"])&&(s=Cd(sh(n)),r.permissionBytes=[1,1,1]),s(t,r,{beforeAll(r){r.errMsg=r.errMsg.replace(t,e)}})},Eye=function(e){var t={subKey:"",enableIndoor:!1};Object.assign(t,e),xye("startLocationUpdateBackground","enableLocationUpdateBackground",t,this,!0)},Mye=function(e={}){var t={subKey:"",enableIndoor:!1,enable:!0};Object.assign(t,e),xye("startLocationUpdate","enableLocationUpdate",t,this)},Rye=function(e={}){var t="stopLocationUpdate";if(Iye=null,kye)return Pye(),id({},t,e,{});fd("disableLocationUpdate",e,{beforeAll(e){e.errMsg=e.errMsg.replace("disableLocationUpdate",t)}})},Dye=18e5,Oye={wgs84:null,gcj02:null},Lye=null,Nye="getFuzzyLocation",Bye=function(e={}){"gcj02"!==e.type&&(e.type="wgs84"),Lye&&Date.now()-Lye>Dye&&(Oye[e.type]=null);var t=Oye[e.type];if(t){var r=t.errMsg&&0===t.errMsg.indexOf(`${Nye}:ok`);zc({name:Nye,success:r,args:e,errMsg:t.errMsg,res:t})}else{var n={afterSuccess(t){Oye[e.type]=t,Lye=Date.now()}},i=S6(e.type);if(i)setTimeout((()=>id(C6(i,e),Nye,e,{})),100);else{var a=sh(this),o=vd(a);VQ(["scope.userFuzzyLocation"])&&(o=Cd(a),e.permissionBytes=[1,1,1]),o(Nye,e,n)}}},$ye=()=>{if(!re.ext)return{};try{return JSON.parse(JSON.stringify(re.ext))}catch(e){return{}}},Fye=(e={})=>{setTimeout((()=>{var t={errMsg:"getExtConfig: ok",extConfig:$ye()};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}),0)},jye=null,Wye=null,Vye=Xc(UA),Uye=Xc(Iy),zye=Xc(FC),qye=e=>new Promise((t=>kX(e,"image",(e=>t(e.data[0].url))))),Hye=(e,t)=>new Promise(((r,n)=>setTimeout((()=>n(new Error(t))),e))),Gye=function(){var e=Vp()((function*(e,t){for(var r,n=0;n<=t;)try{return yield e()}catch(e){r=e,n+=1}throw r}));return function(t,r){return e.apply(this,arguments)}}();function Kye(e){return Jye.apply(this,arguments)}function Jye(){return Jye=Vp()((function*(e){var{imageId:t,imageUrl:r}=e,{width:n,height:i}=e;jye||(jye=Xc(Eee)),Wye||(Wye=Xc(Oee));var a,o=yield qye([r]);if(!/^http:\/\/(tmp|store|usr)\//.test(o)&&/^(http|https):\/\//.test(o)){var s=yield zye({url:o});if(404===s.statusCode)return;o=s.tempFilePath}if(/data:image\/\w+;base64,/.test(o)){var l=o.replace(/data:image\/\w+;base64,/,"");a=LP(l)}else{var{tempFilePath:c}=yield jye({src:o,quality:60,compressedWidth:224,compressHeight:224}),u=yield Wye({src:c});n=u.width,i=u.height;var{data:d}=yield Uye({filePath:c});a=d}yield Gye(Vp()((function*(){var e,r=null===(e=re.appLaunchInfo)||void 0===e?void 0:e.openId;yield Promise.race([Hye(4e3,"upload timeout"),Vye({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&scene=2&custom_str=${t}&width=${n}&height=${i}&openid=${r||""}`,method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded"},data:a})])})),2)})),Jye.apply(this,arguments)}Yr("appCardsCoverImages",function(){var e=Vp()((function*(e){var t=e.coverImageInfos;if(null!=t&&t.length)for(var r of t)try{yield Kye(r)}catch(e){}}));return function(t){return e.apply(this,arguments)}}());var Xye={},Yye={},Qye=(e,t)=>`${e}-${t}`,Zye={},ebe=.99,tbe=.998;function rbe(e,t){return e+"_"+t}function nbe(){return Ie?parseFloat((re.system||"").replace("iOS","")):0}function ibe(){return nbe()>=13}function abe(e){delete Xye[e],delete Yye[e],delete Zye[e]}function obe(e,t,r,n=!0){var i=rbe(t,e);if(n&&(void 0===Xye[i]||!0!==Xye[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a={scrollViewId:e,...r},o=Xye[i];return o&&o.fallback?qr("operateWebviewScrollView",a,[t]):fd("operateScrollView",a,{success(){}}),!0}function sbe(e,t,r,n=!0){var i=rbe(t,e);if(Xye[i]&&"skyline"===Xye[i].backend)return!1;if(n&&(void 0===Xye[i]||!0!==Xye[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a={scrollViewId:e,...r};return qr("operateWebviewScrollView",a,[t]),!0}function lbe(e,t,r,n=!0){var i=rbe(e,t);if(Xye[i]&&"skyline"===Xye[i].backend)return!1;if(n&&(void 0===Xye[i]||!0!==Xye[i].enhanced))return console.warn("此方法需要 scroll-view 开启 enhanced 属性！"),!1;var a={scrollViewId:t,...r};return qr("operateXWebScrollView",a,[e]),!0}function cbe(e,t,r){var n={scrollViewId:t,...r};return Hr("operateSkylineScrollView",n,[e]),!0}Yr("enhancedScrollViewReady",((e,t)=>{var r=rbe(t,e.scrollViewId);Xye[r]={enhanced:!0,fallback:e.fallback}})),Yr("commonScrollViewReady",((e,t)=>{var r=rbe(t,e.scrollViewId);Xye[r]||(Xye[r]={enhanced:!1,backend:e.backend||"webview"});var n=Yye[r];n&&"function"==typeof n&&(n(),delete Yye[r]),SE(t,(()=>{abe(r)}),"ScrollViewContext")})),Yr("commonScrollViewDestroyed",((e,t)=>{abe(rbe(t,e.scrollViewId))})),Yr("enhancedScrollViewSubscribeEvent",((e,t)=>{Ie&&!ibe()||(e.subscribe?obe(e.scrollViewId,t,{registerDelegate:!0}):obe(e.scrollViewId,t,{removeDelegate:!0}))}));class ube{constructor(e,t){this.id=e,this.webviewId=t,this._scrollEnabled=!0,this._bounces=!0,this._showScrollbar=!0,this._pagingEnabled=!1,this._fastDeceleration=!1,this._decelerationDisabled=!1}holdPosition(){cbe(this.webviewId,this.id,{method:"holdPosition",args:{}})}triggerRefresh(e){var t,r=ct(e.duration)?e.duration:300,n=null!==(t=e.easingFunction)&&void 0!==t?t:"ease";cbe(this.webviewId,this.id,{method:"requestRefresherRefresh",args:{open:!0,duration:r,easingFunction:n}})}closeRefresh(){cbe(this.webviewId,this.id,{method:"requestRefresherRefresh",args:{open:!1,duration:0,easingFunction:""}})}triggerTwoLevel(e){var t,r=ct(e.duration)?e.duration:500,n=null!==(t=e.easingFunction)&&void 0!==t?t:"ease";cbe(this.webviewId,this.id,{method:"requestRefresherTwoLevel",args:{open:!0,duration:r,easingFunction:n}})}closeTwoLevel(e){var t,r=ct(e.duration)?e.duration:500,n=null!==(t=e.easingFunction)&&void 0!==t?t:"ease";cbe(this.webviewId,this.id,{method:"requestRefresherTwoLevel",args:{open:!1,duration:r,easingFunction:n}})}_scrollIntoView4Skyline(e,t){cbe(this.webviewId,this.id,{method:"scrollIntoView",args:{selector:e,scrollIntoViewOptions:t}})}_scrollTo4Skyline(e,t,r,n){void 0===r&&(r=500),cbe(this.webviewId,this.id,{method:"scrollTo",args:{left:e,top:t,duration:r,animated:n}})}_isSkylineMode(){var e=rbe(this.webviewId,this.id);return!!Xye[e]&&"skyline"===Xye[e].backend}}class dbe extends ube{constructor(e,t){super(e,t),this.uid=rbe(t,e),void 0!==Xye[e]&&!0===Xye[e].enhanced&&(this.scrollEnabled=!0)}get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){obe(this.id,this.webviewId,{scrollEnabled:e})&&(this._scrollEnabled=e)}get bounces(){return this._bounces}set bounces(e){obe(this.id,this.webviewId,{bounces:e})&&(this._bounces=e)}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){obe(this.id,this.webviewId,{showsVerticalScrollIndicator:e,showsHorizontalScrollIndicator:e})&&(this._showScrollbar=e)}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){obe(this.id,this.webviewId,{pagingEnabled:e})&&(this._pagingEnabled=e)}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){obe(this.id,this.webviewId,{decelerationRate:e?ebe:tbe})&&(this._fastDeceleration=e)}scrollTo({top:e,left:t,duration:r,velocity:n,animated:i}={}){var a=void 0!==t?t:0,o=void 0!==e?e:0;if(this._isSkylineMode())this._scrollTo4Skyline(a,o,r,!!i);else if(void 0===r)obe(this.id,this.webviewId,{"setContentOffset:animated":{animated:!!i,contentOffset:{x:a,y:o}}});else{if(Ie&&!ibe())return;obe(this.id,this.webviewId,{"setContentOffset:springAnimated":{contentOffset:{x:a,y:o},duration:r/1e3,delay:0,damping:1,velocity:n}})}}get decelerationDisabled(){return this._decelerationDisabled}set decelerationDisabled(e){Ie&&!ibe()||obe(this.id,this.webviewId,{customDecelerateEnabled:e})&&(this._decelerationDisabled=e)}_onReady(e){var t=Xye[this.uid],r=()=>{"function"==typeof e&&e()};t?r():Yye[this.uid]=()=>{r()}}scrollIntoView(e,t){this._isSkylineMode()?this._scrollIntoView4Skyline(e,t):sbe(this.id,this.webviewId,{scrollIntoView:e},!1)}}class pbe extends ube{constructor(e,t){super(e,t),this.uid=rbe(t,e)}get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){lbe(this.webviewId,this.id,{scrollEnabled:e})&&(this._scrollEnabled=e)}get bounces(){return this._bounces}set bounces(e){}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){lbe(this.webviewId,this.id,{showScrollbar:e})&&(this._showScrollbar=e)}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){lbe(this.webviewId,this.id,{pagingEnabled:e})&&(this._pagingEnabled=e)}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){lbe(this.webviewId,this.id,{fastDeceleration:e})&&(this._fastDeceleration=e)}scrollTo({top:e,left:t,duration:r,velocity:n,animated:i}={}){var a=void 0!==t?t:0,o=void 0!==e?e:0;this._isSkylineMode()?this._scrollTo4Skyline(a,o,r,!!i):lbe(this.webviewId,this.id,{scrollToWithAnimation:{contentOffset:{x:a,y:o},duration:r,animated:i,velocity:n}})}set decelerationDisabled(e){}get decelerationDisabled(){return this._decelerationDisabled}_onReady(e){var t=Xye[this.uid],r=()=>{"function"==typeof e&&e()};t?r():Yye[this.uid]=()=>{r()}}scrollIntoView(e,t){this._isSkylineMode()?this._scrollIntoView4Skyline(e,t):lbe(this.webviewId,this.id,{scrollIntoView:e},!1)}}class hbe extends ube{get scrollEnabled(){return this._scrollEnabled}set scrollEnabled(e){}get bounces(){return this._bounces}set bounces(e){}get showScrollbar(){return this._showScrollbar}set showScrollbar(e){}get pagingEnabled(){return this._pagingEnabled}set pagingEnabled(e){}get fastDeceleration(){return this._fastDeceleration}set fastDeceleration(e){}scrollTo({top:e,left:t,duration:r,animated:n}={}){var i=void 0!==t?t:0,a=void 0!==e?e:0;this._isSkylineMode()&&this._scrollTo4Skyline(i,a,r,!!n)}set decelerationDisabled(e){}get decelerationDisabled(){return this._decelerationDisabled}scrollIntoView(e,t){this._isSkylineMode()?this._scrollIntoView4Skyline(e,t):lbe(this.webviewId,this.id,{scrollIntoView:e},!1)}}function fbe(e){var t=su.currentWebviewId,r=Qye(t,e);return Zye[r]||(Zye[r]=Ie?new dbe(e,t):ke||Ce||xe?new pbe(e,t):new hbe(e,t)),Zye[r]}var gbe=0,vbe=1,mbe=0,ybe=3;function bbe(e){return{takeSnapshot({type:t,format:r,success:n,fail:i,complete:a}={}){n=E.surroundThirdByTryCatch(n,"at takeSnapshot callback function"),i=E.surroundThirdByTryCatch(i,"at takeSnapshot callback function"),a=E.surroundThirdByTryCatch(a,"at takeSnapshot callback function");var o=gbe,s=ybe;switch(t){case"file":default:o=gbe;break;case"arraybuffer":o=vbe}if("rgba"===r)s=mbe;else s=ybe;e.$$.takeSnapshot(o,s,(e=>{"string"==typeof e?(n({tempFilePath:e}),a({tempFilePath:e})):(n({data:e}),a({data:e}))}),(e=>{i({errMsg:e}),a({errMsg:e})}))}}}function _be(){return{takeSnapshot({type:e,format:t,success:r,fail:n,complete:i}={}){n=E.surroundThirdByTryCatch(n,"at takeSnapshot callback function"),i=E.surroundThirdByTryCatch(i,"at takeSnapshot callback function");var a={errMsg:"takeSnapshot:fail webview renderer is not supported"};n(a),i(a)}}}function wbe(e){return{scrollTo(t){it(t.size)&&it(t.pixels)?console.warn("DraggableSheetContext.scrollTo parameter must contain size or pixels"):e.scrollTo(t)}}}function Sbe(){return{scrollTo(e){console.warn("DraggableSheetContext.scrollTo is not yet supported on webview render mode")}}}function Cbe(e){return{operateNativeView:(...t)=>e.operateNativeView(...t),get uniqueId(){return e.getContextId()}}}Ut("onNativeViewEvent",((e={},t)=>{qr("onNativeViewEvent",e,[t])}));var kbe=(e,t,r)=>{if(null!=e)var n=gr.requestViewInfo("selectorQuery",t,e,(t=>{r&&(gr.endViewInfoCallback(e,n),r&&r(t))}));else console.warn("An SelectorQuery call is ignored because no proper page or component is found. Please considering using `SelectorQuery.in` to specify a proper one.")},Ibe=(e,t,r,n)=>{if(e)if(Array.isArray(e))e.forEach((e=>Ibe(e,t,r,n)));else{var{contextIs:i,contextId:a,contextCanvasId:o}=e;i&&("wx-video"===i&&(e.context=l0(a,su.currentWebviewId)),"wx-live-player"===i&&(e.context=ele(a,su.currentWebviewId,n)),"wx-map"===i&&(e.context=Oie(a,su.currentWebviewId)),"wx-canvas"===i&&o&&(e.context=R3(o,t)),"wx-editor"===i&&(e.context=vle(a,su.currentWebviewId)),"wx-xr-scene"===i&&(e.context=e.__context,delete e.__context),delete e.contextIs,delete e.contextId,delete e.contextCanvasId);var{nodeIs:s,nodeId:l,nodeCanvasType:c,nodeCanvasId:u,nodeNodeId:d}=e;s&&("wx-canvas"===s&&l?r.push(A3(l,c).then((t=>{e.node=t}))):"wx-scroll-view"===s&&l?e.node=fbe(l):"wx-snapshot"===s?"function"==typeof t.getBackendElement?e.node=bbe(t):e.node=_be():"wx-native-view"===s?e.node=Cbe(t):"wx-draggable-sheet"===s&&("function"==typeof t.getBackendElement?e.node=wbe(t):e.node=Sbe()),delete e.nodeIs,delete e.nodeId,delete e.nodeCanvasId,delete e.nodeNodeId,e.node&&"function"==typeof e.node._onReady&&r.push(new Promise((t=>e.node._onReady(t)))))}};class Pbe{constructor(e,t,r,n){this._selectorQuery=e,this._component=t,this._selector=r,this._single=n}fields(e,t){return this._selectorQuery._push(this._selector,this._component,this._single,e,t),this._selectorQuery}boundingClientRect(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,rect:!0,size:!0},e),this._selectorQuery}scrollOffset(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,scrollOffset:!0},e),this._selectorQuery}context(e){return this._selectorQuery._push(this._selector,this._component,this._single,{context:!0},e),this._selectorQuery}node(e){return this._selectorQuery._push(this._selector,this._component,this._single,{node:!0},e),this._selectorQuery}ref(e){return this._selectorQuery._push(this._selector,this._component,this._single,{ref:!0},e),this._selectorQuery}}var Tbe={},Abe=e=>class{constructor(e){if(e&&e.page)this._component=this._defaultComponent=e.page,this._webviewId=this._defaultComponent.__wxWebviewId__;else{var t=yr.getCurrentPagesByDomain("");this._defaultComponent=t[t.length-1],this._component=null,this._webviewId=null}this._queue=[],this._queueCb=[]}in(e){return null===this._webviewId?(this._webviewId=e.__wxWebviewId__,this._component=e):this._webviewId!==e.__wxWebviewId__?console.error("A single SelectorQuery could not work in components in different pages. A SelectorQuery#in call has been ignored."):this._component=e,this}select(e){return new Pbe(this,this._component,e,!0)}selectAll(e){return new Pbe(this,this._component,e,!1)}selectViewport(){return new Pbe(this,0,"",!0)}_push(t,r,n,i,a){null===this._webviewId&&(this._webviewId=this._defaultComponent?this._defaultComponent.__wxWebviewId__:void 0);var o=e?"":gr.getRootNodeId(this._webviewId);this._queue.push({component:null!==r?0===r?0:r.__wxExparserNodeId__:o,selector:t,single:n,fields:i}),this._queueCb.push(a||null)}exec(t){kbe(this._webviewId,{pluginId:e,queue:this._queue},(r=>{var n=this._queueCb,i=[],a=[];r.forEach(((t,r)=>{Ibe(t,this._component,a,e),"function"==typeof n[r]&&i.push(E.surroundThirdByTryCatch((()=>{n[r].call(this,t)}),"at SelectorQuery callback function"))})),"function"==typeof t&&i.push(E.surroundThirdByTryCatch((()=>{t.call(this,r)}),"at SelectorQuery callback function")),a.length?Promise.all(a).then((()=>{i.forEach((e=>e()))})):i.forEach((e=>e()))}))}};function xbe(e,t){return Tbe[t]||(Tbe[t]=Abe(t)),new Tbe[t](e)}var Ebe=e=>`NodesRef.${e.map((e=>{switch(e){case 0:return"fields";case 1:return"boundingClientRect";case 2:return"scrollOffset";case 3:return"context";case 4:return"node";default:return"unknown"}})).join(".")}`,Mbe=e=>{var t=[];return[{fields:(r,n)=>(t.push([0,r,n]),e),boundingClientRect:r=>(t.push([1,r]),e),scrollOffset:r=>(t.push([2,r]),e),context:r=>(t.push([3,r]),e),node:r=>(t.push([4,r]),e)},e=>t.map((t=>{switch(t[0]){case 0:e.fields(t[1],t[2]);break;case 1:e.boundingClientRect(t[1]);break;case 2:e.scrollOffset(t[1]);break;case 3:e.context(t[1]);break;case 4:e.node(t[1])}return t[0]}))]},Rbe=(e,t)=>{var r,n=t,i=e,a="exparser",o=[],s=(e,t)=>{var r=[];if(o.forEach((t=>{switch(t[0]){case 0:e.in(t[1]);break;case 1:var n=e.select(t[1]),i=t[2];r=i(n);break;case 2:var a=e.selectAll(t[1]),o=t[2];r=o(a);break;case 3:var s=e.selectViewport(),l=t[1];r=l(s)}})),"glass-easel"===a){var n=setTimeout((()=>{console.warn(`检测到 ${Ebe(r)} 不能立即回调，可能由于 scroll-view 的按需加载特性，使得不在屏的节点无法立即取到节点相关信息`)}),3e3);e.exec((e=>{clearTimeout(n),"function"==typeof t&&t(e)}))}else e.exec(t)},l=e=>{var t=null==e?void 0:e.__wxWebviewId__;void 0!==t&&(a=yr.getComponentFramework(t))},c={in:e=>(o.push([0,e]),l(e),r=e,c),select(e){var[t,r]=Mbe(c);return o.push([1,e,r]),t},selectAll(e){var[t,r]=Mbe(c);return o.push([2,e,r]),t},selectViewport(){var[e,t]=Mbe(c);return o.push([3,t]),e},exec(e){if(void 0===r){var t=yr.getCurrentPagesByDomain("");r=t[t.length-1],l(r)}if("glass-easel"===a){var o=new(D.getSubContextAdapter().SelectorQuery)(r);s(o,e)}else{var c=xbe(i,n);s(c,e)}}};return c},Dbe={},Obe=e=>class{constructor(e,t){if(this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,e)this._webviewId=e.__wxWebviewId__;else{var r=yr.getCurrentPagesByDomain("");r.length&&(this._webviewId=r[r.length-1].__wxWebviewId__)}}relativeTo(e,t){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:e,margins:t}),this}relativeToViewport(e){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:null,margins:e}),this}observe(t,r){if(null!==this._observerId)throw new Error('"observe" call can be only called once in IntersectionObserver');var n,i=this._component;this._observerId=new Promise((e=>{n=e})),this._observerReqId=gr.requestViewInfo("intersection",{type:"addIntersectionObserver",pluginId:e,nodeId:i?i.__wxExparserNodeId__:gr.getRootNodeId(this._webviewId),targetSelector:t,relativeInfo:this._relativeInfo,options:this._options},this._webviewId,(e=>{this._disconnected||(e.observerId&&n(e.observerId),e.info&&r.call(this,e.info))}))}disconnect(){null===this._observerId||this._disconnected||(this._observerId.then((e=>{var t=gr.requestViewInfo("intersection",{type:"removeIntersectionObserver",observerId:e},this._webviewId,(()=>{gr.endViewInfoCallback(this._webviewId,this._observerReqId),gr.endViewInfoCallback(this._webviewId,t)}))})),this._disconnected=!0)}};function Lbe(e,t,r){return Dbe[r]||(Dbe[r]=Obe(r)),new Dbe[r](e,t)}var Nbe=(e,t,r)=>{var n=gr.requestViewInfo("matchMedia",t,e,(t=>{t.reqEnd&&gr.endViewInfoCallback(e,n),r&&(t.reqEnd||r(t))}))},Bbe={},$be=()=>class{constructor(e,t){this._component=e,this._options=t,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,this._webviewId=e.__wxWebviewId__}observe(e,t){if(null!==this._observerId)throw new Error('"observe" call can be only called once in MediaQueryObserver');this._observerId="",Nbe(this._webviewId,{type:"addMediaQueryObserver",mediaQueryCond:e},(e=>{this._disconnected||(e.observerId&&(this._observerId=e.observerId),e.info&&t.call(this,e.info))}))}disconnect(){Nbe(this._webviewId,{type:"removeMediaQueryObserver",observerId:this._observerId}),this._disconnected=!0}};function Fbe(e,t,r){return Bbe[r]||(Bbe[r]=$be()),new Bbe[r](e,t)}var jbe=()=>{var e=yr.getCurrentPagesByDomain("");return e[e.length-1]},Wbe=e=>{var t=D.getSubContextAdapter();if(e)return!(e instanceof t.ComponentCaller);var r=jbe();return void 0===r||!(r instanceof t.ComponentCaller)},Vbe=function(e){return Rbe(e,"")},Ube=function(e,t={}){if(Wbe(e))return Lbe(e,t,"");var r=D.getSubContextAdapter();return e||(e=jbe()),new r.IntersectionObserver(e,t.thresholds||[0],t.initialRatio||0,t.observeAll||!1)},zbe=function(e,t){return Wbe(e)?Fbe(e,t,""):new(D.getSubContextAdapter().MediaQueryObserver)(e)},qbe=(e={})=>{jc("triggerGettingWidgetData",e,{cacheKey:""})&&fd("triggerGettingWidgetData",e,{})},Hbe=e=>{fd("reportAction",e)},Gbe=()=>{},Kbe=()=>{},Jbe=()=>{},Xbe=(e,t)=>{if(e)if(void 0===t&&(t=1),"number"==typeof t){var r=JSON.stringify({business:"mmbizwxamonitor",name:e,value:t,timeStamp:Date.now()});fd("reportRealtimeAction",{actionData:r,noCallback:!0})}else console.error("wx.reportMonitor: 'value' argument must be a Number.");else console.error("wx.reportMonitor: require 'name' argument.")},Ybe={},Qbe={get:(e="default")=>Ybe[e],set(e,t="default"){Ybe[t]=e},clear(){Ybe={}}},Zbe=new Yt,e_e={},t_e={},r_e=e=>{Object.keys(t_e).forEach((t=>{t_e[t]===e&&delete t_e[t]}))},n_e=(e,t,r,n)=>{void 0===t_e[t]?!0!==e_e[t]?(e_e[t]=!0,fd(e,{moduleName:t,success:e=>{delete e_e[t],t_e[t]=e.loadTaskId,r(e.loadTaskId),Zbe.emit(t,e)},fail:e=>{delete e_e[t],n(e)}})):Zbe.once(t,(e=>{r(e.loadTaskId)})):r(t_e[t])},i_e=(e,t,r)=>{var n=[],i={},a=[];e.forEach((e=>{void 0!==t_e[e]?i[e]=t_e[e]:e_e[e]?a.push(new Promise((t=>{Zbe.once(e,(r=>{t({moduleName:e,taskId:r.loadTaskId})}))}))):(e_e[e]=!0,n.push(e))}));var o,s,l=Promise.resolve({});a.length&&(l=new Promise((e=>{Promise.all(a).then((t=>{var r={};t.forEach((e=>{r[e.moduleName]=e.taskId})),e(r)}))})));var c=new Promise(((e,t)=>{o=e,s=t}));n.length?fd("batchCreateLoadSubPackageTask",{moduleNameList:n,success:e=>{var t=e.loadTaskIdList||[e.loadTaskId],r={};n.forEach(((e,n)=>{var i=t[n];delete e_e[e],t_e[e]=i,Zbe.emit(e,{loadTaskId:i}),r[e]=i})),o(r)},fail:e=>{n.forEach((e=>{delete e_e[e]})),s(e)}}):o({}),Promise.all([i,l,c]).then((e=>{var r=Object.assign({},...e);t(r)})).catch((e=>{r(e)}))},a_e=new Yt,o_e=new Yt;Ut("onLoadSubPackageTaskStateChange",(e=>{"success"===e.state&&o_e.emit(e.state,e.taskId,e),a_e.emit(e.state,e.taskId,e)}));var s_e=e=>o_e.on("success",e),l_e=e=>a_e.on("success",e),c_e=e=>a_e.on("fail",e),u_e=e=>a_e.on("progressUpdate",e),d_e="__APP__",p_e="__GAME__",h_e=e=>(e.startsWith("./")&&(e=e.slice(1)),e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,-1)),e),f_e=(e,t)=>e===d_e||e===p_e?d_e:(t.forEach((t=>{e!==t.alias&&e!==t.name||(e=t.root)})),e=h_e(e),void 0===t.find((t=>h_e(t.root)===e))?null:e.endsWith(".js")?`/${e}`:`/${e}/`);function g_e(){return re.subpackages||re.subPackages||[]}function v_e(e=""){for(var t=g_e(),r=0;r<t.length;r++){var n=t[r];if(0===e.indexOf(n.root))return n}return null}function m_e(e=""){var t=v_e(e);return!!(t&&t.independent&&t.isolated)}function y_e(e){return"workers.js"===e||"/workers.js"===e}function b_e(e,t=[]){return t.some((t=>{var r;return t.root===e&&"playable"===(null==t||null===(r=t.meta)||void 0===r?void 0:r.type)}))}var __e=new WeakMap,w_e=new WeakMap,S_e={},C_e=[],k_e=new Set,I_e={},P_e=new Yt,T_e=e=>S_e[e],A_e=e=>delete S_e[e],x_e=(e,t)=>{void 0===S_e[e]?S_e[e]=[t]:S_e[e].push(t)},E_e=e=>{var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t},M_e=(e,t)=>{["success","fail","complete"].forEach((r=>{var n=r;"function"==typeof e[n]&&(e[n]=E.surroundThirdByTryCatch(e[n],`at api ${t} ${r} callback function`))}))},R_e=(e,t=!1)=>{if(!y_e(e)){"string"!=typeof e&&console.error("SubContext onSubPackageReady error: moduleName is empty"),e.endsWith(".js")||(e.endsWith("/")||(e=`${e}/`),e=`${e}game.js`);var r=Qbe.get();return Nf()&&We()&&!t&&!r?"__APP__"===e?j.getGameContext().evaluateScriptFile("game.js"):j.getGameContext().evaluateScriptFile(e):void 0}},D_e=(e,t,r,n)=>{n.errMsg=e,t&&"function"==typeof r.success?(r.success(n),delete r.success):t||"function"!=typeof r.fail||(r.fail(n),delete r.fail),"function"==typeof r.complete&&(r.complete(n),delete r.complete)},O_e=(e,t)=>{var r=T_e(e);A_e(e),r_e(e),Array.isArray(r)?r.forEach(t):(__e.delete(r),w_e.delete(r))},L_e=(e,t)=>{O_e(e,(r=>{var n=r.options,i=E_e(t);C_e.push(t.moduleName);var a=R_e(t.moduleName,t.isMonkeyTest),o=()=>{r.loaded=!0,D_e("loadSubPackage:ok",!0,n,i),k_e.forEach((r=>{r.updateTaskStatus(e,!0,t)}))};kt(a)?a.then(o):o()}))},N_e=(e,t)=>{O_e(e,(r=>{var n=r.options,i=E_e(t);D_e("loadSubpackage:fail module not found",!1,n,i),k_e.forEach((r=>{r.updateTaskStatus(e,!1,t)}))}))};l_e(((e,t)=>{T_e(e)?L_e(e,t):(Ne&&(I_e[e]=t),P_e.once("getBatchNativeTaskIdFinished",(()=>{L_e(e,t)})))})),c_e(((e,t)=>{T_e(e)?N_e(e,t):P_e.once("getBatchNativeTaskIdFinished",(()=>{N_e(e,t)}))})),u_e(((e,t)=>{var r=T_e(e);Array.isArray(r)&&r.forEach((e=>{var r=E_e(t);e.triggerProgressCallback(r)}))}));class B_e{constructor(e,t){this.options=void 0,this.taskId=void 0,this.name=void 0,this.loaded=!1,this.progressCallback=void 0,this.name=e,this.options=t;var r=new Promise((e=>{w_e.set(this,e)}));__e.set(this,r)}triggerProgressCallback(e){"function"==typeof this.progressCallback&&this.progressCallback(e)}onProgressUpdate(e){var t;"function"==typeof e&&(this.progressCallback=t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&E.surroundThirdByTryCatch(e,"at LoadTask.onProgressUpdate callback function")(t)},null===(t=__e.get(this))||void 0===t||t.then((()=>{this.taskId&&fd("listenLoadSubPackageTaskStateChange",{taskId:this.taskId,states:["progressUpdate"],noCallback:!0})})))}await({timeout:e=1e4}={}){var{waiterMode:t,name:r}=this.options,n={errMsg:"LoadTask.await:fail not support"};if(t){var i=this.taskId;fd("awaitLoadSubPackageTask",{timeout:e,loadTaskId:i,success(e){console.log("awaitLoadSubPackageTask success",e),L_e(i,{moduleName:r}),n={errno:0,errMsg:"LoadTask.await:ok"}},fail(e){console.error("awaitLoadSubPackageTask fail",e),n={errMsg:"LoadTask.await:fail"+e.errMsg}}})}else n={errMsg:"LoadTask.await:fail not waiterMode"};return n}}class $_e{constructor(e){this.options=void 0,this.tasks={},this.finished=!1,this.options=e}updateTaskStatus(e,t,r){this.finished||this.tasks[e]&&(t?this.checkAllTasksFinished()&&this.handleSuccess(r):this.handleFail(r))}checkAllTasksFinished(){return!Object.values(this.tasks).find((e=>!e.loaded))}handleSuccess(e){this.finished=!0;var t=E_e(e);D_e("batchLoadSubPackage:ok",!0,this.options,t),k_e.delete(this)}handleFail(e){this.finished=!0;var t=E_e(e);D_e("batchLoadSubPackage:fail",!1,this.options,t),k_e.delete(this)}}var F_e=e=>{var t=e.options;n_e(t.waiterMode?"createLoadSubPackageTaskForWaiter":"createLoadSubPackageTask",t.name,(t=>{e.taskId=t,x_e(t,e),Ne&&I_e[t]&&(L_e(t,I_e[t]),delete I_e[t]),w_e.get(e)(null)}),(r=>{r.errMsg?r.errMsg=r.errMsg.replace("createLoadSubPackageTask","loadSubpackage"):r.errMsg="loadSubpackage:fail module not found (no errMsg)",w_e.get(e)(null),E.surroundThirdByTryCatch(t.fail)(r),E.surroundThirdByTryCatch(t.complete)(r)}))},j_e=(e,t,r)=>{i_e(t,(t=>{var n=new $_e(r);e.forEach((e=>{e.taskId=t[e.name],x_e(e.taskId,e),n.tasks[e.taskId]=e})),k_e.add(n),P_e.emit("getBatchNativeTaskIdFinished")}),(e=>{e.errMsg?e.errMsg=e.errMsg.replace("createBatchLoadSubPackageTask","batchLoadSubpackage"):e.errMsg="batchLoadSubpackage:fail module not found",E.surroundThirdByTryCatch(r.fail)(e),E.surroundThirdByTryCatch(r.complete)(e),P_e.emit("getBatchNativeTaskIdFinished")}))},W_e=e=>{M_e(e,"loadSubPackage");var t=new B_e(e.name,e);return C_e.indexOf(e.name)>=0?D_e("loadSubpackage:ok",!0,e,{moduleName:e.name}):"__APP__"===e.name&&Ce&&Nf()&&We()?(C_e.push(e.name),R_e(e.name),D_e("loadSubpackage:ok",!0,e,{})):F_e(t),t},V_e=e=>{if(M_e(e,"batchLoadSubPackage"),Array.isArray(e.packages)){var t=[],r=e.packages.map((e=>(t.push(e.name),new B_e(e.name,e))));return t.findIndex((e=>-1===C_e.indexOf(e)))>=0?j_e(r,t,e):D_e("batchLoadSubPackage:ok",!0,e,{}),r}},U_e=(e={})=>{var t=Object.assign({},e),{name:r,packageType:n}=t;if("workers"===n)t.name="/workers.js";else{if(!jc("loadSubPackage",t,{name:""}))return;if(y_e(r))return void Vc("loadSubpackage",t,'argument "name" cannot be "workers.js"');var i=re.subPackages||re.subpackages;if(!i)return void Vc("loadSubpackage",t,"Your subpackages configuration is invalid.");var a=f_e(r,i);if(null===a)return void Vc("loadSubpackage",t,`SubPackage with root "${t.name}" does not exist.`);if(t.name=a,b_e(t.name,i))return void Vc("loadSubpackage",t,"cannot load playable ad package.")}try{return W_e(t)}catch(e){return void Vc("loadSubpackage",t,e.message)}},z_e={};function q_e(){return new Promise(((e,t)=>{var r=ag();r?e(r):eg({success(r){r.networkType?e(r.networkType):t(new Error("get network type failed."))},fail:t})}))}function H_e(){return G_e.apply(this,arguments)}function G_e(){return G_e=Vp()((function*(e={}){if(!Array.isArray(e.packages))throw new Error("packages must be an array.");"all"!==e.network&&(e.network="wifi"),console.info("preloadSubpackages: "+e.packages.join(", "));var t=e.packages.filter((e=>!(e in z_e)));if("all"!==e.network){var r=yield q_e();if("wifi"!==r.toLowerCase())throw new Error(`network type does not match, '${r}' !== 'wifi'`)}var n=yield Promise.all(t.map((e=>new Promise((r=>{U_e({name:e,success(){z_e[e]=!0,r(t)},fail(t){var n=new Error(t.errMsg.replace("loadSubpackage:fail",""));n.packageName=e,r(n)}})})))));if((n=n.filter((e=>e instanceof Error))).length>0){var i=new Error("preload subpackages failed.");throw i._detail=n,i}})),G_e.apply(this,arguments)}function K_e(e){return J_e.apply(this,arguments)}function J_e(){return(J_e=Vp()((function*(e){try{yield H_e(e),console.info("preloadSubpackages: success")}catch(e){e._detail?(console.group(`preloadSubpackages fail: ${e.message}`),e._detail.forEach((e=>{console.warn(`${e.packageName}: ${e.message}`)})),console.groupEnd()):console.warn(`preloadSubpackages fail: ${e.message}`)}}))).apply(this,arguments)}re.onReady((()=>{rG((({path:e})=>{if(re.preloadRule&&re.preloadRule[e])return K_e(re.preloadRule[e])}))}));var X_e="batchLoadSubpackage",Y_e=e=>{var t=Object.assign({},e);if(jc(X_e,t,{packages:[]})){var r=re.subPackages||re.subpackages;if(r){var n=[],i=[];if(t.packages.forEach((e=>{var t=f_e(e.name,r);null===t?i.push(e.name):(e.name=t,n.push(e))})),i.length>0){var a=`SubPackages with root ${i.map((e=>`"${e}"`)).join(", ")} do not exist.`;if(0===n.length)return void Vc(X_e,t,a);console.error(a)}t.packages=n;try{return V_e(t)}catch(e){return void Vc(X_e,t,e.message)}}else Vc(X_e,t,"Your subpackages configuration is invalid.")}},Q_e={},Z_e=[],ewe=new WeakMap,twe=new WeakMap,rwe=function(e){return Q_e[e]},nwe=function(e){var t=Object.assign({},e);return delete t.taskId,delete t.state,delete t.moduleName,t};l_e(((e,t)=>{var r=rwe(e);delete Q_e[e],r_e(e),Array.isArray(r)&&r.forEach(function(){var e=Vp()((function*(e){var r=t.moduleName,n=ewe.get(e),i=nwe(t);Z_e.push(r),i.errMsg="preDownloadSubpackage:ok","function"==typeof n.success&&n.success(i),"function"==typeof n.complete&&n.complete(i)}));return function(t){return e.apply(this,arguments)}}())})),c_e(((e,t)=>{var r=rwe(e);delete Q_e[e],r_e(e),Array.isArray(r)&&r.forEach((e=>{var r=ewe.get(e),n=nwe(t);n.errMsg="preDownloadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(n),"function"==typeof r.complete&&r.complete(n)}))})),u_e(((e,t)=>{var r=rwe(e);Array.isArray(r)&&r.forEach((e=>{var r=twe.get(e),n=nwe(t);"function"==typeof r&&r(n)}))}));var iwe=function(){var e=ewe.get(this),{name:t}=e;if(Z_e.indexOf(t)>=0){var r={errMsg:"preDownloadSubpackage:ok",moduleName:t};return"function"==typeof e.success&&e.success(r),void("function"==typeof e.complete&&e.complete(r))}if("__APP__"===t&&Ce&&Nf()&&We()){Z_e.push(t);var n={errMsg:"preDownloadSubpackage:ok"};return"function"==typeof e.success&&e.success(n),void("function"==typeof e.complete&&e.complete(n))}n_e("createLoadSubPackageTask",t,(e=>{void 0===Q_e[e]?Q_e[e]=[this]:Q_e[e].push(this)}),(t=>{t.errMsg?t.errMsg=t.errMsg.replace("createLoadSubPackageTask","preDownloadSubpackage"):t.errMsg="preDownloadSubpackage:fail module not found",E.surroundThirdByTryCatch(e.fail)(t),E.surroundThirdByTryCatch(e.complete)(t)}))};class awe{constructor(e){ewe.set(this,e),["success","fail","complete"].forEach((t=>{"function"==typeof e[t]&&(e[t]=E.surroundThirdByTryCatch(e[t],`at api preDownloadSubpackage ${t} callback function`))})),iwe.call(this)}onProgressUpdate(e){twe.set(this,(t=>{void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&E.surroundThirdByTryCatch(e,"at PreDownloadSubpackageTask.onProgressUpdate callback function")(t)}))}}var owe=(e={})=>{var t=Object.assign({},e),{packageType:r,name:n}=t;if("workers"===r)t.name="/workers.js";else{if(!We())return void Vc("preDownloadSubpackage",t,"invalid packageType");if(!jc("preDownloadSubpackage",t,{name:""}))return;if(y_e(n))return void Vc("preDownloadSubpackage",t,'argument "name" cannot be "workers.js"');var i=re.subPackages||re.subpackages;if(!i)return void Vc("preDownloadSubpackage",t,"Your subpackages configuration is invalid.");var a=f_e(n,i);if(null===a)return void Vc("preDownloadSubpackage",t,`SubPackage with root "${t.name}" does not exist.`);if(t.name=a,b_e(t.name,i))return void Vc("preDownloadSubpackage",t,"cannot load playable ad package.");t.packageType="normal"}try{return new awe(t)}catch(e){return void Vc("preDownloadSubpackage",t,e.message)}},swe=["short_series_goods","short_series_coin"],lwe="requestVirtualPayment",cwe=1,uwe=e=>{var t=Object.fromEntries(Object.entries(e).filter((([e])=>"success"!==e&&"fail"!==e&&"complete"!==e)));return t},dwe=(e={})=>{if(jc(lwe,e,{signature:"",signData:"",paySig:"",mode:""})){var t,{success:r,fail:n}=qc(e,"requestVirtualPayment"),i=Date.now(),a=Lt(),o=JSON.stringify(e);if(M9({invokeId:a,actionType:"invokeRequestVirtualPayment",actionStatus:o,actionTimestamp:i}),-1!==swe.indexOf(e.mode)){bj({title:"支付中...",mask:!0});var s=!0;if("string"==typeof e.signData){var l,c,u,d,p=re.accountInfo.appId,h=function(){var t=Vp()((function*(t){var{resultCode:i,resultMsg:o,innerCode:s}=t;if(0!==i){o=o.replace("requestVirtualPayment:fail",""),-15009!==i&&1138!==i||(ij({title:"提示",content:o,showCancel:!1}),o="PAY_LIMIT"),n({errMsg:`${lwe}:fail ${o}`,errno:i,errCode:i});var l=Date.now();M9({invokeId:a,actionType:"beforeCloseOrder",actionTimestamp:l}),rx({apiName:"webapi_wxa_closeiapbuyorder",sdkApiName:"wxa_closeiapbuyorder",reqData:{env:d,order_no:c,mode:e.mode,ret_code:i,inner_code:s}}).then((e=>{var t=Date.now();0===e.data.err_code?M9({invokeId:a,actionType:"afterCloseOrder",actionStatus:JSON.stringify(e),actionCost:t-l,actionTimestamp:t}):M9({invokeId:a,actionType:"afterCloseOrder",actionValue:e.data.err_code||-1,actionStatus:JSON.stringify(e),actionCost:t-l,actionTimestamp:t})})).catch((e=>{var t=Date.now();M9({invokeId:a,actionType:"afterCloseOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:t-l,actionTimestamp:t})}))}else r({})}));return function(e){return t.apply(this,arguments)}}();(-1!==e.mode.indexOf("goods")?(e=>{var r=uwe(e),n={pay_sdk_version:cwe,user_args:{sign_data:r.signData,mode:r.mode,signature:r.signature,pay_sig:r.paySig},scene_note:su.sceneNote},o=Date.now();return M9({invokeId:a,actionType:"beforeCreateItemOrder",actionStatus:JSON.stringify(n),actionCost:o-i,actionTimestamp:o}),rx({apiName:"webapi_wxa_getiapinfocreateitemorder",sdkApiName:"wxa_getiapinfocreateitemorder",reqData:n}).then((e=>{if(t=Date.now(),e.data&&0===e.data.err_code)return M9({invokeId:a,actionType:"afterCreateItemOrder",actionStatus:JSON.stringify(e.data),actionCost:t-o,actionTimestamp:t}),e.data;throw{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw t=Date.now(),M9({invokeId:a,actionType:"afterCreateItemOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:t-o,actionTimestamp:t}),e}))})(e):(e=>{var r=uwe(e),n={pay_sdk_version:cwe,user_args:{sign_data:r.signData,mode:r.mode,signature:r.signature,pay_sig:r.paySig},scene_note:su.sceneNote},o=Date.now();return M9({invokeId:a,actionType:"beforeCreateCoinOrder",actionStatus:JSON.stringify(n),actionCost:o-i,actionTimestamp:o}),rx({apiName:"webapi_wxa_getiapinfocreatecoinorder",sdkApiName:"wxa_getiapinfocreatecoinorder",reqData:n}).then((e=>{if(t=Date.now(),e.data&&0===e.data.err_code)return M9({invokeId:a,actionType:"afterCreateCoinOrder",actionStatus:JSON.stringify(e.data),actionCost:t-o,actionTimestamp:t}),e.data;throw{errMsg:e.data&&e.data.err_msg,errCode:e.data&&e.data.err_code}})).catch((e=>{throw t=Date.now(),M9({invokeId:a,actionType:"afterCreateCoinOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:t-o,actionTimestamp:t}),e}))})(e)).then((t=>{var r=t.iap_info,n=r.use_save_result;l=r.open_id,u=r.offer_id;var i=t.order_info,a={};return n&&i&&i.save_result&&(a.save_result=i.save_result),r.use_wx_proxy&&(a.use_wx_proxy=1),r.direct_channel&&(a.direct_channel="wechat"),x9.channelApiname=r.channel_apiname,a.openid=l,a.login_wx_appid=p||e.loginWXAppId,a.pf="android",a.goodstokenurl=i.url_params,c=i.order_no,a.openkey=i.iap_access_token,d=i.env,a.buy_quantity=i.buy_quantity,a.zoneid=i.zoneid,a})).then((e=>{e.offer_id=u,e.session_type="wc_actoken",e.session_id="hy_gameid";var r,n=Date.now();try{M9({invokeId:a,actionType:"invokeMidas",actionCost:n-t,actionTimestamp:n}),x9.time4=n,x9.invokeId=a;var i="goods";T9("requestVirtualPayment"),MidasSDK.getMidasPayApi()[i].destroy(),r=MidasSDK.getMidasPayApi()[i].init({env:d})}catch(e){s&&(_j(),s=!1),M9({invokeId:a,actionType:"invokeMidasFail",actionStatus:e.message,actionCost:n-t,actionTimestamp:n})}setTimeout((()=>{s&&(_j(),s=!1)}),10);var o=function(e,t){return new Promise((r=>{e.launchPay(t,(e=>{r(e)}))}))}(r,e);return o})).then(h).catch(((e={})=>{s&&(_j(),s=!1),void 0===e.errCode&&"string"==typeof e.err_code&&("0"===e.err_code?e.errCode=5:e.errCode=parseInt(e.err_code,10)),n({errMsg:`${lwe}:fail ${e.errMsg||e.message}`,errno:e.errCode,errCode:e.errCode})}))}else n({errMsg:`${lwe}:fail signData参数类型必须是string`,errno:1001,errCode:1001})}else n({errMsg:`${lwe}:fail mode错误`,errno:1e3,errCode:1e3})}},pwe=function(e={}){var t=vd(sh(this));if("number"==typeof e.maxDuration&&e.maxDuration>60){var r={errMsg:"chooseVideo:fail|maxDuration can not over 60"};return"function"==typeof e.fail&&e.fail(r),void("function"==typeof e.complete&&e.complete(r))}e.sourceType=e.sourceType||["album","camera"],e.camera=e.camera||"back","boolean"!=typeof e.compressed&&(e.compressed=!0),t("chooseVideo",e)},hwe=function(e={}){vd(sh(this))("saveVideoToPhotosAlbum",e,{})},fwe=(e={})=>{jc("getVideoInfo",e,{src:""})&&fd("getVideoInfo",e,{})},gwe=(e={})=>{jc("compressVideo",e,{src:""})&&fd("compressVideo",e,{})},vwe=Xc(FC),mwe=[],ywe=new Map,bwe=0,_we=/url\((.*)\)/i,wwe=/([^.]*)(\..*)?/i;Yr("loadedFontFace",(e=>{var{callbackId:t,errMsg:r=""}=e;if(ywe.has(t)){var n=ywe.get(t);ywe.delete(t);var{resolve:i,reject:a}=n;0===r.indexOf("loadFontFace:ok")?i():a()}}));var Swe=(e={})=>{bwe++,delete(e=Object.assign({},e)).success,delete e.fail,delete e.complete,e.callbackId=bwe;var t=new Promise(((e,t)=>{ywe.set(bwe,{resolve:e,reject:t})}));if(e.global||!1){var r=encodeURIComponent(JSON.stringify(e));mwe.indexOf(r)<0&&mwe.push(r),qr("loadFontFace",e)}else qr("loadFontFace",e,[su.currentWebviewId]);return t},Cwe=function(){var e=Vp()((function*(e={}){bwe++,delete(e=Object.assign({},e)).success,delete e.fail,delete e.complete,e.callbackId=bwe;var t=new Promise(((e,t)=>{ywe.set(bwe,{resolve:e,reject:t})}));yield Br();var r=e.global||!1;return qr("loadFontFace",e,r?[0]:[su.currentWebviewId]),t}));return function(){return e.apply(this,arguments)}}(),kwe=function(){var e=Vp()((function*(e={}){var t="",r=e.source.match(_we);r.length>=2&&(t=(t=r[1]).substring(1,t.length-1));var n=yield vwe({url:t,timeout:2e4,enableCache:!0}),i=(n.tempFilePath||"").replace(wwe,((...e)=>e[1]));uY.set(i),yield vX.addFontFace({originalSrc:e.source,src:n.tempFilePath,family:e.family,style:e.desc&&e.desc.style,weight:e.desc&&e.desc.weight,variant:e.desc&&e.desc.variant})}));return function(){return e.apply(this,arguments)}}(),Iwe=function(){var e=Vp()((function*(e={}){if(jc("loadFontFace",e,{family:"",source:""})){var t="";if(""===e.family&&(t="parameter error: family can not be empty string"),""===e.source&&(t="parameter error: source can not be empty string"),t)Vc("loadFontFace",e,t);else{_we.test(e.source)||(e.source=`url("${e.source}")`),e.scopes||(e.scopes=["webview"]),fZ({name:"loadFontFace",data:{family:e.family,source:encodeURIComponent(e.source),global:Boolean(e.global),scopes:e.scopes}});var r=[];if(e.scopes.indexOf("webview")>=0){var n=Swe(e);r.push(n)}if(e.scopes.indexOf("skyline")>=0){var i=yield Cwe(e);r.push(i)}if(e.scopes.indexOf("native")>=0){var a=kwe(e);r.push(a)}Promise.all(r).then((()=>{zc({name:"loadFontFace",args:e,success:!0,errMsg:"",res:{status:"loaded"}})})).catch((()=>{zc({name:"loadFontFace",args:e,success:!1,errMsg:"",res:{status:"error"}})}))}}}));return function(){return e.apply(this,arguments)}}(),Pwe=e=>{jc("playVoice",e,{filePath:""})&&!PZ()&&fd("playVoice",e)},Twe=e=>{fd("pauseVoice",e)},Awe=e=>{fd("stopVoice",e)},xwe=e=>{Ut("onVoicePlayEnd",E.surroundThirdByTryCatch(e,"at onVoicePlayEnd callback function"))},Ewe=new Yt,Mwe={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]};Ut("onRecorderStateChange",((e={})=>{var{state:t}=e;delete e.state,Ewe.emit(`onRecorderStateChange_${t}`,e)}));var Rwe=(e,t)=>{VQ(["scope.record"])?(e.permissionBytes=[1,1,1],Sd("operateRecorder",Object.assign({},e),t)):fd("operateRecorder",Object.assign({},e),t)},Dwe={start(e={}){var t=Object.assign({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,audioSource:"auto"},e);if(-1===Object.keys(Mwe).map((e=>parseInt(e,10))).indexOf(t.sampleRate))throw new Error(`invalid sampleRate "${t.sampleRate}", sampleRate should be one of ${JSON.stringify(Object.keys(Mwe))}`);if(t.encodeBitRate>Mwe[t.sampleRate][1]||t.encodeBitRate<Mwe[t.sampleRate][0])throw new Error(`invalid encodeBitRate "${t.encodeBitRate}", encodeBitRate should be greater than ${Mwe[t.sampleRate][0]} and less than ${Mwe[t.sampleRate][1]}`);t.operationType="start",t.fail=e=>{Ewe.emit("onRecorderStateChange_error",e)};var r=()=>{lre(void 0,"RecorderManager.start")};VQ(["scope.record"])?Rwe(t,{afterSuccess:r}):bQ("RecorderManager.start").catch((e=>{Rwe(t,{afterSuccess:r})})).then((({success:e,errMsg:n,errno:i})=>{e?Rwe(t,{afterSuccess:r}):(console.error("start:fail "+n),Ewe.emit("onRecorderStateChange_error",{errMsg:"start:fail "+n,errno:i}))}))},pause(){Rwe({operationType:"pause",fail(e){Ewe.emit("onRecorderStateChange_error",e)}})},resume(){Rwe({operationType:"resume",success(){Ewe.emit("onRecorderStateChange_resume")},fail(e){Ewe.emit("onRecorderStateChange_error",e)}})},stop(){var e=()=>Rwe({operationType:"stop",fail(e){Ewe.emit("onRecorderStateChange_error",e)}});VQ(["scope.record"])?e():bQ("RecorderManager.stop").catch((t=>{e()})).then((({success:t,errMsg:r,errno:n})=>{t?e():(console.error("stop:fail "+r),Ewe.emit("onRecorderStateChange_error",{errMsg:"stop:fail "+r,errno:n}))}))},onStart(e){Ewe.removeAllListeners("onRecorderStateChange_start"),Ewe.on("onRecorderStateChange_start",(()=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onResume(e){Ewe.removeAllListeners("onRecorderStateChange_resume"),Ewe.on("onRecorderStateChange_resume",(()=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onResume callback function")()}))},onPause(e){Ewe.removeAllListeners("onRecorderStateChange_pause"),Ewe.on("onRecorderStateChange_pause",(()=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onStop(e){Ewe.removeAllListeners("onRecorderStateChange_stop"),Ewe.on("onRecorderStateChange_stop",(t=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded(e){Ewe.removeAllListeners("onRecorderStateChange_frameRecorded"),Ewe.on("onRecorderStateChange_frameRecorded",(t=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onFrameRecorded callback function")(t)}))},onError(e){Ewe.removeAllListeners("onRecorderStateChange_error"),Ewe.on("onRecorderStateChange_error",(t=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onError callback function")(t)}))},onInterruptionBegin(e){Ewe.removeAllListeners("onRecorderStateChange_interruptionBegin"),Ewe.on("onRecorderStateChange_interruptionBegin",(t=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionBegin callback function")(t)}))},onInterruptionEnd(e){Ewe.removeAllListeners("onRecorderStateChange_interruptionEnd"),Ewe.on("onRecorderStateChange_interruptionEnd",(t=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionEnd callback function")(t)}))}};const Owe=null;var Lwe=()=>Dwe,Nwe=function(e){vd(sh(this))("startRecord",e)},Bwe=e=>{fd("stopRecord",e)},$we=new Ig("BackgroundAudioManager",!0),Fwe=!1,jwe,Wwe={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0,playbackRate:1,referrerPolicy:"",referrerPath:""};re.onReady((()=>{Vh("operateTingAudio")&&(Ie||ke)&&(Fwe=!0),Ut(Fwe?"onTingAudioNext":"onBackgroundAudioNext",(()=>{$we.emit("Next")})),Ut(Fwe?"onTingAudioPrev":"onBackgroundAudioPrev",(()=>{$we.emit("Prev")})),Ut(Fwe?"onTingAudioStateChange":"onBackgroundAudioStateChange",((e={})=>{var{state:t}=e;delete e.state,"play"===t?(Wwe.paused=!1,su.possessingBackgroundAudioPlayer=!0):"preempted"===t||"occupied"===t?(su.possessingBackgroundAudioPlayer=!1,$we.emit("Stop",e)):("pause"===t||"stop"===t)&&(Wwe.paused=!0),$we.emit(`${t[0].toUpperCase()}${t.substr(1)}`,e)}))}));var Vwe={play(){PZ()||setTimeout((()=>{Uwe({operationType:"play"})}),0)},pause(){setTimeout((()=>{Uwe({operationType:"pause"})}),0)},seek(e){if("number"!=typeof e)throw new Error("BackgroundAudioManager.seek(currentTime): unexpected type "+typeof e);PZ()||setTimeout((()=>{Uwe({currentTime:e,operationType:"seek"})}),0)},stop(){setTimeout((()=>{Uwe({operationType:"stop"})}),0)},onTimeUpdate(e){void 0===jwe&&(jwe=setInterval((()=>{var e=Wwe.currentTime;Hwe("currentTime",(()=>{"active"===su.runningStatus&&!1!==su.possessingBackgroundAudioPlayer&&this.currentTime!==e&&$we.emit("Timeupdate",this.currentTime)}))}),250)),$we.off("Timeupdate"),$we.on("Timeupdate",e)}};function Uwe(e){fd(Fwe?"operateTingAudio":"operateBackgroundAudio",e)}var zwe=["src","title","epname","singer","startTime","coverImgUrl","currentTime","duration","paused","buffered","webUrl","protocol","playbackRate","referrerPolicy","referrerPath","audioType"];zwe.forEach((e=>{Object.defineProperty(Vwe,e,{get:()=>"src"===e&&Vwe.srcCloudId?Vwe.srcCloudId:"coverImgUrl"===e&&Vwe.coverCloudId?Vwe.coverCloudId:Hwe(e),set(t){["src","title","epname","singer","coverImgUrl","startTime","webUrl","protocol","playbackRate","referrerPolicy","referrerPath","audioType"].indexOf(e)>-1&&("src"===e?kX([t],"audio",(r=>{/^(cloud):\/\//.test(t)?Vwe.srcCloudId=t:Vwe.srcCloudId="",Kwe(e,r.data[0].url)})):"coverImgUrl"===e?kX([t],"image",(r=>{/^(cloud):\/\//.test(t)?Vwe.coverCloudId=t:Vwe.coverCloudId="",Kwe(e,r.data[0].url)})):"playbackRate"===e?Kwe(e,t):"referrerPath"===e?"string"==typeof t&&t.trim().length>0&&(t=t.trim().replace(/(\?|$)/,".html$1"),Kwe(e,t)):Kwe(e,t))}})}));var qwe=["Canplay","Waiting","Error","Play","Pause","Seeking","Seeked","Ended","Stop","Next","Prev"];function Hwe(e,t){if(!1!==su.possessingBackgroundAudioPlayer){var r=Wwe[e];return fd(Fwe?"getTingAudioState":"getBackgroundAudioState",{success(n){void 0===n.paused||!0===n.paused?n.paused=!0:n.paused=!1,Wwe=Object.assign(Wwe,n),r=Wwe[e],"function"==typeof t&&t(r)},fail({errMsg:e}){_.error(`${Fwe?"getTingAudioState":"getBackgroundAudioState"} fail: ${e}`)}}),r}}qwe.forEach((e=>{Vwe[`on${e}`]=t=>{$we.off(e),$we.on(e,t)}}));var Gwe={};function Kwe(e,t){if("src"===e&&!t)throw new Error(`invalid BackgroundAudioManager.src: ${t}`);if("active"!==su.runningStatus&&!1===su.possessingBackgroundAudioPlayer||PZ())throw new Td(`Can not set BackgroundAudioManager.${e}, background audio is preempted.`);Gwe[e]=t,1===Object.keys(Gwe).length&&setTimeout((()=>{Object.assign(Wwe,Gwe),Wwe.src&&Wwe.title?(fd(Fwe?"setTingAudioState":"setBackgroundAudioState",Object.assign({},Wwe,{fail({errMsg:e}){_.error(e),$we.emit("Error",{errMsg:e.replace((Fwe?"setTingAudioState":"setBackgroundAudioState")+": fail ","")})}})),Gwe={}):Gwe={}}),0)}var Jwe=()=>Vwe,Xwe=e=>{if(!1===su.possessingBackgroundAudioPlayer){var t={errMsg:"getBackgroundAudioPlayerState: fail not playing"};"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}else fd("getMusicPlayerState",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getMusicPlayerState","getBackgroundAudioPlayerState")}})},Ywe=(e={})=>{PZ()?null==e||e.fail({errMsg:"playBackgroundAudio:can't play background audio when forced muted"}):fd("operateMusicPlayer",xd({operationType:"play"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","playBackgroundAudio")}})},Qwe=(e={})=>{fd("operateMusicPlayer",xd({operationType:"pause"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","pauseBackgroundAudio")}})},Zwe=(e={})=>{jc("seekBackgroundAudio",e,{position:1})&&fd("operateMusicPlayer",xd({operationType:"seek"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","seekBackgroundAudio")}})},eSe=(e={})=>{fd("operateMusicPlayer",xd({operationType:"stop"},e),{beforeAll:e=>{e.errMsg=e.errMsg.replace("operateMusicPlayer","stopBackgroundAudio")}})},tSe=new Yt;Ut("onMusicPlay",(()=>{su.possessingBackgroundAudioPlayer=!0,tSe.emit("onBackgroundAudioPlay")}));var rSe=e=>{tSe.removeAllListeners("onBackgroundAudioPlay"),tSe.on("onBackgroundAudioPlay",(()=>{"function"==typeof e&&E.surroundThirdByTryCatch(e,"at wx.onBackgroundAudioPlay callback function")()}))},nSe=e=>{Ut("onMusicPause",E.surroundThirdByTryCatch(e,"at onBackgroundAudioPause callback function"))},iSe=e=>{Ut("onMusicEnd",E.surroundThirdByTryCatch(e,"at onBackgroundAudioStop callback function"))},aSe=e=>{fd("getAvailableAudioSources",e)},oSe=new WeakMap;function sSe(e,t){oSe.set(this,Object.assign(oSe.get(this),{[e]:t})),this.promise.then((()=>{fd("operateAudioPlayer",{operationType:"update",containerId:oSe.get(this).containerId,[e]:t,success:e=>{},fail:e=>{}})})).catch((e=>{}))}class lSe{constructor(){oSe.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),fd("operateAudioPlayer",{operationType:"create",success:e=>{oSe.set(this,Object.assign(oSe.get(this),{containerId:e.containerId})),this.resolve(e)},fail:e=>{this.reject(e)}}),PZ()&&sSe.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{fd("operateAudioPlayer",{operationType:"start",containerId:oSe.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{fd("operateAudioPlayer",{operationType:"addTask",containerId:oSe.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{fd("operateAudioPlayer",{operationType:"delTask",containerId:oSe.get(this).containerId,taskId:e.videoDecoderId,success:e=>{t(e)},fail:e=>{r(e)}})}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{fd("operateAudioPlayer",{operationType:"stop",containerId:oSe.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}})}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{fd("operateAudioPlayer",{operationType:"remove",containerId:oSe.get(this).containerId,success:t=>{e(t)},fail:e=>{t(e)}}),oSe.delete(this)}))))}set volume(e){PZ()||sSe.call(this,"audioVolume",e)}get volume(){return oSe.get(this).audioVolume}}var cSe=()=>Vg.MediaToolKit,uSe=(e,t)=>ux(e,`MediaToolKit.${t}`),dSe=(e,t)=>cx(e,`MediaToolKit.${t}`),pSe=new WeakMap;function hSe(e,t){pSe.set(this,Object.assign(pSe.get(this),{[e]:t})),this.promise.then((()=>{cSe().audioUpdate({containerId:pSe.get(this).containerId,[e]:t},uSe((e=>{e.errCode}),"audioUpdate"))})).catch((e=>{}))}class fSe{constructor(){pSe.set(this,{}),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),cSe().audioCreate({},uSe((e=>{0===e.errCode?(pSe.set(this,Object.assign(pSe.get(this),{containerId:e.containerId})),this.resolve(e)):this.reject(e)}),"audioCreate")),PZ()&&hSe.call(this,"audioVolume",0)}start(){return this.promise.then((()=>new Promise(((e,t)=>{cSe().audioStart({containerId:pSe.get(this).containerId},uSe((r=>{0===r.errCode?e(r):t(r)}),"audioStart"))}))))}addAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{cSe().audioAddTask({containerId:pSe.get(this).containerId,taskId:e.videoDecoderId},uSe((e=>{0===e.errCode?t(e):r(e)}),"audioAddTask"))}))))}removeAudioSource(e){return this.promise.then((()=>new Promise(((t,r)=>{cSe().audioDelTask({containerId:pSe.get(this).containerId,taskId:e.videoDecoderId},uSe((e=>{0===e.errCode?t(e):r(e)}),"audioDelTask"))}))))}stop(){return this.promise.then((()=>new Promise(((e,t)=>{cSe().audioStop({containerId:pSe.get(this).containerId},uSe((r=>{0===r.errCode?e(r):t(r)}),"audioStop"))}))))}destroy(){return this.promise.then((()=>new Promise(((e,t)=>{cSe().audioRemove({containerId:pSe.get(this).containerId},uSe((r=>{0===r.errCode?e(r):t(r)}),"audioRemove")),pSe.delete(this)}))))}set volume(e){PZ()||hSe.call(this,"audioVolume",e)}get volume(){return pSe.get(this).audioVolume}}var gSe=()=>cSe()&&cSe().audioCreate?new fSe:new lSe,vSe=null,mSe=!1;Jw((()=>{mSe=!0})),rG((()=>{mSe=!1,vSe&&(bSe(vSe),vSe=null)}));var ySe=100,bSe=function(e={}){var t=vd(sh(this));e.type||(e.type="all"),void 0===e.count&&(e.count=ySe),jc("chooseMessageFile",e,{type:"",count:0})&&(e.count<=0?Vc("chooseMessageFile",e,"param count should be larger than 0."):void 0===e.extension||"[object Array]"===Object.prototype.toString.call(e.extension)?!e.extension||e.extension.length?(e.count>ySe&&(e.count=ySe),mSe?vSe=e:t("chooseMessageFile",e)):Vc("chooseMessageFile",e,"param extension should not be empty."):Vc("chooseMessageFile",e,"param extension should be Array."))},_Se=function(e={}){if(Aee("choose_media"))Vc("chooseMedia",e,"This api is temporarily unavailable");else if(void 0===e.count&&(e.count=20),jc("chooseMedia",e,{count:1})){e.count<1&&(e.count=1),e.count>20&&(e.count=20);var t=sh(this);vd(t)("chooseMedia",e,{beforeSuccess(e){var r;null!==(r=e.tempFiles)&&void 0!==r&&r.length&&kee("chooseMedia",e.tempFiles.map((e=>e.tempFilePath)),t)}})}},wSe="previewMedia",SSe=function(e={}){if(Bee(wSe))Vc(wSe,e,"no permission");else if(jc(wSe,e,{sources:[]})){var t=!1;if(e.sources=e.sources.filter((e=>!(!/^https?:\/\//.test(e.url)&&!Vh("previewImageLocal"))||(t=!0,!1))),t&&console.error("local media source is filtered due to no permission"),e.sources.length>50)Vc(wSe,e,"maximum length of sources is 50");else if(0!==e.sources.length){var r=SZ(yZ.previewMedia),n=sh(this),i=e=>"string"!=typeof n||"/"!==e[0]?e:Yd(n,e),a=JSON.parse(JSON.stringify(e.sources)),o=[],s=[];a.forEach(((e,t)=>{e.type=e.type||"image",e.index=t,e.url=e.url?uY.get(e.url)||e.url:"","image"===e.type?o.push(e):"video"===e.type&&s.push(e)}));var l=o.map((e=>e.url||"")).map((e=>i(e))),c=s.map((e=>e.url||"")).map((e=>i(e)));kX(l,"image",(t=>{var n=t.data.map((e=>e.url));kX(c,"video",(t=>{var i=t.data.map((e=>e.url));n.forEach(((e,t)=>{var r=o[t].index;a[r].url=e})),i.forEach(((e,t)=>{var r=s[t].index;a[r].url=e}));var l=Object.assign({current:0},e,{sources:a});r?CZ(yZ.previewMedia,wSe,l):fd(wSe,l),mZ(wSe,{sources:l.sources||[]},!1,r)}))}))}else Vc(wSe,e,"length of sources is 0")}},CSe=(e={})=>{fd("voiceSplitJoint",e)},kSe=(e={})=>{fd("uploadSilkVoice",e)},ISe=(e={})=>{fd("downloadSilkVoice",e)},PSe=(e={})=>{fd("getResPath",e)},TSe=(e={})=>{fd("setResPath",e)},ASe=(e={})=>{fd("chooseMultiMedia",e)},xSe=Object.assign,ESe=new WeakMap,MSe=new WeakMap;function RSe(e,t){return e.map((e=>"video"===e.kind?new LSe(e.trackId,e.duration,t):"audio"===e.kind?new OSe(e.trackId,e.duration,t):null))}class DSe{constructor(e,t=0,r){this.id=e,this.duration=t,this.mediaContainer=r}appendFrom(e){if(!(e instanceof DSe))throw new Error("Parameter 1 should be a MediaTrack");ESe.get(this.mediaContainer).then((()=>{fd("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,appendFrom:e.id,fail:Kd((e=>{throw new Error(`fail to append. errMsg: ${e.errMsg}`)}),"at MediaTrack.appendFrom method")})}))}slice(e,t){var r=[];if("number"==typeof e){if("number"!=typeof t)throw new Error("Parameter 2 should be a number.");r.push([e,t])}else r=e;ESe.get(this.mediaContainer).then((()=>{fd("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,slice:r,fail:Kd((e=>{throw new Error(`fail to slice. errMsg: ${e.errMsg}`)}),"at MediaTrack.slice method")})}))}}class OSe extends DSe{constructor(e,t,r){super(e,t,r),this.kind="audio"}set volume(e){if(!(e>=0&&e<=1))throw new Error("Parameter 1 out of range.");ESe.get(this.mediaContainer).then((()=>{fd("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,volume:e,fail:Kd((e=>{throw new Error(`fail to set volume. errMsg: ${e.errMsg}`)}),"at MediaTrack.volume setter")})}))}set atempo(e){if(!(e>=0&&e<=10))throw new Error("Parameter 1 out of range.");ESe.get(this.mediaContainer).then((()=>{fd("operateMediaTrack",{operationType:"update",containerId:this.mediaContainer.id,trackId:this.id,atempo:e,fail:Kd((e=>{throw new Error(`fail to set atempo. errMsg: ${e.errMsg}`)}),"at MediaTrack.atempo setter")})}))}}class LSe extends DSe{constructor(e,t,r){super(e,t,r),this.kind="video"}}class NSe{constructor(){var e=new Promise((e=>{fd("operateMediaContainer",{operationType:"create",success:t=>{this.id=t.containerId,e()},fail:Kd((e=>{throw new Error(`fail to createMediaContainer. errMsg: ${e.errMsg}`)}),"at createMediaContainer function")})}));ESe.set(this,e)}extractDataSource(e={}){jc("createMediaContainer.extractDataSource",e,{source:""})&&ESe.get(this).then((()=>{fd("operateMediaTrack",xSe(e,{operationType:"get",containerId:this.id}),{beforeSuccess:e=>{e.errMsg=e.errMsg.replace("operateMediaTrack","extractDataSource"),e.tracks=RSe(e.tracks,this)},beforeFail(e){e.errMsg=e.errMsg.replace("operateMediaTrack","extractDataSource")}})}))}addTrack(e){if(!(e instanceof DSe))throw new Error("Parameter 1 should be a MediaTrack");if("video"===e.kind){if(MSe.get(this))throw new Error("Only can be added one video track.");MSe.set(this,!0)}ESe.get(this).then((()=>{fd("operateMediaTrack",{operationType:"create",containerId:this.id,trackId:e.id,fail:Kd((e=>{throw new Error(`fail to addTrack. errMsg: ${e.errMsg}`)}),"at createMediaContainer.addTrack function")})}))}removeTrack(e){if(!(e instanceof DSe))throw new Error("Parameter 1 should be a MediaTrack");"video"===e.kind&&MSe.set(this,!1),ESe.get(this).then((()=>{fd("operateMediaTrack",{operationType:"remove",containerId:this.id,trackId:e.id})}))}export(e={}){e.mimeType||(e.mimeType="mp4"),ESe.get(this).then((()=>{fd("operateMediaContainer",xSe(e,{operationType:"export",containerId:this.id}))}))}destroy(){ESe.get(this).then((()=>{fd("operateMediaContainer",{operationType:"remove",containerId:this.id})}))}}function BSe(){return new NSe}var $Se=new Xt,FSe=new WeakMap,jSe=new WeakMap;Ut("onCanvasPlayerStateChange",(e=>{var t=e.state;"playEnd"===t?$Se.emit(e.containerId,{event:"ended",data:{}}):"buffSize"===t?$Se.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}}):"error"===t&&$Se.emit(e.containerId,{event:"error",data:{message:e.errMsg,code:e.errCode}})}));var WSe=!1;function VSe(){ke&&(WSe||(WSe=!0,cSe().addEventListener("onPlayerBuffSize",dSe((e=>{$Se.emit(e.containerId,{event:"bufferchange",data:{size:e.buffSize}})}),"onPlayerBuffSize")),cSe().addEventListener("onPlayerPlayEnd",dSe((e=>{$Se.emit(e.containerId,{event:"ended",data:{}})}),"onPlayerPlayEnd"))))}function USe(e){return zSe.apply(this,arguments)}function zSe(){return(zSe=Vp()((function*(e){var t=jSe.get(e);yield t}))).apply(this,arguments)}function qSe(e,t,r={}){return gd("operateCanvasPlayer",{...r,containerId:e.id||0,operationType:t})}function HSe(e,t,r={}){return new Promise(((n,i)=>{cSe()[t]({...r,containerId:e.id||0},uSe((e=>{if(0!==e.errCode){var r=new Error(e.errMsg||`${t} failed`);return Object.assign(r,e),void i(r)}n(e)}),t))}))}function GSe(e,t,r){var n=FSe.get(e);n&&n.emit(t,r)}class KSe{constructor(){this.id=void 0,this.width=void 0,this.height=void 0}}class JSe{constructor(){var e=this;this.id=void 0,this.width=void 0,this.height=void 0,this.buffer=void 0,this.buffId=void 0;var t=new Xt;FSe.set(this,t);var r=Vp()((function*(){if(ke){VSe();var r=yield new Promise(((e,t)=>{cSe().playerCreate({},uSe((r=>{if(0!==r.errCode){var n=new Error(r.errMsg||"create failed");return Object.assign(n,r),void t(n)}e(r)}),"playerCreate"))}));e.id=r.containerId}else{var n=yield gd("operateCanvasPlayer",{operationType:"create"});e.id=n.containerId}e.id&&$Se.on(e.id,(({event:e,data:r})=>t.emit(e,r)))}))();jSe.set(this,r)}start(e={}){var t=this;return Vp()((function*(){var r;if(yield USe(t),ke){var n=e.source;if(!e.source||!/^(http|https):\/\/.*/i.test(e.source))n=(yield gd("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath;var i=yield HSe(t,"playerStart",{filePath:n,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},i.video),t.width=r.width||0,t.height=r.height||0,t.buffer=new ArrayBuffer(t.width*t.height*4),r.video=i.video,r.audio=i.audio}else{var a=yield qSe(t,"start",{source:e.source,mode:void 0!==e.mode?e.mode:1,videoFormat:e.videoFormat||55,startStamp:e.startTime,abortAudio:e.abortAudio,abortVideo:e.abortVideo});r=Object.assign({},a.video),t.buffId=a.buffId,t.width=r.width||0,t.height=r.height||0,r.video=a.video,r.audio=a.audio}return GSe(t,"start",r),r}))()}seek(e,t="inaccurate"){var r=this;return Vp()((function*(){yield USe(r);var n="accurate"===t;return ke?yield HSe(r,"playerSeek",{seekStamp:e,seekByStamp:n}):yield qSe(r,"seek",{seekStamp:e,seekByStamp:n}),GSe(r,"seek",{position:e}),e}))()}wait(e=!1){var t=this;return Vp()((function*(){yield USe(t),ke?yield HSe(t,"playerWait",{wait:e}):yield qSe(t,"wait",{wait:e}),GSe(t,"wait",{})}))()}stop(){var e=this;return Vp()((function*(){yield USe(e),ke?yield HSe(e,"playerStop",{}):yield qSe(e,"stop",{}),GSe(e,"stop",{})}))()}remove(){var e=this;return Vp()((function*(){if(yield USe(e),e.id){$Se.removeAllListeners(e.id);var t=FSe.get(e);null==t||t.eventNames().forEach((e=>t.removeAllListeners(e)))}ke?yield HSe(e,"playerRemove",{}):yield qSe(e,"remove",{})}))()}getFrameData(){var e,t,r,n,i,a;if(ke?cSe().playerGetFrame({containerId:this.id,buffer:this.buffer},uSe((a=>{a.got&&(e=this.buffer),t=a.pts,r=a.pk_pts,n=a.dts,i=a.pk_dts}),"playerGetFrame")):fd("operateCanvasPlayer",{operationType:"getFrame",containerId:this.id,success:a=>{a.got&&(e=Zm().get(this.buffId))&&(e.__proto__=ArrayBuffer.prototype),t=a.pts,r=a.pk_pts,n=a.dts,i=a.pk_dts},fail(e){var t;a=new Error(null===(t=e.errMsg)||void 0===t?void 0:t.replace(/operateCanvasPlayer/g,"getFrameData")),Object.assign(a,e)}}),a)throw a;return e?{width:this.width,height:this.height,data:e,pts:t,pkPts:r,dts:n,pkDts:i}:null}on(e,t){var r=FSe.get(this);null==r||r.on(e,t)}off(e,t){var r=FSe.get(this);null==r||r.off(e,t)}get videoDecoderId(){return this.id}}var XSe=function(){var e=Vp()((function*(e,t,r){var n=yield e[t](r),{code:i,desc:a,...o}=n;if(i)throw new Error(a);return o}));return function(t,r,n){return e.apply(this,arguments)}}(),YSe=null,QSe=["onbufferchange","firstaudioplayed","onaudioplayback"];class ZSe{constructor(){this.id=void 0,this.width=void 0,this.height=void 0,this.currentFrame=null,this.context=new Vg.WeMedia.Context,this.player=void 0,this.reader=void 0,this.avSync=void 0,this.emitter=new Xt,this.reader=this.context.createReader(),this.avSync=this.context.createAvSync(),this.avSync.reader=this.reader,this.player=this.context.createPlayer(),this.player.avSync=this.avSync,this.player.onvideorenderer=e=>{this.currentFrame=e,e.frame&&this.emitter.emit("frame",e.frame)},this.player.onerror=e=>this.emitter.emit("error",e),this.player.onend=e=>this.emitter.emit("ended",e),this.player.onfirstvideorendered=e=>this.emitter.emit("firstvideorendered",e)}start(e){var t=this;return Vp()((function*(){var r,n,i,a,o,s=e.source;ke&&(e.source&&/^(http|https):\/\/.*/i.test(e.source)||(s=(yield gd("private_fileSystemConvert",{operationType:"getAbsolutePath",localId:e.source})).filePath));var l={abort:null!==(r=e.abortAudio)&&void 0!==r&&r},c={abort:null!==(n=e.abortVideo)&&void 0!==n&&n,expectFormat:null!==(i=e.videoFormat)&&void 0!==i?i:Vg.WeMedia.MediaFormat.kMMMediaFormatVideoRgba32};t.avSync.reader=t.reader;var{mediainfo:u}=yield XSe(t.reader,"start",{uri:s,enableHardwareAccelerated:!0,audioSetting:l,videoSetting:c}),d=Object.assign({},u.video);d.width=null===(a=u.video)||void 0===a?void 0:a.width,d.height=null===(o=u.video)||void 0===o?void 0:o.height,d.video=u.video,d.audio=u.audio,t.width=d.width||0,t.height=d.height||0;var p={};return void 0!==e.videoDataType&&(p.dataType=e.videoDataType),yield XSe(t.player,"start",{audioSetting:l,videoSetting:p}),t.emitter.emit("start",d),e.startTime&&(yield t.seek(e.startTime)),d}))()}seek(e){var t=this;return Vp()((function*(){e&&(yield XSe(t.reader,"seek",{stamp:e})),t.emitter.emit("seek",{})}))()}wait(e){var t=this;return Vp()((function*(){yield XSe(t.player,e?"pause":"resume")}))()}stop(){var e=this;return Vp()((function*(){yield XSe(e.reader,"stop"),yield XSe(e.player,"stop"),e.emitter.emit("stop",{})}))()}mute(e=!0){var t=this;return Vp()((function*(){yield XSe(t.player,"mute",e)}))()}remove(){var e=this;return Vp()((function*(){e.emitter.eventNames().forEach((t=>e.emitter.removeAllListeners(t)))}))()}getFrameData(){if(this.currentFrame){var{code:e,desc:t,frame:r}=this.currentFrame;if(this.currentFrame=null,e)throw new Error(t);return r}return null}on(e,t){QSe.includes(e)&&!this.emitter.hasListeners(e)&&(this.player[e]=t=>this.emitter.emit(e,t)),this.emitter.addListener(e,t)}off(e,t){this.emitter.removeListener(e,t),QSe.includes(e)&&!this.emitter.hasListeners(e)&&(this.player[e]=void 0)}}function eCe(e={}){return"wemedia"===e.type?new ZSe:new JSe}var tCe={File_NotExist:16013,GameRecorder_AbortWhileNotStartRecording:22403,GameRecorder_BGMNotFound:22613,GameRecorder_EditDurationOutOfLimit:22633,GameRecorder_InternalFailed:22012,GameRecorder_NoVideo:22603,GameRecorder_NotSupported:22022,GameRecorder_PauseWhileAlreadyPaused:22213,GameRecorder_PauseWhileNotStartRecording:22203,GameRecorder_ResumeWhileNotStartRecording:22303,GameRecorder_ResumeWhileRecording:22313,GameRecorder_StartBitRateInvalid:22113,GameRecorder_StartDurationInvalid:22103,GameRecorder_StartFPSInvalid:22123,GameRecorder_StartGOPInvalid:22133,GameRecorder_StartWhileAlreadyStartRecording:22143,GameRecorder_StartWhilePaused:22153,GameRecorder_StopWhileNotStartRecording:22503,GameRecorder_TimeRangeInvalid:22623,GameRecorder_TimeRangeTooShort:22643,GameRecorder_UnknownError:22002,Global_APINoAuthorization:10022,Global_APINoPermission:10012,Global_FileStorageNotEnough:10031,MediaRecorder_AbortWhileNotStartRecording:23403,MediaRecorder_BGMNotFound:23613,MediaRecorder_EditDurationOutOfLimit:23633,MediaRecorder_InternalFailed:23012,MediaRecorder_NoVideo:23603,MediaRecorder_NotSupported:23022,MediaRecorder_PauseWhileAlreadyPaused:23213,MediaRecorder_PauseWhileNotStartRecording:23203,MediaRecorder_ResumeWhileNotStartRecording:23303,MediaRecorder_ResumeWhileRecording:23313,MediaRecorder_StartBitRateInvalid:23113,MediaRecorder_StartDurationInvalid:23103,MediaRecorder_StartFPSInvalid:23123,MediaRecorder_StartGOPInvalid:23133,MediaRecorder_StartWhileAlreadyStartRecording:23143,MediaRecorder_StartWhilePaused:23153,MediaRecorder_StopWhileNotStartRecording:23503,MediaRecorder_TimeRangeInvalid:23623,MediaRecorder_TimeRangeTooShort:23643,MediaRecorder_UnknownError:23002,Network_RequestTimeout:14012,OK:0,Render_CanvasIllegalInvocation:13013,Render_FontFileInvalid:13023,Render_ImageLoadFailed:13033,Storage_NotFound:15013},rCe=e=>e.toString().endsWith(1),nCe=e=>e.toString().endsWith(2),iCe=e=>e.toString().endsWith(3),aCe=e=>{var t={101:{code:tCe.MediaRecorder_StartDurationInvalid,message:"MediaRecorder.start:fail duration invalid"},103:{code:tCe.MediaRecorder_StartWhileAlreadyStartRecording,message:"MediaRecorder.start:fail start while already start recording"},104:{code:tCe.MediaRecorder_StartWhilePaused,message:"MediaRecorder.start:fail start while paused"},106:{code:tCe.MediaRecorder_StartBitRateInvalid,message:"MediaRecorder.start:fail bitrate invalid"},107:{code:tCe.MediaRecorder_StartFPSInvalid,message:"MediaRecorder.start:fail fps invalid"},108:{code:tCe.MediaRecorder_StartGOPInvalid,message:"MediaRecorder.start:fail gop invalid"},201:{code:tCe.MediaRecorder_PauseWhileNotStartRecording,message:"MediaRecorder.pause:fail pause while not start recording"},202:{code:tCe.MediaRecorder_PauseWhileAlreadyPaused,message:"MediaRecorder.pause:fail pause while already paused"},301:{code:tCe.MediaRecorder_ResumeWhileNotStartRecording,message:"MediaRecorder.resume:fail resume while not start recording"},302:{code:tCe.MediaRecorder_ResumeWhileRecording,message:"MediaRecorder.resume:fail resume while recording"},401:{code:tCe.MediaRecorder_AbortWhileNotStartRecording,message:"MediaRecorder.abort:fail abort while not start recording"},501:{code:tCe.MediaRecorder_StopWhileNotStartRecording,message:"MediaRecorder.stop:fail stop while not start recording"},503:{code:tCe.Global_FileStorageNotEnough,message:"MediaRecorder.stop:fail file storage not enough"}};return t[e]?t[e]:[102,110,111,502,710,810].includes(e)?{code:tCe.MediaRecorder_InternalFailed,message:"MediaRecorder:fail internal failed"}:{code:tCe.MediaRecorder_UnknownError,message:"MediaRecorder:fail unknown error"}},oCe=new Yt,sCe=new WeakMap,lCe=new WeakMap,cCe=new WeakMap,uCe=new WeakSet,dCe=new WeakMap,pCe=new Map,hCe=e=>new Promise((t=>setTimeout(t,e)));function fCe(e){if(uCe.has(e))throw new Error("this mediaRecorder has been destroyed")}function gCe(e){return vCe.apply(this,arguments)}function vCe(){return vCe=Vp()((function*(e){var t=dCe.get(e);yield t})),vCe.apply(this,arguments)}function mCe(e,t={}){return new Promise(((r,n)=>{cSe()[e](t,uSe((t=>{if(t&&t.errCode&&0!==t.errCode){var i=new Error(t.errMsg||`${e} failed`);return Object.assign(i,t),void n(i)}r(t)}),e))}))}function yCe(e,t,r={}){var n=lCe.get(e),i=n.id,a=0;return(n.isOffscreenCanvas||n instanceof g0)&&(a=n._innerId),gd("operateMediaRecorder",{...r,canvasId:i,offScreenCanvasId:a,operationType:t})}Ut("onMediaRecorderStateChange",(e=>{var t=e.state,r=e.canvasId<<0;if(delete e.state,"timeUpdate"===t)oCe.emit(r,{event:"timeupdate",data:{currentTime:e.currentTime}});else if("error"===t){var n=aCe(e.errCode);oCe.emit(r,{event:"error",data:{error:n}})}}));var bCe=!1;function _Ce(){ke&&(bCe||(bCe=!0,cSe().addEventListener("onRecorderTimeUpdate",dSe((e=>{if(pCe.has(e.containerId)){var t=pCe.get(e.containerId);oCe.emit(t,{event:"timeupdate",data:{currentTime:e.stamp}})}}),"onRecorderTimeUpdate"))))}class wCe{constructor(e,t={}){var r=this;lCe.set(this,e);var n=new Yt;sCe.set(this,n),oCe.on(e.id,(({event:e,data:t})=>n.emit(e,t))),"number"==typeof t.duration?this.duration=Math.min(7200,Math.max(5,t.duration)):this.duration=7200,"number"==typeof t.videoBitsPerSecond?this.videoBitsPerSecond=Math.min(3e3,Math.max(600,t.videoBitsPerSecond)):this.videoBitsPerSecond=1e3,this.fps=t.fps||24,this.gop=t.gop||12,this.width=t.width||e.width,this.height=t.height||e.height,this.timeUpdateInterval=t.timeUpdateInterval||this.gop,this.audioPlayerId=t.audioPlayerId;var i=Vp()((function*(){if(ke){_Ce();var t=yield mCe("recorderCreate",{});r._containerId=t.containerId,pCe.set(r._containerId,e.id)}else yield yCe(r,"create",{});n.emit("create",{})}))();dCe.set(this,i)}pause(){var e=this;return Vp()((function*(){fCe(e),yield gCe(e);var t=sCe.get(e);if(ke){var r=yield mCe("recorderUpdate",{containerId:e._containerId,pause:!0});t.emit("pause",r)}else yield yCe(e,"pause",{}),t.emit("pause")}))()}resume(){var e=this;return Vp()((function*(){fCe(e),yield gCe(e);var t=sCe.get(e);if(ke){var r=yield mCe("recorderUpdate",{containerId:e._containerId,pause:!1});t.emit("resume",r)}else yield yCe(e,"resume"),t.emit("resume")}))()}start(){var e=this;return Vp()((function*(){fCe(e),yield gCe(e);var t=sCe.get(e),r=lCe.get(e),n={width:e.width,height:e.height,fps:e.fps,bitrate:e.videoBitsPerSecond,gop:e.gop,duration:e.duration,timeUpdateInterval:e.timeUpdateInterval,audioPlayerId:e.audioPlayerId,cumulativeStamp:!0};if(n.duration=Math.floor(1e3*e.duration),ke){var i=yield gd("private_fileSystemConvert",{operationType:"getWxFilePath",fileName:`${Date.now()}`,mimeType:"mp4",autoDeleteIfExists:!0});e.tempFilePath=i.localId,e._absoluteFilePath=i.filePath,n.containerId=e._containerId,n.canvasId=r._innerId||r.id,n.notifyVideoKeyFrame=!0,n.filePath=i.filePath;var a=yield mCe("recorderStart",n);t.emit("start",a)}else yield yCe(e,"start",n),t.emit("start")}))()}stop(){var e=this;return Vp()((function*(){fCe(e),yield gCe(e);var t,r=sCe.get(e);if(ke){yield mCe("recorderStop",{containerId:e._containerId});var n=yield mCe("analysis",{filePath:e._absoluteFilePath});t={duration:n.duration,tempFilePath:e.tempFilePath,fileSize:n.size}}else{var{tempFilePath:i,tempThumbPath:a,fileSize:o,duration:s}=yield yCe(e,"stop");t={tempFilePath:i,tempThumbPath:a,fileSize:o,duration:s}}return r.emit("stop",t),t}))()}requestFrame(e=(()=>{})){var t=this;return Vp()((function*(){fCe(t),yield gCe(t);var r=lCe.get(t);if(ke){var n=yield new Promise((e=>{cSe().recorderCapture({containerId:t._containerId},uSe(e,"recorderCapture"))})),i=1e3/t.fps;n.got?e():(yield hCe(i),yield t.requestFrame(e))}else r.isOffscreenCanvas&&r instanceof x0?setTimeout((()=>{e(),f.g.WeixinCanvas.recordFrame(r.id,r._innerId)})):(yield new Promise((e=>r.requestAnimationFrame(e))),e())}))()}on(e,t){"timeUpdate"===e&&(e="timeupdate"),sCe.get(this).on(e,t)}off(e,t){"timeUpdate"===e&&(e="timeupdate"),sCe.get(this).off(e,t)}destroy(){var e=this;return Vp()((function*(){fCe(e);var t=lCe.get(e);oCe.removeAllListeners(t.id);var r=sCe.get(e);r.eventNames().forEach((e=>r.removeAllListeners(e))),cCe.delete(t),uCe.add(e),ke?(yield gCe(e),pCe.delete(e._containerId),yield mCe("recorderRemove",{containerId:e._containerId})):yield yCe(e,"remove")}))()}}function SCe(e,t){if(cCe.get(e))throw new Error("Already created by the same canvas node.");if(!e||"function"!=typeof e.getContext||!e.getContext("webgl")&&!e.getContext("wgfx"))throw new Error("Cannot get webgl context from target.");var r=new wCe(e,t);return cCe.set(e,r),r}var CCe=1,kCe=300,ICe=Object.assign,PCe=(e={})=>{if(jc("openVideoEditor",e,{filePath:""})){var{title:t,filePath:r}=e,{minDuration:n,maxDuration:i}=e;n=parseInt(n,10),i=parseInt(i,10),(!n||n<CCe)&&(n=CCe),(!i||i>kCe)&&(i=kCe),fd("openVideoEditor",ICe({},e,{editType:2,editorParmas:{title:t,filePath:r,minDuration:n,maxDuration:i,toolBars:["crop"],buttonOptions:[]}}),{beforeSuccess(e){e.duration=e.duraionMs||Math.round(e.duration/1e3),e.size=e.size||e.fileSize,delete e.fileSize,delete e.chosenId,delete e.videoMD5,delete e.duraionS,delete e.duraionMs,delete e.duraionUs}})}},TCe,ACe=()=>(TCe||(TCe=kb()),TCe),xCe=e=>ACe().saveFile(e),ECe=e=>ACe().getFileInfo(e),MCe=e=>ACe().getSavedFileList(e),RCe=e=>ACe().getSavedFileInfo(e),DCe=e=>ACe().removeSavedFile(e),OCe=new Map,LCe=()=>{var e=new Map;return Ce||$e()?new Proxy(e,{get:()=>()=>{}}):e},NCe,BCe=null;function $Ce(){return NCe?Promise.resolve(NCe):BCe||(BCe=rx({sdkApiName:"getEncryptKey",apiName:"wxaapi_getwxastoragekey",reqData:{type:1}}).then((e=>{e=e.data;var{key:t,iv:r}=e,n=new Uint8Array(LP(t)),i=new Uint8Array(LP(r));return BCe=null,NCe={encryptKeyBytes:n,ivBytes:i}})).catch((e=>{throw BCe=null,e})))}var FCe=!1;function jCe(){FCe||(Ip().runTask("initAesWasm",{}),FCe=!0)}function WCe(e,t,r){return Ip().runTask("aesDecrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}function VCe(){return UCe.apply(this,arguments)}function UCe(){return UCe=Vp()((function*(e={},t,r){var{encryptEnv:n="wasm"}=e;"wasm"===n&&jCe();var i=yield r;return yield WCe(t,n,i)})),UCe.apply(this,arguments)}function zCe(e,t,r){return Ip().runTask("aesEncrypt",{data:e,encryptEnv:t,tokenInfo:{encryptKeyBytes:r.encryptKeyBytes.buffer,ivBytes:r.ivBytes.buffer}})}function qCe(e={},t){var{key:r,data:n,dataType:i,storageId:a,encryptEnv:o="wasm"}=e,{failWithMsg:s}=qc(e,"setStorage"),l=[$Ce()];"wasm"===o&&jCe(),Promise.all(l).then((([e])=>zCe(n,o,e))).then((n=>{fd(Ie?"setStorageAsync":"setStorage",{key:r,data:n,dataType:i,storageId:a,success:t=>{OCe.get(a).set(r,{data:n,dataType:i}),gt(e.success)&&e.success(t)},fail:e.fail,complete:e.complete},t)})).catch((e=>{s({msg:e.message}),_.error("encryptThenSetStorage error",e)}))}var HCe=(e,t={})=>{var{encrypt:r}=t;if(jc("setStorage",t,{key:""}))try{var{data:n,dataType:i}=Ft(t.data),a=t.key,o={key:a,data:n,dataType:i,storageId:e,success:t.success,fail:t.fail,complete:t.complete,encryptEnv:t.encryptEnv,contextId:t.contextId},s={beforeAll:e=>{e.errMsg=e.errMsg.replace("setStorageAsync","setStorage")}};if(r&&P.isSupportWXLibWorker())qCe(o,s);else{var l=OCe.get(e),c=l.get(a);if(!m.env.isMagicBrushFrameEnv&&c&&c.dataType===i&&c.data===n)zc({name:"setStorage",args:t});else fd(Ie?"setStorageAsync":"setStorage",o,{...s,beforeSuccess:()=>{l.set(a,{data:n,dataType:i})}})}}catch(e){"function"==typeof t.fail&&t.fail({errMsg:`setStorage:fail ${e.message}`}),"function"==typeof t.complete&&t.complete({errMsg:`setStorage:fail ${e.message}`})}},GCe=(e,t,r="")=>{if("string"==typeof t){var n=Ie?"setStorage":"setStorageSync",{data:i,dataType:a}=Ft(r),o=!1,s="",l=OCe.get(e),c=l.get(t);if(!c||c.dataType!==a||c.data!==i){if(fd(n,{key:t,data:i,dataType:a,storageId:e,fail(e={}){o=!0,s=e.errMsg.replace("setStorage:","setStorageSync:")}}),o)throw new Td(s);l.set(t,{data:i,dataType:a})}}else console.error(`setStorageSync:fail the first parameter should be a string instead of ${Ze(t)}`)},KCe=Yc("getStorage",Vp()((function*(e={},t){var{encrypt:r,key:n}=e,i=r&&P.isSupportWXLibWorker(),a=Ie?"getStorageAsync":"getStorage";Wc(e,{key:""});var o,s={checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found"),beforeAll:e=>{e.errMsg=e.errMsg.replace("getStorageAsync","getStorage")}},l=Object.assign({},e,{storageId:t}),c=OCe.get(t),u=i?$Ce():null;return!m.env.isMagicBrushFrameEnv&&c.has(n)?o={...c.get(n)}:(o=yield gd(a,l,s),c.set(n,{data:o.data,dataType:o.dataType})),i&&(o.data=yield VCe(e,o.data,u)),o.data=(e._stringToAnyType||Wt)(o.data,o.dataType),delete o.dataType,o}))),JCe=(e,t={})=>KCe(t,e);function XCe(e,t){var r=arguments[arguments.length-1]||{};if(tt(t)){var n,i=OCe.get(e);if(i.has(t)){var{data:a,dataType:o}=i.get(t);return(r._stringToAnyType||Wt)(a,o)}return fd(Ie?"getStorage":"getStorageSync",{key:t,storageId:e},{beforeSuccess:(e={})=>{i.set(t,{data:e.data,dataType:e.dataType}),n=(r._stringToAnyType||Wt)(e.data,e.dataType)},beforeFail:()=>{n=""},checkNeedReportFail:e=>-1===e.errMsg.indexOf("data not found")}),n}}var YCe=Yc("batchGetStorage",Vp()((function*(e={},t){Wc(e,{keyList:["1"]});var r=Object.assign({},e,{storageId:t}),n=OCe.get(t),i=yield gd("batchGetStorage",r);return Array.isArray(i.dataList)&&(i.dataList=i.dataList.map(((e,t)=>{var{data:i,dataType:a}=e;return i&&n.set(r.keyList[t],e),Wt(i,a)}))),i}))),QCe=(e,t={})=>YCe(t,e),ZCe=(e,t)=>{var r;Wc(t,["1"]);var n=OCe.get(e);return fd("batchGetStorageSync",{keyList:t,storageId:e},{beforeSuccess:(e={})=>{(r=e).dataList=e.dataList.map(((e,r)=>{var{data:i,dataType:a}=e||{};return i&&n.set(t[r],e),Wt(i,a)}))}}),r.dataList},eke=Yc("batchSetStorage",function(){var e=Vp()((function*(e,t){Wc(e,{kvList:[{key:"1"}]});var r=OCe.get(t),n={kvList:e.kvList.map((e=>{r.delete(e.key);var{data:t,dataType:n}=Ft(e.value);return{key:e.key,data:t,dataType:n}})),storageId:t,success:e.success,fail:e.fail,complete:e.complete,contextId:e.contextId};return yield gd("batchSetStorage",n)}));return function(t,r){return e.apply(this,arguments)}}()),tke=(e,t={})=>eke(t,e),rke=(e,t)=>{Wc(t,[{key:"1"}]);var r,n=OCe.get(e),i=t.map((e=>{var{data:t,dataType:r}=Ft(e.value);return n.delete(e.key),{key:e.key,data:t,dataType:r}}));return fd("batchSetStorageSync",{storageId:e,kvList:i,beforeAll(e){r=e}}),r},nke=(e,t)=>{jc("removeStorage",t,{key:""})&&(OCe.get(e).delete(t.key),fd("removeStorage",Object.assign({},t,{storageId:e})))},ike=(e,t)=>{jc("removeStorageSync",t,"")&&(OCe.get(e).delete(t),fd("removeStorageSync",{key:t,storageId:e}))},ake=(e,t)=>{OCe.get(e).clear(),fd(Ie?"clearStorageAsync":"clearStorage",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("clearStorageAsync","clearStorage")}})},oke=e=>{OCe.get(e).clear(),fd(Ie?"clearStorage":"clearStorageSync",{storageId:e})},ske=function(e){if(!Array.isArray(e))return[];var t=e.filter((e=>"string"==typeof e&&!e.startsWith("__plugins__")));return t},lke=(e,t)=>{fd("getStorageInfo",Object.assign({},t,{storageId:e}),{beforeAll:e=>{e.keys=ske(e.keys)}})},cke=e=>{var t;return fd("getStorageInfoSync",{storageId:e},{beforeAll:e=>{t=e,e.keys=ske(e.keys),delete e.errMsg}}),t},uke={setStorage:HCe,batchSetStorage:tke,setStorageSync:GCe,batchSetStorageSync:rke,getStorage:JCe,batchGetStorage:QCe,getStorageSync:XCe,batchGetStorageSync:ZCe,getStorageInfo:lke,getStorageInfoSync:cke,removeStorage:nke,removeStorageSync:ike,clearStorage:ake,clearStorageSync:oke},dke={app:0,game:0,opendata:1,singlePage:2,cache:3},pke=e=>{var t=dke[e];return OCe.has(t)||OCe.set(t,LCe()),Object.keys(uke).reduce(((e,r)=>(e[r]=(...e)=>uke[r](t,...e),e)),{})};const hke={app:pke("app"),game:pke("game"),opendata:pke("opendata"),singlePage:pke("singlePage"),cache:pke("cache")};var fke=["setStorage","batchSetStorage","getStorage","batchGetStorage","getStorageInfo","removeStorage","clearStorage"],gke={};fke.forEach((e=>{gke[e]=(t={})=>{var r=`${t.key}`;if((t=Object.assign({},t,{key:r}),r)&&r.toString().startsWith("__plugins__"))return void Vc(e,t,`invalid key "${r}"`);return hke[Df()?"singlePage":"app"][`${e}`](t)},gke[`${e}Sync`]=(t,...r)=>{var{_keyOrKeyList:n}=JSON.parse(JSON.stringify({_keyOrKeyList:t}));if((!Array.isArray(n)||!n.some((e=>e.toString().startsWith("__plugins__"))))&&(Array.isArray(n)||!n||!n.toString().startsWith("__plugins__")))return hke[Df()?"singlePage":"app"][`${e}Sync`].call(void 0,n,...r)};var t=`plugin_${e}`;gke[t]=(t={})=>{var r=`${t.key}`;return r&&(r=`__plugins__/${r}`),t=Object.assign({},t,{key:r}),hke[Df()?"singlePage":"app"][`${e}`](t)},gke[`${t}Sync`]=(t,...r)=>{var{_keyOrKeyList:n}=JSON.parse(JSON.stringify({_keyOrKeyList:t}));return n&&!Array.isArray(n)&&(n=`__plugins__/${n}`),Array.isArray(n)&&(n=n.map((e=>`__plugins__/${e}`))),hke[Df()?"singlePage":"app"][`${e}Sync`].call(void 0,n,...r)}}));const vke=gke;var mke=JSON.parse('{"ad":{"unit-id":63,"ad-intervals":63,"ad-type":63,"ad-theme":63,"bindload":63,"binderror":63,"bindclose":63,"_p":63},"ad-custom":{"unit-id":63,"ad-intervals":63,"bindload":63,"binderror":63,"_p":63},"aria-component":63,"audio":{"id":7,"src":7,"loop":7,"controls":7,"poster":7,"name":7,"author":7,"binderror":7,"bindplay":7,"bindpause":7,"bindtimeupdate":7,"bindended":7,"_p":7},"button":{"size":{"_p":63,"default":63,"mini":63},"type":{"_p":63,"primary":63,"default":63,"warn":63},"plain":63,"disabled":63,"loading":63,"form-type":{"_p":63,"submit":63,"reset":63},"open-type":{"_p":63,"contact":63,"liveActivity":63,"share":63,"getPhoneNumber":63,"getRealtimePhoneNumber":63,"getUserInfo":63,"launchApp":63,"openSetting":63,"feedback":63,"chooseAvatar":63,"agreePrivacyAuthorization":63},"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"lang":{"_p":63,"en":63,"zh_CN":63,"zh_TW":63},"session-from":63,"send-message-title":63,"send-message-path":63,"send-message-img":63,"app-parameter":63,"show-message-card":63,"phone-number-no-quota-toast":63,"bindgetuserinfo":63,"bindcontact":63,"createliveactivity":63,"bindgetphonenumber":63,"bindgetrealtimephonenumber":63,"binderror":63,"bindopensetting":63,"bindlaunchapp":63,"bindchooseavatar":63,"bindagreeprivacyauthorization":63,"_p":63},"camera":{"mode":{"_p":23,"normal":23,"scanCode":23},"resolution":{"_p":23,"low":23,"medium":23,"high":23},"device-position":{"_p":23,"front":23,"back":23},"flash":{"_p":23,"auto":23,"on":23,"off":23,"torch":23},"frame-size":{"_p":23,"small":23,"medium":23,"large":23},"bindstop":23,"binderror":23,"bindinitdone":23,"bindscancode":23,"_p":23},"canvas":{"type":63,"canvas-id":63,"disable-scroll":63,"bindtouchstart":63,"bindtouchmove":63,"bindtouchend":63,"bindtouchcancel":63,"bindlongtap":63,"binderror":63,"_p":63},"channel-live":{"feed-id":63,"finder-user-name":63,"_p":63},"channel-video":{"feed-id":63,"finder-user-name":63,"feed-token":63,"autoplay":63,"loop":63,"muted":63,"object-fit":{"_p":63,"contain":63,"fill":63,"cover":63},"binderror":63,"_p":63},"checkbox":{"value":63,"disabled":63,"checked":63,"color":63,"_p":63},"checkbox-group":{"bindchange":63,"_p":63},"cover-image":{"src":63,"referrer-policy":{"_p":63,"origin":63,"no-referrer":63},"bindload":63,"binderror":63,"_p":63},"cover-view":{"scroll-top":63,"_p":63},"editor":{"read-only":63,"placeholder":63,"show-img-size":63,"show-img-toolbar":63,"show-img-resize":63,"enable-formats":63,"bindready":63,"bindfocus":63,"bindblur":63,"bindinput":63,"bindstatuschange":63,"_p":63},"form":{"report-submit":63,"report-submit-timeout":63,"bindsubmit":63,"bindreset":63,"_p":63},"functional-page-navigator":{"version":{"_p":63,"develop":63,"trial":63,"release":63},"name":{"_p":63,"loginAndGetUserInfo":63,"requestPayment":63,"chooseAddress":63,"chooseInvoice":63,"chooseInvoiceTitle":63},"args":63,"bindsuccess":63,"bindfail":63,"bindcancel":63,"_p":63},"grid-view":{"type":{"_p":7,"aligned":7,"masonry":7},"cross-axis-count":7,"max-cross-axis-extent":7,"main-axis-gap":7,"cross-axis-gap":7,"padding":7,"_p":7},"icon":{"type":63,"size":63,"color":63,"_p":63},"image":{"src":63,"mode":{"_p":63,"scaleToFill":63,"aspectFit":63,"aspectFill":63,"widthFix":63,"heightFix":63,"top":63,"bottom":63,"center":63,"left":63,"right":63,"top left":63,"top right":63,"bottom left":63,"bottom right":63},"show-menu-by-longpress":63,"binderror":63,"bindload":63,"webp":63,"lazy-load":63,"_p":63},"input":{"value":63,"type":{"_p":63,"text":63,"number":63,"idcard":63,"digit":63,"safe-password":63,"nickname":63,"wxpay":63},"password":63,"placeholder":63,"placeholder-style":63,"disabled":63,"maxlength":63,"cursor-spacing":63,"auto-focus":63,"focus":63,"confirm-type":{"_p":63,"send":63,"search":63,"next":63,"go":63,"done":63},"always-embed":63,"confirm-hold":63,"cursor":63,"cursor-color":63,"selection-start":63,"selection-end":63,"adjust-position":63,"hold-keyboard":63,"safe-password-cert-path":63,"safe-password-length":63,"safe-password-time-stamp":63,"safe-password-nonce":63,"safe-password-salt":63,"safe-password-custom-hash":63,"bindinput":63,"bindchange":63,"bindfocus":63,"bindblur":63,"bindconfirm":63,"bindkeyboardheightchange":63,"bindnicknamereview":63,"placeholder-class":63,"_p":63},"keyboard-accessory":7,"label":{"for":63,"_p":63},"live-player":{"src":63,"mode":{"_p":63,"live":63,"RTC":63},"autoplay":63,"muted":63,"orientation":{"_p":63,"vertical":63,"horizontal":63},"object-fit":{"_p":63,"contain":63,"fillCrop":63},"background-mute":63,"min-cache":63,"max-cache":63,"sound-mode":{"_p":63,"speaker":63,"ear":63},"auto-pause-if-navigate":63,"auto-pause-if-open-native":63,"picture-in-picture-mode":{"_p":63,"[]":63,"push":63,"pop":63},"picture-in-picture-init-position=":63,"enable-auto-rotation":63,"referrer-policy":{"_p":63,"origin":63,"no-referrer":63},"enable-casting":63,"bindstatechange":63,"bindfullscreenchange":63,"bindnetstatus":63,"bindaudiovolumenotify":63,"bindenterpictureinpicture":63,"bindleavepictureinpicture":63,"bindcastinguserselect":63,"bindcastingstatechange":63,"bindcastinginterrupt":63,"_p":63},"live-pusher":{"url":31,"mode":{"_p":31,"QVGA":31,"HVGA":31,"SD":31,"HD":31,"FHD":31,"RTC":31},"autopush":31,"enableVideoCustomRender":31,"muted":31,"enable-camera":31,"auto-focus":31,"orientation":{"_p":31,"vertical":31,"horizontal":31},"beauty":31,"whiteness":31,"aspect":31,"min-bitrate":31,"max-bitrate":31,"audio-quality":31,"waiting-image":31,"waiting-image-hash":31,"zoom":31,"device-position":31,"background-mute":31,"mirror":31,"remote-mirror":31,"local-mirror":{"_p":31,"auto":31,"enable":31,"disable":31},"audio-reverb-type":{"0":31,"1":31,"2":31,"3":31,"4":31,"5":31,"6":31,"7":31,"_p":31},"enable-mic":31,"enable-agc":31,"enable-ans":31,"audio-volume-type":{"_p":31,"auto":31,"media":31,"voicecall":31},"video-width":31,"video-height":31,"beauty-style":{"_p":31,"smooth":31,"nature":31},"filter":{"_p":31,"standard":31,"pink":31,"nostalgia":31,"blues":31,"romantic":31,"cool":31,"fresher":31,"solor":31,"aestheticism":31,"whitening":31,"cerisered":31},"picture-in-picture-mode":{"_p":31,"[]":31,"push":31,"pop":31},"voice-changer-type":31,"custom-effect":31,"skin-whiteness":31,"skin-smoothness":31,"face-thinness":31,"eye-bigness":31,"fps":31,"bindstatechange":31,"bindnetstatus":31,"binderror":31,"bindbgmstart":31,"bindbgmprogress":31,"bindbgmcomplete":31,"bindaudiovolumenotify":31,"bindenterpictureinpicture":31,"bindleavepictureinpicture":31,"_p":31},"map":{"longitude":63,"latitude":63,"scale":63,"min-scale":63,"max-scale":63,"markers":63,"covers":63,"polyline":63,"circles":63,"controls":63,"include-points":63,"show-location":63,"polygons":63,"subkey":63,"layer-style":63,"rotate":63,"skew":63,"enable-3D":63,"show-compass":63,"show-scale":63,"enable-overlooking":63,"enable-auto-max-overlooking":63,"enable-zoom":63,"enable-scroll":63,"enable-rotate":63,"enable-satellite":63,"enable-traffic":63,"enable-poi":63,"enable-building":63,"setting":63,"bindtap":63,"bindmarkertap":63,"bindlabeltap":63,"bindcontroltap":63,"bindcallouttap":63,"bindupdated":63,"bindregionchange":63,"bindpoitap":63,"bindpolylinetap":63,"bindabilitysuccess":63,"bindabilityfail":63,"bindauthsuccess":63,"bindinterpolatepoint":63,"binderror":63,"_p":63},"match-media":{"min-width":63,"max-width":63,"width":63,"min-height":63,"max-height":63,"height":63,"orientation":63,"_p":63},"movable-area":{"scale-area":63,"_p":63},"movable-view":{"direction":63,"inertia":63,"out-of-bounds":63,"x":63,"y":63,"damping":63,"friction":63,"disabled":63,"scale":63,"scale-min":63,"scale-max":63,"scale-value":63,"animation":63,"bindchange":63,"bindscale":63,"htouchmove":63,"vtouchmove":63,"_p":63},"native-component":63,"navigation-bar":{"title":63,"loading":63,"front-color":63,"background-color":63,"color-animation-duration":63,"color-animation-timing-func":63,"_p":63},"navigator":{"target":{"_p":63,"self":63,"miniProgram":63},"url":63,"open-type":{"_p":63,"navigate":63,"redirect":63,"switchTab":63,"reLaunch":63,"navigateBack":63,"exit":63},"delta":63,"app-id":63,"path":63,"extra-data":63,"version":{"_p":63,"develop":63,"trial":63,"release":63},"short-link":63,"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"bindsuccess":63,"bindfail":63,"bindcomplete":63,"_p":63},"official-account":23,"open-container":{"closed-color":7,"closed-elevation":7,"closed-border-radius":7,"middle-color":7,"open-color":7,"open-elevation":7,"open-border-radius":7,"transition-duration":7,"transition-type":{"_p":7,"fade":7,"fadeThrough":7},"_p":7},"open-data":{"type":{"_p":63,"groupName":63,"userNickName":63,"userAvatarUrl":63,"userGender":63,"userCity":63,"userProvince":63,"userCountry":63,"userLanguage":63},"open-gid":63,"lang":{"_p":63,"en":63,"zh_CN":63,"zh_TW":63},"default-text":63,"default-avatar":63,"binderror":63,"_p":63},"page-container":{"show":63,"duration":63,"z-index":63,"overlay":63,"position":63,"round":63,"close-on-slide-down":63,"overlay-style":63,"custom-style":63,"bind:beforeenter":63,"bind:enter":63,"bind:afterenter":63,"bind:beforeleave":63,"bind:leave":63,"bind:afterleave":63,"bind:clickoverlay":63,"_p":63},"page-meta":{"background-text-style":63,"background-color":63,"background-color-top":63,"background-color-bottom":63,"root-background-color":63,"page-style":63,"page-font-size":63,"root-font-size":63,"page-orientation":63,"bindresize":63,"scroll-top":63,"scroll-duration":63,"bindscroll":63,"bindscrolldone":63,"_p":63},"picker":{"header-text":63,"mode":{"_p":63,"selector":63,"multiSelector":63,"time":63,"date":63,"region":63},"disabled":63,"bindcancel":63,"_p":63},"picker-view":{"value":63,"mask-class":63,"indicator-style":63,"bindchange":63,"bindpickstart":63,"bindpickend":63,"indicator-class":63,"mask-style":63,"immediate-change":63,"_p":63},"picker-view-column":63,"progress":{"percent":63,"show-info":63,"border-radius":63,"font-size":63,"stroke-width":63,"color":63,"activeColor":63,"backgroundColor":63,"active":63,"active-mode":63,"duration":63,"bindactiveend":63,"_p":63},"radio":{"value":63,"checked":63,"disabled":63,"color":63,"_p":63},"radio-group":{"bindchange":63,"_p":63},"rich-text":{"nodes":63,"space":{"_p":63,"ensp":63,"emsp":63,"nbsp":63},"user-select":63,"_p":63},"root-portal":{"enable":63,"_p":63},"scroll-view":{"scroll-x":63,"scroll-y":63,"upper-threshold":63,"lower-threshold":63,"scroll-top":63,"scroll-left":63,"scroll-into-view":63,"scroll-into-view-offset":63,"scroll-with-animation":63,"enable-back-to-top":63,"enable-passive":63,"refresher-enabled":63,"refresher-threshold":63,"refresher-default-style":63,"refresher-background":63,"refresher-triggered":63,"bounces":63,"show-scrollbar":63,"fast-deceleration":63,"binddragstart":63,"binddragging":63,"binddragend":63,"bindscrolltoupper":63,"bindscrolltolower":63,"bindscroll":63,"bindrefresherpulling":63,"bindrefresherrefresh":63,"bindrefresherrestore":63,"bindrefresherabort":63,"scroll-anchoring":63,"enable-flex":63,"enhanced":63,"paging-enabled":63,"using-sticky":63,"_p":63},"selection":{"disable-context-menu":7,"bindselectionchange":7,"_p":7},"share-element":{"key":63,"transform":63,"duration":63,"easing-function":63,"_p":63},"slider":{"min":63,"max":63,"step":63,"disabled":63,"value":63,"color":63,"selected-color":63,"activeColor":63,"backgroundColor":63,"block-size":63,"block-color":63,"show-value":63,"bindchange":63,"bindchanging":63,"_p":63},"snapshot":{"mode":{"_p":7,"view":7,"picture":7},"_p":7},"store-home":{"appid":7,"_p":7},"store-product":{"appid":7,"product-id":7,"product-promotion-link":7,"_p":7},"swiper":{"indicator-dots":63,"indicator-color":63,"indicator-active-color":63,"autoplay":63,"current":63,"interval":63,"duration":63,"circular":63,"vertical":63,"display-multiple-items":63,"previous-margin":63,"next-margin":63,"easing-function":{"_p":63,"default":63,"linear":63,"easeInCubic":63,"easeOutCubic":63,"easeInOutCubic":63},"bindchange":63,"bindtransition":63,"bindanimationfinish":63,"snap-to-edge":63,"_p":63},"swiper-item":{"item-id":63,"skip-hidden-item-layout":63,"_p":63},"switch":{"checked":63,"disabled":63,"type":63,"color":63,"bindchange":63,"_p":63},"text":{"selectable":63,"user-select":63,"space":{"_p":63,"ensp":63,"emsp":63,"nbsp":63},"decode":63,"_p":63},"textarea":{"value":63,"placeholder":63,"placeholder-style":63,"disabled":63,"maxlength":63,"auto-focus":63,"focus":63,"auto-height":63,"cursor-spacing":63,"cursor":63,"selection-start":63,"selection-end":63,"adjust-position":63,"hold-keyboard":63,"disable-default-padding":63,"confirm-type":{"_p":63,"send":63,"search":63,"next":63,"go":63,"done":63,"return":63},"confirm-hold":63,"adjust-keyboard-to":{"_p":63,"cursor":63,"bottom":63},"bindfocus":63,"bindblur":63,"bindlinechange":63,"bindinput":63,"bindconfirm":63,"bindkeyboardheightchange":63,"placeholder-class":63,"fixed":63,"show-confirm-bar":63,"_p":63},"video":{"src":63,"duration":63,"controls":63,"danmu-list":63,"danmu-btn":63,"enable-danmu":63,"autoplay":63,"loop":63,"muted":63,"initial-time":63,"page-gesture":63,"direction":{"0":63,"90":63,"_p":63,"-90":63},"show-progress":63,"show-fullscreen-btn":63,"show-play-btn":63,"show-center-play-btn":63,"enable-progress-gesture":63,"object-fit":{"_p":63,"contain":63,"fill":63,"cover":63},"poster":63,"show-mute-btn":63,"title":63,"play-btn-position":{"_p":63,"bottom":63,"center":63},"enable-play-gesture":63,"auto-pause-if-navigate":63,"auto-pause-if-open-native":63,"vslide-gesture":63,"vslide-gesture-in-fullscreen":63,"show-bottom-progress":63,"ad-unit-id":63,"poster-for-crawler":63,"show-casting-button":63,"picture-in-picture-mode":{"_p":63,"[]":63,"push":63,"pop":63},"picture-in-picture-show-progress":63,"picture-in-picture-init-position=":63,"enable-auto-rotation":63,"show-screen-lock-button":63,"show-snapshot-button":63,"show-background-playback-button":63,"background-poster":63,"referrer-policy":{"_p":63,"origin":63,"no-referrer":63},"is-drm":63,"is-live":63,"provision-url":63,"certificate-url":63,"license-url":63,"preferred-peak-bit-rate":63,"bindplay":63,"bindpause":63,"bindended":63,"bindtimeupdate":63,"bindfullscreenchange":63,"bindwaiting":63,"binderror":63,"bindprogress":63,"bindloadedmetadata":63,"bindcontrolstoggle":63,"bindenterpictureinpicture":63,"bindleavepictureinpicture":63,"bindseekcomplete":63,"bindcastinguserselect":63,"bindcastingstatechange":63,"bindcastinginterrupt":63,"_p":63},"view":{"hover-class":63,"hover-stop-propagation":63,"hover-start-time":63,"hover-stay-time":63,"_p":63},"voip-room":{"openid":7,"mode":{"_p":7,"camera":7,"video":7},"device-position":{"_p":7,"front":7,"back":7},"object-fit":{"_p":7,"fill":7,"contain":7,"cover":7},"binderror":7,"_p":7},"web-view":{"src":31,"bindmessage":31,"bindload":31,"binderror":31,"_p":31}}');const yke=mke;var bke=JSON.parse('{"class":{"Animation":{"export":63,"step":63,"matrix":63,"matrix3d":63,"rotate":63,"rotate3d":63,"rotateX":63,"rotateY":63,"rotateZ":63,"scale":63,"scale3d":63,"scaleX":63,"scaleY":63,"scaleZ":63,"skew":63,"skewX":63,"skewY":63,"translate":63,"translate3d":63,"translateX":63,"translateY":63,"translateZ":63,"opacity":63,"backgroundColor":63,"width":63,"height":63,"left":63,"right":63,"top":63,"bottom":63,"_p":63},"AudioBuffer":{"getChannelData":63,"copyFromChannel":63,"copyToChannel":63,"sampleRate":63,"length":63,"duration":63,"numberOfChannels":63,"_p":63},"AudioContext":{"setSrc":63,"play":63,"pause":63,"seek":63,"_p":63},"AudioListener":{"positionX":63,"positionY":63,"positionZ":63,"forwardX":63,"forwardY":63,"forwardZ":63,"upX":63,"upY":63,"upZ":63,"setOrientation":63,"setPosition":63,"_p":63},"AudioParam":{"defaultValue":63,"maxValue":63,"minValue":63,"value":63,"_p":63},"AuthSetting":{"scope.userInfo":7,"scope.userLocation":7,"scope.userFuzzyLocation":7,"scope.address":7,"scope.invoiceTitle":7,"scope.invoice":7,"scope.werun":7,"scope.record":7,"scope.writePhotosAlbum":7,"scope.camera":7,"scope.bluetooth":7,"scope.addPhoneContact":7,"scope.addPhoneCalendar":7,"_p":7},"BLEPeripheralServer":{"addService":63,"removeService":63,"startAdvertising":63,"stopAdvertising":63,"writeCharacteristicValue":63,"onCharacteristicWriteRequest":63,"offCharacteristicWriteRequest":63,"onCharacteristicReadRequest":63,"offCharacteristicReadRequest":63,"onCharacteristicSubscribed":63,"offCharacteristicSubscribed":63,"onCharacteristicUnsubscribed":63,"offCharacteristicUnsubscribed":63,"_p":63},"BackgroundAudioManager":{"play":63,"pause":63,"seek":63,"stop":63,"onCanplay":63,"onWaiting":63,"onError":63,"onPlay":63,"onPause":63,"onSeeking":63,"onSeeked":63,"onEnded":63,"onStop":63,"onTimeUpdate":63,"onNext":63,"onPrev":63,"src":63,"startTime":63,"title":63,"epname":63,"singer":63,"coverImgUrl":63,"webUrl":63,"protocol":63,"playbackRate":63,"duration":63,"currentTime":63,"paused":63,"buffered":63,"referrerPolicy":63,"referrerPath":63,"audioType":63,"_p":63},"BeaconInfo":{"uuid":7,"major":7,"minor":7,"proximity":7,"accuracy":7,"rssi":7,"_p":7},"BufferSourceNode":{"connect":63,"disconnect":63,"start":63,"stop":63,"buffer":63,"loop":63,"loopStart":63,"loopEnd":63,"playbackRate":63,"onended":63,"_p":63},"CacheManager":{"addRules":7,"addRule":7,"deleteRules":7,"deleteRule":7,"clearRules":7,"on":7,"off":7,"start":7,"stop":7,"match":7,"deleteCaches":7,"deleteCache":7,"clearCaches":7,"mode":7,"origin":7,"maxAge":7,"state":7,"_p":7},"CameraContext":{"onCameraFrame":63,"takePhoto":63,"setZoom":63,"startRecord":63,"stopRecord":63,"_p":63},"CameraFrameListener":{"start":63,"stop":63,"_p":63},"Canvas":{"getContext":63,"createImage":63,"createImageData":63,"createPath2D":63,"requestAnimationFrame":63,"cancelAnimationFrame":63,"toDataURL":63,"width":63,"height":63,"_p":63},"CanvasContext":{"draw":63,"createLinearGradient":63,"createCircularGradient":63,"createPattern":63,"measureText":63,"save":63,"restore":63,"beginPath":63,"moveTo":63,"lineTo":63,"quadraticCurveTo":63,"bezierCurveTo":63,"arc":63,"rect":63,"arcTo":63,"clip":63,"fillRect":63,"strokeRect":63,"clearRect":63,"fill":63,"stroke":63,"closePath":63,"scale":63,"rotate":63,"translate":63,"drawImage":63,"strokeText":63,"transform":63,"setTransform":63,"setFillStyle":63,"setStrokeStyle":63,"setShadow":63,"setGlobalAlpha":63,"setLineWidth":63,"setLineJoin":63,"setLineCap":63,"setLineDash":63,"setMiterLimit":63,"fillText":63,"setFontSize":63,"setTextAlign":63,"setTextBaseline":63,"fillStyle":63,"strokeStyle":63,"shadowOffsetX":63,"shadowOffsetY":63,"shadowColor":63,"shadowBlur":63,"lineWidth":63,"lineCap":63,"lineJoin":63,"miterLimit":63,"lineDashOffset":63,"font":63,"globalAlpha":63,"globalCompositeOperation":63,"_p":63},"CanvasGradient":{"addColorStop":63,"_p":63},"Color":63,"DownloadTask":{"abort":63,"onProgressUpdate":63,"offProgressUpdate":63,"onHeadersReceived":63,"offHeadersReceived":63,"_p":63},"DraggableSheetContext":{"scrollTo":7,"_p":7},"EditorContext":{"format":63,"insertDivider":63,"insertImage":63,"insertText":63,"setContents":63,"getContents":63,"clear":63,"removeFormat":63,"undo":63,"redo":63,"blur":63,"scrollIntoView":63,"getSelectionText":63,"_p":63},"EntryList":{"getEntries":63,"getEntriesByType":63,"getEntriesByName":63,"_p":63},"EventChannel":{"emit":63,"on":63,"once":63,"off":63,"_p":63},"FileStats":{"path":63,"stats":63,"_p":63},"FileSystemManager":{"access":63,"appendFile":63,"saveFile":63,"getSavedFileList":63,"removeSavedFile":63,"close":63,"closeSync":63,"copyFile":63,"fstat":63,"fstatSync":63,"ftruncate":63,"ftruncateSync":63,"getFileInfo":63,"mkdir":63,"open":63,"openSync":63,"read":63,"readSync":63,"readCompressedFile":63,"readCompressedFileSync":63,"readFile":63,"readZipEntry":63,"readdir":63,"rename":63,"rmdir":63,"stat":63,"truncate":63,"truncateSync":63,"unlink":63,"unzip":63,"write":63,"writeSync":63,"writeFile":63,"_p":63},"Image":{"src":63,"width":63,"height":63,"referrerPolicy":63,"onload":63,"onerror":63,"_p":63},"ImageData":{"width":63,"height":63,"data":63,"_p":63},"InferenceSession":{"onLoad":7,"offLoad":7,"onError":7,"offError":7,"run":7,"destroy":7,"_p":7},"InnerAudioContext":{"play":63,"pause":63,"stop":63,"seek":63,"destroy":63,"onCanplay":63,"offCanplay":63,"onPlay":63,"offPlay":63,"onPause":63,"offPause":63,"onStop":63,"offStop":63,"onEnded":63,"offEnded":63,"onTimeUpdate":63,"offTimeUpdate":63,"onError":63,"offError":63,"onWaiting":63,"offWaiting":63,"onSeeking":63,"offSeeking":63,"onSeeked":63,"offSeeked":63,"src":63,"startTime":63,"autoplay":63,"loop":63,"obeyMuteSwitch":63,"volume":63,"playbackRate":63,"duration":63,"currentTime":63,"paused":63,"buffered":63,"referrerPolicy":63,"_p":63},"IntersectionObserver":{"relativeTo":63,"relativeToViewport":63,"observe":63,"disconnect":63,"_p":63},"InterstitialAd":{"show":7,"load":7,"destroy":7,"onLoad":7,"offLoad":7,"onError":7,"offError":7,"onClose":7,"offClose":7,"_p":7},"IsoDep":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"getHistoricalBytes":5,"_p":5},"LivePlayerContext":{"play":63,"stop":63,"mute":63,"pause":63,"resume":63,"requestFullScreen":63,"exitFullScreen":63,"exitPictureInPicture":63,"snapshot":63,"requestBackgroundPlayback":63,"exitBackgroundPlayback":63,"requestPictureInPicture":63,"startCasting":63,"switchCasting":63,"reconnectCasting":63,"exitCasting":63,"_p":63},"LivePusherContext":{"start":63,"stop":63,"pause":63,"resume":63,"switchCamera":63,"snapshot":63,"toggleTorch":63,"playBGM":63,"stopBGM":63,"pauseBGM":63,"resumeBGM":63,"setBGMVolume":63,"setMICVolume":63,"startPreview":63,"stopPreview":63,"sendMessage":63,"exitPictureInPicture":63,"setZoom":63,"getMaxZoom":63,"applyFilter":63,"clearFilters":63,"applySticker":63,"clearStickers":63,"applyLipStickMakeup":63,"applyEyeShadowMakeup":63,"applyBlusherStickMakeup":63,"applyFaceContourMakeup":63,"applyEyeBrowMakeup":63,"clearMakeups":63,"onCustomRendererEvent":63,"createOffscreenCanvas":63,"_p":63},"LogManager":{"debug":63,"info":63,"log":63,"warn":63,"_p":63},"MapContext":{"getCenterLocation":63,"setLocMarkerIcon":63,"moveToLocation":63,"translateMarker":63,"moveAlong":63,"includePoints":63,"getRegion":63,"getRotate":63,"getSkew":63,"getScale":63,"setCenterOffset":63,"removeCustomLayer":63,"addCustomLayer":63,"addGroundOverlay":63,"addVisualLayer":63,"removeVisualLayer":63,"executeVisualLayerCommand":63,"addArc":63,"removeArc":63,"setBoundary":63,"updateGroundOverlay":63,"removeGroundOverlay":63,"toScreenLocation":63,"fromScreenLocation":63,"openMapApp":63,"addMarkers":63,"removeMarkers":63,"initMarkerCluster":63,"on":63,"eraseLines":63,"_p":63},"MediaAudioPlayer":{"start":63,"addAudioSource":63,"removeAudioSource":63,"stop":63,"destroy":63,"volume":63,"_p":63},"MediaContainer":{"extractDataSource":63,"addTrack":63,"removeTrack":63,"export":63,"destroy":63,"_p":63},"MediaQueryObserver":{"observe":63,"disconnect":63,"_p":63},"MediaRecorder":{"pause":39,"resume":39,"start":39,"stop":39,"requestFrame":39,"on":39,"off":39,"destroy":39,"_p":39},"MediaTrack":{"kind":63,"duration":63,"volume":63,"_p":63},"MifareClassic":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"MifareUltralight":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"NFCAdapter":{"startDiscovery":5,"stopDiscovery":5,"getNdef":5,"getNfcA":5,"getNfcB":5,"getIsoDep":5,"getNfcF":5,"getNfcV":5,"getMifareClassic":5,"getMifareUltralight":5,"onDiscovered":5,"offDiscovered":5,"tech":5,"_p":5},"Ndef":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"onNdefMessage":5,"offNdefMessage":5,"writeNdefMessage":5,"_p":5},"NfcA":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"getAtqa":5,"getSak":5,"_p":5},"NfcB":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"NfcF":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"NfcV":{"connect":5,"close":5,"setTimeout":5,"isConnected":5,"getMaxTransceiveLength":5,"transceive":5,"_p":5},"NodesRef":{"fields":63,"boundingClientRect":63,"scrollOffset":63,"context":63,"node":63,"ref":63,"_p":63},"OffscreenCanvas":{"getContext":63,"createImage":63,"width":63,"height":63,"_p":63},"Path2D":{"addPath":63,"arc":63,"arcTo":63,"bezierCurveTo":63,"closePath":63,"ellipse":63,"lineTo":63,"moveTo":63,"quadraticCurveTo":63,"rect":63,"_p":63},"Performance":{"getEntries":63,"getEntriesByType":63,"getEntriesByName":63,"createObserver":63,"setBufferSize":63,"_p":63},"PerformanceEntry":{"entryType":63,"name":63,"startTime":63,"duration":63,"path":63,"referrerPath":63,"pageId":63,"referrerPageId":63,"navigationStart":63,"navigationType":63,"moduleName":63,"fileList":63,"viewLayerReadyTime":63,"initDataSendTime":63,"initDataRecvTime":63,"viewLayerRenderStartTime":63,"viewLayerRenderEndTime":63,"packageName":63,"packageSize":63,"uri":63,"initiatorType":63,"transferSize":63,"domainLookupStart":63,"domainLookupEnd":63,"_p":63},"PerformanceObserver":{"observe":63,"disconnect":63,"supportedEntryTypes":63,"_p":63},"PreDownloadSubpackageTask":{"onProgressUpdate":7,"_p":7},"ReadResult":{"bytesRead":63,"arrayBuffer":63,"_p":63},"RealtimeLogManager":{"info":63,"warn":63,"error":63,"setFilterMsg":63,"addFilterMsg":63,"_p":63},"RealtimeTagLogManager":{"info":63,"warn":63,"error":63,"setFilterMsg":63,"addFilterMsg":63,"_p":63},"RecorderManager":{"start":63,"pause":63,"resume":63,"stop":63,"onStart":63,"onResume":63,"onPause":63,"onStop":63,"onFrameRecorded":63,"onError":63,"onInterruptionBegin":63,"onInterruptionEnd":63,"_p":63},"RenderingContext":63,"RequestTask":{"abort":63,"onHeadersReceived":63,"offHeadersReceived":63,"onChunkReceived":63,"offChunkReceived":63,"_p":63},"RewardedVideoAd":{"load":7,"show":7,"destroy":7,"onLoad":7,"offLoad":7,"onError":7,"offError":7,"onClose":7,"offClose":7,"_p":7},"ScrollViewContext":{"triggerRefresh":63,"closeRefresh":63,"triggerTwoLevel":63,"closeTwoLevel":63,"scrollTo":63,"scrollIntoView":63,"scrollEnabled":63,"bounces":63,"showScrollbar":63,"pagingEnabled":63,"fastDeceleration":63,"decelerationDisabled":63,"_p":63},"SelectorQuery":{"in":63,"select":63,"selectAll":63,"selectViewport":63,"exec":63,"_p":63},"Snapshot":{"takeSnapshot":7,"width":7,"height":7,"_p":7},"SocketTask":{"send":63,"close":63,"onOpen":63,"onClose":63,"onError":63,"onMessage":63,"_p":63},"Stats":{"isDirectory":63,"isFile":63,"mode":63,"size":63,"lastAccessedTime":63,"lastModifiedTime":63,"_p":63},"SubscriptionsSetting":{"mainSwitch":7,"itemSettings":7,"_p":7},"TCPSocket":{"bindWifi":7,"connect":7,"write":7,"close":7,"onClose":7,"offClose":7,"onConnect":7,"offConnect":7,"onError":7,"offError":7,"onMessage":7,"offMessage":7,"onBindWifi":7,"offBindWifi":7,"_p":7},"Tensor":{"shape":7,"data":7,"type":7,"_p":7},"Tensors":{"key":7,"_p":7},"UDPSocket":{"bind":63,"setTTL":63,"send":63,"connect":63,"write":63,"close":63,"onClose":63,"offClose":63,"onError":63,"offError":63,"onListening":63,"offListening":63,"onMessage":63,"offMessage":63,"_p":63},"UpdateManager":{"applyUpdate":63,"onCheckForUpdate":63,"onUpdateReady":63,"onUpdateFailed":63,"_p":63},"UploadTask":{"abort":63,"onProgressUpdate":63,"offProgressUpdate":63,"onHeadersReceived":63,"offHeadersReceived":63,"_p":63},"UserCryptoManager":{"getLatestUserKey":63,"getRandomValues":63,"_p":63},"UserInfo":{"nickName":7,"avatarUrl":7,"gender":7,"country":7,"province":7,"city":7,"language":7,"_p":7},"VKBodyAnchor":{"id":7,"type":7,"detectId":7,"size":7,"origin":7,"confidence":7,"points":7,"score":7,"_p":7},"VKCamera":{"getProjectionMatrix":63,"transform":63,"viewMatrix":63,"intrinsics":63,"_p":63},"VKDepthAnchor":{"id":63,"type":63,"size":63,"depthArray":63,"_p":63},"VKFaceAnchor":{"id":7,"type":7,"detectId":7,"origin":7,"size":7,"points":7,"angle":7,"confidence":7,"_p":7},"VKFrame":{"getCameraTexture":63,"getCameraBuffer":63,"getCameraJpgBuffer":63,"getDisplayTransform":63,"getDepthBuffer":63,"getLegSegmentBuffer":63,"timestamp":63,"camera":63,"_p":63},"VKHandAnchor":{"id":7,"type":7,"detectId":7,"size":7,"origin":7,"confidence":7,"points":7,"score":7,"gesture":7,"_p":7},"VKMarkerAnchor":{"id":63,"type":63,"transform":63,"markerId":63,"path":63,"_p":63},"VKOCRAnchor":{"id":63,"type":63,"text":63,"_p":63},"VKOSDAnchor":{"id":63,"type":63,"markerId":63,"size":63,"path":63,"origin":63,"_p":63},"VKPlaneAnchor":{"id":63,"type":63,"transform":63,"size":63,"alignment":63,"_p":63},"VKSession":{"start":63,"stop":63,"destroy":63,"requestAnimationFrame":63,"cancelAnimationFrame":63,"getVKFrame":63,"hitTest":63,"addMarker":63,"removeMarker":63,"getAllMarker":63,"addOSDMarker":63,"removeOSDMarker":63,"getAllOSDMarker":63,"update3DMode":63,"updateMaskMode":63,"updateOSDThreshold":63,"setDepthOccRange":63,"detectFace":63,"detectBody":63,"detectHand":63,"detectDepth":63,"runOCR":63,"on":63,"off":63,"state":63,"config":63,"cameraSize":63,"_p":63},"VideoContext":{"play":63,"pause":63,"stop":63,"seek":63,"sendDanmu":63,"playbackRate":63,"requestFullScreen":63,"exitFullScreen":63,"showStatusBar":63,"hideStatusBar":63,"exitPictureInPicture":63,"requestBackgroundPlayback":63,"exitBackgroundPlayback":63,"startCasting":63,"switchCasting":63,"reconnectCasting":63,"exitCasting":63,"_p":63},"VideoDecoder":{"start":63,"seek":63,"stop":63,"remove":63,"getFrameData":63,"on":63,"off":63,"_p":63},"WebAudioContext":{"close":63,"resume":63,"suspend":63,"createIIRFilter":63,"createWaveShaper":63,"createConstantSource":63,"createOscillator":63,"createGain":63,"createPeriodicWave":63,"createBiquadFilter":63,"createBufferSource":63,"createChannelMerger":63,"createChannelSplitter":63,"createDelay":63,"createDynamicsCompressor":63,"createScriptProcessor":63,"createAnalyser":63,"createPanner":63,"createBuffer":63,"decodeAudioData":63,"state":63,"onstatechange":63,"currentTime":63,"destination":63,"listener":63,"sampleRate":63,"_p":63},"WebAudioContextNode":63,"WifiInfo":{"SSID":7,"BSSID":7,"secure":7,"signalStrength":7,"frequency":7,"_p":7},"Worker":{"postMessage":63,"terminate":63,"testOnProcessKilled":63,"onMessage":63,"onProcessKilled":63,"env":63,"_p":63},"WriteResult":{"bytesWritten":63,"_p":63},"console":{"debug":7,"log":7,"info":7,"warn":7,"error":7,"group":7,"groupEnd":7,"_p":7},"worklet.Easing":7,"worklet.scrollViewContext":7,"wx.env":{"USER_DATA_PATH":7,"_p":7},"wx.router":{"addRouteBuilder":7,"removeRouteBuilder":7,"getRouteContext":7,"_p":7},"wx.worklet":{"shared":7,"derived":7,"cancelAnimation":7,"runOnUI":7,"runOnJS":7,"timing":7,"spring":7,"decay":7,"sequence":7,"repeat":7,"delay":7,"scrollTo":7,"_p":7}},"method":{"addCard":{"object":{"cardList":7},"success":{"cardList":7},"_p":7},"addFileToFavorites":{"object":{"filePath":7,"fileName":7},"_p":7},"addPhoneCalendar":{"object":{"title":7,"startTime":7,"allDay":7,"description":7,"location":7,"endTime":7,"alarm":7,"alarmOffset":7},"_p":7},"addPhoneContact":{"object":{"firstName":7,"photoFilePath":7,"nickName":7,"lastName":7,"middleName":7,"remark":7,"mobilePhoneNumber":7,"weChatNumber":7,"addressCountry":7,"addressState":7,"addressCity":7,"addressStreet":7,"addressPostalCode":7,"organization":7,"title":7,"workFaxNumber":7,"workPhoneNumber":7,"hostNumber":7,"email":7,"url":7,"workAddressCountry":7,"workAddressState":7,"workAddressCity":7,"workAddressStreet":7,"workAddressPostalCode":7,"homeFaxNumber":7,"homePhoneNumber":7,"homeAddressCountry":7,"homeAddressState":7,"homeAddressCity":7,"homeAddressStreet":7,"homeAddressPostalCode":7},"_p":7},"addPhoneRepeatCalendar":{"object":{"title":7,"startTime":7,"allDay":7,"description":7,"location":7,"endTime":7,"alarm":7,"alarmOffset":7,"repeatInterval":{"day":7,"week":7,"month":7,"year":7,"_p":7},"repeatEndTime":7},"_p":7},"addVideoToFavorites":{"object":{"videoPath":7,"thumbPath":7},"_p":7},"arrayBufferToBase64":63,"authPrivateMessage":{"object":{"shareTicket":63},"success":{"errMsg":63,"valid":63,"encryptedData":63,"iv":63},"_p":63},"authorize":{"object":{"scope":63},"_p":63},"authorizeForMiniProgram":{"object":{"scope":{"record":63,"writePhotosAlbum":63,"camera":63,"_p":63}},"_p":63},"base64ToArrayBuffer":63,"batchGetStorage":{"object":{"keyList":7},"_p":7},"batchGetStorageSync":7,"batchSetStorage":{"object":{"kvList":7},"_p":7},"batchSetStorageSync":7,"canIUse":63,"canvasGetImageData":{"object":{"canvasId":7,"x":7,"y":7,"width":7,"height":7},"success":{"width":7,"height":7,"data":7},"_p":7},"canvasPutImageData":{"object":{"canvasId":7,"data":7,"x":7,"y":7,"width":7,"height":7},"_p":7},"canvasToTempFilePath":{"object":{"x":63,"y":63,"width":63,"height":63,"destWidth":63,"destHeight":63,"canvasId":63,"canvas":63,"fileType":{"jpg":63,"png":63,"_p":63},"quality":63},"success":{"tempFilePath":63},"_p":63},"checkDeviceSupportHevc":{"success":{"supportHevc":7},"_p":7},"checkIsAddedToMyMiniProgram":{"success":{"added":63},"_p":63},"checkIsOpenAccessibility":{"success":{"open":7},"_p":7},"checkIsPictureInPictureActive":7,"checkIsSoterEnrolledInDevice":{"object":{"checkAuthMode":{"fingerPrint":7,"facial":7,"speech":7,"_p":7}},"success":{"isEnrolled":7,"errMsg":7},"_p":7},"checkIsSupportSoterAuthentication":{"success":{"supportMode":{"fingerPrint":7,"facial":7,"speech":7,"_p":7}},"_p":7},"checkSession":63,"chooseAddress":{"success":{"userName":15,"postalCode":15,"provinceName":15,"cityName":15,"countyName":15,"streetName":15,"detailInfo":15,"detailInfoNew":15,"nationalCode":15,"telNumber":15,"errMsg":15},"_p":15},"chooseContact":{"success":{"phoneNumber":7,"displayName":7,"phoneNumberList":7},"_p":7},"chooseImage":{"object":{"count":31,"sizeType":{"original":31,"compressed":31,"_p":31},"sourceType":{"album":31,"camera":31,"_p":31}},"success":{"tempFilePaths":31,"tempFiles":31},"_p":31},"chooseInvoice":{"success":{"invoiceInfo":7},"_p":7},"chooseInvoiceTitle":{"success":{"type":{"0":7,"1":7,"_p":7},"title":7,"taxNumber":7,"companyAddress":7,"telephone":7,"bankName":7,"bankAccount":7,"errMsg":7},"_p":7},"chooseLicensePlate":{"success":{"plateNumber":39},"_p":39},"chooseLocation":{"object":{"latitude":31,"longitude":31},"success":{"name":31,"address":31,"latitude":31,"longitude":31},"_p":31},"chooseMedia":{"object":{"count":31,"mediaType":{"image":31,"video":31,"mix":31,"_p":31},"sourceType":{"album":31,"camera":31,"_p":31},"maxDuration":31,"sizeType":31,"camera":{"back":31,"front":31,"_p":31}},"success":{"tempFiles":31,"type":31},"_p":31},"chooseMessageFile":{"object":{"count":7,"type":{"all":7,"video":7,"image":7,"file":7,"_p":7},"extension":7},"success":{"tempFiles":7},"_p":7},"choosePoi":{"success":{"type":31,"city":31,"name":31,"address":31,"latitude":31,"longitude":31},"_p":31},"chooseVideo":{"object":{"sourceType":{"album":31,"camera":31,"_p":31},"compressed":31,"maxDuration":31,"camera":{"back":31,"front":31,"_p":31}},"success":{"tempFilePath":31,"duration":31,"size":31,"height":31,"width":31},"_p":31},"clearStorage":63,"clearStorageSync":63,"closeBLEConnection":{"object":{"deviceId":7},"_p":7},"closeBluetoothAdapter":7,"closeSocket":{"object":{"code":63,"reason":63},"_p":63},"compressImage":{"object":{"src":7,"quality":7,"compressedWidth":7,"compressedHeight":7},"success":{"tempFilePath":7},"_p":7},"compressVideo":{"object":{"src":7,"quality":{"low":7,"medium":7,"high":7,"_p":7},"bitrate":7,"fps":7,"resolution":7},"success":{"tempFilePath":7,"size":7},"_p":7},"connectSocket":{"object":{"url":63,"header":63,"protocols":63,"tcpNoDelay":63,"perMessageDeflate":63,"timeout":63,"forceCellularNetwork":63},"_p":63},"connectWifi":{"object":{"SSID":7,"BSSID":7,"password":7,"maunal":7,"partialInfo":7},"_p":7},"createAnimation":{"object":{"duration":63,"timingFunction":{"linear":63,"ease":63,"ease-in":63,"ease-in-out":63,"ease-out":63,"step-start":63,"step-end":63,"_p":63},"delay":63,"transformOrigin":63},"_p":63},"createAudioContext":7,"createBLEConnection":{"object":{"deviceId":7,"timeout":7},"_p":7},"createBLEPeripheralServer":{"success":{"server":7},"_p":7},"createBufferURL":31,"createCacheManager":{"object":{"origin":7,"mode":{"weakNetwork":7,"always":7,"none":7,"_p":7},"maxAge":7,"extra":7},"_p":7},"createCameraContext":63,"createCanvasContext":63,"createInferenceSession":{"object":{"model":7,"precesionLevel":{"0":7,"1":7,"2":7,"3":7,"4":7,"_p":7},"allowQuantize":7,"allowNPU":7,"typicalShape":7},"_p":7},"createInnerAudioContext":{"object":{"useWebAudioImplement":63},"_p":63},"createIntersectionObserver":63,"createInterstitialAd":{"object":{"adUnitId":7},"_p":7},"createLivePlayerContext":63,"createLivePusherContext":63,"createMapContext":63,"createMediaAudioPlayer":7,"createMediaContainer":7,"createMediaRecorder":39,"createOffscreenCanvas":{"object":{"type":{"webgl":63,"2d":63,"_p":63},"width":63,"height":63,"compInst":63},"_p":63},"createRewardedVideoAd":{"object":{"adUnitId":7,"multiton":7},"_p":7},"createSelectorQuery":63,"createTCPSocket":{"object":{"type":31},"_p":31},"createUDPSocket":47,"createVKSession":{"object":{"version":{"v1":7,"v2":7,"_p":7},"track":{"plane":7,"marker":7,"OSD":7,"depth":7,"face":7,"OCR":7,"IDCard":7,"body":7,"hand":7,"shoe":7,"threeDof":7,"_p":7},"gl":7},"_p":7},"createVideoContext":63,"createVideoDecoder":7,"createWebAudioContext":63,"createWorker":63,"cropImage":{"object":{"src":7,"cropScale":{"16:9":7,"9:16":7,"4:3":7,"3:4":7,"5:4":7,"4:5":7,"1:1":7,"_p":7}},"success":{"tempFilePath":7},"_p":7},"disableAlertBeforeUnload":7,"downloadFile":{"object":{"url":63,"header":63,"timeout":63,"filePath":63,"useHighPerformanceMode":63,"enableProfile":63,"enableHttp2":63,"enableQuic":63},"success":{"tempFilePath":63,"filePath":63,"statusCode":63,"profile":63},"_p":63},"editImage":{"object":{"src":7},"success":{"tempFilePath":7},"_p":7},"enableAlertBeforeUnload":{"object":{"message":7},"_p":7},"exitMiniProgram":63,"exitVoIPChat":31,"faceDetect":{"object":{"frameBuffer":7,"width":7,"height":7,"enablePoint":7,"enableConf":7,"enableAngle":7,"enableMultiFace":7},"success":{"detectRect":7,"x":7,"y":7,"pointArray":7,"confArray":7,"angleArray":7,"faceInfo":7},"_p":7},"getAccountInfoSync":{"return":{"miniProgram":{"appId":63,"envVersion":63,"version":63,"_p":63},"plugin":{"appId":63,"version":63,"_p":63}},"_p":63},"getApiCategory":7,"getAppAuthorizeSetting":{"return":{"albumAuthorized":31,"bluetoothAuthorized":31,"cameraAuthorized":31,"locationAuthorized":31,"locationReducedAccuracy":31,"microphoneAuthorized":31,"notificationAuthorized":31,"notificationAlertAuthorized":31,"notificationBadgeAuthorized":31,"notificationSoundAuthorized":31,"phoneCalendarAuthorized":31},"_p":31},"getAppBaseInfo":{"return":{"SDKVersion":63,"enableDebug":63,"host":{"appId":63,"_p":63},"language":63,"version":63,"theme":{"dark":63,"light":63,"_p":63},"fontSizeScaleFactor":63,"fontSizeSetting":63},"_p":63},"getAvailableAudioSources":{"success":{"audioSources":{"auto":31,"buildInMic":31,"headsetMic":31,"mic":31,"camcorder":31,"voice_communication":31,"voice_recognition":31,"_p":31}},"_p":31},"getBLEDeviceCharacteristics":{"object":{"deviceId":7,"serviceId":7},"success":{"characteristics":7},"_p":7},"getBLEDeviceRSSI":{"object":{"deviceId":7},"success":{"RSSI":7},"_p":7},"getBLEDeviceServices":{"object":{"deviceId":7},"success":{"services":7},"_p":7},"getBLEMTU":{"object":{"deviceId":7,"writeType":{"write":7,"writeNoResponse":7,"_p":7}},"success":{"mtu":7},"_p":7},"getBackgroundAudioManager":63,"getBackgroundAudioPlayerState":{"success":{"duration":7,"currentPosition":7,"status":{"0":7,"1":7,"2":7,"_p":7},"downloadPercent":7,"dataUrl":7},"_p":7},"getBackgroundFetchData":{"object":{"fetchType":7},"success":{"fetchedData":7,"timeStamp":7,"path":7,"query":7,"scene":7},"_p":7},"getBackgroundFetchToken":{"success":{"token":7,"errMsg":7},"_p":7},"getBatteryInfo":{"success":{"level":47,"isCharging":47,"isLowPowerModeEnabled":47},"_p":47},"getBatteryInfoSync":{"return":{"level":47,"isCharging":47,"isLowPowerModeEnabled":47},"_p":47},"getBeacons":{"success":{"beacons":7},"_p":7},"getBluetoothAdapterState":{"success":{"discovering":7,"available":7},"_p":7},"getBluetoothDevices":{"success":{"devices":7},"_p":7},"getChannelsLiveInfo":{"object":{"finderUserName":63,"startTime":63,"endTime":63},"success":{"feedId":63,"nonceId":63,"description":63,"status":{"1":63,"2":63,"3":63,"4":63,"_p":63},"headUrl":63,"nickname":63,"replayStatus":{"0":63,"1":63,"3":63,"6":63,"_p":63},"otherInfos":63},"_p":63},"getChannelsLiveNoticeInfo":{"object":{"finderUserName":63},"success":{"noticeId":63,"status":63,"startTime":63,"headUrl":63,"nickname":63,"reservable":63,"otherInfos":63},"_p":63},"getChannelsShareKey":{"success":{"sharerOpenId":7,"promoter":{"finderNickname":7,"promoterId":7,"promoterOpenId":7,"_p":7}},"_p":7},"getClipboardData":{"success":{"data":63},"_p":63},"getCommonConfig":{"object":{"keys":63,"mode":63},"success":{"errcode":63,"errmsg":63,"conf_type":63,"conf":63,"expire_sec":63},"_p":63},"getConnectedBluetoothDevices":{"object":{"services":7},"success":{"devices":7},"_p":7},"getConnectedWifi":{"object":{"partialInfo":7},"success":{"wifi":7},"_p":7},"getDeviceBenchmarkInfo":{"success":{"benchmarkLevel":7,"modelLevel":7},"_p":7},"getDeviceInfo":{"return":{"abi":63,"deviceAbi":63,"benchmarkLevel":63,"brand":63,"model":63,"system":63,"platform":63,"cpuType":63,"memorySize":63},"_p":63},"getDeviceVoIPList":{"success":{"list":7},"_p":7},"getEnterOptionsSync":{"return":{"path":63,"scene":63,"query":63,"shareTicket":63,"referrerInfo":{"appId":63,"extraData":63,"_p":63},"forwardMaterials":63,"chatType":{"1":63,"2":63,"3":63,"4":63,"_p":63},"apiCategory":{"default":63,"nativeFunctionalized":63,"browseOnly":63,"embedded":63,"_p":63}},"_p":63},"getExptInfoSync":7,"getExtConfig":{"success":{"extConfig":63},"_p":63},"getExtConfigSync":63,"getFileSystemManager":63,"getFuzzyLocation":{"object":{"type":{"wgs84":7,"gcj02":7,"_p":7}},"success":{"latitude":7,"longitude":7},"_p":7},"getGroupEnterInfo":{"success":{"errMsg":31,"encryptedData":31,"iv":31,"cloudID":31},"_p":31},"getHCEState":7,"getImageInfo":{"object":{"src":63},"success":{"width":63,"height":63,"path":63,"orientation":{"up":63,"up-mirrored":63,"down":63,"down-mirrored":63,"left-mirrored":63,"right":63,"right-mirrored":63,"left":63,"_p":63},"type":{"unknown":63,"jpeg":63,"png":63,"gif":63,"tiff":63,"_p":63}},"_p":63},"getInferenceEnvInfo":{"success":{"ver":7},"_p":7},"getLaunchOptionsSync":{"return":{"path":63,"scene":63,"query":63,"shareTicket":63,"referrerInfo":{"appId":63,"extraData":63,"_p":63},"forwardMaterials":63,"chatType":{"1":63,"2":63,"3":63,"4":63,"_p":63},"apiCategory":{"default":63,"nativeFunctionalized":63,"browseOnly":63,"embedded":63,"_p":63}},"_p":63},"getLocalIPAddress":{"success":{"errMsg":7,"localip":7,"netmask":7},"_p":7},"getLocation":{"object":{"type":63,"altitude":63,"isHighAccuracy":63,"highAccuracyExpireTime":63},"success":{"latitude":63,"longitude":63,"speed":63,"accuracy":63,"altitude":63,"verticalAccuracy":63,"horizontalAccuracy":63},"_p":63},"getLogManager":{"object":{"level":63},"_p":63},"getMenuButtonBoundingClientRect":{"return":{"width":63,"height":63,"top":63,"right":63,"bottom":63,"left":63},"_p":63},"getNFCAdapter":5,"getNetworkType":{"success":{"networkType":{"wifi":31,"2g":31,"3g":31,"4g":31,"5g":31,"unknown":31,"none":31,"_p":31},"signalStrength":31,"hasSystemProxy":31,"weakNet":31},"_p":31},"getPerformance":63,"getPrivacySetting":{"success":{"needAuthorization":63,"privacyContractName":63},"_p":63},"getRandomValues":{"object":{"length":7},"success":{"randomValues":7},"_p":7},"getRealtimeLogManager":31,"getRecorderManager":63,"getRendererUserAgent":7,"getScreenBrightness":{"success":{"value":63},"_p":63},"getScreenRecordingState":{"success":{"state":{"on":2,"off":2,"_p":2}},"_p":2},"getSelectedTextRange":{"success":{"start":7,"end":7},"_p":7},"getSetting":{"object":{"withSubscriptions":63},"success":{"authSetting":63,"subscriptionsSetting":63,"miniprogramAuthSetting":63},"_p":63},"getShareInfo":{"object":{"shareTicket":63,"timeout":63},"success":{"errMsg":63,"encryptedData":63,"iv":63,"cloudID":63},"_p":63},"getSkylineInfo":{"success":{"isSupported":7,"version":7,"reason":{"client not supported":7,"baselib not supported":7,"a-b test not enabled":7,"SwitchRender option set to webview":7,"_p":7}},"_p":7},"getSkylineInfoSync":{"return":{"isSupported":7,"version":7,"reason":{"client not supported":7,"baselib not supported":7,"a-b test not enabled":7,"SwitchRender option set to webview":7,"_p":7}},"_p":7},"getStorage":{"object":{"key":63,"encrypt":63},"success":{"data":63},"_p":63},"getStorageInfo":{"success":{"keys":63,"currentSize":63,"limitSize":63},"_p":63},"getStorageInfoSync":{"return":{"keys":63,"currentSize":63,"limitSize":63},"_p":63},"getStorageSync":63,"getSystemInfo":{"success":{"brand":63,"model":63,"pixelRatio":63,"screenWidth":63,"screenHeight":63,"windowWidth":63,"windowHeight":63,"statusBarHeight":63,"language":63,"version":63,"system":63,"platform":{"ios":63,"android":63,"windows":63,"mac":63,"devtools":63,"_p":63},"fontSizeSetting":63,"SDKVersion":63,"benchmarkLevel":63,"albumAuthorized":63,"cameraAuthorized":63,"locationAuthorized":63,"microphoneAuthorized":63,"notificationAuthorized":63,"notificationAlertAuthorized":63,"notificationBadgeAuthorized":63,"notificationSoundAuthorized":63,"phoneCalendarAuthorized":63,"bluetoothEnabled":63,"locationEnabled":63,"wifiEnabled":63,"safeArea":{"left":63,"right":63,"top":63,"bottom":63,"width":63,"height":63,"_p":63},"locationReducedAccuracy":63,"theme":{"dark":63,"light":63,"_p":63},"host":{"appId":63,"_p":63},"enableDebug":63,"deviceOrientation":{"portrait":63,"landscape":63,"_p":63}},"_p":63},"getSystemInfoAsync":{"success":{"brand":39,"model":39,"pixelRatio":39,"screenWidth":39,"screenHeight":39,"windowWidth":39,"windowHeight":39,"statusBarHeight":39,"language":39,"version":39,"system":39,"platform":{"ios":39,"android":39,"windows":39,"mac":39,"devtools":39,"_p":39},"fontSizeSetting":39,"SDKVersion":39,"benchmarkLevel":39,"albumAuthorized":39,"cameraAuthorized":39,"locationAuthorized":39,"microphoneAuthorized":39,"notificationAuthorized":39,"notificationAlertAuthorized":39,"notificationBadgeAuthorized":39,"notificationSoundAuthorized":39,"phoneCalendarAuthorized":39,"bluetoothEnabled":39,"locationEnabled":39,"wifiEnabled":39,"safeArea":{"left":39,"right":39,"top":39,"bottom":39,"width":39,"height":39,"_p":39},"locationReducedAccuracy":39,"theme":{"dark":39,"light":39,"_p":39},"host":{"appId":39,"_p":39},"enableDebug":39,"deviceOrientation":{"portrait":39,"landscape":39,"_p":39}},"_p":39},"getSystemInfoSync":{"return":{"brand":63,"model":63,"pixelRatio":63,"screenWidth":63,"screenHeight":63,"windowWidth":63,"windowHeight":63,"statusBarHeight":63,"language":63,"version":63,"system":63,"platform":{"ios":63,"android":63,"windows":63,"mac":63,"devtools":63,"_p":63},"fontSizeSetting":63,"SDKVersion":63,"benchmarkLevel":63,"albumAuthorized":63,"cameraAuthorized":63,"locationAuthorized":63,"microphoneAuthorized":63,"notificationAuthorized":63,"notificationAlertAuthorized":63,"notificationBadgeAuthorized":63,"notificationSoundAuthorized":63,"phoneCalendarAuthorized":63,"bluetoothEnabled":63,"locationEnabled":63,"wifiEnabled":63,"safeArea":{"left":63,"right":63,"top":63,"bottom":63,"width":63,"height":63,"_p":63},"locationReducedAccuracy":63,"theme":{"dark":63,"light":63,"_p":63},"host":{"appId":63,"_p":63},"enableDebug":63,"deviceOrientation":{"portrait":63,"landscape":63,"_p":63}},"_p":63},"getSystemSetting":{"return":{"bluetoothEnabled":63,"locationEnabled":63,"wifiEnabled":63,"deviceOrientation":{"portrait":63,"landscape":63,"_p":63}},"_p":63},"getUpdateManager":47,"getUserCryptoManager":31,"getUserInfo":{"object":{"withCredentials":63,"lang":{"en":63,"zh_CN":63,"zh_TW":63,"_p":63}},"success":{"userInfo":63,"rawData":63,"signature":63,"encryptedData":63,"iv":63,"cloudID":63},"_p":63},"getUserProfile":{"object":{"lang":{"en":47,"zh_CN":47,"zh_TW":47,"_p":47},"desc":47},"success":{"userInfo":47,"rawData":47,"signature":47,"encryptedData":47,"iv":47,"cloudID":47},"_p":47},"getVideoInfo":{"object":{"src":39},"success":{"orientation":{"up":39,"down":39,"left":39,"right":39,"up-mirrored":39,"down-mirrored":39,"left-mirrored":39,"right-mirrored":39,"_p":39},"type":39,"duration":39,"size":39,"height":39,"width":39,"fps":39,"bitrate":39},"_p":39},"getWeRunData":{"success":{"encryptedData":7,"iv":7,"cloudID":7},"_p":7},"getWifiList":7,"getWindowInfo":{"return":{"pixelRatio":63,"screenWidth":63,"screenHeight":63,"windowWidth":63,"windowHeight":63,"statusBarHeight":63,"safeArea":{"left":63,"right":63,"top":63,"bottom":63,"width":63,"height":63,"_p":63},"screenTop":63},"_p":63},"hideHomeButton":31,"hideKeyboard":31,"hideLoading":{"object":{"noConflict":63},"_p":63},"hideNavigationBarLoading":63,"hideShareMenu":{"object":{"menus":63},"_p":63},"hideTabBar":{"object":{"animation":47},"_p":47},"hideTabBarRedDot":{"object":{"index":63},"_p":63},"hideToast":{"object":{"noConflict":63},"_p":63},"initFaceDetect":7,"isBluetoothDevicePaired":{"object":{"deviceId":7},"_p":7},"isVKSupport":7,"join1v1Chat":{"object":{"caller":31,"listener":31,"backgroundType":{"0":31,"1":31,"2":31,"3":31,"4":31,"5":31,"_p":31},"roomType":{"voice":31,"video":31,"_p":31},"minWindowType":31,"disableSwitchVoice":31},"_p":31},"joinVoIPChat":{"object":{"roomType":{"voice":31,"video":31,"_p":31},"signature":31,"nonceStr":31,"timeStamp":31,"groupId":31,"muteConfig":31,"forceCellularNetwork":31},"success":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"loadFontFace":{"object":{"global":63,"family":63,"source":63,"desc":{"style":63,"weight":63,"variant":63,"_p":63},"scopes":63},"success":{"status":63},"_p":63},"login":{"object":{"timeout":63},"success":{"code":63},"_p":63},"makeBluetoothPair":{"object":{"deviceId":7,"pin":7,"timeout":7},"_p":7},"makePhoneCall":{"object":{"phoneNumber":39},"_p":39},"navigateBack":{"object":{"delta":63},"_p":63},"navigateBackMiniProgram":{"object":{"extraData":31},"_p":31},"navigateTo":{"object":{"url":63,"events":63,"routeType":63,"routeConfig":63,"routeOptions":63},"success":{"eventChannel":63},"_p":63},"navigateToMiniProgram":{"object":{"appId":63,"path":63,"extraData":63,"envVersion":{"develop":63,"trial":63,"release":63,"_p":63},"shortLink":63,"noRelaunchIfPathUnchanged":63},"_p":63},"nextTick":63,"notifyBLECharacteristicValueChange":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7,"state":7,"type":7},"_p":7},"offAccelerometerChange":39,"offAfterPageLoad":7,"offAfterPageUnload":7,"offApiCategoryChange":7,"offAppHide":7,"offAppRoute":7,"offAppRouteDone":7,"offAppShow":7,"offAudioInterruptionBegin":31,"offAudioInterruptionEnd":31,"offBLECharacteristicValueChange":7,"offBLEConnectionStateChange":7,"offBLEMTUChange":7,"offBLEPeripheralConnectionStateChanged":7,"offBatteryInfoChange":47,"offBeaconServiceChange":7,"offBeaconUpdate":7,"offBeforeAppRoute":7,"offBeforePageLoad":7,"offBeforePageUnload":7,"offBluetoothAdapterStateChange":7,"offBluetoothDeviceFound":7,"offCompassChange":7,"offCopyUrl":7,"offDeviceMotionChange":7,"offEmbeddedMiniProgramHeightChange":7,"offError":63,"offGetWifiList":7,"offGyroscopeChange":7,"offHCEMessage":7,"offKeyDown":7,"offKeyUp":7,"offKeyboardHeightChange":7,"offLazyLoadError":7,"offLocalServiceDiscoveryStop":7,"offLocalServiceFound":7,"offLocalServiceLost":7,"offLocalServiceResolveFail":7,"offLocationChange":7,"offLocationChangeError":7,"offMemoryWarning":7,"offMenuButtonBoundingClientRectWeightChange":47,"offNetworkStatusChange":7,"offNetworkWeakChange":47,"offPageNotFound":7,"offScreenRecordingStateChanged":2,"offThemeChange":7,"offUnhandledRejection":7,"offUserCaptureScreen":7,"offVoIPChatInterrupted":31,"offVoIPChatMembersChanged":31,"offVoIPChatSpeakersChanged":31,"offVoIPChatStateChanged":31,"offVoIPVideoMembersChanged":31,"offWifiConnected":7,"offWifiConnectedWithPartialInfo":7,"offWindowResize":63,"onAccelerometerChange":{"callback":{"x":7,"y":7,"z":7},"_p":7},"onAfterPageLoad":{"callback":{"path":7,"query":7,"componentFramework":{"exparser":7,"glass-easel":7,"_p":7},"openType":7,"routeEventId":7,"page":7},"_p":7},"onAfterPageUnload":{"callback":{"path":7,"routeEventId":7},"_p":7},"onApiCategoryChange":{"callback":{"apiCategory":{"default":7,"nativeFunctionalized":7,"browseOnly":7,"embedded":7,"_p":7}},"_p":7},"onAppHide":{"callback":{"reason":{"0":7,"1":7,"2":7,"3":7,"_p":7}},"_p":7},"onAppRoute":{"callback":{"path":7,"query":7,"renderer":{"webview":7,"skyline":7,"xr-frame":7,"_p":7},"openType":7,"webviewId":7,"timeStamp":7,"routeEventId":7,"pipMode":{"min":7,"max":7,"_p":7},"notFound":7,"page":7},"_p":7},"onAppRouteDone":{"callback":{"path":7,"query":7,"openType":7,"webviewId":7,"timeStamp":7,"routeEventId":7},"_p":7},"onAppShow":{"callback":{"path":7,"scene":7,"query":7,"shareTicket":7,"referrerInfo":{"appId":7,"extraData":7,"_p":7},"forwardMaterials":7,"chatType":{"1":7,"2":7,"3":7,"4":7,"_p":7},"apiCategory":{"default":7,"nativeFunctionalized":7,"browseOnly":7,"embedded":7,"_p":7}},"_p":7},"onAudioInterruptionBegin":31,"onAudioInterruptionEnd":31,"onBLECharacteristicValueChange":{"callback":{"deviceId":7,"serviceId":7,"characteristicId":7,"value":7},"_p":7},"onBLEConnectionStateChange":{"callback":{"deviceId":7,"connected":7},"_p":7},"onBLEMTUChange":{"callback":{"deviceId":7,"mtu":7},"_p":7},"onBLEPeripheralConnectionStateChanged":{"callback":{"deviceId":7,"serverId":7,"connected":7},"_p":7},"onBackgroundAudioPause":7,"onBackgroundAudioPlay":7,"onBackgroundAudioStop":7,"onBackgroundFetchData":{"callback":{"fetchType":7,"fetchedData":7,"timeStamp":7,"path":7,"query":7,"scene":7},"_p":7},"onBatteryInfoChange":{"callback":{"isLowPowerModeEnabled":47},"_p":47},"onBeaconServiceChange":{"callback":{"available":7,"discovering":7},"_p":7},"onBeaconUpdate":{"callback":{"beacons":7},"_p":7},"onBeforeAppRoute":{"callback":{"path":7,"query":7,"renderer":{"webview":7,"skyline":7,"xr-frame":7,"_p":7},"openType":7,"webviewId":7,"routeEventId":7,"pipMode":{"min":7,"max":7,"_p":7},"notFound":7,"page":7},"_p":7},"onBeforePageLoad":{"callback":{"path":7,"query":7,"componentFramework":{"exparser":7,"glass-easel":7,"_p":7},"openType":7,"routeEventId":7},"_p":7},"onBeforePageUnload":{"callback":{"path":7,"routeEventId":7,"page":7},"_p":7},"onBluetoothAdapterStateChange":{"callback":{"available":7,"discovering":7},"_p":7},"onBluetoothDeviceFound":{"callback":{"devices":7},"_p":7},"onCompassChange":{"callback":{"direction":7,"accuracy":7},"_p":7},"onCopyUrl":{"callback":{"query":7},"_p":7},"onDeviceMotionChange":{"callback":{"alpha":7,"beta":7,"gamma":7},"_p":7},"onEmbeddedMiniProgramHeightChange":{"callback":{"height":7,"initialHeight":7},"_p":7},"onError":{"callback":{"message":63,"stack":63},"_p":63},"onGetWifiList":{"callback":{"wifiList":7},"_p":7},"onGyroscopeChange":{"callback":{"x":7,"y":7,"z":7},"_p":7},"onHCEMessage":{"callback":{"messageType":{"1":7,"2":7,"_p":7},"data":7,"reason":7},"_p":7},"onKeyDown":{"callback":{"key":7,"code":7,"altKey":7,"shiftKey":7,"timeStamp":7},"_p":7},"onKeyUp":{"callback":{"key":7,"code":7,"altKey":7,"shiftKey":7,"timeStamp":7},"_p":7},"onKeyboardHeightChange":{"callback":{"height":7},"_p":7},"onLazyLoadError":{"callback":{"type":7,"subpackage":7,"errMsg":7},"_p":7},"onLocalServiceDiscoveryStop":7,"onLocalServiceFound":{"callback":{"serviceType":7,"serviceName":7,"ip":7,"port":7},"_p":7},"onLocalServiceLost":{"callback":{"serviceType":7,"serviceName":7},"_p":7},"onLocalServiceResolveFail":{"callback":{"serviceType":7,"serviceName":7},"_p":7},"onLocationChange":{"callback":{"latitude":7,"longitude":7,"speed":7,"accuracy":7,"altitude":7,"verticalAccuracy":7,"horizontalAccuracy":7},"_p":7},"onLocationChangeError":{"callback":{"errCode":7},"_p":7},"onMemoryWarning":{"callback":{"level":{"5":7,"10":7,"15":7,"_p":7}},"_p":7},"onMenuButtonBoundingClientRectWeightChange":{"callback":{"width":47,"height":47,"top":47,"right":47,"bottom":47,"left":47},"_p":47},"onNeedPrivacyAuthorization":63,"onNetworkStatusChange":{"callback":{"isConnected":47,"networkType":{"wifi":47,"2g":47,"3g":47,"4g":47,"5g":47,"unknown":47,"none":47,"_p":47}},"_p":47},"onNetworkWeakChange":{"callback":{"weakNet":47,"networkType":47},"_p":47},"onPageNotFound":{"callback":{"path":7,"query":7,"isEntryPage":7},"_p":7},"onScreenRecordingStateChanged":{"callback":{"state":{"start":2,"stop":2,"_p":2}},"_p":2},"onSocketClose":{"callback":{"code":31,"reason":31},"_p":31},"onSocketError":{"callback":{"errMsg":31},"_p":31},"onSocketMessage":{"callback":{"data":31},"_p":31},"onSocketOpen":{"callback":{"header":31},"_p":31},"onThemeChange":{"callback":{"theme":{"dark":7,"light":7,"_p":7}},"_p":7},"onUnhandledRejection":{"callback":{"reason":7,"promise":7},"_p":7},"onUserCaptureScreen":{"callback":{"query":7,"promise":7},"_p":7},"onVoIPChatInterrupted":{"callback":{"errCode":31,"errMsg":31},"_p":31},"onVoIPChatMembersChanged":{"callback":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"onVoIPChatSpeakersChanged":{"callback":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"onVoIPChatStateChanged":{"callback":{"code":31,"data":31,"errCode":31,"errMsg":31},"_p":31},"onVoIPVideoMembersChanged":{"callback":{"openIdList":31,"errCode":31,"errMsg":31},"_p":31},"onWifiConnected":{"callback":{"wifi":7},"_p":7},"onWifiConnectedWithPartialInfo":{"callback":{"wifi":7},"_p":7},"onWindowResize":{"callback":{"size":{"windowWidth":63,"windowHeight":63,"_p":63}},"_p":63},"openAppAuthorizeSetting":7,"openBluetoothAdapter":{"object":{"mode":{"central":7,"peripheral":7,"_p":7}},"_p":7},"openCard":{"object":{"cardList":7},"_p":7},"openChannelsActivity":{"object":{"finderUserName":7,"feedId":7},"_p":7},"openChannelsEvent":{"object":{"finderUserName":31,"eventId":31},"_p":31},"openChannelsLive":{"object":{"finderUserName":7,"feedId":7,"nonceId":7},"_p":7},"openChannelsUserProfile":{"object":{"finderUserName":7},"_p":7},"openCustomerServiceChat":{"object":{"extInfo":{"url":15,"_p":15},"corpId":15,"showMessageCard":15,"sendMessageTitle":15,"sendMessagePath":15,"sendMessageImg":15},"_p":15},"openDocument":{"object":{"filePath":31,"showMenu":31,"fileType":{"doc":31,"docx":31,"xls":31,"xlsx":31,"ppt":31,"pptx":31,"pdf":31,"_p":31}},"_p":31},"openEmbeddedMiniProgram":{"object":{"appId":7,"path":7,"extraData":7,"envVersion":{"develop":7,"trial":7,"release":7,"_p":7},"shortLink":7,"verify":{"binding":7,"unionProduct":7,"_p":7},"noRelaunchIfPathUnchanged":7,"allowFullScreen":7},"_p":7},"openHKOfflinePayView":{"object":{"timeStamp":7,"nonceStr":7,"package":7,"signType":{"SHA1":7,"_p":7},"paySign":7},"_p":7},"openLocation":{"object":{"latitude":55,"longitude":55,"scale":55,"name":55,"address":55},"_p":55},"openOfficialAccountArticle":{"object":{"url":7},"success":{"cancel":7,"confirm":7},"_p":7},"openPrivacyContract":63,"openSetting":{"object":{"withSubscriptions":23},"success":{"authSetting":23,"subscriptionsSetting":23},"_p":23},"openSingleStickerView":{"object":{"url":7},"_p":7},"openStickerIPView":{"object":{"url":7},"_p":7},"openStickerSetView":{"object":{"url":7},"_p":7},"openSystemBluetoothSetting":7,"openVideoEditor":{"object":{"filePath":7,"minDuration":7,"maxDuration":7},"success":{"duration":7,"size":7,"tempFilePath":7,"tempThumbPath":7},"_p":7},"pageScrollTo":{"object":{"scrollTop":63,"duration":63,"selector":63,"offsetTop":63},"_p":63},"pauseBackgroundAudio":7,"pauseVoice":7,"playBackgroundAudio":{"object":{"dataUrl":7,"title":7,"coverImgUrl":7},"_p":7},"playVoice":{"object":{"filePath":7,"duration":7},"_p":7},"pluginLogin":15,"postMessageToReferrerMiniProgram":{"object":{"extraData":7},"_p":7},"preDownloadSubpackage":{"object":{"packageType":31},"_p":31},"preloadAssets":{"object":{"data":63},"_p":63},"preloadSkylineView":7,"preloadWebview":7,"previewImage":{"object":{"urls":63,"showmenu":63,"current":63,"referrerPolicy":63},"_p":63},"previewMedia":{"object":{"sources":7,"current":7,"showmenu":7,"referrerPolicy":7},"_p":7},"reLaunch":{"object":{"url":63},"_p":63},"readBLECharacteristicValue":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7},"_p":7},"redirectTo":{"object":{"url":63},"_p":63},"removeStorage":{"object":{"key":63},"_p":63},"removeStorageSync":63,"removeTabBarBadge":{"object":{"index":63},"_p":63},"reportAnalytics":31,"reportEvent":7,"reportMonitor":31,"reportPerformance":7,"request":{"object":{"url":63,"data":63,"header":63,"timeout":63,"method":{"OPTIONS":63,"GET":63,"HEAD":63,"POST":63,"PUT":63,"DELETE":63,"TRACE":63,"CONNECT":63,"_p":63},"dataType":{"json":63,"其他":63,"_p":63},"responseType":{"text":63,"arraybuffer":63,"_p":63},"useHighPerformanceMode":63,"enableHttp2":63,"enableProfile":63,"enableQuic":63,"enableCache":63,"enableHttpDNS":63,"httpDNSServiceId":63,"enableChunked":63,"forceCellularNetwork":63,"redirect":{"follow":63,"manual":63,"_p":63}},"success":{"data":63,"statusCode":63,"header":63,"cookies":63,"profile":63,"exception":63,"useHttpDNS":63},"_p":63},"requestCommonPayment":{"object":{"mode":{"retail_pay_goods":7,"_p":7},"signData":7,"paySig":7,"signature":7},"success":{"errMsg":7},"_p":7},"requestDeviceVoIP":{"object":{"sn":7,"snTicket":7,"modelId":7,"deviceName":7,"isGroup":7,"groupId":7},"_p":7},"requestMerchantTransfer":{"object":{"mchId":7,"subMchId":7,"appId":7,"subAppId":7,"package":7,"openId":7},"_p":7},"requestOrderPayment":7,"requestPayment":{"object":{"timeStamp":63,"nonceStr":63,"package":63,"signType":{"MD5":63,"HMAC-SHA256":63,"RSA":63,"_p":63},"paySign":63},"_p":63},"requestPluginPayment":{"object":{"version":{"develop":7,"trial":7,"release":7,"_p":7},"fee":7,"paymentArgs":7,"currencyType":7},"_p":7},"requestSubscribeDeviceMessage":{"object":{"tmplIds":7,"sn":7,"snTicket":7,"modelId":7},"success":{"errMsg":7,"TEMPLATE_ID":7},"_p":7},"requestSubscribeMessage":{"object":{"tmplIds":63},"success":{"errMsg":63,"TEMPLATE_ID":63},"_p":63},"requestVirtualPayment":{"object":{"signData":7,"mode":{"short_series_goods":7,"short_series_coin":7,"_p":7},"paySig":7,"signature":7},"success":{"errMsg":7},"_p":7},"requirePrivacyAuthorize":63,"reserveChannelsLive":{"object":{"noticeId":7},"_p":7},"restartMiniProgram":{"object":{"path":7},"_p":7},"revokeBufferURL":31,"saveFileToDisk":{"object":{"filePath":31},"_p":31},"saveImageToPhotosAlbum":{"object":{"filePath":31},"_p":31},"saveVideoToPhotosAlbum":{"object":{"filePath":31},"_p":31},"scanCode":{"object":{"onlyFromCamera":7,"scanType":{"barCode":7,"qrCode":7,"datamatrix":7,"pdf417":7,"_p":7}},"success":{"result":7,"scanType":{"QR_CODE":7,"AZTEC":7,"CODABAR":7,"CODE_39":7,"CODE_93":7,"CODE_128":7,"DATA_MATRIX":7,"EAN_8":7,"EAN_13":7,"ITF":7,"MAXICODE":7,"PDF_417":7,"RSS_14":7,"RSS_EXPANDED":7,"UPC_A":7,"UPC_E":7,"UPC_EAN_EXTENSION":7,"WX_CODE":7,"CODE_25":7,"_p":7},"charSet":7,"path":7,"rawData":7},"_p":7},"seekBackgroundAudio":{"object":{"position":7},"_p":7},"sendHCEMessage":{"object":{"data":7},"_p":7},"sendSms":{"object":{"phoneNumber":7,"content":7},"_p":7},"sendSocketMessage":{"object":{"data":63},"_p":63},"setBLEMTU":{"object":{"deviceId":7,"mtu":7},"success":{"mtu":7},"_p":7},"setBackgroundColor":{"object":{"backgroundColor":7,"backgroundColorTop":7,"backgroundColorBottom":7},"_p":7},"setBackgroundFetchToken":{"object":{"token":7},"_p":7},"setBackgroundTextStyle":{"object":{"textStyle":{"dark":7,"light":7,"_p":7}},"_p":7},"setClipboardData":{"object":{"data":63},"_p":63},"setEnable1v1Chat":{"object":{"enable":31,"backgroundType":{"0":31,"1":31,"2":31,"3":31,"4":31,"5":31,"_p":31},"minWindowType":31},"_p":31},"setEnableDebug":{"object":{"enableDebug":31},"_p":31},"setInnerAudioOption":{"object":{"mixWithOther":7,"obeyMuteSwitch":7,"speakerOn":7},"_p":7},"setKeepScreenOn":{"object":{"keepScreenOn":39},"_p":39},"setNavigationBarColor":{"object":{"frontColor":63,"backgroundColor":63,"animation":{"duration":63,"timingFunc":63,"_p":63}},"_p":63},"setNavigationBarTitle":{"object":{"title":63},"_p":63},"setScreenBrightness":{"object":{"value":63},"_p":63},"setStorage":{"object":{"key":63,"data":63,"encrypt":63},"_p":63},"setStorageSync":63,"setTabBarBadge":{"object":{"index":63,"text":63},"_p":63},"setTabBarItem":{"object":{"index":47,"text":47,"iconPath":47,"selectedIconPath":47},"_p":47},"setTabBarStyle":{"object":{"color":47,"selectedColor":47,"backgroundColor":47,"borderStyle":47},"_p":47},"setTopBarText":{"object":{"text":7},"_p":7},"setVisualEffectOnCapture":{"object":{"visualEffect":7},"_p":7},"setWifiList":{"object":{"wifiList":7},"_p":7},"setWindowSize":{"object":{"width":63,"height":63},"_p":63},"shareFileMessage":{"object":{"filePath":7,"fileName":7},"_p":7},"shareToWeRun":{"object":{"recordList":7},"_p":7},"shareVideoMessage":{"object":{"videoPath":7,"thumbPath":7},"_p":7},"showActionSheet":{"object":{"alertText":63,"itemList":63,"itemColor":63},"success":{"tapIndex":63},"_p":63},"showLoading":{"object":{"title":63,"mask":63},"_p":63},"showModal":{"object":{"title":63,"content":63,"showCancel":63,"cancelText":63,"cancelColor":63,"confirmText":63,"confirmColor":63,"editable":63,"placeholderText":63},"success":{"content":63,"confirm":63,"cancel":63},"_p":63},"showNavigationBarLoading":63,"showRedPackage":{"object":{"url":23},"_p":23},"showShareImageMenu":{"object":{"path":63,"style":63,"needShowEntrance":63,"entrancePath":63},"_p":63},"showShareMenu":{"object":{"withShareTicket":63,"menus":63},"_p":63},"showTabBar":{"object":{"animation":63},"_p":63},"showTabBarRedDot":{"object":{"index":63},"_p":63},"showToast":{"object":{"title":63,"icon":{"success":63,"error":63,"loading":63,"none":63,"_p":63},"image":63,"duration":63,"mask":63},"_p":63},"startAccelerometer":{"object":{"interval":{"game":39,"ui":39,"normal":39,"_p":39}},"_p":39},"startBeaconDiscovery":{"object":{"uuids":7,"ignoreBluetoothAvailable":7},"_p":7},"startBluetoothDevicesDiscovery":{"object":{"services":7,"allowDuplicatesKey":7,"interval":7,"powerLevel":{"low":7,"medium":7,"high":7,"_p":7}},"_p":7},"startCompass":39,"startDeviceMotionListening":{"object":{"interval":{"game":7,"ui":7,"normal":7,"_p":7}},"_p":7},"startGyroscope":{"object":{"interval":{"game":7,"ui":7,"normal":7,"_p":7}},"_p":7},"startHCE":{"object":{"aid_list":7},"_p":7},"startLocalServiceDiscovery":{"object":{"serviceType":7},"_p":7},"startLocationUpdate":{"object":{"type":39},"_p":39},"startLocationUpdateBackground":{"object":{"type":39},"_p":39},"startPullDownRefresh":63,"startRecord":{"success":{"tempFilePath":7},"_p":7},"startSoterAuthentication":{"object":{"requestAuthModes":{"fingerPrint":7,"facial":7,"speech":7,"_p":7},"challenge":7,"authContent":7},"success":{"authMode":7,"resultJSON":7,"resultJSONSignature":7,"errCode":7,"errMsg":7},"_p":7},"startWifi":7,"stopAccelerometer":39,"stopBackgroundAudio":7,"stopBeaconDiscovery":7,"stopBluetoothDevicesDiscovery":7,"stopCompass":39,"stopDeviceMotionListening":7,"stopFaceDetect":7,"stopGyroscope":7,"stopHCE":7,"stopLocalServiceDiscovery":7,"stopLocationUpdate":39,"stopPullDownRefresh":63,"stopRecord":7,"stopVoice":7,"stopWifi":7,"subscribeVoIPVideoMembers":{"object":{"openIdList":31},"_p":31},"switchTab":{"object":{"url":63},"_p":63},"updateShareMenu":{"object":{"withShareTicket":63,"isUpdatableMessage":63,"activityId":63,"toDoActivityId":63,"templateInfo":63,"isPrivateMessage":63},"_p":63},"updateVoIPChatMuteConfig":{"object":{"muteConfig":31},"_p":31},"updateWeChatApp":23,"uploadFile":{"object":{"url":63,"filePath":63,"name":63,"header":63,"formData":63,"timeout":63,"useHighPerformanceMode":63,"enableProfile":63,"enableHttp2":63},"success":{"data":63,"statusCode":63},"_p":63},"vibrateLong":7,"vibrateShort":{"object":{"type":7},"_p":7},"writeBLECharacteristicValue":{"object":{"deviceId":7,"serviceId":7,"characteristicId":7,"value":7,"writeType":{"write":7,"writeNoResponse":7,"_p":7}},"_p":7}}}');const _ke=bke;var wke={ANDROID:1,IOS:2,DEVTOOLS:4,WIN:8,MAC:16,WMPF:32};function Ske(){return ke?wke.ANDROID:Ie?wke.IOS:Ce?wke.DEVTOOLS:xe?wke.WIN:Ae?wke.WMPF:void 0}function Cke(e,t,r){var n=Ske();switch(e){case"comp":var[i,a]=r;"object"==typeof t&&(i?"object"==typeof(t=t[i])&&(t=a?t[a]:t._p):t=t._p);break;case"method":var[o,s,l]=r;if("object"==typeof t){var c=t._p;o?(t=t[o],s&&"object"==typeof t?"object"==typeof(t=t[s])&&(t=l?t[l]:t._p):t=c):t=c}break;case"class":var[u]=r;"object"==typeof t&&(t=u?t[u]:t._p)}return(t&n)===n}function kke(e,t,r){var n=yke[e];return!!n&&((!t||t in n)&&(!(r&&("object"!=typeof n[t]||!n[t][r]))&&!!Cke("comp",n,[t,r])))}function Ike(e,t,r,n){var i=_ke.method[e];if(!i)return!1;if(t&&!i[t])return!1;if(r&&!i[t][r])return!1;if(n){var a=i[t][r];if("object"!=typeof a||!a[n])return!1}return!!Cke("method",i,[t,r,n])}function Pke(e,t,r){r&&(t=`${t}.${r}`);var n=_ke.class[e]||_ke.class[`wx.${e}`];return!!n&&(!(t&&!n[t])&&!!Cke("class",n,[t]))}function Tke(e=""){if("string"!=typeof e)throw new Td("canIUse: schema should be a string");var t;if(re.customCanIUse&&(fd("platformCanIUse",{schema:e,success:e=>{t=e.result}}),"boolean"==typeof t))return t;var r=e.split(".");return!!kke(...r)||(!!Pke(...r)||(!!Ike(...r)||"requestVirtualPayment"===e))}var Ake=nr("batteryInfoChange"),xke=(e={})=>{setTimeout((()=>{fd("getBatteryInfo",e)}),0)},Eke=()=>{var e={level:100,isCharging:!0};if(fd("getBatteryInfo",{complete:t=>e=t}),e.errMsg=e.errMsg?e.errMsg.replace("getBatteryInfo","getBatteryInfoSync"):"getBatteryInfoSync:ok",/fail/.test(e.errMsg))throw new Error(e.errMsg);return e},Mke=Ake.onMethod,Rke=Ake.offMethod;Ut("onBatteryInfoChange",((e={})=>{Ake.emit(e)}));var Dke=!1,Oke=nr("accelerometerChange"),Lke=function(e={}){var t={fast:0,game:20,ui:60,normal:200},r=sh(this),n=xd(e,{interval:void 0!==t[e.interval]?t[e.interval]:t.normal,enable:!0});fd("enableAccelerometer",n,{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")},afterSuccess(){cre(r,"wx.startAccelerometer")}}),Dke=!0},Nke=(e={})=>{fd("enableAccelerometer",xd(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),Dke=!1},Bke=Oke.onMethod,$ke=e=>{var t;Oke.offMethod(e),null!==(t=Oke.getGlobalListeners())&&void 0!==t&&t.length||Nke()},Fke=e=>{Dke||(fd("enableAccelerometer",{enable:!0}),Dke=!0),Bke(e)};Ut("onAccelerometerChange",((e={})=>{Oke.emit(e)}));var jke=!1,Wke=nr("compassChange"),Vke=function(e={}){var t=sh(this);fd("enableCompass",xd(e,{enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","startCompass")},afterSuccess(){ure(t,"wx.startCompass")}}),jke=!0},Uke=(e={})=>{!0===jke?fd("enableCompass",xd(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableCompass","stopCompass")},afterSuccess(){jke=!1}}):zc({name:"stopCompass",args:e})},zke=Wke.onMethod,qke=e=>{var t;Wke.offMethod(e),null!==(t=Wke.getGlobalListeners())&&void 0!==t&&t.length||Uke()},Hke=e=>{jke||(fd("enableCompass",{enable:!0}),jke=!0),zke(e)};Ut("onCompassChange",((e={})=>{Wke.emit(e)}));var Gke=(e={})=>{jc("makePhoneCall",e,{phoneNumber:""})&&fd("makePhoneCall",e)},Kke=(e={})=>{fd("makeVoIPCall",xd({allowBackCamera:!1,showOther:!1},e))},Jke=(e={})=>{jc("scanCode",e,{})&&fd("scanCode",e,{beforeSuccess(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},Xke=(e={})=>{jc("openQRCode",e,{})&&fd("openQRCode",e)},Yke=lx("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=(e.products||[]).map((e=>({info:{title:e.info.title,category:e.info.category.map((e=>({name:e.name})))}})))})),Qke=lx("scanItem","ProductLogic",(e=>({method:"AIIdentifyProductInfo",data:JSON.stringify({req_key:e.reqKey})})),(e=>{delete e.errcode,e.products=e.products||[]})),Zke=(e={})=>{jc("scanItem",e,{})&&fd("scanItem",{...e,data:JSON.stringify({appId:re.accountInfo.appId,path:su.lastRoute}),success:()=>{},fail:()=>{},complete:t=>{0!==t.errMsg.indexOf("scanItem:fail")?Yke({reqKey:t.reqKey,success:e.success,fail:e.fail,complete:e.complete}):Vc("scanItem",e,t.errMsg.substr(14).trim(),t.errCode)}})},eIe=(e={})=>{jc("scanItem",e,{})&&fd("scanItem",{...e,data:JSON.stringify({appId:re.accountInfo.appId,path:su.lastRoute}),success:()=>{},fail:()=>{},complete:t=>{0!==t.errMsg.indexOf("scanItem:fail")?Qke({reqKey:t.reqKey,success:e.success,fail:e.fail,complete:e.complete}):Vc("scanItem",e,t.errMsg.substr(14).trim(),t.errCode)}})},tIe=(e={})=>{fd("getClipboardData",e,{beforeSuccess(e){var t;if(!Ge()){var r=(null===(t=re.accountInfo)||void 0===t?void 0:t.nickname)||"小程序",n=B$();n?setTimeout((()=>{n("clipboard",{content:e.data})}),100):!1===n&&M$((t=>{t("clipboard",{content:e.data})})),hj({icon:"",title:`“${r}”读取了你的剪切板内容`})}}})},rIe=(e={})=>{Bee("setClipboardData")?Vc("setClipboardData",e,"no permission"):jc("setClipboardData",e,{data:""})&&fd("setClipboardData",e,{beforeSuccess(e){Sd("showToast",{icon:"",title:"内容已复制"})}})},nIe=(e={})=>{if(e.uuids)if(Array.isArray(e.uuids)){if(0!==e.uuids.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.uuids.some((e=>"string"==typeof e&&t.test(e))))return void Vc("startBeaconDiscovery",e,"invalid service uuid")}fd("startBeaconDiscovery",e)}else Vc("startBeaconDiscovery",e,"uuid must be an Array");else Vc("startBeaconDiscovery",e,"must have uuid")},iIe=(e={})=>{fd("stopBeaconDiscovery",e)},aIe=(e={})=>{fd("getBeacons",e)},oIe=e=>{jc("onBeaconUpdate",e,Dt)&&Ut("onBeaconUpdated",E.surroundThirdByTryCatch(e,"at onBeaconUpdate callback function"))},sIe=()=>{Ut("onBeaconUpdated",(()=>{}))},lIe=e=>{jc("onBeaconServiceChange",e,Dt)&&Ut("onBeaconServiceChanged",E.surroundThirdByTryCatch(e,"at onBeaconServiceChange callback function"))},cIe=()=>{Ut("onBeaconServiceChanged",(()=>{}))},uIe=e=>{fd("chooseContact",e)},dIe=(e={})=>{fd("chooseWeChatContact",e)},pIe=function(e={}){vd(sh(this))("addPhoneContact",e,{})},hIe=(e={})=>{aS("quicklyAddBrandContact",e,{})},fIe=Yc("searchContacts",Vp()((function*(e={}){if(Wc(e,{phoneNumber:""}),!/^.{8,}$/.test(e.phoneNumber))throw new Error("phoneNumber length is less than 8");return yield gd("searchContacts",e,{})}))),gIe=fIe,vIe=Yc("sendSms",Vp()((function*(e={}){return yield gd("sendSms",e,{})}))),mIe=function(e={}){vd(sh(this))("openBluetoothAdapter",e,{})},yIe=(e={})=>{bIe({success(t){var r=t.devices.filter((e=>e.appid===re.accountInfo.appId));r.forEach((e=>{e.deviceId=e.bluetoothDeviceId,delete e.bluetoothDeviceId,delete e.appid})),id({devices:r},"getMonitoredBluetoothDevices",e,{})},fail(t){Vc("getMonitoredBluetoothDevices",e,t.errMsg)}})},bIe=(e={})=>{e.type="getAll",fd("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg},beforeSuccess(e){e.devices.forEach((e=>{e.appId&&(e.appid=e.appId,delete e.appId),e.sn=e.deviceId,delete e.deviceId}))}})},_Ie=[];function wIe(e={}){yIe({success(t){if(t.devices){var r={},n=_Ie.filter((t=>t.sn===e.sn))[0];n&&(r[n.deviceId]=n),t.devices.forEach((e=>{r[e.deviceId]=e})),_Ie=Object.values(r),gt(e.success)&&e.success()}}})}function SIe(e){return _Ie.some((t=>t.deviceId===e))}var CIe=new Yt;CIe.on("_updateMonitorDevices",wIe);var kIe=new Yt,IIe=()=>re&&Array.isArray(re.requiredBackgroundModes)&&re.requiredBackgroundModes.includes("bluetooth"),PIe=(e={})=>{if(!IIe())return Vc("openBluetoothAdapterBackground",e,"requiredBackgroundModes in app.json invalid",10014);fd("openBluetoothAdapterBackground",{success(t){"boolean"==typeof e.enableMonitoring?(kIe.emit("_enableMonitoring",e.enableMonitoring),CIe.emit("_updateMonitorDevices",{success(){id(t,"openBluetoothAdapterBackground",e,{})}})):id(t,"openBluetoothAdapterBackground",e,{})},fail(t){var r=t.errMsg.replace("openBluetoothAdapterBackground:fail","").trim();Vc("openBluetoothAdapterBackground",e,r)}},{})},TIe=(e={})=>{fd("closeBluetoothAdapter",e,{})},AIe=(e={})=>{fd("getBluetoothAdapterState",e,{})},xIe=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void Vc("startBluetoothDevicesDiscovery",{},"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void Vc("startBluetoothDevicesDiscovery",{},"invalid service uuid");e.services=e.services.map((e=>(ke&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}fd("startBluetoothDevicesDiscovery",e,{})},EIe=(e={})=>{fd("stopBluetoothDevicesDiscovery",e,{})},MIe=(e={})=>{fd("getBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices.map((e=>{if(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=LP(e.advertisData)),e.serviceData){var t=e.serviceData;Object.keys(t).forEach((e=>{t[e]&&(t[e]=LP(t[e]))}))}return e}))}})},RIe=(e={})=>{jc("getBLEDeviceRSSI",e,{deviceId:""})&&fd("getBLEDeviceRSSI",e)},DIe=(e={})=>{if(e.services){if(!Array.isArray(e.services))return void Vc("getConnectedBluetoothDevices",e,"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some((e=>"string"==typeof e&&t.test(e))))return void Vc("getConnectedBluetoothDevices",{},"invalid service uuid");e.services=e.services.map((e=>(ke&&(e=e.toUpperCase()),4===e.length?`0000${e}-0000-1000-8000-00805F9B34FB`:8===e.length?`${e}-0000-1000-8000-00805F9B34FB`:e)))}}fd("getConnectedBluetoothDevices",e,{beforeSuccess(e){Array.isArray(e.devices)||(e.devices=[]),e.devices=e.devices.map((e=>(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=LP(e.advertisData)),e)))}})},OIe=Object.create(null);Id((()=>{OIe=BIe.get()}));var LIe=p.prototype.call.bind(Object.prototype.hasOwnProperty),NIe=()=>{var e=Object.create(null);return{add(t){e[t]=t},remove(t){delete e[t]},has:t=>LIe(e,t),get(){var t=Object.create(null);return Object.assign(t,e)},clear(){e=Object.create(null)}}},BIe=NIe();wle((e=>{e&&(e.connected?BIe.add(e.deviceId):BIe.remove(e.deviceId))})),Ile((e=>{e&&!e.available&&BIe.clear()}));var $Ie=e=>BIe.has(e),FIe=e=>LIe(OIe,e),jIe=!1;Eh((()=>{jIe=!1})),Id((()=>{jIe=!0}));var WIe=()=>jIe||Bx(),VIe=new Yt,UIe=Object.create(null),zIe=!1;function qIe(e,t,r,n){zc({name:e,args:t,errMsg:r,errno:n,success:!1}),zIe=!1}function HIe(e){for(var t=Object.create(null),r=0;r<e.length;r++){if(t[e[r]])return t=null,!0;t[e[r]]=e[r]}return t=null,!1}function GIe({devices:e},t){tx({sdkApiName:"CheckBluetoothDeviceTicket",apiName:"CheckBluetoothDeviceTicket",reqData:{scene:0,device_info_list:e.map((e=>({sn:e.sn,sn_ticket:e.snTicket,model_id:e.modelId,bluetooth_device_id:e.deviceId})))},success(e){var{max_user_count_to_device:r,max_device_count_to_app:n}=e.data;r&&n&&delete e.errMsg,t(e)},fail(e){t(e)}})}var KIe=(e={})=>{if(jc("setBluetoothBackgroundMode",e,{enable:!1,devices:[{sn:"",snTicket:"",modelId:"",deviceId:""}]})){if(zIe)return qIe("setBluetoothBackgroundMode",e,"current interface is busy",Jl);zIe=!0;var t=e.devices.some((e=>Object.keys(e).some((t=>""===e[t]))));if(t)return qIe("setBluetoothBackgroundMode",e,"device property can't be empty",Xl);var r=e.devices.map((e=>e.sn)),n=e.devices.map((e=>e.deviceId));if(HIe(r)||HIe(n))return qIe("setBluetoothBackgroundMode",e,"repeated sn or deviceId",Yl);if(e.devices.some((e=>Object.values(UIe).some((t=>t.deviceId===e.deviceId&&t.sn!==e.sn)))))return qIe("setBluetoothBackgroundMode",e,"deviceId already binded by another sn",Ql);e.devices.forEach((e=>{UIe[e.sn]=e}));var i=()=>{fd("setBluetoothBackgroundMode",e,{beforeSuccess(){VIe.emit("_setBluetoothBackgroundMode",e)},beforeAll(){zIe=!1}})};if(e.devices.every((e=>SIe(e.deviceId))))return i();GIe(e,(t=>{if(t.errMsg)return qIe("setBluetoothBackgroundMode",e,t.errMsg,Zl);i()}))}},JIe=!1,XIe=[];VIe.on("_setBluetoothBackgroundMode",(e=>{JIe=e.enable,XIe=e.devices.map((e=>e.deviceId))}));var YIe=(e,t)=>{!SIe(e)&&WIe()&&JIe?t(!(FIe(e)&&XIe.includes(e))):t(!1)},QIe=e=>{var t=e.map(encodeURIComponent).join(",");M.reportKeyValue({key:"BLEDevices",value:t})},ZIe=(e={})=>{jc("createBLEConnection",e,{deviceId:""})&&(IIe()?YIe(e.deviceId,(t=>{t?Vc("createBLEConnection",e,"connect unknown devices is not allowed in bluetooth background mode",10015):(QIe([e.deviceId]),fd("createBLEConnection",e,{}))})):(QIe([e.deviceId]),fd("createBLEConnection",e,{})))},ePe=(e={})=>{jc("closeBLEConnection",e,{deviceId:""})&&fd("closeBLEConnection",e,{})},tPe=(e={})=>{jc("getBLEDeviceServices",e,{deviceId:""})&&fd("getBLEDeviceServices",e,{beforeSuccess(e){Array.isArray(e.services)||(e.services=[]),void 0===e.errCode&&(e.errCode=0)}})},rPe=(e={})=>{jc("getBLEDeviceCharacteristics",e,{deviceId:"",serviceId:""})&&fd("getBLEDeviceCharacteristics",Object.assign({},e,{serviceId:ke?e.serviceId.toUpperCase():e.serviceId}),{beforeSuccess(e){Array.isArray(e.characteristics)||(e.characteristics=[])}})},nPe=(e={})=>{jc("notifyBLECharacteristicValueChanged",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&fd("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:ke?e.serviceId.toUpperCase():e.serviceId,characteristicId:ke?e.characteristicId.toUpperCase():e.characteristicId}),{})},iPe=(e={})=>{jc("notifyBLECharacteristicValueChange",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&fd("notifyBLECharacteristicValueChanged",Object.assign({},e,{serviceId:ke?e.serviceId.toUpperCase():e.serviceId,characteristicId:ke?e.characteristicId.toUpperCase():e.characteristicId}),{beforeAll(e){void 0!==e.errCode&&(e.errCode=Number(e.errCode)),e.errMsg=e.errMsg.replace("notifyBLECharacteristicValueChanged","notifyBLECharacteristicValueChange")}})},aPe=(e={})=>{jc("readBLECharacteristicValue",e,{deviceId:"",serviceId:"",characteristicId:""})&&fd("readBLECharacteristicValue",Object.assign({},e,{serviceId:ke?e.serviceId.toUpperCase():e.serviceId,characteristicId:ke?e.characteristicId.toUpperCase():e.characteristicId}),{})},oPe=(e={})=>{jc("writeBLECharacteristicValue",e,{value:new ArrayBuffer(0),deviceId:"",serviceId:"",characteristicId:""})&&(!e.writeType||sPe(e.writeType)?fd("writeBLECharacteristicValue",Object.assign({},e,{value:OP(e.value),serviceId:e.serviceId.toUpperCase(),characteristicId:ke?e.characteristicId.toUpperCase():e.characteristicId}),{}):Vc("writeBLECharacteristicValue",e,"invalid writeType"))},sPe=e=>["write","writeNoResponse"].includes(e),lPe=e=>{Ut("onBLEConnectionStateChanged",E.surroundThirdByTryCatch(e,"at onBLEConnectionStateChanged callback function"))},cPe=()=>{Ut("onBLEConnectionStateChanged",(()=>{}))},uPe=e=>{Ut("onBLECharacteristicValueChange",((t={})=>{"string"==typeof t.value&&(t.value=LP(t.value)),E.surroundThirdByTryCatch(e,"at onBLECharacteristicValueChange callback function")(t)}))},dPe=()=>{Ut("onBLECharacteristicValueChange",(()=>{}))},pPe=e=>{Ut("onBluetoothDeviceFound",((t={})=>{var r=[];Array.isArray(t.devices)?r=t.devices:r.push(t),r=r.map((e=>{try{e.advertisData=LP(e.advertisData)}catch(e){}try{var t=e.serviceData||{};Object.keys(t).forEach((e=>{t[e]&&(t[e]=LP(t[e]))}))}catch(e){}return e})),E.surroundThirdByTryCatch(e,"at onBluetoothDeviceFound callback function")({devices:r})}))},hPe=()=>{Ut("onBluetoothDeviceFound",(()=>{}))},fPe,gPe=(e,t)=>Object.assign({},e,{[t]:OP(e[t])}),vPe=e=>!(e>=0&&e<65536),mPe=new Yt,yPe=new WeakMap,bPe=new WeakMap,_Pe=function(e,t){var r=`${yPe.get(this)}_on${e}`,n=r=>{E.surroundThirdByTryCatch(t,`at BLEPeripheralServer.on${e} callback function`)(r)};bPe.get(this).set(t,n),mPe.on(r,n)},wPe=function(e,t){var r=`${yPe.get(this)}_on${e}`,n=bPe.get(this);if(gt(t)){var i=n.get(t);gt(i)&&(n.delete(t),mPe.off(r,i))}else bPe.set(this,new WeakMap),mPe.removeAllListeners(r)},SPe=nr("CharacteristicReadRequest"),CPe=SPe.onMethod,kPe=SPe.offMethod;Ut("onCharacteristicReadRequest",((e={})=>{mPe.emit(`${e.serverId}_onCharacteristicReadRequest`,e),SPe.emit(e)}));var IPe=nr("CharacteristicWriteRequest"),PPe=IPe.onMethod,TPe=IPe.offMethod;Ut("onCharacteristicWriteRequest",((e={})=>{"string"==typeof e.value&&(e.value=LP(e.value)),mPe.emit(`${e.serverId}_onCharacteristicWriteRequest`,e),IPe.emit(e)}));var APe=nr("CharacteristicSubscribed"),xPe=APe.onMethod,EPe=APe.offMethod;Ut("onCharacteristicSubscribed",((e={})=>{mPe.emit(`${e.serverId}_onCharacteristicSubscribed`,e),APe.emit(e)}));var MPe=nr("CharacteristicUnsubscribed"),RPe=MPe.onMethod,DPe=MPe.offMethod;Ut("onCharacteristicUnsubscribed",((e={})=>{mPe.emit(`${e.serverId}_onCharacteristicUnsubscribed`,e),MPe.emit(e)}));var OPe=(fPe=class{constructor(e){this.serverId=e,this.services=[],yPe.set(this,e),bPe.set(this,new WeakMap);["CharacteristicReadRequest","CharacteristicWriteRequest","CharacteristicSubscribed","CharacteristicUnsubscribed"].forEach((e=>{this[`on${e}`]=t=>{_Pe.call(this,e,t)},this[`off${e}`]=t=>{wPe.call(this,e,t)}}))}close(e={}){var t=this,r=Object.assign({},e,{serverId:this.serverId});fd("closeBLEPeripheralServer",r,{beforeSuccess(){t.serverId="",yPe.delete(t)}})}addService(e={}){if(jc("BLEPeripheralServer.addService",e,{service:{}})){var t=e.service.characteristics||[];t=t.map((e=>{var t=e.descriptors||[];return t=t.map((e=>gPe(e,"value"))),Object.assign({},e,{value:OP(e.value),descriptors:t})}));var r=Object.assign({},e,{serverId:this.serverId,service:{uuid:e.service.uuid,characteristics:t}}),n=this;fd("addBLEPeripheralService",r,{beforeSuccess(){n.services.push(e.service.uuid)}})}}removeService(e={}){if(jc("BLEPeripheralServer.removeService",e,{serviceId:""})){var t=this,r=Object.assign({},e,{serverId:this.serverId});fd("removeBLEPeripheralService",r,{beforeSuccess(){var r=t.services.indexOf(e.serviceId);r>=0&&t.services.splice(r,1)}})}}startAdvertising(e={}){if(jc("BLEPeripheralServer.startAdvertising",e,{advertiseRequest:{}})){var t=e.advertiseRequest||{},r={connectable:!0};if(t.beacon){if(t.deviceName||t.serviceUuids||t.manufacturerData)throw new Error("iBeacon mode only accept connectable and beacon properties");if(!jc("BLEPeripheralServer.startAdvertising",t,{beacon:{uuid:"",major:0,minor:0}}))throw new Error("iBeacon mode must include [uuid、major、minor] properties");if(vPe(t.beacon.major)||vPe(t.beacon.minor))throw new Error("major or minor must be between 0 and 65536");r=Object.assign(r,t)}else{var n=t.manufacturerData||[];n=n.map((e=>gPe(e,"manufacturerSpecificData"))),r=Object.assign(r,t,{manufacturerData:n})}var i=Object.assign({},e,{serverId:this.serverId,advertiseRequest:r,powerLevel:e.powerLevel||"medium"});fd("startBLEPeripheralAdvertising",i,{})}}stopAdvertising(e={}){var t=Object.assign({},e,{serverId:this.serverId});fd("stopBLEPeripheralAdvertising",t,{})}writeCharacteristicValue(e={}){var t=Object.assign({},e,{serverId:this.serverId,value:OP(e.value)});fd("writeBLEPeripheralCharacteristicValue",t,{})}},G()(fPe.prototype,"close",[Nt],Object.getOwnPropertyDescriptor(fPe.prototype,"close"),fPe.prototype),G()(fPe.prototype,"addService",[Nt],Object.getOwnPropertyDescriptor(fPe.prototype,"addService"),fPe.prototype),G()(fPe.prototype,"removeService",[Nt],Object.getOwnPropertyDescriptor(fPe.prototype,"removeService"),fPe.prototype),G()(fPe.prototype,"startAdvertising",[Nt],Object.getOwnPropertyDescriptor(fPe.prototype,"startAdvertising"),fPe.prototype),G()(fPe.prototype,"stopAdvertising",[Nt],Object.getOwnPropertyDescriptor(fPe.prototype,"stopAdvertising"),fPe.prototype),G()(fPe.prototype,"writeCharacteristicValue",[Nt],Object.getOwnPropertyDescriptor(fPe.prototype,"writeCharacteristicValue"),fPe.prototype),fPe),LPe=function(e={}){vd(sh(this))("createBLEPeripheralServer",e,{beforeSuccess(e){var t=e.serverId,r=new OPe(t);delete e.serverId,e.server=r}})},NPe=nr("BLEPeripheralConnectionStateChanged"),BPe=NPe.onMethod,$Pe=NPe.offMethod;Ut("onBLEPeripheralConnectionStateChanged",((e={})=>{NPe.emit(e)}));var FPe=(e={})=>{if(jc("makeBluetoothPair",e,{deviceId:""})){var t=Object.assign({},e);Pt(e.pin||null)&&(t.pin=OP(e.pin)),fd("makeBluetoothPair",t)}},jPe=(e={})=>{jc("isBluetoothDevicePaired",e,{deviceId:""})&&fd("isBluetoothDevicePaired",e)},WPe=(e={})=>{ke?jc("setBLEMTU",e,{deviceId:"",mtu:0})&&fd("setBLEMTU",e,{}):Vc("setBLEMTU",e,"can only be invoked on android")},VPe=nr("onBLEMTUChange"),UPe=23,zPe={},qPe=VPe.onMethod,HPe=VPe.offMethod;ke&&Ut("onBLEMTUChange",(e=>{e.deviceId&&e.mtu&&(Object.keys(zPe).forEach((e=>{delete zPe[e]})),zPe[e.deviceId]={mtu:e.mtu}),VPe.emit(e)}));var GPe=(e={})=>{if(jc("getBLEMTU",e,{deviceId:""}))if(ke){var t=zPe[e.deviceId];id({mtu:t?t.mtu:UPe},"getBLEMTU",e,{})}else{if(e.writeType)if(!["write","writeNoResponse"].includes(e.writeType))return void Vc("getBLEMTU",e,"invalid write type");fd("getBLEMTU",e,{})}},KPe=!1,JPe=!1;function XPe(e,t={},r,n){zc({name:e,args:t,errMsg:r,errno:n,success:!1}),JPe=!1}function YPe(e,t,r,n){id(e,t,r,n),JPe=!1}kIe.on("_enableMonitoring",(e=>{KPe=e}));var QPe=(e={})=>{var t=Object.assign({},e);if(jc("startMonitoringBluetoothDevice",t,{sn:"",snTicket:"",modelId:"",deviceId:""})){if(WIe()&&!SIe(t.deviceId))return XPe("startMonitoringBluetoothDevice",t,"invalid deviceId",1510115);if(t.bluetoothDeviceId=t.deviceId,JPe)return XPe("startMonitoringBluetoothDevice",t,"current interface is busy",Jl);if(JPe=!0,t.envVersion)if(!["develop","trial","release"].includes(t.envVersion))return XPe("startMonitoringBluetoothDevice",t,"invalid envVersion",ec);if(t.entryPackage&&"string"==typeof t.entryPackage){var r=re.subPackages||re.subpackages;if(!r)return XPe("startMonitoringBluetoothDevice",t,"invalid subpackages configuration",ac);var n=r.some((e=>e.root.includes(t.entryPackage)));if(!n)return XPe("startMonitoringBluetoothDevice",t,"invalid entryPackage",oc);t.entryPackage.trim(),t.entryPackage.startsWith("/")||(t.entryPackage=`/${t.entryPackage}`),t.entryPackage.endsWith("/")||(t.entryPackage=`${t.entryPackage}/`)}return KPe?$Ie(t.bluetoothDeviceId)?void bIe({success({devices:e}){var r=re.accountInfo.appId,n=e.filter((e=>e.appid===r)),i=()=>{ZPe({data:{monitoredDeviceInfo:{appid:r,bluetoothDeviceId:t.bluetoothDeviceId,deviceId:t.sn,envVersion:t.envVersion,entryPackage:t.entryPackage}},success(e){CIe.emit("_updateMonitorDevices",{success(){YPe(e,"startMonitoringBluetoothDevice",t,{})}}),K_e({network:"all",packages:[t.entryPackage||"__APP__"]})},fail(e){XPe("startMonitoringBluetoothDevice",t,e.errMsg)}})};if(SIe(t.deviceId))return i();eTe(t,(a=>a.errMsg?XPe("startMonitoringBluetoothDevice",t,a.errMsg,Zl):e.length>a.max_user_count_to_device||n.length>a.max_device_count_to_app?XPe("startMonitoringBluetoothDevice",t,"devices are out of max count",ic):e.some((e=>t.bluetoothDeviceId===e.bluetoothDeviceId&&t.sn!==e.sn))||e.some((e=>t.bluetoothDeviceId===e.bluetoothDeviceId&&r!==e.appid))?XPe("startMonitoringBluetoothDevice",t,"same ble device can only bound 1 sn and 1 appid",nc):void i()))},fail(e){XPe("startMonitoringBluetoothDevice",t,e.errMsg)}}):XPe("startMonitoringBluetoothDevice",t,"only connected devices can be monitored",rc):XPe("startMonitoringBluetoothDevice",t,"enableMonitoring is not set",tc)}},ZPe=(e={})=>{e.type="set",fd("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg}})},eTe=({sn:e,snTicket:t,modelId:r,bluetoothDeviceId:n},i)=>{tx({sdkApiName:"CheckBluetoothDeviceTicket",apiName:"CheckBluetoothDeviceTicket",reqData:{scene:1,device_info_list:[{sn:e,sn_ticket:t,model_id:r,bluetooth_device_id:n}]},success(e){var{max_user_count_to_device:t,max_device_count_to_app:r}=e.data;t&&r&&(e.max_user_count_to_device=t,e.max_device_count_to_app=r,delete e.errMsg),i(e)},fail(e){i(e)}})},tTe=(e={})=>{jc("stopMonitoringBluetoothDevice",e,{sn:""})&&rTe({data:{deviceId:e.sn,appid:re.accountInfo.appId},success(t){CIe.emit("_updateMonitorDevices",{sn:e.sn,success(){id(t,"stopMonitoringBluetoothDevice",e,{})}})},fail(t){Vc("stopMonitoringBluetoothDevice",e,t.errMsg)}})},rTe=(e={})=>{e.type="delete",fd("operateGlobalMonitoredBluetoothDevice",e,{beforeAll(e){var t="operateGlobalMonitoredBluetoothDevice:fail";e.errMsg.includes(t)?e.errMsg=e.errMsg.replace(t,""):delete e.errMsg}})},nTe=nr("onMonitoredBluetoothDeviceFound"),iTe=[],aTe=!1,oTe=e=>{nTe.onMethod(e),aTe=!0,iTe.length&&(iTe.forEach((e=>{nTe.emit(e)})),iTe=[])},sTe=nTe.offMethod;Ut("onMonitoredBluetoothDeviceFound",(e=>{e.deviceId=e.bluetoothDeviceId,delete e.bluetoothDeviceId,aTe?nTe.emit(e):iTe.push(e)}));var lTe=(e={})=>{fd("startWifi",e,{})},cTe=(e={})=>{fd("stopWifi",e,{})},uTe=(e={})=>{fd("getWifiList",e,{})};function dTe(e){return"string"==typeof e&&('"'===e[0]&&(e=e.substring(1)),'"'===e[e.length-1]&&(e=e.substring(0,e.length-1))),e}var pTe=(e={})=>{"boolean"==typeof e.partialInfo&&(e.acceptIncompleteWiFiInfo=e.partialInfo,Ie&&(e.useCN=e.partialInfo)),fd("getConnectedWifi",e,{beforeSuccess(t){e.partialInfo&&t.wifi&&(t.wifi=Ie?{SSID:t.wifi.SSID,BSSID:t.wifi.BSSID}:{SSID:t.wifi.SSID}),t.wifi&&(t.wifi.SSID=dTe(t.wifi.SSID))}})},hTe=(e={})=>{if(jc("connectWifi",e,{SSID:"",password:""})){"boolean"==typeof e.partialInfo&&(e.acceptIncompleteWiFiInfo=e.partialInfo),"boolean"==typeof e.manual&&(e.maunal=e.manual);var t=Object.assign({maunal:!1},e);fd("connectWifi",t,{beforeSuccess(t){e.partialInfo&&t.wifi&&(t.wifi={SSID:t.wifi.SSID}),t.wifi&&(t.wifi.SSID=dTe(t.wifi.SSID))}})}},fTe=(e={})=>{Ie?jc("presetWifiList",e,{wifiList:[]})&&fd("presetWifiList",e,{}):Vc("presetWifiList",e,"presetWifiList must be invoked on iOS platform")},gTe=(e={})=>{Ie?jc("setWifiList",e,{wifiList:[]})&&fd("setWifiList",e,{}):Vc("setWifiList",e,"setWifiList must be invoked on iOS platform")},vTe=e=>{Ut("onGetWifiList",(t=>{t.wifiList&&t.wifiList.forEach((e=>{e.SSID=dTe(e.SSID)})),E.surroundThirdByTryCatch(e,"at onGetWifiList callback function")(t)}))},mTe=()=>{Ut("onGetWifiList",(()=>{}))},yTe=e=>{Ut("onWifiConnected",(t=>{t.wifi&&(t.wifi.SSID=dTe(t.wifi.SSID)),E.surroundThirdByTryCatch(e,"at onWifiConnected callback function")(t)}))},bTe=()=>{Ut("onWifiConnected",(()=>{}))},_Te=null,wTe=["none","low","high"],STe=e=>{"function"==typeof e&&(_Te=e)};function CTe(e){var t,r={SSID:e.wifi.SSID,BSSID:e.wifi.BSSID,confidence:"none"};if("function"==typeof _Te)try{t=_Te(e)||{}}finally{wTe.find((e=>e===t.confidence))&&(r.confidence=t.confidence),fd("evaluateWifi",r,{})}}Ut("onEvaluateWifi",E.surroundThirdByTryCatch(CTe,"at onEvaluateWifi callback function"));var kTe=e=>{Ut("onWifiConnectedWithPartialInfo",(({wifi:t})=>{var r={wifi:{}};t&&(r.wifi.SSID=dTe(t.SSID)),E.surroundThirdByTryCatch(e,"at onWifiConnectedWithPartialInfo callback function")(r)}))},ITe=()=>{Ut("onWifiConnectedWithPartialInfo",(()=>{}))},PTe=(e={})=>{fd("getHCEState",e,{})},TTe=(e={})=>{fd("startHCE",e,{})},ATe=(e={})=>{fd("stopHCE",e,{})},xTe=(e={})=>{jc("sendHCEMessage",e,{data:new ArrayBuffer(0)})&&fd("sendHCEMessage",Object.assign({},e,{data:OP(e.data)}),{})},ETe=e=>{Ut("onHCEMessage",((t={})=>{"string"==typeof t.data&&(t.data=LP(t.data)),E.surroundThirdByTryCatch(e,"at onHCEMessage callback function")(t)}))},MTe=()=>{Ut("onHCEMessage",(()=>{}))},RTe=()=>{},DTe=(e={},t)=>{var r=M.surroundThirdByTryCatch(e.success||RTe,`at api ${t} success callback function`),n=M.surroundThirdByTryCatch(e.fail||RTe,`at api ${t} fail callback function`),i=M.surroundThirdByTryCatch(e.complete||RTe,`at api ${t} complete callback function`);return{...e,success:r,fail:n,complete:i}},OTe=(e,t,r)=>{var n=void 0===r?{errMsg:t}:{errMsg:t,errCode:r};e.fail(n),e.complete(n)},LTe=new WeakMap,NTe=new Xt,BTe="onNFCDiscovered",$Te="onNdefMessageRead";cr("onNFCDiscovered",(e=>{NTe.emit(BTe,e)})),cr("onNdefMessageRead",(e=>{NTe.emit($Te,e)}));var FTe={ndef:"NDEF",nfcA:"NFC-A",nfcB:"NFC-B",isoDep:"ISO-DEP",nfcF:"NFC-F",nfcV:"NFC-V",mifareClassic:"MIFARE Classic",mifareUltralight:"MIFARE Ultralight"};function jTe(e,t){if(!this[e]){var r=t();return Object.defineProperty(this,e,{enumerable:!1,configurable:!1,writable:!1,value:r}),r}return this[e]}class WTe{constructor(){this.tech=FTe,Object.defineProperty(this,"_singleton",{enumerable:!1,configurable:!1,writable:!1})}startDiscovery(e={}){e=DTe(e,"NFCAdapter#startDiscovery"),ke?fd("isSupportNFC",{success(){fd("startNFCDiscovery",{filters:ft(e.filters)?e.filters:[],success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("startNFCDiscovery","startDiscovery"))}})},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("isSupportNFC","startDiscovery"))}}):OTe(e,"startDiscovery:fail current platform is not supported")}stopDiscovery(e={}){e=DTe(e,"NFCAdapter#stopDiscovery"),ke?fd("stopNFCDiscovery",{success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("stopNFCDiscovery","stopDiscovery"))}}):OTe(e,"stopDiscovery:fail current platform is not supported")}onDiscovered(e){if("function"==typeof e){var t=M.surroundThirdByTryCatch(e,"at NFCAdapter#onDiscovered callback function"),r=(e={})=>{if(e.messages&&ft(e.messages)){for(var r=[],n=e.messages||[],i=0;i<n.length;++i){for(var a={records:[]},o=n[i]||[],s=0;s<o.length;++s){var l=`payload-${i}-${s}`,c=e[l];delete e[l],o[s].payload=c,o[s].id=LP(o[s].id),o[s].type=LP(o[s].type),a.records.push(o[s])}r.push(a)}e.messages=r}e.id&&"string"==typeof e.id&&(e.id=LP(e.id)),t(e)};NTe.on(BTe,r),LTe.set(e,r)}}offDiscovered(e){if("function"==typeof e){var t=LTe.get(e);t&&NTe.off(BTe,t)}}getNdef(){return jTe.call(this,"_ndef",(()=>new UTe))}getNfcA(){return jTe.call(this,"_nfcA",(()=>new qTe))}getNfcB(){return jTe.call(this,"_nfcB",(()=>new HTe))}getIsoDep(){return jTe.call(this,"_isoDep",(()=>new GTe))}getNfcF(){return jTe.call(this,"_nfcF",(()=>new KTe))}getNfcV(){return jTe.call(this,"_nfcV",(()=>new JTe))}getMifareClassic(){return jTe.call(this,"_mirafeClassic",(()=>new XTe))}getMifareUltralight(){return jTe.call(this,"_mifareUltralight",(()=>new YTe))}}class VTe{constructor(e){this.techType=e}connect(e={}){e=DTe(e,`${this.techType}#connect`),ke?fd("NFCConnect",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCConnect","connect"))}}):OTe(e,"connect:fail current platform is not supported")}close(e={}){e=DTe(e,`${this.techType}#close`),ke?fd("NFCClose",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCClose","close"))}}):OTe(e,"close:fail current platform is not supported")}setTimeout(e={}){e=DTe(e,`${this.techType}#setTimeout`),ke?e.timeout?fd("NFCSetTimeout",{tech:this.techType,timeout:parseInt(e.timeout,10),success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCSetTimeout","setTimeout"))}}):OTe(e,"timeout should be specified"):OTe(e,"setTimeout:fail current platform is not supported")}isConnected(e){e=DTe(e,`${this.techType}#isConnected`),ke?fd("isNFCTechConnected",{tech:this.techType,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("isNFCTechConnected","isConnected"))}}):OTe(e,"isConnected:fail current platform is not supported")}}class UTe extends VTe{constructor(){super("NDEF")}onNdefMessage(e){if("function"==typeof e){var t=M.surroundThirdByTryCatch(e,"at Ndef#onReadNdefMessage callback function"),r=e=>{for(var r=e.messages||[],n=0;n<r.length;++n)for(var i=r[n]||[],a=0;a<i.length;++a){var o=`payload-${n}-${a}`,s=e[o];i[a].payload=s,delete e[o]}t(e)};NTe.on($Te,r),LTe.set(e,r)}}offNdefMessage(e){if("function"==typeof e){var t=LTe.get(e);t&&NTe.off($Te,t)}}writeNdefMessage(e={}){if(e=DTe(e,"Ndef#writeNdefMessage"),ke){if(e.uris)return ft(e.uris)?void fd("writeNdefMessage",{uris:e.uris,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}}):void OTe(e,"writeNdefMessage: urils should be type of Array");if(e.texts)return ft(e.texts)?void fd("writeNdefMessage",{texts:e.texts,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}}):void OTe(e,"writeNdefMessage: texts should be type of Array");if(e.records){if(!ft(e.records))return void OTe(e,"writeNdefMessage: records should be type of Array");for(var t={},r=0;r<e.records.length;++r){var n=e.records[r];if(!Pt(n.id))return void OTe(e,"writeNdefMessage: record.id should be type of ArrayBuffer");if(!Pt(n.type))return void OTe(e,"writeNdefMessage: record.type should be type of ArrayBuffer");n.id=OP(n.id),n.type=OP(n.type),t[`payload-${r}`]=n.payload,delete n.payload}fd("writeNdefMessage",{records:e.records,...t,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("writeNdefMessage","writeNdefMessage"))}})}else OTe(e,"writeNdefMessage: expect parameter contains one of uris, texts, records")}else OTe(e,"writeNdefMessage:fail current platform is not supported")}}class zTe extends VTe{getMaxTransceiveLength(e={}){e=DTe(e,`${this.techType}#getMaxTransceiveLength`),ke?fd("NFCGetMaxTransceiveLength",{tech:this.techType,success:e.success,fail:e.fail,complete:e.complete},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetMaxTransceiveLength","getMaxTransceiveLength"))}}):OTe(e,"getMaxTransceiveLength:fail current platform is not supported")}transceive(e={}){e=DTe(e,`${this.techType}#transceive`),ke?e.data?Pt(e.data)?fd("NFCTransceive",{tech:this.techType,data:e.data,success(t){e.success(t)},fail(t){e.fail(t)},complete(t){e.complete(t)}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCTransceive","transceive"))}}):OTe(e,"transceive: data should be type of ArrayBuffer"):OTe(e,"transceive: data field is required"):OTe(e,"transceive:fail current platform is not supported")}}class qTe extends zTe{constructor(){super("NFC-A")}getAtqa(e){e=DTe(e,`${this.techType}#getAtqa`),ke?fd("NFCGetAtqa",{success(t){t&&t.atqa?e.success({errMsg:t.errMsg,atqa:LP(t.atqa)}):e.success({errMsg:t.errMsg,atqa:null})},fail(t){e.fail(t)},complete(t){t&&t.atqa?e.complete({errMsg:t.errMsg,atqa:LP(t.atqa)}):e.complete({errMsg:t.errMsg,atqa:null})}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetAtqa","getAtqa"))}}):OTe(e,"getAtqa:fail current platform is not supported")}getSak(e){e=DTe(e,`${this.techType}#getSak`),ke?fd("NFCGetSak",e,{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetSak","getSak"))}}):OTe(e,"getSak:fail current platform is not supported")}}class HTe extends zTe{constructor(){super("NFC-B")}setTimeout(e={}){e=DTe(e,`${this.techType}#setTimeout`),OTe(e,"setTimeout: function not support",13024)}}class GTe extends zTe{constructor(){super("ISO-DEP")}getHistoricalBytes(e){e=DTe(e,`${this.techType}#getHistoricalBytes`),ke?fd("NFCGetHistoricalBytes",{success(t){t&&t.histBytes?e.success({errMsg:t.errMsg,histBytes:LP(t.histBytes)}):e.success({errMsg:t.errMsg,histBytes:null})},fail(t){e.fail(t)},complete(t){t&&t.histBytes?e.complete({errMsg:t.errMsg,histBytes:LP(t.histBytes)}):e.complete({errMsg:t.errMsg,histBytes:null})}},{beforeAll(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("NFCGetHistoricalBytes","getHistoricalBytes"))}}):OTe(e,"getHistoricalBytes:fail current platform is not supported")}}class KTe extends zTe{constructor(){super("NFC-F")}}class JTe extends zTe{constructor(){super("NFC-V")}setTimeout(e={}){e=DTe(e,`${this.techType}#setTimeout`),OTe(e,"setTimeout: function not support",13024)}}class XTe extends zTe{constructor(){super("MIFARE Classic")}}class YTe extends zTe{constructor(){super("MIFARE Ultralight")}}var QTe=null;function ZTe(){return QTe||(QTe=new WTe)}var eAe=nr("local-service-found"),tAe=nr("local-service-lost"),rAe=nr("local-service-discovery"),nAe=nr("local-service-resolve-fail"),iAe=(e={})=>{fd("operateLocalServicesScan",Object.assign({},e,{action:"start"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery")})},aAe=(e={})=>{fd("operateLocalServicesScan",Object.assign({},e,{action:"stop"}),{beforeSuccess:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery"),beforeFail:e=>e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery")})};Ut("onLocalServiceEvent",(e=>{var t=Object.assign({},e);switch("object"==typeof t.attributes&&null!==t.attributes&&Object.keys(t.attributes).forEach((e=>{var r=t.attributes[e];t.attributes[e]=LP(r)})),delete t.event,e.event){case"found":eAe.emit(t);break;case"lost":tAe.emit(t);break;case"stopScan":delete t.serviceType,delete t.serviceName,delete t.ip,delete t.port,rAe.emit(t);break;case"resolveFail":delete t.ip,delete t.port,nAe.emit(t)}}));var oAe=eAe.onMethod,sAe=eAe.offMethod,lAe=tAe.onMethod,cAe=tAe.offMethod,uAe=rAe.onMethod,dAe=rAe.offMethod,pAe=nAe.onMethod,hAe=nAe.offMethod,fAe=nr("gyroscopeChange"),gAe=function(e={}){var t={fast:0,game:20,ui:60,normal:200},r=sh(this),n=t[e.interval]||t.normal;fd("enableGyroscope",xd(e,{interval:n,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","startGyroscope")},afterSuccess(){pre(r,"wx.startGyroscope")}})},vAe=(e={})=>{fd("enableGyroscope",xd(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableGyroscope","stopGyroscope")}})},mAe=fAe.onMethod,yAe=e=>{var t;fAe.offMethod(e),null!==(t=fAe.getGlobalListeners())&&void 0!==t&&t.length||vAe()};Ut("onGyroscopeChange",(e=>{fAe.emit(e)}));var bAe=nr("deviceMotionChange"),_Ae=function(e={}){var t={fast:0,game:20,ui:60,normal:200},r=sh(this),n=t[e.interval]||t.normal;fd("enableDeviceMotionChangeListening",xd(e,{interval:n,enable:!0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","startDeviceMotionListening")},afterSuccess(){dre(r,"wx.startDeviceMotionListening")}})},wAe=(e={})=>{fd("enableDeviceMotionChangeListening",xd(e,{enable:!1}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","stopDeviceMotionListening")}})},SAe=bAe.onMethod,CAe=bAe.offMethod;Ut("onDeviceMotionChange",(e=>{bAe.emit(e)}));var kAe=e=>{fd("checkIsOpenAccessibility",e)},IAe=e=>{var t=new Date(1e3*e);return t.setHours(0,0,0),t.valueOf()/1e3},PAe=e=>{var t=new Date(1e3*e);return t.setSeconds(0),t.valueOf()/1e3},TAe=function(e={}){if(jc("addPhoneCalendar",e,{})){var t=e.allDay?IAe(e.startTime):PAe(e.startTime),r=e.endTime?e.allDay?IAe(e.endTime):PAe(e.endTime):void 0;vd(sh(this))("addPhoneCalendar",{allDay:!1,alarm:!0,...e,startTime:t,endTime:r,repeat:!1})}},AAe=function(e={}){if(jc("addPhoneCalendar",e,{})){var t=e.allDay?IAe(e.startTime):PAe(e.startTime),r=e.endTime?e.allDay?IAe(e.endTime):PAe(e.endTime):void 0;vd(sh(this))("addPhoneCalendar",{allDay:!1,alarm:!0,repeatInterval:"month",...e,startTime:t,endTime:r,repeat:!0})}},xAe=az(),EAe={};function MAe(e){var t=xAe.next();EAe[t]=e,qr("getWebviewDebugInfo",{callbackId:t},[su.currentWebviewId])}Yr("getWebviewDebugInfoRes",(({callbackId:e,info:t},r)=>{var n=EAe[e];EAe[e]=null,"function"==typeof n.success&&n.success(t)}));var RAe=e=>{Ie||ke?fd("getIPAddress",e,{beforeAll(e){e.errMsg=e.errMsg.replace("getIPAddress","getLocalIPAddress")}}):fd("getLocalIPAddress",e)},DAe=()=>{var e=pw(),t=((null==e?void 0:e.model)||"").match(/<([^>]*)>/);if(!t||!t[1])return!1;var r=t[1].match(/iPhone(\d+),/);if(r&&parseInt(r[1],10)>=9)return!0;var n=t[1].match(/iPad(\d+),/);if(n&&parseInt(n[1],10)>=7)return!0;return!1},OAe=e=>{if(Ie){var t=DAe(),r=parseFloat((re.system||"").replace("iOS","")),n="checkDeviceSupportHevc:ok";t&&r>=11?("function"==typeof e.success&&e.success({errMsg:n,supportHevc:!0}),"function"==typeof e.complete&&e.complete({errMsg:n,supportHevc:!0})):(n="checkDeviceSupportHevc:fail not support","function"==typeof e.fail&&e.fail({errMsg:n}),"function"==typeof e.complete&&e.complete({errMsg:n}))}else if(ke)fd("checkDeviceSupportHevc",e);else{var i="checkDeviceSupportHevc:fail not support";"function"==typeof e.fail&&e.fail({errMsg:i}),"function"==typeof e.complete&&e.complete({errMsg:i})}},LAe=new Map,NAe=new Map,BAe=null,$Ae=null,FAe="{}",jAe="",WAe="",VAe="",UAe=0,zAe=0,qAe=0,HAe=5e3,GAe=!0;function KAe(){rG(Vp()((function*(){VAe=lxe();var e=++UAe;yield yxe(),uxe(e)&&(exe(e,[0,0,0,1,lxe(),WAe,0]),vxe(e))}))),Nle(XAe),cr("onVideoFullScreenChange",XAe),cr("onNavigationBarColorChange",YAe)}function JAe(){return GAe?"product-recommand-old":"product-recommand"}function XAe({fullScreen:e}={}){var t=LAe.get(JAe());null!=t&&t.isReady&&t.setData({fullScreen:e})}function YAe({frontColor:e}={}){var t=LAe.get(JAe());null!=t&&t.isReady&&"function"==typeof(null==t?void 0:t.setColor)&&t.setColor({color:e.toLowerCase()})}function QAe(){var{screenWidth:e,screenHeight:t}=$b(),r=Math.min(e,t);return ke&&r>=600}function ZAe(){return ke?re.clientVersion>671100416:!!Ie&&re.clientVersion>=402664992}function exe(e,t=[]){if(uxe(e)){var r=t.map(encodeURIComponent).join(",");M.reportKeyValue({key:"ProductRecommand",value:r})}}function txe(){return re.accountInfo.appId}function rxe(){return re.accountInfo.nickname}function nxe(e={}){return Object.entries(e).map((([e,t])=>`${e}=${t}`)).join("&")}function ixe(e={}){Object.keys(e).forEach((t=>{var r=e[t];"string"==typeof r&&(e[t]=encodeURIComponent(r))}))}function axe(){if(void 0===yr)return{};var e=yr.getCurrentPagesByDomain(null);return e.length?e[e.length-1]:{}}function oxe(){var{__route__:e}=axe();return e}function sxe(){var{options:e}=axe();return nxe(e)}function lxe(){return`${oxe()}?${sxe()}`}function cxe(){var e,t,r,n=(null==re||null===(e=re.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t||null===(r=t.koubei_info)||void 0===r?void 0:r.path_list)||[],i=oxe(),a=sxe();return n.some((({path:e,key_list:t=[]})=>i.includes(e)&&t.some((e=>a.includes(e)))))}function uxe(e){return e===UAe&&VAe===lxe()&&cxe()}function dxe({inner:e}){return new Promise(((t,r)=>{var n=txe(),i=lxe();tx({apiName:"webapi_getpageservice",reqData:{user_action:{session_id:yh().sessionId,click_count:zAe,close_count:qAe},...ZAe()?{words_count:bxe()}:{},action:e?2:1,appid:n,pagepath:i,...e?{session_buff:WAe}:{}},success(e){var{show_time:r,show_type:n,show_capsule:i,session_buff:a,data:o,core_path:s,title_list:l,polling_interval:c}=e.data||{};r&&(HAe=r),ZAe()&&(GAe=1!==n),FAe=o,jAe=s,WAe=a,t({show:Boolean(i),interval:c||0,descList:null!=l&&l.length?l:["相关口碑"]})},fail(e){r()}})}))}function pxe(e){return new Promise((t=>{var r=LAe.get(e);if(null!=r&&r.isReady)return t(r);__sclEngine__.initScl((r=>{if(!LAe.get(e)){var n=r.mainRoot.append(e,{});LAe.set(e,n),n.addListener("ready",(()=>{n.isReady=!0,t(n)}))}}))}))}function hxe(e,t){return fxe.apply(this,arguments)}function fxe(){return fxe=Vp()((function*(e,t){var r=yield pxe(JAe());r.taskId=e,r.listened||(r.listened=!0,r.addListener("close",(()=>{qAe++,exe(r.taskId,[1,0,1,1,lxe(),WAe,1])})),r.addListener("close_end",(e=>{var t=e.detail.ts,r=NAe.get(t);"function"==typeof r&&(r(),NAe.delete(t))})),r.addListener("tap_recommand",(()=>{zAe++,exe(r.taskId,[1,1,0,1,lxe(),WAe,1]),_xe()})),r.addListener("recommand",(()=>{zAe++,exe(r.taskId,[1,1,0,1,lxe(),WAe,1]);var e={appid:txe(),appname:rxe(),id:jAe,session:WAe,samepage:Number(uxe(r.taskId)),path:lxe()};ixe(e);var t={appId:"wx4e5da2583ced2054",path:`pages/index/index?${nxe(e)}`,extraData:{id:e.id,data:FAe},noRelaunchIfPathUnchanged:!0};q8(t,{})}))),QAe()||uxe(e)&&(exe(e,[1,0,0,1,lxe(),WAe,1]),Sxe(),GAe?r.setData({show:!0,descList:t}):(r.setData({show:!0,desc:t[0]}),gxe(r)))})),fxe.apply(this,arguments)}function gxe(e){$Ae=setTimeout((()=>{uxe(e.taskId)&&(e.close(),setTimeout(wxe,500))}),HAe)}function vxe(e){return mxe.apply(this,arguments)}function mxe(){return mxe=Vp()((function*(e,t=!1){if(clearTimeout(BAe),uxe(e))try{var{show:r,interval:n,descList:i}=yield dxe({inner:t});if(exe(e,[0,0,0,1,lxe(),WAe,Number(r)]),clearTimeout(BAe),!uxe(e))return;r?hxe(e,i):n&&(BAe=setTimeout((()=>vxe(e,!0)),n))}catch(e){clearTimeout(BAe)}})),mxe.apply(this,arguments)}function yxe(){return new Promise((e=>{FAe="{}",jAe="",WAe="",clearTimeout(BAe),clearTimeout($Ae);var t=LAe.get(JAe());if(null!=t&&t.isReady){var r=Date.now().toString();NAe.set(r,e),t.close(!1,r)}else e()}))}function bxe(){var{screenWidth:e}=$b(),{width:t}=JW();return Math.floor((.8*e-t-50)/14)}function _xe(){fd("showSystemSheetMenu",{sessionBuffer:WAe,complete(e){}},{})}function wxe(){fd("updateCapsuleIcon",{iconUrl:"https://res.wx.qq.com/op_res/u-wENNdLperHtS1hAKXYDO0ZcdDp-YSx3TxXpoqk7-nVVJY7EHUvZHQ83Ew0RyJpbmPmQ4Jkim9DZCYExKFVAw",darkModeIconUrl:"https://res.wx.qq.com/op_res/u-wENNdLperHtS1hAKXYDJdM-80DAg30yoAVAGjjIX0rTmSCxnWL4O_5q_HACKLNbyUzHVc3lkkxDWAzs2YnAw",priority:1,sessionBuffer:WAe,complete(e){}},{})}function Sxe(){fd("preloadMiniProgramEnv",{type:"app",complete(e){}},{})}re.onReady((()=>{(ke||Ie)&&Oe&&!We()&&KAe()}));var Cxe="groupNameFetched",kxe=!1;Yr(Cxe,(()=>{kxe||(kxe=!0,dj({icon:"none",title:"群名称仅你可见，小程序无法获取。"}))}));var Ixe=(e={})=>{invokeMethod("navigateBackApplication",e,{})},Pxe=(e={})=>{var{launchAppid:t}=e;t&&"string"==typeof t?invokeOperateWXData({apiName:"wxaapi_verify_jump",reqData:{appid:t},success:r=>{if("ok"===r.data.res){invokeMethod("launchApplication",Object.assign(e,{appId:t,operateDirectly:!0}));var n=[getMergedEnterOptions().scene,encodeURIComponent(getMergedEnterOptions().scene_note||getMergedEnterOptions().sceneNote),L&&L.getCurrentRoutePath(),e.alertType,e.parameter,WXConfig.appType+1e3,e.appId].map(encodeURIComponent).join(",");M.reportKeyValue({key:"LaunchApplicationInfo",value:n,force:!0})}else beforeInvokeFail("launchApplication",e,"no permission")},fail:()=>{beforeInvokeFail("launchApplication",e,"no permission")}}):(delete e.operateDirectly,invokeMethod("launchApplication",e,{}))},Txe=(e={})=>{delete e.operateDirectly,fd("launchApplicationForNative",e,{})},Axe=(e={})=>{Vh("plugin_launchApplicationDirectly_operateDirectly")||delete e.operateDirectly,Ie?Vh("launchApplicationDirectly")?fd("launchApplication",e,{beforeAll:e=>{e.errMsg=e.errMsg.replace("launchApplication","launchApplicationDirectly")}}):setTimeout((()=>Vc("launchApplicationDirectly",e,"no permission"))):fd("launchApplicationDirectly",e,{})},xxe=(e={})=>{re.onReady((()=>{if(!Ke()&&!Ge()){var t={errMsg:"enterContact:fail no permission"};return e.fail&&e.fail(t),void(e.complete&&e.complete(t))}e.privateEnterContact=!0,iS("appServiceEnterContact",e,[su.currentWebviewId],(t=>{t.errMsg&&(t.errMsg=t.errMsg.replace("privateEnterContact","enterContact")),0===t.errMsg.indexOf("enterContact:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))}))},Exe=function(e){var t=sh(this);vd(t)("chooseShareGroup",e)},Mxe=1,Rxe=60,Dxe=300,Oxe=1e3,Lxe=864e5,Nxe=null,Bxe=null,$xe=null,Fxe=new Promise((e=>{$xe=e}));re.onReady((()=>{Bxe=re,Nxe=pw(),$xe()}));var jxe=e=>{Bxe?e():Fxe.then(e)},Wxe={enabled:!0,sampleRate:Mxe,batchTime:Dxe,legacyReportEnabled:!0,bufferCapacity:Oxe,userUin:0},Vxe,Uxe=!1;function zxe(){return Uxe=!0,iz().then((e=>{var t=e.data;if(t){var r=t.PerformaceGlobalConf,n=t.PerformacePersonalConf;r&&(void 0!==r.PerformanceOldReportOff&&(Wxe.legacyReportEnabled=!(1===r.PerformanceOldReportOff)),void 0!==r.PerformanceReportMaxNum&&(Wxe.bufferCapacity=parseInt(r.PerformanceReportMaxNum,10)),void 0!==r.PerformanceMiniprogramlibGatherTime&&(Wxe.batchTime=60*parseInt(r.PerformanceMiniprogramlibGatherTime,10))),n&&(void 0!==n.PerformanceMiniprogramlibOff&&(Wxe.enabled=!(1===n.PerformanceMiniprogramlibOff)),void 0!==n.PerformanceMiniprogramlibGatherTime&&(Wxe.batchTime=60*parseInt(n.PerformanceMiniprogramlibGatherTime,10)),void 0!==n.PerformanceMiniprogramlibSamplingRatio&&(Wxe.sampleRate=parseInt(n.PerformanceMiniprogramlibSamplingRatio,10)/100)),Wxe.userUin=t.UserUin,Wxe.batchTime!==Dxe&&Zxe()}})).catch((e=>{}))}function qxe(e){return e}function Hxe(e,t){if(0===t)return!1;var r=Math.ceil(1/t);return qxe(e)%r===parseInt(Date.now()/Lxe,10)%r}function Gxe(e){if(!e)return"";var t=e.indexOf("?");return t>-1?e.substring(0,t):e}function Kxe(){var e=void 0!==yr?yr.getCurrentPagesByDomain(""):[],t=Nxe&&Nxe.brand,r=Nxe&&Nxe.model,n=Nxe&&Nxe.platform,i=Nxe&&Nxe.system,a=Bxe&&Bxe.appLaunchInfo&&Bxe.appLaunchInfo.scene,o=Bxe&&re.envVersion,s=Nxe&&Nxe.version,l=Nxe&&Nxe.SDKVersion,c=e.length>0&&e[e.length-1].__route__||"";return{platform:n,system:i,path:c=Gxe(c),scene:a,brand:t,model:r,networkType:ag(),envType:o,clientVersion:s,sdkVersion:l}}function Jxe(e,t,r=[],n){var i=Object.create(null);i.key=e,i.value=t;var a=Kxe(),o="";n?(o=n.pluginId,a.pluginCustomVersion=n.customVersion,a.path=gr.convertRouteToComponentAlias(a.path),a.path.indexOf("plugin")<0&&(a.path="")):o=Bxe.accountInfo&&Bxe.accountInfo.appId,nEe({appId:o,metrics:i,dimensions:r}),Vxe&&Vxe.then((()=>{"release"===re.envVersion&&Wxe.sampleRate!==Mxe&&Wxe.userUin&&!Hxe(Wxe.userUin,Wxe.sampleRate)||Wxe.enabled&&Wxe.legacyReportEnabled&&iEe({appId:o,metrics:i,baseInfo:a,interfaces:"log_20000_userdefine",busid:"b_wxg_wxa_miniprogram_performance"})}))}var Xxe={};function Yxe(){var e=Object.keys(Xxe);if(!(e.length<=0)&&Wxe.enabled&&("release"!==re.envVersion||Wxe.sampleRate===Mxe||!Wxe.userUin||Hxe(Wxe.userUin,Wxe.sampleRate))){var t="develop"===re.envVersion||"trial"===re.envVersion;for(var r of e){var n=Xxe[r],i={key:n.key,value:n.valueSum/n.count,num:n.count},a=n.baseInfo,o=n.dimensions;t?o.length>0?aEe({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20004",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):aEe({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20002",busid:"b_wxg_wxa_miniprogram_performance"}):o.length>0?iEe({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20003",busid:"b_wxg_wxa_miniprogram_performance",dimensions:o}):iEe({appId:n.appId,metrics:i,baseInfo:a,interfaces:"log_20001",busid:"b_wxg_wxa_miniprogram_performance"}),delete Xxe[r],M.reportKeyValue({key:"PerfReport",value:[n.appId,a.platform,a.scene,a.brand,a.model,a.networkType,a.envType,i.key,i.value,i.num,parseInt(Date.now()/1e3,10)].join(",")})}}}var Qxe=null;function Zxe(){var e="develop"===re.envVersion||"trial"===re.envVersion?Rxe:Wxe.batchTime;Qxe&&clearInterval(Qxe),Qxe=setInterval(Yxe,1e3*e)}function eEe(){setTimeout(Yxe,3e4)}var tEe=!1;function rEe(){tEe=!0,jxe((()=>{eEe(),Zxe(),Id((()=>{Yxe()})),Eh((()=>{Zxe()}))}))}function nEe({appId:e,metrics:t={},dimensions:r=[]}={}){var n="";r.length>0&&(n="_"+r.join("_"));var i=Kxe(),a=`${t.key}_${i.networkType}_${i.scene}${n}`;if(!(Object.keys(Xxe).length>Wxe.bufferCapacity)){Xxe[a]||(Xxe[a]={appId:e,key:t.key,valueSum:0,count:0,baseInfo:i,dimensions:r});var o=Xxe[a];o&&(o.valueSum+=t.value,o.count++)}}function iEe({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:i="",dimensions:a}={}){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:a,time:parseInt(Date.now()/1e3,10)}),s=JSON.stringify({interface:n,busid:i,data:o});xV(1002,s,!0)}function aEe({appId:e,metrics:t={},baseInfo:r={},interfaces:n="",busid:i="",dimensions:a}={}){if(Wxe.enabled){var o=JSON.stringify({appId:e,base:r,metrics:t,dimensions:a,time:parseInt(Date.now()/1e3,10)});rx({sdkApiName:"UploadByApi",apiName:"UploadByApi",reqData:{interface:n,busid:i,data:o}}).catch((()=>{}))}}function oEe(e){e&&e.success&&delete e.success,e&&e.fail&&delete e.fail,e&&e.complete&&delete e.complete}var sEe=0,lEe=4294967295;function cEe(e,t,r,n){Wxe.enabled&&(e||"number"==typeof e||console.warn("[reportPerformance] id can not be empty"),t||"number"==typeof t||console.warn("[reportPerformance] value can not be empty"),e=parseFloat(e),t=parseFloat(t),(Number.isNaN(e)||"number"!=typeof e)&&console.warn("[reportPerformance] id should always be type of Number"),e>=sEe&&e<=lEe||console.warn("[reportPerformance] id is out of range, will probably cause report failure"),(Number.isNaN(t)||"number"!=typeof t)&&console.warn("[reportPerformance] id should always be type of Number"),t>=sEe&&t<=lEe?(void 0===r||Array.isArray(r)||(r=[String(r)]),Array.isArray(r)&&(r.length>2&&console.warn("[reportPerformance] expected dimensions length to be less than or equals to 2, but got",r.length),0===(r=r.slice(0,2)).length&&(r[0]="",r[1]=""),1===r.length&&(r[1]=""),r=r.map((e=>e?String(e):"")).map((e=>e.substring(0,256)))),r&&Array.isArray(r)||(r=[]),Uxe||(Vxe=zxe()),tEe||rEe(),jxe((()=>{"release"===re.envVersion&&Wxe.sampleRate!==Mxe&&Wxe.userUin&&!Hxe(Wxe.userUin,Wxe.sampleRate)||Jxe(e,t,r,n)}))):console.warn("[reportPerformance] value should be in range of",sEe," to",lEe))}function uEe(e,t,r){cEe(e,t,r)}function dEe(e,t,r,n){cEe(e,t,r,n)}var pEe=function(e){return e.Updating="updating",e.NoUpdate="noUpdate",e.UpdateReady="updateReady",e.UpdateFailed="updateFailed",e}({}),hEe=()=>!1,fEe=e=>{yEe({updateReady:!0,pluginId:e})},gEe=e=>{yEe({updateFailed:!0,pluginId:e})},vEe=e=>{yEe({applyUpdate:!0,pluginId:e})},mEe=()=>{yEe({forceUpdate:!0})},yEe=e=>{var t="string"==typeof e.pluginId&&0!==e.pluginId.length,r=[Mu(),Ru(),e.updateReady?1:0,e.updateFailed?1:0,e.applyUpdate?1:0,t?1:0,e.pluginId||"",e.forceUpdate?1:0];M.reportQualityData2("UpdateManager",r)},bEe=()=>["nativeFunctionalized"].includes(yh().apiCategory)?"服务需要重启以使用最新功能":Ge()?"功能已更新，需重新加载后使用":"小程序需要重启以使用最新功能",_Ee=new Yt,wEe=e=>{ij({content:bEe(),confirmText:"知道了",showCancel:!1,complete(){fd("updateApp",e)}})};Ut("onUpdateStatusChange",(e=>{var t,r,n=e.state;null===(t=e.appContactInfo)||void 0===t||null===(r=t.passThroughInfo)||void 0===r||!r.forceUpdate?(delete e.state,n===pEe.UpdateReady?fEe():n===pEe.UpdateFailed&&gEe(),_Ee.emit(n,e)):n===pEe.UpdateReady&&(console.info("[apply update before]"),mEe(),wEe())}));var SEe=[],CEe;_Ee.on(pEe.Updating,(e=>{CEe={hasUpdate:!0,version:e.customVersion},kEe()})),_Ee.on(pEe.NoUpdate,(()=>{CEe={hasUpdate:!1},kEe()}));var kEe=()=>{SEe.forEach((e=>{"function"==typeof e&&e(CEe)})),SEe.length=0},IEe=e=>{e=E.surroundThirdByTryCatch(e,"at onCheckForUpdate callback function"),hEe()||(CEe?"function"==typeof e&&e(CEe):SEe.push(e))},PEe=new Yt;Ut("onPluginUpdateStatusChange",(e=>{var{pluginAppid:t,state:r,appVersion:n,customVersion:i}=e;r===pEe.UpdateReady?fEe(t):r===pEe.UpdateFailed&&gEe(t),PEe.emit(r,{pluginAppid:t,appVersion:n,customVersion:i})}));var TEe={},AEe={};PEe.on(pEe.UpdateReady,(({pluginAppid:e,customVersion:t})=>{AEe[e]={pluginVersion:t},xEe(e,t)}));var xEe=(e,t)=>{var r=TEe[e];r&&(delete TEe[e],r.forEach((e=>{e({pluginVersion:t})})))},EEe=e=>t=>{var r=E.surroundThirdByTryCatch(t,"at onUpdateReady callback function");void 0===AEe[e]?TEe[e]?TEe[e].push(r):TEe[e]=[r]:r({pluginVersion:AEe[e].pluginVersion})},MEe=()=>Object.keys(AEe).length>0,REe=[],DEe=!1,OEe=!1,LEe={};_Ee.on(pEe.UpdateReady,(e=>{DEe=!0,LEe={version:e.customVersion},NEe()}));var NEe=()=>{REe.forEach((e=>{"function"==typeof e&&e(LEe)})),REe.length=0},BEe=e=>{e=E.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),hEe()||(DEe?"function"==typeof e&&e(LEe):REe.push(e))},$Ee=e=>{DEe&&OEe?Vc("applyUpdate",e,"applyUpdate has been called"):!DEe&&!MEe()||hEe()?Vc("applyUpdate",e,"update is not ready"):(OEe=!0,vEe(),ij({content:bEe(),confirmText:"知道了",showCancel:!1,complete(){fd("updateApp",e)}}))},FEe=[],jEe;_Ee.on(pEe.UpdateFailed,(e=>{jEe={version:e.customVersion},WEe()}));var WEe=()=>{FEe.forEach((e=>{"function"==typeof e&&e(jEe)})),FEe.length=0},VEe=e=>{e=E.surroundThirdByTryCatch(e,"at onUpdateFailed callback function"),hEe()||(jEe?"function"==typeof e&&e(jEe):FEe.push(e))},UEe={onCheckForUpdate:IEe,onUpdateReady:BEe,onUpdateFailed:VEe,applyUpdate:$Ee},zEe=()=>UEe,qEe=Object.assign,HEe=Object.create,GEe=(e={})=>{var t=HEe(null);qEe(t,e),t.url="https://support.weixin.qq.com/update/",dU(t)},KEe={},JEe={};PEe.on(pEe.Updating,(({pluginAppid:e,customVersion:t})=>{JEe[e]={hasUpdate:!0,pluginVersion:t},XEe(e,t)})),PEe.on(pEe.NoUpdate,(({pluginAppid:e,customVersion:t})=>{JEe[e]={hasUpdate:!1},XEe(e,t)}));var XEe=(e,t)=>{var r=KEe[e];r&&(delete KEe[e],r.forEach((r=>{var n=JEe[e].hasUpdate;r(n?{hasUpdate:n,pluginVersion:t}:{hasUpdate:n})})))},YEe=e=>t=>{var r=E.surroundThirdByTryCatch(t,"at onCheckForUpdate callback function");if(void 0===JEe[e])KEe[e]?KEe[e].push(r):KEe[e]=[r];else{var n=JEe[e].hasUpdate;r(n?{hasUpdate:n,pluginVersion:JEe[e].pluginVersion}:{hasUpdate:n})}},QEe={},ZEe={};PEe.on(pEe.UpdateFailed,(({pluginAppid:e,customVersion:t})=>{ZEe[e]={pluginVersion:t},eMe(e,t)}));var eMe=(e,t)=>{var r=QEe[e];r&&(delete QEe[e],r.forEach((e=>{e({pluginVersion:t})})))},tMe=e=>t=>{var r=E.surroundThirdByTryCatch(t,"at onUpdateFailed callback function");void 0===ZEe[e]?QEe[e]?QEe[e].push(r):QEe[e]=[r]:r({pluginVersion:ZEe[e].pluginVersion})},rMe=e=>({onCheckForUpdate:YEe(e),onUpdateReady:EEe(e),onUpdateFailed:tMe(e)}),nMe=e=>{var t=(null==e?void 0:e.pluginId)||"";if("string"!=typeof t)throw new TypeError("pluginId must be a string");return rMe(t)},iMe=0,aMe=function(e){Date.now()>iMe&&(ij({title:"",content:e,confirmText:"确定",showCancel:!1},50),iMe=Date.now()+6e4)},oMe={2:"插件版本过低，无法提供服务"},sMe=function(e,t,r){if(!th.pluginInfos)return null;var n=th.pluginInfos[e];if(!n)return null;var i=n.runningFlag,a=n.banning||{},o=oMe[i];return i||a[t]?{all:i,detail:a[t],hint:a.hint||o||r||"由于小程序违规，该服务暂时无法使用"}:null};th.emitter.on("pluginInfoFetchDone",(()=>{if(void 0!==gr&&gr.initBannedMap){var e={},t=th.pluginInfos;for(var r in t)e[r]=sMe(r,"components");gr.initBannedMap(e)}}));class lMe{constructor(e){this.innerParams=e,this.promise=Promise.resolve()}catch(e){return this.catchFn=e,this}then(e,t){if(this.promise)return this.promise=this.promise.then((()=>{if(!this.catchFn)return this;var r=e(this.innerParams,t);return r?r instanceof Promise?r.then((e=>{e&&Object.assign(this.innerParams,e)})).catch((e=>{this.catchFn&&this.catchFn(e),delete this.catchFn,delete this.innerParams,delete this.promise})):Object.assign(this.innerParams,r):void 0})).catch((e=>{this.catchFn&&this.catchFn(e),delete this.catchFn,delete this.innerParams,delete this.promise})),this}finally(e){this.promise&&this.promise.then((()=>{if(!this.catchFn)return this;e(this.innerParams),delete this.catchFn,delete this.innerParams,delete this.promise}))}}var cMe=[1,7,9,11,13,15,17,19,20,21,22,23,25,37,42,43,53,69,77,79,87,95,101,102,103,104,109,110,111,113,115,117,119,123,135,137,139,143,161,179,389,427,465,512,513,514,515,526,530,531,532,540,548,554,556,563,587,601,636,993,995,1719,1720,1723,2049,3659,4045,5060,5061,6e3,6566,10080,1099,1433,1521,2375,3128,3306,3389,5432,5984,6379,7001,7002,8443,8888,9200,9300,10051,11211,27017,27018,27019];function uMe(e){return!Number.isInteger(e)||(e<=1024||(e>=8e3&&e<=8100||cMe.indexOf(e)>-1))}function dMe(e){return e.remoteInfo&&(e={message:e.message,size:e.size,remoteInfo:{address:e.remoteInfo.address,family:e.remoteInfo.family,port:e.remoteInfo.port},localInfo:{address:e.remoteInfo.localaddress,family:e.remoteInfo.localfamily,port:e.remoteInfo.localport}}),e}function pMe(e){return e.remoteInfo&&(e={remoteInfo:{address:e.remoteInfo.address,family:e.remoteInfo.family,port:e.remoteInfo.port},localInfo:{address:e.remoteInfo.localaddress,family:e.remoteInfo.localfamily,port:e.remoteInfo.localport}}),e}function hMe(e){var{address:t,port:r}=e;if(uMe(Number(r)))throw{errMsg:`connect fail: invalid port '${r}' `,errCode:-4,errno:zn};return new Promise(((e,n)=>{rI({api:"tcp",url:`tcp://${t}`}).then((i=>{i.isInLAN&&!i.isLocalHost||i.isInDomainList?e():n({errMsg:`connect fail: invalid address ${t}:${r}`,errCode:-4,errno:-4})})).catch((e=>{n({errMsg:`connect fail: ${e.message||e.errMsg}`,errCode:-4})}))}))}var fMe=e=>{var{enableHttpDNS:t,httpDNSServiceId:r}=e.args,{address:n}=e;if(t&&"string"==typeof r){if(!/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(n)){var i=om({args:{enableHttpDNS:t,httpDNSServiceId:r},host:n});return i&&i.then?i.then((e=>e.rawHttpDnsError?{exception:{reasons:e.rawHttpDnsError},useHttpDNS:!1}:{address:e.ip,useHttpDNS:!0})).catch((e=>(_.error("TCP.connect httpdns fail",e),{exception:{reasons:[{errMsg:e.errMsg||e.message,errno:e.errno}]},useHttpDNS:!1}))):i&&i.ip?{address:i.ip,useHttpDNS:!0}:{address:n,useHttpDNS:!1}}}else if(t)return{exception:{reasons:[{errMsg:"getDNSInfo:fail not valid service id",errno:va}]},useHttpDNS:!1}},gMe=(e,t)=>new Promise(((r,n)=>{var{address:i,port:a}=e;t({url:`tcp://${i}`},(e=>{e?n({errMsg:`connect fail: ${e=e||`invalid address ${i}:${a}`}`,errCode:-4}):uMe(Number(a))?n({errMsg:`connect fail: invalid port '${a}' `,errCode:-4}):r()}))})),vMe=new WeakMap,mMe=new WeakMap,yMe=new Map,bMe=1,_Me=[];class wMe{constructor(e,t){vMe.set(this,e),mMe.set(this,t||{}),["close","connect","error","message"].forEach((t=>{var r=nr(`jsapi-tcp-${e}-${t}`);this[`on${Af(t)}`]=r.onMethod,this[`off${Af(t)}`]=r.offMethod}))}connect(e){var t,r=nr(`jsapi-tcp-${vMe.get(this)}-error`),n=e=>{if(e.address,fd("connectTCPSocket",{id:vMe.get(this),address:e.address,port:e.port,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Ad(t)},i=new lMe({args:e,address:`${e.address}`,port:+e.port,timeout:e.timeout});i.catch((e=>{r.emit({errMsg:e.message||e.errMsg,errCode:e.errCode,errno:e.errno})})),gt(mMe.get(this).customCheck)?i.then(gMe,mMe.get(this).customCheck):i.then(hMe).then(fMe).then((e=>{var{useHttpDNS:t,exception:r}=e,n={useHttpDNS:!!t};r&&(n.exception=r),yMe.set(vMe.get(this),n)})),i.finally((e=>{n(e)}))}write(e){ArrayBuffer.isView(e)&&(e=e.buffer);var t,r={message:e};if(fd("writeTCPSocket",{id:vMe.get(this),message:r.message,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Ad(t)}close(){var e;if(fd("closeTCP",{id:vMe.get(this),fail(t){e=t.errMsg}}),e)throw new Ad(e)}}class SMe extends wMe{constructor(e,t){var r=_Me[_Me.length-20];if(r&&Date.now()-r<3e5)throw new Ad("[TCPSocket] created too much.");_Me.push(Date.now()),_Me.length>20&&_Me.shift();var n,i=bMe++;if(fd("createTCPSocket",{id:i,type:"ipv6"===t?"IPv6":"IPv4",fail(e){e.errMsg,n=e.errMsg}}),n)throw new Ad(n);super(i,e)}}class CMe{constructor(e){var t,r=bMe++;if(vMe.set(this,r),fd("createTCPServer",{id:r,type:"ipv6"===e?"IPv6":"IPv4",fail(e){e.errMsg,t=e.errMsg}}),t)throw new Ad(t);["close","connection","error","listening"].forEach((e=>{var t=nr(`jsapi-tcp-${r}-${e}`);this[`on${Af(e)}`]=t.onMethod,this[`off${Af(e)}`]=t.offMethod}))}listen(e){var t,r,n=+e.port;if(fd("listenTCPServer",{id:vMe.get(this),port:e.port,fail(e){t=n,r=e.errMsg}}),r)throw new Ad(r);return t}close(){var e;if(fd("closeTCP",{id:vMe.get(this),fail(t){e=t.errMsg}}),e)throw new Ad(e)}}re.onReady((()=>{["close","connect","connection","error","listening","message"].forEach((e=>{Ut(`onTCP${Af(e)}`,(t=>{var{id:r}=t;delete t.id,Af(e);var n=nr(`jsapi-tcp-${r}-${e}`);"connection"===e?n.emit(new wMe(t.socketId)):("connect"===e&&(Object.assign(t,yMe.get(r)),yMe.delete(r)),n.emit(t))}))}))}));var kMe=(e,t)=>cx(e,`TCP.${t}`),IMe=e=>{lTe({success(){pTe({success(t){e(t)}})}})},PMe=new WeakMap,TMe=new WeakMap,AMe=new WeakMap,xMe=new WeakMap,EMe=new WeakMap,MMe=new WeakMap,RMe=new Map,DMe=1,OMe=[];class LMe{constructor(e,t,r,n){var i=DMe++;if(["close","error","connect","message","bindWifi"].forEach((r=>{var n=nr(`jsbinding-tcp-${i}-${r}`);this[`on${Af(r)}`]=n.onMethod,this[`off${Af(r)}`]=n.offMethod,t||(e[`on${r}`]=kMe(((...e)=>{"message"===r&&(e[0]=dMe(e[0])),"connect"===r&&(e[0]=pMe(e[0])),"connect"===r&&("number"==typeof e[0]&&(e[0]={id:e[0]}),Object.assign(e[0],RMe.get(i)),RMe.delete(i)),n.emit(...e)}),`on${r}`))})),PMe.set(this,e),AMe.set(this,t),TMe.set(this,i),EMe.set(this,r||{}),MMe.set(this,"ipv6"===n?"IPv6":"IPv4"),ke&&"function"==typeof e.create){var a=e.create({type:MMe.get(this)});xMe.set(this,a)}}bindWifi(e){var t=nr(`jsbinding-tcp-${TMe.get(this)}-error`);ke?IMe((r=>{if(r.wifi&&r.wifi.BSSID===e.BSSID&&!r.wifi.SSID.includes("unknown ssid")&&PMe.has(this)){var n=PMe.get(this),i=xMe.get(this);if(i<0)return;fd("bindSocketToNetwork",{networkType:"wifi",socketFd:i,success(){n.onbindWifi({})},fail(e){t.emit({...e,errCode:4})}},{})}else t.emit({errMsg:"bindWifi fail: Invalid BSSID",errCode:3})})):t.emit({errMsg:"bindWifi fail: unsupport method on this platform",errCode:5})}connect(e){var t=nr(`jsbinding-tcp-${TMe.get(this)}-error`);if(Vh("TCP")){var r=e=>{e.address,PMe.get(this).connect({address:e.address,port:e.port,type:MMe.get(this),timeout:e.timeout})},n=new lMe({args:e,address:`${e.address}`,port:+e.port,timeout:e.timeout});n.catch((e=>{t.emit({errMsg:e.message||e.errMsg,errCode:e.errCode,errno:e.errno})})),gt(EMe.get(this).customCheck)?n.then(gMe,EMe.get(this).customCheck):n.then(hMe).then(fMe).then((e=>{var{useHttpDNS:t,exception:r}=e,n={useHttpDNS:!!t};r&&(n.exception=r),RMe.set(TMe.get(this),n)})),n.finally((e=>{r(e)}))}else t.emit({errMsg:"connect fail: no permission",errCode:-3})}write(e){if(Vh("TCP")){ArrayBuffer.isView(e)&&(e=e.buffer);var t={message:e};AMe.get(this)&&(t.socketfd=AMe.get(this)),PMe.get(this).send(t)}else{nr(`jsbinding-tcp-${TMe.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}close(){AMe.get(this)?PMe.get(this).close(AMe.get(this)):PMe.get(this).close()}}class NMe extends LMe{constructor(e,t){var r=Vg.TCP;if(!r)return null;var n=OMe[OMe.length-20];if(n&&Date.now()-n<3e5)throw new Ad("[TCPSocket] created too much.");OMe.push(Date.now()),OMe.length>20&&OMe.shift();var i=new r;if(null===i)return null;super(i,0,e,t)}}class BMe{constructor(e){var t=Vg.TCP;if(!t)return null;var r=new t;if(null===r)return null;var n=0,i=DMe++,a={};["close","connection","error","listening","message"].forEach((t=>{var o=nr(`jsbinding-tcp-${i}-${t}`);"connection"===t?r.onaccept=kMe((t=>{var i=new LMe(r,t,{},"ipv6"===e?"IPv6":"IPv4");n=t,a[t]=i,o.emit(i),r.recv(t)}),"onaccept"):r[`on${t}`]=kMe(((...e)=>{if("close"===t||"error"===t||"message"===t){var i=e[0];if("error"!==t&&"message"!==t||(i=e[0].sockfd,delete e[0].sockfd,i||(i=n)),"message"===t&&(e[0]=dMe(e[0])),a[i])return nr(`jsbinding-tcp-${TMe.get(a[i])}-${t}`).emit(dt(e[0])?e[0]:void 0),void("close"===t&&delete a[i])}o.emit(dt(e[0])?e[0]:void 0),"listening"===t&&r.accept()}),`on${t}`),this[`on${Af(t)}`]=o.onMethod,this[`off${Af(t)}`]=o.offMethod})),PMe.set(this,r)}listen(e){var t=PMe.get(this);return t.onbind=kMe((()=>{t.listen(10)}),"onbind"),t.bind(e)}close(){PMe.get(this).close()}}var $Me=new WeakMap,FMe=new WeakMap,jMe=new Map,WMe=1,VMe=[],UMe=new WeakMap,zMe={};class qMe{constructor(e,t,r){$Me.set(this,e),UMe.set(this,t),FMe.set(this,r||{}),["close","connect","error","message","bindWifi"].forEach((t=>{var r=nr(`jsapi-tcp-${e}-${t}`);this[`on${Af(t)}`]=r.onMethod,this[`off${Af(t)}`]=r.offMethod}))}bindWifi(){nr(`jsapi-tcp-${$Me.get(this)}-error`).emit({errMsg:"bindWifi fail: unsupport method on this platform",errCode:5})}connect(e){var t,r=nr(`jsapi-tcp-${$Me.get(this)}-error`),n=e=>{if(e.address,fd("connectTCPSocket",{id:$Me.get(this),address:e.address,port:e.port,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Ad(t)},i=new lMe({args:e,address:`${e.address}`,port:+e.port,timeout:e.timeout});i.catch((e=>{r.emit({errMsg:e.message||e.errMsg,errCode:e.errCode,errno:e.errno})})),gt(FMe.get(this).customCheck)?i.then(gMe,FMe.get(this).customCheck):i.then(hMe).then(fMe).then((e=>{var{useHttpDNS:t,exception:r}=e,n={useHttpDNS:!!t};r&&(n.exception=r),jMe.set($Me.get(this),n)})),i.finally((e=>{n(e)}))}write(e){var t;ArrayBuffer.isView(e)&&(e=e.buffer);var r={id:$Me.get(this),message:e};if(UMe.get(this)&&(r.socketfd=UMe.get(this)),fd("sendTCPSocketMessage",{...r,fail(e){e.errMsg,t=e.errMsg}}),t)throw new Ad(t)}close(){var e,t={id:$Me.get(this)};if(UMe.get(this)&&(t.socketfd=UMe.get(this)),fd("closeTCPSocket",{...t,fail(t){e=t.errMsg,t.errMsg}}),e)throw new Ad(e)}}class HMe extends qMe{constructor(e,t){var r=VMe[VMe.length-20];if(r&&Date.now()-r<3e5)throw new Ad("[TCPSocket] created too much.");VMe.push(Date.now()),VMe.length>20&&VMe.shift();var n,i=WMe++;if(fd("createTCPSocket",{id:i,type:"ipv6"===t?"IPv6":"IPv4",fail(e){e.errMsg,n=e.errMsg}}),n)throw new Ad(n);super(i,0,e)}}class GMe extends qMe{constructor(e,t){var r,n=WMe++;if(super(n,0,e),fd("createTCPSocket",{id:n,type:"ipv6"===t?"IPv6":"IPv4",fail(e){e.errMsg,r=e.errMsg}}),r)throw new Ad(r);["close","accept","error","listening"].forEach((e=>{var t=nr(`jsapi-tcp-${n}-${e}`);this[`on${Af(e)}`]=t.onMethod,this[`off${Af(e)}`]=t.offMethod}))}listen(e){nr(`jsapi-tcp-${$Me.get(this)}-error`).onBind((()=>{fd("listenTCPSocket",{id:$Me.get(this),backlog:10,fail(e){e.errMsg}})}));var t=+e.port;return fd("bindTCPSocket",{id:$Me.get(this),port:t,success(e){t=e.port},fail(e){e.errMsg}}),t}}re.onReady((()=>{["bind","accept","close","connect","listening","error","message"].forEach((e=>{Ut(`onTCPSocket${Af(e)}`,(t=>{var{id:r,sockfd:n}=t;delete t.id,delete t.sockfd,Af(e);var i=nr(`jsapi-tcp-${r}-${e}`);if("accept"===e){var a=WMe++,o=new qMe(a,n);return zMe[n]=o,i.emit(o),void fd("recvTCPSocket",{id:a,sockfd:n,fail(e){e.errMsg}})}if(("close"===e||"error"===e||"message"===e)&&(n&&zMe[n]))return nr(`jsapi-tcp-${$Me.get(zMe[n])}-${e}`).emit(t),void("close"===e&&delete zMe[n]);"message"===e&&(t=dMe(t)),"connect"===e&&(t=pMe(t)),"connect"===e&&(Object.assign(t,jMe.get(r)),jMe.delete(r)),i.emit(t),"listening"===e&&fd("acceptTCPSocket",{id:r,fail(e){e.errMsg}})}))}))}));var KMe=({type:e="ipv4"}={})=>Ce?new SMe({},e.toLowerCase()):Ne?new HMe({},e.toLowerCase()):new NMe({},e.toLowerCase()),JMe=({type:e="ipv4"}={})=>Ce?new CMe(e.toLowerCase()):Ne?new GMe({},e.toLowerCase()):new BMe(e.toLowerCase()),XMe={request:UA,uploadFile:fk,downloadFile:FC,connectSocket:SI().connectSocket,createTCPSocket:Ce?SMe:NMe},YMe={_requestSkipCheckDomain:UA,_uploadFileSkipCheckDomain:fk,_downloadFileSkipCheckDomain:FC,_socketSkipCheckDomainFactory:SI},QMe=(e,t)=>{if(_.info(`[Plugin] checkDomains url: ${e}, domains: ${JSON.stringify(t)}`),void 0===t||void 0===e)return!1;for(var r=(0,xv.Qc)(e||""),n=0;n<t.length;n++){var i=t[n]||"",a=(0,xv.Qc)(i);if(a.protocol===r.protocol&&a.hostname===r.hostname&&a.port===r.port)return!0}return!1},ZMe=e=>(...t)=>{_[e](["[Plugin]",...t.map((e=>"string"==typeof e?e:JSON.stringify(e)))].join(" "))},eRe=ZMe("info"),tRe=ZMe("warn"),{emitter:rRe,pluginInfos:nRe}=th,iRe=1,aRe=2,oRe=3,sRe={[iRe]:!1,[oRe]:!1,[aRe]:!1},lRe=0,cRe=0,uRe=[10,10,10],dRe=!1,pRe=e=>{sRe[e]=!0;var t=Object.keys(sRe).reduce(((e,t)=>e&&sRe[t]),!0);t&&(dRe||(eRe("all steps done, emit pluginInfoFetchDone"),rRe.emit("pluginInfoFetchDone"),dRe=!0),rRe.emit("pluginInfoFetchDoneInterval"))},hRe=(e,t)=>{setTimeout((()=>{var r=[e,t,yr.getCurrentRoute(),LO().sessionid||LO().sessionId||"",1,""].map(encodeURIComponent).join(",");M.reportKeyValue({key:"PluginDisplay",value:r})}),0)},fRe=()=>{if(eRe("start to invokeGetPluginList"),re.appContactInfo&&re.appContactInfo.call_plugin_info)for(var e=re.appContactInfo.call_plugin_info,t=function(){var t,n=e[r],i=n.plugin_id;nRe[i]=I8({version:n.inner_version,customVersion:n.plugin_version||"",specifiedVersion:(null===(t=Object.values(re.plugins||{}).find((e=>e.provider===i)))||void 0===t?void 0:t.version)||"unknown"}),hRe(i,n.inner_version)},r=0;r<e.length;r++)t();else if(re.plugins)for(var n in re.plugins){var i=re.plugins[n],a=i.provider;nRe[a]=I8({version:0,customVersion:i.version||""}),hRe(a,0)}pRe(iRe),eRe("invokeGetPluginList -> ",nRe)},gRe=e=>new Promise(((t,r)=>{fd("batchGetContact",{appIds:e,success({contactList:r}){eRe(`batchGetContact with appIds ${e} success: ->`,r),_8(r),t(r)},fail(t){r({res:t,appIds:e})}})})),vRe=[];function mRe(e){var t=!1,r=0;for(var n in nRe){if(nRe[n].latestCustomVersion>=0&&e[n]>nRe[n].latestCustomVersion){eRe("customVersion in code ("+e[n]+") is larger than customVersion in contact info ("+nRe[n].latestCustomVersion+"). Retry needed."),t=!0;break}for(var i in nRe[n].domains)nRe[n].domains[i]&&(r+=nRe[n].domains[i].length)}return t||r||(eRe("no domains set. Retry needed."),t=!0),t}function yRe({appIds:e,appIdCustomVersionMap:t,retryCount:r}){Promise.all(vRe).then((n=>{vRe=[];var i=n.flat();if(r>0&&(mRe(t)||e.length!==i.length))return void setTimeout((()=>{wRe(r-1)}),1e3);w8(),pRe(aRe)})).catch((({appIds:e,res:t})=>{vRe=[],tRe(`batchGetContact with appIds ${e} failed: ${t.errMsg}`),lRe<1?(eRe("retry to batchGetContact.."),setTimeout((()=>{wRe(0)}),0),lRe++):pRe(aRe)}))}var bRe=({appIds:e,appIdCustomVersionMap:t,retryCount:r})=>{var n=[...e],i=e.splice(0,10);if(i.length){var a=0===e.length,o=gRe(i);if(vRe.push(o),a)yRe({appIds:n,appIdCustomVersionMap:t,retryCount:r});else var s=setInterval((()=>{var i=e.splice(0,10);a=0===e.length;var o=gRe(i);vRe.push(o),a&&(s&&clearInterval(s),yRe({appIds:n,appIdCustomVersionMap:t,retryCount:r}))}),1e3)}},_Re=({appIds:e,appIdCustomVersionMap:t,retryCount:r})=>{gRe(e).then((()=>{if(r>0&&mRe(t))return void setTimeout((()=>{wRe(r-1)}),1e3);w8(),pRe(aRe)})).catch((t=>{tRe(`batchGetContact with appIds ${e} failed: ${t.errMsg}`),lRe<1?(eRe("retry to batchGetContact.."),setTimeout((()=>{wRe(0)}),0),lRe++):pRe(aRe)}))},wRe=e=>{eRe("start to invokeGetContact");var t=[],r={};for(var n in nRe)t.push(n),r[n]=nRe[n].customVersion;0!==t.length?(Ie?bRe({appIds:t,appIdCustomVersionMap:r,retryCount:e}):_Re({appIds:t,appIdCustomVersionMap:r,retryCount:e}),setTimeout((()=>{pRe(aRe)}),12e4)):eRe("appids are empty, skip invokeGetContact.")},SRe=!1,CRe=({plugins:e,success:t,fail:r,timeout:n})=>{SRe=!0;var i=!1,a=setTimeout((()=>{i=!0,SRe=!1,r({errMsg:"verifyPlugin:fail timeout"})}),1e3*n);fd("verifyPlugin",{data:{plugins:e},success(...e){i||(SRe=!1,clearTimeout(a),t(...e))},fail(...e){i||(SRe=!1,clearTimeout(a),r(...e))}})},kRe=null,IRe=e=>{SRe||(null!==kRe&&(clearTimeout(kRe),kRe=null),null===e?PRe():kRe=setTimeout(PRe,e))},PRe=()=>{eRe("start to invokeVerifyPlugin",Date.now());var e=[];for(var t in nRe){var r=nRe[t];e.push({provider:t,inner_version:r.version})}if(0!==e.length){var n=Object.fromEntries(Object.entries(nRe).map((([e,t])=>[e,t.separated])));CRe({plugins:e,timeout:10,success({data:e}){if(void 0!==e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}var t=Array.isArray(e.list)?e.list:[];C8(t,n),eRe("verifyPlugin result -> ",e.list),pRe(oRe),cRe=0,IRe(6e5)}else tRe("Plugin data from backend is not available.")},fail(e){var t;tRe("invokeVerifyPlugin failed: "+e.errMsg,Date.now()),cRe<uRe.length?t=uRe[cRe]:(sRe[oRe]||pRe(oRe),t=30),eRe(`retry invokeVerifyPlugin after ${t}s..`),IRe(1e3*t),cRe++}})}else eRe("plugins is empty, skip invokeVerifyPlugin.")},TRe=()=>{re.onReady((()=>{fRe(),wRe(5),IRe(null)}))},ARe=e=>{Array.isArray(null==e?void 0:e.separatedPlugins)&&0!==e.separatedPlugins.length&&(e.separatedPlugins.forEach((e=>{var t=nRe[e.plugin_id];if(t&&e.custom_version){var r=y8(e.custom_version);r<0||(t.customVersion=r,t.version=e.inner_version,t.separated=!0)}})),IRe(500))};h6((e=>{ARe(e)})),s_e(((e,t)=>{ARe(t)}));var xRe=function(e,t){var r=sMe(e,"domains");if(!r)return!1;if(!r.all){for(var n=r.detail,i=(0,xv.Qc)(t||""),a=!1,o=0;o<n.length;o++){var s=(0,xv.Qc)(n[o]||"");if(i.protocol===s.protocol&&i.hostname===s.hostname&&i.port===s.port){a=!0;break}}if(!a)return!1}return aMe(r.hint),!0},ERe=(e,t)=>{var r=t.header||{},n=e.hostSign||{};r["X-WECHAT-HOSTSIGN"]=JSON.stringify(n),_.info("[Plugin] add host sign: "+JSON.stringify(n)),t.header=r},MRe=(e,t,r)=>{var n=[e,t,yr.getCurrentRoute(),LO().sessionid||LO().sessionId||"",2,r].map(encodeURIComponent).join(",");M.reportKeyValue({key:"PluginDisplay",value:n})},RRe=!1;re.onReady((()=>{if(Ce)RRe=!1===re.urlCheck;else{var e=re.envVersion&&"release"!==re.envVersion,t=!0===re.debug;RRe=e&&t}}));var DRe=function(e,t,r){return new Promise(((n,i)=>{fd("checkNetworkAPIURL",{api:e,url:t,success(e){_.info(`[Plugin] checkNetworkAPIURL success: ${JSON.stringify(e)}`);var a=QMe(t,r)||e.isInLAN&&!e.isLocalHost,o="";a||(o=`Url "${t}" not in plugin's domain list.`,RRe&&console.warn(o+" This network request will be blocked in release version.")),_.info(`[Plugin] checkDomain res: ${o}`),RRe||a?n():i(o)},fail(e){i(e.errMsg||"check url failed.")}})}))},ORe=0,LRe=[];th.emitter.on("pluginInfoFetchDoneInterval",(()=>{for(ORe=Date.now();LRe.length>0;){LRe.shift()()}}));var NRe=function(){return Date.now()-ORe>6e5?(IRe(null),new Promise((e=>{LRe.push(e)}))):Promise.resolve()},BRe=Object.assign,$Re={};Object.keys(XMe).forEach((e=>{$Re[e]=function(t={}){var r=sh(this),n=BRe({},t);return n.customCheck=(t,n)=>{var i;NRe().then((()=>{var n=(i=th.pluginInfos[r]).domains[e],a=e;return"connectSocket"===e&&(a="websocket"),"createTCPSocket"===e?DRe("tcp",t.url,i.domains.tcp):DRe(a,t.url,n)})).then((()=>{if(xRe(r,t.url)){var a=`url "${t.url}" is temporarily rejected.`;n(a)}else MRe(r,i.version,t.url),"createTCPSocket"!==e&&ERe(i,t),n(null)})).catch((e=>{var t=tt(e)?e:"check url failed.";n(t)}))},"createTCPSocket"===e?new XMe[e](n):XMe[e](n)}}));const FRe=$Re;var jRe=e=>(t={})=>{if(Ie){id({errMsg:"preloadWebview:ok preload request ignored in iOS"},"preloadWebview",t,{})}else iS("preloadWebview",{pluginId:e},void 0,(e=>{id(e,"preloadWebview",t,{})}))},WRe=jRe("/"),VRe=!1,URe=e=>{if(VRe||!e||"object"!=typeof e||null==e||!e.custom)return!1;var t=!1;return"cover-view"===(null==e?void 0:e.renderer)&&(t=!0),!t&&Array.isArray(null==e?void 0:e.list)&&e.list.forEach((e=>{t="cover-view"===(null==e?void 0:e.renderer)})),_.info("[CustomTabBar] needCreateSclContext ",!!t),t},zRe=function(){var e=Vp()((function*(){if(VRe)return Promise.resolve();VRe=!0,j.createAppSclContext(),yield j.waitAppSclContextInit()}));return function(){return e.apply(this,arguments)}}(),qRe=e=>{var t=vd(e);return(e={})=>{re.onReady((r=>{var n,i=null===(n=r.renderer)||void 0===n?void 0:n.allUsed;Array.isArray(i)&&i.includes("skyline")?t("preloadSkylineView",e,{}):Vc("preloadSkylineView",e,"")}))}},HRe=qRe("/"),GRe=function(e){return e[e.AUTO=0]="AUTO",e[e.WEBVIEW=1]="WEBVIEW",e[e.SKYLINE=2]="SKYLINE",e}(GRe||{});function KRe(e){return e.isSupportSkyline?e.isLibSupportSkyline?e.switchRenderMode!==GRe.AUTO||e.enableSkyline?e.switchRenderMode===GRe.WEBVIEW?{isSupported:!1,reason:"SwitchRender option set to `webview`"}:{isSupported:!0}:{isSupported:!1,reason:"a-b test not enabled"}:{isSupported:!1,reason:"baselib not supported"}:{isSupported:!1,reason:"client not supported"}}function JRe(e){var{errMsg:t}=e,{isSupported:r,reason:n}=KRe(e),i=e.userAgent.split(" ")[0];return i.startsWith("skyline/")&&(i=i.slice(8)),{errMsg:t,isSupported:r,reason:n,version:i}}var XRe=e=>(t={})=>{var r=vd(e),n=t.success,i=t.fail,a=t.complete,o=Object.assign({},t);o.success=e=>{var t=JRe(e);"function"==typeof n&&n(t)},o.fail=e=>{"function"==typeof i&&i({errMsg:e.errMsg})},o.complete=e=>{var t=JRe(e);"function"==typeof a&&a(t)},r("getSkylineInfo",o,{})},YRe=XRe("/"),QRe=e=>()=>{var t={};vd(e)("getSkylineInfoSync",{success(e){t=e}});var r=JRe(t);return delete r.errMsg,r},ZRe=QRe("/");function eDe(e,t){var r={};return t.forEach((t=>r[t]=e[t])),r}function tDe(){return{...eDe(B,["addRouteBuilder","removeRouteBuilder"]),getRouteContext(e){var t=parseInt(e.getPageId().slice(7),10);return B.getRouteContext(t)}}}function rDe(){return eDe(B,["runOnJS","runOnUI","cancelAnimation","shared","derived","delay","repeat","sequence","timing","spring","decay","Easing","snapshotContext","scrollViewContext","getBoundingClientRect"])}B.setExternalMethods({setNavigationBarColor:kF,getMenuButtonBoundingClientRect:JW});var nDe=0,iDe={};function aDe(e){var t;if("object"==typeof SkylineGlobal&&null!==(t=SkylineGlobal)&&void 0!==t&&t.runtime)return SkylineGlobal.runtime.registerJsValue(e);var r=nDe++;return iDe[r]=e,r}function oDe(e){var t;"object"==typeof SkylineGlobal&&null!==(t=SkylineGlobal)&&void 0!==t&&t.runtime?SkylineGlobal.runtime.unRegisterJsValue(e):delete iDe[e]}var sDe=function(){var e=Vp()((function*(){lDe||(lDe=!0,j.createAppRenderContext(),yield j.waitAppRenderContextInit(),cDe=!0,_.info("[SubContextEngine] requireRenderContext finished, render context inject done"),dDe.forEach((e=>{try{j.publishToRenderContext(e.event,e.msg||{})}catch(t){_.error("[SkylineEvents] publish "+e.event+" error"),_.error("[SkylineEvents] "+t.message),t.stack.split("\n").forEach((e=>{_.error("[SkylineEvents] "+e)}))}})),URe(null==re?void 0:re.tabBar)&&(yield zRe()))}));return function(){return e.apply(this,arguments)}}(),lDe=!1,cDe=!1,uDe=[],dDe=[];function pDe(){for(var e of uDe)e();uDe=[]}function hDe(e){"undefined"!=typeof SkylineGlobal?e():uDe.push(e)}Ut("requireRenderContext",sDe),m.onLoad((()=>{Ie&&re.envPreloadType===Z.BeforeLaunch&&mr((()=>{setTimeout((()=>{_.info("[RenderContext] requireRenderContext on preload"),sDe()}),200)}))})),Ut("onSkylineGlobalReady",(e=>{_.info(`[WABaseLib.Critical] main context receive onSkylineGlobalReady: ${JSON.stringify(e)}, renderContextRequired=${lDe} ${Date.now()}`),e.SkylineGlobal=SkylineGlobal,cDe?j.publishToRenderContext("onSkylineGlobalReady",e||{}):dDe.push({event:"onSkylineGlobalReady",msg:e||{}}),pDe()})),Ut("onSkylineWindowReady",(e=>{_.info(`[WABaseLib.Critical] main context receive onSkylineWindowReady: ${JSON.stringify(e)}, renderContextRequired=${lDe} ${Date.now()}`),cDe?j.publishToRenderContext("onSkylineWindowReady",e||{}):dDe.push({event:"onSkylineWindowReady",msg:e||{}})}));var fDe=function(e={}){var t=sh(this);e.pluginId=t,Ure(e)};function gDe(e){var t=sh(this);tx(Object.assign({},e,{pluginId:t}))}var vDe={},mDe=e=>{if(!vDe[e]){var t=Tb(e);delete t.saveFile,delete t.saveFileSync,delete t.getSavedFileList,delete t.getSavedFileInfo,delete t.removeSavedFile,delete t.getFileInfo;try{Ey(hb(e),!0)}catch(e){}vDe[e]=t}return vDe[e]},yDe=["scope.record","scope.writePhotosAlbum","scope.camera","scope.addPhoneContact","scope.bluetooth","scope.voip"],bDe=e=>{var t=V6(e);return function(e={}){jc("authorizeForMiniProgram",e,{scope:""})&&(yDe.includes(e.scope)?t(fh(e,"authorize","authorizeForMiniProgram")):Vc("authorizeForMiniProgram",e,`scope "${e.scope}" is not supported to be authorized by plugin.`))}},_De=new WeakMap,wDe=function(e,t){var r=sMe(e,"apis");return!!r&&(!(!r.all&&r.detail.indexOf(t)<0)&&(aMe(r.hint),!0))},SDe=(e,t,r)=>{var n=function(n){Object.defineProperty(e,n,{get:kDe((()=>{var i=t[n];return"function"!=typeof i?i:function(t){if(jE(n,r,t)&&!wDe(r,n)){if(!tye(n,r,t))return i.apply(e,arguments);Vc(n,t,"banned in plugin")}else{if("Sync"===n.slice(-4))throw new Td(n+":fail rejected due to no permission currently in plugin");t&&(t.fail||t.complete)&&setTimeout((()=>{Vc(n,t,"rejected due to no permission currently in plugin")}),0)}}})),set(t){Object.defineProperty(e,n,{value:t,writable:!0,enumerable:!0,configurable:!0})},enumerable:!0,configurable:!0})};for(var i of Object.keys(t))n(i)},CDe=(e,t)=>{for(var r of Object.keys(re.plugins)){var n=re.plugins[r];n.provider===t&&_De.set(e,n.version)}};function kDe(e){var t;return()=>t=t||e()}var IDe=(e,t,r,n)=>{var i={...YMe,invokeOperateWXData:gDe,uploadToCommonCDN:II};for(var a of Object.keys(i))i[a]=i[a].bind(e);var o={sdk:i,identifiers:{pluginId:r,pluginVersion:n}},s={...t,getFileSystemManager:()=>mDe(r),preloadWebview:jRe(r),preloadSkylineView:qRe(r),getSkylineInfoFactory:XRe(r),getSkylineInfoSyncFactory:QRe(r),authorizeForMiniProgram:bDe(r),onScreenRecordingStateChanged:IB(r),offScreenRecordingStateChanged:PB(r)};return Object.defineProperties(s,{cloud:{get:kDe((()=>__cloudSDKMain__.getCloudAPI(o))),enumerable:!0,configurable:!0},serviceMarket:{get:kDe((()=>__cloudSDKMain__.getServiceMarketAPI(o))),enumerable:!0,configurable:!0}}),s};class PDe{constructor(e,t,r){var n=ip();th.puidToPluginWX[n]=this,th.pluginIDs[n]=t,th.pluginVersions[n]=r;var i=IDe(this,e,t,r);SDe(this,i,t),CDe(this,t),this.env={USER_DATA_PATH:hb(t)}}getPluginVersion(){return _De.get(this)}}const TDe=PDe;var ADe={},xDe=(e,t)=>{var r=(e=e.replace("plugin_","")).endsWith("Sync");ADe[e]=function(e,...n){var i=sh(this);return r?(e&&(e=`${i}/${e}`),t(e,...n)):(e.key&&(e.key=`${i}/${e.key}`),t(e))}};for(var EDe in vke)EDe.startsWith("plugin_")&&xDe(EDe,vke[EDe]);const MDe=ADe;var RDe={createInnerAudioContext:Rse};["createAudioContext","createCameraContext","createMapContext","createVideoContext","createLivePlayerContext","createLivePusherContext"].forEach((e=>{RDe[e]=function(t,r){var n=sh(this),i=uh(this),a=r&&r.__wxExparserNodeId__?r.__wxExparserNodeId__:"";return R[e].call(this,t,su.currentWebviewId,a,`${n}/${i}`)}}));const DDe=RDe;var ODe={createOffscreenCanvas(e=1,t=1,r=null){var n="object"==typeof e?e:{width:e,height:t,compInst:r},i=sh(this);return n.pluginId=i,k3(n)}},LDe=[];for(var NDe in x)NDe.endsWith("4Plugin")&&LDe.push(NDe);LDe.forEach((e=>{var t=e.replace("4Plugin","");ODe[t]=function(t,r){var n=sh(this),i=uh(this),a=r&&r.__wxExparserNodeId__?r.__wxExparserNodeId__:"";return x[e].call(this,t,`${n}/${i}`,a)}}));const BDe=ODe;var $De=function(){var e=OV(),t=sh(this);return e.plugin={appId:t||"",version:gh(th.pluginInfos[t].customVersion)},e},FDe=function(e){return xbe(e,sh(this))},jDe=function(e,t){return Lbe(e,t,sh(this))},WDe=function(e,t){return Fbe(e,t,sh(this))},VDe=function(e){return p4(e)};function UDe(e,t={},r){zc({name:e,args:t,errMsg:r,success:!1})}var zDe=["wx013447465d3aa024"];function qDe(e={}){if(jc("reportPrivatePlugin",e,{key:"",data:[]})){var{key:t,data:r}=e,n=sh(this);if(zDe.includes(n)){var i=r.map(encodeURIComponent).join(",");M.reportKeyValue({key:t,value:i}),id({},"reportPrivatePlugin",e,{})}else UDe("reportPrivatePlugin",e,"invalid private plugin appId")}}var HDe=function(){},GDe={},KDe={},JDe=0;Jw((({webviewId:e})=>{JDe=e,KDe[e]||(KDe[e]=!0,SE(e,(e=>{delete KDe[e],delete GDe[e]}),"AD"))}));var XDe=e=>e&&!0===e.multiton?new ADSDK.RewardedVideoAd(e):(GDe[JDe]||(GDe[JDe]=new ADSDK.RewardedVideoAd(e)),GDe[JDe]),YDe=e=>{var t={...e};return delete t.pluginId,XDe(t)},QDe=e=>{var t={...e};return delete t.pluginId,delete t.aiadPlatformId,new ADSDK.InterstitialAd(t)},ZDe=e=>new ADSDK.InterstitialAd(e),eOe=()=>{tOe()},tOe=()=>(console.warn("deprecated: wx.createCustomAd is not support"),{}),rOe=e=>new ADSDK.SkitAd(e);function nOe(e){var t=sh(this);return XDe({...e,pluginId:t})}function iOe(e){var t=sh(this);return ZDe({...e,pluginId:t})}function aOe(e){var t=sh(this);return rOe({...e,pluginId:t})}function oOe(e){var t=sh(this);return _me(e,{pluginId:t})}var sOe={};function lOe(e,t){var r="";if(e===MS&&(r="setCookies"),e===RS&&(r="getCookies"),r){var n=sh(this);sOe[n]=sOe[n]||{[MS]:null,[RS]:null},_e(n,r,1,(r=>{sOe[n][e]=r,t()}))}}function cOe(e,t){var r=sh(this);Ce?t(!0):sOe[r]&&null!==sOe[r][e]?t(!!sOe[r][e]):lOe.call(this,e,(()=>t(!!sOe[r][e])))}function uOe(e){cOe.call(this,MS,(t=>{var r="setCookies:ok";if(t){var n=GS(e);n?(r=n,"function"==typeof e.fail&&e.fail({errMsg:r})):"function"==typeof e.success&&e.success({errMsg:r})}else r="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:r});"function"==typeof e.complete&&e.complete({errMsg:r})}))}function dOe(e){cOe.call(this,RS,(t=>{var r="getCookies:ok";if(t){var n=KS(e);"function"==typeof e.success&&e.success({errMsg:r,cookies:n})}else r="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:r});"function"==typeof e.complete&&e.complete({errMsg:r})}))}function pOe(e={}){if(jc("openBusinessView",e,{businessType:""})){var t=Object.assign({},e);delete t.sourcetype,delete t.preScene,delete t.preSceneNote,delete t.agentId,delete t.privateExtraData,delete t.scene,delete t.sceneNote,t.privateExtraData={__pluginAppId:sh(this)},fd("openBusinessView",t)}}function hOe(e,t,r){var n=sh(this),i=dh(this);dEe(e,t,r,{pluginId:n,customVersion:i?i.customVersion:""})}function fOe(){return oJ({pluginId:sh(this)})}var gOe={muteMicrophone:!1,muteEarphone:!1},vOe;function mOe(e){return dt(e)?PZ()?{muteMicrophone:!0,muteEarphone:!0}:(nt(e.muteMicrophone)&&(gOe.muteMicrophone=e.muteMicrophone),nt(e.muteEarphone)&&(gOe.muteEarphone=e.muteEarphone),gOe):gOe}var yOe=()=>{ij({content:"账号已被禁言，暂时不能发送消息",confirmText:"知道了",showCancel:!1})},bOe=e=>{"boolean"==typeof vOe?(vOe&&yOe(),e(vOe)):We()?tx({apiName:"webapi_getvoiceroompunishstatusforwxag",sdkApiName:"checkMicrophoneBanned",reqData:{},success(t){var{is_punished:r}=t.data;!0===r?(yOe(),e(vOe=!0)):e(!1===r&&(vOe=!1))},fail(){e(!1)}}):e(vOe=!1)},_Oe=e=>{var t=new RegExp(/^joinVoIPChat:(?:fail )?fail: (-?[0-9]+?), (-?[0-9]+?), .*/).exec(e);if(!t)return-1e3;var r=parseInt(t[1],10),n=parseInt(t[2],10);if(-10086!==r&&-10087!==r)return-1e3;switch(n){case 0:return 0;case-1:return-1;case-7:return-2;default:return-1e3}},wOe=function(e){if(jc("joinVoIPChat",e,{signature:"",nonceStr:"",timeStamp:0,groupId:""})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:mOe(e.muteConfig),handsFree:!nt(e.handsFree)||e.handsFree,roomType:t}),n=()=>{var e=sh(this);r.privateData=JSON.stringify({pluginId:e});var n=()=>{var n=vd(e);VQ([1===t?"scope.camera":"scope.voice"])&&(r.permissionBytes=[1,1,1],n=Cd(e)),n("joinVoIPChat",r,{beforeSuccess(e){Uk(),qr("joinVoIPChat",{}),e.errCode=0,e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))},beforeFail(e){void 0===e.errCode&&(e.errCode=_Oe(e.errMsg))}})};r.muteConfig.muteMicrophone?n():bOe((e=>{e&&(r.muteConfig.muteMicrophone=!0),n()}))};r.forceCellularNetwork?"boolean"!=typeof r.forceCellularNetwork?(console.warn("joinVoIPChat argument forceCellularNetwork must be boolean but accept "+typeof r.forceCellularNetwork),r.forceCellularNetwork=!1,n()):qk().then((e=>{e||(r.forceCellularNetwork=!1),n()})):n()}},SOe=function(e={}){if(jc("join1v1VoIPChat",e,{roomId:0,sessionKey:"",lifespan:0})){var t="video"===e.roomType?1:2,r=Object.assign({},e,{muteConfig:mOe(e.muteConfig),handsFree:!!nt(e.handsFree)&&e.handsFree,roomType:t}),n=sh(this);r.privateData=JSON.stringify({pluginId:n}),vd(n)("join1v1VoIPChat",r)}},COe=function(e){try{var t=sh(this);vd(t)("exitVoIPChat",Object.assign({},e,{success(t){var r=t.errMsg||"ok";qr("exitVoIPChat",{}),zc({name:"exitVoIPChat",args:e,errMsg:r,errCode:0,res:t})},fail(t){var r=t.errCode||-1,n=t.errMsg||"unknown error";zc({name:"exitVoIPChat",args:e,success:!1,errMsg:n,errCode:r,res:t})},complete(){}}))}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:`exitVoIPChat:fail ${t.message}`}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:`exitVoIPChat:complete ${t.message}`})}},kOe=function(e){if(jc("updateVoIPChatMuteConfig",e,{muteConfig:{}})){var t=sh(this),r=Object.assign({},e,{muteConfig:mOe(e.muteConfig),handsFree:!nt(e.handsFree)||e.handsFree}),n=()=>{vd(t)("updateVoIPChatMuteConfig",r,{beforeSuccess(e){e.finalMuteConfig=JSON.parse(JSON.stringify(r.muteConfig))}})};r.muteConfig.muteMicrophone?n():bOe((e=>{e&&(r.muteConfig.muteMicrophone=!0),n()}))}},IOe=nr("voIPChatMembersChanged"),POe=IOe.onMethod,TOe=IOe.offMethod;Ut("onVoIPChatMembersChanged",(e=>{e.errCode=0,e.errMsg=e.errMsg||"ok",IOe.emit(e)}));var AOe=e=>{try{Ut("onVoIPChatSpeakersChanged",(t=>{t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&E.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}))}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&E.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}},xOe=()=>{Ut("onVoIPChatSpeakersChanged",(()=>{}))},EOe=(e="")=>e.includes("current mini app entered background")?-1:e.includes("in comming call")?-2:-1e3,MOe=nr("VoIPChatInterrupted"),ROe=e=>{e.errCode||(e.errCode=EOe(e.reason)),MOe.emit(e)};Ut("onVoIPChatInterrupted",(e=>{ROe(e)})),Ut("onVoIPChatInterruptedJsEvent",(e=>{ROe(e)}));var DOe=MOe.onMethod,OOe=MOe.offMethod,LOe=(e={})=>{jc("subscribeVoIPVideoMembers",e,{openIdList:[]})&&fd("subscribeVoIPMembers",e,{beforeAll(e){e.errMsg=e.errMsg.replace("subscribeVoIPMembers","subscribeVoIPVideoMembers")}})},NOe=nr("VoIPVideoMembersChanged"),BOe=NOe.onMethod,$Oe=NOe.offMethod;Ut("onVoIPVideoMembersChanged",((e={})=>{NOe.emit(e)}));var FOe=nr("voIPChatStateChanged"),jOe=FOe.onMethod,WOe=FOe.offMethod;Ut("onVoIPChatStateChanged",(e=>{e.errCode=e.errCode||0,e.errMsg=e.errMsg||"ok",FOe.emit(e)}));var VOe=e=>({feedId:e.export_id,nonceId:e.nonce_id,description:e.description,playbackState:e.playback_state,status:e.status,headUrl:e.head_url,nickname:e.nickname,replayStatus:e.replay_status}),UOe=e=>{if("number"!=typeof e)return 1;var t=Math.floor(e/1e3);return t>0?t:1},zOe=lx("getChannelsLiveInfo","webapi_getfinderviewlastlive",(({feedId:e,finderUserName:t,jsapi:r,startTime:n,endTime:i})=>{var a={jsapi:r,export_id:e,finder_username:t};return"number"==typeof n&&"number"==typeof i&&(a.start_time=n,a.end_time=i),a}),(e=>{var t;if(null!==(t=e.live_info)&&void 0!==t&&t.length){var[r,...n]=e.live_info;Object.assign(e,VOe(r)),e.otherInfos=n.map(VOe)}delete e.live_info})),qOe="getChannelsLiveInfo";function HOe(e){var t,r,n={...e,jsapi:qOe};if(("number"==typeof e.startTime||"number"==typeof e.endTime)&&(n.startTime=UOe(null!==(t=e.startTime)&&void 0!==t?t:0),n.endTime=UOe(null!==(r=e.endTime)&&void 0!==r?r:Date.now()),n.startTime>=n.endTime))return void Vc(qOe,e,"invalid time range");zOe(n)}var GOe=lx("getChannelsLiveState","webapi_getfinderviewlivestate",(({feedId:e,finderUserName:t,finderNickName:r})=>({finder_username:t,finder_nickname:r,export_id:e})),(e=>{e.liveInfoList=(e.live_info_list||[]).map((e=>({feedId:e.export_id,coverUrl:e.cover_url,thumbUrl:e.thumb_url,description:e.description,nickname:e.nickname,headUrl:e.head_url,status:e.status,nonceId:e.nonce_id}))),delete e.live_info_list})),KOe=lx("getChannelsLiveReservation","webapi_getfinderviewlivereservation",(({noticeId:e})=>({notice_id:e}))),JOe=lx("getChannelsLiveNoticeInfo","webapi_getfinerviewnoticeinfo",(({noticeId:e,finderUserName:t})=>({finder_username:t,notice_id:e})),(e=>{var[t,...r]=e.record_list||[];t&&(e.noticeId=t.notice_id,e.status=t.status,e.startTime=t.start_time,e.headUrl=t.head_url,e.nickname=t.nickname,e.reservable=t.can_reserve),e.otherInfos=r.map((e=>({noticeId:e.notice_id,status:e.status,startTime:e.start_time,headUrl:e.head_url,nickname:e.nickname,reservable:e.can_reserve}))),delete e.record_list}));function XOe(){if(void 0===yr)return"";var e=yr.getCurrentPagesByDomain("");return e&&e.length?e[e.length-1].route:""}function YOe(e,t,r,n="",i=0,a="",o="",s=0){var l=[e||"",XOe(),t,r,n,i,re.appType+1e3,a,o,s].map(encodeURIComponent).join(",");M.reportKeyValue({key:"WeAppToChannels",value:l})}function QOe(e={}){fd("openChannelsLive",e)}function ZOe(e={}){Ge()?QOe(e):zOe(Object.assign({},e,{jsapi:"openChannelsLive",success({nickname:t,feedId:r,nonceId:n}){ij({title:`即将打开${t?`“${t}”`:""}视频号直播`,confirmText:"允许",cancelText:"取消",success({confirm:t}){if(t){var i=2;"release"===re.envVersion&&(i=1),"trial"===re.envVersion&&(i=3),fd("openChannelsLive",Object.assign({},e,{feedId:r,nonceId:n,sceneNote:{scene:7,appid:re.accountInfo.appId,version_type:i}}),{beforeAll({errMsg:t}){YOe(e.finderUserName,1,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}})}else YOe(e.finderUserName,1,0,"cancel",5,e.feedId),Vc("openChannelsLive",e,"cancel")}})},fail({errMsg:t,errCode:r}){YOe(e.finderUserName,1,0,t,4,e.feedId),Vc("openChannelsLive",e,t,r)},complete:null}))}function eLe(e={}){fd("openChannelsUserProfile",e)}function tLe(e={}){Ge()?eLe(e):rx({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}).then((({data:t})=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";ij({title:`即将打开${r}视频号`,confirmText:"允许",cancelText:"取消",success({confirm:r}){r?fd("openChannelsUserProfile",Object.assign({},e,{finderUserName:null==t?void 0:t.encrpyt_finder_username}),{beforeAll({errMsg:t}){YOe(e.finderUserName,2,/^\w+:ok/.test(t)?1:0,t,4)}}):(YOe(e.finderUserName,2,0,"cancel",5),Vc("openChannelsUserProfile",e,"cancel"))}})})).catch((({errMsg:t,errno:r})=>{YOe(e.finderUserName,2,0,r||t,4),Vc("openChannelsUserProfile",e,r||t)}))}function rLe(e={}){fd("openChannelsActivity",e)}function nLe(e={}){Ge()?rLe(e):zOe(Object.assign({},e,{jsapi:"openChannelsActivity",success({nickname:t,nonceId:r}){ij({title:`即将打开${t?`“${t}”`:""}视频号视频`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?fd("openChannelsActivity",Object.assign({},e,{nonceId:r}),{beforeAll({errMsg:t}){YOe(e.finderUserName,3,/^\w+:ok/.test(t)?1:0,t,4,e.feedId)}}):(YOe(e.finderUserName,3,0,"cancel"),Vc("openChannelsActivity",e,"cancel",5,e.feedId))}})},fail({errMsg:t,errCode:r}){YOe(e.finderUserName,3,0,t,4,e.feedId),Vc("openChannelsActivity",e,t,r)},complete:null}))}function iLe(e={}){var t={appId:re.accountInfo.appId,openIds:e.openIds},r=encodeURIComponent(JSON.stringify(t));fd("navigateToMiniProgram",{success:e.success,fail:e.fail,complete:e.complete,appId:"wx4bfd324d7e80de2e",path:"/pages/livecollection/index.html?bypass="+r+"&game_type=1&ssid=201",extraData:{entryScene:15,requestScene:We()?5:4,pageTitle:We()?"小游戏直播":void 0},privateExtraData:{sourceApi:"openChannelsLiveCollection"}},{beforeAll(e){e.errMsg=e.errMsg.replace(/^\w+/,"openChannelsLiveCollection"),YOe("",5,/^\w+:ok/.test(e.errMsg)?1:0,e.errMsg,4)}})}function aLe(e={}){Promise.all([rx({sdkApiName:"getChannelsInfo",apiName:"webapi_getfinderinfo",reqData:{finder_username:e.finderUserName}}),rx({sdkApiName:"checkChannelsEvent",apiName:"webapi_checkfinderevent",reqData:{finder_username:e.finderUserName,event_id:e.eventId}})]).then((([{data:t}])=>{var r=null!=t&&t.nickname?`“${t.nickname}”`:"";ij({title:`即将打开${r}视频号活动`,confirmText:"允许",cancelText:"取消",success({confirm:t}){t?fd("openChannelsTopic",Object.assign({},e,{topicType:7,eventEncryptedTopicId:e.eventId}),{beforeAll(t){t.errMsg=t.errMsg.replace("openChannelsTopic","openChannelsEvent"),YOe(e.finderUserName,6,/^\w+:ok/.test(t.errMsg)?1:0,t.errMsg,4)}}):Vc("openChannelsEvent",e,"cancel")}})})).catch((({errMsg:t,errno:r})=>{Vc("openChannelsEvent",e,r||t),YOe(e.finderUserName,6,0,r||t,4)}))}function oLe(e={}){fd("reserveChannelsLive",Object.assign({},e,{wxData:{appid:re.accountInfo.appId,apptype:re.appType,notice_id:e.noticeId}}),{beforeAll({state:t,errMsg:r}){YOe("",4,/^\w+:ok/.test(r)?1:0,r,2,"",e.noticeId,t)}})}cr("onNavigateBackFromChannelsActivity",(e=>{qr("onNavigateBackFromChannelsActivity",e)}));var sLe=function(e={}){var{success:t,fail:r}=qc(e,"getNativeUserInfo");tx({sdkApiName:"getNativeUserInfo",apiName:"webapi_getuserinfo",fromComponent:!0,reqData:{lang:e.lang||"en",version:re.SDKVersion},pluginId:sh(this),withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,success:e=>{var{cloudID:r,encryptedData:n,iv:i,signature:a,data:o}=e,s=JSON.stringify(e.data);t({cloudID:r,encryptedData:n,iv:i,signature:a,userInfo:o,rawData:s,respData:{data:s}})},fail:e=>{e.errMsg=e.errMsg.replace(/fail:scope unauthorized|fail auth denied/,"fail auth deny"),r(e)}})},lLe=function(e={}){var t=Object.assign({},e,{miniprogram_appid:re.accountInfo.appId});gDe.call(this,{sdkApiName:"login",apiName:"webapi_plugin_login",reqData:t,success:t=>{Object.assign(t,t.data),delete t.data,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},cLe=function(e={}){var t=sh(this),r=Object.assign({},e,{miniprogram_appid:re.accountInfo.appId,version:re.SDKVersion,plugin_version:gh(uh(this))});gDe.call(this,{sdkApiName:"getUserInfo",apiName:"webapi_plugin_getuserinfo",reqData:r,success:r=>{var n;r.rawData=JSON.stringify(r.data),r.userInfo=r.data,delete r.data,"function"==typeof e.success&&e.success(r),null!==(n=r.userInfo)&&void 0!==n&&n.is_demote||ore(t,"wx.getUserInfo")},fail:e.fail,complete:e.complete})},uLe=function(e={}){var t=Object.assign({},e,{miniprogram_appid:re.accountInfo.appId});gDe.call(this,{sdkApiName:"pluginLogin",apiName:"webapi_getapppluginopenpid",reqData:t,success:t=>{Object.assign(t,t.data),delete t.data,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},dLe=function(e={}){var t=Object.assign({},e,{miniprogram_appid:re.accountInfo.appId,filter_auth_status:1,with_app_auth:!0});gDe.call(this,{sdkApiName:"getSetting",apiName:"webapi_getwxapluginuserscope",reqData:t,success:t=>{var r=t.data,n={errMsg:"getSetting:ok"};n.authSetting=(r.auth_item||[]).reduce(((e,t)=>(e[t.scope]=1===t.auth_status,e)),{}),r.user_all_app_auth&&(n.miniprogramAuthSetting=Lre(r.user_all_app_auth).authSetting||{}),"function"==typeof e.success&&e.success(n),"function"==typeof e.complete&&e.complete(n)},fail:t=>{var r={errMsg:t.errMsg||"getSetting:fail"};"function"==typeof e.fail&&e.fail(r),"function"==typeof e.complete&&e.complete(r)}})},pLe=function(...e){return Uz(sh(this),uh(this),...e)},hLe=function(e={}){if(e.image){if(0!==e.image.indexOf("/"))return void Vc("showToast",e,"parameter 'image' must be begin with '/'");var t=sh(this);e=Object.assign({},e,{image:gr.getPluginRoutePrefix(t)+e.image.substr(1)})}dj(e)},fLe=(e={})=>{fd("saveFileToDisk",e,{})},gLe=1;re.onReady((()=>{["close","error","listening","message"].forEach((e=>{Ut(`onUDPSocket${Af(e)}`,(t=>{var{socketId:r}=t;delete t.socketId,Af(e),nr(`jsapi-udp-${r}-${e}`).emit(t)}))}))}));class vLe{constructor(e){var t;if(this._id=gLe++,fd("createUDPSocket",{socketId:this._id,type:"udp6"===e?"IPv6":"IPv4",fail(e){e.errMsg,t=e.errMsg}}),t)throw new Error(t);["close","error","listening","message"].forEach((e=>{var t=nr(`jsapi-udp-${this._id}-${e}`);this[`on${Af(e)}`]=t.onMethod,this[`off${Af(e)}`]=t.offMethod}))}bind(e){var t,r;if(fd("bindUDPSocket",{port:e,socketId:this._id,success(e){t=e.port},fail(e){r=e.errMsg}}),r)throw new Error(r);return t}setTTL(e){var t;if(fd("setUDPSocketTTL",{ttl:e,socketId:this._id,fail(e){t=e.errMsg}}),t)throw new Error(t)}send(e={}){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,fd("sendUDPSocketMessage",Object.assign({},e,{socketId:this._id,message:t,success(e){},fail:({errMsg:e})=>{nr(`jsapi-udp-${this._id}-error`).emit({errMsg:`send: fail ${e}`})}}))}connect(){}write(e){this.send(e)}close(){var e;if(fd("closeUDPSocket",{socketId:this._id,fail(t){e=t.errMsg}}),e)throw new Error(e)}}var mLe=(e,t)=>cx(e,`UDP.${t}`),yLe=new WeakMap,bLe=new WeakMap,_Le=new WeakMap,wLe=1;class SLe{constructor(e){var t=Vg.UDP;if(!t)return null;var r=new t;if(null===r)return null;var n=wLe++;["close","error","listening","message"].forEach((e=>{var t=nr(`jsbinding-udp-${n}-${e}`);r[`on${e}`]=mLe(((...r)=>{"message"===e&&r[0].remoteInfo&&(r[0].localInfo={address:r[0].remoteInfo.localaddress,family:r[0].remoteInfo.localfamily,port:r[0].remoteInfo.localport},delete r[0].remoteInfo.localaddress,delete r[0].remoteInfo.localfamily,delete r[0].remoteInfo.localport),t.emit(...r),"error"===e?(MM("createUDPSocket.onError.callback",$g(),void 0,!1,Date.now(),0,r[0],0,!0,0),M.reportIDKey({key:"UDPError"})):"message"===e&&M.reportIDKey({key:"receiveUDPMessage"})}),`on${e}`),this[`on${Af(e)}`]=t.onMethod,this[`off${Af(e)}`]=t.offMethod})),yLe.set(this,r),bLe.set(this,n),_Le.set(this,"udp6"===e?"IPv6":"IPv4")}bind(e){return bg({functionName:"bindUDP",keyParam:"",result:1,costTime:0,errorMsg:"",statusCode:"",__skipDomainCheck__:!1,dataLength:0,responseDataLength:0,profile:{},queueTime:0,extraData:{},uniqueId:"",isAsync:!0,errno:0,queueLength:0}),M.reportIDKey({key:"bindUDP"}),yLe.get(this).bind({port:e,type:_Le.get(this)})}setTTL(e){if(Number.isNaN(Number(e))){nr(`jsbinding-udp-${bLe.get(this)}-error`).emit({errMsg:"set ttl fail: ttl must be a number.",errCode:-4})}else{var t=yLe.get(this);"IPv6"===_Le.get(this)?(t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_UNICAST_HOPS"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVHOPLIMIT"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IPV6"),option:t.getMacro("IPV6_RECVPKTINFO"),optionval:1})):(t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_TTL"),optionval:Number(e)}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_PKTINFO"),optionval:1}),t.setopt({level:t.getMacro("IPPROTO_IP"),option:t.getMacro("IP_RECVTTL"),optionval:Number(e)}))}}send(e={}){if(Vh("UDP")){var t,r=`udp://${e.address}`;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var n=yLe.get(this);if(e.setBroadcast){var i=n.getMacro("SOL_SOCKET"),a=n.getMacro("SO_BROADCAST");i>=0&&a>=0&&n.setopt({level:i,option:a,optionval:1})}if(n.send(Object.assign({},e,{message:t})),Math.random()>.99){var o={setBroadcast:e.setBroadcast?1:0};bg({functionName:"sendUDP",keyParam:r,result:1,costTime:0,errorMsg:"",statusCode:"",__skipDomainCheck__:!1,dataLength:_f(e.message),responseDataLength:0,profile:{},queueTime:0,extraData:o,uniqueId:"",isAsync:!0,errno:0,queueLength:0})}M.reportIDKey({key:"sendUDPMessage"})}else{nr(`jsbinding-udp-${bLe.get(this)}-error`).emit({errMsg:"send socket fail: no permission",errCode:-3})}}connect(e={}){var t=yLe.get(this);"function"==typeof t.connect&&t.connect(e)}write(e={}){if(Vh("UDP")){var t;t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;var r=yLe.get(this);"function"==typeof r.write?r.write(Object.assign({},e,{message:t})):this.send(e)}else{nr(`jsbinding-udp-${bLe.get(this)}-error`).emit({errMsg:"write socket fail: no permission",errCode:-3})}}onConnect(e){yLe.get(this).onconnect=mLe(e,"onconnect")}close(){return yLe.get(this).close()}}var CLe=(e="udp4")=>Vg.UDP?new SLe(e):new vLe(e),kLe=e=>{void 0!==Ar?e():Er(e)},ILe,PLe=e=>{ILe=e},TLe,ALe=e=>{TLe=e},xLe,ELe=0,MLe=!1,RLe=()=>{_.info(`[initXrFrameContext] hasInitXrFrameContext=${MLe}`),MLe||(j.createAppXRFrameRenderContext((e=>{xLe=e.xrFrameSystem,_.info("[createAppXRFrameRenderContext] call xrFrame init, xrFrameSystem="+typeof xLe),e.init({extraWx:ILe(),onCanvasEvent:AJ}),kLe((()=>{e.init({extraWx:{cloud:TLe()}})}))})),MLe=!0)};Ce&&m.onLibraryEnd((()=>{RLe()}));var DLe=()=>(MLe||RLe(),xLe),OLe=()=>"xr-view-"+ELe++,LLe=(e,t,r,n)=>{MLe||RLe();var i=OLe();Fr(i,"xr-frame"),Yj.traceBeginEvent("Framework","dispatchViewRoute"),Hr("viewRoute",{pageId:i,path:e},[i]),Yj.traceEndEvent();var a=yr.openNewXrFrame(e,i,n,t,r);return a.__xrFrameId__=i,a},NLe=function(){var e=Vp()((function*(e){var{nodeId:t,nodeCanvasType:r}=e;return yield A3(t,r)}));return function(t){return e.apply(this,arguments)}}();Yr("onSkylineXrFrameEvent",(({nodeId:e,canvasId:t,event:r,cb:n},i)=>{var a=cp(e,i);gr.xrFrameTouchEvent.negotiate(a,r,((e,i)=>{i&&DJ(t,r.type,r),n(e,i)}))}));var BLe=e=>t=>{vd(e)("openAddress",t,{beforeSuccess(e){Dd(e,"addressPostalCode","postalCode"),Dd(e,"proviceFirstStageName","provinceName"),Dd(e,"addressCitySecondStageName","cityName"),Dd(e,"addressCountiesThirdStageName","countyName"),Dd(e,"addressDetailInfo","detailInfo")},beforeAll(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddressForPlugin"),delete e.err_msg}})},$Le=e=>function(t){t.pluginId=e,t.appId=re.accountInfo.appId,iS("setPluginLoginAuth",t,void 0,(e=>{0===e.errMsg.indexOf("setLoginAuth:ok")?t.success&&t.success(e):t.fail&&t.fail(e),t.complete&&t.complete(e)}))};function FLe(e,t){Ure({pluginId:e,apiName:"GetPluginAuthScope",reqData:{scope_list:["scope.eCommercePluginAuths"]},fail(){t(!1)},success(e){var r=JSON.parse(e.respData.data).auth_item_list.find((e=>"scope.eCommercePluginAuths"===e.scope));t(!!r&&(r.state&&1===r.state))}})}var jLe=e=>function(t){FLe(e,(e=>{e?iS("chooseAddressDirectly",{},void 0,(e=>{0===e.errMsg.indexOf("chooseAddressDirectly:ok")?t.success&&t.success(e):t.fail&&t.fail(e),t.complete&&t.complete(e)})):Vc("chooseAddressDirectly",t,"no permission")}))},WLe=()=>function(e={}){e.permissionBytes=[1,1,1],iS("appServiceEnterContact",e,void 0,(t=>{t.errMsg&&(t.errMsg=t.errMsg.replace("enterContact","enterContactForPlugin")),0===t.errMsg.indexOf("enterContactForPlugin:ok")?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))},VLe=(e={})=>{fd("openSetting",e,{beforeSuccess(e){var t=e.authSetting||[];e.authSetting=t.reduce(((e,t)=>(e[t.scope]=1===t.state,e)),{})}})},ULe=()=>function(e={}){VLe(e)},zLe=()=>function(e){e.isNativeStyle=!0,fd("private_openUrl",e,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openUrl")}})},qLe=e=>{J4((t=>{var r=(+new Date-(t||0))/1e3/60,n=!1,i="",a=re&&re.appContactInfo&&re.appContactInfo.operationInfo&&re.appContactInfo.operationInfo.jsonInfo&&re.appContactInfo.operationInfo.jsonInfo.warning_info&&re.appContactInfo.operationInfo.jsonInfo.warning_info.jsapi_alter||[];a&&a.forEach((e=>{"requestPayment"===e.jsapi_name&&e.wording&&(n=!0,i=e.wording)})),n&&r>30?ij({content:i,confirmText:"继续支付",cancelText:"取消",success(t){t.confirm&&(X4(+new Date),HLe(e))}}):HLe(e)}))},HLe=e=>{if(jc("requestPayment",e,{timeStamp:"",nonceStr:"",package:"",signType:"",paySign:""})){e=Object.assign({},e);var t=qS();e.passCookies&&"string"==typeof e.passCookies?e.cookie=t?e.passCookies+";; "+t:e.passCookies:t?e.cookie=t:delete e.cookie,delete e.passCookies,e.cookie,fd("requestPayment",Object.assign({},e,{grantMessageQuota:!0}),{beforeSuccess:()=>{iS("reportPaymentFormId",{packageStr:e.package}),MB()}})}},GLe=()=>function(e={}){qLe(e)},KLe=e=>function(t={}){var r="";dt(t.extraData)&&(r=JSON.stringify(t.extraData)),vd(e)("navigateBackNative",Object.assign({},t,{extraData:r}))},JLe=e=>function(t={}){jc("setNavigationBarRightButton",t,{hide:!0})&&vd(e)("setNavigationBarRightButton",t,{})},XLe=e=>function(t={}){vd(e)("openAddressWithLightMode",t,{beforeSuccess(e){Dd(e,"addressPostalCode","postalCode"),Dd(e,"proviceFirstStageName","provinceName"),Dd(e,"addressCitySecondStageName","cityName"),Dd(e,"addressCountiesThirdStageName","countyName"),Dd(e,"addressDetailInfo","detailInfo")},beforeAll(e){delete e.err_msg}})},YLe=XLe(),QLe=e=>function(t={}){vd(e)("editTextWithPopForm",t,{})},ZLe=QLe(),eNe=()=>function(e={}){jre(fh(e,"chooseInvoiceTitle","chooseInvoiceTitleDirectly"))},tNe=()=>function(e={}){ote(fh(e,"openCard","openCardDirectly"))},rNe=e=>(t={})=>{iS("getPhoneNumber",Object.assign({permissionBytes:[1,1,1],pluginId:e},t),void 0,(e=>{"string"==typeof e.public.errMsg&&(e.public.errMsg=e.public.errMsg.replace(/^getPhoneNumber:/,"getPhoneNumberDirectly:")),id(e.public,"getPhoneNumberDirectly",t,{})}))},nNe="webapi_getenteroptions_sensitivetype",iNe=e=>_.info(nNe+" "+e),aNe=(e,t,r)=>{var n,i={app_info_list:[{appid:null!=e?e:null===(n=re.accountInfo)||void 0===n?void 0:n.appId,scene:t}]};iNe("reqData="+JSON.stringify(i)),tx({sdkApiName:"getInnerEnterOptions",pluginId:e,apiName:nNe,reqData:i,complete(e){iNe("respData="+JSON.stringify(e))},fail(e){r(e.errmsg||e.errMsg)},success(n){var i=(n.data.sensitive_type_data_list||[]).find((r=>e?r.appid===e&&r.scene===t:r.scene===t)),a=i?i.sensitive_type_list:[],o=a.indexOf("sessionId");-1!==o&&(a[o]="sessionid"),r(null,a||[])}})},oNe=Object.prototype.hasOwnProperty,sNe=Object.assign,lNe=e=>(t={})=>{var r=yh();r.sessionid=r.sessionid||r.sessionId,delete r.sessionId,aNe(e,r.scene,((e,n)=>{var i={};e||(i=sNe(r.__public),n.forEach((e=>{oNe.call(r,e)&&(i[e]=r[e])}))),zc({name:"getInnerEnterOptions",args:t,success:!e,errMsg:e,res:i})}))},cNe=lNe(),uNe=()=>function(e){var t=(0,xv.Qc)("https://open.weixin.qq.com/sns/checktpbetaplugintoken");t.query={appid:String(e.appid),token:String(e.token)},e.extraData&&(t.query.extraData=JSON.stringify(e.extraData));var r={url:t.format(),isNativeStyle:!0};fd("private_openUrl",r,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","launchTrialMiniProgram")}})},dNe=e=>(t={})=>{ece(t,e)},pNe=()=>(e={})=>{var t=JMe();e.success&&e.success(t),e.complete&&e.complete(t)},hNe=()=>(e={})=>{G7(e)},fNe=e=>{var t=/^rgba?\((.+)\)/.exec(e);if(!t)return e;var r=t[1].split(",").map(((e,t)=>(e=e.trim(),1===(e=(e=3===t?Math.floor(255*parseFloat(e)):parseInt(e,10)).toString(16)).length&&(e=`0${e}`),e))).join("");return r=`#${r}`},gNe=e=>{var t=Math.floor(e/3600),r=Math.floor(e%3600/60),n=e%3600-60*r;r<10&&(r=`0${r}`),n<10&&(n=`0${n}`);var i=`${r}:${n}`;return t>0&&(i=`${t}:${i}`),i},vNe=e=>{e.type=e.type||"play",fd("operateCallTone",e)},mNe=()=>vNe,yNe=e=>{fd("hasJoinVoIPChat",e)},bNe=new Map,_Ne=e=>(t={})=>{_.info(["[Plugin]","markRelievedBuyFlag",e,"in webview",su.currentWebviewId].join(" ")),bNe.set(su.currentWebviewId,!0),id({},"markRelievedBuyFlag",t,{})},wNe=(e=su.currentWebviewId)=>bNe.has(e),SNe={initScl(e){wk(),__sclEngine__.initScl(e,!0)},appendStyleSheet(e){wk(),__sclEngine__.appendStyleSheet(e)},registerComponent(e){wk(),__sclEngine__.registerComponent(e)},triggerRender(e){wk(),__sclEngine__.triggerRender(e)}},CNe=e=>e=>{e(SNe)},kNe="element_picker_event",INe=e=>{qr(kNe,e,[...TNe()])},PNe=e=>{qr(kNe,e,[ANe()])},TNe=()=>ENe().map((e=>e.__wxWebviewId__)),ANe=()=>{var e=ENe();if(e.length)return e[e.length-1].__wxWebviewId__},xNe=()=>{var e=ENe();if(e.length)return e[e.length-1].route},ENe=()=>yr.getCurrentPagesByDomain("");Yr(kNe,(e=>{switch(e.event||""){case"onPickCb":MNe.forEach((t=>{var{elementInfo:r}=e;t(r)}));break;case"onMatchPickCb":var t,{id:r,elementInfo:n}=e;null===(t=DNe[r])||void 0===t||t.call(DNe,n),delete DNe[r];break;case"onFocusCb":var{elementInfo:i}=e,a=xNe();ONe.forEach((e=>e({elementInfo:i,path:a,sessionId:yh().sessionId||yh().sessionid,isentrance:1===ENe().length?1:0})));break;default:_.warn("[ElementPicker] appservice recv unknown command")}}));var MNe=[],RNe=0,DNe={},ONe=[],LNe=!1,NNe=!1,BNe=()=>{INe(LNe?{event:"startFocus"}:{event:"stopFocus"})},$Ne={togglePick(e){INe({event:"toggle",value:e})},pickFromPoint(e,t){PNe({event:"pickFromPoint",x:e,y:t})},pickParent(){PNe({event:"pickParent"})},pickBack(){PNe({event:"pickBack"})},matchPick(e,t){var r=RNe++;PNe({event:"matchPick",query:e,id:r}),DNe[r]=t},onPick(e){MNe.push(e)},offPick(e){var t=MNe.findIndex((t=>t===e));MNe.splice(t,1)},clearAllOnPickCallbacks(){MNe=[]},startFocus(){INe({event:"startFocus"}),LNe=!0},stopFocus(){INe({event:"stopFocus"}),LNe=!1},onFocus(e){ONe.push(e),NNe||(rG(BNe),NNe=!0)},offFocus(e){var t=ONe.findIndex((t=>t===e));ONe.splice(t,1),0===ONe.length&&NNe&&(NNe=!1,nG(BNe))},getCurrentPageConfig(){var e=yr.getCurrentPagesByDomain("");if(e.length){var t=e[e.length-1],r=t.route,n=v.page[r];return{renderer:$r(t.__wxWebviewId__),...n}}return{}}},FNe=()=>$Ne,jNe=e=>e=>{e(FNe())},WNe,VNe,UNe=!1,zNe=(e,t=!0)=>WNe?Promise.reject("busy screenshot "):(UNe=!!e.rgb,_.info("[sdk info] start screenshot "),new Promise(((r,n)=>{WNe=r,VNe=n,zb({success(r){var n=e.shortEdge||(r.screenWidth>r.screenHeight?r.screenHeight:r.screenWidth);fd("setAppSnapshotStrategy",{shortEdge:Math.ceil(n*e.scaleRatio),ignoreNative:t,success(){_.warn(`setAppSnapshotStrategy success frame: [${r.screenWidth}, ${r.screenHeight}]`)},fail(e){_.warn("setAppSnapshotStrategy fail",e),VNe(e)}})},fail(e){VNe(e)}})}))),qNe=e=>{for(var t=new ArrayBuffer(e.byteLength/4*3),r=new Uint8ClampedArray(e),n=new Uint8ClampedArray(t),i=0,a=0,o=0;o<r.length;o++)++a%4==0?a=0:(n[i]=r[o],i++);return n.buffer};cr("onAppSnapshotDump",(e=>{try{_.warn("onDumpSecuritySnapshot",e);var t=e.buffer;UNe&&(t=qNe(e.buffer)),WNe&&(WNe({...e,buffer:t}),WNe=void 0)}catch(e){_.error("onAppSnapshotDump handle occur error: ",e),VNe&&(VNe(e),VNe=void 0)}}));var HNe=e=>e=>{e(zNe)},GNe=e=>t=>{var r="waitVoIPChat";jc(r,t,{status:!0})&&vd(e)(r,t)},KNe=e=>(t={})=>{B9(t,e)},JNe=[{name:"chooseAddressForPlugin",factory:BLe,permissionBytes:["chooseAddressForPlugin"],copyToWx:!0},{name:"openSettingForPlugin",factory:ULe,permissionBytes:["openSettingForPlugin"],copyToWx:!0},{name:"requestPaymentForPlugin",factory:GLe,permissionBytes:["requestPaymentForPlugin"],copyToWx:!0},{name:"chooseAddressDirectly",factory:jLe,permissionBytes:[],copyToWx:!0},{name:"enterContactForPlugin",factory:WLe,permissionBytes:["enterContactForPlugin"],copyToWx:!0},{name:"openUrl",factory:zLe,permissionBytes:["openUrlForPlugin"],copyToWx:!0},{name:"setLoginAuth",factory:$Le,permissionBytes:["setLoginAuthForPlugin"],copyToWx:!0},{name:"navigateBackNative",factory:KLe,permissionBytes:["navigateBackNative"],copyToWx:!0},{name:"setNavigationBarRightButton",factory:JLe,permissionBytes:["setNavigationBarRightButton"],copyToWx:!0},{name:"openAddressWithLightMode",factory:XLe,permissionBytes:["openAddressWithLightMode"],copyToWx:!0},{name:"editTextWithPopForm",factory:QLe,permissionBytes:["editTextWithPopForm"],copyToWx:!0},{name:"navigateToMiniProgramDirectly",factory:f9,permissionBytes:["navigateToMiniProgramDirectly"],copyToWx:!0},{name:"getInnerEnterOptions",factory:lNe,permissionBytes:["private_getEnterOptions"],copyToWx:!1},{name:"chooseInvoiceTitleDirectly",factory:eNe,permissionBytes:["private_chooseInvoiceTitleDirectly"],copyToWx:!1},{name:"getPhoneNumberDirectly",factory:rNe,permissionBytes:["private_getPhoneNumberDirectly"],copyToWx:!1},{name:"openCardDirectly",factory:tNe,permissionBytes:["private_openCardDirectly"],copyToWx:!1},{name:"launchTrialMiniProgram",factory:uNe,permissionBytes:["private_launchTrialMiniProgram"],copyToWx:!1},{name:"navigateToDevMiniProgram",factory:dNe,permissionBytes:[],copyToWx:!1},{name:"createTCPServer",factory:pNe,permissionBytes:["TCPServer"],copyToWx:!1},{name:"faceVerifyForPay",factory:pne,permissionBytes:[],copyToWx:!1},{name:"requestPersonalPay",factory:o8,permissionBytes:[],copyToWx:!1},{name:"requestOrderPaymentForPlugin",factory:hNe,permissionBytes:["requestOrderPaymentForPlugin"],copyToWx:!0},{name:"openOfficialAccountProfileForPlugin",factory:mne,permissionBytes:["openBizProfile"],copyToWx:!1},{name:"operateCallToneForPlugin",factory:mNe,permissionBytes:[],copyToWx:!1},{name:"openOfficialAccountProfileForPlugin",factory:mne,permissionBytes:["openBizProfile"],copyToWx:!1},{name:"markRelievedBuyFlag",factory:_Ne,permissionBytes:["markRelievedBuyFlag"],copyToWx:!1},{name:"getSCLAdapterForPlugin",factory:CNe,permissionBytes:["getSCLAdapterForPlugin"],copyToWx:!1},{name:"getElementPickerForPlugin",factory:jNe,permissionBytes:["getElementPickerForPlugin"],copyToWx:!1},{name:"startScreenShotForPlugin",factory:HNe,permissionBytes:["startScreenShotForPlugin"],copyToWx:!1},{name:"waitVoIPChatForPlugin",factory:GNe,permissionBytes:[],copyToWx:!1},{name:"requestCommonPaymentForPlugin",factory:KNe,permissionBytes:["requestCommonPaymentForPlugin"],copyToWx:!0}],XNe=(e,t,r)=>{Promise.all((t||[]).map((t=>(t=>new Promise((r=>we(e,t,0,r))))(t)))).then((e=>{r(e.every((e=>e)))}))},YNe=e=>{var t={};return JNe.forEach((r=>{var n=r.factory(e);t[r.name]=function(t){XNe(e,r.permissionBytes,(e=>{e?n(t):Vc(r.name,t,"no permission",void 0)}))}})),t},QNe=(e,t)=>{var r=!0===re.debug,n="devtools"===re.platform;(r||n)&&console.warn(`wx.${e} is deprecated, and will be removed in future.`),Bb(`${e} (${t})`)},ZNe=()=>{var e={};return JNe.forEach((t=>{t.copyToWx&&(e[t.name]=function(e){var r=sh(this);QNe(t.name,r),XNe(r,t.permissionBytes,(n=>{n?t.factory(r)(e):Vc(t.name,e,"no permission",void 0)}))})})),e},eBe=(e={})=>{jc("getRandomValues",e,{length:0})&&((!Number.isInteger(e.length)||e.length<=0||e.length>1048576)&&Vc("getRandomValues",e,"invalid length"),fd("getRandomValues",e))},tBe={SUCCESS:0,INVALID_ARGUMENT:fc,SESSION_UNAVAILABLE:kc,SYSTEM_ERROR:hc,DEVICE_NOT_SUPPORTED:mc,OS_NOT_SUPPORTED:vc,NO_SYSTEM_CAMERA_ACCESS:Ic,NO_MINIPROGRAM_CAMERA_ACCESS:Pc},rBe={SUCCESS:0,INVALID_ARGUMENT:-1,SESSION_UNAVAILABLE:-2,SYSTEM_ERROR:-3,DEVICE_NOT_SUPPORTED:-4,OS_NOT_SUPPORTED:-5,NO_SYSTEM_CAMERA_ACCESS:-6,NO_MINIPROGRAM_CAMERA_ACCESS:-7},nBe={[rBe.INVALID_ARGUMENT]:tBe.INVALID_ARGUMENT,[rBe.SESSION_UNAVAILABLE]:tBe.SESSION_UNAVAILABLE,[rBe.SYSTEM_ERROR]:tBe.SYSTEM_ERROR,[rBe.DEVICE_NOT_SUPPORTED]:tBe.DEVICE_NOT_SUPPORTED,[rBe.OS_NOT_SUPPORTED]:tBe.OS_NOT_SUPPORTED,[rBe.NO_SYSTEM_CAMERA_ACCESS]:tBe.NO_SYSTEM_CAMERA_ACCESS,[rBe.NO_MINIPROGRAM_CAMERA_ACCESS]:tBe.NO_MINIPROGRAM_CAMERA_ACCESS},iBe={UNAVAILABLE:0,RUNNING:1,PAUSE:2},aBe={PLANE:0,MARKER:1,OSD:2,FACE:3,MANUAL:4,BODY:5,OCR:6,HAND:7,DEPTH:8,SHOE:9,IDCARD:10},oBe={ON_ADD_ANCHORS:1,ON_UPDATE_ANCHORS:2,ON_REMOVE_ANCHORS:3,FRAME_SIZE_CHANGED:4},sBe={VKSession:Symbol("VKSession"),VKAnchor:Symbol("VKAnchor"),VKCamera:Symbol("VKCamera"),VKFrame:Symbol("VKFrame"),VKLightEstimate:Symbol("VKLightEstimate"),VKMesh:Symbol("VKMesh"),VKReference:Symbol("VKReference")},lBe={UNKNOWN:0,WEVISION:1,ARKIT:2,WEVISION_6DOF:3,WEVISION_3DOF:4,WEVISION_VIO:5,WEVISION_MARKER:6,WEVISION_OSD:7,WEVISION_FACE:8,WEVISION_BODY:9,WEVISION_OCR:10,WEVISION_HAND:11,WEVISION_MONODEPTH:12,WEVISION_VIO_DEPTH:13,WEVISION_SHOE:14,WEVISION_VIO_DEFAULT:15},cBe={V1:"v1",V2:"v2"},uBe=sBe.VKReference,dBe={};class pBe{constructor(e=0,t){this[uBe]={webviewId:e,native:t}}destroy(){this[uBe].native=null}}class hBe extends pBe{}class fBe extends pBe{}function gBe(e=0,t){if(!t)return null;dBe[e]||(dBe[e]=new WeakMap);var r=dBe[e];if(r.has(t))return r.get(t);var n=null;return t instanceof Vg.ARImageReference?n=new hBe(e,t):t instanceof Vg.ARObjectReference&&(n=new fBe(e,t)),r.set(t,n),n}function vBe(e){return e[uBe].native}function mBe(e=0){dBe[e]={}}var yBe=sBe.VKMesh;class bBe{constructor(e=0,t){this[yBe]={webviewId:e,native:t}}get vertices(){return this[yBe].native?this[yBe].native.getVertices():null}get uvs(){return this[yBe].native?this[yBe].native.getUVs():null}get triangles(){return this[yBe].native?this[yBe].native.getTriangles():null}destroy(){this[yBe].native=null}}var _Be=sBe.VKAnchor,wBe={},SBe={},CBe=1e4;class kBe{constructor(e=0,t){this[_Be]={webviewId:e,native:t,reference:null,mesh:null}}get id(){return this[_Be].native?this[_Be].native.id:null}get type(){return this[_Be].native?this[_Be].native.type:null}get transform(){return this[_Be].native?this[_Be].native.transform:null}get reference(){if(!this[_Be].native)return null;if(!this[_Be].reference){var e=this[_Be].native.reference;this[_Be].reference=gBe(this[_Be].webviewId,e)}return this[_Be].reference}get mesh(){if(!this[_Be].native)return null;if(!this[_Be].mesh){var e=this[_Be].native.mesh;this[_Be].mesh=new bBe(this[_Be].webviewId,e)}return this[_Be].mesh}get size(){if(!this[_Be].native||!this[_Be].native.size)return null;var e=Array.from(this[_Be].native.size);return{width:e[0],height:e[1]}}destroy(){this[_Be].native=null,this[_Be].reference&&(this[_Be].reference.destroy(),this[_Be].reference=null),this[_Be].mesh&&(this[_Be].mesh.destroy(),this[_Be].mesh=null)}}class IBe extends kBe{get alignment(){return this[_Be].native?this[_Be].native.alignment:null}}class PBe extends kBe{get markerId(){return this[_Be].native?this[_Be].native.markerID:null}get path(){return this[_Be].native?SBe[this[_Be].native.markerID]||"":null}}class TBe extends kBe{get markerId(){return this[_Be].native?this[_Be].native.markerID:null}get path(){return this[_Be].native?SBe[this[_Be].native.markerID]||"":null}get origin(){if(!this[_Be].native||!this[_Be].native.origin)return null;var e=Array.from(this[_Be].native.origin);return{x:e[0],y:e[1]}}}class ABe extends kBe{get size(){return this[_Be].native?this[_Be].native.size:null}get depthArray(){return this[_Be].native?this[_Be].native.depthArray:null}}class xBe extends kBe{get text(){return this[_Be].native?this[_Be].native.text:null}get box(){return this[_Be].native?this[_Be].native.box:null}get subtext(){return this[_Be].native?this[_Be].native.subtext:null}get score(){return this[_Be].native?this[_Be].native.score:null}}class EBe extends kBe{get isComplete(){return this[_Be].native?this[_Be].native.isComplete:null}get label(){return this[_Be].native?this[_Be].native.label:null}get orientation(){return this[_Be].native?this[_Be].native.orientation:null}get box(){return this[_Be].native?this[_Be].native.box:null}get affineImgWidth(){return this[_Be].native?this[_Be].native.affineImgWidth:null}get affineImgHeight(){return this[_Be].native?this[_Be].native.affineImgHeight:null}get affineMat(){return this[_Be].native?this[_Be].native.affineMat:null}}class MBe extends kBe{get detectId(){return this[_Be].native?this[_Be].native.detectId:null}get origin(){if(!this[_Be].native||!this[_Be].native.origin)return null;var e=Array.from(this[_Be].native.origin);return{x:e[0],y:e[1]}}get confidence(){return this[_Be].native?this[_Be].native.confArray:null}get points3d(){return this[_Be].native?this[_Be].native.joints3d:null}get camExtArray(){return this[_Be].native?this[_Be].native.cameraExtrinsicArray:null}get camIntArray(){return this[_Be].native?this[_Be].native.cameraIntrinsicArray:null}}class RBe extends MBe{get points(){return this[_Be].native?this[_Be].native.points106:null}get angle(){return this[_Be].native?this[_Be].native.angleArray:null}}class DBe extends MBe{get points(){return this[_Be].native?this[_Be].native.pointsArray:null}get score(){return this[_Be].native?this[_Be].native.score:null}}class OBe extends MBe{get points(){return this[_Be].native?this[_Be].native.pointsArray:null}get score(){return this[_Be].native?this[_Be].native.score:null}get gesture(){return this[_Be].native?this[_Be].native.gesture:null}}class LBe extends MBe{get points(){return this[_Be].native?this[_Be].native.pointsArray:null}get score(){return this[_Be].native?this[_Be].native.score:null}get shoedirec(){return this[_Be].native?this[_Be].native.shoedirec:null}}function NBe(e=0,t){if(!t)return null;if(wBe[e]||(wBe[e]={}),void 0===t.id)return console.error("[getAnchor] Declare native.id can not be undefined"),null;var r=wBe[e];if(r[t.id])return r[t.id];var n=null;return t.type===aBe.PLANE?n=new IBe(e,t):t.type===aBe.MARKER?n=new PBe(e,t):t.type===aBe.OSD?n=new TBe(e,t):t.type===aBe.FACE?n=new RBe(e,t):t.type===aBe.BODY?n=new DBe(e,t):t.type===aBe.OCR?n=new xBe(e,t):t.type===aBe.HAND?n=new OBe(e,t):t.type===aBe.DEPTH?n=new ABe(e,t):t.type===aBe.SHOE?n=new LBe(e,t):t.type===aBe.IDCARD&&(n=new EBe(e,t)),r[t.id]=n,n}function BBe(e){return e[_Be].native}function $Be(e=0,t){SBe[e]||(SBe[e]={});var r=++CBe;return SBe[e][r]=t,r}function FBe(e=0){wBe[e]&&Object.keys(wBe[e]).forEach((t=>{var r=wBe[e][t];r&&r.destroy()}));wBe[e]={},SBe[e]={}}var jBe=sBe.VKCamera;class WBe{constructor(e){this[jBe]={native:e}}get transform(){return this[jBe].native?this[jBe].native.transform:null}get _transform(){return this[jBe].native?this[jBe].native.transform:null}get viewMatrix(){return this[jBe].native?this[jBe].native.viewMatrix:null}get intrinsics(){return this[jBe].native?this[jBe].native.intrinsics:null}destroy(){this[jBe].native=null}getProjectionMatrix(e,t){return this[jBe].native?this[jBe].native.getProjectionMatrix(e,t):null}}var VBe=sBe.VKLightEstimate;class UBe{constructor(e){this[VBe]={native:e}}get ambientIndensity(){return this[VBe].native?this[VBe].native.ambient_indensity:null}destroy(){this[VBe].native=null}}var zBe=sBe.VKFrame,qBe=sBe.VKSession,HBe=!0,GBe=!1;function KBe(){GBe=!0}class JBe{constructor(e=0,t,r){this[zBe]={webviewId:e,native:t,session:r,camera:null,lightEstimate:null},Ie&&!GBe&&KBe()}get timestamp(){return this[zBe].native?this[zBe].native.timestamp:null}get camera(){if(!this[zBe].native)return null;if(!this[zBe].camera){var e=this[zBe].native.camera;this[zBe].camera=new WBe(e)}return this[zBe].camera}get lightEstimate(){if(!this[zBe].native)return null;if(!this[zBe].lightEstimate){var e=this[zBe].native.lightEstimate;this[zBe].lightEstimate=new UBe(e)}return this[zBe].lightEstimate}destroy(){this[zBe].native=null,this[zBe].camera&&(this[zBe].camera.destroy(),this[zBe].camera=null),this[zBe].lightEstimate&&(this[zBe].lightEstimate.destroy(),this[zBe].lightEstimate=null),this[zBe].session=null}getCameraRawTextureData(e="yuv"){if("yuv"===e)return this[zBe].native.getCameraYUVBuffer()}getCameraBuffer(e,t){if(!e||!t||!this[zBe].native)return null;if(e%16==0){if(this[zBe].session[qBe].options.gl)return this[zBe].native.getCameraBuffer(e,t)}else console.error("getCameraBuffer fail: invalid parameter, the width needs to be an integer multiple of 16. width 需要是 16 的整数倍")}getCameraJpgBuffer(e,t,r){return this[zBe].native&&this[zBe].session?this[zBe].native.getCamerajpgBuffer(e,t,r):null}getDepthBuffer(){return this[zBe].native&&this[zBe].session?this[zBe].native.getDepthBuffer():null}getDepthTexture(e){if(!this[zBe].native||!this[zBe].session)return null;var t=this[zBe].session;if(!(e=e||t[qBe].options.gl))return null;var r=t[qBe].depthTexture;r||(r=e.createTexture());var n=this[zBe].native.getDepthBuffer();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n&&e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(n.DepthAddress)),t[qBe].depthTexture=r,r._gl=e,e.bindTexture(e.TEXTURE_2D,null),r}getLegSegmentBuffer(){return this[zBe].native&&this[zBe].session?this[zBe].native.getLegSegmentBuffer():null}getCameraTexture(e,t="yuv"){if(!this[zBe].native||!this[zBe].session)return null;"string"==typeof e&&(t=e,e=null);var r=this[zBe].session;if(!(e=e||r[qBe].options.gl))return null;if("yuv"===t){var n,i=r[qBe].yTexture,a=r[qBe].uvTexture,o=!1,s=e.getExtension("WECHAT_ext_texture");if(Ie&&s){var l=s.createYUVTexture("magicar",0);l&&(o=!0,i&&e.deleteTexture(i),a&&e.deleteTexture(a),i=l.yTexture,a=l.uvTexture)}return i||(i=e.createTexture()),a||(a=e.createTexture()),Ie&&HBe&&!s&&(o=this[zBe].native.updateCameraYUVTextureIOS(i,a,e)),o||(n=this[zBe].native.getCameraYUVBuffer()),e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,n.width,n.height,0,e.LUMINANCE,e.UNSIGNED_BYTE,new Uint8Array(n.yAddress)),r[qBe].yTexture=i,i._gl=e,e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n&&e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE_ALPHA,n.width/2,n.height/2,0,e.LUMINANCE_ALPHA,e.UNSIGNED_BYTE,new Uint8Array(n.uvAddress)),r[qBe].uvTexture=a,a._gl=e,e.bindTexture(e.TEXTURE_2D,null),{yTexture:i,uvTexture:a}}return null}getDisplayTransform(){return this[zBe].native?this[zBe].native.getDisplayTransform():null}getAllAnchors(){}}var XBe={},YBe=[],QBe=null;function ZBe(e=0){return XBe[e]}function e$e(e=0,t){XBe[e]=t}function t$e(e=0){XBe[e]=null}function r$e(e=0){if(QBe){var t=ZBe(QBe);t&&t.stop()}QBe=e}function n$e(e=0){QBe===e&&(QBe=null)}function i$e(e=0){QBe===e&&(QBe=null),t$e(e)}function a$e(){return QBe}function o$e(e=0){return-1!==YBe.indexOf(e)}function s$e(e=0){var t=ZBe(e);t&&(t.stop(),o$e(e)||YBe.push(e))}function l$e(e=0){var t=ZBe(e);if(t&&(t.start(),o$e(e))){var r=YBe.indexOf(e);YBe.splice(r,1)}}var c$e=lz(),u$e=e=>setTimeout(e,0,1e3*c$e.since()),d$e=e=>clearTimeout(e),p$e=null;Ie&&!We()?(p$e||(p$e=c0()),u$e=e=>p$e.requestAnimationFrame(e),d$e=e=>p$e.cancelAnimationFrame(e)):ke||We()?(u$e=e=>Vg.requestAnimationFrame(e),d$e=e=>Vg.cancelAnimationFrame(e)):Ce&&(u$e=e=>window.requestAnimationFrame((()=>e(1e3*c$e.since()))),d$e=e=>window.cancelAnimationFrame(e));var h$e=sBe.VKSession,f$e=function(){};class g$e{constructor(e=0,t={},r=""){this[h$e]={webviewId:e,pluginId:r,native:null,options:t,version:t.version||cBe.V1,implType:lBe.WEVISION,lastFrame:null,eventMap:{},trigger:(e,t=[])=>{var r=this[h$e].eventMap[e];r&&r.length&&r.forEach((r=>{E.surroundThirdByTryCatch(r,`at VKSession's ${e} handler`)(...t)}))},commonCmd:(e,...t)=>{this[h$e].native.commonCmd(JSON.stringify(e),...t)},yTexture:null,uvTexture:null,rgbaTexture:null}}get state(){return this[h$e].native?this[h$e].native.state:iBe.UNAVAILABLE}get cameraSize(){return this[h$e].native?this[h$e].native.getCameraSize():null}get config(){return this[h$e].native?this[h$e].native.config:null}set config(e){this[h$e].native.config=e}get version(){return this[h$e].version}get requestAnimationFrame(){return this[h$e].native?u$e:f$e}get cancelAnimationFrame(){return this[h$e].native?d$e:f$e}static isSupport(e){return!Ce&&(e===cBe.V2?(t=lBe.WEVISION_VIO,Vg.ARSession.isSupportARImplType(t)):e===cBe.V1||void 0);var t}start(e){var t=this;return Vp()((function*(){if("function"!=typeof e&&(e=f$e),t.state===iBe.RUNNING)return e(null);var r=yield bQ("VKSession.start").catch((e=>({success:!0})));if(r.success){var n=t[h$e].options,i=n.track||{},a=t[h$e].version;if(!(g$e.isSupport(a)||i.plane&&i.plane.force))return console.error(`VKSession.start:fail The current device does not support version "${a}"`),void e(tBe.DEVICE_NOT_SUPPORTED);if(t[h$e].native){r$e(t[h$e].webviewId);var o=t[h$e].native.start();o===tBe.SUCCESS?e(null):e(nBe[o])}else{if(i.plane?i.plane&&"number"==typeof i.plane.mode&&(i.plane.mode=i.plane.mode<<1):i.plane={mode:2},n.track=i,t[h$e].version===cBe.V2)if(i.depth)n.arImplType=lBe.WEVISION_VIO_DEPTH;else if(Ie){2===i.plane.mode||1===Number(re.expt&&re.expt.clicfg_appbrand_ios_arkit2wevision_usevertialplane)?n.arImplType=lBe.WEVISION_VIO:n.arImplType=lBe.ARKIT}else i.plane.force?n.arImplType=lBe.WEVISION_VIO_DEFAULT:n.arImplType=lBe.WEVISION_VIO;if(n.forbidCamera=!1,i.threeDof)n.arImplType=lBe.WEVISION_3DOF;else if(i.OSD)n.arImplType=lBe.WEVISION_OSD;else if(i.face&&i.face.mode>0){n.arImplType=lBe.WEVISION_FACE;var s="object"==typeof i.face?i.face:{};n.forbidCamera=2===s.mode}else if(i.body&&i.body.mode>0){n.arImplType=lBe.WEVISION_BODY;var l="object"==typeof i.body?i.body:{};n.forbidCamera=2===l.mode}else if(i.hand&&i.hand.mode>0){n.arImplType=lBe.WEVISION_HAND;var c="object"==typeof i.hand?i.hand:{};n.forbidCamera=2===c.mode}else if(i.OCR){var u="object"==typeof i.OCR?i.OCR:{};n.arImplType=lBe.WEVISION_OCR,n.forbidCamera=2===u.mode}else if(i.IDCard){var d="object"==typeof i.IDCard?i.IDCard:{};n.arImplType=lBe.WEVISION_OCR,n.forbidCamera=2===d.mode}else if(i.shoe){var p="object"==typeof i.shoe?i.shoe:{};n.arImplType=lBe.WEVISION_SHOE,n.forbidCamera=2===p.mode}else t[h$e].version===cBe.V1&&(i.marker?n.arImplType=lBe.WEVISION_MARKER:i.depth&&(n.arImplType=lBe.WEVISION_MONODEPTH));if(i.depth){var h="object"==typeof i.depth?i.depth:{};n.forbidCamera=2===h.mode}t[h$e].implType=n.arImplType;var f=e=>e.map((e=>NBe(t[h$e].webviewId,e))).filter((e=>!!e)),g=()=>{if(!Vg.ARSession)return e(tBe.DEVICE_NOT_SUPPORTED);Vg.ARSession.create(n,ux((r=>{if("number"==typeof r){var n=nBe[r]||tBe.SYSTEM_ERROR;return ke&&n===tBe.NO_SYSTEM_CAMERA_ACCESS?void ij({title:"相机权限未开启",content:"请前往“设置>应用>微信>权限”中允许微信访问你的摄像头和麦克风。",confirmText:"前往设置",cancelText:"我知道了",success:t=>{t.confirm&&Kb(),e(n)}}):e(n)}r.onEvent(oBe.ON_ADD_ANCHORS,(e=>t[h$e].trigger("addAnchors",[f(e)]))),r.onEvent(oBe.ON_UPDATE_ANCHORS,(e=>{t[h$e].trigger("updateAnchors",[f(e)])})),r.onEvent(oBe.ON_REMOVE_ANCHORS,(e=>t[h$e].trigger("removeAnchors",[f(e)]))),r.onEvent(oBe.FRAME_SIZE_CHANGED,(()=>t[h$e].trigger("resize"))),t[h$e].native=r,r$e(t[h$e].webviewId);var i=r.start();return i===tBe.SUCCESS?(e(null),fd("notifyCameraMessage",{open:!0}),hre(t[h$e].pluginId,"VKSession.start")):e(nBe[i]),null}),"ARSession.create.1"),ux((e=>{"string"==typeof e&&(e=JSON.parse(e));var r=e.event,n=e.params;switch(r){case"onAddFaceAnchor":case"onAddBodyAnchor":case"onAddOCRAnchor":case"onAddIDcardAnchor":case"onAddHandAnchor":case"onAddDepthAnchor":case"onAddShoeAnchor":var i=n.anchors;t[h$e].trigger("addAnchors",[f(i)]);break;case"onUpdateFaceAnchor":case"onUpdateBodyAnchor":case"onUpdateOCRAnchor":case"onUpdateIDcardAnchor":case"onUpdateHandAnchor":case"onUpdateDepthAnchor":case"onUpdateShoeAnchor":var a=n.anchors;t[h$e].trigger("updateAnchors",[f(a)]);break;case"onRemoveFaceAnchor":case"onRemoveBodyAnchor":case"onRemoveHandAnchor":case"onRemoveOCRAnchor":case"onRemoveIDcardAnchor":case"onRemoveDepthAnchor":case"onRemoveShoeAnchor":var o=n.anchors;t[h$e].trigger("removeAnchors",[f(o)])}}),"ARSession.create.2"))};if(n.forbidCamera||VQ(["scope.camera"]))g();else V6(t[h$e].pluginId,!0)({scope:"scope.camera",success:g,fail:()=>{e(tBe.NO_MINIPROGRAM_CAMERA_ACCESS)}})}return null}e(r.errno)}))()}stop(){this[h$e].native&&this.state!==iBe.PAUSE&&(this[h$e].native.stop(),fd("notifyCameraMessage",{open:!1}),n$e(this[h$e].webviewId))}destroy(){this[h$e].native&&(this[h$e].native.destroy(),fd("notifyCameraMessage",{open:!1}),FBe(this[h$e].webviewId),mBe(this[h$e].webviewId),i$e(this[h$e].webviewId),this[h$e].native=null,this[h$e].lastFrame&&(this[h$e].lastFrame.destroy(),this[h$e].lastFrame=null),this[h$e].eventMap=null,["yTexture","uvTexture","rgbaTexture"].forEach((e=>{var t=this[h$e][e];if(t&&t._gl){var r=t._gl;t._gl=null,r.bindTexture(r.TEXTURE_2D,null),r.deleteTexture(t)}this[h$e][e]=null})))}getVKFrame(e,t){if(!this[h$e].native)return null;FBe(this[h$e].webviewId);var r=this[h$e].native.getARFrame(e,t);if(r){var n=new JBe(this[h$e].webviewId,r,this);return this[h$e].lastFrame&&(this[h$e].lastFrame.destroy(),this[h$e].lastFrame=null),this[h$e].lastFrame=n,n}return null}removeAnchor(e){if(this[h$e].native){var t=BBe(e);this[h$e].native.removeAnchor(t)}}hitTest(e,t,r=!0){if(!this[h$e].native)return null;var n=this[h$e].native.hitTest(e,t,r);return n?n.map((e=>({anchor:NBe(this[h$e].webviewId,e.anchor),transform:e.transform}))):[]}addMarker(e){var t,r;if(!0!==(null===(t=this[h$e].options)||void 0===t||null===(r=t.track)||void 0===r?void 0:r.marker))return console.error("[VKSession.addMarker] Declare track.marker as true when invoke createVKSession and then call addMarker"),null;if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_MARKER&&this[h$e].implType!==lBe.WEVISION_VIO)return console.error("native is null, implType is not wevision marker or wevision vio"),null;if(!e||"string"!=typeof e)return console.error("[VKSession.addMarker] invalid path"),null;var n=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|usr|store)\//.test(e)||(e=Jd(su.lastRoute,e,!1));var i=$Be(this[h$e].webviewId,n);return this[h$e].native.addARMarker(i,e),i}removeMarker(e){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_MARKER&&this[h$e].implType!==lBe.WEVISION_VIO)return null;this[h$e].native.removeARMarker(e)}getAllMarker(){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_MARKER&&this[h$e].implType!==lBe.WEVISION_VIO)return null;var e=this[h$e].native.getAllARMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}addOSDMarker(e){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_OSD)return null;if(!e||"string"!=typeof e)return console.error("[VKSession.addOSDMarker] invalid path"),null;var t=e;/^wxfile:\/\//.test(e)||/^http:\/\/(tmp|usr|store)\//.test(e)||(e=Jd(su.lastRoute,e,!1));var r=$Be(this[h$e].webviewId,t);return this[h$e].native.addOSDMarker(r,e),r}removeOSDMarker(e){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_OSD)return null;this[h$e].native.removeOSDMarker(e)}getAllOSDMarker(){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_OSD)return null;var e=this[h$e].native.getAllOSDMarker();return e&&e.length?e.map((e=>({markerId:e.markerID,path:e.localPath}))):[]}update3DMode({open3d:e=!1}={}){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_FACE&&this[h$e].implType!==lBe.WEVISION_BODY&&this[h$e].implType!==lBe.WEVISION_HAND)return null;this[h$e].native.update3DMode(e)}updateMaskMode({useMask:e=!1}={}){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_SHOE)return null;this[h$e].native.updateMaskMode(e)}updateOSDThreshold(e){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_OSD)return null;this[h$e].native.updateOSDThreshold(e)}setDepthSwitch(e){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_VIO)return null;this[h$e].native.setDepthSwitch(e)}setDepthOccRange(e=.01,t=10){if(!this[h$e].native)return null;this[h$e].native.setDepthOccRange(e,t)}detectDepth({frameBuffer:e,width:t,height:r}={}){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_MONODEPTH)return null;var n="number"==typeof t&&!Number.isInteger(t),i="number"==typeof r&&!Number.isInteger(r);(n||i)&&(console.error("[VKSession.detectDepth] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[h$e].commonCmd({action:"runDepth",params:{imagePath:0,imageWidth:t,imageHeight:r}},e)}runOCR({frameBuffer:e,width:t,height:r}={}){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_OCR)return null;var n="number"==typeof t&&!Number.isInteger(t),i="number"==typeof r&&!Number.isInteger(r);(n||i)&&(console.error("[VKSession.runOCR] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[h$e].commonCmd({action:"runOCR",params:{imagePath:0,imageWidth:t,imageHeight:r}},e)}detectIDCard({frameBuffer:e,width:t,height:r,getAffineImg:n}={}){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_OCR)return null;var i="number"==typeof t&&!Number.isInteger(t),a="number"==typeof r&&!Number.isInteger(r);(i||a)&&(console.error("[VKSession.detectIDCard] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[h$e].commonCmd({action:"IDcardDetection",params:{imagePath:0,imageWidth:t,imageHeight:r,getAffineImg:n}},e)}detectFace({frameBuffer:e,width:t,height:r,scoreThreshold:n,sourceType:i,modelMode:a=1,open3d:o=!1}={}){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_FACE)return null;var s="number"==typeof t&&!Number.isInteger(t),l="number"==typeof r&&!Number.isInteger(r);(s||l)&&(console.error("[VKSession.detectFace] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[h$e].commonCmd({action:"detectFace",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,sourceType:i,modelMode:a,open3d:o}},e)}detectBody({frameBuffer:e,width:t,height:r,scoreThreshold:n,sourceType:i,open3d:a=!1}={}){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_BODY)return null;var o="number"==typeof t&&!Number.isInteger(t),s="number"==typeof r&&!Number.isInteger(r);(o||s)&&(console.error("[VKSession.detectBody] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[h$e].commonCmd({action:"detectBody",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,sourceType:i,open3d:a}},e)}detectHand({frameBuffer:e,width:t,height:r,scoreThreshold:n,algoMode:i,open3d:a=!1}={}){if(!this[h$e].native||this[h$e].implType!==lBe.WEVISION_HAND)return null;var o="number"==typeof t&&!Number.isInteger(t),s="number"==typeof r&&!Number.isInteger(r);(o||s)&&(console.error("[VKSession.detectHand] invalid width / height. please use integer."),t=Math.floor(t),r=Math.floor(r)),this[h$e].commonCmd({action:"runHand",params:{imagePath:0,imageWidth:t,imageHeight:r,scoreThreshold:n,algoMode:i,open3d:a}},e)}on(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[h$e].eventMap;if(r){var n=r[e]=r[e]||[];-1===n.indexOf(t)&&n.push(t)}}}off(e,t){if("string"==typeof e&&e&&"function"==typeof t){var r=this[h$e].eventMap;if(r){var n=r[e]=r[e]||[],i=n.indexOf(t);i>=0&&n.splice(i,1)}}}}function v$e(e){var t=a$e();t!==e&&s$e(t)}function m$e(e){o$e(e)&&l$e(e)}function y$e(e={}){var t=sh(this),r=su.currentWebviewId,n=ZBe(r),i=e.version||cBe.V1,a=e.track||{};return g$e.isSupport(i)||a.plane&&a.plane.force||console.error(`createVKSession:fail The current device does not support version "${i}"`),We()?n=new g$e(r,e,t):n||e$e(r,n=new g$e(r,e,t)),n}function b$e(e={}){var t=su.currentWebviewId,{type:r,config:n={}}=e,i=null;return"image"===r?i=new Vg.ARImageReference(n):"object"===r&&(i=new Vg.ARObjectReference(n)),gBe(t,i)}function _$e(e){return g$e.isSupport(e)}cS((()=>{m$e(su.currentWebviewId)})),_S((()=>v$e())),Jw((e=>{var t=e.webviewId;v$e(t),m$e(t),SE(t,(()=>{var e=ZBe(t);e&&e.destroy(),FBe(t),mBe(t)}),"AR")}));var w$e=1;re.onReady((()=>{try{"number"==typeof re.wxAppInfo.maxWorkerConcurrent&&(w$e=re.wxAppInfo.maxWorkerConcurrent)}catch(e){}}));var S$e=function(e,t={}){var{useExperimentalWorker:r}=t,n={workerUrl:e,appid:re.accountInfo.appId,useExperimentalWorker:r&&Vh("WeAppWorker")},i="workers.js",a=H6.service,o=sh(this);if(o&&(i=Yd(o,"workers.js"),a=H6.plugin,n.pluginId=o),J6.getSizeByType(a)>=w$e)throw new Error("createWorker: exceed max concurrent workers limit.");var s=i;r||(i=c5()&&!xe?void 0:i);var{workerId:l,useWKWorker:c}=P.create(i,n);if(setTimeout((()=>{M.reportIDKey({key:c?"createWKWorker":"createNormalWorker"})}),0),l>0)return new A5(l,e,{useWKWorker:c,contextType:a,pluginId:n.pluginId,injectFilePath:s});throw-1===l?new Error(`createWorker: Worker "${e}" does not exists.`):new Error("createWorker: unknown error.")},C$e=(e,t)=>{var r;return"string"!=typeof e?r=new Error(`${t}: first argument must be a string`):/^(wxfile|https?):/.test(e)?r=new Error(`${t}: not support wxfile: or http: path`):/\.wasm(\.br)?$/.test(e)||(r=new Error(`${t}: only support file type .wasm or .wasm.br`)),r},k$e=e=>Vh("allowBufferWASM")&&Fv(e,"allowBufferWASM"),I$e=(e,t,r)=>{var n;return e.startsWith("wxfile://")?k$e(t)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(n=new Error(`${r}: not support wxfile: or http: path`)):-1!==e.indexOf(`__plugin__/${t}/`)||(e=Yd(t,e)),{error:n,finalFile:e}},P$e={},T$e=!1;function A$e(){if(!T$e)throw new Error("WebAssembly not ready")}var x$e=new Proxy({},{get:(e,t,r)=>(A$e(),Reflect.get(e,t,r))});m.onLoad((()=>{T$e=!0;var e=globalThis;void 0!==Vg.WebAssembly?P$e=Vg.WebAssembly:void 0!==e.WebAssembly&&(P$e=e.WebAssembly);try{e.WebAssembly&&delete e.WebAssembly}catch(e){}var t={Table:P$e.Table,Memory:P$e.Memory,Global:P$e.Global,Instance:P$e.Instance,compile:P$e.compile,compileStreaming:P$e.compileStreaming,instantiateStreaming:P$e.instantiateStreaming,validate:P$e.validate,CompileError:P$e.CompileError,LinkError:P$e.LinkError,Module:P$e.Module,RuntimeError:P$e.RuntimeError,instantiate:(e,t,r)=>Promise.resolve(P$e.instantiate(e,t,r))};Object.assign(x$e,t)}));var E$e=()=>(A$e(),P$e),M$e="weapp://wechat-game-runtime";function R$e(e={}){var{filePath:t,encoding:r,success:n,fail:i,complete:a}=e;return fetch(`${M$e}/wxfs/${btoa(t)}`,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({filePath:t})}).then((e=>"string"==typeof r?e.text():e.arrayBuffer())).then((e=>{"function"==typeof n&&n({data:e,errMsg:"readFileXhr:ok"}),"function"==typeof a&&a({data:e,errMsg:"readFileXhr:ok"})})).catch((e=>{e.errMsg=`readFileXhr:fail ${e.message}`,"function"==typeof i&&i(e),"function"==typeof a&&a(e)}))}function D$e({filePath:e,encoding:t}){var r=new XMLHttpRequest;return r.open("POST",`${M$e}/wxfs/${btoa(e)}`,!1),r.setRequestHeader("content-type","application/json"),r.responseType="string"==typeof t?"text":"arraybuffer",r.send(JSON.stringify({})),"string"==typeof t?r.responseText:r.response}var O$e=new WeakMap,L$e={},N$e=e=>O$e.get(e),B$e=e=>{if(L$e[e])return L$e[e];class t{constructor(t){if(void 0===t)return this;var r,n=E$e();if(e)if(k$e(e)){if(Pt(t)||At(t)){var i=new n.Module(t);return i&&O$e.set(this,i),this}}else{t=`${t}`;var{error:a,finalFile:o}=I$e(t,e,"WXWebAssembly.Module");if(a)throw a;t=o}else r=C$e(t=`${t}`,"WXWebAssembly.Module");if(r)throw r;if(Ne){var s=D$e({filePath:t}),l=new n.Module(s);l&&O$e.set(this,l)}else{var c,u;/\.br$/.test(t)?(c=eb,u={filePath:t,compressionAlgorithm:"br"}):(c=Py,u=t);var d=c(u),p=new n.Module(d);p&&O$e.set(this,p)}return this}static customSections(e,t){return E$e().Module.customSections(N$e(e),t)}static exports(e){return E$e().Module.exports(N$e(e))}static imports(e){return E$e().Module.imports(N$e(e))}}return L$e[e]=t,t},$$e=(e,t)=>{var r=new(B$e(t));return O$e.set(r,e),r},F$e=(e,t,r,n)=>{var i=E$e(),a=/\.br$/.test(e)?Zy:Iy;return new Promise(((o,s)=>{a({compressionAlgorithm:"br",filePath:e,success(e){i.instantiate(e.data,t).then(ux((e=>{r(!0,e);var t=Object.assign({},e);t.module&&(t.module=$$e(e.module,n)),o(t)}),"wasm.instantiate.then"),ux((e=>{r(!1,e),s(e)}),"wasm.instantiate.catch"))},fail({errMsg:e}){var t=new Error(e.replace(/^\w+:fail\s*/,""));r(!1,t,!Ne),s(t)}})}))},j$e=(e,t,r)=>{var n=E$e();if(N$e(e))return n.instantiate(N$e(e),t);var i,a=BM("instantiate",{file:e=`${e}`,imports:t},!1,!1);if(r&&k$e(r)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(i=C$e(e,"WXWebAssembly.instantiate")),i)return a(!1,i,!0),Promise.reject(i);if(Ne||"string"==typeof e&&e.startsWith("wxfile://"))return F$e(e,t,a,r);if(Ie||ke){var o=n.instantiate(e,t);return a(!0,o,!0),Promise.resolve(o).then(ux((e=>{var t=Object.assign({},e);return t.module&&(t.module=$$e(e.module,r)),t}),"wasm.instantiate.then.2"))}return F$e(e,t,a,r)},W$e=(e,t)=>{var r,n,i=E$e();/\.br$/.test(e)?(r=eb,n={filePath:e,compressionAlgorithm:"br"}):(r=Py,n=e);var a=r(n);return new i.Instance(new i.Module(a),t)},V$e=(e,t,r)=>{var n=E$e();if(N$e(e))return new n.Instance(N$e(e),t);var i,a=BM("Instance",{file:e=`${e}`,imports:t},!1,!1);if(r&&k$e(r)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(i=C$e(e,"WXWebAssembly.Instance")),i)throw a(!1,i,!0),i;return Ne||"string"==typeof e&&e.startsWith("wxfile://")?W$e(e,t):Ie||ke?new n.Instance(e,t):W$e(e,t)};function U$e(e,t){var r,n=E$e();if(t&&k$e(t)||/^(wxfile:\/\/__wxprivate__)/.test(e)||(r=C$e(e,"WXWebAssembly.compile")),r)return Promise.reject(r);if(Ne)return new Promise(((r,i)=>{R$e({filePath:e,success(e){n.compile(e.data).then(ux((e=>{e=$$e(e,t),r(e)}),"wasm.compile.then.1")).catch((e=>i(e)))},fail({errMsg:e}){i(new Error(e.replace(/^\w+:fail\s*/,"")))}})}));var i=/\.br$/.test(e)?Zy:Iy;return new Promise(((r,a)=>{i({compressionAlgorithm:"br",filePath:e,success(e){n.compile(e.data).then(ux((e=>{e=$$e(e,t),r(e)}),"wasm.compile.then.2")).catch((e=>a(e)))},fail({errMsg:e}){a(new Error(e.replace(/^\w+:fail\s*/,"")))}})}))}var z$e=e=>{var t=E$e(),r={Table:t.Table,Memory:t.Memory,Global:t.Global,Instance:function(t,r={}){if(N$e(t))return V$e(t,r,e);t=`${t}`;var{error:n,finalFile:i}=I$e(t,e,"WXWebAssembly.Instance");if(n)throw n;return V$e(i,r,e)},instantiate(t,r={}){if(N$e(t))return j$e(t,r,e);t=`${t}`;var{error:n,finalFile:i}=I$e(t,e,"WXWebAssembly.instantiate");return n?Promise.reject(n):j$e(i,r,e)}};return t.compile&&(r.compile=t=>{t=`${t}`;var{error:r,finalFile:n}=I$e(t,e,"WXWebAssembly.compile");if(r)throw Promise.reject(r);return U$e(n,e)}),t.Module&&(r.Module=B$e(e)),r},q$e=()=>{var e=E$e(),t={Table:e.Table,Memory:e.Memory,Global:e.Global,Instance:function(e,t={}){return V$e(e,t,void 0)},instantiate:(e,t={})=>j$e(e,t,void 0)};return e.compile&&(t.compile=e=>U$e(e)),e.Module&&(t.Module=B$e()),t},H$e=null,G$e=({provider:e}={})=>e?z$e(e):(H$e||(H$e=q$e()),H$e);function K$e(e={}){console.warn("wx.initFaceDetect 即将废弃，请使用 wx.createVKSession"),fd("faceProcessInit",e,{beforeFail:e=>{var t=Y$e(e.errCode),r=Q$e(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"initFaceDetect:$2")}})}function J$e(e={}){console.warn("wx.faceDetect 即将废弃，请使用 wx.createVKSession"),fd("faceDetect",e,{beforeFail(e){var t=Y$e(e.errCode),r=Q$e(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"faceDetect:$2")}})}function X$e(e={}){console.warn("wx.stopFaceDetect 即将废弃，请使用 wx.createVKSession"),fd("faceProcessStop",e,{beforeFail:e=>{var t=Y$e(e.errCode),r=Q$e(e.errCode);t&&(e.errno=t),r&&(e.errMsg=r)},beforeAll:e=>{e.errMsg=e.errMsg.replace(/^(\w+):(ok|fail)/,"stopFaceDetect:$2")}})}function Y$e(e){switch(e){case 0:return wn;case 1:case 3:return bc;case 2:return _c;case 5:return Sc;case 6:return Cc;case 4:case 7:return yc}}function Q$e(e){switch(e){case 1:case 3:return"faceDetect:fail face detection does not initialize";case 2:return"faceDetect:fail face detection has duplicated initialization";case 5:return"faceDetect:fail face not detected or detection failed";case 6:return"faceDetect:fail stop face detection failed";default:return"faceDetect:fail unknown error"}}var Z$e=e=>{fd("nativeWXPayCgiTunnel",e)},eFe=aB,tFe=yB,rFe=_B,nFe=CB,iFe=SB,aFe=wB,oFe=EX,sFe=MX,lFe=xee,cFe=jee,uFe=Lee,dFe=Wee,pFe=Eee,hFe=Nwe,fFe=Bwe,gFe=Lwe,vFe=pwe,mFe=hwe,yFe=Pwe,bFe=Twe,_Fe=Awe,wFe=pIe,SFe=Xwe,CFe=Ywe,kFe=Qwe,IFe=Zwe,PFe=eSe,TFe=rSe,AFe=nSe,xFe=iSe,EFe=vj,MFe=bj,RFe=_j,DFe=aj,OFe=wj,LFe=mF,NFe=bF,BFe=_F,$Fe=kF,FFe=IF,jFe=TF,WFe=AF,VFe=W9,UFe=U9,zFe=z9,qFe=K9,HFe=tte,GFe=cE,KFe=dE,JFe=rE,XFe=hE,YFe=pE,QFe=d9,ZFe={getAccountInfoSync:$De,request:FRe.request,uploadFile:FRe.uploadFile,downloadFile:FRe.downloadFile,connectSocket:FRe.connectSocket,getStorage:MDe.getStorage,getStorageSync:MDe.getStorageSync,removeStorage:MDe.removeStorage,removeStorageSync:MDe.removeStorageSync,setStorage:MDe.setStorage,setStorageSync:MDe.setStorageSync,createAudioContext:DDe.createAudioContext,createCameraContext:DDe.createCameraContext,createMapContext:DDe.createMapContext,createVideoContext:DDe.createVideoContext,createInnerAudioContext:DDe.createInnerAudioContext,createLivePlayerContext:DDe.createLivePlayerContext,createLivePusherContext:DDe.createLivePusherContext,createSelectorQuery:FDe,createIntersectionObserver:jDe,createMediaQueryObserver:WDe,nextTick:VDe,createCanvasContext:BDe.createCanvasContext,createOffscreenCanvas:BDe.createOffscreenCanvas,drawCanvas:BDe.drawCanvas,canvasToTempFilePath:BDe.canvasToTempFilePath,canvasGetImageData:BDe.canvasGetImageData,canvasPutImageData:BDe.canvasPutImageData,createAnimation:yW,reportAnalytics:HDe,reportPrivatePlugin:qDe,chooseImage:lFe,chooseMedia:_Se,previewImage:cFe,getImageInfo(e){return uFe(e,FRe.downloadFile.bind(this))},saveImageToPhotosAlbum:dFe,compressImage:pFe,startRecord:hFe,stopRecord:fFe,getRecorderManager:gFe,playVoice:yFe,pauseVoice:bFe,stopVoice:_Fe,getBackgroundAudioManager:Jwe,setInnerAudioOption:Roe,chooseVideo:vFe,saveVideoToPhotosAlbum:mFe,createMediaContainer:BSe,createMediaRecorder:SCe,createVideoDecoder:eCe,createMediaAudioPlayer:gSe,createWorker:S$e,getLocation:hye,getFuzzyLocation:Bye,openLocation:vye,chooseLocation:fye,choosePoi:gye,onLocationChange:yye,offLocationChange:bye,onLocationChangeError:Sye,offLocationChangeError:Cye,startLocationUpdate:Mye,stopLocationUpdate:Rye,getNetworkType:eg,onNetworkStatusChange:tg,offNetworkStatusChange:rg,onNetworkWeakChange:ng,offNetworkWeakChange:ig,getSystemInfo:zb,getSystemInfoSync:$b,startAccelerometer:Lke,stopAccelerometer:Nke,onAccelerometerChange:Fke,offAccelerometerChange:$ke,startCompass:Vke,stopCompass:Uke,onCompassChange:Hke,offCompassChange:qke,getClipboardData:tIe,setClipboardData:rIe,makePhoneCall:Gke,makeVoIPCall:Kke,startGyroscope:gAe,stopGyroscope:vAe,onGyroscopeChange:mAe,offGyroscopeChange:yAe,startDeviceMotionListening:_Ae,stopDeviceMotionListening:wAe,onDeviceMotionChange:SAe,offDeviceMotionChange:CAe,scanCode:Jke,scanItem:Zke,makeBluetoothPair:FPe,isBluetoothDevicePaired:jPe,openBluetoothAdapter:mIe,closeBluetoothAdapter:TIe,getBluetoothAdapterState:AIe,onBluetoothAdapterStateChange:Cle,offBluetoothAdapterStateChange:kle,startBluetoothDevicesDiscovery:xIe,stopBluetoothDevicesDiscovery:EIe,getBluetoothDevices:MIe,getConnectedBluetoothDevices:DIe,createBLEConnection:ZIe,closeBLEConnection:ePe,getBLEDeviceServices:tPe,getBLEDeviceCharacteristics:rPe,getBLEDeviceRSSI:RIe,setBLEMTU:WPe,getBLEMTU:GPe,notifyBLECharacteristicValueChanged:nPe,notifyBLECharacteristicValueChange:iPe,readBLECharacteristicValue:aPe,writeBLECharacteristicValue:oPe,onBluetoothDeviceFound:pPe,offBluetoothDeviceFound:hPe,onBLEConnectionStateChanged:lPe,offBLEConnectionStateChanged:cPe,onBLEConnectionStateChange:ble,offBLEConnectionStateChange:_le,onBLECharacteristicValueChange:uPe,offBLECharacteristicValueChange:dPe,onBLEMTUChange:qPe,offBLEMTUChange:HPe,createBLEPeripheralServer:LPe,onBLEPeripheralConnectionStateChanged:BPe,offBLEPeripheralConnectionStateChanged:$Pe,getHCEState:PTe,startHCE:TTe,stopHCE:ATe,sendHCEMessage:xTe,onHCEMessage:ETe,offHCEMessage:MTe,getNFCAdapter:ZTe,startBeaconDiscovery:nIe,stopBeaconDiscovery:iIe,getBeacons:aIe,onBeaconUpdate:oIe,offBeaconUpdate:sIe,onBeaconServiceChange:lIe,offBeaconServiceChange:cIe,startWifi:lTe,stopWifi:cTe,getWifiList:uTe,getConnectedWifi:pTe,connectWifi:hTe,presetWifiList:fTe,setWifiList:gTe,onGetWifiList:vTe,onWifiConnected:yTe,offGetWifiList:mTe,offWifiConnected:bTe,onEvaluateWifi:STe,onWifiConnectedWithPartialInfo:kTe,offWifiConnectedWithPartialInfo:ITe,addPhoneCalendar:TAe,addPhoneRepeatCalendar:AAe,getRandomValues:eBe,captureScreen:eFe,onUserCaptureScreen:tFe,offUserCaptureScreen:rFe,setKeepScreenOn:nFe,getScreenRecordingState:TB,setScreenBrightness:iFe,getScreenBrightness:aFe,vibrateShort:oFe,vibrateLong:sFe,addPhoneContact:wFe,login:lLe,pluginLogin:uLe,getUserInfo:cLe,getNativeUserInfo:sLe,openSetting:Mk,getSetting:dLe,operateWXData:fDe,requestPluginPayment:C9,requestFacetoFacePayment:Y7,requestPersonalPay:s8,secureTunnel:qI,nativeWXPayCgiTunnel:Z$e,openEmbeddedMiniProgram:mce,showModal:DFe,showToast:hLe,hideToast:EFe,showLoading:MFe,hideLoading:RFe,showActionSheet:OFe,pageScrollTo:aW,setPageStyle:uW,setPageOrientation:$W,startPullDownRefresh:oW,stopPullDownRefresh:sW,setNavigationBarTitle:LFe,showNavigationBarLoading:NFe,hideNavigationBarLoading:BFe,setNavigationBarColor:$Fe,setNavigationBarAlpha:FFe,setNavigationBarRightButton:jFe,onTapNavigationBarRightButton:WFe,getShareInfo:VFe,showShareMenu:UFe,hideShareMenu:zFe,updateShareMenu:qFe,showShareImageMenu(e){var t=sh(this);return HFe(e,{pluginId:t})},setBackgroundColor:jW,setBackgroundTextStyle:WW,navigateTo:GFe,redirectTo:KFe,navigateBack:JFe,switchTab:XFe,reLaunch:YFe,getBackgroundAudioPlayerState:SFe,playBackgroundAudio:CFe,pauseBackgroundAudio:kFe,seekBackgroundAudio:IFe,stopBackgroundAudio:PFe,onBackgroundAudioPlay:TFe,onBackgroundAudioPause:AFe,onBackgroundAudioStop:xFe,setCookies:uOe,getCookies:dOe,chooseShareGroup:Exe,arrayBufferToBase64:E.surroundThirdByTryCatch(OP),base64ToArrayBuffer:E.surroundThirdByTryCatch(LP),openBusinessView:pOe,joinVoIPChat:wOe,exitVoIPChat:COe,updateVoIPChatMuteConfig:kOe,onVoIPChatMembersChanged:POe,offVoIPChatMembersChanged:TOe,onVoIPChatSpeakersChanged:AOe,offVoIPChatSpeakersChanged:xOe,onVoIPChatInterrupted:DOe,offVoIPChatInterrupted:OOe,subscribeVoIPVideoMembers:LOe,onVoIPVideoMembersChanged:BOe,offVoIPVideoMembersChanged:$Oe,onVoIPChatStateChanged:jOe,offVoIPChatStateChanged:WOe,createRewardedVideoAd:nOe,createInterstitialAd:iOe,createSkitAd:aOe,preloadAd:oOe,openChannelsUserProfile:tLe,updateWeChatApp:GEe,reportPerformance:hOe,getPerformance:fOe,getLaunchOptionsSync:OO,getEnterOptionsSync:wh,onThemeChange:Yre,offThemeChange:Zre,getVideoInfo:fwe,compressVideo:gwe,createUDPSocket:CLe,createTCPSocket:FRe.createTCPSocket,getRealtimeLogManager:pLe,getPublicLibVersion:aU,startLocalServiceDiscovery:iAe,stopLocalServiceDiscovery:aAe,onLocalServiceFound:oAe,offLocalServiceFound:sAe,onLocalServiceLost:lAe,offLocalServiceLost:cAe,onLocalServiceDiscoveryStop:uAe,offLocalServiceDiscoveryStop:dAe,onLocalServiceResolveFail:pAe,offLocalServiceResolveFail:hAe,loadFontFace:Iwe,getBatteryInfo:xke,getBatteryInfoSync:Eke,getAvailableAudioSources:aSe,onAudioInterruptionBegin:Nie,offAudioInterruptionBegin:Bie,onAudioInterruptionEnd:Fie,offAudioInterruptionEnd:jie,previewMedia:SSe,openVideoEditor:PCe,saveFileToDisk:fLe,openDocument:fy,getMenuButtonBoundingClientRect:JW,version:aA(),chooseAddress:Are,chooseInvoice:dne,chooseInvoiceTitle:jre,publishWeChatState:Yne,navigateToMiniProgram:QFe,exitMiniProgram:v4,createVKSession:y$e,createVKReference:b$e,isVKSupport:_$e,faceDetect:J$e,initFaceDetect:K$e,stopFaceDetect:X$e,getLocalIPAddress:RAe,openSystemBluetoothSetting:Gb,openAppAuthorizeSetting:Kb,getSystemSetting:Yb,getAppAuthorizeSetting:Qb,getDeviceInfo:o_,getWindowInfo:Z_,getAppBaseInfo:tw,setVisualEffectOnCapture:kB,createInferenceSession:Iw,getInferenceEnvInfo:Gm,getXrFrameSystem:DLe,worklet:rDe(),router:tDe(),requestSubscribeMessage:_ne,requestSubscribeDeviceMessage:$ne},eje=ZNe();Object.keys(eje).forEach((e=>{ZFe[e]=eje[e]}));var tje=(e,t)=>new TDe(ZFe,e,t),rje=()=>"undefined"==typeof BaseConsole?new A.BaseConsole:new BaseConsole,nje=e=>G$e({provider:e});TRe();var ije=th.pluginInfos,aje={};re.onReady((()=>{"object"==typeof re.env&&(aje.USER_DATA_PATH=re.env.USER_DATA_PATH)}));const oje=aje;var sje=(e,t)=>({vdSync(t,r){e("vdSync",t,r)},vdSyncBatch(t,r){e("vdSyncBatch",t,r)},onVdSync(e){t("vdSync",e)},onVdSyncBatch(e){t("vdSyncBatch",e)}}),lje=(e,t)=>{var r={},n=!1;return{publish(t,r){e("shadowSync",t,r)},subscribe(e){t("shadowSync",e)},subscribeWithViewId(e,i){r[e]=i,n||(n=!0,t("shadowSync",((e,t)=>{var n=r[t];n&&n(e)})))}}},cje=function(e,t,r){for(var n in t){if("exportToAppServiceSDK"===n)return;e[n]=t[n]}["onPageReload"].forEach((n=>{t[n]&&(e[n]=e=>{t[n].call(r,e)})}))},uje=nr("AppUnhang"),dje=uje.internalOnMethod,pje=uje.onMethod,hje;function fje(e){mS(e)}Ut("onAppUnhang",((e={})=>{uje.emit(e)})),Id((e=>{Bx()||(yS(e),vS(e),bS(e))}));var gje=()=>hje,vje=e=>hje=e,mje={cheat:null},yje=(e={})=>{if(Vh("allowUseWePay")){var{result:t,data:r}=e;"boolean"==typeof t?Zle({extraData:{result:t,data:r},fail(t){e.fail&&e.fail({errMsg:"notifyPayResult: fail navigateBackMiniProgram error"})},success:e.success}):e.fail&&e.fail({errMsg:"notifyPayResult: fail result must be boolean"})}else e.fail&&e.fail({errMsg:"notifyPayResult: fail no permission"})},bje,_je,wje=()=>_je=new Promise(((e,t)=>{bje=e})),Sje=()=>!!bje,Cje=function(){var e=Vp()((function*(e){if(bje)if(!1!==(null==e?void 0:e.result)){var t=yield kje(hje.prepayId,hje.platformId);"NOTPAY"===t.state?bje({result:!1,retry:!0}):"SUCCESS"===t.state?bje({result:!0}):bje({result:!1,errMsg:t.errMsg}),bje=null,_je=null,hje=void 0}else bje({result:!1,errMsg:e.errMsg})}));return function(t){return e.apply(this,arguments)}}(),kje=function(){var e=Vp()((function*(e,t){var r,n,i,a,o=yield rx({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformPayResult",json_req:JSON.stringify({prepay_id:null!==(r=null===(n=mje.cheat)||void 0===n?void 0:n.verifyState)&&void 0!==r?r:e,platform_prepay_id:t})}});return{state:null===(i=o.data.state_info)||void 0===i?void 0:i.state,errMsg:null===(a=o.data.base_resp)||void 0===a?void 0:a.err_msg}}));return function(t,r){return e.apply(this,arguments)}}();function Ije(e){if("appLaunch"===e.openType){var t=LO();sS(t),Xw(Ije)}}function Pje(e){lS(e)}Eh((e=>{Bx()||(Sje()&&Cje(e.referrerInfo.extraData),sS(e))})),Jw(Ije);var Tje=nr("AppRouteResized"),Aje=Tje.internalOnMethod,xje=Tje.internalOffMethod;cr("onAppRouteResized",(e=>{"object"==typeof e&&null!==e&&xW(e),Tje.emit({})}));var Eje=nr("PageNotFound"),Mje=Eje.onMethod,Rje=Eje.offMethod,Dje={page:void 0,time:0,count:0};Ut("onPageNotFound",(()=>{_.info("Ignored onPageNotFound.")})),YN(((e,t=0)=>{_.info(`Page not found by onAppRoute.notFound, webviewId=${t}`),su.lastRoute="","string"==typeof e.path&&e.path.endsWith(".html")&&(e.path=Od(e.path)),Dje.page&&Dje.page===e.path?Dje.count++:Dje={page:e.path,time:Date.now(),count:1};var r=!0;Date.now()-Dje.time<=3e3&&Dje.count>3?(r=!1,console.error(`onPageNotFound error: page "${e.path}" is not found.`)):Eje.emit(e);var n=Eje.getGlobalListeners().length>0&&r;n||M.thirdErrorReport({error:new Error(`onPageNotFound error: page "${e.path}" is not found.`),extend:" at onPageNotFound"}),fd("pageNotFoundCallback",{hasHandler:n,webviewId:t})}));var Oje=function(e,t,r){var n=re.global&&re.global.window&&re.global.window.restartStrategy,i=re.page&&re.page[e+".html"]&&re.page[e+".html"].window&&re.page[e+".html"].window.restartStrategy,a=String(i||n||"");if(a){var o={type:a,path:t,extraData:r?r.data:void 0,expireTimeStamp:(r?r.expireTimeStamp:0)||Date.now()+864e5};re.accountInfo.appId,iS("saveExitState",{appId:re.accountInfo.appId,data:o},[su.currentWebviewId],(e=>{}))}},Lje=function(e){iS("loadExitState",{appId:re.accountInfo.appId},[su.currentWebviewId],(t=>t&&t.expireTimeStamp>Date.now()?e(t.type,t.path,t.extraData):e()))},Nje=nr("LazyLoadError"),Bje=Nje.onMethod,$je=Nje.offMethod;mr((()=>{gr.onLazyLoadError((e=>{Nje.emit(e)}))}));var Fje=(e,t)=>{"number"==typeof t&&gr.setLazyLoadTimeout(t),Bje(e)},jje=(e={})=>{if(jc("setEntryPagePath",e,{entryPagePath:""})){var t=Object.assign({},e);t.entryPagePath=nB(t.entryPagePath,{needHtmlSuffix:!0}),fd("setEntryPagePath",t)}},Wje=(e={})=>{fd("clearEntryPagePath",e)},Vje={};Yr("media_banned",(e=>{var{index:t,permissionByte:r}=e;Vje[t]=r}));var Uje=()=>Vje,zje=[];function qje(e,t){zje.forEach((r=>{try{r(e,t)}catch(e){console.error(e)}}))}function Hje(e){zje.push(e)}var Gje=null,Kje=(e={})=>{if(jc("showAuthorize",e,{apply:""})){var t=re.accountInfo.nickname,r=re.accountInfo.icon,n=JSON.stringify({nickname:t,icon:r,apply:e.apply,overlay:e.overlay}),i=dV((e=>{[QW.BottomBackButton,QW.NavigationBackInterceptionType,QW.NavigateBackCall].includes(e.type)&&Gje&&(Gje.handleCancel(),Gje=null)}));__sclEngine__.initScl((t=>{(Gje=t.mainRoot.append("authorize",{input:n})).addListener("confirm",(()=>{pV(i),zc({name:"showAuthorize",args:e})})),Gje.addListener("cancel",(()=>{pV(i),Vc("showAuthorize",e,"cancel")}))}))}};function Jje(e,t,r,n=0){M.reportKeyValue({key:"Handoff",value:[re.appType+1e3,re.appLaunchInfo.scene,e,t,r,n,ag(),""].join(",")})}var Xje=e=>{fd("checkHandoffEnabled",e)},Yje=(e={})=>{var{path:t,fromButton:r}=e;r?Vh("handoff")?Xje({success({isEnabled:e,errCode:r}){e?(Jje(2,2,2),Kje({apply:"在电脑端微信打开小程序",success(){Jje(2,2,1),fd("startHandoff",{path:t,actionId:2},{beforeSuccess:()=>Jje(2,1,1),beforeFail:({errCode:e})=>Jje(2,1,0,e)})},fail(){Jje(2,2,0)}})):Jje(2,1,0,r)}}):console.warn("startHandOff:fail no permission"):fd("startHandoff",{path:t,actionId:1},{beforeSuccess:()=>Jje(1,1,1),beforeFail:({errCode:e})=>Jje(1,1,0,e)})};function Qje(e,t){return Zje.apply(this,arguments)}function Zje(){return(Zje=Vp()((function*(e,t){if(N2.recording){var r=JR[e];r&&B2({timestamp:r6(),type:r,data:{payload:t}})}}))).apply(this,arguments)}function eWe(e){if(N2.recording){var t=L2.recordingWebviewIds.indexOf(e);t>=0&&L2.recordingWebviewIds.splice(t,1),L2.reporter===e&&(L2.reporter=void 0)}}function tWe(e){try{if(!N2.recording)return;var t={};Object.keys(e.query).forEach((r=>{t[r]=String(e.query[r])})),B2({type:_R.PageShow,data:{path:e.path,query:t,webviewId:e.webviewId},timestamp:r6()})}catch(e){}}function rWe(e){return nWe.apply(this,arguments)}function nWe(){return(nWe=Vp()((function*(e){N2.recording&&2===e.event_id&&B2({type:_R.PageStaytime,data:{path:e.pagepath.replace(".html",""),query:e.query,staytime:e.staytime},timestamp:r6()})}))).apply(this,arguments)}var iWe=e=>{var t;e.weSessionId!==N2.recorderConfigs.weSessionId&&N2.recording&&(B2({type:_R.WeSessionIdChanged,data:{oldWeSessionId:null!==(t=N2.recorderConfigs.weSessionId)&&void 0!==t?t:"",newWeSessionId:e.weSessionId,lifeTimeMeta:e},timestamp:r6()}),iS("syncPXState",{sessionLifeTimeMeta:e},L2.recordingWebviewIds,(()=>{})));N2.recorderConfigs.weSessionId=e.weSessionId,N2.recorderConfigs.wesessionMeta=e},aWe=(e,t)=>{if(N2.recording){var{path:r,query:n}=oWe(e.path);B2({type:_R.PageAddToFavorites,data:{title:e.title,path:r,query:n,webviewId:t},timestamp:r6()})}};function oWe(e){var[t,r]=e.split("?"),n=t.replace(/\.html$/,""),i={};return r&&r.split("&").forEach((e=>{var[t,r]=e.split("=");t&&r&&(i[decodeURIComponent(t)]=decodeURIComponent(r))})),{path:n,query:i}}var sWe=0,lWe=[],cWe={},uWe={},dWe;Yr("pageMaxScrollHeightUpdate",((e,t)=>{var{scrollPageMax:r,windowHeight:n}=e;sWe=r,cWe[t]||(cWe[t]={}),cWe[t].maxHeight=n})),Yr("pageScrollViewViewMaxHeightUpdate",(e=>{var{idx:t,height:r}=e;lWe[t-1]=r}));var pWe=()=>sWe,hWe=()=>sWe=0,fWe=()=>lWe=[],gWe=(e,{path:t,stayTime:r})=>{try{var n=cWe[e],i=0;n&&n.initHeight&&n.maxHeight&&(i=n.maxHeight-n.initHeight)<0&&(i=0);var a=[t,0,sWe,0,-1,r,dWe,i].join(",");uWe[e]&&Object.values(uWe[e]).forEach(((e,n)=>{if(e.scrollHeight){var i=0;e.maxHeight&&e.initHeight&&(i=e.maxHeight-e.initHeight);var a=[t,1,-1,n+1,e.scrollHeight?e.scrollHeight:0,r,dWe,i].join(",");_.warn("scrollview value: ",a),M.reportKeyValue({key:"PageScrollInfo",value:a})}})),M.reportKeyValue({key:"PageScrollInfo",value:a})}catch(e){_.warn("_reportScrollInfos error: ",e)}},vWe=(e,t)=>{dWe?gWe(e,t):zb({success(r){dWe=r.screenHeight,gWe(e,t)}})},mWe=void 0,yWe=!1,bWe={},_We,wWe=!1,SWe=()=>yWe;re.onReady((()=>{_We=!!wWe||Vh("enableAIAD")}));var CWe=()=>mWe,kWe=e=>mWe=e,IWe=()=>{if(wWe)return!0;if(MWe)return!0;var e=re.envVersion;return"release"===e?_We:"trial"===e?yWe||_We:"develop"===e?yWe:void 0},PWe=!1,TWe=e=>yWe=e,AWe=()=>bWe,xWe=10086,EWe=({unitId:e,enablePreview:t=!0,onlyPreviewCurrentPage:r=!1,applyReleaseConfig:n=xWe,__innerArgsInMpEnv:i=!1,renderMode:a}={enablePreview:!0})=>{if(_We||i){if("release"!==re.envVersion||wWe||i)if("develop"===re.envVersion&&n===xWe&&(n=!1),t){if(yWe=!0,kWe(e),r){var o=L.getCurrentFullyRoutePath();o=L.getCompatPathWithoutValue(o),bWe[o]={unitId:e}}else bWe["*"]=!0;if("skyline"!==a){bj({title:"进入预览模式中",mask:!PWe});var s=LWe();if(kt(s))s.then((e=>{if(e&&!i)return uj({title:"智能广告无权限",icon:"error",duration:1500}),void console.warn("wx.previewAIAD fail: 你不能在MP预览智能广告环境下调用 wx.previewSmartAd 接口");e&&(bWe["**"]=!0,bWe["*"]=!1)}));else if(s){if(!i)return uj({title:"智能广告无权限",icon:"error",duration:1500}),void console.warn("wx.previewAIAD fail: 你不能在MP预览智能广告环境下调用 wx.previewSmartAd 接口");bWe["**"]=!0,bWe["*"]=!1}_We&&n&&(bWe.__apply_release_config__=!0)}else ij({title:"智能广告失败",content:"智能广告不支持Skyline渲染模式，请将当前页面切换为Webview渲染",__sdk_inner_allowShowMoreLength__:!0,showCancel:!1,confirmText:"确定"})}else yWe=null}else console.warn("wx.previewAIAD fail: 你没有权限调用 wx.previewSmartAd 接口")},MWe,RWe,DWe,OWe=(e,t)=>{if(!MWe&&void 0===MWe){if(e)return MWe=!0,EWe({enablePreview:!0,onlyPreviewCurrentPage:!1,__innerArgsInMpEnv:!0,applyReleaseConfig:!1,renderMode:t}),MWe;DWe=Date.now(),RWe=rx({apiName:"webapi_getaiadexperiencewhiteconfig",reqData:{libVersion:Mu()}}).then((e=>{var r;return RWe=null,null!==(r=e.data)&&void 0!==r&&r.permission?(MWe=!0,EWe({enablePreview:!0,onlyPreviewCurrentPage:!1,__innerArgsInMpEnv:!0,applyReleaseConfig:!1,renderMode:t})):MWe=!1,MWe})).catch((e=>{"-820002"===(null==e?void 0:e.err_code)&&ij({title:"微信版本过低",content:"进入预览模式失败，请升级微信到最新版本后重试",showCancel:!1,canfirmText:"确定",__sdk_inner_allowShowMoreLength__:!0,success(e){e.confirm&&v4()}}),MWe=!1,RWe=null,_.warn("[aiad system] webapi_getaiadexperiencewhiteconfig error: ",e)}))}},LWe=()=>RWe||MWe,NWe=()=>DWe,BWe=B_(),$We=Cf(BWe.readFile),FWe=Cf(BWe.writeFile),jWe=Cf(BWe.access),WWe=Cf(BWe.mkdir),VWe=Cf(BWe.unlink),UWe=Cf(BWe.readdir),zWe=s_.WX_COMPILE_PREFIX.path,qWe=!1,HWe=null,GWe=function(){var e=Vp()((function*(){var e=yield UWe({dirPath:zWe}),t=[];return e.files.forEach((e=>{t.push(Number(e))})),t.sort(((e,t)=>e-t)),t}));return function(){return e.apply(this,arguments)}}(),KWe=function(){var e=Vp()((function*(){var e=yield GWe();if(!(e.length<=5)){var t=e.slice(0,e.length-5);for(var r of t)yield VWe({filePath:`${zWe}/${r}`})}}));return function(){return e.apply(this,arguments)}}(),JWe=function(){var e=Vp()((function*(e,t){if(!qWe&&!t)return null;try{var{data:r}=yield $We({filePath:`${zWe}/${e}`,encoding:"utf8"});return JSON.parse(r)}catch(e){return null}}));return function(t,r){return e.apply(this,arguments)}}(),XWe=function(){var e=Vp()((function*(e,t,r){try{yield jWe({path:zWe})}catch(e){yield WWe({dirPath:zWe})}yield KWe();var n=yield JWe(e),i=r.value?r.value:JSON.stringify(r);if(n){var a=n[t];if(a){var o=!1;for(var s of a)if(s.key===r.key){o=!0;break}o||a.push({key:r.key,value:i})}else n[t]=[{key:r.key,value:i}];yield FWe({filePath:`${zWe}/${e}`,data:JSON.stringify(n),encoding:"utf8"})}else{var l={[t]:[{key:r.key,value:i,createTime:Date.now()}]};yield FWe({filePath:`${zWe}/${e}`,data:JSON.stringify(l),encoding:"utf8"})}}));return function(t,r,n){return e.apply(this,arguments)}}(),YWe=function(){var e=Vp()((function*(e,t,r){try{var n=yield JWe(e);if(!n||!n[t])return;var i=n[t].findIndex((e=>e.key===r));-1!==i&&n[t].splice(i,1),_.warn("removeLocalCache: ",n),yield FWe({filePath:`${zWe}/${e}`,data:JSON.stringify(n),encoding:"utf8"})}catch(e){}}));return function(t,r,n){return e.apply(this,arguments)}}(),QWe=({allCostTime:e,isExposure:t,position:r,applyCompileCache:n,algorithmPosition:i,adPullCost:a,realComputeCostTime:o,cacheCostTime:s,insertResult:l,adType:c,inScrollView:u,cacheComputeResult:d,page:p,sessionId:h,resultType:f,platformId:g,isPreviewCache:v,isPreload:m,isValidPreload:y,illegalExposure:b,errMsg:_,isBeShelter:w,maxExposureRatio:S,wxadType:C,forceUsePreviewAdType:k,waitCost:I,emitPhase:P,exceptionId:T,type:A,requestCost:x,preload:E})=>{var R;u=u?1:0,s=null!==(R=s)&&void 0!==R?R:0,d=d?1:0,l=l?1:0,n=n?1:0,t=t?1:0,b=b?1:0,r=1e3*Number(r);var D=LWe()?1:0,O=0;"onReady"===P?O=1:"setData"===P?O=2:"LCP"===P?O=3:"setTimeout"===P&&(O=4);var L=[e,t,r,n,i,a,o,s,l,c,u,d,p,h,f,g,v?1:0,m,y,b,Mu(),_,D,w?1:0,S?100*S:0,C,k,I,O,T||0,x,E].map(Du(1024)).join(",");M.reportKeyValue({key:"AiadAnalyse",value:L})},ZWe=({path:e,useCache:t,usePreviewCache:r,cacheKey:n,insertResult:i,appVersion:a,clsScore:o,validLcpTime:s,isLargeShift:l,type:c,verifyCanUseDistance:u,verifyCanUseResult:d}={})=>{rx({sdkApiName:"",apiName:"webapi_reportaiadtempcache",reqData:{page:e,version:a,if_use_preview:r,if_use_cache:t,insert_result:i,cache_key:n,type:c,cls_score:o,valid_lcp:s,is_large_shift:l,verifyCanUseDistance:u,verifyCanUseResult:d}}).catch((e=>{_.warn("webapi_reportaiadtempcache error: ",e)}))},eVe=({path:e,stayTime:t,hasInterstitialAdPreload:r,hasInterstitialAdShow:n,interstitialAdRequestTime:i,interstitialAdShowDistanceEnter:a,interstitialAdResult:o,hasGeneralAdPreload:s,generalAdRequestTime:l,generalAdShow:c,entryNumber:u}={})=>{var d=[e,t,r?1:0,n?1:0,i,a,o?1:0,s?1:0,l,c,u,Mu()].map(Du(1024)).join(",");M.reportKeyValue({key:"AIADLoad",value:d,immediately:!0})},tVe=({allCost:e,screenshotCost:t,uploadCost:r,inferenceCost:n,isTimeout:i,inferenceResult:a,optimizeResult:o,optimizeValid:s,path:l}={})=>{var c=[e,t,r,n,i,s,a,o,l].map(Du(1024)).join(",");M.reportKeyValue({key:"AIADVision",value:c,immediately:!0})},rVe=(e,t,r,n)=>{var i=nVe(e,t,r,n);return Vh("aiadBanCache")&&(i.applyCache=!1),Vh("aiadOnlyUsePreviewCache")&&(i.computed=!1),i},nVe=(e,t,r,n)=>{if(LWe())return{applyCache:!1,computed:!0,writeCache:!1,forceWriteCache:!1};if(!t)return{applyCache:!0,computed:!0,writeCache:!0,forceWriteCache:!1};try{var i=null==r?void 0:r.algorithm_version;if(20===Number(i)||21===Number(i)){if(Vh("aiadExceptAlgoVersionFallback"))return{applyCache:!0,computed:!0,writeCache:!0,forceWriteCache:!1,type:100};QWe({exceptionId:1})}}catch(e){_.warn("[aiad error] unexpected error: ",e)}if(e==t.appVersion){var a=r.algorithm_version;return t.algoVersion==n?void 0===a||a==t.algoVersion?{applyCache:!0,computed:!0,writeCache:!0,forceWriteCache:!1,type:1}:{applyCache:!1,computed:!0,writeCache:!0,forceWriteCache:!1,type:2}:r?n>=a?{applyCache:!0,computed:!0,writeCache:!1,forceWriteCache:!1,type:3}:{applyCache:!0,computed:!1,writeCache:!1,forceWriteCache:!1,type:4}:{applyCache:!1,computed:!0,writeCache:!1,forceWriteCache:!1,type:5}}if(!r)return{applyCache:!1,computed:!0,writeCache:!0,forceWriteCache:!1,type:10};var o=r.algorithm_version;return _.warn("x cacheInfos: ",r),o?n==o?{applyCache:!0,computed:!0,writeCache:!0,forceWriteCache:!1,type:7}:n<o?{applyCache:!0,computed:!1,writeCache:!1,forceWriteCache:!1,type:8}:n>o?{applyCache:!1,computed:!0,writeCache:!0,forceWriteCache:!0,type:9}:void 0:{applyCache:!1,computed:!0,writeCache:!0,forceWriteCache:!1,type:6}},iVe,aVe={},oVe=()=>aVe[L.getCurrentRoutePathWithoutQuery()],sVe=e=>aVe[L.getCurrentRoutePathWithoutQuery()]=e,lVe=(e,t,r=!1)=>{var n;"release"===re.envVersion&&null!==(n=oVe())&&void 0!==n&&n.writeCache&&nU({success(n){var i=n.data;WUe(e,t,i,r)}})},cVe={};Gr("aiadStatusChange",((e,t)=>{var{platformId:r,status:n,result:i,isPreload:a,isValidPreload:o,illegalExposure:s,cacheKey:l,realType:c,requestCost:u,preload:d}=e.data,p=e.options.timestamp,h=String(t)+"-"+r;pVe({status:n,timestamp:p,result:i,isPreload:a,isValidPreload:o,illegalExposure:s,cacheKey:l,realType:c,requestCost:u,preload:d},h)}));var uVe=(e,t,r)=>{var n=String(e)+"-"+t;cVe[n]=r},dVe=(e,t)=>{var r=String(e)+"-"+t;cVe[r]=null},pVe=(e,t)=>{var r=cVe[t];r&&r(e)},hVe,fVe=new Promise((e=>{hVe=e})),gVe=!1,vVe=!1,mVe=!1,yVe=!1,bVe=()=>yVe;re.onReady((()=>{var e=Ie?"clicfg_appbrand_ios_force_enable_aiad":"clicfg_appbrand_android_force_enable_aiad",t=Ie?"clicfg_appbrand_ios_enable_aiad_debug_button":"clicfg_appbrand_android_enable_aiad_debug_button",r=Ie?"clicfg_appbrand_ios_enable_aiad_tag":"clicfg_appbrand_android_enable_aiad_tag";Promise.all([new Promise(((t,r)=>{Wf({experimentId:e,experimentType:"Expt",success:e=>{e?(1===Number(e.testConfig)?_Ve=!0:2===Number(e.testConfig)?(yVe=!0,vVe=!0):3===Number(e.testConfig)?(_Ve=!0,yVe=!0,vVe=!0):4===Number(e.testConfig)&&(vVe=!0),t()):r("not res")},fail(t){_.error(e,"failed",t),r(t)}})})),new Promise(((e,r)=>{Wf({experimentId:t,experimentType:"Expt",success:t=>{t?1===Number(t.testConfig)?(gVe=!0,e(!0)):e(!1):r("not res")},fail(e){_.error(t,"failed",e),r(e)}})})),new Promise(((e,t)=>{Wf({experimentId:r,experimentType:"Expt",success:r=>{r?1===Number(r.testConfig)?(mVe=!0,e(!0)):e(!1):t("not res")},fail(e){_.error(r,"failed",e),t(e)}})}))]).then((e=>{hVe(e)})).catch((e=>{_.warn("[aiad except] get expt error: ",e)}))})),Yr("requestAiAdExpt",((e,t)=>{fVe.then((e=>{qr("waitServiceExptResponseDone",{enableVisionOptimize:vVe,showAiAdDebugButton:e[1],isAutoEnv:yVe,showAiAdVisionOption:gVe,enableVisionShelterIdentify:Vh("aiadEnableVisionShelterIdentify"),enableAiAdTag:mVe,enableAiAdMultiAd:Vh("enableAiAdMultiAd"),disableQuickLoad:Vh("aiadDisableQuickLoad")},[t])}))}));var _Ve=!1,wVe=!1,SVe=!1,CVe=()=>_Ve,kVe=()=>vVe||gVe,IVe=10025,PVe={customAdId:0xe76bcac4c92dd,bannerId:8040321819858439},TVe,AVe={},xVe=(e,t=!1)=>{var r,n={...e},i=e.extraInfo;if(i&&dt(i)){var a={...i};delete a.algo_version,delete a.preview_shield_list,n.extraInfo=a}return delete n.enable_status,t?(e.extraInfo&&(r={helperInfos:e.extraInfo.helperInfos,sessionId:void 0}),{...n,extraInfo:r}):n},EVe=(e,t)=>{var r={};return e.concat(t).forEach((e=>{null!=e&&e.b&&(r.b||(r.b=[]),r.b.push(...e.b)),null!=e&&e.previewCache&&(r.previewCache=e.previewCache)})),r.b&&(r.b=Array.from(new Set(r.b))),r},MVe={1:2,2:2,3:3,4:3},RVe={entity:0,for:1},DVe=(e,t)=>{if(t)return 4;if(e===IVe)return 2;if(e){var r=MVe[e];return r||0}return 1},OVe=!1,LVe=e=>OVe=e,NVe=({page:e,ads:t=[],extraInfo:r={},pageExtraInfo:n,forceCover:i=!1,coverAds:a=!1,swiperItem:o=-1})=>{var s=Vh("aiadUseIncrementalWrite")||OVe;TVe&&!s||(TVe=Lt());var l,c=[...t.map((t=>({...t,path:e})))],u=i;if(AVe[e]?(a?-1===o?AVe[e]=c:(AVe[e]=AVe[e].filter((e=>o!==e.swiperItem)),AVe[e].push(...c)):c.forEach(((r,n)=>{if("add"===r.ope)AVe[e].push(r);else if("delete"===r.ope){var i=AVe[e].findIndex((e=>e.platformId+e.path===r.platformId+r.path));-1!==i&&AVe[e].splice(i,1)}else if("replace"===t[n].ope);else if("modifyStatus"===t[n].ope){var a=AVe[e].findIndex((e=>e.platformId+e.path===r.platformId+r.path));-1!==a&&(AVe[e][a].enable_status=t[n].status)}else if("toggleType"===t[n].ope){var o=AVe[e].findIndex((e=>e.platformId+e.path===r.platformId+r.path));-1!==o&&(AVe[e][o].enable_status=!1,AVe[e][o].extraStyle&&(AVe[e][o].extraStyle.templateFeature=1===t[n].type?0:IVe))}else if("modifyAdVPathInfo"===t[n].ope){var s=AVe[e].findIndex((e=>e.platformId+e.path===r.platformId+r.path));-1!==s&&(AVe[e][s][t[n].key]=t[n].data)}else AVe[e].push(r)})),u=!0):AVe[e]=c,n)l=n;else{var d=AVe[e].map((e=>e.extraInfo));l=EVe(d,t.map((e=>e.extraInfo)))}if(AVe[e].forEach((e=>{e.extraInfo=l})),c=AVe[e],u)return BVe({extraInfo:r,useIncrementalWrite:s});var p=c.map((t=>{var r,n;return{path:e,path_slot_index:t.platformId,screen:t.screen?Math.max(0,Number(t.screen.toFixed(3))):void 0,adType:DVe(null===(r=t.extraStyle)||void 0===r?void 0:r.templateFeature,"interstitialAd"===t.type),extra_info:t.extraInfo?JSON.stringify(t.extraInfo):"",slot_id:null!==(n=t.extraStyle)&&void 0!==n&&n.templateFeature?PVe.customAdId:PVe.bannerId,feeds_ad_type:RVe[t.type],enable_status:!!t.enable_status,algoKey:`${t.key}-${JSON.stringify(xVe(t,s))}`}}));return wVe&&_.warn("[aiad mp] webapi_addusableaiaditemlist: ",{session_id:TVe,ad_list:p,version:r.previewInfos.appVersion,extra_info:r}),rx({apiName:"webapi_addusableaiaditemlist",reqData:{session_id:TVe,ad_list:p,version:r.previewInfos.appVersion,extra_info:JSON.stringify(r),incremental_write:s}}).then((e=>({result:!0}))).catch((e=>(_.warn("webapi_addusableaiaditemlist err: ",e),{result:!1})))},BVe=({extraInfo:e={},useIncrementalWrite:t=!1})=>{TVe=Lt();var r=Object.keys(AVe),n=[];return r.forEach((e=>{var r=AVe[e].map((r=>{var n,i;return{path:e,path_slot_index:r.platformId,screen:r.screen?Math.max(0,Number(r.screen.toFixed(3))):void 0,adType:DVe(null===(n=r.extraStyle)||void 0===n?void 0:n.templateFeature,"interstitialAd"===r.type),extra_info:r.extraInfo?JSON.stringify(r.extraInfo):"",slot_id:"interstitialAd"===r.type?0xac3cfbe83299d:null!==(i=r.extraStyle)&&void 0!==i&&i.templateFeature?PVe.customAdId:PVe.bannerId,feeds_ad_type:RVe[r.type],enable_status:!!r.enable_status,algoKey:`${r.key}-${JSON.stringify(xVe(r,t))}`}}));n.push(...r)})),wVe&&_.warn("[aiad mp] coverwrite webapi_addusableaiaditemlist: ",{session_id:TVe,ad_list:n,version:e.previewInfos.appVersion,extra_info:e}),rx({apiName:"webapi_addusableaiaditemlist",reqData:{session_id:TVe,ad_list:n,version:e.previewInfos.appVersion,extra_info:JSON.stringify(e),incremental_write:t}}).then((e=>({result:!0}))).catch((e=>(_.warn("[aiad error] coverwrite webapi_addusableaiaditemlist err: ",e),{result:!1})))};Yr("adPreviewReport",(e=>{$Ve(e)}));var $Ve=({actionType:e,adId:t,adType:r,actionStatus:n={},actionValue:i,scene:a})=>{var o=Mu()+" "+Ru(),s=(null==yr?void 0:yr.getCurrentRoute())||"";M.reportKeyValue({key:"AIADPreview",value:[o,1,yh().sessionId||yh().sessionid||"",s,Date.now(),e,t,r,encodeURIComponent(JSON.stringify(n)),i,NWe(),a].join(",")})},FVe,jVe,WVe=()=>{jVe=Date.now()},VVe=()=>{FVe=Date.now()},UVe=()=>jVe-FVe,zVe=B_(),qVe="wxfile://ad/cacheAiadMetaInfo.txt",HVe={},GVe={},KVe={},JVe={},XVe=!0,YVe={},QVe={},ZVe,eUe=100,tUe,rUe=()=>{clearTimeout(tUe),tUe=null},nUe=!1,iUe=3e5,aUe=null,oUe=()=>{nUe||(aUe&&(clearTimeout(aUe),aUe=null),aUe=setTimeout((()=>{aj({content:"完成将退出广告预览，建议探索更多页面预览广告。",showCancel:!0,confirmColor:"#62749c",cancelText:"继续预览",confirmText:"完成",success:e=>{e.confirm?Zle({fail:()=>{v4()}}):oUe()}}),clearTimeout(aUe),aUe=null}),iUe))},sUe=!0;re.onReady((()=>{if(!Vh("enableAIAD")&&Vh("enableCacheAiadInterstitial")){zVe.readFile({filePath:qVe,success:e=>{try{var{lastUseAiadTime:t=0}=JSON.parse(e.data);Date.now()-t<1296e6&&setTimeout((()=>{yme("pages/index/index")}),500)}catch(e){}}})}})),Yr("requestAIAD",((e,t)=>{var r=zUe[t];(!0===LWe()||null!=e&&e.skipPreviewVerify)&&bj({title:"进入预览模式中",mask:!nUe}),FUe(r,t,e).then((r=>{if(r){r.mpPreview=!!LWe()||(null==e?void 0:e.skipPreviewVerify),r.mpPreview&&(bj({title:"智能广告计算中",mask:!0}),tUe&&clearTimeout(tUe),tUe=setTimeout((()=>{dj({title:"智能广告计算超时",icon:"error",duration:1500})}),5e3)),r.onlyUsePreviewCache=Vh("aiadOnlyUsePreviewCache"),r.useAiAdPreviewAdForm=Vh("useAiAdPreviewAdForm"),r.aiadEnablePreviewVisionOptimize=Vh("aiadEnablePreviewVisionOptimize"),r.allowMultiAd=Vh("enableAiAdMultiAd"),r.usePreviewType=Vh("aiadUsePreviewAdType"),r.banner2CustomExpt=sUe,r.banner2CustomFeedbackExpt=Vh("aiadBanner2CustomFeedback"),r.delayRuntimeCompute=Vh("aiadDelayRuntimeComputed"),null!=e&&e.computedTime&&(r.computedTime=null==e?void 0:e.computedTime),null!=e&&e.skipPreviewVerify&&(r.useDebugInsertMode=!0);var n=oVe();n&&(r.dontApplyCache=!n.applyCache),VVe(),qr("responseAIAD",r,[t])}})).catch((e=>{}))})),Yr("rePromptAiAdLoad",(()=>{tUe&&clearTimeout(tUe),bj({title:"智能广告计算中",mask:!0}),tUe=setTimeout((()=>{dj({title:"智能广告计算超时",icon:"error",duration:1500})}),5e3)}));var lUe=!1,cUe=e=>{var t;return lUe||(Yr("getAiadAlgoVer",(e=>{t(e.version)})),lUe=new Promise((e=>{t=e})),qr("getAiadAlgoVer",null,[e])),lUe};Yr("showRecomputeAiad",(e=>{bj({title:e.content,mask:!0})})),Yr("showRecomputeAiadStatus",(e=>{e.previewMode&&(e.result?(_j(),dj({title:e.content,icon:"success"})):(_j(),dj({title:e.content,icon:"error"})))}));var uUe=(e,t)=>{var r=e.ope,n=zUe[t],i=e.type;if(JVe[t]||(JVe[t]={}),"delete"===r){if("virtualPage"===i){if(e.swiperItem>=0){var a=JVe[t].b.findIndex((t=>t===e.swiperItem));-1!==a&&JVe[t].b.splice(a,1)}return Promise.all([Cf(nU)(),cUe()]).then((([r,i])=>(r=Number(r.data),NVe({page:n,ads:[{path:n,platformId:e.platformId,ope:"delete",extraInfo:JVe[t]}],extraInfo:{previewInfos:{appVersion:r,algoVersion:i}},pageExtraInfo:JVe[t]}))))}}else if("add"===r){if("virtualPage"===i)return JVe[t].b||(JVe[t].b=[]),e.swiperItem>=0&&-1===JVe[t].b.findIndex((t=>t===e.swiperItem))&&JVe[t].b.push(e.swiperItem),Promise.all([Cf(nU)(),cUe()]).then((([r,i])=>(r=Number(r.data),NVe({page:n,ads:[{path:n,platformId:e.platformId,ope:"replace",extraInfo:JVe[t]}],extraInfo:{previewInfos:{appVersion:r,algoVersion:i}},pageExtraInfo:JVe[t]}))));if("interstitial"===i)return Promise.all([Cf(nU)(),cUe()]).then((([e,r])=>NVe({page:n,ads:[{path:n,ope:"add",extraStyle:{},key:`interstitalAd-${n}`,platformId:eUe,type:"interstitialAd",vPath:[]}],extraInfo:{previewInfos:{appVersion:e,algoVersion:r}},pageExtraInfo:JVe[t]})))}else{if("modifyStatus"===r)return Promise.all([Cf(nU)(),cUe()]).then((([r,i])=>(r=Number(r.data),NVe({page:n,ads:[{path:n,platformId:e.platformId,ope:"modifyStatus",status:e.status,extraInfo:JVe[t]}],extraInfo:{previewInfos:{appVersion:r,algoVersion:i}},pageExtraInfo:JVe[t]}))));if("toggleType"===r){if(e.platformId)return Promise.all([Cf(nU)(),cUe()]).then((([r,i])=>{r=Number(r.data),JVe[t].typeInfo||(JVe[t].typeInfo={});var a=e.platformId,o=AVe[n].find((e=>e.platformId===a));if(o){var s=o.key;JVe[t].typeInfo[s]=e.type;var l=NVe({page:n,ads:[{path:n,platformId:e.platformId,ope:"toggleType",extraInfo:JVe[t],type:e.type}],extraInfo:{previewInfos:{appVersion:r,algoVersion:i}},pageExtraInfo:JVe[t]});return kt(l)&&l.then((e=>{null!=e&&e.result?qr("adTypeToggleDone",{result:!0},[t]):qr("adTypeToggleDone",{result:!1},[t])})).catch((e=>{_.warn("[aiad error] toggleAdType error: ",e),qr("adTypeToggleDone",{result:!1},[t])})),l}}))}else if("modifyAdVPathInfo"===r)return Promise.all([Cf(nU)(),cUe()]).then((([r,i])=>(r=Number(r.data),NVe({page:n,ads:[{path:n,platformId:e.platformId,ope:"modifyAdVPathInfo",data:e.data,key:e.key}],extraInfo:{previewInfos:{appVersion:r,algoVersion:i}},pageExtraInfo:JVe[t]}))))}};Yr("changeAiAdResult",uUe),Yr("throwAiadException",(({name:e,errMsg:t,stack:r,errorType:n})=>{cUe().then((i=>{var a=[e,t,n,r,i,Mu()].map((e=>{var t;try{t=encodeURIComponent(e)}catch(r){t=e}return t})).join(",");M.reportKeyValue({key:"AiAdError",value:a,immediately:!0})}))})),Yr("sendAiAdResponse",((e,t)=>{WVe(),_.warn(`[aiad perf] aiad inference cost: ${UVe()}, use cache: ${!(!e.applyCompileCache&&!e.applyPreCompileCache)}`);var r=zUe[t],n=e.vPathLists,i=e.applyPreCompileCache,a=e.result,o=e.realInsertCostTime,s=e.cacheCostTime,l=e.alghrithmEndTimestamp,c=e.algorithmStartTimestamp,u=e.invalidCompileCacheApplyList,d=e.existAd,p=e.writeCacheWhenPreview,h=e.swiperItem,f=e.nonExistenceVPathInfos,g=e.shieldCache,v=e.exception,y=e.insertFromPreCompileResult,b=(e.insertFromPreCompileResultKeys||[]).join(","),w=(e.insertFromPreviewCompileResultKeys||[]).join(","),S=e.generalAdAffect,C=e.polyfillHit,k=e.errMsg,I=e.isLandscape,P=e.wxadType,T=e.forceUsePreviewAdType,A=e.waitCost,x=e.emitPhase,E=e.useDebugInsertMode;e.sendType;rUe();var R=!1,D=()=>{$Ve({actionType:"op-100",actionStatus:{hasAIAd:!!a,existAd:!!d},scene:re.appLaunchInfo.scene})},O=(e={})=>{"back"===e.mode&&(D(),pr("onAppEnterBackground",O))};if(Yr("previewDone",(()=>{D()})),p||!0!==LWe()||$Ve({actionType:"calculated",actionStatus:{hasAIAd:!!a,existAd:!!d},scene:re.appLaunchInfo.scene}),_j(),v)(LWe()||E)&&dj({title:"智能广告异常",icon:"error",duration:1500});else{!!HVe[r]||(HVe[r]={result:a}),AUe()&&m.emit("aiadInterstitialAiadLoadDone",MUe()),u.length&&nU({success(e){var t=e.data;u.forEach((e=>{var n=kUe[r].find((t=>t.key===e.key));n?YWe(t,r,n.key):console.error("[aiad error] unexpected remove invalid cache: ",e)}))}});var L=Lt();if(i||y){var N=e.compileCacheApplyList,B=[];if(N.forEach((n=>{var i=kUe[r].find((e=>e.key===n.key));if(i){var o,s=n.platformId,{key:u,__local:d}=i;a&&!d&&B.push({key:u,value:i.value}),uVe(t,s,(e=>{if(2===e.status){QWe({allCostTime:e.timestamp-c,insertResult:a,applyCompileCache:!0,realComputeCostTime:0,algorithmPosition:u,position:n.screen,cacheCostTime:n.cost,sessionId:L,adType:n.adType,page:r,resultType:1,adPullCost:o,inScrollView:n.inScrollView?1:0,platformId:s,cacheComputeResult:!0,isExposure:!0,isPreviewCache:y,isPreload:null!=e&&e.isPreload?1:0,isValidPreload:null!=e&&e.isValidPreload?1:0,illegalExposure:null==e?void 0:e.illegalExposure,type:5,wxadType:e.realType?e.realType:P,requestCost:e.requestCost,preload:e.preload});var i=YVe[r];i&&(i.generalAdShow=!0),Promise.all([Cf(nU)(),cUe()]).then((([t,n])=>{var i,a;t=Number(t.data);var o=YVe[r];ZWe({path:r,appVersion:t,cacheKey:e.cacheKey,validLcpTime:null==o?void 0:o.lcp,clsScore:null==o||null===(i=o.cls)||void 0===i?void 0:i.pageComplexityScore,isLargeShift:null==o||null===(a=o.cls)||void 0===a?void 0:a.isLargeScaleLayoutShift,type:2})})),dVe(t,s)}else if(1===e.status)if(o=e.timestamp-l,e.result){var d=YVe[r];d&&(d.generalAdRequestTime||(d.hasGeneralAdPreload=e.preload,d.generalAdRequestTime=e.requestCost))}else o=-o,QWe({allCostTime:e.timestamp-c,insertResult:a,applyCompileCache:!0,realComputeCostTime:0,algorithmPosition:u,position:n.screen,cacheCostTime:n.cost,sessionId:L,adType:n.adType,page:r,resultType:1,adPullCost:o,inScrollView:n.inScrollView?1:0,platformId:s,cacheComputeResult:!0,isExposure:!1,isPreviewCache:y,type:6,wxadType:e.realType?e.realType:P}),dVe(t,s)})),QWe({allCostTime:e.cacheCostTime,insertResult:a,applyCompileCache:!0,realComputeCostTime:0,algorithmPosition:u,position:n.screen,cacheCostTime:n.cost,sessionId:L,adType:n.adType,page:r,resultType:0,adPullCost:0,inScrollView:n.inScrollView?1:0,platformId:s,cacheComputeResult:!0,isPreviewCache:y,waitCost:A,emitPhase:x,type:7,wxadType:P})}else console.error("[aiad error] unexpected cache: ",n)})),B.length&&lVe(r,B,!0),f.length){var $=kUe[r]||[];$=$.map((e=>{var t=JSON.parse(e.value);return t.key=e.key,t})),f.forEach((e=>{$.push(e)})),lVe(r,$)}}else{if(PUe[t]&&a&&(E||lVe(r,n)),E){if(a)qr("showAiadPreloadSticky",null,[t]),dj({title:a?"智能广告插入成功":"仅支持插入插屏广告",icon:a?"success":"none",duration:1500});else{var F="智能广告插入失败",j=d||S?"当前页面已有广告组件，暂不支持插入智能广告":"当前页面无法插入，请尝试浏览其他页面";p&&(j="已无合适的位置可插入"),I&&(F="横屏小程序仅支持插屏广告预览",j="暂不支持20:7 横幅广告、16:9 横版广告、9:16 竖版广告，建议使用竖屏小程序预览开启智能广告"),ij({title:F,content:j,confirmText:"我知道了",cancelText:"本页不再提示",success(e){e.cancel&&(HVe[r].noPrompt=!0)},__sdk_inner_allowShowMoreLength__:!0})}return}if(LWe()){var W,V=MUe(),U=r.slice(0,r.length-5);if(V.includes(U)&&(W={extraStyle:{},key:`interstitalAd-${r}`,platformId:eUe,type:"interstitialAd",vPath:[]}),a||W)qr("showAiadPreloadSticky",null,[t]),dj({title:a?"智能广告插入成功":"仅支持插入插屏广告",icon:a?"success":"none",duration:1500}),Yr("resetPreviewTimer",(()=>{oUe()})),oUe(),R||(R=!0,cr("onAppEnterBackground",O)),GVe[r]&&(GVe[r].insert=!0),Promise.all([Cf(nU)(),cUe()]).then((([e,i])=>{e=Number(e.data),XVe||(JVe[t]||(JVe[t]={}),p||(JVe[t].previewCache=[]),n.forEach((e=>{var r=e.key,n=JSON.stringify(Object.assign({},e,{key:void 0}));e.extraInfo||(e.extraInfo={}),p?(JVe[t].previewCache[e.platformId-1].value=n,JVe[t].previewCache[e.platformId-1].key=r):JVe[t].previewCache.push({key:r,value:n}),e.extraInfo.previewCache=JVe[t].previewCache}))),g&&(JVe[t]||(JVe[t]={}),JVe[t].preview_shield_list||(JVe[t].preview_shield_list=[]),JVe[t].preview_shield_list.push({key:g.key}),JVe[t].typeInfo&&delete JVe[t].typeInfo[g.key]),a||(n=[]),JVe[t]||(JVe[t]={}),W&&n.push(W),JVe[t].sessionId||(JVe[t].sessionId=yh().sessionId||yh().sessionid||""),JVe[t].helperInfos=KVe[r],JVe[t].algo_version=i,NVe({page:r,ads:n,extraInfo:{previewInfos:{appVersion:e,algoVersion:i}},forceCover:p,pageExtraInfo:JVe[t],coverAds:p,..."number"!=typeof h?{swiperItem:h}:{}})}));else if(!HVe[r].noPrompt){var z="智能广告插入失败",q=d||S?"当前页面已有广告组件，暂不支持插入智能广告":"当前页面无法插入，请尝试浏览其他页面";p&&(q="已无合适的位置可插入"),I&&(z="横屏小程序仅支持插屏广告预览",q="暂不支持20:7 横幅广告、16:9 横版广告、9:16 竖版广告，建议使用竖屏小程序预览开启智能广告"),ij({title:z,content:q,confirmText:"我知道了",cancelText:"本页不再提示",success(e){e.cancel&&(HVe[r].noPrompt=!0)},__sdk_inner_allowShowMoreLength__:!0})}}if(a){if(!n)return;n.forEach((e=>{var n,i=0;"entity"===e.type?i=1:"for"===e.type&&(i=2);var u=e.platformId;uVe(t,u,(d=>{if(2===d.status){QWe({allCostTime:d.timestamp-c,insertResult:a,applyCompileCache:!1,realComputeCostTime:o,sessionId:L,position:e.screen,algorithmPosition:e.key,page:r,resultType:1,adPullCost:n,inScrollView:e.inScrollView,platformId:u,adType:i,cacheCostTime:s,isExposure:!0,isPreviewCache:y,isPreload:null!=d&&d.isPreload?1:0,isValidPreload:null!=d&&d.isValidPreload?1:0,illegalExposure:null==d?void 0:d.illegalExposure,maxExposureRatio:null==d?void 0:d.maxExposureRatio,type:1,wxadType:d.realType?d.realType:P,requestCost:d.requestCost,preload:d.preload});var p=YVe[r];p&&(p.generalAdShow=!0),Promise.all([Cf(nU)(),cUe()]).then((([e,t])=>{var n,i;e=Number(e.data);var a=YVe[r];ZWe({path:r,appVersion:e,cacheKey:d.cacheKey,validLcpTime:null==a?void 0:a.lcp,clsScore:null==a||null===(n=a.cls)||void 0===n?void 0:n.pageComplexityScore,isLargeShift:null==a||null===(i=a.cls)||void 0===i?void 0:i.isLargeScaleLayoutShift,type:2})})),dVe(t,u)}else if(1===d.status)if(n=d.timestamp-l,d.result){var h=YVe[r];h&&(h.generalAdRequestTime||(h.hasGeneralAdPreload=d.preload,h.generalAdRequestTime=d.requestCost))}else n=-n,QWe({allCostTime:d.timestamp-c,insertResult:a,applyCompileCache:!1,realComputeCostTime:o,sessionId:L,position:e.screen,algorithmPosition:e.key,page:r,resultType:1,adPullCost:n,inScrollView:e.inScrollView,platformId:u,adType:i,cacheCostTime:s,isExposure:!1,isPreviewCache:y,type:2,wxadType:d.realType?d.realType:P}),dVe(t,u)})),QWe({allCostTime:o,insertResult:a,applyCompileCache:!1,realComputeCostTime:o,sessionId:L,position:e.screen,algorithmPosition:e.key,page:r,resultType:0,adPullCost:0,inScrollView:e.inScrollView,platformId:u,adType:i,cacheCostTime:s,isPreviewCache:y,wxadType:P,forceUsePreviewAdType:T,waitCost:A,emitPhase:x,type:3})}))}else QWe({allCostTime:o,insertResult:!1,realComputeCostTime:o,sessionId:L,page:r,resultType:0,errMsg:k,type:4,wxadType:P})}LWe()||Promise.all([Cf(nU)(),cUe()]).then((([e])=>{var t;e=Number(e.data),(i||y)&&(t=y?w:b);var o,s,l=YVe[r];!a||t?ZWe({path:r,appVersion:e,usePreviewCache:y,useCache:i,cacheKey:t,insertResult:a,clsScore:null==l||null===(o=l.cls)||void 0===o?void 0:o.pageComplexityScore,validLcpTime:null==l?void 0:l.lcp,isLargeShift:null==l||null===(s=l.cls)||void 0===s?void 0:s.isLargeScaleLayoutShift,type:1}):n.forEach((t=>{var n,o;ZWe({path:r,appVersion:e,usePreviewCache:y,useCache:i,cacheKey:t.key,insertResult:a,clsScore:null==l||null===(n=l.cls)||void 0===n?void 0:n.pageComplexityScore,validLcpTime:null==l?void 0:l.lcp,isLargeShift:null==l||null===(o=l.cls)||void 0===o?void 0:o.isLargeScaleLayoutShift,type:1})}))})),C&&Object.keys(C).forEach((e=>{M.reportIDKey({key:`polyfill_${e}`,type:"aiad"})})),M.reportIDKey({key:"call",type:"aiad"}),a?(M.reportIDKey({key:"call_success",type:"aiad"}),i||y?M.reportIDKey({key:"insert_with_cache",type:"aiad"}):M.reportIDKey({key:"insert_without_cache",type:"aiad"})):M.reportIDKey({key:"call_fail",type:"aiad"}),d&&(M.reportIDKey({key:"try_insert_general_ad",type:"aiad"}),a&&M.reportIDKey({key:"try_insert_general_ad_success",type:"aiad"}))}})),Yr("aiadIllegalExposure",(e=>{}));var dUe={};Yr("currentPageExistMap",((e,t)=>{dUe[t]||(dUe[t]={}),dUe[t].map={exist:!0}})),Yr("webviewInitReady",((e,t)=>{var r=zUe[t];YVe[r]||(YVe[r]={}),YVe[r].lastEnterTime=Date.now()})),m.on("pageOnAppRoute",(({path:e})=>{if(Vh("enableAIAD")){var t=Date.now();e===ZVe?YVe[e]&&(YVe[e].lastEnterTime=t):(YVe[ZVe]?YVe[ZVe].stayTime=t-YVe[ZVe].lastEnterTime:ZVe&&console.error("[aiad error] unexpected page benchmark path: ",ZVe),YVe[e]?YVe[e].lastEnterTime=t:YVe[e]={lastEnterTime:Date.now()}),QVe[e]||(QVe[e]={number:0}),QVe[e].number++,Object.keys(YVe).forEach((t=>{if(t!==e){var r,n=YVe[t];if(n)eVe({path:t,stayTime:n.stayTime?n.stayTime:Date.now()-n.lastEnterTime,hasInterstitialAdPreload:n.hasInterstitialAdPreload,hasInterstitialAdShow:n.hasInterstitialAdShow,interstitialAdRequestTime:n.interstitialAdRequestTime,interstitialAdResult:n.interstitialAdRequestResult,interstitialAdShowDistanceEnter:n.interstitialAdShowDistanceEnter,generalAdShow:n.generalAdShow,generalAdRequestTime:n.generalAdRequestTime,hasGeneralAdPreload:n.hasGeneralAdPreload,entryNumber:null===(r=QVe[t])||void 0===r?void 0:r.number});delete YVe[t]}})),ZVe=e}})),kS((()=>{Vh("enableAIAD")&&Object.keys(YVe).forEach((e=>{var t,r=YVe[e];r&&eVe({path:e,stayTime:r.stayTime?r.stayTime:Date.now()-r.lastEnterTime,hasInterstitialAdPreload:r.hasInterstitialAdPreload,hasInterstitialAdShow:r.hasInterstitialAdShow,interstitialAdRequestTime:r.interstitialAdRequestTime,interstitialAdResult:r.interstitialAdRequestResult,interstitialAdShowDistanceEnter:r.interstitialAdShowDistanceEnter,generalAdShow:r.generalAdShow,generalAdRequestTime:r.generalAdRequestTime,hasGeneralAdPreload:r.hasGeneralAdPreload,entryNumber:null===(t=QVe[e])||void 0===t?void 0:t.number});delete YVe[e]}))})),Yr("aiadPageMark",((e,t)=>{var r=zUe[t],n=e.type,i=e.value;YVe[r]||(YVe[r]={}),"lcp"===n&&(YVe[r].lcp=i.val),"cls"===n&&(YVe[r].cls={isLargeScaleLayoutShift:i.isLargeScaleLayoutShift,pageComplexityScore:i.pageComplexityScore})})),Yr("delayCacheVerifyResult",((e,t)=>{var r=zUe[t],{result:n,distance:i,usePreviewCache:a}=e;ZWe({type:3,path:r,verifyCanUseDistance:i,verifyCanUseResult:n,usePreviewCache:a})}));var pUe=e=>{var t,r;return null===(t=dUe[e])||void 0===t||null===(r=t.map)||void 0===r?void 0:r.exist},hUe=()=>YVe,fUe={},gUe=e=>{fUe=e},vUe=e=>pUe(e),mUe=(e,t)=>{var r=(fUe[e]||[]).concat(fUe["*"]||[]);if(r.length){var n=!1;for(var i of r){if(1===i)if(vUe(t)){n=!0;break}}return n}return!1},yUe=B_(),bUe=s_.WX_COMPILE_PREFIX.path,_Ue="wxfile://ad/cacheAiadMetaInfo.txt",wUe="/aiadMetaInfo.txt",SUe,CUe=!1,kUe={},IUe={},PUe={},TUe=!1,AUe=()=>TUe,xUe=[],EUe=[],MUe=()=>xUe,RUe=()=>{EUe.length&&EUe.includes(L.getCurrentRoutePathWithoutQuery())&&Yr("readyPreloadAiAd",(e=>{var t=2===e.template?"custom":"banner",r=[{type:t,mode:"aiad",adTemplId:"custom"===t?"2-1":"1",realTemplId:"custom"===t?2:void 0,migrateBannerAdTemplId:9}];e.needForType&&e.needEntityType&&("custom"===t?2===e.needForType&&2===e.needEntityType?r.push({type:"custom",mode:"aiad",adTemplId:"2-2",realTemplId:2}):1!==e.needForType&&1!==e.needEntityType||r.push({type:"banner",mode:"aiad",adTemplId:"1",migrateBannerAdTemplId:9}):"banner"===t&&(1===e.needForType&&1===e.needEntityType?r.push({type:"banner",mode:"aiad",adTemplId:"2",migrateBannerAdTemplId:9}):2!==e.needForType&&2!==e.needEntityType||r.push({type:"custom",mode:"aiad",adTemplId:"2-1",realTemplId:2}))),bme(r)}))},DUe=(e,t,r={})=>new Promise(((n,i)=>{var a=()=>{yUe.writeFile({filePath:t,encoding:"utf8",data:JSON.stringify(r),success:()=>{n()},fail:e=>{i(e)}})};yUe.access({path:e,success:()=>{a()},fail:()=>{yUe.mkdir({dirPath:e,success:()=>{a()}})}})})),OUe=()=>{DUe(bUe,bUe+wUe,SUe).then((()=>{DUe("wxfile://ad",_Ue,{lastUseAiadTime:Date.now()})})).catch((e=>{_.error("[aiad infos] cache meta info fail:",e)}))},LUe=function(){var e=Vp()((function*(){var e=IWe(),t=Vh("enableCacheAiadMetaInfos");if(e){if(SWe()){var r=AWe();SUe=r.__apply_release_config__?null:r}}else null===e&&(SUe=null,TWe(!1));if(SUe)return RUe(),SUe;if(CUe)return SUe={},Promise.resolve(SUe);var n=()=>rx({apiName:"webapi_getaiadconfig",reqData:{libVersion:Mu(),single_version_configuration:Vh("aiadUseSingleVersionConfiguration")}}).then((e=>{var r=e.data.info_list;if(wVe&&_.warn("[aiad info] app aiadconfig infos: ",r),!r)return null;r.forEach((e=>{EUe.push(e.path)})),RUe();var n={};r.forEach((e=>{var t=e.path,r="string"==typeof e.path&&e.path.indexOf("?");!1!==r&&-1!==r&&(e.path=t=e.path.slice(0,r)),n[t]=e})),SUe=n,t&&OUe();var i=0,a=[];if(Object.keys(n).forEach((e=>{var t=n[e];if(t.extra_info){var r=JSON.parse(t.extra_info);(r.isInterstitialAd||r.onlyInterstitialAd)&&(i++,a.push(t.path))}})),i>0){var o=Vh("aiadEnablePreviewInterstitialAd");mme(a),o&&a.forEach((e=>{yme(e)}))}if(e.data.extra_info){var s=JSON.parse(e.data.extra_info);SUe.previewInfos=s.previewInfos}return e.data.wait_time&&(SUe.waitTime=e.data.wait_time),SUe})).catch((e=>{_.warn("[aiad error] getAIADMetaInfos error: ",e)}));return t?yield Promise.race([new Promise(((e,t)=>{yUe.readFile({filePath:bUe+wUe,encoding:"utf8",success:r=>{try{SUe=JSON.parse(r.data),e()}catch(e){t(e)}},fail:e=>{t(e)}})})).catch((e=>{_.warn("[aiad info] read aiad meta infos",e)})),n()]).then((e=>{e||_.info("[aiad info] use cache meta info",SUe)})):yield n(),SUe}));return function(){return e.apply(this,arguments)}}(),NUe=()=>rx({sdkApiName:"",apiName:"webapi_getaiadinterstitialrecommend",reqData:{appid:v.accountInfo&&v.accountInfo.appId}}).then((e=>{var t;if(_.info("webapi_getaiadinterstitialrecommend res: ",e),e.data&&null!==(t=e.data.pageinfo_list)&&void 0!==t&&t.length){var r,n=null!==(r=e.data.strategy_list)&&void 0!==r?r:[];return{paths:e.data.pageinfo_list,strategies:n}}return{paths:[],strategies:[]}})).catch((e=>{if(e)return _.warn("webapi_getaiadinterstitialrecommend error: ",e),e})),BUe=!1,$Ue=()=>BUe,FUe=(e,t,r)=>{var n=e,i=()=>Promise.all([LUe(),cUe(t)]).then((([i,a])=>{if(null!=r&&r.skipPreviewVerify&&(i={"**":!0}),!i)return null;var o,s,l=[],c=[];return i[n]?(PUe[t]=!0,jUe(n,i.previewInfos,a).then((e=>{wVe&&_.warn("[aiad debug] getCompileInfos res: ",e),l=null==e?void 0:e.infos,o=null==e?void 0:e.cacheStrategy,c=null==e?void 0:e.shieldInfos,s=null==e?void 0:e.useDynamicCache})).catch((e=>{_.warn("[aiad system] getCompileInfo error:",e,n)})).then((()=>{if(i[n]){var e={};if(i[n].extra_info)try{e=JSON.parse(i[n].extra_info)}catch(e){_.warn("[aiad error] unexpected path extraInfo: ",n)}if(wVe&&SVe&&_.warn("[aiad debug] current pageExtraInfoObj: ",e," compileInfos: ",l),(e.isInterstitialAd||e.onlyInterstitialAd)&&m.emit("emitInterstitialAiad",{path:n}),e.onlyInterstitialAd)return;return{compileInfos:l,useReleaseAd:!0,cacheStrategy:o,pageExtraInfo:i[n].extra_info,shieldInfos:c,useDynamicCache:s,...i.waitTime?{waitTime:i.waitTime}:{}}}}))):i["*"]?{unitId:CWe(),cacheStrategy:{applyCache:!1,computed:!0,writeCache:!1,forceWriteCache:!1}}:i["**"]?(BUe=!0,NUe().then((t=>{var{paths:r,strategies:n}=t;Array.isArray(r)&&(r.forEach((e=>{-1===xUe.indexOf(e.pagepath)&&xUe.push(e.pagepath)})),TUe||(TUe=!0,HVe[e]&&m.emit("aiadInterstitialAiadLoadDone",xUe))),null!=n&&n.length&&gUe({"*":n})})),VUe(e).then((t=>(wVe&&_.warn("[aiad debug] currentPathMaybeWaterfall: ",t),KVe[e]=t,{unitId:void 0,useReleaseAd:!0,cacheStrategy:{applyCache:!1,computed:!0,writeCache:!1,forceWriteCache:!1},helperInfos:{waterfall:t}})))):null})),a=(null==r?void 0:r.skipPreviewVerify)||LWe();return kt(a)?a.then((e=>IWe()?(!0===e&&qr("enableAiadPreload",null,[t]),i()):Promise.resolve(null))):null!=r&&r.skipPreviewVerify?i():IWe()?(!0===a&&qr("enableAiadPreload",null,[t]),i()):Promise.resolve(null)},jUe=(e,t,r)=>{var n=kUe[e],i=IUe[e];if(n){var a=[],o=[];n.forEach((e=>{a.push({key:e.key,val:e.value,isPreview:e.isPreview}),e.__local=!0})),i&&i.forEach((e=>{o.push({key:e.key,value:e.value,isPreview:e.isPreview})}));var s={cacheStrategy:oVe(),infos:a,shieldInfos:o};return Promise.resolve(s)}return new Promise((n=>{nU({success(i){var a=i.data;JWe(a).then((i=>{if(i&&(i=i[e]),(i=[])&&i.length){var o=[],s=oVe();s||(s=rVe(a,t,i,r),sVe(s)),kUe[e]||(kUe[e]=[]),i.forEach((({key:t,value:r,isPreview:n})=>{kUe[e].push({key:t,value:r,isPreview:n,__local:!0}),o.push({key:t,val:r,isPreview:n}),o.push(r)})),n({infos:o,cacheStrategy:s})}else{var l=Vh("forceUsePreloadVersion"),c=Vh("aiadUseDynamicUsrCache");rx({sdkApiName:"",apiName:"webapi_getaiadtempcache",reqData:{page:e,version:"trial"===re.envVersion?999999:Number(a),forceUsePreloadVersion:l,useDynamicCache:c,single_version_configuration:Vh("aiadUseSingleVersionConfiguration")}}).then((i=>{var o,s=[],l=[];if(i.errno||i.err_code);else{var u=i.data.shield_list,d=i.data.value_list||[];(o=oVe())||(o=rVe(a,t,i.data,r),sVe(o)),u&&u.forEach((t=>{t.key&&(l.push({key:t.key,val:t.value,isPreview:t.is_preview}),IUe[e]||(IUe[e]=[]),IUe[e].push({key:t.key,value:t.value,isPreview:t.is_preview}))})),d.forEach((t=>{t.key&&t.value&&(!c||i.data.canUseCache||t.is_preview)&&(s.push({val:t.value,key:t.key,isPreview:t.is_preview,...c&&!t.is_preview?{score:t.score}:{}}),kUe[e]||(kUe[e]=[]),kUe[e].push({key:t.key,value:t.value,isPreview:t.is_preview}))}))}return n({infos:s,cacheStrategy:o,shieldInfos:l,useDynamicCache:c})})).catch((e=>{_.warn("[aiad system] webapi_getaiadtempcache fail: ",e),n()}))}}))}})}))},WUe=(e,t,r,n=!1)=>{var i;(i=Vp()((function*(){for(var n of t)yield XWe(r,e,n)})),function(){return i.apply(this,arguments)})();var a=[];t.forEach(function(){var e=Vp()((function*(e){var t=e.key;t||_.warn("[aiad system] write cache info not set key");var r=JSON.stringify(Object.assign({},e,{key:void 0}));kUe[t]=r,n||a.push({key:t,value:r})}));return function(t){return e.apply(this,arguments)}}()),a.length&&cUe().then((t=>{var n,i=null===(n=oVe())||void 0===n?void 0:n.forceWriteCache;_.info("[aiad info] set temp cache: ",a,Number(r)),rx({sdkApiName:"",apiName:"webapi_setaiadtempcache",reqData:{page:e,value_list:a,version:Number(r),algorithm_version:t,force_update:!!i,single_version_configuration:Vh("aiadUseSingleVersionConfiguration")}}).then((e=>{})).catch((e=>{_.warn("[aiad system] setCompileInfos error: ",e)}))}))},VUe=e=>new Promise((t=>{rx({sdkApiName:"getaiadrawpageview",apiName:"webapi_getaiadrawpageview",reqData:{info_list:[{path:e,screen:100,scrollviewId:0},{path:e,screen:180,scrollviewId:0}]}}).then((e=>{var r;if(wVe&&_.warn("[aiad request] webapi_getaiadrawpageview res: ",e),null!==(r=e.data)&&void 0!==r&&r.pageviews){var n,i,a=null===(n=e.data.pageviews[0])||void 0===n?void 0:n.pageview,o=null===(i=e.data.pageviews[1])||void 0===i?void 0:i.pageview;if(void 0===a||void 0===o)return t({result:!0});if(a>150&&0===o)return t({result:!1});if(a>=150&&a<1e3)return t(o/a>.05?{result:!0,strong:!0}:{result:!0,strong:!1});if(a>=1e3&&a<1e4)return t(o/a>.04?{result:!0,strong:!0}:{result:!0,strong:!1});if(a>=1e4)return t({result:!0,strong:!1});t({result:!0})}else t({result:!0})})).catch((e=>{_.warn("webapi_getaiadrawpageview error: ",e),t({result:!0})}))})),UUe=new Set,zUe={};function qUe(){return UUe}var HUe=!1;re.onReady((()=>{eg({success(e){"wifi"!==e.networkType&&"4g"!==e.networkType&&"5g"!==e.networkType||(HUe=!0,Yr("tracePageHeight",((e,t)=>{"scrollview"===e.type||"scrollview-update"===e.type?(uWe[t]||(uWe[t]={}),e.scrollviewIdx&&(uWe[t][e.scrollviewIdx]||(uWe[t][e.scrollviewIdx]={}),"scrollview"===e.type?uWe[t][e.scrollviewIdx].initHeight=e.data:(uWe[t][e.scrollviewIdx].maxHeight=e.data,uWe[t][e.scrollviewIdx].scrollHeight=e.extra.currentScrollTop))):(cWe[t]||(cWe[t]={}),cWe[t].initHeight=e.height)})))}})}));var GUe=[],KUe;m.on("aiadInterstitialAiadLoadDone",(e=>{_.warn("aiadInterstitialAiadLoadDone emit"),KUe=e,GUe.forEach((t=>{t(e)})),GUe=[]}));var JUe=(e,t)=>()=>{if(XUe===e){var r=e.slice(0,e.length-5);if(KUe.includes(r))m.emit("emitInterstitialAiad",{webviewId:t});else mUe(e,t)&&m.emit("emitInterstitialAiad",{webviewId:t,ope:"add"})}},XUe,YUe;function QUe(e,t){var r=nr(`${e}:BeforeAppRoute`),n=nr(`${e}:AppRoute`),i=nr(`${e}:AppRouteDone`),a=nr(`${e}:BeforePageLoad`),o=nr(`${e}:AfterPageLoad`),s=nr(`${e}:BeforePageUnload`),l=nr(`${e}:AfterPageUnload`),c=e.split("/")[0];t.wx.onBeforeAppRoute=e=>{r.onMethod(e)},t.wx.offBeforeAppRoute=()=>{r.offMethod()},$H[`${e}`]=e=>{var t=Zw(e);t.path=Od(t.path),delete t.timeStamp,r.emit(eS(t,c))},t.wx.onAppRoute=e=>{n.onMethod(e)},t.wx.offAppRoute=()=>{n.offMethod()},FH[`${e}`]=e=>{var t=Zw(e);t.path=Od(t.path),n.emit(eS(t,c))},t.wx.onAppRouteDone=e=>{i.onMethod(e)},t.wx.offAppRouteDone=()=>{i.offMethod()},jH[`${e}`]=e=>{var t=ZH(e);t.path=Od(t.path),i.emit(eG(t,c))},t.wx.onBeforePageLoad=e=>{a.onMethod(e)},t.wx.offBeforePageLoad=()=>{a.offMethod()},WH[`${e}`]=e=>{a.emit(kH(e,c))},t.wx.onAfterPageLoad=e=>{o.onMethod(e)},t.wx.offAfterPageLoad=()=>{o.offMethod()},VH[`${e}`]=e=>{o.emit(kH(e,c))},t.wx.onBeforePageUnload=e=>{s.onMethod(e)},t.wx.offBeforePageUnload=()=>{s.offMethod()},UH[`${e}`]=e=>{s.emit(kH(e,c))},t.wx.onAfterPageUnload=e=>{l.onMethod(e)},t.wx.offAfterPageUnload=()=>{l.offMethod()},zH[`${e}`]=e=>{l.emit(kH(e,c))}}cr("onAppRoute",Yj.useTracedEnd(((e,t=0)=>{var r,n,i,a;e.__ts__=Date.now(),e.routeEventId=(null===(r=e.qualityData)||void 0===r?void 0:r.navId)||`${e.webviewId}_${e.__ts__}`,QH.set(Od(e.path),e.routeEventId);var o=null==e||null===(n=e.singlePageData)||void 0===n?void 0:n.pageId;if(t=void 0!==o?o:void 0!==e.webviewId?e.webviewId:t,e.webviewId=t,Yj.traceBeginEvent("Framework",`AppRoute#${e.openType}`,e),re.appLaunchInfo&&re.appLaunchInfo.inBackground&&"appLaunch"===e.openType)return $x(!0),void WG(!0);Fx()&&"autoReLaunch"===e.openType&&(e.openType="appLaunch",setTimeout((()=>$x(!1)),0)),_.info(`[WABaseLib.Critical] onAppRoute with webviewId=${t}, res=${JSON.stringify(e)} ${Date.now()}`),Pu.appRoute=!0,Pu.appRouteDone=!1;var s=iB(e,t);if(!s.rewritten){if(s.triggerNotFound){M.reportIDKey({key:"pageNotFound",force:!0});var c=e.path;if(ZN(e,t),"string"==typeof c&&!c.endsWith(".html")&&e.notFound)return void _.warn(`path: "${c}", .html suffix is required`)}if(e.renderer=e.renderer||"webview",qH(e),void 0!==L){L.checkIsWebviewPageDetach();var u=e.query;if(L.traceRoutePathWithoutQuery(e.path),"appLaunch"===e.openType)if(CVe()?OWe(!0,e.renderer):"1"===u.__platform_aiad_preview&&u.__platform_expire_time>Date.now()&&("1"===u.__use_incremental_add&&LVe(!0),OWe(!1,e.renderer)),Vh("enableAIAD")&&Vh("aiadEnablePreviewInterstitialAd")){var d=L.getCurrentRoutePathWithoutQuery();d.endsWith(".html")&&(d=d.slice(0,-5)),yme(d)}var p=L.getCurrentRoutePathWithoutQuery();if(p){var h=L.endTraceLastRouteStayTime();vWe(YUe,{path:p,stayTime:h}),hWe(),fWe()}YUe=t,HUe&&(setTimeout((()=>{qr("needTracePageHeight",{},[t])}),2e3),qr("needTracePageHeightScrollview",{},[t])),L.startTraceLastRouteStayTime();var f=L.getSafeRoutePath(e.path,u,re.appLaunchInfo.scene);L.traceRoutePath(f),L.traceFullyRoutePath(e.path,u),L.updateWebviewPageInfo(),zUe[t]=e.path;try{m.emit("pageOnAppRoute",{path:L.getCurrentRoutePathWithoutQuery()})}catch(e){_.warn("pageOnAppRoute error: ",e)}}XUe=e.path,KUe?$Ue()?GUe.push(JUe(XUe,t)):JUe(XUe,t)():GUe.push(JUe(XUe,t)),e.path=Od(e.path),Fr(t,e.renderer),su.pageRenderer=e.renderer;var g="skyline"===e.renderer?"glass-easel":"exparser";yr.setComponentFramework(t,g),e.overrideEntryPagePath&&console.info(`For developer: Entry page path has been overridden: ${e.path}`),B.chooseRenderMode(e.renderer);var v,y=su.singlePageData||{},b=-2147483648,w=void 0,S=su.currentWebviewId;if("skyline"===e.renderer)b=(y=null!==(v=e.singlePageData)&&void 0!==v?v:{}).windowId;if("navigateTo"===e.openType&&y.routeType){var C=B.genRouteConfig({windowId:b,pageId:t,routeType:y.routeType,routeOptions:y.routeOptions,externalRouteConfig:y.routeConfig});w=C?aDe(C):void 0}if(su.singlePageData={},null!=re&&null!==(i=re.tabBar)&&void 0!==i&&i.custom){var k=e.openType;if("appLaunch"===k||"reLaunch"===k||"autoReLaunch"===k){var I=()=>{Hr("initTabBar",e,[gr.SCL_TABBAR_VIEW_ID])};URe(re.tabBar)?zRe().then(I):I()}}if("dismissPip"!==e.openType&&(su.lastRoute=e.path||"",su.lastRawQuery=JSON.parse(JSON.stringify(e.query||{}))),su.lastOpenType=e.openType,["appLaunch","autoReLaunch"].includes(e.openType)&&UUe.add(t),!UUe.has(t))for(var P in e.query)try{e.query[P]=decodeURIComponent(e.query[P])}catch(e){}if("dismissPip"!==e.openType&&(_.info("[onAppRoute] set global query"),su.query=e.query,su.rawPath=e.rawPath,_.info("[onAppRoute] set global currentWebviewId to "+t),su.currentWebviewId=t),void 0!==l&&l.features&&l.features.pruneWxConfigByPage){var T=e.preloadRule||re._preloadRule&&re._preloadRule[e.path],A=e.page||re._page&&re._page[e.path+".html"];if(T&&(re.updatePreloadRule(e.path,T),e.preloadRule,re.preloadRule),A){var x=re.global&&re.global.window||{};A.window=Object.assign({},x,A.window),L.traceRawRoutePath(e.path),re.updatePage(e.path,A),e.page,re.page}}var E=su.getWebviewIds();E.includes(e.webviewId)||E.push(e.webviewId),qr("onAppRoute",e,E),$$(),X$(),mp.emitter.emit("onAppRoute",e);var R=()=>{try{Yj.traceBeginEvent("Framework","onAppRouteCallback",e),e.timeStamp=e.__ts__,HH(e)}finally{Yj.traceEndEvent()}};if(["autoReLaunch","reLaunch"].includes(e.openType)){var O,N=null===(O=D)||void 0===O?void 0:O.getEnv();null==N||N.tabBarManager.reset(),null==N||N.appBarManager.reset()}if("glass-easel"===g){var $,F=!1,j=null===($=re.tabBar)||void 0===$?void 0:$.custom;re.tabBar&&Array.isArray(re.tabBar.list)&&re.tabBar.list.forEach((t=>{Od(t.pagePath)===e.path&&(F=!0)}));var W={windowId:b,pageId:o,prevPageId:S,routeConfigId:w,path:e.path,openType:e.openType,isTab:F},V=D.getEnv();if(0===V.totalStaticConfigCount()){var U="No any glass-easel component configs found in space, "+(Ce?"update devtool to run glass-easel":"may be not a valid code package");return void M.thirdErrorReport({error:new Error(U)})}var z,q=V.newAdapterPage(e.webviewId);if(F&&j){var H,G=V.tabBarManager.createTabBar((null===(H=re.tabBar)||void 0===H?void 0:H.renderer)||e.renderer||"webview");q.setTabBarId(G)}if(re.appBar)if("skyline"===e.renderer)null!==(z=SkylineGlobal)&&void 0!==z&&z.AppBarContext?(V.appBarManager.createAppBar(b),q.setAppBarOwnerWindowId(b)):console.info("For developer: <app-bar> component is not yet supported in the current skyline version");else console.info("For developer: <app-bar> component can only be used in skyline render mode");q.init(W,R)}else R();"appLaunch"!==e.openType&&"boolean"==typeof(null===(a=e.qualityData)||void 0===a?void 0:a.isWebviewPreload)&&(M.reportFrameworkIDKey(7),M.reportFrameworkIDKey(e.qualityData.isWebviewPreload?8:9))}})));var ZUe=(e,t)=>{fd("getAppConfig",e,t)},eze=function(e){Ut("onAppConfig",e)},tze=function(e){Ut("onPullDownRefresh",e)},rze=function(e){Ut("onShareAppMessage",e)},nze=function(e){Ut("onAddToFavorites",e)},ize=function(e){Ut("onStartHandoff",e)},aze=(e,t)=>{fd("addToFavorites",e,t)},oze=(e,t)=>{qr("analyticsConfig",e,t)},sze=(e,t)=>{fd("reportRealtimeAction",e,t)},lze=(e,t)=>{fd("shareAppMessage",e,t)},cze=(e,t)=>{fd("shareAppMessageDirectly",e,t)},uze=(e,t)=>{fd("shareAppMessageToSpecificContactDirectly",e,t)},dze=(e,t)=>{fd("shareAppMessageForFakeNative",e,t)},pze=(e,t)=>{fd("shareAppMessageToSpecificContactForFakeNativeDirectly",e,t)},hze=(e,t)=>{fd("checkHandoffEnabled",e,t)},fze=e=>{Yr("recycleStatistics",e)},gze=e=>{Yr("savePageState",e)},vze=e=>{Yr("tapShareButton",e)},mze=e=>{Yr("tapHandoffButton",e)},yze=e=>{Yr("tapShareTimeLineButton",e)},bze=(e,t)=>{fd("showUpdatableMessageSubscribeButton",e,t)},_ze=e=>Ut("onShareTimeline",e),wze=(e,t)=>fd("shareTimeline",e,t),Sze=e=>fd("showShareTimelineMenu",e),Cze=vF,kze=U9,Ize=V9,Pze=fp,Tze=AE,Aze=xE,xze=function(e){TE.call(this,e)},Eze=tW,Mze=(e,t)=>{qr("functionalPage",e,t)},Rze=(e,t)=>{qr("pageScrollTo",e,t)},Dze=(e,t)=>{qr("telecontrol",e,t)},Oze=(e,t)=>{qr("__updateAppData",e,t)},Lze=e=>{Yr("subjectChangeInfo",e)},Nze=e=>{tx({apiName:"webapi_report_data",reqData:e})},Bze=e=>{qr(`emitPage${e}`)},$ze=(e,t={})=>{tx({apiName:"webapi_reportwxacityservicescreenshot",reqData:{report_type:2,...e},...t})},Fze=e=>{fd("getConnectedWifi",e)},jze=e=>{fd("startWifi",e)},Wze=(e="")=>MR().SHA1(e).toString(),Vze=()=>re.subPackages||re.subpackages,Uze=f(405),zze=f.n(Uze),qze=Object.prototype.hasOwnProperty;function Hze(e,t){Object.keys(e).forEach((r=>{var n=e[r];n instanceof RegExp?t[r]=n.toString():"object"==typeof n&&null!==n?(t[r]={},Hze(n,t[r])):t[r]=n}))}function Gze(e){var t={};return Hze(e,t),zze()(JSON.stringify(t))}function Kze({url:e,method:t,data:r=""}){return r&&(r=JSON.stringify(r)),`${t}-${e}-${r}`}function Jze(e,t){return zze()(`${e}|${t}`)}function Xze(e){return zze()("string"==typeof e?e:JSON.stringify(e))}function Yze(e){if(e){var t=e.split("/"),r=[],n=t.map((e=>":"===e[0]?(r.push(e),"(\\w+)"):e)).join("/");return{params:r,regExp:new RegExp(`^${n}$`,"ig")}}}function Qze(e){if(e)return Object.keys(e).map((t=>({key:t,value:e[t]})))}function Zze(e,t,r,n){if(void 0!==t){if("function"==typeof t)return t(r);if(t instanceof RegExp)return r=null==r?"":r.toString(),t.test(r);if("object"===e)return rqe(t,r,n);if(r!==t)return!1}return!0}function eqe(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===e?e:"object"===t?{}:void 0}function tqe({type:e="any",value:t},r,n,i){var a,o=-1!==e.indexOf("[]"),s=Array.isArray(n);if(e=e.replace("[]",""),o&&!s)return!1;if(o&&"any"!==e){a=typeof n[0];for(var l=1,c=n.length;l<c;l++)if(typeof n[l]!==a)return!1}else a=typeof n;var u=o?n[0]:n;if("any"!==e)switch(e){case"string":case"number":case"boolean":if(a!==e)return!1;break;case"null":if(null!==u)return!1;break;case"object":if(a!==e||Array.isArray(u)||null===u)return!1}if(o){i[r]=[];for(var d=0,p=n.length;d<p;d++){var h=eqe(n[d]);if(!Zze(e,t,n[d],h))return!1;i[r].push(h)}}else{var f=eqe(n);if(!Zze(e,t,n,f))return!1;i[r]=f}return!0}function rqe(e,t,r){if(!Array.isArray(e))return!1;for(var n=0,i=e.length;n<i;n++){var{name:a,schema:o}=e[n];if(a&&o){if(!qze.call(t,a))return!1;var s=t[a];if(Array.isArray(o)){for(var l=!1,c=0,u=o.length;c<u;c++){if(l=tqe(o[c],a,s,r))break}if(!l)return!1}else if("object"==typeof o&&!tqe(o,a,s,r))return!1}}return!0}function nqe(){var e=null,t=null,r=r=>{if(e){for(var n=e;n.next&&n.time<r.time;)n=n.next;n.next?n.time>=r.time&&(r.next=n,r.prev=n.prev,n.prev&&(n.prev.next=r),n.prev=r,n===e&&(e=r)):(n.next=r,r.prev=n,r.next=null,t=r)}else e=r,t=r},n=r=>{var n=(t=>{if(e)for(var r=e;r;){if(r.key===t)return r;r=r.next}})(r);if(n){var{prev:i,next:a}=n;return i&&(i.next=a),a&&(a.prev=i),n===e&&(e=a),n===t&&(t=i),n.prev=n.next=null,n}};return{addMap:e=>{for(var t=Object.keys(e),n=0,i=t.length;n<i;n++){var a=t[n];r({key:a,time:e[a][1]})}},add:(r,i)=>{var a=n(r)||{key:r};a.time=i,e?(t.next=a,a.prev=t,t=a):(e=a,t=a)},del:n,each:t=>{if(e)for(var r=e;r;)t(r.key),r=r.next},eliminate:r=>{for(var n=[];e&&r;)n.push(e.key),e=e.next,r--;return e?e.prev=null:t=null,n}}}var iqe=hke.cache,aqe=nqe(),oqe={};function sqe(e,t,r){aqe.add(t,r),oqe[t]=[e,r],iqe.setStorage({key:"cache|meta",data:oqe})}function lqe(e,t){var r=Jze(e,t);iqe.removeStorage({key:r,success(){aqe.del(r),delete oqe[r],iqe.setStorage({key:"cache|meta",data:oqe})}})}function cqe(e,t){var r=e.length,n=0,i=()=>{++n>=r&&(iqe.setStorage({key:"cache|meta",data:oqe}),t&&t())};e.forEach((e=>{iqe.removeStorage({key:e,success(){aqe.del(e),delete oqe[e],i()},fail:i})}))}function uqe(e){var t=[];aqe.each((r=>{oqe[r][0]===e&&t.push(r)})),t&&t.length&&cqe(t)}function dqe(e){iqe.getStorageInfo({success(t){var{keys:r,currentSize:n,limitSize:i}=t;if(r.length>100||n>.66*i){var a=aqe.eliminate(5);a.length?cqe(a,e):e()}else e()}})}function pqe(e,t,r,n){iqe.setStorage({key:t,data:r,success:()=>sqe(e,t,n)})}function hqe(e,t){var r=Date.now(),n=e.rule.id,i=Kze(e),a=Jze(n,i);dqe((()=>pqe(n,a,t,r)))}function fqe(e){var t=e.rule.id,r=Kze(e),n=Jze(t,r);try{var i=iqe.getStorageSync(n);if(i){var a=Date.now(),o=e.rule.maxAge;if(a-i.ts<o)return sqe(t,n,a),{cacheId:r,...i};iqe.removeStorage({key:n,success:()=>lqe(t,r)})}else iqe.removeStorage({key:n})}catch(e){}return null}function gqe(e,t={},r,n){var i=`cache|${e}`;t=Xze(t),dqe((()=>{iqe.setStorage({key:i,data:{args:t,data:r,expire:n}})}))}function vqe(e,t){var r=`cache|${e}`;t=Xze(t);try{var n=iqe.getStorageSync(r);return!n||n.args!==t||Date.now()>n.expire?void iqe.removeStorage({key:r}):n.data}catch(e){}return null}re.onReady((()=>{iqe.getStorage({key:"cache|meta",success:e=>{e&&(oqe=e.data,aqe.addMap(oqe)),iqe.getStorageInfo({success(e){e.keys.forEach((e=>{0!==e.indexOf("cache|")&&(oqe[e]||iqe.removeStorage({key:e}))}))}})}})}));var mqe=Object.prototype.hasOwnProperty,yqe=new WeakMap;function bqe(){var e=new Map,t={},r=NY.WEAK_NETWORK,n=LY.UNKNOWN,i="",a=$Y,o=t=>{if("string"==typeof t){var r=t.split(/\s+/gi);if(1===r.length)return o({url:r[0]});if(2===r.length)return o({url:r[1],method:r[0]})}else{if(t instanceof RegExp)return o({url:t});if("object"==typeof t){var{id:n,method:s,url:l}=t,c=l instanceof RegExp;if(n="string"==typeof n?n.trim():null,s="string"==typeof s&&s.trim().toUpperCase()||"ALL",l=c?l:"string"==typeof l?l.trim():null,n&&e.has(n))return;if(-1===BY.indexOf(s))return;if(!l)return;var u={};if(c)u={isRegExp:c,regExp:l};else{if(-1===l.indexOf("://")&&("/"!==l[0]&&(l=`/${l}`),l=i+l),-1===l.indexOf("://"))return;var{protocol:d,host:p,path:h,query:f}=Nd(l);u={isRegExp:c,protocol:d,host:p,path:Yze(h),query:Qze(f)}}if(u.method=s,u.dataSchema=t.dataSchema,u.maxAge=Math.min(t.maxAge||a,FY),!n&&(n=Gze(u),e.has(n)))return;return u.id=n,u}}},s=(t,r,n="GET")=>{var a,o=e.values();n=n.toUpperCase();var{protocol:s,host:l,path:c,query:u}=Nd(t),d=`${s}://${l}`,p=[],h={};for(var f of o)if("ALL"===f.method||f.method===n){if(f.isRegExp){f.regExp.lastIndex=0;var g=f.regExp.exec(t);if(!g){if(i!==d)continue;if(f.regExp.lastIndex=0,!(g=f.regExp.exec(t.replace(`${s}://${l}`))))continue}}else{if(s!==f.protocol)continue;if(l!==f.host)continue;if(f.path.regExp.lastIndex=0,!f.path.regExp.exec(c))continue;if(f.query){var v=!0;for(var m of(p.length=0,f.query)){var{key:y,value:b}=m;if(!u||!mqe.call(u,y)||b&&u[y]!==b){v=!1;break}var _=b||u[y];p.push(`${y}${_?"="+encodeURIComponent(_):""}`)}if(!v)continue}}if(f.dataSchema){if(!r||"object"!=typeof r)continue;if(!rqe(f.dataSchema,r,h))continue}a=f;break}if(a)return{rule:a,url:`${d}${c}${p.length?"?"+p.join("&"):""}`,data:h,method:n}},l={start:()=>{n=LY.ON},stop:()=>{n=LY.OFF},config:(e={})=>{i=e.origin||"",r=e.mode||NY.WEAK_NETWORK,a=Math.min(e.maxAge||$Y,FY),r===NY.ALWAYS&&l.start()},emit:(e,r)=>{var n=t[e],i=[];if(n&&n.length)for(var a=n.length-1;a>=0;a--){var o=n[a];o=E.surroundThirdByTryCatch(o,`at cache's ${e} event callback function`),i.push(o(r))}return i},checkNeedStore:(e,t,r,n)=>{try{n=JSON.stringify(n)}catch(e){}Promise.resolve().then((()=>{var i=s(e,t,r);i&&hqe(i,{ts:Date.now(),res:n})}))}},c=t=>{if(Array.isArray(t)){var r=[];return t.forEach((t=>{var n=o(t);if(n){var i=n.id;e.set(i,n),r.push(i)}else r.push(null)})),r}},u=t=>{Array.isArray(t)&&t.forEach((t=>{e.has(t)&&(e.delete(t),uqe(t))}))},d=()=>{var t=e.keys();for(var r of t)uqe(r)},p={set mode(e){r=e||NY.WEAK_NETWORK},get mode(){return r},set origin(e){i=e||""},get origin(){return i},set maxAge(e){a=e||$Y},get maxAge(){return a},get state(){return n},addRules:c,addRule:e=>c([e])[0],deleteRules:u,deleteRule:e=>{u([e])},clearRules:()=>{d(),e.clear()},on:(e,r)=>{"string"==typeof e&&"function"==typeof r&&(e=e.trim())&&(t[e]=t[e]||[],t[e].push(r))},off:(e,r)=>{if("string"==typeof e&&"function"==typeof r&&(e=e.trim())){var n=t[e];if(n&&n.length){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}}},start:()=>{r===NY.NONE&&l.start()},stop:()=>{r===NY.NONE&&l.stop()},match:e=>{var{url:t,data:r,method:n}=e,i=s(t,r,n);if(i){var a={};a.ruleId=i.rule.id,a.maxAge=i.rule.maxAge;var o=fqe(i);if(o){var{cacheId:l,ts:c,res:u}=o;a.cacheId=l,a.createTime=c,a.data=u;try{a.data=JSON.parse(a.data)}catch(e){}"object"==typeof u&&(u.fromCache=!0)}return uQ(!!o),a}uQ(!1)},deleteCaches:t=>{if(Array.isArray(t)){var r=e.keys(),n=function(e){t.forEach((t=>lqe(e,t)))};for(var i of r)n(i)}},deleteCache:t=>{var r=e.keys();for(var n of r)lqe(n,t)},clearCaches:d};return yqe.set(p,l),p}var _qe=bqe(),wqe=yqe.get(_qe),Sqe="\nmessage SKBuiltinString_t {\n  optional string String = 1;\n}\n\nmessage BaseRequest {\n  required bytes SessionKey = 1;\n  required uint32 Uin = 2;\n  required bytes DeviceID = 3;\n  required int32 ClientVersion = 4;\n  required bytes DeviceType = 5;\n  optional uint32 Scene = 6;\n}\n\nmessage BaseResponse {\n  required int32 Ret = 1;\n  required SKBuiltinString_t ErrMsg = 2;\n}\n",Cqe=`\n${Sqe}\nmessage JSAPIBaseResponse {\n\toptional int32 errcode = 1;\n\toptional string errmsg = 2;\n}\n\nmessage ScopeInfo\n{\n\toptional string scope = 1;\n\toptional string desc = 2;\n\toptional uint32 auth_state = 3;\n  optional string ext_desc = 4;\n  optional string auth_desc = 5;\n\toptional string sub_desc = 6;\n\toptional string auth_wording = 7;\n}\n\nmessage WxaExternalInfo\n{\n\toptional string host_appid = 1;\n\toptional uint32 scene = 2;\n\toptional uint32 source_env = 3;\n}\n\nmessage WxaPluginAppInfo\n{\n\toptional string plugin_appid = 1;\n\toptional string custom_version = 2;\n\toptional uint32 inner_version = 3;\n}\n\nmessage JSAuthorizeRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 version_type = 4;\n\toptional WxaExternalInfo ext_info = 5;\n\toptional string jsapi_name = 6;\n\toptional WxaPluginAppInfo plugin_info = 7;\n}\n\nmessage JSAuthorizeResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeInfo scope_list = 3;\n\toptional string appname = 4;\n\toptional string appicon_url = 5;\n\toptional string cancel_wording = 6;\n\toptional string allow_wording = 7;\n\toptional string apply_wording = 8;\n\toptional AlertPrivacyInfo privacy_info = 9;\n\toptional string jsapi_scope = 11;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 12;\n}\n\nmessage ScopeRiskWxaAppInfo\n{\n\toptional string username = 1;\n\toptional string path = 2;\n\toptional uint32 version = 3;\n\toptional uint32 scene = 4;\n\toptional uint32 type = 5;\n}\n\nmessage ScopeRiskPopUpInfo\n{\n\toptional int32 route_type = 1;\n\toptional bytes wording = 2;\n\toptional bytes left_button_wording = 3;\n\toptional bytes right_button_wording = 4;\n\toptional bytes right_button_h5_url = 5;\n\toptional ScopeRiskWxaAppInfo wxa_app_info = 6;\n\toptional int32 native_route_type = 7;\n}\n\nmessage ScopeRiskInfo\n{\n\toptional string scope = 1;\n\toptional ScopeRiskPopUpInfo risk_popup_info = 2;\n}\n\nmessage UserPrivacyProtectInfo\n{\n\toptional bool need_show = 1;\n\toptional string wording = 2;\n}\n\nmessage JSAuthorizeConfirmRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\trepeated string scope = 3;\n\toptional uint32 opt = 4;\n\toptional uint32 version_type = 5;\n\toptional WxaExternalInfo ext_info = 6;\n\toptional bool privacy_protect_info_checked = 7;\n}\n\nmessage JSAuthorizeConfirmResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\trepeated ScopeRiskInfo risk_info_list = 3;\n}\n\nmessage JSOperateWxDataRequest\n{\n\trequired BaseRequest BaseRequest = 1;\n\toptional string appid = 2;\n\toptional bytes data = 3;\n\toptional string grant_scope = 4;\n\toptional uint32 opt = 5;\n\toptional uint32 version_type = 6;\n\toptional WxaExternalInfo ext_info = 7;\n\toptional uint32 avatar_id = 8;\n\n\toptional string session_id = 9;\n\toptional uint32 avatar_opt = 10;\n\toptional bool privacy_protect_info_checked = 11;\n}\n\nmessage UserAvatarItem\n{\n    optional uint32 id = 1;\n    optional string nickname = 2;\n    optional string avatarurl = 3;\n    optional string desc = 4;\n}\n\nmessage UserAvatarInfo\n{\n\trepeated UserAvatarItem avatar_list = 1;\n\toptional bool is_ban_modify_avatar = 2;\n\toptional uint32 avatar_limit = 3;\n\toptional uint32 default_avatar_id = 4;\n\toptional string default_headimg_url = 5;\n\toptional string default_headimg_fileid = 6;\n\toptional string avatar_wording = 7;\n\toptional string limit_wording = 8;\n}\n\nmessage AlertPrivacyInfo\n{\n\toptional bool need_show_privacy = 1;\n\toptional string privacy_wording = 2;\n}\n\nmessage JSOperateWxDataResponse\n{\n\trequired BaseResponse BaseResponse = 1;\n\toptional JSAPIBaseResponse jsapi_baseresponse = 2;\n\toptional bytes data = 3;\n\toptional ScopeInfo scope = 4;\n\toptional string appname = 5;\n\toptional string appicon_url = 6;\n\n\tmessage DebugInfo\n\t{\n\t\toptional string data = 1;\n\t\toptional string session_key = 2;\n\t}\n\toptional DebugInfo debug_info = 7;\n  optional bool need_hold_longconn = 8;\n\toptional string cancel_wording = 9;\n\toptional string allow_wording = 10;\n\toptional string apply_wording = 11;\n\toptional UserAvatarInfo avatar_info = 12;\n\toptional AlertPrivacyInfo privacy_info = 13;\n\toptional uint32 long_polling_timeout = 14;\n\toptional UserPrivacyProtectInfo privacy_protect_info = 15;\n}\n`;function kqe(e){for(var t=[],r=0,n=e.length;r<n;r++)e[r]>=240&&e[r]<=247?(t.push(String.fromCodePoint(((7&e[r])<<18)+((63&e[r+1])<<12)+((63&e[r+2])<<6)+(63&e[r+3]))),r+=3):e[r]>=224&&e[r]<=239?(t.push(String.fromCodePoint(((15&e[r])<<12)+((63&e[r+1])<<6)+(63&e[r+2]))),r+=2):e[r]>=192&&e[r]<=223?(t.push(String.fromCodePoint(((31&e[r])<<6)+(63&e[r+1]))),r++):t.push(String.fromCodePoint(e[r]));return t.join("")}var Iqe={},Pqe={},Tqe={getLocation:"userLocation",chooseLocation:"userLocation",enableLocationUpdate:"userLocation",startRecord:"record",joinVoIPChat:"record",operateRecorder:"record",insertCamera:"camera",insertXWebCamera:"camera",openBluetoothAdapter:"bluetooth",createBLEPeripheralServer:"bluetooth",saveImageToPhotosAlbum:"writePhotosAlbum",saveVideoToPhotosAlbum:"writePhotosAlbum"},Aqe={userLocation:"地理位置",record:"麦克风",camera:"摄像头",bluetooth:"蓝牙",writePhotosAlbum:"添加到相册"},xqe={userLocation:"获取你的位置信息",record:"使用你的麦克风",camera:"使用你的摄像头",bluetooth:"使用你的蓝牙",writePhotosAlbum:"保存图片或视频到你的相册"},Eqe={},Mqe={jsapi_camera:"camera",jsapi_location:"userLocation",jsapi_photos_album:"writePhotosAlbum",jsapi_record:"record",webapi_bluetooth:"bluetooth"},Rqe={[jY.JS_AUTHORIZE]:{req:"JSAuthorizeRequest",resp:"JSAuthorizeResponse",process:(Dqe=Vp()((function*(e){dQ(VY.PROXY_AUTHORIZE);var t=e.jsapi_name,r=Tqe[t];"authorize"!==t&&t||!e.scope||!e.scope.length||(r=(e.scope[0]||"").replace("scope.",""));var n={errcode:-12e3,errmsg:"need confirm"},i={sub_desc:Eqe[r]||" "};if(r&&xqe[r]){i.scope=`scope.${r}`,i.desc=xqe[r];var a=Iqe[i.scope]||0;1===a||7===re.appType?n={errcode:0,errmsg:"has authorized"}:2===a&&(Pqe[r]?n={errcode:-12006,errmsg:"user deny"}:((yield new Promise(((e,t)=>{vj(),ij({title:"",content:`小程序尝试再次申请${xqe[r]}，此前你已拒绝过该申请。`,confirmText:"前往确认",cancelText:"再次拒绝",showCancel:!0,upper:!0,success({confirm:t}){e(!!t)},fail:t})})))||(n={errcode:-12006,errmsg:"user deny"}),Pqe[r]=!0)),dQ(VY.PROXY_AUTHORIZE_SUCCESS,r);var{nickname:o,icon:s}=re.accountInfo||{};return{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:n,scope_list:[i],appname:o,appicon_url:s,cancel_wording:"拒绝",allow_wording:"允许",apply_wording:"申请",privacy_info:{need_show_privacy:!0,privacy_wording:`你授权后，小程序引用的插件开发者将收集你的${Aqe[r]}信息，为你提供相关服务。开发者严格按照《${o}小程序隐私保护指引》处理你的个人信息，但由于当前处于弱网环境，无法在线展示该隐私保护指引，你可在正常网络条件下通过点击小程序右上角“…”->点击小程序名称->“更多资料”中进行查询。如你发现开发者不当处理你的个人信息，可在“更多资料”页面进行投诉。`},risk_info:[],jsapi_scope:""}}})),function(e){return Dqe.apply(this,arguments)}),content:Cqe},[jY.JS_AUTHORIZE_CONFIRM]:{req:"JSAuthorizeConfirmRequest",resp:"JSAuthorizeConfirmResponse",process(e){var t=e.scope,r=e.opt;return t&&t.length&&t.forEach((e=>Iqe[e]=r)),{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:{errcode:0,errmsg:""},risk_info_list:[]}},content:Cqe},[jY.JS_OPERATE_WX_DATA]:{req:"JSOperateWxDataRequest",resp:"JSOperateWxDataResponse",process(e){dQ(VY.PROXY_OPERATE_WX_DATA);try{var t=JSON.parse(kqe(new Uint8Array(e.data))),r=t.api_name;if("webapi_reportwxauseuserinfo"===r||"webapi_reportclicheckresult"===r){var{nickname:n,icon:i}=re.accountInfo||{};return{BaseResponse:{Ret:0,ErrMsg:{String:""}},jsapi_baseresponse:{errcode:0,errmsg:""},data:Uint8Array.from(["{".codePointAt(0),"{".codePointAt(1)]).buffer,appname:n,appicon_url:i}}}catch(e){console.error(e)}},content:Cqe}},Dqe;function Oqe(){return f(945)()}var Lqe={};function Nqe(e){var t=Xze(e);return Lqe[t]||(Lqe[t]=Oqe()(e)),Lqe[t]}function Bqe(e){if(Rqe[e])return Rqe[e].proto||(Rqe[e].proto=Nqe(Rqe[e].content)),Rqe[e]}function $qe(){var e,t,r=null==re||null===(e=re.appContactInfo)||void 0===e||null===(t=e.stablePassThroughInfo)||void 0===t?void 0:t.wxa_privacy_list;r&&r.length&&r.forEach((e=>{var t=Mqe[e.scope];t&&(Eqe[t]=e.sub_desc||"")})),Ut("onClientRequest",function(){var e=Vp()((function*(e){var t=Bqe(e.api),r=!1,n=!1,i=null;if(t){r=!0;var a=null;try{a=t.proto[t.req].decode(new Uint8Array(e.data)),n=!0}catch(e){return}try{var o=yield t.process(a);o&&(i=t.proto[t.resp].encode(o))}catch(e){return}}fd("responseClientRequest",{id:e.id,support:r&&n&&!!i,data:i&&i.buffer})}));return function(t){return e.apply(this,arguments)}}())}function Fqe(){Iqe={},Pqe={}}var jqe=!1,Wqe=!1,Vqe=WY.reduce(((e,t)=>(e[t]=!0,e)),{}),Uqe=nr("networkWeakChange");function zqe(){return jqe&&(Ie||ke||Ce)}function qqe(e){if(e&&e.extra){var t=e.extra.apiList;Array.isArray(t)&&(Vqe={},t.forEach((e=>{e=e.replace("wx.",""),WY.indexOf(e)>=0&&(Vqe[e]=!0)})))}}var Hqe=()=>Vqe;function Gqe(e,t){e&&!e.reason&&(_qe.mode===NY.WEAK_NETWORK&&(e.switch?wqe.start():wqe.stop()),e.switch?(Wqe=!0,su.isWeakNetwork=!0,Fqe(),wqe.emit("enterWeakNetwork"),nQ()):t&&(Wqe=!1,su.isWeakNetwork=!1,Fqe(),wqe.emit("exitWeakNetwork"),iQ()))}Ut("onToggleWxappLibServerMode",function(){var e=Vp()((function*(e){Gqe(e,!0);var t=yield gd("getNetworkType",{});t&&t.networkType&&(su.currentNetworkType=t.networkType),Uqe.emit({weakNet:su.isWeakNetwork,networkType:su.currentNetworkType})}));return function(t){return e.apply(this,arguments)}}()),re.onReady((()=>{Gqe(re.serverMode),$qe()}));var Kqe=(e,t,r,n,i,a,o,s,l)=>{var c=wqe.emit("request",{url:t,data:r,method:n,request:()=>new Promise(((t,r)=>{var n={...i};n.success=t,n.fail=r,n.complete=null,e(n)}))});if(c.length){var u=c.find((e=>e&&"function"==typeof e.then));if(u)return u.then((e=>{a&&"function"==typeof a&&a(e),s&&"function"==typeof s&&s(e)})).catch((e=>{o&&"function"==typeof o&&o(e),s&&"function"==typeof s&&s(e)})),{abort:()=>{},onChunkReceived:()=>{},offChunkReceived:()=>{},onHeadersReceived:()=>{},offHeadersReceived:()=>{}}}l&&(o&&"function"==typeof o&&o(l),s&&"function"==typeof s&&s(l))};function Jqe(e){var t=e.request;e.__defineGetter__("request",(()=>function(e={}){if(initOfflineCacheReport(e),!zqe())return t(e);var{url:r,data:n,method:i,success:a,fail:o,complete:s}=e,l=e=>{privateCacheManager.checkNeedStore(r,n,i,e),a&&"function"==typeof a&&a(e)};if(cacheManager.state===STATE.UNKNOWN)e.success=e=>{a&&"function"==typeof a&&l(e),s&&"function"==typeof s&&s(e)},e.fail=l=>Kqe(t,r,n,i,e,a,o,s,l),e.complete=null;else if(cacheManager.state===STATE.ON){var c=Kqe(t,r,n,i,e,a,o,s);if(c)return c}else cacheManager.state===STATE.OFF&&(e.success=l);return t(e)})),DEFAULT_CACHE_API_LIST.forEach((t=>{var r=e[t];e.__defineGetter__(t,(()=>function(e={}){if(!zqe()||!Vqe[t])return r(e);var{success:n,fail:i,complete:a}=e,o=!n&&!i&&!a,s={};if(Object.keys(e).forEach((t=>{"function"!=typeof e[t]&&(s[t]=e[t])})),!Wqe){var l=Date.now()+cacheManager.maxAge;return o?r(e).then((e=>(setApi(t,s,e,l),e))):(e.success=function(e){setApi(t,s,e,l),"function"==typeof n&&n(e)},r(e))}var c=getApi(t,s);return c?("object"==typeof c&&(c.fromCache=!0),o?new Promise((e=>e(c))):"function"==typeof n?(n(c),void a(c)):void 0):r(e)}))})),initOfflineCacheReport(e)}function Xqe(e){return cQ(),qqe(e),wqe.config(e),jqe=!0,_qe}var Yqe=e=>yr.getCurrentPagesByDomain(e);function Qqe(e){fd("updateTranslateEntry",{state:e})}function Zqe(e){fd("updateTranslateEntry",{pageState:e})}function eHe(e){fd("updateTranslateEntry",{buttonState:e})}function tHe(){eHe(Z$.Hidden),Qqe(Y$.Reset),("appLaunch"===su.lastOpenType||"autoReLaunch"===su.lastOpenType)&&dF();var e=tw();e.translateLanguage&&"language_default"!==e.translateLanguage?sF(e.translateLanguage):sF(e.language);var t=WF();t&&(aF.has(t.__wxWebviewId__)||aF.set(t.__wxWebviewId__,{pageState:Q$.RequireTranslate,translateStatus:!1,translateLangChanged:!1}))}su.appStatus=eu.FORE_GROUND,su.hanged=!1,dS((e=>{Date.now()})),kS((e=>{Date.now()})),Eh((()=>{su.appStatus=eu.FORE_GROUND})),Id((e=>{"hide"===e.mode?su.appStatus=eu.LOCK:su.appStatus=eu.BACK_GROUND,"close"===e.mode?su.hanged=!1:"hang"===e.mode&&(su.hanged=!0)})),pje((()=>{su.hanged=!1}));var rHe=!1,nHe=()=>rHe;function iHe(){var e=[Mu(),Ru()];M.reportQualityData2("Translate",e)}function aHe(){("appLaunch"===su.lastOpenType||"autoReLaunch"===su.lastOpenType)&&("webview"===su.pageRenderer&&eHe(Z$.Untranslate),dF());var e=tw();e.translateLanguage&&"language_default"!==e.translateLanguage?sF(e.translateLanguage):sF(e.language),rF!==Y$.Untranslate&&Qqe(Y$.Reset);var t=WF();if(t)if(aF.has(t.__wxWebviewId__)||aF.set(t.__wxWebviewId__,{pageState:Q$.RequireTranslate,translateStatus:!1,translateLangChanged:!1}),"webview"===su.pageRenderer){var r=aF.get(t.__wxWebviewId__);rF===Y$.Untranslate&&(r.translateStatus||r.translateLangChanged)&&lHe(),r.translateLangChanged&&(r.translateLangChanged=!1,aF.set(t.__wxWebviewId__,r)),su.hasWebViewCompnent?(Zqe(Q$.RequireTranslate),rF===Y$.Translated&&fd("translateHTMLWebView",{translate:!0})):(qr("initPageTranslateLanguage",{translateLanguage:nF},[t.__wxWebviewId__]),qr("checkPageState",{},[t.__wxWebviewId__]))}else su.pageRenderer}function oHe(){var e,t,r=WF();if(r){var n=null===(e=aF.get(r.__wxWebviewId__))||void 0===e?void 0:e.translateStatus;(null===(t=aF.get(r.__wxWebviewId__))||void 0===t?void 0:t.pageState)!==Q$.RequireTranslate||rF!==Y$.Translated&&rF!==Y$.Translating||!0===n||(lF(!0),sHe(),oF(Y$.Translating),setTimeout((()=>{rF===Y$.Translating&&Qqe(Y$.Translating)}),1e3))}}function sHe(e=!1){if("webview"===su.pageRenderer)if(su.hasWebViewCompnent)fd("translateHTMLWebView",{translate:!0,success(e){/ok/.test(e.errMsg)?(oF(Y$.Translated),Qqe(Y$.Translated)):uj({icon:"none",title:"未能完成翻译，请检查网络设置后再试。",duration:1e3})},fail(){uj({icon:"none",title:"未能完成翻译，请检查网络设置后再试。",duration:1e3})}});else{UF(e);var t=WF();if(aF.has(t.__wxWebviewId__))aF.get(t.__wxWebviewId__).translateStatus=!0}else su.pageRenderer;qF()}function lHe(){if("webview"===su.pageRenderer)if(su.hasWebViewCompnent)fd("translateHTMLWebView",{translate:!1});else{zF();var e=WF();if(aF.has(e.__wxWebviewId__))aF.get(e.__wxWebviewId__).translateStatus=!1}HF(),oF(Y$.Untranslate),Qqe(Y$.Reset)}function cHe(e,t){if(!We()&&e&&t&&!su.navigationBarTitleMap[e]){var r="";re.page[t]&&re.page[t].window&&tt(re.page[t].window.navigationBarTitleText)?r=re.page[t].window.navigationBarTitleText:re.global&&re.global.window&&tt(re.global.window.navigationBarTitleText)&&(r=re.global.window.navigationBarTitleText),su.navigationBarTitleMap[e]=r}}re.onReady((()=>{Wf({experimentId:ke?"clicfg_miniprogram_global_translate_android":"clicfg_miniprogram_global_translate_ios",experimentType:"Expt",success:e=>{e&&1===Number(e.testConfig)&&(rHe=!0)}})})),Yr("translateCurrentPageFinished",(()=>{oF(Y$.Translated),iF?(Qqe(Y$.Reset),lF(!1)):Qqe(Y$.Translated)})),Yr("changePageState",(e=>{var t=WF();if(t){if(Zqe(e.pageState),aF.has(t.__wxWebviewId__))aF.get(t.__wxWebviewId__).pageState=e.pageState;var r="appLaunch"===su.lastOpenType||"autoReLaunch"===su.lastOpenType;e.pageState===Q$.RequireTranslate&&r&&(oF(Y$.Untranslate),e.showCapsule&&Qqe(Y$.Untranslate)),r||oHe()}})),Yr("webViewComponentAutoTranslate",(()=>{nHe()&&("appLaunch"===su.lastOpenType||"autoReLaunch"===su.lastOpenType?oF(Y$.Untranslate):rF===Y$.Translated&&fd("translateHTMLWebView",{translate:!0,success(e){/ok/.test(e.errMsg)?(oF(Y$.Translated),Qqe(Y$.Translated)):uj({icon:"none",title:"未能完成翻译，请检查网络设置后再试。",duration:1e3})},fail(){uj({icon:"none",title:"未能完成翻译，请检查网络设置后再试。",duration:1e3})}}))})),Ut("onTranslateEntryClick",(e=>{if(e.action===eF.Confirm)iHe(),eHe(Z$.Translated),Qqe(Y$.Translating),oF(Y$.Translating),sHe();else{if(eHe(Z$.Untranslate),Qqe(Y$.Reset),rF===Y$.Translated&&lHe(),rF===Y$.Translating){var t=WF();if(!t)return;qr("breakTranslate",{},[t.__wxWebviewId__]),lHe()}oF(Y$.Untranslate)}})),Ut("onTranslateLanguageChange",(e=>{if(void 0!==e.translateLanguage){"language_default"===e.translateLanguage?sF(pw().language):sF(e.translateLanguage);var t=WF();if(!t)return;"webview"===su.pageRenderer&&(lHe(),VF(),qr("changeWebviewTranslateLanguage",{translateLanguage:"language_default"===e.translateLanguage?pw().language:e.translateLanguage,type:e.type||0},[t.__wxWebviewId__]))}else _.error("[translate] lack of res.translateLanguage")})),Yr("resetLanguageChangedPageState",(e=>{Zqe(e.pageState),e.type!==tF.Setting&&(e.pageState===Q$.RequireTranslate?(Qqe(Y$.Translating),oF(Y$.Translating),sHe(!0),eHe(Z$.Translated)):(oF(Y$.Untranslate),eHe(Z$.Untranslate)))})),cr("onAppRouteDone",Yj.useTracedEnd(((e,t=0)=>{var r;_.info(`[WABaseLib.Critical] onAppRouteDone with webviewId=${t}, res=${JSON.stringify(e)} ${Date.now()}`),e.__ts__=Date.now(),e.timeStamp=e.__ts__;var n=null==e||null===(r=e.singlePageData)||void 0===r?void 0:r.pageId;t=void 0!==n?n:void 0!==e.webviewId?e.webviewId:t,e.webviewId=t,Yj.traceBeginEvent("Framework","AppRouteDone",e),Pu.appRoute=!1,Pu.appRouteDone=!0,Tu();var i=tp(e.path);"wxpage://"===i&&(e.path="__wx__/"+e.path.slice(i.length));var a="";e.path&&(a=e.path,e.path=Od(e.path)),"dismissPip"!==su.lastOpenType&&(su.lastRoute=e.path||""),e.openType||(e.openType=su.lastOpenType),GH(e),qr("onAppRouteDone",{frameset:e.frameset,webviewId:e.webviewId},[t]),Vr("notifyDestroyPageContext",{},["skyline"]),cHe(e.path,a),Hx.unblock(),"wxpage://"===i&&(su.openingInnerPage=!1),nHe()&&(ke||Ie)&&(He()&&"embedded"!==re.appLaunchInfo.mode&&aHe(),He()&&"embedded"===re.appLaunchInfo.mode&&tHe())})));var uHe=(e={})=>{jc("getLabInfo",e,{labId:""})&&fd("getLabInfo",e)},dHe=(e={})=>{jc("setLabInfo",e,{labId:"",enabled:Boolean()})&&fd("setLabInfo",e)},pHe={voip1v1:1},hHe={};Object.keys(pHe).forEach((e=>{hHe[pHe[e]]=e}));var fHe=(e={})=>{if(pHe[e.msgType]){var t=lx("sendChannelMessage","webapi_sendwxachannelmsg",(e=>({msg_type:pHe[e.msgType],receiver_openid:e.receiver,msg_content:JSON.stringify(e.data||{})})),(e=>{e.msgId=e.msg_id,delete e.msg_id}));t(e)}else Vc("sendChannelMessage",e,"lock of message type")},gHe=nr("receiveMsgChannel"),vHe=gHe.onMethod,mHe=gHe.offMethod;Ut("onReceiveMsgChannel",(e=>{try{e.msgType=hHe[e.msgType],e.data=JSON.parse(e.msgContent),delete e.msgContent,gHe.emit(e)}catch(t){_.error("[WABaseLib.Critical] onReceiveMsgChannel parse content fail ",t," raw content: ",JSON.stringify(e))}}));var yHe=nr("receiveCacheMsgChannel"),bHe=yHe.onMethod,_He=yHe.offMethod;Ut("onReceiveCacheMsgChannelBatch",(e=>{try{var t=JSON.parse(e.cacheList);t.forEach((e=>{e.msgType=hHe[e.msgType],e.data=JSON.parse(e.msgContent),delete e.msgContent})),yHe.emit(t)}catch(t){_.error("[WABaseLib.Critical] onReceiveCacheMsgChannelBatch parse content fail ",t," raw content: ",JSON.stringify(e))}}));var wHe=["对方版本暂不支持发起视频通话","对方可能不在小程序内，建议稍后再次尝试","对方未接听","已接通","通话已取消","对方拒绝了您的视频通话请求","对方正在通话中，请稍后再播"],SHe=["已接通","对方已挂断，通话结束","已拒绝，通话结束"],CHe=["当前通话对方网络不佳","当前通话你的网络不佳","连接中断，通话结束","网络异常，通话结束","对方已挂断，通话结束","通话结束","对方已切换到语音通话，请使用听筒接听","已切换到语音通话，请使用听筒接听","余额不足，通话结束"],kHe=["对方版本暂不支持发起语音通话","对方可能不在小程序内，建议稍后再次尝试","对方未接听","已接通","通话已取消","对方拒绝了您的语音通话请求","对方正在通话中，请稍后再播","对方设备未开启通话选项"],IHe=["已接通，请使用听筒接听","对方已挂断，通话结束","已拒绝，通话结束"],PHe=["当前通话对方网络不佳","当前通话你的网络不佳","连接中断，通话结束","网络异常，通话结束","对方已挂断，通话结束","通话结束","声音将通过扬声器播放","声音将通过听筒播放","余额不足，通话结束"],THe="在移动网络环境下会影响视频通话质量，并产生手机流量，确定继续？",AHe=(e=[],t={})=>{dt(e)&&(e=Object.keys(e));var r={};return e.forEach((e=>{e in t&&void 0!==t[e]&&(r[e]=t[e])})),r},xHe=new Yt({maxListeners:2e5}),EHe={onTextViewClick:"click",onImageViewClick:"click",onTextViewDrag:"drag",onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel"};Object.keys(EHe).forEach((e=>{cr(e,(t=>{var r=EHe[e];try{var n=JSON.parse(t.data).id;xHe.emit(`${r}-${n}`,t)}catch(e){}}))}));var MHe=32768,RHe;class DHe{constructor(e={}){var{props:t={},style:r={},position:n={},dataset:i={}}=e;this.parent=null,this.parentId=0,this.children={},this.events=[],this.id=++MHe,this.props=t,this.style=r,this.position=n,this.dataset=i,this.bubbleHandler()}bubbleHandler(){["touchstart","touchmove","touchend","touchcancel","click"].forEach((e=>{this.on(e,(t=>{if(this.props.bubbles&&this.parent&&!this.parent.props.transEvt){var r=this.position.left,n=this.position.top;if("click"===e){if(!this.parent.props.clickable)return;this.parent.emit(e)}else if("touchstart"===e||"touchend"===e){if(!this.parent.props.gesture)return;var i=Object.assign({},t.touch);i.x+=r,i.y+=n,i.id=this.parent.id,this.parent.emit(e,{viewId:this.parent.id,touch:i})}else{if(!this.parent.props.gesture)return;var a=t.touches.map((e=>({x:e.x+r,y:e.y+n,id:this.parent.id})));this.parent.emit(e,{viewId:this.parent.id,touches:a})}}}))}))}getAbsolutePositon(){if(!this.parent)return{left:0,top:0};var e=this.parent.getAbsolutePositon(),{left:t,top:r}=this.position;return{left:t+e.left,top:r+e.top}}hide(){return this.props.hide=!0,this.update()}show(){return this.props.hide=!1,this.update()}insert(){var e=this.insertView(),t=[];return Object.keys(this.children).forEach((e=>{var r=this.children[e];t.push(r.insert())})),Promise.all([e,...t]).then((()=>{this.emit("ready")}),(e=>{this.emit("ready")}))}update(){return this.updateView()}remove(){this.parent&&this.parent.removeChild(this);var e=[];Object.keys(this.children).forEach((t=>{var r=this.children[t];this.removeChild(r),e.push(r.remove())})),this.removeListeners();var t=this.removeView();return Promise.all([t,...e]).catch((e=>{}))}insertView(){return Promise.resolve()}updateView(){return Promise.resolve()}removeView(){return Promise.resolve()}removeListeners(){this.events.forEach((e=>{xHe.removeAllListeners(`${e}-${this.id}`)}))}appendChild(e){e.parent=this,e.parentId=this.id,this.props.independent&&(e.props.independent=!0),this.children[e.id]=e}empty(){Object.keys(this.children).forEach((e=>{var t=this.children[e];this.removeChild(t),t.remove()}))}removeChild(e){delete this.children[e.id],e.parent=null,e.parentId=0}emit(e,t){xHe.emit(`${e}-${this.id}`,t)}on(e,t){xHe.on(`${e}-${this.id}`,t)}off(e,t){xHe.off(`${e}-${this.id}`,t)}once(e,t){xHe.once(`${e}-${this.id}`,t)}}var OHe="insertTextView",LHe="updateTextView",NHe="removeTextView",BHe="animateCoverView",$He=(RHe=class extends DHe{constructor(e={}){super(e);var t=this.getDefaultProps(),r=this.getDefaultLabel(),n=this.getDefaultStyle();this.events=["click","drag","touchstart","touchmove","touchend","ready"],this.style.backgroundColor&&(this.style.bgColor=this.style.backgroundColor);var i=this.props.label;this.style=Object.assign(n,AHe(n,this.style)),this.props=Object.assign(t,AHe(t,this.props)),this.label=Object.assign(r,AHe(r,i)),this.label.lineHeight=this.label.lineHeight||1.2*this.label.fontSize}getDefaultProps(){return{hide:!1,clickable:!1,gesture:!1,transEvt:!1,sendTo:"appservice",fullscreen:!1,independent:!1,bubbles:!1,draggable:!1,dragConfig:{}}}getDefaultLabel(){return{content:"",color:"#000000",fontSize:12,textAlign:"left",fontWeight:"normal",lineHeight:0,lineBreak:"clip",whiteSpace:"nowrap"}}getDefaultStyle(){return{bgColor:"#ffffff00",borderRadius:0,borderWidth:0,borderColor:"#000000",padding:[0,0,0,0],opacity:1,overflow:"hidden",rotate:0,scaleX:1,scaleY:1,zIndex:0,fixed:!1}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,hide:this.props.hide,draggable:this.props.draggable,dragConfig:this.props.dragConfig,clickable:this.props.clickable,gesture:this.props.gesture,transEvt:this.props.transEvt,sendTo:this.props.sendTo,data:JSON.stringify({id:this.id}),label:this.label,fullscreen:this.props.fullscreen,independent:this.props.independent,zIndex:this.style.zIndex,fixed:this.style.fixed,style:this.style,notCoverRect:!0};Object.assign(t,e),fd(OHe,t)}updateView(e){var t={viewId:this.id,position:this.position,hide:this.props.hide,label:this.label,independent:this.props.independent,style:this.style,fixed:this.style.fixed,zIndex:this.style.zIndex,notCoverRect:!0,draggable:this.props.draggable,dragConfig:this.props.dragConfig};Object.assign(t,e);fd(LHe,t,{beforeFail(e){}})}removeView(e){var t=Object.assign({independent:this.props.independent,viewId:this.id},e);fd(NHe,t,{beforeFail(e){}})}animate(e){var t=this,r={duration:300,easing:"linear",viewId:this.id,finalStyle:{},independent:this.props.independent},n=Object.assign(r,e);fd(BHe,n,{beforeSuccess(){Object.keys(n.finalStyle).forEach((e=>{e in t.position?t.position[e]=n.finalStyle[e]:e in t.style&&(t.style[e]=n.finalStyle[e])}))},beforeFail(e){_.error("animateView fail",t.id,n,e)}})}measureText(e=""){var t=0,r={text:e,fontSize:this.label.fontSize,fontWeight:this.label.fontWeight,fontStyle:"normal",fontFamily:"sans-serif",complete(e){t=e.width||0}};return fd("measureText",r),t}fadeIn(e=300,t="linear"){return this.show().then((()=>this.animate({finalStyle:{opacity:1},duration:e,easing:t})))}fadeOut(e=300,t="linear"){return this.animate({finalStyle:{opacity:0},duration:e,easing:t}).then((()=>this.hide()))}fadeTo(e,t=300,r="linear"){return this.animate({finalStyle:{opacity:e},duration:t,easing:r})}slideUp(e=300,t="linear"){return this.animate({finalStyle:{height:0},duration:e,easing:t})}slideDown(e=300,t="linear"){var r=this.position.height;return this.position.height=0,this.update(),this.animate({finalStyle:{height:r},duration:e,easing:t})}},G()(RHe.prototype,"insertView",[Nt],Object.getOwnPropertyDescriptor(RHe.prototype,"insertView"),RHe.prototype),G()(RHe.prototype,"updateView",[Nt],Object.getOwnPropertyDescriptor(RHe.prototype,"updateView"),RHe.prototype),G()(RHe.prototype,"removeView",[Nt],Object.getOwnPropertyDescriptor(RHe.prototype,"removeView"),RHe.prototype),G()(RHe.prototype,"animate",[Nt],Object.getOwnPropertyDescriptor(RHe.prototype,"animate"),RHe.prototype),RHe),FHe,jHe="insertImageView",WHe="updateImageView",VHe="removeImageView",UHe=(FHe=class extends DHe{constructor(e={}){super(e);var t=this.getDefaultProps(),r=this.getDefaultStyle();this.events=["click","touchstart","touchmove","touchend","ready"],this.style.backgroundColor&&(this.style.bgColor=this.style.backgroundColor),this.style=Object.assign(r,AHe(r,this.style)),this.props=Object.assign(t,AHe(t,this.props))}getDefaultProps(){return{hide:!1,iconPath:"",clickable:!1,gesture:!1,transEvt:!1,bubbles:!1,sendTo:"appservice",independent:!1}}getDefaultStyle(){return{bgColor:"#ffffff00",borderRadius:0,borderWidth:0,borderColor:"#000000",padding:[0,0,0,0],opacity:1,zIndex:0,fixed:!1}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,hide:this.props.hide,iconPath:this.props.iconPath,clickable:this.props.clickable,gesture:this.props.gesture,transEvt:this.props.transEvt,sendTo:this.props.sendTo,independent:this.props.independent,data:JSON.stringify({id:this.id}),style:this.style,zIndex:this.style.zIndex,fixed:this.style.fixed,notCoverRect:!0};Object.assign(t,e),fd(jHe,t)}updateView(e){var t={viewId:this.id,position:this.position,iconPath:this.props.iconPath,hide:this.props.hide,style:this.style,zIndex:this.style.zIndex,fixed:this.style.fixed,independent:this.props.independent,notCoverRect:!0};Object.assign(t,e),fd(WHe,t)}removeView(e){var t=Object.assign({independent:this.props.independent,viewId:this.id},e);fd(VHe,t)}},G()(FHe.prototype,"insertView",[Nt],Object.getOwnPropertyDescriptor(FHe.prototype,"insertView"),FHe.prototype),G()(FHe.prototype,"updateView",[Nt],Object.getOwnPropertyDescriptor(FHe.prototype,"updateView"),FHe.prototype),G()(FHe.prototype,"removeView",[Nt],Object.getOwnPropertyDescriptor(FHe.prototype,"removeView"),FHe.prototype),FHe),zHe,qHe="insertCamera",HHe="updateCamera",GHe="removeCamera",KHe=(zHe=class extends DHe{constructor(e={}){super(e);var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,AHe(t,this.props))}getDefaultProps(){return{independent:!1,mode:"normal",devicePosition:"front",resolution:"medium",hide:!1}}insertView(e){var t={parentId:this.parentId,cameraId:this.id,position:this.position,independent:this.props.independent,mode:this.props.mode,devicePosition:this.props.devicePosition,resolution:this.props.resolution,hide:this.props.hide};Object.assign(t,e),fd(qHe,t)}updateView(e){var t={cameraId:this.id,position:this.position,independent:this.props.independent,mode:this.props.mode,devicePosition:this.props.devicePosition,hide:this.props.hide};Object.assign(t,e),fd(HHe,t)}removeView(e){var t=Object.assign({cameraId:this.id,independent:this.props.independent},e);fd(GHe,t)}},G()(zHe.prototype,"insertView",[Nt],Object.getOwnPropertyDescriptor(zHe.prototype,"insertView"),zHe.prototype),G()(zHe.prototype,"updateView",[Nt],Object.getOwnPropertyDescriptor(zHe.prototype,"updateView"),zHe.prototype),G()(zHe.prototype,"removeView",[Nt],Object.getOwnPropertyDescriptor(zHe.prototype,"removeView"),zHe.prototype),zHe),JHe,XHe="insertVoIPView",YHe="updateVoIPView",QHe="removeVoIPView",ZHe=(JHe=class extends DHe{constructor(e={}){super(e);var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,AHe(t,this.props))}getDefaultProps(){return{independent:!1,self:!0,configCamera:"front",openid:""}}insertView(e){var t={parentId:this.parentId,viewId:this.id,position:this.position,type:this.props.self?"camera":"video",openId:this.props.openid,config:{camera:this.props.configCamera},independent:this.props.independent};Object.assign(t,e),fd(XHe,t)}updateView(e){var t={viewId:this.id,position:this.position,type:this.props.self?"camera":"video",openId:this.props.openid,config:{camera:this.props.configCamera},independent:this.props.independent};Object.assign(t,e),fd(YHe,t)}removeView(e){var t=Object.assign({viewId:this.id,independent:this.props.independent,openId:this.props.openid},e);fd(QHe,t)}},G()(JHe.prototype,"insertView",[Nt],Object.getOwnPropertyDescriptor(JHe.prototype,"insertView"),JHe.prototype),G()(JHe.prototype,"updateView",[Nt],Object.getOwnPropertyDescriptor(JHe.prototype,"updateView"),JHe.prototype),G()(JHe.prototype,"removeView",[Nt],Object.getOwnPropertyDescriptor(JHe.prototype,"removeView"),JHe.prototype),JHe),eGe=function(){var e,t="inherit",r="ltr",n="rtl",i="row",a="row-reverse",o="column",s="column-reverse",l="flex-start",c="center",u="flex-end",d="space-between",p="space-around",h="flex-start",f="center",g="flex-end",v="stretch",m="relative",y="absolute",b={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},_={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},w={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},S={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function C(e){return void 0===e}function k(e){return e===i||e===a}function I(e,t){if(void 0!==e.style.marginStart&&k(t))return e.style.marginStart;var r=null;switch(t){case"row":r=e.style.marginLeft;break;case"row-reverse":r=e.style.marginRight;break;case"column":r=e.style.marginTop;break;case"column-reverse":r=e.style.marginBottom}return void 0!==r?r:void 0!==e.style.margin?e.style.margin:0}function P(e,t){if(void 0!==e.style.marginEnd&&k(t))return e.style.marginEnd;var r=null;switch(t){case"row":r=e.style.marginRight;break;case"row-reverse":r=e.style.marginLeft;break;case"column":r=e.style.marginBottom;break;case"column-reverse":r=e.style.marginTop}return null!=r?r:void 0!==e.style.margin?e.style.margin:0}function T(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&k(t))return e.style.borderStartWidth;var r=null;switch(t){case"row":r=e.style.borderLeftWidth;break;case"row-reverse":r=e.style.borderRightWidth;break;case"column":r=e.style.borderTopWidth;break;case"column-reverse":r=e.style.borderBottomWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function A(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&k(t))return e.style.borderEndWidth;var r=null;switch(t){case"row":r=e.style.borderRightWidth;break;case"row-reverse":r=e.style.borderLeftWidth;break;case"column":r=e.style.borderBottomWidth;break;case"column-reverse":r=e.style.borderTopWidth}return null!=r&&r>=0?r:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function x(e,t){return function(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&k(t))return e.style.paddingStart;var r=null;switch(t){case"row":r=e.style.paddingLeft;break;case"row-reverse":r=e.style.paddingRight;break;case"column":r=e.style.paddingTop;break;case"column-reverse":r=e.style.paddingBottom}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+T(e,t)}function E(e,t){return function(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&k(t))return e.style.paddingEnd;var r=null;switch(t){case"row":r=e.style.paddingRight;break;case"row-reverse":r=e.style.paddingLeft;break;case"column":r=e.style.paddingBottom;break;case"column-reverse":r=e.style.paddingTop}return null!=r&&r>=0?r:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}(e,t)+A(e,t)}function M(e,t){return T(e,t)+A(e,t)}function R(e,t){return I(e,t)+P(e,t)}function D(e,t){return x(e,t)+E(e,t)}function O(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function L(e,t){if(t===n){if(e===i)return a;if(e===a)return i}return e}function N(e,t){return function(e){return e===o||e===s}(e)?L(i,t):o}function B(e){return e.style.position?e.style.position:"relative"}function $(e){return B(e)===m&&e.style.flex>0}function F(e,t){return e.layout[S[t]]+R(e,t)}function j(e,t){return void 0!==e.style[S[t]]&&e.style[S[t]]>=0}function W(e,t){return void 0!==e.style[t]}function V(e,t){return void 0!==e.style[t]?e.style[t]:0}function U(e,t,r){var n={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],i={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],a=r;return void 0!==i&&i>=0&&a>i&&(a=i),void 0!==n&&n>=0&&a<n&&(a=n),a}function z(e,t){return e>t?e:t}function q(e,t){void 0===e.layout[S[t]]&&j(e,t)&&(e.layout[S[t]]=z(U(e,t,e.style[S[t]]),D(e,t)))}function H(e,t,r){t.layout[_[r]]=e.layout[S[r]]-t.layout[S[r]]-t.layout[w[r]]}function G(e,t){return void 0!==e.style[b[t]]?V(e,b[t]):-V(e,_[t])}function K(n,A,K){var X=function(e,n){var i;return(i=e.style.direction?e.style.direction:t)===t&&(i=void 0===n?r:n),i}(n,K),Y=L(function(e){return e.style.flexDirection?e.style.flexDirection:o}(n),X),Q=N(Y,X),Z=L(i,X);q(n,Y),q(n,Q),n.layout.direction=X,n.layout[b[Y]]+=I(n,Y)+G(n,Y),n.layout[_[Y]]+=P(n,Y)+G(n,Y),n.layout[b[Q]]+=I(n,Q)+G(n,Q),n.layout[_[Q]]+=P(n,Q)+G(n,Q);var ee=n.children.length,te=D(n,Z);if(function(e){return void 0!==e.style.measure}(n)){var re=!C(n.layout[S[Z]]),ne=e;ne=j(n,Z)?n.style.width:re?n.layout[S[Z]]:A-R(n,Z),ne-=te;var ie=!j(n,Z)&&!re,ae=!j(n,o)&&C(n.layout[S[o]]);if(ie||ae){var oe=n.style.measure(ne);ie&&(n.layout.width=oe.width+te),ae&&(n.layout.height=oe.height+D(n,o))}if(0===ee)return}var se,le,ce,ue,de=function(e){return"wrap"===e.style.flexWrap}(n),pe=function(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}(n),he=x(n,Y),fe=x(n,Q),ge=D(n,Y),ve=D(n,Q),me=!C(n.layout[S[Y]]),ye=!C(n.layout[S[Q]]),be=k(Y),_e=null,we=null,Se=e;me&&(Se=n.layout[S[Y]]-ge);for(var Ce=0,ke=0,Ie=0,Pe=0,Te=0,Ae=0;ke<ee;){var xe,Ee=0,Me=0,Re=0,De=0,Oe=me&&pe===l||!me&&pe!==c,Le=Oe?ee:Ce,Ne=!0,Be=ee,$e=null,Fe=null,je=he,We=0;for(se=Ce;se<ee;++se){if((ce=n.children[se]).lineIndex=Ae,ce.nextAbsoluteChild=null,ce.nextFlexChild=null,(Xe=O(n,ce))===v&&B(ce)===m&&ye&&!j(ce,Q))ce.layout[S[Q]]=z(U(ce,Q,n.layout[S[Q]]-ve-R(ce,Q)),D(ce,Q));else if(B(ce)===y)for(null===_e&&(_e=ce),null!==we&&(we.nextAbsoluteChild=ce),we=ce,le=0;le<2;le++)ue=0!==le?i:o,!C(n.layout[S[ue]])&&!j(ce,ue)&&W(ce,b[ue])&&W(ce,_[ue])&&(ce.layout[S[ue]]=z(U(ce,ue,n.layout[S[ue]]-D(n,ue)-R(ce,ue)-V(ce,b[ue])-V(ce,_[ue])),D(ce,ue)));var Ve=0;if(me&&$(ce)?(Me++,Re+=ce.style.flex,null===$e&&($e=ce),null!==Fe&&(Fe.nextFlexChild=ce),Fe=ce,Ve=D(ce,Y)+R(ce,Y)):(xe=e,be||(xe=j(n,Z)?n.layout[S[Z]]-te:A-R(n,Z)-te),0===Ie&&J(ce,xe,X),B(ce)===m&&(De++,Ve=F(ce,Y))),de&&me&&Ee+Ve>Se&&se!==Ce){De--,Ie=1;break}Oe&&(B(ce)!==m||$(ce))&&(Oe=!1,Le=se),Ne&&(B(ce)!==m||Xe!==v&&Xe!==h||C(ce.layout[S[Q]]))&&(Ne=!1,Be=se),Oe&&(ce.layout[w[Y]]+=je,me&&H(n,ce,Y),je+=F(ce,Y),We=z(We,U(ce,Q,F(ce,Q)))),Ne&&(ce.layout[w[Q]]+=Pe+fe,ye&&H(n,ce,Q)),Ie=0,Ee+=Ve,ke=se+1}var Ue=0,ze=0,qe=0;if(qe=me?Se-Ee:z(Ee,0)-Ee,0!==Me){var He,Ge,Ke=qe/Re;for(Fe=$e;null!==Fe;)(He=Ke*Fe.style.flex+D(Fe,Y))!==(Ge=U(Fe,Y,He))&&(qe-=Ge,Re-=Fe.style.flex),Fe=Fe.nextFlexChild;for((Ke=qe/Re)<0&&(Ke=0),Fe=$e;null!==Fe;)Fe.layout[S[Y]]=U(Fe,Y,Ke*Fe.style.flex+D(Fe,Y)),xe=e,j(n,Z)?xe=n.layout[S[Z]]-te:be||(xe=A-R(n,Z)-te),J(Fe,xe,X),ce=Fe,Fe=Fe.nextFlexChild,ce.nextFlexChild=null}else pe!==l&&(pe===c?Ue=qe/2:pe===u?Ue=qe:pe===d?(qe=z(qe,0),ze=Me+De-1!=0?qe/(Me+De-1):0):pe===p&&(Ue=(ze=qe/(Me+De))/2));for(je+=Ue,se=Le;se<ke;++se)B(ce=n.children[se])===y&&W(ce,b[Y])?ce.layout[w[Y]]=V(ce,b[Y])+T(n,Y)+I(ce,Y):(ce.layout[w[Y]]+=je,me&&H(n,ce,Y),B(ce)===m&&(je+=ze+F(ce,Y),We=z(We,U(ce,Q,F(ce,Q)))));var Je=n.layout[S[Q]];for(ye||(Je=z(U(n,Q,We+ve),ve)),se=Be;se<ke;++se)if(B(ce=n.children[se])===y&&W(ce,b[Q]))ce.layout[w[Q]]=V(ce,b[Q])+T(n,Q)+I(ce,Q);else{var Xe,Ye=fe;if(B(ce)===m)if((Xe=O(n,ce))===v)C(ce.layout[S[Q]])&&(ce.layout[S[Q]]=z(U(ce,Q,Je-ve-R(ce,Q)),D(ce,Q)));else if(Xe!==h){var Qe=Je-ve-F(ce,Q);Ye+=Xe===f?Qe/2:Qe}ce.layout[w[Q]]+=Pe+Ye,ye&&H(n,ce,Q)}Pe+=We,Te=z(Te,je),Ae+=1,Ce=ke}if(Ae>1&&ye){var Ze=n.layout[S[Q]]-ve,et=Ze-Pe,tt=0,rt=fe,nt=function(e){return e.style.alignContent?e.style.alignContent:"flex-start"}(n);nt===g?rt+=et:nt===f?rt+=et/2:nt===v&&Ze>Pe&&(tt=et/Ae);var it=0;for(se=0;se<Ae;++se){var at=it,ot=0;for(le=at;le<ee;++le)if(B(ce=n.children[le])===m){if(ce.lineIndex!==se)break;C(ce.layout[S[Q]])||(ot=z(ot,ce.layout[S[Q]]+R(ce,Q)))}for(it=le,ot+=tt,le=at;le<it;++le)if(B(ce=n.children[le])===m){var st=O(n,ce);if(st===h)ce.layout[w[Q]]=rt+I(ce,Q);else if(st===g)ce.layout[w[Q]]=rt+ot-P(ce,Q)-ce.layout[S[Q]];else if(st===f){var lt=ce.layout[S[Q]];ce.layout[w[Q]]=rt+(ot-lt)/2}else st===v&&(ce.layout[w[Q]]=rt+I(ce,Q))}rt+=ot}}var ct=!1,ut=!1;if(me||(n.layout[S[Y]]=z(U(n,Y,Te+E(n,Y)),ge),Y!==a&&Y!==s||(ct=!0)),ye||(n.layout[S[Q]]=z(U(n,Q,Pe+ve),ve),Q!==a&&Q!==s||(ut=!0)),ct||ut)for(se=0;se<ee;++se)ce=n.children[se],ct&&H(n,ce,Y),ut&&H(n,ce,Q);for(we=_e;null!==we;){for(le=0;le<2;le++)ue=0!==le?i:o,!C(n.layout[S[ue]])&&!j(we,ue)&&W(we,b[ue])&&W(we,_[ue])&&(we.layout[S[ue]]=z(U(we,ue,n.layout[S[ue]]-M(n,ue)-R(we,ue)-V(we,b[ue])-V(we,_[ue])),D(we,ue))),W(we,_[ue])&&!W(we,b[ue])&&(we.layout[b[ue]]=n.layout[S[ue]]-we.layout[S[ue]]-V(we,_[ue]));ce=we,we=we.nextAbsoluteChild,ce.nextAbsoluteChild=null}}function J(e,t,n){e.shouldUpdate=!0;var i=e.style.direction||r;!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===i?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=i,e.children.forEach((function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0})),K(e,t,n),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}return{layoutNodeImpl:K,computeLayout:J,fillNodes:function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}}}();function tGe(e){eGe.fillNodes(e),eGe.computeLayout(e)}var rGe=f(469),nGe={view:$He,image:UHe,voip:ZHe,camera:KHe},iGe;class aGe{constructor(e,t){this.elementClassMap={},this.root=null;var r=rGe(e).root;this.addStyle(r,t),tGe(r),this.root=this.compose(r)}querySelector(e=""){return this.querySelectorAll(e)[0]||null}querySelectorAll(e=""){return e.startsWith(".")?this.elementClassMap[e.slice(1)]||[]:null}addStyle(e,t){var r=e.attributes,n={},i=["id","class","name"];e.tagName=e.name,Object.keys(r).forEach((a=>{var o=r[a];if(""===o||"true"===o?r[a]=!0:"false"===o&&(r[a]=!1),a.startsWith("data-")){i.push(a);var s=a.slice(5);n[s]=r[a]}"class"===a&&(e.class=o&&o.trim().split(/\s+/)||[],e.style=e.class.reduce(((e,r)=>{var n=t[r]||{};return Object.assign(e,n)}),{}))})),i.forEach((e=>delete r[e])),e.dataset=n,e.children.forEach((e=>{this.addStyle(e,t)}))}compose(e){var t=e.tagName,r=nGe[t],{layout:n,attributes:i,dataset:a,content:o,style:s}=e;if(i.hidden)return null;"view"===t&&(i.label=s,i.label.content=o,i.label.padding=s.labelPadding);var l=new r({position:n,props:i,dataset:a,style:s});return e.class.forEach((e=>{this.elementClassMap[e]||(this.elementClassMap[e]=[]),this.elementClassMap[e].push(l)})),e.children.forEach((t=>{e.attributes.independent&&(t.attributes.independent=!0);var r=this.compose(t);r&&l.appendChild(r)})),l}}var oGe="insertHTMLVConsoleView",sGe="updateHTMLVConsoleView",lGe="deleteHTMLVConsoleView",cGe="sendToHTMLVConsoleView",uGe=(iGe=class extends DHe{constructor(e={}){super(e),this._hide=!0,this.handleWindowResize=()=>{var{position:e}=this.getDefaultProps();e.left=this._hide?e.width:0,this.props.position=e,this.update()};var t=this.getDefaultProps();this.events=["ready"],this.props=Object.assign(t,AHe(t,this.props))}getDefaultProps(){var{screenHeight:e=0,screenWidth:t=0,screenTop:r=0}=$b();return{independent:!0,hide:!0,position:{top:r,left:t,width:t,height:e}}}show(){var e=this;return Vp()((function*(){if(e._hide)return e._hide=!1,e.props.position.left=0,e.update()}))()}hide(){var e=this;return Vp()((function*(){if(!e._hide)return e._hide=!0,e.props.position.left=e.props.position.width,e.update()}))()}insertView(e){var t={htmlId:this.id,position:this.props.position,independent:this.props.independent};Object.assign(t,e),fd(oGe,t),cr("onViewDidResize",this.handleWindowResize)}updateView(e){var t={htmlId:this.id,position:this.props.position,independent:this.props.independent};Object.assign(t,e),fd(sGe,t)}removeView(e){var t=Object.assign({htmlId:this.id,independent:this.props.independent},e);fd(lGe,t),pr("onViewDidResize",this.handleWindowResize)}postMessage(e){return new Promise(((t,r)=>{fd(cGe,{htmlId:this.id,independent:this.props.independent,data:JSON.stringify(e),success:t,fail:r})}))}},G()(iGe.prototype,"insertView",[Nt],Object.getOwnPropertyDescriptor(iGe.prototype,"insertView"),iGe.prototype),G()(iGe.prototype,"updateView",[Nt],Object.getOwnPropertyDescriptor(iGe.prototype,"updateView"),iGe.prototype),G()(iGe.prototype,"removeView",[Nt],Object.getOwnPropertyDescriptor(iGe.prototype,"removeView"),iGe.prototype),iGe),dGe="https://res.wx.qq.com/op_res/QTADvaCvE516_xRgOJ7MxnMeM_I-9bk-ngeQrOE4O6SjCk0zj-YeAVwoWDzJEFsA",pGe="https://res.wx.qq.com/op_res/uv-tkcFVNYmjSLo8oYLi6eHVUT_JFSWYhjoYd77-hNkfpHKJrm4qL1nTZBE7JdfM",hGe="https://res.wx.qq.com/op_res/MMZ7ikr1yDWDciblT6cTjGEYi5X7nUBkmxeFiAYY6pTrTZTcVWlcLB8_CsIP---k",fGe="https://res.wx.qq.com/op_res/VgAFtpPeKJeLoWBJ0QXzjP7ebzWqPqfVnfKclugzcpfp6_PkGC12B-uwBakQhvhP",gGe="https://res.wx.qq.com/op_res/eG0naaMvi5-ResXXogaG1JfWqr7axjp_DgJu1Q-Al-_KPOFwDImGlDAd1y8rHxv2",vGe="https://res.wx.qq.com/op_res/abRQv44fOA20modJp4dTaplyqzBvee7vYikt8Um1XjPwg4gGibt6kvjqG_ZgN4tl",mGe="https://res.wx.qq.com/op_res/Wvt127UTzax9olBJldzRshntgwJBswVtASV7AoLiSSsx85W_g2Umr33qRtOElgvD",yGe="https://res.wx.qq.com/op_res/ZjsLKqozyScMcOTIqmL1LHdV6M95Hz9luJu65Tf4jmzrYgBPKFKxKxDGw6GAaki9",bGe="https://res.wx.qq.com/op_res/tqnj65wMmdaQDVBAia5726VAaVtTVOcFF9PgeVrkis1gJWt_C2k7pHYWC_pjaGjR",_Ge="https://res.wx.qq.com/op_res/7f8h7wvyZo92NU4yaA3Kwp4yXLkdgj8jsA4GFUO7G6r3rBObYxqqEeDP9pgm1O2k",wGe="https://res.wx.qq.com/op_res/TnkjDXCOtdoxzei_oGVMdSiYu-0a3TBEgas1qwql8YYMyn8zwsFMDB0W272fSFZk",SGe="https://res.wx.qq.com/op_res/XWPIP9W-ZHRXSdZMoQH_RzjZ2msJo3gNU7H9HkkV8ect4MGc6KJmXRjwBqr01Mb1",CGe="https://res.wx.qq.com/op_res/wKk3iTI51g49P2MX1rfvuwvi-JfjpNM2z4wHFmXEwS8xOm0WZu0zcKnDR78QvoVo62u8fNsQEJ0rZFyWT_7K7A",kGe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAABPFJREFUeAHtnF2IVkUYx/e1NI3AMrpSaI2UMkKwi6AgQRCCLtILwaSL8sIiwUTrRvrQoAgqPyD6EDQvVMyr8FaI9sLwQr0QK7WgJKKLvlZsdXNb335/nFme9+y++75zOrPvHJ0H/jzPzJkz88z/fWbOzJyz29eXJTOQGcgMZAYyA3VloFHG8WazOZ37NoA1YCG4HUwDVUmzooqGqOcHcADsajQaI6H1BhPkyDlKQ0tDG+tx+QHaXx5KUplfXZFTN3L028hn+R4kZSLoJC0sca1cRX8BLrp0amo2Dq0AM5xjp4igR6I6yRC7BLwcjtpYBZXj6OfeWfSl0CrLDDFNyF4GvZGwttFtfe/K5TIE2Xuqetp05WwFhazvXVUXfENXtd5AhTJBHX7MTFAvCOJp0Q8Ogn3gng4+JH351kjefUy9T7q6F0DSE6w/RiO1FbXaWENMezUvj2Fs9Ym66VgEvQER/xoythBFddyeVLoDH+OD4fQ1iW1jGdd3+vshaY7Jq4UZK4LU+XfAVzKczEPv9QmvIe0ZcBl8C/p9fm01nbDy6WQdoeBc8Lu9Afslfw/2NGD3du/6a1Vp6t8NxiS03pgR1MdQ+wWH1hac+gBvH3Z589F3mOv/GDsJMypB6iEkHUF9aHo7E/sQJM1CP2DyZX5XSPc8GZ0g18NX0adNbxdh7wAPmjyZZwvpnidjLRRbOkYUDRMxq8k8AfyRwwvYOi/2opOBcz6Rip6qCNJQ0/DZWOj4/SZ9gTJXTDoJMxpBRMw8cAb8AY6Dz+ix1kE/tul5cvOP/Iw5xLQOesiR8ShamEySm3/kbLQIou4Lk7ExwbWbLoLehIS/wDKgp1U/aPeDaILW9iQ5iTbEmHCv0dvtDn3MQVr/LARa+4gwr2/D1lvPb9DJSTSCij2FgGHytBay66FiseTS7UI+OUd75VAmqAPzmaBMUAcGOlzOEdSBoCl7inXwY9xllgUvkvky0BmRFpFaaXt93j0VyYorSRIEOdqifAQarvuLCzRco8xP5ImwL8FOt+7CrFaSJIguPg48ORP1WFPDfQ5Poe8Cr4PKJdU5SKvsELk3pHBI2VQjqHjS6PukoxK9KBCBgrYuv4ItIIqkSlC7CJoPC4PMN89HYWOCSpMbYky+OpK1Q+b7gt87KKMz7SmR5Aii1xo2doLeTfoTw8YsbL0VmWnyopkpElScf/Qo3wTscYjeq70fjRVTcYoEFeefs8w5V/B5NRg2vq8nip426ShmigTpAM3L3xh6cumtyBnUZtlG9kDSXJOu3EyRIM03GlaKmnV2hYyt1bU+XPdyN4a+GkmnHzhjRWuSKRUanwN+tk5gv9bOCa6l+/FCO6f/Tz5R9Cf3Pwt05u1lK0ToS7bKJZ3QDOgaJA1Q/G1zyy3Yb5l0ZWYtCXK934Y+ZpgYMXZlZqpbjY4dJIpGGVYrKfgemAGi7MdqS5AYhKTfUM/JjiV1HmKxOGmpNxPUQsf4RCZoPCctOWUIsusPu+tuqTjRRDPUrzIEXTaNzDZ2qqb1cSjUyTJPsfM0ssQ1tIJH7WFs/Wlm8K/j6oilFN13Arvjt99EdtVuGYIOUrMnSOuPVV21lEahA6FuBM8hRMx0GjkKloY21uPyA7Qf/x8LsDjTkn45eAWcAjqzsRM3ySREPsk3+Shfg8nhniyZgcxAZiAzkBmoMQP/Af+8lwiMNw+aAAAAAElFTkSuQmCC";function IGe(e){var t=`\n    <view class="container" independent="true" clickable="true">\n      <view class="overlay"></view>\n      <view class="navigationBar" clickable="true">${e.title}</view>\n\n      <view class="maxWindow"> \n        <view class="cameraContainer" hidden="${e.isVoiceRoom}">\n          <camera class="camera"></camera>\n        </view>\n        <view class="voipContainer" hidden="${e.isVoiceRoom}">\n          <view class="previewWindowSelfContainer"></view>\n          <view class="previewWindowOtherContainer"></view>\n        </view>\n\n        <image class="maskBottom" hidden="${e.isVoiceRoom}" iconPath="${wGe}"></image>\n        <image class="maskTop" hidden="${e.isVoiceRoom}" iconPath="${SGe}"></image>\n        <image class="maskVoice" hidden="${!e.isVoiceRoom}" iconPath="${CGe}"></image>\n\n        <view class="mainContainer">\n          <view class="videoInfoWindowNicknameCenter" hide="true" hidden="${e.isVoiceRoom}">${e.nickname}</view>\n          <view class="videoInfoWindow" hidden="${e.isVoiceRoom}">\n            <view class="videoInfoWindowInfo">\n              <view class="videoInfoWindowNickname">${e.nickname}</view>\n              <view class="videoInfoWindowTips">${e.isCaller?"正在等待对方接收邀请":"邀请你视频通话"}</view>\n            </view>\n            ${e.headImage?`<image class="videoInfoWindowHeadImage" iconPath="${e.headImage}"></image>`:""}\n          </view>\n\n          <view class="operationContainer videoOperationArea" hide="true" hidden="${e.isVoiceRoom}">\n            <view class="operationItemContainer">\n              <view class="operationItemBtn" >\n                <image class="operationItemIcon switchVoiceBtn" iconPath="${hGe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">切到语音通话</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon hangupBtn" iconPath="${gGe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">挂断</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon switchCameraBtn" iconPath="${dGe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">切换摄像头</view>\n            </view>\n          </view>\n\n          <view class="voiceInfoWindow" hide="${!e.isVoiceRoom}" hidden="${e.disableSwitchVoice}">\n            ${e.headImage?`<image class="voiceInfoWindowHeadImage" iconPath="${e.headImage}"></image>`:""}\n            <view class="voiceInfoWindowNickname">${e.nickname}</view>\n            <view class="voiceInfoWindowTips">${e.isCaller?"正在等待对方接收邀请":"邀请你语音通话"}</view>\n          </view>\n\n          <view class="operationContainer voiceOperationArea" hide="true" hidden="${e.disableSwitchVoice}">\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon muteBtn" iconPath="${mGe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">静音</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn">\n                <image class="operationItemIcon hangupBtn" iconPath="${gGe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">挂断</view>\n            </view>\n            <view class="operationItemContainer">\n              <view class="operationItemBtn" >\n                <image class="operationItemIcon handsFreeBtn" iconPath="${yGe}" clickable="true"></image>\n              </view>\n              <view class="operationItemText">免提</view>\n            </view>\n          </view>\n\n          <view class="operationContainer callArea" hidden="${!e.isCaller}">\n            <view class="operationItemContainer callItemContainer">\n              <view class="operationItemTop switchVoiceBtn callSwitchVoiceBtn" hidden="${e.isVoiceRoom||e.disableSwitchVoice}" clickable="true">\n                <image class="operationItemIcon switchVoiceIcon" iconPath="${pGe}" clickable="true" bubbles="true"></image>\n                <view class="operationItemText switchVoiceText">切到语音通话</view>\n              </view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon cancelBtn" iconPath="${gGe}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">取消</view>\n              </view>\n            </view>\n          </view>\n          \n          <view class="operationContainer listenArea" hidden="${e.isCaller}">\n            <view class="operationItemContainer listenItemContainer">\n              <view class="operationItemTop"></view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon refuseBtn" iconPath="${gGe}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">拒绝</view>\n              </view>\n            </view>\n            <view class="operationItemContainer listenItemContainer"></view>\n            <view class="operationItemContainer listenItemContainer">\n              <view class="operationItemTop switchVoiceBtn" hidden="${e.isVoiceRoom||e.disableSwitchVoice}" clickable="true">\n                <image class="operationItemIcon switchVoiceIcon" iconPath="${pGe}" clickable="true" bubbles="true"></image>\n                <view class="operationItemText switchVoiceText">切到语音通话</view>\n              </view>\n              <view class="operationItemBottom">\n                <view class="operationItemBtn">\n                  <image class="operationItemIcon listenBtn" iconPath="${fGe}" clickable="true"></image>\n                </view>\n                <view class="operationItemText">接听</view>\n              </view>\n            </view>\n          </view>\n          \n          <view class="tips" hide="true">已接通</view>\n          <view class="duration" hide="true">00:01</view>\n          <view class="minPreviewWindowMask" clickable="true"></view>\n\n          <view class="scaleBtn" clickable="true">\n            <image class="scaleBtnIcon" iconPath="${kGe}" clickable="true" bubbles="true"></image>\n          </view>\n        </view>\n      </view>\n    </view>\n  `,r=`\n    <view class="minWindow" draggable="true" hide="true" independent="true" clickable="true">\n      <view class="minWindowContainer">\n        <view class="minWindowLeft" clickable="true">\n          ${e.isVoiceRoom?"":`<view class="minWindowVoipContainer" transEvt="true">\n              <image class="minWindowHeadImage" iconPath="${e.headImage}"></image>\n              <view class="minWindowVoip"></view>\n            </view>`}\n          <view class="minWindowInfo" transEvt="true">\n            <view class="minWindowNickname">${e.nickname}</view>\n            <view class="minWindowDuration">等待接听</view>\n          </view> \n        </view>\n        <view class="minWindowRight minWindowHangupBtn" clickable="true">\n          <image class="minWindowHangupIcon" iconPath="${vGe}" clickable="true" bubbles="true"></image>\n          <view class="minWindowHangupText" transEvt="true">挂断</view>\n        </view>\n      </view>\n    </view>\n  `;return 2===e.minWindowType&&(r=`\n      <view class="minWindow" draggable="true" hide="true" independent="true" clickable="true">\n        <view class="minWindowContainer">\n          <view class="minWindowVoipContainer" clickable="true">\n            ${e.isVoiceRoom?`<image class="minWindowHeadImage" iconPath="${vGe}" clickable="true" bubbles="true"></image>`:`<image class="minWindowHeadImage" iconPath="${e.headImage}" clickable="true" bubbles="true"></image>\n            <view class="minWindowVoip" transEvt="true"></view>`}\n          </view>\n          <view class="minWindowInfo" clickable="true">\n            <view class="minWindowNickname" transEvt="true">${e.nickname}</view>\n            <view class="minWindowDuration" transEvt="true">等待接听</view>\n          </view>\n        </view>\n      </view>\n    `),{maxWindowTemplate:t,minWIndowTemplate:r}}var PGe={CALL:0,CANCEL:1,HANG_UP:2,SWITCH_VOICE:3,REFUSE:4,ACCEPT:5,ACCEPT_AND_SWITCH_VOICE:6,RECEIVE_CALL:7,BUSY:8,NETWORK_DISCONNECT:9,NETWORK_SIGNAL_WEAK:10,DEVICE_NOT_SUPPORT:11,DISABLE_CHAT:12,ARREAR:13,SYSTEM_ERROR:14,OFFLINE_RECOVERY:15},TGe="voip1v1",AGe=6e4;class xGe{constructor(e){var{roomType:t="video",roomId:r="",groupId:n=0,disableSwitchVoice:i=!1,command:a=-1,caller:o={},listener:s={},sender:l=""}=e;this.roomType=t,this.roomId=r,this.groupId=n,this.disableSwitchVoice=i,this.command=a,this.caller=o,this.listener=s,this.sender=l}}function EGe(){var{screenWidth:e,screenHeight:t,statusBarHeight:r}=fw(),n=Ie?44:46,i=r+n+12,a=t-i,o=e-32,s=o-32-24,l=t-105,c=t-226,u=e-151,d=re.menuButtonInfo&&re.menuButtonInfo.zIndex||1e3,p={left:e-87,top:24,width:75,height:162},h={left:0,top:0,width:e,height:a};return{styleTree:{container:{width:e,height:t,zIndex:d-1},overlay:{position:"absolute",left:0,top:0,width:e,height:t,backgroundColor:"#000000",opacity:0},navigationBar:{marginTop:r,width:e,height:n,color:"#ffffff",lineHeight:n,fontSize:17,textAlign:"center",opacity:0},maxWindow:{position:"absolute",left:0,top:t,width:e,height:a+16,borderRadius:16,backgroundColor:"#262930"},cameraContainer:{position:"absolute",left:0,top:0,width:e,height:a},camera:{position:"absolute",left:0,top:0,width:e,height:a},voipContainer:{position:"absolute",left:0,top:0,width:e,height:a},mainContainer:{position:"absolute",left:0,top:0,width:e,height:a},videoAreaContainer:{position:"absolute",left:0,top:0,width:e,height:a},voiceAreaContainer:{position:"absolute",left:0,top:0,width:e,height:a},previewWindow:{width:e,height:a},scaleBtn:{position:"absolute",left:0,top:0,width:60,height:60},scaleBtnIcon:{position:"absolute",left:16,top:24,width:24,height:24},videoInfoWindow:{flexDirection:"row",justifyContent:"flex-end",position:"absolute",right:16,top:24,height:64,width:s},videoInfoWindowNicknameCenter:{position:"absolute",textAlign:"center",color:"#ffffff",lineHeight:20,fontSize:14,height:20,width:e,top:24,left:0},voiceInfoWindow:{position:"absolute",top:234,left:0,width:e,height:200,alignItems:"center"},voiceInfoWindowHeadImage:{width:96,height:96,borderRadius:16,marginBottom:8},voiceInfoWindowNickname:{width:e,height:30,color:"#ffffff",lineHeight:30,fontSize:22,textAlign:"center"},voiceInfoWindowTips:{marginTop:4,width:e,height:20,color:fNe("rgba(255,255,255,0.9)"),lineHeight:20,fontSize:14,textAlign:"center"},duration:{position:"absolute",bottom:177,width:e,height:16,color:"#ffffff",lineHeight:16,fontSize:14,textAlign:"center"},tips:{position:"absolute",left:e/2-33,bottom:225,width:66,labelPadding:[0,12,0,12],height:28,color:"#ffffff",lineHeight:28,fontSize:14,textAlign:"center",backgroundColor:fNe("rgba(0,0,0,0.5)"),borderRadius:6},operationContainer:{position:"absolute",flexDirection:"row",justifyContent:"space-between",bottom:0,width:e,height:149,paddingLeft:38,paddingRight:38},operationItemContainer:{width:84,height:149,alignItems:"center"},listenItemContainer:{height:235},listenArea:{height:235},callItemContainer:{height:235},callArea:{height:235,justifyContent:"center"},switchVoiceText:{marginTop:8},operationItemTop:{width:84,height:57,alignItems:"center"},operationItemBottom:{position:"absolute",bottom:0,left:0,width:84,height:149,alignItems:"center"},callBtnArea:{position:"absolute",bottom:0,left:0,width:e,height:149,alignItems:"center"},operationItemBtn:{borderRadius:32,justifyContent:"center",alignItems:"center",width:64,height:64},operationItemIcon:{width:64,height:64},switchVoiceIcon:{width:32,height:32},operationItemText:{marginTop:16,color:"#ffffffe5",lineHeight:17,fontSize:12,textAlign:"center",width:104,height:17,overflow:"visible"},videoInfoWindowInfo:{width:s-60,height:64},videoInfoWindowTips:{marginTop:6,width:s-60,height:20,color:fNe("rgba(255, 255, 255, 0.7)"),lineHeight:20,fontSize:14,textAlign:"right"},videoInfoWindowNickname:{width:s-60,height:30,color:"#ffffff",lineHeight:30,fontSize:22,textAlign:"right"},videoInfoWindowHeadImage:{marginLeft:12,width:64,height:64,borderRadius:8},minPreviewWindowMask:{position:"absolute",...p},previewWindowSelfContainer:{position:"absolute",...p,zIndex:2},previewWindowOtherContainer:{position:"absolute",...h,zIndex:1},maskTop:{position:"absolute",left:0,top:0,width:e,height:145},maskBottom:{position:"absolute",left:0,top:a-201,width:e,height:201},maskVoice:{position:"absolute",left:0,top:0,width:e,height:a}},minWindowStyle1:{minWindow:{position:"absolute",left:16,top:l,height:72,width:o,backgroundColor:fNe("rgba(38,41,48,1)"),borderRadius:9.6,zIndex:d,opacity:0},minWindowContainer:{flexDirection:"row",alignItems:"center",height:72,width:o},minWindowLeft:{flexDirection:"row",paddingLeft:12,paddingRight:12,height:48,width:s},minWindowVoipContainer:{paddingRight:12,width:56,height:48,borderRadius:6},minWindowHeadImage:{width:48,height:48,borderRadius:6},minWindowVoip:{position:"absolute",left:0,top:0,width:48,height:48,borderRadius:6},minWindowInfo:{paddingLeft:4,width:s-64,height:48},minWindowNickname:{width:s-64,height:24,color:"#ffffff",lineHeight:24,fontSize:17},minWindowDuration:{marginTop:4,width:s-64,height:20,color:fNe("rgba(255, 255, 255, 0.7)"),lineHeight:20,fontSize:14},minWindowRight:{width:32,height:51},minWindowHangupIcon:{width:32,height:32},minWindowHangupText:{marginTop:2,width:32,height:17,color:fNe("rgba(255, 255, 255, 0.9)"),lineHeight:17,fontSize:12,textAlign:"center"}},minWindowStyle2:{minWindow:{position:"absolute",top:c,left:u,height:64,width:135,backgroundColor:fNe("rgba(44,44,44,0.70)"),borderRadius:9.6,zIndex:d,opacity:0},minWindowContainer:{flexDirection:"row",alignItems:"center",height:64,width:135},minWindowVoipContainer:{paddingLeft:12,paddingRight:12,width:64,height:40},minWindowHeadImage:{width:40,height:40,borderRadius:4},minWindowVoip:{position:"absolute",left:12,top:0,width:40,height:40,borderRadius:4},minWindowInfo:{width:59,height:43},minWindowNickname:{width:59,height:24,color:"#ffffff",lineHeight:24,fontSize:17},minWindowDuration:{marginTop:3,width:59,height:16,color:fNe("rgba(255, 255, 255, 0.7)"),lineHeight:16,fontSize:14}},maxPreviewWindowPosition:h,minPreviewWindowPosition:p,minPreviewWindowVoipPosition:{left:0,top:0,width:75,height:162},screenWidth:e,minWindowLeft2:u,maxWindowTop:i,maxWindowHeight:a}}var MGe={},RGe=!1,DGe=()=>{RGe||(Object.assign(MGe,EGe()),RGe=!0)},OGe=(e={})=>{var t=lx("getCloudSession","webapi_getcloudimsession",(e=>({use_pluginid:void 0!==e.pluginId})),(e=>{e.sessionKey=e.session_key,delete e.session_key}));e.pluginId=sh(void 0),t(e)},LGe=(e={})=>{var t=lx("generateRoomId","webapi_join1v1voiproom",(e=>({use_pluginid:void 0!==e.pluginId,groupid:e.groupId,room_type:"join"===e.type?2:1,target_openid:e.targetOpenid||""})),(e=>{e.targetSupport=0===e.target_version,delete e.target_version,e.roomId=e.imroomid,delete e.imroomid,e.groupId=e.groupid,delete e.groupid}));e.pluginId=sh(void 0),t(e)},NGe=(e={})=>{var t=lx("setVoIPChatRecord","webapi_set1v1voipcallrecord",(e=>({use_pluginid:void 0!==e.pluginId,caller_openid:e.callerOpenid,receiver_openid:e.listenerOpenid,video_time:e.videoTime||0,voice_time:e.voiceTime||0})),(()=>{}));e.pluginId=sh(void 0),t(e)},BGe=(e={})=>{var t=operateWXDataFactory("getVoIPChatRecord","webapi_getapp1v1voipstatus",(e=>({use_pluginid:void 0!==e.pluginId,begin_date:e.begin,end_date:e.end})),(e=>{var t=e.voip_status||{},r={};r.voiceCount=t.voice_count||0,r.voiceTime=t.voice_time||0,r.videoCount=t.video_count||0,r.videoTime=t.video_time||0,e.status=r,delete e.voip_status}));e.pluginId=getPluginId(void 0),t(e)},$Ge=(e={})=>{var t=lx("deductVoIPCallPay","webapi_deductapp1v1voipcallpay",(e=>({op_type:e.operationType,call_type:e.callType,use_pluginid:void 0!==e.pluginId,roomid:e.roomId,session_key:e.sessionKey})),(e=>{delete e.rawData}));e.pluginId=sh(void 0),t(e)},FGe=Cf(Nre),jGe=Cf(U6),WGe=Cf(SOe),VGe=Cf(LGe),UGe=Cf(OGe),zGe=Cf($Ge),qGe={0:"#262930ff",1:"#FA5151ff",2:"#FA9D3Bff",3:"#3D7257ff",4:"#1485EEff",5:"#6467F0ff"},HGe={enable:!1,ignoreSelfVersion:!1,minWindowType:1,popupDuration:300,userSessionInfo:{},widget:null,backgroundColor:qGe[0],occupied:!1},GGe=(e,t)=>{_.info(`[1v1 voip] sendMessage command: ${t}`);var r=e.sender,n=HGe.userSessionInfo.openid,i=Object.assign({},e,{sender:n,command:t});fHe({msgType:TGe,receiver:r,data:i,complete(e){_.info(`[1v1 voip] sendChannelMessage command: ${t} message: ${JSON.stringify(i)}`,e)}})},KGe=()=>!(ke||Ie);vHe((e=>{_.info("[1v1 voip] onReceiveMsgChannel: ",JSON.stringify(e));var{msgType:t,data:r}=e,n=HGe.widget;t===TGe&&(n?r.sender===n.sessionInfo.otherOpenid?n.handleReceiveMessage(r.command):n.sendMessage(PGe.BUSY):r.command===PGe.CALL&&YGe().then((()=>{KGe()&&!HGe.ignoreSelfVersion?GGe(r,PGe.DEVICE_NOT_SUPPORT):HGe.enable?yNe({complete(e){_.info("[1v1 voip] hasJoinVoIPChat",e),HGe.occupied=e.join,HGe.occupied?GGe(r,PGe.BUSY):zGe({roomId:r.roomId,sessionKey:HGe.userSessionInfo.sessionKey,callType:"video"===r.roomType?1:0,operationType:1}).then((e=>{_.info("[1v1 voip] deductVoIPCallPay",e);var t=parseInt(e.errcode,10),n=parseInt(e.unused_quota_count,10);0===t&&n>0?HGe.widget=new JGe({role:"listener",minWindowType:HGe.minWindowType,backgroundColor:HGe.backgroundColor,...r}):GGe(r,PGe.ARREAR)})).catch((e=>{console.log("[1v1 voip] deductVoIPCallPay fail: ",e),GGe(r,PGe.SYSTEM_ERROR)}))}}):GGe(r,PGe.DISABLE_CHAT)})))})),bHe((e=>{_.info("[1v1 voip] onReceiveCacheMsgChannel: ",JSON.stringify(e));var t=new Set,r=null===HGe.widget;e.filter((e=>e.msgType===TGe)).forEach((e=>{var{sendTime:n,data:i}=e;t.has(i.sender)||Date.now()-n>AGe||i.command===PGe.CALL&&r&&(t.add(i.sender),GGe(i,PGe.OFFLINE_RECOVERY))}))})),tg((e=>{_.info("[1v1 voip] onNetworkStatusChange",e),HGe.widget&&HGe.widget.onNetworkStatusChange(e)})),DOe((e=>{_.info("[1v1 voip] onVoIPChatInterrupted",e),HGe.widget&&HGe.widget.onVoIPChatInterrupted(e)})),POe((e=>{_.info("[1v1 voip] onVoIPChatMembersChanged",e),HGe.widget&&HGe.widget.onVoIPChatMembersChanged(e)}));class JGe{constructor(e){var t={};t.roomType=e.roomType||"video",t.isVoiceRoom="voice"===e.roomType,t.isCaller="caller"===e.role,t.groupId=e.groupId,t.roomId=e.roomId,t.disableSwitchVoice=e.disableSwitchVoice||!1,t.minWindowType=e.minWindowType||1,t.caller=e.caller,t.listener=e.listener,t.lifespan=HGe.userSessionInfo.lifespan,t.sessionKey=HGe.userSessionInfo.sessionKey,t.createSessionTime=HGe.userSessionInfo.createSessionTime,t.handsFree=!t.isVoiceRoom,t.muteConfig={muteMicrophone:!1,muteEarphone:!1},t.backgroundColor=e.backgroundColor,this.node={container:null,overlay:null,navigationBar:null,maxWindow:null,scaleBtn:null,hangupBtns:null,muteBtn:null,handsFreeBtn:null,cancelBtn:null,refuseBtn:null,listenBtn:null,switchVoiceBtns:null,switchCameraBtn:null,cameraContainer:null,voipContainer:null,videoOperationArea:null,voiceOperationArea:null,videoInfoWindow:null,voiceInfoWindow:null,videoInfoWindowNicknameCenter:null,callArea:null,listenArea:null,minPreviewWindowMask:null,previewWindowSelfContainer:null,previewWindowOtherContainer:null,previewWindowSelf:null,previewWindowOther:null,tips:null,camera:null,duration:null,minWindow:null,minWindowLeft:null,minWindowInfo:null,minWindowHangupBtn:null,minWindowDuration:null,minWindowVoipContainer:null,minWindowVoip:null,minWindowHeadImage:null,videoInfoWindowTips:null,voiceInfoWindowTips:null,maskBottom:null,maskTop:null,maskVoice:null,callSwitchVoiceBtn:null,mainContainer:null},this.statistics={videoStartTime:0,videoEndTime:0,voiceStartTime:0,voiceEndTime:0},this.callback={success:e.success,fail:e.fail,complete:e.complete},t.isCaller?(t.selfOpenid=e.caller.openid,t.otherOpenid=e.listener.openid):(t.otherOpenid=e.caller.openid,t.selfOpenid=e.listener.openid),this.sessionInfo=t,this.isPreviewWindowOtherMax=!0,this.hasOtherReceiveCall=!1,this.showMinWindow=!1,this.onDraging=!1,this.onCalling=!1,this.destoryed=!1,this.hasJoinVoIPChat=!1,this.startChatTime=0;var{maxWindowTemplate:r,minWIndowTemplate:n}=this.compileTemplate(t);DGe(),MGe.styleTree.maxWindow.backgroundColor=t.isVoiceRoom?t.backgroundColor:qGe[0];var i=new aGe(r,MGe.styleTree),a=this.isMinWindowTypeMax()?MGe.minWindowStyle1:MGe.minWindowStyle2;a.minWindow.backgroundColor=t.backgroundColor;var o=new aGe(n,a);Object.keys(this.node).forEach((e=>{this.node[e]=i.querySelector(`.${e}`)}));["minWindow","minWindowLeft","minWindowRight","minWindowHangupBtn","minWindowDuration","minWindowInfo","minWindowVoipContainer","minWindowHeadImage","minWindowVoip","minWindowContainer"].forEach((e=>{this.node[e]=o.querySelector(`.${e}`)})),this.node.hangupBtns=i.querySelectorAll(".hangupBtn"),this.node.switchVoiceBtns=i.querySelectorAll(".switchVoiceBtn"),this.bindEvent(),this.node.container.insert(),this.node.minWindow.insert(),this.startWaitAnimation(),t.isCaller||(this.startVibrateLong(),this.sendMessage(PGe.RECEIVE_CALL)),t.isCaller&&(setTimeout((()=>{this.destoryed||this.onCalling||this.showMinWindow||this.showTips(wHe[1],2e4)}),2e4),setTimeout((()=>{this.destoryed||this.onCalling||(this.sendMessage(PGe.CANCEL),this.showTipsThenDestory(wHe[2]))}),6e4),this.call()),this.payTimer=setInterval((()=>{this.onCalling&&zGe({roomId:t.roomId,sessionKey:t.sessionKey,callType:t.isVoiceRoom?0:1,operationType:2}).then((e=>{_.info("[1v1 voip]: deductVoIPCallPay: ",e);var t=parseInt(e.errcode,10);3===t?(this.sendMessage(PGe.ARREAR),this.showTipsThenDestory(CHe[8])):0!==t&&(this.sendMessage(PGe.SYSTEM_ERROR),this.showTipsThenDestory(CHe[2]))})).catch((e=>{_.info("[1v1 voip]: deductVoIPCallPay fail: ",e),this.sendMessage(PGe.SYSTEM_ERROR),this.showTipsThenDestory(CHe[2])}))}),AGe)}bindEvent(){var{container:e,overlay:t,navigationBar:r,scaleBtn:n,maxWindow:i,minWindow:a,minWindowLeft:o,minWindowInfo:s,minWindowHangupBtn:l,cancelBtn:c,refuseBtn:u,listenBtn:d,muteBtn:p,handsFreeBtn:h,minPreviewWindowMask:f,switchCameraBtn:g,hangupBtns:v,switchVoiceBtns:m,minWindowVoipContainer:y,minWindowContainer:b,mainContainer:_}=this.node;e.on("ready",(()=>{this.popupMaxWindow(),r.fadeTo(.9,HGe.popupDuration),t.fadeTo(.87,HGe.popupDuration),this.changeStatusBarColor()})),n&&n.on("click",(()=>{this.resetStatusBarColor(),this.showMinWindow=!0;var n=this.sessionInfo.isVoiceRoom;r.hide(),t.fadeOut(),_.hide(),this.popDownMaxWindow().then((()=>{e.hide()})),this.showMinWindowVoipPreviewWindow(),!n&&this.onCalling&&this.hideOtherVoipPreviewWindow(),setTimeout((()=>{n?(this.hideMask(),b.style.opacity=0,b.update(),a.fadeIn(5),b.fadeTo(1,200)):a.fadeIn(200)}),200)}));var w=()=>{var e=this.onCalling?CHe[5]:wHe[4],t=this.onCalling?PGe.HANG_UP:PGe.CANCEL;this.sendMessage(t),this.showTipsThenDestory(e,0)},S=()=>{if(!this.onDraging){this.showMinWindow=!1;var{isVoiceRoom:n}=this.sessionInfo;!n&&this.onCalling&&this.showOtherVoipPreviewWindow(),this.hideMinWindowVoipPreviewWindow(),e.show(),n?b.fadeTo(0,100).then((()=>{this.showMask(),a.fadeOut(5).then((()=>{b.style.opacity=1,b.update()}))})):a.fadeOut(100),t.show(),t.fadeTo(.87,HGe.popupDuration),this.popupMaxWindow().then((()=>{this.node.maxWindow.style.borderRadius=16,this.node.maxWindow.update(),r.show(),_.show()})),this.changeStatusBarColor()}};l&&l.on("click",(()=>{w()})),o&&o.on("click",(()=>{S()})),s&&s.on("click",(()=>{this.isMinWindowTypeMax()||S()})),y&&y.on("click",(()=>{var{isVoiceRoom:e}=this.sessionInfo;this.isMinWindowTypeMax()||(e?w():S())})),a&&a.on("drag",(e=>{var t=a.position.width/2,r=MGe.screenWidth/2,n=e.stage,o=e.drag;"dragging"===n&&(this.onDraging=!0),"end"===n&&this.onDraging&&(this.onDraging=!1,a.position.left=16,o.left+t>r&&!this.isMinWindowTypeMax()&&(a.position.left=MGe.minWindowLeft2),a.position.top=o.top,a.animate({finalStyle:{...a.position},duration:100}),i.position=Object.assign({},a.position),i.update())})),p&&p.on("click",(()=>{var e=this.sessionInfo.muteConfig,t=!e.muteMicrophone;e.muteMicrophone=t,kOe({muteConfig:{muteMicrophone:t}});var r=t?bGe:mGe;p.props.iconPath=r,p.update()})),c&&c.on("click",(()=>{this.sendMessage(PGe.CANCEL),this.showTipsThenDestory(wHe[4])})),u&&u.on("click",(()=>{this.stopVibrateLong(),this.sendMessage(PGe.REFUSE),this.showTipsThenDestory(SHe[2])})),v.forEach((e=>{e.on("click",(()=>{this.sendMessage(PGe.HANG_UP),this.showTipsThenDestory(CHe[5])}))})),h&&h.on("click",(()=>{this.toggleHandsFree();var{handsFree:e}=this.sessionInfo;this.showTips(PHe[e?6:7])})),m.forEach((e=>{e.on("click",(()=>{var{isCaller:e}=this.sessionInfo;this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.onCalling||e?(this.switchToVoiceCall(),this.showTips(CHe[7]),this.sendMessage(PGe.SWITCH_VOICE)):(this.stopVibrateLong(),this.listenerJoinVoIPChat().then((()=>{this.onCalling=!0,this.stopWaitAnimation(),this.pullUpCallingInterface(),this.toggleHandsFree(),this.showTips(CHe[7]),this.sendMessage(PGe.ACCEPT_AND_SWITCH_VOICE),this.showDuration()})))}))})),d&&d.on("click",(()=>{this.stopVibrateLong(),this.listenerJoinVoIPChat().then((()=>{var{isVoiceRoom:e}=this.sessionInfo,t=e?IHe[0]:SHe[0];this.onCalling=!0,this.stopWaitAnimation(),this.showTips(t),this.showDuration(),this.pullUpCallingInterface(),this.sendMessage(PGe.ACCEPT)}))})),g&&g.on("click",(()=>{var e=this.node.previewWindowSelf,t="front"===e.props.configCamera?"back":"front";e.props.configCamera=t,e.update()})),f&&f.on("click",(()=>{this.switchVoipPreviewWindow()}))}toggleHandsFree(){var{handsFree:e,muteConfig:t}=this.sessionInfo,r=!e;kOe({muteConfig:t,handsFree:r});var{handsFreeBtn:n}=this.node;n&&(n.props.iconPath=r?_Ge:yGe,n.update()),this.sessionInfo.handsFree=r}isMinWindowTypeMax(){return 1===this.sessionInfo.minWindowType}call(){var e=this.callback,t=Date.now();VGe({type:"create",targetOpenid:this.sessionInfo.otherOpenid}).then((r=>{_.info("[1v1 voip] generateRoomId",r);var n=Date.now();this.sessionInfo.groupId=r.groupId,this.sessionInfo.roomId=r.roomId,zGe({roomId:this.sessionInfo.roomId,sessionKey:HGe.userSessionInfo.sessionKey,callType:"video"===this.sessionInfo.roomType?1:0,operationType:1}).then((r=>{_.info("[1v1 voip] deductVoIPCallPay",r);var i=parseInt(r.errcode,10),a=parseInt(r.unused_quota_count,10);if(0===i&&a>0)WGe({...this.sessionInfo}).then((r=>{this.hasJoinVoIPChat=!0,this.playCallTone();var i=Date.now();_.info("[1v1 voip] generateRoomId use",n-t),_.info("[1v1 voip] join1v1VoIPChat use",i-n),_.info("[1v1 voip] join1v1VoIPChat",r),this.sendMessage(PGe.CALL);var a="join1v1Chat:ok";e.success&&e.success({errMsg:a,errCode:0}),e.complete&&e.complete({errMsg:a,errCode:0})})).catch((t=>{this.showTipsThenDestory("呼叫失败");var r=t.errMsg.replace("join1v1VoIPChat","join1v1Chat");e.fail&&e.fail({errMsg:r,errCode:t.errCode}),e.complete&&e.complete({errMsg:r,errCode:t.errCode})}));else{this.showTipsThenDestory(CHe[8]);var o=`join1v1Chat:fail ${r.errmsg}`;e.fail&&e.fail({errMsg:o,errCode:i}),e.complete&&e.complete({errMsg:o,errCode:i})}})).catch((t=>{_.info("[1v1 voip] deductVoIPCallPay",t),this.showTipsThenDestory("呼叫失败");var r=t.errMsg.replace("deductVoIPCallPay","join1v1Chat");e.fail&&e.fail({errMsg:r}),e.complete&&e.complete({errMsg:r})}))}))}reCall(){_.info("[1v1 voip] reCall onCalling: ",this.onCalling),this.onCalling||this.sendMessage(PGe.CALL)}listenerJoinVoIPChat(){return VGe({type:"join",groupId:this.sessionInfo.groupId}).then((e=>(this.sessionInfo.groupId=e.groupId,this.sessionInfo.roomId=e.roomId,WGe({...this.sessionInfo}).then((e=>{this.hasJoinVoIPChat=!0,_.info("[1v1 voip] join1v1VoIPChat",e)})).catch((e=>{this.showTipsThenDestory("接听失败"),_.error(e)})))))}onVoIPChatInterrupted(){this.showTipsThenDestory(CHe[2])}onVoIPChatMembersChanged(e){var t=e.openIdList,{selfOpenid:r,isCaller:n}=this.sessionInfo,{callSwitchVoiceBtn:i}=this.node;2===t.length&&n&&(i&&i.hide(),this.showDuration()),this.onCalling&&1===t.length&&t[0]===r?this.showTipsThenDestory(CHe[4]):n||1!==t.length||t[0]!==r||this.showTipsThenDestory(CHe[4])}sendMessage(e){if(!this.destoryed){var{otherOpenid:t,selfOpenid:r}=this.sessionInfo,n=new xGe({...this.sessionInfo,sender:r,command:e});fHe({msgType:TGe,receiver:t,data:n,complete(t){_.info(`[1v1 voip] sendMessage ${e}`,t)}})}}handleReceiveMessage(e){var{isVoiceRoom:t}=this.sessionInfo;switch(e){case PGe.CALL:this.sendMessage(PGe.BUSY);break;case PGe.ACCEPT:this.stopCallTone(),this.onCalling=!0,this.stopWaitAnimation(),this.pullUpCallingInterface(),!t&&this.showMinWindow&&(this.hideOtherVoipPreviewWindow(),this.showMinWindowVoipPreviewWindow()),this.showTips(wHe[3]);break;case PGe.SWITCH_VOICE:this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.switchToVoiceCall(),this.showTips(CHe[6]);break;case PGe.ACCEPT_AND_SWITCH_VOICE:this.stopCallTone(),this.onCalling=!0,this.stopWaitAnimation(),this.sessionInfo.roomType="voice",this.sessionInfo.isVoiceRoom=!0,this.changeMaxWindowBackground(),this.pullUpCallingInterface(),this.toggleHandsFree(),this.showTips(CHe[6]);break;case PGe.RECEIVE_CALL:this.hasOtherReceiveCall=!0;break;case PGe.CANCEL:this.showTipsThenDestory(SHe[1]);break;case PGe.REFUSE:var r=t?kHe[5]:wHe[5];this.showTipsThenDestory(r);break;case PGe.HANG_UP:this.showTipsThenDestory(CHe[4]);break;case PGe.NETWORK_SIGNAL_WEAK:this.showTips(CHe[0]);break;case PGe.BUSY:this.showTipsThenDestory(wHe[6]);break;case PGe.DEVICE_NOT_SUPPORT:this.showTipsThenDestory(kHe[0]);break;case PGe.DISABLE_CHAT:this.showTipsThenDestory(kHe[7]);break;case PGe.ARREAR:case PGe.SYSTEM_ERROR:break;case PGe.OFFLINE_RECOVERY:this.reCall()}}onNetworkStatusChange(e){var{isConnected:t,networkType:r}=e,{isVoiceRoom:n}=this.sessionInfo;t?("2g"===r||!n&&"3g"===r)&&(this.sendMessage(PGe.NETWORK_SIGNAL_WEAK),this.showTips(CHe[1])):this.showTipsThenDestory(CHe[3])}switchToVoiceCall(){this.toggleHandsFree();var{videoInfoWindowNicknameCenter:e,voipContainer:t,cameraContainer:r,switchVoiceBtns:n,videoInfoWindow:i,voiceInfoWindow:a,voiceInfoWindowTips:o,videoOperationArea:s,voiceOperationArea:l,minWindowVoipContainer:c,minWindowInfo:u,minWindowHeadImage:d,maskBottom:p,maskTop:h}=this.node,{isCaller:f}=this.sessionInfo;p&&(p.remove(),this.node.maskBottom=null),h&&(h.remove(),this.node.maskTop=null),this.isMinWindowTypeMax()?(c&&c.remove(),u.position=Object.assign({},u.position,{left:16,top:0}),u.update()):(d.props.iconPath=vGe,d.update()),this.onCalling?(f||(this.statistics.videoEndTime=Date.now(),this.statistics.voiceStartTime=Date.now()),t&&t.remove(),this.node.voipContainer=null,e.hide(),o.hide(),a.show(),s.hide(),l.show()):(r&&r.remove(),this.node.cameraContainer=null,i.hide(),a.show(),n.forEach((e=>e.hide())))}pullUpCallingInterface(){if(this.onCalling){var{isVoiceRoom:e}=this.sessionInfo,{videoInfoWindow:t,videoOperationArea:r,listenArea:n,callArea:i,videoInfoWindowNicknameCenter:a,voiceInfoWindow:o,voiceInfoWindowTips:s,voiceOperationArea:l,cameraContainer:c,minWindowVoipContainer:u,minWindowInfo:d,minWindowHeadImage:p,maskTop:h,maskBottom:f}=this.node;i&&i.hide(),n&&n.hide(),t&&t.hide(),c&&c.remove(),this.node.cameraContainer=null,e?(f&&(f.remove(),this.node.maskBottom=null),h&&(h.remove(),this.node.maskTop=null),o.show(),s.hide(),l.show(),this.isMinWindowTypeMax()?(u&&u.remove(),d.position=Object.assign({},d.position,{left:16,top:0}),d.update()):(p.props.iconPath=vGe,p.update())):(this.showVoipPreViewWindow(),o&&o.hide(),a.show(),r.show(),this.showMinWindow&&(this.hideOtherVoipPreviewWindow(),this.showMinWindowVoipPreviewWindow()))}}destory(){clearInterval(this.payTimer),this.hideDuration(),this.resetStatusBarColor(),this.stopWaitAnimation(),this.onCalling=!1,this.destoryed=!0,this.hasJoinVoIPChat&&COe(),this.node.container.remove(),this.node.minWindow.remove(),HGe.widget=null}showTipsThenDestory(e,t=2e3){this.stopCallTone(),this.stopVibrateLong(),0===t?this.destory():this.showTips(e,t).then((()=>this.destory()))}showTips(e,t=2e3){if(this.showTipsTimier&&clearTimeout(this.showTipsTimier),this.showMinWindow)return dj({title:e,icon:"none",duration:t}),new Promise((e=>{setTimeout((()=>{e()}),t)}));var r=this.node.tips,n=r.measureText(e)+28,i=(MGe.screenWidth-n)/2;return r.label.content=e,r.position.left=i,r.position.width=n,r.props.hide=!1,r.update(),new Promise((e=>{this.showTipsTimier=setTimeout((()=>{this.destoryed||r.hide(),e()}),t)}))}changeStatusBarColor(){fd("setStatusBarStyle",{color:"white"})}resetStatusBarColor(){var e=PF().frontColor;fd("setStatusBarStyle",{color:"#ffffff"===e?"white":"black"})}showVoipPreViewWindow(){var{otherOpenid:e,selfOpenid:t}=this.sessionInfo;this.createVoipPreviewWindow({self:!1,openid:e,size:"max"}),this.createVoipPreviewWindow({self:!0,openid:t,size:"min"})}showOtherVoipPreviewWindow(){var{otherOpenid:e}=this.sessionInfo,t=this.isPreviewWindowOtherMax?"max":"min";this.createVoipPreviewWindow({self:!1,openid:e,size:t})}hideOtherVoipPreviewWindow(){var{previewWindowOther:e}=this.node;e&&e.remove()}showMinWindowVoipPreviewWindow(){var{otherOpenid:e,isVoiceRoom:t}=this.sessionInfo,{minWindowVoip:r,cameraContainer:n}=this.node;if(!t){r&&r.empty(),n&&n.empty();var i=this.isMinWindowTypeMax()?48:40,a=this.isMinWindowTypeMax()?48:40,o=null;this.onCalling&&(o=new ZHe({position:{left:0,top:0,width:a,height:i},props:{independent:!0,self:!1,openid:e}})),o&&(r.appendChild(o),o.insert())}}hideMinWindowVoipPreviewWindow(){var{minWindowVoip:e,cameraContainer:t}=this.node;if(e&&e.empty(),!this.onCalling&&t){var r=new KHe({position:{left:0,top:0,width:MGe.screenWidth,height:MGe.maxWindowHeight}});t.appendChild(r),t.insert()}}switchVoipPreviewWindow(){var{previewWindowOther:e,previewWindowSelf:t}=this.node;if(t&&e){var r=this.isPreviewWindowOtherMax?"max":"min",n=this.isPreviewWindowOtherMax?"min":"max";this.adjustVoipPreviewWindow(t,r),this.adjustVoipPreviewWindow(e,n),this.isPreviewWindowOtherMax=!this.isPreviewWindowOtherMax}}adjustVoipPreviewWindow(e,t){var r="max"===t,n=e.parent,i=r?MGe.maxPreviewWindowPosition:MGe.minPreviewWindowPosition,a=r?MGe.maxPreviewWindowPosition:MGe.minPreviewWindowVoipPosition,o=r?1:2;n.position=i,e.position=a,n.style.zIndex=o,n.update(),e.update()}createVoipPreviewWindow(e){var{size:t,self:r,openid:n}=e,{previewWindowSelfContainer:i,previewWindowOtherContainer:a}=this.node,o="max"===t?MGe.maxPreviewWindowPosition:MGe.minPreviewWindowVoipPosition,s=r?i:a,l=new ZHe({position:o,props:{independent:!0,self:r,openid:n}});this.node[r?"previewWindowSelf":"previewWindowOther"]=l,s.appendChild(l),l.insert()}startWaitAnimation(){this.sessionInfo.isCaller&&(this.waitCount=0,this.waitTimer=setInterval((()=>{var{voiceInfoWindowTips:e,videoInfoWindowTips:t}=this.node,r=`正在等待对方接收邀请${new Array(++this.waitCount).fill(".").join("")}`;this.waitCount%=3,t&&(t.label.content=r,t.update()),e&&(e.label.content=r,e.update())}),800))}stopWaitAnimation(){clearInterval(this.waitTimer)}playCallTone(){vNe({type:"play"})}stopCallTone(){vNe({type:"stop"})}startVibrateLong(){this.vibrateLongTimer=setInterval((()=>{MX()}),2e3)}stopVibrateLong(){clearInterval(this.vibrateLongTimer)}showDuration(){var{duration:e,minWindowDuration:t}=this.node,{isVoiceRoom:r,isCaller:n}=this.sessionInfo;n||(r?this.statistics.voiceStartTime=Date.now():this.statistics.videoStartTime=Date.now()),this.startChatTime||(this.startChatTime=Date.now()),e.show(),this.durationTimer=setInterval((()=>{if(!this.destoryed){var n=Math.ceil((Date.now()-this.startChatTime)/1e3),i=gNe(n);e.label.content=i,e.update();var a=this.isMinWindowTypeMax()?r?`音频通话中 ${i}`:`通话中 ${i}`:i;t.label.content=a,t.update()}}),1e3)}hideDuration(){var{isCaller:e,isVoiceRoom:t,caller:r,listener:n}=this.sessionInfo;if(this.onCalling&&!e){t?this.statistics.voiceEndTime=Date.now():this.statistics.videoEndTime=Date.now();var{videoEndTime:i,videoStartTime:a,voiceEndTime:o,voiceStartTime:s}=this.statistics,l=Math.ceil((i-a)/1e3),c=Math.ceil((o-s)/1e3);NGe({callerOpenid:r.openid,listenerOpenid:n.openid,videoTime:l,voiceTime:c,complete(e){_.info("[1v1 voip] setVoIPChatRecord:",e)}})}clearInterval(this.durationTimer)}popupMaxWindow(){return this.node.maxWindow.animate({finalStyle:{top:MGe.maxWindowTop,left:0,width:MGe.screenWidth,height:MGe.maxWindowHeight},duration:HGe.popupDuration})}changeMaxWindowBackground(){var{maxWindow:e}=this.node;e.style.bgColor=this.sessionInfo.backgroundColor,e.update()}hideMask(){var{maskBottom:e,maskTop:t,maskVoice:r}=this.node;e&&e.hide(),t&&t.hide(),r&&r.hide()}showMask(){var{maskBottom:e,maskTop:t,maskVoice:r}=this.node;e&&e.show(),t&&t.show(),r&&r.show()}popDownMaxWindow(){var{minWindow:e,minWindowVoip:t}=this.node,{isVoiceRoom:r}=this.sessionInfo,n={},i=9.6;return r?Object.assign(n,e.position):(n={left:e.position.left+12,top:e.position.top+12,width:t.position.width,height:t.position.height},i=MGe.minWindowStyle1?6:4),this.node.maxWindow.style.borderRadius=i,this.node.maxWindow.update(),this.node.maxWindow.animate({finalStyle:{...n},duration:HGe.popupDuration})}compileTemplate(){var e=this.sessionInfo,t=e.isCaller?e.listener:e.caller;return IGe({title:re.accountInfo.nickname,nickname:t.nickname,headImage:t.headImage,disableSwitchVoice:e.disableSwitchVoice,isVoiceRoom:e.isVoiceRoom,isCaller:e.isCaller,minWindowType:e.minWindowType})}}var XGe=["on call","wechat has no camera authorization","wechat has no record authorization","miniprogram has no record authorization","miniprogram has no camera authorization","device not support","not open 1v1 Chat","system error","occupied by other miniprogram"],YGe=()=>{var e=Math.ceil(Date.now()/1e3),{lifespan:t,createSessionTime:r}=HGe.userSessionInfo;return r&&t&&e<r+t?Promise.resolve():UGe().then((t=>{Object.assign(HGe.userSessionInfo,{openid:t.openid,lifespan:t.lifespan,sessionKey:t.sessionKey,createSessionTime:e-3600}),_.info("[1v1 voip] getCloudSession success",t)}),(e=>{_.info("[1v1 voip] getCloudSession fail",e)}))},QGe=(e={})=>{if(jc("setEnable1v1Chat",e,{enable:!0})){YGe();var t="ok",r=0;if(KGe()&&!e.ignoreSelfVersion)return r=-20001,t=XGe[5],void Vc("setEnable1v1Chat",e,t,r);if(!e.enable)return HGe.enable=!1,HGe.ignoreSelfVersion=e.ignoreSelfVersion||!1,void zc({name:"setEnable1v1Chat",args:e});var{cameraAuthorized:n,microphoneAuthorized:i}=$b();if(!n||!i)return n||(r=-30001,t=XGe[1]),i||(r=-30002,t=XGe[2]),void aj({title:"",content:"请在“设置-隐私”选项中，允许微信访问你的摄像头和麦克风",showCancel:!1,complete(){Vc("setEnable1v1Chat",e,t,r)}});FGe().then((n=>{var i=n.authSetting["scope.camera"],a=n.authSetting["scope.record"];i&&a?(HGe.enable=!0,HGe.ignoreSelfVersion=e.ignoreSelfVersion||!1,HGe.minWindowType=rt(e.minWindowType)?e.minWindowType:1,HGe.backgroundColor=rt(e.backgroundType)?qGe[e.backgroundType]:qGe[0],zc({name:"setEnable1v1Chat",args:e})):a?i||jGe({scope:"scope.camera"}).then((()=>{QGe(e)}),(()=>{r=-30004,t=XGe[4],Vc("setEnable1v1Chat",e,t,r)})):jGe({scope:"scope.record"}).then((()=>{QGe(e)}),(()=>{r=-30003,t=XGe[3],Vc("setEnable1v1Chat",e,t,r)}))}))}},ZGe=e=>{var t="ok",r=0;if(KGe()&&!e.ignoreSelfVersion?(r=-20001,t=XGe[5]):HGe.widget?(r=-20002,t=XGe[0]):HGe.occupied&&(r=-20003,t=XGe[8]),"ok"===t){var{cameraAuthorized:n,microphoneAuthorized:i}=$b();if(!n||!i)return n||(t=XGe[1],r=-30001),i||(t=XGe[2],r=-30002),void aj({title:"",content:"请在“设置-隐私”选项中，允许微信访问你的摄像头和麦克风",showCancel:!1,complete(){Vc("join1v1Chat",e,t,r)}});FGe().then((n=>{var i=n.authSetting["scope.camera"],a=n.authSetting["scope.record"];i&&a?YGe().then((()=>{yNe({complete(n){if(_.info("[1v1 voip] hasJoinVoIPChat",n),HGe.occupied=n.join,HGe.occupied)t=XGe[8],Vc("join1v1Chat",e,t,r=-20003);else{var i=Object.assign({role:"caller"},e);i.backgroundColor=rt(e.backgroundType)?qGe[e.backgroundType]:qGe[0],i.caller.openid=HGe.userSessionInfo.openid,HGe.widget=new JGe(i)}}})}),(()=>{t=XGe[7],Vc("join1v1Chat",e,t,r=-3e4)})):a?i||jGe({scope:"scope.camera"}).then((()=>{ZGe(e)}),(()=>{t=XGe[4],Vc("join1v1Chat",e,t,r=-30004)})):jGe({scope:"scope.record"}).then((()=>{ZGe(e)}),(()=>{t=XGe[3],Vc("join1v1Chat",e,t,r=-30003)}))}))}else Vc("join1v1Chat",e,t,r)},eKe=!1;re.onReady((()=>{eKe=eKe||1055===(re.appLaunchInfo||{}).scene})),Eh((e=>{eKe=eKe||1055===e.scene}));var tKe=e=>{eKe?fd("navigateBackH5",e):Vc("navigateBackH5",e,"not HTML5 page can navigate back.")},rKe=e=>{var t="openOfficialAccountArticle";if(!e.url||"string"!=typeof e.url||e.url&&!e.url.match("^http(s?)://mp.weixin.qq.com/(s/|showappmsg|s?)[-A-Za-z0-9+&@#/%?=~_|!:,.;*]+$"))Vc(t,e,"invalid url.",-2);else{var r={url:e.url};rx({apiName:"webapi_getwxajumpmparticleinfo",sdkApiName:"getwxajumpmparticleinfo",reqData:r}).then((r=>{var n=r.data,i=n.ret||0,a=n.err_msg,o=n.title,s=n.biz_name,l=n.decorated_url,c=n.acc_type;nKe({event:"click_official_account_article",actionID:1,articleUrl:l,articleTitle:o,officialAccountName:s,officialAccountType:c,errCode:i,errMsg:a}),-2!==i?(nKe({event:"exposure_confirm_dialog",actionID:2,articleUrl:l,articleTitle:o,officialAccountName:s,officialAccountType:c}),aj({title:`即将打开公众号“${s}”的内容`,content:`《${o}》`,confirmText:"允许",success:r=>{var n;r.confirm?(n="allow",dU({url:l,success:()=>{nKe({event:"opn",actionID:3,articleUrl:l,articleTitle:o,officialAccountName:s,officialAccountType:c,jumpState:"success"})},fail:()=>{nKe({event:"opn",actionID:3,articleUrl:l,articleTitle:o,officialAccountName:s,officialAccountType:c,jumpState:"fail"})}})):r.cancel&&(n="cancel"),0!==i?Vc(t,e,a,i):zc({name:t,args:e,res:r}),nKe({event:"click_confirm_dialog",actionID:1,articleUrl:l,articleTitle:o,officialAccountName:s,officialAccountType:c,userAction:n})},fail:r=>{var n=r.errMsg,i=r.errCode||r.errno;Vc(t,e,n,i)}})):Vc(t,e,"arguments error.",i)})).catch((r=>{var n=r.errMsg||r.message,i=r.errCode||r.err_code;-12001===(i=parseInt(i,10))&&dj({title:"该功能已被限制使用",icon:"error",duration:2e3}),Vc(t,e,n,i)}))}};function nKe({event:e,actionID:t,articleUrl:r,articleTitle:n,officialAccountName:i,officialAccountType:a,errCode:o,errMsg:s,userAction:l="",jumpState:c=""}){var u={key:"OpenOfficialAccountArticle",value:[Mu(),e,t,encodeURIComponent(r),encodeURIComponent(n),encodeURIComponent(i),a,o,s,l,c].join(",")};M.reportKeyValue(u)}var iKe=(e={})=>{if(Ge()){var t="";dt(e.extraData)&&(t=JSON.stringify(e.extraData)),fd("navigateBackApplication",Object.assign({},e,{extraData:t}))}else Vc(e,"permission denied",1)},aKe=(e={})=>{var t="";dt(e.extraData)&&(t=JSON.stringify(e.extraData)),fd("navigateBackNative",Object.assign({},e,{extraData:t}))},oKe=(e,t)=>{var r=!1;t.layoutBox=t.layoutBox||{},["left","top","width","height"].forEach((n=>{r=r||t.layoutBox[n]!==e.layout[n],t.layoutBox[n]=e.layout[n]})),t.shouldUpdate=t.shouldUpdate||r,e.children.forEach((e=>{var r=t.children[e.id];r&&oKe(e,r)}))},sKe=e=>{var t=Promise.resolve();return e.isInserted?e.shouldUpdate&&(t=e.update()):t=e.insert(),t.then((()=>Promise.all(Object.keys(e.children).map((t=>{var r=e.children[t];return sKe(r)})))))},lKe=e=>{e.isInserted?e.shouldUpdate&&e.update():e.insert(),Object.keys(e.children).map((t=>{var r=e.children[t];return lKe(r)}))};class cKe extends r${constructor({style:e,name:t,auto:r=!0}={}){super({style:e,id:0,name:t});var n=null;this.auto=r,this.on("layout",(()=>{this.auto&&(clearTimeout(n),n=setTimeout((()=>this.layout()),0))})),this.onebyone=!0}layout(e){void 0===e&&(e=this.onebyone);var t={id:this.id,style:{width:this.style.width,height:this.style.height,flexDirection:"row"},children:this.getChildren()};return tGe(t),oKe(t,this),e?sKe(this).then((()=>this.emit("update-done"))):(lKe(this),Promise.resolve().then((()=>this.emit("update-done"))))}}var uKe=new cKe({name:"webview-layout"});uKe.dest=0;var dKe=new cKe({name:"nativeview-layout",auto:!1});dKe.onebyone=!1,dKe.dest=1;class pKe extends r${constructor({id:e,parentId:t,style:r,props:n={},type:i="text",name:a="",autoInsert:o=!1,eventType:s="touch",clickState:l=!1,bubbleEvent:c=!1,independent:u=!1,dest:d=0}={}){super({id:e,style:r,props:Object.assign(n,{fullscreen:!1}),name:a,parentId:t}),this.type="text"===i?"TextView":"ImageView",this.eventType=s,this.autoInsert=o,this.bubbleEvent=c,this.clickState=l,this.independent=u,this.dest=d,"touch"===this.eventType&&l&&this.ready().then((()=>{this.mask=new pKe({style:{backgroundColor:"rgba(0, 0, 0, 0.1)",hidden:!0,position:"absolute",left:0,top:0},eventType:"click",independent:this.independent}),this.mask.name="mask",this.add(this.mask)})).catch((()=>{}));var p=Date.now(),h={x:0,y:0};this.on("touchstart",(e=>{this.clickState&&this.mask&&(this.mask.style.hidden=!1),p=Date.now(),h=e}));var f=e=>{this.clickState&&this.mask&&(this.mask.style.hidden=!0);var t={x:0,y:0};try{t=this.getAbsolutePosition()}catch(e){}var r={x:0,y:0};Array.isArray(e)?r=e.pop():e.x&&e.y&&(r=e);var n={absoluteX:t.left+h.x,absoluteY:t.top+h.y,relativeX:h.x,relativeY:h.y,absoluteEndX:t.left+r.x,absoluteEndY:t.top+r.y,relativeEndX:r.x,relativeEndY:r.y,pressInterval:Date.now()-p};this.emit("click",n)};this.on("touchend",f),this.on("touchcancel",f),this.autoInsert&&this.insert()}toNativeData(){var e=["borderRadius","borderWidth","borderColor","opacity","overflow","fixed","rotate"];"ImageView"===this.type&&e.push("objectFit");var t=e.reduce(((e,t)=>(e[t]=this.computedStyle[t],"borderColor"===t&&(e[t]=GB(this.computedStyle[t])),e)),{});t.bgColor=GB(this.computedStyle.backgroundColor),t.scaleX=this.computedStyle.scaleWidth,t.scaleY=this.computedStyle.scaleHeight;var r={left:this.computedStyle.left,top:this.computedStyle.top,width:this.computedStyle.width,height:this.computedStyle.height};return this.layoutBox&&(r={left:this.layoutBox.left,top:this.layoutBox.top,width:this.layoutBox.width,height:this.layoutBox.height}),this.computedStyle.hidden&&(r.width=0,r.height=0),this.mask&&(this.mask.style.width=r.width,this.mask.style.height=r.height),t.padding=[0,0,0,0],void 0!==t.borderRadius&&t.borderRadius||(t.borderRadius=0),{parentId:this.parentId,dest:this.dest,viewId:this.id,position:r,hide:this.computedStyle.hidden,style:t,notCoverRect:!0,fullscreen:this.fullscreen,zIndex:this.style.zIndex,fixed:t.fixed,independent:this.independent}}insert(){var e=Object.assign(this.toNativeData(),{clickable:"click"===this.eventType,gesture:"touch"===this.eventType,transEvt:!1,sendTo:"appservice",data:JSON.stringify({id:this.id})});return this.isInserted=!0,new Promise(((t,r)=>{fd(`insert${this.type}`,Object.assign(e,{success:e=>{UB(this.name,this.id,"ready"),this.emit("ready"),t(e)},fail:r}))}))}update(){this.shouldUpdate=!1;var e=this.toNativeData();return new Promise(((t,r)=>{fd(`update${this.type}`,Object.assign(e,{success:t,fail:r}))}))}destroy(){super.destroy();var e={dest:this.dest,viewId:this.id,independent:this.independent};return new Promise(((t,r)=>{fd(`remove${this.type}`,Object.assign(e,{success:t,fail:r}))}))}animate({left:e,top:t,opacity:r,scaleWidth:n,scaleHeight:i,rotate:a=0,duration:o=500,easing:s,emitError:l=!1}={}){var c={dest:this.dest,viewId:this.id,easing:s||"ease-in",duration:o,finalStyle:{left:e,top:t,opacity:r,rotate:a,scaleX:n,scaleY:i},independent:this.independent};return new Promise(((e,t)=>{fd("animateCoverView",Object.assign(c,{success:e,fail:t}))})).then((o=>(void 0!==e&&(this.style.left=e),void 0!==t&&(this.style.top=t),void 0!==n&&(this.style.scaleWidth=n),void 0!==i&&(this.style.scaleHeight=i),void 0!==r&&(this.style.opacity=r),void 0!==a&&(this.style.rotate=a),o))).catch((e=>{if(_.error("animateCoverView fail",e),l)throw e}))}}class hKe extends pKe{constructor({id:e,style:t,value:r="",name:n="",autoInsert:i=!1,eventType:a,bubbleEvent:o,clickState:s,independent:l=!1,dest:c=0}={}){super({id:e,style:t,props:{value:r},type:"text",name:n,autoInsert:i,eventType:a,bubbleEvent:o,clickState:s,independent:l,dest:c})}toNativeData(){var e=["color","fontSize","textAlign","fontWeight","lineHeight","lineBreak"].reduce(((e,t)=>(e[t]=this.computedStyle[t],e)),{});return Object.assign(super.toNativeData(),{label:Object.assign(e,{content:this.value})})}}var fKe="RefreshRuntimeSession",gKe=()=>rx({apiName:fKe,sdkApiName:fKe,reqData:{}}),vKe=e=>{var t=0,r=0,n=()=>{++t>=e&&gKe().then((e=>{var{errMsg:t,respData:r}=e;if(0!==r.err_no)throw t;kk(n)})).catch((e=>{++r>=2&&kk(n)}))};Ck(n)},mKe=e=>new Promise((t=>setTimeout(t,e)));class yKe{constructor(e,t=!1){var r=286;this.orientation=e,this.animating=!1;var{screenWidth:n}=$b(),i=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=t;var a=new pKe({id:i,style:{position:"absolute",left:(n-r)/2,top:this.getTop(),width:r,height:38,backgroundColor:"#000000",opacity:0,zIndex:1000001,borderRadius:5,fixed:!We()}}),o=new hKe({id:i+1,style:{left:0,top:0,width:r,height:38,textAlign:"center",lineHeight:38,fontSize:15,color:"#ffffff"},value:`该${We()?"小游戏":"小程序"}业务及数据已由新开发者承接`});a.add(o),uKe.add(a),this.banner=a,this.bannerWidth=r}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.7,duration:300})))).then((()=>(this.animating=!1,mKe(5e3)))).then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>mKe(3e3))).then((()=>uKe.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=$b();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=$b();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var bKe=(e,t)=>{var r=r=>{var n=r.data,{need_show:i,runtime_refresh_clicks:a}=n;if(a&&Fe()&&vKe(a),i){var o=new yKe(e,t);return o.show(),o}};return qh()?new Promise((e=>{uC({id:sC.getSubjectalterInfo,success:t=>{e(r(t))},fail:()=>{e({})}})})):rx({sdkApiName:"getSubjectalterInfo",apiName:"getSubjectalterInfo",reqData:{}}).then((e=>r(e))).catch((e=>{_.error("informSubjectChange error",e)}))},_Ke=e=>new Promise((t=>setTimeout(t,e)));class wKe{constructor(e,t,r=!1){this.orientation=t,this.animating=!1;var{screenWidth:n}=$b(),i=parseInt(32767*Math.random(),10)+32767;this.isFullScreen=r;var a=n-30,o=new pKe({id:i,style:{display:"flex",alignItems:"center",position:"fixed",left:(n-a)/2,top:this.getTop(),width:a,height:38,backgroundColor:"#FA5151",opacity:0,zIndex:1000001,borderRadius:5,fixed:!0}}),s=new hKe({id:i+1,style:{width:a-30,height:38,lineHeight:38,textAlign:"center",fontSize:13,color:"#ffffff"},value:e,bubbleEvent:!1,clickState:!1}),l=new hKe({id:i+2,style:{position:"absolute",left:a-44,top:-2,width:30,height:38,lineHeight:38,fontSize:18,color:"#ffffff"},value:"×",eventType:"touch",bubbleEvent:!0,clickState:!0});s.add(l),o.add(s),uKe.add(o),o.on("touchstart",(()=>{this.hide()})),this.banner=o,this.bannerWidth=a}show(){this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop(),opacity:.9,duration:300})))).then((()=>{this.animating=!1})).catch((()=>{}))}hide(){K4(+new Date),this.banner.ready().then((()=>(this.animating=!0,this.banner.animate({top:this.getTop()-14,opacity:0,duration:300})))).then((()=>_Ke(3e3))).then((()=>uKe.remove(this.banner))).catch((()=>{}))}getTop(){var{screenHeight:e}=$b();return this.isFullScreen?"portrait"===this.orientation?e/8:e/6:16}setOrientation(e){if(!this.animating){this.orientation=e;var{screenWidth:t}=$b();this.banner.style.left=(t-this.bannerWidth)/2,this.banner.style.top=this.getTop()}}}var SKe=(e,t)=>{G4((r=>{var n=(+new Date-(r||0))/1e3/60,i=re&&re.appContactInfo&&re.appContactInfo.operationInfo&&re.appContactInfo.operationInfo.jsonInfo&&re.appContactInfo.operationInfo.jsonInfo.warning_info&&re.appContactInfo.operationInfo.jsonInfo.warning_info.top_banner&&re.appContactInfo.operationInfo.jsonInfo.warning_info.top_banner.wording||"";if(!We()&&i&&n>30){var a=new wKe(i,e,t);return a.show(),a}}))},CKe=(()=>{var e,t=t=>{e="halfPage"===t.mode};return Eh((e=>t(e))),re.onReady((()=>t(re.appLaunchInfo||{}))),()=>e})(),kKe=(()=>{var e,t=[1175,1177],r=r=>{e=t.includes(r.scene)};return Eh((e=>r(e))),re.onReady((()=>r(re.appLaunchInfo||{}))),()=>e})(),IKe=(()=>{var e,t=[1011,1012,1013,1124,1125,1126],r=r=>{e=t.includes(r.scene)};return Eh((e=>r(e))),re.onReady((()=>r(re.appLaunchInfo||{}))),()=>e})(),PKe=(e={})=>IKe()&&e.query&&e.query.q&&e.query.scancode_time,TKe=e=>{if(ke&&PKe(e)){var t=re.accountInfo&&re.accountInfo.appId;iS("getPatchWrongQueryFromGlobalStorage",{appId:t},void 0,(r=>{r="number"==typeof r?r:0;var n=e.path+".html",i=e.rawPath.replace(n+"?","");rx({apiName:"webapi_checkwxa3rdqrcodescaninfo",reqData:{retry_time:r,path:n,query:i}}).then((n=>{_.info("webapi_checkwxa3rdqrcodescaninfo res=",n);var{is_restart:i,replace_query:a,replace_appid:o}=n.data;i?o?(Bb("patchWrongQuery-needExitMiniProgram"),ij({content:"无法启动小程序，请重试",confirmText:"确认",showCancel:!1,success(){iS("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0,(()=>{v4()}))},fail(){iS("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0,(()=>{v4()}))}})):(Bb("patchWrongQuery-needRestart"),r++,iS("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:r},void 0,(()=>{ij({content:"信息已更新，需要重启小程序",confirmText:"确认",showCancel:!1,success(){fd("restart",{url:a,scene:e.scene})},fail(){fd("restart",{url:a,scene:e.scene})}})}))):"number"==typeof r&&r>0&&iS("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0)})).catch((e=>{_.error("patchWrongQuery fail",e),"number"==typeof r&&r>0&&iS("setPatchWrongQueryToGlobalStorage",{appId:t,retryTime:0},void 0)}))}))}},AKe="game:verifystate",xKe="game_live_default_condition",EKe=_.createLogger("common reportUserBehavior"),MKe=B_(),RKe=Cf(ij),DKe=Cf(MKe.readFile),OKe=Cf(MKe.writeFile),LKe="wxfile://ad",NKe=`${LKe}/verifystate.json`,BKe=AKe,$Ke=null;function FKe(e){return jKe.apply(this,arguments)}function jKe(){return jKe=Vp()((function*(e){try{if($Ke=e,EKe.log("set verifydata",JSON.stringify($Ke)),Ce)return;xe||ke||Ae?yield gd("setGlobalStorage",{key:BKe,data:JSON.stringify(e)}):Ie&&(yield OKe({filePath:NKe,data:JSON.stringify(e),encoding:"utf8"}))}catch(e){EKe.log("set cache fail",e.message)}})),jKe.apply(this,arguments)}function WKe(){return VKe.apply(this,arguments)}function VKe(){return VKe=Vp()((function*(){try{if(Ce)return;if(xe||ke||Ae){var{data:e}=yield gd("getGlobalStorage",{key:BKe});EKe.log("get verifydata",e),$Ke=JSON.parse(e)}else if(Ie){var{data:t}=yield DKe({filePath:NKe,encoding:"utf8"});EKe.log("get verifydata",t),$Ke=JSON.parse(t)}}catch(e){EKe.log("get cache fail",e.message,e)}})),VKe.apply(this,arguments)}var UKe=!1;function zKe(e=!0){e&&($Ke=null)}var qKe=null;function HKe(e){zc({args:qKe,name:"getRealNameVerifyMethod",success:e}),qKe=null}function GKe(e){if($Ke){var t=null;"function"==typeof e?t=e:qKe=e;var{url:r,weapp:n}=$Ke.urlInfo||{};n?H8({appId:n.appid,path:n.path,extraData:n.extraData,success:t}):r&&dU({url:r,isNativeStyle:!0,success:t}),zKe()}}var KKe=0,JKe="",XKe="",YKe={},QKe,ZKe=!1,eJe=0,tJe=null,rJe=!1,nJe=!1,iJe=!1,aJe=0,oJe=3e5,sJe={UI_STATE_NONE:0,UI_STATE_BLOCK_BY_WEBVIEW:1,UI_STATE_BLOCK_BY_MODAL_DIALOG:2};function lJe(e,t,{coldBoot:r=!1}={}){var{appType:n,deviceOrientation:i}=re;aJe=Date.now();var a={onShow:1,heartbeat:2,onHide:3,retryLogin:4};return UKe?WKe().then(o).then(s).catch((e=>{EKe.error("report fail",e)})):mJe.then(WKe).then(o).then(s).catch((e=>{EKe.error("report fail",e)}));function o(){var i={version:8,callbackData:QKe,type:a[e],duration:t/1e3,scene_note:XKe,scene:KKe,realnameInfo:void 0,referrerInfo:{appId:JKe,extraData:YKe},appServiceType:n,isColdStart:r,uiState:sJe.UI_STATE_BLOCK_BY_WEBVIEW,isWxaAdultOnly:rJe};return(r&&qh()?new Promise(((e,t)=>{dC({id:sC.reportUserBehavior,success:t=>{e(t)},fail:e=>{t(e)}})})):rx({sdkApiName:"reportUserBehavior",apiName:"jsapi_reportuserbehav",reqData:i})).catch((e=>{var t;if(1!==(null===(t=$Ke)||void 0===t?void 0:t.action))return{data:{action:3,alertMsg:"网络已断开，请检查网络状态后重试"}};throw e}))}function s(e){var t=e.data;FKe(t);var{action:r,alertMsg:n,heartbeatInterval:a,realnameResult:o}=t;if(QKe=t.callbackData,a!==oJe&&a>=1e4&&(oJe=a,pJe()),o){var{code:s}=o;0===s&&zKe()}else switch(HKe(1===r),r){case 2:setTimeout((()=>{RKe({title:"提示",content:n,showCancel:!1})}),/landscape/.test(i)?500:0);break;case 3:if(ZKe)break;ZKe=!0;var l=setTimeout(v4,15e3);RKe({title:"提示",content:n,showCancel:!1}).then((()=>{clearTimeout(l),ZKe=!1,v4()}));break;case 4:var{url:c,name:u}=t.urlInfo||{},d=setTimeout(v4,15e3);!ZKe&&n&&c&&u&&(ZKe=!0,ij({title:"提示",content:n,confirmText:u,cancelText:"退出程序",upper:!0,success(e){clearTimeout(d),e.confirm?GKe((()=>{iJe=!0})):e.cancel&&v4(),ZKe=!1},fail(e){EKe.error("show modal fail=",e),clearTimeout(d),v4(),ZKe=!1}}))}}}var cJe=nJe,uJe=nJe,dJe=nJe||rJe,pJe=()=>{null!==tJe&&(clearInterval(tJe),hJe())},hJe=()=>{tJe=setInterval((()=>{eJe=Date.now()-aJe,cJe&&lJe("heartbeat",eJe)}),oJe)},fJe=(e,{coldBoot:t=!1}={})=>{XKe=e.scene_note||"",eJe=0,KKe=e.scene,e.referrerInfo&&(JKe=e.referrerInfo.appId,YKe=e.referrerInfo.extraData),hJe(),iJe?(lJe("retryLogin",eJe),iJe=!1):dJe&&lJe("onShow",eJe,{coldBoot:t})},gJe=()=>{eJe=Date.now()-aJe,clearInterval(tJe),tJe=null,uJe&&lJe("onHide",eJe)};Ce||re.onReady((()=>{if(He()){var e=re.appLaunchInfo;try{re.appContactInfo&&re.appContactInfo.operationInfo&&re.appContactInfo.operationInfo.jsonInfo&&re.appContactInfo.operationInfo.jsonInfo.op_info&&(rJe=1===Number(re.appContactInfo.operationInfo.jsonInfo.op_info.adult_only),nJe=1===Number(re.appContactInfo.operationInfo.jsonInfo.op_info.grow_protect))}catch(e){EKe.error("get op_info fail",e.message)}cJe=nJe,uJe=nJe,dJe=nJe||rJe,fJe(e,{coldBoot:!0}),cr("onAppEnterForeground",(t=>{fJe(e=t)})),cr("onAppEnterBackground",(()=>{gJe()})),cr("onAppRoute",(t=>{"autoReLaunch"===t.openType&&(ZKe=!1,gJe(),setTimeout((()=>{fJe(e)}),1e3))}))}}));var vJe=()=>{},mJe=new Promise((e=>{vJe=e})),yJe=()=>{Ce||(UKe=!0,vJe())};re.onReady((()=>{var e="";if(He()){var t=()=>{setTimeout((()=>{e?r(e):t()}),3e3)};t();var r=e=>{var t=Object.keys(re.page).find((t=>t.startsWith(e))),n=re.page[t];if(t&&n&&n.window){var i=n.window.pageOrientation,a=!1;try{var o=n.window.navigationStyle||re.global.window.navigationStyle;a="custom"===o}catch(e){}if("landscape"===i){var s=!1;Aje((()=>{s||(bKe(i,a),SKe(i,a),s=!0)}))}else{var l=bKe("portrait",a),c=SKe(i,a);"auto"===i&&MW((e=>{var{windowWidth:t,windowHeight:r}=e,n=t>r?"landscape":"portrait";l.then((e=>{e&&e.setOrientation&&e.setOrientation(n)})),c&&c.then((e=>{e&&e.setOrientation&&e.setOrientation(n)}))}))}nG(r)}}}rG((t=>{"appLaunch"!==t.openType&&"autoReLaunch"!==t.openType||TKe(t),e=t.path})),He()&&yJe()}));var bJe=["webview","skyline"],_Je={webview:1,skyline:2},wJe={webview:{},skyline:{}};function SJe(e){var t=wJe[e];if(t){var{pagePath:r=[],compInfo:n}=t,i=yh().sessionId||yh().sessionid||"",a=r.join(";"),o=Mu()||"";n&&Object.keys(n).forEach((t=>{var r=n[t];if(r){var{attachedCount:s=0,propMap:l,extraMap:c,reserved:u}=r;if(0===u)return;var d=[];l&&Object.keys(l).forEach((e=>{var t=l[e],r=Object.keys(t);if(1===r.length&&"_OTHER"===r[0])d.push(`${e}=${t._OTHER}`);else if(r.length){var n=r.map((e=>"_OTHER"===e?`=${t._OTHER}`:`${encodeURIComponent(e)}=${t[e]}`));d.push(`${e}:${n.join("|")}`)}}));var p=[],h=[];c&&Object.keys(c).forEach((e=>{var{index:t,values:r}=c[e];t>0&&(2===t?h:p).push(`${e}:${r.map(encodeURIComponent).join("|")}`)}));var f=[i,a,_Je[e],o,t,s,d.join(";"),p.join(";"),h.join(";")].join(",");M.reportKeyValue({key:"MiniprogramInnerComponentUse",value:f})}}))}wJe[e]={}}kS(((e={})=>{var t=e.targetAction;-1!==[3,7,8,9].indexOf(t)&&bJe.forEach((e=>SJe(e)))})),Yr("collectComponentUseInfo",(e=>{bJe.forEach((t=>{var r=wJe[t];if(r){var n=e.pagePath,i=e.reportCache[t];r.pagePath=r.pagePath||[],n&&-1===r.pagePath.indexOf(n)&&r.pagePath.push(n),i&&(r.compInfo=r.compInfo||{},Object.keys(i).forEach((e=>{var t=r.compInfo[e]||{attachedCount:0,propMap:{},extraMap:{},reserved:-1};r.compInfo[e]=t;var{attachedCount:n=0,propMap:a,extraMap:o,reserved:s}=i[e];if(-1!==s&&(t.reserved=-1===t.reserved?s:t.reserved|s),t.attachedCount+=n,a){var l=t.propMap;Object.keys(a).forEach((e=>{var t=l[e]||{};l[e]=t;var r=a[e];Object.keys(r).forEach((e=>{t[e]=(t[e]||0)+(r[e]||0)}))}))}o&&(t.extraMap=o)})))}}))}));var CJe=(e={})=>{Vc("setWindowSize",e,"deprecated")},kJe=null,IJe=[],PJe=e=>{qr("onBanTapRules",{rules:kJe},[e])};function TJe(){re.onReady((()=>{gC().then((e=>{var t,r;kJe=null!==(t=null==e||null===(r=e.data)||void 0===r?void 0:r.ban_event_rules)&&void 0!==t?t:[],IJe.length&&(IJe.forEach((e=>PJe(e))),IJe.length=0)}))})),k.clientManager.on("clientConnected",(e=>{kJe?PJe(e):IJe.push(e)}))}var AJe=0,xJe=nr("onEventFromMagicBrushFrame"),EJe=null,MJe=[],RJe={},DJe=null,OJe=0;Yr("getMagicBrushFrameDef",((e,t)=>{EJe?qr("returnMagicBrushFrameDef",{appCardDef:EJe},[t]):-1===MJe.indexOf(t)&&MJe.push(t)})),Yr("magicBrushFrameLoaded",(({frameId:e,biz:t,pageId:r}={})=>{RJe[e]={biz:t,pageId:r}})),Yr("magicBrushFrameRemoved",(({frameId:e,biz:t,pageId:r}={})=>{delete RJe[e]})),Ut("onMessageFromMagicBrushFrame",(({message:e}={})=>{if(e){var t=JSON.parse(e);if("event"===t.type)xJe.emit(t.data||{});else if("vconsole"===t.type){var{frameId:r,name:n,args:i}=t.data;try{console[n](`[magicBrushFrame][${r}]`,...i)}catch(e){}}}})),Ut("onMiniprogramRemoved",(e=>{qr("miniprogramPackageRemoved",e);var t=Object.keys(RJe);if(t.length)for(var r of t)$Je({frameId:r,message:JSON.stringify({type:"miniprogramPackageRemoved",data:{frameId:r,...e}})});else $Je({biz:AJe,frameId:0,message:JSON.stringify({type:"miniprogramPackageRemoved",data:{frameId:0,...e}})})})),Ut("onMagicBrushFrameRecreate",(()=>{xJe.emit({name:"recreate"})}));var LJe=xJe.onMethod,NJe=xJe.offMethod;function BJe(e={}){var t;if(ke||Ie){var{bizType:r,wxssBin:n,template:i,template2:a,cards:o}=e;if(r){var s=re.env.MAGIC_BRUSH_FRAME_DATA_PATH;if(s){var l,c=Cf(Ty),u=Cf(Ly),d=Cf(xy),p=null===(t=re.accountInfo)||void 0===t?void 0:t.appId,h=p&&(Ie||ke&&"wxb6d22f922f37b35a"!==p)?`${s}/${p}/${r}`:s;if(l=()=>{c({filePath:`${h}/magicbrush.json`,data:'{"plugins":{"sclRectPaletteLib":{"version":"latest","provider":"wx2f3fb5db9f226462"}},"publicservices":{"sclRectPaletteLib":{"version":"latest","provider":"wx2f3fb5db9f226462"}}}',encoding:"utf8"}).then((()=>c({filePath:`${h}/dist.wxss.bin`,data:n||Uint8Array.from([]).buffer,encoding:"binary"}))).then((()=>{}))},u({path:h}).then((()=>{l&&l()})).catch((()=>{d({dirPath:h,recursive:!0}).then((()=>{l&&l()}))})),"app-card"===r){if(!(EJe={template:i,template2:a,cards:o,fsPath:h}).template&&!EJe.template2||!EJe.cards||!EJe.fsPath)return;MJe.length&&(qr("returnMagicBrushFrameDef",{appCardDef:EJe},MJe),MJe.length=0)}}}}}function $Je(e={}){var{frameId:t,message:r}=e;if(!t&&0!==t||"string"!=typeof r)Vc("postMessageToMagicBrushFrame",e,"invalid args");else{var n=RJe[t],i=null==n?void 0:n.biz;(i=i||0===i?i:e.biz)||0===i?fd("postMessageToMagicBrushFrame",{frameId:t,biz:i,message:r}):Vc("postMessageToMagicBrushFrame",e,"magic brush frame has not been inserted")}}function FJe(e,t,r={}){if(Array.isArray(e)||(e=[e]),e.length)for(var n of e)$Je({frameId:n,message:JSON.stringify({type:"event",data:{name:t,frameId:n,args:r}})})}Eh((()=>{FJe(Object.keys(RJe),"_$pageShow")})),Id((()=>{FJe(Object.keys(RJe),"_$pageHide")})),Jw(((e={})=>{var{webviewId:t}=e,r=[],n=[];Object.keys(RJe).forEach((e=>{var{pageId:i}=RJe[e]||{};i===t?r.push(e):i===DJe&&n.push(e)})),FJe(r,"_$pageShow"),FJe(n,"_$pageHide"),DJe=t}));var jJe=()=>{__sclEngine__.initScl((e=>{e.mainRoot.append("link-toast",{content:"已添加至「发现 > 小程序 > 账户」"}).addListener("tapToast",(()=>{Q3({businessType:"discoverMiniPrograms"})}))}))};function WJe(e={}){var t=re.envVersion||"";if("develop"!==t)if(Dx()||OJe){var r=e.type||0;VJe({type:r,success(n){var i,a,o;n.hasAdded?Vc("addAccountCard",e,"this account card has been added"):n.couldAdd?tx({sdkApiName:"addAccountCard",apiName:"webapi_addwxanotifyaccount",reqData:{type:r,datas:JSON.stringify({appId:(null===(i=re.accountInfo)||void 0===i?void 0:i.appId)||"",headImg:(null===(a=re.accountInfo)||void 0===a?void 0:a.icon)||"",nickName:(null===(o=re.accountInfo)||void 0===o?void 0:o.nickname)||"",envVersion:t,accountCardPackage:re.accountCardPackage||{}})},success(t){var r,n,i=null===(r=t.data)||void 0===r||null===(n=r.base_resp)||void 0===n?void 0:n.errcode;0===i?(jJe(),zc({name:"addAccountCard",args:e,errno:void 0,errMsg:"",errCode:i,success:!0})):Vc("addAccountCard",e,"system error",i)},fail(t){Vc("addAccountCard",e,t.errMsg||"")}}):Vc("addAccountCard",e,"could not add this account card")},fail(){Vc("addAccountCard",e,"system error")}})}else Vc("addAccountCard",e,"can only be invoked by user TAP gesture.");else Vc("addAccountCard",e,"it is not support in develop envVersion")}function VJe(e={}){Dx()&&(OJe=Date.now()),tx({sdkApiName:"checkAccountCardAddState",apiName:"webapi_checkwxanotifyaccount",reqData:{type:e.type},success(t){var r,n=t.data||{},i=null===(r=n.base_resp)||void 0===r?void 0:r.errcode;0===i?zc({name:"checkAccountCardAddState",args:e,errno:void 0,errMsg:"",errCode:i,success:!0,res:{couldAdd:!!n.could_add,hasAdded:!!n.has_add}}):Vc("checkAccountCardAddState",e,"system error",i),OJe=0},fail(t){Vc("checkAccountCardAddState",e,t.errMsg||""),OJe=0}})}var UJe=(e={})=>{fd("bindGroup",e)},zJe=(e={})=>{Ie?tx({apiName:"wxaapi_wxajoinchatroom",reqData:{groupid:e.groupId,nonce_str:e.nonceStr,signature:e.signature},success(e){var t=e.data;fd("private_openUrl",{url:t.join_chatroom_url,isNativeStyle:!0})},fail({errMsg:e}){dj({title:e.replace(/^\w+:fail\s+/,""),icon:"none"})},complete(){zc({name:"joinGroup",args:e})}}):fd("joinGroup",e)};function qJe(){re.onReady((()=>{Id((()=>{M.flushReportKeyValueList(),M.flushReportIDKeyList()}))}))}var HJe=!1,GJe=!1,KJe=function(){if(!HJe)return HJe=!0,{invokeMethod:fd,onMethod:cr,subscribe:Yr,publish:qr,beforeInvokeFail:Vc,beforeInvokeCallback:zc,getCurrentPagesByDomain:yr.getCurrentPagesByDomain}},JJe=function(e,t=!1){if(!0===f.g.__wxConfig.exportBaseMethods||t){if(GJe)return void _.warn("getBaseMethods has been initialized");GJe=!0,e.__defineGetter__("getBaseMethods",(()=>KJe))}};function XJe(e={}){fd("openWCPayLQTDetail",e)}function YJe(e={}){fd("openWCPayLQTSave",e)}function QJe(e={}){fd("openWCPayLQTDepositPlan",e)}function ZJe(e={}){fd("openWCPayLQTDepositPlanAdd",e)}var eXe=[{name:"quicklyAddBrandContact",permissionByte:"quicklyAddBrandContact"},{name:"privateScanItem",permissionByte:"privateScanItem"},{name:"privateSearchContacts",permissionByte:"privateSearchContacts"},{name:"setNavigateBackInterception",permissionByte:"private_setNavigateBackInterception"},{name:"stopNavigateBackInterception",permissionByte:"private_stopNavigateBackInterception"},{name:"getWebviewDebugInfo",permissionByte:"private_getWebviewDebugInfo"},{name:"openAddressWithLightMode",permissionByte:"openAddressWithLightMode"},{name:"editTextWithPopForm",permissionByte:"editTextWithPopForm"},{name:"jumpRedPacketEnvelopePreview",permissionByte:"jumpRedPacketEnvelopePreview"},{name:"quickSendRedPacket",permissionByte:"quickSendRedPacket"},{name:"openChannelsPostPage",permissionByte:"openChannelsPostPage"},{name:"sendRedCoverAppMsg",permissionByte:"sendRedCoverAppMsg"},{name:"registerMagicBrushFrame",permissionByte:"useMagicBrushFrame"},{name:"sendEventToMagicBrushFrame",permissionByte:"useMagicBrushFrame"},{name:"onEventFromMagicBrushFrame",permissionByte:"useMagicBrushFrame"},{name:"offEventFromMagicBrushFrame",permissionByte:"useMagicBrushFrame"},{name:"privateCreateVestUser",permissionByte:"private_createVestUser"},{name:"choosePhoneNumberAreaCode",permissionByte:"choosePhoneNumberAreaCode"},{name:"getInnerEnterOptions",permissionByte:"private_getEnterOptions"}],tXe=e=>{var t=!0===re.debug,r="devtools"===re.platform;(t||r)&&console.warn(`wx.${e} is deprecated, and will be removed in future.`),Bb(`wx.${e}`)},rXe=(e,t,r)=>function(...n){return tXe(e),t.apply(r,n)},nXe=e=>{Ir((()=>{_r.define("__wx__/private-api",((t,r)=>{r.exports=e}))}))},iXe=e=>{var t={};eXe.forEach((r=>{var n=r.name,i=r.permissionByte,a=e[n];t[n]=function(...t){return Vh(i)?a.call(e,...t):Vc(n,t[0],"no permission")}.bind(e),r.deprecate?e[n]=rXe(n,t[n],e):delete e[n]})),nXe(t)},aXe=e=>{if(Ne){var t,r="";if(fd("createBufferURL",{buffer:e,success(e){r=e.bufferURL},fail(e){t=e.errMsg}}),t)throw new Error(t);return r}var n=Vg.createBufferURL(e)||(()=>"");return kh.add(n,e),n},oXe=(e={})=>{invokeMethod("createBufferURLAsync",{buffer:e.buffer,success:e.success,fail:e.fail,complete:e.complete})},sXe=e=>{if(!Ne)return kh.off(e),Vg.revokeBufferURL(e)||(()=>!1);var t;if(fd("revokeBufferURL",{blobUrl:e,fail(e){t=e.errMsg}}),t)throw new Error(t)},lXe=(...e)=>Vg.createSignal?Vg.createSignal(...e):null;function cXe(e={}){var t,r=e.mode,n="getCommonConfig";if(0===e.mode||1===e.mode){var i=[],a=[];if(null===(t=e.keys)||void 0===t||t.forEach((e=>{var t=e.slice(0,e.indexOf("_")),r=e.slice(e.indexOf("_")+1);i.push(t),a.push(r||"")})),0===r){for(var o=i.length,s=new Array(o),l=0;l<o;s[l++]={});new Promise((e=>{iS("getCommonConfigFromGlobalStorage",{apiName:n,appId:v.accountInfo.appId},void 0,(t=>{e(t)}))})).then((t=>{for(var r=Date.now(),l=[],c={business_type:[],separate_key:[]},u=0;u<o;u++){var d=i[u]+a[u],p=t[d];if(p){if(p.time_stamp>=r){Object.assign(s[u],p);continue}p.time_stamp}i[u],a[u],c.business_type.push(i[u]),c.separate_key.push(a[u]),l.push(u)}0===c.business_type.length?zc({name:n,args:e,res:{data:s}}):tx({apiName:"webapi_getopencommconf",sdkApiName:n,reqData:c,success:o=>{for(var c=o.data.conf_list,u=0;u<c.length;u++){var d={conf:c[u].conf,conf_type:c[u].conf_type,time_stamp:r+1e3*c[u].expire_sec},p=l[u];i[p],a[p],t[i[p]+a[p]]=d,l[u],c[u].expire_sec,Object.assign(s[p],d)}iS("setCommonConfigToGlobalStorage",{apiName:n,item:t,appId:v.accountInfo.appId},void 0,(e=>{null===e||_.error("setCommonConfigToGlobalStorage fail:",e)})),zc({name:n,args:e,res:{data:s}})},fail:t=>{Vc(n,e,t.errMsg,t.err_code)}})}))}else zc({name:n,args:e,res:{data:JV(e.keys)}})}else Vc(n,e,"mode错误",1e3)}function uXe(e={},t){__sclEngine__.initScl((r=>{var n=r.mainRoot.append("toast",e);"function"==typeof t&&t(n)}))}var dXe=Object.assign,pXe=Object.create,hXe="https://mp.weixin.qq.com/intp/jump";function fXe(e={}){if(Vh("openPublicServicePayment")){var{jumpToken:t,destUrl:r,openId:n}=e;if(t&&r&&n){var i=`?appid=${re.accountInfo.appId}`;i+=`&jump_token=${encodeURIComponent(t)}`,i+=`&dest_url=${encodeURIComponent(r)}`,i+=`&openid=${encodeURIComponent(n)}`;var a=pXe(null);dXe(a,e),a.url=hXe+i,a.isNativeStyle=!0,uXe({loading:!0,title:"政务民生缴费"},(e=>{setTimeout((()=>{e.close(),fd("private_openUrl",a,{beforeAll(e){e.errMsg=e.errMsg.replace("private_openUrl","openPublicServicePayment")}})}),1e3)}))}else Vc("openPublicServicePayment",e,"missing arguments")}else Vc("openPublicServicePayment",e,"permission denied")}var gXe=f(945),vXe=f.n(gXe);function mXe(e){for(var t="",r=0;r<e.length;){var n=e[r],i=0;n>>>7==0?(t+=String.fromCharCode(e[r]),r+=1):252==(252&n)?(i=(3&e[r])<<30,i|=(63&e[r+1])<<24,i|=(63&e[r+2])<<18,i|=(63&e[r+3])<<12,i|=(63&e[r+4])<<6,i|=63&e[r+5],t+=String.fromCharCode(i),r+=6):248==(248&n)?(i=(7&e[r])<<24,i|=(63&e[r+1])<<18,i|=(63&e[r+2])<<12,i|=(63&e[r+3])<<6,i|=63&e[r+4],t+=String.fromCharCode(i),r+=5):240==(240&n)?(i=(15&e[r])<<18,i|=(63&e[r+1])<<12,i|=(63&e[r+2])<<6,i|=63&e[r+3],t+=String.fromCharCode(i),r+=4):224==(224&n)?(i=(31&e[r])<<12,i|=(63&e[r+1])<<6,i|=63&e[r+2],t+=String.fromCharCode(i),r+=3):192==(192&n)?(i=(63&e[r])<<6,i|=63&e[r+1],t+=String.fromCharCode(i),r+=2):(t+=String.fromCharCode(e[r]),r+=1)}return t}function yXe(e){for(var t,r=[],n=e.length,i=0;i<n;i++)(t=e.charCodeAt(i))>=65536&&t<=1114111?(r.push(t>>18&7|240),r.push(t>>12&63|128),r.push(t>>6&63|128),r.push(63&t|128)):t>=2048&&t<=65535?(r.push(t>>12&15|224),r.push(t>>6&63|128),r.push(63&t|128)):t>=128&&t<=2047?(r.push(t>>6&31|192),r.push(63&t|128)):r.push(255&t);for(var a=new Int8Array(r.length),o=0;o<r.length;o++)a[o]=r[o];return a.buffer}var bXe="START_CPU_PROFILE",_Xe="STOP_CPU_PROFILE",wXe="TAKE_HEAP_SNAPSHOT",SXe="PERFDOG_METHOD",CXe="PERFDOG_METHOD_CALLBACK",kXe="LAN_DEBUG_GET_DEVICE_INFO",IXe="LAN_DEBUG_PLUGIN_GET_DEVICE_INFO",PXe={OPEN:"OPEN",CLOSED:"CLOSED",ERROR:"ERROR",CONNECTING:"CONNECTING"},TXe="LAN_DEBUG_STATUS_CHANGE",AXe=(e=6)=>{(e>=13||e<0)&&(e=13);for(var t=`${Date.now()}`.slice(-e).split(""),r=0;r<Math.floor(e/2);r++){var n=Math.floor(10*Math.random());t[r]="abcdefghij"[n]}return t.join("")},xXe=null,EXe=!1,MXe=()=>!0===EXe||("function"!=typeof getProfiler?(void 0!==Vg.Profiler&&(xXe=Vg.Profiler,EXe=!0),!0):((xXe=getProfiler())&&(EXe=!0),!0)),RXe=!1,DXe=()=>(MXe(),xXe?(RXe||(RXe=!0,xXe.startCpuProfiling()),!0):null),OXe=()=>{if(MXe(),!xXe)return null;if(RXe){RXe=!1;var e=xXe.stopCpuProfiling();return e}return null},LXe=()=>(MXe(),xXe?xXe.takeHeapSnapshot():null),NXe=!1;function BXe(e,t){var{model:r,version:n,system:i,SDKVersion:a}=pw(),{accountInfo:o,isDevEdition:s}=re,{appId:l,nickname:c}=o,u={model:r,wechatVersion:n,system:i,SDKVersion:a,appId:l,nickname:c,isDevEdition:!!s};t(e,JSON.stringify(u))}function $Xe(e){var t=f.g.LanDebug;t&&(We||delete f.g.LanDebug,t.registerCallback?t.registerCallback(SXe,((t,r)=>{e(CXe,r)})):t.registerCallback)}function FXe(e,t,r){NXe||(NXe=!0,$Xe(t),e(kXe,(()=>{BXe(kXe,t)})),e(IXe,(()=>{BXe(IXe,t)})),e(SXe,(e=>{var r="undefined"!=typeof getPerfDog?getPerfDog():void 0,n="PerfDog not found";r&&r.handle&&(n=r.handle(SXe,e)),t(CXe,n)})),e(bXe,(()=>{DXe()})),e(_Xe,(()=>{var e=OXe();ke&&e&&(e.constructor.toString().includes("ArrayBuffer")?e=mXe(new Uint8Array(e)):"object"==typeof e&&(e=JSON.stringify(e))),t(_Xe,e||"")})),e(wXe,(()=>{setTimeout((()=>{var e=LXe();if(t(`${wXe}:PROGRESS`,JSON.stringify({data:"start"})),!e)return t(wXe,""),t(`${wXe}:PROGRESS`,JSON.stringify({data:"error"})),!1;if(e.on){var n=r(wXe),i=!1;e.on("data",(e=>{i||(t(`${wXe}:PROGRESS`,JSON.stringify({data:"data"})),i=!0),n.send(e.slice())})),e.on("end",(()=>{t(`${wXe}:PROGRESS`,JSON.stringify({data:"end"})),n.end(new ArrayBuffer(0))})),e.on("error",(e=>{t(`${wXe}:PROGRESS`,JSON.stringify({data:"error"})),n.end(new ArrayBuffer(0))})),e.flush()}return!0}),100)})))}var jXe=0,WXe=SI(),VXe="\n  message LanDebugHeader {\n    required int32 version = 0;         // 版本，用于升级时兼容用\n    required string method = 1;         // 命令字，代表该包行为\n    required int32 id = 2;              // 命令序号，client端每次给server发命令可以弄一个自增序号，这样方便server处理isEnd。\n    required bool isString = 3;         // 若开发者传输的原始数据是string，需要标识，用于服务端处理\n    required string clientId = 4;       // 客户端会唯一生成一个ID\n    optional bool notEnd = 5;           // 若isEnd为true，代表这次命令已经发送完毕\n    optional string options = 6;        // 预留字段，后续可能会有一些用\n  }\n",UXe=null,zXe=()=>UXe||(UXe=vXe()()(VXe)),qXe,HXe=()=>{qXe||(qXe=AXe())},GXe=new Yt,KXe="LANDEBUG",JXe="MPHELPER",XXe=null,YXe=PXe.CLOSED,QXe="",ZXe=-1,eYe=!1,tYe=null,rYe=null,nYe=[],iYe=[],aYe=[];function oYe(e){var t;try{if("object"!=typeof e)return Promise.resolve(!1);if("string"!=typeof e.ip||"string"!=typeof e.token)return Promise.resolve(!1);t=e}catch(e){return Promise.resolve(!1)}if(YXe===PXe.OPEN&&rYe)return Promise.resolve(rYe);if(YXe===PXe.CONNECTING)return XXe;var{ip:r,port:n,token:i,useStaticServer:a=!1,mode:o}=t;eYe=a,QXe=r,ZXe=n,YXe=PXe.CONNECTING;var s="mpHelper"===o?JXe:KXe,l=pw();return FXe(dYe,cYe,uYe),XXe=new Promise((e=>{HXe(),(rYe=WXe.connectSocket({url:`ws://${r}:${n}`,protocols:[`${encodeURI(`${s}#${l.system}_v${l.version}_${qXe}`)}||${i}`]})).onOpen((()=>{rYe.send({data:"ping",success(){nYe.forEach((e=>{hYe(e)}))},fail(e){}}),YXe=PXe.OPEN,GXe.emit(TXe,YXe),e(rYe)})),rYe.onMessage((e=>{if(!(e.data&&"pong"===e.data||e.data.length<4||"string"==typeof e.data)){var t,r=new Uint8Array(e.data),n=r.slice(0,4),i=new Uint32Array(n)[0],a=r.slice(4,4+i);try{t=zXe().LanDebugHeader.decode(a)}catch(e){return e.message,void e.stack}var o,{isString:s,method:l}=t;if(s)o=mXe(r.slice(4+i));else o=r.slice(4+i).buffer;GXe.emit(l,o)}})),rYe.onClose((()=>{sYe(PXe.CLOSED),aYe.forEach((e=>{gYe(e)}))})),rYe.onError((e=>{sYe(PXe.ERROR),tYe=e,iYe.forEach((e=>{fYe(e)}))}))})),XXe}function sYe(e){YXe=e,GXe.emit(TXe,YXe),QXe="",ZXe=-1,eYe=!1,rYe=null}function lYe(e,t,r="",n){if(void 0===r||"string"!=typeof r&&!r.constructor.toString().includes("ArrayBuffer"))return!1;var i=!1;return XXe?("string"==typeof r&&(i=!0,r=yXe(r)),XXe.then((a=>new Promise((o=>{if(!a)return o({errMsg:"sendSocketMessage:fail no client"});HXe();var s=zXe().LanDebugHeader.encode(Object.assign({version:2,method:t,id:e,isString:i,clientId:qXe,options:JSON.stringify({isDevEdition:re.isDevEdition})},n?{notEnd:!0}:{})),l=new Uint32Array([s.length]);a.send({data:new Uint8Array([...new Uint8Array(l.buffer),...new Uint8Array(s.buffer),...new Uint8Array(r)]).buffer,success(e){o(e)},fail(e){o(e)}})}))))):Promise.resolve({errMsg:"sendSocketMessage:failed"})}var cYe=function(e,t){return lYe(jXe++,e,t)},uYe=function(e){var t=jXe++;return{send:r=>lYe(t,e,r,!0),end:(r=new ArrayBuffer(0))=>lYe(t,e,r)}},dYe=function(e,t){GXe.on(e,t)},pYe=function(e,t){GXe.off(e,t)},hYe=function(e){try{e()}catch(e){e.message,e.stack}},fYe=function(e){try{e(tYe)}catch(e){e.message,e.stack}},gYe=function(e){try{e(tYe)}catch(e){e.message,e.stack}},vYe=function(e){"function"==typeof e&&(YXe===PXe.OPEN?hYe(e):nYe.push(e))},mYe=function(e){"function"==typeof e&&(YXe===PXe.ERROR?fYe(e):iYe.push(e))},yYe=function(e){"function"==typeof e&&(YXe===PXe.ERROR?gYe(e):aYe.push(e))},bYe={sendPackage:cYe,sendStream:uYe,onMessage:dYe,offMessage:pYe,onReady:vYe,onError:mYe,onClose:yYe,get status(){return YXe},get ip(){return QXe},get port(){return ZXe},get useStaticServer(){return eYe}};Object.defineProperty(bYe,"_start",{get:()=>(...e)=>oYe(...e)});var _Ye=e=>{setTimeout((()=>{var{ip:t,port:r,token:n,useStaticServer:i,useLanDebug:a}=(e.debugLaunchInfo||{}).lanDebugInfo||{};if((e.isDevEdition||a)&&(e.debugLaunchInfo,e.isDevEdition,t&&r&&n))return oYe({ip:t,port:r,token:n,useStaticServer:i})}),500)};re.onReady((()=>{We()||dS((()=>{_Ye(re)}))}));var wYe="getLatestUserKey";function SYe({contextId:e}={}){return rx({apiName:"webapi_getuserencryptkey",reqData:{},contextId:e}).then((e=>{var{encrypt_key:t,version:r,expire_in:n,iv:i}=e.data;return{encryptKey:t,version:r,expireTime:Date.now()+1e3*n,iv:i}}))}function CYe(e){SYe({contextId:e.contextId}).then((t=>(zc({name:wYe,args:e,res:t}),null))).catch((t=>{Vc(wYe,e,t.message||t.errMsg)}))}var kYe={getLatestUserKey:CYe,getRandomValues:eBe},IYe=()=>kYe,PYe,TYe,AYe=function(e){return e.EC="EC",e.RSA="RSA",e.SHA256withECDSA="SHA256withECDSA",e.SHA256withRSA="SHA256withRSA",e}(AYe||{}),xYe=function(e){return e.ECDH="ECDH",e.AES_GCM="AES-GCM",e.AES_CBC="AES-CBC",e}(xYe||{}),EYe=5242880,MYe=[224,256,384,521],RYe=[512,1024,2048,4096],DYe=[128,192,256],OYe=(e={})=>{Object.keys(e).forEach((t=>{t.includes("__wx_")&&delete e[t]}))},LYe=()=>new ArrayBuffer(0),NYe=pJ((()=>new ArrayBuffer(0))),BYe=0,$Ye=(PYe=class{generateKeyPair(e){jc("generateKeyPair",e,{algorithm:"",keySize:0})&&(Object.values(AYe).includes(e.algorithm)?e.algorithm!==AYe.EC||MYe.includes(e.keySize)?e.algorithm!==AYe.RSA||RYe.includes(e.keySize)?fd("cryptoGenerateKey",{...e,keyAlias:Lt()},{beforeAll(e){OYe(e),e.errMsg=e.errMsg.replace("cryptoGenerateKey","generateKeyPair")},beforeSuccess(e){e.privateKeyAlias=e.keyAlias,delete e.keyAlias}}):Vc("generateKeyPair",e,"RSA invalid keysize"):Vc("generateKeyPair",e,"EC invalid keysize"):Vc("generateKeyPair",e,"invalid algorithm"))}generateKey(e){var t=e.algorithm===xYe.ECDH;jc("generateKey",e,{algorithm:"",...t?{privateKeyAlias:"",publicKey:NYe()}:{keySize:0}})&&(Object.values(xYe).includes(e.algorithm)?![xYe.AES_CBC,xYe.AES_GCM].includes(e.algorithm)||DYe.includes(e.keySize)?t?fd("cryptoExchangeKey",{...e,...e.privateKeyAlias?{keyAlias:e.privateKeyAlias}:{}},{beforeAll(e){OYe(e),e.errMsg=e.errMsg.replace("cryptoExchangeKey","generateKey")}}):fd("cryptoGenerateKey",{...e,keyAlias:Lt()},{beforeAll(e){OYe(e),e.errMsg=e.errMsg.replace("cryptoGenerateKey","generateKey")}}):Vc("generateKey",e,`${e.algorithm} invalid keysize`):Vc("generateKey",e,"invalid algorithm"))}removeKey(e){jc("removeKey",e,{keyAlias:""})&&fd("cryptoRemoveKey",e,{beforeAll(e){e.errMsg=e.errMsg.replace("cryptoRemoveKey","removeKey")}})}getKeys(e={}){fd("cryptoGetGeneratedKeys",e,{beforeAll(e){e.errMsg=e.errMsg.replace("cryptoGetGeneratedKeys","getKeys")}})}createCryptoOperator(e){var t={};if(e.type===FYe.verify&&(t={publicKey:NYe(),signature:NYe()}),jc("createCryptoOperator",e,{type:"",algorithm:"",...t}))if(Object.values(FYe).includes(e.type))if(Object.values({...AYe,...xYe}).includes(e.algorithm)){if(e.algorithm===xYe.AES_GCM){if(![96,104,112,120,128].includes(null==e?void 0:e.tagLength))return void Vc("createCryptoOperator",e,"invalid tagLength")}e.privateKeyAlias&&(e.keyAlias=e.privateKeyAlias);var r=++BYe;fd("cryptoOpen",{...e,id:r},{beforeAll:e=>{OYe(e),e.errMsg=e.errMsg.replace("cryptoOpen","createCryptoOperator")},beforeSuccess:t=>{t.operator=new jYe(r,e.type)}})}else Vc("createCryptoOperator",e,"invalid algorithm");else Vc("createCryptoOperator",e,"invalid operate type")}},G()(PYe.prototype,"generateKeyPair",[Nt],Object.getOwnPropertyDescriptor(PYe.prototype,"generateKeyPair"),PYe.prototype),G()(PYe.prototype,"generateKey",[Nt],Object.getOwnPropertyDescriptor(PYe.prototype,"generateKey"),PYe.prototype),G()(PYe.prototype,"removeKey",[Nt],Object.getOwnPropertyDescriptor(PYe.prototype,"removeKey"),PYe.prototype),G()(PYe.prototype,"getKeys",[Nt],Object.getOwnPropertyDescriptor(PYe.prototype,"getKeys"),PYe.prototype),G()(PYe.prototype,"createCryptoOperator",[Nt],Object.getOwnPropertyDescriptor(PYe.prototype,"createCryptoOperator"),PYe.prototype),PYe),FYe=function(e){return e.encrypt="encrypt",e.decrypt="decrypt",e.sign="sign",e.verify="verify",e}(FYe||{}),jYe=(TYe=class{constructor(e,t){this.id=e,this.type=t,this.finished=!1}update(e){jc("createCryptoOperator.update",e,{data:NYe()})&&(e.data.byteLength>EYe?Vc("createCryptoOperator.update",e,"exceed 5MB data size"):this.finished?Vc("createCryptoOperator.update",e,"already computed"):fd("cryptoOperate",{...e,id:this.id,type:"update"},{beforeAll:e=>{OYe(e),e.errMsg=e.errMsg.replace("cryptoOperate","createCryptoOperator.update")},beforeSuccess:e=>{void 0===e.data&&(e.data=LYe())}}))}compute(e={}){this.finished?Vc("createCryptoOperator.compute",e,"already computed"):fd("cryptoCompute",{...e,id:this.id},{beforeAll:e=>{OYe(e),e.errMsg=e.errMsg.replace("cryptoCompute","createCryptoOperator.compute"),this.finished=!0},beforeSuccess:e=>{void 0===e.data&&(e.data=LYe()),this.type===FYe.sign&&(e.signature=e.data,delete e.data),this.type===FYe.verify&&(e.verify=e.data,delete e.data)}})}},G()(TYe.prototype,"update",[Nt],Object.getOwnPropertyDescriptor(TYe.prototype,"update"),TYe.prototype),G()(TYe.prototype,"compute",[Nt],Object.getOwnPropertyDescriptor(TYe.prototype,"compute"),TYe.prototype),TYe),WYe=new $Ye,VYe=()=>WYe,UYe="SM-CRYPTO",zYe="";function qYe(e){zYe=e,iS("sendViewLicenseInfo",{key:UYe,license:e,permissionByte:Vh("skipCheckCommercialWxaEncryptLicense")})}function HYe(e){var{success:t}=qc(e,"checkLicense");if(zYe)t({hasLicense:!0});else{var r=re.accountInfo&&re.accountInfo.appId||"noAppId";iS("getLicenseFromGlobalStorge",{key:UYe,appId:r},void 0,(e=>{qYe(e||""),t({hasLicense:!!e})}))}}function GYe(e){var{success:t,failWithMsg:r}=qc(e,"applyLicense"),n=()=>{tx({sdkApiName:"applyLicense",apiName:"webapi_checkcommercialwxaencryptlicense",reqData:{lib_version:re.SDKVersion},success(e){var n=(e.data||{}).request_id;if(n){var i=RP(n),a=re.accountInfo&&re.accountInfo.appId||"noAppId";i&&i.trim()&&iS("setLicenseToGlobalStorge",{key:UYe,license:i,appId:a},void 0,(()=>{qYe(i),(e=>{tx({sdkApiName:"applyLicense",apiName:"webapi_consumecommercialwxaencryptlicense",reqData:{lib_version:re.SDKVersion,request_id:e}})})(n),t({})}))}else r({msg:"apply license failed"})},fail(e){1400001===e.errno?r({code:1400001,msg:"no enough quota"}):r({msg:"system error"})}})};HYe({success(e){e.hasLicense?t({}):n()},fail(){n()}})}function KYe(e){var{success:t,assembleFailWithMsg:r}=qc(e,"removeLicense"),n=re.accountInfo&&re.accountInfo.appId||"noAppId";iS("removeLicenseFromGlobalStorge",{key:UYe,appId:n},void 0,(e=>{e?r({}):(qYe(""),t({}))}))}function JYe(){return!!Vh("skipCheckCommercialWxaEncryptLicense")||!!zYe}var XYe=!1;rG((()=>{qYe(zYe),XYe||HYe({success:()=>{XYe=!0}})}));var YYe=(e={})=>{JYe()?fd("operateSmCrypto",e):Vc("GMCryptoManager",e,"can only be invoked with license")},QYe=(e={})=>{JYe()?fd("operateSmCryptoSensitive",e):Vc("GMCryptoManager",e,"can only be invoked with license")},ZYe=(e={})=>{JYe()?fd("operateSmStorage",e):Vc("GMCryptoManager",e,"can only be invoked with license")},eQe=pJ((()=>new ArrayBuffer)),tQe={generateKeyPair:"generateSm2KeyPair",importPublic:"importSm2PublicKey",exportPublic:"exportSm2PublicKey",updatePublic:"updateSm2PublicKey",deletePublic:"deleteSm2PublicKey",checkPublic:"checkSm2PublicKey",importPrivate:"importSm2PrivateKey",exportPrivate:"exportSm2PrivateKey",updatePrivate:"updateSm2PrivateKey",deletePrivate:"deleteSm2PrivateKey",checkPrivate:"checkSm2PrivateKey"},rQe=(e={})=>{var t="desc"in e,r=t?ZYe:QYe,n=t?tQe.generateKeyPair:"sm2GenKeyPair";t&&!jc("GMCryptoManager.SM2.generateKeyPair",e,{desc:""})||r({...e,type:n})},nQe=(e={})=>{if(jc("GMCryptoManager.SM2.importPublicKey",e,{desc:"",publicKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,ZYe({...t,type:tQe.importPublic})}},iQe=(e={})=>{if(jc("GMCryptoManager.SM2.exportPublicKey",e,{desc:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,ZYe({...t,type:tQe.exportPublic})}},aQe=(e={})=>{if(jc("GMCryptoManager.SM2.updatePublicKey",e,{desc:"",publicKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,ZYe({...t,type:tQe.updatePublic})}},oQe=(e={})=>{jc("GMCryptoManager.SM2.deletePublicKey",e,{desc:""})&&ZYe({...e,type:tQe.deletePublic})},sQe=(e={})=>{jc("GMCryptoManager.SM2.checkPublicKey",e,{desc:""})&&ZYe({...e,type:tQe.checkPublic})},lQe=(e={})=>{if(jc("GMCryptoManager.SM2.importPrivateKey",e,{desc:"",privateKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,ZYe({...t,type:tQe.importPrivate})}},cQe=(e={})=>{if(jc("GMCryptoManager.SM2.exportPrivateKey",e,{desc:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,ZYe({...t,type:tQe.exportPrivate})}},uQe=(e={})=>{if(jc("GMCryptoManager.SM2.updatePrivateKey",e,{desc:"",privateKey:"",format:0})){var t={...e};delete t.format,t.sm2KeyFormat=e.format,ZYe({...t,type:tQe.updatePrivate})}},dQe=(e={})=>{jc("GMCryptoManager.SM2.deletePrivateKey",e,{desc:""})&&ZYe({...e,type:tQe.deletePrivate})},pQe=(e={})=>{jc("GMCryptoManager.SM2.checkPrivateKey",e,{desc:""})&&ZYe({...e,type:tQe.checkPrivate})},hQe=(e={})=>{jc("GMCryptoManager.SM2.generatePublicKey",e,{privateKey:new ArrayBuffer})&&QYe({...e,type:"sm2GenPublicKey"})},fQe=(e={})=>{var t=eQe(),r={plaintext:t,cipherMode:0},n="desc"in e;if(n?r.desc="":r.publicKey=t,jc("GMCryptoManager.SM2.encrypt",e,r)){var i=n?"sm2Encrypt":"sm2EncryptWithMode";(n?ZYe:YYe)({...e,type:i})}},gQe=(e={})=>{var t=eQe(),r={ciphertext:t,cipherMode:0},n="desc"in e;if(n?r.desc="":r.privateKey=t,jc("GMCryptoManager.SM2.decrypt",e,r)){var i=n?"sm2Decrypt":"sm2DecryptWithMode";(n?ZYe:QYe)({...e,type:i})}},vQe=(e={})=>{var t=eQe(),r={message:t,signMode:0},n="desc"in e;if(n?r.desc=r.uid="":r.privateKey=r.publicKey=r.uid=t,jc("GMCryptoManager.SM2.sign",e,r)){n&&(e.id=e.uid,delete e.uid);var i=n?"sm2Sign":"sm2SignWithMode";(n?ZYe:QYe)({...e,type:i})}},mQe=(e={})=>{var t=eQe(),r={message:t,signed:t,signMode:0},n="desc"in e;if(n?r.desc=r.uid="":r.publicKey=r.uid=t,jc("GMCryptoManager.SM2.verify",e,r)){n&&(e.id=e.uid,delete e.uid);var i=n?"sm2Verify":"sm2VerifyWithMode";(n?ZYe:YYe)({...e,type:i})}},yQe={CipherMode_C1C3C2_ASN1:0,CipherMode_C1C3C2:1,CipherMode_C1C2C3_ASN1:2,CipherMode_C1C2C3:3,CipherMode_04C1C3C2:4,CipherMode_04C1C2C3:5,SignMode_RS_ASN1:0,SignMode_RS:1,KeyFormat_HEX:0,KeyFormat_PEM:1,generateKeyPair:rQe,generatePublicKey:hQe,encrypt:fQe,decrypt:gQe,sign:vQe,verify:mQe,importPublicKey:nQe,exportPublicKey:iQe,updatePublicKey:aQe,deletePublicKey:oQe,checkPublicKey:sQe,importPrivateKey:lQe,exportPrivateKey:cQe,updatePrivateKey:uQe,deletePrivateKey:dQe,checkPrivateKey:pQe},bQe=(e={})=>{jc("GMCryptoManager.SM3.digest",e,{message:eQe()})&&YYe({...e,type:"sm3"})},_Qe=(e={})=>{jc("GMCryptoManager.SM3.hmac",e,{message:eQe(),key:eQe()})&&QYe({...e,type:"sm3Hmac"})},wQe={digest:bQe,hmac:_Qe},SQe={cbc:"sm4CbcEncrypt",gcm:"sm4GcmEncrypt",ctr:"sm4CtrEncrypt",ecb:"sm4EcbEncrypt"},CQe={cbc:"sm4CbcDecrypt",gcm:"sm4GcmDecrypt",ctr:"sm4CtrDecrypt",ecb:"sm4EcbDecrypt"},kQe={generate:"generateSm4Key",import:"importSm4Key",export:"exportSm4Key",update:"updateSm4Key",delete:"deleteSm4Key",check:"checkSm4Key"},IQe=(e={})=>{var t=eQe(),r={plaintext:t,cipherMode:""},n="desc"in e,i=e.cipherMode;(n?r.desc="":r.key=t,i===DQe.CipherMode_GCM&&(r.aad=t),jc("GMCryptoManager.SM4.encrypt",e,r))&&(delete e.cipherMode,(n?ZYe:QYe)({...e,type:SQe[i]}))},PQe=(e={})=>{var t=eQe(),r={ciphertext:t,cipherMode:""},n="desc"in e,i=e.cipherMode;(n?r.desc="":r.key=t,i===DQe.CipherMode_GCM&&(r.aad=r.tag=t),jc("GMCryptoManager.SM4.decrypt",e,r))&&(delete e.cipherMode,(n?ZYe:QYe)({...e,type:CQe[i]}))},TQe=(e={})=>{jc("GMCryptoManager.SM4.generateKey",e,{desc:""})&&ZYe({...e,type:kQe.generate})},AQe=(e={})=>{jc("GMCryptoManager.SM4.importKey",e,{desc:"",key:""})&&ZYe({...e,type:kQe.import})},xQe=(e={})=>{jc("GMCryptoManager.SM4.importKey",e,{desc:""})&&ZYe({...e,type:kQe.export})},EQe=(e={})=>{jc("GMCryptoManager.SM4.updateKey",e,{desc:"",key:""})&&ZYe({...e,type:kQe.update})},MQe=(e={})=>{jc("GMCryptoManager.SM4.deleteKey",e,{desc:""})&&ZYe({...e,type:kQe.delete})},RQe=(e={})=>{jc("GMCryptoManager.SM4.checkKey",e,{desc:""})&&ZYe({...e,type:kQe.check})},DQe={encrypt:IQe,decrypt:PQe,generateKey:TQe,importKey:AQe,exportKey:xQe,updateKey:EQe,deleteKey:MQe,checkKey:RQe,CipherMode_CBC:"cbc",CipherMode_GCM:"gcm",CipherMode_CTR:"ctr",CipherMode_ECB:"ecb"},OQe=(e={})=>{jc("GMCryptoManager.generateRandomBytes",e,{length:0})&&YYe({...e,type:"genRandomBytes"})},LQe={SM2:yQe,SM3:wQe,SM4:DQe,generateRandomBytes:OQe,checkLicense:HYe,applyLicense:GYe,removeLicense:KYe},NQe=()=>{for(var e of(["generateRandomBytes","checkLicense","applyLicense","removeLicense"].forEach((e=>{LQe[e]=Vt(LQe[e])})),["SM2","SM3","SM4"]))for(var[t,r]of Object.entries(LQe[e]))"function"==typeof r&&(LQe[e][t]=Vt(r))},BQe=()=>LQe,$Qe=()=>Math.floor(Date.now()/1e3),FQe=()=>{var e="0123456789abcdef",t=t=>{for(var r="";t--;)r+=e[Math.floor(16*Math.random())];return r};return`${t(8)}-${t(4)}-4${t(3)}-8${t(3)}-${t(8)}`},jQe=(e,t)=>{var r=t.map((t=>`${t}=${e[t]}`)).join("&");return zze()(r).toUpperCase()},WQe=e=>{fd("private_openUrl",{url:`https://mp.weixin.qq.com/mp/waerrpage?appid=${e}&type=offshelf&offshelf_type=0#wechat_redirect`,isNativeStyle:!0}),Eh((()=>{v4()}))},VQe=hke.app,UQe="_private_@@financial_applet_events@@",zQe="https://open.fdep.cn",qQe="/api/v1/mop/runtime/external/check/app-packages",HQe="/api/v1/mop/runtime/data-report/apm/private",GQe={APPLET_START:"applet_start",DATA_DISCLOSURE:"data_disclosure",APPLET_CRASH:"applet_crash",SANDBOX_CRASH:"sandbox_crash",OPERATION_EXCEPTION:"operation_exception",ACCESS_EXCEPTION:"access_exception",START_FAIL:"start_fail"},KQe={applet_start:"小程序启动",data_disclosure:"数据泄露",applet_crash:"小程序崩溃",sandbox_crash:"安全沙箱崩溃",operation_exception:"运维异常",access_exception:"无法访问业务内容",start_fail:"启动失败"},JQe=new Promise((e=>re.onReady(e))),XQe=function(){var e=Vp()((function*(){var e,t;yield JQe;var r=null==re||null===(e=re.appContactInfo)||void 0===e||null===(t=e.passThroughInfo)||void 0===t?void 0:t.finance_app_info;return r?{appId:r.finance_appid,sdkFingerprint:r.finance_sdk_fingerprint,sdkKey:r.finance_sdk_key,sdkSecret:r.finance_sdk_secret,sdkBundleId:r.finance_sdk_bundleid,sdkVersion:r.finance_sdk_version,appPkgList:r.finance_app_pkg_list,appSequence:r.finance_app_seq,appVersion:r.finance_app_version,organId:r.finance_organ_id,encryptionType:r.finance_encryption_type,isGray:r.is_gray,shouldCheck:r.should_check,baseUrl:r.finance_base_url}:null}));return function(){return e.apply(this,arguments)}}(),YQe=function(){var e=Vp()((function*(e){var t,r,n,i,a,o,s,l,c,u="wechat",d="sha256",p=Math.floor(Date.now()/1e3),h=FQe(),f=e.appPkgList.filter((e=>16===e.pkg_type))[0].pkg_sha256,g={source:u,identityType:d,apps:[{appId:e.appId,identity:f}],timestamp:p,uuid:h,sign:jQe({timestamp:p,uuid:h,source:u,identityType:d,secret:e.sdkSecret},["identityType","source","timestamp","uuid","secret"])},v={"mop-sdk-key":e.sdkKey,"mop-encryption-type":e.encryptionType,"mop-sdk-fingerprint":e.sdkFingerprint},m=`${e.baseUrl||zQe}${qQe}`,y=yield new Promise(((e,t)=>{UA({method:"POST",url:m,header:v,data:g,success:e,fail:t})}));if(_.info(`[mop verify response] errcode=${null==y||null===(t=y.data)||void 0===t?void 0:t.errcode} error=${null==y||null===(r=y.data)||void 0===r?void 0:r.error}`),["FS_BIND_NOT_FOUND","MOP_SDK_FINGERPRINT_CHECK_FAIL"].includes(null==y||null===(n=y.data)||void 0===n?void 0:n.errcode))return!1;if("OK"!==(null==y||null===(i=y.data)||void 0===i?void 0:i.errcode))throw new Error((null==y||null===(c=y.data)||void 0===c?void 0:c.error)||"mop verify failed");var b=null==y||null===(a=y.data)||void 0===a||null===(o=a.data)||void 0===o||null===(s=o.appList)||void 0===s?void 0:s[0];if(!b)throw new Error("cannot find app data in appList");if(["FS_APP_ID_NOT_FOUND","FS_IDENTITY_NOT_FOUND_ERR","FS_ORGAN_STATUS_INVALID","FS_COOPERATION_TERMINATED","FS_APP_NOT_ASS_BIND"].includes(null==b?void 0:b.errcode))return!1;if("OK"!==(null==b?void 0:b.errcode))throw new Error((null==b?void 0:b.error)||"mop verify failed");return!0===(null==b||null===(l=b.data)||void 0===l?void 0:l.identityValid)}));return function(t){return e.apply(this,arguments)}}(),QQe=function(){var e=Vp()((function*(e,t){var r={applet_id:e.appId,applet_ver:e.appVersion,applet_sequence:e.appSequence,event_name:KQe[t],event_type:t,is_gray:e.isGray,organ_id:e.organId,basic_pack_version:re.SDKVersion,payload:{},timestamp:$Qe()},n=VQe.getStorageSync(UQe);if((n=Array.isArray(n)?n:[]).push(r),VQe.setStorage({key:UQe,data:n}),e.shouldCheck){var i=FQe(),a=$Qe(),o={data:{app_info:{app_id:e.sdkBundleId,app_version:re.host.version+"",name:re.host.env,sdk_key:e.sdkKey,sdk_version:e.sdkVersion,finger:e.sdkFingerprint},device_info:{brand:re.brand,device_id:null,model:re.model,os:re.platform,os_version:re.system,screen_size:`${re.screenHeight}*${re.screenWidth}`},events:n},exp:{},timestamp:a,uuid:i,sign:jQe({timestamp:a,uuid:i,secret:e.sdkSecret},["timestamp","uuid","secret"])},s={"mop-sdk-key":e.sdkKey,"mop-encryption-type":e.encryptionType,"mop-sdk-fingerprint":e.sdkFingerprint},l=`${e.baseUrl||zQe}${HQe}`;try{var c,u,d=yield new Promise(((e,t)=>{UA({method:"POST",url:l,header:s,data:o,success:e,fail:t})}));if("OK"!==(null==d||null===(c=d.data)||void 0===c?void 0:c.errcode))throw new Error((null==d||null===(u=d.data)||void 0===u?void 0:u.error)||"report failed");var p=VQe.getStorageSync(UQe);p=(p=Array.isArray(p)?p:[]).slice(n.length),VQe.setStorage({key:UQe,data:p})}catch(e){}}}));return function(t,r){return e.apply(this,arguments)}}(),ZQe=()=>{re.onReady(Vp()((function*(){yield new Promise((e=>setTimeout(e,0)));var e=yield XQe();if(e&&e.appId){var t="initial";try{if(e.shouldCheck)try{if(!(yield YQe(e)))return WQe(re.accountInfo.appId),void(t="rejected");t="passed"}catch(e){t="failed",_.error("[mop verify error]",e)}else t="skipped";QQe(e,GQe.APPLET_START).catch((e=>{_.error("[mop report error]",e)}))}catch(e){_.error("[init financial app error]",e)}finally{_.info("[financial check status]",t)}}})))},eZe=()=>{re.onReady((()=>{f.g.__isAppServiceRemoteDebugMode__&&f.g.__remoteDebug__.setAppserviceHandlers({getCurrentPages:yr.getCurrentPagesByDomain,invokeWebviewMethod:iS,__appServiceEngine__:yr,__appServiceSDK__:{_requestSkipCheckDomain:UA},Reporter:M,__virtualDOM__:gr,exparser:Pr,wx:eNt.wx})}))},tZe=()=>f.g.__debuggerMessager__?f.g.__debuggerMessager__:{},rZe=(e={})=>{var t=["release","develop","trial"],r=lx("CreateWxaShortLink","webapi_createwxashortlink",(e=>({wxa_appid:e.appid,wxa_path:e.path,page_title:e.title,version:e.version,version_type:t.indexOf(e.envVersion)})),(e=>{e.shortLink=e.short_link,delete e.short_link}));r(e)},nZe=(e={})=>{e.keyPath="WxaAppVersionInfo.AppVersion",fd("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data)}})},iZe=(e={})=>{e.keyPath="WxaAppVersionInfo.VersionState",fd("getAppContact",e,{beforeSuccess(e){e.data=JSON.parse(e.data),1===e.data&&(e.data=0)}})},aZe=(e={})=>{nZe({success(t){zc({name:"getAppContact",args:e,res:t})},fail(t){iZe({success(t){zc({name:"getAppContact",args:e,res:t})},fail(t){zc({name:"getAppContact",args:e,res:t,success:!1})}})}})},oZe=null,sZe=e=>{oZe=e},lZe=()=>{oZe=null},cZe=Cf(rZe),uZe=Cf(aZe),dZe=e=>dj({icon:"none",title:e}),pZe=1500,hZe=new Map,fZe="请检查网络后重试",gZe="已复制",vZe=0;Ut("onCopyUrl",(e=>{if(e.webviewId!==su.currentWebviewId)return console.warn("[onCopyUrl] error: webviewId loss"),void dZe("请检查网络后重试");IE(e.webviewId);var t=e.shortLinkEnable||!1,r=su.lastRoute,n=su.lastOpenType,i=JSON.parse(JSON.stringify(su.lastRawQuery||{}));if("appLaunch"!==n&&"autoReLaunch"!==n)try{Object.keys(i).forEach((e=>{i[e]=decodeURIComponent(i[e])}))}catch(e){return void dZe(fZe)}var a=We()?t?"":"index.html":`${r}.html`,o=Object.entries(i).map((e=>e.join("="))).join("&");if(t&&"function"==typeof oZe)try{o=(oZe()||{}).query||""}catch(e){console.warn("[onCopyUrl] error",e)}var s=o?`${a}?${o}`:a;if(t){hZe.has(vZe)&&hZe.set(vZe,!1);var l=++vZe,c=!1;hZe.set(l,!0);var u=e=>{!!hZe.get(l)&&(dZe(e),e===fZe&&fd("returnCopyUrl",{url:"",shortLinkEnable:t}),hZe.set(l,!1))};setTimeout((()=>{c=!0,u(fZe)}),pZe);var d=re.page[`${r}.html`],p=d&&d.window||{},h=re.global&&re.global.window||{},f=p.navigationBarTitleText||h.navigationBarTitleText||"";uZe().then((e=>{var r=e.data;return cZe({appid:re.accountInfo.appId,envVersion:re.envVersion,path:s,title:We()?"":f,version:r}).then((e=>(console.log("createWxaShortLinkAsync, ",e),!!hZe.get(l)&&!c&&(fd("returnCopyUrl",{url:e.shortLink,shortLinkEnable:t,success(){dZe(gZe)},fail(){dZe(fZe)}}),hZe.set(l,!1)),null))).catch((e=>{u(fZe),console.log("[onCopyUrl]:",e)})),null})).catch((e=>{u(fZe),console.log("[onCopyUrl]: ",e)}))}else fd("returnCopyUrl",{url:s,shortLinkEnable:t,success(){dZe(gZe)},fail(){dZe(fZe)}})}));var mZe=nr("WindowStateChange"),yZe=mZe.onMethod,bZe=mZe.offMethod;Ut("onWindowStateChange",(e=>{_.info("onWindowStateChange",e),mZe.emit(e)}));var _Ze=["image","font"],wZe=(e={})=>{var t="preloadAssets";if(jc(t,e,{data:[{src:"",type:""}]})){for(var r=e.data,n=0;n<r.length;n++){var i=r[n];if(!i.type||!_Ze.includes(i.type)||!i.src)return void Vc(t,e,zn)}var a=[];if("webview"===$r(su.currentWebviewId)){var o=new Promise((e=>{su.currentWebviewIdPromise.then((()=>{iS("preloadAssets",r,[su.currentWebviewId],(t=>{e(t)}))}))}));a.push(o)}re.onReady((()=>{var e,t;null!==(e=re.renderer)&&void 0!==e&&null!==(t=e.allUsed)&&void 0!==t&&t.includes("skyline")&&hDe((()=>{"function"==typeof SkylineGlobal.runtime.preloadAssets&&SkylineGlobal.runtime.preloadAssets(r),a.push(Promise.resolve({errMsg:"preloadAssets:ok"}))}))})),Promise.all(a).then((t=>{id(t[0],"preloadAssets",e,{})}))}},SZe=!1,CZe=!1;function kZe(e=!1,t=0,r=[]){var n,i,a=Vg.saveV8CodeCacheWithTier;"function"==typeof a&&null!==(n=l)&&void 0!==n&&null!==(i=n.features)&&void 0!==i&&i.delayedServiceCodeCache&&(CZe||(CZe=e,SZe||(SZe=!0,setTimeout((()=>{Date.now();a(!1,CZe,t,r),Date.now(),SZe=!1}),0))))}var IZe=!1,PZe=!1;function TZe(e=!1){var t,r,n=Vg.saveCodeCache;"function"==typeof n&&null!==(t=l)&&void 0!==t&&null!==(r=t.features)&&void 0!==r&&r.delayedServiceCodeCache&&(PZe||(PZe=e,IZe||(IZe=!0,setTimeout((()=>{Date.now();n(!1,PZe),Date.now(),IZe=!1}),0))))}function AZe(e){"skyline"!==e.renderer?kZe(!0,2,["WARenderContext.js"]):kZe(!0,2),Xw(AZe)}m.onLoad((()=>{1===re.envPreloadType?setTimeout((()=>{kZe(!1,1)}),0):xe||re.onReady((()=>{TZe(!1)}))})),Jw(AZe);var xZe={},EZe,MZe;re.onReady((()=>{EZe=re.appLaunchInfo.scene,MZe=re.appLaunchInfo.sessionid||re.appLaunchInfo.sessionId,Object.assign(xZe,re.appLaunchInfo),cr("onAppEnterForeground",(e=>{Object.assign(xZe,e),e&&e.scene&&(EZe=e.scene),e&&(e.sessionid||e.sessionId)&&(MZe=e.sessionid||e.sessionId),L.setAppServiceVariable({scene:EZe,scene_note:xZe.scene_note||xZe.sceneNote,instanceId:MZe}),L.updateWebviewPageInfo()})),L.setAppServiceVariable({scene:EZe,scene_note:xZe.scene_note||xZe.sceneNote,instanceId:MZe}),cr("onAppEnterBackground",(()=>{L.checkIsWebviewPageDetach()}))}));var RZe=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf8","utf8"===t.format&&ke&&(t.format="utf-8"),Ce){var r=null;return fd("encodeArrayBufferSync",Object.assign(t,{success(e){r=e.buffer},fail(){}})),r}return Vg.encodeArrayBuffer(t.data,t.format)},DZe=(e={})=>{var t=Object.assign({},e);if(t.format=t.format||"utf-8","utf8"===t.format&&ke&&(t.format="utf-8"),ArrayBuffer.isView(t.data)&&console.warn("data must be ArrayBuffer not ArrayBufferView"),Ce){var r="";return fd("decodeArrayBufferSync",Object.assign(t,{success(e){r=e.result},fail(){}})),r}return Vg.decodeArrayBuffer(t.data,t.format)},OZe=Symbol("specialAdd");cr("onAddToDesktop",(()=>{dj({icon:"loading",title:"加载中",duration:5e3}),LZe({timeout:5e3,special:OZe,fail(e){dj({icon:"error",title:"链接生成失败，请重试"}),_.info("onAddToDesktop addToDesktop occur error: ",e)},success(){fd("hideToast",null)}})}));var LZe=(e={})=>{var{special:t,timeout:r}=e;if(void 0===e.path||tt(e.path))if(Ce||ke)Vc("addToDesktop",e,"not supported");else{var{path:n="",fail:i,success:a}=e;if(Vh("openUrlByExtBrowser2")||Vh("openUrlByExtBrowser")&&t===OZe){var o,s=!1;r&&(o=setTimeout((()=>{s=!0,gt(i)&&i({errMsg:"timeout"})}),r)),rx({apiName:"webapi_adduserurllink",reqData:{path:n}}).then((e=>{if(!s){if(o&&clearTimeout(o),0!==(e=e.data).base_resp.errcode)throw e.base_resp;var r=e.url_link;(t===OZe?_U:wU)({url:r,success(){gt(a)&&a()},fail(e){gt(i)&&i(e)}})}})).catch((e=>{s||(o&&clearTimeout(o),e.err_code&&(e.errno=e.err_code,delete e.err_code),gt(i)&&i(e))}))}else Vc("addToDesktop",e,"no permission","-12001")}else Vc("addToDesktop",e,"invalid request data")},NZe=(e,t)=>{qr("getPassiveEvent",{},[e]),Yr("getPassiveEventCb",((r,n)=>{e===n&&t(r)}))},BZe=(e,t)=>{qr("setPassiveEvent",t,[e])},$Ze=(e,...t)=>{gt(e)&&e(...t)},FZe=B_(),jZe=Cf(FZe.writeFile),WZe=Cf(FZe.readFile),VZe=Cf(FZe.access),UZe=Cf(FZe.mkdir),zZe=ke?s_.CACHE_PATH_PREFIX.path:"wxfile://usr/__sdk_private_pay__",qZe=`${zZe}/meta.json`,HZe=5e3,GZe=function(){var e=Vp()((function*(e={}){if(Vh("allowUseWePay")){var t,r={...e},n=(t,r=!1)=>{vje(void 0),$Ze(e.fail,r?t:{errMsg:"pay:fail "+t})};if(!!gje())n("has other on-going payment");else try{var i;"wx8d3e80ba58488c78"!==v.accountInfo.appId&&"wx40f8626ddf43d362"!==v.accountInfo.appId||(t=e.cheat,mje.cheat=t);var{prepayId:a,wxPay:o}=e;if(!a)return void n("lose argument: prepay_id");var s=!1;bj();var l,c,u=setTimeout((()=>{_j(),s=!0,n("timeout")}),HZe);vje({prepayId:a}),o&&(l=o.useOrder);try{if(c=yield rx({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformList",json_req:JSON.stringify({prepay_id:a})}}),s)return;c=c.data}catch(e){return _j(),clearTimeout(u),void n(e.message)}var d=[];c.platform_list&&c.platform_list.forEach((e=>{var t=e.platform_info;d.push({h:t.name,src:t.icon_url,id:e.platform_id})})),null!==(i=t)&&void 0!==i&&i.multi&&d.push(...d),__sclEngine__.initScl((i=>{clearTimeout(u);try{var{windowHeight:c}=$b(),p=i.mainRoot.append("pay",{title:"请选择",content:d,windowHeight:c});p.addListener("hide-loading",(()=>{_j()})),p.addListener("select-pay",function(){var i=Vp()((function*(i){try{var c,d,p=i.detail.id,h=i.detail.name;if(gje().platformId=p,"微信支付"===h)return void(l?G7({...o,fail(e){n(e,!0)},success(t){$Ze(e.success,t)}}):I7({...o,fail(e){n(e)},success(t){$Ze(e.success,t)}}));try{bj(),d=yield rx({sdkApiName:"platformPay",apiName:"webapi_platform_pay",reqData:{method:"GetPlatformPayArgs",json_req:JSON.stringify({platform_id:p,prepay_id:a})}})}catch(e){return _j(),void dj({title:`打开${h}失败，请重试`,icon:"error",duration:1500})}if(_j(),null!==(c=d.data.base_resp)&&void 0!==c&&c.errno)return s||clearTimeout(u),void n(d.data.base_resp.err_msg);var{appid:f,platform_prepay_id:g,platform_args:v,path:m}=d.data;try{yield VZe({path:zZe})}catch(e){try{yield UZe({dirPath:zZe,recursive:!0})}catch(e){}}try{var y,b,_,w,S,C,k;try{_=(_=yield WZe({filePath:qZe,encoding:"utf-8"})).data}catch(e){}if(_&&(_=JSON.parse(_)),null!==(y=_)&&void 0!==y&&null!==(b=y[f+h])&&void 0!==b&&b.hasInit)yield gce({__skip_tap_check__:oce,appId:f,path:m,extraData:{platform_prepay_id:g,platform_args:v},skipSceneSymbol:sce,scene:1227,envVersion:null!==(w=null===(S=t)||void 0===S?void 0:S.envVersion)&&void 0!==w?w:"release"});else yield new Promise(((e,t)=>{aj({title:`即将打开“${h}”小程序支付`,success:r=>{r.cancel?t(new Error("cancel")):e()},fail:t})})),yield p9({appId:f,path:m,extraData:{platform_prepay_id:g,platform_args:v},scene:1227,envVersion:null!==(C=null===(k=t)||void 0===k?void 0:k.envVersion)&&void 0!==C?C:"release"}),_={..._,[f+h]:{hasInit:!0}},yield jZe({filePath:qZe,data:JSON.stringify(_)})}catch(e){if("cancel"===(null==e?void 0:e.message))return void n("user cancel")}var I,P=yield wje();if(P.retry)return void GZe(r);if(null!=P&&P.result)T=h,vje(void 0),$Ze(e.success,{errMsg:"pay: ok",pay:T});else n(null!==(I=null==P?void 0:P.errMsg)&&void 0!==I?I:"pay cancel")}catch(e){console.error("DEBUG Pay phrase 4 occur error:",e)}var T}));return function(e){return i.apply(this,arguments)}}()),p.addListener("cancel",(()=>{n("user cancel")}))}catch(e){}}))}catch(e){}}else $Ze(e.fail,{errMsg:"pay:fail no permission"})}));return function(){return e.apply(this,arguments)}}(),KZe=!0,JZe=function(e,t,r){var n,i=this.prefix+this.api,a=this.uuid,o=r-this.invokeTime,s=null===(n=this.params)||void 0===n?void 0:n[0],l=e?{}:{errMsg:t&&t.errMsg,errno:t&&t.errno};L.traceApi(i,s,t,e,a,o,!1,l)};function XZe(){return mR("traceApiAction",{hookHandlers:{paramHandler(...e){this.params=e},success(e){var t=this.api,r=Date.now();KZe&&"request"!==t&&L.traceApi(t,this.params[0],e,!1,this.uuid,r-this.invokeTime,!0),JZe.call(this,!0,e,r)},fail(e){var t=this.api,r=Date.now();KZe&&"request"!==t&&L.traceApi(t,this.params[0],e,!0,this.uuid,r-this.invokeTime,!0,{errMsg:e&&e.errMsg,errno:e&&e.errno}),JZe.call(this,!1,e,r)},afterCallback(e,t,r){var n=Date.now(),{callbackError:i,syncError:a}=r;JZe.call(this,!(a||i),t,n)},hookArgs(e){"request"===this.api&&(e.__wx_inner_uuid__=this.uuid,e.__wx_inner_invokeTime__=this.invokeTime)}},getState:()=>({api:void 0,prefix:void 0,uuid:void 0,invokeTime:void 0,params:void 0})})}var YZe=nr("AppEnterBackground"),QZe=YZe.internalOffMethod,ZZe=nr("AppEnterForeground"),e0e=ZZe.internalOffMethod,t0e=()=>{},r0e=[],n0e=!1,i0e=0,a0e=()=>{if(i0e){var e=Date.now();r0e.push([e,Number.MAX_SAFE_INTEGER])}},o0e=()=>{if(i0e){var e=Date.now();r0e.length?r0e[r0e.length-1][1]=e:r0e.push([0,e])}},s0e=(e,t,r)=>{var n=0;for(var[i,a]of r){n+=Math.max(0,Math.min(t,a)-Math.max(e,i))}return n},l0e=function(e,t,r,n,i){var a,o=this.prefix+this.api,s=this.uuid,l=this.params,[c,...u]=l,d=this.invokeTime,p=this.subContext,h=this.completeTime,f=s0e(d,h,r0e);dt(c)?(a={...c},["complete","success","fail"].forEach((e=>{var t;null===(t=a)||void 0===t||delete t[`__origin_${e}__`]}))):a=c,MM(o,s,u.length?[a,...u]:a,t?1:0,d,n?0:1,e,p,r,c0e.call(this),this.syncCost,i,isNaN(f)?0:f)};function c0e(){return!this.shouldBelieveAsync}function u0e(e,t=!1,r=0,n=!1){return gR("report",{hookHandlers:{paramHandler(...e){this.params=e},success(e){var r=this.prefix+this.api;JE(r,{res:e}).then((r=>{var i=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,i&&(!t||!M.isLimitReport(21688))&&l0e.call(this,e,!0,t,void 0,n)})).catch((e=>{_.warn("checkPointFullReportRule err:",e)})),setTimeout(t0e,16)},fail(e){var r=this.prefix+this.api;JE(r,{res:e}).then((r=>{var i=r||this.hasCheckReq||this.report;t=t||r||this.hasCheckReq,i&&(!t||!M.isLimitReport(21688))&&l0e.call(this,e,!1,t,void 0,n)})).catch((e=>{_.warn("checkPointFullReportRule err:",e)})),e.errno&&M.reportKeyValue({key:"WeAppRequestErrnoInfo",value:[this.prefix+this.api,e.errno].join(",")}),setTimeout(t0e,16)},complete(){var e=this.prefix+this.api,t=_M(e);this.completeTime=Date.now(),t&&(--i0e||setTimeout((()=>{r0e=[]}),0)),setTimeout(t0e,16)},afterCallback(e,r,i){var a=Date.now()-this.invokeTime;this.syncCost=a;var o=this.prefix+this.api,{callbackError:s,syncError:l}=i;JE(o,{req:null==e?void 0:e[0],res:r}).then((e=>{this.hasCheckReq=e;var i=e||this.hasCheckReq||this.report;t=t||e||this.hasCheckReq,i&&(!t||!M.isLimitReport(21688))&&l0e.call(this,r,!(l||s),t,!0,n)})).catch((e=>{_.warn("checkPointFullReportRule err:",e)}))},beforeExecute(){var r,n=this.prefix+this.api,i=_M(n);i&&(i0e++,n0e||(n0e=!0,Id(a0e),Eh(o0e)));var a=null!==(r=null==i?void 0:i.ratio)&&void 0!==r?r:e;t=1===(null==i?void 0:i.ratio)||t,this.report=this.random<a,this.shouldBelieveAsync=!0,Promise.resolve().then((()=>{this.shouldBelieveAsync=!1}))},reportAsync:c0e},getState:()=>({api:void 0,prefix:void 0,uuid:void 0,params:void 0,invokeTime:void 0,report:void 0,shouldBelieveAsync:void 0,hasCheckReq:void 0,subContext:r,deep:2})})}function d0e(e=0){return u0e(1,!0,e)}var p0e=null,h0e=null;function f0e(){return define("apiCache",{hookHandlers:{breakDirectly:()=>p0e.cache?p0e.ret:NoBreakExecuteNumber,afterCallback(e,t,r){var{syncError:n,callbackError:i}=r,a=e[0];n||i||(p0e.cache?(tryRun(null==a?void 0:a.__origin_success__,p0e.rawResult||t),tryRun(null==a?void 0:a.__origin_complete__,p0e.rawResult||t)):(p0e.cache=!0,p0e.ret=t,setTimeout((()=>{p0e.cache=!1,p0e.ret=null,p0e.rawResult=null}))))}},getState:()=>({cacheInfo:p0e})})}function g0e(){return define("apiCache",{hookHandlers:{breakDirectly(...e){var t,r,n,i,a=e[0];return h0e.isReleaseQueue?h0e.doubleCacheList?void h0e.doubleCacheList.push([(null===(t=this.otherDecoratorStates.promised)||void 0===t?void 0:t.resolve)||(null==a?void 0:a.__origin_success__),(null===(r=this.otherDecoratorStates.promised)||void 0===r?void 0:r.reject)||(null==a?void 0:a.__origin_fail__),null==a?void 0:a.__origin_complete__]):(h0e.doubleCacheList=[],NoBreakExecuteNumber):h0e.cacheList?void h0e.cacheList.push([(null===(n=this.otherDecoratorStates.promised)||void 0===n?void 0:n.resolve)||(null==a?void 0:a.__origin_success__),(null===(i=this.otherDecoratorStates.promised)||void 0===i?void 0:i.reject)||(null==a?void 0:a.__origin_fail__),null==a?void 0:a.__origin_complete__]):(h0e.cacheList=[],NoBreakExecuteNumber)},success(e){h0e.isReleaseQueue=!0,h0e.cacheList&&h0e.cacheList.forEach((t=>{tryRun(t[0],e)}))},fail(e){h0e.isReleaseQueue=!0,h0e.cacheList&&h0e.cacheList.forEach((t=>{tryRun(t[1],e)}))},complete(){h0e.cacheList&&(h0e.cacheList.forEach((e=>{tryRun(e[2])})),h0e.cacheList=null),h0e.isReleaseQueue=!1,h0e.cacheList=h0e.doubleCacheList,h0e.doubleCacheList=null}},getState:()=>({cacheInfo:h0e}),otherDecoratorStates:["promised"]})}var v0e={promise:null};function m0e(){return gR("promised",{hookHandlers:{paramHandler(...e){var t=e[0]||{},{success:r,fail:n,complete:i}=t;if(!(r||n||i)){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}));var a=this.promise.then.bind(this.promise),o=this.promise.catch.bind(this.promise),s=!1,l=!1;o((e=>{s&&!l&&M.thirdErrorReport({error:e})})),this.promise.then=(...e)=>("function"==typeof e[0]&&(s=!0),"function"==typeof e[1]&&(l=!0),a(...e)),this.promise.catch=e=>(l=!0,o(e)),v0e.promise=this.promise}},resultHandler(e){var t,r;if(null!==(t=this.otherDecoratorStates.checkTapPermission)&&void 0!==t&&t.refuseExec)return rR;if(null!==(r=this.otherDecoratorStates.apiCache)&&void 0!==r&&r.cacheInfo.cache){if(this.promise)return kt(this.otherDecoratorStates.apiCache.cacheInfo.ret)?this.otherDecoratorStates.apiCache.cacheInfo.ret:(this.resolve(this.otherDecoratorStates.apiCache.cacheInfo.ret),this.promise)}else if(this.promise){var n;return null!==(n=this.otherDecoratorStates)&&void 0!==n&&n.apiCache&&(this.otherDecoratorStates.apiCache.cacheInfo.rawResult=e),this.promise}return rR},success(e){var t,r,n=null===(t=this.otherDecoratorStates)||void 0===t||null===(r=t.apiCache)||void 0===r?void 0:r.cacheInfo.ret;this.resolve&&this.resolve(n||e)},fail(e){this.reject&&this.reject(e)}},getState:()=>({promise:void 0,resolve:void 0,reject:void 0}),otherDecoratorStates:["checkTapPermission","apiCache"]})}function y0e(e){return defineAll("catchErr",{hookHandlers:{afterCallback(t,r,n){var{syncError:i}=n;if(void 0!==i){var a=`wx.${this.api}`;if("[object Error]"===Object.prototype.toString.apply(i)&&"AppServiceSdkKnownError"!==i.type)return"ThirdScriptError"===i.type?(M.thirdErrorReport({error:i,extend:a}),CatchErrorNumber):(M.errorReport({key:e,error:i,extend:a}),CatchErrorNumber)}}},getState:()=>({api:void 0})})}var b0e=[10,30,40,50];function _0e(e,t,r,n){if(We())return Mx("tap",n),r.apply(e,t),void Rx();gr.wrapTapMark((()=>{r.apply(e,t)}),n)}var w0e=(e,t,r)=>(...n)=>_0e(e,n,t,r);function S0e(){return mR("checkTapPermission",{hookHandlers:{syncPrepositive(e){var t=this.api,r=Tx(t,"tap"),n=Dx();return(10!==r||n||(P8({name:t,scene:0,strategy:1}),!Ce&&wf(t)))&&(40!==r||4===re.appType||n)?50!==r||n?[!1]:e&&(e.fail||e.complete)?(setTimeout((()=>{Vc(t,e,"can only be invoked by user TAP gesture.")}),0),[!0,!1,!1,!0]):[!0,"can only be invoked by user TAP gesture."]:e&&(e.fail||e.complete)?(setTimeout((()=>{Vc(t,e,"can only be invoked by user TAP gesture.")}),0),[!0,null,null,!0]):[!0,"can only be invoked by user TAP gesture."]},paramHandler(...e){var t=this.api,r=Tx(t,"tap"),n=Dx(),i=Ox();this.status=r;var a=e[0];if(20===r&&n)"function"==typeof a?a=w0e(this,a,i):"object"==typeof a&&null!==a&&["success","fail","complete"].forEach((e=>{"function"==typeof a[e]&&(a[e]=w0e(this,a[e],i))}));else if(30===r)if("function"==typeof a)a=w0e(this,a,t);else if("object"==typeof a&&null!==a&&("function"==typeof a.success&&(a.success=w0e(this,a.success,t)),"function"==typeof a.complete)){var o=a.complete;a.complete=(...e)=>{"object"==typeof e[0]&&"string"==typeof e[0].errMsg&&/^\w+:fail/.test(e[0].errMsg)?o.apply(this,e):_0e(this,e,o,t)}}},afterCallback(){We()&&b0e.includes(this.status)&&Rx()}},getState:()=>({api:void 0,status:void 0,refuseExec:void 0,refuseExecReason:void 0})})}function C0e(){return defineAll("protect",{hookHandlers:{beforeExecute(){checkWxInterfaceSupported(this.api)}},getState:()=>({api:void 0})})}var k0e=function(){if(!this.emitFail){if(this.isTimeout)throw pR;clearTimeout(this.timer)}};function I0e(){return gR("timeout",{hookHandlers:{paramHandler(...e){var t=e[0],r=null==t?void 0:t.timeout;"number"==typeof r&&(this.isTimeout=!1,this.timer=setTimeout((()=>{var e={errMsg:"request timeout"};this.isTimeout=!0,this.emitFail=!0,eR(this.afterCopyArgs?this.afterCopyArgs.fail:t.fail,e),eR(this.afterCopyArgs?this.afterCopyArgs.complete:t.complete,e),this.emitFail=!1}),r))},success(){k0e.call(this)},fail(){k0e.call(this)},complete(){k0e.call(this)}},getState:()=>({isTimeout:void 0,timer:void 0,afterCopyArgs:void 0,emitFail:!1})})}function P0e(){return define("noCondom",{})}function T0e(e){return mR("intercepted",{hookHandlers:{beforeExecute(){var t=this.api,r=this.originArgs,[n,i]=e({api:t,args:r});if(n)return[ZM,i]}},getState:()=>({})})}function A0e(){return gR("privacy",{hookHandlers:{paramHandler(...e){this.params=e},asyncPrepositive(){return VQ([this.api],!0)?Promise.resolve([!1]):bQ(this.api).then((({success:e,errMsg:t,errno:r})=>e?[!1]:[!0,t,r])).catch((e=>[!1]))}},getState:()=>({modifyArgs:!0})})}var x0e=e=>{mY(e)},E0e;re.onReady((()=>{E0e=ez()}));var M0e=new WeakMap,R0e=0;function D0e(){return mR("callbackLogReport",{hookHandlers:{beforeExecute(){this.key=this.api,E0e&&E0e.log(`wx.${this.key} api invoke${this.seqMsg}`),this.categoryValue=Tx(this.key,"log"),this.categoryValue&&!this.otherDecoratorStates.checkWxInterfaceSupportAndPermission.shouldNotTraceAPI&&(Yj.traceBeginAPI(`wx.${this.key}`),this.hasTraceAPI=!0)},paramHandler(e){this.seqMsg="request"===this.key?` with seq ${R0e}`:"";var t=e[0];if(3===this.categoryValue&&"function"==typeof t){var r=e[0];3===this.categoryValue&&"function"==typeof r&&(0===this.key.indexOf("off")&&M0e.has(r)?e[0]=M0e.get(r):e[0]=(...e)=>{Yj.traceBeginAPI(`wx.${this.key} callback`);var t=r.apply(null,e);return Yj.traceEndAPI(),t},0===this.key.indexOf("on")&&(M0e.has(r)?e[0]=M0e.get(r):M0e.set(r,e[0])))}},success(){1===this.categoryValue&&Yj.traceBeginAPI(`wx.${this.key} success callback`)},fail(){1===this.categoryValue&&Yj.traceBeginAPI(`wx.${this.key} fail callback`)},complete(){1===this.categoryValue&&Yj.traceBeginAPI(`wx.${this.key} complete callback`)},afterSuccess(e){1===this.categoryValue&&(E0e&&E0e.logApiInvoke&&E0e.log(`wx.${this.key} success callback`+(e&&e.errMsg?" with msg "+e.errMsg:" ")+this.seqMsg),Yj.traceEndAPI())},afterFail(e){1===this.categoryValue&&(E0e&&E0e.logApiInvoke&&E0e.log(`wx.${this.key} fail callback`+(e&&e.errMsg?" with msg "+e.errMsg:" ")+this.seqMsg),Yj.traceEndAPI())},afterComplete(){1===this.categoryValue&&Yj.traceEndAPI()},afterCallback(){2===this.categoryValue&&E0e&&E0e.logApiInvoke&&E0e.log(`wx.${this.key} return`),this.hasTraceAPI&&(Yj.traceEndAPI(),this.hasTraceAPI=!1)}},getState:()=>({api:void 0,categoryValue:void 0,seqMsg:"",key:void 0,modifyArgs:!0}),otherDecoratorStates:["checkWxInterfaceSupportAndPermission"]})}function O0e(e){if(gt(e))return gR("lazy",{hookHandlers:{getter:e}})}var L0e={quicklyAddBrandContact:"quicklyAddBrandContact",privateScanItem:"privateScanItem",privateSearchContacts:"privateSearchContacts",setNavigateBackInterception:"private_setNavigateBackInterception",stopNavigateBackInterception:"private_stopNavigateBackInterception",getWebviewDebugInfo:"private_getWebviewDebugInfo"};function N0e(e){return gR("privateApi",{hookHandlers:{beforeExecute(){if("declare"===e){var t,r,n,i,a=+(null===(t=re.appContactInfo)||void 0===t||null===(r=t.operationInfo)||void 0===r||null===(n=r.jsonInfo)||void 0===n||null===(i=n.privacy)||void 0===i?void 0:i.locationPrivateInfosCheckStatus),o=re.requiredPrivateInfos,s=o&&o.indexOf(this.api)>=0,l=!("release"!==re.envVersion||1!==a||o&&s),c="release"!==re.envVersion&&o&&!s;return!l&&!c||[ZM,"the api need to be declared in the requiredPrivateInfos field in app.json/ext.json",()=>console.error(`wx.${this.api} need to be declared in the requiredPrivateInfos field in app.json/ext.json`)]}if("permission"===e){var u=this.api,d=L0e[u].permissionByte;if(Vh(d))return[ZM,"no permission"]}}},getState:()=>({api:void 0})})}function B0e(){return gR("weakNetworkOptimize",{hookHandlers:{beforeExecute(...e){var t=e[0]||{},{success:r,fail:n,complete:i}=t;this.usedPromise=!r&&!n&&!i,this.args={},Object.keys(t).forEach((e=>{"function"!=typeof t[e]&&(this.args[e]=t[e])}))},breakDirectly(){if(!zqe()||!Hqe()[this.api])return nR;if(pQ()){var e=vqe(this.api,this.args);if(!e)return nR;if("object"==typeof e&&(e.fromCache=!0),this.usedPromise)return this.otherDecoratorStates.apiCache||(this.otherDecoratorStates.apiCache={cacheInfo:{}}),void(this.otherDecoratorStates.apiCache.cacheInfo.ret=e);if(!this.usedPromise)return e}return nR},success(e){if(!pQ()){var t=Date.now()+_qe.maxAge;gqe(this.api,this.args,e,t)}}},getState:()=>({usedPromise:void 0,args:void 0,api:void 0}),otherDecoratorStates:["apiCache"]})}var $0e=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,F0e=[];function j0e(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var r=t,n=F0e.length-1,i=0;i>=0&&n>=0;){var a=r.length,o=0;for(var s in W0e)if(W0e[s]){var l=r.indexOf(W0e[s],i);l<0||a<=l||(a=l,o=W0e[s].length)}if(a>=r.length)break;var c=`at <${F0e[n--].description}>`;r=r.slice(0,a)+c+r.slice(a+o),i=a+c.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:r,writable:!0,enumerable:!0,configurable:!0}}),!0}var W0e={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function V0e(e){var t=((new Error).stack||"").match(/.+/gm),r="",n=0;t&&t.forEach((e=>{if($0e.test(e)&&2===(n+=1)){var t=e.match(/^(\s*)at /),i=t?t[1].length:0;return r=e.slice(i),!1}return!0})),W0e[e]=r}function U0e(){for(var e="",t=F0e.length-1;t>=0;t--)F0e[t].pluginAppId&&(e=F0e[t].pluginAppId);return e}var z0e=e=>{null===W0e.wrapSystemFunction&&(W0e.wrapSystemFunction="",G0e("","",V0e)("wrapSystemFunction")),F0e.push({description:e})},q0e=()=>{F0e.pop()};function H0e(e,t,r,n,i,a=!1){var o;null===W0e.wrapSystemFunction&&(W0e.wrapSystemFunction="",G0e("","",V0e)("wrapSystemFunction")),F0e.push({description:t});try{o=r.apply(n,i)}catch(t){if(j0e(t)){if("AppServiceSdkKnownError"===t.type)throw F0e.pop(),t;if("ThirdScriptError"===t.type){var s=U0e();M.thirdErrorReport({error:t,source:s,triggerErrorCallback:!a})}else M.errorReport({key:e,error:t,triggerErrorCallback:!a})}if(a)throw F0e.pop(),t}return F0e.pop(),o}function G0e(e,t,r,n=!1){return function(...i){return H0e(e,t,r,this,i,n)}}function K0e(e,t,r,n,i,a=!1){var o;null===W0e.wrapMiniProgramOrPluginFunction&&(W0e.wrapMiniProgramOrPluginFunction="",X0e("","",V0e)("wrapMiniProgramOrPluginFunction")),F0e.push({description:t,pluginAppId:e});try{o=r.apply(n,i)}catch(t){if(j0e(t)&&M.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!a}),a)throw F0e.pop(),t}return F0e.pop(),o}function J0e(e,t,r,n,i=!1){return K0e(U0e(),e,t,r,n,i)}function X0e(e,t,r,n=!1){return function(...i){return K0e(e,t,r,this,i,n)}}function Y0e(e,t,r=!1){return function(...n){return K0e(U0e(),e,t,this,n,r)}}function Q0e(e,t){var r=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),n=r?r[1]:"",i=e||function(){};return function(...e){return K0e(U0e(),n,i,i,e,!1)}}var Z0e=e=>{if(j0e(e)){if("AppServiceSdkKnownError"!==e.type){if("ThirdScriptError"===e.type){var t=U0e();return M.thirdErrorReport({error:e,source:t,triggerErrorCallback:!1}),iR}return M.errorReport({key:"appServiceSDKScriptError",error:e,triggerErrorCallback:!1}),iR}F0e.pop()}};function e1e(){return mR("apiCatchError",{hookHandlers:{beforeExecute(){var e=` at wx.${this.api}`;z0e(e)},errorHandler:e=>Z0e(e),uncaughtErrorHandler:e=>Z0e(e),afterCallback(){q0e()}},getState:()=>({api:void 0})})}function t1e(){return mR("checkWxInterfaceSupportAndPermission",{hookHandlers:{beforeExecute(){var e=this.api,t=this.originArgs;if(!jE(e,"",t)){if("Sync"===e.slice(-4))throw new Td(e+":fail rejected due to no permission currently");return t&&(t.fail||t.complete)&&setTimeout((()=>{Vc(e,t,"rejected due to no permission currently")}),0),this.shouldNotTraceAPI=!0,this.refuseExecReason="rejected due to no permission currently",void(this.refuseExec=!0)}},breakDirectly(){if(!this.refuseExec)return nR}},getState:()=>({refuseExecReason:void 0,refuseExec:void 0,shouldNotTraceAPI:void 0})})}function r1e(){return gR("routeRequest",{hookHandlers:{paramHandler(...e){this.params=e},asyncPrepositive(){if(Hx.isBlocking()){var e=this.api,t=this.originArgs;return new Promise((r=>{Hx.routeRequest({blockUntilFinished:!!t.blockUntilFinished,name:e,args:t,requestFunc:()=>{r([!1])}})}))}return[!1]}},getState:()=>({modifyArgs:!0})})}var n1e=VA,i1e=(e={})=>{if(sQ(e),!zqe())return n1e(e);var{url:t,data:r,method:n,success:i,fail:a,complete:o}=e,s=e=>{wqe.checkNeedStore(t,r,n,e),i&&"function"==typeof i&&i(e)};if(_qe.state===LY.UNKNOWN)e.success=e=>{i&&"function"==typeof i&&s(e),o&&"function"==typeof o&&o(e)},e.fail=s=>Kqe(n1e,t,r,n,e,i,a,o,s),e.complete=null;else if(_qe.state===LY.ON){var l=Kqe(n1e,t,r,n,e,i,a,o);if(l)return l}else _qe.state===LY.OFF&&(e.success=s);return n1e(e)},a1e,o1e={},s1e=!1,l1e=e=>{o1e=e;try{o1e="string"==typeof e?JSON.parse(e).jsapi_list:e.jsapi_list,s1e=!0}catch(e){o1e={}}},c1e=null===(a1e=re.host)||void 0===a1e?void 0:a1e.env;s1e||(s1e="SDK"===c1e||"WMPF"===c1e);var u1e=e=>o1e&&o1e[e],d1e;cr("onThirdPlatformApiPermissionBytesUpdate",(e=>{l1e(ke?e:null==e?void 0:e.thirdPlatformApiPermissionBytes),void 0!==d1e&&d1e()}));var p1e=e=>{d1e=e},h1e=()=>s1e;re.onReady((()=>{l1e(re.thirdPlatformApiPermissionBytes)}));var f1e=(e,t={},r={},n={})=>{var i,a=r.fail;"function"==typeof a&&(a=a.bind(r));var o={...r};o.isThird=!0;try{i=ad(t,e,o,n)}catch(e){return void("function"==typeof a&&a(`SDK error: ${e}`))}u1e(e)?pn(e,t,(e=>{try{i(e)}catch(e){console.error("invokeThird callback error:",e)}})):(console.warn(`没有权限调用JSAPI: ${e}`),"function"==typeof a&&a(`没有权限调用JSAPI: ${e}`))},g1e=(e,t)=>{u1e(e)?ur(e,t):console.warn(`没有权限监听Event: ${e}`)},v1e=()=>({showTabBar(e){var t=e.renderer;if(t)return gr.showTabBarByRenderer(t);var r=e.pageId;return r?gr.showTabBar(r):void 0}}),m1e;!function(e){e[e.Inspector=0]="Inspector",e[e.RendererInspectee=1]="RendererInspectee",e[e.ServiceInspectee=2]="ServiceInspectee",e[e.AllInspectee=3]="AllInspectee"}(m1e||(m1e={}));var y1e=(e,t)=>e===t||e&t;class b1e{constructor(e=m1e.AllInspectee){this.callbacks=new Map,this.type=e}get inited(){return this._inited}init(){this.initSubscription(this.handleCDPMessage.bind(this)),this._inited=!0}emit(e){this.send(e),e.method}reply(e,t){this.send({id:e,result:t})}on(e,t){this.callbacks.has(e)||this.callbacks.set(e,[]),this.callbacks.get(e).push(t)}off(e,t){if(this.callbacks.has(e)){var r=this.callbacks.get(e);r=[...r.filter((e=>e!==t))]}}handleCDPMessage(e,t,r){var n,i,a;this.type,y1e(this.type,t)&&("id"in e?null===(n=this.callbacks.get("command"))||void 0===n||n.forEach((t=>t(e,r))):null===(i=this.callbacks.get("event"))||void 0===i||i.forEach((t=>t(e,r))),null===(a=this.callbacks.get("all"))||void 0===a||a.forEach((t=>t(e,r))))}}function _1e(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))}class w1e{constructor(e){this._enabled=!1,this.bridge=e}get enabled(){return this._enabled}disable(){return _1e(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return _1e(this,void 0,void 0,(function*(){this._enabled=!0}))}}class S1e extends w1e{constructor(){super(...arguments),this._enabled=!0}}function C1e(e,t=1e3,r){var n;return function(...i){if(n&&clearTimeout(n),r){if(!n)return e.apply(this,i);n=setTimeout((()=>n=null),t)}else n=setTimeout((()=>e.apply(this,i)),t)}}function k1e(e){return function(...t){return new Promise((function(r,n){t.push((e=>{r(e)})),e.apply(null,t)}))}}var I1e=(e,t,...r)=>_1e(void 0,void 0,void 0,(function*(){return new Promise(((n,i)=>{var a=e[t];"function"==typeof a?a.call(e,...r,((...e)=>n(e))):i(`${t.toString()} is not a function`)}))})),P1e=new Error("Method not implemented."),T1e=(...e)=>{var t=e.join("\n"),r=document.createElement("style");return r.textContent=t,document.body.append(r),r},A1e=e=>{if(!e.classList)return null;var t=e.classList.getClassNames().split(" ").filter((e=>e.length&&!e.startsWith("__wx")));return t.length?t:null},x1e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==f.g?f.g:"undefined"!=typeof self?self:{};function E1e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function M1e(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var R1e={},D1e=M1e(V),O1e=D1e;class L1e extends Error{constructor(e,t,r,n,i,a){super(e),this.name="CssSyntaxError",this.reason=e,i&&(this.file=i),n&&(this.source=n),a&&(this.plugin=a),void 0!==t&&void 0!==r&&("number"==typeof t?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,L1e)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";var t=this.source;O1e&&e&&(t=O1e(t));var r,n=t.split(/\r?\n/),i=Math.max(this.line-3,0),a=Math.min(this.line+2,n.length),o=String(a).length;return r=e=>e,n.slice(i,a).map(((e,t)=>{var n=i+1+t,a=" "+(" "+n).slice(-o)+" | ";if(n===this.line){var s=a.replace(/\d/g," ")+e.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+a+e+"\n "+s+r("^")}return" "+a+e})).join("\n")}toString(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}var N1e=L1e;L1e.default=L1e;var B1e={};B1e.isClean=Symbol("isClean"),B1e.my=Symbol("my");var $1e={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};class F1e{constructor(e){this.builder=e}atrule(e,t){var r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{var i=(e.raws.between||"")+(t?";":"");this.builder(r+n+i,e)}}beforeAfter(e,t){var r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var n=e.parent,i=0;n&&"root"!==n.type;)i+=1,n=n.parent;if(r.includes("\n")){var a=this.raw(e,null,"indent");if(a.length)for(var o=0;o<i;o++)r+=a}return r}block(e,t){var r,n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var r=this.raw(e,"semicolon"),n=0;n<e.nodes.length;n++){var i=e.nodes[n],a=this.raw(i,"before");a&&this.builder(a),this.stringify(i,t!==n||r)}}comment(e){var t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){var r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}document(e){this.body(e)}raw(e,t,r){var n;if(r||(r=t),t&&void 0!==(n=e.raws[t]))return n;var i=e.parent;if("before"===r){if(!i||"root"===i.type&&i.first===e)return"";if(i&&"document"===i.type)return""}if(!i)return $1e[r];var a=e.root();if(a.rawCache||(a.rawCache={}),void 0!==a.rawCache[r])return a.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);var o,s="raw"+((o=r)[0].toUpperCase()+o.slice(1));return this[s]?n=this[s](a,e):a.walk((e=>{if(void 0!==(n=e.raws[t]))return!1})),void 0===n&&(n=$1e[r]),a.rawCache[r]=n,n}rawBeforeClose(e){var t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){var r;return e.walkComments((e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){var r;return e.walkDecls((e=>{if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){var t;return e.walk((e=>{if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1})),t}rawBeforeRule(e){var t;return e.walk((r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return(t=r.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){var t;return e.walkDecls((e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}rawEmptyBody(e){var t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1})),t}rawIndent(e){return e.raws.indent?e.raws.indent:(e.walk((r=>{var n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){var i=r.raws.before.split("\n");return t=(t=i[i.length-1]).replace(/\S/g,""),!1}})),t);var t}rawSemicolon(e){var t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1})),t}rawValue(e,t){var r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}var j1e=F1e;F1e.default=F1e;var W1e=j1e;function V1e(e,t){new W1e(t).stringify(e)}var U1e=V1e;V1e.default=V1e;var{isClean:z1e,my:q1e}=B1e,H1e=N1e,G1e=j1e,K1e=U1e;function J1e(e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"proxyCache"!==n){var i=e[n],a=typeof i;"parent"===n&&"object"===a?t&&(r[n]=t):"source"===n?r[n]=i:Array.isArray(i)?r[n]=i.map((e=>J1e(e,r))):("object"===a&&null!==i&&(i=J1e(i)),r[n]=i)}return r}class X1e{constructor(e={}){for(var t in this.raws={},this[z1e]=!1,this[q1e]=!0,e)if("nodes"===t)for(var r of(this.nodes=[],e[t]))"function"==typeof r.clone?this.append(r.clone()):this.append(r);else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){var t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(var t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){var t=J1e(this);for(var r in e)t[r]=e[r];return t}cloneAfter(e={}){var t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){var t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){var{end:r,start:n}=this.rangeBy(t);return this.source.input.error(e,{column:n.column,line:n.line},{column:r.column,line:r.line},t)}return new H1e(e)}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0)}}markDirty(){if(this[z1e]){this[z1e]=!1;for(var e=this;e=e.parent;)e[z1e]=!1}}next(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}}positionBy(e,t){var r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){var n=(t=this.toString()).indexOf(e.word);-1!==n&&(r=this.positionInside(n,t))}return r}positionInside(e,t){for(var r=t||this.toString(),n=this.source.start.column,i=this.source.start.line,a=0;a<e;a++)"\n"===r[a]?(n=1,i+=1):n+=1;return{column:n,line:i}}prev(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}}get proxyOf(){return this}rangeBy(e){var t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){var n=this.toString(),i=n.indexOf(e.word);-1!==i&&(t=this.positionInside(i,n),r=this.positionInside(i+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return(new G1e).raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){var t=this,r=!1;for(var n of e)n===this?r=!0:r?(this.parent.insertAfter(t,n),t=n):this.parent.insertBefore(t,n);r||this.remove()}return this}root(){for(var e=this;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}toJSON(e,t){var r={},n=null==t;t=t||new Map;var i=0;for(var a in this)if(Object.prototype.hasOwnProperty.call(this,a)&&"parent"!==a&&"proxyCache"!==a){var o=this[a];if(Array.isArray(o))r[a]=o.map((e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"==typeof o&&o.toJSON)r[a]=o.toJSON(null,t);else if("source"===a){var s=t.get(o.input);null==s&&(s=i,t.set(o.input,i),i++),r[a]={end:o.end,inputId:s,start:o.start}}else r[a]=o}return n&&(r.inputs=[...t.keys()].map((e=>e.toJSON()))),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=K1e){e.stringify&&(e=e.stringify);var t="";return e(this,(e=>{t+=e})),t}warn(e,t,r){var n={node:this};for(var i in r)n[i]=r[i];return e.warn(t,n)}}var Y1e=X1e;X1e.default=X1e;var Q1e=Y1e;class Z1e extends Q1e{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}}var e3e=Z1e;Z1e.default=Z1e;var t3e={nanoid:(e=21)=>{for(var t="",r=e;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(r=t)=>{for(var n="",i=r;i--;)n+=e[Math.random()*e.length|0];return n}},{SourceMapConsumer:r3e,SourceMapGenerator:n3e}=D1e;class i3e{constructor(e,t){if(!1!==t.map){this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");var r=t.map?t.map.prev:void 0,n=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),n&&(this.text=n)}}consumer(){return this.consumerCache||(this.consumerCache=new r3e(this.text)),this.consumerCache}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(t,"base64").toString():window.atob(t);var t,r=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+r)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}loadAnnotation(e){var t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(t){var r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}}loadFile(e){}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof r3e)return n3e.fromSourceMap(t).toString();if(t instanceof n3e)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}var r=t(e);if(r){var n=this.loadFile(r);if(!n)throw new Error("Unable to load previous source map: "+r.toString());return n}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var i=this.annotation;return this.loadFile(i)}}}startWith(e,t){return!!e&&e.substr(0,t.length)===t}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}var a3e=i3e;i3e.default=i3e;var{nanoid:o3e}=t3e,s3e=D1e,l3e=N1e,c3e=Symbol("fromOffsetCache");class u3e{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);this.css=e.toString(),"\ufeff"===this.css[0]||"￾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(this.file=t.from),this.file||(this.id="<input css "+o3e(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,n={}){var i,a,o;if(t&&"object"==typeof t){var s=t,l=r;if("number"==typeof s.offset){var c=this.fromOffset(s.offset);t=c.line,r=c.col}else t=s.line,r=s.column;if("number"==typeof l.offset){var u=this.fromOffset(l.offset);a=u.line,o=u.col}else a=l.line,o=l.column}else if(!r){var d=this.fromOffset(t);t=d.line,r=d.col}var p=this.origin(t,r,a,o);return(i=p?new l3e(e,void 0===p.endLine?p.line:{column:p.column,line:p.line},void 0===p.endLine?p.column:{column:p.endColumn,line:p.endLine},p.source,p.file,n.plugin):new l3e(e,void 0===a?t:{column:r,line:t},void 0===a?r:{column:o,line:a},this.css,this.file,n.plugin)).input={column:r,endColumn:o,endLine:a,line:t,source:this.css},this.file&&(i.input.file=this.file),i}get from(){return this.file||this.id}fromOffset(e){var t;if(this[c3e])t=this[c3e];else{var r=this.css.split("\n");t=new Array(r.length);for(var n=0,i=0,a=r.length;i<a;i++)t[i]=n,n+=r[i].length+1;this[c3e]=t}var o=0;if(e>=t[t.length-1])o=t.length-1;else for(var s,l=t.length-2;o<l;)if(e<t[s=o+(l-o>>1)])l=s-1;else{if(!(e>=t[s+1])){o=s;break}o=s+1}return{col:e-t[o]+1,line:o+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:this.map.consumer().sourceRoot||this.map.root||"."}origin(e,t,r,n){if(!this.map)return!1;var i,a,o=this.map.consumer(),s=o.originalPositionFor({column:t,line:e});if(!s.source)return!1;"number"==typeof r&&(i=o.originalPositionFor({column:n,line:r})),a=new URL(s.source,this.map.consumer().sourceRoot);var l={column:s.column,endColumn:i&&i.column,endLine:i&&i.line,line:s.line,url:a.toString()};a.protocol;var c=o.sourceContentFor(s.source);return c&&(l.source=c),l}toJSON(){var e={};for(var t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}}var d3e=u3e;u3e.default=u3e,s3e&&s3e.registerInput&&s3e.registerInput(u3e);var{SourceMapConsumer:p3e,SourceMapGenerator:h3e}=D1e,f3e=d3e,g3e=class{constructor(e,t,r,n){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=n,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}addAnnotation(){var e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(var e of this.previous()){var t=void 0,r=this.toUrl(this.path(e.file)),n=e.root;!1===this.mapOpts.sourcesContent?(t=new p3e(e.text)).sourcesContent&&(t.sourcesContent=t.sourcesContent.map((()=>null))):t=e.consumer(),this.map.applySourceMap(t,r,this.toUrl(this.path(n)))}}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root)for(var e,t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t);else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){this.clearAnnotation();var e="";return this.stringify(this.root,(t=>{e+=t})),[e]}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){var e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=h3e.fromSourceMap(e)}else this.map=new h3e({file:this.outputFile()}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new h3e({file:this.outputFile()});var e,t,r=1,n=1,i="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,((o,s,l)=>{if(this.css+=o,s&&"end"!==l&&(a.generated.line=r,a.generated.column=n-1,s.source&&s.source.start?(a.source=this.sourcePath(s),a.original.line=s.source.start.line,a.original.column=s.source.start.column-1,this.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,this.map.addMapping(a))),(e=o.match(/\n/g))?(r+=e.length,t=o.lastIndexOf("\n"),n=o.length-t):n+=o.length,s&&"start"!==l){var c=s.parent||{raws:{}};("decl"===s.type||"atrule"===s.type&&!s.nodes)&&s===c.last&&!c.raws.semicolon||(s.source&&s.source.end?(a.source=this.sourcePath(s),a.original.line=s.source.end.line,a.original.column=s.source.end.column-1,a.generated.line=r,a.generated.column=n-2,this.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,a.generated.line=r,a.generated.column=n-1,this.map.addMapping(a)))}}))}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){return 0===e.indexOf("<")||/^\w+:\/\//.test(e)||this.mapOpts.absolute,e}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){var t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{var e=new f3e(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){var e={};if(this.root)this.root.walk((t=>{if(t.source){var r=t.source.input.from;if(r&&!e[r]){e[r]=!0;var n=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(n,t.source.input.css)}}}));else if(this.css){var t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){return e}toUrl(e){return encodeURI(e).replace(/[#?]/g,encodeURIComponent)}},v3e=Y1e;class m3e extends v3e{constructor(e){super(e),this.type="comment"}}var y3e=m3e;m3e.default=m3e;var b3e,_3e,w3e,S3e,{isClean:C3e,my:k3e}=B1e,I3e=e3e,P3e=y3e,T3e=Y1e;function A3e(e){return e.map((e=>(e.nodes&&(e.nodes=A3e(e.nodes)),delete e.source,e)))}function x3e(e){if(e[C3e]=!1,e.proxyOf.nodes)for(var t of e.proxyOf.nodes)x3e(t)}class E3e extends T3e{append(...e){for(var t of e){var r=this.normalize(t,this.last);for(var n of r)this.proxyOf.nodes.push(n)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(var t of this.nodes)t.cleanRaws(e)}each(e){if(this.proxyOf.nodes){for(var t,r,n=this.getIterator();this.indexes[n]<this.proxyOf.nodes.length&&(t=this.indexes[n],!1!==(r=e(this.proxyOf.nodes[t],t)));)this.indexes[n]+=1;return delete this.indexes[n],r}}every(e){return this.nodes.every(e)}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...r)=>e[t](...r.map((e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e))):"every"===t||"some"===t?r=>e[t](((e,...t)=>r(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t],set:(e,t,r)=>(e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0)}}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){var r,n=this.index(e),i=this.normalize(t,this.proxyOf.nodes[n]).reverse();for(var a of(n=this.index(e),i))this.proxyOf.nodes.splice(n+1,0,a);for(var o in this.indexes)n<(r=this.indexes[o])&&(this.indexes[o]=r+i.length);return this.markDirty(),this}insertBefore(e,t){var r,n=this.index(e),i=0===n&&"prepend",a=this.normalize(t,this.proxyOf.nodes[n],i).reverse();for(var o of(n=this.index(e),a))this.proxyOf.nodes.splice(n,0,o);for(var s in this.indexes)n<=(r=this.indexes[s])&&(this.indexes[s]=r+a.length);return this.markDirty(),this}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(e,t){if("string"==typeof e)e=A3e(b3e(e).nodes);else if(Array.isArray(e))for(var r of e=e.slice(0))r.parent&&r.parent.removeChild(r,"ignore");else if("root"===e.type&&"document"!==this.type)for(var n of e=e.nodes.slice(0))n.parent&&n.parent.removeChild(n,"ignore");else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new I3e(e)]}else if(e.selector)e=[new _3e(e)];else if(e.name)e=[new w3e(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new P3e(e)]}return e.map((e=>(e[k3e]||E3e.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[C3e]&&x3e(e),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/\S/g,"")),e.parent=this.proxyOf,e)))}prepend(...e){for(var t of e=e.reverse()){var r=this.normalize(t,this.first,"prepend").reverse();for(var n of r)this.proxyOf.nodes.unshift(n);for(var i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(var e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){var t;for(var r in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls((n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))})),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each(((t,r)=>{var n;try{n=e(t,r)}catch(e){throw t.addToError(e)}return!1!==n&&t.walk&&(n=t.walk(e)),n}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("atrule"===r.type&&e.test(r.name))return t(r,n)})):this.walk(((r,n)=>{if("atrule"===r.type&&r.name===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("atrule"===e.type)return t(e,r)})))}walkComments(e){return this.walk(((t,r)=>{if("comment"===t.type)return e(t,r)}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("decl"===r.type&&e.test(r.prop))return t(r,n)})):this.walk(((r,n)=>{if("decl"===r.type&&r.prop===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("decl"===e.type)return t(e,r)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((r,n)=>{if("rule"===r.type&&e.test(r.selector))return t(r,n)})):this.walk(((r,n)=>{if("rule"===r.type&&r.selector===e)return t(r,n)})):(t=e,this.walk(((e,r)=>{if("rule"===e.type)return t(e,r)})))}}E3e.registerParse=e=>{b3e=e},E3e.registerRule=e=>{_3e=e},E3e.registerAtRule=e=>{w3e=e},E3e.registerRoot=e=>{S3e=e};var M3e=E3e;E3e.default=E3e,E3e.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,w3e.prototype):"rule"===e.type?Object.setPrototypeOf(e,_3e.prototype):"decl"===e.type?Object.setPrototypeOf(e,I3e.prototype):"comment"===e.type?Object.setPrototypeOf(e,P3e.prototype):"root"===e.type&&Object.setPrototypeOf(e,S3e.prototype),e[k3e]=!0,e.nodes&&e.nodes.forEach((e=>{E3e.rebuild(e)}))};var R3e,D3e,O3e=M3e;class L3e extends O3e{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new R3e(new D3e,this,e).stringify()}}L3e.registerLazyResult=e=>{R3e=e},L3e.registerProcessor=e=>{D3e=e};var N3e=L3e;L3e.default=L3e;class B3e{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){var r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(var n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}var $3e=B3e;B3e.default=B3e;var F3e=$3e;class j3e{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}get content(){return this.css}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var r=new F3e(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter((e=>"warning"===e.type))}}var W3e=j3e;j3e.default=j3e;var V3e="'".charCodeAt(0),U3e='"'.charCodeAt(0),z3e="\\".charCodeAt(0),q3e="/".charCodeAt(0),H3e="\n".charCodeAt(0),G3e=" ".charCodeAt(0),K3e="\f".charCodeAt(0),J3e="\t".charCodeAt(0),X3e="\r".charCodeAt(0),Y3e="[".charCodeAt(0),Q3e="]".charCodeAt(0),Z3e="(".charCodeAt(0),e2e=")".charCodeAt(0),t2e="{".charCodeAt(0),r2e="}".charCodeAt(0),n2e=";".charCodeAt(0),i2e="*".charCodeAt(0),a2e=":".charCodeAt(0),o2e="@".charCodeAt(0),s2e=/[\t\n\f\r "#'()/;[\\\]{}]/g,l2e=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,c2e=/.[\n"'(/\\]/,u2e=/[\da-f]/i,d2e=function(e,t={}){var r,n,i,a,o,s,l,c,u,d,p=e.css.valueOf(),h=t.ignoreErrors,f=p.length,g=0,v=[],m=[];function y(t){throw e.error("Unclosed "+t,g)}return{back:function(e){m.push(e)},endOfFile:function(){return 0===m.length&&g>=f},nextToken:function(e){if(m.length)return m.pop();if(!(g>=f)){var t=!!e&&e.ignoreUnclosed;switch(r=p.charCodeAt(g)){case H3e:case G3e:case J3e:case X3e:case K3e:n=g;do{n+=1,r=p.charCodeAt(n)}while(r===G3e||r===H3e||r===J3e||r===X3e||r===K3e);d=["space",p.slice(g,n)],g=n-1;break;case Y3e:case Q3e:case t2e:case r2e:case a2e:case n2e:case e2e:var b=String.fromCharCode(r);d=[b,b,g];break;case Z3e:if(c=v.length?v.pop()[1]:"",u=p.charCodeAt(g+1),"url"===c&&u!==V3e&&u!==U3e&&u!==G3e&&u!==H3e&&u!==J3e&&u!==K3e&&u!==X3e){n=g;do{if(s=!1,-1===(n=p.indexOf(")",n+1))){if(h||t){n=g;break}y("bracket")}for(l=n;p.charCodeAt(l-1)===z3e;)l-=1,s=!s}while(s);d=["brackets",p.slice(g,n+1),g,n],g=n}else n=p.indexOf(")",g+1),a=p.slice(g,n+1),-1===n||c2e.test(a)?d=["(","(",g]:(d=["brackets",a,g,n],g=n);break;case V3e:case U3e:i=r===V3e?"'":'"',n=g;do{if(s=!1,-1===(n=p.indexOf(i,n+1))){if(h||t){n=g+1;break}y("string")}for(l=n;p.charCodeAt(l-1)===z3e;)l-=1,s=!s}while(s);d=["string",p.slice(g,n+1),g,n],g=n;break;case o2e:s2e.lastIndex=g+1,s2e.test(p),n=0===s2e.lastIndex?p.length-1:s2e.lastIndex-2,d=["at-word",p.slice(g,n+1),g,n],g=n;break;case z3e:for(n=g,o=!0;p.charCodeAt(n+1)===z3e;)n+=1,o=!o;if(r=p.charCodeAt(n+1),o&&r!==q3e&&r!==G3e&&r!==H3e&&r!==J3e&&r!==X3e&&r!==K3e&&(n+=1,u2e.test(p.charAt(n)))){for(;u2e.test(p.charAt(n+1));)n+=1;p.charCodeAt(n+1)===G3e&&(n+=1)}d=["word",p.slice(g,n+1),g,n],g=n;break;default:r===q3e&&p.charCodeAt(g+1)===i2e?(0===(n=p.indexOf("*/",g+2)+1)&&(h||t?n=p.length:y("comment")),d=["comment",p.slice(g,n+1),g,n],g=n):(l2e.lastIndex=g+1,l2e.test(p),n=0===l2e.lastIndex?p.length-1:l2e.lastIndex-2,d=["word",p.slice(g,n+1),g,n],v.push(d),g=n)}return g++,d}},position:function(){return g}}},p2e=M3e;class h2e extends p2e{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}var f2e=h2e;h2e.default=h2e,p2e.registerAtRule(h2e);var g2e,v2e,m2e=M3e;class y2e extends m2e{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){var n=super.normalize(e);if(t)if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(var i of n)i.raws.before=t.raws.before;return n}removeChild(e,t){var r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new g2e(new v2e,this,e).stringify()}}y2e.registerLazyResult=e=>{g2e=e},y2e.registerProcessor=e=>{v2e=e};var b2e=y2e;y2e.default=y2e,m2e.registerRoot(y2e);var _2e={comma:e=>_2e.split(e,[","],!0),space:e=>_2e.split(e,[" ","\n","\t"]),split(e,t,r){var n=[],i="",a=!1,o=0,s=!1,l="",c=!1;for(var u of e)c?c=!1:"\\"===u?c=!0:s?u===l&&(s=!1):'"'===u||"'"===u?(s=!0,l=u):"("===u?o+=1:")"===u?o>0&&(o-=1):0===o&&t.includes(u)&&(a=!0),a?(""!==i&&n.push(i.trim()),i="",a=!1):i+=u;return(r||""!==i)&&n.push(i.trim()),n}},w2e=_2e;_2e.default=_2e;var S2e=M3e,C2e=w2e;class k2e extends S2e{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return C2e.comma(this.selector)}set selectors(e){var t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}}var I2e=k2e;k2e.default=k2e,S2e.registerRule(k2e);var P2e=e3e,T2e=d2e,A2e=y3e,x2e=f2e,E2e=b2e,M2e=I2e,R2e={empty:!0,space:!0},D2e=class{constructor(e){this.input=e,this.root=new E2e,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){var t,r,n,i=new x2e;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);for(var a=!1,o=!1,s=[],l=[];!this.tokenizer.endOfFile();){if("("===(t=(e=this.tokenizer.nextToken())[0])||"["===t?l.push("("===t?")":"]"):"{"===t&&l.length>0?l.push("}"):t===l[l.length-1]&&l.pop(),0===l.length){if(";"===t){i.source.end=this.getPosition(e[2]),this.semicolon=!0;break}if("{"===t){o=!0;break}if("}"===t){if(s.length>0){for(r=s[n=s.length-1];r&&"space"===r[0];)r=s[--n];r&&(i.source.end=this.getPosition(r[3]||r[2]))}this.end(e);break}s.push(e)}else s.push(e);if(this.tokenizer.endOfFile()){a=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(s),s.length?(i.raws.afterName=this.spacesAndCommentsFromStart(s),this.raw(i,"params",s),a&&(e=s[s.length-1],i.source.end=this.getPosition(e[3]||e[2]),this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),o&&(i.nodes=[],this.current=i)}checkMissedSemicolon(e){var t=this.colon(e);if(!1!==t){for(var r,n=0,i=t-1;i>=0&&("space"===(r=e[i])[0]||2!==(n+=1));i--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}}colon(e){var t,r,n,i=0;for(var[a,o]of e.entries()){if("("===(r=(t=o)[0])&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return a}this.doubleColon(t)}n=t}return!1}comment(e){var t=new A2e;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]);var r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{var n=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}}createTokenizer(){this.tokenizer=T2e(this.input)}decl(e,t){var r=new P2e;this.init(r,e[0][2]);var n,i=e[e.length-1];for(";"===i[0]&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||function(e){for(var t=e.length-1;t>=0;t--){var r=e[t],n=r[3]||r[2];if(n)return n}}(e));"word"!==e[0][0];)1===e.length&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){var a=e[0][0];if(":"===a||"space"===a||"comment"===a)break;r.prop+=e.shift()[1]}for(r.raws.between="";e.length;){if(":"===(n=e.shift())[0]){r.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),r.raws.between+=n[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));for(var o,s=[];e.length&&("space"===(o=e[0][0])||"comment"===o);)s.push(e.shift());this.precheckMissedSemicolon(e);for(var l=e.length-1;l>=0;l--){if("!important"===(n=e[l])[1].toLowerCase()){r.important=!0;var c=this.stringFrom(e,l);" !important"!==(c=this.spacesFromEnd(e)+c)&&(r.raws.important=c);break}if("important"===n[1].toLowerCase()){for(var u=e.slice(0),d="",p=l;p>0;p--){var h=u[p][0];if(0===d.trim().indexOf("!")&&"space"!==h)break;d=u.pop()[1]+d}0===d.trim().indexOf("!")&&(r.important=!0,r.raws.important=d,e=u)}if("space"!==n[0]&&"comment"!==n[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(r.raws.between+=s.map((e=>e[1])).join(""),s=[]),this.raw(r,"value",s.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){var t=new M2e;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){var t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}other(e){for(var t=!1,r=null,n=!1,i=null,a=[],o=e[1].startsWith("--"),s=[],l=e;l;){if(r=l[0],s.push(l),"("===r||"["===r)i||(i=l),a.push("("===r?")":"]");else if(o&&n&&"{"===r)i||(i=l),a.push("}");else if(0===a.length){if(";"===r){if(n)return void this.decl(s,o);break}if("{"===r)return void this.rule(s);if("}"===r){this.tokenizer.back(s.pop()),t=!0;break}":"===r&&(n=!0)}else r===a[a.length-1]&&(a.pop(),0===a.length&&(i=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),a.length>0&&this.unclosedBracket(i),t&&n){if(!o)for(;s.length&&("space"===(l=s[s.length-1][0])||"comment"===l);)this.tokenizer.back(s.pop());this.decl(s,o)}else this.unknownWord(s)}parse(){for(var e;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,n){for(var i,a,o,s,l=r.length,c="",u=!0,d=0;d<l;d+=1)"space"!==(a=(i=r[d])[0])||d!==l-1||n?"comment"===a?(s=r[d-1]?r[d-1][0]:"empty",o=r[d+1]?r[d+1][0]:"empty",R2e[s]||R2e[o]||","===c.slice(-1)?u=!1:c+=i[1]):c+=i[1]:u=!1;if(!u){var p=r.reduce(((e,t)=>e+t[1]),"");e.raws[t]={raw:p,value:c}}e[t]=c}rule(e){e.pop();var t=new M2e;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){for(var t,r="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){for(var t,r="";e.length&&("space"===(t=e[0][0])||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}stringFrom(e,t){for(var r="",n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}unclosedBlock(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}},O2e=M3e,L2e=D2e,N2e=d3e;function B2e(e,t){var r=new N2e(e,t),n=new L2e(r);try{n.parse()}catch(e){throw e}return n.root}var $2e=B2e;B2e.default=B2e,O2e.registerParse(B2e);var{isClean:F2e,my:j2e}=B1e,W2e=g3e,V2e=U1e,U2e=M3e,z2e=N3e,q2e=null,H2e=W3e,G2e=$2e,K2e=b2e,J2e={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},X2e={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Y2e={Once:!0,postcssPlugin:!0,prepare:!0},Q2e=0;function Z2e(e){return"object"==typeof e&&"function"==typeof e.then}function e6e(e){var t=!1,r=J2e[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,Q2e,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,Q2e,r+"Exit"]:[r,r+"Exit"]}function t6e(e){return{eventIndex:0,events:"document"===e.type?["Document",Q2e,"DocumentExit"]:"root"===e.type?["Root",Q2e,"RootExit"]:e6e(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function r6e(e){return e[F2e]=!1,e.nodes&&e.nodes.forEach((e=>r6e(e))),e}var n6e={};class i6e{constructor(e,t,r){var n;if(this.stringified=!1,this.processed=!1,"object"!=typeof t||null===t||"root"!==t.type&&"document"!==t.type)if(t instanceof i6e||t instanceof H2e)n=r6e(t.root),t.map&&(void 0===r.map&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{var i=G2e;r.syntax&&(i=r.syntax.parse),r.parser&&(i=r.parser),i.parse&&(i=i.parse);try{n=i(t,r)}catch(e){this.processed=!0,this.error=e}n&&!n[j2e]&&U2e.rebuild(n)}else n=r6e(t);this.result=new H2e(e,n,r),this.helpers={...n6e,postcss:n6e,result:this.result},this.plugins=this.processor.plugins.map((e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}get content(){return this.stringify().content}get css(){return this.stringify().css}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){var r=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin)r.postcssVersion;else e.plugin=r.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}return e}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}prepareVisitors(){this.listeners={};var e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(var t of this.plugins)if("object"==typeof t)for(var r in t){if(!X2e[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!Y2e[r])if("object"==typeof t[r])for(var n in t[r])e(t,"*"===n?r:r+"-"+n.toLowerCase(),t[r][n]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}get processor(){return this.result.processor}get root(){return this.sync().root}runAsync(){var e=this;return Vp()((function*(){e.plugin=0;for(var t=0;t<e.plugins.length;t++){var r=e.plugins[t],n=e.runOnRoot(r);if(Z2e(n))try{yield n}catch(t){throw e.handleError(t)}}if(e.prepareVisitors(),e.hasListener){for(var i=e.result.root;!i[F2e];){i[F2e]=!0;for(var a=[t6e(i)];a.length>0;){var o=e.visitTick(a);if(Z2e(o))try{yield o}catch(t){var s=a[a.length-1].node;throw e.handleError(t,s)}}}if(e.listeners.OnceExit){var l=function*(t){e.result.lastPlugin=c;try{if("document"===i.type){var r=i.nodes.map((r=>t(r,e.helpers)));yield Promise.all(r)}else yield t(i,e.helpers)}catch(t){throw e.handleError(t)}};for(var[c,u]of e.listeners.OnceExit)yield*l(u)}}return e.processed=!0,e.stringify()}))()}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){var t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return Z2e(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=V2e;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var r=new W2e(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}get[Symbol.toStringTag](){return"LazyResult"}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var e of this.plugins)if(Z2e(this.runOnRoot(e)))throw this.getAsyncError();if(this.prepareVisitors(),this.hasListener){for(var t=this.result.root;!t[F2e];)t[F2e]=!0,this.walkSync(t);if(this.listeners.OnceExit)if("document"===t.type)for(var r of t.nodes)this.visitSync(this.listeners.OnceExit,r);else this.visitSync(this.listeners.OnceExit,t)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(var[r,n]of e){var i=void 0;this.result.lastPlugin=r;try{i=n(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(Z2e(i))throw this.getAsyncError()}}visitTick(e){var t=e[e.length-1],{node:r,visitors:n}=t;if("root"===r.type||"document"===r.type||r.parent){if(n.length>0&&t.visitorIndex<n.length){var[i,a]=n[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=i;try{return a(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){for(var o,s=t.iterator;o=r.nodes[r.indexes[s]];)if(r.indexes[s]+=1,!o[F2e])return o[F2e]=!0,void e.push(t6e(o));t.iterator=0,delete r.indexes[s]}for(var l=t.events;t.eventIndex<l.length;){var c=l[t.eventIndex];if(t.eventIndex+=1,c===Q2e)return void(r.nodes&&r.nodes.length&&(r[F2e]=!0,t.iterator=r.getIterator()));if(this.listeners[c])return void(t.visitors=this.listeners[c])}e.pop()}else e.pop()}walkSync(e){e[F2e]=!0;var t=e6e(e);for(var r of t)if(r===Q2e)e.nodes&&e.each((e=>{e[F2e]||this.walkSync(e)}));else{var n=this.listeners[r];if(n&&this.visitSync(n,e.toProxy()))return}}warnings(){return this.sync().warnings()}}i6e.registerPostcss=e=>{n6e=e};var a6e=i6e;i6e.default=i6e,K2e.registerLazyResult(i6e),z2e.registerLazyResult(i6e);var o6e=g3e,s6e=U1e,l6e=null,c6e=$2e,u6e=W3e;class d6e{constructor(e,t,r){var n;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;var i=s6e;this.result=new u6e(this._processor,n,this._opts),this.result.css=t;var a=this;Object.defineProperty(this.result,"root",{get:()=>a.root});var o=new o6e(i,n,this._opts,t);if(o.isMap()){var[s,l]=o.generate();s&&(this.result.css=s),l&&(this.result.map=l)}}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}get content(){return this.result.css}get css(){return this.result.css}finally(e){return this.async().then(e,e)}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;var e,t=c6e;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}}var p6e=d6e;d6e.default=d6e;var h6e=p6e,f6e=a6e,g6e=N3e,v6e=b2e;class m6e{constructor(e=[]){this.version="8.4.27",this.plugins=this.normalize(e)}normalize(e){var t=[];for(var r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else{if("object"!=typeof r||!r.parse&&!r.stringify)throw new Error(r+" is not a PostCSS plugin");0}return t}process(e,t={}){return 0===this.plugins.length&&void 0===t.parser&&void 0===t.stringifier&&void 0===t.syntax?new h6e(this,e,t):new f6e(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}var y6e=m6e;m6e.default=m6e,v6e.registerProcessor(m6e),g6e.registerProcessor(m6e);var b6e=e3e,_6e=a3e,w6e=y3e,S6e=f2e,C6e=d3e,k6e=b2e,I6e=I2e;function P6e(e,t){if(Array.isArray(e))return e.map((e=>P6e(e)));var{inputs:r,...n}=e;if(r)for(var i of(t=[],r)){var a={...i,__proto__:C6e.prototype};a.map&&(a.map={...a.map,__proto__:_6e.prototype}),t.push(a)}if(n.nodes&&(n.nodes=e.nodes.map((e=>P6e(e,t)))),n.source){var{inputId:o,...s}=n.source;n.source=s,null!=o&&(n.source.input=t[o])}if("root"===n.type)return new k6e(n);if("decl"===n.type)return new b6e(n);if("rule"===n.type)return new I6e(n);if("comment"===n.type)return new w6e(n);if("atrule"===n.type)return new S6e(n);throw new Error("Unknown node type: "+e.type)}var T6e=P6e;P6e.default=P6e;var A6e=N1e,x6e=e3e,E6e=a6e,M6e=M3e,R6e=y6e,D6e=U1e,O6e=T6e,L6e=N3e,N6e=$3e,B6e=y3e,$6e=f2e,F6e=W3e,j6e=d3e,W6e=$2e,V6e=w2e,U6e=I2e,z6e=b2e,q6e=Y1e;function H6e(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new R6e(e)}H6e.plugin=function(e,t){var r,n=!1;function i(...r){console&&console.warn&&!n&&(n=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));var i=t(...r);return i.postcssPlugin=e,i.postcssVersion=(new R6e).version,i}return Object.defineProperty(i,"postcss",{get:()=>(r||(r=i()),r)}),i.process=function(e,t,r){return H6e([i(r)]).process(e,t)},i},H6e.stringify=D6e,H6e.parse=W6e,H6e.fromJSON=O6e,H6e.list=V6e,H6e.comment=e=>new B6e(e),H6e.atRule=e=>new $6e(e),H6e.decl=e=>new x6e(e),H6e.rule=e=>new U6e(e),H6e.root=e=>new z6e(e),H6e.document=e=>new L6e(e),H6e.CssSyntaxError=A6e,H6e.Declaration=x6e,H6e.Container=M6e,H6e.Processor=R6e,H6e.Document=L6e,H6e.Comment=B6e,H6e.Warning=N6e,H6e.AtRule=$6e,H6e.Result=F6e,H6e.Input=j6e,H6e.Rule=U6e,H6e.Root=z6e,H6e.Node=q6e,E6e.registerPostcss(H6e);var G6e=H6e;H6e.default=H6e;var K6e=E1e(G6e);K6e.stringify,K6e.fromJSON,K6e.plugin;var J6e=K6e.parse;K6e.list,K6e.document,K6e.comment,K6e.atRule,K6e.rule,K6e.decl,K6e.root,K6e.CssSyntaxError,K6e.Declaration,K6e.Container,K6e.Processor,K6e.Document,K6e.Comment,K6e.Warning,K6e.AtRule,K6e.Result,K6e.Input,K6e.Rule,K6e.Root,K6e.Node;class X6e{constructor(e=0){this._id=e}get id(){return this.generate()}generate(){return this._id++}reset(){this._id=0}}var Y6e="\n",Q6e=function(){function e(e){this.length=e.length;for(var t=[0],r=0;r<e.length;)switch(e[r]){case Y6e:r+=1,t.push(r);break;case"\r":e[r+=1]===Y6e&&(r+=1),t.push(r);break;default:r++}this.offsets=t}return e.prototype.locationForIndex=function(e){if(e<0||e>this.length)return null;for(var t=0,r=this.offsets;r[t+1]<=e;)t++;return{line:t,column:e-r[t]}},e.prototype.indexForLocation=function(e){var t=e.line,r=e.column;return t<0||t>=this.offsets.length||r<0||r>this.lengthOfLine(t)?null:this.offsets[t]+r},e.prototype.lengthOfLine=function(e){var t=this.offsets[e];return(e===this.offsets.length-1?this.length:this.offsets[e+1])-t},e}(),Z6e={exports:{}},e5e={exports:{}},t5e={exports:{}},r5e={exports:{}},n5e,i5e,a5e;n5e=r5e,i5e=r5e.exports,a5e=/^\s+/,i5e=function(e,t){if(null==t)return e.trimLeft?e.trimLeft():e.replace(a5e,"");for(var r,n,i=0,a=e.length,o=t.length,s=!0;s&&i<a;)for(s=!1,r=-1,n=e.charAt(i);++r<o;)if(n===t[r]){s=!0,i++;break}return i>=a?"":e.substr(i,a)},n5e.exports=i5e;var o5e=r5e.exports,s5e={exports:{}},l5e,c5e;l5e=s5e,c5e=s5e.exports,c5e=function(e,t){if(null==t){if(e.trimRight)return e.trimRight();t=" \r\n\t\f\v"}for(var r,n,i=e.length-1,a=t.length,o=!0;o&&i>=0;)for(o=!1,r=-1,n=e.charAt(i);++r<a;)if(n===t[r]){o=!0,i--;break}return i>=0?e.substring(0,i+1):""},l5e.exports=c5e;var u5e=s5e.exports,d5e,p5e,h5e,f5e;d5e=t5e,p5e=t5e.exports,h5e=o5e,f5e=u5e,p5e=function(e,t){return null==t&&e.trim?e.trim():h5e(f5e(e,t),t)},d5e.exports=p5e;var g5e=t5e.exports,v5e={exports:{}},m5e={exports:{}},y5e={exports:{}},b5e={exports:{}},_5e,w5e,S5e;_5e=b5e,w5e=b5e.exports,S5e=Object.prototype.toString,w5e=function(e){return S5e.call(e)},_5e.exports=w5e;var C5e=b5e.exports,k5e,I5e,P5e;k5e=y5e,I5e=y5e.exports,P5e=C5e,I5e=function(e){return"[object Number]"===P5e(e)},k5e.exports=I5e;var T5e=y5e.exports,A5e={exports:{}},x5e,E5e,M5e;x5e=A5e,E5e=A5e.exports,M5e=C5e,E5e=function(e){var t=M5e(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},x5e.exports=E5e;var R5e=A5e.exports,D5e,O5e,L5e,N5e,B5e;D5e=m5e,O5e=m5e.exports,L5e=T5e,N5e=R5e,B5e=Math.pow(2,53)-1,O5e=function(e){if(!e)return!1;var t=e.length;return L5e(t)&&t>=0&&t<=B5e&&!N5e(e)},D5e.exports=O5e;var $5e=m5e.exports,F5e={exports:{}},j5e={exports:{}},W5e,V5e,U5e;W5e=j5e,V5e=j5e.exports,U5e=Object.prototype.hasOwnProperty,V5e=function(e,t){return U5e.call(e,t)},W5e.exports=V5e;var z5e=j5e.exports,q5e,H5e,G5e;q5e=F5e,H5e=F5e.exports,G5e=z5e,H5e=Object.keys?Object.keys:function(e){var t=[];for(var r in e)G5e(e,r)&&t.push(r);return t},q5e.exports=H5e;var K5e=F5e.exports,J5e={exports:{}},X5e={exports:{}},Y5e,Q5e;Y5e=X5e,Q5e=X5e.exports,Q5e=function(e){return void 0===e},Y5e.exports=Q5e;var Z5e=X5e.exports,e4e,t4e,r4e;e4e=J5e,t4e=J5e.exports,r4e=Z5e,t4e=function(e,t,r){if(r4e(t))return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)}}return function(){return e.apply(t,arguments)}},e4e.exports=t4e;var n4e=J5e.exports,i4e,a4e,o4e,s4e,l4e;i4e=v5e,a4e=v5e.exports,o4e=$5e,s4e=K5e,l4e=n4e,a4e=function(e,t,r){var n,i;if(t=l4e(t,r),o4e(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var a=s4e(e);for(n=0,i=a.length;n<i;n++)t(e[a[n]],a[n],e)}return e},i4e.exports=a4e;var c4e=v5e.exports,u4e={exports:{}},d4e,p4e;d4e=u4e,p4e=u4e.exports,p4e=function(e){return e},d4e.exports=p4e;var h4e=u4e.exports,f4e={exports:{}},g4e={exports:{}},v4e={exports:{}},m4e,y4e;m4e=v4e,y4e=v4e.exports,y4e=function(e){var t=typeof e;return!!e&&("function"===t||"object"===t)},m4e.exports=y4e;var b4e=v4e.exports,_4e={exports:{}},w4e,S4e,C4e;w4e=_4e,S4e=_4e.exports,C4e=C5e,S4e=Array.isArray?Array.isArray:function(e){return"[object Array]"===C4e(e)},w4e.exports=S4e;var k4e=_4e.exports,I4e={exports:{}},P4e={exports:{}},T4e={exports:{}},A4e,x4e,E4e,M4e;A4e=T4e,x4e=T4e.exports,E4e=Z5e,M4e=c4e,x4e=function(e,t){return function(r){return M4e(arguments,(function(n,i){if(0!==i){var a=e(n);M4e(a,(function(e){t&&!E4e(r[e])||(r[e]=n[e])}))}})),r}},A4e.exports=x4e;var R4e=T4e.exports,D4e,O4e;D4e=P4e,O4e=P4e.exports,O4e=R4e(K5e),D4e.exports=O4e;var L4e=P4e.exports,N4e={exports:{}},B4e,$4e,F4e;B4e=N4e,$4e=N4e.exports,F4e=K5e,$4e=function(e,t){var r=F4e(t),n=r.length;if(null==e)return!n;e=Object(e);for(var i=0;i<n;i++){var a=r[i];if(t[a]!==e[a]||!(a in e))return!1}return!0},B4e.exports=$4e;var j4e=N4e.exports,W4e,V4e,U4e,z4e;W4e=I4e,V4e=I4e.exports,U4e=L4e,z4e=j4e,V4e=function(e){return e=U4e({},e),function(t){return z4e(t,e)}},W4e.exports=V4e;var q4e=I4e.exports,H4e={exports:{}},G4e={exports:{}},K4e={exports:{}};!function(e,t){var r=z5e,n=k4e;t=function(e,t){if(n(e))return e;if(t&&r(t,e))return[e];var o=[];return e.replace(i,(function(e,t,r,n){o.push(r?n.replace(a,"$1"):t||e)})),o};var i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g;e.exports=t}(K4e,K4e.exports);var J4e=K4e.exports,X4e,Y4e,Q4e,Z4e;X4e=G4e,Y4e=G4e.exports,Q4e=Z5e,Z4e=J4e,Y4e=function(e,t){var r;for(r=(t=Z4e(t,e)).shift();!Q4e(r);){if(null==(e=e[r]))return;r=t.shift()}return e},X4e.exports=Y4e;var e7e=G4e.exports,t7e,r7e,n7e,i7e;t7e=H4e,r7e=H4e.exports,n7e=k4e,i7e=e7e,r7e=function(e){return n7e(e)?function(t){return i7e(t,e)}:(t=e,function(e){return null==e?void 0:e[t]});var t},t7e.exports=r7e;var a7e=H4e.exports,o7e,s7e,l7e,c7e,u7e,d7e,p7e,h7e,f7e;o7e=g4e,s7e=g4e.exports,l7e=R5e,c7e=b4e,u7e=k4e,d7e=n4e,p7e=q4e,h7e=h4e,f7e=a7e,s7e=function(e,t,r){return null==e?h7e:l7e(e)?d7e(e,t,r):c7e(e)&&!u7e(e)?p7e(e):f7e(e)},o7e.exports=s7e;var g7e=g4e.exports,v7e,m7e,y7e,b7e,_7e;v7e=f4e,m7e=f4e.exports,y7e=g7e,b7e=K5e,_7e=$5e,m7e=function(e,t,r){t=y7e(t,r);for(var n=!_7e(e)&&b7e(e),i=(n||e).length,a=Array(i),o=0;o<i;o++){var s=n?n[o]:o;a[o]=t(e[s],s,e)}return a},v7e.exports=m7e;var w7e=f4e.exports,S7e,C7e,k7e,I7e,P7e,T7e,A7e,x7e,E7e,M7e,R7e,D7e,O7e;S7e=e5e,C7e=e5e.exports,k7e=g5e,I7e=c4e,P7e=h4e,T7e=w7e,x7e="(?:\\\\[\\da-fA-F]{1,6}".concat(A7e="[\\x20\\t\\r\\n\\f]","?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+"),E7e="\\[".concat(A7e,"*(").concat(x7e,")(?:").concat(A7e,"*([*^$|!~]?=)").concat(A7e,"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(").concat(x7e,"))|)").concat(A7e,"*\\]"),M7e="::?(".concat(x7e,")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|").concat(E7e,")*)|.*)\\)|)"),R7e=new RegExp("^".concat(A7e,"*,").concat(A7e,"*")),D7e=new RegExp("^".concat(A7e,"*([>+~]|").concat(A7e,")").concat(A7e,"*")),O7e={id:{reg:new RegExp("^#(".concat(x7e,")")),value:function(e){return e.slice(1)},toStr:function(e){return"#".concat(e)}},class:{reg:new RegExp("^\\.(".concat(x7e,")")),value:function(e){return e.slice(1)},toStr:function(e){return".".concat(e)}},tag:{reg:new RegExp("^(".concat(x7e,"|[*])")),value:P7e},attribute:{reg:new RegExp("^".concat(E7e)),value:function(e){return e.slice(1,e.length-1)},toStr:function(e){return"[".concat(e,"]")}},pseudo:{reg:new RegExp("^".concat(M7e)),value:P7e}},I7e(O7e,(function(e){e.value||(e.value=P7e),e.toStr||(e.toStr=P7e)})),C7e={parse:function(e){e=k7e(e);for(var t,r,n,i=[];e&&(n&&!(r=R7e.exec(e))||(r&&(e=e.slice(r[0].length)),t=[],i.push(t)),n=!1,(r=D7e.exec(e))&&(n=r.shift(),e=e.slice(n.length),(n=k7e(n))||(n=" "),t.push({value:n,type:"combinator"})),I7e(O7e,(function(i,a){var o=i.reg,s=i.value;(r=o.exec(e))&&(n=r.shift(),e=e.slice(n.length),n=k7e(n),t.push({value:s(n),type:a}))})),n););return i},stringify:function(e){return T7e(e,(function(e){return(e=T7e(e,(function(e){var t=e.type,r=e.value;return"combinator"===t?" "===r?r:" ".concat(r," "):O7e[t].toStr(r)}))).join("")})).join(", ")}},S7e.exports=C7e;var L7e=e5e.exports,N7e={exports:{}},B7e,$7e;B7e=N7e,$7e=N7e.exports,$7e=function(e,t){return 0===e.indexOf(t)},B7e.exports=$7e;var F7e=N7e.exports,j7e={exports:{}},W7e={exports:{}},V7e,U7e;V7e=W7e,U7e=W7e.exports,U7e=function(e,t,r){return Array.prototype.indexOf.call(e,t,r)},V7e.exports=U7e;var z7e=W7e.exports,q7e={exports:{}},H7e,G7e,K7e;H7e=q7e,G7e=q7e.exports,K7e=C5e,G7e=function(e){return"[object String]"===K7e(e)},H7e.exports=G7e;var J7e=q7e.exports,X7e={exports:{}},Y7e,Q7e,Z7e;Y7e=X7e,Q7e=X7e.exports,Z7e=c4e,Q7e=function(e){var t=[];return Z7e(e,(function(e){t.push(e)})),t},Y7e.exports=Q7e;var e8e=X7e.exports,t8e,r8e,n8e,i8e,a8e,o8e;t8e=j7e,r8e=j7e.exports,n8e=z7e,i8e=J7e,a8e=$5e,o8e=e8e,r8e=function(e,t){return i8e(e)?e.indexOf(t)>-1:(a8e(e)||(e=o8e(e)),n8e(e,t)>=0)},t8e.exports=r8e;var s8e=j7e.exports,l8e={exports:{}},c8e={exports:{}},u8e={exports:{}},d8e,p8e,h8e,f8e,g8e,v8e;d8e=u8e,p8e=u8e.exports,h8e=T5e,f8e=b4e,g8e=R5e,v8e=J7e,p8e=function(e){if(h8e(e))return e;if(f8e(e)){var t=g8e(e.valueOf)?e.valueOf():e;e=f8e(t)?t+"":t}return v8e(e)?+e:0===e?e:+e},d8e.exports=p8e;var m8e=u8e.exports,y8e,b8e,_8e;y8e=c8e,b8e=c8e.exports,_8e=m8e,b8e=function(e){return e?(e=_8e(e))-e%1:0===e?e:0},y8e.exports=b8e;var w8e=c8e.exports,S8e={exports:{}},C8e,k8e;C8e=S8e,k8e=S8e.exports,k8e=function(){for(var e=arguments,t=e[0],r=1,n=e.length;r<n;r++)e[r]>t&&(t=e[r]);return t},C8e.exports=k8e;var I8e=S8e.exports,P8e,T8e,A8e,x8e;P8e=l8e,T8e=l8e.exports,A8e=w8e,x8e=I8e,T8e=function(e,t){e=e.split("."),t=t.split(".");for(var r=x8e(e.length,t.length),n=0;n<r;n++){var i=A8e(e[n]),a=A8e(t[n]);if(i>a)return 1;if(i<a)return-1}return 0},P8e.exports=T8e;var E8e=l8e.exports;!function(e,t){var r=L7e,n=c4e,i=F7e,a=s8e,o=E8e;t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.important,l=void 0!==o&&o,c=t.inlineStyle,u=void 0!==c&&c,d=t.position,p=[0,0,0,0,0,void 0===d?0:d];l&&(p[0]=1),u&&(p[1]=1);var h=r.parse(e)[0];return n(h,(function(e){var t=e.type,r=e.value;switch(t){case"id":p[2]++;break;case"class":case"attribute":p[3]++;break;case"pseudo":a(s,r.replace(/:/g,""))?p[4]++:i(r,"::")||p[3]++;break;case"tag":"*"!==r&&p[4]++}})),p};var s=["first-letter","last-letter","first-line","last-line","first-child","last-child","before","after"];t.compare=function(e,t){return o(e.join("."),t.join("."))},e.exports=t}(Z6e,Z6e.exports);var M8e=E1e(Z6e.exports);function R8e(e,t,r,...n){return new Promise((i=>{var a,o,s;3===e.mode?null===(a=e[t])||void 0===a||a.call(e,r,...n,((...e)=>i(e))):null===(s=(o=r)[t])||void 0===s||s.call(o,...n,((...e)=>i(e)))}))}var D8e=new class{get isSkyline(){return!!(null===window||void 0===window?void 0:window.__skylineEngine__)}getBoundingClientRect(e){return _1e(this,void 0,void 0,(function*(){var t;try{if(this.isSkyline){var r=k1e(e.getBoundingClientRect.bind(e));t=yield r()}else t=e.getBoundingClientRect()}catch(t){console.error("getComputedStyle: error",t)}return t}))}getComputedStyle(e){return _1e(this,void 0,void 0,(function*(){var t;try{t=this.isSkyline?{width:"50px",height:"50px",marginRight:"20px",marginLeft:"20px",marginTop:"20px",marginBottom:"20px",paddingLeft:"20px",paddingRight:"20px",paddingTop:"20px",paddingBottom:"20px",borderLeftWidth:"10px",borderRightWidth:"10px",borderTopWidth:" 10px",borderBottomWidth:"10px"}:window.getComputedStyle(e)}catch(t){console.error("getComputedStyle: error",t)}return t}))}getWindowInfo(){}setStyle(e,t){this.isSkyline?e.$$.setStyle(t):e.$$.setAttribute("style",t)}};class O8e extends(null){constructor(e,t){super(e),this.tree=t}get enabled(){return this._enabled}enableSync(){return this._enabled||(this._enabled=!0,this.cssModel&&(this.cssModel.init(this.tree,this.bridge),this.cssModel.virtualSheets.forEach((({header:e})=>{this.bridge.emit({method:"CSS.styleSheetAdded",params:{header:e}})})))),this._enabled}enable(){return e(this,void 0,void 0,(function*(){this.enableSync()}))}addRule(e){throw r}collectClassNames(e){throw r}createStyleSheet(e){throw r}forcePseudoState(e){throw r}getBackgroundColors(e){throw new Error("Method not implemented.")}getGlassEaselNodeFromParams(t){return e(this,void 0,void 0,(function*(){var e,{nodeId:r,backendNodeId:n,objectId:i}=t;return(r||n)&&(e=this.tree.getNodeById(r||n)),e||null}))}getComputedStyleForNode(t){return e(this,void 0,void 0,(function*(){var e=yield this.getGlassEaselNodeFromParams(t);return!e||this.tree.isVirtual(e)?{computedStyle:[]}:{computedStyle:yield this.getComputedStyleByNode(e)}}))}getInlineStylesForNode(t){return e(this,void 0,void 0,(function*(){var e=yield this.getGlassEaselNodeFromParams(t);return{inlineStyle:this.getInlineStylesByNode(e)}}))}getMatchedStylesForNode(t){return e(this,void 0,void 0,(function*(){try{var e=yield this.getGlassEaselNodeFromParams(t);return!e||this.tree.isVirtual(e)?{}:{matchedCSSRules:yield yield this.getMatchedCSSRulesByNode(e),inlineStyle:yield this.getInlineStylesByNode(e),inherited:yield this.getInheritedCSSRulesByNode(e)}}catch(e){throw console.error("CSSAdapter::getMatchedStylesForNode",e),e}}))}getComputedStyleByNode(t){return e(this,void 0,void 0,(function*(){var e=t.$$,r=yield o.getComputedStyle(e);return s(r)}))}getInlineStylesByNode(e){if(e.$$)return this.cssModel.getInlineRules(e.$$)}getMatchedCSSRulesByNode(e){var t,r=e.$$;return r&&(r.matches||r.webkitMatchesSelector)&&null!==(t=this.cssModel.getMatchedRules(r))&&void 0!==t?t:[]}getMediaQueries(){throw r}getPlatformFontsForNode(e){throw r}getStyleSheetText(e){throw r}trackComputedStyleUpdates(e){throw r}takeComputedStyleUpdates(){throw r}setEffectivePropertyValueForNode(e){throw r}setKeyframeKey(e){throw r}setMediaText(e){throw r}setContainerQueryText(e){throw r}setRuleSelector(e){throw r}setStyleSheetText(e){throw r}applyStyleEdit(e){return this.cssModel.applyStyleEdit(e)}setStyleTexts(t){return e(this,void 0,void 0,(function*(){var{edits:e}=t;return{styles:e.map((e=>this.applyStyleEdit(e)))}}))}startRuleUsageTracking(){throw r}stopRuleUsageTracking(){throw r}takeCoverageDelta(){throw r}setLocalFontsEnabled(e){throw r}on(e,t){throw r}}var L8e=e=>"decl"===e.type,N8e=e=>"comment"===e.type,B8e=(e,t)=>{try{return e()}catch(e){return t}},$8e;class F8e{constructor(e){this.rawStr=e,this.lineCol=new Q6e(e)}toIndex(e){return void 0===e||"number"==typeof e?e:this.lineCol.indexForLocation(e)||void 0}toIndices(...e){return e.map((e=>this.toIndex(e)))}updateLineCol(){this.lineCol=new Q6e(this.rawStr)}loc(e){return this.lineCol.locationForIndex(e)}slice(e,t){return this.rawStr.slice(this.toIndex(e),this.toIndex(t))}update(e,t,r){var[n,i]=this.toIndices(e,t);return this.rawStr.slice(0,n),this.rawStr.slice(i),this.rawStr=this.rawStr.slice(0,n)+r+this.rawStr.slice(i),this.updateLineCol(),this.rawStr,[n,n+r.length]}get fileContent(){return this.rawStr}}class j8e{constructor(e,t,r,n){var i,a;this.$modified=!1,this.$fileName=t;var o=e;this.scopeId=r,this.allomancy=new F8e(n);var s=this.allomancy.loc(n.length-1);this.$id=o,this.header={styleSheetId:o,disabled:!1,isInline:!1,isMutable:!1,isConstructed:!1,origin:"regular",frameId:"114514",sourceURL:null!==(i=this.fileName)&&void 0!==i?i:"",startLine:0,endLine:(null==s?void 0:s.line)||0,startColumn:0,endColumn:(null==s?void 0:s.column)||0,length:n.length,title:null!==(a=this.fileName)&&void 0!==a?a:""},this.ast=J6e(n,{from:this.fileName})}get content(){return this.allomancy.fileContent}get ownerNode(){throw P1e}get id(){return this.$id}get fileName(){return this.$fileName}get fileContent(){return this.allomancy.fileContent}get modified(){return this.$modified}update(){var e=this.allomancy.loc(this.content.length-1);this.header.endLine=e.line,this.header.endColumn=e.column,this.header.length=this.content.length,this.ast=J6e(this.content,{from:this.fileName})}initSheet(e){}getNodeStyleAttr(e){throw P1e}getRuleByStartLine(e){throw P1e}getInlineRule(){throw P1e}mapNodesToProperties(e,t=0){var r=this,n=[],i=function(e){if(L8e(e)){var i=t+e.source.start.offset,a=t+e.source.end.offset+1,o=r.allomancy.loc(i),s=r.allomancy.loc(a);n.push({name:e.prop,value:e.value,important:Boolean(e.important),text:r.content.slice(i,a),parsedOk:!0,range:{startLine:o.line,startColumn:o.column,endLine:s.line,endColumn:s.column}})}else if(N8e(e)){var l=B8e((()=>J6e(e.text)),null);if(l)for(var c of l.nodes)if(L8e(c)){var u=t+e.source.start.offset,d=t+e.source.end.offset+1,p=r.allomancy.loc(u),h=r.allomancy.loc(d);n.push({name:c.prop,value:c.value,important:Boolean(c.important),disabled:!0,text:r.content.slice(u,d),range:{startLine:p.line,startColumn:p.column,endLine:h.line,endColumn:h.column}})}}};for(var a of e)i(a);return n}getText(e,t=0){return((e,t,r=0)=>t?e.slice(t.start.offset+r,t.end.offset+r):"")(this.content,e,t)}generateSelectorList(e){var{start:t}=e.source,r=[],n=t.line-1,i=t.column-1,a=0;for(var o of e.selectors)a=i+o.length,r.push({range:{startLine:n,startColumn:i,endLine:n,endColumn:a},text:o}),i=a+1;return{selectors:r,text:e.selectors.join(", ")}}getMatchedRules(e){return _1e(this,void 0,void 0,(function*(){return[]}))}sortMatchedStyleRules(e){throw P1e}filterMatchedRules(e,t){throw P1e}serializeRule(e){throw P1e}setInlineStyle(e,t){throw P1e}updateStyleText(e){throw P1e}applyStyleEdit(e){var{text:t,range:r}=e,n={line:r.startLine,column:r.startColumn},i={line:r.endLine,column:r.endColumn},a=B8e((()=>J6e(t)),null);if(a){var o=this.allomancy.update(n,i,t),s=this.mapNodesToProperties(a.nodes,o[0]),l=o.map((e=>this.allomancy.loc(e))),c={startLine:l[0].line,startColumn:l[0].column,endLine:l[1].line,endColumn:l[1].column},u={styleSheetId:this.$id,cssProperties:s,shorthandEntries:[],cssText:t,range:c};return this.allomancy.fileContent,this.$modified=!0,this.update(),u}}}j8e.styleSheetIdAssigner=new X6e;class W8e extends j8e{constructor(e,t,r,n){super(`style_${W8e.styleSheetIdAssigner.id}`,e,t,r),this.ast,n&&this.ast.nodes.forEach((r=>{var i;if((e=>"atrule"===e.type)(r)&&"import"===r.name){var a=null===(i=/["'](\S+)["']/.exec(decodeURI(r.params)))||void 0===i?void 0:i[1];a&&n("."+new URL(a,"file://"+e).pathname,t)}}))}get fileName(){return this.$fileName}initSheet(e){}getNodeStyleAttr(e){throw P1e}getRuleByStartLine(e){throw P1e}getInlineRule(){throw P1e}generateSelectorList(e){var{start:t}=e.source,r=[],n=t.line-1,i=t.column-1,a=0;for(var o of e.selectors)a=i+o.length,r.push({range:{startLine:n,startColumn:i,endLine:n,endColumn:a},text:o}),i=a+1;return{selectors:r,text:e.selectors.join(", ")}}getMatchedRules(e){return _1e(this,void 0,void 0,(function*(){var t=this.ast.nodes,r=[],n=this.scopeId;for(var i of t)if("rule"===i.type){var a=[];if(i.selectors.forEach(((t,r)=>{":host"!==t&&e.matches(n,t)&&a.push(r)})),!a.length)continue;if(!i.nodes.length)continue;var o=i.nodes.at(0).source.start.offset,s=i.nodes.at(-1).source.end.offset+1,l=this.allomancy.loc(o),c=this.allomancy.loc(s),u=this.allomancy.fileContent.slice(o,s),d=this.mapNodesToProperties(i.nodes),p={styleSheetId:this.$id,selectorList:this.generateSelectorList(i),origin:"regular",style:{styleSheetId:this.$id,cssProperties:d,shorthandEntries:[],cssText:u,range:{startLine:l.line,startColumn:l.column,endLine:c.line,endColumn:c.column}}},h={matchingSelectors:a,rule:p};r.push(h)}return r}))}}W8e.styleSheetIdAssigner=new X6e;class V8e extends j8e{constructor(e,t){super(`node_${t}`,"",2,e.style||""),this.elt=e}initSheet(e){}getNodeStyleAttr(e){throw P1e}getRuleByStartLine(e){throw P1e}getInlineRule(){var e=this.elt.style;if(!e)return Object.assign(Object.assign({},{cssProperties:[],shorthandEntries:[],range:{startColumn:0,endColumn:0,startLine:0,endLine:0}}),{styleSheetId:this.$id});e!==this.content&&(this.allomancy.update(0,this.content.length,e),this.update());var t=this.mapNodesToProperties(this.ast.nodes),r=this.allomancy.loc(this.content.length-1);return{styleSheetId:this.$id,cssProperties:t,shorthandEntries:[],cssText:e,range:{startLine:0,startColumn:0,endLine:r.line,endColumn:r.column}}}getMatchedRules(e){return _1e(this,void 0,void 0,(function*(){return[]}))}applyStyleEdit(e){return this.elt.setNodeStyle(e.text.trim()),this.getInlineRule()}}V8e.styleSheetIdAssigner=new X6e;class U8e extends(null){constructor(e,t,r,n,i){super(e,t),this.cssModel=null,this.pageStyleSheets=new Map,this.inlineStyleSheets=new Map,this.currentElement=null,this.prevStyleSheetsCount=0,this.webviewEngine=r,this.glassEaselAdapter=n,this.fileReader=i}getPageId(e){for(var t,r=e;r&&!r._$ownerRenderRoot;)r=null===(t=r.ownerShadowRoot)||void 0===t?void 0:t.getHostNode();return r?r._$ownerRenderRoot.id:e.getBackendContext().id}enable(){var t=Object.create(null,{enableSync:{get:()=>super.enableSync}});return e(this,void 0,void 0,(function*(){t.enableSync.call(this)}))}pushToDebugger(e){this.bridge.emit({method:"CSS.styleSheetAdded",params:{header:e.header}})}updatePageStyleSheet(t,r=!1){return e(this,void 0,void 0,(function*(){var n=this;if(t){var i=this.pageStyleSheets.get(t),a=this.webviewEngine.getStyleSheetManager(t);if(!i||a.styleSheets.length!==this.prevStyleSheetsCount||r){var o=[],s=[],l=a.styleSheets;for(var[c,u]of(this.prevStyleSheetsCount=l.length,l))u.styleScope<2||"__EMPTY__"===c||s.push(c);for(var d=yield this.readWxss(...s.map((e=>e+".wxss"))),p=function*(){var t=a.getStyleSheet(s[h]),r="./"+t.path+".wxss",i=t.styleScope,l=d[h],c=(t,r)=>e(n,void 0,void 0,(function*(){var e=(yield this.readWxss(t))[0],n=new W8e(t,r,e,c);o.push(n),this.pushToDebugger(n)})),u=new W8e(r,i,l,c);o.push(u)},h=0;h<s.length;++h)yield*p();this.pageStyleSheets.set(t,o),o.forEach((e=>this.pushToDebugger(e)))}}}))}getMatchedCSSRulesByNode(t){var n;return e(this,void 0,void 0,(function*(){this.currentElement=t;var e=t.getBackendElement();if(!e)return[];var i=this.getPageId(t);yield this.updatePageStyleSheet(i);var a=null!==(n=this.pageStyleSheets.get(i))&&void 0!==n?n:[],o=(yield Promise.all(a.map((t=>t.getMatchedRules(e))))).reduce(((e,t)=>e.concat(t)),[]),s=[];return o.map(((e,t)=>r(e.rule.selectorList.text,{position:t}))).sort(r.compare).forEach((e=>s.push(o[e[5]]))),s}))}getInheritedCSSRulesByNode(e){return[]}getMatchedStylesForNode(t){var r=Object.create(null,{getMatchedStylesForNode:{get:()=>super.getMatchedStylesForNode}});return e(this,void 0,void 0,(function*(){var e=yield r.getMatchedStylesForNode.call(this,t);return e.trustMe=!0,e}))}applyStyleEdit(e){var t,r;if(!this.currentElement)throw new Error("a node must be selected before applyStyleEdit");var n=null;if(e.styleSheetId.startsWith("node")){var i=Number(null===(t=/^node_(\d+)/.exec(e.styleSheetId))||void 0===t?void 0:t[1]),a=this.inlineStyleSheets.get(i);a&&(n=a.applyStyleEdit(e))}else{var o=this.getPageId(this.currentElement);for(var s of null!==(r=this.pageStyleSheets.get(o))&&void 0!==r?r:[])s.id===e.styleSheetId&&s instanceof W8e&&(n=s.applyStyleEdit(e),this.bridge.emit({method:"WxHost.setWxssFile",params:{fileName:s.fileName,content:s.fileContent}}),this.webviewEngine.invalidateAllPreCompiled(o))}if(!n)throw new Error("stylesheet not found for page");return n}getInlineStylesByNode(e){var t=this.tree.requestIdForNode(e);return this.inlineStyleSheets.has(t)||this.inlineStyleSheets.set(t,new V8e(e,t)),this.inlineStyleSheets.get(t).getInlineRule()}readWxss(...t){return e(this,void 0,void 0,(function*(){var r=this;try{for(var n=[],i=function*(i){n.push(yield e(r,void 0,void 0,(function*(){try{return(yield this.fileReader.readWxssFile(t[i]))||""}catch(e){return""}})))},a=0;a<t.length;a+=1)yield*i(a);return n}catch(e){return t.map((()=>""))}}))}getComputedStyleByNode(t){return e(this,void 0,void 0,(function*(){var e=null==t?void 0:t.getBackendContext(),[r]=yield n(e,"getComputedStyle",t.getBackendElement()),i={};for(var a of Object.keys(r)){var o=r[a];["width","height","margin-right","margin-left","margin-top","margin-bottom","padding-left","padding-right","padding-top","padding-bottom","border-left-width","border-right-width","border-top-width","border-bottom-width"].includes(a)?i[a]="number"==typeof o?o+"px":o:["top","left","right","bottom"].includes(a)?i[a]="number"==typeof o?"0px":o:i[a]=String(o)}return d(i)}))}}function z8e(e){return e.id.startsWith("__wx_inspectee_highlight__")}!function(e){e.SHADOW="shadow",e.COMPOSED="composed",e.SHADOW_SKIP_VIRTUAL="shadow-skip-virtual"}($8e||($8e={}));var q8e={printError:!0};class H8e{constructor(e,t=q8e){this.bindAdapter=(e,t)=>{var r=`${e}Adapter`;return Reflect.set(this,r,t),"onEvery"in t&&t.onEvery(((t,r)=>{this.bridge.emit({method:`${e}.${t}`,params:r})})),this},this.options=t,this.handler=this.handleCommand.bind(this),this.bridge=e,this.bridge.on("command",this.handler),this.fallbackAdapter=new S1e(e)}destroy(){this.bridge.off("command",this.handler)}handleCommand(e){var t,r;return _1e(this,void 0,void 0,(function*(){var n,{id:i,method:a,params:o}=e,[s,l]=a.split("."),c=`${s}Adapter`,u=null!==(t=Reflect.get(this,c))&&void 0!==t?t:this.fallbackAdapter;if(u.enabled||"enable"===l)try{n=null!==(r=yield u[l](o))&&void 0!==r?r:{}}catch(i){this.options.printError&&console.error(`inspectee ${a} error:`,i),n={message:"N/A"}}else n={message:"disabled, enable it first"};this.bridge.reply(i,n)}))}}var G8e=new X6e(1);function K8e({beforeInvoke:e,afterInvoke:t,console:r=globalThis.console}){var n={},i=r,a=function(){var[r,a]=o;n[r]="function"==typeof a&&"debug"!==r?function(...n){null==e||e({method:r,args:n,originConsole:i});var a=i[r](...n);return null==t||t({method:r,args:n,ret:a,originConsole:i}),a}:a};for(var o of Object.entries(r))a();return n}function J8e(e){var t=Object.assign({},console);return console=K8e(e),{originConsole:t,console:console}}var X8e=e=>!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then,Y8e=new WeakMap,Q8e=new Map,Z8e=new Map,e9e=new Map,t9e=()=>Q8e.size,r9e=(e,t)=>{var r=Z8e.get(t);r?r.push(e):Z8e.set(t,[e]),e9e.set(e,t)},n9e=e=>e9e.get(e),i9e=e=>{var t=Z8e.get(e);if(t)for(var r of t)Q8e.delete(r),e9e.delete(r)},a9e=(e,t={})=>{var r,n,i={},a=typeof e,o="";try{o=null===(r=null==e?void 0:e.toString)||void 0===r?void 0:r.call(e)}catch(e){o={}.toString()}if("object"===a||"function"===a||"symbol"===a){if(Y8e.has(e))i.objectId=Y8e.get(e);else{i.objectId=G8e.id.toString();try{e&&e instanceof Object&&Y8e.set(e,i.objectId)}catch(t){console.error("objectToRemoteIdMap fail",t,e)}Q8e.set(i.objectId,e),t.objectGroup&&r9e(i.objectId,t.objectGroup)}if("object"===a){var s,l=null===(n=null==e?void 0:e.constructor)||void 0===n?void 0:n.name;if(l&&(i.className=l),Array.isArray(e)?s="array":null===e?s="null":e instanceof RegExp?s="regexp":e instanceof Date?s="date":e instanceof Map?s="map":e instanceof Set?s="set":e instanceof WeakMap?s="weakmap":e instanceof WeakSet?s="weakset":e instanceof Error?s="error":X8e(e)?s="promise":function(e){try{return[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].some((t=>e instanceof t))}catch(e){return!1}}(e)?s="typedarray":e instanceof ArrayBuffer?s="arraybuffer":e instanceof DataView?s="dataview":globalThis.WebAssembly&&e instanceof globalThis.WebAssembly.Memory&&(s="webassemblymemory"),s&&(i.subtype=s),null!=e&&t.generatePreview){var c={type:a,description:o,properties:Object.keys(e).flatMap((r=>e===globalThis&&"BabelRuntimeHelpers"===r?[]:Object.assign({name:r},a9e(e[r],Object.assign(Object.assign({},t),{generatePreview:!1}))))),overflow:!0};s&&(c.subtype=s),"map"===s?c.entries=[...e].map((([e,r])=>({key:e,value:a9e(r,Object.assign(Object.assign({},t),{generatePreview:!1}))}))):"set"===s&&(c.entries=[...e].map((e=>({value:a9e(e,Object.assign(Object.assign({},t),{generatePreview:!1}))})))),i.preview=c}}}else i.value=e;return Object.assign({type:a,description:o},i)},o9e=e=>{Q8e.get(e)&&Q8e.delete(e)},s9e=e=>Q8e.get(e),l9e=(e,t={})=>{var r=a9e(e,t);if(e instanceof Error){var{name:n,message:i}=e;return{text:n,exception:r}}return{text:"Unknown Error",exception:r}},c9e=(e,t)=>{var{configurable:r=!1,enumerable:n=!1,writable:i=!1,value:a,get:o}=t;return{configurable:r,enumerable:n,writable:i,name:e}};class u9e extends w1e{constructor(e,t){super(e),this._executionContextId=1;var{evalFn:r=globalThis.eval,executionContextId:n=1}=t;this.evalFn=r,this._executionContextId=n,this._hookedConsole=this.getHookedConsole(n)}get executionContextId(){return this._executionContextId}get hookedConsole(){return this._hookedConsole}get remoteObjectAmount(){return t9e()}getHookedConsole(e){return K8e({beforeInvoke:({method:e,args:t})=>this.callConsoleAPI(e,t)})}callConsoleAPI(e,t,r=Date.now(),n=this._executionContextId){this.bridge.emit({method:"Runtime.consoleAPICalled",params:{type:e,args:t.map((e=>a9e(e,{objectGroup:"console",generatePreview:!0}))),executionContextId:n,timestamp:r}})}hookConsole(){var e;null!==(e=Reflect.get(console,Symbol.for("hooked")))&&void 0!==e&&e||(console=this._hookedConsole),Reflect.set(console,Symbol.for("hooked"),!0)}awaitPromise(e){var t;return _1e(this,void 0,void 0,(function*(){var{promiseObjectId:r}=e,n=s9e(r),i=null!==(t=n9e(r))&&void 0!==t?t:"promise";if(X8e(n)){var a={objectGroup:i};try{return{result:a9e(yield n,a)}}catch(e){return{exceptionDetails:l9e(e,a),result:a9e(e,a)}}}var o="no such promise";return{exceptionDetails:l9e(o),result:a9e(o)}}))}callFunctionOn(e){var t,r;return _1e(this,void 0,void 0,(function*(){if("string"!=typeof e.objectId)throw new Error("callFunctionOn with params.executionContextId not implemented");var n,i=s9e(e.objectId),a=null!==(r=null===(t=e.arguments)||void 0===t?void 0:t.map((e=>"string"==typeof e.objectId?s9e(e.objectId):e.value)))&&void 0!==r?r:[];try{n=this.evalFn(`(${e.functionDeclaration})`).apply(i,a)}catch(i){if(!e.silent)throw i}return{result:a9e(n)}}))}compileScript(e){throw P1e}discardConsoleEntries(){throw P1e}evaluate(e){return _1e(this,void 0,void 0,(function*(){var{expression:t,awaitPromise:r,returnByValue:n,generatePreview:i=!0,objectGroup:a}=e;try{var o=this.evalFn.call(globalThis,t);return r&&X8e(o)&&(o=yield o),{result:a9e(o,{returnByValue:n,generatePreview:i,objectGroup:a})}}catch(t){return{exceptionDetails:l9e(t),result:a9e(t,{objectGroup:a})}}}))}getIsolateId(){throw P1e}getHeapUsage(){throw P1e}getProperties(e){return _1e(this,void 0,void 0,(function*(){var{objectId:t,ownProperties:r=!0,accessorPropertiesOnly:n=!1}=e,i=s9e(t),a=n9e(t),o=[],s={result:o},l=[];if(!i)return s;for(var c of Object.keys(i)){var u=Reflect.getOwnPropertyDescriptor(i,c);u&&o.push(Object.assign(Object.assign({},u),{name:c,isOwn:!0}))}if(i instanceof Map){var d=[...i];o.push({name:"[[Entries]]",value:d.length?d.map((([e,t])=>({key:e,value:t}))):"no entry"}),d.length&&o.push({name:"size",value:i.size})}if(i instanceof Set){var p=[...i];o.push({name:"[[Entries]]",value:p.length?p:"no entry"}),p.length&&o.push({name:"size",value:i.size})}var h={objectGroup:a};if(o=o.flatMap((e=>{if(i===globalThis&&"BabelRuntimeHelpers"===e.name)return[];var{get:t,set:r,value:n}=e;return"value"in e&&(e["symbol"===n?"symbol":"value"]=a9e(n,h)),t&&(e.get=a9e(t,h)),r&&(e.set=a9e(r,h)),e})),n&&(o=o.filter((e=>e.get||e.set))),"object"==typeof i||"function"==typeof i){var f=Reflect.getPrototypeOf(i);l.push({name:"[[Prototype]]",value:a9e(f,h)})}return l.length&&(s.internalProperties=l),s}))}globalLexicalScopeNames(e){throw P1e}queryObjects(e){throw P1e}releaseObject(e){return _1e(this,void 0,void 0,(function*(){o9e(e.objectId)}))}releaseObjectGroup(e){return _1e(this,void 0,void 0,(function*(){i9e(e.objectGroup)}))}runIfWaitingForDebugger(){throw P1e}runScript(e){throw P1e}setAsyncCallStackDepth(e){throw P1e}setCustomObjectFormatterEnabled(e){throw P1e}setMaxCallStackSizeToCapture(e){throw P1e}terminateExecution(){throw P1e}addBinding(e){throw P1e}removeBinding(e){throw P1e}on(e,t){throw P1e}}class d9e{constructor(){this._eventMap=Object.create(null),this._allListeners=[]}on(e,t){return(this._eventMap[e]=this._eventMap[e]||[]).push(t),t}onEvery(e){return this._allListeners.push(e),e}once(e,t){var r=n=>{t(n),this.off(e,r)};return this.on(e,r),r}off(e,t){if(this._eventMap[e]){var r=this._eventMap[e].indexOf(t);-1!==r&&this._eventMap[e].splice(r,1)}}offEvery(e){var t=this._allListeners.indexOf(e);-1!==t&&this._allListeners.splice(t,1)}trigger(e,t){if(this._allListeners.length)for(var r=0,n=this._allListeners.length;r<n;r+=1)this._allListeners[r](e,t);var i=this._eventMap[e];if(i)for(var a=0,o=i.length;a<o;a+=1)i[a](t)}}function p9e(e,t){var r=[e.left,e.top,e.left+e.width,e.top,e.left+e.width,e.top+e.height,e.left,e.top+e.height],n=parseFloat(t.marginLeft),i=parseFloat(t.marginTop),a=parseFloat(t.marginRight),o=parseFloat(t.marginBottom),s=parseFloat(t.borderLeftWidth),l=parseFloat(t.borderTopWidth),c=parseFloat(t.borderRightWidth),u=parseFloat(t.borderBottomWidth),d=parseFloat(t.paddingLeft),p=parseFloat(t.paddingTop),h=parseFloat(t.paddingRight),f=parseFloat(t.paddingBottom),g=[r[0]-n,r[1]-i,r[2]+a,r[3]-i,r[4]+o,r[5]+a,r[6]+o,r[7]-n],v=[r[0]+s,r[1]+l,r[2]-c,r[3]+l,r[4]-c,r[5]-u,r[6]+s,r[7]-u],m=[v[0]+d,v[1]+p,v[2]-h,v[3]+p,v[4]-h,v[5]-f,v[6]+d,v[7]-f];return{width:e.width,height:e.height,margin:g,border:r,padding:v,content:m}}class h9e{constructor(e,t={}){this._enabled=!1,this.tempId=new X6e(1),this._eventBus=new d9e,this.tree=e,this.highlight=t.highlight,e.addEventListener(((e,t)=>{this._eventBus.trigger(e,t)}))}get enabled(){return this._enabled}disable(){return _1e(this,void 0,void 0,(function*(){this.tree.disableObservation(),this._enabled=!1}))}emit({method:e,params:t}){this._eventBus.trigger(e.substring(4),t)}getGlassEaselNodeFromParams(e){return _1e(this,void 0,void 0,(function*(){var t,{nodeId:r,backendNodeId:n,objectId:i}=e;if(r||n)t=this.tree.getNodeById(r||n);else if(i){var a=yield this.requestNode({objectId:i});t=this.tree.getNodeById(a.nodeId)}return t||null}))}collectClassNamesFromSubtree(e){return _1e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}copyTo(e){return _1e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}describeNode(e){return _1e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}discardSearchResults(e){return _1e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}enable(){return _1e(this,void 0,void 0,(function*(){this.tree.enableObservation(),this._enabled=!0}))}focus(e){return _1e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}getAttributes(e){return _1e(this,void 0,void 0,(function*(){var{nodeId:t}=e,r=yield this.getGlassEaselNodeFromParams({nodeId:t});return r&&3===this.tree.getNodeType(r)?{attributes:this.tree.getAttributes(r)}:{attributes:[]}}))}getContentQuads(e){throw new Error("Method not implemented.")}getDocument(e){return _1e(this,void 0,void 0,(function*(){var{depth:t=2}=e;try{return{root:this.tree.getDocument({depth:t})}}catch(t){throw console.error(t),t}}))}getFlattenedDocument(e){throw new Error("Method not implemented.")}getNodesForSubtreeByStyle(e){throw new Error("Method not implemented.")}getOuterHTML(e){throw new Error("Method not implemented.")}getRelayoutBoundary(e){throw new Error("Method not implemented.")}getSearchResults(e){throw new Error("Method not implemented.")}highlightRect(){throw new Error("Method not implemented.")}markUndoableState(){throw new Error("Method not implemented.")}moveTo(e){throw new Error("Method not implemented.")}performSearch(e){throw new Error("Method not implemented.")}pushNodeByPathToFrontend(e){throw new Error("Method not implemented.")}pushNodesByBackendIdsToFrontend(e){return _1e(this,void 0,void 0,(function*(){var{backendNodeIds:t}=e;return{nodeIds:t}}))}redo(){throw new Error("Method not implemented.")}removeAttribute(e){return _1e(this,void 0,void 0,(function*(){var{nodeId:t,name:r}=e,n=yield this.getGlassEaselNodeFromParams(e);n&&this.tree.isElement(n)&&(this.tree.removeAttribute(n,r),this.emit({method:"DOM.attributeRemoved",params:{nodeId:t,name:r}}))}))}setAttributeValue(e){return _1e(this,void 0,void 0,(function*(){var{nodeId:t,name:r,value:n}=e,i=yield this.getGlassEaselNodeFromParams(e);i&&this.tree.isElement(i)&&(this.tree.setAttributeValue(i,r,n),this.emit({method:"DOM.attributeModified",params:{nodeId:t,name:r,value:n}}))}))}setAttributesAsText(e){return _1e(this,void 0,void 0,(function*(){var{name:t,nodeId:r,text:n}=e,i=yield this.getGlassEaselNodeFromParams(e);if(!i||!this.tree.isElement(i))throw new Error("invalid name");if(i){for(var a={},o=n.match(/(\w+)(-\w+)?\s*=\s*['"]([^"]*)['"]/g)||[],s=0,l=o.length;s<l;s++){var c=o[s].split("="),u=c[0].trim(),d=c[1]?c[1].trim().replace(/^"/,"").replace(/"$/,""):"true";a[u]=d,this.tree.getAttributeValue(i,u)!==d&&this.setAttributeValue({nodeId:r,name:u,value:d})}t&&!a[t]&&this.removeAttribute({nodeId:r,name:t})}}))}removeNode(e){return _1e(this,void 0,void 0,(function*(){var{nodeId:t}=e;this.tree.removeNode(t)}))}requestChildNodes(e){return _1e(this,void 0,void 0,(function*(){var{nodeId:t,depth:r=2,pierce:n}=e,i=this.tree.requestChildNodes(t,r);this.emit({method:"DOM.setChildNodes",params:{parentId:t,nodes:null!=i?i:[]}})}))}requestNode(e){return _1e(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}resolveNode(e){return _1e(this,void 0,void 0,(function*(){var t,{nodeId:r,backendNodeId:n}=e;if(!r&&!n)throw new Error("invalid nodeId or backendNodeId");for(t=`temp${this.tempId.id}`;Reflect.has(globalThis,t);t=`temp${this.tempId.id}`);var i=this.tree.getNodeById(null!=r?r:n);return Reflect.set(globalThis,t,i),console.log(`%cNode saved as ${t}. If it warns, just ignore :)`,"color: #ffbb33"),console.log(t,i),{}}))}setFileInputFiles(e){throw new Error("Method not implemented.")}setNodeStackTracesEnabled(e){throw new Error("Method not implemented.")}getNodeStackTraces(e){throw new Error("Method not implemented.")}getFileInfo(e){throw new Error("Method not implemented.")}setInspectedNode(e){return _1e(this,void 0,void 0,(function*(){var{nodeId:t}=e;this.tree.setInspectedNode(t)}))}setNodeName(e){throw new Error("Method not implemented.")}setNodeValue(e){return _1e(this,void 0,void 0,(function*(){var{value:t}=e,r=yield this.getGlassEaselNodeFromParams(e);r&&this.tree.isTextNode(r)&&1===this.tree.getNodeType(r)&&(r.textContent=t)}))}setOuterHTML(e){throw new Error("Method not implemented.")}undo(){throw new Error("Method not implemented.")}getFrameOwner(e){throw new Error("Method not implemented.")}getContainerForNode(e){throw new Error("Method not implemented.")}scrollIntoViewIfNeeded(e){var t,r;return _1e(this,void 0,void 0,(function*(){var{nodeId:n,backendNodeId:i,objectId:a,rect:o}=e,s=yield this.getGlassEaselNodeFromParams({nodeId:n,backendNodeId:i,objectId:a});null===(r=null===(t=null==s?void 0:s.$$)||void 0===t?void 0:t.scrollIntoView)||void 0===r||r.call(t)}))}getNodeForLocation(e){return _1e(this,void 0,void 0,(function*(){var t=this,{x:r,y:n}=e,i=this.tree.roots,a=function*(){var e=o.getBackendContext(),i=yield new Promise((t=>{var i;return null===(i=null==e?void 0:e.elementFromPoint)||void 0===i?void 0:i.call(e,r,n,t)})),a=i?t.tree.findLogicalParent(i.__wxElement):null;if(!a)return"continue";var s=t.tree.requestIdForNode(a);return{v:{nodeId:s,backendNodeId:s,frameId:"n/a"}}};for(var o of i){var s=yield*a();if("continue"!==s&&"object"==typeof s)return s.v}var l=this.tree.documentId;return{nodeId:l,backendNodeId:l,frameId:"n/a"}}))}hideHighlight(){var e;return _1e(this,void 0,void 0,(function*(){this.highlight&&(null===(e=this.highlight)||void 0===e||e.hide())}))}highlightNode(e){var t;return _1e(this,void 0,void 0,(function*(){if(this.highlight){var{nodeId:r,backendNodeId:n,objectId:i,selector:a,highlightConfig:o={}}=e||{},s=yield this.getGlassEaselNodeFromParams({nodeId:r,backendNodeId:n,objectId:i});if(s){if(a&&!this.tree.isTextNode(s)&&(s=s.querySelector(a)),!s)throw new Error("can not found node");null===(t=this.highlight)||void 0===t||t.show(s,o)}}}))}querySelector(e){return _1e(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e,n=yield this.getGlassEaselNodeFromParams({nodeId:t});if(!n||this.tree.isTextNode(n))return{nodeId:t};var i=-1;return n.querySelector(r)&&(i=this.tree.requestIdForNode(n)),{nodeId:i}}))}querySelectorAll(e){return _1e(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e,n=yield this.getGlassEaselNodeFromParams({nodeId:t});if(!n||this.tree.isTextNode(n))return{nodeIds:[]};var i=n.querySelectorAll(r),a=[];return(null==i?void 0:i.length)&&(a=i.map((e=>this.tree.requestIdForNode(e)))),{nodeIds:a}}))}getBoxModel(e){return _1e(this,void 0,void 0,(function*(){var t=yield this.getGlassEaselNodeFromParams(e),r=null==t?void 0:t.getBackendContext();if(!t||this.tree.isTextNode(t)||this.tree.isVirtual(t)||!r){var n=Array(8).fill(0);return{model:{width:0,height:0,content:n,padding:n,border:n,margin:n}}}var i=t.getBackendElement(),[a]=yield I1e(t,"getBoundingClientRect"),[{properties:o}]=yield R8e(r,"getAllComputedStyles",i),s={};for(var l of o)s[l.name]=l.value;return{model:p9e(a,{borderLeftWidth:s["border-left-width"]||"0",borderTopWidth:s["border-top-width"]||"0",borderRightWidth:s["border-right-width"]||"0",borderBottomWidth:s["border-bottom-width"]||"0",paddingLeft:s["padding-left"]||"0",paddingTop:s["padding-top"]||"0",paddingRight:s["padding-right"]||"0",paddingBottom:s["padding-bottom"]||"0",marginLeft:s["margin-left"]||"0",marginTop:s["margin-top"]||"0",marginRight:s["margin-right"]||"0",marginBottom:s["margin-bottom"]||"0"})}}))}on(e,t){this._eventBus.on(e,t)}onEvery(e){this._eventBus.onEvery(e)}}class f9e extends h9e{constructor(e,t){var r;super(e,t),this.skylineEngine=null===(r=t.getSkylineEngine)||void 0===r?void 0:r.call(t)}enable(){var e=Object.create(null,{enable:{get:()=>super.enable}});return _1e(this,void 0,void 0,(function*(){yield e.enable.call(this),this.skylineContext=this.skylineEngine.getRuntime().allContexts[1]}))}scrollIntoViewIfNeeded(e){var t;return _1e(this,void 0,void 0,(function*(){var{nodeId:r,backendNodeId:n,objectId:i,rect:a}=e,o=yield this.getGlassEaselNodeFromParams({nodeId:r,backendNodeId:n,objectId:i});null===(t=null==o?void 0:o.$$)||void 0===t||t.setScrollPosition({scrollLeft:0,scrollTop:10})}))}getNodeForLocation(e){var t;return _1e(this,void 0,void 0,(function*(){var{x:r,y:n}=e;if(!(null===(t=this.skylineContext)||void 0===t?void 0:t.getNodeFromPoint))throw new Error("Method getNodeFromPoint not implemented.");var i=(yield k1e(this.skylineContext.getNodeFromPoint)([r,n])).__wxElement;if(!i)throw new Error("");var a=this.tree.requestIdForNode(i);return{nodeId:a,backendNodeId:a,frameId:"n/a"}}))}hideHighlight(){return _1e(this,void 0,void 0,(function*(){this.highlight&&this.highlight.hide()}))}highlightNode(e){return _1e(this,void 0,void 0,(function*(){if(this.highlight){var{nodeId:t,backendNodeId:r,objectId:n,selector:i,highlightConfig:a={}}=e||{},o=yield this.getGlassEaselNodeFromParams({nodeId:t,backendNodeId:r,objectId:n});if(!o)throw new Error("can not found node");this.highlight.show(o,a)}}))}querySelector(e){return _1e(this,void 0,void 0,(function*(){var{nodeId:t,selector:r}=e;return yield this.getGlassEaselNodeFromParams({nodeId:t}),{nodeId:1e3}}))}querySelectorAll(e){return _1e(this,void 0,void 0,(function*(){return{nodeIds:[]}}))}getBoxModel(e){return _1e(this,void 0,void 0,(function*(){console.log("getBoxModel",e);var t=yield this.getGlassEaselNodeFromParams(e),r=null==t?void 0:t.getBackendContext();if(!t||this.tree.isTextNode(t)||this.tree.isVirtual(t)||!r){var n=Array(8).fill(0);return{model:{width:0,height:0,content:n,padding:n,border:n,margin:n}}}var i=t.getBackendElement(),[a]=yield I1e(t,"getBoundingClientRect"),[o]=yield I1e(r,"getComputedStyle",i);return{model:p9e(a,o)}}))}}var g9e="#text",v9e=new Set(["class","is"]);class m9e{constructor({exparser:t,roots:r,isInnerComponent:n,hideVirtual:i=!0,hideInternelAttrs:a=!0,readAttrFromBackendElement:o=!1}){var s;this.name="mini-app",this.nodeId=new e(4),this.inspectedId=new e(0),this.nodeIdMap=new WeakMap,this.idNodeMap=new Map,this._listeners=[],this.sentNodeIdSet=new Set,this.exparser=t(),this._roots=r,this.options={isInnerComponent:n,hideVirtual:i,hideInternelAttrs:a,readAttrFromBackendElement:o},this.document={nodeId:1,backendNodeId:1,childNodeCount:1,children:[],nodeType:9,nodeName:"#document"};var l=this.documentType={parentId:1,nodeId:2,backendNodeId:2,nodeType:10,nodeName:this.name};null===(s=this.document.children)||void 0===s||s.push(l)}get inspectedNode(){return this._inspectedNode}get roots(){return this._roots}get documentId(){return this.document.nodeId}setMode(e){}enableObservation(){}disableObservation(){}emitter({method:e,params:t}){this._listeners.forEach((r=>{r(e.substring(4),t)}))}insertRoot(e){var t;if(!this._roots.includes(e)){this._roots.push(e);var r=this._roots[this._roots.length-2],n=this.document.nodeId,i=null!==(t=this.nodeIdMap.get(r))&&void 0!==t?t:this.documentType.nodeId,a=this.domify({node:e,parentId:n});if(a){var o=Array.isArray(a)?a:[a];for(var s of o)this.emitter({method:"DOM.childNodeInserted",params:{previousNodeId:i,parentNodeId:n,node:s}}),i=s.nodeId;this.emitter({method:"DOM.childNodeCountUpdated",params:{nodeId:this.document.nodeId,childNodeCount:this._roots.length+1}})}}}removeRoot(e){var t,r;if(this._roots.includes(e)){this._roots=this._roots.filter((t=>t!==e));var n=null!==(t=this.nodeIdMap.get(e))&&void 0!==t?t:-1,i=this.document.nodeId,{observer:a}=null!==(r=this.idNodeMap.get(n))&&void 0!==r?r:{};this.nodeIdMap.delete(e),this.idNodeMap.delete(n),this.sentNodeIdSet.delete(n),null==a||a.disconnect(),this.emitter({method:"DOM.childNodeRemoved",params:{parentNodeId:i,nodeId:n}}),this.emitter({method:"DOM.childNodeCountUpdated",params:{nodeId:this.document.nodeId,childNodeCount:this._roots.length+1}})}}getExparser(e){return this.exparser}isAlreadySent(e){return this.sentNodeIdSet.has(e)}addToMap(e,t){this.nodeIdMap.set(e,t),this.idNodeMap.set(t,{node:new WeakRef(e)}),e.setAttribute&&e.setAttribute("wx:nodeid",t)}removeNode(e){var t,r=this.getNodeById(e);r&&!this._roots.includes(r)&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r),this.nodeIdMap.delete(r),this.idNodeMap.delete(e))}getNodeById(e){var t,r;return null===(r=null===(t=this.idNodeMap.get(e))||void 0===t?void 0:t.node)||void 0===r?void 0:r.deref()}getCachedCDPNode(e){var t;return null===(t=this.idNodeMap.get(e))||void 0===t?void 0:t.cdpCache}requestIdForNode(e,t=!0){var r=this.nodeIdMap.get(e);return!r&&t&&(r=this.nodeId.id,this.addToMap(e,r)),r}isWxComponent(e){var t,r;return this.isNamedNode(e)&&"string"==typeof(null===(r=(t=this.options).isInnerComponent)||void 0===r?void 0:r.call(t,e))}isInnerComponent(e){var t,r,n;return this.isElement(e)&&null!==(n=null===(r=(t=this.options).isInnerComponent)||void 0===r?void 0:r.call(t,e))&&void 0!==n?n:null}isElement(e){return e instanceof this.getExparser(e).Element}isNativeNode(e){return e instanceof this.getExparser(e).NativeNode}isTextNode(e){return e instanceof this.getExparser(e).TextNode}isGeneralComponent(e){return e instanceof this.getExparser(e).Component}isNamedNode(e){return"is"in e}getNodeType(e){if(!e)return 0;var t=this.getExparser(e);return e instanceof t.TextNode?1:e instanceof t.ShadowRoot?6:e instanceof t.VirtualNode?2:e instanceof t.Component?3:e instanceof t.NativeNode?4:e instanceof t.Element?5:0}getNodeName(e){var t;if(1===this.getNodeType(e))return"";var r=null!==(t=e.is)&&void 0!==t?t:"";return this.isWxComponent(e)?r.slice(3):r}getSlotName(e){return e.__slotName}getChildren(e){var t=[],r=this.getNodeType(e);if(void 0!==this.getSlotName(e))t.push(...this.getComposedChildren(e));else if(3===r){if(!this.isWxComponent(e)){var n=e.shadowRoot;6===this.getNodeType(n)&&t.push(n)}t.push(...e.childNodes)}else(4===r||6===r||2===r&&["virtual","wx:if","wx:for","wx:for-item","wx:else"].includes(e.is))&&t.push(...e.childNodes);return t}domify({node:e,nodeId:t,currentDepth:r=1,depth:n=1,parentId:i,env:a={}}={}){if(!e&&!t)return null;if(e?this.nodeIdMap.has(e)||(t=this.nodeId.id,this.addToMap(e,t)):e=this.getNodeById(t),!e)return null;t||(t=this.nodeIdMap.get(e));var o=this.getNodeType(e),s={type:o};if(3!==o&&4!==o||this.observeNode({nodeId:t}),1===o)return this.sentNodeIdSet.add(t),{nodeId:t,parentId:i,backendNodeId:t,nodeType:3,nodeName:g9e,localName:g9e,nodeValue:e.textContent};var l=e;s.parentId=i,s.nodeId=s.backendNodeId=t,6===o?(s.nodeType=11,s.nodeName=s.localName="#shadow-root"):(s.nodeType=1,s.nodeName=s.localName=this.getNodeName(e));var c=this.getChildren(l),u=[],d=this.getSlotName(e);if(this.options.hideVirtual&&2===o&&void 0===d)return c.forEach(((e,t)=>{var a=this.domify({node:e,depth:n,currentDepth:r,parentId:i});a&&(Array.isArray(a)?u.push(...a):u.push(a))})),u;if(r<=n||-1===n){var p=this.idNodeMap.get(t);p&&(p.cdpCache=s),this.sentNodeIdSet.add(t),c.forEach(((e,t)=>{var i=this.domify({node:e,depth:n,currentDepth:r+1,parentId:s.nodeId});i&&(Array.isArray(i)?u.push(...i):u.push(i))})),void 0!==d?(s.distributedNodes=u.map((e=>({backendNodeId:e.backendNodeId,nodeName:e.nodeName,nodeType:e.nodeType}))),s.childNodeCount=0,s.nodeName="SLOT",d.length>0&&(s.attributes=["name",d])):(s.children=r!==n&&u.length?u:void 0,s.childNodeCount=u.length)}var h=this.getAttributes(l);return h.length&&(Array.isArray(s.attributes)?s.attributes.push(...h):s.attributes=h),s}getAttributes(e){this.spreadScopeData();var r=[];if(!this.isElement(e)&&!this.isNativeNode(e))return r;e.id&&r.push("id",e.id),e.slot&&r.push("slot",e.slot);var n=t(e);n&&r.push("class",n.join(" "));var i=this.getAttributeValue(e,"style");if(i&&r.push("style",String(i)),this.options.readAttrFromBackendElement)e.$$&&"attributes"in e.$$&&Object.values(e.$$.attributes).forEach((e=>{var t;this.checkAttr(e.name)&&r.push(e.name,null!==(t=e.textContent)&&void 0!==t?t:"")}));else if(e.attributes)for(var{name:a,value:o}of e.attributes)a&&this.checkAttr(a)&&r.push(a,o?String(o):"");var s=Reflect.get(e,"__listenerMap__");s&&Object.entries(s).forEach((e=>r.push(...e)));for(var l=0;l<r.length;++l)"function"==typeof r[l]&&(r[l]=r[l].name);return r}checkAttr(e){var t=v9e.has(e),r=this.options.hideInternelAttrs&&/^(wx|exparser):/.test(e);return!t&&!r}removeAttribute(e,t){var r;"id"===t?e.id="":"slot"===t?e.slot="":"class"===t?null===(r=e.classList)||void 0===r||r.setClassNames(""):"style"===t?e.setNodeStyle(""):e.removeAttribute(t)}getAttributeValue(e,t){var r,n,i;return"id"===t?e.id:"slot"===t?e.slot:"class"===t?null!==(n=null===(r=e.classList)||void 0===r?void 0:r.getClassNames())&&void 0!==n?n:"":"style"===t?(null===(i=e.$$)||void 0===i?void 0:i.getAttribute("style"))||"":String(e.getAttribute(t))}setAttributeValue(e,t,r){var n;return"id"===t?e.id=r:"slot"===t?e.slot=r:"class"===t?null===(n=e.classList)||void 0===n||n.setClassNames(r):"style"===t?e.setNodeStyle(r):e.setAttribute(t,r),!0}getPublicProperties(e){var t=[];return this.isGeneralComponent(e)?(this.exparser.Component.listPublicProperties(e).forEach((r=>{t.push([r,e.data[r]])})),t):t}setInspectedNode(e){return this._inspectedNode=this.getNodeById(e),this._inspectedNode?e:null}getInspectedNode(){return this._inspectedNode}setInspectedNodeForExparser(e){var t,{node:r,variableName:n}=null!==(t=this.idNodeMap.get(e))&&void 0!==t?t:{},i=null==r?void 0:r.deref();if(!i)return null;var a=n;if(!a){for(a=`$$${this.inspectedId.id}`;Reflect.has(globalThis,a);)a=`$$${this.inspectedId.id}`;var o=this.idNodeMap.get(e);o&&(o.variableName=a)}return Reflect.set(globalThis,a,i),a}isVirtual(e){var t=this.getNodeType(e);return 2===t||6===t||3===t&&e.__componentOptions.virtualHost}isGenericVirtual(e){return e instanceof this.getExparser(e).VirtualNode}isShadowRoot(e){return 6===this.getNodeType(e)}findNearestNonVirtualAncestor(e){for(var t=e.parentNode;t&&this.isVirtual(t);)t=t.parentNode;return t}findLogicalParent(e){return this.options.hideVirtual?this.findNearestNonVirtualAncestor(e):6===this.getNodeType(e)?e.getComposedParent():e.parentNode}getParent(e){return 6===this.getNodeType(e)?e.getComposedParent():e.parentNode}getComposedParent(e){return e.getComposedParent?e.getComposedParent():e.__wxSlotParent}getComposedChildren(e){return e.getComposedChildren?e.getComposedChildren():e.__wxSlotChildren.slice()}getSibling(e,t="prev"){var{hideVirtual:r}=this.options,n=this.getParent(e);if(!n)return null;var i,a=this.getChildren(n),o=Array.prototype.indexOf.call(a,e);if(a.length<2||o<0||"next"===t&&o===a.length-1||"prev"===t&&0===o)return r&&this.isVirtual(n)?this.getSibling(n,t):null;if("prev"===t)for(i=a[o-1];i&&r&&this.isVirtual(i);){var s=this.getChildren(i);i=s[s.length-1]}else for(i=a[o+1];i&&r&&this.isVirtual(i);)i=this.getChildren(i)[0];return null!=i?i:null}observeNode({nodeId:e=-1}){var t,r,{node:n,observer:i}=null!==(t=this.idNodeMap.get(e))&&void 0!==t?t:{},a=null==n?void 0:n.deref();if(a){if(i)return i.disconnect;var o=this.getExparser(a);return o||console.warn("exparser not found",{exparser:o,node:a,nodeId:e}),i=null==o?void 0:o.Observer.create((e=>{var t,r,n,i,a,o,s,l,c,u,d,p,h,f,g;if(e.target){var v=e.target,m=this.requestIdForNode(v);switch(e.type){case"characterData":var y=v.textContent;this.emitter({method:"DOM.characterDataModified",params:{nodeId:m,characterData:y}});break;case"properties":var b=null!==(r=null!==(t=e.propertyName)&&void 0!==t?t:e.attributeName)&&void 0!==r?r:"",_=["id","class","style"].includes(b)?this.getAttributeValue(v,b):null!==(a=null!==(n=v[b])&&void 0!==n?n:null===(i=v.data)||void 0===i?void 0:i[b])&&void 0!==a?a:null===(o=v.dataset)||void 0===o?void 0:o[b];void 0!==_?this.emitter({method:"DOM.attributeModified",params:{nodeId:m,name:b,value:_}}):this.emitter({method:"DOM.attributeRemoved",params:{nodeId:m,name:b}});break;case"childList":var w=this.findLogicalParent(v),S=w&&null!==(s=this.nodeIdMap.get(w))&&void 0!==s?s:-1,{cdpCache:C}=null!==(l=this.idNodeMap.get(S))&&void 0!==l?l:{},k=null!==(c=null==C?void 0:C.childNodeCount)&&void 0!==c?c:0;if(e.removedNodes)for(var I of(k-=e.removedNodes.length,e.removedNodes)){var P=null!==(u=this.nodeIdMap.get(I))&&void 0!==u?u:-1,{observer:T}=null!==(d=this.idNodeMap.get(P))&&void 0!==d?d:{};this.emitter({method:"DOM.childNodeRemoved",params:{parentNodeId:S,nodeId:P}}),this.nodeIdMap.delete(I),this.idNodeMap.delete(P),null==T||T.disconnect()}if(e.addedNodes)for(var A of(k+=e.addedNodes.length,e.addedNodes)){var x=this.findLogicalParent(A),E=x&&null!==(p=this.nodeIdMap.get(x))&&void 0!==p?p:-1,M=this.getSibling(A),R=M&&null!==(h=this.nodeIdMap.get(M))&&void 0!==h?h:-1,D=this.domify({node:A,parentId:E});if(!D)break;var O=Array.isArray(D)?D:[D];for(var L of O)null===(f=this.emitter)||void 0===f||f.call(this,{method:"DOM.childNodeInserted",params:{parentNodeId:E,previousNodeId:R,node:L}}),R=L.nodeId;if(x){var N=this.domify({node:x,depth:1});if(!N||Array.isArray(N))break;k!==(null==C?void 0:C.childNodeCount)&&this.emitter({method:"DOM.childNodeCountUpdated",params:{nodeId:E,childNodeCount:null!==(g=N.childNodeCount)&&void 0!==g?g:0}})}}}}})),null==i||i.observe(a,{properties:!0,childList:!0,characterData:!0,subtree:!0}),this.idNodeMap.set(e,{node:new WeakRef(a),observer:i}),null!==(r=null==i?void 0:i.disconnect)&&void 0!==r?r:()=>{}}}getDocument({depth:e}={}){if(!this._roots.length)return this.document;this.sentNodeIdSet.clear();var t=this._roots.flatMap((t=>this.domify({node:t,depth:e,parentId:this.document.nodeId})||[]));return this.document.children=[this.documentType,...t],this.document.childNodeCount=this.document.children.length,this.document}requestChildNodes(e,t){var r,n=this.requestNode(e,t);return n?null!==(r=n.children)&&void 0!==r?r:[]:null}requestNode(e,t){if(1===e)return this.getDocument({depth:t});var r=this.domify({depth:t,nodeId:e});return!r||Array.isArray(r)?null:r}addEventListener(e){this._listeners.push(e)}removeEventListener(e){this._listeners.splice(this._listeners.indexOf(e),1)}spreadScopeData(){var e;null===(e=this.virtualDOM)||void 0===e||e.spreadScopeDataToDOMNode()}elementFromPoint(e,t){var r;if(!(null===document||void 0===document?void 0:document.elementFromPoint))throw new Error("Method not implemented.");return null===(r=document.elementFromPoint(e,t))||void 0===r?void 0:r.__wxElement}getNodeFromCDPParams({nodeId:e,backendNodeId:t,objectId:r}){var n;return(e||t)&&(n=this.getNodeById(e||t)),n||null}}var y9e="#text",b9e="#document",_9e="#shadow-root";class w9e{constructor(e,t,r={}){var n;this.name="miniprogram",this.nodeId=new X6e(1),this.inspectedId=new X6e(1),this.nodeIdMap=new Map,this.idNodeMap=new Map,this._documentSend=!1,this._listeners=[],this._nodeObserversMap=new Map,this._enableObservation=!1,this.sentNodeIdSet=new Set,this.sentChildNodeIdSet=new Set,this.emitCDPMessage=(e,t)=>{this._listeners.forEach((r=>r(e,t)))},this.glassEasel=e,this._roots=t,this.options=r,this._mode=null!==(n=r.mode)&&void 0!==n?n:$8e.SHADOW_SKIP_VIRTUAL;var i=this.nodeId.generate();this.document={nodeId:i,backendNodeId:i,childNodeCount:1,children:[],nodeType:9,nodeName:b9e,localName:b9e,nodeValue:""};var a=this.nodeId.generate();this.documentType={parentId:i,nodeId:a,backendNodeId:a,nodeType:10,nodeName:this.name,localName:this.name,nodeValue:"",attributes:["mode",this.getMode()]},this.document.children.push(this.documentType)}getMode(){return this._mode}setMode(e){this._mode!==e&&(this._mode=e,this.resetDocument())}get inspectedNode(){return this._inspectedNode}get roots(){return this._roots}get documentId(){return this.document.nodeId}isInnerComponent(e){return this.options.isInnerComponent&&this.isElement(e)?this.options.isInnerComponent(e):null}enableObservation(){this._enableObservation||(this._enableObservation=!0,this._reset(),this._roots.forEach((e=>this._observeTree(e))))}disableObservation(){this._enableObservation&&(this._enableObservation=!1,this._reset())}insertRoot(e){if(!this._roots.includes(e)){var t=this._roots[this._roots.length-1];if(this._roots.push(e),this._enableObservation&&(this._observeTree(e),this._documentSend)){var r=this.document.nodeId,n=t?this.nodeIdMap.get(t):0;this.emitCDPMessage("childNodeInserted",{parentNodeId:r,previousNodeId:n,node:this._getCDPNode(e,r,0)})}}}removeRoot(e){if(this._roots.includes(e)&&(this._roots.splice(this._roots.indexOf(e),1),this._enableObservation&&(this._unobserveTree(e),this._documentSend))){var t=this.document.nodeId,r=e?this.nodeIdMap.get(e):0;this.emitCDPMessage("childNodeRemoved",{parentNodeId:t,nodeId:r})}}isAlreadySent(e){return this.sentNodeIdSet.has(e)}isChildNodeAlreadySent(e){return this.sentChildNodeIdSet.has(e)}addEventListener(e){this._listeners.push(e)}removeEventListener(e){this._listeners.splice(this._listeners.indexOf(e),1)}addToMap(e,t){this.nodeIdMap.set(e,t),this.idNodeMap.set(t,e)}removeNode(e){var t,r=this.getNodeById(e);r&&!this._roots.includes(r)&&(null===(t=r.parentNode)||void 0===t||t.removeChild(r),this.nodeIdMap.delete(r),this.idNodeMap.delete(e))}getNodeById(e){return this.idNodeMap.get(e)}requestIdForNode(e,t=!0){var r=this.nodeIdMap.get(e);return!r&&t&&(r=this.nodeId.generate(),this.addToMap(e,r)),r}isElement(e){return this.glassEasel.Element.isElement?this.glassEasel.Element.isElement(e):e instanceof this.glassEasel.Element}isNativeNode(e){return this.glassEasel.NativeNode.isNativeNode?this.glassEasel.NativeNode.isNativeNode(e):e instanceof this.glassEasel.NativeNode}isTextNode(e){return this.glassEasel.TextNode.isTextNode?this.glassEasel.TextNode.isTextNode(e):e instanceof this.glassEasel.TextNode}isGeneralComponent(e){return this.glassEasel.Component.isComponent?this.glassEasel.Component.isComponent(e):e instanceof this.glassEasel.Component}isShadowRoot(e){return this.glassEasel.ShadowRoot.isShadowRoot?this.glassEasel.ShadowRoot.isShadowRoot(e):e instanceof this.glassEasel.ShadowRoot}isVirtualNode(e){return this.glassEasel.VirtualNode.isVirtualNode?this.glassEasel.VirtualNode.isVirtualNode(e):e instanceof this.glassEasel.VirtualNode}isVirtual(e){return this.isVirtualNode(e)||this.isGeneralComponent(e)&&e.isVirtual()}isSlotNode(e){return this.isElement(e)&&void 0!==this.glassEasel.Element.getSlotName(e)}isNamedNode(e){return this.isElement(e)}getNodeType(e){return e?this.isTextNode(e)?1:this.isShadowRoot(e)?6:this.isVirtualNode(e)?2:this.isGeneralComponent(e)?3:this.isNativeNode(e)?4:this.isElement(e)?5:0:0}_getNodeType(e){return this.isTextNode(e)?3:this.isShadowRoot(e)?11:1}getNodeName(e){if(this.isTextNode(e))return y9e;if(this.isShadowRoot(e))return _9e;if(this.isSlotNode(e))return"SLOT";var t=this.isInnerComponent(e);return null!==t?t:this.isNamedNode(e)?e.is:""}getNodeLocalName(e){return this.isTextNode(e)?y9e:this.isShadowRoot(e)?_9e:this.isNamedNode(e)?e.is:""}getSlotName(e){return this.glassEasel.Element.getSlotName(e)}shouldSkipVirtual(e){return!(!this.isVirtualNode(e)||this.isShadowRoot(e)||void 0!==this.getSlotName(e))}getChildren(e){var t;if(this.isTextNode(e))return[];var r=null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode();if(r&&null!==this.isInnerComponent(r))return[];var n=null!==this.isInnerComponent(e);if(this.getMode()===$8e.COMPOSED){var i=[];if(n)for(var a=e=>{if(this.isVirtual(e))for(var t=e.childNodes,r=0,n=t.length;r<n;r+=1)a(t[r]);else i.push(e)},o=e.childNodes,s=0,l=o.length;s<l;s+=1)a(o[s]);else e.forEachNonVirtualComposedChild((e=>{i.push(e)}));return i}var c=[];this.isGeneralComponent(e)&&!n&&e.getShadowRoot()&&c.push(e.getShadowRoot());for(var u=0;u<e.childNodes.length;u+=1){var d=e.childNodes[u];this.getMode()===$8e.SHADOW_SKIP_VIRTUAL&&this.shouldSkipVirtual(d)?c.push(...this.getChildren(d)):c.push(d)}return c}getParent(e){var t,r=null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode();if(r&&null!==this.isInnerComponent(r))return null;if(this.getMode()===$8e.COMPOSED){for(var n=this.isVirtual(e)?null:e.getComposedParent();n&&this.isVirtual(n);)n=n.getComposedParent();return n}var i=this.shouldSkipVirtual(e)?null:this.isShadowRoot(e)?e.getHostNode():e.parentNode;if(this.getMode()===$8e.SHADOW_SKIP_VIRTUAL)for(;i&&this.shouldSkipVirtual(i);)i=this.isShadowRoot(i)?i.getHostNode():i.parentNode;return i}findLogicalParent(e){var t,r=null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode();if(r&&null!==this.isInnerComponent(r))return this.findLogicalParent(r);if(this.getMode()===$8e.COMPOSED){for(var n=e;n&&this.isVirtual(n);)n=n.getComposedParent();return n}var i=e;if(this.getMode()===$8e.SHADOW_SKIP_VIRTUAL)for(;i&&this.shouldSkipVirtual(i);)i=this.isShadowRoot(i)?i.getHostNode():i.parentNode;return i}findLogicalChildren(e){var t;if(this.isTextNode(e))return[e];var r=null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode();return r&&null!==this.isInnerComponent(r)?[]:this.getMode()===$8e.COMPOSED&&this.isVirtual(e)||this.getMode()===$8e.SHADOW_SKIP_VIRTUAL&&this.shouldSkipVirtual(e)?this.getChildren(e):[e]}_observeTree(e){this.glassEasel.ElementIterator.create(e,"shadow-descendants-root-first").forEach((e=>{if(this.isGeneralComponent(e)){var t=e.getShadowRoot();t&&(this._observeElement(t),this._observeTree(t))}}))}_unobserveTree(e){this.glassEasel.ElementIterator.create(e,"shadow-descendants-root-first",Object).forEach((e=>{if(this.isGeneralComponent(e)){var t=e.getShadowRoot();t&&this._unobserveTree(t)}var r=this._nodeObserversMap.get(e);r&&(r.disconnect(),this._nodeObserversMap.delete(e));var n=this.nodeIdMap.get(e);void 0!==n&&(this.nodeIdMap.delete(e),this.idNodeMap.delete(n))}))}_disconnectAllObservers(){this._nodeObserversMap.forEach(((e,t)=>{e.disconnect(),this._nodeObserversMap.delete(t)}))}_observeElement(e){if(!this._nodeObserversMap.has(e)){var t=this.glassEasel.Observer.create((e=>{switch(e.type){case"characterData":var{target:t}=e,r=this.requestIdForNode(t,!1);if(!r||!this.isAlreadySent(r))return;this.emitCDPMessage("characterDataModified",{nodeId:r,characterData:t.textContent});break;case"properties":var{attributeName:n,target:i}=e;if(void 0===n)return;var a=this.requestIdForNode(i,!1);if(!a||!this.isAlreadySent(a))return;var o=this.getAttributeValue(i,n);void 0!==o?this.emitCDPMessage("attributeModified",{nodeId:a,name:n,value:String(o)}):this.emitCDPMessage("attributeRemoved",{nodeId:a,name:n});break;case"childList":var{target:s,removedNodes:l,addedNodes:c}=e;null==l||l.forEach((e=>{this._unobserveTree(e)})),null==c||c.forEach((e=>{this.isElement(e)&&this._observeTree(e)}));var u=this.findLogicalParent(s);if(!u)return;var d=this.requestIdForNode(s,!1);if(!d||!this.isAlreadySent(d))return;var p=this.isChildNodeAlreadySent(d),h=this.getChildren(u).length;null==l||l.forEach((e=>{p&&this.findLogicalChildren(e).forEach((e=>{var t=this.requestIdForNode(e,!1);t&&this.isAlreadySent(t)?this.emitCDPMessage("childNodeRemoved",{parentNodeId:d,nodeId:t}):console.error("unknown removedNode",this.glassEasel.dumpSingleElementToString(e))}))})),null==c||c.forEach((e=>{p&&this.findLogicalChildren(e).forEach((e=>{var t,r=this.findLogicalPrevSibling(e),n=r?this.nodeIdMap.get(r):0,i=this._getCDPNode(e,d,null!==(t=this.options.childInsertedSendDepth)&&void 0!==t?t:0);this.emitCDPMessage("childNodeInserted",{parentNodeId:d,previousNodeId:n,node:i})}))})),p||this.emitCDPMessage("childNodeCountUpdated",{nodeId:d,childNodeCount:h})}}));t.observe(e,{properties:!0,childList:!0,characterData:!0,subtree:!0}),this._nodeObserversMap.set(e,t)}}_getCDPNode(e,t,r){var n=this.requestIdForNode(e);if(this.sentNodeIdSet.add(n),this.isTextNode(e))return{nodeId:n,parentId:t,backendNodeId:n,nodeType:3,nodeName:y9e,localName:y9e,nodeValue:e.textContent};var i,a=this.isShadowRoot(e)?11:1,o=this.getNodeName(e),s=this.getNodeLocalName(e),l=this.getChildren(e);if(this.isSlotNode(e)){i=[];var c=e=>{if(this.getMode()===$8e.SHADOW_SKIP_VIRTUAL&&this.shouldSkipVirtual(e))e.childNodes.forEach(c);else{var t=this.requestIdForNode(e),r=this._getNodeType(e),n=this.getNodeName(e);i.push({backendNodeId:t,nodeType:r,nodeName:n})}};e.getComposedChildren().forEach(c)}var u=this.getAttributes(e).flat(),d=0!==r;return d&&this.sentChildNodeIdSet.add(n),{nodeId:n,backendNodeId:n,parentId:t,nodeType:a,nodeName:o,localName:s,childNodeCount:l.length,children:d?l.map((e=>this._getCDPNode(e,n,r-1))):void 0,distributedNodes:i,attributes:u,nodeValue:""}}getAttributes(e){var t=[];if(!this.isElement(e))return t;var r=e.id;r&&t.push("id",r);var n=e.class;n&&t.push("class",n);var i=e.style;i&&t.push("style",String(i)),e.slot&&t.push("slot",e.slot);var a=this.getSlotName(e);a&&t.push("name",a);var o=e.attributes;if(o)for(var s=0;s<o.length;s+=1){var l=o[s];t.push(l.name,String(l.value))}var c=e.dataset;if(c&&Object.entries(c).forEach((([e,r])=>{t.push(`data-${e}`,String(r))})),this.isInnerComponent(e)&&this.isGeneralComponent(e)){((e=>{var t=e;return t._$wxTmplDevArgs=t._$wxTmplDevArgs||{}})(e).A||[]).forEach((r=>{r.indexOf(":")>-1||t.push(r,String(e.data[r]))}))}return t}removeAttribute(e,t){"id"===t?e.id="":"slot"===t?e.slot="":"class"===t?e.class="":"style"===t?e.style="":"name"===t?this.glassEasel.Element.setSlotName(e,void 0):t.startsWith("data-")?e.setDataset(t.slice(5),void 0):e.removeAttribute(t)}getAttributeValue(e,t){return"id"===t?e.id:"slot"===t?e.slot:"class"===t?e.class:"style"===t?e.style:"name"===t?this.getSlotName(e)||"":t.startsWith("data-")?String(e.dataset[t.slice(5)]):String(e.getAttribute(t))}setAttributeValue(e,t,r){"id"===t?e.id=String(r):"slot"===t?e.slot=String(r):"class"===t?e.class=String(r):"style"===t?e.style=String(r):"name"===t?this.glassEasel.Element.setSlotName(e,String(r)):t.startsWith("data-")?e.setDataset(t.slice(5),r):e.setAttribute(t,r)}getPublicProperties(e){var t=[];return this.isGeneralComponent(e)?(this.glassEasel.Component.listProperties(e).forEach((r=>{t.push([r,e.data[r]])})),t):t}setInspectedNode(e){return this._inspectedNode=this.getNodeById(e),this._inspectedNode?e:null}getInspectedNode(){return this._inspectedNode}findLogicalPrevSibling(e){var t=this.getParent(e);if(!t)return null;var r=this.getChildren(t),n=r.indexOf(e);return n>=0?r[n]:null}_reset(){this._disconnectAllObservers(),this.sentNodeIdSet.clear(),this.sentChildNodeIdSet.clear(),this._documentSend=!1,this._enableObservation&&this._roots.forEach((e=>this._observeTree(e)))}resetDocument(){this._reset(),this.emitCDPMessage("documentUpdated",void 0)}getDocument({depth:e=2}={}){return this.document.children=[this.documentType,...this._roots.map((t=>this._getCDPNode(t,this.document.nodeId,e-1)))],this.document.childNodeCount=this.document.children.length,this._documentSend=!0,this.document}requestNode(e,t){var r=this.getNodeById(e);if(!r)return e===this.document.nodeId?this.document:e===this.documentType.nodeId?this.documentType:null;var n=this._roots.includes(r)?this.document.nodeId:this.requestIdForNode(this.getParent(r),!1);return this._getCDPNode(r,n,t)}requestChildNodes(e,t){var r=this.requestNode(e,t);return r?r.children:null}getSingleNodeHTML(e,t){if(this.isTextNode(e))return e.textContent;var r=this.getNodeName(e),n=this.getAttributes(e);return`<${r}${n?` ${n.map((([e,t])=>`${e}="${t}"`)).join(" ")}`:""}>${t?t():""}</${r}>`}getOuterHTML(e){var t=this.isElement(e)?this.getChildren(e).filter((e=>!this.isShadowRoot(e))):[];return this.getSingleNodeHTML(e,(()=>t.map((e=>this.getOuterHTML(e))).join("")))}elementFromPoint(e,t){return _1e(this,void 0,void 0,(function*(){var r=this,n=this.roots,i=function*(){for(var n=a.getBackendContext(),i=yield new Promise((r=>{var i;return null===(i=null==n?void 0:n.elementFromPoint)||void 0===i?void 0:i.call(n,e,t,r)})),o=i?r.findLogicalParent(i):null;o&&(r.isTextNode(o)||o.isVirtual());)o=r.getParent(o);if(o)return{v:o}};for(var a of n){var o=yield*i();if("object"==typeof o)return o.v}return null}))}getNodeFromCDPParams({nodeId:e,backendNodeId:t,objectId:r}){var n;return(e||t)&&(n=this.getNodeById(e||t)),n||null}}class S9e extends(null){constructor(t,r){super(),this.tree=t,this.highlight=r,this.handleClickEvents=e=>{e.preventDefault();var{x:t,y:r}=e,n=this.hitTest(t,r);if(n){var i=this.tree.requestIdForNode(n);this._eventBus.trigger("inspectNodeRequested",{backendNodeId:i})}return!1},this.handleMouseMoveEvents=i((t=>e(this,void 0,void 0,(function*(){var{x:e,y:r}=t,n=this.hitTest(e,r);if(n){var i=this.tree.requestIdForNode(n);this._eventBus.trigger("nodeHighlightRequested",{nodeId:i}),this.highlight.show(n,this.highlightConfig)}}))),50),this.handleMouseOutEvents=i((t=>e(this,void 0,void 0,(function*(){this.highlight.hide()}))),50)}hitTest(e,t){document.body.style.pointerEvents="";for(var r=document.elementFromPoint(e,t);r&&!r.__wxElement;)r=r.parentElement;for(var n=r?this.tree.findLogicalParent(r.__wxElement):null;n&&(this.tree.isTextNode(n)||this.tree.isVirtual(n));)n=this.tree.getParent(n);return document.body.style.pointerEvents="none",n}handleMouseDownEvents(e){document.body.dispatchEvent(new CustomEvent("touchcancel"))}startInspect(e){document.body.style.pointerEvents="none",this.highlightConfig=e,window.addEventListener("click",this.handleClickEvents),window.addEventListener("mousedown",this.handleMouseDownEvents),window.addEventListener("mousemove",this.handleMouseMoveEvents,{passive:!1,capture:!0}),window.addEventListener("mouseout",this.handleMouseOutEvents)}stopInspect(){document.body.style.pointerEvents="",this.highlight.hide(),this.highlightConfig=void 0,window.removeEventListener("click",this.handleClickEvents),window.removeEventListener("mousedown",this.handleMouseDownEvents),window.removeEventListener("mousemove",this.handleMouseMoveEvents),window.removeEventListener("mouseout",this.handleMouseOutEvents),this._eventBus.trigger("inspectModeCanceled",void 0)}highlightForNode(e,t){this.tree.isTextNode(e)||this.tree.isVirtual(e)||this.highlight.show(e,t)}highlightNode(t){return e(this,void 0,void 0,(function*(){var e=this.tree.getNodeFromCDPParams(t);e&&this.highlightForNode(e,t.highlightConfig)}))}hideHighlight(){return e(this,void 0,void 0,(function*(){this.highlight.hide()}))}}class C9e{constructor(){this._eventBus=new d9e,this._enabled=!1}get enabled(){return this._enabled}disable(){return _1e(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return _1e(this,void 0,void 0,(function*(){this._enabled=!0}))}getHighlightObjectForTest(e){throw new Error("not implemented")}getGridHighlightObjectsForTest(e){throw new Error("not implemented")}getSourceOrderHighlightObjectForTest(e){throw new Error("not implemented")}highlightFrame(e){throw new Error("not implemented")}highlightQuad(e){throw new Error("not implemented")}highlightRect(e){throw new Error("not implemented")}highlightSourceOrder(e){throw new Error("not implemented")}setInspectMode(e){return _1e(this,void 0,void 0,(function*(){var{mode:t,highlightConfig:r}=e;switch(t){case"searchForNode":this.startInspect(r);break;case"none":this.stopInspect();break;default:throw new Error("not implemented")}}))}setShowAdHighlights(e){throw new Error("not implemented")}setPausedInDebuggerMessage(e){throw new Error("not implemented")}setShowDebugBorders(e){throw new Error("not implemented")}setShowFPSCounter(e){throw new Error("not implemented")}setShowGridOverlays(e){throw new Error("not implemented")}setShowFlexOverlays(e){throw new Error("not implemented")}setShowScrollSnapOverlays(e){throw new Error("not implemented")}setShowContainerQueryOverlays(e){throw new Error("not implemented")}setShowPaintRects(e){throw new Error("not implemented")}setShowLayoutShiftRegions(e){throw new Error("not implemented")}setShowScrollBottleneckRects(e){throw new Error("not implemented")}setShowHitTestBorders(e){throw new Error("not implemented")}setShowWebVitals(e){throw new Error("not implemented")}setShowViewportSizeOnResize(e){throw new Error("not implemented")}setShowHinge(e){throw new Error("not implemented")}on(e,t){this._eventBus.on(e,t)}onEvery(e){this._eventBus.onEvery(e)}}class k9e extends C9e{constructor(e,t,r){super(),this.tree=e,this.highlight=t,this.getSkylineEngine=r,this.handleClickEvents=e=>{var t;if(e){var r=this.tree.requestIdForNode(e);this._eventBus.trigger("inspectNodeRequested",{backendNodeId:r})}else null===(t=this.highlight)||void 0===t||t.hide();return!1},this.handleMouseOverEvents=C1e((e=>_1e(this,void 0,void 0,(function*(){var t,r;if(e){var n=this.tree.requestIdForNode(e);null===(r=this.highlight)||void 0===r||r.show(e,this.highlightConfig),this._eventBus.trigger("nodeHighlightRequested",{nodeId:n})}else null===(t=this.highlight)||void 0===t||t.hide()}))),100,!0)}highlightNode(e){var t;return _1e(this,void 0,void 0,(function*(){if(this.highlightConfig){var r=this.tree.getNodeFromCDPParams(e);r&&this.tree.isElement(r)&&!this.tree.isVirtual(r)&&(null===(t=this.highlight)||void 0===t||t.show(r,this.highlightConfig))}}))}startInspect(e){return _1e(this,void 0,void 0,(function*(){this.highlightConfig=e,this.getSkylineEngine().getRuntime().startTouchEventInterception((e=>{for(var t=e.target;t&&!t.__wxElement;)t=t.getParentNode();for(var r=t?this.tree.findLogicalParent(t.__wxElement):null;r&&(this.tree.isTextNode(r)||r.isVirtual());)r=this.tree.getParent(r);"tap"===e.type||"touchend"===e.type?this.handleClickEvents(r):"mouseover"===e.type&&this.handleMouseOverEvents(r)}))}))}stopInspect(){this.highlightConfig=void 0,this.getSkylineEngine().getRuntime().stopTouchEventInterception(),this._eventBus.trigger("inspectModeCanceled",void 0)}hideHighlight(){var e;return _1e(this,void 0,void 0,(function*(){null===(e=this.highlight)||void 0===e||e.hide()}))}}var I9e={objectGroup:"exparser"};class P9e{constructor(e,t){this._enabled=!1,this.inspectedId=new X6e(0),this.inspectVariableMap=new WeakMap,this.bridge=e,this.tree=t}get enabled(){return this._enabled}getGlassEaselNodeFromParams(e){return _1e(this,void 0,void 0,(function*(){var t,{nodeId:r,backendNodeId:n,objectId:i}=e;return(r||n)&&(t=this.tree.getNodeById(r||n)),t||null}))}logRemoteObject(e){return _1e(this,void 0,void 0,(function*(){return console.log(s9e(e.objectId))}))}setInspectedNode(e){return _1e(this,void 0,void 0,(function*(){var t=this.tree.getNodeById(e.nodeId);if(!t)throw new Error("Failed to set inspected node");if(!this.inspectVariableMap.has(t)){for(var r=`$$${this.inspectedId.generate()}`;Reflect.has(globalThis,r);)r=`$$${this.inspectedId.generate()}`;this.inspectVariableMap.set(t,r)}var n=this.inspectVariableMap.get(t);return Reflect.set(globalThis,n,t),{variableName:n}}))}logToConsole(e){return _1e(this,void 0,void 0,(function*(){var{prefix:t,level:r="log"}=e,n=yield this.getGlassEaselNodeFromParams(e);n&&(t?console[r](t,n):console[r](n))}))}setTreeMode(e){return _1e(this,void 0,void 0,(function*(){this.tree.setMode(e.mode)}))}getNodeData(e){var t;return _1e(this,void 0,void 0,(function*(){var r=yield this.getGlassEaselNodeFromParams(e);return!r||this.tree.isInnerComponent(r)?{data:{}}:{data:null!==(t=r.data)&&void 0!==t?t:{}}}))}getNodeDetails(e){var t,r;return _1e(this,void 0,void 0,(function*(){var n=yield this.getGlassEaselNodeFromParams(e);if(!n)throw new Error("no such node");var i={},a={},o={},s={};if(!this.tree.isInnerComponent(n)){var{data:l}=yield this.getNodeData(e);for(var[c,u]of Object.entries(l))i[c]=a9e(u,I9e)}var d=this.tree.getPublicProperties(n);for(var[p,h]of d)Reflect.has(i,p)||(a[p]=a9e(h,I9e));for(var[f,g]of Object.entries(null!==(t=n.__wxEvents)&&void 0!==t?t:{}))o[f]=a9e(g,I9e);var v=null===(r=n.ownerShadowRoot)||void 0===r?void 0:r.getBackendContext();if(n.$$&&v&&"getComputedStyle"in v){v.getComputedStyle;var[m]=yield I1e(v,"getComputedStyle",n.$$);s.computedStyle=a9e(m,I9e);var y={display:m.display,boxSizing:m.boxSizing,direction:m.direction,writingMode:m.writingMode,position:m.position,overflowX:m.overflowX,overflowY:m.overflowY,flexGrow:m.flexGrow,flexShrink:m.flexShrink,flexDirection:m.flexDirection,flexWrap:m.flexWrap,justifyContent:m.justifyContent,alignContent:m.alignContent,alignItems:m.alignItems,alignSelf:m.alignSelf,aspectRatio:m.aspectRatio,left:m.left,right:m.right,top:m.top,bottom:m.bottom,marginLeft:m.marginLeft,marginRight:m.marginRight,marginTop:m.marginTop,marginBottom:m.marginBottom,borderLeft:m.borderLeft,borderRight:m.borderRight,borderTop:m.borderTop,borderBottom:m.borderBottom,paddingLeft:m.paddingLeft,paddingRight:m.paddingRight,paddingTop:m.paddingTop,paddingBottom:m.paddingBottom,flexBasis:m.flexBasis,width:m.width,height:m.height,minWidth:m.minWidth,minHeight:m.minHeight,maxWidth:m.maxWidth,maxHeight:m.maxHeight};s.layoutComputedStyle=a9e(y,I9e)}return{data:i,events:o,props:a,others:s}}))}disable(){return _1e(this,void 0,void 0,(function*(){this._enabled=!1}))}enable(){return _1e(this,void 0,void 0,(function*(){this._enabled=!0}))}}var T9e=()=>(wk(),new Promise((e=>__sclEngine__.initScl((t=>e(t.mainRoot)))))),A9e=function(){var e=Vp()((function*(e={}){return(yield T9e()).append("console-switch",{...e})}));return function(){return e.apply(this,arguments)}}(),x9e="vConsole_ready",E9e="vConsole_show",M9e="vConsole_hide",R9e="vConsole_showSwitch",D9e="vConsole_hideSwitch",O9e="vConsole_moved";class L9e{static init(){L9e.initialized||(L9e.initialized=!0,L9e.vConsoleReady=new Promise((e=>{Yr(x9e,e),f2(x9e,e)})))}constructor(){this.switch=null,this.isInSkylinePage=!0,this.vConsoleWebviewInited=!1,this.vConsoleWebview=new uGe,this.initWebview()}initWebview(){var e=this;return Vp()((function*(){Yr(M9e,(({showSwitch:t=!0}={})=>{var r;return t&&(null===(r=e.switch)||void 0===r?void 0:r.show())})),Yr(E9e,(({hideSwitch:t=!0}={})=>{var r;return t&&(null===(r=e.switch)||void 0===r?void 0:r.hide())})),Yr(D9e,(()=>{var t;return null===(t=e.switch)||void 0===t?void 0:t.hide()})),Yr(R9e,(()=>{var t;return null===(t=e.switch)||void 0===t?void 0:t.show()}))}))()}initVConsoleWebview(e){var t=this;return Vp()((function*(){try{yield t.vConsoleWebview.insert(),f2(M9e,Vp()((function*({showSwitch:e=!0}={}){var r;yield t.vConsoleWebview.hide(),e&&(null===(r=t.switch)||void 0===r||r.show())}))),f2(E9e,Vp()((function*({hideSwitch:e=!0}={}){var r;yield t.vConsoleWebview.show(),e&&(null===(r=t.switch)||void 0===r||r.hide())}))),f2(D9e,(()=>{var e;return null===(e=t.switch)||void 0===e?void 0:e.hide()})),f2(R9e,(()=>{var e;return null===(e=t.switch)||void 0===e?void 0:e.show()})),t.vConsoleWebviewInited=!0,e.bindVConsoleWebview(t.vConsoleWebview,L9e.vConsoleReady)}catch(e){return[x9e,E9e,M9e,R9e,D9e].forEach((e=>g2(e))),!1}return!0}))()}initSwitch(e){var t=this;return Vp()((function*(){if(!t.switch){var r=yield L9e.vConsoleReady;t.switch=yield A9e({initialPos:r}),t.switch.addListener("toggle",(()=>t.show())),t.switch.addListener("moved",(({detail:e})=>{t.postMessage(O9e,e,!0)})),t.setSwitchBanner(e)}}))()}setSwitchBanner(e){var t=this;return Vp()((function*(){t.switch&&e&&t.switch.setData({banner:e})}))()}show(){var e=this;return Vp()((function*(){e.postMessage(E9e)}))()}hide(){var e=this;return Vp()((function*(){e.postMessage(M9e)}))()}postMessage(e,t={},r=!1){var n=this;return Vp()((function*(){(n.isInSkylinePage||r)&&n.vConsoleWebviewInited&&n.vConsoleWebview.postMessage({data:{...t,name:e}}),n.isInSkylinePage&&!r||qr(e,t,[su.currentWebviewId])}))()}}L9e.vConsoleReady=void 0,L9e.initialized=!1;class N9e extends b1e{constructor(e){super(m1e.ServiceInspectee),this.vConsoleWebview=void 0,this.cachedMsgs=[],this.ready=!1,this.init(),this.vConsoleWebview=e}_sendUnsafe(e,t=m1e.Inspector){this.vConsoleWebview.postMessage({data:{name:"vConsole_cdp",msg:e,target:t,source:this.type}})}send(e){this.vConsoleWebview&&this.ready?(this.consumeCachedLogs(),this._sendUnsafe(e)):(this.cachedMsgs.length>Zc&&this.cachedMsgs.shift(),this.cachedMsgs.push(e))}initSubscription(e){f2("vConsole_cdp",(t=>{var{msg:r,target:n,source:i}=t;e(r,n,i)}))}consumeCachedLogs(){this.cachedMsgs.length&&(this.cachedMsgs.forEach((e=>this._sendUnsafe(e))),this.cachedMsgs=[])}bindVConsoleWebview(e,t){this.vConsoleWebview=e,t.then((()=>{this.ready=!0,this.consumeCachedLogs()}))}}var B9e=!1,$9e=e=>{if(!B9e){var t=([t,r])=>{if(!B9e){B9e=!0;var n=new N9e,i=new H8e(n),a=new u9e(n,{evalFn:e});i.bindAdapter("Runtime",a),r(a),t.forEach((({method:e,log:t,timestamp:r})=>{a.callConsoleAPI(e,t,r)}));var o=null;L9e.init();var s=!1,l=null;Jw(function(){var e=Vp()((function*(e){l&&clearTimeout(l);var t,r="skyline"===e.renderer,i=e.renderer.toUpperCase();o?(o.isInSkylinePage=r,s||o.vConsoleWebviewInited||!r||(s=yield o.initVConsoleWebview(n)),o.hide(),xe||(null===(t=o.switch)||void 0===t||t.hide(),l=setTimeout((()=>{var e;null!==(e=o)&&void 0!==e&&e.switch&&(o.switch.show(),o.setSwitchBanner(i))}),200))):(o=new L9e,setTimeout(Vp()((function*(){o&&(o.isInSkylinePage=r,o.initSwitch(i),r&&(s=yield o.initVConsoleWebview(n)))})),200))}));return function(t){return e.apply(this,arguments)}}());var c=new w9e(D.getGlassEasel(),[],{mode:$8e.SHADOW_SKIP_VIRTUAL,isInnerComponent:e=>e.__libComp__?e.is:null});A.setInspecteeRoots(c);var u=()=>({getRuntime:A.getSkylineRuntime}),d=new f9e(c,{getSkylineEngine:u});i.bindAdapter("DOM",d);var p=new P9e(n,c);i.bindAdapter("Exparser",p);var h=new k9e(c,null,u);i.bindAdapter("Overlay",h)}};A.onDebugEnabledAfterBaseConsoleInjected(((...e)=>t(e)))}};function F9e(){return!!yr.getPipPage()}var j9e=({packageName:e,cost:t,isAsync:r,isSuccess:n,appType:i,injectContext:a=0,errMsg:o}={})=>{var s=[e,t,r,n,i,a,o].map(encodeURIComponent).join(",");M.reportKeyValue({key:"WeAppSDKSubpackageInject",value:s,force:!0})},W9e="undefined"!=typeof __initHelper&&1===__initHelper,V9e=["cloud","cloudSDK","ad"],U9e={},z9e=(e,...t)=>e.toUpperCase()+t.join(""),q9e=(e,t)=>{Ce?(k.devtools_miniprogram=!0,k[e]=()=>t()):globalThis[e]=()=>t()},H9e=(e,t,r)=>{var n;return Ce?(n=null!=e?e:k["subPackageShare"+t],r||delete k["subPackageShare"+t]):(n=null!=e?e:globalThis[t],r||delete globalThis[t]),n},G9e=!1,K9e=(e,t)=>{var r=t.globalName;if(U9e[r])return U9e[r];if(2===T.isEmptyContext){if(!W9e)throw new Error("Fatal: unexpected loadSdkSubPackage case");return G9e||(G9e=!0,aj({title:"请切换至真机调试2.0",content:"很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。"})),void console.warn("很抱歉，当前工具版本不支持在真机调试1.0模式下进行调试。请切换至真机调试2.0，或者升级至最新工具版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")}var n,i=`get${z9e(...e)}GlobalVar`;t.globalGetter&&q9e(i,t.globalGetter);var a,o=!1;try{var s,l=Date.now(),c=T.loadMainContextLibFile;t.injectSub&&(s="function"==typeof t.injectSub?t.injectSub():t.injectSub),t.injectHandle&&(c=(e,r)=>t.injectHandle(r)),s&&(o=!0,c=T.loadSubContextLibFile,T.publish("readyLoadSDKSubPackage",{getCloudSDKGlobalVar:t.globalGetter},[T.convertRealId2SdkId(s)]));var u;if(t.sideInjectHandle){var d=c;u=()=>(d.call(T,t.waLibName,(e=>{t.resultGetter&&(n=t.resultGetter()),delete globalThis[i];var r=Date.now()-l;"success"===e?t.init=!0:"string"==typeof e&&e.includes("not supported")?Ce?(aj({title:"请升级工具版本",content:"很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本"}),console.warn("很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")):console.warn("很抱歉，当前客户端版本不支持该基础库，请升级至最新版本"):console.error(`loadSubPackage: ${t.waLibName}:`,e),re.onReady((()=>{j9e({packageName:t.waLibName,cost:r,isAsync:1,isSuccess:"success"===e,appType:re.appType+1e3,errMsg:"success"===e?"":e})}))}),s),H9e(n,t.globalName,t.reserveGlobal)),c=(e,r,n,i)=>t.sideInjectHandle(r,n,i)}a=c.call(T,t.waLibName,(e=>{t.resultGetter&&(n=t.resultGetter()),delete globalThis[i];var r=Date.now()-l;"success"===e?t.init=!0:"string"==typeof e&&e.includes("not supported")?Ce?(aj({title:"请升级工具版本",content:"很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本"}),console.warn("很抱歉，当前工具版本不支持该基础库，请前往官网升级至最新稳定版本或nightly版本。升级地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html")):console.warn("很抱歉，当前客户端版本不支持该基础库，请升级至最新版本"):console.error(`loadSubPackage: ${t.waLibName}:`,e),re.onReady((()=>{j9e({packageName:t.waLibName,cost:r,isAsync:1,isSuccess:"success"===e,appType:re.appType+1e3,errMsg:"success"===e?"":e})}))}),s,u)}catch(e){console.error(`${o?"loadSubContextLibFile":"loadMainContextLibFile"}: ${t.waLibName} err:`,e)}if("kanata"===e){var p=globalThis.Kanata;Object.defineProperty(globalThis,"_Kanata",{value:p})}t.loadedSubPackage=t.injectHandle||t.sideInjectHandle?a:H9e(n,t.globalName,t.reserveGlobal),U9e[t.globalName]=t.loadedSubPackage,gt(t.onInjectCallback)&&t.onInjectCallback(t.loadedSubPackage)},J9e=e=>{for(var t in e){var r=e[t];K9e(t,r)}},X9e=e=>{for(var t in e)if(V9e.includes(t)){var r=e[t];K9e(t,r)}},Y9e=()=>{var e=het();X9e(e)},Q9e={},Z9e=(e,t)=>Q9e[e].loadedSubPackage[t],eet=(e,t,r)=>{var{apiKey:n,call:i,cache:a}=t;if(a)return a;var o=Z9e(e,n);if(gt(o)){if(i){var s=o.call(r);return dt(s)&&(t.cache=s),s}return o.bind(r)}return o},tet=(e,t)=>function(){var r=Q9e[e];return r.init||K9e(e,r),eet(e,t,this)},ret=({name:e,waLibName:t,exportApis:r,globalName:n,globalGetter:i,onInjectCallback:a,provideInGlobal:o,reserveGlobal:s,fakeProvider:l,injectSub:c,resultGetter:u,emptyInjectKey:d,injectHandle:p,sideInjectHandle:h}={})=>{Q9e[e]={waLibName:t,exportApis:r,globalGetter:i,init:!1,onInjectCallback:a,globalName:n,provideInGlobal:o,reserveGlobal:s,fakeProvider:l,injectSub:c,resultGetter:u,emptyInjectKey:d,injectHandle:p,sideInjectHandle:h}},net=()=>Object.entries(Q9e).reduce(((e,[t,r])=>(r.provideInGlobal&&(e[t]={api:()=>K9e(t,r),subPackageInfo:r,replaceGlobal:!0,...r.fakeProvider?{fakeProvider:r.fakeProvider}:{},emptyInjectKey:r.emptyInjectKey},!dt(r.exportApis))||Object.entries(r.exportApis).forEach((([n,i])=>{n===t&&console.warn(`sdk warn: sdk subpackage: ${n} has same name with one item of exportApis`);var a={...r};delete a.provideInGlobal,e[n]={api:tet(t,i),apiInfo:i,subPackageInfo:a,emptyInjectKey:r.emptyInjectKey}})),e)),{}),iet=()=>net(),aet=e=>`_sdk_subPackage_load_${e}`,oet=e=>{globalThis[aet(e)]=!0},set=e=>{globalThis[aet(e)]=!1},cet=e=>globalThis[aet(e)],uet=(e,t)=>{var r={},n=function(n){var i=e[n];Object.defineProperty(r,n,{get(){if(i.call)return(...e)=>{var r=t();return null==r?void 0:r[i.key||n].call(r,...e)};var e=t();return null==e?void 0:e[i.key||n]}})};for(var i in e)n(i);return r},det=(e,t=!1)=>{var r=iet();Object.entries(r).forEach((([r,n])=>{var i=e,{api:a,subPackageInfo:o,replaceGlobal:s,fakeProvider:l,emptyInjectKey:c}=n;if(o.provideInGlobal){if(s){var u=o.provideInGlobal;return void Object.defineProperty(globalThis,u,{get(){if(l){if(!o.__fakeProviderCache){var e=()=>{if(!cet(u))return oet(u),a(),set(u),o.loadedSubPackage};o.__fakeProviderCache=uet(l,e),c&&(o.__fakeProviderCache[c]=()=>{e()})}return o.__fakeProviderCache}if(!cet(u)){oet(u),a(),set(u);var t=o.loadedSubPackage;return c&&(t[c]=()=>{}),t}},configurable:!0,enumerable:!1})}i=o.provideInGlobal}if(t){if(!!n.subPackageInfo.exportApis[r].noExportWx)return;var d=i[r];Object.defineProperty(i,r,{get(){if(dt(d)){var t=a.call(e),n=YM(r);return n&&n(t),t}return gt(d)?(...t)=>{var r=a.call(e),n=[...t,QM,r];return r.call(i,...n)}:d},configurable:!0})}else Object.defineProperty(i,r,{get:()=>a.call(e),configurable:!0})}))},pet=()=>{Object.entries(iet()).forEach((([e,t])=>{var{api:r,subPackageInfo:n,replaceGlobal:i}=t;if(n.provideInGlobal&&i){var a=n.provideInGlobal;Object.defineProperty(globalThis,a,{get(){if(!cet(a))return oet(a),r(),set(a),n.loadedSubPackage},configurable:!0})}else;}))},het=()=>Q9e,fet={...U,wx:{}},get;kr((()=>{get=Sr})),ret({name:"cloudSDK",waLibName:"WACloud.js",exportApis:{},globalName:"__cloudSDK__",globalGetter:()=>({WeixinJSBridge:k,wxConsole:y,Reporter:M,console:console,__appServiceSDK__:fet,__wxConfig:re,Foundation:m,IS_APP:!0,__subContextEngine__:get}),onInjectCallback:()=>{mk("cloudSDK",gk.injected)},resultGetter:()=>Ar,provideInGlobal:"__cloudSDKMain__",injectSub:()=>T.getAppSubContextId(),src:"./src/cloud/dist/cloud-sdk-subpackage.js",emptyInjectKey:"inject"});var vet=e=>{Object.assign(fet,e)};oe.onAppRoute=Jw;var met={bridgeOn:oe},yet="undefined"!=typeof __initHelper?__initHelper:void 0;ret({name:"sclEngine",waLibName:"WASubAppSclEngine.js",compileType:"app",fakeProvider:{initScl:{call:!0},registerComponent:{call:!0},triggerRender:{call:!0},appendStyleSheet:{call:!0}},globalName:"__sclEngine__",globalGetter:()=>({forSubLibEnv:met,WeixinJSBridge:k,wxConsole:y,wxNativeConsole:_,Reporter:M,__wxConfig:re,WebAssembly:x$e,packageChannel:bk,IS_APP_SUBPACKAGE:!0,__initHelper:yet}),onInjectCallback:()=>{mk("sclengine",gk.injected)},provideInGlobal:"__sclEngine__",reserveGlobal:!0,src:"./src/scl-engine/dist/app-scl-engine.js",emptyInjectKey:"inject"});var bet=e=>{var t=Date.now();return M9({invokeId:x9.invokeId,actionType:"beforeMidasCreateOrder",actionCost:t-x9.time4,actionTimestamp:t}),rx({apiName:x9.channelApiname?x9.channelApiname:e.apiName,sdkApiName:e.sdkApiName,reqData:e.reqData}).then((e=>{var r=Date.now();if(x9.time6=r,0===e.data.err_code)return M9({invokeId:x9.invokeId,actionType:"afterMidasCreateOrder",actionCost:r-t,actionTimestamp:r}),e;throw{errMsg:e.data.err_msg,errCode:e.data.err_code}})).catch((e=>{var r=Date.now();throw x9.time6=r,M9({invokeId:x9.invokeId,actionType:"afterMidasCreateOrder",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:r-t,actionTimestamp:r}),e}))},_et=e=>{fd("requestVirtualPayment",e)},wet={getNetworkType:eg,_requestSkipCheckDomain:UA,interaction:S,systemInfo:{getSystemInfo:zb,getSystemInfoSync:$b},requestVirtualPayment:_et,invokeMidasOperateWXDataPromise:bet,invokeMethod:fd,requestPayment:(e={})=>{var t=A9(),r=()=>{},n={};"requestVirtualPayment"===t?(r=M9,n=x9):"requestCommonPayment"===t&&(r=R9,n=E9);var i=Date.now();r({invokeId:n.invokeId,actionType:"beforeMidasLaunchPay",actionCost:i-n.time6,actionTimestamp:i});var a=e.success,o=e.fail;e.success=e=>{var t=Date.now();return r({invokeId:n.invokeId,actionType:"afterMidasLaunchPay",actionStatus:JSON.stringify(e),actionCost:t-i,actionTimestamp:t}),"function"==typeof a&&a(e)},e.fail=e=>{var t=Date.now();return r({invokeId:n.invokeId,actionType:"afterMidasLaunchPay",actionValue:"number"==typeof e.errCode&&e.errCode>0?e.errCode:"number"==typeof e.errno&&e.errno>0?e.errno:-1,actionStatus:JSON.stringify(e),actionCost:t-i,actionTimestamp:t}),"function"==typeof o&&o(e)};var s=qS();return e.passCookies&&"string"==typeof e.passCookies?e.cookie=s?e.passCookies+";; "+s:e.passCookies:s?e.cookie=s:delete e.cookie,delete e.passCookies,fd("requestPayment",Object.assign({},e,{grantMessageQuota:!0}))}};ret({name:"midasSDK",waLibName:"WAMidasSDK.js",provideInGlobal:"MidasSDK",globalGetter:()=>({__appServiceSDK__:wet,console:console,wxConsole:y,wxNativeConsole:_}),globalName:"__MidasSDK__",onInjectCallback:()=>{mk("midas",gk.injected)},src:"./src/sdk/dist/midas.js"});var Cet={getNetworkType:eg,_requestSkipCheckDomain:UA,interaction:S,systemInfo:{getSystemInfo:zb,getSystemInfoSync:$b},requestPaymentForMidas:P7,openBusinessView:Y3,navigateToMiniProgram:d9,onNetworkStatusChange:tg};ret({name:"orderMidasSDK",waLibName:"WAOrderMidasSDK.js",provideInGlobal:"OrderMidasSDK",globalGetter:()=>({__appServiceSDK__:Cet,console:console,wxConsole:y,wxNativeConsole:_}),globalName:"__OrderMidasSDK__",onInjectCallback:()=>{mk("midas",gk.injected)},src:"./src/sdk/dist/orderMidas.js"});var ket=!1,Iet=null;function Pet(){return new Promise(((e,t)=>{ket||t(),ket&&(Iet=setTimeout(t,3e3)),ket&&tx({apiName:"webapi_getadcardbalance",success({data:r}){var{errCode:n,balance:i}=r;!n&&i?(Iet&&clearTimeout(Iet),ij({title:"是否使用广告跳过卡",content:`当前还有${i}张`,confirmText:"使用",cancelText:"继续看",success({confirm:r}){r?tx({apiName:"webapi_payadcardskiprewardedad",reqData:{outTradeNo:`${Date.now()+Math.random()}`},success({data:r}){var{errCode:n}=r;n?(dj({title:"使用广告卡失败",icon:"error"}),t()):(dj({title:"消耗一张广告卡"}),e({isUseAdSkipCard:!0}))},fail:t}):t()},fail:t})):t()},fail:t})}))}re.onReady((()=>{We()&&(qh()?uC({id:sC.getadcardbalance,success:e=>{null!=e&&e.data&&(ket=!e.data.errCode)}}):setTimeout((()=>{tx({apiName:"webapi_getadcardbalance",success({data:e}){ket=!e.errCode}})}),3e3))}));var Tet=e=>(t={})=>{(e?tx:ox)({apiName:e?"webapi_game_transfer":"gameTransfer",sdkApiName:"gameTransfer",reqData:t.reqData?t.reqData:JSON.parse(JSON.stringify(t)),timeout:t.timeout,success(e){"function"==typeof t.success&&t.success(e)},fail(e){"function"==typeof t.fail&&t.fail(e)},complete(e){"function"==typeof t.complete&&t.complete(e)}})},Aet=(e={})=>{invokeOperateWXData({apiName:"webapi_litegametransfer",sdkApiName:"gameTransfer",reqData:e.reqData?e.reqData:JSON.parse(JSON.stringify(e)),timeout:e.timeout,success(t){"function"==typeof e.success&&e.success(t)},fail(t){"function"==typeof e.fail&&e.fail(t)},complete(t){"function"==typeof e.complete&&e.complete(t)}})},xet=Tet(!1),Eet=Tet(!0),Met=null;try{Jw((({webviewId:e,openType:t,path:r})=>{nve.isWaGame||(ive.lastWebviewId=ive.currentWebviewId,ive.currentWebviewId=e||0,ive.currentOpenType=t,ive.weappPath=r)}))}catch{}class Ret extends pKe{constructor({id:e,style:t,src:r="",name:n="",autoInsert:i=!1,eventType:a,bubbleEvent:o,clickState:s,independent:l=!1,dest:c=0}={}){super({id:e,style:t,props:{src:r},type:"image",name:n,autoInsert:i,eventType:a,bubbleEvent:o,clickState:s,independent:l,dest:c})}toNativeData(){return Object.assign(super.toNativeData(),{iconPath:qd(this.src)})}}class Det{constructor(){this.emitter=new Yt({maxListeners:2e3}),this.callbackMap=new WeakMap,this.originalCallbackMap=new WeakMap}emit(e,t){this.emitter.emit(e,t)}on(e,t){if(t&&"function"==typeof t){var r=E.surroundThirdByTryCatch(t,`at ${e} callback function`);this.callbackMap.set(t,r),this.originalCallbackMap.set(r,t),this.emitter.on(e,r)}}off(e,t){if(t&&"function"==typeof t){var r=this.callbackMap.get(t);"function"==typeof r&&(this.emitter.off(e,r),this.callbackMap.delete(t),this.originalCallbackMap.delete(r))}else this.emitter.listeners(e).forEach((e=>{var t=this.originalCallbackMap.get(e);this.callbackMap.delete(t),this.originalCallbackMap.delete(e)})),this.emitter.removeAllListeners(e)}}var Oet={video:1,"live-player":2,"live-pusher":3,image:4,audio:5},Let=0,Net={};re.onReady((()=>{Let=re.appType+1e3,Net=re.appLaunchInfo}));var Bet={onLoad:1,onWaiting:2,onError:3,onPlay:4,onPause:5,onFullScreenChange:6,onEnd:7,onTimeUpdate:8,onSrcSet:9,onImageLoad:91,onImageError:92},$et=({component:e,eventName:t,eventData:r,src:n=""}={})=>{var i=ag(),a=re.SDKVersion||"",o=Object.keys(Net.query||{}).map((e=>`${e}=${Net.query[e]}`)).join(",");o=encodeURIComponent(o);var s="";switch(t){case"onLoad":s=[r.duration,r.controls?2:1].join(";");break;case"onWaiting":case"onTimeUpdate":s=[r.position,r.buffered].join(";");break;case"onError":s=r.errMsg.replace(","," ");break;case"onFullScreenChange":s=r.fullScreen?2:1;break;case"onImageLoad":s=[r.isLazyLoad?2:1,r.size,r.loadTime,r.width,r.height,r.originalWidth,r.originalHeight].join(";");break;case"onImageError":s=[r.isLazyLoad?2:1].join(";")}var l=[Math.round(Date.now()/1e3),Net.scene,"",Net.sessionid||Net.sessionId,Net.path,o,i,a,Oet[e],Bet[t],s,encodeURIComponent(n.substring(0,1024)).substring(0,1024),Let].join(",");M.reportKeyValue({key:"MediaCompStatus",value:l})},Fet={},jet=["onVideoWaiting","onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoError","onVideoProgress","onVideoPreloadedMetaData"];ke&&jet.push("onVideoFullScreenChange");var Wet=(e,t,r)=>{if("ad"!==e.scene){$et({component:"video",eventName:t,eventData:r,src:e.src});var n={onPlay:1,onPause:2,onEnded:2,onError:3};n[t]&&qme({eventid:n[t],src:e.src,ended:"onEnded"===t,reason:"onError"===t?r.errMsg:void 0})}};class Vet extends r${constructor({style:e={},name:t,x:r=0,y:n=0,width:i=300,height:a=200,hide:o=!1,src:s,poster:l,referrerPolicy:c="no-referrer",initialTime:u=0,playbackRate:d=1,live:p=!1,showPoster:h=!1,objectFit:f="contain",controls:g=!0,showProgress:v=!0,showProgressInControlMode:m=v,autoplay:y=!1,muted:b=!1,loop:_=!1,customCache:w=!1,enableProgressGesture:S=!0,enablePlayGesture:C=!1,showCenterPlayBtn:k=!0,autoInsert:I=!0,scene:P="default",preLoad:T=!1,obeyMuteSwitch:A=!1,underGameView:x=!1,backgroundColor:E="#000000",playerHint:M="",zIndex:R,autoPauseIfNavigate:D=!0,autoPauseIfOpenNative:O=!0,independent:L=!1,dest:N=0,bufferDuration:B}={}){super({style:e,name:t}),this.isSrcChanged=!1,this.autoInsert=I,this.playerHint=M,this.scene=P,this.preLoad=T,this.underGameView=x,this.zIndex=R,this.autoPauseIfOpenNative=O,this.autoPauseIfNavigate=D,this.customCache=w,this.independent=L,this.dest=N,this.bufferDuration=B,this.showPoster=h,Fet[this.id]=this;var $=null;this.emitter=new Det,this.deferred=[],this._buffered=0,this._position=0;var F={x:r,y:n,width:i,height:a,hide:o,src:s,poster:l,initialTime:u,playbackRate:d,live:p,objectFit:f,controls:g,showProgress:v,showProgressInControlMode:m,backgroundColor:E,autoplay:y,muted:b,loop:_,enableProgressGesture:S,enablePlayGesture:C,showCenterPlayBtn:k,obeyMuteSwitch:A,referrerPolicy:c};Object.keys(F).forEach((e=>{Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:()=>F[e],set:t=>{"src"!==e&&F[e]===t||(F[e]=t,this.isInserted?("src"===e&&(this.isSrcChanged=!0),"poster"===e&&(this.isPosterChanged=!0),"playbackRate"===e?this.operate("playbackRate",[t]):(clearTimeout($),$=setTimeout((()=>this.update()),0))):this.deferred.push({type:"property",property:e,value:t}))}})})),jet.forEach((e=>{var t=e.toLowerCase().replace("video","");this[t]=()=>{},this.emitter.on(e,(e=>{this[t](e)}))})),this.autoInsert&&this.insert().then((()=>{this.playbackRate&&1!==this.playbackRate&&this.operate("playbackRate",[this.playbackRate])})).then((()=>{this.deferred.forEach((e=>{"property"===e.type?this[e.property]=e.value:this.operate(e.method,e.args)}))}))}insert(){if(!this.isInserted)return this.isInserted=!0,Wet(this,"onSrcSet",{}),new Promise(((e,t)=>{fd("insertVideoPlayer",Object.assign(this.toNativeData(),{data:JSON.stringify({id:this.id}),filePath:qd(this.src),scene:this.scene,preLoad:this.preLoad,underGameView:this.underGameView,referrerPolicy:this.referrerPolicy,playerHint:this.playerHint,zIndex:this.zIndex,poster:qd(this.poster),success:t=>{this.emit("ready"),e(t)},fail:t}))}))}destroy(){return qme({eventid:2,src:this.src,ended:!0}),new Promise(((e,t)=>{Ie?setTimeout((()=>{fd("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t})}),0):fd("removeVideoPlayer",{videoPlayerId:this.id,independent:this.independent,success:e,fail:t}),jet.forEach((e=>{var t=e.replace("Video","").replace("on","off");"function"==typeof this[t]&&this[t]()})),delete Fet[this.id]}))}toNativeData(){var e=this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},t={videoPlayerId:this.id,position:e,hide:this.hide,zIndex:Number.isInteger(+this.zIndex)?+this.zIndex:0,initialTime:this.initialTime,live:this.live,objectFit:this.objectFit,needEvent:!0,showBasicControls:this.controls,showProgress:this.showProgress,showProgressInControlMode:this.showProgressInControlMode,backgroundColor:this.backgroundColor,backgroudColor:this.backgroundColor,autoplay:this.autoplay,muted:this.muted,loop:this.loop,dest:this.dest,customCache:this.customCache,bufferDuration:this.bufferDuration,enableProgressGesture:this.enableProgressGesture,enablePlayGesture:this.enablePlayGesture,showCenterPlayBtn:this.showCenterPlayBtn,obeyMuteSwitch:this.obeyMuteSwitch,referrerPolicy:this.referrerPolicy,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,independent:this.independent,showPoster:this.showPoster};return this.isSrcChanged&&(t.filePath=qd(this.src),this.isSrcChanged=!1),this.isPosterChanged&&(t.poster=qd(this.poster),this.isPosterChanged=!1),this.autoInsert||(t.parentId=this.parentId),t}update(){this.shouldUpdate=!1;var e=this.toNativeData();return e.filePath&&Wet(this,"onSrcSet",{}),new Promise(((t,r)=>{fd("updateVideoPlayer",Object.assign({},e,{success:t,fail:r}))}))}operate(e,t=[]){if(this.isInserted)return this.hide&&"playbackRate"!==e?Promise.reject(new Error(`${e} can't be invoked when video is hidden`)):new Promise(((r,n)=>{fd("operateVideoPlayer",{videoPlayerId:this.id,type:e,data:t,independent:this.independent,dest:this.dest,success:r,fail:n})}));this.deferred.push({type:"method",method:e,args:t})}play(){return this.operate("play")}pause(){return this.operate("pause")}stop(){return this.operate("stop")}seek(e){return this.operate("seek",[e])}requestFullScreen(e){return this.operate("requestFullScreen",[e])}exitFullScreen(){return this.operate("exitFullScreen")}}jet.forEach((e=>{var t=e.replace("Video","");Vet.prototype[t]=function(t){this.emitter.on(e,t)};var r=t.replace("on","off");Vet.prototype[r]=function(t){this.emitter.off(e,t)}})),jet.forEach((e=>{cr(e,(t=>{var r=t.videoPlayerId||JSON.parse(t.data||"{}").id,n=Fet[r];if(n)if(n.emitter.emit(e,t),"onVideoProgress"!==e){var i=t;"onVideoTimeUpdate"===e?(n._position=t.position,i={position:t.position,buffered:n._buffered}):"onVideoWaiting"===e&&(i={position:n._position,buffered:n._buffered}),Wet(n,e.replace("Video",""),i)}else n._buffered=t.buffered}))}));var Uet={};class zet extends r${constructor({style:e={},name:t,x:r=0,y:n=0,width:i=300,height:a=200,url:o="",urls:s=[],scale:l=1,autoInsert:c=!0,hide:u=!1,zIndex:d=0}={}){if(super({style:e,name:t}),this.x=r,this.y=n,this.width=i,this.height=a,this.scale=+l,this.hide=u,this.autoInsert=c,this.url=o,this.zIndex=d,this.emitter=new Ig("ImagePreviewer",!0),Uet[this.id]=this,"string"==typeof s)try{this.urls=JSON.parse(s)}catch(e){this.urls=[]}else this.urls=s;this._insertPromise=new Promise(((e,t)=>{this._insertPromiseResolve=e,this._insertPromiseReject=t}))}insert(){return fd("insertImagePreviewer",Object.assign(this.toNativeData(),{success:e=>{this._insertPromiseResolve(e)},fail:e=>{this._insertPromiseReject(e)}})),this._insertPromise}update(){return new Promise(((e,t)=>{this._insertPromise.then((()=>{fd("updateImagePreviewer",Object.assign(this.toNativeData(),{success:t=>{e(t)},fail:e=>{t(e)}}))})).catch(t)}))}destroy(){return new Promise(((e,t)=>{setTimeout((()=>{fd("removeImagePreviewer",{viewId:this.id,success:e,fail:t}),this.offImageLoadFail(),delete Uet[this.id]}),0)}))}toNativeData(){return{position:this.layoutBox||{left:this.x,top:this.y,width:this.width,height:this.height},urls:this.urls.length>0?this.urls:[this.url],scale:this.scale,hide:this.hide,viewId:this.id,zIndex:this.zIndex,parentId:this.parentId}}onImageLoadFail(e){this.emitter.on("onImageLoadFail",e)}offImageLoadFail(e){this.emitter.off("onImageLoadFail",e)}}cr("onImagePreviewerLoadFail",(e=>{Uet[e.viewId].emitter.emit("onImageLoadFail",e)}));var qet=new WeakMap,Het=p.prototype.call.bind(WeakMap.prototype.get),Get=p.prototype.call.bind(WeakMap.prototype.set),Ket=p.prototype.call.bind(WeakMap.prototype.delete),Jet=e=>Het(qet,e),Xet=function(e){var t=Jet(this),r={view:pKe,text:hKe,image:Ret,video:Vet,"image-previewer":zet}[e.name],n="";e.attributes.id?n=qB(e.attributes.id):_.error(`${e.name} 缺少id`);var i=Object.keys(e.attributes).reduce(((r,i)=>{var a=e.attributes[i],o=qB(i);return"id"===i?(r.style=Object.assign(r.style||{},t.style[n]),r):"class"===i?(r.style=a.split(/\s+/).reduce(((e,r)=>Object.assign(e,t.style[r])),r.style||{}),r):(/\{\{.+\}\}/.test(a)||(r[o]=""===a||"true"===a||"false"!==a&&a),r)}),{});i.name=n;var a=new r(i);return t[n]=a,e.children.forEach((e=>{var t=Xet.call(this,e);a.add(t)})),a},Yet=e=>{Ket(qet,e)};class Qet{constructor(){Get(qet,this,{})}}var Zet=function(e,t,r){var n=Jet(this);n.xom=e,n.style=t,n.state=r,Xet.call(this,e)},ett={ACTION_TYPE_CLICK_GAME:1,ACTION_TYPE_CLICK_CLOSE_BTN:2,ACTION_TYPE_CLICK_HIDE:3,ACTION_TYPE_COMPLAINT:4,ACTION_TYPE_NOT_INTERESTED:5,ACTION_TYPE_INFLUEENCE_OPERATION:6},ttt={AD_TYPE_BANNER:1,AD_TYPE_PORTAL:2,AD_TYPE_ICON:3};const rtt={reportId:1101,idkey:{BANNER_LOAD_ERROR:1,BANNER_RENDER_ERROR:2,PORTAL_LOAD_ERROR:3,PORTAL_RENDER_ERROR:14,LAUNCH_APP_ERROR:5,REPORT_ERROR:6,BANNER_TIMEOUT:7,BANNER_WXDATA_TIMEOUT:8,BANNER_TIMEOUT_RETRY_SUCCESS:9,BANNER_TIMEOUT_RETRY_FAIL:10,PORTAL_TIMEOUT:11,PORTAL_WXDATA_TIMEOUT:12,PORTAL_TIMEOUT_RETRY_SUCCESS:13,PORTAL_TIMEOUT_RETRY_FAIL:4,BANNER_DATA_INVALID:15,PORTAL_DATA_INVALID:16,BANNER_DATA_INVALID_RETRY_SUCCESS:17,BANNER_DATA_INVALID_RETRY_FAIL:18,PORTAL_DATA_INVALID_RETRY_SUCCESS:19,PORTAL_DATA_INVALID_RETRY_FAIL:20,ICON_LOAD_ERROR:21,ICON_TIMEOUT:22,ICON_WXDATA_TIMEOUT:23,ICON_TIMEOUT_RETRY_SUCCESS:24,ICON_TIMEOUT_RETRY_FAIL:25,ICON_DATA_INVALID:26,ICON_DATA_INVALID_RETRY_SUCCESS:27,ICON_DATA_INVALID_RETRY_FAIL:28,BANNER_PRELOAD_SUCCESS:29,BANNER_PRELOAD_FAIL:30,PORTAL_PRELOAD_SUCCESS:31,PORTAL_PRELOAD_FAIL:32,ICON_PRELOAD_SUCCESS:33,ICON_PRELOAD_FAIL:34},designWidth:375,TIMEOUT:15e3,ERRMSG:{NODATA:"no data available, please invoke load()",DUPLICATEWARN:"同一时刻只能展示一个同一类型的组件",NO_ADUNITID_WARN:"please pass in the adUnitId"},adType:ttt,adTypeName:{[ttt.AD_TYPE_BANNER]:"BANNER",[ttt.AD_TYPE_PORTAL]:"PORTAL",[ttt.AD_TYPE_ICON]:"ICON"},actionType:ett,feedbackList:[{name:"不感兴趣",actionType:ett.ACTION_TYPE_NOT_INTERESTED},{name:"影响操作",actionType:ett.ACTION_TYPE_INFLUEENCE_OPERATION}],presetChars:{0:5.5615234375,1:5.5615234375,2:5.5615234375,3:5.5615234375,4:5.5615234375,5:5.5615234375,6:5.5615234375,7:5.5615234375,8:5.5615234375,9:5.5615234375,"%":8.8916015625,"(":3.330078125,")":3.330078125,"-":3.330078125,".":2.7783203125,"/":2.7783203125,A:6.669921875,B:6.669921875,C:7.2216796875,D:7.2216796875,E:6.669921875,F:6.1083984375,G:7.7783203125,H:7.2216796875,I:2.7783203125,J:5,K:6.669921875,L:5.5615234375,M:8.330078125,N:7.2216796875,O:7.7783203125,P:6.669921875,Q:7.7783203125,R:7.2216796875,S:6.669921875,T:6.1083984375,U:7.2216796875,V:6.669921875,W:9.4384765625,X:6.669921875,Y:6.669921875,Z:6.1083984375,a:5.5615234375,b:5.5615234375,c:5,d:5.5615234375,e:5.5615234375,f:2.7783203125,g:5.5615234375,h:5.5615234375,i:2.2216796875,j:2.2216796875,k:5,l:2.2216796875,m:8.330078125,n:5.5615234375,o:5.5615234375,p:5.5615234375,q:5.5615234375,r:3.330078125,s:5,t:2.7783203125,u:5.5615234375,v:5,w:7.2216796875,x:5,y:5,z:5,"|":2.59765625}};var ntt=null,itt=!1;function att(){var e=null;if(We()){var t=new Vg.Canvas;t.width=1,t.height=1,e=t.getContext("2d")}else if(Ce||xe){e=(xe?new Vg.OffscreenCanvas(0,0):document.createElement("canvas")).getContext("2d")}return e}function ott(e,t){var r,n={};return fd("measureText",{text:e,fontSize:null!==(r=null==t?void 0:t.fontSize)&&void 0!==r?r:10,fontFamily:(null==t?void 0:t.fontFamily)||"sans-serif",fontWeight:"normal",fontStyle:"normal",complete(e){n={width:e.width||0}}}),n}function stt(e,t){var r={};if(itt)r=ott(e,t);else if(ntt||(ntt=att()),ntt){var n=t?`${t.fontSize||10}px ${t.fontFamily||"sans-serif"}`:null;n&&(ntt.font=n),r=ntt.measureText(e)}else itt=!0,r=ott(e,t);return r.width||0}var ltt=rtt.presetChars,ctt="PingFangSC-Regular, SF Pro Display, SF Pro Text";class utt{constructor(){}getCharWidth(e,t){return(ltt[e]?ltt[e]:10)*t/10}limitString(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}getTextWidth(e,t){return ke?this.getTextWidthInAndroid(e,t):Math.ceil(stt(e,t?{fontSize:t,fontFamily:ctt}:void 0)||0)+1}getTextWidthInAndroid(e,t){e=(e=String(e)).split("");var r=0;return e.forEach((e=>{var n=this.getCharWidth(e,t);r+=n})),r}getMaxWordLength(e,t,r,n=!0){e=(e=String(e)).split("");var i=0,a=0;n&&(r-=this.getTextWidth("...",t));for(var o=0;o<e.length;o++){var s=e[o],l=this.getCharWidth(s,t);if(i+l>r)break;a++,i+=l}return a}textMetrics(e,t){for(var{fontSize:r,maxWidth:n,maxLines:i=1}=t,a=[],o=0,s=e.substring(0,e.length);o<i;){var l=this.getMaxWordLength(s,r,n,!(o!==i-1)),c=o===i-1?this.limitString(s,l):s.substring(0,l);c&&a.push({text:c,width:this.getTextWidth(c,r)}),o++,s=s.substring(l,s.length)}return a}}const dtt=new utt;var ptt=new Ig("playableads",!1);function htt(e){ptt.on("playableStatusChange",e)}function ftt(e){ptt.off("playableStatusChange",e)}Ut("onPlayableStatusChange",(e=>{ptt.emit("playableStatusChange",e)}));var gtt=null,vtt=null,mtt=null,ytt=new Ig("playableadsNew",!1);function btt(e){ytt.on("playableStatusChangeNew",e)}function _tt(e){ytt.off("playableStatusChangeNew",e)}Ut("onPlayableStatusChangeNew",(e=>{ytt.emit("playableStatusChangeNew",e)}));var wtt={},Stt=()=>{var e=L.getCurrentRoutePathWithoutQuery();wtt[e]=!0},Ctt=Um("ad"),ktt={GameGlobal:pg,_onShow:dS,_onHide:kS,_offShow:pS,_offHide:IS,onBeforeHide:SS,onAfterHide:PS,offBeforeHide:CS,offAfterHide:TS,_downloadFileSkipCheckDomain:FC,touch:{},reportCanvasData:I$,ReportCanvasDataEventType:y$,checkAndUseAdSkipCard:Pet,_requestSkipCheckDomain:UA,onAppRoute:Jw,showToast:dj,_getNetworkType:eg,getChannelsLiveInfo:HOe,_showModal:ij,getInitScreenSize:hw,getSystemInfoSync:$b,onAppRouteDone:rG,onWindowResize:MW,beginAudioInterruption:Noe,endAudioInterruption:Boe,__wxConfig:re,onNativeEvent:cr,offNativeEvent:pr,onNetworkWeakChange:ng,getExptInfoSync:JV,addInnerShareCallbacks:Hje,onBeforeUnloadPage:SE,_onUserCaptureScreen:sB,getAdUxInfo:rn,getStableSystemInfo:pw,vibrateShort:EX,vibrateLong:MX,setNavigateBackInterception:dV,stopNavigateBackInterception:pV,NavigationBackTypes:QW,_gameTransfer:Eet,deviceInfoLoaded:dve,loadDeviceInfoByManual:pve,appRouteInfo:ive,getIndentityInfo:hve,deviceInfo:nve,proxyReady:ove,getDeviceOrientation:fve,webviewLayout:uKe,nativeviewLayout:dKe,View:pKe,Text:hKe,Image:Ret,Video:Vet,Component:Qet,initComponent:Zet,createComponent:Xet,getPrivateThis:Jet,removePrivateThis:Yet,invoke:dn,invokeMethod:fd,beforeInvoke:jc,onMethod:Ut,publish:qr,subscribe:Yr,invokeOperateWXDataPromise:rx,adReportOperateWXDataPromise:Pge,_invokeMethod:Sd,gametext:dtt,packageChannel:Ctt,getGameTouchStatus:()=>({}),onGameToucnEnd:()=>{},offGameToucnEnd:()=>{},onPlayableStatusChange:htt,offPlayableStatusChange:ftt,onPlayableStatusChangeNew:btt,offPlayableStatusChangeNew:_tt,_getABTestConfig:Wf,getInternalFileSystemManager:B_,readdir:Dy,stat:Mg,unlink:By,writeFile:Ty,readFileSync:Py,readFile:Iy,access:Ly,accessSync:Ny,wxNativeConsole:_,wxConsole:y,console:console,_createInnerAudioContext:Mse,invokeOperateWXData:tx,getHasPreloadAdMap:Ome,getPreloadIntersititialAd:Lme,getServicePreloadInfo:Ice,addPreloadInfoCbList:kce,interstitialAdShowNotify:Stt,getPreloadIntersititialAdStatus:$me,getPreloadingPromise:Fme,AIAD_INTERSTITIAL_ADUNITID:Fve,preloadAiInterstitialAiAd:yme,getCurrentShowAdPath:jme};const Itt=ktt;ret({name:"ad",waLibName:"WAAppAd.js",compileType:"app",globalName:"AD",globalGetter:()=>({console:console,wxConsole:y,wxNativeConsole:_,__wxConfig:re,__errorTracer__:E,Reporter:M,Foundation:m,WeixinJSBridge:k,IS_APP:!1,IS_APPSERVICE_SDK:!0,IS_WAGAME:!1,IS_WORKER:!1,wxRunOnDebug:g,__appServiceSDKAD__:Itt,readFile:Iy}),exportApis:{createRewardedVideoAd:{apiKey:"createRewardedVideoAd",noExportWx:!0},createInterstitialAd:{apiKey:"createInterstitialAd",noExportWx:!0},createCustomAd:{apiKey:"createCustomAd",noExportWx:!0},preloadAd:{apiKey:"preloadAd",noExportWx:!0}},provideInGlobal:"ADSDK",src:"./src/sdk/dist/app-ad.js",onInjectCallback:()=>{mk("ad",gk.injected)},emptyInjectKey:"inject"});var Ptt=Um("splash-ad"),Ttt={GameGlobal:pg,_onShow:dS,_onHide:kS,_offShow:pS,_offHide:IS,onBeforeHide:SS,onAfterHide:PS,offBeforeHide:CS,offAfterHide:TS,getMenuButtonBoundingClientRect:JW,_downloadFileSkipCheckDomain:FC,touch:{},reportCanvasData:I$,ReportCanvasDataEventType:y$,checkAndUseAdSkipCard:Pet,_requestSkipCheckDomain:UA,onAppRoute:Jw,showToast:dj,_getNetworkType:eg,getChannelsLiveInfo:HOe,_showModal:ij,getInitScreenSize:hw,getSystemInfoSync:$b,onAppRouteDone:rG,onWindowResize:MW,beginAudioInterruption:Noe,endAudioInterruption:Boe,__wxConfig:re,onNativeEvent:cr,offNativeEvent:pr,onNetworkWeakChange:ng,getExptInfoSync:JV,addInnerShareCallbacks:Hje,onBeforeUnloadPage:SE,_onUserCaptureScreen:sB,getAdUxInfo:rn,getStableSystemInfo:pw,vibrateShort:EX,vibrateLong:MX,_gameTransfer:Eet,deviceInfoLoaded:dve,loadDeviceInfoByManual:pve,webviewLayout:uKe,nativeviewLayout:dKe,View:pKe,Text:hKe,Image:Ret,Video:Vet,Component:Qet,initComponent:Zet,createComponent:Xet,getPrivateThis:Jet,removePrivateThis:Yet,invoke:dn,invokeMethod:fd,beforeInvoke:jc,onMethod:Ut,publish:qr,subscribe:Yr,invokeOperateWXDataPromise:rx,adReportOperateWXDataPromise:Pge,_invokeMethod:Sd,gametext:dtt,packageChannel:Ptt,getGameTouchStatus:()=>({}),_getABTestConfig:Wf,readdir:Dy,stat:Mg,unlink:By,writeFile:Ty,readFile:Iy,readFileSync:Py,access:Ly,accessSync:Ny,wxNativeConsole:_,wxConsole:y,console:console,_createInnerAudioContext:Mse,invokeOperateWXData:tx,getInternalFileSystemManager:B_,appRouteInfo:ive,proxyReady:ove,getDeviceOrientation:fve,deviceInfo:nve,getIndentityInfo:hve,getCurrentShowAdPath:jme};const Att=Ttt;ret({name:"splashFloatWindow",waLibName:"WASplashAdFloatWindow.js",globalName:"__splashAdFloatWindowSDK__",globalGetter:()=>({console:console,wxNativeConsole:_,__wxConfig:re,wxConsole:y,Reporter:M,Foundation:m,__IS_SPLASHAD_FLOAT_WINDOW_SUB_PACKAGE__:!0,wxRunOnDebug:g,__appServiceSDKAD__:Att,__errorTracer__:E,WeixinJSBridge:k,IS_APP:!1,IS_APPSERVICE_SDK:!0,IS_WAGAME:!0,IS_WORKER:!1,readFile:Iy,__appServiceEngine__:yr}),onInjectCallback:()=>{mk("splashFloatWindow",gk.injected)},reserveGlobal:!0,provideInGlobal:"__splashAdFloatWindowSDK__",src:"./src/sdk/dist/splashad-floating-sdk.js",emptyInjectKey:"inject"});var xtt=e=>{loadSdkSubPackage(e,getAllRegisterdSubPackageInfos()[e])},Ett=()=>{_loadAllSdkSubPackage(getAllRegisterdSubPackageInfos())},Mtt=e=>{vet(e)},Rtt,Dtt;re.onReady((()=>{var e=$tt(re.appLaunchInfo||{});Rtt=e.appLaunchInfo,Dtt=e.publicLaunchInfo}));var Ott="",Ltt=e=>{var t=Ott===e;return Ott=e,t},Ntt=()=>Dtt,Btt=()=>Rtt;function $tt(e={}){var t=e.shareInfo,r=e.scene,n=e.query||{};if("object"==typeof t&&null!==t&&(e.shareTicket=fp.set(t.shareKey,t.shareName),fp.lastShareTicket=e.shareTicket),e.query=e.query||{},e.scene=e.scene?parseInt(e.scene,10):e.scene,e.referrerInfo=e.referrerInfo||{},"string"==typeof e.referrerInfo.gameLiveInfo)try{e.referrerInfo.gameLiveInfo=JSON.parse(e.referrerInfo.gameLiveInfo)}catch(e){console.error("parse appLaunchInfo.referrerInfo.gameLiveInfo error",e)}1022===e.scene&&(n=e.query={}),Ie||ke?(Ltt(e.sessionid||e.sessionId)&&(n={}),1089===e.scene&&!1===e.reLaunch&&(n={})):!1===e.reLaunch&&(n={}),1158!==e.scene&&1159!==e.scene&&1160!==e.scene||!Vh("getGroupToolbarInfo")&&(r=1008),1044!==e.scene||e.chatroomUsername||(e.scene=1007,r=1007);var i={scene:r,query:n,shareTicket:e.shareTicket,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}};return e.referrerInfo.gameLiveInfo&&(i.referrerInfo.gameLiveInfo=e.referrerInfo.gameLiveInfo),re.debugLaunchInfo&&re.debugLaunchInfo.lanDebugInfo&&!1!==re.debugLaunchInfo.lanDebugInfo.useStaticServer&&(i.lanDebugInfo=re.debugLaunchInfo.lanDebugInfo),e.chatType&&(i.chatType=e.chatType),i.referrerInfo&&"wxb6d22f922f37b35a"===i.referrerInfo.appId&&(i.referrerInfo={}),{publicLaunchInfo:i,appLaunchInfo:e}}var Ftt=s_.WX_WE_INFO_CACHE_PATH_PREFIX.path,jtt=`${Ftt}/app_meta.json`,Wtt=B_(),Vtt=Cf(Wtt.readFile),Utt=Cf(Wtt.writeFile),ztt=Cf(Wtt.access),qtt=Cf(Wtt.mkdir),Htt=function(){var e=Vp()((function*(){try{yield ztt({path:Ftt})}catch(e){yield qtt({recursive:!0,dirPath:Ftt})}try{var{data:e}=yield Vtt({filePath:jtt,encoding:"utf8"});return JSON.parse(e)}catch(e){return null}}));return function(){return e.apply(this,arguments)}}(),Gtt=[1011,1013,1047,1049,1065,1194,1069],Ktt=!1;re.onReady(Vp()((function*(){if(1248===re.appLaunchInfo.scene){var e,{publicLaunchInfo:t}=$tt(re.appLaunchInfo||{}),{migrateSourceAppId:r,migrateSourceAppIdIsStared:n,migrateSourcePath:i,migrateSourceScene:a}=t.query;if(null!=i&&null!==(e=i.endsWith)&&void 0!==e&&e.call(i,".html")&&(t.query.migrateSourcePath=i.slice(0,-5)),delete t.query.migrateSourceAppIdIsStared,Gtt.includes(Number(a)))return;Xtt();var o=[r,re.accountInfo.appId],s=Htt(),l=Jtt(o);Promise.all([s,l]).then((([e,t])=>{t[0].migrateSourceAppIdIsStared=n,e&&e.has_migrate&&!Ktt||__sclEngine__.initScl((r=>{var n=r.mainRoot.append("miniprogram-migrate",{oldAppInfo:t[0],newAppInfo:t[1]});n.addListener("confirm",(()=>{var t=e;e||(t={}),t.has_migrate=!0,Utt({filePath:jtt,data:JSON.stringify(t)}).catch((e=>{_.warn("write migrate appinfo error: ",e)}))})),n.addListener("goFeedback",(()=>{var e={};e.url=`https://mp.weixin.qq.com/wxawap/wapreportwxadevlog?action=complain_feedback&appid=${re.accountInfo.appId}`,dU(e)}))}),!0)})).catch((e=>{_.warn("getMigrateInfo error: ",e)}))}})));var Jtt=e=>{var t=e.map((e=>new Promise(((t,r)=>{if(ke){var n=["RegisterSource.RegisterBody","WxaAppInfo.RoundedSquareIconUrl","base.nickName"].map((t=>new Promise(((r,n)=>{fd("getAppContact",{keyPath:t,appId:e,..."base.nickName"===t||"WxaAppInfo.RoundedSquareIconUrl"===t?{appid:e}:{},success(e){"base.nickName"===t?e={data:e.base.nickName}:"WxaAppInfo.RoundedSquareIconUrl"===t&&(e={data:e.base.iconUrl}),r(e)},fail(e){n(e)}})}))));Promise.all(n).then((e=>{var r={body:e[0].data,icon:e[1].data,nickname:e[2].data};t(r)})).catch((e=>{r(e)}))}else fd("getAppContact",{appId:e,success(e){var r,n=JSON.parse(e.data),i={body:n.RegisterSource.RegisterBody,icon:n.WxaAppInfo.RoundedSquareIconUrl,nickname:null===(r=e.base)||void 0===r?void 0:r.nickName};t(i)},fail(e){r(e)}})}))));return Promise.all(t)},Xtt=e=>rx({sdkApiName:"checkwxauserstarwxa",apiName:"webapi_checkwxauserstarwxa",reqData:{origin_appid:e,busitype:1}}).then((e=>{_.warn("checkwxauserstarwxa res: ",e)})).catch((e=>{_.warn("checkwxauserstarwxa error: ",e)})),Ytt=e=>{if($Ue()){var t=zUe[e.webviewId];if(wtt[t])return void _.warn("[aiad info] current page has dev interstitialAd");qr("loadPreviewInterstitialAd",{ope:e.ope},[e.webviewId])}else{var r={store:{dataPerformance(t){var r=hUe();if(r[e.path]){var n=r[e.path];n.hasRecordInterstitialAdPerformance||(n.interstitialAdRequestTime=t.cost,n.interstitialAdRequestResult=t.result,n.hasInterstitialAdPreload=t.preload,n.lastEnterTime?n.interstitialAdShowDistanceEnter=Date.now()-n.lastEnterTime:n.interstitialAdShowDistanceEnter=1,n.hasRecordInterstitialAdPerformance=!0)}}},emit(e,t){r.store[e]&&r.store[e](t)}},n=ZDe({aiadPlatformId:100,eventChannel:r});n.onError((e=>{_.warn("[aiad error] interstitialAd error: ",e)})),n.load();var i=!1;n.onLoad((()=>{if(L.getCurrentRoutePathWithoutQuery()===e.path||!e.path){var t=hUe();t[e.path]&&(t[e.path].hasInterstitialAdShow=!0);var r=n.show({showErrorInfo:!0});kt(r)&&r.then((r=>{i=!0,t[e.path]&&void 0===t[e.path].interstitialAdShowResult&&(t[e.path].interstitialAdShowResult=!0)})).catch((r=>{i||(2002===r.errCode&&r.distanceNext&&setTimeout((()=>{e.path&&L.getCurrentRoutePathWithoutQuery()!==e.path||Ytt(e)}),r.distanceNext),t[e.path]&&void 0===t[e.path].interstitialAdShowResult&&(t[e.path].interstitialAdShowResult=!1))}))}}))}};m.on("emitInterstitialAiad",Ytt);var Qtt=B_(),Ztt=Cf(Qtt.writeFile),ert=Cf(Qtt.access),trt=Cf(Qtt.mkdir),rrt=Cf(Qtt.readFile),nrt=s_.WX_CACHE_DEBUG_PREFIX.path;Yr("customAdFetchCache",(e=>{irt(JSON.stringify({customAd:e}))})),Yr("getCustomAdFetchCache",function(){var e=Vp()((function*(e,t){var r=yield art();qr("getCustomAdFetchCache",r,[t])}));return function(t,r){return e.apply(this,arguments)}}());var irt=function(){var e=Vp()((function*(e){try{yield ert({path:nrt})}catch(e){yield trt({dirPath:nrt})}yield Ztt({filePath:`${nrt}/debugutils_cachedata.txt`,data:e,encoding:"utf-8"})}));return function(t){return e.apply(this,arguments)}}(),art=function(){var e=Vp()((function*(e){try{yield ert({path:nrt})}catch(e){yield trt({dirPath:nrt})}var t=yield rrt({filePath:`${nrt}/debugutils_cachedata.txt`,encoding:"utf-8"});return JSON.parse(t.data).customAd}));return function(t){return e.apply(this,arguments)}}();Yr("aiadPreloadEnable",((e,t)=>{var r,n=e.platformId,i=uUe({ope:null!==(r=e.ope)&&void 0!==r?r:"modifyStatus",platformId:e.platformId,status:e.status,type:"interstitial"},t),a="aiadPreloadEnableDone";"interstitial"===e.type&&(a="aiadInterstitalAdPreloadEnableDone"),kt(i)&&i.then((e=>{null!=e&&e.result?qr(a,{platformId:n,status:!0},[t]):qr(a,{platformId:n,status:!1},[t])})).catch((e=>{qr(a,{platformId:n,status:!1},[t])}))}));var ort=(e,t)=>{for(var r=t.shape[0],n=t.shape[1],i=0,a={},o={},s=Date.now(),l=0;l<e.length;l++){var c=e[l],u=Math.floor((l+1)/(3*r)),d=l+1-u*r*3;3===(i=0===i&&c>=166&&c<=170?1:1===i&&c>=198&&c<=202?2:2===i&&c>=179&&c<=183?3:0)&&(i=0,a[u]||(a[u]=0),o[d]||(o[d]=0),a[u]++,o[d]++)}var p=Date.now()-s;return{ret:!srt(a,o,{width:r,height:n,adWidth:t.adWidth*t.pixelRatio,adHeight:t.adHeight*t.pixelRatio}),cost:p}},srt=(e,t,r)=>{var n,i,a,o,{width:s,height:l,adWidth:c,adHeight:u}=r;for(var d in e){var p=e[d];d<.25*l&&p>.95*c?n=!0:d>.75*l&&p>.95*c&&(i=!0)}for(var h in t){var f=t[h];h<.25*s&&f>.95*u?a=!0:h>.75*s&&f>.95*u&&(o=!0)}return!!(n&&i&&a&&o)},lrt,crt,urt={},drt={};Yr("startAdCVShot",((e,t)=>{var r=Date.now(),n=$b(),i=e.frame,a=e.id,o=e.extraInfo,s=n.pixelRatio,l=e.top,c=e.bottom,u=e.type;i||_.warn("startAdCVShot fail: incorrect frame");var{x:d,y:p,width:h,height:f,scrollY:g}=i;if(void 0!==d&&void 0!==p&&void 0!==h&&void 0!==f){var v=0,m=0;p>=1&&(v=1,m=1,(p-=1)+(f+=2)>n.screenHeight&&(f-=1,m-=1));Math.floor(d),Math.floor(p),Math.ceil(h),Math.ceil(f);var y=h>f?h:f,b=Math.floor(d),w=Math.floor(p),S=Math.ceil(h),C=Math.ceil(f);urt[a]={x:b,y:w,width:S,height:C,ratio:s,webviewId:t,topArea:l,bottomArea:c,fillDown:m,fillUp:v,screenshotId:crt++,adId:a,extraInfo:o,checkType:u,startTimestamp:r},fd("setAppSnapshotStrategy",{frame:[b,Ie?w+g:w,S,C],shortEdge:y,ignoreNative:!0,success(e){_.warn(`setAppSnapshotStrategy success frame: [${n.screenWidth}, ${n.screenHeight}]`)},fail(e){dj({icon:"error",title:"系统失败-101"}),qr("visionCheckAiadEnd",{ret:2,id:a,type:1},[t]),_.warn("setAppSnapshotStrategy fail",e,[b,w,S,C,t])}})}else _.warn("startAdCVShot fail: incorrect frame")}));var prt=e=>{for(var t=new ArrayBuffer(e.byteLength/4*3),r=new Uint8ClampedArray(e),n=new Uint8ClampedArray(t),i=0,a=0,o=0;o<r.length;o++)++a%4==0?a=0:(n[i]=r[o],i++);return n.buffer},hrt=e=>{for(var t=new ArrayBuffer(e.byteLength/3),r=new Uint8ClampedArray(e),n=new Uint8ClampedArray(t),i=0,a=0;a<r.length;)if(a%3==0){var o=r[a],s=r[a+1],l=r[a+2],c=Math.round(.299*o+.578*s+.114*l);n[i]=c,a+=3,i++}else a++;return n},frt=e=>{for(var t=new ArrayBuffer(e.byteLength/4*3),r=new Uint8ClampedArray(e),n=new Uint8ClampedArray(t),i=0,a=0,o=0;o<r.length;o++)++a%4==0?a=0:(n[i]=r[o],i++);return n};cr("onAppSnapshotDump",(e=>{var t=0,r=0,n=0,i=0,a=!1;Date.now();try{var o,s=null===(o=re.appLaunchInfo)||void 0===o?void 0:o.openId,l=e.shape||[],c=Object.values(urt).sort(((e,t)=>e.screenshotId-t.screenshotId)),u=c[0];if(!u)return void dj({icon:"error",title:"系统失败-102"});var d,p=u.adId,h=urt[p],f=h.checkType,g=setTimeout((()=>{a=!0,dj({icon:"error",title:"系统超时"}),qr("visionCheckAiadEnd",{ret:2,id:p,type:1},[h.webviewId])}),5e3-(Date.now()-h.startTimestamp)),v=(l[1],l[0],frt(e.buffer));if(Vh("aiadVisionUseGrayInput")&&(v=hrt(v.buffer)),t=Date.now()-h.startTimestamp,"self"===f){var m,y={...h.extraInfo,pixelRatio:h.ratio,shape:l};null!==(m=d=ort(v,y))&&void 0!==m&&m.ret&&QWe({resultType:2,isBeShelter:!0})}var b,w=v.buffer;void 0!==p&&(qr("visionCheckAiadEnd",{ret:0,id:p,needClear:!1,type:1},[h.webviewId]),delete urt[p]);var S=Date.now();new Promise(((t,r)=>{UA({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?testrgb=1&action=uploadimg&buf_type=rgb&openid=${s}&height=${e.shape[1]}&width=${e.shape[0]}`,method:"POST",data:w,success(e){_.warn("上传bmp图像完成",e),b=e.data.media_id_str,t({media_id:e.data.media_id_str,type:"bmp"})},fail(e){_.warn("上传bmp图像失败",e),r(e)}})})),new Promise(((t,n)=>{UA({url:`https://mp.weixin.qq.com/publicpoc/uploadwxaimg?action=uploadimg&openid=${s}&height=${e.shape[1]}&width=${e.shape[0]}`,method:"POST",data:w,success(e){r=Date.now()-S,_.warn("上传原始图像完成",e),t({media_id:e.data.media_id_str,type:"raw"})},fail(e){_.warn("上传原始图像失败",e),n(e)}})})).then((o=>{if(h)if("self"!==f)try{var s=JSON.stringify({top:h.topArea?{top:0,height:Math.ceil((h.topArea.height+2)*h.ratio)}:void 0,bottom:h.bottomArea?{top:Math.floor((h.bottomArea.y-h.topArea.y+1)*h.ratio),height:Math.ceil((h.bottomArea.height+1)*h.ratio)}:void 0,shape:{width:e.shape[0],height:e.shape[1]},pixelRatio:h.ratio}),l=bVe(),c=Date.now(),u={cdn_img_id:o.media_id,img_shape:{width:e.shape[0],height:e.shape[1],channel:Vh("aiadVisionUseGrayInput")?1:3},url:"",desc:s,options:JSON.stringify({useSDF:!0,useGrayInput:Vh("aiadVisionUseGrayInput")}),is_gray:Vh("useGrayInput")},v=Date.now(),m=[new Promise(((o,s)=>{rx({apiName:"webapi_checkwxaaiadpreviewurl",reqData:u}).then((e=>{if(n=Date.now()-v,a)throw new Error("timeout");i=Date.now()-h.startTimestamp,_.warn("webapi_checkwxaaiadpreviewurl at1 res: ",e," cost: ",Date.now()-c," allcost: ",i),clearTimeout(g),drt[p]={allCost:i,screenshotCost:t,uploadCost:r,inferenceCost:n,isTimeout:a,inferenceResult:!0},qr("visionCheckAiadEnd",{ret:0,id:p,needClear:!0,type:2,optimize:e.data.result,pixelRatio:h.ratio,extra:{fillUp:h.fillUp,fillDown:h.fillDown,topScreenshotId:e.data.top_media_id,bottomScreenshotId:e.data.bottom_media_id}},[h.webviewId]),o(e)})).catch((o=>{if(a)return s("timeout");s(o),_.warn("webapi_checkwxaaiadpreviewurl at1 err: ",o),u.bmpStrId=b,clearTimeout(g),dj({icon:"error",title:"系统失败-103"}),tVe({allCost:i,screenshotCost:t,uploadCost:r,inferenceCost:n,isTimeout:a,inferenceResult:!1,path:L.getCurrentRoutePathWithoutQuery()}),qr("visionCheckAiadEnd",{ret:0,id:p,needClear:!0,type:2,optimize:e.data.result,pixelRatio:h.ratio,extra:{fillUp:h.fillUp,fillDown:h.fillDown,topScreenshotId:e.data.top_media_id,bottomScreenshotId:e.data.bottom_media_id}},[h.webviewId]),qr("aiadVisionTaskError",{errMsg:"error",errCode:o.errCode,argument:u},[h.webviewId])}))}))];Promise.all(m).then((e=>{if(l)e[0],e[1];_.warn("[aiad vision] check finish")}))}catch(e){_.warn("prehandle webapi_checkwxaaiadpreviewurl error: ",null!=e&&e.errMsg?null==e?void 0:e.errMsg:e)}else qr("visionCheckAiadEnd",{ret:d,id:p,type:2},[h.webviewId]);else _.warn("[aiad exception] unexpected targetAdFrame")}))}catch(e){_.warn("onAppSnapshotDump error: ",e)}})),Yr("visionCheckAiadEndCallback",(e=>{var t=e.id,r=drt[t];r.optimizeResult=e.result,r.optimizeValid=!e.noChange,tVe({allCost:r.allCost,screenshotCost:r.screenshotCost,uploadCost:r.uploadCost,inferenceCost:r.inferenceCost,isTimeout:r.isTimeout,inferenceResult:r.inferenceResult,optimizeResult:r.optimizeResult,optimizeValid:r.optimizeValid,path:L.getCurrentRoutePathWithoutQuery()}),delete drt[t]}));var grt=(e={})=>{if("string"==typeof e.path&&e.path.length>0){var t=e.path,r=Kx("restartMiniProgram",Object.assign(e,{url:t}),!1);r&&(t=zd(t=r||""),fd("restart",Object.assign({},e,{force:!0,mode:"default",url:t,scene:void 0}),{beforeAll:e=>{e.errMsg=e.errMsg.replace("restart:","restartMiniProgram:")}}))}else Vc("restartMiniProgram",e,"invalid path")},vrt=B_(),mrt=Cf(vrt.readFile),yrt="wxfile://ad",brt=`${yrt}/interstitialAdExtInfo.txt`,_rt={};re.onReady((()=>{if(re.appContactInfo&&re.appContactInfo.passThroughInfo){var e=re.appContactInfo.passThroughInfo.wxa_mgr;e&&(e.mgr_list.forEach(function(){var e=Vp()((function*(e){if(!_rt[e.id]&&(_rt[e.id]=!0,982===e.id)){var t=!1;try{var{data:r}=yield mrt({filePath:brt,encoding:"utf8"});1==(r=JSON.parse(r)).isPreloadAd&&(t=!0)}catch(e){}if(t){e.value;0,gme([{type:"interstitial"}])}}}));return function(t){return e.apply(this,arguments)}}()),_rt={})}}));var wrt=(e={})=>{fd("choosePhoneNumberAreaCode",e)};Gr("webviewComponentLoad",(e=>{if(e.data){var{cache_length:t,cache_tier:r,load_cache_cost:n,run_cost:i,use_code_cache:a,file_name:o,platform:s,cost:l}=e.data;Srt({cacheLength:t,cacheTier:r,loadCacheCost:n,runCost:i,useCodeCache:a,fileName:o,platform:s,cost:l})}}));var Srt=({fileName:e,useCodeCache:t,cacheLength:r,cacheTier:n,loadCacheCost:i,runCost:a,platform:o,cost:s})=>{var l=[e,t?1:0,r,n,i,a,o,s].join(",");_.info("report system component lazyload component: ",e,o,s),M.reportKeyValue({key:"systemComponentLazyLoad",value:l,force:!0})};Gr("webviewComponentLoadBatch",(e=>{var t=e.data;t&&t.forEach((e=>{var{cache_length:t,cache_tier:r,load_cache_cost:n,run_cost:i,use_code_cache:a,file_name:o,platform:s,cost:l}=e;Srt({cacheLength:t,cacheTier:r,loadCacheCost:n,runCost:i,useCodeCache:a,fileName:o,platform:s,cost:l})}))}));var{PxStatus:Crt,asyncSetup:krt,getStatus:Irt}=u,Prt=hke.cache,Trt,Art,xrt=()=>Trt||(Trt=new Promise((e=>{var t=()=>{Irt()===Crt.Collecting?e(!0):Art=setTimeout(t,100)};t()}))),Ert;function Mrt(e){return Rrt.apply(this,arguments)}function Rrt(){return(Rrt=Vp()((function*(e){var t,r=!0;return void 0!==(null==e?void 0:e.isWhitelistMaskMode)?r=e.isWhitelistMaskMode:null!=e&&e.maskMode&&(r="all-mask"===e.maskMode),Urt(),krt(Object.assign(e||{},{projectId:null==re||null===(t=re.accountInfo)||void 0===t?void 0:t.appId,isWhitelistMaskMode:r,newSessionCallback:t=>{var r;null==e||null===(r=e.newSessionCallback)||void 0===r||r.call(e,t),Urt()}}))}))).apply(this,arguments)}function Drt(){return Ort.apply(this,arguments)}function Ort(){return(Ort=Vp()((function*(){clearTimeout(Art),yield mL(),Trt=void 0}))).apply(this,arguments)}function Lrt(e){return Nrt.apply(this,arguments)}function Nrt(){return Nrt=Vp()((function*(e){yield xrt(),wL(e)})),Nrt.apply(this,arguments)}function Brt(e){return $rt.apply(this,arguments)}function $rt(){return($rt=Vp()((function*(e){yield xrt(),bL(e)}))).apply(this,arguments)}function Frt(e,t,r){var n=`[wxobs] ${e} 调用错误,`;try{if("object"==typeof t&&null!==t){var i=Boolean(t.__cos_only__),a=Object.keys(t);if(i||a.length<=10){for(var o=0;o<a.length;o++){if(a[o].length>50&&!a[o].includes(","))return console.error(`${n}${a[o]} 属性key过长，需<=50，且不包含','`),!1;var s=t[a[o]];if("string"==typeof s){if(!i&&(s.length>255||s.includes(",")))return console.error(`${n}${a[o]} 属性 value 不符合规则，长度不能超过 255 且不能包含英文逗号（,），如需包含请先转义`),!1;r[`wxobs_props_${a[o]}_string`]=s}else{if(!Number.isSafeInteger(s))return console.error(`${n}${a[o]}属性value不符合规则`),!1;r[`wxobs_props_${a[o]}_int`]=`${s}`}}return i&&(r.__cos_only__="1"),!0}console.error(`${n} 需要少于 10 个属性`)}else console.error(`${n} 需要为 Object`)}catch(e){console.error(n,e)}return!1}function jrt(e,t={}){var r={};if(Frt("event",t,r)){if("string"==typeof e&&e.length<=50&&!e.includes(","))return Brt({wxobs_type:"__userob_default_custom_event_emit__",wxobs_primary_event_name:e,...r}),!0;console.error("[wxobs] event 调用错误，eventName 需要少于50个字符")}return!1}function Wrt(e){return"string"==typeof e&&e.length<=80&&!e.includes(",")?(Brt({wxobs_type:"__userob_default_custom_id_set__",wxobs_primary_uid:e}),Ert=e,Prt.setStorage({key:"wxobs_cache_uid",data:e}),!0):(console.error(`[wxobs] setCustomId 调用错误，自定义 id 必须为字符串且少于80个字符, 当前输入为'${e}'`),!1)}function Vrt(e){if(!Ert)return console.error("[wxobs] 调用 setCustomProperties 失败：需先调用 setCustomId"),!1;var t={};return!!Frt("setCustomProperties",e,t)&&(Brt({wxobs_type:"__userob_default_custom_props_set__",wxobs_primary_uid:Ert,...t}),!0)}function Urt(){try{var e=Prt.getStorageSync("wxobs_cache_uid");e&&Wrt(e)}catch(e){}}var zrt=()=>({setup:Mrt,event:jrt,setCustomId:Wrt,setCustomProperties:Vrt,teardown:Drt,setAttrs:Lrt,getStatus:Irt,getSessionId:()=>L2.uuid,getFeatureFlags:tL,getFeatureFlagsSync:nL}),qrt,Hrt;Ut("onContactUpdate",(()=>{})),vet({handleWxobsError:XD,asyncSetup:fL,setup:NL,setAttrs:wL,teardown:mL,emitEvent:bL,getStatus:SL,getFeatureFlags:tL,getFeatureFlagsSync:nL});try{P.onWorkerMsg(((e,t)=>{var{__cmd__:r,data:n}=t;if("data"===r&&n){var{type:i,adData:a}=n;if("splashAdCreateExtend"===i){if(!qrt)try{qrt=__splashAdFloatWindowSDK__.getInst(a)}catch(e){_.warn("__splashAdFloatWindowSDK__.getInst error: ",e)}Hrt=a}"splashAdShowExtend"===i&&(qrt||(qrt=__splashAdFloatWindowSDK__.getInst(a||Hrt)),qrt.show())}}))}catch(e){}function Grt(e,t=1){var r=void 0;return gR("deprecated",{hookHandlers:{beforeExecute(){void 0===r&&(r=Math.random()*t<=1),r&&Bb(t>1?`${this.api} (*${t})`:this.api),console.warn(`wx.${this.api} is deprecated.${e?`Please use ${e} instead.`:""}`)}},getState:()=>({api:void 0})})}var Krt=nr("KeyDown"),Jrt=nr("KeyUp");Ut("onKeyDown",(e=>{_.info("onKeyDown",e),Krt.emit(e)})),Ut("onKeyUp",(e=>{_.info("onKeyUp",e),Jrt.emit(e)}));var Xrt=Krt.onMethod,Yrt=Krt.offMethod,Qrt=Jrt.onMethod,Zrt=Jrt.offMethod,ent="openGameDetail";function tnt(e={}){if(Vh(ent)){if(jc(ent,e,{appId:"",promotionId:""})){var{appId:t="",promotionId:r=""}=e;fd(ent,{appId:t,promotionId:r,success:t=>{zc({name:ent,args:e,errMsg:t.errMsg})},fail:t=>{Vc(ent,e,t.errMsg)}})}}else Vc(ent,e,"no permission")}var rnt=nr("ActivePageChanged"),nnt=rnt.onMethod,int=rnt.offMethod,ant,ont,snt,lnt,cnt,unt,dnt,pnt,hnt,fnt,gnt,vnt,mnt,ynt,bnt,_nt,wnt,Snt,Cnt,knt,Int,Pnt,Tnt,Ant,xnt,Ent,Mnt,Rnt,Dnt,Ont,Lnt,Nnt,Bnt,$nt,Fnt,jnt,Wnt,Vnt,Unt,znt,qnt,Hnt,Gnt,Knt,Jnt,Xnt,Ynt,Qnt,Znt,eit,tit,rit,nit,iit,ait,oit,sit,lit,cit,uit,dit,pit,hit,fit,git,vit,mit,yit,bit,_it,wit,Sit,Cit,kit,Iit,Pit,Tit,Ait,xit,Eit,Mit,Rit,Dit,Oit,Lit,Nit,Bit,$it,Fit,jit,Wit,Vit,Uit,zit,qit,Hit,Git,Kit,Jit,Xit,Yit,Qit,Zit,eat,tat,rat,nat,iat,aat,oat,sat,lat,cat,uat,dat,pat,hat,fat,gat,vat,mat,yat,bat,_at,wat,Sat,Cat,kat,Iat,Pat,Tat,Aat,xat,Eat,Mat,Rat,Dat,Oat,Lat,Nat,Bat,$at,Fat,jat,Wat,Vat,Uat,zat,qat,Hat,Gat,Kat,Jat,Xat,Yat,Qat,Zat,eot,tot,rot,not,iot,aot,oot,sot,lot,cot,uot,dot,pot,hot,fot,got,vot,mot,yot,bot,_ot,wot,Sot,Cot,kot,Iot,Pot,Tot,Aot,xot,Eot,Mot,Rot,Dot,Oot,Lot,Not,Bot,$ot,Fot,jot,Wot,Vot,Uot,zot,qot,Hot,Got,Kot,Jot,Xot,Yot,Qot,Zot,est,tst,rst,nst,ist,ast,ost,sst,lst,cst,ust,dst,pst,hst,fst,gst,vst,mst,yst,bst,_st,wst,Sst,Cst,kst,Ist,Pst,Tst,Ast,xst,Est,Mst,Rst,Dst,Ost,Lst,Nst,Bst,$st,Fst,jst,Wst,Vst,Ust,zst,qst,Hst,Gst,Kst,Jst,Xst,Yst,Qst,Zst,elt,tlt,rlt,nlt,ilt,alt,olt,slt,llt,clt,ult,dlt,plt,hlt,flt,glt,vlt,mlt,ylt,blt,_lt,wlt,Slt,Clt,klt,Ilt,Plt,Tlt,Alt,xlt,Elt,Mlt,Rlt,Dlt,Olt,Llt,Nlt,Blt,$lt,Flt,jlt,Wlt,Vlt,Ult,zlt,qlt,Hlt,Glt,Klt,Jlt,Xlt,Ylt,Qlt,Zlt,ect,tct,rct,nct,ict,act,oct,sct,lct,cct,uct,dct,pct,hct,fct,gct,vct,mct,yct,bct,_ct,wct,Sct,Cct,kct,Ict,Pct,Tct,Act,xct,Ect,Mct,Rct,Dct,Oct,Lct,Nct,Bct,$ct,Fct,jct,Wct,Vct,Uct,zct,qct,Hct,Gct,Kct,Jct,Xct,Yct,Qct,Zct,eut,tut,rut,nut,iut,aut,out,sut,lut,cut,uut,dut,put,hut,fut,gut,vut,mut,yut,but,_ut,wut,Sut,Cut,kut,Iut,Put,Tut,Aut,xut,Eut,Mut,Rut,Dut,Out,Lut,Nut,But,$ut,Fut,jut,Wut,Vut,Uut,zut,qut,Hut,Gut,Kut,Jut,Xut,Yut,Qut,Zut,edt,tdt,rdt,ndt,idt,adt,odt,sdt,ldt,cdt,udt,ddt,pdt,hdt,fdt,gdt,vdt,mdt,ydt,bdt,_dt,wdt,Sdt,Cdt,kdt,Idt,Pdt,Tdt,Adt,xdt,Edt,Mdt,Rdt,Ddt,Odt,Ldt,Ndt,Bdt,$dt,Fdt,jdt,Wdt,Vdt,Udt,zdt,qdt,Hdt,Gdt,Kdt,Jdt,Xdt,Ydt,Qdt,Zdt,ept,tpt,rpt,npt,ipt,apt,opt,spt,lpt,cpt,upt,dpt,ppt,hpt,fpt,gpt,vpt,mpt,ypt,bpt,_pt,wpt,Spt,Cpt,kpt,Ipt,Ppt,Tpt,Apt,xpt,Ept,Mpt,Rpt,Dpt,Opt,Lpt,Npt,Bpt,$pt,Fpt,jpt,Wpt,Vpt,Upt,zpt,qpt,Hpt,Gpt,Kpt,Jpt,Xpt,Ypt,Qpt,Zpt,eht,tht,rht,nht,iht,aht,oht,sht,lht,cht,uht,dht,pht,hht,fht,ght,vht,mht,yht,bht,_ht,wht,Sht,Cht,kht,Iht,Pht,Tht,Aht,xht,Eht,Mht,Rht,Dht,Oht,Lht,Nht,Bht,$ht,Fht,jht,Wht,Vht,Uht,zht,qht,Hht,Ght,Kht,Jht,Xht,Yht,Qht,Zht,eft,tft,rft,nft,ift,aft,oft,sft,lft,cft,uft,dft,pft,hft,fft,gft,vft,mft,yft,bft,_ft,wft,Sft,Cft,kft,Ift,Pft,Tft,Aft,xft,Eft,Mft,Rft,Dft,Oft,Lft,Nft,Bft,$ft,Fft,jft,Wft,Vft,Uft,zft,qft,Hft,Gft,Kft,Jft,Xft,Yft,Qft,Zft,egt,tgt,rgt,ngt,igt,agt,ogt,sgt,lgt,cgt,ugt,dgt,pgt,hgt,fgt,ggt,vgt,mgt,ygt,bgt,_gt,wgt,Sgt,Cgt,kgt,Igt,Pgt,Tgt,Agt,xgt,Egt,Mgt,Rgt,Dgt,Ogt,Lgt,Ngt,Bgt,$gt,Fgt,jgt,Wgt,Vgt,Ugt,zgt,qgt,Hgt,Ggt,Kgt,Jgt,Xgt,Ygt,Qgt,Zgt,evt,tvt,rvt,nvt,ivt,avt,ovt,svt,lvt,cvt,uvt,dvt,pvt,hvt,fvt,gvt,vvt,mvt,yvt,bvt,_vt,wvt,Svt,Cvt,kvt,Ivt,Pvt,Tvt,Avt,xvt,Evt,Mvt,Rvt,Dvt,Ovt,Lvt,Nvt,Bvt,$vt,Fvt,jvt,Wvt,Vvt,Uvt,zvt,qvt,Hvt,Gvt,Kvt,Jvt,Xvt,Yvt,Qvt,Zvt,emt,tmt,rmt,nmt,imt,amt,omt,smt,lmt,cmt,umt,dmt,pmt,hmt,fmt,gmt,vmt,mmt,ymt,bmt,_mt,wmt,Smt,Cmt,kmt,Imt,Pmt,Tmt,Amt,xmt,Emt,Mmt,Rmt,Dmt,Omt,Lmt,Nmt,Bmt,$mt,Fmt,jmt,Wmt,Vmt,Umt,zmt,qmt,Hmt,Gmt,Kmt,Jmt,Xmt,Ymt,Qmt,Zmt,eyt,tyt,ryt,nyt,iyt,ayt,oyt,syt,lyt,cyt,uyt,dyt,pyt,hyt,fyt,gyt,vyt,myt,yyt,byt,_yt,wyt,Syt,Cyt,kyt,Iyt,Pyt,Tyt,Ayt,xyt,Eyt,Myt,Ryt,Dyt,Oyt,Lyt,Nyt,Byt,$yt,Fyt,jyt,Wyt,Vyt,Uyt,zyt,qyt,Hyt,Gyt,Kyt,Jyt,Xyt,Yyt,Qyt,Zyt,ebt,tbt,rbt,nbt,ibt,abt,obt,sbt,lbt,cbt,ubt,dbt,pbt,hbt,fbt,gbt,vbt,mbt,ybt,bbt,_bt,wbt,Sbt,Cbt,kbt,Ibt,Pbt,Tbt,Abt,xbt,Ebt,Mbt,Rbt,Dbt,Obt,Lbt,Nbt,Bbt,$bt,Fbt,jbt,Wbt,Vbt,Ubt,zbt,qbt,Hbt,Gbt,Kbt,Jbt,Xbt,Ybt,Qbt,Zbt,e_t,t_t,r_t,n_t,i_t,a_t,o_t,s_t,l_t,c_t,u_t,d_t,p_t,h_t,f_t,g_t,v_t,m_t,y_t,b_t,__t,w_t,S_t,C_t,k_t,I_t,P_t,T_t,A_t,x_t,E_t,M_t,R_t,D_t,O_t,L_t,N_t,B_t,$_t,F_t,j_t,W_t,V_t,U_t,z_t,q_t,H_t,G_t,K_t,J_t,X_t,Y_t,Q_t,Z_t,ewt,twt,rwt,nwt,iwt,awt,owt,swt,lwt,cwt,uwt,dwt,pwt,hwt,fwt,gwt,vwt,mwt,ywt,bwt,_wt,wwt,Swt,Cwt,kwt,Iwt,Pwt,Twt,Awt,xwt,Ewt,Mwt,Rwt,Dwt,Owt,Lwt,Nwt,Bwt,$wt,Fwt,jwt,Wwt,Vwt,Uwt,zwt,qwt,Hwt,Gwt,Kwt,Jwt,Xwt,Ywt,Qwt,Zwt,eSt,tSt,rSt,nSt,iSt,aSt,oSt,sSt,lSt,cSt,uSt,dSt,pSt,hSt,fSt,gSt,vSt,mSt,ySt,bSt,_St,wSt,SSt,CSt,kSt,ISt,PSt,TSt,ASt,xSt,ESt,MSt,RSt,DSt,OSt,LSt,NSt,BSt,$St,FSt,jSt,WSt,VSt,USt,zSt,qSt,HSt,GSt,KSt,JSt,XSt,YSt,QSt,ZSt,eCt,tCt,rCt,nCt,iCt,aCt,oCt,sCt,lCt,cCt,uCt,dCt,pCt,hCt,fCt,gCt,vCt,mCt,yCt,bCt,_Ct,wCt,SCt,CCt,kCt,ICt,PCt,TCt,ACt,xCt,ECt,MCt,RCt,DCt,OCt,LCt,NCt,BCt,$Ct,FCt,jCt,WCt,VCt,UCt,zCt,qCt,HCt,GCt,KCt,JCt,XCt,YCt,QCt,ZCt,ekt,tkt,rkt,nkt,ikt,akt,okt,skt,lkt,ckt,ukt,dkt,pkt,hkt,fkt,gkt,vkt,mkt,ykt,bkt,_kt,wkt,Skt,Ckt,kkt,Ikt,Pkt,Tkt,Akt,xkt,Ekt,Mkt,Rkt,Dkt,Okt,Lkt,Nkt,Bkt,$kt,Fkt,jkt,Wkt,Vkt,Ukt,zkt,qkt,Hkt,Gkt,Kkt,Jkt,Xkt,Ykt,Qkt,Zkt,eIt,tIt,rIt,nIt,iIt,aIt,oIt,sIt,lIt,cIt,uIt,dIt,pIt,hIt,fIt,gIt,vIt,mIt,yIt,bIt,_It,wIt,SIt,CIt,kIt,IIt,PIt,TIt,AIt,xIt,EIt,MIt,RIt,DIt,OIt,LIt,NIt,BIt,$It,FIt,jIt,WIt,VIt,UIt,zIt,qIt,HIt,GIt,KIt,JIt,XIt,YIt,QIt,ZIt,ePt,tPt,rPt,nPt,iPt,aPt,oPt,sPt,lPt,cPt,uPt,dPt,pPt,hPt,fPt,gPt,vPt,mPt,yPt,bPt,_Pt,wPt,SPt,CPt,kPt,IPt,PPt,TPt,APt,xPt,EPt,MPt,RPt,DPt,OPt,LPt,NPt,BPt,$Pt,FPt,jPt,WPt,VPt,UPt,zPt,qPt,HPt,GPt,KPt,JPt,XPt,YPt,QPt,ZPt,eTt,tTt,rTt,nTt,iTt,aTt,oTt,sTt,lTt,cTt,uTt,dTt,pTt,hTt,fTt,gTt,vTt,mTt,yTt,bTt,_Tt,wTt,STt,CTt,kTt,ITt,PTt,TTt,ATt,xTt,ETt,MTt,RTt,DTt,OTt,LTt,NTt,BTt,$Tt,FTt,jTt,WTt,VTt,UTt,zTt,qTt,HTt,GTt,KTt,JTt,XTt,YTt,QTt,ZTt,eAt,tAt,rAt,nAt,iAt,aAt,oAt,sAt,lAt,cAt,uAt,dAt,pAt,hAt,fAt,gAt,vAt,mAt,yAt,bAt,_At,wAt,SAt,CAt,kAt,IAt,PAt,TAt,AAt,xAt,EAt,MAt,RAt,DAt,OAt,LAt,NAt,BAt,$At,FAt,jAt,WAt,VAt,UAt,zAt,qAt,HAt,GAt,KAt,JAt,XAt,YAt,QAt,ZAt,ext,txt,rxt,nxt,ixt,axt,oxt,sxt,lxt,cxt,uxt,dxt,pxt,hxt,fxt,gxt,vxt,mxt,yxt,bxt,_xt,wxt,Sxt,Cxt,kxt,Ixt,Pxt,Txt,Axt,xxt,Ext,Mxt,Rxt,Dxt,Oxt,Lxt,Nxt,Bxt,$xt,Fxt,jxt,Wxt,Vxt,Uxt,zxt,qxt,Hxt,Gxt,Kxt,Jxt,Xxt,Yxt,Qxt,Zxt,eEt,tEt,rEt,nEt,iEt,aEt,oEt,sEt,lEt,cEt,uEt,dEt,pEt,hEt,fEt,gEt,vEt,mEt,yEt,bEt,_Et,wEt,SEt,CEt,kEt,IEt,PEt,TEt,AEt,xEt,EEt,MEt,REt,DEt,OEt,LEt,NEt,BEt,$Et,FEt,jEt,WEt,VEt,UEt,zEt,qEt,HEt,GEt,KEt,JEt,XEt,YEt,QEt,ZEt,eMt,tMt,rMt,nMt,iMt,aMt,oMt,sMt,lMt,cMt,uMt,dMt,pMt,hMt,fMt,gMt,vMt,mMt,yMt,bMt,_Mt,wMt,SMt,CMt,kMt,IMt,PMt,TMt,AMt,xMt,EMt,MMt,RMt,DMt,OMt,LMt,NMt,BMt,$Mt,FMt,jMt,WMt,VMt,UMt,zMt,qMt,HMt,GMt,KMt,JMt,XMt,YMt,QMt,ZMt,eRt,tRt,rRt,nRt,iRt,aRt,oRt,sRt,lRt,cRt,uRt,dRt,pRt,hRt,fRt,gRt,vRt,mRt,yRt,bRt,_Rt,wRt,SRt,CRt,kRt,IRt,PRt,TRt,ARt,xRt,ERt,MRt,RRt,DRt,ORt,LRt,NRt,BRt,$Rt,FRt,jRt,WRt,VRt,URt,zRt,qRt,HRt,GRt,KRt,JRt,XRt,YRt,QRt,ZRt,eDt,tDt,rDt,nDt,iDt,aDt,oDt,sDt,lDt,cDt,uDt,dDt,pDt,hDt,fDt,gDt,vDt,mDt,yDt,bDt,_Dt,wDt,SDt,CDt,kDt,IDt,PDt,TDt,ADt,xDt,EDt;cr("onActivePageChanged",(e=>{su.lastActiveWebviewId=e.webviewId,rnt.emit(e)}));var{setStorage:MDt,setStorageSync:RDt,plugin_setStorage:DDt,plugin_setStorageSync:ODt,batchSetStorage:LDt,batchSetStorageSync:NDt,plugin_batchSetStorage:BDt,plugin_batchSetStorageSync:$Dt,getStorage:FDt,getStorageSync:jDt,plugin_getStorage:WDt,plugin_getStorageSync:VDt,batchGetStorage:UDt,batchGetStorageSync:zDt,plugin_batchGetStorage:qDt,plugin_batchGetStorageSync:HDt,getStorageInfo:GDt,getStorageInfoSync:KDt,plugin_getStorageInfo:JDt,plugin_getStorageInfoSync:XDt,removeStorage:YDt,removeStorageSync:QDt,plugin_removeStorage:ZDt,plugin_removeStorageSync:eOt,clearStorage:tOt,clearStorageSync:rOt,plugin_clearStorage:nOt,plugin_clearStorageSync:iOt}=vke;$9e(eval),qJe(),WS(),ZQe(),eZe(),zx(),Cee(),TJe();var aOt=wI.connectSocket,oOt=wI.closeSocket,sOt=wI.sendSocketMessage,lOt=wI.onSocketOpen,cOt=wI.onSocketClose,uOt=wI.onSocketMessage,dOt=wI.onSocketError,pOt=xee,hOt=jee,fOt=Oee,gOt=Wee,vOt=Eee,mOt=Dee,yOt=Ree,bOt=Nwe,_Ot=Bwe,wOt=pwe,SOt=hwe,COt=fwe,kOt=gwe,IOt=Pwe,POt=Twe,TOt=Awe,AOt=xwe,xOt=Iwe,EOt=Xwe,MOt=Ywe,ROt=Qwe,DOt=Zwe,OOt=eSe,LOt=rSe,NOt=nSe,BOt=iSe,$Ot=wOe,FOt=COe,jOt=kOe,WOt=POe,VOt=AOe,UOt=DOe,zOt=TOe,qOt=xOe,HOt=OOe,GOt=LOe,KOt=BOe,JOt=$Oe,XOt=jOe,YOt=WOe,QOt=ZGe,ZOt=QGe,eLt=aB,tLt=mB,rLt=bB,nLt=CB,iLt=SB,aLt=wB,oLt=kB,sLt=IB(""),lLt=PB(""),cLt=TB,uLt=EX,dLt=MX,pLt=uIe,hLt=dIe,fLt=pIe,gLt=hIe,vLt=fIe,mLt=gIe,yLt=vIe,bLt=dj,_Lt=vj,wLt=bj,SLt=_j,CLt=aj,kLt=wj,ILt=Cj,PLt=mF,TLt=bF,ALt=_F,xLt=kF,ELt=IF,MLt=TF,RLt=AF,DLt=xF,OLt=W9,LLt=U9,NLt=z9,BLt=K9,$Lt=Y9,FLt=ree,jLt=tte,WLt=Z9,VLt=eee,ULt=zX,zLt=HX,qLt=GX,HLt=KX;function GLt(e){var t;return()=>t=t||e()}var KLt=(ant=bR(),ont=XZe(),snt=S0e(),lnt=D0e(),cnt=t1e(),unt=T0e(Xme),dnt=e1e(),pnt=u0e(.05),hnt=u0e(.05),fnt=u0e(.05),gnt=u0e(.05),vnt=u0e(.05),mnt=m0e(),ynt=u0e(.05),bnt=u0e(.05),_nt=u0e(.05),wnt=u0e(.05),Snt=m0e(),Cnt=u0e(.05),knt=u0e(.05),Int=u0e(.05),Pnt=u0e(.05),Tnt=m0e(),Ant=u0e(.05),xnt=u0e(.05),Ent=u0e(.05),Mnt=u0e(.05),Rnt=m0e(),Dnt=u0e(.05),Ont=u0e(.05),Lnt=u0e(.05),Nnt=u0e(.05),Bnt=m0e(),$nt=u0e(.05),Fnt=u0e(.05),jnt=u0e(.05),Wnt=u0e(.05),Vnt=m0e(),Unt=u0e(.05),znt=u0e(.05),qnt=u0e(.05),Hnt=u0e(.05),Gnt=m0e(),Knt=u0e(.05),Jnt=u0e(.05),Xnt=u0e(.05),Ynt=u0e(.05),Qnt=u0e(.05),Znt=u0e(.05),eit=u0e(.05),tit=m0e(),rit=u0e(.05),nit=m0e(),iit=u0e(.05),ait=m0e(),oit=u0e(.05),sit=u0e(.05),lit=u0e(.05),cit=m0e(),uit=I0e(),dit=u0e(.05),pit=u0e(.05),hit=m0e(),fit=A0e(),git=u0e(.05),vit=m0e(),mit=A0e(),yit=u0e(.05),bit=m0e(),_it=u0e(.05),wit=u0e(.05),Sit=m0e(),Cit=u0e(.05),kit=m0e(),Iit=u0e(.05),Pit=m0e(),Tit=u0e(.05),Ait=u0e(.05),xit=u0e(.05),Eit=u0e(.05),Mit=u0e(.05),Rit=u0e(.05),Dit=u0e(.05),Oit=u0e(.05),Lit=i6(850,851),Nit=u0e(.05),Bit=m0e(),$it=u0e(.05),Fit=m0e(),jit=A0e(),Wit=i6(844,845),Vit=u0e(.05),Uit=m0e(),zit=i6(830,831),qit=u0e(.05),Hit=m0e(),Git=u0e(.05),Kit=A0e(),Jit=i6(838,839),Xit=u0e(.05),Yit=m0e(),Qit=u0e(.05),Zit=u0e(.05),eat=u0e(.05),tat=u0e(.05),rat=u0e(.05),nat=u0e(.05),iat=m0e(),aat=u0e(.05),oat=m0e(),sat=u0e(.05),lat=m0e(),cat=u0e(.05),uat=u0e(.05),dat=u0e(.05),pat=m0e(),hat=u0e(.05),fat=u0e(.05),gat=m0e(),vat=u0e(.05),mat=m0e(),yat=u0e(.05),bat=m0e(),_at=u0e(.05),wat=m0e(),Sat=u0e(.05),Cat=m0e(),kat=u0e(.05),Iat=B0e(),Pat=m0e(),Tat=u0e(.05),Aat=u0e(.05),xat=u0e(.05),Eat=u0e(.05),Mat=u0e(.05),Rat=u0e(.05),Dat=u0e(.05),Oat=u0e(.05),Lat=u0e(.05),Nat=u0e(.05),Bat=u0e(.05),$at=m0e(),Fat=u0e(.05),jat=u0e(.05),Wat=u0e(.05),Vat=u0e(.05),Uat=u0e(.05),zat=u0e(.05),qat=u0e(.05),Hat=A0e(),Gat=u0e(.05),Kat=m0e(),Jat=N0e("permission"),Xat=u0e(.05),Yat=m0e(),Qat=N0e("permission"),Zat=u0e(.05),eot=u0e(.05),tot=m0e(),rot=u0e(.05),not=m0e(),iot=u0e(.05),aot=u0e(.05),oot=u0e(.05),sot=u0e(.05),lot=u0e(.05),cot=m0e(),uot=A0e(),dot=u0e(.05),pot=m0e(),hot=I0e(),fot=u0e(.05),got=u0e(.05),vot=u0e(.05),mot=u0e(.05),yot=u0e(.05),bot=u0e(.05),_ot=m0e(),wot=u0e(.05),Sot=u0e(.05),Cot=u0e(.05),kot=m0e(),Iot=u0e(.05),Pot=u0e(.05),Tot=u0e(.05),Aot=m0e(),xot=u0e(.05),Eot=m0e(),Mot=u0e(.05),Rot=u0e(.05),Dot=u0e(.05),Oot=u0e(.05),Lot=u0e(.05),Not=u0e(.05),Bot=u0e(.05),$ot=m0e(),Fot=u0e(.05),jot=m0e(),Wot=u0e(.05),Vot=m0e(),Uot=u0e(.05),zot=m0e(),qot=u0e(.05),Hot=m0e(),Got=u0e(.05),Kot=m0e(),Jot=u0e(.05),Xot=m0e(),Yot=u0e(.05),Qot=m0e(),Zot=u0e(.05),est=m0e(),tst=u0e(.05),rst=u0e(.05),nst=m0e(),ist=u0e(.05),ast=m0e(),ost=u0e(.05),sst=m0e(),lst=u0e(.05),cst=u0e(.05),ust=u0e(.05),dst=u0e(.05),pst=m0e(),hst=u0e(.05),fst=m0e(),gst=u0e(.05),vst=m0e(),mst=u0e(.05),yst=m0e(),bst=u0e(.05),_st=u0e(.05),wst=u0e(.05),Sst=u0e(.05),Cst=u0e(.05),kst=u0e(.05),Ist=u0e(.05),Pst=u0e(.05),Tst=u0e(.05),Ast=u0e(.05),xst=m0e(),Est=u0e(.05),Mst=m0e(),Rst=u0e(.05),Dst=m0e(),Ost=u0e(.05),Lst=m0e(),Nst=u0e(.05),Bst=m0e(),$st=u0e(.05),Fst=m0e(),jst=u0e(.05),Wst=u0e(.05),Vst=u0e(.05),Ust=u0e(.05),zst=u0e(.05),qst=u0e(.05),Hst=m0e(),Gst=u0e(.05),Kst=u0e(.05),Jst=N0e("permission"),Xst=N0e("permission"),Yst=u0e(.05),Qst=m0e(),Zst=u0e(.05),elt=m0e(),tlt=A0e(),rlt=u0e(.05),nlt=m0e(),ilt=u0e(.05),alt=m0e(),olt=u0e(.05),slt=m0e(),llt=u0e(.05),clt=m0e(),ult=u0e(.05),dlt=u0e(.05),plt=u0e(.05),hlt=m0e(),flt=u0e(.05),glt=m0e(),vlt=u0e(.05),mlt=m0e(),ylt=u0e(.05),blt=m0e(),_lt=u0e(.05),wlt=m0e(),Slt=u0e(.05),Clt=m0e(),klt=u0e(.05),Ilt=m0e(),Plt=u0e(.05),Tlt=m0e(),Alt=u0e(.05),xlt=m0e(),Elt=u0e(.05),Mlt=m0e(),Rlt=u0e(.05),Dlt=m0e(),Olt=u0e(.05),Llt=u0e(.05),Nlt=u0e(.05),Blt=m0e(),$lt=u0e(.05),Flt=m0e(),jlt=u0e(.05),Wlt=m0e(),Vlt=u0e(.05),Ult=m0e(),zlt=A0e(),qlt=u0e(.05),Hlt=m0e(),Glt=u0e(.05),Klt=u0e(.05),Jlt=u0e(.05),Xlt=u0e(.05),Ylt=m0e(),Qlt=u0e(.05),Zlt=m0e(),ect=u0e(.05),tct=m0e(),rct=u0e(.05),nct=u0e(.05),ict=u0e(.05),act=u0e(.05),oct=u0e(.05),sct=u0e(.05),lct=u0e(.05),cct=u0e(.05),uct=u0e(.05),dct=u0e(.05),pct=u0e(.05),hct=m0e(),fct=u0e(.05),gct=m0e(),vct=u0e(.05),mct=m0e(),yct=u0e(.05),bct=u0e(.05),_ct=u0e(.05),wct=u0e(.05),Sct=u0e(.05),Cct=m0e(),kct=u0e(.05),Ict=m0e(),Pct=A0e(),Tct=u0e(.05),Act=m0e(),xct=u0e(.05),Ect=m0e(),Mct=u0e(.05),Rct=m0e(),Dct=u0e(.05),Oct=u0e(.05),Lct=m0e(),Nct=u0e(.05),Bct=u0e(.05),$ct=u0e(.05),Fct=u0e(.05),jct=u0e(.05),Wct=u0e(.05),Vct=u0e(.05),Uct=u0e(.05),zct=m0e(),qct=u0e(.05),Hct=m0e(),Gct=u0e(.05),Kct=m0e(),Jct=u0e(.05),Xct=m0e(),Yct=u0e(.05),Qct=u0e(.05),Zct=u0e(.05),eut=u0e(.05),tut=m0e(),rut=u0e(.05),nut=m0e(),iut=u0e(.05),aut=u0e(.05),out=u0e(.05),sut=u0e(.05),lut=u0e(.05),cut=u0e(.05),uut=u0e(.05),dut=u0e(.05),put=u0e(.05),hut=u0e(.05),fut=u0e(.05),gut=m0e(),vut=r1e(),mut=u0e(.05),yut=m0e(),but=r1e(),_ut=u0e(.05),wut=m0e(),Sut=r1e(),Cut=u0e(.05),kut=m0e(),Iut=r1e(),Put=u0e(.05),Tut=m0e(),Aut=r1e(),xut=u0e(.05),Eut=u0e(.05),Mut=u0e(.05),Rut=u0e(.05),Dut=u0e(.05),Out=u0e(.05),Lut=u0e(.05),Nut=u0e(.05),But=u0e(.05),$ut=u0e(.05),Fut=u0e(.05),jut=u0e(.05),Wut=u0e(.05),Vut=u0e(.05),Uut=u0e(.05),zut=m0e(),qut=u0e(.05),Hut=u0e(.05),Gut=m0e(),Kut=u0e(.05),Jut=m0e(),Xut=u0e(.05),Yut=u0e(.05),Qut=u0e(.05),Zut=m0e(),edt=u0e(.05),tdt=m0e(),rdt=u0e(.05),ndt=u0e(.05),idt=u0e(.05),adt=u0e(.05),odt=u0e(.05),sdt=u0e(.05),ldt=u0e(.05),cdt=u0e(.05),udt=u0e(.05),ddt=u0e(.05),pdt=u0e(.05),hdt=u0e(.05),fdt=u0e(.05),gdt=u0e(.05),vdt=u0e(.05),mdt=u0e(.05),ydt=u0e(.05),bdt=u0e(.05),_dt=A0e(),wdt=i6(840,841),Sdt=u0e(.05),Cdt=m0e(),kdt=i6(832,833),Idt=u0e(.05),Pdt=m0e(),Tdt=u0e(.05),Adt=m0e(),xdt=A0e(),Edt=u0e(.05),Mdt=m0e(),Rdt=u0e(.05),Ddt=m0e(),Odt=i6(834,835),Ldt=u0e(.05),Ndt=i6(836,837),Bdt=u0e(.05),$dt=A0e(),Fdt=u0e(.05),jdt=m0e(),Wdt=Grt("wx.getRecorderManager"),Vdt=u0e(.05),Udt=m0e(),zdt=Grt("wx.getRecorderManager"),qdt=u0e(.05),Hdt=m0e(),Gdt=u0e(.05),Kdt=m0e(),Jdt=u0e(.05),Xdt=m0e(),Ydt=u0e(.05),Qdt=A0e(),Zdt=i6(842,843),ept=u0e(.05),tpt=m0e(),rpt=A0e(),npt=u0e(.05),ipt=m0e(),apt=u0e(.05),opt=m0e(),spt=u0e(.05),lpt=m0e(),cpt=u0e(.05),upt=m0e(),dpt=u0e(.05),ppt=u0e(.05),hpt=u0e(.05),fpt=u0e(.05),gpt=u0e(.05),vpt=u0e(.05),mpt=A0e(),ypt=N0e("declare"),bpt=u0e(.05),_pt=m0e(),wpt=A0e(),Spt=N0e("declare"),Cpt=u0e(.05),kpt=i6(846,847),Ipt=u0e(.05),Ppt=m0e(),Tpt=A0e(),Apt=N0e("declare"),xpt=u0e(.05),Ept=m0e(),Mpt=A0e(),Rpt=N0e("declare"),Dpt=u0e(.05),Opt=m0e(),Lpt=N0e("declare"),Npt=u0e(.05),Bpt=u0e(.05),$pt=u0e(.05),Fpt=u0e(.05),jpt=A0e(),Wpt=N0e("declare"),Vpt=u0e(.05),Upt=m0e(),zpt=A0e(),qpt=N0e("declare"),Hpt=u0e(.05),Gpt=m0e(),Kpt=u0e(.05),Jpt=m0e(),Xpt=u0e(.05),Ypt=m0e(),Qpt=u0e(.05),Zpt=u0e(.05),eht=u0e(.05),tht=u0e(.05),rht=u0e(.05),nht=m0e(),iht=Grt("wx.getSystemSetting/wx.getAppAuthorizeSetting/wx.getDeviceInfo/wx.getWindowInfo/wx.getAppBaseInfo",1e3),aht=u0e(.05),oht=Grt("wx.getSystemSetting/wx.getAppAuthorizeSetting/wx.getDeviceInfo/wx.getWindowInfo/wx.getAppBaseInfo",1e3),sht=u0e(.05),lht=Grt("wx.getSystemSetting/wx.getAppAuthorizeSetting/wx.getDeviceInfo/wx.getWindowInfo/wx.getAppBaseInfo",100),cht=u0e(.05),uht=m0e(),dht=u0e(.05),pht=m0e(),hht=u0e(.05),fht=u0e(.05),ght=u0e(.05),vht=u0e(.05),mht=u0e(.05),yht=u0e(.05),bht=u0e(.05),_ht=u0e(.05),wht=m0e(),Sht=u0e(.05),Cht=u0e(.05),kht=u0e(.05),Iht=A0e(),Pht=u0e(.05),Tht=m0e(),Aht=u0e(.05),xht=m0e(),Eht=u0e(.05),Mht=u0e(.05),Rht=A0e(),Dht=u0e(.05),Oht=m0e(),Lht=u0e(.05),Nht=m0e(),Bht=u0e(.05),$ht=u0e(.05),Fht=A0e(),jht=u0e(.05),Wht=m0e(),Vht=u0e(.05),Uht=m0e(),zht=u0e(.05),qht=u0e(.05),Hht=A0e(),Ght=u0e(.05),Kht=m0e(),Jht=u0e(.05),Xht=m0e(),Yht=u0e(.05),Qht=u0e(.05),Zht=u0e(.05),eft=m0e(),tft=A0e(),rft=u0e(.05),nft=m0e(),ift=A0e(),aft=u0e(.05),oft=m0e(),sft=u0e(.05),lft=m0e(),cft=N0e("permission"),uft=u0e(.05),dft=u0e(.05),pft=u0e(.05),hft=u0e(.05),fft=m0e(),gft=u0e(.05),vft=m0e(),mft=u0e(.05),yft=m0e(),bft=u0e(.05),_ft=m0e(),wft=u0e(.05),Sft=m0e(),Cft=u0e(.05),kft=u0e(.05),Ift=u0e(.05),Pft=A0e(),Tft=u0e(.05),Aft=m0e(),xft=u0e(.05),Eft=m0e(),Mft=u0e(.05),Rft=m0e(),Dft=u0e(.05),Oft=u0e(.05),Lft=u0e(.05),Nft=u0e(.05),Bft=u0e(.05),$ft=u0e(.05),Fft=u0e(.05),jft=m0e(),Wft=u0e(.05),Vft=u0e(.05),Uft=u0e(.05),zft=u0e(.05),qft=A0e(),Hft=u0e(.05),Gft=m0e(),Kft=u0e(.05),Jft=m0e(),Xft=i6(824,825),Yft=u0e(.05),Qft=m0e(),Zft=u0e(.05),egt=m0e(),tgt=u0e(1,!0,0,!0),rgt=B0e(),ngt=m0e(),igt=I0e(),agt=u0e(.05),ogt=u0e(.05),sgt=B0e(),lgt=m0e(),cgt=u0e(.05),ugt=m0e(),dgt=A0e(),pgt=u0e(.05),hgt=m0e(),fgt=I0e(),ggt=A0e(),vgt=u0e(.05),mgt=m0e(),ygt=I0e(),bgt=u0e(.05),_gt=i6(820,821),wgt=u0e(.05),Sgt=m0e(),Cgt=u0e(.05),kgt=m0e(),Igt=u0e(.05),Pgt=u0e(.05),Tgt=u0e(.05),Agt=u0e(.05),xgt=u0e(.05),Egt=u0e(.05),Mgt=u0e(.05),Rgt=u0e(.05),Dgt=u0e(.05),Ogt=u0e(.05),Lgt=u0e(.05),Ngt=u0e(.05),Bgt=u0e(.05),$gt=u0e(.05),Fgt=u0e(.05),jgt=u0e(.05),Wgt=u0e(.05),Vgt=m0e(),Ugt=u0e(.05),zgt=u0e(.05),qgt=u0e(.05),Hgt=u0e(.05),Ggt=u0e(.05),Kgt=u0e(.05),Jgt=u0e(.05),Xgt=u0e(.05),Ygt=m0e(),Qgt=u0e(.05),Zgt=i6(826,827),evt=u0e(.05),tvt=m0e(),rvt=u0e(.05),nvt=u0e(.05),ivt=m0e(),avt=u0e(.05),ovt=u0e(.05),svt=u0e(.05),lvt=u0e(.05),cvt=u0e(.05),uvt=u0e(.05),dvt=u0e(.05),pvt=u0e(.05),hvt=u0e(.05),fvt=u0e(.05),gvt=u0e(.05),vvt=u0e(.05),mvt=u0e(.05),yvt=m0e(),bvt=u0e(.05),_vt=m0e(),wvt=u0e(.05),Svt=u0e(.05),Cvt=u0e(.05),kvt=u0e(.05),Ivt=u0e(.05),Pvt=u0e(.05),Tvt=u0e(.05),Avt=m0e(),xvt=u0e(.05),Evt=m0e(),Mvt=u0e(.05),Rvt=i6(810,811),Dvt=u0e(.05),Ovt=u0e(.05),Lvt=u0e(.05),Nvt=m0e(),Bvt=u0e(.05),$vt=u0e(.05),Fvt=m0e(),jvt=N0e("permission"),Wvt=A0e(),Vvt=N0e("declare"),Uvt=u0e(.05),zvt=m0e(),qvt=u0e(.05),Hvt=m0e(),Gvt=i6(848,849),Kvt=u0e(.05),Jvt=m0e(),Xvt=u0e(.05),Yvt=m0e(),Qvt=u0e(.05),Zvt=m0e(),emt=u0e(.05),tmt=m0e(),rmt=u0e(.05),nmt=m0e(),imt=u0e(.05),amt=u0e(.05),omt=u0e(.05),smt=u0e(.05),lmt=u0e(.05),cmt=m0e(),umt=u0e(.05),dmt=u0e(.05),pmt=u0e(.05),hmt=u0e(.05),fmt=u0e(.05),gmt=u0e(.05),vmt=u0e(.05),mmt=u0e(.05),ymt=u0e(.05),bmt=u0e(.05),_mt=u0e(.05),wmt=u0e(.05),Smt=u0e(.05),Cmt=u0e(.05),kmt=u0e(.05),Imt=u0e(.05),Pmt=u0e(.05),Tmt=u0e(.05),Amt=Grt("wx.onHide"),xmt=u0e(.05),Emt=Grt("wx.onShow"),Mmt=u0e(.05),Rmt=u0e(.05),Dmt=u0e(.05),Omt=u0e(.05),Lmt=u0e(.05),Nmt=u0e(.05),Bmt=u0e(.05),$mt=u0e(.05),Fmt=u0e(.05),jmt=u0e(.05),Wmt=u0e(.05),Vmt=u0e(.05),Umt=u0e(.05),zmt=u0e(.05),qmt=u0e(.05),Hmt=u0e(.05),Gmt=u0e(.05),Kmt=u0e(.05),Jmt=u0e(.05),Xmt=u0e(.05),Ymt=u0e(.05),Qmt=u0e(.05),Zmt=m0e(),eyt=u0e(.05),tyt=u0e(.05),ryt=u0e(.05),nyt=u0e(.05),iyt=u0e(.05),ayt=m0e(),oyt=u0e(.05),syt=u0e(.05),lyt=u0e(.05),cyt=u0e(.05),uyt=u0e(.05),dyt=m0e(),pyt=u0e(.05),hyt=u0e(.05),fyt=u0e(.05),gyt=Grt(),vyt=u0e(.05),myt=m0e(),yyt=u0e(.05),byt=m0e(),_yt=u0e(.05),wyt=m0e(),Syt=u0e(.05),Cyt=m0e(),kyt=u0e(.05),Iyt=m0e(),Pyt=u0e(.05),Tyt=m0e(),Ayt=u0e(.05),xyt=u0e(.05),Eyt=u0e(.05),Myt=A0e(),Ryt=u0e(.05),Dyt=m0e(),Oyt=A0e(),Lyt=u0e(.05),Nyt=m0e(),Byt=u0e(.05),$yt=u0e(.05),Fyt=u0e(.05),jyt=u0e(.05),Wyt=u0e(.05),Vyt=u0e(.05),Uyt=u0e(.05),zyt=u0e(.05),qyt=u0e(.05),Hyt=u0e(.05),Gyt=u0e(.05),Kyt=u0e(.05),Jyt=m0e(),Xyt=u0e(.05),Yyt=u0e(.05),Qyt=u0e(.05),Zyt=u0e(.05),ebt=u0e(.05),tbt=u0e(.05),rbt=u0e(.05),nbt=u0e(.05),ibt=u0e(.05),abt=u0e(.05),obt=u0e(.05),sbt=u0e(.05),lbt=u0e(.05),cbt=u0e(.05),ubt=u0e(.05),dbt=u0e(.05),pbt=u0e(.05),hbt=u0e(.05),fbt=u0e(.05),gbt=u0e(.05),vbt=u0e(.05),mbt=u0e(.05),ybt=u0e(.05),bbt=u0e(.05),_bt=u0e(.05),wbt=u0e(.05),Sbt=u0e(.05),Cbt=u0e(.05),kbt=u0e(.05),Ibt=u0e(.05),Pbt=u0e(.05),Tbt=u0e(.05),Abt=u0e(.05),xbt=u0e(.05),Ebt=u0e(.05),Mbt=u0e(.05),Rbt=u0e(.05),Dbt=u0e(.05),Obt=A0e(),Lbt=i6(814,815),Nbt=u0e(.05),Bbt=u0e(.05),$bt=u0e(.05),Fbt=i6(812,813),jbt=u0e(.05),Wbt=i6(804,805),Vbt=u0e(.05),Ubt=i6(808,809),zbt=u0e(.05),qbt=i6(802,803),Hbt=u0e(.05),Gbt=u0e(.05),Kbt=i6(806,807),Jbt=u0e(.05),Xbt=i6(800,801),Ybt=u0e(.05),Qbt=u0e(.05),Zbt=u0e(.05),e_t=u0e(.05),t_t=u0e(.05),r_t=u0e(.05),n_t=u0e(.05),i_t=u0e(.05),a_t=u0e(.05),o_t=u0e(.05),s_t=u0e(.05),l_t=m0e(),c_t=u0e(.05),u_t=u0e(.05),d_t=u0e(.05),p_t=m0e(),h_t=u0e(.05),f_t=u0e(.05),g_t=u0e(.05),v_t=u0e(.05),m_t=u0e(.05),y_t=u0e(.05),b_t=u0e(.05),__t=u0e(.05),w_t=u0e(.05),S_t=u0e(.05),C_t=m0e(),k_t=u0e(.05),I_t=m0e(),P_t=u0e(.05),T_t=A0e(),A_t=u0e(.05),x_t=m0e(),E_t=u0e(.05),M_t=u0e(.05),R_t=u0e(.05),D_t=u0e(.05),O_t=u0e(.05),L_t=u0e(0),N_t=u0e(0),B_t=u0e(0),$_t=u0e(.05,"serviceMarket"),F_t=O0e((()=>GLt((()=>__cloudSDKMain__.getServiceMarketAPI()))())),j_t=u0e(.05,"cloud"),W_t=O0e((()=>GLt((()=>__cloudSDKMain__.getCloudAPI()))())),V_t=u0e(1),U_t=u0e(.05),z_t=u0e(.05),q_t=u0e(.05),H_t=u0e(.05),G_t=u0e(.05),K_t=u0e(.05),J_t=u0e(.05),X_t=u0e(.05),Y_t=u0e(.05),Q_t=u0e(.05),Z_t=u0e(.05),ewt=u0e(.05),twt=u0e(.05),rwt=u0e(.05),nwt=u0e(.05),iwt=u0e(.05),awt=u0e(.05),owt=u0e(.05),swt=u0e(.05),lwt=u0e(.05),cwt=u0e(.05),yR(uwt=ant(uwt=ont(uwt=snt(uwt=lnt(uwt=cnt(uwt=unt(uwt=dnt((dwt=class{constructor(){q()(this,"requirePrivacyAuthorize",pwt,this),q()(this,"onNeedPrivacyAuthorization",hwt,this),q()(this,"getPrivacySetting",fwt,this),q()(this,"openPrivacyContract",gwt,this),q()(this,"setStorage",vwt,this),q()(this,"setStorageSync",mwt,this),q()(this,"plugin_setStorage",ywt,this),q()(this,"plugin_setStorageSync",bwt,this),q()(this,"batchSetStorage",_wt,this),q()(this,"batchSetStorageSync",wwt,this),q()(this,"plugin_batchSetStorage",Swt,this),q()(this,"plugin_batchSetStorageSync",Cwt,this),q()(this,"getStorage",kwt,this),q()(this,"getStorageSync",Iwt,this),q()(this,"plugin_getStorage",Pwt,this),q()(this,"plugin_getStorageSync",Twt,this),q()(this,"batchGetStorage",Awt,this),q()(this,"batchGetStorageSync",xwt,this),q()(this,"plugin_batchGetStorage",Ewt,this),q()(this,"plugin_batchGetStorageSync",Mwt,this),q()(this,"getStorageInfo",Rwt,this),q()(this,"getStorageInfoSync",Dwt,this),q()(this,"plugin_getStorageInfo",Owt,this),q()(this,"plugin_getStorageInfoSync",Lwt,this),q()(this,"removeStorage",Nwt,this),q()(this,"removeStorageSync",Bwt,this),q()(this,"plugin_removeStorage",$wt,this),q()(this,"plugin_removeStorageSync",Fwt,this),q()(this,"clearStorage",jwt,this),q()(this,"clearStorageSync",Wwt,this),q()(this,"plugin_clearStorage",Vwt,this),q()(this,"plugin_clearStorageSync",Uwt,this),q()(this,"drawCanvas",zwt,this),q()(this,"createContext",qwt,this),q()(this,"createCanvasContext",Hwt,this),q()(this,"canvasToTempFilePath",Gwt,this),q()(this,"canvasGetImageData",Kwt,this),q()(this,"canvasPutImageData",Jwt,this),q()(this,"createOffscreenCanvas",Xwt,this),q()(this,"getAccountInfoSync",Ywt,this),q()(this,"getShareInfo",Qwt,this),q()(this,"authPrivateMessage",Zwt,this),q()(this,"pageScrollTo",eSt,this),q()(this,"chooseInvoiceTitle",tSt,this),q()(this,"chooseInvoice",rSt,this),q()(this,"openCustomerServiceChat",nSt,this),q()(this,"openStickerSetView",iSt,this),q()(this,"openSingleStickerView",aSt,this),q()(this,"openStickerIPView",oSt,this),q()(this,"onPageReload",sSt,this),q()(this,"createAudioContext",lSt,this),q()(this,"createVideoContext",cSt,this),q()(this,"createMapContext",uSt,this),q()(this,"createLivePlayerContext",dSt,this),q()(this,"getPassiveEvent",pSt,this),q()(this,"arrayBufferToBase64",hSt,this),q()(this,"base64ToArrayBuffer",fSt,this),q()(this,"openSetting",gSt,this),q()(this,"getExtConfig",vSt,this),q()(this,"chooseMedia",mSt,this),q()(this,"previewMedia",ySt,this),q()(this,"chooseMultiMedia",bSt,this),q()(this,"chooseMessageFile",_St,this),q()(this,"chooseWeChatContact",wSt,this),q()(this,"uploadEncryptedFileToCDN",SSt,this),q()(this,"onUploadEncryptedFileToCDNProgress",CSt,this),q()(this,"uploadToCommonCDN",kSt,this),q()(this,"getExtConfigSync",ISt,this),q()(this,"showShareMenu",PSt,this),q()(this,"hideShareMenu",TSt,this),q()(this,"updateShareMenu",ASt,this),q()(this,"shareAppMessageForFakeNative",xSt,this),q()(this,"openUrl",ESt,this),q()(this,"setNavigationBarColor",MSt,this),q()(this,"setNavigationBarAlpha",RSt,this),q()(this,"showShareImageMenu",DSt,this),q()(this,"shareFileMessage",OSt,this),q()(this,"shareVideoMessage",LSt,this),q()(this,"vibrateShort",NSt,this),q()(this,"vibrateLong",BSt,this),q()(this,"getSetting",$St,this),q()(this,"checkIsSupportFacialRecognition",FSt,this),q()(this,"startFacialRecognitionVerify",jSt,this),q()(this,"startFacialRecognitionVerifyAndUploadVideo",WSt,this),q()(this,"startFacialEncryptionVerify",VSt,this),q()(this,"startFacialEncryptionVerifyAndUploadVideo",USt,this),q()(this,"sendBizRedPacket",zSt,this),q()(this,"requestDeviceVoIP",qSt,this),q()(this,"getDeviceVoIPList",HSt,this),q()(this,"sendGoldenRedPacket",GSt,this),q()(this,"openGoldenRedPacketDetail",KSt,this),q()(this,"showRedPackage",JSt,this),q()(this,"jumpRedPacketEnvelopePreview",XSt,this),q()(this,"quickSendRedPacket",YSt,this),q()(this,"sendRedCoverAppMsg",QSt,this),q()(this,"previewSmartAd",ZSt,this),q()(this,"jumpRedPacketEnvelopePreview",eCt,this),q()(this,"quickSendRedPacket",tCt,this),q()(this,"sendRedCoverAppMsg",rCt,this),q()(this,"addPhoneContact",nCt,this),q()(this,"quicklyAddBrandContact",iCt,this),q()(this,"searchContacts",aCt,this),q()(this,"privateSearchContacts",oCt,this),q()(this,"sendSms",sCt,this),q()(this,"setScreenBrightness",lCt,this),q()(this,"getScreenBrightness",cCt,this),q()(this,"setVisualEffectOnCapture",uCt,this),q()(this,"onScreenRecordingStateChanged",dCt,this),q()(this,"offScreenRecordingStateChanged",pCt,this),q()(this,"getScreenRecordingState",hCt,this),q()(this,"shareToWeRun",fCt,this),q()(this,"getWeRunData",gCt,this),q()(this,"uploadWeRunData",vCt,this),q()(this,"addWeRunData",mCt,this),q()(this,"canIUse",yCt,this),q()(this,"setPageStyle",bCt,this),q()(this,"triggerGettingWidgetData",_Ct,this),q()(this,"navigateToMiniProgram",wCt,this),q()(this,"navigateToMiniProgramDirectly",SCt,this),q()(this,"navigateToDevMiniProgram",CCt,this),q()(this,"navigateBackMiniProgram",kCt,this),q()(this,"launchMiniProgram",ICt,this),q()(this,"launchDevMiniProgram",PCt,this),q()(this,"exitMiniProgram",TCt,this),q()(this,"openEmbeddedMiniProgram",ACt,this),q()(this,"onEmbeddedMiniProgramHeightChange",xCt,this),q()(this,"offEmbeddedMiniProgramHeightChange",ECt,this),q()(this,"launchApplicationDirectly",MCt,this),q()(this,"launchApplicationForNative",RCt,this),q()(this,"setNavigationBarRightButton",DCt,this),q()(this,"onTapNavigationBarRightButton",OCt,this),q()(this,"setTopBarText",LCt,this),q()(this,"setTabBarBadge",NCt,this),q()(this,"removeTabBarBadge",BCt,this),q()(this,"showTabBarRedDot",$Ct,this),q()(this,"hideTabBarRedDot",FCt,this),q()(this,"showTabBar",jCt,this),q()(this,"hideTabBar",WCt,this),q()(this,"setTabBarStyle",VCt,this),q()(this,"setTabBarItem",UCt,this),q()(this,"getTabBarManager",zCt,this),q()(this,"setBackgroundColor",qCt,this),q()(this,"setBackgroundTextStyle",HCt,this),q()(this,"setEnableDebug",GCt,this),q()(this,"captureScreen",KCt,this),q()(this,"onUserCaptureScreen",JCt,this),q()(this,"offUserCaptureScreen",XCt,this),q()(this,"setKeepScreenOn",YCt,this),q()(this,"checkIsSupportSoterAuthentication",QCt,this),q()(this,"startSoterAuthentication",ZCt,this),q()(this,"checkIsSoterEnrolledInDevice",ekt,this),q()(this,"openDeliveryList",tkt,this),q()(this,"navigateBackH5",rkt,this),q()(this,"openBusinessView",nkt,this),q()(this,"openOfficialAccountArticle",ikt,this),q()(this,"navigateBackApplication",akt,this),q()(this,"navigateBackNative",okt,this),q()(this,"reportIDKey",skt,this),q()(this,"reportKeyValue",lkt,this),q()(this,"setWindowSize",ckt,this),q()(this,"setNavigationBarTitle",ukt,this),q()(this,"showNavigationBarLoading",dkt,this),q()(this,"hideNavigationBarLoading",pkt,this),q()(this,"hideHomeButton",hkt,this),q()(this,"startPullDownRefresh",fkt,this),q()(this,"stopPullDownRefresh",gkt,this),q()(this,"operateWXData",vkt,this),q()(this,"getOpenDeviceId",mkt,this),q()(this,"onMenuButtonBoundingClientRectWeightChange",ykt,this),q()(this,"offMenuButtonBoundingClientRectWeightChange",bkt,this),q()(this,"getMenuButtonBoundingClientRect",_kt,this),q()(this,"getSelectedTextRange",wkt,this),q()(this,"enableAlertBeforeUnload",Skt,this),q()(this,"disableAlertBeforeUnload",Ckt,this),q()(this,"setNavigateBackInterception",kkt,this),q()(this,"stopNavigateBackInterception",Ikt,this),this.choosePhoneNumberAreaCode=wrt,q()(this,"makeBluetoothPair",Pkt,this),q()(this,"isBluetoothDevicePaired",Tkt,this),q()(this,"openBluetoothAdapter",Akt,this),q()(this,"openBluetoothAdapterBackground",xkt,this),q()(this,"closeBluetoothAdapter",Ekt,this),q()(this,"getBluetoothAdapterState",Mkt,this),q()(this,"onBluetoothAdapterStateChange",Rkt,this),q()(this,"offBluetoothAdapterStateChange",Dkt,this),q()(this,"startBluetoothDevicesDiscovery",Okt,this),q()(this,"stopBluetoothDevicesDiscovery",Lkt,this),q()(this,"startMonitoringBluetoothDevice",Nkt,this),q()(this,"stopMonitoringBluetoothDevice",Bkt,this),q()(this,"getBluetoothDevices",$kt,this),q()(this,"getConnectedBluetoothDevices",Fkt,this),q()(this,"getMonitoredBluetoothDevices",jkt,this),q()(this,"createBLEConnection",Wkt,this),q()(this,"setBLEMTU",Vkt,this),q()(this,"setBluetoothBackgroundMode",Ukt,this),q()(this,"getBLEMTU",zkt,this),q()(this,"onBLEMTUChange",qkt,this),q()(this,"offBLEMTUChange",Hkt,this),q()(this,"closeBLEConnection",Gkt,this),q()(this,"getBLEDeviceServices",Kkt,this),q()(this,"getBLEDeviceRSSI",Jkt,this),q()(this,"getBLEDeviceCharacteristics",Xkt,this),q()(this,"createBLEPeripheralServer",Ykt,this),q()(this,"onBLEPeripheralConnectionStateChanged",Qkt,this),q()(this,"offBLEPeripheralConnectionStateChanged",Zkt,this),q()(this,"notifyBLECharacteristicValueChanged",eIt,this),q()(this,"notifyBLECharacteristicValueChange",tIt,this),q()(this,"readBLECharacteristicValue",rIt,this),q()(this,"writeBLECharacteristicValue",nIt,this),q()(this,"onBluetoothDeviceFound",iIt,this),q()(this,"offBluetoothDeviceFound",aIt,this),q()(this,"onMonitoredBluetoothDeviceFound",oIt,this),q()(this,"offMonitoredBluetoothDeviceFound",sIt,this),q()(this,"onBLEConnectionStateChanged",lIt,this),q()(this,"onBLEConnectionStateChange",cIt,this),q()(this,"onBLECharacteristicValueChange",uIt,this),q()(this,"offBLEConnectionStateChanged",dIt,this),q()(this,"offBLEConnectionStateChange",pIt,this),q()(this,"offBLECharacteristicValueChange",hIt,this),q()(this,"startBeaconDiscovery",fIt,this),q()(this,"stopBeaconDiscovery",gIt,this),q()(this,"getBeacons",vIt,this),q()(this,"onBeaconUpdate",mIt,this),q()(this,"offBeaconUpdate",yIt,this),q()(this,"onBeaconServiceChange",bIt,this),q()(this,"offBeaconServiceChange",_It,this),q()(this,"startWifi",wIt,this),q()(this,"stopWifi",SIt,this),q()(this,"getWifiList",CIt,this),q()(this,"getConnectedWifi",kIt,this),q()(this,"connectWifi",IIt,this),q()(this,"presetWifiList",PIt,this),q()(this,"setWifiList",TIt,this),q()(this,"onGetWifiList",AIt,this),q()(this,"onWifiConnected",xIt,this),q()(this,"onWifiConnectedWithPartialInfo",EIt,this),q()(this,"offGetWifiList",MIt,this),q()(this,"offWifiConnected",RIt,this),q()(this,"offWifiConnectedWithPartialInfo",DIt,this),q()(this,"onEvaluateWifi",OIt,this),q()(this,"getHCEState",LIt,this),q()(this,"startHCE",NIt,this),q()(this,"stopHCE",BIt,this),q()(this,"sendHCEMessage",$It,this),q()(this,"onHCEMessage",FIt,this),q()(this,"offHCEMessage",jIt,this),q()(this,"getNFCAdapter",WIt,this),q()(this,"startLocalServiceDiscovery",VIt,this),q()(this,"stopLocalServiceDiscovery",UIt,this),q()(this,"onLocalServiceFound",zIt,this),q()(this,"offLocalServiceFound",qIt,this),q()(this,"onLocalServiceLost",HIt,this),q()(this,"offLocalServiceLost",GIt,this),q()(this,"onLocalServiceDiscoveryStop",KIt,this),q()(this,"offLocalServiceDiscoveryStop",JIt,this),q()(this,"onLocalServiceResolveFail",XIt,this),q()(this,"offLocalServiceResolveFail",YIt,this),q()(this,"getLocalIPAddress",QIt,this),q()(this,"checkDeviceSupportHevc",ZIt,this),q()(this,"redirectTo",ePt,this),q()(this,"reLaunch",tPt,this),q()(this,"navigateTo",rPt,this),q()(this,"switchTab",nPt,this),q()(this,"navigateBack",iPt,this),q()(this,"onAppShow",aPt,this),q()(this,"offAppShow",oPt,this),q()(this,"onAppHide",sPt,this),q()(this,"offAppHide",lPt,this),q()(this,"onError",cPt,this),q()(this,"offError",uPt,this),q()(this,"onUnhandledRejection",dPt,this),q()(this,"offUnhandledRejection",pPt,this),q()(this,"getLaunchOptionsSync",hPt,this),q()(this,"getEnterOptionsSync",fPt,this),q()(this,"getInnerEnterOptions",gPt,this),q()(this,"onWindowResize",vPt,this),q()(this,"offWindowResize",mPt,this),q()(this,"setPageOrientation",yPt,this),q()(this,"getBackgroundFetchData",bPt,this),q()(this,"onBackgroundFetchData",_Pt,this),q()(this,"setBackgroundFetchToken",wPt,this),q()(this,"getBackgroundFetchToken",SPt,this),q()(this,"request",CPt,this),q()(this,"connectSocket",kPt,this),q()(this,"closeSocket",IPt,this),q()(this,"sendSocketMessage",PPt,this),q()(this,"onSocketOpen",TPt,this),q()(this,"onSocketClose",APt,this),q()(this,"onSocketMessage",xPt,this),q()(this,"onSocketError",EPt,this),q()(this,"uploadFile",MPt,this),q()(this,"downloadFile",RPt,this),q()(this,"addNativeDownloadTask",DPt,this),q()(this,"downloadApp",OPt,this),q()(this,"installDownloadApp",LPt,this),q()(this,"getAppInstallState",NPt,this),q()(this,"queryDownloadAppTask",BPt,this),q()(this,"cancelDownloadAppTask",$Pt,this),q()(this,"resumeDownloadAppTask",FPt,this),q()(this,"pauseDownloadAppTask",jPt,this),q()(this,"onDownloadAppStateChange",WPt,this),q()(this,"downloadAppForIOS",VPt,this),q()(this,"calRqt",UPt,this),q()(this,"secureTunnel",zPt,this),q()(this,"chooseImage",qPt,this),q()(this,"previewImage",HPt,this),q()(this,"getImageInfo",GPt,this),q()(this,"saveImageToPhotosAlbum",KPt,this),q()(this,"compressImage",JPt,this),q()(this,"editImage",XPt,this),q()(this,"cropImage",YPt,this),q()(this,"startRecord",QPt,this),q()(this,"stopRecord",ZPt,this),q()(this,"playVoice",eTt,this),q()(this,"pauseVoice",tTt,this),q()(this,"stopVoice",rTt,this),q()(this,"onVoicePlayEnd",nTt,this),q()(this,"chooseVideo",iTt,this),q()(this,"saveVideoToPhotosAlbum",aTt,this),q()(this,"getVideoInfo",oTt,this),q()(this,"compressVideo",sTt,this),q()(this,"loadFontFace",lTt,this),q()(this,"createMediaContainer",cTt,this),q()(this,"createMediaRecorder",uTt,this),q()(this,"createVideoDecoder",dTt,this),q()(this,"openVideoEditor",pTt,this),q()(this,"createMediaAudioPlayer",hTt,this),q()(this,"createWebAudioContext",fTt,this),q()(this,"getLocation",gTt,this),q()(this,"getFuzzyLocation",vTt,this),q()(this,"openLocation",mTt,this),q()(this,"chooseLocation",yTt,this),q()(this,"choosePoi",bTt,this),q()(this,"onLocationChange",_Tt,this),q()(this,"offLocationChange",wTt,this),q()(this,"onLocationChangeError",STt,this),q()(this,"offLocationChangeError",CTt,this),q()(this,"startLocationUpdateBackground",kTt,this),q()(this,"startLocationUpdate",ITt,this),q()(this,"stopLocationUpdate",PTt,this),q()(this,"getNetworkType",TTt,this),q()(this,"onNetworkStatusChange",ATt,this),q()(this,"offNetworkStatusChange",xTt,this),q()(this,"onNetworkWeakChange",ETt,this),q()(this,"offNetworkWeakChange",MTt,this),q()(this,"getSystemInfo",RTt,this),q()(this,"getSystemInfoSync",DTt,this),q()(this,"getSystemInfoAsync",OTt,this),q()(this,"openSystemBluetoothSetting",LTt,this),q()(this,"openAppAuthorizeSetting",NTt,this),q()(this,"getSystemSetting",BTt,this),q()(this,"getAppAuthorizeSetting",$Tt,this),q()(this,"getDeviceInfo",FTt,this),q()(this,"getDeviceBenchmarkInfo",jTt,this),q()(this,"getWindowInfo",WTt,this),q()(this,"getAppBaseInfo",VTt,this),q()(this,"getRendererUserAgent",UTt,this),q()(this,"getBatteryInfo",zTt,this),q()(this,"getBatteryInfoSync",qTt,this),q()(this,"onBatteryInfoChange",HTt,this),q()(this,"offBatteryInfoChange",GTt,this),q()(this,"startAccelerometer",KTt,this),q()(this,"stopAccelerometer",JTt,this),q()(this,"onAccelerometerChange",XTt,this),q()(this,"offAccelerometerChange",YTt,this),q()(this,"startCompass",QTt,this),q()(this,"stopCompass",ZTt,this),q()(this,"onCompassChange",eAt,this),q()(this,"offCompassChange",tAt,this),q()(this,"startDeviceMotionListening",rAt,this),q()(this,"stopDeviceMotionListening",nAt,this),q()(this,"onDeviceMotionChange",iAt,this),q()(this,"offDeviceMotionChange",aAt,this),q()(this,"startGyroscope",oAt,this),q()(this,"stopGyroscope",sAt,this),q()(this,"onGyroscopeChange",lAt,this),q()(this,"offGyroscopeChange",cAt,this),q()(this,"checkIsOpenAccessibility",uAt,this),q()(this,"addPhoneCalendar",dAt,this),q()(this,"addPhoneRepeatCalendar",pAt,this),q()(this,"getRandomValues",hAt,this),q()(this,"getWebviewDebugInfo",fAt,this),q()(this,"reportAction",gAt,this),q()(this,"getBackgroundAudioManager",vAt,this),q()(this,"getRecorderManager",mAt,this),q()(this,"getBackgroundAudioPlayerState",yAt,this),q()(this,"playBackgroundAudio",bAt,this),q()(this,"pauseBackgroundAudio",_At,this),q()(this,"seekBackgroundAudio",wAt,this),q()(this,"stopBackgroundAudio",SAt,this),q()(this,"onBackgroundAudioPlay",CAt,this),q()(this,"onBackgroundAudioPause",kAt,this),q()(this,"onBackgroundAudioStop",IAt,this),q()(this,"joinVoIPChat",PAt,this),q()(this,"exitVoIPChat",TAt,this),q()(this,"updateVoIPChatMuteConfig",AAt,this),q()(this,"onVoIPChatMembersChanged",xAt,this),q()(this,"onVoIPChatSpeakersChanged",EAt,this),q()(this,"onVoIPChatInterrupted",MAt,this),q()(this,"offVoIPChatMembersChanged",RAt,this),q()(this,"offVoIPChatSpeakersChanged",DAt,this),q()(this,"offVoIPChatInterrupted",OAt,this),q()(this,"subscribeVoIPVideoMembers",LAt,this),q()(this,"onVoIPVideoMembersChanged",NAt,this),q()(this,"offVoIPVideoMembersChanged",BAt,this),q()(this,"onVoIPChatStateChanged",$At,this),q()(this,"offVoIPChatStateChanged",FAt,this),q()(this,"join1v1Chat",jAt,this),q()(this,"setEnable1v1Chat",WAt,this),q()(this,"requestSubscribeMessage",VAt,this),q()(this,"requestSubscribeDeviceMessage",UAt,this),q()(this,"login",zAt,this),q()(this,"logout",qAt,this),q()(this,"checkSession",HAt,this),q()(this,"authorize",GAt,this),q()(this,"getUserInfo",KAt,this),q()(this,"getUserProfile",JAt,this),q()(this,"privateCreateVestUser",XAt,this),q()(this,"requestPayment",YAt,this),q()(this,"requestScanPOSPay",QAt,this),q()(this,"verifyPaymentPassword",ZAt,this),q()(this,"bindPaymentCard",ext,this),q()(this,"requestPaymentToBank",txt,this),q()(this,"requestVirtualPayment",rxt,this),q()(this,"requestCommonPayment",nxt,this),q()(this,"openOfflinePayView",ixt,this),q()(this,"openWCPayCardList",axt,this),q()(this,"requestMallPayment",oxt,this),q()(this,"setCurrentPaySpeech",sxt,this),q()(this,"loadPaySpeechDialectConfig",lxt,this),q()(this,"requestJointPayment",cxt,this),q()(this,"getWCPayOverseaPrepayRequest",uxt,this),q()(this,"requestH5Transaction",dxt,this),q()(this,"openWCPayOverseaPaymentReceive",pxt,this),q()(this,"handleWCPayOverseaWalletBuffer",hxt,this),q()(this,"requestVerifyUserIdentity",fxt,this),q()(this,"requestPersonalPay",gxt,this),q()(this,"phoneBindCardVerifySms",vxt,this),q()(this,"faceVerifyForPay",mxt,this),q()(this,"openOfficialAccountProfile",yxt,this),q()(this,"openUserProfile",bxt,this),q()(this,"requestBizSplitBillPayment",_xt,this),q()(this,"openSelectPayment",wxt,this),q()(this,"requestEntrustAuthorization",Sxt,this),q()(this,"requestFacetoFacePayment",Cxt,this),q()(this,"requestQueryCashier",kxt,this),q()(this,"requestOrderPayment",Ixt,this),q()(this,"requestMedicalInsurancePay",Pxt,this),q()(this,"requestMerchantTransfer",Txt,this),q()(this,"checkBeforeAddOrder",Axt,this),q()(this,"notifyWCPayResult",xxt,this),q()(this,"openHKOfflinePayView",Ext,this),q()(this,"openMiniProgramProfile",Mxt,this),q()(this,"openMiniProgramSearch",Rxt,this),q()(this,"openMiniProgramHistoryList",Dxt,this),q()(this,"openMiniProgramStarList",Oxt,this),q()(this,"openMiniProgramAuthManageList",Lxt,this),q()(this,"batchGetContactDirectly",Nxt,this),q()(this,"preloadMiniProgramEnvDirectly",Bxt,this),q()(this,"predownloadMiniProgramPackageDirectly",$xt,this),q()(this,"preventApplePayUI",Fxt,this),this.getWxSecData=()=>{},q()(this,"addCard",jxt,this),q()(this,"openCard",Wxt,this),q()(this,"checkTrafficCardConditions",Vxt,this),q()(this,"queryTrafficCardInfo",Uxt,this),q()(this,"issueTrafficCard",zxt,this),q()(this,"rechargeTrafficCard",qxt,this),q()(this,"setDefaultTrafficCard",Hxt,this),q()(this,"deleteTrafficCard",Gxt,this),q()(this,"addFileToFavorites",Kxt,this),q()(this,"addVideoToFavorites",Jxt,this),q()(this,"openChannelsCreateContact",Xxt,this),q()(this,"getChannelsShareKey",Yxt,this),q()(this,"openChannelsPostPage",Qxt,this),q()(this,"scanCode",Zxt,this),q()(this,"openQRCode",eEt,this),q()(this,"scanItem",tEt,this),q()(this,"privateScanItem",rEt,this),q()(this,"chooseAddress",nEt,this),q()(this,"openDocument",iEt,this),q()(this,"getFileSystemManager",aEt,this),q()(this,"saveFileToDisk",oEt,this),q()(this,"getABTestConfig",sEt,this),q()(this,"chooseContact",lEt,this),q()(this,"makePhoneCall",cEt,this),q()(this,"makeVoIPCall",uEt,this),q()(this,"onBeforeAppRoute",dEt,this),q()(this,"offBeforeAppRoute",pEt,this),q()(this,"onAppRoute",hEt,this),q()(this,"setEntryPagePath",fEt,this),q()(this,"clearEntryPagePath",gEt,this),q()(this,"offAppRoute",vEt,this),q()(this,"onAppRouteDone",mEt,this),q()(this,"offAppRouteDone",yEt,this),q()(this,"onBeforePageLoad",bEt,this),q()(this,"offBeforePageLoad",_Et,this),q()(this,"onAfterPageLoad",wEt,this),q()(this,"offAfterPageLoad",SEt,this),q()(this,"onBeforePageUnload",CEt,this),q()(this,"offBeforePageUnload",kEt,this),q()(this,"onAfterPageUnload",IEt,this),q()(this,"offAfterPageUnload",PEt,this),q()(this,"onAppEnterBackground",TEt,this),q()(this,"onAppEnterForeground",AEt,this),q()(this,"onAppUnhang",xEt,this),q()(this,"onPageNotFound",EEt,this),q()(this,"offPageNotFound",MEt,this),q()(this,"onLazyLoadError",REt,this),q()(this,"offLazyLoadError",DEt,this),q()(this,"onThemeChange",OEt,this),q()(this,"offThemeChange",LEt,this),q()(this,"onApiCategoryChange",NEt,this),q()(this,"offApiCategoryChange",BEt,this),q()(this,"getApiCategory",$Et,this),q()(this,"postMessageToReferrerMiniProgram",FEt,this),q()(this,"onCopyUrl",jEt,this),q()(this,"offCopyUrl",WEt,this),q()(this,"onWindowStateChange",VEt,this),q()(this,"offWindowStateChange",UEt,this),q()(this,"onKeyDown",zEt,this),q()(this,"offKeyDown",qEt,this),q()(this,"onKeyUp",HEt,this),q()(this,"offKeyUp",GEt,this),q()(this,"createAnimation",KEt,this),q()(this,"createInnerAudioContext",JEt,this),q()(this,"getAvailableAudioSources",XEt,this),q()(this,"onAudioInterruptionBegin",YEt,this),q()(this,"offAudioInterruptionBegin",QEt,this),q()(this,"onAudioInterruptionEnd",ZEt,this),q()(this,"offAudioInterruptionEnd",eMt,this),q()(this,"setInnerAudioOption",tMt,this),q()(this,"createCameraContext",rMt,this),q()(this,"createLivePusherContext",nMt,this),q()(this,"onWebviewEvent",iMt,this),q()(this,"onNativeEvent",aMt,this),q()(this,"hideKeyboard",oMt,this),q()(this,"onKeyboardHeightChange",sMt,this),q()(this,"offKeyboardHeightChange",lMt,this),q()(this,"getPublicLibVersion",cMt,this),q()(this,"showModal",uMt,this),q()(this,"showToast",dMt,this),q()(this,"hideToast",pMt,this),q()(this,"showLoading",hMt,this),q()(this,"hideLoading",fMt,this),q()(this,"showActionSheet",gMt,this),q()(this,"showShareActionSheet",vMt,this),q()(this,"reportAnalytics",mMt,this),q()(this,"reportMonitor",yMt,this),q()(this,"getClipboardData",bMt,this),q()(this,"setClipboardData",_Mt,this),q()(this,"createSelectorQuery",wMt,this),q()(this,"createIntersectionObserver",SMt,this),q()(this,"createMediaQueryObserver",CMt,this),q()(this,"nextTick",kMt,this),q()(this,"updatePerfData",IMt,this),q()(this,"traceEvent",PMt,this),q()(this,"onMemoryWarning",TMt,this),q()(this,"offMemoryWarning",AMt,this),q()(this,"reportPerformance",xMt,this),q()(this,"getPerformance",EMt,this),q()(this,"getUpdateManager",MMt,this),q()(this,"updateWeChatApp",RMt,this),q()(this,"getPluginUpdateManager",DMt,this),q()(this,"createWorker",OMt,this),q()(this,"voiceSplitJoint",LMt,this),q()(this,"uploadSilkVoice",NMt,this),q()(this,"downloadSilkVoice",BMt,this),q()(this,"getResPath",$Mt,this),q()(this,"setResPath",FMt,this),q()(this,"setCookies",jMt,this),q()(this,"getCookies",WMt,this),q()(this,"faceDetect",VMt,this),q()(this,"initFaceDetect",UMt,this),q()(this,"stopFaceDetect",zMt,this),q()(this,"createBufferURL",qMt,this),q()(this,"revokeBufferURL",HMt,this),q()(this,"createSignal",GMt,this),q()(this,"bindGroup",KMt,this),q()(this,"joinGroup",JMt,this),q()(this,"getLabInfo",XMt,this),q()(this,"setLabInfo",YMt,this),q()(this,"createUDPSocket",QMt,this),q()(this,"createTCPSocket",ZMt,this),q()(this,"env",eRt,this),q()(this,"error",tRt,this),q()(this,"isSystemError",rRt,this),q()(this,"isSDKError",nRt,this),q()(this,"isThirdError",iRt,this),q()(this,"createRewardedVideoAd",aRt,this),q()(this,"createInterstitialAd",oRt,this),q()(this,"createCustomAd",sRt,this),q()(this,"preloadVideoAd",lRt,this),q()(this,"preloadAd",cRt,this),q()(this,"getLogManager",uRt,this),q()(this,"getRealtimeLogManager",dRt,this),q()(this,"getExptInfo",pRt,this),q()(this,"getExptInfoSync",hRt,this),q()(this,"getCommonConfig",fRt,this),q()(this,"reportEvent",gRt,this),q()(this,"reportStableEvent",vRt,this),q()(this,"getChannelsLiveInfo",mRt,this),q()(this,"getChannelsLiveState",yRt,this),q()(this,"getChannelsLiveReservation",bRt,this),q()(this,"getChannelsLiveNoticeInfo",_Rt,this),q()(this,"openChannelsLive",wRt,this),q()(this,"openChannelsActivity",SRt,this),q()(this,"openChannelsUserProfile",CRt,this),q()(this,"openChannelsLiveCollection",kRt,this),q()(this,"openChannelsEvent",IRt,this),q()(this,"reserveChannelsLive",PRt,this),q()(this,"openPublicServicePayment",TRt,this),q()(this,"version",ARt,this),q()(this,"chooseShareGroup",xRt,this),q()(this,"enterContact",ERt,this),q()(this,"getGroupEnterInfo",MRt,this),q()(this,"preloadWebview",RRt,this),q()(this,"preloadSkylineView",DRt,this),q()(this,"getSkylineInfo",ORt,this),q()(this,"getSkylineInfoSync",LRt,this),q()(this,"publishWeChatState",NRt,this),q()(this,"publishWechatStateActivity",BRt,this),q()(this,"checkPublishWeChatStateScene",$Rt,this),q()(this,"checkPublishWeChatStateSceneAsync",FRt,this),q()(this,"lanDebug",jRt,this),q()(this,"createVKSession",WRt,this),q()(this,"createVKReference",VRt,this),q()(this,"isVKSupport",URt,this),q()(this,"createCacheManager",zRt,this),q()(this,"registerMagicBrushFrame",qRt,this),q()(this,"sendEventToMagicBrushFrame",HRt,this),q()(this,"onEventFromMagicBrushFrame",GRt,this),q()(this,"offEventFromMagicBrushFrame",KRt,this),q()(this,"addAccountCard",JRt,this),q()(this,"checkAccountCardAddState",XRt,this),q()(this,"getDebuggerMessager",YRt,this),q()(this,"chooseLicensePlate",QRt,this),q()(this,"createSharedArrayBuffer",ZRt,this),q()(this,"createInferenceSession",eDt,this),q()(this,"preloadAssets",tDt,this),q()(this,"addToDesktop",rDt,this),q()(this,"setPassiveEvent",nDt,this),q()(this,"router",iDt,this),q()(this,"worklet",aDt,this),q()(this,"obs",oDt,this),q()(this,"serviceMarket",sDt,this),q()(this,"cloud",lDt,this),q()(this,"getXrFrameSystem",cDt,this),q()(this,"addDevicePanel",uDt,this),q()(this,"removeDevicePanel",dDt,this),q()(this,"getDevicePanelList",pDt,this),q()(this,"canIUseDevicePanel",hDt,this),q()(this,"preDownloadSubpackage",fDt,this),q()(this,"pay",gDt,this),q()(this,"notifyPayResult",vDt,this),q()(this,"checkIsPictureInPictureActive",mDt,this),q()(this,"editTextWithPopForm",yDt,this),q()(this,"openAddressWithLightMode",bDt,this),q()(this,"getGMCryptoManager",_Dt,this),q()(this,"getUserCryptoManager",wDt,this),q()(this,"getSecureCryptoManager",SDt,this),q()(this,"batchAddDevicePanel",CDt,this),q()(this,"checkIsAddedToMyMiniProgram",kDt,this),q()(this,"ncidas",IDt,this),q()(this,"openWeComUserProfile",PDt,this),q()(this,"getInferenceEnvInfo",TDt,this),q()(this,"restartMiniProgram",ADt,this),q()(this,"authorizeCombined",xDt,this),q()(this,"openGameDetail",EDt,this)}saveFile(...e){return console.warn("wx.saveFile 即将废弃，请使用 wx.getFileSystemManager().saveFile"),xCe(...e)}getSavedFileList(...e){return console.warn("wx.getSavedFileList 即将废弃，请使用 wx.getFileSystemManager().getSavedFileList"),MCe(...e)}getSavedFileInfo(...e){return console.warn("wx.getSavedFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),RCe(...e)}getFileInfo(...e){return console.warn("wx.getFileInfo 即将废弃，请使用 wx.getFileSystemManager().getFileInfo"),ECe(...e)}removeSavedFile(...e){return console.warn("wx.removeSavedFile 即将废弃，请使用 wx.getFileSystemManager().removeSavedFile"),DCe(...e)}},pwt=G()(dwt.prototype,"requirePrivacyAuthorize",[pnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O6}}),hwt=G()(dwt.prototype,"onNeedPrivacyAuthorization",[hnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x0e}}),fwt=G()(dwt.prototype,"getPrivacySetting",[fnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M6}}),gwt=G()(dwt.prototype,"openPrivacyContract",[gnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bY}}),vwt=G()(dwt.prototype,"setStorage",[vnt,mnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MDt}}),mwt=G()(dwt.prototype,"setStorageSync",[ynt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RDt}}),ywt=G()(dwt.prototype,"plugin_setStorage",[bnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DDt}}),bwt=G()(dwt.prototype,"plugin_setStorageSync",[_nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ODt}}),_wt=G()(dwt.prototype,"batchSetStorage",[wnt,Snt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LDt}}),wwt=G()(dwt.prototype,"batchSetStorageSync",[Cnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NDt}}),Swt=G()(dwt.prototype,"plugin_batchSetStorage",[knt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BDt}}),Cwt=G()(dwt.prototype,"plugin_batchSetStorageSync",[Int],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $Dt}}),kwt=G()(dwt.prototype,"getStorage",[Pnt,Tnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FDt}}),Iwt=G()(dwt.prototype,"getStorageSync",[Ant],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jDt}}),Pwt=G()(dwt.prototype,"plugin_getStorage",[xnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WDt}}),Twt=G()(dwt.prototype,"plugin_getStorageSync",[Ent],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VDt}}),Awt=G()(dwt.prototype,"batchGetStorage",[Mnt,Rnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UDt}}),xwt=G()(dwt.prototype,"batchGetStorageSync",[Dnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zDt}}),Ewt=G()(dwt.prototype,"plugin_batchGetStorage",[Ont],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qDt}}),Mwt=G()(dwt.prototype,"plugin_batchGetStorageSync",[Lnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HDt}}),Rwt=G()(dwt.prototype,"getStorageInfo",[Nnt,Bnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GDt}}),Dwt=G()(dwt.prototype,"getStorageInfoSync",[$nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KDt}}),Owt=G()(dwt.prototype,"plugin_getStorageInfo",[Fnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JDt}}),Lwt=G()(dwt.prototype,"plugin_getStorageInfoSync",[jnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XDt}}),Nwt=G()(dwt.prototype,"removeStorage",[Wnt,Vnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YDt}}),Bwt=G()(dwt.prototype,"removeStorageSync",[Unt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QDt}}),$wt=G()(dwt.prototype,"plugin_removeStorage",[znt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZDt}}),Fwt=G()(dwt.prototype,"plugin_removeStorageSync",[qnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eOt}}),jwt=G()(dwt.prototype,"clearStorage",[Hnt,Gnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tOt}}),Wwt=G()(dwt.prototype,"clearStorageSync",[Knt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rOt}}),Vwt=G()(dwt.prototype,"plugin_clearStorage",[Jnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nOt}}),Uwt=G()(dwt.prototype,"plugin_clearStorageSync",[Xnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iOt}}),zwt=G()(dwt.prototype,"drawCanvas",[Ynt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G1}}),qwt=G()(dwt.prototype,"createContext",[Qnt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E3}}),Hwt=G()(dwt.prototype,"createCanvasContext",[Znt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R3}}),Gwt=G()(dwt.prototype,"canvasToTempFilePath",[eit,tit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c3}}),Kwt=G()(dwt.prototype,"canvasGetImageData",[rit,nit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B1}}),Jwt=G()(dwt.prototype,"canvasPutImageData",[iit,ait],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V1}}),Xwt=G()(dwt.prototype,"createOffscreenCanvas",[oit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k3}}),Ywt=G()(dwt.prototype,"getAccountInfoSync",[sit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OV}}),Qwt=G()(dwt.prototype,"getShareInfo",[lit,cit,uit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OLt}}),Zwt=G()(dwt.prototype,"authPrivateMessage",[dit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FLt}}),eSt=G()(dwt.prototype,"pageScrollTo",[pit,hit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aW}}),tSt=G()(dwt.prototype,"chooseInvoiceTitle",[fit,git,vit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jre}}),rSt=G()(dwt.prototype,"chooseInvoice",[mit,yit,bit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dne}}),nSt=G()(dwt.prototype,"openCustomerServiceChat",[_it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qne}}),iSt=G()(dwt.prototype,"openStickerSetView",[wit,Sit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gre}}),aSt=G()(dwt.prototype,"openSingleStickerView",[Cit,kit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kre}}),oSt=G()(dwt.prototype,"openStickerIPView",[Iit,Pit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jre}}),sSt=G()(dwt.prototype,"onPageReload",[Tit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{TE.call(JLt,e)}}}),lSt=G()(dwt.prototype,"createAudioContext",[Ait],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=dp(t,su.currentWebviewId);return ole.call(JLt,e,su.currentWebviewId,r)}}}),cSt=G()(dwt.prototype,"createVideoContext",[xit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=dp(t,su.currentWebviewId);return s0.call(JLt,e,su.currentWebviewId,r)}}}),uSt=G()(dwt.prototype,"createMapContext",[Eit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=dp(t,su.currentWebviewId);return Die.call(JLt,e,su.currentWebviewId,r)}}}),dSt=G()(dwt.prototype,"createLivePlayerContext",[Mit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{var r=dp(t,su.currentWebviewId);return Zse.call(JLt,e,su.currentWebviewId,r)}}}),pSt=G()(dwt.prototype,"getPassiveEvent",[Rit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NZe}}),hSt=G()(dwt.prototype,"arrayBufferToBase64",[Dit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.surroundThirdByTryCatch(OP)}}),fSt=G()(dwt.prototype,"base64ToArrayBuffer",[Oit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.surroundThirdByTryCatch(LP)}}),gSt=G()(dwt.prototype,"openSetting",[Lit,Nit,Bit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mk}}),vSt=G()(dwt.prototype,"getExtConfig",[$it,Fit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fye}}),mSt=G()(dwt.prototype,"chooseMedia",[jit,Wit,Vit,Uit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _Se}}),ySt=G()(dwt.prototype,"previewMedia",[zit,qit,Hit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SSe}}),bSt=G()(dwt.prototype,"chooseMultiMedia",[Git],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ASe}}),_St=G()(dwt.prototype,"chooseMessageFile",[Kit,Jit,Xit,Yit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bSe}}),wSt=G()(dwt.prototype,"chooseWeChatContact",[Qit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hLt}}),SSt=G()(dwt.prototype,"uploadEncryptedFileToCDN",[Zit],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CI}}),CSt=G()(dwt.prototype,"onUploadEncryptedFileToCDNProgress",[eat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kI}}),kSt=G()(dwt.prototype,"uploadToCommonCDN",[tat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PI}}),ISt=G()(dwt.prototype,"getExtConfigSync",[rat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $ye}}),PSt=G()(dwt.prototype,"showShareMenu",[nat,iat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LLt}}),TSt=G()(dwt.prototype,"hideShareMenu",[aat,oat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NLt}}),ASt=G()(dwt.prototype,"updateShareMenu",[sat,lat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BLt}}),xSt=G()(dwt.prototype,"shareAppMessageForFakeNative",[cat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $Lt}}),ESt=G()(dwt.prototype,"openUrl",[uat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uU}}),MSt=G()(dwt.prototype,"setNavigationBarColor",[dat,pat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xLt}}),RSt=G()(dwt.prototype,"setNavigationBarAlpha",[hat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ELt}}),DSt=G()(dwt.prototype,"showShareImageMenu",[fat,gat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jLt}}),OSt=G()(dwt.prototype,"shareFileMessage",[vat,mat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WLt}}),LSt=G()(dwt.prototype,"shareVideoMessage",[yat,bat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VLt}}),NSt=G()(dwt.prototype,"vibrateShort",[_at,wat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uLt}}),BSt=G()(dwt.prototype,"vibrateLong",[Sat,Cat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dLt}}),$St=G()(dwt.prototype,"getSetting",[kat,Iat,Pat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nre}}),FSt=G()(dwt.prototype,"checkIsSupportFacialRecognition",[Tat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cte}}),jSt=G()(dwt.prototype,"startFacialRecognitionVerify",[Aat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ate}}),WSt=G()(dwt.prototype,"startFacialRecognitionVerifyAndUploadVideo",[xat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xte}}),VSt=G()(dwt.prototype,"startFacialEncryptionVerify",[Eat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ite}}),USt=G()(dwt.prototype,"startFacialEncryptionVerifyAndUploadVideo",[Mat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pte}}),zSt=G()(dwt.prototype,"sendBizRedPacket",[Rat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pte}}),qSt=G()(dwt.prototype,"requestDeviceVoIP",[Dat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lie}}),HSt=G()(dwt.prototype,"getDeviceVoIPList",[Oat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cie}}),GSt=G()(dwt.prototype,"sendGoldenRedPacket",[Lat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dte}}),KSt=G()(dwt.prototype,"openGoldenRedPacketDetail",[Nat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ute}}),JSt=G()(dwt.prototype,"showRedPackage",[Bat,$at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bte}}),XSt=G()(dwt.prototype,"jumpRedPacketEnvelopePreview",[Fat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _te}}),YSt=G()(dwt.prototype,"quickSendRedPacket",[jat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wte}}),QSt=G()(dwt.prototype,"sendRedCoverAppMsg",[Wat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ste}}),ZSt=G()(dwt.prototype,"previewSmartAd",[Vat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EWe}}),eCt=G()(dwt.prototype,"jumpRedPacketEnvelopePreview",[Uat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _te}}),tCt=G()(dwt.prototype,"quickSendRedPacket",[zat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wte}}),rCt=G()(dwt.prototype,"sendRedCoverAppMsg",[qat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ste}}),nCt=G()(dwt.prototype,"addPhoneContact",[Hat,Gat,Kat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fLt}}),iCt=G()(dwt.prototype,"quicklyAddBrandContact",[Jat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gLt}}),aCt=G()(dwt.prototype,"searchContacts",[Xat,Yat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vLt}}),oCt=G()(dwt.prototype,"privateSearchContacts",[Qat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mLt}}),sCt=G()(dwt.prototype,"sendSms",[Zat],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yLt}}),lCt=G()(dwt.prototype,"setScreenBrightness",[eot,tot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iLt}}),cCt=G()(dwt.prototype,"getScreenBrightness",[rot,not],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aLt}}),uCt=G()(dwt.prototype,"setVisualEffectOnCapture",[iot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oLt}}),dCt=G()(dwt.prototype,"onScreenRecordingStateChanged",[aot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sLt}}),pCt=G()(dwt.prototype,"offScreenRecordingStateChanged",[oot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lLt}}),hCt=G()(dwt.prototype,"getScreenRecordingState",[sot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cLt}}),fCt=G()(dwt.prototype,"shareToWeRun",[lot,cot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cne}}),gCt=G()(dwt.prototype,"getWeRunData",[uot,dot,pot,hot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bre}}),vCt=G()(dwt.prototype,"uploadWeRunData",[fot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $re}}),mCt=G()(dwt.prototype,"addWeRunData",[got],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fre}}),yCt=G()(dwt.prototype,"canIUse",[vot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tke}}),bCt=G()(dwt.prototype,"setPageStyle",[mot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uW}}),_Ct=G()(dwt.prototype,"triggerGettingWidgetData",[yot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qbe}}),wCt=G()(dwt.prototype,"navigateToMiniProgram",[bot,_ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d9}}),SCt=G()(dwt.prototype,"navigateToMiniProgramDirectly",[wot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h9}}),CCt=G()(dwt.prototype,"navigateToDevMiniProgram",[Sot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tce}}),kCt=G()(dwt.prototype,"navigateBackMiniProgram",[Cot,kot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zle}}),ICt=G()(dwt.prototype,"launchMiniProgram",[Iot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rce}}),PCt=G()(dwt.prototype,"launchDevMiniProgram",[Pot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nce}}),TCt=G()(dwt.prototype,"exitMiniProgram",[Tot,Aot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v4}}),ACt=G()(dwt.prototype,"openEmbeddedMiniProgram",[xot,Eot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mce}}),xCt=G()(dwt.prototype,"onEmbeddedMiniProgramHeightChange",[Mot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bce}}),ECt=G()(dwt.prototype,"offEmbeddedMiniProgramHeightChange",[Rot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _ce}}),MCt=G()(dwt.prototype,"launchApplicationDirectly",[Dot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Axe}}),RCt=G()(dwt.prototype,"launchApplicationForNative",[Oot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Txe}}),DCt=G()(dwt.prototype,"setNavigationBarRightButton",[Lot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MLt}}),OCt=G()(dwt.prototype,"onTapNavigationBarRightButton",[Not],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RLt}}),LCt=G()(dwt.prototype,"setTopBarText",[Bot,$ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pj}}),NCt=G()(dwt.prototype,"setTabBarBadge",[Fot,jot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EF}}),BCt=G()(dwt.prototype,"removeTabBarBadge",[Wot,Vot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MF}}),$Ct=G()(dwt.prototype,"showTabBarRedDot",[Uot,zot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RF}}),FCt=G()(dwt.prototype,"hideTabBarRedDot",[qot,Hot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DF}}),jCt=G()(dwt.prototype,"showTabBar",[Got,Kot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LF}}),WCt=G()(dwt.prototype,"hideTabBar",[Jot,Xot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NF}}),VCt=G()(dwt.prototype,"setTabBarStyle",[Yot,Qot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $F}}),UCt=G()(dwt.prototype,"setTabBarItem",[Zot,est],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jF}}),zCt=G()(dwt.prototype,"getTabBarManager",[tst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v1e}}),qCt=G()(dwt.prototype,"setBackgroundColor",[rst,nst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jW}}),HCt=G()(dwt.prototype,"setBackgroundTextStyle",[ist,ast],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WW}}),GCt=G()(dwt.prototype,"setEnableDebug",[ost,sst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oU}}),KCt=G()(dwt.prototype,"captureScreen",[lst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eLt}}),JCt=G()(dwt.prototype,"onUserCaptureScreen",[cst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tLt}}),XCt=G()(dwt.prototype,"offUserCaptureScreen",[ust],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rLt}}),YCt=G()(dwt.prototype,"setKeepScreenOn",[dst,pst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nLt}}),QCt=G()(dwt.prototype,"checkIsSupportSoterAuthentication",[hst,fst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ste}}),ZCt=G()(dwt.prototype,"startSoterAuthentication",[gst,vst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lte}}),ekt=G()(dwt.prototype,"checkIsSoterEnrolledInDevice",[mst,yst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cte}}),tkt=G()(dwt.prototype,"openDeliveryList",[bst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sU}}),rkt=G()(dwt.prototype,"navigateBackH5",[_st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tKe}}),nkt=G()(dwt.prototype,"openBusinessView",[wst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y3}}),ikt=G()(dwt.prototype,"openOfficialAccountArticle",[Sst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rKe}}),akt=G()(dwt.prototype,"navigateBackApplication",[Cst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iKe}}),okt=G()(dwt.prototype,"navigateBackNative",[kst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aKe}}),skt=G()(dwt.prototype,"reportIDKey",[Ist],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kbe}}),lkt=G()(dwt.prototype,"reportKeyValue",[Pst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jbe}}),ckt=G()(dwt.prototype,"setWindowSize",[Tst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CJe}}),ukt=G()(dwt.prototype,"setNavigationBarTitle",[Ast,xst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PLt}}),dkt=G()(dwt.prototype,"showNavigationBarLoading",[Est,Mst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TLt}}),pkt=G()(dwt.prototype,"hideNavigationBarLoading",[Rst,Dst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ALt}}),hkt=G()(dwt.prototype,"hideHomeButton",[Ost,Lst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DLt}}),fkt=G()(dwt.prototype,"startPullDownRefresh",[Nst,Bst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oW}}),gkt=G()(dwt.prototype,"stopPullDownRefresh",[$st,Fst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sW}}),vkt=G()(dwt.prototype,"operateWXData",[jst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vre}}),mkt=G()(dwt.prototype,"getOpenDeviceId",[Wst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zre}}),ykt=G()(dwt.prototype,"onMenuButtonBoundingClientRectWeightChange",[Vst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HW}}),bkt=G()(dwt.prototype,"offMenuButtonBoundingClientRectWeightChange",[Ust],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GW}}),_kt=G()(dwt.prototype,"getMenuButtonBoundingClientRect",[zst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JW}}),wkt=G()(dwt.prototype,"getSelectedTextRange",[qst,Hst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XW}}),Skt=G()(dwt.prototype,"enableAlertBeforeUnload",[Gst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UW}}),Ckt=G()(dwt.prototype,"disableAlertBeforeUnload",[Kst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zW}}),kkt=G()(dwt.prototype,"setNavigateBackInterception",[Jst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dV}}),Ikt=G()(dwt.prototype,"stopNavigateBackInterception",[Xst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pV}}),Pkt=G()(dwt.prototype,"makeBluetoothPair",[Yst,Qst],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FPe}}),Tkt=G()(dwt.prototype,"isBluetoothDevicePaired",[Zst,elt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jPe}}),Akt=G()(dwt.prototype,"openBluetoothAdapter",[tlt,rlt,nlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mIe}}),xkt=G()(dwt.prototype,"openBluetoothAdapterBackground",[ilt,alt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PIe}}),Ekt=G()(dwt.prototype,"closeBluetoothAdapter",[olt,slt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TIe}}),Mkt=G()(dwt.prototype,"getBluetoothAdapterState",[llt,clt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AIe}}),Rkt=G()(dwt.prototype,"onBluetoothAdapterStateChange",[ult],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cle}}),Dkt=G()(dwt.prototype,"offBluetoothAdapterStateChange",[dlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kle}}),Okt=G()(dwt.prototype,"startBluetoothDevicesDiscovery",[plt,hlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xIe}}),Lkt=G()(dwt.prototype,"stopBluetoothDevicesDiscovery",[flt,glt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EIe}}),Nkt=G()(dwt.prototype,"startMonitoringBluetoothDevice",[vlt,mlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QPe}}),Bkt=G()(dwt.prototype,"stopMonitoringBluetoothDevice",[ylt,blt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tTe}}),$kt=G()(dwt.prototype,"getBluetoothDevices",[_lt,wlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MIe}}),Fkt=G()(dwt.prototype,"getConnectedBluetoothDevices",[Slt,Clt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DIe}}),jkt=G()(dwt.prototype,"getMonitoredBluetoothDevices",[klt,Ilt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yIe}}),Wkt=G()(dwt.prototype,"createBLEConnection",[Plt,Tlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZIe}}),Vkt=G()(dwt.prototype,"setBLEMTU",[Alt,xlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WPe}}),Ukt=G()(dwt.prototype,"setBluetoothBackgroundMode",[Elt,Mlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KIe}}),zkt=G()(dwt.prototype,"getBLEMTU",[Rlt,Dlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GPe}}),qkt=G()(dwt.prototype,"onBLEMTUChange",[Olt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qPe}}),Hkt=G()(dwt.prototype,"offBLEMTUChange",[Llt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HPe}}),Gkt=G()(dwt.prototype,"closeBLEConnection",[Nlt,Blt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ePe}}),Kkt=G()(dwt.prototype,"getBLEDeviceServices",[$lt,Flt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tPe}}),Jkt=G()(dwt.prototype,"getBLEDeviceRSSI",[jlt,Wlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RIe}}),Xkt=G()(dwt.prototype,"getBLEDeviceCharacteristics",[Vlt,Ult],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rPe}}),Ykt=G()(dwt.prototype,"createBLEPeripheralServer",[zlt,qlt,Hlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LPe}}),Qkt=G()(dwt.prototype,"onBLEPeripheralConnectionStateChanged",[Glt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BPe}}),Zkt=G()(dwt.prototype,"offBLEPeripheralConnectionStateChanged",[Klt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $Pe}}),eIt=G()(dwt.prototype,"notifyBLECharacteristicValueChanged",[Jlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nPe}}),tIt=G()(dwt.prototype,"notifyBLECharacteristicValueChange",[Xlt,Ylt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iPe}}),rIt=G()(dwt.prototype,"readBLECharacteristicValue",[Qlt,Zlt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aPe}}),nIt=G()(dwt.prototype,"writeBLECharacteristicValue",[ect,tct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oPe}}),iIt=G()(dwt.prototype,"onBluetoothDeviceFound",[rct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pPe}}),aIt=G()(dwt.prototype,"offBluetoothDeviceFound",[nct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hPe}}),oIt=G()(dwt.prototype,"onMonitoredBluetoothDeviceFound",[ict],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oTe}}),sIt=G()(dwt.prototype,"offMonitoredBluetoothDeviceFound",[act],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sTe}}),lIt=G()(dwt.prototype,"onBLEConnectionStateChanged",[oct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lPe}}),cIt=G()(dwt.prototype,"onBLEConnectionStateChange",[sct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ble}}),uIt=G()(dwt.prototype,"onBLECharacteristicValueChange",[lct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uPe}}),dIt=G()(dwt.prototype,"offBLEConnectionStateChanged",[cct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cPe}}),pIt=G()(dwt.prototype,"offBLEConnectionStateChange",[uct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _le}}),hIt=G()(dwt.prototype,"offBLECharacteristicValueChange",[dct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dPe}}),fIt=G()(dwt.prototype,"startBeaconDiscovery",[pct,hct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nIe}}),gIt=G()(dwt.prototype,"stopBeaconDiscovery",[fct,gct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iIe}}),vIt=G()(dwt.prototype,"getBeacons",[vct,mct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aIe}}),mIt=G()(dwt.prototype,"onBeaconUpdate",[yct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oIe}}),yIt=G()(dwt.prototype,"offBeaconUpdate",[bct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sIe}}),bIt=G()(dwt.prototype,"onBeaconServiceChange",[_ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lIe}}),_It=G()(dwt.prototype,"offBeaconServiceChange",[wct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cIe}}),wIt=G()(dwt.prototype,"startWifi",[Sct,Cct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lTe}}),SIt=G()(dwt.prototype,"stopWifi",[kct,Ict],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cTe}}),CIt=G()(dwt.prototype,"getWifiList",[Pct,Tct,Act],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uTe}}),kIt=G()(dwt.prototype,"getConnectedWifi",[xct,Ect],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pTe}}),IIt=G()(dwt.prototype,"connectWifi",[Mct,Rct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hTe}}),PIt=G()(dwt.prototype,"presetWifiList",[Dct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fTe}}),TIt=G()(dwt.prototype,"setWifiList",[Oct,Lct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gTe}}),AIt=G()(dwt.prototype,"onGetWifiList",[Nct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vTe}}),xIt=G()(dwt.prototype,"onWifiConnected",[Bct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yTe}}),EIt=G()(dwt.prototype,"onWifiConnectedWithPartialInfo",[$ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kTe}}),MIt=G()(dwt.prototype,"offGetWifiList",[Fct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mTe}}),RIt=G()(dwt.prototype,"offWifiConnected",[jct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bTe}}),DIt=G()(dwt.prototype,"offWifiConnectedWithPartialInfo",[Wct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ITe}}),OIt=G()(dwt.prototype,"onEvaluateWifi",[Vct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return STe}}),LIt=G()(dwt.prototype,"getHCEState",[Uct,zct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PTe}}),NIt=G()(dwt.prototype,"startHCE",[qct,Hct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TTe}}),BIt=G()(dwt.prototype,"stopHCE",[Gct,Kct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ATe}}),$It=G()(dwt.prototype,"sendHCEMessage",[Jct,Xct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xTe}}),FIt=G()(dwt.prototype,"onHCEMessage",[Yct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ETe}}),jIt=G()(dwt.prototype,"offHCEMessage",[Qct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MTe}}),WIt=G()(dwt.prototype,"getNFCAdapter",[Zct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZTe}}),VIt=G()(dwt.prototype,"startLocalServiceDiscovery",[eut,tut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iAe}}),UIt=G()(dwt.prototype,"stopLocalServiceDiscovery",[rut,nut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aAe}}),zIt=G()(dwt.prototype,"onLocalServiceFound",[iut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oAe}}),qIt=G()(dwt.prototype,"offLocalServiceFound",[aut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sAe}}),HIt=G()(dwt.prototype,"onLocalServiceLost",[out],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lAe}}),GIt=G()(dwt.prototype,"offLocalServiceLost",[sut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cAe}}),KIt=G()(dwt.prototype,"onLocalServiceDiscoveryStop",[lut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uAe}}),JIt=G()(dwt.prototype,"offLocalServiceDiscoveryStop",[cut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dAe}}),XIt=G()(dwt.prototype,"onLocalServiceResolveFail",[uut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pAe}}),YIt=G()(dwt.prototype,"offLocalServiceResolveFail",[dut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hAe}}),QIt=G()(dwt.prototype,"getLocalIPAddress",[put],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RAe}}),ZIt=G()(dwt.prototype,"checkDeviceSupportHevc",[hut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OAe}}),ePt=G()(dwt.prototype,"redirectTo",[fut,gut,vut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dE}}),tPt=G()(dwt.prototype,"reLaunch",[mut,yut,but],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pE}}),rPt=G()(dwt.prototype,"navigateTo",[_ut,wut,Sut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cE}}),nPt=G()(dwt.prototype,"switchTab",[Cut,kut,Iut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hE}}),iPt=G()(dwt.prototype,"navigateBack",[Put,Tut,Aut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rE}}),aPt=G()(dwt.prototype,"onAppShow",[xut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cS}}),oPt=G()(dwt.prototype,"offAppShow",[Eut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uS}}),sPt=G()(dwt.prototype,"onAppHide",[Mut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _S}}),lPt=G()(dwt.prototype,"offAppHide",[Rut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wS}}),cPt=G()(dwt.prototype,"onError",[Dut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qN}}),uPt=G()(dwt.prototype,"offError",[Out],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HN}}),dPt=G()(dwt.prototype,"onUnhandledRejection",[Lut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GN}}),pPt=G()(dwt.prototype,"offUnhandledRejection",[Nut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KN}}),hPt=G()(dwt.prototype,"getLaunchOptionsSync",[But],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OO}}),fPt=G()(dwt.prototype,"getEnterOptionsSync",[$ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wh}}),gPt=G()(dwt.prototype,"getInnerEnterOptions",[Fut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cNe}}),vPt=G()(dwt.prototype,"onWindowResize",[jut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MW}}),mPt=G()(dwt.prototype,"offWindowResize",[Wut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RW}}),yPt=G()(dwt.prototype,"setPageOrientation",[Vut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $W}}),bPt=G()(dwt.prototype,"getBackgroundFetchData",[Uut,zut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ULt}}),_Pt=G()(dwt.prototype,"onBackgroundFetchData",[qut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zLt}}),wPt=G()(dwt.prototype,"setBackgroundFetchToken",[Hut,Gut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qLt}}),SPt=G()(dwt.prototype,"getBackgroundFetchToken",[Kut,Jut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HLt}}),CPt=G()(dwt.prototype,"request",[Xut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i1e}}),kPt=G()(dwt.prototype,"connectSocket",[Yut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aOt}}),IPt=G()(dwt.prototype,"closeSocket",[Qut,Zut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oOt}}),PPt=G()(dwt.prototype,"sendSocketMessage",[edt,tdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sOt}}),TPt=G()(dwt.prototype,"onSocketOpen",[rdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lOt}}),APt=G()(dwt.prototype,"onSocketClose",[ndt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cOt}}),xPt=G()(dwt.prototype,"onSocketMessage",[idt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uOt}}),EPt=G()(dwt.prototype,"onSocketError",[adt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dOt}}),MPt=G()(dwt.prototype,"uploadFile",[odt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hk}}),RPt=G()(dwt.prototype,"downloadFile",[sdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jC}}),DPt=G()(dwt.prototype,"addNativeDownloadTask",[ldt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TI}}),OPt=G()(dwt.prototype,"downloadApp",[cdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LI}}),LPt=G()(dwt.prototype,"installDownloadApp",[udt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FI}}),NPt=G()(dwt.prototype,"getAppInstallState",[ddt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NI}}),BPt=G()(dwt.prototype,"queryDownloadAppTask",[pdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BI}}),$Pt=G()(dwt.prototype,"cancelDownloadAppTask",[hdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $I}}),FPt=G()(dwt.prototype,"resumeDownloadAppTask",[fdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WI}}),jPt=G()(dwt.prototype,"pauseDownloadAppTask",[gdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jI}}),WPt=G()(dwt.prototype,"onDownloadAppStateChange",[vdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VI}}),VPt=G()(dwt.prototype,"downloadAppForIOS",[mdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UI}}),UPt=G()(dwt.prototype,"calRqt",[ydt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zI}}),zPt=G()(dwt.prototype,"secureTunnel",[bdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qI}}),qPt=G()(dwt.prototype,"chooseImage",[_dt,wdt,Sdt,Cdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pOt}}),HPt=G()(dwt.prototype,"previewImage",[kdt,Idt,Pdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hOt}}),GPt=G()(dwt.prototype,"getImageInfo",[Tdt,Adt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fOt}}),KPt=G()(dwt.prototype,"saveImageToPhotosAlbum",[xdt,Edt,Mdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gOt}}),JPt=G()(dwt.prototype,"compressImage",[Rdt,Ddt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vOt}}),XPt=G()(dwt.prototype,"editImage",[Odt,Ldt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mOt}}),YPt=G()(dwt.prototype,"cropImage",[Ndt,Bdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yOt}}),QPt=G()(dwt.prototype,"startRecord",[$dt,Fdt,jdt,Wdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bOt}}),ZPt=G()(dwt.prototype,"stopRecord",[Vdt,Udt,zdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _Ot}}),eTt=G()(dwt.prototype,"playVoice",[qdt,Hdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IOt}}),tTt=G()(dwt.prototype,"pauseVoice",[Gdt,Kdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return POt}}),rTt=G()(dwt.prototype,"stopVoice",[Jdt,Xdt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TOt}}),nTt=G()(dwt.prototype,"onVoicePlayEnd",[Ydt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AOt}}),iTt=G()(dwt.prototype,"chooseVideo",[Qdt,Zdt,ept,tpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wOt}}),aTt=G()(dwt.prototype,"saveVideoToPhotosAlbum",[rpt,npt,ipt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SOt}}),oTt=G()(dwt.prototype,"getVideoInfo",[apt,opt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return COt}}),sTt=G()(dwt.prototype,"compressVideo",[spt,lpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kOt}}),lTt=G()(dwt.prototype,"loadFontFace",[cpt,upt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xOt}}),cTt=G()(dwt.prototype,"createMediaContainer",[dpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BSe}}),uTt=G()(dwt.prototype,"createMediaRecorder",[ppt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SCe}}),dTt=G()(dwt.prototype,"createVideoDecoder",[hpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eCe}}),pTt=G()(dwt.prototype,"openVideoEditor",[fpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PCe}}),hTt=G()(dwt.prototype,"createMediaAudioPlayer",[gpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gSe}}),fTt=G()(dwt.prototype,"createWebAudioContext",[vpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Aoe}}),gTt=G()(dwt.prototype,"getLocation",[mpt,ypt,bpt,_pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hye}}),vTt=G()(dwt.prototype,"getFuzzyLocation",[wpt,Spt,Cpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bye}}),mTt=G()(dwt.prototype,"openLocation",[kpt,Ipt,Ppt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vye}}),yTt=G()(dwt.prototype,"chooseLocation",[Tpt,Apt,xpt,Ept],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fye}}),bTt=G()(dwt.prototype,"choosePoi",[Mpt,Rpt,Dpt,Opt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gye}}),_Tt=G()(dwt.prototype,"onLocationChange",[Lpt,Npt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yye}}),wTt=G()(dwt.prototype,"offLocationChange",[Bpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bye}}),STt=G()(dwt.prototype,"onLocationChangeError",[$pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sye}}),CTt=G()(dwt.prototype,"offLocationChangeError",[Fpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Cye}}),kTt=G()(dwt.prototype,"startLocationUpdateBackground",[jpt,Wpt,Vpt,Upt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Eye}}),ITt=G()(dwt.prototype,"startLocationUpdate",[zpt,qpt,Hpt,Gpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mye}}),PTt=G()(dwt.prototype,"stopLocationUpdate",[Kpt,Jpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rye}}),TTt=G()(dwt.prototype,"getNetworkType",[Xpt,Ypt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eg}}),ATt=G()(dwt.prototype,"onNetworkStatusChange",[Qpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tg}}),xTt=G()(dwt.prototype,"offNetworkStatusChange",[Zpt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rg}}),ETt=G()(dwt.prototype,"onNetworkWeakChange",[eht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ng}}),MTt=G()(dwt.prototype,"offNetworkWeakChange",[tht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ig}}),RTt=G()(dwt.prototype,"getSystemInfo",[rht,nht,iht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zb}}),DTt=G()(dwt.prototype,"getSystemInfoSync",[aht,oht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $b}}),OTt=G()(dwt.prototype,"getSystemInfoAsync",[sht,lht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hb}}),LTt=G()(dwt.prototype,"openSystemBluetoothSetting",[cht,uht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gb}}),NTt=G()(dwt.prototype,"openAppAuthorizeSetting",[dht,pht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kb}}),BTt=G()(dwt.prototype,"getSystemSetting",[hht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yb}}),$Tt=G()(dwt.prototype,"getAppAuthorizeSetting",[fht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qb}}),FTt=G()(dwt.prototype,"getDeviceInfo",[ght],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return o_}}),jTt=G()(dwt.prototype,"getDeviceBenchmarkInfo",[vht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y_}}),WTt=G()(dwt.prototype,"getWindowInfo",[mht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z_}}),VTt=G()(dwt.prototype,"getAppBaseInfo",[yht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tw}}),UTt=G()(dwt.prototype,"getRendererUserAgent",[bht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sw}}),zTt=G()(dwt.prototype,"getBatteryInfo",[_ht,wht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xke}}),qTt=G()(dwt.prototype,"getBatteryInfoSync",[Sht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Eke}}),HTt=G()(dwt.prototype,"onBatteryInfoChange",[Cht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mke}}),GTt=G()(dwt.prototype,"offBatteryInfoChange",[kht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rke}}),KTt=G()(dwt.prototype,"startAccelerometer",[Iht,Pht,Tht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lke}}),JTt=G()(dwt.prototype,"stopAccelerometer",[Aht,xht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nke}}),XTt=G()(dwt.prototype,"onAccelerometerChange",[Eht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fke}}),YTt=G()(dwt.prototype,"offAccelerometerChange",[Mht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $ke}}),QTt=G()(dwt.prototype,"startCompass",[Rht,Dht,Oht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vke}}),ZTt=G()(dwt.prototype,"stopCompass",[Lht,Nht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Uke}}),eAt=G()(dwt.prototype,"onCompassChange",[Bht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hke}}),tAt=G()(dwt.prototype,"offCompassChange",[$ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qke}}),rAt=G()(dwt.prototype,"startDeviceMotionListening",[Fht,jht,Wht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _Ae}}),nAt=G()(dwt.prototype,"stopDeviceMotionListening",[Vht,Uht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wAe}}),iAt=G()(dwt.prototype,"onDeviceMotionChange",[zht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SAe}}),aAt=G()(dwt.prototype,"offDeviceMotionChange",[qht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CAe}}),oAt=G()(dwt.prototype,"startGyroscope",[Hht,Ght,Kht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gAe}}),sAt=G()(dwt.prototype,"stopGyroscope",[Jht,Xht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vAe}}),lAt=G()(dwt.prototype,"onGyroscopeChange",[Yht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mAe}}),cAt=G()(dwt.prototype,"offGyroscopeChange",[Qht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yAe}}),uAt=G()(dwt.prototype,"checkIsOpenAccessibility",[Zht,eft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kAe}}),dAt=G()(dwt.prototype,"addPhoneCalendar",[tft,rft,nft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TAe}}),pAt=G()(dwt.prototype,"addPhoneRepeatCalendar",[ift,aft,oft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AAe}}),hAt=G()(dwt.prototype,"getRandomValues",[sft,lft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eBe}}),fAt=G()(dwt.prototype,"getWebviewDebugInfo",[cft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MAe}}),gAt=G()(dwt.prototype,"reportAction",[uft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hbe}}),vAt=G()(dwt.prototype,"getBackgroundAudioManager",[dft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jwe}}),mAt=G()(dwt.prototype,"getRecorderManager",[pft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lwe}}),yAt=G()(dwt.prototype,"getBackgroundAudioPlayerState",[hft,fft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return EOt}}),bAt=G()(dwt.prototype,"playBackgroundAudio",[gft,vft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MOt}}),_At=G()(dwt.prototype,"pauseBackgroundAudio",[mft,yft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ROt}}),wAt=G()(dwt.prototype,"seekBackgroundAudio",[bft,_ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DOt}}),SAt=G()(dwt.prototype,"stopBackgroundAudio",[wft,Sft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return OOt}}),CAt=G()(dwt.prototype,"onBackgroundAudioPlay",[Cft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LOt}}),kAt=G()(dwt.prototype,"onBackgroundAudioPause",[kft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NOt}}),IAt=G()(dwt.prototype,"onBackgroundAudioStop",[Ift],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BOt}}),PAt=G()(dwt.prototype,"joinVoIPChat",[Pft,Tft,Aft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $Ot}}),TAt=G()(dwt.prototype,"exitVoIPChat",[xft,Eft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FOt}}),AAt=G()(dwt.prototype,"updateVoIPChatMuteConfig",[Mft,Rft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jOt}}),xAt=G()(dwt.prototype,"onVoIPChatMembersChanged",[Dft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WOt}}),EAt=G()(dwt.prototype,"onVoIPChatSpeakersChanged",[Oft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VOt}}),MAt=G()(dwt.prototype,"onVoIPChatInterrupted",[Lft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UOt}}),RAt=G()(dwt.prototype,"offVoIPChatMembersChanged",[Nft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zOt}}),DAt=G()(dwt.prototype,"offVoIPChatSpeakersChanged",[Bft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qOt}}),OAt=G()(dwt.prototype,"offVoIPChatInterrupted",[$ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HOt}}),LAt=G()(dwt.prototype,"subscribeVoIPVideoMembers",[Fft,jft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GOt}}),NAt=G()(dwt.prototype,"onVoIPVideoMembersChanged",[Wft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KOt}}),BAt=G()(dwt.prototype,"offVoIPVideoMembersChanged",[Vft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JOt}}),$At=G()(dwt.prototype,"onVoIPChatStateChanged",[Uft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XOt}}),FAt=G()(dwt.prototype,"offVoIPChatStateChanged",[zft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YOt}}),jAt=G()(dwt.prototype,"join1v1Chat",[qft,Hft,Gft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QOt}}),WAt=G()(dwt.prototype,"setEnable1v1Chat",[Kft,Jft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZOt}}),VAt=G()(dwt.prototype,"requestSubscribeMessage",[Xft,Yft,Qft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _ne}}),UAt=G()(dwt.prototype,"requestSubscribeDeviceMessage",[Zft,egt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $ne}}),zAt=G()(dwt.prototype,"login",[tgt,rgt,ngt,igt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ute}}),qAt=G()(dwt.prototype,"logout",[agt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qte}}),HAt=G()(dwt.prototype,"checkSession",[ogt,sgt,lgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zte}}),GAt=G()(dwt.prototype,"authorize",[cgt,ugt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U6}}),KAt=G()(dwt.prototype,"getUserInfo",[dgt,pgt,hgt,fgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mre}}),JAt=G()(dwt.prototype,"getUserProfile",[ggt,vgt,mgt,ygt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tre}}),XAt=G()(dwt.prototype,"privateCreateVestUser",[bgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sre}}),YAt=G()(dwt.prototype,"requestPayment",[_gt,wgt,Sgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I7}}),QAt=G()(dwt.prototype,"requestScanPOSPay",[Cgt,kgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B7}}),ZAt=G()(dwt.prototype,"verifyPaymentPassword",[Igt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return r8}}),ext=G()(dwt.prototype,"bindPaymentCard",[Pgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q5}}),txt=G()(dwt.prototype,"requestPaymentToBank",[Tgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t8}}),rxt=G()(dwt.prototype,"requestVirtualPayment",[Agt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dwe}}),nxt=G()(dwt.prototype,"requestCommonPayment",[xgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N9}}),ixt=G()(dwt.prototype,"openOfflinePayView",[Egt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y5}}),axt=G()(dwt.prototype,"openWCPayCardList",[Mgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z7}}),oxt=G()(dwt.prototype,"requestMallPayment",[Rgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K5}}),sxt=G()(dwt.prototype,"setCurrentPaySpeech",[Dgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q7}}),lxt=G()(dwt.prototype,"loadPaySpeechDialectConfig",[Ogt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H5}}),cxt=G()(dwt.prototype,"requestJointPayment",[Lgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a8}}),uxt=G()(dwt.prototype,"getWCPayOverseaPrepayRequest",[Ngt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X5}}),dxt=G()(dwt.prototype,"requestH5Transaction",[Bgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e8}}),pxt=G()(dwt.prototype,"openWCPayOverseaPaymentReceive",[$gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i8}}),hxt=G()(dwt.prototype,"handleWCPayOverseaWalletBuffer",[Fgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J7}}),fxt=G()(dwt.prototype,"requestVerifyUserIdentity",[jgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J5}}),gxt=G()(dwt.prototype,"requestPersonalPay",[Wgt,Vgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s8}}),vxt=G()(dwt.prototype,"phoneBindCardVerifySms",[Ugt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G5}}),mxt=G()(dwt.prototype,"faceVerifyForPay",[zgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return hne}}),yxt=G()(dwt.prototype,"openOfficialAccountProfile",[qgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fne}}),bxt=G()(dwt.prototype,"openUserProfile",[Hgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vne}}),_xt=G()(dwt.prototype,"requestBizSplitBillPayment",[Ggt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fne}}),wxt=G()(dwt.prototype,"openSelectPayment",[Kgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X7}}),Sxt=G()(dwt.prototype,"requestEntrustAuthorization",[Jgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Q5}}),Cxt=G()(dwt.prototype,"requestFacetoFacePayment",[Xgt,Ygt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y7}}),kxt=G()(dwt.prototype,"requestQueryCashier",[Qgt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n8}}),Ixt=G()(dwt.prototype,"requestOrderPayment",[Zgt,evt,tvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G7}}),Pxt=G()(dwt.prototype,"requestMedicalInsurancePay",[rvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c8}}),Txt=G()(dwt.prototype,"requestMerchantTransfer",[nvt,ivt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u8}}),Axt=G()(dwt.prototype,"checkBeforeAddOrder",[avt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K7}}),xxt=G()(dwt.prototype,"notifyWCPayResult",[ovt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l8}}),Ext=G()(dwt.prototype,"openHKOfflinePayView",[svt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I9}}),Mxt=G()(dwt.prototype,"openMiniProgramProfile",[lvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gne}}),Rxt=G()(dwt.prototype,"openMiniProgramSearch",[cvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L8}}),Dxt=G()(dwt.prototype,"openMiniProgramHistoryList",[uvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N8}}),Oxt=G()(dwt.prototype,"openMiniProgramStarList",[dvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B8}}),Lxt=G()(dwt.prototype,"openMiniProgramAuthManageList",[pvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $8}}),Nxt=G()(dwt.prototype,"batchGetContactDirectly",[hvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F8}}),Bxt=G()(dwt.prototype,"preloadMiniProgramEnvDirectly",[fvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W8}}),$xt=G()(dwt.prototype,"predownloadMiniProgramPackageDirectly",[gvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V8}}),Fxt=G()(dwt.prototype,"preventApplePayUI",[vvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yne}}),jxt=G()(dwt.prototype,"addCard",[mvt,yvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ate}}),Wxt=G()(dwt.prototype,"openCard",[bvt,_vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ote}}),Vxt=G()(dwt.prototype,"checkTrafficCardConditions",[wvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ete}}),Uxt=G()(dwt.prototype,"queryTrafficCardInfo",[Svt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mte}}),zxt=G()(dwt.prototype,"issueTrafficCard",[Cvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rte}}),qxt=G()(dwt.prototype,"rechargeTrafficCard",[kvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Dte}}),Hxt=G()(dwt.prototype,"setDefaultTrafficCard",[Ivt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ote}}),Gxt=G()(dwt.prototype,"deleteTrafficCard",[Pvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Lte}}),Kxt=G()(dwt.prototype,"addFileToFavorites",[Tvt,Avt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nte}}),Jxt=G()(dwt.prototype,"addVideoToFavorites",[xvt,Evt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bte}}),Xxt=G()(dwt.prototype,"openChannelsCreateContact",[Mvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $te}}),Yxt=G()(dwt.prototype,"getChannelsShareKey",[Rvt,Dvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jte}}),Qxt=G()(dwt.prototype,"openChannelsPostPage",[Ovt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wte}}),Zxt=G()(dwt.prototype,"scanCode",[Lvt,Nvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jke}}),eEt=G()(dwt.prototype,"openQRCode",[Bvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xke}}),tEt=G()(dwt.prototype,"scanItem",[$vt,Fvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zke}}),rEt=G()(dwt.prototype,"privateScanItem",[jvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eIe}}),nEt=G()(dwt.prototype,"chooseAddress",[Wvt,Vvt,Uvt,zvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Are}}),G()(dwt.prototype,"saveFile",[qvt,Hvt],Object.getOwnPropertyDescriptor(dwt.prototype,"saveFile"),dwt.prototype),iEt=G()(dwt.prototype,"openDocument",[Gvt,Kvt,Jvt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fy}}),G()(dwt.prototype,"getSavedFileList",[Xvt,Yvt],Object.getOwnPropertyDescriptor(dwt.prototype,"getSavedFileList"),dwt.prototype),G()(dwt.prototype,"getSavedFileInfo",[Qvt,Zvt],Object.getOwnPropertyDescriptor(dwt.prototype,"getSavedFileInfo"),dwt.prototype),G()(dwt.prototype,"getFileInfo",[emt,tmt],Object.getOwnPropertyDescriptor(dwt.prototype,"getFileInfo"),dwt.prototype),G()(dwt.prototype,"removeSavedFile",[rmt,nmt],Object.getOwnPropertyDescriptor(dwt.prototype,"removeSavedFile"),dwt.prototype),aEt=G()(dwt.prototype,"getFileSystemManager",[imt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ACe}}),oEt=G()(dwt.prototype,"saveFileToDisk",[amt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fLe}}),sEt=G()(dwt.prototype,"getABTestConfig",[omt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vf}}),lEt=G()(dwt.prototype,"chooseContact",[smt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pLt}}),cEt=G()(dwt.prototype,"makePhoneCall",[lmt,cmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gke}}),uEt=G()(dwt.prototype,"makeVoIPCall",[umt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kke}}),dEt=G()(dwt.prototype,"onBeforeAppRoute",[dmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yH}}),pEt=G()(dwt.prototype,"offBeforeAppRoute",[pmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bH}}),hEt=G()(dwt.prototype,"onAppRoute",[hmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yw}}),fEt=G()(dwt.prototype,"setEntryPagePath",[fmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jje}}),gEt=G()(dwt.prototype,"clearEntryPagePath",[gmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wje}}),vEt=G()(dwt.prototype,"offAppRoute",[vmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qw}}),mEt=G()(dwt.prototype,"onAppRouteDone",[mmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iG}}),yEt=G()(dwt.prototype,"offAppRouteDone",[ymt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aG}}),bEt=G()(dwt.prototype,"onBeforePageLoad",[bmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SH}}),_Et=G()(dwt.prototype,"offBeforePageLoad",[_mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CH}}),wEt=G()(dwt.prototype,"onAfterPageLoad",[wmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TH}}),SEt=G()(dwt.prototype,"offAfterPageLoad",[Smt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return AH}}),CEt=G()(dwt.prototype,"onBeforePageUnload",[Cmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return MH}}),kEt=G()(dwt.prototype,"offBeforePageUnload",[kmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return RH}}),IEt=G()(dwt.prototype,"onAfterPageUnload",[Imt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LH}}),PEt=G()(dwt.prototype,"offAfterPageUnload",[Pmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NH}}),TEt=G()(dwt.prototype,"onAppEnterBackground",[Tmt,Amt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pd}}),AEt=G()(dwt.prototype,"onAppEnterForeground",[xmt,Emt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xh}}),xEt=G()(dwt.prototype,"onAppUnhang",[Mmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pje}}),EEt=G()(dwt.prototype,"onPageNotFound",[Rmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Mje}}),MEt=G()(dwt.prototype,"offPageNotFound",[Dmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rje}}),REt=G()(dwt.prototype,"onLazyLoadError",[Omt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fje}}),DEt=G()(dwt.prototype,"offLazyLoadError",[Lmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $je}}),OEt=G()(dwt.prototype,"onThemeChange",[Nmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yre}}),LEt=G()(dwt.prototype,"offThemeChange",[Bmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zre}}),NEt=G()(dwt.prototype,"onApiCategoryChange",[$mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bp}}),BEt=G()(dwt.prototype,"offApiCategoryChange",[Fmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return $p}}),$Et=G()(dwt.prototype,"getApiCategory",[jmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fp}}),FEt=G()(dwt.prototype,"postMessageToReferrerMiniProgram",[Wmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Hp}}),jEt=G()(dwt.prototype,"onCopyUrl",[Vmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sZe}}),WEt=G()(dwt.prototype,"offCopyUrl",[Umt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lZe}}),VEt=G()(dwt.prototype,"onWindowStateChange",[zmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yZe}}),UEt=G()(dwt.prototype,"offWindowStateChange",[qmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bZe}}),zEt=G()(dwt.prototype,"onKeyDown",[Hmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xrt}}),qEt=G()(dwt.prototype,"offKeyDown",[Gmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yrt}}),HEt=G()(dwt.prototype,"onKeyUp",[Kmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Qrt}}),GEt=G()(dwt.prototype,"offKeyUp",[Jmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zrt}}),KEt=G()(dwt.prototype,"createAnimation",[Xmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yW}}),JEt=G()(dwt.prototype,"createInnerAudioContext",[Ymt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Rse}}),XEt=G()(dwt.prototype,"getAvailableAudioSources",[Qmt,Zmt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aSe}}),YEt=G()(dwt.prototype,"onAudioInterruptionBegin",[eyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Nie}}),QEt=G()(dwt.prototype,"offAudioInterruptionBegin",[tyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Bie}}),ZEt=G()(dwt.prototype,"onAudioInterruptionEnd",[ryt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Fie}}),eMt=G()(dwt.prototype,"offAudioInterruptionEnd",[nyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jie}}),tMt=G()(dwt.prototype,"setInnerAudioOption",[iyt,ayt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Roe}}),rMt=G()(dwt.prototype,"createCameraContext",[oyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>z5.call(JLt,null,su.currentWebviewId)}}),nMt=G()(dwt.prototype,"createLivePusherContext",[syt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>cZ.call(JLt,null,su.currentWebviewId)}}),iMt=G()(dwt.prototype,"onWebviewEvent",[lyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tW}}),aMt=G()(dwt.prototype,"onNativeEvent",[cyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rW}}),oMt=G()(dwt.prototype,"hideKeyboard",[uyt,dyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dW}}),sMt=G()(dwt.prototype,"onKeyboardHeightChange",[pyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gW}}),lMt=G()(dwt.prototype,"offKeyboardHeightChange",[hyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vW}}),cMt=G()(dwt.prototype,"getPublicLibVersion",[fyt,gyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aU}}),uMt=G()(dwt.prototype,"showModal",[vyt,myt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CLt}}),dMt=G()(dwt.prototype,"showToast",[yyt,byt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bLt}}),pMt=G()(dwt.prototype,"hideToast",[_yt,wyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _Lt}}),hMt=G()(dwt.prototype,"showLoading",[Syt,Cyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wLt}}),fMt=G()(dwt.prototype,"hideLoading",[kyt,Iyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return SLt}}),gMt=G()(dwt.prototype,"showActionSheet",[Pyt,Tyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kLt}}),vMt=G()(dwt.prototype,"showShareActionSheet",[Ayt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ILt}}),mMt=G()(dwt.prototype,"reportAnalytics",[xyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gbe}}),yMt=G()(dwt.prototype,"reportMonitor",[Eyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xbe}}),bMt=G()(dwt.prototype,"getClipboardData",[Myt,Ryt,Dyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tIe}}),_Mt=G()(dwt.prototype,"setClipboardData",[Oyt,Lyt,Nyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rIe}}),wMt=G()(dwt.prototype,"createSelectorQuery",[Byt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vbe}}),SMt=G()(dwt.prototype,"createIntersectionObserver",[$yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ube}}),CMt=G()(dwt.prototype,"createMediaQueryObserver",[Fyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zbe}}),kMt=G()(dwt.prototype,"nextTick",[jyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p4}}),IMt=G()(dwt.prototype,"updatePerfData",[Wyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fV}}),PMt=G()(dwt.prototype,"traceEvent",[Vyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return gV}}),TMt=G()(dwt.prototype,"onMemoryWarning",[Uyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yV}}),AMt=G()(dwt.prototype,"offMemoryWarning",[zyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bV}}),xMt=G()(dwt.prototype,"reportPerformance",[qyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uEe}}),EMt=G()(dwt.prototype,"getPerformance",[Hyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nJ}}),MMt=G()(dwt.prototype,"getUpdateManager",[Gyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zEe}}),RMt=G()(dwt.prototype,"updateWeChatApp",[Kyt,Jyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GEe}}),DMt=G()(dwt.prototype,"getPluginUpdateManager",[Xyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nMe}}),OMt=G()(dwt.prototype,"createWorker",[Yyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S$e}}),LMt=G()(dwt.prototype,"voiceSplitJoint",[Qyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CSe}}),NMt=G()(dwt.prototype,"uploadSilkVoice",[Zyt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kSe}}),BMt=G()(dwt.prototype,"downloadSilkVoice",[ebt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ISe}}),$Mt=G()(dwt.prototype,"getResPath",[tbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return PSe}}),FMt=G()(dwt.prototype,"setResPath",[rbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return TSe}}),jMt=G()(dwt.prototype,"setCookies",[nbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JS}}),WMt=G()(dwt.prototype,"getCookies",[ibt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return XS}}),VMt=G()(dwt.prototype,"faceDetect",[abt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J$e}}),UMt=G()(dwt.prototype,"initFaceDetect",[obt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return K$e}}),zMt=G()(dwt.prototype,"stopFaceDetect",[sbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X$e}}),qMt=G()(dwt.prototype,"createBufferURL",[lbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aXe}}),HMt=G()(dwt.prototype,"revokeBufferURL",[cbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sXe}}),GMt=G()(dwt.prototype,"createSignal",[ubt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lXe}}),KMt=G()(dwt.prototype,"bindGroup",[dbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return UJe}}),JMt=G()(dwt.prototype,"joinGroup",[pbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zJe}}),XMt=G()(dwt.prototype,"getLabInfo",[hbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uHe}}),YMt=G()(dwt.prototype,"setLabInfo",[fbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return dHe}}),QMt=G()(dwt.prototype,"createUDPSocket",[gbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CLe}}),ZMt=G()(dwt.prototype,"createTCPSocket",[vbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KMe}}),eRt=G()(dwt.prototype,"env",[mbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oje}}),tRt=G()(dwt.prototype,"error",[ybt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tCe}}),rRt=G()(dwt.prototype,"isSystemError",[bbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rCe}}),nRt=G()(dwt.prototype,"isSDKError",[_bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nCe}}),iRt=G()(dwt.prototype,"isThirdError",[wbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iCe}}),aRt=G()(dwt.prototype,"createRewardedVideoAd",[Sbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YDe}}),oRt=G()(dwt.prototype,"createInterstitialAd",[Cbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QDe}}),sRt=G()(dwt.prototype,"createCustomAd",[kbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eOe}}),lRt=G()(dwt.prototype,"preloadVideoAd",[Ibt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jce}}),cRt=G()(dwt.prototype,"preloadAd",[Pbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fme}}),uRt=G()(dwt.prototype,"getLogManager",[Tbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ez}}),dRt=G()(dwt.prototype,"getRealtimeLogManager",[Abt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Vz}}),pRt=G()(dwt.prototype,"getExptInfo",[xbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KV}}),hRt=G()(dwt.prototype,"getExptInfoSync",[Ebt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JV}}),fRt=G()(dwt.prototype,"getCommonConfig",[Mbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return cXe}}),gRt=G()(dwt.prototype,"reportEvent",[Rbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return QV}}),vRt=G()(dwt.prototype,"reportStableEvent",[Dbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZV}}),mRt=G()(dwt.prototype,"getChannelsLiveInfo",[Obt,Lbt,Nbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HOe}}),yRt=G()(dwt.prototype,"getChannelsLiveState",[Bbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GOe}}),bRt=G()(dwt.prototype,"getChannelsLiveReservation",[$bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return KOe}}),_Rt=G()(dwt.prototype,"getChannelsLiveNoticeInfo",[Fbt,jbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return JOe}}),wRt=G()(dwt.prototype,"openChannelsLive",[Wbt,Vbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZOe}}),SRt=G()(dwt.prototype,"openChannelsActivity",[Ubt,zbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nLe}}),CRt=G()(dwt.prototype,"openChannelsUserProfile",[qbt,Hbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tLe}}),kRt=G()(dwt.prototype,"openChannelsLiveCollection",[Gbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iLe}}),IRt=G()(dwt.prototype,"openChannelsEvent",[Kbt,Jbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aLe}}),PRt=G()(dwt.prototype,"reserveChannelsLive",[Xbt,Ybt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oLe}}),TRt=G()(dwt.prototype,"openPublicServicePayment",[Qbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return fXe}}),ARt=G()(dwt.prototype,"version",[Zbt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aA()}}),xRt=G()(dwt.prototype,"chooseShareGroup",[e_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Exe}}),ERt=G()(dwt.prototype,"enterContact",[t_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xxe}}),MRt=G()(dwt.prototype,"getGroupEnterInfo",[r_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wne}}),RRt=G()(dwt.prototype,"preloadWebview",[n_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WRe}}),DRt=G()(dwt.prototype,"preloadSkylineView",[i_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return HRe}}),ORt=G()(dwt.prototype,"getSkylineInfo",[a_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YRe}}),LRt=G()(dwt.prototype,"getSkylineInfoSync",[o_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZRe}}),NRt=G()(dwt.prototype,"publishWeChatState",[s_t,l_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Yne}}),BRt=G()(dwt.prototype,"publishWechatStateActivity",[c_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Kne}}),$Rt=G()(dwt.prototype,"checkPublishWeChatStateScene",[u_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jne}}),FRt=G()(dwt.prototype,"checkPublishWeChatStateSceneAsync",[d_t,p_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xne}}),jRt=G()(dwt.prototype,"lanDebug",[h_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return bYe}}),WRt=G()(dwt.prototype,"createVKSession",[f_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y$e}}),VRt=G()(dwt.prototype,"createVKReference",[g_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b$e}}),URt=G()(dwt.prototype,"isVKSupport",[v_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _$e}}),zRt=G()(dwt.prototype,"createCacheManager",[m_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Xqe}}),qRt=G()(dwt.prototype,"registerMagicBrushFrame",[y_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BJe}}),HRt=G()(dwt.prototype,"sendEventToMagicBrushFrame",[b_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return FJe}}),GRt=G()(dwt.prototype,"onEventFromMagicBrushFrame",[__t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LJe}}),KRt=G()(dwt.prototype,"offEventFromMagicBrushFrame",[w_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return NJe}}),JRt=G()(dwt.prototype,"addAccountCard",[S_t,C_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return WJe}}),XRt=G()(dwt.prototype,"checkAccountCardAddState",[k_t,I_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VJe}}),YRt=G()(dwt.prototype,"getDebuggerMessager",[P_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tZe}}),QRt=G()(dwt.prototype,"chooseLicensePlate",[T_t,A_t,x_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Zne}}),ZRt=G()(dwt.prototype,"createSharedArrayBuffer",[E_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n5}}),eDt=G()(dwt.prototype,"createInferenceSession",[M_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kw}}),tDt=G()(dwt.prototype,"preloadAssets",[R_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return wZe}}),rDt=G()(dwt.prototype,"addToDesktop",[D_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return LZe}}),nDt=G()(dwt.prototype,"setPassiveEvent",[O_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BZe}}),iDt=G()(dwt.prototype,"router",[L_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tDe()}}),aDt=G()(dwt.prototype,"worklet",[N_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rDe()}}),oDt=G()(dwt.prototype,"obs",[B_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zrt()}}),sDt=G()(dwt.prototype,"serviceMarket",[$_t,F_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),lDt=G()(dwt.prototype,"cloud",[j_t,W_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),cDt=G()(dwt.prototype,"getXrFrameSystem",[V_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return DLe}}),uDt=G()(dwt.prototype,"addDevicePanel",[U_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rie}}),dDt=G()(dwt.prototype,"removeDevicePanel",[z_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return nie}}),pDt=G()(dwt.prototype,"getDevicePanelList",[q_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return iie}}),hDt=G()(dwt.prototype,"canIUseDevicePanel",[H_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return aie}}),fDt=G()(dwt.prototype,"preDownloadSubpackage",[G_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return owe}}),gDt=G()(dwt.prototype,"pay",[K_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return GZe}}),vDt=G()(dwt.prototype,"notifyPayResult",[J_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yje}}),mDt=G()(dwt.prototype,"checkIsPictureInPictureActive",[X_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F9e}}),yDt=G()(dwt.prototype,"editTextWithPopForm",[Y_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ZLe}}),bDt=G()(dwt.prototype,"openAddressWithLightMode",[Q_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return YLe}}),_Dt=G()(dwt.prototype,"getGMCryptoManager",[Z_t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return BQe}}),wDt=G()(dwt.prototype,"getUserCryptoManager",[ewt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return IYe}}),SDt=G()(dwt.prototype,"getSecureCryptoManager",[twt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return VYe}}),CDt=G()(dwt.prototype,"batchAddDevicePanel",[rwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return oie}}),kDt=G()(dwt.prototype,"checkIsAddedToMyMiniProgram",[nwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pie}}),IDt=G()(dwt.prototype,"ncidas",[iwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return eie}}),PDt=G()(dwt.prototype,"openWeComUserProfile",[awt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return vie}}),TDt=G()(dwt.prototype,"getInferenceEnvInfo",[owt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gm}}),ADt=G()(dwt.prototype,"restartMiniProgram",[swt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return grt}}),xDt=G()(dwt.prototype,"authorizeCombined",[lwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return jQ}}),EDt=G()(dwt.prototype,"openGameDetail",[cwt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return tnt}}),uwt=dwt))||uwt)||uwt)||uwt)||uwt)||uwt)||uwt)||uwt)||uwt),JLt=new KLt;iXe(JLt),h6((e=>JJe(QLt,e.exportBaseMethods)),{once:!0}),NQe(),PLe((()=>({env:oje,downloadFile:FC,getFileSystemManager:ACe,encode:RZe,decode:DZe,base64ToArrayBuffer:LP,getStorage:FDt,getStorageSync:jDt,setStorage:MDt,setStorageSync:RDt,removeStorage:YDt,removeStorageSync:QDt,clearStorage:tOt,clearStorageSync:rOt,getStorageInfo:GDt,getStorageInfoSync:KDt,onAppShow:cS,offAppShow:uS,onAppHide:_S,offAppHide:wS,createVKSession:y$e,isVKSupport:_$e,getSystemInfoSync:$b,createVideoDecoder:eCe,createMediaAudioPlayer:gSe,createBufferURL:aXe,showShareImageMenu:jLt,getCurrentPath:()=>su.lastRoute,createMediaRecorder:SCe,saveVideoToPhotosAlbum:SOt}))),ALe((()=>JLt.cloud)),Yr("INVOKE_METHOD",(({name:e,args:t})=>{JLt[e](t,!0)})),Yr("WEBVIEW_ERROR_MSG",(({msg:e})=>{M.triggerErrorMessage(e)}));var XLt=Object.getOwnPropertyNames(Object.getPrototypeOf(JLt)),YLt=Object.getOwnPropertyNames(JLt),QLt=XLt.concat(YLt).reduce(((e,t)=>("constructor"===t||(e[t]=JLt[t]),e)),{});re.onReady((()=>{Ge()&&(QLt.openWCPayLQTDetail=XJe,QLt.openWCPayLQTSave=YJe,QLt.openWCPayLQTDepositPlan=QJe,QLt.openWCPayLQTDepositPlanAdd=ZJe,Object.defineProperty(QLt,"reportIDKey",{get:()=>function(e={}){e.noCallback=!0,fd("reportIDKey",e)},configurable:!0})),JJe(QLt)})),det(QLt,!0);var ZLt={wx:QLt,createPluginWX:tje,buildPluginPrivateApi:YNe,createPluginConsole:rje,createPluginWXWebAssembly:nje,onAppRouteResized:Aje,showShareMenu:LLt,setWxInterfaceDisabled:FE,setWxInterfaceIsInvokeInTap:Mx,unsetWxInterfaceIsInvokeInTap:Rx,_setWxIsInvokeInTapForNavToMiniProgram:MB,_createSelectorQuery:xbe,_createIntersectionObserver:Lbe,_createMediaQueryObserver:Fbe,_assignOpenerEventChannelToPage:oE,_getPageOpenerEventChannel:sE,pluginInfos:ije,_virtualDOMTunnel:sje(Hr,Yr),_shadowSyncTunnel:lje(Hr,Yr),_getABTestConfig:Wf,...Yj,saveExitState:Oje,loadExitState:Lje,createRouter:fE,setEnableDebug:oU,_apiData:_ke,loadSubpackage:U_e,batchLoadSubpackage:Y_e,setAppServiceEngine:br,setExparser:Tr,setSubContextEngineSub:Cr,setVirtualDOM:vr,setWxModule:wr,setCloudSDK:xr,requestPluginPaymentEmitter:b9,workletSDK:{registerJsValue:aDe,...B},xrFrame:{getCanvasContext:NLe,createXrFrame:LLe,assignCanvasNodeIdToXrFrame:RJ},splitOnBridgeListener:Y,exportGlobal:{wx:QLt,get WXWebAssembly(){return G$e()},Path2D:T3},loadPreloadSdkSubPackage:Y9e,checkContext:Ibe,onDomReady:eW,LifeCycle:a,AppGlobal:mp,emitBeforePageLoad:KH,emitAfterPageLoad:JH,emitBeforePageUnload:XH,emitAfterPageUnload:YH};h1e()&&(ZLt.wx.invokeThird=f1e,ZLt.wx.onThird=g1e),cje(ZLt,O,QLt),cje(ZLt,N,QLt),cje(ZLt,F,QLt),cje(ZLt,W,QLt),Mtt(ZLt),ae({...F,...ZLt});const eNt=ZLt})(),$=b.default})();var F=$.wx,j;(()=>{var e={227:(e,t,r)=>{r.d(t,{D:()=>i,m:()=>n});var n={APP:"app",APP_RENDER:"app_sub_render",APP_XRFRAME_RENDER:"app_xrframe_render",APP_SCL:"app_sub_scl",GAME:"game",GAME_OPEN_DATA:"gameOpenData"},i={GAME_PLUGIN_PRELOAD:"gamePlugin_preload_",GAME_PLUGIN:"gamePlugin_",APP_CARDS:"CARD_"}},752:(e,t,r)=>{var n=r(796),i=r(410);m.onBridgeReady((()=>{k.on("onError",(e=>{m.emitUnhandledError(e)})),k.on("unhandledRejection",(e=>{m.emitUnhandledRejection(null==e?void 0:e.reason,null==e?void 0:e.promise)}))})),m.onUnhandledRejection((function(e={}){(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e.reason=__wxSourceMapRetrace__(e.reason)),_.error("Uncaught (in promise) FrameworkError",e.reason)):(0,n.sK)(e.reason,"",e.promise||null)})),m.onUnhandledError((function(e){e=(0,i.Bs)(e),(0,n.N0)()?("function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),_.error("Uncaught FrameworkError",e)):(0,n.sK)(e,"")})),m.onFrameworkError((function(e){"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),_.error("FrameworkError",e)}))},673:(e,t,r)=>{r.d(t,{OJ:()=>a,YZ:()=>i,yQ:()=>n});function n(){if(r.g.PerfDog)return r.g.PerfDog}function i(){if("undefined"!=typeof NativeGlobal&&NativeGlobal.Profiler)return NativeGlobal.Profiler}var a=new class{constructor(){this.callbacks=new Map}sendPackage(e,t){var r=this.callbacks.get(e);r&&Array.isArray(r)&&r.forEach((r=>{r(e,t)}))}registerCallback(e,t){if(this.callbacks.get(e)){this.callbacks.get(e).push(t)}else{var r=[t];this.callbacks.set(e,r)}}}},550:(e,t,r)=>{var n=r(18);v.onReady((()=>{"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=(0,n.M)(),r=0;r<t.length;r++){var i=t[r].contextGlobal.__wxSourceMap;if("object"==typeof i&&i[e]){var a=void 0;try{a=JSON.parse(JSON.stringify(i[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return a}}})}))},168:(e,t,r)=>{r.d(t,{Z:()=>A,i:()=>x});var n,i=r(888),a=r.n(i),o=r(796),s=r(410),l=r(227),c={},u={},d={},p={},h={},f={},g={},y=0;T.subscribe("subContextMessage",((e,t)=>{var r=d[t];return r&&r.__onMessageHandler(e)})),T.subscribe("injectGamePerformanceUtilsSDK",(e=>{var t=GamePerformanceUtilsSDK.getSDK();_.warn("gamePerformanceUtilsSdk: ",t),e.success({sdk:t})})),T.subscribe("subContextReady",((e,t)=>{var r;if(((0,o.G$)()||(0,o.oi)())&&(r=d[t]),m.env.isGame)if("game"===n.__name__||r&&"game"===r.__name__||"string"==typeof n.__name__&&n.__name__.includes("preload")||r&&"string"==typeof r.__name__&&r.__name__.includes("preload")){var i=n;if((r?n&&"game"===n.name?n:r:n).delaySubContextReadyCallback=()=>{(0,o.G$)()||(0,o.oi)()?d[t].__onReadyHandler(t,e):i&&i.__onReadyHandler(t,e)},(0,o.G$)()||(0,o.oi)())return void d[t].__onPreloadReadyHandler(t,e);if(!i)return;i.__onPreloadReadyHandler(t,e),n=void 0}else{if((0,o.G$)()||(0,o.oi)())return void d[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}else{if((0,o.G$)()||T.isAsync())return void d[t].__onReadyHandler(t,e);if(!n)return;n.__onReadyHandler(t,e),n=void 0}})),T.subscribe("subContextLibVarReady",((e,t)=>{d[t].__onLibVarReadyHandler(e)}));var b=function(e){var t=T.create(e);return c[this.__guid__]=t,t},w=function(e,t,r){var n,i,a=(0,o.G$)()||T.isAsync(),s=!1;if("number"==typeof t&&T.supportAllocFromSnapshot()?(_.info(`[JSContext] alloc(fromSnapshot) name=${e}, snapshotCtxIdx=${t}`),n=T.allocFromSnapshot(e,t),e===l.m.APP&&T.setAppSubContextId(n),T.associateRealId2SdkId(n)):r&&T.supportAllocEmpty()?(_.info(`[JSContext] alloc(empty) name=${e}`),s=!0,a?i=new Promise((t=>{n=T.allocEmpty(e,(()=>{t(n)}))})):n=m.env.isMagicBrushFrameEnv?T.allocEmpty(e):T.allocEmpty()):(r&&_.warn("SubContext: allocEmpty is not supported"),_.info(`[JSContext] alloc name=${e}`),n=a?T.alloc(e):T.alloc(),e===l.m.APP&&T.setAppSubContextId(n),T.associateRealId2SdkId(n)),a&&(d[n]=this),c[this.__guid__]=n,s&&n>0)if(i)i=i.then((e=>{var t=this.loadLibFiles(r);return _.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${t}`),e}));else{var u=this.loadLibFiles(r);_.info(`[JSContext] loadLibFiles(${r.join(",")}) ret=${u}`)}return i||n},S=function(e,t,r){Object.defineProperty(this,e,{value:t,...r?{writable:!0,configurable:!1}:{writable:!1,configurable:!1}})},C=function(){void 0!==u[this.__guid__]&&(f[this.__guid__].forEach((e=>{this.postMessage(e)})),f[this.__guid__]=[])},k=function(){void 0!==u[this.__guid__]&&(0,s.YF)((()=>{g[this.__guid__].forEach((e=>{this.postMessage(e)})),g[this.__guid__]=[]}))},I=(e,t)=>($.traceBeginEvent("Framework","evaluateScript",{moduleName:t,fileList:e}),e=>{$.traceEndEvent({isSuccess:e})}),P=new Set;const A=class{constructor({name:e,secure:t=!0,env:r={},entry:n=[],entryLibs:i=null,injectAfterAlloc:a=!0,snapshotContextName:o="",isPreload:s=!1}){S.call(this,"__name__",e,s),S.call(this,"__guid__",y++,s),S.call(this,"__secure__",t,s),S.call(this,"__entry__",n,s),S.call(this,"__entryLibs__",i,s),S.call(this,"__injectAfterAlloc__",a,s),S.call(this,"__snapshotContextName__",o,s),this.contextGlobal=globalThis,this.alreadyLoadedJsFiles=new Set,this.alreadyLoadedLibFiles=new Set,this.firstLoadJsFilesStartTime=null,this.initialScriptInjected=!1,this.setExportEnv(r),h[this.__guid__]=[],f[this.__guid__]=[],g[this.__guid__]=[]}static supportEntryLibs(){return T.supportAllocEmpty()}getInnerId(){return u[this.__guid__]}getSnapshotCtxIdx(){var e,t;if(!this.__snapshotContextName__)return null;var r=null===(e=v)||void 0===e||null===(t=e.snapshotMetaInfo)||void 0===t?void 0:t[this.__snapshotContextName__];return"number"==typeof r?r:null}init(){var e=this;if(n=this,!(T.supportAlloc()||this.__entryLibs__&&T.supportAllocEmpty()))return b.call(this,this.__entry__);var t=w.call(this,this.__name__,this.getSnapshotCtxIdx(),this.__entryLibs__);if(t instanceof Promise)return t.then((e=>(_.info(`[JSContext] alloc done, name=${this.__name__}, ret=${e}`),e)));if(_.info(`[JSContext] alloc done, name=${this.__name__}, ret=${t}`),this.__injectAfterAlloc__){if(((0,o.G$)()||T.isAsync())&&(0,o.N0)())return a()((function*(){for(var t=0,r=e.__entry__.length;t<r;t++)yield e.evaluateScriptFile(e.__entry__[t])}))();this.__entry__.forEach((e=>{this.evaluateScriptFile(e)}))}}preInit(e,t){var r=this;if(this.preHandleExportEnv=e,this.skipCondomList=t,n=this,!T.supportAlloc())return b.call(this,this.__entry__);w.call(this,this.__name__,this.getSnapshotCtxIdx()),this.__injectAfterAlloc__&&(this.delayExecuteJsFile=()=>{if(((0,o.G$)()||T.isAsync())&&(0,o.N0)())return a()((function*(){for(var e=0,t=r.__entry__.length;e<t;e++)yield r.evaluateScriptFile(r.__entry__[e])}))();this.__entry__.forEach((e=>this.evaluateScriptFile(e)))})}callDelayFn(){return new Promise(((e,t)=>{var r=Date.now(),i=()=>{if(this.delaySubContextReadyCallback){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var a=this.delayExecuteJsFile&&this.delayExecuteJsFile();n=void 0,e(a)}else{if(Date.now()-r>2e4)return m.env.platform,t();setTimeout(i)}};i()}))}callDelayFnSync(){n=this,this.delaySubContextReadyCallback&&this.delaySubContextReadyCallback();var e=this.delayExecuteJsFile&&this.delayExecuteJsFile();return n=void 0,e}unShiftEntries(e){this.__entry__.unshift(...e)}afterPreloadInit(){return("android"===m.env.platform||"ios"===m.env.platform)&&!T.isAsync()?this.callDelayFnSync():this.callDelayFn()}onMessage(e){(this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback)&&(h[this.__guid__].forEach((e=>{this.__onMsgCallback(e)})),h[this.__guid__]=[])}postMessage(e){var t=u[this.__guid__];return void 0!==t?T.publish("mainContextMessage",e,[t])[0]:void f[this.__guid__].push(e)}postMessageAsync(e){var t=u[this.__guid__];void 0!==t?(0,s.YF)((()=>{T.publish("mainContextMessage",e,[t])})):g[this.__guid__].push(e)}onInitReady(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}setExportEnv(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,p[this.__guid__]=e}setName(e){this.name=e,this.__name__=e}setEntry(e){this.__entry__&&this.__entry__.pop?(this.__entry__.splice(0,this.__entry__.length),this.__entry__.push(...e)):this.__entry__=[...e]}getEntry(){return this.__entry__}refreshExportEnv(e){return new Promise((t=>{if(!e)throw Error("refreshExportEnv: missing arguments.");this.setExportEnv(e);var r=p[this.__guid__],n=u[this.__guid__];T.publish("subContextEnvReady",r,[n],!0),T.subscribe("subContextRefreshEnvReady",((e,r)=>{n===r&&t()}))}))}refreshWxConfig(e,t){var r=u[this.__guid__];T.publish("subContextRefreshWxConfig",{key:e,value:t},[r])}dynamicExportGlobal(e={name:"",value:"",needCondom:!0},t){var r=()=>{var r=u[this.__guid__];T.publish("exportGlobalRequire",e,[r]),t&&t()};void 0!==c[this.__guid__]?r():this.onInitReady(r)}evaluateScriptFile(e,t){var r=c[this.__guid__];if(void 0!==r){"game.js"===e&&(T.notifyGameEngineReady(),$.recordGameJSInjectTimestamp(Date.now()));var n=I([e],t);if(((0,o.G$)()||T.isAsync())&&(0,o.N0)())return new Promise((t=>{var i=T.evaluateScriptFile(r,e,(()=>t(i)));if(1!==i)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${i}`)})).then((()=>{n(!0)}));var i=T.evaluateScriptFile(r,e);if(1!==i)throw n(!1),new Error(`SubContext evaluateScriptFile "${e}" failed: error code ${i}`);n(!0),this.alreadyLoadedJsFiles.add(e)}}loadLibFiles(e){var t=c&&c[this.__guid__];if(void 0===t)return"fail: no clientId";if(!T||!T.loadLibFiles)return"fail: not support loadLibFiles";try{e=e.filter((e=>!this.alreadyLoadedLibFiles.has(e)));var r=T.loadLibFiles(t,e);return e.forEach((e=>this.alreadyLoadedLibFiles.add(e))),r}catch(t){throw new Error(`SubContext loadLibFiles "${e}" failed: error ${t}`)}}loadJsFiles(e,t,{waitResult:r=!1,reportKey:n,isPageInitialScript:i=!1}={}){var a=0,o=[];for(var s of e)"/"!==s[0]&&(s="/"+s),this.alreadyLoadedJsFiles.has(s)?++a:o.push(s);e=o;var u=c&&c[this.__guid__],d=null;if(a>0&&_.info(`[SubContext] loadJsFiles ignored loaded: [${a} files]`),0===e.length)return _.info("[SubContext] loadJsFiles have no files to load, return"),d;var p={};if(void 0!==u){var h="android"===v.platform?"key":"reportKey",f=n;if(void 0!==f){if(P.has(f)){var g=1;do{f=n+"-#"+g++}while(P.has(f))}P.add(f)}if(p[h]=f,null===this.firstLoadJsFilesStartTime&&(this.firstLoadJsFilesStartTime=Date.now()),i&&!this.initialScriptInjected&&this.__name__===l.m.APP&&(this.initialScriptInjected=!0,p.initialScript=!0,p.initialScriptStartTime=this.firstLoadJsFilesStartTime),T&&T.batchLoadJsFiles)try{var m=Date.now(),y=I(e,t);try{T.batchLoadJsFiles(u,e,p)}catch(e){throw y(!1),e}r?d=e=>{y(!!e)}:y(!0),_.info("[SubContext] loadJsFiles done, cost "+(Date.now()-m)),e.forEach((e=>this.alreadyLoadedJsFiles.add(e)))}catch(t){throw new Error(`SubContext loadJsFiles "${e}" failed: error ${t}`)}}return d}destroy(){var e=c[this.__guid__],t=u[this.__guid__];e>0&&(T.publish("subContextDestroy",{},[t]),T.destroy(e)),delete d[t],delete c[this.__guid__],delete u[this.__guid__],delete p[this.__guid__],delete h[this.__guid__],delete f[this.__guid__],delete g[this.__guid__];try{delete this.__guid__}catch(e){}delete this.contextGlobal}__onMessageHandler(e){return"function"==typeof this.__onMsgCallback?this.__onMsgCallback(e):void h[this.__guid__].push(e)}__onReadyHandler(e,t){d[e]=this,u[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=p[this.__guid__];r&&T.publish("subContextEnvReady",r,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach((e=>{e(t)})),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,C.call(this),k.call(this)}__onPreloadReadyHandler(e,t){d[e]=this,u[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var r=p[this.__guid__];r&&(r.preHandleEnv=this.preHandleExportEnv,r.skipCondomList=this.skipCondomList,r.expt=!1,T.publish("preloadSubContextEnvReady",r,[e],!0))}};var x=e=>c[e]},18:(e,t,r)=>{r.d(t,{M:()=>a,z:()=>i});var n=[],i=function(e){n.push(e)},a=function(){return n}},796:(e,t,r)=>{r.d(t,{Dt:()=>h,F:()=>s,G$:()=>d,Hw:()=>u,N0:()=>o,NG:()=>g,QT:()=>l,Qj:()=>m,c2:()=>b,c6:()=>y,cF:()=>f,gn:()=>p,oi:()=>_,sK:()=>c,xJ:()=>a});var n=r(888),i=r.n(n),a=globalThis;var o=function(){return void 0!==v&&v.isIsolateContext},s=function(){x.deepFreezeGlobalObjs(["console"],!0)},l=function(){var e=i()((function*(e,t){M.reportIDKey({key:t});try{yield e()}catch(e){M.reportIDKey({key:`${t}_fail`,force:!0});var r=t.indexOf("initGame")>=0?"gameSDKScriptError":"appServiceSDKScriptError";M.errorReport({key:r,error:e,extend:""})}}));return function(t,r){return e.apply(this,arguments)}}(),c=function(e,t,r){void 0!==r?M.thirdErrorReport({error:e,isUnhandledRejection:!0,promise:r,extend:t}):M.thirdErrorReport({error:e,isUnhandledRejection:!1,extend:t})},u=function(e,t){return function(){try{return t.apply(t,arguments)}catch(t){M.errorReport({key:e,error:t,extend:""})}}},d=function(){return"devtools"===v.platform},p=function(){return"ios"===v.platform},h=function(){return"android"===v.platform},f=e=>{var t;if(k.invoke("accessSync",{path:e},(e=>{/:fail/.test(e.errMsg)&&(t=e.errMsg)})),t)throw new Error(t)},g=e=>{var t,r;if(k.invoke("readFileSync",{filePath:e,encoding:"utf-8"},(e=>{/:fail/.test(e.errMsg)?r=e.errMsg:t=e.data})),r)throw new Error(r);return t},m=(e="",t=[])=>{if(e&&"string"==typeof e&&!/^index/.test(e)){var r=e.replace(/(^\/+)|(\/+$)/g,"").split("/"),n=t.find((t=>{if(t.independent){var n=t.root||"",i=t.alias||"",a=n.replace(/(^\/+)|(\/+$)/g,"").split("/");if(r.length>=a.length){var o=a.every(((e,t)=>e===r[t]));if(o)return o}if(i&&0===e.indexOf(i))return!0}return!1}));if(n)return n}return!1},y=e=>[1001,1011,1007,1008,1074,1088,1044,1010,1096,1014,1043,1047,1107,1155].indexOf(e)>=0,b=({query:e,appType:t}={})=>!(null==e||!e.playable_outid)||20===t,_=()=>T.isAsync()},642:(e,t,r)=>{r.d(t,{E:()=>N,F:()=>B});var n=r(168),i=r(673),a=r(796),o=r(510),s=r(227);r.g.LanDebug=i.OJ,r.g.getPerfDog=i.yQ,r.g.getProfiler=i.YZ;var c,d="undefined"!=typeof __AppServiceRemoteDebugger__,p=null,h={};m.onLoad((()=>{p=d?__AppServiceRemoteDebugger__(v.platform,o.M,o.O,a.NG,r.g.WeixinJSBridge):null,d&&p&&((h=(0,a.gn)()?p.runtime.getSubContextGlobals():{}).BaseConsole&&p.runtime.setupConsole(console,h.BaseConsole),r.g.__remoteDebug__=p.__remoteDebug__,r.g.__isAppServiceRemoteDebugMode__=!0,r.g.__debuggerMessager__=o.O)}));var f=e=>c=e,g="app-service.js",y="appservice.app.js",b="common.app.js",w="appservice.js",S=new n.Z({name:s.m.APP,secure:!1,entry:[g],injectAfterAlloc:!1,snapshotContextName:"app:sub"}),I=new Set;v.onReady((()=>{"develop"!==v.envVersion&&"trial"!==v.envVersion||(I.add("wx0354ba48aadc0ab2"),I.add("wxfa43a4a7041a84de"))}));var P=e=>_.info("[injectEntryFile] "+e),x=new Set,E=(e,t,r)=>{if(!x.has(e)){$.traceBeginEvent("Framework",`injectEntryFile # [${e}]`),d&&p&&(0,a.gn)()&&p.runtime.registerScript(e);var n=-1,i=-1;x.add(e);var o="boolean"==typeof r?r:v.isLazyLoad;P(`isLazyLoad: ${o}`),P(`moduleName: ${e}`),P(`separatedPlugins: ${JSON.stringify(t)}`);var s=[];if(o){console.info("Lazy code loading is enabled. Only injecting required components."),t.forEach((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,I.add(t.plugin_id));try{P(`accessSync path: ${r+b}`),(0,a.cF)(r+b),s.push(r+b,r+y),t.prefix_path||((e,t)=>{_.info(`[loadPluginJson] try loading ${t} in module ${e}`);var r=(0,a.NG)(t);if(r){var n;try{n=JSON.parse(r)}catch(e){n={}}_.info(`[loadPluginJson] ${t} typeof result.allExtendedComponents=${typeof n.allExtendedComponents}`),(v.subPackages||[]).forEach((t=>{"/"+t.root===e&&t.useExtendedLib&&n.allExtendedComponents&&(t.allExtendedComponents=n.allExtendedComponents,_.info(`[loadPluginJson] updated subPackage ${t.root} allExtendedComponents`))})),S.refreshWxConfig("subPackages",v.subPackages)}})(e,r+"plugin.json")}catch(e){s.push(r+w)}})),s.push(e+b,e+y),P(`using separated plugins: ${JSON.stringify(s)}`);var l=e||"__APP__";n=Date.now(),S.loadJsFiles(s,l,{reportKey:`entry-${l}`}),i=Date.now()}else(s=t.map((t=>{var r=(e+t.prefix_path+"/").replace(/\/\/$/,"/");return t.prefix_path||(r+=`__extended__/${t.plugin_id}/`,I.add(t.plugin_id)),r+w}))).push(e+g),P(`using separated plugins: ${JSON.stringify(s)}`),n=Date.now(),s.forEach((t=>{if(t="/"===t[0]?t:"/"+t,!S.alreadyLoadedJsFiles.has(t)){try{S.evaluateScriptFile(t,e||"__APP__")}catch(e){P(`inject ${t} failed, reason: ${e.message}`)}S.alreadyLoadedJsFiles.add(t)}})),i=Date.now();S.refreshWxConfig("extendedLibList",Array.from(I)),n>0&&i>0&&P("time cost: "+(i-n)),$.traceEndEvent()}},R=(0,a.Hw)("appServiceSDKScriptError",(e=>{var t=e.moduleName,r="__APP__"===t,n=e.separatedPlugins||[],i=e.isLazyLoad;"string"!=typeof t&&console.error("SubContext onSubPackageReady error: moduleName is empty"),c.globalRequireBlocker.block(),t.endsWith("/")||(t=`${t}/`),(0,a.gn)()&&d?(t=r?"":t,p.runtime.isInitialInject()?(p.runtime.startBufferBridgeMessages(),p.runtime.runAfterAttached((()=>{E(t,n,i),p.runtime.dispatchBridgeMessages()}))):E(t,n,i)):E(r?"":t,n,i),c.globalRequireBlocker.unblock(),D.getEnv().codeManager.setSubPackageLoaded([t]),D.getEnv().afterPackageCommonEvaluation(),v.onReady((()=>{$.traceBeginEvent("Framework","ExecuteMiniProgram # "+t),c.globalRequireBlocker.flushQueue(),$.traceEndEvent()}))})),N=function(){var e,t={};d&&p&&(t={__isAppServiceRemoteDebugMode__:!0,__remoteDebug__:p.__remoteDebug__,...h});var n={wxLibVersion:(null===(e=l)||void 0===e?void 0:e.version)||"9.9.9",__Function__:u,console:Object.assign({group:()=>{},groupEnd:()=>{}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__sclEngine__:__sclEngine__,__wxConfig:v,Reporter:M,BaseConsole:A.BaseConsole,wxNativeConsole:_,getWxSourceMap(){if("undefined"!=typeof __wxSourceMap)return __wxSourceMap},__subContextEngineBridge__:O,__freezeLibContextGlobal__:()=>(0,a.F)(),originConsole:console,...t,debuggerMessager:o.O,__userActionTracer__:L,__appServiceSDK__:$,WeixinJSBridge:k,setWxModule:f,__glassEaselAdapter__:D};return n.Trace=C,$.beforeSubPackageReady((()=>{S.refreshWxConfig("exportBaseMethods",r.g.__wxConfig.exportBaseMethods)}),{once:!0}),$.onSubPackageReady(R),S.setExportEnv(n),S.init()},B=function(){return S};T&&T.subscribe&&T.subscribe("injectEntryFile",(e=>{E(e.moduleName,e.separatedPlugins)}))},612:(e,t,r)=>{r.d(t,{DW:()=>l,Tq:()=>u,vh:()=>c});var n=r(227),i=r(168),a=r(796),o=["WARenderContext.js"];"undefined"!=typeof __AppServiceRemoteDebugger__&&o.push("WARemoteDebug.js");var s=new i.Z({name:n.m.APP_RENDER,secure:!0,entry:[],entryLibs:o,snapshotContextName:"app:subRender"}),l=function(){var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:v,Reporter:M,BaseConsole:A.BaseConsole,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:_,WeixinJSBridge:k,__sclEngine__:__sclEngine__,__appServiceConsole__:A,SkylineGlobal:"undefined"==typeof SkylineGlobal?{}:SkylineGlobal,__glassEaselAdapter__:D,readFileSync:a.NG};return e.Trace=C,$.beforeSubPackageReady((()=>{s.refreshWxConfig("exportBaseMethods",r.g.__wxConfig.exportBaseMethods)}),{once:!0}),s.setExportEnv(e),s.__initPromise__=s.init(),s},c=function(){return s},u=(e,t)=>T.publish(e,t,[s.getInnerId()])},801:(e,t,r)=>{r.d(t,{Nz:()=>s,Pc:()=>o,dx:()=>a});var n=r(227),i=new(r(168).Z)({name:n.m.APP_SCL,secure:!1,entry:["common.app.js","webview.app.js"],entryLibs:["WASclContext.js"]}),a=function(){__sclEngine__.initScl((()=>{}),!0);var e={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:v,Reporter:M,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:_,WeixinJSBridge:k,__sclEngine__:__sclEngine__};return e.Trace=C,i.setExportEnv(e),i.__initPromise__=i.init(),i},o=function(){return i},s=(e,t)=>T.publish(e,t,[i.getInnerId()])},740:(e,t,r)=>{r.d(t,{$:()=>o,k:()=>s});var n,i=r(227),a=r(168),o=function(e){if(n)return console.error(new Error("createAppXRFrameRenderContext: exceed max concurrent XRFrameRenderContext limit.")),n;n=new a.Z({name:i.m.APP_XRFRAME_RENDER,secure:!1,entry:[],entryLibs:"devtools"===v.platform?["WAXRFrameRenderContextDevTools.js"]:["WAXRFrameRenderContext.js"]});var t={setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:v,Reporter:M,NativeGlobal:r.g.NativeGlobal,WeixinCanvas:r.g.WeixinCanvas,WeixinArrayBuffer:r.g.WeixinArrayBuffer,wxNativeConsole:_,WeixinJSBridge:k,Trace:C,console:console,subContextInitCallback:e,BaseConsole:A.BaseConsole};return n.setExportEnv(t),n.init(),n},s=()=>n},510:(e,t,r)=>{r.d(t,{M:()=>a,O:()=>i});var n=[],i="undefined"!=typeof DebuggerConnection?DebuggerConnection:{};i.registerCallback=e=>{"function"==typeof e&&n.push(e)},i.onCustomMessage=(e,t)=>{n.forEach((r=>{try{r(e,t)}catch(e){}}))};var a="undefined"!=typeof JSThread?JSThread:null},561:(e,t,r)=>{r.d(t,{M:()=>p,N7:()=>u,eC:()=>h,xC:()=>f});var n=r(168),i=r(673),a=r(510),o=r(227);r.g.LanDebug=i.OJ,r.g.getPerfDog=i.yQ,r.g.__debuggerMessager__=a.O;var s,l="object"==typeof window&&window&&window.__wkrenderer_h5,c={};m.onLoad((()=>{s=l?[...x.globalEsObjs.map(((e,t)=>(c[t]=e,globalThis[e]))),...x.globalEsHiddenObjs]:(s=(s=[...x.globalEsObjs.map((e=>({key:e,val:globalThis[e]}))),...x.globalEsHiddenObjs]).filter((e=>null!=e&&e.key?Boolean(e.val)&&e.val!==eval:Boolean(e)&&e!==eval))).map(((e,t)=>e.key?(c[t]=e.key,e.val):(c[t]=`globalEsHiddenObjs-${t}`,e)))}));var u=new class{constructor(){var e;this.__readyCondomFn=[],this.whiteExptName="android"===(null===(e=v)||void 0===e?void 0:e.platform)?"clicfg_appbrand_android_control_close_condom_white":"clicfg_appbrand_ios_control_close_condom_white"}condomPrototype(e){var t;return(null===(t=v)||void 0===t?void 0:t.expt[this.whiteExptName])?e.length!==s.length?(_.warn("Condom Unexpected Error: the subCtx globalEnv length not equal mainCtx"),this.__readyCondomFn.forEach((e=>e(!1))),!1):(x.bridgeGlobalInstanceOf(e,s,c),this.__readyCondomFn.forEach((e=>e())),!0):(this.__readyCondomFn.forEach((e=>e(!1))),!1)}getGlobals(){return s||(console.error("unexpected error: getGlobals in gameContext too early"),[])}onCondomBridgeFinshed(e){this.__readyCondomFn.push(e)}},d=new n.Z({name:o.m.GAME,secure:!1,entry:["game.js"],snapshotContextName:"game:sub"}),p=function(e){return e.__wxConfig=v,e.__ctx_bridge=u,e.__is_wk_game=l,d.setExportEnv(e),d.afterPreloadInit()},h=function(){return d},f=function(e,t){return d.preInit(e,t)}},681:(e,t,r)=>{r.d(t,{J:()=>s,r:()=>l});var n=r(227),i=r(168),a=r(796),o=new i.Z({name:n.m.GAME_OPEN_DATA,secure:!0,entry:["subContext.js"],snapshotContextName:"game:sub"});var s=e=>(e.__wxConfig=v,o.setExportEnv(e),(0,a.G$)()||T.isAsync()||function(){var e=v.plugins||v.gamePlugins;if(e){var t=Object.keys(e).filter((t=>{var{contexts:r}=e[t];return!!r&&r.some((e=>"openDataContext"===e.type))})).map((t=>e[t]));o.unShiftEntries(t.map((e=>{var{provider:t}=e;return`__plugin__/${t}/plugin.js`})))}}(),o.init()),l=function(){return o}},29:(e,t,r)=>{r.d(t,{K0:()=>w,dr:()=>b,hS:()=>S,qo:()=>_});var n=r(888),i=r.n(n),a=r(227),o=r(168),s=r(18),l=r(796),c=r(561),u=r(681),d={},p={isolatedContext:{},gameContext:{},gameOpenDataContext:{},unknown:{}},h=e=>`__plugin__/${e}/plugin.js`,f=null,g=!1,y=1;m.onLoad((()=>{m.env.isGame&&v.preload&&"android"===m.env.platform&&!T.isAsync()?(f=new o.Z({name:a.D.GAME_PLUGIN_PRELOAD+y,secure:!1,isPreload:!0,snapshotContextName:"game:sub"}),y++,f.preInit()):g=!0}));var b=(e={provider:"",secure:!0,env:null,subContext:!1,isPreload:!1})=>{var{env:t,secure:r,isPreload:n,subContext:c}=e,{provider:u}=e;if(!1===(0,l.N0)())throw new Error("isn't isolateContext mode!");var m,y=d[u=`${u}_${c?"_sub":"main"}`];if(y)return m=y.contextGlobal.__require,!0===y.__isCompleted||!1===y.__isCompleted&&(y.dynamicExportGlobal({name:"pluginEnv",value:t}),p.isolatedContext[u]=m),m;var b,_=a.D.GAME_PLUGIN+u,w=h(u.slice(0,-5));b=g?new o.Z({name:_,secure:r,entry:[w],snapshotContextName:"game:sub"}):f;var S=e=>{if(e.__wxConfig=v,b.setExportEnv({...e,pluginEnv:t}),g)return b.init();b.setName(_),b.setEntry([w]),b.afterPreloadInit(),g=!0};return((0,l.G$)()||T.isAsync())&&!0===n?i()((function*(){return yield(0,l.QT)(i()((function*(){(0,s.z)(b),yield S($.getIsolatedGamePluginContextEnv(e)),m=b.contextGlobal.__require,b.__isCompleted=!1,d[u]=b})),"initGamePluginContext"),m}))():((0,l.QT)((()=>{(0,s.z)(b),S($.getIsolatedGamePluginContextEnv(e)),m=b.contextGlobal.__require,b.__isCompleted=!0,d[u]=b}),"initGamePluginContext"),p.isolatedContext[u]=m,m)},_=(e,t,r)=>{var{__name__:n}=e,a=h(t),o="game"===n?"gameContext":"gameOpenData"===n?"gameOpenDataContext":"unknown";return((0,l.G$)()||T.isAsync())&&!0===r?i()((function*(){return yield e.evaluateScriptFile(a),p[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o}}))():(e.evaluateScriptFile(a),p[o][t]=e.contextGlobal.__require,{provider:t,requireFunc:e.contextGlobal.__require,contextType:o})},w=function(){var e=i()((function*(){var e,t,r=(e=v.gamePlugins||v.plugins||{},t=[],Object.keys(e).forEach((r=>{if(e[r].contexts)e[r].contexts.forEach((n=>{t.push({...e[r],context:n,contexts:null});var i=e[r].provider;"wx20afc706a711eefc"!==i&&"wx4d5893418b75cb20"!==i||t.push({...e[r],context:n,subContext:!0,contexts:null})}));else{t.push({...e[r],context:{type:"gameContext"},contexts:null});var n=e[r].provider;"wx20afc706a711eefc"!==n&&"wx4d5893418b75cb20"!==n||t.push({...e[r],context:{type:"gameContext"},subContext:!0,contexts:null})}})),t),n=(e,t)=>e.getEntry().unshift(t);return Promise.all(r.map((e=>{var{provider:t,context:r}=e;switch(r.type){case"isolatedContext":return b({...e,isPreload:!0});case"gameContext":return n((0,c.eC)(),h(t));case"openDataContext":return n((0,u.r)(),h(t));default:throw new Error(`pluginConf error: invalid context name: ${r.type}`)}})))}));return function(){return e.apply(this,arguments)}}(),S=()=>p},896:(e,t,r)=>{r.d(t,{ZJ:()=>P,ZT:()=>E,eh:()=>A});var n=r(168),i=r(796),a=r(18),o=r(227),s=r(975),l=r.n(s),c=!1,d=!1,p=!1,h=null,f=0,g=null,m=null,y={},b={},w=[],S={},C={},I={};T.subscribe("magicBrushFrameSubContextBridge",((e={})=>{m=e.__subContextEngineBridge__})),T.subscribe("magicBrushFrameSubContextReady",((e={},t)=>{console.info("[MagicBrushFrame] magicBrushFrameSubContextReady",e);var r=e.frameSetInfo,n=$.renderMagicBrushFrameError;if(r){var i=S[r.frameId];if(!i)return n(r.frameId);var o=(0,a.M)().find((e=>e.getInnerId()===t));if("app-card"===i.bizType){var{componentName:s}=i.data,{appPath:l,cardPath:c}=i.data;if("/"!==l[l.length-1]&&(l+="/"),"/"===l[0]&&(l=l.substr(1)),"/"===c[0]&&(c=c.substr(1)),console.info("[MagicBrushFrame] inject user code",s,l,c),o.loadJsFiles([`${l}common.app.js`,`${l}appservice.app.js`,`${l}${c}.appservice.js`]),!h.getComponentSpace().getComponentByUrlWithoutDefault(s,""))return console.error("[MagicBrushFrame] inject user code error",s,l,c),n(r.frameId)}$.createMagicBrushFrameSet(r.name,r.frameId)}}));var P=e=>{var t;c||(c=!0,mb.requirePlugin("sclRectPaletteLib"),"undefined"!=typeof __wxLib__?(h=__wxLib__.codeSpace,f=(null===(t=__wxLib__.versionInfo)||void 0===t?void 0:t.glassEaselVersion)||0,console.info("[MagicBrushFrame] glassEasel version",f),$.onMessageFromMiniprogram((({message:e})=>{e=JSON.parse(e||"{}");var{type:t,data:r={}}=e;if("event"===t){var{name:n,frameId:i,args:a={}}=r,o=I[i];o&&o.emit(n,a)}}))):console.error("mb.requirePlugin('sclRectPaletteLib') error!"));var r=e.extraData.bizType;r&&("app-card"===r&&function(e){if(!d){d=!0;var t=l()(f);Object.assign(y,t),h.addCompiledTemplate("index",{content:y.index}),h.addComponentStaticConfig("index",{frame:"wx://component/frame","frame-set":"wx://component/frame-set"}),h.globalComponentEnv(globalThis,"index",(()=>{globalThis.Component({data:{frameSetList:[]},lifetimes:{created(){console.info("[MagicBrushFrame] frameSetRoot created"),g=this,w.length&&this.setData({frameSetList:w})},attached(){console.info("[MagicBrushFrame] frameSetRoot attached")}},methods:{onFrameLoad(e){if(e.currentTarget){var t,r,n=null===(t=e.currentTarget.data)||void 0===t||null===(r=t.params)||void 0===r?void 0:r.frameId;I[n]=e.detail.eventChannel}}}})}));var{appCardDef:r}=e.extraData;if(r){var{template:n,template2:i,cards:a}=r;if(!n&&!i||!a||!a.length)return;var o=null;if(f>=1&&"string"==typeof i?o=i:"string"==typeof n&&(o=n),o){var s=new u("global","require","module","exports","window","document","frames","self","location","navigator","localStorage","history","Caches","screen","alert","confirm","prompt","XMLHttpRequest","WebSocket","Reporter","webkit","WeixinJSCore",`return ${o}`).call({});s&&Object.assign(y,s)}for(var c of a){var p=c.type;p&&(b[p]={path:`${p}/index`,...c})}}}}(e),$.createMagicBrushFrameSetRoot())},A=e=>{var t=$.renderMagicBrushFrameError,{frameId:r,extraData:s}=e,l=s.bizType;if(!l)return t(r);if(console.info("[MagicBrushFrame] createMagicBrushFrameContext",r,l),"app-card"===l){var{appId:c,type:d,pageId:f,params:I,appPath:P,cardPath:T}=s,{path:A,style:E,config:R,definitionFilter:D}=b[d]||{},L=`${f}-${c}-${d}`,N=function(e){return e};if(!A||!P||!T)return t(r);h.addCompiledTemplate(L,{content:y[A]}),E&&E.url&&h.addStyleSheet(L,E.url,E.scopeName),R&&"object"==typeof R&&h.addComponentStaticConfig(L,R||{usingComponents:{}}),D&&"string"==typeof D&&(N=new u("definition","Behavior",`${D}`));var B=I||{};B.frameId=r;var F={frameId:r,name:L,path:L,properties:B};if(g){var j=g.data.frameSetList;j.push(F),g.setData({frameSetList:j})}else w.push(F);p||(x.hijack(),p=!0);var W=new n.Z({name:`${o.D.APP_CARDS}${c}`,secure:!0,entry:[],entryLibs:["WAMagicBrushSubContext.js"],env:{}});S[r]={frameSetName:F.name,subContextGuid:W.__guid__,bizType:l,data:{componentName:L,appPath:P,cardPath:T}},(0,a.z)(W),h.globalComponentEnv(globalThis,L,(()=>{if("app-card"===l){var t=globalThis.Component,a=globalThis.Behavior;globalThis.Component=function(e){return e.behaviors=e.behaviors||[],e.behaviors.unshift(a({lifetimes:{created(){C[r]=this._$;var e=this._$,t=function(){},n={},i=function(t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:()=>e[t],set(e){this[t]=e}})},a=function(t){n[t]=e[t].bind(e)};i("is"),i("id"),i("dataset"),i("data"),a("setData"),a("updateData"),a("replaceDataOnPath"),a("spliceArrayDataOnPath"),a("applyDataUpdates"),a("groupUpdates"),a("hasBehavior"),a("traitBehavior"),a("triggerEvent"),this.createSelectorQuery=t,this.selectComponent=t,this.selectAllComponents=t,this.selectOwnerComponent=t,this.getRelationNodes=t,this.general=t,this.asInstanceOf=t,this._$=n,this._$onCardEvent=this._$onCardEvent.bind(this)},attached(){this.onEventFromMiniprogram("_$pageShow",this._$onPageShow),this.onEventFromMiniprogram("_$pageHide",this._$onPageHide),this.onEventFromMiniprogram("_$cardEvent",this._$onCardEvent),this.sendEventToMiniprogram("attached")},detached(){this.offEventFromMiniprogram("_$pageShow",this._$onPageShow),this.offEventFromMiniprogram("_$pageHide",this._$onPageHide),this.offEventFromMiniprogram("_$cardEvent",this._$onCardEvent),this.sendEventToMiniprogram("detached")}},methods:{sendEventToMiniprogram(e,t={}){$.sendEventToMiniprogram(r,e,{frameId:r,...t})},onEventFromMiniprogram(e,t){var r=this.getOpenerEventChannel();r&&r.on(e,t)},offEventFromMiniprogram(e,t){var r=this.getOpenerEventChannel();r&&r.off(e,t)},_$onPageShow(){var e=C[r];e&&e.triggerPageLifeTime("show")},_$onPageHide(){var e=C[r];e&&e.triggerPageLifeTime("hide")},_$onTapCard(){this.sendEventToMiniprogram("tap")},_$onCardEvent(e){this._$dealWithCardEvent&&this._$dealWithCardEvent(e)}}})),t(N.call({},e,a))}}var o={console:console,setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,__wxConfig:v,Reporter:M,wxNativeConsole:_,__subContextEngineBridge__:m||O,__freezeLibContextGlobal__:m?()=>{}:()=>(0,i.F)(),WeixinJSBridge:k};W.setExportEnv(o),W.init(),W.refreshExportEnv({isRefresh:!0,Component:globalThis.Component,Behavior:globalThis.Behavior,frameSetInfo:{name:F.name,frameId:e.frameId},__appServiceSDK__:{wx:$.getWx((0,n.i)(W.__guid__),r),console:Object.assign({group:()=>{},groupEnd:()=>{}},$.getConsole(r))},...o})}))}},E=e=>{var t=(0,a.M)(),r=S[e];if(r){var n=t.findIndex((e=>e.__guid__===r.subContextGuid)),i=t[n];if(i)if(i.destroy(),t.splice(n,1),delete S[e],delete C[e],delete I[e],$.removeMagicBrushFrameSet(r.frameSetName),g){for(var o=g.data.frameSetList,s=o.length-1;s>=0;s--)o[s].frameId===e&&o.splice(s,1);g.setData({frameSetList:o})}else for(var l=w.length-1;l>=0;l--)w[l].frameId===e&&w.splice(l,1)}}},975:e=>{e.exports=e=>{return e>=1?(n=function(e){return null==e?Object.create(null):e},i=function(e,t){return!0===e||(e?e[t]:void 0)},(r={}).index=((t={})[""]={}[""]=(e,t,r,a)=>{e.c,e.m;var o=e.r,s=!0===a;return{C:(t,l,c,u,d)=>{d(r.frameSetList,"name",a?a.frameSetList:void 0,["frameSetList"],((t,r,a,l,c,u,d,p)=>{p("frame-set",{},((e,t)=>{(t||s||i(l,"name"))&&o(e,"name",n(r).name)}),((t,a,c)=>{c("frame",{},((t,a)=>{(a||s||i(l,"path"))&&o(t,"path",n(r).path),(a||s||i(l,"properties"))&&o(t,"params",n(r).properties),a&&o(t,"left","0px"),a&&o(t,"top","0px"),a&&o(t,"width","100%"),a&&o(t,"height","100%"),a&&e.r(t,"bindload","onFrameLoad")}),(e=>{}))}))}))},B:{}}},function(e){return t[e]}),r):(()=>{var e=function(e){return null==e?Object.create(null):e},t=function(e,t){return!0===e||(e?e[t]:void 0)},r={};return r.index=(()=>{var r={};return r[""]={}[""]=(r,n,i,a)=>{r.c,r.y,r.m;var o=r.r,s=!0===a;return{C:(r,n,l,c)=>{c(i.frameSetList,"name",a?a.frameSetList:void 0,["frameSetList"],((r,n,i,a,l,c,u,d)=>{d("frame-set",{},(i=>{(r||s||t(a,"name"))&&o(i,"name",e(n).name)}),((i,l)=>{l("frame",{},(i=>{(r||s||t(a,"path"))&&o(i,"path",e(n).path),(r||s||t(a,"properties"))&&o(i,"params",e(n).properties),r&&o(i,"left","0px"),r&&o(i,"top","0px"),r&&o(i,"width","100%"),r&&o(i,"height","100%"),r&&o(i,"bindload","onFrameLoad")}),(()=>{}))}))}))},B:{}}},function(e){return r[e]}})(),r})();var t,r,n,i}},144:(e,t,r)=>{var n=r(18);T&&T.subscribe&&(T.subscribe("loadJsFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadJsFiles(e.paths,e.moduleName,e.options);_.warn(`[MainContext] context name with ${e.contextName} not found, loadJsFiles fail`)})),T.subscribe("loadLibFiles",(e=>{var t=(0,n.M)().find((t=>t.__name__===e.contextName));if(t)return t.loadLibFiles(e.paths);_.warn(`[MainContext] context name with ${e.contextName} not found, loadLibFiles fail`)})))},410:(e,t,r)=>{r.d(t,{Bs:()=>n,YF:()=>o});var n=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e.replace(/"/g,'\\"').replace(/'/g,'"').replace(/\n/g,"\\n"))}catch(t){return{message:e,stack:""}}},i=!1,a=[],o=e=>{a.push(e),i||(i=!0,Promise.resolve().then((()=>{for(var e=0;e<a.length;++e)if("function"==typeof a[e])try{a[e]()}catch(e){throw _.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),console.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),e}i=!1,a.length=0})))}},888:e=>{e.exports=h.asyncToGenerator}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new p("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{r.r(n),r.d(n,{createAppRenderContext:()=>w,createAppSclContext:()=>C,createAppXRFrameRenderContext:()=>I,createGameOpenDataContext:()=>D,createIsolatedGamePlugin:()=>u.dr,createMagicBrushFrameContext:()=>d.eh,getAppContext:()=>i.F,getGameContext:()=>l.eC,getGameOpenDataContext:()=>c.r,getGamePlugins:()=>u.hS,getPool:()=>h.M,initAppRelatedContexts:()=>b,initFunctionalPage:()=>A,initGameJS:()=>E,initGameRelatedContexts:()=>P,initMagicBrushFrameContext:()=>d.ZJ,injectGamePlugin:()=>u.qo,isIsolateContext:()=>p.N0,isValidGameIndependentSubpackagePath:()=>p.Qj,loadJsFiles:()=>O,onSubContextMessage:()=>B,postMessageToSubContext:()=>L,postMessageToSubContextSync:()=>N,publishToRenderContext:()=>a.Tq,publishToSclContext:()=>s.Nz,removeMagicBrushFrameContext:()=>d.ZT,waitAppRenderContextInit:()=>S,waitAppSclContextInit:()=>k});var e=r(888),t=r.n(e),i=(r(752),r(642)),a=r(612),o=r(740),s=r(801),l=r(561),c=r(681),u=r(29),d=r(896),p=r(796),h=r(18),f=(r(144),r(550),r(227)),g=Object.keys,y=new m.EventEmitter,b=function(e){(0,p.N0)();for(var t=g(e),r=0;r<t.length;r++){var n=t[r];p.xJ[n]=e[n]}(0,p.N0)()&&(0,p.QT)((()=>{x.hijack(!0,null),(0,h.z)((0,i.F)());var e=(0,i.E)();1===v.envPreloadType&&(e instanceof Promise?e.then((e=>{$.loadPreloadSdkSubPackage(),_.info("load subpackage finish")})):($.loadPreloadSdkSubPackage(),_.info("load subpackage finish")))}),"initAppIsolatedContext"),v.onReady((()=>{!(0,p.N0)()&&v.plugins&&(x.overwriteSetPrototypeOf(),x.deepFreezeGlobalObjs([],!1))}))},w=function(){var e;(0,p.N0)(),(0,p.QT)((()=>{e=(0,a.DW)(),(0,h.z)(e),e.onMessage((e=>{y.emit("subContextMessage",e)})),(0,p.F)()}),"createAppRenderContext")},S=function(){var e=t()((function*(){var e,t=(0,h.M)().find((e=>e.__name__===f.m.APP_RENDER));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("render context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),C=function(){var e;(0,p.N0)(),(0,p.QT)((()=>{e=(0,s.dx)(),(0,h.z)(e),e.onMessage((e=>{y.emit("subContextMessage",e)})),(0,p.F)()}),"createAppSclContext")},k=function(){var e=t()((function*(){var e,t=(0,h.M)().find((e=>e.__name__===f.m.APP_SCL));return t?"function"==typeof(null===(e=t.__initPromise__)||void 0===e?void 0:e.then)?t.__initPromise__:Promise.resolve():Promise.reject("scl context not yet added to pool")}));return function(){return e.apply(this,arguments)}}(),I=function(e){(0,p.QT)((()=>{var t=(0,o.$)(e);(0,h.z)(t),t.onMessage((e=>{y.emit("subContextMessage",e)}))}),"createAppXRFrameRenderContext")},P=()=>{var e,t;if(1===v.envPreloadType){var r=$.getGameRelatedContextsExportsWx();e=r.game,t=r.gameSkipCondom}function n(){var e=$.getGameRelatedContextsExports(),t=e.game.FunctionalPage,r=v.appLaunchInfo;if(t.parseCompletePath(r.path).isFunctionalPage&&t.VALID_SCENE.includes(r.scene))A(e);else if((0,p.c6)(r.scene)){var n=(0,p.Qj)(r.path,v.subPackages);if(n){var i;if("playable"===(null==n||null===(i=n.meta)||void 0===i?void 0:i.type)&&($.runPlayableGameJS(n.root,n.meta),(0,p.Dt)()||(0,p.gn)()))return;var a=(0,l.eC)(),o=n.root;o.endsWith(".js")||(o.endsWith("/")||(o=`${o}/`),o=`${o}game.js`),a.setEntry([o]),console.log("exportEnvs ==",e),R(e,(e=>{e&&(console.error("run game independent subpackage fail",e),_.error("run game independent subpackage fail",e),a.evaluateScriptFile("game.js"),M.reportIDKey({key:"loadGameIndependentSubPackageFail"}))}))}else{if((0,p.c2)({query:r.query,appType:v.appType})&&(0,p.G$)()&&($.runPlayableGameJSNew({playableOutid:r.query.playable_outid}),(0,p.Dt)()||(0,p.gn)()))return;R(e)}}else R(e)}1===v.envPreloadType&&($.loadPreloadSdkSubPackage(),_.info("load subpackage finish")),(0,l.xC)(e,t),v.onReady((()=>{((0,p.G$)()||T.isAsync())&&(0,p.N0)()?(0,u.K0)().then((()=>(n(),null))):n()}))};function A(e){(e=e||$.getGameRelatedContextsExports()).game.FunctionalPage.initFunctionalPage()}function E(e){e=e||$.getGameRelatedContextsExports(),(0,h.M)().length>0||R(e)}function R(e,t){e=e||$.getGameRelatedContextsExports(),(0,p.N0)()&&(0,p.QT)((()=>{l.N7.onCondomBridgeFinshed(p.F),(0,h.z)((0,l.eC)());var r=(0,l.M)(e.game);r&&r.catch&&r.catch((e=>{"function"==typeof t&&t(e)}))}),"initGameIsolatedContext")}function D(e){e=e||$.getGameRelatedContextsExports(),(0,p.QT)((()=>{(0,h.z)((0,c.r)());var t=(0,c.J)(e.gameOpenData);t&&t.catch&&t.catch((e=>{}))}),"initGameOpenDataContext")}var O=()=>{},L=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,o.k)().postMessageAsync(e):"string"==typeof t&&4294967298===t?(0,s.Pc)().postMessageAsync(e):(0,a.vh)().postMessageAsync(e)},N=(e,t)=>{"string"==typeof t&&0===t.indexOf("xr-view-")?(0,o.k)().postMessage(e):4294967298===t?(0,s.Pc)().postMessage(e):(0,a.vh)().postMessage(e)},B=e=>{y.on("subContextMessage",e)}})(),j=n})();var W=function(){var e="undefined"!=typeof __wxModule__?__wxModule__:{};if(c.definePlugin=e.definePlugin,c.requirePlugin=e.requirePlugin,"function"==typeof __passWAServiceGlobal__){var t={};if(t.__appServiceEngine__=__appServiceEngine__,t.__appServiceSDK__=$,t.__virtualDOM__=__virtualDOM__,t.__subContextEngine__=j,t.__sclEngine__=__sclEngine__,t.Reporter=M,t.exparser=exparser,t.WeixinJSBridge=k,t.Foundation=m,t.Protect=x,"undefined"!=typeof __isAppServiceRemoteDebugMode__)return void __passWAServiceGlobal__({});__passWAServiceGlobal__(t)}};function V(){var e;void 0!==F&&F.version&&(e=F.version);try{W()}catch(e){}e&&void 0!==c&&c.wx&&(c.wx.version=e)}j.isIsolateContext(),j.isIsolateContext()&&"undefined"==typeof __isAppServiceRemoteDebugMode__||V(),m.onLoad((function(){j.initAppRelatedContexts(c)}))})(this);var __WAServiceMainContextEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;