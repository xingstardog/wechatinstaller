<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-eval' 'unsafe-inline'; worker-src 'self' blob:; frame-src 'self'">
  <style>
    * {
      -webkit-user-drag: none;
      -webkit-user-select: none;
    }
    html, body {
      margin: 0;
      width: 100%;
      height: 100%;
    }
    iframe {
      border: none;
      display: none;
    }
    #canvas {
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      position: fixed;
    }
    #vConsole {
      left: 0;
      bottom: 0;
      width: 100vw;
      height: 95vh;
      position: fixed;
    }
    #vBtn {
      width: 100px;
      color: #000;
      position: fixed;
      font-size: 12px;
      line-height: 30px;
      border-radius: 15px;
      background: #0f0;
      font-family: PingFang SC;
      text-align: center;
      top: calc(100vh - 50px);
      left: calc(100vw - 120px);
    }
    #canvas {
      z-index: -1;
      display: block;
      background-color: #000000;
    }
    #canvas.transparentCanvas {
      background-color: transparent;
    }
    #vBtn, #vConsole {
      z-index: 1000;
    }
  </style>
</head>
<body>
  <script>
    /* __wkrenderer */
    /* WAGAME_REPLACE */
    globalThis.debugMode = !!globalThis?.__wxConfig?.debug;
    // debugMode && /^unknown/.test(__wxConfig.model) && alert('Simulator Debug');
    var BabelRuntimeHelpers={};(()=>{var t={5803:(t,e,r)=>{var n={"./applyDecoratedDescriptor":7386,"./asyncToGenerator":8921,"./initializerDefineProperty":8704,"./initializerWarningHelper":9651,"./objectSpread2":8680};function i(t){var e=s(t);return r(e)}function s(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id=5803},7386:(t,e,r)=>{"use strict";function n(t,e,r,n,i){var s={};return Object.keys(n).forEach((function(t){s[t]=n[t]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s}r.r(e),r.d(e,{default:()=>n})},8921:(t,e,r)=>{"use strict";function n(t,e,r,n,i,s,a){try{var o=t[s](a),u=o.value}catch(t){return void r(t)}o.done?e(u):Promise.resolve(u).then(n,i)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(i,s){var a=t.apply(e,r);function o(t){n(a,i,s,o,u,"next",t)}function u(t){n(a,i,s,o,u,"throw",t)}o(void 0)}))}}r.r(e),r.d(e,{default:()=>i})},8704:(t,e,r)=>{"use strict";function n(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.r(e),r.d(e,{default:()=>n})},9651:(t,e,r)=>{"use strict";function n(t,e){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}r.r(e),r.d(e,{default:()=>n})},8680:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t){var e=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===n(e)?e:String(e)}function s(t,e,r){return(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}r.r(e),r.d(e,{default:()=>o})},9762:(t,e,r)=>{"use strict";var n=r(1551),i=r(4288),s=r(6124),a=r(5517),o=s.data,u=s.normalize,c="USE_FUNCTION_CONSTRUCTOR",h="AsyncIteratorPrototype",f=function(t,e){if(i(t))for(var r=0;r<t.length;r++)o[u(t[r])]=e};t.exports=function(t){"object"==typeof t&&(f(t.useNative,s.NATIVE),f(t.usePolyfill,s.POLYFILL),f(t.useFeatureDetection,null),n(t,c)&&(a[c]=!!t[c]),n(t,h)&&(a[h]=t[h]))}},8117:(t,e,r)=>{"use strict";var n=r(8173),i=r(7420),s=TypeError;t.exports=function(t){if(n(t))return t;throw new s(i(t)+" is not a function")}},6270:(t,e,r)=>{"use strict";var n=r(4524),i=r(7420),s=TypeError;t.exports=function(t){if(n(t))return t;throw new s(i(t)+" is not a constructor")}},8924:(t,e,r)=>{"use strict";var n=r(4977),i=String,s=TypeError;t.exports=function(t){if(n(t))return t;throw new s("Can't set "+i(t)+" as a prototype")}},6016:(t,e,r)=>{"use strict";var n=r(3840).has;t.exports=function(t){return n(t),t}},7591:(t,e,r)=>{"use strict";var n=r(7609),i=r(3062),s=r(2038),a=r(6469),o=r(8117),u=r(1636),c=r(3743),h=r(6387),f=h("asyncDispose"),d=h("dispose"),_=i([].push),E=function(t,e,r){return arguments.length<3&&!u(t)&&(r=o(function(t,e){if("async-dispose"===e){var r=c(t,f);return void 0!==r||void 0===(r=c(t,d))?r:function(){n(r,this)}}return c(t,d)}(a(t),e))),void 0===r?function(){}:s(r,t)};t.exports=function(t,e,r,n){var i;if(arguments.length<4){if(u(e)&&"sync-dispose"===r)return;i=E(e,r)}else i=E(void 0,r,n);_(t.stack,i)}},2890:(t,e,r)=>{"use strict";var n=r(6387),i=r(9543),s=r(615).f,a=n("unscopables"),o=Array.prototype;void 0===o[a]&&s(o,a,{configurable:!0,value:i(null)}),t.exports=function(t){o[a][t]=!0}},1747:(t,e,r)=>{"use strict";var n=r(6730),i=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new i("Incorrect invocation")}},6469:(t,e,r)=>{"use strict";var n=r(9693),i=String,s=TypeError;t.exports=function(t){if(n(t))return t;throw new s(i(t)+" is not an object")}},5392:t=>{"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},1759:(t,e,r)=>{"use strict";var n,i,s,a=r(5392),o=r(1923),u=r(1848),c=r(8173),h=r(9693),f=r(1551),d=r(1465),_=r(7420),E=r(1384),l=r(5953),p=r(6248),A=r(6730),v=r(4483),T=r(5273),g=r(6387),R=r(4229),y=r(2417),I=y.enforce,S=y.get,m=u.Int8Array,N=m&&m.prototype,b=u.Uint8ClampedArray,F=b&&b.prototype,O=m&&v(m),x=N&&v(N),C=Object.prototype,L=u.TypeError,B=g("toStringTag"),w=R("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",U=a&&!!T&&"Opera"!==d(u.opera),P=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},G={BigInt64Array:8,BigUint64Array:8},X=function(t){var e=v(t);if(h(e)){var r=S(e);return r&&f(r,M)?r[M]:X(e)}},k=function(t){if(!h(t))return!1;var e=d(t);return f(D,e)||f(G,e)};for(n in D)(s=(i=u[n])&&i.prototype)?I(s)[M]=i:U=!1;for(n in G)(s=(i=u[n])&&i.prototype)&&(I(s)[M]=i);if((!U||!c(O)||O===Function.prototype)&&(O=function(){throw new L("Incorrect invocation")},U))for(n in D)u[n]&&T(u[n],O);if((!U||!x||x===C)&&(x=O.prototype,U))for(n in D)u[n]&&T(u[n].prototype,x);if(U&&v(F)!==x&&T(F,x),o&&!f(x,B))for(n in P=!0,p(x,B,{configurable:!0,get:function(){return h(this)?this[w]:void 0}}),D)u[n]&&E(u[n],w,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:P&&w,aTypedArray:function(t){if(k(t))return t;throw new L("Target is not a typed array")},aTypedArrayConstructor:function(t){if(c(t)&&(!T||A(O,t)))return t;throw new L(_(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(o){if(r)for(var i in D){var s=u[i];if(s&&f(s.prototype,t))try{delete s.prototype[t]}catch(r){try{s.prototype[t]=e}catch(t){}}}x[t]&&!r||l(x,t,r?e:U&&N[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(o){if(T){if(r)for(n in D)if((i=u[n])&&f(i,t))try{delete i[t]}catch(t){}if(O[t]&&!r)return;try{return l(O,t,r?e:U&&O[t]||e)}catch(t){}}for(n in D)!(i=u[n])||i[t]&&!r||l(i,t,e)}},getTypedArrayConstructor:X,isView:function(t){if(!h(t))return!1;var e=d(t);return"DataView"===e||f(D,e)||f(G,e)},isTypedArray:k,TypedArray:O,TypedArrayPrototype:x}},1180:(t,e,r)=>{"use strict";var n=r(3659),i=r(3663),s=r(9110);t.exports=function(t){for(var e=n(this),r=s(e),a=arguments.length,o=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>o;)e[o++]=t;return e}},4744:(t,e,r)=>{"use strict";var n=r(2038),i=r(3062),s=r(3659),a=r(4524),o=r(2330),u=r(9072),c=r(8986),h=r(2100),f=r(3743),d=r(9406),_=r(8168),E=r(6387),l=r(147),p=r(7163).toArray,A=E("asyncIterator"),v=i(_("Array","values")),T=i(v([]).next),g=function(){return new R(this)},R=function(t){this.iterator=v(t)};R.prototype.next=function(){return T(this.iterator)},t.exports=function(t){var e=this,r=arguments.length,i=r>1?arguments[1]:void 0,_=r>2?arguments[2]:void 0;return new(d("Promise"))((function(r){var d=s(t);void 0!==i&&(i=n(i,_));var E=f(d,A),v=E?void 0:h(d)||g,T=a(e)?new e:[],R=E?o(d,E):new l(c(u(d,v)));r(p(R,i,T))}))}},2239:(t,e,r)=>{"use strict";var n=r(9110);t.exports=function(t,e,r){for(var i=0,s=arguments.length>2?r:n(e),a=new t(s);s>i;)a[i]=e[i++];return a}},3077:(t,e,r)=>{"use strict";var n=r(2038),i=r(3062),s=r(2832),a=r(3659),o=r(9110),u=r(7741),c=u.Map,h=u.get,f=u.has,d=u.set,_=i([].push);t.exports=function(t){for(var e,r,i=a(this),u=s(i),E=n(t,arguments.length>1?arguments[1]:void 0),l=new c,p=o(u),A=0;p>A;A++)e=E(r=u[A],A,i),f(l,e)?_(h(l,e),r):d(l,e,[r]);return l}},6747:(t,e,r)=>{"use strict";var n=r(2038),i=r(3062),s=r(2832),a=r(3659),o=r(7445),u=r(9110),c=r(9543),h=r(2239),f=Array,d=i([].push);t.exports=function(t,e,r,i){for(var _,E,l,p=a(t),A=s(p),v=n(e,r),T=c(null),g=u(A),R=0;g>R;R++)l=A[R],(E=o(v(l,R,p)))in T?d(T[E],l):T[E]=[l];if(i&&(_=i(p))!==f)for(E in T)T[E]=h(_,T[E]);return T}},4158:(t,e,r)=>{"use strict";var n=r(8632),i=r(3663),s=r(9110),a=function(t){return function(e,r,a){var o=n(e),u=s(o);if(0===u)return!t&&-1;var c,h=i(a,u);if(t&&r!=r){for(;u>h;)if((c=o[h++])!=c)return!0}else for(;u>h;h++)if((t||h in o)&&o[h]===r)return t||h||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2008:(t,e,r)=>{"use strict";var n=r(2038),i=r(2832),s=r(3659),a=r(9110),o=function(t){var e=1===t;return function(r,o,u){for(var c,h=s(r),f=i(h),d=a(f),_=n(o,u);d-- >0;)if(_(c=f[d],d,h))switch(t){case 0:return c;case 1:return d}return e?-1:void 0}};t.exports={findLast:o(0),findLastIndex:o(1)}},7816:(t,e,r)=>{"use strict";var n=r(8462);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},7826:(t,e,r)=>{"use strict";var n=r(1923),i=r(4288),s=TypeError,a=Object.getOwnPropertyDescriptor,o=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=o?function(t,e){if(i(t)&&!a(t,"length").writable)throw new s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7706:(t,e,r)=>{"use strict";var n=r(3062);t.exports=n([].slice)},9070:(t,e,r)=>{"use strict";var n=r(7706),i=Math.floor,s=function(t,e){var r=t.length;if(r<8)for(var a,o,u=1;u<r;){for(o=u,a=t[u];o&&e(t[o-1],a)>0;)t[o]=t[--o];o!==u++&&(t[o]=a)}else for(var c=i(r/2),h=s(n(t,0,c),e),f=s(n(t,c),e),d=h.length,_=f.length,E=0,l=0;E<d||l<_;)t[E+l]=E<d&&l<_?e(h[E],f[l])<=0?h[E++]:f[l++]:E<d?h[E++]:f[l++];return t};t.exports=s},459:(t,e,r)=>{"use strict";var n=r(9110);t.exports=function(t,e){for(var r=n(t),i=new e(r),s=0;s<r;s++)i[s]=t[r-s-1];return i}},1403:(t,e,r)=>{"use strict";var n=r(9110),i=r(6521),s=RangeError;t.exports=function(t,e,r,a){var o=n(t),u=i(r),c=u<0?o+u:u;if(c>=o||c<0)throw new s("Incorrect index");for(var h=new e(o),f=0;f<o;f++)h[f]=f===c?a:t[f];return h}},147:(t,e,r)=>{"use strict";var n=r(7609),i=r(6469),s=r(9543),a=r(3743),o=r(8881),u=r(2417),c=r(9406),h=r(2179),f=r(9462),d=c("Promise"),_="AsyncFromSyncIterator",E=u.set,l=u.getterFor(_),p=function(t,e,r){var n=t.done;d.resolve(t.value).then((function(t){e(f(t,n))}),r)},A=function(t){t.type=_,E(this,t)};A.prototype=o(s(h),{next:function(){var t=l(this);return new d((function(e,r){var s=i(n(t.next,t.iterator));p(s,e,r)}))},return:function(){var t=l(this).iterator;return new d((function(e,r){var s=a(t,"return");if(void 0===s)return e(f(void 0,!0));var o=i(n(s,t));p(o,e,r)}))}}),t.exports=A},7897:(t,e,r)=>{"use strict";var n=r(7609),i=r(9406),s=r(3743);t.exports=function(t,e,r,a){try{var o=s(t,"return");if(o)return i("Promise").resolve(n(o,t)).then((function(){e(r)}),(function(t){a(t)}))}catch(t){return a(t)}e(r)}},9296:(t,e,r)=>{"use strict";var n=r(7609),i=r(1689),s=r(6469),a=r(9543),o=r(1384),u=r(8881),c=r(6387),h=r(2417),f=r(9406),d=r(3743),_=r(2179),E=r(9462),l=r(9273),p=f("Promise"),A=c("toStringTag"),v="AsyncIteratorHelper",T="WrapForValidAsyncIterator",g=h.set,R=function(t){var e=!t,r=h.getterFor(t?T:v),o=function(t){var n=i((function(){return r(t)})),s=n.error,a=n.value;return s||e&&a.done?{exit:!0,value:s?p.reject(a):p.resolve(E(void 0,!0))}:{exit:!1,value:a}};return u(a(_),{next:function(){var t=o(this),e=t.value;if(t.exit)return e;var r=i((function(){return s(e.nextHandler(p))})),n=r.error,a=r.value;return n&&(e.done=!0),n?p.reject(a):p.resolve(a)},return:function(){var e=o(this),r=e.value;if(e.exit)return r;r.done=!0;var a,u,c=r.iterator,h=i((function(){if(r.inner)try{l(r.inner.iterator,"normal")}catch(t){return l(c,"throw",t)}return d(c,"return")}));return a=u=h.value,h.error?p.reject(u):void 0===a?p.resolve(E(void 0,!0)):(u=(h=i((function(){return n(a,c)}))).value,h.error?p.reject(u):t?p.resolve(u):p.resolve(u).then((function(t){return s(t),E(void 0,!0)})))}})},y=R(!0),I=R(!1);o(I,A,"Async Iterator Helper"),t.exports=function(t,e){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=e?T:v,n.nextHandler=t,n.counter=0,n.done=!1,g(this,n)};return r.prototype=e?y:I,r}},7163:(t,e,r)=>{"use strict";var n=r(7609),i=r(8117),s=r(6469),a=r(9693),o=r(8475),u=r(9406),c=r(8986),h=r(7897),f=function(t){var e=0===t,r=1===t,f=2===t,d=3===t;return function(t,_,E){s(t);var l=void 0!==_;!l&&e||i(_);var p=c(t),A=u("Promise"),v=p.iterator,T=p.next,g=0;return new A((function(t,i){var u=function(t){h(v,i,t,i)},c=function(){try{if(l)try{o(g)}catch(t){u(t)}A.resolve(s(n(T,v))).then((function(n){try{if(s(n).done)e?(E.length=g,t(E)):t(!d&&(f||void 0));else{var o=n.value;try{if(l){var p=_(o,g),T=function(n){if(r)c();else if(f)n?c():h(v,t,!1,i);else if(e)try{E[g++]=n,c()}catch(t){u(t)}else n?h(v,t,d||o,i):c()};a(p)?A.resolve(p).then(T,u):T(p)}else E[g++]=o,c()}catch(t){u(t)}}}catch(t){i(t)}}),i)}catch(t){i(t)}};c()}))}};t.exports={toArray:f(0),forEach:f(1),every:f(2),some:f(3),find:f(4)}},7073:(t,e,r)=>{"use strict";var n=r(7609),i=r(8117),s=r(6469),a=r(9693),o=r(8986),u=r(9296),c=r(9462),h=r(7897),f=u((function(t){var e=this,r=e.iterator,i=e.mapper;return new t((function(o,u){var f=function(t){e.done=!0,u(t)},d=function(t){h(r,f,t,f)};t.resolve(s(n(e.next,r))).then((function(r){try{if(s(r).done)e.done=!0,o(c(void 0,!0));else{var n=r.value;try{var u=i(n,e.counter++),h=function(t){o(c(t,!1))};a(u)?t.resolve(u).then(h,d):h(u)}catch(t){d(t)}}}catch(t){f(t)}}),f)}))}));t.exports=function(t){return s(this),i(t),new f(o(this),{mapper:t})}},2179:(t,e,r)=>{"use strict";var n,i,s=r(1848),a=r(5517),o=r(8173),u=r(9543),c=r(4483),h=r(5953),f=r(6387),d=r(4151),_="USE_FUNCTION_CONSTRUCTOR",E=f("asyncIterator"),l=s.AsyncIterator,p=a.AsyncIteratorPrototype;if(p)n=p;else if(o(l))n=l.prototype;else if(a[_]||s[_])try{i=c(c(c(Function("return async function*(){}()")()))),c(i)===Object.prototype&&(n=i)}catch(t){}n?d&&(n=u(n)):n={},o(n[E])||h(n,E,(function(){return this})),t.exports=n},3525:(t,e,r)=>{"use strict";var n=r(7609),i=r(9296);t.exports=i((function(){return n(this.next,this.iterator)}),!0)},9832:(t,e,r)=>{"use strict";var n=r(6469),i=r(9273);t.exports=function(t,e,r,s){try{return s?e(n(r)[0],r[1]):e(r)}catch(e){i(t,"throw",e)}}},4912:(t,e,r)=>{"use strict";var n=r(6387)("iterator"),i=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!i)return!1}catch(t){return!1}var r=!1;try{var s={};s[n]=function(){return{next:function(){return{done:r=!0}}}},t(s)}catch(t){}return r}},6892:(t,e,r)=>{"use strict";var n=r(3062),i=n({}.toString),s=n("".slice);t.exports=function(t){return s(i(t),8,-1)}},1465:(t,e,r)=>{"use strict";var n=r(1326),i=r(8173),s=r(6892),a=r(6387)("toStringTag"),o=Object,u="Arguments"===s(function(){return arguments}());t.exports=n?s:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=o(t),a))?r:u?s(e):"Object"===(n=s(e))&&i(e.callee)?"Arguments":n}},744:(t,e,r)=>{"use strict";var n=r(1551),i=r(3349),s=r(5983),a=r(615);t.exports=function(t,e,r){for(var o=i(e),u=a.f,c=s.f,h=0;h<o.length;h++){var f=o[h];n(t,f)||r&&n(r,f)||u(t,f,c(e,f))}}},7712:(t,e,r)=>{"use strict";var n=r(8462);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},9462:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},1384:(t,e,r)=>{"use strict";var n=r(1923),i=r(615),s=r(4127);t.exports=n?function(t,e,r){return i.f(t,e,s(1,r))}:function(t,e,r){return t[e]=r,t}},4127:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4676:(t,e,r)=>{"use strict";var n=r(1923),i=r(615),s=r(4127);t.exports=function(t,e,r){n?i.f(t,e,s(0,r)):t[e]=r}},6248:(t,e,r)=>{"use strict";var n=r(1704),i=r(615);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),i.f(t,e,r)}},5953:(t,e,r)=>{"use strict";var n=r(8173),i=r(615),s=r(1704),a=r(3958);t.exports=function(t,e,r,o){o||(o={});var u=o.enumerable,c=void 0!==o.name?o.name:e;if(n(r)&&s(r,c,o),o.global)u?t[e]=r:a(e,r);else{try{o.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=r:i.f(t,e,{value:r,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return t}},8881:(t,e,r)=>{"use strict";var n=r(5953);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},3958:(t,e,r)=>{"use strict";var n=r(1848),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},5588:(t,e,r)=>{"use strict";var n=r(7420),i=TypeError;t.exports=function(t,e){if(!delete t[e])throw new i("Cannot delete property "+n(e)+" of "+n(t))}},1923:(t,e,r)=>{"use strict";var n=r(8462);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4446:(t,e,r)=>{"use strict";var n=r(1848),i=r(9693),s=n.document,a=i(s)&&i(s.createElement);t.exports=function(t){return a?s.createElement(t):{}}},8475:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},7094:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9257:(t,e,r)=>{"use strict";var n=r(8722).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},1466:(t,e,r)=>{"use strict";var n=r(8722);t.exports=/MSIE|Trident/.test(n)},9788:(t,e,r)=>{"use strict";var n=r(8722);t.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},9823:(t,e,r)=>{"use strict";var n=r(8722);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},2409:(t,e,r)=>{"use strict";var n=r(1558);t.exports="NODE"===n},2027:(t,e,r)=>{"use strict";var n=r(8722);t.exports=/web0s(?!.*chrome)/i.test(n)},8722:(t,e,r)=>{"use strict";var n=r(1848).navigator,i=n&&n.userAgent;t.exports=i?String(i):""},9255:(t,e,r)=>{"use strict";var n,i,s=r(1848),a=r(8722),o=s.process,u=s.Deno,c=o&&o.versions||u&&u.version,h=c&&c.v8;h&&(i=(n=h.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},8560:(t,e,r)=>{"use strict";var n=r(8722).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},1558:(t,e,r)=>{"use strict";var n=r(1848),i=r(8722),s=r(6892),a=function(t){return i.slice(0,t.length)===t};t.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===s(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"},5290:(t,e,r)=>{"use strict";var n=r(3062),i=Error,s=n("".replace),a=String(new i("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,u=o.test(a);t.exports=function(t,e){if(u&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=s(t,o,"");return t}},2519:(t,e,r)=>{"use strict";var n=r(1384),i=r(5290),s=r(692),a=Error.captureStackTrace;t.exports=function(t,e,r,o){s&&(a?a(t,e):n(t,"stack",i(r,o)))}},692:(t,e,r)=>{"use strict";var n=r(8462),i=r(4127);t.exports=!n((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},4395:(t,e,r)=>{"use strict";var n=r(1848),i=r(5983).f,s=r(1384),a=r(5953),o=r(3958),u=r(744),c=r(6124);t.exports=function(t,e){var r,h,f,d,_,E=t.target,l=t.global,p=t.stat;if(r=l?n:p?n[E]||o(E,{}):n[E]&&n[E].prototype)for(h in e){if(d=e[h],f=t.dontCallGetSet?(_=i(r,h))&&_.value:r[h],!c(l?h:E+(p?".":"#")+h,t.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(t.sham||f&&f.sham)&&s(d,"sham",!0),a(r,h,d,t)}}},8462:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},3178:(t,e,r)=>{"use strict";var n=r(5020),i=Function.prototype,s=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(s):function(){return a.apply(s,arguments)})},2038:(t,e,r)=>{"use strict";var n=r(1992),i=r(8117),s=r(5020),a=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:s?a(t,e):function(){return t.apply(e,arguments)}}},5020:(t,e,r)=>{"use strict";var n=r(8462);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},7609:(t,e,r)=>{"use strict";var n=r(5020),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},63:(t,e,r)=>{"use strict";var n=r(1923),i=r(1551),s=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,o=i(s,"name"),u=o&&"something"===function(){}.name,c=o&&(!n||n&&a(s,"name").configurable);t.exports={EXISTS:o,PROPER:u,CONFIGURABLE:c}},252:(t,e,r)=>{"use strict";var n=r(3062),i=r(8117);t.exports=function(t,e,r){try{return n(i(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},1992:(t,e,r)=>{"use strict";var n=r(6892),i=r(3062);t.exports=function(t){if("Function"===n(t))return i(t)}},3062:(t,e,r)=>{"use strict";var n=r(5020),i=Function.prototype,s=i.call,a=n&&i.bind.bind(s,s);t.exports=n?a:function(t){return function(){return s.apply(t,arguments)}}},1401:(t,e,r)=>{"use strict";var n=r(7609),i=r(8173),s=r(6469),a=r(8986),o=r(2100),u=r(3743),c=r(6387),h=r(147),f=c("asyncIterator");t.exports=function(t){var e,r=s(t),c=!0,d=u(r,f);return i(d)||(d=o(r),c=!1),void 0!==d?e=n(d,r):(e=r,c=!0),s(e),a(c?e:new h(a(e)))}},2330:(t,e,r)=>{"use strict";var n=r(7609),i=r(147),s=r(6469),a=r(9072),o=r(8986),u=r(3743),c=r(6387)("asyncIterator");t.exports=function(t,e){var r=arguments.length<2?u(t,c):e;return r?s(n(r,t)):new i(o(a(t)))}},8168:(t,e,r)=>{"use strict";var n=r(1848);t.exports=function(t,e){var r=n[t],i=r&&r.prototype;return i&&i[e]}},9406:(t,e,r)=>{"use strict";var n=r(1848),i=r(8173);t.exports=function(t,e){return arguments.length<2?(r=n[t],i(r)?r:void 0):n[t]&&n[t][e];var r}},8986:t=>{"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},8304:(t,e,r)=>{"use strict";var n=r(7609),i=r(6469),s=r(8986),a=r(2100);t.exports=function(t,e){e&&"string"==typeof t||i(t);var r=a(t);return s(i(void 0!==r?n(r,t):t))}},2100:(t,e,r)=>{"use strict";var n=r(1465),i=r(3743),s=r(1636),a=r(7343),o=r(6387)("iterator");t.exports=function(t){if(!s(t))return i(t,o)||i(t,"@@iterator")||a[n(t)]}},9072:(t,e,r)=>{"use strict";var n=r(7609),i=r(8117),s=r(6469),a=r(7420),o=r(2100),u=TypeError;t.exports=function(t,e){var r=arguments.length<2?o(t):e;if(i(r))return s(n(r,t));throw new u(a(t)+" is not iterable")}},3743:(t,e,r)=>{"use strict";var n=r(8117),i=r(1636);t.exports=function(t,e){var r=t[e];return i(r)?void 0:n(r)}},1998:(t,e,r)=>{"use strict";var n=r(8117),i=r(6469),s=r(7609),a=r(6521),o=r(8986),u="Invalid size",c=RangeError,h=TypeError,f=Math.max,d=function(t,e){this.set=t,this.size=f(e,0),this.has=n(t.has),this.keys=n(t.keys)};d.prototype={getIterator:function(){return o(i(s(this.keys,this.set)))},includes:function(t){return s(this.has,this.set,t)}},t.exports=function(t){i(t);var e=+t.size;if(e!=e)throw new h(u);var r=a(e);if(r<0)throw new c(u);return new d(t,r)}},1848:function(t,e,r){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},1551:(t,e,r)=>{"use strict";var n=r(3062),i=r(3659),s=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(i(t),e)}},7051:t=>{"use strict";t.exports={}},2157:t=>{"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},2241:(t,e,r)=>{"use strict";var n=r(9406);t.exports=n("document","documentElement")},1881:(t,e,r)=>{"use strict";var n=r(1923),i=r(8462),s=r(4446);t.exports=!n&&!i((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},2832:(t,e,r)=>{"use strict";var n=r(3062),i=r(8462),s=r(6892),a=Object,o=n("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===s(t)?o(t,""):a(t)}:a},6339:(t,e,r)=>{"use strict";var n=r(8173),i=r(9693),s=r(5273);t.exports=function(t,e,r){var a,o;return s&&n(a=e.constructor)&&a!==r&&i(o=a.prototype)&&o!==r.prototype&&s(t,o),t}},5239:(t,e,r)=>{"use strict";var n=r(3062),i=r(8173),s=r(5517),a=n(Function.toString);i(s.inspectSource)||(s.inspectSource=function(t){return a(t)}),t.exports=s.inspectSource},6001:(t,e,r)=>{"use strict";var n=r(9693),i=r(1384);t.exports=function(t,e){n(e)&&"cause"in e&&i(t,"cause",e.cause)}},2417:(t,e,r)=>{"use strict";var n,i,s,a=r(3721),o=r(1848),u=r(9693),c=r(1384),h=r(1551),f=r(5517),d=r(5612),_=r(7051),E="Object already initialized",l=o.TypeError,p=o.WeakMap;if(a||f.state){var A=f.state||(f.state=new p);A.get=A.get,A.has=A.has,A.set=A.set,n=function(t,e){if(A.has(t))throw new l(E);return e.facade=t,A.set(t,e),e},i=function(t){return A.get(t)||{}},s=function(t){return A.has(t)}}else{var v=d("state");_[v]=!0,n=function(t,e){if(h(t,v))throw new l(E);return e.facade=t,c(t,v,e),e},i=function(t){return h(t,v)?t[v]:{}},s=function(t){return h(t,v)}}t.exports={set:n,get:i,has:s,enforce:function(t){return s(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw new l("Incompatible receiver, "+t+" required");return r}}}},9345:(t,e,r)=>{"use strict";var n=r(6387),i=r(7343),s=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[s]===t)}},4288:(t,e,r)=>{"use strict";var n=r(6892);t.exports=Array.isArray||function(t){return"Array"===n(t)}},4107:(t,e,r)=>{"use strict";var n=r(1465);t.exports=function(t){var e=n(t);return"BigInt64Array"===e||"BigUint64Array"===e}},8173:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4524:(t,e,r)=>{"use strict";var n=r(3062),i=r(8462),s=r(8173),a=r(1465),o=r(9406),u=r(5239),c=function(){},h=o("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=n(f.exec),_=!f.test(c),E=function(t){if(!s(t))return!1;try{return h(c,[],t),!0}catch(t){return!1}},l=function(t){if(!s(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return _||!!d(f,u(t))}catch(t){return!0}};l.sham=!0,t.exports=!h||i((function(){var t;return E(E.call)||!E(Object)||!E((function(){t=!0}))||t}))?l:E},6124:(t,e,r)=>{"use strict";var n=r(8462),i=r(8173),s=/#|\.prototype\./,a=function(t,e){var r=u[o(t)];return r===h||r!==c&&(i(e)?n(e):!!e)},o=a.normalize=function(t){return String(t).replace(s,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",h=a.POLYFILL="P";t.exports=a},1636:t=>{"use strict";t.exports=function(t){return null==t}},9693:(t,e,r)=>{"use strict";var n=r(8173);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},4977:(t,e,r)=>{"use strict";var n=r(9693);t.exports=function(t){return n(t)||null===t}},4151:t=>{"use strict";t.exports=!1},9525:(t,e,r)=>{"use strict";var n=r(9406),i=r(8173),s=r(6730),a=r(5363),o=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&s(e.prototype,o(t))}},9806:(t,e,r)=>{"use strict";var n=r(7609);t.exports=function(t,e,r){for(var i,s,a=r?t:t.iterator,o=t.next;!(i=n(o,a)).done;)if(void 0!==(s=e(i.value)))return s}},2201:(t,e,r)=>{"use strict";var n=r(2038),i=r(7609),s=r(6469),a=r(7420),o=r(9345),u=r(9110),c=r(6730),h=r(9072),f=r(2100),d=r(9273),_=TypeError,E=function(t,e){this.stopped=t,this.result=e},l=E.prototype;t.exports=function(t,e,r){var p,A,v,T,g,R,y,I=r&&r.that,S=!(!r||!r.AS_ENTRIES),m=!(!r||!r.IS_RECORD),N=!(!r||!r.IS_ITERATOR),b=!(!r||!r.INTERRUPTED),F=n(e,I),O=function(t){return p&&d(p,"normal",t),new E(!0,t)},x=function(t){return S?(s(t),b?F(t[0],t[1],O):F(t[0],t[1])):b?F(t,O):F(t)};if(m)p=t.iterator;else if(N)p=t;else{if(!(A=f(t)))throw new _(a(t)+" is not iterable");if(o(A)){for(v=0,T=u(t);T>v;v++)if((g=x(t[v]))&&c(l,g))return g;return new E(!1)}p=h(t,A)}for(R=m?t.next:p.next;!(y=i(R,p)).done;){try{g=x(y.value)}catch(t){d(p,"throw",t)}if("object"==typeof g&&g&&c(l,g))return g}return new E(!1)}},9273:(t,e,r)=>{"use strict";var n=r(7609),i=r(6469),s=r(3743);t.exports=function(t,e,r){var a,o;i(t);try{if(!(a=s(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(t){o=!0,a=t}if("throw"===e)throw r;if(o)throw a;return i(a),r}},2160:(t,e,r)=>{"use strict";var n=r(7609),i=r(9543),s=r(1384),a=r(8881),o=r(6387),u=r(2417),c=r(3743),h=r(7092).IteratorPrototype,f=r(9462),d=r(9273),_=o("toStringTag"),E="IteratorHelper",l="WrapForValidIterator",p=u.set,A=function(t){var e=u.getterFor(t?l:E);return a(i(h),{next:function(){var r=e(this);if(t)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return f(n,r.done)}catch(t){throw r.done=!0,t}},return:function(){var r=e(this),i=r.iterator;if(r.done=!0,t){var s=c(i,"return");return s?n(s,i):f(void 0,!0)}if(r.inner)try{d(r.inner.iterator,"normal")}catch(t){return d(i,"throw",t)}return d(i,"normal"),f(void 0,!0)}})},v=A(!0),T=A(!1);s(T,_,"Iterator Helper"),t.exports=function(t,e){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=e?l:E,n.nextHandler=t,n.counter=0,n.done=!1,p(this,n)};return r.prototype=e?v:T,r}},2563:(t,e,r)=>{"use strict";var n=r(7609),i=r(8117),s=r(6469),a=r(8986),o=r(2160),u=r(9832),c=o((function(){var t=this.iterator,e=s(n(this.next,t));if(!(this.done=!!e.done))return u(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return s(this),i(t),new c(a(this),{mapper:t})}},7092:(t,e,r)=>{"use strict";var n,i,s,a=r(8462),o=r(8173),u=r(9693),c=r(9543),h=r(4483),f=r(5953),d=r(6387),_=r(4151),E=d("iterator"),l=!1;[].keys&&("next"in(s=[].keys())?(i=h(h(s)))!==Object.prototype&&(n=i):l=!0),!u(n)||a((function(){var t={};return n[E].call(t)!==t}))?n={}:_&&(n=c(n)),o(n[E])||f(n,E,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:l}},7343:t=>{"use strict";t.exports={}},9110:(t,e,r)=>{"use strict";var n=r(4233);t.exports=function(t){return n(t.length)}},1704:(t,e,r)=>{"use strict";var n=r(3062),i=r(8462),s=r(8173),a=r(1551),o=r(1923),u=r(63).CONFIGURABLE,c=r(5239),h=r(2417),f=h.enforce,d=h.get,_=String,E=Object.defineProperty,l=n("".slice),p=n("".replace),A=n([].join),v=o&&!i((function(){return 8!==E((function(){}),"length",{value:8}).length})),T=String(String).split("String"),g=t.exports=function(t,e,r){"Symbol("===l(_(e),0,7)&&(e="["+p(_(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!a(t,"name")||u&&t.name!==e)&&(o?E(t,"name",{value:e,configurable:!0}):t.name=e),v&&r&&a(r,"arity")&&t.length!==r.arity&&E(t,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?o&&E(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=f(t);return a(n,"source")||(n.source=A(T,"string"==typeof e?e:"")),t};Function.prototype.toString=g((function(){return s(this)&&d(this).source||c(this)}),"toString")},7741:(t,e,r)=>{"use strict";var n=r(3062),i=Map.prototype;t.exports={Map:Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},9344:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},5684:(t,e,r)=>{"use strict";var n,i,s,a,o,u=r(1848),c=r(5512),h=r(2038),f=r(4320).set,d=r(5141),_=r(9823),E=r(9788),l=r(2027),p=r(2409),A=u.MutationObserver||u.WebKitMutationObserver,v=u.document,T=u.process,g=u.Promise,R=c("queueMicrotask");if(!R){var y=new d,I=function(){var t,e;for(p&&(t=T.domain)&&t.exit();e=y.get();)try{e()}catch(t){throw y.head&&n(),t}t&&t.enter()};_||p||l||!A||!v?!E&&g&&g.resolve?((a=g.resolve(void 0)).constructor=g,o=h(a.then,a),n=function(){o(I)}):p?n=function(){T.nextTick(I)}:(f=h(f,u),n=function(){f(I)}):(i=!0,s=v.createTextNode(""),new A(I).observe(s,{characterData:!0}),n=function(){s.data=i=!i}),R=function(t){y.head||n(),y.add(t)}}t.exports=R},8326:(t,e,r)=>{"use strict";var n=r(8117),i=TypeError,s=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw new i("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new s(t)}},9766:(t,e,r)=>{"use strict";var n=r(5774);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},8428:t=>{"use strict";var e=RangeError;t.exports=function(t){if(t==t)return t;throw new e("NaN is not allowed")}},9543:(t,e,r)=>{"use strict";var n,i=r(6469),s=r(1981),a=r(7094),o=r(7051),u=r(2241),c=r(4446),h=r(5612),f="prototype",d="script",_=h("IE_PROTO"),E=function(){},l=function(t){return"<"+d+">"+t+"</"+d+">"},p=function(t){t.write(l("")),t.close();var e=t.parentWindow.Object;return t=null,e},A=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;A="undefined"!=typeof document?document.domain&&n?p(n):(e=c("iframe"),r="java"+d+":",e.style.display="none",u.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(l("document.F=Object")),t.close(),t.F):p(n);for(var i=a.length;i--;)delete A[f][a[i]];return A()};o[_]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(E[f]=i(t),r=new E,E[f]=null,r[_]=t):r=A(),void 0===e?r:s.f(r,e)}},1981:(t,e,r)=>{"use strict";var n=r(1923),i=r(2552),s=r(615),a=r(6469),o=r(8632),u=r(5923);e.f=n&&!i?Object.defineProperties:function(t,e){a(t);for(var r,n=o(e),i=u(e),c=i.length,h=0;c>h;)s.f(t,r=i[h++],n[r]);return t}},615:(t,e,r)=>{"use strict";var n=r(1923),i=r(1881),s=r(2552),a=r(6469),o=r(7445),u=TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",_="writable";e.f=n?s?function(t,e,r){if(a(t),e=o(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&_ in r&&!r[_]){var n=h(t,e);n&&n[_]&&(t[e]=r.value,r={configurable:d in r?r[d]:n[d],enumerable:f in r?r[f]:n[f],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(a(t),e=o(e),a(r),i)try{return c(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},5983:(t,e,r)=>{"use strict";var n=r(1923),i=r(7609),s=r(6146),a=r(4127),o=r(8632),u=r(7445),c=r(1551),h=r(1881),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=o(t),e=u(e),h)try{return f(t,e)}catch(t){}if(c(t,e))return a(!i(s.f,t,e),t[e])}},1010:(t,e,r)=>{"use strict";var n=r(6866),i=r(7094).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},436:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},4483:(t,e,r)=>{"use strict";var n=r(1551),i=r(8173),s=r(3659),a=r(5612),o=r(7712),u=a("IE_PROTO"),c=Object,h=c.prototype;t.exports=o?c.getPrototypeOf:function(t){var e=s(t);if(n(e,u))return e[u];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof c?h:null}},6730:(t,e,r)=>{"use strict";var n=r(3062);t.exports=n({}.isPrototypeOf)},6866:(t,e,r)=>{"use strict";var n=r(3062),i=r(1551),s=r(8632),a=r(4158).indexOf,o=r(7051),u=n([].push);t.exports=function(t,e){var r,n=s(t),c=0,h=[];for(r in n)!i(o,r)&&i(n,r)&&u(h,r);for(;e.length>c;)i(n,r=e[c++])&&(~a(h,r)||u(h,r));return h}},5923:(t,e,r)=>{"use strict";var n=r(6866),i=r(7094);t.exports=Object.keys||function(t){return n(t,i)}},6146:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},5273:(t,e,r)=>{"use strict";var n=r(252),i=r(9693),s=r(170),a=r(8924);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return s(r),a(n),i(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0)},3613:(t,e,r)=>{"use strict";var n=r(7609),i=r(8173),s=r(9693),a=TypeError;t.exports=function(t,e){var r,o;if("string"===e&&i(r=t.toString)&&!s(o=n(r,t)))return o;if(i(r=t.valueOf)&&!s(o=n(r,t)))return o;if("string"!==e&&i(r=t.toString)&&!s(o=n(r,t)))return o;throw new a("Can't convert object to primitive value")}},3349:(t,e,r)=>{"use strict";var n=r(9406),i=r(3062),s=r(1010),a=r(436),o=r(6469),u=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=s.f(o(t)),r=a.f;return r?u(e,r(t)):e}},3448:(t,e,r)=>{"use strict";var n=r(1848);t.exports=n},1689:t=>{"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},1495:(t,e,r)=>{"use strict";var n=r(1848),i=r(4243),s=r(8173),a=r(6124),o=r(5239),u=r(6387),c=r(1558),h=r(4151),f=r(9255),d=i&&i.prototype,_=u("species"),E=!1,l=s(n.PromiseRejectionEvent),p=a("Promise",(function(){var t=o(i),e=t!==String(i);if(!e&&66===f)return!0;if(h&&(!d.catch||!d.finally))return!0;if(!f||f<51||!/native code/.test(t)){var r=new i((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[_]=n,!(E=r.then((function(){}))instanceof n))return!0}return!(e||"BROWSER"!==c&&"DENO"!==c||l)}));t.exports={CONSTRUCTOR:p,REJECTION_EVENT:l,SUBCLASSING:E}},4243:(t,e,r)=>{"use strict";var n=r(1848);t.exports=n.Promise},1128:(t,e,r)=>{"use strict";var n=r(6469),i=r(9693),s=r(8326);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=s.f(t);return(0,r.resolve)(e),r.promise}},7019:(t,e,r)=>{"use strict";var n=r(4243),i=r(4912),s=r(1495).CONSTRUCTOR;t.exports=s||!i((function(t){n.all(t).then(void 0,(function(){}))}))},4279:(t,e,r)=>{"use strict";var n=r(615).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},5141:t=>{"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},7834:(t,e,r)=>{"use strict";var n=r(6469);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},170:(t,e,r)=>{"use strict";var n=r(1636),i=TypeError;t.exports=function(t){if(n(t))throw new i("Can't call method on "+t);return t}},5512:(t,e,r)=>{"use strict";var n=r(1848),i=r(1923),s=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!i)return n[t];var e=s(n,t);return e&&e.value}},929:(t,e,r)=>{"use strict";var n=r(3840),i=r(2745),s=n.Set,a=n.add;t.exports=function(t){var e=new s;return i(t,(function(t){a(e,t)})),e}},9864:(t,e,r)=>{"use strict";var n=r(6016),i=r(3840),s=r(929),a=r(5179),o=r(1998),u=r(2745),c=r(9806),h=i.has,f=i.remove;t.exports=function(t){var e=n(this),r=o(t),i=s(e);return a(e)<=r.size?u(e,(function(t){r.includes(t)&&f(i,t)})):c(r.getIterator(),(function(t){h(e,t)&&f(i,t)})),i}},3840:(t,e,r)=>{"use strict";var n=r(3062),i=Set.prototype;t.exports={Set:Set,add:n(i.add),has:n(i.has),remove:n(i.delete),proto:i}},374:(t,e,r)=>{"use strict";var n=r(6016),i=r(3840),s=r(5179),a=r(1998),o=r(2745),u=r(9806),c=i.Set,h=i.add,f=i.has;t.exports=function(t){var e=n(this),r=a(t),i=new c;return s(e)>r.size?u(r.getIterator(),(function(t){f(e,t)&&h(i,t)})):o(e,(function(t){r.includes(t)&&h(i,t)})),i}},7735:(t,e,r)=>{"use strict";var n=r(6016),i=r(3840).has,s=r(5179),a=r(1998),o=r(2745),u=r(9806),c=r(9273);t.exports=function(t){var e=n(this),r=a(t);if(s(e)<=r.size)return!1!==o(e,(function(t){if(r.includes(t))return!1}),!0);var h=r.getIterator();return!1!==u(h,(function(t){if(i(e,t))return c(h,"normal",!1)}))}},6274:(t,e,r)=>{"use strict";var n=r(6016),i=r(5179),s=r(2745),a=r(1998);t.exports=function(t){var e=n(this),r=a(t);return!(i(e)>r.size)&&!1!==s(e,(function(t){if(!r.includes(t))return!1}),!0)}},9749:(t,e,r)=>{"use strict";var n=r(6016),i=r(3840).has,s=r(5179),a=r(1998),o=r(9806),u=r(9273);t.exports=function(t){var e=n(this),r=a(t);if(s(e)<r.size)return!1;var c=r.getIterator();return!1!==o(c,(function(t){if(!i(e,t))return u(c,"normal",!1)}))}},2745:(t,e,r)=>{"use strict";var n=r(3062),i=r(9806),s=r(3840),a=s.Set,o=s.proto,u=n(o.forEach),c=n(o.keys),h=c(new a).next;t.exports=function(t,e,r){return r?i({iterator:c(t),next:h},e):u(t,e)}},4435:(t,e,r)=>{"use strict";var n=r(9406),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var e=n("Set");try{(new e)[t](i(0));try{return(new e)[t](i(-1)),!1}catch(t){return!0}}catch(t){return!1}}},5179:(t,e,r)=>{"use strict";var n=r(252),i=r(3840);t.exports=n(i.proto,"size","get")||function(t){return t.size}},5539:(t,e,r)=>{"use strict";var n=r(9406),i=r(6248),s=r(6387),a=r(1923),o=s("species");t.exports=function(t){var e=n(t);a&&e&&!e[o]&&i(e,o,{configurable:!0,get:function(){return this}})}},3285:(t,e,r)=>{"use strict";var n=r(6016),i=r(3840),s=r(929),a=r(1998),o=r(9806),u=i.add,c=i.has,h=i.remove;t.exports=function(t){var e=n(this),r=a(t).getIterator(),i=s(e);return o(r,(function(t){c(e,t)?h(i,t):u(i,t)})),i}},6988:(t,e,r)=>{"use strict";var n=r(615).f,i=r(1551),s=r(6387)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!i(t,s)&&n(t,s,{configurable:!0,value:e})}},2394:(t,e,r)=>{"use strict";var n=r(6016),i=r(3840).add,s=r(929),a=r(1998),o=r(9806);t.exports=function(t){var e=n(this),r=a(t).getIterator(),u=s(e);return o(r,(function(t){i(u,t)})),u}},5612:(t,e,r)=>{"use strict";var n=r(6231),i=r(4229),s=n("keys");t.exports=function(t){return s[t]||(s[t]=i(t))}},5517:(t,e,r)=>{"use strict";var n=r(4151),i=r(1848),s=r(3958),a="__core-js_shared__",o=t.exports=i[a]||s(a,{});(o.versions||(o.versions=[])).push({version:"3.38.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6231:(t,e,r)=>{"use strict";var n=r(5517);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},9675:(t,e,r)=>{"use strict";var n=r(6469),i=r(6270),s=r(1636),a=r(6387)("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||s(r=n(o)[a])?e:i(r)}},444:(t,e,r)=>{"use strict";var n=r(9255),i=r(8462),s=r(1848).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4320:(t,e,r)=>{"use strict";var n,i,s,a,o=r(1848),u=r(3178),c=r(2038),h=r(8173),f=r(1551),d=r(8462),_=r(2241),E=r(7706),l=r(4446),p=r(4315),A=r(9823),v=r(2409),T=o.setImmediate,g=o.clearImmediate,R=o.process,y=o.Dispatch,I=o.Function,S=o.MessageChannel,m=o.String,N=0,b={},F="onreadystatechange";d((function(){n=o.location}));var O=function(t){if(f(b,t)){var e=b[t];delete b[t],e()}},x=function(t){return function(){O(t)}},C=function(t){O(t.data)},L=function(t){o.postMessage(m(t),n.protocol+"//"+n.host)};T&&g||(T=function(t){p(arguments.length,1);var e=h(t)?t:I(t),r=E(arguments,1);return b[++N]=function(){u(e,void 0,r)},i(N),N},g=function(t){delete b[t]},v?i=function(t){R.nextTick(x(t))}:y&&y.now?i=function(t){y.now(x(t))}:S&&!A?(a=(s=new S).port2,s.port1.onmessage=C,i=c(a.postMessage,a)):o.addEventListener&&h(o.postMessage)&&!o.importScripts&&n&&"file:"!==n.protocol&&!d(L)?(i=L,o.addEventListener("message",C,!1)):i=F in l("script")?function(t){_.appendChild(l("script"))[F]=function(){_.removeChild(this),O(t)}}:function(t){setTimeout(x(t),0)}),t.exports={set:T,clear:g}},3663:(t,e,r)=>{"use strict";var n=r(6521),i=Math.max,s=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):s(r,e)}},3442:(t,e,r)=>{"use strict";var n=r(5124),i=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw new i("Can't convert number to bigint");return BigInt(e)}},8632:(t,e,r)=>{"use strict";var n=r(2832),i=r(170);t.exports=function(t){return n(i(t))}},6521:(t,e,r)=>{"use strict";var n=r(9344);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},4233:(t,e,r)=>{"use strict";var n=r(6521),i=Math.min;t.exports=function(t){var e=n(t);return e>0?i(e,9007199254740991):0}},3659:(t,e,r)=>{"use strict";var n=r(170),i=Object;t.exports=function(t){return i(n(t))}},815:(t,e,r)=>{"use strict";var n=r(3657),i=RangeError;t.exports=function(t,e){var r=n(t);if(r%e)throw new i("Wrong offset");return r}},3657:(t,e,r)=>{"use strict";var n=r(6521),i=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw new i("The argument can't be less than 0");return e}},5124:(t,e,r)=>{"use strict";var n=r(7609),i=r(9693),s=r(9525),a=r(3743),o=r(3613),u=r(6387),c=TypeError,h=u("toPrimitive");t.exports=function(t,e){if(!i(t)||s(t))return t;var r,u=a(t,h);if(u){if(void 0===e&&(e="default"),r=n(u,t,e),!i(r)||s(r))return r;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},7445:(t,e,r)=>{"use strict";var n=r(5124),i=r(9525);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},1326:(t,e,r)=>{"use strict";var n={};n[r(6387)("toStringTag")]="z",t.exports="[object z]"===String(n)},5774:(t,e,r)=>{"use strict";var n=r(1465),i=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},7420:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},4229:(t,e,r)=>{"use strict";var n=r(3062),i=0,s=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+s,36)}},5363:(t,e,r)=>{"use strict";var n=r(444);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2552:(t,e,r)=>{"use strict";var n=r(1923),i=r(8462);t.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4315:t=>{"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},3721:(t,e,r)=>{"use strict";var n=r(1848),i=r(8173),s=n.WeakMap;t.exports=i(s)&&/native code/.test(String(s))},6220:(t,e,r)=>{"use strict";var n=r(3448),i=r(1551),s=r(294),a=r(615).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:s.f(t)})}},294:(t,e,r)=>{"use strict";var n=r(6387);e.f=n},6387:(t,e,r)=>{"use strict";var n=r(1848),i=r(6231),s=r(1551),a=r(4229),o=r(444),u=r(5363),c=n.Symbol,h=i("wks"),f=u?c.for||c:c&&c.withoutSetter||a;t.exports=function(t){return s(h,t)||(h[t]=o&&s(c,t)?c[t]:f("Symbol."+t)),h[t]}},3649:(t,e,r)=>{"use strict";var n=r(9406),i=r(1551),s=r(1384),a=r(6730),o=r(5273),u=r(744),c=r(4279),h=r(6339),f=r(9766),d=r(6001),_=r(2519),E=r(1923),l=r(4151);t.exports=function(t,e,r,p){var A="stackTraceLimit",v=p?2:1,T=t.split("."),g=T[T.length-1],R=n.apply(null,T);if(R){var y=R.prototype;if(!l&&i(y,"cause")&&delete y.cause,!r)return R;var I=n("Error"),S=e((function(t,e){var r=f(p?e:t,void 0),n=p?new R(t):new R;return void 0!==r&&s(n,"message",r),_(n,S,n.stack,2),this&&a(y,this)&&h(n,this,S),arguments.length>v&&d(n,arguments[v]),n}));if(S.prototype=y,"Error"!==g?o?o(S,I):u(S,I,{name:!0}):E&&A in R&&(c(S,R,A),c(S,R,"prepareStackTrace")),u(S,R),!l)try{y.name!==g&&s(y,"name",g),y.constructor=S}catch(t){}return S}}},7311:(t,e,r)=>{"use strict";var n=r(4395),i=r(9406),s=r(3178),a=r(8462),o=r(3649),u="AggregateError",c=i(u),h=!a((function(){return 1!==c([1]).errors[0]}))&&a((function(){return 7!==c([1],u,{cause:7}).cause}));n({global:!0,constructor:!0,arity:2,forced:h},{AggregateError:o(u,(function(t){return function(e,r){return s(t,this,arguments)}}),h,!0)})},4240:(t,e,r)=>{"use strict";var n=r(4395),i=r(3659),s=r(9110),a=r(6521),o=r(2890);n({target:"Array",proto:!0},{at:function(t){var e=i(this),r=s(e),n=a(t),o=n>=0?n:r+n;return o<0||o>=r?void 0:e[o]}}),o("at")},3509:(t,e,r)=>{"use strict";var n=r(4395),i=r(2008).findLastIndex,s=r(2890);n({target:"Array",proto:!0},{findLastIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("findLastIndex")},7119:(t,e,r)=>{"use strict";var n=r(4395),i=r(2008).findLast,s=r(2890);n({target:"Array",proto:!0},{findLast:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("findLast")},2004:(t,e,r)=>{"use strict";var n=r(4395),i=r(3659),s=r(9110),a=r(7826),o=r(8475);n({target:"Array",proto:!0,arity:1,forced:r(8462)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=i(this),r=s(e),n=arguments.length;o(r+n);for(var u=0;u<n;u++)e[r]=arguments[u],r++;return a(e,r),r}})},7855:(t,e,r)=>{"use strict";var n=r(4395),i=r(459),s=r(8632),a=r(2890),o=Array;n({target:"Array",proto:!0},{toReversed:function(){return i(s(this),o)}}),a("toReversed")},2665:(t,e,r)=>{"use strict";var n=r(4395),i=r(3062),s=r(8117),a=r(8632),o=r(2239),u=r(8168),c=r(2890),h=Array,f=i(u("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(t){void 0!==t&&s(t);var e=a(this),r=o(h,e);return f(r,t)}}),c("toSorted")},9772:(t,e,r)=>{"use strict";var n=r(4395),i=r(2890),s=r(8475),a=r(9110),o=r(3663),u=r(8632),c=r(6521),h=Array,f=Math.max,d=Math.min;n({target:"Array",proto:!0},{toSpliced:function(t,e){var r,n,i,_,E=u(this),l=a(E),p=o(t,l),A=arguments.length,v=0;for(0===A?r=n=0:1===A?(r=0,n=l-p):(r=A-2,n=d(f(c(e),0),l-p)),i=s(l+r-n),_=h(i);v<p;v++)_[v]=E[v];for(;v<p+r;v++)_[v]=arguments[v-p+2];for(;v<i;v++)_[v]=E[v+n-r];return _}}),i("toSpliced")},8971:(t,e,r)=>{"use strict";var n=r(4395),i=r(3659),s=r(9110),a=r(7826),o=r(5588),u=r(8475);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}()},{unshift:function(t){var e=i(this),r=s(e),n=arguments.length;if(n){u(r+n);for(var c=r;c--;){var h=c+n;c in e?e[h]=e[c]:o(e,h)}for(var f=0;f<n;f++)e[f]=arguments[f]}return a(e,r+n)}})},8135:(t,e,r)=>{"use strict";var n=r(4395),i=r(1403),s=r(8632),a=Array;n({target:"Array",proto:!0},{with:function(t,e){return i(s(this),a,t,e)}})},1474:(t,e,r)=>{"use strict";var n=r(4395),i=r(1848),s=r(3178),a=r(3649),o="WebAssembly",u=i[o],c=7!==new Error("e",{cause:7}).cause,h=function(t,e){var r={};r[t]=a(t,e,c),n({global:!0,constructor:!0,arity:1,forced:c},r)},f=function(t,e){if(u&&u[t]){var r={};r[t]=a(o+"."+t,e,c),n({target:o,stat:!0,constructor:!0,arity:1,forced:c},r)}};h("Error",(function(t){return function(e){return s(t,this,arguments)}})),h("EvalError",(function(t){return function(e){return s(t,this,arguments)}})),h("RangeError",(function(t){return function(e){return s(t,this,arguments)}})),h("ReferenceError",(function(t){return function(e){return s(t,this,arguments)}})),h("SyntaxError",(function(t){return function(e){return s(t,this,arguments)}})),h("TypeError",(function(t){return function(e){return s(t,this,arguments)}})),h("URIError",(function(t){return function(e){return s(t,this,arguments)}})),f("CompileError",(function(t){return function(e){return s(t,this,arguments)}})),f("LinkError",(function(t){return function(e){return s(t,this,arguments)}})),f("RuntimeError",(function(t){return function(e){return s(t,this,arguments)}}))},8140:(t,e,r)=>{"use strict";r(4395)({target:"Object",stat:!0},{hasOwn:r(1551)})},5164:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(8117),a=r(8326),o=r(1689),u=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{allSettled:function(t){var e=this,r=a.f(e),n=r.resolve,c=r.reject,h=o((function(){var r=s(e.resolve),a=[],o=0,c=1;u(t,(function(t){var s=o++,u=!1;c++,i(r,e,t).then((function(t){u||(u=!0,a[s]={status:"fulfilled",value:t},--c||n(a))}),(function(t){u||(u=!0,a[s]={status:"rejected",reason:t},--c||n(a))}))})),--c||n(a)}));return h.error&&c(h.value),r.promise}})},4125:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(8117),a=r(8326),o=r(1689),u=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{all:function(t){var e=this,r=a.f(e),n=r.resolve,c=r.reject,h=o((function(){var r=s(e.resolve),a=[],o=0,h=1;u(t,(function(t){var s=o++,u=!1;h++,i(r,e,t).then((function(t){u||(u=!0,a[s]=t,--h||n(a))}),c)})),--h||n(a)}));return h.error&&c(h.value),r.promise}})},6406:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(8117),a=r(9406),o=r(8326),u=r(1689),c=r(2201),h=r(7019),f="No one promise resolved";n({target:"Promise",stat:!0,forced:h},{any:function(t){var e=this,r=a("AggregateError"),n=o.f(e),h=n.resolve,d=n.reject,_=u((function(){var n=s(e.resolve),a=[],o=0,u=1,_=!1;c(t,(function(t){var s=o++,c=!1;u++,i(n,e,t).then((function(t){c||_||(_=!0,h(t))}),(function(t){c||_||(c=!0,a[s]=t,--u||d(new r(a,f)))}))})),--u||d(new r(a,f))}));return _.error&&d(_.value),n.promise}})},8525:(t,e,r)=>{"use strict";var n=r(4395),i=r(4151),s=r(1495).CONSTRUCTOR,a=r(4243),o=r(9406),u=r(8173),c=r(5953),h=a&&a.prototype;if(n({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&u(a)){var f=o("Promise").prototype.catch;h.catch!==f&&c(h,"catch",f,{unsafe:!0})}},1382:(t,e,r)=>{"use strict";var n,i,s,a=r(4395),o=r(4151),u=r(2409),c=r(1848),h=r(7609),f=r(5953),d=r(5273),_=r(6988),E=r(5539),l=r(8117),p=r(8173),A=r(9693),v=r(1747),T=r(9675),g=r(4320).set,R=r(5684),y=r(2157),I=r(1689),S=r(5141),m=r(2417),N=r(4243),b=r(1495),F=r(8326),O="Promise",x=b.CONSTRUCTOR,C=b.REJECTION_EVENT,L=b.SUBCLASSING,B=m.getterFor(O),w=m.set,M=N&&N.prototype,U=N,P=M,D=c.TypeError,G=c.document,X=c.process,k=F.f,H=k,j=!!(G&&G.createEvent&&c.dispatchEvent),W="unhandledrejection",V=function(t){var e;return!(!A(t)||!p(e=t.then))&&e},Y=function(t,e){var r,n,i,s=e.value,a=1===e.state,o=a?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{o?(a||(2===e.rejection&&Z(e),e.rejection=1),!0===o?r=s:(f&&f.enter(),r=o(s),f&&(f.exit(),i=!0)),r===t.promise?c(new D("Promise-chain cycle")):(n=V(r))?h(n,r,u,c):u(r)):c(s)}catch(t){f&&!i&&f.exit(),c(t)}},K=function(t,e){t.notified||(t.notified=!0,R((function(){for(var r,n=t.reactions;r=n.get();)Y(r,t);t.notified=!1,e&&!t.rejection&&J(t)})))},z=function(t,e,r){var n,i;j?((n=G.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!C&&(i=c["on"+t])?i(n):t===W&&y("Unhandled promise rejection",r)},J=function(t){h(g,c,(function(){var e,r=t.facade,n=t.value;if($(t)&&(e=I((function(){u?X.emit("unhandledRejection",n,r):z(W,r,n)})),t.rejection=u||$(t)?2:1,e.error))throw e.value}))},$=function(t){return 1!==t.rejection&&!t.parent},Z=function(t){h(g,c,(function(){var e=t.facade;u?X.emit("rejectionHandled",e):z("rejectionhandled",e,t.value)}))},q=function(t,e,r){return function(n){t(e,n,r)}},Q=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,K(t,!0))},tt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new D("Promise can't be resolved itself");var n=V(e);n?R((function(){var r={done:!1};try{h(n,e,q(tt,r,t),q(Q,r,t))}catch(e){Q(r,e,t)}})):(t.value=e,t.state=1,K(t,!1))}catch(e){Q({done:!1},e,t)}}};if(x&&(P=(U=function(t){v(this,P),l(t),h(n,this);var e=B(this);try{t(q(tt,e),q(Q,e))}catch(t){Q(e,t)}}).prototype,(n=function(t){w(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:null})}).prototype=f(P,"then",(function(t,e){var r=B(this),n=k(T(this,U));return r.parent=!0,n.ok=!p(t)||t,n.fail=p(e)&&e,n.domain=u?X.domain:void 0,0===r.state?r.reactions.add(n):R((function(){Y(n,r)})),n.promise})),i=function(){var t=new n,e=B(t);this.promise=t,this.resolve=q(tt,e),this.reject=q(Q,e)},F.f=k=function(t){return t===U||undefined===t?new i(t):H(t)},!o&&p(N)&&M!==Object.prototype)){s=M.then,L||f(M,"then",(function(t,e){var r=this;return new U((function(t,e){h(s,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete M.constructor}catch(t){}d&&d(M,P)}a({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:U}),_(U,O,!1,!0),E(O)},1410:(t,e,r)=>{"use strict";var n=r(4395),i=r(4151),s=r(4243),a=r(8462),o=r(9406),u=r(8173),c=r(9675),h=r(1128),f=r(5953),d=s&&s.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!s&&a((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,o("Promise")),r=u(t);return this.then(r?function(r){return h(e,t()).then((function(){return r}))}:t,r?function(r){return h(e,t()).then((function(){throw r}))}:t)}}),!i&&u(s)){var _=o("Promise").prototype.finally;d.finally!==_&&f(d,"finally",_,{unsafe:!0})}},7788:(t,e,r)=>{"use strict";r(1382),r(4125),r(8525),r(4832),r(1050),r(2529)},4832:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(8117),a=r(8326),o=r(1689),u=r(2201);n({target:"Promise",stat:!0,forced:r(7019)},{race:function(t){var e=this,r=a.f(e),n=r.reject,c=o((function(){var a=s(e.resolve);u(t,(function(t){i(a,e,t).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},1050:(t,e,r)=>{"use strict";var n=r(4395),i=r(8326);n({target:"Promise",stat:!0,forced:r(1495).CONSTRUCTOR},{reject:function(t){var e=i.f(this);return(0,e.reject)(t),e.promise}})},2529:(t,e,r)=>{"use strict";var n=r(4395),i=r(9406),s=r(4151),a=r(4243),o=r(1495).CONSTRUCTOR,u=r(1128),c=i("Promise"),h=s&&!o;n({target:"Promise",stat:!0,forced:s||o},{resolve:function(t){return u(h&&this===c?a:this,t)}})},7638:(t,e,r)=>{"use strict";var n=r(1848),i=r(1923),s=r(6248),a=r(7834),o=r(8462),u=n.RegExp,c=u.prototype;i&&o((function(){var t=!0;try{u(".","d")}catch(e){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",i=function(t,n){Object.defineProperty(e,t,{get:function(){return r+=n,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in t&&(s.hasIndices="d"),s)i(a,s[a]);return Object.getOwnPropertyDescriptor(c,"flags").get.call(e)!==n||r!==n}))&&s(c,"flags",{configurable:!0,get:a})},9983:(t,e,r)=>{"use strict";var n=r(4395),i=r(9864);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("difference")},{difference:i})},6276:(t,e,r)=>{"use strict";var n=r(4395),i=r(8462),s=r(374);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:s})},9297:(t,e,r)=>{"use strict";var n=r(4395),i=r(7735);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isDisjointFrom")},{isDisjointFrom:i})},6816:(t,e,r)=>{"use strict";var n=r(4395),i=r(6274);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSubsetOf")},{isSubsetOf:i})},6756:(t,e,r)=>{"use strict";var n=r(4395),i=r(9749);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("isSupersetOf")},{isSupersetOf:i})},960:(t,e,r)=>{"use strict";var n=r(4395),i=r(3285);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("symmetricDifference")},{symmetricDifference:i})},9301:(t,e,r)=>{"use strict";var n=r(4395),i=r(2394);n({target:"Set",proto:!0,real:!0,forced:!r(4435)("union")},{union:i})},6303:(t,e,r)=>{"use strict";var n=r(4395),i=r(3062),s=r(170),a=r(6521),o=r(5774),u=r(8462),c=i("".charAt);n({target:"String",proto:!0,forced:u((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(t){var e=o(s(this)),r=e.length,n=a(t),i=n>=0?n:r+n;return i<0||i>=r?void 0:c(e,i)}})},1516:(t,e,r)=>{"use strict";var n=r(4395),i=r(3062),s=r(170),a=r(5774),o=i("".charCodeAt);n({target:"String",proto:!0},{isWellFormed:function(){for(var t=a(s(this)),e=t.length,r=0;r<e;r++){var n=o(t,r);if(55296==(63488&n)&&(n>=56320||++r>=e||56320!=(64512&o(t,r))))return!1}return!0}})},705:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(3062),a=r(170),o=r(5774),u=r(8462),c=Array,h=s("".charAt),f=s("".charCodeAt),d=s([].join),_="".toWellFormed,E=_&&u((function(){return"1"!==i(_,1)}));n({target:"String",proto:!0,forced:E},{toWellFormed:function(){var t=o(a(this));if(E)return i(_,t);for(var e=t.length,r=c(e),n=0;n<e;n++){var s=f(t,n);55296!=(63488&s)?r[n]=h(t,n):s>=56320||n+1>=e||56320!=(64512&f(t,n+1))?r[n]="�":(r[n]=h(t,n),r[++n]=h(t,n))}return d(r,"")}})},1825:(t,e,r)=>{"use strict";var n=r(1759),i=r(9110),s=r(6521),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(t){var e=a(this),r=i(e),n=s(t),o=n>=0?n:r+n;return o<0||o>=r?void 0:e[o]}))},2220:(t,e,r)=>{"use strict";var n=r(1759),i=r(1180),s=r(3442),a=r(1465),o=r(7609),u=r(3062),c=r(8462),h=n.aTypedArray,f=n.exportTypedArrayMethod,d=u("".slice);f("fill",(function(t){var e=arguments.length;h(this);var r="Big"===d(a(this),0,3)?s(t):+t;return o(i,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),c((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})))},4774:(t,e,r)=>{"use strict";var n=r(1759),i=r(2008).findLastIndex,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},1519:(t,e,r)=>{"use strict";var n=r(1759),i=r(2008).findLast,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0)}))},1520:(t,e,r)=>{"use strict";var n=r(1848),i=r(7609),s=r(1759),a=r(9110),o=r(815),u=r(3659),c=r(8462),h=n.RangeError,f=n.Int8Array,d=f&&f.prototype,_=d&&d.set,E=s.aTypedArray,l=s.exportTypedArrayMethod,p=!c((function(){var t=new Uint8ClampedArray(2);return i(_,t,{length:1,0:3},1),3!==t[1]})),A=p&&s.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new f(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));l("set",(function(t){E(this);var e=o(arguments.length>1?arguments[1]:void 0,1),r=u(t);if(p)return i(_,this,r,e);var n=this.length,s=a(r),c=0;if(s+e>n)throw new h("Wrong length");for(;c<s;)this[e+c]=r[c++]}),!p||A)},2663:(t,e,r)=>{"use strict";var n=r(1848),i=r(1992),s=r(8462),a=r(8117),o=r(9070),u=r(1759),c=r(9257),h=r(1466),f=r(9255),d=r(8560),_=u.aTypedArray,E=u.exportTypedArrayMethod,l=n.Uint16Array,p=l&&i(l.prototype.sort),A=!(!p||s((function(){p(new l(2),null)}))&&s((function(){p(new l(2),{})}))),v=!!p&&!s((function(){if(f)return f<74;if(c)return c<67;if(h)return!0;if(d)return d<602;var t,e,r=new l(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(p(r,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));E("sort",(function(t){return void 0!==t&&a(t),v?p(this,t):o(_(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))}),!v||A)},8348:(t,e,r)=>{"use strict";var n=r(459),i=r(1759),s=i.aTypedArray,a=i.exportTypedArrayMethod,o=i.getTypedArrayConstructor;a("toReversed",(function(){return n(s(this),o(this))}))},3457:(t,e,r)=>{"use strict";var n=r(1759),i=r(3062),s=r(8117),a=r(2239),o=n.aTypedArray,u=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,h=i(n.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&s(t);var e=o(this),r=a(u(e),e);return h(r,t)}))},6939:(t,e,r)=>{"use strict";var n=r(1403),i=r(1759),s=r(4107),a=r(6521),o=r(3442),u=i.aTypedArray,c=i.getTypedArrayConstructor,h=i.exportTypedArrayMethod,f=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();h("with",{with:function(t,e){var r=u(this),i=a(t),h=s(r)?o(e):+e;return n(r,c(r),i,h)}}.with,!f)},5388:(t,e,r)=>{"use strict";r(4240)},1034:(t,e,r)=>{"use strict";r(3509)},5601:(t,e,r)=>{"use strict";r(7119)},5794:(t,e,r)=>{"use strict";var n=r(4395),i=r(4744),s=r(8462),a=Array.fromAsync;n({target:"Array",stat:!0,forced:!a||s((function(){var t=0;return a.call((function(){return t++,[]}),{length:0}),1!==t}))},{fromAsync:i})},1772:(t,e,r)=>{"use strict";var n=r(4395),i=r(7816),s=r(2890),a=r(3077);n({target:"Array",proto:!0,name:"groupToMap",forced:r(4151)||!i("groupByToMap")},{groupByToMap:a}),s("groupByToMap")},6384:(t,e,r)=>{"use strict";var n=r(4395),i=r(6747),s=r(7816),a=r(2890);n({target:"Array",proto:!0,forced:!s("groupBy")},{groupBy:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("groupBy")},2802:(t,e,r)=>{"use strict";var n=r(4395),i=r(2890),s=r(3077);n({target:"Array",proto:!0,forced:r(4151)},{groupToMap:s}),i("groupToMap")},2985:(t,e,r)=>{"use strict";var n=r(4395),i=r(6747),s=r(2890);n({target:"Array",proto:!0},{group:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("group")},69:(t,e,r)=>{"use strict";r(7855)},6750:(t,e,r)=>{"use strict";r(2665)},6062:(t,e,r)=>{"use strict";r(9772)},3131:(t,e,r)=>{"use strict";r(8135)},4752:(t,e,r)=>{"use strict";var n=r(4395),i=r(1747),s=r(4483),a=r(1384),o=r(1551),u=r(6387),c=r(2179),h=r(4151),f=u("toStringTag"),d=TypeError,_=function(){if(i(this,c),s(this)===c)throw new d("Abstract class AsyncIterator not directly constructable")};_.prototype=c,o(c,f)||a(c,f,"AsyncIterator"),!h&&o(c,"constructor")&&c.constructor!==Object||a(c,"constructor",_),n({global:!0,constructor:!0,forced:h},{AsyncIterator:_})},9435:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(6469),a=r(8986),o=r(8428),u=r(3657),c=r(9296),h=r(9462),f=r(4151),d=c((function(t){var e=this;return new t((function(r,n){var a=function(t){e.done=!0,n(t)},o=function(){try{t.resolve(s(i(e.next,e.iterator))).then((function(t){try{s(t).done?(e.done=!0,r(h(void 0,!0))):e.remaining?(e.remaining--,o()):r(h(t.value,!1))}catch(t){a(t)}}),a)}catch(t){a(t)}};o()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:f},{drop:function(t){s(this);var e=u(o(+t));return new d(a(this),{remaining:e})}})},2886:(t,e,r)=>{"use strict";var n=r(4395),i=r(7163).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return i(this,t)}})},1139:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(8117),a=r(6469),o=r(9693),u=r(8986),c=r(9296),h=r(9462),f=r(7897),d=r(4151),_=c((function(t){var e=this,r=e.iterator,n=e.predicate;return new t((function(s,u){var c=function(t){e.done=!0,u(t)},d=function(t){f(r,c,t,c)},_=function(){try{t.resolve(a(i(e.next,r))).then((function(r){try{if(a(r).done)e.done=!0,s(h(void 0,!0));else{var i=r.value;try{var u=n(i,e.counter++),f=function(t){t?s(h(i,!1)):_()};o(u)?t.resolve(u).then(f,d):f(u)}catch(t){d(t)}}}catch(t){c(t)}}),c)}catch(t){c(t)}};_()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:d},{filter:function(t){return a(this),s(t),new _(u(this),{predicate:t})}})},6108:(t,e,r)=>{"use strict";var n=r(4395),i=r(7163).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return i(this,t)}})},3115:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(8117),a=r(6469),o=r(9693),u=r(8986),c=r(9296),h=r(9462),f=r(1401),d=r(7897),_=r(4151),E=c((function(t){var e=this,r=e.iterator,n=e.mapper;return new t((function(s,u){var c=function(t){e.done=!0,u(t)},_=function(t){d(r,c,t,c)},E=function(){try{t.resolve(a(i(e.next,r))).then((function(r){try{if(a(r).done)e.done=!0,s(h(void 0,!0));else{var i=r.value;try{var u=n(i,e.counter++),d=function(t){try{e.inner=f(t),l()}catch(t){_(t)}};o(u)?t.resolve(u).then(d,_):d(u)}catch(t){_(t)}}}catch(t){c(t)}}),c)}catch(t){c(t)}},l=function(){var r=e.inner;if(r)try{t.resolve(a(i(r.next,r.iterator))).then((function(t){try{a(t).done?(e.inner=null,E()):s(h(t.value,!1))}catch(t){_(t)}}),_)}catch(t){_(t)}else E()};l()}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:_},{flatMap:function(t){return a(this),s(t),new E(u(this),{mapper:t,inner:null})}})},7389:(t,e,r)=>{"use strict";var n=r(4395),i=r(7163).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return i(this,t)}})},4085:(t,e,r)=>{"use strict";var n=r(4395),i=r(3659),s=r(6730),a=r(1401),o=r(2179),u=r(3525);n({target:"AsyncIterator",stat:!0,forced:r(4151)},{from:function(t){var e=a("string"==typeof t?i(t):t);return s(o,e.iterator)?e.iterator:new u(e)}})},2392:(t,e,r)=>{"use strict";var n=r(4395),i=r(7073);n({target:"AsyncIterator",proto:!0,real:!0,forced:r(4151)},{map:i})},2625:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(8117),a=r(6469),o=r(9693),u=r(9406),c=r(8986),h=r(7897),f=u("Promise"),d=TypeError;n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){a(this),s(t);var e=c(this),r=e.iterator,n=e.next,u=arguments.length<2,_=u?void 0:arguments[1],E=0;return new f((function(e,s){var c=function(t){h(r,s,t,s)},l=function(){try{f.resolve(a(i(n,r))).then((function(r){try{if(a(r).done)u?s(new d("Reduce of empty iterator with no initial value")):e(_);else{var n=r.value;if(u)u=!1,_=n,l();else try{var i=t(_,n,E),h=function(t){_=t,l()};o(i)?f.resolve(i).then(h,c):h(i)}catch(t){c(t)}}E++}catch(t){s(t)}}),s)}catch(t){s(t)}};l()}))}})},7740:(t,e,r)=>{"use strict";var n=r(4395),i=r(7163).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return i(this,t)}})},4342:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(6469),a=r(8986),o=r(8428),u=r(3657),c=r(9296),h=r(9462),f=r(4151),d=c((function(t){var e,r=this,n=r.iterator;if(!r.remaining--){var a=h(void 0,!0);return r.done=!0,void 0!==(e=n.return)?t.resolve(i(e,n,void 0)).then((function(){return a})):a}return t.resolve(i(r.next,n)).then((function(t){return s(t).done?(r.done=!0,h(void 0,!0)):h(t.value,!1)})).then(null,(function(t){throw r.done=!0,t}))}));n({target:"AsyncIterator",proto:!0,real:!0,forced:f},{take:function(t){s(this);var e=u(o(+t));return new d(a(this),{remaining:e})}})},2767:(t,e,r)=>{"use strict";var n=r(4395),i=r(7163).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return i(this,void 0,[])}})},585:(t,e,r)=>{"use strict";var n=r(4395),i=r(1923),s=r(9406),a=r(8117),o=r(1747),u=r(5953),c=r(8881),h=r(6248),f=r(6387),d=r(2417),_=r(7591),E=s("SuppressedError"),l=ReferenceError,p=f("dispose"),A=f("toStringTag"),v="DisposableStack",T=d.set,g=d.getterFor(v),R="sync-dispose",y="disposed",I=function(t){var e=g(t);if(e.state===y)throw new l(v+" already disposed");return e},S=function(){T(o(this,m),{type:v,state:"pending",stack:[]}),i||(this.disposed=!1)},m=S.prototype;c(m,{dispose:function(){var t=g(this);if(t.state!==y){t.state=y,i||(this.disposed=!0);for(var e,r=t.stack,n=r.length,s=!1;n;){var a=r[--n];r[n]=null;try{a()}catch(t){s?e=new E(t,e):(s=!0,e=t)}}if(t.stack=null,s)throw e}},use:function(t){return _(I(this),t,R),t},adopt:function(t,e){var r=I(this);return a(e),_(r,void 0,R,(function(){e(t)})),t},defer:function(t){var e=I(this);a(t),_(e,void 0,R,t)},move:function(){var t=I(this),e=new S;return g(e).stack=t.stack,t.stack=[],t.state=y,i||(this.disposed=!0),e}}),i&&h(m,"disposed",{configurable:!0,get:function(){return g(this).state===y}}),u(m,p,m.dispose,{name:"dispose"}),u(m,A,v,{nonWritable:!0}),n({global:!0,constructor:!0},{DisposableStack:S})},6508:(t,e,r)=>{"use strict";var n=r(4395),i=r(1848),s=r(1747),a=r(6469),o=r(8173),u=r(4483),c=r(6248),h=r(4676),f=r(8462),d=r(1551),_=r(6387),E=r(7092).IteratorPrototype,l=r(1923),p=r(4151),A="constructor",v="Iterator",T=_("toStringTag"),g=TypeError,R=i[v],y=p||!o(R)||R.prototype!==E||!f((function(){R({})})),I=function(){if(s(this,E),u(this)===E)throw new g("Abstract class Iterator not directly constructable")},S=function(t,e){l?c(E,t,{configurable:!0,get:function(){return e},set:function(e){if(a(this),this===E)throw new g("You can't redefine this property");d(this,t)?this[t]=e:h(this,t,e)}}):E[t]=e};d(E,T)||S(T,v),!y&&d(E,A)&&E[A]!==Object||S(A,I),I.prototype=E,n({global:!0,constructor:!0,forced:y},{Iterator:I})},7255:(t,e,r)=>{"use strict";var n=r(7609),i=r(5953),s=r(3743),a=r(1551),o=r(6387),u=r(7092).IteratorPrototype,c=o("dispose");a(u,c)||i(u,c,(function(){var t=s(this,"return");t&&n(t,this)}))},3086:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(6469),a=r(8986),o=r(8428),u=r(3657),c=r(2160),h=r(4151),f=c((function(){for(var t,e=this.iterator,r=this.next;this.remaining;)if(this.remaining--,t=s(i(r,e)),this.done=!!t.done)return;if(t=s(i(r,e)),!(this.done=!!t.done))return t.value}));n({target:"Iterator",proto:!0,real:!0,forced:h},{drop:function(t){s(this);var e=u(o(+t));return new f(a(this),{remaining:e})}})},7439:(t,e,r)=>{"use strict";var n=r(4395),i=r(2201),s=r(8117),a=r(6469),o=r(8986);n({target:"Iterator",proto:!0,real:!0},{every:function(t){a(this),s(t);var e=o(this),r=0;return!i(e,(function(e,n){if(!t(e,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1408:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(8117),a=r(6469),o=r(8986),u=r(2160),c=r(9832),h=r(4151),f=u((function(){for(var t,e,r=this.iterator,n=this.predicate,s=this.next;;){if(t=a(i(s,r)),this.done=!!t.done)return;if(e=t.value,c(r,n,[e,this.counter++],!0))return e}}));n({target:"Iterator",proto:!0,real:!0,forced:h},{filter:function(t){return a(this),s(t),new f(o(this),{predicate:t})}})},674:(t,e,r)=>{"use strict";var n=r(4395),i=r(2201),s=r(8117),a=r(6469),o=r(8986);n({target:"Iterator",proto:!0,real:!0},{find:function(t){a(this),s(t);var e=o(this),r=0;return i(e,(function(e,n){if(t(e,r++))return n(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7471:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(8117),a=r(6469),o=r(8986),u=r(8304),c=r(2160),h=r(9273),f=r(4151),d=c((function(){for(var t,e,r=this.iterator,n=this.mapper;;){if(e=this.inner)try{if(!(t=a(i(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){h(r,"throw",t)}if(t=a(i(this.next,r)),this.done=!!t.done)return;try{this.inner=u(n(t.value,this.counter++),!1)}catch(t){h(r,"throw",t)}}}));n({target:"Iterator",proto:!0,real:!0,forced:f},{flatMap:function(t){return a(this),s(t),new d(o(this),{mapper:t,inner:null})}})},9397:(t,e,r)=>{"use strict";var n=r(4395),i=r(2201),s=r(8117),a=r(6469),o=r(8986);n({target:"Iterator",proto:!0,real:!0},{forEach:function(t){a(this),s(t);var e=o(this),r=0;i(e,(function(e){t(e,r++)}),{IS_RECORD:!0})}})},2426:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(3659),a=r(6730),o=r(7092).IteratorPrototype,u=r(2160),c=r(8304),h=r(4151),f=u((function(){return i(this.next,this.iterator)}),!0);n({target:"Iterator",stat:!0,forced:h},{from:function(t){var e=c("string"==typeof t?s(t):t,!0);return a(o,e.iterator)?e.iterator:new f(e)}})},6806:(t,e,r)=>{"use strict";var n=r(4395),i=r(2563);n({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{map:i})},1978:(t,e,r)=>{"use strict";var n=r(4395),i=r(2201),s=r(8117),a=r(6469),o=r(8986),u=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(t){a(this),s(t);var e=o(this),r=arguments.length<2,n=r?void 0:arguments[1],c=0;if(i(e,(function(e){r?(r=!1,n=e):n=t(n,e,c),c++}),{IS_RECORD:!0}),r)throw new u("Reduce of empty iterator with no initial value");return n}})},8245:(t,e,r)=>{"use strict";var n=r(4395),i=r(2201),s=r(8117),a=r(6469),o=r(8986);n({target:"Iterator",proto:!0,real:!0},{some:function(t){a(this),s(t);var e=o(this),r=0;return i(e,(function(e,n){if(t(e,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7331:(t,e,r)=>{"use strict";var n=r(4395),i=r(7609),s=r(6469),a=r(8986),o=r(8428),u=r(3657),c=r(2160),h=r(9273),f=r(4151),d=c((function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,h(t,"normal",void 0);var e=s(i(this.next,t));return(this.done=!!e.done)?void 0:e.value}));n({target:"Iterator",proto:!0,real:!0,forced:f},{take:function(t){s(this);var e=u(o(+t));return new d(a(this),{remaining:e})}})},6496:(t,e,r)=>{"use strict";var n=r(4395),i=r(6469),s=r(2201),a=r(8986),o=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return s(a(i(this)),o,{that:t,IS_RECORD:!0}),t}})},1166:(t,e,r)=>{"use strict";var n=r(4395),i=r(6469),s=r(147),a=r(3525),o=r(8986);n({target:"Iterator",proto:!0,real:!0,forced:r(4151)},{toAsync:function(){return new a(o(new s(o(i(this)))))}})},2359:(t,e,r)=>{"use strict";r(8140)},7472:(t,e,r)=>{"use strict";r(9983)},7322:(t,e,r)=>{"use strict";r(6276)},6539:(t,e,r)=>{"use strict";r(9297)},8866:(t,e,r)=>{"use strict";r(6816)},9701:(t,e,r)=>{"use strict";r(6756)},5102:(t,e,r)=>{"use strict";r(960)},2373:(t,e,r)=>{"use strict";r(9301)},1853:(t,e,r)=>{"use strict";r(1516)},5030:(t,e,r)=>{"use strict";r(705)},8855:(t,e,r)=>{"use strict";var n=r(4395),i=r(1848),s=r(6730),a=r(4483),o=r(5273),u=r(744),c=r(9543),h=r(1384),f=r(4127),d=r(2519),_=r(9766),E=r(6387),l=r(8462),p=r(4151),A=i.SuppressedError,v=E("toStringTag"),T=Error,g=!!A&&3!==A.length,R=!!A&&l((function(){return 4===new A(1,2,3,{cause:4}).cause})),y=g||R,I=function(t,e,r){var n,i=s(S,this);return o?n=!y||i&&a(this)!==S?o(new T,i?a(this):S):new A:(n=i?this:c(S),h(n,v,"Error")),void 0!==r&&h(n,"message",_(r)),d(n,I,n.stack,1),h(n,"error",t),h(n,"suppressed",e),n};o?o(I,T):u(I,T,{name:!0});var S=I.prototype=y?A.prototype:c(T.prototype,{constructor:f(1,I),message:f(1,""),name:f(1,"SuppressedError")});y&&!p&&(S.constructor=I),n({global:!0,constructor:!0,arity:3,forced:y},{SuppressedError:I})},6845:(t,e,r)=>{"use strict";var n=r(1848),i=r(6220),s=r(615).f,a=r(5983).f,o=n.Symbol;if(i("dispose"),o){var u=a(o,"dispose");u.enumerable&&u.configurable&&u.writable&&s(o,"dispose",{value:u.value,enumerable:!1,configurable:!1,writable:!1})}},1085:(t,e,r)=>{"use strict";r(1825)},7594:(t,e,r)=>{"use strict";r(4774)},1374:(t,e,r)=>{"use strict";r(1519)},8471:(t,e,r)=>{"use strict";r(8348)},2539:(t,e,r)=>{"use strict";r(3457)},9235:(t,e,r)=>{"use strict";var n=r(1759),i=r(9110),s=r(4107),a=r(3663),o=r(3442),u=r(6521),c=r(8462),h=n.aTypedArray,f=n.getTypedArrayConstructor,d=n.exportTypedArrayMethod,_=Math.max,E=Math.min;d("toSpliced",(function(t,e){var r,n,c,d,l,p,A,v=h(this),T=f(v),g=i(v),R=a(t,g),y=arguments.length,I=0;if(0===y)r=n=0;else if(1===y)r=0,n=g-R;else if(n=E(_(u(e),0),g-R),r=y-2){d=new T(r),c=s(d);for(var S=2;S<y;S++)l=arguments[S],d[S-2]=c?o(l):+l}for(A=new T(p=g+r-n);I<R;I++)A[I]=v[I];for(;I<R+r;I++)A[I]=d[I-R];for(;I<p;I++)A[I]=v[I+n-r];return A}),!!c((function(){var t=new Int8Array([1]),e=t.toSpliced(1,0,{valueOf:function(){return t[0]=2,3}});return 2!==e[0]||3!==e[1]})))},7209:(t,e,r)=>{"use strict";r(6939)},4844:(t,e,r)=>{var n=r(5803);n.keys().forEach((t=>{BabelRuntimeHelpers[t.substr(2)]=n(t)}))},8071:(t,e,r)=>{"use strict";r.r(e);r(1474),r(7311),r(4240),r(7119),r(3509),r(2004),r(8971),r(8140),r(7788),r(5164),r(6406),r(1410),r(7638),r(6303),r(1825),r(2220),r(1519),r(4774),r(1520),r(2663),r(5388),r(5601),r(1034),r(2359),r(1085),r(1374),r(7594),r(8855),r(5794),r(2985),r(6384),r(1772),r(2802),r(69),r(6750),r(6062),r(3131),r(4752),r(9435),r(2886),r(1139),r(6108),r(3115),r(7389),r(4085),r(2392),r(2625),r(7740),r(4342),r(2767),r(585),r(6508),r(7255),r(3086),r(7439),r(1408),r(674),r(7471),r(9397),r(2426),r(6806),r(1978),r(8245),r(7331),r(6496),r(1166),r(7472),r(7322),r(6539),r(8866),r(9701),r(5102),r(2373),r(1853),r(5030),r(6845),r(8471),r(2539),r(9235),r(7209);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((t=>{var e=globalThis[t];e&&e.name!==t&&Object.defineProperty(e,"name",{value:t})}))}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{r.g.__polyfill_injecting=!0;var t=!1,e=null;if(r.g.__wxConfig&&"string"==typeof r.g.__wxConfig.platform){if("ios"===r.g.__wxConfig.platform.toLowerCase()){t=!0;var n=r.g.__wxConfig.system||"";e=n.startsWith("iOS ")?n.substr(4):null}}else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var i=navigator.userAgent.toLowerCase();if(i.indexOf("iphone")>=0||i.indexOf("ipad")>=0){t=!0;var s=/iphone os ([\d_]+)/.exec(i);e=s?s[1].replace(/_/g,"."):null}}var a,o=[];t&&(null!==e&&(a=e.split(".")[0],parseInt(a,10)>=16)||(r.g.Promise=void 0),o.push("Promise")),r(9762)({usePolyfill:o,useNative:["WeakMap"]}),r(8071),r(4844),delete r.g.__polyfill_injecting})()})(),(()=>{var t={405:t=>{t.exports=function(t,e,r,n,i){var s={};return Object.keys(n).forEach((function(t){s[t]=n[t]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(t,e,s),s=null),s},t.exports.__esModule=!0,t.exports.default=t.exports},715:t=>{function e(t,e,r,n,i,s,a){try{var o=t[s](a),u=o.value}catch(t){return void r(t)}o.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(i,s){var a=t.apply(r,n);function o(t){e(a,i,s,o,u,"next",t)}function u(t){e(a,i,s,o,u,"throw",t)}o(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},949:t=>{var e=!1;t.exports=function(t,r){if(!e){e=!0;var n,s=t.batchRender,a=t.batchRenderAsync,o=t.registerAfterDoFrame,u=t.swapWindow,c=t.WeakValueMap,h=1048576,f=t.incAndFetchNRId,d={nextWatcherID:1,handler:{},toDeleteList:[]};"undefined"==typeof FinalizationRegistry?(console.warn("FinalizationRegistry not exists"),n={register:(t,e,r)=>{},unregister:t=>{}}):n=new FinalizationRegistry((t=>{d.handler[t]&&d.toDeleteList.push(t)}));var _,E=(_=new WeakMap,function(t){var e=_.get(t);return e||(e=t.RGBA?{origin_ctx:null,ctxid:0,renderbuffer_storage:new p(83),framebuffer_storage:new p(82),buffer_storage:new p(79),texture_storage:new p(78),program_storage:new p(81),shader_storage:new p(41),vao_oes_storage:new p(149),vao_storage:new p(234),transform_feedback_storage:new p(215),sync_storage:new p(210),sampler_storage:new p(202),query_storage:new p(195),programParameterCache:{},activeUniformCache:{},uniformLocationCache:{}}:{origin_ctx:null,ctxid:0,states:[new A]},_.set(t,e)),e}),l={currentctxid:-1,buffer:void 0,MAX_LEN:512e3,lengthPerFourBytes:0,meta:new Uint32Array(2),float32Array:void 0,uint32Array:void 0,offsetPerFourBytes:0,ctxLengthOffsetPerFourBytes:0,next_buffer_id:1,next_program_shader_id:1,next_texture_id:1,next_framebuffer_id:1,next_renderbuffer_id:1,next_sync_id:1,drawCalls:0,init(){this.buffer=new ArrayBuffer(this.MAX_LEN),this.lengthPerFourBytes=this.buffer.byteLength/4,this.meta=new Uint32Array(this.buffer,0,2),this.float32Array=new Float32Array(this.buffer),this.uint32Array=new Uint32Array(this.buffer),this.offsetPerFourBytes=2},checkCommand(t){if(!(this.offsetPerFourBytes+t<=this.lengthPerFourBytes)){var e=new ArrayBuffer(this.MAX_LEN+4*(t+this.lengthPerFourBytes)),r=new Uint32Array(e);r.set(this.uint32Array),this.buffer=e,this.lengthPerFourBytes=this.buffer.byteLength/4,this.meta=new Uint32Array(this.buffer,0,2),this.uint32Array=r,this.float32Array=new Float32Array(e)}},pushInt32(t){this.checkCommand(1),this.uint32Array[this.offsetPerFourBytes++]=t},pushInt64(t){this.checkCommand(2);var e=new DataView(this.buffer,4*this.offsetPerFourBytes,8),r=Math.floor(t/4294967296),n=t-4294967296*r;e.setUint32(0,n,!0),e.setUint32(4,r,!0),this.offsetPerFourBytes+=2},pushInt32Array(t,e){this.checkCommand(e),this.uint32Array.set(t,this.offsetPerFourBytes),this.offsetPerFourBytes+=e},pushInt16Array(t,e){e%2!=0&&e++,this.checkCommand(e/2),new Uint16Array(this.buffer,4*this.offsetPerFourBytes,e).set(t),this.offsetPerFourBytes+=e/2},pushFloat32(t){this.checkCommand(1),this.float32Array[this.offsetPerFourBytes++]=t},pushFloat64(t){this.checkCommand(2),new Float64Array(this.buffer,4*this.offsetPerFourBytes,1)[0]=t,this.offsetPerFourBytes+=2},pushFloat32Array(t,e){this.checkCommand(e),this.float32Array.set(t,this.offsetPerFourBytes),this.offsetPerFourBytes+=e},pushFloat64Array(t,e){this.checkCommand(2*e),new Float64Array(this.buffer,4*this.offsetPerFourBytes,e).set(t),this.offsetPerFourBytes+=2*e},pushArrayBuffer(t){"object"==typeof t&&null!=t.byteLength||(t=new Uint8Array);var e=t.byteLength;if(this.pushInt32(e),0!==e){var r,n=e%4;r=0!==n?(e+4-n)/4:e/4,this.checkCommand(r);var i=new Uint8Array(this.buffer,4*this.offsetPerFourBytes,e);ArrayBuffer.isView(t)?i.set(new Uint8Array(t.buffer,t.byteOffset,e)):i.set(new Uint8Array(t)),this.offsetPerFourBytes+=r}},pushString(t){var e=t.length+1,r=2*e;this.pushInt32(r);var n,i=r%4;n=0!==i?(r+4-i)/4:r/4,this.checkCommand(n);for(var s=new Uint16Array(this.buffer,4*this.offsetPerFourBytes,e),a=0;a<e;a++)s[a]=t.charCodeAt(a);this.offsetPerFourBytes+=n},batchRender(t){if(!(t&&r&&(l.pushArrayBuffer(t),this.offsetPerFourBytes<h))){if(this.meta[0]=this.offsetPerFourBytes,0!=l.ctxLengthOffsetPerFourBytes){var e=l.uint32Array[l.ctxLengthOffsetPerFourBytes];l.uint32Array[l.ctxLengthOffsetPerFourBytes]=l.offsetPerFourBytes-e,l.ctxLengthOffsetPerFourBytes=0}var n=new Uint32Array(this.buffer,0,this.offsetPerFourBytes);return this.offsetPerFourBytes=2,this.currentctxid=-1,s(n,t)}},batchRenderAsync(t){if(this.meta[0]=this.offsetPerFourBytes,0!=l.ctxLengthOffsetPerFourBytes){var e=l.uint32Array[l.ctxLengthOffsetPerFourBytes];l.uint32Array[l.ctxLengthOffsetPerFourBytes]=l.offsetPerFourBytes-e,l.ctxLengthOffsetPerFourBytes=0}var r=new Uint32Array(this.buffer,0,this.offsetPerFourBytes);this.offsetPerFourBytes=2,this.currentctxid=-1,a(r,t)}};l.init(),o((function(){var t=d.toDeleteList;d.toDeleteList=[];for(var e=0;e<t.length;e++){var r=t[e];d.handler[r]&&d.handler[r](),delete d.handler[r]}l.offsetPerFourBytes>2&&l.batchRenderAsync(),l.drawCalls>0&&(u(),l.drawCalls=0)})),t.getCommandBufferUid=function(t){return E(t).ctxid},t.destroyCommandBuffer=function(t){},t.buildWebGLCommandBuffer=function(t,e){function n(t,e){var r=0;if(6403==t||36244==t||6406==t||6409==t||6402==t||34041==t)r=1;else if(33319==t||33320==t||6410==t)r=2;else if(6407==t||36248==t){if(33635==e)return 2;if(35899==e||35902==t)return 4;r=3}else if(6408==t||36249==t||32993==t){if(32819==e||32820==e||33637==e||33638==e)return 2;if(33640==e)return 4;r=4}var n=0;return 5120==e||5121==e?n=1:5122==e||5123==e||5131==e||36193==e?n=2:34042==e||5126==e||5125==e||5124==e?n=4:36269==e&&(n=8),r*n}function s(t,e,r,n,i,s){if(e=Number(e),r=Number(r),n=Number(n),!(e<0||!Number.isInteger(e)||r<0||!Number.isInteger(r)||n<0)&&Number.isInteger(n)&&0!=i){if(!e||!r||!n)return 0;var a=t.unpack_row_length>0?t.unpack_row_length:e,o=t.unpack_image_height>0&&s?t.unpack_image_height:r,u=t.unpack_skip_images>0&&s?t.unpack_skip_images:0,c=t.unpack_alignment||4,h=t.unpack_skip_pixels>0?t.unpack_skip_pixels:0,f=t.unpack_skip_rows>0?t.unpack_skip_rows:0;if(!(h+e>a)){var d=a*i;t.unpack_row_length>0&&t.unpack_row_length!=e&&(d=e*i);var _,E=a*i+(_=c)-1&~(_-1);return E*(o*(n-1)+r-1)+d+(E*o*u+E*f+i*h)}}}var a;if(a={vertexAttribPointer(t,e,r,n,i,s){v(E(this).ctxid),l.pushInt32Array([1,t,e,r,n?1:0,i,s],7)},activeTexture(t){v(E(this).ctxid),l.pushInt32Array([2,t],2)},uniform1i(t,e){t&&(v(E(this).ctxid),"boolean"==typeof e&&(e=e?1:0),l.pushInt32Array([3,t.id,e],3))},drawElements(t,e,r,n){v(E(this).ctxid),l.pushInt32Array([4,t,e,r,n],5),l.drawCalls+=1},bindBuffer(t,e){var r=E(this);v(r.ctxid);var n=r.buffer_storage.get(e);t===this.COPY_WRITE_BUFFER_BINDING&&"number"==typeof n&&(r.cachedCopyWriteBufferBinding=n),l.pushInt32Array([5,t,n],3)},bindTexture(t,e){var r=E(this);v(r.ctxid);var n=r.texture_storage.get(e);36197==t&&(n=e),l.pushInt32Array([6,t,n],3)},uniformMatrix4fv(t,e,r){t&&(v(E(this).ctxid),l.pushInt32Array([7,t.id,e?1:0,r.length],4),l.pushFloat32Array(r,r.length))},viewport(t,e,r,n){v(E(this).ctxid),l.pushInt32Array([8,t,e,r,n],5)},clear(t){v(E(this).ctxid),l.pushInt32Array([9,t],2)},createProgram(){var t=E(this);v(t.ctxid),l.pushInt32(10);var r=l.next_program_shader_id++;return l.pushInt32(r),e||(r=l.batchRender()),t.program_storage.createWebGLObject(r,t.ctxid)},createShader(t){var r=E(this);v(r.ctxid),l.pushInt32Array([11,t],2);var n=l.next_program_shader_id++;return l.pushInt32(n),e||(n=l.batchRender()),r.shader_storage.createWebGLObject(n,r.ctxid)},shaderSource(t,e){var r=E(this);v(r.ctxid),l.pushInt32Array([12,r.shader_storage.get(t)],2),l.pushString(e)},getShaderInfoLog(t){var e=E(this);return v(e.ctxid),l.pushInt32Array([13,e.shader_storage.get(t)],2),l.batchRender()},getShaderParameter(t,e){var r=E(this);return v(r.ctxid),l.pushInt32Array([14,r.shader_storage.get(t),e],3),l.batchRender()},compileShader(t){var e=E(this);v(e.ctxid),l.pushInt32Array([15,e.shader_storage.get(t)],2)},attachShader(t,e){var r=E(this);v(r.ctxid),l.pushInt32Array([16,r.program_storage.get(t),r.shader_storage.get(e)],3)},linkProgram(t){var e=E(this);v(e.ctxid);var r=e.program_storage.get(t);l.pushInt32Array([17,r],2),e.programParameterCache[r]=void 0,e.activeUniformCache[r]=void 0,e.uniformLocationCache[r]=void 0},getProgramParameter(t,e){var r=E(this),n=r.program_storage.get(t);switch(e){case this.LINK_STATUS:case this.ACTIVE_UNIFORMS:case this.ACTIVE_UNIFORM_BLOCKS:return T(r,n),r.programParameterCache[n][e]}return v(r.ctxid),l.pushInt32Array([18,n,e],3),l.batchRender()},useProgram(t){var e=E(this);v(e.ctxid),l.pushInt32Array([19,e.program_storage.get(t)],2)},getAttribLocation(t,e){var r=E(this);return v(r.ctxid),l.pushInt32Array([20,r.program_storage.get(t)],2),l.pushString(e),l.batchRender()},enableVertexAttribArray(t){v(E(this).ctxid),l.pushInt32Array([21,t],2)},getUniformLocation(t,e){var r=E(this),n=r.program_storage.get(t);T(r,n);var i=r.uniformLocationCache[n][e];if(void 0===i&&(v(r.ctxid),l.pushInt32Array([22,n],2),l.pushString(e),i=l.batchRender()),-1==i)return null;var s={};return s.id=i,s},createBuffer(){var t=E(this);v(t.ctxid),l.pushInt32(23);var r=l.next_buffer_id++;return l.pushInt32(r),e||(r=l.batchRender()),t.buffer_storage.createWebGLObject(r,t.ctxid)},bufferData(t,e,r){v(E(this).ctxid),"number"!=typeof e||isNaN(e)?(l.pushInt32Array([25,t,r],3),l.pushArrayBuffer(e)):(l.pushInt32Array([24,t,r],3),l.pushInt64(e))},createTexture(){var t=E(this);v(t.ctxid),l.pushInt32(26);var r=l.next_texture_id++;return l.pushInt32(r),e||(r=l.batchRender()),t.texture_storage.createWebGLObject(r,t.ctxid)},pixelStorei(t,e){var r=E(this);v(r.ctxid),"boolean"==typeof e&&(e=e?1:0);var n=Number(e);Number.isInteger(n)&&(3314==t?r.unpack_row_length=n:3315==t?r.unpack_skip_rows=n:32878==t?r.unpack_image_height=n:32877==t?r.unpack_skip_images=n:3316==t?r.unpack_skip_pixels=n:3317!=t||1!=n&&2!=n&&4!=n&&8!=n||(r.unpack_alignment=n)),l.pushInt32Array([27,t,e],3)},texImage2D(t,e,r,n,i,s,a,o,u){v(E(this).ctxid);var c=arguments.length;if(6===c){if("function"!=typeof s.__uid&&"number"!=typeof s.__uid)return void console.error("texImage2D pixels not valid",s);l.pushInt32Array([28,t,e,r,n,i],6),l.pushInt64("function"==typeof s.__uid?s.__uid():s.__uid)}else 9===c&&(null==u?l.pushInt32Array([29,t,e,r,n,i,s,a,o],9):l.pushInt32Array([30,t,e,r,n,i,s,a,o],9));l.batchRender(u)},texParameteri(t,e,r){v(E(this).ctxid),l.pushInt32Array([31,t,e,r],4)},enable(t){v(E(this).ctxid),l.pushInt32Array([32,t],2)},clearColor(t,e,r,n){v(E(this).ctxid),l.pushInt32(33),l.pushFloat32Array([t,e,r,n],4)},disable(t){v(E(this).ctxid),l.pushInt32Array([34,t],2)},getExtension(t){var e=E(this),r=e.ctxid;v(r),l.pushInt32(35),l.pushString(t);var n=l.batchRender();if(!n)return n;if("ANGLE_instanced_arrays"===t){if(e.angle_instanced_arrays)return e.angle_instanced_arrays;var i={drawArraysInstancedANGLE(t,e,n,i){v(r),l.pushInt32Array([143,t,e,n,i],5),l.drawCalls+=1},drawElementsInstancedANGLE(t,e,n,i,s){v(r),l.pushInt32Array([144,t,e,n,i,s],6),l.drawCalls+=1},vertexAttribDivisorANGLE(t,e){v(r),l.pushInt32Array([145,t,e],3)}};return i.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=n.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE,e.angle_instanced_arrays=i,i}if("OES_vertex_array_object"===t){if(e.vao)return e.vao;var s=this,a={createVertexArrayOES(){v(E(s).ctxid),l.pushInt32(148);var t=l.batchRender();return e.vao_oes_storage.createWebGLObject(t,r)},deleteVertexArrayOES(t){v(E(s).ctxid),l.pushInt32Array([149,e.vao_oes_storage.get(t)],2),e.vao_oes_storage.remove(t)},isVertexArrayOES(t){var r=e.vao_oes_storage.get(t);return!(r<=0)&&(v(E(s).ctxid),l.pushInt32Array([150,r],2),l.batchRender())},bindVertexArrayOES(t){v(E(s).ctxid);var r=e.vao_oes_storage.get(t);l.pushInt32Array([151,r],2)}};return a.VERTEX_ARRAY_BINDING_OES=n.VERTEX_ARRAY_BINDING_OES,e.vao=a,a}return n},getParameter(t){var e=E(this);switch(t){case this.COLOR_WRITEMASK:if(e.colorMask)return e.colorMask;break;case this.RENDERER:case this.VENDOR:case this.VERSION:case this.SHADING_LANGUAGE_VERSION:case this.MAX_VERTEX_ATTRIBS:case this.MAX_SAMPLES:case this.MAX_COMBINED_TEXTURE_IMAGE_UNITS:case this.MAX_VERTEX_TEXTURE_IMAGE_UNITS:case this.MAX_TEXTURE_SIZE:case this.MAX_3D_TEXTURE_SIZE:case this.MAX_CUBE_MAP_TEXTURE_SIZE:case this.MAX_ARRAY_TEXTURE_LAYERS:case this.MAX_TEXTURE_MAX_ANISOTROPY_EXT:case this.MAX_COLOR_ATTACHMENTS:case this.MAX_RENDERBUFFER_SIZE:case this.MAX_VERTEX_UNIFORM_COMPONENTS:case this.MAX_UNIFORM_BLOCK_SIZE:case this.MAX_UNIFORM_BUFFER_BINDINGS:case this.UNIFORM_BUFFER_OFFSET_ALIGNMENT:return void 0===e.constParameters&&(v(e.ctxid),l.pushInt32Array([272],1),e.constParameters=l.batchRender()),e.constParameters[t];case this.COPY_WRITE_BUFFER_BINDING:if("number"==typeof e.cachedCopyWriteBufferBinding&&e.cachedCopyWriteBufferBinding>=0)return e.buffer_storage.getObjectWithId(e.cachedCopyWriteBufferBinding)}v(e.ctxid),l.pushInt32Array([36,t],2);var r=l.batchRender();switch(t){case this.ARRAY_BUFFER_BINDING:case this.ELEMENT_ARRAY_BUFFER_BINDING:case this.COPY_READ_BUFFER_BINDING:case this.PIXEL_PACK_BUFFER_BINDING:case this.PIXEL_UNPACK_BUFFER_BINDING:case this.TRANSFORM_FEEDBACK_BUFFER_BINDING:case this.UNIFORM_BUFFER_BINDING:return e.buffer_storage.getObjectWithId(r);case this.COPY_WRITE_BUFFER_BINDING:return e.cachedCopyWriteBufferBinding=r,e.buffer_storage.getObjectWithId(r);case this.CURRENT_PROGRAM:return e.program_storage.getObjectWithId(r);case this.FRAMEBUFFER_BINDING:case this.READ_FRAMEBUFFER_BINDING:return e.framebuffer_storage.getObjectWithId(r);case this.RENDERBUFFER_BINDING:return e.renderbuffer_storage.getObjectWithId(r);case this.TEXTURE_BINDING_2D:case this.TEXTURE_BINDING_CUBE_MAP:case this.TEXTURE_BINDING_2D_ARRAY:case this.TEXTURE_BINDING_3D:return e.texture_storage.getObjectWithId(r);case this.TRANSFORM_FEEDBACK_BINDING:return e.transform_feedback_storage.getObjectWithId(r);case this.VERTEX_ARRAY_BINDING:return e.vao_storage.getObjectWithId(r);case this.SAMPLER_BINDING:return e.sampler_storage.getObjectWithId(r);default:return r}},getSupportedExtensions(){return v(E(this).ctxid),l.pushInt32(37),l.batchRender()},blendFunc(t,e){v(E(this).ctxid),l.pushInt32Array([38,t,e],3)},getShaderPrecisionFormat(t,e){v(E(this).ctxid),l.pushInt32Array([39,t,e],3);var r=l.batchRender().split(","),n={};return n.rangeMin=r[0],n.rangeMax=r[1],n.precision=r[2],n},bindAttribLocation(t,e,r){var n=E(this);v(n.ctxid),l.pushInt32Array([40,n.program_storage.get(t),e],3),l.pushString(r)},deleteShader(t){var e=E(this);v(e.ctxid),l.pushInt32Array([41,e.shader_storage.get(t)],2),e.shader_storage.remove(t)},drawArrays(t,e,r){v(E(this).ctxid),l.pushInt32Array([42,t,e,r],4),l.drawCalls+=1},isEnabled(t){return v(E(this).ctxid),l.pushInt32Array([43,t],2),l.batchRender()},depthMask(t){v(E(this).ctxid),l.pushInt32Array([44,t?1:0],2)},stencilFunc(t,e,r){v(E(this).ctxid),l.pushInt32Array([45,t,e,r],4)},stencilOp(t,e,r){v(E(this).ctxid),l.pushInt32Array([46,t,e,r],4)},stencilMask(t){v(E(this).ctxid),l.pushInt32Array([47,t],2)},scissor(t,e,r,n){v(E(this).ctxid),l.pushInt32Array([48,t,e,r,n],5)},bufferSubData(t,e,r){v(E(this).ctxid),l.pushInt32Array([49,t,e],3),l.pushArrayBuffer(r)},blendFuncSeparate(t,e,r,n){v(E(this).ctxid),l.pushInt32Array([50,t,e,r,n],5)},uniform1f(t,e){t&&(v(E(this).ctxid),l.checkCommand(3),l.uint32Array.set([51,t.id],l.offsetPerFourBytes),l.float32Array[l.offsetPerFourBytes+2]=e,l.offsetPerFourBytes+=3)},clearDepth(t){v(E(this).ctxid),l.pushInt32(52),l.pushFloat32(t)},clearStencil(t){v(E(this).ctxid),l.pushInt32Array([53,t],2)},depthFunc(t){v(E(this).ctxid),l.pushInt32Array([54,t],2)},frontFace(t){v(E(this).ctxid),l.pushInt32Array([55,t],2)},cullFace(t){v(E(this).ctxid),l.pushInt32Array([56,t],2)},blendEquationSeparate(t,e){v(E(this).ctxid),l.pushInt32Array([57,t,e],3)},createFramebuffer(){var t=E(this);v(t.ctxid),l.pushInt32(58);var r=l.next_framebuffer_id++;return l.pushInt32(r),e||(r=l.batchRender()),t.framebuffer_storage.createWebGLObject(r,t.ctxid)},bindFramebuffer(t,e){var r=E(this);v(r.ctxid),l.pushInt32Array([59,t,r.framebuffer_storage.get(e)],3)},framebufferTexture2D(t,e,r,n,i){var s=E(this);v(s.ctxid);var a=s.texture_storage.get(n)||0;l.pushInt32Array([60,t,e,r,i,a],6)},createRenderbuffer(){var t=E(this);v(t.ctxid),l.pushInt32(61);var r=l.next_renderbuffer_id++;return l.pushInt32(r),e||(r=l.batchRender()),t.renderbuffer_storage.createWebGLObject(r,t.ctxid)},bindRenderbuffer(t,e){var r=E(this);v(r.ctxid),l.pushInt32Array([62,t,r.renderbuffer_storage.get(e)],3)},renderbufferStorage(t,e,r,n){v(E(this).ctxid),l.pushInt32Array([63,t,e,r,n],5)},framebufferRenderbuffer(t,e,r,n){var i=E(this);v(i.ctxid),l.pushInt32Array([64,t,e,r,i.renderbuffer_storage.get(n)],5)},colorMask(t,e,r,n){var i=E(this);v(i.ctxid),i.colorMask=[t,e,r,n],l.pushInt32Array([65,t?1:0,e?1:0,r?1:0,n?1:0],5)},getProgramInfoLog(t){var e=E(this);return v(e.ctxid),l.pushInt32Array([66,e.program_storage.get(t)],2),l.batchRender()},getActiveAttrib(t,e){var r=E(this);v(r.ctxid),l.pushInt32Array([67,r.program_storage.get(t),e],3);var n=l.batchRender().split(","),i={};return i.type=Number(n[0]),i.size=Number(n[1]),i.name=n[2],i},getActiveUniform(t,e){var r=E(this),n=r.program_storage.get(t);return T(r,n),r.activeUniformCache[n][e]},uniform3f(t,e,r,n){t&&(v(E(this).ctxid),l.pushInt32Array([69,t.id],2),l.pushFloat32Array([e,r,n],3))},uniform1iv(t,e){t&&(v(E(this).ctxid),l.pushInt32Array([70,t.id,e.length],3),l.pushInt32Array(e,e.length))},uniform3fv(t,e){t&&(v(E(this).ctxid),l.checkCommand(3+e.length),l.uint32Array.set([71,t.id,e.length],l.offsetPerFourBytes),l.offsetPerFourBytes+=3,l.float32Array.set(e,l.offsetPerFourBytes),l.offsetPerFourBytes+=e.length)},uniform2f(t,e,r){t&&(v(E(this).ctxid),l.pushInt32Array([72,t.id],2),l.pushFloat32Array([e,r],2))},uniformMatrix3fv(t,e,r){t&&(v(E(this).ctxid),l.pushInt32Array([73,t.id,e?1:0,r.length],4),l.pushFloat32Array(r,r.length))},disableVertexAttribArray(t){v(E(this).ctxid),l.pushInt32Array([74,t],2)},generateMipmap(t){v(E(this).ctxid),l.pushInt32Array([75,t],2)},uniform4fv(t,e){t&&(v(E(this).ctxid),l.pushInt32Array([76,t.id,e.length],3),l.pushFloat32Array(e,e.length))},getError(){return v(E(this).ctxid),l.pushInt32(77),l.batchRender()},deleteTexture(t){var e=E(this);v(e.ctxid),l.pushInt32Array([78,e.texture_storage.get(t)],2),e.texture_storage.remove(t)},deleteBuffer(t){var e=E(this);v(e.ctxid);var r=e.buffer_storage.get(t);r===e.cachedCopyWriteBufferBinding&&(e.cachedCopyWriteBufferBinding=void 0),l.pushInt32Array([79,r],2),e.buffer_storage.remove(t)},getShaderSource(t){var e=E(this);return v(e.ctxid),l.pushInt32Array([80,e.shader_storage.get(t)],2),l.batchRender()},deleteProgram(t){var e=E(this);v(e.ctxid),l.pushInt32Array([81,e.program_storage.get(t)],2),e.program_storage.remove(t)},deleteFramebuffer(t){var e=E(this);v(e.ctxid),l.pushInt32Array([82,e.framebuffer_storage.get(t)],2),e.framebuffer_storage.remove(t)},deleteRenderbuffer(t){var e=E(this);v(e.ctxid),l.pushInt32Array([83,e.renderbuffer_storage.get(t)],2),e.renderbuffer_storage.remove(t)},texSubImage2D(t,e,r,n,i,s,a,o,u){v(E(this).ctxid);var c=arguments.length;if(7===c){if("function"!=typeof a.__uid&&"number"!=typeof a.__uid)return void console.error("texSubImage2D: ",a);l.pushInt32Array([84,t,e,r,n,i,s],7),l.pushInt64("function"==typeof a.__uid?a.__uid():a.__uid)}else 9===c&&(null==u?l.pushInt32Array([85,t,e,r,n,i,s,a,o],9):l.pushInt32Array([86,t,e,r,n,i,s,a,o],9));l.batchRender(u)},uniform4f(t,e,r,n,i){t&&(v(E(this).ctxid),l.pushInt32Array([87,t.id],2),l.pushFloat32Array([e,r,n,i],4))},isBuffer(t){var e=E(this),r=e.buffer_storage.get(t);return!(r<=0)&&(v(e.ctxid),l.pushInt32Array([88,r],2),l.batchRender())},isContextLost:()=>!1,isFramebuffer(t){var e=E(this),r=e.framebuffer_storage.get(t);return!(r<=0)&&(v(e.ctxid),l.pushInt32Array([90,r],2),l.batchRender())},isProgram(t){var e=E(this),r=e.program_storage.get(t);return!(r<=0)&&(v(e.ctxid),l.pushInt32Array([91,r],2),l.batchRender())},isRenderbuffer(t){var e=E(this),r=e.renderbuffer_storage.get(t);return!(r<=0)&&(v(e.ctxid),l.pushInt32Array([92,r],2),l.batchRender())},isShader(t){var e=E(this),r=e.shader_storage.get(t);return!(r<=0)&&(v(e.ctxid),l.pushInt32Array([93,r],2),l.batchRender())},isTexture(t){var e=E(this),r=e.texture_storage.get(t);return!(r<=0)&&(v(e.ctxid),l.pushInt32Array([94,r],2),l.batchRender())},uniform2i(t,e,r){t&&(v(E(this).ctxid),l.pushInt32Array([95,t.id,e,r],4))},uniform3i(t,e,r,n){t&&(v(E(this).ctxid),l.pushInt32Array([96,t.id,e,r,n],5))},uniform4i(t,e,r,n,i){t&&(v(E(this).ctxid),l.pushInt32Array([97,t.id,e,r,n,i],6))},uniform1fv(t,e){t&&(v(E(this).ctxid),l.pushInt32Array([98,t.id,e.length],3),l.pushFloat32Array(e,e.length))},uniform2fv(t,e){t&&(v(E(this).ctxid),l.pushInt32Array([99,t.id,e.length],3),l.pushFloat32Array(e,e.length))},uniform2iv(t,e){t&&(v(E(this).ctxid),l.pushInt32Array([100,t.id,e.length],3),l.pushInt32Array(e,e.length))},uniform3iv(t,e){t&&(v(E(this).ctxid),l.pushInt32Array([101,t.id,e.length],3),l.pushInt32Array(e,e.length))},uniform4iv(t,e){t&&(v(E(this).ctxid),l.pushInt32Array([102,t.id,e.length],3),l.pushInt32Array(e,e.length))},uniformMatrix2fv(t,e,r){t&&(v(E(this).ctxid),l.pushInt32Array([103,t.id,e?1:0,r.length],4),l.pushFloat32Array(r,r.length))},vertexAttrib1f(t,e){v(E(this).ctxid),l.pushInt32Array([104,t],2),l.pushFloat32(e)},vertexAttrib2f(t,e,r){v(E(this).ctxid),l.pushInt32Array([105,t],2),l.pushFloat32Array([e,r],2)},vertexAttrib3f(t,e,r,n){v(E(this).ctxid),l.pushInt32Array([106,t],2),l.pushFloat32Array([e,r,n],3)},vertexAttrib4f(t,e,r,n,i){v(E(this).ctxid),l.pushInt32Array([107,t],2),l.pushFloat32Array([e,r,n,i],4)},vertexAttrib1fv(t,e){v(E(this).ctxid),l.pushInt32Array([108,t,e.length],3),l.pushFloat32Array(e,e.length)},vertexAttrib2fv(t,e){v(E(this).ctxid),l.pushInt32Array([109,t,e.length],3),l.pushFloat32Array(e,e.length)},vertexAttrib3fv(t,e){v(E(this).ctxid),l.pushInt32Array([110,t,e.length],3),l.pushFloat32Array(e,e.length)},vertexAttrib4fv(t,e){v(E(this).ctxid),l.pushInt32Array([111,t,e.length],3),l.pushFloat32Array(e,e.length)},blendColor(t,e,r,n){v(E(this).ctxid),l.pushInt32(112),l.pushFloat32Array([t,e,r,n],4)},checkFramebufferStatus(t){return v(E(this).ctxid),l.pushInt32Array([113,t],2),l.batchRender()},compressedTexImage2D(t,e,r,n,i,s,a){v(E(this).ctxid),l.pushInt32Array([114,t,e,r,n,i,s],7),l.pushArrayBuffer(a)},compressedTexSubImage2D(t,e,r,n,i,s,a,o){v(E(this).ctxid),l.pushInt32Array([115,t,e,r,n,i,s,a],8),l.pushArrayBuffer(o)},copyTexImage2D(t,e,r,n,i,s,a,o){v(E(this).ctxid),l.pushInt32Array([116,t,e,r,n,i,s,a,o],9)},copyTexSubImage2D(t,e,r,n,i,s,a,o){v(E(this).ctxid),l.pushInt32Array([117,t,e,r,n,i,s,a,o],9)},depthRange(t,e){v(E(this).ctxid),l.pushInt32(118),l.pushFloat32Array([t,e],2)},detachShader(t,e){var r=E(this);v(E(this).ctxid),l.pushInt32Array([119,r.program_storage.get(t),r.shader_storage.get(e)],3)},flush(){v(E(this).ctxid),l.pushInt32(120),l.batchRender()},finish(){v(E(this).ctxid),l.pushInt32(121),l.batchRender()},hint(t,e){v(E(this).ctxid),l.pushInt32Array([122,t,e],3)},lineWidth(t){v(E(this).ctxid),l.pushInt32(123),l.pushFloat32(t)},polygonOffset(t,e){v(E(this).ctxid),l.pushInt32(124),l.pushFloat32Array([t,e],2)},sampleCoverage(t,e){v(E(this).ctxid),l.pushInt32(125),l.pushFloat32(t),l.pushInt32(e?1:0)},stencilFuncSeparate(t,e,r,n){v(E(this).ctxid),l.pushInt32Array([126,t,e,r,n],5)},stencilMaskSeparate(t,e){v(E(this).ctxid),l.pushInt32Array([127,t,e],3)},stencilOpSeparate(t,e,r,n){v(E(this).ctxid),l.pushInt32Array([128,t,e,r,n],5)},texParameterf(t,e,r){v(E(this).ctxid),l.pushInt32Array([129,t,e],3),l.pushFloat32(r)},validateProgram(t){var e=E(this);v(e.ctxid),l.pushInt32Array([130,e.program_storage.get(t)],2)},getBufferParameter(t,e){return v(E(this).ctxid),l.pushInt32Array([131,t,e],3),l.batchRender()},getRenderbufferParameter(t,e){return v(E(this).ctxid),l.pushInt32Array([132,t,e],3),l.batchRender()},getTexParameter(t,e){return v(E(this).ctxid),l.pushInt32Array([133,t,e],3),l.batchRender()},getVertexAttribOffset(t,e){return v(E(this).ctxid),l.pushInt32Array([134,t,e],3),l.batchRender()},wxSetContextAttributes(t){v(E(this).ctxid),l.pushInt32Array([135,t.antialias,t.antialiasSamples],3)},wxBindCanvasTexture(t,e){v(E(this).ctxid),l.pushInt32Array([136,t],2),l.pushInt64(e.__id)},getContextAttributes(){return v(E(this).ctxid),l.pushInt32(137),l.batchRender()},readPixels(t,e,n,i,s,a,o){var u=E(this);if(v(u.ctxid),!r)return l.batchRender(),u.origin_ctx.readPixels(t,e,n,i,s,a,o);l.pushInt32(138),l.pushInt32Array([t,e,n,i,s,a],6);var c=l.batchRender();c.buffer&&o&&(c.buffer=new o.constructor(c.buffer),o.set(c.buffer))},getAttachedShaders(t){var e=E(this);v(e.ctxid),l.pushInt32Array([139,e.program_storage.get(t)],2);var r=l.batchRender().split(",");for(i=0,len=r.length;i<len;i++)r[i]=e.shader_storage.getObjectWithId(Number(r[i]));return r},getFramebufferAttachmentParameter(t,e,r){var n=E(this);v(n.ctxid),l.pushInt32Array([140,t,e,r],4);var i=l.batchRender();if(r===this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME){var s=this.getFramebufferAttachmentParameter(t,e,this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE);if(s===this.RENDERBUFFER)return n.renderbuffer_storage.getObjectWithId(i);if(s===this.TEXTURE)return n.texture_storage.getObjectWithId(i)}return i},getVertexAttrib(t,e){var r=E(this);v(r.ctxid),l.pushInt32Array([141,t,e],3);var n=l.batchRender();return e===this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING?r.buffer_storage.getObjectWithId(n):n},blendEquation(t){v(E(this).ctxid),l.pushInt32Array([142,t],2)},JS_THREAD_FLUSH:1,JS_THREAD_WAIT:2,FENCE_SYNC_WAIT:16,FENCE_SYNC_CLIENT_WAIT:32,submit(t){return t=t||0,v(E(this).ctxid),l.pushInt32Array([152,t],2),l.batchRender()},DEPTH_BUFFER_BIT:t.DEPTH_BUFFER_BIT,STENCIL_BUFFER_BIT:t.STENCIL_BUFFER_BIT,COLOR_BUFFER_BIT:t.COLOR_BUFFER_BIT,FALSE:t.FALSE,TRUE:t.TRUE,POINTS:t.POINTS,LINES:t.LINES,LINE_LOOP:t.LINE_LOOP,LINE_STRIP:t.LINE_STRIP,TRIANGLES:4,TRIANGLE_STRIP:t.TRIANGLE_STRIP,TRIANGLE_FAN:t.TRIANGLE_FAN,ZERO:t.ZERO,ONE:t.ONE,SRC_COLOR:t.SRC_COLOR,ONE_MINUS_SRC_COLOR:t.ONE_MINUS_SRC_COLOR,SRC_ALPHA:t.SRC_ALPHA,ONE_MINUS_SRC_ALPHA:t.ONE_MINUS_SRC_ALPHA,DST_ALPHA:t.DST_ALPHA,ONE_MINUS_DST_ALPHA:t.ONE_MINUS_DST_ALPHA,DST_COLOR:t.DST_COLOR,ONE_MINUS_DST_COLOR:t.ONE_MINUS_DST_COLOR,SRC_ALPHA_SATURATE:t.SRC_ALPHA_SATURATE,FUNC_ADD:t.FUNC_ADD,BLEND_EQUATION:t.BLEND_EQUATION,BLEND_EQUATION_RGB:t.BLEND_EQUATION_RGB,BLEND_EQUATION_ALPHA:t.BLEND_EQUATION_ALPHA,FUNC_SUBTRACT:t.FUNC_SUBTRACT,FUNC_REVERSE_SUBTRACT:t.FUNC_REVERSE_SUBTRACT,BLEND_DST_RGB:t.BLEND_DST_RGB,BLEND_SRC_RGB:t.BLEND_SRC_RGB,BLEND_DST_ALPHA:t.BLEND_DST_ALPHA,BLEND_SRC_ALPHA:t.BLEND_SRC_ALPHA,CONSTANT_COLOR:t.CONSTANT_COLOR,ONE_MINUS_CONSTANT_COLOR:t.ONE_MINUS_CONSTANT_COLOR,CONSTANT_ALPHA:t.CONSTANT_ALPHA,ONE_MINUS_CONSTANT_ALPHA:t.ONE_MINUS_CONSTANT_ALPHA,BLEND_COLOR:t.BLEND_COLOR,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:t.ARRAY_BUFFER_BINDING,ELEMENT_ARRAY_BUFFER_BINDING:t.ELEMENT_ARRAY_BUFFER_BINDING,STREAM_DRAW:t.STREAM_DRAW,STATIC_DRAW:t.STATIC_DRAW,DYNAMIC_DRAW:t.DYNAMIC_DRAW,BUFFER_SIZE:t.BUFFER_SIZE,BUFFER_USAGE:t.BUFFER_USAGE,CURRENT_VERTEX_ATTRIB:t.CURRENT_VERTEX_ATTRIB,FRONT:t.FRONT,BACK:t.BACK,FRONT_AND_BACK:t.FRONT_AND_BACK,TEXTURE_2D:3553,TEXTURE_EXTERNAL_OES:36197,CULL_FACE:t.CULL_FACE,BLEND:t.BLEND,DITHER:t.DITHER,STENCIL_TEST:t.STENCIL_TEST,DEPTH_TEST:t.DEPTH_TEST,SCISSOR_TEST:t.SCISSOR_TEST,POLYGON_OFFSET_FILL:t.POLYGON_OFFSET_FILL,SAMPLE_ALPHA_TO_COVERAGE:t.SAMPLE_ALPHA_TO_COVERAGE,SAMPLE_COVERAGE:t.SAMPLE_COVERAGE,NO_ERROR:t.NO_ERROR,INVALID_ENUM:t.INVALID_ENUM,INVALID_VALUE:t.INVALID_VALUE,INVALID_OPERATION:t.INVALID_OPERATION,OUT_OF_MEMORY:t.OUT_OF_MEMORY,CW:t.CW,CCW:t.CCW,LINE_WIDTH:t.LINE_WIDTH,ALIASED_POINT_SIZE_RANGE:t.ALIASED_POINT_SIZE_RANGE,ALIASED_LINE_WIDTH_RANGE:t.ALIASED_LINE_WIDTH_RANGE,CULL_FACE_MODE:t.CULL_FACE_MODE,FRONT_FACE:t.FRONT_FACE,DEPTH_RANGE:t.DEPTH_RANGE,DEPTH_WRITEMASK:t.DEPTH_WRITEMASK,DEPTH_CLEAR_VALUE:t.DEPTH_CLEAR_VALUE,DEPTH_FUNC:t.DEPTH_FUNC,STENCIL_CLEAR_VALUE:t.STENCIL_CLEAR_VALUE,STENCIL_FUNC:t.STENCIL_FUNC,STENCIL_FAIL:t.STENCIL_FAIL,STENCIL_PASS_DEPTH_FAIL:t.STENCIL_PASS_DEPTH_FAIL,STENCIL_PASS_DEPTH_PASS:t.STENCIL_PASS_DEPTH_PASS,STENCIL_REF:t.STENCIL_REF,STENCIL_VALUE_MASK:t.STENCIL_VALUE_MASK,STENCIL_WRITEMASK:t.STENCIL_WRITEMASK,STENCIL_BACK_FUNC:t.STENCIL_BACK_FUNC,STENCIL_BACK_FAIL:t.STENCIL_BACK_FAIL,STENCIL_BACK_PASS_DEPTH_FAIL:t.STENCIL_BACK_PASS_DEPTH_FAIL,STENCIL_BACK_PASS_DEPTH_PASS:t.STENCIL_BACK_PASS_DEPTH_PASS,STENCIL_BACK_REF:t.STENCIL_BACK_REF,STENCIL_BACK_VALUE_MASK:t.STENCIL_BACK_VALUE_MASK,STENCIL_BACK_WRITEMASK:t.STENCIL_BACK_WRITEMASK,VIEWPORT:t.VIEWPORT,SCISSOR_BOX:t.SCISSOR_BOX,COLOR_CLEAR_VALUE:t.COLOR_CLEAR_VALUE,COLOR_WRITEMASK:t.COLOR_WRITEMASK,UNPACK_ALIGNMENT:t.UNPACK_ALIGNMENT,PACK_ALIGNMENT:t.PACK_ALIGNMENT,MAX_TEXTURE_SIZE:t.MAX_TEXTURE_SIZE,MAX_VIEWPORT_DIMS:t.MAX_VIEWPORT_DIMS,SUBPIXEL_BITS:t.SUBPIXEL_BITS,RED_BITS:t.RED_BITS,GREEN_BITS:t.GREEN_BITS,BLUE_BITS:t.BLUE_BITS,ALPHA_BITS:t.ALPHA_BITS,DEPTH_BITS:t.DEPTH_BITS,STENCIL_BITS:t.STENCIL_BITS,POLYGON_OFFSET_UNITS:t.POLYGON_OFFSET_UNITS,POLYGON_OFFSET_FACTOR:t.POLYGON_OFFSET_FACTOR,TEXTURE_BINDING_2D:t.TEXTURE_BINDING_2D,SAMPLE_BUFFERS:t.SAMPLE_BUFFERS,SAMPLES:t.SAMPLES,SAMPLE_COVERAGE_VALUE:t.SAMPLE_COVERAGE_VALUE,SAMPLE_COVERAGE_INVERT:t.SAMPLE_COVERAGE_INVERT,NUM_COMPRESSED_TEXTURE_FORMATS:t.NUM_COMPRESSED_TEXTURE_FORMATS,COMPRESSED_TEXTURE_FORMATS:t.COMPRESSED_TEXTURE_FORMATS,DONT_CARE:t.DONT_CARE,FASTEST:t.FASTEST,NICEST:t.NICEST,GENERATE_MIPMAP_HINT:t.GENERATE_MIPMAP_HINT,BYTE:t.BYTE,UNSIGNED_BYTE:t.UNSIGNED_BYTE,SHORT:t.SHORT,UNSIGNED_SHORT:5123,INT:t.INT,UNSIGNED_INT:t.UNSIGNED_INT,FLOAT:5126,FIXED:t.FIXED,DEPTH_COMPONENT:t.DEPTH_COMPONENT,ALPHA:t.ALPHA,RGB:t.RGB,RGBA:t.RGBA,LUMINANCE:t.LUMINANCE,LUMINANCE_ALPHA:t.LUMINANCE_ALPHA,UNSIGNED_SHORT_4_4_4_4:t.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:t.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:t.UNSIGNED_SHORT_5_6_5,FRAGMENT_SHADER:t.FRAGMENT_SHADER,VERTEX_SHADER:t.VERTEX_SHADER,MAX_VERTEX_ATTRIBS:t.MAX_VERTEX_ATTRIBS,MAX_VERTEX_UNIFORM_VECTORS:t.MAX_VERTEX_UNIFORM_VECTORS,MAX_VARYING_VECTORS:t.MAX_VARYING_VECTORS,MAX_COMBINED_TEXTURE_IMAGE_UNITS:t.MAX_COMBINED_TEXTURE_IMAGE_UNITS,MAX_VERTEX_TEXTURE_IMAGE_UNITS:t.MAX_VERTEX_TEXTURE_IMAGE_UNITS,MAX_TEXTURE_IMAGE_UNITS:t.MAX_TEXTURE_IMAGE_UNITS,MAX_FRAGMENT_UNIFORM_VECTORS:t.MAX_FRAGMENT_UNIFORM_VECTORS,SHADER_TYPE:t.SHADER_TYPE,DELETE_STATUS:t.DELETE_STATUS,LINK_STATUS:t.LINK_STATUS,VALIDATE_STATUS:t.VALIDATE_STATUS,ATTACHED_SHADERS:t.ATTACHED_SHADERS,ACTIVE_UNIFORMS:t.ACTIVE_UNIFORMS,ACTIVE_UNIFORM_MAX_LENGTH:t.ACTIVE_UNIFORM_MAX_LENGTH,ACTIVE_ATTRIBUTES:t.ACTIVE_ATTRIBUTES,ACTIVE_ATTRIBUTE_MAX_LENGTH:t.ACTIVE_ATTRIBUTE_MAX_LENGTH,SHADING_LANGUAGE_VERSION:t.SHADING_LANGUAGE_VERSION,CURRENT_PROGRAM:t.CURRENT_PROGRAM,NEVER:t.NEVER,LESS:t.LESS,EQUAL:t.EQUAL,LEQUAL:t.LEQUAL,GREATER:t.GREATER,NOTEQUAL:t.NOTEQUAL,GEQUAL:t.GEQUAL,ALWAYS:t.ALWAYS,KEEP:t.KEEP,REPLACE:t.REPLACE,INCR:t.INCR,DECR:t.DECR,INVERT:t.INVERT,INCR_WRAP:t.INCR_WRAP,DECR_WRAP:t.DECR_WRAP,VENDOR:t.VENDOR,RENDERER:t.RENDERER,VERSION:t.VERSION,EXTENSIONS:t.EXTENSIONS,NEAREST:t.NEAREST,LINEAR:t.LINEAR,NEAREST_MIPMAP_NEAREST:t.NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST:t.LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR:t.NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_LINEAR,TEXTURE_MAG_FILTER:t.TEXTURE_MAG_FILTER,TEXTURE_MIN_FILTER:t.TEXTURE_MIN_FILTER,TEXTURE_WRAP_S:t.TEXTURE_WRAP_S,TEXTURE_WRAP_T:t.TEXTURE_WRAP_T,TEXTURE:t.TEXTURE,TEXTURE_CUBE_MAP:t.TEXTURE_CUBE_MAP,TEXTURE_BINDING_CUBE_MAP:t.TEXTURE_BINDING_CUBE_MAP,TEXTURE_CUBE_MAP_POSITIVE_X:t.TEXTURE_CUBE_MAP_POSITIVE_X,TEXTURE_CUBE_MAP_NEGATIVE_X:t.TEXTURE_CUBE_MAP_NEGATIVE_X,TEXTURE_CUBE_MAP_POSITIVE_Y:t.TEXTURE_CUBE_MAP_POSITIVE_Y,TEXTURE_CUBE_MAP_NEGATIVE_Y:t.TEXTURE_CUBE_MAP_NEGATIVE_Y,TEXTURE_CUBE_MAP_POSITIVE_Z:t.TEXTURE_CUBE_MAP_POSITIVE_Z,TEXTURE_CUBE_MAP_NEGATIVE_Z:t.TEXTURE_CUBE_MAP_NEGATIVE_Z,MAX_CUBE_MAP_TEXTURE_SIZE:t.MAX_CUBE_MAP_TEXTURE_SIZE,TEXTURE0:33984,TEXTURE1:t.TEXTURE1,TEXTURE2:t.TEXTURE2,TEXTURE3:t.TEXTURE3,TEXTURE4:t.TEXTURE4,TEXTURE5:t.TEXTURE5,TEXTURE6:t.TEXTURE6,TEXTURE7:t.TEXTURE7,TEXTURE8:t.TEXTURE8,TEXTURE9:t.TEXTURE9,TEXTURE10:t.TEXTURE10,TEXTURE11:t.TEXTURE11,TEXTURE12:t.TEXTURE12,TEXTURE13:t.TEXTURE13,TEXTURE14:t.TEXTURE14,TEXTURE15:t.TEXTURE15,TEXTURE16:t.TEXTURE16,TEXTURE17:t.TEXTURE17,TEXTURE18:t.TEXTURE18,TEXTURE19:t.TEXTURE19,TEXTURE20:t.TEXTURE20,TEXTURE21:t.TEXTURE21,TEXTURE22:t.TEXTURE22,TEXTURE23:t.TEXTURE23,TEXTURE24:t.TEXTURE24,TEXTURE25:t.TEXTURE25,TEXTURE26:t.TEXTURE26,TEXTURE27:t.TEXTURE27,TEXTURE28:t.TEXTURE28,TEXTURE29:t.TEXTURE29,TEXTURE30:t.TEXTURE30,TEXTURE31:t.TEXTURE31,ACTIVE_TEXTURE:t.ACTIVE_TEXTURE,REPEAT:t.REPEAT,CLAMP_TO_EDGE:t.CLAMP_TO_EDGE,MIRRORED_REPEAT:t.MIRRORED_REPEAT,FLOAT_VEC2:t.FLOAT_VEC2,FLOAT_VEC3:t.FLOAT_VEC3,FLOAT_VEC4:t.FLOAT_VEC4,INT_VEC2:t.INT_VEC2,INT_VEC3:t.INT_VEC3,INT_VEC4:t.INT_VEC4,BOOL:t.BOOL,BOOL_VEC2:t.BOOL_VEC2,BOOL_VEC3:t.BOOL_VEC3,BOOL_VEC4:t.BOOL_VEC4,FLOAT_MAT2:t.FLOAT_MAT2,FLOAT_MAT3:t.FLOAT_MAT3,FLOAT_MAT4:t.FLOAT_MAT4,SAMPLER_2D:t.SAMPLER_2D,SAMPLER_CUBE:t.SAMPLER_CUBE,VERTEX_ATTRIB_ARRAY_ENABLED:t.VERTEX_ATTRIB_ARRAY_ENABLED,VERTEX_ATTRIB_ARRAY_SIZE:t.VERTEX_ATTRIB_ARRAY_SIZE,VERTEX_ATTRIB_ARRAY_STRIDE:t.VERTEX_ATTRIB_ARRAY_STRIDE,VERTEX_ATTRIB_ARRAY_TYPE:t.VERTEX_ATTRIB_ARRAY_TYPE,VERTEX_ATTRIB_ARRAY_NORMALIZED:t.VERTEX_ATTRIB_ARRAY_NORMALIZED,VERTEX_ATTRIB_ARRAY_POINTER:t.VERTEX_ATTRIB_ARRAY_POINTER,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING,IMPLEMENTATION_COLOR_READ_TYPE:t.IMPLEMENTATION_COLOR_READ_TYPE,IMPLEMENTATION_COLOR_READ_FORMAT:t.IMPLEMENTATION_COLOR_READ_FORMAT,COMPILE_STATUS:t.COMPILE_STATUS,INFO_LOG_LENGTH:t.INFO_LOG_LENGTH,SHADER_SOURCE_LENGTH:t.SHADER_SOURCE_LENGTH,SHADER_COMPILER:t.SHADER_COMPILER,SHADER_BINARY_FORMATS:t.SHADER_BINARY_FORMATS,NUM_SHADER_BINARY_FORMATS:t.NUM_SHADER_BINARY_FORMATS,LOW_FLOAT:t.LOW_FLOAT,MEDIUM_FLOAT:t.MEDIUM_FLOAT,HIGH_FLOAT:t.HIGH_FLOAT,LOW_INT:t.LOW_INT,MEDIUM_INT:t.MEDIUM_INT,HIGH_INT:t.HIGH_INT,FRAMEBUFFER:t.FRAMEBUFFER,RENDERBUFFER:t.RENDERBUFFER,RGBA4:t.RGBA4,RGB5_A1:t.RGB5_A1,RGB565:t.RGB565,DEPTH_COMPONENT16:t.DEPTH_COMPONENT16,STENCIL_INDEX:t.STENCIL_INDEX,STENCIL_INDEX8:t.STENCIL_INDEX8,DEPTH_STENCIL:t.DEPTH_STENCIL,RENDERBUFFER_WIDTH:t.RENDERBUFFER_WIDTH,RENDERBUFFER_HEIGHT:t.RENDERBUFFER_HEIGHT,RENDERBUFFER_INTERNAL_FORMAT:t.RENDERBUFFER_INTERNAL_FORMAT,RENDERBUFFER_RED_SIZE:t.RENDERBUFFER_RED_SIZE,RENDERBUFFER_GREEN_SIZE:t.RENDERBUFFER_GREEN_SIZE,RENDERBUFFER_BLUE_SIZE:t.RENDERBUFFER_BLUE_SIZE,RENDERBUFFER_ALPHA_SIZE:t.RENDERBUFFER_ALPHA_SIZE,RENDERBUFFER_DEPTH_SIZE:t.RENDERBUFFER_DEPTH_SIZE,RENDERBUFFER_STENCIL_SIZE:t.RENDERBUFFER_STENCIL_SIZE,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE,COLOR_ATTACHMENT0:t.COLOR_ATTACHMENT0,DEPTH_ATTACHMENT:t.DEPTH_ATTACHMENT,STENCIL_ATTACHMENT:t.STENCIL_ATTACHMENT,DEPTH_STENCIL_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT,NONE:t.NONE,FRAMEBUFFER_COMPLETE:t.FRAMEBUFFER_COMPLETE,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,FRAMEBUFFER_UNSUPPORTED:t.FRAMEBUFFER_UNSUPPORTED,FRAMEBUFFER_BINDING:t.FRAMEBUFFER_BINDING,RENDERBUFFER_BINDING:t.RENDERBUFFER_BINDING,MAX_RENDERBUFFER_SIZE:t.MAX_RENDERBUFFER_SIZE,INVALID_FRAMEBUFFER_OPERATION:t.INVALID_FRAMEBUFFER_OPERATION,UNPACK_FLIP_Y_WEBGL:t.UNPACK_FLIP_Y_WEBGL,UNPACK_PREMULTIPLY_ALPHA_WEBGL:t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,CONTEXT_LOST_WEBGL:t.CONTEXT_LOST_WEBGL,UNPACK_COLORSPACE_CONVERSION_WEBGL:t.UNPACK_COLORSPACE_CONVERSION_WEBGL,BROWSER_DEFAULT_WEBGL:t.BROWSER_DEFAULT_WEBGL},Object.defineProperty(a,"drawingBufferWidth",{get(){return v(E(this).ctxid),l.pushInt32(146),l.batchRender()},configurable:!0,enumerable:!0}),Object.defineProperty(a,"drawingBufferHeight",{get(){return v(E(this).ctxid),l.pushInt32(147),l.batchRender()},configurable:!0,enumerable:!0}),t.__webgl2__){var o,u=function(t,e,r,n,i){if(Array.isArray(e)&&(e=new t(e)),ArrayBuffer.isView(e)&&e.constructor.name==t.name){if(0==n&&(n=e.length-r),!(n<i||n%i!=0||r+n>e.length||0==n))return new t(e.buffer,e.byteOffset+4*r,n)}else console.log("Data type not match "+Object.prototype.toString.apply(e)+" "+e.constructor.name+":"+t.name)},c=function(t){return 6144==t?4:6145==t||6146==t?1:0};o={READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,copyBufferSubData(t,e,r,n,i){v(E(this).ctxid),l.pushInt32Array([153,t,e],3),l.pushInt64(r),l.pushInt64(n),l.pushInt64(i)},getBufferSubData(t,e,n,i=0,s=0){var a=E(this);v(a.ctxid);var o=n.BYTES_PER_ELEMENT?n.BYTES_PER_ELEMENT:1,u=o*i,c=s?s*o:n.byteLength-u;if(!(c+u>n.byteLength||e<0)){var h=new Uint8Array(n.buffer,n.byteOffset+u,c);if(!r)return l.batchRender(),a.origin_ctx.getBufferSubData(t,e,h);l.pushInt32(154),l.pushInt32(t),l.pushInt64(e),l.pushInt32(c);var f=l.batchRender();f.buffer&&(f.buffer=new n.constructor(f.buffer),n.set(f.buffer,i))}},blitFramebuffer(t,e,r,n,i,s,a,o,u,c){v(E(this).ctxid),l.pushInt32Array([155,t,e,r,n,i,s,a,o,u,c],11)},framebufferTextureLayer(t,e,r,n,i){var s=E(this);v(s.ctxid);var a=s.texture_storage.get(r);l.pushInt32Array([156,t,e,a,n,i],6)},invalidateFramebuffer(t,e){v(E(this).ctxid),l.pushInt32Array([157,t,e.length],3),l.pushInt32Array(e,e.length)},invalidateSubFramebuffer(t,e,r,n,i,s){v(E(this).ctxid),l.pushInt32Array([158,t,e.length,r,n,i,s],7),l.pushInt32Array(e,e.length)},readBuffer(t){v(E(this).ctxid),l.pushInt32Array([159,t],2)},getInternalformatParameter(t,e,r){return v(E(this).ctxid),l.pushInt32Array([160,t,e,r],4),l.batchRender()},renderbufferStorageMultisample(t,e,r,n,i){v(E(this).ctxid),l.pushInt32Array([161,t,e,r,n,i],6)},texStorage2D(t,e,r,n,i){v(E(this).ctxid),l.pushInt32Array([162,t,e,r,n,i],6)},texStorage3D(t,e,r,n,i,s){v(E(this).ctxid),l.pushInt32Array([163,t,e,r,n,i,s],7)},copyTexSubImage3D(t,e,r,n,i,s,a,o,u){v(E(this).ctxid),l.pushInt32Array([164,t,e,r,n,i,s,a,o,u],10)},getFragDataLocation(t,e){return v(E(this).ctxid),l.pushInt32Array([165,data.program_storage.get(t)],2),l.pushString(e),l.batchRender()},uniform1ui(t,e){t&&(v(E(this).ctxid),l.pushInt32Array([166,t.id,e],3))},uniform2ui(t,e,r){t&&(v(E(this).ctxid),l.pushInt32Array([167,t.id,e,r],4))},uniform3ui(t,e,r,n){t&&(v(E(this).ctxid),l.pushInt32Array([168,t.id,e,r,n],5))},uniform4ui(t,e,r,n,i){t&&(v(E(this).ctxid),l.pushInt32Array([169,t.id,e,r,n,i],6))},uniform1uiv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Uint32Array,e,r,n,1);i&&(l.pushInt32Array([170,t.id,i.length],3),l.pushInt32Array(i,i.length))}},uniform2uiv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Uint32Array,e,r,n,2);i&&(l.pushInt32Array([171,t.id,i.length],3),l.pushInt32Array(i,i.length))}},uniform3uiv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Uint32Array,e,r,n,3);i&&(l.pushInt32Array([172,t.id,i.length],3),l.pushInt32Array(i,i.length))}},uniform4uiv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Uint32Array,e,r,n,4);i&&(l.pushInt32Array([173,t.id,i.length],3),l.pushInt32Array(i,i.length))}},uniformMatrix3x2fv(t,e,r,n=0,i=0){if(t){v(E(this).ctxid);var s=e?1:0,a=u(Float32Array,r,n,i,6);a&&(l.pushInt32Array([174,t.id,s,a.length],4),l.pushFloat32Array(a,a.length))}},uniformMatrix4x2fv(t,e,r,n=0,i=0){if(t){v(E(this).ctxid);var s=e?1:0,a=u(Float32Array,r,n,i,8);a&&(l.pushInt32Array([175,t.id,s,a.length],4),l.pushFloat32Array(a,a.length))}},uniformMatrix2x3fv(t,e,r,n=0,i=0){if(t){v(E(this).ctxid);var s=e?1:0,a=u(Float32Array,r,n,i,6);a&&(l.pushInt32Array([176,t.id,s,a.length],4),l.pushFloat32Array(a,a.length))}},uniformMatrix4x3fv(t,e,r,n=0,i=0){if(t){v(E(this).ctxid);var s=e?1:0,a=u(Float32Array,r,n,i,12);a&&(l.pushInt32Array([177,t.id,s,a.length],4),l.pushFloat32Array(a,a.length))}},uniformMatrix2x4fv(t,e,r,n=0,i=0){if(t){v(E(this).ctxid);var s=e?1:0,a=u(Float32Array,r,n,i,8);a&&(l.pushInt32Array([178,t.id,s,a.length],4),l.pushFloat32Array(a,a.length))}},uniformMatrix3x4fv(t,e,r,n=0,i=0){if(t){v(E(this).ctxid);var s=e?1:0,a=u(Float32Array,r,n,i,12);a&&(l.pushInt32Array([179,t.id,s,a.length],4),l.pushFloat32Array(a,a.length))}},vertexAttribI4i(t,e,r,n,i){v(E(this).ctxid),l.pushInt32Array([180,t,e,r,n,i],5)},vertexAttribI4iv(t,e){e.length<4||(v(E(this).ctxid),l.pushInt32Array([181,t],2),l.pushInt32Array(e,4))},vertexAttribI4ui(t,e,r,n,i){v(E(this).ctxid),l.pushInt32Array([182,t,e,r,n,i],5)},vertexAttribI4uiv(t,e){e.length<4||(v(E(this).ctxid),l.pushInt32Array([183,t],2),l.pushInt32Array(e,4))},vertexAttribIPointer(t,e,r,n,i){v(E(this).ctxid),l.pushInt32Array([184,t,e,r,n],5),l.pushInt64(i)},vertexAttribDivisor(t,e){v(E(this).ctxid),l.pushInt32Array([185,t,e],3)},drawArraysInstanced(t,e,r,n){v(E(this).ctxid),l.pushInt32Array([186,t,e,r,n],5),l.drawCalls+=1},drawElementsInstanced(t,e,r,n,i){v(E(this).ctxid),l.pushInt32Array([187,t,e,r,i],5),l.pushInt64(n),l.drawCalls+=1},drawRangeElements(t,e,r,n,i,s){v(E(this).ctxid),l.pushInt32Array([188,t,e,r,n,i],6),l.pushInt64(s)},drawBuffers(t){v(E(this).ctxid),l.pushInt32Array([189,t.length],2),l.pushInt32Array(t,t.length)},clearBufferfv(t,e,r,n){v(E(this).ctxid);var i=u(Float32Array,r,n,c(t),1);i&&(l.pushInt32Array([190,t,e,i.length,0],5),l.pushFloat32Array(i,i.length))},clearBufferiv(t,e,r,n){v(E(this).ctxid);var i=u(Int32Array,r,n,c(t),1);i&&(l.pushInt32Array([191,t,e,i.length,0],5),l.pushInt32Array(i,i.length))},clearBufferuiv(t,e,r,n){v(E(this).ctxid);var i=u(Uint32Array,r,n,c(t),1);i&&(l.pushInt32Array([192,t,e,i.length,0],5),l.pushInt32Array(i,i.length))},clearBufferfi(t,e,r,n){v(E(this).ctxid),l.pushInt32Array([193,t,e,n],4),l.pushFloat32(r)},createQuery(){var t=E(this);v(t.ctxid),l.pushInt32(194);var e=l.batchRender();return t.query_storage.createWebGLObject(e,t.ctxid)},deleteQuery(t){var e=E(this),r=e.query_storage.get(t);r<=0||(v(e.ctxid),l.pushInt32Array([195,r],2),e.query_storage.remove(t))},isQuery(t){var e=E(this),r=e.query_storage.get(t);return!(r<=0)&&(v(e.ctxid),l.pushInt32Array([196,r],2),l.batchRender())},beginQuery(t,e){var r=E(this),n=r.query_storage.get(e);n<=0||(v(r.ctxid),l.pushInt32Array([197,t,n],3))},endQuery(t){v(E(this).ctxid),l.pushInt32Array([198,t],2)},getQuery(t,e){var r=E(this);v(r.ctxid),l.pushInt32Array([199,t,e],3);var n=l.batchRender();return r.query_storage.getObjectWithId(n)},getQueryParameter(t,e){var r=E(this);v(r.ctxid);var n=r.query_storage.get(t);return l.pushInt32Array([200,n,e],3),l.batchRender()},createSampler(){var t=E(this);v(t.ctxid),l.pushInt32(201);var e=l.batchRender();return t.sampler_storage.createWebGLObject(e,t.ctxid)},deleteSampler(t){var e=E(this),r=e.sampler_storage.get(t);r<=0||(v(e.ctxid),l.pushInt32Array([202,r],2),e.sampler_storage.remove(t))},isSampler(t){var e=E(this),r=e.sampler_storage.get(t);return!(r<=0)&&(v(e.ctxid),l.pushInt32Array([203,r],2),l.batchRender())},bindSampler(t,e){var r=E(this);v(r.ctxid);var n=r.sampler_storage.get(e);l.pushInt32Array([204,t,n],3)},samplerParameteri(t,e,r){var n=E(this);v(n.ctxid);var i=n.sampler_storage.get(t);l.pushInt32Array([205,i,e,r],4)},samplerParameterf(t,e,r){var n=E(this);v(n.ctxid);var i=n.sampler_storage.get(t);l.pushInt32Array([206,i,e],3),l.pushFloat32(r)},getSamplerParameter(t,e){var r=E(this);v(r.ctxid);var n=r.sampler_storage.get(t);return l.pushInt32Array([207,n,e],3),l.batchRender()},fenceSync(t,e){var r=E(this);v(r.ctxid);var n=l.next_sync_id++;return l.pushInt32Array([208,t,e,n],4),r.sync_storage.createWebGLObject(n,r.ctxid)},isSync(t){return!(E(this).sync_storage.get(t)<=0)},deleteSync(t){var e=E(this),r=e.sync_storage.get(t);r<=0||(e.sync_storage.remove(t),v(e.ctxid),l.pushInt32Array([210,r],2))},clientWaitSync(t,e,r){var n=E(this);v(n.ctxid);var i=n.sync_storage.get(t);return i<=0?37149:(l.pushInt32Array([211,i,e],3),l.pushInt64(r),l.batchRender())},waitSync(t,e,r){},getSyncParameter(t,e){var r=E(this);v(r.ctxid);var n=r.sync_storage.get(t);if(!(n<=0))return l.pushInt32Array([213,n,e],3),l.batchRender()},createTransformFeedback(){var t=E(this);v(t.ctxid),l.pushInt32(214);var e=l.batchRender();return t.transform_feedback_storage.createWebGLObject(e,t.ctxid)},deleteTransformFeedback(t){var e=E(this);v(e.ctxid);var r=e.transform_feedback_storage.get(t);r<=0||(l.pushInt32Array([215,r],2),e.transform_feedback_storage.remove(t))},isTransformFeedback(t){var e=E(this);v(e.ctxid);var r=e.transform_feedback_storage.get(t);return!(r<=0)&&(l.pushInt32Array([216,r],2),l.batchRender())},bindTransformFeedback(t,e){var r=E(this);v(r.ctxid);var n=r.transform_feedback_storage.get(e);l.pushInt32Array([217,t,n],3)},beginTransformFeedback(t){v(E(this).ctxid),l.pushInt32Array([218,t],2)},endTransformFeedback(){v(E(this).ctxid),l.pushInt32(219)},transformFeedbackVaryings(t,e,r){var n=E(this);v(n.ctxid),l.pushInt32Array([220,n.program_storage.get(t),e.length,r],4);for(var i=0;i<e.length;i++)l.pushString(e[i])},getTransformFeedbackVarying(t,e){var r=E(this);v(r.ctxid),l.pushInt32Array([221,r.program_storage.get(t),e],3);var n=l.batchRender();if(!n)return null;var i=n.split(","),s={};return s.type=Number(i[0]),s.size=Number(i[1]),s.name=i[2],s},pauseTransformFeedback(){v(E(this).ctxid),l.pushInt32(222)},resumeTransformFeedback(){v(E(this).ctxid),l.pushInt32(223)},bindBufferBase(t,e,r){var n=E(this);v(n.ctxid);var i=n.buffer_storage.get(r);l.pushInt32Array([224,t,e,i],4)},bindBufferRange(t,e,r,n,i){var s=E(this);v(s.ctxid);var a=s.buffer_storage.get(r);l.pushInt32Array([225,t,e,a],4),l.pushInt64(n),l.pushInt64(i)},getIndexedParameter(t,e){var r=E(this);v(r.ctxid),l.pushInt32Array([226,t,e],3);var n=l.batchRender();return t==this.TRANSFORM_FEEDBACK_BUFFER_BINDING||t==this.UNIFORM_BUFFER_BINDING?r.buffer_storage.getObjectWithId(n):n},getUniformIndices(t,e){var r=E(this),n=r.program_storage.get(t);T(r,n);for(var i=[],s=r.activeUniformCache[n],a=s.length,o=e.length,u=0;u<o;u++)for(var c=0;c<a;c++)if(e[u]===s[c].name){i.push(s[c].index);break}return i},getActiveUniforms(t,e,r){var n=E(this),i=n.program_storage.get(t),s=e.length,a=[],o=[];switch(r){case this.UNIFORM_BLOCK_INDEX:T(n,i),a=n.programParameterCache[i].allActiveUniformBlockIndices;for(var u=0;u<s;u++)o.push(a[e[u]]);return o;case this.UNIFORM_OFFSET:T(n,i),a=n.programParameterCache[i].allActiveUniformOffsets;for(var c=0;c<s;c++)o.push(a[e[c]]);return o}return v(n.ctxid),l.pushInt32Array([228,i,e.length,r],4),l.pushInt32Array(e,e.length),l.batchRender()},getUniformBlockIndex(t,e){var r=E(this);return v(r.ctxid),l.pushInt32Array([229,r.program_storage.get(t)],2),l.pushString(e),l.batchRender()},getActiveUniformBlockParameter(t,e,r){var n=E(this);return v(n.ctxid),l.pushInt32Array([230,n.program_storage.get(t),e,r],4),l.batchRender()},getActiveUniformBlockName(t,e){var r=E(this);return v(r.ctxid),l.pushInt32Array([231,r.program_storage.get(t),e],3),l.batchRender()},uniformBlockBinding(t,e,r){var n=E(this);v(n.ctxid),l.pushInt32Array([232,n.program_storage.get(t),e,r],4)},createVertexArray(){var t=E(this);v(t.ctxid),l.pushInt32(233);var e=l.batchRender();return t.vao_storage.createWebGLObject(e,t.ctxid)},deleteVertexArray(t){var e=E(this);v(e.ctxid),l.pushInt32Array([234,e.vao_storage.get(t)],2),e.vao_storage.remove(t)},isVertexArray(t){var e=E(this);v(e.ctxid);var r=e.vao_storage.get(t);return!(r<=0)&&(l.pushInt32Array([235,r],2),l.batchRender())},bindVertexArray(t){var e=E(this);v(e.ctxid),l.pushInt32Array([236,e.vao_storage.get(t)],2)},bufferData(t,e,r,n,i){if(v(E(this).ctxid),"number"!=typeof e||isNaN(e))if(3==arguments.length)l.pushInt32Array([25,t,r],3),l.pushArrayBuffer(e);else{var s=e.BYTES_PER_ELEMENT?e.BYTES_PER_ELEMENT:1,a=s*n,o=i?i*s:e.byteLength-a;if(o+a>e.byteLength)return;var u=new Uint8Array(e.buffer,e.byteOffset+a,o);l.pushInt32Array([25,t,r],3),l.pushArrayBuffer(u)}else l.pushInt32Array([24,t,r],3),l.pushInt64(e)},bufferSubData(t,e,r,n,i){if(v(E(this).ctxid),3==arguments.length)l.pushInt32Array([49,t,e],3),l.pushArrayBuffer(r);else{var s=r.BYTES_PER_ELEMENT?r.BYTES_PER_ELEMENT:1,a=s*n,o=i?i*s:r.byteLength-a;if(o+a>r.byteLength||o<0)return;var u=new Uint8Array(r.buffer,r.byteOffset+a,o);l.pushInt32Array([49,t,e],3),l.pushArrayBuffer(u)}},uniform1fv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Float32Array,e,r,n,1);i&&(l.pushInt32Array([239,t.id,i.length],3),l.pushFloat32Array(i,i.length))}},uniform2fv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Float32Array,e,r,n,2);i&&(l.pushInt32Array([240,t.id,i.length],3),l.pushFloat32Array(i,i.length))}},uniform3fv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Float32Array,e,r,n,3);i&&(l.pushInt32Array([241,t.id,i.length],3),l.pushFloat32Array(i,i.length))}},uniform4fv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Float32Array,e,r,n,4);i&&(l.pushInt32Array([242,t.id,i.length],3),l.pushFloat32Array(i,i.length))}},uniform1iv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Int32Array,e,r,n,1);i&&(l.pushInt32Array([243,t.id,i.length],3),l.pushInt32Array(i,i.length))}},uniform2iv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Int32Array,e,r,n,2);i&&(l.pushInt32Array([244,t.id,i.length],3),l.pushInt32Array(i,i.length))}},uniform3iv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Int32Array,e,r,n,3);i&&(l.pushInt32Array([245,t.id,i.length],3),l.pushInt32Array(i,i.length))}},uniform4iv(t,e,r=0,n=0){if(t){v(E(this).ctxid);var i=u(Int32Array,e,r,n,4);i&&(l.pushInt32Array([246,t.id,i.length],3),l.pushInt32Array(i,i.length))}},uniformMatrix2fv(t,e,r,n=0,i=0){if(t){v(E(this).ctxid);var s=u(Float32Array,r,n,i,4);s&&(l.pushInt32Array([247,t.id,e?1:0,s.length],4),l.pushFloat32Array(s,s.length))}},uniformMatrix3fv(t,e,r,n=0,i=0){if(t){v(E(this).ctxid);var s=u(Float32Array,r,n,i,9);s&&(l.pushInt32Array([248,t.id,e?1:0,s.length],4),l.pushFloat32Array(s,s.length))}},uniformMatrix4fv(t,e,r,n=0,i=0){if(t){v(E(this).ctxid);var s=u(Float32Array,r,n,i,16);s&&(l.pushInt32Array([249,t.id,e?1:0,s.length],4),l.pushFloat32Array(s,s.length))}},texImage3D(t,e,i,a,o,u,c,h,f,d,_){var p=E(this);v(p.ctxid);var A=void 0;if(d&&d.__uid)l.pushInt32Array([250,t,e,i,a,o,u,c,h,f],10),l.pushInt64("function"==typeof d.__uid?d.__uid():d.__uid);else if("number"==typeof d)l.pushInt32Array([251,t,e,i,a,o,u,c,h,f],10),l.pushInt64(d);else if(_){var T=(d.BYTES_PER_ELEMENT?d.BYTES_PER_ELEMENT:1)*_,g=d.byteLength-T,R=s(p,a,o,u,n(h,f),!0);if(g<0||g<R||void 0===R)return;A=new Uint8Array(d.buffer,d.byteOffset+T,R),l.pushInt32Array([252,t,e,i,a,o,u,c,h,f],10)}else!(A=d)&&r&&(A=new Uint8Array),l.pushInt32Array([252,t,e,i,a,o,u,c,h,f],10);l.batchRender(A)},texSubImage3D(t,e,r,i,a,o,u,c,h,f,d,_){var p=E(this);v(p.ctxid);var A=void 0;if(d&&d.__uid)l.pushInt32Array([254,t,e,r,i,a,o,u,c,h,f],11),l.pushInt64("function"==typeof d.__uid?d.__uid():d.__uid);else if("number"==typeof d)l.pushInt32Array([255,t,e,r,i,a,o,u,c,h,f],11),l.pushInt64(d);else if(_){var T=(d.BYTES_PER_ELEMENT?d.BYTES_PER_ELEMENT:1)*_,g=d.byteLength-T,R=s(p,o,u,c,n(h,f),!0);if(g<0||g<R||void 0===R)return;A=new Uint8Array(d.buffer,d.byteOffset+T,R),l.pushInt32Array([256,t,e,r,i,a,o,u,c,h,f],11)}else{if(!(A=d))return;l.pushInt32Array([256,t,e,r,i,a,o,u,c,h,f],11)}l.batchRender(A)},texImage2D(t,e,i,a,o,u,c,h,f,d){var _=E(this);v(_.ctxid);var p=void 0;if(6===arguments.length){if("function"!=typeof u.__uid&&"number"!=typeof u.__uid)return;l.pushInt32Array([28,t,e,i,a,o],6),l.pushInt64("function"==typeof u.__uid?u.__uid():u.__uid)}else if(f&&f.__uid)l.pushInt32Array([257,t,e,i,a,o,u,c,h],9),l.pushInt64("function"==typeof f.__uid?f.__uid():f.__uid);else if("number"==typeof f)l.pushInt32Array([258,t,e,i,a,o,u,c,h],9),l.pushInt64(f);else if(d){var A=(f.BYTES_PER_ELEMENT?f.BYTES_PER_ELEMENT:1)*d,T=f.byteLength-A,g=s(_,a,o,1,n(c,h),!1);if(T<0||T<g||void 0===g)return;p=new Uint8Array(f.buffer,f.byteOffset+A,g),l.pushInt32Array([259,t,e,i,a,o,u,c,h],9)}else!(p=f)&&r&&(p=new Uint8Array),l.pushInt32Array([259,t,e,i,a,o,u,c,h],9);l.batchRender(p)},texSubImage2D(t,e,r,i,a,o,u,c,h,f){var d=E(this);v(d.ctxid);var _=void 0;if(7===arguments.length){if("function"!=typeof u.__uid&&"number"!=typeof u.__uid)return;l.pushInt32Array([84,t,e,r,i,a,o],7),l.pushInt64("function"==typeof u.__uid?u.__uid():u.__uid)}else if(h&&h.__uid)l.pushInt32Array([260,t,e,r,i,a,o,u,c],9),l.pushInt64("function"==typeof h.__uid?h.__uid():h.__uid);else if("number"==typeof h)l.pushInt32Array([261,t,e,r,i,a,o,u,c],9),l.pushInt64(h);else if(f){var p=(h.BYTES_PER_ELEMENT?h.BYTES_PER_ELEMENT:1)*f,A=h.byteLength-p,T=s(d,a,o,1,n(u,c),!1);if(A<0||A<T||void 0===T)return;_=new Uint8Array(h.buffer,h.byteOffset+p,T),l.pushInt32Array([262,t,e,r,i,a,o,u,c],9)}else{if(!(_=h))return;l.pushInt32Array([262,t,e,r,i,a,o,u,c],9)}l.batchRender(_)},compressedTexImage3D(t,e,r,n,i,s,a,o,u,c){v(E(this).ctxid);var h=void 0;if("number"==typeof o)l.pushInt32Array([263,t,e,r,n,i,s,a,o],9),l.pushInt64(u);else{var f=o.BYTES_PER_ELEMENT?o.BYTES_PER_ELEMENT:1,d=u?u*f:0,_=c?c*f:o.byteLength-d;if(_<0||d+_>o.byteLength)return;h=new Uint8Array(o.buffer,o.byteOffset+d,_),l.pushInt32Array([264,t,e,r,n,i,s,a],8)}l.batchRender(h)},compressedTexSubImage3D(t,e,r,n,i,s,a,o,u,c,h,f){v(E(this).ctxid);var d=void 0;if("number"==typeof c)l.pushInt32Array([265,t,e,r,n,i,s,a,o,u,c],11),l.pushInt64(h);else{var _=c.BYTES_PER_ELEMENT?c.BYTES_PER_ELEMENT:1,p=h?h*_:0,A=f?f*_:c.byteLength-p;if(A<0||p+A>c.byteLength)return;d=new Uint8Array(c.buffer,c.byteOffset+p,A),l.pushInt32Array([266,t,e,r,n,i,s,a,o,u],10)}l.batchRender(d)},compressedTexImage2D(t,e,r,n,i,s,a,o,u){v(E(this).ctxid);var c=void 0;if("number"==typeof a)l.pushInt32Array([267,t,e,r,n,i,s,a],8),l.pushInt64(o);else{var h=a.BYTES_PER_ELEMENT?a.BYTES_PER_ELEMENT:1,f=o?o*h:0,d=u?u*h:a.byteLength-f;if(d<0||f+d>a.byteLength)return;c=new Uint8Array(a.buffer,a.byteOffset+f,d),l.pushInt32Array([268,t,e,r,n,i,s],7)}l.batchRender(c)},compressedTexSubImage2D(t,e,r,n,i,s,a,o,u,c){v(E(this).ctxid);var h=void 0;if("number"==typeof o)l.pushInt32Array([269,t,e,r,n,i,s,a,o],9),l.pushInt64(u);else{var f=o.BYTES_PER_ELEMENT?o.BYTES_PER_ELEMENT:1,d=u?u*f:0,_=c?c*f:o.byteLength-d;if(_<0||d+_>o.byteLength)return;h=new Uint8Array(o.buffer,o.byteOffset+d,_),l.pushInt32Array([270,t,e,r,n,i,s,a],8)}l.batchRender(h)},readPixels(t,e,n,i,s,a,o,u){var c=E(this);if(v(c.ctxid),"number"==typeof o)l.pushInt32Array([271,t,e,n,i,s,a],7),l.pushInt64(o),l.batchRender();else{if(!r){var h=o.BYTES_PER_ELEMENT?o.BYTES_PER_ELEMENT:1;return l.batchRender(),c.origin_ctx.readPixels(t,e,n,i,s,a,o,u*h)}l.pushInt32(138),l.pushInt32Array([t,e,n,i,s,a],6);var f=l.batchRender();f.buffer&&o&&(f.buffer=new o.constructor(f.buffer),u=u||0,o.set(f.buffer,u))}}},a=Object.assign(a,o)}var h=Object.create(a);return E(h).origin_ctx=t,E(h).ctxid=t.__uid(),h.canvas=t.canvas,h.__closeCommandBuffer=function(){l.batchRender();for(var t=Object.getOwnPropertyNames(a),e=function(){var e=t[r];if("function"==typeof h[e]){var n=h[e];a[e]=function(){var t=n.apply(this,arguments);return l.offsetPerFourBytes>2&&l.batchRender(),t}}},r=0;r<t.length;r++)e()},h},t.buildCanvas2DCommandBuffer=function(t){var e=Object.create({drawImage(t,e,r,n,i,s,a,o,u){if("function"!=typeof t.__uid&&"number"!=typeof t.__uid)throw t;v(E(this).ctxid),l.pushInt32(1),l.pushInt32("function"==typeof t.__uid?t.__uid():t.__uid);var c=Array.from(arguments).slice(1);l.pushInt32(c.length),l.pushFloat32Array(c,c.length),l.drawCalls+=1},clearRect(t,e,r,n){v(E(this).ctxid),l.pushInt32(2),l.pushFloat32Array([t,e,r,n],4),l.drawCalls+=1},fillRect(t,e,r,n){v(E(this).ctxid),l.pushInt32(3),l.pushFloat32Array([t,e,r,n],4),l.drawCalls+=1},strokeRect(t,e,r,n){v(E(this).ctxid),l.pushInt32(4),l.pushFloat32Array([t,e,r,n],4),l.drawCalls+=1},fillText(t,e,r,n){n=n||-1,v(E(this).ctxid),l.pushInt32(5),l.pushString(String(t)),l.pushFloat32Array([e,r,n],3),l.drawCalls+=1},strokeText(t,e,r,n){n=n||-1,v(E(this).ctxid),l.pushInt32(6),l.pushString(String(t)),l.pushFloat32Array([e,r,n],3),l.drawCalls+=1},measureText(t){return v(E(this).ctxid),l.pushInt32(7),l.pushString(String(t)),l.batchRender()},save(){var t=E(this),e=t.states;e.length>1e4?console.warn("canvas context 2d state overflow..."):(v(t.ctxid),l.pushInt32(8),e.push(e[e.length-1].clone()))},restore(){var t=E(this).states;t.length<=1||(v(E(this).ctxid),l.pushInt32(9),t.pop())},beginPath(){v(E(this).ctxid),l.pushInt32(10)},closePath(){v(E(this).ctxid),l.pushInt32(11)},moveTo(t,e){v(E(this).ctxid),l.pushInt32(12),l.pushFloat32Array([t,e],2)},lineTo(t,e){v(E(this).ctxid),l.pushInt32(13),l.pushFloat32Array([t,e],2)},bezierCurveTo(t,e,r,n,i,s){v(E(this).ctxid),l.pushInt32(14),l.pushFloat32Array([t,e,r,n,i,s],6)},ellipse(t,e,r,n,i,s,a,o){o=!!o,v(E(this).ctxid),l.pushInt32(15),l.pushFloat32Array([t,e,r,n,i,s,a],7),l.pushInt32(o)},quadraticCurveTo(t,e,r,n){v(E(this).ctxid),l.pushInt32(16),l.pushFloat32Array([t,e,r,n],4)},arc(t,e,r,n,i,s){s=!!s,v(E(this).ctxid),l.pushInt32(17),l.pushFloat32Array([t,e,r,n,i],5),l.pushInt32(s)},arcTo(t,e,r,n,i){v(E(this).ctxid),l.pushInt32(18),l.pushFloat32Array([t,e,r,n,i],5)},rect(t,e,r,n){v(E(this).ctxid),l.pushInt32(19),l.pushFloat32Array([t,e,r,n],4)},roundRect(){},stroke(){arguments.length>0?console.warn("stroke not support"):(v(E(this).ctxid),l.pushInt32(21))},fill(t,e){arguments.length>0&&"string"!=typeof t?console.warn("fill not support"):(v(E(this).ctxid),l.pushInt32(22),fillRule=arguments.length>0?t:"nonzero",l.pushString(String(fillRule)))},clip(t){arguments.length>0&&"string"!=typeof t?console.warn("clip not support"):(v(E(this).ctxid),l.pushInt32(23),fillRule=arguments.length>0?t:"nonzero",l.pushString(String(fillRule)))},isPointInPath(t,e,r,n){if("object"!=typeof t)return v(E(this).ctxid),l.pushInt32(24),l.pushFloat32Array([t,e],2),fillRule=arguments.length>2?r:"nonzero",l.pushString(String(fillRule)),l.batchRender();console.warn("isPointInPath not support")},isPointInStroke(t,e,r){if("object"!=typeof t)return v(E(this).ctxid),l.pushInt32(25),l.pushFloat32Array([t,e],2),l.batchRender();console.warn("isPointInPath not support")},rotate(t){v(E(this).ctxid),l.pushInt32(26),l.pushFloat32(t)},scale(t,e){v(E(this).ctxid),l.pushInt32(27),l.pushFloat32Array([t,e],2)},translate(t,e){v(E(this).ctxid),l.pushInt32(28),l.pushFloat32Array([t,e],2)},setTransform(t,e,r,n,i,s){"object"!=typeof t||(s=t.f,i=t.e,n=t.d,r=t.c,e=t.b,t=t.a,Number.isFinite(t)&&Number.isFinite(e)&&Number.isFinite(r)&&Number.isFinite(n)&&Number.isFinite(i)&&Number.isFinite(s))?(v(E(this).ctxid),l.pushInt32(29),l.pushFloat32Array([t,e,r,n,i,s],6)):console.warn("setTransform not support")},transform(t,e,r,n,i,s){v(E(this).ctxid),l.pushInt32(30),l.pushFloat32Array([t,e,r,n,i,s],6)},getTransform(){v(E(this).ctxid),l.pushInt32(31);var t=l.batchRender();return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}},resetTransform(){v(E(this).ctxid),l.pushInt32(32)},getImageData(t,e,r,n){v(E(this).ctxid),l.pushInt32(33),l.pushInt32Array([t,e,r,n],4);var i=l.batchRender();return i.data=new Uint8ClampedArray(i.buffer),i.buffer=void 0,i},putImageData(t,e,r,n,i,s,a){"object"==typeof t||void 0!==t.data?(n=n||0,i=i||0,s=s||t.width,a=a||t.height,v(E(this).ctxid),l.pushInt32(34),l.pushInt32Array([t.width,t.height],2),l.pushArrayBuffer(t.data),l.pushInt32Array([e,r,n,i,s,a],6)):console.warn("putImageData not support")},setLineDash(t){if("object"==typeof t&&"number"==typeof t.length){var e=E(this),r=e.states;r[r.length-1].lineDash=t,v(e.ctxid),l.pushInt32(35),l.pushInt32(t.length),l.pushFloat32Array(t,t.length)}else console.warn("setLineDash not support")},getLineDash(){var t=E(this).states;return t[t.length-1].lineDash},createLinearGradient(t,e,r,n){if(!(Number.isFinite(t)&&Number.isFinite(e)&&Number.isFinite(r)&&Number.isFinite(n)))throw"create linear gradient with infinite number";var i=E(this),s=f(),a={};return a.styleId=s,a.addColorStop=function(t,e){t=Number(t),e=String(e),v(i.ctxid),l.pushInt32(56),l.pushInt32(s),l.pushFloat32(t),l.pushString(e)},v(i.ctxid),l.pushInt32(54),l.pushInt32(s),l.pushFloat32Array([t,e,r,n],4),a},createRadialGradient(t,e,r,n,i,s){if(!Number.isFinite(t)||!Number.isFinite(e)||!Number.isFinite(n)||!Number.isFinite(i)||!Number.isFinite(r)||!Number.isFinite(s)||r<0||s<0)throw"create radial gradient with invalid params";var a=E(this),o=f(),u={};return u.styleId=o,u.addColorStop=function(t,e){t=Number(t),e=String(e),v(a.ctxid),l.pushInt32(56),l.pushInt32(o),l.pushFloat32(t),l.pushString(e)},v(a.ctxid),l.pushInt32(55),l.pushInt32(o),l.pushFloat32Array([t,e,r,n,i,s],6),u},createPattern:(t,e)=>({})});function r(t,r){Object.defineProperty(e,t,{get(){var e=E(this).states;return e[e.length-1][t]},set(e){var n=E(this),i=n.states;i[i.length-1][t]=e,r(n,e)},configurable:!0,enumerable:!0})}return r("lineWidth",(function(t,e){v(t.ctxid),l.pushInt32(36),l.pushFloat32(e)})),r("lineCap",(function(t,e){v(t.ctxid),l.pushInt32(37),l.pushString(String(e))})),r("lineJoin",(function(t,e){v(t.ctxid),l.pushInt32(38),l.pushString(String(e))})),r("miterLimit",(function(t,e){v(t.ctxid),l.pushInt32(39),l.pushFloat32(e)})),r("lineDashOffset",(function(t,e){v(t.ctxid),l.pushInt32(40),l.pushFloat32(e)})),r("font",(function(t,e){v(t.ctxid),l.pushInt32(41),l.pushString(String(e))})),r("textAlign",(function(t,e){v(t.ctxid),l.pushInt32(42),l.pushString(String(e))})),r("textBaseline",(function(t,e){v(t.ctxid),l.pushInt32(43),l.pushString(String(e))})),r("shadowBlur",(function(t,e){v(t.ctxid),l.pushInt32(44),l.pushFloat32(e)})),r("shadowColor",(function(t,e){v(t.ctxid),l.pushInt32(45),l.pushString(String(e))})),r("shadowOffsetX",(function(t,e){v(t.ctxid),l.pushInt32(46),l.pushFloat32(e)})),r("shadowOffsetY",(function(t,e){v(t.ctxid),l.pushInt32(47),l.pushFloat32(e)})),r("globalAlpha",(function(t,e){v(t.ctxid),l.pushInt32(48),l.pushFloat32(e)})),r("globalCompositeOperation",(function(t,e){v(t.ctxid),l.pushInt32(49),l.pushString(String(e))})),r("imageSmoothingEnabled",(function(t,e){v(t.ctxid),l.pushInt32(50),l.pushInt32(e)})),r("imageSmoothingQuality",(function(t,e){v(t.ctxid),l.pushInt32(51),l.pushString(String(e))})),r("fillStyle",(function(t,e){if(v(t.ctxid),"object"==typeof e){if("number"!=typeof e.styleId)return;var r=e.styleId;l.pushInt32(52),l.pushString("Canvas2DStyle"),l.pushInt32(r)}else l.pushInt32(52),l.pushString(String(e))})),r("strokeStyle",(function(t,e){if(v(t.ctxid),"object"==typeof e){if("number"!=typeof e.styleId)return;var r=e.styleId;l.pushInt32(53),l.pushString("Canvas2DStyle"),l.pushInt32(r)}else l.pushInt32(53),l.pushString(String(e))})),E(e).origin_ctx=t,E(e).ctxid=t.__uid(),e.canvas=t.canvas,t.reset=()=>{E(e).states=[new A]},e}}function p(t){this.destroycmdid=t,this.map_object_to_id=new WeakMap,this.reverse_map_id_to_object=new c,this.getIdWithObject=function(t){var e=this.map_object_to_id.get(t);return e?e[0]:0},this.getObjectWithId=function(t){return this.reverse_map_id_to_object.get(t)},this.get=this.getIdWithObject,this.put=function(t,e){this.reverse_map_id_to_object.put(t,e)},this.remove=function(t){if("number"==typeof t){var e=this.reverse_map_id_to_object.get(t);if(void 0===e)return;var r=this.map_object_to_id.get(e)[1];this.map_object_to_id.delete(e),delete d.handler[r],n.unregister(e)}else if("object"==typeof t){if(!this.map_object_to_id.has(t))return;var i=this.map_object_to_id.get(t);this.reverse_map_id_to_object.remove(i[0]),this.map_object_to_id.delete(t);var s=i[1];delete d.handler[s],n.unregister(t)}},this.createWebGLObject=function(t,e){var r={},i=d.nextWatcherID++;return this.map_object_to_id.set(r,[t,i]),this.reverse_map_id_to_object.put(t,r),d.handler[i]=function(t,e,r,n){return function(){v(e),l.pushInt32Array([r,t],2),n.reverse_map_id_to_object.remove(t)}}(t,e,this.destroycmdid,this),n.register(r,i,r),r}}function A(){return{lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,lineDash:void 0,lineDashOffset:0,font:"10px sans-serif",textAlign:"start",textBaseline:"alphabetic",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)",shadowOffsetX:0,shadowOffsetY:0,globalAlpha:1,globalCompositeOperation:"source-over",imageSmoothingEnabled:!1,imageSmoothingQuality:"low",fillStyle:"#000000",strokeStyle:"#000000",clone:function(){var t=new A;return t.lineWidth=this.lineWidth,t.lineCap=this.lineCap,t.lineJoin=this.lineJoin,t.miterLimit=this.miterLimit,t.lineDash=this.lineDash?this.lineDash.slice(0):void 0,t.lineDashOffset=this.lineDashOffset,t.font=this.font,t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.shadowBlur=this.shadowBlur,t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.globalAlpha=this.globalAlpha,t.globalCompositeOperation=this.globalCompositeOperation,t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.imageSmoothingQuality=this.imageSmoothingQuality,t.fillStyle=this.fillStyle,t.strokeStyle=this.strokeStyle,t}}}function v(t){if(l.offsetPerFourBytes>=h&&l.batchRender(),l.currentctxid!==t){if(-1!=l.currentctxid&&0!=l.ctxLengthOffsetPerFourBytes){var e=l.uint32Array[l.ctxLengthOffsetPerFourBytes];l.uint32Array[l.ctxLengthOffsetPerFourBytes]=l.offsetPerFourBytes-e}l.pushInt32(999),l.pushInt32(t),l.ctxLengthOffsetPerFourBytes=l.offsetPerFourBytes,l.pushInt32(l.offsetPerFourBytes+1),l.currentctxid=t}}function T(t,e){if(void 0===t.programParameterCache[e]&&(v(t.ctxid),l.pushInt32Array([273,e],2),t.programParameterCache[e]=l.batchRender()),void 0===t.activeUniformCache[e]){t.activeUniformCache[e]=[],t.uniformLocationCache[e]={};var r=t.programParameterCache[e].allActiveUniformInfo;if(r)for(var n=r.split(","),i=0;i+3<n.length;i+=4){var s={};s.type=Number(n[i]),s.size=Number(n[i+1]),s.name=n[i+2],s.index=i/4,t.activeUniformCache[e].push(s),t.uniformLocationCache[e][s.name]=n[i+3]}}}}},152:()=>{RegExp.prototype.exec=new Proxy(RegExp.prototype.exec,{apply:(t,e,r)=>"string"==typeof r[0]?Reflect.apply(t,e,r):null})}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";r(152);const t=["getStorageSync","readFileSync","fs_appendFileSync","measureText","createAudioInstance","loadLibFiles","setDisplayOrientation","restoreWebviewFocus","getPublicLibVersion","getCurrentRoute","enableDeviceOrientationChangeListening","setStorageSync","writeFileSync","createLoadSubPackageTask","initReadyForPrerender","unlinkSync","statSync","initReady","isdirSync","createDownloadTask","getStorageInfoSync","getBackgroundAudioState","removeStorageSync","accessSync","exitMiniProgram","initReadyAfterRenderingCache","readdirSync","readCompressedFileSync","clearStorageSync","saveFileSync","getSystemInfoSync","mkdirSync","canvasToTempFilePathSync","rmdirSync","loadWAFileSync","fs_renameSync","markScene","getSelectedTextRange","fs_copyFileSync","createUploadTask","createSocketTask","getPluginPermissionBytes","getPermissionBytes","measureTextString","isGameRecorderSupported","getABTestConfig","createRequestTask","createRequestTaskAsync","openSystemSetting","getMenuButtonBoundingClientRect","remoteDebugInfo","getSystemInfo","sync_jsapi_end","getStorage","setStorage","bindUDPSocket","sendDataToH5","createBufferURL","revokeBufferURL","jitCreateNativeCanvas","jitResizeNativeCanvas"];function e(t){return Object.prototype.toString.call(t).split(" ")[1].split("]")[0]}function n(t){return void 0!==t&&("ArrayBuffer"===e(t)||ArrayBuffer.isView(t))&&void 0!==t.byteLength}function i(t,e,r){return Math.max(e,Math.min(t,r))}var s,a,o=new WeakMap,u=t=>o.get(t),c=(t,e)=>o.set(t,e),h=[console.log,console.info,console.warn,console.error,console.debug,console.time,console.timeEnd],f=!1,d=[];function _(){var{__wxConfig:t}=top;if(t.debug){f=!0,s=document.createElement("div"),a=document.createElement("iframe"),s.id="vBtn",a.id="vConsole",s.textContent="vConsole",a.src="/wxcommlib/WAGameVConsole.html",document.body.appendChild(a),document.body.appendChild(s);var e,r,n,o=!1;s.addEventListener("touchstart",(t=>{t.stopPropagation();var i=(t.touches||t.changedTouches)[0];e=t.timeStamp,r=i.pageX,n=i.pageY})),s.addEventListener("touchend",(t=>{t.stopPropagation();var i=t.changedTouches[0];Math.abs(i.pageX-r)<15&&Math.abs(i.pageY-n)<15&&t.timeStamp-e<300&&(o=!o,a.style.display=o?"block":"none")})),s.addEventListener("touchmove",(t=>{t.preventDefault(),t.stopPropagation();var{clientX:e,clientY:r}=t.touches[0];s.style.top=`${i(Math.round(r-15),0,document.body.clientHeight-30)}px`,s.style.left=`${i(Math.round(e-40),0,document.body.clientWidth-100)}px`}))}else d=[]}function E(t){var e=a&&a.contentWindow&&a.contentWindow.console&&a.contentWindow.console._log;e||d.push(t),e&&f&&(d.length&&(d.forEach(e),d=[]),e(t));var{level:r,logs:n}=JSON.parse(t);Reflect.apply(h[r],null,n)}const l=new class{sync(t,e){return prompt(t,e)}async(t){if(t)return window.webkit.messageHandlers.WeixinWeAppMessage.postMessage(t)}asyncInvoke(t){window.webkit.messageHandlers.WeixinWeAppInvoke.postMessage(t)}};var p=new TextDecoder("unicode"),A=new TextEncoder,v=102400;class T{constructor(){this.dataSegmentExpandTimes=0,this.dataSegmentLongSizeCount=0,this.xhrArrayBuffer=new ArrayBuffer(0),this.codeSegment="",this.dataSegment=new ArrayBuffer(0),this.dataSegmentUint16=new Uint16Array(this.dataSegment),this.dataSegmentUint8=new Uint8Array(this.dataSegment),this.dataSegmentByteIndex=2,this.dataSegmentId=0,this.logger=null}allocBuffer(){this.dataSegment=new ArrayBuffer(v),this.dataSegmentUint16=new Uint16Array(this.dataSegment),this.dataSegmentUint8=new Uint8Array(this.dataSegment),this.xhrArrayBuffer=new ArrayBuffer(104448)}clearBuffer(){this.dataSegment=new ArrayBuffer(0),this.dataSegmentUint16=new Uint16Array(this.dataSegment),this.dataSegmentUint8=new Uint8Array(this.dataSegment),this.xhrArrayBuffer=new ArrayBuffer(0)}expandDataSegmentIfNeeded(t){var e=this.dataSegmentByteIndex;if(!(this.dataSegment.byteLength-e>=t)){for(var r=2*this.dataSegment.byteLength;r-e<t;)r*=2;this.dataSegmentExpandTimes+=1;var n=new ArrayBuffer(r),i=new Uint8Array(n),s=new Uint16Array(n);if(e>0){var a=new Uint8Array(this.dataSegment,0,this.dataSegmentByteIndex);i.set(a)}this.dataSegment=n,this.dataSegmentUint8=i,this.dataSegmentUint16=s}}pushDataSegment(t){if(t){if(t.byteLength>4294967296)throw new Error(`ArrayBuffer too large! [${t.byteLength}]`);if(this.dataSegmentByteIndex%2!=0)throw new Error(`CommandBuffer internal error. dataSegmentByteIndex % 2 !== 0 [${this.dataSegmentByteIndex}]`);var e=++this.dataSegmentId;if(e>65536)throw new Error(`CommandBuffer internal error. dataSegmentId too large. [${e}]`);var r=(t.byteLength%2==0?t.byteLength:t.byteLength+1)+6;this.expandDataSegmentIfNeeded(r);var n,i=this.dataSegmentByteIndex/2;return this.dataSegmentUint16[i]=e,this.dataSegmentUint16[i+1]=t.byteLength>>16,this.dataSegmentUint16[i+2]=65535&t.byteLength,n=ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t),this.dataSegmentUint8.set(n,this.dataSegmentByteIndex+6),this.dataSegmentByteIndex+=r,e}}encodeCodeSegment(){var t=A.encode(this.codeSegment),e=new ArrayBuffer(4+t.byteLength);return new DataView(e).setUint32(0,t.byteLength,!0),new Uint8Array(e).set(t,4),e}pushCodeSegment(t){this.codeSegment+=t}pushInvokeSegment(t,e,r){var n=function(t){for(var e=String(t),r=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);i<=127?r+=1:i<=2047?r+=2:i>=55296&&i<=57343?(r+=4,n++):r+=3}return r}(r);this.codeSegment+="`888`"+t+"`"+e+"`"+n+"`"+r}encodeDataSegment(){return this.dataSegmentUint16[0]=this.dataSegmentId,p.decode(new Uint8Array(this.dataSegment,0,this.dataSegmentByteIndex))}toString(){return this.encodeDataSegment()+this.codeSegment}toArrayBufferView(){this.dataSegmentUint16[0]=this.dataSegmentId;var t=this.encodeCodeSegment(),e=new Uint8Array(t),r=t.byteLength+this.dataSegmentByteIndex;this.xhrArrayBuffer.byteLength<r&&(this.xhrArrayBuffer=new ArrayBuffer(r));var n=this.xhrArrayBuffer,i=new Uint8Array(n,0,r);return i.set(e,0),i.set(this.dataSegmentUint8.subarray(0,this.dataSegmentByteIndex),e.length),i}clear(){this.dataSegmentByteIndex>=v?this.dataSegmentLongSizeCount=60:this.dataSegmentLongSizeCount>0&&(this.dataSegmentLongSizeCount-=1),this.codeSegment="",this.dataSegmentByteIndex=2,this.dataSegmentId=0,this.dataSegment.byteLength>v&&0===this.dataSegmentLongSizeCount&&(this.dataSegment=new ArrayBuffer(v),this.dataSegmentUint16=new Uint16Array(this.dataSegment),this.dataSegmentUint8=new Uint8Array(this.dataSegment),this.xhrArrayBuffer=new ArrayBuffer(104448))}flush(){console.log("[CommandBuffer] flush is empty!")}flushSync(){console.log("[CommandBuffer] flushSync is empty!")}}var g=[216**3,46656,216,1],R=function(t){var e=t%g[0],r=e%g[1];return[Math.floor(t/g[0]),Math.floor(e/g[1]),Math.floor(r/g[2]),r%g[2]]},y=function(t){var e,r;if(t instanceof ArrayBuffer)e=(r=new Uint8Array(t)).length;else{var n=window.atob(t);e=n.length,r=new Uint8Array(e);for(var i=0;i<e;i++)r[i]=n.charCodeAt(i)}if(r.slice(-8).every(((t,e)=>11+e===t))){for(var s=1,a=r.slice(-12,-8).reduce(((t,e,r)=>t+e*g[r]),0);s<=a;){var o=e-12-6*s,u=r[o],c=r[o+1]+200,h=r[o+2],f=r[o+3],d=r[o+4],_=r[o+5],E=h*g[0]+f*g[1]+d*g[2]+_;r[E]=u,r[E+1]=c,s++}for(var l=(r[e-12-6*(s-1)-1]<<8)+r[e-12-6*(s-1)-2],p=1;p<=l;p++)if(0!==r[e-12-6*(s-1)-2-p])return r.buffer;return r.slice(0,e-12-6*(s-1)-l-2).buffer}if(r.slice(-8).every(((t,e)=>21+e===t))){for(var A=(r[e-9]<<8)+r[e-10],v=1;v<=A;v++)if(0!==r[e-10-v])return r.buffer;return r.slice(0,e-8-A-2).buffer}return r.buffer},I=new XMLHttpRequest,S="/JsApi/",m=[];const N=new class{constructor(){this.decoder=new TextDecoder("utf-8"),this.waitingResults=0,this.asyncCallback=void 0}syncJsApiCommandBuffer(t){return I.open("POST",S,!1),I.setRequestHeader("content-type","application/arraybuffer"),I.setRequestHeader("timestamp",`${Date.now()}`),I.responseType="arraybuffer",I.send(t),this.handlerResult(I)}setAsyncCallback(t){this.asyncCallback=t}asyncJsApiCommandBuffer(t){var e;(e=0===m.length?new XMLHttpRequest:m.shift()).open("POST",S,!0),e.setRequestHeader("content-type","application/arraybuffer"),e.setRequestHeader("timestamp",`${Date.now()}`),e.responseType="arraybuffer",e.onload=()=>{this.asyncCallback(this.handlerResult(e)),m.push(e)},e.send(t)}asyncCommandBuffer(t,e){var r=new XMLHttpRequest,n=e?"/WebGLCommandBuffer/":"/CommandBuffer/";r.open("POST",n,!1),r.setRequestHeader("content-type","application/arraybuffer"),r.setRequestHeader("timestamp",`${Date.now()}`),r.responseType="arraybuffer",r.send(t)}nativeBufferDeserialization(t,e){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=this.nativeBufferDeserialization(t[r],e);if(null==t)return t;if("object"!=typeof t)return t;if("number"==typeof t.__nativeBuffers__)return e[t.__nativeBuffers__];t.__nativeBuffers__;var n=t.__nativeBuffers__;if(n&&n.length>0&&e.length>0){for(var i=0;i<n.length;i++){var s=n[i];t.errMsg&&t.errMsg.indexOf("readFile:ok")>-1?t[s.key]=y(e[s.id]):t[s.key]=e[s.id]}delete t.__nativeBuffers__}return Object.keys(t).forEach((r=>{t[r]=this.nativeBufferDeserialization(t[r],e)})),t}handlerResult(t){var e=t.getResponseHeader("api-result");if(e){var r=t.response,n=parseInt(e,10),i=n%2==1?n+1:n,s=new Uint8Array(r,0,n),a=JSON.parse(this.decoder.decode(s)),o=[],u=a.length;if(!(u<=0)){for(var c=a[0],h=JSON.parse(c),f=0;f<h.length;f++){var d=h[f],_=r.slice(i+d[0],i+d[0]+d[1]);o.push(_)}for(var E=1;E<u;E++){var l=a[E][1];this.nativeBufferDeserialization(l,o)}return a.slice(1)}}}handleGetNativeBuffersResult(t){var e=t.getResponseHeader("api-result"),r=[],n=t.response;if(e)for(var i=JSON.parse(e),s=0;s<i.length;s++){var a=i[s],o=n.slice(a[0],a[0]+a[1]);r.push(o)}else r.push(n);return r}getNativeBuffers(t,e){var r=new XMLHttpRequest;r.open("POST","/get_buffer/",!0),r.setRequestHeader("content-type","application/json"),r.responseType="arraybuffer",r.onload=()=>{var n=this.handleGetNativeBuffersResult(r);if(n){for(var i={},s=0;s<t.length;s++)i[t[s]]=n[s];e(i)}},r.send(JSON.stringify(t))}};var b=new Uint8Array(0);const F=new class extends T{setAsyncCallback(t){N.setAsyncCallback(t)}flush(){if(this.codeSegment){var t=this.codeSegment?this.toArrayBufferView():b;void 0!==window.__xhrSize&&(window.__xhrSize+=t.byteLength),void 0!==window.__xhrCount&&(window.__xhrCount+=1);var e=N.syncJsApiCommandBuffer(t);return this.clear(),e}}flushAsync(){if(this.codeSegment){var t=this.codeSegment?this.toArrayBufferView():b;void 0!==window.__xhrSize&&(window.__xhrSize+=t.byteLength),void 0!==window.__xhrCount&&(window.__xhrCount+=1),N.asyncJsApiCommandBuffer(t),this.clear()}}fetch(){if(!this.codeSegment)return N.syncJsApiCommandBuffer(b)}};const O=new class extends T{flush(){if(this.codeSegment){var t=this.toString();l.async(t),this.clear()}}};const x=new class{constructor(){this.debug=void 0,this.useXhrForJsApiInvoke=void 0,this.useNativeRender=void 0,this.useEventDispatcher=void 0,this.debug=!0,this.useXhrForJsApiInvoke=!0,this.useNativeRender=!1,this.useEventDispatcher=!1}};var C={FakeId:0,DestroyObject(t,e){O.pushCodeSegment("`23`"+t+"`"+e.id)}};class L{constructor(t,e,r){this._id=void 0,this.byteLength=void 0,this.isBorrow=void 0,this.commandBuffer=void 0,this.commandBuffer=t,Number.isInteger(e)?this.initWithLength(e):(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(r?this.initWithBufferBorrow(e):(this.initWithLength(e.byteLength),this.set(e)))}initWithLength(t){var e=++C.FakeId;this._id=e,this.byteLength=t,this.isBorrow=!1,this.commandBuffer.pushCodeSegment("`26`1`"+e+"`"+t)}initWithBufferBorrow(t){var e=++C.FakeId;this._id=e,this.byteLength=t.byteLength,this.isBorrow=!0;var r=this.commandBuffer.pushDataSegment(t);this.commandBuffer.pushCodeSegment("`26`2`"+e+"`"+r)}get length(){return this.byteLength}get id(){return this._id}set(t,e=0){if(this.byteLength<=0)throw new Error(`NativeBuffer: Params error. current byteLength <= 0 ${this.byteLength}`);if(e+t.byteLength>this.byteLength)throw new Error(`NativeBuffer: Params error. offset + byteLength > this.byteLength ${e} ${t.byteLength} ${this.byteLength}`);var r=this.commandBuffer.pushDataSegment(t);this.commandBuffer.pushCodeSegment("`27`"+this._id+"`"+r+"`"+e)}static ConvertIfNeededNonNull(t,e){var r,n=!1;if(!(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))throw new Error("params type not accepted.");return n=!0,{id:(r=new L(e,t,!0)).id,buffer:r,shouldDestroy:n}}}var B=function(t){return{encodedBufferString:btoa(new Uint8Array(t).reduce(((t,e)=>t+String.fromCharCode(e)),""))}},w=function(t){var e;if(x.useXhrForJsApiInvoke)e=L.ConvertIfNeededNonNull(ArrayBuffer.isView(t)?t:new Uint8Array(t),F);else{var r=function(t){for(var e=new Uint8Array(t).slice(),r=e.byteLength%2==0?e.byteLength:e.byteLength-1,n=[],i=0,s=0;s<r;s+=2)e[s+1]>=216&&e[s+1]<=223&&(n.push(e[s],e[s+1]-200,...R(s)),e[s]=0,e[s+1]=0,i++);i>0?n.push(...R(i),11,12,13,14,15,16,17,18):n.push(21,22,23,24,25,26,27,28);var a=65535&e.byteLength+n.length,o=0;a>=55296&&a<=57343&&(o=57344-a),(e.byteLength+o)%2==1&&(o+=1);var u=new Uint8Array(e.byteLength+o+2+n.length);return u.set(e),u[e.byteLength+o]=255&o,u[e.byteLength+o+1]=o>>8,u.set(n,e.byteLength+o+2),u}(t);e=L.ConvertIfNeededNonNull(r,O)}return{id:e.id}},M=function(t,r,i){if(!t||"object"!=typeof t)return t;if(n(t)){var s=r?B(t):w(t);return t!==i&&i&&(i.__hasNestedBuffers__=1),r?(s.__nativeBuffers__="base64",s):{__nativeBuffers__:s.id}}if(Array.isArray(t))for(var a=0;a<t.length;a++)t[a]=M(t[a],r,i);if("Object"===e(t)){var o=[];Object.keys(t).forEach((e=>{var s=t[e];if(n(s)){var a=r?B(s):w(s);a.key=e,o.push(a),delete t[a.key],t!==i&&i&&(i.__hasNestedBuffers__=1)}else"object"==typeof s&&s&&(t[e]=M(s,r,i))})),o.length&&(t.__nativeBuffers__=o)}return t},U=function(t,e=!1){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=U(t[r],e);if("object"!=typeof t||!t)return t;if("base64"===t.__nativeBuffers__){var i=y(t.encodedBufferString||t.base64);if(n(i))return i}else if(t.__nativeBuffers__){var s=t.__nativeBuffers__;delete t.__nativeBuffers__;for(var a=0;a<s.length;a++){var o=s[a];if(o){var u=y(o.encodedBufferString||o.base64);n(u)&&(t[o.key]=u)}}}return e&&Object.keys(t).forEach((r=>{var n=t[r];"object"==typeof n&&null!==n&&(t[r]=U(n,e))})),t};function P(t,e,r){if("object"!=typeof t||null===t)return!1;var n=!1;if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]===e?(t[i]=r,n=!0):n=P(t[i],e,r)||n;else for(var s=Object.keys(t),a=0;a<s.length;a++){var o=s[a],u=t[o];u===e&&(t[o]=r,n=!0),"object"==typeof u&&null!==u&&(n=P(u,e,r)||n)}return n}function D(t,e,r,i){if(Array.isArray(e)&&e.forEach((e=>{D(t,e,r,i)})),"object"==typeof e&&e)if("number"!=typeof e.__nativeBuffers__)if("base64"!==e.__nativeBuffers__){if(Array.isArray(e.__nativeBuffers__))for(var s=e.__nativeBuffers__,a=0;a<s.length;a++){var o=s[a];if(o)if(o.base64){var u=y(o.base64);n(u)&&(e[o.key]=u)}else o.id&&(r[o.id]=e)}i&&Object.keys(e).forEach((n=>{"__nativeBuffers__"!==n&&D(t,e[n],r,i)}))}else{var c=y(e.base64);n(c)&&P(t,e,c)}else r[e.__nativeBuffers__]=e}var G=function(t,e=!1){return new Promise((r=>{var n={};if(e&&Array.isArray(t))for(var i=0;i<t.length;i++){var s=t[i].eventParam;D(s,s,n,!(null==s||!s.__hasNestedBuffers__))}else D(t,t,n,!(null==t||!t.__hasNestedBuffers__));var a=Object.keys(n).map((t=>parseInt(t,10)));a.length?N.getNativeBuffers(a,(e=>{!function(t,e,r){for(var[n,i]of Object.entries(r)){var s=e[n];if("number"==typeof s.__nativeBuffers__)P(t,s,i),delete e[n];else for(var a=s.__nativeBuffers__,o=0;o<a.length;o++){var u=a[o];u.id===parseInt(n,10)&&(s[u.key]=i)}}Object.values(e).forEach((t=>{delete t.__nativeBuffers__}))}(t,n,e),r(t)})):r(t)}))};class X{static log(t){prompt("WELOG",t)}}function k(t){X.log("[JSError] "+t)}function H({filePath:t,responseType:e}){var r=new XMLHttpRequest;return r.open("GET",t,!1),r.responseType=e,r.send(null),"arraybuffer"===e?r.response:r.responseText}var j={"2d":1,webgl:2,webgl2:3};function W(t){return function(e,r,n){n.enumerable=t}}var V=Math.round,Y=V(window.devicePixelRatio||1),K=80*Y,z=48*Y,J=3*Y,$=2*Y,Z=3*Y,q=15*Y,Q=74*Y,tt=30*Y;class et{constructor(t){this.min=1/0,this.max=0,this.dom=void 0,this.context=void 0,this.style=void 0;var{fg:e,bg:r,name:n}=t;this.style=t;var i=document.createElement("canvas");this.dom=i,i.width=K,i.height=z,i.style.cssText="width:80px;height:48px";var s=i.getContext("2d");this.context=s,s&&(s.font="bold "+9*Y+"px Helvetica,Arial,sans-serif",s.textBaseline="top",s.fillStyle=r,s.fillRect(0,0,K,z),s.fillStyle=e,s.fillText(n,J,$),s.fillRect(Z,q,Q,tt),s.fillStyle=r,s.globalAlpha=.9,s.fillRect(Z,q,Q,tt))}update(t,e){this.min=Math.min(this.min,t),this.max=Math.max(this.max,t);var r=this.context;if(r){var{bg:n,fg:i,name:s}=this.style;r.fillStyle=n,r.globalAlpha=1,r.fillRect(0,0,K,q),r.fillStyle=i,r.fillText(t+" "+s+" ("+V(this.min)+"-"+V(this.max)+")",J,$),r.drawImage(this.dom,Z+Y,q,Q-Y,tt,Z,q,Q-Y,tt),r.fillRect(Z+Q-Y,q,Y,tt),r.fillStyle=n,r.globalAlpha=.9,r.fillRect(Z+Q-Y,q,Y,V((1-t/e)*tt))}}}var rt=new Map;class nt{constructor(t){c(this,{element:t})}get width(){return u(this).element.style.width}set width(t){u(this).element.style.width=t}get height(){return u(this).element.style.height}set height(t){u(this).element.style.height=t}get left(){return u(this).element.style.left}set left(t){u(this).element.style.left=t}get top(){return u(this).element.style.top}set top(t){u(this).element.style.top=t}get zIndex(){return u(this).element.style.zIndex}set zIndex(t){!isNaN(t)&&Number(t)<0?console.debug("zIndex must be Number greater than or equal to 0"):u(this).element.style.zIndex=t}}var it=0;class st{constructor(t){this.__id=0,this.ontouchstart=void 0,this.ontouchmove=void 0,this.ontouchend=void 0,this.ontouchcancel=void 0,c(this,{element:t}),this.__id=it++,rt.set(this,1)}get style(){var t=u(this);return t.style||(t.style=new nt(t.element)),t.style}remove(){u(this).element.remove()}}function at(t,e,r){var n=r.style;return!!(t>=parseInt(n.left,10)&&t<=parseInt(n.left,10)+parseInt(n.width,10)&&e>=parseInt(n.top,10)&&e<=parseInt(n.top,10)+parseInt(n.height,10))}window.fps=60,window.getStatsData=()=>({jank:0,bigJank:0,jankTime:0,renderTime:0,fps:0});var ot=Math.round;class ut{constructor(t){this.mode=0,this.container=void 0,this.needRenderer=void 0,this.frameInterval=void 0,this.beginTime=void 0,this.prevTime=void 0,this.frames=0,this.fps=60,this.prevFrameTimeList=[],this.displayFrameIndex=0,this.prevStatTime=0,this.statsData={jank:0,bigJank:0,jankTime:0,renderTime:0,fps:0},this.fpsPanel=void 0,this.msPanel=void 0,this.xhrSizePanel=void 0,this.xhrCountPanel=void 0,this.screenContainer=void 0;var{needRenderer:e,frameInterval:r}=t;if(this.needRenderer=e,this.frameInterval=r,e){var n=document.createElement("div");if(n.style.cssText="position:fixed;top:80px;left:20px;cursor:pointer;opacity:0.5;z-index:999",x.useEventDispatcher){var i=new st(n);i.style.width="80px",i.style.height="48px",i.ontouchend=()=>{this.showPanel(++this.mode%n.children.length)},this.screenContainer=i}else n.addEventListener("click",(t=>{t.preventDefault(),this.showPanel(++this.mode%n.children.length)}),!1);this.container=n,this.fpsPanel=new et({name:"FPS",fg:"#0ff",bg:"#002"}),this.container.appendChild(this.fpsPanel.dom),this.msPanel=new et({name:"MS",fg:"#0f0",bg:"#020"}),this.container.appendChild(this.msPanel.dom),this.xhrSizePanel=new et({name:"KB",fg:"#0fa",bg:"#010"}),this.container.appendChild(this.xhrSizePanel.dom),this.xhrCountPanel=new et({name:"XHR",fg:"#0f8",bg:"#030"}),this.container.appendChild(this.xhrCountPanel.dom),this.showPanel(0)}else this.container=null,this.fpsPanel=null,this.msPanel=null,this.xhrSizePanel=null,this.xhrSizePanel=null;this.beginTime=(performance||Date).now(),this.prevTime=this.beginTime,this.frames=0,this.prevStatTime=Date.now(),window.getStatsData=()=>{var t=Date.now();this.statsData.renderTime=t-this.prevStatTime,this.prevStatTime=t;var e={...this.statsData,fps:window.fps};return this.statsData={jank:0,bigJank:0,jankTime:0,renderTime:0,fps:0},e}}showPanel(t){if(this.needRenderer&&this.container){for(var e=0;e<this.container.children.length;e++){this.container.children[e].style.display=e===t?"block":"none"}this.mode=t}}begin(){this.beginTime=(performance||Date).now(),window.__xhrSize=0,window.__xhrCount=0}end(){var{needRenderer:t}=this;this.frames++;var e,r,n,i=(performance||Date).now(),s=i-this.beginTime;(this.computedStatsData(s),t)&&(null===(e=this.msPanel)||void 0===e||e.update(ot(i-this.beginTime),200),null===(r=this.xhrSizePanel)||void 0===r||r.update(Math.floor(window.__xhrSize/1024),10240),null===(n=this.xhrCountPanel)||void 0===n||n.update(window.__xhrCount,100));if(i>this.prevTime+1e3){var a;if(this.fps=ot(1e3*this.frames/(i-this.prevTime)),window.fps=this.fps,t)null===(a=this.fpsPanel)||void 0===a||a.update(this.fps,100);this.prevTime=i,this.frames=0}return i}update(){this.beginTime=this.end()}computedStatsData(t){3===this.prevFrameTimeList.length&&(t>this.prevFrameTimeList.reduce(((t,e)=>t+e),0)/3*2&&t>83.33333333333333&&(this.statsData.jank+=1,this.statsData.jankTime+=t,t>125&&(this.statsData.bigJank+=1)));var e=this.displayFrameIndex%3;this.displayFrameIndex=++this.displayFrameIndex%3,this.prevFrameTimeList[e]=t}}var ct,ht,ft=0,dt=Date.now(),_t=60,Et=1e3/_t,lt=new Map,pt=new Array,At=window.requestAnimationFrame,vt=window.cancelAnimationFrame;function Tt(t,e){e?pt.push(t):pt.unshift(t)}function gt(t){isNaN(t)||isNaN(Math.round(t))||(_t=i(Math.round(t),1,60),Et=1e3/_t)}gt(60);var Rt,yt=!1;function It(){var t=Date.now();if(60===_t){var e,r;null===(e=ct)||void 0===e||e.begin();var n=[...lt.values()];lt.clear(),n.forEach((e=>e(t))),pt.forEach((e=>e(t))),null===(r=ct)||void 0===r||r.end()}else{var i=t-dt;if(i>Et){var s,a;dt=t-i%Et,null===(s=ct)||void 0===s||s.begin();var o=[...lt.values()];lt.clear(),o.forEach((e=>e(t))),pt.forEach((e=>e(t))),null===(a=ct)||void 0===a||a.end()}}ht=At(It)}function St(t,e){if(t){O.clearBuffer(),F.allocBuffer(),F.setAsyncCallback((t=>{if(t)for(var r=0;r<t.length;r++)e(t[r][0],t[r][1])}));Rt||(Tt((function(){var t=F.flush();if(t)for(var r=0;r<t.length;r++)e(t[r][0],t[r][1])}),!0),Rt=!0)}else{F.clearBuffer(),O.allocBuffer();Rt||(Tt((function(){O.flush()}),!0),Rt=!0)}}var mt=function(t){return t.touchstart="touchstart",t.touchmove="touchmove",t.touchend="touchend",t.touchcancel="touchcancel",t}({});class Nt{constructor(t){this.identifier=void 0,this.clientX=void 0,this.clientY=void 0,this.pageX=void 0,this.pageY=void 0,this.force=void 0,this.identifier=t.identifier,this.clientX=this.pageX=t.clientX,this.clientY=this.pageY=t.clientY,this.force=t.force}}class bt extends Nt{constructor(t,e){super(t),this.offsetX=void 0,this.offsetY=void 0,this.offsetX=t.clientX-parseInt(e.style.left,10),this.offsetY=t.clientY-parseInt(e.style.top,10)}}class Ft{constructor(t,e,r){this.touches=void 0,this.changedTouches=void 0,this.timeStamp=void 0,this.type=void 0,this.type=t,this.touches=Array.from(e.touches).map((t=>r?new bt(t,r):new Nt(t))),this.changedTouches=Array.from(e.changedTouches).map((t=>r?new bt(t,r):new Nt(t))),this.timeStamp=e.timeStamp}}var Ot,xt=(...t)=>{},Ct={ontouchend:xt,ontouchmove:xt,ontouchstart:xt,ontouchcancel:xt};function Lt(t,e){var r=!1;if(rt.size){var n,i,s=(null===(n=e.touches)||void 0===n?void 0:n[0])||(null===(i=e.changedTouches)||void 0===i?void 0:i[0]);if(!s)return void console.error("touch invalid");var a=s.pageX,o=s.pageY,u="on"+t;if(t===mt.touchstart){for(var c of[...rt.keys()].reverse())if(at(a,o,c)){if("function"==typeof c[u])!1===c[u](new Ft(t,e,c))&&(r=!0);Ot=c;break}}else if(t===mt.touchmove&&Ot&&"function"==typeof Ot[u]){!1===Ot[u](new Ft(t,e,Ot))&&(r=!0)}else if((t===mt.touchend||t===mt.touchcancel)&&Ot){if("function"==typeof Ot[u])!1===Ot[u](new Ft(t,e,Ot))&&(r=!0);Ot=null}}r||Ct[`on${t}`](new Ft(t,e))}var Bt=Object.values(mt),wt=function(t){window.addEventListener(t,(e=>{Lt(t,e)}))};for(var Mt of Bt)wt(Mt);var Ut=new Map,Pt=new Map,Dt=new Map,Gt=Math.pow(2,32),Xt=new Map,kt=function(t){return t[t.Prompt=0]="Prompt",t[t.PostMessage=1]="PostMessage",t[t.CommonXhr=2]="CommonXhr",t[t.CommandBuffer=3]="CommandBuffer",t[t.XhrCommandBufferSync=4]="XhrCommandBufferSync",t[t.XhrCommandBufferAsync=5]="XhrCommandBufferAsync",t}({}),Ht={config:{debug:!1,useXhrForJsApiInvoke:!0,syncApis:[]},isSyncJsApi(t){var e;return t.toLowerCase().endsWith("sync")&&!t.toLowerCase().endsWith("async")||(null===(e=Ht.config.syncApis)||void 0===e?void 0:e.includes(t))},setConfig(t){var e;void 0!==t.useXhrForJsApiInvoke&&x.useXhrForJsApiInvoke!==t.useXhrForJsApiInvoke&&(x.useXhrForJsApiInvoke=t.useXhrForJsApiInvoke,St(x.useXhrForJsApiInvoke,Ht.invokeCallbackHandler));var r,n,i,s,a,o=Ht.config.syncApis,u=[];null!==(e=t.syncApis)&&void 0!==e&&e.length&&(t.syncApis.forEach((t=>{"string"!=typeof t||null!=o&&o.includes(t)||u.includes(t)||u.push(t)})),Ht.config.syncApis=null===(r=Ht.config.syncApis)||void 0===r?void 0:r.concat(u));void 0!==t.debug&&(t.debug?(s=!0,null!==(a=ct)&&void 0!==a&&a.container&&document.body.removeChild(ct.container),ct=new ut({needRenderer:s,frameInterval:Et}),s&&document.body.appendChild(ct.container)):(null!==(n=ct)&&void 0!==n&&n.container&&(document.body.removeChild(ct.container),null===(i=ct.screenContainer)||void 0===i||i.remove()),ct=new ut({needRenderer:!1,frameInterval:Et})),Ht.config.debug=!!t.debug),void 0!==t.loop&&(t.loop?yt||(yt=!0,At(It)):(vt(ht),yt=!1)),void 0!==t.useNativeRender&&(x.useNativeRender=t.useNativeRender),void 0!==t.useEventDispatcher&&(x.useEventDispatcher=t.useEventDispatcher)},invokeHandlerInternal(t,e,r,n,i){switch("string"==typeof r&&(r=JSON.parse(r)),i&&(r.__wxPrivateArgs__=i),t){case kt.CommandBuffer:O.pushInvokeSegment(e,n,JSON.stringify(M(r,!1,r)));break;case kt.PostMessage:l.asyncInvoke({id:n,event:e,param:r});break;case kt.XhrCommandBufferAsync:Xt.set(n,!1),F.pushInvokeSegment(e,n,JSON.stringify(M(r,!1,r)));break;case kt.XhrCommandBufferSync:F.pushInvokeSegment(e,n,JSON.stringify(M(r,!1,r))),Xt.set(n,!0);var s=F.flush(),a=[];if(s){for(var o=0;o<s.length;o++)!0===Xt.get(s[o][0])?jt.invokeCallbackHandler(s[o][0],s[o][1]):a.push(s[o]);a.length&&queueMicrotask((()=>{for(var t=0;t<a.length;t++)jt.invokeCallbackHandler(a[t][0],a[t][1])}))}break;default:var u={id:n,event:e,param:M(r,!0,r)},c=l.sync("API",JSON.stringify(u));if(c){var h=JSON.parse(c);jt.invokeCallbackHandler(n,h)}}},hook(t,e){Ut.set(t,e)},hookEvent(t,e){Pt.set(t,e)},invokeHandler(t,e,r,n){var i=kt.Prompt;i=x.useXhrForJsApiInvoke?Ht.isSyncJsApi(t)?kt.XhrCommandBufferSync:kt.XhrCommandBufferAsync:Ht.isSyncJsApi(t)?kt.Prompt:kt.CommandBuffer;var s,a=!0;if(Ut.has(t)){var o,u=null===(o=Ut.get(t))||void 0===o?void 0:o(e);(s=u)&&"[object Promise]"===Object.prototype.toString.call(s)?(a=!1,u.then((e=>{Ht.invokeHandlerInternal(i,t,e,r,n)}))):e=u}a&&Ht.invokeHandlerInternal(i,t,e,r,n)},invokeInLibInternal(t,e,r,n){Gt-=1,Dt.set(Gt,r),void 0!==(null==n?void 0:n.__invokeType__)?Ht.invokeHandlerInternal(n.__invokeType__,t,e,Gt,n||{}):Ht.invokeHandler(t,e,Gt,n||{})},invokeCallbackHandler(t,e){if(WeixinJSBridge){if(Xt.delete(t),Dt.has(t)){var r=Dt.get(t);return"function"==typeof r&&r(U(e,!(null==e||!e.__hasNestedBuffers__))),void Dt.delete(t)}return WeixinJSBridge.invokeCallbackHandler(t,U(e,!(null==e||!e.__hasNestedBuffers__)))}k("[invokeCallbackHandler] WeixinJSBridge not found")},notifyResult(){var t=F.fetch();if(t)for(var e=0;e<t.length;e++)Ht.invokeCallbackHandler(t[e][0],t[e][1])},notifyResultDirectly(t,e){if(t)for(var r=0;r<t.length;r++)Ht.invokeCallbackHandler(t[r][0],t[r][1]);if(e){var n=F.fetch();if(n)for(var i=0;i<n.length;i++)Ht.invokeCallbackHandler(n[i][0],n[i][1])}},subscribeHandler(t,e,r,n){var i;Pt.has(t)&&(null===(i=Pt.get(t))||void 0===i||i(e));WeixinJSBridge?G(e).then((e=>WeixinJSBridge.subscribeHandler(t,e,r,n))):k("[subscribeHandler] WeixinJSBridge not found")},batchSubscribeHandler(t){WeixinJSBridge?G(t,!0).then((t=>{t.forEach((t=>{var e;Pt.has(t.eventName)&&(null===(e=Pt.get(t.eventName))||void 0===e||e(t.eventParam));WeixinJSBridge.subscribeHandler(t.eventName,t.eventParam,t.webViewId,t.ext)}))})):k("[subscribeHandler] WeixinJSBridge not found")},dispatchEvent:Lt};St(x.useXhrForJsApiInvoke,Ht.invokeCallbackHandler);var jt={invokeHandler:Ht.invokeHandler,invokeCallbackHandler:Ht.invokeCallbackHandler,subscribeHandler:Ht.subscribeHandler,batchSubscribeHandler:Ht.batchSubscribeHandler,notifyResult:Ht.notifyResult,notifyResultDirectly:Ht.notifyResultDirectly,config:Ht.config,setConfig:Ht.setConfig,hookEvent:Ht.hookEvent,hook:Ht.hook,dispatchEvent:Ht.dispatchEvent,invokeInLibInternal:Ht.invokeInLibInternal},Wt=r(405),Vt=r.n(Wt);function Yt(){}function Kt(t){Ht.invokeInLibInternal("jitDestroyNativeCanvas",{canvasId:t},Yt,{keepOriginalParams:!0})}function zt(t,e,r,n=!1){Ht.invokeInLibInternal("jitCreateNativeCanvas",{canvasId:t,width:e,height:r,isScreenCanvas:n})}function Jt(t,e,r){Ht.invokeInLibInternal("jitResizeNativeCanvas",{canvasId:t,width:e,height:r})}function $t(t,e,r){var n="";return Ht.invokeInLibInternal("jitNativeCanvasToDataURLSync",{canvasId:t,type:e,encoderoptions:r},(t=>{if(/:fail/.test(t.errMsg))throw new Error(t.errMsg);n=t.data})),n}var Zt=0;class qt{constructor(){this.map=void 0,this.map=new Map}has(t){return this.map.has(t)}get(t){var e=this.map.get(t);return e&&"undefined"!=typeof WeakRef?e.deref():e}put(t,e){"undefined"==typeof WeakRef?this.map.set(t,e):this.map.set(t,new WeakRef(e))}set(t,e){"undefined"==typeof WeakRef?this.map.set(t,e):this.map.set(t,new WeakRef(e))}remove(t){this.map.delete(t)}delete(t){this.map.delete(t)}clear(){this.map.clear()}isEmpty(){return 0===this.map.size}}const Qt={batchRender:function(t,e){var r;return Ht.invokeInLibInternal("jitBatchRenderSync",{buffer:t,extBuffer:e},(t=>{if(/:fail/.test(t.errMsg))throw new Error(t.errMsg);delete t.errMsg,r=t}),{keepOriginalParams:!0}),r?(r.buffer&&(r.data||(r.data={}),r.data.buffer=r.buffer),r.data):null},batchRenderAsync:function(t,e){Ht.invokeInLibInternal("jitBatchRender",{buffer:t,extBuffer:e})},swapWindow:function(){Ht.invokeInLibInternal("jitSwapWindow",{})},registerAfterDoFrame(t){Tt(t,!1)},incAndFetchNRId:()=>++Zt,WeakValueMap:qt,buildWebGLCommandBuffer:(t,e)=>{},buildCanvas2DCommandBuffer:t=>{}};class te{__uid(){return this._id}constructor(t,e,r){this._canvasId=void 0,this._id=void 0,this.__webgl2__=!1,this.canvas=void 0,this._canvasId=t,this._id=Qt.incAndFetchNRId(),"webgl2"===e&&(this.__webgl2__=!0);var n=Object.assign({alpha:!1},r);!function(t,e,r,n){Ht.invokeInLibInternal("jitNativeCanvasGetContext",{canvasId:t,contextId:e,contextType:r,options:n})}(this._canvasId,this._id,e,n)}}class ee extends te{constructor(...t){super(...t),this.DEPTH_BUFFER_BIT=256,this.STENCIL_BUFFER_BIT=1024,this.COLOR_BUFFER_BIT=16384,this.POINTS=0,this.LINES=1,this.LINE_LOOP=2,this.LINE_STRIP=3,this.TRIANGLES=4,this.TRIANGLE_STRIP=5,this.TRIANGLE_FAN=6,this.ZERO=0,this.ONE=1,this.SRC_COLOR=768,this.ONE_MINUS_SRC_COLOR=769,this.SRC_ALPHA=770,this.ONE_MINUS_SRC_ALPHA=771,this.DST_ALPHA=772,this.ONE_MINUS_DST_ALPHA=773,this.DST_COLOR=774,this.ONE_MINUS_DST_COLOR=775,this.SRC_ALPHA_SATURATE=776,this.FUNC_ADD=32774,this.BLEND_EQUATION=32777,this.BLEND_EQUATION_RGB=32777,this.BLEND_EQUATION_ALPHA=34877,this.FUNC_SUBTRACT=32778,this.FUNC_REVERSE_SUBTRACT=32779,this.BLEND_DST_RGB=32968,this.BLEND_SRC_RGB=32969,this.BLEND_DST_ALPHA=32970,this.BLEND_SRC_ALPHA=32971,this.CONSTANT_COLOR=32769,this.ONE_MINUS_CONSTANT_COLOR=32770,this.CONSTANT_ALPHA=32771,this.ONE_MINUS_CONSTANT_ALPHA=32772,this.BLEND_COLOR=32773,this.ARRAY_BUFFER=34962,this.ELEMENT_ARRAY_BUFFER=34963,this.ARRAY_BUFFER_BINDING=34964,this.ELEMENT_ARRAY_BUFFER_BINDING=34965,this.STREAM_DRAW=35040,this.STATIC_DRAW=35044,this.DYNAMIC_DRAW=35048,this.BUFFER_SIZE=34660,this.BUFFER_USAGE=34661,this.CURRENT_VERTEX_ATTRIB=34342,this.FRONT=1028,this.BACK=1029,this.FRONT_AND_BACK=1032,this.CULL_FACE=2884,this.BLEND=3042,this.DITHER=3024,this.STENCIL_TEST=2960,this.DEPTH_TEST=2929,this.SCISSOR_TEST=3089,this.POLYGON_OFFSET_FILL=32823,this.SAMPLE_ALPHA_TO_COVERAGE=32926,this.SAMPLE_COVERAGE=32928,this.NO_ERROR=0,this.INVALID_ENUM=1280,this.INVALID_VALUE=1281,this.INVALID_OPERATION=1282,this.OUT_OF_MEMORY=1285,this.CW=2304,this.CCW=2305,this.LINE_WIDTH=2849,this.ALIASED_POINT_SIZE_RANGE=33901,this.ALIASED_LINE_WIDTH_RANGE=33902,this.CULL_FACE_MODE=2885,this.FRONT_FACE=2886,this.DEPTH_RANGE=2928,this.DEPTH_WRITEMASK=2930,this.DEPTH_CLEAR_VALUE=2931,this.DEPTH_FUNC=2932,this.STENCIL_CLEAR_VALUE=2961,this.STENCIL_FUNC=2962,this.STENCIL_FAIL=2964,this.STENCIL_PASS_DEPTH_FAIL=2965,this.STENCIL_PASS_DEPTH_PASS=2966,this.STENCIL_REF=2967,this.STENCIL_VALUE_MASK=2963,this.STENCIL_WRITEMASK=2968,this.STENCIL_BACK_FUNC=34816,this.STENCIL_BACK_FAIL=34817,this.STENCIL_BACK_PASS_DEPTH_FAIL=34818,this.STENCIL_BACK_PASS_DEPTH_PASS=34819,this.STENCIL_BACK_REF=36003,this.STENCIL_BACK_VALUE_MASK=36004,this.STENCIL_BACK_WRITEMASK=36005,this.VIEWPORT=2978,this.SCISSOR_BOX=3088,this.COLOR_CLEAR_VALUE=3106,this.COLOR_WRITEMASK=3107,this.UNPACK_ALIGNMENT=3317,this.PACK_ALIGNMENT=3333,this.MAX_TEXTURE_SIZE=3379,this.MAX_VIEWPORT_DIMS=3386,this.SUBPIXEL_BITS=3408,this.RED_BITS=3410,this.GREEN_BITS=3411,this.BLUE_BITS=3412,this.ALPHA_BITS=3413,this.DEPTH_BITS=3414,this.STENCIL_BITS=3415,this.POLYGON_OFFSET_UNITS=10752,this.POLYGON_OFFSET_FACTOR=32824,this.TEXTURE_BINDING_2D=32873,this.SAMPLE_BUFFERS=32936,this.SAMPLES=32937,this.SAMPLE_COVERAGE_VALUE=32938,this.SAMPLE_COVERAGE_INVERT=32939,this.COMPRESSED_TEXTURE_FORMATS=34467,this.DONT_CARE=4352,this.FASTEST=4353,this.NICEST=4354,this.GENERATE_MIPMAP_HINT=33170,this.BYTE=5120,this.UNSIGNED_BYTE=5121,this.SHORT=5122,this.UNSIGNED_SHORT=5123,this.INT=5124,this.UNSIGNED_INT=5125,this.FLOAT=5126,this.DEPTH_COMPONENT=6402,this.ALPHA=6406,this.RGB=6407,this.RGBA=6408,this.LUMINANCE=6409,this.LUMINANCE_ALPHA=6410,this.UNSIGNED_SHORT_4_4_4_4=32819,this.UNSIGNED_SHORT_5_5_5_1=32820,this.UNSIGNED_SHORT_5_6_5=33635,this.FRAGMENT_SHADER=35632,this.VERTEX_SHADER=35633,this.MAX_VERTEX_ATTRIBS=34921,this.MAX_VERTEX_UNIFORM_VECTORS=36347,this.MAX_VARYING_VECTORS=36348,this.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,this.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,this.MAX_TEXTURE_IMAGE_UNITS=34930,this.MAX_FRAGMENT_UNIFORM_VECTORS=36349,this.SHADER_TYPE=35663,this.DELETE_STATUS=35712,this.LINK_STATUS=35714,this.VALIDATE_STATUS=35715,this.ATTACHED_SHADERS=35717,this.ACTIVE_UNIFORMS=35718,this.ACTIVE_ATTRIBUTES=35721,this.SHADING_LANGUAGE_VERSION=35724,this.CURRENT_PROGRAM=35725,this.NEVER=512,this.LESS=513,this.EQUAL=514,this.LEQUAL=515,this.GREATER=516,this.NOTEQUAL=517,this.GEQUAL=518,this.ALWAYS=519,this.KEEP=7680,this.REPLACE=7681,this.INCR=7682,this.DECR=7683,this.INVERT=5386,this.INCR_WRAP=34055,this.DECR_WRAP=34056,this.VENDOR=7936,this.RENDERER=7937,this.VERSION=7938,this.NEAREST=9728,this.LINEAR=9729,this.NEAREST_MIPMAP_NEAREST=9984,this.LINEAR_MIPMAP_NEAREST=9985,this.NEAREST_MIPMAP_LINEAR=9986,this.LINEAR_MIPMAP_LINEAR=9987,this.TEXTURE_MAG_FILTER=10240,this.TEXTURE_MIN_FILTER=10241,this.TEXTURE_WRAP_S=10242,this.TEXTURE_WRAP_T=10243,this.TEXTURE_2D=3553,this.TEXTURE=5890,this.TEXTURE_CUBE_MAP=34067,this.TEXTURE_BINDING_CUBE_MAP=34068,this.TEXTURE_CUBE_MAP_POSITIVE_X=34069,this.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,this.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,this.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,this.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,this.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,this.MAX_CUBE_MAP_TEXTURE_SIZE=34076,this.TEXTURE0=33984,this.TEXTURE1=33985,this.TEXTURE2=33986,this.TEXTURE3=33987,this.TEXTURE4=33988,this.TEXTURE5=33989,this.TEXTURE6=33990,this.TEXTURE7=33991,this.TEXTURE8=33992,this.TEXTURE9=33993,this.TEXTURE10=33994,this.TEXTURE11=33995,this.TEXTURE12=33996,this.TEXTURE13=33997,this.TEXTURE14=33998,this.TEXTURE15=33999,this.TEXTURE16=34e3,this.TEXTURE17=34001,this.TEXTURE18=34002,this.TEXTURE19=34003,this.TEXTURE20=34004,this.TEXTURE21=34005,this.TEXTURE22=34006,this.TEXTURE23=34007,this.TEXTURE24=34008,this.TEXTURE25=34009,this.TEXTURE26=34010,this.TEXTURE27=34011,this.TEXTURE28=34012,this.TEXTURE29=34013,this.TEXTURE30=34014,this.TEXTURE31=34015,this.ACTIVE_TEXTURE=34016,this.REPEAT=10497,this.CLAMP_TO_EDGE=33071,this.MIRRORED_REPEAT=33648,this.FLOAT_VEC2=35664,this.FLOAT_VEC3=35665,this.FLOAT_VEC4=35666,this.INT_VEC2=35667,this.INT_VEC3=35668,this.INT_VEC4=35669,this.BOOL=35670,this.BOOL_VEC2=35671,this.BOOL_VEC3=35672,this.BOOL_VEC4=35673,this.FLOAT_MAT2=35674,this.FLOAT_MAT3=35675,this.FLOAT_MAT4=35676,this.SAMPLER_2D=35678,this.SAMPLER_CUBE=35680,this.VERTEX_ATTRIB_ARRAY_ENABLED=34338,this.VERTEX_ATTRIB_ARRAY_SIZE=34339,this.VERTEX_ATTRIB_ARRAY_STRIDE=34340,this.VERTEX_ATTRIB_ARRAY_TYPE=34341,this.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,this.VERTEX_ATTRIB_ARRAY_POINTER=34373,this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,this.IMPLEMENTATION_COLOR_READ_TYPE=35738,this.IMPLEMENTATION_COLOR_READ_FORMAT=35739,this.COMPILE_STATUS=35713,this.LOW_FLOAT=36336,this.MEDIUM_FLOAT=36337,this.HIGH_FLOAT=36338,this.LOW_INT=36339,this.MEDIUM_INT=36340,this.HIGH_INT=36341,this.FRAMEBUFFER=36160,this.RENDERBUFFER=36161,this.RGBA4=32854,this.RGB5_A1=32855,this.RGB565=36194,this.DEPTH_COMPONENT16=33189,this.STENCIL_INDEX8=36168,this.DEPTH_STENCIL=34041,this.RENDERBUFFER_WIDTH=36162,this.RENDERBUFFER_HEIGHT=36163,this.RENDERBUFFER_INTERNAL_FORMAT=36164,this.RENDERBUFFER_RED_SIZE=36176,this.RENDERBUFFER_GREEN_SIZE=36177,this.RENDERBUFFER_BLUE_SIZE=36178,this.RENDERBUFFER_ALPHA_SIZE=36179,this.RENDERBUFFER_DEPTH_SIZE=36180,this.RENDERBUFFER_STENCIL_SIZE=36181,this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,this.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,this.COLOR_ATTACHMENT0=36064,this.DEPTH_ATTACHMENT=36096,this.STENCIL_ATTACHMENT=36128,this.DEPTH_STENCIL_ATTACHMENT=33306,this.NONE=0,this.FRAMEBUFFER_COMPLETE=36053,this.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,this.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,this.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,this.FRAMEBUFFER_UNSUPPORTED=36061,this.FRAMEBUFFER_BINDING=36006,this.RENDERBUFFER_BINDING=36007,this.MAX_RENDERBUFFER_SIZE=34024,this.INVALID_FRAMEBUFFER_OPERATION=1286,this.UNPACK_FLIP_Y_WEBGL=37440,this.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,this.CONTEXT_LOST_WEBGL=37442,this.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,this.BROWSER_DEFAULT_WEBGL=37444}}class re extends te{}function ne(t){if("undefined"==typeof FinalizationRegistry){return{register:(t,e)=>{},unregister:t=>{}}}return new FinalizationRegistry(t)}var ie,se,ae,oe,ue,ce=r(949),he=!1,fe=!1,de=function(t){return t.create="create",t.resize="resize",t}(de||{});function _e(t,e){var r=u(t);e===de.create?zt(r.id,r.width,r.height):Jt(r.id,r.width,r.height)}var Ee,le=ne((t=>{Kt(t)})),pe=(ie=W(!0),se=W(!0),ae=W(!0),oe=class{get __id(){return u(this).id}__uid(){return u(this).id}get width(){return u(this).width}set width(t){var e,r=u(this);0===t&&(t=1),r.width=t,_e(this,de.resize),null===(e=r.ctx)||void 0===e||e.reset()}get height(){return u(this).height}set height(t){var e,r=u(this);0===t&&(t=1),r.height=t,_e(this,de.resize),null===(e=r.ctx)||void 0===e||e.reset()}constructor(t,e){this.context=void 0;var r={width:t||window.innerHeight,height:e||window.innerHeight,id:Qt.incAndFetchNRId()};c(this,r),_e(this,de.create),ue||(ue=this),le.register(this,this.__id)}toDataURL(t,e){return $t(u(this).id,t,e)}getContext(t,e){var r,n=u(this);if(this.context)return t===n.currentContextType?this.context:null;if(he||(ce(Qt,!0),he=!0),"webgl2"===t||"webgl"===t){var i=new ee(n.id,t,e);this.context=Qt.buildWebGLCommandBuffer(i,!0)}else{if("2d"!==t)return null;var s=new re(n.id,t,e);this.context=Qt.buildCanvas2DCommandBuffer(s),n.ctx=s}return this.context&&(n.currentContextType=t),ue!==this||fe||(window.mainCanvasType=j[t]||0,r=window.mainCanvasType,Ht.invokeInLibInternal("jitBatchReport",{action:"firstScreen",mainCanvasType:r}),fe=!0),this.context.canvas=this,this.context}},Vt()(oe.prototype,"__uid",[ie],Object.getOwnPropertyDescriptor(oe.prototype,"__uid"),oe.prototype),Vt()(oe.prototype,"toDataURL",[se],Object.getOwnPropertyDescriptor(oe.prototype,"toDataURL"),oe.prototype),Vt()(oe.prototype,"getContext",[ae],Object.getOwnPropertyDescriptor(oe.prototype,"getContext"),oe.prototype),oe),Ae=0,ve=!1,Te={width:HTMLCanvasElement.prototype,height:HTMLCanvasElement.prototype},ge={toDataURL:HTMLCanvasElement.prototype,getContext:HTMLCanvasElement.prototype},{__wxConfig:Re}=top,{system:ye="iOS 15",clientVersion:Ie=0}=Re,Se=parseInt(ye.split(" ")[1],10),me=parseFloat(ye.split(" ")[1]),Ne=!(14!==Se);function be(){if(x.useNativeRender)return new pe(window.innerWidth,window.innerHeight);var t=++Ae,e=document.createElement("canvas");return Object.defineProperty(e,"__id",{value:t}),Ee?e.style.display="none":(e.id="canvas",document.body.appendChild(e),Ee=e,e.addEventListener("webglcontextlost",(()=>{me>=16.7&&me<17.1&&Ie>=402663982&&Ht.invokeInLibInternal("showModal",{title:"",content:"系统错误，请点击确定重启小游戏，如多次重启无效，请尝试重启微信解决。",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",confirmColorDark:"#7D90A9",cancelColor:"#000000",cancelColorDark:"#AAAAAA",editable:!1,placeholderText:"",upper:!1},(t=>{t.confirm&&Ht.invokeInLibInternal("restart",{force:!0,mode:"default",url:"?",scene:void 0})}))}))),e.width=window.innerWidth,e.height=window.innerHeight,e.addEventListener("touchstart",(t=>t.preventDefault())),Object.setPrototypeOf(e,be.prototype),e}function Fe(t){if(x.useNativeRender)delete t.canvasInstance;else{var e=t.canvasInstance,r="jpg"===t.fileType?"image/jpeg":"image/png",n=t.x||0,i=t.y||0,s=t.width||e.width,a=t.height||e.height,o=t.destWidth||e.width,u=t.destHeight||e.height,c=document.createElement("canvas"),h=c.getContext("2d");c.width=o,c.height=u,h.drawImage(e,n,i,s,a,0,0,o,u),Object.assign(t,{data:c.toDataURL(r,t.quality)})}return t}Ht.hook("canvasToTempFilePath",Fe),Ht.hook("canvasToTempFilePathSync",Fe),window.mainCanvasType=0;var Oe=new Proxy(HTMLCanvasElement.prototype.getContext,{apply(t,e,r){e!==Ee||ve||"webgl"===r[0]&&r[1]&&!r[1].forceAntialias&&Ne&&(r[1].antialias=!0);var n=Reflect.apply(t,e,r);if(e===Ee&&!ve&&n&&(ve=!0,window.mainCanvasType=j[r[0]]||0,Ht.invokeInLibInternal("jitBatchReport",{action:"firstScreen",mainCanvasType:window.mainCanvasType}),("webgl"===r[0]||"webgl2"===r[0])&&r[1]&&!0===r[1].alpha)){var i=Object.getPrototypeOf(e);Object.setPrototypeOf(e,HTMLCanvasElement.prototype),e.classList.add("transparentCanvas"),Object.setPrototypeOf(e,i)}return n}});be.prototype=new Proxy(HTMLCanvasElement.prototype,{get:(t,e,r)=>"id"===e?"":"style"===e?Object.create(null):"constructor"===e?be:"getContext"===e?Oe:"string"!=typeof e||e in Te||e in ge?Reflect.get(t,e,r):void 0,set:(t,e,r,n)=>"id"===e||"style"===e||("string"!=typeof e||e in Te?Reflect.set(t,e,r,n):!(e in ge)),ownKeys:()=>Reflect.ownKeys(Te).concat(Reflect.ownKeys(ge)),getOwnPropertyDescriptor:(t,e)=>"string"!=typeof e?Reflect.getOwnPropertyDescriptor(t,e):"getContext"===e?{value:Oe,writable:!0,enumerable:!0,configurable:!0}:e in Te?Reflect.getOwnPropertyDescriptor(Te[e],e):e in ge?Reflect.getOwnPropertyDescriptor(ge[e],e):void 0,getPrototypeOf:()=>null});var xe=ne((t=>{!function(t){Ht.invokeInLibInternal("jitDestroyImage",{imageId:t},Yt,{keepOriginalParams:!0})}(t)}));class Ce{__uid(){return this._id}get src(){return u(this).src}set src(t){var e,r,n,i=u(this);t!==i.src&&t.length&&(i.src=t,e=this._id,r=t,n=t=>{!function(t,e){var r,n,i,s=u(t);/:fail/.test(e.errMsg)?t.onerror&&(t.onerror(e.errMsg),null===(r=s.onerrorList)||void 0===r||r.forEach((e=>{e(t)}))):(t.width=e.width,t.height=e.height,t.complete=!0,null===(n=t.onload)||void 0===n||n.call(t),null===(i=s.onloadList)||void 0===i||i.forEach((t=>{t()})))}(this,t)},Ht.invokeInLibInternal("jitLoadImage",{imageId:e,src:r},n,{keepOriginalParams:!0}))}constructor(){this._id=void 0,this.width=0,this.height=0,this.complete=!1,this.onload=void 0,this.onerror=void 0,this._id=Qt.incAndFetchNRId();c(this,{src:""}),xe.register(this,this._id)}addEventListener(t,e){if(("load"===t||"error"===t)&&"function"==typeof e){var r=u(this),n=`on${t}List`;r[n]?r[n].push(e):r[n]=[e]}}removeEventListener(t,e){if(("load"===t||"error"===t)&&"function"==typeof e){var r=u(this),n=`on${t}List`;if(r[n]){var i=r[n].indexOf(e);i>-1&&r[n].splice(i,1)}}}}var Le=0,Be=new WeakMap,we={onload:HTMLElement.prototype,onerror:HTMLElement.prototype,src:HTMLImageElement.prototype,width:HTMLImageElement.prototype,height:HTMLImageElement.prototype,crossOrigin:HTMLImageElement.prototype,naturalWidth:HTMLImageElement.prototype,naturalHeight:HTMLImageElement.prototype},Me={nodeName:Node.prototype,tagName:Element.prototype,complete:HTMLImageElement.prototype,addEventListener:EventTarget.prototype,removeEventListener:EventTarget.prototype};function Ue(){var t;return null!==(t=Be.get(this))&&void 0!==t?t:""}function Pe(t){var e="";if(/^https?:\/\//.test(t)){var r=new XMLHttpRequest;r.open("POST",`/proxyRequest/${Le}`),r.send(t),e="/proxyResult/"+Le++}else e=!t||/^data:/.test(t)?t:`/wxfs/${t}`;return!!Reflect.set(we.src,"src",e,this)&&(Be.set(this,t),!0)}function De(){if(x.useNativeRender)return new Ce;var t=document.createElement("img");return Object.setPrototypeOf(t,De.prototype),t}De.prototype=new Proxy(HTMLImageElement.prototype,{get:(t,e,r)=>"src"===e?Ue.call(r):"constructor"===e?De:"string"!=typeof e||e in we||e in Me?Reflect.get(t,e,r):void 0,set:(t,e,r,n)=>"src"===e?Pe.call(n,r):"string"!=typeof e||e in we?Reflect.set(t,e,r,n):!(e in Me),ownKeys:()=>Reflect.ownKeys(we).concat(Reflect.ownKeys(Me)),getOwnPropertyDescriptor:(t,e)=>"src"===e?{get:Ue,set:Pe,enumerable:!0,configurable:!0}:"string"!=typeof e?Reflect.getOwnPropertyDescriptor(t,e):e in we?Reflect.getOwnPropertyDescriptor(we[e],e):e in Me?Reflect.getOwnPropertyDescriptor(Me[e],e):void 0,getPrototypeOf:()=>null});class Ge{constructor(){this.ws=void 0,this.onopen=t=>{},this.onmessage=t=>{},this.onclose=(t,e)=>{},this.onerror=(t,e)=>{}}connect({url:t,protocols:e}){this.ws=new WebSocket(t,e),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>this.onopen({}),this.ws.onmessage=({data:t})=>this.onmessage(t),this.ws.onclose=({code:t,reason:e})=>this.onclose(t,e),this.ws.onerror=()=>this.onerror(0,"")}send(t){try{this.ws.send(t)}catch(t){return t.message}}close(t,e){try{this.ws.close(t,e)}catch(t){return t.message}}}Ge.force=!0;var Xe=r(949),ke=!1,He=function(t){return t.create="create",t.resize="resize",t}(He||{});function je(t,e){var r=u(t);e===He.create?zt(r.id,r.width,r.height,!0):Jt(r.id,r.width,r.height)}function We(t){var e,r,n,i,s,a=u(t);e=a.canvasId,r=a.width,n=a.height,i=a.x,s=a.y,Ht.invokeInLibInternal("jitNativeCanvasSetStyle",{canvasId:e,width:r,height:n,x:i,y:s})}var Ve=ne((t=>{Kt(t)}));class Ye{constructor(t){c(this,{canvasId:t,x:0,y:0,width:300,height:100,zIndex:1}),We(this)}get width(){return u(this).width}set width(t){var e=u(this),r=parseInt(t,10);r!==e.width&&(e.width=r,We(this))}get height(){return u(this).height}set height(t){var e=u(this),r=parseInt(t,10);r!==e.height&&(e.height=r,We(this))}get left(){return u(this).x}set left(t){var e=u(this),r=parseInt(t,10);r!==e.x&&(e.x=r,We(this))}get top(){return u(this).y}set top(t){var e=u(this),r=parseInt(t,10);r!==e.y&&(e.y=r,We(this))}get zIndex(){return u(this).zIndex}set zIndex(t){var e=u(this);!isNaN(t)&&Number(t)<0?console.debug("zIndex must be Number greater than or equal to 0"):t!==e.zIndex&&(e.zIndex=t,We(this))}}class Ke{constructor(){this.__id=0,this.ontouchstart=void 0,this.ontouchmove=void 0,this.ontouchend=void 0,this.ontouchcancel=void 0;var t={width:window.innerHeight,height:window.innerHeight,id:Qt.incAndFetchNRId(),context:null,style:null};c(this,t),je(this,He.create),this.__id=t.id,rt.set(this,1),Ve.register(this,t.id)}get style(){var t=u(this);return t.style||(t.style=new Ye(t.id)),t.style}get width(){return u(this).width}set width(t){var e=u(this);t!==e.width&&(e.width=t,je(this,He.resize))}get height(){return u(this).height}set height(t){var e=u(this);t!==e.height&&(e.height=t,je(this,He.resize))}remove(){rt.delete(this),Kt(u(this).id)}getContext(t,e){var r=u(this);if(r.context)return r.context;if(ke||(Xe(Qt,!0),ke=!0),"webgl2"===t||"webgl"===t){var n=new ee(r.id,t,e);r.context=Qt.buildWebGLCommandBuffer(n,!0)}else if("2d"===t){var i=new re(r.id,t,e);r.context=Qt.buildCanvas2DCommandBuffer(i)}return r.context}toDataURL(t,e){return $t(u(this).id,t,e)}}var ze=0,Je=["webglcontextlost","webglcontextrestored","viewready"];class $e{constructor(){if(this.__id=0,this.ontouchstart=void 0,this.ontouchmove=void 0,this.ontouchend=void 0,this.ontouchcancel=void 0,x.useNativeRender)return new Ke;var t=document.createElement("canvas");t.style.zIndex="0",t.style.position="fixed",document.body.appendChild(t),c(this,{canvas:t}),t.addEventListener("touchstart",(t=>{t.preventDefault()})),t.width=window.innerWidth,t.height=window.innerHeight,this.__id=ze++,t.__id=this.__id,rt.set(this,1)}get style(){var t=u(this);return t.style||(t.style=new nt(t.canvas)),t.style}get width(){return u(this).canvas.width}set width(t){u(this).canvas.width=t}get height(){return u(this).canvas.height}set height(t){u(this).canvas.height=t}remove(){u(this).canvas.remove(),rt.delete(this)}getContext(t,e){return u(this).canvas.getContext(t,e)}toDataURL(t,e){return u(this).canvas.toDataURL(t,e)}addEventListener(t,e){Je.includes(t)?u(this).canvas.addEventListener(t,e):console.warn(`[JITRuntime] event ${t} is not support!`)}removeEventListener(t,e){u(this).canvas.removeEventListener(t,e)}}var Ze,qe,Qe="weapp://wechat-game-runtime/gamelive/",tr=0;function er(t){prompt("WELOG","[hilive] "+t)}class rr{constructor(){this.liveId=0,this.loopFunc=void 0,this.recording=!1,this.pixelBuffer=new Uint8Array(1),this.drawWidth=0,this.drawHeight=0,this.drawSize=0,this.frameIdx=0,this.takeSnapTimes=0,this.takeSnapFirstStamp=0,this.takeSnapLastStamp=0,this.takeSnapReadSpent=0,tr+=1,this.liveId=tr,this.loopFunc=this.loop.bind(this),this.start()}updateConfig(){var t=new XMLHttpRequest;t.onerror=()=>{er(`[wk live] updateConfig onerror: status ${t.status}, readyState ${t.readyState}`)},t.ontimeout=()=>{er(`[wk live] updateConfig ontimeout: status ${t.status}, readyState ${t.readyState}`)},t.open("GET",Qe,!0),t.setRequestHeader("request-type","gamelive"),t.setRequestHeader("request-cmd","updateConfig"),t.setRequestHeader("request-live-id",""+this.liveId),t.setRequestHeader("request-width",""+this.drawWidth),t.setRequestHeader("request-height",""+this.drawHeight),t.send()}sendData(){var t=new XMLHttpRequest;t.onerror=()=>{er(`[wk live] sendData onerror: status ${t.status}, readyState ${t.readyState}`)},t.ontimeout=()=>{er(`[wk live] sendData ontimeout: status ${t.status}, readyState ${t.readyState}`)},t.open("POST",Qe,!0),t.setRequestHeader("content-type","application/arraybuffer"),t.setRequestHeader("request-type","gamelive"),t.setRequestHeader("request-cmd","screenData"),t.setRequestHeader("request-live-id",""+this.liveId),t.setRequestHeader("request-width",""+this.drawWidth),t.setRequestHeader("request-height",""+this.drawHeight),t.setRequestHeader("request-frame-idx",""+this.frameIdx),t.send(this.pixelBuffer)}takeSnap(){if(this.takeSnapTimes+=1,this.takeSnapTimes%300==0){var t=this.takeSnapLastStamp-this.takeSnapFirstStamp;er(`[wk live] shapshot perforrmance:\n        fps: ${1e3*this.takeSnapTimes/t}, snapavg: ${this.takeSnapReadSpent/this.frameIdx}, duration: ${t}, frames: ${this.takeSnapTimes}\n        reads: ${this.frameIdx}, spent: ${this.takeSnapReadSpent}\n      `)}var e=Date.now();if(0===this.takeSnapFirstStamp&&(this.takeSnapFirstStamp=e),!(50+this.takeSnapLastStamp>e)){var r=Object.getPrototypeOf(Ze);switch(window.mainCanvasType){case j.webgl:Object.setPrototypeOf(Ze,WebGLRenderingContext.prototype),Ze.readPixels(0,0,this.drawWidth,this.drawHeight,Ze.RGBA,Ze.UNSIGNED_BYTE,this.pixelBuffer);break;case j.webgl2:Object.setPrototypeOf(Ze,WebGL2RenderingContext.prototype),Ze.readPixels(0,0,this.drawWidth,this.drawHeight,Ze.RGBA,Ze.UNSIGNED_BYTE,this.pixelBuffer)}Object.setPrototypeOf(Ze,r);var n=Date.now();this.sendData(),this.frameIdx+=1,this.takeSnapReadSpent+=n-e,this.takeSnapLastStamp=n}}loop(){this.recording&&Ze&&(this.drawWidth===Ze.drawingBufferWidth&&this.drawHeight===Ze.drawingBufferHeight||(this.drawWidth=Ze.drawingBufferWidth,this.drawHeight=Ze.drawingBufferHeight,this.drawSize=this.drawWidth*this.drawHeight*4,this.pixelBuffer=new Uint8Array(this.drawSize),0!==this.frameIdx&&this.updateConfig(),er(`[wk live] pixelBuffer resize: ${this.drawWidth} x ${this.drawHeight}`)),0===this.frameIdx&&this.updateConfig(),this.takeSnap(),window.requestAnimationFrame(this.loopFunc))}start(){er(`[wk live] start: liveId ${this.liveId}`),this.recording=!0,this.loop()}stop(){er(`[wk live] stop: liveId ${this.liveId}`),this.recording=!1}}function nr(){return document.createElement("video")}var ir=0;var sr=r(715),ar=r.n(sr),or=(...t)=>{};function ur(t){return"number"==typeof t&&!Number.isNaN(t)}function cr(t,e){if(t.position=t.position||"absolute",void 0!==e){var{top:r,left:n,width:i,height:s}=e;ur(r)&&(t.top=`${r}px`),ur(n)&&(t.left=`${n}px`),ur(i)&&(t.width=`${i}px`),ur(s)&&(t.height=`${s}px`)}}var hr=null,fr=or;var dr={},_r=0,Er=window.RTCPeerConnection,lr=window.RTCSessionDescription,pr=window.RTCIceCandidate,Ar=window.MediaStream,vr=window.MediaStreamTrack,Tr=t=>void 0!==t?dr[t]:void 0,gr={RTCPeerConnection:Er,RTCSessionDescription:lr,RTCIceCandidate:pr,MediaStream:Ar,MediaStreamTrack:vr,holdMediaSteamTrack:t=>{var e=++_r;return dr[e]=t,console.warn("[webrtc.holdMediaStreamTrack]",t,e),e},insertWebRTCRendererView:function(t,e=or){var r;hr||(hr=nr());var{underGameView:n,position:i}=t;hr.style.zIndex=n?"-1":String(null!==(r=null==i?void 0:i.zIndex)&&void 0!==r?r:0),cr(hr.style,i),hr.playsInline=!0,hr.disablePictureInPicture=!0,hr.muted=!1,hr.addEventListener("loadedmetadata",(t=>{fr(t)})),document.body.appendChild(hr),e&&e({errMsg:"insertWebRTCRendererView:ok"})},updateWebRTCRendererView:function(t,e=or){if(hr){var r="updateWebRTCRendererView:ok";try{var n,{position:i,underGameView:s,videoTrackId:a,audioTrackId:o}=t;cr(hr.style,i),hr.style.zIndex=s?"-1":String(null!==(n=null==i?void 0:i.zIndex)&&void 0!==n?n:0);var u,c=[],h=Tr(a),f=Tr(o);h&&c.push(h),f&&c.push(f),u=c.length?new MediaStream(c):null,hr.srcObject=u,hr.play()}catch(t){r="updateWebRTCRendererView:fail invalid viewId"}finally{e&&e({errMsg:r})}}},removeWebRTCRendererView:function(t,e=or){if(hr){var r="removeWebRTCRendererView:ok";try{document.body.removeChild(hr),hr=null}catch(t){r="removeWebRTCRendererView:fail invalid viewId"}finally{e&&e({errMsg:r})}}},getVideo:function(){return hr},onWebRTCLoadedMetaData:function(t){fr=t},getUserMedia:function(){var t=ar()((function*(t={audio:!0,video:!1}){return window.navigator.mediaDevices.getUserMedia(t)}));return function(){return t.apply(this,arguments)}}()},Rr=function(t){return t[t.Success=0]="Success",t[t.ObjNotExist=1]="ObjNotExist",t[t.CmdFail=2]="CmdFail",t}({}),yr=function(t){return t[t.Unknown=0]="Unknown",t[t.BindingObject=1]="BindingObject",t[t.Function=2]="Function",t[t.Promise=3]="Promise",t}({}),Ir=function(t){return t[t.Test=-1]="Test",t[t.Unknown=0]="Unknown",t[t.New=1]="New",t[t.Del=2]="Del",t[t.Get=3]="Get",t[t.Set=4]="Set",t[t.Call=5]="Call",t}({}),Sr=new qt,mr=new WeakMap,Nr=new qt,br=new WeakMap,Fr={Function:yr.Function,Promise:yr.Promise},Or=1e6;function xr(t){var r=e(t);if("Function"!==r&&"Promise"!==r&&"Object"!==r&&"Array"!==r)return t;if(mr.has(t))return mr.get(t);if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=xr(t[n]);if("Object"===r&&Object.keys(t).forEach((e=>{t[e]=xr(t[e])})),br.has(t))return br.get(t);if("Function"===r||"Promise"===r){var i=((Or-=1)<0&&(Or=1e6),Or),s={__bindingId__:i,__bindingType__:Fr[r]};return br.set(t,s),Br.register(t,i),Nr.set(i,t),s}return t}var Cr,Lr=new Map,Br=ne((t=>{}));function wr(t){if(!t)return t;var e=t.__bindingId__;if(void 0!==e){if(Sr.has(e))return Sr.get(e);if(Nr.has(e))return Nr.get(e)}if((t.__bindingType__===yr.Promise||t.__bindingType__===yr.Function)&&t.__bindingType__===yr.Promise){var r=new Promise(((t,r)=>{Lr.set(e,{resolve:t,reject:r})}));return Br.register(r,e),Sr.set(e,r),r}return t}function Mr(t,e){G(e).then((e=>{var r=e.target,n=e.args,{__bindingId__:i}=r;if(Lr.has(i)){var s=Lr.get(i);("resolve"===t?s.resolve:s.reject)(...wr(n)),Lr.delete(i)}else console.error("binding object is not exist",r)}))}function Ur(t){var e;return Ht.invokeInLibInternal("jitBindingCallSync",t,(t=>{if(t.errcode!==Rr.Success)throw console.error(t),new Error(t.errmsg);e=wr(t.data)})),e}Ht.hookEvent("onJITBindingEventCallback",(t=>{G(t).then((t=>{var e,r=t.target,n=t.args,{__bindingId__:i}=r;Nr.has(i)?null===(e=Nr.get(i))||void 0===e||e(...wr(n)):console.error("binding object is not exist",r)}))})),Ht.hookEvent("onJITBindingPromiseResolveCallback",(t=>{Mr("resolve",t)})),Ht.hookEvent("onJITBindingPromiseRejectCallback",(t=>{Mr("reject",t)}));var Pr="binding local get or set fail";function Dr(t,e,r){var n=r.value;return r.value=function(...t){var e=t[0];return mr.get(e)?n.apply(this,t):console.error("binding object is not exist")},r}var Gr=new(Cr=class{bindingSet(t,e,r,n){var i=Ur({cmd:Ir.Set,target:mr.get(t),funcName:r,args:[xr(n)],extra:e});return u(t)[r]=n,i}bindingGet(t,e,r){return Ur({cmd:Ir.Get,target:mr.get(t),funcName:r,extra:e})}bindingFuncCall(t,e,r,n){return Ur({cmd:Ir.Call,target:mr.get(t),funcName:r,args:xr(n),extra:e})}bindingLocalGet(t,e){var r=u(t);if(r.localInfo&&void 0!==r.localInfo[e])return r.localInfo[e];console.warn(Pr)}bindingLocalSet(t,e,r){var n=u(t);if(n.localInfo&&void 0!==n.localInfo[e])return n.localInfo[e]=r,r;console.warn(Pr)}},Vt()(Cr.prototype,"bindingSet",[Dr],Object.getOwnPropertyDescriptor(Cr.prototype,"bindingSet"),Cr.prototype),Vt()(Cr.prototype,"bindingGet",[Dr],Object.getOwnPropertyDescriptor(Cr.prototype,"bindingGet"),Cr.prototype),Vt()(Cr.prototype,"bindingFuncCall",[Dr],Object.getOwnPropertyDescriptor(Cr.prototype,"bindingFuncCall"),Cr.prototype),Vt()(Cr.prototype,"bindingLocalGet",[Dr],Object.getOwnPropertyDescriptor(Cr.prototype,"bindingLocalGet"),Cr.prototype),Vt()(Cr.prototype,"bindingLocalSet",[Dr],Object.getOwnPropertyDescriptor(Cr.prototype,"bindingLocalSet"),Cr.prototype),Cr),Xr=ne((t=>{Ur({cmd:Ir.Del,target:{__bindingId__:t,__bindingType__:yr.BindingObject}}),Sr.delete(t)}));class kr{constructor(t,...e){var r;r=t.__bindingObject__?t.__bindingObject__:Ur({cmd:Ir.New,funcName:t.__bindingName__,args:e});var n=new Proxy(this,{deleteProperty:(t,e)=>"string"==typeof e&&(Gr.bindingSet(n,{},e,void 0),Reflect.deleteProperty(t,e))});r&&(mr.set(n,r),Sr.set(r.__bindingId__,n),Xr.register(n,r.__bindingId__));return c(n,{}),n}}class Hr extends kr{constructor(t,e,...r){super(t,...r),u(this).localInfo=e}}class jr extends kr{constructor(...t){var e,r;super(null!==(e=t[0])&&void 0!==e&&e.__bindingObject__?t[0]:{__bindingName__:"NativeGlobal.WeMedia.Reader"},...null!==(r=t[0])&&void 0!==r&&r.__bindingObject__?t.slice(1):t)}start(...t){return Gr.bindingFuncCall(this,{responseType:"object"},"start",t)}stop(...t){return Gr.bindingFuncCall(this,{responseType:"object"},"stop",t)}}class Wr extends Hr{get kind(){return Gr.bindingLocalGet(this,"kind")}set kind(t){Gr.bindingLocalSet(this,"kind",t)}get mediaType(){return Gr.bindingLocalGet(this,"mediaType")}set mediaType(t){Gr.bindingLocalSet(this,"mediaType",t)}get frameType(){return Gr.bindingLocalGet(this,"frameType")}set frameType(t){Gr.bindingLocalSet(this,"frameType",t)}get format(){return Gr.bindingLocalGet(this,"format")}set format(t){Gr.bindingLocalSet(this,"format",t)}get width(){return Gr.bindingLocalGet(this,"width")}set width(t){Gr.bindingLocalSet(this,"width",t)}get height(){return Gr.bindingLocalGet(this,"height")}set height(t){Gr.bindingLocalSet(this,"height",t)}get channel(){return Gr.bindingLocalGet(this,"channel")}set channel(t){Gr.bindingLocalSet(this,"channel",t)}get samplerate(){return Gr.bindingLocalGet(this,"samplerate")}set samplerate(t){Gr.bindingLocalSet(this,"samplerate",t)}get bitrate(){return Gr.bindingLocalGet(this,"bitrate")}set bitrate(t){Gr.bindingLocalSet(this,"bitrate",t)}get pos(){return Gr.bindingLocalGet(this,"pos")}set pos(t){Gr.bindingLocalSet(this,"pos",t)}get pts(){return Gr.bindingLocalGet(this,"pts")}set pts(t){Gr.bindingLocalSet(this,"pts",t)}get dts(){return Gr.bindingLocalGet(this,"dts")}set dts(t){Gr.bindingLocalSet(this,"dts",t)}get duration(){return Gr.bindingLocalGet(this,"duration")}set duration(t){Gr.bindingLocalSet(this,"duration",t)}get data(){return Gr.bindingLocalGet(this,"data")}set data(t){Gr.bindingLocalSet(this,"data",t)}close(...t){return Gr.bindingFuncCall(this,{responseType:"object"},"close",t)}}class Vr extends kr{constructor(...t){var e,r;super(null!==(e=t[0])&&void 0!==e&&e.__bindingObject__?t[0]:{__bindingName__:"NativeGlobal.WeMedia.Player"},...null!==(r=t[0])&&void 0!==r&&r.__bindingObject__?t.slice(1):t)}set avSync(t){Gr.bindingSet(this,{},"avSync",t)}get avSync(){return Gr.bindingGet(this,{},"avSync")}start(...t){return Gr.bindingFuncCall(this,{responseType:"object"},"start",t)}stop(...t){return Gr.bindingFuncCall(this,{responseType:"object"},"stop",t)}pause(...t){return Gr.bindingFuncCall(this,{responseType:"object"},"pause",t)}resume(...t){return Gr.bindingFuncCall(this,{responseType:"object"},"resume",t)}mute(...t){return Gr.bindingFuncCall(this,{responseType:"object"},"mute",t)}set onvideorenderer(t){Gr.bindingSet(this,{responseType:"bindingAndObject"},"onvideorenderer",(e=>{e.frame=new Wr({__bindingObject__:e.frame.__bindingObject__,__bindingName__:"WeMedia.Frame"},Object.assign({},e.frame)),t(e)}))}get onvideorenderer(){return Gr.bindingGet(this,{},"onvideorenderer")}set onerror(t){Gr.bindingSet(this,{responseType:"object"},"onerror",t)}get onerror(){return Gr.bindingGet(this,{},"onerror")}set onend(t){Gr.bindingSet(this,{responseType:"object"},"onend",t)}get onend(){return Gr.bindingGet(this,{},"onend")}set onfirstvideorendered(t){Gr.bindingSet(this,{responseType:"object"},"onfirstvideorendered",t)}get onfirstvideorendered(){return Gr.bindingGet(this,{},"onfirstvideorendered")}}class Yr extends kr{constructor(...t){var e,r;super(null!==(e=t[0])&&void 0!==e&&e.__bindingObject__?t[0]:{__bindingName__:"NativeGlobal.WeMedia.AvSync"},...null!==(r=t[0])&&void 0!==r&&r.__bindingObject__?t.slice(1):t)}get reader(){return Gr.bindingGet(this,{},"reader")}set reader(t){Gr.bindingSet(this,{},"reader",t)}seek(...t){return Gr.bindingFuncCall(this,{responseType:"object"},"seek",t)}}var Kr={Context:class extends kr{constructor(...t){var e,r;super(null!==(e=t[0])&&void 0!==e&&e.__bindingObject__?t[0]:{__bindingName__:"NativeGlobal.WeMedia.Context"},...null!==(r=t[0])&&void 0!==r&&r.__bindingObject__?t.slice(1):t)}createReader(){var t=Gr.bindingFuncCall(this,{},"createReader");return new jr({__bindingName__:"NativeGlobal.WeMedia.Reader",__bindingObject__:t})}createPlayer(){var t=Gr.bindingFuncCall(this,{},"createPlayer");return new Vr({__bindingName__:"NativeGlobal.WeMedia.Player",__bindingObject__:t})}createAvSync(){var t=Gr.bindingFuncCall(this,{},"createAvSync");return new Yr({__bindingName__:"NativeGlobal.WeMedia.AvSync",__bindingObject__:t})}},Reader:jr,Player:Vr,AvSync:Yr,MediaFormat:{kMediaFormatAudioBegin:100,kMediaFormatAudioDbl:105,kMediaFormatAudioDblp:110,"kMediaFormatAudioEnd,":111,kMediaFormatAudioFlt:104,kMediaFormatAudioFltp:109,kMediaFormatAudioS16:102,kMediaFormatAudioS16p:107,kMediaFormatAudioS32:103,kMediaFormatAudioS32p:108,kMediaFormatNone:-1,kMediaFormatVideoAbgr32:56,kMediaFormatVideoArgb32:55,kMediaFormatVideoBgr24:52,kMediaFormatVideoBgra32:54,kMediaFormatVideoNv12:2,kMediaFormatVideoNv21:3,kMediaFormatVideoPixelBegin:50,kMediaFormatVideoPixelEnd:57,kMediaFormatVideoRgb24:51,kMediaFormatVideoRgba32:53,kMediaFormatVideoYuv420p:1,kMediaFormatVideoYuvBegin:0,kMediaFormatVideoYuvEnd:5,kMediaFormatVideoYuvJ420p:4}};var zr,Jr,$r,Zr,qr,Qr={jitMode:!0,decodeArrayBuffer:(t,e)=>new TextDecoder(e).decode(t),encodeArrayBuffer:t=>(new TextEncoder).encode(t),loadFont:function(t){var e;if(x.useNativeRender)return function(t){var e="";return Ht.invokeInLibInternal("jitLoadFontSync",{path:t},(t=>{if(/:fail/.test(t.errMsg))throw new Error(t.errMsg);e=t.data})),e}(t);var r,n=`/wxfs/${t}`;try{r=H({filePath:n,responseType:"arraybuffer"})}catch(e){return k(`${t} readFileXhrSync error: ${e}`),null}if(null===(e=r)||void 0===e||!e.byteLength)return k(`${t} readFileXhrSync empty`),null;var i="CustomFont"+ ++ir;try{new FontFace(i,r).load().then((t=>{document.fonts.add(t)}))}catch(e){return k(`${t} FontFace load error: ${e}`),null}return i},requestAnimationFrame:function(t){return lt.set(++ft,t),ft},cancelAnimationFrame:function(t){lt.delete(t)},setPreferredFramesPerSecond:gt,setTimeout:setTimeout.bind(window),clearTimeout:clearTimeout.bind(window),setInterval:setInterval.bind(window),clearInterval:clearInterval.bind(window),performanceNow:()=>1e3*performance.now(),EventHandler:Ct,webkit:globalThis.webkit,Canvas:be,Image:De,ScreenCanvas:function({keepOrigin:t=!1}={}){if(t&&!x.useNativeRender){var e=new $e;return u(e).canvas}return new $e},WSS:Ge,log:E,setLiveContext:function(t,e,r){Ze=t,er(`[wk live] getContext arguments: ${e}，${JSON.stringify(r)}`)},startLive:function(){Ze||er("[wk live] startLive error: game is not ready!"),qe?er("[wk live] startLive dumplicate"):qe=new rr},stopLive:function(){window.requestAnimationFrame((()=>{qe&&(qe.stop(),qe=null)}))},gc:(zr=function(){globalThis.__wkVersion>=8&&Ht.invokeInLibInternal("jitTriggerGC",{})},Jr=1e4,$r=globalThis,function(...t){var e=Date.now();!qr||e-qr>Jr?(qr=e,zr.apply($r,t)):Zr||(Zr=window.setTimeout((()=>{qr=Date.now(),zr.apply($r,t),Zr=null}),Jr-(e-qr)))}),createVideoElement:nr,WebRTC:gr,WeMedia:Kr},tn=0,en=new Map,rn=location.origin,nn=(t,e)=>{var r=URL.createObjectURL(new Blob([`\n    const whiteList = new Set([\n      'Object',\n      'Function',\n      'Array',\n      'Number',\n      'parseFloat',\n      'parseInt',\n      'Infinity',\n      'NaN',\n      'undefined',\n      'Boolean',\n      'String',\n      'Symbol',\n      'Date',\n      'Promise',\n      'RegExp',\n      'Error',\n      'EvalError',\n      'RangeError',\n      'ReferenceError',\n      'SyntaxError',\n      'TypeError',\n      'URIError',\n      'JSON',\n      'Math',\n      'console',\n      'ArrayBuffer',\n      'Uint8Array',\n      'Int8Array',\n      'Uint16Array',\n      'Int16Array',\n      'Uint32Array',\n      'Int32Array',\n      'Float32Array',\n      'Float64Array',\n      'Uint8ClampedArray',\n      'BigUint64Array',\n      'BigInt64Array',\n      'DataView',\n      'Map',\n      'BigInt',\n      'Set',\n      'WeakMap',\n      'WeakSet',\n      'Proxy',\n      'Reflect',\n      'decodeURI',\n      'decodeURIComponent',\n      'encodeURI',\n      'encodeURIComponent',\n      'escape',\n      'unescape',\n      'isFinite',\n      'isNaN',\n      'SharedArrayBuffer',\n      'Atomics',\n      'WebAssembly',\n      'clearInterval',\n      'clearTimeout',\n      'setInterval',\n      'setTimeout',\n      'globalThis',\n      'Intl',\n      'AggregateError',\n      'queueMicrotask',\n      'GameGlobal',\n      '__wxConfig',\n      'WeixinWorker',\n      'useGlobalJSBridge',\n      'WeixinJSBridge',\n      'workerInvokeJsApi',\n      '__wkrenderer_h5',\n    ])\n    self.GameGlobal = {}\n    self.workerInvokeJsApi = () => {}\n    self.useGlobalJSBridge = true\n    self.__wkrenderer_h5 = true\n    self.WeixinJSBridge = { // 先做个假的\n      on: () => {},\n      invoke: () => {},\n      subscribe: () => {},\n      publish: () => {},\n    }\n    self.__wxConfig = ${JSON.stringify(globalThis.__wxConfig)}\n    self.__wxConfig.workerContentType = '${t}'\n    const postMessage = self.postMessage\n    self.WeixinWorker = {\n      // 这个会被 WAWorker.js 替换掉\n      appServiceMsgHandler() {},\n      postMsgToAppService(msg) {\n        try {\n          postMessage(JSON.parse(msg))\n        } catch {\n          postMessage(msg)\n        }\n      },\n      sendMsgToAppService(msg) {\n        postMessage(msg)\n      }\n    }\n    self.onmessage = ({ data }) => {\n      WeixinWorker.appServiceMsgHandler(data)\n    }\n    Object.getOwnPropertyNames(self).forEach(k => {\n      if (whiteList.has(k)) return\n      if (k === 'onmessage') {\n        Object.defineProperty(self, k, { value: null })\n      }\n      delete self[k]\n    })\n    importScripts('${rn}/wxcommlib/WAWorker.js')\n    importScripts('${e}')\n  `])),n=new Worker(r),i=++tn;return en.set(i,n),n.onmessage=({data:t})=>globalThis.WeixinWorker.workerMsgHandler(i,t),n.onerror=t=>globalThis.WeixinWorker.errorHandler(i,t),tn},sn={create:t=>nn("app",`${rn}/wxfs/${t}`),postMsgToWorker(t,e){try{en.get(t).postMessage(JSON.parse(e))}catch{en.get(t).postMessage(e)}},sendMsgToWorker(t,e){en.get(t).postMessage(e)},terminate(t){en.get(t).terminate(),en.delete(t)},workerMsgHandler(t,e){},errorHandler(t,e){},createWXLibWorker(t,e){if("string"==typeof e&&(e=JSON.parse(e)),!e||"ad"!==e.type)return nn("wxlib",`${rn}/wxcommlib/${t}`)}};class an{constructor(t,e=""){this.name=void 0,this.window=void 0,this.loaded=!1,this.callbacks=new Array,this.frame=document.createElement("iframe"),this.command=void 0,this.name=e;var r="main"===e;this.frame.src="/wxcommlib/WAGameSubContextFrame.html",this.frame.setAttribute("sandbox","allow-scripts allow-same-origin"),this.frame.name=`${e}Context`,this.frame.style.display="none",document.body.appendChild(this.frame),this.frame.onload=()=>{this.window=Object.assign(this.frame.contentWindow,t),this.command=this.window.__adapterCommand,delete this.window.__adapterCommand,this.command({cmd:"protect",main:r}),r&&this.command({cmd:"eval",code:"WeixinJSContext.__proto__ = Object.prototype"}),this.command({cmd:"add",src:`/wxcommlib/WAGame${r?"":"SubContext"}.js`},(()=>{this.loaded=!0,this.callbacks.forEach((t=>t()))}))}}onReady(t){this.loaded?t():this.callbacks.push(t)}add(t,e){this.onReady((()=>{if(!!__wxConfig.debug&&"object"==typeof __wxSourceMap)try{var r=H({filePath:`/wxfs/${t}.map`,responseType:"text"});r&&(__wxSourceMap[`wechat-game-runtime/wxfs/${t}`]=JSON.parse(r))}catch(t){console.error(t)}this.command({cmd:"add",src:`/wxfs/${t}`},(()=>{if("game.js"===t){var r,n;if(5===globalThis.__wkVersion)null===(n=WeixinJSBridge)||void 0===n||n.subscribeHandler("onUpdateStatusChange",{state:"noUpdate"});null===(r=WeixinJSBridge)||void 0===r||r.subscribeHandler("onGamejsInjected")}null==e||e()}))}))}eval(t,e){this.onReady((()=>null==e?void 0:e(this.command({cmd:"eval",code:t}))))}updateWxCofig(t){this.onReady((()=>{this.command({cmd:"onWxConfigReady",wxConfig:t})}))}destroy(){this.frame.remove()}}var on=0,un=new Map,cn=window.eval,hn={async:!0,alloc(t="Context"){var e=++on,r=new an({WeixinJSContext:hn,WeixinJSContextId:e},t);return un.set(e,r),e},evaluateScriptFile(t,e,r){var n;return null===(n=un.get(t))||void 0===n||n.add(e,r),1},destroy(t){var e;null===(e=un.get(t))||void 0===e||e.destroy(),un.delete(t)},loadLibFiles(t,e){var r;try{r=JSON.parse(e)}catch(t){return X.log(`[loadLibFiles] invalid path type: ${e}`),0}var n=1;return r.forEach((t=>{var e=Date.now(),r=H({filePath:`/wxcommlib/${t}`,responseType:"text"});if(r){var i=Date.now();try{cn(r),X.log(`[loadLibFiles] reportScriptInjectTimeLocal: ${t}, ${r.length}, ${e}, ${i}, ${Date.now()}`)}catch(n){X.log(`[loadLibFiles] script inject error: ${t}, ${r.length}, ${e}, ${i}, ${n}`)}}else X.log(`[loadLibFiles] res file data is empty or file is not exist: ${t}`),n=0})),n}};function fn(){var{__wxConfig:t}=top,e=t.gamePlugins||t.plugins||{},r=Object.values(e).some((t=>"wxe5a48f1ed5f544b7"===t.provider)),n=!!t.debug;return r&&!n&&function(){var t=document.createElement("div");t.style.cssText="position:fixed;top:-999px;left:-999px;cursor:pointer;opacity:0.1;z-index:10000";var e=document.createElement("canvas");e.width=1,e.height=1,e.style.cssText="width:1x;height:1px";var r=e.getContext("2d");r.fillStyle="#0ff",r.fillRect(0,0,1,1),t.appendChild(e),document.body.appendChild(t)}(),n}Object.defineProperty(window,"__jitMode",{value:!0,writable:!1,configurable:!1}),Object.assign(globalThis,{NativeGlobal:Qr,NativeBuffer:L,WeixinJSCore:Ht,WeixinWorker:sn,WeixinJSContext:hn,WeixinJSCoreIOS:jt}),function(){var e=!1,{__wxConfig:r}=top,{system:n="iOS 15"}=r,i=parseInt(n.split(" ")[1],10);x.useEventDispatcher=14===i,r.preload||(e=fn(),_()),jt.setConfig({loop:!0,debug:e,syncApis:t,useXhrForJsApiInvoke:(1&globalThis.__featBit)>0}),x.useNativeRender=(2&globalThis.__featBit)>0,jt.hookEvent("onWxConfigReady",(()=>{e=fn(),jt.setConfig({debug:e}),jt.setConfig({useXhrForJsApiInvoke:(1&globalThis.__featBit)>0}),x.useNativeRender=(2&globalThis.__featBit)>0,_();var t,r,n,{__wxConfig:i}=top;t=i,un.forEach((t=>{"game"===t.name&&(n=t)})),null===(r=n)||void 0===r||r.updateWxCofig(JSON.stringify(t))}))}()})()})();
  </script>
</body>
</html>
