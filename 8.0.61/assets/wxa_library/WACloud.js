try{(function(){let e="getCloudSDKGlobalVar",t;globalThis[e]?t=globalThis[e]:void 0!==globalThis.WeixinJSBridge&&globalThis.WeixinJSBridge[e]&&(t=globalThis.WeixinJSBridge[e]);var{WeixinJSBridge:r,wxConsole:n,Reporter:i,console:o,__appServiceSDK__:a,__wxConfig:s,Foundation:u,IS_APP:c,__subContextEngine__:l}=t();(()=>{var e={715:e=>{function t(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var a=e.apply(r,n);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},863:(e,t,r)=>{"use strict";r.d(t,{V1:()=>Q,V3:()=>ze,jC:()=>pe,mA:()=>F,xB:()=>Ht});var n=r(715),i=r.n(n),a=Object.create,s=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyNames,l=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,d=(e,t)=>()=>(e&&(t=e(e=0)),t),h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),p=(e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})},A=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t){var i=function(i){!f.call(e,i)&&i!==r&&s(e,i,{get:()=>t[i],enumerable:!(n=u(t,i))||n.enumerable})};for(var o of c(t))i(o)}return e},g=(e,t,r)=>(r=null!=e?a(l(e)):{},A(!t&&e&&e.__esModule?r:s(r,"default",{value:e,enumerable:!0}),e)),v=d((()=>{})),y=h((e=>{v();var t=[0,255,65535,16777215,4294967295];function r(e,t,r,n,i){var o;for(o=0;o<i;o++)r[n+o]=e[t+o]}function n(e,t,r,n){var i;for(i=0;i<n;i++)e[t+i]=e[t-r+i]}function i(e){this.array=e,this.pos=0}i.prototype.readUncompressedLength=function(){for(var e,t,r=0,n=0;n<32&&this.pos<this.array.length;){if(e=this.array[this.pos],this.pos+=1,(t=127&e)<<n>>>n!==t)return-1;if(r|=t<<n,e<128)return r;n+=7}return-1},i.prototype.uncompressToBuffer=function(e){for(var i,o,a,s,u=this.array,c=u.length,l=this.pos,f=0;l<u.length;)if(i=u[l],l+=1,0==(3&i)){if((o=1+(i>>>2))>60){if(l+3>=c)return!1;a=o-60,o=1+((o=u[l]+(u[l+1]<<8)+(u[l+2]<<16)+(u[l+3]<<24))&t[a]),l+=a}if(l+o>c)return!1;r(u,l,e,f,o),l+=o,f+=o}else{switch(3&i){case 1:o=4+(i>>>2&7),s=u[l]+(i>>>5<<8),l+=1;break;case 2:if(l+1>=c)return!1;o=1+(i>>>2),s=u[l]+(u[l+1]<<8),l+=2;break;case 3:if(l+3>=c)return!1;o=1+(i>>>2),s=u[l]+(u[l+1]<<8)+(u[l+2]<<16)+(u[l+3]<<24),l+=4}if(0===s||s>f)return!1;n(e,f,s,o),f+=o}return!0},e.SnappyDecompressor=i})),m=h((e=>{v();var t=new Array(15);function r(e,t){return 506832829*e>>>t}function n(e,t){return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)}function i(e,t,r){return e[t]===e[r]&&e[t+1]===e[r+1]&&e[t+2]===e[r+2]&&e[t+3]===e[r+3]}function o(e,t,r,n,i){return r<=60?(n[i]=r-1<<2,i+=1):r<256?(n[i]=240,n[i+1]=r-1,i+=2):(n[i]=244,n[i+1]=r-1&255,n[i+2]=r-1>>>8,i+=3),function(e,t,r,n,i){var o;for(o=0;o<i;o++)r[n+o]=e[t+o]}(e,t,n,i,r),i+r}function a(e,t,r,n){return n<12&&r<2048?(e[t]=1+(n-4<<2)+(r>>>8<<5),e[t+1]=255&r,t+2):(e[t]=2+(n-1<<2),e[t+1]=255&r,e[t+2]=r>>>8,t+3)}function s(e,t,r,n){for(;n>=68;)t=a(e,t,r,64),n-=64;return n>64&&(t=a(e,t,r,60),n-=60),a(e,t,r,n)}function u(e,a,u,c,l){for(var f=1;1<<f<=u&&f<=14;)f+=1;var d=32-(f-=1);typeof t[f]>"u"&&(t[f]=new Uint16Array(1<<f));var h,p=t[f];for(h=0;h<p.length;h++)p[h]=0;var A,g,v,y,m,_,E,b,w,I,T=a+u,S=a,C=a,N=!0;if(u>=15)for(A=T-15,v=r(n(e,a+=1),d);N;){_=32,y=a;do{if(g=v,E=_>>>5,_+=1,y=(a=y)+E,a>A){N=!1;break}v=r(n(e,y),d),m=S+p[g],p[g]=a-S}while(!i(e,a,m));if(!N)break;l=o(e,C,a-C,c,l);do{for(b=a,w=4;a+w<T&&e[a+w]===e[m+w];)w+=1;if(a+=w,l=s(c,l,b-m,w),C=a,a>=A){N=!1;break}p[r(n(e,a-1),d)]=a-1-S,m=S+p[I=r(n(e,a),d)],p[I]=a-S}while(i(e,a,m));if(!N)break;v=r(n(e,a+=1),d)}return C<T&&(l=o(e,C,T-C,c,l)),l}function c(e){this.array=e}c.prototype.maxCompressedLength=function(){var e=this.array.length;return 32+e+Math.floor(e/6)},c.prototype.compressToBuffer=function(e){var t,r=this.array,n=r.length,i=0,o=0;for(o=function(e,t,r){do{t[r]=127&e,(e>>>=7)>0&&(t[r]+=128),r+=1}while(e>0);return r}(n,e,o);i<n;)o=u(r,i,t=Math.min(n-i,65536),e,o),i+=t;return o},e.SnappyCompressor=c})),_=h((e=>{function t(){return"object"==typeof process&&"object"==typeof process.versions&&typeof process.versions.node<"u"}function r(e){return e instanceof Uint8Array&&(!t()||!Buffer.isBuffer(e))}function n(e){return e instanceof ArrayBuffer}function i(e){return!!t()&&Buffer.isBuffer(e)}v();var o=y().SnappyDecompressor,a=m().SnappyCompressor,s="Argument compressed must be type of ArrayBuffer, Buffer, or Uint8Array";e.uncompress=function(e,t){if(!r(e)&&!n(e)&&!i(e))throw new TypeError(s);var a=!1,u=!1;r(e)?a=!0:n(e)&&(u=!0,e=new Uint8Array(e));var c,l,f=new o(e),d=f.readUncompressedLength();if(-1===d)throw new Error("Invalid Snappy bitstream");if(d>t)throw new Error(`The uncompressed length of ${d} is too big, expect at most ${t}`);if(a){if(c=new Uint8Array(d),!f.uncompressToBuffer(c))throw new Error("Invalid Snappy bitstream")}else if(u){if(c=new ArrayBuffer(d),l=new Uint8Array(c),!f.uncompressToBuffer(l))throw new Error("Invalid Snappy bitstream")}else if(c=Buffer.alloc(d),!f.uncompressToBuffer(c))throw new Error("Invalid Snappy bitstream");return c},e.compress=function(e){if(!r(e)&&!n(e)&&!i(e))throw new TypeError(s);var t=!1,o=!1;r(e)?t=!0:n(e)&&(o=!0,e=new Uint8Array(e));var u,c,l,f=new a(e),d=f.maxCompressedLength();if(t?(u=new Uint8Array(d),l=f.compressToBuffer(u)):o?(u=new ArrayBuffer(d),c=new Uint8Array(u),l=f.compressToBuffer(c)):(u=Buffer.alloc(d),l=f.compressToBuffer(u)),!u.slice){var h=new Uint8Array(Array.prototype.slice.call(u,0,l));if(t)return h;if(o)return h.buffer;throw new Error("Not implemented")}return u.slice(0,l)}})),E=h(((e,t)=>{v(),t.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,a){r[n]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,a(e))}}))}})),b=h((e=>{v();var t=e;t.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};var r,n=new Array(64),i=new Array(123);for(r=0;r<64;)i[n[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;t.encode=function(e,t,r){for(var i,o=null,a=[],s=0,u=0;t<r;){var c=e[t++];switch(u){case 0:a[s++]=n[c>>2],i=(3&c)<<4,u=1;break;case 1:a[s++]=n[i|c>>4],i=(15&c)<<2,u=2;break;case 2:a[s++]=n[i|c>>6],a[s++]=n[63&c],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=n[i],a[s++]=61,1===u&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var o="invalid encoding";t.decode=function(e,t,r){for(var n,a=r,s=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&s>1)break;if(void 0===(c=i[c]))throw Error(o);switch(s){case 0:n=c,s=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:t[r++]=(3&n)<<6|c,s=0}}if(1===s)throw Error(o);return r-a},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}})),w=h(((e,t)=>{function r(){this._listeners={}}v(),t.exports=r,r.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}})),I=h(((e,t)=>{function r(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,i),e.readFloatLE=r.bind(null,o),e.readFloatBE=r.bind(null,a)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,i,o){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,i,o+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+r)}}}function r(e,t,r,n,i){var o=e(n,i+t),a=e(n,i+r),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=r.bind(null,o,0,4),e.readDoubleBE=r.bind(null,a,4,0)}(),e}function n(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}v(),t.exports=r(r)})),T=h(((e,t)=>{function r(e){try{var t=eval("quire".replace(/^/,"re"))(e);if(t&&(t.length||Object.keys(t).length))return t}catch(e){}return null}v(),t.exports=r})),S=h((e=>{v();var t=e;t.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},t.read=function(e,t,r){if(r-t<1)return"";for(var n="",i=t;i<r;){var o=e[i++];if(o<=127)n+=String.fromCharCode(o);else if(o>=192&&o<224)n+=String.fromCharCode((31&o)<<6|63&e[i++]);else if(o>=224&&o<240)n+=String.fromCharCode((15&o)<<12|(63&e[i++])<<6|63&e[i++]);else if(o>=240){var a=((7&o)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;n+=String.fromCharCode(55296+(a>>10)),n+=String.fromCharCode(56320+(1023&a))}}return n},t.write=function(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}})),C=h(((e,t)=>{v(),t.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(r){if(r<1||r>i)return e(r);a+r>n&&(o=e(n),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=1+(7|a)),s}}})),N=h(((e,t)=>{v(),t.exports=n;var r=B();function n(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=n.zero=new n(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var o=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,o=(e-r)/4294967296>>>0;return t&&(o=~o>>>0,r=~r>>>0,++r>4294967295&&(r=0,++o>4294967295&&(o=0))),new n(r,o)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(r.isString(e)){if(!r.Long)return n.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new n(e.low>>>0,e.high>>>0):i},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;n.fromHash=function(e){return e===o?i:new n((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}})),B=h((e=>{v();var t=e;function n(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)(void 0===e[n[i]]||!r)&&(e[n[i]]=t[n[i]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&n(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:()=>e,set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}t.asPromise=E(),t.base64=b(),t.EventEmitter=w(),t.float=I(),t.inquire=T(),t.utf8=S(),t.pool=C(),t.LongBits=N(),t.isNode=Boolean(typeof r.g<"u"&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),t.global=t.isNode&&r.g||typeof window<"u"&&window||typeof self<"u"&&self||e,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return e&&"object"==typeof e},t.isset=t.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},t.Buffer=function(){try{var e=t.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(e){return"number"==typeof e?t.Buffer?t._Buffer_allocUnsafe(e):new t.Array(e):t.Buffer?t._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(e){return e?t.LongBits.from(e).toHash():t.LongBits.zeroHash},t.longFromHash=function(e,r){var n=t.LongBits.fromHash(e);return t.Long?t.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))},t.merge=n,t.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},t.newError=i,t.ProtocolError=i("ProtocolError"),t.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},t.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var e=t.Buffer;e?(t._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},t._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):t._Buffer_from=t._Buffer_allocUnsafe=null}})),O=h(((e,t)=>{v(),t.exports=l;var r,n=B(),i=n.LongBits,o=n.base64,a=n.utf8;function s(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new s(u,0,0),this.tail=this.head,this.states=null}var f=function(){return n.Buffer?function(){return(l.create=function(){return new r})()}:function(){return new l}};function d(e,t,r){t[r]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function A(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}l.create=f(),l.alloc=function(e){return new n.Array(e)},n.Array!==Array&&(l.alloc=n.pool(l.alloc,n.Array.prototype.subarray)),l.prototype._push=function(e,t,r){return this.tail=this.tail.next=new s(e,t,r),this.len+=t,this},h.prototype=Object.create(s.prototype),h.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(p,10,i.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=i.from(e);return this._push(p,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(p,t.length(),t)},l.prototype.bool=function(e){return this._push(d,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(A,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=i.from(e);return this._push(A,4,t.lo)._push(A,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(n.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(n.float.writeDoubleLE,8,e)};var g=n.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(n.isString(e)){var r=l.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(g,t,e)},l.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(d,1,0)},l.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new s(u,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(u,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},l._configure=function(e){r=e,l.create=f(),r._configure()}})),R=h(((e,t)=>{v(),t.exports=i;var r=O();(i.prototype=Object.create(r.prototype)).constructor=i;var n=B();function i(){r.call(this)}function o(e,t,r){e.length<40?n.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=n._Buffer_allocUnsafe,i.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){n.isString(e)&&(e=n._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=n.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},i._configure()})),D=h(((e,t)=>{v(),t.exports=s;var r,n=B(),i=n.LongBits,o=n.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function s(e){this.buf=e,this.pos=0,this.len=e.length}var u,c=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new s(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new s(e);throw Error("illegal buffer")},l=function(){return n.Buffer?function(e){return(s.create=function(e){return n.Buffer.isBuffer(e)?new r(e):c(e)})(e)}:c};function f(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw a(this,8);return new i(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}s.create=l(),s.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,s.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),s.prototype.int32=function(){return 0|this.uint32()},s.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},s.prototype.bool=function(){return 0!==this.uint32()},s.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},s.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},s.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},s.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},s.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},s.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},s.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},s.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},s._configure=function(e){r=e,s.create=l(),r._configure();var t=n.Long?"toLong":"toNumber";n.merge(s.prototype,{int64:function(){return f.call(this)[t](!1)},uint64:function(){return f.call(this)[t](!0)},sint64:function(){return f.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}})),k=h(((e,t)=>{v(),t.exports=i;var r=D();(i.prototype=Object.create(r.prototype)).constructor=i;var n=B();function i(e){r.call(this,e)}i._configure=function(){n.Buffer&&(i.prototype._slice=n.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()})),L=h(((e,t)=>{v(),t.exports=n;var r=B();function n(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function e(t,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return s.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}})),M=h((e=>{v(),e.Service=L()})),x=h(((e,t)=>{v(),t.exports={}})),U=h((e=>{v();var t=e;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=O(),t.BufferWriter=R(),t.Reader=D(),t.BufferReader=k(),t.util=B(),t.rpc=M(),t.roots=x(),t.configure=r,r()})),P=h(((e,t)=>{v(),t.exports=U()}));v();var Q={};p(Q,{decode:()=>He,decodeRequest:()=>je,decodeResponse:()=>We,decodeStdPrivResponse:()=>Ye,encode:()=>Ue,encodeRequest:()=>Pe,encodeResponse:()=>Qe,encodeStdPrivRequest:()=>Fe}),v(),v(),v();var F=(q=F||{},q.pb="PB",q.json="JSON",q),q;function G(e){return"number"==typeof e}function H(e){return e instanceof Uint8Array}function j(e,t,r){var n=t?t.byteLength:r||65536;if(4095&n||n<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return t=t||new e(new ArrayBuffer(n))}function W(e,t,r,n,i){var o=e.length-t,a=o<i?o:i;return e.set(r.subarray(n,n+a),t),a}v(),v();var Y=(()=>{function e(){var e=Error.apply(this,arguments);this.message=e.message,this.stack=e.stack}return e.prototype=Object.create(Error.prototype,{name:{value:"IllegalArgumentError"}}),e})(),z=(()=>{function e(){var e=Error.apply(this,arguments);this.message=e.message,this.stack=e.stack}return e.prototype=Object.create(Error.prototype,{name:{value:"SecurityError"}}),e})(),J=(()=>{var e,t,r,n,i,o,a=!1;function s(r,n){var i=e[(t[r]+t[n])%255];return(0===r||0===n)&&(i=0),i}function u(){function u(r){var n,i,o;for(i=o=function(r){var n=e[255-t[r]];return 0===r&&(n=0),n}(r),n=0;n<4;n++)o^=i=255&(i<<1|i>>>7);return o^=99}a||function(){e=[],t=[];var r,n,i=1;for(r=0;r<255;r++)e[r]=i,n=128&i,i<<=1,i&=255,128===n&&(i^=27),i^=e[r],t[e[r]]=r;e[255]=e[0],t[0]=0,a=!0}(),r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]];for(var c=0;c<256;c++){var l=u(c);r[c]=l,n[l]=c,i[0][c]=s(2,l)<<24|l<<16|l<<8|s(3,l),o[0][l]=s(14,c)<<24|s(9,c)<<16|s(13,c)<<8|s(11,c);for(var f=1;f<4;f++)i[f][c]=i[f-1][c]>>>8|i[f-1][c]<<24,o[f][l]=o[f-1][l]>>>8|o[f-1][l]<<24}}var c=function(e,t){u();var a=new Uint32Array(t);a.set(r,512),a.set(n,768);for(var s=0;s<4;s++)a.set(i[s],4096+1024*s>>2),a.set(o[s],8192+1024*s>>2);var c=function(e,t,r){var n=0,i=0,o=0,a=0,s=0,u=0,c=0,l=0,f=0,d=0,h=0,p=0,A=0,g=0,v=0,y=0,m=0,_=new e.Uint32Array(r),E=new e.Uint8Array(r);function b(e,t,r,s,u,c,l,f){t|=0,s|=0,u|=0,c|=0,l|=0,f|=0;var d,h,p,A=0,g=0,v=0,y=0,m=0;for(d=1024|(r|=0),h=2048|r,p=3072|r,u^=_[(0|(e|=0))>>2],c^=_[(4|e)>>2],l^=_[(8|e)>>2],f^=_[(12|e)>>2],m=16;(0|m)<=s<<4;m=m+16|0)A=_[(r|u>>22&1020)>>2]^_[(d|c>>14&1020)>>2]^_[(h|l>>6&1020)>>2]^_[(p|f<<2&1020)>>2]^_[(e|m|0)>>2],g=_[(r|c>>22&1020)>>2]^_[(d|l>>14&1020)>>2]^_[(h|f>>6&1020)>>2]^_[(p|u<<2&1020)>>2]^_[(e|m|4)>>2],v=_[(r|l>>22&1020)>>2]^_[(d|f>>14&1020)>>2]^_[(h|u>>6&1020)>>2]^_[(p|c<<2&1020)>>2]^_[(e|m|8)>>2],y=_[(r|f>>22&1020)>>2]^_[(d|u>>14&1020)>>2]^_[(h|c>>6&1020)>>2]^_[(p|l<<2&1020)>>2]^_[(e|m|12)>>2],u=A,c=g,l=v,f=y;n=_[(t|u>>22&1020)>>2]<<24^_[(t|c>>14&1020)>>2]<<16^_[(t|l>>6&1020)>>2]<<8^_[(t|f<<2&1020)>>2]^_[(e|m|0)>>2],i=_[(t|c>>22&1020)>>2]<<24^_[(t|l>>14&1020)>>2]<<16^_[(t|f>>6&1020)>>2]<<8^_[(t|u<<2&1020)>>2]^_[(e|m|4)>>2],o=_[(t|l>>22&1020)>>2]<<24^_[(t|f>>14&1020)>>2]<<16^_[(t|u>>6&1020)>>2]<<8^_[(t|c<<2&1020)>>2]^_[(e|m|8)>>2],a=_[(t|f>>22&1020)>>2]<<24^_[(t|u>>14&1020)>>2]<<16^_[(t|c>>6&1020)>>2]<<8^_[(t|l<<2&1020)>>2]^_[(e|m|12)>>2]}function w(e,t,r,f){b(0,2048,4096,m,s^(e|=0),u^(t|=0),c^(r|=0),l^(f|=0)),s=n,u=i,c=o,l=a}var I=[w,function(e,t,r,f){var d;b(1024,3072,8192,m,e|=0,f|=0,r|=0,t|=0),d=i,i=a,a=d,n^=s,i^=u,o^=c,a^=l,s=e,u=t,c=r,l=f}],T=[w];return{set_rounds:function(e){m=e|=0},set_state:function(e,t,r,s){n=e|=0,i=t|=0,o=r|=0,a=s|=0},set_iv:function(e,t,r,n){s=e|=0,u=t|=0,c=r|=0,l=n|=0},set_nonce:function(e,t,r,n){f=e|=0,d=t|=0,h=r|=0,p=n|=0},set_mask:function(e,t,r,n){A=e|=0,g=t|=0,v=r|=0,y=n|=0},set_counter:function(e,t,r,n){p=~y&p|y&(n|=0),h=~v&h|v&(r|=0),d=~g&d|g&(t|=0),f=~A&f|A&(e|=0)},get_state:function(e){return 15&(e|=0)?-1:(E[0|e]=n>>>24,E[1|e]=n>>>16&255,E[2|e]=n>>>8&255,E[3|e]=255&n,E[4|e]=i>>>24,E[5|e]=i>>>16&255,E[6|e]=i>>>8&255,E[7|e]=255&i,E[8|e]=o>>>24,E[9|e]=o>>>16&255,E[10|e]=o>>>8&255,E[11|e]=255&o,E[12|e]=a>>>24,E[13|e]=a>>>16&255,E[14|e]=a>>>8&255,E[15|e]=255&a,16)},get_iv:function(e){return 15&(e|=0)?-1:(E[0|e]=s>>>24,E[1|e]=s>>>16&255,E[2|e]=s>>>8&255,E[3|e]=255&s,E[4|e]=u>>>24,E[5|e]=u>>>16&255,E[6|e]=u>>>8&255,E[7|e]=255&u,E[8|e]=c>>>24,E[9|e]=c>>>16&255,E[10|e]=c>>>8&255,E[11|e]=255&c,E[12|e]=l>>>24,E[13|e]=l>>>16&255,E[14|e]=l>>>8&255,E[15|e]=255&l,16)},cipher:function(e,t,r){e|=0,r|=0;var s=0;if(15&(t|=0))return-1;for(;(0|r)>=16;)I[1&e](E[0|t]<<24|E[1|t]<<16|E[2|t]<<8|E[3|t],E[4|t]<<24|E[5|t]<<16|E[6|t]<<8|E[7|t],E[8|t]<<24|E[9|t]<<16|E[10|t]<<8|E[11|t],E[12|t]<<24|E[13|t]<<16|E[14|t]<<8|E[15|t]),E[0|t]=n>>>24,E[1|t]=n>>>16&255,E[2|t]=n>>>8&255,E[3|t]=255&n,E[4|t]=i>>>24,E[5|t]=i>>>16&255,E[6|t]=i>>>8&255,E[7|t]=255&i,E[8|t]=o>>>24,E[9|t]=o>>>16&255,E[10|t]=o>>>8&255,E[11|t]=255&o,E[12|t]=a>>>24,E[13|t]=a>>>16&255,E[14|t]=a>>>8&255,E[15|t]=255&a,s=s+16|0,t=t+16|0,r=r-16|0;return 0|s},mac:function(e,t,r){e|=0,r|=0;var n=0;if(15&(t|=0))return-1;for(;(0|r)>=16;)T[0&e](E[0|t]<<24|E[1|t]<<16|E[2|t]<<8|E[3|t],E[4|t]<<24|E[5|t]<<16|E[6|t]<<8|E[7|t],E[8|t]<<24|E[9|t]<<16|E[10|t]<<8|E[11|t],E[12|t]<<24|E[13|t]<<16|E[14|t]<<8|E[15|t]),n=n+16|0,t=t+16|0,r=r-16|0;return 0|n}}}({Uint8Array:Uint8Array,Uint32Array:Uint32Array},0,t);return c.set_key=function(e,t,n,i,s,u,l,f,d){var h=a.subarray(0,60),p=a.subarray(256,316);h.set([t,n,i,s,u,l,f,d]);for(var A=e,g=1;A<4*e+28;A++){var v=h[A-1];(A%e==0||8===e&&A%e==4)&&(v=r[v>>>24]<<24^r[v>>>16&255]<<16^r[v>>>8&255]<<8^r[255&v]),A%e==0&&(v=v<<8^v>>>24^g<<24,g=g<<1^(128&g?27:0)),h[A]=h[A-e]^v}for(var y=0;y<A;y+=4)for(var m=0;m<4;m++){v=h[A-(4+y)+(4-m)%4];p[y+m]=y<4||y>=A-4?v:o[0][r[v>>>24]]^o[1][r[v>>>16&255]]^o[2][r[v>>>8&255]]^o[3][r[255&v]]}c.set_rounds(e+5)},c};return c.ENC={CBC:2},c.DEC={CBC:3},c.MAC={CBC:0},c.HEAP_DATA=16384,c})(),$=new Uint8Array(1048576),X=J(null,$.buffer),K=class{constructor(e,t,r,n,i){this.nonce=null,this.counter=0,this.counterSize=0,this.heap=j(Uint8Array,n).subarray(J.HEAP_DATA),this.asm=i||J(null,this.heap.buffer),this.mode=null,this.key=null,this.AES_reset(e,t,r)}AES_set_key(e){if(void 0!==e){if(!H(e))throw new TypeError("unexpected key type");var t=e.length;if(16!==t&&24!==t&&32!==t)throw new Y("illegal key size");var r=new DataView(e.buffer,e.byteOffset,e.byteLength);this.asm.set_key(t>>2,r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12),t>16?r.getUint32(16):0,t>16?r.getUint32(20):0,t>24?r.getUint32(24):0,t>24?r.getUint32(28):0),this.key=e}else if(!this.key)throw new Error("key is required")}AES_CTR_set_options(e,t,r){if(void 0!==r){if(r<8||r>48)throw new Y("illegal counter size");this.counterSize=r;var n=Math.pow(2,r)-1;this.asm.set_mask(0,0,n/4294967296|0,0|n)}else this.counterSize=r=48,this.asm.set_mask(0,0,65535,4294967295);if(void 0===e)throw new Error("nonce is required");if(!H(e))throw new TypeError("unexpected nonce type");var i=e.length;if(!i||i>16)throw new Y("illegal nonce size");this.nonce=e;var o=new DataView(new ArrayBuffer(16));if(new Uint8Array(o.buffer).set(e),this.asm.set_nonce(o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)),void 0!==t){if(!G(t))throw new TypeError("unexpected counter type");if(t<0||t>=Math.pow(2,r))throw new Y("illegal counter value");this.counter=t,this.asm.set_counter(0,0,t/4294967296|0,0|t)}else this.counter=0}AES_set_iv(e){if(void 0!==e){if(!H(e))throw new TypeError("unexpected iv type");if(16!==e.length)throw new Y("illegal iv size");var t=new DataView(e.buffer,e.byteOffset,e.byteLength);this.iv=e,this.asm.set_iv(t.getUint32(0),t.getUint32(4),t.getUint32(8),t.getUint32(12))}else this.iv=null,this.asm.set_iv(0,0,0,0)}AES_set_padding(e){this.padding=void 0===e||!!e}AES_reset(e,t,r){return this.result=null,this.pos=0,this.len=0,this.AES_set_key(e),this.AES_set_iv(t),this.AES_set_padding(r),this}AES_Encrypt_process(e){if(!H(e))throw new TypeError("data isn't of expected type");for(var t=this.asm,r=this.heap,n=J.ENC[this.mode],i=J.HEAP_DATA,o=this.pos,a=this.len,s=0,u=e.length||0,c=0,l=0,f=new Uint8Array(a+u&-16);u>0;)a+=l=W(r,o+a,e,s,u),s+=l,u-=l,(l=t.cipher(n,i+o,a))&&f.set(r.subarray(o,o+l),c),c+=l,l<a?(o+=l,a-=l):(o=0,a=0);return this.result=f,this.pos=o,this.len=a,this}AES_Encrypt_finish(e){var t=null,r=0;void 0!==e&&(r=(t=this.AES_Encrypt_process(e).result).length);var n=this.asm,i=this.heap,o=J.ENC[this.mode],a=J.HEAP_DATA,s=this.pos,u=this.len,c=16-u%16,l=u;if(this.hasOwnProperty("padding")){if(this.padding){for(var f=0;f<c;++f)i[s+u+f]=c;l=u+=c}else if(u%16)throw new Y("data length must be a multiple of the block size")}else u+=c;var d=new Uint8Array(r+l);return r&&d.set(t),u&&n.cipher(o,a+s,u),l&&d.set(i.subarray(s,s+l),r),this.result=d,this.pos=0,this.len=0,this}AES_Decrypt_process(e){if(!H(e))throw new TypeError("data isn't of expected type");var t=this.asm,r=this.heap,n=J.DEC[this.mode],i=J.HEAP_DATA,o=this.pos,a=this.len,s=0,u=e.length||0,c=0,l=a+u&-16,f=0,d=0;this.padding&&(l-=f=a+u-l||16);for(var h=new Uint8Array(l);u>0;)a+=d=W(r,o+a,e,s,u),s+=d,u-=d,(d=t.cipher(n,i+o,a-(u?0:f)))&&h.set(r.subarray(o,o+d),c),c+=d,d<a?(o+=d,a-=d):(o=0,a=0);return this.result=h,this.pos=o,this.len=a,this}AES_Decrypt_finish(e){var t=null,r=0;void 0!==e&&(r=(t=this.AES_Decrypt_process(e).result).length);var n=this.asm,i=this.heap,o=J.DEC[this.mode],a=J.HEAP_DATA,s=this.pos,u=this.len,c=u;if(u>0){if(u%16){if(this.hasOwnProperty("padding"))throw new Y("data length must be a multiple of the block size");u+=16-u%16}if(n.cipher(o,a+s,u),this.hasOwnProperty("padding")&&this.padding){var l=i[s+c-1];if(l<1||l>16||l>c)throw new z("bad padding");for(var f=0,d=l;d>1;d--)f|=l^i[s+c-d];if(f)throw new z("bad padding");c-=l}}var h=new Uint8Array(r+c);return r>0&&h.set(t),c>0&&h.set(i.subarray(s,s+c),r),this.result=h,this.pos=0,this.len=0,this}},V=(()=>{class e extends K{constructor(e,t=null,r=!0,n,i){super(e,t,r,n,i),this.mode="CBC",this.BLOCK_SIZE=16}encrypt(e){return this.AES_Encrypt_finish(e)}decrypt(e){return this.AES_Decrypt_finish(e)}}return e.encrypt=Z,e.decrypt=ee,e})();function Z(e,t,r,n){if(void 0===e)throw new SyntaxError("data required");if(void 0===t)throw new SyntaxError("key required");return new V(t,n,r,$,X).encrypt(e).result}function ee(e,t,r,n){if(void 0===e)throw new SyntaxError("data required");if(void 0===t)throw new SyntaxError("key required");return new V(t,n,r,$,X).decrypt(e).result}function te(e){return new Promise(((t,r)=>{for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),a=0;a<64;a++)i[n.charCodeAt(a)]=a;var s=typeof s<"u"?s:{},u=Object.assign({},s);"object"==typeof process&&"object"==typeof process.versions&&process.versions.node,s.print||o.log.bind(o);var c=s.printErr||o.warn.bind(o);Object.assign(s,u),u=null,s.arguments&&s.arguments,s.thisProgram&&s.thisProgram,s.quit&&s.quit,s.wasmBinary&&s.wasmBinary,s.noExitRuntime,"object"!=typeof e&&y("[WACloudCrypto] no native wasm support detected");var l,f=!1;s.INITIAL_MEMORY;var d,h=[],p=[],A=[];var g=0,v=null;function y(t){s.onAbort&&s.onAbort(t),c(t="Aborted("+t+")"),f=!0,t+=". Build with -sASSERTIONS for more info.";var n=new e.RuntimeError(t);r(n)}var m={env:{STACKTOP:0}};function _(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?b(r)():b(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(s)}}var E=[];function b(e){var t=E[e];return t||(e>=E.length&&(E.length=e+1),E[e]=t=d.get(e)),t}var w,I={};function T(e){function t(){w||(w=!0,s.calledRun=!0,!f&&(_(p),s.onRuntimeInitialized&&s.onRuntimeInitialized(),function(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)e=s.postRun.shift(),A.unshift(e);var e;_(A)}()))}g>0||(function(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)e=s.preRun.shift(),h.unshift(e);var e;_(h)}(),g>0)||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),t()}),1)):t())}if(function(){var r={a:I};function n(e,r){var n=e.exports;s.asm=n,l=s.asm.a,s.memory=l,function(e){s.HEAP8=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=new Int32Array(e),s.HEAPU8=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=new Float64Array(e)}(l.buffer),d=s.asm.g,function(e){p.unshift(e)}(s.asm.b),function(e){if(g--,s.monitorRunDependencies&&s.monitorRunDependencies(g),0==g&&v){var t=v;v=null,t()}}(),t(s)}function o(e){n(e.instance)}function a(t){return e.instantiate(function(e){var t,r,n,o,a,s=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),f=new Uint8Array(l);for(t=0;t<u;t+=4)r=i[e.charCodeAt(t)],n=i[e.charCodeAt(t+1)],o=i[e.charCodeAt(t+2)],a=i[e.charCodeAt(t+3)],f[c++]=r<<2|n>>4,f[c++]=(15&n)<<4|o>>2,f[c++]=(3&o)<<6|63&a;return l}("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"),m).then((function(e){return e})).then(t,(function(e){c("[WACloudCrypto] failed to asynchronously prepare wasm: "+e),y(e)}))}if(g++,s.monitorRunDependencies&&s.monitorRunDependencies(g),s.instantiateWasm)try{return s.instantiateWasm(r,n)}catch(e){return c("[WACloudCrypto] Module.instantiateWasm callback failed with error: "+e),!1}a(o)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.b).apply(null,arguments)},s._aes_setkey_enc=function(){return(s._aes_setkey_enc=s.asm.c).apply(null,arguments)},s._aes_setkey_dec=function(){return(s._aes_setkey_dec=s.asm.d).apply(null,arguments)},s._aes_crypt_cbc=function(){return(s._aes_crypt_cbc=s.asm.e).apply(null,arguments)},s._aes_crypt_ctr=function(){return(s._aes_crypt_ctr=s.asm.f).apply(null,arguments)},v=function e(){w||T(),w||(v=e)},s.run=T,s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return s}))}function re(e){return parseInt(e)===e}function ne(e){if(!re(e.length))return!1;for(var t=0;t<e.length;t++)if(!re(e[t])||e[t]<0||e[t]>255)return!1;return!0}function ie(e,t){if(e.buffer&&ArrayBuffer.isView(e))return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!ne(e))throw new Error("[WACloudCrypto] Array contains invalid value: "+e);return new Uint8Array(e)}if(re(e.length)&&ne(e))return new Uint8Array(e);throw new Error("[WACloudCrypto] unsupported array-like object")}function oe(){var e=16384;return t=>(e+=t)-t}function ae(e){return new Uint8Array(e)}function se(e,t,r,n,i){(null!=n||null!=i)&&(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}function ue(e){var t=16-(e=ie(e,!0)).length%16,r=ae(e.length+t);se(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r}function ce(e){if((e=ie(e,!0)).length<16)throw new Error(`[WACloudCrypto] PKCS#7 invalid length: ${e.length}`);var t=e[e.length-1];if(t>16)throw new Error(`[WACloudCrypto] PKCS#7 padding byte out of range: ${t}`);for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error(`[WACloudCrypto] PKCS#7 invalid padding byte at ${r+n}`);var i=ae(r);return se(e,i,0,0,r),i}function le(e){return fe.apply(this,arguments)}function fe(){return(fe=i()((function*(e){var t,r=yield te(e),n=oe(),i=r,o=new Uint8Array(i.memory.buffer),a=n(276),s=n(276),u=n(16),c=n(16),l=n(0);function f(e){var t=ie(e);o.set(t,l)}function d(e,r,n="CBC"){o.set(r,c),o.set(e,u),i._aes_setkey_enc(a,u,128),i._aes_setkey_dec(s,u,128),t=n}return{init:d,encrypt:(e,r,n)=>(d(r,n,"CBC"),f(e=ue(e)),"CBC"===t?i._aes_crypt_cbc(a,1,e.length,c,l,l):i._aes_crypt_ctr(a,e.length,c,l,l),o.subarray(l,l+e.length).slice()),decrypt:(e,r,n)=>(d(r,n,"CBC"),f(e),"CBC"===t?i._aes_crypt_cbc(s,0,e.length,c,l,l):i._aes_crypt_ctr(a,e.length,c,l,l),ce(o.subarray(l,l+e.length).slice()))}}))).apply(this,arguments)}v(),v();var de,he=!1;function pe(e){if(!de&&!he)return he=!0,le(e).then((e=>{de=e})).catch((()=>{}))}function Ae(){return de}function ge(e,t){var r=Ae();return{encrypted:r?r.encrypt(t,e,e):V.encrypt(t,e,void 0,e),backend:r?"wasm":"js"}}function ve(e){return _e(e).buffer}function ye(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function me(e){return null==e}function _e(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}function Ee(e){for(var t=e.length;t--;)e[t]=Math.floor(256*Math.random());return e}function be(e){var t=e.reduce(((e,t)=>e+t.length),0);if(!e.length)return null;var r=new Uint8Array(t),n=0;for(var i of e)r.set(i,n),n+=i.length;return r}function we(e){return Ie(e)}v();var Ie=function(){var e=new Array(128),t=String.fromCodePoint||String.fromCharCode,r=[];return function(n){var i,o,a=n.length;r.length=0;for(var s=0;s<a;)(o=n[s++])<=127?i=o:o<=223?i=(31&o)<<6|63&n[s++]:o<=239?i=(15&o)<<12|(63&n[s++])<<6|63&n[s++]:String.fromCodePoint?i=(7&o)<<18|(63&n[s++])<<12|(63&n[s++])<<6|63&n[s++]:(i=63,s+=3),r.push(e[i]||(e[i]=t(i)));return r.join("")}}(),Te=g(_(),1);v();var Se=g(P(),1),Ce=Se.Reader,Ne=Se.Writer,Be=Se.util,Oe=Se.roots.default||(Se.roots.default={}),Re=Oe.HTTPRequest=(()=>{function e(e){if(this.header=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.method="",e.prototype.header=Be.emptyArray,e.prototype.body=Be.newBuffer([]),e.prototype.callId="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ne.create()),null!=e.method&&Object.hasOwnProperty.call(e,"method")&&t.uint32(10).string(e.method),null!=e.header&&e.header.length)for(var r=0;r<e.header.length;++r)Oe.HTTPHeader.encode(e.header[r],t.uint32(18).fork()).ldelim();return null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(26).bytes(e.body),null!=e.callId&&Object.hasOwnProperty.call(e,"callId")&&t.uint32(34).string(e.callId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ce||(e=Ce.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Oe.HTTPRequest;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.method=e.string();break;case 2:n.header&&n.header.length||(n.header=[]),n.header.push(Oe.HTTPHeader.decode(e,e.uint32()));break;case 3:n.body=e.bytes();break;case 4:n.callId=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.method&&e.hasOwnProperty("method")&&!Be.isString(e.method))return"method: string expected";if(null!=e.header&&e.hasOwnProperty("header")){if(!Array.isArray(e.header))return"header: array expected";for(var t=0;t<e.header.length;++t){var r=Oe.HTTPHeader.verify(e.header[t]);if(r)return"header."+r}}return null!=e.body&&e.hasOwnProperty("body")&&!(e.body&&"number"==typeof e.body.length||Be.isString(e.body))?"body: buffer expected":null!=e.callId&&e.hasOwnProperty("callId")&&!Be.isString(e.callId)?"callId: string expected":null},e.fromObject=function(e){if(e instanceof Oe.HTTPRequest)return e;var t=new Oe.HTTPRequest;if(null!=e.method&&(t.method=String(e.method)),e.header){if(!Array.isArray(e.header))throw TypeError(".HTTPRequest.header: array expected");t.header=[];for(var r=0;r<e.header.length;++r){if("object"!=typeof e.header[r])throw TypeError(".HTTPRequest.header: object expected");t.header[r]=Oe.HTTPHeader.fromObject(e.header[r])}}return null!=e.body&&("string"==typeof e.body?Be.base64.decode(e.body,t.body=Be.newBuffer(Be.base64.length(e.body)),0):e.body.length>=0&&(t.body=e.body)),null!=e.callId&&(t.callId=String(e.callId)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.header=[]),t.defaults&&(r.method="",t.bytes===String?r.body="":(r.body=[],t.bytes!==Array&&(r.body=Be.newBuffer(r.body))),r.callId=""),null!=e.method&&e.hasOwnProperty("method")&&(r.method=e.method),e.header&&e.header.length){r.header=[];for(var n=0;n<e.header.length;++n)r.header[n]=Oe.HTTPHeader.toObject(e.header[n],t)}return null!=e.body&&e.hasOwnProperty("body")&&(r.body=t.bytes===String?Be.base64.encode(e.body,0,e.body.length):t.bytes===Array?Array.prototype.slice.call(e.body):e.body),null!=e.callId&&e.hasOwnProperty("callId")&&(r.callId=e.callId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Se.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/HTTPRequest"},e})(),De=Oe.HTTPResponse=(()=>{function e(e){if(this.header=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.statusCode=0,e.prototype.header=Be.emptyArray,e.prototype.bodyBuffer=Be.newBuffer([]),e.prototype.bodyString="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Ne.create()),null!=e.statusCode&&Object.hasOwnProperty.call(e,"statusCode")&&t.uint32(8).uint32(e.statusCode),null!=e.header&&e.header.length)for(var r=0;r<e.header.length;++r)Oe.HTTPHeader.encode(e.header[r],t.uint32(18).fork()).ldelim();return null!=e.bodyBuffer&&Object.hasOwnProperty.call(e,"bodyBuffer")&&t.uint32(26).bytes(e.bodyBuffer),null!=e.bodyString&&Object.hasOwnProperty.call(e,"bodyString")&&t.uint32(34).string(e.bodyString),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ce||(e=Ce.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Oe.HTTPResponse;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.statusCode=e.uint32();break;case 2:n.header&&n.header.length||(n.header=[]),n.header.push(Oe.HTTPHeader.decode(e,e.uint32()));break;case 3:n.bodyBuffer=e.bytes();break;case 4:n.bodyString=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.statusCode&&e.hasOwnProperty("statusCode")&&!Be.isInteger(e.statusCode))return"statusCode: integer expected";if(null!=e.header&&e.hasOwnProperty("header")){if(!Array.isArray(e.header))return"header: array expected";for(var t=0;t<e.header.length;++t){var r=Oe.HTTPHeader.verify(e.header[t]);if(r)return"header."+r}}return null!=e.bodyBuffer&&e.hasOwnProperty("bodyBuffer")&&!(e.bodyBuffer&&"number"==typeof e.bodyBuffer.length||Be.isString(e.bodyBuffer))?"bodyBuffer: buffer expected":null!=e.bodyString&&e.hasOwnProperty("bodyString")&&!Be.isString(e.bodyString)?"bodyString: string expected":null},e.fromObject=function(e){if(e instanceof Oe.HTTPResponse)return e;var t=new Oe.HTTPResponse;if(null!=e.statusCode&&(t.statusCode=e.statusCode>>>0),e.header){if(!Array.isArray(e.header))throw TypeError(".HTTPResponse.header: array expected");t.header=[];for(var r=0;r<e.header.length;++r){if("object"!=typeof e.header[r])throw TypeError(".HTTPResponse.header: object expected");t.header[r]=Oe.HTTPHeader.fromObject(e.header[r])}}return null!=e.bodyBuffer&&("string"==typeof e.bodyBuffer?Be.base64.decode(e.bodyBuffer,t.bodyBuffer=Be.newBuffer(Be.base64.length(e.bodyBuffer)),0):e.bodyBuffer.length>=0&&(t.bodyBuffer=e.bodyBuffer)),null!=e.bodyString&&(t.bodyString=String(e.bodyString)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.header=[]),t.defaults&&(r.statusCode=0,t.bytes===String?r.bodyBuffer="":(r.bodyBuffer=[],t.bytes!==Array&&(r.bodyBuffer=Be.newBuffer(r.bodyBuffer))),r.bodyString=""),null!=e.statusCode&&e.hasOwnProperty("statusCode")&&(r.statusCode=e.statusCode),e.header&&e.header.length){r.header=[];for(var n=0;n<e.header.length;++n)r.header[n]=Oe.HTTPHeader.toObject(e.header[n],t)}return null!=e.bodyBuffer&&e.hasOwnProperty("bodyBuffer")&&(r.bodyBuffer=t.bytes===String?Be.base64.encode(e.bodyBuffer,0,e.bodyBuffer.length):t.bytes===Array?Array.prototype.slice.call(e.bodyBuffer):e.bodyBuffer),null!=e.bodyString&&e.hasOwnProperty("bodyString")&&(r.bodyString=e.bodyString),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Se.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/HTTPResponse"},e})(),ke=Oe.HTTPHeader=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.key="",e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ne.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ce||(e=Ce.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Oe.HTTPHeader;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.key=e.string();break;case 2:n.value=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.key&&e.hasOwnProperty("key")&&!Be.isString(e.key)?"key: string expected":null!=e.value&&e.hasOwnProperty("value")&&!Be.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof Oe.HTTPHeader)return e;var t=new Oe.HTTPHeader;return null!=e.key&&(t.key=String(e.key)),null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.key="",r.value=""),null!=e.key&&e.hasOwnProperty("key")&&(r.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(r.value=e.value),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Se.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/HTTPHeader"},e})(),Le=Oe.QBaseApiData=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.qbaseApiName="",e.prototype.qbaseMeta=null,e.prototype.qbaseOptions=null,e.prototype.qbaseReq="",e.prototype.cliReqId="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ne.create()),null!=e.qbaseApiName&&Object.hasOwnProperty.call(e,"qbaseApiName")&&t.uint32(10).string(e.qbaseApiName),null!=e.qbaseMeta&&Object.hasOwnProperty.call(e,"qbaseMeta")&&Oe.QBaseApiData.QBaseMeta.encode(e.qbaseMeta,t.uint32(18).fork()).ldelim(),null!=e.qbaseOptions&&Object.hasOwnProperty.call(e,"qbaseOptions")&&Oe.QBaseApiData.QBaseOptions.encode(e.qbaseOptions,t.uint32(26).fork()).ldelim(),null!=e.qbaseReq&&Object.hasOwnProperty.call(e,"qbaseReq")&&t.uint32(34).string(e.qbaseReq),null!=e.cliReqId&&Object.hasOwnProperty.call(e,"cliReqId")&&t.uint32(42).string(e.cliReqId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ce||(e=Ce.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Oe.QBaseApiData;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.qbaseApiName=e.string();break;case 2:n.qbaseMeta=Oe.QBaseApiData.QBaseMeta.decode(e,e.uint32());break;case 3:n.qbaseOptions=Oe.QBaseApiData.QBaseOptions.decode(e,e.uint32());break;case 4:n.qbaseReq=e.string();break;case 5:n.cliReqId=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.qbaseApiName&&e.hasOwnProperty("qbaseApiName")&&!Be.isString(e.qbaseApiName))return"qbaseApiName: string expected";if(null!=e.qbaseMeta&&e.hasOwnProperty("qbaseMeta")){var t=Oe.QBaseApiData.QBaseMeta.verify(e.qbaseMeta);if(t)return"qbaseMeta."+t}if(null!=e.qbaseOptions&&e.hasOwnProperty("qbaseOptions")){var r=Oe.QBaseApiData.QBaseOptions.verify(e.qbaseOptions);if(r)return"qbaseOptions."+r}return null!=e.qbaseReq&&e.hasOwnProperty("qbaseReq")&&!Be.isString(e.qbaseReq)?"qbaseReq: string expected":null!=e.cliReqId&&e.hasOwnProperty("cliReqId")&&!Be.isString(e.cliReqId)?"cliReqId: string expected":null},e.fromObject=function(e){if(e instanceof Oe.QBaseApiData)return e;var t=new Oe.QBaseApiData;if(null!=e.qbaseApiName&&(t.qbaseApiName=String(e.qbaseApiName)),null!=e.qbaseMeta){if("object"!=typeof e.qbaseMeta)throw TypeError(".QBaseApiData.qbaseMeta: object expected");t.qbaseMeta=Oe.QBaseApiData.QBaseMeta.fromObject(e.qbaseMeta)}if(null!=e.qbaseOptions){if("object"!=typeof e.qbaseOptions)throw TypeError(".QBaseApiData.qbaseOptions: object expected");t.qbaseOptions=Oe.QBaseApiData.QBaseOptions.fromObject(e.qbaseOptions)}return null!=e.qbaseReq&&(t.qbaseReq=String(e.qbaseReq)),null!=e.cliReqId&&(t.cliReqId=String(e.cliReqId)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.qbaseApiName="",r.qbaseMeta=null,r.qbaseOptions=null,r.qbaseReq="",r.cliReqId=""),null!=e.qbaseApiName&&e.hasOwnProperty("qbaseApiName")&&(r.qbaseApiName=e.qbaseApiName),null!=e.qbaseMeta&&e.hasOwnProperty("qbaseMeta")&&(r.qbaseMeta=Oe.QBaseApiData.QBaseMeta.toObject(e.qbaseMeta,t)),null!=e.qbaseOptions&&e.hasOwnProperty("qbaseOptions")&&(r.qbaseOptions=Oe.QBaseApiData.QBaseOptions.toObject(e.qbaseOptions,t)),null!=e.qbaseReq&&e.hasOwnProperty("qbaseReq")&&(r.qbaseReq=e.qbaseReq),null!=e.cliReqId&&e.hasOwnProperty("cliReqId")&&(r.cliReqId=e.cliReqId),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Se.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/QBaseApiData"},e.QBaseMeta=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.firstLaunch=!1,e.prototype.sessionId="",e.prototype.sdkVersion="",e.prototype.filterUserInfo=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ne.create()),null!=e.firstLaunch&&Object.hasOwnProperty.call(e,"firstLaunch")&&t.uint32(8).bool(e.firstLaunch),null!=e.sessionId&&Object.hasOwnProperty.call(e,"sessionId")&&t.uint32(18).string(e.sessionId),null!=e.sdkVersion&&Object.hasOwnProperty.call(e,"sdkVersion")&&t.uint32(26).string(e.sdkVersion),null!=e.filterUserInfo&&Object.hasOwnProperty.call(e,"filterUserInfo")&&t.uint32(32).bool(e.filterUserInfo),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ce||(e=Ce.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Oe.QBaseApiData.QBaseMeta;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.firstLaunch=e.bool();break;case 2:n.sessionId=e.string();break;case 3:n.sdkVersion=e.string();break;case 4:n.filterUserInfo=e.bool();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.firstLaunch&&e.hasOwnProperty("firstLaunch")&&"boolean"!=typeof e.firstLaunch?"firstLaunch: boolean expected":null!=e.sessionId&&e.hasOwnProperty("sessionId")&&!Be.isString(e.sessionId)?"sessionId: string expected":null!=e.sdkVersion&&e.hasOwnProperty("sdkVersion")&&!Be.isString(e.sdkVersion)?"sdkVersion: string expected":null!=e.filterUserInfo&&e.hasOwnProperty("filterUserInfo")&&"boolean"!=typeof e.filterUserInfo?"filterUserInfo: boolean expected":null},e.fromObject=function(e){if(e instanceof Oe.QBaseApiData.QBaseMeta)return e;var t=new Oe.QBaseApiData.QBaseMeta;return null!=e.firstLaunch&&(t.firstLaunch=Boolean(e.firstLaunch)),null!=e.sessionId&&(t.sessionId=String(e.sessionId)),null!=e.sdkVersion&&(t.sdkVersion=String(e.sdkVersion)),null!=e.filterUserInfo&&(t.filterUserInfo=Boolean(e.filterUserInfo)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.firstLaunch=!1,r.sessionId="",r.sdkVersion="",r.filterUserInfo=!1),null!=e.firstLaunch&&e.hasOwnProperty("firstLaunch")&&(r.firstLaunch=e.firstLaunch),null!=e.sessionId&&e.hasOwnProperty("sessionId")&&(r.sessionId=e.sessionId),null!=e.sdkVersion&&e.hasOwnProperty("sdkVersion")&&(r.sdkVersion=e.sdkVersion),null!=e.filterUserInfo&&e.hasOwnProperty("filterUserInfo")&&(r.filterUserInfo=e.filterUserInfo),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Se.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/QBaseApiData.QBaseMeta"},e}(),e.QBaseOptions=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.env="",e.prototype.appid="",e.prototype.region="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ne.create()),null!=e.env&&Object.hasOwnProperty.call(e,"env")&&t.uint32(10).string(e.env),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(18).string(e.appid),null!=e.region&&Object.hasOwnProperty.call(e,"region")&&t.uint32(26).string(e.region),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ce||(e=Ce.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Oe.QBaseApiData.QBaseOptions;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.env=e.string();break;case 2:n.appid=e.string();break;case 3:n.region=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.env&&e.hasOwnProperty("env")&&!Be.isString(e.env)?"env: string expected":null!=e.appid&&e.hasOwnProperty("appid")&&!Be.isString(e.appid)?"appid: string expected":null!=e.region&&e.hasOwnProperty("region")&&!Be.isString(e.region)?"region: string expected":null},e.fromObject=function(e){if(e instanceof Oe.QBaseApiData.QBaseOptions)return e;var t=new Oe.QBaseApiData.QBaseOptions;return null!=e.env&&(t.env=String(e.env)),null!=e.appid&&(t.appid=String(e.appid)),null!=e.region&&(t.region=String(e.region)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.env="",r.appid="",r.region=""),null!=e.env&&e.hasOwnProperty("env")&&(r.env=e.env),null!=e.appid&&e.hasOwnProperty("appid")&&(r.appid=e.appid),null!=e.region&&e.hasOwnProperty("region")&&(r.region=e.region),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Se.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/QBaseApiData.QBaseOptions"},e}(),e})(),Me=Oe.V3Header=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.encryptionTimestamp=Be.Long?Be.Long.fromBits(0,0,!0):0,e.prototype.compression="",e.prototype.userTimeout=Be.Long?Be.Long.fromBits(0,0,!0):0,e.prototype.libBuildTs=Be.Long?Be.Long.fromBits(0,0,!0):0,e.prototype.appProtocol="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Ne.create()),null!=e.encryptionTimestamp&&Object.hasOwnProperty.call(e,"encryptionTimestamp")&&t.uint32(8).uint64(e.encryptionTimestamp),null!=e.compression&&Object.hasOwnProperty.call(e,"compression")&&t.uint32(18).string(e.compression),null!=e.userTimeout&&Object.hasOwnProperty.call(e,"userTimeout")&&t.uint32(24).uint64(e.userTimeout),null!=e.libBuildTs&&Object.hasOwnProperty.call(e,"libBuildTs")&&t.uint32(32).uint64(e.libBuildTs),null!=e.appProtocol&&Object.hasOwnProperty.call(e,"appProtocol")&&t.uint32(42).string(e.appProtocol),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Ce||(e=Ce.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Oe.V3Header;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.encryptionTimestamp=e.uint64();break;case 2:n.compression=e.string();break;case 3:n.userTimeout=e.uint64();break;case 4:n.libBuildTs=e.uint64();break;case 5:n.appProtocol=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Ce||(e=new Ce(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null==e.encryptionTimestamp||!e.hasOwnProperty("encryptionTimestamp")||Be.isInteger(e.encryptionTimestamp)||e.encryptionTimestamp&&Be.isInteger(e.encryptionTimestamp.low)&&Be.isInteger(e.encryptionTimestamp.high)?null!=e.compression&&e.hasOwnProperty("compression")&&!Be.isString(e.compression)?"compression: string expected":null==e.userTimeout||!e.hasOwnProperty("userTimeout")||Be.isInteger(e.userTimeout)||e.userTimeout&&Be.isInteger(e.userTimeout.low)&&Be.isInteger(e.userTimeout.high)?null==e.libBuildTs||!e.hasOwnProperty("libBuildTs")||Be.isInteger(e.libBuildTs)||e.libBuildTs&&Be.isInteger(e.libBuildTs.low)&&Be.isInteger(e.libBuildTs.high)?null!=e.appProtocol&&e.hasOwnProperty("appProtocol")&&!Be.isString(e.appProtocol)?"appProtocol: string expected":null:"libBuildTs: integer|Long expected":"userTimeout: integer|Long expected":"encryptionTimestamp: integer|Long expected"},e.fromObject=function(e){if(e instanceof Oe.V3Header)return e;var t=new Oe.V3Header;return null!=e.encryptionTimestamp&&(Be.Long?(t.encryptionTimestamp=Be.Long.fromValue(e.encryptionTimestamp)).unsigned=!0:"string"==typeof e.encryptionTimestamp?t.encryptionTimestamp=parseInt(e.encryptionTimestamp,10):"number"==typeof e.encryptionTimestamp?t.encryptionTimestamp=e.encryptionTimestamp:"object"==typeof e.encryptionTimestamp&&(t.encryptionTimestamp=new Be.LongBits(e.encryptionTimestamp.low>>>0,e.encryptionTimestamp.high>>>0).toNumber(!0))),null!=e.compression&&(t.compression=String(e.compression)),null!=e.userTimeout&&(Be.Long?(t.userTimeout=Be.Long.fromValue(e.userTimeout)).unsigned=!0:"string"==typeof e.userTimeout?t.userTimeout=parseInt(e.userTimeout,10):"number"==typeof e.userTimeout?t.userTimeout=e.userTimeout:"object"==typeof e.userTimeout&&(t.userTimeout=new Be.LongBits(e.userTimeout.low>>>0,e.userTimeout.high>>>0).toNumber(!0))),null!=e.libBuildTs&&(Be.Long?(t.libBuildTs=Be.Long.fromValue(e.libBuildTs)).unsigned=!0:"string"==typeof e.libBuildTs?t.libBuildTs=parseInt(e.libBuildTs,10):"number"==typeof e.libBuildTs?t.libBuildTs=e.libBuildTs:"object"==typeof e.libBuildTs&&(t.libBuildTs=new Be.LongBits(e.libBuildTs.low>>>0,e.libBuildTs.high>>>0).toNumber(!0))),null!=e.appProtocol&&(t.appProtocol=String(e.appProtocol)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(Be.Long){var n=new Be.Long(0,0,!0);r.encryptionTimestamp=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.encryptionTimestamp=t.longs===String?"0":0;if(r.compression="",Be.Long){var i=new Be.Long(0,0,!0);r.userTimeout=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else r.userTimeout=t.longs===String?"0":0;if(Be.Long){var o=new Be.Long(0,0,!0);r.libBuildTs=t.longs===String?o.toString():t.longs===Number?o.toNumber():o}else r.libBuildTs=t.longs===String?"0":0;r.appProtocol=""}return null!=e.encryptionTimestamp&&e.hasOwnProperty("encryptionTimestamp")&&("number"==typeof e.encryptionTimestamp?r.encryptionTimestamp=t.longs===String?String(e.encryptionTimestamp):e.encryptionTimestamp:r.encryptionTimestamp=t.longs===String?Be.Long.prototype.toString.call(e.encryptionTimestamp):t.longs===Number?new Be.LongBits(e.encryptionTimestamp.low>>>0,e.encryptionTimestamp.high>>>0).toNumber(!0):e.encryptionTimestamp),null!=e.compression&&e.hasOwnProperty("compression")&&(r.compression=e.compression),null!=e.userTimeout&&e.hasOwnProperty("userTimeout")&&("number"==typeof e.userTimeout?r.userTimeout=t.longs===String?String(e.userTimeout):e.userTimeout:r.userTimeout=t.longs===String?Be.Long.prototype.toString.call(e.userTimeout):t.longs===Number?new Be.LongBits(e.userTimeout.low>>>0,e.userTimeout.high>>>0).toNumber(!0):e.userTimeout),null!=e.libBuildTs&&e.hasOwnProperty("libBuildTs")&&("number"==typeof e.libBuildTs?r.libBuildTs=t.longs===String?String(e.libBuildTs):e.libBuildTs:r.libBuildTs=t.longs===String?Be.Long.prototype.toString.call(e.libBuildTs):t.longs===Number?new Be.LongBits(e.libBuildTs.low>>>0,e.libBuildTs.high>>>0).toNumber(!0):e.libBuildTs),null!=e.appProtocol&&e.hasOwnProperty("appProtocol")&&(r.appProtocol=e.appProtocol),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,Se.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/V3Header"},e})();function xe(e,t,r){var n=Date.now();return(...i)=>{var o=t(...i),a=Date.now();return e[r]=a-n,o}}function Ue(e,t,r){var n=xe(r,Te.default.compress,"compress")(t),i=xe(r,ge,"encrypt")(e,n),o=i.encrypted;return r.backend=i.backend,{data:o}}function Pe(e,t,r,n,i,o){var a,s=Object.entries(t).filter((([e,t])=>!me(e)&&!me(t))).map((([e,t])=>({key:e.toString().toLowerCase(),value:t.toString()}))),u=ye(n),c=!1;return"object"===u?a=JSON.stringify(n):"arraybuffer"!==u?a="undefined"===u?void 0:"array"===u?JSON.stringify(n):n+"":(a=n,c=!0),{...Ue(e,c?xe(o,Re.encode,"encodePb")({body:new Uint8Array(n),callId:i,header:s,method:r}).finish():new Uint8Array(xe(o,ve,"stringToBuffer")(JSON.stringify({method:r,header:s,body:a,call_id:i}))),o),contentEncoding:c?"PB":"JSON"}}function Qe(e,t,r,n,i){var o=n instanceof ArrayBuffer,a=Object.entries(t).filter((([e,t])=>e&&t)).map((([e,t])=>({key:e.toLowerCase(),value:t})));return{...Ue(e,o?De.encode({bodyBuffer:new Uint8Array(n),statusCode:r,header:a}).finish():De.encode({bodyString:JSON.stringify(n),statusCode:r,header:a}).finish(),i),contentEncoding:o?"PB":"JSON"}}function Fe(e,t,r){return{...Ue(e,Le.encode(t).finish(),r)}}function qe(e,t){var r=Ae();return r?r.decrypt(t,e,e):V.decrypt(t,e,void 0,e)}v(),v(),v();var Ge=g(_(),1);function He(e,t,r,n={}){var i=xe(n,qe,"decrypt")(e,t);return{data:r?xe(n,Ge.default.uncompress,"uncompress")(i):i}}function je(e,t,r,n,i={}){var o,{data:a}=He(e,t,r,i);if("PB"===n)o=Re.decode(a);else{var s=we(a);o=JSON.parse(s)}return o}function We(e,t,r,n,i={}){var o,{data:a}=He(e,t,r,i);if("PB"===n)o=De.decode(a);else{var s=we(a);o=JSON.parse(s)}return{statusCode:o.statusCode,body:o.bodyString||o.bodyBuffer,header:o.header.reduce(((e,t)=>(t.key&&t.value&&(e[t.key]=e[t.key]?e[t.key]+","+t.value:t.value),e)),{})}}function Ye(e,t,r,n={}){var{data:i}=He(e,t,r,n),o=we(i);return{data:JSON.parse(o)}}var ze={};function Je(e,t){var r=Ae(),n=new Uint8Array(16);return Ee(n),{iv:n,encrypted:r?r.encrypt(t,e,n):V.encrypt(t,e,void 0,n),backend:r?"wasm":"js"}}p(ze,{V3WebSocket:()=>ut,decode:()=>ot,decodeRequest:()=>at,decodeResponse:()=>st,encode:()=>Ze,encodeRequest:()=>et,encodeResponse:()=>tt}),v(),v(),v(),v();var $e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Xe=(e=21)=>{for(var t="",r=e;r--;)t+=$e[64*Math.random()|0];return t},Ke=g(_(),1);function Ve(e,t,r){return t=+t,e[r>>>=0]=t>>>8,e[r+1]=255&t,r+2}function Ze(e,t,r="JSON",n={}){var i={appProtocol:`1/${r}`,compression:"snappy",encryptionTimestamp:Date.now(),libBuildTs:1730775261906},o=Je(e,Me.encode(i).finish()),a=o.iv.length+o.encrypted.length,s=new Uint8Array(2);Ve(s,a,0);var u=xe(n,Ke.default.compress,"compress")(t),c=xe(n,Je,"encrypt")(e,u);return n.backend=c.backend,{data:be([s,o.iv,o.encrypted,c.iv,c.encrypted]),__v3__header:i}}function et(e,t,r,n,i={}){var o,a=ye(n),s=Object.entries(t).filter((([e,t])=>!me(e)&&!me(t))).map((([e,t])=>({key:e.toString().toLowerCase(),value:t.toString()}))),u=`${Date.now()}-${Xe(8)}`,c=!1;return"object"===a?o=JSON.stringify(n):"arraybuffer"!==a?o="undefined"===a?void 0:"array"===a?JSON.stringify(n):n+"":(o=n,c=!0),{...Ze(e,c?xe(i,Re.encode,"encodePb")({body:new Uint8Array(o),callId:u,header:s,method:r}).finish():new Uint8Array(xe(i,ve,"stringToBuffer")(JSON.stringify({body:o,call_id:u,header:s,method:r}))),c?"PB":"JSON",i),callId:u,stats:i}}function tt(e,t,r,n){var i,o=ye(n),a=Object.entries(t).filter((([e,t])=>e&&t)).map((([e,t])=>({key:e.toString().toLowerCase(),value:t.toString()}))),s=!1;return"object"===o?i=JSON.stringify(n):"arraybuffer"!==o?i=n+"":(i=n,s=!0),"object"===o?i=JSON.stringify(n):"arraybuffer"!==o?i=n+"":(i=n,s=!0),Ze(e,s?De.encode({bodyBuffer:new Uint8Array(i),statusCode:r,header:a}).finish():De.encode({bodyString:JSON.stringify(n),statusCode:r,header:a}).finish(),"PB")}function rt(e,t){var r=Ae(),n=t.subarray(0,16),i=t.subarray(16);return r?r.decrypt(i,e,n):V.decrypt(i,e,void 0,n)}v(),v();var nt=g(_(),1);function it(e,t){return e[t>>>=0]<<8|e[t+1]}function ot(e,t,r={}){var n=it(t,0),i=rt(e,t.slice(2,n+2)),o=Me.decode(i),a="snappy"===o.compression,s=xe(r,rt,"decrypt")(e,t.slice(n+2));return{data:a?xe(r,nt.default.uncompress,"uncompress")(s):s,__v3__header:o}}function at(e,t,r={}){var n,{data:i,__v3__header:o}=ot(e,t,r),a=!1,s=o.appProtocol.split("/")[1];return s&&(a="PB"===s),n=a?Re.decode(i):xe(r,(e=>JSON.parse(we(e))),"decodeJson")(i),{...n,__v3__header:o,stats:r}}function st(e,t,r={}){var n,{data:i,__v3__header:o}=ot(e,t,r),a=!1,s=o.appProtocol.split("/")[1];return s&&(a="PB"===s),{statusCode:(n=a?xe(r,De.decode,"decodePb")(i):xe(r,(e=>JSON.parse(we(e))),"decodeJson")(i)).statusCode,body:n.bodyString||n.bodyBuffer,header:n.header.reduce(((e,t)=>(t.key&&t.value&&(e[t.key]=e[t.key]?e[t.key]+","+t.value:t.value),e)),{}),__v3__header:o}}var ut={};p(ut,{decodePacketV1:()=>_t,decodePacketV2:()=>It,encodePacketV1:()=>yt,encodePacketV2:()=>bt}),v();var ct=g(_(),1);v();var lt=String.fromCharCode,ft=Array.from({length:65535},((e,t)=>lt(t))),dt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,9,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,11,7,7,7,8,9,9,9,9,9,9,9,9,9,9,9]),ht=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,24,36,48,60,72,0,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,36,36,36,0,0,0,0,0,0,0,0,0,36,0,0,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,0,36,36,0,0,0,0,0,0,0,0]),pt=ft[65533];function At(e){for(var t=e.length,r="",n=0,i=12,o=0,a=0,s=0,u=0;n<t;){if(u=i,o=o<<6|(s=e[n])&127>>((a=dt[s])>>1),12===(i=ht[i+a]))r+=o<=65535?ft[o]:lt(55296+(o-65536>>>10&1023),56320+(1023&o)),o=0;else if(i<12&&(i=12,r+=pt,o=0,12!==u))continue;n++}return r}var gt=2,vt=1;function yt(e,t,r){return mt.apply(this,arguments)}function mt(){return mt=i()((function*(e,t,r,n={}){var i,o=new Uint8Array([1,0]);"string"==typeof t?(o[1]|=vt,i=new Uint8Array(ve(t))):i=new Uint8Array(t),r&&(o[1]|=gt,i=xe(n,ct.default.compress,"compress")(i));var a=new Uint8Array(16);Ee(a);var s=Ae();return be([o,a,s?s.encrypt(new Uint8Array(i),e,a):V.encrypt(new Uint8Array(i),e,void 0,a)])})),mt.apply(this,arguments)}function _t(e,t){return Et.apply(this,arguments)}function Et(){return Et=i()((function*(e,t,r={}){if(1!==t[0])throw new Error("invalid packet version");var n=t[1],i=(n&vt)===vt,o=(n&gt)===gt,a=t.subarray(2,18),s=t.subarray(18),u=Ae(),c=u?u.decrypt(new Uint8Array(s),e,a):V.decrypt(new Uint8Array(s),e,void 0,a),l=o?xe(r,ct.default.uncompress,"uncompress")(c):c;return i?At(l):l.buffer})),Et.apply(this,arguments)}function bt(e,t,r,n){return wt.apply(this,arguments)}function wt(){return wt=i()((function*(e,t,r,n,i={}){var o=new Uint8Array([2]),a=new Uint8Array(16);Ee(a);var s=new Uint8Array(8);new DataView(s.buffer).setBigUint64(0,BigInt(e));var u,c=new Uint8Array(1);"string"==typeof r?(c[0]|=vt,u=new Uint8Array(ve(r))):u=new Uint8Array(r),n&&(c[0]|=gt,u=xe(i,ct.default.compress,"compress")(u));var l=new Uint8Array(8);new DataView(l.buffer).setBigUint64(0,BigInt(Math.floor((new Date).getTime()/1e3)));var f=be([s,c,l,u]),d=Ae();return be([o,a,d?d.encrypt(new Uint8Array(f),t,a):V.encrypt(new Uint8Array(f),t,void 0,a)])})),wt.apply(this,arguments)}function It(e,t){return Tt.apply(this,arguments)}function Tt(){return Tt=i()((function*(e,t,r={}){if(2!==t[0])throw new Error("invalid packet version");var n=t.subarray(1,17),i=t.subarray(17),o=Ae(),a=o?o.decrypt(i,e,n):V.decrypt(i,e,void 0,n),s=new DataView(a.buffer).getBigUint64(0),u=a[8],c=new DataView(a.buffer).getBigUint64(9),l=a.subarray(17),f=(u&vt)===vt,d=(u&gt)===gt?xe(r,ct.default.uncompress,"uncompress")(l):l,h=f?At(d):new Uint8Array(d).buffer;return{seq:Number(s),timestamp:Number(c),data:h}})),Tt.apply(this,arguments)}function St(e,t,r){if(r-t<1)return"";for(var n="",i=t;i<r;){var o=e[i++];if(o<=127)n+=String.fromCharCode(o);else if(o>=192&&o<224)n+=String.fromCharCode((31&o)<<6|63&e[i++]);else if(o>=224&&o<240)n+=String.fromCharCode((15&o)<<12|(63&e[i++])<<6|63&e[i++]);else if(o>=240){var a=((7&o)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536;n+=String.fromCharCode(55296+(a>>10)),n+=String.fromCharCode(56320+(1023&a))}}return n}function Ct(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}function Nt(e,t){return e>>>=0,St(kt(),e,e+t)}v(),v();var Bt,Ot=new Array(128).fill(void 0);function Rt(e){return Ot[e]}Ot.push(void 0,null,!0,!1);var Dt=0;function kt(){return new Uint8Array(Bt.memory.buffer)}function Lt(e){return null==e}function Mt(){return new DataView(Bt.memory.buffer)}var xt=Ot.length;function Ut(e){xt===Ot.length&&Ot.push(Ot.length+1);var t=xt;return xt=Ot[t],Ot[t]=e,t}var Pt=128,Qt,Ft,qt,Gt;function Ht(e){var t,r;try{var n=Bt.A(-16);Bt.generate_rid(n,function(e){if(1==Pt)throw new Error("out of js stack");return Ot[--Pt]=e,Pt}(e));var i=Mt().getInt32(n+0,!0),o=Mt().getInt32(n+4,!0);return t=i,r=o,Nt(i,o)}finally{Bt.A(16),Ot[Pt++]=void 0,Bt.i(t,r,1)}}function jt(e,t){try{return e.apply(this,t)}catch(e){Bt.t(Ut(e))}}for(Ft="function"==typeof Math.random?Math.random:()=>{throw new Error("Math.random is not defined")},qt=new Uint8Array(123),Gt=25;Gt>=0;--Gt)qt[48+Gt]=52+Gt,qt[65+Gt]=Gt,qt[97+Gt]=26+Gt;function Wt(e,t,r){for(var n,i,o=0,a=t,s=r.length,u=t+(3*s>>2)-("="==r[s-2])-("="==r[s-1]);o<s;o+=4)n=qt[r.charCodeAt(o+1)],i=qt[r.charCodeAt(o+2)],e[a++]=qt[r.charCodeAt(o)]<<2|n>>4,a<u&&(e[a++]=n<<4|i>>2),a<u&&(e[a++]=i<<6|qt[r.charCodeAt(o+3)])}function Yt(){throw new Error("abort")}qt[43]=62,qt[47]=63,Bt=function(){var e=new ArrayBuffer(65536),t=new Int8Array(e),r=new Int16Array(e),n=new Int32Array(e),i=new Uint8Array(e),o=new Uint16Array(e),a=new Uint32Array(e),s=(new Float32Array(e),new Float64Array(e)),u=Math.imul,c=Math.fround,l=Math.clz32,f=4096,d=0;function h(e,r){var i=0,o=0,a=0,s=0,c=0,l=0,f=0;e:{if(!((f=(o=e+3&-4)-e|0)>>>0>r>>>0||(a=r-f|0)>>>0<4)){if(l=3&a,r=0,!(i=(0|e)==(0|o))){if((s=e-o|0)>>>0>4294967292)o=0;else for(o=0;r=(((r+(t[0|(r=e+o|0)]>-65)|0)+(t[r+1|0]>-65)|0)+(t[r+2|0]>-65)|0)+(t[r+3|0]>-65)|0,o=o+4|0;);if(!i)for(i=e+o|0;r=(t[0|i]>-65)+r|0,i=i+1|0,s=s+1|0;);}for(o=e+f|0,l&&(c=t[0|(e=(-4&a)+o|0)]>-65,1!=(0|l)&&(c=(t[e+1|0]>-65)+c|0,2!=(0|l)&&(c=(t[e+2|0]>-65)+c|0))),a=a>>>2|0,s=r+c|0;;){if(e=o,!a)break e;if(l=3&(c=a>>>0>=192?192:a),o=c<<2,i=0,a>>>0>=4)for(f=e+(1008&o)|0,r=e;i=(((i+(16843009&(~(i=n[r>>2])>>>7|i>>>6))|0)+(16843009&(~(i=n[r+4>>2])>>>7|i>>>6))|0)+(16843009&(~(i=n[r+8>>2])>>>7|i>>>6))|0)+(16843009&(~(i=n[r+12>>2])>>>7|i>>>6))|0,(0|f)!=(0|(r=r+16|0)););if(a=a-c|0,o=e+o|0,s=(u((i>>>8&16711935)+(16711935&i)|0,65537)>>>16|0)+s|0,l)break}return i=e=16843009&(~(e=n[(r=e+((252&c)<<2)|0)>>2])>>>7|e>>>6),1!=(0|l)&&(i=e=i+(16843009&(~(e=n[r+4>>2])>>>7|e>>>6))|0,2!=(0|l)&&(i=e+(16843009&(~(r=n[r+8>>2])>>>7|r>>>6))|0)),(u(((e=i)>>>8&459007)+(16711935&e)|0,65537)>>>16|0)+s|0}if(!r)return 0;if(o=3&r,r>>>0>=4)for(a=-4&r;s=((((t[0|(r=e+i|0)]>-65)+s|0)+(t[r+1|0]>-65)|0)+(t[r+2|0]>-65)|0)+(t[r+3|0]>-65)|0,(0|a)!=(0|(i=i+4|0)););if(o)for(r=e+i|0;s=(t[0|r]>-65)+s|0,r=r+1|0,o=o-1|0;);}return s}function p(e,r){var o,a,u,c,l,d=0,h=0,p=0,A=0,g=0,v=0,y=0,m=0,_=0,E=0,b=0,w=0,I=0,T=0,S=0,C=0,N=0,B=0,O=0,R=0;for(f=o=g=f-48|0,a=n[2727]?-1085614122:191850462,d=-1497791277;;){e:{if(-1689200517!=(0|d)){t:{r:{n:{i:{o:{a:{s:{u:{c:{l:{if(h=d,-1497791277!=(0|d)){if(d=a,-1204429528==(0|h))continue;if(-1085614122==(0|h))break s;if(-916465137==(0|h))break a;if(-550633502==(0|h))break o;if(-402486152==(0|h))break e;if(191850462==(0|h))break l;if(470871681==(0|h))break n;if(1270092541==(0|h))break c;if(1357326151==(0|h))break r;if(1719901530==(0|h))break i;if(1795274876==(0|h))break u;if(1825837950==(0|h))break t;if(-289862181!=(0|(d=h)))continue;return ue(m),ue(_),f=o+48|0,I}d=-1204429528;continue}t[9440]=93^i[9424],t[9441]=37^i[9425],S=i[9426],d=1270092541;continue}t[9442]=47^S,t[9443]=32^i[9427],t[9444]=125^i[9428],t[9446]=153^i[9430],t[9447]=10^i[9431],d=i[9429],t[9445]=118+(d-(d<<1&236)|0),C=-51^i[9432],d=1795274876;continue}t[9448]=C,t[9449]=121^i[9433],t[9450]=95^i[9434],t[9451]=186^i[9435],d=-1085614122;continue}n[2727]=1,f=d=A=g-16|0,g=p=d-32|0,f=p,d=-916465137;continue}f=d=v=g-16|0,f=d=E=d-16|0,f=d=m=d-16|0,f=d=b=d-16|0,f=d=w=d-16|0,f=d=_=d-16|0,g=y=d-16|0,f=y,n[y+4>>2]=r,n[y>>2]=e,d=-550633502;continue}d=Se(4124,11),n[b>>2]=129,n[w>>2]=d,K(o+8|0,w,b),O=_,R=ne(n[o+8>>2],n[o+12>>2]),n[O>>2]=R,ue(b),ue(w),T=Y(_,e,r),n[E+4>>2]=12,n[E>>2]=9440,n[m>>2]=T,d=Ae(m)?-289862181:1719901530,I=0;continue}u=o+32|0,c=void 0,l=void 0,c=Rt(0|T),l="number"==typeof c?c:void 0,Mt().setFloat64(u+8,Lt(l)?0:l,!0),Mt().setInt32(u+0,!Lt(l),!0),h=n[o+32>>2],s[8+(d=o+16|0)>>3]=s[o+40>>3],n[d>>2]=!!(0|h),n[d+4>>2]=0,d=470871681,N=s[o+24>>3];continue}B=1==N,d=1357326151;continue}d=B?1825837950:-289862181,I=0;continue}n[A+8>>2]=y,n[A+4>>2]=1,n[A>>2]=E,n[p+16>>2]=0,n[p+4>>2]=3,n[p>>2]=4136,n[A+12>>2]=1,d=-1689200517;continue}n[p+12>>2]=2,n[p+8>>2]=A,d=-402486152;continue}$(v,p),W(n[v+4>>2],n[v+8>>2]),me(v),I=1,d=-289862181}}function A(e,r,o){var a=0,s=0,u=0,c=0,l=0,f=0,d=0;e:{if((d=n[e>>2])|(s=n[e+8>>2])){t:if(s){if(l=r+o|0,c=n[e+12>>2])for(s=r;;){if((0|(a=s))==(0|l))break t;if(s=a+1|0,(0|(f=t[0|a]))>=0||(s=a+2|0,f>>>0<4294967264||(s=a+3|0,f>>>0<4294967280||(s=a+4|0))),u=(s-a|0)+u|0,!(c=c-1|0))break}else s=r;if((0|s)!=(0|l)){r:{n:if(u){if(o>>>0>u>>>0){if(a=0,t[r+u|0]>-65)break n;break r}if(a=0,(0|o)!=(0|u))break r}a=r}o=a?u:o,r=a||r}}if(!d)break e;if(l=n[e+4>>2],o>>>0>=16)a=h(r,o);else if(o){if(c=3&o,o>>>0<4)a=0,u=0;else for(f=12&o,a=0,u=0;a=((((t[0|(s=r+u|0)]>-65)+a|0)+(t[s+1|0]>-65)|0)+(t[s+2|0]>-65)|0)+(t[s+3|0]>-65)|0,(0|f)!=(0|(u=u+4|0)););if(c)for(s=r+u|0;a=(t[0|s]>-65)+a|0,s=s+1|0,c=c-1|0;);}else a=0;t:{if(a>>>0<l>>>0){s=l-a|0,a=0;r:{n:switch(i[e+32|0]-1|0){case 0:a=s,s=0;break r;case 1:break n;default:break r}a=s>>>1|0,s=s+1>>>1|0}for(a=a+1|0,l=n[e+16>>2],u=n[e+24>>2],c=n[e+20>>2];;){if(!(a=a-1|0))break t;if(0|ke[n[u+16>>2]](c,l))break}return 1}break e}if(0|ke[n[u+12>>2]](c,r,o))e=1;else{a=0;t:{for(;;){if(e=s,(0|a)==(0|s))break t;if(a=a+1|0,0|ke[n[u+16>>2]](c,l))break}e=a-1|0}e=e>>>0<s>>>0}return e}return 0|ke[n[n[e+24>>2]+12>>2]](n[e+20>>2],r,o)}return 0|ke[n[n[e+24>>2]+12>>2]](n[e+20>>2],r,o)}function g(e,r,o,a,s){var u,c=0,l=0,f=0,d=0,p=0,A=0,g=0;if(u=(l=1&(d=n[e+28>>2]))?43:1114112,l=s+l|0,4&d){if(o>>>0>=16)c=h(r,o);else if(o){if(p=3&o,o>>>0>=4)for(A=12&o;c=((((g=c)+(t[0|(c=r+f|0)]>-65)|0)+(t[c+1|0]>-65)|0)+(t[c+2|0]>-65)|0)+(t[c+3|0]>-65)|0,(0|A)!=(0|(f=f+4|0)););if(p)for(f=r+f|0;c=(t[0|f]>-65)+c|0,f=f+1|0,p=p-1|0;);}l=c+l|0}else r=0;e:{t:{if(!n[e>>2]){if(c=1,Z(l=n[e+20>>2],e=n[e+24>>2],u,r,o))break t;break e}if((g=n[e+4>>2])>>>0<=l>>>0){if(c=1,Z(l=n[e+20>>2],e=n[e+24>>2],u,r,o))break t;break e}if(8&d){if(d=n[e+16>>2],n[e+16>>2]=48,A=i[e+32|0],c=1,t[e+32|0]=1,Z(f=n[e+20>>2],p=n[e+24>>2],u,r,o))break t;c=1+(g-l|0)|0;r:{for(;;){if(!(c=c-1|0))break r;if(0|ke[n[p+16>>2]](f,48))break}return 1}if(c=1,0|ke[n[p+12>>2]](f,a,s))break t;t[e+32|0]=A,n[e+16>>2]=d,c=0}else{l=g-l|0;r:{n:{i:switch((c=i[e+32|0])-1|0){case 1:break n;case 0:case 2:break i;default:break r}c=l,l=0;break r}c=l>>>1|0,l=l+1>>>1|0}c=c+1|0,A=n[e+16>>2],d=n[e+24>>2],e=n[e+20>>2];r:{for(;;){if(!(c=c-1|0))break r;if(0|ke[n[d+16>>2]](e,A))break}return 1}if(c=1,!(Z(e,d,u,r,o)||0|ke[n[d+12>>2]](e,a,s))){for(c=0;;){if((0|c)==(0|l))return 0;if(c=c+1|0,0|ke[n[d+16>>2]](e,A))break}return c-1>>>0<l>>>0}}}return c}return 0|ke[n[e+12>>2]](l,a,s)}function v(e,r,o){var s,u=0,c=0,l=0,d=0,h=0,p=0,A=0,g=0,v=0;f=s=f-48|0,t[s+44|0]=3,n[s+28>>2]=32,n[s+40>>2]=0,n[s+36>>2]=r,n[s+32>>2]=e,n[s+20>>2]=0,n[s+12>>2]=0;e:{t:{r:{n:if(p=n[o+16>>2]){if(e=n[o+20>>2])for(v=e<<5,d=1+(e-1&134217727)|0,h=n[o+8>>2],e=n[o>>2];;){if((r=n[e+4>>2])&&0|ke[n[n[s+36>>2]+12>>2]](n[s+32>>2],n[e>>2],r))break r;r=c+p|0,n[s+28>>2]=n[r+16>>2],t[s+44|0]=i[r+28|0],n[s+40>>2]=n[r+24>>2],u=n[r+12>>2],A=0,l=0;i:{switch(n[r+8>>2]-1|0){case 0:if(n[4+(g=(u<<3)+h|0)>>2])break i;u=n[g>>2];break;case 1:break i}l=1}n[s+16>>2]=u,n[s+12>>2]=l,u=n[r+4>>2];i:{switch(n[r>>2]-1|0){case 0:if(n[4+(l=(u<<3)+h|0)>>2])break i;u=n[l>>2];break;case 1:break i}A=1}if(n[s+24>>2]=u,n[s+20>>2]=A,r=(n[r+20>>2]<<3)+h|0,0|ke[n[r+4>>2]](n[r>>2],s+12|0))break r;if(e=e+8|0,(0|v)==(0|(c=c+32|0)))break}}else{if(!(e=n[o+12>>2]))break n;for(r=n[o+8>>2],c=e<<3,d=1+(e-1&536870911)|0,e=n[o>>2];;){if((u=n[e+4>>2])&&0|ke[n[n[s+36>>2]+12>>2]](n[s+32>>2],n[e>>2],u)||0|ke[n[r+4>>2]](n[r>>2],s+12|0))break r;if(r=r+8|0,e=e+8|0,!(c=c-8|0))break}}if(a[o+4>>2]<=d>>>0||(e=n[o>>2]+(d<<3)|0,!(0|ke[n[n[s+36>>2]+12>>2]](n[s+32>>2],n[e>>2],n[e+4>>2]))))break t}e=1;break e}e=0}return f=s+48|0,e}function y(e,o,a,s){var u,c=0,l=0,d=0,h=0,p=0,A=0,g=0,v=0,y=0,_=0,E=0,b=0,w=0,I=0,T=0,S=0,C=0;f=u=f-80|0;e:{if(o>>>0<=s>>>0)e=!(e=(0|o)==(0|s)?Ie(a,e,s):1);else{A=u+16|0,C=e,S=o,v=a;t:if(s){a=1;r:{n:{i:{o:{a:{s:{u:{c:{l:{if(1!=(0|s)){for(o=1,e=1;;){if((h=l+p|0)>>>0>=s>>>0)break l;if(c=e,(e=i[o+v|0])>>>0<(o=i[h+v|0])>>>0?(a=(e=1+(c+l|0)|0)-p|0,l=0):(0|e)==(0|o)?(l=(o=(0|(e=l+1|0))==(0|a))?0:e,e=c+(o?e:0)|0):(a=1,e=c+1|0,l=0,p=c),!(s>>>0>(o=e+l|0)>>>0))break}for(o=1,h=0,e=1,l=0,d=1;;){if((y=l+h|0)>>>0>=s>>>0)break c;if(c=e,(e=i[o+v|0])>>>0>(o=i[v+y|0])>>>0?(d=(e=1+(c+l|0)|0)-h|0,l=0):(0|e)==(0|o)?(l=(o=(0|(e=l+1|0))==(0|d))?0:e,e=c+(o?e:0)|0):(d=1,e=c+1|0,l=0,h=c),!(s>>>0>(o=e+l|0)>>>0))break}l=p}else d=1;if((y=(e=l>>>0>h>>>0)?l:h)>>>0>s>>>0)break u;if((e=e?a:d)>>>0>(o=y+e|0)>>>0)break s;if(o>>>0>s>>>0)break a;if(Ie(v,e+v|0,y)){if(b=(d=s-y|0)>>>0<y>>>0,h=3&s,s-1>>>0<3)e=0;else for(l=-4&s,e=0;o=31&(a=i[3+(p=e+v|0)|0]),(63&a)>>>0>=32?(c=1<<o,a=0):c=(a=1<<o)-1&1>>>32-o,w=a,o=c,a=31&(c=i[0|p]),(63&c)>>>0>=32?(c=1<<a,g=0):c=(g=1<<a)-1&1>>>32-a,a=g|_,_=c|E,I=a,a=31&(c=i[p+1|0]),(63&c)>>>0>=32?(c=1<<a,g=0):c=(g=1<<a)-1&1>>>32-a,E=c|_,g=a=I|g,a=31&(p=i[p+2|0]),(63&p)>>>0>=32?(c=1<<a,p=0):c=(p=1<<a)-1&1>>>32-a,_=g|p|w,E=c|E|o,(0|l)!=(0|(e=e+4|0)););if(h)for(l=e+v|0;e=31&(o=i[0|l]),(63&o)>>>0>=32?(c=1<<e,o=0):c=(o=1<<e)-1&1>>>32-e,_|=o,E|=c,l=l+1|0,h=h-1|0;);e=(b?y:d)+1|0,p=-1,a=y,o=-1}else{for(h=1,l=0,o=1,a=0;;){if((d=o+l|0)>>>0<s>>>0){if(p=o,(o=(s-l|0)+~o|0)>>>0>=s>>>0)break o;if((c=(s+~l|0)-a|0)>>>0>=s>>>0)break i;if((o=i[o+v|0])>>>0<(c=i[c+v|0])>>>0?(h=(o=d+1|0)-a|0,l=0):(0|o)==(0|c)?(l=(c=(0|(o=l+1|0))==(0|h))?0:o,o=p+(c?o:0)|0):(o=p+1|0,l=0,h=1,a=p),(0|e)!=(0|h))continue}break}for(h=1,l=0,o=1,d=0;;){if(s>>>0>(b=o+l|0)>>>0){if(p=o,(o=(s-l|0)+~o|0)>>>0>=s>>>0)break n;if((c=(s+~l|0)-d|0)>>>0>=s>>>0)break r;if((o=i[o+v|0])>>>0>(c=i[c+v|0])>>>0?(h=(o=b+1|0)-d|0,l=0):(0|o)==(0|c)?(l=(c=(0|(o=l+1|0))==(0|h))?0:o,o=p+(c?o:0)|0):(o=p+1|0,l=0,h=1,d=p),(0|e)!=(0|h))continue}break}if(a=s-(a>>>0>d>>>0?a:d)|0,e){if(o=3&e,p=0,e>>>0<4)h=0;else for(w=-4&e,h=0;l=31&(c=i[3+(b=h+v|0)|0]),(63&c)>>>0>=32?(c=1<<l,d=0):c=(d=1<<l)-1&1>>>32-l,I=d,l=c,d=31&(c=i[0|b]),(63&c)>>>0>=32?(c=1<<d,g=0):c=(g=1<<d)-1&1>>>32-d,d=g|_,_=c|E,T=d,d=31&(c=i[b+1|0]),(63&c)>>>0>=32?(c=1<<d,g=0):c=(g=1<<d)-1&1>>>32-d,E=c|_,T=d=T|g,d=31&(c=i[b+2|0]),(63&c)>>>0>=32?(c=1<<d,g=0):c=(g=1<<d)-1&1>>>32-d,_=T|g|I,E=c|E|l,(0|w)!=(0|(h=h+4|0)););if(o)for(l=h+v|0;h=31&(c=i[0|l]),(63&c)>>>0>=32?(c=1<<h,d=0):c=(d=1<<h)-1&1>>>32-h,_|=d,E|=c,l=l+1|0,o=o-1|0;);}else e=0,p=0;o=s}n[A+60>>2]=s,n[A+56>>2]=v,n[A+52>>2]=S,n[A+48>>2]=C,n[A+40>>2]=o,n[A+36>>2]=p,n[A+32>>2]=S,n[A+28>>2]=0,n[A+24>>2]=e,n[A+20>>2]=a,n[A+16>>2]=y,n[A+8>>2]=_,n[A+12>>2]=E,n[A>>2]=1;break t}F(h,s,6648),Yt()}F(y,s,6648),Yt()}q(y,s,6616),Yt()}G(e,o,6632),Yt()}q(o,s,6632),Yt()}F(o,s,6664),Yt()}F(c,s,6680),Yt()}F(o,s,6664),Yt()}F(c,s,6680),Yt()}else n[A+60>>2]=0,n[A+56>>2]=a,n[A+52>>2]=o,n[A+48>>2]=e,t[A+14|0]=0,r[A+12>>1]=257,n[A+8>>2]=o,n[A>>2]=0,n[A+4>>2]=0;if(n[u+16>>2])e=u+24|0,o=n[u+76>>2],a=n[u+72>>2],s=n[u+68>>2],p=n[u+64>>2],-1==n[u+52>>2]?m(u+4|0,e,p,s,a,o,1):m(u+4|0,e,p,s,a,o,0);else{a=!i[u+28|0],p=n[u+68>>2],c=n[u+64>>2],o=n[u+20>>2],v=i[u+30|0];t:{r:{for(;;){if(s=0,v)break t;n:if(o){if(o>>>0<p>>>0){if(t[o+c|0]>-65)break n;break e}if((0|o)!=(0|p))break e}if((0|o)==(0|p))break;if((0|(s=t[0|(l=o+c|0)]))>=0?e=255&s:(e=(d=63&i[l+1|0])|(h=31&s)<<6,s>>>0<=4294967263||(e=(d=63&i[l+2|0]|d<<6)|h<<12,s>>>0<4294967280||(e=h<<18&1835008|63&i[l+3|0]|d<<6))),!(1&a))break r;a=1,e>>>0<128||(a=2,e>>>0<2048||(a=e>>>0<65536?3:4)),o=a+o|0,a=0}if(1&a)break t}s=1}n[u+4>>2]=s}e=0!=n[u+4>>2]}return f=u+80|0,e}de(c,p,o,p,4108),Yt()}function m(e,t,r,o,a,s,u){var c,l,f,d,h,p,A,g=0,v=0,y=0,m=0,_=0,E=0,b=0,w=0;for(d=s-1|0,h=0-(c=n[t+8>>2])|0,p=s-(l=n[t+16>>2])|0,g=n[t+28>>2],A=n[t>>2],f=n[t+4>>2],v=n[t+20>>2];;){E=u?0:g,b=s>>>0<(_=u||g>>>0<c>>>0?c:g)>>>0?_:s;e:{t:{r:for(;;){if((g=d+(y=v)|0)>>>0>=o>>>0){n[t+20>>2]=o,g=0;break e}m=31&(g=i[r+g|0]);n:{if(1&((63&g)>>>0>=32?f>>>m:((1<<m)-1&f)<<32-m|A>>>m)){w=r+y|0,g=_;i:{o:{for(;;){if((0|g)==(0|b)){g=c;a:{for(;;){if(g>>>0<=E>>>0){r=s+y|0,n[t+20>>2]=r,u||(n[t+28>>2]=0),n[e+8>>2]=r,n[e+4>>2]=y,g=1;break e}if((g=g-1|0)>>>0>=s>>>0)break i;if(!((v=g+y|0)>>>0<o>>>0))break;if(i[a+g|0]!=i[r+v|0])break a}F(v,o,4108),Yt()}if(v=y+l|0,n[t+20>>2]=v,u)continue r;g=p;break t}if(g+y>>>0>=o>>>0)break o;if(m=g+w|0,v=a+g|0,g=g+1|0,i[0|v]!=i[0|m])break}if(v=(y-c|0)+g|0,n[t+20>>2]=v,u)continue;v=(y+h|0)+g|0;break n}F((e=y+_|0)>>>0<o>>>0?o:e,o,4108),Yt()}F(g,s,4108),Yt()}if(v=s+y|0,n[t+20>>2]=v,u)continue}break}g=0}n[t+28>>2]=g;continue}break}n[e>>2]=g}function _(e,r,o,a,s){var u,c,l,f,d=0,h=0;for(c=r-1|0,l=0-r|0,u=e<<2,f=n[s+16>>2],s=n[o>>2];;){e:{if(s){r=s;t:{for(;;){r:{if(!(1&(s=n[r+8>>2]))){if((h=-4&n[r>>2])-(d=r+8|0)>>>0<u>>>0)break e;if((s=h-u&l)>>>0<8+((ke[0|f](a,e)<<2)+d|0)>>>0){if(s=n[d>>2],d&c)break e;n[o>>2]=-4&s,e=n[(s=r)>>2];break t}if(o=0,n[s>>2]=0,n[(s=s-8|0)>>2]=0,n[s+4>>2]=0,n[s>>2]=-4&n[r>>2],2&(e=n[r>>2])||(e&=-4)&&(n[e+4>>2]=3&n[e+4>>2]|s,o=3&n[s+4>>2]),n[s+4>>2]=r|o,n[r+8>>2]=-2&n[r+8>>2],o=3&(e=n[r>>2])|s,n[r>>2]=o,2&e)break r;e=n[s>>2];break t}n[r+8>>2]=-2&s,s=(s=-4&n[r+4>>2])?1&t[0|s]?0:s:0,x(r),2&i[0|r]&&(n[s>>2]=2|n[s>>2]),n[o>>2]=s,r=s;continue}break}n[r>>2]=-3&o,e=2|n[s>>2]}n[s>>2]=1|e,e=s+8|0}else e=0;return e}n[o>>2]=s}}function E(e,t,r,n,o,a,s){var u=0,c=0,l=0,f=0,d=0,h=0,p=0;l=1;e:{t:if(r)for(f=(r<<1)+t|0,d=(65280&e)>>>8|0,p=255&e;;)if(h=t+2|0,c=u+(r=i[t+1|0])|0,(0|(t=i[0|t]))==(0|d)){r:{n:{if(u>>>0<=c>>>0){if(o>>>0<c>>>0)break n;for(t=n+u|0;;){if(!r)break r;if(r=r-1|0,u=i[0|t],t=t+1|0,(0|u)==(0|p))break}l=0;break e}G(u,c,7020),Yt()}q(c,o,7020),Yt()}if(u=c,(0|f)==(0|(t=h)))break}else if(t>>>0>d>>>0||(u=c,(0|f)==(0|(t=h))))break t;if(s)for(n=a+s|0,t=65535&e;;){if(e=a+1|0,(0|(o=(r=i[0|a])<<24>>24))>=0?a=e:(0|e)==(0|n)?(ye(7004),Yt()):(r=i[a+1|0]|(127&o)<<8,a=a+2|0),(0|(t=t-r|0))<0)break e;if(l^=1,(0|n)==(0|a))break}}return 1&l}function b(e,r){var i,o=0,a=0;f=i=f-128|0;e:{t:{r:{if(!(16&(o=n[r+28>>2]))){if(32&o)break r;e=w(n[e>>2],r);break e}for(e=n[e>>2],o=0;a=15&e,t[127+(o+i|0)|0]=a>>>0<10?48|a:a+87|0,o=o-1|0,a=e>>>0<16,e=e>>>4|0,!a;);break t}for(e=n[e>>2],o=0;a=15&e,t[127+(o+i|0)|0]=a>>>0<10?48|a:a+55|0,o=o-1|0,a=e>>>0<16,e=e>>>4|0,!a;);(e=o+128|0)>>>0>=129&&(Q(e),Yt()),e=g(r,6228,2,128+(o+i|0)|0,0-o|0);break e}(e=o+128|0)>>>0>=129&&(Q(e),Yt()),e=g(r,6228,2,128+(o+i|0)|0,0-o|0)}return f=i+128|0,e}function w(e,r){var n,o=0,a=0,s=0,c=0,h=0,p=0,A=0,v=0,y=0,m=0,_=0,E=0,b=0;if(f=n=f-48|0,c=39,e>>>0>=1e4)for(;;){if(m=(y=(n+9|0)+c|0)-4|0,A=0,h){if(p=0-(s=51-l(h)|0)|0,o=31&(a=63&s),a>>>0>=32?(a=0,v=h>>>o|0):(a=h>>>o|0,v=((1<<o)-1&h)<<32-o|e>>>o),o=31&(p&=63),p>>>0>=32?(p=e<<o,o=0):(p=(1<<o)-1&e>>>32-o|h<<o,o=e<<o),s)for(;_=a<<1|v>>>31,v=(a=v<<1|p>>>31)-(b=1e4&(E=0-(_+(a>>>0>9999)|0)>>31))|0,a=_-(a>>>0<b>>>0)|0,p=p<<1|o>>>31,o=A|o<<1,A=1&E,s=s-1|0;);d=p<<1|o>>>31,o=A|o<<1}else d=0,o=(e>>>0)/1e4|0;if(s=e-Ne(o,p=d,1e4,0)|0,a=i[0|(a=6230+((A=((65535&s)>>>0)/100|0)<<1)|0)]|i[a+1|0]<<8,t[0|m]=a,t[m+1|0]=a>>>8,a=y-2|0,s=6230+((s-u(A,100)&65535)<<1)|0,s=i[0|s]|i[s+1|0]<<8,t[0|a]=s,t[a+1|0]=s>>>8,c=c-4|0,s=!h&e>>>0>99999999|!!(0|h),e=o,h=p,!s)break}return e>>>0>99&&(h=(c=c-2|0)+(n+9|0)|0,o=6230+(((o=e)-u(e=((65535&e)>>>0)/100|0,100)&65535)<<1)|0,o=i[0|o]|i[o+1|0]<<8,t[0|h]=o,t[h+1|0]=o>>>8),e>>>0>=10?(h=(c=c-2|0)+(n+9|0)|0,e=i[0|(e=6230+(e<<1)|0)]|i[e+1|0]<<8,t[0|h]=e,t[h+1|0]=e>>>8):t[(c=c-1|0)+(n+9|0)|0]=48|e,e=g(r,1,0,(n+9|0)+c|0,39-c|0),f=n+48|0,e}function I(e,r,o,a){e|=0,r|=0;var s,u,c,l,d,h,p,A=0,g=0,v=0,y=0,m=0,_=0,E=0,b=0,w=0,I=0,T=0,S=0,C=0,N=0,B=0;for(f=s=T=f-16|0,u=(o|=0)+(a|=0)|0,a=1022408673;;){e:{if(-1848366538!=(0|a)){t:{if(-1088417117!=(0|a)){r:{if(-236603007!=(0|a)){if(-23469646==(0|a))break r;if(1022408673==(0|a)|1416181401==(0|a))break e;if(1670965884==(0|a))break t;if(1845804184!=(0|a))continue;return n[b>>2]=A,f=o=f-16|0,e=0|function(){return jt((function(e,t,r,n){return Ut(Rt(e).call(Rt(t),Rt(r),Rt(n)))}),arguments)}(n[e>>2],n[w>>2],n[r>>2],n[b>>2]),ie(o+8|0),r=n[o+12>>2],a=s+8|0,A=n[o+8>>2],n[a>>2]=A,n[a+4>>2]=A?r:e,f=o+16|0,e=ne(n[s+8>>2],n[s+12>>2]),ue(b),ue(w),f=s+16|0,0|e}f=a=v=T-16|0,f=a=b=a-16|0,f=a=w=a-16|0,f=a=E=a-16|0,T=I=a-16|0,f=I,a=-23469646;continue}a=-1088417117;continue}a=1670965884;continue}if(n[v+8>>2]=I,n[v+4>>2]=u,n[v>>2]=o,t[0|I]=1,f=a=f-32|0,L(a+20|0,n[v+4>>2]-n[v>>2]|0),A=n[a+24>>2],n[a+20>>2])ce(A,n[a+28>>2]),Yt();else{if(n[(S=a+16|0)>>2]=0,n[a+12>>2]=n[a+28>>2],n[a+8>>2]=A,f=g=f-16|0,A=n[8+(y=a+8|0)>>2],(m=n[v+4>>2]-n[v>>2]|0)>>>0>n[y>>2]-A>>>0&&(V(y,A,m),A=n[y+8>>2]),m=n[y+4>>2],n[g+8>>2]=A,n[g+4>>2]=y+8,n[g+12>>2]=m,y=n[4+(m=g+4|0)>>2],N=n[m>>2],(0|(A=n[v>>2]))!=(0|(_=n[v+4>>2])))for(B=n[m+8>>2],m=n[v+8>>2],_=_-A|0;C=i[0|m],t[0|m]=1^C,t[y+B|0]=i[0|A]^(C?-50:10),A=A+1|0,y=y+1|0,_=_-1|0;);n[N>>2]=y,f=g+16|0,n[E+8>>2]=n[S>>2],A=n[a+12>>2],n[E>>2]=n[a+8>>2],n[E+4>>2]=A,f=a+32|0}n[w>>2]=129,a=-1848366538,f=g=f-16|0,H(g+8|0,E),A=0|(d=void 0,p=(d=c=n[g+8>>2],h=l=n[g+12>>2],d>>>=0,kt().subarray(d/1,d/1+h)).slice(),Bt.i(c,1*l,1),Ut(p)),f=g+16|0;continue}a=1845804184;continue}a=-236603007}}function T(e){var r,o,a=0,s=0,u=0,c=0;if(f=r=f-48|0,o=0|ke[n[1050]](0)){for(n[r+24>>2]=2696,u=n[r+24>>2],n[r+24>>2]=429464898,c=(n[r+24>>2]+60454&65535)+u|0,n[(u=r+32|0)>>2]=0,n[u+4>>2]=0,n[r+24>>2]=0,n[r+28>>2]=0;s>>>0<=15;)u=(r+24|0)+s|0,a=(i[0|(a=s+c|0)]|i[a+1|0]<<8|i[a+2|0]<<16|i[a+3|0]<<24)^(i[0|(a=s+5234|0)]|i[a+1|0]<<8|i[a+2|0]<<16|i[a+3|0]<<24),t[0|u]=a,t[u+1|0]=a>>>8,t[u+2|0]=a>>>16,t[u+3|0]=a>>>24,s=s+4|0;return a=n[4+(u=r+32|0)>>2],n[(s=r+8|0)>>2]=n[u>>2],n[s+4>>2]=a,t[r+16|0]=185^i[c+16|0],s=n[r+28>>2],n[r>>2]=n[r+24>>2],n[r+4>>2]=s,s=Y(o,r,17),n[r+24>>2]=s,1!=(0|void 0===Rt(0|s))&&(t[0|e]=1),ue(r+24|0),void(f=r+48|0)}U(5164,70,r+47|0,5148,5132),Yt()}function S(e,r,o,a,s){var u,c=0;f=u=f-32|0,c=n[2746],n[2746]=c+1;e:if(!((0|c)<0)){if(!i[10992]){if(t[10992]=1,n[2747]=n[2747]+1,(0|(c=n[2743]))<0||(n[2743]=c+1,n[2744]&&(ke[n[r+20>>2]](u,e),t[u+29|0]=s,t[u+28|0]=a,n[u+24>>2]=o,e=n[u+4>>2],n[u+16>>2]=n[u>>2],n[u+20>>2]=e,ke[n[n[2745]+20>>2]](n[2744],u+16|0),c=n[2743]-1|0),n[2743]=c,t[10992]=0,!a))break e;Yt()}ke[n[r+24>>2]](u+8|0,e)}Yt()}function C(e,t,r){var i,o,a=0;f=i=f-32|0,(r=t+r|0)>>>0<t>>>0&&(ce(0,0),Yt()),t=1,a=~(r=(r=r>>>0<(a=(o=n[e>>2])<<1)>>>0?a:r)>>>0<=8?8:r)>>>31|0,o?(n[i+28>>2]=o,n[i+20>>2]=n[e+4>>2]):t=0,n[i+24>>2]=t,R(i+8|0,a,r,i+20|0),n[i+8>>2]&&(ce(n[i+12>>2],n[i+16>>2]),Yt()),t=n[i+12>>2],n[e>>2]=r,n[e+4>>2]=t,f=i+32|0}function N(e,t,r){var i,o,a=0;f=i=f-32|0,(r=t+r|0)>>>0<t>>>0&&(ce(0,0),Yt()),t=1,a=~(r=(r=r>>>0<(a=(o=n[e>>2])<<1)>>>0?a:r)>>>0<=8?8:r)>>>31|0,o?(n[i+28>>2]=o,n[i+20>>2]=n[e+4>>2]):t=0,n[i+24>>2]=t,B(i+8|0,a,r,i+20|0),n[i+8>>2]&&(ce(n[i+12>>2],n[i+16>>2]),Yt()),t=n[i+12>>2],n[e>>2]=r,n[e+4>>2]=t,f=i+32|0}function B(e,t,r,i){var o=0,a=0,s=0;if(o=1,a=4,!(!t|(0|r)<0)){e:{t:{r:{n:if(n[i+4>>2]){if(!(t=n[i+8>>2])){if(!r)break r;o=_e(r,1);break n}o=he(n[i>>2],t,1,r)}else{if(!r)break r;o=_e(r,1)}if(!o)break t}n[e+4>>2]=o,o=0;break e}n[e+4>>2]=1,o=1}a=8,s=r}n[e+a>>2]=s,n[e>>2]=o}function O(e,r,o,a){var s;s=n[e>>2],n[s>>2]=0,n[(e=s-8|0)>>2]=-2&n[e>>2];e:if(0|ke[n[a+20>>2]](o)){t:{if(!(!(o=-4&n[s-4>>2])|1&t[0|o])){if(x(e),!(2&i[0|e]))break t;return void(n[o>>2]=2|n[o>>2])}if(2&(o=n[e>>2])||!(o&=-4)|1&t[0|o])break e;n[s>>2]=-4&n[o+8>>2],n[o+8>>2]=1|e}return}n[s>>2]=n[r>>2],n[r>>2]=e}function R(e,t,r,i){var o=0;e:{t:{if(t){if((0|r)<0)break t;if(n[i+4>>2]&&(o=n[i+8>>2])?i=he(n[i>>2],o,t,r):(i=t,r&&(i=_e(r,t))),i)return n[e+8>>2]=r,n[e+4>>2]=i,void(n[e>>2]=0);n[e+8>>2]=r,n[e+4>>2]=t;break e}n[e+4>>2]=0;break e}n[e+4>>2]=0}n[e>>2]=1}function D(e,t,r){var i;f=i=f-16|0,e&&(n[i+4>>2]=e,r&&(t>>>0<=4&&(e=(r+3>>>2|0)-1|0)>>>0<256?(n[i+8>>2]=10896,e=9872+(e<<2)|0,n[i+12>>2]=n[e>>2],O(i+4|0,i+12|0,i+8|0,5420),n[e>>2]=n[i+12>>2]):(n[i+12>>2]=n[2724],O(i+4|0,i+12|0,5468,5444),n[2724]=n[i+12>>2]))),f=i+16|0}function k(e,t){var r,i=0;return f=r=f-16|0,t&&(t=t+3>>>2|0,e>>>0<=4&&(i=t-1|0)>>>0<256?(n[r+4>>2]=10896,i=9872+(i<<2)|0,n[r+12>>2]=n[i>>2],e=P(t,e,r+12|0,r+4|0,5420),n[i>>2]=n[r+12>>2]):(n[r+8>>2]=n[2724],e=P(t,e,r+8|0,5468,5444),n[2724]=n[r+8>>2])),f=r+16|0,e}function L(e,t){var r,i=0;f=r=f-16|0;e:if(t){if((0|t)<0){n[e+4>>2]=0,t=1;break e}if(ee(r+8|0,1,t),i=n[r+8>>2]){n[e+8>>2]=i,n[e+4>>2]=t,t=0;break e}n[e+8>>2]=t,n[e+4>>2]=1,t=1}else n[e+4>>2]=0,n[e+8>>2]=1,t=0;n[e>>2]=t,f=r+16|0}function M(e,t,r,i,o){var a,s=0;f=a=f-16|0;e:if(o)t:if((0|t)==(0|i))i=he(e,r,t,o);else{if(re(a+8|0,i,o),i=0,!(s=n[a+8>>2]))break e;if(i=Te(s,e,o),!r)break t;ge(e,r,t)}else{if(!r)break e;ge(e,r,t)}return f=a+16|0,i}function x(e){var t,r=0,i=0;2&(i=n[e>>2])||(r=-4&i)&&(n[r+4>>2]=3&n[r+4>>2]|-4&n[e+4>>2],i=n[e>>2]),(t=-4&(r=n[e+4>>2]))&&(n[t>>2]=3&n[t>>2]|-4&i,r=n[e+4>>2],i=n[e>>2]),n[e+4>>2]=3&r,n[e>>2]=3&i}function U(e,t,r,i,o){var a;f=a=f+-64|0,n[a+12>>2]=t,n[a+8>>2]=e,n[a+20>>2]=i,n[a+16>>2]=r,n[a+28>>2]=2,n[a+24>>2]=6164,n[a+36>>2]=2,n[a+40>>2]=0,n[a+56>>2]=a+16,n[a+60>>2]=53,n[a+48>>2]=a+8,n[a+52>>2]=54,n[a+32>>2]=a+48,X(a+24|0,o),Yt()}function P(e,t,r,i,o){var a,s=0;return f=a=f-16|0,(s=_(e,t,r,i,o))||(ke[n[o+12>>2]](a+8|0,i,e,t),s=0,n[a+8>>2]||(s=n[a+12>>2],n[s+8>>2]=n[r>>2],n[r>>2]=s,s=_(e,t,r,i,o))),f=a+16|0,s}function Q(e){var t;f=t=f-48|0,n[t>>2]=e,n[t+4>>2]=128,n[t+12>>2]=2,n[t+8>>2]=6484,n[t+20>>2]=2,n[t+24>>2]=0,n[t+40>>2]=t+4,n[t+44>>2]=29,n[t+32>>2]=t,n[t+36>>2]=29,n[t+16>>2]=t+32,X(t+8|0,6212),Yt()}function F(e,t,r){var i;f=i=f-48|0,n[i+4>>2]=t,n[i>>2]=e,n[i+12>>2]=2,n[i+8>>2]=6144,n[i+20>>2]=2,n[i+24>>2]=0,n[i+40>>2]=i,n[i+44>>2]=29,n[i+32>>2]=i+4,n[i+36>>2]=29,n[i+16>>2]=i+32,X(i+8|0,r),Yt()}function q(e,t,r){De(e,t,r,6516)}function G(e,t,r){De(e,t,r,6568)}function H(e,t){var r,i=0,o=0,s=0,u=0,c=0;f=r=f-16|0;e:{if((i=n[t+8>>2])>>>0<a[t>>2]){c=r+8|0,o=-2147483647;t:if(s=n[t>>2]){if(o=n[t+4>>2],i){if(u=M(o,1,s,1,i),o=1,!u)break t}else u=1,le(o,1,s);n[t>>2]=i,n[t+4>>2]=u,o=-2147483647}if(s=o,n[c+4>>2]=i,n[c>>2]=s,-2147483647!=(0|(i=n[r+8>>2])))break e;i=n[t+8>>2]}return n[e+4>>2]=i,n[e>>2]=n[t+4>>2],void(f=r+16|0)}ce(i,n[r+12>>2]),Yt()}function j(e,t,r){var i,o;if(f=i=f-16|0,L(i+4|0,r),o=n[i+8>>2],!n[i+4>>2])return t=Te(n[i+12>>2],t,r),n[e+8>>2]=r,n[e+4>>2]=t,n[e>>2]=o,void(f=i+16|0);ce(o,n[i+12>>2]),Yt()}function W(e,t){var r,i,o,a;f=r=f-32|0,o=r,a=Se(e,t),n[o+24>>2]=a,n[r+28>>2]=129,K(r+8|0,e=r+24|0,t=r+28|0),i=n[r+12>>2],n[r+16>>2]=n[r+8>>2],n[r+20>>2]=i,ue(r+20|0),ue(t),ue(e),f=r+32|0}function Y(e,t,r){var i=0;e:{if((i=n[2465])>>>0<2147483647){if(n[2465]=i+1,!(i=n[2466]))break e;return e=0|ke[n[n[2467]+20>>2]](i,e,t,r),n[2465]=n[2465]-1,e}f=e=f-48|0,n[e+12>>2]=1,n[e+8>>2]=6032,n[e+20>>2]=1,n[e+24>>2]=0,n[e+32>>2]=e+47,n[e+36>>2]=52,n[e+16>>2]=e+32,X(e+8|0,4108),Yt()}z(5032,11),Yt()}function z(e,t){var r;f=r=f-48|0,n[r+12>>2]=t,n[r+8>>2]=e,n[r+20>>2]=1,n[r+16>>2]=6040,n[r+28>>2]=1,n[r+32>>2]=0,n[r+40>>2]=r+8,n[r+44>>2]=54,n[r+24>>2]=r+40,X(r+16|0,4108),Yt()}function J(e,t){var r,i,o,a,s,u,c,l=0,d=0;f=r=f-16|0,i=r+8|0,o=n[t>>2],a=Rt(o),u=Lt(s="string"==typeof a?a:void 0)?0:function(e,t,r){if(void 0===r){var n=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t}(e),i=new Uint8Array(n);Ct(e,i,0);var o=t(i.length,1)>>>0;return kt().subarray(o,o+i.length).set(i),Dt=i.length,o}for(var a=e.length,s=t(a,1)>>>0,u=kt(),c=0;c<a;c++){var l=e.charCodeAt(c);if(l>127)break;u[s+c]=l}return c!==a&&(0!==c&&(e=e.slice(c)),s=r(s,a,a=c+3*e.length,1)>>>0,s=r(s,a,c+=Ct(e,kt().subarray(s+c,s+a),0),1)>>>0),Dt=c,s}(s,Bt.k,Bt.o),c=Dt,Mt().setInt32(i+4,c,!0),Mt().setInt32(i+0,u,!0),(l=n[r+8>>2])?(f=t=f-32|0,d=n[r+12>>2],n[t+28>>2]=d,n[t+24>>2]=l,n[t+20>>2]=d,H(t+8|0,t+20|0),l=n[t+12>>2],n[r>>2]=n[t+8>>2],n[r+4>>2]=l,f=t+32|0,t=n[r>>2],l=n[r+4>>2],n[e+8>>2]=l,n[e+4>>2]=t,n[e>>2]=l):n[e>>2]=-2147483648,f=r+16|0}function $(e,t){var r=0,i=0,o=0,a=0,s=0,u=0,c=0;r=n[t+12>>2];e:{t:{r:switch(n[t+4>>2]){case 0:if(r)break t;t=1,r=0;break e;case 1:break r;default:break t}if(!r){t=n[t>>2],r=n[t+4>>2],t=n[t>>2];break e}}f=o=f-16|0;t:{r:{n:{i:{o:if(r=n[t+4>>2]){if(s=n[t>>2],a=3&r,r>>>0<4)r=0;else for(i=s+28|0,c=-4&r,r=0;r=n[i>>2]+(n[i-8>>2]+(n[i-16>>2]+(n[i-24>>2]+r|0)|0)|0)|0,i=i+32|0,(0|c)!=(0|(u=u+4|0)););if(a)for(i=4+((u<<3)+s|0)|0;r=n[i>>2]+r|0,i=i+8|0,a=a-1|0;);if(n[t+12>>2]){if(!n[s+4>>2]&r>>>0<16|(0|r)<0)break o;r<<=1}if(r)break i}i=1,r=0;break n}if(a=0,(0|r)<0||(a=1,!(i=_e(r,1))))break r}if(n[o+8>>2]=0,n[o+4>>2]=i,n[o>>2]=r,!v(o,5692,t))break t;U(5804,86,o+15|0,5788,5916),Yt()}ce(a,r),Yt()}return t=n[o+4>>2],n[e>>2]=n[o>>2],n[e+4>>2]=t,n[e+8>>2]=n[o+8>>2],void(f=o+16|0)}j(e,t,r)}function X(e,t){var o=0,a=0,s=0,u=0,c=0;f=a=f-32|0,s=n[4+(u=e+16|0)>>2],n[(o=a+16|0)>>2]=n[u>>2],n[o+4>>2]=s,c=n[4+(s=e+8|0)>>2],n[(u=a+8|0)>>2]=n[s>>2],n[u+4>>2]=c,r[a+28>>1]=1,n[a+24>>2]=t,t=n[e+4>>2],n[a>>2]=n[e>>2],n[a+4>>2]=t,f=e=f-32|0,t=n[a+24>>2],c=n[o+4>>2],n[(s=e+16|0)>>2]=n[o>>2],n[s+4>>2]=c,s=n[u+4>>2],n[(o=e+8|0)>>2]=n[u>>2],n[o+4>>2]=s,n[e+28>>2]=a,n[e+24>>2]=t,t=n[a+4>>2],n[e>>2]=n[a>>2],n[e+4>>2]=t,a=0,f=t=f-16|0,o=n[e+12>>2];e:{t:{r:switch(n[e+4>>2]){case 0:if(o)break t;o=1;break e;case 1:break r;default:break t}if(!o){o=n[e>>2],a=n[o+4>>2],o=n[o>>2];break e}}n[t>>2]=-2147483648,n[t+12>>2]=e,o=n[e+24>>2],e=n[e+28>>2],S(t,5656,o,i[e+28|0],i[e+29|0]),Yt()}n[t+4>>2]=a,n[t>>2]=o,o=n[e+24>>2],e=n[e+28>>2],S(t,5628,o,i[e+28|0],i[e+29|0]),Yt()}function K(e,t,r){var i,o;f=i=f-16|0,t=0|function(){return jt((function(e,t){return Ut(Rt(e).call(Rt(t)))}),arguments)}(n[t>>2],n[r>>2]),ie(i+8|0),r=n[i+12>>2],o=n[i+8>>2],n[e>>2]=o,n[e+4>>2]=o?r:t,f=i+16|0}function V(e,t,r){var i,o,a,s=0,u=0,c=0,l=0,d=0,h=0;if(a=8+(o=f-16|0)|0,f=i=(f=o)-32|0,s=0,!((u=t)>>>0>(t=t+r|0)>>>0)){if(c=n[e>>2],r=u=i+20|0,(l=n[e>>2])?(n[r+8>>2]=l,n[r>>2]=n[e+4>>2],s=1):s=0,n[r+4>>2]=s,r=0,f=s=f-16|0,h=1,l=i+8|0,d=4,!(!(c=~(t=(t=t>>>0<(c<<=1)>>>0?c:t)>>>0<=8?8:t)>>>31|0)|(0|t)<0)){e:if(n[u+4>>2]){if(!(r=n[u+8>>2])){re(s+8|0,c,t),u=n[s+8>>2],r=n[s+12>>2];break e}u=he(n[u>>2],r,c,t),r=t}else ee(s,c,t),u=n[s>>2],r=n[s+4>>2];u?(n[l+4>>2]=u,h=0,d=8):(n[l+4>>2]=c,r=t,d=8)}n[l+d>>2]=r,n[l>>2]=h,f=s+16|0,n[i+8>>2]?(e=n[i+16>>2],s=n[i+12>>2]):(r=n[i+12>>2],n[e>>2]=t,n[e+4>>2]=r,s=-2147483647)}n[a+4>>2]=e,n[a>>2]=s,f=i+32|0,-2147483647!=(0|(e=n[o+8>>2]))&&(ce(e,n[o+12>>2]),Yt()),f=o+16|0}function Z(e,t,r,i,o){var a=0;e:{if(!(1114112!=(0|r)&&(a=1,0|ke[n[t+16>>2]](e,r)))){if(i)break e;a=0}return a}return 0|ke[n[t+12>>2]](e,i,o)}function ee(e,t,r){var i;f=i=f-16|0,re(i+8|0,t,r),t=n[i+12>>2],n[e>>2]=n[i+8>>2],n[e+4>>2]=t,f=i+16|0}function te(e,t){var r,i;f=r=f-16|0,n[r+12>>2]=t,i=ve(r+12|0),n[e+4>>2]=t,n[e>>2]=1^i,f=r+16|0}function re(e,t,r){r&&(t=_e(r,t)),n[e+4>>2]=r,n[e>>2]=t}function ne(e,t){var r;return f=r=f-16|0,n[r+12>>2]=t,n[r+8>>2]=e,e&&ue(r+12|0),f=r+16|0,t}function ie(e){var t,r,i,o,a=0,s=0;i=8+(t=f-16|0)|0,f=r=(f=t)-16|0,(o=0|ke[n[1354]](0))?(s=n[o>>2],a=n[o+4>>2],n[o>>2]=0,n[o+4>>2]=0,n[i+4>>2]=a,n[i>>2]=1==(0|s),f=r+16|0):(U(5320,70,r+15|0,5304,5400),Yt()),a=n[t+12>>2],n[e>>2]=n[t+8>>2],n[e+4>>2]=a,f=t+16|0}function oe(e,t,r,i,o){t|=0,r|=0,i|=0,o|=0,(e|=0)||(Ee(),Yt()),ke[n[t+16>>2]](e,r,i,o)}function ae(e,t,r,i,o){return t|=0,r|=0,i|=0,o|=0,(e|=0)||(Ee(),Yt()),0|ke[n[t+16>>2]](e,r,i,o)}function se(e){var t;(t=n[(e|=0)>>2])&&ge(n[e+4>>2],t,1)}function ue(e){var t,r;(e=n[e>>2])>>>0>=132&&(Rt(t=0|e),(r=t)<132||(Ot[r]=xt,xt=r))}function ce(e,t){e||(f=e=f-32|0,n[e+24>>2]=0,n[e+12>>2]=1,n[e+8>>2]=5736,n[e+16>>2]=4,n[e+20>>2]=0,X(e+8|0,5772),Yt()),be(e,t),Yt()}function le(e,t,r){r&&ge(e,r,t)}function fe(e,t,r){return 0|ke[n[n[e+24>>2]+12>>2]](n[e+20>>2],t,r)}function de(e,r,o,a,s){var u,c=0,l=0,d=0,h=0;f=u=f-112|0,n[u+12>>2]=a,n[u+8>>2]=o;e:{t:{if(r>>>0>=257){if(c=3,t[e+256|0]>-65||(c=2,t[e+255|0]>-65||(c=t[e+254|0]>-65)),t[(c=c+253|0)+e|0]<=-65)break t;n[u+20>>2]=c,n[u+16>>2]=e,l=5,c=6696;break e}n[u+20>>2]=r,n[u+16>>2]=e,c=1;break e}de(e,r,0,c,s),Yt()}n[u+28>>2]=l,n[u+24>>2]=c;e:{t:{r:{n:{i:{if(!((l=r>>>0<o>>>0)|r>>>0<a>>>0)){if(o>>>0>a>>>0)break i;if(a=!o|r>>>0<=o>>>0?a:n[(t[e+o|0]>-65?u+12:u+8)>>2],n[u+32>>2]=a,a>>>0<(o=r)>>>0){if((l=a+1|0)>>>0<(o=(o=a-3|0)>>>0<=a>>>0?o:0)>>>0)break n;(0|o)!=(0|l)&&(l=(e+l|0)-(d=e+o|0)|0,t[0|(h=e+a|0)]>-65?c=l-1|0:(0|o)!=(0|a)&&(t[0|(a=h-1|0)]>-65?c=l-2|0:(0|a)!=(0|d)&&(t[0|(a=h-2|0)]>-65?c=l-3|0:(0|a)!=(0|d)&&(t[0|(a=h-3|0)]>-65?c=l-4|0:(0|a)!=(0|d)&&(c=l-5|0))))),o=o+c|0}o:if(o){if(r>>>0>o>>>0){if(t[e+o|0]>-65)break o;break t}if((0|r)!=(0|o))break t}if((0|r)==(0|o))break r;o:{a:{s:{if((0|(e=t[0|(r=e+o|0)]))<0){if(c=63&i[r+1|0],a=31&e,e>>>0>4294967263)break s;a=c|a<<6;break a}n[u+36>>2]=255&e,e=1;break o}if(c=63&i[r+2|0]|c<<6,e>>>0<4294967280)a=c|a<<12;else if(1114112==(0|(a=a<<18&1835008|63&i[r+3|0]|c<<6)))break r}n[u+36>>2]=a,e=1,a>>>0<128||(e=2,a>>>0<2048||(e=a>>>0<65536?3:4))}n[u+40>>2]=o,n[u+44>>2]=e+o,n[u+52>>2]=5,n[u+48>>2]=6832,n[u+60>>2]=5,n[u+64>>2]=0,n[u+104>>2]=u+24,n[u+108>>2]=54,n[u+96>>2]=u+16,n[u+100>>2]=54,n[u+88>>2]=u+40,n[u+92>>2]=55,n[u+80>>2]=u+36,n[u+84>>2]=56,n[u+72>>2]=u+32,n[u+76>>2]=29;break e}n[u+40>>2]=l?o:a,n[u+52>>2]=3,n[u+48>>2]=6896,n[u+60>>2]=3,n[u+64>>2]=0,n[u+88>>2]=u+24,n[u+92>>2]=54,n[u+80>>2]=u+16,n[u+84>>2]=54,n[u+72>>2]=u+40,n[u+76>>2]=29;break e}n[u+52>>2]=4,n[u+48>>2]=6736,n[u+60>>2]=4,n[u+64>>2]=0,n[u+96>>2]=u+24,n[u+100>>2]=54,n[u+88>>2]=u+16,n[u+92>>2]=54,n[u+80>>2]=u+12,n[u+84>>2]=29,n[u+72>>2]=u+8,n[u+76>>2]=29;break e}G(o,l,6948),Yt()}ye(s),Yt()}de(e,r,o,r,s),Yt()}n[u+56>>2]=u+72,X(u+48|0,s),Yt()}function he(e,t,r,n){var i;return(i=k(r,n))&&(Te(i,e,t>>>0<n>>>0?t:n),D(e,r,t)),i}function pe(e,t,r){n[e+4>>2]=r,n[e>>2]=t}function Ae(e){return 1==(0|void 0===Rt(n[e>>2]))}function ge(e,t,r){D(e,r,t)}function ve(e){return 1==(0|"function"==typeof Rt(n[e>>2]))}function ye(e){var t;f=t=f-32|0,n[t+16>>2]=0,n[t+4>>2]=1,n[t+8>>2]=4,n[t+12>>2]=0,n[t+28>>2]=43,n[t+24>>2]=6048,n[t>>2]=t+24,X(t,e),Yt()}function me(e){var t;(t=n[e>>2])&&le(n[e+4>>2],1,t)}function _e(e,t){return k(t,e)}function Ee(){(function(){throw new Error(Nt(5251,50))})(),Yt()}function be(e,t){var r;r=e,e=n[2742],ke[0|(e||30)](r,t),Yt()}function we(e,t,r){return A(r,e,t)}function Ie(e,t,r){var n=0,o=0,a=0;e:if(r){for(;;){if((0|(n=i[0|e]))==(0|(o=i[0|t]))){if(e=e+1|0,t=t+1|0,r=r-1|0)continue;break e}break}a=n-o|0}return a}function Te(e,r,o){var a=0,s=0,u=0,c=0,l=0,f=0,d=0,h=0;if(c=o,o>>>0<16)o=e;else{if(s=(a=0-e&3)+e|0,a)for(o=e,u=r;t[0|o]=i[0|u],u=u+1|0,s>>>0>(o=o+1|0)>>>0;);o=(l=-4&(f=c-a|0))+s|0;e:if(3&(a=r+a|0)){if((0|l)<=0)break e;for(d=24&(c=a<<3),r=4+(u=-4&a)|0,c=0-c&24,u=n[u>>2];h=u>>>d|0,u=n[r>>2],n[s>>2]=h|u<<c,r=r+4|0,(s=s+4|0)>>>0<o>>>0;);}else if(!((0|l)<=0))for(r=a;n[s>>2]=n[r>>2],r=r+4|0,(s=s+4|0)>>>0<o>>>0;);c=3&f,r=a+l|0}if(c)for(a=o+c|0;t[0|o]=i[0|r],r=r+1|0,a>>>0>(o=o+1|0)>>>0;);return e}function Se(e,t){return 0|Ut(new Function(Nt(0|e,0|t)))}function Ce(e){return 0|Ut(Rt(n[e>>2]).constructor)}function Ne(e,t,r,n){var i,o,a,s,c=0,l=0;return s=u(c=r>>>16|0,l=e>>>16|0),c=(65535&(l=((a=u(i=65535&r,o=65535&e))>>>16|0)+u(l,i)|0))+u(c,o)|0,d=(u(t,r)+s|0)+u(e,n)+(l>>>16)+(c>>>16)|0,65535&a|c<<16}function Be(e){for(var t=0;e;)e&=e-1,t=t+1|0;return t}function Oe(e,t,r){var n=0,i=0,o=0,a=0;return i=31&(o=a=63&r),o=o>>>0>=32?-1>>>i|0:(n=-1>>>i|0)|(1<<i)-1<<32-i,o&=e,n&=t,i=31&a,a>>>0>=32?(n=o<<i,a=0):(n=(1<<i)-1&o>>>32-i|n<<i,a=o<<i),o=n,n=31&(i=0-r&63),i>>>0>=32?(n=-1<<n,r=0):n=(r=-1<<n)|(1<<n)-1&-1>>>32-n,e&=r,t&=n,n=31&i,i>>>0>=32?(r=0,e=t>>>n|0):(r=t>>>n|0,e=((1<<n)-1&t)<<32-n|e>>>n),d=r|o,e|a}function Re(e,r,i){var o,a=0,s=0,u=0;for(f=o=f-128|0,u=n[e>>2],a=n[e+4>>2],e=0;s=15&u,t[127+(e+o|0)|0]=s>>>0<10?48|s:s+i|0,e=e-1|0,s=!a&u>>>0<16,u=(15&a)<<28|u>>>4,a=a>>>4|0,!s;);return(a=e+128|0)>>>0>=129&&(Q(a),Yt()),e=g(r,6228,2,128+(e+o|0)|0,0-e|0),f=o+128|0,e}function De(e,t,r,i){var o;f=o=f-48|0,n[o>>2]=e,n[o+4>>2]=t,n[o+12>>2]=2,n[o+8>>2]=i,n[o+20>>2]=2,n[o+24>>2]=0,n[o+40>>2]=o+4,n[o+44>>2]=29,n[o+32>>2]=o,n[o+36>>2]=29,n[o+16>>2]=o+32,X(o+8|0,r),Yt()}Wt(Qt=i,4096,"PHJlZGFjdGVkPgAAABAAAAo="),Wt(Qt,4124,"cmV0dXJuIHRoaXM7AQAAAAAAAAABAAAAAAAAACcQAAABAAAAAQAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAUAAABLaFlBRnFZQkZ1Z0JBQmJrQVJiU0FRQVczQUVXemdFSUZnQVdLaGdBR013QkdPUUJBQmplQVJqYUFRQVloZ0VZMEFFQUdNSUJHT1FCQUJpR0FSamVBUUFZeUFFWXlnRUlGQllZSGhnSUFnSVFGQllZRUJBZUlBZ0FCaDRnR2lBNkNneWtBU0FvSHZJQ29nRUVJQllBRkFnQVBCd1VuQU1hRkJBSUVDQWNDZ3pZQVJRdUVBUWNCQUFnQ0FBd0VpQXFJQUFnNmdFZzNBRUFJTWdCSU1vQkFDRE1BU0RTQVFBZzNBRWd5Z0UySU1nQkpoNFNJRG9lQnFNQkdpQTZDZ3pBQWlBQUh0WUJCaDRnQ0FBcUVnQVNnZ0VTNUFFQUV1UUJFc0lCTkJMeUFSSUFFaW9XQUJiTUFSYmtBUUFXM2dFVzJnRUlFQklXSGhZSUFnSWFFQklXS2hZQUZ0b0JGc0lCTkJiZ0FSQWFGaXdDSEJhNEFRUUNFaEFhRmlvV0FCYlVBUmJlQVFBVzBnRVczQUVJRUJJV0toWUNHaEFTRmdnV0lCb1FGaElTSUJJcUlBQWc2Z0VnM0FFQUlNZ0JJTW9CQUNETUFTRFNBUUFnM0FFZ3lnRTBJTWdCSUFBZ0VDQUVGZ1FBSEFnQ0dpQUVEQlFjSUJRZ0ZBQTZJTTBEc0FFRUdnUUFFaG9BQkJBSUFCd0lBaWdXRWhBY0VCWVlFaUFLR2dBU0toSTBFcjRCRWdBU0toUTJGTDRCSWhJVUVCWVVFQlE0R2dBc0Fob1Nrd1FFSEJBU011c0JGaElhR0J3c0FCUk1BQW9NbWdZWUJpQVVEam9TRW5rRUZCWUFIQWdBUENBY0ZBZ1FGQ0FhSUJBS0ROWUdJQklRT0JZQUtoSUFFb0lCRXVRQkFCTGtBUkxDQVRRUzhnRVNBQklxSEFBY3pBRWM1QUVBSE40QkhOb0JDQm9TSENRY0toQUFFTmdCRU1vQkFCRGNBUkRPQVFBUTZBRVEwQUVhSHY0Qklod1FIaXdBSHQwSEJDNFFHaEljSGdvV0FCQXNBaFlRcVFNRUVCQT0GAAAABAAAAAQAAAAHAAAACAAAAAgAAABpbnZhbGlkIGVudgABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAC0AAAABAAAAAAAAANQTAAABAAAA1BMAAAEAAACZo7K9/dvSmeqcYaRSv/7l3DxyZWRhY3RlZD4AARQAAAo="),Wt(Qt,5156,"AQAAAAkAAABjYW5ub3QgYWNjZXNzIGEgVGhyZWFkIExvY2FsIFN0b3JhZ2UgdmFsdWUgZHVyaW5nIG9yIGFmdGVyIGRlc3RydWN0aW9u6dHXzZypt8qe/QLPBs2fhrljbG9zdXJlIGludm9rZWQgcmVjdXJzaXZlbHkgb3IgYWZ0ZXIgYmVpbmcgZHJvcHBlZA=="),Wt(Qt,5312,"AQAAAAkAAABjYW5ub3QgYWNjZXNzIGEgVGhyZWFkIExvY2FsIFN0b3JhZ2UgdmFsdWUgZHVyaW5nIG9yIGFmdGVyIGRlc3RydWN0aW9uPHJlZGFjdGVkPg4VAAAK"),Wt(Qt,5416,"FgAAAAAAAAAEAAAABAAAABcAAAAYAAAAGQ=="),Wt(Qt,5452,"AQAAABoAAAAbAAAAHAAAAB8AAAAMAAAABAAAACAAAAAhAAAAIgAAAEFjY2Vzc0Vycm9ybWVtb3J5IGFsbG9jYXRpb24gb2YgIGJ5dGVzIGZhaWxlZAAAAH8VAAAVAAAAlBUAAA0AAABsaWJyYXJ5L3N0ZC9zcmMvYWxsb2MucnO0FQAAGAAAAGQBAAAJAAAAHwAAAAwAAAAEAAAAIwAAAAAAAAAIAAAABAAAACQAAAAAAAAACAAAAAQAAAAlAAAAJgAAACcAAAAoAAAAKQAAABAAAAAEAAAAKgAAACsAAAAsAAAALQAAAEVycm9yAAAALgAAAAwAAAAEAAAALwAAADAAAAAxAAAAY2FwYWNpdHkgb3ZlcmZsb3cAAABUFgAAEQAAAGxpYnJhcnkvYWxsb2Mvc3JjL3Jhd192ZWMucnNwFgAAHAAAABkAAAAF"),Wt(Qt,5796,"AQAAADIAAABhIGZvcm1hdHRpbmcgdHJhaXQgaW1wbGVtZW50YXRpb24gcmV0dXJuZWQgYW4gZXJyb3Igd2hlbiB0aGUgdW5kZXJseWluZyBzdHJlYW0gZGlkIG5vdGxpYnJhcnkvYWxsb2Mvc3JjL2ZtdC5ycwAAAhcAABgAAAB/AgAADgAAAC4uMDEyMzQ1Njc4OWFiY2RlZkJvcnJvd0Vycm9yQm9ycm93TXV0RXJyb3JhbHJlYWR5IGJvcnJvd2VkOiAAAABXFwAAEgAAAGFscmVhZHkgbXV0YWJseSBib3Jyb3dlZDogAAB0FwAAGgAAAAEAAAAAAAAAY2FsbGVkIGBPcHRpb246OnVud3JhcCgpYCBvbiBhIGBOb25lYCB2YWx1ZWluZGV4IG91dCBvZiBib3VuZHM6IHRoZSBsZW4gaXMgIGJ1dCB0aGUgaW5kZXggaXMgAAAAyxcAACAAAADrFwAAEgAAADogAAABAAAAAAAAABAYAAACAAAAfSB9bGlicmFyeS9jb3JlL3NyYy9mbXQvbnVtLnJzAAAnGAAAGwAAAGkAAAAXAAAAMHgwMDAxMDIwMzA0MDUwNjA3MDgwOTEwMTExMjEzMTQxNTE2MTcxODE5MjAyMTIyMjMyNDI1MjYyNzI4MjkzMDMxMzIzMzM0MzUzNjM3MzgzOTQwNDE0MjQzNDQ0NTQ2NDc0ODQ5NTA1MTUyNTM1NDU1NTY1NzU4NTk2MDYxNjI2MzY0NjU2NjY3Njg2OTcwNzE3MjczNzQ3NTc2Nzc3ODc5ODA4MTgyODM4NDg1ODY4Nzg4ODk5MDkxOTI5Mzk0OTU5Njk3OTg5OXJhbmdlIHN0YXJ0IGluZGV4ICBvdXQgb2YgcmFuZ2UgZm9yIHNsaWNlIG9mIGxlbmd0aCAAAB4ZAAASAAAAMBkAACIAAAByYW5nZSBlbmQgaW5kZXggZBkAABAAAAAwGQAAIgAAAHNsaWNlIGluZGV4IHN0YXJ0cyBhdCAgYnV0IGVuZHMgYXQgAIQZAAAWAAAAmhkAAA0AAABsaWJyYXJ5L2NvcmUvc3JjL3N0ci9wYXR0ZXJuLnJzALgZAAAfAAAAUgUAABIAAAC4GQAAHwAAAFIFAAAoAAAAuBkAAB8AAABFBgAAFQAAALgZAAAfAAAAcwYAABUAAAC4GQAAHwAAAHQGAAAVAAAA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"),Wt(Qt,9424,"OUBDRQkTuX6lECyUAAAAAMzmw2UGXPqVs2MxSrK7HM98AAAAAAAAAI/t6OZg4qum483gbyV0J139AAAAAAAAAAaZOQ1K0NpLv/6Sc+CRSeO5+QAAAAAAAFoEwwweZuq/rcRK9xUB6MgCiMWjAAAAAB51Ddk+JJ7tL8X+dm/vniRXAAAAAAAAAKq6AqNQsJn62IBX+TghGgAZT3b+Faep2PY5Yt22IOa9YwAAAAAAAACe0K/IQa2MYefkVjY8nPFCfgAAAAAAAABBqR9yhg3H59VfScHrhJG1z4wOGdMlc5weAuRHxnEnGu8WSAAAAAAA0TVEdJjE8zHttNK9MlALX6v0vhOFEcR6QdfGAAAAAACvlsejx7RnUBzDHIF5zb4lSS8XTSS9"),Wt(Qt,9728,"rwU8mzcNu2+gzT7V6UnIwZL3FmFo0OlOWRDuAAAAAABP5fuk2bW2Oa6gmlI5BQAAr1QqNvxDPc4YN1m/d8zL5SwAueUAAAAAk3Q6dd36KzxMI9wMS5z6EwGRMVjjAAAAmNCb8ybAObr4fnQ/kL3j8DydwuIAAAAAdcPUv/slX66n+w==");var ke=[null,function(e,t){return t|=0,0|we(n[(e|=0)>>2],n[e+4>>2],t)},function(e,t){return 0|Re(e|=0,t|=0,55)},function(e,t){return t|=0,0|we(n[4+(e|=0)>>2],n[e+8>>2],t)},function(e,t){return 0|Re(e|=0,t|=0,87)},function(e){e|=0;var t=0,r=0;return n[2725]||(f=t=f-16|0,e=e&&(r=n[e>>2],n[e>>2]=0,r)?n[e+4>>2]:0|Ut(Error),r=n[2726],n[2726]=e,e=n[2725],n[2725]=1,n[t+12>>2]=r,n[t+8>>2]=e,e&&ue(t+12|0),f=t+16|0),10904},function(e){ue(e|=0)},function(e,t,r,i){var o;return e|=0,t|=0,r|=0,i|=0,f=o=f-16|0,n[o+12>>2]=n[e>>2],t=I(e=o+12|0,t,r,i),ue(e),f=o+16|0,0|t},I,function(e,r){e|=0;var o,a=0;f=e=f-16|0,a=0|ke[n[n[24+(r|=0)>>2]+12>>2]](n[r+20>>2],5492,11),t[5+(o=e+8|0)|0]=0,t[o+4|0]=a,n[o>>2]=r,r=!!(0|(a=i[o+4|0]));e:if(i[o+5|0]){if(r=1,!a){if(r=n[o>>2],!(4&i[r+28|0])){r=0|ke[n[n[r+24>>2]+12>>2]](n[r+20>>2],6181,2),t[o+4|0]=r;break e}r=0|ke[n[n[r+24>>2]+12>>2]](n[r+20>>2],6180,1)}t[o+4|0]=r}return f=e+16|0,0|r},function(e,t,r){return t|=0,r|=0,(e|=0)||(Ee(),Yt()),0|ke[n[t+16>>2]](e,r)},function(e,t,r,i){t|=0,r|=0,i|=0,(e|=0)||(Ee(),Yt()),ke[n[t+16>>2]](e,r,i)},function(e,t,r,i,o){t|=0,r=+r,i|=0,o|=0,(e|=0)||(Ee(),Yt()),ke[n[t+16>>2]](e,r,i,o)},ae,oe,function(e,t,r,i,o,s){e|=0,r|=0,i|=0,o|=0,s|=0;var u,c,l,d=0,h=0;f=u=f-32|0,(t|=0)||(Ee(),Yt()),c=u+20|0,ke[n[r+16>>2]](c,t,i,o,s),f=r=f-16|0,l=u+8|0;e:{t:{if((t=n[c+8>>2])>>>0<a[c>>2]){s=r+8|0,o=-2147483647;r:if(i=n[c>>2]){if(o=i<<2,h=n[c+4>>2],t){if(d=M(h,4,o,4,i=t<<2),o=4,!d)break r}else d=4,le(h,4,o);n[c>>2]=t,n[c+4>>2]=d,o=-2147483647}if(n[s+4>>2]=i,n[s>>2]=o,-2147483647!=(0|(t=n[r+8>>2])))break t;t=n[c+8>>2]}n[l+4>>2]=t,n[l>>2]=n[c+4>>2],f=r+16|0;break e}ce(t,n[r+12>>2]),Yt()}pe(u,n[u+8>>2],n[u+12>>2]),t=n[u+4>>2],n[e>>2]=n[u>>2],n[e+4>>2]=t,f=u+32|0},oe,function(e,t,r,i,o,a){t|=0,r|=0,i|=0,o|=0,a|=0,(e|=0)||(Ee(),Yt()),ke[n[t+16>>2]](e,r,i,o,a)},function(e,t,r,i,o){e|=0,t|=0,r=c(r),i|=0,o|=0,e||(Ee(),Yt()),ke[n[t+16>>2]](e,r,i,o)},oe,ae,function(e,t,r,i,o,a){return t|=0,r|=0,i|=0,o|=0,a|=0,(e|=0)||(Ee(),Yt()),0|ke[n[t+16>>2]](e,r,i,o,a)},function(e){e|=0;var t=0;return n[2733]||(e&&(t=n[e>>2],n[e>>2]=0,t)?(t=n[e+4>>2],e=n[e+8>>2]):(t=0,e=0),n[2734]=t,n[2735]=e,n[2733]=1),10936},function(e,t,r,i){e|=0,r|=0,i|=0;var o,a=0;f=i=f-16|0,o=n[(t|=0)>>2],n[i+12>>2]=n[o>>2],a=1,t=P(r=(t=u(t=r+2|0,t))>>>0<=2048?2048:t,4,i+12|0,1,5444),n[o>>2]=n[i+12>>2],t&&(n[t+4>>2]=0,n[t+8>>2]=0,n[t>>2]=t+(r<<2)|2,a=0),n[e+4>>2]=t,n[e>>2]=a,f=i+16|0},function(e,t){return 0|t},function(e){return 0},function(e,t,r,i){e|=0,t|=0,-1!=(0|(r=Le((t=((t=(r|=0)<<2)>>>0>(r=16384+((i|=0)<<3)|0)>>>0?t:r)+65543|0)>>>16|0)))?(n[4+(r<<=16)>>2]=0,n[r+8>>2]=0,n[r>>2]=(-65536&t)+r|2,t=0):(r=0,t=1),n[e+4>>2]=r,n[e>>2]=t},function(e,t){return 512},function(e){return 1},function(e,t){return t|=0,0|w(n[(e|=0)>>2],t)},function(e,t){e|=0,t|=0,f=e=f-48|0,i[10928]&&(n[e+12>>2]=2,n[e+8>>2]=5540,n[e+20>>2]=1,n[e+24>>2]=0,n[e+44>>2]=t,n[e+32>>2]=e+44,n[e+36>>2]=29,n[e+16>>2]=e+32,X(e+8|0,5580),Yt()),f=e+48|0},se,function(e,t,r){t|=0,r|=0;var i=0;return i=n[8+(e|=0)>>2],n[e>>2]-i>>>0<r>>>0&&(C(e,i,r),i=n[e+8>>2]),Te(n[e+4>>2]+i|0,t,r),n[e+8>>2]=r+i,0},function(e,r){e|=0;var i,o=0,a=0,s=0,u=0,c=0,l=0;f=i=f-16|0;e:{t:{r:{if((r|=0)>>>0>=128){if(n[i+12>>2]=0,r>>>0<2048)break r;if(r>>>0<65536){t[i+14|0]=63&r|128,t[i+12|0]=r>>>12|224,t[i+13|0]=r>>>6&63|128,r=3;break t}t[i+15|0]=63&r|128,t[i+14|0]=r>>>6&63|128,t[i+13|0]=r>>>12&63|128,t[i+12|0]=r>>>18&7|240,r=4;break t}(0|(c=n[e+8>>2]))==n[e>>2]&&(f=o=f-32|0,-1==(0|(s=n[e>>2]))&&(ce(0,0),Yt()),l=1,u=~(a=(a=(a=s<<1)>>>0>(u=s+1|0)>>>0?a:u)>>>0<=8?8:a)>>>31|0,s?(n[o+28>>2]=s,n[o+20>>2]=n[e+4>>2]):l=0,n[o+24>>2]=l,R(o+8|0,u,a,o+20|0),n[o+8>>2]&&(ce(n[o+12>>2],n[o+16>>2]),Yt()),s=n[o+12>>2],n[e>>2]=a,n[e+4>>2]=s,f=o+32|0),n[e+8>>2]=c+1,t[n[e+4>>2]+c|0]=r;break e}t[i+13|0]=63&r|128,t[i+12|0]=r>>>6|192,r=2}o=n[e+8>>2],r>>>0>n[e>>2]-o>>>0&&(C(e,o,r),o=n[e+8>>2]),Te(n[e+4>>2]+o|0,i+12|0,r),n[e+8>>2]=r+o}return f=i+16|0,0},function(e,t){return 0|v(e|=0,5468,t|=0)},function(e,t){n[8+(e|=0)>>2]=1153380053,n[e+12>>2]=2048926538,n[e>>2]=1668301419,n[e+4>>2]=438013621},function(e,t){n[8+(e|=0)>>2]=-691315347,n[e+12>>2]=1676365868,n[e>>2]=1470513528,n[e+4>>2]=-1182065807},function(e,t){return 0|fe(t|=0,n[(e|=0)>>2],n[e+4>>2])},function(e,t){var r,i;if(e|=0,r=n[4+(t|=0)>>2],i=n[t>>2],t=_e(8,4))return n[t+4>>2]=r,n[t>>2]=i,n[e+4>>2]=5612,void(n[e>>2]=t);be(4,8),Yt()},function(e,t){t|=0,n[4+(e|=0)>>2]=5612,n[e>>2]=t},function(e,t){var r;e|=0,r=n[4+(t|=0)>>2],n[e>>2]=n[t>>2],n[e+4>>2]=r},function(e){var t;-2147483648!=(-2147483648|(t=n[(e|=0)>>2]))&&ge(n[e+4>>2],t,1)},function(e,t){t|=0;var r,i=0,o=0,a=0;return f=r=f-32|0,-2147483648==n[(e|=0)>>2]?(e=n[e+12>>2],a=n[4+(o=e+16|0)>>2],n[(i=r+24|0)>>2]=n[o>>2],n[i+4>>2]=a,a=n[4+(o=e+8|0)>>2],n[(i=r+16|0)>>2]=n[o>>2],n[i+4>>2]=a,i=n[e+4>>2],n[r+8>>2]=n[e>>2],n[r+12>>2]=i,e=v(n[t+20>>2],n[t+24>>2],r+8|0)):e=fe(t,n[e+4>>2],n[e+8>>2]),f=r+32|0,0|e},function(e,t){e|=0;var r,i=0,o=0,a=0,s=0,u=0;if(f=r=f+-64|0,-2147483648==n[(t|=0)>>2]&&(o=n[t+12>>2],n[(a=r+36|0)>>2]=0,n[r+28>>2]=0,n[r+32>>2]=1,u=n[4+(s=o+16|0)>>2],n[(i=r+56|0)>>2]=n[s>>2],n[i+4>>2]=u,u=n[4+(s=o+8|0)>>2],n[(i=r+48|0)>>2]=n[s>>2],n[i+4>>2]=u,i=n[o+4>>2],n[r+40>>2]=n[o>>2],n[r+44>>2]=i,v(r+28|0,5468,r+40|0),i=n[a>>2],n[r+24>>2]=i,a=n[r+32>>2],o=n[r+28>>2],n[r+16>>2]=o,n[r+20>>2]=a,n[t+8>>2]=i,n[t>>2]=o,n[t+4>>2]=a),o=n[t>>2],a=n[t+4>>2],n[t>>2]=0,n[t+4>>2]=1,t=t+8|0,n[(i=r+8|0)>>2]=n[t>>2],n[t>>2]=0,n[r>>2]=o,n[r+4>>2]=a,t=_e(12,4))return o=n[r+4>>2],n[t>>2]=n[r>>2],n[t+4>>2]=o,n[t+8>>2]=n[i>>2],n[e+4>>2]=5596,n[e>>2]=t,void(f=r- -64|0);be(4,12),Yt()},function(e,t){e|=0;var r,i=0,o=0,a=0,s=0,u=0;f=r=f-48|0,-2147483648==n[(t|=0)>>2]&&(o=n[t+12>>2],n[(a=r+20|0)>>2]=0,n[r+12>>2]=0,n[r+16>>2]=1,u=n[4+(s=o+16|0)>>2],n[(i=r+40|0)>>2]=n[s>>2],n[i+4>>2]=u,u=n[4+(s=o+8|0)>>2],n[(i=r+32|0)>>2]=n[s>>2],n[i+4>>2]=u,i=n[o+4>>2],n[r+24>>2]=n[o>>2],n[r+28>>2]=i,v(r+12|0,5468,r+24|0),i=n[a>>2],n[r+8>>2]=i,o=n[r+16>>2],a=n[r+12>>2],n[r>>2]=a,n[r+4>>2]=o,n[t+8>>2]=i,n[t>>2]=a,n[t+4>>2]=o),n[e+4>>2]=5596,n[e>>2]=t,f=r+48|0},function(e,t){n[(e|=0)>>2]=0},se,function(e,t,r){t|=0,r|=0;var i=0;return i=n[8+(e|=0)>>2],n[e>>2]-i>>>0<r>>>0&&(N(e,i,r),i=n[e+8>>2]),Te(n[e+4>>2]+i|0,t,r),n[e+8>>2]=r+i,0},function(e,r){e|=0;var i,o=0,a=0,s=0,u=0,c=0,l=0;f=i=f-16|0;e:{t:{r:{if((r|=0)>>>0>=128){if(n[i+12>>2]=0,r>>>0<2048)break r;if(r>>>0<65536){t[i+14|0]=63&r|128,t[i+12|0]=r>>>12|224,t[i+13|0]=r>>>6&63|128,r=3;break t}t[i+15|0]=63&r|128,t[i+14|0]=r>>>6&63|128,t[i+13|0]=r>>>12&63|128,t[i+12|0]=r>>>18&7|240,r=4;break t}(0|(c=n[e+8>>2]))==n[e>>2]&&(f=o=f-32|0,-1==(0|(s=n[e>>2]))&&(ce(0,0),Yt()),l=1,u=~(a=(a=(a=s<<1)>>>0>(u=s+1|0)>>>0?a:u)>>>0<=8?8:a)>>>31|0,s?(n[o+28>>2]=s,n[o+20>>2]=n[e+4>>2]):l=0,n[o+24>>2]=l,B(o+8|0,u,a,o+20|0),n[o+8>>2]&&(ce(n[o+12>>2],n[o+16>>2]),Yt()),s=n[o+12>>2],n[e>>2]=a,n[e+4>>2]=s,f=o+32|0),n[e+8>>2]=c+1,t[n[e+4>>2]+c|0]=r;break e}t[i+13|0]=63&r|128,t[i+12|0]=r>>>6|192,r=2}o=n[e+8>>2],r>>>0>n[e>>2]-o>>>0&&(N(e,o,r),o=n[e+8>>2]),Te(n[e+4>>2]+o|0,i+12|0,r),n[e+8>>2]=r+o}return f=i+16|0,0},function(e,t){return 0|v(e|=0,5692,t|=0)},function(e,t){return 0|fe(t|=0,5684,5)},function(e,t){return 0|ke[n[n[24+(t|=0)>>2]+12>>2]](n[t+20>>2],5961,14)},function(e,t){return 0|ke[n[n[24+(t|=0)>>2]+12>>2]](n[t+20>>2],5950,11)},function(e,t){return t|=0,0|ke[n[n[4+(e|=0)>>2]+12>>2]](n[e>>2],t)},function(e,t){return 0|A(t|=0,n[(e|=0)>>2],n[e+4>>2])},function(e,t){var r=0;return r=1,b(e|=0,t|=0)||0|ke[n[n[t+24>>2]+12>>2]](n[t+20>>2],5932,2)||(r=b(e+4|0,t)),0|r},function(e,a){e|=0;var s,u,c,d,h=0,p=0,A=0,g=0,v=0,y=0,m=0;f=s=f-16|0,m=1,u=n[20+(a|=0)>>2],d=n[a+24>>2],c=n[d+16>>2];e:if(!(0|ke[0|c](u,39))){h=s+4|0,f=A=f-16|0;t:{r:{n:{i:{o:{a:{s:{u:{c:{l:{f:{switch(0|(p=n[e>>2])){case 13:break c;case 9:break l;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 35:case 36:case 37:case 38:break f;case 34:break i;case 39:break o;case 0:break a;case 10:break u}if(92==(0|p))break s}if(p>>>0<768)break i;e=p<<11,v=33,a=33;f:{for(;;){if((0|(y=n[8556+((v=(v>>>1|0)+g|0)<<2)>>2]<<11))!=(0|e)){if(v=(a=e>>>0<y>>>0?v:a)-(g=e>>>0>y>>>0?v+1|0:g)|0,a>>>0>g>>>0)continue;break f}break}g=v+1|0}f:{d:{if(g>>>0<=32){e=n[(y=8556+(v=g<<2)|0)>>2]>>>21|0,a=727,g=32==(0|g)||(a=n[y+4>>2]>>>21|0,g)?2097151&n[v+8552>>2]:0;h:if(~e+a|0){for(y=p-g|0,v=e>>>0<=727?727:e,a=a-1|0,g=0;;){if((0|e)==(0|v))break d;if(y>>>0<(g=i[e+8688|0]+g|0)>>>0)break h;if((0|a)==(0|(e=e+1|0)))break}e=a}e&=1;break f}F(g,33,8480),Yt()}F(v,727,8496),Yt()}if(!e)break i;if(t[A+8|0]=0,r[A+6>>1]=0,t[A+15|0]=125,t[A+14|0]=i[5934+(15&p)|0],t[A+13|0]=i[5934+(p>>>4&15)|0],t[A+12|0]=i[5934+(p>>>8&15)|0],t[A+11|0]=i[5934+(p>>>12&15)|0],t[A+10|0]=i[5934+(p>>>16&15)|0],t[A+9|0]=i[5934+(p>>>20&15)|0],(a=(e=l(1|p)>>>2|0)-2|0)>>>0>=10)break n;t[a+(A+6|0)|0]=92,t[0|(e=5+(e+A|0)|0)]=117,t[e+1|0]=123,e=o[A+10>>1]|o[A+12>>1]<<16,p=o[A+6>>1]|o[A+8>>1]<<16,t[0|h]=p,t[h+1|0]=p>>>8,t[h+2|0]=p>>>16,t[h+3|0]=p>>>24,t[h+4|0]=e,t[h+5|0]=e>>>8,t[h+6|0]=e>>>16,t[h+7|0]=e>>>24,e=h+8|0,p=o[A+14>>1],t[0|e]=p,t[e+1|0]=p>>>8,t[h+11|0]=10,t[h+10|0]=a;break t}r[h+10>>1]=512,r[h+2>>1]=0,r[h+4>>1]=0,r[h+6>>1]=0,r[h+8>>1]=0,r[h>>1]=29788;break t}r[h+10>>1]=512,r[h+2>>1]=0,r[h+4>>1]=0,r[h+6>>1]=0,r[h+8>>1]=0,r[h>>1]=29276;break t}r[h+10>>1]=512,r[h+2>>1]=0,r[h+4>>1]=0,r[h+6>>1]=0,r[h+8>>1]=0,r[h>>1]=28252;break t}r[h+10>>1]=512,r[h+2>>1]=0,r[h+4>>1]=0,r[h+6>>1]=0,r[h+8>>1]=0,r[h>>1]=23644;break t}r[h+10>>1]=512,r[h+2>>1]=0,r[h+4>>1]=0,r[h+6>>1]=0,r[h+8>>1]=0,r[h>>1]=12380;break t}r[h+10>>1]=512,r[h+2>>1]=0,r[h+4>>1]=0,r[h+6>>1]=0,r[h+8>>1]=0,r[h>>1]=10076;break t}i:{o:if(!(p>>>0<32)){a:{if(e=1,!(p>>>0<127)){if(p>>>0<65536)break a;s:{if(p>>>0>=131072){if(p-205744>>>0<712016|p-201547>>>0<5|p-195102>>>0<1506|p-192094>>>0<2466|p-191457>>>0<15|p-183970>>>0<14|178206==(-2&p))break o;if(173792!=(-32&p))break s;break o}e=E(p,7036,44,7124,196,7320,450);break i}e=0,p-177978>>>0<6||(e=p-1114112>>>0<4294771184)}break i}e=E(p,7770,40,7850,288,8138,301);break i}e=0}if(e){n[h+4>>2]=p,t[0|h]=128;break t}if(t[A+8|0]=0,r[A+6>>1]=0,t[A+15|0]=125,t[A+14|0]=i[5934+(15&p)|0],t[A+13|0]=i[5934+(p>>>4&15)|0],t[A+12|0]=i[5934+(p>>>8&15)|0],t[A+11|0]=i[5934+(p>>>12&15)|0],t[A+10|0]=i[5934+(p>>>16&15)|0],t[A+9|0]=i[5934+(p>>>20&15)|0],(a=(e=l(1|p)>>>2|0)-2|0)>>>0>=10)break r;t[a+(A+6|0)|0]=92,t[0|(e=5+(e+A|0)|0)]=117,t[e+1|0]=123,e=o[A+10>>1]|o[A+12>>1]<<16,p=o[A+6>>1]|o[A+8>>1]<<16,t[0|h]=p,t[h+1|0]=p>>>8,t[h+2|0]=p>>>16,t[h+3|0]=p>>>24,t[h+4|0]=e,t[h+5|0]=e>>>8,t[h+6|0]=e>>>16,t[h+7|0]=e>>>24,e=h+8|0,p=o[A+14>>1],t[0|e]=p,t[e+1|0]=p>>>8,t[h+11|0]=10,t[h+10|0]=a;break t}F(a,10,8540),Yt()}F(a,10,8540),Yt()}f=A+16|0;t:{if(128==i[s+4|0]){if(!(0|ke[0|c](u,n[s+8>>2])))break t;break e}if(e=i[s+14|0],0|ke[n[d+12>>2]](u,e+(s+4|0)|0,i[s+15|0]-e|0))break e}m=0|ke[0|c](u,39)}return f=s+16|0,0|m}];function Le(c){c|=0;var l=e.byteLength/65536|0,f=l+c|0;if(l<f&&f<65536){var d=new ArrayBuffer(u(f,65536));new Int8Array(d).set(t),t=new Int8Array(d),r=new Int16Array(d),n=new Int32Array(d),i=new Uint8Array(d),o=new Uint16Array(d),a=new Uint32Array(d),new Float32Array(d),s=new Float64Array(d),e=d,Qt=i}return l}return{memory:Object.create(Object.prototype,{u:{value:Le},buffer:{get:function(){return e}}}),generate_rid:function(e,r){e|=0,r|=0;var o,a,u,c,l,h,A,g,v,m,_,E,b,w,I,S,C,N,B=0,O=0,R=0,D=0,k=0,M=0,x=0,U=0,P=0,Q=0,F=0,q=0,G=0,Z=0,ee=0,re=0,oe=0,ae=0,se=0,le=0,fe=0,de=0,he=0,Ee=0,we=0,Ie=0,Be=0,Re=0,De=0,Le=0,Me=0,xe=0,Ue=0,Pe=0,Qe=0,Fe=0,qe=0,Ge=0,He=0,je=0,We=0,Ye=0,ze=0,Je=0;f=a=f-32|0,n[a+16>>2]=r,w=a+20|0,le=a+16|0,b=B=f-16|0,f=B,n[2731]||(t[9848]=23^i[9834],t[9849]=83^i[9835],t[9851]=226^i[9837],t[9852]=145^i[9838],t[9854]=77^i[9840],t[9855]=194^i[9841],t[9856]=171^i[9842],r=i[9836],t[9850]=(r-(r<<1&242)|0)-7,r=i[9839],t[9853]=(r-(r<<1&42)|0)-107,t[9857]=134^i[9843],t[9824]=125^i[9811],t[9826]=253^i[9813],t[9827]=137^i[9814],t[9828]=118^i[9815],t[9829]=94^i[9816],t[9830]=252^i[9817],t[9831]=84^i[9818],t[9832]=44^i[9819],r=i[9812],t[9825]=41+(r-(r<<1&82)|0),t[9833]=130^i[9820],t[9800]=68^i[9785],t[9801]=61^i[9786],t[9803]=40^i[9788],t[9804]=186^i[9789],t[9805]=174^i[9790],t[9806]=151^i[9791],r=i[9787],t[9802]=~((43|r)&(212|~r)),r=i[9792],t[9807]=95+(r-(r<<1&190)|0),t[9808]=105^i[9793],r=i[9794],t[9809]=(r-(r<<1&172)|0)-42,t[9810]=139^i[9795],r=i[9765],t[9776]=(r-(r<<1&136)|0)-60,r=i[9766],t[9777]=~((43|r)&(212|~r)),t[9778]=88^i[9767],t[9779]=221^i[9768],t[9780]=197^i[9769],t[9781]=197^i[9770],t[9782]=32^i[9771],r=i[9772],t[9783]=92+(r-(r<<1&184)|0),t[9784]=116^i[9773]),n[2731]=1,f=r=u=B-32|0,f=r=l=r-32|0,f=Z=r-32|0,f=oe=Z-32|0,f=r=v=oe-16|0,f=r=m=r-16|0,f=r=_=r-16|0,f=F=r-16|0,f=r=he=F-16|0,f=c=r-16|0,f=r=P=c-16|0,f=se=r-16|0,f=h=se-16|0,f=r=D=h-16|0,f=r=Qe=r-16|0,f=A=r-16|0,f=r=E=A-16|0,f=r=x=r-16|0,f=r=Fe=r-16|0,f=Ee=(f=g=r-16|0)-16|0,te(Ee+8|0,0|(S=Nt(4204,804),C={},N=function(){var e=[];function t(e,t,r){for(var n=[],i=0;i++<t;)n.push(e+=r);return n}var r=t(0,43,0).concat([62,0,62,0,63]).concat(t(51,10,1)).concat(t(0,8,0)).concat(t(0,25,1)).concat([0,0,0,0,63,0]).concat(t(25,26,1));function n(e){"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("");for(var t,n,i=String(e).replace(/[=]+$/,""),o=i.length,a=0,s=0,u=[];s<o;s++)~(n=r[i.charCodeAt(s)])&&(t=a%4?64*t+n:n,a++%4)&&u.push(255&t>>(-2*a&6));return u}function i(e){return e>>1^-(1&e)}return function(t,r){var o=function(e){for(var t=[],r=typeof Int8Array<"u"?new Int8Array(n(e)):n(e),o=r.length,a=0;o>a;){var s=r[a++],u=127&s;s>=0||(u|=(127&(s=r[a++]))<<7,s>=0||(u|=(127&(s=r[a++]))<<14,s>=0||(u|=(127&(s=r[a++]))<<21,s>=0||(u|=(s=r[a++])<<28)))),t.push(i(u))}return t}(t),a=function(t,r,n,i,s){return function u(){for(var c,l,f,d=[n,i,r,this,arguments,u,o,0],h=void 0,p=t,A=[];;)try{for(;;)switch(o[++p]){case 0:d[o[++p]]+=String.fromCharCode(o[++p]),d[o[++p]]+=String.fromCharCode(o[++p]);break;case 1:d[o[++p]]=d[o[++p]].call(d[o[++p]],d[o[++p]]);break;case 2:d[o[++p]]=d[o[++p]][o[++p]],d[o[++p]]=d[o[++p]][o[++p]];break;case 3:d[o[++p]]=!d[o[++p]];break;case 4:d[o[++p]]=d[o[++p]][d[o[++p]]];break;case 5:d[o[++p]][o[++p]]=d[o[++p]];break;case 6:d[o[++p]]=d[o[++p]]%d[o[++p]];break;case 7:A.pop();break;case 8:return d[o[++p]];case 9:d[o[++p]]=c;break;case 10:d[o[++p]]=d[o[++p]]===o[++p];break;case 11:d[o[++p]]=h;break;case 12:d[o[++p]]=d[o[++p]].call(h);break;case 13:d[o[++p]]=o[++p];break;case 14:d[o[++p]]=d[o[++p]];break;case 15:d[o[++p]]=d[o[++p]][o[++p]];break;case 16:throw d[o[++p]];case 17:d[o[++p]][d[o[++p]]]=d[o[++p]];break;case 18:d[o[++p]]={};break;case 19:d[o[++p]]=d[o[++p]]==d[o[++p]];break;case 20:d[o[++p]]=d[o[++p]].call(h,d[o[++p]],d[o[++p]]);break;case 21:d[o[++p]]="";break;case 22:for(l=[],f=o[++p];f>0;f--)l.push(d[o[++p]]);d[o[++p]]=a(p+o[++p],l,n,i,s);try{Object.defineProperty(d[o[p-1]],"length",{value:o[++p],configurable:!0,writable:!1,enumerable:!1})}catch{}break;case 23:d[o[++p]]=d[o[++p]].call(d[o[++p]],d[o[++p]],d[o[++p]]);break;case 24:d[o[++p]]=typeof d[o[++p]];break;case 25:A.push(p+o[++p]);break;case 26:d[o[++p]]+=String.fromCharCode(o[++p]),d[o[++p]]=d[o[++p]][d[o[++p]]];break;case 27:d[o[++p]]+=String.fromCharCode(o[++p]);break;case 28:d[o[++p]]=Array(o[++p]);break;case 29:p+=d[o[++p]]?o[++p]:o[(++p,++p)];break;case 30:d[o[++p]]=d[o[++p]]^o[++p]}}catch(t){if(A.length>0&&(e=[]),c=t,e.push(p),0===A.length)throw s?s(t,d,e):t;p=A.pop(),e.pop()}}};return r?void 0:a}}(),N(S,!1)(368,[],{get _(){return void 0===C?void 0:C},set _(e){C=e},get undefined(){},set undefined(e){},get Array(){return typeof Array>"u"?void 0:Array},set Array(e){Array=e},get String(){return typeof String>"u"?void 0:String},set String(e){String=e}},[void 0],void 0)(),Ut((function(e,t){return C._(e,t)})))),r=ne(n[Ee+8>>2],n[Ee+12>>2]);e:{t:{if(B=_e(4,4)){if(n[B>>2]=r,n[2465])break t;n[2465]=-1,q=n[2466],n[2466]=B,B=n[2467],n[2467]=5008,q&&((r=n[B>>2])&&ke[0|r](q),(r=n[B+4>>2])&&ge(q,r,n[B+8>>2])),n[2465]=n[2465]+1,f=Ee+16|0;break e}be(4,4),Yt()}f=r=f-48|0,n[r+12>>2]=1,n[r+8>>2]=5996,n[r+20>>2]=1,n[r+24>>2]=0,n[r+32>>2]=r+47,n[r+36>>2]=51,n[r+16>>2]=r+32,X(r+8|0,4108),Yt()}for(ze=x,Je=Y(le,9848,10),n[ze>>2]=Je,J(Fe,x),n[g+8>>2]=n[Fe+8>>2],r=n[Fe+4>>2],n[g>>2]=n[Fe>>2],n[g+4>>2]=r,ue(x),ze=E,Je=Y(le,9824,10),n[ze>>2]=Je,ze=D,Je=Y(E,9800,11),n[ze>>2]=Je,J(Qe,D),n[A+8>>2]=n[Qe+8>>2],r=n[Qe+4>>2],n[A>>2]=n[Qe>>2],n[A+4>>2]=r,ue(D),ze=P,Je=Y(le,9776,9),n[ze>>2]=Je,J(se,P),-2147483648==n[se>>2]&&(ye(4108),Yt()),r=n[se+4>>2],n[h>>2]=n[se>>2],n[h+4>>2]=r,n[h+8>>2]=n[se+8>>2],ue(P),ze=F,Je=0|Ut(Date.now().toString()),n[ze>>2]=Je,J(he,F),n[c+8>>2]=n[he+8>>2],r=n[he+4>>2],n[c>>2]=n[he>>2],n[c+4>>2]=r,ue(F),n[Z+28>>2]=3,n[Z+24>>2]=h,n[Z+20>>2]=3,n[Z+16>>2]=A,n[Z+12>>2]=3,n[Z+8>>2]=g,n[Z+4>>2]=3,n[Z>>2]=c,n[oe+4>>2]=4,n[oe>>2]=5044,n[oe+12>>2]=4,n[oe+16>>2]=0,n[oe+8>>2]=Z,$(v,oe),Qe=n[v+4>>2],Fe=n[v+8>>2],r=0,x=0,P=0,le=0,oe=0,D=0,q=0,Z=0,f=o=f-48|0,t[o+15|0]=0,Ee=F=f,k=-1429376169;;){e:{t:{r:{n:{i:{o:{a:{s:{u:{c:{l:{if(-2145590374!=(0|k)){f:{d:{h:{p:{A:{g:{v:{y:{m:{_:{E:{b:{w:{if(-2106163477!=(0|k)){if(-2063844864==(0|k))break l;I:{T:{S:{C:{N:{B:{O:{R:{D:{k:{L:{M:{x:{U:{P:{Q:{F:{q:{G:{if(-1919514810!=(0|k)){if(-1887097436==(0|k))break A;if(-1871629757==(0|k))break b;if(-1701645334==(0|k))break u;if(-1589749249==(0|k))break p;H:{j:{if(-1521141104!=(0|k)){if(-1429376169==(0|k))break g;if(-1024081639==(0|k))break n;if(-1014470820==(0|k))break E;if(-961561083==(0|k))break g;if(-909905514==(0|k))break n;if(-895085079==(0|k))break s;if(-884072254==(0|k))break Q;if(-803869363==(0|k))break H;if(-709168647==(0|k))break M;if(-705138616==(0|k))break o;if(-576487749==(0|k))break N;if(-553656612==(0|k))break D;if(-523022849==(0|k))break S;if(-353027190==(0|k))break B;if(-287165845==(0|k))break r;if(-172428594==(0|k))break c;if(-84041437==(0|k))break m;if(-54221996==(0|k))break w;if(31415072==(0|k))break P;if(37738597==(0|k))break v;if(190157504==(0|k))break O;if(203070249==(0|k))break F;if(361457935==(0|k))break T;if(386220146==(0|k))break t;if(459708319==(0|k))break U;if(475087046==(0|k))break I;if(654763462==(0|k))break i;if(692026952==(0|k))break A;if(692803341==(0|k))break y;if(715458083==(0|k))break p;if(849717998==(0|k))break R;if(995112486==(0|k))break d;if(1053666404==(0|k))break f;if(1074143936==(0|k))break x;if(1076880114==(0|k))break _;if(1188487551==(0|k))break h;if(1224680090==(0|k))break k;if(1393975902==(0|k))break G;if(1544967175==(0|k))break C;if(1628509535==(0|k))break j;if(1689882279==(0|k))break a;if(1727780372==(0|k))break r;if(1861251179==(0|k))break q;if(1887802420==(0|k))break L;if(2136135584==(0|k))break i;if(-762936614!=(0|k))continue;f=Ee,r=1&P;break e}we=n[2730],k=1628509535;continue}k=-1887097436;continue}de=!we,k=-1919514810;continue}k=715458083;continue}k=1861251179;continue}k=de?995112486:-172428594;continue}t[9760]=154^i[9750],t[9761]=58^i[9751],t[9763]=115^i[9753],t[9764]=133^i[9754],t[9728]=199^i[9696],t[9729]=226^i[9697],t[9730]=179^i[9698],B=i[9752],t[9762]=56+(B-(B<<1&112)|0),B=i[9699],t[9731]=(B-(B<<1&166)|0)-45,t[9732]=180^i[9700],t[9733]=142^i[9701],t[9734]=72^i[9702],t[9735]=127^i[9703],t[9736]=112^i[9704],t[9737]=170^i[9705],t[9738]=126^i[9706],t[9740]=46^i[9708],t[9741]=140^i[9709],B=i[9707],t[9739]=(B-(B<<1&92)|0)-82,t[9743]=73^i[9711],t[9744]=38^i[9712],t[9745]=90^i[9713],t[9747]=99^i[9715],t[9748]=78^i[9716],t[9664]=189^i[9632],B=i[9710],t[9742]=(B-(B<<1&250)|0)-3,B=i[9714],t[9746]=~((140|B)&(115|~B)),B=i[9717],t[9749]=(B-(B<<1&156)|0)-50,t[9665]=43^i[9633],t[9666]=61^i[9634],t[9667]=177^i[9635],Pe=i[9636],k=-884072254;continue}k=-2145590374;continue}t[9670]=190^i[9638],t[9671]=154^i[9639],t[9672]=163^i[9640],t[9673]=229^i[9641],t[9674]=108^i[9642],t[9675]=54^i[9643],t[9676]=132^i[9644],t[9677]=100^i[9645],t[9668]=(Pe-(Pe<<1&48)|0)-104,B=i[9637],t[9669]=(B-(B<<1&124)|0)-66,t[9678]=32^i[9646],t[9681]=65^i[9649],t[9682]=139^i[9650],B=i[9647],t[9679]=(B-(B<<1&210)|0)-23,B=i[9648],t[9680]=124+(B-(B<<1&248)|0),Ie=41^i[9651],k=459708319;continue}k=1074143936;continue}t[9683]=Ie,t[9684]=178^i[9652],t[9685]=20^i[9653],t[9686]=95^i[9654],t[9688]=193^i[9656],t[9689]=124^i[9657],t[9690]=59^i[9658],B=i[9655],t[9687]=110+(B-(B<<1&220)|0),k=-172428594;continue}n[2730]=1,f=B=xe=F-16|0,f=B=Be=B-16|0,f=B=fe=B-16|0,f=B=Z=B-16|0,f=F=Re=B-16|0,k=1887802420;continue}k=-895085079;continue}t[0|Re]=0,k=-553656612;continue}k=-705138616;continue}T(Re),Me=!i[0|Re],k=190157504;continue}r=1,k=Me?-353027190:692803341;continue}ze=Z,Je=0|Ut(function(){try{throw Error()}catch(e){return e}}()),n[ze>>2]=Je,ze=fe,Je=Y(Z,9760,5),n[ze>>2]=Je,J(xe,fe),k=2136135584;continue}k=1544967175;continue}k=-523022849;continue}B=n[xe+4>>2],n[Be>>2]=n[xe>>2],n[Be+4>>2]=B,oe=n[xe+8>>2],n[Be+8>>2]=oe,k=y(De=n[Be+4>>2],oe,9728,22)?-1014470820:361457935,q=0;continue}k=-1024081639,Ue=y(De,oe,9664,27);continue}D=1^Ue,k=-2106163477;continue}k=1727780372;continue}k=-1871629757;continue}k=-1014470820,q=D;continue}k=1076880114,x=q;continue}me(Be),ue(fe),ue(Z),k=-84041437;continue}k=692803341,r=x;continue}k=37738597,P=r;continue}k=-762936614;continue}k=-1521141104;continue}k=-803869363;continue}k=1393975902;continue}t[9760]=154^i[9750],t[9761]=58^i[9751],t[9762]=56^i[9752],t[9763]=115^i[9753],t[9764]=133^i[9754],t[9729]=226^i[9697],t[9731]=211^i[9699],B=i[9696],t[9728]=(B-(B<<1&142)|0)-57,B=i[9698],t[9730]=(B-(B<<1&102)|0)-77,t[9732]=180^i[9700],t[9733]=142^i[9701],t[9734]=72^i[9702],t[9735]=127^i[9703],t[9736]=112^i[9704],t[9737]=170^i[9705],t[9738]=126^i[9706],t[9739]=174^i[9707],t[9740]=46^i[9708],t[9741]=140^i[9709],t[9742]=253^i[9710],t[9743]=73^i[9711],t[9744]=38^i[9712],t[9745]=90^i[9713],t[9746]=115^i[9714],t[9747]=99^i[9715],t[9748]=78^i[9716],t[9749]=206^i[9717],t[9664]=189^i[9632],t[9665]=43^i[9633],t[9666]=61^i[9634],t[9667]=177^i[9635]}k=203070249;continue}t[9668]=152^Pe,t[9669]=190^i[9637],t[9670]=190^i[9638],t[9671]=154^i[9639],t[9672]=163^i[9640],t[9674]=108^i[9642],t[9675]=54^i[9643],t[9676]=132^i[9644],t[9677]=100^i[9645],B=i[9641],t[9673]=(B-(B<<1&202)|0)-27,t[9680]=124^i[9648],t[9681]=65^i[9649],B=i[9646],t[9678]=32+(B-(B<<1&64)|0),B=i[9647],t[9679]=(B-(B<<1&210)|0)-23,B=i[9650],t[9682]=(B-(B<<1&22)|0)-117}k=31415072;continue}n[2730]=1}k=-709168647;continue}t[0|Re]=0}k=1224680090;continue}T(Re)}k=849717998;continue}k=-576487749;continue}k=475087046;continue}k=-54221996;continue}me(Be),ue(fe),ue(Z),k=1076880114;continue}break}if(!r){ze=o,Je=Se(4124,11),n[ze+20>>2]=Je,n[o+32>>2]=129,K(o,B=o+20|0,r=o+32|0),ze=o,Je=ne(n[o>>2],n[o+4>>2]),n[ze+16>>2]=Je,ue(r),ue(B),f=fe=f-16|0,n[2729]||(t[9576]=142^i[9567],t[9577]=183^i[9568],t[9578]=211^i[9569],t[9579]=35^i[9570],t[9580]=139^i[9571],t[9581]=81^i[9572],t[9583]=125^i[9574],t[9624]=162^i[9609],r=i[9573],t[9582]=79+(r-(r<<1&158)|0),t[9625]=35^i[9610],t[9626]=88^i[9611],t[9627]=95^i[9612],t[9628]=232^i[9613],t[9629]=152^i[9614],t[9630]=45^i[9615],t[9561]=41^i[9547],t[9562]=46^i[9548],r=i[9616],t[9631]=~((239|r)&(16|~r)),r=i[9546],t[9560]=(r-(r<<1&66)|0)-95,t[9564]=206^i[9550],t[9565]=123^i[9551],t[9566]=8^i[9552],t[9536]=21^i[9522],t[9538]=101^i[9524],t[9540]=157^i[9526],r=i[9549],t[9563]=(r-(r<<1&126)|0)-65,r=i[9523],t[9537]=~((87|r)&(168|~r)),r=i[9525],t[9539]=109+(r-(r<<1&218)|0),t[9541]=175^i[9527],r=i[9528],t[9542]=~((148|r)&(107|~r)),r=i[9529],t[9543]=(r-(r<<1&204)|0)-26,t[9544]=154^i[9530],r=i[9531],t[9545]=(r-(r<<1&248)|0)-4,r=i[9584],t[9600]=(r-(r<<1&12)|0)-122,t[9601]=75^i[9585],t[9602]=13^i[9586],t[9603]=169^i[9587],t[9604]=217^i[9588],t[9605]=84^i[9589],r=i[9590],t[9606]=(r-(r<<1&62)|0)-97,t[9607]=205^i[9591],r=i[9592],t[9608]=6+(r-(r<<1&12)|0),t[9520]=133^i[9518],t[9521]=212^i[9519]),r=o+15|0,n[2729]=1,f=B=se=fe-16|0,f=B=Me=B-16|0,f=Z=B-16|0,f=B=he=Z-16|0,f=B=Ee=B-16|0,f=B=de=B-16|0,f=B=Ie=B-16|0,f=oe=B-16|0,f=B=D=oe-16|0,f=B=Ue=B-16|0,f=B=F=B-16|0,f=B=B-16|0,f=q=le=B-16|0,f=q=De=q-16|0,f=we=q-16|0,f=P=we-16|0,q=0|Ut(setTimeout),n[P>>2]=q,ze=we,Je=Y(x=o+16|0,9624,8),n[ze>>2]=Je;e:{t:{r:{n:{i:{o:{if(!Ae(we)){if(ze=Ue,Je=Y(we,9600,9),n[ze>>2]=Je,B=Y(Ue,9576,8),n[D>>2]=B,ze=oe,Je=0|Ut(function(){if(typeof requirePlugin<"u")return requirePlugin}()),n[ze>>2]=Je,Ae(oe))break o;te(fe+8|0,B),ze=he,Je=ne(n[fe+8>>2],n[fe+12>>2]),n[ze>>2]=Je,K(fe,he,oe),ze=Ee,Je=ne(n[fe>>2],n[fe+4>>2]),n[ze>>2]=Je,ue(he),J(Me,Ee),j(se,1,0),-2147483648!=n[Me>>2]?(B=n[Me+4>>2],n[Z>>2]=n[Me>>2],n[Z+4>>2]=B,n[Z+8>>2]=n[Me+8>>2],me(se)):(B=n[se+4>>2],n[Z>>2]=n[se>>2],n[Z+4>>2]=B,n[Z+8>>2]=n[se+8>>2]),B=y(q=n[Z+4>>2],B=n[Z+8>>2],9560,7)?1:y(q,B,9536,10),t[0|r]=B,me(Z),ue(Ee),ue(oe),ue(Ue);break t}if(ze=De,Je=0|Ut(function(){if(typeof requirePlugin<"u")return requirePlugin}()),n[ze>>2]=Je,Ae(De))break n;if(!(q=ve(De)?De:0))break i;ze=le,Je=0|Ut(Rt(n[q>>2]).toString()),n[ze>>2]=Je,J(F,le),q=n[F+4>>2],n[B>>2]=n[F>>2],n[B+4>>2]=q,D=n[F+8>>2],n[B+8>>2]=D,D=y(q=n[B+4>>2],D,9560,7)||y(q,D,9536,10)?1:2,t[0|r]=D,me(B),ue(le);break r}n[de>>2]=q,ze=Ie,Je=0|(I=n[de>>2],Ut(Object.getOwnPropertySymbols(Rt(I)))),n[ze>>2]=Je,ue(de),ze=r,Je=0|function(e){return Rt(e).length}(n[Ie>>2])?2:3,t[0|ze]=Je,ue(Ie),ue(oe),ue(D),ue(Ue),ue(we);break e}z(9520,2),Yt()}t[0|r]=3}ue(De)}ue(we),ue(P)}if(f=fe+16|0,ue(x),1==(0|(le=i[o+15|0]))){for(P=0,D=0,k=0,Be=0,Z=0,Pe=0,xe=0,oe=0,le=0,we=0,Me=0,De=0,Ue=0,F=0,fe=0,f=Ee=Re=f-16|0,q=n[2728]?329954301:-825046858,r=83199746;;){e:{t:{r:{n:{i:{if(B=r,-1484576951!=(0|r)){if(-1124029191==(0|r))break n;o:{if(-1117815730!=(0|r)){a:{if(-825046858!=(0|r)){if(-552799569==(0|r))break i;if(83199746!=(0|r)){if(329954301==(0|r))break o;if(r=q,843394098==(0|B))continue;if(852095659==(0|B))break t;if(1122095489==(0|B))break r;if(2071611285==(0|B))break a;if(-1308773950!=(0|(r=B)))continue;me(Z),me(Be),f=Ee+16|0,r=1&He;break e}r=843394098;continue}t[9512]=191^i[9500],t[9513]=206^i[9501],t[9514]=62^i[9502],je=i[9503],r=2071611285;continue}t[9515]=155^je,t[9516]=230^i[9504],t[9517]=166^i[9505],t[9488]=144^i[9469],t[9489]=206^i[9470],We=i[9471],r=-1117815730;continue}t[9490]=210^We,t[9491]=150^i[9472],t[9492]=191^i[9473],t[9493]=142^i[9474],t[9494]=79^i[9475],t[9495]=81^i[9476],t[9497]=78^i[9478],t[9498]=46^i[9479],t[9499]=211^i[9480],r=i[9477],t[9496]=28+(r-(r<<1&56)|0),t[9464]=146^i[9452],t[9465]=134^i[9453],t[9466]=60^i[9454],t[9467]=254^i[9455],t[9468]=71^i[9456],r=329954301;continue}n[2728]=1,f=r=Me=Re-16|0,f=r=De=r-16|0,f=r=R=r-16|0,f=r=Ue=r-16|0,f=r=F=r-16|0,f=r=fe=r-16|0,f=r=qe=r-16|0,f=r=D=r-32|0,f=r=Pe=r-32|0,f=r=we=r-16|0,f=r=P=r+-64|0,f=r=B=r-16|0,f=r=xe=r-16|0,f=k=r-32|0,f=r=Z=k-16|0,f=r=he=r-32|0,f=r=de=r-32|0,f=r=x=r-16|0,f=Le=r+-64|0,f=r=Le-16|0,f=Ie=r-16|0,f=se=Ie-32|0,f=Be=se-16|0,f=oe=Be-16|0,f=le=oe-16|0,f=Re=le-16|0,n[Re+4>>2]=6,n[Re>>2]=9512,n[le+4>>2]=12,n[le>>2]=9488,n[oe+4>>2]=5,n[oe>>2]=9464,Ge=+Ft(),n[Ie+12>>2]=2,n[Ie+8>>2]=r,n[Ie+4>>2]=1,n[Ie>>2]=Re,s[r>>3]=Ge,t[Le+60|0]=3,n[Le+56>>2]=8,n[(r=Le+48|0)>>2]=32,n[r+4>>2]=1,n[(r=Le+40|0)>>2]=0,n[r+4>>2]=16,n[Le+32>>2]=2,t[Le+28|0]=3,n[Le+24>>2]=0,n[Le+16>>2]=32,n[Le+20>>2]=0,n[Le+8>>2]=2,n[Le+12>>2]=16,n[Le>>2]=2,n[se+20>>2]=2,n[se+16>>2]=Le,n[se+4>>2]=2,n[se>>2]=4160,n[se+12>>2]=2,n[se+8>>2]=Ie,$(Be,se),n[he+20>>2]=1,n[he+16>>2]=oe,n[he+12>>2]=3,n[he+8>>2]=Be,n[he+4>>2]=1,n[he>>2]=le,n[de+4>>2]=3,n[de>>2]=4176,n[de+12>>2]=3,n[de+16>>2]=0,n[de+8>>2]=he,$(x,de),W(n[x+4>>2],n[x+8>>2]),me(x),Ge=+Ft(),n[xe+12>>2]=2,n[xe+8>>2]=B,n[xe+4>>2]=1,n[xe>>2]=Re,s[B>>3]=Ge,n[P+32>>2]=2,t[P+28|0]=3,n[P+24>>2]=0,n[P+16>>2]=32,n[P+20>>2]=0,n[P+8>>2]=2,n[P+12>>2]=16,n[P>>2]=2,r=-1484576951;continue}n[k+20>>2]=2,n[k+16>>2]=P,n[k+4>>2]=2,n[k>>2]=4160,n[k+12>>2]=2,n[k+8>>2]=xe,t[P+60|0]=3,n[P+56>>2]=8,n[(r=P+48|0)>>2]=32,n[r+4>>2]=1,n[(r=P+40|0)>>2]=0,n[r+4>>2]=16,$(Z,k),n[D+20>>2]=1,n[D+16>>2]=oe,n[D+12>>2]=3,n[D+8>>2]=Z,n[D+4>>2]=1,n[D>>2]=le,n[Pe+4>>2]=3,n[Pe>>2]=4176,n[Pe+12>>2]=3,n[Pe+16>>2]=0,n[Pe+8>>2]=D,$(we,Pe),x=n[we+8>>2],B=n[we+4>>2],ze=qe,Je=0|Ut(new Object),n[ze>>2]=Je,ze=fe,Je=0|function(e){return Ut(Object.getPrototypeOf(Rt(e)))}(n[qe>>2]),n[ze>>2]=Je,ze=F,Je=Ce(fe),n[ze>>2]=Je,r=Ce(F),n[De>>2]=129,n[Ue>>2]=r,ze=Me,Je=0|function(e,t){return Ut(Nt(e,t))}(0|B,0|x),n[ze>>2]=Je,f=de=f-16|0,Ie=0|function(){return jt((function(e,t,r){return Ut(Rt(e).call(Rt(t),Rt(r)))}),arguments)}(n[Ue>>2],n[De>>2],n[Me>>2]),ie(de+8|0),x=n[de+12>>2],B=Ee+8|0,r=n[de+8>>2],n[B>>2]=r,n[B+4>>2]=r?x:Ie,f=de+16|0,r=n[Ee+12>>2],n[R>>2]=n[Ee+8>>2],n[R+4>>2]=r,ue(R+4|0),ue(Me),ue(De),ue(Ue),ue(F),ue(fe),ue(qe),me(we),r=-552799569;continue}r=p(n[Be+4>>2],n[Be+8>>2])?-1308773950:-1124029191,He=1;continue}Ye=n[Z+4>>2],r=1122095489;continue}ee=Z+8|0,r=852095659;continue}r=-1308773950,He=p(Ye,n[ee>>2]);continue}break}le=r?4:1}}for(n[o+44>>2]=1,n[o+36>>2]=Fe,n[o+32>>2]=Qe,t[o+16|0]=le,n[o+40>>2]=o+16,B=o+20|0,q=0,f=ee=f-32|0,x=4+(r=o+32|0)|0,P=2;q=n[x>>2]+q|0,x=x+8|0,P=P-1|0;);L(ee+20|0,q),q=n[ee+24>>2];e:{if(!n[ee+20>>2])for(n[ee+16>>2]=0,n[ee+12>>2]=n[ee+28>>2],n[ee+8>>2]=q,x=16;;){if(!x)break e;q=n[8+(P=ee+8|0)>>2],(D=((R=n[r>>2])+n[r+4>>2]|0)-R|0)>>>0>n[P>>2]-q>>>0&&(V(P,q,D),q=n[P+8>>2]),Te(n[P+4>>2]+q|0,R,D),n[P+8>>2]=D+n[P+8>>2],x=x-8|0,r=r+8|0}ce(q,n[ee+28>>2]),Yt()}for(r=n[ee+12>>2],n[B>>2]=n[ee+8>>2],n[B+4>>2]=r,n[B+8>>2]=n[ee+16>>2],f=ee+32|0,q=n[o+28>>2],r=n[o+24>>2],x=-312023276;;){e:{t:{r:{if(-1139884213!=(0|x)){n:{i:{o:{a:{if(-431727688!=(0|x)){if(-312023276==(0|x))break o;if(683490261==(0|x))break r;s:{u:{if(785662417!=(0|x)){if(805862013==(0|x))break i;if(1936538647==(0|x))break u;if(2011513702==(0|x))break s;if(2054771303==(0|x))break n;if(2109113125==(0|x))break a;if(1468518342!=(0|x))break t;for(G=0,x=2141194448;;){c:{l:{f:{d:{h:{p:{A:{g:{v:{y:{m:{_:{if(-2127539871!=(0|x)){if(-1865226007==(0|x))break v;E:{if(-1502029417!=(0|x)){if(-1392318214==(0|x))break m;if(-701743546==(0|x))break h;if(-630171318==(0|x))break l;if(-428599644==(0|x))break A;if(-365275853==(0|x))break p;if(731190297==(0|x))break d;if(1490771098==(0|x))break E;if(1799378861==(0|x))break _;if(1856406314==(0|x))break f;if(2085775121==(0|x))break y;if(2141194448==(0|x))break g;if(1848986523!=(0|x))break c;for(G=0,x=1030140605;;){b:{w:{I:{T:{S:{C:{N:{if(-1254767695!=(0|x)){if(-1005958512==(0|x))break N;if(-552321646==(0|x))break I;if(-320397938==(0|x))break T;if(334018844==(0|x))break S;if(1030140605!=(0|x)){if(1126125308==(0|x))break C;if(-696102126!=(0|x))break w;for(;;){if(!q)break b;x=Oe(Q,re,9),B=d,Q=Q^Oe(Q,re,17)^x,re=re^d^B,U=Ne(i[0|r]^U,ae,O,M)^Q,ae=d^re,q=q-1|0,r=r+1|0}}Q=-539118923,re=-809525835,G=781061025;break w}D=(R=16711680&Q)<<24,R=B=R>>>8|0,F=D,B=(D=-16777216&Q)>>>24|0,D=F|D<<8,D=252645135&((15&(R=B|R|(P=Q<<24|(65280&Q)<<8)))<<28|(D|=-16777216&((255&(B=re))<<24|Q>>>8)|16711680&((16777215&B)<<8|Q>>>24)|B>>>8&65280|B>>>24)>>>4)|(re=252645135&D)<<4,D=858993459&((3&(R=Q=R>>>4&252645135|(252645135&R)<<4|re>>>28))<<30|D>>>2)|(re=858993459&D)<<2,re=1431655765&(B=(R=Q=R>>>2&858993459|(858993459&R)<<2|re>>>30)>>>1|0),F=Q=1431655765&((1&R)<<31|D>>>1),B=(1431655765&R)<<1|(Q=1431655765&D)>>>31,Q=F|Q<<1,re|=B,G=1672974499;break w}Q=Oe(Q,re,40),re=d,G=454981378;break w}Q=Oe(Q,re,25),re=d,G=-2028665748;break w}B=re+893913656|0,re=(Q=Q-991478432|0)>>>0<3303488864?B+1|0:B,G=-15752046;break w}B=re+1357858728|0,re=(Q=Q-1205720779|0)>>>0<3089246517?B+1|0:B,G=-1342680206;break w}Q^=432943764,re^=-658687640,G=1780612643}x^=G;continue}break}for(me(o+20|0),O=0,M=0,G=0,x=-115191908;;){b:{w:{if(-2084284604!=(0|x)){I:{if(-1840988163!=(0|x)){if(-1653841877!=(0|x)){T:{S:{if(-1606341630!=(0|x)){if(-1465521787!=(0|x)){C:{N:{if(-832667415!=(0|x)){if(-495935895==(0|x))break I;if(-115191908==(0|x))break S;if(504231084==(0|x))break C;if(1215812495==(0|x))break T;if(1493890582!=(0|x)){if(1515308500==(0|x))break N;if(771362459==(0|x))break w;break b}O^=1134604900,M^=1203219686,G=1961949325;break b}B=M+55035398|0,M=(O=O+1699853555|0)>>>0<1699853555?B+1|0:B,G=741219968;break b}q=(R=Q=(r=16711680&O)<<24)|(Q=-16777216&O)<<8,Q=(r=B=r>>>8|0)|(B=Q>>>24|0)|(re=O<<24|(65280&O)<<8),q|=-16777216&((255&(r=M))<<24|O>>>8)|16711680&((16777215&r)<<8|O>>>24)|r>>>8&65280|r>>>24,O=252645135&((15&(r=Q))<<28|q>>>4),Q=(O=858993459&((3&(r=252645135&(B=r>>>4|0)|(r&=252645135)<<4|(M=252645135&q)>>>28))<<30|(Q=O|M<<4)>>>2))|(M=858993459&Q)<<2,O=r=858993459&(B=r>>>2|0)|(r&=858993459)<<2|M>>>30,M=1431655765&(B=r>>>1|0),R=r=1431655765&((1&r)<<31|Q>>>1),B=(r=1431655765&O)<<1|(O=1431655765&Q)>>>31,O=R|O<<1,M|=B,G=-218878895;break b}O=Oe(O,M,19),M=d,G=-1102260050;break b}q=(R=Q=(r=16711680&O)<<24)|(Q=-16777216&O)<<8,Q=(r=B=r>>>8|0)|(B=Q>>>24|0)|(re=O<<24|(65280&O)<<8),O=-16777216&((255&(r=M))<<24|O>>>8)|16711680&((16777215&r)<<8|O>>>24)|r>>>8&65280|r>>>24|q,M=Q,G=-240181357;break b}O=Oe(O,M,61),M=d,G=1847569643;break b}O=-1004537630,M=-1982771408,G=-416302288;break b}O^=-94933437,M^=1939723835,G=-634164110;break b}O=Oe(O,M,25),M=d,G=-719604828;break b}O=Oe(O,M,35),M=d,G=293660857;break b}q=(R=Q=(r=16711680&O)<<24)|(Q=-16777216&O)<<8,Q=(r=B=r>>>8|0)|(B=Q>>>24|0)|(re=O<<24|(65280&O)<<8),q|=-16777216&((255&(r=M))<<24|O>>>8)|16711680&((16777215&r)<<8|O>>>24)|r>>>8&65280|r>>>24,O=252645135&((15&(r=Q))<<28|q>>>4),Q=(O=858993459&((3&(r=252645135&(B=r>>>4|0)|(r&=252645135)<<4|(M=252645135&q)>>>28))<<30|(Q=O|M<<4)>>>2))|(M=858993459&Q)<<2,O=r=858993459&(B=r>>>2|0)|(r&=858993459)<<2|M>>>30,M=1431655765&(B=r>>>1|0),R=r=1431655765&((1&r)<<31|Q>>>1),B=(r=1431655765&O)<<1|(O=1431655765&Q)>>>31,O=R|O<<1,M|=B,G=2132606530;break b}B=M+607482906|0,M=(O=O+1823956784|0)>>>0<1823956784?B+1|0:B,G=-644509040;break b}n[b>>2]=U,n[b+4>>2]=ae,ae^=M,B=(B=(O=(M=O^U)&(r=le))>>>31|0)+ae|0,ze=Q=b,Je=Oe(O=(r^=M)+(O<<1)|0,r>>>0>O>>>0?B+1|0:B,5)^M,n[ze+8>>2]=Je,n[Q+12>>2]=ae^d,f=o+48|0;break e}x^=G}}R=O,ee=O<<24|(65280&O)<<8,D=(O&=16711680)<<24,O=B=O>>>8|0,P=(F=D)|(D=-16777216&R)<<8,D=(B=D>>>24|0)|O|ee,O=-16777216&((255&(O=M))<<24|R>>>8)|16711680&((16777215&O)<<8|R>>>24)|O>>>8&65280|O>>>24|P,M=D,G=192557421;break c}O=Oe(O,M,11),M=d,G=-938888077;break c}R=O,ee=O<<24|(65280&O)<<8,D=(O&=16711680)<<24,O=B=O>>>8|0,P=(F=D)|(D=-16777216&R)<<8,D=(B=D>>>24|0)|O|ee,P|=-16777216&((255&(O=M))<<24|R>>>8)|16711680&((16777215&O)<<8|R>>>24)|O>>>8&65280|O>>>24,D=252645135&((15&(O=D))<<28|P>>>4),D=(M=858993459&((3&(O=252645135&(B=O>>>4|0)|(O&=252645135)<<4|(R=252645135&P)>>>28))<<30|(D|=R<<4)>>>2))|(R=858993459&D)<<2,R=O=858993459&(B=O>>>2|0)|(O&=858993459)<<2|R>>>30,M=1431655765&(B=O>>>1|0),F=O=1431655765&((1&O)<<31|D>>>1),B=(O=1431655765&R)<<1|(R=1431655765&D)>>>31,O=F|R<<1,M|=B,G=1461481255;break c}O=Oe(O,M,27),M=d,G=99013767;break c}B=M+1475051436|0,M=(O=O+2032552262|0)>>>0<2032552262?B+1|0:B,G=-170281888;break c}R=O,ee=O<<24|(65280&O)<<8,D=(O&=16711680)<<24,O=B=O>>>8|0,P=(F=D)|(D=-16777216&R)<<8,D=(B=D>>>24|0)|O|ee,P|=-16777216&((255&(O=M))<<24|R>>>8)|16711680&((16777215&O)<<8|R>>>24)|O>>>8&65280|O>>>24,D=252645135&((15&(O=D))<<28|P>>>4),D=(M=858993459&((3&(O=252645135&(B=O>>>4|0)|(O&=252645135)<<4|(R=252645135&P)>>>28))<<30|(D|=R<<4)>>>2))|(R=858993459&D)<<2,R=O=858993459&(B=O>>>2|0)|(O&=858993459)<<2|R>>>30,M=1431655765&(B=O>>>1|0),F=O=1431655765&((1&O)<<31|D>>>1),B=(O=1431655765&R)<<1|(R=1431655765&D)>>>31,O=F|R<<1,M|=B,G=387068092;break c}O=(B=O)-1642356428|0,M=M-((B>>>0<1642356428)+629334924|0)|0,G=-327118856;break c}O=347538483,M=-1509319867,G=-640102073;break c}B=(-1907177449&(B=M<<1|O>>>31))+(1193894923^M)|0,M=(O=(R=-359902631^O)+(O<<1&-719805262)|0)>>>0<R>>>0?B+1|0:B,G=-2008982209;break c}O^=1607701438,M^=-663726481,G=206455703;break c}R=O,ee=O<<24|(65280&O)<<8,D=(O&=16711680)<<24,O=B=O>>>8|0,P=(F=D)|(D=-16777216&R)<<8,D=(B=D>>>24|0)|O|ee,P|=-16777216&((255&(O=M))<<24|R>>>8)|16711680&((16777215&O)<<8|R>>>24)|O>>>8&65280|O>>>24,D=252645135&((15&(O=D))<<28|P>>>4),D=(M=858993459&((3&(O=252645135&(B=O>>>4|0)|(O&=252645135)<<4|(R=252645135&P)>>>28))<<30|(D|=R<<4)>>>2))|(R=858993459&D)<<2,R=O=858993459&(B=O>>>2|0)|(O&=858993459)<<2|R>>>30,M=1431655765&(B=O>>>1|0),F=O=1431655765&((1&O)<<31|D>>>1),B=(O=1431655765&R)<<1|(R=1431655765&D)>>>31,O=F|R<<1,M|=B,G=-38196641;break c}B=M+817934148|0,M=(O=O+1226980564|0)>>>0<1226980564?B+1|0:B,G=-236630701;break c}R=O,ee=O<<24|(65280&O)<<8,D=(O&=16711680)<<24,O=B=O>>>8|0,P=(F=D)|(D=-16777216&R)<<8,D=(B=D>>>24|0)|O|ee,P|=-16777216&((255&(O=M))<<24|R>>>8)|16711680&((16777215&O)<<8|R>>>24)|O>>>8&65280|O>>>24,D=252645135&((15&(O=D))<<28|P>>>4),D=(M=858993459&((3&(O=252645135&(B=O>>>4|0)|(O&=252645135)<<4|(R=252645135&P)>>>28))<<30|(D|=R<<4)>>>2))|(R=858993459&D)<<2,R=O=858993459&(B=O>>>2|0)|(O&=858993459)<<2|R>>>30,M=1431655765&(B=O>>>1|0),F=O=1431655765&((1&O)<<31|D>>>1),B=(O=1431655765&R)<<1|(R=1431655765&D)>>>31,O=F|R<<1,M|=B,G=-275328437;break c}B=(856347606&(B=M<<1|O>>>31))+(428173803^M)|0,M=(O=(R=2065281755^O)+(O<<1&-164403786)|0)>>>0<R>>>0?B+1|0:B,G=810159225}x^=G}}D=(U=16711680&(R=U))<<24,U=B=U>>>8|0,P=(F=D)|(D=-16777216&R)<<8,D=(B=D>>>24|0)|U|(ee=R<<24|(65280&R)<<8),P|=-16777216&((255&(U=ae))<<24|R>>>8)|16711680&((16777215&U)<<8|R>>>24)|U>>>8&65280|U>>>24,B=(R=D)>>>4|0,D=252645135&((15&R)<<28|P>>>4),U=252645135&R,D|=(R=252645135&P)<<4,B=(R=U=252645135&B|U<<4|R>>>28)>>>2|0,U=858993459&R,D=(F=858993459&((3&R)<<30|D>>>2))|(R=858993459&D)<<2,ae=1431655765&(B=(R=U=858993459&B|U<<2|R>>>30)>>>1|0),F=U=1431655765&((1&R)<<31|D>>>1),B=(U=1431655765&R)<<1|(R=1431655765&D)>>>31,U=F|R<<1,ae|=B,G=-930080151;break t}D=(U=16711680&(R=U))<<24,U=B=U>>>8|0,P=(F=D)|(D=-16777216&R)<<8,D=(B=D>>>24|0)|U|(ee=R<<24|(65280&R)<<8),P|=-16777216&((255&(U=ae))<<24|R>>>8)|16711680&((16777215&U)<<8|R>>>24)|U>>>8&65280|U>>>24,B=(R=D)>>>4|0,D=252645135&((15&R)<<28|P>>>4),U=252645135&R,D|=(R=252645135&P)<<4,B=(R=U=252645135&B|U<<4|R>>>28)>>>2|0,U=858993459&R,D=(F=858993459&((3&R)<<30|D>>>2))|(R=858993459&D)<<2,ae=1431655765&(B=(R=U=858993459&B|U<<2|R>>>30)>>>1|0),F=U=1431655765&((1&R)<<31|D>>>1),B=(U=1431655765&R)<<1|(R=1431655765&D)>>>31,U=F|R<<1,ae|=B,G=-815561892;break t}U=Oe(U,ae,46),ae=d,G=173260867;break t}U=(B=U)-158457126|0,ae=ae-((B>>>0<158457126)+2101897679|0)|0,G=-699653691;break t}U=Oe(U,ae,36),ae=d,G=1426831600;break t}U=-1276947981,ae=2054483191,G=-1759529613;break t}D=(U=16711680&(R=U))<<24,U=B=U>>>8|0,P=(F=D)|(D=-16777216&R)<<8,D=(B=D>>>24|0)|U|(ee=R<<24|(65280&R)<<8),U=-16777216&((255&(U=ae))<<24|R>>>8)|16711680&((16777215&U)<<8|R>>>24)|U>>>8&65280|U>>>24|P,ae=D,G=1737471419;break t}U^=-1158902052,ae^=-462435765,G=228331777;break t}U=Oe(U,ae,17),ae=d,G=-1831141734;break t}B=ae+2109192158|0,ae=(U=U+589614187|0)>>>0<589614187?B+1|0:B,G=1540360130}x^=G;continue}break}M=n[Q>>2],O=n[Q+4>>2],r=n[Q+12>>2],n[m>>2]=n[Q+8>>2],n[m+4>>2]=r,n[_>>2]=M,n[_+4>>2]=O,me(v),n[u+20>>2]=4,n[u+16>>2]=m,n[u+12>>2]=3,n[u+8>>2]=c,n[u+4>>2]=4,n[u>>2]=_,n[l+4>>2]=3,n[l>>2]=5080,n[l+12>>2]=3,n[l+16>>2]=0,n[l+8>>2]=u,$(w,l),me(c),me(h),me(A),ue(E),me(g),f=Q+16|0,H(a+8|0,w),pe(a,n[a+8>>2],n[a+12>>2]),r=n[a+4>>2],n[e>>2]=n[a>>2],n[e+4>>2]=r,f=a+32|0},k:function(e,t){if(e|=0,!(1!=(0|Be(t|=0))|-2147483648-t>>>0<e>>>0)&&(!e||(t=_e(e,t))))return 0|t;Yt()},o:function(e,t,r,n){return e|=0,t|=0,r|=0,(1!=(0|Be(n|=0))|-2147483648-n>>>0<t>>>0||!(e=he(e,t,n,r)))&&Yt(),0|e},i:function(e,t,r){(t|=0)&&ge(e|=0,t,r|=0)},A:function(e){return 0|(f=f+(e|=0)|0)},t:function(e){var t,r,i;e|=0,f=t=f-16|0,n[t+12>>2]=e,e=t+12|0,f=r=f-16|0,(i=0|ke[n[1354]](0))?(e=n[e>>2],n[i>>2]=1,n[i+4>>2]=e,f=r+16|0):(U(5320,70,r+15|0,5304,5400),Yt()),f=t+16|0}}}(),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n})},439:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g},194:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(439);e=r.hmd(e);var i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.Z.process;const s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}()},693:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(439),i="object"==typeof self&&self&&self.Object===Object&&self;const o=n.Z||i||Function("return this")()},614:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(693);const i=function(){return!1};e=r.hmd(e);var o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Z.Buffer:void 0;const u=(s?s.isBuffer:void 0)||i},117:(e,t,r)=>{var n;e=r.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,l=64,f=128,d=256,h=1/0,p=9007199254740991,A=NaN,g=4294967295,v=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",d]],y="[object Arguments]",m="[object Array]",_="[object Boolean]",E="[object Date]",b="[object Error]",w="[object Function]",I="[object GeneratorFunction]",T="[object Map]",S="[object Number]",C="[object Object]",N="[object Promise]",B="[object RegExp]",O="[object Set]",R="[object String]",D="[object Symbol]",k="[object WeakMap]",L="[object ArrayBuffer]",M="[object DataView]",x="[object Float32Array]",U="[object Float64Array]",P="[object Int8Array]",Q="[object Int16Array]",F="[object Int32Array]",q="[object Uint8Array]",G="[object Uint8ClampedArray]",H="[object Uint16Array]",j="[object Uint32Array]",W=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,X=RegExp(J.source),K=RegExp($.source),V=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+|\s+$/g,se=/^\s+/,ue=/\s+$/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ae=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Ie="\\ud800-\\udfff",Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Ne="A-Z\\xc0-\\xd6\\xd8-\\xde",Be="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Re="['’]",De="["+Ie+"]",ke="["+Oe+"]",Le="["+Te+"]",Me="\\d+",xe="["+Se+"]",Ue="["+Ce+"]",Pe="[^"+Ie+Oe+Me+Se+Ce+Ne+"]",Qe="\\ud83c[\\udffb-\\udfff]",Fe="[^"+Ie+"]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ge="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ne+"]",je="\\u200d",We="(?:"+Ue+"|"+Pe+")",Ye="(?:"+He+"|"+Pe+")",ze="(?:['’](?:d|ll|m|re|s|t|ve))?",Je="(?:['’](?:D|LL|M|RE|S|T|VE))?",$e="(?:"+Le+"|"+Qe+")"+"?",Xe="["+Be+"]?",Ke=Xe+$e+("(?:"+je+"(?:"+[Fe,qe,Ge].join("|")+")"+Xe+$e+")*"),Ve="(?:"+[xe,qe,Ge].join("|")+")"+Ke,Ze="(?:"+[Fe+Le+"?",Le,qe,Ge,De].join("|")+")",et=RegExp(Re,"g"),tt=RegExp(Le,"g"),rt=RegExp(Qe+"(?="+Qe+")|"+Ze+Ke,"g"),nt=RegExp([He+"?"+Ue+"+"+ze+"(?="+[ke,He,"$"].join("|")+")",Ye+"+"+Je+"(?="+[ke,He+We,"$"].join("|")+")",He+"?"+We+"+"+ze,He+"+"+Je,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Ve].join("|"),"g"),it=RegExp("["+je+Ie+Te+Be+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ut={};ut[x]=ut[U]=ut[P]=ut[Q]=ut[F]=ut[q]=ut[G]=ut[H]=ut[j]=!0,ut[y]=ut[m]=ut[L]=ut[_]=ut[M]=ut[E]=ut[b]=ut[w]=ut[T]=ut[S]=ut[C]=ut[B]=ut[O]=ut[R]=ut[k]=!1;var ct={};ct[y]=ct[m]=ct[L]=ct[M]=ct[_]=ct[E]=ct[x]=ct[U]=ct[P]=ct[Q]=ct[F]=ct[T]=ct[S]=ct[C]=ct[B]=ct[O]=ct[R]=ct[D]=ct[q]=ct[G]=ct[H]=ct[j]=!0,ct[b]=ct[w]=ct[k]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,dt=parseInt,ht="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pt="object"==typeof self&&self&&self.Object===Object&&self,At=ht||pt||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===gt,mt=yt&&ht.process,_t=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(e){}}(),Et=_t&&_t.isArrayBuffer,bt=_t&&_t.isDate,wt=_t&&_t.isMap,It=_t&&_t.isRegExp,Tt=_t&&_t.isSet,St=_t&&_t.isTypedArray;function Ct(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Nt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function Bt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Ot(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Rt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Dt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function kt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Lt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Mt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function xt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Ut(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Pt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Qt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ft=zt("length");function qt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Gt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ht(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Gt(e,Wt,r)}function jt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Wt(e){return e!=e}function Yt(e,t){var r=null==e?0:e.length;return r?Xt(e,t)/r:A}function zt(e){return function(t){return null==t?i:t[e]}}function Jt(e){return function(t){return null==e?i:e[t]}}function $t(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Xt(e,t){for(var r,n=-1,o=e.length;++n<o;){var a=t(e[n]);a!==i&&(r=r===i?a:r+a)}return r}function Kt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Vt(e){return function(t){return e(t)}}function Zt(e,t){return Mt(t,(function(t){return e[t]}))}function er(e,t){return e.has(t)}function tr(e,t){for(var r=-1,n=e.length;++r<n&&Ht(t,e[r],0)>-1;);return r}function rr(e,t){for(var r=e.length;r--&&Ht(t,e[r],0)>-1;);return r}var nr=Jt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),ir=Jt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function or(e){return"\\"+lt[e]}function ar(e){return it.test(e)}function sr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function ur(e,t){return function(r){return e(t(r))}}function cr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];a!==t&&a!==s||(e[r]=s,o[i++]=r)}return o}function lr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function fr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function dr(e){return ar(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Ft(e)}function hr(e){return ar(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}var pr=Jt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ar=function e(t){var r,n=(t=null==t?At:Ar.defaults(At.Object(),t,Ar.pick(At,at))).Array,Ie=t.Date,Te=t.Error,Se=t.Function,Ce=t.Math,Ne=t.Object,Be=t.RegExp,Oe=t.String,Re=t.TypeError,De=n.prototype,ke=Se.prototype,Le=Ne.prototype,Me=t["__core-js_shared__"],xe=ke.toString,Ue=Le.hasOwnProperty,Pe=0,Qe=(r=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Fe=Le.toString,qe=xe.call(Ne),Ge=At._,He=Be("^"+xe.call(Ue).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=yt?t.Buffer:i,We=t.Symbol,Ye=t.Uint8Array,ze=je?je.allocUnsafe:i,Je=ur(Ne.getPrototypeOf,Ne),$e=Ne.create,Xe=Le.propertyIsEnumerable,Ke=De.splice,Ve=We?We.isConcatSpreadable:i,Ze=We?We.iterator:i,rt=We?We.toStringTag:i,it=function(){try{var e=fo(Ne,"defineProperty");return e({},"",{}),e}catch(e){}}(),lt=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,ht=Ie&&Ie.now!==At.Date.now&&Ie.now,pt=t.setTimeout!==At.setTimeout&&t.setTimeout,gt=Ce.ceil,vt=Ce.floor,mt=Ne.getOwnPropertySymbols,_t=je?je.isBuffer:i,Ft=t.isFinite,Jt=De.join,gr=ur(Ne.keys,Ne),vr=Ce.max,yr=Ce.min,mr=Ie.now,_r=t.parseInt,Er=Ce.random,br=De.reverse,wr=fo(t,"DataView"),Ir=fo(t,"Map"),Tr=fo(t,"Promise"),Sr=fo(t,"Set"),Cr=fo(t,"WeakMap"),Nr=fo(Ne,"create"),Br=Cr&&new Cr,Or={},Rr=Po(wr),Dr=Po(Ir),kr=Po(Tr),Lr=Po(Sr),Mr=Po(Cr),xr=We?We.prototype:i,Ur=xr?xr.valueOf:i,Pr=xr?xr.toString:i;function Qr(e){if(ts(e)&&!ja(e)&&!(e instanceof Hr)){if(e instanceof Gr)return e;if(Ue.call(e,"__wrapped__"))return Qo(e)}return new Gr(e)}var Fr=function(){function e(){}return function(t){if(!es(t))return{};if($e)return $e(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function qr(){}function Gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function jr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Yr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Yr;++t<r;)this.add(e[t])}function Jr(e){var t=this.__data__=new Wr(e);this.size=t.size}function $r(e,t){var r=ja(e),n=!r&&Ha(e),i=!r&&!n&&Ja(e),o=!r&&!n&&!i&&cs(e),a=r||n||i||o,s=a?Kt(e.length,Oe):[],u=s.length;for(var c in e)!t&&!Ue.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mo(c,u))||s.push(c);return s}function Xr(e){var t=e.length;return t?e[Jn(0,t-1)]:i}function Kr(e,t){return Mo(Bi(e),sn(t,0,e.length))}function Vr(e){return Mo(Bi(e))}function Zr(e,t,r){(r!==i&&!Fa(e[t],r)||r===i&&!(t in e))&&on(e,t,r)}function en(e,t,r){var n=e[t];Ue.call(e,t)&&Fa(n,r)&&(r!==i||t in e)||on(e,t,r)}function tn(e,t){for(var r=e.length;r--;)if(Fa(e[r][0],t))return r;return-1}function rn(e,t,r,n){return dn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function nn(e,t){return e&&Oi(t,Rs(t),e)}function on(e,t,r){"__proto__"==t&&it?it(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function an(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:Ss(e,t[r]);return a}function sn(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function un(e,t,r,n,o,a){var s,u=1&t,c=2&t,l=4&t;if(r&&(s=o?r(e,n,o,a):r(e)),s!==i)return s;if(!es(e))return e;var f=ja(e);if(f){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Ue.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!u)return Bi(e,s)}else{var d=Ao(e),h=d==w||d==I;if(Ja(e))return wi(e,u);if(d==C||d==y||h&&!o){if(s=c||h?{}:vo(e),!u)return c?function(e,t){return Oi(e,po(e),t)}(e,function(e,t){return e&&Oi(t,Ds(t),e)}(s,e)):function(e,t){return Oi(e,ho(e),t)}(e,nn(s,e))}else{if(!ct[d])return o?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case L:return Ii(e);case _:case E:return new n(+e);case M:return function(e,t){var r=t?Ii(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case x:case U:case P:case Q:case F:case q:case G:case H:case j:return Ti(e,r);case T:return new n;case S:case R:return new n(e);case B:return function(e){var t=new e.constructor(e.source,Ae.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new n;case D:return i=e,Ur?Ne(Ur.call(i)):{}}var i}(e,d,u)}}a||(a=new Jr);var p=a.get(e);if(p)return p;a.set(e,s),as(e)?e.forEach((function(n){s.add(un(n,t,r,n,e,a))})):rs(e)&&e.forEach((function(n,i){s.set(i,un(n,t,r,i,e,a))}));var A=f?i:(l?c?io:no:c?Ds:Rs)(e);return Bt(A||e,(function(n,i){A&&(n=e[i=n]),en(s,i,un(n,t,r,i,e,a))})),s}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Ne(e);n--;){var o=r[n],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function ln(e,t,r){if("function"!=typeof e)throw new Re(o);return Ro((function(){e.apply(i,r)}),t)}function fn(e,t,r,n){var i=-1,o=kt,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;r&&(t=Mt(t,Vt(r))),n?(o=Lt,a=!1):t.length>=200&&(o=er,a=!1,t=new zr(t));e:for(;++i<s;){var l=e[i],f=null==r?l:r(l);if(l=n||0!==l?l:0,a&&f==f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else o(t,f,n)||u.push(l)}return u}Qr.templateSettings={escape:V,evaluate:Z,interpolate:ee,variable:"",imports:{_:Qr}},Qr.prototype=qr.prototype,Qr.prototype.constructor=Qr,Gr.prototype=Fr(qr.prototype),Gr.prototype.constructor=Gr,Hr.prototype=Fr(qr.prototype),Hr.prototype.constructor=Hr,jr.prototype.clear=function(){this.__data__=Nr?Nr(null):{},this.size=0},jr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},jr.prototype.get=function(e){var t=this.__data__;if(Nr){var r=t[e];return r===a?i:r}return Ue.call(t,e)?t[e]:i},jr.prototype.has=function(e){var t=this.__data__;return Nr?t[e]!==i:Ue.call(t,e)},jr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Nr&&t===i?a:t,this},Wr.prototype.clear=function(){this.__data__=[],this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=tn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ke.call(t,r,1),--this.size,!0)},Wr.prototype.get=function(e){var t=this.__data__,r=tn(t,e);return r<0?i:t[r][1]},Wr.prototype.has=function(e){return tn(this.__data__,e)>-1},Wr.prototype.set=function(e,t){var r=this.__data__,n=tn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Yr.prototype.clear=function(){this.size=0,this.__data__={hash:new jr,map:new(Ir||Wr),string:new jr}},Yr.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Yr.prototype.get=function(e){return co(this,e).get(e)},Yr.prototype.has=function(e){return co(this,e).has(e)},Yr.prototype.set=function(e,t){var r=co(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},zr.prototype.add=zr.prototype.push=function(e){return this.__data__.set(e,a),this},zr.prototype.has=function(e){return this.__data__.has(e)},Jr.prototype.clear=function(){this.__data__=new Wr,this.size=0},Jr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Jr.prototype.get=function(e){return this.__data__.get(e)},Jr.prototype.has=function(e){return this.__data__.has(e)},Jr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!Ir||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Yr(n)}return r.set(e,t),this.size=r.size,this};var dn=ki(_n),hn=ki(En,!0);function pn(e,t){var r=!0;return dn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function An(e,t,r){for(var n=-1,o=e.length;++n<o;){var a=e[n],s=t(a);if(null!=s&&(u===i?s==s&&!us(s):r(s,u)))var u=s,c=a}return c}function gn(e,t){var r=[];return dn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function vn(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=yo),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?vn(s,t-1,r,n,i):xt(i,s):n||(i[i.length]=s)}return i}var yn=Li(),mn=Li(!0);function _n(e,t){return e&&yn(e,t,Rs)}function En(e,t){return e&&mn(e,t,Rs)}function bn(e,t){return Dt(t,(function(t){return Ka(e[t])}))}function wn(e,t){for(var r=0,n=(t=mi(t,e)).length;null!=e&&r<n;)e=e[Uo(t[r++])];return r&&r==n?e:i}function In(e,t,r){var n=t(e);return ja(e)?n:xt(n,r(e))}function Tn(e){return null==e?e===i?"[object Undefined]":"[object Null]":rt&&rt in Ne(e)?function(e){var t=Ue.call(e,rt),r=e[rt];try{e[rt]=i;var n=!0}catch(e){}var o=Fe.call(e);n&&(t?e[rt]=r:delete e[rt]);return o}(e):function(e){return Fe.call(e)}(e)}function Sn(e,t){return e>t}function Cn(e,t){return null!=e&&Ue.call(e,t)}function Nn(e,t){return null!=e&&t in Ne(e)}function Bn(e,t,r){for(var o=r?Lt:kt,a=e[0].length,s=e.length,u=s,c=n(s),l=1/0,f=[];u--;){var d=e[u];u&&t&&(d=Mt(d,Vt(t))),l=yr(d.length,l),c[u]=!r&&(t||a>=120&&d.length>=120)?new zr(u&&d):i}d=e[0];var h=-1,p=c[0];e:for(;++h<a&&f.length<l;){var A=d[h],g=t?t(A):A;if(A=r||0!==A?A:0,!(p?er(p,g):o(f,g,r))){for(u=s;--u;){var v=c[u];if(!(v?er(v,g):o(e[u],g,r)))continue e}p&&p.push(g),f.push(A)}}return f}function On(e,t,r){var n=null==(e=No(e,t=mi(t,e)))?e:e[Uo(Xo(t))];return null==n?i:Ct(n,e,r)}function Rn(e){return ts(e)&&Tn(e)==y}function Dn(e,t,r,n,o){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!=e&&t!=t:function(e,t,r,n,o,a){var s=ja(e),u=ja(t),c=s?m:Ao(e),l=u?m:Ao(t),f=(c=c==y?C:c)==C,d=(l=l==y?C:l)==C,h=c==l;if(h&&Ja(e)){if(!Ja(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Jr),s||cs(e)?to(e,t,r,n,o,a):function(e,t,r,n,i,o,a){switch(r){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L:return!(e.byteLength!=t.byteLength||!o(new Ye(e),new Ye(t)));case _:case E:case S:return Fa(+e,+t);case b:return e.name==t.name&&e.message==t.message;case B:case R:return e==t+"";case T:var s=sr;case O:var u=1&n;if(s||(s=lr),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;n|=2,a.set(e,t);var l=to(s(e),s(t),n,i,o,a);return a.delete(e),l;case D:if(Ur)return Ur.call(e)==Ur.call(t)}return!1}(e,t,c,r,n,o,a);if(!(1&r)){var p=f&&Ue.call(e,"__wrapped__"),A=d&&Ue.call(t,"__wrapped__");if(p||A){var g=p?e.value():e,v=A?t.value():t;return a||(a=new Jr),o(g,v,r,n,a)}}if(!h)return!1;return a||(a=new Jr),function(e,t,r,n,o,a){var s=1&r,u=no(e),c=u.length,l=no(t),f=l.length;if(c!=f&&!s)return!1;var d=c;for(;d--;){var h=u[d];if(!(s?h in t:Ue.call(t,h)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var A=!0;a.set(e,t),a.set(t,e);var g=s;for(;++d<c;){var v=e[h=u[d]],y=t[h];if(n)var m=s?n(y,v,h,t,e,a):n(v,y,h,e,t,a);if(!(m===i?v===y||o(v,y,r,n,a):m)){A=!1;break}g||(g="constructor"==h)}if(A&&!g){var _=e.constructor,E=t.constructor;_==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof E&&E instanceof E||(A=!1)}return a.delete(e),a.delete(t),A}(e,t,r,n,o,a)}(e,t,r,n,Dn,o))}function kn(e,t,r,n){var o=r.length,a=o,s=!n;if(null==e)return!a;for(e=Ne(e);o--;){var u=r[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=r[o])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===i&&!(c in e))return!1}else{var d=new Jr;if(n)var h=n(l,f,c,e,t,d);if(!(h===i?Dn(f,l,3,n,d):h))return!1}}return!0}function Ln(e){return!(!es(e)||(t=e,Qe&&Qe in t))&&(Ka(e)?He:ye).test(Po(e));var t}function Mn(e){return"function"==typeof e?e:null==e?nu:"object"==typeof e?ja(e)?qn(e[0],e[1]):Fn(e):du(e)}function xn(e){if(!Io(e))return gr(e);var t=[];for(var r in Ne(e))Ue.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Un(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var r in Ne(e))t.push(r);return t}(e);var t=Io(e),r=[];for(var n in e)("constructor"!=n||!t&&Ue.call(e,n))&&r.push(n);return r}function Pn(e,t){return e<t}function Qn(e,t){var r=-1,i=Ya(e)?n(e.length):[];return dn(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Fn(e){var t=lo(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(r){return r===e||kn(r,e,t)}}function qn(e,t){return Eo(e)&&To(t)?So(Uo(e),t):function(r){var n=Ss(r,e);return n===i&&n===t?Cs(r,e):Dn(t,n,3)}}function Gn(e,t,r,n,o){e!==t&&yn(t,(function(a,s){if(o||(o=new Jr),es(a))!function(e,t,r,n,o,a,s){var u=Bo(e,r),c=Bo(t,r),l=s.get(c);if(l)return void Zr(e,r,l);var f=a?a(u,c,r+"",e,t,s):i,d=f===i;if(d){var h=ja(c),p=!h&&Ja(c),A=!h&&!p&&cs(c);f=c,h||p||A?ja(u)?f=u:za(u)?f=Bi(u):p?(d=!1,f=wi(c,!0)):A?(d=!1,f=Ti(c,!0)):f=[]:is(c)||Ha(c)?(f=u,Ha(u)?f=vs(u):es(u)&&!Ka(u)||(f=vo(c))):d=!1}d&&(s.set(c,f),o(f,c,n,a,s),s.delete(c));Zr(e,r,f)}(e,t,s,r,Gn,n,o);else{var u=n?n(Bo(e,s),a,s+"",e,t,o):i;u===i&&(u=a),Zr(e,s,u)}}),Ds)}function Hn(e,t){var r=e.length;if(r)return mo(t+=t<0?r:0,r)?e[t]:i}function jn(e,t,r){var n=-1;t=Mt(t.length?t:[nu],Vt(uo()));var i=Qn(e,(function(e,r,i){var o=Mt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){var u=Si(i[n],o[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Wn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=wn(e,a);r(s,a)&&Zn(o,mi(a,e),s)}return o}function Yn(e,t,r,n){var i=n?jt:Ht,o=-1,a=t.length,s=e;for(e===t&&(t=Bi(t)),r&&(s=Mt(e,Vt(r)));++o<a;)for(var u=0,c=t[o],l=r?r(c):c;(u=i(s,l,u,n))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function zn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;mo(i)?Ke.call(e,i,1):fi(e,i)}}return e}function Jn(e,t){return e+vt(Er()*(t-e+1))}function $n(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=vt(t/2))&&(e+=e)}while(t);return r}function Xn(e,t){return Do(Co(e,t,nu),e+"")}function Kn(e){return Xr(Fs(e))}function Vn(e,t){var r=Fs(e);return Mo(r,sn(t,0,r.length))}function Zn(e,t,r,n){if(!es(e))return e;for(var o=-1,a=(t=mi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=Uo(t[o]),l=r;if(o!=s){var f=u[c];(l=n?n(f,c,u):i)===i&&(l=es(f)?f:mo(t[o+1])?[]:{})}en(u,c,l),u=u[c]}return e}var ei=Br?function(e,t){return Br.set(e,t),e}:nu,ti=it?function(e,t){return it(e,"toString",{configurable:!0,enumerable:!1,value:eu(t),writable:!0})}:nu;function ri(e){return Mo(Fs(e))}function ni(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function ii(e,t){var r;return dn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function oi(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=e[o];null!==a&&!us(a)&&(r?a<=t:a<t)?n=o+1:i=o}return i}return ai(e,t,nu,r)}function ai(e,t,r,n){t=r(t);for(var o=0,a=null==e?0:e.length,s=t!=t,u=null===t,c=us(t),l=t===i;o<a;){var f=vt((o+a)/2),d=r(e[f]),h=d!==i,p=null===d,A=d==d,g=us(d);if(s)var v=n||A;else v=l?A&&(n||h):u?A&&h&&(n||!p):c?A&&h&&!p&&(n||!g):!p&&!g&&(n?d<=t:d<t);v?o=f+1:a=f}return yr(a,4294967294)}function si(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!Fa(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:us(e)?A:+e}function ci(e){if("string"==typeof e)return e;if(ja(e))return Mt(e,ci)+"";if(us(e))return Pr?Pr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function li(e,t,r){var n=-1,i=kt,o=e.length,a=!0,s=[],u=s;if(r)a=!1,i=Lt;else if(o>=200){var c=t?null:$i(e);if(c)return lr(c);a=!1,i=er,u=new zr}else u=t?[]:s;e:for(;++n<o;){var l=e[n],f=t?t(l):l;if(l=r||0!==l?l:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,r)||(u!==s&&u.push(f),s.push(l))}return s}function fi(e,t){return null==(e=No(e,t=mi(t,e)))||delete e[Uo(Xo(t))]}function di(e,t,r,n){return Zn(e,t,r(wn(e,t)),n)}function hi(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ni(e,n?0:o,n?o+1:i):ni(e,n?o+1:0,n?i:o)}function pi(e,t){var r=e;return r instanceof Hr&&(r=r.value()),Ut(t,(function(e,t){return t.func.apply(t.thisArg,xt([e],t.args))}),r)}function Ai(e,t,r){var i=e.length;if(i<2)return i?li(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=fn(a[o]||s,e[u],t,r));return li(vn(a,1),t,r)}function gi(e,t,r){for(var n=-1,o=e.length,a=t.length,s={};++n<o;){var u=n<a?t[n]:i;r(s,e[n],u)}return s}function vi(e){return za(e)?e:[]}function yi(e){return"function"==typeof e?e:nu}function mi(e,t){return ja(e)?e:Eo(e,t)?[e]:xo(ys(e))}var _i=Xn;function Ei(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ni(e,t,r)}var bi=lt||function(e){return At.clearTimeout(e)};function wi(e,t){if(t)return e.slice();var r=e.length,n=ze?ze(r):new e.constructor(r);return e.copy(n),n}function Ii(e){var t=new e.constructor(e.byteLength);return new Ye(t).set(new Ye(e)),t}function Ti(e,t){var r=t?Ii(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var r=e!==i,n=null===e,o=e==e,a=us(e),s=t!==i,u=null===t,c=t==t,l=us(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||n&&s&&c||!r&&c||!o)return 1;if(!n&&!a&&!l&&e<t||l&&r&&o&&!n&&!a||u&&r&&o||!s&&o||!c)return-1}return 0}function Ci(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=vr(a-s,0),f=n(c+l),d=!i;++u<c;)f[u]=t[u];for(;++o<s;)(d||o<a)&&(f[r[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function Ni(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=vr(a-u,0),d=n(f+l),h=!i;++o<f;)d[o]=e[o];for(var p=o;++c<l;)d[p+c]=t[c];for(;++s<u;)(h||o<a)&&(d[p+r[s]]=e[o++]);return d}function Bi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Oi(e,t,r,n){var o=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=n?n(r[u],e[u],u,r,e):i;c===i&&(c=e[u]),o?on(r,u,c):en(r,u,c)}return r}function Ri(e,t){return function(r,n){var i=ja(r)?Nt:rn,o=t?t():{};return i(r,e,uo(n,2),o)}}function Di(e){return Xn((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:i,s=o>2?r[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&_o(r[0],r[1],s)&&(a=o<3?i:a,o=1),t=Ne(t);++n<o;){var u=r[n];u&&e(t,u,n,a)}return t}))}function ki(e,t){return function(r,n){if(null==r)return r;if(!Ya(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Ne(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function Li(e){return function(t,r,n){for(var i=-1,o=Ne(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}function Mi(e){return function(t){var r=ar(t=ys(t))?hr(t):i,n=r?r[0]:t.charAt(0),o=r?Ei(r,1).join(""):t.slice(1);return n[e]()+o}}function xi(e){return function(t){return Ut(Ks(Hs(t).replace(et,"")),e,"")}}function Ui(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fr(e.prototype),n=e.apply(r,t);return es(n)?n:r}}function Pi(e){return function(t,r,n){var o=Ne(t);if(!Ya(t)){var a=uo(r,3);t=Rs(t),r=function(e){return a(o[e],e,o)}}var s=e(t,r,n);return s>-1?o[a?t[s]:s]:i}}function Qi(e){return ro((function(t){var r=t.length,n=r,a=Gr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Re(o);if(a&&!u&&"wrapper"==ao(s))var u=new Gr([],!0)}for(n=u?n:r;++n<r;){var c=ao(s=t[n]),l="wrapper"==c?oo(s):i;u=l&&bo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ao(l[0])].apply(u,l[3]):1==s.length&&bo(s)?u[c]():u.thru(s)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&ja(n))return u.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Fi(e,t,r,o,a,s,u,c,l,d){var h=t&f,p=1&t,A=2&t,g=24&t,v=512&t,y=A?i:Ui(e);return function f(){for(var m=arguments.length,_=n(m),E=m;E--;)_[E]=arguments[E];if(g)var b=so(f),w=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(_,b);if(o&&(_=Ci(_,o,a,g)),s&&(_=Ni(_,s,u,g)),m-=w,g&&m<d){var I=cr(_,b);return zi(e,t,Fi,f.placeholder,r,_,I,c,l,d-m)}var T=p?r:this,S=A?T[e]:e;return m=_.length,c?_=function(e,t){var r=e.length,n=yr(t.length,r),o=Bi(e);for(;n--;){var a=t[n];e[n]=mo(a,r)?o[a]:i}return e}(_,c):v&&m>1&&_.reverse(),h&&l<m&&(_.length=l),this&&this!==At&&this instanceof f&&(S=y||Ui(S)),S.apply(T,_)}}function qi(e,t){return function(r,n){return function(e,t,r,n){return _n(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Gi(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=ci(r),n=ci(n)):(r=ui(r),n=ui(n)),o=e(r,n)}return o}}function Hi(e){return ro((function(t){return t=Mt(t,Vt(uo())),Xn((function(r){var n=this;return e(t,(function(e){return Ct(e,n,r)}))}))}))}function ji(e,t){var r=(t=t===i?" ":ci(t)).length;if(r<2)return r?$n(t,e):t;var n=$n(t,gt(e/dr(t)));return ar(t)?Ei(hr(n),0,e).join(""):n.slice(0,e)}function Wi(e){return function(t,r,o){return o&&"number"!=typeof o&&_o(t,r,o)&&(r=o=i),t=hs(t),r===i?(r=t,t=0):r=hs(r),function(e,t,r,i){for(var o=-1,a=vr(gt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:hs(o),e)}}function Yi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=gs(t),r=gs(r)),e(t,r)}}function zi(e,t,r,n,o,a,s,u,f,d){var h=8&t;t|=h?c:l,4&(t&=~(h?l:c))||(t&=-4);var p=[e,t,o,h?a:i,h?s:i,h?i:a,h?i:s,u,f,d],A=r.apply(i,p);return bo(e)&&Oo(A,p),A.placeholder=n,ko(A,e,t)}function Ji(e){var t=Ce[e];return function(e,r){if(e=gs(e),(r=null==r?0:yr(ps(r),292))&&Ft(e)){var n=(ys(e)+"e").split("e");return+((n=(ys(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var $i=Sr&&1/lr(new Sr([,-0]))[1]==h?function(e){return new Sr(e)}:uu;function Xi(e){return function(t){var r=Ao(t);return r==T?sr(t):r==O?fr(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ki(e,t,r,a,h,p,A,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Re(o);var y=a?a.length:0;if(y||(t&=-97,a=h=i),A=A===i?A:vr(ps(A),0),g=g===i?g:ps(g),y-=h?h.length:0,t&l){var m=a,_=h;a=h=i}var E=v?i:oo(e),b=[e,t,r,a,h,m,_,p,A,g];if(E&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,a=n==f&&8==r||n==f&&r==d&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!a)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Ci(c,u,t[4]):u,e[4]=c?cr(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ni(c,u,t[6]):u,e[6]=c?cr(e[5],s):t[6]);(u=t[7])&&(e[7]=u);n&f&&(e[8]=null==e[8]?t[8]:yr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(b,E),e=b[0],t=b[1],r=b[2],a=b[3],h=b[4],!(g=b[9]=b[9]===i?v?0:e.length:vr(b[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==u?function(e,t,r){var o=Ui(e);return function a(){for(var s=arguments.length,u=n(s),c=s,l=so(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:cr(u,l);return(s-=f.length)<r?zi(e,t,Fi,a.placeholder,i,u,f,i,i,r-s):Ct(this&&this!==At&&this instanceof a?o:e,this,u)}}(e,t,g):t!=c&&33!=t||h.length?Fi.apply(i,b):function(e,t,r,i){var o=1&t,a=Ui(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),d=this&&this!==At&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return Ct(d,o?r:this,f)}}(e,t,r,a);else var w=function(e,t,r){var n=1&t,i=Ui(e);return function t(){return(this&&this!==At&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return ko((E?ei:Oo)(w,b),e,t)}function Vi(e,t,r,n){return e===i||Fa(e,Le[r])&&!Ue.call(n,r)?t:e}function Zi(e,t,r,n,o,a){return es(e)&&es(t)&&(a.set(t,e),Gn(e,t,i,Zi,a),a.delete(t)),e}function eo(e){return is(e)?i:e}function to(e,t,r,n,o,a){var s=1&r,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var f=-1,d=!0,h=2&r?new zr:i;for(a.set(e,t),a.set(t,e);++f<u;){var p=e[f],A=t[f];if(n)var g=s?n(A,p,f,t,e,a):n(p,A,f,e,t,a);if(g!==i){if(g)continue;d=!1;break}if(h){if(!Qt(t,(function(e,t){if(!er(h,t)&&(p===e||o(p,e,r,n,a)))return h.push(t)}))){d=!1;break}}else if(p!==A&&!o(p,A,r,n,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ro(e){return Do(Co(e,i,Wo),e+"")}function no(e){return In(e,Rs,ho)}function io(e){return In(e,Ds,po)}var oo=Br?function(e){return Br.get(e)}:uu;function ao(e){for(var t=e.name+"",r=Or[t],n=Ue.call(Or,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function so(e){return(Ue.call(Qr,"placeholder")?Qr:e).placeholder}function uo(){var e=Qr.iteratee||iu;return e=e===iu?Mn:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function lo(e){for(var t=Rs(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,To(i)]}return t}function fo(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Ln(r)?r:i}var ho=mt?function(e){return null==e?[]:(e=Ne(e),Dt(mt(e),(function(t){return Xe.call(e,t)})))}:Au,po=mt?function(e){for(var t=[];e;)xt(t,ho(e)),e=Je(e);return t}:Au,Ao=Tn;function go(e,t,r){for(var n=-1,i=(t=mi(t,e)).length,o=!1;++n<i;){var a=Uo(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Za(i)&&mo(a,i)&&(ja(e)||Ha(e))}function vo(e){return"function"!=typeof e.constructor||Io(e)?{}:Fr(Je(e))}function yo(e){return ja(e)||Ha(e)||!!(Ve&&e&&e[Ve])}function mo(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&_e.test(e))&&e>-1&&e%1==0&&e<t}function _o(e,t,r){if(!es(r))return!1;var n=typeof t;return!!("number"==n?Ya(r)&&mo(t,r.length):"string"==n&&t in r)&&Fa(r[t],e)}function Eo(e,t){if(ja(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!us(e))||(re.test(e)||!te.test(e)||null!=t&&e in Ne(t))}function bo(e){var t=ao(e),r=Qr[t];if("function"!=typeof r||!(t in Hr.prototype))return!1;if(e===r)return!0;var n=oo(r);return!!n&&e===n[0]}(wr&&Ao(new wr(new ArrayBuffer(1)))!=M||Ir&&Ao(new Ir)!=T||Tr&&Ao(Tr.resolve())!=N||Sr&&Ao(new Sr)!=O||Cr&&Ao(new Cr)!=k)&&(Ao=function(e){var t=Tn(e),r=t==C?e.constructor:i,n=r?Po(r):"";if(n)switch(n){case Rr:return M;case Dr:return T;case kr:return N;case Lr:return O;case Mr:return k}return t});var wo=Me?Ka:gu;function Io(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Le)}function To(e){return e==e&&!es(e)}function So(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==i||e in Ne(r)))}}function Co(e,t,r){return t=vr(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=vr(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),Ct(e,this,u)}}function No(e,t){return t.length<2?e:wn(e,ni(t,0,-1))}function Bo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oo=Lo(ei),Ro=pt||function(e,t){return At.setTimeout(e,t)},Do=Lo(ti);function ko(e,t,r){var n=t+"";return Do(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Bt(v,(function(r){var n="_."+r[0];t&r[1]&&!kt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(fe):[]}(n),r)))}function Lo(e){var t=0,r=0;return function(){var n=mr(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Mo(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var a=Jn(r,o),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var xo=function(e){var t=La(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,i){t.push(n?i.replace(he,"$1"):r||e)})),t}));function Uo(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Po(e){if(null!=e){try{return xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Qo(e){if(e instanceof Hr)return e.clone();var t=new Gr(e.__wrapped__,e.__chain__);return t.__actions__=Bi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fo=Xn((function(e,t){return za(e)?fn(e,vn(t,1,za,!0)):[]})),qo=Xn((function(e,t){var r=Xo(t);return za(r)&&(r=i),za(e)?fn(e,vn(t,1,za,!0),uo(r,2)):[]})),Go=Xn((function(e,t){var r=Xo(t);return za(r)&&(r=i),za(e)?fn(e,vn(t,1,za,!0),i,r):[]}));function Ho(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ps(r);return i<0&&(i=vr(n+i,0)),Gt(e,uo(t,3),i)}function jo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=ps(r),o=r<0?vr(n+o,0):yr(o,n-1)),Gt(e,uo(t,3),o,!0)}function Wo(e){return(null==e?0:e.length)?vn(e,1):[]}function Yo(e){return e&&e.length?e[0]:i}var zo=Xn((function(e){var t=Mt(e,vi);return t.length&&t[0]===e[0]?Bn(t):[]})),Jo=Xn((function(e){var t=Xo(e),r=Mt(e,vi);return t===Xo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Bn(r,uo(t,2)):[]})),$o=Xn((function(e){var t=Xo(e),r=Mt(e,vi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?Bn(r,i,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ko=Xn(Vo);function Vo(e,t){return e&&e.length&&t&&t.length?Yn(e,t):e}var Zo=ro((function(e,t){var r=null==e?0:e.length,n=an(e,t);return zn(e,Mt(t,(function(e){return mo(e,r)?+e:e})).sort(Si)),n}));function ea(e){return null==e?e:br.call(e)}var ta=Xn((function(e){return li(vn(e,1,za,!0))})),ra=Xn((function(e){var t=Xo(e);return za(t)&&(t=i),li(vn(e,1,za,!0),uo(t,2))})),na=Xn((function(e){var t=Xo(e);return t="function"==typeof t?t:i,li(vn(e,1,za,!0),i,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(za(e))return t=vr(e.length,t),!0})),Kt(t,(function(t){return Mt(e,zt(t))}))}function oa(e,t){if(!e||!e.length)return[];var r=ia(e);return null==t?r:Mt(r,(function(e){return Ct(t,i,e)}))}var aa=Xn((function(e,t){return za(e)?fn(e,t):[]})),sa=Xn((function(e){return Ai(Dt(e,za))})),ua=Xn((function(e){var t=Xo(e);return za(t)&&(t=i),Ai(Dt(e,za),uo(t,2))})),ca=Xn((function(e){var t=Xo(e);return t="function"==typeof t?t:i,Ai(Dt(e,za),i,t)})),la=Xn(ia);var fa=Xn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,oa(e,r)}));function da(e){var t=Qr(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var pa=ro((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return an(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Hr&&mo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ha,args:[o],thisArg:i}),new Gr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var Aa=Ri((function(e,t,r){Ue.call(e,r)?++e[r]:on(e,r,1)}));var ga=Pi(Ho),va=Pi(jo);function ya(e,t){return(ja(e)?Bt:dn)(e,uo(t,3))}function ma(e,t){return(ja(e)?Ot:hn)(e,uo(t,3))}var _a=Ri((function(e,t,r){Ue.call(e,r)?e[r].push(t):on(e,r,[t])}));var Ea=Xn((function(e,t,r){var i=-1,o="function"==typeof t,a=Ya(e)?n(e.length):[];return dn(e,(function(e){a[++i]=o?Ct(t,e,r):On(e,t,r)})),a})),ba=Ri((function(e,t,r){on(e,r,t)}));function wa(e,t){return(ja(e)?Mt:Qn)(e,uo(t,3))}var Ia=Ri((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Ta=Xn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&_o(e,t[0],t[1])?t=[]:r>2&&_o(t[0],t[1],t[2])&&(t=[t[0]]),jn(e,vn(t,1),[])})),Sa=ht||function(){return At.Date.now()};function Ca(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Ki(e,f,i,i,i,i,t)}function Na(e,t){var r;if("function"!=typeof t)throw new Re(o);return e=ps(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Ba=Xn((function(e,t,r){var n=1;if(r.length){var i=cr(r,so(Ba));n|=c}return Ki(e,n,t,r,i)})),Oa=Xn((function(e,t,r){var n=3;if(r.length){var i=cr(r,so(Oa));n|=c}return Ki(t,n,e,r,i)}));function Ra(e,t,r){var n,a,s,u,c,l,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Re(o);function A(t){var r=n,o=a;return n=a=i,f=t,u=e.apply(o,r)}function g(e){var r=e-l;return l===i||r>=t||r<0||h&&e-f>=s}function v(){var e=Sa();if(g(e))return y(e);c=Ro(v,function(e){var r=t-(e-l);return h?yr(r,s-(e-f)):r}(e))}function y(e){return c=i,p&&n?A(e):(n=a=i,u)}function m(){var e=Sa(),r=g(e);if(n=arguments,a=this,l=e,r){if(c===i)return function(e){return f=e,c=Ro(v,t),d?A(e):u}(l);if(h)return bi(c),c=Ro(v,t),A(l)}return c===i&&(c=Ro(v,t)),u}return t=gs(t)||0,es(r)&&(d=!!r.leading,s=(h="maxWait"in r)?vr(gs(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),m.cancel=function(){c!==i&&bi(c),f=0,n=l=a=c=i},m.flush=function(){return c===i?u:y(Sa())},m}var Da=Xn((function(e,t){return ln(e,1,t)})),ka=Xn((function(e,t,r){return ln(e,gs(t)||0,r)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Re(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(La.Cache||Yr),r}function Ma(e){if("function"!=typeof e)throw new Re(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=Yr;var xa=_i((function(e,t){var r=(t=1==t.length&&ja(t[0])?Mt(t[0],Vt(uo())):Mt(vn(t,1),Vt(uo()))).length;return Xn((function(n){for(var i=-1,o=yr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return Ct(e,this,n)}))})),Ua=Xn((function(e,t){var r=cr(t,so(Ua));return Ki(e,c,i,t,r)})),Pa=Xn((function(e,t){var r=cr(t,so(Pa));return Ki(e,l,i,t,r)})),Qa=ro((function(e,t){return Ki(e,d,i,i,i,t)}));function Fa(e,t){return e===t||e!=e&&t!=t}var qa=Yi(Sn),Ga=Yi((function(e,t){return e>=t})),Ha=Rn(function(){return arguments}())?Rn:function(e){return ts(e)&&Ue.call(e,"callee")&&!Xe.call(e,"callee")},ja=n.isArray,Wa=Et?Vt(Et):function(e){return ts(e)&&Tn(e)==L};function Ya(e){return null!=e&&Za(e.length)&&!Ka(e)}function za(e){return ts(e)&&Ya(e)}var Ja=_t||gu,$a=bt?Vt(bt):function(e){return ts(e)&&Tn(e)==E};function Xa(e){if(!ts(e))return!1;var t=Tn(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Ka(e){if(!es(e))return!1;var t=Tn(e);return t==w||t==I||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Va(e){return"number"==typeof e&&e==ps(e)}function Za(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var rs=wt?Vt(wt):function(e){return ts(e)&&Ao(e)==T};function ns(e){return"number"==typeof e||ts(e)&&Tn(e)==S}function is(e){if(!ts(e)||Tn(e)!=C)return!1;var t=Je(e);if(null===t)return!0;var r=Ue.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&xe.call(r)==qe}var os=It?Vt(It):function(e){return ts(e)&&Tn(e)==B};var as=Tt?Vt(Tt):function(e){return ts(e)&&Ao(e)==O};function ss(e){return"string"==typeof e||!ja(e)&&ts(e)&&Tn(e)==R}function us(e){return"symbol"==typeof e||ts(e)&&Tn(e)==D}var cs=St?Vt(St):function(e){return ts(e)&&Za(e.length)&&!!ut[Tn(e)]};var ls=Yi(Pn),fs=Yi((function(e,t){return e<=t}));function ds(e){if(!e)return[];if(Ya(e))return ss(e)?hr(e):Bi(e);if(Ze&&e[Ze])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ze]());var t=Ao(e);return(t==T?sr:t==O?lr:Fs)(e)}function hs(e){return e?(e=gs(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ps(e){var t=hs(e),r=t%1;return t==t?r?t-r:t:0}function As(e){return e?sn(ps(e),0,g):0}function gs(e){if("number"==typeof e)return e;if(us(e))return A;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ae,"");var r=ve.test(e);return r||me.test(e)?dt(e.slice(2),r?2:8):ge.test(e)?A:+e}function vs(e){return Oi(e,Ds(e))}function ys(e){return null==e?"":ci(e)}var ms=Di((function(e,t){if(Io(t)||Ya(t))Oi(t,Rs(t),e);else for(var r in t)Ue.call(t,r)&&en(e,r,t[r])})),_s=Di((function(e,t){Oi(t,Ds(t),e)})),Es=Di((function(e,t,r,n){Oi(t,Ds(t),e,n)})),bs=Di((function(e,t,r,n){Oi(t,Rs(t),e,n)})),ws=ro(an);var Is=Xn((function(e,t){e=Ne(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&_o(t[0],t[1],o)&&(n=1);++r<n;)for(var a=t[r],s=Ds(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===i||Fa(f,Le[l])&&!Ue.call(e,l))&&(e[l]=a[l])}return e})),Ts=Xn((function(e){return e.push(i,Zi),Ct(Ls,i,e)}));function Ss(e,t,r){var n=null==e?i:wn(e,t);return n===i?r:n}function Cs(e,t){return null!=e&&go(e,t,Nn)}var Ns=qi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r}),eu(nu)),Bs=qi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Ue.call(e,t)?e[t].push(r):e[t]=[r]}),uo),Os=Xn(On);function Rs(e){return Ya(e)?$r(e):xn(e)}function Ds(e){return Ya(e)?$r(e,!0):Un(e)}var ks=Di((function(e,t,r){Gn(e,t,r)})),Ls=Di((function(e,t,r,n){Gn(e,t,r,n)})),Ms=ro((function(e,t){var r={};if(null==e)return r;var n=!1;t=Mt(t,(function(t){return t=mi(t,e),n||(n=t.length>1),t})),Oi(e,io(e),r),n&&(r=un(r,7,eo));for(var i=t.length;i--;)fi(r,t[i]);return r}));var xs=ro((function(e,t){return null==e?{}:function(e,t){return Wn(e,t,(function(t,r){return Cs(e,r)}))}(e,t)}));function Us(e,t){if(null==e)return{};var r=Mt(io(e),(function(e){return[e]}));return t=uo(t),Wn(e,r,(function(e,r){return t(e,r[0])}))}var Ps=Xi(Rs),Qs=Xi(Ds);function Fs(e){return null==e?[]:Zt(e,Rs(e))}var qs=xi((function(e,t,r){return t=t.toLowerCase(),e+(r?Gs(t):t)}));function Gs(e){return Xs(ys(e).toLowerCase())}function Hs(e){return(e=ys(e))&&e.replace(Ee,nr).replace(tt,"")}var js=xi((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Ws=xi((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Ys=Mi("toLowerCase");var zs=xi((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Js=xi((function(e,t,r){return e+(r?" ":"")+Xs(t)}));var $s=xi((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Xs=Mi("toUpperCase");function Ks(e,t,r){return e=ys(e),(t=r?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Vs=Xn((function(e,t){try{return Ct(e,i,t)}catch(e){return Xa(e)?e:new Te(e)}})),Zs=ro((function(e,t){return Bt(t,(function(t){t=Uo(t),on(e,t,Ba(e[t],e))})),e}));function eu(e){return function(){return e}}var tu=Qi(),ru=Qi(!0);function nu(e){return e}function iu(e){return Mn("function"==typeof e?e:un(e,1))}var ou=Xn((function(e,t){return function(r){return On(r,e,t)}})),au=Xn((function(e,t){return function(r){return On(e,r,t)}}));function su(e,t,r){var n=Rs(t),i=bn(t,n);null!=r||es(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=bn(t,Rs(t)));var o=!(es(r)&&"chain"in r&&!r.chain),a=Ka(e);return Bt(i,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Bi(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,xt([this.value()],arguments))})})),e}function uu(){}var cu=Hi(Mt),lu=Hi(Rt),fu=Hi(Qt);function du(e){return Eo(e)?zt(Uo(e)):function(e){return function(t){return wn(t,e)}}(e)}var hu=Wi(),pu=Wi(!0);function Au(){return[]}function gu(){return!1}var vu=Gi((function(e,t){return e+t}),0),yu=Ji("ceil"),mu=Gi((function(e,t){return e/t}),1),_u=Ji("floor");var Eu,bu=Gi((function(e,t){return e*t}),1),wu=Ji("round"),Iu=Gi((function(e,t){return e-t}),0);return Qr.after=function(e,t){if("function"!=typeof t)throw new Re(o);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Qr.ary=Ca,Qr.assign=ms,Qr.assignIn=_s,Qr.assignInWith=Es,Qr.assignWith=bs,Qr.at=ws,Qr.before=Na,Qr.bind=Ba,Qr.bindAll=Zs,Qr.bindKey=Oa,Qr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ja(e)?e:[e]},Qr.chain=da,Qr.chunk=function(e,t,r){t=(r?_o(e,t,r):t===i)?1:vr(ps(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(gt(o/t));a<o;)u[s++]=ni(e,a,a+=t);return u},Qr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Qr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return xt(ja(r)?Bi(r):[r],vn(t,1))},Qr.cond=function(e){var t=null==e?0:e.length,r=uo();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Re(o);return[r(e[0]),e[1]]})):[],Xn((function(r){for(var n=-1;++n<t;){var i=e[n];if(Ct(i[0],this,r))return Ct(i[1],this,r)}}))},Qr.conforms=function(e){return function(e){var t=Rs(e);return function(r){return cn(r,e,t)}}(un(e,1))},Qr.constant=eu,Qr.countBy=Aa,Qr.create=function(e,t){var r=Fr(e);return null==t?r:nn(r,t)},Qr.curry=function e(t,r,n){var o=Ki(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Qr.curryRight=function e(t,r,n){var o=Ki(t,u,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Qr.debounce=Ra,Qr.defaults=Is,Qr.defaultsDeep=Ts,Qr.defer=Da,Qr.delay=ka,Qr.difference=Fo,Qr.differenceBy=qo,Qr.differenceWith=Go,Qr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,(t=r||t===i?1:ps(t))<0?0:t,n):[]},Qr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,0,(t=n-(t=r||t===i?1:ps(t)))<0?0:t):[]},Qr.dropRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0,!0):[]},Qr.dropWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0):[]},Qr.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&_o(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=ps(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:ps(n))<0&&(n+=o),n=r>n?0:As(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Qr.filter=function(e,t){return(ja(e)?Dt:gn)(e,uo(t,3))},Qr.flatMap=function(e,t){return vn(wa(e,t),1)},Qr.flatMapDeep=function(e,t){return vn(wa(e,t),h)},Qr.flatMapDepth=function(e,t,r){return r=r===i?1:ps(r),vn(wa(e,t),r)},Qr.flatten=Wo,Qr.flattenDeep=function(e){return(null==e?0:e.length)?vn(e,h):[]},Qr.flattenDepth=function(e,t){return(null==e?0:e.length)?vn(e,t=t===i?1:ps(t)):[]},Qr.flip=function(e){return Ki(e,512)},Qr.flow=tu,Qr.flowRight=ru,Qr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Qr.functions=function(e){return null==e?[]:bn(e,Rs(e))},Qr.functionsIn=function(e){return null==e?[]:bn(e,Ds(e))},Qr.groupBy=_a,Qr.initial=function(e){return(null==e?0:e.length)?ni(e,0,-1):[]},Qr.intersection=zo,Qr.intersectionBy=Jo,Qr.intersectionWith=$o,Qr.invert=Ns,Qr.invertBy=Bs,Qr.invokeMap=Ea,Qr.iteratee=iu,Qr.keyBy=ba,Qr.keys=Rs,Qr.keysIn=Ds,Qr.map=wa,Qr.mapKeys=function(e,t){var r={};return t=uo(t,3),_n(e,(function(e,n,i){on(r,t(e,n,i),e)})),r},Qr.mapValues=function(e,t){var r={};return t=uo(t,3),_n(e,(function(e,n,i){on(r,n,t(e,n,i))})),r},Qr.matches=function(e){return Fn(un(e,1))},Qr.matchesProperty=function(e,t){return qn(e,un(t,1))},Qr.memoize=La,Qr.merge=ks,Qr.mergeWith=Ls,Qr.method=ou,Qr.methodOf=au,Qr.mixin=su,Qr.negate=Ma,Qr.nthArg=function(e){return e=ps(e),Xn((function(t){return Hn(t,e)}))},Qr.omit=Ms,Qr.omitBy=function(e,t){return Us(e,Ma(uo(t)))},Qr.once=function(e){return Na(2,e)},Qr.orderBy=function(e,t,r,n){return null==e?[]:(ja(t)||(t=null==t?[]:[t]),ja(r=n?i:r)||(r=null==r?[]:[r]),jn(e,t,r))},Qr.over=cu,Qr.overArgs=xa,Qr.overEvery=lu,Qr.overSome=fu,Qr.partial=Ua,Qr.partialRight=Pa,Qr.partition=Ia,Qr.pick=xs,Qr.pickBy=Us,Qr.property=du,Qr.propertyOf=function(e){return function(t){return null==e?i:wn(e,t)}},Qr.pull=Ko,Qr.pullAll=Vo,Qr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Yn(e,t,uo(r,2)):e},Qr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Yn(e,t,i,r):e},Qr.pullAt=Zo,Qr.range=hu,Qr.rangeRight=pu,Qr.rearg=Qa,Qr.reject=function(e,t){return(ja(e)?Dt:gn)(e,Ma(uo(t,3)))},Qr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=uo(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return zn(e,i),r},Qr.rest=function(e,t){if("function"!=typeof e)throw new Re(o);return Xn(e,t=t===i?t:ps(t))},Qr.reverse=ea,Qr.sampleSize=function(e,t,r){return t=(r?_o(e,t,r):t===i)?1:ps(t),(ja(e)?Kr:Vn)(e,t)},Qr.set=function(e,t,r){return null==e?e:Zn(e,t,r)},Qr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Zn(e,t,r,n)},Qr.shuffle=function(e){return(ja(e)?Vr:ri)(e)},Qr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&_o(e,t,r)?(t=0,r=n):(t=null==t?0:ps(t),r=r===i?n:ps(r)),ni(e,t,r)):[]},Qr.sortBy=Ta,Qr.sortedUniq=function(e){return e&&e.length?si(e):[]},Qr.sortedUniqBy=function(e,t){return e&&e.length?si(e,uo(t,2)):[]},Qr.split=function(e,t,r){return r&&"number"!=typeof r&&_o(e,t,r)&&(t=r=i),(r=r===i?g:r>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=ci(t))&&ar(e)?Ei(hr(e),0,r):e.split(t,r):[]},Qr.spread=function(e,t){if("function"!=typeof e)throw new Re(o);return t=null==t?0:vr(ps(t),0),Xn((function(r){var n=r[t],i=Ei(r,0,t);return n&&xt(i,n),Ct(e,this,i)}))},Qr.tail=function(e){var t=null==e?0:e.length;return t?ni(e,1,t):[]},Qr.take=function(e,t,r){return e&&e.length?ni(e,0,(t=r||t===i?1:ps(t))<0?0:t):[]},Qr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,(t=n-(t=r||t===i?1:ps(t)))<0?0:t,n):[]},Qr.takeRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!1,!0):[]},Qr.takeWhile=function(e,t){return e&&e.length?hi(e,uo(t,3)):[]},Qr.tap=function(e,t){return t(e),e},Qr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Re(o);return es(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ra(e,t,{leading:n,maxWait:t,trailing:i})},Qr.thru=ha,Qr.toArray=ds,Qr.toPairs=Ps,Qr.toPairsIn=Qs,Qr.toPath=function(e){return ja(e)?Mt(e,Uo):us(e)?[e]:Bi(xo(ys(e)))},Qr.toPlainObject=vs,Qr.transform=function(e,t,r){var n=ja(e),i=n||Ja(e)||cs(e);if(t=uo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:es(e)&&Ka(o)?Fr(Je(e)):{}}return(i?Bt:_n)(e,(function(e,n,i){return t(r,e,n,i)})),r},Qr.unary=function(e){return Ca(e,1)},Qr.union=ta,Qr.unionBy=ra,Qr.unionWith=na,Qr.uniq=function(e){return e&&e.length?li(e):[]},Qr.uniqBy=function(e,t){return e&&e.length?li(e,uo(t,2)):[]},Qr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?li(e,i,t):[]},Qr.unset=function(e,t){return null==e||fi(e,t)},Qr.unzip=ia,Qr.unzipWith=oa,Qr.update=function(e,t,r){return null==e?e:di(e,t,yi(r))},Qr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:di(e,t,yi(r),n)},Qr.values=Fs,Qr.valuesIn=function(e){return null==e?[]:Zt(e,Ds(e))},Qr.without=aa,Qr.words=Ks,Qr.wrap=function(e,t){return Ua(yi(t),e)},Qr.xor=sa,Qr.xorBy=ua,Qr.xorWith=ca,Qr.zip=la,Qr.zipObject=function(e,t){return gi(e||[],t||[],en)},Qr.zipObjectDeep=function(e,t){return gi(e||[],t||[],Zn)},Qr.zipWith=fa,Qr.entries=Ps,Qr.entriesIn=Qs,Qr.extend=_s,Qr.extendWith=Es,su(Qr,Qr),Qr.add=vu,Qr.attempt=Vs,Qr.camelCase=qs,Qr.capitalize=Gs,Qr.ceil=yu,Qr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=gs(r))==r?r:0),t!==i&&(t=(t=gs(t))==t?t:0),sn(gs(e),t,r)},Qr.clone=function(e){return un(e,4)},Qr.cloneDeep=function(e){return un(e,5)},Qr.cloneDeepWith=function(e,t){return un(e,5,t="function"==typeof t?t:i)},Qr.cloneWith=function(e,t){return un(e,4,t="function"==typeof t?t:i)},Qr.conformsTo=function(e,t){return null==t||cn(e,t,Rs(t))},Qr.deburr=Hs,Qr.defaultTo=function(e,t){return null==e||e!=e?t:e},Qr.divide=mu,Qr.endsWith=function(e,t,r){e=ys(e),t=ci(t);var n=e.length,o=r=r===i?n:sn(ps(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},Qr.eq=Fa,Qr.escape=function(e){return(e=ys(e))&&K.test(e)?e.replace($,ir):e},Qr.escapeRegExp=function(e){return(e=ys(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Qr.every=function(e,t,r){var n=ja(e)?Rt:pn;return r&&_o(e,t,r)&&(t=i),n(e,uo(t,3))},Qr.find=ga,Qr.findIndex=Ho,Qr.findKey=function(e,t){return qt(e,uo(t,3),_n)},Qr.findLast=va,Qr.findLastIndex=jo,Qr.findLastKey=function(e,t){return qt(e,uo(t,3),En)},Qr.floor=_u,Qr.forEach=ya,Qr.forEachRight=ma,Qr.forIn=function(e,t){return null==e?e:yn(e,uo(t,3),Ds)},Qr.forInRight=function(e,t){return null==e?e:mn(e,uo(t,3),Ds)},Qr.forOwn=function(e,t){return e&&_n(e,uo(t,3))},Qr.forOwnRight=function(e,t){return e&&En(e,uo(t,3))},Qr.get=Ss,Qr.gt=qa,Qr.gte=Ga,Qr.has=function(e,t){return null!=e&&go(e,t,Cn)},Qr.hasIn=Cs,Qr.head=Yo,Qr.identity=nu,Qr.includes=function(e,t,r,n){e=Ya(e)?e:Fs(e),r=r&&!n?ps(r):0;var i=e.length;return r<0&&(r=vr(i+r,0)),ss(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Ht(e,t,r)>-1},Qr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ps(r);return i<0&&(i=vr(n+i,0)),Ht(e,t,i)},Qr.inRange=function(e,t,r){return t=hs(t),r===i?(r=t,t=0):r=hs(r),function(e,t,r){return e>=yr(t,r)&&e<vr(t,r)}(e=gs(e),t,r)},Qr.invoke=Os,Qr.isArguments=Ha,Qr.isArray=ja,Qr.isArrayBuffer=Wa,Qr.isArrayLike=Ya,Qr.isArrayLikeObject=za,Qr.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Tn(e)==_},Qr.isBuffer=Ja,Qr.isDate=$a,Qr.isElement=function(e){return ts(e)&&1===e.nodeType&&!is(e)},Qr.isEmpty=function(e){if(null==e)return!0;if(Ya(e)&&(ja(e)||"string"==typeof e||"function"==typeof e.splice||Ja(e)||cs(e)||Ha(e)))return!e.length;var t=Ao(e);if(t==T||t==O)return!e.size;if(Io(e))return!xn(e).length;for(var r in e)if(Ue.call(e,r))return!1;return!0},Qr.isEqual=function(e,t){return Dn(e,t)},Qr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?Dn(e,t,i,r):!!n},Qr.isError=Xa,Qr.isFinite=function(e){return"number"==typeof e&&Ft(e)},Qr.isFunction=Ka,Qr.isInteger=Va,Qr.isLength=Za,Qr.isMap=rs,Qr.isMatch=function(e,t){return e===t||kn(e,t,lo(t))},Qr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,kn(e,t,lo(t),r)},Qr.isNaN=function(e){return ns(e)&&e!=+e},Qr.isNative=function(e){if(wo(e))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ln(e)},Qr.isNil=function(e){return null==e},Qr.isNull=function(e){return null===e},Qr.isNumber=ns,Qr.isObject=es,Qr.isObjectLike=ts,Qr.isPlainObject=is,Qr.isRegExp=os,Qr.isSafeInteger=function(e){return Va(e)&&e>=-9007199254740991&&e<=p},Qr.isSet=as,Qr.isString=ss,Qr.isSymbol=us,Qr.isTypedArray=cs,Qr.isUndefined=function(e){return e===i},Qr.isWeakMap=function(e){return ts(e)&&Ao(e)==k},Qr.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Tn(e)},Qr.join=function(e,t){return null==e?"":Jt.call(e,t)},Qr.kebabCase=js,Qr.last=Xo,Qr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=ps(r))<0?vr(n+o,0):yr(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Gt(e,Wt,o,!0)},Qr.lowerCase=Ws,Qr.lowerFirst=Ys,Qr.lt=ls,Qr.lte=fs,Qr.max=function(e){return e&&e.length?An(e,nu,Sn):i},Qr.maxBy=function(e,t){return e&&e.length?An(e,uo(t,2),Sn):i},Qr.mean=function(e){return Yt(e,nu)},Qr.meanBy=function(e,t){return Yt(e,uo(t,2))},Qr.min=function(e){return e&&e.length?An(e,nu,Pn):i},Qr.minBy=function(e,t){return e&&e.length?An(e,uo(t,2),Pn):i},Qr.stubArray=Au,Qr.stubFalse=gu,Qr.stubObject=function(){return{}},Qr.stubString=function(){return""},Qr.stubTrue=function(){return!0},Qr.multiply=bu,Qr.nth=function(e,t){return e&&e.length?Hn(e,ps(t)):i},Qr.noConflict=function(){return At._===this&&(At._=Ge),this},Qr.noop=uu,Qr.now=Sa,Qr.pad=function(e,t,r){e=ys(e);var n=(t=ps(t))?dr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return ji(vt(i),r)+e+ji(gt(i),r)},Qr.padEnd=function(e,t,r){e=ys(e);var n=(t=ps(t))?dr(e):0;return t&&n<t?e+ji(t-n,r):e},Qr.padStart=function(e,t,r){e=ys(e);var n=(t=ps(t))?dr(e):0;return t&&n<t?ji(t-n,r)+e:e},Qr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),_r(ys(e).replace(se,""),t||0)},Qr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&_o(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=hs(e),t===i?(t=e,e=0):t=hs(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=Er();return yr(e+o*(t-e+ft("1e-"+((o+"").length-1))),t)}return Jn(e,t)},Qr.reduce=function(e,t,r){var n=ja(e)?Ut:$t,i=arguments.length<3;return n(e,uo(t,4),r,i,dn)},Qr.reduceRight=function(e,t,r){var n=ja(e)?Pt:$t,i=arguments.length<3;return n(e,uo(t,4),r,i,hn)},Qr.repeat=function(e,t,r){return t=(r?_o(e,t,r):t===i)?1:ps(t),$n(ys(e),t)},Qr.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Qr.result=function(e,t,r){var n=-1,o=(t=mi(t,e)).length;for(o||(o=1,e=i);++n<o;){var a=null==e?i:e[Uo(t[n])];a===i&&(n=o,a=r),e=Ka(a)?a.call(e):a}return e},Qr.round=wu,Qr.runInContext=e,Qr.sample=function(e){return(ja(e)?Xr:Kn)(e)},Qr.size=function(e){if(null==e)return 0;if(Ya(e))return ss(e)?dr(e):e.length;var t=Ao(e);return t==T||t==O?e.size:xn(e).length},Qr.snakeCase=zs,Qr.some=function(e,t,r){var n=ja(e)?Qt:ii;return r&&_o(e,t,r)&&(t=i),n(e,uo(t,3))},Qr.sortedIndex=function(e,t){return oi(e,t)},Qr.sortedIndexBy=function(e,t,r){return ai(e,t,uo(r,2))},Qr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=oi(e,t);if(n<r&&Fa(e[n],t))return n}return-1},Qr.sortedLastIndex=function(e,t){return oi(e,t,!0)},Qr.sortedLastIndexBy=function(e,t,r){return ai(e,t,uo(r,2),!0)},Qr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=oi(e,t,!0)-1;if(Fa(e[r],t))return r}return-1},Qr.startCase=Js,Qr.startsWith=function(e,t,r){return e=ys(e),r=null==r?0:sn(ps(r),0,e.length),t=ci(t),e.slice(r,r+t.length)==t},Qr.subtract=Iu,Qr.sum=function(e){return e&&e.length?Xt(e,nu):0},Qr.sumBy=function(e,t){return e&&e.length?Xt(e,uo(t,2)):0},Qr.template=function(e,t,r){var n=Qr.templateSettings;r&&_o(e,t,r)&&(t=i),e=ys(e),t=Es({},t,n,Vi);var o,a,s=Es({},t.imports,n.imports,Vi),u=Rs(s),c=Zt(s,u),l=0,f=t.interpolate||be,d="__p += '",h=Be((t.escape||be).source+"|"+f.source+"|"+(f===ee?pe:be).source+"|"+(t.evaluate||be).source+"|$","g"),p="//# sourceURL="+(Ue.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,r,n,i,s,u){return n||(n=i),d+=e.slice(l,u).replace(we,or),r&&(o=!0,d+="' +\n__e("+r+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var A=Ue.call(t,"variable")&&t.variable;A||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(W,""):d).replace(Y,"$1").replace(z,"$1;"),d="function("+(A||"obj")+") {\n"+(A?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Vs((function(){return Se(u,p+"return "+d).apply(i,c)}));if(g.source=d,Xa(g))throw g;return g},Qr.times=function(e,t){if((e=ps(e))<1||e>p)return[];var r=g,n=yr(e,g);t=uo(t),e-=g;for(var i=Kt(n,t);++r<e;)t(r);return i},Qr.toFinite=hs,Qr.toInteger=ps,Qr.toLength=As,Qr.toLower=function(e){return ys(e).toLowerCase()},Qr.toNumber=gs,Qr.toSafeInteger=function(e){return e?sn(ps(e),-9007199254740991,p):0===e?e:0},Qr.toString=ys,Qr.toUpper=function(e){return ys(e).toUpperCase()},Qr.trim=function(e,t,r){if((e=ys(e))&&(r||t===i))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var n=hr(e),o=hr(t);return Ei(n,tr(n,o),rr(n,o)+1).join("")},Qr.trimEnd=function(e,t,r){if((e=ys(e))&&(r||t===i))return e.replace(ue,"");if(!e||!(t=ci(t)))return e;var n=hr(e);return Ei(n,0,rr(n,hr(t))+1).join("")},Qr.trimStart=function(e,t,r){if((e=ys(e))&&(r||t===i))return e.replace(se,"");if(!e||!(t=ci(t)))return e;var n=hr(e);return Ei(n,tr(n,hr(t))).join("")},Qr.truncate=function(e,t){var r=30,n="...";if(es(t)){var o="separator"in t?t.separator:o;r="length"in t?ps(t.length):r,n="omission"in t?ci(t.omission):n}var a=(e=ys(e)).length;if(ar(e)){var s=hr(e);a=s.length}if(r>=a)return e;var u=r-dr(n);if(u<1)return n;var c=s?Ei(s,0,u).join(""):e.slice(0,u);if(o===i)return c+n;if(s&&(u+=c.length-u),os(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=Be(o.source,ys(Ae.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var d=l.index;c=c.slice(0,d===i?u:d)}}else if(e.indexOf(ci(o),u)!=u){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+n},Qr.unescape=function(e){return(e=ys(e))&&X.test(e)?e.replace(J,pr):e},Qr.uniqueId=function(e){var t=++Pe;return ys(e)+t},Qr.upperCase=$s,Qr.upperFirst=Xs,Qr.each=ya,Qr.eachRight=ma,Qr.first=Yo,su(Qr,(Eu={},_n(Qr,(function(e,t){Ue.call(Qr.prototype,t)||(Eu[t]=e)})),Eu),{chain:!1}),Qr.VERSION="4.17.15",Bt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Qr[e].placeholder=Qr})),Bt(["drop","take"],(function(e,t){Hr.prototype[e]=function(r){r=r===i?1:vr(ps(r),0);var n=this.__filtered__&&!t?new Hr(this):this.clone();return n.__filtered__?n.__takeCount__=yr(r,n.__takeCount__):n.__views__.push({size:yr(r,g),type:e+(n.__dir__<0?"Right":"")}),n},Hr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Bt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Hr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Bt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Hr.prototype[e]=function(){return this[r](1).value()[0]}})),Bt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Hr.prototype[e]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(nu)},Hr.prototype.find=function(e){return this.filter(e).head()},Hr.prototype.findLast=function(e){return this.reverse().find(e)},Hr.prototype.invokeMap=Xn((function(e,t){return"function"==typeof e?new Hr(this):this.map((function(r){return On(r,e,t)}))})),Hr.prototype.reject=function(e){return this.filter(Ma(uo(e)))},Hr.prototype.slice=function(e,t){e=ps(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=ps(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hr.prototype.toArray=function(){return this.take(g)},_n(Hr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Qr[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);o&&(Qr.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,u=t instanceof Hr,c=s[0],l=u||ja(t),f=function(e){var t=o.apply(Qr,xt([e],s));return n&&d?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,A=u&&!h;if(!a&&l){t=A?t:new Hr(this);var g=e.apply(t,s);return g.__actions__.push({func:ha,args:[f],thisArg:i}),new Gr(g,d)}return p&&A?e.apply(this,s):(g=this.thru(f),p?n?g.value()[0]:g.value():g)})})),Bt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=De[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Qr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(ja(i)?i:[],e)}return this[r]((function(r){return t.apply(ja(r)?r:[],e)}))}})),_n(Hr.prototype,(function(e,t){var r=Qr[t];if(r){var n=r.name+"";Ue.call(Or,n)||(Or[n]=[]),Or[n].push({name:t,func:r})}})),Or[Fi(i,2).name]=[{name:"wrapper",func:i}],Hr.prototype.clone=function(){var e=new Hr(this.__wrapped__);return e.__actions__=Bi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Bi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Bi(this.__views__),e},Hr.prototype.reverse=function(){if(this.__filtered__){var e=new Hr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=ja(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=yr(t,e+a);break;case"takeRight":e=vr(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=n?s:a-1,l=this.__iteratees__,f=l.length,d=0,h=yr(u,this.__takeCount__);if(!r||!n&&i==u&&h==u)return pi(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var A=-1,g=e[c+=t];++A<f;){var v=l[A],y=v.iteratee,m=v.type,_=y(g);if(2==m)g=_;else if(!_){if(1==m)continue e;break e}}p[d++]=g}return p},Qr.prototype.at=pa,Qr.prototype.chain=function(){return da(this)},Qr.prototype.commit=function(){return new Gr(this.value(),this.__chain__)},Qr.prototype.next=function(){this.__values__===i&&(this.__values__=ds(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Qr.prototype.plant=function(e){for(var t,r=this;r instanceof qr;){var n=Qo(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},Qr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hr){var t=e;return this.__actions__.length&&(t=new Hr(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ea],thisArg:i}),new Gr(t,this.__chain__)}return this.thru(ea)},Qr.prototype.toJSON=Qr.prototype.valueOf=Qr.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Qr.prototype.first=Qr.prototype.head,Ze&&(Qr.prototype[Ze]=function(){return this}),Qr}();At._=Ar,(n=function(){return Ar}.call(t,r,t,e))===i||(e.exports=n)}.call(globalThis)},946:(e,t,r)=>{var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,s=!1;function u(){s=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)n[t]=e[t],i[e.charCodeAt(t)]=t;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63}function c(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16)+(e[s+1]<<8)+e[s+2],a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}function l(e){var t;s||u();for(var r=e.length,i=r%3,o="",a=[],l=16383,f=0,d=r-i;f<d;f+=l)a.push(c(e,f,f+l>d?d:f+l));return 1===i?(t=e[r-1],o+=n[t>>2],o+=n[t<<4&63],o+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],o+=n[t>>10],o+=n[t>>4&63],o+=n[t<<2&63],o+="="),a.push(o),a.join("")}function f(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)}function d(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=p,a/=256,c-=8);e[r+h-p]|=128*A}var h={}.toString,p=Array.isArray||function(e){return"[object Array]"==h.call(e)};y.TYPED_ARRAY_SUPPORT=void 0===r.g.TYPED_ARRAY_SUPPORT||r.g.TYPED_ARRAY_SUPPORT;var A=g();function g(){return y.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function v(e,t){if(g()<t)throw new RangeError("Invalid typed array length");return y.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=y.prototype:(null===e&&(e=new y(t)),e.length=t),e}function y(e,t,r){if(!(y.TYPED_ARRAY_SUPPORT||this instanceof y))return new y(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return E(this,e)}return m(this,e,t,r)}function m(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);y.TYPED_ARRAY_SUPPORT?(e=t).__proto__=y.prototype:e=b(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!y.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|T(t,r);e=v(e,n);var i=e.write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(I(t)){var r=0|w(t.length);return 0===(e=v(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?v(e,0):b(e,t);if("Buffer"===t.type&&p(t.data))return b(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function _(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function E(e,t){if(_(t),e=v(e,t<0?0:0|w(t)),!y.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function b(e,t){var r=t.length<0?0:0|w(t.length);e=v(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function w(e){if(e>=g())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g().toString(16)+" bytes");return 0|e}function I(e){return!(null==e||!e._isBuffer)}function T(e,t){if(I(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(n)return V(e).length;t=(""+t).toLowerCase(),n=!0}}function S(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return q(this,t,r);case"utf8":case"utf-8":return U(this,t,r);case"ascii":return Q(this,t,r);case"latin1":case"binary":return F(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function C(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function N(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=y.from(t,n)),I(t))return 0===t.length?-1:B(e,t,r,n,i);if("number"==typeof t)return t&=255,y.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):B(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function B(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function O(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function R(e,t,r,n){return ee(V(t,e.length-r),e,r,n)}function D(e,t,r,n){return ee(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function k(e,t,r,n){return D(e,t,r,n)}function L(e,t,r,n){return ee(Z(t),e,r,n)}function M(e,t,r,n){return ee(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?l(e):l(e.slice(t,r))}function U(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}y.poolSize=8192,y._augment=function(e){return e.__proto__=y.prototype,e},y.from=function(e,t,r){return m(null,e,t,r)},y.TYPED_ARRAY_SUPPORT&&(y.prototype.__proto__=Uint8Array.prototype,y.__proto__=Uint8Array),y.alloc=function(e,t,r){return function(e,t,r,n){return _(t),t<=0?v(e,t):void 0!==r?"string"==typeof n?v(e,t).fill(r,n):v(e,t).fill(r):v(e,t)}(null,e,t,r)},y.allocUnsafe=function(e){return E(null,e)},y.allocUnsafeSlow=function(e){return E(null,e)},y.isBuffer=te,y.compare=function(e,t){if(!I(e)||!I(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},y.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(e,t){if(!p(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return y.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=y.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!I(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},y.byteLength=T,y.prototype._isBuffer=!0,y.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)C(this,t,t+1);return this},y.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)C(this,t,t+3),C(this,t+1,t+2);return this},y.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)C(this,t,t+7),C(this,t+1,t+6),C(this,t+2,t+5),C(this,t+3,t+4);return this},y.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?U(this,0,e):S.apply(this,arguments)},y.prototype.equals=function(e){if(!I(e))throw new TypeError("Argument must be a Buffer");return this===e||0===y.compare(this,e)},y.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},y.prototype.compare=function(e,t,r,n,i){if(!I(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r),l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},y.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},y.prototype.indexOf=function(e,t,r){return N(this,e,t,r,!0)},y.prototype.lastIndexOf=function(e,t,r){return N(this,e,t,r,!1)},y.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return O(this,e,t,r);case"utf8":case"utf-8":return R(this,e,t,r);case"ascii":return D(this,e,t,r);case"latin1":case"binary":return k(this,e,t,r);case"base64":return L(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function Q(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function F(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function q(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=K(e[o]);return i}function G(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function H(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,n,i,o){if(!I(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function W(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function Y(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function z(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function J(e,t,r,n,i){return i||z(e,0,r,4),d(e,t,r,n,23,4),r+4}function $(e,t,r,n,i){return i||z(e,0,r,8),d(e,t,r,n,52,8),r+8}y.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),y.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=y.prototype;else{var i=t-e;r=new y(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},y.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||H(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},y.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||H(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},y.prototype.readUInt8=function(e,t){return t||H(e,1,this.length),this[e]},y.prototype.readUInt16LE=function(e,t){return t||H(e,2,this.length),this[e]|this[e+1]<<8},y.prototype.readUInt16BE=function(e,t){return t||H(e,2,this.length),this[e]<<8|this[e+1]},y.prototype.readUInt32LE=function(e,t){return t||H(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},y.prototype.readUInt32BE=function(e,t){return t||H(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},y.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||H(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},y.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||H(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},y.prototype.readInt8=function(e,t){return t||H(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},y.prototype.readInt16LE=function(e,t){t||H(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},y.prototype.readInt16BE=function(e,t){t||H(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},y.prototype.readInt32LE=function(e,t){return t||H(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},y.prototype.readInt32BE=function(e,t){return t||H(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},y.prototype.readFloatLE=function(e,t){return t||H(e,4,this.length),f(this,e,!0,23,4)},y.prototype.readFloatBE=function(e,t){return t||H(e,4,this.length),f(this,e,!1,23,4)},y.prototype.readDoubleLE=function(e,t){return t||H(e,8,this.length),f(this,e,!0,52,8)},y.prototype.readDoubleBE=function(e,t){return t||H(e,8,this.length),f(this,e,!1,52,8)},y.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},y.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},y.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,1,255,0),y.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},y.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):W(this,e,t,!0),t+2},y.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):W(this,e,t,!1),t+2},y.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):Y(this,e,t,!0),t+4},y.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Y(this,e,t,!1),t+4},y.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},y.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},y.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,1,127,-128),y.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},y.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):W(this,e,t,!0),t+2},y.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):W(this,e,t,!1),t+2},y.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,2147483647,-2147483648),y.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Y(this,e,t,!0),t+4},y.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),y.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):Y(this,e,t,!1),t+4},y.prototype.writeFloatLE=function(e,t,r){return J(this,e,t,!0,r)},y.prototype.writeFloatBE=function(e,t,r){return J(this,e,t,!1,r)},y.prototype.writeDoubleLE=function(e,t,r){return $(this,e,t,!0,r)},y.prototype.writeDoubleBE=function(e,t,r){return $(this,e,t,!1,r)},y.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!y.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},y.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!y.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=I(e)?e:V(new y(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var X=/[^+\/0-9A-Za-z-_]/g;function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Z(e){return function(e){var t,r,n,o,c,l;s||u();var f=e.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");c="="===e[f-2]?2:"="===e[f-1]?1:0,l=new a(3*f/4-c),n=c>0?f-4:f;var d=0;for(t=0,r=0;t<n;t+=4,r+=3)o=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],l[d++]=o>>16&255,l[d++]=o>>8&255,l[d++]=255&o;return 2===c?(o=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,l[d++]=255&o):1===c&&(o=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,l[d++]=o>>8&255,l[d++]=255&o),l}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(X,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function ee(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function te(e){return null!=e&&(!!e._isBuffer||re(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&re(e.slice(0,0))}(e))}function re(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var ne=Object.freeze({INSPECT_MAX_BYTES:50,kMaxLength:A,Buffer:y,SlowBuffer:function(e){return+e!=e&&(e=0),y.alloc(+e)},isBuffer:te});var ie=function(){function e(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0}),e.isLong=t;var r={},n={};function i(e,t){var i,o,s;return t?(s=0<=(e>>>=0)&&e<256)&&(o=n[e])?o:(i=a(e,(0|e)<0?-1:0,!0),s&&(n[e]=i),i):(s=-128<=(e|=0)&&e<128)&&(o=r[e])?o:(i=a(e,e<0?-1:0,!1),s&&(r[e]=i),i)}function o(e,t){if(isNaN(e))return t?A:p;if(t){if(e<0)return A;if(e>=f)return _}else{if(e<=-d)return E;if(e+1>=d)return m}return e<0?o(-e,t).neg():a(e%l|0,e/l|0,t)}function a(t,r,n){return new e(t,r,n)}e.fromInt=i,e.fromNumber=o,e.fromBits=a;var s=Math.pow;function u(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return u(e.substring(1),t,r).neg();for(var i=o(s(r,8)),a=p,c=0;c<e.length;c+=8){var l=Math.min(8,e.length-c),f=parseInt(e.substring(c,c+l),r);if(l<8){var d=o(s(r,l));a=a.mul(d).add(o(f))}else a=(a=a.mul(i)).add(o(f))}return a.unsigned=t,a}function c(e,t){return"number"==typeof e?o(e,t):"string"==typeof e?u(e,t):a(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}e.fromString=u,e.fromValue=c;var l=4294967296,f=l*l,d=f/2,h=i(1<<24),p=i(0);e.ZERO=p;var A=i(0,!0);e.UZERO=A;var g=i(1);e.ONE=g;var v=i(1,!0);e.UONE=v;var y=i(-1);e.NEG_ONE=y;var m=a(-1,2147483647,!1);e.MAX_VALUE=m;var _=a(-1,-1,!0);e.MAX_UNSIGNED_VALUE=_;var E=a(0,-2147483648,!1);e.MIN_VALUE=E;var b=e.prototype;return b.toInt=function(){return this.unsigned?this.low>>>0:this.low},b.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},b.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var t=o(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(s(e,6),this.unsigned),a=this,u="";;){var c=a.div(i),l=(a.sub(c.mul(i)).toInt()>>>0).toString(e);if((a=c).isZero())return l+u;for(;l.length<6;)l="0"+l;u=""+l+u}},b.getHighBits=function(){return this.high},b.getHighBitsUnsigned=function(){return this.high>>>0},b.getLowBits=function(){return this.low},b.getLowBitsUnsigned=function(){return this.low>>>0},b.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},b.isZero=function(){return 0===this.high&&0===this.low},b.eqz=b.isZero,b.isNegative=function(){return!this.unsigned&&this.high<0},b.isPositive=function(){return this.unsigned||this.high>=0},b.isOdd=function(){return 1==(1&this.low)},b.isEven=function(){return 0==(1&this.low)},b.equals=function(e){return t(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},b.eq=b.equals,b.notEquals=function(e){return!this.eq(e)},b.neq=b.notEquals,b.ne=b.notEquals,b.lessThan=function(e){return this.comp(e)<0},b.lt=b.lessThan,b.lessThanOrEqual=function(e){return this.comp(e)<=0},b.lte=b.lessThanOrEqual,b.le=b.lessThanOrEqual,b.greaterThan=function(e){return this.comp(e)>0},b.gt=b.greaterThan,b.greaterThanOrEqual=function(e){return this.comp(e)>=0},b.gte=b.greaterThanOrEqual,b.ge=b.greaterThanOrEqual,b.compare=function(e){if(t(e)||(e=c(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},b.comp=b.compare,b.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(g)},b.neg=b.negate,b.add=function(e){t(e)||(e=c(e));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,u=65535&e.high,l=e.low>>>16,f=0,d=0,h=0,p=0;return h+=(p+=o+(65535&e.low))>>>16,d+=(h+=i+l)>>>16,f+=(d+=n+u)>>>16,f+=r+s,a((h&=65535)<<16|(p&=65535),(f&=65535)<<16|(d&=65535),this.unsigned)},b.subtract=function(e){return t(e)||(e=c(e)),this.add(e.neg())},b.sub=b.subtract,b.multiply=function(e){if(this.isZero())return p;if(t(e)||(e=c(e)),e.isZero())return p;if(this.eq(E))return e.isOdd()?E:p;if(e.eq(E))return this.isOdd()?E:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(h)&&e.lt(h))return o(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,u=e.high>>>16,l=65535&e.high,f=e.low>>>16,d=65535&e.low,A=0,g=0,v=0,y=0;return v+=(y+=s*d)>>>16,g+=(v+=i*d)>>>16,v&=65535,g+=(v+=s*f)>>>16,A+=(g+=n*d)>>>16,g&=65535,A+=(g+=i*f)>>>16,g&=65535,A+=(g+=s*l)>>>16,A+=r*d+n*f+i*l+s*u,a((v&=65535)<<16|(y&=65535),(A&=65535)<<16|(g&=65535),this.unsigned)},b.mul=b.multiply,b.divide=function(e){if(t(e)||(e=c(e)),e.isZero())throw Error("division by zero");var r,n,i;if(this.isZero())return this.unsigned?A:p;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return A;if(e.gt(this.shru(1)))return v;i=A}else{if(this.eq(E))return e.eq(g)||e.eq(y)?E:e.eq(E)?g:(r=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?g:y:(n=this.sub(e.mul(r)),i=r.add(n.div(e)));if(e.eq(E))return this.unsigned?A:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=p}for(n=this;n.gte(e);){r=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),u=a<=48?1:s(2,a-48),l=o(r),f=l.mul(e);f.isNegative()||f.gt(n);)f=(l=o(r-=u,this.unsigned)).mul(e);l.isZero()&&(l=g),i=i.add(l),n=n.sub(f)}return i},b.div=b.divide,b.modulo=function(e){return t(e)||(e=c(e)),this.sub(this.div(e).mul(e))},b.mod=b.modulo,b.rem=b.modulo,b.not=function(){return a(~this.low,~this.high,this.unsigned)},b.and=function(e){return t(e)||(e=c(e)),a(this.low&e.low,this.high&e.high,this.unsigned)},b.or=function(e){return t(e)||(e=c(e)),a(this.low|e.low,this.high|e.high,this.unsigned)},b.xor=function(e){return t(e)||(e=c(e)),a(this.low^e.low,this.high^e.high,this.unsigned)},b.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):a(0,this.low<<e-32,this.unsigned)},b.shl=b.shiftLeft,b.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):a(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},b.shr=b.shiftRight,b.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0===(e&=63))return this;var r=this.high;return e<32?a(this.low>>>e|r<<32-e,r>>>e,this.unsigned):a(32===e?r:r>>>e-32,0,this.unsigned)},b.shru=b.shiftRightUnsigned,b.shr_u=b.shiftRightUnsigned,b.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},b.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},b.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},b.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},b.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},e.fromBytes=function(t,r,n){return n?e.fromBytesLE(t,r):e.fromBytesBE(t,r)},e.fromBytesLE=function(t,r){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},e.fromBytesBE=function(t,r){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)},e.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},e.fromExtendedJSON=function(t,r){var n=e.fromString(t.$numberLong);return r&&r.relaxed?n.toNumber():n},Object.defineProperty(e.prototype,"_bsontype",{value:"Long"}),e}();function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function se(e,t,r){return t&&ae(e.prototype,t),r&&ae(e,r),e}var ue=function(){function e(t){oe(this,e),t instanceof Number&&(t=t.valueOf()),this.value=t}return se(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseFloat(t.$numberDouble):new e(parseFloat(t.$numberDouble))}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Double"}),e}();function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function le(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}function de(e,t){return de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},de(e,t)}var he=function(e){function t(e,r){var n;return oe(this,t),n=ie.isLong(e)?le(this,fe(t).call(this,e.low,e.high,!0)):le(this,fe(t).call(this,e,r,!0)),le(n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(t,e),se(t,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}}],[{key:"fromInt",value:function(e){return new t(ie.fromInt(e,!0))}},{key:"fromNumber",value:function(e){return new t(ie.fromNumber(e,!0))}},{key:"fromBits",value:function(e,r){return new t(e,r)}},{key:"fromString",value:function(e,r){return new t(ie.fromString(e,r,!0))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),Object.defineProperty(t.prototype,"_bsontype",{value:"Timestamp"}),t.MAX_VALUE=t.MAX_UNSIGNED_VALUE,t}(ie),pe={};function Ae(e){for(var t=new Uint8Array(e),r=0;r<e;++r)t[r]=Math.floor(256*Math.random());return t}var ge={normalizedFunctionString:function(e){return e.toString().replace("function(","function (")},randomBytes:function(){var e=Ae;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)e=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{e=pe.randomBytes}catch(e){}null==e&&(e=Ae)}return e}()};new Date;var ve=function(){function e(e,t){var r={seen:[],stylize:me};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Ie(t)?r.showHidden=t:t&&Me(r,t),Ne(r.showHidden)&&(r.showHidden=!1),Ne(r.depth)&&(r.depth=2),Ne(r.colors)&&(r.colors=!1),Ne(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=ye),_e(r,e,r.depth)}return e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e}();function ye(e,t){var r=ve.styles[t];return r?"["+ve.colors[r][0]+"m"+e+"["+ve.colors[r][1]+"m":e}function me(e,t){return e}function _e(e,t,r){if(e.customInspect&&t&&ke(t.inspect)&&t.inspect!==ve&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return Ce(n)||(n=_e(e,n,r)),n}var i=function(e,t){if(Ne(t))return e.stylize("undefined","undefined");if(Ce(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(Se(t))return e.stylize(""+t,"number");if(Ie(t))return e.stylize(""+t,"boolean");if(Te(t))return e.stylize("null","null")}(e,t);if(i)return i;var o=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),De(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return Ee(t);if(0===o.length){if(ke(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(Be(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Re(t))return e.stylize(Date.prototype.toString.call(t),"date");if(De(t))return Ee(t)}var u,c="",l=!1,f=["{","}"];(we(t)&&(l=!0,f=["[","]"]),ke(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return Be(t)&&(c=" "+RegExp.prototype.toString.call(t)),Re(t)&&(c=" "+Date.prototype.toUTCString.call(t)),De(t)&&(c=" "+Ee(t)),0!==o.length||l&&0!=t.length?r<0?Be(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=l?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)xe(t,String(a))?o.push(be(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(be(e,t,r,n,i,!0))})),o}(e,t,r,a,o):o.map((function(n){return be(e,t,r,a,n,l)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,c,f)):f[0]+c+f[1]}function Ee(e){return"["+Error.prototype.toString.call(e)+"]"}function be(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),xe(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=Te(r)?_e(e,u.value,null):_e(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),Ne(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function we(e){return Array.isArray(e)}function Ie(e){return"boolean"==typeof e}function Te(e){return null===e}function Se(e){return"number"==typeof e}function Ce(e){return"string"==typeof e}function Ne(e){return void 0===e}function Be(e){return Oe(e)&&"[object RegExp]"===Le(e)}function Oe(e){return"object"===ce(e)&&null!==e}function Re(e){return Oe(e)&&"[object Date]"===Le(e)}function De(e){return Oe(e)&&("[object Error]"===Le(e)||e instanceof Error)}function ke(e){return"function"==typeof e}function Le(e){return Object.prototype.toString.call(e)}function Me(e,t){if(!t||!Oe(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ue=ve,Pe=function e(t,n){if(Ne(r.g.process))return function(){return e(t,n).apply(this,arguments)};var i=!1;return function(){return i||(o.error(n),i=!0),t.apply(this,arguments)}},Qe=(()=>ne.Buffer)(),Fe=Pe,qe=(0,ge.randomBytes)(5),Ge=new RegExp("^[0-9a-fA-F]{24}$"),He=function(){var e=!1;try{Qe&&Qe.from&&(e=!0)}catch(t){e=!1}return e}(),je=function(){for(var e=[],t=0;t<256;t++)e[t]=(t<=15?"0":"")+t.toString(16);return e}(),We=function(){for(var e=[],t=0;t<10;)e[48+t]=t++;for(;t<16;)e[55+t]=e[87+t]=t++;return e}(),Ye=Qe;var ze=function(){function e(t){if(oe(this,e),t instanceof e)return t;if(null==t||"number"==typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString("hex")));var r=e.isValid(t);if(!r&&null!=t)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(r&&"string"==typeof t&&24===t.length&&He)return new e(Qe.from(t,"hex"));if(r&&"string"==typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=t,e.cacheHexString&&(this.__id=this.toString("hex"))}return se(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t,r,n,i="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof Ye)return i=this.id.toString("hex"),e.cacheHexString&&(this.__id=i),i;for(var o=0;o<this.id.length;o++){var a=je[this.id.charCodeAt(o)];if("string"!=typeof a)throw t=this.id,n=void 0,n=t[r=o],new TypeError('ObjectId string "'.concat(t,'" contains invalid character "').concat(n,'" with character code (').concat(t.charCodeAt(r),"). All character codes for a non-hex string must be less than 256."));i+=a}return e.cacheHexString&&(this.__id=i),i}},{key:"toString",value:function(e){return this.id&&this.id.copy?this.id.toString("string"==typeof e?e:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof Ye?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?t===this.id:!(null==t||!(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),n=Qe.alloc(12);return n[3]=255&t,n[2]=t>>8&255,n[1]=t>>16&255,n[0]=t>>24&255,n[4]=qe[0],n[5]=qe[1],n[6]=qe[2],n[7]=qe[3],n[8]=qe[4],n[11]=255&r,n[10]=r>>8&255,n[9]=r>>16&255,n}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var r=Qe.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,new e(r)}},{key:"createFromHexString",value:function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(He)return new e(Qe.from(t,"hex"));for(var r=new Ye(12),n=0,i=0;i<24;)r[n++]=We[t.charCodeAt(i++)]<<4|We[t.charCodeAt(i++)];return new e(r)}},{key:"isValid",value:function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&Ge.test(t):t instanceof e||(t instanceof Ye&&12===t.length||!!t.toHexString&&(12===t.id.length||24===t.id.length&&Ge.test(t.id)))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e.get_inc=Fe((function(){return e.getInc()}),"Please use the static `ObjectId.getInc()` instead"),e.prototype.get_inc=Fe((function(){return e.getInc()}),"Please use the static `ObjectId.getInc()` instead"),e.prototype.getInc=Fe((function(){return e.getInc()}),"Please use the static `ObjectId.getInc()` instead"),e.prototype.generate=Fe((function(t){return e.generate(t)}),"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(e.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),e.prototype[Ue.custom||"inspect"]=e.prototype.toString,e.index=~~(16777215*Math.random()),Object.defineProperty(e.prototype,"_bsontype",{value:"ObjectID"}),e}(),Je=ze;var $e=function(){function e(t,r){oe(this,e),this.pattern=t||"",this.options=r?r.split("").sort().join(""):"";for(var n=0;n<this.options.length;n++)if("i"!==this.options[n]&&"m"!==this.options[n]&&"x"!==this.options[n]&&"l"!==this.options[n]&&"s"!==this.options[n]&&"u"!==this.options[n])throw new Error("The regular expression option [".concat(this.options[n],"] is not supported"))}return se(e,[{key:"toExtendedJSON",value:function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"parseOptions",value:function(e){return e?e.split("").sort().join(""):""}},{key:"fromExtendedJSON",value:function(t){return t.$regex?"BSONRegExp"===t.$regex._bsontype?t:new e(t.$regex,e.parseOptions(t.$options)):new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options))}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"BSONRegExp"}),e}(),Xe=function(){function e(t){oe(this,e),this.value=t}return se(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Symbol"}),e}(),Ke=function(){function e(t){oe(this,e),t instanceof Number&&(t=t.valueOf()),this.value=t}return se(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Int32"}),e}(),Ve=function(){function e(t,r){oe(this,e),this.code=t,this.scope=r}return se(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"Code"}),e}(),Ze=Ve,et=(()=>ne.Buffer)(),tt=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,rt=/^(\+|-)?(Infinity|inf)$/i,nt=/^(\+|-)?NaN$/i,it=6111,ot=-6176,at=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),st=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),ut=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),ct=/^([-+])?(\d+)?$/;function lt(e){return!isNaN(parseInt(e,10))}function ft(e){var t=ie.fromNumber(1e9),r=ie.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:r};for(var n=0;n<=3;n++)r=(r=r.shiftLeft(32)).add(new ie(e.parts[n],0)),e.parts[n]=r.div(t).low,r=r.modulo(t);return{quotient:e,rem:r}}function dt(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}var ht=function(){function e(e){this.bytes=e}e.fromString=function(t){var r,n=!1,i=!1,o=!1,a=0,s=0,u=0,c=0,l=0,f=[0],d=0,h=0,p=0,A=0,g=0,v=0,y=[0,0],m=[0,0],_=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var E=t.match(tt),b=t.match(rt),w=t.match(nt);if(!E&&!b&&!w||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(E){var I=E[2],T=E[4],S=E[5],C=E[6];T&&void 0===C&&dt(t,"missing exponent power"),T&&void 0===I&&dt(t,"missing exponent base"),void 0===T&&(S||C)&&dt(t,"missing e before exponent")}if("+"!==t[_]&&"-"!==t[_]||(n="-"===t[_++]),!lt(t[_])&&"."!==t[_]){if("i"===t[_]||"I"===t[_])return new e(et.from(n?st:ut));if("N"===t[_])return new e(et.from(at))}for(;lt(t[_])||"."===t[_];)"."!==t[_]?(d<34&&("0"!==t[_]||o)&&(o||(l=s),o=!0,f[h++]=parseInt(t[_],10),d+=1),o&&(u+=1),i&&(c+=1),s+=1,_+=1):(i&&dt(t,"contains multiple periods"),i=!0,_+=1);if(i&&!s)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[_]||"E"===t[_]){var N=t.substr(++_).match(ct);if(!N||!N[2])return new e(et.from(at));g=parseInt(N[0],10),_+=N[0].length}if(t[_])return new e(et.from(at));if(p=0,d){if(A=d-1,1!==(a=u))for(;"0"===t[l+a-1];)a-=1}else p=0,A=0,f[0]=0,u=1,d=1,a=0;for(g<=c&&c-g>16384?g=ot:g-=c;g>it;){if((A+=1)-p>34){if(f.join("").match(/^0+$/)){g=it;break}dt(t,"overflow")}g-=1}for(;g<ot||d<u;){if(0===A&&a<d){g=ot,a=0;break}if(d<u?u-=1:A-=1,g<it)g+=1;else{if(f.join("").match(/^0+$/)){g=it;break}dt(t,"overflow")}}if(A-p+1<a){var B=s;i&&(l+=1,B+=1),n&&(l+=1,B+=1);var O=parseInt(t[l+A+1],10),R=0;if(O>=5&&(R=1,5===O))for(R=f[A]%2==1,v=l+A+2;v<B;v++)if(parseInt(t[v],10)){R=1;break}if(R)for(var D=A;D>=0;D--)if(++f[D]>9&&(f[D]=0,0===D)){if(!(g<it))return new e(et.from(n?st:ut));g+=1,f[D]=1}}if(y=ie.fromNumber(0),m=ie.fromNumber(0),0===a)y=ie.fromNumber(0),m=ie.fromNumber(0);else if(A-p<17){var k=p;for(m=ie.fromNumber(f[k++]),y=new ie(0,0);k<=A;k++)m=(m=m.multiply(ie.fromNumber(10))).add(ie.fromNumber(f[k]))}else{var L=p;for(y=ie.fromNumber(f[L++]);L<=A-17;L++)y=(y=y.multiply(ie.fromNumber(10))).add(ie.fromNumber(f[L]));for(m=ie.fromNumber(f[L++]);L<=A;L++)m=(m=m.multiply(ie.fromNumber(10))).add(ie.fromNumber(f[L]))}var M,x,U,P,Q=function(e,t){if(!e&&!t)return{high:ie.fromNumber(0),low:ie.fromNumber(0)};var r=e.shiftRightUnsigned(32),n=new ie(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new ie(t.getLowBits(),0),a=r.multiply(i),s=r.multiply(o),u=n.multiply(i),c=n.multiply(o);return a=a.add(s.shiftRightUnsigned(32)),s=new ie(s.getLowBits(),0).add(u).add(c.shiftRightUnsigned(32)),{high:a=a.add(s.shiftRightUnsigned(32)),low:c=s.shiftLeft(32).add(new ie(c.getLowBits(),0))}}(y,ie.fromString("100000000000000000"));Q.low=Q.low.add(m),M=Q.low,x=m,U=M.high>>>0,P=x.high>>>0,(U<P||U===P&&M.low>>>0<x.low>>>0)&&(Q.high=Q.high.add(ie.fromNumber(1))),r=g+6176;var F={low:ie.fromNumber(0),high:ie.fromNumber(0)};Q.high.shiftRightUnsigned(49).and(ie.fromNumber(1)).equals(ie.fromNumber(1))?(F.high=F.high.or(ie.fromNumber(3).shiftLeft(61)),F.high=F.high.or(ie.fromNumber(r).and(ie.fromNumber(16383).shiftLeft(47))),F.high=F.high.or(Q.high.and(ie.fromNumber(0x7fffffffffff)))):(F.high=F.high.or(ie.fromNumber(16383&r).shiftLeft(49)),F.high=F.high.or(Q.high.and(ie.fromNumber(562949953421311)))),F.low=Q.low,n&&(F.high=F.high.or(ie.fromString("9223372036854775808")));var q=et.alloc(16);return _=0,q[_++]=255&F.low.low,q[_++]=F.low.low>>8&255,q[_++]=F.low.low>>16&255,q[_++]=F.low.low>>24&255,q[_++]=255&F.low.high,q[_++]=F.low.high>>8&255,q[_++]=F.low.high>>16&255,q[_++]=F.low.high>>24&255,q[_++]=255&F.high.low,q[_++]=F.high.low>>8&255,q[_++]=F.high.low>>16&255,q[_++]=F.high.low>>24&255,q[_++]=255&F.high.high,q[_++]=F.high.high>>8&255,q[_++]=F.high.high>>16&255,q[_++]=F.high.high>>24&255,new e(q)};return e.prototype.toString=function(){for(var e,t,r,n,i,o,a=0,s=new Array(36),u=0;u<s.length;u++)s[u]=0;var c,l,f,d,h,p=0,A=!1,g={parts:new Array(4)},v=[];p=0;var y=this.bytes;if(n=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,r=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,t=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,e=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,p=0,{low:new ie(n,r),high:new ie(t,e)}.high.lessThan(ie.ZERO)&&v.push("-"),(i=e>>26&31)>>3==3){if(30===i)return v.join("")+"Infinity";if(31===i)return"NaN";o=e>>15&16383,f=8+(e>>14&1)}else f=e>>14&7,o=e>>17&16383;if(c=o-6176,g.parts[0]=(16383&e)+((15&f)<<14),g.parts[1]=t,g.parts[2]=r,g.parts[3]=n,0===g.parts[0]&&0===g.parts[1]&&0===g.parts[2]&&0===g.parts[3])A=!0;else for(h=3;h>=0;h--){var m=0,_=ft(g);if(g=_.quotient,m=_.rem.low)for(d=8;d>=0;d--)s[9*h+d]=m%10,m=Math.floor(m/10)}if(A)a=1,s[p]=0;else for(a=36;!s[p];)a-=1,p+=1;if((l=a-1+c)>=34||l<=-7||c>0){if(a>34)return v.push(0),c>0?v.push("E+"+c):c<0&&v.push("E"+c),v.join("");v.push(s[p++]),(a-=1)&&v.push(".");for(var E=0;E<a;E++)v.push(s[p++]);v.push("E"),l>0?v.push("+"+l):v.push(l)}else if(c>=0)for(var b=0;b<a;b++)v.push(s[p++]);else{var w=a+c;if(w>0)for(var I=0;I<w;I++)v.push(s[p++]);else v.push("0");for(v.push(".");w++<0;)v.push("0");for(var T=0;T<a-Math.max(w-1,0);T++)v.push(s[p++])}return v.join("")},e.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},e.fromExtendedJSON=function(t){return e.fromString(t.$numberDecimal)},Object.defineProperty(e.prototype,"_bsontype",{value:"Decimal128"}),e}(),pt=ht,At=function(){function e(){oe(this,e)}return se(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"MinKey"}),e}(),gt=function(){function e(){oe(this,e)}return se(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"MaxKey"}),e}(),vt=function(){function e(t,r,n,i){oe(this,e);var o=t.split(".");2===o.length&&(n=o.shift(),t=o.shift()),this.collection=t,this.oid=r,this.db=n,this.fields=i||{}}return se(e,[{key:"toJSON",value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))}}],[{key:"fromExtendedJSON",value:function(t){var r=Object.assign({},t);return["$ref","$id","$db"].forEach((function(e){return delete r[e]})),new e(t.$ref,t.$id,t.$db,r)}}]),Object.defineProperty(e.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(e.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1}),e}(),yt=(()=>ne.Buffer)(),mt=function(){function e(r,n){if(oe(this,e),!(null==r||"string"==typeof r||yt.isBuffer(r)||r instanceof Uint8Array||Array.isArray(r)))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==n?t:n,this.position=0,null==r||r instanceof Number)void 0!==yt?this.buffer=yt.alloc(e.BUFFER_SIZE):"undefined"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE);else{if("string"==typeof r)if(void 0!==yt)this.buffer=yt.from(r);else{if("undefined"==typeof Uint8Array&&!Array.isArray(r))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=function(e){for(var t="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(r)}else this.buffer=r;this.position=r.length}}se(e,[{key:"put",value:function(t){if(null!=t.length&&"number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!=typeof t&&t<0||t>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var n=null;if(n="string"==typeof t?t.charCodeAt(0):null!=t.length?t[0]:t,this.buffer.length>this.position)this.buffer[this.position++]=n;else if(void 0!==yt&&yt.isBuffer(this.buffer)){var i=yt.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(i,0,0,this.buffer.length),this.buffer=i,this.buffer[this.position++]=n}else{var o=null;o=r(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):new Array(e.BUFFER_SIZE+this.buffer.length);for(var a=0;a<this.buffer.length;a++)o[a]=this.buffer[a];this.buffer=o,this.buffer[this.position++]=n}}},{key:"write",value:function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if(void 0!==yt&&yt.isBuffer(this.buffer))n=yt.alloc(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(r(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var i=0;i<this.position;i++)n[i]=this.buffer[i]}this.buffer=n}if(void 0!==yt&&yt.isBuffer(e)&&yt.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if(void 0!==yt&&"string"==typeof e&&yt.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if(r(e)||Array.isArray(e)&&"string"!=typeof e){for(var o=0;o<e.length;o++)this.buffer[t++]=e[o];this.position=t>this.position?t:this.position}else if("string"==typeof e){for(var a=0;a<e.length;a++)this.buffer[t++]=e.charCodeAt(a);this.position=t>this.position?t:this.position}}},{key:"read",value:function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var r="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),n=0;n<t;n++)r[n]=this.buffer[e++];return r}},{key:"value",value:function(e){if((e=null!=e&&e)&&void 0!==yt&&yt.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==yt&&yt.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=r(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return function(e,t,r){for(var n="",i=t;i<r;i++)n+=String.fromCharCode(e[i]);return n}(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):""}},{key:"toExtendedJSON",value:function(e){e=e||{};var t=yt.isBuffer(this.buffer)?this.buffer.toString("base64"):yt.from(this.buffer).toString("base64"),r=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===r.length?"0"+r:r}:{$binary:{base64:t,subType:1===r.length?"0"+r:r}}}}],[{key:"fromExtendedJSON",value:function(t,r){var n,i;return(r=r||{}).legacy?(i=t.$type?parseInt(t.$type,16):0,n=yt.from(t.$binary,"base64")):(i=t.$binary.subType?parseInt(t.$binary.subType,16):0,n=yt.from(t.$binary.base64,"base64")),new e(n,i)}}]);var t=0;function r(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}return e.BUFFER_SIZE=256,e.SUBTYPE_DEFAULT=0,e.SUBTYPE_FUNCTION=1,e.SUBTYPE_BYTE_ARRAY=2,e.SUBTYPE_UUID_OLD=3,e.SUBTYPE_UUID=4,e.SUBTYPE_MD5=5,e.SUBTYPE_USER_DEFINED=128,Object.defineProperty(e.prototype,"_bsontype",{value:"Binary"}),e}(),_t=mt,Et={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128},bt={$oid:Je,$binary:_t,$symbol:Xe,$numberInt:Ke,$numberDecimal:pt,$numberDouble:ue,$numberLong:ie,$minKey:At,$maxKey:gt,$regex:$e,$regularExpression:$e,$timestamp:he};function wt(e,t,r,n){if("number"==typeof r){if(n.relaxed||n.legacy)return r;if(Math.floor(r)===r){if(r>=St&&r<=Tt)return new Ke(r);if(r>=Nt&&r<=Ct)return new ie.fromNumber(r)}return new ue(r)}if(null==r||"object"!==ce(r))return r;if(r.$undefined)return null;for(var i=Object.keys(r).filter((function(e){return e.startsWith("$")&&null!=r[e]})),o=0;o<i.length;o++){var a=bt[i[o]];if(a)return a.fromExtendedJSON(r,n)}if(null!=r.$date){var s=r.$date,u=new Date;return n.legacy?"number"==typeof s?u.setTime(s):"string"==typeof s&&u.setTime(Date.parse(s)):"string"==typeof s?u.setTime(Date.parse(s)):ie.isLong(s)?u.setTime(s.toNumber()):"number"==typeof s&&n.relaxed&&u.setTime(s),u}if(null!=r.$code){var c=Object.assign({},r);return r.$scope&&(c.$scope=wt(e,null,r.$scope)),Ze.fromExtendedJSON(r)}if(null!=r.$ref||null!=r.$dbPointer){var l=r.$ref?r:r.$dbPointer;if(l instanceof vt)return l;var f=Object.keys(l).filter((function(e){return e.startsWith("$")})),d=!0;if(f.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(d=!1)})),d)return vt.fromExtendedJSON(l)}return r}function It(e,t){var r=this;return"boolean"==typeof(t=Object.assign({},{relaxed:!0,legacy:!1},t)).relaxed&&(t.strict=!t.relaxed),"boolean"==typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,(function(e,n){return wt(r,0,n,t)}))}var Tt=2147483647,St=-2147483648,Ct=0x8000000000000000,Nt=-0x8000000000000000;function Bt(e,t,r,n){null!=r&&"object"===ce(r)&&(n=r,r=0),null==t||"object"!==ce(t)||Array.isArray(t)||(n=t,t=null,r=0),n=Object.assign({},{relaxed:!0,legacy:!1},n);var i=Array.isArray(e)?Ot(e,n):Lt(e,n);return JSON.stringify(i,t,r)}function Ot(e,t){return e.map((function(e){return Dt(e,t)}))}function Rt(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function Dt(e,t){if(Array.isArray(e))return Ot(e,t);if(void 0===e)return null;if(e instanceof Date){var r=e.getTime(),n=r>-1&&r<2534023188e5;return t.legacy?t.relaxed&&n?{$date:e.getTime()}:{$date:Rt(e)}:t.relaxed&&n?{$date:Rt(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var i=e>=Nt&&e<=Ct;if(e>=St&&e<=Tt)return{$numberInt:e.toString()};if(i)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var o=e.flags;return void 0===o&&(o=e.toString().match(/[gimuy]*$/)[0]),new $e(e.source,o).toExtendedJSON(t)}return null!=e&&"object"===ce(e)?Lt(e,t):e}var kt={Binary:function(e){return new _t(e.value(),e.subtype)},Code:function(e){return new Ze(e.code,e.scope)},DBRef:function(e){return new vt(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new pt(e.bytes)},Double:function(e){return new ue(e.value)},Int32:function(e){return new Ke(e.value)},Long:function(e){return ie.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new gt},MinKey:function(){return new At},ObjectID:function(e){return new Je(e)},ObjectId:function(e){return new Je(e)},BSONRegExp:function(e){return new $e(e.pattern,e.options)},Symbol:function(e){return new Xe(e.value)},Timestamp:function(e){return he.fromBits(e.low,e.high)}};function Lt(e,t){if(null==e||"object"!==ce(e))throw new Error("not an object instance");var r=e._bsontype;if(void 0===r){var n={};for(var i in e)n[i]=Dt(e[i],t);return n}if("string"==typeof r){var o=e;if("function"!=typeof o.toExtendedJSON){var a=kt[r];if(!a)throw new TypeError("Unrecognized or invalid _bsontype: "+r);o=a(o)}return"Code"===r&&o.scope?o=new Ze(o.code,Dt(o.scope,t)):"DBRef"===r&&o.oid&&(o=new vt(o.collection,Dt(o.oid,t),o.db,o.fields)),o.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+ce(r))}var Mt={parse:It,deserialize:function(e,t){return t=t||{},It(JSON.stringify(e),t)},serialize:function(e,t){return t=t||{},JSON.parse(Bt(e,t))},stringify:Bt};Et.JS_INT_MAX,Et.JS_INT_MIN;t.EJSON=Mt}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n](o,o.exports,r),o.loaded=!0,o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var l={};(()=>{"use strict";var e={};r.r(e),r.d(e,{getServiceMarketAPI:()=>qr});var t={};r.r(t),r.d(t,{GeoLineString:()=>po,GeoMultiLineString:()=>go,GeoMultiPoint:()=>fo,GeoMultiPolygon:()=>_o,GeoPoint:()=>co,GeoPolygon:()=>yo,LineString:()=>ho,MultiLineString:()=>Ao,MultiPoint:()=>lo,MultiPolygon:()=>mo,Point:()=>uo,Polygon:()=>vo,__safe_props__:()=>Eo});var l={};r.r(l),r.d(l,{AggregateOperatorMap:()=>Ss,AggregateSerializer:()=>ks,Decoder:()=>Ws,OperatorMap:()=>Ts,ProjectionSerializer:()=>js,QuerySerializer:()=>Ms,UpdateSerializer:()=>qs,aggregateOperatorToString:()=>Ds,decodeInternalDataType:()=>zo,encode:()=>xs,encodeInternalDataType:()=>Yo,extractQueryOptions:()=>Jo,flattenObject:()=>Ho,flattenQueryObject:()=>Go,getProjectionDefinition:()=>Xo,isConversionRequired:()=>Wo,mergeConditionAfterEncode:()=>jo,operatorToString:()=>Rs});var f={};r.r(f),r.d(f,{DefaultCloud:()=>yh,InstanceCloud:()=>mh,getCloudAPI:()=>vh,getCloudInstance:()=>gh,getRequestMiddleware:()=>ph});var d=r(715),h=r.n(d),p=s;const A=p;var g=()=>"devtools"===p.platform,v=void 0;globalThis._||(v=r(117),Object.getOwnPropertyNames(v).forEach((e=>{if("function"==typeof v[e]&&"toString"!==e){var t=v[e];Object.defineProperty(v,e,{value(...r){if(o.error(`you are invoking lodash#${e}, which is not part of standard library.`,"global built-in lodash is deprecated in v3.6.3 and will be no longer defined in v3.7.0. Please import lodash manually."),g())throw new Error("built-in lodash is deprecated in v3.6.3. Please import lodash manually.");return t.apply(v,r)}})}})));function y(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}const m=function e(t,r){if(t===r)return t;for(var n of Object.keys(r)){var i=y(r,n),o=y(t,n),a=void 0;"object"==typeof i?e(a=o||{},i):a=i,t[n]=a}return t};var _=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),E=e=>"object"===_(e),b=e=>"string"===_(e),w=e=>"number"===_(e),I=e=>"function"==typeof e,T=e=>Array.isArray(e),S=e=>"date"===_(e),C=e=>"regexp"===_(e),N=e=>e&&"symbol"===_(e._internalType),B=e=>{if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},O={"-1":"",UNKNOWN_ERROR:-1,"-401001":"api permission denied",SDK_API_PERMISSION_DENIED:-401001,"-401002":"api parameter error",SDK_API_PARAMETER_ERROR:-401002,"-401003":"api parameter type error",SDK_API_PARAMETER_TYPE_ERROR:-401003,"-402001":"circular reference detected",SDK_DATABASE_CIRCULAR_REFERENCE:-402001,"-402002":"realtime listener init watch fail",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:-402002,"-402003":"realtime listener reconnect ws fail",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WS_FAIL:-402003,"-402004":"realtime listener rebuild watch fail",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:-402004,"-402005":"realtime listener close watch fail",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:-402005,"-402006":"realtime listener receive server error msg",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:-402006,"-402007":"realtime listener receive invalid server data",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:-402007,"-402008":"realtime listener websocket connection error",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:-402008,"-402009":"realtime listener websocket connection closed",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:-402009,"-402010":"realtime listener check last fail",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:-402010,"-402011":"realtime listener unexpected fatal error",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:-402011,"-402012":"realtime listener init ws fail",SDK_DATABASE_REALTIME_LISTENER_INIT_WS_FAIL:-402012,"-403001":"max upload file size exceeded",SDK_STORAGE_EXCEED_MAX_UPLOAD_SIZE:-403001,"-403002":"internal server error: empty upload url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL:-403002,"-403003":"internal server error: empty download url",SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL:-403003,"-404001":"empty call result",SDK_FUNCTIONS_EMPTY_CALL_RESULT:-404001,"-404002":"empty event id",SDK_FUNCTIONS_EMPTY_EVENT_ID:-404002,"-404003":"empty poll url",SDK_FUNCTIONS_EMPTY_POLL_URL:-404003,"-404004":"empty poll result json",SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON:-404004,"-404005":"exceed max poll retry",SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY:-404005,"-404006":"empty poll result base resp",SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP:-404006,"-404007":"poll result base resp ret abnormal",SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL:-404007,"-404008":"poll result status code error",SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR:-404008,"-404009":"poll error",SDK_FUNCTIONS_POLL_ERROR:-404009,"-404010":"result expired",SDK_FUNCTIONS_POLL_RESULT_EXPIRED:-404010,"-404011":"cloud function execution error",SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR:-404011,"-404012":"polling exceed max timeout retry",SDK_FUNCTIONS_EXCEED_MAX_TIMEOUT_POLL_RETRY:-404012,"-404013":"polling exceed max system error retry",SDK_FUNCTIONS_EXCEED_MAX_SYSTEM_ERROR_POLL_RETRY:-404013,"-405001":"empty call result",SDK_CONTAINER_EMPTY_CALL_RESULT:-405001,"-405002":"empty event id",SDK_CONTAINER_EMPTY_EVENT_ID:-405002,"-405003":"empty poll url",SDK_CONTAINER_EMPTY_POLL_URL:-405003,"-405004":"empty poll result json",SDK_CONTAINER_EMPTY_POLL_RESULT_JSON:-405004,"-405005":"exceed max poll retry",SDK_CONTAINER_EXCEED_MAX_POLL_RETRY:-405005,"-405006":"empty poll result base resp",SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP:-405006,"-405007":"poll result base resp ret abnormal",SDK_CONTAINER_POLL_RESULT_BASE_RESP_RET_ABNORMAL:-405007,"-405008":"poll result status code error",SDK_CONTAINER_POLL_RESULT_STATUS_CODE_ERROR:-405008,"-405009":"poll error",SDK_CONTAINER_POLL_ERROR:-405009,"-405010":"result expired",SDK_CONTAINER_POLL_RESULT_EXPIRED:-405010,"-405012":"polling exceed max timeout retry",SDK_CONTAINER_EXCEED_MAX_TIMEOUT_POLL_RETRY:-405012,"-405013":"polling exceed max system error retry",SDK_CONTAINER_EXCEED_MAX_SYSTEM_ERROR_POLL_RETRY:-405013,"-405014":"cannot download result (cdn)",SDK_CONTAINER_DOWNLOAD_RESULT_FROM_CDN_FAIL:-405014,"-405015":"exceed max client request count, avoid infinite loop in your code and retry after 60s",SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT:-405015,"-601001":"system error",WX_SYSTEM_ERROR:-601001,"-601002":"system args error",WX_SYSTEM_ARGS_ERROR:-601002,"-601003":"system network error",WX_SYSTEM_NETWORK_ERROR:-601003,"-601004":"api permission denied",WX_API_PERMISSION_DENIED:-601004,"-601005":"invalid cloudID",WX_INVALID_CLOUDID:-601005,"-601006":"cloudID expired",WX_CLOUDID_EXPIRED:-601006,"-601007":"cloudID and calling user does not match",WX_CLOUDID_USER_NOT_MATCH:-601007,"-601008":"server-side request timedout",WX_SERVER_REQUEST_TIMEOUT:-601008,"-601009":"missing mobile phone",WX_MISSING_MOBILE_PHONE:-601009,"-601010":"no write permission",WX_NO_WRITE_PERMISSION:-601010,"-601011":"no privilege permission",WX_NO_PRIVILEGE_PERMISSION:-601011,"-601012":"unauthorized env",WX_UNAUTHORIZED_ENV:-601012,"-601013":"no multiend permission",WX_NO_MULTIEND_PERMISSION:-601013,"-601015":"access denied (cloudfunction cloudbase_auth returns empty errCode)",WX_CLOUDBASE_AUTH_RETURN_EMPTY_ERRCODE:-601015,"-601016":"missing env auth info",WX_MISSING_ENV_AUTH_INFO:-601016,"-601017":"access denied (cloudbase_auth returns non-zero errCode)",WX_CLOUDBASE_AUTH_RETURN_NON_ZERO_ERRCODE:-601017,"-602018":"unauthorized API",WX_UNAUTHORIZED_API:-601018,"-602001":"database query result size exceed limit (1MB)",WX_DATABASE_QUERY_SIZE_EXCEED_LIMIT:-602001,"-604001":"cloudfunction result size exceed limit (1MB)",WX_CLOUDFUNCTION_RESULT_SIZE_EXCEED_LIMIT:-604001,"-405016":"gateway request failed (invalid resp detail)",WX_GATEWAY_REQUEST_FAILED_INVALID_RESP_DETAIL:-405016,"-501001":"resource system error",TCB_RESOURCE_SYSTEM_ERROR:-501001,"-501002":"resource server timeout",TCB_RESOURCE_SERVER_TIMEOUT:-501002,"-501003":"exceed request limit",TCB_EXCEED_REQUEST_LIMIT:-501003,"-501004":"exceed concurrent request limit",TCB_EXCEED_CONCURRENT_REQUEST_LIMIT:-501004,"-501005":"invalid env",TCB_INVALID_ENV:-501005,"-501006":"invalid common parameters",TCB_INVALID_COMMON_PARAM:-501006,"-501007":"invalid parameters",TCB_INVALID_PARAM:-501007,"-501008":"invalid request source",TCB_INVALID_REQUEST_SOURCE:-501008,"-501009":"resource not initialized",TCB_RESOURCE_NOT_INITIALIZED:-501009,"-501010":"tencentcloud key signature verification fail",TCB_KEY_SIGNATURE_VERIFICATION_FAIL:-501010,"-501011":"invalid env status",TCB_INVALID_ENV_STATUS:-501011,"-501012":"invalid api name",TCB_INVALID_API_NAME:-501012,"-501013":"request data size exceeds limit (5M)",TCB_REQ_DATA_EXCEED_LIMIT_5M:-501013,"-501014":"upload file size exceeds limit (5M)",TCB_UPLOAD_FILE_SIZE_EXCEED_LIMIT_5M:-501014,"-501023":"permission denied",TCB_PERMISSION_DENIED:-501023,"-502001":"database request fail",TCB_DB_REQUEST_FAIL:-502001,"-502002":"database invalid command",TCB_DB_INVALID_COMMAND:-502002,"-502003":"database permission denied",TCB_DB_PERMISSION_DENIED:-502003,"-502004":"database exceed collection limit",TCB_DB_EXCEED_COLLECTION_LIMIT:-502004,"-502005":"database collection not exists",TCB_DB_COLLECTION_NOT_EXISTS:-502005,"-503001":"storage request fail",TCB_STORAGE_REQUEST_FAIL:-503001,"-503002":"storage permission denied",TCB_STORAGE_PERMISSION_DENIED:-503002,"-503003":"storage file not exists",TCB_STORAGE_FILE_NOT_EXISTS:-503003,"-503004":"storage invalid sign parameter",TCB_STORAGE_INVALID_SIGN_PARAM:-503004,"-504001":"functions request fail",TCB_FUNCTIONS_REQUEST_FAIL:-504001,"-504002":"functions execute fail",TCB_FUNCTIONS_EXEC_FAIL:-504002};class R extends Error{constructor(e){super(e.errMsg),this.errCode=-1,this.errMsg=void 0,this.requestID=void 0,Object.defineProperties(this,{message:{get(){return`errCode: ${this.errCode} ${O[this.errCode]||""} | errMsg: `+this.errMsg},set(e){this.errMsg=e}}}),this.errCode=e.errCode||-1,this.errMsg=e.errMsg}get message(){return`errCode: ${this.errCode} | errMsg: `+this.errMsg}set message(e){this.errMsg=e}}function D(e){return e&&e instanceof Error&&b(e.errMsg)}function k(e,t){return L(e,t)}function L(e,t){if(e){if(D(e))return e;var r,n=`${t}:fail `;if(e instanceof Error)e.message=`${n}${e.message}`,e.stack=e.stack?e.stack.slice(0,7)+n+e.stack.slice(7):e.stack,(r=e).errCode=-1;else if("string"==typeof e)(r=new Error(`${n}${e}`)).errCode=-1;else{var i=e.errMsg||"";(r=new Error(`${t}:fail ${e.errCode} ${O[e.errCode]||""}. ${i}`)).errCode=e.errCode||-1}return r.errMsg=r.message+"",r}var o=new Error(`${t}:fail`);return o.errCode=-1,o.errMsg=o.message+"",o}class M extends Error{constructor(e,t){super(e),this.type="timeout",this.payload=void 0,this.generic=!0,this.payload=t}}var x=e=>"timeout"===e.type;class U extends Error{constructor(e,t){super(e),this.type="cancelled",this.payload=void 0,this.generic=!0,this.payload=t}}var P,Q=e=>"cancelled"===e.type,F={fake:!0,surroundThirdByTryCatch:(e,t)=>function(...r){return W((()=>{try{return e.apply(e,r)}catch(r){throw o.error(JSON.stringify(r)+`; ${t}\n`+r.stack),o.error(e.toString()),r}}),t)},reportIDKey:(...e)=>{},reportIDKeyDirectly:(...e)=>{},reportKeyValue:(...e)=>{}},q=!1,G=10;function H(){try{return q?i:G<=0?P:(G--,i.surroundThirdByTryCatch,q=!0,P=i)}catch(e){return P=F}}const j={surroundThirdByTryCatch:(e,t)=>H().surroundThirdByTryCatch(e,t),reportIDKey:e=>H().reportIDKey(e),reportIDKeyDirectly:e=>H().reportIDKeyDirectly(e),reportKeyValue:e=>H().reportKeyValue(e),errorReport:e=>H().errorReport(e)};function W(e,t=""){try{return e()}catch(e){if(D(e))return e.errMsg+=t,e;var r=(e?e.toString():"")+t;return new R({errMsg:r})}}function Y(e,t=""){return function(...r){return W((()=>e.apply(e,r)),t)}}function z(e){var t=e.param;t&&(t.success&&I(t.success)&&(t.success=j.surroundThirdByTryCatch(t.success,`at api ${e.apiName} success callback function`)),t.fail&&I(t.fail)&&(t.fail=j.surroundThirdByTryCatch(t.fail,`at api ${e.apiName} fail callback function`)),t.complete&&I(t.complete)&&(t.complete=j.surroundThirdByTryCatch(t.complete,`at api ${e.apiName} complete callback function`)))}function J(e,t,r){t.complete&&I(t.complete)&&Y(t.complete,`at api ${e} complete callback function;`)(r)}function $(e,t,r){!function(e,t,r){t.success&&I(t.success)&&Y(t.success,`at api ${e} success callback function;`)(r)}(e,t,r),J(e,t,r)}function X(e,t,r){!function(e,t,r){t.fail&&I(t.fail)&&Y(t.fail,`at api ${e} fail callback function;`)(r)}(e,t,r),J(e,t,r)}function K(e){return e&&(e.success||e.fail||e.complete)}function V(e,t,r="parameter",n=R){var i=function(e,t,r="parameter"){var n=function e(t,r,n){var i=_(t),o=_(r);if("string"===o)return i!==r?`${n} should be ${r} instead of ${i};`:"";if(i!==o)return`${n} should be ${o} instead of ${i}; `;var a="";switch(i){case"object":for(var s in r)a+=e(t[s],r[s],`${n}.${s}`);break;case"array":for(var u=0;u<r.length;u++)a+=e(t[u],r[u],`${n}[${u}]`)}return a}(e,t,r);return{passed:!n,reason:n}}(e,t,r);if(!i.passed)throw new n({errCode:O.SDK_API_PARAMETER_TYPE_ERROR,errMsg:i.reason})}function Z(e,t,r,n=R){if(null==e)throw new n({errCode:O.SDK_API_PARAMETER_ERROR,errMsg:`parameter ${t} of function ${r} must be provided`})}function ee({name:e,input:t,max:r,maxWording:n="",ErrorClass:i=R}){if(t.length>r)throw new i({errCode:O.SDK_API_PARAMETER_ERROR,errMsg:`${e} size must be less than ${n||r}`})}function te({target:e,name:t,ErrorClass:r=R}){if(0===Object.keys(e).length)throw new r({errCode:O.SDK_API_PARAMETER_ERROR,errMsg:`${t} must not be empty`})}function re(e,t=!1){if(t)return function(e){switch(_(e)){case"object":return{...e};case"array":return e.slice();case"number":return e instanceof Number?new Number(e):e;case"string":return e instanceof String?new String(e):e;case"boolean":return e instanceof Boolean?new Boolean(e):e;case"date":return new e.constructor(+e);case"map":return new Map(e);case"set":return new Set(e);default:return e}}(e);if(B(e))return{...e};switch(_(e)){case"object":default:return e;case"array":return e.slice()}}var ne,ie=new WeakMap,oe=[];function ae(){var e,t=null!==(e=ne)&&void 0!==e?e:void 0!==a?a:void 0;return t?oe.reduce(((e,t)=>t(e)),t):t}var se=e=>{if(!e)return ae();var t=ie.get(e);return t&&t||ae()};const ue=(e,t)=>{var r=null,n=!1,i=()=>{r?n=!0:(e(),r=setTimeout((()=>{clearTimeout(r),r=null,n&&(n=!1,i())}),t))};return i};function ce(e){if(void 0===e||!e.timestamp||!e.expires_in)return 0;var t=Date.now()-e.timestamp,r=.8*e.expires_in,n=Math.min(e.timestamp,Date.now())+1e3*r;return t>1e3*r?Date.now()+1e3*r:n}var le,fe=void 0!==n?n:void 0,de=(e=0)=>new Promise((t=>setTimeout(t,e))),he=!1,pe=[],Ae=()=>new Promise(((e,t)=>{if(le)e(le);else{0;try{se().wx.getNetworkType({success:t=>{le={networkType:t.networkType,isConnected:"none"!==t.networkType},e(le),he||(se().wx.onNetworkStatusChange((e=>{if(le.networkType=e.networkType,le.isConnected=e.isConnected,e.isConnected&&pe.length)for(;pe.length;)try{pe.shift()()}catch(e){}})),he=!0)},fail:t})}catch(e){t(e)}}}));var ge,ve,ye=!1,me=new Set;function _e(e){try{se().wx.onAppShow&&(ye||((t=se().wx).onAppShow&&t.onAppHide&&(t.onAppShow((()=>{for(var e of("visible",me))try{e("show")}catch(e){}})),t.onAppHide((()=>{for(var e of("hidden",me))try{e("hide")}catch(e){}}))),ye=!0),me.size>50&&me.clear(),me.add(e))}catch(e){}var t}function Ee(e){me.delete(e)}function be(){if(ge)return ge;var e=se().wx;return ge=e.getSystemInfoSync()}function we(){if(ve)return ve;var e=se().wx;return ve=e.getLaunchOptionsSync()}var Ie,Te=!1,Se=void 0;function Ce(e=500,t={}){if(se().private_getBackgroundFetchData&&!t.pluginId){if(Se)return Se;if(Ie)return Ie.then((()=>Se));if(!Te){Te=!0;var r=Date.now(),n=bt();return Ie=Promise.race([de(e).then((()=>({error:"bg fetch timeout"}))),new Promise(((e,t)=>{se().private_getBackgroundFetchData({fetchType:0,success:t=>{try{t||e({error:"empty"}),(Se=JSON.parse(t.fetchedData)).expiresTs=ce(Se),e(Se),Bt({apiName:"private_getBackgroundFetchData",apiStartTime:r,apiEndTime:Date.now(),warmStartTime:n})}catch(t){e({error:t})}},fail:t=>{e({error:t})}})}))]),Se?(null==fe||fe.log("private_getBackgroundFetchData (cloud) (sync)",JSON.stringify(Se)),Se):Ie.then((e=>(Ie=void 0,null==fe||fe.log("private_getBackgroundFetchData (cloud)",JSON.stringify(e)),e.error?void 0:e)))}}}function Ne(e){try{return JSON.parse(e)}catch(t){return e}}function Be(e){return encodeURIComponent(function(e){try{return decodeURIComponent(e)}catch(t){return e}}(e))}var Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Re(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return function(e){for(var t,r,n=String(e),i="",o=0,a=Oe;n.charAt(0|o)||(a="=",o%1);i+=a.charAt(63&t>>8-o%1*8)){if((r=n.charCodeAt(o+=3/4))>255)throw new Error('"btoa" failed');t=t<<8|r}return i}(t)}function De(e){for(var t=function(e){var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new Error('"atob" failed');for(var n,i,o=0,a=0;i=t.charAt(a++);~i&&(n=o%4?64*n+i:i,o++%4)?r+=String.fromCharCode(255&n>>(-2*o&6)):0)i=Oe.indexOf(i);return r}(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n.buffer}var ke=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,9,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,5,5,5,5,5,5,5,5,5,5,5,5,6,5,5,11,7,7,7,8,9,9,9,9,9,9,9,9,9,9,9,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,24,36,48,60,72,0,84,96,0,12,12,12,0,0,0,0,0,0,0,0,0,24,24,24,0,0,0,0,0,0,0,0,0,24,24,0,0,0,0,0,0,0,0,0,0,36,36,36,0,0,0,0,0,0,0,0,0,36,0,0,0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,0,36,36,0,0,0,0,0,0,0,0]),Le=Array.from({length:65535},((e,t)=>String.fromCharCode(t)));function Me(e){return function(e,t,r){if(r-t<1)return"";for(var n="",i=t,o=12,a=0,s=0,u=o;i<r;){var c=e[i];if(u=o,a=a<<6|c&127>>((s=ke[c])>>1),(o=ke[256+o+s])<12){if(o=12,n+=Le[65533],a=0,12!==u)continue}else 12===o&&(n+=a<=65535?Le[a]:String.fromCharCode(55296+(a-65536>>>10&1023),56320+(1023&a)),a=0);i++}return n}(new Uint8Array(e),0,e.byteLength)}function xe(e){return function(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}(e).buffer}var Ue,Pe,Qe;Ue=new Array(128),Pe=String.fromCodePoint||String.fromCharCode,Qe=[];function Fe(e){return e?Object.prototype.hasOwnProperty.call(e,"toString")&&"function"==typeof e.toString?e.toString():"function"==typeof e[Symbol.toPrimitive]?e[Symbol.toPrimitive]():e.message&&"string"==typeof e.message?e.message:e.errMsg&&"string"==typeof e.errMsg?e.errMsg:Object.prototype.toString.call(e)===Object.prototype.toString.call({})?JSON.stringify(e):""+e:isNaN(e)?"NaN":null===e?"null":typeof e}var qe=r(863),Ge=fe,He=new Set(["tcbapi_init","tcbapi_get_service_info"]);var je=new class{constructor(e){this.limitPerMinute=void 0,this.tokens=void 0,this.lastRefillTime=void 0,this.reported=!1,this.serverLastLimitExceedSeen=0,this.serverLimited=!1,this.limitPerMinute=e,this.tokens=this.limitPerMinute,this.lastRefillTime=Date.now()}markServerLimitExceed(){this.serverLastLimitExceedSeen=Date.now(),this.serverLimited=!0}updateLimit(e){this.limitPerMinute=e}reportClientLimited(){if(!this.reported){this.reported=!0;var e=Date.now();Bt({apiName:"RequestLimiter",funcName:"limit",apiStartTime:this.lastRefillTime,apiEndTime:e,tunnelStartTime:this.lastRefillTime,tunnelEndTime:e,errMsg:"user request limit exceed",resultStatus:2,bypassCheck:!0})}}refillTokens(){var e=Date.now();e-this.lastRefillTime>6e4&&(this.tokens=this.limitPerMinute,this.lastRefillTime=e)}allowRequest(){return this.refillTokens(),this.serverLimited&&Date.now()-this.serverLastLimitExceedSeen<1e3?(this.reportClientLimited(),!1):this.tokens>0?(this.tokens-=1,!0):(this.reportClientLimited(),!1)}}(1e3);var We=new class{constructor(){this._running=0,this._onIdleCallbacks=[],this._idleTriggerTimer=void 0}get running(){return this._running}incrementRunning(e=1){this._running+=e,this._idleTriggerTimer&&clearTimeout(this._idleTriggerTimer)}decrementRunning(e=1){this._running-=e,this._running<0&&(this._running=0),this._running<=0&&this._onIdleCallbacks.length&&(this._idleTriggerTimer=setTimeout((()=>{if(this._idleTriggerTimer=null,this._onIdleCallbacks.length){var e=this._onIdleCallbacks.shift();e&&e()}}),50))}onceIdle(e){this._running>0?this._onIdleCallbacks.push(e):e()}};function Ye(e,t={}){if(t.fireOnIdle&&We.running>0)return new Promise(((r,n)=>{We.onceIdle(h()((function*(){try{var i=yield Ye(e,t);r(i)}catch(e){n(e)}})))}));if(t.onFire)try{t.onFire()}catch(e){}return new Promise(((r,n)=>{var i,o,a,s,u,c,l;if(We.incrementRunning(),je.allowRequest()){var f;if(null!==(i=e.cloud)&&void 0!==i&&i.plugins)f=`https://${e.cloud.plugins.reduce(((e,t)=>t.getMetadata(e)),{}).host||"servicewechat.com"}/wxa-qbase/jsoperatewxdata`,e=e.cloud.plugins.reduce(((t,r)=>r.beforeTunnelRequest(e)),e)||e;se((e.cloud||t.cloud||{}).identifiers).invokeOperateWXData({appid:(null===(o=e.cloud)||void 0===o||null===(a=o.instanceOptions)||void 0===a?void 0:a.resourceAppid)||(null===(s=e.cloud)||void 0===s?void 0:s.config.appid),accessToken:null===(u=e.cloud)||void 0===u||null===(c=u.authStorage)||void 0===c?void 0:c.getItem("access_token"),webRequest:null===(l=e.cloud)||void 0===l?void 0:l.webRequest,url:f,apiName:e.apiName||"qbase_commapi",reqData:e.data,success:i=>{var o;i=(null===(o=e.cloud)||void 0===o?void 0:o.plugins.reduce(((e,t)=>t.afterTunnelRequest(e)),i))||i;var a={...i,data:i.data};if(i.data)try{var s=i.data;if(s.baseresponse&&0!==s.baseresponse.errcode){var u=new R({errCode:s.baseresponse.errcode,errMsg:s.baseresponse.errmsg});return void n(u)}a={...i,data:s}}catch(e){var c=new R({errMsg:e&&e.toString()});return void n(c)}else if(t&&t.requireDataNotEmpty){var l=new R({errCode:i.errCode,errMsg:`error empty internal server response, ${i.errMsg}`});return void n(l)}r(a)},fail:e=>{if(e&&e.errMsg)if(e.errMsg.includes("invalid scope")){var t="invalid scope 没有权限，请先开通云服务";(e=new Error(t)).errMsg=t,e.operateWXDataFail=!0}else{var r=e.errMsg.replace(/^operateWXData:fail /,"");r.includes("meet frequency limit")&&je.markServerLimitExceed(),(e=new Error(r)).errMsg=r,e.operateWXDataFail=!0}n(e)},complete:function(){e.complete&&e.complete.apply(null,arguments),We.decrementRunning()}})}else n(L({errCode:O.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},"cloud"))}))}var ze=["tcbapi_call_gateway","tcbapi_get_service_info"];function Je(e){var{cloud:t}=e;return function(){var e=h()((function*(e){var r=t.isInstance?{...t.instanceOptions,appid:t.instanceOptions.resourceAppid,env:t.instanceOptions.resourceEnv}:{identityless:"sdk"===t.runtimeInfo.platform||void 0,appid:"sdk"===t.runtimeInfo.platform?t.config.appid:void 0,env:e.env||("sdk"===t.runtimeInfo.platform?t.config.env:void 0)},n=Date.now(),i={qbase_api_name:e.apiName,qbase_req:e.serializedReqData,qbase_options:r,qbase_meta:t.getMetaData(),cli_req_id:`${+new Date}_${Math.random()}`};try{g()||-1===ze.indexOf(e.apiName)||(i.qbase_options.rid=(0,qe.xB)(i),i.qbase_options.rv="2")}catch(e){}var o=Date.now()-n;if(e.stats&&(e.stats.tunnelDataCost=o),e.stdpriv&&!He.has(e.apiName)&&"windows"!==be().platform){var a=yield function(e,t){return $e.apply(this,arguments)}(t,i).catch((e=>{if(e&&(-9999===e.errCode||-9998===e.errCode))return Ye({apiName:"qbase_commapi",data:i,cloud:t}).then((t=>({...t,channelType:-9998===e.errCode?0:2})));throw e}));return a}return Ye({apiName:"qbase_commapi",data:i,cloud:t})}));return function(t){return e.apply(this,arguments)}}()}function $e(){return $e=h()((function*(e,t){var r=e.serviceEndpoint.getEndpointSync("container");if(null==r||!r.cloudServiceUrl)throw{errCode:-9998,errMsg:"cloudServiceUrl not found"};null==Ge||Ge.info("cloud stdpriv begin",t);var n=se(e.identifiers),i={"X-WX-ENCRYPTION-VERSION":2,"X-WX-ENCRYPTION-TIMESTAMP":r.timestamp+"","X-WX-COMPRESSION":"snappy","X-WX-LIB-BUILD-TS":1732453804577,"X-WX-RESPONSE-CONTENT-ACCEPT-ENCODING":"JSON","Content-Type":"application/octet-stream","X-WX-REQUEST-CONTENT-ENCODING":"PB"},o=new Uint8Array(De(r.key)),{data:a}=qe.V1.encodeStdPrivRequest(o,{cliReqId:t.cli_req_id,qbaseApiName:t.qbase_api_name,qbaseMeta:{filterUserInfo:t.qbase_meta.filter_user_info,sdkVersion:t.qbase_meta.sdk_version,sessionId:t.qbase_meta.session_id},qbaseOptions:{env:t.qbase_options.env},qbaseReq:t.qbase_req},{}),s=function(e){var t,r=null===(t=it.container)||void 0===t?void 0:t.getTokenSync();if(null==r||!r.cloudServiceUrl)return;e.rdm&&(r.cloudServiceUrl=r.cloudServiceUrl.replace(et,"https://wxardm.weixin.qq.com"));return r}({rdm:e.getConfig().rdm});return new Promise(((e,t)=>{je.allowRequest()?n._requestSkipCheckDomain({url:s.url,method:"POST",header:i,data:a.buffer,dataType:"arraybuffer",responseType:"arraybuffer",enableHttp2:!0,success:r=>{try{for(var n in null==Ge||Ge.info("res",r),r.header)if("x-nws-log-uuid"===n.toLowerCase()&&(null==Ge||Ge.log(`[cloud.callContainer] x-nws-log-uuid ${r.header[n]}`)),"x-wx-system-error"===n.toLowerCase()){var i=Number(r.header[n]);return 85104===i&&s.invalidate(),102003===i&&je.markServerLimitExceed(),void t(new Error(`wx system error. code: ${i}`))}if(200===r.statusCode){var a=r.data,u=!1;for(var c in r.header)"x-wx-compression"===c.toLowerCase()&&"snappy"===r.header[c]&&(u=!0);var l=qe.V1.decodeStdPrivResponse(o,new Uint8Array(a),u);e({errCode:0,errMsg:"",data:l,profile:r.profile,channelType:1})}else t({errCode:-9999,errMsg:"system conn status not 200"})}catch(e){t(new Error(`error while processing internal response ${e}`))}},fail:e=>{t({...e,errCode:-9999,errMsg:e.errMsg})}}):t(L({errCode:O.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},"cloud"))}))})),$e.apply(this,arguments)}const Xe=Ye;var Ke=()=>{};class Ve{constructor(e,t,r){this.refreshToken=e,this.proactiveRefreshTimer=t,this.onRefreshedToken=r,this.state="init",this.currentToken=void 0,this.currentSession=void 0,this.currentTask=void 0,this.refreshHandler=void 0}transition(e,t){switch(Ke(`[gateway:token] transition ${this.state} -> ${e}`,t),this.state){case"init":"refreshing"===e?(this.state="refreshing",this.currentTask=t.task):"normal"===e?(this.state="normal",this.currentToken=t.token,this.currentTask=void 0):Ke(`[gateway:token] invalid transition ${this.state} -> ${e}`);break;case"normal":"refreshing"===e?(this.state="refreshing",Object.defineProperty(this.currentToken,"__invalidated",{value:!0}),this.currentToken=void 0,this.currentTask=t.task):"normal"===e?t.token&&this.currentToken&&t.token.timestamp>this.currentToken.timestamp&&(this.currentToken=t.token,this.currentTask=void 0):Ke(`[gateway:token] invalid transition ${this.state} -> ${e}`);break;case"refreshing":"normal"===e?(this.state="normal",this.currentToken=t.token,this.currentTask=void 0):"init"===e?(this.state="init",this.currentToken=void 0,this.currentTask=void 0):Ke(`[gateway:token] invalid transition ${this.state} -> ${e}`)}}getTokenSync(){if(this.currentToken)return this.currentToken.exp<Date.now()?void this.invalidate(this.currentToken).catch((()=>{})):this.currentToken}getToken(){var e=this;return h()((function*(){return e.currentToken?e.currentToken.exp<Date.now()?e.invalidate(e.currentToken):e.currentToken:e.invalidate()}))()}updateSession(e){var t=this;return h()((function*(){var r=new Promise((t=>"string"==typeof e?t(e):e?e.then(t):t(e)));return t.currentSession=yield r,t.invalidate()}))()}updatePrefetchToken(e){var t=this;return h()((function*(){var r=Ze(e,(()=>t.invalidate()));r.exp<Date.now()||(Ke("[gateway:token] valid token"+(Date.now()-r.exp)),t.transition("normal",{token:r}),setTimeout((()=>{t.invalidate(void 0,!0)}),0))}))()}invalidate(e,t){var r=this;return h()((function*(){var n;if("refreshing"===r.state&&r.currentTask)return r.currentTask;if(null!=e&&e.__invalidated&&"normal"===r.state&&r.currentToken)return Ke("[gateway:token] already invalidated token returning latest not refreshing"),r.currentToken;r.refreshHandler&&clearTimeout(r.refreshHandler);var i=r.currentSession,o=new Promise(((n,o)=>{var a=Date.now();r.refreshToken(i).then((t=>{var i=Ze(t,(()=>r.invalidate(e)));r.transition("normal",{token:i});var o=i.exp-Date.now();r.refreshHandler=r.proactiveRefreshTimer?setTimeout((()=>{r.invalidate(void 0,!0)}),r.proactiveRefreshTimer(o)):void 0,n(i)})).catch((e=>{var n=Date.now(),i="";(i=e instanceof Error?e.message:"string"==typeof e?e:e+"").replace(/,/g,"."),Bt({apiName:"TokenManager",funcName:t?"ProactiveRefreshTimer":"Invalidation",apiStartTime:a,apiEndTime:n,tunnelStartTime:a,tunnelEndTime:n,errMsg:i,resultStatus:2}),r.transition("init",{}),o(i)}))}));t||r.transition("refreshing",{task:o});var a=yield o;return null===(n=r.onRefreshedToken)||void 0===n||n.call(r,a),a}))()}}function Ze(e,t){var r=0,n=0;"iat"in e?(r=1e3*e.iat,n=e.exp-e.iat):(r=e.timestamp,n=e.expires_in);var i=ce({timestamp:r,expires_in:n});if(0===i)throw new Error("invalid token timestamp");return{...e,exp:i,timestamp:r,invalidate:t}}var et=/https:\/\/servicewechat\.com/,tt={},rt=!1,nt=`${Math.random()}_${Date.now()}`;void 0!==u&&u.onLoad((()=>{nt=`${Math.random()}_${Date.now()}`}));var it={};class ot{constructor(e){this.identifiers=e,this._tunnelRequest=void 0,this._meta=void 0,this.containerTokenManager=new Ve(this.refreshContainerServiceEndpoint.bind(this),(e=>e),(e=>this.processServiceEndpoint(e))),it.container=this.containerTokenManager}setMetaData(e){this._meta=e}setTunnelRequest(e){this._tunnelRequest=e}getEndpointSync(e){if("container"===e){var t=this.containerTokenManager.getTokenSync();if(null!=t&&t.url)return t}}getEndpoint(e){var t=this;return h()((function*(){return"container"===e?t.containerTokenManager.getToken():null}))()}processServiceEndpoint(e){return h()((function*(){Rt(e,"1"),ht(`${e.domain||"servicewechat.com"}/wxa-qbase/keepalive`),ct(),ft()}))()}refreshContainerServiceEndpoint(){var e=this;return h()((function*(){if(clearTimeout(tt.container),se().private_getBackgroundFetchData&&!rt){rt=!0;var t,r,n=Ce(500,e.identifiers);if(n&&!n.url_info&&(n=yield n),n&&n.expiresTs>Date.now()&&n.url_info)return{url:null!==(t=n.url_info)&&void 0!==t&&t.cloudrun_url?`${n.url_info.cloudrun_url}?token=${n.token}`:`https://${n.domain}/wxa-qbase/container_service?token=${n.token}`,cloudServiceUrl:null!==(r=n.url_info)&&void 0!==r&&r.cloudbase_url?`${n.url_info.cloudbase_url}?token=${n.token}`:void 0,domain:n.domain||"servicewechat.com",token:n.token,http:!0,key:n.key,timestamp:n.timestamp,expires_in:n.expires_in,exp:n.expires_in}}for(var i=[],o=0;o<3;o++)try{var a,s,u=Date.now(),c=be(),l=(e._tunnelRequest?yield e._tunnelRequest({apiName:"tcbapi_get_service_info",serializedReqData:JSON.stringify({client_random:nt,system:c.system,wx_app_version:c.version})}):yield Xe({apiName:"qbase_commapi",data:{qbase_api_name:"tcbapi_get_service_info",qbase_req:JSON.stringify({client_random:nt,system:c.system,wx_app_version:c.version}),qbase_options:{},qbase_meta:e._meta,cli_req_id:`${+new Date}_${Math.random()}`}})).data;if(Date.now()-u>1e3*l.expires_in){i.push(`result already expired (startTs ${u} resultTs ${Date.now()})`);continue}var f=l.domain||"servicewechat.com";return{url:null!==(a=l.url_info)&&void 0!==a&&a.cloudrun_url?`${l.url_info.cloudrun_url}?token=${l.token}`:`https://${f}/wxa-qbase/container_service?token=${l.token}`,cloudServiceUrl:null!==(s=l.url_info)&&void 0!==s&&s.cloudbase_url?`${l.url_info.cloudbase_url}?token=${l.token}`:void 0,domain:f,token:l.token,http:l.http,key:l.key,timestamp:l.timestamp,ip:l.ip,vip:l.vip,expires_in:l.expires_in,exp:l.expires_in}}catch(e){i.push(e+"")}throw new Error(`get container service endpoints errors: ${i.join("\n")}`)}))()}invalidateToken(e,t){"container"===e&&this.containerTokenManager.invalidate(t)}static invalidateService(e,t){var r;null===(r=it[e])||void 0===r||r.invalidate(t)}}var at=!1,st=!1,ut=1e4;function ct(){return lt.apply(this,arguments)}function lt(){return(lt=h()((function*(e=!0){if(!at){at=!0;var t=()=>{at&&setTimeout(h()((function*(){pt(),t()})),ut)};if(t(),!st){var r;st=!0;var n=se();null!==(r=n.wx)&&void 0!==r&&r.onAppHide&&n.wx.onAppHide((()=>{at=!1}))}e&&pt()}}))).apply(this,arguments)}var ft=(e="servicewechat.com/wxa-qbase/keepalive")=>{dt.set(e,Date.now())},dt=new Map;function ht(e){var t;dt.set(e,null!==(t=dt.get(e))&&void 0!==t?t:0)}var pt=()=>new Promise((e=>{var t=function(t){var r,n=null!==(r=dt.get(t))&&void 0!==r?r:0;if(Date.now()-n<3e4)return"continue";var i=Date.now();dt.set(t,i);var o=!/^\d+/.test(t),a={url:`${o?"https":"http"}://${t}?devtools_ignore=true`,header:o?{}:{host:"servicewechat.com"},method:"GET",dataType:"text",enableHttp2:o,enableQuic:o,success:()=>{e(),Math.random()>.125||kt(22990,1,["privateHttpKeepAlive",t,i,Date.now(),Date.now()-i].join(","))},fail:()=>{e()}};se()._requestSkipCheckDomain(a)};for(var r of dt.keys())t(r)}));function At(){try{var e,t,r,n,i=g(),o=(null===(e=A.appLaunchInfo)||void 0===e||null===(t=e.appversion)||void 0===t?void 0:t.toString())||(null===(r=A.accountInfo)||void 0===r||null===(n=r.appVersion)||void 0===n?void 0:n.toString())||"0";return i&&(o="devtools"),o}catch(e){return"0"}}var gt,vt=!1,yt=[],mt=Date.now(),_t=Date.now(),Et="unknown";void 0!==u&&u.onLoad((()=>{var e=Date.now();mt=e,_t=e})),A.onReady((()=>{mt=Date.now(),_t=Date.now(),gt=se()._getSystemInfoSyncFromCache()}));var bt=()=>_t,wt=()=>{for(var e of yt)try{e()}catch(e){0}yt=[]};function It(e){for(var t=0;t<e.length;t++){var r=e[t];"string"==typeof r&&(e[t]=r.replace(/,/g," "))}return e}var Tt,St,Ct,Nt,Bt=e=>{setTimeout((()=>{try{var t,r,n,i;if(!(e=>!!e.bypassCheck||!(e.tunnelStartTime&&e.tunnelEndTime&&e.tunnelEndTime<e.tunnelStartTime)&&!!(e.apiStartTime&&e.apiEndTime&&e.apiEndTime>e.apiStartTime))(e))return;if(!vt&&yt.length<100)return void yt.push(Bt.bind(null,e));var o=e.apiEndTime-e.apiStartTime,a=e.tunnelEndTime?e.tunnelEndTime-e.tunnelStartTime:0,s=It([0,e.apiName,o,a,(e.pollStartTime&&e.pollEndTime&&e.pollEndTime>e.pollStartTime?e.pollEndTime-e.pollStartTime:0)||0,Et,e.tunnelTimeNoCSNetCost?o-e.tunnelTimeNoCSNetCost:0,e.tunnelTimeNoCSNetCost?a-e.tunnelTimeNoCSNetCost:0,e.funcExecTime?e.funcExecTime:0,null!==(t=e.channelType)&&void 0!==t?t:0,e.funcName||"",e.apiStartTime-mt,void 0!==e.warmStartTime?e.apiStartTime-e.warmStartTime:0,null!==(r=e.usingPrefetchToken)&&void 0!==r?r:0,null!==(n=e.resultStatus)&&void 0!==n?n:1,null!==(i=e.errMsg)&&void 0!==i?i:""]);j.fake?kt(16588,6,s.join(",")):j.reportKeyValue({key:"CloudReport",value:s.join(","),force:!0})}catch(e){}}))},Ot=(e,t,r,n)=>{j.reportIDKeyDirectly({id:e,key:t,force:r,immediately:n})},Rt=(e,t)=>(Tt=e,St=t),Dt=[],kt=(e,t,r)=>{Dt.push({log_id:e,version:t,user_log_list:r}),Tt&&Mt()},Lt=()=>{var e=se();Tt&&(e._requestSkipCheckDomain({url:`https://servicewechat.com/wxa-qbase/report?token=${Tt.token}&v=${St}`,method:"POST",header:{},enableHttp2:!0,dataType:"json",data:JSON.stringify({report_info_list:Dt}),success:e=>{for(var t in e.header)"x-wx-system-error"===t.toLocaleLowerCase()&&"85104"===e.header[t]&&Tt.invalidate()}}),Dt=[],pt())},Mt=ue(Lt,1e4),xt=(e,t)=>{var r=I(e);function n(...n){if(t.samplePicker&&!t.samplePicker.next())return r?e.apply(this,n):e;var o=Date.now(),a=!0;try{var s,u;if(null!==(s=t.condition)&&void 0!==s&&s.emptyKey&&t.timing[t.startKey])return r?e.apply(this,n):e;if(r){var c=e.apply(this,n);if("promise"!==_(c))return a=!1,c;u=c}else u=e;return u.then((()=>i(o))).catch((()=>i(o))),u}catch(e){throw a=!1,e}finally{a||i(o)}}function i(e){t.timing[t.startKey]=e,t.timing[t.endKey]=Date.now(),t.autoReport&&Bt({...t.timing,apiName:t.autoReport})}return r?n:n()},Ut=(Ct=10,Nt=!0,function*(){for(var e=()=>parseInt(Math.round(2*Math.random()*Ct),10),t=Nt?0:e();;)t>0?(t--,yield!1):(t=e(),yield!0)})();function Pt(e){if(e&&!isNaN(e))return e>6e4?6e4:e<0?0:e}function Qt(e){e.stats||(e.stats={}),e.stats.apiEndTime=Date.now();var t=Boolean(e.stats.profile),r=e.stats.profile||{},n=e.stats.apiEndTime,i=e.path||"";i=i.split("?")[0].replace(/\/\d+\//g,"/*/").replace(/\/\d+$/g,"/*"),kt(30434,1,It([e.stats.callid,r.redirectStart,t?r.redirectEnd-r.redirectStart:void 0,r.fetchStart,r.domainLookUpStart,t?r.domainLookUpEnd-r.domainLookUpStart:void 0,r.connectStart,t?r.connectEnd-r.connectStart:void 0,r.SSLconnectionStart,t?r.SSLconnectionEnd-r.SSLconnectionStart:void 0,r.requestStart,t?r.requestEnd-r.requestStart:void 0,r.responseStart,t?r.responseEnd-r.responseStart:void 0,r.rtt,r.estimate_nettype,Pt(r.httpRttEstimate),Pt(r.transportRttEstimate),Pt(r.downstreamThroughputKbpsEstimate),r.throughputKbps,r.peerIP,r.port,t?r.socketReused?1:0:void 0,r.sendBytesCount,r.receivedBytedCount,r.protocol,be().system,i,be().platform,e.stats.requestStartTs,1732453804577,"SDK:request",t?r.requestStart-e.stats.requestStartTs:void 0,t?e.stats.requestSuccessTs-r.requestEnd:void 0,e.stats.responseProcessEndTs?n-e.stats.responseProcessEndTs:void 0,e.stats.errMsg,e.stats.errCode]).join(","))}var Ft={develop:2,trial:3,release:1,unknown:0};function qt(e,t,r){try{var n,i,o,a,s;t.stats||(t.stats={}),t.context||(t.context={}),t.stats.apiEndTime=Date.now(),Bt({...t.context,apiEndTime:t.stats.apiEndTime,apiName:e});var u=Boolean(t.stats.profile),c=t.stats.profile||{},l=t.stats.serverEndTs-t.stats.serverStartTs,f=t.stats.httpRequest?t.stats.httpRequest<=6e4?t.stats.httpRequest:6e4:void 0,d=t.stats.apiEndTime,h=t.context?d-t.context.apiStartTime:0;h>9e4&&(h=9e4);var p=t.path||"";p=p.split("?")[0].replace(/\/\d+\//g,"/*/").replace(/\/\d+$/g,"/*"),kt(22601,27,It([t.stats.callid,t.context.apiStartTime,d,t.stats.serverStartTs,t.stats.serverEndTs,t.stats.requestBodyBytes,t.stats.responseBodyBytes,t.stats.getServiceEndpoint,t.stats.queryDNS,t.stats.compress,t.stats.loadAsmcrypto,t.stats.encrypt,f,t.stats.decrypt,t.stats.uncompress,t.stats.decodePb,t.stats.decodeBody,t.stats.ip,c.redirectStart,u?c.redirectEnd-c.redirectStart:void 0,c.fetchStart,c.domainLookUpStart,u?c.domainLookUpEnd-c.domainLookUpStart:void 0,c.connectStart,u?c.connectEnd-c.connectStart:void 0,c.SSLconnectionStart,u?c.SSLconnectionEnd-c.SSLconnectionStart:void 0,c.requestStart,u?c.requestEnd-c.requestStart:void 0,c.responseStart,u?c.responseEnd-c.responseStart:void 0,c.rtt,c.estimate_nettype,Pt(c.httpRttEstimate),Pt(c.transportRttEstimate),Pt(c.downstreamThroughputKbpsEstimate),c.throughputKbps,c.peerIP,c.port,u?c.socketReused?1:0:void 0,c.sendBytesCount,c.receivedBytedCount,c.protocol,be().system,h,l>0?l:0,f?h-f:void 0,p,be().platform,t.stats.requestStartTs,1732453804577,t.stats.ecdnId,t.stats.ecdnEdgeTiming,t.stats.domain,t.stats.stringToBuffer,t.stats.encodePb,t.stats.tsBeforeCallContainerImpl,t.stats.tsCallContainerImplStart,t.stats.decodeJson,`SDK:${t.stats.protocol}`,u?c.requestStart-t.stats.requestStartTs:void 0,u?t.stats.requestSuccessTs-c.requestEnd:void 0,t.stats.responseProcessEndTs?d-t.stats.responseProcessEndTs:void 0,t.stats.upstreamCost,t.stats.meshStartTs,t.stats.meshEndTs,t.stats.errMsg,t.stats.errCode,At(),null===(n=we())||void 0===n?void 0:n.scene,null===(i=A.accountInfo)||void 0===i?void 0:i.appId,t.stats.statusCode,null===(o=gt)||void 0===o?void 0:o.model,t.stats.ret,Et,null===(a=gt)||void 0===a?void 0:a.brand,(m=null===(g=(v=se()).getCurrentPages)||void 0===g?void 0:g.call(v),null==m||null===(y=m[0])||void 0===y?void 0:y.route),t.stats.tunnelDataCost,t.stats.prefetchIpState,t.stats.confVersion,Ft[null!==(s=A.envVersion)&&void 0!==s?s:"unknown"]]).join(",")),se().emitCloudNetworkReport({functionName:e,keyParam:t.path,method:t.method||"GET",result:0===t.stats.errCode?1:2,costTime:h,errorMsg:t.stats.errMsg,statusCode:t.stats.statusCode,dataLength:t.stats.requestBodyBytes,responseDataLength:t.stats.responseBodyBytes,requestData:t.data,response:r,profile:c,errno:t.stats.errCode})}catch(e){}var g,v,y,m}function Gt(e){return`${e}:ok`}function Ht(e,t){return JSON.stringify(e,((e,r)=>t&&t.has(r)?t.get(r):"arraybuffer"===_(r)?{type:"Buffer",data:[...new Uint8Array(r)]}:r))}function jt(e){return Wt(JSON.parse(e))}function Wt(e){switch(_(e)){case"object":return Yt(e);case"array":return e.map(Wt);default:return e}}function Yt(e){var t=e,r=zt(t);if(t!==r)return r;for(var n in t){var i=t[n];switch(_(i)){case"object":var o=zt(i);t[n]=o!==i?o:Yt(t[n]);break;case"array":var a=Wt(i);a!==i&&(t[n]=a);break;default:continue}}return t}function zt(e){for(var t in e)if("type"===t)if("Buffer"===e.type)if(T(e.data)&&w(e.data[0]))try{return new Uint8Array(e.data).buffer}catch(t){return e}return e}var Jt=Symbol.for("CLOUD_ID"),$t=Symbol("CDN");function Xt(e){var t=[];for(var r in e)E(e[r])&&e[r]._internalType===Jt&&t.push({key:r,cloudID:e[r].cloudID});return t}var Kt=20,Vt=2,Zt=2,er=2e4,tr=e=>{var t=new Date;return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()} ${e}`},rr=e=>e.join("->");function nr(e){return function(){var t=h()((function*(t){var r={...t.data},n=Xt(r).map((e=>({key_name:e.key,cloud_id:e.cloudID})));if(n.length)for(var i of n)delete r[i.key_name];var o=Ht(r,yield t.cdnMapPromise);ee({input:o,max:e.appConfig.maxReqDataSize,name:"callFunction data",maxWording:e.appConfig.maxReqDataSize/1024+" KB"});var a=`${+new Date}-${Math.random()}`;t.context.tunnelStartTime=+new Date;var{result:s,requestID:u}=yield function(e,t,r,n){return c.apply(this,arguments)}(t,o,n,a);return t.context.tunnelEndTime=+new Date,{errMsg:Gt(lr),result:s,requestID:u};function c(){return c=h()((function*(t,r,n,i){return new Promise(((o,a)=>{var s=[tr("start")],{resolve:u,reject:c}=function(e,t,r){var n=t=>{e.push(tr(`app ${t}`))};_e(n);var i=e=>{Ee(n),t(e)},o=e=>{Ee(n),r(e)};return{resolve:i,reject:o}}(s,o,a);l({param:t,functionName:t.name,data:r,cloudIDList:n,callID:i,action:ur.CALL,scene:cr.INITIATE_CALL,tryCount:e.appConfig.maxPollRetry||Kt,systemErrorRetry:Vt,timeoutErrorRetry:Zt,trace:s,resolve:u,reject:c})}))})),c.apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return f=h()((function*(r){var{functionName:i,data:o,callID:a,action:s,scene:u,tryCount:c,trace:f,systemErrorRetry:d,timeoutErrorRetry:p,resolve:A,reject:v}=r,y=s===ur.CALL&&g()?t.localDebugNoTimeout:void 0,m=Ht({function_name:i,data:s===ur.CALL?o:void 0,action:s,scene:u,call_id:a,cloudid_list:s===ur.CALL?n:[],local_debug_no_timeout:y}),_=!1,E=!1,b=()=>{clearTimeout(I),E=!0},w=+new Date,I=y?void 0:setTimeout(h()((function*(){var t=e.appConfig.clientPollTimeout||er;if(!(+new Date-w>t&&(yield de(),E))){if(!g()&&+new Date-w>e.appConfig.maxStartRetryGap)return f.push(tr("timeout, exceed max retry gap")),v(L({errCode:O.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:`timeout for retry, cannot retry fetching the result anymore (callId: ${a}) (trace: ${rr(f)})`},lr));_=!0,r.timeoutErrorRetry>0?(f.push(tr("timeout, retry")),l({...r,scene:cr.TIMEOUT_RETRY,tryCount:c-1,timeoutErrorRetry:p-1})):(f.push(tr("timeout, abort")),v(L({errCode:O.SDK_FUNCTIONS_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:`(callId: ${a}) (trace: ${rr(f)})`},lr)))}})),e.appConfig.clientPollTimeout||er);e.request({...t.config,apiName:"tcbapi_slowcallfunction_v2",serviceName:e.name,serializedReqData:m,env:t.config&&t.config.env||e.env,stdpriv:!0}).then((function(e){try{if(_)return;b(),(e=>{var r,n=e.data;n&&n.baseresponse&&n.baseresponse.stat&&(n.baseresponse.stat.qbase_cost_time&&(t.context.tunnelTimeNoCSNetCost+=n.baseresponse.stat.qbase_cost_time),n.baseresponse.stat.func_exec_cost_time&&(t.context.funcExecTime=n.baseresponse.stat.func_exec_cost_time)),t.context.channelType=null!==(r=e.channelType)&&void 0!==r?r:0,e.profile&&(null==fe||fe.log("callFunction profile",e.profile))})(e);var n=e.data;if(!n)return f.push(tr("empty resp")),v(L({errCode:O.SDK_FUNCTIONS_EMPTY_CALL_RESULT},lr));if(!n.baseresponse||0!==n.baseresponse.errcode)return n.baseresponse?0!==n.baseresponse.errcode?v(L({errCode:O.SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:`polling base_resp.errcode ${n.baseresponse.errcode} errmsg ${n.baseresponse.errmsg} (callId: ${a})`},lr)):v(L({errCode:O.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP,errMsg:`polling base_resp ${JSON.stringify(n.baseresponse)} (callId: ${a})`},lr)):v(L({errCode:O.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP},lr));if(0!==n.status){if(1===n.status){if(0!==n.service_errcode){if(n.service_errcode===O.TCB_FUNCTIONS_EXEC_FAIL){var i=n.service_errmsg||"";try{for(var o=i.split("\n"),s=[],u=0;u<o.length;u++)o[u].startsWith("Error: ")&&s.push([o[u],u]);if(s.length%2==1){var d=s[Math.floor(s.length/2)][1];i=o.slice(d).join("\n")}}catch(e){}var h=L({errCode:O.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:`云函数执行错误\n云端堆栈信息(error stack)(${n.func_request_id?`requestId ${n.func_request_id}, `:""}callid ${a}):\n${i}`},lr);return h.stack=`Error: ${h.message}`,h.requestID=n.func_request_id,v(h)}var p=L({errCode:O.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:`\n云函数调用失败(${n.func_request_id?`requestId ${n.func_request_id}, `:""}callid ${a}):\n${n.service_errcode} ${n.service_errmsg}`},lr);return p.stack=`Error: ${p.message}`,p.requestID=n.func_request_id,v(p)}var g=n.data;try{g=jt(g)}catch(e){try{g=JSON.parse(g)}catch(e){}}return A({result:g,requestID:n.func_request_id})}return f.push(tr("poll result expired")),v(L({errCode:O.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:`timeout for result fetching, result cannot be fetched anymore (callId: ${a}) (trace: ${rr(f)})`},lr))}if(!(c>=0))return f.push(tr("too many polls, abort")),v(L({errCode:O.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY,errMsg:`(callId: ${a}) (trace: ${rr(f)})`},lr));f.push(tr("normal poll")),l({...r,action:ur.POLL,scene:cr.NORMAL_POLL_RETRY,tryCount:c-1})}catch(e){v(L({errCode:O.SDK_FUNCTIONS_POLL_ERROR,errMsg:`polling catch error: ${e} (callId: ${a})`},lr))}})).catch((e=>{_||(b(),e&&e.operateWXDataFail&&d>0?(f.push(tr(`system error (${e}), retry`)),l({...r,scene:cr.SYSTEM_ERROR_RETRY,tryCount:c-1,systemErrorRetry:d-1})):(f.push(tr(`system error (${e}), abort`)),v(L(`${e} (callId: ${a}) (trace: ${rr(f)})`,lr))))}))})),f.apply(this,arguments)}}));return function(e){return t.apply(this,arguments)}}()}function ir(e){var t=new WeakMap,r=[];if(e&&(JSON.stringify(e,((e,n)=>n&&n._internalType===$t?void r.push(new Promise(((e,r)=>{var i,o={appType:301,fileType:20303,fileKey:`file_${Math.random()}`},a=n;if("object"===_(a.target)){if(!a.target.filePath)throw new Error("filePath must be provided");o.filePath=a.target.filePath}else o.fileData=a.target;e((i=o,new Promise(((e,t)=>{var r={...i,appType:i.appType||301,fileType:i.fileType||20303,fileKey:i.fileKey||`file_${Math.random()}`};se().uploadToCommonCDN({...r,success:e,fail:t})}))).then((e=>{t.set(n,e.fileUrl)})))}))):n)),r.length))return Promise.all(r).then((()=>t))}var or=e=>({...e,errMsg:void 0}),ar=e=>{try{g()&&"undefined"!=typeof __global&&__global.networkLog&&__global.networkLog({...e,domain:"cloud",method:"POST",realMethod:e.method,timestampMs:e.timestampMs||+new Date,callFramesIgnoreLength:e.hasOwnProperty("callFramesIgnoreLength")?e.callFramesIgnoreLength:1})}catch(e){}},sr=(e,t)=>{try{if(g()&&"undefined"!=typeof __global&&__global.networkLog){var r=t(),n=`${Math.random()}-${+new Date}`,i=r.console||!1,o=r.resultGetter||or;ar({reqId:n,type:"requestWillBeSent",url:r.url,headers:r.headers||{},body:r.reqBody,console:i,callFramesIgnoreLength:2,timestampMs:r.timestampMs,method:r.method}),e.then(function(){var e=h()((function*(e){try{var t=JSON.stringify(o(e),null,2);yield((e=0)=>new Promise((t=>setTimeout(t,e))))(),ar({reqId:n,type:"loadingFinished",body:t,console:i,callFramesIgnoreLength:2,timestampMs:Date.now()})}catch(e){}}));return function(t){return e.apply(this,arguments)}}()).catch((e=>{try{ar({reqId:n,type:"loadingFailed",errorCode:e&&e.errCode||-1,errorMsg:E(e)?e.errMsg||JSON.stringify(e):e.toString(),console:i,callFramesIgnoreLength:2,timestampMs:Date.now()})}catch(e){}}))}}catch(e){0}},ur=function(e){return e[e.CALL=1]="CALL",e[e.POLL=2]="POLL",e}({}),cr=function(e){return e[e.INITIATE_CALL=1]="INITIATE_CALL",e[e.NORMAL_POLL_RETRY=2]="NORMAL_POLL_RETRY",e[e.SYSTEM_ERROR_RETRY=3]="SYSTEM_ERROR_RETRY",e[e.TIMEOUT_RETRY=4]="TIMEOUT_RETRY",e}({}),lr="cloud.callFunction",fr="cloud.callFunction_real_v2";function dr(e){var t,r,n;function i(){return t||(t=function(e){return function(){var t=h()((function*(t){var r={...t.data},n=Xt(r).map((e=>({key_name:e.key,cloud_id:e.cloudID})));if(n.length)for(var i of n)delete r[i.key_name];var o=Ht(r,yield t.cdnMapPromise);ee({input:o,max:e.appConfig.maxReqDataSize,name:"callFunction data",maxWording:e.appConfig.maxReqDataSize/1024+" KB"});var a=Ht({function_name:t.name,data:o,cloudid_list:n});t.context.tunnelStartTime=+new Date;var s=yield e.request({...t.config,apiName:"tcbapi_slowcallfunction",serviceName:e.name,serializedReqData:a,env:t.config&&t.config.env||e.env});t.context.tunnelEndTime=+new Date;var u=s.data;if(!u)throw k({errCode:O.SDK_FUNCTIONS_EMPTY_CALL_RESULT,errMsg:O[O.SDK_FUNCTIONS_EMPTY_CALL_RESULT]},lr);if(u.event_id,!u.poll_url)throw k({errCode:O.SDK_FUNCTIONS_EMPTY_POLL_URL,errMsg:O[O.SDK_FUNCTIONS_EMPTY_POLL_URL]},lr);u.poll_url.indexOf("?")>-1?u.poll_url+="&devtools_ignore=true&skip_domain_check=true":u.poll_url+="?devtools_ignore=true&skip_domain_check=true",t.context.pollStartTime=+new Date;var{result:c,requestID:l}=yield function(e){return f.apply(this,arguments)}(u.poll_url);return t.context.pollEndTime=+new Date,{errMsg:Gt(lr),result:c,requestID:l};function f(){return(f=h()((function*(t){return new Promise(((r,n)=>{d(t,e.appConfig.maxPollRetry||50,r,n)}))}))).apply(this,arguments)}function d(e,t,r,n){return p.apply(this,arguments)}function p(){return p=h()((function*(t,r,n,i){var o=se(e.identifiers);je.allowRequest()?o._requestSkipCheckDomain({url:t,success:e=>{try{if(200!==e.statusCode)return i(k({errCode:O.SDK_FUNCTIONS_POLL_RESULT_STATUS_CODE_ERROR,errMsg:`polling status code ${e.statusCode}`},lr));var o=e.data;if(!o)return i(k({errCode:O.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON,errMsg:O[O.SDK_FUNCTIONS_EMPTY_POLL_RESULT_JSON]},lr));if(o.base_resp&&0===o.base_resp.ret){if(0!==o.status){if(1===o.status){if(0!==o.service_errcode){var a=k({errCode:O.SDK_FUNCTIONS_CLOUD_FUNCTION_EXECUTION_ERROR,errMsg:`requestID ${o.func_req_id}, cloud function service error code ${o.service_errcode||"unknown"}, error message ${o.service_errmsg||"unknown"}`},lr);return a.requestID=o.func_req_id,i(a)}var s=o.content;try{s=jt(s)}catch(e){try{s=JSON.parse(s)}catch(e){}}return n({result:s,requestID:o.func_req_id})}return i(k({errCode:O.SDK_FUNCTIONS_POLL_RESULT_EXPIRED,errMsg:"timeout for result fetching"},lr))}if(!(r>=0))return i(k({errCode:O.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY,errMsg:O[O.SDK_FUNCTIONS_EXCEED_MAX_POLL_RETRY]},lr));d(t,r-1,n,i)}else{if(!o.base_resp)return i(k({errCode:O.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP,errMsg:O[O.SDK_FUNCTIONS_EMPTY_POLL_RESULT_BASE_RESP]},lr));if(0!==o.base_resp.ret)return i(k({errCode:O.SDK_FUNCTIONS_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:`polling base_resp.ret ${o.base_resp.ret}`},lr))}}catch(e){i(k({errCode:O.SDK_FUNCTIONS_POLL_ERROR,errMsg:`polling catch error: ${e}`},lr))}},fail:e=>{i(k(e,lr))}}):i(L({errCode:O.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},lr))})),p.apply(this,arguments)}}));return function(e){return t.apply(this,arguments)}}()}(e)),t}function o(){return n||(n=function(e){return function(){var t=h()((function*(t){var r,n={function_name:t.name,data:Ht(t.data),cloudid_list:[]},i=Ht(n),o=yield e.serviceEndpoint.getEndpoint("container"),s=new Uint8Array(a.wx.base64ToArrayBuffer(o.key)),u={"X-WX-EV":3,"Content-Type":"application/octet-stream"},c=qe.V3.encodeRequest(s,{"X-WX-CALLID":`${+new Date}-${Math.random()}`,"X-WX-CLOUDFUNCTION-NAME":t.name,"X-WX-CLOUDFUNCTION-ENV":(null===(r=t.config)||void 0===r?void 0:r.env)||e.env||""},"POST",i),l=yield new Promise(((e,t)=>se()._requestSkipCheckDomain({url:o.cloudServiceUrl,method:"POST",header:u,data:c.data.buffer,dataType:"arraybuffer",responseType:"arraybuffer",enableHttp2:!0,success:e,fail:t}))),f=qe.V3.decodeResponse(s,new Uint8Array(l.data)).body;if(f)try{f=JSON.parse(f)}catch(e){}return{errMsg:Gt(lr),result:f}}));return function(e){return t.apply(this,arguments)}}()}(e)),n}return function(e){var t=+new Date;V(e,"object");var r=re(e);return r.data||(r.data={}),r.context={tunnelTimeNoCSNetCost:0,funcName:e.name,apiStartTime:t,warmStartTime:bt()},K(r)?function(e){z({apiName:lr,param:e}),s(e).then((t=>{$(lr,e,t)})).catch((t=>{X(lr,e,t)}))}(r):s(r)};function s(e){return u.apply(this,arguments)}function u(){return u=h()((function*(t){var n=null;try{var a;if(function(e){V(e,{name:"string"}),e.data&&V(e.data,"object"),e.config&&e.config.env&&V(e.config.env,"string")}(t),t.cdnMapPromise=ir(t.data),a="sdk"===e.runtime.platform&&e.plugins.length?o()(t):d()?i()(t):(r||(r=nr(e)),r)(t),g()){var s=Date.now();sr(a,(()=>{var r;return{url:`wx.cloud.callFunction.${t.name}`,headers:{Env:e.isInstance?e.env:(null===(r=t.config)||void 0===r?void 0:r.env)||e.env},reqBody:Ht(t.data),timestampMs:s,console:e.debug}}))}return n=yield a}catch(e){throw k(e,lr)}finally{var u,c,l,f;Bt({...t.context,apiEndTime:+new Date,apiName:d()?lr:fr}),null===(u=(c=se()).emitCloudNetworkReport)||void 0===u||u.call(c,{functionName:lr,keyParam:t.name,method:"",result:n?1:2,costTime:Date.now()-t.context.apiStartTime,errorMsg:null===(l=n)||void 0===l?void 0:l.errMsg,statusCode:n?200:500,dataLength:-1,responseDataLength:-1,requestData:t.data,response:null!==(f=n)&&void 0!==f&&f.result?{data:n.result}:void 0})}function d(){return 1===t.version}})),u.apply(this,arguments)}}function hr(e){return{callFunction:dr(e)}}var pr="functions";function Ar(e){e.registerService(function(e){var t={name:pr,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,serviceEndpoint:e.serviceEndpoint,runtime:e.runtimeInfo,plugins:e.plugins,get debug(){return e.debug},get env(){return e.getEnvForService(pr)},appConfig:{get maxReqDataSize(){return e.appConfig.call_function_max_req_data_size},get maxPollRetry(){return e.appConfig.call_function_poll_max_retry},get maxStartRetryGap(){return e.appConfig.call_function_valid_start_retry_gap},get clientPollTimeout(){return e.appConfig.call_function_client_poll_timeout}}};return{name:pr,context:t,getAPIs:hr.bind(null,t)}}(e))}var gr=Symbol("CDN");class vr{constructor(e){this.symbol=gr,this.options=void 0,this.options=e}}function yr(e,t){return new Promise(((r,n)=>{(t||se()).uploadToCommonCDN({...e,success:r,fail:n})}))}function mr(e,t){return new Promise(((r,n)=>{(t||se()).invokeOperateWXData({...e,success:r,fail:n})}))}var _r=function(){var e=h()((function*(e){try{if(!e.service||!e.api)throw new Error("field 'service' and 'api' must be provided");var t=new WeakMap,r=[];e.data&&JSON.stringify(e.data,((n,i)=>i&&i.symbol===gr?void r.push(new Promise(((r,n)=>{var o,a={appType:301,fileType:20303,fileKey:`file_${Math.random()}`},s=i;if("Object"===(o=s.options,Object.prototype.toString.call(o).slice(8,-1))){if(!s.options.filePath)throw new Error("filePath must be provided");a.filePath=s.options.filePath}else a.fileData=s.options;r(yr(a,e.sdk).then((e=>{t.set(i,e.fileUrl)})))}))):i)),yield Promise.all(r);var n,i,o,a=JSON.stringify(e.data,((e,r)=>r&&r.symbol===gr&&t.has(r)?t.get(r):r)),{data:s}=yield mr({apiName:"webapi_servicemarket_jsapi_comm",reqData:{service_id:e.service,api_name:e.api,data:a,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:`${Math.random()}_${Date.now()}`,version:1}},e.sdk);try{var u=s;if(n=u.request_id,0===u.errcode)i=JSON.parse(u.data);else{var c=`invokeService:fail ${u.errcode} ${u.errmsg} (requestId: ${n})`;(o=new Error(c)).errCode=u.errcode,o.errMsg=c,o.requestId=n}}catch(d){var l=`invokeService:fail inner protocol parse failed (requestId: ${n||"empty"})`;(o=new Error(l)).errCode=-1,o.errMsg=l,o.requestId=n}if(o)throw o;return{errMsg:"invokeService:ok",data:i,requestId:n}}catch(e){var f="invokeService:fail ";if(e&&e.errMsg&&e.err_code){f+=e.errMsg;var d=new Error(f+`(err_code ${e.err_code})`);throw d.errCode=e.err_code,d}throw e&&e.errMsg&&e.errCode?e:new Error(`invokeService:fail ${e}`)}}));return function(t){return e.apply(this,arguments)}}(),Er=function(e){return e[e.CALL=1]="CALL",e[e.POLL=2]="POLL",e[e.PreResp=3]="PreResp",e[e.FinalResp=4]="FinalResp",e}({}),br=function(e){return e[e.None=0]="None",e[e.SysErr=1]="SysErr",e[e.Timeout=2]="Timeout",e}({}),wr=function(e){return e[e.Sync=0]="Sync",e[e.LongAsync=2]="LongAsync",e}({}),Ir={SM_EXCEED_MAX_TIMEOUT_POLL_RETRY:100,SM_EMPTY_CALL_RESULT:101,SM_EXCEED_MAX_POLL_RETRY:102,SM_PROVIDER_EXECUTION_ERROR:103,SM_POLL_RESULT_EXPIRED:104,SM_EMPTY_POLL_RESULT_BASE_RESP:105,SM_POLL_RESULT_BASE_RESP_RET_ABNORMAL:106,SM_UNKNOWN_SCENE:107,SM_SYSTEM_ERROR:108},Tr="exceed max timeout retry",Sr="empty call result",Cr="exceed max poll retry",Nr="invokeService",Br=e=>{var t=new Date;return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()} ${e}`},Or=e=>e.join("->"),Rr=function(){var e=h()((function*(e){try{if(!e.service||!e.api)throw new Error("field 'service' and 'api' must be provided");var t=new WeakMap,r=[];e.data&&JSON.stringify(e.data,((n,i)=>i&&i.symbol===gr?void r.push(new Promise(((r,n)=>{var o,a={appType:301,fileType:20303,fileKey:`file_${Math.random()}`},s=i;if("Object"===(o=s.options,Object.prototype.toString.call(o).slice(8,-1))){if(!s.options.filePath)throw new Error("filePath must be provided");a.filePath=s.options.filePath}else a.fileData=s.options;r(yr(a,e.sdk).then((e=>{t.set(i,e.fileUrl)})))}))):i)),yield Promise.all(r);var n=JSON.stringify(e.data,((e,r)=>r&&r.symbol===gr&&t.has(r)?t.get(r):r)),i=`${Math.random()}_${Date.now()}`;if(e.async){var o={service_id:e.service,api_name:e.api,data:n,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:`${Math.random()}_${Date.now()}`,version:2,call_id:i,scene:Er.CALL,retry_reason:br.None,req_type:wr.LongAsync},a=(yield mr({apiName:"webapi_servicemarket_jsapi_comm",reqData:o},e.sdk)).data;if(a.scene===Er.FinalResp&&0===a.errcode)return{errMsg:"invokeService:ok",requestId:a.request_id};var s=k({errCode:Ir.SM_SYSTEM_ERROR,errMsg:`requestID ${a.request_id}, error message ${a.errmsg||"unknown"} (callid ${i})`},Nr);throw s.requestID=a.request_id,s}var{result:u,requestID:c}=yield function(e,t,r){return d.apply(this,arguments)}(e,n,i);return{errMsg:"invokeService:ok",data:u,requestId:c}}catch(e){var l="invokeService:fail ";if(e&&e.errMsg&&e.err_code){l+=e.errMsg;var f=new Error(l+`(err_code ${e.err_code})`);throw f.errCode=e.err_code,f}throw e&&e.errMsg&&e.errCode?e:new Error(`invokeService:fail ${e}`)}function d(){return d=h()((function*(e,t,r){return new Promise(((n,i)=>{var o=[Br("start")],{resolve:a,reject:s}=function(e,t,r){var n=t=>{e.push(Br(`app ${t}`))};_e(n);var i=e=>{Ee(n),t(e)},o=e=>{Ee(n),r(e)};return{resolve:i,reject:o}}(o,n,i);p({param:e,data:t,callID:r,scene:Er.CALL,retryReason:br.None,tryCount:50,systemErrorRetry:2,timeoutErrorRetry:2,trace:o,resolve:a,reject:s})}))})),d.apply(this,arguments)}function p(e){return A.apply(this,arguments)}function A(){return A=h()((function*(t){var{param:r,data:n,callID:i,scene:o,retryReason:a,tryCount:s,trace:u,systemErrorRetry:c,timeoutErrorRetry:l,resolve:f,reject:d}=t,A={service_id:r.service,api_name:r.api,data:o===Er.CALL?n:void 0,consume_type:e.consumeType,consume_appid:e.consumeAppid,client_msg_id:`${Math.random()}_${Date.now()}`,version:2,call_id:i,scene:o,retry_reason:a},v=!1,y=!1,m=()=>{clearTimeout(E),y=!0},_=+new Date,E=setTimeout(h()((function*(){if(!(+new Date-_>2e4&&(yield de(),y))){if(!g()&&+new Date-_>60)return u.push(Br("timeout, exceed max retry gap")),d(k({errCode:Ir.SM_POLL_RESULT_EXPIRED,errMsg:`timeout for retry, cannot retry fetching the result anymore (callId: ${i}) (trace: ${Or(u)})`},Nr));v=!0,t.timeoutErrorRetry>0?(u.push(Br("timeout, retry")),p({...t,scene:o,retryReason:br.Timeout,tryCount:s-1,timeoutErrorRetry:l-1})):(u.push(Br("timeout, abort")),d(k({errCode:Ir.SM_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:`${Tr} (callId: ${i}) (trace: ${Or(u)})`},Nr)))}})),2e4);try{var b=yield mr({apiName:"webapi_servicemarket_jsapi_comm",reqData:A},e.sdk);try{if(v)return;m();var w=b.data;if(!w&&b.rawData)try{w=JSON.parse(b.rawData)}catch(e){}if(!w)return u.push(Br("empty resp")),d(k({errCode:Ir.SM_EMPTY_CALL_RESULT,errMsg:Sr},Nr));if(w.scene!==Er.PreResp){if(w.scene===Er.FinalResp){if(0!==w.errcode){var I=k({errCode:Ir.SM_PROVIDER_EXECUTION_ERROR,errMsg:`requestID ${w.request_id}, error message ${w.provider_errmsg||"unknown"} (callid ${i})`},Nr);return I.requestID=w.request_id,d(I)}var T=w.data;try{T=JSON.parse(T)}catch(e){}return f({result:T,requestID:w.request_id})}return u.push(Br("unexpected scene")),d(k({errCode:Ir.SM_UNKNOWN_SCENE,errMsg:`unknown scene ${w.scene} (callId: ${i}) (trace: ${Or(u)})`},Nr))}if(!(s>=0))return u.push(Br("too many polls, abort")),d(k({errCode:Ir.SM_EXCEED_MAX_POLL_RETRY,errMsg:`${Cr} (callId: ${i}) (trace: ${Or(u)})`},Nr));u.push(Br("normal poll")),p({...t,scene:Er.POLL,retryReason:br.None,tryCount:s-1})}catch(e){d(k({errCode:Ir.SM_POLL_ERROR,errMsg:`polling catch error: ${e} (callId: ${i})`},Nr))}}catch(e){if(v)return;m();var S=e instanceof Error?e:JSON.stringify(e);e&&e.operateWXDataFail&&c>0?(u.push(Br(`system error (${S}), retry`)),p({...t,scene:o,retryReason:br.SysErr,tryCount:s-1,systemErrorRetry:c-1})):(u.push(Br(`system error (${S}), abort`)),d(k(`${S} (callId: ${i}) (trace: ${Or(u)})`,Nr)))}})),A.apply(this,arguments)}}));return function(t){return e.apply(this,arguments)}}();function Dr(e){return kr.apply(this,arguments)}function kr(){return(kr=h()((function*(e){var t=(yield mr({apiName:"webapi_servicemarket_jsapi_retrieve",reqData:{request_id:e.requestId}},e.sdk)).data;if(0===t.errcode)return t.provider_errmsg?{errCode:0,errMsg:"getAsyncResult:fail provider execution error",status:t.status,providerErrMsg:t.provider_errmsg,requestId:t.request_id}:{errCode:0,errMsg:"getAsyncResult:ok",data:JSON.parse(t.data),status:t.status,requestId:t.request_id};var r=new Error(`getAsyncResult:fail requestID ${t.request_id}, error message ${t.errmsg||"unknown"}`);throw r.errCode=t.errcode,r.errMsg=t.errmsg,r}))).apply(this,arguments)}var Lr,Mr="invokeService",xr="getAsyncResult",Ur=e=>K(e)?Pr(e):g()&&!e.async?_r(e):Rr(e),Pr=e=>{(g()&&!e.async?_r(e):Rr(e)).then((t=>{$(Mr,e,t)})).catch((t=>{X(Mr,e,t)}))},Qr=e=>K(e)?Fr(e):Dr(e),Fr=e=>{Dr(e).then((t=>{$(xr,e,t)})).catch((t=>{X(xr,e,t)}))};function qr(e={}){var{sdk:t}=e;return{invokeService:e=>Ur({...e,sdk:t}),getAsyncResult:e=>Qr({...e,sdk:t}),CDN:vr}}function Gr(){if(!Lr){var e=se();if(!e.private_getUserAgent)return Lr;e.private_getUserAgent((e=>{Lr=e}))}return Lr}function Hr(e,t){var r=Object.keys(t);if("string"==typeof e&&"object"==typeof t&&null!==t&&r.length>0){var n=e.split("?"),i=n[0],o=(n[1]||"").split("&").reduce(((e,t)=>{if("string"==typeof t&&t.length>0){var r=t.split("="),n=r[0],i=r[1];e[n]=i}return e}),{}),a=r.reduce(((e,r)=>("object"==typeof t[r]?e[Be(r)]=Be(JSON.stringify(t[r])):e[Be(r)]=Be(t[r]),e)),{});return i+"?"+function(e,t=!1){if("object"!=typeof e)return e;var r="";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(t)try{r+=`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}&`}catch(t){r+=`${n}=${e[n]}&`}else r+=`${n}=${e[n]}&`;return r&&(r=r.slice(0,-1)),r}(Object.assign(o,a))}return e}function jr(e){e.path||(e.path=""),e.method||(e.method="GET"),e.header||(e.header={}),e.dataType||(e.dataType="json"),e.responseType||(e.responseType="text");var t="";for(var r in e.header)"content-type"===r.toLowerCase()&&e.header&&(t=e.header[r]);t||(t="application/json",e.header["content-type"]="application/json"),e.header["User-Agent"]=Gr()||"";var n=function(){try{var e,t=null===(e=A.accountInfo)||void 0===e?void 0:e.appId;if(!t)return;return`https://servicewechat.com/${t}/${At()}/page-frame.html`}catch(e){return}}();if(n&&(e.header.referer=n),/get/i.test(e.method||"")&&e.data&&E(e.data))e.path=Hr(e.path,e.data),e.data=void 0;else if(/post|put|patch|delete/i.test(e.method||"")&&e.data)if(t.includes("application/json")){var i=_(e.data);e.shouldSerialize="string"!==i}else if(t.includes("application/x-www-form-urlencoded")&&E(e.data)){var o="";for(var a in e.data)o+=`${o.length?"&":""}${encodeURIComponent(a)}=${encodeURIComponent(e.data[a])}`;e.data=o}}function Wr(e){return e>=300&&e<=399}var Yr=new WeakMap;function zr(e,t,r){var n,i="string"==typeof t?null:new Uint8Array(t).buffer;if("arraybuffer"===e.responseType)n="string"==typeof t?xe(t):i;else if("json"!==e.dataType&&e.dataType||Wr(r))n="text"===e.responseType?"string"==typeof t?t:Me(i):t;else{n=Ne("string"==typeof t?t:Me(i))}return n}var Jr={OFF:0,ON:1,UNKNOWN:2},$r=!1;function Xr(...e){$r&&o.log("[offline cache]",...e)}function Kr(e,t,r,n){if(Xr("cacheIdentifier",t,r,n),e.identifiers.pluginId)return n;var i=se(e.identifiers),o=i.isUsedCache();if(Xr("isUsedCache",o),!o)return n;var a,s,u,c=(a=n,s={abort:()=>{},promise:Promise.resolve()},u=new Promise(((e,t)=>{s.abort=t})),s.promise=Promise.race([a,u]).catch((()=>{})),s),l=i.reportCallContainer,f=i.privateCacheManager,d=i.cacheManager,h=Date.now(),{data:p,method:A}=r,g=t,v=(e,t,r)=>{Xr("trigger request, emitting request to cacheManager");var i=f.emit("request",{url:g,data:p,method:A,request:()=>new Promise(((e,t)=>{n.then(e).catch(t)}))});if(i.length){var o=i.find((e=>e&&"function"==typeof e.then));o&&o.then(e).catch(t).finally((()=>{Xr("aborting request"),c.abort()}))}else r&&t(r)};return new Promise(((e,t)=>{var r=t=>{l({isSuccess:!0,costTime:Date.now()-h,extra1:g}),e(t)},i=e=>{l({isSuccess:!1,costTime:Date.now()-h,extra1:g}),t(e)},o=e=>{Xr("cache and success for url",g),f.checkNeedStore(g,p,A,e),r(e)};d.state===Jr.UNKNOWN?n.then((e=>{o(e)})).catch((e=>{v(r,i,e)})):d.state===Jr.ON?v(r,i):d.state===Jr.OFF&&n.then((e=>{o(e)})).catch((e=>{i(e)}))}))}var Vr="cloud.callContainer";function Zr(e){return function(){var r=h()((function*(r){var n=e.serviceEndpoint.getEndpointSync("container"),i=new WeakMap;if(r.cdnMapPromise||!n){var a=yield Promise.all([r.cdnMapPromise,en(e.serviceEndpoint.getEndpoint("container"),r.stats,"getServiceEndpoint")]);a[0]&&(i=a[0]),n=a[1]}else r.stats.getServiceEndpoint=0;if(r.shouldSerialize&&(r.data=Ht(r.data,i)),n.http){var s=function(t,r){return new Promise(((n,i)=>{var a,s;r.stats.tsCallContainerImplStart=Date.now();var u=se(e.identifiers),c={"X-WX-ENCRYPTION-VERSION":2,"X-WX-ENCRYPTION-TIMESTAMP":t.timestamp+"","X-WX-COMPRESSION":"snappy","X-WX-USER-TIMEOUT":r.timeout||"","X-WX-LIB-BUILD-TS":1732453804577,"X-WX-RESPONSE-CONTENT-ACCEPT-ENCODING":"PB, JSON","Content-Type":"application/octet-stream"},l=`${Math.random()}_${Date.now()}`,f={...r.header,"X-WX-ENV":e.isInstance?e.env:(null===(a=r.config)||void 0===a?void 0:a.env)||e.env,"X-WX-CALL-ID":l};e.appid&&(f["X-WX-RESOURCE-APPID"]=e.appid),r.service&&(f["X-WX-SERVICE"]=r.service);var d=r.stats;d.callid=l;var h=Date.now();if("GET"===(null===(s=r.method)||void 0===s?void 0:s.toUpperCase())&&r.data&&E(r.data)){var p=[];for(var A in r.data)p.push(`${A}=${r.data[A]}`);r.path+=`${r.path.includes("?")?r.path.endsWith("&")?"":"&":"?"}${p.join("&")}`,r.data=void 0}f["X-WX-CONTAINER-PATH"]=r.path;var g=new Uint8Array(De(t.key)),{data:v,contentEncoding:y}=qe.V1.encodeRequest(g,f,r.method||"GET",r.data,l,d);c["X-WX-REQUEST-CONTENT-ENCODING"]=y,d.encrypt=Date.now()-h,h=Date.now();var m=!0,_=m?t.url:`http://${t.vip}/wxa-qbase/container_service?token=${t.token}`;r.rdm?_=`https://wxardm.weixin.qq.com/wxa-qbase/container_service?token=${t.token}`:r.ecdn&&(_=`https://cloudbase.servicewechat.com/wxa-qbase/container_service?token=${t.token}`),r.verbose&&o.log(`[cloud.callContainer] url ${_}`),m&&t.domain&&(r.stats.domain=t.domain),d.requestBodyBytes=v.byteLength,d.requestStartTs=Date.now(),r._fallback?i({errCode:-9999,errMsg:`${Vr}:fail emulated fallback`}):je.allowRequest()?u._requestSkipCheckDomain({url:_,method:"POST",header:c,data:v.buffer,dataType:"arraybuffer",responseType:"arraybuffer",timeout:r.timeout,enableHttp2:m,success:e=>{r.stats.requestSuccessTs=Date.now();try{for(var a in e.header)if("x-nws-log-uuid"===a.toLowerCase()&&(r.verbose&&o.log(`[cloud.callContainer] x-nws-log-uuid ${e.header[a]}`),r.stats.ecdnId=e.header[a]),"x-edge-timing"===a.toLowerCase()&&(r.stats.ecdnEdgeTiming=e.header[a]),"x-wx-system-error"===a.toLowerCase()){var s=Number(e.header[a]);return 85104===s&&t.invalidate(),102003===s&&je.markServerLimitExceed(),void i({errCode:s,errMsg:`${Vr}:fail system error. code: ${s}`})}if(r.verbose&&o.warn("res",e),d.profile=e.profile,d.httpRequest=Date.now()-h,200===e.statusCode){var u=e.data;d.responseBodyBytes=u.byteLength,h=Date.now();var c=!1,f=qe.mA.pb;for(var p in e.header)if("x-wx-compression"===p.toLowerCase()&&"snappy"===e.header[p]&&(h=Date.now(),c=!0),"x-wx-response-content-encoding"===p.toLowerCase()&&"json"===e.header[p].toLowerCase()&&(f=qe.mA.json),"x-wx-server-timing"===p.toLowerCase()){var A=(e.header[p]||"").split(",");A.length>=2&&(d.serverStartTs=Number(A[0]),d.serverEndTs=Number(A[1]))}var v,y=qe.V1.decodeResponse(g,new Uint8Array(u),c,f,d);h=Date.now();var m=y.body;Wr(y.statusCode)||(v=zr(r,m,y.statusCode)),d.decodeBody=Date.now()-h,d.responseProcessEndTs=Date.now(),n({statusCode:y.statusCode,header:y.header,data:v,stats:d,callID:l,errMsg:`${Vr}:ok`})}else i({errCode:-9999,errMsg:`${Vr}:fail [call_id ${l}] system conn status not 200`})}catch(e){i({errCode:-1,errMsg:`${Vr}:fail [call_id ${l}] error while processing internal response ${e}`})}},fail:e=>{i({...e,errCode:-9999,errMsg:e.errMsg.replace(/^request/,Vr)})}}):i(L({errCode:O.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},Vr))}))}(n,r);return s.then(pt).catch(pt),s}return function(e,r){return t.apply(this,arguments)}(n.url,r)}));return function(e){return r.apply(this,arguments)}}();function t(){return t=h()((function*(t,r){return new Promise(((n,i)=>{var o,a=se(e.identifiers),s={...r.header,"X-WX-ENV":e.isInstance?e.env:(null===(o=r.config)||void 0===o?void 0:o.env)||e.env,"X-WX-SERVICE":r.service,"X-WX-CONTAINER-PATH":r.path,"X-WX-CALL-ID":`${Math.random()}_${Date.now()}`,"X-WX-USER-TIMEOUT":r.timeout};e.appid&&(s["X-WX-RESOURCE-APPID"]=e.appid),je.allowRequest()?a._requestSkipCheckDomain({url:t,method:r.method,header:s,data:r.data,dataType:r.dataType,responseType:r.responseType,timeout:r.timeout,success:e=>{n({...e,errMsg:`${Vr}:ok`})},fail:e=>{i({...e,errMsg:e.errMsg.replace(/^request/,Vr)})}}):i(L({errCode:O.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},Vr))}))})),t.apply(this,arguments)}}function en(e,t,r){var n=Date.now();return e.then((()=>t[r]=Date.now()-n)).catch((()=>t[r]=Date.now()-n)),e}var tn=function(e){return e[e.CALL=1]="CALL",e[e.POLL=2]="POLL",e}({}),rn=function(e){return e[e.None=0]="None",e[e.Error=1]="Error",e[e.Timeout=2]="Timeout",e}({}),nn=function(e){return e[e.RAW=0]="RAW",e[e.BASE64=1]="BASE64",e[e.CDN_URL=2]="CDN_URL",e}({}),on=e=>{var t=new Date;return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()} ${e}`},an=e=>e.join("->"),sn=20,un=2,cn=2,ln=2e4,fn=1e5,dn=Symbol();function hn(e){return pn.apply(this,arguments)}function pn(){return pn=h()((function*(e,t=`${+new Date}-${Math.random()}`){var r;if(e.shouldSerialize){var n=yield e.cdnMapPromise;e.data=Ht(e.data,n)}var i=nn.RAW;e.stats.callid=t;var o=(null===(r=e.method)||void 0===r?void 0:r.toUpperCase())||"GET";if(e.data&&/^(POST|PUT|PATCH|DELETE)$/.test(o)){var a=_(e.data);if("object"===a)e.data=JSON.stringify(e.data);else{if("arraybuffer"!==a&&"string"!==a)throw new Error(`input data type is not supported: ${a}`);var s=!1;if("string"===a)s=e.data.length>fn;else if(e.data.byteLength>fn)s=!0;else{var u=Re(e.data);u.length>fn?s=!0:(e.data=u,i=nn.BASE64)}if(s){var c=new Error("input data size too large (> 100KB)");throw Object.defineProperty(c,"type",{value:dn}),c}}}else if("GET"===o&&e.data&&E(e.data)){var l=[];for(var f in e.data)l.push(`${f}=${e.data[f]}`);e.path+=`${e.path.includes("?")?e.path.endsWith("&")?"":"&":"?"}${l.join("&")}`,e.data=void 0}else e.data=void 0;for(var d in e.header)null!==e.header[d]&&void 0!==e.header[d]&&(e.header[d]+="");return{tunnelReqDataType:i,callID:t}})),pn.apply(this,arguments)}var An={"gateway.call":"tcbapi_call_gateway","cloud.callContainer":"tcbapi_call_container"};function gn(e,t,r,n,i,o){return vn.apply(this,arguments)}function vn(){return vn=h()((function*(e,t,r,n,i,o){var a,s=!1;Object.prototype.hasOwnProperty.call(t,"timeout")&&"number"==typeof t.timeout&&t.timeout>0&&(a=new Promise(((e,r)=>{setTimeout((()=>{s=!0,r(`timeout (options.timeout == ${t.timeout})`)}),t.timeout)})));var u=new Promise(((u,c)=>{var l,f=[on("start")],{resolve:d,reject:h}=function(e,t,r){var n=t=>{e.push(on(`app ${t}`))};_e(n);var i=e=>{Ee(n),t(e)},o=e=>{Ee(n),r(e)};return{resolve:i,reject:o}}(f,u,c);yn(e,{param:t,data:r,dataType:n,callID:i,action:tn.CALL,retryType:rn.None,tryCount:(null==o||null===(l=o.appConfig)||void 0===l?void 0:l.maxPollRetry)||sn,systemErrorRetry:un,timeoutErrorRetry:cn,userTimeout:{get reached(){return!!a&&s}},trace:f,resolve:d,reject:h,context:o})}));return a?Promise.race([u,a]):u})),vn.apply(this,arguments)}function yn(e,t){return mn.apply(this,arguments)}function mn(){return mn=h()((function*(e,t){var r,n,{context:i,data:o,dataType:a,callID:s,action:u,retryType:c,tryCount:l,trace:f,systemErrorRetry:d,timeoutErrorRetry:p,userTimeout:A,resolve:v,reject:y,param:m}=t,_=[];for(var E in m.header)_.push({k:E,v:m.header[E]});var b=Ht(u===tn.CALL?{method:m.method||"GET",headers:_,data:u===tn.CALL?o:void 0,data_type:a,action:u,retryType:c,call_id:s,user_timeout:m.timeout}:{call_id:s,action:u,retryType:c}),w=!1,I=!1,T=()=>{clearTimeout(C),I=!0},S=+new Date,C=setTimeout(h()((function*(){var r,n,o,a=(null==i||null===(r=i.appConfig)||void 0===r?void 0:r.clientPollTimeout)||ln;if(!(+new Date-S>a&&(yield de(),I)||A.reached)){if(!g()&&+new Date-S>(null!==(n=null==i||null===(o=i.appConfig)||void 0===o?void 0:o.maxStartRetryGap)&&void 0!==n?n:6e4))return f.push(on("timeout, exceed max retry gap")),m.stats.ret=O.SDK_CONTAINER_POLL_RESULT_EXPIRED,y(L({errCode:O.SDK_CONTAINER_POLL_RESULT_EXPIRED,errMsg:`timeout for retry, cannot retry fetching the result anymore (callId: ${s}) (trace: ${an(f)})`},e));w=!0,t.timeoutErrorRetry>0?(f.push(on("timeout, retry")),yn(e,{...t,retryType:rn.Timeout,tryCount:l-1,timeoutErrorRetry:p-1})):(f.push(on("timeout, abort")),m.stats.ret=O.SDK_CONTAINER_EXCEED_MAX_TIMEOUT_POLL_RETRY,y(L({errCode:O.SDK_CONTAINER_EXCEED_MAX_TIMEOUT_POLL_RETRY,errMsg:`(callId: ${s}) (trace: ${an(f)})`},e)))}})),(null==i||null===(r=i.appConfig)||void 0===r?void 0:r.clientPollTimeout)||ln),N=e=>{var t,r=e.data;null!=r&&null!==(t=r.baseresponse)&&void 0!==t&&t.stat&&r.baseresponse.stat.qbase_cost_time&&(m.context.tunnelTimeNoCSNetCost+=r.baseresponse.stat.qbase_cost_time)};function B(){return B=h()((function*(r){try{if(w||A.reached)return;T(),N(r);var n=r.data;if(!n)return f.push(on("empty resp")),m.stats.ret=O.SDK_CONTAINER_EMPTY_CALL_RESULT,y(L({errCode:O.SDK_CONTAINER_EMPTY_CALL_RESULT},e));if(!n.baseresponse||0!==n.baseresponse.errcode)return n.baseresponse?0!==n.baseresponse.errcode?(m.stats.ret=O.SDK_CONTAINER_POLL_RESULT_BASE_RESP_RET_ABNORMAL,y(L({errCode:O.SDK_CONTAINER_POLL_RESULT_BASE_RESP_RET_ABNORMAL,errMsg:`polling base_resp.errcode ${n.baseresponse.errcode} errmsg ${n.baseresponse.errmsg} (callId: ${s})`},e))):(m.stats.ret=O.SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP,y(L({errCode:O.SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP,errMsg:`polling base_resp ${JSON.stringify(n.baseresponse)} (callId: ${s})`},e))):(m.stats.ret=O.SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP,y(L({errCode:O.SDK_CONTAINER_EMPTY_POLL_RESULT_BASE_RESP},e)));if(0!==n.status){if(1===n.status){var o;if(n.data_type===nn.BASE64)o=De(n.data),m.stats.responseBodyBytes=o.length,"arraybuffer"===m.responseType?m.stats.responseBodyBytes=o.length:"json"===m.dataType?o=Ne(Me(o)):"arraybuffer"!==m.responseType&&(o=Me(o));else if(n.data_type===nn.CDN_URL)try{var a=se(null==i?void 0:i.identifiers),u=yield new Promise(((e,t)=>{a._requestSkipCheckDomain({url:n.data,dataType:m.dataType,responseType:m.responseType,success:r=>{200!==r.statusCode?t(`download response status code ${r.statusCode}`):e(r)},fail:e=>{t(e)}})}));o=u.data}catch(t){return y(L({errCode:O.SDK_CONTAINER_DOWNLOAD_RESULT_FROM_CDN_FAIL,errMsg:`error: ${t} \n (callId: ${s}) (trace: ${an(f)})`},e))}else o=n.data,"arraybuffer"===m.responseType?(m.stats.responseBodyBytes=o.length,o=xe(o)):"json"===m.dataType&&(m.stats.responseBodyBytes=o.length,o=Ne(o));return v({result:{data:o,statusCode:n.http_code,header:n.headers.reduce(((e,t)=>{var r=e[t.k+""];return e[t.k+""]=r?r+","+t.v:t.v+"",e}),{})}})}return f.push(on("poll result expired")),m.stats.ret=O.SDK_CONTAINER_POLL_RESULT_EXPIRED,y(L({errCode:O.SDK_CONTAINER_POLL_RESULT_EXPIRED,errMsg:`timeout for result fetching, result cannot be fetched anymore (callId: ${s}) (trace: ${an(f)})`},e))}if(!(l>=0))return f.push(on("too many polls, abort")),m.stats.ret=O.SDK_CONTAINER_EXCEED_MAX_POLL_RETRY,y(L({errCode:O.SDK_CONTAINER_EXCEED_MAX_POLL_RETRY,errMsg:`(callId: ${s}) (trace: ${an(f)})`},e));f.push(on("normal poll")),yn(e,{...t,action:tn.POLL,retryType:rn.None,tryCount:l-1})}catch(t){m.stats.ret=O.SDK_CONTAINER_POLL_ERROR,y(L({errCode:O.SDK_CONTAINER_POLL_ERROR,errMsg:`polling catch error: ${t} (callId: ${s})`},e))}})),B.apply(this,arguments)}A.reached||(m.stats.requestBodyBytes=b.length,i.request({...m.config,apiName:An[e],serviceName:i.name,serializedReqData:b,env:(null===(n=m.config)||void 0===n?void 0:n.env)||i.env,stats:m.stats}).then((function(e){return B.apply(this,arguments)})).catch((r=>{w||A.reached||(T(),null!=r&&r.operateWXDataFail&&d>0?(f.push(on(`system error (${r}), retry`)),yn(e,{...t,retryType:rn.Error,tryCount:l-1,systemErrorRetry:d-1})):(f.push(on(`system error (${r}), abort`)),y(L(`${r} (callId: ${s}) (trace: ${an(f)})`,e))))})))})),mn.apply(this,arguments)}var _n="cloud.callContainer";function En(e){return function(){var t=h()((function*(t){var r,{tunnelReqDataType:n,callID:i}=yield hn(t);t.header={...t.header,"X-WX-ENV":e.isInstance?e.env:(null===(r=t.config)||void 0===r?void 0:r.env)||e.env,"X-WX-CONTAINER-PATH":t.path},t.service&&(t.header["X-WX-SERVICE"]=t.service),t.context.tunnelStartTime=+new Date;var{result:o}=yield gn(_n,t,t.data,n,i,e);return t.context.tunnelEndTime=+new Date,{...o,errMsg:Gt(_n),callID:i}}));return function(e){return t.apply(this,arguments)}}()}var bn="cloud.callContainer";function wn(e){return function(){var r=h()((function*(r){var n=e.serviceEndpoint.getEndpointSync("container"),i=new WeakMap;if(r.cdnMapPromise||!n){var a=yield Promise.all([r.cdnMapPromise,In(e.serviceEndpoint.getEndpoint("container"),r.stats,"getServiceEndpoint")]);a[0]&&(i=a[0]),n=a[1]}else r.stats.getServiceEndpoint=0;return r.shouldSerialize&&(r.data=Ht(r.data,i)),n.http?function(t,r){return new Promise(((n,i)=>{var a;r.stats.tsCallContainerImplStart=Date.now();var s=se(e.identifiers),u={"X-WX-EV":3,"Content-Type":"application/octet-stream"},c=`${Math.random()}_${Date.now()}`,l={...r.header,"X-WX-ENV":e.isInstance?e.env:(null===(a=r.config)||void 0===a?void 0:a.env)||e.env,"X-WX-SERVICE":r.service,"X-WX-CONTAINER-PATH":r.path,"X-WX-CALL-ID":c};e.appid&&(l["X-WX-RESOURCE-APPID"]=e.appid);var f=r.stats;f.callid=c;var d=Date.now(),h=new Uint8Array(s.wx.base64ToArrayBuffer(t.key)),{data:p}=qe.V3.encodeRequest(h,l,r.method||"GET",r.data);f.encrypt=Date.now()-d,d=Date.now();var A=!0,g=t.url;r.rdm?g=`https://wxardm.weixin.qq.com/wxa-qbase/container_service?token=${t.token}`:r.ecdn&&(g=`https://cloudbase.servicewechat.com/wxa-qbase/container_service?token=${t.token}`),r.verbose&&o.log(`[cloud.callContainer] url ${g}`),A&&t.domain&&(r.stats.domain=t.domain),f.requestBodyBytes=p.byteLength,f.requestStartTs=Date.now(),je.allowRequest()?s._requestSkipCheckDomain({url:g,method:"POST",header:u,data:p.buffer,dataType:"arraybuffer",responseType:"arraybuffer",timeout:r.timeout,enableHttp2:A,success:e=>{try{for(var t in e.header)if("x-nws-log-uuid"===t.toLowerCase()&&(r.verbose&&o.log(`[cloud.callContainer] x-nws-log-uuid ${e.header[t]}`),r.stats.ecdnId=e.header[t]),"x-edge-timing"===t.toLowerCase()&&(r.stats.ecdnEdgeTiming=e.header[t]),"x-wx-system-error"===t.toLowerCase()){var a=Number(e.header[t]);return 102003===a&&je.markServerLimitExceed(),void i({errCode:a,errMsg:`${bn}:fail system error. code: ${a}`})}if(f.profile=e.profile,f.httpRequest=Date.now()-d,200===e.statusCode){var s=e.data;f.responseBodyBytes=s.byteLength,d=Date.now();var u,l=qe.V3.decodeResponse(h,new Uint8Array(s));for(var p in f.decrypt=Date.now()-d,e.header)if("x-wx-server-timing"===p.toLowerCase()){var A=(e.header[p]||"").split(",");A.length>=2&&(f.serverStartTs=Number(A[0]),f.serverEndTs=Number(A[1]))}d=Date.now();var g=l.body;if("json"===r.dataType)u=Ne("string"==typeof g?g:Me(g.buffer));else u="text"===r.responseType?"string"==typeof g?g:Me(g.buffer):"arraybuffer"===r.responseType?"string"==typeof g?xe(g):g.buffer:g;f.decodeBody=Date.now()-d,f.responseProcessEndTs=Date.now(),n({statusCode:l.statusCode,header:l.header,data:u,stats:f,callID:c,errMsg:`${bn}:ok`})}else{var v=-1;for(var y in e.header)"x-wx-system-error"===y.toLowerCase()&&(v=Number(e.header[y])),102003===v&&je.markServerLimitExceed();i({errCode:v,errMsg:`${bn}:fail system error, status ${e.statusCode}. code: ${v}`})}}catch(e){i({errCode:-1,errMsg:`${bn}:fail error while processing internal response ${e}`})}},fail:e=>{i({...e,errMsg:e.errMsg.replace(/^request/,bn)})}}):i(L({errCode:O.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},bn))}))}(n,r):function(e,r){return t.apply(this,arguments)}(n.url,r)}));return function(e){return r.apply(this,arguments)}}();function t(){return t=h()((function*(t,r){return new Promise(((n,i)=>{var o,a=se(e.identifiers),s={...r.header,"X-WX-ENV":e.isInstance?e.env:(null===(o=r.config)||void 0===o?void 0:o.env)||e.env,"X-WX-SERVICE":r.service,"X-WX-CONTAINER-PATH":r.path,"X-WX-CALL-ID":`${Math.random()}_${Date.now()}`,"X-WX-USER-TIMEOUT":r.timeout};e.appid&&(s["X-WX-RESOURCE-APPID"]=e.appid),je.allowRequest()?a._requestSkipCheckDomain({url:t,method:r.method,header:s,data:r.data,dataType:r.dataType,responseType:r.responseType,timeout:r.timeout,success:e=>{n({...e,errMsg:`${bn}:ok`})},fail:e=>{i({...e,errMsg:e.errMsg.replace(/^request/,bn)})}}):i(L({errCode:O.SDK_CONTAINER_EXCEED_MAX_SERVER_REQUEST_COUNT,errMsg:"error: exceed max client request count, avoid infinite loop in your code"},bn))}))})),t.apply(this,arguments)}}function In(e,t,r){var n=Date.now();return e.then((()=>t[r]=Date.now()-n)).catch((()=>t[r]=Date.now()-n)),e}var Tn="cloud.callContainer",Sn=!0,Cn=0,Nn=6,Bn=new WeakMap;function On(e){var t=[void 0,Zr(e),En(e),wn(e)];function r(e){return t[e]}return function(e){var t=+new Date;V(e,"object");var r=re(e);return r.data||(r.data={}),r.dataType||(r.dataType="json"),r.context={tunnelTimeNoCSNetCost:0,apiStartTime:t,warmStartTime:bt()},r.stats={apiStartTime:t},K(r)?function(e){z({apiName:Tn,param:e}),n(e).then((t=>{$(Tn,e,t)})).catch((t=>{X(Tn,e,t)}))}(r):n(r)};function n(e){return i.apply(this,arguments)}function i(){return i=h()((function*(t){var r=!1;try{var n;Cn++,function(t){var r;if(t.service,e.isInstance){if(!e.env)throw new Error("envId must be provided")}else if(null!==(r=t.config)&&void 0!==r&&r.env)V(t.config.env,"string");else if(!e.env)throw new Error("envId must be provided")}(t),jr(t),t.cdnMapPromise=t.shouldSerialize?ir(t.data):void 0;var i=Date.now();r=Sn?(Sn=!1,yield function(e){return o.apply(this,arguments)}(t)):a(t),t.stats.tsBeforeCallContainerImpl=Date.now();var u,c=re(t),l=t.data,f=s(t,r),d=t.service||t.header["X-WX-SERVICE"];u=d?`wx.cloud.callContainer.${d}${t.path}`:`wx.cloud.callContainer${t.path}`,sr(f,(()=>{var r;return{url:u,method:t.method,headers:{Env:e.isInstance?e.env:(null===(r=t.config)||void 0===r?void 0:r.env)||e.env,...t.header},reqBody:Ht(l),timestampMs:i,console:e.debug}}));var h=function(t,r){var n;if(null!==(n=t.followRedirect)&&void 0!==n&&!n)return r;function i(t,n){return new Promise(((o,a)=>{n.then((n=>{var u;if(Wr(n.statusCode)){var c=null!==(u=Bn.get(r))&&void 0!==u?u:0;if(c>=Nn)a("reach the max redirect count");else{Bn.set(r,c+1);var l="";for(var f in n.header)"location"===f.toLowerCase()&&(l=n.header[f]);if(l)if(l.startsWith("/")){var d=re(t);t.path=l,i(d,s(t)).then(o).catch(a)}else{se(e.identifiers).request({url:l,method:t.method,header:t.header,data:t.data,dataType:t.dataType,responseType:t.responseType,timeout:t.timeout,success:e=>{o({...e,errMsg:`${Tn}:ok`})},fail:e=>{a(e.errMsg.replace(/^request/,Tn))}})}else o(n)}}else o(n)})).catch(a)}))}return i(t,r)}(c,f),p=`https://wx.cloud.callContainer/${(null===(n=t.config)||void 0===n?void 0:n.env)||e.env}`;p+=d?`/${d}${t.path}`:t.path;var A=Kr(e,p,c,h),g=yield A;return function(e,t,r){e.stats.protocol=t?`v1/${e.stats.backend}`:"im",qt(Tn,e,r)}(t,r,g),ft(),g}catch(e){throw k(e,Tn)}finally{0===--Cn&&(0,qe.jC)(se()._WebAssembly)}})),i.apply(this,arguments)}function o(){return(o=h()((function*(t){if(!Boolean(e.serviceEndpoint.getEndpointSync("container"))){var r=new Promise((e=>setTimeout(e,50))),n=e.serviceEndpoint.getEndpoint("container").catch((()=>{}));yield Promise.race([r,n])}return a(t)}))).apply(this,arguments)}function a(t){return"windows"!==be().platform&&(1===t.apiVersion||2!==t.apiVersion&&Boolean(e.serviceEndpoint.getEndpointSync("container")))}function s(e,t){var n,i;if(t=null!==(n=t)&&void 0!==n?n:a(e)){var o={...e,stats:{...e.stats}};i=r(1)(e).catch((e=>{if(-9999===(null==e?void 0:e.errCode))return r(2)(o);throw e}))}else i=r(2)(e);return i}}var Rn="cloud.connectContainer";function Dn(e){return function(e){var r=re(e);return r.timing={apiStartTime:+new Date},K(r)?function(e){var r=t(e);r.then((t=>{$(Rn,e,t)})).catch((t=>{X(Rn,e,t)}))}(r):t(r)};function t(e){return r.apply(this,arguments)}function r(){return r=h()((function*(e){try{!function(e){e.config&&e.config.env&&V(e.config.env,"string")}(e);var t=yield function(e){return n.apply(this,arguments)}(e);return t}catch(e){throw e}finally{Bt({...e.timing,apiEndTime:+new Date,apiName:Rn})}})),r.apply(this,arguments)}function n(){return(n=h()((function*(t){var r={service_name:t.service},n=JSON.stringify(r);t.timing.tunnelStartTime=+new Date;var i=yield e.request({...t.config,apiName:"tcbapi_get_websocket_info",serviceName:e.name,serializedReqData:n,env:t.config&&t.config.env||e.env});t.timing.tunnelEndTime=+new Date;var o=i.data,{success:a,complete:s,...u}=t,c=se(e.identifiers)._socketSkipCheckDomainFactory().connectSocket({...u,url:`wss://${o.host}${t.path||""}`,header:{...u.header,"content-type":"application/json","x-wx-token":o.token},perMessageDeflate:!0});return{errMsg:Gt(Rn),socketTask:c}}))).apply(this,arguments)}}function kn(e){return{callContainer:On(e),connectContainer:Dn(e)}}var Ln="container";function Mn(e){e.registerService(function(e){var t={name:Ln,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,serviceEndpoint:e.serviceEndpoint,get debug(){return e.debug},get appid(){return e.isInstance?e.instanceOptions.resourceAppid:void 0},get env(){return e.getEnvForService(Ln)},appConfig:{get maxPollRetry(){return e.appConfig.call_container_poll_max_retry},get clientPollTimeout(){return e.appConfig.call_container_client_poll_timeout},get maxStartRetryGap(){return e.appConfig.call_container_valid_start_retry_gap}}};return{name:Ln,context:t,getAPIs:kn.bind(null,t)}}(e))}const xn={};var Un={env:"",platform:""},Pn=()=>Un;if(void 0!==s)Un.env="miniprogram",Un.platform=s.platform,s.host&&"SAAASDK"===s.host.env&&(Un.platform="sdk");else if(Un.env="web",window)if(window.__wxjs_environment&&"miniprogram"===window.__wxjs_environment)Un.platform="miniprogram";else{var Qn=window.navigator.userAgent.toLowerCase();/MicroMessenger/i.test(Qn)&&(Un.platform="wxweb")}var Fn="cloud.uploadFile",qn="cloud.uploadFile_v2";function Gn(e){return function(e){if(K(e=re(e)))return function(e){var r={aborted:!1},n=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r),i={apiStartTime:+new Date};return t({...e,context:r,timing:i,uploadTaskAgent:n}).then((t=>{$(Fn,e,t)})).catch((t=>{X(Fn,e,t)})),n}(e);var r={apiStartTime:+new Date};return t({...e,timing:r})};function t(e){return new Promise(function(){var t=h()((function*(t,n){try{if(function(e){V(e,{cloudPath:"string"}),"miniprogram"===Pn().env?V(e,{filePath:"string"}):Z(e,"file","uploadFile")}(e),e.context&&(e.context.abort=function(){n(k({errMsg:"abort"},Fn))},e.context.aborted))return n(k({errMsg:"abort"},Fn));var i=yield function(e){return r.apply(this,arguments)}(e);t(i)}catch(e){n(k(e,Fn))}finally{Bt({...e.timing,apiEndTime:+new Date,apiName:qn})}}));return function(e,r){return t.apply(this,arguments)}}())}function r(){return r=h()((function*(t){var r=se(e.identifiers),i=yield function(e){return n.apply(this,arguments)}(t);return new Promise(((e,n)=>{if(t.context&&t.context.aborted)return n(k({errMsg:"abort"},Fn));var o,a;if("web"===Pn().env){var s=new FormData;s.append("key",t.cloudPath),s.append("signature",i.authorization),s.append("x-cos-security-token",i.token),s.append("x-cos-meta-fileid",i.cos_file_id),s.append("file",t.file),o={url:i.url,timeout:t.timeout,filePath:"",header:t.header,name:"",formData:s}}else o={url:i.url,timeout:t.timeout,filePath:t.filePath,header:t.header,name:"file",formData:{key:t.cloudPath,signature:i.authorization,"x-cos-security-token":i.token,"x-cos-meta-fileid":i.cos_file_id}};(a=r._uploadFileSkipCheckDomain({...o,success:t=>{try{if(t.statusCode>=200&&t.statusCode<300)e({errMsg:Gt(Fn),fileID:i.file_id,statusCode:t.statusCode});else{var r=new R({errMsg:`status ${t.statusCode}, error: ${t.data};`});n(r)}}catch(r){var o=new R({errMsg:`Error : ${t.data};`});n(o)}},fail:e=>{n(e)}}))&&(a.onProgressUpdate((function(){t.uploadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&I(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r._uploadFileSkipCheckDomain,arguments)})),t.context&&(t.context.abort=a.abort.bind(a)))}))})),r.apply(this,arguments)}function n(){return(n=h()((function*(t){var r=JSON.stringify({path:t.cloudPath}),n=+new Date,i=(yield e.request({apiName:"tcbapi_cos_uploadfile",serviceName:e.name,serializedReqData:r,env:t.config&&t.config.env||e.env})).data;if(t.timing&&(t.timing.tunnelStartTime=n,t.timing.tunnelEndTime=+new Date,t.timing.tunnelTimeNoCSNetCost=i.baseresponse.stat.qbase_cost_time),!i.url)throw new R({errCode:O.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL,errMsg:O[O.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_UPLOAD_URL]});return i}))).apply(this,arguments)}}var Hn="cloud.downloadFile";function jn(e){return function(e){if(K(e=re(e)))return function(e){var r={aborted:!1},n=function(e){return{onProgressUpdate:function(t){e.onProgressUpdateUserHandler=t},abort:function(){e.abort&&e.abort(),e.aborted=!0}}}(r),i={apiStartTime:+new Date};return t({...e,context:r,timing:i,downloadTaskAgent:n}).then((t=>{$(Hn,e,t)})).catch((t=>{X(Hn,e,t)})),n}(e);var r={apiStartTime:+new Date};return t({...e,timing:r})};function t(e){return r.apply(this,arguments)}function r(){return r=h()((function*(e){return new Promise(function(){var t=h()((function*(t,r){try{if(function(e){V(e,{fileID:"string"}),e.config&&e.config.env&&V(e.config.env,"string")}(e),e.context&&(e.context.abort=function(){r(k({errMsg:"abort"},Hn))},e.context.aborted))return r(k({errMsg:"abort"},Hn));var i=yield function(e){return n.apply(this,arguments)}(e);t(i)}catch(e){r(k(e,Hn))}finally{Bt({...e.timing,apiEndTime:+new Date,apiName:Hn})}}));return function(e,r){return t.apply(this,arguments)}}())})),r.apply(this,arguments)}function n(){return n=h()((function*(t){var r=se(e.identifiers),n=yield function(e){return i.apply(this,arguments)}(t);return new Promise(((e,i)=>{if(t.context&&t.context.aborted)return i(k({errMsg:"abort"},Hn));var o=r._downloadFileSkipCheckDomain({url:n,header:t.header,timeout:t.timeout,success:t=>{e(t)},fail:e=>{i(e)}});o&&(o.onProgressUpdate((function(){t.downloadTaskAgent&&t.context&&t.context.onProgressUpdateUserHandler&&I(t.context.onProgressUpdateUserHandler)&&t.context.onProgressUpdateUserHandler.apply(r._downloadFileSkipCheckDomain,arguments)})),t.context&&(t.context.abort=o.abort.bind(o)))}))})),n.apply(this,arguments)}function i(){return(i=h()((function*(t){var r=JSON.stringify({fileid:t.fileID}),n=+new Date,i=(yield e.request({apiName:"tcbapi_downloadfile",serviceName:e.name,serializedReqData:r,env:t.config&&t.config.env||e.env})).data;if(t.timing&&(t.timing.tunnelStartTime=n,t.timing.tunnelEndTime=+new Date,t.timing.tunnelTimeNoCSNetCost=i.baseresponse.stat.qbase_cost_time),!i.download_url)throw new R({errCode:O.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL,errMsg:O[O.SDK_STORAGE_INTERNAL_SERVER_ERROR_EMPTY_DOWNLOAD_URL]});return i.download_url.indexOf("?")>-1?i.download_url+="&skip_domain_check=true":i.download_url+="?skip_domain_check=true",i.download_url}))).apply(this,arguments)}}var Wn="cloud.getTempFileURL";function Yn(e){return function(e){var r=re(e);return r.timing={apiStartTime:+new Date},K(r)?function(e){var r=t(e);r.then((t=>{$(Wn,e,t)})).catch((t=>{X(Wn,e,t)}))}(r):t(r)};function t(e){return r.apply(this,arguments)}function r(){return r=h()((function*(t){try{if(function(t){if(V(t,{fileList:"array"}),t.config&&t.config.env&&V(t.config.env,"string"),e.appConfig.getTempFileURLMaxReq&&t.fileList.length>e.appConfig.getTempFileURLMaxReq)throw new R({errCode:O.SDK_API_PARAMETER_ERROR,errMsg:`parameter.fileList exceed max length ${e.appConfig.getTempFileURLMaxReq}`})}(t),!t.fileList.length)return{errMsg:Gt(Wn),fileList:[]};var r=yield function(e){return n.apply(this,arguments)}(t);return r}catch(e){throw k(e,Wn)}finally{Bt({...t.timing,apiEndTime:+new Date,apiName:Wn})}})),r.apply(this,arguments)}function n(){return(n=h()((function*(t){var r={file_list:t.fileList.map((e=>b(e)?{fileid:e}:{fileid:e.fileID,max_age:e.maxAge}))},n=JSON.stringify(r);t.timing.tunnelStartTime=+new Date;var i=yield e.request({apiName:"tcbapi_gettempfileurl",serviceName:e.name,serializedReqData:n,env:t.config&&t.config.env||e.env});t.timing.tunnelEndTime=+new Date;var o=i.data;return t.timing.tunnelTimeNoCSNetCost=o.baseresponse.stat.qbase_cost_time,{errMsg:Gt(Wn),fileList:o.download_list.map((e=>({fileID:e.fileid,tempFileURL:e.download_url,maxAge:e.max_age,status:e.status,errMsg:e.errmsg})))}}))).apply(this,arguments)}}var zn="cloud.deleteFile";function Jn(e){return function(e){var r=re(e);return r.timing={apiStartTime:+new Date},K(r)?function(e){var r=t(e);r.then((t=>{$(zn,e,t)})).catch((t=>{X(zn,e,t)}))}(r):t(r)};function t(e){return r.apply(this,arguments)}function r(){return r=h()((function*(t){try{if(function(t){V(t,{fileList:"array"}),t.config&&t.config.env&&V(t.config.env,"string");for(var r=0,n=t.fileList.length;r<n;r++)V(t.fileList[r],"string",`parameter.fileList[${r}]`);if(e.appConfig.getTempFileURLMaxReq&&t.fileList.length>e.appConfig.getTempFileURLMaxReq)throw new R({errCode:O.SDK_API_PARAMETER_ERROR,errMsg:`parameter.fileList exceed max length ${e.appConfig.getTempFileURLMaxReq}`})}(t),!t.fileList.length)return{errMsg:Gt(zn),fileList:[]};var r=yield function(e){return n.apply(this,arguments)}(t);return r}catch(e){throw k(e,zn)}finally{Bt({...t.timing,apiEndTime:+new Date,apiName:zn})}})),r.apply(this,arguments)}function n(){return(n=h()((function*(t){var r={fileid_list:t.fileList},n=JSON.stringify(r);t.timing.tunnelStartTime=+new Date;var i=yield e.request({apiName:"tcbapi_deletefile",serviceName:e.name,serializedReqData:n,env:t.config&&t.config.env||e.env});t.timing.tunnelEndTime=+new Date;var o=i.data;return t.timing.tunnelTimeNoCSNetCost=o.baseresponse.stat.qbase_cost_time,{errMsg:Gt(zn),fileList:o.delete_list.map((e=>({fileID:e.fileid,status:e.status,errMsg:e.errmsg})))}}))).apply(this,arguments)}}function $n(e){return{uploadFile:Gn(e),downloadFile:jn(e),getTempFileURL:Yn(e),deleteFile:Jn(e)}}var Xn="storage";function Kn(e){e.registerService(function(e){var t={name:Xn,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get env(){return e.getEnvForService(Xn)},get debug(){return e.debug},appConfig:{get uploadMaxFileSize(){return e.appConfig.upload_max_file_size},get getTempFileURLMaxReq(){return e.appConfig.get_temp_file_url_max_requests}}};return{name:Xn,context:t,getAPIs:$n.bind(null,t)}}(e))}var Vn=Symbol.for("UNSET_FIELD_NAME"),Zn=Symbol.for("AGGREGATE"),ei=Symbol.for("AGGREGATE_PIPELINE"),ti=Symbol.for("AGGREGATE_PIPELINE_STAGE"),ri=Symbol.for("UPDATE_COMMAND"),ni=Symbol.for("QUERY_COMMAND"),ii=Symbol.for("LOGIC_COMMAND"),oi=Symbol.for("AGGREGATE_COMMAND"),ai=Symbol.for("PROJECT_COMMAND"),si=Symbol.for("GEO_POINT"),ui=Symbol.for("GEO_LINESTRING"),ci=Symbol.for("GEO_POLYGON"),li=Symbol.for("GEO_MULTIPOINT"),fi=Symbol.for("GEO_MULTILINESTRING"),di=Symbol.for("GEO_MULTIPOLYGON"),hi=Symbol.for("SERVER_DATE"),pi=Symbol.for("REGEXP"),Ai=function(e){return e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor",e}({}),gi=[Ai.AND,Ai.OR,Ai.NOT,Ai.NOR],vi=new Set(gi);class yi{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this._internalType=ii,this.__safe_props__=void 0,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||Vn}_setFieldName(e){var t=this.operands.map((t=>t===Ai.AND||t===Ai.OR?t._setFieldName(e):t));return new yi(this.operator,t,e)}and(...e){Z(arguments[0],"expressions","and");var t=T(arguments[0])?arguments[0]:Array.from(arguments);return new yi(Ai.AND,[this,...t],this.fieldName)}or(...e){Z(arguments[0],"expressions","or");var t=T(arguments[0])?arguments[0]:Array.from(arguments);return new yi(Ai.OR,[this,...t],this.fieldName)}nor(...e){Z(arguments[0],"expressions","nor");var t=T(arguments[0])?arguments[0]:Array.from(arguments);return new yi(Ai.NOR,[this,...t],this.fieldName)}not(e){return Z(e,"expression","not"),new yi(Ai.NOT,[e],this.fieldName)}toJSON(){}}function mi(e){return e&&e instanceof yi&&e._internalType===ii}var _i=function(e){return e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects",e.EXISTS="exists",e.MOD="mod",e.ALL="all",e.ELEM_MATCH="elemMatch",e.SIZE="size",e.EXPR="expr",e}({}),Ei=[_i.EQ,_i.NEQ,_i.GT,_i.GTE,_i.LT,_i.LTE,_i.IN,_i.NIN,_i.GEO_NEAR,_i.GEO_WITHIN,_i.GEO_INTERSECTS,_i.EXISTS,_i.MOD,_i.ALL,_i.ELEM_MATCH,_i.SIZE],bi=new Set(Ei);new Set([...bi,...vi]);class wi extends yi{constructor(e,t,r){super(e,t,r),this.operator=void 0,this.__safe_props__=void 0,this.operator=e,this._internalType=ni}_setFieldName(e){return new wi(this.operator,this.operands,e)}eq(e){var t=new wi(_i.EQ,[e],this.fieldName);return this.and(t)}neq(e){var t=new wi(_i.NEQ,[e],this.fieldName);return this.and(t)}gt(e){var t=new wi(_i.GT,[e],this.fieldName);return this.and(t)}gte(e){var t=new wi(_i.GTE,[e],this.fieldName);return this.and(t)}lt(e){var t=new wi(_i.LT,[e],this.fieldName);return this.and(t)}lte(e){var t=new wi(_i.LTE,[e],this.fieldName);return this.and(t)}in(e){V(e,"array");var t=new wi(_i.IN,e,this.fieldName);return this.and(t)}nin(e){V(e,"array");var t=new wi(_i.NIN,e,this.fieldName);return this.and(t)}geoNear(e){var t=new wi(_i.GEO_NEAR,[e],this.fieldName);return this.and(t)}geoWithin(e){var t=new wi(_i.GEO_WITHIN,[e],this.fieldName);return this.and(t)}geoIntersects(e){var t=new wi(_i.GEO_INTERSECTS,[e],this.fieldName);return this.and(t)}exists(e){var t=new wi(_i.EXISTS,[e],this.fieldName);return this.and(t)}mod(e,t){var r=new wi(_i.MOD,[e,t],this.fieldName);return this.and(r)}all(e){var t=new wi(_i.ALL,e,this.fieldName);return this.and(t)}elemMatch(e){var t=new wi(_i.ELEM_MATCH,[e],this.fieldName);return this.and(t)}size(e){var t=new wi(_i.SIZE,[e],this.fieldName);return this.and(t)}}function Ii(e){return e&&e instanceof wi&&e._internalType===ni}var Ti=function(e){return e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.MIN="min",e.MAX="max",e.RENAME="rename",e.BIT="bit",e.PUSH="push",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift",e.ADD_TO_SET="addToSet",e.PULL="pull",e.PULL_ALL="pullAll",e}({});new Set([Ti.SET,Ti.REMOVE,Ti.INC,Ti.MUL,Ti.MIN,Ti.MAX,Ti.RENAME,Ti.BIT,Ti.PUSH,Ti.POP,Ti.SHIFT,Ti.UNSHIFT,Ti.ADD_TO_SET,Ti.PULL,Ti.PULL_ALL]);class Si{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this._internalType=ri,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||Vn}_setFieldName(e){return new Si(this.operator,this.operands,e)}toJSON(){}}function Ci(e){return e&&e instanceof Si&&e._internalType===ri}var Ni=function(e){return e.ABS="abs",e.ADD="add",e.ADDTOSET="addToSet",e.ALLELEMENTSTRUE="allElementsTrue",e.AND="and",e.ANYELEMENTTRUE="anyElementTrue",e.ARRAYELEMAT="arrayElemAt",e.ARRAYTOOBJECT="arrayToObject",e.AVG="avg",e.CEIL="ceil",e.CMP="cmp",e.CONCAT="concat",e.CONCATARRAYS="concatArrays",e.COND="cond",e.CONVERT="convert",e.DATEFROMPARTS="dateFromParts",e.DATETOPARTS="dateToParts",e.DATEFROMSTRING="dateFromString",e.DATETOSTRING="dateToString",e.DAYOFMONTH="dayOfMonth",e.DAYOFWEEK="dayOfWeek",e.DAYOFYEAR="dayOfYear",e.DIVIDE="divide",e.EQ="eq",e.EXP="exp",e.FILTER="filter",e.FIRST="first",e.FLOOR="floor",e.GT="gt",e.GTE="gte",e.HOUR="hour",e.IFNULL="ifNull",e.IN="in",e.INDEXOFARRAY="indexOfArray",e.INDEXOFBYTES="indexOfBytes",e.INDEXOFCP="indexOfCP",e.ISARRAY="isArray",e.ISODAYOFWEEK="isoDayOfWeek",e.ISOWEEK="isoWeek",e.ISOWEEKYEAR="isoWeekYear",e.LAST="last",e.LET="let",e.LITERAL="literal",e.LN="ln",e.LOG="log",e.LOG10="log10",e.LT="lt",e.LTE="lte",e.LTRIM="ltrim",e.MAP="map",e.MAX="max",e.MERGEOBJECTS="mergeObjects",e.META="meta",e.MIN="min",e.MILLISECOND="millisecond",e.MINUTE="minute",e.MOD="mod",e.MONTH="month",e.MULTIPLY="multiply",e.NEQ="ne",e.NOT="not",e.OBJECTTOARRAY="objectToArray",e.OR="or",e.POW="pow",e.PUSH="push",e.RANGE="range",e.REDUCE="reduce",e.REVERSEARRAY="reverseArray",e.RTRIM="rtrim",e.SECOND="second",e.SETDIFFERENCE="setDifference",e.SETEQUALS="setEquals",e.SETINTERSECTION="setIntersection",e.SETISSUBSET="setIsSubset",e.SETUNION="setUnion",e.SIZE="size",e.SLICE="slice",e.SPLIT="split",e.SQRT="sqrt",e.STDDEVPOP="stdDevPop",e.STDDEVSAMP="stdDevSamp",e.STRCASECMP="strcasecmp",e.STRLENBYTES="strLenBytes",e.STRLENCP="strLenCP",e.SUBSTR="substr",e.SUBSTRBYTES="substrBytes",e.SUBSTRCP="substrCP",e.SUBTRACT="subtract",e.SUM="sum",e.SWITCH="switch",e.TOBOOL="toBool",e.TODATE="toDate",e.TODECIMAL="toDecimal",e.TODOUBLE="toDouble",e.TOINT="toInt",e.TOLONG="toLong",e.TOOBJECTID="toObjectId",e.TOSTRING="toString",e.TOLOWER="toLower",e.TOUPPER="toUpper",e.TRIM="trim",e.TRUNC="trunc",e.TYPE="type",e.WEEK="week",e.YEAR="year",e.ZIP="zip",e}({});Ni.ABS,Ni.ADD,Ni.ADDTOSET,Ni.ALLELEMENTSTRUE,Ni.AND,Ni.ANYELEMENTTRUE,Ni.ARRAYELEMAT,Ni.ARRAYTOOBJECT,Ni.AVG,Ni.CEIL,Ni.CMP,Ni.CONCAT,Ni.CONCATARRAYS,Ni.COND,Ni.CONVERT,Ni.DATEFROMPARTS,Ni.DATETOPARTS,Ni.DATEFROMSTRING,Ni.DATETOSTRING,Ni.DAYOFMONTH,Ni.DAYOFWEEK,Ni.DAYOFYEAR,Ni.DIVIDE,Ni.EQ,Ni.EXP,Ni.FILTER,Ni.FIRST,Ni.FLOOR,Ni.GT,Ni.GTE,Ni.HOUR,Ni.IFNULL,Ni.IN,Ni.INDEXOFARRAY,Ni.INDEXOFBYTES,Ni.INDEXOFCP,Ni.ISARRAY,Ni.ISODAYOFWEEK,Ni.ISOWEEK,Ni.ISOWEEKYEAR,Ni.LAST,Ni.LET,Ni.LITERAL,Ni.LN,Ni.LOG,Ni.LOG10,Ni.LT,Ni.LTE,Ni.LTRIM,Ni.MAP,Ni.MAX,Ni.MERGEOBJECTS,Ni.META,Ni.MIN,Ni.MILLISECOND,Ni.MINUTE,Ni.MOD,Ni.MONTH,Ni.MULTIPLY,Ni.NEQ,Ni.NOT,Ni.OBJECTTOARRAY,Ni.OR,Ni.POW,Ni.PUSH,Ni.RANGE,Ni.REDUCE,Ni.REVERSEARRAY,Ni.RTRIM,Ni.SECOND,Ni.SETDIFFERENCE,Ni.SETEQUALS,Ni.SETINTERSECTION,Ni.SETISSUBSET,Ni.SETUNION,Ni.SIZE,Ni.SLICE,Ni.SPLIT,Ni.SQRT,Ni.STDDEVPOP,Ni.STDDEVSAMP,Ni.STRCASECMP,Ni.STRLENBYTES,Ni.STRLENCP,Ni.SUBSTR,Ni.SUBSTRBYTES,Ni.SUBSTRCP,Ni.SUBTRACT,Ni.SUM,Ni.SWITCH,Ni.TOBOOL,Ni.TODATE,Ni.TODECIMAL,Ni.TODOUBLE,Ni.TOINT,Ni.TOLONG,Ni.TOOBJECTID,Ni.TOSTRING,Ni.TOLOWER,Ni.TOUPPER,Ni.TRIM,Ni.TRUNC,Ni.TYPE,Ni.WEEK,Ni.YEAR,Ni.ZIP;class Bi{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this._internalType=oi,this.__safe_props__=void 0,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=e,this.operands=t,this.fieldName=r||Vn}_setFieldName(e){return new Bi(this.operator,this.operands,e)}}function Oi(e){return e&&e instanceof Bi&&e._internalType===oi}var Ri=function(e){return e.SLICE="slice",e}({});new Set([Ri.SLICE]);class Di{constructor(e,t,r){this.fieldName=void 0,this.operator=void 0,this.operands=void 0,this.__safe_props__=void 0,this._internalType=ai,this.operator=e,this.operands=t,this.fieldName=r||Vn}_setFieldName(e){return new Di(this.operator,this.operands,e)}}function ki(e){return e&&e instanceof Di&&e._internalType===ai}var Li=function(e){return e[e.WHERE=0]="WHERE",e[e.DOC=1]="DOC",e}({}),Mi=function(e){return e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER",e}({}),xi=function(e){return e[e.ASC=0]="ASC",e[e.DESC=1]="DESC",e}({});function Ui(e){return Pi.apply(this,arguments)}function Pi(){return(Pi=h()((function*(e){var{env:t,collectionName:r,data:n,instanceContext:i,timing:o}=e,a=JSON.stringify(n);ee({input:a,max:i.serviceContext.appConfig.docSizeLimit,name:"record",maxWording:`${(i.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)} KB`});var s={collection_name:r,data:a},u=JSON.stringify(s);o.tunnelStartTime=+new Date;var c=yield i.serviceContext.request({apiName:"tcbapi_db_adddocument",serviceName:i.serviceContext.name,serializedReqData:u,requireDataNotEmpty:!0,env:t||i.serviceContext.env});o.tunnelEndTime=+new Date;var l=c.data;return o.tunnelTimeNoCSNetCost=l.baseresponse.stat.qbase_cost_time,{_id:l._id_type===Mi.NUMBER?l._id_number:l._id}}))).apply(this,arguments)}function Qi(e){return Fi.apply(this,arguments)}function Fi(){return Fi=h()((function*(e){var{collectionName:t,query:n,options:i,instanceContext:o,timing:a,env:s}=e,u=g()?e.explain:void 0,c=i&&i.multi,l=JSON.stringify({collection_name:t,query:JSON.stringify(n),multi:c,query_type:c?Li.WHERE:Li.DOC,explain:u});a.tunnelStartTime=+new Date;var f=yield o.serviceContext.request({apiName:"tcbapi_db_deletedocument",serviceName:o.serviceContext.name,serializedReqData:l,requireDataNotEmpty:!0,env:s||o.serviceContext.env});if(a.tunnelEndTime=+new Date,u){var{EJSON:d}=r(946);return d.deserialize(f.data)}var h=f.data;return a.tunnelTimeNoCSNetCost=h.baseresponse.stat.qbase_cost_time,{removed:h.deleted}})),Fi.apply(this,arguments)}function qi(e){return Gi.apply(this,arguments)}function Gi(){return Gi=h()((function*(e){var{env:t,collectionName:n,query:i,options:o={},instanceContext:a,timing:s,queryType:u}=e,c=g()?e.explain:void 0,l={collection_name:n,query:JSON.stringify(i),query_type:u,explain:c};o.offset&&(l.offset=o.offset),o.limit&&(l.limit=o.limit),o.order&&(l.order=o.order),o.projection&&(l.projection=JSON.stringify(o.projection));var f=JSON.stringify(l);s.tunnelStartTime=+new Date;var d=yield a.serviceContext.request({apiName:"tcbapi_db_querydocument",serviceName:a.serviceContext.name,serializedReqData:f,requireDataNotEmpty:!0,env:t||a.serviceContext.env});if(s.tunnelEndTime=+new Date,c){var{EJSON:h}=r(946);return h.deserialize(d.data)}var p=d.data;s.tunnelTimeNoCSNetCost=p.baseresponse.stat.qbase_cost_time;var A=p.data_list?JSON.parse(p.data_list):[];return{list:A=a.engine.Decoder.decode(A),offset:p.offset,limit:p.limit,total:p.total}})),Gi.apply(this,arguments)}function Hi(e){return ji.apply(this,arguments)}function ji(){return ji=h()((function*(e){var{env:t,collectionName:n,query:i,data:o,options:a={},instanceContext:s,timing:u,queryType:c}=e,l=g()?e.explain:void 0,f=JSON.stringify(o);ee({input:f,max:s.serviceContext.appConfig.docSizeLimit,name:"update expression",maxWording:`${(s.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)} KB`});var d={collection_name:n,query:JSON.stringify(i),data:f,query_type:c,explain:l};d.multi=!1!==a.multi,d.merge=!1!==a.merge,a.upsert&&(d.upsert=a.upsert);var h=JSON.stringify(d);u.tunnelStartTime=+new Date;var p=yield s.serviceContext.request({apiName:"tcbapi_db_updatedocument",serviceName:s.serviceContext.name,serializedReqData:h,requireDataNotEmpty:!0,env:t||s.serviceContext.env});if(u.tunnelEndTime=+new Date,l){var{EJSON:A}=r(946);return A.deserialize(p.data)}var v=p.data;return u.tunnelTimeNoCSNetCost=v.baseresponse.stat.qbase_cost_time,{updated:v.updated}})),ji.apply(this,arguments)}function Wi(e){return Yi.apply(this,arguments)}function Yi(){return(Yi=h()((function*(e){var{env:t,collectionName:r,_id:n,data:i,options:o={},instanceContext:a,timing:s}=e,u=JSON.stringify(i);ee({input:u,max:a.serviceContext.appConfig.docSizeLimit,name:"record",maxWording:`${(a.serviceContext.appConfig.docSizeLimit/1024).toFixed(0)} KB`});var c=w(n),l={collection_name:r,_id_type:c?Mi.NUMBER:Mi.STRING,data:u};c?l._id_number=n:l._id=n;var f=JSON.stringify(l);s.tunnelStartTime=+new Date;var d=yield a.serviceContext.request({apiName:"tcbapi_db_setdocument",serviceName:a.serviceContext.name,serializedReqData:f,requireDataNotEmpty:!0,env:t||a.serviceContext.env});s.tunnelEndTime=+new Date;var h=d.data;return s.tunnelTimeNoCSNetCost=h.baseresponse.stat.qbase_cost_time,{_id:h._id_type===Mi.NUMBER?h._id_number:h._id,updated:h._id?0:1,created:h._id?1:0}}))).apply(this,arguments)}function zi(e){return Ji.apply(this,arguments)}function Ji(){return Ji=h()((function*(e){var{env:t,collectionName:n,query:i,instanceContext:o,timing:a}=e,s=g()?e.explain:void 0,u={collection_name:n,query:JSON.stringify(i),query_type:Li.WHERE,explain:s},c=JSON.stringify(u);a.tunnelStartTime=+new Date;var l=yield o.serviceContext.request({apiName:"tcbapi_db_countdocument",serviceName:o.serviceContext.name,serializedReqData:c,requireDataNotEmpty:!0,env:t||o.serviceContext.env});if(a.tunnelEndTime=+new Date,s){var{EJSON:f}=r(946);return f.deserialize(l.data)}var d=l.data;return a.tunnelTimeNoCSNetCost=d.baseresponse.stat.qbase_cost_time,{total:d.total}})),Ji.apply(this,arguments)}function $i(e){return Xi.apply(this,arguments)}function Xi(){return(Xi=h()((function*(e){var{env:t,collectionName:n,stages:i,instanceContext:o,timing:a}=e,s=g()?e.explain:void 0,u={collection_name:n,stages:i.map((e=>{for(var t in e)return{stage_key:t,stage_value:JSON.stringify(e[t])};throw new Error(`empty encoded stage (${JSON.stringify(e)})`)})),explain:s},c=JSON.stringify(u);a.tunnelStartTime=+new Date;var l=yield o.serviceContext.request({apiName:"tcbapi_db_aggregate",serviceName:o.serviceContext.name,serializedReqData:c,requireDataNotEmpty:!0,env:t||o.serviceContext.env});if(a.tunnelEndTime=+new Date,s){var{EJSON:f}=r(946);return f.deserialize(l.data)}var d=l.data;a.tunnelTimeNoCSNetCost=d.baseresponse.stat.qbase_cost_time;var{EJSON:h}=r(946);return{list:JSON.parse(d.list).map((e=>h.parse(e)))}}))).apply(this,arguments)}function Ki(){return(Ki=h()((function*(e,t){var r=(yield e.request({apiName:"tcbapi_db_get_realtime_connection",env:t||e.env,serviceName:e.name,serializedReqData:JSON.stringify({}),requireDataNotEmpty:!0})).data;return{envId:r.env_id,secretVersion:r.secret_version,signStr:r.sign_str,wsUrl:r.ws_url}}))).apply(this,arguments)}var Vi=e=>{class t extends eo{constructor(e,t){super(t),this.collection=void 0,this._internalType=Zn,this.collection=e}pushStage(e,r){return new t(this.collection,[...this._stages,new Zi(e,r)])}end(t={}){var r="collection.aggregate",n={apiStartTime:+new Date},i=()=>$i({env:e.database.config.env,collectionName:this.collection.collectionName,stages:e.engine.AggregateSerializer.encodeStages(this._stages),instanceContext:e,timing:n,explain:t.explain});var o=K(t),a=new Promise(function(){var e=h()((function*(e,o){try{var a=yield i();if(t.explain&&g())return e(a);e({list:a.list,errMsg:Gt(r)})}catch(e){o(k(e,r))}finally{Bt({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!o)return a;a.then((e=>{$(r,t,e)})).catch((e=>{X(r,t,e)}))}}return t};class Zi{constructor(e,t){this.stage=void 0,this.val=void 0,this._internalType=ti,this.stage=e,this.val=t}}class eo{constructor(e){this._stages=void 0,this._internalType=ei,this.__safe_props__=void 0,this._stages=e}pushStage(e,t){return new eo([...this._stages,new Zi(e,t)])}addFields(e){return this.pushStage("addFields",e)}bucket(e){return this.pushStage("bucket",e)}bucketAuto(e){return this.pushStage("bucketAuto",e)}collStats(e){return this.pushStage("collStats",e)}count(e){return this.pushStage("count",e)}facet(e){return this.pushStage("facet",e)}geoNear(e){return this.pushStage("geoNear",e)}graphLookup(e){return this.pushStage("graphLookup",e)}group(e){return this.pushStage("group",e)}indexStats(){return this.pushStage("indexStats",{})}limit(e){return this.pushStage("limit",e)}lookup(e){return this.pushStage("lookup",e)}match(e){return this.pushStage("match",e)}out(e){return this.pushStage("out",e)}project(e){return this.pushStage("project",e)}redact(e){return this.pushStage("redact",e)}replaceRoot(e){return this.pushStage("replaceRoot",e)}sample(e){return this.pushStage("sample",e)}skip(e){return this.pushStage("skip",e)}sort(e){return this.pushStage("sort",e)}sortByCount(e){return this.pushStage("sortByCount",e)}unwind(e){return this.pushStage("unwind",e)}end(){}}class to extends eo{constructor(e,t=!1){super(e),this._sealed=void 0,this._sealed=t}pushStage(e,t){if(this._sealed)throw new Error("pushing new stage is not allowed after calling 'done()'");return new to([...this._stages,new Zi(e,t)])}done(){return new to(this._stages,!0)}}var ro=e=>e&&e._internalType===ei,no=e=>e&&e._internalType===ti,io=new Set(["each","position","slice","sort"]),oo={eq:e=>new wi(_i.EQ,[e]),neq:e=>new wi(_i.NEQ,[e]),lt:e=>new wi(_i.LT,[e]),lte:e=>new wi(_i.LTE,[e]),gt:e=>new wi(_i.GT,[e]),gte:e=>new wi(_i.GTE,[e]),in:e=>new wi(_i.IN,e),nin:e=>new wi(_i.NIN,e),geoNear:e=>new wi(_i.GEO_NEAR,[e]),geoWithin:e=>new wi(_i.GEO_WITHIN,[e]),geoIntersects:e=>new wi(_i.GEO_INTERSECTS,[e]),and(...e){var t=T(arguments[0])?arguments[0]:Array.from(arguments);return new yi(Ai.AND,t)},or(...e){var t=T(arguments[0])?arguments[0]:Array.from(arguments);return new yi(Ai.OR,t)},nor(...e){var t=T(arguments[0])?arguments[0]:Array.from(arguments);return new yi(Ai.NOR,t)},not:e=>new yi(Ai.NOT,[e]),exists:e=>new wi(_i.EXISTS,[e]),mod:(e,t)=>new wi(_i.MOD,[e,t]),all:e=>new wi(_i.ALL,e),elemMatch:e=>new wi(_i.ELEM_MATCH,[e]),size:e=>new wi(_i.SIZE,[e]),expr:e=>new wi(_i.EXPR,[e]),set:e=>new Si(Ti.SET,[e]),remove:()=>new Si(Ti.REMOVE,[]),inc:e=>new Si(Ti.INC,[e]),mul:e=>new Si(Ti.MUL,[e]),min:e=>new Si(Ti.MIN,[e]),max:e=>new Si(Ti.MAX,[e]),rename:e=>new Si(Ti.RENAME,[e]),bit:e=>new Si(Ti.BIT,[e]),push(e){var t={};if(T(e))t.each=e;else if(E(e)&&T(e.each)){var r=Object.keys(e);if(1===r.length)t=e;else{var n=!1;for(var i of r)if(!io.has(i)){n=!0;break}t=n?[e]:e}}else t.each=[e];return new Si(Ti.PUSH,[t])},pop:()=>new Si(Ti.POP,[]),shift:()=>new Si(Ti.SHIFT,[]),unshift(...e){var t=T(arguments[0])?arguments[0]:Array.from(arguments);return new Si(Ti.UNSHIFT,t)},addToSet:e=>new Si(Ti.ADD_TO_SET,[e]),pull:e=>new Si(Ti.PULL,[e]),pullAll:e=>new Si(Ti.PULL_ALL,[e]),project:{slice:e=>new Di(Ri.SLICE,[e])},aggregate:{pipeline:()=>new to([]),abs:e=>new Bi(Ni.ABS,[e]),add:e=>new Bi(Ni.ADD,[e]),addToSet:e=>new Bi(Ni.ADDTOSET,[e]),allElementsTrue:e=>new Bi(Ni.ALLELEMENTSTRUE,[e]),and:e=>new Bi(Ni.AND,[e]),anyElementTrue:e=>new Bi(Ni.ANYELEMENTTRUE,[e]),arrayElemAt:e=>new Bi(Ni.ARRAYELEMAT,[e]),arrayToObject:e=>new Bi(Ni.ARRAYTOOBJECT,[e]),avg:e=>new Bi(Ni.AVG,[e]),ceil:e=>new Bi(Ni.CEIL,[e]),cmp:e=>new Bi(Ni.CMP,[e]),concat:e=>new Bi(Ni.CONCAT,[e]),concatArrays:e=>new Bi(Ni.CONCATARRAYS,[e]),cond:e=>new Bi(Ni.COND,[e]),convert:e=>new Bi(Ni.CONVERT,[e]),dateFromParts:e=>new Bi(Ni.DATEFROMPARTS,[e]),dateToParts:e=>new Bi(Ni.DATETOPARTS,[e]),dateFromString:e=>new Bi(Ni.DATEFROMSTRING,[e]),dateToString:e=>new Bi(Ni.DATETOSTRING,[e]),dayOfMonth:e=>new Bi(Ni.DAYOFMONTH,[e]),dayOfWeek:e=>new Bi(Ni.DAYOFWEEK,[e]),dayOfYear:e=>new Bi(Ni.DAYOFYEAR,[e]),divide:e=>new Bi(Ni.DIVIDE,[e]),eq:e=>new Bi(Ni.EQ,[e]),exp:e=>new Bi(Ni.EXP,[e]),filter:e=>new Bi(Ni.FILTER,[e]),first:e=>new Bi(Ni.FIRST,[e]),floor:e=>new Bi(Ni.FLOOR,[e]),gt:e=>new Bi(Ni.GT,[e]),gte:e=>new Bi(Ni.GTE,[e]),hour:e=>new Bi(Ni.HOUR,[e]),ifNull:e=>new Bi(Ni.IFNULL,[e]),in:e=>new Bi(Ni.IN,[e]),indexOfArray:e=>new Bi(Ni.INDEXOFARRAY,[e]),indexOfBytes:e=>new Bi(Ni.INDEXOFBYTES,[e]),indexOfCP:e=>new Bi(Ni.INDEXOFCP,[e]),isArray:e=>new Bi(Ni.ISARRAY,[e]),isoDayOfWeek:e=>new Bi(Ni.ISODAYOFWEEK,[e]),isoWeek:e=>new Bi(Ni.ISOWEEK,[e]),isoWeekYear:e=>new Bi(Ni.ISOWEEKYEAR,[e]),last:e=>new Bi(Ni.LAST,[e]),let:e=>new Bi(Ni.LET,[e]),literal:e=>new Bi(Ni.LITERAL,[e]),ln:e=>new Bi(Ni.LN,[e]),log:e=>new Bi(Ni.LOG,[e]),log10:e=>new Bi(Ni.LOG10,[e]),lt:e=>new Bi(Ni.LT,[e]),lte:e=>new Bi(Ni.LTE,[e]),ltrim:e=>new Bi(Ni.LTRIM,[e]),map:e=>new Bi(Ni.MAP,[e]),max:e=>new Bi(Ni.MAX,[e]),mergeObjects:e=>new Bi(Ni.MERGEOBJECTS,[e]),meta:e=>new Bi(Ni.META,[e]),min:e=>new Bi(Ni.MIN,[e]),millisecond:e=>new Bi(Ni.MILLISECOND,[e]),minute:e=>new Bi(Ni.MINUTE,[e]),mod:e=>new Bi(Ni.MOD,[e]),month:e=>new Bi(Ni.MONTH,[e]),multiply:e=>new Bi(Ni.MULTIPLY,[e]),neq:e=>new Bi(Ni.NEQ,[e]),not:e=>new Bi(Ni.NOT,[e]),objectToArray:e=>new Bi(Ni.OBJECTTOARRAY,[e]),or:e=>new Bi(Ni.OR,[e]),pow:e=>new Bi(Ni.POW,[e]),push:e=>new Bi(Ni.PUSH,[e]),range:e=>new Bi(Ni.RANGE,[e]),reduce:e=>new Bi(Ni.REDUCE,[e]),reverseArray:e=>new Bi(Ni.REVERSEARRAY,[e]),rtrim:e=>new Bi(Ni.RTRIM,[e]),second:e=>new Bi(Ni.SECOND,[e]),setDifference:e=>new Bi(Ni.SETDIFFERENCE,[e]),setEquals:e=>new Bi(Ni.SETEQUALS,[e]),setIntersection:e=>new Bi(Ni.SETINTERSECTION,[e]),setIsSubset:e=>new Bi(Ni.SETISSUBSET,[e]),setUnion:e=>new Bi(Ni.SETUNION,[e]),size:e=>new Bi(Ni.SIZE,[e]),slice:e=>new Bi(Ni.SLICE,[e]),split:e=>new Bi(Ni.SPLIT,[e]),sqrt:e=>new Bi(Ni.SQRT,[e]),stdDevPop:e=>new Bi(Ni.STDDEVPOP,[e]),stdDevSamp:e=>new Bi(Ni.STDDEVSAMP,[e]),strcasecmp:e=>new Bi(Ni.STRCASECMP,[e]),strLenBytes:e=>new Bi(Ni.STRLENBYTES,[e]),strLenCP:e=>new Bi(Ni.STRLENCP,[e]),substr:e=>new Bi(Ni.SUBSTR,[e]),substrBytes:e=>new Bi(Ni.SUBSTRBYTES,[e]),substrCP:e=>new Bi(Ni.SUBSTRCP,[e]),subtract:e=>new Bi(Ni.SUBTRACT,[e]),sum:e=>new Bi(Ni.SUM,[e]),switch:e=>new Bi(Ni.SWITCH,[e]),toBool:e=>new Bi(Ni.TOBOOL,[e]),toDate:e=>new Bi(Ni.TODATE,[e]),toDecimal:e=>new Bi(Ni.TODECIMAL,[e]),toDouble:e=>new Bi(Ni.TODOUBLE,[e]),toInt:e=>new Bi(Ni.TOINT,[e]),toLong:e=>new Bi(Ni.TOLONG,[e]),toObjectId:e=>new Bi(Ni.TOOBJECTID,[e]),toString:e=>new Bi(Ni.TOSTRING,[e]),toLower:e=>new Bi(Ni.TOLOWER,[e]),toUpper:e=>new Bi(Ni.TOUPPER,[e]),trim:e=>new Bi(Ni.TRIM,[e]),trunc:e=>new Bi(Ni.TRUNC,[e]),type:e=>new Bi(Ni.TYPE,[e]),week:e=>new Bi(Ni.WEEK,[e]),year:e=>new Bi(Ni.YEAR,[e]),zip:e=>new Bi(Ni.ZIP,[e])}};function ao(e){return new so(e)}class so{constructor(e={offset:0}){this.options=void 0,V(e,"object","serverDate.options"),this.options=e}get _internalType(){return hi}toJSON(){return{$date:this.options}}}function uo(e,t){return No(e)?bo(e):new co(e,t)}class co{constructor(e,t){this.longitude=void 0,this.latitude=void 0,this._internalType=si,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}});var r=e,n=t;Object.defineProperties(this,{longitude:{enumerable:!0,configurable:!1,get:()=>r,set(e){if(V(e,"number","longitude"),e>180||e<-180)throw new R({errMsg:"longitude should be a number ranges from -180 to 180"})}},latitude:{enumerable:!0,configurable:!1,get:()=>n,set(e){if(V(e,"number","latitude"),e>90||e<-90)throw new R({errMsg:"latitude should be a number ranges from -90 to 90"})}}}),this.longitude=r,this.latitude=n}toJSON(){return{type:"Point",coordinates:[(e=this).longitude,e.latitude]};var e}toString(){return JSON.stringify(this.toJSON())}}function lo(e){return Bo(e)?wo(e):new fo(e)}class fo{constructor(e){this.points=void 0,this._internalType=li,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.points=e}toJSON(){return{type:"MultiPoint",coordinates:this.points.map((e=>[e.longitude,e.latitude]))}}toString(){return JSON.stringify(this.toJSON())}}function ho(e){return Oo(e)?Io(e):new po(e)}class po{constructor(e){this.points=void 0,this._internalType=ui,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.points=e}toJSON(){return{type:"LineString",coordinates:this.points.map((e=>[e.longitude,e.latitude]))}}toString(){return JSON.stringify(this.toJSON())}}function Ao(e){return Ro(e)?To(e):new go(e)}class go{constructor(e){this.lines=void 0,this._internalType=fi,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.lines=e}toJSON(){return{type:"MultiLineString",coordinates:this.lines.map((e=>e.points.map((e=>[e.longitude,e.latitude]))))}}toString(){return JSON.stringify(this.toJSON())}}function vo(e){return Do(e)?So(e):new yo(e)}class yo{constructor(e){this.lines=void 0,this._internalType=ci,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.lines=e}toJSON(){return{type:"Polygon",coordinates:this.lines.map((e=>e.points.map((e=>[e.longitude,e.latitude]))))}}toString(){return JSON.stringify(this.toJSON())}}function mo(e){return ko(e)?Co(e):new _o(e)}class _o{constructor(e){this.polygons=void 0,this._internalType=di,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.polygons=e}toJSON(){return{type:"MultiPolygon",coordinates:this.polygons.map((e=>e.lines.map((e=>e.points.map((e=>[e.longitude,e.latitude]))))))}}toString(){return JSON.stringify(this.toJSON())}}var Eo=undefined;function bo(e){return uo(e.coordinates[0],e.coordinates[1])}function wo(e){return lo(e.coordinates.map((e=>uo(e[0],e[1]))))}function Io(e){return ho(e.coordinates.map((e=>uo(e[0],e[1]))))}function To(e){return Ao(e.coordinates.map((e=>ho(e.map((e=>uo(e[0],e[1])))))))}function So(e){return vo(e.coordinates.map((e=>ho(e.map((e=>uo(e[0],e[1])))))))}function Co(e){return mo(e.coordinates.map((e=>vo(e.map((e=>ho(e.map((e=>uo(e[0],e[1]))))))))))}function No(e){return E(e)&&Lo(e.coordinates)}function Bo(e){return E(e)&&Mo(e.coordinates)}function Oo(e){return E(e)&&xo(e.coordinates)}function Ro(e){return E(e)&&Uo(e.coordinates)}function Do(e){return E(e)&&Po(e.coordinates)}function ko(e){return E(e)&&(t=e.coordinates,T(t)&&t.every(Po));var t}function Lo(e){return T(e)&&w(e[0])&&w(e[1])}function Mo(e){return T(e)&&e.every(Lo)}function xo(e){return Mo(e)}function Uo(e){return T(e)&&e.every(xo)}function Po(e){return Uo(e)}function Qo(e){return Fo(e,[e])}function Fo(e,t){if(!N(e)){if(S(e))return{$date:+e};if(C(e))return{$regex:e.source,$options:e.flags};if(T(e))return e.map((e=>{if(t.indexOf(e)>-1)throw new R({errCode:O.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});return Fo(e,[...t,e])}));if(E(e)){var r={...e};for(var n in r){if(t.indexOf(r[n])>-1)throw new R({errCode:O.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});r[n]=Fo(r[n],[...t,r[n]])}return r}return e}switch(e._internalType){case si:case li:case ui:case fi:case ci:case di:return e.toJSON();case hi:return{$date:e.options};case pi:return{$regex:e.regexp,$options:e.options};default:return e.toJSON?e.toJSON():e}}function qo(e,t,r,n){var i={...e};for(var o in e)if(!/^\$/.test(o)){var a=e[o];if(a&&E(a)&&!t(a)){if(n.indexOf(a)>-1)throw new R({errCode:O.SDK_DATABASE_CIRCULAR_REFERENCE,errMsg:"Cannot convert circular structure to JSON"});var s=qo(a,t,[...r,o],[...n,a]);i[o]=s;var u=!1;for(var c in s)/^\$/.test(c)?u=!0:(i[`${o}.${c}`]=s[c],delete i[o][c]);u||delete i[o]}}return i}function Go(e){return qo(e,Wo,[],[e])}function Ho(e){return qo(e,(e=>!1),[],[e])}function jo(e,t,r){for(var n in t[r]||delete e[r],t)e[n]?T(e[n])?e[n].push(t[n]):E(e[n])?E(t[n])?Object.assign(e[n],t[n]):(o.warn(`unmergable condition, query is object but condition is ${_(t)}, can only overwrite`,t,r),e[n]=t[n]):(o.warn(`to-merge query is of type ${_(e)}, can only overwrite`,e,t,r),e[n]=t[n]):e[n]=t[n]}function Wo(e){return N(e)||S(e)||C(e)}function Yo(e){return Qo(e)}function zo(e){return function(e){var t={...e};for(var r in t)switch(r){case"$date":switch(_(t[r])){case"number":return new Date(t[r]);case"object":return ao(t[r])}break;case"type":switch(t.coordinates,t.type){case"Point":if(No(t))return bo(t);break;case"MultiPoint":if(Bo(t))return wo(t);break;case"LineString":if(Oo(t))return Io(t);break;case"MultiLineString":if(Ro(t))return To(t);break;case"Polygon":if(Do(t))return So(t);break;case"MultiPolygon":if(ko(t))return Co(t)}}return e}(e)}function Jo(e,t){return{limit:e._query.limit,offset:e._query.offset,order:$o(e._query.order||[]),projection:t.engine.ProjectionSerializer.encode(e._field)}}function $o(e){return e.map((e=>({field:e.fieldPath,direction:e.order===As.DESC?xi.DESC:xi.ASC})))}function Xo(e){var t=Ho(e);for(var r in t)!0===t[r]||1===t[r]?t[r]=1:!1===t[r]||0===t[r]?t[r]=0:delete t[r];return t}var Ko=function(e){return e.DISCONNECTED="DISCONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e}({}),Vo=function(e){return e.CONNECTION_START="connectionStart",e.CONNECTION_SUCCESS="connectionSuccess",e.CONNECTION_FAIL="connectionFail",e.DISCONNECT="disconnect",e}({}),Zo={[Ko.DISCONNECTED]:{transitions:[{accept:Vo.CONNECTION_START,to:Ko.CONNECTING}]},[Ko.CONNECTING]:{transitions:[{accept:Vo.CONNECTION_SUCCESS,to:Ko.CONNECTED},{accept:Vo.CONNECTION_FAIL,to:Ko.DISCONNECTED},{accept:Vo.DISCONNECT,to:Ko.DISCONNECTED}]},[Ko.CONNECTED]:{transitions:[{accept:Vo.DISCONNECT,to:Ko.DISCONNECTED},{accept:Vo.CONNECTION_FAIL,to:Ko.DISCONNECTED}]}};var ea,ta,ra=(ea=e=>e.replace(/\[(\d+)\]/g,".[$1]").split(".").map((e=>/^\[(\d+)\]$/.test(e)?parseInt(e.substring(1,e.length-1)):e)),ta=new Map,function(e){return ta.has(e)||ta.set(e,ea(e)),ta.get(e)});function na(e,t,r){if(e){if(!Object.prototype.hasOwnProperty.call(e,t)){for(var n=ra(t),i=e,o=0;o<n.length-1;++o){var a=n[o];i[a]||(i[a]="string"==typeof n[o+1]?{}:[]),i=i[a]}return i[n[n.length-1]]=r,e}e[t]=r}}function ia(e,t){if(e){if(!Object.prototype.hasOwnProperty.call(e,t)){for(var r=ra(t),n=e,i=0;i<r.length-1;++i){var o=r[i];if(!n[o])return;n=n[o]}return delete n[r[r.length-1]],e}delete e[t]}}var oa=function(e){return e.UNINIT="UNINIT",e.CLOSED="CLOSED",e.INIT_LOGGING_IN="INIT_LOGGING_IN",e.INIT_LOGGED_IN="INIT_LOGGED_IN",e.INIT_LOGIN_FAIL="INIT_LOGIN_FAIL",e.INIT_WATCH_PENDING="INIT_WATCH_PENDING",e.INIT_WATCH_FAIL="INIT_WATCH_FAIL",e.INIT_WATCH_SUCCESS="INIT_WATCH_SUCCESS",e.PAUSED="PAUSED",e.ABNORMAL_WATCH_STATUS="ABNORMAL_WATCH_STATUS",e.REBUILD_LOGGING_IN="REBUILD_LOGGING_IN",e.REBUILD_LOGGED_IN="REBUILD_LOGGED_IN",e.REBUILD_LOGIN_FAIL="REBUILD_LOGIN_FAIL",e.REBUILD_WATCH_PENDING="REBUILD_WATCH_PENDING",e.REBUILD_WATCH_FAIL="REBUILD_WATCH_FAIL",e.REBUILD_WATCH_SUCCESS="REBUILD_WATCH_SUCCESS",e}({}),aa=function(e){return e.CLOSE="close",e.LOGIN_START="loginStart",e.LOGIN_FAIL="loginFail",e.LOGIN_SUCCESS="loginSuccess",e.INIT_WATCH_START="initWatchStart",e.INIT_WATCH_FAIL="initWatchFail",e.INIT_WATCH_SUCCESS="initWatchSuccess",e.WS_DISCONNECTED="wsDisconnected",e.WS_CONNECTED="wsConnected",e.REBUILD_WATCH_START="rebuildWatchStart",e.REBUILD_WATCH_FAIL="rebuildWatchFail",e.REBUILD_WATCH_SUCCESS="rebuildWatchSuccess",e.NEED_REBUILD_WATCH="needRebuildWatch",e}({}),sa={accept:aa.CLOSE,to:oa.CLOSED},ua={accept:aa.WS_DISCONNECTED,to:oa.CLOSED},ca={accept:aa.WS_DISCONNECTED,to:oa.PAUSED},la={[oa.UNINIT]:{transitions:[{accept:aa.LOGIN_START,to:oa.INIT_LOGGING_IN},ua,sa]},[oa.CLOSED]:{transitions:[sa]},[oa.INIT_LOGGING_IN]:{transitions:[{accept:aa.LOGIN_FAIL,to:oa.INIT_LOGIN_FAIL},{accept:aa.LOGIN_SUCCESS,to:oa.INIT_LOGGED_IN},ua,sa]},[oa.INIT_LOGIN_FAIL]:{transitions:[{accept:aa.LOGIN_START,to:oa.INIT_LOGGING_IN},ua,sa]},[oa.INIT_LOGGED_IN]:{transitions:[{accept:aa.INIT_WATCH_START,to:oa.INIT_WATCH_PENDING},ua,sa]},[oa.INIT_WATCH_PENDING]:{transitions:[{accept:aa.INIT_WATCH_FAIL,to:oa.INIT_WATCH_FAIL},{accept:aa.INIT_WATCH_SUCCESS,to:oa.INIT_WATCH_SUCCESS},ua,sa]},[oa.INIT_WATCH_FAIL]:{transitions:[{accept:aa.LOGIN_START,to:oa.INIT_LOGGING_IN},ua,sa]},[oa.INIT_WATCH_SUCCESS]:{transitions:[{accept:aa.WS_DISCONNECTED,to:oa.PAUSED},{accept:aa.NEED_REBUILD_WATCH,to:oa.ABNORMAL_WATCH_STATUS},ca,sa]},[oa.PAUSED]:{transitions:[{accept:aa.LOGIN_START,to:oa.REBUILD_LOGGING_IN},ca,sa]},[oa.ABNORMAL_WATCH_STATUS]:{transitions:[{accept:aa.LOGIN_START,to:oa.REBUILD_LOGGING_IN},ca,sa]},[oa.REBUILD_LOGGING_IN]:{transitions:[{accept:aa.LOGIN_FAIL,to:oa.REBUILD_LOGIN_FAIL},{accept:aa.LOGIN_SUCCESS,to:oa.REBUILD_LOGGED_IN},ca,sa]},[oa.REBUILD_LOGIN_FAIL]:{transitions:[{accept:aa.LOGIN_START,to:oa.REBUILD_LOGGING_IN},ca,sa]},[oa.REBUILD_LOGGED_IN]:{transitions:[{accept:aa.REBUILD_WATCH_START,to:oa.REBUILD_WATCH_PENDING},ca,sa]},[oa.REBUILD_WATCH_PENDING]:{transitions:[{accept:aa.REBUILD_WATCH_FAIL,to:oa.REBUILD_WATCH_FAIL},{accept:aa.REBUILD_WATCH_SUCCESS,to:oa.REBUILD_WATCH_SUCCESS},ca,sa]},[oa.REBUILD_WATCH_FAIL]:{transitions:[{accept:aa.LOGIN_START,to:oa.REBUILD_LOGGING_IN},ca,sa]},[oa.REBUILD_WATCH_SUCCESS]:{transitions:[{accept:aa.NEED_REBUILD_WATCH,to:oa.ABNORMAL_WATCH_STATUS},ca,sa]}};class fa{constructor(e){for(var t in this.currentState=void 0,this.states=void 0,this.listeners=new Set,this.history=void 0,this.currentState=e.initialState,this.states=new Map,e.states)this.states.set(t,{name:t,transitions:new Map(e.states[t].transitions.map((({accept:e,to:t})=>[e,t])))});this.history={options:{enable:!1,limit:100},transitions:[]},e.history&&("boolean"==typeof e.history?e.history&&(this.history.options.enable=!0):Boolean(e.history.enable)&&(void 0===e.history.limit||null===e.history.limit?this.history.options={enable:!0,limit:100}:e.history.limit>0&&(this.history.options={enable:!0,limit:e.history.limit}))),this.history.options.enable&&this.history.transitions.push({state:this.currentState})}transition(e,t){if(t&&(t instanceof Set?!t.has(this.currentState):t!==this.currentState))throw new da(`current state (${this.currentState}) != expected from state (${t instanceof Set?JSON.stringify([...t]):t})`,"unexpectedFromState");var r="string"==typeof e?{type:e}:e,n=this.states.get(this.currentState),i=n.transitions.get(r.type);if(!i)throw new da(`current state (${this.currentState}) does not accept "${r.type}"`,"unexpectedInput");this.currentState=i,this.history.options.enable&&(this.history.transitions.push({event:r.type,state:this.currentState}),this.history.transitions.length>this.history.options.limit&&(this.history.transitions.length===this.history.options.limit+1?this.history.transitions.shift():this.history.transitions.splice(0,this.history.transitions.length-this.history.options.limit))),this.listeners.forEach((e=>{try{e({event:r,from:n.name,to:this.currentState})}catch(e){o.error("FSM listener exec error: ",e)}}))}canAccept(e){return this.states.get(this.currentState).transitions.has(e)}subscribe(e){this.listeners.add(e)}unsubscribe(e){this.listeners.delete(e)}getHistoryRepresentation(e){return this.history.options.enable?`states: ${(e.limit?this.history.transitions.slice(-e.limit):this.history.transitions).map((({state:e,event:t})=>`${t?`-(${t})->`:""}${e}`)).join("")}`:""}}class da extends Error{constructor(e,t,r){super(e),this.type="transition",this.subtype=void 0,this.payload=void 0,this.generic=!0,this.subtype=t,this.payload=r}}function ha(e=""){return`${e?`${e}_`:""}${+new Date}_${Math.random()}`}var pa=1128,Aa=1,ga=2,va=3,ya=4,ma=5,_a=6,Ea=7,ba=8,wa=9,Ia=10,Ta=11,Sa=12,Ca=13,Na=14,Ba=15,Oa=16,Ra=17,Da=18,ka=30,La=31,Ma=32,xa=33,Ua=34,Pa=35,Qa=36,Fa=37,qa=38,Ga=39,Ha=40,ja=50,Wa=51,Ya=52,za=53,Ja=54,$a=55,Xa=56,Ka=57,Va=58,Za=59,es=60;class ts{constructor(e){this.close=void 0,this.onChange=void 0,this.onError=void 0,this.close=e.close,this.onChange=e.onChange,this.onError=e.onError,e.debug&&Object.defineProperty(this,"virtualClient",{get:()=>e.virtualClient})}}class rs{constructor(e){this.id=void 0,this.docChanges=void 0,this.docs=void 0,this.type=void 0,this.EJSON=void 0,this.requestId=void 0,this.watchId=void 0;var{id:t,docChanges:r,docs:n,type:i,EJSON:o,requestId:a,watchId:s}=e;Object.defineProperties(this,{id:{value:t,writable:!1,enumerable:!0},docChanges:{value:r,writable:!1,enumerable:!0},docs:{value:n,writable:!1,enumerable:!0},type:{value:i,writable:!1,enumerable:!0}}),this.requestId=a,this.watchId=s}}class ns extends Error{constructor(e){super(`Watch Error ${JSON.stringify(e.msgData)} (requestid: ${e.requestId})`),this.isRealtimeErrorMessageError=!0,this.payload=void 0,this.payload=e}}var is=e=>e&&e.isRealtimeErrorMessageError,os=new Set([oa.REBUILD_LOGGING_IN,oa.INIT_LOGGING_IN]),as=e=>{0};class ss{constructor(e){var t=this;this.watchId=void 0,this._parentFSM=void 0,this._fsm=void 0,this.envId=void 0,this.collectionName=void 0,this.query=void 0,this.limit=void 0,this.orderBy=void 0,this.queryType=void 0,this.send=void 0,this.login=void 0,this.isWSConnected=void 0,this.getWaitExpectedTimeoutLength=void 0,this.getEJSON=void 0,this.getServiceContext=void 0,this.onWatchStart=void 0,this.onWatchClose=void 0,this.timing=void 0,this.closeWatchInvoked=!1,this.userOnErrorInvoked=!1,this.debug=void 0,this.wsclient=void 0,this.listener=void 0,this._availableRetries=void 0,this._ackTimeoutId=void 0,this._loginInvalidated=!1,this._errors=[],this._parentFSMListener=void 0,this._FSMListener=void 0,this._wsDisconnectionTS=void 0,this.sessionInfo=void 0,this._waitExpectedTimeoutId=void 0,this._snapshotHistory=[],this._login=function(){var e=h()((function*(e){t._fsm.transition(aa.LOGIN_START);try{var r=yield t.login(t.envId,e||t._loginInvalidated,t.timing);t.envId||(t.envId=r.envId),t._fsm.transition(aa.LOGIN_SUCCESS,os),t._loginInvalidated=!1}catch(e){t._errors.push(e),t._loginInvalidated=!0;try{t._fsm.transition(aa.LOGIN_FAIL,os)}catch(e){o.warn("[realtime]",e)}}}));return function(t){return e.apply(this,arguments)}}(),this.initWatch=h()((function*(){var e=Date.now(),r=ha();try{t._fsm.transition(aa.INIT_WATCH_START,oa.INIT_LOGGED_IN);var n=t.envId,i={watchId:t.watchId,requestId:r,msgType:"INIT_WATCH",msgData:{envId:n,collName:t.collectionName,query:t.query,limit:t.limit,orderBy:t.orderBy,queryType:t.queryType}},o=yield t.send({msg:i,waitResponse:!0,skipOnMessage:!0,timeout:1e4});t.assertAsyncTaskStatus();var{events:a,currEvent:s}=o.msgData;if(t.sessionInfo={queryID:o.msgData.queryID,currentEventId:s-1,currentDocs:[],currentEventTS:Date.now()},a.length>0){for(var u of a)u.ID=s;t.handleServerEvents(o)}else{t.sessionInfo.currentEventId=s;var c=new rs({id:s,docChanges:[],docs:[],type:"init",EJSON:t.getEJSON(),requestId:o.requestId,watchId:t.watchId});j.surroundThirdByTryCatch((()=>t.listener.onChange(c)))(),t.scheduleSendACK(),t.debug&&t._snapshotHistory.push(c)}t.onWatchStart(t,t.sessionInfo.queryID),t._availableRetries.INIT_WATCH=2,t._wsDisconnectionTS=void 0,Ot(pa,ma,!0),Bt({apiName:"_realtime.initWatch(success)",apiStartTime:e,apiEndTime:Date.now()}),t._fsm.transition(aa.INIT_WATCH_SUCCESS)}catch(n){Bt({apiName:"_realtime.initWatch(fail)",apiStartTime:e,apiEndTime:Date.now()}),t.handleWatchEstablishmentError(n,{operationName:"INIT_WATCH",requestId:r})}})),this.rebuildWatch=h()((function*(){var e=Date.now(),r=ha();try{t._fsm.transition(aa.REBUILD_WATCH_START,oa.REBUILD_LOGGED_IN);var n=t.envId;if(!t.sessionInfo)throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");if(t._wsDisconnectionTS&&Date.now()-t._wsDisconnectionTS>.9*t.getServiceContext().appConfig.realtimeQueryEventCacheTimeout)throw new M("query event cache timeout, ws has been disconnected for too long, PLEASE RECONNECT manually",{subtype:"queryEventCacheClientTimeout",retryable:!1});var i={watchId:t.watchId,requestId:r,msgType:"REBUILD_WATCH",msgData:{envId:n,collName:t.collectionName,queryID:t.sessionInfo.queryID,eventID:t.sessionInfo.currentEventId}},o=yield t.send({msg:i,waitResponse:!0,skipOnMessage:!0,timeout:1e4});t.assertAsyncTaskStatus(),yield t.handleServerEvents(o),t._availableRetries.REBUILD_WATCH=2,t._wsDisconnectionTS=void 0,Ot(pa,Ea,!0),Bt({apiName:"_realtime.rebuildWatch(success)",apiStartTime:e,apiEndTime:Date.now()}),t._fsm.transition(aa.REBUILD_WATCH_SUCCESS)}catch(n){Bt({apiName:"_realtime.rebuildWatch(fail)",apiStartTime:e,apiEndTime:Date.now()}),t.handleWatchEstablishmentError(n,{operationName:"REBUILD_WATCH",requestId:r})}})),this.handleWatchEstablishmentError=function(){var e=h()((function*(e,r){var n="INIT_WATCH"===r.operationName,i=i=>{var o=`${i||e} (${n?"initWatch":"rebuildWatch"} requestId ${r.requestId})`;if(t.closeWithError(new R({errCode:n?O.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:O.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:o})),Ot(pa,n?_a:ba,!0),!is(e)){if(x(e)){switch(e.payload.subtype){case"totalConnectionTimeout":Ot(pa,n?Ja:$a,!0);break;case"queryEventCacheClientTimeout":n||Ot(pa,Xa,!0)}return}return Q(e)?void Ot(pa,n?Ka:Va,!0):void Ot(pa,n?Za:es,!0)}switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":Ot(pa,n?ja:Wa,!0);break;default:Ot(pa,n?Ya:za,!0)}};t._errors.push(e),t.handleCommonError(e,{onSignError:()=>{t._loginInvalidated=!0,t._fsm.transition(t.initialized?aa.REBUILD_WATCH_FAIL:aa.INIT_WATCH_FAIL)},onTimeoutError:e=>{e.payload&&!e.payload.retryable?i(e):t._fsm.transition(t.initialized?aa.REBUILD_WATCH_FAIL:aa.INIT_WATCH_FAIL)},onNotRetryableError:i,onCancelledError:e=>{t._fsm.transition(t.initialized?aa.REBUILD_WATCH_FAIL:aa.INIT_WATCH_FAIL)},onUnknownError:()=>{t._fsm.transition(t.initialized?aa.REBUILD_WATCH_FAIL:aa.INIT_WATCH_FAIL)}})}));return function(t,r){return e.apply(this,arguments)}}(),this.closeWatch=h()((function*(){t.closeWatchInvoked=!0;var e=t.sessionInfo?t.sessionInfo.queryID:"";if(t._fsm.currentState!==oa.CLOSED)try{t._fsm.transition(aa.CLOSE),yield t.sendCloseWatch()}catch(e){o.warn(`[realtime] non-fatal error while closing watch: ${e}`)}finally{t.sessionInfo=void 0,t.onWatchClose(t,e),t._cleanup()}})),this.sendCloseWatch=h()((function*(){var e={watchId:t.watchId,requestId:ha(),msgType:"CLOSE_WATCH",msgData:null};yield t.send({msg:e})})),this.scheduleSendACK=()=>{this.clearACKSchedule(),this._ackTimeoutId=setTimeout((()=>{this._waitExpectedTimeoutId?this.scheduleSendACK():this.sendACK()}),1e4)},this.clearACKSchedule=()=>{this._ackTimeoutId&&clearTimeout(this._ackTimeoutId)},this.sendACK=h()((function*(){try{if(t._fsm.currentState!==oa.INIT_WATCH_SUCCESS&&t._fsm.currentState!==oa.REBUILD_WATCH_SUCCESS)return void t.scheduleSendACK();if(!t.sessionInfo)return void o.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)");var e={watchId:t.watchId,requestId:ha(),msgType:"CHECK_LAST",msgData:{queryID:t.sessionInfo.queryID,eventID:t.sessionInfo.currentEventId}};yield t.send({msg:e}),t.scheduleSendACK()}catch(e){if(is(e)){var r=e.payload;switch(r.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return t._loginInvalidated=!0,void(t._fsm.currentState!==oa.INIT_WATCH_SUCCESS&&t._fsm.currentState!==oa.REBUILD_WATCH_SUCCESS||t._fsm.transition(aa.NEED_REBUILD_WATCH));case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":return void t.closeWithError(new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:r.msgData.code}))}}t._availableRetries.CHECK_LAST&&t._availableRetries.CHECK_LAST>0?(t._availableRetries.CHECK_LAST--,t.scheduleSendACK()):t.closeWithError(new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:e}))}})),this.handleCommonError=(e,t)=>{if(is(e)){switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return void t.onSignError(e);default:return void t.onNotRetryableError(e)}}else{if(x(e))return void t.onTimeoutError(e);if(Q(e))return void t.onCancelledError(e)}t.onUnknownError(e)},this.watchId=`watchid_${+new Date}_${Math.random()}`,this._parentFSM=e.parentFSM,this.envId=e.envId,this.collectionName=e.collectionName,this.query=e.query,this.limit=e.limit,this.orderBy=e.orderBy,this.queryType=e.queryType,this.send=e.send,this.login=e.login,this.isWSConnected=e.isWSConnected,this.getWaitExpectedTimeoutLength=e.getWaitExpectedTimeoutLength,this.getEJSON=e.getEJSON,this.getServiceContext=e.getServiceContext,this.onWatchStart=e.onWatchStart,this.onWatchClose=e.onWatchClose,this.timing=e.timing,this.debug=e.debug,this._availableRetries={INIT_WATCH:2,REBUILD_WATCH:2,CHECK_LAST:2},this._fsm=new fa({initialState:oa.UNINIT,states:la,history:!0}),this._subscribeParentFSMEvents(),this._subscribeFSMEvents(),this.listener=new ts({close:this.closeWatch,onChange:e.onChange,onError:e.onError,debug:this.debug,virtualClient:this}),this._parentFSM.currentState===Ko.CONNECTED&&this._login(),e.debug&&(this.wsclient=e.wsclient)}get initialized(){return Boolean(this.sessionInfo)}_cleanup(){this._parentFSM.unsubscribe(this._parentFSMListener)}_subscribeParentFSMEvents(){this._parentFSMListener=e=>{var{event:t,from:r,to:n}=e;if(this._fsm.currentState!==oa.CLOSED)if(t.type===Vo.DISCONNECT||t.type===Vo.CONNECTION_FAIL)switch(this._fsm.currentState){case oa.UNINIT:case oa.INIT_LOGGING_IN:case oa.INIT_LOGIN_FAIL:case oa.INIT_LOGGED_IN:case oa.INIT_WATCH_PENDING:case oa.INIT_WATCH_FAIL:this.closeWithError(t.error||new Error("websocket connection fail"),!1);break;default:t.type===Vo.DISCONNECT?(this._wsDisconnectionTS||(this._wsDisconnectionTS=Date.now()),this._fsm.transition(aa.WS_DISCONNECTED)):this.closeWithError(t.error||new Error("websocket connection fail"),!1)}else if(t.type===Vo.CONNECTION_SUCCESS)switch(this._fsm.currentState){case oa.UNINIT:case oa.PAUSED:this._login();break;case oa.CLOSED:break;default:o.warn(`[realtime] current state should not be ${this._fsm.currentState} (parent event ${t})`)}},this._parentFSM.subscribe(this._parentFSMListener)}_subscribeFSMEvents(){this._FSMListener=e=>{var{event:t,from:r,to:n}=e;switch(t.type){case aa.WS_CONNECTED:this._login().catch(as);break;case aa.LOGIN_SUCCESS:r===oa.INIT_LOGGING_IN?this.initWatch().catch(as):r===oa.REBUILD_LOGGING_IN?this.rebuildWatch().catch(as):this.closeWithError(new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`unexpected state: event ${t.type} from ${r}`}));break;case aa.LOGIN_FAIL:r===oa.INIT_LOGGING_IN?this.useRetryTicket("INIT_WATCH")?this._login().catch(as):this.closeWithError(new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL,errMsg:`login fail ${this._errors[this._errors.length-1]}`})):r===oa.REBUILD_LOGGING_IN?this.useRetryTicket("REBUILD_WATCH")?this._login().catch(as):this.closeWithError(new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:`login fail ${this._errors[this._errors.length-1]}`})):this.closeWithError(new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`unexpected state: event ${t.type} from ${r}`}));break;case aa.INIT_WATCH_SUCCESS:this._availableRetries.INIT_WATCH=2,this._errors=[];break;case aa.INIT_WATCH_FAIL:this.useRetryTicket("INIT_WATCH")?this._login().catch(as):this.closeWithError(new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL,errMsg:`init watch fail ${this._errors[this._errors.length-1]}`}));break;case aa.REBUILD_WATCH_SUCCESS:this._availableRetries.REBUILD_WATCH=2,this._errors=[];break;case aa.REBUILD_WATCH_FAIL:this.useRetryTicket("REBUILD_WATCH")?this._login().catch(as):this.closeWithError(new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:`init watch fail ${this._errors[this._errors.length-1]}`}));break;case aa.NEED_REBUILD_WATCH:this._login().catch(as)}},this._fsm.subscribe(this._FSMListener)}useRetryTicket(e){return!!(this._availableRetries[e]&&this._availableRetries[e]>0)&&(this._availableRetries[e]--,!0)}assertAsyncTaskStatus(){if(this.closeWatchInvoked)throw new U("closeWatch",{subtype:"closeWatch"});switch(this._fsm.currentState){case oa.PAUSED:throw new U("pause",{subtype:"pause"});case oa.CLOSED:throw new U("close",{subtype:"close"})}}handleServerEvents(e){var t=this;return h()((function*(){try{t.scheduleSendACK(),yield t._handleServerEvents(e),t._postHandleServerEventsValidityCheck(e)}catch(e){throw Ot(pa,xa,!0),e}}))()}_handleServerEvents(e){var t=this;return h()((function*(){var{requestId:r}=e,{events:n}=e.msgData;if(n.length&&t.sessionInfo){var i,a=t.sessionInfo;try{i=n.map(us)}catch(e){return void t.closeWithError(new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:e}))}for(var s=[...a.currentDocs],u=!1,c=function*(){var n=i[l];if(a.currentEventId>=n.id)return!i[l-1]||n.id>i[l-1].id?Ot(pa,Ua,!0):(o.error(`[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ${r})`),Ot(pa,Pa,!0)),"continue";if(a.currentEventId===n.id-1){switch(n.dataType){case"update":if(!n.doc)switch(n.queueType){case"update":case"dequeue":var c=s.find((e=>e._id===n.docId));if(c){var d=JSON.parse(JSON.stringify(c));if(n.updatedFields)for(var h in n.updatedFields)na(d,h,n.updatedFields[h]);if(n.removedFields)for(var p of n.removedFields)ia(d,p);n.doc=d}else o.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated."),Ot(pa,Qa,!0);break;case"enqueue":var A=new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId ${e.requestId})`});throw t.closeWithError(A),A}break;case"limit":if(!n.doc&&"dequeue"===n.queueType){var g=s.find((e=>e._id===n.docId));g?n.doc=g:o.error("[realtime listener] internal non-fatal server error: unexpected limit dataType dequeue queueType event where no doc is associated.")}break;case"replace":if(!n.doc){var v=new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`HandleServerEvents: full doc is not provided with dataType="replace" (requestId ${e.requestId})`});throw t.closeWithError(v),v}break;case"remove":var y=s.find((e=>e._id===n.docId));y?n.doc=y:(o.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated."),Ot(pa,Fa,!0))}switch(n.queueType){case"init":u?s.push(n.doc):(u=!0,s=[n.doc]);break;case"enqueue":s.push(n.doc);break;case"dequeue":var m=s.findIndex((e=>e._id===n.docId));m>-1?s.splice(m,1):(o.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated."),Ot(pa,qa,!0));break;case"update":var _=s.findIndex((e=>e._id===n.docId));_>-1?s[_]=n.doc:(o.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated."),Ot(pa,Ga,!0))}if(l===f-1||i[l+1]&&i[l+1].id!==n.id){var E=[...s],b=i.slice(0,l+1).filter((e=>e.id===n.id));t.sessionInfo.currentEventId=n.id,t.sessionInfo.currentDocs=s,t.sessionInfo.currentEventTS=Date.now();var w=new rs({id:n.id,type:"init"===b[0].queueType?"init":void 0,docChanges:t.getEJSON().deserialize(b),docs:t.getEJSON().deserialize(E),EJSON:t.getEJSON(),requestId:r,watchId:t.watchId});j.surroundThirdByTryCatch((()=>t.listener.onChange(w)))(),t.debug&&t._snapshotHistory.push(w)}}else Ot(pa,Ha,!0),t._fsm.transition(aa.NEED_REBUILD_WATCH)},l=0,f=i.length;l<f;l++)yield*c()}}))()}_postHandleServerEventsValidityCheck(e){this.sessionInfo?(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent&&o.warn(`[realtime listener] internal non-fatal error: client eventId ${this.sessionInfo.currentEventId} does not match with server event id after server event handling ${e.msgData.currEvent} (requestId ${e.requestId})`)):o.error(`[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur. (requestId ${e.requestId})`)}clearWaitExpectedEvent(){this._waitExpectedTimeoutId&&(clearTimeout(this._waitExpectedTimeoutId),this._waitExpectedTimeoutId=void 0)}onMessage(e){switch(this._fsm.currentState){case oa.INIT_WATCH_SUCCESS:case oa.REBUILD_WATCH_SUCCESS:break;case oa.PAUSED:if("ERROR"!==e.msgType)return;break;default:return void o.warn(`[realtime listener] internal non-fatal error: unexpected message received while state is ${this._fsm.currentState}`)}if(this.sessionInfo)switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":0,this.handleServerEvents(e);break;case"CHECK_EVENT":this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this._waitExpectedTimeoutId=setTimeout((()=>{this._fsm.transition(aa.NEED_REBUILD_WATCH)}),this.getWaitExpectedTimeoutLength()));break;case"ERROR":this.closeWithError(new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:`${e.msgData.code} - ${e.msgData.message}`}))}else o.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.")}closeWithError(e,t=!0){if(this._fsm.currentState!==oa.CLOSED&&this._fsm.transition(aa.CLOSE),!this.userOnErrorInvoked){var r=this._fsm.getHistoryRepresentation({limit:20});D(e)?(e.errMsg+=`\nhistory ${r}`,e.history=r):e&&((e=new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:`${e} \nhistory ${r}`})).history=r),this.clearACKSchedule(),j.surroundThirdByTryCatch((()=>this.listener.onError(e)))(),this.userOnErrorInvoked=!0,this.onWatchClose(this,this.sessionInfo&&this.sessionInfo.queryID||""),t&&this.sendCloseWatch().catch(as),this.sessionInfo=void 0}}}function us(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&"{}"!==e.Doc?JSON.parse(e.Doc):void 0};return"update"===e.DataType&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=e.removedFields?JSON.parse(e.removedFields):JSON.parse(e.RemovedFields))),t}var cs={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3004:{code:3004,name:"Client Reconnect on Server Upgrade",description:"The client is terminating the connection in response to server upgrade"},3050:{code:3050,name:"Server Close Unauthenticated Idle Connection",description:"The server is terminating the connection because the connection is idle and not authenticated"},3051:{code:3051,name:"Server Upgrade",description:"The server is terminating the connection because it is upgrading"},3052:{code:3052,name:"Server Requires Authentication",description:"The server is terminating the connection because it has not received authentication message as the connection's first message"}},ls=function(e){return e[e.NormalClosure=1e3]="NormalClosure",e[e.GoingAway=1001]="GoingAway",e[e.ProtocolError=1002]="ProtocolError",e[e.UnsupportedData=1003]="UnsupportedData",e[e.NoStatusReceived=1005]="NoStatusReceived",e[e.AbnormalClosure=1006]="AbnormalClosure",e[e.InvalidFramePayloadData=1007]="InvalidFramePayloadData",e[e.PolicyViolation=1008]="PolicyViolation",e[e.MessageTooBig=1009]="MessageTooBig",e[e.MissingExtension=1010]="MissingExtension",e[e.InternalError=1011]="InternalError",e[e.ServiceRestart=1012]="ServiceRestart",e[e.TryAgainLater=1013]="TryAgainLater",e[e.BadGateway=1014]="BadGateway",e[e.TLSHandshake=1015]="TLSHandshake",e[e.ReconnectWebSocket=3e3]="ReconnectWebSocket",e[e.NoRealtimeListeners=3001]="NoRealtimeListeners",e[e.HeartbeatPingError=3002]="HeartbeatPingError",e[e.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",e[e.ReconnectOnServerUpgrade=3004]="ReconnectOnServerUpgrade",e[e.UnauthenticatedIdleConnection=3050]="UnauthenticatedIdleConnection",e[e.ServerUpgrade=3051]="ServerUpgrade",e[e.AuthenticationRequired=3052]="AuthenticationRequired",e}({}),fs=(e,t)=>{var r=cs[e],n=r?`${r.name}, code ${e}, reason ${t||r.description}`:`code ${e}`;return new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:n})},ds=1;class hs{constructor(e){var t=this;this._fsm=void 0,this._virtualWSClient=new Set,this._queryIdClientMap=new Map,this._watchIdClientMap=new Map,this._totalConnectionTimeoutId=void 0,this._serviceContext=void 0,this._ws=void 0,this._lastPingSendTS=void 0,this._pingFailed=0,this._pongMissed=0,this._pingTimeoutId=void 0,this._pongTimeoutId=void 0,this._logins=new Map,this._signatures=new Map,this._wsResponseWait=new Map,this._rttObserved=[],this._closedWatches=new Set,this._EJSON=void 0,this._defaultEnvId=void 0,this._connectionEnvId=void 0,this._retryLock=!1,this.initWebSocketConnection=function(){var e=h()((function*(e,r=t._maxReconnect){var n;if(t._EJSON||(n=function(){return ps.apply(this,arguments)}().then((e=>t._EJSON=e))),t._fsm.currentState===Ko.DISCONNECTED){t._fsm.transition(Vo.CONNECTION_START),t._logins=new Map,t._wsResponseWait=new Map;var i=!1,o=[],a=!1;if(!t._totalConnectionTimeoutId&&t._totalConnectionTimeout&&t._totalConnectionTimeout!==1/0){var s=t._totalConnectionTimeout;t._totalConnectionTimeoutId=setTimeout((()=>{a=!0,e&&t._retryLock&&(t._retryLock=!1),t._totalConnectionTimeoutId=void 0;var r=new M(`reconnect timeout (reach totalConnectionTimeout ${s}s)`,{subtype:"totalConnectionTimeout",retryable:!1});Ot(pa,Ra,!0),t._fsm.transition({type:Vo.CONNECTION_FAIL,error:r})}),1e3*s)}if(e){if(t._retryLock)return void 0;0,t._retryLock=!0}for(var u=function*(){try{if(!(yield Ae()).isConnected){if(!e)return t._fsm.transition({type:Vo.CONNECTION_FAIL,error:new Error("network offline")}),{v:void 0};if(yield new Promise((e=>{le&&le.isConnected?e():pe.push(e)})),0===t._virtualWSClient.size)return t.clearTotalReconnectTimeout(),{v:void 0};g()&&(yield de(100))}if(a)return{v:void 0};0;var r=yield t.getSignature(t._connectionEnvId);if(a)return{v:void 0};0;var s=Date.now();return yield new Promise(((e,n)=>{t._ws=se(t._context.identifiers)._socketSkipCheckDomainFactory().connectSocket({url:r.wsUrl,header:{"content-type":"application/json"},perMessageDeflate:!0,success:e,fail:n})})),a?{v:void 0}:(Bt({apiName:"_realtime.connectSocket",apiStartTime:s,apiEndTime:Date.now()}),yield t.initWebSocketEvent(),a||n&&(yield n,a)?{v:void 0}:(i=!0,"break"))}catch(e){if(o.unshift(e),e.errCode===O.TCB_PERMISSION_DENIED)return"break";var{isConnected:u}=yield Ae();if(a)return{v:void 0};if(u&&(yield de(t._reconnectInterval),a))return{v:void 0};if(g()&&(yield de(0),a))return{v:void 0}}},c=t._maxReconnect;c>=0;c--){var l=yield*u();if("break"===l)break;if("object"==typeof l)return l.v}if(e&&t._retryLock&&(t._retryLock=!1),i)return t.clearTotalReconnectTimeout(),Ot(pa,e?va:Aa,!0),void t._fsm.transition(Vo.CONNECTION_SUCCESS);t.clearTotalReconnectTimeout(),Ot(pa,e?ya:ga,!0),e?t._fsm.transition({type:Vo.CONNECTION_FAIL,error:new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WS_FAIL,errMsg:`errors of each retry (latest to oldest): ${JSON.stringify(o.map((e=>e+"")))}`})}):t._fsm.transition({type:Vo.CONNECTION_FAIL,error:new R({errCode:O.SDK_DATABASE_REALTIME_LISTENER_INIT_WS_FAIL,errMsg:`errors of each retry (latest to oldest): ${JSON.stringify(o.map((e=>e+"")))}`})})}}));return function(t){return e.apply(this,arguments)}}(),this.initWebSocketEvent=()=>new Promise(((e,t)=>{if(!this._ws)throw new Error("can not initWebSocketEvent, ws not exists");var r=!1;this._ws.onOpen((t=>{this._context.debug&&o.warn("[realtime] ws event: open",t),r=!0,e()}));var n=null;this._ws.onError((e=>{n=e,this._logins=new Map,r?(this._context.debug&&o.error("[realtime] ws event: error",e),this.clearHeartbeat(),Ot(pa,Ia,!0)):(this._context.debug&&o.error("[realtime] ws open failed with ws event: error",e),t(e),Ot(pa,wa,!0))})),this._ws.onClose((e=>{this._logins=new Map,this.clearHeartbeat();var t=n||fs(e.code);switch(e.code){case ls.ReconnectOnServerUpgrade:case ls.ReconnectWebSocket:case ls.NoRealtimeListeners:this._fsm.transition({type:Vo.DISCONNECT,error:t});break;case ls.HeartbeatPingError:case ls.HeartbeatPongTimeoutError:case ls.NormalClosure:case ls.AbnormalClosure:this._maxReconnect>0?(this._fsm.transition({type:Vo.DISCONNECT,error:t}),this.initWebSocketConnection(!0)):this._fsm.transition({type:Vo.CONNECTION_FAIL,error:t}),e.code===ls.HeartbeatPingError?Ot(pa,Sa,!0):e.code===ls.HeartbeatPongTimeoutError?Ot(pa,Ca,!0):Ot(pa,Na,!0);break;case ls.UnauthenticatedIdleConnection:this._fsm.transition({type:Vo.CONNECTION_FAIL,error:fs(e.code,e.reason)}),Ot(pa,Ba,!0);break;case ls.ServerUpgrade:this._fsm.transition({type:Vo.DISCONNECT,error:t}),this.initWebSocketConnection(!0),Ot(pa,Da,!0);break;default:this._maxReconnect>0?(this._fsm.transition({type:Vo.DISCONNECT,error:t}),this.initWebSocketConnection(!0)):this._fsm.transition({type:Vo.CONNECTION_FAIL,error:fs(e.code,e.reason)}),Ot(pa,Oa,!0)}Ot(pa,Ta,!0)}));var i={timing:{},startKey:"apiStartTime",endKey:"apiEndTime",samplePicker:Ut,autoReport:"_realtime.onSocketMessage"};this._ws.onMessage(xt(this.onSocketMessage,i)),this.heartbeat()})),this.isWSConnected=()=>Boolean(this._ws&&this._ws.readyState===ds),this.onSocketMessage=e=>{var t,r=e.data;this.heartbeat();try{t=JSON.parse(r)}catch(e){throw new Error(`[realtime] onMessage parse res.data error: ${e}`)}this._context.debug&&o.log(`[realtime] onMessage ${t.msgType} (${(new Date).toLocaleString()})`,t);var n=this._wsResponseWait.get(t.requestId);if(n){try{"ERROR"===t.msgType?n.reject(new ns(t)):n.resolve(t)}catch(e){this._context.debug&&o.error("ws onMessage responseWaitSpec.resolve(msg) errored:",e)}finally{this._wsResponseWait.delete(t.requestId)}if(n.skipOnMessage)return}if("PONG"!==t.msgType){var i=t.watchId&&this._watchIdClientMap.get(t.watchId);if(i)i.onMessage(t);else switch(t.watchId?this._closedWatches.has(t.watchId)?Ot(pa,ka,!0):Ot(pa,La,!0):Ot(pa,Ma,!0),t.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":(i=this._queryIdClientMap.get(t.msgData.queryID))&&i.onMessage(t)}}else if(this._lastPingSendTS){var a=Date.now()-this._lastPingSendTS;if(a>1e4)return void(this._context.debug&&o.warn(`[realtime] untrusted rtt observed: ${a}`));this._rttObserved.length>=3&&this._rttObserved.splice(0,this._rttObserved.length-3+1),this._rttObserved.push(a)}},this.login=function(){var e=h()((function*(e,r,n){if(e=e||t._context.env||t._defaultEnvId,!r)if(e){var i=t._logins.get(e);if(i){if(i.loggedIn&&i.loginResult)return i.loginResult;if(i.loggingInPromise)return i.loggingInPromise}}else{var o=t._logins.get("");if(o&&o.loggingInPromise)return o.loggingInPromise}var a=new Promise(function(){var i=h()((function*(i,o){try{var a=yield n?xt(t.getSignature(e,r),{timing:n,startKey:"tunnelStartTime",endKey:"tunnelEndTime",condition:{emptyKey:!0}}):t.getSignature(e,r),s=(()=>{var e,t,r=se().wx;if(r&&r.version){e=r.version.version,t=r.version.updateTime;var n=r.version.updateTime.match(/^(\d+)\.(\d+)\.(\d+)/);return{version:e,updateTime:t,updateDateInDashes:n?`${n[1]}-${n[2]}-${n[3]}`:"unknown"}}return{version:"unknown",updateTime:"unknown",updateDateInDashes:"unknown"}})(),u={watchId:void 0,requestId:ha(),msgType:"LOGIN",msgData:{envId:a.envId,signStr:a.signStr,secretVersion:a.secretVersion,referrer:"mp",sdkVersion:s.version,dataVersion:s.updateDateInDashes}},c=yield t.send({msg:u,waitResponse:!0,skipOnMessage:!0,timeout:5e3});c.msgData.code?o(new Error(`${c.msgData.code} ${c.msgData.message}`)):i({envId:a.envId})}catch(e){o(e)}}));return function(e,t){return i.apply(this,arguments)}}()),s=e&&t._logins.get(e),u=Date.now();s?(s.loggedIn=!1,s.loggingInPromise=a,s.loginStartTS=u):(s={loggedIn:!1,loggingInPromise:a,loginStartTS:u},t._logins.set(e||"",s));try{var c=yield a,l=t._logins.get(e||"");if(l&&l===s&&l.loginStartTS===u)return s.loggedIn=!0,s.loggingInPromise=void 0,s.loginStartTS=void 0,s.loginResult=c,c;if(l){if(l.loggedIn&&l.loginResult)return l.loginResult;if(l.loggingInPromise)return l.loggingInPromise;throw new Error("ws unexpected login info")}throw new Error("ws login info reset")}catch(e){throw s.loggedIn=!1,s.loggingInPromise=void 0,s.loginStartTS=void 0,s.loginResult=void 0,e}}));return function(t,r,n){return e.apply(this,arguments)}}(),this.getSignature=function(){var e=h()((function*(e,r){if(e=e||t._context.env||t._defaultEnvId,!r&&e&&t._signatures.has(e)){var n=t._signatures.get(e);if(Date.now()<n.expireTS)return n}else 0;var i=Date.now()+6e4,o=yield function(e,t){return Ki.apply(this,arguments)}(t._context,e);if(Date.now()-i>6e4)return t.getSignature(e,r);var a={...o,expireTS:i};return t._signatures.set(a.envId,a),e||(t._defaultEnvId=a.envId),a}));return function(t,r){return e.apply(this,arguments)}}(),this.getWaitExpectedTimeoutLength=()=>this._rttObserved.length?this._rttObserved.reduce(((e,t)=>e+t))/this._rttObserved.length*1.5:5e3,this.ping=h()((function*(){var e={watchId:void 0,requestId:ha(),msgType:"PING",msgData:null};yield t.send({msg:e}),t._context.debug&&o.log("ping sent")})),this.send=e=>new Promise(function(){var r=h()((function*(r,n){if(t._fsm.currentState!==Ko.CONNECTED)return n(new Error("websocket not connected"));var i,a=!1,s=!1,u=e=>{a=!0,i&&clearTimeout(i),r(e)},c=e=>{s=!0,i&&clearTimeout(i),n(e)};e.timeout&&(i=setTimeout(h()((function*(){a&&s||(yield de(0),a&&s||c(new M("wsclient.send timedout")))})),e.timeout));try{if(t._context.debug&&o.log(`[realtime] ws send ${e.msg.msgType} (${(new Date).toLocaleString()}): `,e),!t._ws)return void c(new Error("invalid state: ws connection not exists, can not send message"));if(t._ws.readyState!==ds)return void c(new Error(`ws readyState invalid: ${t._ws.readyState}, can not send message`));e.waitResponse&&t._wsResponseWait.set(e.msg.requestId,{resolve:u,reject:c,skipOnMessage:e.skipOnMessage}),t._ws.send({data:JSON.stringify(e.msg),success:t=>{e.waitResponse||u(t)},fail:r=>{c(r),e.waitResponse&&t._wsResponseWait.delete(e.msg.requestId)}})}catch(e){c(e)}}));return function(e,t){return r.apply(this,arguments)}}()),this.onWatchStart=(e,t)=>{this._queryIdClientMap.set(t,e)},this.onWatchClose=(e,t)=>{t&&this._queryIdClientMap.delete(t),this._watchIdClientMap.delete(e.watchId),this._virtualWSClient.delete(e),this._closedWatches.add(e.watchId),this._virtualWSClient.size||this.close(ls.NoRealtimeListeners)},this.getEJSON=()=>this._EJSON,this._fsm=new fa({initialState:Ko.DISCONNECTED,states:Zo}),this._serviceContext=e.serviceContext}get _context(){return this._serviceContext}get _maxReconnect(){return this._context.appConfig.realtimeMaxReconnect}get _reconnectInterval(){return this._context.appConfig.realtimeReconnectInterval}get _totalConnectionTimeout(){return this._context.appConfig.realtimeTotalConnectionTimeout}heartbeat(e){var t=this;this.clearHeartbeat(),this._pingTimeoutId=setTimeout(h()((function*(){try{if(!t._ws||t._ws.readyState!==ds)return;t._lastPingSendTS=Date.now(),yield t.ping(),t._pingFailed=0,t._pongTimeoutId=setTimeout((()=>{t._context.debug&&o.error("pong timed out"),t._pongMissed<2?(t._pongMissed++,t.heartbeat(!0)):t.close(ls.HeartbeatPongTimeoutError)}),t._context.appConfig.realtimePongWaitTimeout)}catch(e){t._pingFailed<2?(t._pingFailed++,t.heartbeat()):t.close(ls.HeartbeatPingError)}})),e?0:this._context.appConfig.realtimePingInterval)}clearHeartbeat(){this._pingTimeoutId&&clearTimeout(this._pingTimeoutId),this._pongTimeoutId&&clearTimeout(this._pongTimeoutId)}clearTotalReconnectTimeout(){this._totalConnectionTimeoutId&&clearTimeout(this._totalConnectionTimeoutId)}close(e){this.clearHeartbeat(),this._ws&&(this._ws.close({code:e,reason:cs[e].name}),this._ws=void 0)}watch(e){var t={apiStartTime:Date.now()},r=!1,n=()=>{Bt({...t,apiName:e.reportAPIName})},i=e.onChange,o=e.onError;this._fsm.currentState===Ko.DISCONNECTED&&(this._connectionEnvId=e.envId,this.initWebSocketConnection(!1));var a=new ss({...e,parentFSM:this._fsm,send:this.send,login:this.login,isWSConnected:this.isWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,getEJSON:this.getEJSON,getServiceContext:()=>this._context,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,timing:t,debug:this._context.debug,wsclient:this,onChange:u,onError:c});this._virtualWSClient.add(a),this._watchIdClientMap.set(a.watchId,a);var s=a.listener;return s;function u(...e){r||(r=!0,t.apiEndTime=Date.now(),n()),l(),j.surroundThirdByTryCatch((()=>s.onChange.apply(this,e)))()}function c(...e){r||(r=!0,t.apiEndTime=Date.now(),n()),l(),j.surroundThirdByTryCatch((()=>s.onError.apply(this,e)))()}function l(){s.onChange===u&&(s.onChange=i),s.onError===c&&(s.onError=o)}}}function ps(){return(ps=h()((function*(){var e=Date.now(),t=r(946);return Bt({apiName:"_realtime.importBSON",apiStartTime:e,apiEndTime:Date.now()}),t.EJSON}))).apply(this,arguments)}var As=function(e){return e.ASC="asc",e.DESC="desc",e}({}),gs=e=>{class t{constructor(t,n){if(this.collectionName=void 0,this._query=void 0,this._field=void 0,this.__safe_props__=void 0,this.watch=t=>(V(t,{onChange:"function",onError:"function"}),e.serviceContext.ws||(e.serviceContext.ws=new hs({serviceContext:e.serviceContext})),e.serviceContext.ws.watch({...t,envId:e.database.config.env||e.serviceContext.env,collectionName:this.collectionName,query:JSON.stringify(e.engine.QuerySerializer.encode(this._query.where||{})),limit:this._query.limit,orderBy:this._query.order?this._query.order.reduce(((e,t)=>(e[t.fieldPath]=t.order,e)),{}):void 0,queryType:Li.WHERE,reportAPIName:"cloud.db.collection.watch"})),!t)throw new R({errCode:O.SDK_API_PARAMETER_TYPE_ERROR,errMsg:"collectionName must be provided"});this.collectionName=t,this._query=new r(n),Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field=n&&n.field||{}}field(e){return Z(e,"object","field"),new t(this.collectionName,{...this._query.getProperties(),field:e})}where(e){return Z(e,"condition","where"),this._query.where?new t(this.collectionName,{...this._query.getProperties(),where:oo.and(this._query.where,e)}):new t(this.collectionName,{...this._query.getProperties(),where:e})}orderBy(e,r){return Z(e,"fieldPath","orderBy"),Z(r,"order","orderBy"),new t(this.collectionName,{...this._query.getProperties(),order:[...this._query.order||[],{fieldPath:e,order:r}]})}limit(e){return Z(e,"max","limit"),new t(this.collectionName,{...this._query.getProperties(),limit:e})}skip(e){return Z(e,"offset","skip"),new t(this.collectionName,{...this._query.getProperties(),offset:e})}get(t){var r="collection.get",n={apiStartTime:+new Date},i=()=>qi({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),queryType:Li.WHERE,options:Jo(this,e),instanceContext:e,timing:n,explain:null==t?void 0:t.explain});var o=K(t),a=new Promise(function(){var e=h()((function*(e,o){try{var a=yield i();if(null!=t&&t.explain&&g())return void e(a);e({data:a.list,errMsg:Gt(r)})}catch(e){o(k(e,r))}finally{Bt({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!o)return a;a.then((e=>{$(r,t,e)})).catch((e=>{X(r,t,e)}))}update(t){var r="collection.update",n={apiStartTime:+new Date},i=()=>{if(Z(t,"options","update"),V(t,{data:"object"}),!this._query.where)throw new R({errCode:-1,errMsg:"query condition must be provided"})},o=()=>Hi({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),data:e.engine.UpdateSerializer.encode(t.data),queryType:Li.WHERE,options:{multi:!1!==t.multi,merge:!0},instanceContext:e,timing:n,explain:t.explain});var a=K(t),s=new Promise(function(){var e=h()((function*(e,a){try{i();var s=yield o();if(null!=t&&t.explain&&g())return e(s);e({stats:{updated:s.updated},errMsg:Gt(r)})}catch(e){a(k(e,r))}finally{Bt({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return s;s.then((e=>{$(r,t,e)})).catch((e=>{X(r,t,e)}))}remove(t){var r="collection.remove",n={apiStartTime:+new Date},i=()=>{if(!this._query.where||0===Object.keys(this._query.where).length)throw new R({errCode:-1,errMsg:"query condition must be provided and not be empty"})},o=()=>Qi({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),queryType:Li.WHERE,options:{multi:!0},instanceContext:e,timing:n,explain:null==t?void 0:t.explain});var a=K(t),s=new Promise(function(){var e=h()((function*(e,a){try{i();var s=yield o();if(null!=t&&t.explain&&g())return e(s);e({stats:{removed:s.removed||0},errMsg:Gt(r)})}catch(e){a(k(e,r))}finally{Bt({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!a)return s;s.then((e=>{$(r,t,e)})).catch((e=>{X(r,t,e)}))}count(t){var r="collection.count",n={apiStartTime:+new Date},i=()=>zi({env:e.database.config.env,collectionName:this.collectionName,query:e.engine.QuerySerializer.encode(this._query.where||{}),queryType:Li.WHERE,instanceContext:e,timing:n,explain:null==t?void 0:t.explain});var o=K(t),a=new Promise(function(){var e=h()((function*(e,o){try{var a=yield i();if(null!=t&&t.explain&&g())return e(a);e({total:a.total,errMsg:Gt(r)})}catch(e){o(k(e,r))}finally{Bt({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!o)return a;a.then((e=>{$(r,t,e)})).catch((e=>{X(r,t,e)}))}toJSON(){}}class r{constructor(e){this.where=void 0,this.offset=void 0,this.limit=void 0,this.order=void 0,this.field=void 0,this.where=e&&e.where,this.offset=e&&e.offset,this.limit=e&&e.limit,this.order=e&&e.order,this.field=e&&e.field}getProperties(){return{where:this.where,offset:this.offset,limit:this.limit,order:this.order,field:this.field}}}return t},vs="document.get",ys="document.update",ms="document.set",_s="document.remove",Es=e=>class{constructor(t,r){if(this._id=void 0,this.collection=void 0,this._field=void 0,this.__safe_props__=void 0,this.watch=t=>(V(t,{onChange:"function",onError:"function"}),e.serviceContext.ws||(e.serviceContext.ws=new hs({serviceContext:e.serviceContext})),e.serviceContext.ws.watch({...t,envId:e.database.config.env||e.serviceContext.env,collectionName:this.collection.collectionName,query:JSON.stringify({_id:this._id}),queryType:Li.DOC,reportAPIName:"cloud.db.document.watch"})),this.collection=t,this._id=r,null==r)throw new R({errCode:O.SDK_API_PARAMETER_TYPE_ERROR,errMsg:"docId must not be null or undefined"});Object.defineProperties(this,{_field:{enumerable:!1,configurable:!1,writable:!0}}),this._field={}}field(e){return Z(e,"object","field"),V(e,"object","field"),this._field=e,this}get(t){var r=this,n={apiStartTime:+new Date},i=()=>qi({env:e.database.config.env,collectionName:this.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:this._id}),options:{projection:e.engine.ProjectionSerializer.encode(this._field)},queryType:Li.DOC,instanceContext:e,timing:n});var o=K(t),a=new Promise(function(){var e=h()((function*(e,t){try{var o=r._id,a=yield i();if(!a.list||!a.list.length)throw new Error(`cannot find document with _id ${o}, please make sure that the document exists and you have the corresponding access permission`);e({data:a.list[0],errMsg:Gt(vs)})}catch(e){t(k(e,vs))}finally{Bt({...n,apiEndTime:+new Date,apiName:`cloud.db.${vs}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!o)return a;a.then((e=>{$(vs,t,e)})).catch((e=>{X(vs,t,e)}))}set(t){var r={apiStartTime:+new Date},n=()=>Wi({env:e.database.config.env,collectionName:this.collection.collectionName,_id:this._id,data:e.engine.encodeInternalDataType(t.data),options:{},instanceContext:e,timing:r});var i=K(t),o=new Promise(function(){var e=h()((function*(e,i){try{V(t,{data:"object"}),te({name:"options.data",target:t.data});var o=yield n();e({_id:o._id,errMsg:Gt(ms),stats:{updated:o.updated,created:o.created}})}catch(e){i(k(e,ms))}finally{Bt({...r,apiEndTime:+new Date,apiName:`cloud.db.${ms}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!i)return o;o.then((e=>{$(ms,t,e)})).catch((e=>{X(ms,t,e)}))}update(t){var r={apiStartTime:+new Date},n=()=>Hi({env:e.database.config.env,collectionName:this.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:this._id}),data:e.engine.UpdateSerializer.encode(t.data),queryType:Li.DOC,options:{multi:!1,merge:!1},instanceContext:e,timing:r});var i=K(t),o=new Promise(function(){var e=h()((function*(e,i){try{V(t,{data:"object"}),te({name:"options.data",target:t.data}),e({stats:{updated:(yield n()).updated},errMsg:Gt(ys)})}catch(e){i(k(e,ys))}finally{Bt({...r,apiEndTime:+new Date,apiName:`cloud.db.${ys}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!i)return o;o.then((e=>{$(ys,t,e)})).catch((e=>{X(ys,t,e)}))}remove(t){var r=this,n={apiStartTime:+new Date},i=()=>Qi({env:e.database.config.env,collectionName:this.collection.collectionName,query:e.engine.QuerySerializer.encode({_id:this._id}),queryType:Li.DOC,options:{},instanceContext:e,timing:n});var o=K(t),a=new Promise(function(){var e=h()((function*(e,t){try{var o=r._id,a=yield i();if(0===a.removed)throw new Error(`cannot remove document with _id ${o}, please make sure that the document exists and you have the corresponding Write permission`);e({stats:{removed:a.removed||0},errMsg:Gt(_s)})}catch(e){t(k(e,_s))}finally{Bt({...n,apiEndTime:+new Date,apiName:`cloud.db.${_s}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!o)return a;a.then((e=>{$(_s,t,e)})).catch((e=>{X(_s,t,e)}))}toJSON(){}},bs=e=>{var t=gs(e),r=Es(e),n=Vi(e);return class extends t{constructor(e){super(e),this.collectionName=void 0,this.__safe_props__=void 0,this.collectionName=e}doc(e){if(null==e)throw k({errCode:-1,errMsg:"docId must not be empty"},"collection.doc");return new r(this,e)}add(t){var r="collection.add",n={apiStartTime:+new Date},i=()=>Ui({env:e.database.config.env,collectionName:this.collectionName,data:e.engine.encodeInternalDataType(t.data),instanceContext:e,timing:n});var o=K(t),a=new Promise(function(){var e=h()((function*(e,o){try{V(t,{data:"object"}),e({_id:(yield i())._id,errMsg:Gt(r)})}catch(e){o(k(e,r))}finally{Bt({...n,apiEndTime:+new Date,apiName:`cloud.db.${r}`})}}));return function(t,r){return e.apply(this,arguments)}}());if(!o)return a;a.then((e=>{$(r,t,e)})).catch((e=>{X(r,t,e)}))}aggregate(){return new n(this,[])}}},ws=function(e){return new Is(e)};class Is{constructor(e){this.regexp=void 0,this.options=void 0,V(e,{regexp:"string"},"RegExp options"),e.options&&V(e.options,"string"),this.regexp=e.regexp,this.options=e.options||""}get _internalType(){return pi}toJSON(){return{$regex:this.regexp,$options:this.options}}}var Ts={},Ss={};for(var Cs in _i)Ts[_i[Cs]]=`$${_i[Cs]}`;for(var Ns in Ai)Ts[Ai[Ns]]=`$${Ai[Ns]}`;for(var Bs in Ti)Ts[Ti[Bs]]=`$${Ti[Bs]}`;for(var Os in Ni)"toString"!==Ni[Os]&&(Ss[Ni[Os]]=`$${Ni[Os]}`);function Rs(e){return Ts[e]||`$${e.toLowerCase()}`}function Ds(e){return Ss[e]||`$${e.toLowerCase()}`}Ts[_i.NEQ]="$ne",Ts[Ti.REMOVE]="$unset",Ts[Ti.SHIFT]="$pop",Ts[Ti.UNSHIFT]="$push",Ts[_i.GEO_NEAR]="$nearSphere",Ts[_i.GEO_WITHIN]="$geoWithin",Ts[_i.GEO_INTERSECTS]="$geoIntersects";class ks{static encodeStages(e){return(new Ls).encodeStages(e)}static encode(e){return(new Ls).encodeAny(e)}}class Ls{encodeStages(e){return e.map((e=>this.encodePipelineStage(e)))}encodeAny(e){return Wo(e)?ro(e)?this.encodePipeline(e):no(e)?this.encodePipelineStage(e):Oi(e)?this.encodeAggregateCommand(e):Yo(e):E(e)?this.encodeObject(e):T(e)?e.map((e=>this.encodeAny(e))):e}encodeObject(e){var t={};for(var r in e)t[r]=this.encodeAny(e[r]);return t}encodePipeline(e){return e._stages.map((e=>this.encodeAny(e)))}encodePipelineStage(e){var t=`$${e.stage}`;return"match"===e.stage?{[t]:Ms.encode(e.val)}:{[t]:this.encodeAny(e.val)}}encodeAggregateCommand(e){return{[Ds(e.operator)]:this.encodeAny(e.operands[0])}}}class Ms{constructor(){}static encode(e){return xs(e)}}var xs=e=>mi(e)?Ps(e):Ii(e)?Qs(e):ro(e)||Oi(e)||no(e)?ks.encode(e):E(e)?Us(e):Yo(e),Us=e=>{var t=Go(e),r=[],n={[Ai.OR]:0,[Ai.NOR]:0,[Ai.AND]:0,[Ai.NOT]:0},i=function(e){var i=t[e];if(mi(i))switch(i.operator){case Ai.OR:case Ai.NOR:case Ai.AND:n[i.operator]++,r.push({[Rs(i.operator)]:i.operands.map((t=>xs({[e]:t})))});break;case Ai.NOT:var o=i.operands[0];if(mi(o))switch(o.operator){case Ai.AND:n[Ai.OR]++,r.push(Ps(new yi(Ai.OR,o.operands.map((t=>({[e]:new yi(Ai.NOT,[t])}))))));break;case Ai.OR:n[Ai.NOR]++,r.push(Ps(new yi(Ai.NOR,o.operands.map((t=>({[e]:t}))))));break;case Ai.NOR:n[Ai.OR]++,r.push(Ps(new yi(Ai.OR,o.operands.map((t=>({[e]:t}))))));break;case Ai.NOT:r.push(xs({[e]:o.operands[0]}))}else r.push({[e]:Ps(i)})}else Ii(i)?r.push({[e]:Qs(i)}):r.push({[e]:Yo(i)})};for(var o in t)i(o);return Fs(r)},Ps=e=>{switch(e.operator){case Ai.AND:if(e.operands.every((e=>Ii(e)))){var t={};for(var r of e.operands)Object.assign(t,Qs(r));return t}return{[Rs(e.operator)]:e.operands.map(xs)};case Ai.OR:case Ai.NOR:return{[Rs(e.operator)]:e.operands.map(xs)};case Ai.NOT:var n=Rs(e.operator),i=e.operands[0];return{[n]:xs(i)};default:return{[Rs(e.operator)]:e.operands.map(xs)}}},Qs=e=>{var t=Rs(e.operator);switch(e.operator){case _i.EQ:case _i.NEQ:case _i.LT:case _i.LTE:case _i.GT:case _i.GTE:case _i.EXISTS:case _i.SIZE:return{[t]:Yo(e.operands[0])};case _i.IN:case _i.NIN:case _i.MOD:return{[t]:Yo(e.operands)};case _i.ALL:return{[t]:e.operands.map(xs)};case _i.ELEM_MATCH:case _i.EXPR:return{[t]:xs(e.operands[0])};case _i.GEO_NEAR:return{[t]:{$geometry:Yo(e.operands[0].geometry),$maxDistance:e.operands[0].maxDistance,$minDistance:e.operands[0].minDistance}};case _i.GEO_WITHIN:var r={};return e.operands[0].geometry&&(r.$geometry=Yo(e.operands[0].geometry)),e.operands[0].centerSphere&&(r.$centerSphere=Yo(e.operands[0].centerSphere)),{[t]:r};case _i.GEO_INTERSECTS:return{[t]:{$geometry:Yo(e.operands[0].geometry)}};default:return{[t]:e.operands.length>1?e.operands.map(xs):xs(e.operands[0])}}},Fs=e=>{var t={$and:0,$or:0,$nor:0};for(var r of e)r.$and&&t.$and++,r.$or&&t.$or++,r.$nor&&t.$nor++;var n=t.$and>1||t.$or>1||t.$nor>1,i=!1,o={};for(var a of e)for(var s in a){var u=a[s];n?i?o.$and.push(a):"$and"===s||"$or"===s||"$nor"===s?(i=!0,o.$and=[a]):o[s]=u:o[s]=u}return o};class qs{constructor(){}static encode(e){return Gs(e)}}var Gs=e=>Hs(e),Hs=e=>{var t=Go(e),r={};for(var n in t){var i=t[n];if(Ci(i)){var o=Rs(i.operator);switch(r[o]||(r[o]={}),i.operator){case Ti.SET:case Ti.INC:case Ti.MUL:case Ti.MIN:case Ti.MAX:case Ti.RENAME:case Ti.BIT:r[o][n]=Yo(i.operands[0]);break;case Ti.REMOVE:r[o][n]="";break;case Ti.PUSH:var a=void 0;a=1===i.operands.length&&E(i.operands[0])?{$each:i.operands[0].each.map(Yo),$position:i.operands[0].position,$slice:i.operands[0].slice,$sort:i.operands[0].sort}:{$each:i.operands.map(Yo)},r[o][n]=a;break;case Ti.UNSHIFT:var s={$each:i.operands.map(Yo),$position:0};r[o][n]=s;break;case Ti.POP:r[o][n]=1;break;case Ti.SHIFT:r[o][n]=-1;break;case Ti.ADD_TO_SET:r[o][n]=E(i.operands[0])&&i.operands[0].each?{$each:i.operands[0].each}:i.operands[0];break;case Ti.PULL:r[o][n]=Ms.encode(i.operands[0]);break;case Ti.PULL_ALL:default:r[o][n]=Yo(i.operands[0])}}else r.$set||(r.$set={}),r.$set[n]=Yo(i)}return r};class js{constructor(){}static encode(e){return(new js).encodeProjection(e)}encodeProjection(e){return ki(e)?this.encodeProjectionCommand(e):"object"===_(e)?this.encodeProjectionObject(e):e}encodeProjectionCommand(e){var t=Rs(e.operator);return e.operator,Ri.SLICE,{[t]:e.operands[0]}}encodeProjectionObject(e){var t=Go(e);for(var r in t)!0===t[r]||1===t[r]?t[r]=1:!1===t[r]||0===t[r]?t[r]=0:ki(t[r])?t[r]=this.encodeProjectionCommand(t[r]):delete t[r];return t}}class Ws{constructor(){}static decode(e){return(new Ws).decodeData(e)}decodeData(e){switch(_(e)){case"object":return this.decodeObject(e);case"array":return e.map((e=>{if(E(e)){var t=zo(e);return t!==e?t:this.decodeObject(e)}return e}));default:return e}}decodeObject(e){var t={...e};for(var r in t){var n=t[r];switch(_(n)){case"object":var i=zo(n);t[r]=i!==n?i:this.decodeObject(t[r]);break;case"array":var o=this.decodeData(n);o!==n&&(t[r]=o);break;default:continue}}return t}}const Ys=function(e,t){return new(Js(e.identifiers||{}))({context:e,config:t})};function zs(e){return e.debug}var Js=e=>{var r,n;return class{constructor(i){this.identifiers=void 0,this.config=void 0,this.command=void 0,this.Geo=void 0,this.serverDate=void 0,this.RegExp=void 0,this.__safe_props__=void 0;var{config:o,context:a}=i;this.identifiers=e,this.config=o||{},n=bs(r={database:this,serviceContext:a,engine:l}),o&&o.env&&V(o.env,"string"),this.command=oo,this.Geo=t,this.serverDate=ao,this.RegExp=ws,o&&o.hasOwnProperty("debug")&&Object.defineProperties(this,{debug:{value:!0},QuerySerializer:{enumerable:!1,configurable:!1,get(){return zs((e=r).database)?e.engine.QuerySerializer:void 0;var e},set(){}},UpdateSerializer:{enumerable:!1,configurable:!1,get(){return zs((e=r).database)?e.engine.UpdateSerializer:void 0;var e},set(){}},ProjectionSerializer:{enumerable:!1,configurable:!1,get(){return zs((e=r).database)?e.engine.ProjectionSerializer:void 0;var e},set(){}},AggregateSerializer:{enumerable:!1,configurable:!1,get(){return zs((e=r).database)?e.engine.AggregateSerializer:void 0;var e},set(){}},Decoder:{enumerable:!1,configurable:!1,get(){return zs((e=r).database)?e.engine.Decoder:void 0;var e},set(){}}})}collection(e){return new n(e)}toJSON(){}}};function $s(e){return{database:Ys.bind(null,e)}}var Xs="database";function Ks(e){e.registerService(function(e){var t={name:Xs,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug},get env(){return e.getEnvForService(Xs)},appConfig:{get docSizeLimit(){return e.appConfig.db_doc_size_limit},get realtimePingInterval(){return e.appConfig.db_realtime_ping_interval},get realtimePongWaitTimeout(){return e.appConfig.db_realtime_pong_wait_timeout},get realtimeMaxReconnect(){return e.config.database.realtime.maxReconnect},get realtimeReconnectInterval(){return e.config.database.realtime.reconnectInterval},get realtimeTotalConnectionTimeout(){return e.config.database.realtime.totalConnectionTimeout},get realtimeQueryEventCacheTimeout(){return e.appConfig.db_realtime_query_event_cache_timeout}}};return{name:Xs,context:t,getAPIs:$s.bind(null,t)}}(e))}function Vs(e){class t{constructor(e){this.cloudID=void 0,this._internalType=Jt,this.cloudID=e,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}})}toJSON(){return this.cloudID}toString(){return this.cloudID}}return function(e){return new t(e)}}function Zs(e){class t{constructor(e){this.target=void 0,this._internalType=$t,this.target=e,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}})}toString(){return JSON.stringify({target:this.target})}}return function(e){return new t(e)}}function eu(e){return{CloudID:Vs(),CDN:Zs()}}var tu="utils";function ru(e){e.registerService(function(e){var t={name:tu,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug}};return{name:tu,context:t,getAPIs:eu.bind(null,t)}}(e))}class nu{constructor(){}}var iu={CONFIG_EXPIRED:102022,SESSION_EXPIRED:85104},ou=1001,au=1002,su=1003,uu="gateway.call",cu=(e=21)=>{for(var t="",r=e;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},lu=["gw.developwechat.com","wxcloudrun.com","wxgateway.com"];class fu extends Error{constructor(e,t){super(e),this.errCode=void 0,this.errCode=t}}var du=()=>"miniprogram"===Pn().env;function hu(e){return t=>{var r=new pu(Object.assign({keepalive:!1,prefetch:!0,prefetchOptions:{concurrent:1,enableHttp2:!1,enableQuic:!1}},t)),n=t.domain?t.domain:`${t.id||t.appid}.preview.wxcloudrun.com`,i={name:"gateway-plugin",host:n,getMetadata:e=>({...e,host:n}),beforeRequest:e=>e,afterRequest:e=>e,beforeTunnelRequest:e=>e,afterTunnelRequest:e=>e,context:e,refreshTunnelInfo:du()?h()((function*(){var r=be();return(yield e.request({apiName:"tcbapi_get_service_info",serializedReqData:JSON.stringify({system:r.system,wx_app_version:r.version,scene:3,domain:t.domain})})).data})):void 0};return _u.set(r,i),r.initGateway(),(0,qe.jC)(se()._WebAssembly),r.exportAPI}}class pu extends nu{constructor(e){super(),this.options=e,this.session=void 0,this.tokenManager=new Ve(this.refreshToken.bind(this),(e=>Math.max(3e4,e)),(e=>Rt(e,"3"))),this.exportAPI=void 0,this.preferContextIp=!0,this.__deferTasks=[],this.__pendingRequests=0,this.exportAPI={refresh:this.tokenManager.updateSession.bind(this.tokenManager),call:this.call.bind(this),connectSocket:Au(this.connectSocket.bind(this))},e.authorization&&this.tokenManager.updatePrefetchToken(e.authorization)}refreshToken(e){this.session=e;var t=_u.get(this);return new Promise(((r,n)=>{t.refreshTunnelInfo?t.refreshTunnelInfo().then((e=>r(e))).catch((e=>n(e))):se()._requestSkipCheckDomain({url:`https://${t.host}/__wx__/auth?devtools_ignore=true`,method:"post",header:{"x-wx-accept-encryption":3,"x-wx-encryption-timestamp":Date.now(),"x-wx-lib-build-ts":1732453804577},data:JSON.stringify({session:e,fingerprint:"",timestamp:Date.now(),nonce:Math.random()}),success:({data:e})=>r(e),fail:e=>{n(e)}})}))}callV2(e){var t=this;return h()((function*(){e.stats.protocol="v2-gw"+(e.isFallback?"-fallback":"");var{tunnelReqDataType:r,callID:n}=yield hn(e,`v2-${Date.now()}-${cu(8)}`),i=_u.get(t),o=i.host;e.stats.domain=o,e.header={...e.header,"X-WX-HTTP-HOST":o,"X-WX-HTTP-PATH":e.path},e.context.tunnelStartTime=+new Date;var{result:a}=yield gn(uu,e,e.data,r,n,i.context);return vu(e,a.header,a.data,!0),e.context.tunnelEndTime=+new Date,e.stats.statusCode=a.statusCode,{...a,callID:n,errMsg:`${uu}:ok`}}))()}callV3(e,t){var r=this;return h()((function*(){var n=Date.now();t||(t=yield r.tokenManager.getToken()),e.stats.getServiceEndpoint=Date.now()-n;var i=new Uint8Array(De(t.key));e.stats.protocol="v3/unknown";var o=_u.get(r).host;e.stats.domain=o;var a=qe.V3.encodeRequest(i,{...e.header,"X-WX-TARGET-SERVICE":"HTTP","X-WX-HTTP-HOST":o,"X-WX-HTTP-PATH":e.path},e.method||"GET",e.data,e.stats);return e.stats.requestBodyBytes=a.data.byteLength,e.stats.requestStartTs=Date.now(),e.stats.callid=a.callId,new Promise(((n,s)=>{try{var u,c,l,f=lu.some((e=>/^[a-zA-Z0-9-_.]+$/gm.test(o)&&o.endsWith(e)))?se()._requestSkipCheckDomain:se().request,d={enabled:r.preferContextIp,state:0};f({url:`https://${o}/__wx__/call?token=${t.token}&callid=${a.callId}&devtools_ignore=true`,method:"POST",header:{"X-WX-EV":3,"X-WX-RID":t.rid,"Content-Type":"application/octet-stream"},data:a.data.buffer,dataType:"arraybuffer",responseType:"arraybuffer",enableHttp2:null===(u=e.enableHttp2)||void 0===u||u,enableQuic:null===(c=e.enableQuic)||void 0===c||c,useHighPerformanceMode:null!==(l=e.useHighPerformanceMode)&&void 0!==l&&l,useGatewayIp:d,timeout:e.timeout,success:o=>{e.stats||(e.stats={}),e.stats.prefetchIpState=d.state,e.stats.requestSuccessTs=Date.now(),e.stats.profile=o.profile,e.stats.httpRequest=Date.now()-e.stats.requestStartTs;var u=i=>{i instanceof fu&&(i.message+=`, token exp:${t.exp}, current: ${Date.now()}, isRetry: ${e.isRetry}`),e.isRetry?s(i):t.invalidate().then((()=>{r.call({...e,isRetry:!0}).then(n).catch(s)})).catch(s)};try{vu(e,o.header,o.data,!0)}catch(t){return t.errCode&&(e.stats.ret=t.errCode,t.errCode===iu.SESSION_EXPIRED)?void u(t):void s(t)}if(o.statusCode&&200!==o.statusCode){var c=gu(o.data);s(new fu(`${uu}: fail invalid status code ${c}, status code: ${o.statusCode}, callid: ${e.stats.callid}`,404===o.statusCode?404:-9999))}else{var l,f,h,p,A=new Uint8Array(o.data);a.stats.responseBodyBytes=A.byteLength;try{({header:l,body:f,statusCode:h}=qe.V3.decodeResponse(i,A,e.stats)),vu(e,l,f,!1)}catch(t){return t.errCode&&(e.stats.ret=t.errCode,t.errCode===iu.SESSION_EXPIRED)?void u(t):void s(t)}try{p=zr(e,f,h)}catch(e){s(e)}e.stats.protocol=`v3/${e.stats.backend}`,e.stats.responseProcessEndTs=Date.now(),e.stats.statusCode=h,e.stats.ret=0,n({data:p,statusCode:h,header:l,callID:a.callId,errMsg:`${uu}:ok`,stats:e.stats,profile:e.stats.profile})}},fail:t=>{e.stats||(e.stats={}),e.stats.prefetchIpState=d.state,"profile"in t&&(e.stats.profile=t.profile),e.stats.httpRequest=Date.now()-e.stats.requestStartTs,s({...t,errCode:-9999,errMsg:t.errMsg.replace(/^request/,uu)})}}),ft(`${o}/__wx__/keepalive`)}catch(e){s({...e,errCode:-9999,errMsg:e.errMsg.replace(/^request/,uu)})}}))}))()}runDeferTasks(){if(!this.__pendingRequests){for(var e of this.__deferTasks)e();this.__deferTasks=[]}}initGateway(){this.tokenManager.getToken();var e=`${_u.get(this).host}/__wx__/keepalive`;this.options.keepalive&&(ht(e),ct(!1)),this.options.prefetch&&(this.__deferTasks.push((()=>{for(var t,r,n=null!==(t=null===(r=this.options.prefetchOptions)||void 0===r?void 0:r.concurrent)&&void 0!==t?t:0,i=0;i<n;i++)se()._requestSkipCheckDomain({url:`https://${e}?devtools_ignore=true`,...this.options.prefetchOptions})})),setTimeout((()=>this.runDeferTasks()),50))}call(e){var t=this;return h()((function*(){var r=Date.now();t.__pendingRequests++,e.path=e.path||e.url||"",jr(e);var n,i=_u.get(t),o={...e,stats:{apiStartTime:r,confVersion:e.confVersion},context:{apiStartTime:r}},a=t.tokenManager.getTokenSync();n=2===o.apiVersion||3!==o.apiVersion&&!a?t.callV2(o).catch((r=>{if(r.type===dn)return o.stats.errMsg="V2_DATA_TOO_LARGE",t.callV3({...o,apiVersion:3});throw o.stats.errMsg=r.message||Fe(r),o.stats.errCode=au,e.stats&&r.errCode&&(e.stats.ret=r.errCode),r})):t.callV3(o,a).catch((r=>{if(t.preferContextIp=!1,-9999===(null==r?void 0:r.errCode)&&3!==o.apiVersion)return o.stats.errMsg=r.message||Fe(r)||"",t.callV2({...o,isFallback:!0}).catch((t=>{throw o.stats.errMsg+=" v2 err: "+(t.message||Fe(t)),o.stats.errCode=ou,e.stats&&t.errCode&&(e.stats.ret=t.errCode),t}));throw o.stats.errMsg=r.message||Fe(r),o.stats.errCode=su,r})),n=function(e,t,r,n,i){var o;return null===(o=e.followRedirect)||void 0===o||o?function e(o,a){return new Promise(((s,u)=>{a.then((a=>{var c;if(Wr(a.statusCode)){var l=null!==(c=Yr.get(t))&&void 0!==c?c:0;if(l>=5)u("reach the max redirect count");else{Yr.set(t,l+1);var f="";for(var d in a.header)"location"===d.toLowerCase()&&(f=a.header[d]);if(f)if(f.startsWith("/")){var h=re(o);o.path=f,e(h,r(o)).then(s).catch(u)}else se(n.identifiers).request({url:f,method:o.method,header:o.header,data:o.data,dataType:o.dataType,responseType:o.responseType,timeout:o.timeout,success:e=>{s({...e,errMsg:`${i}:ok`})},fail:e=>{u(e.errMsg.replace(/^request/,i))}});else s(a)}}else s(a)})).catch(u)}))}(e,t):t}(e,n,t.call.bind(t),i.context,uu);var s=e.path.startsWith("/")?`https://${i.host}${e.path}`:`${e.path}`;n.then((e=>{o.stats.errCode=0,qt(uu,o,e)})).catch((e=>{var t,r;o.stats.errCode||(o.stats.errCode=null!==(t=e.errCode)&&void 0!==t?t:-1);o.stats.errMsg||(o.stats.errMsg=null!==(r=e.message)&&void 0!==r?r:"system error");qt(uu,o)})),n=Kr(i.context,s,e,n),sr(n,(()=>({url:`gateway.call${e.path}`,method:e.method,headers:e.header,reqBody:Ht(e.data),timestampMs:r})));var u=void 0;try{var c;return u=yield n,null===(c=e.success)||void 0===c||c.call(e,u),u}catch(t){if(u=t,!e.fail)throw t;var l;null===(l=e.fail)||void 0===l||l.call(e,t)}finally{var f;null===(f=e.complete)||void 0===f||f.call(e,u),t.__pendingRequests--,setTimeout((()=>t.runDeferTasks()),0)}}))()}connectSocket(e,t){var r=this;return h()((function*(){var n=_u.get(r),i=n.host,o=n.context,{url:a,success:s,fail:u,complete:c,...l}=e,f=yield r.tokenManager.getToken(),d=`${Date.now()}-${cu(8)}`,p=se(o.identifiers)._socketSkipCheckDomainFactory().connectSocket({...l,url:`wss://${i}/__wx__/wss`,header:{...l.header,"x-wx-gw-ext":"v3-ws","x-wx-ws-url":a,"x-wx-token":f.token,"x-wx-rid":`${f.rid}`,"x-wx-client-session-id":d},perMessageDeflate:!1}),A=p.close.bind(p),g=p.onError.bind(p),v=p.onOpen.bind(p),y=new Uint8Array(De(f.key));t({callID:d,get readyState(){return p.readyState},close:A,onError:g,onOpen:v,onClose:e=>{p.onClose((t=>{e({...t,callID:d})}))},onMessage:e=>{p.onMessage(function(){var t=h()((function*(t){if("string"==typeof t.data)throw new Error(`invalid socket message, data is ${t.data}, callId: ${d}`);var r=yield qe.V3.V3WebSocket.decodePacketV1(y,new Uint8Array(t.data));e({data:r})}));return function(e){return t.apply(this,arguments)}}())},send:e=>{qe.V3.V3WebSocket.encodePacketV1(y,e.data,!0).then((t=>{p.send({data:t.buffer,success:e.success,fail:e.fail,complete:e.complete})}))}})}))()}}function Au(e){var t,r=[];function n(e){return n=>{t?t[e](n):r.push({apiName:e,args:n})}}return i=>(e(i,(e=>{t=e,r.forEach((e=>{t[e.apiName](e.args)})),r.length=0})),{get callID(){var e,r;return null!==(e=null===(r=t)||void 0===r?void 0:r.callID)&&void 0!==e?e:""},get readyState(){var e,r;return null!==(e=null===(r=t)||void 0===r?void 0:r.readyState)&&void 0!==e?e:0},close:n("close"),onClose:n("onClose"),onError:n("onError"),onMessage:n("onMessage"),onOpen:n("onOpen"),send:n("send")})}function gu(e){if(e instanceof ArrayBuffer)try{return Me(e)}catch(e){}return"string"==typeof e?e:Fe(e)}function vu(e,t,r,n){if(t["x-wx-system-error"]){var i=+t["x-wx-system-error"];throw r=gu(r),new fu(`${uu}: fail wx system error ${r}, code: ${i}, callid: ${e.stats.callid}`,i)}if(n){var o=t["x-wx-resp-detail"];if(o&&"via_upstream"!==o)throw new fu(`${uu}: fail invalid resp code detail ${o}, callid: ${e.stats.callid}`,O.WX_GATEWAY_REQUEST_FAILED_INVALID_RESP_DETAIL)}if(t["x-wx-server-timing"]){var a=(t["x-wx-server-timing"]||"").split(",");a.length>=2&&(e.stats.serverStartTs=Number(a[0]),e.stats.serverEndTs=Number(a[1]))}if(t["x-envoy-upstream-service-time"]){var s=+t["x-envoy-upstream-service-time"];isNaN(s)||(e.stats.upstreamCost=s)}if(t["x-wx-mesh-upstream-service-time"]){var u=t["x-wx-mesh-upstream-service-time"].split(",");u.length>=2&&(e.stats.meshStartTs=Number(u[0]),e.stats.meshEndTs=Number(u[1]))}}function yu(e){return{Gateway:{initRequired:!1,fn:hu(e)}}}var mu="services",_u=new WeakMap;function Eu(e){return{name:mu,identifiers:e.identifiers,request:e.request,isInstance:e.isInstance,get debug(){return e.debug},get appid(){return e.instanceOptions.appid},appConfig:{}}}function bu(e){var t=function(e){var t=Eu(e);return{name:mu,context:t,getAPIs:yu.bind(null,t)}}(e);e.registerService(t,"services")}function wu(e,t){e.fail&&e.fail(t),e.complete&&e.complete(t),e.fail=void 0,e.complete=void 0}var Iu=function(){var e=h()((function*(e){try{if(!e.appid)throw new Error("missing appid");var t={appid:e.appid,data:e.reqData},r=(yield new Promise(((r,n)=>se().wx.request({url:`${e.url||"https://servicewechat.com/wxa-qbase/jsoperatewxdata"}`,method:"POST",data:t,success:r,fail:n})))).data;0===r.base_resp.ret?function(e,t){e.success&&e.success(t),e.complete&&e.complete(t),e.success=void 0,e.complete=void 0}(e,{data:JSON.parse(r.data),rawData:r.data}):wu(e,{errMsg:`operateWXData:fail base_resp.ret ${r.base_resp.ret}`})}catch(t){wu(e,t)}}));return function(t){return e.apply(this,arguments)}}(),Tu={_operateWXData:Iu,invokeOperateWXData:Iu};function Su(){(e=>{oe.push((t=>Object.assign({},t,e)))})(Tu)}function Cu(e){return{}}var Nu="app";var Bu={REALTIME_DB_MAX_RECONNECT:5,REALTIME_DB_WS_RECONNECT_INTERVAL:5e3,REALTIME_DB_TOTAL_CONNECTION_TIMEOUT:1/0};const Ou={db_doc_size_limit:524288,db_realtime_ping_interval:15e3,db_realtime_pong_wait_timeout:15e3,db_realtime_query_event_cache_timeout:18e4,upload_max_file_size:20971520,get_temp_file_url_max_requests:50,call_function_poll_max_retry:10,call_function_max_req_data_size:5242880,call_function_client_poll_timeout:15e3,call_function_valid_start_retry_gap:6e4,call_container_poll_max_retry:10,call_container_client_poll_timeout:15e3,call_container_valid_start_retry_gap:6e4,call_container_max_req_data_size:5242880,call_container_use_private_http:0,rpm_per_client_limit:1e3};const Ru={setup:(...e)=>{var t;return null===(t=a)||void 0===t?void 0:t.setup(...e)},asyncSetup:(...e)=>{var t;return null===(t=a)||void 0===t?void 0:t.asyncSetup(...e)},setAttrs:(...e)=>{var t;return null===(t=a)||void 0===t?void 0:t.setAttrs(...e)},teardown:(...e)=>{var t;return null===(t=a)||void 0===t?void 0:t.teardown(...e)},emitEvent:(...e)=>{var t;return null===(t=a)||void 0===t?void 0:t.emitEvent(...e)},getStatus:(...e)=>{var t;return null===(t=a)||void 0===t?void 0:t.getStatus(...e)}};var Du=r(693);const ku=Du.Z.Symbol;var Lu=Object.prototype,Mu=Lu.hasOwnProperty,xu=Lu.toString,Uu=ku?ku.toStringTag:void 0;const Pu=function(e){var t=Mu.call(e,Uu),r=e[Uu];try{e[Uu]=void 0;var n=!0}catch(e){}var i=xu.call(e);return n&&(t?e[Uu]=r:delete e[Uu]),i};var Qu=Object.prototype.toString;const Fu=function(e){return Qu.call(e)};var qu=ku?ku.toStringTag:void 0;const Gu=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":qu&&qu in Object(e)?Pu(e):Fu(e)};const Hu=function(e,t){return function(r){return e(t(r))}};const ju=Hu(Object.getPrototypeOf,Object);const Wu=function(e){return null!=e&&"object"==typeof e};var Yu=Function.prototype,zu=Object.prototype,Ju=Yu.toString,$u=zu.hasOwnProperty,Xu=Ju.call(Object);const Ku=function(e){if(!Wu(e)||"[object Object]"!=Gu(e))return!1;var t=ju(e);if(null===t)return!0;var r=$u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ju.call(r)==Xu};const Vu=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const Zu=function(e){if(!Vu(e))return!1;var t=Gu(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const ec=Du.Z["__core-js_shared__"];var tc,rc=(tc=/[^.]+$/.exec(ec&&ec.keys&&ec.keys.IE_PROTO||""))?"Symbol(src)_1."+tc:"";const nc=function(e){return!!rc&&rc in e};var ic=Function.prototype.toString;const oc=function(e){if(null!=e){try{return ic.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var ac=/^\[object .+?Constructor\]$/,sc=Function.prototype,uc=Object.prototype,cc=sc.toString,lc=uc.hasOwnProperty,fc=RegExp("^"+cc.call(lc).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const dc=function(e){return!(!Vu(e)||nc(e))&&(Zu(e)?fc:ac).test(oc(e))};const hc=function(e,t){return null==e?void 0:e[t]};const pc=function(e,t){var r=hc(e,t);return dc(r)?r:void 0};const Ac=function(){try{var e=pc(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const gc=function(e,t,r){"__proto__"==t&&Ac?Ac(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};const vc=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}();const yc=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};const mc=function(e){return Wu(e)&&"[object Arguments]"==Gu(e)};var _c=Object.prototype,Ec=_c.hasOwnProperty,bc=_c.propertyIsEnumerable,wc=mc(function(){return arguments}())?mc:function(e){return Wu(e)&&Ec.call(e,"callee")&&!bc.call(e,"callee")};const Ic=wc;const Tc=Array.isArray;var Sc=r(614),Cc=/^(?:0|[1-9]\d*)$/;const Nc=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Cc.test(e))&&e>-1&&e%1==0&&e<t};const Bc=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Oc={};Oc["[object Float32Array]"]=Oc["[object Float64Array]"]=Oc["[object Int8Array]"]=Oc["[object Int16Array]"]=Oc["[object Int32Array]"]=Oc["[object Uint8Array]"]=Oc["[object Uint8ClampedArray]"]=Oc["[object Uint16Array]"]=Oc["[object Uint32Array]"]=!0,Oc["[object Arguments]"]=Oc["[object Array]"]=Oc["[object ArrayBuffer]"]=Oc["[object Boolean]"]=Oc["[object DataView]"]=Oc["[object Date]"]=Oc["[object Error]"]=Oc["[object Function]"]=Oc["[object Map]"]=Oc["[object Number]"]=Oc["[object Object]"]=Oc["[object RegExp]"]=Oc["[object Set]"]=Oc["[object String]"]=Oc["[object WeakMap]"]=!1;const Rc=function(e){return Wu(e)&&Bc(e.length)&&!!Oc[Gu(e)]};const Dc=function(e){return function(t){return e(t)}};var kc=r(194),Lc=kc.Z&&kc.Z.isTypedArray;const Mc=Lc?Dc(Lc):Rc;var xc=Object.prototype.hasOwnProperty;const Uc=function(e,t){var r=Tc(e),n=!r&&Ic(e),i=!r&&!n&&(0,Sc.Z)(e),o=!r&&!n&&!i&&Mc(e),a=r||n||i||o,s=a?yc(e.length,String):[],u=s.length;for(var c in e)!t&&!xc.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Nc(c,u))||s.push(c);return s};var Pc=Object.prototype;const Qc=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pc)};const Fc=Hu(Object.keys,Object);var qc=Object.prototype.hasOwnProperty;const Gc=function(e){if(!Qc(e))return Fc(e);var t=[];for(var r in Object(e))qc.call(e,r)&&"constructor"!=r&&t.push(r);return t};const Hc=function(e){return null!=e&&Bc(e.length)&&!Zu(e)};const jc=function(e){return Hc(e)?Uc(e):Gc(e)};const Wc=function(e,t){return e&&vc(e,t,jc)};const Yc=function(){this.__data__=[],this.size=0};const zc=function(e,t){return e===t||e!=e&&t!=t};const Jc=function(e,t){for(var r=e.length;r--;)if(zc(e[r][0],t))return r;return-1};var $c=Array.prototype.splice;const Xc=function(e){var t=this.__data__,r=Jc(t,e);return!(r<0)&&(r==t.length-1?t.pop():$c.call(t,r,1),--this.size,!0)};const Kc=function(e){var t=this.__data__,r=Jc(t,e);return r<0?void 0:t[r][1]};const Vc=function(e){return Jc(this.__data__,e)>-1};const Zc=function(e,t){var r=this.__data__,n=Jc(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function el(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}el.prototype.clear=Yc,el.prototype.delete=Xc,el.prototype.get=Kc,el.prototype.has=Vc,el.prototype.set=Zc;const tl=el;const rl=function(){this.__data__=new tl,this.size=0};const nl=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};const il=function(e){return this.__data__.get(e)};const ol=function(e){return this.__data__.has(e)};const al=pc(Du.Z,"Map");const sl=pc(Object,"create");const ul=function(){this.__data__=sl?sl(null):{},this.size=0};const cl=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var ll=Object.prototype.hasOwnProperty;const fl=function(e){var t=this.__data__;if(sl){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ll.call(t,e)?t[e]:void 0};var dl=Object.prototype.hasOwnProperty;const hl=function(e){var t=this.__data__;return sl?void 0!==t[e]:dl.call(t,e)};const pl=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=sl&&void 0===t?"__lodash_hash_undefined__":t,this};function Al(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Al.prototype.clear=ul,Al.prototype.delete=cl,Al.prototype.get=fl,Al.prototype.has=hl,Al.prototype.set=pl;const gl=Al;const vl=function(){this.size=0,this.__data__={hash:new gl,map:new(al||tl),string:new gl}};const yl=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const ml=function(e,t){var r=e.__data__;return yl(t)?r["string"==typeof t?"string":"hash"]:r.map};const _l=function(e){var t=ml(this,e).delete(e);return this.size-=t?1:0,t};const El=function(e){return ml(this,e).get(e)};const bl=function(e){return ml(this,e).has(e)};const wl=function(e,t){var r=ml(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Il(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Il.prototype.clear=vl,Il.prototype.delete=_l,Il.prototype.get=El,Il.prototype.has=bl,Il.prototype.set=wl;const Tl=Il;const Sl=function(e,t){var r=this.__data__;if(r instanceof tl){var n=r.__data__;if(!al||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Tl(n)}return r.set(e,t),this.size=r.size,this};function Cl(e){var t=this.__data__=new tl(e);this.size=t.size}Cl.prototype.clear=rl,Cl.prototype.delete=nl,Cl.prototype.get=il,Cl.prototype.has=ol,Cl.prototype.set=Sl;const Nl=Cl;const Bl=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const Ol=function(e){return this.__data__.has(e)};function Rl(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Tl;++t<r;)this.add(e[t])}Rl.prototype.add=Rl.prototype.push=Bl,Rl.prototype.has=Ol;const Dl=Rl;const kl=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};const Ll=function(e,t){return e.has(t)};const Ml=function(e,t,r,n,i,o){var a=1&r,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,f=!0,d=2&r?new Dl:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var h=e[l],p=t[l];if(n)var A=a?n(p,h,l,t,e,o):n(h,p,l,e,t,o);if(void 0!==A){if(A)continue;f=!1;break}if(d){if(!kl(t,(function(e,t){if(!Ll(d,t)&&(h===e||i(h,e,r,n,o)))return d.push(t)}))){f=!1;break}}else if(h!==p&&!i(h,p,r,n,o)){f=!1;break}}return o.delete(e),o.delete(t),f};const xl=Du.Z.Uint8Array;const Ul=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};const Pl=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r};var Ql=ku?ku.prototype:void 0,Fl=Ql?Ql.valueOf:void 0;const ql=function(e,t,r,n,i,o,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new xl(e),new xl(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return zc(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Ul;case"[object Set]":var u=1&n;if(s||(s=Pl),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;n|=2,a.set(e,t);var l=Ml(s(e),s(t),n,i,o,a);return a.delete(e),l;case"[object Symbol]":if(Fl)return Fl.call(e)==Fl.call(t)}return!1};const Gl=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e};const Hl=function(e,t,r){var n=t(e);return Tc(e)?n:Gl(n,r(e))};const jl=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o};const Wl=function(){return[]};var Yl=Object.prototype.propertyIsEnumerable,zl=Object.getOwnPropertySymbols;const Jl=zl?function(e){return null==e?[]:(e=Object(e),jl(zl(e),(function(t){return Yl.call(e,t)})))}:Wl;const $l=function(e){return Hl(e,jc,Jl)};var Xl=Object.prototype.hasOwnProperty;const Kl=function(e,t,r,n,i,o){var a=1&r,s=$l(e),u=s.length;if(u!=$l(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:Xl.call(t,l)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var d=!0;o.set(e,t),o.set(t,e);for(var h=a;++c<u;){var p=e[l=s[c]],A=t[l];if(n)var g=a?n(A,p,l,t,e,o):n(p,A,l,e,t,o);if(!(void 0===g?p===A||i(p,A,r,n,o):g)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(d=!1)}return o.delete(e),o.delete(t),d};const Vl=pc(Du.Z,"DataView");const Zl=pc(Du.Z,"Promise");const ef=pc(Du.Z,"Set");const tf=pc(Du.Z,"WeakMap");var rf="[object Map]",nf="[object Promise]",of="[object Set]",af="[object WeakMap]",sf="[object DataView]",uf=oc(Vl),cf=oc(al),lf=oc(Zl),ff=oc(ef),df=oc(tf),hf=Gu;(Vl&&hf(new Vl(new ArrayBuffer(1)))!=sf||al&&hf(new al)!=rf||Zl&&hf(Zl.resolve())!=nf||ef&&hf(new ef)!=of||tf&&hf(new tf)!=af)&&(hf=function(e){var t=Gu(e),r="[object Object]"==t?e.constructor:void 0,n=r?oc(r):"";if(n)switch(n){case uf:return sf;case cf:return rf;case lf:return nf;case ff:return of;case df:return af}return t});const pf=hf;var Af="[object Arguments]",gf="[object Array]",vf="[object Object]",yf=Object.prototype.hasOwnProperty;const mf=function(e,t,r,n,i,o){var a=Tc(e),s=Tc(t),u=a?gf:pf(e),c=s?gf:pf(t),l=(u=u==Af?vf:u)==vf,f=(c=c==Af?vf:c)==vf,d=u==c;if(d&&(0,Sc.Z)(e)){if(!(0,Sc.Z)(t))return!1;a=!0,l=!1}if(d&&!l)return o||(o=new Nl),a||Mc(e)?Ml(e,t,r,n,i,o):ql(e,t,u,r,n,i,o);if(!(1&r)){var h=l&&yf.call(e,"__wrapped__"),p=f&&yf.call(t,"__wrapped__");if(h||p){var A=h?e.value():e,g=p?t.value():t;return o||(o=new Nl),i(A,g,r,n,o)}}return!!d&&(o||(o=new Nl),Kl(e,t,r,n,i,o))};const _f=function e(t,r,n,i,o){return t===r||(null==t||null==r||!Wu(t)&&!Wu(r)?t!=t&&r!=r:mf(t,r,n,i,e,o))};const Ef=function(e,t,r,n){var i=r.length,o=i,a=!n;if(null==e)return!o;for(e=Object(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=r[i])[0],c=e[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var f=new Nl;if(n)var d=n(c,l,u,e,t,f);if(!(void 0===d?_f(l,c,3,n,f):d))return!1}}return!0};const bf=function(e){return e==e&&!Vu(e)};const wf=function(e){for(var t=jc(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,bf(i)]}return t};const If=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}};const Tf=function(e){var t=wf(e);return 1==t.length&&t[0][2]?If(t[0][0],t[0][1]):function(r){return r===e||Ef(r,e,t)}};const Sf=function(e){return"symbol"==typeof e||Wu(e)&&"[object Symbol]"==Gu(e)};var Cf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nf=/^\w*$/;const Bf=function(e,t){if(Tc(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Sf(e))||(Nf.test(e)||!Cf.test(e)||null!=t&&e in Object(t))};function Of(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Of.Cache||Tl),r}Of.Cache=Tl;const Rf=Of;const Df=function(e){var t=Rf(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t};var kf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lf=/\\(\\)?/g,Mf=Df((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(kf,(function(e,r,n,i){t.push(n?i.replace(Lf,"$1"):r||e)})),t}));const xf=Mf;const Uf=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i};var Pf=ku?ku.prototype:void 0,Qf=Pf?Pf.toString:void 0;const Ff=function e(t){if("string"==typeof t)return t;if(Tc(t))return Uf(t,e)+"";if(Sf(t))return Qf?Qf.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};const qf=function(e){return null==e?"":Ff(e)};const Gf=function(e,t){return Tc(e)?e:Bf(e,t)?[e]:xf(qf(e))};const Hf=function(e){if("string"==typeof e||Sf(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};const jf=function(e,t){for(var r=0,n=(t=Gf(t,e)).length;null!=e&&r<n;)e=e[Hf(t[r++])];return r&&r==n?e:void 0};const Wf=function(e,t,r){var n=null==e?void 0:jf(e,t);return void 0===n?r:n};const Yf=function(e,t){return null!=e&&t in Object(e)};const zf=function(e,t,r){for(var n=-1,i=(t=Gf(t,e)).length,o=!1;++n<i;){var a=Hf(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Bc(i)&&Nc(a,i)&&(Tc(e)||Ic(e))};const Jf=function(e,t){return null!=e&&zf(e,t,Yf)};const $f=function(e,t){return Bf(e)&&bf(t)?If(Hf(e),t):function(r){var n=Wf(r,e);return void 0===n&&n===t?Jf(r,e):_f(t,n,3)}};const Xf=function(e){return e};const Kf=function(e){return function(t){return null==t?void 0:t[e]}};const Vf=function(e){return function(t){return jf(t,e)}};const Zf=function(e){return Bf(e)?Kf(Hf(e)):Vf(e)};const ed=function(e){return"function"==typeof e?e:null==e?Xf:"object"==typeof e?Tc(e)?$f(e[0],e[1]):Tf(e):Zf(e)};const td=function(e,t){var r={};return t=ed(t,3),Wc(e,(function(e,n,i){gc(r,n,t(e,n,i))})),r};const rd=function(e,t){var r={};return t=ed(t,3),Wc(e,(function(e,n,i){gc(r,t(e,n,i),e)})),r};const nd=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o};const id=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:nd(e,t,r)};var od=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const ad=function(e){return od.test(e)};const sd=function(e){return e.split("")};var ud="\\ud800-\\udfff",cd="["+ud+"]",ld="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",fd="\\ud83c[\\udffb-\\udfff]",dd="[^"+ud+"]",hd="(?:\\ud83c[\\udde6-\\uddff]){2}",pd="[\\ud800-\\udbff][\\udc00-\\udfff]",Ad="(?:"+ld+"|"+fd+")"+"?",gd="[\\ufe0e\\ufe0f]?",vd=gd+Ad+("(?:\\u200d(?:"+[dd,hd,pd].join("|")+")"+gd+Ad+")*"),yd="(?:"+[dd+ld+"?",ld,hd,pd,cd].join("|")+")",md=RegExp(fd+"(?="+fd+")|"+yd+vd,"g");const _d=function(e){return e.match(md)||[]};const Ed=function(e){return ad(e)?_d(e):sd(e)};const bd=function(e){return function(t){t=qf(t);var r=ad(t)?Ed(t):void 0,n=r?r[0]:t.charAt(0),i=r?id(r,1).join(""):t.slice(1);return n[e]()+i}}("toUpperCase");const wd=function(e){return bd(qf(e).toLowerCase())};const Id=function(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r};const Td=function(e){return function(t){return null==e?void 0:e[t]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});var Sd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cd=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const Nd=function(e){return(e=qf(e))&&e.replace(Sd,Td).replace(Cd,"")};var Bd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const Od=function(e){return e.match(Bd)||[]};var Rd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const Dd=function(e){return Rd.test(e)};var kd="\\ud800-\\udfff",Ld="\\u2700-\\u27bf",Md="a-z\\xdf-\\xf6\\xf8-\\xff",xd="A-Z\\xc0-\\xd6\\xd8-\\xde",Ud="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pd="["+Ud+"]",Qd="\\d+",Fd="["+Ld+"]",qd="["+Md+"]",Gd="[^"+kd+Ud+Qd+Ld+Md+xd+"]",Hd="(?:\\ud83c[\\udde6-\\uddff]){2}",jd="[\\ud800-\\udbff][\\udc00-\\udfff]",Wd="["+xd+"]",Yd="(?:"+qd+"|"+Gd+")",zd="(?:"+Wd+"|"+Gd+")",Jd="(?:['’](?:d|ll|m|re|s|t|ve))?",$d="(?:['’](?:D|LL|M|RE|S|T|VE))?",Xd="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Kd="[\\ufe0e\\ufe0f]?",Vd=Kd+Xd+("(?:\\u200d(?:"+["[^"+kd+"]",Hd,jd].join("|")+")"+Kd+Xd+")*"),Zd="(?:"+[Fd,Hd,jd].join("|")+")"+Vd,eh=RegExp([Wd+"?"+qd+"+"+Jd+"(?="+[Pd,Wd,"$"].join("|")+")",zd+"+"+$d+"(?="+[Pd,Wd+Yd,"$"].join("|")+")",Wd+"?"+Yd+"+"+Jd,Wd+"+"+$d,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qd,Zd].join("|"),"g");const th=function(e){return e.match(eh)||[]};const rh=function(e,t,r){return e=qf(e),void 0===(t=r?void 0:t)?Dd(e)?th(e):Od(e):e.match(t)||[]};var nh=RegExp("['’]","g");var ih=function(e){return function(t){return Id(rh(Nd(t).replace(nh,"")),e,"")}}((function(e,t,r){return t=t.toLowerCase(),e+(r?wd(t):t)}));const oh=ih;var ah,sh,uh,ch=!1;function lh(e,t,r){return fh.apply(this,arguments)}function fh(){return(fh=h()((function*(e,t,r){r.responseProcessEndTs=Date.now(),yield Promise.resolve(),ch&&o.log("will report request callid",r.callid,"profile",t),r.profile=t,Qt({stats:r,path:e})}))).apply(this,arguments)}function dh(e){if(!Ku(e))return e;var t=td(e,(e=>dh(e)));return rd(t,((e,t)=>oh(t)))}var hh=0;function ph(e){var t;sh||(t=e,ch&&o.log("cloud-sdk: we are checking gateway conf",t),sh=dh(Wf(t,"appContactInfo.wxcloud_gateway_conf")||Wf(t,"appContactInfo.stablePassThroughInfo.wxcloud_gateway_conf")));var r=sh,n="develop"===e.envVersion||"trial"===e.envVersion;return ch&&o.log("cloud-sdk: parsed gateway conf",r),t=>{ch&&o.log("cloud-sdk: entered request middleware"),ch&&o.log("cloud-sdk: param",t);var i=e=>({header:{...e.header,"X-WX-HTTP-MODE":"REROUTE","X-WX-CONF-VERSION":null==r?void 0:r.confVersion},path:e.url,confVersion:null==r?void 0:r.confVersion,...r}),a=function(){var e=h()((function*(e){if(!(hh>Date.now()-1e3)){hh=Date.now();var t=null==r?void 0:r.confVersion;if("1"===function(e={},t){for(var r of(t=t.toLowerCase(),Object.keys(e)))if(r.toLowerCase()===t)return e[r]}(e,"x-wx-conf-update")&&uh){var i=be();try{var a=dh((yield uh.request({apiName:"tcbapi_get_gateway_config",serializedReqData:JSON.stringify({system:i.system,wx_app_version:i.version,conf_version:t})})).data.wxcloud_gateway_conf);n&&o.log("%c [Donut 安全网关]","color:green","网关配置更新",a),sh=a}catch(e){}}}}));return function(t){return e.apply(this,arguments)}}();if(void 0!==r){var s;if(!r.enabled)return;if(r.envVersion&&"any"!==r.envVersion){if(e.envVersion!==r.envVersion)return}else if("any"===r.envVersion||"release"===r.envVersion){var u=g();if(!Wf(e,"appContactInfo.passThroughInfo.wxcloud_gateway.user_selected")&&!u)return void(ch&&o.log("cloud-sdk: user not selected, skipping gateway middleware."))}if(t.disableGateway)return;if(!ah){var c=gh();uh=Eu(c);var l=Wf(e,"appContactInfo.passThroughInfo.wxcloud_gateway.auth_info");ch&&o.log("cloud-sdk: gateway prefetchToken",l),ah=yu(uh).Gateway.fn({...r,authorization:l}),n&&o.log("%c [Donut 安全网关]","color:green","网关配置获取成功",r)}if(null!==(s=r.urlPrefixes)&&void 0!==s&&s.some((e=>t.url.startsWith(e)))){var f=t.success,d=t.fail,p=t.complete;if(0===r.accessMode){var A,v={};return ah.call({data:t.data,...t,...i(t),success:void 0,fail:void 0,complete:void 0}).then((e=>{ch&&o.log("[cgw] dry-run gateway.call success at",Date.now()),v.callid=e.callID,a(e.header),A&&lh(t.url,A,v)})).catch((()=>{ch&&o.log("[cgw] dry-run gateway.call failed at",Date.now()),A&&lh(t.url,A,v)})),v.requestStartTs=Date.now(),t.success=e=>{v.requestSuccessTs=Date.now(),null==f||f(e),ch&&o.log("[cgw] wx.request success at",Date.now()),A=e.profile,v.callid&&lh(t.url,e.profile,v)},void(t.fail=e=>{null==d||d(e),ch&&o.log("[cgw] wx.request fail, err report",e),function(e,t,r){ch&&o.log("will report fail callid",r.callid,"err",t),r.errMsg=null==t?void 0:t.message,r.errCode=-1,Qt({stats:r,path:e})}(t.url,e,v)})}return(e,s)=>{var u;ah.call({data:null!==(u=t.data)&&void 0!==u?u:void 0,...t,...i(t),success:void 0,fail:void 0,complete:void 0}).then((e=>{a(e.header),ch&&o.log("[cgw]non dry-run: gateway call success",e),n&&o.log("%c [Donut 安全网关] 网关请求成功","color:green",t.url,e.statusCode,e.callID),t.success=void 0,t.complete=void 0,t.fail=void 0,s("cloud-sdk gateway proxy cancelled request, ignore"),null==f||f(e),null==p||p(e)})).catch((i=>(i instanceof fu&&i.errCode===iu.CONFIG_EXPIRED&&a(),r.disableFallback||t.disableFallback?(t.success=void 0,t.complete=void 0,t.fail=void 0,n&&o.log("%c [Donut 安全网关] 网关请求失败","color:red",t.url,(null==i?void 0:i.message)||"未知错误"),s("cloud-sdk gateway proxy cancelled request, ignore"),null==d||d(i),void(null==p||p(i))):(102022===(null==i?void 0:i.errCode)?n&&o.warn("[Donut 安全网关] 本地网关配置版本较低，此次请求将通过 wx.request 访问"):n&&o.log("%c [Donut 安全网关] %c 网关请求失败，回退至 request","color:green","color:red",t.url,(null==i?void 0:i.message)||"未知错误"),ch&&o.log("[cgw] convert request to gateway failed",i),t.header?t.header["x-wx-fallback"]="1":t.header={"x-wx-fallback":"1"},e()))))}}}}}var Ah={},gh=(e={})=>{var{sdk:t}=e,r=e.identifiers||{};return t&&((e,t)=>{ie.set(e,t)})(r,t),new yh(r,!1)},vh=(e={})=>gh(e).exportAPI;class yh{constructor(e,t){var r=this;this.inited=!1,this.isInstance=void 0,this.services={},this.apiServiceMap={},this.plugins=[],this.meta=void 0,this.config=void 0,this.identifiers=void 0,this.debug=!1,this.request=void 0,this.exportAPI=void 0,this.appConfig=void 0,this.apiPermissions=void 0,this.runtimeInfo=void 0,this.serviceEndpoint=void 0,this.authStorage=void 0,this.testSpeed=h()((function*(){var e,t,n=+new Date,i=n;return Ye((t=(e={cloud:r,apiName:"tcbapi_testspeed",serializedReqData:null}).cloud,{apiName:"qbase_commapi",data:{qbase_api_name:e.apiName,qbase_req:e.serializedReqData,qbase_options:{env:e.env},qbase_meta:t.getMetaData(),cli_req_id:`${+new Date}_${Math.random()}`},cloud:t}),{fireOnIdle:!0,onFire:()=>{n=+new Date,i=n}}).then((e=>{Bt({apiName:"cloud.testspeed",apiEndTime:+new Date,apiStartTime:n,tunnelEndTime:+new Date,tunnelStartTime:i,tunnelTimeNoCSNetCost:e.data.baseresponse.stat.qbase_cost_time})})).catch((e=>{0}))})),this.identifiers=e,this.isInstance=t,this.runtimeInfo=Pn(),this.serviceEndpoint=new ot(e),this.request=Je({cloud:this});var n,i=this;this.exportAPI={init:this.init.bind(this),obs:Ru,__getCloudTunnel__:Je},this.isInstance||(this.exportAPI.Cloud=function(t){return new mh(e,i,t).exportAPI}),Ar(n=this),Kn(n),Ks(n),ru(n),Mn(n),bu(n),this.meta={session_id:Date.now()+""},this.serviceEndpoint.setMetaData(this.getMetaData()),this.serviceEndpoint.setTunnelRequest(this.request),this.config={database:_h()},this.appConfig={...Ou},this.apiPermissions={};try{var o;null===(o=A.onReady)||void 0===o||o.call(A,(()=>{setTimeout((()=>{(()=>{if(!vt)try{var e=se();e.wx.onAppShow&&e.wx.onAppShow((()=>{_t=Date.now()})),e.wx.getNetworkType({success:e=>{Et=e.networkType},complete:()=>{vt=!0,wt()}}),e.wx.onNetworkStatusChange((e=>{vt||(vt=!0,wt()),Et=e.networkType})),e._onHide((()=>{Lt()}))}catch(e){}})()}),2e3),Gr()})),se()._onShow((()=>{this.exportAPI.__getCloudTunnel__=void 0}))}catch(e){}}getMetaData(){if(!this.meta.sdk_version){var e=se(this.identifiers);if(e){var t=e.wx;t&&t.version&&("miniprogram"===this.runtimeInfo.env?this.meta.sdk_version=`wx-miniprogram-sdk/${t.version.version} (${Date.parse(`${t.version.updateTime} GMT+0800`)} platform/${this.runtimeInfo.platform}})`:this.meta.sdk_version=`wx-web-sdk/undefined (${Date.parse("undefined GMT+0800")})`)}A.onReady((()=>{var e;this.meta.filter_user_info="singlePage"===(null===(e=A.appLaunchInfo)||void 0===e?void 0:e.mode)}))}return this.meta}getConfig(){return this.config}getEnvForService(e){if(this.isInstance)return this.instanceOptions.resourceEnv;var t=this.config;if(t.env)switch(_(t.env)){case"string":return t.env;case"object":return t.env[e];default:return}}checkAPIPermission(e){return!this.apiPermissions.hasOwnProperty(e)||1===this.apiPermissions[e]}init(e={}){this.inited=!0,this.initConfig(e);try{Ce(500,this.identifiers)}catch(e){null==fe||fe.log("privateGetBackgroundFetchData error",e)}return Promise.all([this.sendInitRequest().then((()=>{Math.random()<.1&&this.testSpeed()}))]).then((()=>{}))}initConfig(e){this.config=JSON.parse(JSON.stringify(e)),this.plugins=(e.plugins||[]).map((e=>_u.get(e))).filter((e=>!!e)),this.config.database?this.config.database=m(this.config.database,_h()):this.config.database=_h(),"sdk"===this.runtimeInfo.platform&&Su()}sendInitRequest(){var e=this;return h()((function*(){var t="string"==typeof e.config.env?e.config.env:void 0,r=JSON.stringify({trace_user:!1!==e.config.traceUser,env:t,region:e.config.region}),n=+new Date,i=n;try{var a=Ah[t||""],s=Boolean(a);if(!a)a=(yield e.request({...e.config,apiName:"tcbapi_init",serializedReqData:r,env:t})).data,Ah[t||""]=a;var u=+new Date;e.appConfig={...e.appConfig,...a.config},je.updateLimit(e.appConfig.rpm_per_client_limit);for(var c=a.tcb_api_list||[],l=0,f=c.length;l<f;l++)e.apiPermissions[c[l].apiname]=c[l].status;s||Bt({apiName:"cloud.init",apiEndTime:+new Date,apiStartTime:n,tunnelEndTime:u,tunnelStartTime:i,tunnelTimeNoCSNetCost:a.baseresponse.stat.qbase_cost_time})}catch(e){o.error("cloud init error: ",e)}}))()}registerService(e,t){this.services[e.name]=e;var r=e.getAPIs();for(var n in r)if(this.apiServiceMap[n]=e.name,"function"==typeof r[n])this.registerFunction(n,!0,r[n],t);else{var{initRequired:i,fn:o}=r[n];this.registerFunction(n,i,o,t)}}registerFunction(e,t,r,n){var i=this,o=this.exportAPI;n&&(this.exportAPI[n]={},o=this.exportAPI[n]),o[e]=t?function(){if(!i.inited)throw new R({errMsg:"Cloud API isn't enabled, please call wx.cloud.init first\n请先调用 wx.cloud.init() 完成初始化后再调用其他云 API。"});if(!i.checkAPIPermission(e))throw new R({errCode:O.SDK_API_PERMISSION_DENIED,errMsg:O[O.SDK_API_PERMISSION_DENIED]});return r.apply(i,arguments)}:r}toJSON(){}}class mh extends yh{constructor(e,t,r){if(super(e,!0),this.defaultInstance=void 0,this.instanceOptions=void 0,this.webRequest=void 0,this._webCurrentRefreshTokenPromise=void 0,"web"===this.runtimeInfo.env){if(!r.identityless&&!r.appid)throw new Error("appid must be provided");if(!r.resourceAppid)throw new Error("resourceAppid must be provided")}if(!r.resourceEnv)throw new Error("resourceEnv must be provided");if(r.config||(r.config={}),this.defaultInstance=t,this.instanceOptions=JSON.parse(JSON.stringify(r)),this.meta=t.meta,this.apiPermissions=t.apiPermissions,this.instanceOptions.config.database=m(_h(),this.instanceOptions.config.database||{}),"web"===this.runtimeInfo.env){if(this.exportAPI.init=this.webInit.bind(this),this.webRequest=(0,xn.getBoundAuthRequest)(this),this.registerService((0,xn.createWebService)(this)),!this.instanceOptions.identityless&&(this.authStorage=this.defaultInstance.authStorage,!this.authStorage))throw new Error("authStorage not found")}else"sdk"===this.runtimeInfo.env?(this.exportAPI.init=this.webInit.bind(this),this.registerService((i={name:Nu,identifiers:(n=this).identifiers,request:n.request,isInstance:n.isInstance,get debug(){return n.debug},get env(){return n.getEnvForService(Nu)},cloud:n,appConfig:{}},{name:Nu,context:i,getAPIs:Cu.bind(null,i)})),this.instanceOptions.identityless=!0):this.exportAPI.init=this.miniprogramInit.bind(this);var n,i;this.instanceOptions.resourceAppid&&(this.exportAPI.refreshAuth=this.refreshAuth.bind(this))}miniprogramInit(){var e=()=>super.init,t=this;return h()((function*(){if(!t.inited){if(t.instanceOptions.resourceAppid){var r=(yield t.refreshAuth()).data.env_auth_info;return 0===r.errCode?(e().call(t),{errCode:r.errCode,errMsg:r.errMsg,expireTime:1e3*r.expire_time}):{errCode:r.errCode,errMsg:r.errMsg}}e().call(t)}}))()}webInit(){var e=()=>super.init,t=this;return h()((function*(){if(!t.inited){if(!t.instanceOptions.identityless){var r=(yield t.refreshAuth()).data.env_auth_info;return 0===r.errCode?(t.sendInitRequest().then((()=>{t.testSpeed()})),e().call(t),{errCode:r.errCode,errMsg:r.errMsg,expireTime:1e3*r.expire_time}):{errCode:r.errCode,errMsg:r.errMsg}}t.inited=!0}}))()}webRefreshToken(){var e=this;return h()((function*(){return e._webCurrentRefreshTokenPromise||(e._webCurrentRefreshTokenPromise=new Promise(function(){var t=h()((function*(t,r){try{var n=(yield e.webRequest({url:"/refresh_token",method:"POST",json:{appid:e.instanceOptions.appid,refresh_token:e.authStorage.getItem("refreshToken")}})).data;e.authStorage.setItem("appid",n.access_token),t()}catch(e){r(e)}finally{e._webCurrentRefreshTokenPromise=void 0}}));return function(e,r){return t.apply(this,arguments)}}())),e._webCurrentRefreshTokenPromise}))()}refreshAuth(){var e=JSON.stringify({resource_appid:this.instanceOptions.resourceAppid,resource_env:this.instanceOptions.resourceEnv}),t=+new Date,r=t,n=this.request({apiName:"tcbapi_getenvauth",serializedReqData:e});return n.then((e=>{var n=+new Date;Bt({apiName:"cloud.refreshAuth",apiEndTime:+new Date,apiStartTime:t,tunnelEndTime:n,tunnelStartTime:r})})),n}}function _h(){return{realtime:{maxReconnect:Bu.REALTIME_DB_MAX_RECONNECT,reconnectInterval:Bu.REALTIME_DB_WS_RECONNECT_INTERVAL,totalConnectionTimeout:Bu.REALTIME_DB_TOTAL_CONNECTION_TIMEOUT}}}globalThis.__cloudSDK__={...f,...e};c&&(a.setCloudSDK(globalThis.__cloudSDK__),delete globalThis.__cloudSDK__,delete globalThis.getCloudSDKGlobalVar)})()})()})()}catch(e){console.error("catch sdkSubPackage: cloudSDK error: ",e)}