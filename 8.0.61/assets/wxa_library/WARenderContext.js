this.__wxLibrary={fileName:"WARenderContext.js",envType:"Service",contextType:"App:SubContext:Safe",execStart:Date.now(),mayHaveSnapshot:!0};var Reporter,BaseConsole,Trace,SkylineGlobal,__WARenderContextStartTime__=this.__wxLibrary.execStart,__libVersionInfo__={updateTime:"2024.11.24 21:13:21",version:"3.6.6",features:{pruneWxConfigByPage:!0,injectGameContextPlugin:!0,lazyCodeLoading2:!0,lazyCodeLoadingForDevTool:!0,injectAppSeparatedPlugin:!0,nativeTrans:!0,gameLive:!0,skyline:!0,supportInvokeWithAppId:!0,supportAudits:!0,wkFeatureVersion:5,delayedServiceCodeCache:!0,gameLiveInvite:!0,globalConsole:!0,earlyDispatchSubPkgReady:!0,glassEasel:1,supportListenTaskStateChange:!0,supportListenNewPerformanceMetric:!0,collectInvokeCost:!0,externalDebug:!0,expt:["clicfg_appbrand_ios_native_socket_wcwss_new","clicfg_appbrand_ios_native_readfile","clicfg_appbrand_native_readfile","clicfg_canvas_use_magic_brush","clicfg_appbrand_report_trace_event","clicfg_appbrand_skyline_text_style","clicfg_appbrand_ios_allow_worker_binding_message","clicfg_appbrand_ios_arkit2wevision_usevertialplane","clicfg_appbrand_ios_use_jsapi_args_binding","clicfg_appbrand_webview_slow_frame","clicfg_appbrand_webview_native_intersection_observer","clicfg_appbrand_ios_control_close_condom_white","clicfg_appbrand_android_control_close_condom_white","clicfg_appbrand_android_use_game_delay_codecache","clicfg_appbrand_ios_game_shangcheng_kefu","clicfg_appbrand_ios_force_enable_aiad","clicfg_appbrand_android_force_enable_aiad","clicfg_handle_reqresp_in_worker_android","clicfg_appbrand_enable_batch_load_sub_pkg","clicfg_appbrand_ios_enable_aiad_debug_button","clicfg_appbrand_android_enable_aiad_debug_button","clicfg_appbrand_ios_enable_aiad_tag","clicfg_appbrand_android_enable_aiad_tag","clicfg_appbrand_ios_force_use_audio_dynamic_new","clicfg_appbrand_android_force_use_audio_dynamic_new","clicfg_appbrand_ios_operatewxdata_quic_group_control","clicfg_appbrand_ios_operatewxdata_quic_grayrelease_v1","clicfg_appbrand_android_operatewxdata_quic_group_control","clicfg_appbrand_android_operatewxdata_quic_grayrelease_v1","clicfg_wxa_report_ssid","clicfg_miniprogram_global_translate_android","clicfg_miniprogram_global_translate_ios","clicfg_appbrand_android_ad_operatewxdata_batch","clicfg_appbrand_ios_ad_operatewxdata_batch","clicfg_appbrand_ios_operatewxdata_batch","clicfg_appbrand_android_operatewxdata_batch","clicfg_appbrand_ios_enable_jsopdata_mock","clicfg_appbrand_ios_android_aiad_interstitial_cache_time","clicfg_appbrand_android_jsapi_nocallback","clicfg_appbrand_ios_operatewxdata_priority","clicfg_appbrand_android_operatewxdata_priority","clicfg_appbrand_ios_operatewxdata_priority_group_control","clicfg_appbrand_android_operatewxdata_priority_group_control"],exptNeedParams:["clicfg_miniprogram_adreport_use_kv","clicfg_miniprogram_open_admb_in_motivating_v3","clicfg_miniprogram_open_admb2_in_motivating"],snapshotConfig:{"game:main":["WAGame.js"],"game:sub":["WAGameSubContext.js"]},mayHaveSnapshot:["WAServiceMainContext.js","WASubContext.js","WARenderContext.js","WAGame.js","WAGameSubContext.js"],pcSnapshotConfig:{minigame:{iframeDomain:{mainContext:["WAGame.js"],gameContext:["WAGameSubContext.js"]},workerDomain:{}},miniprogram:{iframeDomain:{},workerDomain:{main_context:["WAServiceMainContext.js"],sub_context:["WASubContext.js"]}}},privacyApiVersion:3},debugOptions:{}},window=this||{},PromiseRejectionEvent=function(){},__clientsubcontext=!0,IS_RENDER_CTX=!0,BabelRuntimeHelpers={};(()=>{var e={5803:(e,t,n)=>{var i={"./applyDecoratedDescriptor":7386,"./asyncToGenerator":8921,"./initializerDefineProperty":8704,"./initializerWarningHelper":9651,"./objectSpread2":8680};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=5803},7386:(e,t,n)=>{"use strict";function i(e,t,n,i,r){var a={};return Object.keys(i).forEach((function(e){a[e]=i[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,i){return i(e,t,n)||n}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}n.r(t),n.d(t,{default:()=>i})},8921:(e,t,n)=>{"use strict";function i(e,t,n,i,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,l,"next",e)}function l(e){i(o,r,a,s,l,"throw",e)}s(void 0)}))}}n.r(t),n.d(t,{default:()=>r})},8704:(e,t,n)=>{"use strict";function i(e,t,n,i){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0})}n.r(t),n.d(t,{default:()=>i})},9651:(e,t,n)=>{"use strict";function i(e,t){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled and runs after the decorators transform.")}n.r(t),n.d(t,{default:()=>i})},8680:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function a(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t),n.d(t,{default:()=>s})},9762:(e,t,n)=>{"use strict";var i=n(1551),r=n(4288),a=n(6124),o=n(5517),s=a.data,l=a.normalize,u="USE_FUNCTION_CONSTRUCTOR",c="AsyncIteratorPrototype",d=function(e,t){if(r(e))for(var n=0;n<e.length;n++)s[l(e[n])]=t};e.exports=function(e){"object"==typeof e&&(d(e.useNative,a.NATIVE),d(e.usePolyfill,a.POLYFILL),d(e.useFeatureDetection,null),i(e,u)&&(o[u]=!!e[u]),i(e,c)&&(o[c]=e[c]))}},8117:(e,t,n)=>{"use strict";var i=n(8173),r=n(7420),a=TypeError;e.exports=function(e){if(i(e))return e;throw new a(r(e)+" is not a function")}},6270:(e,t,n)=>{"use strict";var i=n(4524),r=n(7420),a=TypeError;e.exports=function(e){if(i(e))return e;throw new a(r(e)+" is not a constructor")}},8924:(e,t,n)=>{"use strict";var i=n(4977),r=String,a=TypeError;e.exports=function(e){if(i(e))return e;throw new a("Can't set "+r(e)+" as a prototype")}},6016:(e,t,n)=>{"use strict";var i=n(3840).has;e.exports=function(e){return i(e),e}},7591:(e,t,n)=>{"use strict";var i=n(7609),r=n(3062),a=n(2038),o=n(6469),s=n(8117),l=n(1636),u=n(3743),c=n(6387),d=c("asyncDispose"),p=c("dispose"),h=r([].push),f=function(e,t,n){return arguments.length<3&&!l(e)&&(n=s(function(e,t){if("async-dispose"===t){var n=u(e,d);return void 0!==n||void 0===(n=u(e,p))?n:function(){i(n,this)}}return u(e,p)}(o(e),t))),void 0===n?function(){}:a(n,e)};e.exports=function(e,t,n,i){var r;if(arguments.length<4){if(l(t)&&"sync-dispose"===n)return;r=f(t,n)}else r=f(void 0,n,i);h(e.stack,r)}},2890:(e,t,n)=>{"use strict";var i=n(6387),r=n(9543),a=n(615).f,o=i("unscopables"),s=Array.prototype;void 0===s[o]&&a(s,o,{configurable:!0,value:r(null)}),e.exports=function(e){s[o][e]=!0}},1747:(e,t,n)=>{"use strict";var i=n(6730),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw new r("Incorrect invocation")}},6469:(e,t,n)=>{"use strict";var i=n(9693),r=String,a=TypeError;e.exports=function(e){if(i(e))return e;throw new a(r(e)+" is not an object")}},5392:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},1759:(e,t,n)=>{"use strict";var i,r,a,o=n(5392),s=n(1923),l=n(1848),u=n(8173),c=n(9693),d=n(1551),p=n(1465),h=n(7420),f=n(1384),_=n(5953),v=n(6248),g=n(6730),m=n(4483),E=n(5273),y=n(6387),T=n(4229),b=n(2417),C=b.enforce,S=b.get,A=l.Int8Array,I=A&&A.prototype,P=l.Uint8ClampedArray,w=P&&P.prototype,R=A&&m(A),x=I&&m(I),O=Object.prototype,N=l.TypeError,D=y("toStringTag"),k=T("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",M=o&&!!E&&"Opera"!==p(l.opera),B=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},V={BigInt64Array:8,BigUint64Array:8},W=function(e){var t=m(e);if(c(t)){var n=S(t);return n&&d(n,L)?n[L]:W(t)}},U=function(e){if(!c(e))return!1;var t=p(e);return d(F,t)||d(V,t)};for(i in F)(a=(r=l[i])&&r.prototype)?C(a)[L]=r:M=!1;for(i in V)(a=(r=l[i])&&r.prototype)&&(C(a)[L]=r);if((!M||!u(R)||R===Function.prototype)&&(R=function(){throw new N("Incorrect invocation")},M))for(i in F)l[i]&&E(l[i],R);if((!M||!x||x===O)&&(x=R.prototype,M))for(i in F)l[i]&&E(l[i].prototype,x);if(M&&m(w)!==x&&E(w,x),s&&!d(x,D))for(i in B=!0,v(x,D,{configurable:!0,get:function(){return c(this)?this[k]:void 0}}),F)l[i]&&f(l[i],k,i);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:B&&k,aTypedArray:function(e){if(U(e))return e;throw new N("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!E||g(R,e)))return e;throw new N(h(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n,i){if(s){if(n)for(var r in F){var a=l[r];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(n){try{a.prototype[e]=t}catch(e){}}}x[e]&&!n||_(x,e,n?t:M&&I[e]||t,i)}},exportTypedArrayStaticMethod:function(e,t,n){var i,r;if(s){if(E){if(n)for(i in F)if((r=l[i])&&d(r,e))try{delete r[e]}catch(e){}if(R[e]&&!n)return;try{return _(R,e,n?t:M&&R[e]||t)}catch(e){}}for(i in F)!(r=l[i])||r[e]&&!n||_(r,e,t)}},getTypedArrayConstructor:W,isView:function(e){if(!c(e))return!1;var t=p(e);return"DataView"===t||d(F,t)||d(V,t)},isTypedArray:U,TypedArray:R,TypedArrayPrototype:x}},1180:(e,t,n)=>{"use strict";var i=n(3659),r=n(3663),a=n(9110);e.exports=function(e){for(var t=i(this),n=a(t),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>s;)t[s++]=e;return t}},4744:(e,t,n)=>{"use strict";var i=n(2038),r=n(3062),a=n(3659),o=n(4524),s=n(2330),l=n(9072),u=n(8986),c=n(2100),d=n(3743),p=n(9406),h=n(8168),f=n(6387),_=n(147),v=n(7163).toArray,g=f("asyncIterator"),m=r(h("Array","values")),E=r(m([]).next),y=function(){return new T(this)},T=function(e){this.iterator=m(e)};T.prototype.next=function(){return E(this.iterator)},e.exports=function(e){var t=this,n=arguments.length,r=n>1?arguments[1]:void 0,h=n>2?arguments[2]:void 0;return new(p("Promise"))((function(n){var p=a(e);void 0!==r&&(r=i(r,h));var f=d(p,g),m=f?void 0:c(p)||y,E=o(t)?new t:[],T=f?s(p,f):new _(u(l(p,m)));n(v(T,r,E))}))}},2239:(e,t,n)=>{"use strict";var i=n(9110);e.exports=function(e,t,n){for(var r=0,a=arguments.length>2?n:i(t),o=new e(a);a>r;)o[r]=t[r++];return o}},3077:(e,t,n)=>{"use strict";var i=n(2038),r=n(3062),a=n(2832),o=n(3659),s=n(9110),l=n(7741),u=l.Map,c=l.get,d=l.has,p=l.set,h=r([].push);e.exports=function(e){for(var t,n,r=o(this),l=a(r),f=i(e,arguments.length>1?arguments[1]:void 0),_=new u,v=s(l),g=0;v>g;g++)t=f(n=l[g],g,r),d(_,t)?h(c(_,t),n):p(_,t,[n]);return _}},6747:(e,t,n)=>{"use strict";var i=n(2038),r=n(3062),a=n(2832),o=n(3659),s=n(7445),l=n(9110),u=n(9543),c=n(2239),d=Array,p=r([].push);e.exports=function(e,t,n,r){for(var h,f,_,v=o(e),g=a(v),m=i(t,n),E=u(null),y=l(g),T=0;y>T;T++)_=g[T],(f=s(m(_,T,v)))in E?p(E[f],_):E[f]=[_];if(r&&(h=r(v))!==d)for(f in E)E[f]=c(h,E[f]);return E}},4158:(e,t,n)=>{"use strict";var i=n(8632),r=n(3663),a=n(9110),o=function(e){return function(t,n,o){var s=i(t),l=a(s);if(0===l)return!e&&-1;var u,c=r(o,l);if(e&&n!=n){for(;l>c;)if((u=s[c++])!=u)return!0}else for(;l>c;c++)if((e||c in s)&&s[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},2008:(e,t,n)=>{"use strict";var i=n(2038),r=n(2832),a=n(3659),o=n(9110),s=function(e){var t=1===e;return function(n,s,l){for(var u,c=a(n),d=r(c),p=o(d),h=i(s,l);p-- >0;)if(h(u=d[p],p,c))switch(e){case 0:return u;case 1:return p}return t?-1:void 0}};e.exports={findLast:s(0),findLastIndex:s(1)}},7816:(e,t,n)=>{"use strict";var i=n(8462);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},7826:(e,t,n)=>{"use strict";var i=n(1923),r=n(4288),a=TypeError,o=Object.getOwnPropertyDescriptor,s=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(r(e)&&!o(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7706:(e,t,n)=>{"use strict";var i=n(3062);e.exports=i([].slice)},9070:(e,t,n)=>{"use strict";var i=n(7706),r=Math.floor,a=function(e,t){var n=e.length;if(n<8)for(var o,s,l=1;l<n;){for(s=l,o=e[l];s&&t(e[s-1],o)>0;)e[s]=e[--s];s!==l++&&(e[s]=o)}else for(var u=r(n/2),c=a(i(e,0,u),t),d=a(i(e,u),t),p=c.length,h=d.length,f=0,_=0;f<p||_<h;)e[f+_]=f<p&&_<h?t(c[f],d[_])<=0?c[f++]:d[_++]:f<p?c[f++]:d[_++];return e};e.exports=a},459:(e,t,n)=>{"use strict";var i=n(9110);e.exports=function(e,t){for(var n=i(e),r=new t(n),a=0;a<n;a++)r[a]=e[n-a-1];return r}},1403:(e,t,n)=>{"use strict";var i=n(9110),r=n(6521),a=RangeError;e.exports=function(e,t,n,o){var s=i(e),l=r(n),u=l<0?s+l:l;if(u>=s||u<0)throw new a("Incorrect index");for(var c=new t(s),d=0;d<s;d++)c[d]=d===u?o:e[d];return c}},147:(e,t,n)=>{"use strict";var i=n(7609),r=n(6469),a=n(9543),o=n(3743),s=n(8881),l=n(2417),u=n(9406),c=n(2179),d=n(9462),p=u("Promise"),h="AsyncFromSyncIterator",f=l.set,_=l.getterFor(h),v=function(e,t,n){var i=e.done;p.resolve(e.value).then((function(e){t(d(e,i))}),n)},g=function(e){e.type=h,f(this,e)};g.prototype=s(a(c),{next:function(){var e=_(this);return new p((function(t,n){var a=r(i(e.next,e.iterator));v(a,t,n)}))},return:function(){var e=_(this).iterator;return new p((function(t,n){var a=o(e,"return");if(void 0===a)return t(d(void 0,!0));var s=r(i(a,e));v(s,t,n)}))}}),e.exports=g},7897:(e,t,n)=>{"use strict";var i=n(7609),r=n(9406),a=n(3743);e.exports=function(e,t,n,o){try{var s=a(e,"return");if(s)return r("Promise").resolve(i(s,e)).then((function(){t(n)}),(function(e){o(e)}))}catch(e){return o(e)}t(n)}},9296:(e,t,n)=>{"use strict";var i=n(7609),r=n(1689),a=n(6469),o=n(9543),s=n(1384),l=n(8881),u=n(6387),c=n(2417),d=n(9406),p=n(3743),h=n(2179),f=n(9462),_=n(9273),v=d("Promise"),g=u("toStringTag"),m="AsyncIteratorHelper",E="WrapForValidAsyncIterator",y=c.set,T=function(e){var t=!e,n=c.getterFor(e?E:m),s=function(e){var i=r((function(){return n(e)})),a=i.error,o=i.value;return a||t&&o.done?{exit:!0,value:a?v.reject(o):v.resolve(f(void 0,!0))}:{exit:!1,value:o}};return l(o(h),{next:function(){var e=s(this),t=e.value;if(e.exit)return t;var n=r((function(){return a(t.nextHandler(v))})),i=n.error,o=n.value;return i&&(t.done=!0),i?v.reject(o):v.resolve(o)},return:function(){var t=s(this),n=t.value;if(t.exit)return n;n.done=!0;var o,l,u=n.iterator,c=r((function(){if(n.inner)try{_(n.inner.iterator,"normal")}catch(e){return _(u,"throw",e)}return p(u,"return")}));return o=l=c.value,c.error?v.reject(l):void 0===o?v.resolve(f(void 0,!0)):(l=(c=r((function(){return i(o,u)}))).value,c.error?v.reject(l):e?v.resolve(l):v.resolve(l).then((function(e){return a(e),f(void 0,!0)})))}})},b=T(!0),C=T(!1);s(C,g,"Async Iterator Helper"),e.exports=function(e,t){var n=function(n,i){i?(i.iterator=n.iterator,i.next=n.next):i=n,i.type=t?E:m,i.nextHandler=e,i.counter=0,i.done=!1,y(this,i)};return n.prototype=t?b:C,n}},7163:(e,t,n)=>{"use strict";var i=n(7609),r=n(8117),a=n(6469),o=n(9693),s=n(8475),l=n(9406),u=n(8986),c=n(7897),d=function(e){var t=0===e,n=1===e,d=2===e,p=3===e;return function(e,h,f){a(e);var _=void 0!==h;!_&&t||r(h);var v=u(e),g=l("Promise"),m=v.iterator,E=v.next,y=0;return new g((function(e,r){var l=function(e){c(m,r,e,r)},u=function(){try{if(_)try{s(y)}catch(e){l(e)}g.resolve(a(i(E,m))).then((function(i){try{if(a(i).done)t?(f.length=y,e(f)):e(!p&&(d||void 0));else{var s=i.value;try{if(_){var v=h(s,y),E=function(i){if(n)u();else if(d)i?u():c(m,e,!1,r);else if(t)try{f[y++]=i,u()}catch(e){l(e)}else i?c(m,e,p||s,r):u()};o(v)?g.resolve(v).then(E,l):E(v)}else f[y++]=s,u()}catch(e){l(e)}}}catch(e){r(e)}}),r)}catch(e){r(e)}};u()}))}};e.exports={toArray:d(0),forEach:d(1),every:d(2),some:d(3),find:d(4)}},7073:(e,t,n)=>{"use strict";var i=n(7609),r=n(8117),a=n(6469),o=n(9693),s=n(8986),l=n(9296),u=n(9462),c=n(7897),d=l((function(e){var t=this,n=t.iterator,r=t.mapper;return new e((function(s,l){var d=function(e){t.done=!0,l(e)},p=function(e){c(n,d,e,d)};e.resolve(a(i(t.next,n))).then((function(n){try{if(a(n).done)t.done=!0,s(u(void 0,!0));else{var i=n.value;try{var l=r(i,t.counter++),c=function(e){s(u(e,!1))};o(l)?e.resolve(l).then(c,p):c(l)}catch(e){p(e)}}}catch(e){d(e)}}),d)}))}));e.exports=function(e){return a(this),r(e),new d(s(this),{mapper:e})}},2179:(e,t,n)=>{"use strict";var i,r,a=n(1848),o=n(5517),s=n(8173),l=n(9543),u=n(4483),c=n(5953),d=n(6387),p=n(4151),h="USE_FUNCTION_CONSTRUCTOR",f=d("asyncIterator"),_=a.AsyncIterator,v=o.AsyncIteratorPrototype;if(v)i=v;else if(s(_))i=_.prototype;else if(o[h]||a[h])try{r=u(u(u(Function("return async function*(){}()")()))),u(r)===Object.prototype&&(i=r)}catch(e){}i?p&&(i=l(i)):i={},s(i[f])||c(i,f,(function(){return this})),e.exports=i},3525:(e,t,n)=>{"use strict";var i=n(7609),r=n(9296);e.exports=r((function(){return i(this.next,this.iterator)}),!0)},9832:(e,t,n)=>{"use strict";var i=n(6469),r=n(9273);e.exports=function(e,t,n,a){try{return a?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},4912:(e,t,n)=>{"use strict";var i=n(6387)("iterator"),r=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){r=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!r)return!1}catch(e){return!1}var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},6892:(e,t,n)=>{"use strict";var i=n(3062),r=i({}.toString),a=i("".slice);e.exports=function(e){return a(r(e),8,-1)}},1465:(e,t,n)=>{"use strict";var i=n(1326),r=n(8173),a=n(6892),o=n(6387)("toStringTag"),s=Object,l="Arguments"===a(function(){return arguments}());e.exports=i?a:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=s(e),o))?n:l?a(t):"Object"===(i=a(t))&&r(t.callee)?"Arguments":i}},744:(e,t,n)=>{"use strict";var i=n(1551),r=n(3349),a=n(5983),o=n(615);e.exports=function(e,t,n){for(var s=r(t),l=o.f,u=a.f,c=0;c<s.length;c++){var d=s[c];i(e,d)||n&&i(n,d)||l(e,d,u(t,d))}}},7712:(e,t,n)=>{"use strict";var i=n(8462);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},9462:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},1384:(e,t,n)=>{"use strict";var i=n(1923),r=n(615),a=n(4127);e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},4127:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4676:(e,t,n)=>{"use strict";var i=n(1923),r=n(615),a=n(4127);e.exports=function(e,t,n){i?r.f(e,t,a(0,n)):e[t]=n}},6248:(e,t,n)=>{"use strict";var i=n(1704),r=n(615);e.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),r.f(e,t,n)}},5953:(e,t,n)=>{"use strict";var i=n(8173),r=n(615),a=n(1704),o=n(3958);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:t;if(i(n)&&a(n,u,s),s.global)l?e[t]=n:o(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},8881:(e,t,n)=>{"use strict";var i=n(5953);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},3958:(e,t,n)=>{"use strict";var i=n(1848),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},5588:(e,t,n)=>{"use strict";var i=n(7420),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw new r("Cannot delete property "+i(t)+" of "+i(e))}},1923:(e,t,n)=>{"use strict";var i=n(8462);e.exports=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4446:(e,t,n)=>{"use strict";var i=n(1848),r=n(9693),a=i.document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},8475:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},7094:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9257:(e,t,n)=>{"use strict";var i=n(8722).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},1466:(e,t,n)=>{"use strict";var i=n(8722);e.exports=/MSIE|Trident/.test(i)},9788:(e,t,n)=>{"use strict";var i=n(8722);e.exports=/ipad|iphone|ipod/i.test(i)&&"undefined"!=typeof Pebble},9823:(e,t,n)=>{"use strict";var i=n(8722);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},2409:(e,t,n)=>{"use strict";var i=n(1558);e.exports="NODE"===i},2027:(e,t,n)=>{"use strict";var i=n(8722);e.exports=/web0s(?!.*chrome)/i.test(i)},8722:(e,t,n)=>{"use strict";var i=n(1848).navigator,r=i&&i.userAgent;e.exports=r?String(r):""},9255:(e,t,n)=>{"use strict";var i,r,a=n(1848),o=n(8722),s=a.process,l=a.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(r=(i=c.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},8560:(e,t,n)=>{"use strict";var i=n(8722).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},1558:(e,t,n)=>{"use strict";var i=n(1848),r=n(8722),a=n(6892),o=function(e){return r.slice(0,e.length)===e};e.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":i.Bun&&"string"==typeof Bun.version?"BUN":i.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(i.process)?"NODE":i.window&&i.document?"BROWSER":"REST"},5290:(e,t,n)=>{"use strict";var i=n(3062),r=Error,a=i("".replace),o=String(new r("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=a(e,s,"");return e}},2519:(e,t,n)=>{"use strict";var i=n(1384),r=n(5290),a=n(692),o=Error.captureStackTrace;e.exports=function(e,t,n,s){a&&(o?o(e,t):i(e,"stack",r(n,s)))}},692:(e,t,n)=>{"use strict";var i=n(8462),r=n(4127);e.exports=!i((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},4395:(e,t,n)=>{"use strict";var i=n(1848),r=n(5983).f,a=n(1384),o=n(5953),s=n(3958),l=n(744),u=n(6124);e.exports=function(e,t){var n,c,d,p,h,f=e.target,_=e.global,v=e.stat;if(n=_?i:v?i[f]||s(f,{}):i[f]&&i[f].prototype)for(c in t){if(p=t[c],d=e.dontCallGetSet?(h=r(n,c))&&h.value:n[c],!u(_?c:f+(v?".":"#")+c,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(n,c,p,e)}}},8462:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},3178:(e,t,n)=>{"use strict";var i=n(5020),r=Function.prototype,a=r.apply,o=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(a):function(){return o.apply(a,arguments)})},2038:(e,t,n)=>{"use strict";var i=n(1992),r=n(8117),a=n(5020),o=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:a?o(e,t):function(){return e.apply(t,arguments)}}},5020:(e,t,n)=>{"use strict";var i=n(8462);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},7609:(e,t,n)=>{"use strict";var i=n(5020),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},63:(e,t,n)=>{"use strict";var i=n(1923),r=n(1551),a=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,s=r(a,"name"),l=s&&"something"===function(){}.name,u=s&&(!i||i&&o(a,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},252:(e,t,n)=>{"use strict";var i=n(3062),r=n(8117);e.exports=function(e,t,n){try{return i(r(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}}},1992:(e,t,n)=>{"use strict";var i=n(6892),r=n(3062);e.exports=function(e){if("Function"===i(e))return r(e)}},3062:(e,t,n)=>{"use strict";var i=n(5020),r=Function.prototype,a=r.call,o=i&&r.bind.bind(a,a);e.exports=i?o:function(e){return function(){return a.apply(e,arguments)}}},1401:(e,t,n)=>{"use strict";var i=n(7609),r=n(8173),a=n(6469),o=n(8986),s=n(2100),l=n(3743),u=n(6387),c=n(147),d=u("asyncIterator");e.exports=function(e){var t,n=a(e),u=!0,p=l(n,d);return r(p)||(p=s(n),u=!1),void 0!==p?t=i(p,n):(t=n,u=!0),a(t),o(u?t:new c(o(t)))}},2330:(e,t,n)=>{"use strict";var i=n(7609),r=n(147),a=n(6469),o=n(9072),s=n(8986),l=n(3743),u=n(6387)("asyncIterator");e.exports=function(e,t){var n=arguments.length<2?l(e,u):t;return n?a(i(n,e)):new r(s(o(e)))}},8168:(e,t,n)=>{"use strict";var i=n(1848);e.exports=function(e,t){var n=i[e],r=n&&n.prototype;return r&&r[t]}},9406:(e,t,n)=>{"use strict";var i=n(1848),r=n(8173);e.exports=function(e,t){return arguments.length<2?(n=i[e],r(n)?n:void 0):i[e]&&i[e][t];var n}},8986:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},8304:(e,t,n)=>{"use strict";var i=n(7609),r=n(6469),a=n(8986),o=n(2100);e.exports=function(e,t){t&&"string"==typeof e||r(e);var n=o(e);return a(r(void 0!==n?i(n,e):e))}},2100:(e,t,n)=>{"use strict";var i=n(1465),r=n(3743),a=n(1636),o=n(7343),s=n(6387)("iterator");e.exports=function(e){if(!a(e))return r(e,s)||r(e,"@@iterator")||o[i(e)]}},9072:(e,t,n)=>{"use strict";var i=n(7609),r=n(8117),a=n(6469),o=n(7420),s=n(2100),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?s(e):t;if(r(n))return a(i(n,e));throw new l(o(e)+" is not iterable")}},3743:(e,t,n)=>{"use strict";var i=n(8117),r=n(1636);e.exports=function(e,t){var n=e[t];return r(n)?void 0:i(n)}},1998:(e,t,n)=>{"use strict";var i=n(8117),r=n(6469),a=n(7609),o=n(6521),s=n(8986),l="Invalid size",u=RangeError,c=TypeError,d=Math.max,p=function(e,t){this.set=e,this.size=d(t,0),this.has=i(e.has),this.keys=i(e.keys)};p.prototype={getIterator:function(){return s(r(a(this.keys,this.set)))},includes:function(e){return a(this.has,this.set,e)}},e.exports=function(e){r(e);var t=+e.size;if(t!=t)throw new c(l);var n=o(t);if(n<0)throw new u(l);return new p(e,n)}},1848:function(e,t,n){"use strict";var i=function(e){return e&&e.Math===Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},1551:(e,t,n)=>{"use strict";var i=n(3062),r=n(3659),a=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(r(e),t)}},7051:e=>{"use strict";e.exports={}},2157:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},2241:(e,t,n)=>{"use strict";var i=n(9406);e.exports=i("document","documentElement")},1881:(e,t,n)=>{"use strict";var i=n(1923),r=n(8462),a=n(4446);e.exports=!i&&!r((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},2832:(e,t,n)=>{"use strict";var i=n(3062),r=n(8462),a=n(6892),o=Object,s=i("".split);e.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?s(e,""):o(e)}:o},6339:(e,t,n)=>{"use strict";var i=n(8173),r=n(9693),a=n(5273);e.exports=function(e,t,n){var o,s;return a&&i(o=t.constructor)&&o!==n&&r(s=o.prototype)&&s!==n.prototype&&a(e,s),e}},5239:(e,t,n)=>{"use strict";var i=n(3062),r=n(8173),a=n(5517),o=i(Function.toString);r(a.inspectSource)||(a.inspectSource=function(e){return o(e)}),e.exports=a.inspectSource},6001:(e,t,n)=>{"use strict";var i=n(9693),r=n(1384);e.exports=function(e,t){i(t)&&"cause"in t&&r(e,"cause",t.cause)}},2417:(e,t,n)=>{"use strict";var i,r,a,o=n(3721),s=n(1848),l=n(9693),u=n(1384),c=n(1551),d=n(5517),p=n(5612),h=n(7051),f="Object already initialized",_=s.TypeError,v=s.WeakMap;if(o||d.state){var g=d.state||(d.state=new v);g.get=g.get,g.has=g.has,g.set=g.set,i=function(e,t){if(g.has(e))throw new _(f);return t.facade=e,g.set(e,t),t},r=function(e){return g.get(e)||{}},a=function(e){return g.has(e)}}else{var m=p("state");h[m]=!0,i=function(e,t){if(c(e,m))throw new _(f);return t.facade=e,u(e,m,t),t},r=function(e){return c(e,m)?e[m]:{}},a=function(e){return c(e,m)}}e.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw new _("Incompatible receiver, "+e+" required");return n}}}},9345:(e,t,n)=>{"use strict";var i=n(6387),r=n(7343),a=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},4288:(e,t,n)=>{"use strict";var i=n(6892);e.exports=Array.isArray||function(e){return"Array"===i(e)}},4107:(e,t,n)=>{"use strict";var i=n(1465);e.exports=function(e){var t=i(e);return"BigInt64Array"===t||"BigUint64Array"===t}},8173:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},4524:(e,t,n)=>{"use strict";var i=n(3062),r=n(8462),a=n(8173),o=n(1465),s=n(9406),l=n(5239),u=function(){},c=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=i(d.exec),h=!d.test(u),f=function(e){if(!a(e))return!1;try{return c(u,[],e),!0}catch(e){return!1}},_=function(e){if(!a(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(d,l(e))}catch(e){return!0}};_.sham=!0,e.exports=!c||r((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?_:f},6124:(e,t,n)=>{"use strict";var i=n(8462),r=n(8173),a=/#|\.prototype\./,o=function(e,t){var n=l[s(e)];return n===c||n!==u&&(r(t)?i(t):!!t)},s=o.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},1636:e=>{"use strict";e.exports=function(e){return null==e}},9693:(e,t,n)=>{"use strict";var i=n(8173);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},4977:(e,t,n)=>{"use strict";var i=n(9693);e.exports=function(e){return i(e)||null===e}},4151:e=>{"use strict";e.exports=!1},9525:(e,t,n)=>{"use strict";var i=n(9406),r=n(8173),a=n(6730),o=n(5363),s=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&a(t.prototype,s(e))}},9806:(e,t,n)=>{"use strict";var i=n(7609);e.exports=function(e,t,n){for(var r,a,o=n?e:e.iterator,s=e.next;!(r=i(s,o)).done;)if(void 0!==(a=t(r.value)))return a}},2201:(e,t,n)=>{"use strict";var i=n(2038),r=n(7609),a=n(6469),o=n(7420),s=n(9345),l=n(9110),u=n(6730),c=n(9072),d=n(2100),p=n(9273),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},_=f.prototype;e.exports=function(e,t,n){var v,g,m,E,y,T,b,C=n&&n.that,S=!(!n||!n.AS_ENTRIES),A=!(!n||!n.IS_RECORD),I=!(!n||!n.IS_ITERATOR),P=!(!n||!n.INTERRUPTED),w=i(t,C),R=function(e){return v&&p(v,"normal",e),new f(!0,e)},x=function(e){return S?(a(e),P?w(e[0],e[1],R):w(e[0],e[1])):P?w(e,R):w(e)};if(A)v=e.iterator;else if(I)v=e;else{if(!(g=d(e)))throw new h(o(e)+" is not iterable");if(s(g)){for(m=0,E=l(e);E>m;m++)if((y=x(e[m]))&&u(_,y))return y;return new f(!1)}v=c(e,g)}for(T=A?e.next:v.next;!(b=r(T,v)).done;){try{y=x(b.value)}catch(e){p(v,"throw",e)}if("object"==typeof y&&y&&u(_,y))return y}return new f(!1)}},9273:(e,t,n)=>{"use strict";var i=n(7609),r=n(6469),a=n(3743);e.exports=function(e,t,n){var o,s;r(e);try{if(!(o=a(e,"return"))){if("throw"===t)throw n;return n}o=i(o,e)}catch(e){s=!0,o=e}if("throw"===t)throw n;if(s)throw o;return r(o),n}},2160:(e,t,n)=>{"use strict";var i=n(7609),r=n(9543),a=n(1384),o=n(8881),s=n(6387),l=n(2417),u=n(3743),c=n(7092).IteratorPrototype,d=n(9462),p=n(9273),h=s("toStringTag"),f="IteratorHelper",_="WrapForValidIterator",v=l.set,g=function(e){var t=l.getterFor(e?_:f);return o(r(c),{next:function(){var n=t(this);if(e)return n.nextHandler();try{var i=n.done?void 0:n.nextHandler();return d(i,n.done)}catch(e){throw n.done=!0,e}},return:function(){var n=t(this),r=n.iterator;if(n.done=!0,e){var a=u(r,"return");return a?i(a,r):d(void 0,!0)}if(n.inner)try{p(n.inner.iterator,"normal")}catch(e){return p(r,"throw",e)}return p(r,"normal"),d(void 0,!0)}})},m=g(!0),E=g(!1);a(E,h,"Iterator Helper"),e.exports=function(e,t){var n=function(n,i){i?(i.iterator=n.iterator,i.next=n.next):i=n,i.type=t?_:f,i.nextHandler=e,i.counter=0,i.done=!1,v(this,i)};return n.prototype=t?m:E,n}},2563:(e,t,n)=>{"use strict";var i=n(7609),r=n(8117),a=n(6469),o=n(8986),s=n(2160),l=n(9832),u=s((function(){var e=this.iterator,t=a(i(this.next,e));if(!(this.done=!!t.done))return l(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return a(this),r(e),new u(o(this),{mapper:e})}},7092:(e,t,n)=>{"use strict";var i,r,a,o=n(8462),s=n(8173),l=n(9693),u=n(9543),c=n(4483),d=n(5953),p=n(6387),h=n(4151),f=p("iterator"),_=!1;[].keys&&("next"in(a=[].keys())?(r=c(c(a)))!==Object.prototype&&(i=r):_=!0),!l(i)||o((function(){var e={};return i[f].call(e)!==e}))?i={}:h&&(i=u(i)),s(i[f])||d(i,f,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:_}},7343:e=>{"use strict";e.exports={}},9110:(e,t,n)=>{"use strict";var i=n(4233);e.exports=function(e){return i(e.length)}},1704:(e,t,n)=>{"use strict";var i=n(3062),r=n(8462),a=n(8173),o=n(1551),s=n(1923),l=n(63).CONFIGURABLE,u=n(5239),c=n(2417),d=c.enforce,p=c.get,h=String,f=Object.defineProperty,_=i("".slice),v=i("".replace),g=i([].join),m=s&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),E=String(String).split("String"),y=e.exports=function(e,t,n){"Symbol("===_(h(t),0,7)&&(t="["+v(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||l&&e.name!==t)&&(s?f(e,"name",{value:t,configurable:!0}):e.name=t),m&&n&&o(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=d(e);return o(i,"source")||(i.source=g(E,"string"==typeof t?t:"")),e};Function.prototype.toString=y((function(){return a(this)&&p(this).source||u(this)}),"toString")},7741:(e,t,n)=>{"use strict";var i=n(3062),r=Map.prototype;e.exports={Map:Map,set:i(r.set),get:i(r.get),has:i(r.has),remove:i(r.delete),proto:r}},9344:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},5684:(e,t,n)=>{"use strict";var i,r,a,o,s,l=n(1848),u=n(5512),c=n(2038),d=n(4320).set,p=n(5141),h=n(9823),f=n(9788),_=n(2027),v=n(2409),g=l.MutationObserver||l.WebKitMutationObserver,m=l.document,E=l.process,y=l.Promise,T=u("queueMicrotask");if(!T){var b=new p,C=function(){var e,t;for(v&&(e=E.domain)&&e.exit();t=b.get();)try{t()}catch(e){throw b.head&&i(),e}e&&e.enter()};h||v||_||!g||!m?!f&&y&&y.resolve?((o=y.resolve(void 0)).constructor=y,s=c(o.then,o),i=function(){s(C)}):v?i=function(){E.nextTick(C)}:(d=c(d,l),i=function(){d(C)}):(r=!0,a=m.createTextNode(""),new g(C).observe(a,{characterData:!0}),i=function(){a.data=r=!r}),T=function(e){b.head||i(),b.add(e)}}e.exports=T},8326:(e,t,n)=>{"use strict";var i=n(8117),r=TypeError,a=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw new r("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new a(e)}},9766:(e,t,n)=>{"use strict";var i=n(5774);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},8428:e=>{"use strict";var t=RangeError;e.exports=function(e){if(e==e)return e;throw new t("NaN is not allowed")}},9543:(e,t,n)=>{"use strict";var i,r=n(6469),a=n(1981),o=n(7094),s=n(7051),l=n(2241),u=n(4446),c=n(5612),d="prototype",p="script",h=c("IE_PROTO"),f=function(){},_=function(e){return"<"+p+">"+e+"</"+p+">"},v=function(e){e.write(_("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;g="undefined"!=typeof document?document.domain&&i?v(i):(t=u("iframe"),n="java"+p+":",t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(_("document.F=Object")),e.close(),e.F):v(i);for(var r=o.length;r--;)delete g[d][o[r]];return g()};s[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f[d]=r(e),n=new f,f[d]=null,n[h]=e):n=g(),void 0===t?n:a.f(n,t)}},1981:(e,t,n)=>{"use strict";var i=n(1923),r=n(2552),a=n(615),o=n(6469),s=n(8632),l=n(5923);t.f=i&&!r?Object.defineProperties:function(e,t){o(e);for(var n,i=s(t),r=l(t),u=r.length,c=0;u>c;)a.f(e,n=r[c++],i[n]);return e}},615:(e,t,n)=>{"use strict";var i=n(1923),r=n(1881),a=n(2552),o=n(6469),s=n(7445),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";t.f=i?a?function(e,t,n){if(o(e),t=s(t),o(n),"function"==typeof e&&"prototype"===t&&"value"in n&&h in n&&!n[h]){var i=c(e,t);i&&i[h]&&(e[t]=n.value,n={configurable:p in n?n[p]:i[p],enumerable:d in n?n[d]:i[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(o(e),t=s(t),o(n),r)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},5983:(e,t,n)=>{"use strict";var i=n(1923),r=n(7609),a=n(6146),o=n(4127),s=n(8632),l=n(7445),u=n(1551),c=n(1881),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return o(!r(a.f,e,t),e[t])}},1010:(e,t,n)=>{"use strict";var i=n(6866),r=n(7094).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},436:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},4483:(e,t,n)=>{"use strict";var i=n(1551),r=n(8173),a=n(3659),o=n(5612),s=n(7712),l=o("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=a(e);if(i(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},6730:(e,t,n)=>{"use strict";var i=n(3062);e.exports=i({}.isPrototypeOf)},6866:(e,t,n)=>{"use strict";var i=n(3062),r=n(1551),a=n(8632),o=n(4158).indexOf,s=n(7051),l=i([].push);e.exports=function(e,t){var n,i=a(e),u=0,c=[];for(n in i)!r(s,n)&&r(i,n)&&l(c,n);for(;t.length>u;)r(i,n=t[u++])&&(~o(c,n)||l(c,n));return c}},5923:(e,t,n)=>{"use strict";var i=n(6866),r=n(7094);e.exports=Object.keys||function(e){return i(e,r)}},6146:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},5273:(e,t,n)=>{"use strict";var i=n(252),r=n(9693),a=n(170),o=n(8924);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return a(n),o(i),r(n)?(t?e(n,i):n.__proto__=i,n):n}}():void 0)},3613:(e,t,n)=>{"use strict";var i=n(7609),r=n(8173),a=n(9693),o=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&r(n=e.toString)&&!a(s=i(n,e)))return s;if(r(n=e.valueOf)&&!a(s=i(n,e)))return s;if("string"!==t&&r(n=e.toString)&&!a(s=i(n,e)))return s;throw new o("Can't convert object to primitive value")}},3349:(e,t,n)=>{"use strict";var i=n(9406),r=n(3062),a=n(1010),o=n(436),s=n(6469),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=a.f(s(e)),n=o.f;return n?l(t,n(e)):t}},3448:(e,t,n)=>{"use strict";var i=n(1848);e.exports=i},1689:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},1495:(e,t,n)=>{"use strict";var i=n(1848),r=n(4243),a=n(8173),o=n(6124),s=n(5239),l=n(6387),u=n(1558),c=n(4151),d=n(9255),p=r&&r.prototype,h=l("species"),f=!1,_=a(i.PromiseRejectionEvent),v=o("Promise",(function(){var e=s(r),t=e!==String(r);if(!t&&66===d)return!0;if(c&&(!p.catch||!p.finally))return!0;if(!d||d<51||!/native code/.test(e)){var n=new r((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};if((n.constructor={})[h]=i,!(f=n.then((function(){}))instanceof i))return!0}return!(t||"BROWSER"!==u&&"DENO"!==u||_)}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:_,SUBCLASSING:f}},4243:(e,t,n)=>{"use strict";var i=n(1848);e.exports=i.Promise},1128:(e,t,n)=>{"use strict";var i=n(6469),r=n(9693),a=n(8326);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},7019:(e,t,n)=>{"use strict";var i=n(4243),r=n(4912),a=n(1495).CONSTRUCTOR;e.exports=a||!r((function(e){i.all(e).then(void 0,(function(){}))}))},4279:(e,t,n)=>{"use strict";var i=n(615).f;e.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},5141:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},7834:(e,t,n)=>{"use strict";var i=n(6469);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},170:(e,t,n)=>{"use strict";var i=n(1636),r=TypeError;e.exports=function(e){if(i(e))throw new r("Can't call method on "+e);return e}},5512:(e,t,n)=>{"use strict";var i=n(1848),r=n(1923),a=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!r)return i[e];var t=a(i,e);return t&&t.value}},929:(e,t,n)=>{"use strict";var i=n(3840),r=n(2745),a=i.Set,o=i.add;e.exports=function(e){var t=new a;return r(e,(function(e){o(t,e)})),t}},9864:(e,t,n)=>{"use strict";var i=n(6016),r=n(3840),a=n(929),o=n(5179),s=n(1998),l=n(2745),u=n(9806),c=r.has,d=r.remove;e.exports=function(e){var t=i(this),n=s(e),r=a(t);return o(t)<=n.size?l(t,(function(e){n.includes(e)&&d(r,e)})):u(n.getIterator(),(function(e){c(t,e)&&d(r,e)})),r}},3840:(e,t,n)=>{"use strict";var i=n(3062),r=Set.prototype;e.exports={Set:Set,add:i(r.add),has:i(r.has),remove:i(r.delete),proto:r}},374:(e,t,n)=>{"use strict";var i=n(6016),r=n(3840),a=n(5179),o=n(1998),s=n(2745),l=n(9806),u=r.Set,c=r.add,d=r.has;e.exports=function(e){var t=i(this),n=o(e),r=new u;return a(t)>n.size?l(n.getIterator(),(function(e){d(t,e)&&c(r,e)})):s(t,(function(e){n.includes(e)&&c(r,e)})),r}},7735:(e,t,n)=>{"use strict";var i=n(6016),r=n(3840).has,a=n(5179),o=n(1998),s=n(2745),l=n(9806),u=n(9273);e.exports=function(e){var t=i(this),n=o(e);if(a(t)<=n.size)return!1!==s(t,(function(e){if(n.includes(e))return!1}),!0);var c=n.getIterator();return!1!==l(c,(function(e){if(r(t,e))return u(c,"normal",!1)}))}},6274:(e,t,n)=>{"use strict";var i=n(6016),r=n(5179),a=n(2745),o=n(1998);e.exports=function(e){var t=i(this),n=o(e);return!(r(t)>n.size)&&!1!==a(t,(function(e){if(!n.includes(e))return!1}),!0)}},9749:(e,t,n)=>{"use strict";var i=n(6016),r=n(3840).has,a=n(5179),o=n(1998),s=n(9806),l=n(9273);e.exports=function(e){var t=i(this),n=o(e);if(a(t)<n.size)return!1;var u=n.getIterator();return!1!==s(u,(function(e){if(!r(t,e))return l(u,"normal",!1)}))}},2745:(e,t,n)=>{"use strict";var i=n(3062),r=n(9806),a=n(3840),o=a.Set,s=a.proto,l=i(s.forEach),u=i(s.keys),c=u(new o).next;e.exports=function(e,t,n){return n?r({iterator:u(e),next:c},t):l(e,t)}},4435:(e,t,n)=>{"use strict";var i=n(9406),r=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=i("Set");try{(new t)[e](r(0));try{return(new t)[e](r(-1)),!1}catch(e){return!0}}catch(e){return!1}}},5179:(e,t,n)=>{"use strict";var i=n(252),r=n(3840);e.exports=i(r.proto,"size","get")||function(e){return e.size}},5539:(e,t,n)=>{"use strict";var i=n(9406),r=n(6248),a=n(6387),o=n(1923),s=a("species");e.exports=function(e){var t=i(e);o&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},3285:(e,t,n)=>{"use strict";var i=n(6016),r=n(3840),a=n(929),o=n(1998),s=n(9806),l=r.add,u=r.has,c=r.remove;e.exports=function(e){var t=i(this),n=o(e).getIterator(),r=a(t);return s(n,(function(e){u(t,e)?c(r,e):l(r,e)})),r}},6988:(e,t,n)=>{"use strict";var i=n(615).f,r=n(1551),a=n(6387)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,a)&&i(e,a,{configurable:!0,value:t})}},2394:(e,t,n)=>{"use strict";var i=n(6016),r=n(3840).add,a=n(929),o=n(1998),s=n(9806);e.exports=function(e){var t=i(this),n=o(e).getIterator(),l=a(t);return s(n,(function(e){r(l,e)})),l}},5612:(e,t,n)=>{"use strict";var i=n(6231),r=n(4229),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},5517:(e,t,n)=>{"use strict";var i=n(4151),r=n(1848),a=n(3958),o="__core-js_shared__",s=e.exports=r[o]||a(o,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:i?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6231:(e,t,n)=>{"use strict";var i=n(5517);e.exports=function(e,t){return i[e]||(i[e]=t||{})}},9675:(e,t,n)=>{"use strict";var i=n(6469),r=n(6270),a=n(1636),o=n(6387)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||a(n=i(s)[o])?t:r(n)}},444:(e,t,n)=>{"use strict";var i=n(9255),r=n(8462),a=n(1848).String;e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},4320:(e,t,n)=>{"use strict";var i,r,a,o,s=n(1848),l=n(3178),u=n(2038),c=n(8173),d=n(1551),p=n(8462),h=n(2241),f=n(7706),_=n(4446),v=n(4315),g=n(9823),m=n(2409),E=s.setImmediate,y=s.clearImmediate,T=s.process,b=s.Dispatch,C=s.Function,S=s.MessageChannel,A=s.String,I=0,P={},w="onreadystatechange";p((function(){i=s.location}));var R=function(e){if(d(P,e)){var t=P[e];delete P[e],t()}},x=function(e){return function(){R(e)}},O=function(e){R(e.data)},N=function(e){s.postMessage(A(e),i.protocol+"//"+i.host)};E&&y||(E=function(e){v(arguments.length,1);var t=c(e)?e:C(e),n=f(arguments,1);return P[++I]=function(){l(t,void 0,n)},r(I),I},y=function(e){delete P[e]},m?r=function(e){T.nextTick(x(e))}:b&&b.now?r=function(e){b.now(x(e))}:S&&!g?(o=(a=new S).port2,a.port1.onmessage=O,r=u(o.postMessage,o)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&i&&"file:"!==i.protocol&&!p(N)?(r=N,s.addEventListener("message",O,!1)):r=w in _("script")?function(e){h.appendChild(_("script"))[w]=function(){h.removeChild(this),R(e)}}:function(e){setTimeout(x(e),0)}),e.exports={set:E,clear:y}},3663:(e,t,n)=>{"use strict";var i=n(6521),r=Math.max,a=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},3442:(e,t,n)=>{"use strict";var i=n(5124),r=TypeError;e.exports=function(e){var t=i(e,"number");if("number"==typeof t)throw new r("Can't convert number to bigint");return BigInt(t)}},8632:(e,t,n)=>{"use strict";var i=n(2832),r=n(170);e.exports=function(e){return i(r(e))}},6521:(e,t,n)=>{"use strict";var i=n(9344);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},4233:(e,t,n)=>{"use strict";var i=n(6521),r=Math.min;e.exports=function(e){var t=i(e);return t>0?r(t,9007199254740991):0}},3659:(e,t,n)=>{"use strict";var i=n(170),r=Object;e.exports=function(e){return r(i(e))}},815:(e,t,n)=>{"use strict";var i=n(3657),r=RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw new r("Wrong offset");return n}},3657:(e,t,n)=>{"use strict";var i=n(6521),r=RangeError;e.exports=function(e){var t=i(e);if(t<0)throw new r("The argument can't be less than 0");return t}},5124:(e,t,n)=>{"use strict";var i=n(7609),r=n(9693),a=n(9525),o=n(3743),s=n(3613),l=n(6387),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!r(e)||a(e))return e;var n,l=o(e,c);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!r(n)||a(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},7445:(e,t,n)=>{"use strict";var i=n(5124),r=n(9525);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},1326:(e,t,n)=>{"use strict";var i={};i[n(6387)("toStringTag")]="z",e.exports="[object z]"===String(i)},5774:(e,t,n)=>{"use strict";var i=n(1465),r=String;e.exports=function(e){if("Symbol"===i(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},7420:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4229:(e,t,n)=>{"use strict";var i=n(3062),r=0,a=Math.random(),o=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++r+a,36)}},5363:(e,t,n)=>{"use strict";var i=n(444);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2552:(e,t,n)=>{"use strict";var i=n(1923),r=n(8462);e.exports=i&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4315:e=>{"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},3721:(e,t,n)=>{"use strict";var i=n(1848),r=n(8173),a=i.WeakMap;e.exports=r(a)&&/native code/.test(String(a))},6220:(e,t,n)=>{"use strict";var i=n(3448),r=n(1551),a=n(294),o=n(615).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||o(t,e,{value:a.f(e)})}},294:(e,t,n)=>{"use strict";var i=n(6387);t.f=i},6387:(e,t,n)=>{"use strict";var i=n(1848),r=n(6231),a=n(1551),o=n(4229),s=n(444),l=n(5363),u=i.Symbol,c=r("wks"),d=l?u.for||u:u&&u.withoutSetter||o;e.exports=function(e){return a(c,e)||(c[e]=s&&a(u,e)?u[e]:d("Symbol."+e)),c[e]}},3649:(e,t,n)=>{"use strict";var i=n(9406),r=n(1551),a=n(1384),o=n(6730),s=n(5273),l=n(744),u=n(4279),c=n(6339),d=n(9766),p=n(6001),h=n(2519),f=n(1923),_=n(4151);e.exports=function(e,t,n,v){var g="stackTraceLimit",m=v?2:1,E=e.split("."),y=E[E.length-1],T=i.apply(null,E);if(T){var b=T.prototype;if(!_&&r(b,"cause")&&delete b.cause,!n)return T;var C=i("Error"),S=t((function(e,t){var n=d(v?t:e,void 0),i=v?new T(e):new T;return void 0!==n&&a(i,"message",n),h(i,S,i.stack,2),this&&o(b,this)&&c(i,this,S),arguments.length>m&&p(i,arguments[m]),i}));if(S.prototype=b,"Error"!==y?s?s(S,C):l(S,C,{name:!0}):f&&g in T&&(u(S,T,g),u(S,T,"prepareStackTrace")),l(S,T),!_)try{b.name!==y&&a(b,"name",y),b.constructor=S}catch(e){}return S}}},7311:(e,t,n)=>{"use strict";var i=n(4395),r=n(9406),a=n(3178),o=n(8462),s=n(3649),l="AggregateError",u=r(l),c=!o((function(){return 1!==u([1]).errors[0]}))&&o((function(){return 7!==u([1],l,{cause:7}).cause}));i({global:!0,constructor:!0,arity:2,forced:c},{AggregateError:s(l,(function(e){return function(t,n){return a(e,this,arguments)}}),c,!0)})},4240:(e,t,n)=>{"use strict";var i=n(4395),r=n(3659),a=n(9110),o=n(6521),s=n(2890);i({target:"Array",proto:!0},{at:function(e){var t=r(this),n=a(t),i=o(e),s=i>=0?i:n+i;return s<0||s>=n?void 0:t[s]}}),s("at")},3509:(e,t,n)=>{"use strict";var i=n(4395),r=n(2008).findLastIndex,a=n(2890);i({target:"Array",proto:!0},{findLastIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLastIndex")},7119:(e,t,n)=>{"use strict";var i=n(4395),r=n(2008).findLast,a=n(2890);i({target:"Array",proto:!0},{findLast:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findLast")},2004:(e,t,n)=>{"use strict";var i=n(4395),r=n(3659),a=n(9110),o=n(7826),s=n(8475);i({target:"Array",proto:!0,arity:1,forced:n(8462)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=r(this),n=a(t),i=arguments.length;s(n+i);for(var l=0;l<i;l++)t[n]=arguments[l],n++;return o(t,n),n}})},7855:(e,t,n)=>{"use strict";var i=n(4395),r=n(459),a=n(8632),o=n(2890),s=Array;i({target:"Array",proto:!0},{toReversed:function(){return r(a(this),s)}}),o("toReversed")},2665:(e,t,n)=>{"use strict";var i=n(4395),r=n(3062),a=n(8117),o=n(8632),s=n(2239),l=n(8168),u=n(2890),c=Array,d=r(l("Array","sort"));i({target:"Array",proto:!0},{toSorted:function(e){void 0!==e&&a(e);var t=o(this),n=s(c,t);return d(n,e)}}),u("toSorted")},9772:(e,t,n)=>{"use strict";var i=n(4395),r=n(2890),a=n(8475),o=n(9110),s=n(3663),l=n(8632),u=n(6521),c=Array,d=Math.max,p=Math.min;i({target:"Array",proto:!0},{toSpliced:function(e,t){var n,i,r,h,f=l(this),_=o(f),v=s(e,_),g=arguments.length,m=0;for(0===g?n=i=0:1===g?(n=0,i=_-v):(n=g-2,i=p(d(u(t),0),_-v)),r=a(_+n-i),h=c(r);m<v;m++)h[m]=f[m];for(;m<v+n;m++)h[m]=arguments[m-v+2];for(;m<r;m++)h[m]=f[m+i-n];return h}}),r("toSpliced")},8971:(e,t,n)=>{"use strict";var i=n(4395),r=n(3659),a=n(9110),o=n(7826),s=n(5588),l=n(8475);i({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=r(this),n=a(t),i=arguments.length;if(i){l(n+i);for(var u=n;u--;){var c=u+i;u in t?t[c]=t[u]:s(t,c)}for(var d=0;d<i;d++)t[d]=arguments[d]}return o(t,n+i)}})},8135:(e,t,n)=>{"use strict";var i=n(4395),r=n(1403),a=n(8632),o=Array;i({target:"Array",proto:!0},{with:function(e,t){return r(a(this),o,e,t)}})},1474:(e,t,n)=>{"use strict";var i=n(4395),r=n(1848),a=n(3178),o=n(3649),s="WebAssembly",l=r[s],u=7!==new Error("e",{cause:7}).cause,c=function(e,t){var n={};n[e]=o(e,t,u),i({global:!0,constructor:!0,arity:1,forced:u},n)},d=function(e,t){if(l&&l[e]){var n={};n[e]=o(s+"."+e,t,u),i({target:s,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(e){return function(t){return a(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),c("URIError",(function(e){return function(t){return a(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},8140:(e,t,n)=>{"use strict";n(4395)({target:"Object",stat:!0},{hasOwn:n(1551)})},5164:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(8117),o=n(8326),s=n(1689),l=n(2201);i({target:"Promise",stat:!0,forced:n(7019)},{allSettled:function(e){var t=this,n=o.f(t),i=n.resolve,u=n.reject,c=s((function(){var n=a(t.resolve),o=[],s=0,u=1;l(e,(function(e){var a=s++,l=!1;u++,r(n,t,e).then((function(e){l||(l=!0,o[a]={status:"fulfilled",value:e},--u||i(o))}),(function(e){l||(l=!0,o[a]={status:"rejected",reason:e},--u||i(o))}))})),--u||i(o)}));return c.error&&u(c.value),n.promise}})},4125:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(8117),o=n(8326),s=n(1689),l=n(2201);i({target:"Promise",stat:!0,forced:n(7019)},{all:function(e){var t=this,n=o.f(t),i=n.resolve,u=n.reject,c=s((function(){var n=a(t.resolve),o=[],s=0,c=1;l(e,(function(e){var a=s++,l=!1;c++,r(n,t,e).then((function(e){l||(l=!0,o[a]=e,--c||i(o))}),u)})),--c||i(o)}));return c.error&&u(c.value),n.promise}})},6406:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(8117),o=n(9406),s=n(8326),l=n(1689),u=n(2201),c=n(7019),d="No one promise resolved";i({target:"Promise",stat:!0,forced:c},{any:function(e){var t=this,n=o("AggregateError"),i=s.f(t),c=i.resolve,p=i.reject,h=l((function(){var i=a(t.resolve),o=[],s=0,l=1,h=!1;u(e,(function(e){var a=s++,u=!1;l++,r(i,t,e).then((function(e){u||h||(h=!0,c(e))}),(function(e){u||h||(u=!0,o[a]=e,--l||p(new n(o,d)))}))})),--l||p(new n(o,d))}));return h.error&&p(h.value),i.promise}})},8525:(e,t,n)=>{"use strict";var i=n(4395),r=n(4151),a=n(1495).CONSTRUCTOR,o=n(4243),s=n(9406),l=n(8173),u=n(5953),c=o&&o.prototype;if(i({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&l(o)){var d=s("Promise").prototype.catch;c.catch!==d&&u(c,"catch",d,{unsafe:!0})}},1382:(e,t,n)=>{"use strict";var i,r,a,o=n(4395),s=n(4151),l=n(2409),u=n(1848),c=n(7609),d=n(5953),p=n(5273),h=n(6988),f=n(5539),_=n(8117),v=n(8173),g=n(9693),m=n(1747),E=n(9675),y=n(4320).set,T=n(5684),b=n(2157),C=n(1689),S=n(5141),A=n(2417),I=n(4243),P=n(1495),w=n(8326),R="Promise",x=P.CONSTRUCTOR,O=P.REJECTION_EVENT,N=P.SUBCLASSING,D=A.getterFor(R),k=A.set,L=I&&I.prototype,M=I,B=L,F=u.TypeError,V=u.document,W=u.process,U=w.f,$=U,G=!!(V&&V.createEvent&&u.dispatchEvent),Z="unhandledrejection",H=function(e){var t;return!(!g(e)||!v(t=e.then))&&t},z=function(e,t){var n,i,r,a=t.value,o=1===t.state,s=o?e.ok:e.fail,l=e.resolve,u=e.reject,d=e.domain;try{s?(o||(2===t.rejection&&q(t),t.rejection=1),!0===s?n=a:(d&&d.enter(),n=s(a),d&&(d.exit(),r=!0)),n===e.promise?u(new F("Promise-chain cycle")):(i=H(n))?c(i,n,l,u):l(n)):u(a)}catch(e){d&&!r&&d.exit(),u(e)}},j=function(e,t){e.notified||(e.notified=!0,T((function(){for(var n,i=e.reactions;n=i.get();)z(n,e);e.notified=!1,t&&!e.rejection&&K(e)})))},Y=function(e,t,n){var i,r;G?((i=V.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),u.dispatchEvent(i)):i={promise:t,reason:n},!O&&(r=u["on"+e])?r(i):e===Z&&b("Unhandled promise rejection",n)},K=function(e){c(y,u,(function(){var t,n=e.facade,i=e.value;if(X(e)&&(t=C((function(){l?W.emit("unhandledRejection",i,n):Y(Z,n,i)})),e.rejection=l||X(e)?2:1,t.error))throw t.value}))},X=function(e){return 1!==e.rejection&&!e.parent},q=function(e){c(y,u,(function(){var t=e.facade;l?W.emit("rejectionHandled",t):Y("rejectionhandled",t,e.value)}))},J=function(e,t,n){return function(i){e(t,i,n)}},Q=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,j(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new F("Promise can't be resolved itself");var i=H(t);i?T((function(){var n={done:!1};try{c(i,t,J(ee,n,e),J(Q,n,e))}catch(t){Q(n,t,e)}})):(e.value=t,e.state=1,j(e,!1))}catch(t){Q({done:!1},t,e)}}};if(x&&(B=(M=function(e){m(this,B),_(e),c(i,this);var t=D(this);try{e(J(ee,t),J(Q,t))}catch(e){Q(t,e)}}).prototype,(i=function(e){k(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:null})}).prototype=d(B,"then",(function(e,t){var n=D(this),i=U(E(this,M));return n.parent=!0,i.ok=!v(e)||e,i.fail=v(t)&&t,i.domain=l?W.domain:void 0,0===n.state?n.reactions.add(i):T((function(){z(i,n)})),i.promise})),r=function(){var e=new i,t=D(e);this.promise=e,this.resolve=J(ee,t),this.reject=J(Q,t)},w.f=U=function(e){return e===M||undefined===e?new r(e):$(e)},!s&&v(I)&&L!==Object.prototype)){a=L.then,N||d(L,"then",(function(e,t){var n=this;return new M((function(e,t){c(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(e){}p&&p(L,B)}o({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:M}),h(M,R,!1,!0),f(R)},1410:(e,t,n)=>{"use strict";var i=n(4395),r=n(4151),a=n(4243),o=n(8462),s=n(9406),l=n(8173),u=n(9675),c=n(1128),d=n(5953),p=a&&a.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n=l(e);return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),!r&&l(a)){var h=s("Promise").prototype.finally;p.finally!==h&&d(p,"finally",h,{unsafe:!0})}},7788:(e,t,n)=>{"use strict";n(1382),n(4125),n(8525),n(4832),n(1050),n(2529)},4832:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(8117),o=n(8326),s=n(1689),l=n(2201);i({target:"Promise",stat:!0,forced:n(7019)},{race:function(e){var t=this,n=o.f(t),i=n.reject,u=s((function(){var o=a(t.resolve);l(e,(function(e){r(o,t,e).then(n.resolve,i)}))}));return u.error&&i(u.value),n.promise}})},1050:(e,t,n)=>{"use strict";var i=n(4395),r=n(8326);i({target:"Promise",stat:!0,forced:n(1495).CONSTRUCTOR},{reject:function(e){var t=r.f(this);return(0,t.reject)(e),t.promise}})},2529:(e,t,n)=>{"use strict";var i=n(4395),r=n(9406),a=n(4151),o=n(4243),s=n(1495).CONSTRUCTOR,l=n(1128),u=r("Promise"),c=a&&!s;i({target:"Promise",stat:!0,forced:a||s},{resolve:function(e){return l(c&&this===u?o:this,e)}})},7638:(e,t,n)=>{"use strict";var i=n(1848),r=n(1923),a=n(6248),o=n(7834),s=n(8462),l=i.RegExp,u=l.prototype;r&&s((function(){var e=!0;try{l(".","d")}catch(t){e=!1}var t={},n="",i=e?"dgimsy":"gimsy",r=function(e,i){Object.defineProperty(t,e,{get:function(){return n+=i,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(a.hasIndices="d"),a)r(o,a[o]);return Object.getOwnPropertyDescriptor(u,"flags").get.call(t)!==i||n!==i}))&&a(u,"flags",{configurable:!0,get:o})},9983:(e,t,n)=>{"use strict";var i=n(4395),r=n(9864);i({target:"Set",proto:!0,real:!0,forced:!n(4435)("difference")},{difference:r})},6276:(e,t,n)=>{"use strict";var i=n(4395),r=n(8462),a=n(374);i({target:"Set",proto:!0,real:!0,forced:!n(4435)("intersection")||r((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:a})},9297:(e,t,n)=>{"use strict";var i=n(4395),r=n(7735);i({target:"Set",proto:!0,real:!0,forced:!n(4435)("isDisjointFrom")},{isDisjointFrom:r})},6816:(e,t,n)=>{"use strict";var i=n(4395),r=n(6274);i({target:"Set",proto:!0,real:!0,forced:!n(4435)("isSubsetOf")},{isSubsetOf:r})},6756:(e,t,n)=>{"use strict";var i=n(4395),r=n(9749);i({target:"Set",proto:!0,real:!0,forced:!n(4435)("isSupersetOf")},{isSupersetOf:r})},960:(e,t,n)=>{"use strict";var i=n(4395),r=n(3285);i({target:"Set",proto:!0,real:!0,forced:!n(4435)("symmetricDifference")},{symmetricDifference:r})},9301:(e,t,n)=>{"use strict";var i=n(4395),r=n(2394);i({target:"Set",proto:!0,real:!0,forced:!n(4435)("union")},{union:r})},6303:(e,t,n)=>{"use strict";var i=n(4395),r=n(3062),a=n(170),o=n(6521),s=n(5774),l=n(8462),u=r("".charAt);i({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(a(this)),n=t.length,i=o(e),r=i>=0?i:n+i;return r<0||r>=n?void 0:u(t,r)}})},1516:(e,t,n)=>{"use strict";var i=n(4395),r=n(3062),a=n(170),o=n(5774),s=r("".charCodeAt);i({target:"String",proto:!0},{isWellFormed:function(){for(var e=o(a(this)),t=e.length,n=0;n<t;n++){var i=s(e,n);if(55296==(63488&i)&&(i>=56320||++n>=t||56320!=(64512&s(e,n))))return!1}return!0}})},705:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(3062),o=n(170),s=n(5774),l=n(8462),u=Array,c=a("".charAt),d=a("".charCodeAt),p=a([].join),h="".toWellFormed,f=h&&l((function(){return"1"!==r(h,1)}));i({target:"String",proto:!0,forced:f},{toWellFormed:function(){var e=s(o(this));if(f)return r(h,e);for(var t=e.length,n=u(t),i=0;i<t;i++){var a=d(e,i);55296!=(63488&a)?n[i]=c(e,i):a>=56320||i+1>=t||56320!=(64512&d(e,i+1))?n[i]="�":(n[i]=c(e,i),n[++i]=c(e,i))}return p(n,"")}})},1825:(e,t,n)=>{"use strict";var i=n(1759),r=n(9110),a=n(6521),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("at",(function(e){var t=o(this),n=r(t),i=a(e),s=i>=0?i:n+i;return s<0||s>=n?void 0:t[s]}))},2220:(e,t,n)=>{"use strict";var i=n(1759),r=n(1180),a=n(3442),o=n(1465),s=n(7609),l=n(3062),u=n(8462),c=i.aTypedArray,d=i.exportTypedArrayMethod,p=l("".slice);d("fill",(function(e){var t=arguments.length;c(this);var n="Big"===p(o(this),0,3)?a(e):+e;return s(r,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),u((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},4774:(e,t,n)=>{"use strict";var i=n(1759),r=n(2008).findLastIndex,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("findLastIndex",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},1519:(e,t,n)=>{"use strict";var i=n(1759),r=n(2008).findLast,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("findLast",(function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)}))},1520:(e,t,n)=>{"use strict";var i=n(1848),r=n(7609),a=n(1759),o=n(9110),s=n(815),l=n(3659),u=n(8462),c=i.RangeError,d=i.Int8Array,p=d&&d.prototype,h=p&&p.set,f=a.aTypedArray,_=a.exportTypedArrayMethod,v=!u((function(){var e=new Uint8ClampedArray(2);return r(h,e,{length:1,0:3},1),3!==e[1]})),g=v&&a.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));_("set",(function(e){f(this);var t=s(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(v)return r(h,this,n,t);var i=this.length,a=o(n),u=0;if(a+t>i)throw new c("Wrong length");for(;u<a;)this[t+u]=n[u++]}),!v||g)},2663:(e,t,n)=>{"use strict";var i=n(1848),r=n(1992),a=n(8462),o=n(8117),s=n(9070),l=n(1759),u=n(9257),c=n(1466),d=n(9255),p=n(8560),h=l.aTypedArray,f=l.exportTypedArrayMethod,_=i.Uint16Array,v=_&&r(_.prototype.sort),g=!(!v||a((function(){v(new _(2),null)}))&&a((function(){v(new _(2),{})}))),m=!!v&&!a((function(){if(d)return d<74;if(u)return u<67;if(c)return!0;if(p)return p<602;var e,t,n=new _(516),i=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,i[e]=e-2*t+3;for(v(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==i[e])return!0}));f("sort",(function(e){return void 0!==e&&o(e),m?v(this,e):s(h(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!m||g)},8348:(e,t,n)=>{"use strict";var i=n(459),r=n(1759),a=r.aTypedArray,o=r.exportTypedArrayMethod,s=r.getTypedArrayConstructor;o("toReversed",(function(){return i(a(this),s(this))}))},3457:(e,t,n)=>{"use strict";var i=n(1759),r=n(3062),a=n(8117),o=n(2239),s=i.aTypedArray,l=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,c=r(i.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&a(e);var t=s(this),n=o(l(t),t);return c(n,e)}))},6939:(e,t,n)=>{"use strict";var i=n(1403),r=n(1759),a=n(4107),o=n(6521),s=n(3442),l=r.aTypedArray,u=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();c("with",{with:function(e,t){var n=l(this),r=o(e),c=a(n)?s(t):+t;return i(n,u(n),r,c)}}.with,!d)},5388:(e,t,n)=>{"use strict";n(4240)},1034:(e,t,n)=>{"use strict";n(3509)},5601:(e,t,n)=>{"use strict";n(7119)},5794:(e,t,n)=>{"use strict";var i=n(4395),r=n(4744),a=n(8462),o=Array.fromAsync;i({target:"Array",stat:!0,forced:!o||a((function(){var e=0;return o.call((function(){return e++,[]}),{length:0}),1!==e}))},{fromAsync:r})},1772:(e,t,n)=>{"use strict";var i=n(4395),r=n(7816),a=n(2890),o=n(3077);i({target:"Array",proto:!0,name:"groupToMap",forced:n(4151)||!r("groupByToMap")},{groupByToMap:o}),a("groupByToMap")},6384:(e,t,n)=>{"use strict";var i=n(4395),r=n(6747),a=n(7816),o=n(2890);i({target:"Array",proto:!0,forced:!a("groupBy")},{groupBy:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("groupBy")},2802:(e,t,n)=>{"use strict";var i=n(4395),r=n(2890),a=n(3077);i({target:"Array",proto:!0,forced:n(4151)},{groupToMap:a}),r("groupToMap")},2985:(e,t,n)=>{"use strict";var i=n(4395),r=n(6747),a=n(2890);i({target:"Array",proto:!0},{group:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("group")},69:(e,t,n)=>{"use strict";n(7855)},6750:(e,t,n)=>{"use strict";n(2665)},6062:(e,t,n)=>{"use strict";n(9772)},3131:(e,t,n)=>{"use strict";n(8135)},4752:(e,t,n)=>{"use strict";var i=n(4395),r=n(1747),a=n(4483),o=n(1384),s=n(1551),l=n(6387),u=n(2179),c=n(4151),d=l("toStringTag"),p=TypeError,h=function(){if(r(this,u),a(this)===u)throw new p("Abstract class AsyncIterator not directly constructable")};h.prototype=u,s(u,d)||o(u,d,"AsyncIterator"),!c&&s(u,"constructor")&&u.constructor!==Object||o(u,"constructor",h),i({global:!0,constructor:!0,forced:c},{AsyncIterator:h})},9435:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(6469),o=n(8986),s=n(8428),l=n(3657),u=n(9296),c=n(9462),d=n(4151),p=u((function(e){var t=this;return new e((function(n,i){var o=function(e){t.done=!0,i(e)},s=function(){try{e.resolve(a(r(t.next,t.iterator))).then((function(e){try{a(e).done?(t.done=!0,n(c(void 0,!0))):t.remaining?(t.remaining--,s()):n(c(e.value,!1))}catch(e){o(e)}}),o)}catch(e){o(e)}};s()}))}));i({target:"AsyncIterator",proto:!0,real:!0,forced:d},{drop:function(e){a(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},2886:(e,t,n)=>{"use strict";var i=n(4395),r=n(7163).every;i({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return r(this,e)}})},1139:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(8117),o=n(6469),s=n(9693),l=n(8986),u=n(9296),c=n(9462),d=n(7897),p=n(4151),h=u((function(e){var t=this,n=t.iterator,i=t.predicate;return new e((function(a,l){var u=function(e){t.done=!0,l(e)},p=function(e){d(n,u,e,u)},h=function(){try{e.resolve(o(r(t.next,n))).then((function(n){try{if(o(n).done)t.done=!0,a(c(void 0,!0));else{var r=n.value;try{var l=i(r,t.counter++),d=function(e){e?a(c(r,!1)):h()};s(l)?e.resolve(l).then(d,p):d(l)}catch(e){p(e)}}}catch(e){u(e)}}),u)}catch(e){u(e)}};h()}))}));i({target:"AsyncIterator",proto:!0,real:!0,forced:p},{filter:function(e){return o(this),a(e),new h(l(this),{predicate:e})}})},6108:(e,t,n)=>{"use strict";var i=n(4395),r=n(7163).find;i({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return r(this,e)}})},3115:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(8117),o=n(6469),s=n(9693),l=n(8986),u=n(9296),c=n(9462),d=n(1401),p=n(7897),h=n(4151),f=u((function(e){var t=this,n=t.iterator,i=t.mapper;return new e((function(a,l){var u=function(e){t.done=!0,l(e)},h=function(e){p(n,u,e,u)},f=function(){try{e.resolve(o(r(t.next,n))).then((function(n){try{if(o(n).done)t.done=!0,a(c(void 0,!0));else{var r=n.value;try{var l=i(r,t.counter++),p=function(e){try{t.inner=d(e),_()}catch(e){h(e)}};s(l)?e.resolve(l).then(p,h):p(l)}catch(e){h(e)}}}catch(e){u(e)}}),u)}catch(e){u(e)}},_=function(){var n=t.inner;if(n)try{e.resolve(o(r(n.next,n.iterator))).then((function(e){try{o(e).done?(t.inner=null,f()):a(c(e.value,!1))}catch(e){h(e)}}),h)}catch(e){h(e)}else f()};_()}))}));i({target:"AsyncIterator",proto:!0,real:!0,forced:h},{flatMap:function(e){return o(this),a(e),new f(l(this),{mapper:e,inner:null})}})},7389:(e,t,n)=>{"use strict";var i=n(4395),r=n(7163).forEach;i({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return r(this,e)}})},4085:(e,t,n)=>{"use strict";var i=n(4395),r=n(3659),a=n(6730),o=n(1401),s=n(2179),l=n(3525);i({target:"AsyncIterator",stat:!0,forced:n(4151)},{from:function(e){var t=o("string"==typeof e?r(e):e);return a(s,t.iterator)?t.iterator:new l(t)}})},2392:(e,t,n)=>{"use strict";var i=n(4395),r=n(7073);i({target:"AsyncIterator",proto:!0,real:!0,forced:n(4151)},{map:r})},2625:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(8117),o=n(6469),s=n(9693),l=n(9406),u=n(8986),c=n(7897),d=l("Promise"),p=TypeError;i({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){o(this),a(e);var t=u(this),n=t.iterator,i=t.next,l=arguments.length<2,h=l?void 0:arguments[1],f=0;return new d((function(t,a){var u=function(e){c(n,a,e,a)},_=function(){try{d.resolve(o(r(i,n))).then((function(n){try{if(o(n).done)l?a(new p("Reduce of empty iterator with no initial value")):t(h);else{var i=n.value;if(l)l=!1,h=i,_();else try{var r=e(h,i,f),c=function(e){h=e,_()};s(r)?d.resolve(r).then(c,u):c(r)}catch(e){u(e)}}f++}catch(e){a(e)}}),a)}catch(e){a(e)}};_()}))}})},7740:(e,t,n)=>{"use strict";var i=n(4395),r=n(7163).some;i({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return r(this,e)}})},4342:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(6469),o=n(8986),s=n(8428),l=n(3657),u=n(9296),c=n(9462),d=n(4151),p=u((function(e){var t,n=this,i=n.iterator;if(!n.remaining--){var o=c(void 0,!0);return n.done=!0,void 0!==(t=i.return)?e.resolve(r(t,i,void 0)).then((function(){return o})):o}return e.resolve(r(n.next,i)).then((function(e){return a(e).done?(n.done=!0,c(void 0,!0)):c(e.value,!1)})).then(null,(function(e){throw n.done=!0,e}))}));i({target:"AsyncIterator",proto:!0,real:!0,forced:d},{take:function(e){a(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},2767:(e,t,n)=>{"use strict";var i=n(4395),r=n(7163).toArray;i({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return r(this,void 0,[])}})},585:(e,t,n)=>{"use strict";var i=n(4395),r=n(1923),a=n(9406),o=n(8117),s=n(1747),l=n(5953),u=n(8881),c=n(6248),d=n(6387),p=n(2417),h=n(7591),f=a("SuppressedError"),_=ReferenceError,v=d("dispose"),g=d("toStringTag"),m="DisposableStack",E=p.set,y=p.getterFor(m),T="sync-dispose",b="disposed",C=function(e){var t=y(e);if(t.state===b)throw new _(m+" already disposed");return t},S=function(){E(s(this,A),{type:m,state:"pending",stack:[]}),r||(this.disposed=!1)},A=S.prototype;u(A,{dispose:function(){var e=y(this);if(e.state!==b){e.state=b,r||(this.disposed=!0);for(var t,n=e.stack,i=n.length,a=!1;i;){var o=n[--i];n[i]=null;try{o()}catch(e){a?t=new f(e,t):(a=!0,t=e)}}if(e.stack=null,a)throw t}},use:function(e){return h(C(this),e,T),e},adopt:function(e,t){var n=C(this);return o(t),h(n,void 0,T,(function(){t(e)})),e},defer:function(e){var t=C(this);o(e),h(t,void 0,T,e)},move:function(){var e=C(this),t=new S;return y(t).stack=e.stack,e.stack=[],e.state=b,r||(this.disposed=!0),t}}),r&&c(A,"disposed",{configurable:!0,get:function(){return y(this).state===b}}),l(A,v,A.dispose,{name:"dispose"}),l(A,g,m,{nonWritable:!0}),i({global:!0,constructor:!0},{DisposableStack:S})},6508:(e,t,n)=>{"use strict";var i=n(4395),r=n(1848),a=n(1747),o=n(6469),s=n(8173),l=n(4483),u=n(6248),c=n(4676),d=n(8462),p=n(1551),h=n(6387),f=n(7092).IteratorPrototype,_=n(1923),v=n(4151),g="constructor",m="Iterator",E=h("toStringTag"),y=TypeError,T=r[m],b=v||!s(T)||T.prototype!==f||!d((function(){T({})})),C=function(){if(a(this,f),l(this)===f)throw new y("Abstract class Iterator not directly constructable")},S=function(e,t){_?u(f,e,{configurable:!0,get:function(){return t},set:function(t){if(o(this),this===f)throw new y("You can't redefine this property");p(this,e)?this[e]=t:c(this,e,t)}}):f[e]=t};p(f,E)||S(E,m),!b&&p(f,g)&&f[g]!==Object||S(g,C),C.prototype=f,i({global:!0,constructor:!0,forced:b},{Iterator:C})},7255:(e,t,n)=>{"use strict";var i=n(7609),r=n(5953),a=n(3743),o=n(1551),s=n(6387),l=n(7092).IteratorPrototype,u=s("dispose");o(l,u)||r(l,u,(function(){var e=a(this,"return");e&&i(e,this)}))},3086:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(6469),o=n(8986),s=n(8428),l=n(3657),u=n(2160),c=n(4151),d=u((function(){for(var e,t=this.iterator,n=this.next;this.remaining;)if(this.remaining--,e=a(r(n,t)),this.done=!!e.done)return;if(e=a(r(n,t)),!(this.done=!!e.done))return e.value}));i({target:"Iterator",proto:!0,real:!0,forced:c},{drop:function(e){a(this);var t=l(s(+e));return new d(o(this),{remaining:t})}})},7439:(e,t,n)=>{"use strict";var i=n(4395),r=n(2201),a=n(8117),o=n(6469),s=n(8986);i({target:"Iterator",proto:!0,real:!0},{every:function(e){o(this),a(e);var t=s(this),n=0;return!r(t,(function(t,i){if(!e(t,n++))return i()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1408:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(8117),o=n(6469),s=n(8986),l=n(2160),u=n(9832),c=n(4151),d=l((function(){for(var e,t,n=this.iterator,i=this.predicate,a=this.next;;){if(e=o(r(a,n)),this.done=!!e.done)return;if(t=e.value,u(n,i,[t,this.counter++],!0))return t}}));i({target:"Iterator",proto:!0,real:!0,forced:c},{filter:function(e){return o(this),a(e),new d(s(this),{predicate:e})}})},674:(e,t,n)=>{"use strict";var i=n(4395),r=n(2201),a=n(8117),o=n(6469),s=n(8986);i({target:"Iterator",proto:!0,real:!0},{find:function(e){o(this),a(e);var t=s(this),n=0;return r(t,(function(t,i){if(e(t,n++))return i(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7471:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(8117),o=n(6469),s=n(8986),l=n(8304),u=n(2160),c=n(9273),d=n(4151),p=u((function(){for(var e,t,n=this.iterator,i=this.mapper;;){if(t=this.inner)try{if(!(e=o(r(t.next,t.iterator))).done)return e.value;this.inner=null}catch(e){c(n,"throw",e)}if(e=o(r(this.next,n)),this.done=!!e.done)return;try{this.inner=l(i(e.value,this.counter++),!1)}catch(e){c(n,"throw",e)}}}));i({target:"Iterator",proto:!0,real:!0,forced:d},{flatMap:function(e){return o(this),a(e),new p(s(this),{mapper:e,inner:null})}})},9397:(e,t,n)=>{"use strict";var i=n(4395),r=n(2201),a=n(8117),o=n(6469),s=n(8986);i({target:"Iterator",proto:!0,real:!0},{forEach:function(e){o(this),a(e);var t=s(this),n=0;r(t,(function(t){e(t,n++)}),{IS_RECORD:!0})}})},2426:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(3659),o=n(6730),s=n(7092).IteratorPrototype,l=n(2160),u=n(8304),c=n(4151),d=l((function(){return r(this.next,this.iterator)}),!0);i({target:"Iterator",stat:!0,forced:c},{from:function(e){var t=u("string"==typeof e?a(e):e,!0);return o(s,t.iterator)?t.iterator:new d(t)}})},6806:(e,t,n)=>{"use strict";var i=n(4395),r=n(2563);i({target:"Iterator",proto:!0,real:!0,forced:n(4151)},{map:r})},1978:(e,t,n)=>{"use strict";var i=n(4395),r=n(2201),a=n(8117),o=n(6469),s=n(8986),l=TypeError;i({target:"Iterator",proto:!0,real:!0},{reduce:function(e){o(this),a(e);var t=s(this),n=arguments.length<2,i=n?void 0:arguments[1],u=0;if(r(t,(function(t){n?(n=!1,i=t):i=e(i,t,u),u++}),{IS_RECORD:!0}),n)throw new l("Reduce of empty iterator with no initial value");return i}})},8245:(e,t,n)=>{"use strict";var i=n(4395),r=n(2201),a=n(8117),o=n(6469),s=n(8986);i({target:"Iterator",proto:!0,real:!0},{some:function(e){o(this),a(e);var t=s(this),n=0;return r(t,(function(t,i){if(e(t,n++))return i()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},7331:(e,t,n)=>{"use strict";var i=n(4395),r=n(7609),a=n(6469),o=n(8986),s=n(8428),l=n(3657),u=n(2160),c=n(9273),d=n(4151),p=u((function(){var e=this.iterator;if(!this.remaining--)return this.done=!0,c(e,"normal",void 0);var t=a(r(this.next,e));return(this.done=!!t.done)?void 0:t.value}));i({target:"Iterator",proto:!0,real:!0,forced:d},{take:function(e){a(this);var t=l(s(+e));return new p(o(this),{remaining:t})}})},6496:(e,t,n)=>{"use strict";var i=n(4395),r=n(6469),a=n(2201),o=n(8986),s=[].push;i({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return a(o(r(this)),s,{that:e,IS_RECORD:!0}),e}})},1166:(e,t,n)=>{"use strict";var i=n(4395),r=n(6469),a=n(147),o=n(3525),s=n(8986);i({target:"Iterator",proto:!0,real:!0,forced:n(4151)},{toAsync:function(){return new o(s(new a(s(r(this)))))}})},2359:(e,t,n)=>{"use strict";n(8140)},7472:(e,t,n)=>{"use strict";n(9983)},7322:(e,t,n)=>{"use strict";n(6276)},6539:(e,t,n)=>{"use strict";n(9297)},8866:(e,t,n)=>{"use strict";n(6816)},9701:(e,t,n)=>{"use strict";n(6756)},5102:(e,t,n)=>{"use strict";n(960)},2373:(e,t,n)=>{"use strict";n(9301)},1853:(e,t,n)=>{"use strict";n(1516)},5030:(e,t,n)=>{"use strict";n(705)},8855:(e,t,n)=>{"use strict";var i=n(4395),r=n(1848),a=n(6730),o=n(4483),s=n(5273),l=n(744),u=n(9543),c=n(1384),d=n(4127),p=n(2519),h=n(9766),f=n(6387),_=n(8462),v=n(4151),g=r.SuppressedError,m=f("toStringTag"),E=Error,y=!!g&&3!==g.length,T=!!g&&_((function(){return 4===new g(1,2,3,{cause:4}).cause})),b=y||T,C=function(e,t,n){var i,r=a(S,this);return s?i=!b||r&&o(this)!==S?s(new E,r?o(this):S):new g:(i=r?this:u(S),c(i,m,"Error")),void 0!==n&&c(i,"message",h(n)),p(i,C,i.stack,1),c(i,"error",e),c(i,"suppressed",t),i};s?s(C,E):l(C,E,{name:!0});var S=C.prototype=b?g.prototype:u(E.prototype,{constructor:d(1,C),message:d(1,""),name:d(1,"SuppressedError")});b&&!v&&(S.constructor=C),i({global:!0,constructor:!0,arity:3,forced:b},{SuppressedError:C})},6845:(e,t,n)=>{"use strict";var i=n(1848),r=n(6220),a=n(615).f,o=n(5983).f,s=i.Symbol;if(r("dispose"),s){var l=o(s,"dispose");l.enumerable&&l.configurable&&l.writable&&a(s,"dispose",{value:l.value,enumerable:!1,configurable:!1,writable:!1})}},1085:(e,t,n)=>{"use strict";n(1825)},7594:(e,t,n)=>{"use strict";n(4774)},1374:(e,t,n)=>{"use strict";n(1519)},8471:(e,t,n)=>{"use strict";n(8348)},2539:(e,t,n)=>{"use strict";n(3457)},9235:(e,t,n)=>{"use strict";var i=n(1759),r=n(9110),a=n(4107),o=n(3663),s=n(3442),l=n(6521),u=n(8462),c=i.aTypedArray,d=i.getTypedArrayConstructor,p=i.exportTypedArrayMethod,h=Math.max,f=Math.min;p("toSpliced",(function(e,t){var n,i,u,p,_,v,g,m=c(this),E=d(m),y=r(m),T=o(e,y),b=arguments.length,C=0;if(0===b)n=i=0;else if(1===b)n=0,i=y-T;else if(i=f(h(l(t),0),y-T),n=b-2){p=new E(n),u=a(p);for(var S=2;S<b;S++)_=arguments[S],p[S-2]=u?s(_):+_}for(g=new E(v=y+n-i);C<T;C++)g[C]=m[C];for(;C<T+n;C++)g[C]=p[C-T];for(;C<v;C++)g[C]=m[C+i-n];return g}),!!u((function(){var e=new Int8Array([1]),t=e.toSpliced(1,0,{valueOf:function(){return e[0]=2,3}});return 2!==t[0]||3!==t[1]})))},7209:(e,t,n)=>{"use strict";n(6939)},4844:(e,t,n)=>{var i=n(5803);i.keys().forEach((e=>{BabelRuntimeHelpers[e.substr(2)]=i(e)}))},8071:(e,t,n)=>{"use strict";n.r(t);n(1474),n(7311),n(4240),n(7119),n(3509),n(2004),n(8971),n(8140),n(7788),n(5164),n(6406),n(1410),n(7638),n(6303),n(1825),n(2220),n(1519),n(4774),n(1520),n(2663),n(5388),n(5601),n(1034),n(2359),n(1085),n(1374),n(7594),n(8855),n(5794),n(2985),n(6384),n(1772),n(2802),n(69),n(6750),n(6062),n(3131),n(4752),n(9435),n(2886),n(1139),n(6108),n(3115),n(7389),n(4085),n(2392),n(2625),n(7740),n(4342),n(2767),n(585),n(6508),n(7255),n(3086),n(7439),n(1408),n(674),n(7471),n(9397),n(2426),n(6806),n(1978),n(8245),n(7331),n(6496),n(1166),n(7472),n(7322),n(6539),n(8866),n(9701),n(5102),n(2373),n(1853),n(5030),n(6845),n(8471),n(2539),n(9235),n(7209);["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((e=>{var t=globalThis[e];t&&t.name!==e&&Object.defineProperty(t,"name",{value:e})}))}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{n.g.__polyfill_injecting=!0;var e=!1,t=null;if(n.g.__wxConfig&&"string"==typeof n.g.__wxConfig.platform){if("ios"===n.g.__wxConfig.platform.toLowerCase()){e=!0;var i=n.g.__wxConfig.system||"";t=i.startsWith("iOS ")?i.substr(4):null}}else if("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){var r=navigator.userAgent.toLowerCase();if(r.indexOf("iphone")>=0||r.indexOf("ipad")>=0){e=!0;var a=/iphone os ([\d_]+)/.exec(r);t=a?a[1].replace(/_/g,"."):null}}var o,s=[];e&&(null!==t&&(o=t.split(".")[0],parseInt(o,10)>=16)||(n.g.Promise=void 0),s.push("Promise")),n(9762)({usePolyfill:s,useNative:["WeakMap"]}),n(8071),n(4844),delete n.g.__polyfill_injecting})()})();var __wxConfig,Foundation,__wxTest__=!1,wxRunOnDebug=function(e){e()};(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};(()=>{e.d(t,{default:()=>Qe});var n={};e.r(n),e.d(n,{convertToErrorObj:()=>H,emitFrameworkError:()=>X,emitUnhandledError:()=>q,emitUnhandledRejection:()=>z,onFrameworkError:()=>Q,onUnhandledError:()=>ee,onUnhandledRejection:()=>J});var i=e.g.__wxLibrary,r=e.g.__wxConfig,a=i.envType,o=i.contextType,s="Service"===a,l="WebView"===a,u="Worker"===a,c=l||s&&0===o.indexOf("App:"),d=s&&0===o.indexOf("Game:"),p=0===o.indexOf("MagicBrush:"),h=!!r.isIsolateContext,f=h&&s&&o.indexOf("MainContext")>=0,_=h&&s&&o.indexOf("SubContext")>=0,v=_&&o.indexOf("Safe")>=0,g=f||_,m="wxlib"===r.workerContentType,E=l||f||v||m,y=function(e){var t=r.platform;if(!t&&"object"==typeof window&&"string"==typeof(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)){var n=window.navigator.userAgent.toLowerCase();n.indexOf("devtools")>=0?t="devtools":n.indexOf("miniprogramenv/windows")>=0?t="windows":n.indexOf("miniprogramenv/mac")>=0?t="mac":n.indexOf("miniprogramenv/mina")>=0?t="mina":n.indexOf("iphone")>=0||n.indexOf("ipad")>=0?t="ios":n.indexOf("android")>=0&&(t="android")}return(t||"unknown").toLowerCase()}(),T=__libVersionInfo__,b=void 0===T||"develop"===T.version?"9.9.9":T.version,C=!!i.mayHaveSnapshot,S=(()=>"object"==typeof e.g&&e.g&&e.g.__wkrenderer_h5)();const A={platform:y,SDKVersion:b,isIsolateContext:g,isGame:d,isApp:c,isMainContext:f,isSubContext:_,isSafeEnv:E,isService:s,isWebView:l,isWorker:u,isWidget:!1,typeStr:_?"SubContext":a,fileName:i.fileName,isWXLibWorker:m,workerType:"user",contextName:"",mayHaveSnapShot:C,isWKGame:!!S,isMagicBrushFrameEnv:p};var I=()=>{},P="devtools"===A.platform;"undefined"!=typeof performance&&performance.now;function w(e,t=(()=>I)){return e.reduce(((e,n)=>(e[n]=t(n),e)),{})}function R(){var t=__wxConfig||e.g.__wxConfig;if(t&&"debug"in t&&void 0!==t.debug)return!!t.debug}var x=()=>{},O=["log","info","warn","error","debug"];const N=w(O);var D=["log","info","warn","error","profile","profileSync","traceBegin","traceEnd"],k=(()=>{var e=w(D);return e})();const L=k;var M=Symbol("error"),B=Symbol("slow");class F{constructor(){this.$=Object.create(null),this.$$=Object.create(null)}onInternalEvent(e,t){var n=this.$$[e];return n?n.push(t):this.$$[e]=[t],this}emitPrivate(e,...t){var n=this.$$[e];return!!(n&&n.length>0)&&(n.forEach((e=>{try{e(...t)}catch(e){console.error("EventEmitter error:",e)}})),!0)}onError(e){return this.onInternalEvent(M,e),this}onSlow(e){return this.onInternalEvent(B,e),this}_privEmit(e,t,...n){var i=this.$[e];if(i&&i.length>0){var r,a=!1;for(var o of i){if(0!==o.count)try{var s=Date.now();r=o.cb(...n);var l=Date.now();l-s>F.SLOW_CALLBACK_THRESHOLD&&this.emitPrivate(B,e,s,l,o.cb)}catch(t){if(!this.emitPrivate(M,e,t))throw t}if(o.count>0&&o.count--,0===o.count&&(a=!0),!1===r&&t.cancelable)break}return a&&(this.$[e]=i.filter((e=>0!==e.count))),!0}return!1}emit(e,...t){return this._privEmit(e,{},...t)}emitCancelable(e,...t){return this._privEmit(e,{cancelable:!0},...t)}many(e,t,n,i={}){if(!t)return this;var r={count:n,cb:t},a=this.$[e];return a?i.prepend?a.unshift(r):a.push(r):this.$[e]=[r],this}on(e,t,n){return this.many(e,t,-1,n)}once(e,t,n){return this.many(e,t,1,n)}off(e,t){var n=this.$[e];if(!n)return!1;var i=n.findIndex((e=>e.cb===t));return!(i<0)&&(n.splice(i,1),!0)}}F.SLOW_CALLBACK_THRESHOLD=50;var V=new F,W="unhandlederror",U="unhandledrejection",$="frameworkerror",G=new WeakMap;var Z=Object.prototype.hasOwnProperty;function H(e){var t;if(e&&"Object"===(null===(t=e.constructor)||void 0===t?void 0:t.name)&&"string"==typeof e.message&&"string"==typeof e.stack){var n=new Error(e.message);return Object.assign(n,e),n}return e}function z(e,t){e=H(e),Le.onLoad((()=>{V.emit(U,{reason:e,promise:t})||console.error("Uncaught (in promise)",e)}))}var j,Y=!1,K=!1;function X(e,t){if(e instanceof Error&&t&&(e.message=`${t} fail: ${e.message}`),e=H(e),__wxConfig.isSnapshoting)throw e;Le.onLoad((()=>{if(Y)console.error("[ErrorHandler] recursive framework error detected.",e);else{Y=!0;try{V.emit($,e)||q(e)}catch(e){console.error("Framework",e)}Y=!1}}))}function q(e){if(e=H(e),__wxConfig.isSnapshoting)throw e;Le.onLoad((()=>{if(K)console.error("[ErrorHandler] recursive uncaught error detected.",e);else{K=!0;try{V.emit(W,e)||("windows"!==__wxConfig.platform&&"mac"!==__wxConfig.platform||"undefined"==typeof WORKER_RUNTIME||!WORKER_RUNTIME||4!==__wxConfig.appType)&&console.error("Uncaught",e)}catch(e){console.error("Uncaught",e)}K=!1}}))}function J(e){V.on(U,e)}function Q(e){V.on($,e)}function ee(e){V.on(W,e)}"object"==typeof(j=e.g)&&"function"==typeof j.addEventListener&&"ios"!==A.platform?(j.addEventListener("unhandledrejection",(e=>{z(e.reason,e.promise),e.reason&&e.preventDefault()})),j.addEventListener("error",(e=>{var t,n;q(e.error||{message:e.message,stack:`${e.message}\nEmpty stack, maybe muted error. (xweb=${(null===(t=j.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.toUpperCase().indexOf("XWEB"))>=0})`}),e.error&&e.preventDefault()}))):void 0===j.onunhandledrejection&&Object.defineProperty(j,"onunhandledrejection",{value(e={}){var t,n;Z.call(e,"type")?(t={type:e.type,reason:e.reason,promise:e.promise},(n=t.promise)&&(G.has(n)||setTimeout((()=>{var e=G.get(n);0===(null==e?void 0:e.type)&&z(e.reason,e.promise),G.delete(n)}),0),G.set(n,t))):z(e.reason,e.promise)}});var te,ne=JSON.parse,ie=JSON.stringify,re=9782784e5;function ae(e){return ne(ie(e))}function oe(e){e.platform=A.platform,e.brand||"ios"!==e.platform||(e.brand="iPhone"),e.sdkVersion=e.SDKVersion=A.SDKVersion,e.isReady=!1,e.onReady=Le.onStart}function se(e){var t;oe(e),A.isSubContext||(e.preload=!0===e.preload),"number"==typeof e.pixelRatio?e.devicePixelRatio=e.pixelRatio:"number"==typeof e.devicePixelRatio&&(e.pixelRatio=e.devicePixelRatio);var n=null===(t=__libVersionInfo__.debugOptions)||void 0===t?void 0:t.overwriteExpt;e.expt=n?Object.assign(e.expt||{},n):e.expt||{}}function le(e){if(se(e),e.isReady=!0,e.appLaunchInfo=e.appLaunchInfo||{},e.preloadType=e.preloadType||e.appLaunchInfo.preloadType||e.preload,"ios"===e.platform){var t=function(e){if(!e)return 0;var t=(new Date).getTimezoneOffset()/60;return e+re-3600*t*1e3}(e.appLaunchInfo.clickTimestampInMs),n=Number.MAX_SAFE_INTEGER,i=e.instanceId;if(i)try{var r=i.split("&").filter((e=>0===e.indexOf("ts=")));r.length>0&&(n=parseInt(r[0].slice(3),10))}catch(e){X(e,"parseInstanceId")}e.coldLaunchTime=Math.min(t,n)}else e.coldLaunchTime=e.appLaunchInfo.clickTimestamp||0}var ue=!(null===(te=__libVersionInfo__.features)||void 0===te||!te.pruneWxConfigByPage),ce=Object.defineProperty,de=["env","appLaunchInfo","ext","wxAppInfo","debug","entryPagePath","envVersion","tabBar","pages","page","accountInfo","global","platform","system","appType","networkTimeout","navigateToMiniProgramAppIdList","plugins","extAppid","host","prerender"];function pe(e,t,n,i){ce(e,n,{configurable:!0,enumerable:!0,get(){if(n in t)return t[n];try{return"function"!=typeof i?i:i()}catch(e){return void X(e,`read mock wxConfig.${n}`)}},set(e){t[n]=e}})}var he=Array.isArray,fe=Reflect.set,_e=Reflect.get;var ve=A.isSafeEnv,ge=Object.create(null),me=A.isService?function(e){return new Proxy(e,{set(e,t,n,i){if("__siblings__"===t)return fe(e,t,n,i);var r=_e(e,"__siblings__",i);if(he(r)){r.length>1&&N.log(`[WXConfig] write __wxConfig.${t.toString()}, sync to all contexts.`);for(var a=0;a<r.length;a++){var o=r[a];fe(o,t,n)}return!0}return fe(e,t,n,i)}})}(ge):ge,Ee=e=>{},ye="wxConfig:updatePage";function Te(t,n=!1){return Ee(!1),ge.currentPhase="onStart",void 0===t||(n?(Object.assign(ge,t),Object.defineProperty(ge,"__siblings__",{value:t.__siblings__,enumerable:!1,writable:!1,configurable:!1})):(Object.assign(ge,ve?t:ae(t)),le(ge),function(t,n){var i;Array.isArray(null==t||null===(i=t.tabBar)||void 0===i?void 0:i.list)&&t.tabBar.list.forEach((e=>{delete e.iconData,delete e.selectedIconData})),delete t.permission;var r=t.subPackages||t.subpackages;Array.isArray(r)&&r.length>0&&(r.forEach((e=>{delete e.pages})),t.subPackages=t.subpackages=r),"devtools"===t.platform&&(t.__globalComponentsCount=Object.keys(t.usingComponents||{}).length),ue&&(A.isSubContext||(delete t.usingComponents,Object.values(t.page||{}).forEach((e=>{null!=e&&e.window&&delete e.window.usingComponents})),t._preloadRule=t.preloadRule||{},t._page=t.page||{},delete t.preloadRule,delete t.page),t.updatePage=function(e,t){null!=t&&t.window&&delete t.window.usingComponents,n(e,t)},t.updatePreloadRule=function(e,n){t.preloadRule=t.preloadRule||{},t.preloadRule[e]=n}),e.g.__wxConfig.page=e.g.__wxConfig.page||{},t.page=t.page||{}}(ge,((e,t)=>{Le.emit(ye,{key:e,value:t})})),Object.defineProperty(ge,"__siblings__",{value:[],enumerable:!1,writable:!1,configurable:!1})),Array.isArray(ge.__siblings__)&&ge.__siblings__.push(ge),ge.onPageUpdate((({key:e,value:t})=>{ge.page=ge.page||{},ge.page[e]=ge.page[e+".html"]=t,i&&(i[e+".html"]=ae(t))})),ve||(i=function(){var t=e.g.__wxConfig,n={},i={},r=ue?{}:t.page||{};try{pe(i,n,"deprecated",!0),de.forEach((e=>{if(e in t){var a=t[e];switch(e){case"page":pe(i,n,e,r);break;case"env":pe(i,n,e,(()=>(console.warn("[Deprecation] __wxConfig.env is deprecated, please use wx.env instead."),{USER_DATA_PATH:a.USER_DATA_PATH})));break;case"accountInfo":pe(i,n,e,{appId:a.appId,icon:a.icon,nickname:a.nickname});break;case"appLaunchInfo":pe(i,n,e,(()=>(console.warn("[Deprecation] __wxConfig.appLaunchInfo is deprecated, please use wx.getLaunchOptionsSync() instead."),wx&&"function"==typeof wx.getLaunchOptionsSync?wx.getLaunchOptionsSync():{})));break;case"wxAppInfo":pe(i,n,e,{maxRequestConcurrent:a.maxRequestConcurrent,maxUploadConcurrent:a.maxUploadConcurrent,maxDownloadConcurrent:a.maxDownloadConcurrent,maxWorkerConcurrent:a.maxWorkerConcurrent,maxWebsocketConnect:a.maxWebsocketConnect});break;default:pe(i,n,e,a)}}})),e.g.__wxConfig=i}catch(n){X(n,"mockGloablWxConfig"),e.g.__wxConfig=t}return r}())),me;var i}var be=new F,Ce=new F,Se={},Ae="WeixinJSBridgeReady",Ie="libraryEnd",Pe="load",we="postLoad",Re="start",xe="postStart";function Oe(e,t){var n=void 0!==Trace,i=()=>{try{n&&Trace.traceBegin("Framework",`LibLifeCycle.${e} @ ${A.fileName}`),t(Se[e])}catch(t){X(t,"LifeCycle."+e)}finally{n&&Trace.traceEnd()}};e in Se?i():Ce.once(e,i)}function Ne(e,t){var n,i;if(e in Se)return!1;Se[e]=t,null===(n=wxNativeConsole)||void 0===n||n.info(`[LifeCycle] emit ${e} for ${A.fileName}`);var r=Ce.emit(e,t);return null===(i=wxNativeConsole)||void 0===i||i.info(`[LifeCycle] finish ${e} for ${A.fileName}`),r}var De,ke=e=>{A.mayHaveSnapShot?Oe(Pe,e):e()},Le={EventEmitter:F,on:be.on.bind(be),emit:be.emit.bind(be),once:be.once.bind(be),off:be.off.bind(be),getIsLoaded:()=>Pe in Se,getIsStarted:()=>Re in Se,onBridgeReady(e){Oe(Ae,e)},setWeixinJSBridge(e){Ne(Ae,e)},onLibraryEnd:Oe.bind(null,Ie),onCreate(e){e()},onLoadInstant:ke,onLoad:ke,_onPostLoad:Oe.bind(null,we),onStart:Oe.bind(null,Re),onPostStart:Oe.bind(null,xe)};Ce.onError(((e,t)=>{N.error(`[LifeCycle/${A.typeStr}] ${e.toString()} failed: `,t),X(t,"LifeCycle."+e.toString())})).onSlow(((e,t,n,i)=>{L.warn(`[LifeCycle/${A.typeStr}] slow ${e.toString()} callback (${n-t}ms)\n${i+""}`)})),e.g.__wxLibrary.onEnd=function(){Ne(Ie),A.mayHaveSnapShot||Fe()},De=e.g.__wxConfig,ge.currentPhase="onCreate",void 0===De||(Ee(!1),Object.assign(ge,ve?De:ae(De)),oe(ge),Ee(!0));var Me=!1,Be=!1;function Fe(){Me||Be?X(new Error(`LifeCycle error: undesired onLoad(${Me}/${Be})`)):(Me=!0,__wxConfig=function(e){return ge.currentPhase="onLoad",void 0===e||(Ee(!1),Object.assign(ge,ve?e:ae(e)),ge.onPageUpdate=Le.on.bind(null,ye),se(ge),Ee(!0)),me}(e.g.__wxConfig),Ne(Pe,__wxConfig),A.isSubContext?__wxConfig.__readyHandler=e=>{Ve(e,!0)}:!0===__wxConfig.preload?Le.onBridgeReady((t=>{t.on("onWxConfigReady",(()=>{Ve(e.g.__wxConfig)}))})):Le.onLibraryEnd((()=>{Ve(e.g.__wxConfig)})),Ne(we,__wxConfig))}function Ve(e,t=!1){if(Me&&!Be){Be=!0;var n=Date.now();"onReadyStart"in(__wxConfig=Te(e,t))||(__wxConfig.onReadyStart=n),Ne(Re,__wxConfig),__wxConfig.onReadyEnd=Date.now(),Ne(xe,__wxConfig)}else X(new Error(`LifeCycle error: undesired onStart(${Me}/${Be})`))}(__wxConfig=me).isSnapshoting?(A.mayHaveSnapShot,e.g.WeixinSnapshot={snapshotContextReady(){delete e.g.WeixinSnapshot,__wxConfig.isSnapshoting=!1,Fe()}}):A.mayHaveSnapShot&&Le.onLibraryEnd(Fe);class We{constructor(e,t,n){this.num=e,this.type=t,this.bindingFn=void 0,this.bindingFn="function"==typeof n?n:x}}var Ue={ALL:new We(Number.MIN_VALUE,"ALL"),DEBUG:new We(5e3,"DEBUG",console.debug),LOG:new We(1e4,"LOG",console.log),INFO:new We(2e4,"INFO",console.info),WARN:new We(3e4,"WARN",console.warn),ERROR:new We(4e4,"ERROR",console.error),OFF:new We(Number.MAX_VALUE,"OFF")},$e=(e,t)=>({debug:e(Ue.DEBUG,t),log:e(Ue.LOG,t),info:e(Ue.INFO,t),warn:e(Ue.WARN,t),error:e(Ue.ERROR,t)}),Ge=Ue.INFO,Ze=(()=>{if(A.isWorker||A.isWidget||A.isMagicBrushFrameEnv){return Object.assign({createLogger:function(){return N}},N)}return A.isSubContext&&A.isIsolateContext?(e=[],t=(t,n)=>(...i)=>{e.push({level:t,logs:i,category:n})},n=()=>{setTimeout((()=>{var t=wxNativeConsole.__isFromMainContext?wxNativeConsole.__mergeSubContextLogs:null;t?(t(e),e=[]):n()}),1e3)},Le.onStart(n),{...$e(t),createLogger:e=>$e(t,"string"==typeof e?e:"default"),__isFromMainContext:!1}):(()=>{var e=A.platform,t="android"!==e,n=[],i=function(t){"android"!==e?WeixinJSBridge.invoke("systemLog",{dataArray:t.map((t=>{return{message:`\n${n=t.date,i=("0"+(n.getMonth()+1)).slice(-2),r=("0"+n.getDate()).slice(-2),a=("0"+n.getHours()).slice(-2),o=("0"+n.getMinutes()).slice(-2),s=("0"+n.getSeconds()).slice(-2),l=("00"+n.getMilliseconds()).slice(-3),u=n.getFullYear()+"-"+i+"-"+r,c=a+":"+o+":"+s+"."+l,"ios"===e?u+" "+c+"000"+(n.getTimezoneOffset()/6e3*-1).toFixed(4).replace(/^0\./,"+").replace(/-0\./,"-"):u+" "+(n.getTimezoneOffset()/60*-1).toFixed(1).replace(/^(\d)/,"+$1")+" "+c} [${t.level.type[0].toUpperCase()}][wxapplib]] ${t.content}`};var n,i,r,a,o,s,l,u,c})),noCallback:!0}):t.forEach((e=>{e.level.bindingFn("[wxapplib]] "+e.content)}))},r=e=>{if(e instanceof Error)return`${e.message}\n${e.stack}`;if(e&&"string"==typeof e.stack&&"string"==typeof e.message)return`${e.message}\n${e.stack}`;switch(typeof e){case"bigint":case"boolean":case"function":case"number":case"symbol":return e.toString();case"string":return e;case"undefined":return"undefined";case"object":var t;try{t=JSON.stringify(e)}catch(e){t="[对象含有循环引用]"}return t;default:return}},a=function(e,a){return function(...o){var s;if(a&&Array.prototype.unshift.call(o,"["+a+"]"),(R()||e.num>=Ue.WARN.num)&&(null===(s=N[e.type.toLowerCase()])||void 0===s||s.call(N,...o)),e.num>=Ge.num){var l=Array.prototype.slice.call(o).map(r).join(" ");if(t){var u=new Date;n&&n.length>1024&&n.shift(),n.push({date:u,level:e,content:l})}else i([{level:e,content:l}])}}};return Le.onStart((()=>{setTimeout((function e(){setTimeout(e,4e3),0!==n.length&&(i(n),n=[])}),4e3)})),{...$e(a),createLogger:function(e){return $e(a,"string"==typeof e?e:"default")},__mergeSubContextLogs:e=>{Array.isArray(e)&&e.forEach((e=>{var{level:t,logs:n,category:i}=e;a(t,i)(...n)}))},__isFromMainContext:!0}})();var e,t,n})();Le.onLoad((()=>{Ze.info(`[BaseLibVersion] ${A.fileName}: ${__libVersionInfo__.version} (${__libVersionInfo__.updateTime})}`)}));const He=Ze;const ze=w(["log","info","warn","error"],(e=>function(...t){(P||R())&&console[e]("[system]",...t)}));var je;function Ye(){return je||("undefined"!=typeof NativeGlobal&&void 0!==NativeGlobal.WebAssembly?NativeGlobal.WebAssembly:void 0!==globalThis.WebAssembly?globalThis.WebAssembly:void 0)}Le.onLoad((()=>{je=Ye()}));var Ke=Object.create(null);Object.defineProperty(Ke,"WebAssembly",{enumerable:!0,get:Ye});const Xe=Ke;var qe=e.g,Je={env:A,global:qe,get isConfigReady(){return Le.getIsStarted()},get isStarted(){return Le.getIsStarted()},get isLoaded(){return Le.getIsLoaded()},...Le,...n,wxConsole:N,wxPerfConsole:L,wxNativeConsole:He,libConsole:ze,libGlobal:Xe,globalShare:{},callbackReporter:{}};"undefined"!=typeof __Function__&&(Function=function(){return"return this"===arguments[arguments.length-1]?function(){return qe}:new __Function__(...arguments)},Function.prototype=__Function__.prototype);const Qe=Je})(),Foundation=t.default})();var JSContext,__webviewEngineMock__,Protect,__errorTracer__,__subContextEngine__,__skylineSDK__,wxConsole=Foundation.wxConsole,wxPerfConsole=Foundation.wxPerfConsole,wxNativeConsole=Foundation.wxNativeConsole,libConsole=Foundation.libConsole,libGlobal=Foundation.libGlobal;(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var t={};e.d(t,{default:()=>d});var n,i,r,a=Object.prototype.toString,o=(Object.getPrototypeOf,Object.getOwnPropertyNames,Object.getOwnPropertyDescriptor,Object.defineProperty,Object.create(null)),s=Array.isArray,l=Function.prototype.call.bind(Array.prototype.push),u={subscribeHandler:(e,t,r={})=>{if(void 0!==e&&e===n&&s(o[t])){if(i)return void setTimeout((()=>{for(var e=0;e<o[t].length;e++)o[t][e](r)}));for(var a=0;a<o[t].length;a++)o[t][a](r)}}};Foundation.onLoadInstant((()=>{r=e.g.WeixinJSContextId}));var c={__init__:(e,t)=>{void 0===n&&void 0!==e&&((n=e).register(e,u,t),i=n.crossVMContext)},publish:(e,t={})=>{var i,r=(i=t,a.call(i).split(" ")[1].split("]")[0]);if("Object"!==r&&"Undefined"!==r)throw new Error("params should be an object.");var o=e.valueOf(),s=t||{};if(n&&"function"==typeof n.subscribeHandler)return n.subscribeHandler(n,u,o,s)},subscribe:(e,t)=>{var i,a;if(s(o[e])||(o[e]=[]),l(o[e],t),null!==(i=n)&&void 0!==i&&i.waitingChannel&&null!==(a=n)&&void 0!==a&&a.waitingChannel[r]){var u=[];n.waitingChannel[r].forEach((n=>{var{event:i,params:r}=n;i===e?t(r):u.push(n)})),n.waitingChannel[r]=u}}};Foundation.onLoad((()=>{"undefined"!=typeof WeixinJSContext&&(c.__init__(WeixinJSContext,e.g.WeixinJSContextId),delete c.__init__,delete e.g.WeixinJSContext,delete e.g.WeixinJSContextId)}));const d=c;JSContext=t.default})(),(()=>{var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();__wxConfig.onReady((()=>{window.devicePixelRatio=__wxConfig.devicePixelRatio,window.screen={width:__wxConfig.screenWidth,height:__wxConfig.screenHeight,orientation:{type:"portrait"}}})),(()=>{(window=e.g).__rpxRecalculatingFuncs__=[],window.navigator={userAgent:{match(){console.warn("MiniProgram or plugin seems not compiled with proper renderer, styles may be wrong."),wxNativeConsole.error("[SkylineStyle] window.navigator.userAgent.match is called in jsContext, may be old version of miniprogram or plugin is injected into RenderContext. Render may not work properly.")}}},window.requestAnimationFrame=e=>{setTimeout((()=>{e(Date.now())}),16)},window.CustomEvent=function(e,t){return this.event=e,this.detail=t?t.detail:void 0,this},window.fakeStyleTags=[],window.document=window.fakeDocument={head:{appendChild(e){e.isStyleTag&&window.fakeStyleTags.push(e)}},createElement(e){var t={isStyleTag:"style"===e,path:"",setAttribute(e,n){"wxss:path"===e&&(t.path=n)},styleSheet:{}};return t.isStyleTag||wxNativeConsole.error(`[SkylineStyle] createElement with tagName="${e}" is invalid, expected "style"`),t}};var t={};window.dispatchEvent=window.document.dispatchEvent=function(e){void 0!==t[e.event]&&t[e.event].forEach((t=>{t({detail:e.detail})}))},window.addEventListener=window.document.addEventListener=function(e,n){void 0===t[e]&&(t[e]=[]),t[e].push(n)},window.removeEventListener=window.document.removeEventListener=function(e,n){if(void 0!==t[e]){var i=t[e].indexOf(n);-1!==i&&t[e].splice(i,1)}}})(),__webviewEngineMock__={}})(),(()=>{var e={342:(e,t,n)=>{"use strict";n.r(t),n.d(t,{EnvPreloadType:()=>i,default:()=>o,updateConfig:()=>r});var i={None:0,BeforeLaunch:1,AfterLaunch:2},r=()=>{a!==__wxConfig&&void 0!==a&&Object.assign(a,__wxConfig)},a=(()=>(__wxConfig.onReady(r),__wxConfig))();const o=a},476:(e,t,n)=>{"use strict";n.r(t),n.d(t,{reportDeprecatedAPI:()=>o});var i=n(342),r=void 0!==__libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.version:"unknown",a=void 0!==__libVersionInfo__&&__libVersionInfo__?__libVersionInfo__.updateTime:"unknown";"string"==typeof r&&(r=r.replace(" ","")),"string"==typeof a&&(a=a.replace(" ","-"));var o=(e="")=>{e=e.replace(/,/g,";");var t=r+" "+a,n=i.default.appType;Reporter.reportKeyValue({key:"DeprecatedAPI",value:[e,t,n].join(",")})}},996:(e,t,n)=>{var{reportDeprecatedAPI:i}=n(476),{default:r}=n(342);function a(e=globalThis){function t(){if(arguments.length>0&&"return this"===arguments[arguments.length-1])return function(){return e}}"function"==typeof globalThis.Function&&(t.prototype=globalThis.Function.prototype,t.prototype.constructor=t,globalThis.Function=t)}e.exports={hijack:function(e=!0,t=globalThis){a(t),"undefined"!=typeof eval&&("ios"===r.platform&&n.g.__isAppServiceRemoteDebugMode__||r.debug||(globalThis.eval=void 0)),e&&function(){if("undefined"!=typeof setTimeout){var e=setTimeout;globalThis.setTimeout=function(t,n=0){if("function"!=typeof t)throw new TypeError(`setTimeout expects a function as first argument but got ${typeof t}.`);var i=__errorTracer__.surroundThirdByTryCatch(t,"at setTimeout callback function"),r=[].slice.call(arguments,2);return e((()=>{i.apply(globalThis,r)}),n)};var t=setInterval;globalThis.setInterval=function(e,n){if("function"!=typeof e)throw new TypeError(`setInterval expects a function as first argument but got ${typeof e}.`);var i=__errorTracer__.surroundThirdByTryCatch(e,"at setInterval callback function"),r=[].slice.call(arguments,2);return t((()=>{i.apply(globalThis,r)}),n)}}}(),"undefined"!=typeof WebAssembly&&["compile","compileStreaming","instantiate","instantiateStreaming","validate","Module"].forEach((e=>{if(void 0!==WebAssembly[e]){var t=WebAssembly[e];Object.defineProperty(WebAssembly,e,{get:()=>(i("globalWa"),t),set:t=>{Object.defineProperty(WebAssembly,e,{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}}))},hijackFunction:a}},585:()=>{if("undefined"==typeof navigator){try{new Function('var GeneratorFunctionProto = Object.getPrototypeOf(function* () {});var FakeGeneratorFunction = function () {};FakeGeneratorFunction.prototype = GeneratorFunctionProto;Object.defineProperty(GeneratorFunctionProto, "constructor", { value: FakeGeneratorFunction });')()}catch(e){}try{new Function('var AsyncFunctionProto = Object.getPrototypeOf(async function () {});var FakeAsyncFunction = function () {};FakeAsyncFunction.prototype = AsyncFunctionProto;Object.defineProperty(AsyncFunctionProto, "constructor", { value: FakeAsyncFunction });')()}catch(e){}try{new Function('var AsyncGeneratorFunctionProto = Object.getPrototypeOf(async function* () {});var FakeAsyncGeneratorFunction = function () {};FakeAsyncGeneratorFunction.prototype = AsyncGeneratorFunctionProto;Object.defineProperty(AsyncGeneratorFunctionProto, "constructor", { value: FakeAsyncGeneratorFunction });')()}catch(e){}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";n.r(i),n.d(i,{bridgeGlobalInstanceOf:()=>ee,deepFreezeGlobalObjs:()=>z,deepFreezeObj:()=>N,deepFreezeObjProperty:()=>O,doNotWriteGlobalObjs:()=>H,doNotWriteObj:()=>M,doNotWriteObjProperty:()=>D,globalEsHiddenObjs:()=>t,globalEsObjs:()=>r,hijack:()=>j.hijack,hijackFunction:()=>j.hijackFunction,overwriteSetPrototypeOf:()=>Z});n(585);var e=globalThis.Function,t=[()=>Object.getPrototypeOf(Uint8Array.prototype).constructor,()=>new e("return Object.getPrototypeOf((function* () {})()).constructor")(),()=>new e("return Object.getPrototypeOf(function* () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function () {}).constructor")(),()=>new e("return Object.getPrototypeOf(async function* () {}).constructor")()].map((e=>{try{return e()}catch(e){}})).filter(Boolean),r=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float32Array","Float64Array","Function","globalThis","Infinity","Int16Array","Int32Array","Int8Array","Intl","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],a=["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"],o=globalThis,s=n(342),l=(()=>s.default.platform)(),u=(()=>"ios"===l)();var c=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code\])?$/;function p(e,t=1/0){if("string"!=typeof e.stack)throw new Error("Cannot parse given Error object");var n=e.stack;return u?function(e,t){for(var n=[],i=e.split("\n"),r=0,a=0;r<i.length&&a<t;++r){var o=i[r];if(!d.test(o)){++a;var s=o.indexOf("@");if(-1===s){var l=h(o);n.push({fileName:l.URI,lineNumber:l.line,columnNumber:l.column,source:o})}else{var u=o.substring(0,s),c=h(o.substr(s+1));n.push({functionName:u,fileName:c.URI,lineNumber:c.line,columnNumber:c.column,source:o})}}}return n}(n,t):function(e,t){for(var n=[],i=e.split("\n"),r=0,a=0;r<i.length&&a<t;++r){var o=i[r];c.test(o)&&(n.push(o),++a)}return n.map((e=>{e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),n=t.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(t=n?t.replace(n[0],""):t).split(/\s+/).slice(1),r=h(n?n[1]:i.pop());return{functionName:i.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0],lineNumber:r[1],columnNumber:r[2],source:e}}))}(n,t)}function h(e){var t=/(?::(\d+))?(?::(\d+))?$/.exec(e);return t?{URI:e.substring(0,e.length-t[0].length),line:t[1],column:t[2]}:{URI:e}}var f=Object.freeze,_=Object.setPrototypeOf,v=Object.defineProperty,g=Object.getOwnPropertyDescriptor,m=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols,y=Object.getPrototypeOf,T=Object.preventExtensions;var b=[[e=>!/(WAServiceMainContext|WAGame)\.js/.test(e)]];function C(){var e,t,n=Date.now(),i=p(new Error,3),r=i[1],a=i[2],o=!(r.fileName&&a.fileName&&a.fileName!==r.fileName&&(e=a.fileName,t=r.fileName,!b.some((n=>n.some((t=>t(e)))&&n.some((e=>e(t)))))));return Date.now()-n,o}function S(e,t=!1){if("function"==typeof e||"object"==typeof e&&null!==e){var n=g(e,"__proto__");n&&!n.configurable||(n||Object.isExtensible(e))&&v(e,"__proto__",{get(){return y(this)},set(n){if(this===e)t&&C()&&_(e,n);else{if("function"!=typeof this&&("object"!=typeof this||null===e))return;_(this,n)}},enumerable:!1,configurable:!1})}}var A=new Map,I=(e,t,n)=>{A.has(e)||A.set(e,new Map);var i=A.get(e);i.has(t)?Object.assign(i.get(t),n):i.set(t,n)};function P(e,t,n=!1){if("function"!=typeof e&&("object"!=typeof e||null===e))return!1;try{var i=g(e,t);return!!i&&(i.configurable&&(v(e,t,{get:i.get||(()=>i.value),set(r){if(this===e)n&&C()&&(i.set?i.set.call(this,r):i.writable&&(i.value=r));else{if("function"!=typeof this&&"object"!=typeof this)return;!function(e,t,n){try{"__proto__"===t?_(e,n):v(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}catch(e){}}(this,t,r)}},enumerable:i.enumerable,configurable:!1}),n&&I(e,t,i)),!i.get&&("function"==typeof i.value||"object"==typeof i.value&&null!==i.value))}catch(e){throw e.message,e}}var w=new WeakSet;function R(e){w.add(e)}function x(e){return w.has(e)}function O(e,t,n){P(e,t)&&N(e[t],n)}function N(e,t){if(e&&!x(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis)if(e!==Error){R(e);for(var n=m(e),i=E(e),r=0;r<n.length;++r)O(e,n[r],t);for(var a=0;a<i.length;++a)O(e,i[a],t);t?T(e):S(e,!1)}else if(t){var o=e=>{if(e&&!x(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){R(e),f(e);for(var t=m(e),n=E(e),i=0;i<t.length;++i)o(e[t[i]]);for(var r=0;r<n.length;++r)o(e[n[r]])}};o(Error)}}function D(e,t){P(e,t,!0)&&M(e[t])}var k=new WeakSet;function L(e){return k.has(e)}function M(e){if(e&&!L(e)&&("function"==typeof e||"object"==typeof e)&&e!==globalThis){!function(e){k.add(e)}(e);for(var t=m(e),n=E(e),i=0;i<t.length;++i)D(e,t[i]);for(var r=0;r<n.length;++r)D(e,n[r]);S(e,!0)}}var B=Object.prototype.hasOwnProperty,F=Object.defineProperty,V=Object.defineProperties,W=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,$=Object.getOwnPropertyDescriptor,G=!1,Z=function(){G||(G=!0,F(o.Object,"setPrototypeOf",{value:(e,t)=>(e.__proto__=t,e),configurable:!0}),F(o.Object,"defineProperty",{value(e,t,n){if(!L(e))return F(e,t,n);if(!C())return n;var i=$(e,t);if(!i||i.configurable){var r=F(e,t,n);return D(e,t),r}return I(e,t,n),n},configurable:!0}),F(o.Object,"defineProperties",{value(e,t){if(!L(e))return V(e,t);if(!C())return t;var n=n=>{var i=$(e,n);if(!i||i.configurable){var r=F(e,n,t[n]);return D(e,n),r}return I(e,n,t[n]),t[n]};return W(t).forEach(n),U(t).forEach(n),t},configurable:!0}))},H=function(e=[]){try{for(var n=[...r,...a,...t,...e],i=(Date.now(),0);i<n.length;++i){var s=n[i],l=typeof s;"string"===l?B.call(o,s)&&D(o,s):"function"!==l&&"object"!==l||M(s)}Date.now()}catch(e){}},z=function(e=[],n=!1){try{for(var i=[...r,...a,...t,...e],s=(Date.now(),0);s<i.length;++s){var l=i[s],u=typeof l;"string"===u?B.call(o,l)&&O(o,l,n):"function"!==u&&"object"!==u||N(l,n)}Date.now()}catch(e){}},j=n(996),Y=Object.prototype.isPrototypeOf,K=Object.defineProperty,X=Object.prototype.hasOwnProperty,q=Symbol.hasInstance,J=function(e){return!("function"!=typeof this||!Q(e))&&((e,t)=>Y.call(t.prototype,e))(e,this)},Q=e=>"object"==typeof e?null!==e:"function"==typeof e;function ee(e,t,n={}){for(var i=function(i){var r=e[i],a=t[i];if(!r||!a)return"continue";if("function"!=typeof r)return"continue";var o=X.call(r,q)?r[q]:J,s=X.call(a,q)?a[q]:J;K(r,q,{value(e){return o.call(this,e)||s.call(a,e)},writable:!0,enumerable:!1,configurable:!0}),K(a,q,{value(e){return void 0!==n[i]&&"Object"===n[i]&&void 0!==(null==e?void 0:e._compressed)&&void 0!==(null==e?void 0:e._data)&&void 0!==(null==e?void 0:e.height)&&void 0!==(null==e?void 0:e.width)?s.call(this,e):s.call(this,e)||o.call(r,e)},writable:!0,enumerable:!1,configurable:!0})},r=0;r<e.length;++r)i(r)}})(),Protect=i})(),(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callMiniProgramOrPluginFunction:()=>p,callSystemFunction:()=>c,callThirdPartyFunction:()=>h,convertStack:()=>r,endSystemFunctionCall:()=>u,findCurrentSource:()=>s,startSystemFunctionCall:()=>l,surroundThirdByTryCatch:()=>v,wrapMiniProgramOrPluginFunction:()=>f,wrapSystemFunction:()=>d,wrapThirdPartyFunction:()=>_,wrapperStack:()=>i});var n=/[ (@]*https?:\/\/([^/]*)\/+(.*?):(\d+):(\d+)/,i=[];function r(e){if(!e||e.__wxOriginalStack__)return!1;var t=e.stack;if(void 0===t)return!1;for(var n=t,r=i.length-1,o=0;o>=0&&r>=0;){var s=n.length,l=0;for(var u in a)if(a[u]){var c=n.indexOf(a[u],o);c<0||s<=c||(s=c,l=a[u].length)}if(s>=n.length)break;var d=`at <${i[r--].description}>`;n=n.slice(0,s)+d+n.slice(s+l),o=s+d.length}return Object.defineProperties(e,{__wxOriginalStack__:{value:t,writable:!0,configurable:!0},stack:{value:n,writable:!0,enumerable:!0,configurable:!0}}),!0}var a={wrapSystemFunction:null,wrapMiniProgramOrPluginFunction:null};function o(e){var t=((new Error).stack||"").match(/.+/gm),i="",r=0;t&&t.forEach((e=>{if(n.test(e)&&2===(r+=1)){var t=e.match(/^(\s*)at /),a=t?t[1].length:0;return i=e.slice(a),!1}return!0})),a[e]=i}function s(){for(var e="",t=i.length-1;t>=0;t--)i[t].pluginAppId&&(e=i[t].pluginAppId);return e}var l=e=>{null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),i.push({description:e})},u=()=>{i.pop()};function c(e,t,n,l,u,c=!1){var p;null===a.wrapSystemFunction&&(a.wrapSystemFunction="",d("","",o)("wrapSystemFunction")),i.push({description:t});try{p=n.apply(l,u)}catch(t){if(r(t)){if("AppServiceSdkKnownError"===t.type)throw i.pop(),t;if("ThirdScriptError"===t.type){var h=s();Reporter.thirdErrorReport({error:t,source:h,triggerErrorCallback:!c})}else Reporter.errorReport({key:e,error:t,triggerErrorCallback:!c})}if(c)throw i.pop(),t}return i.pop(),p}function d(e,t,n,i=!1){return function(...r){return c(e,t,n,this,r,i)}}function p(e,t,n,s,l,u=!1){var c;null===a.wrapMiniProgramOrPluginFunction&&(a.wrapMiniProgramOrPluginFunction="",f("","",o)("wrapMiniProgramOrPluginFunction")),i.push({description:t,pluginAppId:e});try{c=n.apply(s,l)}catch(t){if(r(t)&&Reporter.thirdErrorReport({error:t,source:e||"",triggerErrorCallback:!u}),u)throw i.pop(),t}return i.pop(),c}function h(e,t,n,i,r=!1){return p(s(),e,t,n,i,r)}function f(e,t,n,i=!1){return function(...r){return p(e,t,n,this,r,i)}}function _(e,t,n=!1){return function(...i){return p(s(),e,t,this,i,n)}}function v(e,t){var n=(t||"").match(/^\s*(?:at )?([\s\S]*)$/),i=n?n[1]:"",r=e||function(){};return function(...e){return p(s(),i,r,r,e,!1)}}__errorTracer__=t})(),(()=>{var e={227:(e,t,n)=>{n.d(t,{D:()=>r,m:()=>i});var i={APP:"app",APP_RENDER:"app_sub_render",APP_XRFRAME_RENDER:"app_xrframe_render",APP_SCL:"app_sub_scl",GAME:"game",GAME_OPEN_DATA:"gameOpenData"},r={GAME_PLUGIN_PRELOAD:"gamePlugin_preload_",GAME_PLUGIN:"gamePlugin_",APP_CARDS:"CARD_"}},796:(e,t,n)=>{n.d(t,{G$:()=>i});n(888);var i=function(){return"devtools"===__wxConfig.platform}},704:(e,t,n)=>{n.d(t,{Z:()=>r});var i={name:void 0,secure:!0,runningType:"app",init:function(e){this.name=e.contextName,this.secure=e.contextSecure,void 0!==Foundation&&(Foundation.env.contextName=e.contextName,Foundation.env.typeStr=`${e.contextName}_Context`),this.name.startsWith("game")?this.runningType="game":this.name.startsWith("app")&&(this.runningType="app"),this.remoteObjectProto=e.__proto__}};const r=i},485:(e,t,n)=>{var i=n(793),r=n(410),a=n(704),o=n(552);Foundation.onLoad((()=>{void 0===n.g.WeixinJSBridge&&(n.g.WeixinJSBridge={},n.g.WeixinJSBridge.subscribeHandler=function(e,t){"onError"===e?Foundation.emitUnhandledError(t):"unhandledRejection"===e&&Foundation.emitUnhandledRejection(null==t?void 0:t.reason,null==t?void 0:t.promise)},n.g.WeixinJSBridge.invokeCallbackHandler=function(){})})),Foundation.onUnhandledRejection((function(e={}){a.Z.name===o.CONTEXT_NAME.APP_RENDER?(0,i.yH)(e.reason,"",e.promise||null):(0,i.sK)(e.reason,"",e.promise||null)})),Foundation.onUnhandledError((function(e){e=(0,r.Bs)(e),a.Z.name===o.CONTEXT_NAME.APP_RENDER?(0,i.yH)(e,""):(0,i.sK)(e,"")})),Foundation.onFrameworkError((function(e){"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),wxNativeConsole.error("FrameworkError",e)}))},180:(e,t,n)=>{n.d(t,{Z:()=>a});var i={},r=Object.keys;i.init=e=>{Reporter=e;for(var t=r(e),n=0;n<t.length;n++){var a=t[n];void 0===i[a]&&(i[a]=e[a])}};const a=i},143:(e,t,n)=>{n.d(t,{k:()=>r});var i=n(61),r=e=>{e.onReady((e=>{Foundation._onPostLoad((()=>{var t=__wxConfig.__readyHandler;i.Z.__wxConfig=Object.assign({},e),"function"==typeof t&&t(e)}))}))}},636:(e,t,n)=>{n.d(t,{E:()=>r});var i=n(61),r=function(e){var t,r,a;("windows"===e.__wxConfig.platform||"mac"===e.__wxConfig.platform)&&e.__wxConfig.host&&"WMPF"===e.__wxConfig.host.env&&e.__isAppServiceRemoteDebugMode__?i.Z.console=n.g.console:e.__isAppServiceRemoteDebugMode__&&"ios"!==e.__wxConfig.platform?i.Z.console=e.originConsole:i.Z.console=new e.BaseConsole,t=e.wxLibVersion,a=(null===(r=__libVersionInfo__)||void 0===r?void 0:r.version)||"9.9.9",t!==a&&(wxNativeConsole.warn(`[checkVersionMatches] baselib versions between context do not match (mainContext ${t}, subContext ${a})`),Reporter.reportIDKey({key:"subContextLibVersionNotMatch"})),__Function__=e.__Function__,__userActionTracer__=e.__userActionTracer__,__appServiceSDK__=e.__appServiceSDK__,__sclEngine__=e.__sclEngine__,WeixinJSBridge=e.WeixinJSBridge,Reporter=e.Reporter,wxNativeConsole=e.wxNativeConsole,WeixinSharedBuffer=e.WeixinSharedBuffer,BaseConsole=e.BaseConsole,$dbg=e.$dbg,__isAppServiceRemoteDebugMode__=!!e.__isAppServiceRemoteDebugMode__,__remoteDebug__=e.__remoteDebug__,__debuggerMessager__=e.debuggerMessager,Foundation.onLibraryEnd((()=>{e.setWxModule(__wxModule__)})),__glassEaselAdapter__=e.__glassEaselAdapter__,__glassEaselAdapter__.setSubContextAdapter(__glassEaselSubContextAdapter__),__glassEaselSubContextAdapter__.setMainContextAdapter(__glassEaselAdapter__),__glassEaselAdapter__.onSkylineEngineReady((e=>{__glassEaselSubContextAdapter__.setSkylineEngine(e)})),__subContextEngineBridge__.bridgeContext(e.__subContextEngineBridge__),e.__freezeLibContextGlobal__(),Object.defineProperty(i.Z,"__wxSourceMap",{get:__condom__.condom(e.getWxSourceMap)}),i.Z.WebAssembly&&delete i.Z.WebAssembly,Trace=e.Trace}},808:(e,t,n)=>{n.d(t,{D:()=>r});var i=n(61),r=function(e){e.__wxConfig.debug&&(console=new e.BaseConsole),setTimeout=e.setTimeout,clearTimeout=e.clearTimeout,setInterval=e.setInterval,clearInterval=e.clearInterval,WeixinJSBridge=e.WeixinJSBridge,Reporter=e.Reporter,NativeGlobal=e.NativeGlobal,WeixinCanvas=e.WeixinCanvas,WeixinArrayBuffer=e.WeixinArrayBuffer,wxNativeConsole=e.wxNativeConsole,BaseConsole=e.BaseConsole,i.Z.console=new e.BaseConsole,__sclEngine__=e.__sclEngine__,__appServiceConsole__=e.__appServiceConsole__,__glassEaselAdapter__=e.__glassEaselAdapter__,__glassEaselAdapter__.setSkylineEngine(__skylineEngine__),__skylineEngine__.RuntimeCore.setGlassEaselAdapter(__glassEaselAdapter__),__glassEaselAdapter__.setWebviewEngine(__webviewEngine__),__webviewEngine__.setGlassEaselAdapter(__glassEaselAdapter__),__readFileSync__=e.readFileSync,Trace=e.Trace,SkylineGlobal=e.SkylineGlobal}},654:(e,t,n)=>{n.d(t,{d:()=>i});var i=function(e){setTimeout=e.setTimeout,clearTimeout=e.clearTimeout,setInterval=e.setInterval,clearInterval=e.clearInterval,WeixinJSBridge=e.WeixinJSBridge,Reporter=e.Reporter,NativeGlobal=e.NativeGlobal,WeixinCanvas=e.WeixinCanvas,WeixinArrayBuffer=e.WeixinArrayBuffer,wxNativeConsole=e.wxNativeConsole,__sclEngine__=e.__sclEngine__,Trace=e.Trace}},618:(e,t,n)=>{n.d(t,{y:()=>r});var i=n(61),r=function(e){setTimeout=e.setTimeout,clearTimeout=e.clearTimeout,setInterval=e.setInterval,clearInterval=e.clearInterval,WeixinJSBridge=e.WeixinJSBridge,Reporter=e.Reporter,NativeGlobal=e.NativeGlobal,WeixinCanvas=e.WeixinCanvas,WeixinArrayBuffer=e.WeixinArrayBuffer,wxNativeConsole=e.wxNativeConsole,BaseConsole=e.BaseConsole,i.Z.console=new e.BaseConsole,Trace=e.Trace,Foundation.onLibraryEnd((()=>{e.subContextInitCallback(xrFrame)}))}},878:(e,t,n)=>{n.d(t,{M:()=>s,O:()=>l});var i,r,a=n(61),o=(e,t,n)=>(Object.keys(n).forEach((i=>{__condom__.shouldCloseCondom(i,e)&&(n[i]=t[i])})),n),s=function(e){var t=e.createOrGetSharedCanvas;a.Z.__isAdapterInjected=!1,a.Z.console=e.console,Object.defineProperty(a.Z,"sharedCanvas",{get:()=>t(),set(){}}),i=e.__is_wk_game?[...Protect.globalEsObjs.map((e=>globalThis[e])),...Protect.globalEsHiddenObjs]:[...Protect.globalEsObjs.map((e=>globalThis[e])),...Protect.globalEsHiddenObjs].filter(Boolean);var n=e.__ctx_bridge.condomPrototype(i);__wxConfig.onReady((()=>{if(!0===__wxConfig.useHighPerformanceMode)return a.Z.wx=e.wx,void(e.doAuditsInjectLogic&&e.doAuditsInjectLogic({globalWx:a.Z.wx}));if(n){var t;if(r)r=o(__wxConfig.expt,e.wx,r),a.Z.wx=r;else a.Z.wx=__condom__.condomWX(e.wx,e.skipCondom,null===(t=e.__wxConfig)||void 0===t?void 0:t.expt)}else{var i;if(r)return r=o(__wxConfig.expt,e.wx,r),a.Z.wx=r,void(e.doAuditsInjectLogic&&e.doAuditsInjectLogic({globalWx:a.Z.wx}));a.Z.wx=__condom__.condomWX(e.wx,e.skipCondom,null===(i=e.__wxConfig)||void 0===i?void 0:i.expt)}e.doAuditsInjectLogic&&e.doAuditsInjectLogic({globalWx:a.Z.wx}),e.isPlayableEnv&&(a.Z.wx=e.mockPlayableEnv(a.Z))})),a.Z.requirePlugin=e.requirePlugin,a.Z.WXWebAssembly=e.WXWebAssembly,a.Z.WXWeakRef=e.WXWeakRef,delete a.Z.WebAssembly,a.Z.GameGlobal||(a.Z.GameGlobal=a.Z),wxNativeConsole=e.wxNativeConsole,Object.defineProperty(a.Z,"__wxSourceMap",{get:__condom__.condom(e.getWxSourceMap)})},l=function(e,t,n){e&&e.wx&&(r=__condom__.condomWX(e.wx,t,n))}},338:(e,t,n)=>{n.d(t,{o:()=>i});var i=function(e){e.getWxSourceMap&&(e.getWxSourceMap=__condom__.condom(e.getWxSourceMap)),__gameOpenDataSDK__.init(e)}},331:(e,t,n)=>{n.d(t,{m:()=>r});var i=n(61),r=function(e){delete i.Z.NativeClient,i.Z.console=e.console,i.Z.WXWebAssembly=e.WXWebAssembly,i.Z.env={},e.pluginEnv&&(i.Z.pluginEnv=e.pluginEnv),e.wx&&(i.Z.wx=e.wx)}},757:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(61);function r(e){return function(){console.warn(`function ${e} is not supported in current env`)}}function a(e){if(JSContext.publish("magicBrushFrameSubContextBridge",{__subContextEngineBridge__:__subContextEngineBridge__}),e.isRefresh){e.console.info("[MagicBrushFrame][subContext] initMagicBrushFrameContext"),i.Z.Component=e.Component,i.Z.Behavior=e.Behavior,setTimeout=e.setTimeout,clearTimeout=e.clearTimeout,setInterval=e.setInterval,clearInterval=e.clearInterval,i.Z.setTimeout=r("setTimeout"),i.Z.clearTimeout=r("clearTimeout"),i.Z.setInterval=r("setInterval"),i.Z.clearInterval=r("clearInterval"),WeixinJSBridge=e.WeixinJSBridge,Reporter=e.Reporter,wxNativeConsole=e.wxNativeConsole,__appServiceSDK__=e.__appServiceSDK__,i.Z.console=__appServiceSDK__.console;var t=__appServiceSDK__.wx;__condom__.condomWX(t),i.Z.wx=t,__subContextEngineBridge__.bridgeContext(e.__subContextEngineBridge__),e.__freezeLibContextGlobal__(),setTimeout((()=>{JSContext.publish("magicBrushFrameSubContextReady",{frameSetInfo:e.frameSetInfo})}),0)}}},61:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(){return this}()},552:(e,t,n)=>{n.r(t),n.d(t,{CONTEXT_NAME:()=>E.m,CONTEXT_NAME_PREFIX:()=>E.D,injectEntryFile:()=>g.Wm,loadJsFiles:()=>g.z5,loadLibFiles:()=>g.C4,onInitReady:()=>S,onMainContextMessage:()=>O,postMessageToMainContext:()=>R,postMessageToMainContextSync:()=>x,surroundByTryCatch:()=>v.Ue,surroundThirdByTryCatch:()=>v.M2});n(485);var i=n(61),r=n(180),a=n(704),o=n(23),s=n(143),l=n(878),u=n(338),c=n(636),d=n(618),p=n(808),h=n(331),f=n(654),_=n(757),v=n(793),g=n(951),m=n(796),E=n(227),y=n(410),T="subContext:initReady",b=new Foundation.EventEmitter,C=!1,S=function(e){C?e():Foundation.once(T,e)};JSContext.subscribe("subContextEnvReady",(0,v.Ue)((e=>{if(a.Z.init(e),(0,o.v)(e),function(e){n.g.__isAppServiceRemoteDebugMode__=!!e.__isAppServiceRemoteDebugMode__}(e),function(e){if(e.__isAppServiceRemoteDebugMode__&&e.__remoteDebug__&&e.__remoteDebug__.setAutoTestHandler)try{var t;$eval=e.__remoteDebug__.$$eval,e.__remoteDebug__.setAutoTestHandler({$eval:(n,i,r=null)=>(t||(t="ios"===e.__wxConfig.platform?globalThis:{...globalThis,console:e.originConsole}),$eval(n,t).apply(r,i)),setGlobalFunctions(e,n){t?t[e]=n:globalThis[e]=n}})}catch(e){console.error(e)}}(e),Protect.hijack(!0,a.Z.secure?null:globalThis),r.Z.init(e.Reporter),a.Z.name===E.m.GAME)(0,l.M)(e);else if(a.Z.name===E.m.GAME_OPEN_DATA)(0,u.o)(e);else if(a.Z.name===E.m.APP)(0,c.E)(e);else if(a.Z.name===E.m.APP_RENDER)(0,p.D)(e);else if(a.Z.name===E.m.APP_XRFRAME_RENDER)(0,d.y)(e);else if(a.Z.name===E.m.APP_SCL)(0,f.d)(e);else if(a.Z.name.startsWith(E.D.GAME_PLUGIN))(0,h.m)(e);else{if(!a.Z.name.startsWith(E.D.APP_CARDS))throw new Error("subContextEnvReady: missing context name.");(0,_.Z)(e)}(0,s.k)(e.__wxConfig)}))),JSContext.subscribe("preloadSubContextEnvReady",(0,v.Ue)((e=>{a.Z.init(e),e.preHandleEnv&&(0,l.O)(e.preHandleEnv,e.skipCondomList,e.expt)}))),JSContext.subscribe("subContextRefreshEnv",(0,v.Ue)((e=>{if("game"===a.Z.name)(0,l.M)(e);else if("gameOpenData"===a.Z.name)(0,u.o)(e);else if("app"===a.Z.name)(0,c.E)(e);else if("app_sub_render"===a.Z.name)(0,p.D)(e);else if("app_xrframe_render"===a.Z.name)(0,d.y)(e);else if("app_sub_scl"===a.Z.name)(0,f.d)(e);else if(a.Z.name.startsWith("gamePlugin_"))(0,h.m)(e);else{if(!a.Z.name.startsWith(E.D.APP_CARDS))throw new Error("subContextRefreshEnv: missing context name.");(0,_.Z)(e)}JSContext.publish("subContextRefreshEnvReady",null,!0)}))),JSContext.subscribe("subContextRefreshWxConfig",(0,v.Ue)((e=>{var{key:t,value:n}=e;"string"==typeof t&&n&&(__wxConfig[t]=n)}))),JSContext.subscribe("exportGlobalRequire",(0,v.Ue)((e=>{var t=/^[A-Za-z]+(\.[A-Za-z]+)*$/,n=e=>{var{name:n,value:r,needCondom:a}=e;if("string"!=typeof n||!t.test(n))throw new Error("exportGlobalRequire: illegal variable name.");n.split(".").reduce(((e,t,i,o)=>{if(i===o.length-1){if(t in e)throw new Error(`exportGlobalRequire: Variable ${n} exists.`);e[t]=a?__condom__.condom(r):r}if("Array"!==(0,v.Em)(e[t])&&"Function"!==(0,v.Em)(e[t])&&"Object"!==(0,v.Em)(e[t])){var s=o.slice(0,i+1).join(".");throw new Error(`exportGlobalRequire: ${s} is not an Object.`)}return e[t]}),i.Z)};return"[object Array]"===Object.prototype.toString.call(e)?e.forEach(n):n(e)}))),JSContext.subscribe("mainContextMessage",(e=>{b.emit("mainContextMessage",e)})),JSContext.subscribe("subContextDestroy",(()=>{})),JSContext.subscribe("readyLoadSDKSubPackage",(e=>{Object.getOwnPropertyNames(e).forEach((t=>{i.Z[t]=e[t]})),JSContext.publish("readyLoadSDKSubPackageDone")}));var A=["WeixinJSCore","WeixinNativeBuffer","WeixinWorker","NativeGlobal","lockSharedNativeBuffer","unlockSharedNativeBuffer","getNativeBufferId","getNativeBuffer","setNativeBuffer","setSharedNativeBuffer","getSharedNativeBuffer","WeixinArrayBuffer"],I=void 0!==IS_RENDER_CTX;Foundation.onLoad((()=>{A.forEach((e=>{delete i.Z[e]})),JSContext.publish("subContextReady",{contextGlobal:{get __wxSourceMap(){return i.Z.__wxSourceMap},get __require(){return"game"===a.Z.name||a.Z.name.startsWith("gamePlugin_")?i.Z.require:__condom__.condom(i.Z.require)},jsonParse:JSON.parse,jsonStringify:JSON.stringify,arrayBufferProto:ArrayBuffer.prototype}},!0)}),I);var P=!1,w=function(){P||(P=!0,Protect.overwriteSetPrototypeOf(),Protect.deepFreezeGlobalObjs([],!1))};Foundation.onLibraryEnd((()=>{Foundation.onLoad((()=>{a.Z.secure&&__wxConfig&&__wxConfig.isIsolateContext&&w(),Foundation.emit(T),C=!0})),Foundation.onStart((()=>{__wxConfig.plugins&&(Protect.hijackFunction({}),(0,m.G$)()||w())}))}));var R=e=>{(0,y.YF)((()=>{JSContext.publish("subContextMessage",e)}))},x=e=>{JSContext.publish("subContextMessage",e)},O=e=>{b.on("mainContextMessage",e)}},951:(e,t,n)=>{n.d(t,{C4:()=>l,Wm:()=>s,z5:()=>o});var i=n(227),r=n(704),a=()=>r.Z.name===i.m.APP,o=(e,t,n)=>{var i=a();if(JSContext&&JSContext.publish){i&&__wxModule__.globalRequireBlocker.block();var o=JSContext.publish("loadJsFiles",{paths:e,options:n,moduleName:t,contextName:r.Z.name});return i&&__wxModule__.globalRequireBlocker.unblock(),i&&__wxModule__.globalRequireBlocker.flushQueue(),o}return"failed"},s=(e,t)=>{var n=a();if(JSContext&&JSContext.publish){n&&__wxModule__.globalRequireBlocker.block();var i=JSContext.publish("injectEntryFile",{moduleName:e,separatedPlugins:t});return n&&__wxModule__.globalRequireBlocker.unblock(),n&&__wxModule__.globalRequireBlocker.flushQueue(),i}return"failed"},l=e=>JSContext&&JSContext.publish?JSContext.publish("loadLibFiles",{paths:e,contextName:r.Z.name}):"failed"},23:(e,t,n)=>{n.d(t,{v:()=>s});var i=n(61),r=n(704),a=n(793),o=function(e,t){return function(){return"function"==typeof arguments[0]&&(arguments[0]=(0,a.M2)(arguments[0],t)),e(...arguments)}},s=e=>{i.Z.setTimeout=o(e.setTimeout,"at setTimeout callback function"),i.Z.clearTimeout=o(e.clearTimeout),i.Z.setInterval=o(e.setInterval,"at setInterval callback function"),i.Z.clearInterval=o(e.clearInterval),"game"===r.Z.runningType&&(i.Z.requestAnimationFrame=o(e.requestAnimationFrame,"at requestAnimationFrame callback function"),i.Z.cancelAnimationFrame=o(e.cancelAnimationFrame))}},793:(e,t,n)=>{n.d(t,{Em:()=>c,M2:()=>s,Ue:()=>u,sK:()=>o,yH:()=>l});var i=n(227),r=n(704),a=n(180),o=function(e,t,n){try{var o;if(r.Z.name===i.m.GAME)o=a.Z.RunType.GAME;else if(r.Z.name===i.m.GAME_OPEN_DATA)o=a.Z.RunType.GAME_SUBCONTEXT;else if(r.Z.name===i.m.APP)o=a.Z.RunType.APP;else if(r.Z.name.startsWith(i.D.GAME_PLUGIN))o=a.Z.RunType.GAME_SUBCONTEXT;else if(r.Z.name===i.m.APP_RENDER)o=a.Z.RunType.APP_SUBCONTEXT;else{if(r.Z.name!==i.m.APP_XRFRAME_RENDER)throw new Error("unknown context");o=a.Z.RunType.APP_SUBCONTEXT}void 0!==n?a.Z.thirdErrorReport({key:o,error:e,extend:t,triggerErrorCallback:!r.Z.secure,isUnhandledRejection:!0,promise:n}):a.Z.thirdErrorReport({key:o,error:e,extend:t,triggerErrorCallback:!r.Z.secure,isUnhandledRejection:!1})}catch(e){console.error("[ErrorHandler] error in Report.thirdErrorReport: ",e.message)}};function s(e,t){return function(){var n;try{"function"==typeof e&&(n=e.apply(e,arguments))}catch(e){o(e,t)}return n}}function l(e,t,n){var o="";if(r.Z.name===i.m.APP_RENDER?o="appSubContextSDKScriptError":"game"===r.Z.runningType&&(o="gameSubContextSDKScriptError"),"function"==typeof a.Z.thirdErrorReport)try{void 0!==n?a.Z.errorReport({key:o,error:e,extend:t,triggerErrorCallback:!r.Z.secure,isUnhandledRejection:!0,promise:n}):a.Z.errorReport({key:o,error:e,extend:t,triggerErrorCallback:!r.Z.secure,isUnhandledRejection:!1})}catch(e){console.error("[ErrorHandler] error in Report.errorReport: ",e.message)}else{var s=`${o}\n${t?`${e.message};${t}`:e.message}\n${e.stack}`;"undefined"!=typeof console&&console.error(s)}}function u(e,t){return function(){try{return e.apply(e,arguments)}catch(e){if(e.message,e.stack,"[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;l(e,t)}return}}}function c(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]}},410:(e,t,n)=>{n.d(t,{Bs:()=>i,YF:()=>o});var i=function(e){if("string"!=typeof e)return e;try{return JSON.parse(e.replace(/"/g,'\\"').replace(/'/g,'"').replace(/\n/g,"\\n"))}catch(t){return{message:e,stack:""}}},r=!1,a=[],o=e=>{a.push(e),r||(r=!0,Promise.resolve().then((()=>{for(var e=0;e<a.length;++e)if("function"==typeof a[e])try{a[e]()}catch(e){throw wxNativeConsole.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),console.error("[system] Error: nextMicroTaskCallback occur fatal error: ",e),e}r=!1,a.length=0})))}},888:e=>{e.exports=BabelRuntimeHelpers.asyncToGenerator}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i=n(552);__subContextEngine__=i})(),(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};e.d(t,{default:()=>au});var n={};e.r(n),e.d(n,{ABORT_DOWNLOAD_TASK:()=>Dr,ABSOLUTE_PATH_ONLY:()=>Qi,AI_CREATE_SESSION_SDK_FAIL:()=>Ml,AI_DEVICE_NOT_SUPPORTED:()=>Cl,AI_ENVIRONMENT_NOT_READY:()=>Hl,AI_INVALID_ARGUMENT:()=>bl,AI_INVALID_MODEL_FILE_PATH:()=>Ll,AI_LIBRARY_NOT_SUPPORTED:()=>Al,AI_OS_NOT_SUPPORTED:()=>Sl,AI_RELEASE_SESSION_ID_FIAL_SESSION_ID_NOT_EXIST:()=>zl,AI_RUN_SESSION_INPUT_DATA_TYPE_IS_UNSUPPORTED:()=>Vl,AI_RUN_SESSION_INPUT_TENSORS_IS_EMPTY:()=>Fl,AI_RUN_SESSION_INPUT_TENSOR_ATTRIBUTION_IMCOMPLETE:()=>jl,AI_RUN_SESSION_INPUT_TENSOR_DATA_IS_INVALID:()=>$l,AI_RUN_SESSION_INVALID_SESSION_ID:()=>Wl,AI_RUN_SESSION_INVALID_SHAPE:()=>Gl,AI_RUN_SESSION_OUTPUT_DATA_TYPE_IS_UNSUPPORTED:()=>Ul,AI_RUN_SESSION_SDK_FAIL:()=>Zl,AI_RUN_SESSION_SESSION_ID_IS_EMPTY:()=>Bl,AI_SYSTEM_ERROR:()=>Tl,ANDROID_NOT_SUPPORT:()=>xr,API_OBSOLETED:()=>Ln,API_SCOPE_NOT_DECLARED:()=>Xn,APPLYUPDATE_HAS_BEEN_CALLED:()=>xi,APP_USERINFO_NOT_AUTHORIZED:()=>wo,BLE_ALREADY_CONNECT:()=>Xs,BLE_CONNECT_FAIL:()=>Zs,BLE_NOT_CONNECT:()=>zs,BLE_NOT_SERVICE:()=>Jo,BLE_NO_CHARACTERISTIC:()=>Hs,BLE_NO_DEVICE:()=>Ks,BLE_OPEN_BLUETOOTH_ADAPTER_STATE_UPDATE_TIMEOUT:()=>Qs,BLE_OPERATE_TIMEOUT:()=>Ys,BLE_PROP_NOT_SUPPORT:()=>js,BLE_SCAN_FAIL_LOCATION_DISABLED:()=>Js,BLE_SCAN_FAIL_LOCATION_PERMISSION_DENIED:()=>qs,BLE_SYSTEM_NOT_SUPPORT:()=>es,BLUETOOTH_BACKGROUND_MODE_APP_REACH_MAX_COUNT:()=>nl,BLUETOOTH_MONITOR_BIND_SN_DEVICEID:()=>ol,BLUETOOTH_MONITOR_CURRENT_INTERFACE_BUSY:()=>il,BLUETOOTH_MONITOR_DEVICE_EMPTY:()=>rl,BLUETOOTH_MONITOR_ENABLE_MONITORING:()=>ul,BLUETOOTH_MONITOR_INVALID_BIND_SN_APPID:()=>dl,BLUETOOTH_MONITOR_INVALID_DEVICES_MAX_COUNT:()=>pl,BLUETOOTH_MONITOR_INVALID_ENTRY_PACKAGE:()=>fl,BLUETOOTH_MONITOR_INVALID_ENV_VERSION:()=>ll,BLUETOOTH_MONITOR_INVALID_SN_SNTICKET:()=>sl,BLUETOOTH_MONITOR_INVALID_SUBPACKAGES:()=>hl,BLUETOOTH_MONITOR_ONLY_CONNECTED:()=>cl,BLUETOOTH_MONITOR_REPEAT_SN_DEVICEID:()=>al,BLUETOOTH_NEED_PIN:()=>tl,BLUETOOTH_NOT_AVAILABLE:()=>qo,BLUETOOTH_NOT_INIT:()=>Xo,BLUETOOTH_SYSTEM_ERROR:()=>Qo,BRANCHDIM_IS_OPTIONAL_STRING:()=>ma,BRANCHID_MUST_BE_STRING:()=>ga,CANCEL:()=>xn,CAN_NOT_INVOKE_RELAUNCH:()=>$i,CAN_NOT_NAVIGATE_BACK:()=>Ui,CGI_FAILED_FOR_NETWORK_ISSUES:()=>zn,CGI_FAILED_FOR_RESPONSE_NULL:()=>jn,CREATE_TEMP_FILE_FAIL:()=>ba,DOWNLOAD_EXCEED_MAX_FILE_SIZE_ERROR:()=>Lr,DOWNLOAD_FILE_DATA_EMPTY_ERROR:()=>Mr,DOWNLOAD_OPEN_PERMISSION_DENIED_ERROR:()=>Br,DOWNLOAD_SAVEFILE_ERROR:()=>kr,EMPTY_DOMAIN_HTTPDNS_RESULT:()=>Cr,EMPTY_SERVICER_RETURN:()=>yr,EVENTTYPE_ERROR:()=>Ea,EXITING_PICTURE_IN_PICTURE_MODE_NOW:()=>Da,FACE_DETECTION_DUPLICATED_INITIALIZATION:()=>wl,FACE_DETECTION_FAILED_INITIALIZATION:()=>Rl,FACE_DETECTION_NOT_INITIALIZE:()=>Pl,FACE_NOT_DETECTED_OR_DETECTION_FAILED:()=>xl,FINDER_APPID_TOKEN_NO_PERMISSION:()=>Ho,FINDER_GET_EMPTY_FINDER_INFO:()=>$o,FINDER_GET_PARTIALLY_VISIBLE_INFO:()=>Go,FINDER_INVALID_FINDER_TOKEN:()=>Zo,FINDER_NOT_SAME_CONTRACTOR:()=>Uo,FINDER_PARSE_TOKEN_FAILED:()=>zo,FINDER_TOKEN_HIT_SPAM_LIMIT:()=>jo,FS_ARRAY_BUFFER_FORBID_WRITE:()=>Co,FS_ARRAY_BUFFER_NOT_EXIST:()=>bo,FS_BAD_FD:()=>Ga,FS_DECOMPRESS_FAIL:()=>vo,FS_DIR_NOT_EMPTY:()=>Xa,FS_ENCODING_ERROR:()=>Qa,FS_EXT_ERROR:()=>to,FS_FD_INVALID_TYPE:()=>uo,FS_FD_LIMIT_EXCEEDED:()=>Eo,FS_FILE_ALREADY_EXIST:()=>oo,FS_ILLEGAL_OPERATION_ON_DIR:()=>ro,FS_ILLEGAL_OPERATION_ON_PACKAGE_DIR:()=>ao,FS_INVALID_ARG:()=>Ya,FS_INVALID_FLAG:()=>yo,FS_IO_ERROR:()=>$a,FS_IS_DIR:()=>ja,FS_LENGTH_OUT_OF_RANGE:()=>so,FS_NAME_TOO_LONG:()=>Ka,FS_NOT_DIR:()=>za,FS_NO_SUCH_FILE_OR_DIR:()=>Ua,FS_OFFSET_OUT_OF_RANGE:()=>lo,FS_OPEN_WITH_FLAG_FAIL:()=>To,FS_OPERATION_NOT_PERMITTED:()=>Wa,FS_PATH_PERMISSION_DENIED:()=>Ha,FS_PERMISSION_DENIED:()=>Za,FS_PERMISSION_DENIED_FD:()=>mo,FS_PERMISSION_DENIED_PATH:()=>no,FS_POSITION_OUT_OF_RANGE:()=>co,FS_SD_CARD_NOT_MOUNTED:()=>eo,FS_STORAGE_LIMIT_EXCEEDED:()=>Ja,FS_STORE_DIR_IS_EMPTY:()=>po,FS_SYSTEM_ERROR:()=>qa,FS_TEMP_FILE_NOT_EXIST:()=>go,FS_UNZIP_ENTRY_FAIL:()=>fo,FS_UNZIP_FAIL:()=>_o,FS_UNZIP_OPEN_FILE_FAIL:()=>ho,FS_WRITE_EMPTY_DATA:()=>io,GATT_SERVER_ALREADY_CONNECT:()=>ts,GATT_SERVER_NOT_CONNECT:()=>ns,GENERAL_FAIL_USE_OTHER_SERVICE:()=>Bn,GENERAL_TIME_OUT:()=>kn,GET_FINDER_INFO_FAILED:()=>Vo,GET_USER_PROFILE_INVALID_MODE:()=>Ro,GET_USER_PROFILE_SAME_USER_INFO:()=>Oo,GET_USER_PROFILE_USER_ALREADY_DENY_GRANT:()=>No,GET_USER_PROFILE_USER_ALREADY_GRANT:()=>xo,ILLEGAL_OPERATION_IN_BACKGROUND:()=>wa,IMAGE_DECODE_FAIL:()=>Ta,INTERNAL_ERROR:()=>Dn,INTERNAL_ERROR_SET_DB_DATA_FAIL:()=>ha,INVALID_FETCHTYPE:()=>va,INVALID_FINDER_EXPORT_ID:()=>Wo,INVALID_FINDER_USER_NAME:()=>Fo,INVALID_FRONTCOLOR:()=>qi,INVALID_KEY:()=>fa,INVALID_RANDOM_VALUE_LENGTH:()=>Vi,INVALID_REQUEST_DATA:()=>Vn,INVALID_SERVICER_RESPONSE:()=>br,INVALID_STYLE:()=>Ki,INVALID_TEMPLATE_ID:()=>Do,INVALID_TEXT:()=>tr,INVALID_TEXTSTYLE:()=>Ji,INVOKED_BY_USER_TAP:()=>Si,INVOKE_FREQUENTLY:()=>er,IOS_NOT_SUPPORT:()=>Rr,IOS_NOT_SUPPORT_CREATE_GAME_ENV:()=>Hi,IOS_NOT_SUPPORT_PAYMENT:()=>Hr,IS_LIVING_OR_CALLING_NOW:()=>Ia,JSAPI_AUTHORIZE_CANCELED:()=>$n,JSAPI_AUTHORIZE_DENIED:()=>Un,JSAPI_EMPTY_RET_DATA:()=>Hn,JSAPI_INVALID_INDEX:()=>Zn,JSAPI_INVALID_STATE:()=>Gn,JSAPI_NOT_SUPPORTED:()=>Fn,JSAPI_PERMISSION_DENIED:()=>Wn,JSON_PARSE_ERROR:()=>Ai,LENGTH_LIMITED:()=>Xi,LIST_REQUEST_FAIL:()=>ko,LOAD_RESOURCE_FILE_FAIL:()=>Ba,LOGIN_APPID_IS_BANNED:()=>Io,LOW_PC_VERSION_OR_NOT_LOGIN:()=>Yi,MDNS_RESOLVE_SYSTEM_ERROR:()=>Ur,NATIVE_BUFFER_EXCEED_SIZE_LIMIT:()=>On,NAVIGATE_ABILITY_BANNED:()=>Zi,NETWORK_ARGV_ERROR:()=>sr,NETWORK_CRONET_COMPONENT_ERROR:()=>ir,NETWORK_INTERRUPTED_ERROR:()=>ar,NETWORK_INVALID_REQUEST_DATA_ERROR:()=>pr,NETWORK_INVALID_URL_ERROR:()=>dr,NETWORK_LOGIC_ERROR:()=>or,NETWORK_MAX_REDIRECT_ERROR:()=>cr,NETWORK_MAX_TASK_ERROR:()=>ur,NETWORK_SYSTEM_ERROR:()=>lr,NETWORK_URL_NOT_IN_DOMAIN_LIST:()=>rr,NETWORK_URL_VALIDATE_ERROR:()=>hr,NFC_DISCOVERY_ALREADY_STARTED:()=>hs,NFC_DISCOVERY_NOT_STARTED:()=>fs,NFC_FUNCTION_NOT_SUPPORT:()=>ys,NFC_INVALID_TECH:()=>ms,NFC_NOT_OPENED:()=>ls,NFC_NOT_SET_DEFAULT_NFC_APPLICATION:()=>us,NFC_NOT_SUPPORT:()=>os,NFC_NOT_SUPPORT_HCE:()=>ss,NFC_PARSE_NDEF_MESSAGE_FAILED:()=>ps,NFC_REGISTER_AIDS_FAILED:()=>cs,NFC_SYSTEM_INTERNAL_ERROR:()=>Ts,NFC_TAG_NOT_DISCOVERED:()=>gs,NFC_TECH_ALREADY_CONNECTED:()=>_s,NFC_TECH_NOT_CONNECTED:()=>vs,NFC_UNAVAILABLE_TECH:()=>Es,NFC_USER_NOT_AUTHORIZED:()=>ds,NONEXISTENT_STORAGE_SPACE:()=>pa,NOT_BUY_HTTPDNS_SERVICE:()=>gr,NOT_GATT_SERVER:()=>is,NOT_IN_PICTURE_IN_PICTURE_MODE_NOW:()=>Na,NOT_IN_TOUCHEND:()=>ji,NOT_MINIPROGRAM_CAN_NAVIGATE_BACK:()=>zi,NOT_VALID_SERVICE_ID:()=>Sr,NO_ENOUGH_HTTPDNS_QUOTA:()=>Er,OK:()=>Rn,OPENAPI_APPID_NO_ENOUGH_QUOTA:()=>Ao,PAGE_NOT_FOUND:()=>Wi,PARAM_COMPRESS_QUALITY_INVALID:()=>Sa,PASTEBOARD_EMPTY_CONTENT:()=>_l,PASTEBOARD_UER_REJECT:()=>vl,PAYMENT_HONGBAO_QUICK_SEND_CANCEL_SELECT_CONVERSATION:()=>ca,PAYMENT_MIDAS_BUY_GOODS_FAILED:()=>jr,PAYMENT_MIDAS_CURRENCY_CANCEL_PAY_AMOUNT_EXCEEDED:()=>na,PAYMENT_MIDAS_CURRENCY_CANEL_PAY_FAILED:()=>Xr,PAYMENT_MIDAS_CURRENCY_IN_SUFFICIENT:()=>Qr,PAYMENT_MIDAS_CURRENCY_ORDER_ALREADY_REFUNDED:()=>ta,PAYMENT_MIDAS_CURRENCY_ORDER_NOT_EXISTS:()=>ea,PAYMENT_MIDAS_CURRENCY_PAY_DUPLICATED_OPERATOR:()=>ia,PAYMENT_MIDAS_CURRENCY_PAY_FAILED:()=>Kr,PAYMENT_MIDAS_CURRENCY_PRESENT_FAILED:()=>qr,PAYMENT_MIDAS_GET_ACCOUNT_BALANCE_FAILED:()=>Yr,PAYMENT_MIDAS_GET_COUPONS_FAILED:()=>aa,PAYMENT_MIDAS_GET_WATER_FAILED:()=>Jr,PAYMENT_MIDAS_INVALID_PARAMETER:()=>ra,PAYMENT_MIDAS_NO_VAILD_COUPONS:()=>sa,PAYMENT_MIDAS_NO_VALID_ROLLBACK_COUPON:()=>ua,PAYMENT_MIDAS_ORDER_ALREADY_PAID:()=>la,PAYMENT_MIDAS_SET_COUPONS_ORDER_FAILED:()=>oa,PAYMENT_NEED_REALNAME_VERIFY:()=>zr,PAYMENT_USE_LIMITED:()=>Gr,PHONE_NUMBER_GATEWAY_PHONE_NOT_MATCH:()=>Ko,PRIVACY_SCOPE_IS_BANNED:()=>Pi,PRIVACY_SCOPE_IS_NOT_ALLOWED_TO_AUTH:()=>wi,PRIVACY_SCOPE_IS_NOT_AUTH:()=>Ii,PROCESS_COMPRESS_IMAGE_ERROR:()=>Ca,PROCESS_OOM:()=>Kn,QUOTA_REACHED:()=>_a,REQUEST_BACKGROUND_PLAYBACK_BUT_IN_BACKGROUND:()=>Ma,REQUEST_BACKGROUND_PLAYBACK_BUT_IN_RTC_MODE:()=>La,REQUEST_BACKGROUND_PLAYBACK_BUT_SRC_EMPTY:()=>ka,REQUEST_BEYOUND_WEHTTPDNS_MAX_RETRY_NUMBER:()=>Ar,REQUEST_BIND_SOCKET_UNAVAILABLE_ERROR:()=>Pr,REQUEST_EXCEED_MAX_NATIVE_BUFFER_LIMIT_ERROR:()=>Ir,REQUEST_RESPONSE_DATA_COVERT_ERROR:()=>wr,REQUEST_SERVER_HTTP_ERROR:()=>vr,REQUEST_SERVICER_TIME_OUT:()=>Tr,REQUEST_SYSTEM_ERROR:()=>_r,REQUIRE_DOWNLOADID_OR_DOWNLOADIDARRAY_OR_APPIDARRAY:()=>Nr,REQUIRE_PACKAGENAME_OR_PACKAGENAMEARRAY:()=>Or,REQUIRE_USER_INTERACTION:()=>Mn,SAVE_TO_ALBUM_AFTER_TAKE_SNAPSHOT_FAIL:()=>xa,SAVE_TO_TEMP_FILE_AFTER_TAKE_SNAPSHOT_FAIL:()=>Oa,SCOCKETTASK_READYSTATE_IS_NOT_OPEN:()=>Vr,SCOPE_EMPTY:()=>Yn,SEND_SMS_CONTENT_LENGTH_REACH_MAX_COUNT:()=>gl,SERVICE_EXPIRED:()=>mr,SETTINGS_PAGE_NOT_FOUND:()=>Ri,SIM_SERVICE_NOT_CONNECTED:()=>El,SIM_SYSTEM_ERROR:()=>yl,SIM_SYSTEM_NOT_SUPPORT:()=>ml,SRC_IMAGE_WIDTH_OR_HEIGHT_IS_ZERO:()=>Aa,STOP_FACE_DETECTION_FAILED:()=>Ol,SUBPACKAGE_LOADING_CLIENT_CHECKSUM_FAIL:()=>ki,SUBPACKAGE_LOADING_NETWORK_COMPONENT_FAIL:()=>Li,SUBPACKAGE_LOADING_NETWORK_FAIL_GONE:()=>Bi,SUBPACKAGE_LOADING_NETWORK_FAIL_NOT_FOUND:()=>Mi,SUBPACKAGE_LOADING_SERVER_FAIL:()=>Fi,SUBPACKAGE_LOADING_SUBPACKAGE_NOT_EXIST:()=>Di,SUBPACKAGE_LOADING_UNKOWN_ERROR:()=>Ni,SUBSCRIBE_CGI_FAIL:()=>Bo,SUBSCRIBE_INVALID_TEMPLATE_ID:()=>Mo,SUBSCRIBE_REQUEST_FAIL:()=>Lo,SYSTEM_PERMISSION_DENIED:()=>Nn,SYSTEM_RECORD_OR_CAMERA_PERMISSION_DENIED:()=>Fa,SYSTEM_RECORD_PERMISSION_DENIED:()=>Pa,TAKE_SNAPSHOT_FAIL:()=>Ra,TARGET_FILE_NOT_EXISTS:()=>ya,UNKNOWN_BLE_ERROR:()=>Gs,UNKNOWN_BLUETOOTH_ERROR:()=>el,UNKNOWN_ERROR:()=>Il,UNKNOWN_IBEACON_ERROR:()=>rs,UNKNOWN_LOCATION_ERROR:()=>Va,UNKNOWN_NETWORK_ERROR:()=>nr,UNKNOWN_NETWORK_REQUEST_ERROR:()=>fr,UNKNOWN_NFC_ERROR:()=>as,UNKNOWN_OPENAPI_ERROR:()=>So,UNKNOWN_PAYMENT_DEFAULT_CLASS_ERROR:()=>Zr,UNKNOWN_PAYMENT_ERROR:()=>$r,UNKNOWN_STORAGE_ERROR:()=>da,UNKNOWN_USERINFO_ERROR:()=>Po,UNKNOWN_WIFI_ERROR:()=>bs,UPDATE_IS_NOT_READY:()=>Oi,URL_HAS_BEEN_BANNED:()=>Gi,VK_NO_MINIPROGRAM_CAMERA_ACCESS:()=>kl,VK_NO_SYSTEM_CAMERA_ACCESS:()=>Dl,VK_SESSION_UNAVAILABLE:()=>Nl,WEBSOCKET_CONNECT_FAIL:()=>Wr,WEBSOCKET_IS_NOT_CONNECTED:()=>Fr,WEWORK_NOT_SAME_CONTRACTOR:()=>Yo,WIFI_FAIL_CONNECTED_WIFI_INVALID:()=>ws,WIFI_FAIL_CONNECTED_WIFI_IS_NULL:()=>Ps,WIFI_FAIL_CONNECT_WIFI_DUPLICATED_REQUEST:()=>Ns,WIFI_FAIL_CONNECT_WIFI_INVALID_PASSWORD:()=>Ws,WIFI_FAIL_CONNECT_WIFI_INVALID_SSID:()=>Fs,WIFI_FAIL_CONNECT_WIFI_IN_BACKGROUND:()=>xs,WIFI_FAIL_CONNECT_WIFI_OPEN_SETTINGS:()=>Os,WIFI_FAIL_CONNECT_WIFI_PASSWORD_ERROR:()=>Ds,WIFI_FAIL_CONNECT_WIFI_PENDING:()=>Vs,WIFI_FAIL_CONNECT_WIFI_SYSTEM_CONFIG_ERROR:()=>Bs,WIFI_FAIL_CONNECT_WIFI_SYSTEM_ERROR:()=>Us,WIFI_FAIL_CONNECT_WIFI_TIMEOUT:()=>Ls,WIFI_FAIL_CONNECT_WIFI_UNKNOWN_ERROR:()=>Rs,WIFI_FAIL_CONNECT_WIFI_USER_DENIED:()=>Ms,WIFI_FAIL_CONNECT_WIFI_WIFI_CONFIG_EXPIRED:()=>ks,WIFI_FAIL_GET_CONNECTED_WIFI_FAIL:()=>$s,WIFI_FAIL_MAYBE_CAUSE_BY_GPS_NOT_OPENED:()=>As,WIFI_FAIL_MAYBE_CAUSE_BY_GPS_PERMISSION_DENIED:()=>Is,WIFI_NOT_INIT:()=>Cs,WIFI_NOT_OPENED:()=>Ss,WXAPI_EMPTY_REQUEST:()=>Qn,WXAPI_INVALID_REQUEST_PARAM:()=>Jn,WXAPI_SERVER_CODE_ALREADY_USED:()=>gi,WXAPI_SERVER_CODE_EXPIRED:()=>mi,WXAPI_SERVER_DATA_DELETED:()=>si,WXAPI_SERVER_DATA_EXPIRED:()=>oi,WXAPI_SERVER_DUPLICATED_UUID:()=>_i,WXAPI_SERVER_Frequency_Limit:()=>ei,WXAPI_SERVER_GET_NO_DATA:()=>ri,WXAPI_SERVER_INSERT_DATA_FAILED:()=>ii,WXAPI_SERVER_INVALID_API:()=>pi,WXAPI_SERVER_INVALID_APPID:()=>ni,WXAPI_SERVER_INVALID_JSON:()=>Ei,WXAPI_SERVER_INVALID_OPEN_ID:()=>ti,WXAPI_SERVER_INVALID_PLUGIN_APPID:()=>Ti,WXAPI_SERVER_INVALID_STATE:()=>yi,WXAPI_SERVER_INVALID_USER_ID:()=>li,WXAPI_SERVER_INVALID_USER_TICKET:()=>di,WXAPI_SERVER_MEM_ERR:()=>fi,WXAPI_SERVER_NOT_FRIEND:()=>vi,WXAPI_SERVER_REQURE_GET_METHOD:()=>ci,WXAPI_SERVER_REQURE_POST_METHOD:()=>ui,WXAPI_SERVER_SYSTEM_ERROR:()=>qn,WXAPI_SERVER_UPDATE_DATA_FAILED:()=>ai,WXAPI_SERVER_WEBSOCKT_NO_CONN_INFO:()=>hi,WXAPI_SERVER_WXA_APPID_PRIVACY_API_BANNED:()=>bi,WXAPI_SERVER_WXA_GAME_APPID_PRIVACY_API_BANNED:()=>Ci});var i=()=>{r!==__wxConfig&&void 0!==r&&Object.assign(r,__wxConfig)},r=(()=>(__wxConfig.onReady(i),__wxConfig))();const a=r;var o=(()=>a.platform)(),s=(()=>"devtools"===o)();var l;function u(){return 7===a.appType}var c={get invoke(){return l},set invoke(e){l=e}};const d=c;function p(e,t,n,i={}){WeixinJSBridge.invoke(e,t,n,i)}function h(e,t){Foundation.onLoad((()=>{WeixinJSBridge.addEventListener(e,((e,n,i)=>{"number"==typeof(null==i?void 0:i.__subscribe_webviewId)&&t(e,n,i)}))}))}function f(e,t,n){__subContextEngine__.postMessageToMainContext({event:e,params:{params:t,pageId:n}})}var _=new Map,v=new Map;function g(e,t,n){!function(e,t,n){v.has(t)||v.set(t,new Map);var i=v.get(t);i.has(e)||i.set(e,[]),i.get(e).push(n)}(e,t,n)}function m(e,t={},n={},i={}){var r={};Object.keys(t).forEach((e=>{"function"==typeof t[e]&&(r[e]=t[e],delete t[e])})),M(i)(e,t,(t=>{t.errMsg=t.errMsg||`${e}:ok`;var i=0===t.errMsg.indexOf(`${e}:ok`),a=0===t.errMsg.indexOf(`${e}:cancel`),o=0===t.errMsg.indexOf(`${e}:fail`);"function"==typeof n.beforeAll&&n.beforeAll(t),i?("function"==typeof n.beforeSuccess&&n.beforeSuccess(t),"function"==typeof r.success&&r.success(t),"function"==typeof n.afterSuccess&&n.afterSuccess(t)):a?("function"==typeof r.cancel&&r.cancel(t),"function"==typeof n.cancel&&n.cancel(t)):o&&("function"==typeof n.beforeFail&&n.beforeFail(t),"function"==typeof r.fail&&r.fail(t),"function"==typeof n.afterFail&&n.afterFail(t)),"function"==typeof r.complete&&r.complete(t),"function"==typeof n.afterAll&&n.afterAll(t)}))}__subContextEngine__.onMainContextMessage((e=>{var t,n,i;t=e.event,n=e.params,null===(i=_.get(t))||void 0===i||i.forEach((e=>{void 0!==n.pageId?e(n.params,n.pageId):__webviewEngine__.getAllPageIds((t=>{null==t||t.forEach((t=>{e(n.params,t)}))}))})),function(e,t){var n,i,r=t.pageId;void 0!==r&&(null===(n=v.get(r))||void 0===n||null===(i=n.get(e))||void 0===i||i.forEach((e=>{e(t.params,r)}))),v.forEach(((n,i)=>{var r;null===(r=n.get(e))||void 0===r||r.forEach((e=>{e(t.params,i)}))}))}(e.event,e.params)}));var E=(e,t={},n={})=>{m(e,t,n)},y=e=>(t,n,i)=>{m(t,n,i,e)},T={insertCamera:1,insertXWebCamera:1};function b(e,t){h(e,t)}d.invoke=E;var C,{EventEmitter:S}=Foundation,A=new S,I=function(e,t){__webviewEngine__.getRandomPageId((n=>{f(e,t,n)}))},P=e=>function(t,n){f(t,n,e)},w=function(e,t){!function(e,t){_.has(e)||_.set(e,[]),_.get(e).push(t)}(e,t)},R=function(e,t){!function(e,t){var n=_.get(e);if(n){var i=n.indexOf(t);i>-1&&n.splice(i,1)}}(e,t)},x=[],O=(...e)=>{x.push(e)};function N(e,t,n,i,r={}){var a=t=>{"function"!=typeof C||"string"==typeof t.errMsg&&0!==t.errMsg.indexOf(`${e}:ok`)||(T[e]&&I("authPopUpSuccess",e),C(e,n)),"function"==typeof i&&i(t)};"string"==typeof n&&n.startsWith("wx")?__wxConfig.supportInvokeWithAppId?(r.appId=n,p(e,t,a,r)):O(n,e,t,(t=>{p(e,t,a,r)})):p(e,t,a,r)}var D=new Set(["getGlobalStorage","setGlobalStorage","getGlobalStorageInfo","removeGlobalStorage","preloadWebview"]),k=(e,t,n)=>{var i;if(void 0===t.__invoke_webviewId)return"function"!=typeof(null===(i=__webviewEngine__)||void 0===i?void 0:i.getRandomPageId)?(wxNativeConsole.info("__webviewEngine__.getRandomPageId not available, may be too early to call invoke, invoke with no webviewId"),void n(t)):void __webviewEngine__.getRandomPageId((i=>{t.__invoke_webviewId=i,D.has(e)||wxNativeConsole.warn(`no pageId found when invoking JsApi "${e}" from skyline render context, using ${i}. If this is expected, add "${e}" to allowRandomPageIdSet`),n(t)}));n(t)},L=(e,t={},n,i={})=>{k(e,t,(t=>{N(e,t,"",n,i)}))},M=(e={})=>(t,n={},i,r)=>{void 0!==e.pageId?(n.__invoke_webviewId=e.pageId,N(t,n,e.pluginId,i,r)):k(t,n,(n=>{N(t,n,e.pluginId,i,r)}))},B=e=>"string"==typeof e&&e.trim()?1:0,F=e=>"boolean"==typeof e&&e?1:0;const V={"match-media":{},"movable-area":{rate:.1},"movable-view":{rate:.1},"page-container":{},"root-portal":{},"scroll-view":{props:["refresher-threshold","refresher-default-style","refresher-background","cache-extent","min-drag-distance","refresher-two-level-threshold","refresher-two-level-close-threshold","throttle"],propVals:["enable-back-to-top","enable-passive","refresher-enabled","refresher-triggered","bounces","show-scrollbar","fast-deceleration","enable-flex","scroll-anchoring","enhanced","paging-enabled","type","reverse","scroll-into-view-within-extent","scroll-into-view-alignment","clip","refresher-two-level-enabled","refresher-two-level-triggered","refresher-two-level-scroll-enabled","refresher-ballistic-refresh-enabled","refresher-two-level-pinned"],rate:.1},swiper:{props:["cache-extent"],propVals:["snap-to-edge","scroll-with-animation"],rate:.1},"swiper-item":{propVals:["skip-hidden-item-layout"],rate:.1},icon:{propVals:["type"],rate:.1},progress:{rate:.1},"rich-text":{propVals:["user-select","mode"],rate:.1},button:{props:["session-from","send-message-title","send-message-path","send-message-img","app-parameter"],propVals:["form-type","open-type","show-message-card","phone-number-no-quota-toast"],filters:{"open-type":B,"session-from":B,"send-message-title":B,"send-message-path":B,"send-message-img":B,"app-parameter":B,"form-type":B,"show-message-card":F,"phone-number-no-quota-toast":F},rate:.1},checkbox:{rate:.1},"checkbox-group":{rate:.1},editor:{props:["placeholder","aigc"],propVals:["read-only","show-img-size","show-img-toolbar","show-img-resize"]},form:{props:["report-submit"],rate:.1},input:{props:["cursor-spacing","cursor","cursor-color","selection-start","selection-end","safe-password-cert-path","safe-password-length","safe-password-time-stamp","safe-password-nonce","safe-password-salt","safe-password-custom-hash","aigc"],propVals:["type","password","confirm-type","always-embed","confirm-hold","adjust-position","hold-keyboard"],rate:.1},"keyboard-accessory":{},picker:{props:["header-text"],propVals:["mode","disabled"],rate:.1},"picker-view":{propVals:["immediate-change"],rate:.1},"picker-view-column":{rate:.1},radio:{rate:.1},"radio-group":{rate:.1},slider:{rate:.1},switch:{rate:.1},textarea:{props:["cursor-spacing","cursor","selection-start","selection-end","aigc"],propVals:["auto-height","show-confirm-bar","adjust-position","hold-keyboard","disable-default-padding","confirm-type","confirm-hold","adjust-keyboard-to","fixed"],rate:.1},"double-tap-gesture-handler":{props:["tag","simultaneous-handlers","native-view"]},"force-press-gesture-handler":{props:["tag","simultaneous-handlers","native-view"]},"horizontal-drag-gesture-handler":{props:["tag","simultaneous-handlers","native-view"]},"long-press-gesture-handler":{props:["tag","simultaneous-handlers","native-view"]},"pan-gesture-handler":{props:["tag","simultaneous-handlers","native-view"]},"scale-gesture-handler":{props:["tag","simultaneous-handlers","native-view"]},"tap-gesture-handler":{props:["tag","simultaneous-handlers","native-view"]},"vertical-drag-gesture-handler":{props:["tag","simultaneous-handlers","native-view"]},"grid-view":{props:["cross-axis-count","max-cross-axis-extent","main-axis-gap","cross-axis-gap","padding"],propVals:["type"]},"list-view":{props:["padding"]},"nested-scroll-body":{},"nested-scroll-header":{},"list-builder":{},"grid-builder":{},"share-element":{props:["key","duration","easing-function","shuttle-on-pop"],propVals:["transform","transition-on-gesture","shuttle-on-push","rect-tween-type"]},snapshot:{propVals:["mode"]},span:{},"sticky-header":{props:["offset-top","padding"]},"sticky-section":{props:["padding"],propVals:["push-pinned-header"]},"functional-page-navigator":{props:["args"],propVals:["version","name"]},navigator:{props:["app-id","path","extra-data","short-link","target"],propVals:["version"],filters:{target:e=>"miniProgram"===e?1:0}},audio:{},camera:{propVals:["mode","resolution","device-position","flash","frame-size"]},"channel-live":{props:["finder-user-name"],propVals:["feed-id"]},"channel-video":{props:["finder-user-name","feed-token","autoplay"],propVals:["feed-id","loop","muted","object-fit"]},image:{props:["show-menu-by-longpress"],filters:{"show-menu-by-longpress":F}},"live-player":{props:["src","min-cache","max-cache"],propVals:["mode","autoplay","muted","orientation","object-fit","background-mute","sound-mode","auto-pause-if-navigate","auto-pause-if-open-native","picture-in-picture-mode","enable-auto-rotation","referrer-policy","enable-casting"],extra1:["src"]},"live-pusher":{props:["url","beauty","whiteness","min-bitrate","max-bitrate","waiting-image","waiting-image-hash","video-width","video-height","skin-whiteness","skin-smoothness","face-thinness","eye-bigness","fps"],propVals:["mode","autopush","enableVideoCustomRender","muted","enable-camera","auto-focus","orientation","aspect","audio-quality","zoom","device-position","background-mute","mirror","remote-mirror","local-mirror","audio-reverb-type","enable-mic","enable-agc","enable-ans","audio-volume-type","beauty-style","filter","picture-in-picture-mode","voice-changer-type","custom-effect"],extra1:["url"]},video:{props:["src","duration","danmu-list","initial-time","poster","title","ad-unit-id","poster-for-crawler","background-poster","provision-url","certificate-url","license-url","preferred-peak-bit-rate"],propVals:["controls","danmu-btn","enable-danmu","autoplay","loop","muted","page-gesture","direction","show-progress","show-fullscreen-btn","show-play-btn","show-center-play-btn","enable-progress-gesture","object-fit","show-mute-btn","play-btn-position","enable-play-gesture","auto-pause-if-navigate","auto-pause-if-open-native","vslide-gesture","vslide-gesture-in-fullscreen","show-bottom-progress","show-casting-button","picture-in-picture-mode","picture-in-picture-show-progress","enable-auto-rotation","show-screen-lock-button","show-snapshot-button","show-background-playback-button","referrer-policy","is-drm","is-live"],extra1:["src"]},"voip-room":{props:["openid"],propVals:["mode","device-position","object-fit"]},map:{props:["longitude","latitude","scale","min-scale","max-scale","markers","covers","polyline","circles","controls","include-points","polygons","subkey","layer-style","rotate","skew","setting"],propVals:["show-location","enable-3D","show-compass","show-scale","enable-overlooking","enable-auto-max-overlooking","enable-zoom","enable-scroll","enable-rotate","enable-satellite","enable-traffic","enable-poi","enable-building"],rate:.1},canvas:{props:["type","canvas-id"],propVals:["disable-scroll"],rate:.1},"official-account":{},"open-data":{},"web-view":{rate:.1},"navigation-bar":{props:["title","background-color","color-animation-duration"],propVals:["loading","front-color","color-animation-timing-func"],rate:.1},"page-meta":{props:["background-text-style","background-color","background-color-top","background-color-bottom","root-background-color","page-style","page-font-size","root-font-size","page-orientation","scroll-top","scroll-duration"],rate:.1},"aigc-container":{}};function W(){return Reporter}function U(e){return"string"!=typeof e?JSON.stringify(e||{}):e}var $=1e3,G=null,Z=[],H=!1,z=!1,j=s||!!0,Y=[];function K(){G=null,0!==Z.length&&(WeixinJSBridge.invoke("reportKeyValue",{noCallback:!0,version:2,dataArray:Z.map((e=>({key:26308,value:[e.category,e.name,Math.round(1e3*e.timeStamp),e.phase,encodeURIComponent(U(e.args))].join(",")})))}),Z=[])}function X(e,t){s&&function(e,t){var n={...t,phase:e};n.args=U(n.args),WeixinJSBridge.invoke("traceEvent",{events:[n]})}(e,t),H&&function(e,t){(z||"API"!==t.category)&&(G||(G=setTimeout(K,$)),Z.push({...t,phase:e}))}(e,t)}function q(){return j}a.onReady((e=>{var t,n,i=null===(t=e.expt)||void 0===t?void 0:t.clicfg_appbrand_report_trace_event;("1"===i?H=!0:"2"===i&&(H=!0,z=!0),j=j||z||!!function(){if(a&&"debug"in a&&void 0!==a.debug)return!!a.debug}())&&(null===(n=Y)||void 0===n||n.forEach((e=>e())));Y=null}));var J=!1;function Q(){var e;return J?performance.now()+(performance.timeOrigin||(null===(e=performance.timing)||void 0===e?void 0:e.navigationStart)||0):Date.now()}var ee={},te={};function ne(e,t){ee[e]||(ee[e]=[]),ee[e].push(t)}function ie(e,t){te[e]||(te[e]=[]),te[e].push(t)}function re(e){var t=[];function n(n,i,r,a=!1){var o;if(Trace.traceBegin(n,i),!a){var s={category:n,name:i,timeStamp:Q(),args:r||{}};t.push(s),"Framework"===n&&wxNativeConsole.info(`[Trace][B] ${i} @ ${s.timeStamp} ${s.args.path||""}`),null===(o=ee[s.category])||void 0===o||o.forEach((t=>t(s,e))),X("B",s)}}function i(n,i=!1){var r,a;if(Trace.traceEnd(),!i){var o=Q(),s=t.pop();if(!s)return wxNativeConsole.error("[Trace] Must call traceBeginEvent before traceEndEvent."),W().assertWithIDKey(!1,6),void W().errorReport({key:"appServiceSDKScriptError",error:new Error(`traceEndEvent mismatch, args=${JSON.stringify(n||{})}`)});var l=s.args,u=s.timeStamp;s.timeStamp=o,s.args=n||s.args,"Framework"===s.category&&wxNativeConsole.info(`[Trace][E] ${s.name} @ ${s.timeStamp} ${(null===(r=s.args)||void 0===r?void 0:r.path)||""}`),null===(a=te[s.category])||void 0===a||a.forEach((t=>t(s,u,l,e))),X("E",s)}}function r(e,t){n("API",e,t,q())}function a(){i(void 0,q())}return{traceBeginEvent:n,traceEndEvent:i,traceBeginAPI:r,traceEndAPI:a,useTraced:function(e,t,r,a){return function(...o){try{return n(e,t,a),r.apply(this,o)}finally{i()}}},useTracedEnd:function(e){return function(...t){try{return e(...t)}finally{i()}}},traceFlag:function(t,n,i){var r,a,o=Q(),s={category:t,name:n,timeStamp:o,args:i||{}};Trace.traceInstant(t,n),"Framework"===t&&wxNativeConsole.info(`[Trace][I] ${n} @ ${o}`),null===(r=ee[t])||void 0===r||r.forEach((t=>t(s,e))),X("B",s),X("E",s),null===(a=te[t])||void 0===a||a.forEach((t=>t(s,o,i,e)))},useTracedApi:function(e,t,n){return function(...i){try{return r(e,n),t.apply(this,i)}finally{a()}}},useTracedApiEnd:function(e){return function(...t){try{return e.apply(this,t)}finally{a()}}}}}const ae=re(Infinity);var oe=null,se=!1,le="scheduleResize",ue=e=>{if(oe=e,!se){se=!0;var t=!1,n=()=>{t||(t=!0,se=!1,"function"==typeof de&&de(oe),A.emit(le,oe))};setTimeout(n,16),requestAnimationFrame(n)}},ce=e=>{oe&&oe.size.windowWidth===e.size.windowWidth&&oe.size.windowHeight===e.size.windowHeight&&oe.deviceOrientation===e.deviceOrientation||ue(e)};b("onViewDidResize",(e=>{ce(e)})),b("onAppRouteResized",(e=>{ce(e)}));var de,pe="AppEnterForeground",he="AppEnterBackground";function fe(e){var t=e.match(/(.+?):([-_a-z0-9]+)(?= |:|$)/i);return t?{method:t[1],state:t[2],detail:e.slice(t[0].length+1)}:{methods:"",state:"",detail:""}}w("onAppEnterForeground",(e=>{A.emit(pe,e)})),w("onAppEnterBackground",(e=>{A.emit(he,e)}));var _e={"":"",EXIT_STATE:"exitState",PLUGIN_PERMISSION_BYTES:"pluginPermissionBytes",COOKIES:"cookies",SUBJECT_CHANGE:"subjectChange",RISK_WARNING:"riskWarning",REQUEST_PAYMENT:"requestPayment",PATCH_WRONG_QUERY:"patchWrongQuery",REQUEST_SUBSCRIBE_DEVICE_MESSAGE:"requestSubscribeDeviceMessage",COMMON_EXPT_CONFIG:"commonExptConfig",LICENSE:"license",TRANSLATE:"translate"},ve=()=>{},ge=0,me=(e,t)=>{try{return JSON.parse(e)}catch(e){return t}},Ee=(e,t)=>{wxNativeConsole.error(e,t,(new Error).stack),Reporter.errorReport({key:"appSubContextSDKScriptError",error:new Error(`${e};${t}`)})},ye=(e,t)=>{a.onReady((()=>{L("getGlobalStorage",e,t||ve)}))},Te=(e,t)=>{a.onReady((()=>{L("setGlobalStorage",e,t||ve)}))},be=e=>{a.onReady((()=>{L("getGlobalStorageInfo",{},e||ve)}))},Ce=(e,t)=>{a.onReady((()=>{L("removeGlobalStorage",e,t||ve)}))},Se={createOrGetStorageGroup(e,t,n,i){new Ae(e+":"+t,n)._prepare(i||ve)},_setMetadata(e,t){Te({key:":~",data:JSON.stringify(e)},(e=>{"ok"!==fe(e.errMsg).state&&Ee("Failed set storage metadata",e.errMsg),t(null,this)}))},_logGlobalStorageInfo(){be((e=>{}))},gabbageCollectCheck(e){ye({key:":~"},(t=>{var n={lastGabbageCollectionCheckUnixTimestamp:0},i=fe(t.errMsg);return"ok"!==i.state?"data not found"!==i.detail&&Ee("Failed get storage metadata while gabbage collection",t.errMsg):n=me(t.data,n),1e3*n.lastGabbageCollectionCheckUnixTimestamp+864e5>=Date.now()?e():(n.lastGabbageCollectionCheckUnixTimestamp=Math.floor(Date.now()/1e3),Se._setMetadata(n,(()=>{Se.gabbageCollect(e)})),null)}))},gabbageCollect(e){be((t=>{if("ok"===fe(t.errMsg).state){var n=!1;1024*t.currentSize>=16777216&&(Ee("Detected hard limit while gabbage collection","At size "+t.currentSize),n=!0);var i=Math.floor(Date.now()/1e3),r=t.keys||[],a=[],o={},s={};r.forEach((e=>{if(":~"!==e){var[t]=e.split("::",2);if(t===e){var n=t;":~"===n.slice(-2)?s[n]="{}":a.push(n)}else o[t]?o[t].push(e):o[t]=[e]}})),((e,t)=>{t=t||ve;var n=Object.keys(e),i=0,r=()=>{if(i===n.length)return t();var a=n[i];return ye({key:a},(t=>{var n=fe(t.errMsg);"ok"!==n.state?"data not found"!==n.detail&&Ee("Failed get storage item while gabbage collection",t.errMsg):e[a]=t.data,i++,r()})),null};r()})(s,(()=>{for(var t in s){var r=t.slice(0,-2),l=me(s[t],{}).expireUnixTimestamp;if(n||!(l>i)){var u=o[r];a.push(t),u&&a.push(...u)}}for(var c in o){var d=c+":~";if(null===s[d]||void 0===s[d]){var p=o[c];p&&a.push(...p)}}((e,t)=>{t=t||ve;var n=0,i=()=>n===e.length?t():(Ce({key:e[n]},(e=>{"ok"!==fe(e.errMsg).state&&Ee("Failed remove storage item while gabbage collection",e.errMsg),n++,i()})),null);i()})(a,e)}))}else Ee("Failed listing storage keys while gabbage collection",t.errMsg)}))}};class Ae{constructor(e,t){this._name=e,this._needUpdateExpireTime=!!t,this._expireUnixTimestamp=Math.ceil((t||Date.now()+12096e5)/1e3)}_prepare(e){ye({key:this._name+":~"},(t=>{var n=fe(t.errMsg);return"ok"!==n.state?("data not found"!==n.detail&&Ee("Failed get storage group metadata",t.errMsg),this._setMetadata({expireUnixTimestamp:this._expireUnixTimestamp},e),null):me(t.data,{expireUnixTimestamp:0}).expireUnixTimestamp<=Math.floor(Date.now()/1e3)?(Se.gabbageCollect((()=>{this._setMetadata({expireUnixTimestamp:this._expireUnixTimestamp},e)})),null):this._needUpdateExpireTime?(this._setMetadata({expireUnixTimestamp:this._expireUnixTimestamp},e),null):e(null,this)}))}_setMetadata(e,t){Te({key:this._name+":~",data:JSON.stringify(e)},(()=>{t(null,this)}))}get(e,t){t=t||ve,ye({key:this._name+"::"+e},(e=>{var n=fe(e.errMsg);return"ok"!==n.state?"data not found"===n.detail?t(null,void 0):(Ee("Failed get storage group data",e.errMsg),t(e.errMsg)):t(null,me(e.data,void 0))}))}set(e,t,n){n=n||ve;var i=JSON.stringify(t),r=()=>{Te({key:this._name+"::"+e,data:String(i)},(e=>"ok"!==fe(e.errMsg).state?(Ee("Failed set storage group data",e.errMsg),n(e.errMsg)):n(null)))};(ge+=i.length)===i.length||ge>65536?Se.gabbageCollectCheck(r):r()}delete(e,t){t=t||ve,Ce({key:this._name+"::"+e},(e=>"ok"!==fe(e.errMsg).state?(Ee("Failed delete storage group data",e.errMsg),t(e.errMsg)):t(null)))}}function Ie(){}var Pe=(()=>Object.assign)();var we=Symbol("ErrorInfosSymbol");var Re=0,xe=[],Oe=[],Ne=({type:e="wx",name:t,args:n={},ext:i={},pluginId:r=""})=>{xe[Re]={success:n.success||Ie,fail:n.fail||Ie,complete:n.complete||Ie},Oe[Re]={beforeAll:i.beforeAll||Ie,beforeSuccess:i.beforeSuccess||Ie,afterSuccess:i.afterSuccess||Ie,beforeFail:i.beforeFail||Ie,afterFail:i.afterFail||Ie,afterAll:i.afterAll||Ie},I("invokeAppServiceMethod",{name:t,type:e,args:n,callbackId:Re,pluginId:r}),Re+=1},De=({type:e="wx",name:t,args:n={},ext:i={}})=>(e=>(t={},...n)=>new Promise(((i,r)=>e(Pe({},t,{success:i,fail:e=>{var{errMsg:t}=e,n=Pe({},e);delete n.errMsg;var i=new Error(t.replace(/^\w+:fail ?/,""));Pe(i,n),i[we]=n,r(i)},complete:(e={})=>{var{errMsg:t}=e;if(t&&!/^\w+:(ok|fail)/.test(t)){var n=new Error(e.errMsg.replace(/^\w+:/,"")),i=Pe({},e);delete i.errMsg,Pe(n,i),n[we]=i,n._complete_hook=!0,r(n)}}}),...n))))((n=>Ne({type:e,name:t,args:n,ext:i})))(n);w("callbackAppServiceMethod",(({res:e,isSuccess:t,callbackId:n})=>{var i=xe[n];delete xe[n];var r=Oe[n];delete Oe[n],null==r||r.beforeAll(e),t?(null==r||r.beforeSuccess(e),i.success(e),null==r||r.afterSuccess(e)):(null==r||r.beforeFail(e),i.fail(e),null==r||r.afterFail(e)),i.complete(e),null==r||r.afterAll(e)}));var ke=e=>{Ne({type:"custom",name:"invokeServiceOperateWXData",args:e})},Le=e=>{Ne({type:"custom",name:"invokeServiceAdReportOperateWXData",args:e})},Me=(e,t)=>{wxNativeConsole.info(`[Plugin] PermissionBytes ${e}: `,t)},Be=null,Fe=e=>e.split("/",1)[0],Ve=(e,t)=>{Me("start fetch","webapi_getpluginpermission"),ke({apiName:"webapi_getpluginpermission",reqData:{plugin_appid:e},success:e=>{var n=e.data,i={};(n.plugin_list||[]).forEach((e=>{var t=e.plugin_appid,n=i[t]={};(e.permission_list||[]).forEach((e=>{n[e.jsapi_name]=e.state}))})),Me("fetch new res",i),t(null,i)},fail:()=>{t("fetch new error, no data")}})},We=null,Ue=0,$e=1,Ge=(e,t)=>t("render view is not webview, cache not supported"),Ze=null,He=()=>{if(null!==Ze){var e=Ze;Ze=null,e.forEach((e=>{e()}))}},ze=e=>{__wxConfig.supportInvokeWithAppId||Be?e():Ze?Ze.push(e):(Ze=[e],__wxConfig.onReady((()=>{if(__wxConfig.supportInvokeWithAppId)Me("init","__wxConfig.supportInvokeWithAppId detected, will neither pull permission bytes by operateWXData nor storageGroup and use JsApi instead."),He();else{var e=()=>{var[e,t]=(()=>{var e,t,n,i=(null!==(e=null===(t=__wxConfig)||void 0===t||null===(n=t.appContactInfo)||void 0===n?void 0:n.call_plugin_info)&&void 0!==e?e:[]).map((e=>e.plugin_id));Me("pluginIds from __wxConfig",i);var r=__wxConfig.isFirstPage;return Me("isFirstPage",r=!0),[i,r]})();((e,t,n)=>{if(0===e.length)return Me("initBytes","no plugin found, ignore all fetching"),n({});if(t){var i=!1,r=(e,t,r)=>{if(e)return Me("init error",e);i||r===$e||void 0===t||(i=!0,Be=t,n(t))};Ve(e,((e,t)=>{if(e)return Me("init: fetch new error",e);r(e,t,We),Be=t})),Ge(0,r)}else Ge(0,((t,i,r)=>{if(t)return Me("init error",t);r!==We&&(Me("cache out of date, fetching new, type",r===Ue?"soft":"hard"),Ve(e,((e,t)=>{if(e)return Me("update error",e);Be=t,r===$e&&n(t)}))),r!==$e&&void 0!==i&&(Be=i,n(i))}))})(e.map(Fe),!0===t,He)};e()}})))},je=0,Ye={};w("responseGetPluginPermissionBytesByJsApi",(e=>{var t=Ye[null==e?void 0:e.reqId];"function"==typeof t&&(delete Ye[null==e?void 0:e.reqId],t(e.bytes))}));var Ke=(e,t,n)=>{ze((()=>{if(e=Fe(e),__wxConfig.supportInvokeWithAppId)I("getPluginPermissionBytesByJsApi",{pluginId:e,apiName:t,reqId:je}),Ye[je++]=n;else{var i,r,a=null===(i=Be)||void 0===i||null===(r=i[e])||void 0===r?void 0:r[t];null==a?a=[0,0,0]:"object"!=typeof a&&(a=[a,a,a]),n(a)}}))};__wxConfig.onReady((()=>{__wxConfig.supportInvokeWithAppId||ze((()=>{__subContextEngine__.postMessageToMainContext({name:"batchGetPluginPermissionBytes",data:{pluginPermissionBytes:Be}})}))})),O=(e,t,n,i)=>{ze((()=>{var r,a;e=Fe(e);var o=null===(r=Be)||void 0===r||null===(a=r[e])||void 0===a?void 0:a[t];void 0!==o&&(n.permissionBytes=null===o?[0,0,0]:"object"!=typeof o?[o,o,o]:o),i(n)}))},x.forEach((e=>{O(...e)}));var Xe={},qe=0;w("appLaunchInfoGot",(({res:e,callbackId:t})=>{var n=Xe[`${t}success`],i=Xe[`${t}fail`],r=Xe[`${t}complete`];delete Xe[`${t}success`],delete Xe[`${t}fail`],delete Xe[`${t}complete`],e.sceneHistory&&"function"==typeof n?n(e):"function"==typeof i&&i(e),"function"==typeof r&&r(e)}));function Je(e){return"number"==typeof e?`${e}px`:e}function Qe(e){return`${e}deg`}var et=Object.create(null);w("invokeWebviewMethod",(({name:e,args:t,callbackId:n})=>{((e,t,n)=>{var i=et[e];"function"==typeof i?i(t,(e=>{n(e)})):wxNativeConsole.error(`No such viewMethod "${e}" found. Ignored.`)})(e,t,(e=>{I("callbackWebviewMethod",{res:e,callbackId:n})}))}));var tt=(e,t,n=!1)=>{!n&&et[e]&&wxNativeConsole.warn(`viewMethod '${e}' is registered. If it meets expectations, please ignore this warning.`),et[e]=t},nt=7776e6,it=null,rt=(e,t)=>{it?it.set("cookies",e.cookies,(e=>{t(e)})):Se.createOrGetStorageGroup(_e.COOKIES,e.appId,Date.now()+nt,((n,i)=>{i?(it=i,rt(e,t)):t(n)}))},at=(e,t)=>{it?it.get("cookies",((e,n)=>{t(n)})):Se.createOrGetStorageGroup(_e.COOKIES,e.appId,Date.now()+nt,((n,i)=>{i?(it=i,at(e,t)):t()}))};tt("setCookiesToGlobalStorage",((e,t)=>{rt(e,t)})),tt("getCookiesFromGlobalStorage",((e,t)=>{at(e,t)}));var ot=(e,t)=>{var n,i,r={...e,...t};"string"==typeof r.path&&r.path.trim().length>0&&(n=(r.path||"").trim().replace(/(\?|$)/,".html$1")),i=e=>{var t=e.cookies;t?(r.privateExtraData=r.privateExtraData||{},r.privateExtraData.cookies=t):r.privateExtraData&&delete r.privateExtraData.cookies,Ne({name:"navigateToMiniProgram",type:"bridge",args:{...r,path:n},ext:{beforeSuccess(){Ne({type:"custom",name:"reportRecycledAPI",args:{name:"navigateToMiniProgram",scene:1}})}}})},Ne({type:"custom",name:"getPassCookieString",args:{success:i}})};Object.prototype.hasOwnProperty;function st(e,t={}){y(t)("enterContact",e,{beforeSuccess(e){var t;e.path&&(e.path=`/${t=e.path,"string"==typeof t?-1!==t.indexOf("?")?t.replace(/\.html\?/,"?"):t.replace(/\.html$/,""):t}`)}})}var lt=(e,t,n=!0)=>new Promise(((i,r)=>{Ne({name:"getRealRouteWithProtocol",type:"custom",args:{lastRoute:e,relativeRoute:t,needTrans:n,success:({route:e})=>{i(e)},fail:e=>{r(e)}}})}));function ut(e={},t={}){if(e.showMessageCard&&(e.sendMessagePath||e.sendMessageImg)){var n,i=Object.assign({},e);new Promise(((e,t)=>{Ne({name:"getCurrentRoute",type:"custom",args:{success:({currentRoute:t})=>{e(t)},fail:e=>{t(e)}}})})).then((t=>(n=t,e.sendMessagePath?lt(n,e.sendMessagePath,!0):void 0))).then((t=>(i.sendMessagePath=t,e.sendMessageImg&&!/^(http|https|wxfile):\/\//.test(e.sendMessageImg)?lt(n,e.sendMessageImg,!1):e.sendMessageImg))).then((e=>{i.sendMessageImg=e,st(i,t)})).catch((t=>{"function"==typeof e.fail&&e.fail(t)}))}else e.privateEnterContact?y(t)("privateEnterContact",e):st(e,t)}tt("appServiceEnterContact",((e,t)=>{e.complete=function(e){t&&t(e)},ut(Object.assign({sessionFrom:"wxapp",businessId:"",sendMessageImg:"",sendMessageTitle:"",showMessageCard:!1,sendMessagePath:""},e))})),tt("quicklyAddBrandContact",((e,t)=>{e.complete=function(e){e.errMsg&&(e.errMsg=e.errMsg.replace(/^private_/,"")),t&&t(e)},E("private_quicklyAddBrandContact",e)}));const ct=BabelRuntimeHelpers.asyncToGenerator;var dt=e.n(ct),pt=e=>new Promise(((t,n)=>{Ne({name:"handleCheckPrivacy",type:"custom",args:Object.assign(e,{success:t,fail:n})})})),ht=wxNativeConsole.createLogger("getPhoneNumber|webview"),ft=(e,t)=>{Ne({type:"custom",name:"reportGetPhoneNumber",args:{state:e,isrealtime:t}})},_t=function(){var e=dt()((function*(e={},t=""){ht.info("checkPrivacy");var n=yield pt({apiName:"button.getPhoneNumber"});if(ht.info("checkPrivacyResult",n),!n.success){ft("getPhoneNumber:fail "+n.errMsg+",errno:"+n.errno,e.isrealtime),console.error("getPhoneNumber:fail "+n.errMsg+",errno:"+n.errno);var i={public:{}};return i.public.errno=n.errno,i.public.errMsg=n.errMsg,void e.complete(i)}var r=Date.now(),a=e.complete,o=e.isrealtime,s=e.phoneNumberNoQuotaToast;delete e.complete;var l=()=>{var n={...e},i=o?"webapi_getuserwxphone_realtime":"webapi_getuserwxphone";n.api_name=i,n.with_credentials=true,n.data={api_name:i,with_credentials:true},y({pluginId:t})("getPhoneNumber",Object.assign({},n,{complete(e){var t=e.public;t.code?(ft("NativeGetPhone_Success",o),ht.info("NativeGetPhone_Success",e),((e,t,n)=>{ht.info("consumerGetPhoneNumberForOldStyle"),Ne({type:"custom",name:"consumerGetPhoneNumberForOldStyle",args:{args:e,isrealtime:t,request_id:n}})})(t,o,e.request_id),a(e)):(ft("NativeGetPhone_Fail_"+(e.errno||e.err_code||e.errCode)+"_"+e.errMsg,o),e.errno&&(t.errno=e.errno),a(e))}}),{beforeAll(e){e.errMsg.includes("appid no enough quota")&&(e.errMsg="no enough quota",e.errno=1400001);var t={};if(e.errMsg&&(t.errMsg=e.errMsg,e.errno&&(t.errno=e.errno)),e.encryptedData&&(t.encryptedData=e.encryptedData),e.iv&&(t.iv=e.iv),e.cloud_id&&(t.cloudID=e.cloud_id),e.data){var n;try{n=JSON.parse(e.data)}catch(e){}n&&n.code&&(t.code=n.code,e.request_id=n.request_id)}e.public=t}})};ht.info("invokeAppServiceMethod getPhoneNumber",o,s),Ne({type:"custom",name:"getPhoneNumber",args:{isrealtime:o,phoneNumberNoQuotaToast:s,time1:r,success:e=>{"complete"===e.invokeType?(ht.info("getPhoneNumberComplete",e),a(e.data)):"nativeGetPhone"===e.invokeType?(ht.info("getPhoneNumberNativeGetPhone",e),l()):ht.info("invokeAppServiceMethodGetPhoneNumberSuccess",e)}}})}));return function(){return e.apply(this,arguments)}}();tt("getPhoneNumber",((e,t)=>{_t({isrealtime:e.isrealtime,complete:t,permissionBytes:e.permissionBytes,phoneNumberNoQuotaToast:e.phoneNumberNoQuotaToast},e.pluginId)}));var vt={},gt=0;w("appEnterInfoGot",(({res:e,callbackId:t})=>{var n=vt[`${t}success`],i=vt[`${t}complete`];delete vt[`${t}success`],delete vt[`${t}fail`],delete vt[`${t}complete`],"function"==typeof n&&n(e),"function"==typeof i&&i(e)}));var mt,Et,yt=void 0===__libVersionInfo__?{version:"9.9.9",updateTime:"unknown"}:__libVersionInfo__,Tt=yt;var bt="updatePerfTimeline",Ct=function(e){return e[e.AS_Config_Ready_Begin=0]="AS_Config_Ready_Begin",e[e.AS_Config_Ready_End=1]="AS_Config_Ready_End",e[e.App_onLaunch=2]="App_onLaunch",e[e.App_onLaunch_End=3]="App_onLaunch_End",e[e.App_onShow=4]="App_onShow",e[e.App_onShow_End=5]="App_onShow_End",e[e.Evaluate_Script_Begin=6]="Evaluate_Script_Begin",e[e.Evaluate_Script_End=7]="Evaluate_Script_End",e[e.Evaluate_Script_Before_InitReady=8]="Evaluate_Script_Before_InitReady",e[e.Evaluate_Entry_Script=9]="Evaluate_Entry_Script",e[e.SubPackage_Ready_Begin=10]="SubPackage_Ready_Begin",e[e.SubPackage_Ready_End=11]="SubPackage_Ready_End",e[e.AppRoute_Begin=12]="AppRoute_Begin",e[e.AppRoute_End=13]="AppRoute_End",e[e.AppRoute_Callback_Begin=14]="AppRoute_Callback_Begin",e[e.AppRoute_Callback_End=15]="AppRoute_Callback_End",e[e.AppRoute_AppServiceEngine=16]="AppRoute_AppServiceEngine",e[e.Open_New_Page=17]="Open_New_Page",e[e.Publish_Init_Data=18]="Publish_Init_Data",e[e.Send_Init_Data=19]="Send_Init_Data",e[e.Recv_Init_Ready=20]="Recv_Init_Ready",e[e.AppRoute_Done_Begin=21]="AppRoute_Done_Begin",e[e.AppRoute_Done_End=22]="AppRoute_Done_End",e[e.TriggerAppRoute=23]="TriggerAppRoute",e[e.Page_onLoad=24]="Page_onLoad",e[e.Page_onLoad_End=25]="Page_onLoad_End",e[e.Page_onShow=26]="Page_onShow",e[e.Page_onShow_End=27]="Page_onShow_End",e[e.Evaluate_WAWebview_Begin=28]="Evaluate_WAWebview_Begin",e[e.Evaluate_WAWebview_End=29]="Evaluate_WAWebview_End",e[e.WV_Config_Ready_Begin=30]="WV_Config_Ready_Begin",e[e.WV_Config_Ready_End=31]="WV_Config_Ready_End",e[e.Evaluate_PageFrame_Begin=32]="Evaluate_PageFrame_Begin",e[e.Evaluate_PageFrame_End=33]="Evaluate_PageFrame_End",e[e.Evaluate_Subpackage_PageFrame_Begin=34]="Evaluate_Subpackage_PageFrame_Begin",e[e.Evaluate_Subpackage_PageFrame_End=35]="Evaluate_Subpackage_PageFrame_End",e[e.Set_CSS_Begin=36]="Set_CSS_Begin",e[e.Set_CSS_End=37]="Set_CSS_End",e[e.Generate_Func_Ready=38]="Generate_Func_Ready",e[e.Recv_Init_Data=39]="Recv_Init_Data",e[e.Init_Render_Begin=40]="Init_Render_Begin",e[e.Init_Render_End=41]="Init_Render_End",e[e.VD_Init_Render_Begin=42]="VD_Init_Render_Begin",e[e.VD_Init_Render_End=43]="VD_Init_Render_End",e[e.Send_Init_Ready=44]="Send_Init_Ready",e[e.Init_Ready_Rendering_Cache=45]="Init_Ready_Rendering_Cache",e[e.Init_Ready_Prerender=46]="Init_Ready_Prerender",e[e.Init_Ready_After_Rendering_Cache=47]="Init_Ready_After_Rendering_Cache",e[e.Init_Ready_Client=48]="Init_Ready_Client",e[e.Real_Init_Ready=49]="Real_Init_Ready",e[e.First_User_Interaction=50]="First_User_Interaction",e[e.FP=51]="FP",e[e.FCP=52]="FCP",e[e.LCP=53]="LCP",e[e.First_Start_Render=54]="First_Start_Render",e[e.Raster_Finish=55]="Raster_Finish",e}({}),St=[],At={};function It(e){return 0===e?"N/A":Math.round(e-(a.coldLaunchTime||0))}var Pt=(null===(mt=Foundation)||void 0===mt||null===(Et=mt.env)||void 0===Et?void 0:Et.typeStr)||"UNKNOWN";function wt(e,t,n={}){n.noRecord||St.push([e,t]),At[e]=t,n.noLog||wxNativeConsole.info(`[CheckPoint][${Pt}][${It(t)}] ${Ct[e]} @ ${t}`)}new Set;var Rt=(e,t,n,i)=>{wxNativeConsole.info(`[Webview] speedReport ${e} (start=${t}, end=${n})`),Reporter.speedReport({key:e,timeMark:{startTime:t},endTime:n,force:"reRenderTime"!==e,data:i})};function xt(e,t=200){"function"==typeof window.requestIdleCallback?window.requestIdleCallback((()=>{e()}),{timeout:t}):setTimeout((()=>{requestAnimationFrame((()=>{e()}))}),0)}class Ot{constructor(e){this.id=e,this.timeline={},this.timelineData=[]}set(e,t){return this.timeline[e]=t,this.timelineData.push([e,t]),wt(e,t,{noRecord:!0}),this}g(e){return this.timeline[e]||0}get(e){return this.g(e)}pull(){var e=function(){var e=St;return St=[],e}().concat(this.timelineData);return this.timelineData=[],e}}var Nt={};function Dt(e){return e in Nt||(Nt[e]=new Ot(e)),Nt[e]}a.onReady((e=>{wt(Ct.WV_Config_Ready_Begin,e.onReadyStart||0),setTimeout((()=>{wt(Ct.WV_Config_Ready_End,e.onReadyEnd||0)}),0)})),ne("Framework",((e,t)=>{if(!window.__isPageReload__){e.timeStamp=Math.round(e.timeStamp);var n=Dt(t);switch(e.name){case"initRender":n.set(Ct.Init_Render_Begin,e.timeStamp),Rt("firstGetData",n.g(Ct.Generate_Func_Ready),e.timeStamp);break;case"VD.startInitRender":n.set(Ct.VD_Init_Render_Begin,e.timeStamp);break;case"generateFuncReady":n.set(Ct.Generate_Func_Ready,e.timeStamp);break;case"onAppDataChange":n.set(Ct.Recv_Init_Data,e.timeStamp);break;case"initialRenderingCacheApplied":n.set(Ct.Init_Ready_Rendering_Cache,e.timeStamp),n.set(Ct.Init_Ready_Client,e.timeStamp);break;case"sendReadyEvent":n.set(Ct.Send_Init_Ready,e.timeStamp);break;case"initReady":wxNativeConsole.info(`[initReady] ${JSON.stringify(e.args||{})}`);var i=e.args.initRenderingCache?Ct.Init_Ready_After_Rendering_Cache:Ct.Init_Ready_Client;n.set(i,e.timeStamp);break;case"firstStartRender":n.set(Ct.First_Start_Render,e.timeStamp)}}})),ie("Framework",((e,t,n,i)=>{if(!window.__isPageReload__){e.timeStamp=Math.round(e.timeStamp);var r=Dt(i);switch(e.name){case"initRender":r.set(Ct.Init_Render_End,e.timeStamp),xt((()=>{Rt("firstRenderTime",t,e.timeStamp),function(e){window.__isFirstPage__&&Reporter.reportQualityData("InitRenderDone",a.coldLaunchTime,e.g(Ct.Init_Render_End),[a.SDKVersion,encodeURIComponent(window.__route__),e.g(Ct.Init_Ready_Rendering_Cache)])}(r)}));break;case"VD.startInitRender":r.set(Ct.VD_Init_Render_End,e.timeStamp)}}}));var kt,Lt=(kt="skyline")?"skyline"===kt?kt:kt.split(" ").filter((e=>e.startsWith("XWEB")||e.startsWith("Chrome"))).join(" "):"unknown";function Mt(e){if(!window.__isPageReload__&&"__route__"in window){var t={delayedGWx:window.__usingDelayedGwx__||0,data:e.pull(),backend:"skyline",webCore:Lt};P(e.id)(bt,t)}}var Bt=new Set;function Ft(e,t){if(!Bt.has(e)){Bt.add(e);var n=Dt(e);n.set(Ct.Real_Init_Ready,t),xt((()=>{Mt(n),function(e){var t=e.g(Ct.Init_Ready_Rendering_Cache);t&&Reporter.reportQualityData("RenderCache",t,Date.now(),[0])}(n)}))}}ne("Framework",((e,t)=>{if(e.timeStamp=Math.round(e.timeStamp),"initReady"===e.name)Ft(t,e.timeStamp)})),ie("Framework",((e,t,n,i)=>{e.timeStamp=Math.round(e.timeStamp);var r=Dt(i);if("initReady"===e.name){var o=window.__route__,s=window.__lastRoute__,l=window.__isFirstPage__;setTimeout((()=>{((e,{route:t,lastRoute:n,isFirstPage:i})=>{var r=e.id;e.g(Ct.FCP)?(wxNativeConsole.info(`[reportSkylineVitals] pageId=${r}, rasterFinish=${e.g(Ct.FCP)}`),Reporter.reportQualityData2("WeAppCoreWebVitals",[5,e.g(Ct.Init_Render_Begin),e.g(Ct.Init_Render_End),e.g(Ct.FP),e.g(Ct.FCP),e.g(Ct.LCP),a.SDKVersion,encodeURIComponent(t||""),encodeURIComponent(n||""),0,i?1:0])):wxNativeConsole.info(`[reportSkylineVitals] pageId=${r} has no data, skipped`)})(r,{route:o,lastRoute:s,isFirstPage:l})}),5e3)}})),Foundation.onLoad(dt()((function*(){void 0!==__skylineEngine__&&(yield __skylineEngine__.RuntimeCore.registerPerformanceCallback(((e,t,n,i,r,a)=>{wxNativeConsole.info(`[SkylinePerformance] pageId=${e}, buildDuration=${t}, rasterDuration=${n}, buildFinish=${a}, rasterFinish=${i}, totalSpan=${r}`),wxNativeConsole.info(`RenderFcp ${a}`);var o=Dt(e);o.set(Ct.FCP,a),o.set(Ct.LCP,a),o.set(Ct.FP,a),o.set(Ct.Raster_Finish,i),Mt(o)})))})));var Vt=null,Wt=new Proxy({},{get(e,t,n){if(!Vt)throw new Error("NativeGlobal not ready");return Reflect.get(Vt,t,n)},set(e,t,n,i){if(!Vt)throw new Error("NativeGlobal not ready");return Reflect.set(Vt,t,n,i)}});Foundation.onLoad((()=>{Vt="undefined"!=typeof NativeGlobal?NativeGlobal:{}}));const Ut=Wt;var $t=!1,Gt=!1;Foundation.onLoad((()=>{1===a.envPreloadType&&setTimeout((()=>{!function(e=!1,t=0,n=[]){var i,r,a=Ut.saveV8CodeCacheWithTier;"function"==typeof a&&null!==(i=__libVersionInfo__)&&void 0!==i&&null!==(r=i.features)&&void 0!==r&&r.delayedServiceCodeCache&&(Gt||(Gt=e,$t||($t=!0,setTimeout((()=>{Date.now(),a(!1,Gt,t,n),Date.now(),$t=!1}),0))))}(!1,1)}),0)}));var Zt=!1,Ht=[];w("syncHighlightBottomBanner",(({highlighted:e})=>{Zt=e,Ht.forEach((t=>t({highlighted:e})))}));var zt=7776e6,jt=null,Yt=(e,t)=>{jt?jt.set("riskWarning",e.riskWarning,(e=>{t(e)})):Se.createOrGetStorageGroup(_e.RISK_WARNING,e.appId,Date.now()+zt,((n,i)=>{i?(jt=i,Yt(e,t)):t(n)}))},Kt=(e,t)=>{jt?jt.get("riskWarning",((e,n)=>{t(n)})):Se.createOrGetStorageGroup(_e.RISK_WARNING,e.appId,Date.now()+zt,((n,i)=>{i?(jt=i,Kt(e,t)):t()}))},Xt=(e,t)=>{jt?jt.set("requestPayment",e.requestPayment,(e=>{t(e)})):Se.createOrGetStorageGroup(_e.REQUEST_PAYMENT,e.appId,Date.now()+zt,((n,i)=>{i?(jt=i,Xt(e,t)):t(n)}))},qt=(e,t)=>{jt?jt.get("requestPayment",((e,n)=>{t(n)})):Se.createOrGetStorageGroup(_e.REQUEST_PAYMENT,e.appId,Date.now()+zt,((n,i)=>{i?(jt=i,qt(e,t)):t()}))};tt("setRiskWarningToGlobalStorage",((e,t)=>{Yt(e,t)})),tt("getRiskWarningFromGlobalStorage",((e,t)=>{Kt(e,t)})),tt("setRequestPaymentToGlobalStorage",((e,t)=>{Xt(e,t)})),tt("getRequestPaymentFromGlobalStorage",((e,t)=>{qt(e,t)}));tt("saveExitState",((e,t)=>{var n=Date.now()+6048e5;e.expireTimeStamp<n&&(n=e.expireTimeStamp),Se.createOrGetStorageGroup(_e.EXIT_STATE,e.appId,n,((n,i)=>{i.set("data",e.data,(()=>{t()}))}))})),tt("loadExitState",((e,t)=>{Se.createOrGetStorageGroup(_e.EXIT_STATE,e.appId,0,((e,n)=>{n.get("data",((e,i)=>{n.delete("data",(()=>{t(i)}))}))}))}));var Jt=7776e6,Qt=null,en=(e,t)=>{Qt?Qt.set("retryTime",e.retryTime,(e=>{t(e)})):Se.createOrGetStorageGroup(_e.PATCH_WRONG_QUERY,e.appId,Date.now()+Jt,((n,i)=>{i?(Qt=i,en(e,t)):t(n)}))},tn=(e,t)=>{Qt?Qt.get("retryTime",((e,n)=>{t(e||n)})):Se.createOrGetStorageGroup(_e.PATCH_WRONG_QUERY,e.appId,Date.now()+Jt,((n,i)=>{i?(Qt=i,tn(e,t)):t(n)}))};tt("setPatchWrongQueryToGlobalStorage",((e,t)=>{en(e,t)})),tt("getPatchWrongQueryFromGlobalStorage",((e,t)=>{tn(e,t)}));var nn=null,rn=(e,t)=>{nn?(e.apiName,e.item,nn.set("queryResult",e.item,(e=>{t(e)}))):Se.createOrGetStorageGroup(_e.COMMON_EXPT_CONFIG,e.appId,null,((n,i)=>{i?(e.apiName,nn=i,rn(e,t)):(e.apiName,t(n))}))},an=(e,t)=>{nn?(e.apiName,nn.get("queryResult",((n,i)=>{n?(wxNativeConsole.error(e.apiName+" getFromStorage fail:",n),t({})):(i=i||{},e.apiName,t(i))}))):Se.createOrGetStorageGroup(_e.COMMON_EXPT_CONFIG,e.appId,null,((n,i)=>{i?(e.apiName,nn=i,an(e,t)):(e.apiName,t(n))}))};tt("setCommonConfigToGlobalStorage",((e,t)=>{rn(e,t)})),tt("getCommonConfigFromGlobalStorage",((e,t)=>{an(e,t)}));var on=31536e6,sn="GUIDE_FLAG";tt("setGuideFlag",((e,t)=>{Se.createOrGetStorageGroup(_e.REQUEST_SUBSCRIBE_DEVICE_MESSAGE,"requestSubscribeDeviceMessageStorageGroup",Date.now()+on,((n,i)=>{if(i)return i.set(sn,e.value,(e=>{t(e?{errMsg:"err"}:{})}));t({errMsg:"err"})}))})),tt("getGuideFlag",((e,t)=>{Se.createOrGetStorageGroup(_e.REQUEST_SUBSCRIBE_DEVICE_MESSAGE,"requestSubscribeDeviceMessageStorageGroup",Date.now()+on,((e,n)=>{if(n)return n.get(sn,((e,n)=>{t(n?{data:n}:{errMsg:"err"})}));t({errMsg:"err"})}))}));var ln={},un=31536e6,cn=null;tt("setLicenseToGlobalStorge",(function e(t,n){cn?cn.set(t.key,t.license,(e=>{n(e)})):Se.createOrGetStorageGroup(_e.LICENSE,t.appId,Date.now()+un,((i,r)=>{r?(cn=r,e(t,n)):n(i)}))})),tt("getLicenseFromGlobalStorge",(function e(t,n){cn?cn.get(t.key,((e,t)=>{n(t)})):Se.createOrGetStorageGroup(_e.LICENSE,t.appId,Date.now()+un,((i,r)=>{r?(cn=r,e(t,n)):n()}))})),tt("removeLicenseFromGlobalStorge",(function e(t,n){cn?cn.delete(t.key,n):Se.createOrGetStorageGroup(_e.LICENSE,t.appId,Date.now()+un,((i,r)=>{r?(cn=r,e(t,n)):n()}))})),tt("sendViewLicenseInfo",(e=>{ln[e.key]={license:e.license,permissionByte:e.permissionByte}}));var dn=0,pn=1,hn=null,fn={webview:{},skyline:{}};function _n(){dn=0,hn&&(hn=clearTimeout(hn)),I("collectComponentUseInfo",{pagePath:window.__route__,reportCache:fn}),fn={webview:{},skyline:{}}}var vn=/^wx[0-9a-f]{16}(\/.*)?$/,gn="webapi_reportwxauseuserinfo",mn={addPhoneCalendar:["jsapi_photocalendar"],addPhoneContact:["jsapi_phonecontact"],chooseImage:["jsapi_media"],chooseInvoice:["jsapi_invoice"],chooseInvoiceTitle:["jsapi_invoice"],chooseLicensePlate:["jsapi_licenseplate"],chooseLocation:["jsapi_choose_location"],chooseMedia:["jsapi_media"],chooseMessageFile:["jsapi_messagefile"],choosePoi:["jsapi_choose_location"],chooseVideo:["jsapi_media"],createBLEPeripheralServer:["webapi_bluetooth"],enableLocationUpdate:["jsapi_location"],enableLocationUpdateBackground:["jsapi_location"],getClipboardData:["jsapi_clipboard"],getFuzzyLocation:["jsapi_fuzzy_location"],getLocation:["jsapi_location"],getPhoneNumber:["webapi_getuserwxphone_group"],insertCamera:["jsapi_camera"],insertLivePusher:["jsapi_camera","jsapi_record"],insertVoIPView:["jsapi_camera"],insertXWebCamera:["jsapi_camera"],insertXWebLivePusher:["jsapi_camera","jsapi_record"],insertXWebVoIPView:["jsapi_camera"],joinVoIPChat:["jsapi_record"],openAddress:["jsapi_address"],openBluetoothAdapter:["webapi_bluetooth"],saveImageToPhotosAlbum:["jsapi_photos_album"],saveVideoToPhotosAlbum:["jsapi_photos_album"],setClipboardData:["jsapi_clipboard"],startRecord:["jsapi_record"]},En={jsapi_accelerometer:2,jsapi_address:0,jsapi_camera:1,jsapi_choose_location:0,jsapi_clipboard:2,jsapi_compass:2,jsapi_devicemotion:2,jsapi_fuzzy_location:1,jsapi_gyroscope:2,jsapi_invoice:0,jsapi_licenseplate:0,jsapi_location:1,jsapi_media:0,jsapi_messagefile:0,jsapi_phonecontact:1,jsapi_photocalendar:1,jsapi_photos_album:1,jsapi_record:1,jsapi_useravatar:0,jsapi_username:0,webapi_bluetooth:1,webapi_getuserwxphone_group:0,webapi_userinfo:0,webapi_werun:1},yn=Function.prototype.call.bind(String.prototype.split),Tn=Function.prototype.call.bind(String.prototype.match),bn=Function.prototype.call.bind(Object.prototype.hasOwnProperty),Cn=(e,t)=>{var n="string"==typeof t&&Tn(t,vn)?(e=>yn(e,"/",1)[0])(t):null;return e.map((e=>({apiName:gn,reqData:{scope:e,report_type:En[e],state:1},pluginId:n,fail({errMsg:t}){wxNativeConsole.warn(`[reportUserPrivacyStat] failed, scope=${e}, pluginId=${n}, errMsg=${t}`)}})))};const Sn={getArgsByJsApi:(e,t)=>bn(mn,e)?Cn(mn[e],t):null,getArgsByScope:Cn,WxDataName:gn};var An;An=(e,t)=>{if(!u()){var n=Sn.getArgsByJsApi(e,t);null!==n&&setTimeout((()=>{wxNativeConsole.info(`[reportUserPrivacyStat] reason: invoke view jsApi [${e}] success by [${t}]`),n.forEach((e=>{ke({sdkApiName:"",apiName:Sn.WxDataName,reqData:e.reqData,pluginId:e.pluginId})}))}),200)}},void 0===C&&(C=An);var In=(e,t)=>n=>{ke({sdkApiName:e,apiName:t,reqData:{lang:n.lang||"en",version:n.version||""},withCredentials:"boolean"!=typeof n.withCredentials||n.withCredentials,fromComponent:!0,reserveDataString:!0,success:i=>{void 0!==i.data.data&&(i.rawData=i.data.data);try{i.userInfo=JSON.parse(i.data.data),delete i.data,"webapi_getuserinfo"===t&&setTimeout((()=>{var t,n;t="",n=`wx.${e}`,u()||(wxNativeConsole.info(`[reportUserPrivacyStat] reason: view ${n} by [${t}]`),Sn.getArgsByScope(["webapi_userinfo"],t).forEach((e=>{ke({sdkApiName:"",apiName:Sn.WxDataName,reqData:e.reqData,pluginId:e.pluginId})})))}),200)}catch(e){}"function"==typeof n.success&&n.success(i),"function"==typeof n.complete&&n.complete(i)},fail:e=>{"function"==typeof n.fail&&n.fail(e),"function"==typeof n.complete&&n.complete(e)}})},Pn=In("getUserInfo","webapi_getuserinfo"),wn=(In("getUserInfoWithoutConfirm","webapi_getuserinfo_opendata"),In("getUserInfoSilently","webapi_getselfuserinfo_slient"),e=>{E("preloadWebview",e)});tt("preloadWebview",((e,t)=>{var n={complete:t};"/"===e.pluginId?wn(n):Ke(e.pluginId,"preloadWebview",(e=>{n.permissionBytes=e,wn(n)}))}));var Rn=0,xn=1,On=2,Nn=3,Dn=4,kn=5,Ln=6,Mn=7,Bn=8,Fn=100,Vn=101,Wn=102,Un=103,$n=104,Gn=105,Zn=106,Hn=107,zn=108,jn=109,Yn=110,Kn=111,Xn=112,qn=1e3,Jn=1001,Qn=1002,ei=1003,ti=1004,ni=1005,ii=1006,ri=1007,ai=1008,oi=1009,si=1010,li=1011,ui=1012,ci=1013,di=1014,pi=1015,hi=1016,fi=1017,_i=1018,vi=1019,gi=1020,mi=1021,Ei=1022,yi=1023,Ti=1024,bi=1025,Ci=1026,Si=50001,Ai=100001,Ii=101100,Pi=101101,wi=101102,Ri=102101,xi=103101,Oi=103102,Ni=106e3,Di=106001,ki=106002,Li=106003,Mi=106004,Bi=106005,Fi=106010,Vi=109001,Wi=2e5,Ui=201001,$i=201002,Gi=201003,Zi=301001,Hi=301002,zi=301003,ji=401101,Yi=401102,Ki=500001,Xi=502001,qi=503101,Ji=504101,Qi=505101,er=510001,tr=510101,nr=6e5,ir=600001,rr=600002,ar=600003,or=600004,sr=600005,lr=600006,ur=600007,cr=600008,dr=600009,pr=600010,hr=600011,fr=602e3,_r=602001,vr=602002,gr=602101,mr=602102,Er=602103,yr=602104,Tr=602105,br=602106,Cr=602107,Sr=602108,Ar=602120,Ir=602300,Pr=602301,wr=602302,Rr=603101,xr=603102,Or=603103,Nr=603104,Dr=603105,kr=603300,Lr=603301,Mr=603302,Br=603303,Fr=605101,Vr=605102,Wr=605103,Ur=606101,$r=7e5,Gr=700001,Zr=701e3,Hr=701001,zr=701002,jr=701100,Yr=701101,Kr=701102,Xr=701103,qr=701104,Jr=701105,Qr=701106,ea=701107,ta=701108,na=701109,ia=701110,ra=701111,aa=701112,oa=701113,sa=701114,la=701115,ua=701116,ca=701117,da=8e5,pa=800001,ha=800002,fa=800003,_a=801001,va=802001,ga=901101,ma=901102,Ea=901103,ya=1103002,Ta=1103003,ba=1103004,Ca=1103005,Sa=1103006,Aa=1103007,Ia=1107001,Pa=1107002,wa=1107003,Ra=1107004,xa=1107005,Oa=1107006,Na=1107007,Da=1107008,ka=1107009,La=1107010,Ma=1107011,Ba=1107012,Fa=1107013,Va=12e5,Wa=1300001,Ua=1300002,$a=1300005,Ga=1300009,Za=1300013,Ha=1300014,za=1300020,ja=1300021,Ya=1300022,Ka=1300036,Xa=1300066,qa=1300201,Ja=1300202,Qa=1300203,eo=1300300,to=1300301,no=1301e3,io=1301002,ro=1301003,ao=1301004,oo=1301005,so=1301006,lo=1301007,uo=1301008,co=1301009,po=1301100,ho=1301102,fo=1301103,_o=1301104,vo=1301111,go=1301112,mo=1302001,Eo=1302002,yo=1302003,To=1302004,bo=1302005,Co=1302100,So=14e5,Ao=1400001,Io=1402101,Po=1404e3,wo=1404100,Ro=1404101,xo=1404102,Oo=1404103,No=1404104,Do=1412e3,ko=1412001,Lo=1412002,Mo=1412003,Bo=1412004,Fo=1416100,Vo=1416101,Wo=1416102,Uo=1416103,$o=1416104,Go=1416105,Zo=1416106,Ho=1416107,zo=1416108,jo=1416109,Yo=1420103,Ko=1421101,Xo=1500101,qo=1500102,Jo=1500103,Qo=1500104,es=1500105,ts=1502001,ns=1502002,is=1502003,rs=1503e3,as=1504e3,os=1504001,ss=1504002,ls=1504003,us=1504100,cs=1504101,ds=1504200,ps=1504201,hs=1504202,fs=1504203,_s=1504204,vs=1504205,gs=1504206,ms=1504207,Es=1504208,ys=1504209,Ts=1504210,bs=1505e3,Cs=1505001,Ss=1505002,As=1505003,Is=1505004,Ps=1505005,ws=1505006,Rs=1505020,xs=1505021,Os=1505022,Ns=1505023,Ds=1505024,ks=1505025,Ls=1505026,Ms=1505027,Bs=1505028,Fs=1505029,Vs=1505030,Ws=1505031,Us=1505032,$s=1505040,Gs=1509e3,Zs=1509001,Hs=1509002,zs=1509003,js=1509004,Ys=1509005,Ks=1509006,Xs=1509007,qs=1509008,Js=1509009,Qs=1509010,el=151e4,tl=1510101,nl=1510102,il=1510103,rl=1510104,al=1510105,ol=1510106,sl=1510107,ll=1510108,ul=1510109,cl=1510110,dl=1510111,pl=1510112,hl=1510113,fl=1510114,_l=1512001,vl=1512002,gl=1517001,ml=1525001,El=1525002,yl=1525003,Tl=2e6,bl=2000001,Cl=2000002,Sl=2000003,Al=2000004,Il=2002e3,Pl=2002001,wl=2002002,Rl=2002003,xl=2002004,Ol=2002005,Nl=2003e3,Dl=2003001,kl=2003002,Ll=2004e3,Ml=2004001,Bl=2004002,Fl=2004003,Vl=2004004,Wl=2004005,Ul=2004006,$l=2004007,Gl=2004008,Zl=2004009,Hl=2004010,zl=2004011,jl=2004012;function Yl(e){ke({sdkApiName:e.method,apiName:e.api_name,reqData:e.data,reserveDataString:!0,success:e.success,fail:e.fail,complete:e.complete})}var Kl=[];w("onNavigateBackIntercept",(e=>{Kl.forEach((t=>t(e)))}));var Xl=function(){var e=dt()((function*(e,t=void 0,n=void 0){var{id:i}=yield De({type:"custom",name:"setNavigateBackInterceptionById",args:{scopes:t,webviewId:n||window.__webviewId__}}),r=t=>{t.id===i&&e(t)};return Kl.push(r),{id:i,handler:r}}));return function(t){return e.apply(this,arguments)}}(),ql=function(){var e=dt()((function*(e){var{id:t,handler:n}=(yield e)||{};yield De({type:"custom",name:"stopNavigateBackInterceptionById",args:{id:t}}),Kl.splice(Kl.indexOf(n),1)}));return function(t){return e.apply(this,arguments)}}(),{EventEmitter:Jl}=Foundation,Ql=new Jl,eu={},tu={invoke:L,invokeAs:M,on:h,publish:I,publishAsPage:P,publishAsPageSync:e=>function(t,n){!function(e,t,n){__subContextEngine__.postMessageToMainContextSync({event:e,params:{params:t,pageId:n}})}(t,n,e)},subscribe:w,unsubscribe:R,subscribeAsPage:e=>function(t,n){g(t,e,n)},clearPageListeners:function(e){v.delete(e)},clearGlobalListeners:function(e){_.delete(e)},getHost:()=>a.host||{},mainContext:{publish(...e){Foundation.onLoad((()=>{JSContext.publish(...e)}))},subscribe(...e){Foundation.onLoad((()=>{JSContext.subscribe(...e)}))}},onAppDataChange:e=>{tt("appDataChange",((t,n)=>{e(t,n)}))},saveInitialRenderingCache:()=>{},version:Tt,transformRpx:e=>e,...ae,createTracer:re,onWindowResize:e=>{A.on(le,e)},offWindowResize:e=>{A.off(le,e)},getPageOrientation:()=>{if(!oe)return null;var e=oe.deviceOrientation,t=oe.size.windowWidth,n=oe.size.windowHeight;return e||(t>n?"landscape":"portrait")},onAppEnterForeground:function(e){A.on(pe,e)},onAppEnterBackground:function(e){A.on(he,e)},offAppEnterForeground:function(e){A.off(pe,e)},offAppEnterBackground:function(e){A.off(he,e)},getPluginPermissionBytes:Ke,getPluginPermissionBytesSync:(e,t)=>{var n,i,r;if(e=Fe(e),__wxConfig.supportInvokeWithAppId)return Ke(e,t,(e=>{n=e})),n;if(!Be)throw new Error("Plugin permission bytes have not been prepared");var a=null===(i=Be)||void 0===i||null===(r=i[e])||void 0===r?void 0:r[t];return null==a?a=[0,0,0]:"object"!=typeof a&&(a=[a,a,a]),a},getPluginInfo:(e,t)=>{Ne({type:"custom",name:"getPluginInfo",args:{pluginId:e,success:t}})},getPluginContactList:e=>{Ne({type:"custom",name:"getPluginContactList",args:{success:e}})},getCloudFileUrl:function(e={}){var t=e.data;!function(e){Ne({name:"getCloudFileInfo",type:"",args:{fileIds:e.fileIds,type:e.type,success:t=>{"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)},fail:t=>{"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}}})}({fileIds:t.fileid_list,type:t.type,success:e.success,fail:e.fail,complete:e.complete})},subscribeMessage:e=>{ke({sdkApiName:"subscribeMessage",apiName:"subscribemsg",reqData:{},success:t=>{t.data&&(t.data.err_no=0),e.success(t)},fail:e.fail})},getLaunchAppInfo:({success:e=(()=>{}),fail:t,complete:n}={})=>{qe++,Xe[`${qe}success`]=e,Xe[`${qe}fail`]=t,Xe[`${qe}complete`]=n,I("getLaunchAppInfo",{callbackId:qe})},authorizeWeRunWeeklyData:e=>{ke({sdkApiName:"authorizeWeRunWeeklyData",apiName:"webapi_werun_week",withCredentials:"boolean"!=typeof e.withCredentials||e.withCredentials,fromComponent:!0,reqData:{lang:e.lang||"en"},success:e.success,fail:e.fail,complete:e.complete})},getVolume:function(e){var t=e;"function"==typeof e&&(t={complete:e}),E("getVolume",t,{beforeAll:e=>{e.current=e.currentVolume||0,e.maximum=e.maxVolume||0}})},setVolume:function(e){var t=e;"number"==typeof e&&(t={value:e}),E("setVolume",t)},getBrightness:function(e){var t=e;"function"==typeof e&&(t={complete:e}),E("getScreenBrightness",t,{beforeAll:e=>{e.value="number"==typeof e.value?e.value:-1}})},setBrightness:function(e){var t=e;"number"==typeof e&&(t={value:e}),E("setScreenBrightness",t)},getSystemInfo:e=>{Ne({type:"custom",name:"getSystemInfo",args:e})},getPlatform:()=>o,generateFormId:()=>{return(e=Date.now(),"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))).replace(/-/g,"");var e},reportFormId:({source:e,sourceDetail:t,formId:n,hostAppId:i,pluginAppId:r,timeout:a,success:o,fail:s})=>{"function"==typeof s&&s({errMsg:"requestFormId:fail deprecated"})},publishPageEvent:(e,t,n,i)=>{P(i)("PAGE_EVENT",{eventName:e,data:t,nodeId:n})},getRealRoute:function e(t="",n=""){var i;if(0===n.indexOf("/"))i=n.substr(1);else if(0===n.indexOf("./"))i=e(t,n.substr(2));else{var r,a,o=n.split("/");for(r=0,a=o.length;r<a&&".."===o[r];r++);o.splice(0,r),n=o.join("/");var s=t.length>0?t.split("/"):[];s.splice(s.length-r-1,r+1),i=s.concat(o).join("/")}return i},animationToStyle:function({animates:e,option:t={}}){var{transformOrigin:n,transition:i}=t;if(void 0===i||void 0===e)return{transformOrigin:"",transform:"",transition:""};var r=e.filter((({type:e})=>"style"!==e)).map((({type:e,args:t})=>{switch(e){case"matrix":return`matrix(${t.join(",")})`;case"matrix3d":return`matrix3d(${t.join(",")})`;case"rotate":return`rotate(${(t=t.map(Qe))[0]})`;case"rotate3d":return t[3]=Qe(t[3]),`rotate3d(${t.join(",")})`;case"rotateX":return`rotateX(${(t=t.map(Qe))[0]})`;case"rotateY":return`rotateY(${(t=t.map(Qe))[0]})`;case"rotateZ":return`rotateZ(${(t=t.map(Qe))[0]})`;case"scale":return`scale(${t.join(",")})`;case"scale3d":return`scale3d(${t.join(",")})`;case"scaleX":return`scaleX(${t[0]})`;case"scaleY":return`scaleY(${t[0]})`;case"scaleZ":return`scaleZ(${t[0]})`;case"translate":return`translate(${(t=t.map(Je)).join(",")})`;case"translate3d":return`translate3d(${(t=t.map(Je)).join(",")})`;case"translateX":return`translateX(${(t=t.map(Je))[0]})`;case"translateY":return`translateY(${(t=t.map(Je))[0]})`;case"translateZ":return`translateZ(${(t=t.map(Je))[0]})`;case"skew":return`skew(${(t=t.map(Qe)).join(",")})`;case"skewX":return`skewX(${(t=t.map(Qe))[0]})`;case"skewY":return`skewY(${(t=t.map(Qe))[0]})`;default:return""}})).join(" "),a=e.filter((({type:e})=>"style"===e)).reduce(((e,t)=>(e[t.args[0]]=t.args[1],e)),{});return{style:a,transformOrigin:n,transform:r,transitionProperty:["transform",...Object.keys(a)].join(","),transition:`${i.duration}ms ${i.timingFunction} ${i.delay}ms`}},navigateToMiniProgram:(e={})=>{e.__noCheckBeforeNavigateToMiniProgram?ot(e):Ne({name:"_checkBeforeNavigateToMiniProgram",type:"custom",args:{appId:e.appId,path:e.path,shortLink:e.shortLink,success(t){ot(e,{appId:t.appId,path:t.path,sourcetype:t.sourcetype})},fail(t){"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}}})},operateWXData(e,t,n="",i=""){var r={};Object.keys(t).forEach((e=>{"api_name"!==e&&"pluginId"!==e&&"function"!=typeof t[e]&&(r[e]=t[e])})),ke({sdkApiName:n||e,apiName:e,withCredentials:t.withCredentials,reqData:r,pluginId:t.pluginId,reserveDataString:!0,success:e=>{void 0!==e.data.data&&(e.rawData=e.data.data);var n=JSON.parse(e.data.data||"{}");delete e.data,i?e[i]=n:e=Object.assign(e,n),"function"==typeof t.success&&t.success(e),"function"==typeof t.complete&&t.complete(e)},fail:e=>{"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)}})},adReportOperateWXData(e){var t={};for(var n in e)"api_name"!==n&&"pluginId"!==n&&"function"!=typeof e[n]&&(t[n]=e[n]);Le({reqData:t,success:t=>{"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)},fail:t=>{"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}})},enterContact:ut,getPhoneNumber:_t,reportGetPhoneNumber:ft,getContactInfo:e=>{ke({sdkApiName:"getContactInfo",apiName:"webapi_wxa_subscribe_biz",reqData:e.data,success:e.success,fail:e.fail})},getEnterAppInfo:({success:e=(()=>{}),fail:t,complete:n}={})=>{gt++,vt[`${gt}success`]=e,vt[`${gt}fail`]=t,vt[`${gt}complete`]=n,I("getEnterAppInfo",{callbackId:gt})},openSetting:e=>{Ne({type:"bridge",name:"openSetting",args:e,ext:{beforeSuccess(){Ne({type:"custom",name:"reportRecycledAPI",args:{name:"openSetting",scene:1}})}}})},triggerPageReRender(){Ql.emit("pageReRender",{})},onPageReRender(e){Ql.on("pageReRender",e)},offPageReRender(e){Ql.off("pageReRender",e)},highlightBottomBanner:e=>{I("highlightBottomBanner",{navigateInfo:e.navigateInfo}),Zt=!0},cancelHighlightBottomBanner:()=>{Zt&&(I("cancelHighlightBottomBanner"),Zt=!1)},onSyncHighlightBottomBanner:e=>{Ht.push(e)},getGlobalStorageManager:()=>Se,storageManagerNamespace:()=>_e,privacyButton:e=>{Ne({name:"privacyButton",type:"custom",args:e})},getUserInfo:Pn,getComponentInfoForReporter:()=>V,reportComponentUse:function({pageType:e,name:t,attachedCount:n,propList:i,reserved:r=-1}){var a=fn[e],o=a[t]||{attachedCount:0,propMap:{},extraMap:{},reserved:-1};a[t]=o,-1!==r&&(o.reserved=-1===o.reserved?r:o.reserved|r),n&&(o.attachedCount+=n),i&&i.length&&i.forEach((({needReportValue:e,name:t,value:n,extra:i})=>{var r=o.propMap[t]||{};if(o.propMap[t]=r,i>0){var a=o.extraMap[t]||{};o.extraMap[t]=a,a.index=i,a.values=a.values||[],a.values.push(n)}e?(r[n=function(e){if(null==e||"function"==typeof e)e="";else if("boolean"==typeof e)e=e?"1":"0";else if(Array.isArray(e)||"object"==typeof e)try{e=JSON.stringify(e)}catch(t){e=""}return(e=e.toString().trim()).length>30&&(e=e.substr(0,27)+"..."),e}(n)]=r[n]||0,r[n]++):(r._OTHER=r._OTHER||0,r._OTHER++)})),dn++>100?_n():hn||(hn=setTimeout(_n,1e3*pn),pn>5?pn=5:pn*=2)},preloadWebview:wn,checkPrivacy:pt,getAdData:function(e={}){window&&window.__adInfo__&&window.__adInfo__.preloadAdUnitIds&&e.data&&-1!==window.__adInfo__.preloadAdUnitIds.indexOf(e.data.ad_unit_id)?function(e){Ne({name:"getAdPreloadData",type:"custom",args:{data:e.data,success:t=>{"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)},fail:()=>{Yl(Object.assign({method:"getAdData",api_name:"webapi_getadvert"},e))}}})}(e):Yl(Object.assign({method:"getAdData",api_name:"webapi_getadvert"},e))},reportAdClicked:function(e={}){e.data.report_type=1,Le({sdkApiName:"reportAdClicked",reqData:e.data,success:e.success,fail:e.fail,complete:e.complete})},reportAdExposure:function(e={}){e.data.report_type=0,Le({sdkApiName:"reportAdExposure",reqData:e.data,success:e.success,fail:e.fail,complete:e.complete})},reportFollowBehavior:function(e={}){Yl(Object.assign({method:"reportFollowBehavior",api_name:"webapi_adfollow_report"},e))},checkFollowStatus:function(e={}){Yl(Object.assign({method:"checkFollowStatus",api_name:"webapi_checkcontact"},e))},reportVideoPlay:function(e={}){Yl(Object.assign({method:"reportVideoPlay",api_name:"webapi_advideo_report"},e))},getVideoAdPreloadData:e=>{Ne({type:"custom",name:"getVideoAdPreloadData",args:e})},getPayAd:function(e){Ne({name:"getPayAd",type:"custom",args:{data:e.data,success:t=>{"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)},fail:()=>{Yl(Object.assign({method:"getAdData",api_name:"webapi_getadvert"},e))}}})},checkSMCryptoLicense:function(){var e=ln["SM-CRYPTO"];return!!e&&(e.permissionByte||!!e.license)},errno:n,deletePerformancePageContext:function(e){delete Nt[e]},setNavigateBackInterception:Xl,stopNavigateBackInterception:ql},nu={};["initReady","initReadyAfterRenderingCache"].forEach((e=>{tu[e]=(t,n)=>{!0!==nu[n]?(nu[n]=!0,y({pageId:n})(e,t)):wxNativeConsole.info(`[initReady] pageId=${n} already called, ignoring wx.${e}`)}}));["showDatePickerView","insertMap","removeMap","updateMapCovers","insertVideoPlayer","removeVideoPlayer","insertShareButton","updateShareButton","removeShareButton","setNavigationBarTitle","setNavigationBarColor","showNavigationBarLoading","hideNavigationBarLoading","setBackgroundTextStyle","setBackgroundColor","updatePerfData","traceEvent","webViewReadyToTerminate","saveInitialRenderingCache","navigateBackMiniProgram","setNavigationBarRightButton","vibrateShort","setClipboardData","openChannelsRewardedVideoAd"].forEach((e=>{tu[e]=(t,n)=>{y({pageId:n})(e,t)}}));var iu={wx:["login","getSetting","clearStorage","getSystemInfo","startCustomFacialRecognitionVerify","startCustomFacialRecognitionVerifyAndUploadVideo","saveImageToPhotosAlbum","setWxInterfaceDisabled","setKeepScreenOn"],bridge:["getPermissionBytes","authorize","launchApplication","navigateBackApplication","navigateBackNative","operateVideoPlayer","operateLivePlayer","getLocation","downloadAppInternal","getInstallState","addDownloadTaskStraight","queryDownloadTask","installDownloadTask","pauseDownloadTask","resumeDownloadTask","cancelDownloadTask","writeCommData","getNetworkType","batchGetContact","showToast","hideToast","exitMiniProgram","openADCanvas","showActionSheet","preloadMiniProgramEnv","hideHomeButton","predownloadMiniProgramPackage","setTabBarStyle","batchPreloadMiniProgram","showModal","openChannelsLive","openChannelsActivity","getSkylineInfo"],custom:["checkPermission","redirectTo","navigateTo","navigateToWithRelatedInfo","switchTab","reLaunch","navigateBack","shareImageMessage","setPrivateExtraData","chooseInvoice","chooseInvoiceTitle","getCurrentWebviewId","chooseAvatar","showNicknameAccessory","hideNicknameAccessory","reviewNickname","getCurrentPagesPath","_setWxIsInvokeInTapForNavToMiniProgramForWebview"]};function ru(e){s?eu[e]=tu[e]:Object.defineProperty(eu,e,{get:()=>"function"!=typeof tu[e]?tu[e]:(...t)=>{try{return tu[e](...t)}catch(e){return void function(e,t){"[object Error]"===Object.prototype.toString.apply(e)?Foundation.onLoad((()=>{Reporter.errorReport({key:"appSubContextThirdScriptError",error:e,extend:t})})):Reporter.errorReport({key:"appSubContextThirdScriptError",error:e,extend:t})}(e)}},enumerable:!0,configurable:!0})}Object.keys(iu).forEach((e=>{iu[e].forEach((t=>{tu[t]=n=>{Ne({type:e,name:t,args:n})}}))})),Object.keys(tu).forEach((e=>{ru(e)}));const au={wx:eu,traceBeginEvent:ae.traceBeginEvent,traceEndEvent:ae.traceEndEvent,predefinedColor:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"}};__skylineSDK__=t.default})();var __skylineEngine__,__userActionTracer__,__webviewEngine__,wx=__skylineSDK__.wx,_WORKLET=!1;(()=>{var e,t,n={6491:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,i=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,u="";function c(e){return e?e.replace(l,u):u}e.exports=function(e,l){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var d=1,p=1;function h(e){var t=e.match(n);t&&(d+=t.length);var i=e.lastIndexOf("\n");p=~i?e.length-i:p+e.length}function f(){var e={line:d,column:p};return function(t){return t.position=new _(e),E(),t}}function _(e){this.start=e,this.end={line:d,column:p},this.source=l.source}_.prototype.content=e;var v=[];function g(t){var n=new Error(l.source+":"+d+":"+p+": "+t);if(n.reason=t,n.filename=l.source,n.line=d,n.column=p,n.source=e,!l.silent)throw n;v.push(n)}function m(t){var n=t.exec(e);if(n){var i=n[0];return h(i),e=e.slice(i.length),n}}function E(){m(i)}function y(e){var t;for(e=e||[];t=T();)!1!==t&&e.push(t);return e}function T(){var t=f();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;u!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,u===e.charAt(n-1))return g("End of comment missing");var i=e.slice(2,n-2);return p+=2,h(i),e=e.slice(n),p+=2,t({type:"comment",comment:i})}}function b(){var e=f(),n=m(r);if(n){if(T(),!m(a))return g("property missing ':'");var i=m(o),l=e({type:"declaration",property:c(n[0].replace(t,u)),value:i?c(i[0].replace(t,u)):u});return m(s),l}}return E(),function(){var e,t=[];for(y(t);e=b();)!1!==e&&(t.push(e),y(t));return t}()}},8737:(e,t,n)=>{var i=n(6491);function r(e,t){var n,r=null;if(!e||"string"!=typeof e)return r;for(var a,o,s=i(e),l="function"==typeof t,u=0,c=s.length;u<c;u++)a=(n=s[u]).property,o=n.value,l?t(a,o,n):o&&(r||(r={}),r[a]=o);return r}e.exports=r,e.exports.default=r},5519:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,sd:()=>l,wO:()=>s});var i=n(5891),r=n(3597),a=n(4431),o=n(5566),s=function(e){i.Z.glassEaselAdapter.setRenderRoot(e);var t=function(e){for(var t=i.Z.glassEaselAdapter.getEnv(),n="",r=e.ownerShadowRoot;r;r=r.getHostNode().ownerShadowRoot){var a=r.getHostNode().getRootBehavior().ownerSpace,o=t.getComponentSpaceId(a);if(!t.getCodeSpace(o).isLibSpace&&"string"==typeof o){n="/"===o?"":o;break}}return n}(e),{pageId:n,invokeId:r}=function(e){var t=i.Z.glassEaselAdapter.getEnv(),n=e._$ownerRenderRoot.id;return"number"!=typeof n?{pageId:null,invokeId:null}:{pageId:n,invokeId:t.isVirtualPage(n)&&i.Z.getInstance().getFirstPageInOwnerWindow(n)||n}}(e);return{getPluginId:function(){return t},getPageId:null===n?function(){return 0}:function(){return n},publish:null===n?o.Z:wx.publishAsPage(n),publishSync:null===n?o.Z:wx.publishAsPageSync(n),subscribe:null===n?o.Z:wx.subscribeAsPage(n),invoke:null===n?o.Z:wx.invokeAs({pageId:r,pluginId:t})}},l=function(e,t){var n="",r="";if(e.ownerShadowRoot)if("string"==typeof t&&""!==t&&-1===t.indexOf("simple://")){var a=i.Z.glassEaselAdapter.getEnv().codeManager;n=a.getPluginRoutePrefix(t),r=e.ownerShadowRoot.getHostNode().is.replace(/^plugin-private:\/\/wx[^/]+\//,"")}else{var o,s,l=(__wxConfig.subPackages||[]).filter((function(e){return(window.__route__||"").startsWith(e.root)})),u=(null===(o=l[0])||void 0===o?void 0:o.root)||"",c=null===(s=l[0])||void 0===s?void 0:s.allExtendedComponents,d=e.ownerShadowRoot.getHostNode().is;r=null!=c&&c.includes(d)?u+d:d}return function(t,i=""){if(!(/^wxfile:\/\//.test(t)||/^(http|https):\/\//.test(t)||/^\s*data:image\//.test(t))){if(e.ownerShadowRoot)return n+wx.getRealRoute(r,t);if(i)return wx.getRealRoute(i,t)}return t}},u=(0,r.ZP)("base").property("hidden",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,observer:function(e,t){null!==this.classList&&this.toggleNodeClass("__wx_builtin_component_hidden__",e,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA),"function"==typeof this.onHiddenChanged&&this.onHiddenChanged(e,t)}}).property("ariaRole",i.Z.glassEasel.NormalizedPropertyType.String).init((function({self:e,method:t,observer:n}){var i="",r=function(t){null!==e.$$&&e.$$.setAttribute("role",null!=t?t:i)};return n("ariaRole",r),{setAriaRoleDefault:t((function(t){i=t,r(e.data.ariaRole)}))}})).init((function({self:e,method:t}){var{getPluginId:n,getPageId:i,publish:r,publishSync:a,subscribe:o,invoke:u}=s(e);return{getPluginId:t(n),getPageId:t(i),publish:t(r),publishSync:t(a),subscribe:t(o),invoke:t(u),getRealRoute:t(l(e,n()))}})).methods({getHostDomain:function(){if(!this.ownerShadowRoot)throw new Error("getHostDomain can not be called in root component");var e=this.ownerShadowRoot.getHostNode(),t=i.Z.glassEaselAdapter.getEnv(),n=e.getRootBehavior().ownerSpace,r=t.getComponentSpaceId(n);return null===r?"//":r}}).init((function({self:e,lifetime:t,method:n}){var i=e.getPageId(),r=[];return t("detached",(function(){r.forEach((function([e,t]){a.Q.off(i,e,t)}))})),{onPageEvent:n((function(e,t){return a.Q.on(i,e,t),t})),offPageEvent:n((function(e,t){a.Q.off(i,e,t)})),triggerPageEvent:n((function(e,t){a.Q.trigger(i,e,t)})),onPageEventAuto:n((function(e,t){a.Q.on(i,e,t),r.push([e,t])}))}})).init((function({self:e,method:t}){for(var n=e;n.ownerShadowRoot&&(n=n.ownerShadowRoot.getHostNode(),!c(n)););var r=c(n)?n.getCurrentRoute():i.Z.glassEaselAdapter.getEnv().getComponentPath(n);return{getCurrentRoute:t((function(){return r}))}})).registerBehavior(),c=function(e){return e.hasBehavior(u)};const d=u},4187:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i={}.hasOwnProperty;var r=(0,n(3597).ZP)("classnames").staticData({cx:function e(...t){for(var n=[],r=0;r<arguments.length;r++){var a=t[r];if(a)if("string"==typeof a||"number"==typeof a)n.push(a);else if(Array.isArray(a)){if(a.length){var o=e(...a);o&&n.push(o)}}else if("object"==typeof a){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){n.push(a.toString());continue}for(var s in a)i.call(a,s)&&a[s]&&n.push(s)}}return n.join(" ")}}).registerBehavior();const a=r},8919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var i=n(3597),r=globalThis,a={NONE:0,INITIALIZING:1,DONE:2},o=a.NONE,s=[],l="unknown",u=function(){for(var e=0,t=s.length;e<t;e++){var n=s[e];try{n()}catch(e){}}s=[]},c=function(){if(o===a.NONE){o=a.INITIALIZING;try{wx.getNetworkType({success:function(e){l=e.networkType},complete:function(){o=a.DONE,u()}}),r.subscribe("onNetworkStatusChange",(function(e){o!==a.DONE&&(o=a.DONE,u()),l=e.networkType}))}catch(e){o!==a.DONE&&(o=a.DONE)}}};function d(e,t,n){if(o!==a.DONE){if(o!==a.INITIALIZING&&c(),s.length<50)return void s.push(d.bind(this,e,t,n));u()}var i=[0,"comp.cloud.getTempFileURL",t,t,0,l,n,n,0].join(",");Reporter.reportKeyValue({key:"CloudReport",value:i,force:!0})}var p={image:[],audio:[],video:[]};function h(e,t,n){var i,r,a,o=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:(new Date).getTime(),o=null,a=e.apply(i,r),o||(i=r=null)};return function(){var u=(new Date).getTime();s||!1!==n.leading||(s=u);var c=t-(u-s);return i=this,r=arguments,c<=0||c>t?(clearTimeout(o),o=null,s=u,a=e.apply(i,r),o||(i=r=null)):o||!1===n.trailing||(o=setTimeout(l,c)),a}}function f(e){var t=p[e].slice();p[e]=[];var n=[];t.forEach((function(e){n.push(e.src)}));var i=Date.now();wx.getCloudFileUrl({data:{fileid_list:n,type:e},success:function(e){wxNativeConsole.info("getCloudFileUrl success",e);var r=e.data,a=new Map;r.forEach((function(e,t){e.code&&wxNativeConsole.error(`getCloudFileUrl error fileId "${n[t]}": ${e.code} ${e.msg}`),a.set(n[t],e)})),t.forEach((function(e){var t,n=(a.get(e.src)||{}).url;null===(t=e.callback)||void 0===t||t.call(e,n||e.src)})),e.cost&&d("component.cloud.getTempFileURL",Date.now()-i,e.cost)},fail:function(){t.forEach((function(e){var t;null===(t=e.callback)||void 0===t||t.call(e,e.src)}))},complete:function(e){wxNativeConsole.info("getCloudFileUrl callback",e)}})}var _={image:h(f,50),audio:h(f,50),video:h(f,50)};const v=(0,i.Ou)("cloud").definition({methods:{getCloudFileUrl:function(e,t,n){if(!/^(cloud):\/\//.test(e=e||""))return n(e);p[t].push({src:e,callback:n}),_[t](t)},getCloudFileUrls:function(e=[],t,n){0!==e.length?wx.getCloudFileUrl({data:{fileid_list:e,type:t},success:function(t){var i=t.data;n(i.map((function(t,n){return t.code&&wxNativeConsole.error(`getCloudFileUrl error fileId "${e[n]}": ${t.code} ${t.msg}`),t.url})))},fail:function(){"function"==typeof n&&n(e)},complete:function(e){wxNativeConsole.info("getCloudFileUrls callback",e)}}):"function"==typeof n&&n(e)}}}).registerBehavior()},7466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(3597),r=n(5891);const a=(0,i.ZP)("data-component").definition({properties:{name:{type:r.Z.glassEasel.NormalizedPropertyType.String,public:!0},autoFill:{type:r.Z.glassEasel.NormalizedPropertyType.String,public:!0}},methods:{getFormData:function(){return this.value||""},resetFormData:function(){}}}).registerBehavior()},4910:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var i=n(9934),r=(0,n(3597).ZP)("default-display").lifetime("created",(function(){a(this)})).registerBehavior(),a=function(e){var t=e.getPageId(),n=(0,i.getRuntime)().getPageFeatureFlags(t);null!=n&&n.defaultBlockLayout&&e.toggleNodeClass("__wx_display_block__",!0,i.RuntimeCore.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA)}},1840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(3597),r=n(5891);const a=(0,i.ZP)("disabled").property("disabled",{type:r.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1}).observer("disabled",(function(e){var t;null===(t=this.$$)||void 0===t||t.setAttribute("aria-disabled",e),this._setRelatedLabelAria&&this._setRelatedLabelAria()})).registerBehavior()},2022:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(3597),r=n(9797);const a=(0,i.ZP)("event-binder").behavior(r.Z).options({listenerChangeLifetimes:!0}).lifetime("listenerChange",(function(e,t,n,i){var r,a,o,s;e&&(this[`bind${t}`]=null===(r=i.extraFields)||void 0===r?void 0:r.handler,null===(a=this._nativeEvents)||void 0===a||null===(o=a[t])||void 0===o||null===(s=o.observer)||void 0===s||s.call(this,n))})).methods({bindMethod:function(e=[]){},getCallerMethod:function(e){var t,n,i=this[`bind${e}`];return i&&null!==(t=null===(n=this.ownerShadowRoot)||void 0===n?void 0:n.getHostNode().getMethodCaller()[i])&&void 0!==t?t:null},listenNativeEvents:function(e){this._nativeEvents=e,this.bindMethod(Object.keys(e))}}).registerBehavior()},2695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=(0,n(3597).ZP)("gesture-proxy").methods({getProxyGestureHostNode:function(){console.error("component which requires 'gesture-proxy' behavior must override 'getProxyGestureHostNode' method")}}).registerBehavior()},3780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(3597),r=n(5891);const a=(0,i.ZP)("group").definition({is:"group",listeners:{"this.wxItemValueChanged":"_handleItemValueChanged","this.wxItemCheckedChanged":"_handleItemCheckedChanged","this.wxItemAdded":"_handleItemAdded","this.wxItemRemoved":"_handleItemRemoved","this.wxItemChangedByTap":"_handleChangedByTap"},methods:{_handleItemValueChanged:function(e){this.renameItem(e.detail.item,e.detail.newVal,e.detail.oldVal)},_handleItemCheckedChanged:function(e){this.changed(e.detail.item)},_handleItemAdded:function(e){return e.detail.item._relatedGroup=this,this.addItem(e.detail.item),!1},_handleItemRemoved:function(e){var t;return this.removeItem(null==e||null===(t=e.detail)||void 0===t?void 0:t.item),!1},_handleChangedByTap:function(){this.triggerEvent("change",{value:this.value})},addItem:function(e){},removeItem:function(e){},renameItem:function(e,t,n){},changed:function(e){},resetFormData:function(){if(this.hasBehavior("data-component")){var e=r.Z.glassEasel,t=function(n){n.childNodes.forEach((function(n){if(n instanceof e.Element){if(n instanceof e.Component){if(n.hasBehavior("group"))return;if(n.hasBehavior("item"))return void n.resetFormData()}t(n)}}))};t(this)}}}}).registerBehavior()},3783:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(5891);const r=(0,n(3597).ZP)("hover").definition({properties:{hoverStartTime:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:50,public:!0},hoverStayTime:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:400,public:!0},hoverClass:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"_hoverClassChange"},hoverStopPropagation:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0}},created:function(){this._hoverClass=[],this.waitingForHoverReset=Promise.resolve()},attached:function(){this._handleBind(this.hoverClass)},detached:function(){this.unbindHover(),clearTimeout(this._hoverStyleTimeId),clearTimeout(this._hoverStayTimeId)},methods:{_hoverClassChange:function(e){var t=this;this.waitingForHoverReset.then((function(){t._handleBind(e)}))},_handleBind:function(e){if(this._hoverClass=[],"none"===e)this.unbindHover();else if(""===e)this._defaultHoverClass?this.bindHover():this.unbindHover();else{for(var t=e.split(/\s/),n=0;n<t.length;n++)t[n]&&this._hoverClass.push(t[n]);this.bindHover()}},bindHover:function(){this._bindHover||(this._bindHover=!0,this.addListener("touchstart",this.hoverTouchStart),this.addListener("canceltap",this.hoverCancel),this.addListener("touchcancel",this.hoverCancel),this.addListener("touchend",this.hoverTouchEnd))},unbindHover:function(){this._bindHover&&(this._bindHover=!1,this.removeListener("touchstart",this.hoverTouchStart),this.removeListener("canceltap",this.hoverCancel),this.removeListener("touchcancel",this.hoverCancel),this.removeListener("touchend",this.hoverTouchEnd))},hoverTouchStart:function(e){var t=this;if(!e._hoverPropagationStopped)if(this.hoverStopPropagation&&(Object.getPrototypeOf(e)._hoverPropagationStopped=!0),this._hoverTouch=!0,"none"===this.hoverClass||this.disabled);else{if(e.touches.length>1)return;this._hoverStyleTimeId=setTimeout((function(){if(t._hovering=!0,t._hoverClass.length>0)for(var e=0;e<t._hoverClass.length;e++)t.toggleNodeClass(t._hoverClass[e],!0,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA);else t._defaultHoverClass&&t.toggleNodeClass(t._defaultHoverClass,!0,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA);t._hoverTouch||(clearTimeout(t._hoverStayTimeId),t.waitingForHoverReset=new Promise((function(e){t._hoverStayTimeId=setTimeout((function(){t._hoverReset(),e(!0)}),t.hoverStayTime)})))}),this.hoverStartTime)}},hoverTouchEnd:function(){var e=this;this._hoverTouch=!1,this._hovering&&(clearTimeout(this._hoverStayTimeId),this.waitingForHoverReset=new Promise((function(t){e._hoverStayTimeId=setTimeout((function(){e._hoverReset(),t(!0)}),e.hoverStayTime)})))},hoverCancel:function(){this._hoverTouch=!1,clearTimeout(this._hoverStyleTimeId),this._hoverStyleTimeId=void 0,this._hoverReset(),this.waitingForHoverReset=Promise.resolve()},_hoverReset:function(){if(this._hovering)if(this._hovering=!1,"none"===this.hoverClass);else if(this._hoverClass.length>0)for(var e=0;e<this._hoverClass.length;e++)this.classList.contains(this._hoverClass[e],i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA)&&this.toggleNodeClass(this._hoverClass[e],!1,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA);else this._defaultHoverClass&&this.toggleNodeClass(this._defaultHoverClass,!1,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA)}}}).registerBehavior()},9797:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(7082),r=n(3597),a=n(5566),o=new WeakMap;const s=(0,r.ZP)("id-mapper").init((function({self:e,lifetime:t,method:n}){var r=e.ownerShadowRoot;if(!r)return{getNodeId:n(a.Z)};var s=o.get(r);if(!s){s={count:0,id:(0,i.Z)()};var l=r.getHostNode(),u=e._$ownerRenderRoot;u&&(u.assignNodeWithId(s.id,l),o.set(r,s))}var c=!1,d=n((function(){return c||(c=!0,s.count++),s.id}));return t("detached",(function(){if(c&&--s.count,0===s.count){var t=e._$ownerRenderRoot;null==t||t.removeNodeById(s.id),o.delete(r)}})),{getNodeId:d}})).registerBehavior()},5718:(e,t,n)=>{"use strict";n.r(t),n.d(t,{registerBuiltInBehaviors:()=>I});var i=n(5519),r=n(3553),a=n(2629),o=n(8191),s=n(1438),l=n(4493),u=n(8919),c=n(3783),d=n(2840),p=n(7466),h=n(5595),f=n(3712),_=n(1840),v=n(3369),g=n(1576),m=n(3780),E=n(2695),y=n(26),T=n(2022),b=n(3721),C=n(4187),S=n(9797),A=n(4910);function I(e,t){var n=e.getEnv(),I=t.getComponentSpace(),P=function(e){I.exportBehavior(e.is,e.is)};P(i.ZP),P(r.Z),P(a.Z),P(a.f),P(o.Z),P(u.Z),P(c.Z),P(d.Z),P(p.Z),P(h.Z),P(f.Z),P(_.Z),P(v.Z),P(g.Z),P(m.Z),P(E.Z),P(y.Z),P(S.Z),P(T.Z),P(b.Z),P(C.Z),P(l.Z),P(A.N),P(s.XH),P(s.pT),P(s.k9),P(s.e7),P(s.Cq),P(s.zb),P(s.aA),P(s.Dj),P(s.Rb),P(s.jy),P(s.Xu),n.updateGlobalUsingComponent()}},3369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(3597),r=n(5891);const a=(0,i.ZP)("item").definition({properties:{value:{type:r.Z.glassEasel.NormalizedPropertyType.String,public:!0,observer:function(e,t){this._relatedGroup&&this._relatedGroup.triggerEvent("wxItemValueChanged",{item:this,newVal:e,oldVal:t})}},checked:{type:r.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:function(e,t){null!==this.$$&&this.$$.setAttribute("aria-checked",e),this._setRelatedLabelAria&&this._setRelatedLabelAria(),e!==t&&(this._relatedGroup&&this._relatedGroup.triggerEvent("wxItemCheckedChanged",{item:this}),this.onCheckedChanged&&this.onCheckedChanged(e))}}},attached:function(){this.triggerEvent("wxItemAdded",{item:this},{bubbles:!0})},moved:function(){this._relatedGroup&&(this._relatedGroup.triggerEvent("wxItemRemoved"),this._relatedGroup=null),this.triggerEvent("wxItemAdded",{item:this},{bubbles:!0})},detached:function(){this._relatedGroup&&(this._relatedGroup.triggerEvent("wxItemRemoved",{item:this}),this._relatedGroup=null)},methods:{changedByTap:function(){this._relatedGroup&&this._relatedGroup.triggerEvent("wxItemChangedByTap")},resetFormData:function(){this.checked=!1}}}).registerBehavior()},1576:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=(0,n(3597).ZP)("label-aria").methods({_setAria:function(e){this.setAriaRoleDefault(e),null!==this.$$&&(this.$$.setAttribute("aria-disabled",this.disabled),this.hasBehavior("button")||this.$$.setAttribute("aria-checked",this.checked))},_setRelatedLabelAria:function(e){if(this._relatedLabel){var t=this._relatedLabel;e||(this.hasBehavior("radio")&&(e="radio"),this.hasBehavior("switch")&&(e="checkbox"),this.hasBehavior("checkbox")&&(e="checkbox"),this.hasBehavior("button")&&(e="button")),t.setAriaRoleDefault(e),null!==t.$$&&(t.$$.setAttribute("aria-disabled",this.disabled),this.hasBehavior("button")||t.$$.setAttribute("aria-checked",this.checked))}}}).registerBehavior()},4493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=(0,n(3597).ZP)("label-target").registerBehavior()},2840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(4762),r=n(3597),a=function(){},o={};const s=(0,r.ZP)("native").definition({properties:{},created:function(){var e=this;this._isReady=!1,this._deferred=[],this._isError=!1,this._box={width:0,height:0};var t=!0;null!==this.$$&&this.$$.setLayoutCallback((function(n){t?(e._box=n,"function"==typeof e._initNativeView?e._initNativeView(e._box):console.error(`${e.is}._initNativeView has not implemented`)):"function"==typeof e._updatePosition?e._diff(n)&&(e._box=n,e._updatePosition(e._box)):console.error(`${e.is}._updatePosition has not implemented`),t=!1}))},methods:{_diff:function(e){var t=this._box;for(var n of Object.keys(t))if(t[n]!==e[n])return!0;return!1},insert2XWebEnabled:function(){return i.wZ},_delay:function(e,...t){this._deferred.push({callback:e,args:t})},_ready:function(){var e=this;this._isReady=!0,this._deferred.forEach((function(t){("function"==typeof t.callback?t.callback:e[t.callback]).apply(e,t.args)})),this._deferred=[]},_unready:function(){this._isReady=!1},_isNativeReady:function(){return this._isReady},hiddenChanged:function(){},_guardPermissions:function(e=a){var t=this;if(this._shouldEnablePermCheckAndGetTask&&"function"==typeof this._shouldEnablePermCheckAndGetTask){var n=this._shouldEnablePermCheckAndGetTask();if(!n||!n.indices)return void e.call(this);var{reporterKey:i,errMsg:r}=n;i=i||"",r=r||"接口系统维护中";var s=o[n.indices[0]];if("number"==typeof s)return void(0===s?e.call(this):this.triggerEvent("error",{errMsg:r}));wx.getPermissionBytes({indexes:n.indices,success:function(i){var a,s;i.permissionBytes&&0===i.permissionBytes[0]?e.call(t):t.triggerEvent("error",{errMsg:r}),t.publish("media_banned",{index:n.indices[0],permissionByte:null===(a=i.permissionBytes)||void 0===a?void 0:a[0]}),o[n.indices[0]]=null===(s=i.permissionBytes)||void 0===s?void 0:s[0]},fail:function(){t.triggerEvent("error",{errMsg:r})}})}else e.call(this)},insertNativeView:function(e,t,n){var i=this;this._guardPermissions((function(){i.invoke(e,t,(function(e){/:ok/.test(e.errMsg)&&i._ready(),"function"==typeof n&&n.call(i,e)}))}))},updateNativeView:function(e,t,n){var i=this;this.invoke(e,t,(function(e){"function"==typeof n&&n.call(i,e)}))},removeNativeView:function(e,t,n){var i=this;this.invoke(e,t,(function(e){i._unready(),"function"==typeof n&&n.call(i,e)}))},_getPluginPermissionBytes:function(e,t,n){var i=this._nativeViewPluginCheckPluginId;i?wx.getPluginPermissionBytes(i,e,(function(e){t.permissionBytes=e,n()})):n()},insertNativeViewWithPluginCheck:function(e,t,n){var i=this;this._nativeViewPluginCheckPluginId=this.getPluginId(),this._getPluginPermissionBytes(e,t,(function(){i.insertNativeView(e,t,n)}))},updateNativeViewWithPluginCheck:function(e,t,n){var i=this;this._getPluginPermissionBytes(e,t,(function(){i.updateNativeView(e,t,n)}))},removeNativeViewWithPluginCheck:function(e,t,n){var i=this;this._getPluginPermissionBytes(e,t,(function(){i.removeNativeView(e,t,n)}))}}}).registerBehavior()},8191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(6281),r=n(3597),a={video:1,"live-player":2,"live-pusher":3,image:4,audio:5};const o=(0,r.ZP)("player").methods({_formatTime:function(e,t=!0){return(0,i.LU)(e,t)},reportMediaComponentStatus:function({evtId:e,evtNote:t="",src:n=""}={}){if(void 0!==__wxConfig&&__wxConfig.appLaunchInfo){var i=encodeURIComponent(n.substring(0,1024)).substring(0,1024),r=__wxConfig.appLaunchInfo,o=["unknown"],s=this.getPluginId(),l=this.is.replace("wx-",""),u=[Math.round(Date.now()/1e3),r.scene,"",r.sessionid||r.sessionId||"",window.__route__,"",o?o[1]:"unknown","",a[l],e,t,i,__wxConfig.appType,s].join(",");Reporter.reportKeyValue({key:"MediaCompStatus",value:u})}}}).registerBehavior()},2629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,f:()=>o});var i=n(7082),r=n(3597);const a=(0,r.ZP)("positioning-target").definition({created:function(){this._positioningId=(0,i.Z)()},methods:{getPositioningId:function(){return this._positioningId},regeneratePositioningId:function(){return this._positioningId=(0,i.Z)(),this._positioningId}}}).registerBehavior();var o=(0,r.ZP)("position-container").definition({methods:{getScrollOffset:function(e){"function"==typeof e&&e({scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0})}}}).registerBehavior()},1438:(e,t,n)=>{"use strict";n.d(t,{Cq:()=>u,Dj:()=>d,J9:()=>f,Rb:()=>_,XH:()=>p,Xu:()=>g,aA:()=>s,e7:()=>l,jy:()=>v,k9:()=>o,pT:()=>h,zb:()=>c});var i=n(3597),r=n(5891),a=n(3763),o=(0,i.Ou)("label-target").definition({behaviors:["label-target"]}).registerBehavior(),s=(0,i.Ou)("form-field").property("name",r.Z.glassEasel.NormalizedPropertyType.String).property("value",null).lifetime("attached",(function(){(0,a.q)("wx://form-field")})).registerBehavior(),l=(0,i.Ou)("form-field-group").lifetime("attached",(function(){(0,a.q)("wx://form-field-group")})).registerBehavior(),u=(0,i.Ou)("form-field-button").lifetime("attached",(function(){(0,a.q)("wx://form-field-button")})).definition({listeners:{formSubmit:function(e){this.triggerEvent("formSubmit",e,{bubbles:!0})},formReset:function(e){this.triggerEvent("formReset",e,{bubbles:!0})}}}).registerBehavior(),c=(0,i.Ou)("component-export").lifetime("attached",(function(){(0,a.q)("wx://component-export")})).registerBehavior(),d=(0,i.Ou)("style-filter").methods({_styleFilter:function(){return""}}).registerBehavior(),p=(0,i.Ou)("request-filter").definition({relations:{"request-sender":{type:"shadowContent"}},methods:{_srcFilter:function(e){return-1!==e.indexOf("://")||0===e.indexOf("//")?0===e.indexOf("https://wx.qlogo.cn")?e:null:e}}}).registerBehavior(),h=(0,i.Ou)("request-sender").definition({relations:{"request-filter":{type:"shadowHost",linked:function(e){this._hasCheckedLinked=!0,this._filterTarget=e,this._checkDeferredFuncList()},linkFailed:function(){this._hasCheckedLinked=!0,this._checkDeferredFuncList()}}},methods:{checkProp:function(e,t="src"){return e=void 0===e?this[t]:e,this._filterTarget?this._filterTarget._srcFilter(e):e},deferredSetProp:function(e){if(this._hasCheckedLinked)return null==e?void 0:e();this._deferredFuncList=this._deferredFuncList||[],this._deferredFuncList.push(e)},_checkDeferredFuncList:function(){var e,t=this._deferredFuncList;if(t&&t.length)for(;e=t.shift();)e()}}}).registerBehavior(),f=(0,i.fN)(),_=(0,i.Ou)("proxy-swiper").init((function({relation:e,implement:t}){var n=!1,i=null,r=function(){i?i():n=!0};e({type:"descendant",target:v,linked:r,linkChanged:r,unlinked:r}),t(f,{registerProxyComp:function(e){i=e,n&&r()},unRegisterProxyComp:function(){i=null}})})).registerBehavior(),v=(0,i.Ou)("proxy-swiper-item").init((function({relation:e}){e({type:"ancestor",target:_})})).registerBehavior(),g=(0,i.Ou)("proxy-scroll-view").registerBehavior()},3553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(3597),r=n(3763),a=null;const o=(0,i.ZP)("report").init((function({self:e,observer:t,lifetime:n,data:i}){var o=e.is;if(o){a||(a=wx.getComponentInfoForReporter());var s=a[o];if(s){var l="number"==typeof s.rate?s.rate:1;if(Math.random()<l){var{props:u=[],propVals:c=[],extra1:d=[],extra2:p=[],filters:h={}}=s,f=[];u.forEach((function(e){var n=e.replace(/-([0-9a-zA-Z])/g,(function(e,t){return t.toUpperCase()})),i=d.indexOf(e)>=0?1:p.indexOf(e)>=0?2:0,a=h[e];a&&f.push(e),t(n,(function(t){(0,r.I)(o,!1,e,t,i,a?a(t):-1)}))})),c.forEach((function(e){var n=e.replace(/-([0-9a-zA-Z])/g,(function(e,t){return t.toUpperCase()})),i=d.indexOf(e)>=0?1:p.indexOf(e)>=0?2:0,a=h[e];a&&f.push(e),t(n,(function(t){(0,r.I)(o,!0,e,t,i,a?a(t):-1)}))})),n("attached",(function(){var e=-1;f.forEach((function(t){var n=h[t];if(n){var r=n(i[t]);e=-1===e?r:e|r}})),(0,r.q)(o,e)}))}}}})).registerBehavior()},26:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(4762),r=n(5519);const a=(0,n(3597).ZP)("single-page").behavior(r.ZP).definition({methods:{checkSinglePageModeWithHighlight:function(e){if((0,i.$)())this.invoke("highlightTitleForSinglePage");else{var t,n=null!==(t=null==e?void 0:e())&&void 0!==t?t:{};wx.highlightBottomBanner({navigateInfo:n})}}}}).registerBehavior()},3712:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(3597),r=/[+-]?\d+(\.\d+)?rpx/,a=/[+-]?\d+(\.\d+)?px/;function o(e){return e.match(r)&&(e=wx.transformRpx("%%?"+e+"?%%")),function(e){return e.match(a)}(e)&&(e=parseFloat(e,10)),"number"!=typeof(e=+e)||isNaN(e)?0:e}const s=(0,i.ZP)("size-normalizer").methods({normalizeSize:function(e){return"string"==typeof e?o(e):"number"==typeof e?e:0},normalizeSizeStr:function(e){return"number"==typeof e||parseFloat(e,10).toString()===e?e+"px":e},normalizeSizeInPlace:function(e,t){var n=this,i=function(t){var i=e[t];"string"==typeof i&&(e[t]=n.normalizeSize(i))};"[object Array]"===Object.prototype.toString.call(t)?t.forEach(i):"string"==typeof key&&i(t)}}).registerBehavior()},3721:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=(0,n(3597).ZP)("touchtrack").methods({touchtrack:function(e,t,n=!1){var i=0,r=0,a=0,o=0,s=function(e,n,s,l){if(!1===t({target:e.target,currentTarget:e.currentTarget,preventDefault:e.preventDefault.bind(e),stopPropagation:e.stopPropagation.bind(e),touches:e.touches,changedTouches:e.changedTouches,detail:{state:n,x:s,y:l,dx:s-i,dy:l-r,ddx:s-a,ddy:l-o,timeStamp:e.timeStamp},originalEvent:e}))return!1},l=null,u=function(e){return l&&Array.from(e.touches).some((function(e){return e.identifier===l.identifier}))};e.addListener("touchstart",(function(e){if(1===e.touches.length)return l=e.touches[0],i=a=e.touches[0].pageX,r=o=e.touches[0].pageY,s(e,"start",i,r)})),e.addListener("touchmove",(function(e){var t;if(l&&u(e)){var n=null!==(t=Array.from(e.touches).find((function(e){return e.identifier===l.identifier})))&&void 0!==t?t:{pageX:0,pageY:0},i=s(e,"move",n.pageX,n.pageY);return a=n.pageX,o=n.pageY,i}})),e.addListener("touchend",(function(e){if(l&&!u(e)){var t=Array.from(e.changedTouches).find((function(e){return e.identifier===l.identifier}));if(t)return l=null,s(e,"end",t.pageX,t.pageY)}})),e.addListener("touchcancel",(function(e){if(l){var t=l;return l=null,s(e,n?"cancel":"end",t.pageX,t.pageY)}}))}}).registerBehavior()},3597:(e,t,n)=>{"use strict";var i,r;n.d(t,{Ou:()=>l,ZO:()=>a,ZP:()=>c,_0:()=>o,fN:()=>u,oc:()=>s});var a=function(e){i=e.getComponentSpace(),r=e.libStyleScope},o=function(){return i},s=function(){return r},l=function(e){return i.define(e)},u=function(e){return i.defineTraitBehavior(e)};const c=l},5595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i,r=n(3888),a=n.n(r),o=n(8282),s=n(3597),l=n(9934);const u=(0,s.ZP)("worklet-handler").options({writeFieldsToNode:!0}).init((function(e){var{method:t,self:n,lifetime:i}=e,r=[];i("detached",(function(){return r.forEach((function(e){return e.unregister()}))}));var s=t(function(){var e=a()((function*(e){if(!e)return null;if(!n.ownerShadowRoot)throw new Error('Behavior "worklet-handler" can not be used in root component');var t=n.ownerShadowRoot.getHostNode();yield Promise.resolve();var i,r=null;if(r=l.RuntimeCore.glassEasel.Component.getMethod(t,e),"function"==typeof(i=r)&&i.__worklet)return r;var a=t.getMethodCaller(),o=a[`_${e}_worklet_factory_`];return"function"==typeof o?r=o.call(a):void 0}));return function(t){return e.apply(this,arguments)}}()),u=t((function(e,t,n){if("function"==typeof t){var i=new o.Z(t,e);i.register(n),r.push(i)}})),c={};return i("workletChange",(function(e,t){return c[e]=t})),{obtainWorkletFunc:s,addWorkletEventHandler:u,getWorkletDirective:t((function(e){return c[e]}))}})).definition({attached:function(){},methods:{attachNativeEvents:(i=a()((function*(){})),function(){return i.apply(this,arguments)})}}).registerBehavior()},5134:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var i=n(4762),r=function(e,t){(0,i.o2)((function(){wx.subscribe(e,t)}),!0)}},5534:(e,t,n)=>{"use strict";n.r(t),n.d(t,{registerBuiltInComponents:()=>x_});var i=n(5891),r=n(4762),a=["view","image","cover-image","scrollview","texture","body","page","span","text","stickysection","stickyheader","listview","gridview","nestedscrollheader","nestedscrollbody","listbuilder","listbuilderitem","gridbuilder","gridbuilderitem","picker-view-column","open-container"],o=n(3888),s=n.n(o),l=/[+-]?\d+(\.\d+)?px/,u=function(e){return e.match(l)};function c(e){return"string"==typeof e?function(e){return u(e)&&(e=parseFloat(e)),"number"!=typeof(e=+e)||isNaN(e)?0:e}(e):"number"==typeof e?e:0}var d=function(e){return new Promise((function(t){return e.getBoundingClientRect(t)}))},p=function(){var e=s()((function*(e,t){if(!e)return 0;var{width:n=0,height:i=0}=yield d(e);if(t){var{width:r=0,height:a=0}=yield d(e);return n*i/(r*a)}if(wx){var{windowWidth:o=0,windowHeight:s=0,statusBarHeight:l=0}=yield new Promise((function(e,t){return wx.getSystemInfo({success:e,fail:t})})),u=s-l;return i>u?n/o:n>o?i/u:n*i/(o*u)}return 0}));return function(t,n){return e.apply(this,arguments)}}(),h=n(4431),f=n(9934),_=n(3597),v=n(5519),g=function(e){return(0,_._0)().define(e).options({styleScope:(0,_.oc)()}).behavior(v.ZP).init((function(e){if(e.self.__libComp__=!0,r.gm){var t=f.RuntimeCore.glassEaselAdapter,n=t.getEnv();e.lifetime("listenerChange",(function(...i){return t.writeListenersInfoIntoNode(n,e.self,...i)}))}}))},m=n(2022),E=n(5595),y=n(3553),T=n(2695),b=n(3839),C=n(7175),S=n(1438),A=n(2629),I=n(4910),P=["","list","custom","nested"],w={withinExtent:!1,animated:!0,offset:0,alignment:"start"},R=1,x={};wx.on("onTapStatusBar",(function(e,t,n){h.Q.trigger(n.__subscribe_webviewId,"onTapStatusBar",e)}));var O,N,D,k,L,M,B=g("scroll-view").behavior(v.ZP).behavior(y.Z).behavior(m.Z).behavior(E.Z).behavior(T.Z).behavior(A.f).behavior(I.N).options({listenerChangeLifetimes:!0,multipleSlots:!0}).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(t,i,r){r("view",{},(function(t,n){n&&e.i(t,"refresher")}),(function(e,t,n,i,r,a){e?a("refresher"):a()})),r("scrollview",{},(function(t,n){n&&e.i(t,"scrollView"),n&&e.y(t,"width: 100%; height: 100%;")}),(function(e,t,i,r){var a=""===n.type?1:0;r(a,(function(e,t,n,i,r,o){1===a?n("view",{},(function(e,t){}),(function(e,t,n,i,r,a){e?a(""):a()})):e?o(""):o()}))}))},B:{}}},function(t){return e[t]}}()}).property("scrollIntoView",{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""}).observer("scrollIntoView",(function(e){this._scrollIntoViewChanged(e)})).property("scrollTop",{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0}).observer("scrollTop",(function(e){var t=c(e);null!==this.node&&this.node.setAttributes({scrollTop:t})})).property("scrollLeft",{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0}).observer("scrollLeft",(function(e){var t=c(e);null!==this.node&&this.node.setAttributes({scrollLeft:t})})).property("refresherTriggered",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1}).observer("refresherTriggered",(function(e){null!==this.node&&this.node.setAttributes({refresherTriggered:e})})).property("refresherTwoLevelTriggered",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1}).observer("refresherTwoLevelTriggered",(function(e){null!==this.node&&this.node.setAttributes({refresherTwoLevelTriggered:e})})).definition({properties:{type:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(e){var t=e;-1===P.indexOf(t)&&(console.warn(`For Developer:Do not support the attribute ${t} in scroll-view, but it probably works for higher version.`),t="list"),null!==this.node&&this.node.setAttributes({type:t})}},scrollX:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:function(e){null!==this.node&&this.node.setAttributes({scrollX:e})}},scrollY:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:function(e){null!==this.node&&this.node.setAttributes({scrollY:e})}},scrollIntoViewWithinExtent:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:function(e){null!==this.node&&this.node.setAttributes({scrollIntoViewWithinExtent:e})}},scrollIntoViewAlignment:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:"start",observer:function(e){null!==this.node&&this.node.setAttributes({scrollIntoViewAlignment:e})}},scrollIntoViewOffset:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:0,observer:function(e){null!==this.node&&this.node.setAttributes({scrollIntoViewOffset:e})}},scrollWithAnimation:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:function(e){null!==this.node&&this.node.setAttributes({scrollWithAnimation:e})}},cacheExtent:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:150,observer:function(e){null!==this.node&&this.node.setAttributes({cacheExtent:e})}},enableBackToTop:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:null,observer:"_enableBackToTopChanged"},lowerThreshold:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:50,observer:function(e){var t=parseFloat(e);isNaN(t)&&(t=50),null!==this.node&&this.node.setAttributes({lowerThreshold:t})}},upperThreshold:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:50,observer:function(e){var t=parseFloat(e);isNaN(t)&&(t=50),null!==this.node&&this.node.setAttributes({upperThreshold:t})}},refresherEnabled:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:function(e){null!==this.node&&this.node.setAttributes({refresherEnabled:e})}},refresherThreshold:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:45,observer:function(e){null!==this.node&&this.node.setAttributes({refresherThreshold:e})}},refresherBackground:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:"#fff",observer:function(e){null!==this.node&&this.node.setAttributes({refresherBackground:e})}},refresherDefaultStyle:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:"black",observer:function(e){null!==this.node&&this.node.setAttributes({refresherDefaultStyle:e})}},refresherTwoLevelPinned:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:function(e){null!==this.node&&this.node.setAttributes({pinnedWhenOpenTwoLevel:e})}},refresherTwoLevelScrollEnabled:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:function(e){null!==this.node&&this.node.setAttributes({enableScrollWhenTwoLevel:e})}},refresherBallisticRefreshEnabled:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:function(e){null!==this.node&&this.node.setAttributes({enableBallisticRefresh:e})}},refresherTwoLevelEnabled:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:function(e){null!==this.node&&this.node.setAttributes({refresherTwoLevelEnabled:e})}},refresherTwoLevelThreshold:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:150,observer:function(e){null!==this.node&&this.node.setAttributes({refresherTwoLevelThreshold:e})}},refresherTwoLevelCloseThreshold:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:80,observer:function(e){null!==this.node&&this.node.setAttributes({refresherTwoLevelCloseThreshold:e})}},scrollEnabled:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!0,observer:function(e){null!==this.node&&this.node.setAttributes({scrollEnabled:e})}},bounces:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!0,observer:function(e){null!==this.node&&this.node.setAttributes({bounces:e})}},showScrollbar:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!0,observer:function(e){null!==this.node&&this.node.setAttributes({showScrollbar:e})}},fastDeceleration:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:function(e){null!==this.node&&this.node.setAttributes({fastDeceleration:e})}},reverse:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:function(e){null!==this.node&&this.node.setAttributes({reverse:e})}},minDragDistance:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:NaN,observer:function(e){null!==this.node&&this.node.setAttributes({minDragDistance:e})}},associativeContainer:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"none",observer:function(e){null!==this.node&&this.node.setAttributes({associativeContainer:e})},public:!0},adjustDecelerationVelocity:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},estimateContentSize:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},padding:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:function(e){null!==this.node&&this.node.setAttributes({padding:[0,0,0,0].map((function(t,n){return c(e[n])}))})}},prelayoutEnabled:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:function(e){null!==this.node&&this.node.setAttributes({prelayoutEnabled:e})}},prelayoutThreshold:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:10,observer:function(e){null!==this.node&&this.node.setAttributes({prelayoutThreshold:e})}},prelayoutEstimatedExtent:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:50,observer:function(e){null!==this.node&&this.node.setAttributes({prelayoutEstimatedExtent:e})}},clip:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!0,observer:function(e){null!==this.node&&this.node.setAttributes({disableClip:!e})}},paintOrder:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:"reverse",observer:function(e){null!==this.node&&this.node.setAttributes({paintOrder:e})}},scrollAnchoring:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!0,observer:function(e){null!==this.node&&this.node.setAttributes({scrollAnchoring:e})}}},lifetimes:{created:function(){this._scrollViewId=R+++"_skyline",this._operateScrollViewHandler=this.operateScrollViewHandler.bind(this),this._tapStatusBarHandler=this.tapStatusBarHandler.bind(this),this._autoEnableBackToTop=!1,this.bindEvent()},attached:function(){var e=this;this._attached=!0,this.findProxyScrollViewComp(),this.attachNativeEvents(),this.onPageEventAuto("operateSkylineScrollView",(function(t){return e._operateScrollViewHandler(t)})),this.onPageEventAuto("onTapStatusBar",(function(){return e.tapStatusBarHandler()})),this._scrollIntoViewChanged(this.data.scrollIntoView),this.publish("commonScrollViewReady",{scrollViewId:this._scrollViewId,backend:"skyline"}),null===this.enableBackToTop?p(this.$.scrollView.$$).then((function(t){e._autoEnableBackToTop=t>=.85,e.listenTapStatusBar()})):(this._autoEnableBackToTop=this.enableBackToTop,this._enableBackToTopChanged(this.enableBackToTop))},detached:function(){this._attached=!1,this.node=null,delete this.__proxyScrollViewComp,this.listenTapStatusBar()}},methods:{findProxyScrollViewComp:function(){for(var e,t=null===(e=this.ownerShadowRoot)||void 0===e?void 0:e.getHostNode();t;){var n;if(t.hasBehavior(S.Xu))return void(this.__proxyScrollViewComp=t);t=null===(n=t.ownerShadowRoot)||void 0===n?void 0:n.getHostNode()}},getProxyGestureHostNode:function(){return this.$.scrollView.$$},_enableBackToTopChanged:function(e){wxNativeConsole.info("[Wxapplib.Critical] invoke listenTapStatusBar listen: ",e),this.listenTapStatusBar()},listenTapStatusBar:function(){var e=null===this.enableBackToTop&&this._autoEnableBackToTop,t=null!==this.enableBackToTop&&this.enableBackToTop,n=x[this.getPageId()]=x[this.getPageId()]||{};n[this._scrollViewId]=(e||t)&&this._attached;var i=Object.keys(n).reduce((function(e,t){return e||n[t]}),!1);this.invoke("listenTapStatusBar",{listen:i}),this._attached||delete n[this._scrollViewId]},tapStatusBarHandler:function(){wxNativeConsole.info("[Wxapplib.Critical] receive onTapStatusbar"),null!==this.node&&this.scrollY&&(this.enableBackToTop||this._autoEnableBackToTop)&&("function"==typeof this.node.scrollTo?this.node.scrollTo({top:0,left:0,duration:500,curve:[.075,.82,.165,1],animated:!0}):this.node.setAttributes({scrollTop:0}))},operateScrollViewHandler:function(e){if(e&&e.scrollViewId===this._scrollViewId)if(wxNativeConsole.info(`[Wxapplib.Critical] operateScrollViewHandler method: ${e.method} args: ${JSON.stringify(e.args)}`),"holdPosition"===e.method)this.holdPosition();else if("requestRefresherRefresh"===e.method)this.requestRefresherRefresh(e.args);else if("requestRefresherTwoLevel"===e.method)this.requestRefresherTwoLevel(e.args);else if("scrollIntoView"===e.method){var{selector:t,scrollIntoViewOptions:n}=e.args,i=Object.assign({},w,n);this.performScrollIntoView(t,i)}else if("scrollTo"===e.method){if(null===this.node)return;if("function"==typeof this.node.scrollTo){var{left:r,top:a,duration:o,animated:s}=e.args;this.node.scrollTo({offset:this.scrollY?a:r,duration:o,curve:[.25,.1,.25,1],animated:s})}}},bindEvent:function(){var e=this,t=this.$.refresher.$$;null!==t&&t.forceDetached(),this.node=this.$.scrollView.$$,null!==this.node&&this.node.setRefresherHeader(t);var n={scrollstart:{},scroll:{},scrollend:{},scrolltoupper:{observer:this.onscrolltoupper.bind(this)},scrolltolower:{observer:this.onscrolltolower.bind(this)},refresherpulling:{observer:this.onrefresherpulling.bind(this)},refresherwillrefresh:{observer:this.onrefresherwillrefresh.bind(this)},refresherrefresh:{observer:this.onrefresherrefresh.bind(this)},refresherrestore:{observer:this.onrefresherrestore.bind(this)},refresherabort:{observer:this.onrefresherabort.bind(this)}};this.listenNativeEvents(n),null!==this.node&&(0,b.mf)(this.node.onRefresherStatusChangeEvent)&&this.node.onRefresherStatusChangeEvent((function(t,n){e.triggerEvent("refresherstatuschange",{status:t,dy:n})}))},onscrolltoupper:function(e){var t=this;e&&null!==this.node&&this.node.onScrollToUpperEvent((function(){t.triggerEvent("scrolltoupper",{direction:t.scrollY?"top":"left"})}))},onscrolltolower:function(e){var t=this;e&&null!==this.node&&this.node.onScrollToLowerEvent((function(){t.triggerEvent("scrolltolower",{direction:t.scrollY?"bottom":"right"})}))},onrefresherpulling:function(e){var t=this;e&&null!==this.node&&this.node.onRefresherPullingEvent((function(e){t.triggerEvent("refresherpulling",{dy:e})}))},onrefresherwillrefresh:function(e){var t=this;e&&null!==this.node&&"function"==typeof this.node.onRefresherWillRefreshEvent&&this.node.onRefresherWillRefreshEvent((function(e){t.triggerEvent("refresherwillrefresh",{dy:e})}))},onrefresherrefresh:function(e){var t=this;e&&null!==this.node&&this.node.onRefresherRefreshEvent((function(e){t.triggerEvent("refresherrefresh",{dy:e})}))},onrefresherrestore:function(e){var t=this;e&&null!==this.node&&this.node.onRefresherRestoreEvent((function(e){t.triggerEvent("refresherrestore",{dy:e})}))},onrefresherabort:function(e){var t=this;e&&null!==this.node&&(0,b.mf)(this.node.onRefresherAbortEvent)&&this.node.onRefresherAbortEvent((function(e){t.triggerEvent("refresherabort",{dy:e})}))},holdPosition:function(){null!==this.node&&(0,b.mf)(this.node.holdPosition)&&this.node.holdPosition()},requestRefresherRefresh:function(e){null!==this.node&&(0,b.mf)(this.node.requestRefresherRefresh)&&this.node.requestRefresherRefresh(e.open,e.duration,e.easingFunction)},requestRefresherTwoLevel:function(e){null!==this.node&&(0,b.mf)(this.node.requestRefresherRefresh)&&this.node.requestRefresherTwoLevel(e.open,e.duration,e.easingFunction)},_scrollIntoViewChanged:function(e){this.performScrollIntoView(e)},performScrollIntoView:function(e,t){var n,i;if(e&&this._attached&&null!==this.node){/^[_a-zA-Z][-_a-zA-Z0-9:]*$/.test(e)&&(e=`#${e}`);var r=(null!==(n=this.__proxyScrollViewComp)&&void 0!==n?n:this).querySelector(e);r&&(r._$virtual?(0,C.yD)("scroll-view","setting scroll-into-view to a virtual node is invalid"):(t=null!==(i=t)&&void 0!==i?i:{withinExtent:this.data.scrollIntoViewWithinExtent,animated:this.data.scrollWithAnimation,offset:this.data.scrollIntoViewOffset,alignment:this.data.scrollIntoViewAlignment},this.node.scrollIntoView(r.$$,t)))}},attachNativeEvents:(M=s()((function*(){this.bindEstimateContentSize(),this.bindAdjustDecelerationVelocity(),this.bindScrollStartEvent(),this.bindScrollEvent(),this.bindScrollEndEvent()})),function(){return M.apply(this,arguments)}),bindEstimateContentSize:(L=s()((function*(){var e=this.getWorkletDirective("estimateContentSize")||this.data.estimateContentSize;if(e){var t=yield this.obtainWorkletFunc(e);(0,b.mf)(t)?null!==this.node&&(this.addWorkletEventHandler("computeContentSize",t,this.node.viewTag),this.node.setAttributes({hasUIComputeContentSize:!0})):(0,C.yD)("scroll-view",`the handler(${e}) to worklet:estimate-content-size must declare worklet directive`)}})),function(){return L.apply(this,arguments)}),bindAdjustDecelerationVelocity:(k=s()((function*(){var e=this.getWorkletDirective("adjustDecelerationVelocity")||this.data.adjustDecelerationVelocity;if(e){var t=yield this.obtainWorkletFunc(e);(0,b.mf)(t)&&null!==this.node?this.addWorkletEventHandler("adjustDecelerationVelocity",t,this.node.viewTag):(0,C.yD)("scroll-view",`the handler(${e}) to worklet:adjust-deceleration-velocity must declare worklet directive`)}})),function(){return k.apply(this,arguments)}),bindScrollStartEvent:(D=s()((function*(){var e=this,t=function(t){e.addWorkletEventHandler("onScrollStart",t,e.node.viewTag),null!==e.node&&e.node.setAttributes({hasUIOnScrollStart:!0})},n=this.getWorkletDirective("onscrollstart");if(n){var i=yield this.obtainWorkletFunc(n);(0,b.mf)(i)?t(i):(0,C.yD)("scroll-view",`the handler(${n}) to worklet:onscrollstart must declare worklet directive`)}else if(this.bindscrollstart){var r=yield this.obtainWorkletFunc(this.bindscrollstart);(0,b.mf)(r)?t(r):null!==this.node&&this.node.onScrollStartEvent((function(t,n,i,r,a){e.triggerEvent("scrollstart",{scrollTop:t,scrollLeft:n,scrollWidth:i,scrollHeight:r,isDrag:a})}))}})),function(){return D.apply(this,arguments)}),bindScrollEvent:(N=s()((function*(){var e=this,t=function(t){null!==e.node&&(e.addWorkletEventHandler("onScroll",t,e.node.viewTag),e.node.setAttributes({hasUIOnScroll:!0}))},n=this.getWorkletDirective("onscrollupdate");if(n){var i=yield this.obtainWorkletFunc(n);(0,b.mf)(i)?t(i):(0,C.yD)("scroll-view",`the handler(${n}) to worklet:onscrollupdate must declare worklet directive`)}else if(this.bindscroll){var r=yield this.obtainWorkletFunc(this.bindscroll);(0,b.mf)(r)?t(r):null!==this.node&&this.node.onScrollEvent((function(t,n,i,r,a,o,s,l){var u={scrollTop:t,scrollLeft:n,scrollWidth:i,scrollHeight:r,deltaX:a,deltaY:o,isDrag:s,boundaryVelocity:l};e.triggerEvent("scroll",u),h.Z.trigger("scroll",u)}))}})),function(){return N.apply(this,arguments)}),bindScrollEndEvent:(O=s()((function*(){var e=this,t=function(t){null!==e.node&&(e.addWorkletEventHandler("onScrollEnd",t,e.node.viewTag),e.node.setAttributes({hasUIOnScrollEnd:!0}))},n=this.getWorkletDirective("onscrollend");if(n){var i=yield this.obtainWorkletFunc(n);(0,b.mf)(i)?t(i):(0,C.yD)("scroll-view",`the handler(${n}) to worklet:onscrollend must declare worklet directive`)}else if(this.bindscrollend){var r=yield this.obtainWorkletFunc(this.bindscrollend);(0,b.mf)(r)?t(r):null!==this.node&&this.node.onScrollEndEvent((function(t,n,i,r,a){e.triggerEvent("scrollend",{scrollTop:t,scrollLeft:n,scrollWidth:i,scrollHeight:r,isDrag:a})}))}})),function(){return O.apply(this,arguments)}),getContextId:function(){return this._scrollViewId},getScrollOffset:function(e){if((0,b.mf)(e)){var t=this.$.scrollView.$$;(0,b.mf)(t.getScrollPosition)?t.getScrollPosition(e):e({scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0})}},getRef:function(){return this.$.scrollView.$$.ref}}}).registerComponent();const F=B;var V=0,W=1,U=2;class ${constructor(e={}){var t=this;this.resolve=void 0,this.reject=void 0,this.promise=void 0,this.status=V;var n=this;n.promise=new Promise((function(i,r){n.resolve=function(e){n.status=W,i(e)},n.reject=function(e){n.status=U,r(e)};var{timeout:a}=e;a&&t.setTimeoutReject(a)}))}setTimeoutReject(e,t="timeout"){var n=this;setTimeout((function(){return n.reject(t)}),e)}}var G=1,Z=1,H=3,z="abilitysuccess",j="abilityfail",Y="authsuccess",K="error",X=function(){return r.wZ&&__wxConfig.clientVersion<671097600||r.cj&&__wxConfig.clientVersion<402662432},q=new Map,J=function(){var e=s()((function*(e){var t="webapi_checkwxacommercialmap",n=q.get(e);if(n)return yield n.promise;var i=new $;q.set(e,i);var r={map_type:e};return wx.operateWXData(t,{...r,success:function(e){i.resolve([!0,{}])},fail:function(e){if(JSON.stringify(e.errMsg),JSON.stringify(e.err_code),"1400001"===e.err_code){i.resolve([!1,{err_code:+e.err_code,errMsg:"欠费"}])}else i.resolve([!0,e])}},"checkMap"),i.promise}));return function(t){return e.apply(this,arguments)}}(),Q=new Map,ee=function(){var e=s()((function*({subkey:e="",clientVersion:t}){var n,i="webapi_getwxamapresult",r=Q.get(e);if(r)return yield r.promise;var a=new $;Q.set(e,a);var o=null!=t?t:null===(n=/MicroMessenger\/(\d+\.\d+\.\d+)/.exec(navigator.userAgent))||void 0===n?void 0:n[1];return wx.operateWXData(i,{subkey:e,client_version:o,success:function(e){a.resolve(e.info)},fail:function(e){JSON.stringify(e.errMsg),JSON.stringify(e.err_code),a.reject({error:e.err_code,msg:e.errMsg})}},"getMapResult"),a.promise}));return function(t){return e.apply(this,arguments)}}(),te=9e8,ne=1e7;function ie(e){if("transparent"===e)return"#00000000";if(!e||!/^#/.test(e)||e.length>4)return e;var t=e.split("").map((function(e){return e+e})).join("").slice(1);return t}function re(e,t){for(var n=0;n<e.length;n++){if(e[n].id===t)return n}return-1}function ae(e,t){return JSON.stringify(e)!==JSON.stringify(t)}var oe=function(e){return e[e.Add=0]="Add",e[e.Update=1]="Update",e[e.Remove=2]="Remove",e}({}),se=function(e){return e[e.Linked=0]="Linked",e[e.UnLinked=1]="UnLinked",e[e.MarkerIdChanged=2]="MarkerIdChanged",e[e.SubtreeChanged=3]="SubtreeChanged",e}({});wx.on("onMapMarkerClick",(function(e){h.Z.trigger("onMapMarkerClick",e)})),wx.on("onMapCalloutClick",(function(e){h.Z.trigger("onMapCalloutClick",e)})),wx.on("onMapLabelClick",(function(e){h.Z.trigger("onMapLabelClick",e)})),wx.on("onMapControlClick",(function(e){h.Z.trigger("onMapControlClick",e)})),wx.on("onMapClick",(function(e){h.Z.trigger("onMapClick",e)})),wx.on("onMapPoiClick",(function(e){h.Z.trigger("onMapPoiClick",e)})),wx.on("onMapAnchorPointClick",(function(e){h.Z.trigger("onMapAnchorPointClick",e)})),wx.on("onMapIndoorChange",(function(e){h.Z.trigger("onMapIndoorChange",e)})),wx.on("onMapAuthFail",(function(e){h.Z.trigger("onMapAuthFail",e)})),wx.on("onMapAuthSuccess",(function(e){h.Z.trigger("onMapAuthSuccess",e)})),wx.on("onMapRegionChange",(function(e){h.Z.trigger("onMapRegionChange",e)})),wx.on("onMapPolylineClick",(function(e){h.Z.trigger("onMapPolylineClick",e)})),wx.on("onMapInterpolatePoint",(function(e){h.Z.trigger("onMapInterpolatePoint",e)}));var le=function(e,t,n){return Math.min(Math.max(e,t),n)},ue=g("map").behavior(v.ZP).behavior(y.Z).behavior(m.Z).behavior(A.Z).behavior(I.N).property("latitude",{type:i.Z.glassEasel.NormalizedPropertyType.Number,observer:"latitudeChanged",value:39.92}).property("longitude",{type:i.Z.glassEasel.NormalizedPropertyType.Number,observer:"longitudeChanged",value:116.46}).property("scale",{type:i.Z.glassEasel.NormalizedPropertyType.Any,observer:"scaleChanged",value:16}).property("rotate",{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,observer:"rotateChanged"}).property("skew",{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,observer:"skewChanged"}).property("setting",{type:i.Z.glassEasel.NormalizedPropertyType.Object,value:{},observer:"settingChanged"}).init((function(e){["latitude","longitude","scale","rotate","skew","setting"].forEach((function(t){return e.observer(t,(function(n){return e.self[t+"Changed"](n)}))}))})).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={viewId:new Array(1)},s=!0===i;return{C:function(t,l,u){u("texture",{},(function(t,r){r&&e.i(t,"map"),r&&a(t,"type","map"),(r||s||i.viewId)&&a(t,"view_id",n.viewId),o.viewId[0]=function(e,n,i){a(t,"view_id",e.viewId),n(t)},r&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%;")}),(function(e){})),u("view",{},(function(e,t){t&&r(e,"wx-map-slot")}),(function(t,n,i,r,a,o){t?o(""):o(),i("view",{},(function(t,n){n&&e.i(t,"calloutcontainer"),n&&e.y(t,"position: absolute; top: 100%; left: 5000px;")}),(function(e,t,n,i,r,a){e?a("callout"):a()}))}))},B:o}},function(t){return e[t]}}()},behaviors:["native","positioning-target","size-normalizer","cloud"],options:{renderingMode:"full",multipleSlots:!0,lazyRegistration:!0},listeners:{tap:function(e){return e.stopPropagation()}},properties:{minScale:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,observer:"minScaleChanged",value:3},maxScale:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,observer:"maxScaleChanged",value:20},markers:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:"markersChanged"},covers:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:"coversChanged"},includePoints:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:"pointsChanged"},polyline:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:"linesChanged"},circles:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:"circlesChanged"},controls:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:"controlsChanged"},polygons:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:"polygonsChanged"},showLocation:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"showLocationChanged"},showScale:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"showScaleChanged"},theme:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"normal",public:!0},subkey:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},layerStyle:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:1,public:!0,observer:"layerStyleChanged"},usePluginId:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},enableZoom:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:"enableZoomChanged"},enableScroll:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:"enableScrollChanged"},enableRotate:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enableRotateChanged"},showCompass:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"showCompassChanged"},enable3D:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enable3DChanged"},enableOverlooking:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enableOverlookingChanged"},enableSatellite:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enableSatelliteChanged"},enableTraffic:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enableTrafficChanged"},enablePoi:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:"enablePoiChanged"},enableBuilding:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:"enableBuildingChanged"},enableIndoor:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enableIndoorChanged"},enableIndoorBuildingPick:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},enableIndoorLevelPick:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},_anticipatedEnforcedXWebMap:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},viewId:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0},_ariaLanguage:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"zh"}},relations:{"cover-view":{type:"descendant",linked:function(e){isNaN(e.markerId)||this.addCalloutCommand({calloutNode:e.getAsCalloutNode(),markerId:e.markerId,operation:oe.Add,reason:se.Linked})},unlinked:function(e){isNaN(e.markerId)||this.addCalloutCommand({calloutNode:e.getAsCalloutNode(),markerId:e.markerId,operation:oe.Remove,reason:se.UnLinked})}}},created:function(){this._box={},this._mapId=this.viewId=this.getPositioningId(),null!==this.$.map.$$&&this.$.map.$$.setAttributes({type:"map",viewId:this.viewId}),this._markers={},this._useShowLocation=!1,this._mapAuthStatusDefer=new $,this._calloutCommands=new Map,this._calloutMap=new Map,this._flushCalloutTimer=null,r.gm&&(0,C.Dv)("map","开发者工具暂未支持 Skyline 下的 canvas 组件调试，请先到真机上预览调试。")},attached:function(){this.registerCalloutObserver(),this.addClientEventListeners()},detached:function(){var e=this;this._calloutObserver.disconnect(),this.clearFlushCalloutTimer(),this.removeClientEventListeners();var t=this.insert2XWebEnabled()?"removeXWebMap":"removeMap";this.invoke(t,{viewId:this.viewId,mapId:this._mapId},(function(){e.publish("mapRemove",{domId:e.id,mapId:e._mapId,nodeId:e.getNodeId(),pluginId:e.getPluginId()})}))},methods:{addClientEventListeners:function(){var e=this,t=function(t,n){return e[`_${n}`]=function(t){var i=e[n];t.mapId===e.viewId&&i.call(e,t)}.bind(e),h.Z.on(t,e[`_${n}`])};t("onMapMarkerClick","onMapMarkerClick"),t("onMapCalloutClick","onMapCalloutClick"),t("onMapLabelClick","onMapLabelClick"),t("onMapControlClick","onMapControlClick"),t("onMapClick","onMapClick"),t("onMapPoiClick","onMapPoiClick"),t("onMapAnchorPointClick","onMapAnchorPointClick"),t("onMapAuthFail","onMapAuthFail"),t("onMapAuthSuccess","onMapAuthSuccess"),t("onMapRegionChange","onMapRegionChange"),t("onMapPolylineClick","onMapPolylineClick"),t("onMapInterpolatePoint","onMapInterpolatePoint")},removeClientEventListeners:function(){h.Z.off("onMapMarkerClick",this._onMapMarkerClick),h.Z.off("onMapCalloutClick",this._onMapCalloutClick),h.Z.off("onMapLabelClick",this._onMapLabelClick),h.Z.off("onMapControlClick",this._onMapControlClick),h.Z.off("onMapClick",this._onMapClick),h.Z.off("onMapPoiClick",this._onMapPoiClick),h.Z.off("onMapAnchorPointClick",this._onMapAnchorPointClick),h.Z.off("onMapAuthFail",this._onMapAuthFail),h.Z.off("onMapAuthSuccess",this._onMapAuthSuccess),h.Z.off("onMapRegionChange",this._onMapRegionChange),h.Z.off("onMapPolylineClick",this._onMapPolylineClick),h.Z.off("onMapInterpolatePoint",this._onMapInterpolatePoint)},clearFlushCalloutTimer:function(){null!==this._flushCalloutTimer&&clearTimeout(this._flushCalloutTimer)},addCalloutCommand:function(e){var t=this,n=e.markerId;isNaN(n)||(e.mapId=this._mapId,this._calloutCommands.set(n,e),e.operation===oe.Add?this._calloutMap.set(n,e):e.operation===oe.Remove&&this._calloutMap.delete(n),null===this._flushCalloutTimer&&(this._flushCalloutTimer=setTimeout((function(){t.flushCalloutCommand()}),16)))},flushCalloutCommand:function(){var e=this;this._calloutCommands.forEach((function(t,n){var r,a,o=e._markers[n];null!=o&&o.customCallout&&(null===(r=(a=i.Z.nativeGlobal.runtime).updateMapCustomCallout)||void 0===r||r.call(a,t.calloutNode,t.mapId,t.markerId,t.operation,o.customCallout))})),this._calloutCommands.clear(),this._flushCalloutTimer=null},flushAddMarkers:function(e){var t=this;e.forEach((function(e){var n=e.id;if(e.customCallout&&t._calloutMap.has(n)){var r,a,o=t._calloutMap.get(n);null===(r=(a=i.Z.nativeGlobal.runtime).updateMapCustomCallout)||void 0===r||r.call(a,o.calloutNode,o.mapId,o.markerId,o.operation,e.customCallout)}}))},registerCalloutObserver:function(){var e=this;this._calloutObserver=i.Z.glassEasel.Observer.create((function(t){i.Z.glassEasel.ElementIterator.create(t.target,i.Z.glassEasel.ElementIteratorType.ShadowAncestors,i.Z.glassEasel.Component).forEach((function(t){return!("cover-view"===t.is&&!isNaN(t.markerId))||(e.addCalloutCommand({calloutNode:t.getAsCalloutNode(),markerId:t.markerId,operation:oe.Update,reason:se.SubtreeChanged}),!1)}))})),this._calloutObserver.observe(this,{childList:!0,subtree:!0,characterData:!0,properties:!0,attachStatus:!0})},getContextId:function(){return this._mapId},_initNativeView:function(e){this.data.latitude>90||this.data.latitude<-90?(0,C.yD)("map","latitude 字段取值有误，纬度范围 -90 ~ 90"):this.data.longitude>180||this.data.longitude<-180?(0,C.yD)("map","longitude 字段取值有误，经度范围 -180 ~ 180"):(Object.assign(this._box,e),this._insertNativeMap())},_update:function(e,t,n){e.mapId=this._mapId,e.hide=this.hidden,"number"==typeof e.layerStyle&&(e.styleId=e.layerStyle),e.viewId=this.viewId;var i=this.insert2XWebEnabled()?"updateXWebMap":"updateMap";this.invoke(i,e,(function(){"function"==typeof n&&n()}))},_updatePosition:function(e){this._update({position:e})},_reportCommercialMap:function(){var e=s()((function*(e,t,n=!1){var i,r=0;"layer-style"===e?r=Z:"enable-indoor"===e&&(r=H);var a=2;if(!n){var o=yield this._getMapAuthStatus();o&&(a=+(0===o.errCode))}Reporter.reportKeyValue({key:"MiniProgramCommercialMap",value:[r,a,null!==(i=this.subkey)&&void 0!==i?i:"",this.getPluginId(),+t].join(",")})}));return function(t,n){return e.apply(this,arguments)}}(),_getMapAuthStatus:function(){var e=s()((function*(){var e=this._mapAuthStatusDefer;if(X()&&!this._mapAuthStatusUnsupportedVersionChecked){this._mapAuthStatusUnsupportedVersionChecked=!0;var t=this.subkey;if(t)try{var n=yield ee({subkey:t}),{error:i=0,msg:r=""}=n,a={errCode:i,errMsg:r},o=0===i?Y:K;this.triggerEvent(o,a,{bubbles:!1}),e.resolve(a)}catch(t){e.resolve(null)}else e.resolve(null)}return yield e.promise}));return function(){return e.apply(this,arguments)}}(),onMapAuthFail:function(e={}){if(!X()){var{errCode:t,errMsg:n}=e;this._mapAuthStatusDefer.resolve({errCode:t,errMsg:n}),this.subkey&&this.triggerEvent(K,{errCode:t,errMsg:n},{bubbles:!1})}},onMapAuthSuccess:function(){if(!X()){var e={errCode:0,errMsg:"SUCCESS"};this._mapAuthStatusDefer.resolve(e),this.subkey&&this.triggerEvent(Y,e,{bubbles:!1})}},onMapRegionChange:function(e={}){if(this._operateMapId){var t={type:e.type,causedBy:e.causedBy};"end"===e.type&&(t={type:e.type,rotate:e.rotate,skew:e.skew,gesture:e.gesture,scale:+Number.parseFloat(e.scale).toFixed(2),centerLocation:e.centerLocation,region:e.region}),this.triggerEvent("regionchange",t,{extraFields:{touches:[],type:e.type,causedBy:e.causedBy}})}},onMapPolylineClick:function(e={}){wx._setWxIsInvokeInTapForNavToMiniProgramForWebview(),this.triggerEvent("polylinetap",{longitude:e.longitude,latitude:e.latitude,polylineId:e.polylineId},{extraFields:{touches:[]}})},onMapInterpolatePoint:function(e={}){this.triggerEvent("interpolatepoint",{longitude:e.longitude,latitude:e.latitude,markerId:e.markerId,index:e.index,animationStatus:["interpolating","complete"][e.animationStatus]},{extraFields:{touches:[]}})},onMapMarkerClick:function(e={}){wx._setWxIsInvokeInTapForNavToMiniProgramForWebview();var t=JSON.parse(e.data);this.triggerEvent("markertap",{markerId:t.markerId},{extraFields:{touches:[],markerId:t.markerId}})},onMapCalloutClick:function(e={}){wx._setWxIsInvokeInTapForNavToMiniProgramForWebview();var t=JSON.parse(e.data);this.triggerEvent("callouttap",{markerId:t.markerId},{extraFields:{touches:[],markerId:t.markerId}})},onMapLabelClick:function(e={}){wx._setWxIsInvokeInTapForNavToMiniProgramForWebview();var t=JSON.parse(e.data);this.triggerEvent("labeltap",{markerId:t.markerId},{extraFields:{touches:[],markerId:t.markerId}})},onMapControlClick:function(e={}){wx._setWxIsInvokeInTapForNavToMiniProgramForWebview();var t=JSON.parse(e.data);this.triggerEvent("controltap",{controlId:t.controlId},{extraFields:{touches:[],controlId:t.controlId}})},onMapClick:function(e={}){wx._setWxIsInvokeInTapForNavToMiniProgramForWebview(),this.triggerEvent("tap",{longitude:e.longitude,latitude:e.latitude},{extraFields:{touches:[]}})},onMapPoiClick:function(e={}){wx._setWxIsInvokeInTapForNavToMiniProgramForWebview();var t={name:e.name,longitude:e.longitude,latitude:e.latitude};e.buildingId&&(t.buildingId=e.buildingId),e.floorName&&(t.floorName=e.floorName),this.triggerEvent("poitap",t,{extraFields:{touches:[]}})},onMapAnchorPointClick:function(e={}){wx._setWxIsInvokeInTapForNavToMiniProgramForWebview(),this.triggerEvent("anchorpointtap",{longitude:e.longitude,latitude:e.latitude},{extraFields:{touches:[]}})},onMapIndoorChange:function(e={}){var{floorIndex:t,floorList:n,buildingId:i,buildingName:r}=e||{};this.triggerEvent("indoorchange",{buildingId:i,buildingName:r,floorIndex:t,floorList:n},{extraFields:{touches:[],info:{buildingId:i,buildingName:r,floorIndex:t,floorList:n}}})},_transformMarkers:function(e){var t=this;return(e||[]).map((function(e){var n={};if(!e)return n;if(Object.keys(e).forEach((function(t){"[object Object]"===Object.prototype.toString.call(e[t])?(n[t]={},Object.keys(e[t]).forEach((function(i){n[t][i]=e[t][i]}))):n[t]=e[t]})),n.name&&(n.title=n.title||n.name),t.normalizeSizeInPlace(n,["width","height"]),"number"==typeof n.alpha?(n.alpha>1&&(n.alpha=1),n.alpha<0&&(n.alpha=0)):n.alpha=1,n.label&&(n.label.fontSize=t.normalizeSize(n.label.fontSize||12),n.label.bgColor=n.label.bgColor||"#00000000",n.label.bgColor=ie(n.label.bgColor),n.label.borderColor=ie(n.label.borderColor),n.label.color=ie(n.label.color),n.label.textAlign=n.label.textAlign||"right",t.normalizeSizeInPlace(n.label,["anchorX","anchorY","borderWidth","borderRadius","padding","width","height"])),(n.latitude>90||n.latitude<-90)&&console.warn(`markers.latitude 范围是 -90 ~ 90，markers.id: [${n._id}]`),(n.longitude>180||n.longitude<-180)&&console.warn(`markers.longitude 范围是 -180 ~ 180，markers.id: [${n._id}]`),n.longitude=Number(n.longitude),n.latitude=Number(n.latitude),n.anchor=n.anchor||{x:.5,y:1},n.customCallout)n.customCallout.viewId=-1,n.customCallout.display="ALWAYS"===n.customCallout.display?1:0,n.customCallout.anchorX=n.customCallout.anchorX||0,n.customCallout.anchorY=n.customCallout.anchorY||0,delete n.callout,delete n.title;else if(n.callout){var i=(n.callout.boxShadow||"").trim().split(/\s+/);3===i.length?(n.callout.shadowOffsetX=parseFloat(i[0]),n.callout.shadowOffsetY=parseFloat(i[1]),r.cj?(n.callout.shadowColor=i[2].substr(0,7),n.callout.shadowOpacity=Number("0x"+i[2].substr(7,2))/255||1):n.callout.shadowColor=i[2]):(n.callout.shadowColor="#FFFFFF",n.callout.shadowOpacity=0),t.normalizeSizeInPlace(n.callout,["fontSize","borderRadius","borderWidth","padding"]),n.callout.display="ALWAYS"===n.callout.display?1:0,n.callout.bgColor=n.callout.bgColor||"#FFFFFF",n.callout.bgColor=ie(n.callout.bgColor),n.callout.borderColor=ie(n.callout.borderColor),n.callout.color=ie(n.callout.color),n.callout.textAlign=n.callout.textAlign||"center",n.callout.content=n.callout.content||"",n.callout.anchorX=n.callout.anchorX||0,n.callout.anchorY=n.callout.anchorY||0,delete n.title}else n.title&&(n.callout={content:n.title,bgColor:"#FFFFFF",padding:10,display:0,shadowColor:"#FFFFFF",shadowOpacity:0,textAlign:"center"},delete n.title);return n.data=JSON.stringify({markerId:n._id}),n}))},_transformControls:function(e){return e.map((function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n]})),void 0!==e.id&&e.clickable&&(t.data=JSON.stringify({controlId:e.id})),t}))},_initNativeView:function(){var e=this;Object.keys(this.setting).forEach((function(t){e[t]=e.setting[t]}));var t=(this.getPluginId()||"").split("/")[0],n=this.scale;null==n&&(n=16),n=le(parseInt(n,10),this.minScale,this.maxScale);var i={parentId:0,position:this._box,centerLongitude:this.longitude,centerLatitude:this.latitude,scale:n,minScale:this.minScale,maxScale:this.maxScale,covers:this.covers||[],hide:this.hidden,showLocation:this.showLocation,showScale:this.showScale,keepCenter:this.keepCenter,theme:this.theme,subKey:this.subkey,mapId:this._mapId,viewId:this.viewId,rotate:this.rotate,skew:this.skew,enableIndoor:this.enableIndoor,enableIndoorBuildingPick:this.enableIndoorBuildingPick,enableIndoorLevelPick:this.enableIndoorLevelPick,enableZoom:this.enableZoom,enableScroll:this.enableScroll,enableRotate:this.enableRotate,showCompass:this.showCompass,enable3D:this.enable3D,enableOverlooking:this.enableOverlooking,enableSatellite:this.enableSatellite,enableTraffic:this.enableTraffic,enablePoi:this.enablePoi,enableBuilding:this.enableBuilding,zIndex:0,pluginId:this.usePluginId?t:""},r=this.insert2XWebEnabled()?"insertXWebMap":"insertMap";this.invoke(r,i,(function(){e._ready(),e.publish("mapInsert",{domId:e.id,mapId:e._mapId,nodeId:e.getNodeId(),pluginId:e.getPluginId(),showLocation:e.showLocation,subkey:e.subkey}),e.layerStyle&&e.layerStyleChanged(e.layerStyle),e._operateMapId=e.onPageEvent("operateMap",(function(t){t.mapId===e._mapId&&e.operateMapHandler(t)}))}))},operateMapHandler:function(e){var t=this,{mapId:n,callbackId:i,method:r}=e;switch(r){case"includeMapPoints":this.invoke("includeMapPoints",{mapId:n,points:e.points,padding:e.padding},(function(e){t.publish("operateMapCallback",{errMsg:e.errMsg,mapId:n,callbackId:i,method:r})}));break;case"getMapMarker":var a=null;this.markers.forEach((function(t){t.id===e.markerId&&(a={longitude:t.longitude,latitude:t.latitude})})),this.publish("operateMapCallback",{errMsg:a?"getMapMarker:ok":"getMapMarker:fail",mapId:n,callbackId:i,method:r,pos:a||{}});break;case"hasUseShowLocation":this.publish("operateMapCallback",{errMsg:"hasUseShowLocation:ok",mapId:n,callbackId:i,method:r,useShowLocation:this._useShowLocation})}},latitudeChanged:function(e){e&&this._isReady&&this._update({centerLatitude:e,centerLongitude:this.longitude},"纬度")},longitudeChanged:function(e){e&&this._isReady&&this._update({centerLatitude:this.latitude,centerLongitude:e},"经度")},scaleChanged:function(e){if(this._isReady&&null!=e){e=parseInt(e,10);var t=le(e,this.minScale,this.maxScale);this._update({centerLatitude:this.latitude,centerLongitude:this.longitude,scale:t},"缩放")}},minScaleChanged:function(e=3){this._isReady&&this._update({minScale:e})},maxScaleChanged:function(e=20){this._isReady&&this._update({maxScale:e})},coversChanged:function(e=[],t){this._isReady?this._update({centerLatitude:this.latitude,centerLongitude:this.longitude,covers:this._transformPath(e,this.getCurrentRoute())},"覆盖物"):this._delay("coversChanged",e,t)},markersChanged:function(e=[],t=[]){var n=this;if(this._isReady){t=this._oldMarkers||[],e=e.filter((function(e){return!!e&&"object"==typeof e}));var i=[],r=[],a=[],o=this._markersIdMap||{};this._markersIdMap={},e=e.map((function(e){var s={};Object.keys(e).forEach((function(t){s[t]=e[t]})),s._id=s.id,void 0===s.id||"string"==typeof s.id||isNaN(Number(s.id))?(s.id=o[s._id]||te++,"string"==typeof s._id&&(n._markersIdMap[s._id]=s.id)):s.id=Number(s.id);var l=re(t,s.id);return l>-1?(ae(s,t[l])&&(i.push(s),r.push(s.id)),a.push(l)):i.push(s),s})),this._oldMarkers=e;for(var s=0;s<t.length;s++)-1===a.indexOf(s)&&r.push(Number(t[s].id));r.forEach((function(e){return delete n._markers[e]})),this.invoke("removeMapMarkers",{mapId:this._mapId,markers:r});var l=this._transformPath(this._transformMarkers(i),this.getCurrentRoute()),u={};l.forEach((function(e,t){var n=e.iconPath;n&&/^cloud:\/\//.test(n)&&(u[n]=t)}));var c=Object.keys(u);this.getCloudFileUrls(c,"image",(function(e){e.forEach((function(e,t){l[u[c[t]]].iconPath=e})),function(e){e.forEach((function(e){return n._markers[e.id]=e})),n.invoke("addMapMarkers",{mapId:n._mapId,markers:e,clear:!1},(function(){n.triggerEvent("updated")})),n.flushAddMarkers(e)}(l)}))}else this._delay("markersChanged",e,t)},_transformPath:function(e,t){var n=this,i=e.map((function(e){var i={};if(!e.iconPath)return e;Object.keys(e).forEach((function(t){i[t]=e[t]}));var r=i.iconPath;return i.iconPath=/^(cloud|wxfile|https?):\/\//.test(r)?r:n.getRealRoute(r,t),i}));return i},linesChanged:function(e=[],t=[]){var n=this;if(wxNativeConsole.info("linesChanged ",this._isReady),this._isReady){t=this._oldPolyLines||[],e=e.filter((function(e){return!!e&&"object"==typeof e}));var i=[],r=[],a=[];e=e.map((function(e){var n=Object.assign({},e);"number"!=typeof n.id&&(n.id=ne++);var o=re(t,n.id);return o>-1?(ae(n,t[o])&&(i.push(n),r.push(n.id)),a.push(o)):i.push(n),n})),this._oldPolyLines=e;for(var o=0;o<t.length;o++)-1===a.indexOf(o)&&r.push(t[o].id);this.invoke("removeMapLines",{mapId:this._mapId,lines:r},(function(){}));var s=this._transformLines(i);this.invoke("addMapLines",{mapId:this._mapId,lines:s,clear:!1},(function(){n.triggerEvent("updated")}))}else this._delay("linesChanged",e,t)},_transformLines:function(e){var t=this,n=[];return e.forEach((function(e){if(e&&e.points&&!(e.points.length<2)){var i={};if(Object.keys(e).forEach((function(t){i[t]=e[t]})),(i.points||[]).forEach((function(e){e.longitude=Number(e.longitude),e.latitude=Number(e.latitude)})),i.arrowIconPath){var r=i.arrowIconPath;i.arrowIconPath=r.indexOf("wxfile://")>-1||r.match(/^https?:\/\//)?r:t.getRealRoute(r,t.getCurrentRoute())}i.width=t.normalizeSize(i.width||1),i.level=i.level||"abovelabels",n.push(i)}})),n},circlesChanged:function(e=[],t){var n=this;this._isReady?e.length&&(e.forEach((function(e){e.longitude=Number(e.longitude),e.latitude=Number(e.latitude)})),this.invoke("addMapCircles",{mapId:this._mapId,circles:e},(function(){n.triggerEvent("updated")}))):this._delay("circlesChanged",e,t)},pointsChanged:function(e=[],t){if(this._isReady){e.forEach((function(e){e.latitude=Number(e.latitude),e.longitude=Number(e.longitude)}));var n=.05*this.$$.offsetWidth;this.invoke("includeMapPoints",{mapId:this._mapId,points:e,padding:[n,n,n,n]},(function(){}))}else this._delay("pointsChanged",e,t)},controlsChanged:function(e=[],t){if(this._isReady){var n=this._transformPath(this._transformControls(e),this.getCurrentRoute());this.invoke("addMapControls",{mapId:this._mapId,controls:n},(function(){}))}else this._delay("controlsChanged",e,t)},polygonsChanged:function(e=[],t){var n=this;this._isReady?(e.forEach((function(e){(e.points||[]).forEach((function(e){e.latitude=Number(e.latitude),e.longitude=Number(e.longitude)})),e.fillColor=e.fillColor||"#00000000",e.strokeColor=e.strokeColor||"#000000FF",e.strokeWidth=e.strokeWidth||1,e.visible=e.visible||!0,e.zIndex=e.zIndex||1})),e.sort((function(e,t){return e.zIndex-t.zIndex})),this.invoke("addMapPolygons",{mapId:this._mapId,polygons:e},(function(){n.triggerEvent("updated")}))):this._delay("polygonsChanged",e,t)},showLocationChanged:function(e=!1,t){e&&(this._useShowLocation=!0),this._isReady?this._update({showLocation:e}):this._delay("showLocationChanged",e,t)},showScaleChanged:function(e=!1,t){this._isReady?this._update({showScale:e}):this._delay("showScaleChanged",e,t)},rotateChanged:function(e=0,t){this._isReady?this._update({rotate:e}):this._delay("rotateChanged",e,t)},skewChanged:function(e=0,t){this._isReady?this._update({skew:e}):this._delay("skewChanged",e,t)},enableIndoorChanged:function(e=!1,t){var n=this;if(this._isReady){this.insert2XWebEnabled()&&window.requestAnimationFrame((function(){n._enableIndoorLevelPickChanged(e,n.enableIndoorLevelPick)})),this._update({enableIndoor:e}),this._reportCommercialMap("enable-indoor",!0,X())}else this._delay("enableIndoorChanged",e,t)},layerStyleChanged:function(){var e=s()((function*(e,t){if(this._isReady){var n="layer-style",[i,r]=yield J(G),a=i?e:0;if(this._update({styleId:a}),this.subkey)if(i){var o=yield this._getMapAuthStatus();if(!o)return;var s=0===o.errCode?z:j;this.triggerEvent(s,{...o,ability:n}),this._reportCommercialMap(n,i)}else this.triggerEvent(j,{errCode:r.err_code,errMsg:r.errMsg,ability:n}),this._reportCommercialMap(n,i,X())}else this._delay("layerStyleChanged",e,t)}));return function(t,n){return e.apply(this,arguments)}}(),enableZoomChanged:function(e=!1,t){this._isReady?this._update({enableZoom:e}):this._delay("enableZoomChanged",e,t)},enableScrollChanged:function(e=!1,t){this._isReady?this._update({enableScroll:e}):this._delay("enableScrollChanged",e,t)},enableRotateChanged:function(e=!1,t){this._isReady?this._update({enableRotate:e}):this._delay("enableRotateChanged",e,t)},showCompassChanged:function(e=!1,t){this._isReady?this._update({showCompass:e}):this._delay("showCompassChanged",e,t)},enable3DChanged:function(e=!1,t){this._isReady?this._update({enable3D:e}):this._delay("enable3DChanged",e,t)},enableOverlookingChanged:function(e=!1,t){this._isReady?this._update({enableOverlooking:e}):this._delay("enableOverlookingChanged",e,t)},enableSatelliteChanged:function(e=!1,t){this._isReady?this._update({enableSatellite:e}):this._delay("enableSatelliteChanged",e,t)},enableTrafficChanged:function(e=!1,t){this._isReady?this._update({enableTraffic:e}):this._delay("enableTrafficChanged",e,t)},enablePoiChanged:function(e=!1,t){this._isReady?this._update({enablePoi:e}):this._delay("enablePoiChanged",e,t)},enableBuildingChanged:function(e=!1,t){this._isReady?this._update({enableBuilding:e}):this._delay("enableBuildingChanged",e,t)},settingChanged:function(e={},t){this._isReady?"object"==typeof e&&this._update(e):this._delay("settingChanged",e,t)}}}).registerComponent();const ce=ue;var de=function(e){return null==e?Object.create(null):e},pe=function(e){return null==e?"":String(e)},he=function(e,t){return!0===e||(e?e[t]:void 0)},fe=function(e){return"function"==typeof e?e:()=>{}},_e=n(6281),ve=n(9797),ge=null;function me(e){Ee(),ge=e,h.Z.trigger("fullscreenChange",{fullscreen:!0,target:e})}function Ee(){ge&&(h.Z.trigger("fullscreenChange",{fullscreen:!1,target:ge}),ge=null)}function ye(){return ge}function Te(){var e=r.iw,t=g("video").options({listenerChangeLifetimes:!0}).behavior(v.ZP).behavior(y.Z).behavior(ve.Z).behavior(A.Z).behavior(m.Z).methods({collectBindEvents:function(){var e=this,t=["play","pause","ended","timeupdate","error","waiting","progress","loadedmetadata","fullscreenchange","seekcomplete"].reduce((function(t,n){return n&&(t[n]={observer:function(){return e.updateVideo({})}}),t}),{});this.listenNativeEvents(t)}}).definition({is:"video",template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={viewId:new Array(1),showCenterProgressDuration:new Array(1)},s=!0===i;return{C:function(t,l,u){u("view",{},(function(t,a){a&&e.i(t,"wrapper"),(a||s||i._isFullscreen)&&r(t,"wx-video-container "+pe(n._isFullscreen?"wx-video-container__full-screen":""))}),(function(t,l,u,c){u("texture",{},(function(t,r){r&&e.i(t,"video"),r&&a(t,"type","video"),(r||s||i.viewId)&&a(t,"view_id",n.viewId),o.viewId[0]=function(e,n,i){a(t,"view_id",e.viewId),n(t)},r&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%;"),r&&a(t,"role","application")}),(function(e){}));var d=n.enableProgressGesture&&n.vslideGesture||n._isFullscreen?1:n.enableProgressGesture&&!n.vslideGesture?2:!n.enableProgressGesture&&n.vslideGesture?3:0;c(d,(function(t,n,i){1===d?i("vertical-drag-gesture-handler",{},(function(t,n){n&&e.r(t,"on-gesture-event","preventDefault")}),(function(t,n,i){i("horizontal-drag-gesture-handler",{},(function(t,n){n&&e.r(t,"on-gesture-event","preventDefault")}),(function(t,n,i){i("view",{},(function(t,n){n&&e.i(t,"gestureMask"),n&&r(t,"wx-video-empty-mask"),n&&e.v(t,"tap","onTapVideo",!1,!1,!1,!1),n&&e.v(t,"touchstart","onTouchVideo",!1,!1,!1,!1)}),(function(e){}))}))})):2===d?i("horizontal-drag-gesture-handler",{},(function(t,n){n&&e.r(t,"on-gesture-event","preventDefault")}),(function(t,n,i){i("view",{},(function(t,n){n&&e.i(t,"gestureMask"),n&&r(t,"wx-video-empty-mask"),n&&e.v(t,"tap","onTapVideo",!1,!1,!1,!1),n&&e.v(t,"touchstart","onTouchVideo",!1,!1,!1,!1)}),(function(e){}))})):3===d?i("vertical-drag-gesture-handler",{},(function(t,n){n&&e.r(t,"on-gesture-event","preventDefault")}),(function(t,n,i){i("view",{},(function(t,n){n&&e.i(t,"gestureMask"),n&&r(t,"wx-video-empty-mask"),n&&e.v(t,"tap","onTapVideo",!1,!1,!1,!1),n&&e.v(t,"touchstart","onTouchVideo",!1,!1,!1,!1)}),(function(e){}))})):i("view",{},(function(t,n){n&&e.i(t,"gestureMask"),n&&r(t,"wx-video-empty-mask"),n&&e.v(t,"tap","onTapVideo",!1,!1,!1,!1)}),(function(e){}))}));var p=n.stopped&&n._showControls&&n._poster&&!n._playError?1:0;c(p,(function(e,t,o){1===p&&o("image",{},(function(e,t){t&&r(e,"wx-video-poster"),(t||s||i._poster)&&a(e,"src",n._poster),(t||s||i._posterMode)&&a(e,"mode",n._posterMode)}),(function(e){}))}));var h=n._isFullscreen&&n._showTopBar?1:0;c(h,(function(t,o,l){1===h&&l("view",{},(function(t,n){n&&e.i(t,"topbar"),n&&r(t,"wx-video-top-bar")}),(function(t,o,l){l("view",{},(function(t,n){n&&r(t,"wx-video-exit-fullscreen"),n&&e.v(t,"tap","onTapFullscreen",!1,!1,!1,!1),n&&a(t,"role","button")}),(function(e){})),l("view",{},(function(e,t){t&&r(e,"wx-video-title")}),(function(e,t){e||s||i.title?t(pe(n.title)):t()}))}))}));var f=n._hasPlayed&&n._showScreenLockButton&&n.showScreenLockButton&&n._isFullscreen?1:0;c(f,(function(t,o,l){1===f&&l("view",{},(function(t,o){o&&e.i(t,"lockBtn"),(o||s||i._screenLocked)&&r(t,"wx-video-screen-locker "+pe(n._screenLocked?"wx-video-screen-locked":"")),o&&e.v(t,"tap","onTapScreenLocker",!1,!1,!1,!1),o&&a(t,"role","button")}),(function(e){}))}));var _=(!n.stopped||!n.showCenterPlayBtn||n._hasPlayed||n._playError)&&n.controls&&n._showControls?1:0;c(_,(function(t,o,l){1===_&&l("view",{},(function(t,a){a&&e.i(t,"bar"),(a||s||i._isFullscreen||i._fullscreenCls)&&r(t,"wx-video-bar "+pe(n._isFullscreen?n._fullscreenCls:"")),a&&e.v(t,"touchstart","onTouchStartBar",!1,!1,!1,!1)}),(function(t,o,l,u){l("view",{},(function(t,a){a&&r(t,"wx-video-controls"),(a||s||i._showProgress||i._controlMargin)&&e.y(t,"margin-right: "+pe(n._showProgress?n._controlMargin+"px":""))}),(function(t,o,l,u){var c=n.showPlayBtn&&"bottom"===n.playBtnPosition&&!n._playError?1:0;u(c,(function(t,o,l){1===c&&l("view",{},(function(t,o){(o||s||i.paused||i.stopped)&&r(t,"wx-video-control-button "+pe(n.paused||n.stopped?"wx-video-play":"wx-video-pause")+" js-btn"),(o||s||i._showProgress||i._controlMargin)&&e.y(t,"margin-right: "+pe(n._showProgress?n._controlMargin+"px":"")),o&&e.v(t,"tap","onTapControlButton",!1,!1,!1,!1),o&&a(t,"role","button")}),(function(e){}))}));var d=!n._live&&n._showProgress?1:0;u(d,(function(e,t,a){1===d&&a("view",{},(function(e,t){t&&r(e,"wx-video-current-time")}),(function(e,t){e||s||i._currentTime?t(pe(n._currentTime||"00:00")):t()}))}));var p=!n._live&&n._showProgress?1:0;u(p,(function(t,o,l){1===p&&l("view",{},(function(e,t){t&&r(e,"wx-video-progress-container js-slider"),t&&a(e,"role","button")}),(function(t,a,o){o("pan-gesture-handler",{},(function(t,n){n&&e.r(t,"onGestureEvent","preventDefault")}),(function(t,a,o){o("view",{},(function(t,n){n&&e.i(t,"progress"),n&&r(t,"wx-video-progress")}),(function(t,a,o){o("view",{},(function(t,a){a&&r(t,"wx-video-progress-buffered"),(a||s||i._bufferedWidth)&&e.y(t,"width: "+pe(n._bufferedWidth)+"%")}),(function(e){})),o("view",{},(function(t,a){a&&r(t,"wx-video-progress-played"),(a||s||i._playedWidth)&&e.y(t,"width: "+pe(n._playedWidth)+"%")}),(function(e){})),o("view",{},(function(t,a){a&&r(t,"wx-video-ball"),(a||s||i._progressLeft)&&e.y(t,"left: "+pe(n._progressLeft)+"%;"),a&&e.v(t,"touchstart","onTouchBall",!1,!1,!1,!1)}),(function(e,t,n){n("view",{},(function(e,t){t&&r(e,"wx-video-inner")}),(function(e){}))}))}))}))}))}));var h=!n._live&&n._showProgress?1:0;u(h,(function(e,t,a){1===h&&a("view",{},(function(e,t){t&&r(e,"wx-video-duration")}),(function(e,t){e||s||i._duration?t(pe(n._duration||"00:00")):t()}))}))}));var c=n.showMuteBtn&&!n._playError?1:0;u(c,(function(t,o,l){1===c&&l("view",{},(function(t,o){(o||s||i._isMuted)&&r(t,"wx-video-mute-on "+pe(n._isMuted?"wx-video-mute-off":"")+" js-btn"),(o||s||i._showProgress||i._controlMargin)&&e.y(t,"margin-right: "+pe(n._showProgress?n._controlMargin+"px":"")),o&&e.v(t,"tap","onTapMuteBtn",!1,!1,!1,!1),o&&a(t,"role","button")}),(function(e){}))}));var d=n.showFullscreenBtn?1:0;u(d,(function(t,o,l){1===d&&l("view",{},(function(t,o){o&&e.i(t,"fullscreen"),(o||s||i._showExitFullscreenIcon)&&r(t,"wx-video-fullscreen "+pe(n._showExitFullscreenIcon?"wx-video-fullscreen-exit":"")+" js-btn"),o&&e.v(t,"tap","onTapFullscreen",!1,!1,!1,!1),o&&a(t,"role","button")}),(function(e){}))}))}))}));var v=!n._live&&n.showProgress&&n.showBottomProgress&&n._showBottomProgress&&n.controls&&n._showControls&&!n._playError?1:0;c(v,(function(t,o,l){1===v&&l("view",{},(function(e,t){t&&r(e,"wx-video-bottom-progress"),t&&a(e,"role","button")}),(function(t,a,o){o("view",{},(function(e,t){t&&r(e,"wx-video-progress")}),(function(t,a,o){o("view",{},(function(t,a){a&&r(t,"wx-video-progress-buffered"),(a||s||i._bufferedWidth)&&e.y(t,"width: "+pe(n._bufferedWidth)+"%")}),(function(e){})),o("view",{},(function(t,a){a&&r(t,"wx-video-progress-played"),(a||s||i._playedWidth)&&e.y(t,"width: "+pe(n._playedWidth)+"%")}),(function(e){}))}))}))})),u("view",{},(function(t,a){a&&r(t,"wx-video-progress-panel"),(a||s||i._showProgressPanel)&&e.y(t,"display: "+pe(n._showProgressPanel?"flex":"none"))}),(function(e,t,r){r("view",{},(function(e,t){}),(function(e,t){e||s||i._currentTime?t(pe(n._currentTime)):t()})),r("view",{},(function(e,t){}),(function(e,t){e||s||i.showCenterProgressDuration||i._duration?t(pe(n.showCenterProgressDuration?" / "+n._duration:""),(function(e){o.showCenterProgressDuration[0]=function(t,n,i){i(e,pe(t.showCenterProgressDuration?" / "+t._duration:""))}})):t()}))}));var g=!n.stopped||n._showLoading||!n.showCenterPlayBtn||!n._showControls||n._playError||n._hasPlayed||n._showProgressPanel?0:1;c(g,(function(t,o,l){1===g&&l("view",{},(function(t,a){a&&r(t,"wx-video-cover"),(a||s||i._poster)&&e.y(t,n._poster?"background-color: unset":"")}),(function(t,o,l,u){l("view",{},(function(t,n){n&&e.v(t,"tap","onTapControlButton",!1,!1,!1,!1),n&&r(t,"wx-video-cover-button wx-video-play"),n&&a(t,"role","button")}),(function(e){}));var c=n._live?0:1;u(c,(function(e,t,a){1===c&&a("view",{},(function(e,t){t&&r(e,"wx-video-cover-duration")}),(function(e,t){e||s||i._duration?t(pe(n._duration||"00:00")):t()}))}))}))}));var m=n._showCenterPlayBtn&&n.showPlayBtn&&"center"===n.playBtnPosition&&n._hasPlayed?1:0;c(m,(function(t,o,l){1===m&&l("view",{},(function(t,n){n&&e.i(t,"centerPlayBtn"),n&&r(t,"wx-video-cover"),n&&e.y(t,"background: rgba(0,0,0,0); pointer-events: none;")}),(function(t,o,l){l("view",{},(function(t,o){o&&e.v(t,"tap","onTapControlButton",!1,!1,!1,!1),(o||s||i.paused||i.stopped)&&r(t,"wx-video-cover-button "+pe(n.paused||n.stopped?"wx-video-play":"wx-video-pause")),o&&a(t,"role","button")}),(function(e){}))}))}));var E=n._showLoading&&n.controls?1:0;c(E,(function(e,t,n){1===E&&n("view",{},(function(e,t){t&&r(e,"wx-video-loading"),t&&a(e,"role","button")}),(function(e){}))})),u("view",{},(function(t,n){n&&e.i(t,"coverviewcontainer"),n&&r(t,"wx-video-slot")}),(function(e,t,n,i,r,a){e?a(""):a()}));var y=n._toastHidden?0:1;c(y,(function(t,o,l){1===y&&l("view",{},(function(e,t){t&&r(e,"wx-video-toast")}),(function(t,o,l,u){var c="brightness"===n._toastType?1:0;u(c,(function(e,t,n){1===c&&n("image",{},(function(e,t){t&&r(e,"wx-video-toast-icon"),t&&a(e,"src","http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJImnicPYg0bWuOjc6iamficFoagznjibNzG5SMl8ibdictU1gVDm3lZ7Tn7pzkAicVc9qyt3g/0")}),(function(e){}))}));var d="volume"===n._toastType?1:0;u(d,(function(e,t,n){1===d&&n("image",{},(function(e,t){t&&r(e,"wx-video-toast-icon"),t&&a(e,"src","http://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNTTiaKet81gQJImnicPYg0bWu9ZBfySr4icWEAJYNbWp1XzXbXwemp4x0vUmLzKtdXgn2pa2YcBPFJ8A/0")}),(function(e){}))})),l("view",{},(function(t,n){n&&r(t,"wx-video-toast-text"),n&&e.y(t,"line-height: 16px;"),n&&a(t,"role","button")}),(function(e,t){e||s||i._toastType?t(pe("\n              "+pe("volume"===n._toastType?"音量":"亮度")+"\n            ")):t()})),l("view",{},(function(e,t){t&&r(e,"wx-video-toast-dots")}),(function(t,n,i){i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_1")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_2")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_3")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_4")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_5")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_6")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_7")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_8")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_9")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_10")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_11")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_12")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_13")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_14")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_15")}),(function(e){})),i("view",{},(function(t,n){n&&r(t,"wx-video-toast-dot"),n&&e.i(t,"dot_16")}),(function(e){}))}))}))}))}))},B:o}},function(t){return e[t]}}()},behaviors:["base","native","cloud","video-platform"],options:{renderingMode:"full",lazyRegistration:!0},properties:{src:{type:i.Z.glassEasel.NormalizedPropertyType.String,observer:"onSrcChanged",public:!0},duration:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0,observer:"onDurationChanged"},controls:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0},autoplay:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"onAutoplayChanged"},loop:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"onLoopChanged"},muted:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"onMutedChanged"},initialTime:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0,observer:"onInitialTimeChanged"},direction:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:-1,public:!0},showProgress:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:"onShowProgressChanged"},showFullscreenBtn:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0},showPlayBtn:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0},showCenterPlayBtn:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0},enableProgressGesture:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0},objectFit:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"contain",public:!0,observer:"onObjectFitChanged"},poster:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"onPosterChanged"},showMuteBtn:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},title:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},playBtnPosition:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"bottom",public:!0},enablePlayGesture:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},autoPauseIfNavigate:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:"onAutoPauseIfNavigateChanged"},autoPauseIfOpenNative:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:"onAutoPauseIfOpenNativeChanged"},vslideGesture:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},vslideGestureInFullscreen:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0},posterForCrawler:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},enableAutoRotation:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"onEnableAutoRotationChanged"},showScreenLockButton:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},referrerPolicy:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"no-referrer",public:!0},isDrm:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"onIsDrmChanged"},provisionUrl:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"onProvisionUrlChanged"},certificateUrl:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"onCertificateUrlChanged"},licenseUrl:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"onLicenseUrlChanged"},customCache:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0},blockSize:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0},live:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},showBottomProgress:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0},showCenterProgressDuration:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},seekType:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"accurate",public:!0},useTexture:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0},viewId:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0},_currentTime:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"00:00"},_duration:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"00:00"},_progressLeft:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0},_bufferedWidth:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0},_playedWidth:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0},_showProgressPanel:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_toastHidden:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0},_toastType:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""},_poster:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""},_posterMode:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"aspectFit"},_showProgress:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0},_isFullscreen:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_isMuted:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_live:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_showBottomProgress:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_showTopBar:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_showCenterPlayBtn:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_showControls:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0},_showLoading:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_showExitFullscreenIcon:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_platform:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:e},_playError:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_hasPlayed:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_controlMargin:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:8},_fullscreenCls:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""},_showScreenLockButton:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_screenLocked:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},stopped:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0},paused:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0}},lifetimes:{created:function(){var e=this;this._createdTimestamp=Date.now(),this.viewId=this.getPositioningId(),null!==this.$.video.$$&&this.$.video.$$.setAttributes({type:"video",viewId:this.viewId}),this.$.video.$$.setLayoutCallback((function(t){e._isReady&&e._updatePosition(t)})),this._direction="horizontal",this._cachedBox={left:0,top:0,width:0,height:0},this._lastTapVideoTs=0,this._tapVideoTimer=null,this._lastDuration=0,this._lastPosition=-1,this._lastOrientation="portrait",this._lastWidth=0,this._lastHeight=0,this._isBarShow=!1,this._hideBarTimer=null,this._isLockHideBar=!1,this._haveSeek=!1,this._doneFullscreen=null,this._isLockTimeUpdateProgress=!1,this._showProgressSet=!1,this._toastTimer=null,this._lastToastLen=null,this._bindEventMap={},this._onWindowResize=this.onWindowResize.bind(this),this.collectBindEvents(),r.cj||r.wZ||(r.gm?(0,C.Dv)("video","开发者工具暂未支持 Skyline 下的 video 组件调试，请先到真机上预览调试。"):(0,C.Dv)("video","当前平台暂未支持 Skyline 下的 video 组件"))},attached:function(){this._attached=!0,this.$.video.$$.setAttributes({useTexture:this.useTexture}),this.triggerEvent("attached",{})},detached:function(){this._detached=!0,this._attached=!1,this.removeVideo(),this.removeClientEventListeners(),this.triggerEvent("innerVideoDetached")}},methods:{_initNativeView:function(e){var t=this;this.insertVideo(e,(function(){t.src&&t.autoplay&&(t._showLoading=!0)})),this._isMuted=this.muted,this._isControlsShow=null,this.showCenterPlayBtn?this.hideBar():this.showBar(!0),this.onWindowResize(),this.addClientEventListeners(),this.onAutoplayChanged(this.autoplay),this.onSrcChanged(this.src)},_updatePosition:function(e){var t=e.width,n=e.height;this._showProgressSet||(this._showProgress=t>240),this._controlMargin=t>320?16:Math.floor((t-240)/10)+6,t===this._lastWidth&&n===this._lastHeight||(this.updateVideo({position:{width:t,height:n}}),this._lastWidth=t,this._lastHeight=n)},onSrcChanged:function(e){var t=this;if(this._attached)return e?void this.getCloudFileUrl(e,"video",(function(e){t._duration="00:00",t._hasPlayed=!1,t.stop();var n=e.trim();/^wxfile:\/\//.test(n)||/^http:\/\//.test(n)||/^https:\/\//.test(n)?(t._playError=!1,t.updateVideo({filePath:n,initialTime:t.initialTime})):(t._playError=!0,t.triggerEvent("error",{errMsg:"MEDIA_ERR_SRC_NOT_SUPPORTED"})),t.autoplay&&(t._showLoading=!0)})):(this.stop(),this._showLoading=!1,this._playError=!0,void this.showBar(!0))},onDurationChanged:function(e){e>0?(this._duration=(0,_e.LU)(e,!1),this._lastDuration=e):this._duration=""},onAutoplayChanged:function(e){this.updateVideo({autoplay:e})},onLoopChanged:function(e){this.updateVideo({loop:e})},onMutedChanged:function(e){this.updateVideo({muted:e})},onInitialTimeChanged:function(e){this.onTimeUpdate({duration:this._lastDuration||0,position:e}),this.updateVideo({initialTime:e})},onShowProgressChanged:function(e){this._showProgressSet=!0,this._showProgress=e},onObjectFitChanged:function(e){e=e||"contain",this.updateVideo({objectFit:e}),this._posterMode="fill"===e?"scaleToFill":"cover"===e?"aspectFill":"aspectFit"},onPosterChanged:function(e){var t=this;e&&null!==e&&this.getCloudFileUrl(e,"image",(function(e){/https?:\/\//.test(e)?t._poster=e:(0,C.Dv)("video","poster 属性只支持网络地址")}))},onAutoPauseIfNavigateChanged:function(e){this.updateVideo({autoPauseIfNavigate:e})},onAutoPauseIfOpenNativeChanged:function(e){this.updateVideo({autoPauseIfOpenNative:e})},onEnableAutoRotationChanged:function(e){this.updateVideo({autoRotation:e})},onIsDrmChanged:function(e){this.updateVideo({isDrm:e})},onProvisionUrlChanged:function(e){this.updateVideo({provisionUrl:e})},onCertificateUrlChanged:function(e){this.updateVideo({certificateUrl:e})},onLicenseUrlChanged:function(e){this.updateVideo({licenseUrl:e})},getBox:function(){var e=this;return new Promise((function(t){null!==e.$.wrapper.$$&&e.$.wrapper.$$.getBoundingClientRect((function(n){e._cachedBox=n,t(n)}))}))},onWindowResize:function(){var e=this;null!==this.$$&&this.$$.getBoundingClientRect((function(t){var n=t.width;e._showProgressSet||(e._showProgress=n>240),e._controlMargin=n>320?16:Math.floor((n-240)/10)+6}))},addClientEventListeners:function(){var e=this,t=function(t,n){return e[`_${n}`]=function(t){var i=e[n];if(t.viewId===e.viewId){if(r.wZ&&"number"==typeof t.webviewId&&t.webviewId!==e.getPageId())return;i.call(e,t)}}.bind(e),h.Z.on(t,e[`_${n}`])};t("onVideoPreloadedMetaData","onPreloadedMetaData"),t("onVideoPlay","onPlay"),t("onVideoPause","onPause"),t("onVideoLoadedMetaData","onLoadedMetaData"),t("onVideoTimeUpdate","onTimeUpdate"),t("onVideoProgress","onProgress"),t("onVideoWaiting","onWaiting"),t("onVideoEnded","onEnded"),t("onVideoOrientationChanged","onOrientationChanged"),t("onVideoError","onError"),t("onVideoSeekCompelete","onSeekCompelete"),r.wZ||t("onVideoFullScreenChange","onFullscreenChange"),t("onEnterVideoPictureInPicture","onEnterPictureInPicture"),t("onLeaveVideoPictureInPicture","onLeavePictureInPicture"),document.addEventListener("windowResize",this._onWindowResize),this.subscribe(`video_${this.getPageId()}_${this.viewId}_actionChanged`,this.onActionChanged.bind(this))},removeClientEventListeners:function(){h.Z.off("onVideoPreloadedMetaData",this._onPreloadedMetaData),h.Z.off("onVideoPlay",this._onPlay),h.Z.off("onVideoPause",this._onPause),h.Z.off("onVideoLoadedMetaData",this._onLoadedMetaData),h.Z.off("onVideoTimeUpdate",this._onTimeUpdate),h.Z.off("onVideoProgress",this._onProgress),h.Z.off("onVideoWaiting",this._onWaiting),h.Z.off("onVideoEnded",this._onEnded),h.Z.off("onVideoOrientationChanged",this._onOrientationChanged),h.Z.off("onVideoError",this._onError),h.Z.off("onVideoSeekCompelete",this._onSeekCompelete),r.wZ||h.Z.off("onVideoFullScreenChange",this._onFullscreenChange),h.Z.off("onEnterVideoPictureInPicture",this._onEnterPictureInPicture),h.Z.off("onLeaveVideoPictureInPicture",this._onLeavePictureInPicture),document.removeEventListener("windowResize",this._onWindowResize),this.subscribe(`video_${this.getPageId()}_${this.viewId}_actionChanged`,(function(){}))},getClientData:function(){return{viewId:this.viewId}},onActionChanged:function(e){var t=this,n=e.method,i=e.data;"seek"===n?i&&"number"==typeof i[0]&&(this.seek(i[0],i[1]),this._lastPosition=i[0],this.stopped||this.paused||(this._showLoading=!0),r.wZ&&setTimeout((function(){t.paused&&t.onTimeUpdate({duration:t._lastDuration,position:i[0]})}),50)):"stop"===n?this.stop():"play"===n?this.play():"pause"===n?this.pause():"requestFullScreen"!==n&&"exitFullScreen"!==n||this.onFullscreenActionChanged(n,i)},reset:function(e=!0){this._showLoading=!1,this.setProgress(0),this._currentTime="00:00",this._lastPosition=-1,!this.loop&&e&&this.onPosterChanged(this.poster),this.showBar(!0),this.stopped=!0},setProgress:function(e){e=Math.min(1,e),this._progressLeft=100*e,this._playedWidth=100*e},computeRate:function(e,t,n){var i=(e-t)/n;return i<0?i=0:i>1&&(i=1),i},getDirection:function(e){var t=this._direction,n="horizontal"===t?90:0,i="number"==typeof e?e:this.direction;return[0,90,-90].indexOf(i)>-1&&(n=i,t=0===i?"vertical":"horizontal"),{direction:t,rotate:n}},doFullscreen:function(e,t=0){var n=this.$.wrapper.$$;if("enter"===e){n.setStyle("\n              position: fixed;\n              top: 0;\n              left: 0;\n              zIndex: 100000001;\n              width: 100vw;\n              height: 100vh;\n            ",i.Z.glassEasel.StyleSegmentIndex.TEMP_EXTRA);var a="wx-video-full-"+(0===t?"v":"h");this.setData({_fullscreenCls:a,_showExitFullscreenIcon:!0}),r.wZ&&this.requestFullscreen(t)}else n.setStyle("",i.Z.glassEasel.StyleSegmentIndex.TEMP_EXTRA),this.setData({_fullscreenCls:"",_showExitFullscreenIcon:!1}),r.wZ&&this._isFullscreen&&this.exitFullscreen();this.hideOprToast&&this.hideOprToast()},onTapVideo:function(){var e=this;this.enablePlayGesture&&!this._screenLocked&&Date.now()-this._lastTapVideoTs<200?(this._tapVideoTimer&&clearTimeout(this._tapVideoTimer),this.onTapControlButton()):this._tapVideoTimer=setTimeout((function(){e._isBarShow?e.hideBar():e.showBar()}),this.enablePlayGesture?200:0),this._lastTapVideoTs=Date.now(),this._isLockHideBar=!1},onTouchVideo:function(){var e=s()((function*(e){var t=this,n=r.cj?window.__isFullScreen:ye();if((this.enableProgressGesture||(n||this.vslideGesture)&&(!n||this.vslideGestureInFullscreen))&&!this._screenLocked&&(!r.cj||this.enableProgressGesture)){var i=yield this.getBox(),a=e.touches[0].clientX,o=e.touches[0].clientY,s="",l=!1,u=0,c=-1,d=0,p=!1,h=!1,f=[],_=[],v=0,g=this._lastPosition,m=function(e){var n=e.touches[0].clientX,y=e.touches[0].clientY;if(!(Math.abs(n-a)<1&&Math.abs(y-o)<1))if(s){var T,b;if("volume"===s&&!d&&!p)return p=!0,void(null===(T=wx)||void 0===T||T.getVolume((function(e){c=e.current,d=e.maximum>1?e.maximum:1,u=300/d})));if("brightness"===s&&-1===c&&!h)return h=!0,void(null===(b=wx)||void 0===b||b.getBrightness((function(e){c=e.value,d=1,u=300})));"volume"===s&&d||"brightness"===s&&-1!==c?function(e,n){var i,r,a=(o-e)/u,s=Math.min(Math.max(c+a,0),d);"volume"===n&&1!==d&&(s=Math.floor(s)),s!==c&&("volume"===n?null===(i=wx)||void 0===i||i.setVolume(s):null===(r=wx)||void 0===r||r.setBrightness(s),c=s,t.updateOprToast(n,c,d),o=e)}(y,s):"progress"===s&&t._lastDuration&&-1!==t._lastPosition&&(t._isBarShow||t.showBar(),l=!0,function(e){if(f.push(e),_.push(Date.now()),v=function(e,t){var n=0;if(e.length>2)for(var i=e.length-1,r=e[i],a=t[i];i>0;){var o=a-t[--i];o>30&&o<50&&(n=(r-e[i])/(o/1e3))}return n>1e3?n=1e3:n<-1e3&&(n=-1e3),n}(f,_),0!==v){t._isLockTimeUpdateProgress=!0,t._isLockHideBar=!0,t._showProgressPanel=!0,t._showLoading=!1,t._showCenterPlayBtn=!1;var n,r=function(e){return Math[e>0?"ceil":"floor"](e)},o=Math.abs(e-a)/(10/r(v/100)),s=(n=t._lastDuration)<=180?n:n<=600?180:n<=1800?300:600;if(0!==(o=r(o=o>=0?Math.min(o,Math.round((e-a)/i.width*s)):Math.max(o,Math.round((e-a)/i.width*s))))){var l=(g=Math.min(Math.max(g+o,0),t._lastDuration))/Math.floor(t._lastDuration);t._currentTime=(0,_e.LU)(g,!1),t.setProgress(l),t.hideOprToast(),a=e}}}(n))}else!function(e,n){if(Math.abs(e-a)>Math.abs(n-o))t.enableProgressGesture&&!t._live&&e>40?s="progress":(t.$.gestureMask.removeListener("touchmove",m),t.$.gestureMask.removeListener("touchend",E));else{var l=r.cj?window.__isFullScreen:ye();s=!l&&!t.vslideGesture||l&&!t.vslideGestureInFullscreen?"none":a-i.left>i.width/2?"volume":"brightness"}}(n,y)},E=function(){t.$.gestureMask.removeListener("touchmove",m),t.$.gestureMask.removeListener("touchend",E),l&&(!isNaN(g)&&isFinite(g)&&g!==t._lastPosition&&(t.seek(g),t._lastPosition=g),t._isLockTimeUpdateProgress=!1,t._isLockHideBar=!1,t._showProgressPanel=!1,t.showBar())};this.$.gestureMask.addListener("touchmove",m),this.$.gestureMask.addListener("touchend",E)}}));return function(t){return e.apply(this,arguments)}}(),onTapControlButton:function(){this.paused||this.stopped?this.play():this.pause()},onTouchBall:function(){var e=this;if(0!==this._lastDuration){this._isLockTimeUpdateProgress=!0,this._isLockHideBar=!0,this._showProgressPanel=!0,this._showLoading=!1,this._showCenterPlayBtn=!1;var t,n=this.$.progress;null!==n.$$&&n.$$.getBoundingClientRect((function(e){t=e}));var r=0;n.toggleNodeClass("wx-video-progress-dragging",!0,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA);var a=function(n){if(!t)return!1;var i=e.computeRate(n.touches[0].clientX,t.left,t.width);return i=(r=Math.floor(e._lastDuration*i))/Math.floor(e._lastDuration),e._currentTime=(0,_e.LU)(r,!1),e.setProgress(i),!1},o=function(){n.toggleNodeClass("wx-video-progress-dragging",!1,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA),!isNaN(r)&&isFinite(r)&&(e.seek(r),e._lastPosition=r),e.$.wrapper.removeListener("touchmove",a),e.$.wrapper.removeListener("touchend",o),e._isLockTimeUpdateProgress=!1,e._isLockHideBar=!1,e._showProgressPanel=!1,e.showBar()};this.$.wrapper.addListener("touchmove",a),this.$.wrapper.addListener("touchend",o)}},onTapMuteBtn:function(){this._isMuted?(this._isMuted=!1,this.updateVideo({muted:!1})):(this._isMuted=!0,this.updateVideo({muted:!0}))},onTouchStartBar:function(){var e=this;this._hideBarTimer&&clearTimeout(this._hideBarTimer),this._hideBarTimer=setTimeout((function(){return e.hideBar(!0)}),5e3)},onTapScreenLocker:function(){this._screenLocked=!this._screenLocked,this._screenLocked?(this._showTopBar=!1,this.hideBar(),this._showControls=!1,this._showScreenLockButton=!0,this._isBarShow=!0):(this._showTopBar=!0,this._showControls=!0,this.showBar(),this._showBottomProgress=!1);var e={autoRotation:!this._screenLocked&&this.enableAutoRotation};r.cj&&(e.pageGesture=!this._screenLocked&&this.vslideGesture,e.pageGestureInFullscreen=!this._screenLocked&&this.vslideGestureInFullscreen),this.updateVideo(e)},preventDefault:function(){},_preventDefault_worklet_factory_:function(){var e;return(e=function(){})._closure={},e.asString="function _f(){}",e.__workletHash=0xee9333ba43b,e.__location="src/components/wx-video/base.ts",e.__worklet=!0,e},showBar:function(e){var t=this;this._isBarShow=!0,this._showScreenLockButton=!0,this._hideBarTimer&&clearTimeout(this._hideBarTimer),this._hideBarTimer=setTimeout((function(){return t.hideBar(!0)}),5e3),this.$.bar&&(e&&(this._isLockHideBar=!0),this._showTopBar=!0,this._showCenterPlayBtn=!0,this._showBottomProgress=!1,null!==this.$.bar.$$&&this.$.bar.$$.setStyle("opacity: 1;"),!0!==this._isControlsShow&&(this.triggerEvent("controlstoggle",{show:!0}),this._isControlsShow=!0))},hideBar:function(e=!1){var t=this;if(!1,this._isBarShow=!1,!this._isLockHideBar){if(this.$.bar){var n="opacity: 0;";n+="z-index: -1;",null!==this.$.bar.$$&&this.$.bar.$$.setStyle(n),!1!==this._isControlsShow&&(this.triggerEvent("controlstoggle",{show:!1}),this._isControlsShow=!1)}[["topbar","_showTopBar"],["centerPlayBtn","_showCenterPlayBtn"],["lockBtn","_showScreenLockButton"]].forEach((function(e){var n=t.$[e[0]];n&&(t[e[1]]=!1)})),this._showBottomProgress=!0}},onPreloadedMetaData:function(e){var{preloadSize:t}=e;this.triggerEvent("preloadedmetadata",{preloadSize:t})},onPlay:function(){this.stopped=!1,this.paused=!1,this._showLoading=!1,this.showBar(),this._isLockHideBar=!1,this._poster="",this._playError=!1,this._hasPlayed=!0,this.triggerEvent("play")},onPause:function(){this.stopped||this.paused||(this.stopped=!1,this.paused=!0,this._showLoading=!1,this.showBar(),this._hideBarTimer&&clearTimeout(this._hideBarTimer),this.triggerEvent("pause"))},onLoadedMetaData:function(e){var t=this.duration||e.duration;if(t>0){this._duration=(0,_e.LU)(t,!1),this._lastDuration=t,this.autoplay||(this._showLoading=!1);var n=Math.min(t,Math.max(0,this.initialTime)),i=n/t;this.setProgress(i),this._currentTime=(0,_e.LU)(n,!1)}else this._duration="";this.triggerEvent("loadedmetadata",{duration:e.duration,width:e.width,height:e.height}),this._direction=e.width/e.height>1?"horizontal":"vertical",this._live=t<=0},onTimeUpdate:function(e){if(e.duration){this.stopped&&(this.stopped=!1),this.triggerEvent("timeupdate",{currentTime:e.position,duration:e.duration});var t=this.duration||e.duration;if(!this._haveSeek&&e.position<=this._lastPosition)this._lastPosition=e.position;else{if(this._haveSeek=!1,!this._isLockTimeUpdateProgress&&!this._live){var n=e.position/t;this.setProgress(n),this._currentTime=(0,_e.LU)(e.position,!1),this._showLoading=!1}this._live&&(this._showLoading=!1),this._lastDuration!==t&&(this._duration=(0,_e.LU)(t,!1),this._lastDuration=t),this._lastPosition=e.position}}},onProgress:function(e){this._bufferedWidth=Math.min(e.buffered,100),this.triggerEvent("progress",{buffered:e.buffered})},onWaiting:function(){this.triggerEvent("waiting",{}),this.stopped&&!this.autoplay||(this._showLoading=!0)},onEnded:function(){this.reset(),this.triggerEvent("ended",{})},onError:function(){this._playError=!0,this.triggerEvent("error",{errMsg:EventTarget.errMsg})},onSeekCompelete:function(e){var t=e.position;this.triggerEvent("seekcomplete",{position:t})},onOrientationChanged:function(e){var t=this,n=e.orientation;this._orientationChangedTimer&&clearTimeout(this._orientationChangedTimer),this._orientationChangedTimer=setTimeout((function(){if(t._lastOrientation!==n){if("portrait"===n)if(t.doFullscreen("exit"),r.cj)t.exitFullscreen();else{var e=ye();e&&e!==t.$.wrapper.$$||Ee()}else if("landscapeLeft"===n||"landscape"===n){if(t.data.hidden)return;var i="landscape"===n?-90:"landscapeLeft"===n?90:0;t.doFullscreen("enter",i),r.cj?t.requestFullscreen(i):ye()||me(t.$.wrapper.$$)}t._doneFullscreen=!r.wZ||null,t._lastOrientation=n}}),0)},onEnterPictureInPicture:function(e){this.triggerEvent("enterpictureinpicture",{})},onLeavePictureInPicture:function(e){this.triggerEvent("leavepictureinpicture",{})},updateOprToast:function(e,t,n){var a=this;if(r.cj&&"volume"===e)return this._toastTimer&&(this._toastTimer=clearTimeout(this._toastTimer)),this._toastType=e,void(this._toastHidden=!0);this._toastType=e,this._toastHidden=!1;var o=Math.ceil(t/n*16);if(o!==this._lastToastLen)for(var s=1;s<=16;s++)this.$[`dot_${s}`].toggleNodeClass("wx-video-toast-dot-white",s<=o,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA);this._lastToastLen=o,this._toastTimer&&clearTimeout(this._toastTimer),this._toastTimer=setTimeout((function(){return a._toastHidden=!0}),3e3)},hideOprToast:function(){this._toastHidden||(this._toastHidden=!0)},onPageRerender:function(){var e=this;this.$.wrapper.$$.getBoundingClientRect((function(t){var n=t.width,i={_controlMargin:n>320?16:Math.floor((n-240)/10)+6};e._showProgressSet||(i._showProgress=n>240),e.setData(i)}))},getContextId:function(){return this.viewId},getVideoType:function(){return"h5"}}});return t.registerComponent()}var be=function(){var e=Ce();return e&&(0,_._0)().exportBehavior(e.is,e.is),Te()},Ce=function(){return r.cj?(wx.on("onVideoPreloadedMetaData",(function(e){h.Z.trigger("onVideoPreloadedMetaData",{viewId:e.videoPlayerId,preloadSize:e.preloadSize})})),wx.on("onVideoPlay",(function(e){h.Z.trigger("onVideoPlay",{timeStamp:e.timeStamp,viewId:e.videoPlayerId})})),wx.on("onVideoPause",(function(e){h.Z.trigger("onVideoPause",{viewId:e.videoPlayerId})})),wx.on("onVideoLoadedMetaData",(function(e){h.Z.trigger("onVideoLoadedMetaData",{viewId:e.videoPlayerId,duration:e.duration,width:e.width,height:e.height})})),wx.on("onVideoWaiting",(function(e){h.Z.trigger("onVideoWaiting",{viewId:e.videoPlayerId})})),wx.on("onVideoTimeUpdate",(function(e){h.Z.trigger("onVideoTimeUpdate",{viewId:e.videoPlayerId,position:e.position,duration:Math.round(e.duration)})})),wx.on("onVideoFullScreenChange",(function(e){window.__isFullScreen=e.fullScreen,h.Z.trigger("onVideoFullScreenChange",{viewId:e.videoPlayerId,direction:e.direction,fullScreen:e.fullScreen})})),wx.on("onVideoProgress",(function(e){h.Z.trigger("onVideoProgress",{viewId:e.videoPlayerId,buffered:e.buffered})})),wx.on("onVideoEnded",(function(e){h.Z.trigger("onVideoEnded",{viewId:e.videoPlayerId})})),wx.on("onVideoError",(function(e){h.Z.trigger("onVideoError",{viewId:e.videoPlayerId,errMsg:e.errMsg})})),wx.on("onVideoOrientationChanged",(function(e){h.Z.trigger("onVideoOrientationChanged",e)})),wx.on("onVideoSeekCompelete",(function(e){h.Z.trigger("onVideoSeekCompelete",{viewId:e.videoPlayerId,position:e.position})})),wx.on("onEnterVideoPictureInPicture",(function(e){h.Z.trigger("onEnterVideoPictureInPicture",{viewId:e.videoPlayerId})})),wx.on("onLeaveVideoPictureInPicture",(function(e){h.Z.trigger("onLeaveVideoPictureInPicture",{viewId:e.videoPlayerId})})),(0,_.Ou)("video-platform").definition({methods:{insertVideo:function(e,t){var n=this,i=this.getClientData(),r={data:JSON.stringify(i),needEvent:!0,position:{width:e.width,height:e.height},hide:this.hidden,enableDanmu:!1,showDanmuBtn:!1,showBasicControls:!1,objectFit:this.objectFit,autoplay:this.autoplay,danmuList:[],live:this.live,muted:this.muted,loop:this.loop,pageGesture:this.vslideGesture,pageGestureInFullscreen:this.vslideGestureInFullscreen,videoPlayerId:this.viewId,initialTime:this.initialTime,customCache:this.customCache,showProgress:!1,showControlProgress:!1,showLiveBtn:!1,showPlayBtn:!1,showCenterPlayBtn:!1,showFullScreenBtn:!1,enableProgressGesture:!1,showMuteBtn:!1,title:this.title,playBtnPosition:"",enablePlayGesture:!1,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,autoRotation:this.enableAutoRotation,enableCasting:!1,referrerPolicy:this.referrerPolicy,disableTapGesture:!0,isDrm:this.isDrm,provisionUrl:this.provisionUrl,certificateUrl:this.certificateUrl,licenseUrl:this.licenseUrl};[0,90,-90].indexOf(this.direction)>-1&&(r.direction=this.direction),this.blockSize&&(r.blockSize=1024*this.blockSize),this.insertNativeView("insertVideoPlayer",r,(function(e){if(/:ok/.test(e.errMsg)){if(n.publish("videoPlayerInsert",{domId:n.id,videoPlayerId:n.viewId,pluginId:n.getPluginId(),nodeId:n.getNodeId(),data:i}),n._detached)return void n.removeNativeView("removeVideoPlayer",{videoPlayerId:n.viewId});"function"==typeof t&&t(e)}else n._isError=!0,n.triggerEvent("rendererror",{errMsg:e.errMsg})}))},updateVideo:function(e){var t=this;if(!this._isError)if(this._isReady){var n={},i=this.getClientData();n.videoPlayerId=this.viewId,n.hide=this.hidden,n.needEvent=!0,n.objectFit=this.objectFit,n.autoplay=this.autoplay,n.data=JSON.stringify(i),n.live=this.live,n.customCache=this.customCache,n.title=this.title,n.isDrm=this.isDrm,Object.assign(n,e),this.updateNativeView("updateVideoPlayer",n,(function(e){/ok/.test(e.errMsg)||t.triggerEvent("rendererror",{errMsg:e.errMsg})}))}else this._delay("updateVideo",e)},removeVideo:function(){var e=this;this.removeNativeView("removeVideoPlayer",{videoPlayerId:this.viewId},(function(){e.publish("videoPlayerRemoved",{domId:e.id,videoPlayerId:e.viewId,pluginId:e.getPluginId(),nodeId:e.getNodeId()})}))},play:function(){this._isReady?this.invoke("operateVideoPlayer",{videoPlayerId:this.viewId,type:"play",data:[]}):this._delay("play")},pause:function(){this.invoke("operateVideoPlayer",{videoPlayerId:this.viewId,type:"pause",data:[]})},seek:function(e,t){t||(t=["accurate","inaccurate"].indexOf(this.seekType)>-1?this.seekType:"accurate"),this.invoke("operateVideoPlayer",{videoPlayerId:this.viewId,type:"seek",data:[e,t]}),this._haveSeek=!0},stop:function(){var e=this;this.invoke("operateVideoPlayer",{videoPlayerId:this.viewId,type:"stop",data:[]},(function(){e.stopped=!0})),this.reset(!1)},requestFullscreen:function(e){this.invoke("operateVideoPlayer",{videoPlayerId:this.viewId,type:"requestFullScreen",data:[e]})},exitFullscreen:function(){this.invoke("operateVideoPlayer",{videoPlayerId:this.viewId,type:"exitFullScreen",data:[]})},onTapFullscreen:function(){var{rotate:e}=this.getDirection();if(window.__isFullScreen)this.doFullscreen("exit"),this.exitFullscreen();else{if(this.data.hidden)return;this.doFullscreen("enter",e),this.requestFullscreen(e)}return this._doneFullscreen=!0,!1},onFullscreenChange:function(e){var{rotate:t}=this.getDirection();if(!this._doneFullscreen)if(e.fullScreen){if(this.data.hidden)return;this.doFullscreen("enter",t)}else this.doFullscreen("exit");this._doneFullscreen=null,this.setData({_isFullscreen:e.fullScreen}),this.onPageRerender()},onFullscreenActionChanged:function(e,t){if("requestFullScreen"===e){if(this.data.hidden)return;var{rotate:n}=this.getDirection(null==t?void 0:t[0]);this.doFullscreen("enter",n),this.requestFullscreen(n)}else"exitFullScreen"===e&&(this.doFullscreen("exit"),this.exitFullscreen());this._doneFullscreen=!0},onHiddenChanged:function(e){e&&window.__isFullScreen&&this.exitFullscreen(),this.updateVideo({hide:e})},onVideoFullScreenChange:function(e){var{viewId:t,direction:n,fullScreen:i}=e;t===this.viewId&&this.triggerEvent("fullscreenchange",{fullScreen:i,direction:n})}},lifetimes:{created:function(){this._onVideoFullScreenChange=this.onVideoFullScreenChange.bind(this)},attached:function(){h.Z.on("onVideoFullScreenChange",this._onVideoFullScreenChange)},detached:function(){h.Z.off("onVideoFullScreenChange",this._onVideoFullScreenChange)}}}).registerBehavior()):r.wZ?(wx.on("onXWebVideoPreloadedMetaData",(function(e,t,n){var{viewId:i}=JSON.parse(e.data);h.Z.trigger("onVideoPreloadedMetaData",{viewId:i,preloadSize:e.preloadSize,webviewId:n.__subscribe_webviewId})})),wx.on("onXWebVideoPlay",(function(e,t,n){var{viewId:i}=JSON.parse(e.data);h.Z.trigger("onVideoPlay",{timeStamp:e.timeStamp,viewId:i,type:e.type,webviewId:n.__subscribe_webviewId})})),wx.on("onXWebVideoPause",(function(e,t,n){var{viewId:i}=JSON.parse(e.data);h.Z.trigger("onVideoPause",{viewId:i,type:e.type,webviewId:n.__subscribe_webviewId})})),wx.on("onXWebVideoLoadedMetaData",(function(e,t,n){var{viewId:i}=JSON.parse(e.data);h.Z.trigger("onVideoLoadedMetaData",{viewId:i,duration:e.duration,width:e.width,height:e.height,type:e.type,webviewId:n.__subscribe_webviewId})})),wx.on("onXWebVideoWaiting",(function(e,t,n){var{viewId:i}=JSON.parse(e.data);h.Z.trigger("onVideoWaiting",{viewId:i,type:e.type,webviewId:n.__subscribe_webviewId})})),wx.on("onXWebVideoTimeUpdate",(function(e,t,n){var{viewId:i}=JSON.parse(e.data);h.Z.trigger("onVideoTimeUpdate",{viewId:i,position:e.position,duration:e.duration,type:e.type,webviewId:n.__subscribe_webviewId})})),wx.on("onXWebVideoProgress",(function(e,t,n){var{viewId:i}=JSON.parse(e.data);h.Z.trigger("onVideoProgress",{viewId:i,buffered:e.buffered,type:e.type,webviewId:n.__subscribe_webviewId})})),wx.on("onXWebVideoEnded",(function(e,t,n){var{viewId:i}=JSON.parse(e.data);h.Z.trigger("onVideoEnded",{viewId:i,type:e.type,webviewId:n.__subscribe_webviewId})})),wx.on("onXWebVideoOrientationChanged",(function(e,t,n){e.webviewId=n.__subscribe_webviewId,h.Z.trigger("onVideoOrientationChanged",e)})),wx.on("onXWebVideoError",(function(e,t,n){var{viewId:i}=JSON.parse(e.data);h.Z.trigger("onVideoError",{viewId:i,errMsg:e.errMsg,webviewId:n.__subscribe_webviewId})})),wx.on("onXWebVideoSeekComplete",(function(e,t,n){var{viewId:i}=JSON.parse(e.data);h.Z.trigger("onVideoSeekCompelete",{viewId:i,position:e.position,webviewId:n.__subscribe_webviewId})})),(0,_.Ou)("video-platform").definition({is:"video-platform",lifetimes:{created:function(){this._needRecoverPlay=!1,this._onFullscreenChange=this.onFullscreenChange.bind(this),this._onClientExitFullscreen=this.onClientExitFullscreen.bind(this)},attached:function(){h.Z.on("fullscreenChange",this._onFullscreenChange),h.Z.on("onRequestExitFullscreen",this._onClientExitFullscreen)},detached:function(){ye()&&this._doFullscreen("exit"),h.Z.off("fullscreenChange",this._onFullscreenChange),h.Z.off("onRequestExitFullscreen",this._onClientExitFullscreen)}},methods:{insertVideo:function(e,t){var n=this,i=this.getClientData(),r={data:JSON.stringify(i),needEvent:!0,hide:this.hidden,objectFit:this.objectFit,autoplay:this.autoplay,muted:this.muted,loop:this.loop,viewId:this.viewId,initialTime:this.initialTime,position:{width:e.width,height:e.height},title:this.title,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,filePath:(this.src||"").trim(),enableCasting:!1,autoRotation:this.enableAutoRotation,referrerPolicy:this.referrerPolicy,isDrm:this.isDrm,provisionUrl:this.provisionUrl,certificateUrl:this.certificateUrl,licenseUrl:this.licenseUrl};this.insertNativeView("insertXWebVideo",r,(function(e){if(/:ok/.test(e.errMsg)){if(n.publish("xWebVideoInserted",{domId:n.id,viewId:n.viewId,pluginId:n.getPluginId(),nodeId:n.getNodeId(),data:i}),n._detached)return void n.removeNativeView("removeXWebVideo",{viewId:n.viewId});"function"==typeof t&&t(e)}else n._isError=!0,n.triggerEvent("rendererror",{errMsg:e.errMsg})}))},updateVideo:function(e){var t=this;if(!this._isError)if(this._isReady){var n=Object.assign({viewId:this.viewId,data:JSON.stringify(this.getClientData()),needEvent:!0,title:this.title},e);this.updateNativeView("updateXWebVideo",n,(function(e){/:ok/.test(e.errMsg)||t.triggerEvent("rendererror",{errMsg:e.errMsg})}))}else this._delay("updateVideo",e)},removeVideo:function(){var e=this;this.removeNativeView("removeXWebVideo",{viewId:this.viewId},(function(){e.publish("xWebVideoRemoved",{domId:e.id,viewId:e.viewId,pluginId:e.getPluginId(),nodeId:e.getNodeId()})}))},play:function(){this._isReady?this.invoke("operateXWebVideo",{viewId:this.viewId,type:"play",data:[]}):this._delay("play")},pause:function(){this.invoke("operateXWebVideo",{viewId:this.viewId,type:"pause",data:[]})},seek:function(e,t){t||(t=["accurate","inaccurate"].indexOf(this.seekType)>-1?this.seekType:"accurate"),this.invoke("operateXWebVideo",{viewId:this.viewId,type:"seek",data:[e,t]}),this._haveSeek=!0},stop:function(){var e=this;this.invoke("operateXWebVideo",{viewId:this.viewId,type:"stop",data:[]},(function(){e.stopped=!0})),this.reset(!1)},requestFullscreen:function(e){this.invoke("operateXWebVideo",{viewId:this.viewId,type:"requestFullScreen",data:[e]})},exitFullscreen:function(){this.invoke("operateXWebVideo",{viewId:this.viewId,type:"exitFullScreen",data:[]})},onTapFullscreen:function(){var{rotate:e}=this.getDirection();if(ye())this.doFullscreen("exit"),Ee();else{if(this.data.hidden)return;this.doFullscreen("enter",e),me(this.$.wrapper.$$)}return this._doneFullscreen=!0,!1},onFullscreenChange:function(e){if(e.target===this.$.wrapper.$$){var{direction:t,rotate:n}=this.getDirection();if(!this._doneFullscreen)if(e.fullscreen){if(this.data.hidden)return;this.doFullscreen("enter",n)}else this.doFullscreen("exit");!ye()&&this._screenLocked&&this._handleTapScreenLocker(),this._doneFullscreen=null,this._isFullscreen=e.fullscreen,this.triggerEvent("fullscreenchange",{fullScreen:this._isFullscreen,fullscreen:this._isFullscreen,direction:t}),this.onPageRerender()}},onFullscreenActionChanged:function(e,t){if("requestFullScreen"===e){if(this.data.hidden)return;var{rotate:n}=this.getDirection(t&&t[0]);this.doFullscreen("enter",n),me(this.$.wrapper.$$)}else"exitFullScreen"===e&&(this.doFullscreen("exit"),Ee());this._toastHidden||(this._toastHidden=!0),this._doneFullscreen=!0},onHiddenChanged:function(e){!e||this.stopped||this.paused?!e&&this._needRecoverPlay&&(this.play(),this._needRecoverPlay=!1):(this.pause(),this._needRecoverPlay=!0)},onClientExitFullscreen:function(){ye()&&(this.doFullscreen("exit"),Ee(),this._doneFullscreen=!0)}}}).registerBehavior()):(wxNativeConsole.error("wx-video behavior not found for current environment"),(0,_.Ou)("video-platform").definition({is:"video-platform",methods:{insertVideo:function(){},updateVideo:function(){},removeVideo:function(){},play:function(){},pause:function(){},seek:function(){},stop:function(){}}}).registerBehavior())},Se="CPU_USAGE",Ae="VIDEO_WIDTH",Ie="VIDEO_HEIGHT",Pe="NET_SPEED",we="NET_JITTER",Re="VIDEO_FPS",xe="VIDEO_GOP",Oe="AUDIO_BITRATE",Ne="AUDIO_CACHE",De="VIDEO_CACHE",ke="V_SUM_CACHE_SIZE",Le="V_DEC_CACHE_SIZE",Me="AV_RECV_INTERVAL",Be="AV_PLAY_INTERVAL",Fe="AUDIO_CACHE_THRESHOLD",Ve="VIDEO_BITRATE",We="AUDIO_DROP",Ue="VIDEO_DROP",$e="SERVER_IP",Ge="AUDIO_PLAY_INFO";function Ze(e){var t=[];return t.push("CPU:"+(e[Se]||"")),t.push("RES:"+(e[Ae]||0)+"*"+(e[Ie]||0)),t.push("SPD:"+(e[Pe]||0)+"Kbps"),t.push("JIT:"+(e[we]||0)),t.push("FPS:"+(e[Re]||0)),t.push("GOP:"+(e[xe]||0)+"s"),t.push("ARA:"+(e[Oe]||0)+"Kbps"),t.push("QUE:"+(e[Ne]||0)+" | "+(e[De]||0)+","+(e[ke]||0)+","+(e[Le]||0)+" | "+(e[Me]||0)+","+(e[Be]||0)+","+(e[Fe]||0)),t.push("VRA:"+(e[Ve]||0)+"Kbps"),t.push("DRP:"+(e[We]||0)+"|"+(e[Ue]||0)),t.push("SVR:"+(e[$e]||"")),t.push("AUDIO:"+(e[Ge]||"")),t.join("   ")}var He=n(2840),ze=n(8191),je=n(8919);function Ye(e){if("push"===e||"pop"===e)return e;if(Array.isArray(e))if(1===e.length){if("push"===e[0]||"pop"===e[0])return e[0]}else if(2===e.length&&e.indexOf("push")>-1&&e.indexOf("pop")>-1)return"pushAndPop";return""}var Ke,Xe,qe,Je=31,Qe=35,et=61,tt=new Set([1177,1184,1200,1228]),nt=new Set([0,1,2,7]),it=null;__wxConfig.onReady((function(e){var t;return it=null===(t=e.appLaunchInfo)||void 0===t?void 0:t.scene})),null===(Ke=wx)||void 0===Ke||Ke.onAppEnterForeground((function(e){return it=e.scene}));var rt=null,at=function(e){return h.Z.trigger("sheetModeWindowStateChangedEvent",e)};null===(Xe=wx)||void 0===Xe||Xe.subscribe("sheetModeWindowStateChangedEvent",(function(e){rt=e.state,at(e)})),null===(qe=wx)||void 0===qe||qe.subscribe("onSheetModeVisibleHeightChange",(function(e){e.height/e.screenHeight<=.85||at({state:rt="fullPage"})}));var ot=function(e=it){return null!==e&&tt.has(e)&&nt.has(__wxConfig.appType)&&"fullPage"!==rt},st=i.Z.glassEasel,lt=!0;wx.onAppEnterForeground((function(){lt=!0})),wx.onAppEnterBackground((function(){lt=!1})),wx.subscribe("xWebLivePlayerRequestFullScreen",(function(e){h.Z.trigger("livePlayerRequestFullScreen",{viewId:e.viewId,direction:e.direction})})),wx.subscribe("xWebLivePlayerExitFullScreen",(function(e){h.Z.trigger("livePlayerExitFullScreen",{viewId:e.viewId})})),wx.on("onLivePlayerOrientationChanged",(function(e){h.Z.trigger("onLivePlayerOrientationChanged",e)})),wx.on("onLivePlayerBackgroundPlaybackChange",(function(e){h.Z.trigger("onLivePlayerBackgroundPlaybackChange",e)})),wx.on("onLivePlayerPlay",(function(e){h.Z.trigger("onLivePlayerPlay",e)})),wx.on("onLivePlayerPause",(function(e){h.Z.trigger("onLivePlayerPause",e)})),wx.on("onLivePlayerEnded",(function(e){h.Z.trigger("onLivePlayerEnded",e)})),wx.on("onLivePlayerEvent",(function(e){h.Z.trigger("onLivePlayerEvent",e)})),wx.on("onLivePlayerNetStatus",(function(e){h.Z.trigger("onLivePlayerNetStatus",e)})),wx.on("onLivePlayerAudioVolume",(function(e){h.Z.trigger("onLivePlayerAudioVolume",e)})),wx.on("onLivePlayerBackgroundPlaybackChange",(function(e){h.Z.trigger("onLivePlayerBackgroundPlaybackChange",e)})),wx.on("onLivePlayerFullScreenChange",(function(e){window.__isFullScreen=e.fullScreen,h.Z.trigger("onVideoFullscreenChange",e),h.Z.trigger("onLivePlayerFullScreenChange",e)})),wx.on("onEnterLivePlayerPictureInPicture",(function(e){h.Z.trigger("onEnterLivePlayerPictureInPicture",e)})),wx.on("onLeaveLivePlayerPictureInPicture",(function(e){h.Z.trigger("onLeaveLivePlayerPictureInPicture",e)})),window.__aliveLivePlayer=[],window.__aliveLivePusher=null;var ut=g("live-player").options({listenerChangeLifetimes:!0}).behavior(v.ZP).behavior(y.Z).behavior(He.Z).behavior(A.Z).behavior(m.Z).behavior(ze.Z).behavior(je.Z).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={viewId:new Array(1)},s=!0===i;return{C:function(t,l,u){u("div",{},(function(t,n){n&&e.i(t,"container"),n&&r(t,"wx-video-container"),n&&e.y(t,"width: 100%; height: 100%;")}),(function(t,l,u,c){u("texture",{},(function(t,r){r&&e.i(t,"liveplayer"),r&&a(t,"type","liveplayer"),(r||s||i.viewId)&&a(t,"view_id",n.viewId),o.viewId[0]=function(e,n,i){a(t,"view_id",e.viewId),n(t)},r&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%;"),r&&a(t,"role","application")}),(function(e){}));var d=n._playInBackground?1:0;c(d,(function(t,a,o){1===d&&o("div",{},(function(e,t){(t||s||i._isFullscreen||i._fullscreenCls)&&r(e,"wx-video-background "+pe(n._isFullscreen?n._fullscreenCls:""))}),(function(t,n,i){i("div",{},(function(t,n){n&&e.y(t,"height: 20%")}),(function(e){})),i("div",{},(function(e,t){t&&r(e,"wx-video-background-state")}),(function(e,t,n){n("span",{},(function(e,t){t&&r(e,"wx-video-and-live-player-background-state-icon")}),(function(e){})),n("span",{},(function(e,t){}),(function(e,t){e?t("正在播放"):t()}))})),i("div",{},(function(t,n){n&&e.y(t,"height: 8%")}),(function(e){})),i("div",{},(function(e,t){t&&r(e,"wx-video-background-tips")}),(function(e,t){e?t("锁屏或离开小程序后会继续播放声音"):t()})),i("div",{},(function(t,n){n&&e.y(t,"height: 5%")}),(function(e){})),i("div",{},(function(t,n){n&&r(t,"wx-video-background-exit"),n&&e.r(t,"bindtap","_handleTapExitBGPlay")}),(function(e,t){e?t("播放视频"):t()}))}))})),u("div",{},(function(e,t){t&&r(e,"wx-live-player-slot")}),(function(e,t,n,i,r,a){e?a(""):a()}))}))},B:o}},function(t){return e[t]}}()}).definition({is:"live-player",options:{renderingMode:"full",lazyRegistration:!0},properties:{src:{type:st.NormalizedPropertyType.String,observer:"_srcChanged",public:!0},referrerPolicy:{type:st.NormalizedPropertyType.String,value:"",public:!0},mode:{type:st.NormalizedPropertyType.String,value:"live",public:!0,observer:"modeChanged"},autoplay:{type:st.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"autoplayChanged"},muted:{type:st.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"muteAudioChanged"},muteAudio:{type:null,public:!0,observer:"muteAudioChanged"},muteVideo:{type:st.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"muteVideoChanged"},orientation:{type:st.NormalizedPropertyType.String,value:"vertical",public:!0,observer:"orientationChanged"},objectFit:{type:st.NormalizedPropertyType.String,value:"contain",public:!0,observer:"objectFitChanged"},backgroundMute:{type:st.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"backgroundMuteChanged"},minCache:{type:st.NormalizedPropertyType.Number,value:1,public:!0,observer:"minCacheChanged"},maxCache:{type:st.NormalizedPropertyType.Number,value:3,public:!0,observer:"maxCacheChanged"},soundMode:{type:st.NormalizedPropertyType.String,value:"",public:!0,observer:"soundModeChanged"},autoPauseIfNavigate:{type:st.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:"autoPauseIfNavigateChanged"},autoPauseIfOpenNative:{type:st.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:"autoPauseIfOpenNativeChanged"},enableRecvMessage:{type:st.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enableRecvMessageChanged"},enableAutoRotation:{type:st.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"_enableAutoRotationChanged"},title:{type:st.NormalizedPropertyType.String,value:"",public:!0},backgroundPoster:{type:st.NormalizedPropertyType.String,value:"",public:!0,observer:"_bgPosterChanged"},debug:{type:st.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"debugChanged"},pictureInPictureMode:{value:"",public:!0,observer:"pictureInPictureModeChanged"},enableCasting:{type:st.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enableCastingChanged"},viewId:{type:st.NormalizedPropertyType.Number,value:0},_fullscreenCls:{type:st.NormalizedPropertyType.String,value:""},_playInBackground:{type:st.NormalizedPropertyType.Boolean,value:!1}}}).lifetime("created",(function(){r.cj||r.wZ||(r.gm?(0,C.Dv)("live-player","开发者工具暂未支持 Skyline 下的 live-player 组件调试，请先到真机上预览调试。"):(0,C.Dv)("live-player","当前平台暂未支持 Skyline 下的 live-player 组件")),this.viewId=this.getPositioningId(),this.$.liveplayer.$$.setAttributes({type:"liveplayer",viewId:this.viewId})})).lifetime("attached",(function(){var e=this;this._attached=!0,r.wZ&&(this._setUpFullScreenProccess(),this.publish("xWebLivePlayerDebugChange",{enabled:!0,viewId:this.viewId})),this.addClientEventListeners();var t=this.muted;ot()&&(this.muted=!0),this._originalMuted=t,wx.subscribe("livePlayerGetInfo"+this.viewId,(function({callbackId:t}={}){e.publish("onGetPlayerInfo",{callbackId:t,info:{src:e.src}})}))})).lifetime("detached",(function(){this._removeSubscribe(),this._attached=!1,r.wZ&&(this._isFullscreen&&this.requestFullScreen("exitFullScreen"),this._tearDownFullScreenProcess(),this.publish("xWebLivePlayerDebugChange",{enabled:!1,viewId:this.viewId})),r.wZ?this.removeXWebLivePlayer():this.removeLivePlayer(),this.removeClientEventListeners(),wx.setKeepScreenOn({keepScreenOn:!1})})).lifetime("listenerChange",(function(e,t){["statechange","fullscreenchange","netstatus","audiovolumenotify","enterpictureinpicture","leavepictureinpicture","castinguserselect","castingstatechange","castinginterrupt"].includes(t)&&(this._needEvent=!0),"netstatus"===t&&(this._needNetStatus=!0),"audiovolumenotify"===t&&(this._needAudioVolume=!0)})).methods({addClientEventListeners:function(){var e=this,t=function(t,n){return e[`_${n}`]=function(t){var i=e[n];t.viewId!==e.viewId&&Number(t.livePlayerId)!==e.viewId||i.call(e,t)}.bind(e),h.Z.on(t,e[`_${n}`])};t("onLivePlayerOrientationChanged","onOrientationChanged"),t("onLivePlayerBackgroundPlaybackChange","onBackgroundPlaybackChange"),t("onVideoCastingStateChange","onCastingStateChange"),t("onVideoCastingUserSelect","onCastingUserSelect"),t("onVideoCastingInterrupt","onCastingInterrupt"),t("onLivePlayerPlay","onLivePlayerPlay"),t("onLivePlayerPause","onLivePlayerPause"),t("onLivePlayerEnded","onLivePlayerEnded"),t("onLivePlayerEvent","onLivePlayerEvent"),t("onLivePlayerNetStatus","onLivePlayerNetStatus"),t("onLivePlayerAudioVolume","onLivePlayerAudioVolume"),t("onLivePlayerBackgroundPlaybackChange","onLivePlayerBackgroundPlaybackChange"),t("onLivePlayerFullScreenChange","onLivePlayerFullScreenChange"),t("onEnterLivePlayerPictureInPicture","onEnterLivePlayerPictureInPicture"),t("onLeaveLivePlayerPictureInPicture","onLeaveLivePlayerPictureInPicture"),t("sheetModeWindowStateChangedEvent","onSheetModeWindowStateChangedEvent")},removeClientEventListeners:function(){h.Z.off("onLivePlayerOrientationChanged",this._onOrientationChanged),h.Z.off("onLivePlayerBackgroundPlaybackChange",this._onBackgroundPlaybackChange),h.Z.off("onVideoCastingStateChange",this._onCastingStateChange),h.Z.off("onVideoCastingUserSelect",this._onCastingUserSelect),h.Z.off("onVideoCastingInterrupt",this._onCastingInterrupt),h.Z.off("onLivePlayerPlay",this._onLivePlayerPlay),h.Z.off("onLivePlayerPause",this._onLivePlayerPause),h.Z.off("onLivePlayerEnded",this._onLivePlayerEnded),h.Z.off("onLivePlayerEvent",this._onLivePlayerEvent),h.Z.off("onLivePlayerNetStatus",this._onLivePlayerNetStatus),h.Z.off("onLivePlayerAudioVolume",this._onLivePlayerAudioVolume),h.Z.off("onLivePlayerBackgroundPlaybackChange",this._onLivePlayerBackgroundPlaybackChange),h.Z.off("onLivePlayerFullScreenChange",this._onLivePlayerFullScreenChange),h.Z.off("onEnterLivePlayerPictureInPicture",this._onEnterLivePlayerPictureInPicture),h.Z.off("onLeaveLivePlayerPictureInPicture",this._onLeaveLivePlayerPictureInPicture),h.Z.off("sheetModeWindowStateChangedEvent",this._onSheetModeWindowStateChangedEvent)},_initNativeView:function(e){r.wZ?(this.publish("xWebLivePlayerSupported",{viewId:this.viewId,insert2XWebEnabled:!0}),this.insertXWebLivePlayer(e)):this.insertLivePlayer(e)},_updatePosition:function(e){this._isReady&&this._update({position:e})},_canToggleFullscreen:function(e){var t=this.viewId&&e.livePlayerId===this.viewId;return t&&(this._fullscreenCls="wx-video-full-"+(0===e.direction||"vertical"===e.direction?"v":"h")),t},_getData:function(){return{}},_update:function(e={}){var t=this;this._attached&&(this._isReady?(e.needEvent=!!this._needEvent,e.needNetStatus=!!this._needNetStatus,e.needAudioVolume=!!this._needAudioVolume,e.livePlayerId=this.viewId,e.autoplay=lt&&this.autoplay||!1,e.title=this.title,r.wZ?(e.viewId=this.viewId,this.updateXWebView("updateXWebLivePlayer",e,(function(e){if(/:ok/.test(e.errMsg));else{var n={errMsg:e.errMsg};void 0!==e.errno&&(n.errno=e.errno),t.triggerEvent("error",n)}}))):this.updateNativeView("updateLivePlayer",e,(function(e){if(/:ok/.test(e.errMsg));else{var n={errMsg:e.errMsg};void 0!==e.errno&&(n.errno=e.errno),t.triggerEvent("error",n),t.reportMediaComponentStatus({evtId:Qe,evtNote:e.errMsg,src:t.src})}}))):this._delay("_update",e))},_hiddenChanged:function(e){this._update({hide:e}),e&&this._isFullscreen&&this.requestFullScreen("exitFullScreen")},_transformMode:function(e){return"RTC"===e?2:1},insertLivePlayer:function(e){var t=this,n={parentId:0,livePlayerId:this.viewId,position:{width:e.width,height:e.height},mode:this._transformMode(this.mode),playUrl:this.src,muteAudio:ot()||null===this.muteAudio?this.muted:Boolean(this.muteAudio),muteVideo:this.muteVideo,orientation:this.orientation,objectFit:this.objectFit,debug:this.debug,autoplay:!!lt&&this.autoplay,backgroundMute:this.backgroundMute,needEvent:!!this._needEvent,needNetStatus:!!this._needNetStatus,maxCache:this.maxCache,minCache:this.minCache,hide:this.hidden,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,zIndex:0,needAudioVolume:!!this._needAudioVolume,enableRecvMessage:this.enableRecvMessage,pictureInPictureMode:Ye(this.pictureInPictureMode),autoRotation:this.enableAutoRotation,title:this.title,referrerPolicy:this.referrerPolicy,enableCasting:this.enableCasting};this.soundMode&&(n.soundMode=this.soundMode),"RTC"===this.mode&&window.__aliveLivePusher&&"RTC"===window.__aliveLivePusher.mode&&(n.isVoip=!0,window.__aliveLivePusher._update({isVoip:!0}),window.__aliveLivePusher._isVoip=!0),window.__aliveLivePlayer.push(this),this.insertNativeView("insertLivePlayer",n,(function(e){if(/:ok/.test(e.errMsg))t.createdTimeStamp=Date.now(),t.publish("livePlayerInsert",{domId:t.id,playerId:t.viewId,data:{},nodeId:t.getNodeId(),pluginId:t.getPluginId()}),t._attached||t.removeLivePlayer();else{t._isError=!0;var n={errMsg:e.errMsg};void 0!==e.errCode&&(n.errCode=e.errCode),void 0!==e.errno&&(n.errno=e.errno),t.reportMediaComponentStatus({evtId:Qe,evtNote:n.errCode||n.errMsg,src:t.src}),t.triggerEvent("error",n),(0,C.Dv)("live-player",`渲染失败，错误原因: ${e.errMsg}`)}}))},_removeSubscribe:function(){var e=this;["livePlayerGetInfo"].forEach((function(t){return wx.clearGlobalListeners(t+e.viewId)}))},removeLivePlayer:function(){var e=this,t=window.__aliveLivePlayer.indexOf(this);t>-1&&window.__aliveLivePlayer.splice(t,1),this.removeNativeView("removeLivePlayer",{livePlayerId:this.viewId},(function(t){if(!/:ok/.test(t.errMsg)){var n=t.errMsg?t.errMsg.replace("removeLivePlayer:",""):"",i={errMsg:n};void 0!==t.errno&&(i.errno=t.errno),e.triggerEvent("error",i),(0,C.Dv)("live-player",`移除失败，错误原因: ${n}`)}})),this.publish("livePlayerRemoved",{domId:this.id,playerId:this.viewId,nodeId:this.getNodeId(),pluginId:this.getPluginId()})},insertXWebLivePlayer:function(e){var t=this,n={viewId:this.viewId,position:{width:e.width,height:e.height},mode:this._transformMode(this.mode),playUrl:this.src,muteAudio:ot()||null===this.muteAudio?this.muted:Boolean(this.muteAudio),muteVideo:this.muteVideo,orientation:this.orientation,objectFit:this.objectFit,debug:this.debug,autoplay:!!lt&&this.autoplay,backgroundMute:this.backgroundMute,needEvent:!!this._needEvent,needNetStatus:!!this._needNetStatus,needAudioVolume:!!this._needAudioVolume,maxCache:this.maxCache,minCache:this.minCache,hide:this.hidden,autoPauseIfNavigate:this.autoPauseIfNavigate,autoPauseIfOpenNative:this.autoPauseIfOpenNative,enableRecvMessage:this.enableRecvMessage,pictureInPictureMode:Ye(this.pictureInPictureMode),autoRotation:this.enableAutoRotation,title:this.title,referrerPolicy:this.referrerPolicy,enableCasting:this.enableCasting};this.soundMode&&(n.soundMode=this.soundMode),"RTC"===this.mode&&window.__aliveLivePusher&&"RTC"===window.__aliveLivePusher.mode&&(n.isVoip=!0,window.__aliveLivePusher._update({isVoip:!0})),window.__aliveLivePlayer.push(this),this.insertNativeView("insertXWebLivePlayer",n,(function(e){if(/:ok/.test(e.errMsg))t.createdTimeStamp=Date.now(),t.publish("xWebLivePlayerInsert",{domId:t.id,viewId:t.viewId,data:{},nodeId:t.getNodeId(),pluginId:t.getPluginId()}),t.pictureInPictureMode&&t.publish("updateLivePlayerPictureInPicture",{playerId:t.viewId}),t._attached||t.removeXWebLivePlayer();else{t._isError=!0;var n={errMsg:e.errMsg};void 0!==e.errCode&&(n.errCode=e.errCode),void 0!==e.errno&&(n.errno=e.errno),t.triggerEvent("error",n);var i=e.errMsg?e.errMsg.replace("insertXWebLivePlayer:",""):"";(0,C.Dv)("live-player",`渲染失败，错误原因: ${i}`)}}))},removeXWebLivePlayer:function(){var e=this,t=window.__aliveLivePlayer.indexOf(this);t>-1&&window.__aliveLivePlayer.splice(t,1),this.removeNativeView("removeXWebLivePlayer",{viewId:this.viewId},(function(t){if(!/:ok/.test(t.errMsg)){var n=t.errMsg?t.errMsg.replace("removeXWebLivePlayer:",""):"",i={errMsg:n};void 0!==t.errno&&(i.errno=t.errno),e.triggerEvent("error",i),(0,C.Dv)("live-player",`移除失败，错误原因: ${n}`)}})),this.publish("xWebLivePlayerRemoved",{viewId:this.viewId,nodeId:this.getNodeId(),pluginId:this.getPluginId()})},_srcChanged:function(e){this._update({playUrl:e,autoplay:this.autoplay})},autoplayChanged:function(e){this._update({autoplay:e})},modeChanged:function(e){this._update({mode:this._transformMode(e)})},muteAudioChanged:function(e){this._originalMuted=this.muted,this._update({muteAudio:ot()||e})},muteVideoChanged:function(e){this._update({muteVideo:e})},orientationChanged:function(e){-1===["horizontal","vertical"].indexOf(e)&&(e="vertical"),this._update({orientation:e})},objectFitChanged:function(e){-1===["fillCrop","contain"].indexOf(e)&&(e="fillCrop"),this._update({objectFit:e})},backgroundMuteChanged:function(e){(0,C._0)("<live-player>","background-mute",""),this._update({backgroundMute:e})},minCacheChanged:function(e){this._update({minCache:e,maxCache:this.maxCache})},maxCacheChanged:function(e){this._update({minCache:this.minCache,maxCache:e})},soundModeChanged:function(e){e&&this._update({soundMode:e})},debugChanged:function(e){r.wZ||this._update({debug:e})},autoPauseIfNavigateChanged:function(e){this._update({autoPauseIfNavigate:e})},autoPauseIfOpenNativeChanged:function(e){this._update({autoPauseIfOpenNative:e})},enableRecvMessageChanged:function(e){this._update({enableRecvMessage:e})},_enableAutoRotationChanged:function(e){this._update({autoRotation:e})},_bgPosterChanged:function(e){var t=this;e&&this.getCloudFileUrl(e,"image",(function(e){t._update({backgroundPoster:e})}))},getContextId:function(){return this.viewId},_setUpFullScreenProccess:function(){var e=this;r.wZ&&(this._isFullscreen=!1,this._onLivePlayerRequestFullScreenHandler=function(t){t.viewId===e.viewId&&e.requestFullScreen("enterFullScreen",t.direction)},this._onLivePlayerExitFullScreenHandler=function(t){t.viewId===e.viewId&&e.requestFullScreen("exitFullScreen")},this._onClientExitFullscreen=function(t){ye()&&(e.requestFullScreen("exitFullScreen"),Ee())},h.Z.on("livePlayerRequestFullScreen",this._onLivePlayerRequestFullScreenHandler),h.Z.on("livePlayerExitFullScreen",this._onLivePlayerExitFullScreenHandler),h.Z.on("onRequestExitFullscreen",this._onClientExitFullscreen))},_tearDownFullScreenProcess:function(){h.Z.off("livePlayerRequestFullScreen",this._onLivePlayerRequestFullScreenHandler),h.Z.off("livePlayerExitFullScreen",this._onLivePlayerExitFullScreenHandler),h.Z.off("onRequestExitFullscreen",this._onClientExitFullscreen)},requestFullScreen:function(e,t=0,n){var a=parseInt(t,10);t=[0,90,-90].indexOf(a)>-1?a:0;var o=this.$.container.$$;o&&("enterFullScreen"===e?(o.setStyle("\n          position: fixed;\n          top: 0;\n          left: 0;\n          zIndex: 100000001;\n          width: 100vw;\n          height: 100vh;\n        ",i.Z.glassEasel.StyleSegmentIndex.TEMP_EXTRA),me(o),this._isFullscreen=!0,r.cj?this._operateLivePlayerWithPluginPermCheck({livePlayerId:this.viewId,type:"requestFullScreen",data:["landscape"===n?-90:90]}):this._operateXWebLivePlayerWithPluginPermCheck({viewId:this.viewId,type:"requestFullScreen",data:[t]},(function(e){})),this.triggerEvent("fullscreenchange",{fullScreen:!0,direction:0===t||180===t||"vertical"===t?"vertical":"horizontal"}),this._fullscreenCls="wx-video-full-"+(0===t?"v":"h")):"exitFullScreen"===e&&(o.setStyle("",i.Z.glassEasel.StyleSegmentIndex.TEMP_EXTRA),Ee(),r.cj?this._operateLivePlayerWithPluginPermCheck({livePlayerId:this.viewId,type:"exitFullScreen",data:[]}):this._operateXWebLivePlayerWithPluginPermCheck({viewId:this.viewId,type:"exitFullScreen",data:[]},(function(e){})),this._isFullscreen=!1,this.triggerEvent("fullscreenchange",{fullScreen:!1})))},getCurTimeFmt:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),i=e.getSeconds(),r=e.getMilliseconds();return`${t<10?"0"+t:t}:${n<10?"0"+n:n}:${i<10?"0"+i:i}.${r<10?"00"+r:r<100?"0"+r:r}`},pictureInPictureModeChanged:function(e){var t=Ye(e);this._update({pictureInPictureMode:t})},enableCastingChanged:function(e){e!==this.enableCasting&&this._update({enableCasting:e})},_shouldEnablePermCheckAndGetTask:function(){return{indices:[706],reporterKey:"disableLivePlayer",errMsg:"接口系统维护中"}},onOrientationChanged:function(e){var t=this,n=e.orientation;clearTimeout(this._orientationChangedTimer),this._orientationChangedTimer=setTimeout((function(){t._lastOrientation!==n&&("portrait"===n?t.requestFullScreen("exitFullScreen",0,n):"landscapeLeft"!==n&&"landscape"!==n||t.requestFullScreen("enterFullScreen","landscape"===n?-90:90,n),t._lastOrientation=n)}),0)},_handleTapExitBGPlay:function(){r.wZ?this._operateXWebLivePlayerWithPluginPermCheck({viewId:this.viewId,type:"exitBackgroundPlayback"},(function(e){})):this._operateLivePlayerWithPluginPermCheck({livePlayerId:this.viewId,type:"exitBackgroundPlayback"},(function(e){}))},onBackgroundPlaybackChange:function(e){this._playInBackground=e.playInBackground},_operateLivePlayerWithPluginPermCheck:function(e,t=function(){}){this.invoke("operateLivePlayer",e,t)},_operateXWebLivePlayerWithPluginPermCheck:function(e,t=function(){}){this.invoke("operateXWebLivePlayer",e,t)},onCastingUserSelect:function(e){var{state:t,type:n}=e;"fail"===t||!1===t||"cancel"===t||"AirPlay"===n||(this._underCasting=!0,this._castingState=""),this.triggerEvent("castinguserselect",e)},onCastingStateChange:function(e){var{state:t}=e;"NotAirPlay"===t?(this._underCasting&&(this._underCasting=!1),this._airPlaying=!1):"Video"===t||"Mirror"===t?(this._airPlaying=!0,this._castingState="success"):this._castingState=e.state,this.triggerEvent("castingstatechange",e)},onCastingInterrupt:function(){this._underCasting=!1,this.triggerEvent("castinginterrupt",{})},onLivePlayerPlay:function(e){this.triggerEvent("play",e)},onLivePlayerPause:function(e){this.triggerEvent("pause",e)},onLivePlayerEnded:function(e){this.triggerEvent("ended",e)},onSheetModeWindowStateChangedEvent:function(e){"fullPage"===e.state&&this.muteAudioChanged(this._originalMuted)},onLivePlayerEvent:function(e){var{errCode:t,errMsg:n}=e.detail;if(2004===t&&wx.setKeepScreenOn({keepScreenOn:!0}),2001===t){var i=this._transformMode(this.mode),a=lt&&this.autoplay?2:1,o=[i,this.minCache,this.maxCache,a].join(";");this.reportMediaComponentStatus({evtId:Je,evtNote:o,src:this.src})}if(this.pictureInPictureMode&&wx.publish("updateLivePlayerPictureInPicture",{playerId:r.cj?this._playerId:this.viewId}),this.reportMediaComponentStatus({evtId:33,evtNote:t,src:this.src}),r.wZ&&1020!==t&&2005!==t&&2012!==t&&n){var s=`[${this.getCurTimeFmt()}] ${n}`;console.log("[live-player] debug content",s)}r.wZ&&-9999999===t||this.triggerEvent("statechange",{code:t,message:n})},onLivePlayerNetStatus:function(e){var t=e.detail.info||{};this.reportMediaComponentStatus({evtId:34,evtNote:Object.keys(t).map((function(e){return t[e]})).join(";"),src:this.src}),r.wZ&&console.log("[live-player] metrics content",Ze(t||{})),this.triggerEvent("netstatus",{info:{videoBitrate:t.VIDEO_BITRATE,audioBitrate:t.AUDIO_BITRATE,videoFPS:t.VIDEO_FPS,videoGOP:t.VIDEO_GOP,netSpeed:t.NET_SPEED,netQualityLevel:t.NET_QUALITY_LEVEL,netJitter:t.NET_JITTER,videoWidth:t.VIDEO_WIDTH,videoHeight:t.VIDEO_HEIGHT,videoCache:t.VIDEO_CACHE,audioCache:t.AUDIO_CACHE,vDecCacheSize:t.V_DEC_CACHE_SIZE,vSumCacheSize:t.V_SUM_CACHE_SIZE,avPlayInterval:t.AV_PLAY_INTERVAL,avRecvInterval:t.AV_RECV_INTERVAL,audioCacheThreshold:t.AUDIO_CACHE_THRESHOLD}})},onLivePlayerAudioVolume:function(e){this.triggerEvent("audiovolumenotify",{volume:e.detail.volume})},onLivePlayerBackgroundPlaybackChange:function(e){this.triggerEvent("backgroundplaybackchange",{playInBackground:e.detail.playInBackground})},onLivePlayerFullScreenChange:function(e){var t=e.detail;t.fullScreen?this.requestFullScreen("enterFullScreen"):this.requestFullScreen("exitFullScreen"),this.reportMediaComponentStatus({evtId:32,evtNote:t.fullScreen?2:1,src:this.src}),this.triggerEvent("fullscreenchange",{fullScreen:t.fullScreen,direction:0===t.direction||180===t.direction||"vertical"===t.direction?"vertical":"horizontal"})},onEnterLivePlayerPictureInPicture:function(){this.triggerEvent("enterpictureinpicture",{})},onLeaveLivePlayerPictureInPicture:function(){this.triggerEvent("leavepictureinpicture",{})}}).registerComponent();const ct=ut,dt={standard:{md5:"e81ae53a77ac593d2c4ff9776c224fc7",path:"https://res.wx.qq.com/op_res/d2nQMan8KRydT1CITZqp989knp9iG57tpvWUD65cn6AJBcCRnh3mPItGikSehNQP"},pink:{md5:"d4fafa3050c0cdc476d282c417a65cf1",path:"https://res.wx.qq.com/op_res/X-nwCPN08lZz8t-DC0QFi1yY34TWGN1SREstskyeQAKg6MDjxKKP06CocBvMspfI"},nostalgia:{md5:"1e721134ca050b076c9eee97d7d7c5e6",path:"https://res.wx.qq.com/op_res/E-rD97nt7mtGmYEDGLlF2IyU12SoPBuj7vz9QjoI2fUzN6SKTTKYaIfoj6EYIvpI"},blues:{md5:"f6fdf2dad6b5f0ce179ce917eba1bef8",path:"https://res.wx.qq.com/op_res/L4SaK8UKcbsubbCnLr5dQmKcpqGV-lSZYP9JTv_DfYaorM5BeDqEb8ICM6Iex_cB"},romantic:{md5:"c21110036f1257309e0042437bcd1dd5",path:"https://res.wx.qq.com/op_res/fMsOqJ27ZojBwonreqWq-_vdrEJRUWovrDmiJb2JWzKN3FZxQI7YVuSaEySssQmY"},cool:{md5:"8d75e199ce357c39f1c6b2847f4b0ea4",path:"https://res.wx.qq.com/op_res/ui-bELj2HvOSbAyrqqL_H3cz2Fweidzs1sYfN_x0h3M923MX7TDzb5gvGAtLmaeS"},fresher:{md5:"6ad2690e8c90dc4a058fe3012db481b7",path:"https://res.wx.qq.com/op_res/88rKJt7jImQshbcxFz4gQrvZE-TDgcylIeatT1jjlOAcmuJwVG9h2k86q6k9L-xM"},solor:{md5:"e5adaf5dd1336969d76507c0094f7d09",path:"https://res.wx.qq.com/op_res/zRnTEwqZ9akAie_6yBvvOVHXMIK-0-reYbzUNDbASJUFN8ozgXg0CznvqY11-q0w"},aestheticism:{md5:"9c47499fe06a6401aaa015e087bc01d3",path:"https://res.wx.qq.com/op_res/F4o32uRw8zkoHKtnIiWCxJy8RHllNx4LPVO9tvaOfr9Za7S0oYUdHk0EMRey3XCZ"},whitening:{md5:"ef8583af0b36df5b5e1ee1baeaf1850c",path:"https://res.wx.qq.com/op_res/CWDTqAQWdNfYs-pUOhhEqI2UBfgyaOh9xAsdbbxXEnxF95MO1k8WY6bYPDusz-sw"},cerisered:{md5:"6cf8b414d01f06811663adfbedbab223",path:"https://res.wx.qq.com/op_res/VaEcBLHiRz3tViWimu8ZZu2qQh2ZI14trYtgnVS0vDxhQpQlSC11uRQgEZm177x3"}};var pt=i.Z.glassEasel,ht=r.cj,ft=!1,_t=!1,vt=!1;wx.on("onLivePusherEvent",(function(e){h.Z.trigger("onLivePusherEvent",e)})),wx.on("onLivePusherNetStatus",(function(e){h.Z.trigger("onLivePusherNetStatus",e)})),wx.on("onLivePusherBGMStart",(function(e){h.Z.trigger("onLivePusherBGMStart",e)})),wx.on("onLivePusherBGMProgress",(function(e){h.Z.trigger("onLivePusherBGMProgress",e)})),wx.on("onLivePusherBGMComplete",(function(e){h.Z.trigger("onLivePusherBGMComplete",e)})),wx.on("onLivePusherError",(function(e){h.Z.trigger("onLivePusherError",e)})),wx.on("onLivePusherAudioVolume",(function(e){h.Z.trigger("onLivePusherAudioVolume",e)})),wx.on("onEnterLivePusherPictureInPicture",(function(e){h.Z.trigger("onEnterLivePusherPictureInPicture",e)})),wx.on("onLeaveLivePusherPictureInPicture",(function(e){h.Z.trigger("onLeaveLivePusherPictureInPicture",e)}));var gt=g("live-pusher").options({listenerChangeLifetimes:!0}).behavior(v.ZP).behavior(y.Z).behavior(He.Z).behavior(A.Z).behavior(m.Z).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={viewId:new Array(1),enableVideoCustomRender:new Array(2)},s=!0===i;return{C:function(t,l,u){u("div",{},(function(t,a){a&&e.i(t,"container"),(a||s||i.enableVideoCustomRender)&&r(t,n.enableVideoCustomRender?"custom-renderer":""),o.enableVideoCustomRender[0]=function(e,n,i){r(t,e.enableVideoCustomRender?"custom-renderer":"")},a&&e.y(t,"width: 100%; height: 100%;")}),(function(t,l,u,c){u("texture",{},(function(t,l){l&&e.i(t,"livepusher"),l&&r(t,"livepusher"),l&&a(t,"type","livepusher"),(l||s||i.viewId)&&a(t,"view_id",n.viewId),o.viewId[0]=function(e,n,i){a(t,"view_id",e.viewId),n(t)},l&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%;"),l&&a(t,"role","application")}),(function(e){}));var d=n.autoFocus?0:1;c(d,(function(t,n,i){1===d&&i("div",{},(function(t,n){n&&e.i(t,"focusBoxWrapper"),n&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;")}),(function(t,n,i){i("div",{},(function(t,n){n&&e.i(t,"focusBox"),n&&r(t,"wx-live-pusher-focus-box")}),(function(e){}))}))}))})),u("div",{},(function(e,t){(t||s||i.enableVideoCustomRender)&&r(e,"wx-live-pusher-slot"+pe(n.enableVideoCustomRender?" custom-renderer":"")),o.enableVideoCustomRender[1]=function(t,n,i){r(e,"wx-live-pusher-slot"+pe(t.enableVideoCustomRender?" custom-renderer":""))}}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:o}},function(t){return e[t]}}()}).definition({is:"live-pusher",options:{renderingMode:"full",lazyRegistration:!0},properties:{url:{type:pt.NormalizedPropertyType.String,value:"",public:!0,observer:"urlChanged"},mode:{type:pt.NormalizedPropertyType.String,value:"RTC",public:!0,observer:"modeChanged"},autopush:{type:pt.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"autopushChanged"},muted:{type:pt.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"mutedChanged"},enableCamera:{type:pt.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:"enableCameraChanged"},enableMic:{type:null,public:!0,observer:"enableMicChanged"},enableAgc:{type:pt.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enableAgcChanged"},enableAns:{type:pt.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enableAnsChanged"},enableEarMonitor:{type:pt.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enableEarMonitorChanged"},audioVolumeType:{type:pt.NormalizedPropertyType.String,value:"",public:!0,observer:"audioVolumeTypeChanged"},audioReverbType:{type:pt.NormalizedPropertyType.Number,value:0,public:!0,observer:"audioReverbTypeChanged"},autoFocus:{type:pt.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:"autoFocusChanged"},orientation:{type:pt.NormalizedPropertyType.String,value:"vertical",public:!0,observer:"orientationChanged"},beauty:{type:pt.NormalizedPropertyType.Number,value:0,public:!0,observer:"beautyChanged"},whiteness:{type:pt.NormalizedPropertyType.Number,value:0,public:!0,observer:"whitenessChanged"},aspect:{type:pt.NormalizedPropertyType.String,value:"9:16",public:!0,observer:"aspectChanged"},videoWidth:{type:pt.NormalizedPropertyType.Number,value:360,public:!0,observer:"videoWidthChanged"},videoHeight:{type:pt.NormalizedPropertyType.Number,value:640,public:!0,observer:"videoHeightChanged"},minBitrate:{type:pt.NormalizedPropertyType.Number,public:!0,observer:"minBitrateChanged"},maxBitrate:{type:pt.NormalizedPropertyType.Number,public:!0,observer:"maxBitrateChanged"},waitingImage:{type:pt.NormalizedPropertyType.String,value:"",public:!0,observer:"waitingImageChanged"},backgroundMute:{type:pt.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"backgroundMuteChanged"},waitingImageHash:{type:pt.NormalizedPropertyType.String,value:"",public:!0,observer:"waitingImageHashChanged"},audioQuality:{type:pt.NormalizedPropertyType.String,value:"high",public:!0,observer:"audioQualityChanged"},zoom:{type:pt.NormalizedPropertyType.Boolean,value:!1,public:!0},watermarkImage:{type:pt.NormalizedPropertyType.String,value:"",public:!0,observer:"watermarkImageChanged"},watermarkImageHash:{type:pt.NormalizedPropertyType.String,value:"",public:!0,observer:"watermarkImageHashChanged"},watermarkPosition:{type:pt.NormalizedPropertyType.Array,value:[],public:!0,observer:"watermarkPositionChanged"},devicePosition:{type:pt.NormalizedPropertyType.String,value:"front",public:!0},fps:{type:pt.NormalizedPropertyType.Number,value:15,public:!0,observer:"fpsChanged"},mirror:{type:pt.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"_remoteMirrorChanged"},localMirror:{type:pt.NormalizedPropertyType.String,value:"auto",public:!0,observer:"_localMirrorChanged"},remoteMirror:{type:null,public:!0,observer:"_remoteMirrorChanged"},beautyStyle:{type:pt.NormalizedPropertyType.String,public:!0,value:"smooth",observer:"_beautyStyleChanged"},filter:{type:pt.NormalizedPropertyType.String,public:!0,value:"",observer:"_filterChanged"},customEffect:{type:pt.NormalizedPropertyType.Boolean,public:!0,value:!1},skinWhiteness:{type:pt.NormalizedPropertyType.Number,public:!0,value:0,observer:"_skinWhitenessChanged"},skinSmoothness:{type:pt.NormalizedPropertyType.Number,public:!0,value:0,observer:"_skinSmoothnessChanged"},faceThinness:{type:pt.NormalizedPropertyType.Number,public:!0,value:0,observer:"_faceThinnessChanged"},eyeBigness:{type:pt.NormalizedPropertyType.Number,public:!0,value:0,observer:"_eyeBignessChanged"},debug:{type:pt.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"debugChanged"},pictureInPictureMode:{value:"",public:!0,observer:"pictureInPictureModeChanged"},voiceChangerType:{value:0,public:!0,observer:"voiceChangerTypeChanged"},enableVideoCustomRender:{type:pt.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"enableVideoCustomRenderChanged"},_anticipatedEnforcedXWebLive:{type:pt.NormalizedPropertyType.Boolean,value:!1},viewId:{type:pt.NormalizedPropertyType.Number,value:0}}}).lifetime("created",(function(){r.cj||r.wZ||(r.gm?(0,C.Dv)("live-pusher","开发者工具暂未支持 Skyline 下的 live-pusher 组件调试，请先到真机上预览调试。"):(0,C.Dv)("live-pusher","当前平台暂未支持 Skyline 下的 live-pusher 组件")),this.viewId=this.getPositioningId(),this.$.livepusher.$$.setAttributes({type:"livepusher",viewId:this.viewId}),this._showFocusBox=this.showFocusBox.bind(this),this._onLivePusherEvent=this.onLivePusherEvent.bind(this),this._onLivePusherNetStatus=this.onLivePusherNetStatus.bind(this),this._onLivePusherBGMStart=this.onLivePusherBGMStart.bind(this),this._onLivePusherBGMProgress=this.onLivePusherBGMProgress.bind(this),this._onLivePusherBGMComplete=this.onLivePusherBGMComplete.bind(this),this._onLivePusherError=this.onLivePusherError.bind(this),this._onLivePusherAudioVolume=this.onLivePusherAudioVolume.bind(this),this._onEnterLivePusherPictureInPicture=this.onEnterLivePusherPictureInPicture.bind(this),this._onLeaveLivePusherPictureInPicture=this.onLeaveLivePusherPictureInPicture.bind(this)})).lifetime("attached",(function(){this._attached=!0;var e=this.muted;ot()&&(this.muted=!0),this._originalMuted=e,r.wZ&&this.publish("xWebLivePusherDebugChange",{enabled:!0,viewId:this.viewId});var t=__wxConfig.host;if((0,r.er)()){var n=255&pt.NormalizedPropertyType.Number(t.version);if(n>=16&&n<=31)return void wx.showToast({icon:"",title:"暂不支持当前功能",duration:2500})}this._inserting=!0,this.addClientEventListeners()})).lifetime("detached",(function(){this._removeSubscribe(),this._attached=!1,r.wZ?(this.removeXWebLivePusher(),this.publish("xWebLivePusherDebugChange",{enabled:!1,viewId:this.viewId})):this.removeLivePusher(),this.removeClientEventListeners()})).lifetime("listenerChange",(function(e,t){"statechange"===t&&(this._needEvent=!0),"netstatus"===t&&(this._needNetStatus=!0),"bgmstart"!==t&&"bgmcomplete"!==t&&"bgmprogress"!==t||(this._needBGMEvent=!0),"audiovolumenotify"===t&&(this._needAudioVolume=!0)})).methods({addClientEventListeners:function(){var e=this,t=function(t,n){return e[`_${n}`]=function(t){var i=e[n];t.viewId!==e.viewId&&Number(t.livePlayerId)!==e.viewId||i.call(e,t)}.bind(e),h.Z.on(t,e[`_${n}`])};t("sheetModeWindowStateChangedEvent","onSheetModeWindowStateChangedEvent"),t("onLivePusherEvent","onLivePusherEvent"),t("onLivePusherNetStatus","onLivePusherNetStatus"),t("onLivePusherBGMStart","onLivePusherBGMStart"),t("onLivePusherBGMProgress","onLivePusherBGMProgress"),t("onLivePusherBGMComplete","onLivePusherBGMComplete"),t("onLivePusherError","onLivePusherError"),t("onLivePusherAudioVolume","onLivePusherAudioVolume"),t("onEnterLivePusherPictureInPicture","onEnterLivePusherPictureInPicture"),t("onLeaveLivePusherPictureInPicture","onLeaveLivePusherPictureInPicture")},removeClientEventListeners:function(){h.Z.off("sheetModeWindowStateChangedEvent",this._onSheetModeWindowStateChangedEvent),h.Z.off("onLivePusherEvent",this._onLivePusherEvent),h.Z.off("onLivePusherNetStatus",this._onLivePusherNetStatus),h.Z.off("onLivePusherBGMStart",this._onLivePusherBGMStart),h.Z.off("onLivePusherBGMProgress",this._onLivePusherBGMProgress),h.Z.off("onLivePusherBGMComplete",this._onLivePusherBGMComplete),h.Z.off("onLivePusherError",this._onLivePusherError),h.Z.off("onLivePusherAudioVolume",this._onLivePusherAudioVolume),h.Z.off("onEnterLivePusherPictureInPicture",this._onEnterLivePusherPictureInPicture),h.Z.off("onLeaveLivePusherPictureInPicture",this._onLeaveLivePusherPictureInPicture)},_initNativeView:function(e){var t=this;this.authorize((function(){t._inserting&&(r.wZ?t.insertXWebLivePusher(e):t.insertLivePusher(e))}),(function(){ft=!1}))},_getData:function(){return{}},_update:function(e={}){var t=this;this._attached&&(this._isReady?(e.livePusherId=this.viewId,e.needEvent=!!this._needEvent,e.needNetStatus=!!this._needNetStatus,e.needAudioVolume=!!this._needAudioVolume,e.autopush=this.autopush||!1,r.wZ?(e.viewId=this.viewId,this.updateNativeView("updateXWebLivePusher",e,(function(e){if(!/:ok/.test(e.errMsg)){var n={errMsg:e.errMsg?e.errMsg.replace("updateXWebLivePusher:",""):""};void 0!==e.errno&&(n.errno=e.errno),t._triggerError(n),(0,C.Dv)("live-pusher",`更新失败，错误原因: ${e.errMsg}`)}}))):this.updateNativeView("updateLivePusher",e,(function(e){if(!/:ok/.test(e.errMsg)){var n={errMsg:e.errMsg?e.errMsg.replace("updateLivePusher:",""):""};void 0!==e.errno&&(n.errno=e.errno),t._triggerError(n),(0,C.Dv)("live-pusher",`更新失败，错误原因: ${e.errMsg}`)}}))):this._delay("_update",e))},_hiddenChanged:function(e){this._update({hide:e})},_updatePosition:function(e){this._isReady&&this._update({position:e})},_transformMode:function(e){switch(e){case"SD":return 1;case"HD":return 2;case"FHD":return 3;case"UHD":return 7;case"QVGA":return 8;case"HVGA":return 9;default:return 6}},_transformAspect:function(e){return"3:4"===e?1:2},_getPosition:function(e){var t=this;return"[object Array]"===Object.prototype.toString.call(e)&&e.length?(e.length>3?e=e.slice(0,3):2===e.length?e.push("10%"):1===e.length&&(e.push(0),e.push("10%")),e=e.map((function(e,n){if("string"==typeof e){if(/%$/.test(e))return parseFloat(e)/100;/^\s*[+-]?\d+(\.\d+)?rpx\s*$/i.test(e)&&(e=wx.transformRpx(`${e}`))}return(Number(e)||0)/t._box[n%2?"height":"width"]})),{watermarkLeft:e[0],watermarkTop:e[1],watermarkWidth:e[2]}):{watermarkLeft:0,watermarkTop:0,watermarkWidth:.1}},_triggerError:function(e){this.triggerEvent("error",e,{extraFields:{details:e}})},authorize:function(e,t){var n=this,i=function(){"function"==typeof e&&e()},r=function(){"function"==typeof t&&t()};if(this._attached){var a=!_t&&!!this.enableCamera,o=!vt&&!this.muted,s=function(e,t){wx.authorize({scope:["scope.record"],success:function(){vt=!0,e()},fail:function(){var e;n._triggerError({errMsg:"Not allowed to use microphone.",errCode:10002,errno:null===(e=wx.errno)||void 0===e?void 0:e.JSAPI_PERMISSION_DENIED}),t()}})};wx.checkPrivacy({apiName:"wx-live-pusher.attached"}).catch((function(){return{success:!0}})).then((function({success:e,errMsg:t,errno:l}){var u,c;e?a?(u=function(){o?s(i,r):i()},c=r,wx.authorize({scope:["scope.camera"],success:function(){_t=!0,u()},fail:function(){var e;n._triggerError({errMsg:"Not allowed to use camera.",errCode:10001,errno:null===(e=wx.errno)||void 0===e?void 0:e.JSAPI_PERMISSION_DENIED}),c()}})):o?s(i,r):setTimeout(i):r()}))}},insertXWebLivePusher:function(e){var t=this,n=this.waitingImage;!n||/^wxfile:\/\//.test(n)||/^(http|https):\/\//.test(n)||(n=this.getRealRoute(n),n=wx.getRealRoute(window.__route__,(this.ownerShadowRoot?"/":"")+n));var i,{filterImage:r,filterImageMd5:a}=this._resolveFilterImagePreset(),o=Object.assign({viewId:this.viewId,position:{width:e.width,height:e.height},pushUrl:this.url,mode:this._transformMode(this.mode),autopush:this.autopush,muted:this.muted,focusMode:this.autoFocus?0:1,orientation:this.orientation,beauty:this.beauty,whiteness:this.whiteness,aspect:this._transformAspect(this.aspect),backgroundImage:n,backgroundMute:this.backgroundMute,backgroundMD5:this.waitingImageHash,debug:this.debug,hide:this.hidden,enableCamera:this.enableCamera,audioQuality:this.audioQuality,needEvent:!!this._needEvent,needNetStatus:!!this._needNetStatus,zoom:this.zoom,devicePosition:this.devicePosition,fps:this.fps,needBGMEvent:!!this._needBGMEvent,enableAGC:this.enableAgc,enableANS:this.enableAns,enableEarMonitor:!!ht&&this.enableEarMonitor,audioReverbType:this.audioReverbType,videoWidth:this.videoWidth,videoHeight:this.videoHeight,localMirror:this.localMirror,remoteMirror:null===this.remoteMirror?this.mirror:Boolean(this.remoteMirror),beautyStyle:this.beautyStyle,filterImage:r,filterImageMd5:a,needAudioVolume:!!this._needAudioVolume,pictureInPictureMode:Ye(this.pictureInPictureMode),voiceChangerType:this.voiceChangerType,customEffect:!!this.customEffect,skinWhiteness:this.skinWhiteness,skinSmoothness:this.skinSmoothness,faceThinness:this.faceThinness,eyeBigness:this.eyeBigness,enableVideoCustomRender:this.enableVideoCustomRender});if(null!==this.enableMic&&(o.enableMic=Boolean(this.enableMic)),this.audioVolumeType&&(o.audioVolumeType=this.audioVolumeType),this.minBitrate&&(o.minBitrate=this.minBitrate),this.maxBitrate&&(o.maxBitrate=this.maxBitrate),"RTC"===this.mode){var s=!1;window.__aliveLivePlayer.forEach((function(e){"RTC"===e.mode&&(s=!0,e._update({isVoip:!0}))})),o.isVoip=s}if(window.__aliveLivePusher=this,ft)return(0,C.Dv)("live-pusher","一个页面只能插入一个"),void this._triggerError({errMsg:"can insert only one pusher",errno:null===(i=wx.errno)||void 0===i?void 0:i.IS_LIVING_OR_CALLING_NOW});this.insertNativeView("insertXWebLivePusher",o,(function(e){if(/:ok/.test(e.errMsg))t.createdTimeStamp=Date.now(),ft=!0,t.publish("xWebLivePusherInserted",{viewId:t.viewId,data:t._getData(),pluginId:t.getPluginId()}),t.pictureInPictureMode&&t.publish("updateLivePusherPictureInPicture",{pusherId:t.viewId}),t._attached||t.removeXWebLivePusher();else{var n=e.errMsg?e.errMsg.replace("insertXWebLivePusher:",""):"",i={errMsg:n};void 0!==e.errno&&(i.errno=e.errno),t._triggerError(i),(0,C.Dv)("live-pusher",`渲染失败，错误原因: ${n}`)}}))},insertLivePusher:function(e){var t=this,n=this.waitingImage;!n||/^wxfile:\/\//.test(n)||/^(http|https):\/\//.test(n)||(n=this.getRealRoute(n),n=wx.getRealRoute(window.__route__,(this.ownerShadowRoot?"/":"")+n));var i,{filterImage:r,filterImageMd5:a}=this._resolveFilterImagePreset(),o=Object.assign({parentId:0,livePusherId:this.viewId,position:{width:e.width,height:e.height},pushUrl:this.url,mode:this._transformMode(this.mode),autopush:this.autopush,muted:this.muted,focusMode:this.autoFocus?0:1,orientation:this.orientation,beauty:this.beauty,whiteness:this.whiteness,aspect:this._transformAspect(this.aspect),backgroundImage:n,backgroundMute:this.backgroundMute,backgroundMD5:this.waitingImageHash,debug:this.debug,hide:this.hidden,enableCamera:this.enableCamera,audioQuality:this.audioQuality,needEvent:!!this._needEvent,needNetStatus:!!this._needNetStatus,zoom:this.zoom,devicePosition:this.devicePosition,fps:this.fps,needBGMEvent:!!this._needBGMEvent,zIndex:0,mirror:this.mirror,enableAGC:this.enableAgc,enableANS:this.enableAns,enableEarMonitor:!!ht&&this.enableEarMonitor,audioReverbType:this.audioReverbType,videoWidth:this.videoWidth,videoHeight:this.videoHeight,localMirror:this.localMirror,remoteMirror:null===this.remoteMirror?this.mirror:Boolean(this.remoteMirror),beautyStyle:this.beautyStyle,filterImage:r,filterImageMd5:a,needAudioVolume:!!this._needAudioVolume,pictureInPictureMode:Ye(this.pictureInPictureMode),voiceChangerType:this.voiceChangerType,customEffect:!!this.customEffect,skinWhiteness:this.skinWhiteness,skinSmoothness:this.skinSmoothness,faceThinness:this.faceThinness,eyeBigness:this.eyeBigness,enableVideoCustomRender:this.enableVideoCustomRender});if(null!==this.enableMic&&(o.enableMic=Boolean(this.enableMic)),this.audioVolumeType&&(o.audioVolumeType=this.audioVolumeType),this.minBitrate&&(o.minBitrate=this.minBitrate),this.maxBitrate&&(o.maxBitrate=this.maxBitrate),"RTC"===this.mode){var s=!1;window.__aliveLivePlayer.forEach((function(e){"RTC"===e.mode&&(s=!0,e._update({isVoip:!0}))})),this._isVoip=o.isVoip=s}if(window.__aliveLivePusher=this,ft)return(0,C.Dv)("live-pusher","一个页面只能插入一个"),void this._triggerError({errMsg:"can insert only one pusher",errno:null===(i=wx.errno)||void 0===i?void 0:i.IS_LIVING_OR_CALLING_NOW});this.insertNativeView("insertLivePusher",o,(function(e){if(/:ok/.test(e.errMsg))t.createdTimeStamp=Date.now(),ft=!0,t.publish("livePusherInserted",{pusherId:t.viewId,data:t._getData(),pluginId:t.getPluginId()}),t.pictureInPictureMode&&t.publish("updateLivePusherPictureInPicture",{pusherId:t.viewId}),t._attached||t.removeLivePusher();else{var n={errMsg:e.errMsg?e.errMsg.replace("insertLivePusher:",""):""};void 0!==e.errno&&(n.errno=e.errno),t._triggerError(n),(0,C.Dv)("live-pusher",`渲染失败，错误原因: ${e.errMsg}`)}}))},_removeSubscribe:function(){var e=this;["onLivePusherStateChange","onLivePusherNetStatusChagne","onLivePusherError"].forEach((function(t){return wx.clearGlobalListeners(t+e.viewId)}))},removeLivePusher:function(){var e=this;ft=!1,window.__aliveLivePusher=null,this.removeNativeView("removeLivePusher",{livePusherId:this.viewId},(function(t){if(!/:ok/.test(t.errMsg)){var n={errMsg:t.errMsg?t.errMsg.replace("removeXWebLivePusher:",""):""};void 0!==t.errno&&(n.errno=t.errno),e._triggerError(n),(0,C.Dv)("live-pusher",`移除失败，错误原因: ${t.errMsg}`)}e.publish("livePusherRemoved",{pusherId:e.viewId,pluginId:e.getPluginId()})}))},removeXWebLivePusher:function(){var e=this;ft=!1,this._inserting=!1,window.__aliveLivePusher=null,void 0!==this.viewId&&this.removeNativeView("removeXWebLivePusher",{viewId:this.viewId},(function(t){if(!/:ok/.test(t.errMsg)){var n={errMsg:t.errMsg?t.errMsg.replace("removeXWebLivePusher:",""):""};void 0!==t.errno&&(n.errno=t.errno),e._triggerError(n),(0,C.Dv)("live-pusher",`移除失败，错误原因: ${t.errMsg}`)}e.publish("xWebLivePusherRemoved",{viewId:e.viewId,pusherId:e.viewId,pluginId:e.getPluginId()})}))},urlChanged:function(e){this._attached&&this._update({pushUrl:e,autopush:this.autopush})},modeChanged:function(){this._attached&&this._update({mode:this._transformMode(this.mode),autopush:this.autopush})},autopushChanged:function(e){this._update({autopush:e})},mutedChanged:function(e){var t=this;this._isReady?(this._originalMuted=e,this.authorize((function(){t._update({muted:ot()||e})}))):this._delay("mutedChanged",e)},enableCameraChanged:function(e){var t=this;this._isReady?this.authorize((function(){t._update({enableCamera:e})})):this._delay("enableCameraChanged",e)},enableMicChanged:function(e){var t=this;if(this._isReady){var n=!ot()&&Boolean(e);this.authorize((function(){t._update({enableMic:n})}))}else this._delay("enableMicChanged",e)},enableAgcChanged:function(e){this._update({enableAGC:e})},enableAnsChanged:function(e){this._update({enableANS:e})},enableEarMonitorChanged:function(e){this._update({enableEarMonitor:e})},showFocusBox:function(e,t){var n=this;if(!t)return this._boxGestureTimer&&clearTimeout(this._boxGestureTimer),void(this._boxGestureTimer=setTimeout((function(){return n._boxGestureTimer=null,n.showFocusBox(e,!0)}),100));if(!(e&&e.touches.length>1)&&this.$.focusBox){this._focusBoxAnimationTimer&&(clearTimeout(this._focusBoxAnimationTimer),this.$.focusBox.$$.classList.toggle("wx-live-pusher-zoom-in-out",!1));var{clientX:i,clientY:r}=e.touches[0];this.$.focusBoxWrapper.$$.getBoundingClientRect((function(e){var t=i-e.left,a=r-e.top;n.$.focusBox.$$.getBoundingClientRect((function(e){n.$.focusBox.$$.setStyle(`\n            top: ${a-e.height/2}px,\n            left: ${t-e.width/2}px,\n          `),n.$.focusBox.$$.classList.toggle("wx-live-pusher-zoom-in-out",!0),n._focusBoxAnimationTimer=setTimeout((function(){n._focusBoxAnimationTimer=null,n.$.focusBox.$$.classList.toggle("wx-live-pusher-zoom-in-out",!1)}),1100)}))}))}},audioVolumeTypeChanged:function(e){e&&this._update({audioVolumeType:e})},audioReverbTypeChanged:function(e){this._update({audioReverbType:e})},autoFocusChanged:function(e){r.wZ&&(e?this.removeEventListener("touchstart",this._showFocusBox):this.addEventListener("touchstart",this._showFocusBox))},orientationChanged:function(e){-1===["horizontal","vertical"].indexOf(e)&&(e="vertical"),this._update({orientation:e})},beautyChanged:function(e){this._update({beauty:e})},whitenessChanged:function(e){this._update({whiteness:e})},aspectChanged:function(e){this._update({aspect:this._transformAspect(e)})},videoWidthChanged:function(){this._update({videoWidth:this.videoWidth,videoHeight:this.videoHeight})},videoHeightChanged:function(){this._update({videoWidth:this.videoWidth,videoHeight:this.videoHeight})},minBitrateChanged:function(){this._update({minBitrate:this.minBitrate,maxBitrate:this.maxBitrate})},maxBitrateChanged:function(){this._update({minBitrate:this.minBitrate,maxBitrate:this.maxBitrate})},waitingImageChanged:function(){var e=this.waitingImage;!e||/^wxfile:\/\//.test(e)||/^(http|https):\/\//.test(e)||(e=this.getRealRoute(e),e=wx.getRealRoute(window.__route__,(this.ownerShadowRoot?"/":"")+e)),this._update({backgroundImage:e,backgroundMD5:this.waitingImageHash})},waitingImageHashChanged:function(){this.waitingImageChanged()},debugChanged:function(e){r.wZ||this._update({debug:e})},audioQualityChanged:function(e){this._update({audioQuality:e})},watermarkImageChanged:function(){},watermarkImageHashChanged:function(){},watermarkPositionChanged:function(){},fpsChanged:function(e){this._update({fps:e})},_localMirrorChanged:function(e){this._update({localMirror:e})},_remoteMirrorChanged:function(e){this._update({remoteMirror:e})},_beautyStyleChanged:function(e){this._update({beautyStyle:e})},_filterChanged:function(e){var{filterImage:t,filterImageMd5:n}=this._resolveFilterImagePreset(e);this._update({filterImage:t,filterImageMd5:n})},_skinWhitenessChanged:function(e){this._update({skinWhiteness:e})},_skinSmoothnessChanged:function(e){this._update({skinSmoothness:e})},_faceThinnessChanged:function(e){this._update({faceThinness:e})},_eyeBignessChanged:function(e){this._update({eyeBigness:e})},backgroundMuteChanged:function(e){(0,C._0)("<live-pusher>","background-mute",""),this._update({backgroundMute:e})},getContextId:function(){return this.viewId},_resolveFilterImagePreset:function(e){var t=dt[e||this.filter],n="",i="";return t&&(n=t.path,i=t.md5),{filterImage:n,filterImageMd5:i}},getCurTimeFmt:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),i=e.getSeconds(),r=e.getMilliseconds();return`${t<10?"0"+t:t}:${n<10?"0"+n:n}:${i<10?"0"+i:i}.${r<10?"00"+r:r<100?"0"+r:r}`},pictureInPictureModeChanged:function(e){var t=Ye(e);this._update({pictureInPictureMode:t})},voiceChangerTypeChanged:function(e){this._update({voiceChangerType:e})},getBox:function(e){var t=this._getBox();return(null!=e?e:this.enableVideoCustomRender)&&(t.left=-t.width),t},enableVideoCustomRenderChanged:function(e){var t=this.getBox(e);this._update({enableVideoCustomRender:e,position:t})},_didFailToEnableXWebRender:function(){return!1},_shouldEnablePermCheckAndGetTask:function(){return{indices:[706],reporterKey:"disableLivePusher",errMsg:"接口系统维护中"}},onLivePusherEvent:function(e){var t=e.detail,{errCode:n,errMsg:i}=t;if(1001===n){var a=this._transformMode(this.mode),o=this._transformAspect(this.aspect),s=[a,this.autopush?2:1,this.minBitrate||200,this.maxBitrate||1e3,o].join(";");this.reportMediaComponentStatus({evtId:et,evtNote:s,src:this.url})}if(this.reportMediaComponentStatus({evtId:62,evtNote:n,src:this.url}),r.wZ){if(1020!==n&&2005!==n&&2012!==n&&i){var l=`[${this.getCurTimeFmt()}] ${i}`;console.log("[live-pusher] debug content",l)}if(-9999999===n)return}this.triggerEvent("statechange",{code:n,message:i})},onLivePusherNetStatus:function(e){var t=e.detail.info||{};this.reportMediaComponentStatus({evtId:63,evtNote:Object.keys(t).map((function(e){return t[e]})).join(";"),src:this.url}),r.wZ&&console.log("[live-pusher] metrics content",Ze(t)),this.triggerEvent("netstatus",{info:{videoBitrate:t.VIDEO_BITRATE,audioBitrate:t.AUDIO_BITRATE,videoFPS:t.VIDEO_FPS,videoGOP:t.VIDEO_GOP,netSpeed:t.NET_SPEED,netQualityLevel:t.NET_QUALITY_LEVEL,netJitter:t.NET_JITTER,videoWidth:t.VIDEO_WIDTH,videoHeight:t.VIDEO_HEIGHT,videoCache:t.VIDEO_CACHE,audioCache:t.AUDIO_CACHE}})},onLivePusherBGMStart:function(e){e.detail;this.triggerEvent("bgmstart",{})},onLivePusherBGMProgress:function(e){var t=e.detail;this.triggerEvent("bgmprogress",{progress:t.progress,duration:t.duration})},onLivePusherBGMComplete:function(e){var t=e.detail;this.triggerEvent("bgmcomplete",{errCode:t.errCode})},onLivePusherError:function(e){var t=e.detail;this.reportMediaComponentStatus({evtId:64,evtNote:t.errCode,src:this.url}),this.triggerEvent("error",{errCode:t.errCode,errMsg:t.errMsg,data:t.data})},onLivePusherAudioVolume:function(e){var t=e.detail;this.triggerEvent("audiovolumenotify",{volume:t.volume})},onEnterLivePusherPictureInPicture:function(e){e.detail;this.triggerEvent("enterpictureinpicture",{})},onLeaveLivePusherPictureInPicture:function(e){e.detail;this.triggerEvent("leavepictureinpicture",{})},onSheetModeWindowStateChangedEvent:function(e){"fullPage"===e.detail.state&&(this.muted=this._originalMuted,this.enableMicChanged(this.enableMic))}}).registerComponent();const mt=gt;__wxConfig.onReady((function(){r.wZ&&wx.publish("xWebLivePusherSupported",{canInsert2XWeb:!0})}));var Et=n(3783),yt=n(26),Tt={start:0,startGetOverflowRect:0,endGetOverflowRect:0,startHitTest:0,endHitTest:0,startCheckParent:0,endCheckParent:0,end:0},bt=Date.now();function Ct(e){return St.apply(this,arguments)}function St(){return(St=s()((function*(e){return new Promise((function(t){return e.getBoundingClientRect(t)}))}))).apply(this,arguments)}function At(e,t,n){return It.apply(this,arguments)}function It(){return It=s()((function*(e,t,n){return new Promise((function(i){return e.getNodeFromPoint(t,n,i)}))})),It.apply(this,arguments)}function Pt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=s()((function*(e,t){return new Promise((function(n){return e.getComputedStyle(t,n)}))}))).apply(this,arguments)}function Rt(e){for(var t=0;t<e.length;t++)for(var n=t+1;n<e.length;n++)e[t]===e[n]&&(e.splice(n,1),n--);return e}function xt(){return xt=s()((function*(e){var t=-1,n=-1,r=-1,a=-1,o=[],s=i.Z.glassEasel,l=s.ElementIteratorType.ComposedDescendantsRootFirst;s.ElementIterator.create(e.shadowRoot,l).forEach((function(e){return o.push(e),!0})),o.push(e);for(var u=0,c=o.length;u<c;u++){var d=o[u];if(d.$$){var{left:p,width:h,top:f,height:_}=yield Ct(d.$$),v=p+h,g=f+_;(-1===t||p<t)&&(t=p),(-1===n||v>n)&&(n=v),(-1===r||f<r)&&(r=f),(-1===a||g>a)&&(a=g)}}return{left:t,right:n,top:r,bottom:a}})),xt.apply(this,arguments)}function Ot(){return Ot=s()((function*(e,t,{width:n,height:i,left:r,top:a}){for(var o=!1,s=[yield At(e,r+n/4,a+i/4),yield At(e,r+n*(3/4),a+i/4),yield At(e,r+n/4,a+i*(3/4)),yield At(e,r+n*(3/4),a+i*(3/4))],l=(Math.random(),0),u=s.length;l<u;l++){s[l]!==t.$$&&(o=!0)}return{isCovered:o,coverImages:Rt([]),coverImagesInfo:{}}})),Ot.apply(this,arguments)}function Nt(){return Nt=s()((function*(e,t){var n=yield Ct(t.$$),{width:r,height:a}=n;Tt.startGetOverflowRect=Date.now();var{left:o,right:s,top:l,bottom:u}=yield function(e){return xt.apply(this,arguments)}(t),c={width:Math.max(n.left+n.width,s)-Math.min(n.left,o),height:Math.max(n.top+n.height,u)-Math.min(n.top,l)};Tt.endGetOverflowRect=Date.now(),Tt.startHitTest=Date.now();var{isCovered:d,coverImages:p,coverImagesInfo:h}=yield function(e,t,n){return Ot.apply(this,arguments)}(e,t,n);Tt.endHitTest=Date.now(),Tt.startCheckParent=Date.now();var f="",_=1,v=[],g=i.Z.glassEasel,m=g.ElementIteratorType.ComposedAncestors;g.ElementIterator.create(t.shadowRoot,m).forEach((function(e){return v.push(e),!0})),v.push(t);for(var E=0,y=v.length;E<y;E++){var T=v[E];if(T.$$){var b=yield Pt(e,T.$$);T.$$===t.$$&&(f=b.backgroundColor);var C=parseFloat(b.opacity);isNaN(C)||(_*=C)}}Tt.endCheckParent=Date.now();var S=[];return p.length&&(S=p.map((function(e){var t=h[e]||{},{opacity:n}=t,{width:i,height:r}=t;return(isNaN(n)||!n&&0!==n)&&(n=1),{imageUrl:e,imageId:`${window.__webviewId__||0}-${bt++}-${wx.generateFormId()}`,opacity:n,width:i,height:r}}))),{renderer:"skyline",text:"",rect:{width:r,height:a},overflowRect:c,route:window.__route__,isCovered:d,coverImages:p,coverImageInfos:S,backgroundColor:f,opacity:_}})),Nt.apply(this,arguments)}function Dt(){return Dt=s()((function*(e){try{Tt.start=Date.now();var t=e.getBackendContext();if(!t)return{renderer:"skyline"};var n=yield function(e,t){return Nt.apply(this,arguments)}(t,e);Tt.end=Date.now();var i=Tt.end-Tt.start,r=Tt.endGetOverflowRect-Tt.startGetOverflowRect,a=Tt.endHitTest-Tt.startHitTest,o=Tt.endCheckParent-Tt.startCheckParent;return Reporter.reportKeyValue({key:"MiniprogramLiveActivityButtonDoEvilCheck",value:[n.renderer,n.text,n.route,n.isCovered,~~(100*n.opacity),n.suspectedFloatingLayer,"",i,r,a,o,0].join(",")}),n}catch(e){return{renderer:"skyline"}}})),Dt.apply(this,arguments)}var kt=function(){var e={};return function(t){var n,i,r;if(void 0!==e[t])return e[t];if(null!==(n=__wxConfig.appContactInfo)&&void 0!==n&&null!==(i=n.passThroughInfo)&&void 0!==i&&null!==(r=i.wxa_mgr)&&void 0!==r&&r.mgr_list){var a=__wxConfig.appContactInfo.passThroughInfo.wxa_mgr.mgr_list.find((function(e){return e.id===t}));return a?(e[a.id]=a.value,a.value):void 0}}}();const Lt=g("button").behavior(v.ZP).behavior(y.Z).behavior(Et.Z).behavior(yt.Z).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()},properties:{type:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(e){this.classList.contains(this._buttonType,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA)&&this.toggleNodeClass(this._buttonType,!1,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA);var t="wx-button-type-none";switch(e){case"primary":t="wx-button-type-primary";break;case"warn":t="wx-button-type-warn";break;case"default":t="wx-button-type-default"}this._buttonType=t,this.toggleNodeClass(this._buttonType,!0,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA)}},size:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"default",public:!0,observer:function(e){this.classList.contains(this._buttonSize,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA)&&this.toggleNodeClass(this._buttonSize,!1,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA);var t="wx-button-size-normal";"mini"===e&&(t="wx-button-size-mini"),this._buttonSize=t,this.toggleNodeClass(this._buttonSize,!0,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA)}},plain:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:function(e){this.toggleNodeClass("wx-button-plain",e,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA)}},loading:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:function(e){this.toggleNodeClass("wx-button-loading",e,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA)}},disabled:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:function(e){this.toggleNodeClass("wx-button-disabled",e,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA)}},formType:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},openType:{value:"",type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},appParameter:{value:"",type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},launchAppid:{value:"",type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},withCredentials:{value:!0,type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0},lang:{value:"en",type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},hoverStartTime:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:20,public:!0},hoverStayTime:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:70,public:!0},sessionFrom:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"wxapp",public:!0},businessId:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},sendMessageTitle:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},sendMessagePath:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},sendMessageImg:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},showMessageCard:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},categoryId:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0},needPhoneNumber:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},activityType:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0},phoneNumberNoQuotaToast:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0}},created:function(){this._defaultHoverClass="button-hover",this._isOpenTypeInvalid=!1,this._buttonType="wx-button-type-none",this._buttonSize="wx-button-size-normal"},attached:function(){if(this.toggleNodeClass(this._buttonType,!0,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA),this.toggleNodeClass(this._buttonSize,!0,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA),this.ownerShadowRoot){var e=this.getHostDomain();""!==e&&"/"!==e&&"//"!==e&&["getPhoneNumber","getRealtimePhoneNumber","getUserInfo","realnameAuth","getRealnameAuthInfo","authorizeWeRunWeeklyData","agreePrivacyAuthorization"].indexOf(this.openType)>-1&&(this._isOpenTypeInvalid=!0,console.error(`<button/> 中的 open-type 为 ${this.openType} 特性不能在插件中使用。`))}if("getPhoneNumber"===this.openType||"getRealtimePhoneNumber"===this.openType){var t=!1,n=!1;"android"===__wxConfig.platform?(__wxConfig.clientVersion>=671096373&&(t=!0),__wxConfig.expt&&"1"===__wxConfig.expt.clicfg_appbrand_android_use_fake_native_get_phone_number&&(n=!0)):"ios"===__wxConfig.platform&&(__wxConfig.clientVersion>=402660916&&(t=!0),__wxConfig.expt&&"1"===__wxConfig.expt.clicfg_appbrand_ios_use_fake_native_get_phone_number&&(n=!0)),t&&n&&(wx.preloadMiniProgramEnv({type:"app",success:function(e){},fail:function(e){}}),wx.predownloadMiniProgramPackage({appId:"wx6bd2fb149a93a9c5",scene:0,success:function(e){},fail:function(e){}}),wx.batchGetContact({appIds:["wx6bd2fb149a93a9c5"],success:function(e){},fail:function(e){}}))}},listeners:{tap:"_preventTapOnDisabled",longtap:"_preventTapOnDisabled",canceltap:"_preventTapOnDisabled","this.tap":"_onThisTap"},methods:{_preventTapOnDisabled:function(){if(this.disabled)return!1},getRouteDomain:function(e){var t=e.match(/^[-+a-zA-Z0-9]+:\/\//),n=e.match(/(^|\/)__[-+a-zA-Z0-9]+__\//),i="";if(t){var r=t[0];if("plugin://"===r){var a=r.length,o=e.indexOf("/",a);if(o>=0){var s,l,u=e.slice(a,o);i=(null===(s=__wxConfig.plugins)||void 0===s||null===(l=s[u])||void 0===l?void 0:l.provider)||u}}else if("plugin-private://"===r){var c=r.length,d=e.indexOf("/",c);if(d>=0)i=e.slice(c,d)}else"wx://"===r&&(i="//")}if(n){var p=n[0];if(p.endsWith("__plugin__/")){var h=e.indexOf(p)+p.length,f=e.indexOf("/",h);if(f>=0)i=e.slice(h,f)}else p.endsWith("__wx__/")&&(i="//")}return i},_onThisTap:function(e){var t=this;if("getPhoneNumber"===this.openType?wx.reportGetPhoneNumber("TapButton_Skyline",!1):"getRealtimePhoneNumber"===this.openType&&wx.reportGetPhoneNumber("TapButton_Skyline",!0),i.Z.glassEaselAdapter.checkTapMark(e._userTap)){if("submit"===this.formType?(e._$originalEvent._formId||(e._$originalEvent._formId=wx.generateFormId(),e._$originalEvent._formPluginId=this.getPluginId()),this.triggerEvent("formSubmit",{formId:e._$originalEvent._formId,formPluginId:e._$originalEvent._formPluginId},{bubbles:!0})):"reset"===this.formType&&this.triggerEvent("formReset",void 0,{bubbles:!0}),(0,r.Av)()&&this.openType)return this.checkSinglePageModeWithHighlight();if(!this._isOpenTypeInvalid&&!this._lock){this._lock=!0,setTimeout((function(){t._lock=!1}),1e3);var n=[];if("string"==typeof this.openType)this.openType.split("|").forEach((function(e){if(e&&!n.includes(e))if("getPhoneNumber"===e||"getRealtimePhoneNumber"===e){if(n.includes("getPhoneNumber")||n.includes("getRealtimePhoneNumber"))return;n.push(e)}else n.push(e)}));if("contact"===this.openType){var a=this.getHostDomain(),o=""!==a&&"/"!==a&&"//"!==a,s={pageId:this.getPageId()};wx.enterContact({sessionFrom:this.sessionFrom,businessId:this.businessId,sendMessageTitle:this.sendMessageTitle,sendMessagePath:this.sendMessagePath,sendMessageImg:this.sendMessageImg,showMessageCard:this.showMessageCard,complete:function({path:e,query:n}){o&&e&&t.getRouteDomain(e)!==a.split("/")[0]?t.triggerEvent("contact",{path:"",query:{}}):t.triggerEvent("contact",{path:e,query:n})}},s)}else if("subscribe"===this.openType)wx.subscribeMessage({success:function(e){t.triggerEvent("subscribe",e)},fail:function(e){t.triggerEvent("subscribe",e)}});else if("shareTimeLine"===this.openType){var l=this.getPluginId();wx.getPluginPermissionBytes(l,"enableShareTimeLine",(function(e){e[0]?t.publish("tapShareTimeLineButton",{detail:{},target:{id:t.id,dataset:t.dataset,offsetTop:t.$$.offsetTop,offsetLeft:t.$$.offsetLeft}}):console.warn("For developer:plugin has no permission to share timeline")}))}else if("shareToChatroom"===this.openType||"share"===this.openType)this.publish("tapShareButton",{detail:{openType:this.openType},target:{id:this.id,dataset:this.dataset,offsetTop:this.$$.offsetTop,offsetLeft:this.$$.offsetLeft}});else if("handoff"===this.openType)this.publish("tapHandoffButton");else if("realnameAuth"===this.openType)this.invoke("openRealnameAuth",{categoryId:this.categoryId},(function(e){t.triggerEvent("realnameauth",e)}));else if("getRealnameAuthInfo"===this.openType){var u=1;this.needPhoneNumber&&(u+=2),this.invoke("openRealnameAuth",{categoryId:this.categoryId,authType:u},(function(e){t.triggerEvent("getrealnameauthinfo",e)}))}else if("launchApp"===this.openType)wx.getLaunchAppInfo({success:function(e){var n,i=e.sceneHistory,r=e.appId,a=!1,o="launchApplication",s=1!==kt(833),l=1!==kt(834);if(i.forEach((function(e){1036===e&&s?(a=!0,o="launchApplication",n=t.launchAppid):1069===e&&l?(a=!0,o="navigateBackApplication"):1089!==e&&1090!==e&&1038!==e&&1041!==e&&1001!==e&&1131!==e&&1187!==e&&(a=!1)})),a){var u={appId:n||r,success:function(e){return t.triggerEvent("launchapp",e)},fail:function(e){t.publish("tapAnyWhere",{timeStamp:Date.now()}),t.triggerEvent("error",e)}};"navigateBackApplication"===o?u.extraData=t.appParameter:u.messageExt=t.appParameter,wx[o](u)}else t.triggerEvent("error",{errMsg:"invalid scene"})},fail:function(){t.triggerEvent("error",{errMsg:"can't get scene history"})}});else if("openSetting"===this.openType)wx.openSetting({success:function(e){e.authSetting=e.authSetting.reduce((function(e,t){return e[t.scope]=1===t.state,e}),{})},complete:function(e){t.triggerEvent("opensetting",e)}});else if("feedback"===this.openType)this.invoke("private_openUrl",{url:`https://mp.weixin.qq.com/wxawap/wapreportwxadevlog?action=complain_feedback&appid=${window.__appId__}&from=3#wechat_redirect`,isNativeStyle:!0},(function(){}));else if("authorizeWeRunWeeklyData"===this.openType)wx.authorizeWeRunWeeklyData({withCredentials:this.withCredentials,lang:this.lang,complete:function(e){t.triggerEvent("authorizewerunweeklydata",{errMsg:e.errMsg})}});else if("chooseAvatar"===this.openType)wx.chooseAvatar({pluginId:this.getPluginId(),success:function(e){t.triggerEvent("chooseavatar",{avatarUrl:e.avatarUrl})},fail:function(e){(0,C.Dv)("button",e.errMsg)}});else if("liveActivity"===this.openType){var c=this.activityType;if(!c)return;var d=new Promise((function(e){return function(e){return Dt.apply(this,arguments)}(t).then(e)})),p=new Promise((function(e){return setTimeout(e,1e3,null)}));Promise.race([d,p]).then((function(e){var n;wx.operateWXData("webapi_getwxanotifycode",{type:c,env_check:JSON.stringify(e||{renderer:"skyline"}),success:function(e){var n=e.init_code||"";t.triggerEvent("createliveactivity",{code:n})},fail:function(e){var n,i;(0,C.Dv)("button",null==e||null===(n=e.errMsg)||void 0===n?void 0:n.replace("webapi_getwxanotifycode","[openType=liveActivity]")),t.triggerEvent("error",{errMsg:null==e||null===(i=e.errMsg)||void 0===i?void 0:i.replace("webapi_getwxanotifycode","[openType=liveActivity]")})}}),null!=e&&null!==(n=e.coverImageInfos)&&void 0!==n&&n.length&&wx.publish("appCardsCoverImages",{coverImageInfos:e.coverImageInfos})})).catch((function(e){}))}else{if("agreePrivacyAuthorization"===this.openType||n.includes("agreePrivacyAuthorization")){var h=this.$$.__wxElement.id;if(h)wx.privacyButton({method:"addHasTapButtonId",id:h,complete:function(){wx.privacyButton({method:"agreePrivacyAuthorization",event:"agree",env_check:JSON.stringify({renderer:"skyline"})}),t.triggerEvent("agreeprivacyauthorization",{errMsg:"agreePrivacyAuthorization:ok"})}});else{wx.privacyButton({method:"agreePrivacyAuthorization",event:"agree",env_check:JSON.stringify({renderer:"skyline"})}),this.triggerEvent("agreeprivacyauthorization",{errMsg:"agreePrivacyAuthorization:ok"})}}if("getPhoneNumber"===this.openType||"getRealtimePhoneNumber"===this.openType||n.includes("getPhoneNumber")||n.includes("getRealtimePhoneNumber"))wx.getPhoneNumber({isrealtime:"getRealtimePhoneNumber"===this.openType||n.includes("getRealtimePhoneNumber"),phoneNumberNoQuotaToast:this.phoneNumberNoQuotaToast,complete:function(e){"getRealtimePhoneNumber"===t.openType||n.includes("getRealtimePhoneNumber")?t.triggerEvent("getrealtimephonenumber",e.public):t.triggerEvent("getphonenumber",e.public)}});else if("getUserInfo"===this.openType||n.includes("getUserInfo")){var f,_;wx.getUserInfo({withCredentials:this.withCredentials,lang:this.lang,version:(null===(f=wx)||void 0===f||null===(_=f.version)||void 0===_?void 0:_.version)||"",complete:function(e){t.triggerEvent("getuserinfo",e)}})}}}}}}}).registerComponent();var Mt=g("navigator").behavior(v.ZP).behavior(y.Z).behavior(Et.Z).behavior(yt.Z).definition({is:"navigator",template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()},properties:{url:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},delta:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:1},redirect:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},target:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"self",public:!0},openType:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"navigate",public:!0},hover:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0},hoverStayTime:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:600,public:!0},appId:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},path:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},shortLink:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},extraData:{type:i.Z.glassEasel.NormalizedPropertyType.Object,value:"",public:!0},version:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"release",public:!0},scene:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:1037,public:!0},sceneNote:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0}},listeners:{tap:"navigateTo","this.tap":"navigateTo"},created:function(){this._defaultHoverClass="navigator-hover"},attached:function(){this._lock=!1},methods:{error:function(e){console.error(e),this.triggerEvent("fail",e),this.triggerEvent("complete",e)},navigateInMiniPrograms:function(){var e=this;switch(this.openType){case"navigate":var t={appId:this.appId,path:this.path,shortLink:this.shortLink,extraData:this.extraData,envVersion:this.version,success:function(t){e.triggerEvent("success",t)},fail:function(t){e.triggerEvent("fail",t)},complete:function(t){e.triggerEvent("complete",t)}};return 7===__wxConfig.appType&&(t.scene=this.scene,t.sceneNote=this.sceneNote),void wx.navigateToMiniProgram(t);case"exit":return void wx.exitMiniProgram();default:this.error(`<navigator/> using invalid openType ${this.openType} with miniProgram target`)}},navigateTo:function(e){var t=this;if((0,r.Av)())return this.checkSinglePageModeWithHighlight((function(){var e;return"miniProgram"!==t.target&&["navigate","navigateTo","redirect","redirectTo","switchTab"].includes(t.openType)&&(e={type:t.openType,url:t.url,_relativePath:t.getCurrentRoute()}),e}));if("miniProgram"===this.target){if("navigate"===this.openType&&!this.appId&&!this.shortLink)return void this.error("<navigator/> should have app-id or short-link attribute when using navigate with miniProgram target")}else if("navigateBack"!==this.openType&&!this.url)return void this.error("<navigator/> should have url attribute when using navigateTo, redirectTo or switchTab");if(!this._lock)if(this._lock=!0,setTimeout((function(){t._lock=!1}),1e3),"miniProgram"!==this.target){var n=this.getCurrentRoute(),i={success:function(e){return t.triggerEvent("success",e)},fail:function(e){return t.triggerEvent("fail",e)},cancel:function(e){return t.triggerEvent("cancel",e)},complete:function(e){return t.triggerEvent("complete",e)}};if(this.redirect)wx.redirectTo({url:this.url,_relativePath:n,...i});else switch(this.openType){case"navigate":case"navigateTo":return void wx.navigateToWithRelatedInfo({url:this.url,_relatedInfo:e._relatedInfo,_relativePath:n,...i});case"redirect":case"redirectTo":return void wx.redirectTo({url:this.url,_relativePath:n,...i});case"switchTab":return void wx.switchTab({url:this.url,_relativePath:n,...i});case"navigateBack":return void wx.navigateBack({delta:this.delta,...i});case"reLaunch":return void wx.reLaunch({url:this.url,_relativePath:n,...i});default:this.error(`<navigator/> with invalid openType ${this.openType}`)}}else this.navigateInMiniPrograms()}}}).registerComponent();const Bt=Mt;var Ft=n(5134),Vt={};(0,Ft.L)("joinVoIPChat",(function(e,t){Vt[t]||h.Q.trigger(t,"onJoinVoIPChat",e),Vt[t]=!0})),(0,Ft.L)("exitVoIPChat",(function(e,t){Vt[t]&&h.Q.trigger(t,"onExitVoIPChat",e),Vt[t]=!1}));var Wt=g("voip-room").behavior(v.ZP).behavior(y.Z).behavior(A.Z).behavior(I.N).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(t,n,i){i("texture",{},(function(t,n){n&&e.i(t,"texture"),n&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%;")}),(function(e){})),i("view",{},(function(t,n){n&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden;")}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:{}}},function(t){return e[t]}}()},behaviors:["base","positioning-target"],properties:{openid:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"openidChanged"},mode:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"camera",public:!0},devicePosition:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"front",public:!0,observer:"devicePositionChanged"},objectFit:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"fill",public:!0,observer:"objectFitChanged"},_viewId:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0}},created:function(){this._createdTimeStamp=Date.now(),this._viewId=this.getPositioningId(),this._rect={x:0,y:0,width:0,height:0},null!==this.$.texture.$$&&this.$.texture.$$.setAttributes({type:"voiproom",viewId:this._viewId})},attached:function(){this._attachedCb()},detached:function(){this._detachedCb()},methods:{_attachedCb:function(){this._attached=!0,this._onJoinId=this.onPageEvent("onJoinVoIPChat",this.onJoin.bind(this)),this._onExitId=this.onPageEvent("onExitVoIPChat",this.onExit.bind(this)),Vt[this.getPageId()]&&this._insert()},onExit:function(){this._remove()},onJoin:function(){this._insert()},_insert:function(){var e=this;null!==this.$.texture.$$&&this.$.texture.$$.getBoundingClientRect((function(t){e._rect=t;var n=e._args={viewId:e._viewId,openId:e.openid,position:{width:e._rect.width,height:e._rect.height},objectFit:e.objectFit,type:e.mode,config:{camera:e.devicePosition}};e.invoke("insertXWebVoIPView",n,(function(t){console.log("insertVoIPView callback",t),/:ok/.test(t.errMsg)&&(e._hasInsert=!0)}))}))},_update:function(e={},t){var n=this;if(this._attached&&this._hasInsert){var i=Object.assign({},this._args,e);this.invoke("updateXWebVoIPView",i,(function(e){/:ok/.test(e.errMsg)&&(n._args=i,t&&t())}))}},_remove:function(){if(this._hasInsert){this._hasInsert=!1;this.invoke("removeXWebVoIPView",{viewId:this._viewId,openId:this.openid})}},_detachedCb:function(){this._attached=!1,this._remove(),this.offPageEvent("onJoinVoIPChat",this._onJoinId),this.offPageEvent("onExitVoIPChat",this._onExitId)},openidChanged:function(e){this._update({openId:e})},devicePositionChanged:function(e){"front"!==e&&"back"!==e||this._update({config:{camera:e}})},objectFitChanged:function(e){"fill"!==e&&"contain"!==e||this._update({objectFit:e})}}}).registerComponent();const Ut=Wt;var $t=n(5566),Gt=function(){var e;if(r.wZ)return!0;if(!r.cj)return!1;var t=null===(e=__wxConfig.expt)||void 0===e?void 0:e.clicfg_canvas_use_magic_brush;return void 0!==t&&"1"===t},Zt="insertCanvas",Ht="updateCanvas",zt="removeCanvas",jt="insertWebGLCanvas",Yt="updateWebGLCanvas",Kt="removeWebGLCanvas";r.wZ&&(Zt="insertXWebCanvas",Ht="updateXWebCanvas",zt="removeXWebCanvas",jt="insertXWebWebGLCanvas",Yt="updateXWebWebGLCanvas",Kt="removeXWebWebGLCanvas");var Xt=g("canvas").behavior(v.ZP).behavior(y.Z).behavior(He.Z).behavior(ve.Z).behavior(A.Z).behavior(I.N).definition({is:"canvas",template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(t,i,r,a){var o="webgl"===n.embedType?1:0;a(o,(function(t,n,i){1===o&&i("view",{},(function(t,n){n&&e.i(t,"backlayer"),n&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: none;")}),(function(e){}))})),r("texture",{},(function(t,n){n&&e.i(t,"texture"),n&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%;")}),(function(e){}))},B:{}}},function(t){return e[t]}}()},properties:{type:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(){this.isSkiaCanvas()?this.embedType="canvas":this.embedType="webgl",null!==this.$.texture.$$&&this.$.texture.$$.setAttributes({type:this.embedType})}},viewId:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0},embedType:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"canvas"},renderWidth:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:300,observer:"renderWidthChanged"},renderHeight:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:150,observer:"renderHeightChanged"}},created:function(){this._created=!0;var e,t,n=this.getPositioningId();(this.viewId=n,null!==this.$.texture.$$)&&(this.$.texture.$$.setAttributes({viewId:n}),null===(e=(t=this.$.texture.$$).setTouchEventNeedsLocalCoords)||void 0===e||e.call(t));this._insertSuccess=!1,this._detached=!1,r.gm&&(0,C.Dv)("canvas","开发者工具暂未支持 Skyline 下的 canvas 组件调试，请先到真机上预览调试。")},attached:function(){var e=this;this._attached=!0,this.isWebGL()&&(this._webGLSetOpaqueBackgroundListener=this.onPageEvent("WebGLSetOpaqueBackground",(function(t){var n;t.canvasNumber===e._canvasNumber&&(null!==(n=e.$.backlayer)&&void 0!==n&&n.$$&&(e.$.backlayer.$$.updateStyle?e.$.backlayer.$$.updateStyle("display: flex; background-color: #000"):e.$.backlayer.$$.appendStyle("display: flex; background-color: #000")))})))},detached:function(){this._webGLSetOpaqueBackgroundListener&&this.offPageEvent("WebGLSetOpaqueBackground",this._webGLSetOpaqueBackgroundListener),this._detached=!0,!0===this._insertSuccess&&this._removeCanvas()},methods:{_removeCanvas:function(){var e=this;this.isEjectaCanvas()||this.isMagicBrushCanvas()?this.removeNativeView(Kt,{canvasId:this.viewId},(function(){e.publish("webGLRemoved",{canvasNumber:e._canvasNumber})})):this.isSkiaCanvas()&&(this.publish("canvasRemoved",{canvasNumber:this.viewId}),this.removeNativeView(zt,{viewId:this.viewId,canvasId:this._canvasNumber},(function(e){JSON.stringify(e)})))},_initNativeView:function(e){var t=this;if(!this._detached){var n=this.getNodeId();if(this.isEjectaCanvas()||this.isMagicBrushCanvas()){0===e.width&&(e.width=1),0===e.height&&(e.height=1);var i={canvasId:this.viewId,parentId:0,position:e,gesture:!0,data:{canvasNumber:this.viewId},transparentBackground:!["webgl","webgl2"].includes(this.type),magicBrush:this.isMagicBrushCanvas()};this.insertNativeView(jt,i,(function(i){/:ok/.test(i.errMsg)&&(t._insertSuccess=!0,t._detached&&t._removeCanvas(),t.publish("canvasInserted",{type:t.type,isSkiaCanvas:t.isSkiaCanvas(),isBindingCanvas:t.isBindingCanvas(),isMagicBrushCanvas:t.isMagicBrushCanvas(),isEjectaCanvas:t.isEjectaCanvas(),canvasId:t.viewId,canvasNumber:t.viewId,width:e.width,height:e.height,pluginId:t.getPluginId(),nodeId:n,isXrFrame:t.isXrFrame,renderHeight:t.renderHeight,renderWidth:t.renderWidth}))}))}else this.isSkiaCanvas()?this.insertNativeView(Zt,{parentId:0,viewId:this.viewId,canvasId:this.viewId,position:e,data:JSON.stringify({}),hide:this.hidden,skia:!0},(function(i){JSON.stringify(i),/:ok/.test(i.errMsg)&&(t._insertSuccess=!0,t._detached&&t._removeCanvas(),t.publish("canvasInserted",{type:t.type,isSkiaCanvas:t.isSkiaCanvas(),isMagicBrushCanvas:t.isMagicBrushCanvas(),isBindingCanvas:t.isBindingCanvas(),isEjectaCanvas:t.isEjectaCanvas(),canvasId:t.canvasId,viewId:t.viewId,canvasNumber:t.viewId,width:e.width,height:e.height,pluginId:t.getPluginId(),nodeId:n,compPath:t.ownerShadowRoot?t.ownerShadowRoot.getHostNode().is.replace(/^plugin-private:\/\/wx[^/]+\//,""):"",isXrFrame:t.isXrFrame,renderHeight:t.renderHeight,renderWidth:t.renderWidth}))})):console.error('Do not support legacy 2d canvas, please use the new one by adding type="2d".')}},_updatePosition:function(e){this.hidden||this._detached||(this.publish("canvasUpdated",{canvasNumber:this.viewId,width:e.width,height:e.height,renderWidth:this.renderWidth,renderHeight:this.renderHeight}),this.isEjectaCanvas()||this.isMagicBrushCanvas()?(0===e.width&&(e.width=1),0===e.height&&(e.height=1),this._updateWebGLCanvas({canvasId:this._canvasNumber,position:e},$t.Z)):this.isSkiaCanvas()&&(this.publish("skiaCanvasSizeChangedBinding",{canvasNumber:this.viewId,pluginId:this.getPluginId(),nodeId:this.getNodeId(),position:e}),this._updateCanvas({canvasId:this.viewId,viewId:this.viewId,position:e},$t.Z)))},_hiddenChanged:function(e){this.isEjectaCanvas()||this.isMagicBrushCanvas()?this._updateWebGLCanvas({canvasId:this.viewId,hide:e},$t.Z):this.isSkiaCanvas()&&this._updateCanvas({canvasId:this.viewId,viewId:this.viewId,hide:e},$t.Z)},renderWidthChanged:function(e,t){this._isReady?this.publish("canvasUpdated",{canvasNumber:this.viewId,renderWidth:e,renderHeight:this.renderHeight}):this._deferred.push({callback:"renderWidthChanged",args:[e,t]})},renderHeightChanged:function(e,t){this._isReady?this.publish("canvasUpdated",{canvasNumber:this.viewId,renderWidth:this.renderWidth,renderHeight:e}):this._deferred.push({callback:"renderHeightChanged",args:[e,t]})},_updateCanvas:function(e,t){this._isReady?this.updateNativeView(Ht,e,t):this._delay("_updateCanvas",e,t)},_updateWebGLCanvas:function(e,t){this._isReady?this.updateNativeView(Yt,e,t):this._delay("_updateWebGLCanvas",e,t)},getContextId:function(){return this.viewId},isWebGL:function(){return["webgl","webgl2"].includes(this.type)},isSkiaCanvas:function(){return"2d"===this.type&&!Gt()},isBindingCanvas:function(){return!!this.type},isEjectaCanvas:function(){return this.type&&"2d"!==this.type&&!Gt()},isMagicBrushCanvas:function(){return this.type&&Gt()}}}).registerComponent();const qt=Xt;var Jt=n(7466),Qt=n(3712);(0,Ft.L)("WebGLSetOpaqueBackground",(function(e){h.Q.trigger(e.pageId,"WebGLSetOpaqueBackground",e)}));["operateMap","hideKeyboard","nicknameAccessoryTap","operateSkylineScrollView","onNavigateBackFromChannelsActivity"].forEach((function(e){return(0,Ft.L)(e,(function(t,n){return h.Q.trigger(n,e,t)}))}));var en=new Map;function tn(e,t){en.has(e)||en.set(e,new $);var n=en.get(e);if(!t)return n.promise;n.promise.then(t)}(0,Ft.L)("onAppRouteDone",(function(e,t){if(en.has(t))en.get(t).resolve(e);else{var n=new $;n.resolve(e),en.set(t,n)}}));var nn=n(4493),rn=["send","search","next","go","done"],an=g("input").behavior(v.ZP).behavior(y.Z).behavior(m.Z).behavior(E.Z).behavior(A.Z).behavior(Jt.Z).behavior(Qt.Z).behavior(yt.Z).behavior(I.N).behavior(nn.Z).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(t,n,i){i("native-input",{},(function(t,n){n&&e.i(t,"input"),n&&e.y(t,"width: 100%; height: 100%;")}),(function(e){}))},B:{}}},function(t){return e[t]}}()}).property("value",{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""}).observer("value",(function(e){var t;e!==this._value&&(null===(t=this.$.input.$$)||void 0===t||t.setAttributes({value:e,selectionStart:(0,b.He)(e.length),selectionEnd:(0,b.He)(e.length)}),this._value=e)})).property("disabled",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:(0,r.Av)()}).observer("disabled",(function(e){var t=(0,r.Av)()||e;null!==this.$.input.$$&&this.$.input.$$.setAttributes({disable:t})})).property("focus",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1}).observer("focus",(function(e){this.setFocus(e)})).definition({properties:{placeholder:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({placeholder:e})}},placeholderStyle:{type:i.Z.glassEasel.NormalizedPropertyType.Any,value:{},public:!0,observer:function(e){e&&null!==this.$.input.$$&&("string"==typeof e?this.$.input.$$.setAttributes({placeholderStyle:e}):"object"==typeof e?this.$.input.$$.setAttributes({placeholderStyle:{fontSize:parseFloat(e.fontSize)||-1,fontWeight:e.fontWeight,color:e.color||"gray"}}):console.warn('Input component property "placeholderStyle" should be string or object type.'))}},maxlength:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:140,public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({maxLength:+e})}},type:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"text",public:!0,observer:function(e){this._checkCursorSpacing(),null!==this.$.input.$$&&this.$.input.$$.setAttributes({type:e})}},password:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({password:e})}},cursorSpacing:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0,observer:"_checkCursorSpacing"},cursorColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"#07C160",public:!0,observer:function(e){this.$.input.$$.setAttributes({cursorColor:e})}},confirmHold:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({confirmHold:e})}},confirmType:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"done",public:!0,observer:function(e){var t=e;rn.includes(e)||(t="done"),null!==this.$.input.$$&&this.$.input.$$.setAttributes({confirmType:t})}},cursor:{type:null,value:-1,public:!0,observer:function(e){var t=this;Promise.resolve().then((function(){null!==t.$.input.$$&&t.$.input.$$.setAttributes({selectionStart:(0,b.He)(e),selectionEnd:(0,b.He)(e)})}))}},selectionStart:{type:null,value:-1,public:!0,observer:function(e){this.focus&&null!==this.$.input.$$&&this.$.input.$$.setAttributes({selectionStart:(0,b.He)(e)})}},selectionEnd:{type:null,value:-1,public:!0,observer:function(e){this.focus&&null!==this.$.input.$$&&this.$.input.$$.setAttributes({selectionEnd:(0,b.He)(e)})}},adjustPosition:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({adjustPosition:e})}},holdKeyboard:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({holdKeyboard:e})}}},listeners:{tap:function(){this._focusInputForTap()},labelTap:function(){this._focusInputForTap()}},created:function(){this._attachedDefer=new $,this.$.input.$$.setAttributes({cursorColor:this.cursorColor}),this.viewId=this.getPositioningId(),this._keyboardShow=!1,this.bindEvent()},attached:function(){var e=this;this.node=this.$.input.$$,this._attached=!0,this.attachNativeEvents(),this._attachedDefer.resolve(),this._prevKeyboardHeight=0,(0,r.Av)()&&(this.disabled=!0),this.onPageEventAuto("hideKeyboard",this.onHideKeyboard.bind(this)),this.onPageEventAuto("nicknameAccessoryTap",(function(t){e._nicknameAccessoryShow&&(e._nicknameAccessoryFill=!0,e.autofillSetValue(t.nickName))}))},detached:function(){this._attached=!1,this.node=null},methods:{bindEvent:function(){null!==this.$.input.$$&&(this.$.input.$$.onKeyboardComplete(this.onKeyboardComplete.bind(this)),this.$.input.$$.onKeyboardConfirm(this.onKeyboardConfirm.bind(this)),this.$.input.$$.onKeyboardShow(this.onKeyboardShow.bind(this)),this.$.input.$$.onKeyboardValueChange(this.onKeyboardValueChange.bind(this)),this.$.input.$$.onKeyboardHeightChange(this.onKeyboardHeightChange.bind(this)),this.$.input.$$.onKeyboardSelectionChange(this.onSelectionChange.bind(this)),this.$.input.$$.onKeyboardCompositionStart(this.onKeyboardCompositionStart.bind(this)),this.$.input.$$.onKeyboardCompositionEnd(this.onKeyboardCompositionEnd.bind(this)),this.$.input.$$.onKeyboardCompositionUpdate(this.onKeyboardCompositionUpdate.bind(this)))},autofillSetValue:function(e){this.value=e,this._keyboardShow?(this._autofillTriggerInput=!0,this.onHideKeyboard()):(this.triggerEvent("input",{value:e}),this.triggerEvent("change",{value:e}))},autofillGetValue:function(){return this.value},setFocus:function(e){var t=this,n=[this._attachedDefer.promise,tn(this.getPageId())];r.cj&&n.push(new Promise((function(e){return setTimeout(e,0)}))),Promise.all(n).then((function(){null!==t.$.input.$$&&t.$.input.$$.setAttributes({focus:e})}))},resetFormData:function(){this.value=""},getFormData:function(e){this._keyboardShow?this.__formCallback=e:"function"==typeof e&&e(this.value)},onKeyboardComplete:function(e){this.value=this._value=e,"function"==typeof this.__formCallback&&(this.__formCallback(this.value),this.__formCallback=void 0),this.triggerEvent("input",{value:this.value}),this.triggerEvent("change",{value:this.value}),this.triggerEvent("blur",{value:this._value,cursor:this.cursor}),this.onBlur()},onKeyboardConfirm:function(e){this.value=this._value=e,this.triggerEvent("confirm",{value:this.value})},onKeyboardShow:function(e,t){this._keyboardShow=!0,this.triggerEvent("focus",{value:this.value,height:t}),this.showNicknameAccessory()},onKeyboardValueChange:function(e,t,n){var i=this;this.value=this._value=e,this.cursor=t,this.updateNicknameAccessory(e),this.triggerEvent("input",{value:e,cursor:t,keyCode:n},{handleListenerReturn:function(e){if(null!=e&&!1!==e){var t="object"==typeof e?e.value+"":e+"";"object"!=typeof e||Number.isNaN(parseInt(e.cursor,10))||(i.cursor=parseInt(e.cursor,10)),i.value=t}}})},onKeyboardHeightChange:function(e,t){this.publish("onKeyboardHeightChange",{height:e}),e>65535&&(e=0),this._prevKeyboardHeight=e,this.triggerEvent("keyboardheightchange",{height:e,duration:t})},onSelectionChange:function(e,t){this.triggerEvent("selectionchange",{selectionStart:e,selectionEnd:t})},onKeyboardCompositionStart:function(e){this.triggerEvent("keyboardcompositionstart",{data:e})},onKeyboardCompositionEnd:function(e){this.triggerEvent("keyboardcompositionend",{data:e})},onKeyboardCompositionUpdate:function(e){this.triggerEvent("keyboardcompositionupdate",{data:e})},onHideKeyboard:function(){this._keyboardShow&&(null!==this.$.input.$$&&this.$.input.$$.blur(),this.onBlur())},onBlur:function(){this._keyboardShow&&(this.hideNicknameAccessory(),this.reviewNickname(),this._keyboardShow=!1)},_checkCursorSpacing:function(e){var t,n,i=this.normalizeSize(e||this.cursorSpacing)||0;"nickname"===this.type&&("landscape"!==(null!==(t=null===(n=wx)||void 0===n?void 0:n.getPageOrientation())&&void 0!==t?t:"portrait")&&(i+=62));null!==this.$.input.$$&&this.$.input.$$.setAttributes({cursorSpacing:i})},showNicknameAccessory:function(){"nickname"===this.type&&(this._nicknameAccessoryShow||(this._nicknameAccessoryShow=!0,wx.showNicknameAccessory({pluginId:this.getPluginId(),fail:function(e){return(0,C.Dv)("input",e.errMsg,e)}})))},updateNicknameAccessory:function(e){"nickname"===this.type&&this._nicknameAccessoryShow&&wx.publish("nicknameInput",{inputValue:e})},hideNicknameAccessory:function(){"nickname"===this.type&&this._nicknameAccessoryShow&&(this._nicknameAccessoryShow=!1,wx.hideNicknameAccessory({fail:function(e){return(0,C.Dv)("input",e.errMsg,e)}}))},reviewNickname:function(){var e=this;"nickname"===this.type&&(wx.reviewNickname({inputValue:this.value,isWechatNickname:!!this._nicknameAccessoryFill,fail:function(t){(0,C.Dv)("input",t.errMsg,t),e.autofillSetValue("");var n="upload nickname timeout"===t.errMsg;e.triggerEvent("nicknamereview",{pass:!1,timeout:n})},success:function(){return e.triggerEvent("nicknamereview",{pass:!0,timeout:!1})}}),this._nicknameAccessoryFill=!1)},attachNativeEvents:function(){var e=s()((function*(){this.bindKeyboardStatusChange()}));return function(){return e.apply(this,arguments)}}(),bindKeyboardStatusChange:function(){var e=s()((function*(){var e=this,t=this.getWorkletDirective("onkeyboardheightchange");if(t){var n=yield this.obtainWorkletFunc(t);(0,b.mf)(n)?function(t){null!==e.node&&(e.addWorkletEventHandler("onKeyboardStatusChange",t,e.node.viewTag),e.node.setAttributes({hasUIOnKeyboardStatusChange:!0}))}(n):emitComponentWarning("input",`the handler(${t}) to worklet:onkeyboardheightchange must declare worklet directive`)}else;}));return function(){return e.apply(this,arguments)}}(),_focusInputForTap:function(){if((0,r.Av)())return this.checkSinglePageModeWithHighlight();this._keyboardShow||this.setFocus(!0)}}}).registerComponent();const on=an;var sn=n(4187),ln=n(1840),un=n(3721),cn="#1AAD19",dn="#E9E9E9",pn=function(e){return e%1!=0},hn=function(e){if(e=+e,isNaN(e)||!pn(e))return 0;var t=e.toString();return/\./.test(t)?t.split(".")[1].length:+t.split("e-")[1]},fn=g("slider").behavior(v.ZP).behavior(y.Z).behavior(sn.Z).behavior(Jt.Z).behavior(ln.Z).behavior(un.Z).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={color:new Array(1),_filteredValue:new Array(4),step:new Array(1),_getBlockSize:new Array(4),cx:new Array(1),_getBackgroundColor:new Array(1),_getActiveColor:new Array(1),disabled:new Array(1),selectedColor:new Array(1),backgroundColor:new Array(1),min:new Array(4),_getValueWidth:new Array(3),blockColor:new Array(1),_getValueTextWidth:new Array(1),max:new Array(4),activeColor:new Array(1),showValue:new Array(1),blockSize:new Array(4)},s=!0===i;return{C:function(t,l,u){u("view",{},(function(e,t){(t||s||i.cx||(i.disabled,1))&&r(e,fe(n.cx)("wx-slider-wrapper",{wxSliderDisabled:n.disabled})),o.cx[0]=o.disabled[0]=function(t,n,i){r(e,fe(t.cx)("wx-slider-wrapper",{wxSliderDisabled:t.disabled}))}}),(function(t,l,u){u("view",{},(function(t,n){n&&r(t,"wx-slider-tap-area"),n&&e.i(t,"wrapper")}),(function(t,a,l){l("view",{},(function(t,a){a&&r(t,"wx-slider-handle-wrapper"),(a||s||i._getBackgroundColor||i.color||i.backgroundColor)&&e.y(t,"background: "+pe(fe(n._getBackgroundColor)(n.color,n.backgroundColor))),o._getBackgroundColor[0]=o.color[0]=o.backgroundColor[0]=function(n,i,r){e.y(t,"background: "+pe(fe(n._getBackgroundColor)(n.color,n.backgroundColor)))}}),(function(t,a,l){l("view",{},(function(t,a){a&&r(t,"wx-slider-handle"),(a||s||i._getValueWidth||i._filteredValue||i.min||i.max)&&e.y(t,"left: "+pe(fe(n._getValueWidth)(n._filteredValue,n.min,n.max))),o._getValueWidth[0]=o._filteredValue[0]=o.min[0]=o.max[0]=function(n,i,r){e.y(t,"left: "+pe(fe(n._getValueWidth)(n._filteredValue,n.min,n.max)))},a&&e.i(t,"handle")}),(function(e){})),l("view",{},(function(t,a){a&&e.i(t,"thumb"),a&&r(t,"wx-slider-thumb"),(a||s||i._getBlockSize||i.blockSize||i._getBlockSize||i.blockSize||i._getBlockSize||i.blockSize||i._getBlockSize||i.blockSize||i._getValueWidth||i._filteredValue||i.min||i.max||i.blockColor)&&e.y(t,"width:"+pe(fe(n._getBlockSize)(n.blockSize))+"px; \n                height:"+pe(fe(n._getBlockSize)(n.blockSize))+"px;\n                margin-left:"+pe(-fe(n._getBlockSize)(n.blockSize)/2)+"px;\n                margin-top: "+pe(-fe(n._getBlockSize)(n.blockSize)/2)+"px;\n                left:"+pe(fe(n._getValueWidth)(n._filteredValue,n.min,n.max))+";\n                background: "+pe(n.blockColor)),o._getBlockSize[0]=o.blockSize[0]=o._getBlockSize[1]=o.blockSize[1]=o._getBlockSize[2]=o.blockSize[2]=o._getBlockSize[3]=o.blockSize[3]=o._getValueWidth[1]=o._filteredValue[1]=o.min[1]=o.max[1]=o.blockColor[0]=function(n,i,r){e.y(t,"width:"+pe(fe(n._getBlockSize)(n.blockSize))+"px; \n                height:"+pe(fe(n._getBlockSize)(n.blockSize))+"px;\n                margin-left:"+pe(-fe(n._getBlockSize)(n.blockSize)/2)+"px;\n                margin-top: "+pe(-fe(n._getBlockSize)(n.blockSize)/2)+"px;\n                left:"+pe(fe(n._getValueWidth)(n._filteredValue,n.min,n.max))+";\n                background: "+pe(n.blockColor))}}),(function(e){})),l("view",{},(function(t,a){a&&r(t,"wx-slider-track"),(a||s||i._getValueWidth||i._filteredValue||i.min||i.max||i._getActiveColor||i.selectedColor||i.activeColor)&&e.y(t,"width: "+pe(fe(n._getValueWidth)(n._filteredValue,n.min,n.max))+"; background: "+pe(fe(n._getActiveColor)(n.selectedColor,n.activeColor))),o._getValueWidth[2]=o._filteredValue[2]=o.min[2]=o.max[2]=o._getActiveColor[0]=o.selectedColor[0]=o.activeColor[0]=function(n,i,r){e.y(t,"width: "+pe(fe(n._getValueWidth)(n._filteredValue,n.min,n.max))+"; background: "+pe(fe(n._getActiveColor)(n.selectedColor,n.activeColor)))}}),(function(e){})),l("view",{},(function(t,n){n&&r(t,"wx-slider-step"),n&&e.i(t,"step")}),(function(e){}))}))})),u("view",{},(function(e,t){(t||s||i.showValue)&&a(e,"hidden",!n.showValue),o.showValue[0]=function(t,n,i){a(e,"hidden",!t.showValue),n(e)},t&&r(e,"wx-slider-value")}),(function(t,r,l){l("view",{},(function(t,r){(r||s)&&a(t,"parse-text-content",!0),(r||s||i._getValueTextWidth||i.min||i.max||i.step)&&e.y(t,"width: "+pe(fe(n._getValueTextWidth)(n.min,n.max,n.step))),o._getValueTextWidth[0]=o.min[3]=o.max[3]=o.step[0]=function(n,i,r){e.y(t,"width: "+pe(fe(n._getValueTextWidth)(n.min,n.max,n.step)))}}),(function(e,t){e||s||i._filteredValue?t(pe(n._filteredValue),(function(e){o._filteredValue[3]=function(t,n,i){i(e,pe(t._filteredValue))}})):t()}))}))}))},B:o}},function(t){return e[t]}}()}).definition({properties:{min:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,observer:"_revalicateRange"},max:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:100,observer:"_revalicateRange"},step:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:1,observer:"_revalicateRange"},value:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,observer:"_revalicateRange"},showValue:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},activeColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:cn},backgroundColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:dn},blockSize:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:28},blockColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"#FFFFFF"},selectedColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:cn},color:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""},_filteredValue:{type:i.Z.glassEasel.NormalizedPropertyType.Number}},listeners:{"wrapper.tap":"_onTap"}}).methods({_setAria:function(){this.setAriaRoleDefault("slider"),this.$$&&(this.$$.setAttribute("aria-valuemin",this.data.min),this.$$.setAttribute("aria-valuemax",this.data.max),this.$$.setAttribute("aria-valuenow",this.data.value))},_filterValue:function(e){return e<this.data.min?this.data.min:e>this.data.max?this.data.max:Math.round((e-this.data.min)/this.data.step)*this.data.step+this.data.min},_revalicateRange:function(){var e=this._filterValue(this.data.value);if(pn(this.data.min)||pn(this.data.max)||pn(this.data.step)){var t=Math.max(hn(this.data.min),hn(this.data.max),hn(this.data.step));e=+e.toFixed(t)}this._filteredValue=e,this._setAria()},_onUserChangedValue:function(){var e=s()((function*(e){var t=this,n=yield new Promise((function(e){null!==t.$.step.$$&&t.$.step.$$.getBoundingClientRect(e)})),i=n.width,r=n.left,a=(e.detail.x-r)*(this.data.max-this.data.min)/i+this.data.min;if(a=this._filterValue(a),void 0===this._startValue){if(a===this.data.value)return!1}else if(a===this._startValue)return!1;return this.setData({value:a}),!0}));return function(t){return e.apply(this,arguments)}}(),_onTrack:function(){var e=s()((function*(e){if(!this.disabled){if(void 0===this._startValue&&(this._startValue=this.data.value),"move"===e.detail.state)return this._onUserChangedValue(e),this.triggerEvent("changing",{value:this.data.value}),!1;"end"===e.detail.state&&(yield this._triggerChangeEvent(e),this._startValue=void 0)}}));return function(t){return e.apply(this,arguments)}}(),_onTap:function(e){this.disabled||this._triggerChangeEvent(e)},_triggerChangeEvent:function(){var e=s()((function*(e){(yield this._onUserChangedValue(e))&&this.triggerEvent("change",{value:this.data.value})}));return function(t){return e.apply(this,arguments)}}(),resetFormData:function(){this.setData({value:this.data.min})},moveStep:function(e){var t=this._filterValue(e<0?this.data.value-this.data.step:this.data.value+this.data.step);t!==this.data.value&&(this.setData({value:t}),this.triggerEvent("change",{value:t}))}}).data((function(){return{_getValueWidth:function(e,t,n){return 100*(e-t)/(n-t)+"%"},_getValueTextWidth:function(e,t,n){var i=Math.round(t).toString().length,a=Math.max(hn(e),hn(t),hn(n)),o=a>0?i+a:i;return r.cj?`calc(${o}ch + 1px)`:`${o}ch`},_getBlockSize:function(e){return i=28,(t=e)<(n=12)?n:t>i?i:t;var t,n,i},_getBackgroundColor:function(e,t){return t!==dn?t:e!==dn?e:dn},_getActiveColor:function(e,t){return t!==cn?t:e!==cn?e:cn}}})).lifetime("attached",(function(){this._setAria(),this.touchtrack(this.$.handle,this._onTrack.bind(this))})).registerComponent();const _n=fn;var vn="snapshot",gn=g(vn).options({hostNodeTagName:vn,reflectToAttributes:!0}).behavior(v.ZP).behavior(y.Z).behavior(ve.Z).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(t,n,i){i("view",{},(function(t,n){n&&e.y(t,"width: 100%; height: 100%")}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:{}}},function(t){return e[t]}}()}).property("mode",{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"view"}).observer("mode",(function(e){null!==this.$$&&this.$$.setAttributes({mode:e})})).methods({getContextId:function(){}}).registerComponent();const mn=gn;var En="onFrame",yn="onframe",Tn="share-element",bn=g(Tn).behavior(v.ZP).behavior(y.Z).behavior(E.Z).options({virtualHost:!1,hostNodeTagName:Tn}).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n){n("view",{},(function(e,t){}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:{}}},function(t){return e[t]}}()}).property("key",{type:i.Z.glassEasel.NormalizedPropertyType.String}).property("transitionOnGesture",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1}).property("rectTweenType",{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""}).property("shuttleOnPush",{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"to"}).property("shuttleOnPop",{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"to"}).property(En,{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""}).init((function({self:e,lifetime:t,observer:n,method:i}){var r=function(t){var n;null===(n=e.$$)||void 0===n||n.setAttributes(t)},a=function(e){return r({onFrame:e})};n(En,a),t("workletChange",(function(e,t){e===yn&&"string"==typeof t&&a(t)}));var o="";n("key",(function(e){"string"==typeof e&&o!==e&&(o=e,r({tag:e}))}));var l=function(e){var t;n(e,(function(n){n!==t&&(t=n,r({[e]:n}))}))};for(var u of["transitionOnGesture","rectTweenType","shuttleOnPush","shuttleOnPop"])l(u);var c=i(s()((function*(){var t=e.getWorkletDirective(yn)||e.data.onFrame;if(t){var n=yield e.obtainWorkletFunc(t);(0,b.mf)(n)?e.addWorkletEventHandler(En,n,e.$$.viewTag):(0,C.yD)("share-element",`the handler(${t}) to worklet:onframe must declare worklet directive`)}})));t("attached",c)})).registerComponent();const Cn=bn;var Sn="swiper-item",An=g(Sn).options({hostNodeTagName:Sn}).definition({behaviors:["base","report"],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()},properties:{itemId:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",observer:function(e,t){var n=this.getRelationNodes("swiper")[0];n&&n._itemIdUpdated(this,e,t)},public:!0}},relations:{swiper:{type:"ancestor"}},attached:function(){this._attachedCb()},moved:function(){this._detachedCb(),this._attachedCb()},detached:function(){this._detachedCb()},methods:{_attachedCb:function(){this._attached||(this._attached=!0,null!==this.$$&&this.$$.updateStyle?this.$$.updateStyle("position: absolute; width: 100%; height: 100%;"):this.$$.appendStyle("position: absolute; width: 100%; height: 100%;"))},_detachedCb:function(){this._attached=!1}}}).registerComponent();const In=An;var Pn=["touch","autoplay"],wn=["normal","worm","wormThin","wormUnderground","wormThinUnderground","expand","jump","jumpWithOffset","scroll","scrollFixedCenter","slide","slideUnderground","scale","swap","swapYRotation","color"],Rn=["normal","stackLeft","stackRight","tinder","transformer"],xn=["scaleAndFade","accordion","threeD","zoomIn","zoomOut","deepthPage"],On=function(e){return e[e.ScrollStart=0]="ScrollStart",e[e.ScrollUpdate=1]="ScrollUpdate",e[e.ScrollEnd=2]="ScrollEnd",e}(On||{}),Nn=(0,_.fN)(),Dn="swiper",kn=g(Dn).options({hostNodeTagName:Dn,reflectToAttributes:!1}).behavior(v.ZP).behavior(y.Z).behavior(m.Z).behavior(Qt.Z).behavior(E.Z).behavior(T.Z).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()},properties:{layoutType:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"normal",observer:function(e){var t=Rn.indexOf(e);t<0&&(t=0,(0,C.yD)("swiper",`illegal value <${e}> passed in for layout-type attribute, using <normal> instead`)),null!==this.$$&&this.$$.setAttributes({layoutType:t})},public:!0},transformerType:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"normal",observer:function(e){var t=xn.indexOf(e);t<0&&(t=0,(0,C.yD)("swiper",`illegal value <${e}> passed in for transformer-type attribute, using <scaleAndFade> instead`)),null!==this.$$&&this.$$.setAttributes({transformerType:t})},public:!0},vertical:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,observer:function(e){null!==this.$$&&this.$$.setAttributes({vertical:e})},public:!0},autoplay:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,observer:function(e){null!==this.$$&&this.$$.setAttributes({autoplay:e})},public:!0},circular:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,observer:function(e){null!==this.$$&&this.$$.setAttributes({circular:e})},public:!0},interval:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:5e3,observer:function(e){null!==this.$$&&this.$$.setAttributes({interval:e})},public:!0},duration:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:500,observer:function(e){null!==this.$$&&this.$$.setAttributes({duration:e})},public:!0},current:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,observer:function(e){var t=this;e!==this._lastCurrent&&(this._lastCurrent=e,this._attached?setTimeout((function(){null!==t.$$&&t.$$.setAttributes({current:e})}),0):null!==this.$$&&this.$$.setAttributes({current:e}))}},scrollWithAnimation:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,observer:function(e){null!==this.$$&&this.$$.setAttributes({scrollWithAnimation:e})},public:!0},cacheExtent:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,observer:function(e){null!==this.$$&&this.$$.setAttributes({cacheExtent:e})},public:!0},indicatorDots:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,observer:function(e){null!==this.$$&&this.$$.setAttributes({indicatorDots:e})},public:!0},indicatorType:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"normal",observer:function(e){var t=wn.indexOf(e);t<0&&(t=0,(0,C.yD)("swiper",`illegal value <${e}> passed in for indicator-type attribute, using <normal> instead`)),null!==this.$$&&this.$$.setAttributes({indicatorType:t})},public:!0},indicatorMargin:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:10,observer:function(e){null!==this.$$&&this.$$.setAttributes({indicatorMargin:e})},public:!0},indicatorSpacing:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:4,observer:function(e){null!==this.$$&&this.$$.setAttributes({indicatorSpacing:e})},public:!0},indicatorRadius:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:4,observer:function(e){null!==this.$$&&this.$$.setAttributes({indicatorRadius:e})},public:!0},indicatorWidth:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:8,observer:function(e){null!==this.$$&&this.$$.setAttributes({indicatorWidth:e})},public:!0},indicatorHeight:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:8,observer:function(e){null!==this.$$&&this.$$.setAttributes({indicatorHeight:e})},public:!0},indicatorAlignment:{type:i.Z.glassEasel.NormalizedPropertyType.Any,value:"auto",observer:function(e){var t=e;"auto"===e?t=[-100,-100]:Array.isArray(e)&&2===e.length||(t=[-100,-100],(0,C.yD)("swiper",`illegal value ${e} passed in for indicator-alignment attribute, using <auto> instead`)),null!==this.$$&&this.$$.setAttributes({indicatorAlignment:t})},public:!0},indicatorOffset:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[0,0],observer:function(e){var t=e;Array.isArray(e)&&2===e.length||(t=[0,0],(0,C.yD)("swiper",`illegal value ${e} passed in for indicator-offset attribute, using [0, 0] instead`)),null!==this.$$&&this.$$.setAttributes({indicatorOffset:t})},public:!0},indicatorColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",observer:function(e){null!==this.$$&&this.$$.setAttributes({indicatorColor:e})},public:!0},indicatorActiveColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",observer:function(e){null!==this.$$&&this.$$.setAttributes({indicatorActiveColor:e})},public:!0},previousMargin:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",observer:function(e){null!==this.$$&&this.$$.setAttributes({previousMargin:this.normalizeSize(e)})},public:!0},nextMargin:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",observer:function(e){null!==this.$$&&this.$$.setAttributes({nextMargin:this.normalizeSize(e)})},public:!0},snapToEdge:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,observer:function(e){null!==this.$$&&this.$$.setAttributes({snapToEdge:e})},public:!0},currentItemId:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",observer:function(e){""!==e&&this.setData({current:this._getPositionFromCurrent()})},public:!0},displayMultipleItems:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:1,observer:function(e){null!==this.$$&&this.$$.setAttributes({displayMultipleItems:e})},public:!0},easingFunction:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"default",observer:function(e){null!==this.$$&&this.$$.setAttributes({easingFunction:e})},public:!0}},relations:{"swiper-item":{type:"descendant",target:In,linked:function(){this._swiperItemChanged()},linkChanged:function(){this._swiperItemChanged()},unlinked:function(){this._swiperItemChanged()}}},created:function(){this._itemIdItemMap={},this._items=[],this._itemListDirty=!1,this.bindEvent(),this._attached=!1,this._bindOnChangeEvent=!1,this._lastCurrent=0,this._lastReason=0},attached:function(){var e=this;this.attachNativeEvents().then((function(){e.bindScrollEvent(),e.listenOnChangeEvent()})),this._attached=!0},methods:{_swiperItemChanged:function(){this._itemListChanged()},getProxyGestureHostNode:function(){return this.$$},bindEvent:function(){var e={transition:{},animationfinish:{},change:{observer:this.onchange.bind(this)}};this.listenNativeEvents(e)},onchange:function(e){e&&(this._bindOnChangeEvent=!0)},listenOnChangeEvent:function(){var e=this;null!=this.$$&&this.$$.onChangeEvent((function(t,n){if(e._lastCurrent=t,e._lastReason=n,e._bindOnChangeEvent){var i=e._getItems()[t];i&&e.triggerEvent("change",{current:t,currentItemId:i.itemId,source:Pn[n]||""})}}))},_getPositionFromCurrent:function(){return this.data.currentItemId?this._getItems().indexOf(this._getItemByItemId(this.data.currentItemId)):this.current},_itemListChanged:function(){this._itemListDirty=!0},_updateItemList:function(){var e=this;this._itemListDirty=!1;var t=this.traitBehavior(Nn);(this._items=t.getSwiperItems()).forEach((function(t){t.itemId&&(e._itemIdItemMap[t.itemId]||(e._itemIdItemMap[t.itemId]=t))}))},_getItems:function(){return this._itemListDirty&&this._updateItemList(),this._items},_getItemByItemId:function(e){return this._itemListDirty&&this._updateItemList(),this._itemIdItemMap[e]},attachNativeEvents:function(){var e=s()((function*(){this.bindScrollEvent()}));return function(){return e.apply(this,arguments)}}(),bindTransitionEvent:function(){var e=s()((function*(){var e=this;if(this.bindtransition&&null!==this.$$){var t=yield this.obtainWorkletFunc(this.bindtransition);(0,b.mf)(t)?(this.$$.setAttributes({hasUIOnScroll:!0}),this.addWorkletEventHandler("onTransition",t,this.$$.viewTag)):this.$$.onScrollEvent((function(t,n){var i=e.vertical?0:t,r=e.vertical?t:0;e.triggerEvent("transition",{dx:i,dy:r,state:n})}))}}));return function(){return e.apply(this,arguments)}}(),bindScrollEvent:function(){var e=s()((function*(){var e=this.getWorkletDirective("onscrollstart"),t=this.getWorkletDirective("onscrollupdate"),n=this.getWorkletDirective("onscrollend");if(!(e||t||n))return this.bindTransitionEvent(),void this.bindAnimationfinishEvent();var i=yield this.obtainWorkletFunc(e);e&&!i&&(0,C.yD)("swiper",`the handler(${e}) to worklet:onscrollstart must declare worklet directive`);var r=yield this.obtainWorkletFunc(t);t&&!r&&(0,C.yD)("swiper",`the handler(${t}) to worklet:onscrollupdate must declare worklet directive`);var a=yield this.obtainWorkletFunc(n);n&&!a&&(0,C.yD)("swiper",`the handler(${n}) to worklet:onscrollend must declare worklet directive`);var o,s=(o=function(e){var t=e.detail.state;delete e.detail.state,t===On.ScrollStart?null==i||i(e):t===On.ScrollUpdate?null==r||r(e):t===On.ScrollEnd&&(null==a||a(e))},o._closure={ScrollState:{ScrollStart:On.ScrollStart,ScrollUpdate:On.ScrollUpdate,ScrollEnd:On.ScrollEnd},scrollStartHandler:i,scrollUpdateHandler:r,scrollEndHandler:a},o.asString="function _f(evt){const{ScrollState,scrollStartHandler,scrollUpdateHandler,scrollEndHandler}=jsThis._closure;{const state=evt.detail.state;delete evt.detail.state;if(state===ScrollState.ScrollStart){var _scrollStartHandler;(_scrollStartHandler=scrollStartHandler)===null||_scrollStartHandler===void 0?void 0:_scrollStartHandler(evt);}else if(state===ScrollState.ScrollUpdate){var _scrollUpdateHandler;(_scrollUpdateHandler=scrollUpdateHandler)===null||_scrollUpdateHandler===void 0?void 0:_scrollUpdateHandler(evt);}else if(state===ScrollState.ScrollEnd){var _scrollEndHandler;(_scrollEndHandler=scrollEndHandler)===null||_scrollEndHandler===void 0?void 0:_scrollEndHandler(evt);}}}",o.__workletHash=5346548970692,o.__location="src/components/wx-swiper/index.ts (567:30)",o.__worklet=!0,o);null!==this.$$&&(this.addWorkletEventHandler("onTransition",s,this.$$.viewTag),this.$$.setAttributes({hasUIOnScroll:!0}))}));return function(){return e.apply(this,arguments)}}(),bindAnimationfinishEvent:function(){var e=s()((function*(){var e=this;if(this.bindanimationfinish&&null!==this.$$){var t=yield this.obtainWorkletFunc(this.bindanimationfinish);(0,b.mf)(t)?(this.$$.setAttributes({hasUIOnScrollEnd:!0}),this.addWorkletEventHandler("onScrollEnd",t,this.$$.viewTag)):this.$$.onScrollEndEvent((function(){var t=e._lastCurrent||0,n=e._lastReason||0,i=e._getItems()[t];e.triggerEvent("animationfinish",{current:t,currentItemId:i.itemId,source:Pn[n]||""})}))}}));return function(){return e.apply(this,arguments)}}()}}).init((function({self:e,lifetime:t,implement:n}){for(var r,a=i.Z.glassEasel,o=null,s=null===(r=e.ownerShadowRoot)||void 0===r?void 0:r.getHostNode();s;){var l;if(s._$definition===In||s.hasBehavior(S.jy))break;if(s.hasBehavior(S.Rb)){(o=s.traitBehavior(S.J9)).registerProxyComp((function(){e._swiperItemChanged()}));break}s=null===(l=s.ownerShadowRoot)||void 0===l?void 0:l.getHostNode()}t("detached",(function(){o&&(o.unRegisterProxyComp(),o=null)})),n(Nn,{getSwiperItems:function(){if(null===o)return e.getRelationNodes("swiper-item");var t=[],n=function(e){e.getComposedChildren().forEach((function(e){e instanceof a.Component&&e._$definition===In?t.push(e):e instanceof a.Component&&e._$definition===kn||e instanceof a.Element&&n(e)}))};return n(e),0===t.length&&(0,C.yD)("swiper","swiper-item component not found"),t}})})).registerComponent();const Ln=kn;var Mn=n(1576);var Bn=g("switch").behavior(v.ZP).behavior(y.Z).behavior(nn.Z).behavior(ln.Z).behavior(Jt.Z).behavior(Mn.Z).property("checked",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,observer:"checkedChanged"}).property("type",{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"switch"}).property("color",{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""}).property("vibrate",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0}).lifetime("attached",(function(){this.setData({compColor:this._getSwitchBorderColor(this.data.checked,this.data.color)}),this._setAria("checkbox")})).data((function(){return{compColor:"",iconFont:""}})).methods({checkedChanged:function(e){this.$$&&(e&&this.$$.setAttribute("aria-checked",e),this._setRelatedLabelAria("checkbox"),this.setData({compColor:this._getSwitchBorderColor(this.data.checked,this.data.color)}))},_getSwitchBorderColor:function(e,t){return e?t:""},onInputChange:function(){if(!this.data.disabled){var e=!this.data.checked;this.setData({checked:e,compColor:this._getSwitchBorderColor(e,this.data.color)}),this.triggerEvent("change",{value:e}),"switch"===this.data.type&&this.data.vibrate&&function(){var e;r.cj&&"function"==typeof(null===(e=wx)||void 0===e?void 0:e.vibrateShort)&&wx.vibrateShort({})}()}},getFormData:function(){return this.data.checked},resetFormData:function(){this.setData({checked:!1})}}).definition({listeners:{tap:"onInputChange",labelTap:"onInputChange"},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o=!0===i;return{C:function(t,s,l){l("view",{},(function(e,t){t&&r(e,"wx-switch-wrapper")}),(function(t,s,l,u){var c="switch"===n.type?1:0;u(c,(function(t,s,l){1===c&&l("view",{},(function(t,s){s&&e.i(t,"switchInput"),s&&a(t,"type","checkbox"),(s||o||i.checked||i.disabled)&&r(t,"wx-switch-input "+pe(n.checked?"wx-switch-input-checked":"")+" "+pe(n.disabled?"wx-switch-input-disabled":"")),(s||o||i.compColor||i.compColor)&&e.y(t,"background-color: "+pe(n.compColor)+"; border-color: "+pe(n.compColor))}),(function(e){}))}));var d="checkbox"===n.type?1:0;u(d,(function(t,s,l){1===d&&l("view",{},(function(t,s){s&&e.i(t,"checkboxInput"),s&&a(t,"type","checkbox"),(s||o||i.checked||i.disabled)&&r(t,"wx-checkbox-input "+pe(n.checked?"wx-checkbox-input-checked":"")+" "+pe(n.disabled?"wx-checkbox-input-disabled":"")),(s||o||i.color)&&e.y(t,"color: "+pe(n.color))}),(function(e){}))}))}))},B:{}}},function(t){return e[t]}}()}}).registerComponent();const Fn=Bn;var Vn=["send","search","next","go","done","return"],Wn="__wx_builtin_definite_size__",Un="__wx_builtin_minimum_size__",$n=g("textarea").behavior(v.ZP).behavior(y.Z).behavior(ve.Z).behavior(A.Z).behavior(Jt.Z).behavior(yt.Z).behavior(m.Z).behavior(I.N).options({listenerChangeLifetimes:!0}).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(t,n,i){i("native-input",{},(function(t,n){n&&e.i(t,"input"),n&&e.y(t,"width: 100%; height: 100%;")}),(function(e){}))},B:{}}},function(t){return e[t]}}()}).property("value",{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""}).observer("value",(function(e){var t;this._value!==e&&(null===(t=this.$.input.$$)||void 0===t||t.setAttributes({value:e}),this._value=e)})).property("disabled",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:(0,r.Av)()}).observer("disabled",(function(e){var t=(0,r.Av)()||e;null!==this.$.input.$$&&this.$.input.$$.setAttributes({disable:t})})).property("focus",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1}).observer("focus",(function(e){this.setFocus(e)})).definition({properties:{maxlength:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:140,public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({maxLength:e})}},placeholder:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({placeholder:e})}},placeholderStyle:{type:i.Z.glassEasel.NormalizedPropertyType.Object,value:{},public:!0,observer:function(e){e&&null!==this.$.input.$$&&this.$.input.$$.setAttributes({placeholderStyle:{fontSize:parseFloat(e.fontSize)||16,fontWeight:e.fontWeight||"normal",color:e.color||"#000000"}})}},autoHeight:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:function(e){r.cj&&__wxConfig.clientVersion>=402663936||r.wZ&&__wxConfig.clientVersion>=671099392||r.gm?e?(this.toggleNodeClass(Wn,!1,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA),this.toggleNodeClass(Un,!0,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA),null!==this.$.input.$$&&this.$.input.$$.updateStyle("width: unset; height: unset; min-width: 100%; min-height: 100%;")):(this.toggleNodeClass(Un,!1,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA),this.toggleNodeClass(Wn,!0,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA),null!==this.$.input.$$&&this.$.input.$$.updateStyle("min-width: unset; min-height: unset; width: 100%; height: 100%;")):null!==this.$.input.$$&&this.$.input.$$.setAttributes({autoHeight:e})}},confirm:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0},cursorSpacing:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({cursorSpacing:e})}},cursorColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"#07C160",public:!0,observer:function(e){this.$.input.$$.setAttributes({cursorColor:e})}},showConfirmBar:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({showConfirmBar:e})}},confirmHold:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({confirmHold:e})}},confirmType:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"return",public:!0,observer:function(e){var t=e;Vn.includes(e)||(t="return"),null!==this.$.input.$$&&this.$.input.$$.setAttributes({confirmType:t})}},cursor:{type:null,value:-1,public:!0,observer:function(e){var t=this;Promise.resolve().then((function(){null!==t.$.input.$$&&t.$.input.$$.setAttributes({selectionStart:(0,b.He)(e),selectionEnd:(0,b.He)(e)})}))}},selectionStart:{type:null,value:-1,public:!0,observer:function(e){this.focus&&null!==this.$.input.$$&&this.$.input.$$.setAttributes({selectionStart:(0,b.He)(e)})}},selectionEnd:{type:null,value:-1,public:!0,observer:function(e){this.focus&&null!==this.$.input.$$&&this.$.input.$$.setAttributes({selectionEnd:(0,b.He)(e)})}},adjustPosition:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({adjustPosition:e})}},holdKeyboard:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:function(e){null!==this.$.input.$$&&this.$.input.$$.setAttributes({holdKeyboard:e})}}},listeners:{tap:function(){if((0,r.Av)())return this.checkSinglePageModeWithHighlight();this._keyboardShow||this.setFocus(!0)}},created:function(){this._attachedDefer=new $,null!==this.$.input.$$&&this.$.input.$$.setAttributes({isTextArea:!0,maxLines:!0,cursorColor:this.cursorColor}),this.viewId=this.getPositioningId(),this._keyboardShow=!1,this.bindEvent()},attached:function(){this._attached=!0,this._attachedDefer.resolve(),this._prevKeyboardHeight=0,(0,r.Av)()&&(this.disabled=!0),this.onPageEventAuto("hideKeyboard",this.onHideKeyboard.bind(this))},detached:function(){this._attached=!1,(0,Ft.L)(`setKeyboardValue_${this.viewId}`,(function(){}))},methods:{bindEvent:function(){null!==this.$.input.$$&&(this.$.input.$$.onKeyboardComplete(this.onKeyboardComplete.bind(this)),this.$.input.$$.onKeyboardConfirm(this.onKeyboardConfirm.bind(this)),this.$.input.$$.onKeyboardShow(this.onKeyboardShow.bind(this)),this.$.input.$$.onKeyboardValueChange(this.onKeyboardValueChange.bind(this)),this.$.input.$$.onKeyboardHeightChange(this.onKeyboardHeightChange.bind(this)),this.$.input.$$.onKeyboardSelectionChange(this.onSelectionChange.bind(this)),this.$.input.$$.onKeyboardCompositionStart(this.onKeyboardCompositionStart.bind(this)),this.$.input.$$.onKeyboardCompositionEnd(this.onKeyboardCompositionEnd.bind(this)),this.$.input.$$.onKeyboardCompositionUpdate(this.onKeyboardCompositionUpdate.bind(this)),this.$.input.$$.onKeyboardLineChange(this.onKeyboardLineChange.bind(this)))},resetFormData:function(){this.value=""},getFormData:function(e){this._keyboardShow?this.__formCallback=e:"function"==typeof e&&e(this.value)},setFocus:function(e){var t=this,n=[this._attachedDefer.promise,tn(this.getPageId())];r.cj&&n.push(new Promise((function(e){return setTimeout(e,0)}))),Promise.all(n).then((function(){null!==t.$.input.$$&&t.$.input.$$.setAttributes({focus:e})}))},onKeyboardLineChange:function(e,t,n){this.triggerEvent("linechange",{lineCount:n,height:e,heightRpx:t})},onKeyboardComplete:function(e){this._attached&&(this.value=this._value=e,"function"==typeof this.__formCallback&&(this.__formCallback(this.value),this.__formCallback=void 0),this.triggerEvent("blur",{value:e,cursor:this.cursor}),this._keyboardShow=!1)},onKeyboardConfirm:function(e){this.value=this._value=e,this.triggerEvent("confirm",{value:this.value})},onKeyboardShow:function(e,t){this._keyboardShow=!0,this.triggerEvent("focus",{value:this.value,height:t})},onKeyboardValueChange:function(e,t,n){var i=this;this.value=this._value=e,this.cursor=t,this.triggerEvent("input",{value:e,cursor:t,keyCode:n},{handleListenerReturn:function(e){if(null!=e&&!1!==e){var t="object"==typeof e?e.value+"":e+"";"object"!=typeof e||Number.isNaN(parseInt(e.cursor,10))||(i.cursor=parseInt(e.cursor,10)),i.value=t}}})},onKeyboardHeightChange:function(e,t){this.publish("onKeyboardHeightChange",{height:e}),e>65535&&(e=0),this._prevKeyboardHeight=e,this.triggerEvent("keyboardheightchange",{height:e,duration:t})},onSelectionChange:function(e,t){this.triggerEvent("selectionchange",{selectionStart:e,selectionEnd:t})},onKeyboardCompositionStart:function(e){this.triggerEvent("keyboardcompositionstart",{data:e})},onKeyboardCompositionEnd:function(e){this.triggerEvent("keyboardcompositionend",{data:e})},onKeyboardCompositionUpdate:function(e){this.triggerEvent("keyboardcompositionupdate",{data:e})},onHideKeyboard:function(){this._keyboardShow&&(null!==this.$.input.$$&&this.$.input.$$.blur(),this._keyboardShow=!1)}}}).registerComponent();const Gn=$n;var Zn=g("label").definition({behaviors:["base","report"],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()},options:{renderingMode:"full"},properties:{for:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0}},listeners:{"this.tap":"onTap"},attached:function(){this._findRelatedNode()},methods:{_findRelatedNode:function(){var e=null;this.for?this.ownerShadowRoot?e=this.ownerShadowRoot.getElementById(this.for):(e=document.getElementById(this.for))&&(e=e.__wxElement):e=this.dfs2(this),e&&e instanceof i.Z.glassEasel.Component&&e.hasBehavior("label-target")&&(e._relatedLabel=this,e._setRelatedLabelAria&&e._setRelatedLabelAria())},_handleNode:function(e,t){var n=i.Z.glassEasel;return!!(e instanceof n.Component&&e.hasBehavior("label-target"))&&(n.triggerEvent(e.shadowRoot,"labelTap",t.detail,{originalEvent:t._$originalEvent,bubbles:!1,composed:!0,extraFields:{touches:t.touches,changedTouches:t.changedTouches,__labelEvents:!0}}),!0)},dfs2:function(e){if(e instanceof i.Z.glassEasel.Component&&e.hasBehavior("label-target"))return e;if(!e.childNodes)return null;for(var t=0;t<e.childNodes.length;t++){var n=this.dfs2(e.childNodes[t]);if(n)return n}return null},dfs:function(e,t){if(this._handleNode(e,t))return!0;if(!e.childNodes)return!1;for(var n=0;n<e.childNodes.length;++n)if(this.dfs(e.childNodes[n],t))return!0;return!1},onTap:function(e){for(var t=e.target;t instanceof i.Z.glassEasel.Element&&t!==this;t=t.parentNode)if(t instanceof i.Z.glassEasel.Component&&t.hasBehavior("label-target"))return;if(this.for){var n=null;this.ownerShadowRoot?(n=this.ownerShadowRoot.getElementById(this.for))&&this._handleNode(n,e):(n=document.getElementById(this.for))&&this._handleNode(n.__wxElement,e)}else this.dfs(this,e)}}}).registerComponent();const Hn=Zn;var zn=n(3369),jn=g("radio").behavior(v.ZP).behavior(y.Z).behavior(nn.Z).behavior(ln.Z).behavior(zn.Z).behavior(Mn.Z).behavior(I.N).definition({behaviors:["base","label-target","disabled","item","label-aria"],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r,{innerColor:new Array(2),checked:new Array(1),disabled:new Array(1)}),o=!0===i;return{C:function(t,s,l){l("view",{},(function(e,t){t&&r(e,"wx-radio-wrapper")}),(function(t,s,l,u,c,d){l("view",{},(function(t,s){s&&e.i(t,"input"),(s||o||i.checked||i.disabled)&&r(t,"wx-radio-input "+pe(n.checked?"wx-radio-input-checked":"")+" "+pe(n.disabled?"wx-radio-input-disabled":"")),a.checked[0]=a.disabled[0]=function(e,n,i){r(t,"wx-radio-input "+pe(e.checked?"wx-radio-input-checked":"")+" "+pe(e.disabled?"wx-radio-input-disabled":""))},(s||o||i.innerColor||i.innerColor)&&e.y(t,"background-color: "+pe(n.innerColor)+"; border-color: "+pe(n.innerColor)+";"),a.innerColor[0]=a.innerColor[1]=function(n,i,r){e.y(t,"background-color: "+pe(n.innerColor)+"; border-color: "+pe(n.innerColor)+";")}}),(function(e){})),t?d(""):d()}))},B:a}},function(t){return e[t]}}()},properties:{color:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0}},data:{innerColor:"",iconFont:""},listeners:{tap:"_inputTap",labelTap:"_inputTap"},observers:{"checked, disabled, color":function(){this._attached&&this._updateColor()}},attached:function(){this._attached=!0,this._updateColor(),this._setAria("radio")},detached:function(){this._attached=!1},methods:{_getColor:function(e,t,n){return t?"":e?n:""},_updateColor:function(){var e=this._getColor(this.checked,this.disabled,this.color);this.setData({innerColor:e})},_inputTap:function(){if(this.disabled)return!1;this.checked||(this.checked=!0,this.changedByTap())}}}).registerComponent();const Yn=jn;var Kn=g("radio-group").definition({behaviors:["base","report","data-component","group",I.N],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()},properties:{value:{type:i.Z.glassEasel.NormalizedPropertyType.String}},created:function(){this._selectedItem=null},attached:function(){this.setAriaRoleDefault("radiogroup")},methods:{addItem:function(e){e.checked&&(this._selectedItem&&(this._selectedItem.checked=!1),this.value=e.value,this._selectedItem=e)},removeItem:function(e){this._selectedItem===e&&(this.value="",this._selectedItem=null)},renameItem:function(e,t){this._selectedItem===e&&(this.value=t)},changed:function(e){this._selectedItem===e?this.removeItem(e):this.addItem(e)}}}).registerComponent();const Xn=Kn;var qn="multiPickerViewChange";wx.on("onMultiPickerViewChange",(function(e){h.Z.trigger(qn,e)}));var Jn=g("picker").definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(t,n,i){i("view",{},(function(t,n){n&&e.i(t,"wrapper")}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:{}}},function(t){return e[t]}}()},behaviors:["base","report","data-component","single-page",I.N],options:{renderingMode:"full"},properties:{range:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:"rangeChanged"},value:{value:"",public:!0,observer:"valueChanged"},mode:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"selector",public:!0},fields:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"day",public:!0},start:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},end:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},disabled:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},rangeKey:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},customItem:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},headerText:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},level:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0}},listeners:{"wrapper.tap":"showPickerView"},attached:function(){if("date"===this.mode){var e=new Date;this._defaultDateValue=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},methods:{resetFormData:function(){"selector"===this.mode?this.value=-1:this.value="","number"==typeof this._groupID&&(this._groupID=null)},getFormData:function(e){this.__pickerShow?this.__formCallback=e:"function"==typeof e&&("region"===this.mode?this.__region_data_ready?e(this._getRegionByValue(this.value)):"object"==typeof this.value&&Array.isArray(this.value)?e(this.value):e([]):e(this.value))},formGetDataCallback:function(){"function"==typeof this.__formCallback&&this.__formCallback(this.value),this.__formCallback=void 0},showPickerView:function(){if((0,r.Av)())return this.checkSinglePageModeWithHighlight();if("date"===this.mode||"time"===this.mode)this.showDatePickerView();else if("multiSelector"===this.mode)this.showMultiPickerView();else if("region"===this.mode){Array.isArray(this.value)||(this.value=[]);var e=this.value.some((function(e){return!isNaN(e)}));!this.isValidLevel()||e?this.showRegionView():this.showAddressPickerView()}else"selector"===this.mode&&this.showSelector()},isValidLevel:function(){return["province","city","region","sub-district"].includes(this.level)},getCustomerStyle:function(){var e=this;return new Promise((function(t){null!==e.$.wrapper.$$&&e.$.wrapper.$$.getBoundingClientRect((function(e){t({width:e.width,height:e.height,left:e.left+window.scrollX,top:e.top+window.scrollY})}))}))},showSelector:function(){var e=s()((function*(){var e=this;if(!this.disabled){var t=parseInt(this.value,10);(isNaN(t)||t>=this.range.length)&&(t=0);var n=[],i=0;if(this.rangeKey)for(;i<this.range.length;i++){var r=this.range[i];n.push(r[this.rangeKey]+"")}else for(;i<this.range.length;i++)n.push(this.range[i]+"");this.invoke("showPickerView",{array:n,current:t,style:yield this.getCustomerStyle(),headerText:this.headerText},(function(t){/:ok/.test(t.errMsg)?void 0!==t.index&&(e.value=t.index.toString(),e.triggerEvent("change",{value:e.value})):/:(fail |fail:)?cancel/.test(t.errMsg)?e.triggerEvent("cancel",{}):e.triggerEvent("error",{errMsg:t.errMsg}),e.resetPickerState(),e.formGetDataCallback()})),this.__pickerShow=!0}}));return function(){return e.apply(this,arguments)}}(),showDatePickerView:function(){var e=s()((function*(){var e=this;this.disabled||(this.invoke("showDatePickerView",{range:{start:this.start,end:this.end},mode:this.mode,current:this.value||this._defaultDateValue,fields:this.fields,style:yield this.getCustomerStyle(),headerText:this.headerText},(function(t){/:ok/.test(t.errMsg)?(e.value=t.value,e.triggerEvent("change",{value:e.value})):e.triggerEvent("cancel",{}),e.resetPickerState(),e.formGetDataCallback()})),this.__pickerShow=!0)}));return function(){return e.apply(this,arguments)}}(),showAddressPickerView:function(){var e=this;this.disabled||(this.invoke("showAddressPickerView",{mode:this.level,current:this.value||[]},(function(t){if(/:ok/.test(t.errMsg)){for(var n=t.value.code.length,i=0;i<n&&!(i>=3);i++){var r=t.value.code[i].substr(0,6);t.value.code[i]=r}e.value=t.value.value,e.triggerEvent("change",t.value)}else e.triggerEvent("cancel",{});e.resetPickerState(),e.formGetDataCallback()})),this.__pickerShow=!0)},showMultiPickerView:function(e,t,n){var i=this;if(!this.disabled){var r=[],a=[],o=0,s=0;if(void 0!==e)this.value=r=e.current,this.range=a=e.array;else for(o=0;o<this.range.length;o++){Array.isArray(this.value)&&this.value.length?(r.push(parseInt(this.value[o],10)),(isNaN(r[o])||r[o]>=this.range[o].length)&&(r[o]=0)):r.push(0);var l=[];if(this.rangeKey)for(s=0;s<this.range[o].length;s++){var u=this.range[o][s];l.push(u[this.rangeKey]+"")}else for(s=0;s<this.range[o].length;s++)l.push(this.range[o][s]+"");a.push(l)}this.value||(this.value=r);var c=1===a.length&&a[0]&&0===a[0].length;this.invoke("showMultiPickerView",{array:a,current:r,headerText:this.headerText},(function(e){if(/:ok/.test(e.errMsg)){if(e.current&&!c){i.value=e.current;var t={value:"function"==typeof n?n(i.value):i.value};if("region"===i.mode){var r=i._getRegionCodeByValue(i.value);t.code=r.code,t.postcode=r.postcode}i.triggerEvent("change",t)}}else/:(fail |fail:)?cancel/.test(e.errMsg)?i.triggerEvent("cancel",{}):i.triggerEvent("error",{errMsg:e.errMsg});i.resetPickerState(),i.formGetDataCallback()})),this.__pickerShow=!0,this.__multi_picker_watching=!0,this._multiPickerViewChangeHandler=function(e){!e||!i.__pickerShow||i.value&&i.value[e.column]===e.current||(i.value[e.column]=e.current,"function"==typeof t?t(e):i.triggerEvent("columnchange",{column:e.column,value:e.current}))},h.Z.on(qn,this._multiPickerViewChangeHandler)}},showRegionView:function(){var e=this;if(!this.disabled){var t=function(t){var n=[e.value[0],e.value[1],e.value[2]];switch(n[t.column]=t.current,t.column){case 0:n[1]=0;case 1:n[2]=0;var i=e._getCurrentData(n);e.value=i.current,e.range=i.array;break;case 2:e.value=n}};this.__region_data_ready?this.showMultiPickerView(this._getCurrentData(this.value),t,this._getRegionByValue.bind(this)):this.invoke("getRegionData",{},(function(n){/:ok/.test(n.errMsg)&&(e._getRegionData(n.data),e.showMultiPickerView(e._getCurrentData(e.value),t,e._getRegionByValue.bind(e)))}))}},resetPickerState:function(){this.__pickerShow=!1,this._multiPickerViewChangeHandler&&h.Z.off(qn,this._multiPickerViewChangeHandler)},valueChanged:function(e,t){var n=this,i=function(r,a){if(!(r>=a)&&a){var o=0;if(Array.isArray(n.range[r])&&Array.isArray(e)&&Array.isArray(t)&&e[r]!==t[r]){var s=e[r]>=n.range[r].length?0:e[r],l=[];if(n.rangeKey)for(;o<n.range[r].length;o++){var u=n.range[r][o];l.push(u[n.rangeKey]+"")}else for(;o<n.range[r].length;o++)l.push(n.range[r][o]+"");n.invoke("updateMultiPickerView",{column:r,array:l,current:s},(function(e){/:ok/.test(e.errMsg)&&(n.value[r]=s,i(r+1,a))}))}else i(r+1,a)}};this.__pickerShow&&this.__multi_picker_watching&&i(0,e.length)},rangeChanged:function(e,t){var n=this,i=function(r,a){if(!(r>=a)){var o=0;if(Array.isArray(e[r])&&Array.isArray(t[r])&&!n._diffArray(e[r],t[r])){var s=n.value[r]>=e[r].length?0:n.value[r],l=[];if(n.rangeKey)for(;o<e[r].length;o++){var u=e[r][o];l.push(u[n.rangeKey]+"")}else for(;o<e[r].length;o++)l.push(e[r][o]+"");n.invoke("updateMultiPickerView",{column:r,array:l,current:s},(function(e){/:ok/.test(e.errMsg)&&(n.value[r]=s,i(r+1,a))}))}else i(r+1,a)}};this.__pickerShow&&this.__multi_picker_watching&&i(0,e.length)},_getRegionByValue:function(e){"object"==typeof e&&Array.isArray(e)||(e=[]);var t=this._getCurrentDataList(e);return[t.province.array[t.province.current],t.city.array[t.city.current],t.district.array[t.district.current]]},_getRegionCodeByValue:function(e){if("object"!=typeof e||!Array.isArray(e))return[];var t=""!==this.customItem,n=t?-1:0;if(t&&!e[0])return{code:[]};var i=this.__region_data_provinces[e[0]+n];if(t&&!e[1])return{code:[i.code+"0000"]};var r=this.__region_data_cities[i.code][e[1]+n];if(t&&!e[2])return{code:[i.code+"0000",r.code+"00"]};var a=this.__region_data_districts_other_info[r.code][e[2]+n];return{code:[i.code+"0000",r.code+"00",a.code],postcode:a.postcode}},_getRegionData:function(e){var t=this;this.__region_data_provinces=[],this.__region_data_cities={},this.__region_data_districts={},this.__region_data_districts_other_info={},this.__region_code_cities={},this.__region_code_districts={},this.__region_code_provinces=[],e.split("\n").forEach((function(e){var n=e.trim().split(/\s+/);if(3===n.length){var i=n[0],r=n[1],a=i.substr(0,2),o=i.substr(0,4);t.__region_data_cities[a]||(t.__region_data_cities[a]=[],t.__region_code_cities[a]=[]),t.__region_data_districts[o]||(t.__region_data_districts[o]=[],t.__region_code_districts[o]=[]),t.__region_data_districts_other_info[o]||(t.__region_data_districts_other_info[o]=[]),/0000$/.test(i)?(t.__region_data_provinces.push({code:a,name:r}),t.__region_code_provinces.push(`${a}0000`)):/00$/.test(i)?(t.__region_data_cities[a].push({code:o,name:r}),t.__region_code_cities[a].push(`${o}00`)):(t.__region_data_districts[o].push(r),t.__region_data_districts_other_info[o].push({postcode:n[2],code:i}),t.__region_code_districts[o].push(i))}})),this.__region_data_ready=!0},_getCurrentData:function(e){var t=this._getCurrentDataList(e);return{array:[t.province.array,t.city.array,t.district.array],current:[t.province.current,t.city.current,t.district.current]}},_getCurrentDataList:function(e){var t,n,i=e.length;return{province:t=i>=1?this._getCurrentDataEach(e[0],this.__region_data_provinces,this.__region_code_provinces):this._getCurrentDataEach(""!==this.customItem?this.customItem:this.__region_data_provinces[0].name,this.__region_data_provinces,this.__region_code_provinces),city:n=i>=2?this._getCurrentDataEach(e[1],-1===t.code?[]:this.__region_data_cities[t.code]||[],this.__region_code_cities[t.code]||[]):this._getCurrentDataEach(-1===t.code?this.customItem:this.__region_data_cities[t.code]?this.__region_data_cities[t.code][0].name:"",-1===t.code?[]:this.__region_data_cities[t.code]||[],this.__region_code_cities[t.code]||[]),district:i>=3?this._getCurrentDataEach(e[2],-1===n.code?[]:this.__region_data_districts[n.code]||[],this.__region_code_districts[n.code]||[]):this._getCurrentDataEach(-1===n.code?this.customItem:this.__region_data_districts[n.code]?this.__region_data_districts[n.code][0]:"",-1===n.code?[]:this.__region_data_districts[n.code]||[],this.__region_code_districts[n.code]||[])}},_getCurrentDataEach:function(e,t,n){var i=t.length&&"object"==typeof t[0],r={current:0,array:(""!==this.customItem?[this.customItem]:[]).concat(i?t.map((function(e){return e.name})):t)};if("number"==typeof e)r.current=e;else{var a=r.array.indexOf(e);a<=0&&(a=n.indexOf(e),""!==this.customItem&&a>=0&&a++),r.current=a}return r.current<0&&(r.current=0),i?""!==this.customItem?0===r.current?r.code=-1:r.code=t[r.current-1].code:r.code=t[r.current].code:t.length||(r.code=-1),r},_diffArray:function(e,t){if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]&&t[n]&&"object"==typeof e[n]&&"object"==typeof t[n]){if(e[n][this.rangeKey]!==t[n][this.rangeKey])return!1}else if(typeof e[n]!=typeof t[n]||e[n]!==t[n])return!1;return!0}}}).registerComponent();const Qn=Jn;var ei={};wx.on("onCameraNeedAuthCancel",(function(e){h.Z.trigger("onCameraNeedAuthCancel",e)})),wx.on("onCameraStop",(function(e){h.Z.trigger("onCameraStop",e)})),wx.on("onCameraInitDone",(function(e){h.Z.trigger("onCameraInitDone",e)})),wx.on("onCameraScanCode",(function(e){h.Z.trigger("onCameraScanCode",e)}));const ti=g("camera").behavior(v.ZP).behavior(y.Z).behavior(He.Z).behavior(ve.Z).behavior(A.Z).behavior(I.N).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={viewId:new Array(1)},s=!0===i;return{C:function(t,l,u){u("texture",{},(function(t,r){r&&e.i(t,"camera"),r&&a(t,"type","camera"),(r||s||i.viewId)&&a(t,"view_id",n.viewId),o.viewId[0]=function(e,n,i){a(t,"view_id",e.viewId),n(t)},r&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%;"),r&&a(t,"role","application")}),(function(e){})),u("view",{},(function(e,t){t&&r(e,"wx-camera-slot")}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:o}},function(t){return e[t]}}()}).definition({properties:{mode:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"normal",public:!0},resolution:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"medium",public:!0},devicePosition:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"back",public:!0,observer:"onDevicePositionChanged"},flash:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"auto",public:!0,observer:"onFlashChanged"},frameSize:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"onFrameSizeChanged"},filter:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0,observer:"onFilterChanged"},scanArea:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:"onScanAreaChanged"},needOutput:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},centerCrop:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0},viewId:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0}},lifetimes:{created:function(){var e=this;this._createdTimestamp=Date.now(),this.viewId=this.getPositioningId(),null!==this.$.camera.$$&&this.$.camera.$$.setAttributes({type:"camera",viewId:this.viewId}),this._nativeEventListeners=[];var t=function(t,n){var i=function(t){t.cameraId===e.viewId&&n(t)};e._nativeEventListeners.push([t,i]),h.Z.on(t,i)};t("onCameraNeedAuthCancel",(function(t){return e.triggerEvent("error",{msg:"user cancel auth"})})),t("onCameraStop",(function(t){return e.triggerEvent("stop",{})})),t("onCameraInitDone",(function(t){return e.triggerEvent("initdone",{maxZoom:t.maxZoom})})),t("onCameraScanCode",(function(t){return e.triggerEvent("scancode",{type:t.type,result:t.result,rawData:t.rawData,charSet:t.charSet,scanArea:t.scanArea})})),r.cj||r.wZ||(r.gm?(0,C.Dv)("camera","开发者工具暂未支持 Skyline 下的 camera 组件调试，请先到真机上预览调试。"):(0,C.Dv)("camera","当前平台暂未支持 Skyline 下的 camera 组件"))},detached:function(){var e=this,t={cameraId:this.viewId},n="removeCamera";r.wZ&&(n="removeXWebCamera",t.viewId=this.viewId),this.invoke(n,t,(function(){e._isInserted=!1,ei[e.getPageId()]=!1,e.publish("cameraRemoved",{cameraId:e.viewId,pluginId:e.getPluginId()})})),this._nativeEventListeners.forEach((function([e,t]){h.Z.off(e,t)}))}}}).methods({_initNativeView:function(e){var t=this;wx.checkPrivacy({apiName:"wx-camera.attached"}).catch((function(e){return{success:!0}})).then((function({success:n,errMsg:i,errno:r}){if(n){if(t._isInserted=!0,ei[t.getPageId()])return void(0,C.Dv)("camera","一个页面只能插入一个");t.insertCamera(e),ei[t.getPageId()]=!0,t._onRouteDone=function(){return t.updatePosition()},tn(t.getPageId(),t._onRouteDone)}else(0,C.Dv)("camera","errno: "+r+", errMsg: "+i)}))},insertCamera:function(e){var t=this,n=this.checkScanArea(this.scanArea),i={parentId:0,cameraId:this.viewId,position:{width:e.width,height:e.height},mode:this.mode,devicePosition:"scanCode"===this.mode?"back":this.devicePosition,flash:this.flash,filter:this.filter,hide:this.hidden,scanArea:n,centerCrop:this.centerCrop,resolution:this.resolution};this.frameSize&&(i.size=this.frameSize);var a="insertCamera";r.wZ&&(a="insertXWebCamera",i.viewId=this.viewId),this.insertNativeView(a,i,(function(e){/:ok/.test(e.errMsg)?t.publish("cameraInserted",{cameraId:t.viewId,pluginId:t.getPluginId(),bindings:{bindstop:t.bindstop,binderror:t.binderror,bindoutput:t.bindoutput,bindscancode:t.bindscancode,bindinitdone:t.bindinitdone,target:{dataset:t.dataset,id:t.id,offsetTop:t.$$.offsetTop,offsetLeft:t.$$.offsetLeft},createdTimeStamp:t._createdTimestamp,mode:t.mode,nodeId:t.getNodeId()}}):t.triggerEvent("error",{errMsg:e.errMsg})}))},updateCamera:function(e={}){if(this._isInserted)if(this._isReady){e.cameraId=this.viewId,e.devicePosition="scanCode"===this.mode?"back":this.devicePosition,e.filter=this.filter,e.flash=this.flash;var t="updateCamera";r.wZ&&(t="updateXWebCamera",e.viewId=this.viewId),this.updateNativeView(t,e)}else this._delay("updateCamera",e)},_updatePosition:function(e){this._isReady&&this.updateCamera({position:e})},onDevicePositionChanged:function(){"scanCode"!==this.mode?this.updateCamera():(0,C.Dv)("camera","cannot change device-position in 'scanCode' mode")},onFlashChanged:function(){this.updateCamera()},onFrameSizeChanged:function(e){return"small"!==(e=e||"medium")&&"medium"!==e&&"large"!==e&&(e="medium"),e},onFilterChanged:function(){this.updateCamera()},onScanAreaChanged:function(e){var t=this.checkScanArea(e);this.updateCamera({scanArea:t})},onHiddenChanged:function(e){e?this.updateCamera({hide:this.hidden,position:{width:0,height:0}}):this.updatePosition(),this.publish("cameraUpdated",{cameraId:this.viewId,hidden:e})},updatePosition:function(){var e=this._box;if(e){var t={hide:this.hidden,position:{width:e.width,height:e.height}};this.updateCamera(t)}},checkScanArea:function(e){return 0===e.length?[0,0,this._box.width,this._box.height]:"scanCode"!==this.mode||"[object Array]"===Object.prototype.toString.call(e)&&4===e.length?((e=e.slice())[0]=e[0]<0||e[0]>this._box.width?0:e[0],e[1]=e[1]<0||e[1]>this._box.height?0:e[1],e[2]=e[0]+e[2]>=this._box.width?this._box.width-e[0]:e[2],e[3]=e[1]+e[3]>=this._box.height?this._box.height-e[1]:e[3],e):((0,C.Dv)("camera","scan-area 格式不正确"),[0,0,this._box.width,this._box.height])},getContextId:function(){return this.viewId}}).registerComponent(),ni=g("checkbox").behavior(v.ZP).behavior(y.Z).behavior(nn.Z).behavior(zn.Z).behavior(ln.Z).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r,{checked:new Array(1),disabled:new Array(1),iconFont:new Array(1),_color:new Array(1)}),o=!0===i;return{C:function(t,s,l){l("view",{},(function(e,t){t&&r(e,"wx-checkbox-wrapper")}),(function(t,s,l,u,c,d){l("view",{},(function(t,s){s&&e.i(t,"input"),(s||o||i.checked||i.disabled)&&r(t,"wx-checkbox-input "+pe(n.checked?"wx-checkbox-input-checked":"")+" "+pe(n.disabled?"wx-checkbox-input-disabled":"")),a.checked[0]=a.disabled[0]=function(e,n,i){r(t,"wx-checkbox-input "+pe(e.checked?"wx-checkbox-input-checked":"")+" "+pe(e.disabled?"wx-checkbox-input-disabled":""))}}),(function(t,s,l){l("view",{},(function(t,s){s&&r(t,"wx-checkbox-icon"),(s||o||i._color)&&e.y(t,"color: "+pe(n._color)+";"),a._color[0]=function(n,i,r){e.y(t,"color: "+pe(n._color)+";")}}),(function(e,t){e||o||i.iconFont?t(pe(n.iconFont),(function(e){a.iconFont[0]=function(t,n,i){i(e,pe(t.iconFont))}})):t()}))})),t?d(""):d()}))},B:a}},function(t){return e[t]}}()}).definition({options:{},properties:{color:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"onColorChanged"},_color:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""}},data:{iconFont:""},listeners:{tap:"onTap",labelTap:"onTap"},methods:{onColorChanged:function(e){this._color=this.checked?e:""},onCheckedChanged:function(e){this._color=e?this.color:""},onTap:function(){if(this.disabled)return!1;this.checked=!this.checked,this.changedByTap()}}}).registerComponent();var ii=g("checkbox-group").definition({is:"checkbox-group",template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()},behaviors:["base","report","data-component","group"],options:{renderingMode:"full",lazyRegistration:!0},properties:{value:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[]}},methods:{addItem:function(e){e.checked&&this.value.push(e.value)},removeItem:function(e){if(e.checked){var t=this.value.indexOf(e.value);t>=0&&this.value.splice(t,1)}},renameItem:function(e,t,n){if(e.checked){var i=this.value.indexOf(n);i>=0&&(this.value[i]=t)}},changed:function(e){if(e.checked)this.value.push(e.value);else{var t=this.value.indexOf(e.value);t>=0&&this.value.splice(t,1)}}}}).registerComponent();const ri=ii;var ai=g("form").behavior(v.ZP).behavior(y.Z).behavior(I.N).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(t,n,i){i("view",{},(function(t,n){n&&e.i(t,"wrapper")}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:{}}},function(t){return e[t]}}()},options:{renderingMode:"full",lazyRegistration:!0},properties:{reportSubmit:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},reportSubmitTimeout:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0}},listeners:{"this.formSubmit":"onSubmit","this.formReset":"onReset"},lifetimes:{attached:function(){var e=this;this._onRouteDone=function(){return e.uniqueId=Date.now()/1e3|0},tn(this.getPageId(),this._onRouteDone)},detached:function(){}},methods:{resetDfs:function(e){if(e.childNodes){var t=i.Z.glassEasel;t.ElementIterator.create(this.shadowRoot,t.ElementIteratorType.ShadowDescendantsRootFirst,t.Component).forEach((function(e){return e.hasBehavior(Jt.Z)&&e.resetFormData(),!0}))}},getFormData:function(e,t){if(e instanceof i.Z.glassEasel.Component){if(e.hasBehavior("data-component"))return"input"===e.is||"picker"===e.is||"textarea"===e.is?e.getFormData((function(e){return t(e)})):t(e.getFormData());if(e.hasBehavior(S.aA))return t(e.data.value);if(e.hasBehavior(S.e7))return this.asyncDfs(e.shadowRoot,t)}return t()},asyncDfs:function(e,t){var n=this,r=function(){"function"==typeof t&&t(),t=void 0};if(!e.childNodes)return r();for(var a=e.childNodes.length,o=i.Z.glassEasel,s=0;s<e.childNodes.length;++s){var l=e.childNodes[s];l instanceof o.Element?function(e){n.getFormData(e,(function(t){if(void 0!==t){var i=e.name||e.data.name;i&&(n._data[i]=t)}n.asyncDfs(e,(function(){0==--a&&r()}))}))}(l):--a}0===a&&r()},doSubmit:function(e,t,n){var a=this;this.asyncDfs(this,(function(){i.Z.glassEaselAdapter.wrapTapMark((function(){if(a.reportSubmit||a.reportSubmitTimeout>0)if((0,C.Dv)("form","2020年01月10日起，新发布的小程序将不能使用模板消息，请开发者迁移至订阅消息功能"),a.getPluginId()!==n)a.triggerEvent("submit",{value:a._data,formId:"the formId is not available across plugins",target:e},{extraFields:{_requireActive:!0}});else if("develop"===__wxConfig.envVersion||"trial"===__wxConfig.envVersion)a.triggerEvent("submit",{value:a._data,formId:"the formId is no longer available in develop or trial version of this mini program",target:e},{extraFields:{_requireActive:!0}});else if(r.gm)a.triggerEvent("submit",{value:a._data,formId:"the formId is a mock one",target:e},{extraFields:{_requireActive:!0}});else{var i=a._data,o=function(t,n,r){a.triggerEvent(t,{value:i,formIdAllocated:n,formId:r,target:e},{extraFields:{_requireActive:!0}})},s=a.reportSubmitTimeout;s>0&&o("beforereportsubmit"),wx.reportFormId({source:"form",sourceDetail:{component:a.ownerShadowRoot?a.ownerShadowRoot.getHostNode().is:""},formId:t,pluginAppId:a.getPluginId().split("/",1)[0],timeout:s,success:function(){o("submit",!0,t)},fail:function({errMsg:e}){o("submit",!1,e)}}),a.invoke("reportSubmitForm",{noCallback:!0})}else a.triggerEvent("submit",{value:a._data,target:e},{extraFields:{_requireActive:!0}})}))}))},onSubmit:function(e){var t,n,i={id:e.target.id,dataset:e.target.dataset,offsetTop:(null===(t=e.target.$$)||void 0===t?void 0:t.offsetTop)||0,offsetLeft:(null===(n=e.target.$$)||void 0===n?void 0:n.offsetLeft)||0};return this._data=Object.create(null),this.doSubmit(i,e.detail.formId,e.detail.formPluginId),!1},onReset:function(e){var t,n,i={id:e.target.id,dataset:e.target.dataset,offsetTop:(null===(t=e.target.$$)||void 0===t?void 0:t.offsetTop)||0,offsetLeft:(null===(n=e.target.$$)||void 0===n?void 0:n.offsetLeft)||0};return this._data=Object.create(null),this.resetDfs(this),this.triggerEvent("reset",{target:i}),!1}}}).registerComponent();const oi=ai;class si{static create(){return new si}createInstance(e){var t=e.getBackendContext(),n=t.createElement("empty","root-portal-content");n.__backendContext=t,n.__wxElement=e;var i=new li(t,n);return e.__portalContent=n,i}}class li{constructor(e,t){this.data={},this.idMap={},this.slots=void 0,this.listeners=[],this.shadowRoot=void 0,this.slots={"":t},this.shadowRoot={root:t,slot:t,getIdMap:function(){return{}},handleEvent:function(){},setListener:function(){}}}initValues(){}updateValues(){}}var ui=g("root-portal").behavior(v.ZP).behavior(y.Z).behavior(I.N).options({externalComponent:!0,templateEngine:si}).property("enable",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0}).init((function({lifetime:e,self:t,observer:n}){var r,a,o,s=[];e("created",(function(){r=!0,a=!1,o=!1}));var l=function(){return t.__portalContent},u=function(e){if(!a){a=!0;var n=l();if(e){n.setStyle("position: absolute"),n.setClass("__wx_portal-content");var r=i.Z.glassEasel,o=function(e){var t=e.asElement();null!=t&&t.childNodes&&t.childNodes.forEach((function(e){if(e.$$&&e.classList){if(e.toggleNodeClass("__wx_portal-content-events-auto",!0,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA),!e.__isRootPortalObserved){var t=r.Observer.create((function(e){"properties"===e.type&&"class"===e.attributeName&&e.target.toggleNodeClass("__wx_portal-content-events-auto",!0,i.Z.glassEasel.StyleSegmentIndex.TEMPLATE_EXTRA)}));t.observe(e,{properties:!0}),s.push(t),e.__isRootPortalObserved=!0}}else o(e)}))};o(t);var u=r.Observer.create((function(e){("childList"===e.type||"properties"===e.type&&"class"===e.attributeName)&&o(e.target)}));u.observe(t,{childList:!0}),s.push(u);var c=t.getBackendContext();c&&c.getRootNode().appendChild(n)}else{var d;n.setStyle("position: relative; height: 100%; width: 100%;"),n.setClass(""),null===(d=t.$$)||void 0===d||d.appendChild(n)}}},c=function(e){if(a){a=!1;var n=l();if(s&&(s.forEach((function(e){return e.disconnect()})),s.length=0),e){var i=t.getBackendContext();i&&i.getRootNode().removeChild(n)}else{var r;null===(r=t.$$)||void 0===r||r.removeChild(n)}}};n("enable",(function(e){e!==r&&a?(c(r),u(e),r=e):r=e}));var d=function(){if(o){var e=t.$$.isConnected,n=t.data.enable;e?u(n):c(n)}};e("attached",(function(){var e,t;o=!0,null===(e=wx)||void 0===e||null===(t=e.onPageReRender)||void 0===t||t.call(e,d),setTimeout(d)})),e("detached",(function(){var e,n;o=!1,null===(e=wx)||void 0===e||null===(n=e.offPageReRender)||void 0===n||n.call(e,d),c(t.data.enable),delete t.__portalContent,t.shadowRoot.slot.release(),t.shadowRoot.slot=null,t.shadowRoot.root=null,t._$tmplInst.slots={}}))})).registerComponent();const ci=ui;var di=new WeakMap,pi=di.set.bind(di),hi=di.delete.bind(di),fi=(di.has.bind(di),di.get.bind(di),g("xr-frame").definition({behaviors:["base","report"],options:{renderingMode:"full"},data:{catchEvent:!0},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m;var r=e.r,a={catchEvent:new Array(4),height:new Array(1),width:new Array(1)},o=!0===i;return{C:function(t,s,l){l("canvas",{},(function(t,s){s&&e.i(t,"canvas"),s&&e.y(t,"height: 100%; width: 100%"),(s||o||i.catchEvent)&&e.r(t,"catchtouchstart",n.catchEvent?"onTouchEvent":""),a.catchEvent[0]=function(n,i,r){e.r(t,"catchtouchstart",n.catchEvent?"onTouchEvent":""),i(t)},(s||o||i.catchEvent)&&e.r(t,"catchtouchmove",n.catchEvent?"onTouchEvent":""),a.catchEvent[1]=function(n,i,r){e.r(t,"catchtouchmove",n.catchEvent?"onTouchEvent":""),i(t)},(s||o||i.catchEvent)&&e.r(t,"catchtouchend",n.catchEvent?"onTouchEvent":""),a.catchEvent[2]=function(n,i,r){e.r(t,"catchtouchend",n.catchEvent?"onTouchEvent":""),i(t)},(s||o||i.catchEvent)&&e.r(t,"catchtouchcancel",n.catchEvent?"onTouchEvent":""),a.catchEvent[3]=function(n,i,r){e.r(t,"catchtouchcancel",n.catchEvent?"onTouchEvent":""),i(t)},(s||o)&&r(t,"disable-scroll",!0),s&&r(t,"type","webgl"),(s||o||i.width)&&r(t,"renderWidth",n.width),a.width[0]=function(e,n,i){r(t,"renderWidth",e.width),n(t)},(s||o||i.height)&&r(t,"renderHeight",n.height),a.height[0]=function(e,n,i){r(t,"renderHeight",e.height),n(t)}}),(function(e){}))},B:a}},function(t){return e[t]}}()},properties:{width:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:300},height:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:150}},attached:function(){this.$.canvas.isXrFrame=!0,this.xrFrameTouchEventBubble&&(pi(this.$.canvas.$.texture.$$,this),this.setData({catchEvent:!1}))},detached:function(){this.xrFrameTouchEventBubble&&hi(this.$.canvas.$.texture.$$)},methods:{onTouchEvent:function(){return this.xrFrameTouchEventBubble}}}).registerComponent());const _i=fi;var vi=["static","dynamic"],gi=g("list-builder").definition({behaviors:["report"],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={childCount:new Array(1),childHeight:new Array(1),style:new Array(1)},s=!0===i;return{C:function(t,l,u){u("listbuilder",{},(function(t,l){l&&r(t,"class"),(l||s||i.style)&&e.y(t,n.style),o.style[0]=function(n,i,r){e.y(t,n.style)},l&&e.i(t,"listbuilder"),(l||s||i.childCount||he(i.list,"length"))&&a(t,"childCount",n.childCount||de(n.list).length||0),o.childCount[0]=function(e,n,i){a(t,"childCount",e.childCount||de(e.list).length||0),n(t)},(l||s||i.childHeight)&&a(t,"childHeight",n.childHeight),o.childHeight[0]=function(e,n,i){a(t,"childHeight",e.childHeight),n(t)}}),(function(t,r,o,l,u){u(n.displayList,"*this",i?i.displayList:void 0,["displayList"],(function(t,r,o,l,u,c,d,p){p("listbuilderitem",{},(function(e,t){(t||s||l)&&a(e,"index",r)}),(function(t,a,o,u,c,d){var p=function(a){var o=r;(t||s||l||he(i.list,o))&&e.l(a,"item",de(n.list)[o]),(t||s||l)&&e.l(a,"index",r)};d(t?"":void 0,p)}))}))}))},B:o}},function(t){return e[t]}}()},options:{virtualHost:!0,dynamicSlots:!0,reflectToAttributes:!0},externalClasses:["class"],properties:{style:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:{},public:!0,observer:function(e){if(e){var t=this.$.listbuilder.$$;null!==t&&("string"==typeof e?t.setStyle(e):console.warn("ListBuilder component style should be string."))}}},list:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0},type:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"static",public:!0,observer:function(e){var t=e;-1===vi.indexOf(t)&&(console.warn(`For Developer:Do not support the attribute ${t} in list-builder, but it probably works for higher version.`),t="static"),null!==this.node&&this.node.setAttributes({type:t})}},childCount:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0},childHeight:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0},padding:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:function(e){this.$.listbuilder.$$.setAttributes({padding:[0,0,0,0].map((function(t,n){return c(e[n])}))})}}},data:{displayList:[]},lifetimes:{created:function(){var e=this;this.node=this.$.listbuilder.$$,null!==this.node&&(this.node.onBuildChild((function(t){var n=e.data.displayList;if(!(n.indexOf(t)>=0)){for(var i=-1,r=0,a=n.length;r<a;r++){if(t>=n[r]){i=r;break}}-1===i?e.spliceArrayDataOnPath(["displayList"],n.length,0,[t]):e.spliceArrayDataOnPath(["displayList"],i,0,[t]),e.applyDataUpdates(),e.triggerEvent("itembuild",{index:t})}})),this.node.onDisposeChild((function(t){var n=e.data.displayList.indexOf(t);-1!==n&&(e.spliceArrayDataOnPath(["displayList"],n,1,[]),e.applyDataUpdates(),e.triggerEvent("itemdispose",{index:t}))})))},detached:function(){this.node=null}},methods:{}}).registerComponent(),mi=["aligned","masonry"],Ei=g("grid-builder").definition({behaviors:["report"],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={childCount:new Array(1),style:new Array(1),mainAxisGap:new Array(1),crossAxisGap:new Array(1)},s=!0===i;return{C:function(t,l,u){u("gridbuilder",{},(function(t,l){l&&r(t,"class"),(l||s||i.style)&&e.y(t,n.style),o.style[0]=function(n,i,r){e.y(t,n.style)},l&&e.i(t,"gridbuilder"),(l||s||i.childCount||he(i.list,"length"))&&a(t,"childCount",n.childCount||de(n.list).length||0),o.childCount[0]=function(e,n,i){a(t,"childCount",e.childCount||de(e.list).length||0),n(t)},(l||s||i.mainAxisGap)&&a(t,"mainAxisGap",n.mainAxisGap),o.mainAxisGap[0]=function(e,n,i){a(t,"mainAxisGap",e.mainAxisGap),n(t)},(l||s||i.crossAxisGap)&&a(t,"crossAxisGap",n.crossAxisGap),o.crossAxisGap[0]=function(e,n,i){a(t,"crossAxisGap",e.crossAxisGap),n(t)}}),(function(t,r,o,l,u){u(n.displayList,"*this",i?i.displayList:void 0,["displayList"],(function(t,r,o,l,u,c,d,p){p("gridbuilderitem",{},(function(e,t){(t||s||l)&&a(e,"index",r)}),(function(t,a,o,u,c,d){var p=function(a){var o=r;(t||s||l||he(i.list,o))&&e.l(a,"item",de(n.list)[o]),(t||s||l)&&e.l(a,"index",r)};d(t?"":void 0,p)}))}))}))},B:o}},function(t){return e[t]}}()},options:{virtualHost:!0,dynamicSlots:!0,reflectToAttributes:!0},externalClasses:["class"],properties:{style:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:{},public:!0,observer:function(e){if(e){var t=this.$.gridbuilder.$$;null!==t&&("string"==typeof e?t.setStyle(e):console.warn("GridBuilder style should be string."))}}},list:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0},type:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"aligned",public:!0,observer:function(e){var t=e;-1===mi.indexOf(t)&&(console.warn(`For Developer:Do not support the attribute ${t} in grid-builder, but it probably works for higher version.`),t="aligned"),null!==this.node&&this.node.setAttributes({type:t})}},childCount:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0},crossAxisCount:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:2,public:!0,observer:function(e){e<=0?console.warn("crossAxisCount for grid-builder component must be great than 0"):null!==this.$.gridbuilder.$$&&this.$.gridbuilder.$$.setAttributes({crossAxisCount:e})}},maxCrossAxisExtent:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0,observer:function(e){e<=0?console.warn("maxCrossAxisExtent for grid-builder component must be great than 0"):null!==this.$.gridbuilder.$$&&this.$.gridbuilder.$$.setAttributes({maxCrossAxisExtent:e})}},mainAxisGap:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0},crossAxisGap:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0},padding:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:function(e){this.$.gridbuilder.$$.setAttributes({padding:[0,0,0,0].map((function(t,n){return c(e[n])}))})}}},data:{displayList:[]},lifetimes:{created:function(){var e=this;this.node=this.$.gridbuilder.$$,null!==this.node&&(this.node.onBuildChild((function(t){var n=e.data.displayList;if(!(n.indexOf(t)>=0)){for(var i=-1,r=0,a=n.length;r<a;r++){if(t>=n[r]){i=r;break}}-1===i?e.spliceArrayDataOnPath(["displayList"],n.length,0,[t]):e.spliceArrayDataOnPath(["displayList"],i,0,[t]),e.applyDataUpdates(),e.triggerEvent("itembuild",{index:t})}})),this.node.onDisposeChild((function(t){var n=e.data.displayList.indexOf(t);-1!==n&&(e.spliceArrayDataOnPath(["displayList"],n,1,[]),e.applyDataUpdates(),e.triggerEvent("itemdispose",{index:t}))})))},detached:function(){this.node=null}},methods:{}}).registerComponent(),yi=g("sticky-section").definition({behaviors:["report"],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(t,n,i){i("stickysection",{},(function(t,n){n&&e.i(t,"stickySection")}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:{}}},function(t){return e[t]}}()},options:{virtualHost:!0},properties:{pushPinnedHeader:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,public:!0,observer:function(e){null!==this.$.stickySection.$$&&this.$.stickySection.$$.setAttributes({pushPinnedHeader:e})}},style:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},class:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},padding:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:function(e){null!==this.$.stickySection.$$&&this.$.stickySection.$$.setAttributes({padding:[0,0,0,0].map((function(t,n){return c(e[n])}))})}}},methods:{}}).registerComponent(),Ti=g("sticky-header").behavior(m.Z).definition({behaviors:["report",I.N],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(t,n,i){i("stickyheader",{},(function(t,n){n&&e.i(t,"stickyheader")}),(function(t,n,i){i("view",{},(function(t,n){n&&e.i(t,"boundary")}),(function(e,t,n,i,r,a){e?a(""):a()}))}))},B:{}}},function(t){return e[t]}}()},options:{virtualHost:!0,listenerChangeLifetimes:!0},properties:{offsetTop:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0,observer:function(e){null!==this.$.stickyheader.$$&&this.$.stickyheader.$$.setAttributes({offsetTop:e})}},padding:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:function(e){null!==this.$.stickyheader.$$&&this.$.stickyheader.$$.setAttributes({padding:[0,0,0,0].map((function(t,n){return c(e[n])}))})}}},methods:{bindEvent:function(){var e={stickontopchange:{observer:this.onstickontopchange.bind(this)}};this.listenNativeEvents(e)},onstickontopchange:function(e){var t=this;e&&null!==this.node&&this.$.stickyheader.$$.onStickOnTopChangeEvent((function(e){t.triggerEvent("stickontopchange",{stickOnTop:e})}))}},created:function(){var e,t;null===(e=(t=this.$.boundary.$$).markAsRepaintBoundary)||void 0===e||e.call(t),this.bindEvent()}}).registerComponent(),bi=g("list-view").definition({behaviors:["report"],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()},options:{hostNodeTagName:"listview"},properties:{padding:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:function(e){null!==this.$$&&this.$$.setAttributes({padding:[0,0,0,0].map((function(t,n){return c(e[n])}))})}}},methods:{}}).registerComponent(),Ci=g("grid-view").definition({behaviors:["report"],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()},options:{hostNodeTagName:"gridview"},properties:{type:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"aligned",public:!0,observer:function(e){var t=this.nativeNode();null!==t&&t.setAttributes({type:e})}},crossAxisCount:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:2,public:!0,observer:function(e){if(e<=0)console.warn("crossAxisCount for grid-view component must be great than 0");else{var t=this.nativeNode();null!==t&&t.setAttributes({crossAxisCount:e})}}},maxCrossAxisExtent:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0,observer:function(e){if(e<=0)console.warn("maxCrossAxisExtent for grid-view component must be great than 0");else{var t=this.nativeNode();null!==t&&t.setAttributes({maxCrossAxisExtent:e})}}},mainAxisGap:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0,observer:function(e){var t=this.nativeNode();null!==t&&t.setAttributes({mainAxisGap:e})}},crossAxisGap:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0,observer:function(e){var t=this.nativeNode();null!==t&&t.setAttributes({crossAxisGap:e})}},padding:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:function(e){var t=this.nativeNode();null!==t&&t.setAttributes({padding:[0,0,0,0].map((function(t,n){return c(e[n])}))})}}},methods:{nativeNode:function(){return this.getShadowRoot().getHostNode().$$}}}).registerComponent(),Si=g("nested-scroll-header").definition({behaviors:["report"],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n){n("nestedscrollheader",{},(function(e,t){}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:{}}},function(t){return e[t]}}()},options:{virtualHost:!0}}).registerComponent(),Ai=g("nested-scroll-body").definition({behaviors:["report"],template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m;var r=e.r,a={offsetTop:new Array(1)},o=!0===i;return{C:function(e,t,s){s("nestedscrollbody",{},(function(e,t){(t||o||i.offsetTop)&&r(e,"offsetTop",n.offsetTop),a.offsetTop[0]=function(t,n,i){r(e,"offsetTop",t.offsetTop),n(e)}}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:a}},function(t){return e[t]}}()},options:{virtualHost:!0,reflectToAttributes:!0},properties:{offsetTop:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0,public:!0}}}).registerComponent(),Ii=g("page-meta").template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()}).behavior(v.ZP).behavior(y.Z).behavior(Qt.Z).behavior(I.N).definition({properties:{backgroundTextStyle:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(){this._update("backgroundTextStyle")}},backgroundColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(){this._update("backgroundColor")}},backgroundColorTop:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(){this._update("backgroundColor")}},backgroundColorBottom:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(){this._update("backgroundColor")}},rootBackgroundColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(e){this.backgroundColor=e}},pageStyle:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(){this._update("pageStyle")}},rootFontSize:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(e){this.setData({pageFontSize:e})}},pageOrientation:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(){this._update("pageOrientation")}},pageFontSize:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:function(){this._update("pageStyle")}}},observers:{},created:function(){this._dirtyFields={backgroundTextStyle:!1,backgroundColor:!1,pageStyle:!1,pageFontSize:!1,pageOrientation:!1},this._dirtyTobj=null},attached:function(){var e=this,t=this.parentNode,n=this._$ownerRenderRoot;t instanceof i.Z.glassEasel.ShadowRoot&&t.getHostNode()===n.root&&t.childNodes[0]===this?(this._valid=!0,this._windowResizeHandler=function({size:t}){e.triggerEvent("resize",{size:t})},wx.onWindowResize(this._windowResizeHandler),this._attached=!0):(this._valid=!1,(0,C.Dv)("page-meta","只能是页面内的第一个节点，且不能被 wx:if 或 wx:for 动态变更")),setTimeout((function(){return e._update("")}))},detached:function(){wx.offWindowResize(this._windowResizeHandler)},methods:{_convertFontSize:function(e){return"system"===e?window.__fontSizeSetting__+"px":this.normalizeSizeStr(e)},_update:function(e){var t=this;if(e&&(this._dirtyFields[e]=!0),this._attached&&this._valid){if(this._dirtyFields.pageStyle||this._dirtyFields.pageFontSize){var n,i;this._dirtyFields.pageStyle=!1,this._dirtyFields.pageFontSize=!1;var r="";if(this.data.pageStyle&&(r+=this.data.pageStyle),this.data.pageFontSize)r+=`;font-size: ${this._convertFontSize(this.data.pageFontSize)}`;var a=null===(n=this.ownerShadowRoot)||void 0===n?void 0:n.getHostNode().$$;null==a||null===(i=a.updateStyle)||void 0===i||i.call(a,r);var o=this.getBackendContext();o&&setTimeout((function(){return o.recalcStyle()}))}this._dirtyTobj||(this._dirtyTobj=setTimeout((function(){t._dirtyTobj=null,t._applyUpdates()})))}},_applyUpdates:function(){this._dirtyFields.backgroundTextStyle&&(this._dirtyFields.backgroundTextStyle=!1,wx.setBackgroundTextStyle({textStyle:this.data.backgroundTextStyle,fail:function(e){(0,C.Dv)("page-meta",e.errMsg)}})),this._dirtyFields.backgroundColor&&(this._dirtyFields.backgroundColor=!1,wx.setBackgroundColor({backgroundColor:this.data.backgroundColor,backgroundColorTop:this.data.backgroundColorTop,backgroundColorBottom:this.data.backgroundColorBottom,fail:function(e){(0,C.Dv)("page-meta",e.errMsg)}})),this._dirtyFields.pageOrientation&&(this._dirtyFields.pageOrientation=!1,wx.invoke("setPageOrientation",{orientation:this.data.pageOrientation},$t.Z))}}}).registerComponent();const Pi=Ii;var wi=g("debug").behavior(v.ZP).behavior(y.Z).behavior(I.N).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()},properties:{type:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0}},listeners:{"this.tap":"onTap"},methods:{onTap:function(){var e=this.getPageId(),t=i.Z.getInstance().getContext(e);"widget"===this.data.type?t.debugWidgetTree():"render"===this.data.type?t.debugRenderTree():"layer"===this.data.type&&t.debugLayerTree()}}}).registerComponent();const Ri=wi;var xi=n(3780),Oi="picker-view-column",Ni=g(Oi).behavior(v.ZP).behavior(y.Z).behavior(E.Z).behavior(T.Z).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()},options:{hostNodeTagName:Oi},properties:{},relations:{"picker-view":{type:"parent"}},lifetimes:{attached:function(){this.attachNativeEvents(),this._setCurrent(this._getCurrent())}},methods:{attachNativeEvents:function(){var e=this;if(null!==this.$$){var t={bubbles:!0};this.$$.onChangeEvent((function(n){e._current=n,e.triggerEvent("wxPickerColumnValueChanged",{idx:n},t)})),this.$$.onStartEvent((function(){return e.triggerEvent("wxPickerColumnValueChangeStart",{},t)})),this.$$.onEndEvent((function(){return e.triggerEvent("wxPickerColumnValueChangeEnd",{},t)}))}},_getCurrent:function(){return this._current||0},_setCurrent:function(e){this._current=Math.max(e,0),this.$$&&this.$$.setCurrent(this._current)},_setMaskStyle:function(e,t){},_setIndicatorStyle:function(e){this._indicatorStyle=e,this.$$&&this.$$.setIndicatorStyle(this._indicatorStyle)},_setImmediateChangeChanged:function(e){this.$$&&this.$$.setImmediateChangeChanged(!!e)}}}).registerComponent();const Di=Ni;var ki=g("picker-view").behavior(v.ZP).behavior(y.Z).behavior(Jt.Z).behavior(xi.Z).definition({is:"picker-view",template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c;e.m,e.r;return{C:function(t,n,i){i("view",{},(function(t,n){n&&e.i(t,"wrapper"),n&&r(t,"wrapper")}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:{}}},function(t){return e[t]}}()},properties:{value:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0,observer:"_valueChanged"},indicatorStyle:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"_indicatorStyleChange"},indicatorClass:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},maskStyle:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},maskClass:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},immediateChange:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"_immediateChangeChanged"}},relations:{[Oi]:{type:"child",linked:function(){this._columnsChanged(),this._initColumns()},linkChanged:function(){this._columnsChanged(),this._initColumns()},unlinked:function(){this._columnsChanged(),this._initColumns()}}},listeners:{"this.wxPickerColumnValueChanged":"_columnValueChanged","this.wxPickerColumnValueChangeStart":"_columnValueChangeStart","this.wxPickerColumnValueChangeEnd":"_columnValueChangeEnd"},created:function(){this._columns=null,this._columnsDirty=!0,this._pickerHeight=null},attached:function(){this._initColumns()},detached:function(){},saved:function(e){var t={};this._savedValue=this._columns.map((function(e){return e._getCurrent()})),this.saveCompVar(t,["_savedValue"]),this.saveState(e,t)},restored:function(e){var t=this.restoreState(e);if(t){this.restoreCompVar(t);var n=this._savedValue;this._savedValue=null,this.value=n}},methods:{_columnsChanged:function(){this._columnsDirty=!0},_getColumns:function(){if(this._columnsDirty||!this._columns){var e=[],t=i.Z.glassEasel,n=t.ElementIteratorType.ComposedDescendantsRootFirst;t.ElementIterator.create(this.shadowRoot,n,t.Component).forEach((function(t){var n=t;return n.hasBehavior(Oi)&&e.push(n),!0})),this._columns=e,this._columnsDirty=!1}return this._columns},_initColumns:function(){var e=this,t=this._getColumns();if(t.length){var n="[object Array]"===Object.prototype.toString.call(this.value)?this.value:[];t.forEach((function(t,i){t._setCurrent(n[i]||0),t._setIndicatorStyle(e.indicatorStyle)}))}this._valueChanged(this.value),this._immediateChangeChanged(this.immediateChange)},_columnValueChanged:function(){var e=this._getColumns().map((function(e){return e._getCurrent()}));this.triggerEvent("change",{value:e})},_columnValueChangeStart:function(){this.triggerEvent("pickstart",{})},_columnValueChangeEnd:function(){this.triggerEvent("pickend",{})},_valueChanged:function(e=[]){this._getColumns().forEach((function(t,n){t._setCurrent(e[n]||0)}))},_immediateChangeChanged:function(e){this._getColumns().forEach((function(t){t._setImmediateChangeChanged(e)}))},_indicatorStyleChange:function(e){this._getColumns().forEach((function(t){t._setIndicatorStyle(e)}))}}}).registerComponent();const Li=ki;var Mi,Bi=n(2117),Fi=function(e){if(1!==e.childNodes.length)return null;var t=e.childNodes[0];return t instanceof i.Z.glassEasel.VirtualNode||t._$virtual?Fi(t):t},Vi=(console.warn,{tap:0,"double-tap":1,"long-press":2,pan:3,scale:4,"force-press":5,"vertical-drag":6,"horizontal-drag":7}),Wi=["scroll-view","swiper"],Ui=(Mi=1,function(){return Mi++}),$i=Object.keys(Vi).map((function(e){return g(`${e}-gesture-handler`).behavior(v.ZP).behavior(y.Z).behavior(E.Z).behavior(I.N).definition({options:{virtualHost:!0},properties:{tag:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},onGestureEvent:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},shouldResponseOnMove:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},shouldAcceptGesture:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0},simultaneousHandlers:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[],public:!0},nativeView:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0}},lifetimes:{created:function(){this.handlerID=Ui(),this.gestureType=Vi[e],this._tag="",this._config={},this._childNode=null,this._gestureHostNode=null,this._attached=!1},attached:function(){this.childNodes.length>1?(0,C.yD)(`${e}-gesture-handler`,"component can only have one child node"):(this._childNode=Fi(this),this._childNode?(this._config={tag:this.data.tag||this.id||"",simultaneousHandlers:this.data.simultaneousHandlers||[]},this.attachGestureHandler(),this.initDataSet(),this.attachNativeEvents(),this._attached=!0):(0,C.yD)(`${e}-gesture-handler`,"can not find non-virtual child node"))},detached:function(){this._childNode=null,this._gestureHostNode=null,this._attached=!1}},methods:{initDataSet:function(){var e=Object.assign({},this.dataset);this.shareableDataset=(0,Bi.vG)(e)},_attachGestureHandler:function(){this._gestureHostNode&&SkylineGlobal.gestureHandlerModule.attachGestureHandler(this.handlerID,this.gestureType,this._config,this._gestureHostNode)},_attachNativeViewGestureHandler:function(){this._gestureHostNode&&SkylineGlobal.gestureHandlerModule.attachNativeViewGestureHandler(this.handlerID,this.gestureType,this._config,this._gestureHostNode)},attachNativeViewGestureHandler:function(){this.checkNativeView()&&(this._gestureHostNode=this._childNode.getProxyGestureHostNode(),this._attachNativeViewGestureHandler())},attachGestureHandler:function(){this.data.nativeView?this.attachNativeViewGestureHandler():(this._gestureHostNode=this._childNode.$$,this._attachGestureHandler())},checkNativeView:function(){var t=this.data.nativeView;return Wi.indexOf(t)<0?((0,C.yD)(`${e}-gesture-handler`,`native-view must be one of ${Wi}`),!1):["vertical-drag","horizontal-drag"].includes(e)?this._childNode.is===t||((0,C.yD)(`${e}-gesture-handler`,`childNode must be ${t} component`),!1):((0,C.yD)(`${e}-gesture-handler`,`${e} is not match with ${t} component`),!1)},attachNativeEvents:function(){var t=s()((function*(){var t=this;[{eventName:"shouldResponseOnMove",methodName:this.data.shouldResponseOnMove,workletPropName:this.getWorkletDirective("shouldResponseOnMove")},{eventName:"shouldAcceptGesture",methodName:this.data.shouldAcceptGesture,workletPropName:this.getWorkletDirective("shouldAcceptGesture")},{eventName:"onGestureHandlerEvent",methodName:this.data.onGestureEvent,workletPropName:this.getWorkletDirective("ongesture")}].forEach(function(){var n=s()((function*(n){var i=n.workletPropName||n.methodName;if(i){var r,a=yield t.obtainWorkletFunc(i);if((0,b.mf)(a))if("onGestureHandlerEvent"===n.eventName){var o=(0,Bi.I1)({}),s=t.shareableDataset,l=((r=function(e){Object.assign(e,{currentTarget:{dataset:s.value}}),a(e,o)})._closure={shareableDataset:s,workletFn:a,context:o},r.asString="function _f(evt){const{shareableDataset,workletFn,context}=jsThis._closure;{Object.assign(evt,{currentTarget:{dataset:shareableDataset.value}});workletFn(evt,context);}}",r.__workletHash=5289162431349,r.__location="src/components/wx-gesture/index.ts (216:35)",r.__worklet=!0,r);t.addWorkletEventHandler(n.eventName,l,t.handlerID)}else t.addWorkletEventHandler(n.eventName,a,t.handlerID);else(0,C.yD)(`${e}-gesture-handler`,`the handler(${i}) to ${n.workletPropName} must declare worklet directive`)}}));return function(e){return n.apply(this,arguments)}}())}));return function(){return t.apply(this,arguments)}}(),onPropertyUpdate:function(e,t,n){if(this._attached&&"dataset"===e){var i=this.shareableDataset.value,r=Object.assign({},i,{[t]:n});this.shareableDataset.value=r}}}}).registerComponent()}));const Gi=$i;var Zi={16139:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"appid",value:"0"},{type:"string",key:"weapppath",value:"0"},{type:"string",key:"adunit_id",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"traceid",value:"0"},{type:"uint64",key:"TimeMs",value:"0"},{type:"string",key:"useragent",value:"0"},{type:"uint32",key:"type",value:"0"},{type:"uint32",key:"diaphaneity",value:"0"},{type:"uint32",key:"PageX",value:"0"},{type:"uint32",key:"PageY",value:"0"},{type:"uint32",key:"ScreenHeight",value:"0"},{type:"uint32",key:"ScreenWidth",value:"0"},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"diaphaneity_list",value:""},{type:"string",key:"element_distance_list",value:""},{type:"string",key:"machine_type",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"logtype",value:"0"},{type:"uint32",key:"hitable_percentage",value:"0"},{type:"uint32",key:"visible_percentage",value:"0"},{type:"uint32",key:"opacity",value:"0"},{type:"string",key:"around_text",value:""},{type:"uint32",key:"cycle_play",value:"0"},{type:"string",key:"ad_position",value:""},{type:"string",key:"ad_screen_position",value:""}],15980:[{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"costtype",value:"0"},{type:"uint64",key:"currenttime",value:"0"},{type:"uint64",key:"opentime",value:"0"},{type:"uint64",key:"closetime",value:"0"},{type:"uint64",key:"staytime",value:"0"},{type:"string",key:"jsapiname",value:""},{type:"uint32",key:"clkcnt",value:"0"},{type:"uint32",key:"retcode",value:"0"},{type:"uint32",key:"costtime",value:"0"},{type:"string",key:"act_type",value:""},{type:"string",key:"act_type_str",value:""},{type:"uint32",key:"act_type_int",value:"0"},{type:"string",key:"orig_weapp_id",value:""}],16295:[{type:"string",key:"ClientIPV6",value:""},{type:"string",key:"id_key",value:""},{type:"uint64",key:"report_time",value:"0"},{type:"uint32",key:"ad_pos_type",value:"0"},{type:"uint32",key:"ad_platform",value:"0"},{type:"string",key:"source_url",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"expand_feild",value:""},{type:"string",key:"expand_feild2",value:""},{type:"string",key:"orig_weapp_id",value:""},{type:"uint64",key:"id_key_group",value:"924"},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"wxapp_lib_time",value:""},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"machine_brand",value:""},{type:"string",key:"machine_type",value:""},{type:"uint64",key:"slotid",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"string",key:"welfare_id",value:""},{type:"string",key:"welfare_trace",value:""},{type:"uint32",key:"welfare_taked_cnt",value:"0"}],17045:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"weapp_path",value:""},{type:"string",key:"ad_unit_id",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"device_type",value:""},{type:"uint32",key:"ad_height",value:"0"},{type:"uint32",key:"ad_width",value:"0"},{type:"uint32",key:"screen_height",value:"0"},{type:"uint32",key:"screen_width",value:"0"},{type:"uint32",key:"ad_pos_x",value:"0"},{type:"uint32",key:"ad_pos_y",value:"0"},{type:"uint32",key:"exp_time",value:"0"},{type:"uint32",key:"clk_complaint_button",value:"0"},{type:"uint64",key:"slotid",value:"0"},{type:"uint32",key:"service_type",value:"0"},{type:"uint32",key:"first_grade_id",value:"0"},{type:"string",key:"first_grade_desc",value:""},{type:"uint64",key:"first_grade_time",value:"0"},{type:"uint32",key:"second_grade_id",value:"0"},{type:"string",key:"second_grade_desc",value:""},{type:"uint64",key:"second_grade_time",value:"0"},{type:"uint32",key:"is_finish_complaint",value:"0"},{type:"uint32",key:"is_click_ad",value:"0"},{type:"uint64",key:"click_ad_time",value:"0"},{type:"uint64",key:"click_ad_time_ms",value:"0"},{type:"string",key:"orig_weapp_id",value:""},{type:"uint32",key:"feedback_reason",value:"0"}],19002:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"uint32",key:"is_game",value:"0"},{type:"uint32",key:"act_type",value:"0"},{type:"uint32",key:"pos_type",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"exposure_duration",value:""},{type:"uint64",key:"replay_time",value:"0"}],19213:[{type:"string",key:"DeviceModel",value:""},{type:"string",key:"DeviceBrand",value:""},{type:"string",key:"OsName",value:""},{type:"string",key:"OsVersion",value:""},{type:"string",key:"LanguageVersion",value:""},{type:"uint32",key:"StartTime",value:"0"},{type:"uint32",key:"EndTime",value:"0"},{type:"uint32",key:"Count",value:"0"},{type:"string",key:"ClientIPV6",value:""},{type:"uint32",key:"eventTimeStamp",value:"0"},{type:"uint32",key:"scene",value:"0"},{type:"string",key:"uxinfo",value:""},{type:"string",key:"appid",value:""},{type:"string",key:"mid",value:""},{type:"string",key:"idx",value:""},{type:"string",key:"url",value:""}],19837:[{type:"string",key:"ClientIPV6",value:""},{type:"uint64",key:"aid",value:"0"},{type:"string",key:"traceid",value:""},{type:"string",key:"publisher_appid",value:""},{type:"string",key:"network_type",value:""},{type:"string",key:"wechat_version",value:""},{type:"string",key:"platform",value:""},{type:"string",key:"system_version",value:""},{type:"string",key:"device_orientation",value:""},{type:"string",key:"wxapp_lib_version",value:""},{type:"string",key:"slotid",value:""},{type:"uint32",key:"costtype",value:"0"},{type:"string",key:"ext_info",value:""},{type:"uint64",key:"p1",value:"0"},{type:"uint64",key:"p2",value:"0"},{type:"uint64",key:"p3",value:"0"},{type:"uint64",key:"p4",value:"0"},{type:"uint64",key:"p5",value:"0"},{type:"uint64",key:"p6",value:"0"},{type:"uint64",key:"p7",value:"0"},{type:"uint64",key:"p8",value:"0"},{type:"uint64",key:"p9",value:"0"},{type:"uint64",key:"p10",value:"0"},{type:"uint64",key:"p11",value:"0"},{type:"uint64",key:"p12",value:"0"},{type:"uint64",key:"p13",value:"0"},{type:"uint64",key:"p14",value:"0"},{type:"uint64",key:"p15",value:"0"},{type:"uint64",key:"p16",value:"0"},{type:"string",key:"instance_id",value:""},{type:"uint32",key:"scene",value:"0"},{type:"uint32",key:"error_code",value:"0"},{type:"uint64",key:"p17",value:"0"},{type:"uint64",key:"p18",value:"0"},{type:"uint64",key:"p19",value:"0"},{type:"string",key:"crt_size",value:""},{type:"uint64",key:"p20",value:"0"},{type:"uint64",key:"p21",value:"0"},{type:"uint64",key:"p22",value:"0"},{type:"uint64",key:"p23",value:"0"}]},Hi=function(e){return e[e.BANNER=532]="BANNER",e[e.NEW_BANNER=608]="NEW_BANNER",e[e.COMMON_BANNER=567]="COMMON_BANNER",e[e.REWARD_VIDEO169=559]="REWARD_VIDEO169",e[e.REWARD_VIDEO916=560]="REWARD_VIDEO916",e[e.IN_TEXT_DESC_CARD=841]="IN_TEXT_DESC_CARD",e[e.MULTI_POS_NEW_PIC=927]="MULTI_POS_NEW_PIC",e[e.MULTI_POS_VIDEO=929]="MULTI_POS_VIDEO",e[e.GRID=972]="GRID",e}({}),zi={AD:0,OUTER:1,APPDETAIL:2,BIZ:3,APPINFO_PAGE:4,WECHAT_SHOP:5,WECHAT_APPLET:6,CANVAS:9,PROFILE:10,CHANNELS_ACTIVITY:101,WECHAT:40024},ji={WECHAT:23,OPEN_PLATFORM_APP_MOB:12,APPLE_APP_STORE:19,MINI_GAME:46,JD_URL:25,WE_CHAT_SHOP:30,WE_CHAT_ARTICLE:29,GDT_WE_CHAT_ARTICLE:31},Yi=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ING=1]="ING",e[e.PAUSE=2]="PAUSE",e[e.SUCCESS=3]="SUCCESS",e[e.INSTALLED=4]="INSTALLED",e}({}),Ki=1e3,Xi=function(e){return e[e.SUCCESS=136]="SUCCESS",e[e.FAIL=137]="FAIL",e[e.ADDED=138]="ADDED",e[e.CANCEL=139]="CANCEL",e}({}),qi={94794:"widget_gray_batchload_app",94801:"widget_gray_vb_check",94804:"widget_gray_time_limit",94940:"widget_gray_video_replay",95071:"widget_gray_video_endpage_switch",100036:"widget_gray_report_install_follow",95489:"widget_gray_unlimit_fetch_tag",103124:"widget_gray_appdownload",110380:"widget_gray_webstore",111662:"widget_gray_template_use_cache",118010:"widget_gray_wxapp_code_preload",121336:"widget_gray_weapp_image_retry",122348:"widget_gray_weapp_feedback_close"},Ji=function(e){return e[e.EXT_BACK_COMM=1]="EXT_BACK_COMM",e[e.TMPL_CONTENT=2]="TMPL_CONTENT",e[e.TMPL_INFO=3]="TMPL_INFO",e[e.AD_TEMPLATE_INFO=4]="AD_TEMPLATE_INFO",e}({}),Qi=function(e){return e.banner="8040321819858439",e.rewardedVideoAd="1030436212907001",e.interstitialAd="3030046789020061",e.grid="7070083760581921",e.splashAd="5060180989186180",e.wxAppVideo="5010365819466098",e.wxAppPreVideoAd="7090665964306299",e.customAd="4071202390577885",e.cpsShopAd="4021337766924141",e.wxpayBottom="1024740886829562",e.wxpayCard="8054749846134397",e.cpsAd="6081711785110238",e.welfare="9032620474991749",e}({}),er=ir();var tr=null;function nr(){return tr||(tr=new Promise((function(e){Promise.all([new Promise((function(e){var t;null===(t=wx)||void 0===t||t.getSystemInfo({success:function(t){er.screenWidth=t.screenWidth,er.screenHeight=t.screenHeight,er.wxVersion=t.version,er.osVersion=t.system,er.machineType=t.model,er.machineBrand=t.brand,er.SDKVersion=t.SDKVersion,er.statusBarHeight=t.statusBarHeight,er.windowHeight=t.windowHeight,er.windowWidth=t.windowWidth,er.raw=t,e(er)},fail:function(){e(er)}})})),new Promise((function(e){var t;null===(t=wx)||void 0===t||t.getNetworkType({success:function(t){er.networkType=t.networkType,e(er)},fail:function(){er.networkType="unknown",e(er)}})})),new Promise((function(e){var t;null===(t=wx)||void 0===t||t.getSkylineInfo({success:function(t){er.userAgent=(null==t?void 0:t.userAgent)||"",e(er)},fail:function(){er.userAgent="",e(er)}})}))]).then((function(){e(er)}))})),tr)}function ir(){var e,t,n,i;return{userAgent:"",wxVersion:"",osVersion:"",screenWidth:0,screenHeight:0,SDKVersion:(null===(e=wx)||void 0===e||null===(t=e.version)||void 0===t?void 0:t.version)||"",SDKVersionTime:(null===(n=wx)||void 0===n||null===(i=n.version)||void 0===i?void 0:i.updateTime)||"",machineType:"",machineBrand:"",networkType:"",statusBarHeight:0,windowHeight:0,windowWidth:0,raw:{}}}var rr,ar,or,sr,lr,ur,cr=(rr=-4,ar=function(e){return"string"!=typeof e?e:e.replace(/[+ |^%]/g,(function(e){return{" ":"+","+":"%2B","|":"%7C","^":"%5E","%":"%25"}[e]}))},or=function(e){return"string"!=typeof e?e:e.replace(/\+|%2B|%7C|%5E|%25/g,(function(e){return{"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%"}[e]}))},sr=function(e){return Number.prototype.toString.call(e,36).toUpperCase()},lr=function(e){return parseInt(e,36)},ur=Array.prototype.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},{JSON:JSON,pack:function(e,t={}){var n=t.verbose||!1;n&&console.log("Normalize the JSON Object"),e="string"==typeof e?JSON.parse(e):e,n&&console.log("Creating a empty dictionary");var i={strings:[],integers:[],floats:[]};n&&console.log("Creating the AST");var r=function e(t){if(n&&console.log("Calling recursiveAstBuilder with "+JSON.stringify(t)),null===t)return{type:"null",index:-3};if(void 0===t)return{type:"undefined",index:-5};if(t instanceof Array){var r=["@"];for(var a of t)r.push(e(a));return r}if("object"==typeof t){var o=["$"];for(var s of Object.keys(t))o.push(e(s)),o.push(e(t[s]));return o}if(""===t)return{type:"empty",index:rr};if("string"==typeof t){var l=ur.call(i.strings,t);return-1===l&&(i.strings.push(ar(t)),l=i.strings.length-1),{type:"strings",index:l}}if("number"==typeof t&&t%1==0){var u=ur.call(i.integers,t);return-1===u&&(i.integers.push(sr(t)),u=i.integers.length-1),{type:"integers",index:u}}if("number"==typeof t){var c=ur.call(i.floats,t);return-1===c&&(i.floats.push(t),c=i.floats.length-1),{type:"floats",index:c}}if("boolean"==typeof t)return{type:"boolean",index:t?-1:-2};throw new Error("Unexpected argument of type "+typeof t)}(e),a=i.strings.length,o=i.integers.length;n&&console.log("Parsing the dictionary");var s=i.strings.join("|");return s+="^"+i.integers.join("|"),s+="^"+i.floats.join("|"),n&&console.log("Parsing the structure"),s+="^"+function e(t){if(n&&console.log("Calling a recursiveParser with "+JSON.stringify(t)),t instanceof Array){var i=t.shift();for(var r of t)i+=e(r)+"|";return("|"===i[i.length-1]?i.slice(0,-1):i)+"]"}var s=t.type,l=t.index;if("strings"===s)return sr(l);if("integers"===s)return sr(a+l);if("floats"===s)return sr(a+o+l);if("boolean"===s)return t.index;if("null"===s)return-3;if("undefined"===s)return-5;if("empty"===s)return rr;throw new TypeError("The item is alien!")}(r),n&&console.log("Ending parser"),t.debug?{dictionary:i,ast:r,packed:s}:s},unpack:function(e,t={}){t=t||{};var n=e.split("^");t.verbose&&console.log("Building dictionary");var i=[],r=n[0];if(""!==r){r=r.split("|"),t.verbose&&console.log("Parse the strings dictionary");for(var a=0,o=r.length;a<o;a++)i.push(or(r[a]))}if(""!==(r=n[1])){r=r.split("|"),t.verbose&&console.log("Parse the integers dictionary");for(var s=0,l=r.length;s<l;s++)i.push(lr(r[s]))}if(""!==(r=n[2])){r=r.split("|"),t.verbose&&console.log("Parse the floats dictionary");for(var u=0,c=r.length;u<c;u++)i.push(parseFloat(r[u]))}r=null,t.verbose&&console.log("Tokenizing the structure");for(var d="",p=[],h=n[3].length,f=0;f<h;f++){var _=n[3].charAt(f);"|"===_||"$"===_||"@"===_||"]"===_?(d&&(p.push(lr(d)),d=""),"|"!==_&&p.push(_)):d+=_}var v=p.length,g=0;return t.verbose&&console.log("Starting recursive parser"),function e(){var n=p[g++];if(t.verbose&&console.log("Reading collection type "+("$"===n?"object":"Array")),"@"===n){for(var r=[];g<v;g++){var a=p[g];if(t.verbose&&console.log("Read "+a+" symbol"),"]"===a)return r;if("@"===a||"$"===a)r.push(e());else switch(a){case-1:r.push(!0);break;case-2:r.push(!1);break;case-3:r.push(null);break;case-5:r.push(void 0);break;case rr:r.push("");break;default:r.push(i[a])}}return t.verbose&&console.log("Parsed "+JSON.stringify(r)),r}if("$"===n){for(var o={};g<v;g++){var s=p[g];if("]"===s)return o;s=s===rr?"":i[s];var l=p[++g];if("@"===l||"$"===l)o[s]=e();else switch(l){case-1:o[s]=!0;break;case-2:o[s]=!1;break;case-3:o[s]=null;break;case-5:o[s]=void 0;break;case rr:o[s]="";break;default:o[s]=i[l]}}return t.verbose&&console.log("Parsed "+JSON.stringify(o)),o}throw new TypeError("Bad token "+n+" isn't a type")}()}});const dr=cr;var pr=function(e){return e[e.COMMON=1]="COMMON",e[e.FULLSCREEN=2]="FULLSCREEN",e}({}),hr=function(e){return e.APPENTERFOREGROUND="appEnterForeground",e.APPENTERBACKGROUND="appEnterBackground",e.CONTAINERTAP="containerTap",e.ADBUTTONTAP="adButtonTap",e.VIEWABLEEXPOSURE="viewableExposure",e.EXPOSURE="exposure",e.SHOWHALF="showhalf",e.HIDEHALF="hidehalf",e.AREACHANGE="areaChange",e.SHOWEDGE="showEdge",e.HIDEEDGE="hideEdge",e.ADDITIONFETCHSUCCESS="additionFetchSuccess",e.ADDITIONFETCHERROR="additionFetchError",e.REWARDEDVIDEOONERROR="rewardedVideoOnError",e.REWARDEDVIDEOONCLOSE="rewardedVideoOnClose",e.REWARDEDVIDEOONSHOWSUCCESS="rewardedVideoOnShowSuccess",e.REWARDEDVIDEOONSHOWFAIL="rewardedVideoOnShowFail",e.TEMPLATEWILLUPDATE="templateWillUpdate",e.TAKEDWELFAREFETCHSUCCESS="takedWelfareFetchSuccess",e.TAKEDWELFAREFETCHERROR="takedWelfareFetchError",e.WELFARETAKEERROR="welfareTakeError",e.WELFARETAKESUCCESS="welfareTakeSuccess",e.WELFAREREFRESHSUCCESS="welfareRefreshSuccess",e.WELFAREREFRESHERROR="welfareRefreshError",e}({}),fr=function(e){return e[e.COMMON=1]="COMMON",e[e.ROW=2]="ROW",e[e.COLUMN=3]="COLUMN",e[e.PROPORTION=4]="PROPORTION",e}({}),_r=function(e){return e[e.COMMON=1]="COMMON",e[e.ICON=2]="ICON",e[e.AD=3]="AD",e}({}),vr=function(e){return e[e.COMMON=1]="COMMON",e[e.NICKNAME=2]="NICKNAME",e[e.DESC=3]="DESC",e}({}),gr=function(e){return e[e.COMMON=1]="COMMON",e[e.LOGICCOMMON=2]="LOGICCOMMON",e}({}),mr=function(e){return e.BUTTONTAP="buttonTap",e}({}),Er=function(e){return e[e.COMMON=1]="COMMON",e[e.AD=2]="AD",e}({}),yr=function(e){return e.AREACHANGE="areaChange",e}({}),Tr=function(e){return e.VIDEOEND="videoEnd",e.VIDEOPAUSE="videoPause",e.VIDEOPLAY="videoPlay",e.VIDEOTIMEUPDATE="videoTimeUpdate",e.MUTEDCHANGE="mutedChange",e.VIDEOLOADEDMETADATA="videoLoadedMetaData",e}({}),br=function(e){return e[e.COMMON=1]="COMMON",e[e.SIMPLE=2]="SIMPLE",e}({}),Cr=function(e){return e.FEEDBACKBTNTAP="feedbackBtnTap",e.TAGTAP="tagTap",e.DISLIKETAP="dislikeTap",e.DISLIKEREASONTAP="dislikeReasonTap",e}({}),Sr=function(e){return e.REPLAY="replay",e.SHOW="show",e.HIDE="hide",e}({}),Ar=function(e){return e[e.NONE=0]="NONE",e[e.COMMON=1]="COMMON",e[e.ADS=2]="ADS",e}({}),Ir=function(e){return e[e.NONE=0]="NONE",e[e.ROWLOOP=1]="ROWLOOP",e[e.COLUMNLOOP=2]="COLUMNLOOP",e}({}),Pr=function(e){return e.SHOWCHANGE="showChange",e}({}),wr=function(e){return e[e.COMMON=1]="COMMON",e[e.CUSTOM=2]="CUSTOM",e}({}),Rr=function(e){return e.LOAD="load",e.ERROR="error",e.CLOSE="close",e}({}),xr=function(e){return e.ANIMATIONEND="animationend",e}({}),Or=function(e){return e[e.SHOWFEEDBACK=1]="SHOWFEEDBACK",e[e.ADSHOWHALF=2]="ADSHOWHALF",e[e.ADHIDEHALF=3]="ADHIDEHALF",e[e.TRIGGEREVENT=4]="TRIGGEREVENT",e[e.REPORTVIDEOPLAY=5]="REPORTVIDEOPLAY",e[e.APPENTERBACKGROUND=6]="APPENTERBACKGROUND",e[e.ADVIDEOPAUSE=7]="ADVIDEOPAUSE",e[e.ADVIDEOPLAY=8]="ADVIDEOPLAY",e[e.FEEDBACKBTNTAP=9]="FEEDBACKBTNTAP",e[e.FEEDBACKREPORT=10]="FEEDBACKREPORT",e[e.BTNTAP=11]="BTNTAP",e[e.CHANGEADBTNTEXT=12]="CHANGEADBTNTEXT",e[e.ENDPAGEINIT=13]="ENDPAGEINIT",e[e.SHOWENDPAGE=14]="SHOWENDPAGE",e[e.REPORTENDPAGE=15]="REPORTENDPAGE",e[e.APPENTERFOREGROUND=16]="APPENTERFOREGROUND",e[e.ENDPAGEHIDE=17]="ENDPAGEHIDE",e[e.ENDPAGESHOW=18]="ENDPAGESHOW",e[e.REPORTMMDATA=19]="REPORTMMDATA",e[e.REPORTTIMEPOINT=20]="REPORTTIMEPOINT",e[e.CLOSEAD=21]="CLOSEAD",e[e.ADEDGESHOW=22]="ADEDGESHOW",e[e.ADEDGEHIDE=23]="ADEDGEHIDE",e[e.LANDAD=24]="LANDAD",e[e.REPORTADMONITORDATA=25]="REPORTADMONITORDATA",e[e.EMITADDITIONFETCH=26]="EMITADDITIONFETCH",e[e.ADDATASCHANGE=27]="ADDATASCHANGE",e[e.HIDEAD=28]="HIDEAD",e[e.SETADINDEX=29]="SETADINDEX",e[e.REPORTADMONITORACTION=30]="REPORTADMONITORACTION",e}({}),Nr=function(e){return e.HIDEAD="hideAd",e.SETSTYLE="setStyle",e.REPORTIDKEY="reportIdKey",e.TRIGGEREVENT="triggerEvent",e.SETEXPRVAR="setExprVar",e.VIDEOTOGGLEMUTED="videoToggleMuted",e.VIDEOPLAY="videoPlay",e.VIDEOPAUSE="videoPause",e.VIDEOSTOP="videoStop",e.BUTTONSETTEXT="buttonSetText",e.RELOADAD="reloadAd",e.REPORTMMDATA="reportMMData",e.ENDPAGEHIDE="endPageHide",e.IMAGESETSRC="imageSetSrc",e.TEXTSETTEXT="textSetText",e.ANIMATE="animate",e.TRIGGERBTNCLICK="triggerBtnClick",e.CHANGEMULTISHOW="changeMultiShow",e.LANDAD="landAd",e.EMITADDITIONFETCH="emitAdditionFetch",e.TRIGGERCOMPONENTEVENT="triggerComponentEvent",e.SETADINDEX="setAdIndex",e.OPERATEREWARDEDVIDEOAD="operateRewardedVideoAd",e.ADDCHILDREN="addChildren",e.EMITFETCHTAKEDWELFARE="emitFetchTakedWelfare",e.BATCHSETEXPRVAR="batchSetExprVar",e.PROCESSFORARR="processForArr",e.DISPATCHRERENDER="dispatchRerender",e.CHANGETAKEDWELFAREMULTISHOW="changeTakedWelfareMultiShow",e.CLOSEAD="closeAd",e.CHANGEIFSTATE="changeIfState",e.REPORTADMONITORDATA="reportAdMonitorData",e.REPORTWELFARETAKE="reportWelfareTake",e.CLEARTAKEDWELFARE="clearTakedWelfare",e.REFRESHWELFARE="refreshWelfare",e.CHANGEWELFARE="changeWelfare",e.RESETVARS="resetVars",e}({}),Dr=function(e){return e[e.NORMAL=1]="NORMAL",e[e.MYTAKEDWELFARE=2]="MYTAKEDWELFARE",e}({}),kr=function(e){return e[e.JSONERROR=-1]="JSONERROR",e[e.RESERROR=-2]="RESERROR",e[e.NETERROR=-3]="NETERROR",e[e.DATAERROR=-4]="DATAERROR",e}({}),Lr=Object.defineProperty;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;!function(e,t){for(var n in t)Lr(e,n,{get:t[n],enumerable:!0})}({},{APN:function(){return Wa},AccountStatus:function(){return Ta},AccountType:function(){return Oa},ActionType:function(){return xa},AdFreeType:function(){return La},AdStrategyType:function(){return ea},AddrType:function(){return Qa},AppServiceType:function(){return Ma},BackgroundColor:function(){return la},CarrierType:function(){return Va},CompressJsonEntry:function(){return Da},ContentTagType:function(){return ca},ContentWordColor:function(){return da},CouponTag:function(){return pa},CrtSize:function(){return ia},DestType:function(){return na},DeviceType:function(){return Na},EffectStateType:function(){return Pa},EntityVersion:function(){return Ka},FeedJumpVisibleOption:function(){return Ha},FinderRedPacketCoverStatus:function(){return ja},Format:function(){return $a},ItemType:function(){return Ra},MMFinderJumpConfigPrefix:function(){return za},MaterialContentType:function(){return oa},MonetizeMethod:function(){return _a},MonetizeMethodOp:function(){return va},MonetizeMethodStatus:function(){return ga},MonetizeOperationSrc:function(){return ma},NameType:function(){return Ja},NetType:function(){return Za},NetworkType:function(){return Fa},NoAdReason:function(){return fa},OperatorSystem:function(){return Ga},OsType:function(){return Ba},PlayableOrientation:function(){return wa},PosType:function(){return ta},ProductType:function(){return aa},PublisherAdSlot:function(){return Ea},PublisherAdSlotStatus:function(){return ya},QueryType:function(){return qa},QuestSettProgress:function(){return Ca},QuestSettStatus:function(){return ba},RequestSource:function(){return Qr},RequestType:function(){return ka},RewriteSenGradeType:function(){return Xa},SegVersion:function(){return Ya},ShowType:function(){return ha},SlotOpenStateType:function(){return Ia},Source:function(){return Ua},TitleTagType:function(){return sa},TitleWordColor:function(){return ua},VideoPlayReportType:function(){return Aa},VideoPlayType:function(){return Sa},enPageType:function(){return ra}});var Mr,Br,Fr,Vr,Wr,Ur,$r,Gr,Zr,Hr,zr,jr,Yr,Kr,Xr,qr,Jr,Qr=((Ur=Qr||{})[Ur.SOURCE_UNKNOW=0]="SOURCE_UNKNOW",Ur[Ur.SOURCE_MP=1]="SOURCE_MP",Ur[Ur.SOURCE_OSS=2]="SOURCE_OSS",Ur[Ur.SOURCE_MP_OSS=3]="SOURCE_MP_OSS",Ur[Ur.SOURCE_OPEN_API=4]="SOURCE_OPEN_API",Ur[Ur.SOURCE_MARKETING_API=5]="SOURCE_MARKETING_API",Ur[Ur.SOURCE_WEPAY=6]="SOURCE_WEPAY",Ur[Ur.SOURCE_PRODUCT_API=7]="SOURCE_PRODUCT_API",Ur[Ur.SOURCE_WEAPP=8]="SOURCE_WEAPP",Ur[Ur.SOURCE_LOCAL_BUSINESS=9]="SOURCE_LOCAL_BUSINESS",Ur),ea=((Wr=ea||{})[Wr.NORMAL_AD=0]="NORMAL_AD",Wr[Wr.LOCAL_BUSINESS_AD=1]="LOCAL_BUSINESS_AD",Wr),ta=((Vr=ta||{})[Vr.POS_TYPE_APPMSG_BOTTOM=0]="POS_TYPE_APPMSG_BOTTOM",Vr[Vr.POS_TYPE_APPMSG_TOP=1]="POS_TYPE_APPMSG_TOP",Vr[Vr.POS_TYPE_NEWS=2]="POS_TYPE_NEWS",Vr[Vr.POS_TYPE_APPMSG_VIDEO=3]="POS_TYPE_APPMSG_VIDEO",Vr[Vr.POS_TYPE_FREE_TRADE=4]="POS_TYPE_FREE_TRADE",Vr[Vr.POS_TYPE_APPMSG_MIDDLE=5]="POS_TYPE_APPMSG_MIDDLE",Vr[Vr.POS_TYPE_MAIL=6]="POS_TYPE_MAIL",Vr[Vr.POS_TYPE_WX_APPLICATION=7]="POS_TYPE_WX_APPLICATION",Vr[Vr.POS_TYPE_WX_GAME_VIDEO=8]="POS_TYPE_WX_GAME_VIDEO",Vr[Vr.POS_TYPE_MP_PRODUCT=9]="POS_TYPE_MP_PRODUCT",Vr[Vr.POS_TYPE_WEAPP_INTERSTITIAL=10]="POS_TYPE_WEAPP_INTERSTITIAL",Vr[Vr.POS_TYPE_BOX=11]="POS_TYPE_BOX",Vr[Vr.POS_TYPE_WEAPP_COVER=12]="POS_TYPE_WEAPP_COVER",Vr[Vr.POS_TYPE_WEAPP_TEMPLATE=13]="POS_TYPE_WEAPP_TEMPLATE",Vr[Vr.POS_TYPE_WX_PAY=14]="POS_TYPE_WX_PAY",Vr[Vr.POS_TYPE_BIZ_TIME_LINE=15]="POS_TYPE_BIZ_TIME_LINE",Vr[Vr.POS_TYPE_FINDER_FREE_TRADE=16]="POS_TYPE_FINDER_FREE_TRADE",Vr[Vr.POS_TYPE_MP_MAX=100]="POS_TYPE_MP_MAX",Vr[Vr.POS_TYPE_MULTI_SLOT=101]="POS_TYPE_MULTI_SLOT",Vr[Vr.POS_TYPE_CHANNELS=113]="POS_TYPE_CHANNELS",Vr[Vr.POS_TYPE_SEARCH=115]="POS_TYPE_SEARCH",Vr[Vr.POS_TYPE_WX_APPLET=997]="POS_TYPE_WX_APPLET",Vr[Vr.POS_TYPE_MP_ALL=998]="POS_TYPE_MP_ALL",Vr[Vr.POS_TYPE_SNS_FEED=999]="POS_TYPE_SNS_FEED",Vr),na=((Fr=na||{})[Fr.DEST_TYPE_AD=0]="DEST_TYPE_AD",Fr[Fr.DEST_TYPE_OUTER=1]="DEST_TYPE_OUTER",Fr[Fr.DEST_TYPE_APPDETAIL=2]="DEST_TYPE_APPDETAIL",Fr[Fr.DEST_TYPE_BIZ=3]="DEST_TYPE_BIZ",Fr[Fr.DEST_TYPE_APPINFO_PAGE=4]="DEST_TYPE_APPINFO_PAGE",Fr[Fr.DEST_TYPE_WECHAT_SHOP=5]="DEST_TYPE_WECHAT_SHOP",Fr[Fr.DEST_TYPE_WECHAT_APPLET=6]="DEST_TYPE_WECHAT_APPLET",Fr[Fr.DEST_TYPE_CANVAS=9]="DEST_TYPE_CANVAS",Fr[Fr.DEST_TYPE_CHANNELS=101]="DEST_TYPE_CHANNELS",Fr[Fr.DEST_TYPE_CHANNELS_LIVE=102]="DEST_TYPE_CHANNELS_LIVE",Fr[Fr.DEST_TYPE_CHANNELS_USER_PROFILE=103]="DEST_TYPE_CHANNELS_USER_PROFILE",Fr[Fr.DEST_TYPE_CHANNELS_HALF_CARD=104]="DEST_TYPE_CHANNELS_HALF_CARD",Fr[Fr.DEST_TYPE_ONEKEY_ATTENTION=40024]="DEST_TYPE_ONEKEY_ATTENTION",Fr[Fr.DEST_TYPE_WECOM_CONSULT=60013]="DEST_TYPE_WECOM_CONSULT",Fr),ia=((Br=ia||{})[Br.RT_SIZE_WORD=91]="RT_SIZE_WORD",Br[Br.CRT_SIZE_PIC=133]="CRT_SIZE_PIC",Br[Br.CRT_SIZE_APPMSG=134]="CRT_SIZE_APPMSG",Br[Br.CRT_SIZE_CARD=135]="CRT_SIZE_CARD",Br[Br.CRT_SIZE_TOP_PIC=166]="CRT_SIZE_TOP_PIC",Br[Br.CRT_SIZE_APPDETAIL=167]="CRT_SIZE_APPDETAIL",Br[Br.CRT_SIZE_WECHAT_SHOP=267]="CRT_SIZE_WECHAT_SHOP",Br[Br.CRT_SIZE_COPY_CARD=354]="CRT_SIZE_COPY_CARD",Br[Br.CRT_SIZE_PIC_CARD=355]="CRT_SIZE_PIC_CARD",Br[Br.CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC=998]="CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC",Br[Br.CRT_SIZE_OFF_ACCOUNT_PIC=117]="CRT_SIZE_OFF_ACCOUNT_PIC",Br[Br.CRT_SIZE_WECHAT_APPLET_GRAND_PIC=484]="CRT_SIZE_WECHAT_APPLET_GRAND_PIC",Br[Br.CRT_SIZE_WECHAT_VIDEO=538]="CRT_SIZE_WECHAT_VIDEO",Br[Br.CRT_SIZE_H5VIDEO_PIC_6S=555]="CRT_SIZE_H5VIDEO_PIC_6S",Br[Br.CRT_SIZE_H5VIDEO_VIDEO_15S=1515]="CRT_SIZE_H5VIDEO_VIDEO_15S",Br[Br.CRT_SIZE_MUTUAL_VIDEO_169=996]="CRT_SIZE_MUTUAL_VIDEO_169",Br[Br.CRT_SIZE_MUTUAL_VIDEO_43=997]="CRT_SIZE_MUTUAL_VIDEO_43",Br[Br.CRT_SIZE_IMAGE=666]="CRT_SIZE_IMAGE",Br[Br.CRT_SIZE_NORMAL_IMAGE=2106]="CRT_SIZE_NORMAL_IMAGE",Br[Br.CRT_SIZE_VIDEO=888]="CRT_SIZE_VIDEO",Br[Br.CRT_SIZE_CARD_IMAGE=450]="CRT_SIZE_CARD_IMAGE",Br[Br.CRT_SIZE_CARD_VIDEO=452]="CRT_SIZE_CARD_VIDEO",Br[Br.CRT_SIZE_LINK=454]="CRT_SIZE_LINK",Br[Br.CRT_SIZE_CARD_SELECT_IMAGE=480]="CRT_SIZE_CARD_SELECT_IMAGE",Br[Br.CRT_SIZE_CARD_SELECT_VIDEO=482]="CRT_SIZE_CARD_SELECT_VIDEO",Br[Br.CRT_SIZE_CARD_VOTE_IMAGE=516]="CRT_SIZE_CARD_VOTE_IMAGE",Br[Br.CRT_SIZE_CARD_VOTE_VIDEO=519]="CRT_SIZE_CARD_VOTE_VIDEO",Br[Br.CRT_SIZE_WXAPP_PIC=532]="CRT_SIZE_WXAPP_PIC",Br[Br.CRT_SIZE_CARD_TURN_IMAGE=539]="CRT_SIZE_CARD_TURN_IMAGE",Br[Br.CRT_SIZE_CARD_TURN_VIDEO=540]="CRT_SIZE_CARD_TURN_VIDEO",Br[Br.CRT_SIZE_WXAPP_CARD_PIC=556]="CRT_SIZE_WXAPP_CARD_PIC",Br[Br.CRT_SIZE_WXGAME_VIDEO_0=559]="CRT_SIZE_WXGAME_VIDEO_0",Br[Br.CRT_SIZE_WXGAME_VIDEO_1=560]="CRT_SIZE_WXGAME_VIDEO_1",Br[Br.CRT_SIZE_WXAPP_BANNER_608=608]="CRT_SIZE_WXAPP_BANNER_608",Br[Br.CRT_SIZE_MULTI_POS_960_334=567]="CRT_SIZE_MULTI_POS_960_334",Br[Br.CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC=568]="CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC",Br[Br.CRT_SIZE_MULTI_POS_CARD=569]="CRT_SIZE_MULTI_POS_CARD",Br[Br.CRT_SIZE_MULTI_POS_COPY_CARD=570]="CRT_SIZE_MULTI_POS_COPY_CARD",Br[Br.CRT_SIZE_CARD_RATING_IMAGE=588]="CRT_SIZE_CARD_RATING_IMAGE",Br[Br.CRT_SIZE_CARD_RATING_VIDEO=589]="CRT_SIZE_CARD_RATING_VIDEO",Br[Br.CRT_SIZE_CARD_FULL_IMAGE=598]="CRT_SIZE_CARD_FULL_IMAGE",Br[Br.CRT_SIZE_CARD_FULL_VIDEO=599]="CRT_SIZE_CARD_FULL_VIDEO",Br[Br.CRT_SIZE_MP_TAGS=677]="CRT_SIZE_MP_TAGS",Br[Br.CRT_SIZE_SCREEN_701=701]="CRT_SIZE_SCREEN_701",Br[Br.CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO=913]="CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO",Br[Br.CRT_SIZE_CARD_FULL_GESTURE_VIDEO=698]="CRT_SIZE_CARD_FULL_GESTURE_VIDEO",Br[Br.CRT_SIZE_BOTTOM_708=708]="CRT_SIZE_BOTTOM_708",Br[Br.CRT_SIZE_IN_TEXT_841=841]="CRT_SIZE_IN_TEXT_841",Br[Br.CRT_SIZE_CARD_COMPONENT_IMAGE=1707]="CRT_SIZE_CARD_COMPONENT_IMAGE",Br[Br.CRT_SIZE_CARD_COMPONENT_VIDEO=1708]="CRT_SIZE_CARD_COMPONENT_VIDEO",Br[Br.CRT_SIZE_PRODUCT=1501]="CRT_SIZE_PRODUCT",Br[Br.CRT_SIZE_CARD_SPHERE_IMAGE=699]="CRT_SIZE_CARD_SPHERE_IMAGE",Br[Br.CRT_SIZE_IMAGE_TEXT_CARD=904]="CRT_SIZE_IMAGE_TEXT_CARD",Br[Br.CRT_SIZE_MULTI_SLOT_BANNER=925]="CRT_SIZE_MULTI_SLOT_BANNER",Br[Br.CRT_SIZE_MULTI_SLOT_BANNER_MP=926]="CRT_SIZE_MULTI_SLOT_BANNER_MP",Br[Br.CRT_SIZE_MULTI_SLOT_IMAGE=927]="CRT_SIZE_MULTI_SLOT_IMAGE",Br[Br.CRT_SIZE_MULTI_SLOT_IMAGE_MP=928]="CRT_SIZE_MULTI_SLOT_IMAGE_MP",Br[Br.CRT_SIZE_MULTI_SLOT_VIDEO=929]="CRT_SIZE_MULTI_SLOT_VIDEO",Br[Br.CRT_SIZE_MULTI_SLOT_BOX=972]="CRT_SIZE_MULTI_SLOT_BOX",Br[Br.CRT_SIZE_BUTTON_CARD_IMAGE=955]="CRT_SIZE_BUTTON_CARD_IMAGE",Br[Br.CRT_SIZE_BUTTON_CARD_VIDEO=957]="CRT_SIZE_BUTTON_CARD_VIDEO",Br[Br.CRT_SIZE_WXGAME_LAND_PAGE=910]="CRT_SIZE_WXGAME_LAND_PAGE",Br[Br.CRT_SIZE_WEAPP_COVER=1003]="CRT_SIZE_WEAPP_COVER",Br[Br.CRT_SIZE_SNS_PORTRAIL_VIDEO=1064]="CRT_SIZE_SNS_PORTRAIL_VIDEO",Br[Br.CRT_SIZE_CARD_FULL_PRESS_VIDEO=1065]="CRT_SIZE_CARD_FULL_PRESS_VIDEO",Br[Br.CRT_SIZE_SNS_PORTRAIL_VIDEO_1=1479]="CRT_SIZE_SNS_PORTRAIL_VIDEO_1",Br[Br.CRT_SIZE_SNS_PORTRAIL_VIDEO_2=1480]="CRT_SIZE_SNS_PORTRAIL_VIDEO_2",Br[Br.CRT_SIZE_CHANNELS_IMAGE=1530]="CRT_SIZE_CHANNELS_IMAGE",Br[Br.CRT_SIZE_CHANNELS_PORTRAIL_IMAGE=1531]="CRT_SIZE_CHANNELS_PORTRAIL_IMAGE",Br[Br.CRT_SIZE_CARD_FULL_TWIST_VIDEO=1733]="CRT_SIZE_CARD_FULL_TWIST_VIDEO",Br[Br.CRT_SIZE_CARD_FULL_SHAKE_VIDEO=1814]="CRT_SIZE_CARD_FULL_SHAKE_VIDEO",Br[Br.CRT_SIZE_CARD_FULL_BREAK_FRAME=1885]="CRT_SIZE_CARD_FULL_BREAK_FRAME",Br[Br.CRT_SIZE_CARD_FULL_OUT_BREAK_FRAME=1945]="CRT_SIZE_CARD_FULL_OUT_BREAK_FRAME",Br[Br.CRT_SIZE_IMAGE_711_1280_720=711]="CRT_SIZE_IMAGE_711_1280_720",Br[Br.CRT_SIZE_IMAGE_712_720_1280=712]="CRT_SIZE_IMAGE_712_720_1280",Br[Br.CRT_SIZE_SNS_VIDEO_1280_720=720]="CRT_SIZE_SNS_VIDEO_1280_720",Br[Br.CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280=721]="CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280",Br[Br.CRT_SIZE_CARD_FINDER_EVENT_VIDEO=1748]="CRT_SIZE_CARD_FINDER_EVENT_VIDEO",Br[Br.CRT_SIZE_SLIDER_CARD_VIDEO=1765]="CRT_SIZE_SLIDER_CARD_VIDEO",Br[Br.CRT_SIZE_SLIDER_CARD_IMAGE=1766]="CRT_SIZE_SLIDER_CARD_IMAGE",Br[Br.CRT_SIZE_WINDOWS_IMAGE_1_IMAGE_3=2107]="CRT_SIZE_WINDOWS_IMAGE_1_IMAGE_3",Br[Br.CRT_SIZE_WINDOWS_VIDEO_1_IMAGE_3=2109]="CRT_SIZE_WINDOWS_VIDEO_1_IMAGE_3",Br[Br.CRT_SIZE_FINDER_FREE_TRADE_EMPTY=1009]="CRT_SIZE_FINDER_FREE_TRADE_EMPTY",Br[Br.CRT_SIZE_PC_MOUSE_INTERACTION_VIDEO=1846]="CRT_SIZE_PC_MOUSE_INTERACTION_VIDEO",Br[Br.CRT_SIZE_SEARCH_BRAND_VIDEO=2013]="CRT_SIZE_SEARCH_BRAND_VIDEO",Br[Br.CRT_SIZE_FINDER_IMAGE=2014]="CRT_SIZE_FINDER_IMAGE",Br[Br.CRT_SIZE_LOOKBOOK_IMAGE=2174]="CRT_SIZE_LOOKBOOK_IMAGE",Br[Br.CRT_SIZE_LOOKBOOK_VIDEO=2177]="CRT_SIZE_LOOKBOOK_VIDEO",Br),ra=((Mr=ra||{})[Mr.PAGE_TYPE_NONE=0]="PAGE_TYPE_NONE",Mr[Mr.PAGE_TYPE_OUTLINK=1]="PAGE_TYPE_OUTLINK",Mr[Mr.PAGE_TYPE_ARTICLE=2]="PAGE_TYPE_ARTICLE",Mr[Mr.PAGE_TYPE_H5CANVAS=3]="PAGE_TYPE_H5CANVAS",Mr[Mr.PAGE_TYPE_CANVAS=4]="PAGE_TYPE_CANVAS",Mr[Mr.PAGE_TYPE_CARD=5]="PAGE_TYPE_CARD",Mr[Mr.PAGE_TYPE_ACCOUNT=6]="PAGE_TYPE_ACCOUNT",Mr[Mr.PAGE_TYPE_APPSTORE=7]="PAGE_TYPE_APPSTORE",Mr[Mr.PAGE_TYPE_TMPL=8]="PAGE_TYPE_TMPL",Mr[Mr.PAGE_TYPE_SIMPLE_CANVAS=9]="PAGE_TYPE_SIMPLE_CANVAS",Mr[Mr.PAGE_TYPE_AD=10]="PAGE_TYPE_AD",Mr[Mr.PAGE_TYPE_DIRECT=11]="PAGE_TYPE_DIRECT",Mr[Mr.PAGE_TYPE_APPDETAIL=12]="PAGE_TYPE_APPDETAIL",Mr[Mr.PAGE_TYPE_APPINFO_PAGE=13]="PAGE_TYPE_APPINFO_PAGE",Mr[Mr.PAGE_TYPE_WECHAT_SHOP=14]="PAGE_TYPE_WECHAT_SHOP",Mr[Mr.PAGE_TYPE_WEAPP=15]="PAGE_TYPE_WEAPP",Mr[Mr.PAGE_TYPE_ACTIVE=16]="PAGE_TYPE_ACTIVE",Mr[Mr.PAGE_TYPE_FORM_IMAGE=17]="PAGE_TYPE_FORM_IMAGE",Mr[Mr.PAGE_TYPE_FORM_VIDEO=18]="PAGE_TYPE_FORM_VIDEO",Mr[Mr.PAGE_TYPE_APP_IMAGE=19]="PAGE_TYPE_APP_IMAGE",Mr[Mr.PAGE_TYPE_APP_VIDEO=20]="PAGE_TYPE_APP_VIDEO",Mr[Mr.PAGE_TYPE_CANVAS_QUES=21]="PAGE_TYPE_CANVAS_QUES",Mr[Mr.PAGE_TYPE_CANVAS_VOTE=22]="PAGE_TYPE_CANVAS_VOTE",Mr[Mr.PAGE_TYPE_WEPAY_CARD=23]="PAGE_TYPE_WEPAY_CARD",Mr[Mr.PAGE_TYPE_WXGAME=24]="PAGE_TYPE_WXGAME",Mr[Mr.PAGE_TYPE_FY_EGOODS=25]="PAGE_TYPE_FY_EGOODS",Mr[Mr.PAGE_TYPE_ALITA=26]="PAGE_TYPE_ALITA",Mr[Mr.PAGE_TYPE_PHONE_CALL=27]="PAGE_TYPE_PHONE_CALL",Mr[Mr.PAGE_TYPE_SUBSCRIPTION=40027]="PAGE_TYPE_SUBSCRIPTION",Mr[Mr.PAGE_TYPE_YOUZAN=20003]="PAGE_TYPE_YOUZAN",Mr[Mr.PAGE_TYPE_WEIMENG=20305]="PAGE_TYPE_WEIMENG",Mr[Mr.PAGE_TYPE_FENGYE_EC_SINGLE=10001]="PAGE_TYPE_FENGYE_EC_SINGLE",Mr[Mr.PAGE_TYPE_FENGYE_EC_TOGETHER=10002]="PAGE_TYPE_FENGYE_EC_TOGETHER",Mr[Mr.PAGE_TYPE_FENGYE_EC_FOCUS=10003]="PAGE_TYPE_FENGYE_EC_FOCUS",Mr[Mr.PAGE_TYPE_PLAY_H5=18001]="PAGE_TYPE_PLAY_H5",Mr[Mr.PAGE_TYPE_SCAN=40026]="PAGE_TYPE_SCAN",Mr[Mr.PAGE_TYPE_CHANNELS=60003]="PAGE_TYPE_CHANNELS",Mr[Mr.PAGE_TYPE_CHANNELS_WATCH_LIVE=60005]="PAGE_TYPE_CHANNELS_WATCH_LIVE",Mr[Mr.PAGE_TYPE_CHANNELS_RESERVE_LIVE=60006]="PAGE_TYPE_CHANNELS_RESERVE_LIVE",Mr[Mr.PAGE_TYPE_CHANNELS_USER_PROFILE=60007]="PAGE_TYPE_CHANNELS_USER_PROFILE",Mr[Mr.PAGE_TYPE_CHANNELS_FOLLOW_CARD=60008]="PAGE_TYPE_CHANNELS_FOLLOW_CARD",Mr[Mr.PAGE_TYPE_AD_APPOINTMENT=60009]="PAGE_TYPE_AD_APPOINTMENT",Mr[Mr.PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5=40028]="PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5",Mr[Mr.PAGE_TYPE_WECHAT_XJ_IOS_APP_H5=40029]="PAGE_TYPE_WECHAT_XJ_IOS_APP_H5",Mr[Mr.PAGE_TYPE_WECHAT_XJ_WEBSITE_H5=40030]="PAGE_TYPE_WECHAT_XJ_WEBSITE_H5",Mr[Mr.PAGE_TYPE_WECHAT_RED_PACKET_COVER=40031]="PAGE_TYPE_WECHAT_RED_PACKET_COVER",Mr[Mr.PAGE_TYPE_WECHAT_VIDEO_TOPIC=40032]="PAGE_TYPE_WECHAT_VIDEO_TOPIC",Mr[Mr.PAGE_TYPE_CHANNELS_HALF_CARD=40033]="PAGE_TYPE_CHANNELS_HALF_CARD",Mr[Mr.PAGE_TYPE_QYWX_WECHAT_KEFU=60011]="PAGE_TYPE_QYWX_WECHAT_KEFU",Mr[Mr.PAGE_TYPE_WECHAT_STATUS_FOOTER=60012]="PAGE_TYPE_WECHAT_STATUS_FOOTER",Mr[Mr.PAGE_TYPE_WECOM_CONSULT=60013]="PAGE_TYPE_WECOM_CONSULT",Mr[Mr.PAGE_TYPE_ANDORID_DOWNLOAD=60015]="PAGE_TYPE_ANDORID_DOWNLOAD",Mr[Mr.PAGE_TYPE_VANGOGH=70001]="PAGE_TYPE_VANGOGH",Mr[Mr.PAGE_TYPE_LINGQUE_MINI_PROGRAM=70002]="PAGE_TYPE_LINGQUE_MINI_PROGRAM",Mr[Mr.PAGE_TYPE_NOT_USED=99999]="PAGE_TYPE_NOT_USED",Mr[Mr.PAGE_TYPE_MAX=1e8]="PAGE_TYPE_MAX",Mr),aa=(($r=aa||{})[$r.PRODUCTTYPE_UNKNOWN=0]="PRODUCTTYPE_UNKNOWN",$r[$r.PRODUCTTYPE_OPEN_PLATFORM_APP_MOB=12]="PRODUCTTYPE_OPEN_PLATFORM_APP_MOB",$r[$r.PRODUCTTYPE_APPLE_APP_STORE=19]="PRODUCTTYPE_APPLE_APP_STORE",$r[$r.PRODUCTTYPE_WECHAT=23]="PRODUCTTYPE_WECHAT",$r[$r.PRODUCTTYPE_JD_URL=25]="PRODUCTTYPE_JD_URL",$r[$r.PRODUCTTYPE_DP_SHOP=26]="PRODUCTTYPE_DP_SHOP",$r[$r.PRODUCTTYPE_WECHAT_ARTICLE=29]="PRODUCTTYPE_WECHAT_ARTICLE",$r[$r.PRODUCTTYPE_WECHAT_SHOP=30]="PRODUCTTYPE_WECHAT_SHOP",$r[$r.PRODUCTTYPE_WECHAT_URL=31]="PRODUCTTYPE_WECHAT_URL",$r[$r.PRODUCTTYPE_WECHAT_CARD=36]="PRODUCTTYPE_WECHAT_CARD",$r[$r.PRODUCTTYPE_WECHAT_LBS=37]="PRODUCTTYPE_WECHAT_LBS",$r[$r.PRODUCTTYPE_WECHAT_APP=38]="PRODUCTTYPE_WECHAT_APP",$r[$r.GDT_PRODUCTTYPE_WECHAT_LBS=39]="GDT_PRODUCTTYPE_WECHAT_LBS",$r[$r.PRODUCTTYPE_LEAD_AD=43]="PRODUCTTYPE_LEAD_AD",$r[$r.PRODUCTTYPE_WECHAT_MINI_GAME=46]="PRODUCTTYPE_WECHAT_MINI_GAME",$r[$r.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",$r[$r.PRODUCT_TYPE_APP_PROMOTION=50]="PRODUCT_TYPE_APP_PROMOTION",$r[$r.PRODUCTTYPE_WECHAT_CHANNELS=51]="PRODUCTTYPE_WECHAT_CHANNELS",$r[$r.PRODUCTTYPE_MINI_PROGRAM_WECHAT=52]="PRODUCTTYPE_MINI_PROGRAM_WECHAT",$r),oa=function(e){return e[e.ContentTypeImage=2]="ContentTypeImage",e[e.ContentTypeVideo=3]="ContentTypeVideo",e}(oa||{}),sa=((Hr=sa||{})[Hr.TITLE_TAG_TYPE_DEFAULT=0]="TITLE_TAG_TYPE_DEFAULT",Hr[Hr.PLATFORM=1]="PLATFORM",Hr[Hr.ACTIVITY=2]="ACTIVITY",Hr[Hr.SOURCE_FROM=3]="SOURCE_FROM",Hr),la=((Zr=la||{})[Zr.BACK_DEFAULT=0]="BACK_DEFAULT",Zr[Zr.BACK_PRIMARY_15=1]="BACK_PRIMARY_15",Zr[Zr.BACK_PRIMARY_80=2]="BACK_PRIMARY_80",Zr[Zr.BACK_SUCCESS_80=3]="BACK_SUCCESS_80",Zr[Zr.BACK_ALERT_80=4]="BACK_ALERT_80",Zr[Zr.BACK_INFORMATION_80=5]="BACK_INFORMATION_80",Zr[Zr.BACK_MINI_PROGRAM_80=6]="BACK_MINI_PROGRAM_80",Zr[Zr.BACK_BLACK_10=7]="BACK_BLACK_10",Zr[Zr.BACK_BLACK_30=8]="BACK_BLACK_30",Zr[Zr.BACK_BLACK_50=9]="BACK_BLACK_50",Zr[Zr.BACK_BLACK_90=10]="BACK_BLACK_90",Zr[Zr.BACK_WHITE_10=11]="BACK_WHITE_10",Zr[Zr.BACK_WHITE_30=12]="BACK_WHITE_30",Zr[Zr.BACK_WHITE_50=13]="BACK_WHITE_50",Zr[Zr.BACK_WHITE=14]="BACK_WHITE",Zr),ua=function(e){return e[e.TITLE_WORD_DEFAULT=0]="TITLE_WORD_DEFAULT",e[e.TITLE_WORD_BLACK_10=1]="TITLE_WORD_BLACK_10",e[e.TITLE_WORD_BLACK_30=2]="TITLE_WORD_BLACK_30",e[e.TITLE_WORD_BLACK_50=3]="TITLE_WORD_BLACK_50",e[e.TITLE_WORD_BLACK_90=4]="TITLE_WORD_BLACK_90",e[e.TITLE_WORD_WHITE_10=5]="TITLE_WORD_WHITE_10",e[e.TITLE_WORD_WHITE_30=6]="TITLE_WORD_WHITE_30",e[e.TITLE_WORD_WHITE_50=7]="TITLE_WORD_WHITE_50",e[e.TITLE_WORD_WHITE=8]="TITLE_WORD_WHITE",e[e.TITLE_WORD_PRIMARY=9]="TITLE_WORD_PRIMARY",e}(ua||{}),ca=((Gr=ca||{})[Gr.CONTENT_TAG_TYPE_DEFAULT=0]="CONTENT_TAG_TYPE_DEFAULT",Gr[Gr.DISCOUNT=1]="DISCOUNT",Gr[Gr.SERVICE=2]="SERVICE",Gr),da=function(e){return e[e.CONTENT_WORD_DEFAULT=0]="CONTENT_WORD_DEFAULT",e[e.BLACK_10=1]="BLACK_10",e[e.BLACK_30=2]="BLACK_30",e[e.BLACK_50=3]="BLACK_50",e[e.BLACK_90=4]="BLACK_90",e[e.WHITE_10=5]="WHITE_10",e[e.WHITE_30=6]="WHITE_30",e[e.WHITE_50=7]="WHITE_50",e[e.WHITE=8]="WHITE",e[e.RED=9]="RED",e}(da||{}),pa=function(e){return e[e.COUPON_DEFAULT=0]="COUPON_DEFAULT",e[e.COUPON_NORMAL=1]="COUPON_NORMAL",e[e.COUPON_HIGH=10]="COUPON_HIGH",e}(pa||{}),ha=function(e){return e[e.HIGH_VALUE=1]="HIGH_VALUE",e[e.LOW_VALUE=2]="LOW_VALUE",e}(ha||{}),fa=function(e){return e[e.kRankingResponseAdNotMatch=201012]="kRankingResponseAdNotMatch",e[e.kWechatOpenlistMaxError=500999]="kWechatOpenlistMaxError",e[e.kWechatRankingMaxError=501999]="kWechatRankingMaxError",e}(fa||{}),_a=((Kr=_a||{})[Kr.MONETIZE_METHOD_INVALID=0]="MONETIZE_METHOD_INVALID",Kr[Kr.MONETIZE_METHOD_ADS=1]="MONETIZE_METHOD_ADS",Kr[Kr.MONETIZE_METHOD_BIZ_ORIGINAL=2]="MONETIZE_METHOD_BIZ_ORIGINAL",Kr[Kr.MONETIZE_METHOD_BIZ_REPRODUCTION=3]="MONETIZE_METHOD_BIZ_REPRODUCTION",Kr[Kr.MONETIZE_METHOD_BIZ_CPS=4]="MONETIZE_METHOD_BIZ_CPS",Kr[Kr.MONETIZE_METHOD_BIZ_KANYIKANPLUS=5]="MONETIZE_METHOD_BIZ_KANYIKANPLUS",Kr),va=function(e){return e[e.OP_UNKNOWN=0]="OP_UNKNOWN",e[e.OP_OPEN=1]="OP_OPEN",e[e.OP_CLOSE=2]="OP_CLOSE",e}(va||{}),ga=function(e){return e[e.MONETIZE_METHOD_STATUS_NOT_APPLY=0]="MONETIZE_METHOD_STATUS_NOT_APPLY",e[e.MONETIZE_METHOD_STATUS_OPEN=1]="MONETIZE_METHOD_STATUS_OPEN",e[e.MONETIZE_METHOD_STATUS_CLOSED=2]="MONETIZE_METHOD_STATUS_CLOSED",e}(ga||{}),ma=((Yr=ma||{})[Yr.MONETIZE_METHOD_OPERATION_UNKNOWN=0]="MONETIZE_METHOD_OPERATION_UNKNOWN",Yr[Yr.MONETIZE_METHOD_OPERATION_SRC_EDITOR=1]="MONETIZE_METHOD_OPERATION_SRC_EDITOR",Yr[Yr.MONETIZE_METHOD_OPERATION_SRC_QUICK_OPEN=2]="MONETIZE_METHOD_OPERATION_SRC_QUICK_OPEN",Yr[Yr.MONETIZE_METHOD_OPERATION_SRC_SLOT_SET=3]="MONETIZE_METHOD_OPERATION_SRC_SLOT_SET",Yr[Yr.MONETIZE_METHOD_OPERATION_BAN=4]="MONETIZE_METHOD_OPERATION_BAN",Yr[Yr.MONETIZE_METHOD_OPERATION_UNBAN=5]="MONETIZE_METHOD_OPERATION_UNBAN",Yr[Yr.MONETIZE_METHOD_OPERATION_AUDIT=6]="MONETIZE_METHOD_OPERATION_AUDIT",Yr[Yr.MONETIZE_METHOD_OPERATION_OPERATOR=7]="MONETIZE_METHOD_OPERATION_OPERATOR",Yr),Ea=((jr=Ea||{})[jr.ADSLOT_BIZ_UNKNOWN=0]="ADSLOT_BIZ_UNKNOWN",jr[jr.ADSLOT_BIZ_BOTTOM=1]="ADSLOT_BIZ_BOTTOM",jr[jr.ADSLOT_BIZ_SPONSOR=2]="ADSLOT_BIZ_SPONSOR",jr[jr.ADSLOT_BIZ_MIDDLE=3]="ADSLOT_BIZ_MIDDLE",jr[jr.ADSLOT_BIZ_WEAPP=4]="ADSLOT_BIZ_WEAPP",jr[jr.ADSLOT_BIZ_WEAPP_REWARDED_VIDEO=5]="ADSLOT_BIZ_WEAPP_REWARDED_VIDEO",jr[jr.ADSLOT_BIZ_ORIG_VIDEO=6]="ADSLOT_BIZ_ORIG_VIDEO",jr[jr.ADSLOT_BIZ_VIDEO_END=7]="ADSLOT_BIZ_VIDEO_END",jr[jr.ADSLOT_BIZ_CPS=8]="ADSLOT_BIZ_CPS",jr[jr.ADSLOT_BIZ_WEAPP_INTERSTITIAL=9]="ADSLOT_BIZ_WEAPP_INTERSTITIAL",jr[jr.ADSLOT_WEAPP_VIDEO=10]="ADSLOT_WEAPP_VIDEO",jr[jr.ADSLOT_WEAPP_VIDEO_BEGIN=11]="ADSLOT_WEAPP_VIDEO_BEGIN",jr[jr.ADSLOT_WEAPP_COVER=12]="ADSLOT_WEAPP_COVER",jr[jr.ADSLOT_WEAPP_TEMPLATE=13]="ADSLOT_WEAPP_TEMPLATE",jr[jr.ADSLOT_WEAPP_CPS=14]="ADSLOT_WEAPP_CPS",jr[jr.ADSLOT_BIZ_KYK=15]="ADSLOT_BIZ_KYK",jr[jr.ADSLOT_BIZ_VIDEO_MID=16]="ADSLOT_BIZ_VIDEO_MID",jr),ya=((zr=ya||{})[zr.ADSLOT_STATUS_NOT_APPLY=0]="ADSLOT_STATUS_NOT_APPLY",zr[zr.ADSLOT_STATUS_OPEN=1]="ADSLOT_STATUS_OPEN",zr[zr.ADSLOT_STATUS_REVIEWING=2]="ADSLOT_STATUS_REVIEWING",zr[zr.ADSLOT_STATUS_UNPASS=3]="ADSLOT_STATUS_UNPASS",zr[zr.ADSLOT_STATUS_CLOSED=4]="ADSLOT_STATUS_CLOSED",zr),Ta=function(e){return e[e.ACCOUNT_STATUS_NOT_APPLY=0]="ACCOUNT_STATUS_NOT_APPLY",e[e.ACCOUNT_STATUS_OPEN=1]="ACCOUNT_STATUS_OPEN",e}(Ta||{}),ba=function(e){return e[e.QUEST_SETT_STATUS_UNKNOWN=0]="QUEST_SETT_STATUS_UNKNOWN",e[e.QUEST_SETT_STATUS_ONLINE=1]="QUEST_SETT_STATUS_ONLINE",e[e.QUEST_SETT_STATUS_ENDED=2]="QUEST_SETT_STATUS_ENDED",e[e.QUEST_SETT_STATUS_SETTLED=3]="QUEST_SETT_STATUS_SETTLED",e}(ba||{}),Ca=function(e){return e[e.QUEST_SETT_PROGRESS_BEGIN=1]="QUEST_SETT_PROGRESS_BEGIN",e[e.QUEST_SETT_PROGRESS_SETTLED=2]="QUEST_SETT_PROGRESS_SETTLED",e[e.QUEST_SETT_PROGRESS_WAITINVOICE=3]="QUEST_SETT_PROGRESS_WAITINVOICE",e[e.QUEST_SETT_PROGRESS_PAY_IN_PROGRESS=4]="QUEST_SETT_PROGRESS_PAY_IN_PROGRESS",e[e.QUEST_SETT_PROGRESS_SUCC=5]="QUEST_SETT_PROGRESS_SUCC",e}(Ca||{}),Sa=function(e){return e[e.VIDEO_PLAY_UNKNOWN=0]="VIDEO_PLAY_UNKNOWN",e[e.VIDEO_PLAY_COMPLETE=1]="VIDEO_PLAY_COMPLETE",e[e.VIDEO_PLAY_PARTIAL=2]="VIDEO_PLAY_PARTIAL",e[e.VIDEO_PLAY_ERROR=3]="VIDEO_PLAY_ERROR",e[e.VIDEO_PLAY_VIEWABLE=4]="VIDEO_PLAY_VIEWABLE",e}(Sa||{}),Aa=function(e){return e[e.REPORT_TYPE_UNKNOWN=0]="REPORT_TYPE_UNKNOWN",e[e.REPORT_TYPE_ON_EXIT=1]="REPORT_TYPE_ON_EXIT",e[e.REPORT_TYPE_ON_FINISH_PLAY=2]="REPORT_TYPE_ON_FINISH_PLAY",e[e.REPORT_TYPE_ON_START_PLAY=3]="REPORT_TYPE_ON_START_PLAY",e[e.REPORT_TYPE_ON_WEAPP_EXIT=4]="REPORT_TYPE_ON_WEAPP_EXIT",e[e.REPORT_TYPE_ON_CLOSE_AD=5]="REPORT_TYPE_ON_CLOSE_AD",e}(Aa||{}),Ia=function(e){return e[e.SLOT_OPEN_STATE_NOT_FIRST=0]="SLOT_OPEN_STATE_NOT_FIRST",e[e.SLOT_OPEN_STATE_IS_FIRST=1]="SLOT_OPEN_STATE_IS_FIRST",e}(Ia||{}),Pa=function(e){return e[e.NOT_EFFECT=0]="NOT_EFFECT",e[e.ALREADY_EFFECT=1]="ALREADY_EFFECT",e}(Pa||{}),wa=function(e){return e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE",e}(wa||{}),Ra=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kVideo=1]="kVideo",e[e.kArticle=2]="kArticle",e}(Ra||{}),xa=function(e){return e[e.EXPOSE=1]="EXPOSE",e[e.CLICK=2]="CLICK",e}(xa||{}),Oa=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kBiz=1]="kBiz",e[e.kWxa=2]="kWxa",e[e.kFinder=3]="kFinder",e}(Oa||{}),Na=function(e){return e[e.kDeviceUnknow=0]="kDeviceUnknow",e[e.kDeviceAndroid=1]="kDeviceAndroid",e[e.kDeviceIphone=2]="kDeviceIphone",e[e.kDeviceIpad=3]="kDeviceIpad",e[e.kDeviceTv=4]="kDeviceTv",e}(Na||{}),Da=function(e){return e[e.EXT_BACK_COMM=1]="EXT_BACK_COMM",e[e.TMPL_CONTENT=2]="TMPL_CONTENT",e[e.TMPL_INFO=3]="TMPL_INFO",e[e.AD_TEMPLATE_INFO=4]="AD_TEMPLATE_INFO",e}(Da||{}),ka=function(e){return e[e.WXCOVER_NORMARL_REQUEST=1]="WXCOVER_NORMARL_REQUEST",e[e.WXCOVER_CHECK_FETCH_TOGETHER=2]="WXCOVER_CHECK_FETCH_TOGETHER",e[e.WXAVIDEO_WELfARE_REQUEST=3]="WXAVIDEO_WELfARE_REQUEST",e[e.WELFARE_MYLIST_REQUEST=4]="WELFARE_MYLIST_REQUEST",e[e.WELFARE_CHANGE_BATCH=5]="WELFARE_CHANGE_BATCH",e[e.WXCOVER_CHECK_AD_IS_ONLINE_REQUEST=6]="WXCOVER_CHECK_AD_IS_ONLINE_REQUEST",e}(ka||{}),La=function(e){return e[e.AD_FREE_TYPE_UNKNOWN=0]="AD_FREE_TYPE_UNKNOWN",e[e.AD_FREE_TYPE_ALL_EXCEPT_REWARD=1]="AD_FREE_TYPE_ALL_EXCEPT_REWARD",e}(La||{}),Ma=function(e){return e[e.AppServiceType_NORMAL=1]="AppServiceType_NORMAL",e[e.AppServiceType_GAME=2]="AppServiceType_GAME",e}(Ma||{}),Ba=((qr=Ba||{})[qr.AllOS=0]="AllOS",qr[qr.Ios=1]="Ios",qr[qr.Android=2]="Android",qr[qr.Winphone=3]="Winphone",qr[qr.JAVA=4]="JAVA",qr[qr.OS_UNKNOWN=5]="OS_UNKNOWN",qr[qr.SYMBIAN=6]="SYMBIAN",qr[qr.S40asha=7]="S40asha",qr[qr.Webwx=8]="Webwx",qr[qr.Blackberry=9]="Blackberry",qr[qr.Windows=10]="Windows",qr),Fa=((Xr=Fa||{})[Xr.kUnknownNetwork=0]="kUnknownNetwork",Xr[Xr.kWIFI=1]="kWIFI",Xr[Xr.k2G=2]="k2G",Xr[Xr.k3G=3]="k3G",Xr[Xr.k4G=4]="k4G",Xr[Xr.k5G=5]="k5G",Xr[Xr.kAll=10]="kAll",Xr),Va=function(e){return e[e.kUnknownCarrier=0]="kUnknownCarrier",e[e.kCMCC=1]="kCMCC",e[e.kCUCC=2]="kCUCC",e[e.kCTCC=3]="kCTCC",e}(Va||{}),Wa=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.CMNET=1]="CMNET",e[e.CMWAP=2]="CMWAP",e[e.THREEGNET=3]="THREEGNET",e[e.THREEGWAP=4]="THREEGWAP",e[e.UNINET=5]="UNINET",e[e.UNIWAP=6]="UNIWAP",e[e.WIFI=7]="WIFI",e[e.CTWAP=8]="CTWAP",e[e.CTNET=9]="CTNET",e[e.THREEGNET_UNINET=10]="THREEGNET_UNINET",e[e.THREEGWAP_UNIWAP=11]="THREEGWAP_UNIWAP",e[e.CTNET_CTWAP=12]="CTNET_CTWAP",e[e.THREEGNET_THREEGWAP_UNINET_UNIWAP=13]="THREEGNET_THREEGWAP_UNINET_UNIWAP",e[e.WIMAX=14]="WIMAX",e}(Wa||{}),Ua=function(e){return e[e.Default_Source=0]="Default_Source",e[e.MediaPlatform=1]="MediaPlatform",e[e.WeApp=2]="WeApp",e[e.Moments=3]="Moments",e[e.BizTimeLine=4]="BizTimeLine",e}(Ua||{}),$a=function(e){return e[e.JSON=0]="JSON",e[e.XML=1]="XML",e}($a||{}),Ga=function(e){return e[e.Unknown_sys=-1]="Unknown_sys",e[e.Windows=0]="Windows",e[e.Ios=1]="Ios",e[e.Android=2]="Android",e}(Ga||{}),Za=function(e){return e[e.Unknown_type=0]="Unknown_type",e[e.Wifi=1]="Wifi",e[e.TwoG=2]="TwoG",e[e.TreeG=3]="TreeG",e[e.FourG=4]="FourG",e[e.FiveG=5]="FiveG",e[e.Ethernet=6]="Ethernet",e}(Za||{}),Ha=((Jr=Ha||{})[Jr.FeedJumpVisibleOption_DefaultPublic=0]="FeedJumpVisibleOption_DefaultPublic",Jr),za=function(e){return e[e.kMMFinderJumpConfigPrefix_Feed=1]="kMMFinderJumpConfigPrefix_Feed",e[e.kMMFinderJumpConfigPrefix_HotWord=2]="kMMFinderJumpConfigPrefix_HotWord",e[e.kMMFinderJumpConfigPrefix_Anchor=3]="kMMFinderJumpConfigPrefix_Anchor",e[e.kMMFinderJumpConfigPrefix_Tag=4]="kMMFinderJumpConfigPrefix_Tag",e[e.kMMFinderJumpConfigPrefix_Activity=5]="kMMFinderJumpConfigPrefix_Activity",e[e.kMMFinderJumpConfigPrefix_Finder=6]="kMMFinderJumpConfigPrefix_Finder",e}(za||{}),ja=function(e){return e[e.FinderRedPacketCoverStatus_Enable=1]="FinderRedPacketCoverStatus_Enable",e[e.FinderRedPacketCoverStatus_Unable=2]="FinderRedPacketCoverStatus_Unable",e}(ja||{}),Ya=function(e){return e[e.SEG_VERSION_DEFAULT=0]="SEG_VERSION_DEFAULT",e[e.SEG_VERSION_119368=1]="SEG_VERSION_119368",e[e.SEG_VERSION_NEISOU=2]="SEG_VERSION_NEISOU",e[e.SEG_VERSION_1141=3]="SEG_VERSION_1141",e[e.SEG_VERSION_BIG=4]="SEG_VERSION_BIG",e[e.SEG_VERSION_MINOR_LANGUAGE=5]="SEG_VERSION_MINOR_LANGUAGE",e[e.SEG_VERSION_WSEG_V1=6]="SEG_VERSION_WSEG_V1",e}(Ya||{}),Ka=function(e){return e[e.ENTITY_VERSION_DEFAULT=0]="ENTITY_VERSION_DEFAULT",e[e.ENTITY_VERSION_20=1]="ENTITY_VERSION_20",e}(Ka||{}),Xa=function(e){return e[e.REWRITE_SEN_TYPE_ONE=1]="REWRITE_SEN_TYPE_ONE",e[e.REWRITE_SEN_TYPE_RETRY=2]="REWRITE_SEN_TYPE_RETRY",e[e.REWRITE_SEN_TYPE_BIG_SEG=101]="REWRITE_SEN_TYPE_BIG_SEG",e[e.REWRITE_SEN_TYPE_BIG_SEG_RETRY=102]="REWRITE_SEN_TYPE_BIG_SEG_RETRY",e[e.REWRITE_SEN_TYPE_MULTI_WAY_OPT1=200]="REWRITE_SEN_TYPE_MULTI_WAY_OPT1",e[e.REWRITE_SEN_TYPE_MULTI_WAY_OPT2=201]="REWRITE_SEN_TYPE_MULTI_WAY_OPT2",e[e.REWRITE_SEN_TYPE_MULTI_WAY_OPT3=202]="REWRITE_SEN_TYPE_MULTI_WAY_OPT3",e[e.REWRITE_SEN_TYPE_MULTI_WAY_OPT4=203]="REWRITE_SEN_TYPE_MULTI_WAY_OPT4",e[e.REWRITE_SEN_TYPE_MULTI_WAY_OPT5=204]="REWRITE_SEN_TYPE_MULTI_WAY_OPT5",e[e.REWRITE_SEN_TYPE_VOB_OPT1=300]="REWRITE_SEN_TYPE_VOB_OPT1",e[e.REWRITE_SEN_TYPE_VOB_OPT2=301]="REWRITE_SEN_TYPE_VOB_OPT2",e}(Xa||{}),qa=function(e){return e[e.RAW_QUERY=0]="RAW_QUERY",e[e.QC_QUERY=1]="QC_QUERY",e[e.QR_QUERY=2]="QR_QUERY",e[e.QR_QUERY_FROM_QC=3]="QR_QUERY_FROM_QC",e[e.QR_QUERY_FROM_NS=4]="QR_QUERY_FROM_NS",e[e.REPLACED_RAW_QUERY=5]="REPLACED_RAW_QUERY",e[e.QR_QUERY_FROM_BOXQRW=6]="QR_QUERY_FROM_BOXQRW",e[e.QR_QUERY_FROM_BOXQRW_END2END=7]="QR_QUERY_FROM_BOXQRW_END2END",e}(qa||{}),Ja=function(e){return e[e.INVALID=0]="INVALID",e[e.NAME=1]="NAME",e[e.NICK_NAME=2]="NICK_NAME",e[e.AREA_NAME=3]="AREA_NAME",e[e.HOTEL_NAME=4]="HOTEL_NAME",e[e.SCENIC_NAME=5]="SCENIC_NAME",e[e.CINEMA_NAME=6]="CINEMA_NAME",e}(Ja||{}),Qa=function(e){return e[e.ROOT=0]="ROOT",e[e.PROVINCE=1]="PROVINCE",e[e.CITY=2]="CITY",e[e.DISTRICT=3]="DISTRICT",e[e.SUBDISTRICT=4]="SUBDISTRICT",e[e.SUBDISTRICT_NO=5]="SUBDISTRICT_NO",e}(Qa||{}),eo=function(e){return e[e.ANDROID=12]="ANDROID",e[e.IOS=19]="IOS",e[e.WE_CHAT=23]="WE_CHAT",e[e.MINI_GAME=46]="MINI_GAME",e[e.WE_CHAT_CARD=36]="WE_CHAT_CARD",e[e.WE_CHAT_SHOP=30]="WE_CHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.WE_CHAT_ARTICLE=29]="WE_CHAT_ARTICLE",e[e.GDT_WE_CHAT_ARTICLE=31]="GDT_WE_CHAT_ARTICLE",e[e.WE_CHAT_APP=38]="WE_CHAT_APP",e[e.LBS=37]="LBS",e[e.LEAD_AD=43]="LEAD_AD",e[e.JD_URL=25]="JD_URL",e[e.CHANNELS=51]="CHANNELS",e}(eo||{}),to=function(e){return e[e.MP_TAG_TYPE_NONE=0]="MP_TAG_TYPE_NONE",e[e.MP_TAG_TYPE_PLAY=1]="MP_TAG_TYPE_PLAY",e[e.MP_TAG_TYPE_DOWNLOAD=3]="MP_TAG_TYPE_DOWNLOAD",e[e.MP_TAG_TYPE_FOLLOW=4]="MP_TAG_TYPE_FOLLOW",e[e.MP_TAG_TYPE_FORM=5]="MP_TAG_TYPE_FORM",e[e.MP_TAG_TYPE_CATEGORY=2]="MP_TAG_TYPE_CATEGORY",e[e.MP_TAG_TYPE_ORDER=6]="MP_TAG_TYPE_ORDER",e[e.MP_TAG_TYPE_POI=7]="MP_TAG_TYPE_POI",e[e.MP_TAG_TYPE_CONVERTION=8]="MP_TAG_TYPE_CONVERTION",e[e.MP_TAG_TYPE_APP_CATEGORY=9]="MP_TAG_TYPE_APP_CATEGORY",e}(to||{}),no=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.VIDEO=1]="VIDEO",e[e.LIVE=2]="LIVE",e}(no||{}),io=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROOM=1]="ROOM",e[e.RESERVATION=2]="RESERVATION",e}(io||{}),ro=function(e){return e[e.NONE=1]="NONE",e[e.ON_AIR=2]="ON_AIR",e[e.ENDED=3]="ENDED",e[e.IN_PREPARE=4]="IN_PREPARE",e}(ro||{}),ao=function(e){return e[e.NONE=0]="NONE",e[e.JSONPACK=1]="JSONPACK",e}(ao||{});var oo=function(e,t,n){for(var i="string"==typeof t?t.split("."):t,r=e,a=0;r&&a<i.length;)r=r[i[a]],a+=1;return a<i.length?null:null!=r?r:n};var so=function(e){return e.replace(/[A-Z]/g,(function(e){return`-${e.toLowerCase()}`}))},lo=function(e){var t=e.toString(16).toUpperCase();return t.length<2?`%0${t}`:`%${t}`},uo=function(e){if(!e)return"";var t=String(e),n=[],i=/[ \r\n!*"'();:@&=+$,/?%#[\]<>{}|`^\\\u0080-\uffff]/;for(var r of t)if(r.match(i)){var a=r.codePointAt?r.codePointAt(0):r.charCodeAt(0);a<128?n.push(lo(a)):a<2048?n.push([lo(192+(a>>6)),lo(128+(63&a))].join("")):a<65536?n.push([lo(224+(a>>12)),lo(128+(a>>6&63)),lo(128+(63&a))].join("")):a<2097152&&n.push([lo(240+(a>>18)),lo(128+(a>>12&63)),lo(128+(a>>6&63)),lo(128+(63&a))].join(""))}else n.push(r);return n.join("")},co=function(e){if(!e)return"";for(var t=function(e){if(!e)throw new Error("invalid text")},n=function(e){return String.fromCodePoint?String.fromCodePoint(e):String.fromCharCode(e)},i=e.replace(/%[a-fA-F0-9]{2}/gi,(function(e){return String.fromCharCode(parseInt(e.replace("%",""),16))})),r=0,a="";r<i.length;){var o=i.charCodeAt(r);if(o<128)a+=n(o),r+=1;else if(o>=192&&o<224){t(r+1<i.length),a+=n((31&o)<<6|63&i.charCodeAt(r+1)),r+=2}else if(o<240){t(r+2<i.length),a+=n((15&o)<<12|(63&i.charCodeAt(r+1))<<6|63&i.charCodeAt(r+2)),r+=3}else{t(r+3<i.length),a+=n([(7&o)<<18,(63&i.charCodeAt(r+1))<<12,(63&i.charCodeAt(r+2))<<6,63&i.charCodeAt(r+3)].reduce((function(e,t){return e|t}),0)),r+=4}}return a},po=function(e){var t={};if(e.indexOf("?")>-1){var n=e.indexOf("?")+1,i=e.substring(n);i.indexOf("#")>-1&&(i=i.substring(0,i.indexOf("#")));var r=i.split("&");for(var a of r){var[o,s]=a.split("=");t[o]=co(s)}}return t},ho=Object.keys,fo=Function.prototype.call.bind(String.prototype.split),_o=Function.prototype.call.bind(String.prototype.indexOf),vo=Function.prototype.call.bind(String.prototype.concat),go=Function.prototype.call.bind(String.prototype.substring),mo=function(e,t){if(!e)return"";if(!t)return e;var n=fo(e,"#"),i=_o(n[0],"?")>-1?"&":"?",r="",a=ho(t);if(a.length>0){for(var o of a)r=vo(r,`${o}=${uo(t[o])}&`);return r.length>0&&(r=go(r,0,r.length-1)),n[0]+i+r+(n[1]?`#${n[1]}`:"")}return e},Eo={type:"EOF"};class yo{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",Eo),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){var t=this;return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&function(){for(var e=0,n=0,i=0,r=t.token.length;i<r;i++){var a=t.token[i];"("===a?e+=1:")"===a&&(n+=1)}return e===n}()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(Eo)}}var To=function(e){for(var t=new yo,n=0,i=e.length;n<i;){var r=e[n];n+=1,t.push(r)}return t.end(),t.tokens},bo=function(e){return"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null},Co=function(e){return 0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren)},So=function(e){return 0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren)},Ao=function(e){var t;t="string"==typeof e?To(e):e;for(var n=[bo({type:"ROOT"})],i=function(e){for(var t=e.priority;Co(n[n.length-1])&&So(n[n.length-2])&&t<=n[n.length-1].priority&&t<=n[n.length-2].priority;){var{children:i}=n[n.length-2];null==i||i.push(n.pop())}},r=function(e){var t=bo(e),r=n[n.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(Co(r))return;So(r)?r.children.push(t):n.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?Co(r)&&(t.priority>r.priority?function(e,t){var i=t.children.pop();i&&e.children.push(i),n.push(e)}(t,r):(i(t),function(e){var t=n.pop();t&&e.children.push(t),n.push(e)}(t))):"ROOT_END"===t.type&&(i(t),n.push(t))},a=0,o=t.length;a<o;a++)r(t[a]);return n},Io=function({type:e,children:t,operator:n},i,r={}){var a=function(e){return Io(t[e],i,r)};if("COMPARE"===e){var o=n&&{">":function(){return a(0)>a(1)},"<":function(){return a(0)<a(1)},">=":function(){return a(0)>=a(1)},"<=":function(){return a(0)<=a(1)},"==":function(){return a(0)==a(1)},"!=":function(){return a(0)!=a(1)},"===":function(){return a(0)===a(1)}}[n];return o?o():null}if("LOGIC"===e){var s=n&&{"&&":function(){return a(0)&&a(1)},"||":function(){return a(0)||a(1)}}[n];return s?s():null}var l={NUMBER:function(){return Number(t[0])},STR:function(){return t[0]},TPLSTR:function(){return function(e,t){var n=e.split("."),i="";return n.forEach((function(e){""===i?i=t[e]:("string"==typeof i&&(i=JSON.parse(i)),i=i[e])})),i}(t[0],i)},QUESTION:function(){return a(0)?a(1):a(2)},TPLFUNC:function(){return function(e,t,n){var i=e.indexOf("("),r=e.substring(0,i),a=e.substring(i+1,e.length-1);if(!n[r])return null;for(var o=To(a),s=[],l=[],u=0,c=o.length;u<c;u++){var d=o[u];"COMMA"===d.type||"EOF"===d.type?(s.push(l),l=[]):l.push(d)}var p=[];return s.forEach((function(e){p.push(Po(e,t,n))})),n[r].apply(null,p)}(t[0],i,r)}},u=l[e]||null;return u?u():null},Po=function(e,t,n){try{var i=Ao(e);return Io(i[1],t,n)}catch(e){}return null},wo=1,Ro=function(e,t){wo=e/t},xo=/([+-]?\d+(?:\.\d+)?)apx/g,Oo=function(e,t=!0){var n;return null!==(n=e)&&void 0!==n&&n.replace?e.replace(xo,(function(e,t){return Number(t*wo)+"px"})):e},No={adDataMap:{},adDatasMap:{},videoDataMap:{},takedWelfareDatasMap:{}},Do=function(e,t={}){e&&(No.adDataMap[e]=t)},ko=function(e){return No.adDataMap[e]||{}},Lo=function(e,t){e&&(No.videoDataMap[e]=t)},Mo=function(e,t=[]){e&&(No.adDatasMap[e]=t)},Bo=function(e){return No.adDatasMap[e]||[]},Fo=function(e,t=[]){e&&(No.takedWelfareDatasMap[e]=t)},Vo=function(e){return No.takedWelfareDatasMap[e]||[]},Wo=["width","height","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","left","right","top","bottom","margin","marginLeft","marginRight","marginTop","marginBottom","border","borderWidth","borderLeft","borderRight","borderTop","borderBottom","borderRadius","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","fontSize","lineHeight"],Uo=function(e,t,n={isUpdate:!0}){var r=function(e){return e.__$styleObj}(e);n.isUpdate&&r?t=Object.assign(r,t):function(e,t){e.__$styleObj=t,e.__$styleObj}(e,Object.assign({},t));var a=function(e){return`${n.prepend||""}${e}${n.append||""}`};if("string"==typeof t)e.setNodeStyle(a(t),i.Z.glassEasel.StyleSegmentIndex.TEMP_EXTRA);else{var o=Object.entries(t).filter((function([e,t]){return null!=t})).map((function([e,t]){return Wo.includes(e)&&String(t).match(/^\d+$/)?[e,`${t}px`]:[e,t]})).map((function([e,t]){return`${so(e)}:${t};`})).join("\n");e.setNodeStyle(a(o),i.Z.glassEasel.StyleSegmentIndex.TEMP_EXTRA)}},$o={}.hasOwnProperty;var Go=ir(),Zo=null,Ho=!1;const zo=(0,_._0)().define().behavior(v.ZP).staticData({c:function e(...t){for(var n=[],i=0;i<arguments.length;i++){var r=t[i];if(r)if("string"==typeof r||"number"==typeof r)n.push(r);else if(Array.isArray(r)){if(r.length){var a=e(...r);a&&n.push(a)}}else if("object"==typeof r){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){n.push(r.toString());continue}for(var o in r)$o.call(r,o)&&r[o]&&n.push(so(o))}}return n.join(" ")}}).definition({created:function(){var e=this;this._systemInfo=Go,Ho||(Ho=!0,Zo=nr().then((function(t){return Go=t,e._systemInfo=Go,t})))},methods:{_validateCompressEntry:function(e){if("string"!=typeof e||!e)return!1;var t=e.split("^");if(4!==t.length)return!1;if(!t[0]&&!t[1]&&!t[2])return!1;if(!t[3])return!1;for(var n={$:0,"@":0,"]":0,"|":0},i=0;i<t[3].length;i+=1){var r=t[3][i].toUpperCase();if(r in n)n[r]+=1;else if(!/^[-0-9A-Z]$/.test(r))return!1}return n.$+n["@"]===n["]"]},_addListenerToElement:function(e,t,n){return null==e||e.addListener(t,n),n},_removeListenerFromElement:function(e,t,n){null==e||e.removeListener(t,n)},_getComputedStyle:function(){var e=s()((function*(e){var t=this;return new Promise((function(n,i){try{var r=t._asContext(t.getBackendContext());r?r.getComputedStyle(t._asNode((e||t).$$),(function(e){n(e)})):n(null)}catch(e){i(e)}}))}));return function(t){return e.apply(this,arguments)}}(),_getBoundingClientRect:function(){var e=s()((function*(e){var t=this;return new Promise((function(n,i){try{var r=e||t;r.getBoundingClientRect||i(),r.getBoundingClientRect((function(e){n(e)}))}catch(e){i(e)}}))}));return function(t){return e.apply(this,arguments)}}(),_getBackendElement:function(e){return e.$$},_asNode:function(e){return e},_asContext:function(e){return e},_setElementStyle:function(e,t,n){e&&e instanceof f.RuntimeCore.glassEasel.Element&&Uo(e,{[t]:n})},_removeElementStyle:function(e,t){e&&e instanceof f.RuntimeCore.glassEasel.Element&&Uo(e,{[t]:null})},_getPath:function(){return this.getCurrentRoute()+"?"+window.__queryString__},_getScreenNum:function(e){var t=this._asContext(this.getBackendContext());return t?Math.ceil((e+t.clientHeight)/this._systemInfo.windowHeight):0},_getSystemInfo:function(){return this._systemInfo},_getSystemInfoPromise:function(){var e=s()((function*(){return yield Zo,this._systemInfo}));return function(){return e.apply(this,arguments)}}(),_getComposedParent:function(e){if(e instanceof f.RuntimeCore.glassEasel.ShadowRoot)return e.getHostNode();for(var t=e.parentNode;null!==(n=t)&&void 0!==n&&n.isInheritSlots();){var n;t=t.parentNode}return t instanceof f.RuntimeCore.glassEasel.Component&&!t.isExternal()?t.shadowRoot.getContainingSlot(e):t},_traverse:function(e,t){for(var n=e;;){if(n instanceof f.RuntimeCore.glassEasel.Element&&!1===t(n))return!1;var i=n.getComposedParent();if(!i)break;n=i}},_getPageOffset:function(){var e=this,t={scrollTop:0,scrollLeft:0,scrollWidth:0,scrollHeight:0};return this._traverse(this.shadowRoot,(function(n){var i,r=e._asNode(n.getBackendElement());return null==r||null===(i=r.getScrollPosition)||void 0===i||i.call(r,(function(e){t.scrollTop+=(null==e?void 0:e.scrollTop)||0,t.scrollLeft+=(null==e?void 0:e.scrollLeft)||0,t.scrollWidth+=(null==e?void 0:e.scrollWidth)||0,t.scrollHeight+=(null==e?void 0:e.scrollHeight)||0})),!0})),t},_applyAnimatedStyle:function(e,t,n){var i=f.RuntimeCore.nativeGlobal.runtime.registerJsValue(e),r=this.getPageId(),a=f.RuntimeCore.getInstance().proxyCreateAnimatedStyle(r,i,t);return((null==n?void 0:n.$$)||this.getBackendElement()).addAnimatedStyle(a),a.mapperId},_removeAnimatedStyle:function(e,t){((null==t?void 0:t.$$)||this.getBackendElement()).clearAnimatedStyle(e)}}}).data((function(){return{truncate:function(e,t,n){return t&&n&&e?function(e,t){for(var n=0,i=0,r=0;r<e.length;r++)(n+=/[\u4e00-\u9fa5]/.test(e[r])?2:1)<t-1&&(i=r);return n>t?`${e.substring(0,i+1)}...`:e}(e,2*n):e},_hideInnerRequest:function(e){if(!r.gm||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),n=t[1]||"",i=n.length>0?"&":"";e=`${t[0]}?${n}${i}devtools_ignore=true`}return e}}})).registerBehavior();var jo,Yo=n(404),Ko=((jo=function(e){return Object.keys(e).reduce((function(t,n){return{...t,...null===e[n]||void 0===e[n]?{}:{[n]:e[n]}}}),{})})._closure={},jo.asString="function _f(obj){return Object.keys(obj).reduce(function(pre,cur){return{...pre,...(obj[cur]===null||obj[cur]===undefined?{}:{[cur]:obj[cur]})};},{});}",jo.__workletHash=9632557171583,jo.__location="src/components/wx-ad/util/worklet.ts (3:28)",jo.__worklet=!0,jo),Xo={},qo=(0,_._0)().defineTraitBehavior();const Jo=(0,_.Ou)("ad-custom-base").behavior(v.ZP).behavior(zo).behavior(sn.Z).definition({properties:{_id:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""},idPrefix:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""},forType:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:Ar.NONE},forIndex:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:null},forItem:{value:null},forArr:{value:null},forKey:{value:null},flattenLayer:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1}},methods:{_init:function(){var e,t,n,i,r,a=this;if(!this._inited){this._inited=!0;var o=this.traitBehavior(qo);this.adBaseCustomId=null==o?void 0:o.getAdCustomId(),this.adBaseTpl=null==o?void 0:o.getTpl(),this.adBaseDoAction=null==o||null===(e=o.getDoAction)||void 0===e?void 0:e.call(o),this.setData({_id:`${this.adBaseCustomId}-${this.properties.idPrefix}${null===(t=this.adBaseTpl)||void 0===t?void 0:t.id}`}),this._style=(null===(n=this.adBaseTpl)||void 0===n?void 0:n.style)||{},this._options=(null===(i=this.adBaseTpl)||void 0===i?void 0:i.options)||{},this._bubbleEvent=void 0===this._options.bubbleEvent||this._options.bubbleEvent,this._lifecycle=this._options.lifecycle||{},this._data=this._options.data||{},this._events=this._options.events||{},this._innerStyles=this._options.innerStyles||{},this._animations=this._options.animations||{},this.animateStyleMapperIds=[];var s=this._getDataValue("_bubbleEvent");void 0!==s&&(this._bubbleEvent=s),this._removeAdCustomAction(),this._onAdCustomAction=this.onPageEvent("onAdCustomAction",(function(e){var t,n,i,r;null!==(t=e.detail)&&void 0!==t&&t.targetidReg?null!==(i=(r=e.detail.targetidReg).test)&&void 0!==i&&i.call(r,a.data._id)&&a._doAction(e.detail):null!==(n=e.detail)&&void 0!==n&&n.targetid&&e.detail.targetid===a.data._id&&a._doAction(e.detail)})),this._removeTplEventTap(),null!==(r=this._events.tap)&&void 0!==r&&r.length&&(this._tplEventTap=this._addListenerToElement(this.$.container,"tap",(function(e){!1===a._bubbleEvent&&(null==e||e.stopPropagation()),a._doActions(a._events.tap,{event:e})})))}},_destroy:function(){var e;this._inited=!1,(null===(e=this.animateStyleMapperIds)||void 0===e?void 0:e.length)&&this.removeAnimatedStyle(this.animateStyleMapperIds),this.animateStyleMapperIds=[],this._removeAdCustomAction(),this._removeTplEventTap()},_doAction:function(e){var t=this,n=e.payload||{},i=e.args||{},r=n.delay||0,a=function(){var r=n.expr;if(!r||Po(r,Object.assign({$args:i},t._getScope(),t._getInnerFunction()),t._getInnerFunction())){var a=n.action,o=n.value||{};if(a===Nr.SETSTYLE){var s=o.style||{};if(o.styleExpr)for(var l of Object.keys(o.styleExpr))s[l]=Po(o.styleExpr[l],Object.assign({$args:i},t._getScope(),t._getInnerFunction()),t._getInnerFunction());t._setStyle({id:o.id,style:s})}else if(a===Nr.SETEXPRVAR){var u=o.key,c=t._getDataValue("value",o);t._getExprInnerVars()[u]=c}else if(a===Nr.BATCHSETEXPRVAR){var d=o.list||[],p=t._getExprInnerVars();for(var h of d){var f=h.key,_=t._getDataValue("value",h);p[f]=_}}else if(a===Nr.REPORTIDKEY)Reporter.reportIDKeyDirectly({id:o.id||924,key:o.key||0,immediately:!0});else if(a===Nr.TRIGGEREVENT){var v=o.detail||{};try{var g;if(null!==(g=i.event)&&void 0!==g&&g.detail&&(v._rawDetail=JSON.stringify(i.event.detail)),o.detailExpr)for(var m of Object.keys(o.detailExpr))v[m]=Po(o.detailExpr[m],Object.assign({$args:i},t._getScope(),t._getInnerFunction()),t._getInnerFunction())}catch{}t._emitAdCustomEvent(Or.TRIGGEREVENT,{eventName:o.eventName,detail:v})}else if(a===Nr.REPORTMMDATA){var E=o.data||{};if(o.dataExpr)for(var y of Object.keys(o.dataExpr))E[y]=Po(o.dataExpr[y],Object.assign({$args:i},t._getScope(),t._getInnerFunction()),t._getInnerFunction());t._emitAdCustomEvent(Or.REPORTMMDATA,{id:o.id,data:E})}else if(a===Nr.ANIMATE){var T=o.id,b=o.animation;t._doAnimation({id:T,animation:b})}else if(a===Nr.TRIGGERBTNCLICK){var C=i.event;C&&t._emitAdCustomEvent(Or.BTNTAP,{event:C,isHandleDownload:o.isHandleDownload||!1})}else if(a===Nr.LANDAD){var S=i.event;S&&t._emitAdCustomEvent(Or.LANDAD,{index:t._getDataValueWithDefault("index",0,o),type:t._getDataValueWithDefault("type",Dr.NORMAL,o),event:S})}else if(a===Nr.EMITADDITIONFETCH)t._emitAdCustomEvent(Or.EMITADDITIONFETCH);else if(a===Nr.TRIGGERCOMPONENTEVENT){var{eventName:A,args:I}=o;t._emitComponentEvent(A,{...i,...I})}else if(a===Nr.SETADINDEX)t._emitAdCustomEvent(Or.SETADINDEX,{index:t._getDataValueWithDefault("index",0,o)});else if(a===Nr.DISPATCHRERENDER)t._dispatchRerender();else if(a===Nr.REPORTADMONITORDATA){var{id:P,key:w}=o;t._emitAdCustomEvent(Or.REPORTADMONITORACTION,{id:P,forceKey:w,extInfo:t._getDataValue("extInfo",o)})}else if(a===Nr.RESETVARS)t._resetVars();else{var R;null===(R=t.adBaseDoAction)||void 0===R||R.call(t,e)}}};r?setTimeout(a,r):a()},_doActions:function(e=[],t={}){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(r.force&&!r.targetid)this._doAction({args:t,payload:r});else{var a=this._getDataValue("targetid",r),o=this._getDataValue("targetidReg",r);h.Q.trigger(this.getPageId(),"onAdCustomAction",{fromid:this.data._id,targetid:a?`${this.adBaseCustomId}-${a}`:this.data._id,targetidReg:o?new RegExp(o):null,args:t,payload:r})}}},_getScope:function(){return{$ad:ko(this.adBaseCustomId),$ads:Bo(this.adBaseCustomId),$takedWelfares:Vo(this.adBaseCustomId),$const:{true:!0,false:!1,openParen:"(",closeParen:")",systemInfo:this._getSystemInfo(),ua:this._getSystemInfo().userAgent,time:+new Date,ratio:wo,isGame:!1,undefined:void 0},$for:{index:this.data.forIndex,item:this.data.forItem,arr:this.data.forArr}}},_getExprInnerVars:function(){return void 0===Xo[this.adBaseCustomId]&&(Xo[this.adBaseCustomId]={}),Xo[this.adBaseCustomId]},_resetVars:function(){Xo[this.adBaseCustomId]={}},_getInnerFunction:function(){var e=this;this._getExprInnerVars();return{"#scope":function(e){return e},"#no":function(e){return!e},"#bool":function(e){return!!e},"#add":function(e,t){return e+t},"#sub":function(e,t){return e-t},"#multi":function(e,t){return e*t},"#division":function(e,t){return e/t},"#negative":function(e){return-e},"#mod":function(e,t){return e%t},"#toNumber":function(e){return Number(e)},"#toArray":function(...e){return e},"#toString":function(e){return String(e)},"#toRegExp":function(e){return new RegExp(e)},"#test":function(e,t){return new RegExp(e).test(t)},"#ceil":function(e){return Math.ceil(e)},"#floor":function(e){return Math.floor(e)},"#round":function(e){return Math.round(e)},"#substring":function(e,t,n){return e.substring(t,n)},"#like":function(e,t){return-1!==e.indexOf(t)},"#toFixed":function(e,t){return parseFloat(e).toFixed(t)},"#replace":function(e,t,n){return e.replace(t,n)},"#replaceAll":function(e,t,n){return e.replaceAll(t,n)},"#toLowerCase":function(e){return e.toLowerCase()},"#len":function(e){return e.length},"#hansLen":function(e){var t=0;for(var n of e)t+=/[\u4e00-\u9fa5]/.test(n)?2:1;return t/2},"#parse":function(e){try{return JSON.parse(e)}catch(e){return{}}},"#value":function(e,t){return e[t]||{}},"#truncate":function(e,t){var n="",i=0;for(var r of e){if((i+=/[\u4e00-\u9fa5]/.test(r)?2:1)>t){n+="...";break}n+=r}return n},"#concat":function(...e){return e.join("")},"#split":function(e,t,n){return null==e?void 0:e.split(t,n)},"#join":function(e,t){return null==e?void 0:e.join(t)},"#abbrNum":function(e){return e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`},"#trimDigit":function(e){var t=e.toString().split(".");if(t.length<2)return e;for(var n=t.slice(-1)[0];"0"===n[n.length-1];)n=n.slice(0,-1);return t.slice(0,-1).concat(n?[n]:[]).join(".")},"#append":function(e,t,n=!1){return n&&e.indexOf(t)>-1||e.push(t),e},"#remove":function(e,t){return e.filter((function(e){return e!==t}))},"#include":function(e,t){return e.indexOf(t)>-1},"#indexedArray":function(e){if(e<=0)return[];for(var t=[],n=0;n<e;n+=1)t.push(n);return t},"#get":oo,"#slice":function(e,t,n){return e.slice(t,n)},"#map":function(t,n){return t.map((function(t){return e._run(n,{$item:t})}))},"#reduce":function(t,n,i){return t.reduce((function(t,i){return e._run(n,{$item1:t,$item2:i})}),i)},"#rand":function(){return Math.random()},"#compareVersion":function(e,t){for(var n=e.split("."),i=t.split("."),r=Math.max(n.length,i.length);n.length<r;)n.push("0");for(;i.length<r;)i.push("0");for(var a=0;a<r;a++){var o=parseInt(n[a],10),s=parseInt(i[a],10);if(o>s)return 1;if(o<s)return-1}return 0},"#fn":function(e,...t){return e(...t)},"#hexToRgb":function(e,t){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return`${t}${t}${n}${n}${i}${i}`}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?Number.isNaN(t)?`rgb(${parseInt(n[1],16)}, ${parseInt(n[2],16)}, ${parseInt(n[3],16)})`:`rgba(${parseInt(n[1],16)}, ${parseInt(n[2],16)}, ${parseInt(n[3],16)}, ${t})`:""},"#parseInt":function(e,t=10){return parseInt(e,t)}}},_getCustomAdData:function(){return this.data.forType===Ar.ADS?this._getCustomAdDatas()[this.data.forIndex]||{}:ko(this.adBaseCustomId)},_getCustomAdDatas:function(){return Bo(this.adBaseCustomId)},_getDataValueWithDefault:function(e,t,n=null){var i=this._getDataValue(e,n);return void 0===i?t:i},_getDataValue:function(e,t=null){var n=t||this._data||{},i=n[e+"Expr"];return i?Po(i,this._getScope(),this._getInnerFunction()):n[e]},_setStyle:function({id:e,style:t}){var n;n=e?"$$"===e?this.asElement():this.$[e]:this.parentNode,this._updateStyle(t,n)},_removeAdCustomAction:function(){void 0!==this._onAdCustomAction&&(h.Q.off(this.getPageId(),"onAdCustomAction",this._onAdCustomAction),delete this._onAdCustomAction)},_removeTplEventTap:function(){void 0!==this._tplEventTap&&this.$.container&&this._removeListenerFromElement(this.$.container,"tap",this._tplEventTap)},_updateInnerStyle:function(){if(this._innerStyles)for(var e of Object.keys(this._innerStyles)){var t=this._innerStyles[e];if(!t.expr||Po(t.expr,this._getScope(),this._getInnerFunction())){var n="$$"===e?this:this.$[e];this._updateStyle(t.style,n)}}},_updateStyle:function(e,t){if(e&&t)for(var n of Object.keys(e)){var i=e[n],r=n;if(-1!==n.indexOf("Expr")){var a=n.split("Expr");2===a.length&&(r=a[0],i=Po(i,this._getScope(),this._getInnerFunction()))}this._setElementStyle(t,r,Oo(i))}},_removeInnerStyle:function(){if(this._innerStyles)for(var e of Object.keys(this._innerStyles)){var t=this._innerStyles[e],n="$$"===e?this:this.$[e];this._removeStyle(t.style,n)}},_removeStyle:function(e,t){if(e&&t)for(var n of Object.keys(e))this._removeElementStyle(t,n)},_emitComponentLifeCycle:function(e,t){var n,i;null!==(n=this._lifecycle)&&void 0!==n&&null!==(i=n[e])&&void 0!==i&&i.length&&this._doActions(this._lifecycle[e],t)},_emitComponentEvent:function(e,t){var n,i;null!==(n=this._events)&&void 0!==n&&null!==(i=n[e])&&void 0!==i&&i.length&&this._doActions(this._events[e],t)},_emitAdCustomEvent:function(e,t={}){h.Q.trigger(this.getPageId(),"onAdCustomEvent",{adCustomId:this.adBaseCustomId,action:e,value:t})},_addAdCustomListener:function(e){var t=this;this._removeAdCustomListener(),this._adCustomListener=this.onPageEvent("onAdCustomEvent",(function(n){n.adCustomId===t.adBaseCustomId&&(null==e||e(n))}))},_removeAdCustomListener:function(){void 0!==this._adCustomListener&&this.offPageEvent("onAdCustomEvent",this._adCustomListener)},_dispatchRerender:function(e){requestAnimationFrame((function(){document.dispatchEvent(new CustomEvent("pageReRender",{detail:{reason:e||"CAUSED_BY_AD_CUSTOM"}}))}))},_doAnimation:function(){var e=s()((function*({id:e,animation:t,_animationObj:n=null,_cb:i=null,emitEvent:r=!0}){var a,o,s=this;if(o=e?"$$"===e?this.asElement():this.$[e]:this.parentNode){var l=(null===(a=this._animations)||void 0===a?void 0:a[t])||n;if(l){var{keys:u,duration:c,easing:d,transformOrigin:p}=l;if(!(((null==u?void 0:u.length)||0)<2)){var h=["opacity","left","top","rotate","scaleX","scaleY","width","height","translateX","translateY"],f={};for(var _ of h)f[_]=(0,Yo.c1)(null);var v={linear:Yo.oY.linear,"ease-in":Yo.oY.in(Yo.oY.quad),"ease-out":Yo.oY.out(Yo.oY.quad),"ease-in-ease-out":Yo.oY.inOut(Yo.oY.quad)}[d||"ease-in"];this.animateStyleMapperIds.push(this._applyAnimatedStyle(function(){var e=function(){return Ko({opacity:f.opacity.value,left:f.left.value,top:f.top.value,width:f.width.value,height:f.height.value,transformOrigin:p,transform:[f.translateX.value&&`translateX(${f.translateX.value}px)`,f.translateY.value&&`translateY(${f.translateY.value}px)`,f.rotate.value&&`rotate(${f.rotate.value}deg)`,f.scaleX.value&&`scaleX(${f.scaleX.value})`,f.scaleY.value&&`scaleY(${f.scaleY.value})`].filter(Boolean).join(" ")||null})};return e._closure={omitNullable:Ko,sharedValues:{opacity:f.opacity,left:f.left,top:f.top,width:f.width,height:f.height,translateX:f.translateX,translateY:f.translateY,rotate:f.rotate,scaleX:f.scaleX,scaleY:f.scaleY},transformOrigin:p},e.asString='function _f(){const{omitNullable,sharedValues,transformOrigin}=jsThis._closure;{return omitNullable({opacity:sharedValues.opacity.value,left:sharedValues.left.value,top:sharedValues.top.value,width:sharedValues.width.value,height:sharedValues.height.value,transformOrigin:transformOrigin,transform:[sharedValues.translateX.value&&"translateX("+sharedValues.translateX.value+"px)",sharedValues.translateY.value&&"translateY("+sharedValues.translateY.value+"px)",sharedValues.rotate.value&&"rotate("+sharedValues.rotate.value+"deg)",sharedValues.scaleX.value&&"scaleX("+sharedValues.scaleX.value+")",sharedValues.scaleY.value&&"scaleY("+sharedValues.scaleY.value+")"].filter(Boolean).join(\' \')||null});}}',e.__workletHash=3713791707249,e.__location="src/components/wx-ad/wx-ad-custom/behavior/ad-custom-base.ts (797:12)",e.__worklet=!0,e}(),{immediate:!1,flush:"async"},o));var g=function*(t){var n=s._getDataValue("offset",t),i=c*n,r=h.reduce((function(e,n){return e[n]=s._getDataValue(n,t),e}),{});if(i<=0)for(var a of(s._setStyle({id:e,style:r}),h))void 0!==r[a]&&(f[a].value=r[a]);else for(var o of h)void 0!==r[o]&&(f[o].value=(0,Yo.LY)(r[o],{duration:i,easing:v}))};for(var m of u)yield*g(m);i?i():t&&r&&this._emitComponentEvent(xr.ANIMATIONEND,{animation:t})}}}}));return function(t){return e.apply(this,arguments)}}(),_run:function(e="",t={}){return Po(e,Object.assign({},t,this._getScope(),this._getInnerFunction()),this._getInnerFunction())}}}).registerBehavior(),Qo=(0,_.Ou)("ad-custom-base-component").behavior(Jo).definition({properties:{tpl:{type:i.Z.glassEasel.NormalizedPropertyType.Object,public:!0,value:null},adCustomId:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:""}},attached:function(){this._init()},detached:function(){this._emitComponentLifeCycle("beforeDestroy"),this._destroy()}}).init((function({implement:e}){var t=this;e(qo,{getAdCustomId:function(){return t.data.adCustomId},getTpl:function(){return t.properties.tpl}})})).registerBehavior(),es=g("ad-custom-for").behavior(v.ZP).behavior(Jo).behavior(Qo).definition({using:{div:"view","ad-custom-item":"ad-custom-item","ad-custom-item-virtual":"ad-custom-item-virtual"},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m;var r=e.r,a=!0===i;return{C:function(e,t,o,s){var l=n._useThis?0:1;s(l,(function(e,t,o,s,u){1===l&&u(n._forArr,"_adCustomForKey",i?i._forArr:void 0,["_forArr"],(function(e,t,o,s,l,u,c,d,p,h){h(de(n.tpl).children||[],null,i?(he(i.tpl,"children"),!0):void 0,null,(function(e,u,c,d,p,h,f,_,v){var g=n.flattenLayer?1:0;v(g,(function(e,c,p){p(1===g?"ad-custom-item-virtual":"ad-custom-item",{},(function(e,c){(c||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(c||a||i.idPrefix||he(i.tpl,"id")||l)&&r(e,"id-prefix",n.idPrefix+(de(n.tpl).id||"")+o),(c||a||he(s,"_adCustomForKey"))&&r(e,"for-key",de(t)._adCustomForKey),(c||a||i._forType)&&r(e,"for-type",n._forType),(c||a||l)&&r(e,"for-index",o),(c||a||s)&&r(e,"for-item",t),(c||a||i._forArr)&&r(e,"for-arr",n._forArr),(c||a||d)&&r(e,"tpl",u)}),(function(e){}))}))}))}))}));var u=n._useThis?1:0;s(u,(function(e,t,o,s,l){1===u&&l(n._forArr,"_value",i?i._forArr:void 0,["_forArr"],(function(e,t,o,s,l,u,c,d,p,h){h(de(n.tpl).children||[],null,i?(he(i.tpl,"children"),!0):void 0,null,(function(e,u,c,d,p,h,f,_,v){var g=n.flattenLayer?1:0;v(g,(function(e,c,p){p(1===g?"ad-custom-item-virtual":"ad-custom-item",{},(function(e,c){(c||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(c||a||i.idPrefix||he(i.tpl,"id")||l)&&r(e,"id-prefix",n.idPrefix+(de(n.tpl).id||"")+o),(c||a||he(s,"_value"))&&r(e,"for-key",de(t)._value),(c||a||i._forType)&&r(e,"for-type",n._forType),(c||a||l)&&r(e,"for-index",o),(c||a||he(s,"_value"))&&r(e,"for-item",de(t)._value),(c||a||i._forArr)&&r(e,"for-arr",n._forArr),(c||a||d)&&r(e,"tpl",u)}),(function(e){}))}))}))}))}))},B:{}}},function(t){return e[t]}}()},properties:{_forArr:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:[]},_forType:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0},_useThis:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1}},attached:function(){this.init(),this._emitComponentLifeCycle("onInit")},detached:function(){this.inited=!1,this._removeAdCustomListener(),this._emitComponentLifeCycle("onDestroy")},methods:{init:function(){var e=this;this.inited||(this.inited=!0,this.setData({_forType:this._options.baseType||Ar.COMMON}),this.processForArr(),(this.data._forType===Ar.ADS||this._getDataValue("useAds",!1))&&this._addAdCustomListener((function(t){e.onAdCustomEvent(t)})))},onAdCustomEvent:function(e){e.action===Or.ADDATASCHANGE&&this.processForArr()},doAction:function(e){(e.payload||{}).action===Nr.PROCESSFORARR&&this.processForArr()},processForArr:function(){var e=this.data._forType===Ar.COMMON?this._getDataValueWithDefault("forArr",[]):this.data._forType===Ar.ADS?this._getCustomAdDatas():[],t=this._getDataValue("key");if("*this"!==t){if(t){var n=t.split(".");for(var i of e)"object"==typeof i&&(i._adCustomForKey=oo(i,n))}this.setData({_useThis:!1,_forArr:e})}else this.setData({_useThis:!0,_forArr:e.map((function(e){return{_value:e}}))})}}}).registerComponent();var ts=n(4987);const ns=g("ad-custom-layout").behavior(v.ZP).behavior(Jo).behavior(Qo).definition({using:{div:"view","ad-custom-item":"ad-custom-item","ad-custom-item-virtual":"ad-custom-item-virtual","ad-custom-for":"ad-custom-for"},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o=!0===i;return{C:function(t,s,l,u){var c=n._if?1:0;u(c,(function(t,s,l){1===c&&l("div",{},(function(t,a){a&&e.i(t,"container"),(a||o||i.c||(i._classRow,i._classColumn,i._classProportion,i._classHideScroll,1))&&r(t,fe(n.c)("ad-custom-layout",{adCustomLayoutRow:n._classRow,adCustomLayoutColumn:n._classColumn,adCustomLayoutProportion:n._classProportion,adCustomLayoutHideScroll:n._classHideScroll}))}),(function(e,t,r,s,l){l(de(n.tpl).children||[],null,i?(he(i.tpl,"children"),!0):void 0,null,(function(e,t,r,s,l,u,c,d,p){var h="for"===de(t).type?1:n.flattenLayer?2:0;p(h,(function(e,r,l){l(1===h?"ad-custom-for":2===h?"ad-custom-item-virtual":"ad-custom-item",{},(function(e,r){(r||o||i.flattenLayer)&&a(e,"flatten-layer",n.flattenLayer),(r||o||i.idPrefix)&&a(e,"id-prefix",n.idPrefix),(r||o||i.forType)&&a(e,"for-type",n.forType),(r||o||i.forIndex)&&a(e,"for-index",n.forIndex),(r||o||i.forItem)&&a(e,"for-item",n.forItem),(r||o||i.forArr)&&a(e,"for-arr",n.forArr),(r||o||s)&&a(e,"tpl",t),(r||o||i.adCustomId)&&a(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}))}))}))}))},B:{}}},function(t){return e[t]}}()},data:{_classRow:!1,_classColumn:!1,_classProportion:!1,_classHideScroll:!1,_children:[],_if:!0},attached:function(){this.setData({_if:this._getDataValueWithDefault("ifState",!0)}),this.init(),this.data._if&&this._updateInnerStyle(),this._emitComponentLifeCycle("onInit")},detached:function(){this.inited=!1,this.destroy(),this._emitComponentLifeCycle("onDestroy")},methods:{init:function(){if(!this.inited){this.inited=!0;var e=this._options.baseType||fr.COMMON;e===fr.COMMON||(e===fr.ROW?this.setData({_classRow:!0}):e===fr.COLUMN?this.setData({_classColumn:!0}):e===fr.PROPORTION&&(this.setData({_classProportion:!0}),this.initProportionComponent())),this._getDataValue("hideScroll")&&this.setData({_classHideScroll:!0}),this.addIntersectionObserver(),this.addTouchEvent()}},destroy:function(){this.removeIntersectionObserver(),this.removeTouchEvent()},initProportionComponent:function(){var e=s()((function*(){var e=this._getDataValue("mProportion");if(e){var t=yield this._getBoundingClientRect(this.$.container);if(t.width/t.height>e){var n=Math.round(t.height*e);this._setElementStyle(this.$.container,"width",n+"px"),this._setElementStyle(this.$.container,"left",(t.width-n)/2+"px"),this._setElementStyle(this.$.container,"top","0px")}else{var i=Math.round(t.width/e);this._setElementStyle(this.$.container,"height",i+"px"),this._setElementStyle(this.$.container,"top",(t.height-i)/2+"px"),this._setElementStyle(this.$.container,"left","0px")}}}));return function(){return e.apply(this,arguments)}}(),addIntersectionObserver:function(){var e=this,t=this._getDataValueWithDefault("observerArea",[]),n=this._getDataValue("observerMargins");n&&["left","right","top","bottom"].forEach((function(t){n[t]=e._getDataValueWithDefault(t,0,n)})),t.length&&(this.lastCustomIntersectionRatio=0,this.observer=new ts.Z((function(t){var[n]=t;if(null!=n&&n.isIntersecting){var i=n.intersectionRatio;e._emitComponentEvent(yr.AREACHANGE,{ratio:i,lastRatio:e.lastCustomIntersectionRatio}),e.lastCustomIntersectionRatio=i}}),{threshold:t,rootMargin:n}),this.observer.observe(this._getBackendElement(this.$.container)))},removeIntersectionObserver:function(){this.observer&&(this.observer.unobserve(this._getBackendElement(this.$.container)),delete this.observer)},addTouchEvent:function(){this._getDataValue("stopTouchmove")&&(this._touchMoveCb=this._addListenerToElement(this.$.container,"touchmove",(function(e){var t,n;e&&(null===(t=e.stopPropagation)||void 0===t||t.call(e),null===(n=e.preventDefault)||void 0===n||n.call(e))})))},removeTouchEvent:function(){void 0!==this._touchMoveCb&&this.$.container&&this._removeListenerFromElement(this.$.container,"touchmove",this._touchMoveCb)},doAction:function(e){var t=e.payload||{},n=t.action,i=t.value;n===Nr.CHANGEIFSTATE&&(this.setData({_if:this._getDataValue("ifState",i)}),this.data._if&&this._updateInnerStyle())}}}).registerComponent(),is=g("ad-custom-image").behavior(v.ZP).behavior(Jo).behavior(Qo).definition({using:{div:"view",img:"image"},options:{virtualHost:!0},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o=!0===i;return{C:function(t,s,l){l("div",{},(function(t,n){n&&e.i(t,"container"),n&&r(t,"ad-custom-image")}),(function(t,s,l,u){var c=n._useBgMode?0:1;u(c,(function(t,s,l){1===c&&l("img",{},(function(t,s){s&&e.i(t,"img"),(s||o||i.c||(i._classAppIcon,i._classIcon,1))&&r(t,fe(n.c)("ad-custom-image-img",{adCustomImageImgAppicon:n._classAppIcon,adCustomImageImgIcon:n._classIcon})),(s||o||i._hideInnerRequest||i._imgUrl)&&a(t,"src",fe(n._hideInnerRequest)(n._imgUrl))}),(function(e){}))}));var d=n._useBgMode?1:0;u(d,(function(t,a,s){1===d&&s("div",{},(function(t,a){a&&e.i(t,"img"),(a||o||i.c||(i._classAppIcon,i._classIcon,1))&&r(t,fe(n.c)("ad-custom-image-img-bg",{adCustomImageImgAppicon:n._classAppIcon,adCustomImageImgIcon:n._classIcon}))}),(function(e){}))}))}))},B:{}}},function(t){return e[t]}}()},data:{_imgUrl:"",_classAppIcon:!1,_classIcon:!1,_useBgMode:!1},attached:function(){this.init(),this._updateInnerStyle(),this._emitComponentLifeCycle("onInit")},detached:function(){this.inited=!1,this._emitComponentLifeCycle("onDestroy")},methods:{init:function(){if(!this.inited){this.inited=!0,this.setData({_useBgMode:this._getDataValueWithDefault("useBgMode",!1)});var e=this._options.baseType||_r.ICON;e===_r.COMMON?this.initCommonComponent():e===_r.ICON?this.initIconComponent():e===_r.AD&&this.initADComponent(),this.data._useBgMode&&this.$.img&&this._setElementStyle(this.$.img,"backgroundImage",`url('${this.data._imgUrl}')`),this.orginImgUrl=this.data._imgUrl,this.detectImage(this.data._imgUrl)}},initCommonComponent:function(){this.setData({_imgUrl:this._getDataValue("imgUrl")})},initIconComponent:function(){var e,t=this._getCustomAdData();if(null!==(e=t.extBackComm)&&void 0!==e&&e.head_img)this.setData({_imgUrl:t.extBackComm.head_img}),[ji.APPLE_APP_STORE,ji.OPEN_PLATFORM_APP_MOB].indexOf(t.product_type)>-1?this.setData({_classAppIcon:!0}):this.setData({_classIcon:!0});else{if([ji.APPLE_APP_STORE,ji.OPEN_PLATFORM_APP_MOB].indexOf(t.product_type)>-1?this.setData({_imgUrl:t.app_info.icon_url,_classAppIcon:!0}):[ji.MINI_GAME].indexOf(t.product_type)>-1&&t.game_info?this.setData({_imgUrl:t.game_info.head_img,_classAppIcon:!0}):this.setData({_imgUrl:t.biz_info.head_img,_classIcon:!0}),-1!==[Hi.REWARD_VIDEO916,Hi.REWARD_VIDEO169].indexOf(t.crt_size)&&t.crtInfo&&t.crtInfo[0]&&t.crtInfo[0].wxgame_video_card){var n=t.crtInfo[0].wxgame_video_card||{};this.setData({_imgUrl:n.thumb})}if(t.crt_size===Hi.GRID){var i,r=null===(i=t.weapp_info)||void 0===i?void 0:i.head_img;r&&this.setData({_imgUrl:r})}if(!this.data._imgUrl){var a,o,s=null===(a=t.crtInfo)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.card_info;null!=s&&s.thumb?this.setData({_imgUrl:s.thumb}):-1!==[ji.WE_CHAT_ARTICLE,ji.GDT_WE_CHAT_ARTICLE].indexOf(t.product_type)?this.setData({_imgUrl:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}):-1!==[ji.WE_CHAT_SHOP,ji.JD_URL].indexOf(t.product_type)?this.setData({_imgUrl:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png"}):this.setData({_imgUrl:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"})}}},initADComponent:function(){var e=this._getCustomAdData(),t=e.image_url;if(!/^http/.test(t))try{t=e.crtInfo[0].image_url||t}catch{}this.setData({_imgUrl:this._getDataValue("imgUrl")||t})},doAction:function(e){var t=e.payload||{},n=t.action,i=t.value;n===Nr.IMAGESETSRC&&this.setData({_imgUrl:this._getDataValue("imgUrl",i)})},detectImage:function(e="",t=0){var n=this;setTimeout((function(){try{var i=n._getCustomAdData();if(t>=2||-1===e.indexOf("wxsnsdythumb.wxs.qq.com"))return;var r=new Image;r.onerror=function(){n._emitAdCustomEvent(Or.REPORTADMONITORDATA,{key:"IMG_LOAD_ERROR",data:{src:e,baseType:n._options.baseType||_r.ICON,retry:t}});var r=t+1,a=mo(n.orginImgUrl,{taskid:i.traceid,retry:r});n.setData({_imgUrl:a}),n.data._useBgMode&&n.$.img&&n._setElementStyle(n.$.img,"backgroundImage",`url('${n.data._imgUrl}'`),n.detectImage(n.data._imgUrl,r)},r.src=e}catch(e){n._emitAdCustomEvent(Or.REPORTADMONITORDATA,{key:"IMG_RETRYCODE_ERROR",data:{e:null==e?void 0:e.stack}})}}),250)}}}).registerComponent();var rs=[{img:"smiley_0",text:"[微笑]"},{img:"smiley_1",text:"[撇嘴]"},{img:"smiley_2",text:"[色]"},{img:"smiley_3",text:"[发呆]"},{img:"smiley_5",text:"[流泪]"},{img:"smiley_6",text:"[害羞]"},{img:"smiley_8",text:"[睡]"},{img:"smiley_9",text:"[大哭]"},{img:"smiley_10",text:"[尴尬]"},{img:"smiley_11",text:"[发怒]"},{img:"smiley_12",text:"[调皮]"},{img:"smiley_13",text:"[呲牙]"},{img:"smiley_14",text:"[惊讶]"},{img:"smiley_15",text:"[难过]"},{img:"smiley_17",text:"[冷汗]"},{img:"smiley_18",text:"[抓狂]"},{img:"smiley_20",text:"[偷笑]"},{img:"smiley_21",text:"[愉快]"},{img:"smiley_22",text:"[白眼]"},{img:"smiley_23",text:"[傲慢]"},{img:"smiley_26",text:"[惊恐]"},{img:"smiley_27",text:"[流汗]"},{img:"smiley_28",text:"[憨笑]"},{img:"smiley_30",text:"[奋斗]"},{img:"smiley_32",text:"[疑问]"},{img:"smiley_34",text:"[晕]"},{img:"smiley_36",text:"[衰]"},{img:"smiley_38",text:"[敲打]"},{img:"smiley_39",text:"[再见]"},{img:"smiley_40",text:"[擦汗]"},{img:"smiley_42",text:"[鼓掌]"},{img:"smiley_44",text:"[坏笑]"},{img:"smiley_45",text:"[左哼哼]"},{img:"smiley_46",text:"[右哼哼]"},{img:"smiley_47",text:"[哈欠]"},{img:"smiley_49",text:"[委屈]"},{img:"smiley_50",text:"[快哭了]"},{img:"smiley_51",text:"[阴险]"},{img:"smiley_52",text:"[亲亲]"},{img:"smiley_54",text:"[可怜]"},{img:"smiley_56",text:"[西瓜]"},{img:"smiley_60",text:"[咖啡]"},{img:"smiley_62",text:"[猪头]"},{img:"smiley_63",text:"[玫瑰]"},{img:"smiley_65",text:"[嘴唇]"},{img:"smiley_66",text:"[爱心]"},{img:"smiley_68",text:"[蛋糕]"},{img:"smiley_75",text:"[月亮]"},{img:"smiley_76",text:"[太阳]"},{img:"smiley_78",text:"[拥抱]"},{img:"smiley_79",text:"[强]"},{img:"smiley_81",text:"[握手]"},{img:"smiley_82",text:"[胜利]"},{img:"smiley_83",text:"[抱拳]"},{img:"smiley_84",text:"[勾引]"},{img:"smiley_85",text:"[拳头]"},{img:"smiley_89",text:"[OK]"},{img:"smiley_92",text:"[跳跳]"},{img:"smiley_93",text:"[发抖]"},{img:"smiley_94",text:"[怄火]"},{img:"smiley_95",text:"[转圈]"},{img:"2_04",text:"[嘿哈]"},{img:"2_05",text:"[捂脸]"},{img:"2_02",text:"[奸笑]"},{img:"2_06",text:"[机智]"},{img:"2_12",text:"[皱眉]"},{img:"2_11",text:"[耶]"},{img:"2_20",text:"[加油]"},{img:"2_21",text:"[汗]"},{img:"2_22",text:"[天啊]"},{img:"2_23",text:"[社会社会]"},{img:"2_24",text:"[旺柴]"},{img:"2_25",text:"[好的]"},{img:"2_26",text:"[加油加油]"},{img:"2_27",text:"[哇]"},{img:"2_09",text:"[红包]"},{img:"2_16",text:"[發]"},{img:"2_15",text:"[福]"}],as=function(e){for(var t,n,i=(t=[],n=[],rs.forEach((function(e){t.push(e.img),n.push(e.text)})),{nameList:n,imgList:t}),r=/\[.*?\]/g,a=r.exec(e),o=0,s=[];a;){var l=a[0],u=a.index,c=i.nameList.indexOf(l);if(u>o)e.substr(o,u-o).split("").forEach((function(e){s.push({type:"span",children:e})}));if(c>-1&&i.imgList[c])s.push({type:"img",props:{src:`https://wxa.wxs.qq.com/wxad-design/emojis/${i.imgList[c]}.png`}});else l.split("").forEach((function(e){s.push({type:"span",children:e})}));o=u+l.length,a=r.exec(e)}return function(e){return 0===(e=e||"").length?"":e}(e.substr(o)).split("").forEach((function(e){s.push({type:"span",children:e})})),s},os=Object.create,ss=Object.defineProperty,ls=Object.defineProperties,us=Object.getOwnPropertyDescriptor,cs=Object.getOwnPropertyDescriptors,ds=Object.getOwnPropertyNames,ps=Object.getOwnPropertySymbols,hs=Object.getPrototypeOf,fs=Object.prototype.hasOwnProperty,_s=Object.prototype.propertyIsEnumerable,vs=function(e,t,n){return t in e?ss(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},gs=function(e,t){for(var n in t||(t={}))fs.call(t,n)&&vs(e,n,t[n]);if(ps)for(var n of ps(t))_s.call(t,n)&&vs(e,n,t[n]);return e},ms=function(e,t){return ls(e,cs(t))},Es=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},ys=function(e,t,n){return n=null!=e?os(hs(e)):{},function(e,t,n,i){if(t&&"object"==typeof t||"function"==typeof t){var r=function(r){!fs.call(e,r)&&r!==n&&ss(e,r,{get:function(){return t[r]},enumerable:!(i=us(t,r))||i.enumerable})};for(var a of ds(t))r(a)}return e}(!t&&e&&e.__esModule?n:ss(n,"default",{value:e,enumerable:!0}),e)},Ts=function(e,t,n,i){for(var r,a=i>1?void 0:i?us(t,n):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i?r(t,n,a):r(a))||a);return i&&a&&ss(t,n,a),a},bs=function(e,t,n){return new Promise((function(i,r){var a=function(e){try{s(n.next(e))}catch(e){r(e)}},o=function(e){try{s(n.throw(e))}catch(e){r(e)}},s=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},Cs=Es((function(e,t){var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==i.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var a,o,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in a=Object(arguments[l]))i.call(a,u)&&(s[u]=a[u]);if(n){o=n(a);for(var c=0;c<o.length;c++)r.call(a,o[c])&&(s[o[c]]=a[o[c]])}}return s}})),Ss=Es((function(e){var t=Cs(),n=60103,i=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var r=60109,a=60110,o=60112;e.Suspense=60113;var s=60115,l=60116;"function"==typeof Symbol&&Symbol.for&&(u=Symbol.for,n=u("react.element"),i=u("react.portal"),e.Fragment=u("react.fragment"),e.StrictMode=u("react.strict_mode"),e.Profiler=u("react.profiler"),r=u("react.provider"),a=u("react.context"),o=u("react.forward_ref"),e.Suspense=u("react.suspense"),s=u("react.memo"),l=u("react.lazy"));var u,c="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function f(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}function _(){}function v(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=f.prototype;var g=v.prototype=new _;g.constructor=v,t(g,f.prototype),g.isPureReactComponent=!0;var m={current:null},E=Object.prototype.hasOwnProperty,y={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,i){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!y.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:m.current}}function b(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,r,a,o){var s=typeof e;("undefined"===s||"boolean"===s)&&(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return o=o(l=e),e=""===a?"."+S(l,0):a,Array.isArray(o)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),A(o,t,r,"",(function(e){return e}))):null!=o&&(b(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",Array.isArray(e))for(var u=0;u<e.length;u++){var p=a+S(s=e[u],u);l+=A(s,t,r,p,o)}else if(p=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=c&&e[c]||e["@@iterator"])?e:null}(e),"function"==typeof p)for(e=p.call(e),u=0;!(s=e.next()).done;)l+=A(s=s.value,t,r,p=a+S(s,u++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function I(e,t,n){if(null==e)return e;var i=[],r=0;return A(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var w={current:null};function R(){var e=w.current;if(null===e)throw Error(d(321));return e}var x={ReactCurrentDispatcher:w,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:m,IsSomeRendererActing:{current:!1},assign:t};e.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!b(e))throw Error(d(143));return e}},e.Component=f,e.PureComponent=v,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x,e.cloneElement=function(e,i,r){if(null==e)throw Error(d(267,e));var a=t({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=i){if(void 0!==i.ref&&(s=i.ref,l=m.current),void 0!==i.key&&(o=""+i.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in i)E.call(i,c)&&!y.hasOwnProperty(c)&&(a[c]=void 0===i[c]&&void 0!==u?u[c]:i[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){u=Array(c);for(var p=0;p<c;p++)u[p]=arguments[p+2];a.children=u}return{$$typeof:n,type:e.type,key:o,ref:s,props:a,_owner:l}},e.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:r,_context:e},e.Consumer=e},e.createElement=T,e.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:o,render:e}},e.isValidElement=b,e.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:P}},e.memo=function(e,t){return{$$typeof:s,type:e,compare:void 0===t?null:t}},e.useCallback=function(e,t){return R().useCallback(e,t)},e.useContext=function(e,t){return R().useContext(e,t)},e.useDebugValue=function(){},e.useEffect=function(e,t){return R().useEffect(e,t)},e.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},e.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},e.useMemo=function(e,t){return R().useMemo(e,t)},e.useReducer=function(e,t,n){return R().useReducer(e,t,n)},e.useRef=function(e){return R().useRef(e)},e.useState=function(e){return R().useState(e)},e.version="17.0.2"})),As=Es((function(e,t){t.exports=Ss()})),Is=Es((function(e){var t,n,i,r,a,o,s,l,u,c,d,p,h,f,_,v,g,m,E,y;function T(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<S(r,t)))break e;e[i]=t,e[n]=r,n=i}}function b(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var a=2*(i+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>S(o,n))void 0!==l&&0>S(l,o)?(e[i]=l,e[s]=n,i=s):(e[i]=o,e[a]=n,i=a);else{if(!(void 0!==l&&0>S(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(a=performance,e.unstable_now=function(){return a.now()}):(o=Date,s=o.now(),e.unstable_now=function(){return o.now()-s}),void 0===window||"function"!=typeof MessageChannel?(l=null,u=null,c=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(e){throw setTimeout(c,0),e}},t=function(e){null!==l?setTimeout(t,0,e):(l=e,setTimeout(c,0))},n=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},e.unstable_shouldYield=function(){return!1},r=e.unstable_forceFrameRate=function(){}):(d=window.setTimeout,p=window.clearTimeout,"undefined"!=typeof console&&(h=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),f=!1,_=null,v=-1,g=5,m=0,e.unstable_shouldYield=function(){return e.unstable_now()>=m},r=function(){},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5},E=new MessageChannel,y=E.port2,E.port1.onmessage=function(){if(null!==_){var t=e.unstable_now();m=t+g;try{_(!0,t)?y.postMessage(null):(f=!1,_=null)}catch(e){throw y.postMessage(null),e}}else f=!1},t=function(e){_=e,f||(f=!0,y.postMessage(null))},n=function(t,n){v=d((function(){t(e.unstable_now())}),n)},i=function(){p(v),v=-1});var A=[],I=[],P=1,w=null,R=3,x=!1,O=!1,N=!1;function D(e){for(var t=b(I);null!==t;){if(null===t.callback)C(I);else{if(!(t.startTime<=e))break;C(I),t.sortIndex=t.expirationTime,T(A,t)}t=b(I)}}function k(e){if(N=!1,D(e),!O)if(null!==b(A))O=!0,t(L);else{var i=b(I);null!==i&&n(k,i.startTime-e)}}function L(t,r){O=!1,N&&(N=!1,i()),x=!0;var a=R;try{for(D(r),w=b(A);null!==w&&(!(w.expirationTime>r)||t&&!e.unstable_shouldYield());){var o=w.callback;if("function"==typeof o){w.callback=null,R=w.priorityLevel;var s=o(w.expirationTime<=r);r=e.unstable_now(),"function"==typeof s?w.callback=s:w===b(A)&&C(A),D(r)}else C(A);w=b(A)}if(null!==w)var l=!0;else{var u=b(I);null!==u&&n(k,u.startTime-r),l=!1}return l}finally{w=null,R=a,x=!1}}var M=r;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){O||x||(O=!0,t(L))},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return b(A)},e.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=M,e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},e.unstable_scheduleCallback=function(r,a,o){var s=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?s+o:s:o=s,r){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return r={id:P++,callback:a,priorityLevel:r,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>s?(r.sortIndex=o,T(I,r),null===b(A)&&r===b(I)&&(N?i():N=!0,n(k,o-s))):(r.sortIndex=l,T(A,r),O||x||(O=!0,t(L))),r},e.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}})),Ps=Es((function(e,t){t.exports=Is()})),ws=Es((function(e,t){t.exports=function(e){var n={},i=Cs(),r=As(),a=Ps();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=60103,u=60106,c=60107,d=60108,p=60114,h=60109,f=60110,_=60112,v=60113,g=60120,m=60115,E=60116,y=60121,T=60129,b=60130,C=60131;if("function"==typeof Symbol&&Symbol.for){var S=Symbol.for;l=S("react.element"),u=S("react.portal"),c=S("react.fragment"),d=S("react.strict_mode"),p=S("react.profiler"),h=S("react.provider"),f=S("react.context"),_=S("react.forward_ref"),v=S("react.suspense"),g=S("react.suspense_list"),m=S("react.memo"),E=S("react.lazy"),y=S("react.block"),S("react.scope"),T=S("react.debug_trace_mode"),b=S("react.offscreen"),C=S("react.legacy_hidden")}var A="function"==typeof Symbol&&Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}function P(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case f:return(e.displayName||"Context")+".Consumer";case h:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case m:return P(e.type);case y:return P(e._render);case E:t=e._payload,e=e._init;try{return P(e(t))}catch(e){}}return null}function w(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function R(e){if(w(e)!==e)throw Error(o(188))}function x(e){var t=e.alternate;if(!t){if(null===(t=w(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return R(r),e;if(a===i)return R(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function O(e){if(!(e=x(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function N(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var D,k=e.getPublicInstance,L=e.getRootHostContext,M=e.getChildHostContext,B=e.prepareForCommit,F=e.resetAfterCommit,V=e.createInstance,W=e.appendInitialChild,U=e.finalizeInitialChildren,$=e.prepareUpdate,G=e.shouldSetTextContent,Z=e.createTextInstance,H=e.scheduleTimeout,z=e.cancelTimeout,j=e.noTimeout,Y=e.isPrimaryRenderer,K=e.supportsMutation,X=e.supportsPersistence,q=e.supportsHydration,J=e.getInstanceFromNode,Q=e.makeOpaqueHydratingObject,ee=e.makeClientId,te=e.beforeActiveInstanceBlur,ne=e.afterActiveInstanceBlur,ie=e.preparePortalMount,re=e.supportsTestSelectors,ae=e.findFiberRoot,oe=e.getBoundingRect,se=e.getTextContent,le=e.isHiddenSubtree,ue=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,de=e.setupIntersectionObserver,pe=e.appendChild,he=e.appendChildToContainer,fe=e.commitTextUpdate,_e=e.commitMount,ve=e.commitUpdate,ge=e.insertBefore,me=e.insertInContainerBefore,Ee=e.removeChild,ye=e.removeChildFromContainer,Te=e.resetTextContent,be=e.hideInstance,Ce=e.hideTextInstance,Se=e.unhideInstance,Ae=e.unhideTextInstance,Ie=e.clearContainer,Pe=e.cloneInstance,we=e.createContainerChildSet,Re=e.appendChildToContainerChildSet,xe=e.finalizeContainerChildren,Oe=e.replaceContainerChildren,Ne=e.cloneHiddenInstance,De=e.cloneHiddenTextInstance,ke=e.canHydrateInstance,Le=e.canHydrateTextInstance,Me=e.isSuspenseInstancePending,Be=e.isSuspenseInstanceFallback,Fe=e.getNextHydratableSibling,Ve=e.getFirstHydratableChild,We=e.hydrateInstance,Ue=e.hydrateTextInstance,$e=e.getNextHydratableInstanceAfterSuspenseInstance,Ge=e.commitHydratedContainer,Ze=e.commitHydratedSuspenseInstance;function He(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var ze=!1;function je(e,t){if(!e||ze)return"";ze=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(e){if(e&&i&&"string"==typeof e.stack){for(var r=e.stack.split("\n"),a=i.stack.split("\n"),o=r.length-1,s=a.length-1;1<=o&&0<=s&&r[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(r[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||r[o]!==a[s])return"\n"+r[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{ze=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?He(e):""}var Ye=[],Ke=-1;function Xe(e){return{current:e}}function qe(e){0>Ke||(e.current=Ye[Ke],Ye[Ke]=null,Ke--)}function Je(e,t){Ke++,Ye[Ke]=e.current,e.current=t}var Qe={},et=Xe(Qe),tt=Xe(!1),nt=Qe;function it(e,t){var n=e.type.contextTypes;if(!n)return Qe;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function rt(e){return null!=(e=e.childContextTypes)}function at(){qe(tt),qe(et)}function ot(e,t,n){if(et.current!==Qe)throw Error(o(168));Je(et,t),Je(tt,n)}function st(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,P(t)||"Unknown",a));return i({},n,r)}function lt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qe,nt=et.current,Je(et,e),Je(tt,tt.current),!0}function ut(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=st(e,t,nt),i.__reactInternalMemoizedMergedChildContext=e,qe(tt),qe(et),Je(et,e)):qe(tt),Je(tt,n)}var ct=null,dt=null;(0,a.unstable_now)();var pt=0,ht=8;function ft(e){if(0!=(1&e))return ht=15,1;if(0!=(2&e))return ht=14,2;if(0!=(4&e))return ht=13,4;var t=24&e;return 0!==t?(ht=12,t):0!=(32&e)?(ht=11,32):0!==(t=192&e)?(ht=10,t):0!=(256&e)?(ht=9,256):0!==(t=3584&e)?(ht=8,t):0!=(4096&e)?(ht=7,4096):0!==(t=4186112&e)?(ht=6,t):0!==(t=62914560&e)?(ht=5,t):67108864&e?(ht=4,67108864):0!=(134217728&e)?(ht=3,134217728):0!==(t=805306368&e)?(ht=2,t):0!=(1073741824&e)?(ht=1,1073741824):(ht=8,e)}function _t(e,t){var n=e.pendingLanes;if(0===n)return ht=0;var i=0,r=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)i=a,r=ht=15;else if(0!==(a=134217727&n)){var l=a&~o;0!==l?(i=ft(l),r=ht):0!==(s&=a)&&(i=ft(s),r=ht)}else 0!==(a=n&~o)?(i=ft(a),r=ht):0!==s&&(i=ft(s),r=ht);if(0===i)return 0;if(i=n&((0>(i=31-Tt(i))?0:1<<i)<<1)-1,0!==t&&t!==i&&0==(t&o)){if(ft(t),r<=ht)return t;ht=r}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-Tt(t)),i|=e[n],t&=~r;return i}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=mt(24&~t))?gt(10,t):e;case 10:return 0===(e=mt(192&~t))?gt(8,t):e;case 8:return 0===(e=mt(3584&~t))&&(0===(e=mt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=mt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function mt(e){return e&-e}function Et(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,(e=e.eventTimes)[t=31-Tt(t)]=n}var Tt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(bt(e)/Ct|0)|0},bt=Math.log,Ct=Math.LN2;var St=a.unstable_runWithPriority,At=a.unstable_scheduleCallback,It=a.unstable_cancelCallback,Pt=a.unstable_shouldYield,wt=a.unstable_requestPaint,Rt=a.unstable_now,xt=a.unstable_getCurrentPriorityLevel,Ot=a.unstable_ImmediatePriority,Nt=a.unstable_UserBlockingPriority,Dt=a.unstable_NormalPriority,kt=a.unstable_LowPriority,Lt=a.unstable_IdlePriority,Mt={},Bt=void 0!==wt?wt:function(){},Ft=null,Vt=null,Wt=!1,Ut=Rt(),$t=1e4>Ut?Rt:function(){return Rt()-Ut};function Gt(){switch(xt()){case Ot:return 99;case Nt:return 98;case Dt:return 97;case kt:return 96;case Lt:return 95;default:throw Error(o(332))}}function Zt(e){switch(e){case 99:return Ot;case 98:return Nt;case 97:return Dt;case 96:return kt;case 95:return Lt;default:throw Error(o(332))}}function Ht(e,t){return e=Zt(e),St(e,t)}function zt(e,t,n){return e=Zt(e),At(e,t,n)}function jt(){if(null!==Vt){var e=Vt;Vt=null,It(e)}Yt()}function Yt(){if(!Wt&&null!==Ft){Wt=!0;var e=0;try{var t=Ft;Ht(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ft=null}catch(t){throw null!==Ft&&(Ft=Ft.slice(e+1)),At(Ot,jt),t}finally{Wt=!1}}}var Kt=s.ReactCurrentBatchConfig;var Xt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},qt=Object.prototype.hasOwnProperty;function Jt(e,t){if(Xt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!qt.call(t,n[i])||!Xt(e[n[i]],t[n[i]]))return!1;return!0}function Qt(e){switch(e.tag){case 5:return He(e.type);case 16:return He("Lazy");case 13:return He("Suspense");case 19:return He("SuspenseList");case 0:case 2:case 15:return e=je(e.type,!1);case 11:return e=je(e.type.render,!1);case 22:return e=je(e.type._render,!1);case 1:return e=je(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=Xe(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function sn(e,t){e=e.type._context,Y?(Je(tn,e._currentValue),e._currentValue=t):(Je(tn,e._currentValue2),e._currentValue2=t)}function ln(e){var t=tn.current;qe(tn),e=e.type._context,Y?e._currentValue=t:e._currentValue2=t}function un(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ui=!0),e.firstContext=null)}function dn(e,t){if(an!==e&&!1!==t&&0!==t)if(("number"!=typeof t||1073741823===t)&&(an=e,t=1073741823),t={context:e,observedBits:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=t,nn.dependencies={lanes:0,firstContext:t,responders:null}}else rn=rn.next=t;return Y?e._currentValue:e._currentValue2}var pn=!1;function hn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function fn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function gn(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function mn(e,t,n,r){var a=e.updateQueue;pn=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==s&&(null===p?d.firstBaseUpdate=c:p.next=c,d.lastBaseUpdate=u)}}if(null!==o){for(p=a.baseState,s=0,d=c=u=null;;){l=o.lane;var h=o.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,_=o;switch(l=t,h=n,_.tag){case 1:if("function"==typeof(f=_.payload)){p=f.call(h,p,l);break e}p=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=_.payload)?f.call(h,p,l):f))break e;p=i({},p,l);break e;case 2:pn=!0}}null!==o.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[o]:l.push(o))}else h={eventTime:h,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,u=p):d=d.next=h,s|=l;if(null===(o=o.next)){if(null===(l=a.shared.pending))break;o=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===d&&(u=p),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,ca|=s,e.lanes=s,e.memoizedState=p}}function En(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!=typeof r)throw Error(o(191,r));r.call(i)}}}var yn=(new r.Component).refs;function Tn(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var bn={isMounted:function(e){return!!(e=e._reactInternals)&&w(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=La(),r=Ma(e),a=_n(i,r);a.payload=t,null!=n&&(a.callback=n),vn(e,a),Ba(e,r,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=La(),r=Ma(e),a=_n(i,r);a.tag=1,a.payload=t,null!=n&&(a.callback=n),vn(e,a),Ba(e,r,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=La(),i=Ma(e),r=_n(n,i);r.tag=2,null!=t&&(r.callback=t),vn(e,r),Ba(e,i,n)}};function Cn(e,t,n,i,r,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jt(n,i)||!Jt(r,a))}function Sn(e,t,n){var i=!1,r=Qe,a=t.contextType;return"object"==typeof a&&null!==a?a=dn(a):(r=rt(t)?nt:et.current,a=(i=null!=(i=t.contextTypes))?it(e,r):Qe),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=bn,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function An(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&bn.enqueueReplaceState(t,t.state,null)}function In(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=yn,hn(e);var a=t.contextType;"object"==typeof a&&null!==a?r.context=dn(a):(a=rt(t)?nt:et.current,r.context=it(e,a)),mn(e,n,r,i),r.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Tn(e,t,a,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&bn.enqueueReplaceState(r,r.state,null),mn(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4)}var Pn=Array.isArray;function wn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=i.refs;t===yn&&(t=i.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Rn(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xn(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Co(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags=2,n):i:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function d(e,t,n,i){return null===t||6!==t.tag?((t=Po(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=wn(e,t,n),i.return=e,i):((i=So(n.type,n.key,n.props,null,e.mode,i)).ref=wn(e,t,n),i.return=e,i)}function h(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=wo(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function f(e,t,n,i,a){return null===t||7!==t.tag?((t=Ao(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function _(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Po(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case l:return(n=So(t.type,t.key,t.props,null,e.mode,n)).ref=wn(e,null,t),n.return=e,n;case u:return(t=wo(t,e.mode,n)).return=e,t}if(Pn(t)||I(t))return(t=Ao(t,e.mode,n,null)).return=e,t;Rn(e,t)}return null}function v(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:d(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===r?n.type===c?f(e,t,n.props.children,i,r):p(e,t,n,i):null;case u:return n.key===r?h(e,t,n,i):null}if(Pn(n)||I(n))return null!==r?null:f(e,t,n,i,null);Rn(e,n)}return null}function g(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return d(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case l:return e=e.get(null===i.key?n:i.key)||null,i.type===c?f(t,e,i.props.children,r,i.key):p(t,e,i,r);case u:return h(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(Pn(i)||I(i))return f(t,e=e.get(n)||null,i,r,null);Rn(t,i)}return null}return function(d,p,h,f){var m="object"==typeof h&&null!==h&&h.type===c&&null===h.key;m&&(h=h.props.children);var E="object"==typeof h&&null!==h;if(E)switch(h.$$typeof){case l:e:{for(E=h.key,m=p;null!==m;){if(m.key===E){if(7===m.tag){if(h.type===c){n(d,m.sibling),(p=r(m,h.props.children)).return=d,d=p;break e}}else if(m.elementType===h.type){n(d,m.sibling),(p=r(m,h.props)).ref=wn(d,m,h),p.return=d,d=p;break e}n(d,m);break}t(d,m),m=m.sibling}h.type===c?((p=Ao(h.props.children,d.mode,f,h.key)).return=d,d=p):((f=So(h.type,h.key,h.props,null,d.mode,f)).ref=wn(d,p,h),f.return=d,d=f)}return s(d);case u:e:{for(m=h.key;null!==p;){if(p.key===m){if(4===p.tag&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(d,p.sibling),(p=r(p,h.children||[])).return=d,d=p;break e}n(d,p);break}t(d,p),p=p.sibling}(p=wo(h,d.mode,f)).return=d,d=p}return s(d)}if("string"==typeof h||"number"==typeof h)return h=""+h,null!==p&&6===p.tag?(n(d,p.sibling),(p=r(p,h)).return=d,d=p):(n(d,p),(p=Po(h,d.mode,f)).return=d,d=p),s(d);if(Pn(h))return function(r,o,s,l){for(var u=null,c=null,d=o,p=o=0,h=null;null!==d&&p<s.length;p++){d.index>p?(h=d,d=null):h=d.sibling;var f=v(r,d,s[p],l);if(null===f){null===d&&(d=h);break}e&&d&&null===f.alternate&&t(r,d),o=a(f,o,p),null===c?u=f:c.sibling=f,c=f,d=h}if(p===s.length)return n(r,d),u;if(null===d){for(;p<s.length;p++)null!==(d=_(r,s[p],l))&&(o=a(d,o,p),null===c?u=d:c.sibling=d,c=d);return u}for(d=i(r,d);p<s.length;p++)null!==(h=g(d,r,p,s[p],l))&&(e&&null!==h.alternate&&d.delete(null===h.key?p:h.key),o=a(h,o,p),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach((function(e){return t(r,e)})),u}(d,p,h,f);if(I(h))return function(r,s,l,u){var c=I(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,p=s,h=s=0,f=null,m=l.next();null!==p&&!m.done;h++,m=l.next()){p.index>h?(f=p,p=null):f=p.sibling;var E=v(r,p,m.value,u);if(null===E){null===p&&(p=f);break}e&&p&&null===E.alternate&&t(r,p),s=a(E,s,h),null===d?c=E:d.sibling=E,d=E,p=f}if(m.done)return n(r,p),c;if(null===p){for(;!m.done;h++,m=l.next())null!==(m=_(r,m.value,u))&&(s=a(m,s,h),null===d?c=m:d.sibling=m,d=m);return c}for(p=i(r,p);!m.done;h++,m=l.next())null!==(m=g(p,r,h,m.value,u))&&(e&&null!==m.alternate&&p.delete(null===m.key?h:m.key),s=a(m,s,h),null===d?c=m:d.sibling=m,d=m);return e&&p.forEach((function(e){return t(r,e)})),c}(d,p,h,f);if(E&&Rn(d,h),void 0===h&&!m)switch(d.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,P(d.type)||"Component"))}return n(d,p)}}var On=xn(!0),Nn=xn(!1),Dn={},kn=Xe(Dn),Ln=Xe(Dn),Mn=Xe(Dn);function Bn(e){if(e===Dn)throw Error(o(174));return e}function Fn(e,t){Je(Mn,t),Je(Ln,e),Je(kn,Dn),e=L(t),qe(kn),Je(kn,e)}function Vn(){qe(kn),qe(Ln),qe(Mn)}function Wn(e){var t=Bn(Mn.current),n=Bn(kn.current);n!==(t=M(n,e.type,t))&&(Je(Ln,e),Je(kn,t))}function Un(e){Ln.current===e&&(qe(kn),qe(Ln))}var $n=Xe(0);function Gn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Me(n)||Be(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zn=null,Hn=null,zn=!1;function jn(e,t){var n=To(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Yn(e,t){switch(e.tag){case 5:return null!==(t=ke(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Le(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function Kn(e){if(zn){var t=Hn;if(t){var n=t;if(!Yn(e,t)){if(!(t=Fe(n))||!Yn(e,t))return e.flags=-1025&e.flags|2,zn=!1,void(Zn=e);jn(Zn,n)}Zn=e,Hn=Ve(t)}else e.flags=-1025&e.flags|2,zn=!1,Zn=e}}function Xn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Zn=e}function qn(e){if(!q||e!==Zn)return!1;if(!zn)return Xn(e),zn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!G(t,e.memoizedProps))for(t=Hn;t;)jn(e,t),t=Fe(t);if(Xn(e),13===e.tag){if(!q)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Hn=$e(e)}else Hn=Zn?Fe(e.stateNode):null;return!0}function Jn(){q&&(Hn=Zn=null,zn=!1)}var Qn=[];function ei(){for(var e=0;e<Qn.length;e++){var t=Qn[e];Y?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}Qn.length=0}var ti=s.ReactCurrentDispatcher,ni=s.ReactCurrentBatchConfig,ii=0,ri=null,ai=null,oi=null,si=!1,li=!1;function ui(){throw Error(o(321))}function ci(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xt(e[n],t[n]))return!1;return!0}function di(e,t,n,i,r,a){if(ii=a,ri=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=null===e||null===e.memoizedState?Bi:Fi,e=n(i,r),li){a=0;do{if(li=!1,!(25>a))throw Error(o(301));a+=1,oi=ai=null,t.updateQueue=null,ti.current=Vi,e=n(i,r)}while(li)}if(ti.current=Mi,t=null!==ai&&null!==ai.next,ii=0,oi=ai=ri=null,si=!1,t)throw Error(o(300));return e}function pi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ri.memoizedState=oi=e:oi=oi.next=e,oi}function hi(){if(null===ai){var e=ri.alternate;e=null!==e?e.memoizedState:null}else e=ai.next;var t=null===oi?ri.memoizedState:oi.next;if(null!==t)oi=t,ai=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ai=e).memoizedState,baseState:ai.baseState,baseQueue:ai.baseQueue,queue:ai.queue,next:null},null===oi?ri.memoizedState=oi=e:oi=oi.next=e}return oi}function fi(e,t){return"function"==typeof t?t(e):t}function _i(e){var t=hi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=ai,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=s=a=null,u=r;do{var c=u.lane;if((ii&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),i=u.eagerReducer===e?u.eagerState:e(i,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,a=i):l=l.next=d,ri.lanes|=c,ca|=c}u=u.next}while(null!==u&&u!==r);null===l?a=i:l.next=s,Xt(i,t.memoizedState)||(Ui=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function vi(e){var t=hi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);Xt(a,t.memoizedState)||(Ui=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function gi(e,t,n){var i=t._getVersion;i=i(t._source);var r=Y?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==r?e=r===i:(e=e.mutableReadLanes,(e=(ii&e)===e)&&(Y?t._workInProgressVersionPrimary=i:t._workInProgressVersionSecondary=i,Qn.push(t))),e)return n(t._source);throw Qn.push(t),Error(o(350))}function mi(e,t,n,i){var r=na;if(null===r)throw Error(o(349));var a=t._getVersion,s=a(t._source),l=ti.current,u=l.useState((function(){return gi(r,t,n)})),c=u[1],d=u[0];u=oi;var p=e.memoizedState,h=p.refs,f=h.getSnapshot,_=p.source;p=p.subscribe;var v=ri;return e.memoizedState={refs:h,source:t,subscribe:i},l.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=a(t._source);if(!Xt(s,e)){e=n(t._source),Xt(d,e)||(c(e),e=Ma(v),r.mutableReadLanes|=e&r.pendingLanes),e=r.mutableReadLanes,r.entangledLanes|=e;for(var i=r.entanglements,o=e;0<o;){var l=31-Tt(o),u=1<<l;i[l]|=e,o&=~u}}}),[n,t,i]),l.useEffect((function(){return i(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var i=Ma(v);r.mutableReadLanes|=i&r.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,i]),Xt(f,n)&&Xt(_,t)&&Xt(p,i)||((e={pending:null,dispatch:null,lastRenderedReducer:fi,lastRenderedState:d}).dispatch=c=Li.bind(null,ri,e),u.queue=e,u.baseQueue=null,d=gi(r,t,n),u.memoizedState=u.baseState=d),d}function Ei(e,t,n){return mi(hi(),e,t,n)}function yi(e){var t=pi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e}).dispatch=Li.bind(null,ri,e),[t.memoizedState,e]}function Ti(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ri.updateQueue)?(t={lastEffect:null},ri.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function bi(e){return e={current:e},pi().memoizedState=e}function Ci(){return hi().memoizedState}function Si(e,t,n,i){var r=pi();ri.flags|=e,r.memoizedState=Ti(1|t,n,void 0,void 0===i?null:i)}function Ai(e,t,n,i){var r=hi();i=void 0===i?null:i;var a=void 0;if(null!==ai){var o=ai.memoizedState;if(a=o.destroy,null!==i&&ci(i,o.deps))return void Ti(t,n,a,i)}ri.flags|=e,r.memoizedState=Ti(1|t,n,a,i)}function Ii(e,t){return Si(516,4,e,t)}function Pi(e,t){return Ai(516,4,e,t)}function wi(e,t){return Ai(4,2,e,t)}function Ri(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xi(e,t,n){return n=null!=n?n.concat([e]):null,Ai(4,2,Ri.bind(null,t,e),n)}function Oi(){}function Ni(e,t){var n=hi();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ci(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Di(e,t){var n=hi();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ci(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function ki(e,t){var n=Gt();Ht(98>n?98:n,(function(){e(!0)})),Ht(97<n?97:n,(function(){var n=ni.transition;ni.transition=1;try{e(!1),t()}finally{ni.transition=n}}))}function Li(e,t,n){var i=La(),r=Ma(e),a={lane:r,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===ri||null!==o&&o===ri)li=si=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,n);if(a.eagerReducer=o,a.eagerState=l,Xt(l,s))return}catch(e){}Ba(e,r,i)}}var Mi={readContext:dn,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useOpaqueIdentifier:ui,unstable_isNewReconciler:!1},Bi={readContext:dn,useCallback:function(e,t){return pi().memoizedState=[e,void 0===t?null:t],e},useContext:dn,useEffect:Ii,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Si(4,2,Ri.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Si(4,2,e,t)},useMemo:function(e,t){var n=pi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=pi();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Li.bind(null,ri,e),[i.memoizedState,e]},useRef:bi,useState:yi,useDebugValue:Oi,useDeferredValue:function(e){var t=yi(e),n=t[0],i=t[1];return Ii((function(){var t=ni.transition;ni.transition=1;try{i(e)}finally{ni.transition=t}}),[e]),n},useTransition:function(){var e=yi(!1),t=e[0];return bi(e=ki.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var i=pi();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},mi(i,e,t,n)},useOpaqueIdentifier:function(){if(zn){var e=!1,t=Q((function(){throw e||(e=!0,n(ee())),Error(o(355))})),n=yi(t)[1];return 0==(2&ri.mode)&&(ri.flags|=516,Ti(5,(function(){n(ee())}),void 0,null)),t}return yi(t=ee()),t},unstable_isNewReconciler:!1},Fi={readContext:dn,useCallback:Ni,useContext:dn,useEffect:Pi,useImperativeHandle:xi,useLayoutEffect:wi,useMemo:Di,useReducer:_i,useRef:Ci,useState:function(){return _i(fi)},useDebugValue:Oi,useDeferredValue:function(e){var t=_i(fi),n=t[0],i=t[1];return Pi((function(){var t=ni.transition;ni.transition=1;try{i(e)}finally{ni.transition=t}}),[e]),n},useTransition:function(){var e=_i(fi)[0];return[Ci().current,e]},useMutableSource:Ei,useOpaqueIdentifier:function(){return _i(fi)[0]},unstable_isNewReconciler:!1},Vi={readContext:dn,useCallback:Ni,useContext:dn,useEffect:Pi,useImperativeHandle:xi,useLayoutEffect:wi,useMemo:Di,useReducer:vi,useRef:Ci,useState:function(){return vi(fi)},useDebugValue:Oi,useDeferredValue:function(e){var t=vi(fi),n=t[0],i=t[1];return Pi((function(){var t=ni.transition;ni.transition=1;try{i(e)}finally{ni.transition=t}}),[e]),n},useTransition:function(){var e=vi(fi)[0];return[Ci().current,e]},useMutableSource:Ei,useOpaqueIdentifier:function(){return vi(fi)[0]},unstable_isNewReconciler:!1},Wi=s.ReactCurrentOwner,Ui=!1;function $i(e,t,n,i){t.child=null===e?Nn(t,null,n,i):On(t,e.child,n,i)}function Gi(e,t,n,i,r){n=n.render;var a=t.ref;return cn(t,r),i=di(e,t,n,i,a,r),null===e||Ui?(t.flags|=1,$i(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,cr(e,t,r))}function Zi(e,t,n,i,r,a){if(null===e){var o=n.type;return"function"!=typeof o||bo(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=So(n.type,null,i,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Hi(e,t,o,i,r,a))}return o=e.child,0==(r&a)&&(r=o.memoizedProps,(n=null!==(n=n.compare)?n:Jt)(r,i)&&e.ref===t.ref)?cr(e,t,a):(t.flags|=1,(e=Co(o,i)).ref=t.ref,e.return=t,t.child=e)}function Hi(e,t,n,i,r,a){if(null!==e&&Jt(e.memoizedProps,i)&&e.ref===t.ref){if(Ui=!1,0==(a&r))return t.lanes=e.lanes,cr(e,t,a);0!=(16384&e.flags)&&(Ui=!0)}return Yi(e,t,n,i,a)}function zi(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Ha(t,n);else{if(0==(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Ha(t,e),null;t.memoizedState={baseLanes:0},Ha(t,null!==a?a.baseLanes:n)}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Ha(t,i);return $i(e,t,r,n),t.child}function ji(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Yi(e,t,n,i,r){var a=rt(n)?nt:et.current;return a=it(t,a),cn(t,r),n=di(e,t,n,i,a,r),null===e||Ui?(t.flags|=1,$i(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,cr(e,t,r))}function Ki(e,t,n,i,r){if(rt(n)){var a=!0;lt(t)}else a=!1;if(cn(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Sn(t,n,i),In(t,n,i,r),i=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=dn(u):u=it(t,u=rt(n)?nt:et.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==i||l!==u)&&An(t,o,i,u),pn=!1;var p=t.memoizedState;o.state=p,mn(t,i,o,r),l=t.memoizedState,s!==i||p!==l||tt.current||pn?("function"==typeof c&&(Tn(t,n,c,i),l=t.memoizedState),(s=pn||Cn(t,n,s,i,p,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=l),o.props=i,o.state=l,o.context=u,i=s):("function"==typeof o.componentDidMount&&(t.flags|=4),i=!1)}else{o=t.stateNode,fn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:en(t.type,s),o.props=u,d=t.pendingProps,p=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=dn(l):l=it(t,l=rt(n)?nt:et.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||p!==l)&&An(t,o,i,l),pn=!1,p=t.memoizedState,o.state=p,mn(t,i,o,r);var f=t.memoizedState;s!==d||p!==f||tt.current||pn?("function"==typeof h&&(Tn(t,n,h,i),f=t.memoizedState),(u=pn||Cn(t,n,u,i,p,f,l))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(i,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=f),o.props=i,o.state=f,o.context=l,i=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),i=!1)}return Xi(e,t,n,i,a,r)}function Xi(e,t,n,i,r,a){ji(e,t);var o=0!=(64&t.flags);if(!i&&!o)return r&&ut(t,n,!1),cr(e,t,a);i=t.stateNode,Wi.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&o?(t.child=On(t,e.child,null,a),t.child=On(t,null,s,a)):$i(e,t,s,a),t.memoizedState=i.state,r&&ut(t,n,!0),t.child}function qi(e){var t=e.stateNode;t.pendingContext?ot(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ot(0,t.context,!1),Fn(e,t.containerInfo)}var Ji,Qi,er,tr,nr={dehydrated:null,retryLane:0};function ir(e,t,n){var i,r=t.pendingProps,a=$n.current,o=!1;return(i=0!=(64&t.flags))||(i=(null===e||null!==e.memoizedState)&&0!=(2&a)),i?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(a|=1),Je($n,1&a),null===e?(void 0!==r.fallback&&Kn(t),e=r.children,a=r.fallback,o?(e=rr(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=nr,e):"number"==typeof r.unstable_expectedLoadTime?(e=rr(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=nr,t.lanes=33554432,e):((n=Io({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(r=or(e,t,r.children,r.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=nr,r):(n=ar(e,t,r.children,n),t.memoizedState=null,n))}function rr(e,t,n,i){var r=e.mode,a=e.child;return t={mode:"hidden",children:t},0==(2&r)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Io(t,r,0,null),n=Ao(n,r,i,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function ar(e,t,n,i){var r=e.child;return e=r.sibling,n=Co(r,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function or(e,t,n,i,r){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0==(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Co(o,s),null!==e?i=Co(e,i):(i=Ao(i,a,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function sr(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),un(e.return,t)}function lr(e,t,n,i,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r,o.lastEffect=a)}function ur(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if($i(e,t,i.children,n),0!=(2&(i=$n.current)))i=1&i|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sr(e,n);else if(19===e.tag)sr(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Je($n,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Gn(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),lr(t,!1,r,n,a,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Gn(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}lr(t,!0,n,null,a,t.lastEffect);break;case"together":lr(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function cr(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ca|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Co(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Co(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function dr(e){e.flags|=4}if(K)Ji=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)W(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qi=function(){},er=function(e,t,n,i,r){if((e=e.memoizedProps)!==i){var a=t.stateNode,o=Bn(kn.current);n=$(a,n,e,i,r,o),(t.updateQueue=n)&&dr(t)}},tr=function(e,t,n,i){n!==i&&dr(t)};else if(X){Ji=function(e,t,n,i){for(var r=t.child;null!==r;){if(5===r.tag){var a=r.stateNode;n&&i&&(a=Ne(a,r.type,r.memoizedProps,r)),W(e,a)}else if(6===r.tag)a=r.stateNode,n&&i&&(a=De(a,r.memoizedProps,r)),W(e,a);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.flags)&&(a=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Ji(e,o,!0,a)),null!==(a=o.sibling))){a.return=r,r=a;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};var pr=function(e,t,n,i){for(var r=t.child;null!==r;){if(5===r.tag){var a=r.stateNode;n&&i&&(a=Ne(a,r.type,r.memoizedProps,r)),Re(e,a)}else if(6===r.tag)a=r.stateNode,n&&i&&(a=De(a,r.memoizedProps,r)),Re(e,a);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.flags)&&(a=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,pr(e,o,!0,a)),null!==(a=o.sibling))){a.return=r,r=a;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qi=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,i=we(n);pr(i,e,!1,!1),t.pendingChildren=i,dr(e),xe(n,i)}},er=function(e,t,n,i,r){var a=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===i)t.stateNode=a;else{var s=t.stateNode,l=Bn(kn.current),u=null;o!==i&&(u=$(s,n,o,i,r,l)),e&&null===u?t.stateNode=a:(a=Pe(a,u,n,o,i,t,e,s),U(a,n,i,r,l)&&dr(t),t.stateNode=a,e?dr(t):Ji(a,t,!1,!1))}},tr=function(e,t,n,i){n!==i?(e=Bn(Mn.current),n=Bn(kn.current),t.stateNode=Z(i,e,n,t),dr(t)):t.stateNode=e.stateNode}}else Qi=function(){},er=function(){},tr=function(){};function hr(e,t){if(!zn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function fr(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return rt(t.type)&&at(),null;case 3:return Vn(),qe(tt),qe(et),ei(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===e||null===e.child)&&(qn(t)?dr(t):i.hydrate||(t.flags|=256)),Qi(t),null;case 5:Un(t);var r=Bn(Mn.current);if(n=t.type,null!==e&&null!=t.stateNode)er(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(o(166));return null}if(e=Bn(kn.current),qn(t)){if(!q)throw Error(o(175));e=We(t.stateNode,t.type,t.memoizedProps,r,e,t),t.updateQueue=e,null!==e&&dr(t)}else{var a=V(n,i,r,e,t);Ji(a,t,!1,!1),t.stateNode=a,U(a,n,i,r,e)&&dr(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)tr(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(o(166));if(e=Bn(Mn.current),r=Bn(kn.current),qn(t)){if(!q)throw Error(o(176));Ue(t.stateNode,t.memoizedProps,t)&&dr(t)}else t.stateNode=Z(i,e,r,t)}return null;case 13:return qe($n),i=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(i=null!==i,r=!1,null===e?void 0!==t.memoizedProps.fallback&&qn(t):r=null!==e.memoizedState,i&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&$n.current)?0===sa&&(sa=3):((0===sa||3===sa)&&(sa=4),null===na||0==(134217727&ca)&&0==(134217727&da)||Ua(na,ra))),X&&i&&(t.flags|=4),K&&(i||r)&&(t.flags|=4),null);case 4:return Vn(),Qi(t),null===e&&ie(t.stateNode.containerInfo),null;case 10:return ln(t),null;case 19:if(qe($n),null===(i=t.memoizedState))return null;if(r=0!=(64&t.flags),null===(a=i.rendering))if(r)hr(i,!1);else{if(0!==sa||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=Gn(e))){for(t.flags|=64,hr(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,e=n,i=t.child;null!==i;)n=e,(r=i).flags&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(a=r.alternate)?(r.childLanes=0,r.lanes=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,n=a.dependencies,r.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),i=i.sibling;return Je($n,1&$n.current|2),t.child}e=e.sibling}null!==i.tail&&$t()>_a&&(t.flags|=64,r=!0,hr(i,!1),t.lanes=33554432)}else{if(!r)if(null!==(e=Gn(a))){if(t.flags|=64,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),hr(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!zn)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*$t()-i.renderingStartTime>_a&&1073741824!==n&&(t.flags|=64,r=!0,hr(i,!1),t.lanes=33554432);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=$t(),e.sibling=null,t=$n.current,Je($n,r?1&t|2:1&t),e):null;case 23:case 24:return za(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function _r(e){switch(e.tag){case 1:rt(e.type)&&at();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Vn(),qe(tt),qe(et),ei(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Un(e),null;case 13:return qe($n),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return qe($n),null;case 4:return Vn(),null;case 10:return ln(e),null;case 23:case 24:return za(),null;default:return null}}function vr(e,t){try{var n="",i=t;do{n+=Qt(i),i=i.return}while(i);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r}}function gr(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var mr="function"==typeof WeakMap?WeakMap:Map;function Er(e,t,n){(n=_n(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ea||(Ea=!0,ya=i),gr(0,t)},n}function yr(e,t,n){(n=_n(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return gr(0,t),i(r)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===Ta?Ta=new Set([this]):Ta.add(this),gr(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Tr="function"==typeof WeakSet?WeakSet:Set;function br(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){uo(e,t)}else t.current=null}function Cr(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:en(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(K&&256&t.flags&&Ie(t.stateNode.containerInfo))}throw Error(o(163))}function Sr(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function Ar(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e;i=r.next,0!=(4&(r=r.tag))&&0!=(1&r)&&(oo(n,e),ao(n,e)),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:en(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&En(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=k(n.child.stateNode);break;case 1:e=n.child.stateNode}En(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&_e(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(q&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ze(n)))))}throw Error(o(163))}function Ir(e,t){if(K)for(var n=e;;){if(5===n.tag){var i=n.stateNode;t?be(i):Se(n.stateNode,n.memoizedProps)}else if(6===n.tag)i=n.stateNode,t?Ce(i):Ae(i,n.memoizedProps);else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Pr(e,t){if(dt&&"function"==typeof dt.onCommitFiberUnmount)try{dt.onCommitFiberUnmount(ct,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var i=n,r=i.destroy;if(i=i.tag,void 0!==r)if(0!=(4&i))oo(t,n);else{i=t;try{r()}catch(e){uo(i,e)}}n=n.next}while(n!==e)}break;case 1:if(br(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){uo(t,e)}break;case 5:br(t);break;case 4:K?kr(e,t):X&&X&&(t=t.stateNode.containerInfo,e=we(t),Oe(t,e))}}function wr(e,t){for(var n=t;;)if(Pr(e,n),null===n.child||K&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function Rr(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xr(e){return 5===e.tag||3===e.tag||4===e.tag}function Or(e){if(K){e:{for(var t=e.return;null!==t;){if(xr(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(o(161))}16&n.flags&&(Te(t),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||xr(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags||null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}i?Nr(e,n,t):Dr(e,n,t)}}function Nr(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?me(n,e,t):he(n,e);else if(4!==i&&null!==(e=e.child))for(Nr(e,t,n),e=e.sibling;null!==e;)Nr(e,t,n),e=e.sibling}function Dr(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?ge(n,e,t):pe(n,e);else if(4!==i&&null!==(e=e.child))for(Dr(e,t,n),e=e.sibling;null!==e;)Dr(e,t,n),e=e.sibling}function kr(e,t){for(var n,i,r=t,a=!1;;){if(!a){a=r.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===r.tag||6===r.tag)wr(e,r),i?ye(n,r.stateNode):Ee(n,r.stateNode);else if(4===r.tag){if(null!==r.child){n=r.stateNode.containerInfo,i=!0,r.child.return=r,r=r.child;continue}}else if(Pr(e,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(a=!1)}r.sibling.return=r.return,r=r.sibling}}function Lr(e,t){if(K){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Sr(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var r=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ve(n,a,r,e,i,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void fe(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(q&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,Ge(t.containerInfo))));case 13:return Mr(t),void Br(t);case 19:return void Br(t);case 23:case 24:return void Ir(t,null!==t.memoizedState)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Sr(3,t);case 12:case 23:case 24:return;case 13:return Mr(t),void Br(t);case 19:return void Br(t);case 3:q&&((n=t.stateNode).hydrate&&(n.hydrate=!1,Ge(n.containerInfo)))}e:if(X){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,Oe(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Mr(e){null!==e.memoizedState&&(fa=$t(),K&&Ir(e.child,!0))}function Br(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Tr),t.forEach((function(t){var i=po.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function Fr(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Vr=0,Wr=1,Ur=2,$r=3,Gr=4;if("function"==typeof Symbol&&Symbol.for){var Zr=Symbol.for;Vr=Zr("selector.component"),Wr=Zr("selector.has_pseudo_class"),Ur=Zr("selector.role"),$r=Zr("selector.test_id"),Gr=Zr("selector.text")}function Hr(e){var t=J(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ae(e)))throw Error(o(362));return e.stateNode.current}function zr(e,t){switch(t.$$typeof){case Vr:if(e.type===t.value)return!0;break;case Wr:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var i=e[n++],r=e[n++],a=t[r];if(5!==i.tag||!le(i)){for(;null!=a&&zr(i,a);)a=t[++r];if(r===t.length){t=!0;break e}for(i=i.child;null!==i;)e.push(i,r),i=i.sibling}}t=!1}return t;case Ur:if(5===e.tag&&ue(e.stateNode,t.value))return!0;break;case Gr:if((5===e.tag||6===e.tag)&&(null!==(e=se(e))&&0<=e.indexOf(t.value)))return!0;break;case $r:if(5===e.tag&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365,t))}return!1}function jr(e){switch(e.$$typeof){case Vr:return"<"+(P(e.value)||"Unknown")+">";case Wr:return":has("+(jr(e)||"")+")";case Ur:return'[role="'+e.value+'"]';case Gr:return'"'+e.value+'"';case $r:return'[data-testname="'+e.value+'"]';default:throw Error(o(365,e))}}function Yr(e,t){var n=[];e=[e,0];for(var i=0;i<e.length;){var r=e[i++],a=e[i++],o=t[a];if(5!==r.tag||!le(r)){for(;null!=o&&zr(r,o);)o=t[++a];if(a===t.length)n.push(r);else for(r=r.child;null!==r;)e.push(r,a),r=r.sibling}}return n}function Kr(e,t){if(!re)throw Error(o(363));e=Yr(e=Hr(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var i=e[n++];if(5===i.tag)le(i)||t.push(i.stateNode);else for(i=i.child;null!==i;)e.push(i),i=i.sibling}return t}var Xr=null;var qr=Math.ceil,Jr=s.ReactCurrentDispatcher,Qr=s.ReactCurrentOwner,ea=s.IsSomeRendererActing,ta=0,na=null,ia=null,ra=0,aa=0,oa=Xe(0),sa=0,la=null,ua=0,ca=0,da=0,pa=0,ha=null,fa=0,_a=1/0;function va(){_a=$t()+500}var ga,ma=null,Ea=!1,ya=null,Ta=null,ba=!1,Ca=null,Sa=90,Aa=[],Ia=[],Pa=null,wa=0,Ra=null,xa=-1,Oa=0,Na=0,Da=null,ka=!1;function La(){return 0!=(48&ta)?$t():-1!==xa?xa:xa=$t()}function Ma(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Gt()?1:2;if(0===Oa&&(Oa=ua),0!==Kt.transition){0!==Na&&(Na=null!==ha?ha.pendingLanes:0),e=Oa;var t=4186112&~Na;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Gt(),0!=(4&ta)&&98===e?e=gt(12,Oa):e=gt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Oa),e}function Ba(e,t,n){if(50<wa)throw wa=0,Ra=null,Error(o(185));if(null===(e=Fa(e,t)))return null;yt(e,t,n),e===na&&(da|=t,4===sa&&Ua(e,ra));var i=Gt();1===t?0!=(8&ta)&&0==(48&ta)?$a(e):(Va(e,n),0===ta&&(va(),jt())):(0==(4&ta)||98!==i&&99!==i||(null===Pa?Pa=new Set([e]):Pa.add(e)),Va(e,n)),ha=e}function Fa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Va(e,t){for(var n=e.callbackNode,i=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Tt(s),u=1<<l,c=a[l];if(-1===c){if(0==(u&i)||0!=(u&r)){c=t,ft(u);var d=ht;a[l]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(i=_t(e,e===na?ra:0),t=ht,0===i)null!==n&&(n!==Mt&&It(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mt&&It(n)}15===t?(n=$a.bind(null,e),null===Ft?(Ft=[n],Vt=At(Ot,Yt)):Ft.push(n),n=Mt):14===t?n=zt(99,$a.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=zt(n,Wa.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function Wa(e){if(xa=-1,Na=Oa=0,0!=(48&ta))throw Error(o(327));var t=e.callbackNode;if(ro()&&e.callbackNode!==t)return null;var n=_t(e,e===na?ra:0);if(0===n)return null;var i=n,r=ta;ta|=16;var a=Ka();for((na!==e||ra!==i)&&(va(),ja(e,i));;)try{Ja();break}catch(t){Ya(e,t)}if(on(),Jr.current=a,ta=r,null!==ia?i=0:(na=null,ra=0,i=sa),0!=(ua&da))ja(e,0);else if(0!==i){if(2===i&&(ta|=64,e.hydrate&&(e.hydrate=!1,Ie(e.containerInfo)),0!==(n=vt(e))&&(i=Xa(e,n))),1===i)throw t=la,ja(e,0),Ua(e,n),Va(e,$t()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,i){case 0:case 1:throw Error(o(345));case 2:case 5:to(e);break;case 3:if(Ua(e,n),(62914560&n)===n&&10<(i=fa+500-$t())){if(0!==_t(e,0))break;if(((r=e.suspendedLanes)&n)!==n){La(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=H(to.bind(null,e),i);break}to(e);break;case 4:if(Ua(e,n),(4186112&n)===n)break;for(i=e.eventTimes,r=-1;0<n;){var s=31-Tt(n);a=1<<s,(s=i[s])>r&&(r=s),n&=~a}if(n=r,10<(n=(120>(n=$t()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qr(n/1960))-n)){e.timeoutHandle=H(to.bind(null,e),n);break}to(e);break;default:throw Error(o(329))}}return Va(e,$t()),e.callbackNode===t?Wa.bind(null,e):null}function Ua(e,t){for(t&=~pa,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),i=1<<n;e[n]=-1,t&=~i}}function $a(e){if(0!=(48&ta))throw Error(o(327));if(ro(),e===na&&0!=(e.expiredLanes&ra)){var t=ra,n=Xa(e,t);0!=(ua&da)&&(n=Xa(e,t=_t(e,t)))}else n=Xa(e,t=_t(e,0));if(0!==e.tag&&2===n&&(ta|=64,e.hydrate&&(e.hydrate=!1,Ie(e.containerInfo)),0!==(t=vt(e))&&(n=Xa(e,t))),1===n)throw n=la,ja(e,0),Ua(e,t),Va(e,$t()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,to(e),Va(e,$t()),null}function Ga(e,t){var n=ta;ta|=1;try{return e(t)}finally{0===(ta=n)&&(va(),jt())}}function Za(e,t){var n=ta;if(0!=(48&n))return e(t);ta|=1;try{if(e)return Ht(99,e.bind(null,t))}finally{ta=n,jt()}}function Ha(e,t){Je(oa,aa),aa|=t,ua|=t}function za(){aa=oa.current,qe(oa)}function ja(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==j&&(e.timeoutHandle=j,z(n)),null!==ia)for(n=ia.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&at();break;case 3:Vn(),qe(tt),qe(et),ei();break;case 5:Un(i);break;case 4:Vn();break;case 13:case 19:qe($n);break;case 10:ln(i);break;case 23:case 24:za()}n=n.return}na=e,ia=Co(e.current,null),ra=aa=ua=t,sa=0,la=null,pa=da=ca=0}function Ya(e,t){for(;;){var n=ia;try{if(on(),ti.current=Mi,si){for(var i=ri.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}si=!1}if(ii=0,oi=ai=ri=null,li=!1,Qr.current=null,null===n||null===n.return){sa=1,la=t,ia=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=ra,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&$n.current),p=o;do{var h;if(h=13===p.tag){var f=p.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var _=p.memoizedProps;h=void 0!==_.fallback&&(!0!==_.unstable_avoidThisFallback||!d)}}if(h){var v=p.updateQueue;if(null===v){var g=new Set;g.add(u),p.updateQueue=g}else v.add(u);if(0==(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=_n(-1,1);m.tag=2,vn(s,m)}s.lanes|=1;break e}l=void 0,s=t;var E=a.pingCache;if(null===E?(E=a.pingCache=new mr,l=new Set,E.set(u,l)):void 0===(l=E.get(u))&&(l=new Set,E.set(u,l)),!l.has(s)){l.add(s);var y=co.bind(null,a,u,s);u.then(y,y)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((P(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==sa&&(sa=2),l=vr(l,s),p=o;do{switch(p.tag){case 3:a=l,p.flags|=4096,t&=-t,p.lanes|=t,gn(p,Er(0,a,t));break e;case 1:a=l;var T=p.type,b=p.stateNode;if(0==(64&p.flags)&&("function"==typeof T.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Ta||!Ta.has(b)))){p.flags|=4096,t&=-t,p.lanes|=t,gn(p,yr(p,a,t));break e}}p=p.return}while(null!==p)}eo(n)}catch(e){t=e,ia===n&&null!==n&&(ia=n=n.return);continue}break}}function Ka(){var e=Jr.current;return Jr.current=Mi,null===e?Mi:e}function Xa(e,t){var n=ta;ta|=16;var i=Ka();for(na===e&&ra===t||ja(e,t);;)try{qa();break}catch(t){Ya(e,t)}if(on(),ta=n,Jr.current=i,null!==ia)throw Error(o(261));return na=null,ra=0,sa}function qa(){for(;null!==ia;)Qa(ia)}function Ja(){for(;null!==ia&&!Pt();)Qa(ia)}function Qa(e){var t=ga(e.alternate,e,aa);e.memoizedProps=e.pendingProps,null===t?eo(e):ia=t,Qr.current=null}function eo(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=fr(n,t,aa)))return void(ia=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&aa)||0==(4&n.mode)){for(var i=0,r=n.child;null!==r;)i|=r.lanes|r.childLanes,r=r.sibling;n.childLanes=i}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=_r(t)))return n.flags&=2047,void(ia=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ia=t);ia=t=e}while(null!==t);0===sa&&(sa=5)}function to(e){var t=Gt();return Ht(99,no.bind(null,e,t)),null}function no(e,t){do{ro()}while(null!==Ca);if(0!=(48&ta))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var i=n.lanes|n.childLanes,r=i,a=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var u=31-Tt(a),c=1<<u;r[u]=0,s[u]=-1,l[u]=-1,a&=~c}if(null!==Pa&&0==(24&i)&&Pa.has(e)&&Pa.delete(e),e===na&&(ia=na=null,ra=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){r=ta,ta|=32,Qr.current=null,Da=B(e.containerInfo),ka=!1,ma=i;do{try{io()}catch(e){if(null===ma)throw Error(o(330));uo(ma,e),ma=ma.nextEffect}}while(null!==ma);Da=null,ma=i;do{try{for(s=e;null!==ma;){var d=ma.flags;if(16&d&&K&&Te(ma.stateNode),128&d){var p=ma.alternate;if(null!==p){var h=p.ref;null!==h&&("function"==typeof h?h(null):h.current=null)}}switch(1038&d){case 2:Or(ma),ma.flags&=-3;break;case 6:Or(ma),ma.flags&=-3,Lr(ma.alternate,ma);break;case 1024:ma.flags&=-1025;break;case 1028:ma.flags&=-1025,Lr(ma.alternate,ma);break;case 4:Lr(ma.alternate,ma);break;case 8:l=s,a=ma,K?kr(l,a):wr(l,a);var f=a.alternate;Rr(a),null!==f&&Rr(f)}ma=ma.nextEffect}}catch(e){if(null===ma)throw Error(o(330));uo(ma,e),ma=ma.nextEffect}}while(null!==ma);ka&&ne(),F(e.containerInfo),e.current=n,ma=i;do{try{for(d=e;null!==ma;){var _=ma.flags;if(36&_&&Ar(d,ma.alternate,ma),128&_){p=void 0;var v=ma.ref;if(null!==v){var g=ma.stateNode;if(5===ma.tag)p=k(g);else p=g;"function"==typeof v?v(p):v.current=p}}ma=ma.nextEffect}}catch(e){if(null===ma)throw Error(o(330));uo(ma,e),ma=ma.nextEffect}}while(null!==ma);ma=null,Bt(),ta=r}else e.current=n;if(ba)ba=!1,Ca=e,Sa=t;else for(ma=i;null!==ma;)t=ma.nextEffect,ma.nextEffect=null,8&ma.flags&&((_=ma).sibling=null,_.stateNode=null),ma=t;if(0===(i=e.pendingLanes)&&(Ta=null),1===i?e===Ra?wa++:(wa=0,Ra=e):wa=0,n=n.stateNode,dt&&"function"==typeof dt.onCommitFiberRoot)try{dt.onCommitFiberRoot(ct,n,void 0,64==(64&n.current.flags))}catch(e){}if(Va(e,$t()),Ea)throw Ea=!1,e=ya,ya=null,e;return 0!=(8&ta)||jt(),null}function io(){for(;null!==ma;){var e=ma.alternate;ka||null===Da||(0!=(8&ma.flags)?N(ma,Da)&&(ka=!0,te()):13===ma.tag&&Fr(e,ma)&&N(ma,Da)&&(ka=!0,te()));var t=ma.flags;0!=(256&t)&&Cr(e,ma),0==(512&t)||ba||(ba=!0,zt(97,(function(){return ro(),null}))),ma=ma.nextEffect}}function ro(){if(90!==Sa){var e=97<Sa?97:Sa;return Sa=90,Ht(e,so)}return!1}function ao(e,t){Aa.push(t,e),ba||(ba=!0,zt(97,(function(){return ro(),null})))}function oo(e,t){Ia.push(t,e),ba||(ba=!0,zt(97,(function(){return ro(),null})))}function so(){if(null===Ca)return!1;var e=Ca;if(Ca=null,0!=(48&ta))throw Error(o(331));var t=ta;ta|=32;var n=Ia;Ia=[];for(var i=0;i<n.length;i+=2){var r=n[i],a=n[i+1],s=r.destroy;if(r.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===a)throw Error(o(330));uo(a,e)}}for(n=Aa,Aa=[],i=0;i<n.length;i+=2){r=n[i],a=n[i+1];try{var l=r.create;r.destroy=l()}catch(e){if(null===a)throw Error(o(330));uo(a,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return ta=t,jt(),!0}function lo(e,t,n){vn(e,t=Er(0,t=vr(n,t),1)),t=La(),null!==(e=Fa(e,1))&&(yt(e,1,t),Va(e,t))}function uo(e,t){if(3===e.tag)lo(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){lo(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Ta||!Ta.has(i))){var r=yr(n,e=vr(t,e),1);if(vn(n,r),r=La(),null!==(n=Fa(n,1)))yt(n,1,r),Va(n,r);else if("function"==typeof i.componentDidCatch&&(null===Ta||!Ta.has(i)))try{i.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function co(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=La(),e.pingedLanes|=e.suspendedLanes&n,na===e&&(ra&n)===n&&(4===sa||3===sa&&(62914560&ra)===ra&&500>$t()-fa?ja(e,0):pa|=n),Va(e,t)}function po(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Gt()?1:2:(0===Oa&&(Oa=ua),0===(t=mt(62914560&~Oa))&&(t=4194304))),n=La(),null!==(e=Fa(e,t))&&(yt(e,t,n),Va(e,n))}ga=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||tt.current)Ui=!0;else{if(0==(n&i)){switch(Ui=!1,t.tag){case 3:qi(t),Jn();break;case 5:Wn(t);break;case 1:rt(t.type)&&lt(t);break;case 4:Fn(t,t.stateNode.containerInfo);break;case 10:sn(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?ir(e,t,n):(Je($n,1&$n.current),null!==(t=cr(e,t,n))?t.sibling:null);Je($n,1&$n.current);break;case 19:if(i=0!=(n&t.childLanes),0!=(64&e.flags)){if(i)return ur(e,t,n);t.flags|=64}var r=t.memoizedState;if(null!==r&&(r.rendering=null,r.tail=null,r.lastEffect=null),Je($n,$n.current),i)break;return null;case 23:case 24:return t.lanes=0,zi(e,t,n)}return cr(e,t,n)}Ui=0!=(16384&e.flags)}else Ui=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=it(t,et.current),cn(t,n),r=di(null,t,i,e,r,n),t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(i)){var a=!0;lt(t)}else a=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,hn(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&Tn(t,i,s,e),r.updater=bn,t.stateNode=r,r._reactInternals=t,In(t,i,e,n),t=Xi(null,t,i,!0,a,n)}else t.tag=0,$i(null,t,r,n),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"==typeof e)return bo(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===m)return 14}return 2}(r),e=en(r,e),a){case 0:t=Yi(null,t,r,e,n);break e;case 1:t=Ki(null,t,r,e,n);break e;case 11:t=Gi(null,t,r,e,n);break e;case 14:t=Zi(null,t,r,en(r.type,e),i,n);break e}throw Error(o(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Yi(e,t,i,r=t.elementType===i?r:en(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ki(e,t,i,r=t.elementType===i?r:en(i,r),n);case 3:if(qi(t),i=t.updateQueue,null===e||null===i)throw Error(o(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,fn(e,t),mn(t,i,null,n),(i=t.memoizedState.element)===r)Jn(),t=cr(e,t,n);else{if((a=(r=t.stateNode).hydrate)&&(q?(Hn=Ve(t.stateNode.containerInfo),Zn=t,a=zn=!0):a=!1),a){if(q&&null!=(e=r.mutableSourceEagerHydrationData))for(r=0;r<e.length;r+=2)a=e[r],s=e[r+1],Y?a._workInProgressVersionPrimary=s:a._workInProgressVersionSecondary=s,Qn.push(a);for(n=Nn(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else $i(e,t,i,n),Jn();t=t.child}return t;case 5:return Wn(t),null===e&&Kn(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,G(i,r)?s=null:null!==a&&G(i,a)&&(t.flags|=16),ji(e,t),$i(e,t,s,n),t.child;case 6:return null===e&&Kn(t),null;case 13:return ir(e,t,n);case 4:return Fn(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=On(t,null,i,n):$i(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Gi(e,t,i,r=t.elementType===i?r:en(i,r),n);case 7:return $i(e,t,t.pendingProps,n),t.child;case 8:case 12:return $i(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,sn(t,a=r.value),null!==s){var l=s.value;if(0===(a=Xt(l,a)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,a):1073741823))){if(s.children===r.children&&!tt.current){t=cr(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===i&&0!=(c.observedBits&a)){1===l.tag&&((c=_n(-1,n&-n)).tag=2,vn(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),un(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}$i(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(a=t.pendingProps).children,cn(t,n),i=i(r=dn(r,a.unstable_observedBits)),t.flags|=1,$i(e,t,i,n),t.child;case 14:return a=en(r=t.type,t.pendingProps),Zi(e,t,r,a=en(r.type,a),i,n);case 15:return Hi(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:en(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,rt(i)?(e=!0,lt(t)):e=!1,cn(t,n),Sn(t,i,r),In(t,i,r,n),Xi(null,t,i,!0,e,n);case 19:return ur(e,t,n);case 23:case 24:return zi(e,t,n)}throw Error(o(156,t.tag))};var ho={current:!1},fo=a.unstable_flushAllWithoutAsserting,_o="function"==typeof fo;function vo(){if(void 0!==fo)return fo();for(var e=!1;ro();)e=!0;return e}function go(e){try{vo(),function(e){if(null===Xr)try{var n=("require"+Math.random()).slice(0,7);Xr=(t&&t[n]).call(t,"timers").setImmediate}catch(e){Xr=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}Xr(e)}((function(){vo()?go(e):e()}))}catch(t){e(t)}}var mo=0,Eo=!1;function yo(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function To(e,t,n,i){return new yo(e,t,n,i)}function bo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Co(e,t){var n=e.alternate;return null===n?((n=To(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function So(e,t,n,i,r,a){var s=2;if(i=e,"function"==typeof e)bo(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case c:return Ao(n.children,r,a,t);case T:s=8,r|=16;break;case d:s=8,r|=1;break;case p:return(e=To(12,n,t,8|r)).elementType=p,e.type=p,e.lanes=a,e;case v:return(e=To(13,n,t,r)).type=v,e.elementType=v,e.lanes=a,e;case g:return(e=To(19,n,t,r)).elementType=g,e.lanes=a,e;case b:return Io(n,r,a,t);case C:return(e=To(24,n,t,r)).elementType=C,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case h:s=10;break e;case f:s=9;break e;case _:s=11;break e;case m:s=14;break e;case E:s=16,i=null;break e;case y:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=To(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Ao(e,t,n,i){return(e=To(7,e,i,t)).lanes=n,e}function Io(e,t,n,i){return(e=To(23,e,i,t)).elementType=b,e.lanes=n,e}function Po(e,t,n){return(e=To(6,e,null,t)).lanes=n,e}function wo(e,t,n){return(t=To(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ro(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=j,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Et(0),this.expirationTimes=Et(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),q&&(this.mutableSourceEagerHydrationData=null)}function xo(e){var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(o(188)):Error(o(268,Object.keys(e)));return null===(e=O(t))?null:e.stateNode}function Oo(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function No(e,t){Oo(e,t),(e=e.alternate)&&Oo(e,t)}function Do(e){return null===(e=O(e))?null:e.stateNode}function ko(){return null}return n.IsThisRendererActing=ho,n.act=function(e){function t(){mo--,ea.current=n,ho.current=i}!1===Eo&&(Eo=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),mo++;var n=ea.current,i=ho.current;ea.current=!0,ho.current=!0;try{var r=Ga(e)}catch(e){throw t(),e}if(null!==r&&"object"==typeof r&&"function"==typeof r.then)return{then:function(e,i){r.then((function(){1<mo||!0===_o&&!0===n?(t(),e()):go((function(n){t(),n?i(n):e()}))}),(function(e){t(),i(e)}))}};try{1!==mo||!1!==_o&&!1!==n||vo(),t()}catch(e){throw t(),e}return{then:function(e){e()}}},n.attemptContinuousHydration=function(e){13===e.tag&&(Ba(e,67108864,La()),No(e,67108864))},n.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=La(),n=Ma(e);Ba(e,n,t),No(e,n)}},n.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=ft(t.pendingLanes);t.expiredLanes|=n&t.pendingLanes,Va(t,$t()),0==(48&ta)&&(va(),jt())}break;case 13:var i=La();Za((function(){return Ba(e,1,i)})),No(e,4)}},n.attemptUserBlockingHydration=function(e){13===e.tag&&(Ba(e,4,La()),No(e,4))},n.batchedEventUpdates=function(e,t){var n=ta;ta|=2;try{return e(t)}finally{0===(ta=n)&&(va(),jt())}},n.batchedUpdates=Ga,n.createComponentSelector=function(e){return{$$typeof:Vr,value:e}},n.createContainer=function(e,t,n){return e=new Ro(e,t,n),t=To(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,hn(t),e},n.createHasPsuedoClassSelector=function(e){return{$$typeof:Wr,value:e}},n.createPortal=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:u,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}},n.createRoleSelector=function(e){return{$$typeof:Ur,value:e}},n.createTestNameSelector=function(e){return{$$typeof:$r,value:e}},n.createTextSelector=function(e){return{$$typeof:Gr,value:e}},n.deferredUpdates=function(e){return Ht(97,e)},n.discreteUpdates=function(e,t,n,i,r){var a=ta;ta|=4;try{return Ht(98,e.bind(null,t,n,i,r))}finally{0===(ta=a)&&(va(),jt())}},n.findAllNodes=Kr,n.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Kr(e,t),e=[];for(var n=0;n<t.length;n++)e.push(oe(t[n]));for(t=e.length-1;0<t;t--)for(var i=(n=e[t]).x,r=i+n.width,a=n.y,s=a+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,p=u.y,h=p+u.height;if(i>=c&&a>=p&&r<=d&&s<=h){e.splice(t,1);break}if(!(i!==c||n.width!==u.width||h<a||p>s)){p>a&&(u.height+=p-a,u.y=a),h<s&&(u.height=s-p),e.splice(t,1);break}if(!(a!==p||n.height!==u.height||d<i||c>r)){c>i&&(u.width+=c-i,u.x=i),d<r&&(u.width=r-c),e.splice(t,1);break}}return e},n.findHostInstance=xo,n.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=x(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},n.findHostInstanceWithWarning=function(e){return xo(e)},n.flushControlled=function(e){var t=ta;ta|=1;try{Ht(99,e)}finally{0===(ta=t)&&(va(),jt())}},n.flushDiscreteUpdates=function(){0==(49&ta)&&(function(){if(null!==Pa){var e=Pa;Pa=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Va(e,$t())}))}jt()}(),ro())},n.flushPassiveEffects=ro,n.flushSync=Za,n.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=Yr(e=Hr(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!le(n)){if(5===n.tag&&ce(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},n.getCurrentUpdateLanePriority=function(){return pt},n.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,i=[];e=[Hr(e),0];for(var r=0;r<e.length;){var a=e[r++],s=e[r++],l=t[s];if((5!==a.tag||!le(a))&&(zr(a,l)&&(i.push(jr(l)),++s>n&&(n=s)),s<t.length))for(a=a.child;null!==a;)e.push(a,s),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(jr(t[n]));return"findAllNodes was able to match part of the selector:\n  "+i.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},n.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?k(e.child.stateNode):e.child.stateNode:null},n.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:Do,findFiberByHostInstance:e.findFiberByHostInstance||ko,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{ct=t.inject(e),dt=t}catch(e){}e=!0}return e},n.observeVisibleRects=function(e,t,n,i){if(!re)throw Error(o(363));e=Kr(e,t);var r=de(e,n,i).disconnect;return{disconnect:function(){r()}}},n.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},n.runWithPriority=function(e,t){var n=pt;try{return pt=e,t()}finally{pt=n}},n.shouldSuspend=function(){return!1},n.unbatchedUpdates=function(e,t){var n=ta;ta&=-2,ta|=8;try{return e(t)}finally{0===(ta=n)&&(va(),jt())}},n.updateContainer=function(e,t,n,i){var r=t.current,a=La(),s=Ma(r);e:if(n){t:{if(w(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(rt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(rt(u)){n=st(n,u,l);break e}}n=l}else n=Qe;return null===t.context?t.context=n:t.pendingContext=n,(t=_n(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),vn(r,t),Ba(r,s,a),s},n}})),Rs=Es((function(e,t){t.exports=ws()})),xs=Es((function(e,t){!function(i){var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=10;function o(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._events.maxListeners=e.maxListeners!==i?e.maxListeners:a,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._events.maxListeners=a}function l(e,t){var n="(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak?(n+=" Event name: %s.",console.error(n,e,t)):console.error(n,e),console.trace&&console.trace()}function u(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,s.call(this,e)}function c(e,t,n,i){if(!n)return[];var r,a,o,s,l,u,d,p=[],h=t.length,f=t[i],_=t[i+1];if(i===h&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(r=0,a=n._listeners.length;r<a;r++)e&&e.push(n._listeners[r]);return[n]}if("*"===f||"**"===f||n[f]){if("*"===f){for(o in n)"_listeners"!==o&&n.hasOwnProperty(o)&&(p=p.concat(c(e,t,n[o],i+1)));return p}if("**"===f){for(o in(d=i+1===h||i+2===h&&"*"===_)&&n._listeners&&(p=p.concat(c(e,t,n,h))),n)"_listeners"!==o&&n.hasOwnProperty(o)&&("*"===o||"**"===o?(n[o]._listeners&&!d&&(p=p.concat(c(e,t,n[o],h))),p=p.concat(c(e,t,n[o],i))):p=o===_?p.concat(c(e,t,n[o],i+2)):p.concat(c(e,t,n[o],i)));return p}p=p.concat(c(e,t,n[f],i+1))}if((s=n["*"])&&c(e,t,s,i+1),l=n["**"])if(i<h)for(o in l._listeners&&c(e,t,l,h),l)"_listeners"!==o&&l.hasOwnProperty(o)&&(o===_?c(e,t,l[o],i+2):o===f?c(e,t,l[o],i+1):((u={})[o]=l[o],c(e,t,{"**":u},i+1)));else l._listeners?c(e,t,l,h):l["*"]&&l["*"]._listeners&&c(e,t,l["*"],h);return p}function d(e,t){for(var n=0,r=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var a=this.listenerTree,o=e.shift();o!==i;){if(a[o]||(a[o]={}),a=a[o],0===e.length)return a._listeners?("function"==typeof a._listeners&&(a._listeners=[a._listeners]),a._listeners.push(t),!a._listeners.warned&&this._events.maxListeners>0&&a._listeners.length>this._events.maxListeners&&(a._listeners.warned=!0,l.call(this,a._listeners.length,o))):a._listeners=t,!0;o=e.shift()}return!0}u.EventEmitter2=u,u.prototype.delimiter=".",u.prototype.setMaxListeners=function(e){e!==i&&(this._events||o.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},u.prototype.event="",u.prototype.once=function(e,t){return this.many(e,1,t),this},u.prototype.many=function(e,t,n){var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function r(){0==--t&&i.off(e,r),n.apply(this,arguments)}return r._origin=n,this.on(e,r),i},u.prototype.emit=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,i,r,a,s=arguments.length;if(this._all&&this._all.length){if(a=this._all.slice(),s>3)for(t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];for(i=0,n=a.length;i<n;i++)switch(this.event=e,s){case 1:a[i].call(this,e);break;case 2:a[i].call(this,e,arguments[1]);break;case 3:a[i].call(this,e,arguments[1],arguments[2]);break;default:a[i].apply(this,t)}}if(this.wildcard){a=[];var l="string"==typeof e?e.split(this.delimiter):e.slice();c.call(this,a,l,this.listenerTree,0)}else{if("function"==typeof(a=this._events[e])){switch(this.event=e,s){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(s-1),r=1;r<s;r++)t[r-1]=arguments[r];a.apply(this,t)}return!0}a&&(a=a.slice())}if(a&&a.length){if(s>3)for(t=new Array(s-1),r=1;r<s;r++)t[r-1]=arguments[r];for(i=0,n=a.length;i<n;i++)switch(this.event=e,s){case 1:a[i].call(this);break;case 2:a[i].call(this,arguments[1]);break;case 3:a[i].call(this,arguments[1],arguments[2]);break;default:a[i].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){this._events||o.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,i,r,a,s=[],l=arguments.length;if(this._all){if(l>3)for(t=new Array(l),r=1;r<l;r++)t[r]=arguments[r];for(i=0,n=this._all.length;i<n;i++)switch(this.event=e,l){case 1:s.push(this._all[i].call(this,e));break;case 2:s.push(this._all[i].call(this,e,arguments[1]));break;case 3:s.push(this._all[i].call(this,e,arguments[1],arguments[2]));break;default:s.push(this._all[i].apply(this,t))}}if(this.wildcard){a=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();c.call(this,a,u,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a)switch(this.event=e,l){case 1:s.push(a.call(this));break;case 2:s.push(a.call(this,arguments[1]));break;case 3:s.push(a.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(l-1),r=1;r<l;r++)t[r-1]=arguments[r];s.push(a.apply(this,t))}else if(a&&a.length){if(l>3)for(t=new Array(l-1),r=1;r<l;r++)t[r-1]=arguments[r];for(i=0,n=a.length;i<n;i++)switch(this.event=e,l){case 1:s.push(a[i].call(this));break;case 2:s.push(a[i].call(this,arguments[1]));break;case 3:s.push(a[i].call(this,arguments[1],arguments[2]));break;default:s.push(a[i].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},u.prototype.on=function(e,t){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||o.call(this),this.emit("newListener",e,t),this.wildcard?(d.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),this._events[e].push(t),!this._events[e].warned&&this._events.maxListeners>0&&this._events[e].length>this._events.maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this)},u.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},u.prototype.addListener=u.prototype.on,u.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,a=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();a=c.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],a.push({_listeners:n})}for(var s=0;s<a.length;s++){var l=a[s];if(n=l._listeners,r(n)){for(var u=-1,d=0,p=n.length;d<p;d++)if(n[d]===t||n[d].listener&&n[d].listener===t||n[d]._origin&&n[d]._origin===t){u=d;break}if(u<0)continue;return this.wildcard?l._listeners.splice(u,1):this._events[e].splice(u,1),0===n.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete l._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==i){var n=Object.keys(t);for(var r in n){var a=n[r],o=t[a];o instanceof Function||"object"!=typeof o||null===o||(Object.keys(o).length>0&&e(t[a]),0===Object.keys(o).length&&delete t[a])}}}(this.listenerTree),this},u.prototype.offAny=function(e){var t,n=0,i=0;if(e&&this._all&&this._all.length>0){for(n=0,i=(t=this._all).length;n<i;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,i=(t=this._all).length;n<i;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=c.call(this,null,t,this.listenerTree,0),i=0;i<n.length;i++){n[i]._listeners=null}else this._events&&(this._events[e]=null);return this},u.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return c.call(this,t,n,this.listenerTree,0),t}return this._events||o.call(this),this._events[e]||(this._events[e]=[]),r(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&n.amdO?define((function(){return u})):"object"==typeof e?t.exports=u:window.EventEmitter2=u}()})),Os=(ys(As()),ys(Rs()),/([+-]?\d+(?:\.\d+)?)apx/g),Ns=/^\s*#[0-9a-fA-F]{3}\s*$/,Ds=/^\s*#[0-9a-fA-F]{3,6}\s*$/,ks=/^\s*rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/,Ls=/^\s*rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)\s*$/,Ms=/px$/,Bs=function(e,t){return!1===t||"number"==typeof e?e:Ms.test(e)?Number(e.replace(Ms,""))||0:function(e){return Number(e).toString()===e}(e)?parseInt(e,10):e},Fs=function(e){if("string"==typeof e&&Ns.test(e)){var[t,n,i]=e.slice(1);return`#${t}${t}${n}${n}${i}${i}`}return e},Vs=function(e,t,n,i){if("string"!=typeof n||!Ls.test(n))return!1;var[r,a,o,s]=Ls.exec(n).slice(1,5).map((function(e){return Number(e)})),l=function(e){return e.toString(16)};return e.color=`#${l(r)}${l(a)}${l(o)}`,null==i.opacity&&(e.opacity=Number(s)),!0},Ws=function(e,t,n,i,r){return["padding","margin"].includes(t)?function(e,t,n,i){var r=Array.isArray(n)?n:(null==n?"":n).toString().split(/\s+/),a=null,o=null,s=null,l=null;switch(r.length){case 1:[a]=r,[o]=r,[s]=r,[l]=r;break;case 2:[a,o]=r,[s,l]=r;break;case 3:[a,o,s]=r,l=o;break;case 4:[a,l,s,o]=r;break;default:return!0}return Object.assign(e,{[`${t}Top`]:Bs(a,i),[`${t}Left`]:Bs(o,i),[`${t}Bottom`]:Bs(s,i),[`${t}Right`]:Bs(l,i)}),!0}(e,t,n,i):"border"===t?function(e,t,n,i){var r=(n||"").toString().split(/\s+/);switch(r.length){case 1:return e.borderColor=Fs(r[0]),!0;case 2:return e.borderWidth=Bs(r[0],i),e.borderColor=Fs(r[1]),!0;case 3:return e.borderWidth=Bs(r[0],i),e.borderColor=Fs(r[2]),!0;default:return!0}}(e,0,n,i):"background"===t&&(Ds.test(r[t])?e.backgroundColor=Fs(r[t]):(ks.test(r[t])||Ls.test(r[t])||r[t].includes("linear-gradient"))&&(e.backgroundColor=r[t]),!0)},Us=function(e={},{removePx:t,splitShorthand:n=!1,convertRgbaColor:i=!1,convertDisplayName:r=!1,convertRotate:a=!0,ignorePositionStatic:o=!1}={}){var s={};for(var l of Object.keys(e)){var u=e[l],c=!1;if(i&&"color"===l?c=Vs(s,0,u,e):n&&(c=Ws(s,l,u,t,e)),r&&"display"===l)s.hidden="none"===e[l];else if(a&&"rotate"===l){var d=e[l];s.rotate="string"==typeof d?Number(d.replace("deg",""))||0:d}else o&&"position"===l&&"static"===e[l]||c||(s[l]=Fs(Bs(e[l],t)))}return s};!function(e,t){for(var n in t)ss(e,n,{get:t[n],enumerable:!0})}({},{APN:function(){return Rl},AccountStatus:function(){return cl},AccountType:function(){return yl},ActionType:function(){return El},AdFreeType:function(){return Sl},AdStrategyType:function(){return Gs},AddrType:function(){return $l},AppServiceType:function(){return Al},BackgroundColor:function(){return qs},CarrierType:function(){return wl},CompressJsonEntry:function(){return bl},ContentTagType:function(){return Qs},ContentWordColor:function(){return el},CouponTag:function(){return tl},CrtSize:function(){return zs},DestType:function(){return Hs},DeviceType:function(){return Tl},EffectStateType:function(){return vl},EntityVersion:function(){return Fl},FeedJumpVisibleOption:function(){return kl},FinderRedPacketCoverStatus:function(){return Ml},Format:function(){return Ol},ItemType:function(){return ml},MMFinderJumpConfigPrefix:function(){return Ll},MaterialContentType:function(){return Ks},MonetizeMethod:function(){return rl},MonetizeMethodOp:function(){return al},MonetizeMethodStatus:function(){return ol},MonetizeOperationSrc:function(){return sl},NameType:function(){return Ul},NetType:function(){return Dl},NetworkType:function(){return Pl},NoAdReason:function(){return il},OperatorSystem:function(){return Nl},OsType:function(){return Il},PlayableOrientation:function(){return gl},PosType:function(){return Zs},ProductType:function(){return Ys},PublisherAdSlot:function(){return ll},PublisherAdSlotStatus:function(){return ul},QueryType:function(){return Wl},QuestSettProgress:function(){return pl},QuestSettStatus:function(){return dl},RequestSource:function(){return $s},RequestType:function(){return Cl},RewriteSenGradeType:function(){return Vl},SegVersion:function(){return Bl},ShowType:function(){return nl},SlotOpenStateType:function(){return _l},Source:function(){return xl},TitleTagType:function(){return Xs},TitleWordColor:function(){return Js},VideoPlayReportType:function(){return fl},VideoPlayType:function(){return hl},enPageType:function(){return js}});var $s=function(e){return e[e.SOURCE_UNKNOW=0]="SOURCE_UNKNOW",e[e.SOURCE_MP=1]="SOURCE_MP",e[e.SOURCE_OSS=2]="SOURCE_OSS",e[e.SOURCE_MP_OSS=3]="SOURCE_MP_OSS",e[e.SOURCE_OPEN_API=4]="SOURCE_OPEN_API",e[e.SOURCE_MARKETING_API=5]="SOURCE_MARKETING_API",e[e.SOURCE_WEPAY=6]="SOURCE_WEPAY",e[e.SOURCE_PRODUCT_API=7]="SOURCE_PRODUCT_API",e[e.SOURCE_WEAPP=8]="SOURCE_WEAPP",e[e.SOURCE_LOCAL_BUSINESS=9]="SOURCE_LOCAL_BUSINESS",e}($s||{}),Gs=function(e){return e[e.NORMAL_AD=0]="NORMAL_AD",e[e.LOCAL_BUSINESS_AD=1]="LOCAL_BUSINESS_AD",e}(Gs||{}),Zs=function(e){return e[e.POS_TYPE_APPMSG_BOTTOM=0]="POS_TYPE_APPMSG_BOTTOM",e[e.POS_TYPE_APPMSG_TOP=1]="POS_TYPE_APPMSG_TOP",e[e.POS_TYPE_NEWS=2]="POS_TYPE_NEWS",e[e.POS_TYPE_APPMSG_VIDEO=3]="POS_TYPE_APPMSG_VIDEO",e[e.POS_TYPE_FREE_TRADE=4]="POS_TYPE_FREE_TRADE",e[e.POS_TYPE_APPMSG_MIDDLE=5]="POS_TYPE_APPMSG_MIDDLE",e[e.POS_TYPE_MAIL=6]="POS_TYPE_MAIL",e[e.POS_TYPE_WX_APPLICATION=7]="POS_TYPE_WX_APPLICATION",e[e.POS_TYPE_WX_GAME_VIDEO=8]="POS_TYPE_WX_GAME_VIDEO",e[e.POS_TYPE_MP_PRODUCT=9]="POS_TYPE_MP_PRODUCT",e[e.POS_TYPE_WEAPP_INTERSTITIAL=10]="POS_TYPE_WEAPP_INTERSTITIAL",e[e.POS_TYPE_BOX=11]="POS_TYPE_BOX",e[e.POS_TYPE_WEAPP_COVER=12]="POS_TYPE_WEAPP_COVER",e[e.POS_TYPE_WEAPP_TEMPLATE=13]="POS_TYPE_WEAPP_TEMPLATE",e[e.POS_TYPE_WX_PAY=14]="POS_TYPE_WX_PAY",e[e.POS_TYPE_BIZ_TIME_LINE=15]="POS_TYPE_BIZ_TIME_LINE",e[e.POS_TYPE_FINDER_FREE_TRADE=16]="POS_TYPE_FINDER_FREE_TRADE",e[e.POS_TYPE_MP_MAX=100]="POS_TYPE_MP_MAX",e[e.POS_TYPE_MULTI_SLOT=101]="POS_TYPE_MULTI_SLOT",e[e.POS_TYPE_CHANNELS=113]="POS_TYPE_CHANNELS",e[e.POS_TYPE_SEARCH=115]="POS_TYPE_SEARCH",e[e.POS_TYPE_WX_APPLET=997]="POS_TYPE_WX_APPLET",e[e.POS_TYPE_MP_ALL=998]="POS_TYPE_MP_ALL",e[e.POS_TYPE_SNS_FEED=999]="POS_TYPE_SNS_FEED",e}(Zs||{}),Hs=function(e){return e[e.DEST_TYPE_AD=0]="DEST_TYPE_AD",e[e.DEST_TYPE_OUTER=1]="DEST_TYPE_OUTER",e[e.DEST_TYPE_APPDETAIL=2]="DEST_TYPE_APPDETAIL",e[e.DEST_TYPE_BIZ=3]="DEST_TYPE_BIZ",e[e.DEST_TYPE_APPINFO_PAGE=4]="DEST_TYPE_APPINFO_PAGE",e[e.DEST_TYPE_WECHAT_SHOP=5]="DEST_TYPE_WECHAT_SHOP",e[e.DEST_TYPE_WECHAT_APPLET=6]="DEST_TYPE_WECHAT_APPLET",e[e.DEST_TYPE_CANVAS=9]="DEST_TYPE_CANVAS",e[e.DEST_TYPE_CHANNELS=101]="DEST_TYPE_CHANNELS",e[e.DEST_TYPE_CHANNELS_LIVE=102]="DEST_TYPE_CHANNELS_LIVE",e[e.DEST_TYPE_CHANNELS_USER_PROFILE=103]="DEST_TYPE_CHANNELS_USER_PROFILE",e[e.DEST_TYPE_CHANNELS_HALF_CARD=104]="DEST_TYPE_CHANNELS_HALF_CARD",e[e.DEST_TYPE_ONEKEY_ATTENTION=40024]="DEST_TYPE_ONEKEY_ATTENTION",e[e.DEST_TYPE_WECOM_CONSULT=60013]="DEST_TYPE_WECOM_CONSULT",e}(Hs||{}),zs=function(e){return e[e.RT_SIZE_WORD=91]="RT_SIZE_WORD",e[e.CRT_SIZE_PIC=133]="CRT_SIZE_PIC",e[e.CRT_SIZE_APPMSG=134]="CRT_SIZE_APPMSG",e[e.CRT_SIZE_CARD=135]="CRT_SIZE_CARD",e[e.CRT_SIZE_TOP_PIC=166]="CRT_SIZE_TOP_PIC",e[e.CRT_SIZE_APPDETAIL=167]="CRT_SIZE_APPDETAIL",e[e.CRT_SIZE_WECHAT_SHOP=267]="CRT_SIZE_WECHAT_SHOP",e[e.CRT_SIZE_COPY_CARD=354]="CRT_SIZE_COPY_CARD",e[e.CRT_SIZE_PIC_CARD=355]="CRT_SIZE_PIC_CARD",e[e.CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC=998]="CRT_SIZE_WECHAT_ARTICLE_GRAND_PIC",e[e.CRT_SIZE_OFF_ACCOUNT_PIC=117]="CRT_SIZE_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_WECHAT_APPLET_GRAND_PIC=484]="CRT_SIZE_WECHAT_APPLET_GRAND_PIC",e[e.CRT_SIZE_WECHAT_VIDEO=538]="CRT_SIZE_WECHAT_VIDEO",e[e.CRT_SIZE_H5VIDEO_PIC_6S=555]="CRT_SIZE_H5VIDEO_PIC_6S",e[e.CRT_SIZE_H5VIDEO_VIDEO_15S=1515]="CRT_SIZE_H5VIDEO_VIDEO_15S",e[e.CRT_SIZE_MUTUAL_VIDEO_169=996]="CRT_SIZE_MUTUAL_VIDEO_169",e[e.CRT_SIZE_MUTUAL_VIDEO_43=997]="CRT_SIZE_MUTUAL_VIDEO_43",e[e.CRT_SIZE_IMAGE=666]="CRT_SIZE_IMAGE",e[e.CRT_SIZE_NORMAL_IMAGE=2106]="CRT_SIZE_NORMAL_IMAGE",e[e.CRT_SIZE_VIDEO=888]="CRT_SIZE_VIDEO",e[e.CRT_SIZE_CARD_IMAGE=450]="CRT_SIZE_CARD_IMAGE",e[e.CRT_SIZE_CARD_VIDEO=452]="CRT_SIZE_CARD_VIDEO",e[e.CRT_SIZE_LINK=454]="CRT_SIZE_LINK",e[e.CRT_SIZE_CARD_SELECT_IMAGE=480]="CRT_SIZE_CARD_SELECT_IMAGE",e[e.CRT_SIZE_CARD_SELECT_VIDEO=482]="CRT_SIZE_CARD_SELECT_VIDEO",e[e.CRT_SIZE_CARD_VOTE_IMAGE=516]="CRT_SIZE_CARD_VOTE_IMAGE",e[e.CRT_SIZE_CARD_VOTE_VIDEO=519]="CRT_SIZE_CARD_VOTE_VIDEO",e[e.CRT_SIZE_WXAPP_PIC=532]="CRT_SIZE_WXAPP_PIC",e[e.CRT_SIZE_CARD_TURN_IMAGE=539]="CRT_SIZE_CARD_TURN_IMAGE",e[e.CRT_SIZE_CARD_TURN_VIDEO=540]="CRT_SIZE_CARD_TURN_VIDEO",e[e.CRT_SIZE_WXAPP_CARD_PIC=556]="CRT_SIZE_WXAPP_CARD_PIC",e[e.CRT_SIZE_WXGAME_VIDEO_0=559]="CRT_SIZE_WXGAME_VIDEO_0",e[e.CRT_SIZE_WXGAME_VIDEO_1=560]="CRT_SIZE_WXGAME_VIDEO_1",e[e.CRT_SIZE_WXAPP_BANNER_608=608]="CRT_SIZE_WXAPP_BANNER_608",e[e.CRT_SIZE_MULTI_POS_960_334=567]="CRT_SIZE_MULTI_POS_960_334",e[e.CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC=568]="CRT_SIZE_MULTI_POS_OFF_ACCOUNT_PIC",e[e.CRT_SIZE_MULTI_POS_CARD=569]="CRT_SIZE_MULTI_POS_CARD",e[e.CRT_SIZE_MULTI_POS_COPY_CARD=570]="CRT_SIZE_MULTI_POS_COPY_CARD",e[e.CRT_SIZE_CARD_RATING_IMAGE=588]="CRT_SIZE_CARD_RATING_IMAGE",e[e.CRT_SIZE_CARD_RATING_VIDEO=589]="CRT_SIZE_CARD_RATING_VIDEO",e[e.CRT_SIZE_CARD_FULL_IMAGE=598]="CRT_SIZE_CARD_FULL_IMAGE",e[e.CRT_SIZE_CARD_FULL_VIDEO=599]="CRT_SIZE_CARD_FULL_VIDEO",e[e.CRT_SIZE_MP_TAGS=677]="CRT_SIZE_MP_TAGS",e[e.CRT_SIZE_SCREEN_701=701]="CRT_SIZE_SCREEN_701",e[e.CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO=913]="CRT_SIZE_WEAPP_INTERSTITIAL_VIDEO",e[e.CRT_SIZE_CARD_FULL_GESTURE_VIDEO=698]="CRT_SIZE_CARD_FULL_GESTURE_VIDEO",e[e.CRT_SIZE_BOTTOM_708=708]="CRT_SIZE_BOTTOM_708",e[e.CRT_SIZE_IN_TEXT_841=841]="CRT_SIZE_IN_TEXT_841",e[e.CRT_SIZE_CARD_COMPONENT_IMAGE=1707]="CRT_SIZE_CARD_COMPONENT_IMAGE",e[e.CRT_SIZE_CARD_COMPONENT_VIDEO=1708]="CRT_SIZE_CARD_COMPONENT_VIDEO",e[e.CRT_SIZE_PRODUCT=1501]="CRT_SIZE_PRODUCT",e[e.CRT_SIZE_CARD_SPHERE_IMAGE=699]="CRT_SIZE_CARD_SPHERE_IMAGE",e[e.CRT_SIZE_IMAGE_TEXT_CARD=904]="CRT_SIZE_IMAGE_TEXT_CARD",e[e.CRT_SIZE_MULTI_SLOT_BANNER=925]="CRT_SIZE_MULTI_SLOT_BANNER",e[e.CRT_SIZE_MULTI_SLOT_BANNER_MP=926]="CRT_SIZE_MULTI_SLOT_BANNER_MP",e[e.CRT_SIZE_MULTI_SLOT_IMAGE=927]="CRT_SIZE_MULTI_SLOT_IMAGE",e[e.CRT_SIZE_MULTI_SLOT_IMAGE_MP=928]="CRT_SIZE_MULTI_SLOT_IMAGE_MP",e[e.CRT_SIZE_MULTI_SLOT_VIDEO=929]="CRT_SIZE_MULTI_SLOT_VIDEO",e[e.CRT_SIZE_MULTI_SLOT_BOX=972]="CRT_SIZE_MULTI_SLOT_BOX",e[e.CRT_SIZE_BUTTON_CARD_IMAGE=955]="CRT_SIZE_BUTTON_CARD_IMAGE",e[e.CRT_SIZE_BUTTON_CARD_VIDEO=957]="CRT_SIZE_BUTTON_CARD_VIDEO",e[e.CRT_SIZE_WXGAME_LAND_PAGE=910]="CRT_SIZE_WXGAME_LAND_PAGE",e[e.CRT_SIZE_WEAPP_COVER=1003]="CRT_SIZE_WEAPP_COVER",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO=1064]="CRT_SIZE_SNS_PORTRAIL_VIDEO",e[e.CRT_SIZE_CARD_FULL_PRESS_VIDEO=1065]="CRT_SIZE_CARD_FULL_PRESS_VIDEO",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_1=1479]="CRT_SIZE_SNS_PORTRAIL_VIDEO_1",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_2=1480]="CRT_SIZE_SNS_PORTRAIL_VIDEO_2",e[e.CRT_SIZE_CHANNELS_IMAGE=1530]="CRT_SIZE_CHANNELS_IMAGE",e[e.CRT_SIZE_CHANNELS_PORTRAIL_IMAGE=1531]="CRT_SIZE_CHANNELS_PORTRAIL_IMAGE",e[e.CRT_SIZE_CARD_FULL_TWIST_VIDEO=1733]="CRT_SIZE_CARD_FULL_TWIST_VIDEO",e[e.CRT_SIZE_CARD_FULL_SHAKE_VIDEO=1814]="CRT_SIZE_CARD_FULL_SHAKE_VIDEO",e[e.CRT_SIZE_CARD_FULL_BREAK_FRAME=1885]="CRT_SIZE_CARD_FULL_BREAK_FRAME",e[e.CRT_SIZE_CARD_FULL_OUT_BREAK_FRAME=1945]="CRT_SIZE_CARD_FULL_OUT_BREAK_FRAME",e[e.CRT_SIZE_IMAGE_711_1280_720=711]="CRT_SIZE_IMAGE_711_1280_720",e[e.CRT_SIZE_IMAGE_712_720_1280=712]="CRT_SIZE_IMAGE_712_720_1280",e[e.CRT_SIZE_SNS_VIDEO_1280_720=720]="CRT_SIZE_SNS_VIDEO_1280_720",e[e.CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280=721]="CRT_SIZE_SNS_PORTRAIL_VIDEO_720_1280",e[e.CRT_SIZE_CARD_FINDER_EVENT_VIDEO=1748]="CRT_SIZE_CARD_FINDER_EVENT_VIDEO",e[e.CRT_SIZE_SLIDER_CARD_VIDEO=1765]="CRT_SIZE_SLIDER_CARD_VIDEO",e[e.CRT_SIZE_SLIDER_CARD_IMAGE=1766]="CRT_SIZE_SLIDER_CARD_IMAGE",e[e.CRT_SIZE_WINDOWS_IMAGE_1_IMAGE_3=2107]="CRT_SIZE_WINDOWS_IMAGE_1_IMAGE_3",e[e.CRT_SIZE_WINDOWS_VIDEO_1_IMAGE_3=2109]="CRT_SIZE_WINDOWS_VIDEO_1_IMAGE_3",e[e.CRT_SIZE_FINDER_FREE_TRADE_EMPTY=1009]="CRT_SIZE_FINDER_FREE_TRADE_EMPTY",e[e.CRT_SIZE_PC_MOUSE_INTERACTION_VIDEO=1846]="CRT_SIZE_PC_MOUSE_INTERACTION_VIDEO",e[e.CRT_SIZE_SEARCH_BRAND_VIDEO=2013]="CRT_SIZE_SEARCH_BRAND_VIDEO",e[e.CRT_SIZE_FINDER_IMAGE=2014]="CRT_SIZE_FINDER_IMAGE",e[e.CRT_SIZE_LOOKBOOK_IMAGE=2174]="CRT_SIZE_LOOKBOOK_IMAGE",e[e.CRT_SIZE_LOOKBOOK_VIDEO=2177]="CRT_SIZE_LOOKBOOK_VIDEO",e}(zs||{}),js=function(e){return e[e.PAGE_TYPE_NONE=0]="PAGE_TYPE_NONE",e[e.PAGE_TYPE_OUTLINK=1]="PAGE_TYPE_OUTLINK",e[e.PAGE_TYPE_ARTICLE=2]="PAGE_TYPE_ARTICLE",e[e.PAGE_TYPE_H5CANVAS=3]="PAGE_TYPE_H5CANVAS",e[e.PAGE_TYPE_CANVAS=4]="PAGE_TYPE_CANVAS",e[e.PAGE_TYPE_CARD=5]="PAGE_TYPE_CARD",e[e.PAGE_TYPE_ACCOUNT=6]="PAGE_TYPE_ACCOUNT",e[e.PAGE_TYPE_APPSTORE=7]="PAGE_TYPE_APPSTORE",e[e.PAGE_TYPE_TMPL=8]="PAGE_TYPE_TMPL",e[e.PAGE_TYPE_SIMPLE_CANVAS=9]="PAGE_TYPE_SIMPLE_CANVAS",e[e.PAGE_TYPE_AD=10]="PAGE_TYPE_AD",e[e.PAGE_TYPE_DIRECT=11]="PAGE_TYPE_DIRECT",e[e.PAGE_TYPE_APPDETAIL=12]="PAGE_TYPE_APPDETAIL",e[e.PAGE_TYPE_APPINFO_PAGE=13]="PAGE_TYPE_APPINFO_PAGE",e[e.PAGE_TYPE_WECHAT_SHOP=14]="PAGE_TYPE_WECHAT_SHOP",e[e.PAGE_TYPE_WEAPP=15]="PAGE_TYPE_WEAPP",e[e.PAGE_TYPE_ACTIVE=16]="PAGE_TYPE_ACTIVE",e[e.PAGE_TYPE_FORM_IMAGE=17]="PAGE_TYPE_FORM_IMAGE",e[e.PAGE_TYPE_FORM_VIDEO=18]="PAGE_TYPE_FORM_VIDEO",e[e.PAGE_TYPE_APP_IMAGE=19]="PAGE_TYPE_APP_IMAGE",e[e.PAGE_TYPE_APP_VIDEO=20]="PAGE_TYPE_APP_VIDEO",e[e.PAGE_TYPE_CANVAS_QUES=21]="PAGE_TYPE_CANVAS_QUES",e[e.PAGE_TYPE_CANVAS_VOTE=22]="PAGE_TYPE_CANVAS_VOTE",e[e.PAGE_TYPE_WEPAY_CARD=23]="PAGE_TYPE_WEPAY_CARD",e[e.PAGE_TYPE_WXGAME=24]="PAGE_TYPE_WXGAME",e[e.PAGE_TYPE_FY_EGOODS=25]="PAGE_TYPE_FY_EGOODS",e[e.PAGE_TYPE_ALITA=26]="PAGE_TYPE_ALITA",e[e.PAGE_TYPE_PHONE_CALL=27]="PAGE_TYPE_PHONE_CALL",e[e.PAGE_TYPE_SUBSCRIPTION=40027]="PAGE_TYPE_SUBSCRIPTION",e[e.PAGE_TYPE_YOUZAN=20003]="PAGE_TYPE_YOUZAN",e[e.PAGE_TYPE_WEIMENG=20305]="PAGE_TYPE_WEIMENG",e[e.PAGE_TYPE_FENGYE_EC_SINGLE=10001]="PAGE_TYPE_FENGYE_EC_SINGLE",e[e.PAGE_TYPE_FENGYE_EC_TOGETHER=10002]="PAGE_TYPE_FENGYE_EC_TOGETHER",e[e.PAGE_TYPE_FENGYE_EC_FOCUS=10003]="PAGE_TYPE_FENGYE_EC_FOCUS",e[e.PAGE_TYPE_PLAY_H5=18001]="PAGE_TYPE_PLAY_H5",e[e.PAGE_TYPE_SCAN=40026]="PAGE_TYPE_SCAN",e[e.PAGE_TYPE_CHANNELS=60003]="PAGE_TYPE_CHANNELS",e[e.PAGE_TYPE_CHANNELS_WATCH_LIVE=60005]="PAGE_TYPE_CHANNELS_WATCH_LIVE",e[e.PAGE_TYPE_CHANNELS_RESERVE_LIVE=60006]="PAGE_TYPE_CHANNELS_RESERVE_LIVE",e[e.PAGE_TYPE_CHANNELS_USER_PROFILE=60007]="PAGE_TYPE_CHANNELS_USER_PROFILE",e[e.PAGE_TYPE_CHANNELS_FOLLOW_CARD=60008]="PAGE_TYPE_CHANNELS_FOLLOW_CARD",e[e.PAGE_TYPE_AD_APPOINTMENT=60009]="PAGE_TYPE_AD_APPOINTMENT",e[e.PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5=40028]="PAGE_TYPE_WECHAT_XJ_ANDROID_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_IOS_APP_H5=40029]="PAGE_TYPE_WECHAT_XJ_IOS_APP_H5",e[e.PAGE_TYPE_WECHAT_XJ_WEBSITE_H5=40030]="PAGE_TYPE_WECHAT_XJ_WEBSITE_H5",e[e.PAGE_TYPE_WECHAT_RED_PACKET_COVER=40031]="PAGE_TYPE_WECHAT_RED_PACKET_COVER",e[e.PAGE_TYPE_WECHAT_VIDEO_TOPIC=40032]="PAGE_TYPE_WECHAT_VIDEO_TOPIC",e[e.PAGE_TYPE_CHANNELS_HALF_CARD=40033]="PAGE_TYPE_CHANNELS_HALF_CARD",e[e.PAGE_TYPE_QYWX_WECHAT_KEFU=60011]="PAGE_TYPE_QYWX_WECHAT_KEFU",e[e.PAGE_TYPE_WECHAT_STATUS_FOOTER=60012]="PAGE_TYPE_WECHAT_STATUS_FOOTER",e[e.PAGE_TYPE_WECOM_CONSULT=60013]="PAGE_TYPE_WECOM_CONSULT",e[e.PAGE_TYPE_ANDORID_DOWNLOAD=60015]="PAGE_TYPE_ANDORID_DOWNLOAD",e[e.PAGE_TYPE_VANGOGH=70001]="PAGE_TYPE_VANGOGH",e[e.PAGE_TYPE_LINGQUE_MINI_PROGRAM=70002]="PAGE_TYPE_LINGQUE_MINI_PROGRAM",e[e.PAGE_TYPE_NOT_USED=99999]="PAGE_TYPE_NOT_USED",e[e.PAGE_TYPE_MAX=1e8]="PAGE_TYPE_MAX",e}(js||{}),Ys=function(e){return e[e.PRODUCTTYPE_UNKNOWN=0]="PRODUCTTYPE_UNKNOWN",e[e.PRODUCTTYPE_OPEN_PLATFORM_APP_MOB=12]="PRODUCTTYPE_OPEN_PLATFORM_APP_MOB",e[e.PRODUCTTYPE_APPLE_APP_STORE=19]="PRODUCTTYPE_APPLE_APP_STORE",e[e.PRODUCTTYPE_WECHAT=23]="PRODUCTTYPE_WECHAT",e[e.PRODUCTTYPE_JD_URL=25]="PRODUCTTYPE_JD_URL",e[e.PRODUCTTYPE_DP_SHOP=26]="PRODUCTTYPE_DP_SHOP",e[e.PRODUCTTYPE_WECHAT_ARTICLE=29]="PRODUCTTYPE_WECHAT_ARTICLE",e[e.PRODUCTTYPE_WECHAT_SHOP=30]="PRODUCTTYPE_WECHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_URL=31]="PRODUCTTYPE_WECHAT_URL",e[e.PRODUCTTYPE_WECHAT_CARD=36]="PRODUCTTYPE_WECHAT_CARD",e[e.PRODUCTTYPE_WECHAT_LBS=37]="PRODUCTTYPE_WECHAT_LBS",e[e.PRODUCTTYPE_WECHAT_APP=38]="PRODUCTTYPE_WECHAT_APP",e[e.GDT_PRODUCTTYPE_WECHAT_LBS=39]="GDT_PRODUCTTYPE_WECHAT_LBS",e[e.PRODUCTTYPE_LEAD_AD=43]="PRODUCTTYPE_LEAD_AD",e[e.PRODUCTTYPE_WECHAT_MINI_GAME=46]="PRODUCTTYPE_WECHAT_MINI_GAME",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.PRODUCT_TYPE_APP_PROMOTION=50]="PRODUCT_TYPE_APP_PROMOTION",e[e.PRODUCTTYPE_WECHAT_CHANNELS=51]="PRODUCTTYPE_WECHAT_CHANNELS",e[e.PRODUCTTYPE_MINI_PROGRAM_WECHAT=52]="PRODUCTTYPE_MINI_PROGRAM_WECHAT",e}(Ys||{}),Ks=function(e){return e[e.ContentTypeImage=2]="ContentTypeImage",e[e.ContentTypeVideo=3]="ContentTypeVideo",e}(Ks||{}),Xs=function(e){return e[e.TITLE_TAG_TYPE_DEFAULT=0]="TITLE_TAG_TYPE_DEFAULT",e[e.PLATFORM=1]="PLATFORM",e[e.ACTIVITY=2]="ACTIVITY",e[e.SOURCE_FROM=3]="SOURCE_FROM",e}(Xs||{}),qs=function(e){return e[e.BACK_DEFAULT=0]="BACK_DEFAULT",e[e.BACK_PRIMARY_15=1]="BACK_PRIMARY_15",e[e.BACK_PRIMARY_80=2]="BACK_PRIMARY_80",e[e.BACK_SUCCESS_80=3]="BACK_SUCCESS_80",e[e.BACK_ALERT_80=4]="BACK_ALERT_80",e[e.BACK_INFORMATION_80=5]="BACK_INFORMATION_80",e[e.BACK_MINI_PROGRAM_80=6]="BACK_MINI_PROGRAM_80",e[e.BACK_BLACK_10=7]="BACK_BLACK_10",e[e.BACK_BLACK_30=8]="BACK_BLACK_30",e[e.BACK_BLACK_50=9]="BACK_BLACK_50",e[e.BACK_BLACK_90=10]="BACK_BLACK_90",e[e.BACK_WHITE_10=11]="BACK_WHITE_10",e[e.BACK_WHITE_30=12]="BACK_WHITE_30",e[e.BACK_WHITE_50=13]="BACK_WHITE_50",e[e.BACK_WHITE=14]="BACK_WHITE",e}(qs||{}),Js=function(e){return e[e.TITLE_WORD_DEFAULT=0]="TITLE_WORD_DEFAULT",e[e.TITLE_WORD_BLACK_10=1]="TITLE_WORD_BLACK_10",e[e.TITLE_WORD_BLACK_30=2]="TITLE_WORD_BLACK_30",e[e.TITLE_WORD_BLACK_50=3]="TITLE_WORD_BLACK_50",e[e.TITLE_WORD_BLACK_90=4]="TITLE_WORD_BLACK_90",e[e.TITLE_WORD_WHITE_10=5]="TITLE_WORD_WHITE_10",e[e.TITLE_WORD_WHITE_30=6]="TITLE_WORD_WHITE_30",e[e.TITLE_WORD_WHITE_50=7]="TITLE_WORD_WHITE_50",e[e.TITLE_WORD_WHITE=8]="TITLE_WORD_WHITE",e[e.TITLE_WORD_PRIMARY=9]="TITLE_WORD_PRIMARY",e}(Js||{}),Qs=function(e){return e[e.CONTENT_TAG_TYPE_DEFAULT=0]="CONTENT_TAG_TYPE_DEFAULT",e[e.DISCOUNT=1]="DISCOUNT",e[e.SERVICE=2]="SERVICE",e}(Qs||{}),el=function(e){return e[e.CONTENT_WORD_DEFAULT=0]="CONTENT_WORD_DEFAULT",e[e.BLACK_10=1]="BLACK_10",e[e.BLACK_30=2]="BLACK_30",e[e.BLACK_50=3]="BLACK_50",e[e.BLACK_90=4]="BLACK_90",e[e.WHITE_10=5]="WHITE_10",e[e.WHITE_30=6]="WHITE_30",e[e.WHITE_50=7]="WHITE_50",e[e.WHITE=8]="WHITE",e[e.RED=9]="RED",e}(el||{}),tl=function(e){return e[e.COUPON_DEFAULT=0]="COUPON_DEFAULT",e[e.COUPON_NORMAL=1]="COUPON_NORMAL",e[e.COUPON_HIGH=10]="COUPON_HIGH",e}(tl||{}),nl=function(e){return e[e.HIGH_VALUE=1]="HIGH_VALUE",e[e.LOW_VALUE=2]="LOW_VALUE",e}(nl||{}),il=function(e){return e[e.kRankingResponseAdNotMatch=201012]="kRankingResponseAdNotMatch",e[e.kWechatOpenlistMaxError=500999]="kWechatOpenlistMaxError",e[e.kWechatRankingMaxError=501999]="kWechatRankingMaxError",e}(il||{}),rl=function(e){return e[e.MONETIZE_METHOD_INVALID=0]="MONETIZE_METHOD_INVALID",e[e.MONETIZE_METHOD_ADS=1]="MONETIZE_METHOD_ADS",e[e.MONETIZE_METHOD_BIZ_ORIGINAL=2]="MONETIZE_METHOD_BIZ_ORIGINAL",e[e.MONETIZE_METHOD_BIZ_REPRODUCTION=3]="MONETIZE_METHOD_BIZ_REPRODUCTION",e[e.MONETIZE_METHOD_BIZ_CPS=4]="MONETIZE_METHOD_BIZ_CPS",e[e.MONETIZE_METHOD_BIZ_KANYIKANPLUS=5]="MONETIZE_METHOD_BIZ_KANYIKANPLUS",e}(rl||{}),al=function(e){return e[e.OP_UNKNOWN=0]="OP_UNKNOWN",e[e.OP_OPEN=1]="OP_OPEN",e[e.OP_CLOSE=2]="OP_CLOSE",e}(al||{}),ol=function(e){return e[e.MONETIZE_METHOD_STATUS_NOT_APPLY=0]="MONETIZE_METHOD_STATUS_NOT_APPLY",e[e.MONETIZE_METHOD_STATUS_OPEN=1]="MONETIZE_METHOD_STATUS_OPEN",e[e.MONETIZE_METHOD_STATUS_CLOSED=2]="MONETIZE_METHOD_STATUS_CLOSED",e}(ol||{}),sl=function(e){return e[e.MONETIZE_METHOD_OPERATION_UNKNOWN=0]="MONETIZE_METHOD_OPERATION_UNKNOWN",e[e.MONETIZE_METHOD_OPERATION_SRC_EDITOR=1]="MONETIZE_METHOD_OPERATION_SRC_EDITOR",e[e.MONETIZE_METHOD_OPERATION_SRC_QUICK_OPEN=2]="MONETIZE_METHOD_OPERATION_SRC_QUICK_OPEN",e[e.MONETIZE_METHOD_OPERATION_SRC_SLOT_SET=3]="MONETIZE_METHOD_OPERATION_SRC_SLOT_SET",e[e.MONETIZE_METHOD_OPERATION_BAN=4]="MONETIZE_METHOD_OPERATION_BAN",e[e.MONETIZE_METHOD_OPERATION_UNBAN=5]="MONETIZE_METHOD_OPERATION_UNBAN",e[e.MONETIZE_METHOD_OPERATION_AUDIT=6]="MONETIZE_METHOD_OPERATION_AUDIT",e[e.MONETIZE_METHOD_OPERATION_OPERATOR=7]="MONETIZE_METHOD_OPERATION_OPERATOR",e}(sl||{}),ll=function(e){return e[e.ADSLOT_BIZ_UNKNOWN=0]="ADSLOT_BIZ_UNKNOWN",e[e.ADSLOT_BIZ_BOTTOM=1]="ADSLOT_BIZ_BOTTOM",e[e.ADSLOT_BIZ_SPONSOR=2]="ADSLOT_BIZ_SPONSOR",e[e.ADSLOT_BIZ_MIDDLE=3]="ADSLOT_BIZ_MIDDLE",e[e.ADSLOT_BIZ_WEAPP=4]="ADSLOT_BIZ_WEAPP",e[e.ADSLOT_BIZ_WEAPP_REWARDED_VIDEO=5]="ADSLOT_BIZ_WEAPP_REWARDED_VIDEO",e[e.ADSLOT_BIZ_ORIG_VIDEO=6]="ADSLOT_BIZ_ORIG_VIDEO",e[e.ADSLOT_BIZ_VIDEO_END=7]="ADSLOT_BIZ_VIDEO_END",e[e.ADSLOT_BIZ_CPS=8]="ADSLOT_BIZ_CPS",e[e.ADSLOT_BIZ_WEAPP_INTERSTITIAL=9]="ADSLOT_BIZ_WEAPP_INTERSTITIAL",e[e.ADSLOT_WEAPP_VIDEO=10]="ADSLOT_WEAPP_VIDEO",e[e.ADSLOT_WEAPP_VIDEO_BEGIN=11]="ADSLOT_WEAPP_VIDEO_BEGIN",e[e.ADSLOT_WEAPP_COVER=12]="ADSLOT_WEAPP_COVER",e[e.ADSLOT_WEAPP_TEMPLATE=13]="ADSLOT_WEAPP_TEMPLATE",e[e.ADSLOT_WEAPP_CPS=14]="ADSLOT_WEAPP_CPS",e[e.ADSLOT_BIZ_KYK=15]="ADSLOT_BIZ_KYK",e[e.ADSLOT_BIZ_VIDEO_MID=16]="ADSLOT_BIZ_VIDEO_MID",e}(ll||{}),ul=function(e){return e[e.ADSLOT_STATUS_NOT_APPLY=0]="ADSLOT_STATUS_NOT_APPLY",e[e.ADSLOT_STATUS_OPEN=1]="ADSLOT_STATUS_OPEN",e[e.ADSLOT_STATUS_REVIEWING=2]="ADSLOT_STATUS_REVIEWING",e[e.ADSLOT_STATUS_UNPASS=3]="ADSLOT_STATUS_UNPASS",e[e.ADSLOT_STATUS_CLOSED=4]="ADSLOT_STATUS_CLOSED",e}(ul||{}),cl=function(e){return e[e.ACCOUNT_STATUS_NOT_APPLY=0]="ACCOUNT_STATUS_NOT_APPLY",e[e.ACCOUNT_STATUS_OPEN=1]="ACCOUNT_STATUS_OPEN",e}(cl||{}),dl=function(e){return e[e.QUEST_SETT_STATUS_UNKNOWN=0]="QUEST_SETT_STATUS_UNKNOWN",e[e.QUEST_SETT_STATUS_ONLINE=1]="QUEST_SETT_STATUS_ONLINE",e[e.QUEST_SETT_STATUS_ENDED=2]="QUEST_SETT_STATUS_ENDED",e[e.QUEST_SETT_STATUS_SETTLED=3]="QUEST_SETT_STATUS_SETTLED",e}(dl||{}),pl=function(e){return e[e.QUEST_SETT_PROGRESS_BEGIN=1]="QUEST_SETT_PROGRESS_BEGIN",e[e.QUEST_SETT_PROGRESS_SETTLED=2]="QUEST_SETT_PROGRESS_SETTLED",e[e.QUEST_SETT_PROGRESS_WAITINVOICE=3]="QUEST_SETT_PROGRESS_WAITINVOICE",e[e.QUEST_SETT_PROGRESS_PAY_IN_PROGRESS=4]="QUEST_SETT_PROGRESS_PAY_IN_PROGRESS",e[e.QUEST_SETT_PROGRESS_SUCC=5]="QUEST_SETT_PROGRESS_SUCC",e}(pl||{}),hl=function(e){return e[e.VIDEO_PLAY_UNKNOWN=0]="VIDEO_PLAY_UNKNOWN",e[e.VIDEO_PLAY_COMPLETE=1]="VIDEO_PLAY_COMPLETE",e[e.VIDEO_PLAY_PARTIAL=2]="VIDEO_PLAY_PARTIAL",e[e.VIDEO_PLAY_ERROR=3]="VIDEO_PLAY_ERROR",e[e.VIDEO_PLAY_VIEWABLE=4]="VIDEO_PLAY_VIEWABLE",e}(hl||{}),fl=function(e){return e[e.REPORT_TYPE_UNKNOWN=0]="REPORT_TYPE_UNKNOWN",e[e.REPORT_TYPE_ON_EXIT=1]="REPORT_TYPE_ON_EXIT",e[e.REPORT_TYPE_ON_FINISH_PLAY=2]="REPORT_TYPE_ON_FINISH_PLAY",e[e.REPORT_TYPE_ON_START_PLAY=3]="REPORT_TYPE_ON_START_PLAY",e[e.REPORT_TYPE_ON_WEAPP_EXIT=4]="REPORT_TYPE_ON_WEAPP_EXIT",e[e.REPORT_TYPE_ON_CLOSE_AD=5]="REPORT_TYPE_ON_CLOSE_AD",e}(fl||{}),_l=function(e){return e[e.SLOT_OPEN_STATE_NOT_FIRST=0]="SLOT_OPEN_STATE_NOT_FIRST",e[e.SLOT_OPEN_STATE_IS_FIRST=1]="SLOT_OPEN_STATE_IS_FIRST",e}(_l||{}),vl=function(e){return e[e.NOT_EFFECT=0]="NOT_EFFECT",e[e.ALREADY_EFFECT=1]="ALREADY_EFFECT",e}(vl||{}),gl=function(e){return e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE",e}(gl||{}),ml=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kVideo=1]="kVideo",e[e.kArticle=2]="kArticle",e}(ml||{}),El=function(e){return e[e.EXPOSE=1]="EXPOSE",e[e.CLICK=2]="CLICK",e}(El||{}),yl=function(e){return e[e.kUnknown=0]="kUnknown",e[e.kBiz=1]="kBiz",e[e.kWxa=2]="kWxa",e[e.kFinder=3]="kFinder",e}(yl||{}),Tl=function(e){return e[e.kDeviceUnknow=0]="kDeviceUnknow",e[e.kDeviceAndroid=1]="kDeviceAndroid",e[e.kDeviceIphone=2]="kDeviceIphone",e[e.kDeviceIpad=3]="kDeviceIpad",e[e.kDeviceTv=4]="kDeviceTv",e}(Tl||{}),bl=function(e){return e[e.EXT_BACK_COMM=1]="EXT_BACK_COMM",e[e.TMPL_CONTENT=2]="TMPL_CONTENT",e[e.TMPL_INFO=3]="TMPL_INFO",e[e.AD_TEMPLATE_INFO=4]="AD_TEMPLATE_INFO",e}(bl||{}),Cl=function(e){return e[e.WXCOVER_NORMARL_REQUEST=1]="WXCOVER_NORMARL_REQUEST",e[e.WXCOVER_CHECK_FETCH_TOGETHER=2]="WXCOVER_CHECK_FETCH_TOGETHER",e[e.WXAVIDEO_WELfARE_REQUEST=3]="WXAVIDEO_WELfARE_REQUEST",e[e.WELFARE_MYLIST_REQUEST=4]="WELFARE_MYLIST_REQUEST",e[e.WELFARE_CHANGE_BATCH=5]="WELFARE_CHANGE_BATCH",e[e.WXCOVER_CHECK_AD_IS_ONLINE_REQUEST=6]="WXCOVER_CHECK_AD_IS_ONLINE_REQUEST",e}(Cl||{}),Sl=function(e){return e[e.AD_FREE_TYPE_UNKNOWN=0]="AD_FREE_TYPE_UNKNOWN",e[e.AD_FREE_TYPE_ALL_EXCEPT_REWARD=1]="AD_FREE_TYPE_ALL_EXCEPT_REWARD",e}(Sl||{}),Al=function(e){return e[e.AppServiceType_NORMAL=1]="AppServiceType_NORMAL",e[e.AppServiceType_GAME=2]="AppServiceType_GAME",e}(Al||{}),Il=function(e){return e[e.AllOS=0]="AllOS",e[e.Ios=1]="Ios",e[e.Android=2]="Android",e[e.Winphone=3]="Winphone",e[e.JAVA=4]="JAVA",e[e.OS_UNKNOWN=5]="OS_UNKNOWN",e[e.SYMBIAN=6]="SYMBIAN",e[e.S40asha=7]="S40asha",e[e.Webwx=8]="Webwx",e[e.Blackberry=9]="Blackberry",e[e.Windows=10]="Windows",e}(Il||{}),Pl=function(e){return e[e.kUnknownNetwork=0]="kUnknownNetwork",e[e.kWIFI=1]="kWIFI",e[e.k2G=2]="k2G",e[e.k3G=3]="k3G",e[e.k4G=4]="k4G",e[e.k5G=5]="k5G",e[e.kAll=10]="kAll",e}(Pl||{}),wl=function(e){return e[e.kUnknownCarrier=0]="kUnknownCarrier",e[e.kCMCC=1]="kCMCC",e[e.kCUCC=2]="kCUCC",e[e.kCTCC=3]="kCTCC",e}(wl||{}),Rl=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.CMNET=1]="CMNET",e[e.CMWAP=2]="CMWAP",e[e.THREEGNET=3]="THREEGNET",e[e.THREEGWAP=4]="THREEGWAP",e[e.UNINET=5]="UNINET",e[e.UNIWAP=6]="UNIWAP",e[e.WIFI=7]="WIFI",e[e.CTWAP=8]="CTWAP",e[e.CTNET=9]="CTNET",e[e.THREEGNET_UNINET=10]="THREEGNET_UNINET",e[e.THREEGWAP_UNIWAP=11]="THREEGWAP_UNIWAP",e[e.CTNET_CTWAP=12]="CTNET_CTWAP",e[e.THREEGNET_THREEGWAP_UNINET_UNIWAP=13]="THREEGNET_THREEGWAP_UNINET_UNIWAP",e[e.WIMAX=14]="WIMAX",e}(Rl||{}),xl=function(e){return e[e.Default_Source=0]="Default_Source",e[e.MediaPlatform=1]="MediaPlatform",e[e.WeApp=2]="WeApp",e[e.Moments=3]="Moments",e[e.BizTimeLine=4]="BizTimeLine",e}(xl||{}),Ol=function(e){return e[e.JSON=0]="JSON",e[e.XML=1]="XML",e}(Ol||{}),Nl=function(e){return e[e.Unknown_sys=-1]="Unknown_sys",e[e.Windows=0]="Windows",e[e.Ios=1]="Ios",e[e.Android=2]="Android",e}(Nl||{}),Dl=function(e){return e[e.Unknown_type=0]="Unknown_type",e[e.Wifi=1]="Wifi",e[e.TwoG=2]="TwoG",e[e.TreeG=3]="TreeG",e[e.FourG=4]="FourG",e[e.FiveG=5]="FiveG",e[e.Ethernet=6]="Ethernet",e}(Dl||{}),kl=function(e){return e[e.FeedJumpVisibleOption_DefaultPublic=0]="FeedJumpVisibleOption_DefaultPublic",e}(kl||{}),Ll=function(e){return e[e.kMMFinderJumpConfigPrefix_Feed=1]="kMMFinderJumpConfigPrefix_Feed",e[e.kMMFinderJumpConfigPrefix_HotWord=2]="kMMFinderJumpConfigPrefix_HotWord",e[e.kMMFinderJumpConfigPrefix_Anchor=3]="kMMFinderJumpConfigPrefix_Anchor",e[e.kMMFinderJumpConfigPrefix_Tag=4]="kMMFinderJumpConfigPrefix_Tag",e[e.kMMFinderJumpConfigPrefix_Activity=5]="kMMFinderJumpConfigPrefix_Activity",e[e.kMMFinderJumpConfigPrefix_Finder=6]="kMMFinderJumpConfigPrefix_Finder",e}(Ll||{}),Ml=function(e){return e[e.FinderRedPacketCoverStatus_Enable=1]="FinderRedPacketCoverStatus_Enable",e[e.FinderRedPacketCoverStatus_Unable=2]="FinderRedPacketCoverStatus_Unable",e}(Ml||{}),Bl=function(e){return e[e.SEG_VERSION_DEFAULT=0]="SEG_VERSION_DEFAULT",e[e.SEG_VERSION_119368=1]="SEG_VERSION_119368",e[e.SEG_VERSION_NEISOU=2]="SEG_VERSION_NEISOU",e[e.SEG_VERSION_1141=3]="SEG_VERSION_1141",e[e.SEG_VERSION_BIG=4]="SEG_VERSION_BIG",e[e.SEG_VERSION_MINOR_LANGUAGE=5]="SEG_VERSION_MINOR_LANGUAGE",e[e.SEG_VERSION_WSEG_V1=6]="SEG_VERSION_WSEG_V1",e}(Bl||{}),Fl=function(e){return e[e.ENTITY_VERSION_DEFAULT=0]="ENTITY_VERSION_DEFAULT",e[e.ENTITY_VERSION_20=1]="ENTITY_VERSION_20",e}(Fl||{}),Vl=function(e){return e[e.REWRITE_SEN_TYPE_ONE=1]="REWRITE_SEN_TYPE_ONE",e[e.REWRITE_SEN_TYPE_RETRY=2]="REWRITE_SEN_TYPE_RETRY",e[e.REWRITE_SEN_TYPE_BIG_SEG=101]="REWRITE_SEN_TYPE_BIG_SEG",e[e.REWRITE_SEN_TYPE_BIG_SEG_RETRY=102]="REWRITE_SEN_TYPE_BIG_SEG_RETRY",e[e.REWRITE_SEN_TYPE_MULTI_WAY_OPT1=200]="REWRITE_SEN_TYPE_MULTI_WAY_OPT1",e[e.REWRITE_SEN_TYPE_MULTI_WAY_OPT2=201]="REWRITE_SEN_TYPE_MULTI_WAY_OPT2",e[e.REWRITE_SEN_TYPE_MULTI_WAY_OPT3=202]="REWRITE_SEN_TYPE_MULTI_WAY_OPT3",e[e.REWRITE_SEN_TYPE_MULTI_WAY_OPT4=203]="REWRITE_SEN_TYPE_MULTI_WAY_OPT4",e[e.REWRITE_SEN_TYPE_MULTI_WAY_OPT5=204]="REWRITE_SEN_TYPE_MULTI_WAY_OPT5",e[e.REWRITE_SEN_TYPE_VOB_OPT1=300]="REWRITE_SEN_TYPE_VOB_OPT1",e[e.REWRITE_SEN_TYPE_VOB_OPT2=301]="REWRITE_SEN_TYPE_VOB_OPT2",e}(Vl||{}),Wl=function(e){return e[e.RAW_QUERY=0]="RAW_QUERY",e[e.QC_QUERY=1]="QC_QUERY",e[e.QR_QUERY=2]="QR_QUERY",e[e.QR_QUERY_FROM_QC=3]="QR_QUERY_FROM_QC",e[e.QR_QUERY_FROM_NS=4]="QR_QUERY_FROM_NS",e[e.REPLACED_RAW_QUERY=5]="REPLACED_RAW_QUERY",e[e.QR_QUERY_FROM_BOXQRW=6]="QR_QUERY_FROM_BOXQRW",e[e.QR_QUERY_FROM_BOXQRW_END2END=7]="QR_QUERY_FROM_BOXQRW_END2END",e}(Wl||{}),Ul=function(e){return e[e.INVALID=0]="INVALID",e[e.NAME=1]="NAME",e[e.NICK_NAME=2]="NICK_NAME",e[e.AREA_NAME=3]="AREA_NAME",e[e.HOTEL_NAME=4]="HOTEL_NAME",e[e.SCENIC_NAME=5]="SCENIC_NAME",e[e.CINEMA_NAME=6]="CINEMA_NAME",e}(Ul||{}),$l=function(e){return e[e.ROOT=0]="ROOT",e[e.PROVINCE=1]="PROVINCE",e[e.CITY=2]="CITY",e[e.DISTRICT=3]="DISTRICT",e[e.SUBDISTRICT=4]="SUBDISTRICT",e[e.SUBDISTRICT_NO=5]="SUBDISTRICT_NO",e}($l||{}),Gl=function(e){return e[e.ANDROID=12]="ANDROID",e[e.IOS=19]="IOS",e[e.WE_CHAT=23]="WE_CHAT",e[e.MINI_GAME=46]="MINI_GAME",e[e.WE_CHAT_CARD=36]="WE_CHAT_CARD",e[e.WE_CHAT_SHOP=30]="WE_CHAT_SHOP",e[e.PRODUCTTYPE_WECHAT_PAY_COUPON=47]="PRODUCTTYPE_WECHAT_PAY_COUPON",e[e.WE_CHAT_ARTICLE=29]="WE_CHAT_ARTICLE",e[e.GDT_WE_CHAT_ARTICLE=31]="GDT_WE_CHAT_ARTICLE",e[e.WE_CHAT_APP=38]="WE_CHAT_APP",e[e.LBS=37]="LBS",e[e.LEAD_AD=43]="LEAD_AD",e[e.JD_URL=25]="JD_URL",e[e.CHANNELS=51]="CHANNELS",e}(Gl||{}),Zl=function(e){return e[e.MP_TAG_TYPE_NONE=0]="MP_TAG_TYPE_NONE",e[e.MP_TAG_TYPE_PLAY=1]="MP_TAG_TYPE_PLAY",e[e.MP_TAG_TYPE_DOWNLOAD=3]="MP_TAG_TYPE_DOWNLOAD",e[e.MP_TAG_TYPE_FOLLOW=4]="MP_TAG_TYPE_FOLLOW",e[e.MP_TAG_TYPE_FORM=5]="MP_TAG_TYPE_FORM",e[e.MP_TAG_TYPE_CATEGORY=2]="MP_TAG_TYPE_CATEGORY",e[e.MP_TAG_TYPE_ORDER=6]="MP_TAG_TYPE_ORDER",e[e.MP_TAG_TYPE_POI=7]="MP_TAG_TYPE_POI",e[e.MP_TAG_TYPE_CONVERTION=8]="MP_TAG_TYPE_CONVERTION",e[e.MP_TAG_TYPE_APP_CATEGORY=9]="MP_TAG_TYPE_APP_CATEGORY",e}(Zl||{}),Hl=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.VIDEO=1]="VIDEO",e[e.LIVE=2]="LIVE",e}(Hl||{}),zl=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.ROOM=1]="ROOM",e[e.RESERVATION=2]="RESERVATION",e}(zl||{}),jl=function(e){return e[e.NONE=1]="NONE",e[e.ON_AIR=2]="ON_AIR",e[e.ENDED=3]="ENDED",e[e.IN_PREPARE=4]="IN_PREPARE",e}(jl||{}),Yl=function(e){return e[e.NONE=0]="NONE",e[e.JSONPACK=1]="JSONPACK",e}(Yl||{}),Kl=function(...e){return e.filter(Boolean).join(" ")},Xl=function(e,t){return t.reduce((function(t,n){return n in e&&(t[n]=e[n]),t}),{})},ql=function(e){return e&&"object"==typeof e&&!Array.isArray(e)};function Jl(e,...t){if(!t.length)return e;var n=t.shift();if(ql(e)&&ql(n))for(var i of Object.keys(n))ql(n[i])?(e[i]||Object.assign(e,{[i]:{}}),Jl(e[i],n[i])):Object.assign(e,{[i]:n[i]});return Jl(e,...t)}var Ql=function(e,t,n){for(var i="string"==typeof t?t.split("."):t,r=e,a=0;r&&a<i.length;)r=r[i[a]],a+=1;return a<i.length?null:null!=r?r:n};var eu=function(e,t){for(var{path:n,value:i,condition:r=!0}of t)if(r){var a=i||(n?Ql(e,n):"");if(a)return a}return null},tu=function(e){return e.split("-").map((function(e,t){return 0===t?e:e[0].toUpperCase()+e.slice(1)})).join("")},nu=function(e){return e.replace(/[A-Z]/g,(function(e){return`-${e.toLowerCase()}`}))},iu=(Object.keys,Function.prototype.call.bind(String.prototype.split),Function.prototype.call.bind(String.prototype.indexOf),Function.prototype.call.bind(String.prototype.concat),Function.prototype.call.bind(String.prototype.substring),function(e,t){return null!=e&&e.dataset?["templateId","id","preventMask"].reduce((function(n,i){var r=t?tu(t(i)):i;return e.dataset[r]&&(n[i]=e.dataset[r]),n}),{}):{templateId:"",id:"",preventMask:!1}});function ru(e){for(var t=function(){var e=[],t=[];return au.forEach((function(n){e.push(n.img),t.push(n.text)})),{nameList:t,imgList:e}}(),n=/\[.*?\]/g,i=n.exec(e),r=0,a=[];i;){var o=i[0],s=i.index,l=t.nameList.indexOf(o);s>r&&e.substr(r,s-r).split("").forEach((function(e){a.push({type:"text",props:{value:e}})})),l>-1&&t.imgList[l]?a.push({type:"img",props:{src:`https://wxa.wxs.qq.com/wxad-design/emojis/${t.imgList[l]}.png`}}):o.split("").forEach((function(e){a.push({type:"text",props:{value:e}})})),r=s+o.length,i=n.exec(e)}return e.substr(r).split("").forEach((function(e){a.push({type:"text",props:{value:e}})})),a}var au=[{img:"smiley_0",text:"[微笑]"},{img:"smiley_1",text:"[撇嘴]"},{img:"smiley_2",text:"[色]"},{img:"smiley_3",text:"[发呆]"},{img:"smiley_5",text:"[流泪]"},{img:"smiley_6",text:"[害羞]"},{img:"smiley_8",text:"[睡]"},{img:"smiley_9",text:"[大哭]"},{img:"smiley_10",text:"[尴尬]"},{img:"smiley_11",text:"[发怒]"},{img:"smiley_12",text:"[调皮]"},{img:"smiley_13",text:"[呲牙]"},{img:"smiley_14",text:"[惊讶]"},{img:"smiley_15",text:"[难过]"},{img:"smiley_17",text:"[冷汗]"},{img:"smiley_18",text:"[抓狂]"},{img:"smiley_20",text:"[偷笑]"},{img:"smiley_21",text:"[愉快]"},{img:"smiley_22",text:"[白眼]"},{img:"smiley_23",text:"[傲慢]"},{img:"smiley_26",text:"[惊恐]"},{img:"smiley_27",text:"[流汗]"},{img:"smiley_28",text:"[憨笑]"},{img:"smiley_30",text:"[奋斗]"},{img:"smiley_32",text:"[疑问]"},{img:"smiley_34",text:"[晕]"},{img:"smiley_36",text:"[衰]"},{img:"smiley_38",text:"[敲打]"},{img:"smiley_39",text:"[再见]"},{img:"smiley_40",text:"[擦汗]"},{img:"smiley_42",text:"[鼓掌]"},{img:"smiley_44",text:"[坏笑]"},{img:"smiley_45",text:"[左哼哼]"},{img:"smiley_46",text:"[右哼哼]"},{img:"smiley_47",text:"[哈欠]"},{img:"smiley_49",text:"[委屈]"},{img:"smiley_50",text:"[快哭了]"},{img:"smiley_51",text:"[阴险]"},{img:"smiley_52",text:"[亲亲]"},{img:"smiley_54",text:"[可怜]"},{img:"smiley_56",text:"[西瓜]"},{img:"smiley_60",text:"[咖啡]"},{img:"smiley_62",text:"[猪头]"},{img:"smiley_63",text:"[玫瑰]"},{img:"smiley_65",text:"[嘴唇]"},{img:"smiley_66",text:"[爱心]"},{img:"smiley_68",text:"[蛋糕]"},{img:"smiley_75",text:"[月亮]"},{img:"smiley_76",text:"[太阳]"},{img:"smiley_78",text:"[拥抱]"},{img:"smiley_79",text:"[强]"},{img:"smiley_81",text:"[握手]"},{img:"smiley_82",text:"[胜利]"},{img:"smiley_83",text:"[抱拳]"},{img:"smiley_84",text:"[勾引]"},{img:"smiley_85",text:"[拳头]"},{img:"smiley_89",text:"[OK]"},{img:"smiley_92",text:"[跳跳]"},{img:"smiley_93",text:"[发抖]"},{img:"smiley_94",text:"[怄火]"},{img:"smiley_95",text:"[转圈]"},{img:"2_04",text:"[嘿哈]"},{img:"2_05",text:"[捂脸]"},{img:"2_02",text:"[奸笑]"},{img:"2_06",text:"[机智]"},{img:"2_12",text:"[皱眉]"},{img:"2_11",text:"[耶]"},{img:"2_20",text:"[加油]"},{img:"2_21",text:"[汗]"},{img:"2_22",text:"[天啊]"},{img:"2_23",text:"[社会社会]"},{img:"2_24",text:"[旺柴]"},{img:"2_25",text:"[好的]"},{img:"2_26",text:"[加油加油]"},{img:"2_27",text:"[哇]"},{img:"2_09",text:"[红包]"},{img:"2_16",text:"[發]"},{img:"2_15",text:"[福]"}],ou={type:"EOF"},su=function(e){for(var t=new class{constructor(){this.token=[],this.tokens=[],this.state=null,this.state=this.start}isEOF(e){return e&&"object"==typeof e&&"EOF"===e.type}start(e){return this.isEOF(e)?(this.emmitToken("EOF",ou),this.start):"#"===e?(this.token.push(e),this.inTplFunc):"$"===e?(this.token.push(e),this.inTplStr):"&"===e||"|"===e?(this.token.push(e),this.inLogic):/^[0-9]/.test(e)?(this.token.push(e),this.inNumber):"'"===e?this.inQuoteStr:-1!==[">","<","=","!"].indexOf(e)?(this.token.push(e),this.inCompare):"?"===e?(this.emmitToken("QUESTION",e),this.start):":"===e?(this.emmitToken("COLON",e),this.start):","===e?(this.emmitToken("COMMA",e),this.start):/^\s/.test(e)?this.start:null}inLogic(e){return this.isEOF(e)||"&"!==e&&"|"!==e?this.start(e):(this.token.push(e),this.emmitToken("LOGIC",this.token.join("")),this.token=[],this.start)}inNumber(e){return!this.isEOF(e)&&/^[0-9.]/.test(e)?(this.token.push(e),this.inNumber):(this.emmitToken("NUMBER",this.token.join("")),this.token=[],this.start(e))}inTplFunc(e){var t=this;return this.isEOF(e)?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),")"===e&&function(){for(var e=0,n=0,i=0,r=t.token.length;i<r;i++){var a=t.token[i];"("===a?e+=1:")"===a&&(n+=1)}return e===n}()?(this.emmitToken("TPLFUNC",this.token.join("")),this.token=[],this.start):this.inTplFunc)}inTplStr(e){return!this.isEOF(e)&&/^[a-zA-Z0-9.-_$]/.test(e)?(this.token.push(e),this.inTplStr):(this.emmitToken("TPLSTR",this.token.join("")),this.token=[],this.start(e))}inCompare(e){return this.isEOF(e)||"="!==e?(this.emmitToken("COMPARE",this.token.join("")),this.token=[],this.start(e)):(this.token.push(e),this.inCompare)}inQuoteStr(e){return this.isEOF(e)||"'"!==e?(this.token.push(e),this.inQuoteStr):(this.emmitToken("STR",this.token.join("")),this.token=[],this.start)}emmitToken(e,t){this.tokens.push({type:e,value:t})}push(e){this.state&&(this.state=this.state(e))}end(){this.state&&this.state(ou)}},n=0,i=e.length;n<i;){var r=e[n];n+=1,t.push(r)}return t.end(),t.tokens},lu=function(e){return"ROOT"===e.type?{type:"ROOT",maxChildren:0,children:[],priority:-9999}:"TPLFUNC"===e.type?{type:"TPLFUNC",children:[e.value],maxChildren:1,priority:40}:"TPLSTR"===e.type?{type:"TPLSTR",children:[e.value],maxChildren:1,priority:40}:"NUMBER"===e.type?{type:"NUMBER",children:[e.value],maxChildren:1,priority:40}:"STR"===e.type?{type:"STR",children:[e.value],maxChildren:1,priority:40}:"COMPARE"===e.type?{type:"COMPARE",operator:e.value,children:[],maxChildren:2,priority:30,isSign:!0}:"LOGIC"===e.type?{type:"LOGIC",operator:e.value,children:[],maxChildren:2,priority:20,isSign:!0}:"QUESTION"===e.type?{type:"QUESTION",operator:e.value,children:[],maxChildren:3,priority:10,isSign:!0}:"COLON"===e.type?{type:"COLON",operator:e.value,children:[],maxChildren:0,priority:10,isSign:!0}:"EOF"===e.type?{type:"ROOT_END",children:[],maxChildren:0,priority:-9999}:null},uu=function(e){return 0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length>=e.maxChildren)},cu=function(e){return 0!==e.maxChildren&&((null==e?void 0:e.children)&&e.children.length<e.maxChildren)},du=function(e){var t;t="string"==typeof e?su(e):e;for(var n=[lu({type:"ROOT"})],i=function(e){for(var t=e.priority;uu(n[n.length-1])&&cu(n[n.length-2])&&t<=n[n.length-1].priority&&t<=n[n.length-2].priority;){var{children:i}=n[n.length-2];null==i||i.push(n.pop())}},r=function(e){var t=lu(e),r=n[n.length-1];if("STR"===t.type||"TPLSTR"===t.type||"NUMBER"===t.type||"TPLFUNC"===t.type){if(uu(r))return;cu(r)?r.children.push(t):n.push(t)}else"COMPARE"===t.type||"LOGIC"===t.type||"QUESTION"===t.type?uu(r)&&(t.priority>r.priority?function(e,t){var i=t.children.pop();i&&e.children.push(i),n.push(e)}(t,r):(i(t),function(e){var t=n.pop();t&&e.children.push(t),n.push(e)}(t))):"ROOT_END"===t.type&&(i(t),n.push(t))},a=0,o=t.length;a<o;a++)r(t[a]);return n},pu=function({type:e,children:t,operator:n},i,r={}){var a=function(e){return pu(t[e],i,r)};if("COMPARE"===e){var o=n&&{">":function(){return a(0)>a(1)},"<":function(){return a(0)<a(1)},">=":function(){return a(0)>=a(1)},"<=":function(){return a(0)<=a(1)},"==":function(){return a(0)==a(1)},"!=":function(){return a(0)!=a(1)},"===":function(){return a(0)===a(1)}}[n];return o?o():null}if("LOGIC"===e){var s=n&&{"&&":function(){return a(0)&&a(1)},"||":function(){return a(0)||a(1)}}[n];return s?s():null}var l={NUMBER:function(){return Number(t[0])},STR:function(){return t[0]},TPLSTR:function(){return function(e,t){var n=e.split("."),i="";return n.forEach((function(e){""===i?i=t[e]:("string"==typeof i&&(i=JSON.parse(i)),i=i[e])})),i}(t[0],i)},QUESTION:function(){return a(0)?a(1):a(2)},TPLFUNC:function(){return function(e,t,n){var i=e.indexOf("("),r=e.substring(0,i),a=e.substring(i+1,e.length-1);if(!n[r])return null;for(var o=su(a),s=[],l=[],u=0,c=o.length;u<c;u++){var d=o[u];"COMMA"===d.type||"EOF"===d.type?(s.push(l),l=[]):l.push(d)}var p=[];return s.forEach((function(e){p.push(fu(e,t,n))})),n[r].apply(null,p)}(t[0],i,r)}}[e]||null;return l?l():null},hu=function(e){return{"#scope":function(e){return e},"#no":function(e){return!e},"#bool":function(e){return!!e},"#add":function(e,t){return e+t},"#sub":function(e,t){return e-t},"#multi":function(e,t){return e*t},"#division":function(e,t){return e/t},"#negative":function(e){return-e},"#mod":function(e,t){return e%t},"#toNumber":function(e){return Number(e)},"#toArray":function(...e){return e},"#toString":function(e){return String(e)},"#toRegExp":function(e){return new RegExp(e)},"#test":function(e,t){return new RegExp(e).test(t)},"#ceil":function(e){return Math.ceil(e)},"#floor":function(e){return Math.floor(e)},"#round":function(e){return Math.round(e)},"#substring":function(e,t,n){return e.substring(t,n)},"#like":function(e,t){return-1!==e.indexOf(t)},"#toFixed":function(e,t){return parseFloat(e).toFixed(t)},"#replace":function(e,t,n){return e.replace(t,n)},"#replaceAll":function(e,t,n){return e.replaceAll(t,n)},"#toLowerCase":function(e){return e.toLowerCase()},"#len":function(e){return e.length},"#hansLen":function(e){var t=0;for(var n of e)t+=/[\u4e00-\u9fa5]/.test(n)?2:1;return t/2},"#parse":function(e){try{return JSON.parse(e)}catch(e){return{}}},"#value":function(e,t){return e[t]||{}},"#truncate":function(e,t){var n="",i=0;for(var r of e){if((i+=/[\u4e00-\u9fa5]/.test(r)?2:1)>t){n+="...";break}n+=r}return n},"#concat":function(...e){return e.join("")},"#split":function(e,t,n){return null==e?void 0:e.split(t,n)},"#join":function(e,t){return null==e?void 0:e.join(t)},"#abbrNum":function(e){return e<1e4?e.toString():`${(e/1e4).toFixed(1)}万`},"#trimDigit":function(e){var t=e.toString().split(".");if(t.length<2)return e;for(var n=t.slice(-1)[0];"0"===n[n.length-1];)n=n.slice(0,-1);return t.slice(0,-1).concat(n?[n]:[]).join(".")},"#append":function(e,t,n=!1){return n&&e.indexOf(t)>-1||e.push(t),e},"#remove":function(e,t){return e.filter((function(e){return e!==t}))},"#include":function(e,t){return e.indexOf(t)>-1},"#indexedArray":function(e){if(e<=0)return[];for(var t=[],n=0;n<e;n+=1)t.push(n);return t},"#get":Ql,"#slice":function(e,t,n){return e.slice(t,n)},"#map":function(t,n){return t.map((function(t){return e.run(n,{$item:t})}))},"#reduce":function(t,n,i){return t.reduce((function(t,i){return e.run(n,{$item1:t,$item2:i})}),i)},"#rand":function(){return Math.random()},"#compareVersion":function(e,t){return function(e,t){if("string"!=typeof e||"string"!=typeof t)return 0;for(var n=e.split("."),i=t.split("."),r=Math.max(n.length,i.length);n.length<r;)n.push("0");for(;i.length<r;)i.push("0");for(var a=0;a<r;a++){var o=parseInt(n[a],10),s=parseInt(i[a],10);if(o>s)return 1;if(o<s)return-1}return 0}(e,t)},"#fn":function(e,...t){return e(...t)},"#hexToRgb":function(e,t){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return`${t}${t}${n}${n}${i}${i}`}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?Number.isNaN(t)?`rgb(${parseInt(n[1],16)}, ${parseInt(n[2],16)}, ${parseInt(n[3],16)})`:`rgba(${parseInt(n[1],16)}, ${parseInt(n[2],16)}, ${parseInt(n[3],16)}, ${t})`:""},"#parseInt":function(e,t=10){return parseInt(e,t)}}},fu=function(e,t,n){try{var i=du(e);return pu(i[1],t,gs(gs({},hu({run:function(e,i={}){return fu(e,gs(gs({},t),i),n)}})),n))}catch(i){}return null},_u=ys(xs());_u.default;function vu(e){var t=[19,12].includes(e.product_type),n=[51].includes(e.product_type),i=972===e.crt_size,r=[30,25].includes(e.product_type),a=[46].includes(e.product_type),o=[559,560,721].includes(e.crt_size);return eu(e,[{path:["extBackComm","head_img"]},{path:["weapp_info","head_img"],condition:i},{path:["crtInfo","0","wxgame_video_card","thumb"],condition:o},{path:["appInfo","iconUrl"],condition:t},{path:["app","icon"],condition:!t},{path:["app_info","icon_url"],condition:t},{path:["crtInfo","0","card_info","thumb"],condition:n},{path:["crtInfo","card_info","thumb"],condition:n},{path:["game_info","head_img"],condition:a},{path:["biz_info","head_img"],condition:!t},{path:["crtInfo","0","card_info","thumb"]},{path:["crtInfo","card_info","thumb"]},{value:"https://wxa.wxs.qq.com/images/wxapp/dianshang.png",condition:r},{value:"https://wxa.wxs.qq.com/images/wxapp/pinpai.png"}])}function gu(e){var t=[19,12].includes(null==e?void 0:e.product_type),n=[51].includes(null==e?void 0:e.product_type),i=972===e.crt_size,r=[29,31].includes(null==e?void 0:e.product_type),a=[30,25].includes(null==e?void 0:e.product_type),o=[46].includes(null==e?void 0:e.product_type),s=[559,560,721,929].includes(null==e?void 0:e.crt_size);return eu(e,[{path:["extBackComm","nick_name"]},{path:["weapp_info","nick_name"],condition:i},{path:["crtInfo","0","wxgame_video_card","title"],condition:s},{path:["appInfo","appName"],condition:t},{path:["app","nickname"],condition:!t},{path:["game_info","nick_name"],condition:o},{path:["app_info","app_name"],condition:t},{path:["crtInfo","0","card_info","title"],condition:n},{path:["crtInfo","card_info","title"],condition:n},{path:["biz_info","nick_name"]},{path:["crtInfo","0","card_info","title"]},{path:["crtInfo","card_info","title"]},{value:"品牌推广",condition:r},{value:"电商推广",condition:a},{value:"活动推广"}])}var mu,Eu,yu=ys(As()),Tu=ys(As()),bu=ys(As()),Cu=function(e){return e.HIDEAD="hideAd",e.SETSTYLE="setStyle",e.REPORTIDKEY="reportIdKey",e.TRIGGEREVENT="triggerEvent",e.SETEXPRVARS="setExprVar",e.BATCHSETEXPRVARS="batchSetExprVar",e.VIDEOTOGGLEMUTED="videoToggleMuted",e.VIDEOPLAY="videoPlay",e.VIDEOPAUSE="videoPause",e.VIDEOSTOP="videoStop",e.BUTTONSETTEXT="buttonSetText",e.RELOADAD="reloadAd",e.REPORTMMDATA="reportMMData",e.ENDPAGEHIDE="endPageHide",e.IMAGESETSRC="imageSetSrc",e.TEXTSETTEXT="textSetText",e.ANIMATE="animate",e.TRIGGERBTNCLICK="triggerBtnClick",e.CHANGEMULTISHOW="changeMultiShow",e.LANDAD="landAd",e.EMITCUSTOMMESSAGE="emitCustomMessage",e.SPLASHSKIPAD="splashSkipAd",e.ADDCHILDREN="addChildren",e.REPORTADMONITORDATA="reportAdMonitorData",e.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",e.REPORTENDPAGE="reportEndPage",e.SHOWANIMATEDONE="showAnimateDone",e.HIDEANIMATEDONE="hideAnimateDone",e.FORCEREBUILD="forceRebuild",e.CHANGEIFRAMESIZE="changeIframeSize",e.CHANGEADAREASTYLE="changeAdAreaStyle",e.TRIGGERCOMPONENTEVENT="triggerComponentEvent",e.ADDCLASS="addClass",e.REMOVECLASS="removeClass",e.SHOWPOPUP="showPopup",e.HIDEPOPUP="hidePopup",e.GETBOUNDINGCLIENTRECT="getBoundingClientRect",e.CHANGECOUNTDOWNVALUE="changeCountdownValue",e}(Cu||{}),Su=function(e){return e.TAP="tap",e.TOUCHSTART="touchstart",e.TOUCHEND="touchend",e.TOUCHCANCEL="touchcancel",e.LONGTAP="longTap",e.ANIMATIONEND="animationend",e.HOSTMESSAGE="hostMessage",e.TEMPLATEWILLUPDATE="templateWillUpdate",e}(Su||{}),Au=function(e){return e.APPENTERFOREGROUND="appEnterForeground",e.APPENTERBACKGROUND="appEnterBackground",e.CONTAINERTAP="containerTap",e.ADBUTTONTAP="adButtonTap",e.VIEWABLEEXPOSURE="viewableExposure",e.EXPOSURE="exposure",e.SHOWEDGE="showEdge",e.HIDEEDGE="hideEdge",e.SHOWHALF="showhalf",e.HIDEHALF="hidehalf",e.SHOWANIMATE="showAnimate",e.HIDEANIMATE="hideAnimate",e.SPLASHADFIRSTRENDER="splashAdFirstRender",e.SPLASHADMENUVIEW="splashAdMenuView",e.INITIALTEMPLATE="initialTemplate",e}(Au||{}),Iu=function(e){return e.BUTTONTAP="buttonTap",e}(Iu||{}),Pu=function(e){return e.RELATIONFETCHED="relationFetched",e.RELATIONTEXTCHANGED="relationTextChanged",e}(Pu||{}),wu=function(e){return e.VIDEOENDED="videoEnded",e.VIDEOPAUSE="videoPause",e.VIDEOPLAY="videoPlay",e.VIDEOTIMEUPDATE="videoTimeUpdate",e.MUTEDCHANGE="mutedChange",e.VIDEOLOADEDMETADATA="videoLoadedMetaData",e}(wu||{}),Ru=function(e){return e.FEEDBACKBTNTAP="feedbackBtnTap",e.TAGTAP="tagTap",e.DISLIKETAP="dislikeTap",e.DISLIKEREASONTAP="dislikeReasonTap",e}(Ru||{}),xu=function(e){return e.REPLAY="replay",e.SHOW="show",e.HIDE="hide",e.VIDEODISLIKE="videodislike",e}(xu||{}),Ou=function(e){return e.SHOWCHANGE="showChange",e.UNITTAP="unitTap",e}(Ou||{}),Nu=function(e){return e.REWARDEDVIDEOPLAY="rewardedVideoPlay",e.REWARDEDVIDEOEND="rewardedVideoEnd",e.REWARDEDVIDEOTIMEUPDATE="rewardedVideoTimeUpdate",e.REWARDEDVIDEOSHOWFLOORINGPAGE="rewardedVideoShowFlooringPage",e.REWARDEDVIDEOHANDLEDYNAMICDONE="rewardedVideoHandleDynamicDone",e}(Nu||{}),Du=function(e){return e.IMGERROR="imgError",e.IMGLOAD="imgLoad",e}(Du||{}),ku=function(e){return e.IMGERROR="imgError",e.IMGLOAD="imgLoad",e}(ku||{}),Lu=function(e){return e.FEEDBACKBTNTAP="feedbackBtnTap",e.FEEDBACKREPORT="feedbackReport",e.FEEDBACKSINGLETAGTAP="feedbackSingleTagTap",e.SHOWFEEDBACK="showFeedback",e.FEEDBACKFAVTAP="feedbackFavTap",e.CONTAINERTAP="containerTap",e.CHECKEXPOSURE="checkExposure",e.APPENTERBACKGROUND="appEnterBackground",e.APPENTERFOREGROUND="appEnterForeground",e.CHANGEIFRAMESIZE="changeIframeSize",e.CHANGEADAREASTYLE="changeAdAreaStyle",e.STOPPROPAGATIONTAP="stopPropagationTap",e.BTNTAP="btnTap",e.REPORTVIDEOPLAY="reportVideoPlay",e.ADVIDEOPAUSE="adVideoPause",e.ADVIDEOPLAY="adVideoPlay",e.ADVIDEOMUTECHANGE="adVideoMuteChange",e.ADVIDEOLOADFAILED="adVideoLoadFailed",e.ADVIDEOLOADEDMETADATA="adVideoLoadedMetaData",e.ADVIDEORESUMEBTNCLICK="adVideoResumeBtnClick",e.ADVIDEOTIMEUPDATE="adVideoTimeUpdate",e.ADVIDEOENDED="adVideoEnded",e.FETCHRELATIONTEXT="fetchRelationText",e.RELATIONTEXTCHANGED="relationTextChanged",e.ENDPAGEINIT="endPageInit",e.ENDPAGEHIDE="endPageHide",e.ENDPAGESHOW="endPageShow",e.SHOWENDPAGE="showEndPage",e.REPORTENDPAGE="reportEndPage",e.IMGLOAD="imgLoad",e.MULTIMGLOAD="multImgLoad",e.IMGERROR="imgError",e.HOSTTAGMOUNTED="hostTagMounted",e.ITEMTAP="itemTap",e.HIDEAD="hideAd",e.REPORTTIMEPOINT="reportTimePoint",e.FEEDBACKHIDE="feedbackHide",e.PREDOWNLOADMATERIAL="predownloadMaterial",e.TRIGGEREVENT="triggerEvent",e.LANDAD="landAd",e.CHANGEMULTISHOW="changeMultiShow",e.REPORTMMDATA="reportMMData",e.REPORTADMONITORDATA="reportAdMonitorData",e.REWARDEDVIDEODYNAMIC="rewardedVideoDynamic",e.TEMPLATEMESSAGE="templateMessage",e.REPORTIDKEY="reportIdKey",e.SHOWPOPUP="showPopup",e.HIDEPOPUP="hidePopup",e.CHANGEADBTNTEXT="changedAdBtnText",e.CHANGERELATIONTEXT="changeRelationText",e.ADSHOWEDGE="adShowEdge",e.ADHIDEEDGE="adHideEdge",e.ADSHOWHALF="adShowHalf",e.ADHIDEHALF="adHideHalf",e.SETSTYLE="setStyle",e.ORIENTATIONCHANGE="orientationChange",e.SETDARKMODE="setDarkMode",e.OPERATEADVIDEO="operateAdVideo",e.CHANGECOUNTDOWN="changeCountdown",e.SPLASHSKIPAD="splashSkipAd",e.EXPOSURE="exposure",e.VIEWABLEEXPOSURE="viewableExposure",e.HOSTMESSAGE="hostMessage",e.UPDATECHANNELSTATUS="updateChannelStatus",e.PREDOWNLOADMATERIALDONE="predownloadMaterialDone",e.CHANGEVIDEOMUTE="changeVideoMute",e}(Lu||{}),Mu=function(e){return e[e.COMMON=1]="COMMON",e[e.FULLSCREEN=2]="FULLSCREEN",e}(Mu||{}),Bu=function(e){return e[e.COMMON=1]="COMMON",e[e.ROW=2]="ROW",e[e.COLUMN=3]="COLUMN",e[e.PROPORTION=4]="PROPORTION",e}(Bu||{}),Fu=function(e){return e[e.COMMON=1]="COMMON",e[e.ICON=2]="ICON",e[e.AD=3]="AD",e}(Fu||{}),Vu=function(e){return e[e.COMMON=1]="COMMON",e[e.AD=2]="AD",e}(Vu||{}),Wu=function(e){return e[e.COMMON=1]="COMMON",e[e.NICKNAME=2]="NICKNAME",e[e.DESC=3]="DESC",e[e.RELATION=4]="RELATION",e}(Wu||{}),Uu=function(e){return e[e.COMMON=1]="COMMON",e[e.LOGICCOMMON=2]="LOGICCOMMON",e}(Uu||{}),$u=function(e){return e[e.COMMON=1]="COMMON",e[e.AD=2]="AD",e}($u||{}),Gu=function(e){return e[e.COMMON=1]="COMMON",e[e.SIMPLE=2]="SIMPLE",e[e.SINGLETAG=3]="SINGLETAG",e}(Gu||{}),Zu=function(e){return e[e.COMMON=1]="COMMON",e}(Zu||{}),Hu=function(e){return e[e.COMMON=1]="COMMON",e}(Hu||{}),zu=function(e){return e[e.NONE=0]="NONE",e[e.COMMON=1]="COMMON",e[e.ADS=2]="ADS",e}(zu||{}),ju=function(e){return e[e.NONE=0]="NONE",e[e.ROWLOOP=1]="ROWLOOP",e[e.COLUMNLOOP=2]="COLUMNLOOP",e}(ju||{}),Yu=function(e){return e[e.NONE=0]="NONE",e[e.COMMOM=1]="COMMOM",e}(Yu||{}),Ku=function(e){return e[e.NONE=0]="NONE",e[e.COMMON=1]="COMMON",e}(Ku||{}),Xu=function(e){return e[e.NONE=0]="NONE",e[e.COMMON=1]="COMMON",e}(Xu||{}),qu=function(e){return e[e.NONE=0]="NONE",e[e.COMMOM=1]="COMMOM",e}(qu||{}),Ju=function(e){return e[e.NONE=0]="NONE",e[e.COMMOM=1]="COMMOM",e}(Ju||{}),Qu=function(e){return e[e.NONE=0]="NONE",e[e.COMMON=1]="COMMON",e}(Qu||{}),ec=function(e){return e.BASE="base",e.COMPONENT="component",e.HOC="hoc",e}(ec||{}),tc=["left","top","right","bottom","width","height","maxWidth","maxHeight","minWidth","minHeight","margin","marginLeft","marginRight","marginTop","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","borderWidth","fontSize","lineHeight","borderRadius"],nc=function(e){return e.INNERSTYLE="innerStyle",e.STYLE="style",e}(nc||{}),ic={},rc=class extends bu.Component{constructor(e,t){var n;super(e),n=this,this.style={},this.darkModeStyle={},this.templateStyle={},this.dynamicStyle={},this.adCustomListeners=new Set,this.mounted=!1,this.classListMap={},this.handleStyleType=["innerStyle"],this.componentBehavior="component",this.state={},this.handleAdCustomAction=function(e){var t,i;e.targetidReg?null!=(i=(t=e.targetidReg).test)&&i.call(t,n.id)&&n.doCommonAction(e):e.targetid&&e.targetid===n.id&&n.doCommonAction(e)},this.bindStyle=function(e){[n.templateStyle,n.dynamicStyle].forEach((function(t){e.forEach((function({originId:e,originKey:n,destRules:i}){t[e]||(t[e]={}),Object.defineProperty(t[e],n,{configurable:!0,enumerable:!0,get:function(){return t[e][`_${n}`]},set:function(r){r!==t[e][`_${n}`]&&(t[e][`_${n}`]=r,i.forEach((function(i){var a,{destClassName:o,handleFn:s}=i,{destKey:l}=i;l||(l=n);var u=s?s(r,t[e]):r;t[a=`.bind-${o}`]||(t[a]={}),t[`.bind-${o}`][l]=u})))}})}))}))},this.adCustomId=e.adCustomId,this.adData=e.adData,this.adDatas=e.adDatas,this.emitter=e.emitter,this.idPrefix=e.idPrefix||"",this.forType=e.forType||0,this.forItem=e.forItem,this.forIndex=e.forIndex,this.hostContext=e.hostContext,this.renderContext=e.renderContext,null!=t&&t.componentBehavior&&(this.componentBehavior=t.componentBehavior);var i=e.template||{};this.template=i,this.id=`${this.adCustomId}-${this.idPrefix}${this.template.id}`;var r=i.options||{};this.options=r,this.data=r.data||{},this.events=r.events||{},this.lifecycle=r.lifecycle||{},this.innerStyles=r.innerStyles||{},this.innerClassStyles=r.innerClassStyles||{},this.animations=r.animations||{},this.bubbleEvent=void 0===r.bubbleEvent||r.bubbleEvent,this.classStyles=e.classStyles||{},this.classListMap=this.getClassList(r.classList||{}),this.classNames=this.getDataValue("_classNames")||{};var a=this.getDataValue("_bubbleEvent");void 0!==a&&(this.bubbleEvent=a),this.bindCommonEvents()}componentDidMount(){this.mounted=!0,["component"].includes(this.componentBehavior)&&this.emitComponentLifeCycle("onInit")}componentWillUnmount(){["component"].includes(this.componentBehavior)&&this.emitComponentLifeCycle("onDestroy"),this.emitter.off("adCustomAction",this.handleAdCustomAction),this.removeAdCustomListener()}bindCommonEvents(){var e=this;["component","base"].includes(this.componentBehavior)&&this.emitter.on("adCustomAction",this.handleAdCustomAction),"component"===this.componentBehavior&&this.addAdCustomListener((function(t){if("setStyle"===t.action){var{id:n,targetid:i,style:r}=t.value||{};i===e.id&&e.setStyle(n,r,{isDynamic:!0,force:!0})}else"hostMessage"===t.action&&e.emitComponentEvent("hostMessage",t.value)}))}getCommonSubComponentProps(){return{template:this.template,adCustomId:this.adCustomId,emitter:this.emitter,adData:this.adData,adDatas:this.adDatas,systemInfo:this.props.systemInfo,isMulti:this.props.isMulti,darkMode:this.props.darkMode,hostContext:this.props.hostContext,renderContext:this.renderContext,idPrefix:this.idPrefix||"",forType:this.forType,forIndex:this.forIndex,forItem:this.forItem,extraScope:this.props.extraScope,innerFunctions:this.props.innerFunctions,classStyles:this.classStyles}}getDataValue(e,t,n){var i=t||this.data,r=i[`${e}Expr`];return r?this.run(r,null==n?void 0:n.args):i[e]}getDataValueWithDefault(e,t,n,i){var r=n?this.getDataValue(e,n,i):this.getDataValue(e);return void 0===r?t:r}getAdData(){return 2===this.forType&&null!=this.forIndex?this.getAdDatas()[this.forIndex]||{}:this.adData}getAdDatas(){return this.adDatas||[]}addAdCustomListener(e){var t=this,n=function(n){n.adCustomId===t.adCustomId&&(null==e||e(n))};this.adCustomListeners.add(n),this.emitter.on("adCustomEvent",n)}removeAdCustomListener(){for(var e of this.adCustomListeners)this.emitter.off("adCustomEvent",e),this.adCustomListeners.delete(e)}emitAdCustomEvent(e,t){this.emitter.emit("adCustomEvent",{adCustomId:this.adCustomId,action:e,value:t})}emitComponentEvent(e,t){var n=this.events[e];null!=n&&n.length&&this.doActions(n,t||{})}emitComponentLifeCycle(e,t){var n=this.lifecycle[e];null!=n&&n.length&&this.doActions(n,t)}doActions(e=[],t={}){for(var n of e)if(n.force&&!n.targetid)this.doCommonAction({args:t,payload:n});else{var i=this.getDataValue("targetid",n),r=this.getDataValue("targetidReg",n),a=null;try{r&&(a=new RegExp(r))}catch(e){a=null}this.emitter.emit("adCustomAction",{fromid:this.id,targetid:i?`${this.adCustomId}-${i}`:this.id,targetidReg:a,args:t,payload:n})}}doCommonAction(e){var t=this,{payload:n,args:i}=e,{delay:r=null,expr:a}=n,o=function(){var r,o,s;if(!a||t.run(a,i)){if("base"===t.componentBehavior)return void("doAction"in t&&"function"==typeof t.doAction&&t.doAction(e));switch(n.action){case"setStyle":var{value:l}=n;if(l.styleExpr)for(var u of Object.keys(l.styleExpr))l.style[u]=t.run(l.styleExpr[u],i);var c=null==(r=l.force)||r;l.forceExpr&&(c=null==(o=t.run(l.forceExpr,i))||o),t.setStyle(l.id,l.style,{isDynamic:!0,force:c});break;case"setExprVar":var{key:d}=n.value,p=t.getDataValue("value",n.value,{args:i});t.getExprInnerVars()[d]=p;break;case"reportIdKey":var{id:h,key:f}=n.value;t.emitAdCustomEvent("reportIdKey",{id:h,key:f});break;case"batchSetExprVar":var{list:_}=n.value;for(var v of _){var{key:g}=v,m=t.getDataValue("value",v);t.getExprInnerVars()[g]=m}break;case"triggerEvent":var{detail:E={},eventName:y}=n.value;try{if(null!=i&&i.event&&(E.rawDetail=JSON.stringify(i.event)),n.value.detailExpr)for(var T of Object.keys(n.value.detailExpr)){var b=n.value.detailExpr[T];E[T]=t.run(b,i)}}catch(u){}t.emitAdCustomEvent("triggerEvent",{eventName:y,detail:E});break;case"reportMMData":var{data:C,dataExpr:S,id:A}=n.value;if(S)for(var I of Object.keys(S)){var P=S[I];C[I]=t.run(P,i)}t.emitAdCustomEvent("reportMMData",{id:A,data:C});break;case"animate":var{id:w,animation:R}=n.value;t.doAnimation({id:w,animationName:R});break;case"triggerBtnClick":var x=null==i?void 0:i.event;x&&t.emitAdCustomEvent("btnTap",{event:x});break;case"landAd":var O=null==i?void 0:i.event;O&&t.emitAdCustomEvent("landAd",{index:t.getDataValueWithDefault("index",0,n.value,{args:i}),event:O});break;case"splashSkipAd":var N=null==i?void 0:i.event;N&&t.emitAdCustomEvent("splashSkipAd",{event:N});break;case"reportAdMonitorData":var{id:D,key:k,extInfo:L}=n.value;t.emitAdCustomEvent("reportAdMonitorData",{id:D,key:k,extInfo:t.getObjExpr(L)});break;case"rewardedVideoDynamic":var{list:M}=n.value;t.emitAdCustomEvent("rewardedVideoDynamic",{list:M});break;case"emitCustomMessage":var{message:B,args:F}=n.value;B&&t.emitAdCustomEvent("templateMessage",{message:B,args:t.getObjExpr(F),actionArgs:i});break;case"reportEndPage":var{data:V}=n.value;t.emitAdCustomEvent("reportEndPage",{data:V});break;case"changeIframeSize":"value"in n?t.emitAdCustomEvent("changeIframeSize",{data:null==(s=n.value)?void 0:s.data}):t.emitAdCustomEvent("changeIframeSize");break;case"changeAdAreaStyle":var{data:W}=n.value;if(n.value.dataExpr)for(var U of Object.keys(n.value.dataExpr)){var $=n.value.dataExpr[U];W[U]=t.run($,i)}t.emitAdCustomEvent("changeAdAreaStyle",{data:W});break;case"triggerComponentEvent":var{eventName:G,args:Z}=n.value;t.emitComponentEvent(G,gs(gs({},i),Z));break;case"addClass":var{id:H,className:z}=n.value;Object.keys(t.classListMap).includes(H)?t.classListMap[H].includes(z)||(t.classListMap[H]=t.classListMap[H].concat(z),t.forceUpdate()):(t.classListMap[H]=[z],t.forceUpdate());break;case"removeClass":var{id:j,className:Y}=n.value;if(Object.keys(t.classListMap).includes(j)){var K=t.classListMap[j];if(K.includes(Y)){var X=K.indexOf(Y);K.splice(X,1),t.classListMap[j]=K,t.forceUpdate()}}break;case"getBoundingClientRect":var{id:q,eventName:J}=n.value,{getBoundingClientRect:Q}=t.hostContext,ee=t.getElementById(q),te=function(e){t.emitComponentEvent(J,ms(gs({},i),{rect:e}))};if(ee){var ne=Q(ee);ne instanceof Promise?ne.then(te):te(ne)}break;default:"doAction"in t&&"function"==typeof t.doAction&&t.doAction(e)}}};null!=r?setTimeout(o,r):o()}getObjExpr(e){if(!e||"object"!=typeof e)return e;var t={};for(var n of Object.keys(e)){var i="Expr";if(n.indexOf(i)>-1&&n.indexOf(i)===n.length-4){var r=n.slice(0,-4);t[r]=this.getDataValue(r,e)}else t[n]=e[n]}return t}run(e,t){var n=gs(gs({},this.getInnerFunction()),this.props.innerFunctions||{}),i=gs(gs({},this.getScope()),n);return fu(e,t?gs({$args:t},i):i,n)}getElementById(e){var t,{renderContext:{hostContainer:n,getRootElement:i,isFlattenLayer:r},hostContext:{getPropertyOfElement:a}}=this,o=i(this);if(!o)return null;if("$$"===e||!e&&r())return o;if(!e){var s=null!=(t=a(o,"parent"))?t:null;return s===n?o:s}return this.travelAndFindElementById(e,o)}isTextNode(e){return!1}travelAndFindElementById(e,t){var{getPropertyOfElement:n,getDatasetPrefix:i}=this.hostContext;if(this.isTextNode(t))return null;var r=iu(t,i);if(r.templateId!==this.id)return null;if(r.id===e)return t;var a=n(t,"children");for(var o of a){var s=this.travelAndFindElementById(e,o);if(s)return s}return null}travelAndFindElementByIdDeeply(e,t,n){if(!n||this.isTextNode(n))return null;var{getPropertyOfElement:i,getDatasetPrefix:r}=this.hostContext,a=iu(n,r);if(`${this.adCustomId}-${this.idPrefix}${e}`===a.templateId&&(!t||a.id===t))return n;var o=i(n,"children");for(var s of o){var l=this.travelAndFindElementByIdDeeply(e,t,s);if(l)return l}return null}doAnimation(e){return bs(this,arguments,(function*({id:e,emitEvent:t=!0,animationName:n,animation:i}){var{animate:r}=this.hostContext,a=!i&&n?this.animations[n]:i,o=this.getElementById(e);if(a&&o){var{keys:s,duration:l,easing:u}=a;if(!(((null==s?void 0:s.length)||0)<2)){var c=0;for(var d of Object.keys(s)){var p=s[+d],h=this.getDataValue("offset",p),f=this.getDataValue("opacity",p),_=this.getDataValue("left",p),v=this.getDataValue("top",p),g=this.getDataValue("rotate",p),m=this.getDataValue("scaleX",p),E=this.getDataValue("scaleY",p),y=this.getDataValue("translateX",p),T=this.getDataValue("translateY",p),b=l*h,C={opacity:f,left:_,top:v,rotate:g,scaleWidth:m,scaleHeight:E,background:this.getDataValue("background",p),color:this.getDataValue("color",p),width:this.getDataValue("width",p),height:this.getDataValue("height",p),translateX:y,translateY:T};if(b<=0)this.setStyle(e,C,{isDynamic:!0,force:!0});else{var S=ms(gs({},C),{easing:u,duration:b-c});S.left=C.left,S.top=C.top,yield null==r?void 0:r(o,S),c=b,this.setStyle(e,C,{isDynamic:!0,force:!0})}}n&&t&&(yield this.emitComponentEvent("animationend",{animation:n}))}}}))}isDarkMode(){var e;return null!=(e=this.state.darkMode)?e:this.props.darkMode}updateInnerStyle(){if(this.innerStyles)for(var e of Object.keys(this.innerStyles)){var t=this.innerStyles[e];if(!t.expr||this.run(t.expr)){var n=gs({},t.style||{});this.isDarkMode()&&Object.assign(n,t.darkModeStyle||{}),this.updateStyle(n,e)}}}updateInnerClassStyle(){var e;if(this.innerClassStyles)for(var t of Object.keys(this.innerClassStyles)){var n=this.innerClassStyles[t];if(!n.expr||this.run(n.expr)){var i=gs({},n.style||{});(null!=(e=this.state.darkMode)?e:this.props.darkMode)&&Object.assign(i,n.darkModeStyle||{}),this.updateStyle(i,`.${t}`)}}}updateOuterStyle(){var e=gs({},this.template.style||{});this.isDarkMode()&&Object.assign(e,this.template.darkModeStyle||{}),this.updateStyle(e,"container")}updateClassStyle(){var{classStyles:e}=this;if(e)for(var t of Object.keys(e)){var n=e[t];if(!n.expr||this.run(n.expr)){var i=gs({},n.style||{});this.isDarkMode()&&Object.assign(i,n.darkModeStyle||{}),this.updateStyle(i,`.${t}`)}}}getClassList(e){var t=this,n={};return Object.keys(e).forEach((function(i){var r=e[i];Object.keys(r).forEach((function(e){n[i]=e.includes("Expr")?t.run(r.listExpr):r.list}))})),n}setStyle(e,t,{isDynamic:n,force:i}={isDynamic:!1,force:!1}){var r=n?this.dynamicStyle:this.templateStyle,a=this.getDataValue("_useApx")?this.convertToApxRatio(t):t,{getRootElement:o}=this.renderContext,s=e,l=!1;if("$$"===s){var u=o(this);if(!u)return;s=iu(u,this.hostContext.getDatasetPrefix).id}if(a){for(var c of Object.keys(a))a[c]=this.convertApxStyle(a[c]);if(s)for(var d of(r[s]||(r[s]={}),Object.keys(a)))null!=a[d]?(a[d]!==r[s][d]&&(l=!0),r[s][d]=a[d]):delete r[s][d]}this.mounted&&l&&n&&i&&this.forceUpdate()}convertApxStyle(e){var{renderContext:{ratio:t}}=this;return function(e,t){return null!=e&&e.replace?e.replace(Os,(function(e,n){return`${Number(n*t)}px`})):e}(e,t)}updateStyle(e,t){if(e)for(var n of Object.keys(e)){var i=n,r=e[n];if(n.includes("Expr")){var a=n.split("Expr");2===a.length&&([i]=a,r=this.run(r))}this.setStyle(t,{[i]:r})}}getScope(){var e,t,{ratio:n}=this.renderContext;return{$ad:this.getAdData(),$ads:this.getAdDatas(),$const:{true:!0,false:!1,isGame:!0,openParen:"(",closeParen:")",systemInfo:(null==(e=this.props)?void 0:e.systemInfo)||{},darkMode:(null==(t=this.props)?void 0:t.darkMode)||!1,ua:"",ratio:n,time:Date.now(),undefined:void 0},$for:{index:this.forIndex,item:this.forItem},$scope:this.props.extraScope||{}}}getExprInnerVars(){return void 0===ic[this.adCustomId]&&(ic[this.adCustomId]={}),ic[this.adCustomId]}getInnerFunction(){var e=this.getExprInnerVars(),{hostContext:t}=this;return{"#getVar":function(t){return e[t]},"#measureText":function(e,n){return"function"==typeof t.getTextWidth?t.getTextWidth(e,n):0},"#getIconSrc":vu,"#getNickName":gu}}checkUseApx(){if(this.getDataValue("_useApx"))for(var e of Object.keys(this.style))this.style[e]=this.convertToApxRatio(this.style[e])}convertToApxRatio(e){var t,{ratio:n}=this.renderContext,i=/(\d+)px/g,r={};for(var a of Object.keys(e))if(null!=(t=tc)&&t.includes(a)){var o=e[a],s=o;"number"==typeof o?s=o*n:"string"==typeof o?s=o.replace(i,(function(e,t){var i=Number(t);return Number.isNaN(i)?e:i*n+"px"})):Array.isArray(o)&&(null==o?void 0:o.every((function(e){return"number"==typeof e})))&&(s=o.map((function(e){return e*n}))),r[a]=s}else r[a]=e[a];return r}predownloadMaterial(e,t,n){this.emitAdCustomEvent("predownloadMaterial",{targetid:this.id,url:e,md5:t,key:n})}getTemplateStyle(e){return this.templateStyle[e]}},ac=ys(As()),oc=function(e,t,n){var i,r,a,o,s,l,u,c;if(!t)return t;var d={},p=null;if(null!=(i=null==t?void 0:t.props)&&i.className){var h=t.props.className.split(/\s+/).filter(Boolean);for(var f of h)e[`.bind-${f}`]&&Object.assign(d,e[`.bind-${f}`]),e[`.${f}`]&&Object.assign(d,e[`.${f}`])}if(Object.keys(n.classListMap).forEach((function(i){var r,a;i===((null==(r=null==t?void 0:t.props)?void 0:r.id)&&tu(null==(a=null==t?void 0:t.props)?void 0:a.id))&&n.classListMap[i].forEach((function(t){Object.assign(d,e[`.${t}`])}))})),null!=(r=null==t?void 0:t.props)&&r.className){var _=t.props.className.split(/\s+/).filter(Boolean);for(var v of _){var g=tu(v);e[`.${g}`]&&Object.assign(d,e[`.${g}`])}}if(null!=(a=null==t?void 0:t.props)&&a.style&&Object.assign(d,t.props.style),null!=(o=null==t?void 0:t.props)&&o.id){var m=tu(t.props.id);p=m,e[m]&&Object.assign(d,e[m])}var E=null!=(l=null==(s=t.props)?void 0:s.children)?l:null;null!=E&&"string"!=typeof E&&(E=ac.default.Children.map(E,(function(t){return oc(e,t,n)})));var y=gs({style:Us(d,n.styleOptions)},p?{id:p,uniqueId:`${n.templateInfo.templateId}${n.isItem?"__item":""}-${p}`}:{}),T=ms(gs({},n.templateInfo),{preventMask:String(null!=(c=null==(u=t.props)?void 0:u.preventMask)&&c),id:p||""});for(var b of Object.keys(T)){var C=null!=n&&n.getDatasetPrefix?null==n?void 0:n.getDatasetPrefix(b):b;y[`data-${nu(C)}`]=T[b]}!n.useTextTag&&"text"===t.type&&null!=t.props.value&&null===E&&(E=t.props.value),!1===n.useAttrId&&(y.id=null),!1===n.useAttrClass&&(y.className=null),n.classNames&&Object.keys(n.classNames).forEach((function(e){var i,r;e===((null==(i=null==t?void 0:t.props)?void 0:i.id)&&tu(null==(r=null==t?void 0:t.props)?void 0:r.id))&&(y.className=n.classNames[e])}));var S=Array.isArray(E)?E:[E];return null==E?ac.default.cloneElement(t,y):ac.default.cloneElement(t,y,S)},sc=function(){return function(e){if(e.prototype.render){var t=e.prototype.render;e.prototype.render=function(){this.emitComponentEvent("templateWillUpdate");var e=t.call(this);this.updateClassStyle(),this.updateInnerClassStyle(),this.handleStyleType.includes("style")&&this.updateOuterStyle(),this.handleStyleType.includes("innerStyle")&&this.updateInnerStyle();var{style:n,darkModeStyle:i,templateStyle:r,dynamicStyle:a,classNames:o,renderContext:{styleOptions:s,useTextTag:l,useAttrId:u,useAttrClass:c},hostContext:{getDatasetPrefix:d}}=this;return oc(function(e){var t={};for(var n of e)for(var i of Object.keys(n))t[i]||(t[i]={}),Object.assign(t[i],n[i]||{});return t}([n,this.isDarkMode()?i:{},r,a]),e,{styleOptions:s,isItem:"base"===this.componentBehavior,useTextTag:l,useAttrId:u,useAttrClass:c,templateInfo:{templateId:this.id},classListMap:this.classListMap,classNames:o,getDatasetPrefix:d})}}return e}},lc=ys(As()),uc=function(e,t){return function(...n){null==e||e(...n),null==t||t(...n)}},cc=function(){return function(e){if(e.prototype.render){var t=e.prototype.render;e.prototype.render=function(){var e,n,i,r;this.emitComponentEvent("templateWillUpdate");var a=t.call(this),{props:{handleCommonClick:o,handleCommonTouchStart:s,handleCommonTouchEnd:l,handleCommonTouchCancel:u}}=this;return lc.default.cloneElement(a,function(e){return Object.keys(e).reduce((function(t,n){return gs(gs({},t),null==e[n]?{}:{[n]:e[n]})}),{})}({onClick:uc(null==(e=a.props)?void 0:e.onClick,o),onTouchStart:uc(null==(n=a.props)?void 0:n.onTouchStart,s),onTouchEnd:uc(null==(i=a.props)?void 0:i.onTouchEnd,l),onTouchCancel:uc(null==(r=a.props)?void 0:r.onTouchCancel,u)}))}}return e}},dc=class extends rc{constructor(e){var t,n;if(super(e,{componentBehavior:"base"}),t=this,this.style={blank:{width:0,height:0},container:{position:"relative",WebkitTapHighlightColor:"transparent"},mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},linearGradient:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},".reverse":{rotate:180}},this.handleStyleType=["style"],this.isLinearGradient=!1,this.isLinearGradientReverse=!1,this.longTapThreshold=null,this.linearGradientSrc="https://wxa.wxs.qq.com/images/wxapp/linear_gradient.png",this.linearGradientRe=/^linear-gradient\(rgba\(0,0,0,([\d.]+)\),rgba\(0,0,0,([\d.]+)\)\)$/,this.state={showMask:!1,randomKey:"",darkMode:null!=(mu=this.props.darkMode)&&mu,prePropsDarkMode:null!=(Eu=this.props.darkMode)&&Eu},this.handleCommonClick=function(e){!1===t.bubbleEvent&&(t.emitAdCustomEvent("stopPropagationTap",{event:e}),null==e||e.stopPropagation()),t.doActions(t.events.tap,{event:e}),t.clickInfo&&t.emitAdCustomEvent("itemTap",{clickInfo:t.clickInfo})},this.isTouching=!1,this.longTapTimer=null,this.handleCommonTouchStart=function(e){t.isTouching=!0,!1===t.bubbleEvent&&(null==e||e.stopPropagation()),t.longTapThreshold&&(t.longTapTimer=setTimeout((function(){t.isTouching&&t.doActions(t.events.longTap,{event:e})}),t.longTapThreshold)),t.doActions(t.events.touchstart,{event:e})},this.handleCommonTouchEnd=function(e){t.isTouching=!1,!1===t.bubbleEvent&&(null==e||e.stopPropagation()),t.clearLongTapTimer(),t.doActions(t.events.touchend,{event:e})},this.handleCommonTouchCancel=function(e){t.isTouching=!1,!1===t.bubbleEvent&&(null==e||e.stopPropagation()),t.clearLongTapTimer(),t.doActions(t.events.touchcancel,{event:e})},this.clickInfo=this.getDataValueWithDefault("_clickInfo",null),this.isShow=this.getDataValueWithDefault("_isShow",!0),this.longTapThreshold=this.getDataValueWithDefault("_longTapThreshold",null),this.state.randomKey=Math.random().toString(16).slice(2,10),this.isShow&&null!=(n=this.template.style)&&n.background){var i=this.linearGradientRe.exec(this.template.style.background.replace(/ /g,""));if(i){var[r,a]=i.slice(1);this.isLinearGradient=!0,Number(r)>Number(a)&&(this.isLinearGradientReverse=!0)}}this.bindEvents()}static getDerivedStateFromProps(e,t){return e.darkMode!==t.prePropsDarkMode?{darkMode:e.darkMode,prePropsDarkMode:e.darkMode}:null}bindEvents(){var e=this;this.addAdCustomListener((function(t){if("setStyle"===t.action){var{id:n,targetid:i,style:r}=t.value||{};i===e.id&&!n&&e.setStyle("container",r,{isDynamic:!0,force:!0})}else if("setDarkMode"===t.action&&e.props.isRootItem){var{darkMode:a}=t.value;e.state.darkMode!==a&&e.setState({darkMode:a})}}))}getRandomKey(){return Math.random().toString(16).slice(2,10)}doAction(e){"forceRebuild"===e.payload.action&&this.setState({randomKey:this.getRandomKey()})}clearLongTapTimer(){this.longTapTimer&&(clearTimeout(this.longTapTimer),this.longTapTimer=null)}render(){var{renderContext:{isFlattenLayer:e}}=this,{template:t}=this.props,{randomKey:n,darkMode:i}=this.state,r=ms(gs({},this.getCommonSubComponentProps()),{darkMode:i});if(r.randomKey=n,"for"===t.type)return Tu.default.createElement(Uc,gs({},r));var a={layout:Tu.default.createElement(gc,gs({},r)),image:Tu.default.createElement(Sc,gs({},r)),text:Tu.default.createElement(yc,gs({},r)),feedback:Tu.default.createElement(Dc,gs({},r)),button:Tu.default.createElement(Pc,gs({},r)),video:Tu.default.createElement(xc,gs({},r)),end:Tu.default.createElement(Vc,gs({},r)),carousel:Tu.default.createElement(Zc,gs({},r)),countdown:Tu.default.createElement(Bc,gs({},r)),livetag:Tu.default.createElement(qc,gs({},r)),popup:Tu.default.createElement(Qc,gs({},r)),feedbackDialog:Tu.default.createElement(id,gs({},r)),multimage:Tu.default.createElement(ld,gs({},r)),score:Tu.default.createElement(fd,gs({},r)),rank:Tu.default.createElement(md,gs({},r)),hosttag:Tu.default.createElement(Td,gs({},r))}[t.type]||null;if(!this.isShow||null===a)return Tu.default.createElement("div",{id:"blank"});var o=this.isLinearGradient?Tu.default.createElement("img",{id:"linear-gradient",className:this.isLinearGradientReverse?"reverse":"",src:this.linearGradientSrc}):null;if(a&&e()){var s=Array.isArray(a.props.children)?a.props.children:[a.props.children];return(0,Tu.cloneElement)(a,{handleCommonClick:this.handleCommonClick,handleCommonTouchStart:this.handleCommonTouchStart,handleCommonTouchEnd:this.handleCommonTouchEnd,handleCommonTouchCancel:this.handleCommonTouchCancel},...s)}return Tu.default.createElement("div",{id:"container",onClick:this.handleCommonClick,onTouchStart:this.handleCommonTouchStart,onTouchEnd:this.handleCommonTouchEnd,onTouchCancel:this.handleCommonTouchCancel},o,a)}};dc=Ts([sc()],dc);var pc=ys(As());function hc(e){class t extends rc{constructor(e){var t,n,i;super(e,{componentBehavior:"hoc"}),t=this,this.style={mask:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}},this.state={showMask:!1},this.handleStyleType=[],this.containerRef=(0,pc.createRef)(),this.handleTouchStart=function(e){var{getPropertyOfElement:n,getDatasetPrefix:i}=t.hostContext;if(!e._isHandleMaskClick&&t.useMask&&t.containerRef.current){t.hideMaskOnSlide&&e.touches&&(t.isTouching=!0,t.touchStartX=e.touches[0].pageX,t.touchStartY=e.touches[0].pageY);for(var r=e.target,a=t.containerRef.current;r&&r!==a;){var{preventMask:o}=iu(r,i);if("true"===o)return;r=n(r,"parent")}t.setState({showMask:!0}),e._isHandleMaskClick=!0}},this.handleTouchMove=function(e){if(t.isTouching&&t.useMask&&t.containerRef.current){var n=Math.abs(e.touches[0].pageX-t.touchStartX),i=Math.abs(e.touches[0].pageY-t.touchStartY);(n>t.minSlideDistance||i>t.minSlideDistance)&&t.setState({showMask:!1})}},this.handleTouchEnd=function(){!t.useMask||!t.containerRef.current||(t.setState({showMask:!1}),t.isTouching=!1)},this.eventDelegator=this.renderContext.globalEventDelegator,this.hideMaskOnSlide=null!=(n=this.renderContext.hideMaskOnSlide)&&n,this.minSlideDistance=null!=(i=this.renderContext.minSlideDistance)?i:1,this.touchStartX=0,this.touchStartY=0,this.isTouching=!1,this.useMask=this.getDataValueWithDefault("_useMask",!1),this.bindEvents()}componentWillUnmount(){this.unbindEvents(),super.componentWillUnmount()}bindEvents(){var e=this;this.addAdCustomListener((function(t){if("setStyle"===t.action){var{id:n,targetid:i,style:r}=t.value||{};i===e.id&&!n&&e.setStyle("container",r,{isDynamic:!0,force:!0})}})),this.eventDelegator.on("touchstart",`${this.id}-container`,this.handleTouchStart),this.hideMaskOnSlide&&this.useMask&&this.eventDelegator.on("touchmove",`${this.id}-container`,this.handleTouchMove),this.eventDelegator.onGlobal("touchend",this.handleTouchEnd),this.eventDelegator.onGlobal("touchcancel",this.handleTouchEnd)}unbindEvents(){this.eventDelegator.off("touchstart",`${this.id}-container`,this.handleTouchStart),this.eventDelegator.off("touchmove",`${this.id}-container`,this.handleTouchMove),this.eventDelegator.offGlobal("touchend",this.handleTouchEnd),this.eventDelegator.offGlobal("touchcancel",this.handleTouchEnd)}getMaskStyle(){var{showMask:e}=this.state,{darkMode:t}=this.props,{getMaskStyle:n}=this.hostContext,{maskStyle:i,darkModeMaskStyle:r}=(null==n?void 0:n())||{},a=gs({},this.getDataValueWithDefault("_maskStyle",{})),o=i||{};return t&&(a=Object.assign(a,this.getDataValueWithDefault("_darkModeMaskStyle",{})),o=Object.assign(o,r)),Object.assign(Object.keys(o).length?o:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.05)"},a,{display:this.useMask&&e?"":"none"})}render(){var t=this,{props:n}=this,{forwardedRef:i}=n,r={};return this.useMask&&Object.assign(r,{maskContainerRef:this.containerRef,renderMask:function(){return pc.default.createElement("div",{id:"mask",style:t.getMaskStyle()})}}),pc.default.createElement(e,ms(gs(gs({},n),r),{ref:i}))}}return(0,pc.forwardRef)((function(e,n){return pc.default.createElement(t,ms(gs({},e),{forwardedRef:n}))}))}var fc=class extends rc{constructor(e){var t,n,i,r,a,o;super(e),t=this,this.style={body:{zIndex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},".full-size":{width:"100%",height:"100%"},".full":{position:"absolute",left:0,right:0,top:0,bottom:0},".tip-container":{position:"absolute",top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",hidden:!0},".video-close-tip":{position:"relative",zIndex:1e3,height:"48px",width:"122px",lineHeight:"48px",backgroundColor:"#4C4C4C",borderRadius:"12px",fontSize:"17px",color:"#fff",textAlign:"center"},".empty":{width:"100%",height:"100%",justifyContent:"center",alignContent:"center",alignItems:"center",backgroundColor:"#dcdcdc",color:"#888",textAlign:"center",fontSize:"12px",minHeight:"50px"},".full-card-container":{zIndex:1000100,display:"flex",background:"#ffffff",borderRadius:"7px"},".full-card-container-row":{flexDirection:"row"},".full-card-container-column":{flexDirection:"column"},".no-interest-logo":{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='96' height='91' xmlns='http://www.w3.org/2000/svg'%3E %3Cg fill='none' fill-rule='evenodd'%3E %3Cpath d='M-327-540h750V666h-750z'/%3E %3Cpath d='M0-2h96v96H0z'/%3E %3Cpath d='M20 59v5l-8.89 5.927A2 2 0 0 1 8 68.263V18a6 6 0 0 1 6-6h56a6 6 0 0 1 6 6v2h-4v-2a2 2 0 0 0-2-2H14a2 2 0 0 0-2 2v46l8-5zm4 0h2.298v5H24v-5zm48-35h4v2.62h-4V24z' fill='%2307C160'/%3E %3Cpath d='M30 24h54a6 6 0 0 1 6 6v48.263a2 2 0 0 1-3.11 1.664L78 74H30a6 6 0 0 1-6-6V30a6 6 0 0 1 6-6zm0 4a2 2 0 0 0-2 2v38a2 2 0 0 0 2 2h50l6 4V30a2 2 0 0 0-2-2H30z' fill='%2307C160'/%3E %3Cpath d='M53.172 54.485l14.142-14.142 2.828 2.829L56 57.314l-2.828 2.828-11.314-11.314L44.686 46l8.486 8.485z' fill='%2307C160' fill-rule='nonzero'/%3E %3C/g%3E %3C/svg%3E\")",backgroundSize:"cover",width:"48px",height:"45.5px"},".no-interest-logo-row":{marginRight:"8px"},".no-interest-logo-column":{marginBottom:"24px"},".full-card-feedback-container-column":{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},".full-card-feedback-title":{fontSize:"17px",lineHeight:"17px",color:"#2e2e2e"},".full-card-feedback-title-row":{marginBottom:"5px"},".full-card-feedback-title-column":{marginBottom:"14px"},".full-card-feedback-tips":{color:"#acacac",lineHeight:"12px",fontSize:"12px"}},this.state={hidden:!1,showFeedback:!1,darkMode:!1},this.handleStyleType=["style","innerStyle"],this.handleAdCustomEvent=function(e){switch(e.action){case"setDarkMode":var{darkMode:n}=e.value;t.state.darkMode!==n&&t.setState({darkMode:n});break;case"hideAd":t.hide();break;case"adShowHalf":t.emitComponentEvent("showhalf");break;case"adHideHalf":t.emitComponentEvent("hidehalf");break;case"adShowEdge":t.emitComponentEvent("showEdge");break;case"adHideEdge":t.emitComponentEvent("hideEdge");break;case"btnTap":t.emitComponentEvent("adButtonTap");break;case"exposure":"value"in e?t.emitComponentEvent("exposure",e.value):t.emitComponentEvent("exposure");break;case"viewableExposure":"value"in e?t.emitComponentEvent("viewableExposure",e.value):t.emitComponentEvent("viewableExposure");break;case"showFeedback":t.showFeedback()}},this.show=function(e){return new Promise((function(n){t.useAnimate&&!e?t.setState({hidden:!1},(function(){t.emitComponentEvent("showAnimate"),n()})):t.useAnimate&&e?(t.emitAdCustomEvent("checkExposure"),n()):t.setState({hidden:!1},(function(){t.emitAdCustomEvent("checkExposure"),n()}))}))},this.hide=function(e){return new Promise((function(n){t.useAnimate&&!e?(t.emitComponentEvent("hideAnimate"),n()):t.setState({hidden:!0},(function(){t.emitAdCustomEvent("checkExposure"),n()}))}))},this.showFeedback=function(){var{useDefaultFeedback:e,useFullAreaFeedBack:n}=t;e&&(t.setState({showFeedback:!0}),setTimeout((function(){t.setState({showFeedback:!1})}),3e3)),n&&t.setState({showFeedback:!0})},this.handleEnterForeground=function(){t.emitComponentEvent("appEnterForeground"),t.emitAdCustomEvent("appEnterForeground")},this.handleEnterBackground=function(){t.emitComponentEvent("appEnterBackground"),t.emitAdCustomEvent("appEnterBackground")},this.handleContainerClick=function(e){t.props.isMulti||t.disableContainerTap||(null==e||e.stopPropagation(),t.emitAdCustomEvent("stopPropagationTap",{event:e}),t.emitComponentEvent("containerTap"),t.emitAdCustomEvent("containerTap",{event:e,clickInfo:t.clickInfo}))},this.useDefaultFeedback=this.getDataValueWithDefault("useDefaultFeedback",!0),this.isFullScreen=this.getDataValueWithDefault("isFullScreen",!1),this.isWidthRequired=this.getDataValueWithDefault("isWidthRequired",!1),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.isMulti=null!=(i=null==(n=this.template.tplConfig)?void 0:n.isMulti)&&i,this.useAnimate=this.getDataValueWithDefault("useAnimate",!1),this.disableContainerTap=this.getDataValueWithDefault("disableContainerTap",!1),this.state.hidden=!this.getDataValueWithDefault("_isShow",!0),this.state.darkMode=null!=(r=this.props.darkMode)&&r,this.useFullAreaFeedBack=this.getDataValueWithDefault("useFullAreaFeedBack",!1),this.fullAreaFeedBackType=this.getDataValueWithDefault("fullAreaFeedBackType","column"),this.classStyles=(null==(o=null==(a=this.template)?void 0:a.options)?void 0:o.classStyles)||{},this.bindEvents(),this.emitComponentEvent("initialTemplate"),this.clickInfo=this.getDataValueWithDefault("_clickInfo",null)}componentWillUnmount(){super.componentWillUnmount(),this.unbindEvents()}bindEvents(){var{hostContext:e}=this.props;e.onAppEnterForeground(this.handleEnterForeground),e.onAppEnterBackground(this.handleEnterBackground),this.addAdCustomListener(this.handleAdCustomEvent)}unbindEvents(){var{hostContext:e}=this.props;e.offAppEnterForeground(this.handleEnterForeground),e.offAppEnterBackground(this.handleEnterBackground)}getRootData(e){switch(e){case"hidable":return this.getDataValueWithDefault("hidable",!0);case"refetchable":return this.getDataValueWithDefault("refetchable",!1);case"flattenLayer":return this.getDataValueWithDefault("flattenLayer",!1);case"exportAid":return this.getDataValueWithDefault("exportAid",!1);case"enableTimer":return this.getDataValueWithDefault("enableTimer",!0);case"exposureUntilVideoPlay":return this.getDataValueWithDefault("exposureUntilVideoPlay",!1);case"hideAfterLanding":return this.getDataValueWithDefault("hideAfterLanding",!1);case"multiShowList":return this.getDataValueWithDefault("multiShowList",[]);case"hasVideoElement":return this.getDataValueWithDefault("hasVideoElement",!1)}return null}doAction({payload:e,args:t}){var n,i;"hideAd"===e.action?(this.hide(),"value"in e&&e.value.preventClose):"changeMultiShow"===e.action?null!=(n=e.value)&&n.listExpr?this.emitAdCustomEvent("changeMultiShow",{list:this.run(e.value.listExpr,t)}):null!=(i=e.value)&&i.list?this.emitAdCustomEvent("changeMultiShow",{list:e.value.list}):null!=t&&t.list&&this.emitAdCustomEvent("changeMultiShow",{list:t.list}):"showAnimateDone"===e.action?this.show(!0):"hideAnimateDone"===e.action&&this.hide(!0)}isShow(){return!this.state.hidden}render(){var e=this,{props:{template:t,adPosition:n,systemInfo:i,renderMask:r,maskContainerRef:a},state:{hidden:o,showFeedback:s,darkMode:l}}=this,u={display:o?"none":""},c=["left","top"];return"miniprogram"===this.props.systemInfo.hostEnv&&c.push("fixed"),this.isWidthRequired&&c.push("width"),this.isFullScreen?Object.assign(u,{width:i.screenWidth,height:i.screenHeight}):Object.assign(u,Xl(n||{},c)),o&&!this.useStyleHidden?yu.default.createElement("div",null):yu.default.createElement("div",{id:"body",style:u,className:this.isFullScreen?"full-size":""},t&&yu.default.createElement("div",{id:"container",className:"wx-ad-custom "+(this.isFullScreen?"full full-size":""),onClick:this.handleContainerClick,ref:a},t.children.map((function(t){return yu.default.createElement(dc,ms(gs({key:t.id},e.getCommonSubComponentProps()),{template:t,darkMode:l}))}))),this.useFullAreaFeedBack&&s&&yu.default.createElement("div",{id:"full-card-container",className:"tip-container full-card-container "+("row"===this.fullAreaFeedBackType?"full-card-container-row":"full-card-container-column")},yu.default.createElement("div",{className:"no-interest-logo "+("row"===this.fullAreaFeedBackType?"no-interest-logo-row":"no-interest-logo-column")}),yu.default.createElement("div",{id:"full-card-feedback-container",className:""+("row"===this.fullAreaFeedBackType?"":"full-card-feedback-container-column")},yu.default.createElement("div",{id:"full-card-feedback-title",className:"full-card-feedback-title "+("row"===this.fullAreaFeedBackType?"full-card-feedback-title-row":"full-card-feedback-title-column")},"感谢你的反馈"),yu.default.createElement("div",{id:"full-card-feedback-tips",className:"full-card-feedback-tips"},"我们会努力为你推荐更优质的广告"))),this.useDefaultFeedback&&s&&yu.default.createElement("div",{id:"tip-container",className:"tip-container"},yu.default.createElement("text",{id:"close-tip",className:"video-close-tip",value:"感谢反馈"})),null==r?void 0:r())}},_c=(hc(fc=Ts([sc()],fc)),ys(As())),vc=class extends rc{constructor(e){super(e),this.style={".layout-row":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},".layout-column":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},".layout-proportion":{display:"flex",position:"absolute",width:"100%",height:"100%"}},this.state={children:[]},this.classRow=!1,this.classColumn=!1,this.containerStyle={},this.baseType=this.options.baseType||1,2===this.baseType?this.classRow=!0:3===this.baseType?this.classColumn=!0:this.baseType,this.state.children=this.template.children||[]}doAction({payload:e}){if("addChildren"===e.action){var{value:t}=e,n=Array.isArray(t)?t:[t],i=[...this.state.children,...n];this.setState({children:i})}}render(){var e=this,{children:t}=this.state,{renderMask:n,maskContainerRef:i,randomKey:r}=this.props,a=["layout"];return this.classRow&&a.push("layout-row"),this.classColumn&&a.push("layout-column"),_c.default.createElement("div",{id:"container",className:a.join(" "),ref:i,style:this.containerStyle,key:r||""},t.map((function(t){return _c.default.createElement(dc,ms(gs({key:t.id},e.getCommonSubComponentProps()),{template:t}))})),null==n?void 0:n())}},gc=hc(vc=Ts([sc(),cc()],vc)),mc=ys(As()),Ec=class extends rc{constructor(e){var t,n;super(e),t=this,this.style={".text":{color:"#000",fontSize:"14px",wordBreak:"break-all"},".text-ellipsis":{lineBreak:"ellipsis",overflow:"hidden"},".emoji-container":{position:"relative",width:"100%",overflow:"hidden",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start"},".emoji-text":{display:"flex"}},this.state={text:"",renderType:"text",renderText:""},this.classEllipsis=!1,this.emojiContainerRef=mc.default.createRef(),this.emojiStyleStatus=!1,this.useTextAriaLabel=!1,this.searchReplaceNode=function(){return bs(t,null,(function*(){var e,t=this.emojiContainerRef.current,n=t.childNodes,i=yield this.getBoundingClientRect(t),r=parseInt(null==(e=this.getTemplateStyle("text"))?void 0:e.fontSize,10),a=yield this.upperBound(n,i);if(a<n.length-1)for(var o=a;o>0;o--){var s=yield this.getBoundingClientRect(n[a]);if(!(i.width-(s.left-i.left)<r))break;a-=1}else a=-1;return a}))},this.upperBound=function(e,n){return bs(t,null,(function*(){for(var t=0,i=e.length;t<i;){var r=t+Math.floor((i-t)/2);(yield this.isHidden(e[r],n))?i=r:t=r+1}return t-1}))},this.isHidden=function(e,n){return bs(t,null,(function*(){var t=yield this.getBoundingClientRect(e),{top:i,left:r,width:a}=t,{top:o,height:s,left:l,width:u}=n;return!(!(Math.round(i-o)>=Math.round(s))&&!(r-l+a>=u+.1))}))};var i=this.options.baseType||2;1===i?this.initCommonComponent():2===i?this.initNickNameComponent():3===i?this.initDescComponent():4===i&&this.initRelationComponent(),this.classEllipsis=this.getDataValueWithDefault("isEllipsis",!0),this.maxLen=this.getDataValueWithDefault("maxLen",null),this.useTextAriaLabel=(null==(n=this.hostContext)?void 0:n.useTextAriaLabel)||!1,this.setText(this.state.text)}componentDidMount(){super.componentDidMount(),4===this.options.baseType&&this.emitAdCustomEvent("fetchRelationText",{targetid:this.id}),this.calcEmojiOverflow()}componentDidUpdate(e,t){super.componentDidUpdate&&super.componentDidUpdate(e,t),"emoji"===this.state.renderType&&t.text!==this.state.text&&this.calcEmojiOverflow()}initCommonComponent(){this.state.text=this.getDataValueWithDefault("text","")}initRelationComponent(){var e=this;this.state.text="",this.addAdCustomListener((function(t){if("changeRelationText"===t.action){var{targetid:n,text:i}=t.value;n===e.id&&(e.setText(i),e.emitComponentEvent("relationTextChanged",{text:i}),e.emitAdCustomEvent("relationTextChanged",{text:i}))}}))}initNickNameComponent(){var e=this.getAdData();this.state.text=gu(e)}initDescComponent(){var e=this.getAdData(),t=[19,12].includes(e.product_type),n=[559,560,721,929].includes(e.crt_size),i=46===e.product_type,r=23===e.product_type,a=[29,31].includes(e.product_type),o=[30,25].includes(e.product_type),s=[{path:["extBackComm","desc_1"]},{path:["crtInfo","0","wxgame_video_card","desc"],condition:n},{path:["wording"],condition:[927,841].includes(e.crt_size)}];this.getDataValueWithDefault("useDefault",!1)?s.push({path:["extBackComm","default_desc"]},{value:"今日活动推荐",condition:a},{value:"今日商品推荐",condition:o},{value:"今日应用推荐",condition:t},{value:"今日公众号推荐",condition:r},{value:"今日小游戏推荐",condition:i},{value:"今日活动推荐"}):s.push({value:""}),this.state.text=eu(e,s)}doAction({payload:e,args:t}){if("textSetText"===e.action){var n=this.getDataValue("text",e.value,{args:t});this.setText(n)}}setText(e){var{text:t,renderText:n,renderType:i}=this.prepareRenderText(e);this.mounted?this.setState({text:t,renderText:n,renderType:i}):(this.state.text=t,this.state.renderType=i,this.state.renderText=n)}hasEmoji(e){return/\[.*?\]/g.test(e)}prepareRenderText(e){var{renderContext:{transformLinefeed:t}}=this,n=this.hasEmoji(e),i=e,r=n?"emoji":"text";return t&&(i=this.transformLinefeed(e)),n&&(!this.emojiStyleStatus&&this.initEmojiTextStyle(),i=this.getEmojiTextJsx(i)),{text:e,renderType:r,renderText:i}}transformLinefeed(e){return e.replace("\n"," ")}getEmojiTextJsx(e){var t=ru(e)||[];return t.length?mc.default.createElement(mc.default.Fragment,null,t.map((function(e,t){var n,i,r;return!e.props&&(e.props={}),"img"===e.type?(null!=(n=e.props)&&n.className?e.props.className+=" emoji-img":e.props.className="emoji-img",r={type:"div",props:{className:"emoji-img-wrap",key:`img_${t}`},children:mc.default.createElement(e.type,e.props,null)}):(null!=(i=(r=Object.assign({},e)).props)&&i.className?r.props.className+=" emoji-text":r.props.className="emoji-text",r.props.key=`text_${t}`),mc.default.createElement(r.type,r.props,r.children)}))):""}initEmojiTextStyle(){var e,t,n;(null==(n=null==(t=null==(e=this.template)?void 0:e.options)?void 0:t.innerStyles)?void 0:n.text)&&(this.bindStyle([{originId:"text",originKey:"maxHeight",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"maxWidth",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"width",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"textAlign",destRules:[{destClassName:"emoji-container",handleFn:function(e){return"left"===e?"flex-start":"right"===e?"flex-end":e},destKey:"justifyContent"}]},{originId:"text",originKey:"height",destRules:[{destClassName:"emoji-container"},{destClassName:"emoji-text",handleFn:function(e,t){return t.lineHeight||e}}]},{originId:"text",originKey:"WebkitBoxOrient",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"marginTop",destRules:[{destClassName:"emoji-container"}]},{originId:"text",originKey:"color",destRules:[{destClassName:"emoji-text"}]},{originId:"text",originKey:"fontSize",destRules:[{destClassName:"emoji-text"},{destClassName:"emoji-img",destKey:"width"},{destClassName:"emoji-img",destKey:"height"},{destClassName:"emoji-img-wrap",destKey:"width"},{destClassName:"emoji-img-wrap",destKey:"height"},{destClassName:"emoji-overflow",destKey:"width"}]},{originId:"text",originKey:"lineHeight",destRules:[{destClassName:"emoji-text"},{destClassName:"emoji-img"},{destClassName:"emoji-text",destKey:"height",handleFn:function(e,t){return e||t.height}}]},{originId:"text",originKey:"fontWeight",destRules:[{destClassName:"emoji-text"}]},{originId:"text",originKey:"fontFamily",destRules:[{destClassName:"emoji-text"}]}]),this.emojiStyleStatus=!0)}getBoundingClientRect(e){var{getBoundingClientRect:t}=this.hostContext;return t?t(e):{}}calcEmojiOverflow(){return bs(this,null,(function*(){var{renderType:e,renderText:t}=this.state;if("text"!==e&&t){var n=t,i=[...n.props.children],r=yield this.searchReplaceNode();-1!==r&&("div"===i[r].type?i.splice(r,1,mc.default.createElement("text",{className:"emoji-text emoji-overflow",value:"..."})):(i[r].props.className+=" emoji-overflow",i[r].props.value="..."),i=i.slice(0,r+1),n.props.children=i,this.setState({renderText:Object.assign({},n)}))}}))}render(){var{classEllipsis:e,emojiContainerRef:t,useTextAriaLabel:n}=this,{renderMask:i,maskContainerRef:r,randomKey:a}=this.props,{text:o,renderType:s}=this.state,{renderText:l}=this.state;return"text"===s&&this.classEllipsis&&null!==this.maxLen&&l&&(l=function(e,t){for(var n=0,i=0,r=0;r<e.length;r++)(n+=/[\u4e00-\u9fa5]/.test(e[r])?2:1)<t-1&&(i=r);return n>t?`${e.substring(0,i+1)}...`:e}(l,2*this.maxLen)),mc.default.createElement("div",{id:"container",ref:r,key:a||""},"emoji"===s?mc.default.createElement("div",ms(gs({ref:t},n?{role:"option","aria-label":o}:{}),{id:"emoji-container",className:"emoji-container"}),l):mc.default.createElement("text",{id:"text",className:"text "+(e?"text-ellipsis":""),value:l}),null==i?void 0:i())}},yc=hc(Ec=Ts([sc(),cc()],Ec)),Tc=ys(As()),bc=function(e,t){if(!e)return"";if(!t)return e;var n=e.split("#"),i=n[0].indexOf("?")>-1?"&":"?",r="",a=Object.keys(t);if(a.length>0){for(var o of a)r=r.concat(`${o}=${t[o]}&`);return r.length>0&&(r=r.substring(0,r.length-1)),n[0]+i+r+(n[1]?`#${n[1]}`:"")}return e},Cc=class extends rc{constructor(e){var t;super(e),t=this,this.style={".image-img":{width:"100%",height:"100%"},".image-img-appicon":{borderRadius:"5px"},".image-img-icon":{borderRadius:"50%"}},this.state={imgUrl:"",localImgUrl:""},this.classAppIcon=!1,this.classIcon=!1,this.useBgMode=!1,this.usePredownload=!1,this.retry=0,this.exposureLoadRetry=0,this.loadError=!1,this.orginImgUrl="",this.currentImgUrl="",this.handleAdCustomEvent=function(e){if("adShowEdge"===e.action){if(t.loadError){var n=Number(t.getDataValueWithDefault("attachRetryTimes",5));if(t.exposureLoadRetry<n){t.exposureLoadRetry+=1;var i=bc(t.state.imgUrl,{exposureLoadRetry:t.exposureLoadRetry});t.usePredownload?t.setState({localImgUrl:i}):t.setState({imgUrl:i})}}}else"predownloadMaterialDone"===e.action&&e.value.targetid===t.id&&t.usePredownload&&e.value.url===t.currentImgUrl&&t.setState({localImgUrl:e.value.cachedUrl})},this.handleImgLoad=function(){t.loadError=!1,t.emitComponentEvent("imgLoad"),t.emitAdCustomEvent("imgLoad",{baseType:t.baseType,src:t.getRenderUrl()})},this.handleImgError=function(e){t.loadError=!0;var n=Number(t.getDataValue("retryTimes"));if(n)if(t.orginImgUrl||(t.orginImgUrl=t.state.imgUrl),t.retry<n){t.retry+=1;var i=bc(t.orginImgUrl,{retry:t.retry});t.setState({imgUrl:i})}else t.emitComponentEvent("imgError"),t.emitAdCustomEvent("imgError",{baseType:t.baseType,src:t.getRenderUrl(),error:e});else t.emitComponentEvent("imgError"),t.emitAdCustomEvent("imgError",{baseType:t.baseType,src:t.getRenderUrl(),error:e})},this.useBgMode=this.getDataValueWithDefault("useBgMode",!1),this.usePredownload=this.getDataValueWithDefault("usePredownload",!1);var n=this.options.baseType||2;switch(this.baseType=n,n){case 1:this.initCommonComponent();break;case 3:this.initADComponent();break;case 2:this.initIconComponent()}this.addAdCustomListener(this.handleAdCustomEvent),this.useBgMode}initCommonComponent(){this.setImageUrl(this.getDataValueWithDefault("imgUrl",""))}initIconComponent(){var e=this.getAdData();[19,12].includes(e.product_type)?this.classAppIcon=!0:this.classIcon=!0,this.setImageUrl(vu(e))}initADComponent(){var e=this.getAdData(),t=e.image_url;t.startsWith("http")||(t=eu(e,[{path:["crtInfo","0","image_url"]},{path:["crtInfo","image_url"]}])||t);var n=eu(e,[{path:["crtInfo","0","card_info","image_md5"]},{path:["crtInfo","card_info","image_md5"]}]);this.setImageUrl(this.getDataValue("imgUrl")||t,n)}setImageUrl(e,t){this.currentImgUrl=e,this.mounted?this.setState({imgUrl:e}):this.state.imgUrl=e,this.usePredownload&&this.predownloadMaterial(e,t)}doAction({payload:e}){"imageSetSrc"===e.action&&this.setImageUrl(this.getDataValue("imgUrl",e.value))}getRenderUrl(){var{imgUrl:e,localImgUrl:t}=this.state;return this.usePredownload?t:e}render(){var{classAppIcon:e,classIcon:t}=this,{renderMask:n,maskContainerRef:i,randomKey:r}=this.props,a=3===this.baseType,o=["image-img"];return e&&o.push("image-img-appicon"),t&&o.push("image-img-icon"),Tc.default.createElement("div",{id:"container",className:"image",ref:i,key:r||""},Tc.default.createElement("img",ms(gs({id:"img"},a?{"bubble-event":!1}:{}),{className:o.join(" "),src:this.getRenderUrl(),onLoad:this.handleImgLoad,onError:this.handleImgError})),null==n?void 0:n())}},Sc=hc(Cc=Ts([sc(),cc()],Cc)),Ac=ys(As()),Ic=class extends rc{constructor(e){var t;super(e),t=this,this.style={".button":{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"#07c160",padding:"0 12px",borderRadius:"3px",overflow:"hidden"},".button-text":{textAlign:"center",color:"#fff",fontSize:"16px"},".button-icon":{width:"12px",height:"11px",marginRight:6,backgroundSize:"100% 100%",backgroundPosition:"0 0"}},this.state={buttonText:""},this.isShowIcon=!1,this.handleAdCustomEvent=function(e){"changedAdBtnText"===e.action&&e.value.text&&t.setState({buttonText:e.value.text})},this.handleButtonClick=function(e){null==e||e.stopPropagation(),t.emitAdCustomEvent("stopPropagationTap",{event:e}),t.emitAdCustomEvent("btnTap",{event:e}),t.emitComponentEvent("buttonTap",{event:e})};var n=this.options.baseType||2;this.isShowIcon=this.getDataValueWithDefault("isShowIcon",!1),1===n?this.initCommonComponent():2===n&&this.initLogicCommonComponent()}componentWillUnmount(){super.componentWillUnmount()}initCommonComponent(){this.state.buttonText=this.getDataValueWithDefault("buttonText","")}initLogicCommonComponent(){var e,t,n,i=this.getAdData(),r=this.getDataValue("buttonText"),a=(null==(e=i.buttonAction)?void 0:e.button_text)||(null==(t=i.button_action)?void 0:t.button_text)||"查看";r?this.state.buttonText=r:23===i.product_type?this.state.buttonText=null!=(n=null==i?void 0:i.biz_info)&&n.is_subscribed?"查看":a:this.state.buttonText=a,this.addAdCustomListener(this.handleAdCustomEvent)}doAction({payload:e}){var t=this.getDataValue("value",e);"buttonSetText"===e.action&&this.setText(t)}setText(e){this.setState({buttonText:this.getDataValue("text",e)})}render(){var{renderMask:e,maskContainerRef:t,randomKey:n}=this.props;return Ac.default.createElement("div",{id:"container",className:"button",ref:t,onClick:this.handleButtonClick,key:n||""},this.isShowIcon&&Ac.default.createElement("div",{id:"button-icon",className:"button-icon"}),Ac.default.createElement("text",{id:"button-text",className:"button-text",value:this.state.buttonText}),null==e?void 0:e())}},Pc=hc(Ic=Ts([sc()],Ic)),wc=ys(As()),Rc=class extends rc{constructor(e){var t;super(e),t=this,this.style={".video-context":{zIndex:1000008},".video-block":{display:"block",width:"100%",height:"100%"},".click-mask":{position:"absolute",zIndex:1000008,borderRadius:"6px",width:"100%",height:"100%"},".video-poster":{display:"flex",position:"absolute",zIndex:1000008,width:"100%",height:"100%"},".video-voice-box":{zIndex:1000009,position:"absolute",width:"24px",height:"24px"},".video-voice-box-topleft":{top:"10px",left:"10px"},".video-voice-box-topright":{top:"10px",right:"10px"},".video-voice-box-bottomleft":{bottom:"10px",left:"10px"},".video-voice-box-bottomright":{bottom:"10px",right:"10px"},".video-count-down":{zIndex:1000009,position:"absolute",color:"#fff",textAlign:"right",fontSize:"12px",width:"32px",height:"16px",lineHeight:"16px"},".video-count-down-topleft":{top:"10px",left:"10px"},".video-count-down-topright":{top:"10px",right:"10px"},".video-count-down-bottomleft":{bottom:"10px",left:"10px"},".video-count-down-bottomright":{bottom:"10px",right:"10px"},".video-voice-icon":{width:"100%",height:"100%"},".video-progress":{position:"absolute",zIndex:9,bottom:0,left:0,right:0,height:"3px",backgroundColor:"#f2f2f2"},".video-progress-played":{width:0,height:"3px",backgroundColor:"#07c160"},".video-resume-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",alignItems:"center",background:"rgba(0,0,0,0.5)",borderRadius:"8px 8px 0px 0px"},".video-resume-btn":{position:"absolute",left:"50%",top:"50%",zIndex:10,MsTransform:"translate(-50%, -50%)",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",textAlign:"center",borderRadius:0,MozBorderRadius:0,WebkitBorderRadius:0,color:"#fff",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",zoom:"0.8"},".video-resume-icon":{display:"inline-block",fontSize:0,width:0,height:0,marginTop:"25px",marginLeft:"25px",marginBottom:"25px",borderWidth:"14px 25px",overflow:"hidden",borderColor:"transparent transparent transparent #fff",borderStyle:" dotted dotted dotted solid"},".hidden":{display:"none"}},this.state={src:"",poster:"",muted:!0,loop:!0,autoplay:!1,countDownNumber:null,isEndPageShowing:!1,isShowResumeBtn:!1,isPosterShow:!0},this.isShowVoice=!0,this.isShowProgress=!0,this.isShowCountDown=!1,this.isShowEndPage=!1,this.voicePlacement=null,this.countDownPlacement=null,this.voiceIconSrc="https://wxa.wxs.qq.com/images/wxapp/voice_icon.png",this.mutedIconSrc="https://wxa.wxs.qq.com/images/wxapp/muted_icon.png",this.currentTime=0,this.videoRef=wc.default.createRef(),this.videoDuration=0,this.objectFit="contain",this.playsInline=!1,this.useResumeBtn=!1,this.preload="auto",this.usePredownload=!1,this.useImagePoster=!1,this.toggleMuted=function(e){null==e||e.stopPropagation();var n=!t.state.muted;t.setState({muted:n}),e&&t.emitAdCustomEvent("stopPropagationTap",{event:e}),t.emitComponentEvent("mutedChange",{muted:n}),t.emitAdCustomEvent("adVideoMuteChange",{muted:n})},this.handleAdCustomEvent=function(e){var n;switch(e.action){case"appEnterBackground":var i=Math.min(t.currentTime,t.videoDuration);"value"in e&&(null==(n=e.value)?void 0:n.inAdDetail)?t.reportVideoPlay("partial","app_exit",i):t.reportVideoPlay("partial","exit",i);break;case"endPageInit":t.isShowEndPage=t.getDataValueWithDefault("isShowEndPage",!1),t.isShowEndPage&&t.setState({loop:!1});break;case"endPageHide":t.isShowEndPage&&(t.setState({isEndPageShowing:!1}),t.operateVideoPlay("play"));break;case"endPageShow":t.isShowEndPage&&t.setState({isEndPageShowing:!0});break;case"btnTap":t.reportVideoPlay(t.currentTime<t.videoDuration?"partial":"complete","land",t.videoDuration);break;case"operateAdVideo":var{type:r}=e.value;["play","pause","stop"].includes(r)&&t.operateVideoPlay(r);break;case"predownloadMaterialDone":if(e.value.targetid===t.id&&t.usePredownload){for(var a of["src","poster"])e.value.url===t.state[a]&&t.setState({[a]:e.value.cachedUrl});e.value.url===t.state.src?t.setState({src:e.value.cachedUrl}):e.value.url===t.state.poster&&t.setState({poster:e.value.cachedUrl})}break;case"changeVideoMute":var{muted:o}=e.value;t.setState({muted:o}),t.emitComponentEvent("mutedChange",{muted:o})}},this.handleError=function(e){t.useResumeBtn&&t.setState({isShowResumeBtn:!0}),t.emitAdCustomEvent("adVideoLoadFailed",e)},this.handleTimeUpdate=function(e){var n,i,{loop:r}=t.state,a=e.duration||(null==(n=e.currentTarget)?void 0:n.duration),o=e.position||(null==(i=e.currentTarget)?void 0:i.currentTime);if(t.setState({isPosterShow:!1}),null!=a&&null!=o){var s=Math.min(1,o/a);t.setStyle("videoProgressPlayed",{width:100*s+"%"}),t.isShowCountDown&&t.setState({countDownNumber:`${Math.ceil(a-o)}s`}),t.emitComponentEvent("videoTimeUpdate",{event:e,rate:s}),t.emitAdCustomEvent("adVideoTimeUpdate",{duration:a,position:o}),r&&t.currentTime>1e3*o&&(t.reportVideoPlay("complete","end",t.videoDuration),t.reportVideoPlay("partial","start",0)),t.currentTime=1e3*o,t.videoDuration=1e3*a}},this.handleEnded=function(e){t.emitComponentEvent("videoEnded",{event:e}),t.emitAdCustomEvent("triggerEvent",{eventName:"videoended",detail:{baseType:t.baseType}}),t.emitAdCustomEvent("adVideoEnded"),t.reportVideoPlay("complete","end",t.videoDuration),t.currentTime=0,t.isShowEndPage&&t.emitAdCustomEvent("showEndPage",{videoId:t.id}),t.setState({countDownNumber:null})},this.handlePlay=function(e){t.emitComponentEvent("videoPlay",{event:e}),t.emitAdCustomEvent("adVideoPlay",{currentTime:t.currentTime,videoDuration:t.videoDuration}),t.reportVideoPlay("partial","start",Math.min(t.currentTime,t.videoDuration))},this.handlePause=function(e){t.emitComponentEvent("videoPause",{event:e}),t.emitAdCustomEvent("adVideoPause",{currentTime:t.currentTime,videoDuration:t.videoDuration}),t.reportVideoPlay("partial","close",Math.min(t.currentTime,t.videoDuration))},this.handleLoadedMetaData=function(e){t.emitAdCustomEvent("adVideoLoadedMetaData"),t.emitComponentEvent("videoLoadedMetaData",{event:e,time:Date.now()})},this.handleResume=function(e){null==e||e.stopPropagation(),t.emitAdCustomEvent("stopPropagationTap",{event:e}),t.emitAdCustomEvent("adVideoResumeBtnClick")},this.baseType=this.options.baseType||2,1===this.baseType?this.initCommonComponent():2===this.baseType&&this.initADComponent(),this.isShowVoice=this.getDataValueWithDefault("isShowVoice",!0),this.voicePlacement=this.getDataValueWithDefault("voicePosition","bottomleft").toLowerCase(),this.state.muted=this.getDataValueWithDefault("muted",!0),this.state.loop=this.getDataValueWithDefault("loop",!0),this.state.autoplay=this.getDataValueWithDefault("autoplay",!1),this.isShowProgress=this.getDataValueWithDefault("isShowProgress",!0),this.isShowCountDown=this.getDataValueWithDefault("isShowCountDown",!1),this.countDownPlacement=this.getDataValueWithDefault("countDownPosition","topright").toLowerCase(),this.objectFit=this.getDataValueWithDefault("objectFit","contain"),this.playsInline=this.getDataValueWithDefault("playsInline",!1),this.useResumeBtn=this.getDataValueWithDefault("useResumeBtn",!1),this.useClickMask=this.getDataValueWithDefault("useClickMask",!1),this.preload=this.getDataValueWithDefault("preload","auto"),this.usePredownload=this.getDataValueWithDefault("usePredownload",!1),this.useImagePoster=this.getDataValueWithDefault("useImagePoster",!1),setTimeout((function(){t.emitComponentEvent("mutedChange",{muted:t.state.muted})}),0)}initCommonComponent(){this.state.src=this.getDataValueWithDefault("src",""),this.state.poster=this.getDataValueWithDefault("poster",""),this.usePredownload&&this.predownloadMaterial(this.state.src),this.usePredownload&&this.predownloadMaterial(this.state.poster)}initADComponent(){var e=this.getAdData();this.state.src=this.getDataValue("src")||eu(e,[{path:["video_info","videoUrl"]},{path:["video_info","video_url"]}]),this.state.poster=this.getDataValue("poster")||eu(e,[{path:["video_info","thumbUrl"]},{path:["video_info","thumb_url"]}]),this.videoDuration=1e3*eu(e,[{path:["wx_game_video","short_video","video_duration"]},{path:["crtInfo","short_video","video_duration"]},{path:["crtInfo","0","short_video","video_duration"]}]);var t=this.getDataValue("src")?void 0:eu(e,[{path:["video_info","video_md5"]},{path:["wx_game_video","short_video","video_md5"]},{path:["crtInfo","short_video","video_md5"]},{path:["crtInfo","0","short_video","video_md5"]}]),n=this.getDataValue("poster")?void 0:eu(e,[{path:["video_info","thumb_md5"]},{path:["wx_game_video","short_video","thumb_md5"]},{path:["crtInfo","short_video","thumb_md5"]},{path:["crtInfo","0","short_video","thumb_md5"]}]);this.addAdCustomListener(this.handleAdCustomEvent),this.usePredownload&&this.predownloadMaterial(this.state.src,t),this.usePredownload&&this.predownloadMaterial(this.state.poster,n),this.emitAdCustomEvent("reportTimePoint",{key:"p8"})}doAction({payload:e}){switch(e.action){case"videoToggleMuted":this.toggleMuted();break;case"videoPlay":this.operateVideoPlay("play");break;case"videoPause":this.operateVideoPlay("pause");break;case"videoStop":this.operateVideoPlay("stop")}}operateVideoPlay(e){var{hostContext:{operateVideo:t}}=this;["play","pause","stop","seek"].includes(e)&&(this.setState({isShowResumeBtn:"pause"===e}),this.videoRef.current&&(null==t||t(this.videoRef.current,e)))}reportVideoPlay(e,t,n=0){2===this.baseType&&this.emitAdCustomEvent("reportVideoPlay",{playType:e,conditionType:t,videoInfo:{playDuration:n,videoDuration:this.videoDuration,isMuted:this.state.muted,isAutoPlay:this.state.autoplay}})}render(){var{isShowVoice:e,mutedIconSrc:t,voiceIconSrc:n,voicePlacement:i,countDownPlacement:r,isShowProgress:a,isShowCountDown:o,objectFit:s,playsInline:l,useResumeBtn:u,useClickMask:c,useImagePoster:d,preload:p}=this,{muted:h,loop:f,autoplay:_,countDownNumber:v,isEndPageShowing:g,isShowResumeBtn:m,src:E,poster:y,isPosterShow:T}=this.state,{renderMask:b,maskContainerRef:C,randomKey:S}=this.props,{renderContext:{videoUseBlock:A}}=this,I=["video-voice-box"],P=["video-count-down"];return I.push(`video-voice-box-${i}`),P.push(`video-count-down-${r}`),wc.default.createElement("div",{id:"container",className:"video",ref:C,key:S||""},wc.default.createElement("video",{id:"video",className:Kl("video-context",A&&"video-block"),ref:this.videoRef,src:E,poster:this.useImagePoster?void 0:y,controls:!1,muted:h,loop:f,autoPlay:_,autoplay:_,autoInsert:!1,playsInline:l,underGameView:!1,showProgress:!1,showPlayBtn:!1,showCenterPlayBtn:!1,showFullscreenBtn:!1,enableProgressGesture:!1,objectFit:s,preload:p,onTimeUpdate:this.handleTimeUpdate,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onError:this.handleError,onLoadedMetadata:this.handleLoadedMetaData},c&&wc.default.createElement("div",{className:"video-click-mask",id:"video-click-mask"})),d&&y&&wc.default.createElement("img",{id:"video-poster",className:Kl("video-poster",!T&&"hidden"),src:y}),u&&m&&wc.default.createElement("div",{className:"video-resume-container",id:"video-resume-container"},wc.default.createElement("a",{className:"video-resume-btn",id:"video-resume-btn",onClick:this.handleResume},wc.default.createElement("i",{id:"video-resume-icon",className:"video-resume-icon"}," "))),!g&&e&&wc.default.createElement("div",{id:"videovoicebox",className:I.join(" "),onClick:this.toggleMuted,preventMask:!0},wc.default.createElement("img",{src:t,id:"video-muted-img",className:Kl("video-voice-icon",!h&&"hidden")}),wc.default.createElement("img",{src:n,id:"video-voice-img",className:Kl("video-voice-icon",h&&"hidden")})),a&&wc.default.createElement("div",{id:"video-progress",className:"video-progress"},wc.default.createElement("div",{id:"video-progress-played",className:"video-progress-played"})),!g&&o&&v&&wc.default.createElement("text",{id:"video-count-down",className:P.join(" "),value:v}),null==b?void 0:b())}},xc=hc(Rc=Ts([sc(),cc()],Rc)),Oc=ys(As()),Nc=class extends rc{constructor(e){var t;super(e),t=this,this.style={".feedback-icon":{width:"6px",height:"4px",marginLeft:"2px",position:"relative"},".close-icon":{width:"6px",height:"6px",marginLeft:"2px",position:"relative"},".feedback":{position:"relative",zIndex:1000010,padding:6},".show":{display:""},".hide":{display:"none"},".feedback-hot-click":{display:"none"},".feedback-tag-container":{flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative",padding:"2px 4px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"2px"},".feedback-tag-text":{fontSize:"10px",height:"12px",lineHeight:"12px",color:"#fff"},".feedback-list":{position:"absolute",width:"134px",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#fff",borderWidth:"1px",borderColor:"rgba(0, 0, 0, 0.03)",borderRadius:"4px",zIndex:1000011},".feedback-list-bottomleft":{top:"26px",left:"6px"},".feedback-list-bottomright":{top:"26px",right:"6px"},".feedback-list-topleft":{bottom:"26px",left:"6px"},".feedback-list-topright":{bottom:"26px",right:"6px"},".feedback-btn":{position:"relative",width:"132px",height:"32px",lineHeight:"32px",color:"#566a97",fontSize:"12px",opacity:.9,textAlign:"center",zIndex:1000012},".feedback-title":{color:"#000",zIndex:1000012},".feedback-line":{width:"100px",height:"1px",opacity:.03,backgroundColor:"#000",zIndex:1000012}},this.state={isShowFeedback:!1,isShowFeedbackMenu:!1,position:null},this.feedbackIconSrc="https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png",this.closeIconSrc="https://wxa.wxs.qq.com/images/wxapp/close.png",this.handleCloseClick=function(e){null==e||e.stopPropagation(),t.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6,event:e}),t.emitComponentEvent("tagTap",{event:e}),t.emitAdCustomEvent("hideAd",{animation:t.getDataValueWithDefault("hideWithAnimation",!1)})},this.handleTagClick=function(e){if(2===t.baseType)return t.handleSimpleTagClick(e);if(3===t.baseType)return t.handleSingleTagClick(e);null==e||e.stopPropagation();var{isShowFeedback:n,isShowFeedbackMenu:i}=t.state;n||i?(t.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),t.emitAdCustomEvent("feedbackHide")):(t.setState({isShowFeedback:!0}),t.updateMenuPosition(),t.updateInnerStyle(),t.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"广告角标",event:e}),t.emitComponentEvent("tagTap",{event:e}))},this.handleDislikeClick=function(e){null==e||e.stopPropagation(),t.setState({isShowFeedback:!1,isShowFeedbackMenu:!0}),t.updateMenuPosition(),t.updateInnerStyle(),t.emitComponentEvent("dislikeTap",{event:e}),t.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"不感兴趣",event:e})},this.handleFeedbackBtnClick=function(e){null==e||e.stopPropagation(),t.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),t.emitComponentEvent("feedbackBtnTap",{event:e}),t.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"投诉",event:e}),t.emitAdCustomEvent("feedbackBtnTap")},this.handleAdCustomEvent=function(e){"feedbackHide"===e.action&&t.setState({isShowFeedback:!1,isShowFeedbackMenu:!1})},this.checkUseApx(),this.baseType=this.options.baseType||1,this.isShowFeedbackTitle=this.getDataValueWithDefault("isShowFeedbackTitle",!0),this.isShowCloseTag=this.getDataValueWithDefault("isShowCloseTag",!1),this.useStyleHidden=this.getDataValueWithDefault("useStyleHidden",!1),this.tagContainerPreventMask=this.getDataValueWithDefault("tagContainerPreventMask",!0),this.addAdCustomListener(this.handleAdCustomEvent)}updateMenuPosition(){this.setState({position:this.getDataValueWithDefault("menuPosition","bottomleft").toLowerCase()})}handleSimpleTagClick(e){null==e||e.stopPropagation(),this.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6,event:e}),this.getDataValue("preventHide")||this.emitAdCustomEvent("hideAd",{animation:this.getDataValueWithDefault("hideWithAnimation",!1)}),this.emitComponentEvent("tagTap",{event:e})}handleSingleTagClick(e){null==e||e.stopPropagation(),this.emitAdCustomEvent("stopPropagationTap",{event:e}),this.emitAdCustomEvent("feedbackSingleTagTap",{event:e,tagElement:this.getElementById("feedbackTagContainer"),feedbackMenuStyle:this.options.feedbackMenuStyle}),this.emitComponentEvent("tagTap",{event:e})}handleDislikeReasonClick(e,t){null==t||t.stopPropagation(),this.setState({isShowFeedback:!1,isShowFeedbackMenu:!1}),this.emitComponentEvent("dislikeReasonTap",{event:t}),this.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:e,event:t});var n=this.getDataValueWithDefault("afterDislike","showTip");"showTip"===n?this.emitAdCustomEvent("showFeedback"):"hide"===n&&this.emitAdCustomEvent("hideAd",{animation:this.getDataValueWithDefault("hideWithAnimation",!1)})}render(){var{isShowFeedback:e,isShowFeedbackMenu:t,position:n}=this.state,{useStyleHidden:i,tagContainerPreventMask:r}=this,{renderMask:a,maskContainerRef:o,randomKey:s}=this.props,l=["feedback-list"],u=["feedback-list"];n&&(l.push(`feedback-list-${n.toLowerCase()}`),u.push(`feedback-list-${n.toLowerCase()}`)),i&&(l.push(e?"show":"hide"),u.push(t?"show":"hide"));var c=this.getDataValue("feedbackIcon")||(2===this.baseType?this.closeIconSrc:this.feedbackIconSrc),d=2===this.baseType?"close-icon":"feedback-icon",p=this.getDataValueWithDefault("feedbackTagText","广告");return Oc.default.createElement("div",{id:"container",className:"feedback","bubble-event":"false",ref:o,key:s||""},Oc.default.createElement("div",{id:"feedback-tag-container",className:"feedback-tag-container",onClick:this.handleTagClick,preventMask:r},Oc.default.createElement("div",{id:"feedback-hot-click",className:"feedback-hot-click"}),Oc.default.createElement("text",{id:"feedback-tag",className:"feedback-tag-text",value:p}),Oc.default.createElement("img",{id:"feedback-icon",className:d,src:c})),(e||i)&&Oc.default.createElement("div",{id:"menu1",key:"menu1",className:l.join(" ")},this.isShowFeedbackTitle&&Oc.default.createElement("text",{className:"feedback-btn feedback-title",value:"由赞助商提供的内容"}),this.isShowCloseTag&&Oc.default.createElement(Oc.default.Fragment,null,Oc.default.createElement("div",{className:"feedback-line"}),Oc.default.createElement("text",{id:"close-btn",className:"feedback-btn",onClick:this.handleCloseClick,value:"关闭此广告",preventMask:!0})),Oc.default.createElement("div",{className:"feedback-line"}),Oc.default.createElement("text",{id:"dislike",className:"feedback-btn",onClick:this.handleDislikeClick,value:"不感兴趣",preventMask:!0}),Oc.default.createElement("div",{className:"feedback-line"}),Oc.default.createElement("text",{id:"feedback-btn",className:"feedback-btn",onClick:this.handleFeedbackBtnClick,value:"投诉",preventMask:!0})),(t||i)&&Oc.default.createElement("div",{id:"menu2",key:"menu2",className:u.join(" ")},Oc.default.createElement("text",{id:"isdismatch",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,1),value:"与我无关",preventMask:!0}),Oc.default.createElement("div",{className:"feedback-line"}),Oc.default.createElement("text",{id:"isduplicate",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,5),value:"重复收到多次",preventMask:!0}),Oc.default.createElement("div",{className:"feedback-line"}),Oc.default.createElement("text",{id:"isbadad",className:"feedback-btn",onClick:this.handleDislikeReasonClick.bind(this,4),value:"内容太差",preventMask:!0})),null==a?void 0:a())}},Dc=hc(Nc=Ts([sc(),cc()],Nc)),kc=ys(As()),Lc=["SPLITLINE","COUNTDOWN"],Mc=class extends rc{constructor(e){var t;super(e),t=this,this.style={".countdown":{position:"relative"},".backgroundContainer":{display:"flex",position:"relative",flexDirection:"row",height:"32px",alignItems:"center",paddingLeft:"12px",paddingRight:"12px",background:"rgba(0, 0, 0, 0.15)",borderColor:"rgba(255, 255, 255, 0.25)",borderWidth:"0.5px",borderRadius:"16px"},".countdown-container":{height:"20px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",position:"relative"},".countdown-text":{fontSize:"14px",height:"20px",lineHeight:"20px",width:"14px",color:"#fff",alignSelf:"center",position:"relative"},".countdown-value":{fontSize:"14px",height:"20px",lineHeight:"20px",width:"11px",color:"#fff",alignSelf:"center",position:"relative"},".split-line":{width:"0.5px",height:"18.5px",marginRight:"9px",position:"relative",backgroundColor:"rgba(255, 255, 255, 0.25)",marginLeft:"50px"}},this.state={countdownValue:"5"},this.children=[],this.useCountdownText=!0,this.useFeedback=!0,this.useCountdownEvent=!0,this.startNumber=5,this.componentOrders=Lc,this.feedback={type:"feedback",id:"Countdown-Feedback",options:{innerStyles:{container:{style:{position:"absolute",height:"32px",display:"flex",zIndex:1111999,left:"12px",padding:"0px"}},feedbackTag:{style:{fontSize:"14px",width:"28px",height:"20px",lineHeight:"20px"}},feedbackTagContainer:{style:{backgroundColor:"",borderRadius:"0px",padding:"0px",height:"32px",top:"0px",left:"0px",display:"flex"}},feedbackIcon:{style:{marginLeft:"4.5px",width:"9px",height:"6px",marginTop:"4px"}},menu1:{style:{top:"40px",left:"0px"}},menu2:{style:{top:"40px",left:"0px"}}},data:{}}},this.defaultChildren={},this.handleAdCustomEvent=function(e){if("changeCountdown"===e.action&&t.useCountdownEvent){var n=2===e.value.value.toString().length?18:11;t.setStyle("countdownvalue",{width:n}),t.setState({countdownValue:e.value.value})}},this.defaultChildren.feedback=this.feedback,this.children=this.getChildren(),this.updateInnerStyle(),this.addAdCustomListener(this.handleAdCustomEvent),this.startNumber=this.getDataValueWithDefault("startNumber",5),this.state.countdownValue=String(this.startNumber),this.useCountdownText=this.getDataValueWithDefault("useCountdownText",!0),this.useCountdownEvent=this.getDataValueWithDefault("useCountdownEvent",!0),this.useFeedback=this.getDataValueWithDefault("useFeedback",!0),this.componentOrders=this.getDataValueWithDefault("componentOrders",Lc)}doAction({payload:e,args:t}){if("changeCountdownValue"===e.action){var n=this.getDataValue("text",e.value,{args:t});this.setState({countdownValue:n})}}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getDataValue("childrenConf");if(t)for(var n of Object.keys(t))this.defaultChildren[n]&&Jl(this.defaultChildren[n],t[n]);var i=[];return i=[this.defaultChildren.feedBack],3===e?i.concat(this.template.children||[]):i}render(){var e=this,{children:t,state:{countdownValue:n},useCountdownText:i,componentOrders:r,useFeedback:a}=this,{renderMask:o,maskContainerRef:s,randomKey:l}=this.props,u=function(e){return kc.default.createElement("div",{id:"countdown-container",className:"countdown-container",key:e},kc.default.createElement("text",{className:"countdown-value",id:"countdownvalue",value:n}),i&&kc.default.createElement("text",{className:"countdown-text",value:"秒"}))},c=function(e){return kc.default.createElement("div",{id:"split-line",className:"split-line",key:e})},d=function(n){return t.map((function(t){return kc.default.createElement(dc,ms(gs({},e.getCommonSubComponentProps()),{template:t,key:n}))}))};return kc.default.createElement("div",{id:"container",className:"countdown",ref:s,key:l||""},a&&kc.default.createElement(dc,ms(gs({},e.getCommonSubComponentProps()),{template:e.feedback})),kc.default.createElement("div",{className:"backgroundContainer"},r.map((function(e){return function(e){return{CHILDREN:d(e),SPLITLINE:c(e),COUNTDOWN:u(e)}[e]}(e)}))),null==o?void 0:o())}},Bc=hc(Mc=Ts([sc(),cc()],Mc)),Fc=ys(As()),Vc=class extends rc{constructor(e){var t;super(e),t=this,this.style={".end":{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:1000099,backgroundColor:"rgba(0, 0, 0, 0.8)",flexDirection:"column",justifyContent:"center",alignItems:"center",hidden:!0},".end-refresh":{position:"absolute",left:0,bottom:0,flexDirection:"row",alignItems:"center"},".end-refresh-text":{color:"#D8D8D8",opacity:.5},".refresh-play":{fontSize:"14px",height:"18px",lineHeight:"18px",display:"none",color:"#d8d8d8"}},this.state={isShowEndPage:!1},this.children=[],this.refreshIconSrc="https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png",this.showTime=0,this.backgroundImage="",this.exposured=!1,this.viewableExposured=!1,this.viewableExposureTimer=null,this.useEndDefaultFeedback=!0,this.handleAdCustomListener=function(e){return bs(t,[e],(function*({action:e}){var t=this;switch(e){case"showEndPage":yield this.setState({isShowEndPage:!0}),this.emitAdCustomEvent("endPageShow"),this.showTime=Date.now(),!this.exposured&&this.reportEndPageExposure(),this.exposured=!0,this.viewableExposured||(this.viewableExposureTimer=setTimeout((function(){!t.viewableExposured&&t.reportEndPageExposure(!0)}),1e3)),this.emitComponentEvent("show");break;case"appEnterBackground":this.state.isShowEndPage&&this.reportEndPageDuration();break;case"appEnterForeground":this.state.isShowEndPage&&(this.showTime=Date.now());break;case"adShowHalf":this.state.isShowEndPage&&(this.showTime=Date.now(),this.viewableExposured||(this.viewableExposureTimer=setTimeout((function(){!t.viewableExposured&&t.reportEndPageExposure(!0)}),1e3)));break;case"adHideHalf":this.state.isShowEndPage&&(this.reportEndPageDuration(),this.viewableExposureTimer&&(clearTimeout(this.viewableExposureTimer),this.viewableExposureTimer=null))}}))},this.handleReplay=function(e){null==e||e.stopPropagation(),t.setState({isShowEndPage:!1}),t.emitAdCustomEvent("endPageHide"),t.emitComponentEvent("hide"),t.reportEndPage({act_type:1003}),t.emitComponentEvent("replay")},this.handleContainerClick=function(){t.reportEndPage({act_type:1002})};var n=this.getAdData();this.cardInfo=Ql(n,["crtInfo",0,"card_info"],"")||Ql(n,["crtInfo","card_info"],"")||{},this.showFreshIcon=this.getDataValueWithDefault("showFreshIcon",!0);var{end_page_type:i}=this.cardInfo;!i&&!this.getDataValueWithDefault("forceEnabled",!1)||(this.backgroundImage=this.cardInfo.head_bg_img,this.refreshIconSrc=this.getDataValueWithDefault("refreshIconSrc","https://wxa.wxs.qq.com/images/wxapp/refresh_icon.png"),this.useEndDefaultFeedback=this.getDataValueWithDefault("useEndDefaultFeedback",!0),this.setStyle("refresh",{padding:"13apx 12apx"}),this.setStyle("refreshIcon",{height:"16apx",width:"16apx",marginRight:"4apx"}),this.setStyle("refreshText",{lineHeight:"18apx",fontSize:"14apx"}),this.children=this.getChildren(),this.bindEvent(),setTimeout((function(){t.emitAdCustomEvent("endPageInit")}),0))}bindEvent(){this.addAdCustomListener(this.handleAdCustomListener)}componentWillUnmount(){super.componentWillUnmount(),this.removeAdCustomListener()}reportEndPageDuration(){!this.showTime||(this.reportEndPage({act_type:1006,exposure_duration:Date.now()-this.showTime}),this.showTime=0)}reportEndPageExposure(e=!1){var t=0;e&&(t=1,this.viewableExposured=!0),this.reportEndPage({act_type:t})}reportEndPage(e){this.emitAdCustomEvent("reportEndPage",{data:e})}doAction({payload:e}){"endPageHide"===e.action&&(this.setState({isShowEndPage:!1}),this.emitAdCustomEvent("endPageHide"),this.emitComponentEvent("hide"))}getChildren(){var e=this.getDataValueWithDefault("childType",1);if(2===e)return this.template.children||[];var t=this.getAdData(),n={pos_type:t.pos_type,costtype:t.is_cpm?1:2,slotid:"4071202390577885",is_game:0},i={},r=this.template.id,{renderContext:{isFlattenLayer:a}}=this;i.feedBack={type:"feedback",id:`${r}_endPageFeedback`,style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:"reportMMData",value:{id:"19002",data:Object.assign({act_type:1004},n)}}],dislikeReasonTap:[{action:"triggerEvent",value:{eventName:"videodislike"}}]}}},i.iconBig={type:"image",id:`${r}_endPageIconBig`,style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},i.nickBig={type:"text",id:`${r}_endPageNickBig`,style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},i.descSmall={type:"text",id:`${r}_endPageDescSmall`,style:{marginBottom:"23apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",opacity:.5,fontSize:"14apx",lineHeight:"20apx"}}}}},i.button={type:"button",id:`${r}_endPageButton`,style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:'#like($const.systemInfo.osVersion, "Android") ? "1px" : "0"'}},buttonText:{style:{fontSize:"16apx",color:"#fff"}}},baseType:2,events:{buttonTap:[{action:"reportEndPage",value:{data:{act_type:1001}}}]}}},i.iconSmall={type:"image",id:`${r}_endPageIconSmall`,style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},i.nickSmall={type:"text",id:`${r}_endPageNickSmall`,style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#fff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},i.layoutSmall={type:"layout",id:`${r}_endPageLayoutSmall`,style:{marginBottom:"16apx"},options:{baseType:2},children:[]},i.layoutSmall.children.push(i.iconSmall),i.layoutSmall.children.push(i.nickSmall),i.descBig={type:"text",id:`${r}_endPageDescBig`,style:{marginBottom:"32apx"},options:{baseType:1,data:{text:this.cardInfo.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#fff",fontSize:"17apx",lineHeight:"22apx"}}}}};var o=this.getDataValue("childrenConf");if(o)for(var s of Object.keys(o))i[s]&&Jl(i[s],o[s]);var l=[];if(this.useEndDefaultFeedback&&l.push(i.feedBack),l=2===this.cardInfo.end_page_type?l.concat([i.layoutSmall,i.descBig,i.button]):l.concat([i.iconBig,i.nickBig,i.descSmall,i.button]),3===e)return l.concat(this.template.children||[]);if(a()&&l){var u=function(e){e.forEach((function(e){var t;e.style&&function(e,t,n){for(var i="string"==typeof t?t.split("."):t,r=e,a=0;r&&a<i.length-1;)r[i[a]]||(r[i[a]]={}),r=r[i[a]],a+=1;r[i[a]]=n}(e,"options.innerStyles.container.style",Jl({},e.style,Ql(e,"options.innerStyles.container.style",{}))),null!=(t=null==e?void 0:e.children)&&t.length&&u(e.children)}))};u(l)}return l}render(){var e=this,{backgroundImage:t,children:n,refreshIconSrc:i,showFreshIcon:r,state:{isShowEndPage:a}}=this,{renderMask:o,maskContainerRef:s,randomKey:l}=this.props;return Fc.default.createElement("div",{id:"container",className:"end",onClick:this.handleContainerClick,ref:s,key:l||"",style:{display:a?"flex":"none"}},t&&Fc.default.createElement("img",{id:"backgroundImage",src:t}),n.map((function(t){return Fc.default.createElement(dc,ms(gs({key:t.id},e.getCommonSubComponentProps()),{template:t}))})),r&&Fc.default.createElement("div",{id:"refresh",className:"end-refresh",onClick:this.handleReplay},Fc.default.createElement("img",{id:"refresh-icon",className:"end-refresh-icon",src:i}),Fc.default.createElement("div",{id:"refresh-play",className:"refresh-play"},"重播")),null==o?void 0:o())}};Vc=Ts([sc(),cc()],Vc);var Wc=ys(As()),Uc=class extends rc{constructor(e){super(e),this.forType=this.options.baseType||1,this.forArr=this.getDataValueWithDefault("forArr",[]),2===this.forType&&(this.forArr=this.getAdDatas())}render(){var e=this,{template:t}=this.props,n=this.forArr.map((function(n,i){return t.children.map((function(r){return Wc.default.createElement(dc,ms(gs({},e.getCommonSubComponentProps()),{key:`${r.id}-${i}`,idPrefix:e.idPrefix+(t.id||"")+i.toString(),forType:e.forType,forItem:n,template:r,forIndex:i}))}))})).reduce((function(e,t){return[...e,...t]}),[]);return Wc.default.createElement(Wc.default.Fragment,null,n)}};Uc=Ts([sc()],Uc);var $c=ys(As()),Gc=class extends rc{constructor(e){var t;super(e),t=this,this.style={".carousel":{overflow:"hidden",position:"relative"},".carousel-list":{position:"relative",zIndex:1},".carousel-row":{flexDirection:"row",alignItems:"center",justifyContent:"center"},".carousel-col":{flexDirection:"column",alignItems:"center",justifyContent:"center"},".carousel-mask":{position:"absolute",width:"100%",height:"100%",zIndex:2000001,backgroundColor:"rgba(0, 0, 0, 0)"}},this.isViewable=!1,this.isPlaying=!1,this.animated=!1,this.timerSet=new Set,this.handleMaskClick=function(e){null==e||e.stopPropagation();var n,i=null!=t.moveTime?(Date.now()-t.moveTime)/t.duration*t.size:0;n=t.animated?-t.animateCount*t.size+i:-i;var r=(t.isCol?e.pageY:e.pageX)-n,a=Math.floor(r/t.size);t.emitComponentEvent("unitTap",{index:a,event:e})},this.handleAdCustomEvent=function({action:e}){["adShowHalf"].includes(e)?(t.isViewable=!0,t.autoplay()):["adHideHalf"].includes(e)&&(t.isViewable=!1,t.clearTimers())},this.moveTime=null,this.baseType=this.options.baseType||1,this.showCount=this.getDataValueWithDefault("showCount",0),this.allCount=this.getDataValueWithDefault("allCount",0),this.animateCount=this.allCount-this.showCount,this.size=Number(this.convertApxStyle(this.getDataValueWithDefault("size","0px")).replace("px",""))||0,this.duration=this.getDataValueWithDefault("duration",1500),this.disabled=this.getDataValueWithDefault("disabled",!1),this.allIndexList=Array.from({length:this.allCount}).map((function(e,t){return t})),this.isCol=2===this.baseType,1===this.baseType?this.initCarousel("width"):2===this.baseType&&this.initCarousel("height")}componentWillUnmount(){super.componentWillUnmount(),this.clearTimers(),this.isViewable=!1}initCarousel(e){this.setStyle("container",{[e]:this.showCount*this.size}),this.setStyle("list",{[e]:this.allCount*this.size}),this.addAdCustomListener(this.handleAdCustomEvent)}clearTimers(){for(var e of this.timerSet)clearTimeout(e)}autoplay(){return bs(this,null,(function*(){var e=this;if(this.isViewable&&!this.isPlaying){var t=1===this.baseType?"left":"top";if(this.disabled)this.emitComponentEvent("showChange",{list:this.allIndexList.slice(0,this.showCount)||[]}),this.isPlaying=!1;else if(this.animateCount<=0)this.emitComponentEvent("showChange",{list:this.allIndexList||[]}),this.isPlaying=!1;else{this.isPlaying=!0;for(var n=function*(t){var{animated:n}=e,i=setTimeout((function(){e.timerSet.delete(i);var r=n?e.allIndexList.slice(e.allCount-t-e.showCount,e.allCount-t):e.allIndexList.slice(t,t+e.showCount);e.emitComponentEvent("showChange",{list:r})}),t*e.duration);e.timerSet.add(i)},i=0;i<this.animateCount;i+=1)yield*n(i);this.moveTime=Date.now();try{yield this.doAnimation({id:"list",emitEvent:!1,animation:{keys:[{offset:0,[t]:this.animated?-1*this.animateCount*this.size:0},{offset:1,[t]:this.animated?0:-1*this.animateCount*this.size}],duration:this.duration*this.animateCount,easing:"linear"}})}catch(i){}this.animated=!this.animated,this.isPlaying=!1,this.moveTime=null;var r=setTimeout((function(){e.timerSet.delete(r),e.autoplay()}),this.duration/4);this.timerSet.add(r)}}}))}render(){var e=this,{template:{children:t}}=this.props,{renderMask:n,maskContainerRef:i,randomKey:r}=this.props,{baseType:a,allCount:o,showCount:s}=this;if(!(t&&t.length&&o&&s))return $c.default.createElement("div",{id:"blank"});var l=["carousel-list",1===a?"carousel-row":"carousel-col"];return $c.default.createElement("div",{id:"container",className:"carousel",ref:i,key:r||""},$c.default.createElement("div",{id:"mask",className:"carousel-mask",onClick:this.handleMaskClick}),$c.default.createElement("div",{id:"list",className:l.join(" ")},t.map((function(t){return $c.default.createElement(dc,ms(gs({key:t.id},e.getCommonSubComponentProps()),{template:t}))}))),null==n?void 0:n())}},Zc=hc(Gc=Ts([sc(),cc()],Gc)),Hc=(ys(As()),ys(As())),zc="none",jc="onlive",Yc="end",Kc="reserve",Xc=class extends rc{constructor(e){var t;super(e),t=this,this.style={".livetag":{position:"relative",zIndex:1000010},".livetag-hidden":{display:"none"},".ad-channels-live":{display:"flex",backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",borderRadius:"9px",padding:"2px 6px 2px 5px"},".ad-channels-live-icon":{width:"10px",height:"10px",marginRight:"3px"},".ad-channels-live-text":{height:"14px",color:"#ffffff",fontSize:"10px",lineHeight:"15px"},".ad-channels-end":{display:"flex",backgroundColor:"#959FC1",flexDirection:"row",alignItems:"center",borderRadius:"9px",padding:"2px 6px 2px 5px"},".ad-channels-reserve":{display:"flex",backgroundColor:"#FF6146",flexDirection:"row",alignItems:"center",borderRadius:"9px",padding:"2px 6px 2px 6px"}},this.state={status:zc},this.handleAdCustomEvent=function(e){"updateChannelStatus"===e.action&&t.setState({status:e.value.status},(function(){t.updateInnerStyle()}))},this.addAdCustomListener(this.handleAdCustomEvent)}render(){var{renderMask:e,maskContainerRef:t,randomKey:n}=this.props,{status:i}=this.state;return i===zc&&["livetag"].push("livetag-hidden"),Hc.default.createElement("div",{id:"container",className:"livetag",ref:t,key:n||""},i===jc&&Hc.default.createElement("div",{id:"ad-channels-live",className:"ad-channels-live"},Hc.default.createElement("img",{id:"ad-channels-live-icon",className:"ad-channels-live-icon",src:"https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"}),Hc.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播中"})),i===Yc&&Hc.default.createElement("div",{id:"ad-channels-end",className:"ad-channels-end"},Hc.default.createElement("img",{id:"ad-channels-live-icon",className:"ad-channels-live-icon",src:"https://wxa.wxs.qq.com/images/wxapp/live_icon_1.png"}),Hc.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播结束"})),i===Kc&&Hc.default.createElement("div",{id:"ad-channels-reserve",className:"ad-channels-reserve"},Hc.default.createElement("text",{id:"ad-channels-live-text",className:"ad-channels-live-text",value:"直播预约"})),null==e?void 0:e())}},qc=hc(Xc=Ts([sc(),cc()],Xc)),Jc=class extends rc{constructor(e){var t;super(e),t=this,this.style={".popup-blank":{display:"none"}},this.hidePopupFn=null,this.handleAdCustomEvent=function(e){var n=t.options.data;if("showPopup"===e.action&&e.value.popupName===n.popupName?t.showPopup():"hidePopup"===e.action&&e.value.popupName===n.popupName&&t.hidePopup(),"orientationChange"===e.action){var{hideOnOrientationChange:i}=t.getPopupData();i&&t.hidePopup()}},this.addAdCustomListener(this.handleAdCustomEvent)}componentWillUnmount(){super.componentWillUnmount(),this.hidePopup()}doAction(e){"showPopup"===e.payload.action?this.showPopup():"hidePopup"===e.payload.action&&this.hidePopup()}getPopupData(){return{hideOnOrientationChange:this.getDataValueWithDefault("hideOnOrientationChange",!1),mask:this.getDataValue("mask"),maskColor:this.getDataValue("maskColor"),maskOpacity:this.getDataValue("maskOpacity"),popupName:this.getDataValue("popupName"),popupWidth:this.getDataValue("popupWidth"),popupHeight:this.getDataValue("popupHeight"),popupLeft:this.getDataValue("popupLeft"),popupTop:this.getDataValue("popupTop")}}showPopup(){return bs(this,null,(function*(){var e=this,{hostContext:t,template:n,systemInfo:i,adData:r,adDatas:a,renderContext:o,adCustomId:s,extraScope:l,darkMode:u,isMulti:c,emitter:d}=this.props;if(t.showPopup){var p=ms(gs({},this.getPopupData()),{template:n.children[0]}),h=yield t.showPopup({popupOptions:p,renderOptions:{systemInfo:i,adData:r,adDatas:a,darkMode:u,adCustomId:s,isMulti:c,styleOptions:o.styleOptions,flattenLayer:o.isFlattenLayer(),extraScope:l},hostContext:{hidePopupInner:function(){return e.hidePopup()}},renderContext:o,emitter:d});this.hidePopupFn=h.hidePopup}}))}hidePopup(){return bs(this,null,(function*(){this.hidePopupFn&&(yield this.hidePopupFn(),this.hidePopupFn=null)}))}render(){return null}},Qc=Jc=Ts([sc()],Jc),ed=ys(As()),td={1:"与我无关",5:"重复收到多次",4:"内容太差"},nd=class extends rc{constructor(e){var t;super(e),t=this,this.style={".feedback-container":{display:"block",width:"100%",height:"100%"},".feedback-content-warp":{display:"block",width:"100%",paddingTop:5},".feedback":{display:"flex",width:"300px",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",paddingTop:"4px",backgroundColor:"#fff",borderRadius:"8px"},".feedback-spot":{display:"block",position:"absolute",left:18,top:0,width:14,height:7,backgroundImage:"url(resources/angle.png)",backgroundSize:"100% 100%",backgroundPosition:"0 0"},".submit-button":{display:"flex",position:"absolute",top:0,right:16,height:32,backgroundColor:"#07C160",boxSizing:"border-box",borderRadius:3,alignItems:"center",paddingTop:6,paddingBottom:6,paddingLeft:12,paddingRight:12},".submit-button-text":{display:"block",color:"#fff",height:20,lineHeight:20,fontSize:14,fontWeight:600},".disable-btn":{display:"block",backgroundColor:"#f2f2f2"},".disable-btn-text":{display:"block",color:"#c6c6c6"},".feedback-content":{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",paddingLeft:16,paddingRight:16,paddingBottom:12,marginTop:12},".feedback-split-line":{height:1,backgroundColor:"rgba(0, 0, 0, 0.05)",marginLeft:16,marginRight:16,alignSelf:"stretch"},".feedback-bottom":{display:"flex",flexDirection:"row",alignSelf:"stretch",height:52,boxSizing:"border-box",paddingTop:16,paddingBottom:16,paddingLeft:16,paddingRight:16,alignItems:"center",justifyContent:"space-between"},".feedback-bottom:active":{display:"block",backgroundColor:"rgba(0, 0, 0, 0.05)",borderLeftBottomRadius:8,borderRightBottomRadius:8},".feedback-bottom-text":{display:"block",color:"rgba(0, 0, 0, 0.5)",fontSize:14,height:20,lineHeight:20},".feedback-bottom-entry-icon":{display:"block",width:5,height:10,backgroundImage:"url(resources/arrow_right.png)",backgroundSize:"100% 100%",backgroundPosition:"0 0",backgroundRepeat:"no-repeat"},".sponsor-text":{display:"block",color:"rgba(0, 0, 0, 0.5)",fontSize:14,height:20},".question-text":{display:"block",color:"rgba(0, 0, 0, 0.9)",fontSize:14,marginTop:8,height:20,lineHeight:20},".feedback-reason":{display:"flex",flexDirection:"row",marginTop:16},".feedback-option":{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,marginRight:8,backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:4},".feedback-option:active":{display:"block",backgroundColor:"rgba(0, 0, 0, 0.1)"},".feedback-option-icon":{display:"block",width:15,height:15,marginRight:4,flex:"0 0 auto",backgroundSize:"100% 100%",backgroundPosition:"0 0"},".feedback-option-icon-like":{display:"block",backgroundImage:"url(resources/like.png)"},".feedback-option-icon-dontlike":{display:"block",backgroundImage:"url(resources/dontlike.png)"},".feedback-option-text":{display:"block",fontSize:14,height:20,lineHeight:20},".feedback-option-text:active":{},".no-interest-reason":{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:4,flexWrap:"wrap"},".no-interest-option":{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,marginRight:8,marginTop:12,backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:4},".no-interest-option:active":{display:"block",backgroundColor:"rgba(0, 0, 0, 0.1)"},".chosen-option":{backgroundColor:"rgba(7, 193, 96, 0.1)"},".chosen-option-text":{color:"#07C160"},".no-interest-option-icon":{display:"block",width:15,height:15,marginRight:4,flex:"0 0 auto",backgroundSize:"100% 100%",backgroundPosition:"0 0"},".no-interest-option-text":{display:"block",fontSize:14,height:20,lineHeight:20},".hidden":{display:"none"}},this.darkModeStyle={".feedback":{backgroundColor:"#232323"},".feedback-spot":{backgroundImage:"url(resources/angle_dark.png)"},".feedback-split-line":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".feedback-bottom:active":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".feedback-bottom-text":{color:"rgba(255, 255, 255, 0.6)"},".feedback-bottom-entry-icon":{backgroundImage:"url(resources/arrow_right_dark.png)"},".sponsor-text":{color:"rgba(255, 255, 255, 0.5)"},".question-text":{color:"rgba(255, 255, 255, 0.8)"},".feedback-option":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".feedback-option:active":{backgroundColor:"rgba(255, 255, 255, 0.1)"},".feedback-option-icon-like":{backgroundImage:"url(resources/like_dark.png)"},".feedback-option-icon-dontlike":{backgroundImage:"url(resources/dontlike_dark.png)"},".feedback-option-text":{color:"rgba(255, 255, 255, 0.8)"},".disable-btn":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".disable-btn-text":{color:"rgba(255, 255, 255, 0.3)"},".no-interest-option":{backgroundColor:"rgba(255, 255, 255, 0.05)"},".no-interest-option:active":{backgroundColor:"rgba(255, 255, 255, 0.1)"},".no-interest-option-text":{color:"rgba(255, 255, 255, 0.8)"},".chosen-option":{backgroundColor:"rgba(7, 193, 96, 0.1)"},".chosen-option-text":{color:"#07C160"}},this.state={chosenNoInterestOptions:[],isShowFeedbackMenu:!1,dislikeReason:null},this.containerRef=ed.default.createRef(),this.dislikeOrders=[1,5,4],this.handleFavClick=function(e){var n;null==(n=e.stopPropagation)||n.call(e),t.closePopup(),t.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"还不错",event:e}),t.emitAdCustomEvent("feedbackFavTap")},this.handleDislikeClick=function(e){var n;null==(n=e.stopPropagation)||n.call(e),t.setState({isShowFeedbackMenu:!0}),t.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"不感兴趣",event:e})},this.handleFeedbackBtnClick=function(e){var n;null==(n=e.stopPropagation)||n.call(e),t.setState({isShowFeedbackMenu:!1}),t.emitComponentEvent("feedbackBtnTap",{event:e}),t.emitAdCustomEvent("feedbackReport",{firstGradeId:1,firstGradeDesc:"投诉",event:e}),t.closePopup().then((function(){t.emitAdCustomEvent("feedbackBtnTap")}))},this.handleFeedbackContainerClick=function(e){e.target===t.containerRef.current&&t.closePopup()},this.handleSubmit=function(e){t.state.dislikeReason&&(t.emitComponentEvent("dislikeReasonTap",{event:e}),t.emitAdCustomEvent("feedbackReport",{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:t.state.dislikeReason,event:e}),t.closePopup())},this.baseType=this.options.baseType||1,this.avoidAdText=this.getDataValueWithDefault("avoidAdText",!1)}closePopup(){return bs(this,null,(function*(){var e,t;yield null==(t=(e=this.props.hostContext).hidePopupInner)?void 0:t.call(e)}))}handleDislikeReasonClick(e,t){var n;null==(n=t.stopPropagation)||n.call(t),this.setState({dislikeReason:e})}render(){var e=this,{avoidAdText:t,dislikeOrders:n}=this,{isShowFeedbackMenu:i,dislikeReason:r}=this.state,a=function(e){return Kl("no-interest-option",e===r&&"chosen-option")},o=function(e){return Kl("no-interest-option-text",e===r&&"chosen-option-text")};return ed.default.createElement("div",{id:"container",className:"feedback-container",ref:this.containerRef,onClick:this.handleFeedbackContainerClick},ed.default.createElement("div",{id:"contentWarp",className:"feedback-content-warp"},ed.default.createElement("div",{id:"feedbackSpot",className:"feedback-spot"}),ed.default.createElement("div",{id:"feedback",className:"feedback"},ed.default.createElement("div",{id:"feedbackContent",className:"feedback-content"},ed.default.createElement("div",{id:"submitButton",className:Kl("submit-button",!r&&"disable-btn",!i&&"hidden")},ed.default.createElement("text",{id:"submitText",className:Kl("submit-button-text",!r&&"disable-btn-text"),value:"确定",onClick:this.handleSubmit})),ed.default.createElement("text",{id:"sponsorText",className:"sponsor-text",value:"由赞助商提供的内容"}),ed.default.createElement("text",{id:"questionText",className:"question-text",value:t?"你觉得这条内容":"你觉得这条广告怎么样"}),ed.default.createElement("div",{id:"feedbackReason",className:Kl("feedback-reason",i&&"hidden")},ed.default.createElement("div",{id:"feedbackFav",className:"feedback-option",onClick:this.handleFavClick},ed.default.createElement("div",{id:"feedbackFavIcon",className:"feedback-option-icon feedback-option-icon-like"}),ed.default.createElement("text",{id:"feedbackFavText",className:"feedback-option-text",value:"还不错"})),ed.default.createElement("div",{id:"feedbackDislike",className:"feedback-option",onClick:this.handleDislikeClick},ed.default.createElement("div",{id:"feedbackDislikeIcon",className:"feedback-option-icon feedback-option-icon-dontlike"}),ed.default.createElement("text",{id:"feedbackDislikeText",className:"feedback-option-text",value:"不感兴趣"}))),ed.default.createElement("div",{className:Kl("no-interest-reason",!i&&"hidden")},n.map((function(t){return ed.default.createElement("div",{key:t,className:a(t),onClick:e.handleDislikeReasonClick.bind(e,t)},ed.default.createElement("text",{className:o(t),value:td[t]}))})))),ed.default.createElement("div",{className:"feedback-split-line"}),ed.default.createElement("div",{className:"feedback-bottom",onClick:this.handleFeedbackBtnClick},ed.default.createElement("text",{className:"feedback-bottom-text",value:t?"投诉":"投诉广告"}),ed.default.createElement("div",{className:"feedback-bottom-entry-icon"})))))}},id=nd=Ts([sc(),cc()],nd),rd=ys(As()),ad=(ys(As()),function(e){return e.opacity="opacity",e.left="left",e.top="top",e}(ad||{})),od=function(e){return e.rotate="rotate",e.scaleX="scaleX",e.scaleY="scaleY",e}(od||{}),sd=class extends rc{constructor(e){var t;super(e),t=this,this.style={".mult-image":{display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"},".img-row-container":{width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",overflow:"hidden",flex:"1 1 auto",alignItems:"stretch"},".img-container":{display:"flex",flex:"1",overflow:"hidden"},".img-item":{width:"100%",height:"100%",borderRadius:"4px"},".img-container-column-space-right":{marginRight:"2px"},".img-container-column-space-left":{marginLeft:"2px"},".img-container-row-space-bottom":{marginBottom:"2px"},".img-container-row-space-top":{marginTop:"2px"}},this.state={imgUrlArr:[],imgUrlPlacement:[],row:0,column:0},this.retry=[],this.exposureLoadRetry=[],this.loadError=[],this.initADComponent=function(){var e=t.getAdData(),n=[];Array.isArray(e.crtInfo)&&e.crtInfo.length>1?n=e.crtInfo:Array.isArray(e.crtInfos)&&e.crtInfos.length>1&&(n=e.crtInfos),n=null==n?void 0:n.map((function(e){return e.image_url})),t.setImgUrlPlacement(n)},this.initCommonComponent=function(){var e=t.getDataValueWithDefault("imgUrlArr",[]);t.setImgUrlPlacement(e)},this.setImgUrlPlacement=function(e){t.state.imgUrlArr=e,t.state.imgUrlPlacement=t.getImgUrlPlacement(e)},this.getImgUrlPlacement=function(e){for(var{row:n,column:i}=t.state,r=[],a=0;a<e.length;a++){var o=Math.floor(a/i),s=e[a];r[o]?r[o].push(s):r[o]=[s]}return r.splice(n,r.length-n),r},this.handleAdCustomEvent=function(e){if("adShowEdge"===e.action&&-1!==t.loadError.indexOf(!0)){var{imgUrlArr:n}=t.state,i=Number(t.getDataValueWithDefault("attachRetryTimes",5));t.loadError.forEach((function(e,r){var a;if((a=t.exposureLoadRetry)[r]||(a[r]=0),e&&t.exposureLoadRetry[r]<i){t.exposureLoadRetry[r]+=1;var o=n[r],s=bc(o,{exposureLoadRetry:t.exposureLoadRetry[r]});n.splice(r,1,s)}})),t.setState({imgUrlArr:n,imgUrlPlacement:t.getImgUrlPlacement(n)})}},this.handleImgLoad=function(e){return function(){t.loadError[e]=!1,t.emitComponentEvent("imgLoad",{index:e}),t.emitAdCustomEvent("multImgLoad",{index:e})}},this.handleImgError=function(e){return function(){var n;t.loadError[e]=!0;var i=Number(t.getDataValue("retryTimes"));if(i)if((n=t.retry)[e]||(n[e]=0),t.retry[e]<=i){var{imgUrlArr:r}=t.state,a=r[e];t.retry[e]+=1;var o=bc(a,{retry:t.retry[e]});r.splice(e,1,o),t.setState({imgUrlArr:r,imgUrlPlacement:t.getImgUrlPlacement(r)})}else t.emitComponentEvent("imgError",{index:e})}};var n=this.options.baseType||2,i=this.getDataValueWithDefault("row",0),r=this.getDataValueWithDefault("column",0);switch(this.baseType=n,this.state.row=+i,this.state.column=+r,n){case 1:this.initCommonComponent();break;case 2:this.initADComponent()}this.addAdCustomListener(this.handleAdCustomEvent)}doAction({payload:e}){if("imageSetSrc"===e.action){var t=this.getDataValue("imgUrlArr",e.value);this.setState({imgUrlArr:t,imgUrlPlacement:this.getImgUrlPlacement(t)})}}render(){var e=this,{renderMask:t,randomKey:n,maskContainerRef:i}=this.props,r=2===this.baseType,{row:a,column:o,imgUrlPlacement:s}=this.state;return rd.default.createElement("div",{id:"container",className:"mult-image",ref:i,key:n||""},s.map((function(t,n){return rd.default.createElement("div",{className:Kl("img-row-container",`img-row-container-${n}`,n<a-1&&"img-container-row-space-bottom",n>0&&"img-container-row-space-top"),key:`row_${n}`},null==t?void 0:t.map((function(t,i){return rd.default.createElement("div",{className:Kl("img-container",i<o-1&&"img-container-column-space-right",i>0&&"img-container-column-space-left"),key:`column_${i}`},e.loadError[n*o+i]?rd.default.createElement("div",{className:"img-item img-item-placeholder"}):rd.default.createElement("img",ms(gs({},r?{"bubble-event":!1}:{}),{className:"img-item",src:t,onLoad:e.handleImgLoad(n*a+i),onError:e.handleImgError(n*a+i)})))})))})),null==t?void 0:t())}},ld=hc(sd=Ts([sc(),cc()],sd)),ud=ys(As()),cd=["https://wxa.wxs.qq.com/images/factory/star_full_lm.png","https://wxa.wxs.qq.com/images/factory/star_half_lm.png","https://wxa.wxs.qq.com/images/factory/star_empty_lm.png"],dd=["https://wxa.wxs.qq.com/images/factory/star_full_dm.png","https://wxa.wxs.qq.com/images/factory/star_half_dm.png","https://wxa.wxs.qq.com/images/factory/star_empty_dm.png"],pd=["TEXT","STARS","SCORE"],hd=class extends rc{constructor(e){var t;super(e),t=this,this.isNormal=!1,this.textStyle={fontWeight:600,fontSize:"14px",lineHeight:"24px",height:"24px"},this.style={".score":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},".score-title":gs({color:"#10AEFF"},this.textStyle),".score-img-wrapper":{marginLeft:"12px",display:"flex",flexDirection:"row",alignItems:"center",height:this.textStyle.height},".score-img":{height:"13px",width:"13px",marginLeft:"1px"},".score-num":gs({marginLeft:"8px",color:"#10AEFF"},this.textStyle),".split-line":{width:"1px",height:"10px",background:"rgba(0, 0, 0, 0.1)"},".split-line-left":{marginRight:"8px"},".split-line-right":{marginLeft:"8px"}},this.state={buttonText:""},this.useScoreText=!0,this.componentOrders=pd,this.starIcons=cd,this.starIconsDark=dd,this.useLeftSplitLine=!1,this.useRightSplitLine=!1,this.getScoreInfo=function(){var e,n=t.getAdData();return[19,12].includes(n.product_type)&&(null==(e=null==n?void 0:n.app_info)?void 0:e.app_rating)&&!isNaN(n.app_info.app_rating)&&n.app_info.app_rating>=3?Number(n.app_info.app_rating.toFixed(1)):0},this.scoreInfo=function(){var e=t.getAdData(),[n,i,r]=t.props.darkMode?t.starIconsDark:t.starIcons,a=t.getScoreInfo.call(t),o=`${a}`,s=e.product_type;if(a){var l,u=new Array(5).fill(null).map((function(){return n}));return 19===s?l="App Store评分":12===s&&(l="应用宝评分"),3===a?(u[3]=r,u[4]=r):a<=3.5?(u[3]=i,u[4]=r):a<=4?u[4]=r:a<=4.5&&(u[4]=i),/\./.test(o)||(o=`${a}.0`),{scoreTitle:l,scoreImage:u,score:`${o}${t.useScoreText?"分":""}`}}return null},this.useScoreText=!!this.getDataValueWithDefault("useScoreText",!0),this.componentOrders=this.getDataValueWithDefault("componentOrders",pd),this.starIcons=this.getDataValueWithDefault("starIcons",cd),this.starIconsDark=this.getDataValueWithDefault("starIconsDark",dd)||this.starIcons,this.useLeftSplitLine=this.getDataValueWithDefault("useLeftSplitLine",!1),this.useRightSplitLine=this.getDataValueWithDefault("useRightSplitLine",!1)}render(){var e=this.scoreInfo();if(!e)return null;var{scoreTitle:t,scoreImage:n,score:i}=e,{renderMask:r,maskContainerRef:a,randomKey:o}=this.props,{componentOrders:s,useLeftSplitLine:l,useRightSplitLine:u}=this,c=function(e){return ud.default.createElement("text",{key:e,id:"scoreTitle",className:"score-title score-text",value:t})},d=function(e){return ud.default.createElement("text",{key:e,id:"scoreNum",className:"score-num score-text",value:i})},p=function(e){return ud.default.createElement("div",{id:"scoreImgWrapper",className:"score-img-wrapper",key:e},n.map((function(e,t){return ud.default.createElement("img",{key:t,id:`scoreImg${t+1}`,className:"score-img",src:e})})))};return ud.default.createElement("div",{id:"container",className:"score",ref:a,key:o||""},l&&ud.default.createElement("div",{className:"split-line split-line-left"}),s.map((function(e){return function(e){return{TEXT:c(e),SCORE:d(e),STARS:p(e)}[e]}(e)})),u&&ud.default.createElement("div",{className:"split-line split-line-right"}),null==r?void 0:r())}},fd=hc(hd=Ts([sc(),cc()],hd)),_d=ys(As()),vd="https://wxa.wxs.qq.com/images/factory/rankIcon.png",gd=class extends rc{constructor(e){var t;super(e),t=this,this.style={".ranking":{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},".ranking-img":{width:"16px",height:"16px"},".ranking-info":{marginLeft:"8px",color:"#FA9D3B",fontWeight:600,fontSize:"12px",lineHeight:"16px",height:"16px"},".split-line":{width:"1px",height:"10px",background:"rgba(0, 0, 0, 0.1)"},".split-line-left":{marginRight:"8px"},".split-line-right":{marginLeft:"8px"}},this.state={buttonText:""},this.iconUrl=vd,this.useIcon=!1,this.useLeftSplitLine=!1,this.useRightSplitLine=!1,this.useRankSpace=!1,this.getRankingType=function(){var e,n=t.getAdData();switch(null==(e=null==n?void 0:n.extBackComm)?void 0:e.wegame_ranking_type){case 2:return"人气榜";case 3:return"畅销榜";case 4:return"新游榜"}return""},this.getRankingInfo=function(){var e,n=t.getAdData(),i=null==(e=null==n?void 0:n.extBackComm)?void 0:e.wegame_ranking_no;if(!isNaN(i)){var r=+i+1;return r<=5?r:r<=30?r-r%5+5:50}return 0},this.getValue=function(){var e=t.getRankingType.call(t);if(e){var n=t.getRankingInfo.call(t);return`小游戏${e} TOP${t.useRankSpace?" ":""}${n}`}return null},this.iconUrl=this.getDataValueWithDefault("iconUrl",vd),this.useIcon=this.getDataValueWithDefault("useIcon",!0),this.useLeftSplitLine=this.getDataValueWithDefault("useLeftSplitLine",!1),this.useRightSplitLine=this.getDataValueWithDefault("useRightSplitLine",!1),this.useRankSpace=this.getDataValueWithDefault("useRankSpace",!1)}render(){var{renderMask:e,maskContainerRef:t,randomKey:n}=this.props,i=this.getValue();if(!i)return null;var{useIcon:r,iconUrl:a,useLeftSplitLine:o,useRightSplitLine:s}=this;return _d.default.createElement("div",{id:"container",className:"ranking",ref:t,key:n||""},o&&_d.default.createElement("div",{className:"split-line split-line-left"}),r&&_d.default.createElement("img",{id:"rankingImg",className:"ranking-img",src:a}),_d.default.createElement("text",{id:"rankingInfo",className:"ranking-info",value:i}),s&&_d.default.createElement("div",{className:"split-line split-line-right"}),null==e?void 0:e())}},md=hc(gd=Ts([sc(),cc()],gd)),Ed=ys(As()),yd=class extends rc{constructor(e){super(e),this.state={children:[]},this.tag="",this.tagOptions={};var{tag:t,options:n}=this.getComputedData();this.tag=t,this.tagOptions=n,this.state.children=this.template.children||[]}getComputedData(){var e=this.getDataValue("hostStyles"),t={};if(e)for(var n of Object.keys(e)){var i=e[n];if(t[n]={},!i.expr||this.run(i.expr)){var r=gs({},i.style||{});for(var a of(this.props.darkMode&&Object.assign(r,i.darkModeStyle||{}),Object.keys(r))){var o=a,s=r[a];if(a.includes("Expr")){var l=a.split("Expr");2===l.length&&([o]=l,s=this.run(s))}t[n][o]=s}}}var u=this.getDataValue("tagConf"),c={};if(u)for(var d of Object.keys(u)){var p=d,h=u[d];if(d.includes("Expr")){var f=d.split("Expr");2===f.length&&([p]=f,h=this.run(h))}c[p]=h}return{tag:this.getDataValueWithDefault("tag",null),options:{computedStyles:t,computedConf:c,computedClassName:this.getDataValueWithDefault("tagClassName",null)}}}componentDidMount(){super.componentDidMount()}render(){var e=this,{children:t}=this.state,{randomKey:n,renderMask:i,maskContainerRef:r}=this.props;return Ed.default.createElement("div",{id:"container",className:"hosttag",key:n||"",ref:r},Ed.default.createElement("hostTag",{tagName:this.tag,tagOptions:this.tagOptions},t.map((function(t){return Ed.default.createElement(dc,ms(gs({key:t.id},e.getCommonSubComponentProps()),{template:t}))}))),null==i?void 0:i())}},Td=hc(yd=Ts([sc(),cc()],yd)),bd=function(){var e=function(e){return"string"!=typeof e?e:e.replace(/[+ |^%]/g,(function(e){return{" ":"+","+":"%2B","|":"%7C","^":"%5E","%":"%25"}[e]}))},t=function(e){return"string"!=typeof e?e:e.replace(/\+|%2B|%7C|%5E|%25/g,(function(e){return{"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%"}[e]}))},n=function(e){return Number.prototype.toString.call(e,36).toUpperCase()},i=function(e){return parseInt(e,36)},r=Array.prototype.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1};return{JSON:JSON,pack:function(t,i={}){var a=i.verbose||!1;a&&console.log("Normalize the JSON Object"),t="string"==typeof t?JSON.parse(t):t,a&&console.log("Creating a empty dictionary");var o={strings:[],integers:[],floats:[]};a&&console.log("Creating the AST");var s=function t(i){if(a&&console.log(`Calling recursiveAstBuilder with ${JSON.stringify(i)}`),null===i)return{type:"null",index:-3};if(void 0===i)return{type:"undefined",index:-5};if(i instanceof Array){var s=["@"];for(var l of i)s.push(t(l));return s}if("object"==typeof i){var u=["$"];for(var c of Object.keys(i))u.push(t(c)),u.push(t(i[c]));return u}if(""===i)return{type:"empty",index:-4};if("string"==typeof i){var d=r.call(o.strings,i);return-1===d&&(o.strings.push(e(i)),d=o.strings.length-1),{type:"strings",index:d}}if("number"==typeof i&&i%1==0){var p=r.call(o.integers,i);return-1===p&&(o.integers.push(n(i)),p=o.integers.length-1),{type:"integers",index:p}}if("number"==typeof i){var h=r.call(o.floats,i);return-1===h&&(o.floats.push(i),h=o.floats.length-1),{type:"floats",index:h}}if("boolean"==typeof i)return{type:"boolean",index:i?-1:-2};throw new Error("Unexpected argument of type "+typeof i)}(t),l=o.strings.length,u=o.integers.length;a&&console.log("Parsing the dictionary");var c=o.strings.join("|");return c+=`^${o.integers.join("|")}`,c+=`^${o.floats.join("|")}`,a&&console.log("Parsing the structure"),c+=`^${function e(t){if(a&&console.log(`Calling a recursiveParser with ${JSON.stringify(t)}`),t instanceof Array){var i=t.shift();for(var r of t)i+=`${e(r)}|`;return`${"|"===i[i.length-1]?i.slice(0,-1):i}]`}var{type:o}=t,{index:s}=t;if("strings"===o)return n(s);if("integers"===o)return n(l+s);if("floats"===o)return n(l+u+s);if("boolean"===o)return t.index;if("null"===o)return-3;if("undefined"===o)return-5;if("empty"===o)return-4;throw new TypeError("The item is alien!")}(s)}`,a&&console.log("Ending parser"),i.debug?{dictionary:o,ast:s,packed:c}:c},unpack:function(e,n={}){n=n||{};var r=e.split("^");n.verbose&&console.log("Building dictionary");var a=[],o=r[0];if(""!==o){o=o.split("|"),n.verbose&&console.log("Parse the strings dictionary");for(var s=0,l=o.length;s<l;s++)a.push(t(o[s]))}if(""!==(o=r[1])){o=o.split("|"),n.verbose&&console.log("Parse the integers dictionary");for(var u=0,c=o.length;u<c;u++)a.push(i(o[u]))}if(""!==(o=r[2])){o=o.split("|"),n.verbose&&console.log("Parse the floats dictionary");for(var d=0,p=o.length;d<p;d++)a.push(parseFloat(o[d]))}o=null,n.verbose&&console.log("Tokenizing the structure");for(var h="",f=[],_=r[3].length,v=0;v<_;v++){var g=r[3].charAt(v);"|"===g||"$"===g||"@"===g||"]"===g?(h&&(f.push(i(h)),h=""),"|"!==g&&f.push(g)):h+=g}var m=f.length,E=0;return n.verbose&&console.log("Starting recursive parser"),function e(){var t=f[E];if(E+=1,n.verbose&&console.log("Reading collection type "+("$"===t?"object":"Array")),"@"===t){for(var i=[];E<m;E++){var r=f[E];if(n.verbose&&console.log(`Read ${r} symbol`),"]"===r)return i;if("@"===r||"$"===r)i.push(e());else switch(r){case-1:i.push(!0);break;case-2:i.push(!1);break;case-3:i.push(null);break;case-5:i.push(void 0);break;case-4:i.push("");break;default:i.push(a[r])}}return n.verbose&&console.log(`Parsed ${JSON.stringify(i)}`),i}if("$"===t){for(var o={};E<m;E++){var s=f[E];if("]"===s)return o;s=-4===s?"":a[s];var l=f[E+=1];if("@"===l||"$"===l)o[s]=e();else switch(l){case-1:o[s]=!0;break;case-2:o[s]=!1;break;case-3:o[s]=null;break;case-5:o[s]=void 0;break;case-4:o[s]="";break;default:o[s]=a[l]}}return n.verbose&&console.log(`Parsed ${JSON.stringify(o)}`),o}throw new TypeError(`Bad token ${t} isn't a type`)}()}}}(),{unpack:Cd,pack:Sd}=bd;const Ad=g("ad-custom-text").behavior(v.ZP).behavior(Jo).behavior(Qo).definition({using:{div:"view",img:"image"},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o=!0===i;return{C:function(t,s,l){l("div",{},(function(t,n){n&&e.i(t,"container"),n&&r(t,"ad-custom-text")}),(function(t,s,l,u){var c=n._hasEmoji?1:0;u(c,(function(t,s,l){1===c&&l("text",{},(function(t,s){s&&a(t,"overflow","ellipsis"),s&&e.i(t,"text"),(s||o||i.c||(i._classEllipsis,1))&&r(t,fe(n.c)("ad-custom-text-text ad-custom-text-ellipsis",{adCustomTextEllipsis:n._classEllipsis}))}),(function(e,t,s,l,u){u(n._textGroup||[],null,i?(i._textGroup,!0):void 0,null,(function(e,t,n,i,s,l,u,c,d){var p="img"===de(t).type?1:0;d(p,(function(e,n,s){1===p&&s("img",{},(function(e,n){n&&r(e,"ad-custom-text-emoji-img"),(n||o||he(he(i,"props"),"src"))&&a(e,"src",de(de(t).props).src)}),(function(e){}))}));var h="span"===de(t).type?1:0;d(h,(function(e,n,a){1===h&&a("text",{},(function(e,t){t&&r(e,"ad-custom-text-emoji-text")}),(function(e,n){e||o||he(i,"children")?n(pe(de(t).children)):n()}))}))}))}))}));var d=n._hasEmoji?0:1;u(d,(function(t,a,s){1===d&&s("text",{},(function(t,a){a&&e.i(t,"text"),(a||o||i.c||(i._classEllipsis,1))&&r(t,fe(n.c)("ad-custom-text-text",{adCustomTextEllipsis:n._classEllipsis}))}),(function(e,t){e||o||i.truncate||i._text||i._classEllipsis||i._maxLen?t(pe(fe(n.truncate)(n._text,n._classEllipsis,n._maxLen))):t()}))}))}))},B:{}}},function(t){return e[t]}}()},data:{_text:"",_classEllipsis:!1,_maxLen:0,_textGroup:[],_hasEmoji:!1},attached:function(){this.init(),this._updateInnerStyle(),this._emitComponentLifeCycle("onInit")},detached:function(){this.inited=!1,this._emitComponentLifeCycle("onDestroy")},methods:{init:function(){if(!this.inited){this.inited=!0;var e,t=this._options.baseType||vr.NICKNAME;t===vr.COMMON?this.initCommonComponent():t===vr.NICKNAME?this.initNickNameComponent():t===vr.DESC&&this.initDescComponent(),this.setData({_classEllipsis:this._getDataValueWithDefault("isEllipsis",!0),_maxLen:this._getDataValueWithDefault("maxLen",0)}),e=this.data._text,/\[.*?\]/g.test(e)&&this.initEmojiText()}},initEmojiText:function(){this.setData({_hasEmoji:!0,_textGroup:as(`${this.data._text}`)}),this.initEmojiStyle()},initEmojiStyle:function(){var e,t,n,i,r=this,a=null===(e=this._options)||void 0===e||null===(t=e.innerStyles)||void 0===t||null===(n=t.text)||void 0===n||null===(i=n.style)||void 0===i?void 0:i.lineHeight,o=function(e){var t;"img"===e.is&&(r._setElementStyle(e,"height",a),r._setElementStyle(e,"width",a)),null==e||null===(t=e.childNodes)||void 0===t||t.forEach((function(e){o(e)}))};a&&o(this.$.text)},initCommonComponent:function(){this.setData({_text:this._getDataValue("text")})},initNickNameComponent:function(){var e,t=this._getCustomAdData();if(null!==(e=t.extBackComm)&&void 0!==e&&e.nick_name)this.setData({_text:t.extBackComm.nick_name});else{if([ji.APPLE_APP_STORE,ji.OPEN_PLATFORM_APP_MOB].indexOf(t.product_type)>-1?this.setData({_text:t.app_info.app_name}):[ji.MINI_GAME].indexOf(t.product_type)>-1&&t.game_info?this.setData({_text:t.game_info.nick_name}):this.setData({_text:t.biz_info.nick_name}),-1!==[559,560].indexOf(t.crt_size)&&t.crtInfo&&t.crtInfo[0]&&t.crtInfo[0].wxgame_video_card){var n=t.crtInfo[0].wxgame_video_card||{};this.setData({_text:n.title})}if(t.crt_size===zs.CRT_SIZE_MULTI_SLOT_BOX){var i,r=null===(i=t.weapp_info)||void 0===i?void 0:i.nick_name;r&&this.setData({_text:r})}if(!this.data._text){var a,o,s=null===(a=t.crtInfo)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.card_info;null!=s&&s.title?this.setData({_text:s.title}):-1!==[ji.WE_CHAT_ARTICLE,ji.GDT_WE_CHAT_ARTICLE].indexOf(t.product_type)?this.setData({_text:"品牌推广"}):-1!==[ji.WE_CHAT_SHOP,ji.JD_URL].indexOf(t.product_type)?this.setData({_text:"电商推广"}):this.setData({_text:"活动推广"})}}},initDescComponent:function(){var e,t=this._getCustomAdData();if(null!==(e=t.extBackComm)&&void 0!==e&&e.desc_1)this.setData({_text:t.extBackComm.desc_1});else{var n,i;if(-1!==[zs.CRT_SIZE_WXGAME_VIDEO_0,zs.CRT_SIZE_WXGAME_VIDEO_1,zs.CRT_SIZE_MULTI_SLOT_VIDEO].indexOf(t.crt_size)&&t.crtInfo&&t.crtInfo[0]&&t.crtInfo[0].wxgame_video_card){var r=t.crtInfo[0].wxgame_video_card||{};this.setData({_text:r.desc})}else-1!==[zs.CRT_SIZE_MULTI_SLOT_IMAGE,zs.CRT_SIZE_IN_TEXT_841].indexOf(t.crt_size)&&t.hint_txt&&this.setData({_text:t.hint_txt});var a,o=null===(n=t.crtInfo)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.card_info;if(!this.data._text&&o&&o.description&&"string"==typeof o.description&&this.setData({_text:o.description}),this.data._text||([ji.APPLE_APP_STORE,ji.OPEN_PLATFORM_APP_MOB].indexOf(t.product_type)>-1?this.setData({_text:t.app_info.desc}):this.setData({_text:t.biz_info.signature})),!this.data._text&&this._getDataValueWithDefault("useDefault",!1))null!==(a=t.extBackComm)&&void 0!==a&&a.default_desc?this.setData({_text:t.extBackComm.default_desc}):-1!==[ji.WE_CHAT_ARTICLE,ji.GDT_WE_CHAT_ARTICLE].indexOf(t.product_type)?this.setData({_text:"今日活动推荐"}):-1!==[ji.WE_CHAT_SHOP,ji.JD_URL].indexOf(t.product_type)?this.setData({_text:"今日商品推荐"}):-1!==[ji.OPEN_PLATFORM_APP_MOB,ji.APPLE_APP_STORE].indexOf(t.product_type)?this.setData({_text:"今日应用推荐"}):-1!==[ji.WECHAT].indexOf(t.product_type)?this.setData({_text:"今日公众号推荐"}):-1!==[ji.MINI_GAME].indexOf(t.product_type)?this.setData({_text:"今日小游戏推荐"}):this.setData({_text:"今日活动推荐"})}},doAction:function(e){var t=e.payload||{},n=t.action,i=t.value;n===Nr.TEXTSETTEXT&&this.setData({_text:this._getDataValue("text",i)})}}}).registerComponent();var Id=function(e,t){return!!(e&&t&&t.condition)&&(t.condition[e]||void 0===t.condition[e])},Pd="https://wxa.wxs.qq.com/images/wxapp/pause_download.png",wd="https://wxa.wxs.qq.com/images/wxapp/start_download.png";const Rd=g("ad-custom-button").behavior(v.ZP).behavior(Jo).behavior(Qo).definition({using:{div:"view",img:"image"},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={_buttonText:new Array(1)},s=!0===i;return{C:function(t,l,u){u("div",{},(function(t,n){n&&e.i(t,"container"),n&&r(t,"ad-custom-button"),n&&e.v(t,"tap","handleButtonTap",!1,!1,!1,!1)}),(function(t,l,u,c){u("div",{},(function(t,n){n&&e.i(t,"buttonText"),n&&r(t,"ad-custom-button-text")}),(function(e,t){e||s||i._buttonText?t(pe(n._buttonText),(function(e){o._buttonText[0]=function(t,n,i){i(e,pe(t._buttonText))}})):t()}));var d=n._isHandleDownload?1:0;c(d,(function(t,o,l){1===d&&l("div",{},(function(t,n){n&&e.i(t,"downloadContainer"),n&&r(t,"ad-custom-button-download-container")}),(function(t,o,l){l("div",{},(function(t,n){n&&e.i(t,"progressBarContainer"),n&&r(t,"ad-custom-button-progress-bar-container")}),(function(t,n,i){i("div",{},(function(t,n){n&&e.i(t,"progressBarBg"),n&&r(t,"ad-custom-button-progress-bar-bg")}),(function(e){})),i("div",{},(function(t,n){n&&e.i(t,"progressBar"),n&&r(t,"ad-custom-button-progress-bar")}),(function(e){}))})),l("img",{},(function(t,o){o&&e.i(t,"downloadIcon"),(o||s||i._hideInnerRequest||i._downloadIcon)&&a(t,"src",fe(n._hideInnerRequest)(n._downloadIcon)),o&&r(t,"ad-custom-button-download-icon")}),(function(e){}))}))}))}))},B:o}},function(t){return e[t]}}()},data:{_buttonText:"",_downloadProgress:0,_downloadIcon:Pd,_isHandleDownload:!1,_backColors:{},_ignoreBtnChange:!1},attached:function(){this.init(),this._updateInnerStyle(),this.updateDownloadStyle(),this._emitComponentLifeCycle("onInit")},detached:function(){this.inited=!1,this._removeAdCustomListener(),this._emitComponentLifeCycle("onDestroy")},methods:{init:function(){if(!this.inited){this.inited=!0;var e=this._options.baseType||gr.LOGICCOMMON;this.baseType=e,this.setData({_ignoreBtnChange:this._getDataValue("ignoreBtnChange",!1)}),e===gr.COMMON?this.initCommonComponent():e===gr.LOGICCOMMON&&this.initLogicCommonComponent()}},initCommonComponent:function(){this.setData({_buttonText:this._getDataValue("buttonText")})},initLogicCommonComponent:function(){var e=this,t=this._getCustomAdData(),n=this._getDataValue("buttonText");n?this.setData({_buttonText:n}):23===t.product_type?this.setData({_buttonText:t.biz_info.is_subscribed?"查看":t.button_action.button_text}):this.setData({_buttonText:t.button_action.button_text}),this._addAdCustomListener((function(t){e.onAdCustomEvent(t)})),this.setData({_isHandleDownload:[ji.APPLE_APP_STORE,ji.OPEN_PLATFORM_APP_MOB].indexOf(t.product_type)>-1&&Id("widget_gray_appdownload",t)&&this._getDataValueWithDefault("isUseDownload",!0)})},doAction:function(e){var t=e.payload||{},n=t.action,i=t.value;n===Nr.BUTTONSETTEXT&&this.setText(i)},setText:function(e={}){this.setData({_buttonText:this._getDataValue("text",e)})},onAdCustomEvent:function(e={}){var t=e.action,n=e.value||{};if(t===Or.CHANGEADBTNTEXT){if(this.data._ignoreBtnChange)return;this.data._isHandleDownload?n.downloadState===Yi.ING?(this.showDownloadStyle(),this.$.progressBar&&n.progress&&this._setElementStyle(this.$.progressBar,"width",`${n.progress}%`),this.setData({_downloadIcon:Pd})):n.downloadState===Yi.PAUSE?(this.showDownloadStyle(),this.setData({_downloadIcon:wd})):(this.hideDownloadStyle(),n.text&&this.setData({_buttonText:n.text})):n.text&&this.setData({_buttonText:n.text})}},handleButtonTap:function(e){this.baseType===gr.LOGICCOMMON&&(null==e||e.stopPropagation(),this._emitAdCustomEvent(Or.BTNTAP,{event:e,isHandleDownload:this.data._isHandleDownload})),this._emitComponentEvent(mr.BUTTONTAP,{event:e})},updateBackColorStyle:function(e,t,n){this.setData({_backColors:{...this.data._backColors,[n||t]:e[t]}})},updateDownloadStyle:function(){var e=s()((function*(){var e=this;if(this.data._isHandleDownload)try{var t=yield this._getComputedStyle(this.$.container),n=yield this._getComputedStyle(this.$.buttonText);if(!t||!n)return;var i=parseFloat(t.width),r=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||0,a=parseFloat(n.fontSize)||14;this._setElementStyle(this.$.downloadIcon,"width",`${a+2}px`),this._setElementStyle(this.$.downloadIcon,"height",`${a+2}px`),this._setElementStyle(this.$.progressBarContainer,"width",i-Math.max(r-8,0)-a-2+"px"),t.borderColor&&parseFloat(t.borderWidth)>0&&this.updateBackColorStyle(t,"borderColor"),t.backgroundColor&&this.updateBackColorStyle(t,"backgroundColor"),n.color&&this.updateBackColorStyle(t,"color","textColor");var o=["borderColor","backgroundColor","textColor"].map((function(t){return e.data._backColors[t]})).filter((function(e){return!!e&&!["transparent","#ffffff","#000000","#1f1f1f","rgb(255, 255, 255)","rgb(0, 0, 0)","rgb(31, 31, 31)"].includes(e.toLowerCase())}));null!=o&&o.length&&(this._setElementStyle(this.$.progressBarBg,"backgroundColor",o[0]),this._setElementStyle(this.$.progressBar,"backgroundColor",o[0]))}catch(e){this._emitAdCustomEvent(Or.REPORTADMONITORDATA,{key:"UPDATEDOWNLOADERROR",data:null==e?void 0:e.stack})}}));return function(){return e.apply(this,arguments)}}(),showDownloadStyle:function(){this.data._backColors.borderColor&&this._setElementStyle(this.$.container,"borderColor","transparent"),this.data._backColors.backgroundColor&&this._setElementStyle(this.$.container,"backgroundColor","transparent"),this.data._backColors.textColor&&this._setElementStyle(this.$.buttonText,"color","transparent"),this.$.downloadContainer&&this._setElementStyle(this.$.downloadContainer,"left","0px")},hideDownloadStyle:function(){this.data._backColors.borderColor&&this._setElementStyle(this.$.container,"borderColor",this.data._backColors.borderColor),this.data._backColors.backgroundColor&&this._setElementStyle(this.$.container,"backgroundColor",this.data._backColors.backgroundColor),this.data._backColors.textColor&&this._setElementStyle(this.$.buttonText,"color",this.data._backColors.textColor),this.$.downloadContainer&&this._setElementStyle(this.$.downloadContainer,"left","-9999px")}}}).registerComponent();var xd=r.cj;const Od=g("ad-custom-video").behavior(v.ZP).behavior(Jo).behavior(Qo).definition({using:{div:"view",img:"image"},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={_autoplay:new Array(1),_loop:new Array(1),_objectFit:new Array(1),_src:new Array(1),_poster:new Array(1)},s=!0===i;return{C:function(t,l,u){u("div",{},(function(t,n){n&&e.i(t,"container"),n&&r(t,"ad-custom-video")}),(function(t,l,u,c){u("video",{},(function(t,l){l&&e.i(t,"video"),l&&r(t,"ad-custom-video-context"),(l||s||i._hideInnerRequest||i._src)&&a(t,"src",fe(n._hideInnerRequest)(n._src)),o._src[0]=function(e,n,i){a(t,"src",fe(e._hideInnerRequest)(e._src)),n(t)},(l||s||i._hideInnerRequest||i._poster)&&a(t,"poster",fe(n._hideInnerRequest)(n._poster)),o._poster[0]=function(e,n,i){a(t,"poster",fe(e._hideInnerRequest)(e._poster)),n(t)},(l||s)&&a(t,"controls",!1),(l||s||i._muted)&&a(t,"muted",n._muted),(l||s||i._loop)&&a(t,"loop",n._loop),o._loop[0]=function(e,n,i){a(t,"loop",e._loop),n(t)},(l||s)&&a(t,"show-progress",!1),(l||s)&&a(t,"show-play-btn",!1),(l||s)&&a(t,"show-center-play-btn",!1),(l||s||i._autoplay)&&a(t,"autoplay",n._autoplay),o._autoplay[0]=function(e,n,i){a(t,"autoplay",e._autoplay),n(t)},(l||s)&&a(t,"show-fullscreen-btn",!1),(l||s)&&a(t,"enable-progress-gesture",!1),(l||s||i._objectFit)&&a(t,"object-fit",n._objectFit),o._objectFit[0]=function(e,n,i){a(t,"object-fit",e._objectFit),n(t)},l&&e.y(t,"width:100%;"),l&&e.v(t,"timeupdate","onVideoTimeUpdate",!1,!1,!1,!1),l&&e.v(t,"ended","onVideoEnded",!1,!1,!1,!1),l&&e.v(t,"play","onVideoPlay",!1,!1,!1,!1),l&&e.v(t,"pause","onVideoPause",!1,!1,!1,!1),l&&e.v(t,"loadedmetadata","onVideoLoadedMetaData",!1,!1,!1,!1),l&&e.v(t,"error","onVideoError",!1,!1,!1,!1)}),(function(t,i,a,o){var s=n._isShowProgress?1:0;o(s,(function(t,n,i){1===s&&i("div",{},(function(t,n){n&&e.i(t,"videoProgress"),n&&r(t,"ad-custom-video-progress")}),(function(t,n,i){i("div",{},(function(t,n){n&&e.i(t,"videoProgressPlayed"),n&&r(t,"ad-custom-video-progress-played")}),(function(e){}))}))}))}));var d=n._isShowVoice?1:0;c(d,(function(t,o,l){1===d&&l("div",{},(function(t,a){a&&e.i(t,"videovoicebox"),(a||s||i.c||(i._classListBottomLeft,i._classListBottomRight,i._classListTopLeft,i._classListTopRight,1))&&r(t,fe(n.c)("ad-custom-video-voice-box",{adCustomVideoVoiceBoxBottomleft:n._classListBottomLeft,adCustomVideoVoiceBoxBottomright:n._classListBottomRight,adCustomVideoVoiceBoxTopleft:n._classListTopLeft,adCustomVideoVoiceBoxTopright:n._classListTopRight})),a&&e.v(t,"tap","toggleMuted",!0,!1,!1,!1)}),(function(t,o,l,u){var c=n._muted?0:1;u(c,(function(t,o,l){1===c&&l("img",{},(function(t,o){(o||s||i._hideInnerRequest||i.voiceIconSrc)&&a(t,"src",fe(n._hideInnerRequest)(n.voiceIconSrc)),o&&e.i(t,"videovoiceimg"),o&&r(t,"ad-custom-video-voice-icon")}),(function(e){}))}));var d=n._muted?1:0;u(d,(function(t,o,l){1===d&&l("img",{},(function(t,o){(o||s||i._hideInnerRequest||i.mutedIconSrc)&&a(t,"src",fe(n._hideInnerRequest)(n.mutedIconSrc)),o&&e.i(t,"videovoiceimg"),o&&r(t,"ad-custom-video-voice-icon")}),(function(e){}))}))}))}))}))},B:o}},function(t){return e[t]}}()},data:{_src:"",_poster:"",_autoplay:!1,_muted:!0,_loop:!0,_objectFit:"contain",_isShowVoice:!0,_isShowProgress:!0,_isShowEndPage:!1,_isEndPageShowing:!1,_classListBottomLeft:!1,_classListBottomRight:!1,_classListTopLeft:!1,_classListTopRight:!1,_isPreload:!1,_keepAliveTimer:null,voiceIconSrc:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTEwLjggNC43Yy40LS40IDEtLjQgMS40IDAgLjIuMi4zLjQuMy43djEzLjJjMCAuNi0uNCAxLTEgMS0uMyAwLS41LS4xLS43LS4zTDcgMTUuNUgyLjVjLS42IDAtMS0uNC0xLTF2LTVjMC0uNi40LTEgMS0xSDdsMy44LTMuOHptNi45IDEuNGMxLjYgMS42IDIuNSAzLjcgMi41IDUuOXMtLjggNC4yLTIuNCA1LjhsLS4xLjEtMS4xLTEuMS4xLS4xYzEuMy0xLjMgMS45LTIuOSAxLjktNC43cy0uNy0zLjQtMS45LTQuN2wtLjEtLjEgMS4xLTEuMXptLTIgMmMxLjEgMS4xIDEuNyAyLjUgMS43IDMuOXMtLjYgMi44LTEuNiAzLjhsLS4xLjEtMS4xLTEuMS4xLS4xYy43LS43IDEuMS0xLjcgMS4xLTIuN3MtLjQtMi0xLjEtMi43bC0uMS0uMSAxLjEtMS4xeiIgZmlsbD0iI2ZmZiIgb3BhY2l0eT0iLjgiLz48L3N2Zz4=",mutedIconSrc:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4PSIwIiB5PSIwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgPGcgaWQ9Iumhtemdoi0xXzFfIiBvcGFjaXR5PSIuOCI+CiAgICAgICAgPGcgaWQ9Il94MzNfLkljb25zX3gyRl9GaWxsZWRfeDJGX3ZvbHVtZS11cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIgLTQpIj4KICAgICAgICAgICAgPGcgaWQ9Iumfs+mHjyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMiA0KSI+CiAgICAgICAgICAgICAgICA8cGF0aCBpZD0iQ29tYmluZWQtU2hhcGVfMV8iIGZpbGw9IiNmZmYiIGQ9Ik0tMTIuMSA0LjdjLjQtLjQgMS0uNCAxLjQgMCAuMi4yLjMuNC4zLjd2MTMuMmMwIC42LS40IDEtMSAxLS4zIDAtLjUtLjEtLjctLjNsLTMuOC0zLjhoLTQuNWMtLjYgMC0xLS40LTEtMXYtNWMwLS42LjQtMSAxLTFoNC41bDMuOC0zLjh6bTYuOSAxLjRjMS42IDEuNiAyLjUgMy43IDIuNSA1LjlzLS44IDQuMi0yLjQgNS44bC0uMS4xLTEuMS0xLjEuMS0uMWMxLjMtMS4zIDEuOS0yLjkgMS45LTQuN1MtNSA4LjYtNi4yIDcuM2wtLjEtLjEgMS4xLTEuMXptLTIgMmwuMS4xYzEgMSAxLjYgMi40IDEuNiAzLjhzLS42IDIuOC0xLjYgMy44bC0uMS4xLTEuMS0xLjEuMS0uMWMuNy0uNyAxLjEtMS43IDEuMS0yLjdzLS40LTItMS4xLTIuN2wtLjEtLjEgMS4xLTEuMXoiIC8+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyBpZD0i6aG16Z2iLTFfM18iIG9wYWNpdHk9Ii44Ij4KICAgICAgICA8ZyBpZD0i5bqV6YOo5bm/5ZGK5aSH5Lu9XzFfIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzAgLTk4NSkiPgogICAgICAgICAgICA8ZyBpZD0i57yW57uELTMwXzFfIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNiA4MjApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSLnvJbnu4QtOF8xXyI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Il94MzNfLkljb25zX3gyRl9GaWxsZWRfeDJGX3ZvbHVtZS1vZmZfMV8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyIDE2MikiPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBpZD0iQ29tYmluZWQtU2hhcGVfM18iIGZpbGw9IiNmZmYiIGQ9Ik02LjYgNmwzLjkgMy45IDIuMi0yLjJjLjQtLjQgMS0uNCAxLjQgMCAuMy4yLjQuMy40LjZ2NS42bDIuOSAyLjljLjMtLjUuNC0xLjEuNC0xLjggMC0xLS40LTItMS4xLTIuN2wtLjEtLjEgMS4xLTEuMS4xLjFjMSAxIDEuNiAyLjQgMS42IDMuOCAwIDEtLjMgMi0uOSAyLjlsLjkuOWMuOC0xLjEgMS4yLTIuNCAxLjItMy44IDAtMS44LS43LTMuNC0xLjktNC43bC0uMS0uMSAxLjEtMS4xLjEuMWMxLjUgMS41IDIuNCAzLjYgMi40IDUuOCAwIDEuOC0uNSAzLjUtMS42IDQuOWwzIDMtMS4xIDEuMS0xNy0xNyAxLjEtMXptMS4zIDUuNWw2LjYgNi42djMuNWMwIC42LS40IDEtMSAxLS4zIDAtLjQtLjEtLjYtLjJsLS4xLS4xTDkgMTguNUg0LjVjLS42IDAtLjktLjMtMS0uOXYtNS4xYzAtLjYuMy0uOS45LTFoMy41eiIgLz4KICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==",currentTime:0,videoDuration:0,lastReportVideoTime:0},attached:function(){this.init(),this._updateInnerStyle(),this._emitComponentLifeCycle("onInit")},detached:function(){this.inited=!1,this._removeAdCustomListener(),this.removeEventListener();var e=Math.min(this.data.currentTime,this.data.videoDuration);this.reportVideoPlay("partial","close",e),this.stopKeepAliveTimer(),this._emitComponentLifeCycle("onDestroy")},methods:{init:function(){var e=this;this.inited||(this.inited=!0,this.baseType=this._options.baseType||Er.AD,this.baseType===Er.COMMON?this.initCommonComponent():this.baseType===Er.AD&&this.initADComponent(),this.updateVoice(),this.setData({_objectFit:this._getDataValueWithDefault("objectFit","contain"),_muted:this._getDataValueWithDefault("muted",!0)}),setTimeout((function(){e._emitComponentEvent(Tr.MUTEDCHANGE,{muted:e.data._muted})}),0),this.setData({_loop:this._getDataValueWithDefault("loop",!0),_isShowProgress:this._getDataValueWithDefault("isShowProgress",!0)}))},initCommonComponent:function(){this.setData({_src:this._getDataValue("src"),_poster:this._getDataValue("poster")})},initADComponent:function(){var e,t=this,n=this._getCustomAdData(),i=this._getDataValue("src"),r=this._getDataValue("poster");i?this.setData({_src:i}):null!==(e=n.video_info)&&void 0!==e&&e.preloadUrl?this.setData({_src:n.video_info.preloadUrl,_isPreload:!0}):this.setData({_src:n.video_info.videoUrl,_isPreload:!1});this._emitAdCustomEvent(Or.REPORTTIMEPOINT,{key:this.data._isPreload?"p15":"p8"}),r?this.setData({_poster:r}):this.setData({_poster:n.video_info.thumbUrl}),this._addAdCustomListener((function(e){t.onAdCustomEvent(e)})),this.setData({videoDuration:oo(n,["wx_game_video","short_video","video_duration"])||oo(n,["crtInfo","0","short_video","video_duration"],0)}),this.setData({videoDuration:1e3*this.data.videoDuration});var a={currentTime:0,duration:this.data.videoDuration};this.baseType===Er.AD&&Lo(this.data.adCustomId,a)},addEventListener:function(){},removeEventListener:function(){},doAction:function(e){var t=(e.payload||{}).action;t===Nr.VIDEOTOGGLEMUTED?this.toggleMuted():t===Nr.VIDEOPLAY?this.operateVideoPlay("play"):t===Nr.VIDEOPAUSE?this.operateVideoPlay("pause"):t===Nr.VIDEOSTOP&&this.operateVideoPlay("stop")},toggleMuted:function(e){this.setData({_muted:!this.data._muted}),this._emitComponentEvent(Tr.MUTEDCHANGE,{muted:this.data._muted}),null==e||e.stopPropagation()},onAdCustomEvent:function(e){var t=e.action,n=e.value||{};if(t===Or.ADSHOWHALF)this.data._isEndPageShowing||this.operateVideoPlay("play");else if(t===Or.ADHIDEHALF)this.data._isEndPageShowing||this.operateVideoPlay("pause");else if(t===Or.APPENTERBACKGROUND){var i=Math.min(this.data.currentTime,this.data.videoDuration);n.inAdDetail?this.reportVideoPlay("partial","exit",i):this.reportVideoPlay("partial","app_exit",i)}else t===Or.ENDPAGEINIT?(this.setData({_isShowEndPage:this._getDataValueWithDefault("isShowEndPage",!1)}),this.data._isShowEndPage&&this.setData({_loop:!1})):t===Or.ENDPAGEHIDE?this.data._isShowEndPage&&(this.setData({_isEndPageShowing:!1}),this.operateVideoPlay("play")):t===Or.ENDPAGESHOW&&this.data._isShowEndPage&&this.setData({_isEndPageShowing:!0})},operateVideoPlay:function(e){if(["play","pause","stop","seek"].includes(e)){this.setData({_autoplay:"play"===e});try{var t,n=this.$.video||{};n[e](),null===(t=n[e])||void 0===t||t.call(n)}catch(e){}}"play"===e&&this.startKeepAliveTimer()},updateVoice:function(){this.setData({_isShowVoice:this._getDataValueWithDefault("isShowVoice",!0)});var e={bottomLeft:"_classListBottomLeft",bottomRight:"_classListBottomRight",topLeft:"_classListTopLeft",topRight:"_classListTopRight"}[this._getDataValue("voicePosition")||"bottomLeft"];this.setData({_classListBottomLeft:!1,_classListBottomRight:!1,_classListTopLeft:!1,_classListTopRight:!1,[e]:!0})},onVideoPlay:function(e){this._emitAdCustomEvent(Or.ADVIDEOPLAY),this._emitComponentEvent(Tr.VIDEOPLAY,{event:e});var t=Math.min(this.data.currentTime,this.data.videoDuration);0===this.data.lastReportVideoTime&&this.reportVideoPlay("partial","start",t)},onVideoTimeUpdate:function(e){var t=e.detail.currentTime/e.detail.duration;t=Math.min(1,t),this.$.videoProgressPlayed&&this._setElementStyle(this.$.videoProgressPlayed,"width",100*t+"%"),this._emitComponentEvent(Tr.VIDEOTIMEUPDATE,{event:e,rate:t}),this.setData({currentTime:1e3*e.detail.currentTime}),this.data.videoDuration||this.setData({videoDuration:1e3*e.detail.duration});var n={currentTime:this.data.currentTime,duration:this.data.videoDuration};this.baseType===Er.AD&&Lo(this.data.adCustomId,n),this.startKeepAliveTimer()},onVideoEnded:function(e){var t;(this._emitComponentEvent(Tr.VIDEOEND,{event:e}),this._emitAdCustomEvent(Or.TRIGGEREVENT,{eventName:"videoended",detail:{baseType:this.baseType}}),this.reportVideoPlay("viewable","end",this.data.videoDuration),this.setData({currentTime:0,lastReportVideoTime:0}),xd&&this.data._isShowEndPage&&this.reportVideoPlay("partial","start"),this.data._isShowEndPage)&&this._emitAdCustomEvent(Or.SHOWENDPAGE,{videoId:null===(t=this.data.tpl)||void 0===t?void 0:t.id});this.stopKeepAliveTimer()},onVideoPause:function(e){this._emitAdCustomEvent(Or.ADVIDEOPAUSE),this._emitComponentEvent(Tr.VIDEOPAUSE,{event:e});var t=Math.min(this.data.currentTime,this.data.videoDuration);this.reportVideoPlay("partial","close",t),this.stopKeepAliveTimer()},onVideoLoadedMetaData:function(e){this.baseType===Er.AD&&this._emitAdCustomEvent(Or.REPORTTIMEPOINT,{key:this.data._isPreload?"p16":"p9"}),this._emitComponentEvent(Tr.VIDEOLOADEDMETADATA,{event:e,time:+new Date})},onVideoError:function(e){var t=this._getCustomAdData();this.data._isPreload&&t.video_info&&t.video_info.videoUrl&&this.setData({_src:t.video_info.videoUrl}),this._emitAdCustomEvent(Or.REPORTADMONITORDATA,{key:"VIDEO_LOAD_ERROR",data:{error:e.detail,src:this.data._src,isPreload:this.data._isPreload}}),this.stopKeepAliveTimer()},reportVideoPlay:function(e,t,n=0){this.baseType===Er.AD&&(this._emitAdCustomEvent(Or.REPORTVIDEOPLAY,{playType:e,conditionType:t,videoInfo:{playDuration:n-this.data.lastReportVideoTime,videoDuration:this.data.videoDuration,isMuted:this.data._muted,isAutoPlay:this.data._autoplay}}),this.setData({lastReportVideoTime:n}))},startKeepAliveTimer:function(){var e=this;this.stopKeepAliveTimer(),this.setData({_keepAliveTimer:setTimeout((function(){e._emitAdCustomEvent(Or.REPORTADMONITORDATA,{key:"VIDEO_KEEPALIVE_ERROR",data:{currentTime:e.data.currentTime,src:e.data._src,isPreload:e.data._isPreload}})}),3e3)})},stopKeepAliveTimer:function(){this.data._keepAliveTimer&&clearTimeout(this.data._keepAliveTimer)}}}).registerComponent(),Nd=g("ad-custom-feedback").behavior(v.ZP).behavior(Jo).behavior(Qo).definition({using:{div:"view",img:"image"},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={_tagText:new Array(1)},s=!0===i;return{C:function(t,l,u){u("div",{},(function(t,n){n&&e.i(t,"container"),n&&r(t,"ad-custom-feedback")}),(function(t,l,u,c){u("div",{},(function(t,n){n&&e.i(t,"feedbackTagContainer"),n&&r(t,"ad-custom-feedback-tag-container"),n&&e.v(t,"tap","handleTagTap",!1,!1,!1,!1)}),(function(t,l,u,c){u("div",{},(function(t,n){n&&e.i(t,"feedbackHotClick"),n&&r(t,"ad-custom-feedback-hot-click")}),(function(e){})),u("div",{},(function(t,n){n&&e.i(t,"feedbackTag"),n&&r(t,"ad-custom-feedback-tag-text")}),(function(e,t){e||s||i._tagText?t(pe(n._tagText),(function(e){o._tagText[0]=function(t,n,i){i(e,pe(t._tagText))}})):t()}));var d=n._isSimple?0:1;c(d,(function(t,r,o){1===d&&o("img",{},(function(t,r){r&&e.i(t,"feedbackIcon"),r&&e.y(t,"width: 6px; height: 4px; margin-left: 2px; margin-top: 1px;"),(r||s||i._hideInnerRequest||i._feedbackIconSrc)&&a(t,"src",fe(n._hideInnerRequest)(n._feedbackIconSrc))}),(function(e){}))}));var p=n._isSimple?1:0;c(p,(function(t,r,o){1===p&&o("img",{},(function(t,r){r&&e.i(t,"feedbackIcon"),r&&e.y(t,"width: 6px; height: 6px; margin-left: 2px"),(r||s||i._hideInnerRequest||i._closeIconSrc)&&a(t,"src",fe(n._hideInnerRequest)(n._closeIconSrc))}),(function(e){}))}))}));var d=n._isShowFeedback?1:0;c(d,(function(t,a,o){1===d&&o("div",{},(function(t,a){a&&e.i(t,"menu1"),a&&e.v(t,"tap","handleMenuTap",!1,!1,!1,!1),(a||s||i.c||(i._classListBottomLeft,i._classListBottomRight,i._classListTopLeft,i._classListTopRight,1))&&r(t,fe(n.c)("ad-custom-feedback-list",{adCustomFeedbackListBottomleft:n._classListBottomLeft,adCustomFeedbackListBottomright:n._classListBottomRight,adCustomFeedbackListTopleft:n._classListTopLeft,adCustomFeedbackListTopright:n._classListTopRight}))}),(function(t,n,i){i("div",{},(function(t,n){n&&r(t,"ad-custom-feedback-btn"),n&&e.y(t,"color: #000000;")}),(function(e,t){e?t("由赞助商提供的内容"):t()})),i("div",{},(function(e,t){t&&r(e,"ad-custom-feedback-line")}),(function(e){})),i("div",{},(function(t,n){n&&e.i(t,"dislike"),n&&r(t,"ad-custom-feedback-btn"),n&&e.v(t,"tap","handleDislikeTap",!1,!1,!1,!1)}),(function(e,t){e?t("不感兴趣"):t()})),i("div",{},(function(e,t){t&&r(e,"ad-custom-feedback-line")}),(function(e){})),i("div",{},(function(t,n){n&&e.i(t,"feedbackBtn"),n&&r(t,"ad-custom-feedback-btn"),n&&e.v(t,"tap","handleFeedbackBtnTap",!1,!1,!1,!1)}),(function(e,t){e?t("投诉"):t()}))}))}));var p=n._isShowFeedbackMenu?1:0;c(p,(function(t,a,o){1===p&&o("div",{},(function(t,a){a&&e.i(t,"menu2"),a&&e.v(t,"tap","handleMenuTap",!1,!1,!1,!1),(a||s||i.c||(i._classListBottomLeft,i._classListBottomRight,i._classListTopLeft,i._classListTopRight,1))&&r(t,fe(n.c)("ad-custom-feedback-list",{adCustomFeedbackListBottomleft:n._classListBottomLeft,adCustomFeedbackListBottomright:n._classListBottomRight,adCustomFeedbackListTopleft:n._classListTopLeft,adCustomFeedbackListTopright:n._classListTopRight}))}),(function(t,n,i){i("div",{},(function(t,n){n&&e.i(t,"isdismatch"),n&&r(t,"ad-custom-feedback-btn"),(n||s)&&e.d(t,"reason",1),n&&e.v(t,"tap","handleDislikeReasonTap",!1,!1,!1,!1)}),(function(e,t){e?t("与我无关"):t()})),i("div",{},(function(e,t){t&&r(e,"ad-custom-feedback-line")}),(function(e){})),i("div",{},(function(t,n){n&&e.i(t,"isduplicate"),n&&r(t,"ad-custom-feedback-btn"),(n||s)&&e.d(t,"reason",5),n&&e.v(t,"tap","handleDislikeReasonTap",!1,!1,!1,!1)}),(function(e,t){e?t("重复收到多次"):t()})),i("div",{},(function(e,t){t&&r(e,"ad-custom-feedback-line")}),(function(e){})),i("div",{},(function(t,n){n&&e.i(t,"isbadad"),n&&r(t,"ad-custom-feedback-btn"),(n||s)&&e.d(t,"reason",4),n&&e.v(t,"tap","handleDislikeReasonTap",!1,!1,!1,!1)}),(function(e,t){e?t("内容太差"):t()}))}))}))}))},B:o}},function(t){return e[t]}}()},properties:{_isSimple:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_isShowFeedback:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_isShowFeedbackMenu:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_classListBottomLeft:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_classListBottomRight:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_classListTopLeft:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_classListTopRight:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1},_feedbackIconSrc:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"https://wxa.wxs.qq.com/images/wxapp/feedback_icon.png"},_closeIconSrc:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"https://wxa.wxs.qq.com/images/wxapp/close.png"},_tagText:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"广告"}},attached:function(){this.init(),this._updateInnerStyle(),this._emitComponentLifeCycle("onInit")},detached:function(){this.inited=!1,this._emitComponentLifeCycle("onDestroy")},methods:{init:function(){if(!this.inited){this.inited=!0,(this._options.baseType||br.COMMON)===br.SIMPLE&&this.setData({_isSimple:!0});var e=this._getDataValue("feedbackTagText");e&&this.setData({_tagText:e});var t=this._getDataValue("feedbackIcon");t&&this.setData({_feedbackIconSrc:t})}},updateMenuPosition:function(){var e=this._getDataValue("menuPosition")||"bottomLeft";this.setData({_classListBottomLeft:!1,_classListBottomRight:!1,_classListTopLeft:!1,_classListTopRight:!1}),"bottomLeft"===e?this.setData({_classListBottomLeft:!0}):"bottomRight"===e?this.setData({_classListBottomRight:!0}):"topLeft"===e?this.setData({_classListTopLeft:!0}):"topRight"===e&&this.setData({_classListTopRight:!0})},handleTagTap:function(e){!this.data._isSimple&&this.data._isShowFeedback||this.data._isShowFeedbackMenu?this.setData({_isShowFeedback:!1,_isShowFeedbackMenu:!1}):this.data._isSimple?(this._emitAdCustomEvent(Or.SHOWFEEDBACK,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:6}),this._emitAdCustomEvent(Or.CLOSEAD)):(this.setData({_isShowFeedback:!0}),this.updateMenuPosition(),this._updateInnerStyle(),this._emitAdCustomEvent(Or.FEEDBACKREPORT,{firstGradeId:1,firstGradeDesc:"广告角标"})),null==e||e.stopPropagation(),this._emitComponentEvent(Cr.TAGTAP,{event:e})},handleMenuTap:function(e){null==e||e.stopPropagation()},handleDislikeTap:function(e){this.setData({_isShowFeedback:!1,_isShowFeedbackMenu:!0}),this.updateMenuPosition(),this._updateInnerStyle(),null==e||e.stopPropagation(),this._emitComponentEvent(Cr.DISLIKETAP,{event:e})},handleDislikeReasonTap:function(e){var t,n;this.setData({_isShowFeedback:!1,_isShowFeedbackMenu:!1}),null==e||e.stopPropagation(),this._emitComponentEvent(Cr.DISLIKEREASONTAP,{event:e}),this._emitAdCustomEvent(Or.SHOWFEEDBACK,{secondGradeId:2,secondGradeDesc:"不感兴趣",feedbackReason:null==e||null===(t=e.currentTarget)||void 0===t||null===(n=t.dataset)||void 0===n?void 0:n.reason})},handleFeedbackBtnTap:function(e){this.setData({_isShowFeedback:!1,_isShowFeedbackMenu:!1}),null==e||e.stopPropagation(),this._emitComponentEvent(Cr.FEEDBACKBTNTAP,{event:e}),this._emitAdCustomEvent(Or.FEEDBACKBTNTAP)}}}).registerComponent();function Dd(e){return e&&"object"==typeof e&&!Array.isArray(e)}function kd(e,...t){if(!t.length)return e;var n=t.shift();if(Dd(e)&&Dd(n))for(var i of Object.keys(n))Dd(n[i])?(e[i]||Object.assign(e,{[i]:{}}),kd(e[i],n[i])):Object.assign(e,{[i]:n[i]});return kd(e,...t)}const Ld=g("ad-custom-end").behavior(v.ZP).behavior(Jo).behavior(Qo).definition({using:{div:"view",img:"image","ad-custom-item":"ad-custom-item","ad-custom-item-virtual":"ad-custom-item-virtual"},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={refreshIconSrc:new Array(1),_isShowEndPage:new Array(1),_backgroundImage:new Array(1),_hideInnerRequest:new Array(2)},s=!0===i;return{C:function(t,l,u){u("div",{},(function(t,l){l&&e.i(t,"container"),l&&r(t,"ad-custom-end"),(l||s||i._isShowEndPage)&&a(t,"style.display",n._isShowEndPage?"flex":"none"),o._isShowEndPage[0]=function(e,n,i){a(t,"style.display",e._isShowEndPage?"flex":"none"),n(t)},(l||s||i._hideInnerRequest||i._backgroundImage)&&a(t,"style.backgroundImage","url('"+pe(fe(n._hideInnerRequest)(n._backgroundImage))+"')"),o._hideInnerRequest[0]=o._backgroundImage[0]=function(e,n,i){a(t,"style.backgroundImage","url('"+pe(fe(e._hideInnerRequest)(e._backgroundImage))+"')"),n(t)},l&&e.v(t,"tap","onContainerTap",!1,!1,!1,!1)}),(function(t,l,u,c,d){d(n._children||[],null,i?(i._children,!0):void 0,null,(function(e,t,r,o,l,u,c,d,p){var h=n.flattenLayer?1:0;p(h,(function(e,r,l){l(1===h?"ad-custom-item-virtual":"ad-custom-item",{},(function(e,r){(r||s||o)&&a(e,"tpl",t),(r||s||i.flattenLayer)&&a(e,"flatten-layer",n.flattenLayer),(r||s||i.adCustomId)&&a(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}))})),u("div",{},(function(t,n){n&&r(t,"ad-custom-end-refresh"),n&&e.i(t,"refresh"),n&&e.v(t,"tap","onReplay",!1,!1,!1,!1)}),(function(t,l,u){u("img",{},(function(t,l){l&&r(t,"ad-custom-end-refresh-icon"),l&&e.i(t,"refreshIcon"),(l||s||i._hideInnerRequest||i.refreshIconSrc)&&a(t,"src",fe(n._hideInnerRequest)(n.refreshIconSrc)),o._hideInnerRequest[1]=o.refreshIconSrc[0]=function(e,n,i){a(t,"src",fe(e._hideInnerRequest)(e.refreshIconSrc)),n(t)}}),(function(e){})),u("div",{},(function(t,n){n&&r(t,"ad-custom-end-refresh-text"),n&&e.i(t,"refreshText")}),(function(e,t){e?t("重播"):t()}))}))}))},B:o}},function(t){return e[t]}}()},data:{_isShowEndPage:!1,_backgroundImage:null,_children:[],refreshIconSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuODI4IDEuMzMzbDIuNTkzIDIuNTkzYy4xMy4xMy4xMy4zNDEgMCAuNDcxTDYuODI4IDYuOTlsLS45NDItLjk0M0w3LjE4MiA0Ljc1QTQuMDAxIDQuMDAxIDAgMDA4IDEyLjY2N2E0IDQgMCAwMDIuODI4LTYuODI5bC45NDMtLjk0M2E1LjMzMyA1LjMzMyAwIDExLTQuNzQtMS40NzRMNS44ODYgMi4yNzZsLjk0Mi0uOTQzeiIgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PC9zdmc+",showTime:0},attached:function(){this.init(),this._updateInnerStyle(),this._emitComponentLifeCycle("onInit")},detached:function(){this.inited=!1,this._removeAdCustomListener(),this._emitComponentLifeCycle("onDestroy")},methods:{init:function(){var e,t,n,i=this;if(!this.inited){this.inited=!0;var r=this._getCustomAdData();this.cardInfo=(null===(e=r.crtInfo)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.card_info)||{},(null===(n=this.cardInfo)||void 0===n?void 0:n.end_page_type)&&(this.setData({_backgroundImage:this.cardInfo.head_bg_img}),this.$.refresh&&this._setElementStyle(this.$.refresh,"padding",Oo("13apx 12apx")),this.$.refreshIcon&&(this._setElementStyle(this.$.refreshIcon,"height",Oo("16apx")),this._setElementStyle(this.$.refreshIcon,"width",Oo("16apx")),this._setElementStyle(this.$.refreshIcon,"marginRight",Oo("4apx"))),this.$.refreshText&&(this._setElementStyle(this.$.refreshText,"lineHeight",Oo("18apx")),this._setElementStyle(this.$.refreshText,"fontSize",Oo("14apx"))),this.setData({_children:this.getChildren()}),setTimeout((function(){i._emitAdCustomEvent(Or.ENDPAGEINIT)}),0),this._addAdCustomListener((function(e){i.onAdCustomEvent(e)})))}},onAdCustomEvent:function(e){var t=this,n=e.action;n===Or.SHOWENDPAGE?(this.setData({_isShowEndPage:!0}),this._emitAdCustomEvent(Or.ENDPAGESHOW),this.setData({showTime:+new Date}),!this._exposured&&this.reportEndPageExposure(),this._exposured=!0,this._viewableExposured||(this._viewableExposureTimer=setTimeout((function(){!t._viewableExposured&&t.reportEndPageExposure(!0)}),1e3)),this._emitComponentEvent(Sr.SHOW)):n===Or.APPENTERBACKGROUND?this.data._isShowEndPage&&this.reportEndPageDuration():n===Or.APPENTERFOREGROUND?this.data._isShowEndPage&&this.setData({showTime:+new Date}):n===Or.ADSHOWHALF?this.data._isShowEndPage&&(this.setData({showTime:+new Date}),this._viewableExposured||(this._viewableExposureTimer=setTimeout((function(){!t._viewableExposured&&t.reportEndPageExposure(!0)}),1e3))):n===Or.ADHIDEHALF&&this.data._isShowEndPage&&(this.reportEndPageDuration(),this._viewableExposureTimer&&(clearTimeout(this._viewableExposureTimer),this._viewableExposureTimer=null))},onReplay:function(e){this.setData({_isShowEndPage:!1}),this._emitAdCustomEvent(Or.ENDPAGEHIDE),this._emitComponentEvent(Sr.HIDE),null==e||e.stopPropagation(),this.reportEndPage({act_type:1003}),this._emitComponentEvent(Sr.REPLAY)},onContainerTap:function(){this.reportEndPage({act_type:1002})},reportEndPageDuration:function(){this.data.showTime&&(this.reportEndPage({act_type:1006,exposure_duration:+new Date-this.data.showTime}),this.setData({showTime:0}))},reportEndPageExposure:function(e){var t=0;e&&(t=1,this._viewableExposured=!0),this.reportEndPage({act_type:t})},reportEndPage:function(e={}){this._emitAdCustomEvent(Or.REPORTENDPAGE,{data:e})},doAction:function(e){(e.payload||{}).action===Nr.ENDPAGEHIDE&&(this.setData({_isShowEndPage:!1}),this._emitAdCustomEvent(Or.ENDPAGEHIDE),this._emitComponentEvent(Sr.HIDE))},getChildren:function(){var e,t,n,i,r,a=this._getDataValueWithDefault("childType",1);if(2===a)return(null===(r=this.data.tpl)||void 0===r?void 0:r.children)||[];var o=this._getCustomAdData(),s={pos_type:o.pos_type,costtype:o.is_cpm?1:2,slotid:"4071202390577885",is_game:0},l={},u=null===(e=this.data.tpl)||void 0===e?void 0:e.id;l.feedBack={type:"feedback",id:u+"_endPageFeedback",style:{position:"absolute",zIndex:99,top:"2px",left:"2px"},options:{events:{tagTap:[{action:"reportMMData",value:{id:"19002",data:Object.assign({act_type:1004},s)}}],dislikeReasonTap:[{action:"triggerEvent",value:{eventName:"videodislike"}}]}}},l.iconBig={type:"image",id:u+"_endPageIconBig",style:{width:"40apx",height:"40apx",marginBottom:"7apx"},options:{baseType:2}},l.nickBig={type:"text",id:u+"_endPageNickBig",style:{marginBottom:"6apx"},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#ffffff",fontSize:"17apx",height:"24apx",lineHeight:"24apx"}}}}},l.descSmall={type:"text",id:u+"_endPageDescSmall",style:{marginBottom:"23apx"},options:{baseType:1,data:{text:null===(t=this.cardInfo)||void 0===t?void 0:t.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#ffffff",opacity:".5",fontSize:"14apx",lineHeight:"20apx"}}}}},l.button={type:"button",id:u+"_endPageButton",style:{},options:{innerStyles:{container:{style:{height:"32apx",backgroundColor:"#07C160",borderRadius:"4apx",padding:"0 12.5apx",paddingBottomExpr:"#like($const.systemInfo.osVersion, 'Android') ? '1px' : '0'"}},buttonText:{style:{fontSize:"16apx",color:"#ffffff"}}},baseType:2,events:{buttonTap:[{action:"reportMMData",value:{id:"19002",data:Object.assign({act_type:1001},s)}}]}}},l.iconSmall={type:"image",id:u+"_endPageIconSmall",style:{width:"20apx",height:"20apx",marginRight:"8apx"},options:{baseType:2}},l.nickSmall={type:"text",id:u+"_endPageNickSmall",style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#ffffff",fontSize:"15apx",height:"18apx",lineHeight:"18apx",opacity:".5"}}}}},l.layoutSmall={type:"layout",id:u+"_endPageLayoutSmall",style:{marginBottom:"16apx"},options:{baseType:2},children:[]},l.layoutSmall.children.push(l.iconSmall),l.layoutSmall.children.push(l.nickSmall),l.descBig={type:"text",id:u+"_endPageDescBig",style:{marginBottom:"32apx"},options:{baseType:1,data:{text:null===(n=this.cardInfo)||void 0===n?void 0:n.end_page_desc,isEllipsis:!1},innerStyles:{text:{style:{color:"#ffffff",fontSize:"17apx",lineHeight:"22apx"}}}}};var c=this._getDataValue("childrenConf");if(c)for(var d of Object.keys(c))l[d]&&kd(l[d],c[d]);var p,h=[];return h=2===(null===(i=this.cardInfo)||void 0===i?void 0:i.end_page_type)?[l.feedBack,l.layoutSmall,l.descBig,l.button]:[l.feedBack,l.iconBig,l.nickBig,l.descSmall,l.button],3===a?h.concat((null===(p=this.data.tpl)||void 0===p?void 0:p.children)||[]):h}}}).registerComponent(),Md=g("ad-custom-carousel").behavior(v.ZP).behavior(Jo).behavior(Qo).definition({using:{div:"view","ad-custom-item":"ad-custom-item","ad-custom-item-virtual":"ad-custom-item-virtual","ad-custom-for":"ad-custom-for"},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o={_classRow:new Array(1),c:new Array(1),_classColumn:new Array(1)},s=!0===i;return{C:function(t,l,u){u("div",{},(function(t,n){n&&e.i(t,"container"),n&&r(t,"ad-custom-carousel")}),(function(t,l,u){u("div",{},(function(t,a){a&&e.i(t,"list"),a&&r(t,"ad-custom-carousel-list"),(a||s||i.c||(i._classRow,i._classColumn,1))&&r(t,fe(n.c)("ad-custom-carousel-list",{adCustomCarouselListRow:n._classRow,adCustomCarouselListColumn:n._classColumn})),o.c[0]=o._classRow[0]=o._classColumn[0]=function(e,n,i){r(t,fe(e.c)("ad-custom-carousel-list",{adCustomCarouselListRow:e._classRow,adCustomCarouselListColumn:e._classColumn}))}}),(function(e,t,r,o,l){l(de(n.tpl).children||[],null,i?(he(i.tpl,"children"),!0):void 0,null,(function(e,t,r,o,l,u,c,d,p){var h="for"===de(t).type?1:n.flattenLayer?2:0;p(h,(function(e,r,l){1===h?l("ad-custom-for",{},(function(e,r){(r||s||i.flattenLayer)&&a(e,"flatten-layer",n.flattenLayer),(r||s||i.idPrefix)&&a(e,"id-prefix",n.idPrefix),(r||s||o)&&a(e,"tpl",t),(r||s||i.adCustomId)&&a(e,"ad-custom-id",n.adCustomId)}),(function(e){})):l(2===h?"ad-custom-item-virtual":"ad-custom-item",{},(function(e,r){(r||s||i.idPrefix)&&a(e,"id-prefix",n.idPrefix),(r||s||i.flattenLayer)&&a(e,"flatten-layer",n.flattenLayer),(r||s||i.forType)&&a(e,"for-type",n.forType),(r||s||i.forIndex)&&a(e,"for-index",n.forIndex),(r||s||i.forItem)&&a(e,"for-item",n.forItem),(r||s||i.forArr)&&a(e,"for-arr",n.forArr),(r||s||o)&&a(e,"tpl",t),(r||s||i.adCustomId)&&a(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}))}))}))}))},B:o}},function(t){return e[t]}}()},data:{_classRow:!1,_classColumn:!1,_showCount:0,_allCount:0,_size:0,_current:0,_duration:1e3,_animationCount:0,_disabled:!1,_playTimers:[]},attached:function(){this.init(),this._updateInnerStyle(),this._emitComponentLifeCycle("onInit")},detached:function(){this.inited=!1,this._removeAdCustomListener(),this._emitComponentLifeCycle("onDestroy"),this.clearPlayTimer()},methods:{init:function(){var e=this;if(!this.inited){this.inited=!0,this._addAdCustomListener((function(t){e.onAdCustomEvent(t)})),this.baseType=this._options.baseType||Ir.NONE,this.setData({_showCount:this._getDataValueWithDefault("showCount",0),_allCount:this._getDataValueWithDefault("allCount",0),_current:this._getDataValueWithDefault("current",0),_duration:this._getDataValueWithDefault("duration",1e3),_disabled:this._getDataValueWithDefault("disabled",!1)});try{this.setData({_size:Number(Oo(this._getDataValueWithDefault("size","0px")).split("px")[0])})}catch(e){}this.baseType===Ir.ROWLOOP?this.initRowLoop():this.baseType===Ir.COLUMNLOOP&&this.initColumnLoop()}},initRowLoop:function(){this.setData({_classRow:!0}),this._setElementStyle(this.$.container,"width",this.data._showCount*this.data._size+"px"),this._setElementStyle(this.$.list,"width",this.data._allCount*this.data._size+"px")},initColumnLoop:function(){this.setData({_classColumn:!0}),this._setElementStyle(this.$.container,"height",this.data._showCount*this.data._size+"px"),this._setElementStyle(this.$.list,"height",this.data._allCount*this.data._size+"px")},onAdCustomEvent:function(e){var t=e.action;t===Or.ADEDGESHOW?(this.isViewAble=!0,this.autoPlay()):t===Or.ADEDGEHIDE&&(this.isViewAble=!1)},autoPlay:function(){var e=this;if(this.isViewAble&&!this.isPlaying&&!1!==this.inited){var t={id:"list"},n="";this.baseType===Ir.ROWLOOP?n="translateX":this.baseType===Ir.COLUMNLOOP&&(n="translateY");var i=this.data._allCount-this.data._showCount;t._animationObj={keys:[{[n]:this.data._animationCount%2==0?"0px":`-${i*this.data._size}px`,offset:0},{[n]:this.data._animationCount%2==0?`-${i*this.data._size}px`:"0px",offset:1}],duration:i*this.data._duration,easing:"linear"},t._cb=function(){e.isPlaying=!1,setTimeout((function(){e.autoPlay()}),e.data._duration/4)};var r=Array.from({length:this.data._allCount}).map((function(e,t){return t}));if(this.data._disabled)this._emitComponentEvent(Pr.SHOWCHANGE,{list:r.slice(0,this.data._showCount)||[]}),this.isPlaying=!1;else if(i<=0)this._emitComponentEvent(Pr.SHOWCHANGE,{list:r||[]}),this.isPlaying=!1;else{this.isPlaying=!0,this.setData({_animationCount:this.data._animationCount+1}),this.clearPlayTimer();for(var a=0;a<=i;a++)!function(t){var n=setTimeout((function(){var n;n=e.data._animationCount%2==1?r.slice(t,t+e.data._showCount):r.slice(e.data._allCount-t-e.data._showCount,e.data._allCount-t),e._emitComponentEvent(Pr.SHOWCHANGE,{list:n||[]})}),t*e.data._duration);e.setData({_playTimers:[...e.data._playTimers,n]})}(a);this._doAnimation(t)}}},clearPlayTimer:function(){var e;null===(e=this.data._playTimers)||void 0===e||e.forEach((function(e){e&&clearTimeout(e)})),this.setData({_playTimers:[]})}}}).registerComponent(),Bd=g("ad-custom-ad").behavior(v.ZP).behavior(Jo).behavior(Qo).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m;var r=e.r,a=!0===i;return{C:function(t,o,s,l){var u=n._unitId?1:0;l(u,(function(t,o,s){1===u&&s("div",{},(function(t,n){n&&e.i(t,"container")}),(function(t,o,s,l){var u=1===n._baseType?1:0;l(u,(function(t,o,s){1===u&&s("ad",{},(function(t,o){(o||a||i._unitId)&&r(t,"unit-id",n._unitId),(o||a||i._adIntervals)&&r(t,"ad-intervals",n._adIntervals),(o||a||i._adType)&&r(t,"ad-type",n._adType),(o||a||i._adTheme)&&r(t,"ad-theme",n._adTheme),o&&e.r(t,"bindload","onAdLoad"),o&&e.r(t,"binderror","onAdError"),o&&e.r(t,"bindclose","onAdClose")}),(function(e){}))}));var c=2===n._baseType?1:0;l(c,(function(t,o,s){1===c&&s("ad-custom",{},(function(t,o){(o||a||i._unitId)&&r(t,"unit-id",n._unitId),(o||a||i._adIntervals)&&r(t,"ad-intervals",n._adIntervals),o&&e.r(t,"bindload","onAdLoad"),o&&e.r(t,"binderror","onAdError"),o&&e.r(t,"bindclose","onAdClose")}),(function(e){}))}))}))}))},B:{}}},function(t){return e[t]}}()},data:{_unitId:"",_baseType:1,_adIntervals:0,_adType:"banner",_adTheme:"white"},attached:function(){this.init(),this._updateInnerStyle(),this._emitComponentLifeCycle("onInit")},detached:function(){this.inited=!1,this._emitComponentLifeCycle("onDestroy")},methods:{init:function(){if(!this.inited){this.inited=!0;var e=this._options.baseType||wr.COMMON;this.setData({_baseType:e,_adIntervals:this._getDataValueWithDefault("adIntervals",0),_adType:this._getDataValueWithDefault("adType","banner"),_adTheme:this._getDataValueWithDefault("adTheme","white"),_unitId:this._getDataValue("unitId")})}},onAdLoad:function(e){this._emitComponentEvent(Rr.LOAD,{event:e})},onAdError:function(e){this._emitComponentEvent(Rr.ERROR,{event:e})},onAdClose:function(e){this._emitComponentEvent(Rr.CLOSE,{event:e})}}}).usingComponents({div:"view","wx-cover-view":"cover-view","wx-cover-image":"cover-image"}).registerComponent();g("ad-custom-item").behavior(v.ZP).behavior(Jo).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m;var r=e.r,a=!0===i;return{C:function(e,t,o,s){var l=n._isShow&&"layout"===de(n.tpl).type?1:0;s(l,(function(e,t,o){1===l&&o("ad-custom-layout",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var u=n._isShow&&"image"===de(n.tpl).type?1:0;s(u,(function(e,t,o){1===u&&o("ad-custom-image",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var c=n._isShow&&"text"===de(n.tpl).type?1:0;s(c,(function(e,t,o){1===c&&o("ad-custom-text",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var d=n._isShow&&"button"===de(n.tpl).type?1:0;s(d,(function(e,t,o){1===d&&o("ad-custom-button",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var p=n._isShow&&"video"===de(n.tpl).type?1:0;s(p,(function(e,t,o){1===p&&o("ad-custom-video",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var h=n._isShow&&"feedback"===de(n.tpl).type?1:0;s(h,(function(e,t,o){1===h&&o("ad-custom-feedback",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var f=n._isShow&&"end"===de(n.tpl).type?1:0;s(f,(function(e,t,o){1===f&&o("ad-custom-end",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var _=n._isShow&&"carousel"===de(n.tpl).type?1:0;s(_,(function(e,t,o){1===_&&o("ad-custom-carousel",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var v=n._isShow&&"ad"===de(n.tpl).type?1:0;s(v,(function(e,t,o){1===v&&o("ad-custom-ad",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var g=n._isShow&&"for"===de(n.tpl).type?1:0;s(g,(function(e,t,o){1===g&&o("ad-custom-for",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}))},B:{}}},function(t){return e[t]}}()},properties:{adCustomId:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""},tpl:{type:i.Z.glassEasel.NormalizedPropertyType.Object,value:null}},data:{_isShow:!1},attached:function(){var e,t,n,i=((null===(e=this.data.tpl)||void 0===e?void 0:e.options)||{}).data||{};this.setData({_isShow:this._getDataValueWithDefault("_isShow",!0,i)}),this._updateStyle((null===(t=this.data.tpl)||void 0===t?void 0:t.style)||{},this),this.data._isShow?"feedback"===(null===(n=this.data.tpl)||void 0===n?void 0:n.type)&&(this._setElementStyle(this,"overflow","visible"),this._setElementStyle(this,"display","inline-block")):this._updateStyle({display:"none"},this)}}).usingComponents({div:"view","ad-custom-layout":ns,"ad-custom-image":is,"ad-custom-text":Ad,"ad-custom-button":Rd,"ad-custom-video":Od,"ad-custom-feedback":Nd,"ad-custom-end":Ld,"ad-custom-carousel":Md,"ad-custom-ad":Bd,"ad-custom-for":es}).registerComponent(),g("ad-custom-item-virtual").behavior(v.ZP).behavior(Jo).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m;var r=e.r,a=!0===i;return{C:function(e,t,o,s){var l=n._isShow&&"layout"===de(n.tpl).type?1:0;s(l,(function(e,t,o){1===l&&o("ad-custom-layout",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var u=n._isShow&&"image"===de(n.tpl).type?1:0;s(u,(function(e,t,o){1===u&&o("ad-custom-image",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var c=n._isShow&&"text"===de(n.tpl).type?1:0;s(c,(function(e,t,o){1===c&&o("ad-custom-text",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var d=n._isShow&&"button"===de(n.tpl).type?1:0;s(d,(function(e,t,o){1===d&&o("ad-custom-button",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var p=n._isShow&&"video"===de(n.tpl).type?1:0;s(p,(function(e,t,o){1===p&&o("ad-custom-video",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var h=n._isShow&&"feedback"===de(n.tpl).type?1:0;s(h,(function(e,t,o){1===h&&o("ad-custom-feedback",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var f=n._isShow&&"end"===de(n.tpl).type?1:0;s(f,(function(e,t,o){1===f&&o("ad-custom-end",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var _=n._isShow&&"carousel"===de(n.tpl).type?1:0;s(_,(function(e,t,o){1===_&&o("ad-custom-carousel",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var v=n._isShow&&"ad"===de(n.tpl).type?1:0;s(v,(function(e,t,o){1===v&&o("ad-custom-ad",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}));var g=n._isShow&&"for"===de(n.tpl).type?1:0;s(g,(function(e,t,o){1===g&&o("ad-custom-for",{},(function(e,t){(t||a||i.flattenLayer)&&r(e,"flatten-layer",n.flattenLayer),(t||a||i.idPrefix)&&r(e,"id-prefix",n.idPrefix),(t||a||i.forType)&&r(e,"for-type",n.forType),(t||a||i.forIndex)&&r(e,"for-index",n.forIndex),(t||a||i.forItem)&&r(e,"for-item",n.forItem),(t||a||i.forArr)&&r(e,"for-arr",n.forArr),(t||a||i.forKey)&&r(e,"for-key",n.forKey),(t||a||i.tpl)&&r(e,"tpl",n.tpl),(t||a||i.adCustomId)&&r(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}))},B:{}}},function(t){return e[t]}}()},properties:{adCustomId:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:""},tpl:{type:i.Z.glassEasel.NormalizedPropertyType.Object,public:!0,value:null},_isShow:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1}},attached:function(){var e,t=((null===(e=this.data.tpl)||void 0===e?void 0:e.options)||{}).data||{};this.setData({_isShow:this._getDataValueWithDefault("_isShow",!0,t)})}}).usingComponents({div:"view","ad-custom-layout":ns,"ad-custom-image":is,"ad-custom-text":Ad,"ad-custom-button":Rd,"ad-custom-video":Od,"ad-custom-feedback":Nd,"ad-custom-end":Ld,"ad-custom-carousel":Md,"ad-custom-ad":Bd,"ad-custom-for":es}).registerComponent();var Fd={id:1307,keyMap:{EXPOSURE_REPORT_ERROR:5,PRELOAD_MINIENV_SUCCESS:1,PRELOAD_MINIENV_ERROR:2,PREDOWNLOAD_SUCCESS:3,PREDOWNLOAD_ERROR:4,AD_INSTALLED:6,AD_FOLLOWED:7,LOAD_ERROR:8,PARSE_ERROR:9,AD_LIMIT_TIME:10,CLICK_REPORT_ERROR:11,OPEN_WXAPP_ERROR:12,OPEN_URL_ERROR:13,OPEN_CANVAS_ERROR:14,ADD_CONTACT_ERROR:15,FOLLOW_REPORT_ERROR:16,FOLLOW_SUCCESS:17,AD_LIMIT_BOUNDARY:18,AD_VB_REPORT:19,TMPL_RENDER_SUCCESS:20,TMPL_PARSE_ERROR:21,TMPL_LOAD_ERROR:22,ADD_DOWNLOAD_TASK_ERROR:23,BIND_GUIDE_SUCCESS:119,BIND_GUIDE_ERROR:120,V1_UNITID_USE:24,WIDTH_GET_ERROR:25,GET_DEVICEINFO_ERROR:26,GET_DEVICEINFO_SUCCESS:27,GET_WAID_SUCCESS:28,GET_WAID_ERROR:29,UPDATEDOWNLOADERROR:30,VIDEO_LOAD_ERROR:31,DOWNLOAD_INSTALLED:32,DOWNLOAD_SUCCESS:33,VIDEO_KEEPALIVE_ERROR:34,IMG_LOAD_ERROR:37,IMG_RETRYCODE_ERROR:38,AD_FETCH_SUCCESS:135},adPosType:9},Vd={id:924,keyMap:{AD_FOLLOWED:37,AD_INSTALLED:38,GET_DEVICEINFO_ERROR:129,GET_DEVICEINFO_SUCCESS:131,GET_WAID_SUCCESS:132,GET_WAID_ERROR:133,AD_FETCH_SUCCESS:135,H5_PRELOAD_CARD_CLICKED:164,H5_PRELOAD_BUTTON_CLICKED:165,H5_PRELOAD_SUCCESS:166,H5_PRELOAD_FAILED:167,OPEN_WEBSTORE_ERROR:181,TEMPLATE_CACHE_SUCCESS:184,TEMPLATE_CACHE_FAILED:185,JSONPACK_PARSE_SUCCESS:186,JSONPACK_PARSE_ERROR:187,COPY_GIFT_CODE_SUCCESS:189,COPY_GIFT_CODE_FAIL:190,OPEN_MACHINE_MKT_SUCCESS:191,OPEN_MACHINE_MKT_ERROR:192,OPEN_SHOP_SCHEME_SUCCESS:193,OPEN_SHOP_SCHEME_ERROR:194,OPEN_CHANNELS_ACTIVITY_SUCCESS:200,OPEN_CHANNELS_ACTIVITY_ERROR:201,IDKEY_SET_STORAGE_FAILED:222},adPosType:2},Wd={id:1423,keyMap:{PRELOAD_MINIENV_SUCCESS:1,PRELOAD_MINIENV_ERROR:2,PREDOWNLOAD_SUCCESS:3,PREDOWNLOAD_ERROR:4,EXPOSURE_REPORT_ERROR:5,AD_INSTALLED:6,AD_FOLLOWED:7,LOAD_ERROR:8,PARSE_ERROR:9,AD_LIMIT_TIME:10,CLICK_REPORT_ERROR:11,OPEN_WXAPP_ERROR:12,OPEN_URL_ERROR:13,OPEN_CANVAS_ERROR:14,ADD_CONTACT_ERROR:15,FOLLOW_REPORT_ERROR:16,FOLLOW_SUCCESS:17,AD_LIMIT_BOUNDARY:18,AD_VB_REPORT:19,TMPL_RENDER_SUCCESS:20,TMPL_PARSE_ERROR:21,TMPL_LOAD_ERROR:22,ADD_DOWNLOAD_TASK_ERROR:23,V1_UNITID_USE:24,WIDTH_GET_ERROR:25,CPS_INFO_PARSE_ERROR:26,CPS_PRODUCT_ID_PROVIDED:27,CPS_PRODUCT_ID_NOT_PROVIDED:28,AD_FETCH_SUCCESS:135},adPosType:10},Ud={id:1547,keyMap:{PRELOAD_MINIENV_SUCCESS:1,PRELOAD_MINIENV_ERROR:2,PREDOWNLOAD_SUCCESS:3,PREDOWNLOAD_ERROR:4,EXPOSURE_REPORT_ERROR:5,AD_INSTALLED:6,AD_FOLLOWED:7,LOAD_ERROR:8,PARSE_ERROR:9,AD_LIMIT_TIME:10,CLICK_REPORT_ERROR:11,OPEN_WXAPP_ERROR:12,OPEN_URL_ERROR:13,OPEN_CANVAS_ERROR:14,ADD_CONTACT_ERROR:15,FOLLOW_REPORT_ERROR:16,FOLLOW_SUCCESS:17,AD_LIMIT_BOUNDARY:18,AD_VB_REPORT:19,TMPL_RENDER_SUCCESS:20,TMPL_PARSE_ERROR:21,TMPL_LOAD_ERROR:22,ADD_DOWNLOAD_TASK_ERROR:23,V1_UNITID_USE:24,WIDTH_GET_ERROR:25,ADDITION_FETCH_SUCCESS:26,ADDITION_FETCH_ERROR:27,AD_FETCH_SUCCESS:135},adPosType:11},$d={id:1795,keyMap:{PRELOAD_MINIENV_SUCCESS:1,PRELOAD_MINIENV_ERROR:2,PREDOWNLOAD_SUCCESS:3,PREDOWNLOAD_ERROR:4,EXPOSURE_REPORT_ERROR:5,AD_INSTALLED:6,AD_FOLLOWED:7,LOAD_ERROR:8,PARSE_ERROR:9,AD_LIMIT_TIME:10,CLICK_REPORT_ERROR:11,OPEN_WXAPP_ERROR:12,OPEN_URL_ERROR:13,OPEN_CANVAS_ERROR:14,ADD_CONTACT_ERROR:15,FOLLOW_REPORT_ERROR:16,FOLLOW_SUCCESS:17,AD_LIMIT_BOUNDARY:18,AD_VB_REPORT:19,TMPL_RENDER_SUCCESS:20,TMPL_PARSE_ERROR:21,TMPL_LOAD_ERROR:22,ADD_DOWNLOAD_TASK_ERROR:23,V1_UNITID_USE:24,WIDTH_GET_ERROR:25,OPERATE_REWARDEDVIDEO:26,REWARDEDVIDEO_EVENT:27,TAKEDWELFARE_FETCHSUCCESS:28,TAKEDWELFARE_FETCHERROR:29,WELFARE_DATA_ERROR:35,REFRESH_WELFARE_SUCCESS:36,REFRESH_WELFARE_ERROR:37,CHANGE_WELFARE:38,AD_FETCH_SUCCESS:135},adPosType:18},Gd={id:1972,keyMap:{EXPOSURE_REPORT_ERROR:5,PRELOAD_MINIENV_SUCCESS:1,PRELOAD_MINIENV_ERROR:2,PREDOWNLOAD_SUCCESS:3,PREDOWNLOAD_ERROR:4,AD_INSTALLED:6,AD_FOLLOWED:7,LOAD_ERROR:8,PARSE_ERROR:9,AD_LIMIT_TIME:10,CLICK_REPORT_ERROR:11,OPEN_WXAPP_ERROR:12,OPEN_URL_ERROR:13,OPEN_CANVAS_ERROR:14,ADD_CONTACT_ERROR:15,FOLLOW_REPORT_ERROR:16,FOLLOW_SUCCESS:17,AD_LIMIT_BOUNDARY:18,AD_VB_REPORT:19,TMPL_RENDER_SUCCESS:20,TMPL_PARSE_ERROR:21,TMPL_LOAD_ERROR:22,ADD_DOWNLOAD_TASK_ERROR:23,BIND_GUIDE_SUCCESS:119,BIND_GUIDE_ERROR:120,V1_UNITID_USE:24,WIDTH_GET_ERROR:25,GET_DEVICEINFO_ERROR:26,GET_DEVICEINFO_SUCCESS:27,GET_WAID_SUCCESS:28,GET_WAID_ERROR:29,UPDATEDOWNLOADERROR:30,VIDEO_LOAD_ERROR:31,DOWNLOAD_INSTALLED:32,DOWNLOAD_SUCCESS:33,VIDEO_KEEPALIVE_ERROR:34,IMG_LOAD_ERROR:37,IMG_RETRYCODE_ERROR:38,AD_FETCH_SUCCESS:135},adPosType:26},Zd={id:1973,keyMap:{EXPOSURE_REPORT_ERROR:5,PRELOAD_MINIENV_SUCCESS:1,PRELOAD_MINIENV_ERROR:2,PREDOWNLOAD_SUCCESS:3,PREDOWNLOAD_ERROR:4,AD_INSTALLED:6,AD_FOLLOWED:7,LOAD_ERROR:8,PARSE_ERROR:9,AD_LIMIT_TIME:10,CLICK_REPORT_ERROR:11,OPEN_WXAPP_ERROR:12,OPEN_URL_ERROR:13,OPEN_CANVAS_ERROR:14,ADD_CONTACT_ERROR:15,FOLLOW_REPORT_ERROR:16,FOLLOW_SUCCESS:17,AD_LIMIT_BOUNDARY:18,AD_VB_REPORT:19,TMPL_RENDER_SUCCESS:20,TMPL_PARSE_ERROR:21,TMPL_LOAD_ERROR:22,ADD_DOWNLOAD_TASK_ERROR:23,BIND_GUIDE_SUCCESS:119,BIND_GUIDE_ERROR:120,V1_UNITID_USE:24,WIDTH_GET_ERROR:25,GET_DEVICEINFO_ERROR:26,GET_DEVICEINFO_SUCCESS:27,GET_WAID_SUCCESS:28,GET_WAID_ERROR:29,UPDATEDOWNLOADERROR:30,VIDEO_LOAD_ERROR:31,DOWNLOAD_INSTALLED:32,DOWNLOAD_SUCCESS:33,VIDEO_KEEPALIVE_ERROR:34,IMG_LOAD_ERROR:37,IMG_RETRYCODE_ERROR:38,AD_FETCH_SUCCESS:135},adPosType:27},Hd="",zd="",jd="{}",Yd="",Kd="",Xd="{}";function qd(){return new Promise((function(e,t){var n;r.wZ&&__wxConfig.clientVersion>=654315827||r.cj&&__wxConfig.clientVersion>=385879808?null===(n=wx)||void 0===n||n.invoke("getDeviceInfo",{},(function(n){if(/:ok/.test(n.errMsg)){Hd=n.oaid||"",zd=n.imei||"",Yd=n.ua||"",Xd=n.devIdInfo||"{}";try{jd=JSON.stringify({...JSON.parse(Xd),...Yd?{ua:Yd}:{}})}catch(e){t(e)}e({oaid:Hd,imei:zd,commonid:jd})}else t(n)})):e({oaid:Hd,imei:zd,commonid:jd})}))}var Jd,Qd,ep,tp=null,np={[Qi.wxpayBottom]:26,[Qi.wxpayCard]:27},ip=function(e){var t;if(null!==(t=tp)&&void 0!==t&&t.advertisement_info){var n=tp.advertisement_info.filter((function(t){return t.pos_type===np[e]})),i=tp.advertisement_info.filter((function(t){return t.pos_type!==np[e]}));return tp.advertisement_info=i,[n&&n.length>0,{err_code:tp.err_code,_preloadTime:tp._preloadTime,data:{data:JSON.stringify({advertisement_info:n,advertisement_num:n.length||0}),ret:tp.ret}}]}return[!1,{err_code:0,data:{data:JSON.stringify({advertisement_info:[],advertisement_num:0})}}]},rp=null,ap=function(){var e=s()((function*(e){var t=e.pos_id,[n,i]=ip(t);if(n)return i;try{yield function(e){return rp||(rp=new Promise((function(t,n){var i;e.pos_id=`${Qi.wxpayBottom}|${Qi.wxpayCard}`,e.ad_unit_id="",null===(i=wx)||void 0===i||i.getPayAd({data:e,success:function(e){try{var i=JSON.parse(e.data.data);tp={err_code:e.err_code,_preloadTime:e.data._preloadTime,ret:i.ret,advertisement_info:i.advertisement_info||[]},t(tp)}catch(e){n(e)}},fail:function(e){n(e)}})}))),rp}(e),rp=null;var[,r]=ip(t);return r}catch(e){return rp=null,Promise.reject(e)}}));return function(t){return e.apply(this,arguments)}}();var op=function(e){return e.button="button",e.container="container",e}(op||{}),sp=function(e){return e[e.NONE=0]="NONE",e[e.NICKNAME=1]="NICKNAME",e[e.LINK=2]="LINK",e[e.RESOURCE=3]="RESOURCE",e[e.ACTIONBUTTON=4]="ACTIONBUTTON",e[e.CANVASBUTTON=5]="CANVASBUTTON",e[e.TAGBUTTON=6]="TAGBUTTON",e}(sp||{}),lp={oaid:"",imei:"",idfa:"",common_device_id:"{}"},up=!1,cp=Date.now(),dp=Date.now(),pp=Date.now(),hp=0;null===(Jd=wx)||void 0===Jd||Jd.onAppEnterForeground((function(){(dp=Date.now())>pp&&(hp+=dp-pp)})),null===(Qd=wx)||void 0===Qd||Qd.onAppEnterBackground((function(){pp=Date.now()})),__wxConfig.onReady((function(){cp=__wxConfig.coldLaunchTime||cp}));var fp=!1,_p=!1,vp="",gp={},mp=0,Ep=[],yp=r.iw,Tp=r.wZ,bp=r.cj,Cp=20,Sp=null===(ep=__wxConfig)||void 0===ep?void 0:ep.host;function Ap(){return window.__lastRoute__?window.__lastRoute__+"?"+window.__lastQueryString__:""}function Ip(e,t){var n={source:4,tid:e.traceid,pt:e.pt,aid:e.aid,ad_engine:e.is_cpm?1:0,pos_type:e.pos_type,jsapi_scene:140};return mo(t,n)}const Pp=(0,_.Ou)("ad-base").behavior(v.ZP).behavior(zo).definition({properties:{unitId:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""},adExt:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:""},adIntervals:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0}},data:{_isMulti:!1,_adDataIndex:0,_multiShowList:[],_multiExposureList:[],_compressEntry:[],_compressedEntry:[],_multiViewableExposureList:[],cacheTime:30,lastFetchTime:0,lastExposureTime:0,lastClickTime:0,clickCount:0,lastJsapiName:"",lastJsapiStatus:0,lastJsapiCostTime:0,showedExposureTime:0,fetchRetryCount:0,useNativeRender:!1,clickFirstGradeTime:0,isOverlap:!1,checkOverlapCount:0,OverlapDistanceList:[],_isViewable:!1,_timePoints:{},_timePointsKey:0,_initialWebviewId:0,_currentWebviewId:0,_nativeConsole:wxNativeConsole||{},_beginDownloadTime:0,_isAdDataPreload:!1,_adNum:0,_adPosType:2,_enableTimer:!0,_adData:null,_adDatas:[],_inAdDetail:!1},methods:{_adbaseCreated:function(){var e,t,n,i,a,o,s,l,u,c,d,p,h=this;(this.customContext=this.traitBehavior(Kp),this._appRouteDoneTimeStamp=0,this.setData({_adNum:mp++,_adPosType:2}),Ep.push(this.data._adNum),null!==(e=this.customContext)&&void 0!==e&&e.appEnterForeground)&&(this._appEnterForeground=null===(s=this.customContext)||void 0===s?void 0:s.appEnterForeground.bind(this),null===(l=wx)||void 0===l||l.onAppEnterForeground(this._appEnterForeground));null!==(t=this.customContext)&&void 0!==t&&t.appEnterBackground&&(this._appEnterBackground=null===(u=this.customContext)||void 0===u?void 0:u.appEnterBackground.bind(this),null===(c=wx)||void 0===c||c.onAppEnterBackground(this._appEnterBackground));null!==(n=this.customContext)&&void 0!==n&&n.pageReRenderCallback&&(this._pageReRenderCallback=null===(d=this.customContext)||void 0===d?void 0:d.pageReRenderCallback.bind(this));null!==(i=this.customContext)&&void 0!==i&&i.attachedCb&&(this._attachedCb=this.onPageEvent("route",null===(p=this.customContext)||void 0===p?void 0:p.attachedCb.bind(this)));this._appRouteDoneCb=this.onPageEvent("routeDone",this._appRouteDone.bind(this)),this._appRouteCb=this.onPageEvent("appRoute",this._appRoute.bind(this)),this._routeDoneCb=null,this.setData({_initialWebviewId:this.getPageId(),_currentWebviewId:this.getPageId()}),vp=(null===(a=__wxConfig)||void 0===a||null===(o=a.accountInfo)||void 0===o?void 0:o.appId)||"",up||(up=!0,function(e){if(Hd)null==e||e(Hd);else if(r.wZ&&__wxConfig.clientVersion>654313523&&__wxConfig.clientVersion<654315827){var t;null===(t=wx)||void 0===t||t.invoke("getOAID",{},(function(t){/:ok/.test(t.errMsg)?(Hd=t.result||"",null==e||e(Hd)):null==e||e("")}))}else null==e||e("")}((function(e){lp.oaid=e})),qd().then((function({imei:e,oaid:t,commonid:n}){r.cj?lp.idfa=e:r.wZ&&(lp.oaid=t,lp.imei=e),lp.common_device_id=n||"{}",h._reportAdMonitorData("GET_DEVICEINFO_SUCCESS")})).catch((function(e){h._reportAdMonitorData("GET_DEVICEINFO_ERROR",e)}))),this._setTimePoint("p1")},_adbaseAttached:function(){var e;this._attached=!0;var t,n,i=this.getPluginId();(this.pluginAppid=i?i.replace("/0",""):"",this._pageReRenderCallback)&&(null===(t=wx)||void 0===t||t.onPageReRender(this._pageReRenderCallback));null!==(e=this.customContext)&&void 0!==e&&e.windowResizeHandler&&(this._windowResizeHandler=this.onPageEvent("windowResize",null===(n=this.customContext)||void 0===n?void 0:n.windowResizeHandler.bind(this)))},_adbaseDetached:function(){var e,t,n;(this._detached=!0,delete gp[this.data.unitId],this._removeAdOrder(),void 0!==this._appEnterForeground)&&(null===(e=wx)||void 0===e||e.offAppEnterForeground(this._appEnterForeground),delete this._appEnterForeground);void 0!==this._appEnterBackground&&(null===(t=wx)||void 0===t||t.offAppEnterBackground(this._appEnterBackground),delete this._appEnterBackground);void 0!==this._pageReRenderCallback&&(null===(n=wx)||void 0===n||n.offPageReRender(this._pageReRenderCallback),delete this._pageReRenderCallback);void 0!==this._attachedCb&&(this.offPageEvent("route",this._attachedCb),delete this._attachedCb),void 0!==this._appRouteDoneCb&&(this.offPageEvent("routeDone",this._appRouteDoneCb),delete this._appRouteDoneCb),void 0!==this._appRouteCb&&(this.offPageEvent("appRoute",this._appRouteCb),delete this._appRouteCb),void 0!==this._windowResizeHandler&&(this.offPageEvent("windowResize",this._windowResizeHandler),delete this._windowResizeHandler),this._clearAdTimer()},_getAppTime:function(){return{appFgTime:dp,appBgTime:pp,appLaunchTime:cp,pageBgTime:hp}},_covertAdData:function(e){var t,n=e;if(n.crt_exp_tid&&n.crt_exp_info&&(n=function(e){try{var t=JSON.parse(JSON.stringify(e)),n=JSON.parse(t.crt_exp_info);if(1001===n.exp_type){t.profile_exp=!0;var i=n.exp_data&&"string"==typeof n.exp_data?JSON.parse(n.exp_data):n.exp_data;if(t.dest_type=i.dest_type,t.button_action)try{t.button_action=JSON.parse(e.button_action)}catch(e){t.button_action={}}else t.button_action={};t.button_action.jump_type=i.jump_type,t.button_action=JSON.stringify(t.button_action)}else 106===n.exp_type&&(kd(t,n.exp_data&&"string"==typeof n.exp_data?JSON.parse(n.exp_data):n.exp_data),t.common_exp=!0);if([Hi.NEW_BANNER,Hi.COMMON_BANNER].includes(n.crt_size)){if(t.crt_size=n.crt_size,t.ad_width=t.material_width=n.width,t.ad_height=t.material_height=n.height,t.image_url=n.image_url,n.dest_url&&t.url&&[zi.OUTER,zi.BIZ,zi.WECHAT_APPLET].includes(t.dest_type)){var r=po(t.url),a={};r.weixinadkey&&(a.weixinadkey=r.weixinadkey),r.ticket&&(a.ticket=r.ticket),r.gdt_vid&&(a.gdt_vid=r.gdt_vid),r.weixinadinfo&&(a.weixinadinfo=r.weixinadinfo),t.url=mo(n.dest_url,a)}t.watermark_text=n.watermark}return t}catch(t){return e}}(e)),n.crt_size&&(n.crt_size=Number(n.crt_size)),n.button_action)try{n.button_action=JSON.parse(n.button_action)}catch(e){n.button_action={}}else n.button_action={};if(n.reranking_ext_info)try{n.rerankingExtInfo=JSON.parse(n.reranking_ext_info)}catch(e){n.rerankingExtInfo={}}if(null!==(t=n.rerankingExtInfo)&&void 0!==t&&t.refresh_time&&(this._rerankingRefreshTime=Number(n.rerankingExtInfo.refresh_time),this._isRerankingRefreshEnable()&&0===this.data.adIntervals&&this._rerankingRefreshTime>0&&this._rerankingRefreshTime<30?this.setData({cacheTime:this._rerankingRefreshTime}):this.setData({cacheTime:30})),n.button_action.button_text=n.button_action.button_text||"查看",n.watermark_text=n.watermark_text||"去逛逛",n.flow_exp_info&&(n.condition=function(e){var t={};try{var n=JSON.parse(e);for(var i of n)Object.hasOwnProperty.call(i,"exp_para")&&i.exp_para.forEach((function(e){t[e.name]=Number(e.value)}));for(var r of Object.keys(t)){var a=r;qi[a]&&(t[qi[a]]=t[a])}return t}catch(e){return{}}}(n.flow_exp_info)),n.ext_back_comm)if(this.data._compressEntry.indexOf(Ji.EXT_BACK_COMM)>-1&&this._validateCompressEntry(n.ext_back_comm))try{n.extBackComm=dr.unpack(n.ext_back_comm),this.setData({_compressedEntry:[...this.data._compressedEntry,Ji.EXT_BACK_COMM]}),this._reportAdMonitorData("JSONPACK_PARSE_SUCCESS",void 0,Vd)}catch(e){this._reportAdMonitorData("JSONPACK_PARSE_ERROR",e,Vd)}else try{n.extBackComm=JSON.parse(n.ext_back_comm)}catch(e){}if(n.crt_info)try{n.crtInfo=JSON.parse(n.crt_info)}catch(e){}if(n.ext_info)try{n.extInfo=JSON.parse(e.ext_info)}catch(e){}return n},_resetState:function(){this.setData({clickCount:0,lastClickTime:0,lastJsapiName:"",lastJsapiStatus:0,lastJsapiCostTime:0}),this._downloadState=Yi.DEFAULT,this.downloadProgress=0},_setAdTimer:function(){var e=this;if(this.data._enableTimer)if(0!==this.data.adIntervals){this.setData({adIntervals:Math.max(30,this.data.adIntervals,this.data.cacheTime)}),this.data.adIntervals>=30&&this.data.adIntervals<=3600&&(this.adTimer&&clearTimeout(this.adTimer),this.adTimer=setTimeout((function(){return e._emitAdTimer()}),1e3*this.data.adIntervals))}else this._setRerankingRefreshTimer()},_setRerankingRefreshTimer:function(){var e=this;this._isRerankingRefreshEnable()&&this._rerankingRefreshTime&&this._rerankingRefreshTime>0&&(this.adTimer&&clearTimeout(this.adTimer),this.adTimer=setTimeout((function(){return e._emitAdTimer()}),1e3*this._rerankingRefreshTime))},_emitAdTimer:function(){var e,t,n=this;this.data._currentWebviewId===this.data._initialWebviewId?(null===(e=this.customContext)||void 0===e||null===(t=e.attachedCb)||void 0===t||t.call(e,!1,!0),this._routeDoneCb=null):this._routeDoneCb=function(){var e,t;null===(e=n.customContext)||void 0===e||null===(t=e.attachedCb)||void 0===t||t.call(e,!1,!0)}},_clearAdTimer:function(){this.adTimer&&clearTimeout(this.adTimer)},_fetchAdData:function(){var e=s()((function*({posId:e,isAdInterval:t=!1,extSlotCustomCommObj:n={}}){var i=this,r=yield this._getSystemInfoPromise();return yield new Promise((function(a,o){var s,l,u,c;i.setData({lastFetchTime:Date.now(),lastExposureTime:0});var d,p,h={ad_unit_id:i.data.unitId,appid:i.pluginAppid?i.pluginAppid:vp,ext_slot_custom_comm:void 0,orig_weapp_id:i.pluginAppid?vp:"",pos_id:"",scene_type:(null===(s=__wxConfig)||void 0===s||null===(l=s.appLaunchInfo)||void 0===l?void 0:l.scene)||0,sdk_version:r.SDKVersion,user_agent:r.userAgent,weapp_path:i._getPath(),weapp_extra_data:JSON.stringify({app_appid:vp,enter_ts:dp,env:null==Sp?void 0:Sp.env,host_version:null==Sp?void 0:Sp.version,is_ad_interval:!!t,local_wechat_version:null==Sp?void 0:Sp.localWeChatVersion,machine_type:r.machineType,start_ts:cp,user_duration:Date.now()-i._appRouteDoneTimeStamp-hp,wxa_enter_ts:dp,wxa_ext:i.data.adExt||"",wxa_fetch_ads_ts:Date.now(),wxa_start_ts:cp})};(e&&(h.pos_id=e),(d=__wxConfig.host)&&"WeChat"!==d.env&&"WMPF"!==d.env&&(n.in_3rd_app=1),n.machine_brand=r.machineBrand||(null===(u=__wxConfig)||void 0===u?void 0:u.brand),h.ext_slot_custom_comm=JSON.stringify(n),[Qi.wxpayBottom,Qi.wxpayCard].includes(e))?ap(h).then((function(e){return a(e)})).catch((function(e){return o(e)})):null===(p=wx)||void 0===p||p.getAdData({data:h,success:function(e){console.log("getAdData success",e),a(e)},fail:function(e){console.log("getAdData fail",e),i._setAdTimer(),o(e)}});console.info("fetch ad data ---\x3e",h,null===(c=i.customContext)||void 0===c?void 0:c.type),i.data._nativeConsole.info("start fetch AdData",h)}))}));return function(t){return e.apply(this,arguments)}}(),_removeAdOrder:function(){Ep.indexOf(this.data._adNum)>-1&&Ep.splice(Ep.indexOf(this.data._adNum),1)},_addAdUnitNum:function(){gp[this.data.unitId]=(gp[this.data.unitId]||0)+1},_getReportCommonData:function(e){var t,n,i;return{pos_id:String(null===(t=this.customContext)||void 0===t||null===(n=t.getSlotId)||void 0===n?void 0:n.call(t)),sdk_version:this._getSystemInfo().SDKVersion,ad_group_id:this._getAdData().group_id,trace_id:this._getAdData().traceid,aid:this._getAdData().aid,user_agent:this._getSystemInfo().userAgent,referrer:Ap(),screen_cnt:this._getScreenNum(e.top),ad_w:Math.round(e.width),ad_h:Math.round(e.height),weapp_ghid:(null===(i=this._getAdData().weapp_info)||void 0===i?void 0:i.original_id)||"",pt:this._getAdData().pt,wxa_report_detail:{ad_index:Ep.indexOf(this.data._adNum)+1,ad_number:mp,ad_unit_number:gp[this.data.unitId],page_enter_time:this._appRouteDoneTimeStamp,phone_screen_width:this._getSystemInfo().windowWidth,phone_screen_height:this._getSystemInfo().windowHeight,screen_x:e.left,screen_y:e.top,page_x:e.left+this._getPageOffset().scrollLeft,page_y:e.top+this._getPageOffset().scrollTop},weapp_extra_data:JSON.stringify({start_ts:cp,enter_ts:dp,user_duration:Date.now()-this._appRouteDoneTimeStamp-hp,weixin_version:this._getSystemInfo().wxVersion,os_version:this._getSystemInfo().osVersion,machine_type:this._getSystemInfo().machineType,machine_brand:this._getSystemInfo().machineBrand,network_type:this._getSystemInfo().networkType,imp_time:this.data.lastFetchTime,exp_time:this.data.lastExposureTime,clk_time:this.data.lastClickTime,env:null==Sp?void 0:Sp.env,app_appid:vp,host_version:null==Sp?void 0:Sp.version,local_wechat_version:null==Sp?void 0:Sp.localWeChatVersion,wxa_fetch_ads_ts:Date.now()})}},_getAdParentList:function(){var e=[];try{for(var t=this.parentNode;null!=t;)e.push(t),t=t.parentNode}catch(e){}return e},_checkOverlap:function(){var e=s()((function*(e,t){if(!(this.data.checkOverlapCount>=Cp)){var n=e.asElement();if(n){var i=yield this._getBoundingClientRect(n);if(!(i.width<=0||i.height<=0)){var r=t.left>=i.left?t.left-i.left-i.width:i.left-t.left-t.width,a=t.top>=i.top?t.top-i.top-i.height:i.top-t.top-t.height;if(this.setData({OverlapDistanceList:[...this.data.OverlapDistanceList,[Math.round(r),Math.round(a)]]}),!this.data.isOverlap&&r<0&&a<0&&!(r<=0-t.width&&a<=0-t.height)&&this.setData({isOverlap:!0}),this.setData({checkOverlapCount:this.data.checkOverlapCount+1}),n.childNodes&&n.childNodes.length>0)for(var o of n.childNodes){if(this.data.checkOverlapCount>=Cp)break;yield this._checkOverlap(o,t)}}}}}));return function(t,n){return e.apply(this,arguments)}}(),_checkBrotherOverlap:function(){var e=s()((function*(e,t){var n,i=null===(n=e.parentNode)||void 0===n?void 0:n.childNodes;if(i&&i.length>1)for(var r=i.indexOf(e),a=r-1,o=r+1,s=0;(a>=0||o<i.length)&&this.data.checkOverlapCount<Cp&&s++<Cp;)a>=0&&(yield this._checkOverlap(i[a],t),a--),o<i.length&&(yield this._checkOverlap(i[o],t),o++)}));return function(t,n){return e.apply(this,arguments)}}(),_checkBannerIllegal:function(){var e=s()((function*(e){var t=e||this.$.main;if(t){var n=this._getAdParentList(),i=[],r=!1,a=!1,o=yield this._getBoundingClientRect(t),s=yield this._getComputedStyle(),l=s?100*Number(s.opacity):100;i.push(l),r=l<100;for(var u=0;u<n.length;u++){var c=n[u];if(c.$$){var d=yield this._getComputedStyle(c),p=d?100*Number(d.opacity):100;i.push(p),r||(r=p<100),d&&!a&&(parseFloat(d.width)<o.width||parseFloat(d.height)<o.height)&&"hidden"===d.overflow&&(a=!0)}}try{for(var h=this,f=0;null!==(_=h)&&void 0!==_&&_.parentNode&&this.data.checkOverlapCount<Cp&&f++<Cp;){var _;this._checkBrotherOverlap(h,o),h=h.parentNode}}catch(e){}r&&this._reportAbnormalDetect({diaphaneity_list:i.join(","),type:3}),this.data.isOverlap&&this._reportAbnormalDetect({element_distance_list:JSON.stringify(this.data.OverlapDistanceList),type:4}),a&&this._reportAbnormalDetect({type:5})}}));return function(t){return e.apply(this,arguments)}}(),_reportAbnormalDetect:function(){var e=s()((function*(e){var t,n,i;if("object"==typeof e){var r=(yield this._getBoundingClientRect())||{},a=this._getReportCommonData(r)||{},o=a.wxa_report_detail?a.wxa_report_detail:{},s=null===(t=this.customContext)||void 0===t||null===(n=t.getSlotId)||void 0===n?void 0:n.call(t),l={appid:vp,adunit_id:this.data.unitId,slotid:s,weapppath:this._getPath(),useragent:this._getSystemInfo().userAgent,costtype:null!==(i=this._getAdData())&&void 0!==i&&i.is_cpm?1:2,PageX:o.page_x||0,PageY:o.page_y||0,ScreenHeight:o.phone_screen_height||0,ScreenWidth:o.phone_screen_width||0,TimeMs:+new Date};return e=Object.assign({},l,e),this._reportMMData(16139,e)}}));return function(t){return e.apply(this,arguments)}}(),_isValidCondition:function(e){var t=this._getAdData();return!!(e&&t&&t.condition)&&(t.condition[e]||void 0===t.condition[e])},_formatMMData:function(e,t){var n=Zi[e];if(!n||0===n.length)return null;var i=this._getAdData();if(this.data._isMulti&&-1!==[16139].indexOf(e))try{i=this._getAdDatas()[this._getAdDatas().length-1]}catch(e){}return t=Object.assign(t,{aid:i?i.aid:0,traceid:i?i.traceid:"",publisher_appid:this.pluginAppid?this.pluginAppid:vp,appid:this.pluginAppid?this.pluginAppid:vp,orig_weapp_id:this.pluginAppid?vp:"",network_type:this._getSystemInfo().networkType,wechat_version:this._getSystemInfo().wxVersion,platform:yp,system_version:this._getSystemInfo().osVersion,device_orientation:"portrait",wxapp_lib_version:this._getSystemInfo().SDKVersion,wxapp_lib_time:this._getSystemInfo().SDKVersionTime,ad_unit_id:this.data.unitId,machine_type:this._getSystemInfo().machineType}),t=Object.assign({DeviceModel:this._getSystemInfo().machineType,DeviceBrand:this._getSystemInfo().machineBrand,OsName:yp,OsVersion:this._getSystemInfo().osVersion},t),n.map((function(e){return{type:e.type,value:(t[e.key]||e.value).toString()}}))},_reportMMData:function(e,t){var n,i=this._formatMMData(e,t);i&&(null===(n=wx)||void 0===n||n.adReportOperateWXData({report_action:"comm_mmdata_report",report_data_json:{logid:e,items:i}}))},_getFullRl:function(){var e=this._getAdData().rl;try{/viewid=([^&]+)/.test(e)||(-1===e.indexOf("?")?e+=`?viewid=${this._getAdData().extBackComm.viewid}`:e+=`&viewid=${this._getAdData().extBackComm.viewid}`)}catch(e){}return e},_getViewId:function(){var e="0",t=decodeURIComponent(this._getAdData().rl);return/viewid=([^&]+)/.test(t)&&(e=RegExp.$1),e},_dataReport:function(e){var t,n,i=this,r=this._getAdData(),a=[`trace_id=${this._getAdData().traceid}`,`product_type=${this._getAdData().pt}`,`jump_url=${encodeURIComponent(this._getAdData().url)}`,`rl=${encodeURIComponent(this._getFullRl())}`,`logtype=${e}`];null!=r&&null!==(t=r.welfare)&&void 0!==t&&t.trace_id&&(a.push(`welfare_trace=${r.welfare.trace_id}`),a.push(`welfare_id=${r.welfare.sku_id}`)),this.data._nativeConsole.info("invoke adDataReport"),null===(n=wx)||void 0===n||n.invoke("adDataReport",{adInfo:a.join("&")},(function(e){i.data._nativeConsole.info("adDataReport callback",e)}))},_reportAdIDKey:function({key:e,id:t,idkeyInfo:n,forceKey:i}){var r;(n=n||(null===(r=this.customContext)||void 0===r?void 0:r._idkeyInfo))?Reporter.reportIDKeyDirectly({id:t||n.id||924,key:i||n.keyMap[e]||0,immediately:!0}):this.data._nativeConsole.error("_reportAdIDKey ad idkeyInfo error",e)},_reportAdIDKeyErrorData:function({key:e,id:t,idkeyInfo:n,extInfo:i="",forceKey:r}){var a,o,s,l,u,c,d,p,h="";this._getAdData()&&(h=JSON.stringify({crt_size:this._getAdData().crt_size,product_type:this._getAdData().product_type,dest_type:this._getAdData().dest_type,url:this._getAdData().url,skyline:!0,isPreload:this.data._isAdDataPreload?1:0,renderer:null===(p=__wxConfig.renderer)||void 0===p?void 0:p.default}));if(i&&"string"!=typeof i)try{i=JSON.stringify(i)}catch(e){i=i.toString()}if(n=n||(null===(a=this.customContext)||void 0===a?void 0:a._idkeyInfo))return this._reportMMData(16295,{id_key:r||n.keyMap[e],report_time:+new Date,ad_pos_type:this.data._adPosType,expand_feild:h,expand_feild2:i,id_key_group:t||n.id||924,wxapp_lib_time:this._getSystemInfo().SDKVersionTime,ad_unit_id:this.data.unitId,welfare_id:(null===(o=this._getAdData())||void 0===o||null===(s=o.welfare)||void 0===s?void 0:s.sku_id)||"",welfare_trace:(null===(l=this._getAdData())||void 0===l||null===(u=l.welfare)||void 0===u?void 0:u.trace_id)||"",welfare_taked_cnt:(null===(c=this._getAdData())||void 0===c||null===(d=c.welfare)||void 0===d?void 0:d.takedCnt)||0});this.data._nativeConsole.error("_reportAdIDKeyErrorData ad idkeyInfo error",e)},_reportAdMonitorData:function(e,t,n){0===e&&(e="0"),this._reportAdIDKey({key:e,idkeyInfo:n}),this._reportAdIDKeyErrorData({key:e,extInfo:t,idkeyInfo:n})},_reportExposure:function(){var e=s()((function*(e,{extExposureCommObj:t={},mainElement:n,multiList:i=[]}={}){var r,a,o,s=this,l=n||this.$.main;if(!this.data._isMulti||i&&0!==i.length){this.setData({lastExposureTime:Date.now()});var u=yield this._getBoundingClientRect(),c=this._getReportCommonData(u);if(c.ad_unit_id=this.data.unitId,c.apurl=this._getAdData().apurl,e)c.viewable=!0,c.exposure_type=1,this._checkBannerIllegal(l),this._setTimePoint("p7");else{c.exposure_type=0,this._setTimePoint("p6");try{this._preloadH5Page()}catch(e){this._reportAdMonitorData("H5_PRELOAD_FAILED",e,Vd)}this._setAdTimer()}var d=t;if(Object.assign(d,lp),this.data._isMulti){var p={viewid:[],s_pt:[],s_aid:[],s_trace_id:[]};null==i||i.forEach((function(e){var t=s._getAdDatas()[e]||{};t.extBackComm&&p.viewid.push(t.extBackComm.viewid),p.s_pt.push(t.pt),p.s_aid.push(t.aid),p.s_trace_id.push(t.traceid)})),d.box_ad_exposure={report_mode:1,box_size:this._getAdDatas().length,box_used_cnt:this._getAdDatas().length,viewid:JSON.stringify({viewid:p.viewid}),s_trace_id:JSON.stringify(p.s_trace_id),s_aid:JSON.stringify(p.s_aid),s_pt:JSON.stringify(p.s_pt),s_index:JSON.stringify(i)}}else if(this._getAdData().waid){var h=[{idx:0,waid:this._getAdData().waid}];d.extra=JSON.stringify(h)}d.weapp_enter_scene=(null===(r=__wxConfig)||void 0===r||null===(a=r.appLaunchInfo)||void 0===a?void 0:a.scene)||0,this.data._isAdDataPreload&&(d.is_ad_preload=1),c.ext_exposure_comm=JSON.stringify(d),null===(o=wx)||void 0===o||o.reportAdExposure({data:c,fail:function(e){Reporter.reportIDKey({key:"adExposureReport_fail",force:!0}),s._reportAdMonitorData("EXPOSURE_REPORT_ERROR",e)}}),this.data._isMulti&&this._getAdDatas().length?null!=i&&i.length&&(i.forEach((function(t){s.setData({_adData:s._getAdDatas()[t]}),s._dataReport(e?5:2)})),this.setData({_adData:this._getAdDatas()[this.data._adDataIndex]})):this._dataReport(e?5:2),this.data._nativeConsole.info("report exposure",{viewable:e})}}));return function(t){return e.apply(this,arguments)}}(),_preloadLanding:function(){var e=this;try{if(this._getAdData().dest_type===zi.WECHAT_APPLET){var t,n,i,r=[];if(this.data._isMulti)null===(i=this._getAdDatas())||void 0===i||i.forEach((function(e){var t;null!==(t=e.weapp_info)&&void 0!==t&&t.appid&&r.push(e.weapp_info.appid)}));else r.push(this._getAdData().weapp_info.appid);null===(t=wx)||void 0===t||t.batchGetContact({appIds:r});var a,o="app";if(this._getAdData().product_type===ji.MINI_GAME&&(o="game"),this._isValidCondition("widget_gray_preload_env")&&(Tp||"app"===o))null===(a=wx)||void 0===a||a.preloadMiniProgramEnv({type:o,success:function(t){e._reportAdMonitorData("PRELOAD_MINIENV_SUCCESS",t)},fail:function(t){e._reportAdMonitorData("PRELOAD_MINIENV_ERROR",t)}});null===(n=wx)||void 0===n||n.predownloadMiniProgramPackage({username:`${this._getAdData().weapp_info.original_id}@app`,path:this._getAdData().url,scene:5,success:function(t){e._reportAdMonitorData("PREDOWNLOAD_SUCCESS",t)},fail:function(t){e._reportAdMonitorData("PREDOWNLOAD_ERROR",t)}})}}catch(e){}},_preloadH5Page:function(){var e=this;if(this._getAdData()){var t,n=[],{url:i}=this._getAdData(),r=this._getAdData().button_action.jump_url;if(this._isPrefetch("url")&&("1"!==po(i).prefetch&&(this._getAdData().url=i=mo(i,{prefetch:1})),n.push({url:i,bizScene:20001})),this._isPrefetch("jump_url")&&("1"!==po(r).prefetch&&(this._getAdData().button_action.jump_url=r=mo(r,{prefetch:1})),n.length&&i===r||n.push({url:r,bizScene:20001})),n.length)null===(t=wx)||void 0===t||t.invoke("private_onWebPageUrlExposed",{urlList:n},(function(t){e.data._nativeConsole.info("onWebPageUrlExposed callback",t),/:ok/.test(t.errMsg)?e._reportAdMonitorData("H5_PRELOAD_SUCCESS",void 0,Vd):e._reportAdMonitorData("H5_PRELOAD_FAILED",t,Vd)}))}},_isPrefetch:function(e){try{var t="url"===e?this._getAdData().url:this._getAdData().button_action.jump_url,n="url"===e?this._getAdData().dest_type:this._getAdData().button_action.jump_type;return t&&n===zi.OUTER&&Boolean(this._getAdData().extBackComm.material_handler_info.h5_preload_info[e])}catch{return!1}},_reportVideoPlay:function(e,t,{playDuration:n=0,isMuted:i=!0,isAutoPlay:r=!1,videoDuration:a=0}){var o,s;if(null!==(o=this._getAdData())&&void 0!==o&&o.aid){var l={trace_id:this._getAdData().traceid,traceid:this._getAdData().traceid,aid:this._getAdData().aid,viewid:this._getViewId(),report_type:{unknown:0,exit:1,end:2,start:3,app_exit:4,close:5}[t],video_play_info:{play_type:{unknown:0,complete:1,partial:2,error:3,viewable:4}[e],muted:i,auto_play:r,impression_time:this.data.lastFetchTime,video_duration:Number(a)||0,play_duration:n||0}};null===(s=wx)||void 0===s||s.reportVideoPlay({data:l})}},_checkAppInstallState:function(){var e=this,t=this._getAdData();if([ji.APPLE_APP_STORE,ji.OPEN_PLATFORM_APP_MOB].indexOf(t.product_type)>-1&&Tp){var n,i=t.app_info;null===(n=wx)||void 0===n||n.getInstallState({packageName:i.apk_name,permissionBytes:[1,1,1],success:function(t){var n,r,a,o,s;t.isInstalled&&(void 0===t.versionCode||t.versionCode>=i.version_code)&&(e._downloadState=Yi.INSTALLED,e.downloadProgress=0,null!==(n=e.customContext)&&void 0!==n&&n.updateButtonText&&(null===(r=e.customContext)||void 0===r||null===(a=r.updateButtonText)||void 0===a||a.call(r,{text:"已安装",progress:0}),i.url_scheme&&i.url_scheme.trim().length>0&&(null===(o=e.customContext)||void 0===o||null===(s=o.updateButtonText)||void 0===s||s.call(o,{text:"进入",progress:0}))))},fail:function(){Reporter.reportIDKey({key:"adGetInstallState_fail",force:!0})}})}},_checkFollowStatus:function(){var e,t=this;this._checkingFollowStatus||(this._checkingFollowStatus=!0,null===(e=wx)||void 0===e||e.checkFollowStatus({data:{biz_uin:this._getAdData().biz_info.biz_uin},success:function(e){try{var n,i,r,a,o=JSON.parse(e.data.data);if(0!==o.ret)return;if(1===o.is_subscribed)t._getAdData().biz_info.is_subscribed=1,null===(n=t.customContext)||void 0===n||null===(i=n.updateButtonText)||void 0===i||i.call(n,{text:"查看"});else t._getAdData().biz_info.is_subscribed=0,null===(r=t.customContext)||void 0===r||null===(a=r.updateButtonText)||void 0===a||a.call(r,{text:t._getAdData().button_action.button_text})}catch(e){}},complete:function(){t._checkingFollowStatus=!1}}))},_reportInstallFollow:function(e){var t,n=this._getAdData().condition;n&&1===n.widget_gray_report_install_follow&&(null===(t=wx)||void 0===t||t.adReportOperateWXData({report_action:"comm_real_report",report_data_json:e}))},_getDevinceInfoCache:function(){return new Promise((function(e,t){lp.imei||lp.oaid||lp.common_device_id?e({imei:lp.imei}):qd().then((function({imei:t}){e({imei:t})})).catch((function(e){return t(e)}))}))},_checkDuplicateRecommendedAds:function(){var e,t,n,i=this,a=this._getAdData(),o=this._getAdData().product_type,s={},l=!1,u=[],c={conv_status:u},d="0",p=decodeURIComponent(this._getAdData().apurl);if(/viewid=([^&]+)/.test(p)&&(d=RegExp.$1),o===ji.WECHAT){l=!!a.biz_info.is_subscribed,s.ad_type=1,s.ad_id=a.biz_appid;var h={viewid:d,app_status:0,follow_status:0,imei:"",idfa:""};h.follow_status=a.biz_info.is_subscribed?2:1,this._getDevinceInfoCache().then((function({imei:e}){bp&&(h.idfa=e||""),Tp&&(h.imei=e||""),l&&i._reportAdMonitorData("AD_FOLLOWED",{adInfo:s}),u.push(h),i._reportInstallFollow(c),i._reportAdMonitorData("GET_DEVICEINFO_SUCCESS")})).catch((function(e){l&&i._reportAdMonitorData("AD_FOLLOWED",{adInfo:s}),u.push(h),i._reportAdMonitorData("GET_DEVICEINFO_ERROR",e),i._reportInstallFollow(c)}))}else if(o===ji.OPEN_PLATFORM_APP_MOB){var f=this._getAdData().app_info;(e=[(n=f.apk_name,new Promise((function(e,t){var i;r.wZ&&__wxConfig.clientVersion>=654316032?null===(i=wx)||void 0===i||i.invoke("getDeviceInfo",{waidPkg:n},(function(n){/:ok/.test(n.errMsg)?(Kd=n.waid||"",zd=n.imei||"",e({waid:Kd,imei:zd})):t(n)})):e({waid:Kd,imei:zd})}))),this._getInstallStatePromise(f)],t=e.map((function(e){return e.then((function(e){return{status:"fulfilled",value:e}})).catch((function(e){return{status:"rejected",reason:e}}))})),Promise.all(t)).then((function([e,t]){var n={viewid:d,app_status:0,follow_status:0,imei:"",idfa:""};if("fulfilled"===e.status){var{waid:r,imei:o}=e.value;a.waid=r,Tp&&(n.imei=o||""),bp&&(n.idfa=o||""),i._reportAdMonitorData("GET_WAID_SUCCESS")}else i._reportAdMonitorData("GET_WAID_ERROR",e.reason);"fulfilled"===t.status?(s.ad_type=2,s.ad_id=f.apk_name,n.app_status=+t.value,t.value&&i._reportAdMonitorData("AD_INSTALLED",{adInfo:s})):(n.app_status=0,Reporter.reportIDKey({key:"adGetInstallState_fail",force:!0})),u.push(n),i._reportInstallFollow(c)}))}},_getInstallStatePromise:function(e){return new Promise((function(t,n){var i;null===(i=wx)||void 0===i||i.getInstallState({packageName:e.apk_name,permissionBytes:[1,1,1],success:function(n){n.isInstalled&&(void 0===n.versionCode||n.versionCode>=e.version_code)?t(!0):t(!1)},fail:function(e){n(e)}})}))},_openFeedbackPage:function(){var e,t,n=this._getAdData().material_id_list||[],i=encodeURIComponent(`[${n.toString()}]`)||"",r="https://mp.weixin.qq.com/promotion/res/htmledition/mobile/html/feedback.html#wechat_redirect",a=(null===(e=this.customContext)||void 0===e||null===(t=e.getFeedbackSource)||void 0===t?void 0:t.call(e))||1009,o={traceid:this._getAdData().traceid,source:a,aid:this._getAdData().aid,material_id:i||"",machine_type:this._getSystemInfo().machineType,publisher_appid:vp};r=mo(r,o),this._openUrl(r),this._reportAdFeedbackData({secondGradeId:1,secondGradeDesc:"投诉"})},_reportAdFeedbackData:(xp=s()((function*({firstGradeId:e=1,firstGradeDesc:t="广告角标",secondGradeId:n=0,secondGradeDesc:i="",feedbackReason:r=0}){var a,o;e&&!n&&this.setData({clickFirstGradeTime:Date.now()});var s=yield this._getBoundingClientRect(),l=null===(a=this.customContext)||void 0===a||null===(o=a.getSlotId)||void 0===o?void 0:o.call(a);this._reportMMData(17045,{appid:vp,weapp_path:this._getPath(),ad_unit_id:this.data.unitId,device_type:this._getSystemInfo().machineType||"",ad_height:Math.round(s.height),ad_width:Math.round(s.width),screen_height:this._getSystemInfo().windowHeight,screen_width:this._getSystemInfo().windowWidth,ad_pos_x:Math.round(s.left+this._getPageOffset().scrollLeft),ad_pos_y:Math.round(s.top+this._getPageOffset().scrollTop),exp_time:this.data.showedExposureTime,clk_complaint_button:1,slotid:l,service_type:0,first_grade_id:e,first_grade_desc:t,first_grade_time:e?this.data.clickFirstGradeTime:0,second_grade_id:n,second_grade_desc:i,second_grade_time:n?+new Date:0,is_finish_complaint:0,is_click_ad:0!==this.data.lastClickTime?1:0,click_ad_time_ms:this.data.lastClickTime,feedback_reason:r})})),function(e){return xp.apply(this,arguments)}),_isClickLimit:(Rp=s()((function*(e,{mainElement:t}={}){var n,i=t||this.$.main,r=!1,a=this._getAdData(),o=0;this._isValidCondition("widget_gray_time_limit")&&(o=100*(a.condition.widget_gray_time_limit||1)),o>0&&+new Date-this.data.showedExposureTime<o&&(r=!0,this._reportAdMonitorData("AD_LIMIT_TIME"));var s=yield this._getBoundingClientRect(i),l=null===(n=e.detail.touches)||void 0===n?void 0:n[0],u=s.top,c=s.left,d=s.width,p=s.height,h=0;return this._isValidCondition("widget_gray_bd_limit")&&(h=a.condition.widget_gray_bd_limit||10),s&&l&&h>0&&(l.clientX-c<h||c+d-l.clientX<h||l.clientY-u<h||u+p-l.clientY<h)&&(r=!0,this._reportAdMonitorData("AD_LIMIT_BOUNDARY")),r})),function(e){return Rp.apply(this,arguments)}),_handleContainerTap:function(e,{extClickCommObj:t={}}={}){var n=this;this.setData({clickCount:this.data.clickCount+1,lastClickTime:Date.now()}),this._reportClicked(e,{extClickCommObj:t}),this._isPrefetch("url")&&this._reportAdMonitorData("H5_PRELOAD_CARD_CLICKED",void 0,Vd);var i=this._getAdData();if([ji.APPLE_APP_STORE,ji.OPEN_PLATFORM_APP_MOB].indexOf(i.product_type)>-1){var r=i.app_info;this._launchApplication(r.url_scheme,bp,(function(){n._openMachineMarket((function(){n._land(i.dest_type,i.url,op.container)}))}))}else ji.WE_CHAT_SHOP===i.product_type?this._openShopScheme((function(){n._land(i.dest_type,i.url,op.container)})):this._land(i.dest_type,i.url,op.container);this._dataReport(3),null==e||e.stopPropagation()},_handleButtonTap:function(e,{isHandleDownload:t=!1,extClickCommObj:n={}}={}){var i=this;this.setData({clickCount:this.data.clickCount+1,lastClickTime:Date.now()}),this._isPrefetch("jump_url")&&this._reportAdMonitorData("H5_PRELOAD_BUTTON_CLICKED",void 0,Vd);var r=this._getAdData(),a=r.product_type,o=r.button_action.jump_type,s=r.button_action.jump_url;if(a===ji.WECHAT){if(o===zi.PROFILE)return this._openProfile(this._getAdData().biz_info.user_name);if(this._reportClicked(e,{extClickCommObj:n}),o===zi.WECHAT)return this._follow(e,Ip(r,s));this._land(o,s,op.button)}else{if(t&&[ji.APPLE_APP_STORE,ji.OPEN_PLATFORM_APP_MOB].indexOf(a)>-1)return this._reportClicked(e,{extClickCommObj:n}),this._doDownloadLogic(e);a===ji.WE_CHAT_SHOP?(this._reportClicked(e,{extClickCommObj:n}),this._openShopScheme((function(){i._land(o,s,op.button)}))):this._shouldOpenMachineMarket()?(this._reportClicked(e,{extClickCommObj:n}),this._openMachineMarket((function(){i._land(o,s,op.button)}))):(this._reportClicked(e,{extClickCommObj:n}),this._land(o,s,op.button))}},_land:function(e,t,n){var i,r=this,a=this._getAdData(),o=a.ext_info||{};if(null!=o&&null!==(i=o.app_gift_pack_code)&&void 0!==i&&i.code)try{var s,l=o.app_gift_pack_code.code;null===(s=wx)||void 0===s||s.setClipboardData({data:l,success:function(){var e;null===(e=wx)||void 0===e||e.showToast({duration:1500,title:"礼包码复制成功",icon:"success"}),this._reportAdMonitorData("COPY_GIFT_CODE_SUCCESS")},fail:function(e){this._reportAdMonitorData("COPY_GIFT_CODE_FAIL",e)}})}catch(e){this._reportAdMonitorData("COPY_GIFT_CODE_FAIL",e)}e===zi.WECHAT_APPLET?this._navigateToMiniProgram(a.weapp_info.appid,t):e===zi.APPDETAIL&&bp?this._launchApplication(a.app_info.appinfo_url,!1,(function(){r._openUrl(a.app_info.appinfo_url)})):e===zi.BIZ?this._openUrl(Ip(a,t)):e===zi.CANVAS?this._openADCanvas(a.canvas_info,a.pos_type):e===zi.PROFILE?this._openProfile(this._getAdData().biz_info.user_name):e===zi.CHANNELS_ACTIVITY?this._openChannelsActivity(n):this._openUrl(t)},_launchApplication:function(e,t,n){var i=this;if(e&&e.trim().length>0){var a;if(Tp&&this._downloadState!==Yi.INSTALLED)return void(null==n||n());var o,s=function(e){var t,n=null;if(null!=e&&null!==(t=e.extBackComm)&&void 0!==t&&t.sk_ad_items)try{n=JSON.parse(e.extBackComm.sk_ad_items)[0]}catch{}return n}(this._getAdData()),l={};if(t){var u=this._getAdData().app_info;l.appId=u.app_id,l.installSchemeUrl=u.appinfo_url,null!==s?(l.installAction=1,l.skAdItem=s):l.installAction=0}if(r.cj)l.extraData=JSON.stringify({aid:this._getAdData().aid,ad_uid:null===(o=this._getAdData().extBackComm)||void 0===o?void 0:o.uid,scene_id:4001});null!==(a=this._getAdData())&&void 0!==a&&a.uxinfo&&(l.bizInfo=this._getAdData().uxinfo,l.sourceInfo=JSON.stringify({wxad:{source:1}}));var c,d,p=Date.now();if(r.cj&&!t&&null!==s)this.setData({lastJsapiName:"downloadAppInternal",lastJsapiStatus:2}),null===(c=wx)||void 0===c||c.downloadAppInternal({appUrl:e,operateDirectly:1,extraData:l.extraData,sourceInfo:l.sourceInfo||"",bizInfo:l.bizInfo||"",skAdItem:s,success:function(){i.setData({_inAdDetail:!0,lastJsapiCostTime:Date.now()-p})},fail:function(e){i.setData({lastJsapiStatus:1}),null==n||n(),i._reportAdMonitorData("OPEN_WEBSTORE_ERROR",e,Vd)}});else this.setData({lastJsapiName:"launchApplication",lastJsapiStatus:2}),null===(d=wx)||void 0===d||d.launchApplication(Object.assign(l,{schemeUrl:e,operateDirectly:1,success:function(){i.setData({_inAdDetail:!0,lastJsapiCostTime:Date.now()-p})},fail:function(e){i.setData({lastJsapiStatus:1}),null==n||n(),null!==s&&i._reportAdMonitorData("OPEN_WEBSTORE_ERROR",e,Vd)}}))}else null==n||n()},_openShopScheme:function(e){var t=this,n=this._getAdData(),i=null==n?void 0:n.app_info;if(null!=i&&i.url_scheme&&(bp||Tp)){var r,a={};Tp?a={schemeUrl:i.url_scheme}:bp&&(a={schemeUrl:i.url_scheme,messageExt:i.url_scheme}),this.setData({lastJsapiName:"launchApplication",lastJsapiStatus:2});var o=Date.now();null!=n&&n.uxinfo&&(a.bizInfo=n.uxinfo,a.sourceInfo=JSON.stringify({wxad:{source:3}})),null===(r=wx)||void 0===r||r.launchApplication(Object.assign(a,{operateDirectly:1,success:function(){t.setData({_inAdDetail:!0,lastJsapiCostTime:Date.now()-o}),t._reportAdMonitorData("OPEN_SHOP_SCHEME_SUCCESS",{},Vd)},fail:function(n){t.setData({lastJsapiStatus:1}),null==e||e(),t._reportAdMonitorData("OPEN_SHOP_SCHEME_ERROR",n,Vd)}}))}else null==e||e()},_openAppStore:function(e,t){var n=this;t&&t.trim().length>0?this._launchApplication(t,!0,(function(){n._launchApplication(e,!1,(function(){n._openUrl(e)}))})):this._launchApplication(e,!1,(function(){n._openUrl(e)}))},_navigateToMiniProgram:function(e,t){var n,i=this;this.data._nativeConsole.log("invoke navigateToMiniProgram",e,t);var r=[this._getAdData().traceid,this._getAdData().aid];this.setData({lastJsapiName:"navigateToMiniProgram",lastJsapiStatus:2});var a=Date.now(),o=[`trace_id=${this._getAdData().traceid}`,`product_type=${this._getAdData().pt}`,`jump_url=${encodeURIComponent(this._getAdData().url)}`,`rl=${encodeURIComponent(this._getFullRl())}`,"logtype=3"].join("&");null===(n=wx)||void 0===n||n.navigateToMiniProgram({appId:e,path:t,extraData:{},envVersion:"release",sourcetype:1,scene:1095,sceneNote:r.join(":"),adInfo:o,adUxInfo:this._getAdData().uxinfo,__noCheckBeforeNavigateToMiniProgram:!0,success:function(){i.setData({lastJsapiCostTime:Date.now()-a})},fail:function(e){Reporter.reportIDKey({key:"adNavigateToMiniProgram_fail",force:!0}),i._reportAdMonitorData("OPEN_WXAPP_ERROR",e),i.setData({lastJsapiStatus:1})},complete:function(e){i.setData({_inAdDetail:!0}),i.data._nativeConsole.log("navigateToMiniProgram callback",e)}})},_follow:function(e,t){return this._getAdData().biz_info.is_subscribed?(this._openUrl(t),!1):(this._clearAdTimer(),this._addContact(this._getAdData().biz_info.user_name),!1)},_openProfile:function(e){var t,n=this;if(!0!==fp){fp=!0,this.data._nativeConsole.log("invoke profile",e),this.setData({lastJsapiName:"profile",lastJsapiStatus:2});var i=Date.now();null===(t=wx)||void 0===t||t.invoke("profile",{username:e,scene:75},(function(e){fp=!1,/:fail/.test(e.errMsg)&&(Reporter.reportIDKey({key:"adOpenProfile_fail",force:!0}),n.setData({lastJsapiStatus:1})),n._detached||(n.setData({lastJsapiCostTime:Date.now()-i}),n.setData({_inAdDetail:!0}),n.data._nativeConsole.log("profile callback",e))}))}},_openChannelsActivity:function(e){var t=this;try{var n;this.setData({lastJsapiName:"openChannelsRewardedVideoAd",lastJsapiStatus:2});var i=Date.now(),r=this._getAdData().extBackComm.channels_info.id,a=this._getAdData().extBackComm.channels_info.nonce_id,o=this._getAdData().extBackComm.channels_info.username,s=this._getChannelsExtraInfo(e===op.button?sp.ACTIONBUTTON:sp.RESOURCE);null===(n=wx)||void 0===n||n.openChannelsRewardedVideoAd({feedId:r,nonceId:a,finderUserName:o,reportExtraInfo:s,adJSAPIType:1,success:function(e){t.setData({lastJsapiCostTime:Date.now()-i}),t._reportAdMonitorData("OPEN_CHANNELS_ACTIVITY_SUCCESS",e,Vd)},fail:function(e){t.setData({lastJsapiStatus:1}),t._reportAdMonitorData("OPEN_CHANNELS_ACTIVITY_ERROR",e,Vd)}})}catch(e){this._reportAdMonitorData("OPEN_CHANNELS_ACTIVITY_ERROR",e,Vd)}},_getChannelsExtraInfo:function(e){return JSON.stringify({sns_ad:{uxinfo:this._getAdData().uxinfo||"",snsid:"",scene:e}}).replace(/,/g,";")},_openUrl:function(e){var t,n=this;if(!0!==fp){var i=[`trace_id=${this._getAdData().traceid}`,`product_type=${this._getAdData().pt}`,`jump_url=${encodeURIComponent(this._getAdData().url)}`,`rl=${encodeURIComponent(this._getFullRl())}`,"logtype=3"];fp=!0,this.data._nativeConsole.log("invoke private_openUrl",e),this.setData({lastJsapiName:"private_openUrl",lastJsapiStatus:2});var r=Date.now();null===(t=wx)||void 0===t||t.invoke("private_openUrl",{url:e,adInfo:i.join("&"),adUxInfo:this._getAdData().uxinfo,scene:85},(function(e){fp=!1,/:fail/.test(e.errMsg)&&(Reporter.reportIDKey({key:"adOpenUrl_fail",force:!0}),n._reportAdMonitorData("OPEN_URL_ERROR",e),n.setData({lastJsapiStatus:1})),n._detached||(n.setData({lastJsapiCostTime:Date.now()-r}),n.setData({_inAdDetail:!0}),n.data._nativeConsole.log("private_openUrl callback",e))}))}},_openADCanvas:function(e,t){var n,i=this;if(!0!==_p){_p=!0,this.data._nativeConsole.log("invoke openADCanvas",e.canvas_id),this.setData({lastJsapiName:"openADCanvas",lastJsapiStatus:2});var r,a=Date.now();null===(n=wx)||void 0===n||n.openADCanvas({canvasId:e.canvas_id,preLoad:0,noStore:0,...e.canvas_dynamic_info&&{canvasDynamicInfo:e.canvas_dynamic_info},extraData:JSON.stringify({pos_type:t,env:null==Sp?void 0:Sp.env,app_appid:vp,host_version:null==Sp?void 0:Sp.version}),adInfoXml:(r=e.ad_info_xml,0===(r=r||"").length?"":r.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g,"    ").replace(/&#039;|&#39;/g,"'").replace(/&#047;|&#47;/g,"/").replace(/&#092;|&#92;/g,"\\").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/<br>/g,"\n").replace(/<br\/>/g,"\n").replace(/<br \/>/g,"\n")),openFirstSightVoice:1,success:function(){i.setData({lastJsapiCostTime:Date.now()-a})},fail:function(e){Reporter.reportIDKey({key:"openADCanvas_fail",force:!0}),i._reportAdMonitorData("OPEN_CANVAS_ERROR",e),i.setData({lastJsapiStatus:1})},complete:function(e){_p=!1,i.setData({_inAdDetail:!0}),i.data._nativeConsole.log("openADCanvas callback",e)}})}},_bindGuideGroupToFans:function(){var e,t=this;null!==(e=this._getAdData().extInfo)&&void 0!==e&&e.guide_group_id&&this._getAdData().uxinfo&&function({guide_group_id:e,uxinfo:t}){return new Promise((function(n,i){wx.operateWXData("webapi_getadvert",{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"BindAdFansToGuideGroup",guide_group_id:e,uxinfo:t}),success:function(e){"ok"===e.msg?n(e):i(e)},fail:function(e){i(e)}})}))}({guide_group_id:this._getAdData().extInfo.guide_group_id,uxinfo:this._getAdData().uxinfo}).then((function(){t._reportAdIDKey({key:"BIND_GUIDE_SUCCESS"})})).catch((function(e){t._reportAdMonitorData("BIND_GUIDE_ERROR",e)}))},_addContact:function(e){var t,n=this;this.data._nativeConsole.log("invoke private_addContact",e),this.setData({lastJsapiName:"private_addContact",lastJsapiStatus:2});var i=Date.now();null===(t=wx)||void 0===t||t.invoke("private_addContact",{username:e,scene:139,webtype:1},(function(e){var t,r,a=Xi.FAIL;if(/:added/.test(e.errMsg))a=Xi.ADDED,n._getAdData().biz_info.is_subscribed=1,null===(t=n.customContext)||void 0===t||null===(r=t.updateButtonText)||void 0===r||r.call(t,{text:"查看"}),n._bindGuideGroupToFans();else if(/:ok/.test(e.errMsg)){var o,s;a=Xi.SUCCESS,n._getAdData().biz_info.is_subscribed=1,null===(o=n.customContext)||void 0===o||null===(s=o.updateButtonText)||void 0===s||s.call(o,{text:"查看"}),n._bindGuideGroupToFans()}else/:cancel/.test(e.errMsg)?a=Xi.CANCEL:(Reporter.reportIDKey({key:"adAddContact_fail",force:!0}),n._reportAdMonitorData("ADD_CONTACT_ERROR",e));if(a!==Xi.FAIL){var l,u,c=Date.now();n.setData({lastJsapiCostTime:c-i,lastJsapiStatus:0});var d=null===(l=n.customContext)||void 0===l||null===(u=l.getSlotId)||void 0===u?void 0:u.call(l);n._reportMMData(15980,{slotid:d,costtype:n._getAdData().is_cpm?1:2,currenttime:n.data.lastClickTime,opentime:i,closetime:c,staytime:n.data.lastJsapiCostTime,jsapiname:n.data.lastJsapiName,clkcnt:n.data.clickCount,retcode:n.data.lastJsapiStatus,costtime:n.data.lastJsapiCostTime,act_type_int:n._getAdData().biz_info.is_subscribed?2:3,act_type_str:n._getAdData().biz_info.is_subscribed?"关注":"取消"})}n._reportFollowBehavior(a),n._getAdData().biz_info.is_subscribed&&n._reportAdIDKey({key:"FOLLOW_SUCCESS"}),n._setAdTimer(),n.data._nativeConsole.log("private_addContact callback",e)}))},_reportFollowBehavior:function(e){var t,n=this,i={type:e,referrer:Ap(),source:5,scene:75,trace_id:this._getAdData().traceid,aid:this._getAdData().aid,pos_type:5,biz_uin:this._getAdData().biz_info.biz_uin};null===(t=wx)||void 0===t||t.reportFollowBehavior({data:i,fail:function(e){Reporter.reportIDKey({key:"adFollowReport_fail",force:!0}),n._reportAdMonitorData("FOLLOW_REPORT_ERROR",e)}})},_touchstart:function(){this._touchStartTime=Date.now()},_touchend:function(){this._touchInterval=Date.now()-this._touchStartTime},_reportClicked:(wp=s()((function*(e,{extClickCommObj:t={}}={}){var n,i,r,a,o,s,l,u,c=this;this._setTimePoint("p10");var d=yield this._getBoundingClientRect(),p=(null===(n=e.detail.touches)||void 0===n?void 0:n[0])||{clientX:d.left,clientY:d.top},h=this._getReportCommonData(d);h.rl=this._getAdData().rl,h.click_point=JSON.stringify({x:Math.round(null===(i=e.detail.touches)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.clientX),y:Math.round(null===(a=e.detail.touches)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.clientY)}),h.from_h5=this.data.useNativeRender?0:1,h.pos_x=Math.round(p.clientX-d.left),h.pos_y=Math.round(p.clientY-d.top),h.press_interval=this._touchInterval;var f=t;if(Object.assign(f,lp),this.data._isMulti){var _,v=this.data._adDataIndex;f.box_ad_click={box_size:this._getAdDatas().length,box_used_cnt:this._getAdDatas().length,viewid:null===(_=this._getAdData().extBackComm)||void 0===_?void 0:_.viewid,box_index:v}}else if(this._getAdData().waid){var g=[{idx:0,waid:this._getAdData().waid}];f.extra=JSON.stringify(g)}f.weapp_enter_scene=(null===(s=__wxConfig)||void 0===s||null===(l=s.appLaunchInfo)||void 0===l?void 0:l.scene)||0,this.data._isAdDataPreload&&(f.is_ad_preload=1),h.ext_click_comm=JSON.stringify(f),null===(u=wx)||void 0===u||u.reportAdClicked({data:h,fail:function(e){Reporter.reportIDKey({key:"adClickReport_fail",force:!0}),c._reportAdMonitorData("CLICK_REPORT_ERROR",e)}}),this.data._nativeConsole.info("report click")})),function(e){return wp.apply(this,arguments)}),_doDownloadLogic:function(e){var t=this,n=this._getAdData(),i=n.app_info,r=this._downloadState;if(Tp){var a=0,o="";if(r===Yi.INSTALLED)this._launchApplication(i.url_scheme,!1,(function(){t._land(n.dest_type,n.url)})),this._reportAdMonitorData("DOWNLOAD_INSTALLED",{scheme:i.url_scheme});else if(r===Yi.ING){var s,l,u;null===(s=wx)||void 0===s||s.pauseDownloadTask({downloadId:this._downloadId,permissionBytes:[1,1,1],fail:function(){Reporter.reportIDKey({key:"adPauseDownloadTask_fail",force:!0})}}),this._downloadState=Yi.PAUSE,this.setData({lastJsapiName:"pauseDownloadTask"}),a=5,o="暂停",null===(l=this.customContext)||void 0===l||null===(u=l.updateButtonText)||void 0===u||u.call(l,{text:"继续"})}else if(r===Yi.PAUSE){var c,d,p;null===(c=wx)||void 0===c||c.resumeDownloadTask({downloadId:this._downloadId,permissionBytes:[1,1,1],success:function(){setTimeout(t._updateDownloadProgress.bind(t),Ki)},fail:function(){Reporter.reportIDKey({key:"adResumeDownloadTask_fail",force:!0})}}),this._downloadState=Yi.ING,this.setData({lastJsapiName:"resumeDownloadTask"}),a=6,o="继续",null===(d=this.customContext)||void 0===d||null===(p=d.updateButtonText)||void 0===p||p.call(d,{text:"暂停"})}else if(r===Yi.SUCCESS){var h;null===(h=wx)||void 0===h||h.installDownloadTask({downloadId:this._downloadId,permissionBytes:[1,1,1],success:function(){t.setData({_inAdDetail:!0})},fail:function(){Reporter.reportIDKey({key:"adInstallDownloadTask_fail",force:!0})}}),this.setData({lastJsapiName:"installDownloadTask"}),a=7,o="安装"}else this._beginDownload(),this.setData({lastJsapiName:"addDownloadTaskStraight",_beginDownloadTime:Date.now()}),a=4,o="下载";if(a>0){var f,_,v=null===(f=this.customContext)||void 0===f||null===(_=f.getSlotId)||void 0===_?void 0:_.call(f);this._reportMMData(15980,{slotid:v,costtype:this._getAdData().is_cpm?1:2,currenttime:this.data.lastClickTime,opentime:this.data.lastClickTime,clkcnt:this.data.clickCount,jsapiname:this.data.lastJsapiName,act_type_int:a,act_type_str:o})}}else bp&&this._openAppStore(i.appinfo_url,i.url_scheme);return!1},_beginDownload:function(){var e,t,n,i=this,r=this._getAdData(),a=r.app_info,o=[r.aid,r.traceid,a.apk_name.replace(/./g,"_"),0,20,r.apurl.indexOf("ad.wx.com")>-1?1:0].join(".");null===(e=wx)||void 0===e||e.addDownloadTaskStraight({taskName:a.app_name,taskUrl:a.apk_url,fileMd5:a.app_md5||"",extInfo:o,permissionBytes:[1,1,1],success:function(e){i._downloadId=e.downloadId,setTimeout(i._updateDownloadProgress.bind(i),Ki),i._clearAdTimer()},fail:function(e){Reporter.reportIDKey({key:"adAddDownloadTaskStraight_fail",force:!0}),i._reportAdMonitorData("ADD_DOWNLOAD_TASK_ERROR",e)}}),this._downloadState=Yi.ING,null===(t=this.customContext)||void 0===t||null===(n=t.updateButtonText)||void 0===n||n.call(t,{text:"暂停",progress:0})},_updateDownloadProgress:function(e=3){var t,n=this;null===(t=wx)||void 0===t||t.queryDownloadTask({downloadId:this._downloadId,permissionBytes:[1,1,1],success:function(e){n.downloadProgress;var t,i,r=n._downloadState;if("download_succ"===e.state)n._downloadState=Yi.SUCCESS,null===(t=n.customContext)||void 0===t||null===(i=t.updateButtonText)||void 0===i||i.call(t,{text:"安装",progress:100}),n._setAdTimer(),n._reportAdMonitorData("DOWNLOAD_SUCCESS",{costtime:Date.now()-n.data._beginDownloadTime});else if("downloading"===e.state){var a,o;n._downloadState=Yi.ING,null===(a=n.customContext)||void 0===a||null===(o=a.updateButtonText)||void 0===o||o.call(a,{text:"暂停",progress:e.progress})}else if("download_fail"===e.state){var s,l;n._downloadState=Yi.DEFAULT,null===(s=n.customContext)||void 0===s||null===(l=s.updateButtonText)||void 0===l||l.call(s,{text:n._getAdData().button_action.button_text,progress:0}),n._setAdTimer()}"downloading"!==e.state&&"default"!==e.state||setTimeout(n._updateDownloadProgress.bind(n),Ki),r!==n._downloadState||n.downloadProgress},fail:function(){e>0?n._updateDownloadProgress(--e):n._setAdTimer(),Reporter.reportIDKey({key:"adQueryDownloadTask_fail",force:!0})}})},_reportEndPage:function(e={}){var t,n,i=null===(t=this.customContext)||void 0===t||null===(n=t.getSlotId)||void 0===n?void 0:n.call(t),r=this._getAdData();this._reportMMData(19002,Object.assign({slotid:i,costtype:r.is_cpm?1:2,is_game:0,pos_type:r.pos_type},e))},_setTimePoint:function(e){var t=this;e&&(-1!==["p2","p12"].indexOf(e)&&((this.data._timePoints.p2||this.data._timePoints.p12)&&this.setData({_timePointsKey:this.data._timePointsKey+1}),this.setData({_timePoints:{p1:this.data._timePoints.p1||0}})),this.setData({_timePoints:{...this.data._timePoints,[e]:Date.now()}}),this._reportTimePointsTimer&&(clearTimeout(this._reportTimePointsTimer),this._reportTimePointsTimer=0),this._reportTimePointsTimer=setTimeout((function(){t._reportTimePoints()}),1500))},_reportTimePoints:function(){try{var e,t,n,i=this._formatMMData(19837,Object.assign({ext_info:JSON.stringify({adUnitId:this.data.unitId,isPreload:this.data._isAdDataPreload?1:0,compressedEntry:this.data._compressedEntry}),slotid:null===(e=this.customContext)||void 0===e||null===(t=e.getSlotId)||void 0===t?void 0:t.call(e)},this.data._timePoints));if(i)null===(n=wx)||void 0===n||n.publish("wxAdDelayReport",{key:`19837-${this.data._adNum}-${this.data._timePointsKey}`,value:{logid:19837,items:i}})}catch(e){}},_isRerankingRefreshEnable:function(){var e,t;return(null===(e=this.customContext)||void 0===e||null===(t=e.isRerankingRefreshEnable)||void 0===t?void 0:t.call(e))||!1},_appRouteDone:function(e){var t,n;this._appRouteDoneTimeStamp=Date.now(),null===(t=this.customContext)||void 0===t||null===(n=t.appRouteDone)||void 0===n||n.call(t,e)},_appRoute:function(e={}){var{detail:t}=e;null!=t&&t.webviewId&&this.setData({_currentWebviewId:t.webviewId}),this.data._currentWebviewId===this.data._initialWebviewId&&this._routeDoneCb&&(this._routeDoneCb(),this._routeDoneCb=null)},_createNativeConsole:function(){var e=this,t=function(t){return function(...n){try{var i,r,a,o=null!==(i=e.customContext)&&void 0!==i&&i.getSlotId?null===(r=e.customContext)||void 0===r||null===(a=r.getSlotId)||void 0===a?void 0:a.call(r):"unknown",s=e.data._adData?e._getAdData().traceid:"unknown",l=e.data._adData?e._getAdData().aid:"unknown",u=e.data.unitId||"unknown";wxNativeConsole[t].call(wxNativeConsole,`[ad][${o}][${u}][${l}][${s}]`,...n)}catch(e){}}};return{debug:t("debug"),log:t("log"),info:t("info"),warn:t("warn"),error:t("error")}},_checkIsInSwiper:function(e){return!!e&&(!!(e instanceof i.Z.glassEasel.Component&&e.hasBehavior("wx-swiper"))||this._checkIsInSwiper(e.parentNode||(null==e?void 0:e.getHostNode())))},_reportIPV4:function(){var e,t=this.data._adData;if(null!=t&&null!==(e=t.extBackComm)&&void 0!==e&&e.ip_ping_url){var n=t.extBackComm.ip_ping_url;(new Image).src=this._hideInnerRequest?this._hideInnerRequest(n):n}},_validateCompressEntry:function(e){if("string"!=typeof e||!e)return!1;var t=e.split("^");if(4!==t.length)return!1;if(!t[0]&&!t[1]&&!t[2])return!1;if(!t[3])return!1;for(var n={$:0,"@":0,"]":0,"|":0},i=0;i<t[3].length;i+=1){var r=t[3][i].toUpperCase();if(r in n)n[r]+=1;else if(!/^[-0-9A-Z]$/.test(r))return!1}return n.$+n["@"]===n["]"]},_shouldOpenMachineMarket:function(){var e=this._getAdData();return r.wZ&&ji.OPEN_PLATFORM_APP_MOB===e.product_type&&this._downloadState!==Yi.INSTALLED&&e&&e.extBackComm&&e.extBackComm.market_scheme},_openMachineMarket:function(e){var t=this,n=this._getAdData();if(this._shouldOpenMachineMarket()){var i;this.setData({lastJsapiName:"launchApplication",lastJsapiStatus:2});var r=Date.now(),a={};null!=n&&n.uxinfo&&(a.bizInfo=n.uxinfo,a.sourceInfo=JSON.stringify({wxad:{source:4}})),null===(i=wx)||void 0===i||i.launchApplication(Object.assign(a,{schemeUrl:n.extBackComm.market_scheme,operateDirectly:1,success:function(){t.setData({_inAdDetail:!0,lastJsapiCostTime:Date.now()-r}),t._reportAdMonitorData("OPEN_MACHINE_MKT_SUCCESS",{},Vd)},fail:function(n){t.setData({lastJsapiStatus:1}),null==e||e(),t._reportAdMonitorData("OPEN_MACHINE_MKT_ERROR",n,Vd)}}))}else null==e||e()},_getAdData:function(){return this.data._adData},_getAdDatas:function(){return this.data._adDatas},_hideInnerRequest:function(e){if(!r.gm||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),n=t[1]||"",i=n.length>0?"&":"";e=`${t[0]}?${n}${i}devtools_ignore=true`}return e}}}).registerBehavior();var wp,Rp,xp;const Op=(0,_.Ou)("ad-custom-base-cps").behavior(v.ZP).behavior(Pp).behavior(Jo).definition({properties:{cpsInfo:{type:i.Z.glassEasel.NormalizedPropertyType.Object,public:!0,value:null}},methods:{_convertCpsShopData:function(e){return e.map((function(e){return e.extBackComm.cps_weapp_shop_ad_info?{...e,extBackComm:{...e.extBackComm,cpsProduct:e.extBackComm.cps_weapp_shop_ad_info}}:e})).filter((function(e){var t,n;return e.extBackComm.cpsProduct&&!e.extBackComm.cpsProduct.product_error_code&&e.extBackComm.cpsProduct.product_name&&e.extBackComm.cpsProduct.product_price&&(e.extBackComm.cpsProduct.thumbnail_img_url||e.extBackComm.cpsProduct.main_img)&&e.extBackComm.cpsProduct.exp_url&&e.extBackComm.cpsProduct.click_url&&((null===(t=e.extBackComm.cpsProduct.wechat_app_info)||void 0===t?void 0:t.app_id)&&e.extBackComm.cpsProduct.wechat_app_info.app_path||e.extBackComm.cpsProduct.h5_page)||e.extBackComm.cpsProduct&&1===e.extBackComm.cpsProduct.materiel_type&&e.extBackComm.cpsProduct.main_img&&e.extBackComm.cpsProduct.mp_extra_info&&e.extBackComm.cpsProduct.mp_extra_info.background_img_url&&e.extBackComm.cpsProduct.exp_url&&e.extBackComm.cpsProduct.click_url&&((null===(n=e.extBackComm.cpsProduct.wechat_app_info)||void 0===n?void 0:n.app_id)&&e.extBackComm.cpsProduct.wechat_app_info.app_path||e.extBackComm.cpsProduct.h5_page)}))},_handleCpsTap:function(e,{extClickCommObj:t={}}={}){var n;this.setData({clickCount:this.data.clickCount+1,lastClickTime:Date.now()}),this._reportClicked(e,{extClickCommObj:t});var i=this._getAdData(),r=this._getDataValue("isCps")?i.extBackComm.cpsAdInfo:i.extBackComm.cpsProduct;null!==(n=r.wechat_app_info)&&void 0!==n&&n.app_id?(i.weapp_info={appid:r.wechat_app_info.app_id},this._land(zi.WECHAT_APPLET,r.wechat_app_info.app_path)):r.h5_page&&this._land(zi.OUTER,r.h5_page),this._dataReport(3),null==e||e.stopPropagation()}}}).registerBehavior(),Np=(0,_.Ou)("ad-custom-base-welfare").behavior(Pp).behavior(Jo).definition({properties:{isWelfareShow:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,public:!0,value:!1,observer:"_isWelfareShowChange"}},data:{_takedWelfareDatas:[]},attached:function(){this.customContext=this.traitBehavior(Kp),"welfare"===this.customContext.type&&this._isWelfareShowChange()},methods:{_initWelfare:function(){this._takedWelfareMultiShowList=this._getDataValueWithDefault("takedWelfareMultiShowList",[]),this._takedWelfareMultiExposureList=[],this._takedWelfareMultiViewableExposureList=[]},_convertWelfareData:function(e){var t=this;return e.map((function(e){if(e.extBackComm.cps_weapp_shop_ad_info){var n=e.extBackComm.cps_weapp_shop_ad_info.bonus_ad_extra_info||{};try{n.logo_url&&n.coupon_content&&e.extBackComm.cps_weapp_shop_ad_info.exp_url&&e.extBackComm.cps_weapp_shop_ad_info.click_url||t._reportAdMonitorData("WELFARE_DATA_ERROR",{trace_id:e.extBackComm.cps_weapp_shop_ad_info.trace_id,bonusInfo:n})}catch{}return{...e,welfare:{...e.extBackComm.cps_weapp_shop_ad_info,takedCnt:e.extBackComm.welfare_taked_cnt||0,couponImg:n.logo_url,couponContent:n.coupon_content,couponLevel:n.coupon_level}}}return e}))},_isWelfareShowChange:function(){"welfare"===this.customContext.type&&(this.properties.isWelfareShow?this._setElementStyle(this,"display",""):this._setElementStyle(this,"display","none"),this._dispatchRerender())},_emitFetchTakedWelfare:function({limit:e,offset:t}){var n,i=this,r=function(e){i._emitComponentEvent(hr.TAKEDWELFAREFETCHERROR),i._reportAdMonitorData("TAKEDWELFARE_FETCHERROR",e)},a=Date.now();this._fetchAdData({posId:null===(n=this.getSlotId)||void 0===n?void 0:n.call(this),extSlotCustomCommObj:{is_adunit_tmpl:!1,request_type:4,welfare_limit:e,welfare_offset:null!==t?t:i._getTakedWelfareDatas().length||0}}).then((function(e){var t=Date.now(),n=JSON.parse(e.data.data);if(n.advertisement_num>0){var o=n.advertisement_info.map((function(e){return i._covertAdData(e)}));o=i._convertWelfareData(o),i.setData({_takedWelfareDatas:[...i._getTakedWelfareDatas(),...o]}),Fo(i.customContext.adCustomId,i._getTakedWelfareDatas());var s=i._getDataValueWithDefault("takedWelfareFetchCheck","$const.true");i._run(s,{$args:o})?function({duration:e}={}){i._emitComponentEvent(hr.TAKEDWELFAREFETCHSUCCESS),i._reportAdMonitorData("TAKEDWELFARE_FETCHSUCCESS",{duration:e})}({duration:t-a}):r({errMsg:"run takedWelfareFetchCheck failed",expr:s,subTemplId:i.customContext._subTemplId})}else r({errMsg:"takedWelfareFetchCheck count is 0",subTemplId:i.customContext._subTemplId})})).catch((function(e){r(e)}))},_handleWelfareTap:function(e,{clickType:t=Dr.NORMAL,index:n}={}){var i,r=this._getAdData(),a=this._getAdDatas(),o=this.data._adDataIndex;t===Dr.MYTAKEDWELFARE&&this.setData({_adDatas:Vo(this.customContext.adCustomId)}),this.setData({_adDataIndex:n,_adData:this._getAdDatas()[this.data._adDataIndex],clickCount:this.data.clickCount+1,lastClickTime:Date.now()}),this._reportClicked(e,{extClickCommObj:this.customContext.getExtraCommObj("click")});var s=this._getAdData(),l=s.extBackComm.cps_weapp_shop_ad_info;null!==(i=l.wechat_app_info)&&void 0!==i&&i.app_id?(s.weapp_info={appid:l.wechat_app_info.app_id},this._land(zi.WECHAT_APPLET,l.wechat_app_info.app_path)):l.h5_page&&this._land(zi.OUTER,l.h5_page),this._dataReport(3),t===Dr.MYTAKEDWELFARE&&this.setData({_adDatas:a,_adData:r,_adDataIndex:o}),null==e||e.stopPropagation()},_changeTakedWelfareMultiList:function(e=[]){this._takedWelfareMultiShowList=e,this.customContext._isInBackGround||this.customContext.isClosed||(this.customContext._isEdgeViewAble&&this._reportTakedWelfareMultiExposure(!1),this.customContext._isViewable&&this._reportTakedWelfareMultiExposure(!0))},_reportTakedWelfareMultiExposure:function(e=!1){var t=this;if(!1===e){var n=this._takedWelfareMultiShowList.filter((function(e){return-1===t._takedWelfareMultiExposureList.indexOf(e)}));if(n.length){var i=this._getAdDatas();this.setData({_adDatas:Vo(this.customContext.adCustomId)}),this._reportExposure(!1,{mainElement:this.$.container,extExposureCommObj:this.customContext.getExtraCommObj("exposure",n),multiList:n}),this._takedWelfareMultiExposureList=this._takedWelfareMultiExposureList.concat(n),this.setData({_adDatas:i})}}else this.customContext._exposureTimer=setTimeout((function(){if(t.customContext._isViewable){var e=t._takedWelfareMultiShowList.filter((function(e){return-1===t._takedWelfareMultiViewableExposureList.indexOf(e)}));if(e.length){var n=t._getAdDatas();t.setData({_adDatas:Vo(t.customContext.adCustomId)}),t._reportExposure(!0,{mainElement:t.$.container,extExposureCommObj:t.customContext.getExtraCommObj("exposure",e),multiList:e}),t._takedWelfareMultiViewableExposureList=t._takedWelfareMultiViewableExposureList.concat(e),t.setData({_adDatas:n})}}}),1e3)},_reportWelfareTake:function({index:e,retry:t=0}){var n,i,r=this,a=function(n){t<=0?r._emitComponentEvent(hr.WELFARETAKEERROR,{ret:n}):r._reportWelfareTake({index:e,retry:t-1})},o=this._getAdDatas()[e];null!=o&&o.welfare.sku_id&&o.welfare.trace_id?null===(n=wx)||void 0===n||n.operateWXData("webapi_getadvert",{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"TakeWelfareCoupon",appid:(null===(i=__wxConfig.accountInfo)||void 0===i?void 0:i.appId)||"",ad_unit_id:this.properties.unitId,welfare_id:o.welfare.sku_id,welfare_trace:o.welfare.trace_id}),success:function(e){if(e.rawData)try{var t,n=JSON.parse(e.rawData);if(0===n.ret)r._emitComponentEvent(hr.WELFARETAKESUCCESS),null===(t=wx)||void 0===t||t.publish("wxAdTakeWelfare",{id:`${r.getPageId()}_${r.properties.unitId}_${r.customContext.adCustomId}`});else a(n.ret)}catch(e){a(kr.JSONERROR)}else a(kr.RESERROR)},fail:function(){a(kr.NETERROR)}}):a(kr.DATAERROR)},_clearTakedWelfare:function(){this._initWelfare(),this.setData({_takedWelfareDatas:[]}),Fo(this.customContext.adCustomId,this._getTakedWelfareDatas())},_refreshWelfare:function(){var e,t=this;null===(e=wx)||void 0===e||e.operateWXData("webapi_getadvert",{action:"weapp_comm",request_data:JSON.stringify({rpc_method:"RefreshWelfareCoupon",ad_unit_id:this.properties.unitId}),success:function(e){if(e.rawData)try{var n=JSON.parse(e.rawData);0===n.ret?(t._emitComponentEvent(hr.WELFAREREFRESHSUCCESS),t.customContext.attachedCb(),t._reportAdMonitorData("REFRESH_WELFARE_SUCCESS")):(t._emitComponentEvent(hr.WELFAREREFRESHERROR,n),t._reportAdMonitorData("REFRESH_WELFARE_ERROR",n))}catch(e){t._emitComponentEvent(hr.WELFAREREFRESHERROR),t._reportAdMonitorData("REFRESH_WELFARE_ERROR",e)}else t._emitComponentEvent(hr.WELFAREREFRESHERROR),t._reportAdMonitorData("REFRESH_WELFARE_ERROR")},fail:function(e){t._emitComponentEvent(hr.WELFAREREFRESHERROR),t._reportAdMonitorData("REFRESH_WELFARE_ERROR",e)}})},_changeWelfare:function(){this.customContext.attachedCb(!1,!1,5),this._reportAdMonitorData("CHANGE_WELFARE")},_getTakedWelfareDatas:function(){return this.data._takedWelfareDatas}}}).registerBehavior();var Dp,kp,Lp,Mp,Bp,Fp=null===(Dp=wx)||void 0===Dp?void 0:Dp.getGlobalStorageManager(),Vp=null,Wp=function(){var e=s()((function*(){return new Promise((function(e,t){Vp?e(Vp):Fp.createOrGetStorageGroup("skylineAdComponent","skylineAdComponentStorageGroup",Date.now()+15768e6,(function(n,i){i&&e(Vp=i),t({errMsg:"get storage group failed"})}))}))}));return function(){return e.apply(this,arguments)}}(),Up=function(){var e=s()((function*(e,t){var n=yield Wp();return new Promise((function(i,r){n.set(e,t,(function(e){e?r({errMsg:"fail to set storage"}):i()}))}))}));return function(t,n){return e.apply(this,arguments)}}(),$p=function(){var e=s()((function*(e){var t=yield Wp();return new Promise((function(n,i){t.get(e,(function(e,t){e?i({errMsg:"fail to get storage"}):n(t)}))}))}));return function(t){return e.apply(this,arguments)}}(),Gp={type:"root",id:"bannerRoot",tplConfig:{minWidth:300},style:{},options:{baseType:1,data:{},innerStyles:{container:{style:{position:"relative"}}}},children:[{type:"layout",id:"bannerContainer",style:{overflow:"visible"},options:{baseType:1,data:{},innerStyles:{container:{style:{position:"relative"}}}},children:[{type:"feedback",id:"feedback1",style:{position:"absolute",zIndex:99,left:"0px",top:"0px"},options:{innerStyles:{menu1:{style:{transform:"scale(.8)",webkitTransform:"scale(.8)",transformOrigin:"left top"}},menu2:{style:{transform:"scale(.8)",webkitTransform:"scale(.8)",transformOrigin:"left top"}}},data:{menuPosition:"bottomLeft"},events:{dislikeReasonTap:[{action:"triggerEvent",value:{eventName:"videodislike"}}]}}},{type:"image",id:"bannerImage",style:{borderRadius:"0"},options:{baseType:3,innerStyles:{container:{style:{padding:"34.79% 0px 0px 0px",position:"relative"}},img:{style:{position:"absolute",top:"0",right:"0",left:"0",bottom:"0",backgroundColor:"transparent"}}},data:{useBgMode:!0},events:{}}},{type:"layout",id:"bannerWatermark",style:{position:"absolute",right:"0px",bottom:"0px",height:"16px",padding:"0px 4px 0px 6px",borderRadius:"6px 0px 0px 0px",backgroundColor:"rgba(0,0,0,.2)"},options:{baseType:2},children:[{type:"image",id:"bannerWatermarkImage",style:{width:"14px",height:"14px"},options:{baseType:1,data:{_isShowExpr:"$ad.dest_type == 6",imgUrl:"https://wxa.wxs.qq.com/images/wxapp/mini_program_v2.png"}}},{type:"text",id:"bannerWatermarkText",style:{},options:{baseType:1,data:{textExpr:"$ad.watermark_text || '去逛逛'"},innerStyles:{text:{style:{color:"#ffffff",fontSize:"10px",lineHeight:"16px",height:"16px",overflow:"hidden",fontWeight:"normal"}}}}}]}]}]},Zp={type:"root",id:"root1",tplConfig:{},style:{position:"relative"},options:{baseType:1,data:{exposureUntilVideoPlay:!0}},children:[{type:"feedback",id:"feedback1",style:{position:"absolute",zIndex:99,top:"2px",left:"4px"},options:{data:{menuPosition:"bottomLeft"},events:{dislikeReasonTap:[{action:"triggerEvent",value:{eventName:"videodislike"}}]}}},{type:"layout",id:"layout1",style:{position:"relative",overflow:"hidden"},options:{baseType:1,innerStyles:{}},children:[{type:"video",id:"video1",style:{},options:{baseType:2,innerStyles:{container:{style:{padding:"56.25% 0 0 0",position:"relative"}},videovoicebox:{style:{}},video:{style:{position:"absolute",top:"0",right:"0",left:"0",bottom:"0",borderRadius:"0"}},videoProgress:{style:{backgroundColor:"rgba(255,255,255,.5)",height:"2px"}},videoProgressPlayed:{style:{backgroundColor:"#07C160",height:"2px"}}},data:{muted:!0,voicePosition:"bottomLeft",loop:!0,isShowEndPage:!1,isShowProgress:!0}}}]},{type:"layout",id:"layout2",style:{padding:"12px 12px 12px 12px",backgroundColor:"#ffffff"},options:{baseType:2,innerStyles:{}},children:[{type:"image",id:"image2",style:{width:"40px",height:"40px",borderRadius:"20px",margin:"0px 8px 0px 0px"},options:{baseType:2,data:{}}},{type:"layout",id:"layoutText",style:{flex:1},options:{baseType:1,innerStyles:{}},children:[{type:"text",id:"text1",style:{},options:{baseType:2,data:{},innerStyles:{text:{style:{color:"#1a1a1a",fontSize:"17px",height:"24px",lineHeight:"24px",fontWeight:"normal"}}}}},{type:"text",id:"text2",style:{flex:1},options:{baseType:3,innerStyles:{text:{style:{color:"#666666",fontSize:"12px",lineHeight:"16px",overflow:"hidden",fontWeight:"normal"}}},data:{_isShow:!0}}}]},{type:"button",id:"button1",style:{margin:"0px 0px 0px 18px"},options:{innerStyles:{container:{style:{backgroundColor:"#07C160",height:"32px",padding:"0px 12px 0px 12px",border:"none",borderRadius:"3px",minWidth:"0"}},buttonText:{style:{fontSize:"16px",color:"#ffffff"}}},baseType:2,data:{}}}]},{type:"end",id:"endPage",options:{data:{_isShow:!1}}}]};null===(kp=wx)||void 0===kp||kp.subscribe("onWxAdRewardedVideoEvent",(function(e){h.Z.trigger("onWxAdRewardedVideoEvent",e)})),null===(Lp=wx)||void 0===Lp||Lp.subscribe("onWxAdTakeWelfareEvent",(function(e){h.Z.trigger("onWxAdTakeWelfareEvent",e)})),null===(Mp=wx)||void 0===Mp||Mp.on("onUserCaptureScreen",(function(e){h.Z.trigger("onWxAdUserCaptureScreen",e)}));var Hp=function(e){return e[e.ERR_INVALID_DATA=2]="ERR_INVALID_DATA",e[e.ERR_NET_WORK=3]="ERR_NET_WORK",e[e.ERR_RENDER=4]="ERR_RENDER",e[e.ERR_TPL_NONE=5]="ERR_TPL_NONE",e[e.ERR_TPL_PARSE=6]="ERR_TPL_PARSE",e[e.ERR_CPS_INFO_PARSE=7]="ERR_CPS_INFO_PARSE",e}({}),zp=r.gm,jp=!1,Yp=1,Kp=(0,_._0)().defineTraitBehavior();const Xp=g("ad-custom").behavior(v.ZP).behavior(Pp).behavior(Jo).behavior(Op).behavior(Np).definition({using:{div:"view","ad-custom-item":"ad-custom-item","ad-custom-item-virtual":"ad-custom-item-virtual","ad-custom-for":"ad-custom-for"},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r),o=!0===i;return{C:function(t,s,l,u){var c=n.isReady&&!n.isEmpty&&n.tpl&&!n.isClosed?1:0;u(c,(function(t,s,l){1===c&&l("div",{},(function(t,a){a&&e.i(t,"container"),(a||o||i.c||(i._classFullScreen,1))&&r(t,fe(n.c)("ad-custom",{adCustomFull:n._classFullScreen}))}),(function(t,s,l,u,c){c(de(n.tpl).children,null,i?he(i.tpl,"children"):void 0,["tpl","children"],(function(e,t,r,s,l,u,c,d,p){var h="for"===de(t).type?1:n._flattenLayer?2:0;p(h,(function(e,r,l){l(1===h?"ad-custom-for":2===h?"ad-custom-item-virtual":"ad-custom-item",{},(function(e,r){(r||o||s)&&a(e,"tpl",t),(r||o||i._flattenLayer)&&a(e,"flatten-layer",n._flattenLayer),(r||o||i.adCustomId)&&a(e,"ad-custom-id",n.adCustomId)}),(function(e){}))}))}));var d=n._useDefaultFeedBack&&n._showFeedBack?1:0;u(d,(function(t,n,i){1===d&&i("div",{},(function(t,n){n&&e.i(t,"closetip"),n&&r(t,"ad-custom-video-close-tip")}),(function(e,t){e?t("\n          感谢反馈\n        "):t()}))}))}))}));var d=n.isReady&&n.isEmpty&&!n.isClosed?1:0;u(d,(function(t,n,i){1===d&&i("div",{},(function(t,n){n&&r(t,"wx-ad-custom-empty"),n&&e.i(t,"emptyContainer")}),(function(e,t,n){n("div",{},(function(e,t){t&&r(e,"ad-custom-empty-info")}),(function(e,t){e?t("暂无广告，具体指引查看小程序流量主功能"):t()}))}))}))},B:{}}},function(t){return e[t]}}()},properties:{type:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:"normal"}},data:{tpl:null,adCustomId:null,isEmpty:!1,isClosed:!1,isReady:!1,_isInBackGround:!1,_classFullScreen:!1,_useDefaultFeedBack:!0,_exposureUntilVideoPlay:!1,_showFeedBack:!1,_subTemplId:"",_templId:0,_exportAid:!1,_rewardedVideoAdUnit:"",_rewardedVideoEvent:{},_flattenLayer:!1},created:function(){this.setData({_nativeConsole:this._createNativeConsole()}),this.data._nativeConsole.info("create ad-custom"),this._idkeyInfo=Fd,this.setData({_adPosType:Fd.adPosType,fetchRetryCount:0,adCustomId:"AD_CUSTOM_"+Yp++}),this._adbaseCreated(),jp||(jp=!0,nr().then((function(e){Bp=e.screenWidth||Bp})))},attached:function(){var e={cps:Wd,cpsShop:Ud,welfare:$d,payBottom:Gd,payCard:Zd,banner:Vd,video:Vd,normal:Fd};this._idkeyInfo=e[this.data.type]||Fd,this.setData({_adPosType:this._idkeyInfo.adPosType}),this._adbaseAttached(),this.attachedCb(!0)},detached:function(){this._emitComponentLifeCycle("beforeDestroy"),this._adbaseDetached(),this.destroy(),this._getAdData()&&this._reportAbnormalDetect({type:2})},methods:{attachedCb:function(){var e=s()((function*(e=!1,t=!1,n=null){var i=this;if(this._attached){if(!this.data.unitId)return console.error("广告单元 id(unit-id) 为空，请先在 'https://mp.weixin.qq.com' 上创建广告单元"),void this._removeAdOrder();if(this.additionFetchRetryCount=0,"cps"===this.data.type&&this.data.cpsInfo){var r=!!this.data.cpsInfo.warehouseId;if(r!==!!this.data.cpsInfo.productId)return console.error("提供商品信息时，请同时提供 warehouseId 与 productId"),void this._removeAdOrder();r||this.setData({cpsInfo:null})}this.setData({_compressEntry:[Ji.TMPL_CONTENT]});var a=`adcustom_${this.getCurrentRoute()}_${this.data.unitId}_${this.data._adNum}`,o=yield $p(`${a}_time`);if(this.setData({cacheTime:30}),!__wxConfig.debug&&"welfare"!==this.data.type&&!this.isWxPay()&&this.data.cacheTime>0&&o&&Date.now()-o<1e3*this.data.cacheTime){try{this._setTimePoint("p12");var s=yield $p(a),l=s[0];if(this._setTimePoint("p13"),null!=l&&l._cacheTime&&Date.now()-l._cacheTime<1e3*this.data.cacheTime)return this.setData({lastFetchTime:Date.now(),_adDatas:s,_adData:l,_isMulti:this._getAdDatas().length>1}),Mo(this.data.adCustomId,this._getAdDatas()),Do(this.data.adCustomId,this._getAdData()),requestAnimationFrame((function(){requestAnimationFrame((function(){i.render(e)}))})),void this.data._nativeConsole.info("getAdData from localStorage")}catch{}if(!e)return}var u="cps"===this.data.type&&this.data.cpsInfo?{cps_req_info:{warehouse_id:this.data.cpsInfo.warehouseId,product_infos:[{product_id:this.data.cpsInfo.productId,related_item_info:this.data.cpsInfo.relatedItemInfo}]}}:{};"cps"===this.data.type&&this._reportAdMonitorData(this.data.cpsInfo?"CPS_PRODUCT_ID_NOT_PROVIDED":"CPS_PRODUCT_ID_PROVIDED"),this._setTimePoint("p2");var c={is_adunit_tmpl:!this.isBuiltInTpl(),compress_json_entry:this.data._compressEntry,...u};n&&(c.request_type=n),this.isWxPay()&&delete c.is_adunit_tmpl;try{var d=yield this._fetchAdData({posId:this.getSlotId(),extSlotCustomCommObj:c});if(this._setTimePoint("p3"),-12001===Number(d.err_code))return void(zp&&console.warn("For developer:无广告组件使用权限，请到 'https://mp.weixin.qq.com' 上申请"));try{var p,h=JSON.parse(d.data.data);if(null!==(p=d.data)&&void 0!==p&&p._preloadTime?this.setData({_isAdDataPreload:!0}):this.setData({_isAdDataPreload:!1}),h.advertisement_num>0){var f;this.setData({_isMulti:h.advertisement_info.length>1,_adDatas:h.advertisement_info.map((function(e){return i._covertAdData(e)}))}),"cpsShop"===this.data.type&&this.setData({_adDatas:this._convertCpsShopData(this._getAdDatas())}),"welfare"===this.data.type&&this.setData({_adDatas:this._convertWelfareData(this._getAdDatas())}),this.setData({_adData:this._getAdDatas()[0]}),Mo(this.data.adCustomId,this._getAdDatas()),Do(this.data.adCustomId,this._getAdData()),this.render(e),null===(f=wx)||void 0===f||f.publish("checkWxAdFetchLog",this._getAdData().condition);try{var _;null!==(_=this._getAdDatas())&&void 0!==_&&_[0]&&(this._getAdDatas()[0]._cacheTime=Date.now()),yield Up(a,this._getAdDatas()),yield Up(`${a}_time`,Date.now())}catch(e){this._reportAdMonitorData("IDKEY_SET_STORAGE_FAILED","",Vd)}if(this._resetState(),this._preloadLanding(),this.data._exportAid)this.triggerEvent("load",{aid:this._getAdData().aid,errMsg:"load advertisement success"});else if("welfare"===this.data.type){var v,g;this.triggerEvent("load",{taked:(null===(v=this._getAdData())||void 0===v||null===(g=v.extBackComm)||void 0===g?void 0:g.welfare_taked)||0,errMsg:"load advertisement success"})}else this.triggerEvent("load",{errMsg:"load advertisement success"});this._reportAdMonitorData("AD_FETCH_SUCCESS");try{this._checkDuplicateRecommendedAds(),this._reportIPV4()}catch{}}else this.renderEmpty(Number(h.version_type||0),e),this.triggerEvent("error",{errMsg:"no advertisement",errCode:h.ret}),this._reportAdMonitorData("LOAD_ERROR",{errMsg:"no advertisement",errCode:h.ret});this.data._nativeConsole.info("fetch AdData done")}catch(e){Reporter.reportIDKey({key:"adData_error",force:!0}),this.triggerEvent("error",{errMsg:"advertisement data error",errCode:Hp.ERR_INVALID_DATA}),this._reportAdMonitorData("PARSE_ERROR",e)}}catch(d){var m="";try{m=JSON.parse(d).errMsg}catch{}if(0===m.indexOf("getAdData:fail")&&this.data.fetchRetryCount<1)return this.setData({fetchRetryCount:this.data.fetchRetryCount+1}),void this.attachedCb(e,t);var E=0;try{var y=JSON.parse(d.data.data);E=Number(y.version_type||0)}catch{}this.renderEmpty(E,e),this.triggerEvent("error",{errMsg:"network error",errCode:Hp.ERR_NET_WORK}),this._reportAdMonitorData("LOAD_ERROR",d)}}}));return function(){return e.apply(this,arguments)}}(),render:function(e){this._setTimePoint("p4"),e?this._addAdUnitNum():this.destroy(),this.init(e),this._dispatchRerender(),this._setTimePoint("p5")},renderEmpty:function(e,t){this._removeAdOrder(),0!==e&&(t||this.destroy(),this.setData({isEmpty:!0}),this._dispatchRerender())},init:function(e){var t,n,i,r,a,o,s,l,u,c,d,p=this;if(!(null!==(t=this._getAdData())&&void 0!==t&&null!==(n=t.extBackComm)&&void 0!==n&&n.tmpl_info||this.isBanner()&&this._getAdData()||this.isFeedVideo()&&this._getAdData()||this.isWxPay()&&null!==(i=this._getAdData())&&void 0!==i&&null!==(r=i.extBackComm)&&void 0!==r&&r.ad_template_info))return console.log("no tpl info"),this._reportAdMonitorData("TMPL_LOAD_ERROR"),void this.triggerEvent("error",{errMsg:"custom template error",errCode:Hp.ERR_TPL_NONE});try{if(this.isWxPay())d=JSON.parse(this._getAdData().extBackComm.ad_template_info),this.setData({_subTemplId:this._getAdData().extBackComm.templ_id.toString()});else if(this.isFeedVideo())d=Zp;else if(this.isBanner())d=Gp;else{if(c=JSON.parse(this._getAdData().extBackComm.tmpl_info),this.data._compressEntry.indexOf(Ji.TMPL_CONTENT)>-1&&this._validateCompressEntry(c.tmpl_content))try{d=dr.unpack(c.tmpl_content),this.setData({_compressedEntry:[...this.data._compressedEntry,Ji.TMPL_CONTENT]}),this._reportAdMonitorData("JSONPACK_PARSE_SUCCESS",void 0,Vd)}catch(e){throw this._reportAdMonitorData("JSONPACK_PARSE_ERROR",e,Vd),e}else d=JSON.parse(c.tmpl_content);this.setData({_subTemplId:this._getAdData().extBackComm.sub_templ_id,_templId:this._getAdData().extBackComm.parent_templ_id})}}catch(e){return console.log("parse adTpl error",e),this._reportAdMonitorData("TMPL_PARSE_ERROR",e),void this.triggerEvent("error",{errMsg:"custom template error",errCode:Hp.ERR_TPL_PARSE})}var h=this._getDataValue("isCps",(null===(l=d.options)||void 0===l?void 0:l.data)||{});if((this._getDataValue("isCpsShop",(null===(u=d.options)||void 0===u?void 0:u.data)||{})||this._getAdData().condition.widget_gray_template_use_cache)&&this.tempCacheTmpl(d),h){var f;null!==(f=this.data.cpsInfo)&&void 0!==f&&f.description&&(this._getAdData().cpsDesc=this.data.cpsInfo.description);try{var _=this._getAdData().extBackComm.cps_ad_info,v=this._getAdData().extBackComm.cpsAdInfo=Object.assign({},_.cps_rsp_infos[0]);if(!v.img_list||v.img_list.length<=0||!v.img_list[0])return void this.triggerEvent("error",{errMsg:"cps info parse error: no product image",errCode:Hp.ERR_CPS_INFO_PARSE});if(null===v.product_price||void 0===v.product_price)return void this.triggerEvent("error",{errMsg:"cps info parse error: no product price",errCode:Hp.ERR_CPS_INFO_PARSE})}catch(e){return this._reportAdMonitorData("CPS_INFO_PARSE_ERROR",e),void this.triggerEvent("error",{errMsg:"cps info parse error",errCode:Hp.ERR_CPS_INFO_PARSE})}}this._addAdCustomListener((function(e){p.onAdCustomEvent(e)}));var g=d.tplConfig||{};if(this.tplConfig=g,this.checkSize(g),console.log("adTpl",d),this.setData({tpl:d}),console.log("before init return"),!this.inited){if(this.inited=!0,this._init(),console.log("_init done"),this._emitComponentEvent(hr.TEMPLATEWILLUPDATE),this.setData({_flattenLayer:this._getDataValueWithDefault("flattenLayer",!1),isReady:!0}),this.baseType=(null===(a=this._options)||void 0===a?void 0:a.baseType)||pr.COMMON,this.setData({_classFullScreen:this._getDataValueWithDefault("isFullScreen",!1),_useDefaultFeedBack:this._getDataValueWithDefault("useDefaultFeedBack",!0),_exposureUntilVideoPlay:this._getDataValueWithDefault("exposureUntilVideoPlay",!1),_enableTimer:this._getDataValueWithDefault("enableTimer",!0),_exportAid:this._getDataValueWithDefault("exportAid",!1),_rewardedVideoAdUnit:this._getDataValue("rewardedVideoAdUnit")}),this._updateStyle(this.data.tpl.style,this),this._updateInnerStyle(),this.setData({_isMulti:!!(null===(o=this.tplConfig)||void 0===o?void 0:o.isMulti)&&this.data._isMulti||!(null===(s=this.tplConfig)||void 0===s||!s.forceMulti)}),this.data._isMulti){var m=this._getDataValue("multiShowList");m?this.setData({_multiShowList:m}):this.setData({_multiShowList:this._getAdDatas().map((function(e,t){return t}))}),this.setData({_multiExposureList:[],_multiViewableExposureList:[]})}this._initWelfare(),this.addListener2(),this.addIntersectionObserver(),this._getAdData()&&this._getAdData().product_type===ji.OPEN_PLATFORM_APP_MOB&&this._checkAppInstallState(),this._emitComponentLifeCycle("onInit"),e&&this._reportAbnormalDetect({type:1}),this._reportAdMonitorData("TMPL_RENDER_SUCCESS"),console.log("init done",this)}},destroy:function(){this._destroy(),this.data.tpl&&this._removeStyle(this.data.tpl.style,this),this._removeInnerStyle(),this._removeAdCustomListener(),this.removeListener2(),this.removeIntersectionObserver(),this._emitComponentLifeCycle("onDestroy"),this.inited=!1,this.setData({tpl:null,isEmpty:!1,_adDataIndex:0,_multiShowList:[],_multiExposureList:[],_multiViewableExposureList:[]})},checkSize:function(){var e=s()((function*(e){var t=(yield this._getBoundingClientRect()).width,n=e.minWidth||t,i=e.maxWidth||0,r=e.baseWidth||375,a=Math.min(Bp,Math.max(n,t));i&&(a=Math.min(a,i)),0!==a?(this._setElementStyle(this,"width",a+"px"),Ro(a,r),this._dispatchRerender()):"welfare"===this.data.type?Ro(Bp,r):(this._reportAdMonitorData("WIDTH_GET_ERROR",{unitId:this.properties.unitId}),Ro(r,r))}));return function(t){return e.apply(this,arguments)}}(),onAdCustomEvent:function(){var e=s()((function*(e){var t=e.action,n=e.value||{};if(t===Or.SHOWFEEDBACK)this.showFeedBack(),this._reportAdFeedbackData(n);else if(t===Or.TRIGGEREVENT)this.triggerEvent(n.eventName,n.detail||{});else if(t===Or.REPORTVIDEOPLAY)this._reportVideoPlay(n.playType,n.conditionType,n.videoInfo);else if(t===Or.ADVIDEOPAUSE)this.onAdVideoPause();else if(t===Or.ADVIDEOPLAY)this.onAdVideoPlay();else if(t===Or.FEEDBACKBTNTAP)this._openFeedbackPage();else if(t===Or.FEEDBACKREPORT)this._reportAdFeedbackData(n);else if(t===Or.BTNTAP){var{event:i,isHandleDownload:r}=n;if(yield this._isClickLimit(i,{mainElement:this.$.container}))return;this._handleButtonTap(i,{isHandleDownload:r,extClickCommObj:this.getExtraCommObj("click")}),this._emitComponentEvent(hr.ADBUTTONTAP)}else if(t===Or.REPORTENDPAGE)this._reportEndPage(n.data);else if(t===Or.REPORTMMDATA)n.id&&n.data&&this._reportMMData(n.id,n.data);else if(t===Or.REPORTTIMEPOINT)n.key&&this._setTimePoint(n.key);else if(t===Or.CLOSEAD)this.setData({isClosed:!0}),this.triggerEvent("close");else if(t===Or.HIDEAD)this._setElementStyle(this,"display","none"),this.triggerEvent("hide");else if(t===Or.LANDAD){var{event:a,index:o,type:s}=n;if(yield this._isClickLimit(a,{mainElement:this.$.container}))return;if(this._getDataValue("isWelfare"))return void this._handleWelfareTap(a,{clickType:s,index:o});this.setData({_adDataIndex:o}),this.data._isMulti&&this.setData({_adData:this._getAdDatas()[this.data._adDataIndex]}),this._getDataValue("isCps")||this._getDataValue("isCpsShop")?this._handleCpsTap(a,{extClickCommObj:this.getExtraCommObj("click")}):this._handleContainerTap(a,{extClickCommObj:this.getExtraCommObj("click")})}else if(t===Or.REPORTADMONITORDATA)n.key&&this._reportAdMonitorData(n.key,n.data);else if(t===Or.EMITADDITIONFETCH)this.emitAdditionFetch();else if(t===Or.SETADINDEX){var{index:l}=n;this.setData({_adDataIndex:l}),this.data._isMulti&&this.setData({_adData:this._getAdDatas()[this.data._adDataIndex]}),Do(this.data.adCustomId,this._getAdData())}else if(t===Or.REPORTADMONITORACTION){var{id:u,forceKey:c,extInfo:d}=n;this._reportAdIDKey({id:u,forceKey:c}),this._reportAdIDKeyErrorData({id:u,forceKey:c,extInfo:d})}}));return function(t){return e.apply(this,arguments)}}(),showFeedBack:function(){this.triggerEvent("close"),this.setData({isClosed:!0}),this._dispatchRerender()},addListener2:function(){var e=this;this._onUserCaptureScreenCb=this.onUserCaptureScreen.bind(this),h.Z.on("onWxAdUserCaptureScreen",this._onUserCaptureScreenCb),this.$.container&&(this._touchStartId=this._addListenerToElement(this.$.container,"touchstart",this._touchstart.bind(this)),this._touchEndId=this._addListenerToElement(this.$.container,"touchend",this._touchend.bind(this)),this._tapId=this._addListenerToElement(this.$.container,"tap",(function(t){s()((function*(){e.data._isMulti||(yield e._isClickLimit(t,{mainElement:e.$.container}))||(e._getDataValue("isCps")?e._handleCpsTap(t,{extClickCommObj:e.getExtraCommObj("click")}):e._handleContainerTap(t,{extClickCommObj:e.getExtraCommObj("click")}),e._emitComponentEvent(hr.CONTAINERTAP))}))()}))),this._onWxAdRewardedVideoEventCb=this.onWxAdRewardedVideoEvent.bind(this),h.Z.on("onWxAdRewardedVideoEvent",this._onWxAdRewardedVideoEventCb),"welfare"===this.data.type&&(this._onWxAdTakeWelfareEventCb=this.onWxAdTakeWelfareEvent.bind(this),h.Z.on("onWxAdTakeWelfareEvent",this._onWxAdTakeWelfareEventCb))},removeListener2:function(){void 0!==this._touchStartId&&this.$.container&&this._removeListenerFromElement(this.$.container,"touchstart",this._touchStartId),void 0!==this._touchEndId&&this.$.container&&this._removeListenerFromElement(this.$.container,"touchend",this._touchEndId),void 0!==this._tapId&&this.$.container&&this._removeListenerFromElement(this.$.container,"tap",this._tapId),void 0!==this._onUserCaptureScreenCb&&(h.Z.off("onWxAdUserCaptureScreen",this._onUserCaptureScreenCb),delete this._onUserCaptureScreenCb),void 0!==this._onWxAdRewardedVideoEventCb&&(h.Z.on("onWxAdRewardedVideoEvent",this._onWxAdRewardedVideoEventCb),delete this._onWxAdRewardedVideoEventCb),void 0!==this._onWxAdTakeWelfareEventCb&&(h.Z.on("onWxAdTakeWelfareEvent",this._onWxAdTakeWelfareEventCb),delete this._onWxAdRewardedVideoEventCb)},addIntersectionObserver:function(){var e=this,t=this._getDataValueWithDefault("viewableArea",.5),n={threshold:[0,t]};this._lastIntersectionRatio=0,this._observer=new ts.Z((function(n){var[i]=n;if(null!=i&&i.isIntersecting){e.data._nativeConsole.log("wx-ad IntersectionObserver",i.intersectionRatio);var r=i.intersectionRatio;r>t?(e.setData({_isViewable:!0}),e.data._isMulti?e.reportMultiExposure(!0):e.data._exposureUntilVideoPlay||(e._exposureTimer=setTimeout((function(){!e._viewableExposured&&e._reportExposure(!0,{mainElement:e.$.container,extExposureCommObj:e.getExtraCommObj("exposure")}),e._viewableExposured=!0,e._emitComponentEvent(hr.VIEWABLEEXPOSURE)}),1e3)),e._emitAdCustomEvent(Or.ADSHOWHALF),e._emitComponentEvent(hr.SHOWHALF)):(e.setData({_isViewable:!1}),e.data._exposureUntilVideoPlay||clearTimeout(e._exposureTimer),e._emitAdCustomEvent(Or.ADHIDEHALF),e._emitComponentEvent(hr.HIDEHALF)),0===e._lastIntersectionRatio&&r>0?(e._isEdgeViewAble=!0,e.data._isMulti?e.reportMultiExposure(!1):e._exposured||(e._reportExposure(!1,{mainElement:e.$.container,extExposureCommObj:e.getExtraCommObj("exposure")}),e._exposured=!0,e._emitComponentEvent(hr.EXPOSURE)),e.data.showedExposureTime||e.setData({showedExposureTime:+new Date}),e._emitAdCustomEvent(Or.ADEDGESHOW),e._emitComponentEvent(hr.SHOWEDGE)):0===r&&e._lastIntersectionRatio>0&&(e._isEdgeViewAble=!1,e._emitAdCustomEvent(Or.ADEDGEHIDE),e._emitComponentEvent(hr.HIDEEDGE)),e._lastIntersectionRatio=r,e.data._nativeConsole.info("intersectionObserver change",r)}}),n),this._observer.observe(this.$.container.$$),this._getDataValueWithDefault("observerArea",[]).length&&(this._lastCustomIntersectionRatio=0,this._customObserver=new ts.Z((function(t){var[n]=t;if(null!=n&&n.isIntersecting){var i=n.intersectionRatio;e._emitComponentEvent(hr.AREACHANGE,{ratio:i,lastRatio:e._lastCustomIntersectionRatio}),e._lastCustomIntersectionRatio=i,e.data._nativeConsole.info("customIntersectionObserver change",i)}})),this._customObserver.observe(this.$.container.$$))},removeIntersectionObserver:function(){var e,t;null===(e=this._observer)||void 0===e||e.disconnect(),delete this._observer,null===(t=this._customObserver)||void 0===t||t.disconnect(),delete this._customObserver,this._viewableExposured=!1,this._exposured=!1,this.setData({isOverlap:!1,checkOverlapCount:0,OverlapDistanceList:[],showedExposureTime:0})},appEnterForeground:function(){this.setData({_isInBackGround:!1});var e=0;if(this._getAdData()&&(e=this._getAdData().product_type),ji.WECHAT===e)this._checkFollowStatus();else if(e===ji.OPEN_PLATFORM_APP_MOB){var t=this._downloadState;if(this._checkAppInstallState(),t!==Yi.DEFAULT&&t<Yi.INSTALLED)return void this.setData({_inAdDetail:!1})}this.data._inAdDetail?this._setTimePoint("p11"):this._getDataValueWithDefault("enableForegroundFresh",!0)&&this.attachedCb();this.setData({_inAdDetail:!1}),this._setAdTimer(),this._emitComponentEvent(hr.APPENTERFOREGROUND),this._emitAdCustomEvent(Or.APPENTERFOREGROUND)},appEnterBackground:function(){this.setData({_isInBackGround:!0}),this._emitAdCustomEvent(Or.APPENTERBACKGROUND,{inAdDetail:!!this.data._inAdDetail}),this._clearAdTimer(),this._emitComponentEvent(hr.APPENTERBACKGROUND)},getSlotId:function(){var e=this;return"banner"===this.data.type?Qi.banner:"video"===this.data.type?Qi.wxAppVideo:"cps"===this.data.type?Qi.cpsAd:"cpsShop"===this.data.type?Qi.cpsShopAd:"welfare"===this.data.type?Qi.welfare:"payBottom"===this.data.type?Qi.wxpayBottom:"payCard"===this.data.type?Qi.wxpayCard:-1!==["adunit-7a10edfccf6c0754","adunit-e235b88091ea9b50","adunit-3a982e875a2f3056","adunit-5384d660d9974df9","adunit-db19f52c0fe31005","adunit-393a356ee0ae2abd","adunit-2682b2368b163dee","adunit-8c607e7a4ba12c99","adunit-2264e03d2c06acee","adunit-04eaf5a6794c156f","adunit-a5a9037f996e788f","adunit-77b688c5f54fbd40","adunit-a4baf6e51dde60e9","adunit-71b2e9bd9d6187f3","adunit-b26b02c22a9bb4fd","adunit-19d02eb2819437e2","adunit-47a82d86b9902c56","adunit-80190c55ec55c2e4","adunit-9d3de43f877de917"].indexOf(this.data.unitId)?(Math.random()>.8&&setTimeout((function(){e._reportAdMonitorData("V1_UNITID_USE",{unitId:e.data.unitId})}),100),Qi.wxAppVideo):Qi.customAd},onUserCaptureScreen:function(e){var t=e||{};if(!this.data.isEmpty&&this.data.tpl&&this.data._isViewable&&this._getAdData()){var{uxinfo:n}=this._getAdData();this._reportMMData(19213,{eventTimeStamp:t.eventTimeStamp?t.eventTimeStamp:+new Date,scene:4,uxinfo:n,url:t.path?t.path:"index.html"})}},onAdVideoPlay:function(){var e=this;this.data._exposureUntilVideoPlay&&this._exposured&&!this._viewableExposured&&(this._exposureTimer=setTimeout((function(){e._viewableExposured||(e._reportExposure(!0,{mainElement:e.$.container,extExposureCommObj:e.getExtraCommObj("exposure")}),e._viewableExposured=!0,e._emitComponentEvent(hr.VIEWABLEEXPOSURE))}),1e3))},onAdVideoPause:function(){this.data._exposureUntilVideoPlay&&this._exposureTimer&&clearTimeout(this._exposureTimer)},updateButtonText:function(e={text:""}){this._emitAdCustomEvent(Or.CHANGEADBTNTEXT,{text:e.text||"",progress:e.progress||0,downloadState:this._downloadState})},doAction:function(e){var t=e.payload||{},n=e.args||{},i=t.action,r=t.value;i===Nr.RELOADAD?this.attachedCb():i===Nr.HIDEAD?null!=r&&r.preventClose?this._emitAdCustomEvent(Or.HIDEAD):this._emitAdCustomEvent(Or.CLOSEAD):i===Nr.CHANGEMULTISHOW?r.listExpr?this.changeMultiListAndExposure(this._run(r.listExpr,{$args:n})):r.list?this.changeMultiListAndExposure(r.list):n.list&&this.changeMultiListAndExposure(n.list):i===Nr.CLOSEAD?this._emitAdCustomEvent(Or.CLOSEAD):i===Nr.OPERATEREWARDEDVIDEOAD?(n.event&&this.setData({_rewardedVideoEvent:n.event}),this.data._rewardedVideoAdUnit&&this.operateRewardedVideo(r)):i===Nr.EMITFETCHTAKEDWELFARE?this._emitFetchTakedWelfare({limit:this._getDataValueWithDefault("limit",5,r),offset:this._getDataValueWithDefault("offset",null,r)}):i===Nr.CHANGETAKEDWELFAREMULTISHOW?r.listExpr?this._changeTakedWelfareMultiList(this._run(r.listExpr,{$args:n})):r.list?this._changeTakedWelfareMultiList(r.list):n.list&&this._changeTakedWelfareMultiList(n.list):i===Nr.REPORTWELFARETAKE?this._reportWelfareTake({index:this._getDataValueWithDefault("index",0,r),retry:this._getDataValueWithDefault("retry",1,r)}):i===Nr.CLEARTAKEDWELFARE?this._clearTakedWelfare():i===Nr.REFRESHWELFARE?this._refreshWelfare():i===Nr.CHANGEWELFARE&&this._changeWelfare()},getFeedbackSource:function(){return this.getSlotId()===Qi.wxpayBottom?1020:this.getSlotId()===Qi.wxpayCard?1021:1012},getExtraCommObj:function(e,t){var n,i,r={sub_templ_id:this.data._subTemplId};if("click"===e){var a=(i=this.data.adCustomId,No.videoDataMap[i]||{}),o=a.currentTime,s=a.duration;(o||s)&&Object.assign(r,{video_play_time:o,video_duration:s})}var l=null===(n=this._getAdData().extBackComm)||void 0===n?void 0:n.cpsAdInfo;return this._getDataValue("isCps")&&l&&("exposure"===e?r.cps_exp_url=encodeURIComponent(l.exp_url):"click"===e&&(r.cps_click_url=encodeURIComponent(l.click_url))),this.data._isMulti&&this._getDataValue("isCpsShop")&&("exposure"===e&&t?r.s_cps_shop_exp_url=JSON.stringify(this._getAdDatas().filter((function(e,n){return t.indexOf(n)>-1})).map((function(e){return e.extBackComm.cpsProduct.exp_url}))):"click"===e&&(r.cps_shop_click_url=this._getAdData().extBackComm.cpsProduct.click_url)),this._getDataValue("isWelfare")&&("exposure"===e&&t?r.s_cps_shop_exp_url=JSON.stringify(this._getAdDatas().filter((function(e,n){return t.indexOf(n)>-1})).map((function(e){return e.extBackComm.cps_weapp_shop_ad_info.exp_url}))):"click"===e&&(r.cps_shop_click_url=this._getAdData().extBackComm.cps_weapp_shop_ad_info.click_url)),r},changeMultiListAndExposure:function(e=[]){this.setData({_multiShowList:e}),this.data._isInBackGround||this.data.isClosed||(this._isEdgeViewAble&&this.reportMultiExposure(!1),this.data._isViewable&&this.reportMultiExposure(!0))},reportMultiExposure:function(e=!1){var t=this;if(!1===e){var n=this.data._multiShowList.filter((function(e){return-1===t.data._multiExposureList.indexOf(e)}));n.length&&(this._reportExposure(!1,{mainElement:this.$.container,extExposureCommObj:this.getExtraCommObj("exposure",n),multiList:n}),this._emitComponentEvent(hr.EXPOSURE,{exposureList:n}),this.setData({_multiExposureList:this.data._multiExposureList.concat(n)}))}else this._exposureTimer=setTimeout((function(){if(t.data._isViewable){var e=t.data._multiShowList.filter((function(e){return-1===t.data._multiViewableExposureList.indexOf(e)}));e.length&&(t._reportExposure(!0,{mainElement:t.$.container,extExposureCommObj:t.getExtraCommObj("exposure",e),multiList:e}),t._emitComponentEvent(hr.VIEWABLEEXPOSURE,{viewAbleExposureList:e}),t.setData({_multiViewableExposureList:t.data._multiViewableExposureList.concat(e)}))}}),1e3)},emitAdditionFetch:function(){var e=this,t=function(t){e._emitComponentEvent(hr.ADDITIONFETCHERROR),e._reportAdMonitorData("ADDITION_FETCH_ERROR",t)},n=Date.now();this._fetchAdData({posId:this.getSlotId(),extSlotCustomCommObj:{is_adunit_tmpl:!this.isBuiltInTpl()}}).then((function(i){var r=Date.now();if(-12001!==Number(i.err_code)){var a=JSON.parse(i.data.data);if(a.advertisement_num>0){var o=a.advertisement_info.map((function(t){return e._covertAdData(t)}));e._getDataValue("isCpsShop")&&(o=e._convertCpsShopData(o)),e.setData({_adDatas:[...e._getAdDatas(),...o]}),Mo(e.data.adCustomId,e._getAdDatas()),e._emitAdCustomEvent(Or.ADDATASCHANGE);var s=e._getDataValueWithDefault("additionFetchCheck","$const.true");e._run(s,{$args:o})?function({duration:t}={}){e._emitComponentEvent(hr.ADDITIONFETCHSUCCESS),e._reportAdMonitorData("ADDITION_FETCH_SUCCESS",{duration:t})}({duration:r-n}):t({errMsg:"run additionFetchCheck failed",expr:s,subTemplId:e.data._subTemplId})}else t({errMsg:"addition fetch count is 0",subTemplId:e.data._subTemplId})}else zp&&console.warn("For developer:无广告组件使用权限，请到 'https://mp.weixin.qq.com' 上申请")})).catch((function(e){t(e)}))},tempCacheTmpl:function(){var e=s()((function*(e){try{var t=JSON.stringify(e),n=`${this.getSlotId()}_${this.data._templId||0}_cacheTemplate`,i=yield $p(n),r=yield $p(`${n}_time`);if(i&&r)Date.now()-r>864e6?this._reportAdMonitorData("TEMPLATE_CACHE_FAILED",{type:"cacheExpire"},Vd):i!==t?this._reportAdMonitorData("TEMPLATE_CACHE_FAILED",{type:"cacheNotMatch"},Vd):this._reportAdMonitorData("TEMPLATE_CACHE_SUCCESS",void 0,Vd);else this._reportAdMonitorData("TEMPLATE_CACHE_FAILED",{type:"noCache"},Vd);yield Up(`${n}_time`,Date.now()),yield Up(n,t)}catch(e){this._reportAdMonitorData("TEMPLATE_CACHE_FAILED",{type:"error",e:null==e?void 0:e.stack},Vd)}}));return function(t){return e.apply(this,arguments)}}(),operateRewardedVideo:function({op:e="",data:t={}}){var n,i={...t};if(t.welfareData){var r=this._getDataValue("welfareId",t.welfareData),a=this._getDataValue("welfareTrace",t.welfareData);i.welfareData={welfare_id:r,welfare_trace:a}}null===(n=wx)||void 0===n||n.publish("wxAdOperateRewardedVideo",{unitId:this.data._rewardedVideoAdUnit,adCustomId:this.data.adCustomId,op:e,data:i}),this._reportAdMonitorData("OPERATE_REWARDEDVIDEO",{op:e,_data:i})},onWxAdRewardedVideoEvent:function(e){var{unitId:t,adCustomId:n,eventName:i,data:r={}}=e;t===this.data._rewardedVideoAdUnit&&n===this.data.adCustomId&&i&&(this._emitComponentEvent(i,{...r,event:this.data._rewardedVideoEvent}),this._reportAdMonitorData("REWARDEDVIDEO_EVENT",{detail:e}))},onWxAdTakeWelfareEvent:function({id:e}){this._getDataValue("isWelfare")&&"welfare"===this.data.type&&e!==`${this.getPageId()}_${this.data.unitId}_${this.data.adCustomId}`&&this.attachedCb()},isBuiltInTpl:function(){return!(!this.isBanner()&&!this.isFeedVideo())},isRerankingRefreshEnable:function(){return Boolean(this.data.adCustomId)},isWxPay:function(){return"payBottom"===this.data.type||"payCard"===this.data.type},isBanner:function(){return"banner"===this.data.type},isFeedVideo:function(){return"video"===this.data.type}}}).init((function({implement:e}){var t=this;e(qo,{getAdCustomId:function(){return t.data.adCustomId},getTpl:function(){return t.properties.tpl}}),e(Kp,{attachedCb:this.attachedCb.bind(this),getExtraCommObj:this.getExtraCommObj.bind(this),appEnterForeground:this.appEnterForeground.bind(this),appEnterBackground:this.appEnterBackground.bind(this),getSlotId:this.getSlotId.bind(this),updateButtonText:this.updateButtonText.bind(this),getFeedbackSource:this.getFeedbackSource.bind(this),isRerankingRefreshEnable:this.isRerankingRefreshEnable.bind(this),get type(){return t.data.type},get adCustomId(){return t.data.adCustomId},get isClosed(){return t.data.isClosed},get _subTemplId(){return t.data._subTemplId},get _isViewable(){return t.data._isViewable},get _isEdgeViewAble(){return t._isEdgeViewAble},get _isInBackGround(){return t.data._isInBackGround},get _idkeyInfo(){return t._idkeyInfo},set _exposureTimer(e){var n;(n=e)?t._exposureTimer=n:delete t._exposureTimer}})})).registerComponent(),qp=g("ad").behavior(v.ZP).definition({options:{virtualHost:!0},template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m;var r=e.r,a={onLoad:new Array(1),adExt:new Array(1),onclose:new Array(1),onError:new Array(1),adType:new Array(1),unitId:new Array(1),adIntervals:new Array(1)},o=!0===i;return{C:function(t,s,l){l("ad-custom",{},(function(t,s){(s||o||i.unitId)&&r(t,"unit-id",n.unitId),a.unitId[0]=function(e,n,i){r(t,"unit-id",e.unitId),n(t)},(s||o||i.adIntervals)&&r(t,"ad-intervals",n.adIntervals),a.adIntervals[0]=function(e,n,i){r(t,"ad-intervals",e.adIntervals),n(t)},(s||o||i.adType)&&r(t,"type",n.adType),a.adType[0]=function(e,n,i){r(t,"type",e.adType),n(t)},(s||o||i.adExt)&&r(t,"ad-ext",n.adExt),a.adExt[0]=function(e,n,i){r(t,"ad-ext",e.adExt),n(t)},(s||o||i.onLoad)&&e.r(t,"bindload",n.onLoad),a.onLoad[0]=function(n,i,r){e.r(t,"bindload",n.onLoad),i(t)},(s||o||i.onError)&&e.r(t,"binderror",n.onError),a.onError[0]=function(n,i,r){e.r(t,"binderror",n.onError),i(t)},(s||o||i.onclose)&&e.r(t,"bindclose",n.onclose),a.onclose[0]=function(n,i,r){e.r(t,"bindclose",n.onclose),i(t)}}),(function(e){}))},B:a}},function(t){return e[t]}}()},properties:{unitId:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""},adIntervals:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Number,value:0},adType:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"banner"},adTheme:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"white"},adExt:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""}},data:{},methods:{onLoad:function(e){this.triggerEvent("load",e.detail)},onError:function(e){this.triggerEvent("error",e.detail)},onClose:function(e){this.triggerEvent("close",e.detail)}}}).usingComponents({"ad-custom":Xp}).registerComponent();var Jp,Qp=n(7082),eh=g("magic-brush-frame").behavior(v.ZP).behavior(y.Z).behavior(He.Z).behavior(I.N).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m;var r=e.r,a={viewId:new Array(1)},o=!0===i;return{C:function(t,s,l){l("texture",{},(function(t,s){s&&e.i(t,"frame"),s&&r(t,"type","magic-brush-frame"),(s||o||i.viewId)&&r(t,"view_id",n.viewId),a.viewId[0]=function(e,n,i){r(t,"view_id",e.viewId),n(t)},s&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%;")}),(function(e){}))},B:a}},function(t){return e[t]}}()}).definition({options:{renderingMode:"full",lazyRegistration:!0},properties:{bizType:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},params:{type:i.Z.glassEasel.NormalizedPropertyType.Object,value:{},public:!0},viewId:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:0}}}).lifetime("created",(function(){this.viewId=(0,Qp.Z)()||0,this.biz=0,this._waitForAppCardDefReady=null,this.$.frame.$$.setAttributes({type:"magic-brush-frame",viewId:this.viewId})})).lifetime("attached",(function(){var e=this;this.subscribe("miniprogramPackageRemoved",(function(t={}){var{appId:n,envVersion:i="release"}=e.params;t.appId===n&&t.envVersion===i&&e.triggerEvent("miniprogramremoved",{appId:t.appId,envVersion:t.envVersion})})),"app-card"!==this.bizType||Jp||(this.subscribe("returnMagicBrushFrameDef",(function(t={}){Jp=t.appCardDef,e._waitForAppCardDefReady&&(e._waitForAppCardDefReady(),e._waitForAppCardDefReady=null)})),this.publish("getMagicBrushFrameDef"))})).lifetime("detached",(function(){this.removeFrame()})).methods({_initNativeView:function(e){var t=this;if("app-card"===this.bizType){var{appId:n,envVersion:i="release",appPath:r="",cardPath:a="",type:o,params:s={}}=this.params;if(!n||!o)return;var l=function(){var l=void 0!==__wxConfig&&__wxConfig.debug,u={frameId:t.viewId,position:e,biz:0,appId:n,envVersion:i,appPath:r,fsPath:Jp.fsPath||"",extraData:JSON.stringify({needDowoloadPackage:!0,debugMode:l,sourceAppId:window.__appId__,bizType:t.bizType,appId:n,envVersion:i,type:o,appCardDef:Jp,size:e,params:s,pageId:t.getPageId(),appPath:r,cardPath:a})};t.biz=0,t.insertFrame(u)};Jp?l():this._waitForAppCardDefReady=l}},_updatePosition:function(){},insertFrame:function(e,t){var n=this;this.insertNativeView("insertMagicBrushFrame",e,(function(e){/:ok/.test(e.errMsg)?(n.viewId,n.publish("magicBrushFrameLoaded",{frameId:n.viewId,biz:n.biz,pageId:n.getPageId()}),n.triggerEvent("load",{frameId:n.viewId}),t&&t()):(n.triggerEvent("error",{errMsg:"inserted error"}),t&&t(e))}))},removeFrame:function(){var e=this;this.removeNativeView("removeMagicBrushFrame",{frameId:this.viewId,biz:this.biz},(function(){e.viewId,e.publish("magicBrushFrameRemoved",{frameId:e.viewId})}))}}).registerComponent();const th=eh;var nh=g("icon").behavior(v.ZP).behavior(y.Z).behavior(Qt.Z).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r,{color:new Array(1),innerSize:new Array(1),type:new Array(1)}),o=!0===i;return{C:function(t,s,l){l("span",{},(function(t,s){(s||o||i.type)&&r(t,"wx-icon wx-icon-"+pe(n.type)),a.type[0]=function(e,n,i){r(t,"wx-icon wx-icon-"+pe(e.type))},(s||o||i.color||i.innerSize)&&e.y(t,"color: "+pe(n.color)+"; font-size: "+pe(n.innerSize)+";"),a.color[0]=a.innerSize[0]=function(n,i,r){e.y(t,"color: "+pe(n.color)+"; font-size: "+pe(n.innerSize)+";")}}),(function(e){}))},B:a}},function(t){return e[t]}}()}).property("type",{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""}).property("size",{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"23px"}).observer("size",(function(e){var t=this.normalizeSizeStr(e);this.setData({innerSize:t})})).property("color",{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""}).lifetime("attached",(function(){this.setAriaRoleDefault("img")})).data((function(){return{innerSize:"23px"}})).registerComponent();const ih=nh,rh=g("cover-view").behavior(v.ZP).behavior(y.Z).behavior(Et.Z).behavior(I.N).template({content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e,t,n,i,r,a){e?a(""):a()},B:{}}},function(t){return e[t]}}()}).definition({properties:{markerId:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:NaN,observer:function(e,t){var n,i,r,a;this._asRepaintBoundary||(null!==this.$$&&(null===(r=(a=this.$$).markAsRepaintBoundary)||void 0===r||r.call(a)),this._asRepaintBoundary=!0);null===(n=this._mapComp)||void 0===n||n.addCalloutCommand({calloutNode:this.getAsCalloutNode(),markerId:t,operation:oe.Remove,reason:se.MarkerIdChanged}),null===(i=this._mapComp)||void 0===i||i.addCalloutCommand({calloutNode:this.getAsCalloutNode(),markerId:e,operation:oe.Add,reason:se.MarkerIdChanged})}}},relations:{map:{type:"ancestor",linked:function(e){this._mapComp=e},unlinked:function(e){this._mapComp=null}}},created:function(){this._asRepaintBoundary=!1,this._mapComp=null},methods:{getAsCalloutNode:function(){return this.$$}}}).registerComponent();var ah=function(){return ah=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ah.apply(this,arguments)};Object.create;function oh(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sh(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}var lh,uh,ch,dh,ph,hh,fh,_h,vh,gh,mh;Object.create;function Eh(e){return{lower:e.toLowerCase().split("").map((function(e){return e.charCodeAt(0)})),upper:e.toUpperCase().split("").map((function(e){return e.charCodeAt(0)})),length:e.length}}!function(e){e.Text="Text",e.Tag="Tag"}(lh||(lh={}));var yh=Eh("!doctype"),Th=Eh("style"),bh=Eh("script");function Ch(){return 32===_h||10===_h||9===_h||9===_h||13===_h||12===_h}function Sh(e){uh=0,ch=e,dh=e.length,ph=0,hh=0,fh=[],vh=!1,gh=!1,mh=0}function Ah(e,t,n){void 0===t&&(t=uh),void 0===n&&(n=hh);var i=ch.substring(ph,n);1!==e&&3!==e||(i=i.toLowerCase()),1===e&&("script"===i?vh=!0:"style"===i&&(gh=!0)),3===e&&(vh=gh=!1),(0!==e&&4!==e||n!==ph)&&fh.push({type:e,start:ph,end:n,value:i}),2===e||3===e?(ph=n+1,uh=0):(ph=n,uh=t)}function Ih(){60===_h&&Ah(0,1)}function Ph(){vh||gh?47===_h?(uh=14,ph=hh+1):uh=0:_h>=97&&_h<=122||_h>=65&&_h<=90?(uh=2,ph=hh):47===_h?(uh=14,ph=hh+1):60===_h?Ah(0):33===_h?(uh=8,ph=hh):63===_h?(ph=hh,Ah(1,12)):uh=0}function wh(){Ch()?Ah(1,3):62===_h?(Ah(1),Ah(2)):47===_h&&Ah(1,7)}function Rh(){62===_h?(Ah(4),Ah(2)):47===_h?Ah(4,7):61===_h?(Ah(4),Ah(5,void 0,hh+1)):39===_h?Ah(4,5):34===_h?Ah(4,6):Ch()||Ah(4,4)}function xh(){62===_h?(Ah(6),Ah(2)):47===_h?Ah(6,7):61===_h?(Ah(6),Ah(5,3,hh+1)):Ch()&&Ah(6,3)}function Oh(){39===_h&&Ah(7,3,hh+1)}function Nh(){34===_h&&Ah(8,3,hh+1)}function Dh(){62===_h?Ah(2):(Ah(6,3),Rh())}function kh(){switch(_h){case 45:uh=10;break;case 100:case 68:uh=9;break;default:Ah(1,12)}}function Lh(){(mh=hh-ph)===yh.length?Ch()?Ah(1,3):Uh():62===_h?(Ah(1,void 0,ph+1),Ah(0),Ah(2)):yh.lower[mh]!==_h&&yh.upper[mh]!==_h&&Ah(1,12,ph+1)}function Mh(){45===_h?Ah(1,11,hh+1):Ah(1,12,ph+1)}function Bh(){45===_h&&Ah(0,13)}function Fh(){62===_h&&(Ah(0),Ah(2))}function Vh(){2===(mh=hh-ph)?62===_h?Ah(2):45===_h?Ah(0,void 0,ph+1):uh=11:45!==_h&&(uh=11)}function Wh(){mh=hh-ph,gh?60===_h?(ph-=2,Ah(0,1)):mh<Th.length?Th.lower[mh]!==_h&&Th.upper[mh]!==_h&&(ph-=2,uh=0):62===_h?Ah(3):Ch()||(ph-=2,uh=0):vh?60===_h?(ph-=2,Ah(0,1)):mh<bh.length?bh.lower[mh]!==_h&&bh.upper[mh]!==_h&&(ph-=2,uh=0):62===_h?Ah(3):Ch()||(ph-=2,uh=0):62===_h&&Ah(3)}function Uh(){throw new SyntaxError('Unexpected token "'+ch.charAt(hh)+'" at '+hh+" when parse "+uh)}function $h(e,t){return e.split(",").reduce((function(e,n){return e[n]=t,e}),Object.create(null))}var Gh,Zh,Hh,zh,jh,Yh,Kh,Xh,qh,Jh,Qh=$h("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr,!doctype,,!,!--",!0),ef=$h("li,option,select,textarea",!0);function tf(e,t,n,i){if(i.enter&&i.enter(e,t,n),e.type===lh.Tag&&Array.isArray(e.body))for(var r=0;r<e.body.length;r++)tf(e.body[r],e,r,i);i.leave&&i.leave(e,t,n)}function nf(e,t){void 0===e?(Zh=0,Hh.length=0,Xh=""):(Hh=function(e){for(Sh(e);hh<dh;){switch(_h=ch.charCodeAt(hh),uh){case 0:Ih();break;case 1:Ph();break;case 2:wh();break;case 3:Rh();break;case 4:xh();break;case 5:Oh();break;case 6:Nh();break;case 7:Dh();break;case 8:kh();break;case 9:Lh();break;case 10:Mh();break;case 11:Bh();break;case 12:Fh();break;case 13:Vh();break;case 14:Wh();break;default:Uh()}hh++}switch(uh){case 0:case 1:case 4:case 5:case 6:case 7:case 11:case 12:case 13:Ah(0);break;case 2:Ah(1);break;case 3:break;case 8:Ah(1,12);break;case 9:hh-ph===yh.length?Ah(1):(Ah(1,void 0,ph+1),Ah(0));break;case 10:hh-ph==2?Ah(1):(Ah(1,void 0,ph+1),Ah(0));break;case 14:Ah(3)}var t=fh;return Sh(""),t}(e),Zh=Hh.length,Xh=e),Gh=0,zh=void 0,jh=[],Yh=void 0,Kh=void 0,qh=void 0,Jh=t}function rf(e){zh?e.type===lh.Tag&&e.name===zh.tag.name&&ef[e.name]?(zh=zh.parent,rf(e)):zh.tag.body&&(zh.tag.end=e.end,zh.tag.body.push(e)):jh.push(e)}function af(e){zh={parent:zh,tag:e},Kh=void 0}function of(e,t,n){return void 0===e&&(e=Yh.start),void 0===t&&(t=Yh.end),void 0===n&&(n=Yh.value),{start:e,end:t,value:n,type:lh.Text}}function sf(){return{start:Yh.start,end:Yh.end,name:of(),value:void 0}}function lf(e){void 0===e&&(e=Kh),e.value+=Yh.value,e.end=Yh.end}function uf(){void 0===qh&&(qh=function(e){return e.split("\n").reduce((function(e,t){return e.push(t.length+1+e[e.length-1]),e}),[0])}(Xh));var e=sh(function(e,t){for(var n=NaN,i=NaN,r=1;r<e.length;r++)if(e[r]>t){n=r,i=t-e[r-1]+1;break}return[n,i]}(qh,Yh.start),2),t=e[0],n=e[1];throw new Error('Unexpected token "'+Yh.value+"("+Yh.type+')" at ['+t+","+n+"]"+(zh?" when parsing tag: "+JSON.stringify(zh.tag.name)+".":""))}function cf(){var e=0,t=void 0,n={start:Yh.start-1,end:Yh.end,type:lh.Tag,open:of(Yh.start-1),name:Yh.value,rawName:Xh.substring(Yh.start,Yh.end),attributes:[],attributeMap:void 0,body:null,close:null};if(rf(n),""===n.name||"!"===n.name||"!--"===n.name){if(n.open.value="<"+n.open.value,Gh===Zh)return;if(2!==(Yh=Hh[++Gh]).type)for(Kh=of(),n.body=[Kh];++Gh<Zh;){if(2===(Yh=Hh[Gh]).type){Kh=void 0;break}lf()}return n.close=of(Yh.start,Yh.end+1,Yh.value+">"),void(n.end=n.close.end)}for(;++Gh<Zh;){if(2===(Yh=Hh[Gh]).type){n.end=n.open.end=Yh.end+1,n.open.value=Xh.substring(n.open.start,n.open.end),""!==Yh.value||Qh[n.name]?n.body=void 0:(n.body=[],af(n));break}0===e?4!==Yh.type&&(t=sf(),e=1,n.attributes.push(t)):1===e?4===Yh.type?e=2:5===Yh.type?e=3:lf(t.name):2===e?4!==Yh.type&&(5===Yh.type?e=3:(t=sf(),e=1,n.attributes.push(t))):3===e?4!==Yh.type&&(t.value={start:Yh.start,end:Yh.end,value:6===Yh.type?Yh.value:Yh.value.substr(1,Yh.value.length-2),quote:6===Yh.type?void 0:7===Yh.type?"'":'"'},6===Yh.type?e=4:(t.end=t.value.end,e=0)):4===Yh.type?(t.end=t.value.end,e=0):lf(t.value)}}function df(){for(var e=zh;e&&Yh.value.trim()!==e.tag.name;)e=e.parent;e&&(e.tag.close=of(Yh.start-2,Yh.end+1,Xh.substring(Yh.start-2,Yh.end+1)),e.tag.end=e.tag.close.end,e=e.parent,zh=e)}function pf(e,t){for(nf(e,ah({setAttributeMap:!1},t));Gh<Zh;){switch((Yh=Hh[Gh]).type){case 0:Kh?lf(Kh):rf(Kh=of());break;case 1:Kh=void 0,cf();break;case 3:Kh=void 0,df();break;default:uf()}Gh++}var n=jh;return(null==Jh?void 0:Jh.setAttributeMap)&&function(e,t){for(var n=0;n<e.length;n++)tf(e[n],void 0,n,t)}(n,{enter:function(e){e.type===lh.Tag&&function(e){var t,n;e.attributeMap={};try{for(var i=oh(e.attributes),r=i.next();!r.done;r=i.next()){var a=r.value;e.attributeMap[a.name.value]=a}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}(e)}}),nf(),n}const hf=n(8737);var ff=n(8254),_f=function(e){return["widthFix","heightFix","scaleToFill","aspectFit","aspectFill","top","bottom","center","left","right","top left","top right","bottom left","bottom right"].includes(e)};(function(){var e={};e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(e){},B:{}}}})(),i.Z.glassEasel.NormalizedPropertyType.String,i.Z.glassEasel.NormalizedPropertyType.String,i.Z.glassEasel.NormalizedPropertyType.Boolean,i.Z.glassEasel.NormalizedPropertyType.Boolean,i.Z.glassEasel.NormalizedPropertyType.Boolean,i.Z.glassEasel.NormalizedPropertyType.Number,i.Z.glassEasel.NormalizedPropertyType.String;var vf={allowedTags:["a","abbr","address","article","aside","b","bdi","bdo","big","blockquote","br","caption","center","cite","code","col","colgroup","dd","del","div","dl","dt","em","fieldset","font","footer","h1","h2","h3","h4","h5","h6","header","hr","i","img","ins","label","legend","li","mark","nav","ol","p","pre","q","rt","ruby","s","section","small","span","strong","sub","sup","table","tbody","td","tfoot","th","thead","tr","tt","u","ul"],allowedAttrs:["class","style",/^data-/,"wx-debug"],tagAllowedAttrs:{bdo:["dir"],col:["span","width"],colgroup:["span","width"],img:["alt","src","height","width","mode"],ol:["start","type"],table:["width"],td:["colspan","height","rowspan","width"],th:["colspan","height","rowspan","width"],tr:["colspan","height","rowspan","width"]},space:"nbsp"},gf={nbsp:" ",ensp:" ",emsp:" "},mf=function(e,t){var n=e;return t&&t in gf&&(n=n.replace(/ /g,gf[t])),n=(0,ff.Jx)(n)},Ef=function(e,t={},n={}){switch(e.name){case"img":return["image"];case"p":case"div":case"pre":case"hr":case"fieldset":case"ul":case"ol":case"dd":case"dl":case"dt":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":if("inline-block"===n.mode){return["view",{display:0,basicStyle:"display: block"}]}return["view"];default:if("inline-block"===n.mode){return["view",{display:1,basicStyle:"display: inline-block"}]}return["span"]}},yf=function(e){return e()},Tf=function(e,t,n,i={}){var r,a=e.getBackendContext(),o=function(t,i){var r=a.createElement(t,i);return r.__wxElement=e,r.setStyleScope(n.libStyleScope),r};if("type"in t&&(t.type===lh.Text||"text"===t.type)){var s,l="value"in t?t.value:t.text;if(/^\s+$/g.test(l))return null;var u=mf(l,n.space),c=function(t){var i=a.createTextNode(t);return i.__wxElement=e,i.setStyleScope(n.libStyleScope),i}(u);if((0,_e.Tg)((function(){c.downgradedTagName="text",c.text=u})),"inline-block"===n.mode&&i.parent&&0===(null===(s=Ef(i.parent,{},n)[1])||void 0===s?void 0:s.display)){var d=o("view","view");return d.setStyle("display: inline-block"),(0,_e.Tg)((function(){d.downgradedTagName="view",d.children=[c]})),d.appendChild(c),d}return c}var p=t.name;if("string"!=typeof p||""===p)return null;if(p=p.toLowerCase(),n.allowedTags&&!n.allowedTags.includes(p))return null;var h,f,_=[],[v,g={}]=Ef(t,i,n);g.basicStyle&&_.push(g.basicStyle);var m=!1;if("view"===v&&yf((function(){var e;if("aggressive"===n.mode)return!0;if("compat"!==n.mode||i.parent&&(!i.parent||"view"!==Ef(i.parent,{},n)[0])||!yf((function(){var e,n,i,r,a="attributeMap"in t?null===(e=t.attributeMap)||void 0===e||null===(n=e.style)||void 0===n||null===(i=n.value)||void 0===i?void 0:i.value:null===(r=t.attrs)||void 0===r?void 0:r.style,o="body"in t?t.body:t.children;return Boolean(!/display\s*:/.test(null!=a?a:"")&&o&&o.length)})))return!1;var r=null,a=null!==(e="body"in t?t.body:t.children)&&void 0!==e?e:[],o=function(e){var t,i,r,a;if("view"===Ef(e,{},n)[0])return!1;var o="attributeMap"in e?null===(t=e.attributeMap)||void 0===t||null===(i=t.style)||void 0===i||null===(r=i.value)||void 0===r?void 0:r.value:null===(a=e.attrs)||void 0===a?void 0:a.style;return!/display\s*:\s*block/.test(null!=o?o:"")};for(var s of a)if(!("type"in s)||s.type!==lh.Text&&"text"!==s.type)r=(null===r||r)&&o(s);else{var l="value"in s?s.value:s.text;if(/^\s+$/g.test(l))continue}return Boolean(r)}))){m=!0;var E=f=o("span",p),y=o("view",p);y.appendChild(E),(0,_e.Tg)((function(){y.children=[E]})),h=y}else h=f=o(v,p);(0,_e.Tg)((function(){t.downgradedTagName=v,f.downgradedTagName=v,f.ast=t}));var T="",b=function(e,t,i){var r;if("string"==typeof e){e=e.toLowerCase();var a=f;if(!n.allowedAttrs||n.allowedAttrs.some((function(t){return"string"==typeof t?t===e:t.test(e)}))||!n.tagAllowedAttrs||null!==(r=n.tagAllowedAttrs[p])&&void 0!==r&&r.includes(e))if(t)switch(e){case"class":t.trim().split(/\s+/).forEach((function(e){a.addClass(e,n.styleScope),"number"==typeof n.extraStyleScope&&a.addClass(e,n.extraStyleScope)}));break;case"style":var o,s=null!==(o=function(e){try{return hf(e)}catch(e){return null}}(t))&&void 0!==o?o:{};if(n.defaultBlock||"default"===n.mode||"flex"!==s.display||s["flex-direction"]||_.push("flex-direction: row"),i){var l=i.name,u=s["list-style-type"]||s["list-style"],c=s["padding-left"]||s.padding;"ul"!==l&&"ol"!==l||"none"!==u||"0"!==c&&"0px"!==c||a.addClass("wx_list_style_type_none",n.libStyleScope)}if(m){var d=[];for(var[v,g]of Object.entries(s)){var E=`${v}:${g}`;switch(v){case"top":case"left":case"right":case"bottom":case"position":d.push(E);break;default:_.push(E)}}d.length&&h.setStyle(d.join(";"))}else _.push(t);_.length&&(a.setStyle(_.join(";")),(0,_e.Tg)((function(){a.inlineStyles=_,a.inlineStyleObj=s})));break;case"mode":T=t;break;case"height":case"width":_.push(`${e}: ${t}`);break;case"src":case"href":var y=n.allowedUrl;null!=y&&y.test(t)&&(t=void 0),a.setAttribute(e,t||"");break;default:a.setAttribute(e,t||"")}else a.setAttribute(e,t||"")}};if("attributes"in t?t.attributes.forEach((function(e){var n;return b(e.name.value,null===(n=e.value)||void 0===n?void 0:n.value,t)})):Object.entries(t.attrs||{}).forEach((function([e,n]){return b(e,n,t)})),"image"===v){var C=_f(T)?T:"widthFix";f.setAttributes({mode:C})}var S="body"in t?t.body:t.children;return S&&((0,_e.Tg)((function(){return f.children=[]})),S.forEach((function(r){var a=i.parent;i.parent=t;var o=Tf(e,r,n,i);i.prev=r,i.parent=a,o&&(f.appendChild(o),(0,_e.Tg)((function(){return f.children.push(o)})))}))),null!==(r="attributeMap"in t?t.attributeMap:t.attrs)&&void 0!==r&&r["wx-debug"]&&console.log("<wx-debug>",{node:t,ret:h}),h};function bf(e){return null!=e}var Cf=function(e){return pf(e,{setAttributeMap:!0})},Sf=function(e,t,n){var i;return!(!n.allowedAttrs||n.allowedAttrs.some((function(e){return"string"==typeof e?e===t:e.test(t)}))||!n.tagAllowedAttrs||null!==(i=n.tagAllowedAttrs[e])&&void 0!==i&&i.includes(t))},Af=function(e,t){if("type"in e&&(e.type===lh.Text||"text"===e.type)){var n="value"in e?e.value:e.text;if(/^\s+$/g.test(n))return" ";var i=n;return n=n.trim(),/^\s+/g.test(i)&&(n=` ${n}`),/\s+$/g.test(i)&&(n=`${n} `),mf(n,t.space)}var r=e.name;if(t.allowedTags&&!t.allowedTags.includes(r))return"";var a=function(e,n){if(n)switch(e){case"src":case"href":var i=t.allowedUrl;return null!=i&&i.test(n)&&(n=void 0),n||"";default:return n||""}return""},o="";"attributes"in e?e.attributes.forEach((function(e){var n;Sf(r,e.name.value,t)||(o=`${o} ${e.name.value}="${a(e.name.value,null===(n=e.value)||void 0===n?void 0:n.value)}"`)})):Object.entries(e.attrs||{}).forEach((function([e,n]){Sf(r,e,t)||(o=`${o} ${e}="${a(e,n)}"`)}));var s=`<${r} ${o}>`,l="body"in e?e.body:e.children;return l&&l.forEach((function(e){s=`${s}${Af(e,t)}`})),`${s}</${r}>`},If=function(e){switch(e){case"compat":case"aggressive":case"inline-block":return e;default:return"default"}},Pf={};function wf(e={}){var{viewId:t,operation:n,data:i}=e;if(Pf[t]){var a=Pf[t].deref();if(a&&"updatePosition"===n){var o,s,l=null==i||null===(o=i.position)||void 0===o?void 0:o.height;r.wZ&&(l=l>3e3?3e3:l),null===(s=a.$.texture)||void 0===s||s.$$.setStyle(`height: ${l}px;`)}}}Foundation.onLoad((function(){WeixinJSBridge.on("onWebRichTextInfo2AppService",wf)}));var Rf=g("rich-text").behavior(v.ZP).behavior(y.Z).behavior(He.Z).behavior(ve.Z).behavior(I.N).definition({is:"rich-text",template:r.wZ?{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m;var r=e.r,a=!0===i;return{C:function(t,o,s,l){var u=n.isWebMode?1:0;l(u,(function(t,o,s){1===u?s("texture",{},(function(t,o){o&&e.i(t,"texture"),(o||a||i.textureViewInited||i.textureViewInited||i.textureViewInited)&&e.y(t,"position: absolute; top: 0; left: 0; width: "+pe(n.textureViewInited?"100%":"1px")+"; height: "+pe(n.textureViewInited?"100%":"1px")+"; "+pe(n.textureViewInited?"visibility: visible;":"visibility: hidden;")),o&&r(t,"type","nativeView"),o&&r(t,"nativeViewType","RichText"),(o||a||i.viewId)&&r(t,"viewId",n.viewId)}),(function(e){})):s("view",{},(function(t,n){n&&e.i(t,"rich-text"),n&&e.y(t,"width: 100%; height: 100%;")}),(function(e,t,n,i,r,a){e?a(""):a()}))}))},B:{}}},function(t){return e[t]}}()}:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m;var r=e.r,a=!0===i;return{C:function(t,o,s,l){var u=n.isWebMode?1:0;l(u,(function(t,o,s){1===u?s("texture",{},(function(t,o){o&&e.i(t,"texture"),o&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%;"),o&&r(t,"type","nativeView"),o&&r(t,"nativeViewType","RichText"),(o||a||i.viewId)&&r(t,"viewId",n.viewId)}),(function(e){})):s("view",{},(function(t,n){n&&e.i(t,"rich-text"),n&&e.y(t,"width: 100%; height: 100%;")}),(function(e,t,n,i,r,a){e?a(""):a()}))}))},B:{}}},function(t){return e[t]}}()},data:{isWebMode:!1,viewId:"",skylineModeState:{oldChildren:[]},textureViewInited:!1},properties:{space:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"",public:!0},nodes:{type:i.Z.glassEasel.NormalizedPropertyType.Any,value:"",public:!0,observer:"nodesObserver"},userSelect:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},mode:{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"default",public:!0,observer:"modeObserver"}},created:function(){this._created=!0,this._isNativeViewReady=!1,this._nativeDeferred=[]},attached:function(){this._attached=!0,this.modeObserver(this.data.mode)},detached:function(){this._attached=!1,this.data.isWebMode&&(this.removeNativeView("removeNativeView",{viewId:this._viewId}),delete Pf[this._viewId])},methods:{_diffTextureBox:function(e){var t=this._textureBox;for(var n of Object.keys(t))if(t[n]!==e[n])return!0;return!1},_initNativeView:$t.Z,_initTextureNativeView:function(e){var t=this,n="RichText",i={viewId:this._viewId,position:e,bizType:n,nativeViewType:n,parentId:0};this.insertNativeView("insertNativeView",i,(function(e){/:ok/.test(e.errMsg)?(t.is,t._nativeReady(),t.setData({textureViewInited:!0})):(t.triggerEvent("error",e),t.is)}))},_nativeReady:function(){var e=this;this._isNativeViewReady=!0,this._nativeDeferred.forEach((function(t){("function"==typeof t.callback?t.callback:e[t.callback]).apply(e,t.args)})),this._nativeDeferred=[]},_updatePosition:$t.Z,_updateTextureNativeViewPosition:function(e){this.updateNativeViewParams({viewId:this._viewId,position:e},$t.Z)},_webLayout:function(e){var t=null;if("string"==typeof e)try{t=Cf(e)}catch(e){return void(0,C.Dv)("rich-text","parse error",e)}else t=e;var n="";if(Array.isArray(t))try{n=function(e,t=vf){var n="";for(var i of e)n=`${n}${Af(i,t)}`;return n}(t,vf)}catch(e){return void(0,C.Dv)("rich-text","parse error",e)}else(0,C.Dv)("rich-text","nodes 属性只支持 String 和 Array 类型，请检查输入的值");var r=function(e){var t,n=null===(t=e.ownerShadowRoot)||void 0===t?void 0:t.getHostNode();if(!n)return"";var r=i.Z.glassEaselAdapter.getEnv(),a=n.getOwnerSpace(),o=r.getComponentSpaceId(a),s=r.getCodeSpace(o),l=n.getComponentOptions(),u=[l.styleScope,l.extraStyleScope].includes(s._$sharedStyleScope),c=s.getComponentChunk(n.is);__webviewEngine__.injectTextStyle(c);var d=__webviewEngine__.getTextStyle(c);return u&&(d=__webviewEngine__.getTextStyle("app")+d),d}(this);this._richTextHtml=function(e,t,n){return`<!DOCTYPE html>\n<html lang="zh-CN">\n<head>\n<meta charset="utf-8">\n<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no'>\n<title></title>\n<style>${e=function(e){return e.replace(/body\s?{/g,"page{")}(e)}</style>\n<style>\nhtml, body {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  overflow: hidden;\n}\n\n.__wx-rich-text-container {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n</style>\n</head>\n<body>\n<div class="__wx-rich-text-container">\n${t}\n</div>\n<script>\n  console.info("run rich-text webview " + Date.now())\n  var __wx_rich_text_view_id = ${n||0};\n  var containerWidth = -1;\n  var containerHeight = -1;\n  var maxSyncCount = 50;\n  var syncCount = 0;\n  var container;\n  var pendingSync = false;\n\n  function canSendRichTextInfo(width, height) {\n    return (width != containerWidth || height != containerHeight ) && width >= 0 && height >= 0 && (typeof WeixinJSBridge != 'undefined')\n  }\n\n  function sendRichTextInfo(width, height) {\n      containerWidth = width;\n      containerHeight = height;\n      console.info("sendRichTextInfo containerWidth=" + containerWidth + " containerHeight=" + containerHeight + " " + Date.now());\n      WeixinJSBridge.invoke('sendRichTextInfo', {\n        viewId: __wx_rich_text_view_id,\n        operation: "updatePosition",\n        data: {\n          position: {\n            width: containerWidth,\n            height: containerHeight,\n          }\n        }\n      });\n  }\n\n  function syncContainerSize() {\n     container = container || document.querySelector('.__wx-rich-text-container');\n      var width = container.offsetWidth;\n      var height = container.offsetHeight;\n      console.info("read container size=(" + width + "," + height + ") " + Date.now())\n      if (canSendRichTextInfo(width, height)) {\n        sendRichTextInfo(width, height);\n      }\n      if (syncCount < maxSyncCount && !pendingSync) {\n        syncCount ++;\n        pendingSync = true;\n        requestAnimationFrame(function() {\n          pendingSync = false;\n          syncContainerSize();\n        });\n      }\n  }\n  \n  function syncContainerSizeWrapper () {\n    requestAnimationFrame(syncContainerSize)\n  }\n\n  window.onload = syncContainerSizeWrapper;\n\n  document.addEventListener('WeixinJSBridgeReady', syncContainerSizeWrapper)\n\n  if (document.readyState === 'complete') {\n    console.info('document.readyState complete')\n    window.onload()\n  } else {\n    window.addEventListener('load', window.onload);\n  }\n\n<\/script>\n</body>\n</html>`}(r,n,this._viewId);var a={viewId:this._viewId,data:this._richTextHtml};this._isNativeViewReady?this.updateNativeView("updateNativeView",a,$t.Z):this._nativeDelay(this.updateNativeViewParams,a,$t.Z)},_nativeDelay:function(e,...t){this._nativeDeferred.push({callback:e,args:t})},_skylineLayout:function(e,t){var n=null;if("string"==typeof e)try{n=Cf(e)}catch(e){return void(0,C.Dv)("rich-text","parse error",e)}else n=e;var r=this.$["rich-text"],a=r.getBackendElement();if(this.data.skylineModeState.oldChildren.forEach((function(e){return a.removeChild(e)})),Array.isArray(n)){var o;try{var s,l,u,c,d,p=null,h=i.Z.codeSpace.libStyleScope,f=null===(s=this.ownerShadowRoot)||void 0===s?void 0:s.getHostNode();f&&(d=f.getComponentDefinition().getComponentOptions().styleScope,p=f.getComponentDefinition().getComponentOptions().extraStyleScope),o=function(e,t,n=vf){return t.map((function(t){return Tf(e,t,n)})).filter(bf)}(r,n,{...vf,space:this.data.space,mode:If(t),styleScope:d,extraStyleScope:p,libStyleScope:h,defaultBlock:(null===(l=__wxConfig.rendererOptions)||void 0===l?void 0:l.defaultDisplayBlock)||(null===(u=__wxConfig.rendererOptions)||void 0===u||null===(c=u.skyline)||void 0===c?void 0:c.defaultDisplayBlock)||!1})}catch(e){return void(0,C.Dv)("rich-text","parse error",e)}o.forEach((function(e){a.appendChild(e)})),this.data.skylineModeState.oldChildren=o}else(0,C.Dv)("rich-text","nodes 属性只支持 String 和 Array 类型，请检查输入的值")},layout:function(e,t){"web"===t?this._webLayout(e):this._skylineLayout(e,t)},updateNativeViewParams:function(e,t){var n={...e,viewId:this._viewId};this._isNativeViewReady?this.updateNativeView("updateNativeView",n,t):this._delay(this.updateNativeViewParams,n,t)},nodesObserver:function(e,t){e!==t&&this._attached&&this.layout(e,this.data.mode)},modeObserver:function(e,t){var n=this;if(e!==t&&this._attached){if("web"===e){var i;if(!r.cj&&!r.wZ)return void(r.gm?(0,C.Dv)("rich-text","开发者工具暂未支持 Skyline 下的 rich-text 组件 mode=web 调试，请先到真机上预览调试。"):(0,C.Dv)("rich-text","当前平台暂未支持 Skyline 下的 rich-text 组件 mode=web"));var a=(0,Qp.Z)();this._viewId=a,this.data.skylineModeState.oldChildren=[],this.setData({isWebMode:!0,viewId:a,textureViewInited:!1}),Pf[a]=new WeakRef(this);var o=!0;null===(i=this.$.texture)||void 0===i||i.$$.setLayoutCallback((function(e){o?(n._textureBox=e,n._initTextureNativeView(e),o=!1):n._diffTextureBox(e)&&(n._textureBox=e,n._updateTextureNativeViewPosition(n._textureBox))}))}else"web"===t&&(this.removeNativeView("removeNativeView",{viewId:this._viewId}),delete Pf[this._viewId],this._isNativeViewReady=!1,this._nativeDeferred=[]),this.setData({isWebMode:!1,textureViewInited:!1});this.layout(this.data.nodes,e)}}}}).registerComponent();const xf=Rf,Of={content:(()=>{var e={};return e[""]={}[""]=(e,t,n,i)=>{var r=e.c,a=(e.m,e.r),o=!0===i;return{C:(t,s,l)=>{l("view",{},((t,a)=>{a&&e.i(t,"wrapper"),(a||o||i.displayStyle)&&r(t,"wx-video-container "+pe("pro"===n.displayStyle?"wx-channel-video-pro":""))}),((t,s,l,u)=>{var c=n._autoplay||n.interacted?1:0;u(c,((t,s,l)=>{1===c&&l("video",{},((t,s)=>{s&&e.i(t,"video"),s&&r(t,"video"),(s||o||i._src)&&a(t,"src",n._src),(s||o||i._poster)&&a(t,"poster",n._poster),(s||o||i.loop)&&a(t,"loop",n.loop),(s||o||i._autoplay)&&a(t,"autoplay",n._autoplay),(s||o||i._isMuted)&&a(t,"muted",n._isMuted),(s||o||i.objectFit)&&a(t,"object-fit",n.objectFit),(s||o)&&a(t,"controls",!1),(s||o)&&a(t,"enableProgressGesture",!1),(s||o)&&a(t,"showCenterPlayBtn",!1),(s||o)&&a(t,"showProgress",!1),(s||o)&&a(t,"showBottomProgress",!1),s&&e.v(t,"loadedmetadata","handleVideoLinked",!1,!1,!1,!1),s&&e.v(t,"innerVideoDetached","handleVideoUnlinked",!1,!1,!1,!1),s&&e.v(t,"tap","_handleTapVideo",!1,!1,!1,!1),s&&e.v(t,"ended","_handleVideoEnded",!1,!1,!1,!1),s&&e.v(t,"attached","handleAttached",!1,!1,!1,!1)}),(e=>{}))}));var d="pro"===n.displayStyle?1:0;u(d,((t,s,l,u)=>{if(1===d){l("image",{},((t,s)=>{(s||o||i._poster||i.videoPlayed)&&r(t,"wx-video-poster "+pe(n._poster&&!n.videoPlayed?"":"hide")),(s||o||i._poster)&&a(t,"src",n._poster),s&&a(t,"mode","aspectFill"),s&&e.v(t,"tap","_handleTapVideo",!1,!1,!1,!1)}),(e=>{})),l("view",{},((e,t)=>{(t||o||i.videoPlayed||i._status)&&r(e,"wx-video-icon "+pe(n.videoPlayed&&"playing"===n._status?"hide":""))}),(e=>{}));var c="playing"===n._status?1:0;u(c,((t,s,l)=>{1===c&&l("view",{},((t,n)=>{n&&r(t,"wx-video-mute-wrapper"),n&&e.v(t,"tap","_handleTapMuteBtn",!0,!1,!1,!1),(n||o)&&a(t,"hover-stop-propagation",!0)}),((e,t,s)=>{s("view",{},((e,t)=>{(t||o||i._isMuted)&&r(e,"wx-video-mute wx-video-mute-on "+pe(n._isMuted?"wx-video-mute-off":"")+" js-btn"),t&&a(e,"role","button"),(t||o||i.ariaI18n||i._ariaLanguage)&&a(e,"aria-label",fe(n.ariaI18n)("mute",n._ariaLanguage))}),(e=>{}))}))}));var p=n._position?1:0;u(p,((e,t,a)=>{1===p&&a("view",{},((e,t)=>{t&&r(e,"wx-video-control-duration")}),((e,t)=>{e||o||i._position?t(pe(n._position)):t()}))}));var h=n._likeCount?1:0;u(h,((e,t,a)=>{1===h&&a("view",{},((e,t)=>{t&&r(e,"wx-video-control-like-area")}),((e,t,a)=>{a("view",{},((e,t)=>{t&&r(e,"wx-video-control-like-icon")}),(e=>{})),a("view",{},((e,t)=>{t&&r(e,"wx-video-control-like-count")}),((e,t)=>{e||o||i._likeCount?t(pe(n._likeCount)):t()}))}))}))}else{var f=!n._poster||n._autoplay||n.interacted?0:1;u(f,((e,t,s)=>{1===f&&s("image",{},((e,t)=>{t&&r(e,"wx-video-poster"),(t||o||i._poster)&&a(e,"src",n._poster),(t||o||i._imageMode)&&a(e,"mode",n._imageMode)}),(e=>{}))}));var _="banned"!==n._status?1:0;u(_,((t,s,l)=>{1===_&&l("view",{},((e,t)=>{t&&r(e,"wx-video-bar")}),((t,s,l,u)=>{l("view",{},((e,t)=>{t&&r(e,"wx-video-control-title")}),((e,t,a)=>{a("view",{},((e,t)=>{t&&r(e,"wx-video-control-title-logo")}),(e=>{})),a("view",{},((e,t)=>{t&&r(e,"wx-video-control-title-text")}),((e,t)=>{e||o||i._title?t(pe(n._title)):t()}))}));var c="ready"===n._status?1:0;u(c,((e,t,a)=>{1===c&&a("view",{},((e,t)=>{t&&r(e,"wx-video-control-like")}),((e,t,a)=>{a("view",{},((e,t)=>{(t||o||i._isFireIcon)&&r(e,"wx-video-control-like-"+pe(n._isFireIcon?"fire":"heart"))}),(e=>{})),a("view",{},((e,t)=>{t&&r(e,"wx-video-control-like-count")}),((e,t)=>{e||o||i._likeCount?t(pe(n._likeCount)):t()}))}))}));var d="playing"===n._status||"pause"===n._status||"stopped"===n._status?1:0;u(d,((t,s,l)=>{1===d&&l("view",{},((t,s)=>{(s||o||i._isMuted)&&r(t,"wx-video-mute-on "+pe(n._isMuted?"wx-video-mute-off":"")+" js-btn"),s&&e.v(t,"tap","_handleTapMuteBtn",!1,!1,!1,!1),s&&a(t,"role","button"),(s||o||i.ariaI18n||i._ariaLanguage)&&a(t,"aria-label",fe(n.ariaI18n)("mute",n._ariaLanguage))}),(e=>{}))}));var p="playing"===n._status||"pause"===n._status?1:0;u(p,((t,s,l)=>{1===p&&l("view",{},((t,s)=>{(s||o||i._status)&&r(t,pe("playing"===n._status?"wx-video-pause":"wx-video-play")+" js-btn"),s&&e.v(t,"tap","_handleTapControlButton",!1,!1,!1,!1),s&&a(t,"role","button"),(s||o||i._status||i.ariaI18n||i._ariaLanguage||i.ariaI18n||i._ariaLanguage)&&a(t,"aria-label","playing"===n._status?fe(n.ariaI18n)("pause",n._ariaLanguage):fe(n.ariaI18n)("play",n._ariaLanguage))}),(e=>{}))}))}))}));var v="banned"===n._status?1:0;u(v,((e,t,a)=>{1===v&&a("view",{},((e,t)=>{t&&r(e,"wx-video-cover wx-video-banned-cover")}),((e,t,r)=>{r("p",{},((e,t)=>{}),((e,t)=>{e||o||i.ariaI18n||i._ariaLanguage?t(pe(fe(n.ariaI18n)("banned",n._ariaLanguage))):t()}))}))}));var g="ready"!==n._status||n._playError||n._autoplay?0:1;u(g,((t,s,l)=>{1===g&&l("view",{},((t,a)=>{a&&r(t,"wx-video-cover"),(a||o||i._poster)&&e.y(t,n._poster?"background-color: unset":""),a&&e.v(t,"tap","_handleTapVideo",!1,!1,!1,!1)}),((e,t,s)=>{s("view",{},((e,t)=>{t&&r(e,"wx-video-cover-button wx-video-play"),t&&a(e,"role","button"),(t||o||i.ariaI18n||i._ariaLanguage)&&a(e,"aria-label",fe(n.ariaI18n)("play",n._ariaLanguage))}),(e=>{}))}))}));var m="stopped"!==n._status||n.loop?0:1;u(m,((t,s,l)=>{1===m&&l("view",{},((t,n)=>{n&&e.i(t,"centerPlayBtn"),n&&r(t,"wx-video-cover"),n&&e.y(t,"background: rgba(0, 0, 0, 0); pointer-events: none")}),((t,s,l)=>{l("view",{},((t,s)=>{s&&e.v(t,"tap","_handleTapControlButton",!1,!1,!1,!1),s&&r(t,"wx-video-cover-button wx-video-replay"),s&&a(t,"role","button"),(s||o||i.ariaI18n||i._ariaLanguage)&&a(t,"aria-label",fe(n.ariaI18n)("replay",n._ariaLanguage))}),(e=>{})),l("p",{},((e,t)=>{t&&r(e,"wx-video-cover-replay-note")}),((e,t)=>{e||o||i.ariaI18n||i._ariaLanguage?t(pe(fe(n.ariaI18n)("replay",n._ariaLanguage))):t()}))}))}))}}))}))},B:{}}},function(t){return e[t]}})()};var Nf={play:{zh:"播放",en:"Play"},replay:{zh:"重播",en:"Replay"},pause:{zh:"暂停",en:"Pause"},mute:{zh:"静音",en:"Mute"},loading:{zh:"加载中",en:"Loading"},banned:{zh:"无法展示该视频号动态",en:"This channel video cannot be displayed"}};function Df(e,t=!0){if(e===1/0)return"00:00";e=Math.floor(e);var n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),r=e-3600*n-60*i;return 0!==n&&t?`${n>=10?n:"0"+n}:${i>=10?i:"0"+i}:${r>=10?r:"0"+r}`:`${(i+=60*n)>=10?i:"0"+i}:${r>=10?r:"0"+r}`}var kf=1,Lf=2;function Mf(e,t,n,i=!1,r=!1){Reporter.reportKeyValue({key:"WxappChannelVideo",value:[e,t,n,window.__route__,+i,+r].join(",")})}var Bf,Ff=new WeakMap,Vf=g("channel-video").behavior(v.ZP).behavior(y.Z).template(Of).usingComponents({p:"view"}).data((function(){return{ariaI18n:function(e,t){return Nf[e][t]||""},interacted:!1,videoLinked:!1,videoPlayed:!1}})).init((function({method:e}){var t=new $,n=e((function(e){return t.promise.then(e)})),i=e(t.resolve),r=!1,a=[];return{onVideoAttached:n,handleAttached:i,onVideoLinked:e((function(e){r?e():a.push(e)})),handleVideoLinked:e((function(){r=!0,a.forEach((function(e){return e()})),a=[]})),handleVideoUnlinked:e((function(){r=!1}))}})).definition({properties:{autoplay:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},objectFit:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"contain",public:!0},muted:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},loop:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},play:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"_playChanged"},resumeOnBack:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},displayStyle:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"",public:!0},finderUserName:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"_feedIdChanged"},feedId:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"_feedIdChanged"},feedIdList:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Array,value:[],public:!0},feedToken:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"_feedIdChanged"},_status:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"initial"},_autoplay:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1},_title:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""},_src:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""},_likeCount:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Number,value:0},_isFireIcon:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Number,value:0},_poster:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""},_isMuted:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1},_showLoading:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1},_playError:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1},_ariaLanguage:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"zh"},_currentTime:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Number,value:0},_position:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""},_imageMode:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"aspectFit"}},created:function(){var e=this;this.onPageEventAuto("onNavigateBackFromChannelsActivity",(function(t){return e.onNavigateBackFromChannelsActivity(t)})),this._onVideoTimeUpdateEvent=this._handleVideoUpdate.bind(this),h.Z.on("onVideoTimeUpdate",this._onVideoTimeUpdateEvent),this.onVideoLinked((function(){e.triggerEvent("linked",{})}))},detached:function(){h.Z.off("onVideoTimeUpdate",this._onVideoTimeUpdateEvent)},attached:function(){var e=this;this._attached=!0,this._isMuted=this.muted,wx.getSystemInfo({complete:function(t){-1!==t.language.indexOf("zh")?e._ariaLanguage="zh":e._ariaLanguage="en"}}),"cover"===this.objectFit?this.setData({_imageMode:"aspectFill"}):"fill"===this.objectFit&&this.setData({_imageMode:"scaleToFill"}),this._feedIdChanged()},methods:{_playChanged:function(){var e=s()((function*(e){var t=this;e?(yield this._interactVideo())&&["ready","pause","stopped"].includes(this._status)&&(t.$.video.play(),t._handleVideoPlay(),setTimeout((function(){return t.setData({videoPlayed:!0})}),300)):("playing"===this._status&&(t.$.video.pause(),t._handleVideoPause()),this._uninteractVideo())}));return function(t){return e.apply(this,arguments)}}(),_feedIdChanged:function(){var e=s()((function*(){var e=this;if(this._attached){var t=this.finderUserName,n=this.feedId,i=this.feedToken;try{var r=yield new Promise((function(r,a){var o={finder_username:t};n?o.export_id=n:i&&(o.token=i),wx.operateWXData("webapi_getwxafindercomponentinfo",{...o,success:function(t){Ff.set(e,t.export_id),r({nickname:t.nickname,url:t.url,likeCount:t.like_count,isFireIcon:t.is_fire_icon,coverUrl:t.cover_url,nonceId:t.nonce_id,isBanned:t.is_banned,banReason:t.ban_reason,passContractorCheck:t.pass_contractor_check})},fail:function(e){JSON.stringify(e.errMsg),JSON.stringify(e.err_code),"1416103"===e.err_code&&(0,C.Dv)("channel-video","小程序和视频号主体不同，无法播放。"),a(new Error(e.errMsg+e.err_code))}},"channel-video","",!0)}));if(this._lastChannelInfo=r,t!==this.finderUserName||n!==this.feedId||i!==this.feedToken)return;if(r.isBanned)throw new Error(`banned (${r.banReason||"unknown"})`);var a=this.autoplay&&r.passContractorCheck;this.setData({_autoplay:a,_status:a?"playing":"ready",_src:r.url,_poster:r.coverUrl,_playError:!1,_showLoading:!1,_title:r.nickname,_likeCount:r.likeCount,_isFireIcon:r.isFireIcon,videoLinked:!1}),this._nonceId=r.nonceId,Mf(kf,this.finderUserName,this.feedId,this._autoplay,r.passContractorCheck)}catch(e){this.setData({_status:"banned",_src:"",_poster:"",videoLinked:!1}),this._lastChannelInfo=null,this.triggerEvent("error",{errMsg:e.message})}}}));return function(){return e.apply(this,arguments)}}(),_interactVideo:function(){var e=this;return new Promise((function(t){if(e.data.videoLinked)return t(!0);e.setData({interacted:!0}),e.onVideoLinked((function(){e.setData({videoLinked:!0}),e.$.video.seek(e._currentTime),t(!0)}))}))},_uninteractVideo:function(){this.setData({videoPlayed:!1})},_handleTapVideo:function(){var e,t,n,i,a=this;if(!this.data.interacted)return this.setData({interacted:!0}),void this.onVideoAttached((function(){return a._handleTapVideo()}));if(this.$.video&&"playing"===this._status&&(this.$.video.pause(),this._handleVideoPause()),r.gm)(0,C.Dv)("channel-video","开发者工具不支持点击跳转，请在真机中调试。");else{var o=(null===(e=this.$)||void 0===e||null===(t=e.video)||void 0===t?void 0:t._rawCurrentTime)||0;Bf=this;var s=this.feedId||Ff.get(this),l={};if(null!==(n=this.feedIdList)&&void 0!==n&&n.length){var u=this.feedIdList.map((function(e){return{export_id:e}})),c=JSON.stringify({item_list:u});Object.assign(l,{sessionId:c,requestScene:44,notGetReleatedList:0})}wx.openChannelsActivity({feedId:s,nonceId:this._nonceId,currentTime:o,notifyOnBack:this.resumeOnBack||this._autoplay,...l,fail:function(e){/:ok/.test(e.errMsg)||e.errMsg}});var d=null===(i=this._lastChannelInfo)||void 0===i?void 0:i.passContractorCheck;Mf(Lf,this.finderUserName,this.feedId,this._autoplay,d)}},_handleTapControlButton:function(){"playing"===this._status?(this.$.video.pause(),this._handleVideoPause()):(this.$.video.play(),this._handleVideoPlay())},_handleTapMuteBtn:function(){this._isMuted=!this._isMuted},_handleVideoEnded:function(){this.loop||(this._status="stopped")},_handleVideoUpdate:function(e){var t=this;this.$.video&&(this.$.video.viewId===e.viewId&&(this._currentTime=e.position,this._position=Df(Math.round(e.duration-e.position)),"00:01"===this._position&&setTimeout((function(){t._currentTime=0,t._position=Df(Math.round(e.duration))}),1200)))},_handleVideoPlay:function(){this._status="playing"},_handleVideoPause:function(){this._status="pause"},onNavigateBackFromChannelsActivity:function(e){if(this.resumeOnBack||this._autoplay){var t=e.feedId||e.feedID||e.token,n=this.feedId||Ff.get(this)||this.feedToken;if((r.cj||t===n)&&Bf===this){var{currentTime:i,isPause:a}=e,o=this.$.video;o.seek(i),a||(o.play(),this._handleVideoPlay())}}}}}).registerComponent();const Wf=Vf,Uf={content:(()=>{var e={};return e[""]={}[""]=(e,t,n,i)=>{var r=e.c,a=(e.m,e.r),o={videoPlayed:new Array(2)},s=!0===i;return{C:(t,l,u)=>{u("view",{},((t,n)=>{n&&e.i(t,"wrapper"),n&&r(t,"wx-video-container")}),((t,l,u,c)=>{var d=n.interacted?1:0;c(d,((t,o,l)=>{1===d&&l("video",{},((t,o)=>{o&&e.i(t,"video"),o&&r(t,"video"),(o||s||i._src)&&a(t,"src",n._src),(o||s||i._poster)&&a(t,"poster",n._poster),(o||s||i.loop)&&a(t,"loop",n.loop),(o||s||i._autoplay)&&a(t,"autoplay",n._autoplay),(o||s||i._isMuted)&&a(t,"muted",n._isMuted),(o||s||i.objectFit)&&a(t,"object-fit",n.objectFit),(o||s)&&a(t,"controls",!1),(o||s)&&a(t,"enableProgressGesture",!1),(o||s)&&a(t,"showCenterPlayBtn",!1),(o||s)&&a(t,"showProgress",!1),(o||s)&&a(t,"showBottomProgress",!1),o&&e.r(t,"bindloadedmetadata","handleVideoLinked"),o&&e.v(t,"innerVideoDetached","handleVideoUnlinked",!1,!1,!1,!1),o&&e.r(t,"bindtap","_handleTapVideo"),o&&e.r(t,"bindended","_handleVideoEnded")}),(e=>{}))})),u("image",{},((t,l)=>{(l||s||i._poster||i.videoPlayed)&&r(t,"wx-video-poster "+pe(n._poster&&!n.videoPlayed?"":"hide")),o.videoPlayed[0]=(e,n,i)=>{r(t,"wx-video-poster "+pe(e._poster&&!e.videoPlayed?"":"hide"))},(l||s||i._poster)&&a(t,"src",n._poster),l&&a(t,"mode","aspectFill"),l&&e.r(t,"bindtap","_handleTapVideo")}),(e=>{})),u("view",{},((e,t)=>{(t||s||i.videoPlayed||i._status)&&r(e,"wx-video-icon "+pe(n.videoPlayed&&"playing"===n._status?"hide":"")),o.videoPlayed[1]=(t,n,i)=>{r(e,"wx-video-icon "+pe(t.videoPlayed&&"playing"===t._status?"hide":""))}}),(e=>{}));var p="playing"===n._status?1:0;c(p,((t,o,l)=>{1===p&&l("view",{},((t,n)=>{n&&r(t,"wx-video-mute-wrapper"),n&&e.r(t,"catchtap","_handleTapMuteBtn"),(n||s)&&a(t,"hover-stop-propagation",!0)}),((e,t,o)=>{o("view",{},((e,t)=>{(t||s||i._isMuted)&&r(e,"wx-video-mute wx-video-mute-on "+pe(n._isMuted?"wx-video-mute-off":"")+" js-btn"),t&&a(e,"role","button"),(t||s||i.ariaI18n||i._ariaLanguage)&&a(e,"aria-label",fe(n.ariaI18n)("mute",n._ariaLanguage))}),(e=>{}))}))}));var h=n._position?1:0;c(h,((e,t,a)=>{1===h&&a("view",{},((e,t)=>{t&&r(e,"wx-video-control-duration")}),((e,t)=>{e||s||i._position?t(pe(n._position)):t()}))}));var f=n._likeCount?1:0;c(f,((e,t,a)=>{1===f&&a("view",{},((e,t)=>{t&&r(e,"wx-video-control-like-area")}),((e,t,a)=>{a("view",{},((e,t)=>{t&&r(e,"wx-video-control-like-icon")}),(e=>{})),a("view",{},((e,t)=>{t&&r(e,"wx-video-control-like-count")}),((e,t)=>{e||s||i._likeCount?t(pe(n._likeCount)):t()}))}))}))}))},B:o}},function(t){return e[t]}})()};var $f=["wx4e5da2583ced2054","wx6d5a6c4a1cdd4e8a"],Gf={play:{zh:"播放",en:"Play"},replay:{zh:"重播",en:"Replay"},pause:{zh:"暂停",en:"Pause"},mute:{zh:"静音",en:"Mute"},loading:{zh:"加载中",en:"Loading"},banned:{zh:"无法展示该视频号动态",en:"This channel video cannot be displayed"}};function Zf(e,t=!0){if(e===1/0)return"00:00";e=Math.floor(e);var n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),r=e-3600*n-60*i;return 0!==n&&t?`${n>=10?n:"0"+n}:${i>=10?i:"0"+i}:${r>=10?r:"0"+r}`:`${(i+=60*n)>=10?i:"0"+i}:${r>=10?r:"0"+r}`}var Hf=1,zf=2;function jf(e,t,n,i=!1,r=!1){Reporter.reportKeyValue({key:"WxappChannelVideo",value:[e,t,n,window.__route__,+i,+r].join(",")})}var Yf,Kf=new WeakMap,Xf=g("channel-video-pro").behavior(v.ZP).behavior(y.Z).template(Uf).usingComponents({p:"view"}).data((function(){return{ariaI18n:function(e,t){return Gf[e][t]||""},interacted:!1,videoLinked:!1,videoPlayed:!1}})).init((function({self:e,method:t}){var n=!1,i=[];return{onVideoLinked:t((function(e){n?e():i.push(e)})),handleVideoLinked:t((function(){n=!0,i.forEach((function(e){return e()})),i=[]})),handleVideoUnlinked:t((function(){n=!1}))}})).definition({properties:{autoplay:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},objectFit:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"contain",public:!0},muted:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"_mutedChanged"},loop:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0},setplay:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"_setplayChanged"},tapped:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1,public:!0,observer:"_tappedChanged"},finderUserName:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"_feedIdChanged"},feedId:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"_feedIdChanged"},feedIdList:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Array,value:[],public:!0},feedToken:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"",public:!0,observer:"_feedIdChanged"},_status:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"initial"},_autoplay:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1},_title:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""},_src:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""},_likeCount:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Number,value:0},_isFireIcon:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Number,value:0},_poster:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""},_isMuted:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1},_showLoading:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1},_playError:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Boolean,value:!1},_ariaLanguage:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"zh"},_currentTime:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Number,value:0},_position:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""}},created:function(){var e,t,n=this;if(!$f.includes(null===(e=__wxConfig)||void 0===e||null===(t=e.accountInfo)||void 0===t?void 0:t.appId))throw new Error("invalid appid used by channel-video-pro");this.onPageEventAuto("onNavigateBackFromChannelsActivity",(function(e){return n.onNavigateBackFromChannelsActivity(e)})),this._onVideoTimeUpdateEvent=this._handleVideoUpdate.bind(this),h.Z.on("onVideoTimeUpdate",this._onVideoTimeUpdateEvent),this.onVideoLinked((function(){n.triggerEvent("videolinked",{})}))},detached:function(){h.Z.off("onVideoTimeUpdate",this._onVideoTimeUpdateEvent)},attached:function(){var e=this;this._timer=null,this._attached=!0,this._isMuted=this.muted,wx.getSystemInfo({complete:function(t){-1!==t.language.indexOf("zh")?e._ariaLanguage="zh":e._ariaLanguage="en"}}),this._feedIdChanged()},methods:{_setplayChanged:function(){var e=s()((function*(e){var t=this;e?(yield this._interactVideo(),this._timer&&clearTimeout(this._timer),this._status,["ready","pause","stopped"].includes(this._status)&&(t.$.video.play(),t._handleVideoPlay(),setTimeout((function(){return t.setData({videoPlayed:!0})}),300))):("playing"===this._status&&(t.$.video.pause(),t._handleVideoPause()),this._uninteractVideo())}));return function(t){return e.apply(this,arguments)}}(),_tappedChanged:function(e){e&&this._handleTapVideo()},_feedIdChanged:function(){var e=s()((function*(){var e=this;if(this._attached){var t=this.finderUserName,n=this.feedId,i=this.feedToken;try{var r=yield new Promise((function(r,a){var o={finder_username:t};n?o.export_id=n:i&&(o.token=i),wx.operateWXData("webapi_getwxafindercomponentinfo",{...o,success:function(t){Kf.set(e,t.export_id),r({nickname:t.nickname,url:t.url,likeCount:t.like_count,isFireIcon:t.is_fire_icon,coverUrl:t.cover_url,nonceId:t.nonce_id,isBanned:t.is_banned,banReason:t.ban_reason,passContractorCheck:t.pass_contractor_check})},fail:function(e){JSON.stringify(e.errMsg),JSON.stringify(e.err_code),"1416103"===e.err_code&&(0,C.Dv)("channel-video","小程序和视频号主体不同，无法播放。"),a(new Error(e.errMsg+e.err_code))}})}));if(this._lastChannelInfo=r,t!==this.finderUserName||n!==this.feedId||i!==this.feedToken)return;if(r.isBanned)throw new Error(`banned (${r.banReason||"unknown"})`);var a=this.autoplay&&r.passContractorCheck;this.setData({_autoplay:a,_status:a?"playing":"ready",_src:r.url,_poster:r.coverUrl,_playError:!1,_showLoading:!1,_title:r.nickname,_likeCount:r.likeCount,_isFireIcon:r.isFireIcon}),this._nonceId=r.nonceId,jf(Hf,this.finderUserName,this.feedId,this._autoplay,r.passContractorCheck)}catch(e){this.setData({_status:"banned",_src:"",_poster:""}),this._lastChannelInfo=null,this.triggerEvent("error",{errMsg:e.message})}}}));return function(){return e.apply(this,arguments)}}(),_interactVideo:function(){var e=this;return new Promise((function(t){if(e.data.videoLinked)return t("");e.data.interacted||(e.setData({interacted:!0}),e.onVideoLinked((function(){e.setData({videoLinked:!0}),e.$.video.seek(e._currentTime),t("")})))}))},_uninteractVideo:function(){var e=this;this.setData({videoPlayed:!1}),setTimeout((function(){e.setData({interacted:!1,videoLinked:!1})}),500)},_handleTapVideo:function(){var e,t,n,i;this.$.video&&"playing"===this._status&&(this.$.video.pause(),this._handleVideoPause());var r=(null===(e=this.$)||void 0===e||null===(t=e.video)||void 0===t?void 0:t._rawCurrentTime)||0;Yf=this;var a=this.feedId||Kf.get(this),o={};if(null!==(n=this.feedIdList)&&void 0!==n&&n.length){var s=this.feedIdList.map((function(e){return{export_id:e}})),l=JSON.stringify({item_list:s});Object.assign(o,{sessionId:l,requestScene:44,notGetReleatedList:0})}wx.openChannelsActivity({feedId:a,nonceId:this._nonceId,currentTime:r,notifyOnBack:!0,...o,fail:function(e){/:ok/.test(e.errMsg)||e.errMsg}});var u=null===(i=this._lastChannelInfo)||void 0===i?void 0:i.passContractorCheck;jf(zf,this.finderUserName,this.feedId,this._autoplay,u)},_handleTapControlButton:function(){"playing"===this._status?(this.$.video.pause(),this._handleVideoPause()):(this.$.video.play(),this._handleVideoPlay())},_handleTapMuteBtn:function(){this._isMuted=!this._isMuted},_handleVideoEnded:function(){this.loop||(this._status="stopped")},_handleVideoUpdate:function(e){var t=this;this.$.video&&(this.$.video.viewId===e.viewId&&(this._currentTime=e.position,this._position=Zf(Math.round(e.duration-e.position)),"00:01"===this._position&&setTimeout((function(){t._position=Zf(Math.round(e.duration))}),1200)))},_handleVideoLoaded:function(e){this._position=Zf(Math.round(e.detail.duration))},_handleVideoPlay:function(){this._status="playing"},_handleVideoPause:function(){this._status="pause"},_handleVideoStop:function(){this._status="stopped"},onNavigateBackFromChannelsActivity:function(e){var t=e.feedId||e.feedID||e.token,n=this.feedId||Kf.get(this)||this.feedToken;if((r.cj||t===n)&&Yf===this){var{currentTime:i,isPause:a}=e,o=this.$.video;o.seek(i),a||(o.play(),this._handleVideoPlay())}}}}).registerComponent();const qf=Xf,Jf={content:(()=>{var e={};return e[""]={}[""]=(e,t,n,i)=>{var r=e.c,a=(e.m,e.r,!0===i);return{C:(t,o,s,l)=>{var u=0!==n._displayType?1:0;l(u,((t,o,s)=>{1===u&&s("view",{},((t,o)=>{o&&r(t,"wx-channel-live"),(o||a||i.radius)&&e.y(t,"border-radius: "+pe(n.radius)+"px"),o&&e.v(t,"tap","_handleTap",!1,!1,!1,!1)}),((t,o,s,l)=>{s("view",{},((e,t)=>{t&&r(e,"cover-wrap")}),((t,o,s)=>{s("view",{},((t,o)=>{(o||a||i._displayType||i._displayType)&&r(t,"cover "+pe(2===n._displayType||3===n._displayType?"streamed":"")),(o||a||i._coverUrl)&&e.y(t,"background-image: url("+pe(n._coverUrl)+")")}),(e=>{}))}));var u=1===n._displayType?1:0;l(u,((e,t,o)=>{1===u&&o("view",{},((e,t)=>{t&&r(e,"prompt streaming")}),((e,t,o)=>{o("view",{},((e,t)=>{t&&r(e,"text")}),((e,t)=>{e||a||i.ariaI18n||i._ariaLanguage?t(pe(fe(n.ariaI18n)("promptStreaming",n._ariaLanguage))):t()}))}))}));var c=2===n._displayType?1:0;l(c,((e,t,o)=>{1===c&&o("view",{},((e,t)=>{t&&r(e,"prompt streamed")}),((e,t,o)=>{o("view",{},((e,t)=>{t&&r(e,"text")}),((e,t)=>{e||a||i.ariaI18n||i._ariaLanguage?t(pe(fe(n.ariaI18n)("promptStreamed",n._ariaLanguage))):t()}))}))}));var d=3===n._displayType?1:0;l(d,((e,t,o)=>{1===d&&o("view",{},((e,t)=>{t&&r(e,"prompt streamed")}),((e,t,o)=>{o("view",{},((e,t)=>{t&&r(e,"text")}),((e,t)=>{e||a||i.ariaI18n||i._ariaLanguage?t(pe(fe(n.ariaI18n)("promptPlaybackNotReady",n._ariaLanguage))):t()}))}))}));var p=4===n._displayType?1:0;l(p,((e,t,o)=>{1===p&&o("view",{},((e,t)=>{t&&r(e,"prompt streaming")}),((e,t,o)=>{o("view",{},((e,t)=>{t&&r(e,"text")}),((e,t)=>{e||a||i.ariaI18n||i._ariaLanguage?t(pe(fe(n.ariaI18n)("promptPlaybackReady",n._ariaLanguage))):t()}))}))})),s("view",{},((e,t)=>{t&&r(e,"title-mask")}),(e=>{})),s("view",{},((e,t)=>{t&&r(e,"title")}),((e,t)=>{e||a||i._nickname?t(pe(n._nickname)):t()}))}))}))},B:{}}},function(t){return e[t]}})()};var Qf={promptStreaming:{zh:"直播中",en:"Streaming"},promptPlaybackReady:{zh:"直播回放",en:"Playback"},promptStreamed:{zh:"直播已结束",en:"Streamed"},promptPlaybackNotReady:{zh:"直播回放生成中",en:"Generating Playback"},banned:{zh:"无法展示该视频号动态",en:"This channel video cannot be displayed"}},e_=function(){var e=s()((function*({finderUserName:e,feedId:t}){var n=yield new Promise((function(n,i){wx.operateWXData("webapi_getwxafinderlivecomponentinfo",{finder_username:e,export_id:t,success:n,fail:function(e){JSON.stringify(e.errMsg),JSON.stringify(e.err_code),"1416103"===e.err_code&&(0,C.Dv)("channel-live","小程序和视频号主体不同，无法显示组件。"),i(new Error(e.errMsg+e.err_code))}},"channel-live","",!1)}));if(!n)return null;var i=0;if(2===n.status)i=1;else if(3===n.status)switch(n.replay_status){case 0:case 6:i=2;break;case 3:i=3;break;case 1:i=4}return{displayType:i,coverUrl:n.cover_url||n.thumb_url||n.head_url,nickname:n.nickname,isBanned:n.is_banned}}));return function(t){return e.apply(this,arguments)}}(),t_=g("channel-live").template(Jf).behavior(v.ZP).behavior(y.Z).behavior(I.N).data((function(){return{ariaI18n:function(e,t){return Qf[e][t]||""}}})).definition({properties:{finderUserName:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"",observer:"_finderUserNameChanged"},feedId:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"",observer:"_feedIdChanged"},radius:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Number,value:4},_nickname:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""},_displayType:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Number,value:0},_coverUrl:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:""},_ariaLanguage:{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"zh"}},attached:function(){var e=this;this._attached=!0,this._isMuted=this.muted,wx.getSystemInfo({complete:function(t){var n=t.language;e.setData({_ariaLanguage:n.includes("zh")?"zh":"en"})}}),this._update()},methods:{_finderUserNameChanged:function(){var e=s()((function*(e){this._update({finderUserName:e})}));return function(t){return e.apply(this,arguments)}}(),_feedIdChanged:function(){var e=s()((function*(e){this._update({feedId:e})}));return function(t){return e.apply(this,arguments)}}(),_update:function(){var e=s()((function*({finderUserName:e,feedId:t}={}){if(this._attached){var n={finderUserName:null!=e?e:this.data.finderUserName,feedId:null!=t?t:this.data.feedId};if(n.finderUserName||n.feedId)try{var i=yield e_(n);if(!i)return;if(i.isBanned)throw new Error("channel-live 直播被封禁");var r={_displayType:i.displayType,_nickname:i.nickname,_coverUrl:i.coverUrl};this.setData(r)}catch(e){this.triggerEvent("error",{errMsg:e.message})}}}));return function(){return e.apply(this,arguments)}}(),_handleTap:function(){var e=this.data.feedId,t=this.data.finderUserName,n=2;"release"===__wxConfig.envVersion&&(n=1),"trial"===__wxConfig.envVersion&&(n=3);var i={finderUserName:t,feedId:e,sceneNote:{scene:7,appid:__wxConfig.accountInfo.appId,version_type:n}};wx.openChannelsLive({...i,fail:function(e){return wxConsole.error("openChannelsLive failed",e)}})}}}).registerComponent();const n_=t_;const i_=g("web-view").behavior(v.ZP).behavior(y.Z).definition({created:function(){(0,C.Dv)("web-view",'Skyline 渲染引擎暂不支持 web-view 组件，建议切到 WebView 渲染模式使用（即页面 JSON 中设置 "renderer": "webview"）')}}).registerComponent();var r_={animated:!0,duration:300,easingFunction:"ease"},a_="draggable-sheet",o_=g(a_).options({hostNodeTagName:a_,reflectToAttributes:!1}).behavior(v.ZP).behavior(ve.Z).behavior(E.Z).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c;e.m,e.r;return{C:function(e,t,n){n("view",{},(function(e,t){t&&r(e,"wx-child-container")}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:{}}},function(t){return e[t]}}()},properties:{initialChildSize:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:.5,observer:function(e){null!==this.$$&&this.$$.setAttributes({initialChildSize:e})},public:!0},minChildSize:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:.25,observer:function(e){null!==this.$$&&this.$$.setAttributes({minChildSize:e})},public:!0},maxChildSize:{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:1,observer:function(e){null!==this.$$&&this.$$.setAttributes({maxChildSize:e})},public:!0},expand:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0,observer:function(e){null!==this.$$&&this.$$.setAttributes({expand:e})},public:!0},snap:{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,observer:function(e){null!==this.$$&&this.$$.setAttributes({snap:e})},public:!0},snapSizes:{type:i.Z.glassEasel.NormalizedPropertyType.Array,value:!1,observer:function(e,t){var n,i;(i=t=t||[],(n=e).length===i.length&&n.every((function(e,t){return e===i[t]})))||null!==this.$$&&this.$$.setAttributes({snapSizes:e})},public:!0}},lifetimes:{attached:function(){this.bindScrollEvent()}},methods:{bindScrollEvent:function(){var e=s()((function*(){var e=this.getWorkletDirective("onsizeupdate");if(e){var t=yield this.obtainWorkletFunc(e);(0,b.mf)(t)?this.addWorkletEventHandler("onsizeupdate",t,this.identifier()):(0,C.yD)("draggable-sheet",`the handler(${e} to worklet:onsizeupdate must declare worklet directive)`)}}));return function(){return e.apply(this,arguments)}}(),scrollTo:function(e){var t=Object.assign({},r_,e);this.$$.scrollTo(t)},identifier:function(){return this.$$.viewTag},getContextId:function(){}}}).registerComponent();const s_=o_;var l_="open-container",u_=g(l_).options({hostNodeTagName:l_,reflectToAttributes:!0}).behavior(v.ZP).behavior(y.Z).behavior(ve.Z).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){e.c,e.m,e.r;return{C:function(t,n,i){i("view",{},(function(t,n){n&&e.y(t,"width: 100%; height: 100%;")}),(function(e,t,n,i,r,a){e?a(""):a()}))},B:{}}},function(t){return e[t]}}()},properties:{closedColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:"white",observer:function(e){null!==this.$$&&this.$$.setAttributes({closedColor:e})}},openColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:"white",observer:function(e){null!==this.$$&&this.$$.setAttributes({openColor:e})}},middleColor:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:"",observer:function(e){null!==this.$$&&this.$$.setAttributes({middleColor:e})}},closedElevation:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:0,observer:function(e){null!==this.$$&&this.$$.setAttributes({closedElevation:e})}},openElevation:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:0,observer:function(e){null!==this.$$&&this.$$.setAttributes({openElevation:e})}},closedBorderRadius:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:0,observer:function(e){null!==this.$$&&this.$$.setAttributes({closedBorderRadius:e})}},openBorderRadius:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:0,observer:function(e){null!==this.$$&&this.$$.setAttributes({openBorderRadius:e})}},transitionDuration:{type:i.Z.glassEasel.NormalizedPropertyType.Number,public:!0,value:300,observer:function(e){null!==this.$$&&this.$$.setAttributes({transitionDuration:e})}},transitionType:{type:i.Z.glassEasel.NormalizedPropertyType.String,public:!0,value:"fade",observer:function(e){null!==this.$$&&this.$$.setAttributes({transitionType:e})}}}}).registerComponent();const c_=u_,d_={content:(()=>{var e={};return e[""]={}[""]=(e,t,n,i)=>{e.c,e.m;var r=e.r,a={type:new Array(2),isAndroid:new Array(1),extraDataJSON:new Array(1)},o=!0===i;return{C:(t,s,l)=>{l("texture",{},((t,s)=>{s&&e.i(t,"texture"),s&&e.y(t,"position: absolute; top: 0; left: 0; width: 100%; height: 100%"),(s||o||i.isAndroid||i.type)&&r(t,"type",n.isAndroid?"nativeView":n.type),a.isAndroid[0]=a.type[0]=(e,n,i)=>{r(t,"type",e.isAndroid?"nativeView":e.type),n(t)},(s||o||i.type)&&r(t,"nativeViewType",n.type),a.type[1]=(e,n,i)=>{r(t,"nativeViewType",e.type),n(t)},s&&r(t,"role","application"),(s||o||i.extraDataJSON)&&r(t,"extraData",n.extraDataJSON),a.extraDataJSON[0]=(e,n,i)=>{r(t,"extraData",e.extraDataJSON),n(t)}}),(e=>{}))},B:a}},function(t){return e[t]}})()};var p_="onNativeViewEvent";__wxConfig.onReady((function(){(0,r.yc)()&&(0,Ft.L)(p_,(function(e,t){h.Q.trigger(t,p_,e),wxNativeConsole.warn("[helios] pageEvent "+t+" "+p_)}))}));var h_=g("native-view").template(d_).behavior(v.ZP).behavior(He.Z).behavior(A.Z).staticData({isAndroid:r.wZ,extraDataJSON:"{}"}).property("extraData",{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.Object,value:{}}).property("bizType",{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"FinderLive"}).property("type",{type:f.RuntimeCore.glassEasel.NormalizedPropertyType.String,value:"FinderLive"}).init((function({method:e,data:t,self:n,lifetime:i,observer:a}){if((0,r.yc)()){var o=(0,Qp.Z)();i("created",(function(){return n.$.texture.$$.setAttributes({viewId:o})}));var s=e((function(e){var i=t.bizType||t.type,r={...t.extraData,viewId:o,position:e,bizType:i,nativeViewType:i,parentId:0};n.insertNativeView("insertNativeView",r,(function(e){/:ok/.test(e.errMsg)||n.triggerEvent("error",e),n.is}))})),l=e((function(e,t){var i={...e,viewId:o};n._isNativeReady()?n.updateNativeView("updateNativeView",i,t):n._delay(l,i,t)}));i("attached",(function(){n.onPageEventAuto(p_,(function(e){if(e.viewId===o){var t=Object.assign({},e);delete t.viewId,delete t.event,n.triggerEvent(e.event,t)}}))})),i("detached",(function(){return n.removeNativeView("removeNativeView",{viewId:o})})),a("extraData",(function(e){if(e&&"object"==typeof e){l(e,console.warn);try{n.setData({extraDataJSON:JSON.stringify(e)})}catch(e){}}}));var u=e((function(){return o})),c=e((function(e,t){var n={data:t,type:e};return new Promise((function(e,t){l(n,(function(n){return/:ok/.test(n.errMsg)?e(n):t(n)}))}))}));return{updateNativeViewParams:l,operateNativeView:c,getContextId:u,getNodeId:u,_initNativeView:s}}(0,C.Dv)("native-view","not supported")})).registerComponent(),f_=n(7475),__=function(e){return{enter:`weui-${e}-enter weui-${e}-enter-active`,"enter-to":`weui-${e}-enter-to weui-${e}-enter-active`,leave:`weui-${e}-leave weui-${e}-leave-active`,"leave-to":`weui-${e}-leave-to weui-${e}-leave-active`}},v_=null,g_=g("page-container").behavior(v.ZP).options({externalComponent:!1}).property("show",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1,observer:"observerShow"}).property("duration",{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:300}).property("zIndex",{type:i.Z.glassEasel.NormalizedPropertyType.Number,value:100}).property("overlay",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!0}).property("position",{type:i.Z.glassEasel.NormalizedPropertyType.String,value:"bottom"}).property("round",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1}).property("overlayStyle",{type:i.Z.glassEasel.NormalizedPropertyType.String}).property("customStyle",{type:i.Z.glassEasel.NormalizedPropertyType.String}).property("closeOnSlideDown",{type:i.Z.glassEasel.NormalizedPropertyType.Boolean,value:!1}).staticData({inited:!1,display:!1,overlayClass:"",popupClass:"",status:"",exceeded:!1,transitionEnded:!0}).definition({template:{content:function(){var e={};return e[""]={}[""]=function(e,t,n,i){var r=e.c,a=(e.m,e.r,!0===i);return{C:function(t,o,s,l){var u=n.inited?1:0;l(u,(function(t,o,s){1===u&&s("view",{},(function(t,r){(r||a||i.display)&&e.y(t,pe(n.display?"":"display: none;")+";")}),(function(t,o,s,l){var u=n.overlay?1:0;l(u,(function(t,o,s){1===u&&s("view",{},(function(t,o){(o||a||i.overlayClass)&&r(t,"weui-overlay "+pe(n.overlayClass)),(o||a||i.duration||i.zIndex||i.overlayStyle)&&e.y(t,"transition-duration: "+pe(n.duration)+"ms; z-index: "+pe(n.zIndex)+"; "+pe(n.overlayStyle)),o&&e.v(t,"tap","onClickOverlay",!1,!1,!1,!1)}),(function(e){}))})),s("view",{},(function(t,o){o&&e.i(t,"content"),(o||a||i.popupClass||i.position||i.round)&&r(t,"weui-popup "+pe(n.popupClass)+" weui-popup--"+pe(n.position)+" "+pe(n.round?"weui-popup--round":"")),(o||a||i.duration||i.zIndex||i.customStyle)&&e.y(t,"transition-duration: "+pe(n.duration)+"ms; z-index: "+pe(n.zIndex+1)+"; "+pe(n.customStyle)+";"),o&&e.v(t,"transitionend","onTransitionEnd",!1,!1,!1,!1)}),(function(e,t,n,i,r,a){e?a(""):a()}))}))}))},B:{}}},function(t){return e[t]}}()},attached:function(){v_?(this.data.exceeded=!0,(0,C.Dv)("page-container","Only one instance can exist.")):v_=this},detached:function(){v_===this&&(v_=null,this.stopNavigateBackInterception())},methods:{setNavigateBackInterception:function(){var e=this;wxNativeConsole.info("[Skyline.Critical] page-container setNavigateBackInterception");var t=function(){wxNativeConsole.info("[Skyline.Critical] page-container navigateBackIntercept trigger"),e.data.show&&e.setData({show:!1})},n=this.getPageId();this._navigateBackHandler=wx.setNavigateBackInterception(t,void 0,n),this._navigateBackHandler_skyline=(0,f_.vJ)(t,void 0,n)},stopNavigateBackInterception:function(){wxNativeConsole.info("[Skyline.Critical] page-container stopNavigateBackInterception"),this._navigateBackHandler&&(wx.stopNavigateBackInterception(this._navigateBackHandler),this._navigateBackHandler=null),this._navigateBackHandler_skyline&&((0,f_.J_)(this.getPageId(),this._navigateBackHandler_skyline),this._navigateBackHandler_skyline=null)},observerShow:function(e,t){this.data.exceeded||e!==t&&(e?this.enter():this.leave())},enter:function(){var e=this;this.setNavigateBackInterception(),this.data.status="enter",this.triggerEvent("beforeenter");var t=__("fade"),n=__(this.data.position);this.setData({inited:!0,display:!0,overlayClass:t.enter,popupClass:n.enter}),this.triggerEvent("enter"),this.data.transitionEnded=!1,setTimeout((function(){return e.onTransitionEnd()}),this.data.duration),setTimeout((function(){e.setData({overlayClass:t["enter-to"],popupClass:n["enter-to"]})}),16)},leave:function(){var e=this;if(this.data.display){this.stopNavigateBackInterception(),this.data.status="leave",this.triggerEvent("beforeleave");var t=__("fade"),n=__(this.data.position);this.setData({overlayClass:t.leave,popupClass:n.leave}),this.triggerEvent("leave"),this.data.transitionEnded=!1,setTimeout((function(){return e.onTransitionEnd()}),this.data.duration),this.setData({overlayClass:t["leave-to"],popupClass:n["leave-to"]})}},onClickOverlay:function(){this.triggerEvent("clickoverlay"),this.setData({show:!1})},onTransitionEnd:function(){this.data.transitionEnded||(this.data.transitionEnded=!0,this.triggerEvent(`after${this.data.status}`),!this.data.show&&this.data.display&&this.setData({display:!1}))}}}).registerComponent();const m_=g_,E_={content:(()=>{var e={};return e[""]={}[""]=(e,t,n,i)=>{var r=e.c,a=(e.m,e.r,!0===i);return{C:(t,o,s,l)=>{var u=n.show?1:0;l(u,((t,o,s)=>{1===u&&s("view",{},((t,n)=>{n&&r(t,"follow-_-component_follow"),n&&e.i(t,"main"),n&&e.v(t,"tap","tap",!1,!1,!1,!1),n&&e.y(t,"width: 100%; height: 84px; min-width: 300px")}),((t,o,s)=>{s("view",{},((e,t)=>{t&&r(e,"follow-_-component_follow_before")}),(e=>{})),s("view",{},((e,t)=>{t&&r(e,"follow-_-area")}),((t,o,s)=>{s("text",{},((e,t)=>{t&&r(e,"follow-_-desc")}),((e,t)=>{e||a||i.miniAppName?t(pe(pe(n.miniAppName)+"关联的公众号")):t()})),s("view",{},((e,t)=>{t&&r(e,"follow-_-content")}),((t,o,s)=>{s("view",{},((e,t)=>{t&&r(e,"follow-_-hd")}),((t,o,s)=>{s("view",{},((e,t)=>{t&&r(e,"follow-_-avatar_area")}),((t,o,s)=>{s("img",{},((t,o)=>{o&&r(t,"follow-_avatar-_-img_radius"),(o||a||i.avatarUrl)&&e.y(t,"background:url("+pe(n.avatarUrl)+") no-repeat center;")}),(e=>{}))})),s("view",{},((e,t)=>{t&&r(e,"follow-_-info_area")}),((e,t,o,s)=>{var l=n.nickname?1:0;s(l,((e,t,o)=>{1===l&&o("text",{},((e,t)=>{t&&r(e,"follow-_desc-_-title")}),((e,t)=>{e||a||i.nickname?t(pe(n.nickname)):t()}))}));var u=n.desc?1:0;s(u,((e,t,o)=>{1===u&&o("text",{},((e,t)=>{t&&r(e,"follow-_desc-_-desc")}),((e,t)=>{e||a||i.desc?t(pe(n.desc)):t()}))}))}))})),s("view",{},((e,t)=>{t&&r(e,"follow-_-ft")}),((t,o,s)=>{s("text",{},((t,n)=>{n&&r(t,"follow-_btn-_-btn"),n&&e.i(t,"button"),n&&e.v(t,"tap","tapBtn",!1,!1,!1,!1)}),((e,t)=>{e||a||i.buttonText?t(pe(n.buttonText)):t()}))}))}))}))}))}))},B:{}}},function(t){return e[t]}})()};var y_=0,T_=[1011,1017,1025,1047,1124],b_=[1001,1038,1041,1089,1090,1104,1131,1187],C_=g("official-account").template(E_).data((function(){return{miniAppName:"",nickname:"",avatarUrl:"",desc:"",buttonText:"关注",show:!1}})).behavior(v.ZP).methods({stopPropagation:function(e){e.stopPropagation()},getContactData:function(e){var t=this;wx.getContactInfo({data:{path:this.getCurrentRoute()},success:function(n){try{t._contactData=n.data;var i=Number(t._contactData.status);if(0===i)"function"==typeof e&&e();else{var r="";switch(i){case 1:r="小程序关注公众号功能被封禁";break;case 2:r="关联公众号被封禁";break;case 3:r="关联关系解除或未选中关联公众号";break;case 4:r="未开启关注公众号功能";break;default:r="其它原因"}t.triggerEvent("error",{errMsg:r,status:i})}}catch(e){Reporter.reportIDKey({key:"oaGetContactData_fail",force:!0}),t.triggerEvent("error",{errMsg:"数据解析错误",status:-1})}},fail:function(e){t.triggerEvent("error",{errMsg:"网络错误",status:-2})}})},openUrl:function(e){wx.invoke("private_openUrl",{url:e},(function(e){}))},addContact:function(e){var t=this;wx.invoke("private_addContact",{username:e,scene:150,webtype:1},(function(e){var n=7;/:added/.test(e.errMsg)?(n=8,t.setData({buttonText:"查看"}),t._contactData={...t._contactData,biz_info:{...t._contactData.biz_info,is_subscribed:1}}):/:ok/.test(e.errMsg)?(n=5,t.setData({buttonText:"查看"}),t._contactData={...t._contactData,biz_info:{...t._contactData.biz_info,is_subscribed:1}}):/:cancel/.test(e.errMsg)?n=6:Reporter.reportIDKey({key:"oaAddContact_fail",force:!0}),t.reportBehavior(n)}))},reportBehavior:function(e){var t={logid:15927,items:[{type:"string",value:window.__appId__},{type:"string",value:this._contactData.biz_info.user_name},{type:"string",value:this.getCurrentRoute()},{type:"uint64",value:String(this._contactData.biz_info.is_subscribed?2:1)},{type:"uint32",value:String(this._scene)},{type:"uint64",value:String(this._contactData.status)},{type:"uint64",value:String(e)}]};wx.getContactInfo({data:{action:"report",data:JSON.stringify(t)},fail:function(e){Reporter.reportIDKey({key:"oaReportBehavior_fail",force:!0})}})},viewContact:function(e){wx.invoke("profile",{username:e,scene:149},(function(e){}))},appEnterForeground:function(e){var t=this;this.getContactData((function(){t.setData({buttonText:t._contactData.biz_info.is_subscribed?"查看":"关注"});var n=e.scene;T_.indexOf(n)>=0||b_.indexOf(n)>=0&&T_.indexOf(t._launchScene)>=0?t.setData({show:!0}):(t.setData({show:!1}),t.triggerEvent("error",{errMsg:"场景值错误",status:5,scene:n})),t._launchScene}))},tapBtn:function(e){this.stopPropagation(e);var t=this._contactData.biz_info.user_name;this._contactData.biz_info.is_subscribed?(this.reportBehavior(4),this.viewContact(t)):(this.reportBehavior(3),this.addContact(t))},tap:function(){var e=this._contactData.biz_info.user_name;this.reportBehavior(2),this.viewContact(e)},hideInnerRequest:function(e){if(!r.gm||"string"!=typeof e)return e;if(/^https?:\/\//.test(e)){var t=e.split("?"),n=t[1]||"",i=n.length>0?"&":"";e=`${t[0]}?${n}${i}devtools_ignore=true`}return e},render:function(){this.setData({nickname:this._contactData.biz_info.nick_name,desc:this._contactData.biz_info.desc,buttonText:this._contactData.biz_info.is_subscribed?"查看":"关注",avatarUrl:this.hideInnerRequest(this._contactData.biz_info.head_img)});var e=this;wx.getEnterAppInfo({success:function(t){var n=t.scene;e._launchScene;var i=!1;(T_.indexOf(n)>=0||b_.indexOf(n)>=0&&T_.indexOf(e._launchScene)>=0)&&(i=!0),i?(e.setData({show:!0}),e.triggerEvent("load",{errMsg:"加载成功",status:0}),e.reportBehavior(1)):e.triggerEvent("error",{errMsg:"场景值错误",status:5,scene:n})}})}}).lifetime("attached",(function(){var e,t,n=this;0===y_?(y_++,this.setData({miniAppName:null===(e=__wxConfig.accountInfo)||void 0===e?void 0:e.nickname}),this._scene=0,this._launchScene=null===(t=__wxConfig.appLaunchInfo)||void 0===t?void 0:t.scene,this.getContactData((function(){n.render()})),wx.onAppEnterForeground(this.appEnterForeground)):this.triggerEvent("error",{errMsg:"创建多次",status:6})})).lifetime("detached",(function(){wx.offAppEnterForeground(this.appEnterForeground)})).definition({listeners:{tap:"stopPropagation",longtap:"stopPropagation",longpress:"stopPropagation",touchstart:"stopPropagation",touchmove:"stopPropagation",touchend:"stopPropagation"}}).registerComponent();const S_=C_;var A_=n(3763),I_={lifetimes:{created:function(){Object.assign(this,Et.Z.getMethods()),this.hoverClass="",this.hoverStopPropagation=!1,this.hoverStartTime=50,this.hoverStayTime=400,this._hoverClass=[]}},lifetimesFromBehaviors:[Et.Z],attributeFilters:{hoverClass:function(e,t,n){var i;e[t]=n,null===(i=e._hoverClassChange)||void 0===i||i.call(e,n)},hoverStopPropagation:function(e,t,n){var i;e[t]=n,null===(i=e._hoverStopChange)||void 0===i||i.call(e,n)},hoverStartTime:function(e,t,n){e[t]=n},hoverStayTime:function(e,t,n){e[t]=n}}},P_=!1,w_={lifetimes:{created:function(){var{getPluginId:e,invoke:t}=(0,v.wO)(this);this.getRealRoute=(0,v.sd)(this,e()),this.getPluginId=e,this.invoke=t}},attributeFilters:{src:function(e,t,n,i){e.originSrc!==n&&(P_||(je.Z.prepare(),P_=!0),e.originSrc=n,je.Z.getMethods().getCloudFileUrl.call(e,n,"image",(function(t){(t=t.trim()).startsWith("//")&&(t=`http:${t}`),e.finalSrc=t?e.getRealRoute(t):"",i(e.finalSrc)})))},showMenuByLongpress:function(e,t,n,i){e[t]=n,i(n),n&&(e._hasReportAttached||((0,A_.q)("image",1),e._hasReportAttached=!0),(0,A_.I)("image",!1,"show-menu-by-longpress",n,0,1))}},eventListeners:{longpress:{capture:!0,handler:function(e){if(!e.showMenuByLongpress)return!0;var t=e.$$.getImageLoadInfo();if(!t.loaded)return!0;if(r.gm)return wx.showActionSheet({itemList:["发送给朋友","收藏","保存图片","识别图片的小程序码"]}),!0;var n="",i=e.finalSrc||"";return i.startsWith("data:image")&&(n=(i.split(",")[1]||"").trim()),e.invoke("showImageOperateSheet",{imageBase64:n,imageUrl:i,imageWidth:t.actualWidth,imageHeight:t.actualHeight,elementLeft:t.x,elementTop:t.y,elementWidth:t.width,elementHeight:t.height},(function(e){console.error("showImageOperateSheet fail",e.errMsg)})),!0}}}};const R_={text:{},span:{},view:I_,image:w_,"cover-image":w_};function x_(e,t,n){var o=e.getEnv(),s=t.getComponentSpace();t.setGlobalUsingComponent("native-input","input"),a.forEach((function(e){t.setGlobalUsingComponent(e,e)})),wx.on("onRequestExitFullscreen",(function(e){h.Z.trigger("onRequestExitFullscreen")}));var l=function(e){s.exportComponent(e.is,e.is);var t=s.getComponentByUrl(e.is,"");o.registerBuiltInComponent(e.is,t)};l(Lt),l(F),l(ce),l(be()),l(ct),l(mt),l(Bt),l(Ut),l(qt),l(on),l(_n),l(mn),l(Cn),l(Ln),l(In),l(Fn),l(Gn),l(Hn),l(Yn),l(Xn),l(Qn),l(ti),l(ni),l(ri),l(oi),l(ci),l(_i),l(yi),l(Ti),l(bi),l(Ci),l(Si),l(Ai),l(gi),l(Ei),l(Pi),l(Ri),l(Li),l(Di),l(ih),l(xf),l(Wf),l(qf),l(n_),l(h_),l(rh),l(i_),l(s_),l(c_),l(qp),l(Xp),l(m_),l(S_),l(th),Gi.forEach((function(e){return l(e)})),Object.keys(R_).forEach((function(e){wxNativeConsole.info(`[Skyline] [GlassEasel] registering native component ${e}`);var t=R_[e];if(r.gm){t.lifetimes||(t.lifetimes={});var n=i.Z.glassEaselAdapter;t.lifetimes.listenerChange=function(...e){n.writeListenersInfoIntoNode(n.getEnv(),this,...e)}}s.registerExtendedNativeNode(e,t),s.exportExtendedNativeNode(e),o.registerBuiltInComponent(e,e)})),o.updateExtendedNativeList(t),o.updateGlobalUsingComponent()}},3839:(e,t,n)=>{"use strict";function i(e){return e=Number(e),o(e)?-1:e}n.d(t,{He:()=>i,mf:()=>s});var r=Object.prototype.toString;function a(e){return r.call(e).slice(8,-1)}var o=Number.isNaN,s=(Array.isArray,function(e){return"function"==typeof e})},7175:(e,t,n)=>{"use strict";n.d(t,{Dv:()=>d,_0:()=>l,kh:()=>u,yD:()=>c});var i=n(4762).gm?"For developer:":"",r="[Deprecation]",a="[Component]",o=new Set;function s(e,t){if(!o.has(e)){o.add(e);var n=`${i}${r} ${e} is deprecated.`;t&&(n+=` Please use ${t} instead.`),console.warn(n)}}function l(e,t,n){s(`'${t}' attribute of '${e}'`,`'${n}'`)}function u(e,t){s(`'${e}' event`,`'${t}'`)}function c(e,t){console.warn(`${i}${a} <${e}>: ${t}`)}function d(e,t,n){var i=`${a} <${e}>: ${t}`;n?console.error(i,n):console.error(i)}},9934:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FeaturesEventDefaultPrevented:()=>r.L,RuntimeCore:()=>i.Z,getRuntime:()=>a});var i=n(5891),r=n(4329),a=function(){return i.Z.getInstance()}},4329:(e,t,n)=>{"use strict";n.d(t,{L:()=>i,h:()=>r});var i={Reverted:0,Corrected:1},r={AfterWindowReady:0,BeforeWindowReady:1}},5891:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var i=n(3888),r=n.n(i),a=n(3597),o=n(3839),s=n(4329),l=function(){var e,t=!1,n=[];return{emit:function(i){t||(t=!0,e=i,n.forEach((function(t){return t(e)})),n.length=0)},on:function(i){t?i(e):n.push(i)}}},u=n(4762),c=function(e){return function(...t){try{e(...t)}catch(e){Reporter.errorReport({key:"appSubContextSDKScriptError",error:e,triggerErrorCallback:!1})}}},d=n(5566),p=n(404),h=n(8282),f=n(4987),_=n(7175),v=function(e,t){var n=e;return n.__wxElement&&((n=n.__wxElement).shadowRoot instanceof S.glassEasel.Element&&(n=n.shadowRoot),n instanceof S.glassEasel.TextNode&&(n=n.parentNode)),n instanceof S.glassEasel.Element?t.dispatch(n):wxNativeConsole.warn(`Ignored event "${t.type}" dispatching on target which is not a glass-easel element`),t};class g{constructor(){this.eventInterceptor=null}startTouchEventInterception(e){this.eventInterceptor||(this.eventInterceptor=e)}stopTouchEventInterception(){this.eventInterceptor&&(this.eventInterceptor=null)}isInterceptingEvent(){return"function"==typeof this.eventInterceptor}dispatchEvent(e,t,n,i,r,a=!1){var o=new S.glassEasel.Event(n,i,r);if(this.isInterceptingEvent()){var s={...e};s.type=n,this.eventInterceptor(s)}else a||v(t,o);return o}}class m{constructor(){this.touchstartTs=0,this.touchstartX=0,this.touchstartY=0,this.touchstartEvent=null,this.touchstartLongTap=null,this.touchstartTapCancelled=!1,this._$dispatcher=void 0,this._$dispatcher=new g}startTouchEventInterception(e){this._$dispatcher.startTouchEventInterception(e)}stopTouchEventInterception(){this._$dispatcher.stopTouchEventInterception()}triggerTouchEvent(e,t,n,i={},r=!1,a=void 0){var o={_requireActive:r,_relatedInfo:a,_allowWriteOnly:!0,touches:e.touches||[],changedTouches:e.changedTouches||[]};return this._$dispatcher.dispatchEvent(e,t||e.target,n,i,{originalEvent:e,bubbles:!0,capturePhase:!0,composed:!0,extraFields:o},!1)}handleTap(e,t,n,i){var r=this;i||this.touchstartTapCancelled||(S.glassEaselAdapter.emitTapAnyWhere({timeStamp:Date.now()}),S.glassEaselAdapter.wrapTapMark((function(){r.triggerTouchEvent(r.touchstartEvent,null,"tap",{x:t,y:n},!0)})))}handleLongTap(){var e=this.triggerTouchEvent(this.touchstartEvent,null,"longtap",{x:this.touchstartX,y:this.touchstartY},!0);null!=e&&e._hasListeners&&(0,_.kh)("longtap","longpress");var t=this.triggerTouchEvent(this.touchstartEvent,null,"longpress",{x:this.touchstartX,y:this.touchstartY},!0);null!=t&&t._hasListeners&&(this.touchstartTapCancelled=!0)}handleTrackStart(e,t,n){this.touchstartTs||(e.defaultPrevented?this.touchstartTs=0:(this.touchstartLongTap&&(this.touchstartLongTap=clearTimeout(this.touchstartLongTap)),this.touchstartTs=e.timeStamp,this.touchstartX=t,this.touchstartY=n,this.touchstartTapCancelled=!1,this.touchstartLongTap=setTimeout(this.handleLongTap.bind(this),350),this.touchstartEvent=e))}handleTrackMove(e,t,n){this.touchstartTs&&(Math.abs(t-this.touchstartX)<10&&Math.abs(n-this.touchstartY)<10||(this.touchstartLongTap&&(clearTimeout(this.touchstartLongTap),this.touchstartLongTap=null),this.touchstartTapCancelled=!0,this.triggerTouchEvent(e,null,"canceltap",{x:t,y:n},!0)))}handleTrackEnd(e,t,n,i=!1){this.touchstartTs&&(this.touchstartTs=0,this.touchstartLongTap&&(clearTimeout(this.touchstartLongTap),this.touchstartLongTap=null),i&&(e=this.touchstartEvent,t=this.touchstartX,n=this.touchstartY),this.handleTap(e,t,n,i))}dispatchTouchEvent(e){switch(e.type){case"touchstart":this.triggerTouchEvent(e,null,"touchstart"),1===e.touches.length?this.handleTrackStart(e,e.touches[0].pageX,e.touches[0].pageY):this.touchstartTapCancelled=!0;break;case"touchmove":this.triggerTouchEvent(e,null,"touchmove"),1===e.touches.length&&this.handleTrackMove(e,e.touches[0].pageX,e.touches[0].pageY);break;case"touchend":this.triggerTouchEvent(e,null,"touchend"),0===e.touches.length&&(this.handleTrackEnd(e,e.changedTouches[0].pageX,e.changedTouches[0].pageY),this.touchstartEvent=null);break;case"touchcancel":this.triggerTouchEvent(e,null,"touchcancel"),this.handleTrackEnd(null,0,0,!0),this.touchstartEvent=null}}dispatchTransitionEvent(e){this._$dispatcher.dispatchEvent(e,e.target,e.type,{propertyName:e.propertyName,elapsedTime:e.elapsedTime},{bubbles:!0,capturePhase:!0,composed:!0,extraFields:{}},!1)}dispatchAnimationEvent(e){this._$dispatcher.dispatchEvent(e,e.target,e.type,{animationName:e.animationName,elapsedTime:e.elapsedTime,pseudoElement:e.pseudoElement},{bubbles:!0,capturePhase:!0,composed:!0,extraFields:{}},!1)}dispatchMouseEvent(e){this._$dispatcher.dispatchEvent(e,e.target,e.type,{},{bubbles:!0,capturePhase:!0,composed:!0,extraFields:{}},!0)}}var E,y=n(7475),T=n(5134),b=4294967297,C=(E=0,function(){return E++});class S{get inspecteeRoots(){return __appServiceConsole__.getInspecteeRoots()}insertToInspecteeRoots(e){var t;null===(t=this.inspecteeRoots)||void 0===t||t.insertRoot(e)}removeFromInspecteeRoots(e){var t;null===(t=this.inspecteeRoots)||void 0===t||t.removeRoot(e)}getPageFeatureFlags(e){return this.pageFeatureFlags[e]}constructor(){var e,t=this;if(this.allContexts={},this.anyContextEmitter=void 0,this.globalStylesheet=[],this.pageInfos={},this.tabBarWindow=void 0,this.tabBarContexts=new Map,this.allWindows=new Set,this.windowPageIds=new Map,this.windowEmitter={},this.pageStack=[],this.eventHandler=new m,this.contextsWaitDestory=[],this.featureFlags={defaultBlockLayout:!1,defaultContentBox:!1,enableImagePreload:!1,tagNameStyleIsolation:0},this.pageFeatureFlags={},this.appBarContext=void 0,this.info=wxNativeConsole.info,void 0!==S.instance)throw new Error("Skyline RuntimeCore is singleton, use RuntimeCore.getInstance() instead.");S.nativeGlobalEmitter=l(),this.anyContextEmitter=(e=[],{emit:function(t){e.forEach((function(e){return e(t)}))},on:function(t){e.push(t)},off:function(t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}}),wx.mainContext.subscribe("onSkylineGlobalReady",(function(e){wxNativeConsole.info(`[WABaseLib.Critical] render context recv onSkylineGlobalReady ${Date.now()}`),void 0!==e.SkylineGlobal&&(S.nativeGlobal=SkylineGlobal=e.SkylineGlobal,t.listenForNativeEvent(),__wxConfig.onReady((function(){var e,n,i,r,a,o,s,l,u,c,d,p=0;null!==(e=__wxConfig.rendererOptions)&&void 0!==e&&null!==(n=e.skyline)&&void 0!==n&&n.tagNameStyleIsolation&&(p="isolated"===(null===(c=__wxConfig.rendererOptions)||void 0===c||null===(d=c.skyline)||void 0===d?void 0:d.tagNameStyleIsolation)?0:1);t.featureFlags={defaultBlockLayout:(null===(i=__wxConfig.rendererOptions)||void 0===i?void 0:i.defaultDisplayBlock)||(null===(r=__wxConfig.rendererOptions)||void 0===r||null===(a=r.skyline)||void 0===a?void 0:a.defaultDisplayBlock)||!1,defaultContentBox:(null===(o=__wxConfig.rendererOptions)||void 0===o||null===(s=o.skyline)||void 0===s?void 0:s.defaultContentBox)||!1,tagNameStyleIsolation:p,enableImagePreload:(null===(l=__wxConfig.rendererOptions)||void 0===l||null===(u=l.skyline)||void 0===u?void 0:u.enableImagePreload)||!1},I(!0,"",t.featureFlags),t.setFeatureFlags(t.featureFlags),S.nativeGlobalEmitter.emit()})))})),wx.subscribe("notifyDestroyPageContext",(function(){wxNativeConsole.info(`[WABaseLib.Critical] render context recv notifyDestroyPageContext ${Date.now()}`),t.flushDestroyContext()})),wx.mainContext.subscribe("onSkylineWindowReady",(function(e){var n;wxNativeConsole.info(`[WABaseLib.Critical] render context recv onSkylineWindowReady ${Date.now()}`);var i=e.id;t.allWindows.add(i),null===(n=t.windowEmitter[i])||void 0===n||n.emit(i)})),globalThis.__runtimeCore=this,S.nativeGlobalReady().then((function(){__appServiceConsole__.setSkylineRuntimeGetter((function(){return S.instance}))}))}static nativeGlobalReady(){return new Promise((function(e){S.nativeGlobalEmitter.on(e)}))}static setGlassEaselAdapter(e){wxNativeConsole.info("[SkylineJS] setGlassEaselAdapter "+typeof e),S.glassEaselAdapter=e,S.glassEasel=e.getGlassEasel(),S.codeSpace=e.getEnv().createCodeSpace("wx-skyline://",!1,!0,e.getSubContextAdapter().globalPolyfillInitiator);S.glassEasel;(0,a.ZO)(this.codeSpace),n(5718).registerBuiltInBehaviors(e,this.codeSpace),n(5534).registerBuiltInComponents(e,this.codeSpace,this.instance)}static registerPerformanceCallback(e){return r()((function*(){var t,n;yield S.nativeGlobalReady(),"function"==typeof(null==S||null===(t=S.nativeGlobal)||void 0===t||null===(n=t.runtime)||void 0===n?void 0:n.registerPerformanceCallback)?(S.nativeGlobal.runtime.registerPerformanceCallback(c(e)),wxNativeConsole.info("[WABaseLib.Critical] Runtime.registerPerformanceCallback set")):wxNativeConsole.info("[WABaseLib.Critical] Runtime.registerPerformanceCallback is not available")}))()}setFeatureFlags(e){var t,n;"function"==typeof(null==S||null===(t=S.nativeGlobal)||void 0===t||null===(n=t.runtime)||void 0===n?void 0:n.setFeatureFlags)?(S.nativeGlobal.runtime.setFeatureFlags(e),wxNativeConsole.info("[WABaseLib.Critical] Runtime.setFeatureFlags set",e)):wxNativeConsole.error("[WABaseLib.Critical] Runtime.setFeatureFlags is not available")}listenForNativeEvent(){this.listenTouch(),this.listenMouse(),this.listenTransition(),this.listenTriggerEvent(),this.listenFontFaceLoad(),this.listenAnimation(),this.listenNavigateBackIntercept()}getPageStack(){return this.pageStack}getCurrentPageID(){return this.pageStack[this.pageStack.length-1]}simulateAppLaunch(e){wxNativeConsole.info(`[WABaseLib.Critical] simulateAppLaunch isTab: ${e}`);var t=C(),n={windowId:0,pageId:t,openType:"appLaunch",isTab:e,mapperIds:[],workletHandlers:[],path:""};this.addPageInfo(t,n),this.pageStack.push(t),this.notifyAppLaunch(t)}simulateReLaunch(e){wxNativeConsole.info(`[WABaseLib.Critical] simulateReLaunch isTab: ${e}`);this.pageStack=[];var t=C(),n={windowId:0,pageId:t,openType:"appLaunch",isTab:e,mapperIds:[],workletHandlers:[],path:""};this.addPageInfo(t,n),this.pageStack.push(t),this.notifyReLaunch(t)}simulateNavigateTo(e,t){wxNativeConsole.info(`[WABaseLib.Critical] simulateNavigateTo routeType: ${e} isTab: ${t}`);var n=this.getCurrentPageID(),i=C(),r=(0,p.jc)({windowId:0,pageId:i,routeType:e}),a={windowId:0,pageId:i,prevPageId:n,routeConfig:null==r?void 0:r.routeConfig,routeContext:null==r?void 0:r.routeContext,openType:"navigateTo",isTab:t,mapperIds:[],workletHandlers:[],path:""};this.addPageInfo(i,a),this.pageStack.push(i),this.notifyNavigateTo(i)}simulateRedirectTo(e){wxNativeConsole.info(`[WABaseLib.Critical] simulateRedirectTo isTab: ${e}`);var t=C(),n={windowId:0,pageId:t,openType:"redirectTo",isTab:e,mapperIds:[],workletHandlers:[],path:""};this.addPageInfo(t,n),this.pageStack.pop(),this.pageStack.push(t),this.notifyRedirectTo(t)}notifyNavigateTo(e){S.nativeGlobal.navigator.notifyNavigateTo(0,e)}notifyRedirectTo(e){S.nativeGlobal.navigator.notifyRedirectTo(0,e)}notifyAppLaunch(e){S.nativeGlobal.navigator.notifyAppLaunch(0,e)}notifyReLaunch(e){S.nativeGlobal.navigator.notifyReLaunch(0,e)}notifySwitchTab(e){S.nativeGlobal.navigator.notifySwitchTab(0,e)}notifyNavigateBack(e,t=1,n=!0){S.nativeGlobal.navigator.notifyNavigateBack(0,e,t,n),this.markDestroyContext(e)}onWindowReady(e,t){return this.allWindows.has(e)?t():(void 0===this.windowEmitter[e]&&(this.windowEmitter[e]=l()),this.windowEmitter[e].on(t))}pageReady(e){var t=this;return new Promise((function(n){t.onPageReady(e,n)}))}onPageReady(e,t){var n=this;void 0===e&&(e=0);var i=this.getContext(e);if(i)return t(i);wxNativeConsole.info(`[WABaseLib.Critical] wait for contextReady, page: ${e} ${Date.now()}`);var r=this.getPageInfo(e);if(!r)throw new Error(`[WABaseLib.Critical] page: ${e} can not find correspond window`);var a=function(){var i,a=n.getContext(e);if(a)return t(a);var o=n.featureFlags;if(void 0!==__wxConfig&&null!==(i=__wxConfig.page)&&void 0!==i&&i[r.path]){var s=__wxConfig.page[r.path].window.rendererOptions;o=n._getFeatureFlagsFromRendererOptions(s)}wxNativeConsole.info("[WABaseLib.Critical] create PageContext featureFlags: ",o),n.pageFeatureFlags[e]=o,I(!1,r.path,o);var l=new S.nativeGlobal.PageContext(e,r.windowId,o);return r.isTab&&(wxNativeConsole.info(`[WABaseLib.Critical] update tabBarWindow: ${r.windowId}`),n.tabBarWindow=r.windowId,l.setAsTab()),n.allContexts[e]=l,n.anyContextEmitter.emit(e),wxNativeConsole.info(`[WABaseLib.Critical] emit contextReady, page: ${e} ${Date.now()}`),t(l)};S.nativeGlobalEmitter.on((function(){var e;(null===(e=S.nativeGlobal.features)||void 0===e?void 0:e.contextOperation)===s.h.BeforeWindowReady?a():n.onWindowReady(r.windowId,a)}))}_getFeatureFlagsFromRendererOptions(e){var t,n,i,r,a={...this.featureFlags};return"boolean"==typeof(null==e||null===(t=e.skyline)||void 0===t?void 0:t.defaultDisplayBlock)&&(a.defaultBlockLayout=e.skyline.defaultDisplayBlock),"boolean"==typeof(null==e||null===(n=e.skyline)||void 0===n?void 0:n.defaultContentBox)&&(a.defaultContentBox=e.skyline.defaultContentBox),"boolean"==typeof(null==e||null===(i=e.skyline)||void 0===i?void 0:i.enableImagePreload)&&(a.enableImagePreload=e.skyline.enableImagePreload),"string"==typeof(null==e||null===(r=e.skyline)||void 0===r?void 0:r.tagNameStyleIsolation)&&(a.tagNameStyleIsolation="isolated"===e.skyline.tagNameStyleIsolation?0:1),a}createAppBarContext(e,t){wxNativeConsole.info(`[WABaseLib.Critical] new createAppBarContext for id: ${e} window: ${t}`);var n=S.glassEaselAdapter.getEnv().getComponentStaticConfig(S.glassEaselAdapter.APPBAR_COMP_NAME),i=null==n?void 0:n.rendererOptions,r=this._getFeatureFlagsFromRendererOptions(i);return this.appBarContext=new S.nativeGlobal.AppBarContext(e,t,r),this.addPageInfo(e,{pageId:e,windowId:t,path:"",isTab:!1,openType:"",mapperIds:[],workletHandlers:[]}),this.appBarContext}getAppBarContext(){if(!this.appBarContext)throw"appBarContext not created";return this.appBarContext}removeAppBarContext(){this.appBarContext&&this.removePageInfo(this.appBarContext.id),this.appBarContext=void 0}getTabBarContext(){if(void 0===this.tabBarWindow)throw new Error("[WABaseLib.Critical] tabBarWindow not found");var e=this.tabBarWindow;if(this.tabBarContexts.has(e))return this.tabBarContexts.get(e);this.removeTabBarContext(),wxNativeConsole.info(`[WABaseLib.Critical] new TabBarContext for window: ${e} ${Date.now()}`);var t=S.glassEaselAdapter.getEnv().getComponentStaticConfig(S.glassEaselAdapter.TABBAR_COMP_NAME),n=null==t?void 0:t.rendererOptions,i=this._getFeatureFlagsFromRendererOptions(n),r=new S.nativeGlobal.TabBarContext(b,e,i);return this.tabBarContexts.set(e,r),this.addPageInfo(b,{windowId:e,pageId:b,path:"",isTab:!0,openType:"",mapperIds:[],workletHandlers:[]}),r}removeTabBarContext(){this.removePageInfo(b),this.tabBarContexts.clear()}markDestroyContext(e){this.contextsWaitDestory.push(e)}flushDestroyContext(){var e=this;this.contextsWaitDestory.forEach((function(t){e.destoryContext(t),wx.clearPageListeners(t),wx.deletePerformancePageContext(t)})),this.contextsWaitDestory=[]}destoryContext(e){wxNativeConsole.info(`[WABaseLib.Critical] destory context, page: ${e} ${Date.now()}`),this.removePageInfo(e);var t=this.allContexts[e];u.cj&&__wxConfig.clientVersion>=402666785&&"function"==typeof t.release&&t.release(),delete this.pageFeatureFlags[e],delete this.allContexts[e]}proxyCreateAnimatedStyle(e,t,n){var i=SkylineGlobal.runtime.getJsValueById(t);SkylineGlobal.runtime.unRegisterJsValue(t);var r=this.getPageInfo(e),a=(0,p.dq)(r.windowId,i,n);return r.mapperIds.push(a.mapperId),a}addPageMapperDep(e,t){var n=this.pageInfos[e];void 0!==n&&n.mapperIds.push(t)}proxyStopMapper(e,t){var n=this.getPageInfo(e);(0,p.BV)(n.windowId,t)}removePageInfo(e){var t=this.pageInfos[e];t&&(wxNativeConsole.info(`[WABaseLib.Critical] removePageInfo page: ${e} `,JSON.stringify(t)),t.workletHandlers.forEach((function(e){e.unregister()})),(0,p.IE)(t.windowId,t.mapperIds),delete this.pageInfos[e],this.removePageIdFromWindow(e,t.windowId))}addPageIdToWindow(e,t){this.windowPageIds.has(t)||this.windowPageIds.set(t,[]),this.windowPageIds.get(t).push(e)}removePageIdFromWindow(e,t){var n=this.windowPageIds.get(t);if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1),0===n.length&&this.windowPageIds.delete(t)}}getFirstPageInOwnerWindow(e){var t,n=this.pageInfos[e];return null===(t=this.windowPageIds.get(null==n?void 0:n.windowId))||void 0===t?void 0:t[0]}static getInstance(){return this.instance}getContext(e){return this.allContexts[e]}isAppLaunch(e){return["appLaunch","reLaunch","autoReLaunch"].includes(e)}addPageInfo(e,t){this.isAppLaunch(t.openType)&&this.removeTabBarContext();var n=t.routeConfigId;if("number"==typeof n){var i=SkylineGlobal.runtime.getJsValueById(n);t.routeConfig=null==i?void 0:i.routeConfig,t.routeContext=null==i?void 0:i.routeContext,SkylineGlobal.runtime.unRegisterJsValue(n)}t.mapperIds=[],t.workletHandlers=[],wxNativeConsole.info(`[WABaseLib.Critical] addPageInfo page: ${e} ${JSON.stringify(t)}`),this.pageInfos[e]=t,this.addPageIdToWindow(e,t.windowId)}getPageInfo(e){return this.pageInfos[e]}attach(e,t){var n=this.getContext(t),i=n.createElement("empty","host");i.setStyle(["opacity: 0.999999","border-radius: 0%","filter: blur(0px)","backdrop-filter: blur(0px)","overflow: hidden"].join("; ")),i.appendChild(e),e.forceDetached(),n.attach(e,i),this.setCustomRouteConfigIfNeeded(t,i)}attachTabBar(e){this.info("[SkylineJS] attach tabBar root"),e.setStyle("pointer-events: none;"),this.getTabBarContext().attach(e)}attachAppBar(e){this.info("[SkylineJS] attach appBar root"),e.setStyle("pointer-events: none;"),this.getAppBarContext().attach(e)}attachRootElement(e,t,n){var i=this.getContext(t),r=i.createElement("empty","body");r.replaceChild(e.$$,0),this.attach(r,t),S.glassEasel.Element.pretendAttached(e);var a="function"==typeof n?n:d.Z;i.startRender(a)}initTabBar(e){var t=this.getTabBarContext(),n=e.$$;n.setStyle("pointer-events: none;"),t.attach(n),S.glassEasel.Element.pretendAttached(e),t.startRender(d.Z)}appendGlobalStylesheet(e){this.globalStylesheet.push(e)}listenTouch(){var e=this;(0,u.o2)((function(){SkylineGlobal.runtime.registerTouchCallback(c((function(t){t.preventDefault=d.Z,void 0!==wx&&wx.traceFlag("SkylineEvent",t.type),e.eventHandler.dispatchTouchEvent(t)})))}))}listenMouse(){var e=this;"object"==typeof __wxConfig&&"devtools"===__wxConfig.platform&&SkylineGlobal.runtime.registerMouseCallback(c((function(t){e.eventHandler.dispatchMouseEvent(t)})))}listenTriggerEvent(){SkylineGlobal.runtime.registerTriggerEventCallback(c((function(e,t,n,i){v(e,new S.glassEasel.Event(t,n,i))})))}listenTransition(){var e=this;(0,u.o2)((function(){SkylineGlobal.runtime.registerTransitionCallback(c((function(t){e.eventHandler.dispatchTransitionEvent(t)})))}))}listenAnimation(){var e=this;(0,u.o2)((function(){var t,n;null===(t=(n=SkylineGlobal.runtime).registerAnimationCallback)||void 0===t||t.call(n,c((function(t){e.eventHandler.dispatchAnimationEvent(t)})))}))}listenNavigateBackIntercept(){(0,u.o2)((function(){var e,t;null===(e=(t=SkylineGlobal.runtime).registerNavigateBackInterceptCallback)||void 0===e||e.call(t,c(y.tn))}))}startTouchEventInterception(e){this.eventHandler.startTouchEventInterception(e)}stopTouchEventInterception(){this.eventHandler.stopTouchEventInterception()}listenFontFaceLoad(){(0,u.o2)((function(){SkylineGlobal.runtime.registerFontFaceCallback}))}shouldUseCustomRoute(e){return!!this.getPageInfo(e).routeConfig}setCustomRouteConfigIfNeeded(e,t){var n=this.getPageInfo(e);if("number"==typeof n.prevPageId&&(this.resetPrevPageRouteConfig(n.prevPageId),this.enablePrevPageSecondaryAnimationHandler(n.prevPageId)),this.shouldUseCustomRoute(e)){wxNativeConsole.info(`[WABaseLib.Critical] attachCustomRoute start page: ${e}`);var i=n.routeConfig,r=n.routeContext,a=t.viewTag,o=`onAnimationChange-${a}`,s=`onSecondaryAnimationChange-${a}`,l=this.attachCustomRouteEventHandler(t,r),u=this.attachCustomRouteAnimatedStyle(e,t,i),c=this.attachCustomRouteAnimationController(e,r);u.push(c),this.attachCustomRouteConfig(e,i,o,s),n.workletHandlers.push(...l),n.mapperIds.push(...u),wxNativeConsole.info(`[WABaseLib.Critical] attachCustomRoute finish page: ${e}`)}else wxNativeConsole.info(`[WABaseLib.Critical] attachNormalRoute page: ${e}`)}attachCustomRouteAnimationController(e,t){var n,i=this.getPageInfo(e),{userGesturesInProgressCount:r,primaryAnimation:a}=t,o=((n=function(){if(r.value){var t=a.value;workletUIModule.updateAnimationController(i.windowId,e,t)}})._closure={userGesturesInProgressCount:r,primaryAnimation:a,pageInfo:{windowId:i.windowId},id:e},n.asString="function _f(){const{userGesturesInProgressCount,primaryAnimation,pageInfo,id}=jsThis._closure;{if(userGesturesInProgressCount.value){const value=primaryAnimation.value;workletUIModule.updateAnimationController(pageInfo.windowId,id,value);}}}",n.__workletHash=1353146543418,n.__location="src/runtime/index.ts (849:43)",n.__worklet=!0,n),s=Object.values(o._closure||{});return(0,p.Rn)(i.windowId,o,s,[],{immediate:!1,flush:"sync"})}attachCustomRouteAnimatedStyle(e,t,n){var i=[],r=this.getPageInfo(e),{canTransitionTo:a,canTransitionFrom:s,handlePrimaryAnimation:l,handleSecondaryAnimation:u,handlePreviousPageAnimation:c}=n,d=function(e,t,n){if((0,o.mf)(t)){var a=(0,p.dq)(r.windowId,t,{immediate:!0,flush:"async"});i.push(a.mapperId),null==e||e.addAnimatedStyle(a),null==n||n(a)}};d(t,u,(function(e){t.__secondaryAnimationMapperId=e.mapperId})),d(t,l);var h=!0;if("number"==typeof r.prevPageId){var f=this.getPageInfo(r.prevPageId);null!=f&&f.routeConfig&&(h=f.routeConfig.canTransitionTo)}if(h&&s&&"number"==typeof r.prevPageId&&c){this.disablePrevPageSecondaryAnimationHandler(r.prevPageId,r.windowId);var _=this.getContext(r.prevPageId);if((0,o.mf)(null==_?void 0:_.getHostNode))d(_.getHostNode(),c),_.updateRouteConfig({forceSecondaryAnimation:!0})}return i}attachCustomRouteEventHandler(e,t){var n,i=[],r=function(e,t){if((0,o.mf)(t)){var n=new h.Z(t,e);i.push(n)}},{userGesturesInProgressCount:a,primaryAnimation:s,primaryAnimationStatus:l,secondaryAnimation:u,secondaryAnimationStatus:c}=t,d="onAnimationChange";r(d,((n=function(e){a.value||(s.value=e.value,l.value=e.status)})._closure={userGesturesInProgressCount:a,primaryAnimation:s,primaryAnimationStatus:l},n.asString="function _f(controller){const{userGesturesInProgressCount,primaryAnimation,primaryAnimationStatus}=jsThis._closure;{if(userGesturesInProgressCount.value)return;primaryAnimation.value=controller.value;primaryAnimationStatus.value=controller.status;}}",n.__workletHash=0xe7a299b879e,n.__location="src/runtime/index.ts (941:38)",n.__worklet=!0,n)),r(`status-${d}`,function(){var e=function(e){l.value=e.status};return e._closure={primaryAnimationStatus:l},e.asString="function _f(controller){const{primaryAnimationStatus}=jsThis._closure;{primaryAnimationStatus.value=controller.status;}}",e.__workletHash=6658321332766,e.__location="src/runtime/index.ts (948:50)",e.__worklet=!0,e}());var p="onSecondaryAnimationChange";r(p,function(){var e=function(e){u.value=e.value,c.value=e.status};return e._closure={secondaryAnimation:u,secondaryAnimationStatus:c},e.asString="function _f(controller){const{secondaryAnimation,secondaryAnimationStatus}=jsThis._closure;{secondaryAnimation.value=controller.value;secondaryAnimationStatus.value=controller.status;}}",e.__workletHash=3619974389256,e.__location="src/runtime/index.ts (954:47)",e.__worklet=!0,e}()),r(`status-${p}`,function(){var e=function(e){c.value=e.status};return e._closure={secondaryAnimationStatus:c},e.asString="function _f(controller){const{secondaryAnimationStatus}=jsThis._closure;{secondaryAnimationStatus.value=controller.status;}}",e.__workletHash=0xeff0039639e,e.__location="src/runtime/index.ts (960:59)",e.__worklet=!0,e}());var f=e.viewTag;return i.forEach((function(e){e.register(f)})),i}attachCustomRouteConfig(e,t,n,i){var{isCustomRoute:r,opaque:a,maintainState:o,transitionDuration:s,reverseTransitionDuration:l,barrierColor:u,barrierDismissible:c,barrierLabel:d,canTransitionTo:p,canTransitionFrom:h,popGestureEnabled:f,allowEnterRouteSnapshotting:_,allowExitRouteSnapshotting:v,fullscreenDrag:g,popGestureDirection:m}=t;this.getContext(e).attachCustomRoute(r,a,o,s,l,u,c,d,p,h,n,i,f,_,v,g,m)}resetPrevPageRouteConfig(e){var t=this.getContext(e);(0,o.mf)(null==t?void 0:t.updateRouteConfig)&&t.updateRouteConfig({forceSecondaryAnimation:!1})}enablePrevPageSecondaryAnimationHandler(e){var t=this.getContext(e),n=this.getPageInfo(e);if(n&&(0,o.mf)(null==t?void 0:t.getHostNode)){var i=t.getHostNode(),r=null==i?void 0:i.__secondaryAnimationMapperId;if("number"==typeof r){var a=n.windowId;(0,p.QP)(a,r)}}}disablePrevPageSecondaryAnimationHandler(e,t){var n=this.getContext(e);if((0,o.mf)(null==n?void 0:n.getHostNode)){var i=n.getHostNode(),r=null==i?void 0:i.__secondaryAnimationMapperId;"number"==typeof r&&(0,p.id)(t,r)}}}S.glassEaselAdapter=void 0,S.glassEasel=void 0,S.codeSpace=void 0,S.nativeGlobal=void 0,S.nativeGlobalEmitter=void 0,S.intersectionObserver=f.Z,S.instance=new S,(0,u.o2)((function(){S.nativeGlobal=SkylineGlobal})),(0,T.L)("onAppRouteDone",(function(){P()}));var A=[],I=function(e,t,n){A.push([e?1:0,t,n.defaultBlockLayout?1:0,n.defaultContentBox?1:0])},P=function(){A.forEach((function(e){Reporter.reportQualityData2("SkylineFeatureFlags",e)})),A=[]}},7475:(e,t,n)=>{"use strict";n.d(t,{J_:()=>o,tn:()=>s,vJ:()=>a});var i=n(5891),r=0,a=function(e,t,n){var a,o=i.Z.getInstance().getContext(n);if(o){null===(a=o.setNavigateBackInterception)||void 0===a||a.call(o,!0),o._navigateBackInterceptionsStack||(o._navigateBackInterceptionsStack=[]);var s=r++;return o._navigateBackInterceptionsStack.push({id:s,cb:e}),{id:s}}},o=function(e,t){var n=i.Z.getInstance().getContext(e);if(n){var r,{id:a}=t,o=n._navigateBackInterceptionsStack||[],s=o.findIndex((function(e){return e.id===a}));if(s>=0&&o.splice(s,1),0===o.length)null===(r=n.setNavigateBackInterception)||void 0===r||r.call(n,!1)}},s=function(e){var t=i.Z.getInstance().getContext(e);t&&(t._navigateBackInterceptionsStack||[]).forEach((function(e){var t=e.cb;"function"==typeof t&&t()}))}},4987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=class{constructor(e,t){this.root=void 0,this.rootMargin=void 0,this.thresholds=void 0,this._callback=void 0,this._targets=[],this.root=(null==t?void 0:t.root)||null,this.rootMargin=(null==t?void 0:t.rootMargin)||[0,0,0,0],this.thresholds=(null==t?void 0:t.threshold)||[0],this._callback=e}disconnect(){var e=this;this._targets.forEach((function(t){return e.unobserve(t)}))}observe(e){var t=this;e.setIntersectionListener({root:null,rootMargin:this.rootMargin,thresholds:this.thresholds},(function(e){t._callback(e,t)})),this._targets.push(e)}unobserve(e){var t=this._targets.indexOf(e);t>-1&&(e.setIntersectionListener({},null),this._targets.splice(t,1))}}},4762:(e,t,n)=>{"use strict";n.d(t,{$:()=>c,Av:()=>u,cj:()=>a,er:()=>p,gm:()=>s,iw:()=>r,o2:()=>d,wZ:()=>o,yc:()=>l});parseInt(0,10);var i=null;Foundation.onLoad((function(){return i=__wxConfig}));var r=__wxConfig.platform,a="ios"===r,o="android"===r,s="devtools"===r,l=function(){var e;return 7===(null===(e=i)||void 0===e?void 0:e.appType)};function u(){var e,t;return"singlePage"===(null===(e=i)||void 0===e||null===(t=e.appLaunchInfo)||void 0===t?void 0:t.mode)}function c(){var e;return 1==(1&((null===(e=__wxConfig.appLaunchInfo)||void 0===e?void 0:e.secFlagForSinglePageMode)||0))}function d(e,t=!1){Foundation.onLoad(e)}function p(){var e=__wxConfig.host;return e&&"WeChat"!==e.env&&"WMPF"!==e.env}},4431:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s,Z:()=>l});var i={};function r(e,t){i[e]=i[e]||[],i[e].push(t)}function a(e,t){if(i[e]){var n=i[e].indexOf(t);-1!==n&&i[e].splice(n,1)}}function o(e,...t){if(i[e])for(var n=i[e].slice(),r=0,a=n.length;r<a;r++){var o=n[r];"function"==typeof o&&o.apply(null,t)}}var s={trigger:function(e,t,n){o(`${t}@${e}`,n)},on:function(e,t,n){r(`${t}@${e}`,n)},off:function(e,t,n){a(`${t}@${e}`,n)}};const l={on:r,once:function(e,t){var n=function(i){t(i),a(e,n)};r(e,n)},off:a,trigger:o}},8254:(e,t,n)=>{"use strict";var i=n(7806),r=n(3036),a=n(422),o=Object.assign(Object.assign({},i.namedReferences),{all:i.namedReferences.html4}),s={scope:"body",level:"all"},l={html4:{strict:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);/g,attribute:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g,body:i.bodyRegExps.html4}},u=Object.assign(Object.assign({},l),{all:l.html4}),c=String.fromCharCode,d=c(65533),p={level:"all"};t.Jx=function(e,t){var n=void 0===t?s:t,i=n.level,l=void 0===i?"all":i,p=n.scope,h=void 0===p?"body":p;if(!e)return"";var f=u[l][h],_=o[l].entities,v="attribute"===h,g="strict"===h;f.lastIndex=0;var m,E=f.exec(e);if(E){m="";var y=0;do{y!==E.index&&(m+=e.substring(y,E.index));var T=E[0],b=T,C=T[T.length-1];if(v&&"="===C)b=T;else if(g&&";"!==C)b=T;else{var S=_[T];if(S)b=S;else if("&"===T[0]&&"#"===T[1]){var A=T[2],I="x"==A||"X"==A?parseInt(T.substr(3),16):parseInt(T.substr(2));b=I>=1114111?d:I>65535?a.fromCodePoint(I):c(r.numericUnicodeMap[I]||I)}}m+=b,y=E.index+T.length}while(E=f.exec(e));y!==e.length&&(m+=e.substring(y))}else m=e;return m}},7806:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyRegExps={xml:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html4:/&notin;|&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g},t.namedReferences={html4:{entities:{"&apos;":"'","&nbsp":" ","&nbsp;":" ","&iexcl":"¡","&iexcl;":"¡","&cent":"¢","&cent;":"¢","&pound":"£","&pound;":"£","&curren":"¤","&curren;":"¤","&yen":"¥","&yen;":"¥","&brvbar":"¦","&brvbar;":"¦","&sect":"§","&sect;":"§","&uml":"¨","&uml;":"¨","&copy":"©","&copy;":"©","&ordf":"ª","&ordf;":"ª","&laquo":"«","&laquo;":"«","&not":"¬","&not;":"¬","&shy":"­","&shy;":"­","&reg":"®","&reg;":"®","&macr":"¯","&macr;":"¯","&deg":"°","&deg;":"°","&plusmn":"±","&plusmn;":"±","&sup2":"²","&sup2;":"²","&sup3":"³","&sup3;":"³","&acute":"´","&acute;":"´","&micro":"µ","&micro;":"µ","&para":"¶","&para;":"¶","&middot":"·","&middot;":"·","&cedil":"¸","&cedil;":"¸","&sup1":"¹","&sup1;":"¹","&ordm":"º","&ordm;":"º","&raquo":"»","&raquo;":"»","&frac14":"¼","&frac14;":"¼","&frac12":"½","&frac12;":"½","&frac34":"¾","&frac34;":"¾","&iquest":"¿","&iquest;":"¿","&Agrave":"À","&Agrave;":"À","&Aacute":"Á","&Aacute;":"Á","&Acirc":"Â","&Acirc;":"Â","&Atilde":"Ã","&Atilde;":"Ã","&Auml":"Ä","&Auml;":"Ä","&Aring":"Å","&Aring;":"Å","&AElig":"Æ","&AElig;":"Æ","&Ccedil":"Ç","&Ccedil;":"Ç","&Egrave":"È","&Egrave;":"È","&Eacute":"É","&Eacute;":"É","&Ecirc":"Ê","&Ecirc;":"Ê","&Euml":"Ë","&Euml;":"Ë","&Igrave":"Ì","&Igrave;":"Ì","&Iacute":"Í","&Iacute;":"Í","&Icirc":"Î","&Icirc;":"Î","&Iuml":"Ï","&Iuml;":"Ï","&ETH":"Ð","&ETH;":"Ð","&Ntilde":"Ñ","&Ntilde;":"Ñ","&Ograve":"Ò","&Ograve;":"Ò","&Oacute":"Ó","&Oacute;":"Ó","&Ocirc":"Ô","&Ocirc;":"Ô","&Otilde":"Õ","&Otilde;":"Õ","&Ouml":"Ö","&Ouml;":"Ö","&times":"×","&times;":"×","&Oslash":"Ø","&Oslash;":"Ø","&Ugrave":"Ù","&Ugrave;":"Ù","&Uacute":"Ú","&Uacute;":"Ú","&Ucirc":"Û","&Ucirc;":"Û","&Uuml":"Ü","&Uuml;":"Ü","&Yacute":"Ý","&Yacute;":"Ý","&THORN":"Þ","&THORN;":"Þ","&szlig":"ß","&szlig;":"ß","&agrave":"à","&agrave;":"à","&aacute":"á","&aacute;":"á","&acirc":"â","&acirc;":"â","&atilde":"ã","&atilde;":"ã","&auml":"ä","&auml;":"ä","&aring":"å","&aring;":"å","&aelig":"æ","&aelig;":"æ","&ccedil":"ç","&ccedil;":"ç","&egrave":"è","&egrave;":"è","&eacute":"é","&eacute;":"é","&ecirc":"ê","&ecirc;":"ê","&euml":"ë","&euml;":"ë","&igrave":"ì","&igrave;":"ì","&iacute":"í","&iacute;":"í","&icirc":"î","&icirc;":"î","&iuml":"ï","&iuml;":"ï","&eth":"ð","&eth;":"ð","&ntilde":"ñ","&ntilde;":"ñ","&ograve":"ò","&ograve;":"ò","&oacute":"ó","&oacute;":"ó","&ocirc":"ô","&ocirc;":"ô","&otilde":"õ","&otilde;":"õ","&ouml":"ö","&ouml;":"ö","&divide":"÷","&divide;":"÷","&oslash":"ø","&oslash;":"ø","&ugrave":"ù","&ugrave;":"ù","&uacute":"ú","&uacute;":"ú","&ucirc":"û","&ucirc;":"û","&uuml":"ü","&uuml;":"ü","&yacute":"ý","&yacute;":"ý","&thorn":"þ","&thorn;":"þ","&yuml":"ÿ","&yuml;":"ÿ","&quot":'"',"&quot;":'"',"&amp":"&","&amp;":"&","&lt":"<","&lt;":"<","&gt":">","&gt;":">","&OElig;":"Œ","&oelig;":"œ","&Scaron;":"Š","&scaron;":"š","&Yuml;":"Ÿ","&circ;":"ˆ","&tilde;":"˜","&ensp;":" ","&emsp;":" ","&thinsp;":" ","&zwnj;":"‌","&zwj;":"‍","&lrm;":"‎","&rlm;":"‏","&ndash;":"–","&mdash;":"—","&lsquo;":"‘","&rsquo;":"’","&sbquo;":"‚","&ldquo;":"“","&rdquo;":"”","&bdquo;":"„","&dagger;":"†","&Dagger;":"‡","&permil;":"‰","&lsaquo;":"‹","&rsaquo;":"›","&euro;":"€","&fnof;":"ƒ","&Alpha;":"Α","&Beta;":"Β","&Gamma;":"Γ","&Delta;":"Δ","&Epsilon;":"Ε","&Zeta;":"Ζ","&Eta;":"Η","&Theta;":"Θ","&Iota;":"Ι","&Kappa;":"Κ","&Lambda;":"Λ","&Mu;":"Μ","&Nu;":"Ν","&Xi;":"Ξ","&Omicron;":"Ο","&Pi;":"Π","&Rho;":"Ρ","&Sigma;":"Σ","&Tau;":"Τ","&Upsilon;":"Υ","&Phi;":"Φ","&Chi;":"Χ","&Psi;":"Ψ","&Omega;":"Ω","&alpha;":"α","&beta;":"β","&gamma;":"γ","&delta;":"δ","&epsilon;":"ε","&zeta;":"ζ","&eta;":"η","&theta;":"θ","&iota;":"ι","&kappa;":"κ","&lambda;":"λ","&mu;":"μ","&nu;":"ν","&xi;":"ξ","&omicron;":"ο","&pi;":"π","&rho;":"ρ","&sigmaf;":"ς","&sigma;":"σ","&tau;":"τ","&upsilon;":"υ","&phi;":"φ","&chi;":"χ","&psi;":"ψ","&omega;":"ω","&thetasym;":"ϑ","&upsih;":"ϒ","&piv;":"ϖ","&bull;":"•","&hellip;":"…","&prime;":"′","&Prime;":"″","&oline;":"‾","&frasl;":"⁄","&weierp;":"℘","&image;":"ℑ","&real;":"ℜ","&trade;":"™","&alefsym;":"ℵ","&larr;":"←","&uarr;":"↑","&rarr;":"→","&darr;":"↓","&harr;":"↔","&crarr;":"↵","&lArr;":"⇐","&uArr;":"⇑","&rArr;":"⇒","&dArr;":"⇓","&hArr;":"⇔","&forall;":"∀","&part;":"∂","&exist;":"∃","&empty;":"∅","&nabla;":"∇","&isin;":"∈","&notin;":"∉","&ni;":"∋","&prod;":"∏","&sum;":"∑","&minus;":"−","&lowast;":"∗","&radic;":"√","&prop;":"∝","&infin;":"∞","&ang;":"∠","&and;":"∧","&or;":"∨","&cap;":"∩","&cup;":"∪","&int;":"∫","&there4;":"∴","&sim;":"∼","&cong;":"≅","&asymp;":"≈","&ne;":"≠","&equiv;":"≡","&le;":"≤","&ge;":"≥","&sub;":"⊂","&sup;":"⊃","&nsub;":"⊄","&sube;":"⊆","&supe;":"⊇","&oplus;":"⊕","&otimes;":"⊗","&perp;":"⊥","&sdot;":"⋅","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋","&lang;":"〈","&rang;":"〉","&loz;":"◊","&spades;":"♠","&clubs;":"♣","&hearts;":"♥","&diams;":"♦"}}}},3036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numericUnicodeMap={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},422:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCodePoint=String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)},t.getCodePoint=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536},t.highSurrogateFrom=55296,t.highSurrogateTo=56319},5566:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(){}},3763:(e,t,n)=>{"use strict";n.d(t,{I:()=>o,q:()=>u});var i=n(4762),r={},a=null;function o(e,t,n,o,s,l){i.gm||(r[e]=r[e]||[],r[e].push({needReportValue:t,name:n,value:o,extra:s}),a||(a=setTimeout((function(){a=null,Object.keys(r).forEach((function(e){var t;null===(t=wx)||void 0===t||t.reportComponentUse({pageType:"skyline",name:e,propList:r[e],reserved:l})})),r={}}),0)))}var s={},l=null;function u(e,t){i.gm||(s[e]=s[e]||0,s[e]++,l||(l=setTimeout((function(){l=null,Object.keys(s).forEach((function(e){var n;null===(n=wx)||void 0===n||n.reportComponentUse({pageType:"skyline",name:e,attachedCount:s[e],reserved:t})})),s={}}),0)))}},6281:(e,t,n)=>{"use strict";function i(e,t=!0){if(e===1/0)return"00:00";e=Math.floor(e);var n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),r=e-3600*n-60*i;return 0!==n&&t?`${n>=10?n:"0"+n}:${i>=10?i:"0"+i}:${r>=10?r:"0"+r}`:`${(i+=60*n)>=10?i:"0"+i}:${r>=10?r:"0"+r}`}n.d(t,{LU:()=>i,Tg:()=>r});var r=function(e){return e()}},7082:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=0;const r=function(){var e=i;return i=(+e+1)%65535,+e<<15&2147450880|32767&~~(32767*Math.random())}},5037:(e,t,n)=>{"use strict";n.d(t,{ut:()=>c});var i,r="[-+]?\\d*\\.?\\d+",a=r+"%",o={},s=((i=function(){var e=globalThis,t="_uiCachedMatchers";return void 0===e[t]&&(e[t]={}),e[t]})._closure={},i.asString='function _f(){const obj=globalThis;const prop="_uiCachedMatchers";if(typeof obj[prop]==="undefined"){obj[prop]={};}return obj[prop];}',i.__workletHash=0x95ce11262e3,i.__location="src/worklet/Colors.ts (11:25)",i.__worklet=!0,i),l=function(){var e=function(){function e(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var t=_WORKLET?s():o;return void 0===t.rgb&&(t.rgb=new RegExp("rgb"+e(r,r,r)),t.rgba=new RegExp("rgba"+e(r,r,r,r)),t.hsl=new RegExp("hsl"+e(r,a,a)),t.hsla=new RegExp("hsla"+e(r,a,a,r)),t.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,t.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,t.hex6=/^#([0-9a-fA-F]{6})$/,t.hex8=/^#([0-9a-fA-F]{8})$/),t};return e._closure={uiCachedMatchers:s,jsCachedMatchers:o,NUMBER:r,PERCENTAGE:a},e.asString='function getMatchers(){const{uiCachedMatchers,jsCachedMatchers,NUMBER,PERCENTAGE}=jsThis._closure;{function call(...args){return"\\\\(\\\\s*("+args.join(")\\\\s*,\\\\s*(")+")\\\\s*\\\\)";}const cachedMatchers=_WORKLET?uiCachedMatchers():jsCachedMatchers;if(cachedMatchers.rgb===undefined){cachedMatchers.rgb=new RegExp("rgb"+call(NUMBER,NUMBER,NUMBER));cachedMatchers.rgba=new RegExp("rgba"+call(NUMBER,NUMBER,NUMBER,NUMBER));cachedMatchers.hsl=new RegExp("hsl"+call(NUMBER,PERCENTAGE,PERCENTAGE));cachedMatchers.hsla=new RegExp("hsla"+call(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER));cachedMatchers.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;cachedMatchers.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;cachedMatchers.hex6=/^#([0-9a-fA-F]{6})$/;cachedMatchers.hex8=/^#([0-9a-fA-F]{8})$/;}return cachedMatchers;}}',e.__workletHash=7548007375135,e.__location="src/worklet/Colors.ts (32:0)",e.__worklet=!0,e}();l();var u={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},c=function(){var e=function(e){var t,n,i,r,a,o,s,c;function d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function p(e,t,n){var i=n<.5?n*(1+t):n+t-n*t,r=2*n-i,a=d(r,i,e+1/3),o=d(r,i,e),s=d(r,i,e-1/3);return Math.round(255*a)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}function h(e){var t=Number.parseInt(e,10);return t<0?0:t>255?255:t}function f(e){return(Number.parseFloat(e)%360+360)%360/360}function _(e){var t=Number.parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function v(e){var t=Number.parseFloat(e);return t<0?0:t>100?1:t/100}if("number"==typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!=typeof e)return null;var g,m=l();return(g=null==m||null===(t=m.hex6)||void 0===t?void 0:t.exec(e))?Number.parseInt(g[1]+"ff",16)>>>0:void 0!==u[e]?u[e]:(g=null==m||null===(n=m.rgb)||void 0===n?void 0:n.exec(e))?(h(g[1])<<24|h(g[2])<<16|h(g[3])<<8|255)>>>0:(g=null==m||null===(i=m.rgba)||void 0===i?void 0:i.exec(e))?(h(g[1])<<24|h(g[2])<<16|h(g[3])<<8|_(g[4]))>>>0:(g=null==m||null===(r=m.hex3)||void 0===r?void 0:r.exec(e))?Number.parseInt(g[1]+g[1]+g[2]+g[2]+g[3]+g[3]+"ff",16)>>>0:(g=null==m||null===(a=m.hex8)||void 0===a?void 0:a.exec(e))?Number.parseInt(g[1],16)>>>0:(g=null==m||null===(o=m.hex4)||void 0===o?void 0:o.exec(e))?Number.parseInt(g[1]+g[1]+g[2]+g[2]+g[3]+g[3]+g[4]+g[4],16)>>>0:(g=null==m||null===(s=m.hsl)||void 0===s?void 0:s.exec(e))?(255|p(f(g[1]),v(g[2]),v(g[3])))>>>0:(g=null==m||null===(c=m.hsla)||void 0===c?void 0:c.exec(e))?(p(f(g[1]),v(g[2]),v(g[3]))|_(g[4]))>>>0:null};return e._closure={getMatchers:l,names:u},e.asString='function normalizeColor(color){const{getMatchers,names}=jsThis._closure;{var _matchers$hex,_matchers$rgb,_matchers$rgba,_matchers$hex2,_matchers$hex3,_matchers$hex4,_matchers$hsl,_matchers$hsla;function hue2rgb(p,q,t){if(t<0){t+=1;}if(t>1){t-=1;}if(t<1/6){return p+(q-p)*6*t;}if(t<1/2){return q;}if(t<2/3){return p+(q-p)*(2/3-t)*6;}return p;}function hslToRgb(h,s,l){const q=l<0.5?l*(1+s):l+s-l*s;const p=2*l-q;const r=hue2rgb(p,q,h+1/3);const g=hue2rgb(p,q,h);const b=hue2rgb(p,q,h-1/3);return Math.round(r*255)<<24|Math.round(g*255)<<16|Math.round(b*255)<<8;}function parse255(str){const int=Number.parseInt(str,10);if(int<0){return 0;}if(int>255){return 255;}return int;}function parse360(str){const int=Number.parseFloat(str);return(int%360+360)%360/360;}function parse1(str){const num=Number.parseFloat(str);if(num<0){return 0;}if(num>1){return 255;}return Math.round(num*255);}function parsePercentage(str){const int=Number.parseFloat(str);if(int<0){return 0;}if(int>100){return 1;}return int/100;}if(typeof color==="number"){if(color>>>0===color&&color>=0&&color<=0xffffffff){return color;}return null;}if(typeof color!=="string"){return null;}const matchers=getMatchers();let match;if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex=matchers.hex6)===null||_matchers$hex===void 0?void 0:_matchers$hex.exec(color)){return Number.parseInt(match[1]+"ff",16)>>>0;}if(names[color]!==undefined){return names[color];}if(match=matchers===null||matchers===void 0?void 0:(_matchers$rgb=matchers.rgb)===null||_matchers$rgb===void 0?void 0:_matchers$rgb.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|0x000000ff)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$rgba=matchers.rgba)===null||_matchers$rgba===void 0?void 0:_matchers$rgba.exec(color)){return(parse255(match[1])<<24|parse255(match[2])<<16|parse255(match[3])<<8|parse1(match[4]))>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex2=matchers.hex3)===null||_matchers$hex2===void 0?void 0:_matchers$hex2.exec(color)){return Number.parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+"ff",16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex3=matchers.hex8)===null||_matchers$hex3===void 0?void 0:_matchers$hex3.exec(color)){return Number.parseInt(match[1],16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hex4=matchers.hex4)===null||_matchers$hex4===void 0?void 0:_matchers$hex4.exec(color)){return Number.parseInt(match[1]+match[1]+match[2]+match[2]+match[3]+match[3]+match[4]+match[4],16)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hsl=matchers.hsl)===null||_matchers$hsl===void 0?void 0:_matchers$hsl.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|0x000000ff)>>>0;}if(match=matchers===null||matchers===void 0?void 0:(_matchers$hsla=matchers.hsla)===null||_matchers$hsla===void 0?void 0:_matchers$hsla.exec(color)){return(hslToRgb(parse360(match[1]),parsePercentage(match[2]),parsePercentage(match[3]))|parse1(match[4]))>>>0;}return null;}}',e.__workletHash=8257527620776,e.__location="src/worklet/Colors.ts (220:7)",e.__worklet=!0,e}();(function(){var e=function(e){return(e>>24&255)/255};e._closure={},e.asString="function _f(c){return(c>>24&255)/255;}",e.__workletHash=0xd60a2a09964,e.__location="src/worklet/Colors.ts (403:23)",e.__worklet=!0})(),function(){var e=function(e){return e>>16&255};e._closure={},e.asString="function _f(c){return c>>16&255;}",e.__workletHash=0xba6200c4759,e.__location="src/worklet/Colors.ts (408:19)",e.__worklet=!0}(),function(){var e=function(e){return e>>8&255};e._closure={},e.asString="function _f(c){return c>>8&255;}",e.__workletHash=3499836539046,e.__location="src/worklet/Colors.ts (413:21)",e.__worklet=!0}(),function(){var e=function(e){return 255&e};e._closure={},e.asString="function _f(c){return c&255;}",e.__workletHash=0xd6ef76daabe,e.__location="src/worklet/Colors.ts (418:20)",e.__worklet=!0}()},5903:(e,t,n)=>{"use strict";n.d(t,{o:()=>T});var i,r=((i=function(e,t,n,i){var r=.1,a=function(){var e=function(e){return e};return e._closure={},e.asString="function LinearEasing(x){return x;}",e.__workletHash=3962143445177,e.__location="src/worklet/Bezier.ts (25:2)",e.__worklet=!0,e}();if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===i)return a;for(var o,s,l,u=new Array(11),c=0;c<11;++c)u[c]=(o=c*r,((function(e,t){return 1-3*t+3*e}(s=e,l=n)*o+function(e,t){return 3*t-6*e}(s,l))*o+function(e){return 3*e}(s))*o);return function(){var a=function(a){if(e===t&&n===i)return a;if(0===a)return 0;if(1===a)return 1;function o(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function l(e){return 3*e}function c(e,t,n){return((o(t,n)*e+s(t,n))*e+l(t))*e}function d(e,t,n){return 3*o(t,n)*e*e+2*s(t,n)*e+l(t)}return c(function(t){for(var i=0,a=1;10!==a&&u[a]<=t;++a)i+=r;--a;var o=i+(t-u[a])/(u[a+1]-u[a])*r,s=d(o,e,n);return s>=.001?function(e,t,n,i){for(var r=0;r<4;++r){var a=d(t,n,i);if(0===a)return t;t-=(c(t,n,i)-e)/a}return t}(t,o,e,n):0===s?o:function(e,t,n,i,r){var a,o,s=0;do{(a=c(o=t+(n-t)/2,i,r)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,i,i+r,e,n)}(a),t,i)};return a._closure={mX1:e,mY1:t,mX2:n,mY2:i,SUBDIVISION_PRECISION:1e-7,SUBDIVISION_MAX_ITERATIONS:10,NEWTON_ITERATIONS:4,kSplineTableSize:11,sampleValues:u,kSampleStepSize:r,NEWTON_MIN_SLOPE:.001},a.asString="function BezierEasing(x){const{mX1,mY1,mX2,mY2,SUBDIVISION_PRECISION,SUBDIVISION_MAX_ITERATIONS,NEWTON_ITERATIONS,kSplineTableSize,sampleValues,kSampleStepSize,NEWTON_MIN_SLOPE}=jsThis._closure;{if(mX1===mY1&&mX2===mY2){return x;}if(x===0){return 0;}if(x===1){return 1;}function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}function getSlope(aT,aA1,aA2){return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}function binarySubdivide(aX,aA,aB,mX1,mX2){let currentX;let currentT;let i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){for(let i=0;i<NEWTON_ITERATIONS;++i){const currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0){return aGuessT;}const currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}function getTForX(aX){let intervalStart=0.0;let currentSample=1;const lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&sampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;const dist=(aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample]);const guessForT=intervalStart+dist*kSampleStepSize;const initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}else if(initialSlope===0.0){return guessForT;}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}}return calcBezier(getTForX(x),mY1,mY2);}}",a.__workletHash=0xb80399b2bfd,a.__location="src/worklet/Bezier.ts (67:9)",a.__worklet=!0,a}()})._closure={},i.asString="function Bezier(mX1,mY1,mX2,mY2){const NEWTON_ITERATIONS=4;const NEWTON_MIN_SLOPE=0.001;const SUBDIVISION_PRECISION=0.0000001;const SUBDIVISION_MAX_ITERATIONS=10;const kSplineTableSize=11;const kSampleStepSize=1.0/(kSplineTableSize-1.0);function LinearEasing(x){'worklet';return x;}if(!(mX1>=0&&mX1<=1&&mX2>=0&&mX2<=1)){throw new Error('bezier x values must be in [0, 1] range');}if(mX1===mY1&&mX2===mY2){return LinearEasing;}const sampleValues=new Array(kSplineTableSize);function calcBezier(aT,aA1,aA2){function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}for(let i=0;i<kSplineTableSize;++i){sampleValues[i]=calcBezier(i*kSampleStepSize,mX1,mX2);}return function BezierEasing(x){'worklet';if(mX1===mY1&&mX2===mY2){return x;}if(x===0){return 0;}if(x===1){return 1;}function A(aA1,aA2){return 1.0-3.0*aA2+3.0*aA1;}function B(aA1,aA2){return 3.0*aA2-6.0*aA1;}function C(aA1){return 3.0*aA1;}function calcBezier(aT,aA1,aA2){return((A(aA1,aA2)*aT+B(aA1,aA2))*aT+C(aA1))*aT;}function getSlope(aT,aA1,aA2){return 3.0*A(aA1,aA2)*aT*aT+2.0*B(aA1,aA2)*aT+C(aA1);}function binarySubdivide(aX,aA,aB,mX1,mX2){let currentX;let currentT;let i=0;do{currentT=aA+(aB-aA)/2.0;currentX=calcBezier(currentT,mX1,mX2)-aX;if(currentX>0.0){aB=currentT;}else{aA=currentT;}}while(Math.abs(currentX)>SUBDIVISION_PRECISION&&++i<SUBDIVISION_MAX_ITERATIONS);return currentT;}function newtonRaphsonIterate(aX,aGuessT,mX1,mX2){for(let i=0;i<NEWTON_ITERATIONS;++i){const currentSlope=getSlope(aGuessT,mX1,mX2);if(currentSlope===0.0){return aGuessT;}const currentX=calcBezier(aGuessT,mX1,mX2)-aX;aGuessT-=currentX/currentSlope;}return aGuessT;}function getTForX(aX){let intervalStart=0.0;let currentSample=1;const lastSample=kSplineTableSize-1;for(;currentSample!==lastSample&&sampleValues[currentSample]<=aX;++currentSample){intervalStart+=kSampleStepSize;}--currentSample;const dist=(aX-sampleValues[currentSample])/(sampleValues[currentSample+1]-sampleValues[currentSample]);const guessForT=intervalStart+dist*kSampleStepSize;const initialSlope=getSlope(guessForT,mX1,mX2);if(initialSlope>=NEWTON_MIN_SLOPE){return newtonRaphsonIterate(aX,guessForT,mX1,mX2);}else if(initialSlope===0.0){return guessForT;}else{return binarySubdivide(aX,intervalStart,intervalStart+kSampleStepSize,mX1,mX2);}}return calcBezier(getTForX(x),mY1,mY2);};}",i.__workletHash=0xe9f398b7bf9,i.__location="src/worklet/Bezier.ts (9:7)",i.__worklet=!0,i),a=function(){var e=function(e){return e};return e._closure={},e.asString="function linear(t){return t;}",e.__workletHash=7988822508142,e.__location="src/worklet/Easing.ts (65:0)",e.__worklet=!0,e}(),o=function(){var e=function(e){return r(.42,0,1,1)(e)};return e._closure={Bezier:r},e.asString="function ease(t){const{Bezier}=jsThis._closure;{return Bezier(0.42,0,1,1)(t);}}",e.__workletHash=0xbdc195724f9,e.__location="src/worklet/Easing.ts (76:0)",e.__worklet=!0,e}(),s=function(){var e=function(e){return e*e};return e._closure={},e.asString="function quad(t){return t*t;}",e.__workletHash=8628631460172,e.__location="src/worklet/Easing.ts (87:0)",e.__worklet=!0,e}(),l=function(){var e=function(e){return e*e*e};return e._closure={},e.asString="function cubic(t){return t*t*t;}",e.__workletHash=9374441307661,e.__location="src/worklet/Easing.ts (98:0)",e.__worklet=!0,e}(),u=function(){var e=function(e){return function(){var t=function(t){return Math.pow(t,e)};return t._closure={n:e},t.asString="function _f(t){const{n}=jsThis._closure;{return Math.pow(t,n);}}",t.__workletHash=1121339919789,t.__location="src/worklet/Easing.ts (111:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function poly(n){return function(t){'worklet';return Math.pow(t,n);};}",e.__workletHash=0xf0e21d4d631,e.__location="src/worklet/Easing.ts (109:0)",e.__worklet=!0,e}(),c=function(){var e=function(e){return 1-Math.cos(e*Math.PI/2)};return e._closure={},e.asString="function sin(t){return 1-Math.cos(t*Math.PI/2);}",e.__workletHash=8621899987563,e.__location="src/worklet/Easing.ts (122:0)",e.__worklet=!0,e}(),d=function(){var e=function(e){return 1-Math.sqrt(1-e*e)};return e._closure={},e.asString="function circle(t){return 1-Math.sqrt(1-t*t);}",e.__workletHash=0xe74766c81e4,e.__location="src/worklet/Easing.ts (132:0)",e.__worklet=!0,e}(),p=function(){var e=function(e){return Math.pow(2,10*(e-1))};return e._closure={},e.asString="function exp(t){return Math.pow(2,10*(t-1));}",e.__workletHash=0xe77bf377b41,e.__location="src/worklet/Easing.ts (142:0)",e.__worklet=!0,e}(),h=function(){var e=function(e=1){var t=e*Math.PI;return function(){var e=function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)};return e._closure={p:t},e.asString="function _f(t){const{p}=jsThis._closure;{return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*p);}}",e.__workletHash=8897284077766,e.__location="src/worklet/Easing.ts (160:9)",e.__worklet=!0,e}()};return e._closure={},e.asString="function elastic(bounciness=1){const p=bounciness*Math.PI;return function(t){'worklet';return 1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*p);};}",e.__workletHash=0xe75c59c1497,e.__location="src/worklet/Easing.ts (157:0)",e.__worklet=!0,e}(),f=function(){var e=function(e=1.70158){return function(t){return t*t*((e+1)*t-e)}};return e._closure={},e.asString="function back(s=1.70158){return function(t){return t*t*((s+1)*t-s);};}",e.__workletHash=0xffa86df3d1b,e.__location="src/worklet/Easing.ts (174:0)",e.__worklet=!0,e}(),_=function(){var e=function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var n=e-2.25/2.75;return 7.5625*n*n+.9375}var i=e-2.625/2.75;return 7.5625*i*i+.984375};return e._closure={},e.asString="function bounce(t){if(t<1/2.75){return 7.5625*t*t;}if(t<2/2.75){const t2=t-1.5/2.75;return 7.5625*t2*t2+0.75;}if(t<2.5/2.75){const t2=t-2.25/2.75;return 7.5625*t2*t2+0.9375;}const t2=t-2.625/2.75;return 7.5625*t2*t2+0.984375;}",e.__workletHash=5721637210615,e.__location="src/worklet/Easing.ts (184:0)",e.__worklet=!0,e}(),v=function(){var e=function(e,t,n,i){console.warn("For developer:Easing.bezier is deprecated, use Easing.cubicBezier instead");var a=function(){var a=function(){return r(e,t,n,i)};return a._closure={Bezier:r,x1:e,y1:t,x2:n,y2:i},a.asString="function _f(){const{Bezier,x1,y1,x2,y2}=jsThis._closure;{return Bezier(x1,y1,x2,y2);}}",a.__workletHash=4879686787739,a.__location="src/worklet/Easing.ts (219:18)",a.__worklet=!0,a}();return{factory:a}};return e._closure={Bezier:r},e.asString="function bezier(x1,y1,x2,y2){const{Bezier}=jsThis._closure;{console.warn('For developer:Easing.bezier is deprecated, use Easing.cubicBezier instead');const factory=function(){'worklet';return Bezier(x1,y1,x2,y2);};return{factory:factory};}}",e.__workletHash=0xd05b5821e71,e.__location="src/worklet/Easing.ts (211:0)",e.__worklet=!0,e}(),g=function(){var e=function(e,t,n,i){return r(e,t,n,i)};return e._closure={Bezier:r},e.asString="function cubicBezier(x1,y1,x2,y2){const{Bezier}=jsThis._closure;{return Bezier(x1,y1,x2,y2);}}",e.__workletHash=5163284966067,e.__location="src/worklet/Easing.ts (229:0)",e.__worklet=!0,e}(),m=function(){var e=function(e){return e};return e._closure={},e.asString="function in_(easing){return easing;}",e.__workletHash=1837493474379,e.__location="src/worklet/Easing.ts (242:0)",e.__worklet=!0,e}(),E=function(){var e=function(e){return function(){var t=function(t){return 1-e(1-t)};return t._closure={easing:e},t.asString="function _f(t){const{easing}=jsThis._closure;{return 1-easing(1-t);}}",t.__workletHash=5726884014519,t.__location="src/worklet/Easing.ts (252:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function out(easing){return function(t){'worklet';return 1-easing(1-t);};}",e.__workletHash=7718549646703,e.__location="src/worklet/Easing.ts (250:0)",e.__worklet=!0,e}(),y=function(){var e=function(e){return function(){var t=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2};return t._closure={easing:e},t.asString="function _f(t){const{easing}=jsThis._closure;{if(t<0.5){return easing(t*2)/2;}return 1-easing((1-t)*2)/2;}}",t.__workletHash=2325007799982,t.__location="src/worklet/Easing.ts (265:9)",t.__worklet=!0,t}()};return e._closure={},e.asString="function inOut(easing){return function(t){'worklet';if(t<0.5){return easing(t*2)/2;}return 1-easing((1-t)*2)/2;};}",e.__workletHash=7048715165105,e.__location="src/worklet/Easing.ts (263:0)",e.__worklet=!0,e}(),T={linear:a,ease:o,quad:s,cubic:l,poly:u,sin:c,circle:d,exp:p,elastic:h,back:f,bounce:_,bezier:v,cubicBezier:g,in:m,out:E,inOut:y}},296:(e,t,n)=>{"use strict";n.d(t,{AX:()=>a,LY:()=>d});var i=n(5037),r=!1;function a(e){r=!0;var t=e();return r=!1,t}var o,s=((o=function(e){if(!e.isHigherOrder){var t=e.onStart,n=e.onFrame,r=Object.assign({},e);delete r.callback;var a=function(e,t){var i,r;e.current=e.strippedCurrent;var a=n(e,t);return e.strippedCurrent=e.current,e.current=(null!==(i=e.__prefix)&&void 0!==i?i:"")+e.current+(null!==(r=e.__suffix)&&void 0!==r?r:""),a},o=["H","S","V","A"],s=function(e,t){var n=d(e.current),i=[],r=1;return o.forEach((function(a,o){e[a].current=n[o],r&=e[a].onFrame(e[a],t),i.push(e[a].current)})),e.current=p(i),Boolean(r)},l=function(e,t){var n=0;return e.current.forEach((function(i,r){n&=e[r].onFrame(e[r],t)(e.current)[r]=e[r].current})),Boolean(n)};e.onStart=function(e,n,i,u){return c(n)?(function(e,t,n,i){var a,s,l,u=[];c(t)&&(s=d(e.current),a=d(t),e.toValue&&(l=d(e.toValue))),o.forEach((function(t,o){e[t]=Object.assign({},r),e[t].current=s[o],e[t].toValue=l?l[o]:void 0,e[t].onStart(e[t],a[o],n,i?i[t]:void 0),u.push(e[t].current)})),e.current=p(u)}(e,n,i,u),void(e.onFrame=s)):Array.isArray(n)?(function(e,t,n,i){t.forEach((function(t,a){e[a]=Object.assign({},r),e[a].current=t,e[a].toValue=e.toValue[a],e[a].onStart(e[a],t,n,i?i[a]:void 0)})),e.current=t}(e,n,i,u),void(e.onFrame=l)):"string"==typeof n?(function(e,n,i,r){var a,o,{prefix:s,suffix:l,strippedValue:u}=h(n);e.__prefix=s,e.__suffix=l,e.strippedCurrent=u;var c,d,{strippedValue:p}=h(e.toValue);e.current=u,e.startValue=u,e.toValue=p,r&&r!==e&&(r.current=r.strippedCurrent),t(e,u,i,r),e.current=(null!==(a=e.__prefix)&&void 0!==a?a:"")+e.current+(null!==(o=e.__suffix)&&void 0!==o?o:""),r&&r!==e&&(r.current=(null!==(c=r.__prefix)&&void 0!==c?c:"")+r.current+(null!==(d=r.__suffix)&&void 0!==d?d:""))}(e,n,i,u),void(e.onFrame=a)):void t(e,n,i,u)}}function u(e){if(null==e||"number"==typeof e)return e;var t=(0,i.ut)(e);return null!=t?"number"!=typeof t?null:t=(t<<24|t>>>8)>>>0:void 0}function c(e){if("string"!=typeof e)return!1;var t=u(e);return null!=t}function d(e){var t=u(e),n=(t>>>24)/255,i=t<<8>>>24,r=t<<16>>>24,a=t<<24>>>24,{h:o,s:s,v:l}=function(e,t,n){1===arguments.length&&(t=e.g,n=e.b,e=e.r);var i,r=Math.max(e,t,n),a=Math.min(e,t,n),o=r-a,s=0===r?0:o/r,l=r/255;switch(r){default:case a:i=0;break;case e:i=t-n+o*(t<n?6:0),i/=6*o;break;case t:i=n-e+2*o,i/=6*o;break;case n:i=e-t+4*o,i/=6*o}return{h:i,s:s,v:l}}(i,r,a);return[o,s,l,n]}function p(e){var{r:t,g:n,b:i}=function(e,t,n){var i,r,a,o,s,l,u,c;switch(1===arguments.length&&(t=e.s,n=e.v,e=e.h),o=Math.floor(6*e),l=n*(1-t),u=n*(1-(s=6*e-o)*t),c=n*(1-(1-s)*t),o%6){case 0:i=n,r=c,a=l;break;case 1:i=u,r=n,a=l;break;case 2:i=l,r=n,a=c;break;case 3:i=l,r=u,a=n;break;case 4:i=c,r=l,a=n;break;case 5:i=n,r=l,a=u}return{r:Math.round(255*i),g:Math.round(255*r),b:Math.round(255*a)}}(e[0],e[1],e[2]);return`rgba(${t}, ${n}, ${i}, ${e[3]})`}function h(e){if("string"==typeof e){var t,n=e.match(/([A-Za-z]*)(-?\d*\.?\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!n)throw Error("Couldn't parse animation value. Check if there isn't any typo.");var i=n[1],r=n[4],a=n[2]+(null!==(t=n[3])&&void 0!==t?t:"");return{prefix:i,suffix:r,strippedValue:parseFloat(a)}}return{strippedValue:e}}})._closure={normalizeColor:i.ut},o.asString="function decorateAnimation(animation){const{normalizeColor}=jsThis._closure;{if(animation.isHigherOrder){return;}function processColorInitially(color){if(color===null||color===undefined||typeof color===\"number\"){return color;}let normalizedColor=normalizeColor(color);if(normalizedColor===null||normalizedColor===undefined){return undefined;}if(typeof normalizedColor!==\"number\"){return null;}normalizedColor=(normalizedColor<<24|normalizedColor>>>8)>>>0;return normalizedColor;}function isColor(value){if(typeof value!==\"string\"){return false;}const color=processColorInitially(value);return color!==undefined&&color!==null;}function convertToHSVA(color){const processedColor=processColorInitially(color);const a=(processedColor>>>24)/255;const r=processedColor<<8>>>24;const g=processedColor<<16>>>24;const b=processedColor<<24>>>24;const{h:h,s:s,v:v}=RGBtoHSV(r,g,b);return[h,s,v,a];}function toRGBA(HSVA){const{r:r,g:g,b:b}=HSVtoRGB(HSVA[0],HSVA[1],HSVA[2]);return\"rgba(\"+r+\", \"+g+\", \"+b+\", \"+HSVA[3]+\")\";}function recognizePrefixSuffix(value){if(typeof value==='string'){var _match$;const match=value.match(/([A-Za-z]*)(-?\\d*\\.?\\d*)([eE][-+]?[0-9]+)?([A-Za-z%]*)/);if(!match){throw Error(\"Couldn't parse animation value. Check if there isn't any typo.\");}const prefix=match[1];const suffix=match[4];const number=match[2]+((_match$=match[3])!==null&&_match$!==void 0?_match$:'');return{prefix:prefix,suffix:suffix,strippedValue:parseFloat(number)};}else{return{strippedValue:value};}}function RGBtoHSV(r,g,b){if(arguments.length===1){g=r.g;b=r.b;r=r.r;}const max=Math.max(r,g,b);const min=Math.min(r,g,b);const d=max-min;const s=max===0?0:d/max;const v=max/255;let h;switch(max){default:case min:h=0;break;case r:h=g-b+d*(g<b?6:0);h/=6*d;break;case g:h=b-r+d*2;h/=6*d;break;case b:h=r-g+d*4;h/=6*d;break;}return{h:h,s:s,v:v};}function HSVtoRGB(h,s,v){var r,g,b,i,f,p,q,t;if(arguments.length===1){s=h.s;v=h.v;h=h.h;}i=Math.floor(h*6);f=h*6-i;p=v*(1-s);q=v*(1-f*s);t=v*(1-(1-f)*s);switch(i%6){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;case 5:r=v,g=p,b=q;break;}return{r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)};}const baseOnStart=animation.onStart;const baseOnFrame=animation.onFrame;const animationCopy=Object.assign({},animation);delete animationCopy.callback;const prefNumberSuffOnStart=function(animation,value,timestamp,previousAnimation){var _animation$__prefix,_animation$__suffix;const{prefix:prefix,suffix:suffix,strippedValue:strippedValue}=recognizePrefixSuffix(value);animation.__prefix=prefix;animation.__suffix=suffix;animation.strippedCurrent=strippedValue;const{strippedValue:strippedToValue}=recognizePrefixSuffix(animation.toValue);animation.current=strippedValue;animation.startValue=strippedValue;animation.toValue=strippedToValue;if(previousAnimation&&previousAnimation!==animation){previousAnimation.current=previousAnimation.strippedCurrent;}baseOnStart(animation,strippedValue,timestamp,previousAnimation);animation.current=((_animation$__prefix=animation.__prefix)!==null&&_animation$__prefix!==void 0?_animation$__prefix:'')+animation.current+((_animation$__suffix=animation.__suffix)!==null&&_animation$__suffix!==void 0?_animation$__suffix:'');if(previousAnimation&&previousAnimation!==animation){var _previousAnimation$__,_previousAnimation$__2;previousAnimation.current=((_previousAnimation$__=previousAnimation.__prefix)!==null&&_previousAnimation$__!==void 0?_previousAnimation$__:'')+previousAnimation.current+((_previousAnimation$__2=previousAnimation.__suffix)!==null&&_previousAnimation$__2!==void 0?_previousAnimation$__2:'');}};const prefNumberSuffOnFrame=function(animation,timestamp){var _animation$__prefix2,_animation$__suffix2;animation.current=animation.strippedCurrent;const res=baseOnFrame(animation,timestamp);animation.strippedCurrent=animation.current;animation.current=((_animation$__prefix2=animation.__prefix)!==null&&_animation$__prefix2!==void 0?_animation$__prefix2:'')+animation.current+((_animation$__suffix2=animation.__suffix)!==null&&_animation$__suffix2!==void 0?_animation$__suffix2:'');return res;};const tab=['H','S','V','A'];const colorOnStart=function(animation,value,timestamp,previousAnimation){let HSVAValue;let HSVACurrent;let HSVAToValue;const res=[];if(isColor(value)){HSVACurrent=convertToHSVA(animation.current);HSVAValue=convertToHSVA(value);if(animation.toValue){HSVAToValue=convertToHSVA(animation.toValue);}}tab.forEach(function(i,index){animation[i]=Object.assign({},animationCopy);animation[i].current=HSVACurrent[index];animation[i].toValue=HSVAToValue?HSVAToValue[index]:undefined;animation[i].onStart(animation[i],HSVAValue[index],timestamp,previousAnimation?previousAnimation[i]:undefined);res.push(animation[i].current);});animation.current=toRGBA(res);};const colorOnFrame=function(animation,timestamp){const HSVACurrent=convertToHSVA(animation.current);const res=[];let finished=1;tab.forEach(function(i,index){animation[i].current=HSVACurrent[index];finished&=animation[i].onFrame(animation[i],timestamp);res.push(animation[i].current);});animation.current=toRGBA(res);return Boolean(finished);};const arrayOnStart=function(animation,value,timestamp,previousAnimation){value.forEach(function(v,i){animation[i]=Object.assign({},animationCopy);animation[i].current=v;animation[i].toValue=animation.toValue[i];animation[i].onStart(animation[i],v,timestamp,previousAnimation?previousAnimation[i]:undefined);});animation.current=value;};const arrayOnFrame=function(animation,timestamp){let finished=0;animation.current.forEach(function(v,i){finished&=animation[i].onFrame(animation[i],timestamp)(animation.current)[i]=animation[i].current;});return Boolean(finished);};animation.onStart=function(animation,value,timestamp,previousAnimation){if(isColor(value)){colorOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=colorOnFrame;return;}else if(Array.isArray(value)){arrayOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=arrayOnFrame;return;}else if(typeof value==='string'){prefNumberSuffOnStart(animation,value,timestamp,previousAnimation);animation.onFrame=prefNumberSuffOnFrame;return;}baseOnStart(animation,value,timestamp,previousAnimation);};}}",o.__workletHash=9328732531647,o.__location="src/worklet/animation/util.ts (42:0)",o.__worklet=!0,o),l=function(){var e=function(e,t){if(r)return e;var n=function(){var e=function(){var e=t();return s(e),e};return e._closure={factory:t,decorateAnimation:s},e.asString="function _f(){const{factory,decorateAnimation}=jsThis._closure;{const animation=factory();decorateAnimation(animation);return animation;}}",e.__workletHash=2441595458132,e.__location="src/worklet/animation/util.ts (391:17)",e.__worklet=!0,e}();return _WORKLET?n():n};return e._closure={IN_STYLE_UPDATER:r,decorateAnimation:s},e.asString="function defineAnimation(starting,factory){const{IN_STYLE_UPDATER,decorateAnimation}=jsThis._closure;{if(IN_STYLE_UPDATER){return starting;}const create=function(){'worklet';const animation=factory();decorateAnimation(animation);return animation;};if(_WORKLET){return create();}return create;}}",e.__workletHash=0xde62656a344,e.__location="src/worklet/animation/util.ts (384:7)",e.__worklet=!0,e}(),u=(function(){var e=function(e){e.value=e.value};e._closure={},e.asString="function cancelAnimation(sharedValue){sharedValue.value=sharedValue.value;}",e.__workletHash=0xdb1b4231136,e.__location="src/worklet/animation/util.ts (405:7)",e.__worklet=!0}(),function(){var e=function(e,t){return l(e,function(){var n=function(){return _WORKLET||"function"!=typeof t||(t=t()),t.current=e,t};return n._closure={animation:t,startValue:e},n.asString="function _f(){const{animation,startValue}=jsThis._closure;{if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;}}",n.__workletHash=5374403234008,n.__location="src/worklet/animation/util.ts (417:37)",n.__worklet=!0,n}())};e._closure={defineAnimation:l},e.asString="function withStartValue(startValue,animation){const{defineAnimation}=jsThis._closure;{return defineAnimation(startValue,function(){'worklet';if(!_WORKLET&&typeof animation==='function'){animation=animation();}animation.current=startValue;return animation;});}}",e.__workletHash=5100017907325,e.__location="src/worklet/animation/util.ts (412:7)",e.__worklet=!0}(),n(5903)),c=n(5838),d=function(){var e=function(e,t,n){return"function"==typeof n&&((0,c.C)(n)||console.warn("The callback parameter of timing should be a worklet function")),l(e,function(){var i=function(){var i={duration:300,easing:u.o.inOut(u.o.quad)};return t&&Object.keys(t).forEach((function(e){return i[e]=t[e]})),{type:"timing",onFrame:function(e,t){var{toValue:n,startTime:r,startValue:a}=e,o=t-r;if(o>=i.duration)return e.startTime=0,e.current=n,!0;var s=e.easing(o/i.duration);return e.current=a+(n-a)*s,!1},onStart:function(t,n,r,a){a&&"timing"===a.type&&a.toValue===e&&a.startTime?(t.startTime=a.startTime,t.startValue=a.startValue):(t.startTime=r,t.startValue=n),t.current=n,"object"==typeof i.easing?t.easing=i.easing.factory():t.easing=i.easing},progress:0,toValue:e,startValue:0,startTime:0,easing:function(){return 0},current:e,callback:n}};return i._closure={Easing:{inOut:u.o.inOut,quad:u.o.quad},userConfig:t,toValue:e,callback:n},i.asString="function _f(){const{Easing,userConfig,toValue,callback}=jsThis._closure;{const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:onFrame,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};}}",i.__workletHash=8710674338333,i.__location="src/worklet/animation/timing.ts (39:51)",i.__worklet=!0,i}())};return e._closure={checkWorkletFunc:c.C,defineAnimation:l,Easing:{inOut:u.o.inOut,quad:u.o.quad}},e.asString="function timing(toValue,userConfig,callback){const{checkWorkletFunc,defineAnimation,Easing}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of timing should be a worklet function');}}return defineAnimation(toValue,function(){'worklet';const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:onFrame,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};});}}",e.__workletHash=0xc4dbc79e660,e.__location="src/worklet/animation/timing.ts (26:7)",e.__worklet=!0,e}();(function(){var e=function(e,t,n){return"function"==typeof n&&((0,c.C)(n)||console.warn("The callback parameter of spring should be a worklet function")),l(e,function(){var i=function(){var i={damping:10,mass:1,stiffness:100,overshootClamping:!1,restDisplacementThreshold:.01,restSpeedThreshold:2,velocity:0};return t&&Object.keys(t).forEach((function(e){return i[e]=t[e]})),{onFrame:function(e,t){var{toValue:n,lastTimestamp:r,current:a,velocity:o}=e,s=Math.min(t-r,64);e.lastTimestamp=t;var l=i.damping,u=i.mass,c=i.stiffness,d=-o,p=n-a,h=l/(2*Math.sqrt(c*u)),f=Math.sqrt(c/u),_=f*Math.sqrt(1-h**2),v=s/1e3,g=Math.sin(_*v),m=Math.cos(_*v),E=Math.exp(-h*f*v),y=E*(g*((d+h*f*p)/_)+p*m),T=n-y,b=h*f*y-E*(m*(d+h*f*p)-_*p*g),C=Math.exp(-f*v),S=n-C*(p+(d+f*p)*v),A=C*(d*(v*f-1)+v*p*f*f),I=Math.abs(o)<i.restSpeedThreshold,P=0===i.stiffness||Math.abs(n-a)<i.restDisplacementThreshold;return h<1?(e.current=T,e.velocity=b):(e.current=S,e.velocity=A),!!(i.overshootClamping&&0!==i.stiffness&&(a<n?e.current>n:e.current<n)||I&&P)&&(0!==i.stiffness&&(e.velocity=0,e.current=n),e.lastTimestamp=0,!0)},onStart:function(e,t,n,i){e.current=t,i?(e.velocity=i.velocity||e.velocity||0,e.lastTimestamp=i.lastTimestamp||n):e.lastTimestamp=n},toValue:e,velocity:i.velocity||0,current:e,callback:n,lastTimestamp:0}};return i._closure={userConfig:t,toValue:e,callback:n},i.asString="function _f(){const{userConfig,toValue,callback}=jsThis._closure;{const config={damping:10,mass:1,stiffness:100,overshootClamping:false,restDisplacementThreshold:0.01,restSpeedThreshold:2,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,lastTimestamp:lastTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);animation.lastTimestamp=now;const c=config.damping;const m=config.mass;const k=config.stiffness;const v0=-velocity;const x0=toValue-current;const zeta=c/(2*Math.sqrt(k*m));const omega0=Math.sqrt(k/m);const omega1=omega0*Math.sqrt(1-zeta**2);const t=deltaTime/1000;const sin1=Math.sin(omega1*t);const cos1=Math.cos(omega1*t);const underDampedEnvelope=Math.exp(-zeta*omega0*t);const underDampedFrag1=underDampedEnvelope*(sin1*((v0+zeta*omega0*x0)/omega1)+x0*cos1);const underDampedPosition=toValue-underDampedFrag1;const underDampedVelocity=zeta*omega0*underDampedFrag1-underDampedEnvelope*(cos1*(v0+zeta*omega0*x0)-omega1*x0*sin1);const criticallyDampedEnvelope=Math.exp(-omega0*t);const criticallyDampedPosition=toValue-criticallyDampedEnvelope*(x0+(v0+omega0*x0)*t);const criticallyDampedVelocity=criticallyDampedEnvelope*(v0*(t*omega0-1)+t*x0*omega0*omega0);const isOvershooting=function(){if(config.overshootClamping&&config.stiffness!==0){return current<toValue?animation.current>toValue:animation.current<toValue;}else{return false;}};const isVelocity=Math.abs(velocity)<config.restSpeedThreshold;const isDisplacement=config.stiffness===0||Math.abs(toValue-current)<config.restDisplacementThreshold;if(zeta<1){animation.current=underDampedPosition;animation.velocity=underDampedVelocity;}else{animation.current=criticallyDampedPosition;animation.velocity=criticallyDampedVelocity;}if(isOvershooting()||isVelocity&&isDisplacement){if(config.stiffness!==0){animation.velocity=0;animation.current=toValue;}animation.lastTimestamp=0;return true;}return false;}function onStart(animation,value,now,previousAnimation){animation.current=value;if(previousAnimation){animation.velocity=previousAnimation.velocity||animation.velocity||0;animation.lastTimestamp=previousAnimation.lastTimestamp||now;}else{animation.lastTimestamp=now;}}return{onFrame:onFrame,onStart:onStart,toValue:toValue,velocity:config.velocity||0,current:toValue,callback:callback,lastTimestamp:0};}}",i.__workletHash=5222183752767,i.__location="src/worklet/animation/spring.ts (46:51)",i.__worklet=!0,i}())};e._closure={checkWorkletFunc:c.C,defineAnimation:l},e.asString="function spring(toValue,userConfig,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of spring should be a worklet function');}}return defineAnimation(toValue,function(){'worklet';const config={damping:10,mass:1,stiffness:100,overshootClamping:false,restDisplacementThreshold:0.01,restSpeedThreshold:2,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function onFrame(animation,now){const{toValue:toValue,lastTimestamp:lastTimestamp,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);animation.lastTimestamp=now;const c=config.damping;const m=config.mass;const k=config.stiffness;const v0=-velocity;const x0=toValue-current;const zeta=c/(2*Math.sqrt(k*m));const omega0=Math.sqrt(k/m);const omega1=omega0*Math.sqrt(1-zeta**2);const t=deltaTime/1000;const sin1=Math.sin(omega1*t);const cos1=Math.cos(omega1*t);const underDampedEnvelope=Math.exp(-zeta*omega0*t);const underDampedFrag1=underDampedEnvelope*(sin1*((v0+zeta*omega0*x0)/omega1)+x0*cos1);const underDampedPosition=toValue-underDampedFrag1;const underDampedVelocity=zeta*omega0*underDampedFrag1-underDampedEnvelope*(cos1*(v0+zeta*omega0*x0)-omega1*x0*sin1);const criticallyDampedEnvelope=Math.exp(-omega0*t);const criticallyDampedPosition=toValue-criticallyDampedEnvelope*(x0+(v0+omega0*x0)*t);const criticallyDampedVelocity=criticallyDampedEnvelope*(v0*(t*omega0-1)+t*x0*omega0*omega0);const isOvershooting=function(){if(config.overshootClamping&&config.stiffness!==0){return current<toValue?animation.current>toValue:animation.current<toValue;}else{return false;}};const isVelocity=Math.abs(velocity)<config.restSpeedThreshold;const isDisplacement=config.stiffness===0||Math.abs(toValue-current)<config.restDisplacementThreshold;if(zeta<1){animation.current=underDampedPosition;animation.velocity=underDampedVelocity;}else{animation.current=criticallyDampedPosition;animation.velocity=criticallyDampedVelocity;}if(isOvershooting()||isVelocity&&isDisplacement){if(config.stiffness!==0){animation.velocity=0;animation.current=toValue;}animation.lastTimestamp=0;return true;}return false;}function onStart(animation,value,now,previousAnimation){animation.current=value;if(previousAnimation){animation.velocity=previousAnimation.velocity||animation.velocity||0;animation.lastTimestamp=previousAnimation.lastTimestamp||now;}else{animation.lastTimestamp=now;}}return{onFrame:onFrame,onStart:onStart,toValue:toValue,velocity:config.velocity||0,current:toValue,callback:callback,lastTimestamp:0};});}}",e.__workletHash=0xe1ad10b71a2,e.__location="src/worklet/animation/spring.ts (33:7)",e.__worklet=!0})(),function(){var e=function(e,t){return"function"==typeof t&&((0,c.C)(t)||console.warn("The callback parameter of decay should be a worklet function")),l(0,function(){var n=function(){var n,i={deceleration:.998,velocityFactor:1,velocity:0};e&&Object.keys(e).forEach((function(t){return i[t]=e[t]}));return{onFrame:function(e,t){var{lastTimestamp:n,startTimestamp:r,initialVelocity:a,current:o,velocity:s}=e,l=Math.min(t-n,64),u=s*Math.exp(-(1-i.deceleration)*(t-r)*.1);if(e.current=o+u*i.velocityFactor*l/1e3,e.velocity=u,e.lastTimestamp=t,i.clamp){if(a<0&&e.current<=i.clamp[0])return e.current=i.clamp[0],!0;if(a>0&&e.current>=i.clamp[1])return e.current=i.clamp[1],!0}return Math.abs(u)<1},onStart:function(e,t,n){e.current=t,e.lastTimestamp=n,e.startTimestamp=n,e.initialVelocity=i.velocity,function(){if(i.clamp){if(!Array.isArray(i.clamp))throw Error("config.clamp must be an array but is "+typeof i.clamp);if(2!==i.clamp.length)throw Error(`clamp array must contain 2 items but is given ${i.clamp.length}`)}if(i.velocityFactor<=0)throw Error(`config.velocityFactor must be greather then 0 but is ${i.velocityFactor}`)}()},callback:t,velocity:null!==(n=i.velocity)&&void 0!==n?n:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0}};return n._closure={userConfig:e,callback:t},n.asString='function _f(){const{userConfig,callback}=jsThis._closure;{var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=1;const SLOPE_FACTOR=0.1;function onFrame(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error("config.clamp must be an array but is "+typeof config.clamp);}if(config.clamp.length!==2){throw Error("clamp array must contain 2 items but is given "+config.clamp.length);}}if(config.velocityFactor<=0){throw Error("config.velocityFactor must be greather then 0 but is "+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:onFrame,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};}}',n.__workletHash=6565623785597,n.__location="src/worklet/animation/decay.ts (51:44)",n.__worklet=!0,n}())};e._closure={checkWorkletFunc:c.C,defineAnimation:l},e.asString="function decay(userConfig,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of decay should be a worklet function');}}return defineAnimation(0,function(){'worklet';var _config$velocity;const config={deceleration:0.998,velocityFactor:1,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}const VELOCITY_EPS=1;const SLOPE_FACTOR=0.1;function onFrame(animation,now){const{lastTimestamp:lastTimestamp,startTimestamp:startTimestamp,initialVelocity:initialVelocity,current:current,velocity:velocity}=animation;const deltaTime=Math.min(now-lastTimestamp,64);const v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\"config.clamp must be an array but is \"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\"clamp array must contain 2 items but is given \"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\"config.velocityFactor must be greather then 0 but is \"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:onFrame,onStart:onStart,callback:callback,velocity:(_config$velocity=config.velocity)!==null&&_config$velocity!==void 0?_config$velocity:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};});}}",e.__workletHash=2625431540736,e.__location="src/worklet/animation/decay.ts (39:7)",e.__worklet=!0}(),function(){var e=function(e,t){return l(t,function(){var n=function(){var n="function"==typeof t?t():t;return{isHigherOrder:!0,onFrame:function(t,i){var{startTime:r,started:a,previousAnimation:o}=t;if(i-r>e){a||(n.onStart(n,t.current,i,o),t.previousAnimation=null,t.started=!0);var s=n.onFrame(n,i);return t.current=n.current,s}if(o){var l=o.finished||o.onFrame(o,i);t.current=o.current,l&&(t.previousAnimation=null)}return!1},onStart:function(e,t,n,i){e.startTime=n,e.started=!1,e.current=t,e.previousAnimation=i===e?i.previousAnimation:i},current:n.current,callback:function(e){n.callback&&n.callback(e)},previousAnimation:null,startTime:0,started:!1}};return n._closure={_nextAnimation:t,delayMs:e},n.asString="function _f(){const{_nextAnimation,delayMs}=jsThis._closure;{const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const{startTime:startTime,started:started,previousAnimation:previousAnimation}=animation;if(now-startTime>delayMs){if(!started){nextAnimation.onStart(nextAnimation,animation.current,now,previousAnimation);animation.previousAnimation=null;animation.started=true;}const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;return finished;}else if(previousAnimation){const finished=previousAnimation.finished||previousAnimation.onFrame(previousAnimation,now);animation.current=previousAnimation.current;if(finished){animation.previousAnimation=null;}}return false;}function onStart(animation,value,now,previousAnimation){animation.startTime=now;animation.started=false;animation.current=value;if(previousAnimation===animation){animation.previousAnimation=previousAnimation.previousAnimation;}else{animation.previousAnimation=previousAnimation;}}const callback=function(finished){if(nextAnimation.callback){nextAnimation.callback(finished);}};return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,current:nextAnimation.current,callback:callback,previousAnimation:null,startTime:0,started:false};}}",n.__workletHash=7471806601587,n.__location="src/worklet/animation/delay.ts (10:57)",n.__worklet=!0,n}())};e._closure={defineAnimation:l},e.asString="function delay(delayMs,_nextAnimation){const{defineAnimation}=jsThis._closure;{return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const{startTime:startTime,started:started,previousAnimation:previousAnimation}=animation;if(now-startTime>delayMs){if(!started){nextAnimation.onStart(nextAnimation,animation.current,now,previousAnimation);animation.previousAnimation=null;animation.started=true;}const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;return finished;}else if(previousAnimation){const finished=previousAnimation.finished||previousAnimation.onFrame(previousAnimation,now);animation.current=previousAnimation.current;if(finished){animation.previousAnimation=null;}}return false;}function onStart(animation,value,now,previousAnimation){animation.startTime=now;animation.started=false;animation.current=value;if(previousAnimation===animation){animation.previousAnimation=previousAnimation.previousAnimation;}else{animation.previousAnimation=previousAnimation;}}const callback=function(finished){if(nextAnimation.callback){nextAnimation.callback(finished);}};return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,current:nextAnimation.current,callback:callback,previousAnimation:null,startTime:0,started:false};});}}",e.__workletHash=1119387222703,e.__location="src/worklet/animation/delay.ts (5:7)",e.__worklet=!0}(),function(){var e=function(e,t=2,n=!1,i){return"function"==typeof i&&((0,c.C)(i)||console.warn("The callback parameter of repeat should be a worklet function")),l(e,function(){var r=function(){var r="function"==typeof e?e():e;return{isHigherOrder:!0,onFrame:function(e,i){var a=r.onFrame(r,i);if(e.current=r.current,a){if(e.reps+=1,r.callback&&r.callback(!0,e.current),t>0&&e.reps>=t)return!0;var o=n?r.current:e.startValue;return n&&(r.toValue=e.startValue,e.startValue=o),r.onStart(r,o,i,r.previousAnimation),!1}return!1},onStart:function(e,t,n,i){e.startValue=t,e.reps=0,r.onStart(r,t,n,i)},reps:0,current:r.current,callback:function(e){i&&i(e),!e&&r.callback&&r.callback(!1)},startValue:0}};return r._closure={_nextAnimation:e,numberOfReps:t,reverse:n,callback:i},r.asString="function _f(){const{_nextAnimation,numberOfReps,reverse,callback}=jsThis._closure;{const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};}}",r.__workletHash=0xddd76efe2b9,r.__location="src/worklet/animation/repeat.ts (31:58)",r.__worklet=!0,r}())};e._closure={checkWorkletFunc:c.C,defineAnimation:l},e.asString="function repeat(_nextAnimation,numberOfReps=2,reverse=false,callback){const{checkWorkletFunc,defineAnimation}=jsThis._closure;{if(typeof callback==='function'){if(!checkWorkletFunc(callback)){console.warn('The callback parameter of repeat should be a worklet function');}}return defineAnimation(_nextAnimation,function(){'worklet';const nextAnimation=typeof _nextAnimation==='function'?_nextAnimation():_nextAnimation;function onFrame(animation,now){const finished=nextAnimation.onFrame(nextAnimation,now);animation.current=nextAnimation.current;if(finished){animation.reps+=1;if(nextAnimation.callback){nextAnimation.callback(true,animation.current);}if(numberOfReps>0&&animation.reps>=numberOfReps){return true;}const startValue=reverse?nextAnimation.current:animation.startValue;if(reverse){nextAnimation.toValue=animation.startValue;animation.startValue=startValue;}nextAnimation.onStart(nextAnimation,startValue,now,nextAnimation.previousAnimation);return false;}return false;}const repCallback=function(finished){if(callback){callback(finished);}if(!finished&&nextAnimation.callback){nextAnimation.callback(false);}};function onStart(animation,value,now,previousAnimation){animation.startValue=value;animation.reps=0;nextAnimation.onStart(nextAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,reps:0,current:nextAnimation.current,callback:repCallback,startValue:0};});}}",e.__workletHash=9654710012277,e.__location="src/worklet/animation/repeat.ts (17:7)",e.__worklet=!0}(),function(){var e=function(...e){return l(e[0],function(){var t=function(){var t=e.map((function(e){var t="function"==typeof e?e():e;return t.finished=!1,t})),n=t[0];return{isHigherOrder:!0,onFrame:function(e,n){var i=t[e.animationIndex],r=i.onFrame(i,n);if(e.current=i.current,r){if(i.callback&&i.callback(!0),i.finished=!0,e.animationIndex+=1,e.animationIndex<t.length){var a=t[e.animationIndex];return a.onStart(a,i.current,n,i),!1}return!0}return!1},onStart:function(e,i,r,a){if(1===t.length)throw Error("sequence() animation require more than one animation as argument");e.animationIndex=0,void 0===a&&(a=t[t.length-1]),n.onStart(n,i,r,a)},animationIndex:0,current:n.current,callback:function(e){e||t.forEach((function(t){"function"!=typeof t.callback||t.finished||t.callback(e)}))}}};return t._closure={_animations:e},t.asString="function _f(){const{_animations}=jsThis._closure;{const animations=_animations.map(function(a){const result=typeof a==='function'?a():a;result.finished=false;return result;});const firstAnimation=animations[0];const callback=function(finished){if(finished){return;}animations.forEach(function(animation){if(typeof animation.callback==='function'&&!animation.finished){animation.callback(finished);}});};function onFrame(animation,now){const currentAnim=animations[animation.animationIndex];const finished=currentAnim.onFrame(currentAnim,now);animation.current=currentAnim.current;if(finished){if(currentAnim.callback){currentAnim.callback(true);}currentAnim.finished=true;animation.animationIndex+=1;if(animation.animationIndex<animations.length){const nextAnim=animations[animation.animationIndex];nextAnim.onStart(nextAnim,currentAnim.current,now,currentAnim);return false;}return true;}return false;}function onStart(animation,value,now,previousAnimation){if(animations.length===1){throw Error('sequence() animation require more than one animation as argument');}animation.animationIndex=0;if(previousAnimation===undefined){previousAnimation=animations[animations.length-1];}firstAnimation.onStart(firstAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,animationIndex:0,current:firstAnimation.current,callback:callback};}}",t.__workletHash=7105701959684,t.__location="src/worklet/animation/sequence.ts (7:81)",t.__worklet=!0,t}())};e._closure={defineAnimation:l},e.asString="function sequence(..._animations){const{defineAnimation}=jsThis._closure;{return defineAnimation(_animations[0],function(){'worklet';const animations=_animations.map(function(a){const result=typeof a==='function'?a():a;result.finished=false;return result;});const firstAnimation=animations[0];const callback=function(finished){if(finished){return;}animations.forEach(function(animation){if(typeof animation.callback==='function'&&!animation.finished){animation.callback(finished);}});};function onFrame(animation,now){const currentAnim=animations[animation.animationIndex];const finished=currentAnim.onFrame(currentAnim,now);animation.current=currentAnim.current;if(finished){if(currentAnim.callback){currentAnim.callback(true);}currentAnim.finished=true;animation.animationIndex+=1;if(animation.animationIndex<animations.length){const nextAnim=animations[animation.animationIndex];nextAnim.onStart(nextAnim,currentAnim.current,now,currentAnim);return false;}return true;}return false;}function onStart(animation,value,now,previousAnimation){if(animations.length===1){throw Error('sequence() animation require more than one animation as argument');}animation.animationIndex=0;if(previousAnimation===undefined){previousAnimation=animations[animations.length-1];}firstAnimation.onStart(firstAnimation,value,now,previousAnimation);}return{isHigherOrder:true,onFrame:onFrame,onStart:onStart,animationIndex:0,current:firstAnimation.current,callback:callback};});}}",e.__workletHash=9934960399614,e.__location="src/worklet/animation/sequence.ts (5:7)",e.__worklet=!0}()},2117:(e,t,n)=>{"use strict";n.d(t,{id:()=>A,QP:()=>S,vG:()=>E,I1:()=>y,$v:()=>I,Rn:()=>T,BV:()=>b,IE:()=>C,dl:()=>P});var i=n(6444);class r{constructor(e){this.sortedMappers=[],this.mappers=new Map,this._module=void 0,this.updatedSinceLastExecute=!1,this._module=e}startMapper(e){return this.mappers.set(e.id,e),this.updatedSinceLastExecute=!0,e.id}stopMapper(e){this.mappers.delete(e),this.updatedSinceLastExecute=!0}execute(){this.updatedSinceLastExecute&&(this.updateOrder(),this.updatedSinceLastExecute=!1);for(var e=0,t=this.sortedMappers.length;e<t;++e){var n=this.sortedMappers[e];n.dirty&&n.execute()}}updateOrder(){var e=[...this.mappers.values()].map((function(e){return new a(e)})),t={};this.mappers.forEach((function(e){t[e.id]=e}));for(var n=0,i=e.length;n<i;++n){var r=e[n];if(0!==r.mapper.outputs.length)for(var o=0;o<i;++o){var s=e[o];if(n!==o&&0!==s.mapper.inputs.length)for(var l=0,u=r.mapper.outputs.length;l<u;++l)for(var c=0,d=s.mapper.inputs.length;c<d;++c)r.mapper.outputs[l]._id===s.mapper.inputs[c]._id&&r.children.push(s)}}for(var p={},h=1,f=function(t){var n=e.indexOf(t);if(-1!==n){if(++h,e.splice(n,1),0===t.children.length&&e.length>0)return p[t.mapper.id]=h++,void f(e[0]);for(var i=0,r=t.children.length;i<r;++i)f(t.children[i]);p[t.mapper.id]=h++}};e.length;)f(e[0]);var _=Object.keys(p).map((function(e){var t=parseInt(e,10);return[t,p[t]]}));_.sort((function(e,t){return t[1]-e[1]})),this.sortedMappers=[];for(var v=0,g=_.length;v<g;++v){var[m]=_[v];this.sortedMappers.push(t[m])}}get needRunOnRender(){return this.updatedSinceLastExecute}}class a{constructor(e,t=[]){this.mapper=void 0,this.children=void 0,this.mapper=e,this.children=t}}class o{constructor(e,t){this._id=void 0,this._value=void 0,this._setter=void 0,this._animation=null,this._listeners=[],this._id=o.MUTABLE_ID++,this._value=e,this._setter=t}get value(){return this._value}set value(e){this._setter(e)}_setValue(e){this._value!==e&&(this._value=e,this._triggerListener())}addListener(e){this._listeners.push(e)}_triggerListener(){for(var e=0,t=this._listeners.length;e<t;++e)this._listeners[e]()}}o.MUTABLE_ID=1;class s{constructor(e,t,n=[],i=[],r){var a=this;this.id=void 0,this.dirty=void 0,this.flush=void 0,this.inputs=void 0,this.outputs=void 0,this.handler=void 0,this.id=s.MAPPER_ID++,this.dirty=r.immediate,this.flush=r.flush,this.inputs=this.extractMutablesFromArray(n),this.outputs=this.extractMutablesFromArray(i),this.handler=t;var o=function(){"async"===a.flush?(a.dirty=!0,e.maybeRequestRender()):a.execute()};this.inputs.forEach((function(e){e.addListener(o)}))}execute(){this.dirty=!1,this.handler()}extractMutablesFromArray(e){var t=[];return function e(n){null===n||(n instanceof o?t.push(n):Array.isArray(n)?n.forEach((function(t){return e(t)})):"object"==typeof n&&Object.keys(n).forEach((function(t){e(n[t])})))}(e),t}}s.MAPPER_ID=1;class l{constructor(e=!0){this.native=void 0,this.native=e}supported(){var e;return"object"==typeof SkylineGlobal&&!(null===(e=SkylineGlobal)||void 0===e||!e.workletModule)}get nativeModule(){return SkylineGlobal.workletModule}installCoreFunctions(e){return this.nativeModule.installCoreFunctions(e)}makeShareable(e){return this.nativeModule.makeShareable(e)}makeMutable(e){return this.nativeModule.makeMutable(e)}makeRemote(e={}){return this.nativeModule.makeRemote(e)}startMapper(e,t,n=[],i=[],r){return this.nativeModule.startMapper(e,t,n,i,r)}stopMapper(e,t){return this.nativeModule.stopMapper(e,t)}stopMappers(e,t){return this.nativeModule.stopMappers(e,t)}enableMapper(e,t){this.nativeModule.enableMapper(e,t)}disableMapper(e,t){this.nativeModule.disableMapper(e,t)}registerEventHandler(e,t){this.nativeModule.registerEventHandler(e,t)}unregisterEventHandler(e){this.nativeModule.unregisterEventHandler(e)}}(0,i.cv)()&&(globalThis._frameTimestamp=null,globalThis.workletUIModule={getCurrentTime:function(){return Date.now()},requestFrame:function(e,t){return 0},cancelFrame:function(e,t){},updateNodeStyle:function(e,t){},setGlobalConsole:function(e){},startUserGesture:function(e){},stopUserGesture:function(e){},navigatorPop:function(e,t){},updateAnimationController:function(e,t,n){},snapshotChangeMode:function(e,t,n){}});var u=new class extends l{constructor(){super(!1),this._valueSetter=void 0,this._renderRequested=!1,this._mapperRegistry=new r(this),this._frames=[],this.timeProvider=void 0,this.timeProvider={now:function(){return Date.now()}}}supported(){return!0}pushFrame(e){this._frames.push(e),this.maybeRequestRender()}getTimestamp(){return this.timeProvider.now()}requestAnimationFrame(e){var t=this;return"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout((function(){e(t.getTimestamp())}),16)}maybeRequestRender(){var e=this;this._renderRequested||(this._renderRequested=!0,this.requestAnimationFrame((function(t){e._renderRequested=!1,e._onRender(e.getTimestamp())})))}_onRender(e){this._mapperRegistry.execute();var t=[...this._frames];this._frames=[];for(var n=0,i=t.length;n<i;++n)t[n](e);this._mapperRegistry.needRunOnRender&&this._mapperRegistry.execute()}installCoreFunctions(e){this._valueSetter=e}makeShareable(e){return e}makeMutable(e){return new o(e,this._valueSetter)}makeRemote(e={}){return e}startMapper(e,t,n=[],i=[],r){var a=new s(this,t,n,i,r),o=this._mapperRegistry.startMapper(a);return this.maybeRequestRender(),o}stopMapper(e,t){this._mapperRegistry.stopMapper(t)}stopMappers(e,t){var n=this;t.forEach((function(e){return n._mapperRegistry.stopMapper(e)}))}enableMapper(e,t){}disableMapper(e,t){}registerEventHandler(e,t){}unregisterEventHandler(e){}},c=new l;__wxConfig.platform,__wxConfig.platform,__wxConfig.platform;var d=n(5838),p=(n(1710),(0,i.cv)()?u:c);var h,f=((h=function(){})._closure={},h.asString="function _f(){}",h.__workletHash=0xee9333ba43b,h.__location="src/worklet/core.ts (40:48)",h.__worklet=!0,h),_=function(e=!1){return function(e=!0){if(!f.__workletHash&&!(0,i.cv)()){if(e)throw new Error("failed to create a worklet, maybe forgot to add babel plugin?");return!1}return!0}(e)&&p.supported()},v=function(){if(!_(!0))throw new Error("worklet mechanism cannot be used, platform not support")};!function(){var e=function(e){if(!_WORKLET)return(0,d.s)(e);if(e.__callAsync)return e.__callAsync;throw new Error("Attempting to call runOnJS with an object that is not a host function. Using runOnJS is only possible with methods that are defined on the Javascript thread and that aren't marked as worklets")};e._closure={makeFunctionAsync:d.s},e.asString='function runOnJS(fun){const{makeFunctionAsync}=jsThis._closure;{if(!_WORKLET){return makeFunctionAsync(fun);}if(!fun.__callAsync){throw new Error("Attempting to call runOnJS with an object that is not a host function. Using runOnJS is only possible with methods that are defined on the Javascript thread and that aren\'t marked as worklets");}else{return fun.__callAsync;}}}',e.__workletHash=1101783697307,e.__location="src/worklet/core.ts (79:7)",e.__worklet=!0}();function g(e){p.pushFrame(e)}var m=function(){var e=function(e,t){p.native?"number"==typeof t?workletUIModule.requestFrame(t,e):setTimeout((function(){e(_frameTimestamp||workletUIModule.getCurrentTime())}),16):g(e)};return e._closure={workletModule:{native:p.native},pushFrame:g},e.asString="function requestFrame(frame,windowId){const{workletModule,pushFrame}=jsThis._closure;{function getTimestamp(){if(_frameTimestamp){return _frameTimestamp;}return workletUIModule.getCurrentTime();}if(!workletModule.native){pushFrame(frame);return;}if(typeof windowId==='number'){workletUIModule.requestFrame(windowId,frame);}else{setTimeout(function(){frame(getTimestamp());},16);}}}",e.__workletHash=5360619374794,e.__location="src/worklet/core.ts (104:0)",e.__worklet=!0,e}();!function(){var e=function(e,t){var n=this,i=this._animation;if(i&&(i.cancelled=!0,this._animation=null),!t)if("function"==typeof e||null!==e&&"object"==typeof e&&void 0!==e.onFrame){var r,a="function"==typeof e?e():e;if(this._value===a.current&&!a.isHigherOrder)return void(null===(r=a.callback)||void 0===r||r.call(a,!0));var o=function(e){if(a.cancelled){var t;null===(t=a.callback)||void 0===t||t.call(a,!1)}else{var i=a.onFrame(a,e);a.finished=!0,a.timestamp=e,n._value=a.current,m(i?function(){var e;null===(e=a.callback)||void 0===e||e.call(a,!0),n._animation=null}:o,n._windowId)}},s=function(e){a.onStart(a,n.value,e,i),o(e)};this._animation=a,_frameTimestamp?s(_frameTimestamp):m(s,this._windowId)}else{if(this._value===e)return;this._value=e}};e._closure={requestFrame:m},e.asString="function workletValueSetter(value,synchronized){const{requestFrame}=jsThis._closure;{var _this=this;const previousAnimation=this._animation;if(previousAnimation){previousAnimation.cancelled=true;this._animation=null;}if(synchronized)return;if(typeof value==='function'||value!==null&&typeof value==='object'&&value.onFrame!==undefined){const animation=typeof value==='function'?value():value;if(this._value===animation.current&&!animation.isHigherOrder){var _animation$callback;(_animation$callback=animation.callback)===null||_animation$callback===void 0?void 0:_animation$callback.call(animation,true);return;}const step=function(timestamp){if(animation.cancelled){var _animation$callback2;(_animation$callback2=animation.callback)===null||_animation$callback2===void 0?void 0:_animation$callback2.call(animation,false);return;}const finished=animation.onFrame(animation,timestamp);animation.finished=true;animation.timestamp=timestamp;_this._value=animation.current;if(finished){requestFrame(function(){var _animation$callback3;(_animation$callback3=animation.callback)===null||_animation$callback3===void 0?void 0:_animation$callback3.call(animation,true);_this._animation=null;},_this._windowId);}else{requestFrame(step,_this._windowId);}};const initializeAnimation=function(timestamp){animation.onStart(animation,_this.value,timestamp,previousAnimation);step(timestamp);};this._animation=animation;if(_frameTimestamp){initializeAnimation(_frameTimestamp);}else{requestFrame(initializeAnimation,this._windowId);}}else{if(this._value===value){return;}this._value=value;}}}",e.__workletHash=1469372007835,e.__location="src/worklet/core.ts (128:0)",e.__worklet=!0}();function E(e){return v(),p.makeMutable(e)}function y(e={}){return v(),p.makeRemote(e)}function T(e,t,n=[],i=[],r){return v(),p.startMapper(e,t,n,i,r)}function b(e,t){p.stopMapper(e,t)}function C(e,t){p.stopMappers(e,t)}function S(e,t){p.enableMapper(e,t)}function A(e,t){p.disableMapper(e,t)}function I(e,t){p.registerEventHandler(e,t)}function P(e){p.unregisterEventHandler(e)}},1710:(e,t,n)=>{"use strict";n.d(t,{jc:()=>_});n(3727);var i,r=n(5903),a=function(e){return e[e.dismissed=0]="dismissed",e[e.forward=1]="forward",e[e.reverse=2]="reverse",e[e.completed=3]="completed",e}({});r.o.cubicBezier(.18,1,.04,1),r.o.cubicBezier(.35,.91,.33,.97),r.o.cubicBezier(.67,.03,.65,.09),r.o.cubicBezier(.4,0,.2,1),r.o.cubicBezier(0,0,.2,1),r.o.cubicBezier(.215,.61,.355,1),r.o.in(r.o.ease),r.o.out(r.o.ease),r.o.ease,(i=function(e,t,n){return e<t?t:e>n?n:e})._closure={},i.asString="function _f(v,lower,upper){if(v<lower)return lower;if(v>upper)return upper;return v;}",i.__workletHash=0xf5d2c054649,i.__location="src/worklet/custom-route/util.ts (41:21)",i.__worklet=!0,function(){var e=function(e,t,n){return e+(t-e)*n};e._closure={},e.asString="function _f(begin,end,t){return begin+(end-begin)*t;}",e.__workletHash=9953309036832,e.__location="src/worklet/custom-route/util.ts (48:20)",e.__worklet=!0}();var o=n(8711);n(2117);var s=n(5838),l=n(8282),u=n(6444),c=new Map,d=function(e,t,n){var i=(0,u.cv)(),r=i?1:0,s=i?a.completed:a.dismissed,d=(0,o.c1)(r),p=(0,o.c1)(r),h=(0,o.c1)(s),f=(0,o.c1)(s);!function(e){if(!c.has(e)){var t={userGestureInProgress:(0,o.c1)(!1),userGesturesInProgressCount:(0,o.c1)(0)},n=t.userGestureInProgress,i=function(){var e=function(e){var t=e.value;n.value=t};return e._closure={userGestureInProgress:n},e.asString="function _f(args){const{userGestureInProgress}=jsThis._closure;{const newVal=args.value;userGestureInProgress.value=newVal;}}",e.__workletHash=0x9a4ecb9a222,e.__location="src/worklet/custom-route/context.ts (34:23)",e.__worklet=!0,e}(),r=new l.Z(i,"userGestureInProgressChange");r.register(e),t.userGestureInProgressHandler=r,c.set(e,t)}}(e);var _=c.get(e),{userGestureInProgress:v,userGesturesInProgressCount:g}=_,m=function(){var t=function(){g.value+=1,1===g.value&&workletUIModule.startUserGesture(e)};return t._closure={userGesturesInProgressCount:g,windowId:e},t.asString="function startUserGesture(){const{userGesturesInProgressCount,windowId}=jsThis._closure;{userGesturesInProgressCount.value+=1;if(userGesturesInProgressCount.value===1){workletUIModule.startUserGesture(windowId);}}}",t.__workletHash=0xaf0603d1498,t.__location="src/worklet/custom-route/context.ts (82:2)",t.__worklet=!0,t}(),E=function(){var t=function(){g.value<=0?console.error("For developer: startUserGesture and stopUserGesture must be called in pairs"):(g.value-=1,0===g.value&&workletUIModule.stopUserGesture(e))};return t._closure={userGesturesInProgressCount:g,windowId:e},t.asString="function stopUserGesture(){const{userGesturesInProgressCount,windowId}=jsThis._closure;{if(userGesturesInProgressCount.value<=0){console.error('For developer: startUserGesture and stopUserGesture must be called in pairs');return;}userGesturesInProgressCount.value-=1;if(userGesturesInProgressCount.value===0){workletUIModule.stopUserGesture(windowId);}}}",t.__workletHash=7506887337204,t.__location="src/worklet/custom-route/context.ts (90:2)",t.__worklet=!0,t}(),y=function(){var n=function(){if(g.value>0)for(console.error("For developer: didPop should not be invoked before stopUserGesture");g.value>0;)E();workletUIModule.navigatorPop(e,t)};return n._closure={userGesturesInProgressCount:g,stopUserGesture:E,windowId:e,pageId:t},n.asString="function didPop(){const{userGesturesInProgressCount,stopUserGesture,windowId,pageId}=jsThis._closure;{if(userGesturesInProgressCount.value>0){console.error('For developer: didPop should not be invoked before stopUserGesture');while(userGesturesInProgressCount.value>0){stopUserGesture();}}workletUIModule.navigatorPop(windowId,pageId);}}",n.__workletHash=0xf70df3863c2,n.__location="src/worklet/custom-route/context.ts (102:2)",n.__worklet=!0,n}();return{routeType:n,primaryAnimation:d,primaryAnimationStatus:h,secondaryAnimation:p,secondaryAnimationStatus:f,userGestureInProgress:v,userGesturesInProgressCount:g,startUserGesture:m,stopUserGesture:E,didPop:y}},p={isCustomRoute:!0,opaque:!0,maintainState:!0,transitionDuration:400,reverseTransitionDuration:400,barrierColor:"",barrierDismissible:!1,barrierLabel:"",canTransitionTo:!0,canTransitionFrom:!0,popGestureEnabled:!0,allowEnterRouteSnapshotting:!1,allowExitRouteSnapshotting:!1,fullscreenDrag:!1,popGestureDirection:"horizontal"},h=new Map,f=new Map;function _(e){var{windowId:t,pageId:n,routeType:i,routeOptions:r,externalRouteConfig:a}=e,o=function(e){return h.get(e)}(i);if("function"==typeof o){wxNativeConsole.info(`[WABaseLib.Critical] create RouteContext routeType: ${i} page: ${n}`);var l=d(t,n,i);f.set(n,l);var u=o(l,r),c=Object.assign({},p,u,a||{});return"function"==typeof c.handlePrimaryAnimation&&((0,s.C)(c.handlePrimaryAnimation,!1)||console.warn(`routeType(${i}) handlePrimaryAnimation should be a worklet function`)),"function"==typeof c.handleSecondaryAnimation&&((0,s.C)(c.handleSecondaryAnimation,!1)||console.warn(`routeType(${i}) handleSecondaryAnimation should be a worklet function`)),{routeContext:l,routeConfig:c}}}},8282:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(2117);class r{constructor(e,t){this.eventName=void 0,this.eventHash=void 0,this.worklet=void 0,this.worklet=e,this.eventName=t}register(e){this.eventHash=`${this.eventName}-${e}`,(0,i.$v)(this.eventHash,this.worklet)}unregister(){this.eventHash&&(0,i.dl)(this.eventHash)}}},3727:(e,t,n)=>{"use strict";n(296),n(2117),n(5838)},8711:(e,t,n)=>{"use strict";n.d(t,{dq:()=>c,c1:()=>r});var i=n(2117);function r(e){return(0,i.vG)(e)}var a,o=n(296),s=((a=function(e){for(var t=[e];t.length>0;){var n=t.pop();if(Array.isArray(n))for(var i of n)t.push(i);else{if(void 0!==(null==n?void 0:n.onFrame))return!0;if("object"==typeof n)for(var r of Object.values(n))t.push(r)}}return!1})._closure={},a.asString="function isAnimated(prop){const propsToCheck=[prop];while(propsToCheck.length>0){const currentProp=propsToCheck.pop();if(Array.isArray(currentProp)){for(const item of currentProp){propsToCheck.push(item);}}else if((currentProp===null||currentProp===void 0?void 0:currentProp.onFrame)!==undefined){return true;}else if(typeof currentProp==='object'){for(const item of Object.values(currentProp)){propsToCheck.push(item);}}}return false;}",a.__workletHash=3559579197933,a.__location="src/worklet/hook/utils.ts (14:7)",a.__worklet=!0,a),l=(function(){var e=function(e,t){var n={};for(var i in e)void 0===t[i]&&(n[i]=null);for(var r in t){var a=t[r],o=e[r];s(a)||o!==a&&(n[r]=a)}return n};e._closure={isAnimated:s},e.asString="function styleDiff(oldStyle,newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in oldStyle){if(newStyle[key]===undefined){diff[key]=null;}}for(const key in newStyle){const value=newStyle[key];const oldValue=oldStyle[key];if(isAnimated(value)){continue;}if(oldValue!==value){diff[key]=value;}}return diff;}}",e.__workletHash=0xfe47055e6f3,e.__location="src/worklet/hook/utils.ts (37:7)",e.__worklet=!0}(),function(){var e=function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(e[n[r]]!==t[n[r]])return!1;return!0};e._closure={},e.asString="function shallowEqual(a,b){const aKeys=Object.keys(a);const bKeys=Object.keys(b);if(aKeys.length!==bKeys.length){return false;}for(let i=0;i<aKeys.length;i++){if(a[aKeys[i]]!==b[aKeys[i]]){return false;}}return true;}",e.__workletHash=0xd7d951db86a,e.__location="src/worklet/hook/utils.ts (60:7)",e.__worklet=!0}(),function(){var e=function(e){var t={};for(var n in e){var i=e[n];s(i)||(t[n]=i)}return t};e._closure={isAnimated:s},e.asString="function getStyleWithoutAnimations(newStyle){const{isAnimated}=jsThis._closure;{const diff={};for(const key in newStyle){const value=newStyle[key];if(isAnimated(value)){continue;}diff[key]=value;}return diff;}}",e.__workletHash=2190466090064,e.__location="src/worklet/hook/utils.ts (75:7)",e.__worklet=!0}(),function(){var e=function(e){if("object"!=typeof e)throw new Error(`createAnimatedStyle has to return an object, found ${typeof e} instead`)};e._closure={},e.asString='function _f(styles){if(typeof styles!==\'object\'){throw new Error("createAnimatedStyle has to return an object, found "+typeof styles+" instead");}}',e.__workletHash=9807328913452,e.__location="src/worklet/hook/utils.ts (89:38)",e.__worklet=!0}(),function(){var e=function(e){var t="";return Object.keys(e).forEach((function(n){var i=n.replace(/([A-Z])/g,"-$1").toLowerCase();t+=i+": "+e[n]+"; "})),t};return e._closure={},e.asString="function convertToCssText(obj){let cssText='';Object.keys(obj).forEach(function(key){const hyphenatedKey=key.replace(/([A-Z])/g,'-$1').toLowerCase();cssText+=hyphenatedKey+': '+obj[key]+'; ';});return cssText;}",e.__workletHash=1169828150415,e.__location="src/worklet/hook/utils.ts (96:7)",e.__worklet=!0,e}());function u(e,t){if("object"==typeof e&&void 0===e.value)for(var n of Object.keys(e))u(e[n],n);else if(void 0!==t&&"object"==typeof e&&void 0!==e.value)throw new Error(`invalid value passed to \`${t}\`, maybe you forgot to use \`.value\`?`)}function c(e,t,n){var r,a={immediate:!0,flush:"async"};n&&Object.keys(n).forEach((function(e){return a[e]=n[e]}));var s={};if(a.immediate){if("object"!=typeof(s=(0,o.AX)(t)))throw new Error(`applyAnimatedStyle updater has to return an object, found ${typeof s} instead`);u(s)}var c=function(){var e=function(e,n){var i;var r,a,o=null!==(i=t())&&void 0!==i?i:{},s=(r=o,a="",Object.keys(r).forEach((function(e){var t=e.replace(/([A-Z])/g,"-$1").toLowerCase();a+=t+": "+r[e]+"; "})),a);Array.isArray(n)?n.forEach((function(e){return workletUIModule.updateNodeStyle(e,s)})):console.warn("applyAnimatedStyle can not find corresponding nodes")};return e._closure={updater:t},e.asString="function _f(_,nodes){const{updater}=jsThis._closure;{var _updater;function convertToCssText(obj){let cssText='';Object.keys(obj).forEach(function(key){const hyphenatedKey=key.replace(/([A-Z])/g,'-$1').toLowerCase();cssText+=hyphenatedKey+': '+obj[key]+'; ';});return cssText;}const updates=(_updater=updater())!==null&&_updater!==void 0?_updater:{};const inlineStyle=convertToCssText(updates);if(!Array.isArray(nodes)){console.warn('applyAnimatedStyle can not find corresponding nodes');return;}nodes.forEach(function(node){return workletUIModule.updateNodeStyle(node,inlineStyle);});}}",e.__workletHash=6718614983920,e.__location="src/worklet/hook/animatedStyle.ts (65:23)",e.__worklet=!0,e}(),d=Object.values(null!==(r=t._closure)&&void 0!==r?r:{}),p=(0,i.Rn)(e,c,d,[],a);return{initialStyle:l(s),mapperId:p}}n(3727)},404:(e,t,n)=>{"use strict";n.d(t,{oY:()=>u.o,dq:()=>s.dq,id:()=>o.id,QP:()=>o.QP,jc:()=>c.jc,c1:()=>s.c1,Rn:()=>o.Rn,BV:()=>o.BV,IE:()=>o.IE,LY:()=>l.LY});(i=function(e,t){null!=e?workletUIModule.snapshotChangeMode?workletUIModule.snapshotChangeMode(e,t):console.warn("For developer: client version is too old, SnapshotContext.changeMode can not work"):console.warn("snapshotContext.changeMode: fail invalid parameter ref")})._closure={},i.asString="function _f(ref,mode){if(ref===undefined||ref===null){console.warn('snapshotContext.changeMode: fail invalid parameter ref');return;}if(workletUIModule.snapshotChangeMode){workletUIModule.snapshotChangeMode(ref,mode);}else{console.warn('For developer: client version is too old, SnapshotContext.changeMode can not work');}}",i.__workletHash=0xbeb71932950,i.__location="src/worklet/operateWidgets.ts (1:19)",i.__worklet=!0;var i,r={left:0,top:0,right:0,bottom:0,width:0,height:0},a=(function(){var e=function(e){return null==e?(console.warn("getBoundingClientRect: fail invalid parameter ref"),r):workletUIModule.getBoundingClientRect?workletUIModule.getBoundingClientRect(e):(console.warn("For developer: client version is too old, getBoundingClientRect can not work"),r)};e._closure={zeroRect:r},e.asString="function _f(ref){const{zeroRect}=jsThis._closure;{if(ref===undefined||ref===null){console.warn('getBoundingClientRect: fail invalid parameter ref');return zeroRect;}if(workletUIModule.getBoundingClientRect){return workletUIModule.getBoundingClientRect(ref);}else{console.warn('For developer: client version is too old, getBoundingClientRect can not work');return zeroRect;}}}",e.__workletHash=7110762991893,e.__location="src/worklet/operateWidgets.ts (26:37)",e.__worklet=!0}(),{offset:0,duration:300,animated:!0,easingFunction:"ease"}),o=(function(){var e=function(e,t){if(null!=e){var n=Object.assign({},a,t),i=0;"number"==typeof n.top?i=n.top:"number"==typeof n.left&&(i=n.left),n.offset=i,delete n.top,delete n.left,workletUIModule.scrollTo?workletUIModule.scrollTo(e,n):console.warn("For developer: client version is too old, ScrollViewContext.scrollTo can not work")}else console.warn("scrollTo: fail invalid parameter ref")};e._closure={defaultScrollToOptions:a},e.asString="function _f(ref,options){const{defaultScrollToOptions}=jsThis._closure;{if(ref===undefined||ref===null){console.warn('scrollTo: fail invalid parameter ref');return;}const opts=Object.assign({},defaultScrollToOptions,options);let offset=0;if(typeof opts.top==='number'){offset=opts.top;}else if(typeof opts.left==='number'){offset=opts.left;}opts.offset=offset;delete opts.top;delete opts.left;if(workletUIModule.scrollTo){workletUIModule.scrollTo(ref,opts);}else{console.warn('For developer: client version is too old, ScrollViewContext.scrollTo can not work');}}}",e.__workletHash=0xfc22dfa68fa,e.__location="src/worklet/operateWidgets.ts (58:17)",e.__worklet=!0}(),n(2117)),s=n(8711),l=n(296),u=n(5903),c=(n(5037),n(1710));n(5838)},6444:(e,t,n)=>{"use strict";n.d(t,{cv:()=>r});var i="skyline";function r(){return!("skyline"===i)}},5838:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,s:()=>a});var i,r=((i=function(e,t=!1){if(!e.__worklet){if(t)throw new Error("parameter type error, should use worklet function");return!1}return!0})._closure={},i.asString="function _f(func,throwError=false){if(!func.__worklet){if(throwError){throw new Error('parameter type error, should use worklet function');}return false;}return true;}",i.__workletHash=1947773686838,i.__location="src/worklet/util.ts (1:32)",i.__worklet=!0,i);function a(e){return"function"!=typeof e?e:function(...t){setTimeout((function(){e(...t)}))}}},3888:e=>{"use strict";e.exports=BabelRuntimeHelpers.asyncToGenerator}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={exports:{}};return n[e](a,a.exports,r),a.exports}r.m=n,r.x=()=>{var e=r.O(void 0,[160,547,17,998],(()=>r(9934)));return e=r.O(e)},r.amdO={},e=[],r.O=(t,n,i,a)=>{if(!n){var o=1/0;for(c=0;c<e.length;c++){for(var[n,i,a]=e[c],s=!0,l=0;l<n.length;l++)(!1&a||o>=a)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(s=!1,a<o&&(o=a));if(s){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,i,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"./dist/skyline.js",r.miniCssF=e=>160===e?"dist/style.css":547===e?"dist/style-v2.css":17===e?"dist/style-v2-dark.css":998===e?"dist/style-dark.css":void 0,r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="",(()=>{var e={28:1,160:1,547:1,17:1,998:1};r.O.require=t=>e[t];r.f.require=(t,n)=>{e[t]||(28==t?(t=>{var n=t.modules,i=t.ids,a=t.runtime;for(var o in n)r.o(n,o)&&(r.m[o]=n[o]);a&&a(r);for(var s=0;s<i.length;s++)e[i[s]]=1;r.O()})(require("../"+r.u(t))):e[t]=1)}})(),t=r.x,r.x=()=>(r.e(160),r.e(547),r.e(17),r.e(998),t());var a=r.x();__skylineEngine__=a})(),(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{convertClassList:()=>n,getTextContentMaxLayer:()=>l,getTextContentMaxLength:()=>u,limitContent:()=>i,setActionChainReportTypes:()=>s,shouldReportEvent:()=>c});var n=e=>{try{return"[object Array]"!==Object.prototype.toString.call(e)?[]:e.join(",")}catch(e){return""}},i=(e,t)=>"string"!=typeof e?null:(e.length>30&&(e=e.slice(0,t)),e),r={},a=3,o=30,s=e=>{e&&"object"==typeof e&&(r=e.eventType||{},a=void 0!==e.textContentMaxLayer?e.textContentMaxLayer:3,o=void 0!==e.textContentMaxLength?e.textContentMaxLength:30)},l=()=>a,u=()=>o,c=e=>r[e];__userActionTracer__=t})(),(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{callInitReady:()=>N,createTracer:()=>U,getAllPageIds:()=>W,getRandomPageId:()=>V,getStyleSheetManager:()=>g,getStyleSheetScope:()=>B,getTextStyle:()=>o,injectTextStyle:()=>a,invalidateAllPreCompiled:()=>F,onRenderDone:()=>M,prepareWeUIV2:()=>y,processAppInitData:()=>L,publishPageEvent:()=>O,removeStyleSheetManager:()=>m,setGlassEaselAdapter:()=>b,setGlobalStyle:()=>i,styleSheetRuntime:()=>d});var n={};function i(e,t){n[e]=t}var r=e=>{var t=new Map;return n=>{if(t.has(n))return t.get(n);var i=e(n);return t.set(n,i),i}},a=r((e=>{var t=window.__vd_version_info__.noCss;window.__vd_version_info__.noCss=!1,__subContextEngine__.loadJsFiles(["common.app.js","webview.app.js",`${e}.webview.js`]),window.__vd_version_info__.noCss=t})),o=r((e=>{var t;if(e.startsWith("wxlibfile://")){var i=e.slice(12);return __subContextEngine__.loadLibFiles([i+".css.js"]),n[i]||""}var r=`./${e}.wxss`,a=null===(t=window)||void 0===t?void 0:t.__wxAppCode__,o=null==a?void 0:a[`${e}.wxss`];return null==o||o("",{allowIllegalSelector:!0}),window.fakeStyleTags.filter((e=>e.path===r)).map((e=>e.styleSheet.cssText||"")).join("")}));class s{static version(){return 3}constructor(e,t){this._$=void 0,this.styleSheetIndexes=new Map,this.indexGroups=[],this.injectedScopes=new Set,this.styleSheets=new Map,this.pendingStyleScopes=new Set,this.backendContext=null,this.supportAppendStyleSheets=!1,this.supportPreCompileStyleSheets=!1,this.supportCreateStyleSheetScopeRuleSet=!1,this.updateLock=!1,this.pageId=void 0,this.pageId=e,this._$=t,this._$.managers[e]=this,this._$.fallbackGlobalStyleSheet&&this.batchUpdate((()=>{this._$.indexGroups.forEach((e=>{this.addIndexGroup(e.prefix)})),this._$.styleSheetIndexes.forEach((e=>{this.setIndex(e.path)})),this._$.styleSheets.forEach((e=>{e.binary?this.setBinary(e.path,e.styleScope,e.priority):this.setText(e.path,e.styleScope,e.priority)}))}))}warn(...e){wxNativeConsole.warn(`[StyleSheetManager] [pageId=${this.pageId}]`,...e)}error(...e){wxNativeConsole.error(`[StyleSheetManager] [pageId=${this.pageId}]`,...e)}registerBackendContext(e){this.backendContext=e,this.supportAppendStyleSheets="function"==typeof e.appendStyleSheets,wxNativeConsole.info(`[SkylineStyle] backend supports appendStyleSheets: ${this.supportAppendStyleSheets}`),this.supportPreCompileStyleSheets="function"==typeof e.preCompileStyleSheets,wxNativeConsole.info(`[SkylineStyle] backend supports preCompileStyleSheets: ${this.supportPreCompileStyleSheets}`),this.supportCreateStyleSheetScopeRuleSet="function"==typeof e.createStyleSheetScopeRuleSet,wxNativeConsole.info(`[SkylineStyle] backend supports createStyleSheetScopeRuleSet: ${this.supportCreateStyleSheetScopeRuleSet}`),"function"==typeof e.useRuntimeStyleSheets&&!1===this._$.fallbackGlobalStyleSheet&&e.useRuntimeStyleSheets(),this.requestUpdate()}isBackendContextReady(){return null!==this.backendContext}addIndexGroup(e){this.indexGroups.find((t=>t.prefix===e))||(this.indexGroups.push({prefix:e}),this.requestUpdate())}matchIndexGroup(e){if(!this._$.fallbackGlobalStyleSheet)return this._$.matchIndexGroup(e);for(var t=0;t<this.indexGroups.length;++t)if(e.startsWith(this.indexGroups[t].prefix))return this.indexGroups[t];return this.indexGroups[0]}setIndex(e){this.styleSheetIndexes.has(e)||(this.styleSheetIndexes.set(e,{injected:!1,path:e}),this.requestUpdate())}setStyleSheet(e,t,n){this._$.useBinary?this.setBinary(e,t,n):this.setText(e,t,n)}setText(e,t,n){if(!this.styleSheets.has(e)){null===t&&(this.error(`[setPlain] styleScope not specified for "${e}", using 0 instead`),t=0);var i={injected:0,binary:!1,styleScope:t,path:e,content:o(e),enabled:!0,priority:n,index:this.styleSheets.size};this.styleSheets.set(e,i),this.requestUpdate()}}setBinary(e,t,n){if(this.styleSheets.has(e))null!==t&&this.setStyleScope(e,t);else if(this._$.useBinary){var i={injected:0,binary:!0,styleScope:t,styleScopeSetter:null,path:e,enabled:!0,priority:n,index:this.styleSheets.size};this.styleSheets.set(e,i),this.requestUpdate()}}setStyleScope(e,t){var n=this.styleSheets.get(e);null!=n&&n.binary&&null===n.styleScope&&(n.styleScope=t,null!==n.styleScopeSetter&&(n.styleScopeSetter.setScopeId(t),n.styleScopeSetter=null,n.injected=2,this.injectedScopes.add(t)),this.pendingStyleScopes.delete(n))}clearPendingScopeSetters(){this.pendingStyleScopes.forEach((e=>{null!==e.styleScopeSetter&&(e.styleScopeSetter=null)})),this.pendingStyleScopes.clear()}getStyleSheet(e){return this.styleSheets.get(e)}disableStyleSheet(e){this.styleSheets.has(e)&&(this.styleSheets.get(e).enabled=!1,this.requestUpdate())}preventUpdate(){this.updateLock=!0}allowUpdate(){this.updateLock=!1}batchUpdate(e){this.preventUpdate(),e(),this.allowUpdate(),this.requestUpdate()}requestUpdate(){if(null!==this.backendContext&&!this.updateLock){var e=this._$.sortStyleSheets(Array.from(this.styleSheets.values()));this._$.fallbackGlobalStyleSheet&&(this.indexGroups.sort(((e,t)=>t.prefix.length-e.prefix.length)),this.indexGroups.forEach((e=>{void 0===e.id&&(e.id=this.backendContext.createStyleSheetIndexGroup(),e.id,e.prefix)})),this.styleSheetIndexes.forEach((e=>{if(!e.injected){var t=this.matchIndexGroup(e.path);this.backendContext.appendStyleSheetIndex(e.path,t.id),e.path,t.prefix,e.injected=!0}}))),e.some((e=>0!==e.injected&&!e.enabled))&&(this.backendContext.clearStylesheets(),this.styleSheets.forEach((e=>{e.injected=0})),this.injectedScopes.clear());var t=[],n=[],i=[];if(e.forEach((e=>{if(0===e.injected&&e.enabled){var r=e.path,a=this.matchIndexGroup(r);e.binary?null!==e.styleScope?t.push({groupId:a.id,path:r.slice(a.prefix.length),prefix:a.prefix,scopeId:e.styleScope,styleSheet:e}):this.supportPreCompileStyleSheets&&n.push({groupId:a.id,path:r.slice(a.prefix.length),prefix:a.prefix,styleSheet:e}):i.push({content:e.content||"",scopeId:e.styleScope,styleSheet:e})}})),0!==t.length&&this._$.useBinary&&(this.backendContext.appendCompiledStyleSheets(t),t.forEach((e=>{e.path,e.scopeId,e.prefix,e.styleSheet.injected=2,this.injectedScopes.add(e.scopeId)}))),0!==n.length&&this._$.useBinary&&this.supportPreCompileStyleSheets)for(var r=this.backendContext.preCompileStyleSheets(n),a=0;a<n.length;++a){var o=n[a];o.path,o.prefix,o.styleSheet.styleScopeSetter=r[a],o.styleSheet.injected=1,this.pendingStyleScopes.add(o.styleSheet)}0!==i.length&&this.supportAppendStyleSheets&&(this.backendContext.appendStyleSheets(i),i.forEach((e=>{e.styleSheet.injected=2,this.injectedScopes.add(e.scopeId)})));var s=new Set(Array.from(this._$.allScopes));if(this.injectedScopes.forEach((e=>{s.delete(e)})),s.size>0)if(this.supportCreateStyleSheetScopeRuleSet)s.forEach((e=>{this.backendContext.createStyleSheetScopeRuleSet(e),this.injectedScopes.add(e)}));else{var l=Array.from(s).map((e=>({content:"",scopeId:e})));this.backendContext.appendStyleSheets(l),s.forEach((e=>{this.injectedScopes.add(e)}))}}}invalidateBinary(){null!==this.backendContext?(this.backendContext.clearStylesheets(),this.styleSheets.forEach((e=>{e.binary&&(e.injected=0)})),this.injectedScopes.clear(),this.requestUpdate(),this.backendContext.recalcStyle()):this.warn("requested invalidateBinary but backend context is not ready, ignoring")}}var l,u,c,d=new class{constructor(){this.managers={},this.useBinary=!0,this.backendRuntime=null,this.styleSheetIndexes=new Map,this.indexGroups=[],this.styleSheets=new Map,this.allScopes=new Set,this.fallbackGlobalStyleSheet=!0,this.updateLock=!1,this.styleSheetComparator=(e,t)=>e.priority!==t.priority?-(e.priority-t.priority):e.index-t.index}sortStyleSheets(e){return e.sort(this.styleSheetComparator)}registerBackendRuntime(e){this.backendRuntime=e,this.addIndexGroup(""),this.requestUpdate()}isBackendRuntimeReady(){return null!==this.backendRuntime}addIndexGroup(e){this.indexGroups.find((t=>t.prefix===e))||(this.indexGroups.push({prefix:e}),this.requestUpdate(),this.fallbackGlobalStyleSheet&&Object.values(this.managers).forEach((t=>{t.addIndexGroup(e)})))}matchIndexGroup(e){for(var t=0;t<this.indexGroups.length;++t)if(e.startsWith(this.indexGroups[t].prefix))return this.indexGroups[t];return this.indexGroups[0]}setIndex(e){this.styleSheetIndexes.has(e)||(this.styleSheetIndexes.set(e,{injected:!1,path:e}),this.fallbackGlobalStyleSheet&&Object.values(this.managers).forEach((t=>{t.setIndex(e)})),this.requestUpdate())}addScope(e){"number"==typeof e&&this.allScopes.add(e)}setGlobalStyleSheet(e,t=0){this.useBinary?this.setGlobalBinary(e,t):this.setGlobalText(e,t)}setGlobalText(e,t=0){if(!this.styleSheets.has(e)){var n={injected:0,binary:!1,styleScope:0,path:e,content:o(e),enabled:!0,priority:t,index:this.styleSheets.size};this.styleSheets.set(e,n),this.fallbackGlobalStyleSheet&&Object.values(this.managers).forEach((n=>{n.setText(e,0,t)})),this.requestUpdate()}}setGlobalBinary(e,t=0){if(!this.styleSheets.has(e)&&this.useBinary){var n={injected:0,binary:!0,styleScope:0,styleScopeSetter:null,path:e,enabled:!0,priority:t,index:this.styleSheets.size};this.styleSheets.set(e,n),this.fallbackGlobalStyleSheet&&Object.values(this.managers).forEach((n=>{n.setBinary(e,0,t)})),this.requestUpdate()}}preventUpdate(){this.updateLock=!0}allowUpdate(){this.updateLock=!1}batchUpdate(e){this.preventUpdate(),e(),this.allowUpdate(),this.requestUpdate()}needClear(){for(var e of this.styleSheets.values())if(0!==e.injected&&!e.enabled)return!0;return!1}prepareStyleSheets(){var e=[],t=[];return this.sortStyleSheets(Array.from(this.styleSheets.values())).forEach((n=>{if(0===n.injected&&n.enabled){n.injected=2;var i=n.path,r=this.matchIndexGroup(i);n.binary?e.push({groupId:r.id,path:i.slice(r.prefix.length),prefix:r.prefix}):t.push({content:n.content||""})}})),{binary:e,text:t}}requestUpdate(){if(null!==this.backendRuntime&&!this.updateLock&&!this.fallbackGlobalStyleSheet){this.indexGroups.sort(((e,t)=>t.prefix.length-e.prefix.length)),this.indexGroups.forEach((e=>{void 0===e.id&&(e.id=this.backendRuntime.createStyleSheetIndexGroup())})),this.styleSheetIndexes.forEach((e=>{if(!e.injected){var t=this.matchIndexGroup(e.path);this.backendRuntime.appendStyleSheetIndex(e.path,t.id),e.injected=!0}})),this.needClear()&&(this.backendRuntime.clearStylesheets(),this.styleSheets.forEach((e=>{e.injected=0})));var{binary:e,text:t}=this.prepareStyleSheets();0!==e.length&&this.useBinary&&this.backendRuntime.appendCompiledStyleSheets(e),0!==t.length&&this.backendRuntime.appendStyleSheets(t)}}},p="wxlibfile://WAStyleIndex.fpiib",h="wxlibfile://WASkylineStyle",f="wxlibfile://WASkylineStyleDark",_="wxlibfile://WASkylineStyleV2",v="wxlibfile://WASkylineStyleV2Dark",g=e=>(void 0===d.managers[e]&&new s(e,d),d.managers[e]),m=e=>{delete d.managers[e]},E=(l=()=>{d.batchUpdate((()=>{d.setIndex(p),d.setGlobalStyleSheet(h,3),__wxConfig.onReady((()=>{void 0!==__wxConfig.theme&&d.setGlobalStyleSheet(f,3)}))}))},u=!1,()=>{u||(u=!0,l())}),y=()=>{__wxConfig.onReady((()=>{"v2"===__wxConfig.style&&(E(),d.batchUpdate((()=>{d.setGlobalStyleSheet(_,3),void 0!==__wxConfig.theme&&d.setGlobalStyleSheet(v,3)})))}))},T="clicfg_appbrand_skyline_text_style";__wxConfig.onReady((()=>{var e,t,n,i,r,a=null!==(e=null===(t=__wxConfig)||void 0===t||null===(n=t.expt)||void 0===n?void 0:n[T])&&void 0!==e?e:"0";wxNativeConsole.info(`[SkylineStyle] ${T}=${a}`),("1"===a||null!==(i=__wxConfig)&&void 0!==i&&null!==(r=i.rendererOptions)&&void 0!==r&&r.__useTextStyle)&&(wxNativeConsole.info("[SkylineStyle] fallback to text style"),window.__vd_version_info__.noCss=!1,d.useBinary=!1)}));var b=e=>{c=e},C=()=>c,S={delayedGwx:!1,genObject:!1,globalThis:globalThis,noCss:!0},A=function(e){return e.auto="auto",e.manual="manual",e.static="static",e}({}),I=null,P=e=>{I=e},w=()=>{var e;null===(e=I)||void 0===e||e()},R=e=>{var t,n=null!==(t=A[e])&&void 0!==t?t:A.static;(wxNativeConsole.info("[Webview Preload] type="+n),n===A.auto)&&P((()=>{wxNativeConsole.info("[Webview Preload] request preload at "+Date.now()),wx.preloadWebview({permissionBytes:[1,1,1],complete(e){wxNativeConsole.info("[Webview Preload] preload res: "+JSON.stringify(e))}})}));return n!==A.static};function x(e,t){var{family:n,source:i,desc:r={},callbackId:a}=e,o=`\n    @font-face {\n      font-family: "${n}";\n      src: ${i};\n      font-weight: ${r.weight};\n      font-stretch: ${r.stretch};\n      font-variant: ${r.variant};\n      font-feature-setting: ${r.featureSettings};\n      unicode-range: ${r.unicodeRange};\n      font-style: ${r.style};\n    }\n  `,s=`__fontface__/${encodeURIComponent(n)}`,l=window.fakeDocument.createElement("style");if(l.setAttribute("wxss:path",`./${s}.wxss`),l.styleSheet.cssText=o,window.fakeDocument.head.appendChild(l),0===t)d.setGlobalText(s,C().StyleSheetPriority.App);else{if(!d.managers[t])return void wx.publish("loadedFontFace",{callbackId:a,errMsg:"loadFontFace:fail not skyline page found"});var u;d.managers[t].setText(s,null===(u=C().getEnv().getCodeSpace("/"))||void 0===u?void 0:u._$sharedStyleScope,C().StyleSheetPriority.RootComponent)}wx.publish("loadedFontFace",{callbackId:a,errMsg:"loadFontFace:ok"})}var O=e=>{wx.publishPageEvent("__DOMReady",{},void 0,e)},N=(e,t,n)=>{n?wx.initReadyAfterRenderingCache({},t):wx.initReady({ignoreWebviewPreload:e},t)},D=globalThis;function k(e){e!==wx.version.version&&D.Reporter.reportIDKey({key:"clientLibVersionNotMatch"})}function L(e){var t,n=!1,i=!1;if(e.ext&&(k(e.ext.wechatLibVersion),Object.keys(e.ext).forEach((t=>{window[`__${t}__`]=e.ext[t]})),void 0!==e.ext.statesData&&(n=!0),i=R(e.ext.windowConfig.handleWebviewPreload),window.__wxConfigAppService__=e.ext.wxConfig,window.__wxConfigWindow__=e.ext.windowConfig,window.__route__=e.ext.route,window.__lastRoute__=e.ext.lastRoute,window.__query__=e.ext.query,window.__queryString__=Object.keys(e.ext.query||{}).map((t=>`${t}=${e.ext.query[t]}`)).join("&"),window.__lastQueryString__=Object.keys(e.ext.lastQuery||{}).map((t=>`${t}=${e.ext.lastQuery[t]}`)).join("&"),window.__debug__=e.ext.debug,window.__appId__=e.ext.appId,window.__navigationStyle__=e.ext.navigationStyle,window.__subPackages=e.ext.subPackages,window.__fontSizeSetting__=e.ext.fontSizeSetting,window.__wxConfigAppService__&&"string"==typeof window.__wxConfigAppService__.appContactInfo&&(window.__wxConfigAppService__.appContactInfo=JSON.parse(window.__wxConfigAppService__.appContactInfo))),null!==(t=e.ext)&&void 0!==t&&t.traceActionReportInfo){var r=e.ext.traceActionReportInfo;__userActionTracer__.setActionChainReportTypes({eventType:r.eventType,textContentMaxLength:r.textContentMaxLength,textContentMaxLayer:r.textContentMaxLayer})}return{isPageReload:n,ignoreWebviewPreload:i}}function M(){setTimeout((()=>{w()}),500)}function B(e,t){var n=g(e).getStyleSheet(t);return void 0===n?null:n.styleScope}function F(e){g(e).invalidateBinary()}window.__isPageReload__=!1,window.__DOMTree__=void 0,Foundation.onLibraryEnd((()=>{window.__webview_engine_version__=.02,globalThis.__vd_version_info__=window.__vd_version_info__=S,E(),wx.subscribe("loadFontFace",x)}));var V=e=>{C().getEnv().getRandomPageId(e)},W=()=>C().getEnv().getAllPageIds(),U=wx.createTracer.bind(wx);__webviewEngine__=t})();var __WXML_GLOBAL__=__WXML_GLOBAL__||{entrys:{},defines:{},modules:{},ops:[],wxs_nf_init:void 0,total_ops:0},__wxAppCode__=__wxAppCode__||{},__WARenderContextEndTime__=Date.now();"function"==typeof this.__wxLibrary.onEnd&&this.__wxLibrary.onEnd(),delete this.__wxLibrary;